const _0x487f42=_0x4191;(function(_0x31f8fa,_0x4160da){const _0x2e2509=_0x4191,_0x33232e=_0x31f8fa();while(!![]){try{const _0x1f1afc=-parseInt(_0x2e2509(0x7c1))/0x1*(-parseInt(_0x2e2509(0x31a))/0x2)+parseInt(_0x2e2509(0xce8))/0x3+-parseInt(_0x2e2509(0x834))/0x4+-parseInt(_0x2e2509(0x678))/0x5+-parseInt(_0x2e2509(0x8b3))/0x6+parseInt(_0x2e2509(0xc3e))/0x7+parseInt(_0x2e2509(0xd89))/0x8*(parseInt(_0x2e2509(0xd0b))/0x9);if(_0x1f1afc===_0x4160da)break;else _0x33232e['push'](_0x33232e['shift']());}catch(_0x1b3fb0){_0x33232e['push'](_0x33232e['shift']());}}}(_0x49b7,0x3a4be));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x487f42(0xb90),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x487f42(0xb90),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x487f42(0xb90),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x53a5d2=_0x487f42;if(_0x53a5d2(0x63c)in navigator)try{wakeLock=await navigator[_0x53a5d2(0x63c)]['request'](_0x53a5d2(0x7e1)),console[_0x53a5d2(0x681)](_0x53a5d2(0x8b5)),wakeLock['addEventListener']('release',()=>{const _0x42e33b=_0x53a5d2;console[_0x42e33b(0x681)](_0x42e33b(0xc9d));});}catch(_0x22a4fc){console[_0x53a5d2(0x81d)](_0x53a5d2(0x677)+_0x22a4fc['name']+',\x20'+_0x22a4fc[_0x53a5d2(0xc94)]);}else console[_0x53a5d2(0x615)](_0x53a5d2(0x774));},releaseWakeLock=async()=>{wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console['log']('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x1b19a0=_0x487f42;if(!document[_0x1b19a0(0x4f1)][_0x1b19a0(0xad3)][_0x1b19a0(0x560)](_0x1b19a0(0x8cc))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x4894ed=_0x1b19a0;document['body'][_0x4894ed(0xad3)]['add'](_0x4894ed(0x8cc)),console['log'](_0x4894ed(0x410));},inactivityTime);}}function wakeUpScreen(_0x4355d6){const _0xd284b0=_0x487f42;_0x4355d6&&(_0x4355d6[_0xd284b0(0x6db)](),_0x4355d6[_0xd284b0(0xd6b)]());document['body'][_0xd284b0(0xad3)][_0xd284b0(0x432)](_0xd284b0(0x8cc));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0xcba1ce=_0xd284b0;document['body']['classList']['add'](_0xcba1ce(0x8cc));},inactivityTime);}function stopDimTimer(){const _0x58d018=_0x487f42;if(dimTimer)clearTimeout(dimTimer);document['body']['classList'][_0x58d018(0x432)](_0x58d018(0x8cc)),window[_0x58d018(0x636)]('mousemove',resetDimTimer),window[_0x58d018(0x636)](_0x58d018(0xa3c),resetDimTimer),window['removeEventListener'](_0x58d018(0x912),resetDimTimer),window['removeEventListener'](_0x58d018(0x48c),resetDimTimer),console[_0x58d018(0x681)](_0x58d018(0xaad));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x255af0,_0x360fda=![]){const _0x358df2=_0x487f42,_0x2c97da=allQuizzes[_0x358df2(0x8d2)](_0x50b295=>_0x50b295['id']===_0x255af0)||allQuizzesGlobal['find'](_0x5e8102=>_0x5e8102['id']===_0x255af0);if(!_0x2c97da){showMessage(_0x358df2(0x397));return;}currentQuizData=getShuffledQuiz(_0x2c97da);const _0x36edcb=Math[_0x358df2(0xce5)](0x3e8+Math[_0x358df2(0x303)]()*0x2328)[_0x358df2(0xc03)]();try{const _0x455e42=await addDoc(collection(db,_0x358df2(0x5c6)+appId+_0x358df2(0xd1a)),{'quizId':_0x2c97da['id'],'projectId':_0x2c97da[_0x358df2(0x84e)],'status':_0x358df2(0x841),'pin':_0x36edcb,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x360fda});currentTeamQuizId=_0x455e42['id'],showView(_0x358df2(0x5a0)),renderAdminTeamQuizDashboard(_0x36edcb,_0x2c97da[_0x358df2(0xc30)]),listenForTeamQuizUpdates();}catch(_0x4e83be){console[_0x358df2(0x81d)](_0x358df2(0x776),_0x4e83be),showMessage(_0x358df2(0x484));}}function renderAdminTeamQuizDashboard(_0x36a187,_0x203467,_0x9541e0=_0x487f42(0xba9)){const _0x66da2c=_0x487f42,_0x131bb0=_0x9541e0===_0x66da2c(0x396)?_0x66da2c(0x418):'Team\x20Quiz';liveGameView[_0x66da2c(0x843)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>'+_0x131bb0+':\x20'+_0x203467+_0x66da2c(0x669)+_0x36a187+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x66da2c(0x40a)](_0x66da2c(0x5cd))[_0x66da2c(0x7d4)](_0x66da2c(0x859),async()=>{const _0x237276=_0x66da2c;showConfirmation(_0x237276(0xc0d),async()=>{const _0x2cd0d7=_0x237276;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x2cd0d7(0x5c6)+appId+_0x2cd0d7(0xd1a),currentTeamQuizId)),showView(_0x2cd0d7(0x347));});});}function listenForTeamQuizUpdates(){const _0x35425a=_0x487f42;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x4983d5=doc(db,_0x35425a(0x5c6)+appId+_0x35425a(0xd1a),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x4983d5,_0xc8ed9b=>{const _0x766a7f=_0x35425a;if(!_0xc8ed9b[_0x766a7f(0xd6a)]()){sessionStorage['removeItem'](_0x766a7f(0xabf));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x766a7f(0x73c));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x766a7f(0x347)):showView(_0x766a7f(0x309));return;}const _0x16ca42=_0xc8ed9b[_0x766a7f(0x225)]();if(currentMode===_0x766a7f(0x56d)){if(_0x16ca42['mode']==='group'&&_0x16ca42[_0x766a7f(0xade)]!=='podium'&&_0x16ca42[_0x766a7f(0xade)]!=='finished'){const _0x258922=Object[_0x766a7f(0xafb)](_0x16ca42['groups']||{});if(_0x258922['length']>0x0){const _0x177200=_0x258922[_0x766a7f(0x8f0)](_0x5b79c8=>_0x5b79c8[_0x766a7f(0xd53)]===!![]);_0x177200&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x16ca42);}else{if(_0x16ca42[_0x766a7f(0xade)]===_0x766a7f(0x54d)||_0x16ca42[_0x766a7f(0xade)]===_0x766a7f(0x940)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x16ca42[_0x766a7f(0x969)]==='group'){const _0xf096e2=_0x16ca42['groups'][userId];(!_0xf096e2||!_0xf096e2['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x1a76fd){const _0x434252=_0x487f42;console[_0x434252(0x681)](_0x434252(0x44d));const _0x4e178a=doc(db,_0x434252(0x5c6)+appId+_0x434252(0xd1a),_0x1a76fd);try{const _0x26e86d=await getDoc(_0x4e178a);if(_0x26e86d[_0x434252(0xd6a)]()){const _0x1e84dd=_0x26e86d[_0x434252(0x225)]();_0x1e84dd['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0x1e84dd);}await updateDoc(_0x4e178a,{'status':'podium'});}catch(_0x25673a){console[_0x434252(0x81d)](_0x434252(0x952),_0x25673a);}}function updateAdminTeamDashboard(_0x353a2e){const _0x362057=_0x487f42,_0x5724c0=document[_0x362057(0x40a)](_0x362057(0x4c1));if(!_0x5724c0)return;const _0x36087c=_0x353a2e[_0x362057(0x969)]||_0x362057(0xba9),_0x76bfee=currentQuizData[_0x362057(0x726)][_0x362057(0xaf2)];if(_0x36087c===_0x362057(0x396)){const _0x6d672=Object[_0x362057(0xafb)](_0x353a2e[_0x362057(0x3db)]||{});if(_0x6d672[_0x362057(0xaf2)]===0x0){_0x5724c0[_0x362057(0x843)]=_0x362057(0x923);return;}const _0x475166=[..._0x6d672]['sort']((_0x10e54d,_0x45cd6d)=>_0x45cd6d['score']-_0x10e54d[_0x362057(0xb7c)]),_0x2710fb=_0x475166[_0x362057(0x71d)]((_0x15f51d,_0x4b26ab)=>{const _0x34683d=_0x362057,_0x181820=_0x15f51d[_0x34683d(0xb73)]?.['length']||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x4b26ab+0x1)+_0x34683d(0x755)+_0x15f51d[_0x34683d(0xce4)][_0x34683d(0xb00)](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0x181820+'/'+_0x76bfee+_0x34683d(0x24a)+_0x15f51d[_0x34683d(0xb7c)]+_0x34683d(0x938);})[_0x362057(0xb00)](''),_0x5d614e=currentQuizData['questions'][_0x362057(0x71d)]((_0xf6e1e3,_0x166bdf)=>{const _0x4ad3bb=_0x362057;let _0x5e37fd=0x0,_0x3a48ea=0x0;_0x6d672['forEach'](_0x289ed0=>{const _0x10506c=_0x4191,_0x3d59f6=_0x289ed0[_0x10506c(0xb73)]?.[_0x10506c(0x8d2)](_0x4e1c31=>_0x4e1c31[_0x10506c(0x790)]===_0x166bdf);if(_0x3d59f6){_0x3a48ea++;if(_0x3d59f6[_0x10506c(0x28e)])_0x5e37fd++;}});const _0x237edc=_0x3a48ea>0x0&&_0x3a48ea===_0x6d672['length'],_0x169df5=_0x237edc?_0x4ad3bb(0x381):_0x4ad3bb(0x481),_0x115b2d=_0x237edc?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';return'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x169df5+_0x4ad3bb(0x83f)+(_0x166bdf+0x1)+_0x4ad3bb(0x9f2)+_0x115b2d+'</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20'+_0x5e37fd+'/'+_0x6d672['length']+_0x4ad3bb(0xba4);})[_0x362057(0xb00)]('');_0x5724c0[_0x362057(0x843)]=_0x362057(0xd68)+_0x2710fb+_0x362057(0xcdc)+_0x5d614e+_0x362057(0x88f);return;}const _0x1f3d35=_0x353a2e[_0x362057(0xadc)]||{},_0x248944=Object['keys'](_0x1f3d35);if(_0x248944['length']===0x0){_0x5724c0['innerHTML']='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>';return;}const _0x49edd1=_0x248944[_0x362057(0x71d)](_0x4ef1e5=>({'name':_0x4ef1e5,'score':_0x1f3d35[_0x4ef1e5][_0x362057(0xb7c)]||0x0}))[_0x362057(0x9ff)]((_0x1d26d5,_0x4bb873)=>_0x4bb873[_0x362057(0xb7c)]-_0x1d26d5['score']),_0x4d46be=_0x49edd1[_0x362057(0x71d)](_0x16da8d=>{const _0x432033=_0x362057,_0x2e6f79=_0x1f3d35[_0x16da8d[_0x432033(0x408)]]?.[_0x432033(0xb73)]?.[_0x432033(0xaf2)]||0x0,_0x53d2ac=Math['ceil'](_0x76bfee/_0x248944[_0x432033(0xaf2)]);return _0x432033(0x80c)+_0x16da8d[_0x432033(0x408)]+_0x432033(0xa32)+_0x2e6f79+'/'+_0x53d2ac+_0x432033(0x3e7)+_0x16da8d['score']+'\x20คะแนน</span></div>';})[_0x362057(0xb00)](''),_0x53f729=_0x248944[_0x362057(0x209)]((_0xe246fc,_0x347310)=>_0xe246fc+(_0x1f3d35[_0x347310]['answers']?.[_0x362057(0xaf2)]||0x0),0x0),_0x3505c9=currentQuizData[_0x362057(0x726)][_0x362057(0x71d)]((_0x5a4e82,_0x100668)=>{const _0x4ac4e9=_0x362057;let _0x4f84f2=null,_0x327198=null;for(const _0x3b2fb1 of _0x248944){const _0xd4fad6=_0x1f3d35[_0x3b2fb1][_0x4ac4e9(0xb73)]?.['find'](_0x37e20f=>_0x37e20f[_0x4ac4e9(0x790)]===_0x100668);if(_0xd4fad6){_0x4f84f2=_0xd4fad6,_0x327198=_0x3b2fb1;break;}}const _0x3005a8=!!_0x4f84f2,_0x3a499a=_0x3005a8&&_0x4f84f2[_0x4ac4e9(0x28e)],_0x3dc2b6=(Math[_0x4ac4e9(0xce5)](_0x100668/_0x248944[_0x4ac4e9(0xaf2)])+0x1)*_0x248944[_0x4ac4e9(0xaf2)],_0x4e8966=_0x53f729>=_0x3dc2b6,_0x55ab64=_0x4e8966?_0x4ac4e9(0xa28):_0x4ac4e9(0x481),_0x2a0288=_0x4e8966?_0x4ac4e9(0xbea):'';let _0x295256=_0x4ac4e9(0xb27);return _0x3005a8&&(_0x295256=_0x327198+_0x4ac4e9(0x66d)+(_0x3a499a?_0x4ac4e9(0x348):_0x4ac4e9(0x9e7))),_0x4ac4e9(0xd0a)+_0x55ab64+_0x4ac4e9(0x83f)+(_0x100668+0x1)+':</span><span>'+_0x2a0288+_0x4ac4e9(0xcd9)+_0x295256+'</p></div>';})[_0x362057(0xb00)]('');_0x5724c0['innerHTML']=_0x362057(0x329)+_0x4d46be+_0x362057(0x3c2)+_0x3505c9+_0x362057(0x88f);}async function handleJoinTeamQuiz(){const _0x4a594a=_0x487f42,_0x12f7fa=prompt('กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):');if(!_0x12f7fa||_0x12f7fa['trim']()['length']!==0x4){showMessage(_0x4a594a(0x6b5));return;}try{const _0x324b57=collection(db,_0x4a594a(0x5c6)+appId+'/public/data/teamQuizzes'),_0x371b92=query(_0x324b57,where('pin','==',_0x12f7fa[_0x4a594a(0x1fb)]()),where(_0x4a594a(0xade),'==',_0x4a594a(0x841))),_0x4d8587=await getDocs(_0x371b92);if(_0x4d8587[_0x4a594a(0x78a)]){showMessage(_0x4a594a(0x9cc));return;}const _0x1044f8=_0x4d8587[_0x4a594a(0xb2e)][0x0];currentTeamQuizId=_0x1044f8['id'];const _0x2e6faf=_0x1044f8['data'](),_0xd4811d=doc(db,_0x4a594a(0x5c6)+appId+'/public/data/projects',_0x2e6faf['projectId']),_0x17cde0=doc(db,'artifacts/'+appId+_0x4a594a(0x7ac),_0x2e6faf[_0x4a594a(0x4f2)]),[_0x6e463c,_0x116a2e]=await Promise['all']([getDoc(_0xd4811d),getDoc(_0x17cde0)]);if(!_0x6e463c[_0x4a594a(0xd6a)]()||!_0x116a2e[_0x4a594a(0xd6a)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x116a2e['id'],..._0x116a2e['data']()});const _0x1f4878=_0x6e463c['data']();showTeamPlayerSelection(_0x1f4878['students'],currentQuizData[_0x4a594a(0xc30)]);}catch(_0x4a881a){console[_0x4a594a(0x81d)](_0x4a594a(0x91b),_0x4a881a),showMessage(_0x4a594a(0x888)+_0x4a881a['message']);}}async function handleJoinGroupActivity(){const _0x2b95e3=_0x487f42,_0x1b3c64=prompt(_0x2b95e3(0x9ec));if(!_0x1b3c64||_0x1b3c64[_0x2b95e3(0x1fb)]()[_0x2b95e3(0xaf2)]!==0x4){showMessage(_0x2b95e3(0xd45));return;}const _0x3c1ea0=_0x1b3c64['trim']();showMessage(_0x2b95e3(0xb06));try{const _0x123aa7=collection(db,_0x2b95e3(0x5c6)+appId+'/public/data/teamQuizzes'),_0x317810=query(_0x123aa7,where(_0x2b95e3(0xcbb),'==',_0x3c1ea0),where(_0x2b95e3(0xade),'==',_0x2b95e3(0x841))),_0x5ea918=await getDocs(_0x317810);if(!_0x5ea918[_0x2b95e3(0x78a)]){console[_0x2b95e3(0x681)](_0x2b95e3(0x77d)),await proceedWithTeamQuizJoin(_0x5ea918[_0x2b95e3(0xb2e)][0x0]);return;}const _0x39232e=collection(db,'artifacts/'+appId+_0x2b95e3(0x314)),_0x779b5e=query(_0x39232e,where('pin','==',_0x3c1ea0),where('status','==',_0x2b95e3(0x841))),_0x21f344=await getDocs(_0x779b5e);if(!_0x21f344[_0x2b95e3(0x78a)]){console[_0x2b95e3(0x681)]('พบ\x20Sync\x20Game!'),await proceedWithSyncQuizJoin(_0x21f344['docs'][0x0]);return;}showMessage(_0x2b95e3(0xaf7));}catch(_0x2ebe6f){console['error']('Error\x20joining\x20activity:',_0x2ebe6f),showMessage(_0x2b95e3(0x20f)+_0x2ebe6f['message']);}}async function proceedWithTeamQuizJoin(_0xfaab65){const _0x5bc100=_0x487f42;currentTeamQuizId=_0xfaab65['id'];const _0x31f8ca=_0xfaab65[_0x5bc100(0x225)](),_0x40df37=doc(db,_0x5bc100(0x5c6)+appId+_0x5bc100(0x248),_0x31f8ca['projectId']),_0x31ebcc=doc(db,_0x5bc100(0x5c6)+appId+'/public/data/quizzes',_0x31f8ca[_0x5bc100(0x4f2)]),[_0x1feaef,_0x43d081]=await Promise['all']([getDoc(_0x40df37),getDoc(_0x31ebcc)]);if(!_0x1feaef['exists']()||!_0x43d081['exists']())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x43d081['id'],..._0x43d081[_0x5bc100(0x225)]()}),showTeamPlayerSelection(_0x1feaef['data']()[_0x5bc100(0xbe8)],currentQuizData['topic'],_0x31f8ca['mode']||_0x5bc100(0xba9)),messageModal[_0x5bc100(0xad3)][_0x5bc100(0xa6b)](_0x5bc100(0xc0c));}async function proceedWithSyncQuizJoin(_0x14c8cd){const _0x23e7b2=_0x487f42;currentLiveGameId=_0x14c8cd['id'];const _0x2bb7e0=_0x14c8cd[_0x23e7b2(0x225)](),_0x305554=doc(db,_0x23e7b2(0x5c6)+appId+_0x23e7b2(0x7ac),_0x2bb7e0['quizId']),_0x27b56a=await getDoc(_0x305554);if(!_0x27b56a['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x20bb80=_0x27b56a['data'](),_0x5a1149=doc(db,_0x23e7b2(0x5c6)+appId+_0x23e7b2(0x248),_0x20bb80[_0x23e7b2(0x84e)]),_0x4d48b4=await getDoc(_0x5a1149);if(!_0x4d48b4[_0x23e7b2(0xd6a)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x2bb7e0[_0x23e7b2(0x2a2)],showView(_0x23e7b2(0xd03)),showTeamPlayerSelection(_0x4d48b4['data']()[_0x23e7b2(0xbe8)],_0x20bb80[_0x23e7b2(0xc30)],_0x23e7b2(0xbe1)),document[_0x23e7b2(0x40a)]('confirm-team-players-btn')['onclick']=confirmAndJoinSyncGame,messageModal[_0x23e7b2(0xad3)][_0x23e7b2(0xa6b)](_0x23e7b2(0xc0c));}function getCleanApplicationHTML(){const _0x148516=_0x487f42,_0x568d2b=document[_0x148516(0x40a)](_0x148516(0xacb));if(!_0x568d2b)return'';const _0x4868a9=_0x568d2b['cloneNode'](!![]);return _0x4868a9['querySelectorAll'](_0x148516(0x8ee))[_0x148516(0xa40)](_0x15e87d=>{const _0x8c2ba3=_0x148516;_0x15e87d[_0x8c2ba3(0xad3)][_0x8c2ba3(0x432)]('correct',_0x8c2ba3(0x7c0)),_0x15e87d[_0x8c2ba3(0x4c2)]=![];}),_0x4868a9['innerHTML'];}function showTeamPlayerSelection(_0x409363,_0x4fe8dc,_0x1afd8e='team'){const _0x2ae377=_0x487f42;studentInitialView['classList']['add'](_0x2ae377(0xc0c)),studentJoinGameView[_0x2ae377(0xad3)]['add'](_0x2ae377(0xc0c)),document[_0x2ae377(0x40a)](_0x2ae377(0xa1a))[_0x2ae377(0xad3)]['remove'](_0x2ae377(0xc0c));let _0x37e1c0='Team\x20Quiz';if(_0x1afd8e==='group')_0x37e1c0='Group\x20Mode';else _0x1afd8e==='sync'&&(_0x37e1c0=_0x2ae377(0xc0b));document[_0x2ae377(0x40a)]('team-quiz-topic')['textContent']=_0x37e1c0+':\x20'+_0x4fe8dc;const _0x5bfa0c=document[_0x2ae377(0x40a)](_0x2ae377(0xd4f));if(!_0x409363||_0x409363[_0x2ae377(0xaf2)]===0x0){_0x5bfa0c[_0x2ae377(0x843)]=_0x2ae377(0x422),document['getElementById'](_0x2ae377(0xb0d))['disabled']=!![];return;}_0x5bfa0c[_0x2ae377(0x843)]=_0x409363[_0x2ae377(0x71d)](_0x55b6e5=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x55b6e5+_0x2ae377(0x79f)+_0x55b6e5+_0x2ae377(0xa78))[_0x2ae377(0xb00)](''),document[_0x2ae377(0x40a)](_0x2ae377(0xb0d))[_0x2ae377(0x4c2)]=![];}async function confirmAndStartTeamQuiz(){const _0x39c236=_0x487f42,_0x36c457=Array[_0x39c236(0x445)](document[_0x39c236(0x93e)](_0x39c236(0xd7c)))[_0x39c236(0x71d)](_0x2d2490=>_0x2d2490['value']);if(_0x36c457[_0x39c236(0xaf2)]===0x0){showMessage(_0x39c236(0x3f3));return;}localTeamPlayers=_0x36c457,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x28699e=doc(db,'artifacts/'+appId+_0x39c236(0xd1a),currentTeamQuizId);try{const _0x769a25=await getDoc(_0x28699e);if(!_0x769a25['exists']())throw new Error(_0x39c236(0xd74));const _0x3f1de0=_0x769a25[_0x39c236(0x225)]();if(_0x3f1de0[_0x39c236(0x969)]==='group'){const _0x533fd7={['groups.'+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x28699e,_0x533fd7);}else{const _0x241435=_0x3f1de0[_0x39c236(0xadc)]||{};localTeamPlayers[_0x39c236(0xa40)](_0x5b5ac4=>{!_0x241435[_0x5b5ac4]&&(_0x241435[_0x5b5ac4]={'score':0x0,'answers':[]});}),await updateDoc(_0x28699e,{'responses':_0x241435});}document['getElementById'](_0x39c236(0xa1a))['classList']['add'](_0x39c236(0xc0c)),renderTeamQuizQuestion();const _0x2e9912={'gameId':currentTeamQuizId,'mode':_0x3f1de0[_0x39c236(0x969)]||_0x39c236(0xba9),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x39c236(0x5ee)]('activeGameSession',JSON['stringify'](_0x2e9912)),listenForTeamQuizUpdates();}catch(_0x2d5a16){console[_0x39c236(0x81d)](_0x39c236(0x9e2),_0x2d5a16),showMessage(_0x39c236(0x650));}}async function renderTeamQuizQuestion(){const _0x3a0263=_0x487f42;if(localQuestionIndex>=currentQuizData['questions']['length']){displayTeamQuizFinalResults();return;}const _0x172e14=currentQuizData['questions'][localQuestionIndex],_0xd2aaf=localTeamPlayers[localPlayerIndex],_0x433e37=_0x172e14['questionType']||currentQuizData[_0x3a0263(0xc13)];let _0x59f942=_0x172e14[_0x3a0263(0x593)]||_0x172e14[_0x3a0263(0x467)],_0x2ba6d5='';switch(_0x433e37){case _0x3a0263(0xd14):case _0x3a0263(0x59f):_0x2ba6d5=_0x172e14[_0x3a0263(0x614)][_0x3a0263(0x71d)]((_0x50e7c8,_0x3a9ea0)=>_0x3a0263(0x538)+_0x3a9ea0+_0x3a0263(0x425)+_0x3a9ea0+_0x3a0263(0x9a7)+_0x3a9ea0+'\x22>'+_0x50e7c8+'</label></div>')[_0x3a0263(0xb00)]('');break;case _0x3a0263(0x355):_0x2ba6d5=_0x3a0263(0xbdf);break;case _0x3a0263(0xa84):case _0x3a0263(0x855):_0x2ba6d5='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';break;case _0x3a0263(0x252):_0x2ba6d5='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x172e14['allResponses'][_0x3a0263(0x71d)](_0x374e2d=>'<option\x20value=\x22'+_0x374e2d+'\x22>'+_0x374e2d+_0x3a0263(0x343))[_0x3a0263(0xb00)]('')+'</select>';break;default:_0x2ba6d5=_0x3a0263(0x553);break;}studentQuizArea['innerHTML']=_0x3a0263(0x77b)+(localQuestionIndex+0x1)+_0x3a0263(0x60e)+currentQuizData[_0x3a0263(0x726)][_0x3a0263(0xaf2)]+_0x3a0263(0x545)+_0xd2aaf+_0x3a0263(0x4e3)+(localQuestionIndex+0x1)+'.\x20'+_0x59f942+_0x3a0263(0x241)+(_0x172e14['imageCode']?_0x3a0263(0xb1e)+_0x172e14[_0x3a0263(0x41c)]+'</div>':'')+_0x3a0263(0xcf5)+_0x2ba6d5+_0x3a0263(0x670),studentQuizArea[_0x3a0263(0xad3)][_0x3a0263(0x432)]('hidden');if(window['MathJax'])MathJax[_0x3a0263(0x8b2)]([studentQuizArea]);document[_0x3a0263(0x40a)]('submit-team-answer-btn')['addEventListener']('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x1cb4f5=_0x487f42,_0x5ebd70=currentQuizData[_0x1cb4f5(0x726)][localQuestionIndex],_0x10de89=_0x5ebd70[_0x1cb4f5(0x8c6)]||currentQuizData[_0x1cb4f5(0xc13)];let _0x16309e=null,_0x497de6=![];if(_0x10de89===_0x1cb4f5(0xa84)||_0x10de89==='fill_in_no_choices'){const _0x155c31=document[_0x1cb4f5(0xaef)]('textarea[name=\x22team_answer\x22]');if(!_0x155c31||!_0x155c31[_0x1cb4f5(0x6cb)][_0x1cb4f5(0x1fb)]()){showMessage(_0x1cb4f5(0x505));return;}_0x16309e=_0x155c31[_0x1cb4f5(0x6cb)][_0x1cb4f5(0x1fb)](),_0x497de6=await gradeShortAnswer(_0x16309e,_0x5ebd70);}else{const _0x153c07=document[_0x1cb4f5(0xaef)](_0x1cb4f5(0x3df));if(!_0x153c07||_0x153c07[_0x1cb4f5(0x6cb)]===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0x16309e=_0x153c07[_0x1cb4f5(0x6cb)];switch(_0x10de89){case _0x1cb4f5(0x355):_0x497de6=_0x16309e===_0x1cb4f5(0x35a)===_0x5ebd70[_0x1cb4f5(0x5cc)];break;case _0x1cb4f5(0x252):_0x497de6=_0x16309e===_0x5ebd70[_0x1cb4f5(0xb98)];break;default:_0x497de6=parseInt(_0x16309e)===_0x5ebd70[_0x1cb4f5(0xb6f)];break;}}const _0x21cdce={'questionIndex':localQuestionIndex,'isCorrect':_0x497de6},_0x4d841c=userId,_0x326196={['groups.'+_0x4d841c+_0x1cb4f5(0xcf0)]:arrayUnion(_0x21cdce)};_0x497de6&&(_0x326196[_0x1cb4f5(0xb97)+_0x4d841c+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x1cb4f5(0x5c6)+appId+_0x1cb4f5(0xd1a),currentTeamQuizId),_0x326196),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x1cb4f5(0x726)][_0x1cb4f5(0xaf2)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x366bb0){console['error']('Error\x20submitting\x20group\x20answer:',_0x366bb0),showMessage(_0x1cb4f5(0x242));}}async function handleTeamAnswerSubmit(){const _0x4412ef=_0x487f42,_0x119664=await getDoc(doc(db,_0x4412ef(0x5c6)+appId+_0x4412ef(0xd1a),currentTeamQuizId));if(!_0x119664[_0x4412ef(0xd6a)]())return;const _0x18cffe=_0x119664[_0x4412ef(0x225)]();if(_0x18cffe[_0x4412ef(0x969)]===_0x4412ef(0x396)){handleGroupAnswerSubmit();return;}const _0x4ea6a5=localTeamPlayers[localPlayerIndex],_0x5656f4=currentQuizData[_0x4412ef(0x726)][localQuestionIndex],_0x238715=_0x5656f4[_0x4412ef(0x8c6)]||currentQuizData[_0x4412ef(0xc13)];let _0x22293c=null,_0x52ac44=![];if(_0x238715===_0x4412ef(0xa84)||_0x238715==='fill_in_no_choices'){const _0x19e15a=document['querySelector'](_0x4412ef(0x45d));if(!_0x19e15a||!_0x19e15a[_0x4412ef(0x6cb)][_0x4412ef(0x1fb)]()){showMessage(_0x4412ef(0x597));return;}_0x22293c=_0x19e15a[_0x4412ef(0x6cb)][_0x4412ef(0x1fb)](),_0x52ac44=await gradeShortAnswer(_0x22293c,_0x5656f4);}else{const _0x4d095f=document[_0x4412ef(0xaef)](_0x4412ef(0x3df));if(!_0x4d095f||_0x4d095f['value']===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x22293c=_0x4d095f['value'];switch(_0x238715){case _0x4412ef(0x355):_0x52ac44=_0x22293c===_0x4412ef(0x35a)===_0x5656f4[_0x4412ef(0x5cc)];break;case _0x4412ef(0x252):_0x52ac44=_0x22293c===_0x5656f4[_0x4412ef(0xb98)];break;default:_0x52ac44=parseInt(_0x22293c)===_0x5656f4[_0x4412ef(0xb6f)];break;}}const _0x43a043={'questionIndex':localQuestionIndex,'isCorrect':_0x52ac44,'answerValue':_0x22293c},_0x220d6a={['responses.'+_0x4ea6a5+'.answers']:arrayUnion(_0x43a043)};_0x52ac44&&(_0x220d6a[_0x4412ef(0x4a4)+_0x4ea6a5+_0x4412ef(0x447)]=increment(0x1));try{await updateDoc(doc(db,_0x4412ef(0x5c6)+appId+_0x4412ef(0xd1a),currentTeamQuizId),_0x220d6a),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x4412ef(0xaf2)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x3681c3){console[_0x4412ef(0x81d)](_0x4412ef(0xd70),_0x3681c3),showMessage(_0x4412ef(0x242));}}async function displayTeamQuizFinalResults(){const _0x145de9=_0x487f42;studentQuizArea[_0x145de9(0xad3)]['add'](_0x145de9(0xc0c)),studentResultArea[_0x145de9(0xad3)]['remove'](_0x145de9(0xc0c));const _0x5b76a0=doc(db,_0x145de9(0x5c6)+appId+_0x145de9(0xd1a),currentTeamQuizId),_0x11c792=await getDoc(_0x5b76a0);if(!_0x11c792['exists']()){studentResultArea[_0x145de9(0x843)]=_0x145de9(0x288);return;}const _0x14704d=_0x11c792[_0x145de9(0x225)]();let _0x598304=[];const _0x2f53a4=_0x14704d[_0x145de9(0x969)]||_0x145de9(0xba9);if(_0x2f53a4===_0x145de9(0x396)){const _0x2899ee=_0x14704d[_0x145de9(0x3db)][userId];_0x2899ee?_0x598304=[{'name':'กลุ่ม:\x20'+localTeamPlayers[_0x145de9(0xb00)](',\x20'),'score':_0x2899ee[_0x145de9(0xb7c)]||0x0}]:_0x598304=[{'name':_0x145de9(0x9df),'score':'N/A'}];}else _0x598304=localTeamPlayers['map'](_0x5b4698=>({'name':_0x5b4698,'score':_0x14704d[_0x145de9(0xadc)][_0x5b4698]?.[_0x145de9(0xb7c)]||0x0}))[_0x145de9(0x9ff)]((_0x1169be,_0x267866)=>_0x267866[_0x145de9(0xb7c)]-_0x1169be[_0x145de9(0xb7c)]);studentResultArea[_0x145de9(0x843)]=_0x145de9(0x99b)+_0x598304[_0x145de9(0x71d)](_0x545162=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x545162['name']+_0x145de9(0x43e)+_0x545162['score']+_0x145de9(0xd3f))[_0x145de9(0xb00)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage['removeItem'](_0x145de9(0xabf)),currentMode==='admin'&&currentTeamQuizId&&setTimeout(()=>{const _0x428394=_0x145de9;deleteDoc(doc(db,_0x428394(0x5c6)+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x487f42(0x6ab),'pinnedProjects':[],'projectView':_0x487f42(0x520)};const allMathTopics=[{'category':_0x487f42(0x795),'name':_0x487f42(0xa80)},{'category':_0x487f42(0x795),'name':_0x487f42(0x6a8)},{'category':_0x487f42(0x795),'name':_0x487f42(0xd06)},{'category':'จำนวนและการดำเนินการ','name':_0x487f42(0x5b4)},{'category':'จำนวนและการดำเนินการ','name':_0x487f42(0x921)},{'category':_0x487f42(0x795),'name':'การลบ'},{'category':'จำนวนและการดำเนินการ','name':'การคูณ'},{'category':_0x487f42(0x795),'name':_0x487f42(0x237)},{'category':_0x487f42(0x795),'name':_0x487f42(0x281)},{'category':_0x487f42(0x795),'name':_0x487f42(0x734)},{'category':'จำนวนและการดำเนินการ','name':_0x487f42(0xd12)},{'category':'จำนวนและการดำเนินการ','name':'ค่าสัมบูรณ์'},{'category':_0x487f42(0x795),'name':_0x487f42(0x81e)},{'category':_0x487f42(0x795),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x487f42(0x795),'name':'ห.ร.ม.\x20(GCD)'},{'category':'จำนวนและการดำเนินการ','name':_0x487f42(0x4a2)},{'category':_0x487f42(0x795),'name':_0x487f42(0x865)},{'category':'จำนวนและการดำเนินการ','name':_0x487f42(0x212)},{'category':_0x487f42(0x795),'name':_0x487f42(0x416)},{'category':_0x487f42(0x795),'name':_0x487f42(0xc28)},{'category':_0x487f42(0x795),'name':'การลบเศษส่วน'},{'category':_0x487f42(0x795),'name':'การคูณเศษส่วน'},{'category':_0x487f42(0x795),'name':_0x487f42(0xd6f)},{'category':_0x487f42(0x795),'name':'จำนวนคละ'},{'category':_0x487f42(0x795),'name':_0x487f42(0xc82)},{'category':_0x487f42(0x795),'name':_0x487f42(0x8bf)},{'category':'จำนวนและการดำเนินการ','name':_0x487f42(0x775)},{'category':'จำนวนและการดำเนินการ','name':_0x487f42(0x20d)},{'category':_0x487f42(0x795),'name':_0x487f42(0x287)},{'category':_0x487f42(0x795),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':_0x487f42(0x7ad)},{'category':_0x487f42(0x795),'name':_0x487f42(0x985)},{'category':_0x487f42(0x795),'name':_0x487f42(0xd8d)},{'category':_0x487f42(0x795),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x487f42(0x795),'name':_0x487f42(0x68b)},{'category':_0x487f42(0x795),'name':'รูปสแควร์รูท\x20(surd)'},{'category':'จำนวนและการดำเนินการ','name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x487f42(0x48a),'name':_0x487f42(0xb86)},{'category':'การวัด','name':_0x487f42(0x403)},{'category':'การวัด','name':_0x487f42(0xabc)},{'category':_0x487f42(0x48a),'name':_0x487f42(0x8ae)},{'category':_0x487f42(0x48a),'name':_0x487f42(0x4de)},{'category':_0x487f42(0x48a),'name':_0x487f42(0xd46)},{'category':'การวัด','name':_0x487f42(0x958)},{'category':_0x487f42(0x48a),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x487f42(0x48a),'name':_0x487f42(0x9a3)},{'category':_0x487f42(0x48a),'name':_0x487f42(0x5e7)},{'category':_0x487f42(0x48a),'name':_0x487f42(0x26e)},{'category':_0x487f42(0x48a),'name':_0x487f42(0x36f)},{'category':_0x487f42(0x48a),'name':_0x487f42(0x214)},{'category':'การวัด','name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x487f42(0x8b8),'name':_0x487f42(0x5ac)},{'category':_0x487f42(0x8b8),'name':_0x487f42(0x7de)},{'category':_0x487f42(0x8b8),'name':_0x487f42(0x92d)},{'category':_0x487f42(0x8b8),'name':_0x487f42(0x377)},{'category':_0x487f42(0x8b8),'name':_0x487f42(0x57b)},{'category':'เรขาคณิต','name':_0x487f42(0x45e)},{'category':'เรขาคณิต','name':_0x487f42(0x2aa)},{'category':_0x487f42(0x8b8),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':'เรขาคณิต','name':_0x487f42(0x890)},{'category':_0x487f42(0x8b8),'name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':'เรขาคณิต','name':_0x487f42(0x518)},{'category':'เรขาคณิต','name':_0x487f42(0x8e1)},{'category':_0x487f42(0x8b8),'name':'สมมาตร\x20(แกน/จุด)'},{'category':'เรขาคณิต','name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':'เรขาคณิต','name':_0x487f42(0x587)},{'category':_0x487f42(0xa0d),'name':'ตัวแปรและนิพจน์'},{'category':'พีชคณิตและฟังก์ชัน','name':'การกระจายและการจัดหมู่'},{'category':_0x487f42(0xa0d),'name':_0x487f42(0xc42)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x487f42(0x9bc)},{'category':_0x487f42(0xa0d),'name':_0x487f42(0x4c5)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x487f42(0x3f5)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x487f42(0xbaa)},{'category':_0x487f42(0xa0d),'name':_0x487f42(0x506)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x487f42(0x7dd)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x487f42(0x28c)},{'category':_0x487f42(0xa0d),'name':_0x487f42(0x3e4)},{'category':_0x487f42(0xa0d),'name':_0x487f42(0x914)},{'category':_0x487f42(0xa0d),'name':_0x487f42(0xa77)},{'category':_0x487f42(0xa0d),'name':_0x487f42(0xc3f)},{'category':_0x487f42(0xa0d),'name':_0x487f42(0xc58)},{'category':'พีชคณิตและฟังก์ชัน','name':'ระบบอสมการ'},{'category':_0x487f42(0xa0d),'name':_0x487f42(0x771)},{'category':_0x487f42(0xa0d),'name':_0x487f42(0x53e)},{'category':_0x487f42(0xa0d),'name':_0x487f42(0x4c6)},{'category':_0x487f42(0xa0d),'name':_0x487f42(0x66f)},{'category':_0x487f42(0xa0d),'name':_0x487f42(0xbd9)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x487f42(0xa0d),'name':_0x487f42(0x48d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x487f42(0xbae)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x487f42(0x2cd)},{'category':_0x487f42(0xa0d),'name':_0x487f42(0x528)},{'category':_0x487f42(0xa0d),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':_0x487f42(0xa0d),'name':_0x487f42(0xb91)},{'category':_0x487f42(0xa0d),'name':_0x487f42(0x9ad)},{'category':_0x487f42(0xa0d),'name':_0x487f42(0x71e)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x487f42(0x5d6)},{'category':'พีชคณิตและฟังก์ชัน','name':'ลำดับเรขาคณิต\x20(GP)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x487f42(0x850)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x487f42(0xb15)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x487f42(0x9ca)},{'category':'เรขาคณิตวิเคราะห์','name':_0x487f42(0x4b9)},{'category':_0x487f42(0x313),'name':_0x487f42(0x649)},{'category':_0x487f42(0x313),'name':_0x487f42(0xc6d)},{'category':_0x487f42(0x313),'name':_0x487f42(0x62e)},{'category':_0x487f42(0x313),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x487f42(0x313),'name':_0x487f42(0xa8d)},{'category':_0x487f42(0x313),'name':_0x487f42(0x98d)},{'category':_0x487f42(0x313),'name':_0x487f42(0xd61)},{'category':_0x487f42(0x313),'name':_0x487f42(0xc62)},{'category':'ตรีโกณมิติ','name':_0x487f42(0x475)},{'category':_0x487f42(0x562),'name':_0x487f42(0x713)},{'category':'ตรีโกณมิติ','name':_0x487f42(0xad4)},{'category':_0x487f42(0x562),'name':'เรเดียนและการแปลงหน่วย'},{'category':_0x487f42(0x562),'name':_0x487f42(0x2f7)},{'category':_0x487f42(0x562),'name':_0x487f42(0xcc5)},{'category':_0x487f42(0x562),'name':_0x487f42(0x945)},{'category':_0x487f42(0x562),'name':_0x487f42(0x8a5)},{'category':'ตรีโกณมิติ','name':_0x487f42(0x3c3)},{'category':'ตรีโกณมิติ','name':_0x487f42(0x512)},{'category':_0x487f42(0x562),'name':_0x487f42(0xc0f)},{'category':_0x487f42(0xa87),'name':_0x487f42(0x714)},{'category':_0x487f42(0xa87),'name':'การจัดกลุ่มข้อมูล'},{'category':_0x487f42(0xa87),'name':_0x487f42(0x941)},{'category':_0x487f42(0xa87),'name':_0x487f42(0x2e0)},{'category':'สถิติและความน่าจะเป็น','name':_0x487f42(0xbf0)},{'category':_0x487f42(0xa87),'name':_0x487f42(0x2eb)},{'category':_0x487f42(0xa87),'name':_0x487f42(0x49b)},{'category':_0x487f42(0xa87),'name':_0x487f42(0x456)},{'category':_0x487f42(0xa87),'name':'ฐานนิยม'},{'category':_0x487f42(0xa87),'name':_0x487f42(0xb46)},{'category':_0x487f42(0xa87),'name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x487f42(0xa87),'name':_0x487f42(0x406)},{'category':_0x487f42(0xa87),'name':_0x487f42(0x839)},{'category':_0x487f42(0xa87),'name':'การแจกแจงปกติและ\x20z-score'},{'category':_0x487f42(0xa87),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':'สถิติและความน่าจะเป็น','name':_0x487f42(0xab3)},{'category':_0x487f42(0xa87),'name':_0x487f42(0x813)},{'category':_0x487f42(0xa87),'name':'แผนภาพเวนน์'},{'category':_0x487f42(0xa87),'name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':'สถิติและความน่าจะเป็น','name':'ความเป็นอิสระของเหตุการณ์'},{'category':'สถิติและความน่าจะเป็น','name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x487f42(0xa87),'name':'การจัดหมู่\x20(Combination)'},{'category':_0x487f42(0xa87),'name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':_0x487f42(0xa87),'name':_0x487f42(0xcd0)},{'category':_0x487f42(0xa4c),'name':_0x487f42(0xa7c)},{'category':_0x487f42(0xa4c),'name':_0x487f42(0xc3d)},{'category':'แคลคูลัสเบื้องต้น','name':_0x487f42(0x84f)},{'category':_0x487f42(0xa4c),'name':_0x487f42(0x831)},{'category':_0x487f42(0xa4c),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':'แคลคูลัสเบื้องต้น','name':_0x487f42(0x53d)},{'category':_0x487f42(0xa4c),'name':_0x487f42(0x2b3)},{'category':_0x487f42(0xa4c),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':'แคลคูลัสเบื้องต้น','name':'ปริพันธ์ไม่จำกัด'},{'category':_0x487f42(0xa4c),'name':_0x487f42(0x2cc)},{'category':'แคลคูลัสเบื้องต้น','name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x487f42(0xa4c),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0x487f42(0x808),'name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x487f42(0xc9a)},{'category':_0x487f42(0x808),'name':_0x487f42(0x5e6)},{'category':_0x487f42(0x808),'name':_0x487f42(0x998)},{'category':_0x487f42(0x808),'name':_0x487f42(0x971)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'ดีเทอร์มิแนนต์'},{'category':_0x487f42(0x808),'name':_0x487f42(0xbfe)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x487f42(0x610)},{'category':_0x487f42(0xd16),'name':_0x487f42(0x2fa)},{'category':_0x487f42(0xd16),'name':_0x487f42(0x8d1)},{'category':_0x487f42(0xd16),'name':'ค่าเสื่อมราคา'},{'category':_0x487f42(0xd16),'name':_0x487f42(0xc07)},{'category':_0x487f42(0xd8c),'name':_0x487f42(0x4d2)},{'category':_0x487f42(0xd8c),'name':'รูปแบบการให้เหตุผล'},{'category':_0x487f42(0xd8c),'name':_0x487f42(0x44b)}];function renderTopicCheckboxes(){const _0x4d548f=_0x487f42,_0x13e3f8=document[_0x4d548f(0x40a)](_0x4d548f(0x37e));if(!_0x13e3f8)return;const _0x4715e5=allMathTopics,_0x21dbbb=customMathTopics[_0x4d548f(0x71d)](_0x1c538c=>({'id':_0x1c538c['id'],'category':'หัวข้อที่สร้างเอง','name':_0x1c538c[_0x4d548f(0x408)]})),_0x4f7cd4=[..._0x4715e5,..._0x21dbbb],_0x34dd7a=_0x4f7cd4['reduce']((_0x22b8a4,_0x45c7fe)=>{const _0x17e5ec=_0x4d548f;return!_0x22b8a4[_0x45c7fe['category']]&&(_0x22b8a4[_0x45c7fe[_0x17e5ec(0x66b)]]=[]),_0x22b8a4[_0x45c7fe[_0x17e5ec(0x66b)]]['push'](_0x45c7fe),_0x22b8a4;},{});let _0x5c69c0='';const _0x4750bb=['หัวข้อที่สร้างเอง',...Object[_0x4d548f(0xaf6)](_0x34dd7a)['filter'](_0x10d421=>_0x10d421!=='หัวข้อที่สร้างเอง')];for(const _0x5693c8 of _0x4750bb){if(_0x34dd7a[_0x5693c8]){const _0xde3067=_0x5693c8==='หัวข้อที่สร้างเอง',_0x10dc01=_0xde3067?_0x4d548f(0x743):'fas\x20fa-bookmark',_0x25dad1=_0xde3067?_0x4d548f(0x2c6):_0x4d548f(0xb9f);_0x5c69c0+=_0x4d548f(0x3b4),_0x5c69c0+=_0x4d548f(0x692)+_0x25dad1+_0x4d548f(0x970)+_0x10dc01+_0x4d548f(0x974)+_0x5693c8+_0x4d548f(0x6c7),_0x34dd7a[_0x5693c8][_0x4d548f(0xa40)](_0x2a5de9=>{const _0xa580d3=_0x4d548f,_0x519f5c=!!_0x2a5de9['id'],_0x39461a=_0x519f5c?_0xa580d3(0x925)+_0x2a5de9['id']+_0xa580d3(0xd33)+_0x2a5de9['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2a5de9['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2a5de9['id']+_0xa580d3(0x55f):'';_0x5c69c0+=_0xa580d3(0x75d)+(_0x2a5de9['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x2a5de9[_0xa580d3(0x408)]+_0xa580d3(0x5e3)+_0x2a5de9[_0xa580d3(0x408)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x519f5c?_0xa580d3(0x354)+_0x2a5de9[_0xa580d3(0x408)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x39461a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5c69c0+='</div>';}}_0x13e3f8['innerHTML']=_0x5c69c0||_0x4d548f(0x541),_0x13e3f8[_0x4d548f(0x636)](_0x4d548f(0x84a),updateSelectedTopicsCount),_0x13e3f8[_0x4d548f(0x7d4)](_0x4d548f(0x84a),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x14a7e9,_0x245e60){const _0x1477af=_0x487f42;if(!_0x14a7e9||!_0x245e60[_0x1477af(0x1fb)]()){showMessage(_0x1477af(0xcce));return;}try{const _0x3df311=doc(db,_0x1477af(0x5c6)+appId+_0x1477af(0x4e6),_0x14a7e9);await updateDoc(_0x3df311,{'name':_0x245e60[_0x1477af(0x1fb)]()}),showMessage(_0x1477af(0xa21));}catch(_0x2efec4){console[_0x1477af(0x81d)](_0x1477af(0x894),_0x2efec4),showMessage(_0x1477af(0x801));}}function toggleTopicEditMode(_0x1734eb,_0x21a87b){const _0x4e484f=_0x487f42;if(!_0x1734eb)return;const _0x30e7e6=_0x1734eb[_0x4e484f(0xaef)]('.topic-name-display'),_0x56bb4e=_0x1734eb[_0x4e484f(0xaef)]('.topic-name-input'),_0x110b71=_0x1734eb[_0x4e484f(0xaef)](_0x4e484f(0x97d)),_0x488cc8=_0x1734eb[_0x4e484f(0xaef)](_0x4e484f(0x7a2));_0x30e7e6['classList'][_0x4e484f(0xcc1)]('hidden',_0x21a87b),_0x56bb4e['classList'][_0x4e484f(0xcc1)]('hidden',!_0x21a87b),_0x110b71[_0x4e484f(0xad3)][_0x4e484f(0xcc1)](_0x4e484f(0xc0c),_0x21a87b),_0x488cc8['classList'][_0x4e484f(0xcc1)](_0x4e484f(0xc0c),!_0x21a87b),_0x21a87b&&(_0x56bb4e[_0x4e484f(0xbc3)](),_0x56bb4e[_0x4e484f(0x7f1)]());}async function handleStartLiveRace(_0x5a50ca){const _0x2d4ad2=_0x487f42;let _0x379334=allQuizzes[_0x2d4ad2(0x8d2)](_0x505e1d=>_0x505e1d['id']===_0x5a50ca);if(!_0x379334){const _0x2e4b0e=doc(db,_0x2d4ad2(0x5c6)+appId+_0x2d4ad2(0x7ac),_0x5a50ca),_0x17f246=await getDoc(_0x2e4b0e);if(!_0x17f246[_0x2d4ad2(0xd6a)]()){showMessage(_0x2d4ad2(0x397));return;}_0x379334={'id':_0x17f246['id'],..._0x17f246[_0x2d4ad2(0x225)]()};}const _0x4040e1=getShuffledQuiz(_0x379334);currentQuizData=_0x4040e1;const _0x35ebd1=_0x379334[_0x2d4ad2(0x84e)]||currentProjectId||null,_0x2ca2ef=Math['floor'](0x3e8+Math[_0x2d4ad2(0x303)]()*0x2328)[_0x2d4ad2(0xc03)]();currentLiveGamePin=_0x2ca2ef;try{const _0x145513=await addDoc(collection(db,'artifacts/'+appId+_0x2d4ad2(0xa0c)),{'quizId':_0x5a50ca,'projectId':_0x35ebd1,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x2ca2ef,'createdAt':serverTimestamp(),'shuffledQuiz':_0x4040e1});currentLiveGameId=_0x145513['id'],showAdminLobbyView(_0x2ca2ef,_0x379334['topic']),listenForLiveGameUpdates();}catch(_0x52cd6b){console[_0x2d4ad2(0x81d)](_0x2d4ad2(0xb44),_0x52cd6b),showMessage(_0x2d4ad2(0x37b));}}function updateSelectedTopicsCount(){const _0x580cf5=_0x487f42,_0x484029=document[_0x580cf5(0x40a)](_0x580cf5(0x37e)),_0x4a5017=_0x484029[_0x580cf5(0x93e)](_0x580cf5(0x363))[_0x580cf5(0xaf2)],_0x1bb2b0=document[_0x580cf5(0x40a)]('selected-topics-count');_0x4a5017>0x0?_0x1bb2b0[_0x580cf5(0x642)]=_0x580cf5(0x6b6)+_0x4a5017+'\x20หัวข้อ)':_0x1bb2b0[_0x580cf5(0x642)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x487f42(0xbaf),quizLeaderboardSortOrder=_0x487f42(0x6e0),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x487f42(0xcf6),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x487f42(0x5b7),scratchpadPenColor='#000000',scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x1eac70,_0x5abde7){const _0x3e6061=_0x487f42;return Math[_0x3e6061(0xc52)](Math[_0x3e6061(0x9e0)](_0x1eac70['x']-_0x5abde7['x'],0x2)+Math['pow'](_0x1eac70['y']-_0x5abde7['y'],0x2));}function getMidpoint(_0x3675cc,_0x1035ae){return{'x':(_0x3675cc['x']+_0x1035ae['x'])/0x2,'y':(_0x3675cc['y']+_0x1035ae['y'])/0x2};}function getTransformedPoint(_0x16a735,_0x5dd208){return{'x':(_0x16a735-scratchpadOffset['x'])/scratchpadScale,'y':(_0x5dd208-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x5d8d21=_0x487f42;if(!scratchpadCtx)return;const _0xaeed59=scratchpadCtx[_0x5d8d21(0xa88)],_0x508bbf=window[_0x5d8d21(0xbf8)]||0x1,_0x5020eb=document[_0x5d8d21(0x40a)](_0x5d8d21(0x56b));_0x5020eb&&(_0x5020eb[_0x5d8d21(0x446)][_0x5d8d21(0x40e)]=_0x5d8d21(0x3da),_0x5020eb[_0x5d8d21(0x446)][_0x5d8d21(0x297)]=_0x5d8d21(0x3eb)+scratchpadOffset['x']+_0x5d8d21(0x953)+scratchpadOffset['y']+_0x5d8d21(0x46a)+scratchpadScale+')'),scratchpadCtx[_0x5d8d21(0x74f)](),scratchpadCtx[_0x5d8d21(0x4b4)](_0x508bbf,0x0,0x0,_0x508bbf,0x0,0x0),scratchpadCtx[_0x5d8d21(0xa4e)](0x0,0x0,_0xaeed59['width'],_0xaeed59['height']),scratchpadCtx[_0x5d8d21(0xd81)](),scratchpadCtx['save'](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x5d8d21(0x7c2)](scratchpadScale,scratchpadScale),strokes['forEach'](_0x37249f=>{drawStroke(_0x37249f);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function renderGroupModeQuestion(){const _0x4a9d34=_0x487f42;if(localQuestionIndex>=currentQuizData['questions'][_0x4a9d34(0xaf2)]){displayTeamQuizFinalResults();return;}const _0x1ec13f=currentQuizData['questions'][localQuestionIndex],_0x3c5ab8=_0x1ec13f['questionType']||currentQuizData['quizType'];let _0x31356d=_0x1ec13f['stem']||_0x1ec13f['questionText'],_0x4c5b14='';switch(_0x3c5ab8){case _0x4a9d34(0xd14):case _0x4a9d34(0x59f):_0x4c5b14=_0x1ec13f['options'][_0x4a9d34(0x71d)]((_0x2ecbc4,_0x32a833)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x32a833+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x32a833+_0x4a9d34(0x9a7)+_0x32a833+'\x22>'+_0x2ecbc4+_0x4a9d34(0x261))[_0x4a9d34(0xb00)]('');break;case _0x4a9d34(0x355):_0x4c5b14=_0x4a9d34(0xbdf);break;case'short_answer':case'fill_in_no_choices':_0x4c5b14=_0x4a9d34(0x9dd);break;case _0x4a9d34(0x252):_0x4c5b14=_0x4a9d34(0x5c8)+_0x1ec13f[_0x4a9d34(0x513)][_0x4a9d34(0x71d)](_0x564383=>_0x4a9d34(0x648)+_0x564383+'\x22>'+_0x564383+'</option>')['join']('')+'</select>';break;default:_0x4c5b14=_0x4a9d34(0x553);break;}studentQuizArea[_0x4a9d34(0x843)]=_0x4a9d34(0x77b)+(localQuestionIndex+0x1)+_0x4a9d34(0x60e)+currentQuizData[_0x4a9d34(0x726)][_0x4a9d34(0xaf2)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20'+localTeamPlayers[_0x4a9d34(0xb00)](',\x20')+_0x4a9d34(0x4e3)+(localQuestionIndex+0x1)+'.\x20'+_0x31356d+_0x4a9d34(0x241)+(_0x1ec13f[_0x4a9d34(0x41c)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1ec13f[_0x4a9d34(0x41c)]+_0x4a9d34(0xcc7):'')+_0x4a9d34(0xcf5)+_0x4c5b14+_0x4a9d34(0x458),studentQuizArea[_0x4a9d34(0xad3)]['remove'](_0x4a9d34(0xc0c));if(window[_0x4a9d34(0xcc0)])MathJax[_0x4a9d34(0x8b2)]([studentQuizArea]);document['getElementById'](_0x4a9d34(0x5af))[_0x4a9d34(0x7d4)](_0x4a9d34(0x859),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x2b6469,_0x3b133e=null,_0x143d5b,_0x2d00be=null,_0xdb9589=![],_0xebaa9d=null){const _0x53aec1=_0x487f42,_0x2229de=document[_0x53aec1(0x40a)](_0x53aec1(0x50c));_0x2229de&&_0x2229de[_0x53aec1(0x788)]({'behavior':_0x53aec1(0x4d8),'block':'center'}),generateQuiz(_0x2b6469,_0x3b133e,null,_0xebaa9d,!![],_0x143d5b,_0x2d00be,_0xdb9589);}function handleGenerateAndShowLesson(_0x29e896,_0x1510ea){const _0x2fd139=_0x487f42,_0x4f059d=document[_0x2fd139(0x40a)](_0x2fd139(0x7b9)),_0x32e5e5=document[_0x2fd139(0x40a)](_0x2fd139(0x994)),_0x422fae=document[_0x2fd139(0x40a)]('lesson-loader'),_0x4fdcfa=document['getElementById'](_0x2fd139(0xc53));[_0x2fd139(0xa20),_0x2fd139(0x665),'applicationContent',_0x2fd139(0x7f6)][_0x2fd139(0xa40)](_0x5d0d7c=>{const _0x33221f=_0x2fd139,_0x4d971d=document[_0x33221f(0x40a)](_0x5d0d7c)[_0x33221f(0xd00)];_0x4d971d&&(_0x4d971d[_0x33221f(0x446)][_0x33221f(0x224)]=_0x33221f(0x407));}),_0x32e5e5['textContent']=_0x2fd139(0x803)+_0x29e896,_0x4fdcfa[_0x2fd139(0xad3)][_0x2fd139(0xa6b)](_0x2fd139(0xc0c)),_0x422fae['classList']['remove'](_0x2fd139(0xc0c)),_0x4f059d[_0x2fd139(0xad3)][_0x2fd139(0x432)]('hidden'),generateLesson(_0x29e896,_0x1510ea)[_0x2fd139(0x35d)](_0x20c681=>{const _0x39a5c2=_0x2fd139;console['error'](_0x39a5c2(0xd79),_0x20c681),showMessage(_0x39a5c2(0xd65)),_0x4f059d[_0x39a5c2(0xad3)][_0x39a5c2(0xa6b)](_0x39a5c2(0xc0c));});}function handlePointerDown(_0x3ec090){const _0x150648=_0x487f42;_0x3ec090[_0x150648(0xd6b)]();const _0x27bd3f=scratchpadCtx['canvas'],_0x2a1a91=_0x27bd3f[_0x150648(0xc69)](),_0x2f6ec9=_0x3ec090[_0x150648(0x6b8)]||(_0x3ec090[_0x150648(0x7e0)]?_0x150648(0xc4d):_0x150648(0x86d));if(_0x2f6ec9===_0x150648(0x5b7)||_0x2f6ec9==='mouse'){if(_0x3ec090[_0x150648(0x6b8)]===_0x150648(0x86d)&&_0x3ec090['button']!==0x0){_0x3ec090[_0x150648(0x7b2)]===0x1&&(isMousePanning=!![],panStart={'x':_0x3ec090['clientX'],'y':_0x3ec090[_0x150648(0x341)]},_0x27bd3f[_0x150648(0x446)][_0x150648(0xb62)]=_0x150648(0x689));return;}activeTool===_0x150648(0xab6)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0xe73322=getTransformedPoint(_0x3ec090['clientX']-_0x2a1a91[_0x150648(0x47e)],_0x3ec090['clientY']-_0x2a1a91[_0x150648(0x8cf)]);let _0x17059d={'tool':activeTool,'points':[_0xe73322]};if(activeTool===_0x150648(0xbcf))_0x17059d[_0x150648(0xb64)]=scratchpadHighlighterColor,_0x17059d['size']=scratchpadHighlighterSize;else activeTool===_0x150648(0xab6)?(_0x17059d[_0x150648(0xb64)]=scratchpadPenColor,_0x17059d[_0x150648(0x2f4)]=scratchpadPenSize):(_0x17059d[_0x150648(0xb64)]=scratchpadPenColor,_0x17059d['size']=scratchpadPenSize);currentStroke=_0x17059d;}else _0x3ec090['touches']&&(_0x3ec090['touches']['length']===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x3ec090[_0x150648(0x7e0)][0x0][_0x150648(0xd52)],'y':_0x3ec090[_0x150648(0x7e0)][0x0][_0x150648(0x341)]},{'x':_0x3ec090[_0x150648(0x7e0)][0x1][_0x150648(0xd52)],'y':_0x3ec090[_0x150648(0x7e0)][0x1][_0x150648(0x341)]}),initialPinchDistance=getDistance({'x':_0x3ec090['touches'][0x0][_0x150648(0xd52)],'y':_0x3ec090['touches'][0x0][_0x150648(0x341)]},{'x':_0x3ec090[_0x150648(0x7e0)][0x1]['clientX'],'y':_0x3ec090[_0x150648(0x7e0)][0x1][_0x150648(0x341)]})));}function animateTrail(){const _0x16bfd2=_0x487f42,_0xc5bd70=Date[_0x16bfd2(0x875)]();let _0xbb8f11=![];for(let _0x31961a=strokes['length']-0x1;_0x31961a>=0x0;_0x31961a--){const _0x4dd9c2=strokes[_0x31961a];if(_0x4dd9c2['tool']===_0x16bfd2(0xab6)&&_0x4dd9c2[_0x16bfd2(0x965)]){const _0x2f28b5=_0xc5bd70-_0x4dd9c2[_0x16bfd2(0x965)];_0x2f28b5>=TRAIL_DURATION?strokes[_0x16bfd2(0x6f8)](_0x31961a,0x1):(_0x4dd9c2[_0x16bfd2(0x567)]=0x1-_0x2f28b5/TRAIL_DURATION,_0xbb8f11=!![]);}}redrawScratchpad(),_0xbb8f11?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x5d427f){const _0x405fb4=_0x487f42;if(!_0x5d427f||_0x5d427f[_0x405fb4(0xb28)][_0x405fb4(0xaf2)]<0x1)return;scratchpadCtx[_0x405fb4(0x74f)](),scratchpadCtx[_0x405fb4(0x5d2)]=_0x405fb4(0x830),scratchpadCtx[_0x405fb4(0x5b3)]=_0x405fb4(0x830);if(_0x5d427f[_0x405fb4(0x33f)]===_0x405fb4(0xab6)){const _0x212938=_0x5d427f[_0x405fb4(0x2f4)]/scratchpadScale;scratchpadCtx[_0x405fb4(0x36a)]=_0x5d427f[_0x405fb4(0x567)]??0x1,scratchpadCtx['shadowColor']=_0x405fb4(0x8b4),scratchpadCtx['shadowBlur']=_0x212938*0x3,scratchpadCtx[_0x405fb4(0x976)]='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x405fb4(0x91a)]=_0x212938*2.5,scratchpadCtx[_0x405fb4(0x9b0)](),scratchpadCtx[_0x405fb4(0xaea)](_0x5d427f[_0x405fb4(0xb28)][0x0]['x'],_0x5d427f['points'][0x0]['y']);for(let _0x39b816=0x1;_0x39b816<_0x5d427f[_0x405fb4(0xb28)][_0x405fb4(0xaf2)]-0x1;_0x39b816++){const _0x2f8b4c=getMidpoint(_0x5d427f[_0x405fb4(0xb28)][_0x39b816],_0x5d427f[_0x405fb4(0xb28)][_0x39b816+0x1]);scratchpadCtx[_0x405fb4(0x810)](_0x5d427f[_0x405fb4(0xb28)][_0x39b816]['x'],_0x5d427f[_0x405fb4(0xb28)][_0x39b816]['y'],_0x2f8b4c['x'],_0x2f8b4c['y']);}scratchpadCtx[_0x405fb4(0x9bb)](),scratchpadCtx['shadowColor']=_0x405fb4(0x78d),scratchpadCtx[_0x405fb4(0xbad)]=0x0,scratchpadCtx['strokeStyle']=_0x405fb4(0x4a5),scratchpadCtx['lineWidth']=_0x212938,scratchpadCtx[_0x405fb4(0x9bb)](),scratchpadCtx['closePath']();}else{if(_0x5d427f[_0x405fb4(0x33f)]===_0x405fb4(0xbcf)){scratchpadCtx['globalCompositeOperation']=_0x405fb4(0x95d),scratchpadCtx[_0x405fb4(0x976)]=_0x5d427f[_0x405fb4(0xb64)],scratchpadCtx[_0x405fb4(0x91a)]=_0x5d427f[_0x405fb4(0x2f4)],scratchpadCtx[_0x405fb4(0x9b0)](),scratchpadCtx[_0x405fb4(0xaea)](_0x5d427f[_0x405fb4(0xb28)][0x0]['x'],_0x5d427f['points'][0x0]['y']);for(let _0x2bb27d=0x1;_0x2bb27d<_0x5d427f[_0x405fb4(0xb28)][_0x405fb4(0xaf2)]-0x1;_0x2bb27d++){const _0x5b829f=getMidpoint(_0x5d427f[_0x405fb4(0xb28)][_0x2bb27d],_0x5d427f['points'][_0x2bb27d+0x1]);scratchpadCtx[_0x405fb4(0x810)](_0x5d427f['points'][_0x2bb27d]['x'],_0x5d427f['points'][_0x2bb27d]['y'],_0x5b829f['x'],_0x5b829f['y']);}scratchpadCtx[_0x405fb4(0x9bb)](),scratchpadCtx['closePath']();}else{scratchpadCtx[_0x405fb4(0x65b)]=_0x5d427f[_0x405fb4(0x33f)]===_0x405fb4(0x584)?_0x405fb4(0xaf1):_0x405fb4(0xd28),scratchpadCtx['strokeStyle']=_0x5d427f[_0x405fb4(0xb64)],scratchpadCtx['lineWidth']=_0x5d427f[_0x405fb4(0x2f4)],scratchpadCtx[_0x405fb4(0x9b0)](),scratchpadCtx[_0x405fb4(0xaea)](_0x5d427f[_0x405fb4(0xb28)][0x0]['x'],_0x5d427f[_0x405fb4(0xb28)][0x0]['y']);for(let _0x35f812=0x1;_0x35f812<_0x5d427f[_0x405fb4(0xb28)]['length']-0x1;_0x35f812++){const _0x120484=getMidpoint(_0x5d427f['points'][_0x35f812],_0x5d427f[_0x405fb4(0xb28)][_0x35f812+0x1]);scratchpadCtx[_0x405fb4(0x810)](_0x5d427f['points'][_0x35f812]['x'],_0x5d427f['points'][_0x35f812]['y'],_0x120484['x'],_0x120484['y']);}scratchpadCtx[_0x405fb4(0x9bb)](),scratchpadCtx[_0x405fb4(0x66e)]();}}scratchpadCtx[_0x405fb4(0xd81)]();}function handlePointerMove(_0x528741){const _0x18baa1=_0x487f42;_0x528741['preventDefault']();const _0x1f5486=scratchpadCtx[_0x18baa1(0xa88)],_0x49650e=_0x1f5486[_0x18baa1(0xc69)]();if(_0x528741['touches']){if(_0x528741['touches'][_0x18baa1(0xaf2)]===0x1&&isDrawingOnScratchpad){const _0x2b7068=getTransformedPoint(_0x528741['touches'][0x0][_0x18baa1(0xd52)]-_0x49650e[_0x18baa1(0x47e)],_0x528741['touches'][0x0][_0x18baa1(0x341)]-_0x49650e[_0x18baa1(0x8cf)]);currentStroke['points'][_0x18baa1(0x511)](_0x2b7068),redrawScratchpad();}else{if(_0x528741['touches']['length']===0x2&&isPanning){const _0x43ba5b=getDistance({'x':_0x528741['touches'][0x0][_0x18baa1(0xd52)],'y':_0x528741['touches'][0x0][_0x18baa1(0x341)]},{'x':_0x528741[_0x18baa1(0x7e0)][0x1][_0x18baa1(0xd52)],'y':_0x528741[_0x18baa1(0x7e0)][0x1][_0x18baa1(0x341)]}),_0x5b9d3b=getMidpoint({'x':_0x528741[_0x18baa1(0x7e0)][0x0][_0x18baa1(0xd52)],'y':_0x528741[_0x18baa1(0x7e0)][0x0]['clientY']},{'x':_0x528741['touches'][0x1][_0x18baa1(0xd52)],'y':_0x528741[_0x18baa1(0x7e0)][0x1][_0x18baa1(0x341)]}),_0x56e830=_0x43ba5b/ initialPinchDistance,_0x349dd5=Math[_0x18baa1(0xaaf)](Math[_0x18baa1(0x529)](scratchpadScale*_0x56e830,MIN_SCALE),MAX_SCALE),_0xf0a2f1=_0x5b9d3b['x']-panStart['x'],_0x15669e=_0x5b9d3b['y']-panStart['y'];scratchpadOffset['x']=_0x5b9d3b['x']-(_0x5b9d3b['x']-scratchpadOffset['x'])*(_0x349dd5/scratchpadScale),scratchpadOffset['y']=_0x5b9d3b['y']-(_0x5b9d3b['y']-scratchpadOffset['y'])*(_0x349dd5/scratchpadScale),scratchpadOffset['x']+=_0xf0a2f1,scratchpadOffset['y']+=_0x15669e,scratchpadScale=_0x349dd5,initialPinchDistance=_0x43ba5b,panStart=_0x5b9d3b,redrawScratchpad();}}}else{if(isMousePanning){const _0x58a005=_0x528741['clientX']-panStart['x'],_0x1e086b=_0x528741[_0x18baa1(0x341)]-panStart['y'];scratchpadOffset['x']+=_0x58a005,scratchpadOffset['y']+=_0x1e086b,panStart={'x':_0x528741['clientX'],'y':_0x528741[_0x18baa1(0x341)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x217d26=getTransformedPoint(_0x528741[_0x18baa1(0xd52)]-_0x49650e[_0x18baa1(0x47e)],_0x528741[_0x18baa1(0x341)]-_0x49650e[_0x18baa1(0x8cf)]);currentStroke[_0x18baa1(0xb28)]['push'](_0x217d26),redrawScratchpad();}}}}function handlePointerUp(_0x1002f7){const _0x448e3b=_0x487f42;_0x1002f7['preventDefault']();const _0x2251a3=scratchpadCtx[_0x448e3b(0xa88)];isMousePanning&&(isMousePanning=![],_0x2251a3['style']['cursor']='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x448e3b(0xb28)][_0x448e3b(0xaf2)]>0x1&&(strokes[_0x448e3b(0x511)](currentStroke),currentStroke['tool']===_0x448e3b(0xab6)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x2e453b=_0x448e3b,_0x308c6f=strokes['filter'](_0x33f65c=>_0x33f65c[_0x2e453b(0x33f)]===_0x2e453b(0xab6)&&!_0x33f65c[_0x2e453b(0x965)]);if(_0x308c6f[_0x2e453b(0xaf2)]>0x0){const _0x4ca309=Date[_0x2e453b(0x875)]();_0x308c6f['forEach'](_0x5ea7f8=>_0x5ea7f8[_0x2e453b(0x965)]=_0x4ca309),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x2ad63a){const _0x2dfe12=_0x487f42;_0x2ad63a['preventDefault']();const _0x256e75=_0x2ad63a[_0x2dfe12(0xb58)]*-0.005,_0x1228cf=Math[_0x2dfe12(0xaaf)](Math[_0x2dfe12(0x529)](scratchpadScale+_0x256e75,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x2ad63a[_0x2dfe12(0xd52)]-(_0x2ad63a[_0x2dfe12(0xd52)]-scratchpadOffset['x'])*(_0x1228cf/scratchpadScale),scratchpadOffset['y']=_0x2ad63a[_0x2dfe12(0x341)]-(_0x2ad63a[_0x2dfe12(0x341)]-scratchpadOffset['y'])*(_0x1228cf/scratchpadScale),scratchpadScale=_0x1228cf,redrawScratchpad();}function undo(){const _0x26798d=_0x487f42;strokes[_0x26798d(0xaf2)]>0x0&&(redoStrokes['push'](strokes[_0x26798d(0x4b8)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){redoStrokes['length']>0x0&&(strokes['push'](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x292c0d=_0x487f42;document['getElementById']('undo-btn')[_0x292c0d(0x4c2)]=strokes['length']===0x0,document[_0x292c0d(0x40a)](_0x292c0d(0x8f7))[_0x292c0d(0x4c2)]=redoStrokes[_0x292c0d(0xaf2)]===0x0;}function openScratchpad(_0x36cf27,_0x4758f7){const _0x2c807d=_0x487f42,_0x49deef=document[_0x2c807d(0x40a)](_0x2c807d(0x22c)),_0x1d30db=document[_0x2c807d(0x40a)](_0x2c807d(0xa9e)),_0x459876=document['getElementById'](_0x2c807d(0xb29)),_0x978bbc=document[_0x2c807d(0x40a)]('scratchpad-controls');_0x1d30db[_0x2c807d(0x843)]=_0x36cf27['stem']||_0x36cf27[_0x2c807d(0x467)],_0x459876['innerHTML']=_0x4758f7[_0x2c807d(0x71d)]((_0x575777,_0x147435)=>_0x2c807d(0xc56)+String[_0x2c807d(0xd1d)](0x41+_0x147435)+'.\x20'+_0x575777+_0x2c807d(0xcc7))[_0x2c807d(0xb00)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x49deef[_0x2c807d(0xad3)][_0x2c807d(0x432)](_0x2c807d(0xc0c)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x2c807d(0xcc0)])MathJax[_0x2c807d(0x8b2)]([_0x1d30db,_0x459876]);}function openBlueprintQuizSettings(){const _0x4691d4=_0x487f42,_0x37b4ef=document[_0x4691d4(0x40a)](_0x4691d4(0x34f)),_0x557e3d=blueprintPageSettings||(currentProjectData?currentProjectData['settings']:{})||{};document['getElementById'](_0x4691d4(0x6d7))[_0x4691d4(0x6cb)]=_0x557e3d['quizType']||document[_0x4691d4(0x40a)]('quiz-type-select')[_0x4691d4(0x6cb)],document[_0x4691d4(0x40a)](_0x4691d4(0x80b))['innerHTML']=document[_0x4691d4(0x40a)](_0x4691d4(0xcd2))['innerHTML'],document[_0x4691d4(0x40a)](_0x4691d4(0x80b))[_0x4691d4(0x6cb)]=_0x557e3d[_0x4691d4(0x6e3)]||document[_0x4691d4(0x40a)](_0x4691d4(0xcd2))[_0x4691d4(0x6cb)],document[_0x4691d4(0x40a)](_0x4691d4(0xb74))[_0x4691d4(0x843)]=document[_0x4691d4(0x40a)](_0x4691d4(0x31f))['innerHTML'],document['getElementById']('bp-modal-question-complexity-select')['value']=_0x557e3d[_0x4691d4(0x9f1)]||document[_0x4691d4(0x40a)](_0x4691d4(0x31f))[_0x4691d4(0x6cb)],document[_0x4691d4(0x40a)](_0x4691d4(0xb7e))[_0x4691d4(0x6cb)]=_0x557e3d['numQuestions']||document[_0x4691d4(0x40a)](_0x4691d4(0xced))[_0x4691d4(0x6cb)],document[_0x4691d4(0x40a)](_0x4691d4(0x9aa))[_0x4691d4(0x6cb)]=_0x557e3d['passingScore']||document[_0x4691d4(0x40a)](_0x4691d4(0x8a6))[_0x4691d4(0x6cb)],document[_0x4691d4(0x40a)](_0x4691d4(0x956))[_0x4691d4(0x6cb)]=_0x557e3d[_0x4691d4(0x1f9)]||document['getElementById'](_0x4691d4(0x331))[_0x4691d4(0x6cb)],document[_0x4691d4(0x40a)](_0x4691d4(0xd18))['value']=_0x557e3d[_0x4691d4(0xa8c)]||document['getElementById']('shuffle-setting-select')[_0x4691d4(0x6cb)],document[_0x4691d4(0x40a)]('bp-modal-include-images-checkbox')[_0x4691d4(0x6f6)]=_0x557e3d[_0x4691d4(0x896)]||document[_0x4691d4(0x40a)](_0x4691d4(0xb24))[_0x4691d4(0x6f6)],_0x37b4ef[_0x4691d4(0xad3)][_0x4691d4(0x432)](_0x4691d4(0xc0c));}function handleSaveBlueprintPageSettings(){const _0x2552fd=_0x487f42;blueprintPageSettings={'quizType':document[_0x2552fd(0x40a)](_0x2552fd(0x6d7))[_0x2552fd(0x6cb)],'difficultyValue':document['getElementById'](_0x2552fd(0x80b))[_0x2552fd(0x6cb)],'complexityValue':document[_0x2552fd(0x40a)](_0x2552fd(0xb74))['value'],'numQuestions':document[_0x2552fd(0x40a)](_0x2552fd(0xb7e))[_0x2552fd(0x6cb)],'passingScore':document[_0x2552fd(0x40a)](_0x2552fd(0x9aa))[_0x2552fd(0x6cb)],'numChoices':document['getElementById'](_0x2552fd(0x956))[_0x2552fd(0x6cb)],'shuffle':document[_0x2552fd(0x40a)](_0x2552fd(0xd18))[_0x2552fd(0x6cb)],'includeImages':document[_0x2552fd(0x40a)]('bp-modal-include-images-checkbox')['checked']},showMessage(_0x2552fd(0x9e3)),document['getElementById'](_0x2552fd(0x34f))[_0x2552fd(0xad3)][_0x2552fd(0xa6b)](_0x2552fd(0xc0c));}function listenForParallelTestShortcuts(){const _0x184331=_0x487f42,_0x559f2c=doc(db,_0x184331(0x440),_0x184331(0x302));onSnapshot(_0x559f2c,_0x45b989=>{const _0x3a90f9=_0x184331;let _0x447ac9=[],_0x49d47f=[],_0x455f9e={};if(_0x45b989['exists']()){const _0x1c1f85=_0x45b989[_0x3a90f9(0x225)]();_0x447ac9=_0x1c1f85[_0x3a90f9(0xad6)]||[],_0x49d47f=_0x1c1f85[_0x3a90f9(0x75a)]||[],_0x455f9e=_0x1c1f85[_0x3a90f9(0x5b8)]||{};}!_0x49d47f[_0x3a90f9(0x8d2)](_0x5659ed=>_0x5659ed['id']===_0x3a90f9(0xb90))&&_0x49d47f[_0x3a90f9(0x6b2)]({'id':'all','name':_0x3a90f9(0x995),'isDefault':!![]}),!_0x447ac9[_0x3a90f9(0x8d2)](_0xda3bff=>_0xda3bff['id']===_0x3a90f9(0x62b))&&_0x447ac9['unshift']({'id':_0x3a90f9(0x62b),'name':'ต้นฉบับ\x201','url':'','isDefault':!![]}),!_0x447ac9['find'](_0x5af822=>_0x5af822['id']===_0x3a90f9(0x773))&&_0x447ac9[_0x3a90f9(0x6b2)]({'id':_0x3a90f9(0x773),'name':_0x3a90f9(0xc49),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x447ac9,parallelShortcutTabs=_0x49d47f,parallelShortcutOrder=_0x455f9e,renderParallelTestShortcuts(),!document[_0x3a90f9(0x40a)](_0x3a90f9(0x443))['classList']['contains'](_0x3a90f9(0xc0c))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x3ca3fd=_0x487f42,_0x46b709=doc(db,'globalSettings',_0x3ca3fd(0x302));try{await setDoc(_0x46b709,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x252845){console['error'](_0x3ca3fd(0x5fb),_0x252845);}}function renderAdditionalParallelShortcutsModal(){const _0x4171a7=_0x487f42,_0x33e77e=document['getElementById'](_0x4171a7(0x2c7)),_0x5ea942=document[_0x4171a7(0x40a)](_0x4171a7(0xd4c));if(!_0x33e77e||!_0x5ea942)return;_0x33e77e[_0x4171a7(0x843)]=parallelShortcutTabs[_0x4171a7(0x71d)](_0x5c120c=>{const _0x1be4d8=_0x4171a7,_0x409bb5=_0x5c120c['id']===activeParallelShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x5c120c['id']+_0x1be4d8(0x71f)+(_0x409bb5?_0x1be4d8(0x32c):_0x1be4d8(0x551))+_0x1be4d8(0xbe3)+_0x5c120c[_0x1be4d8(0x408)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x5c120c[_0x1be4d8(0x408)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x5c120c['isDefault']?_0x1be4d8(0x4ae)+_0x5c120c['id']+_0x1be4d8(0xc8f):'')+_0x1be4d8(0x88e);})[_0x4171a7(0xb00)]('');const _0x54f85a=parallelShortcutTabs[_0x4171a7(0x8d2)](_0x57a9df=>_0x57a9df['id']===activeParallelShortcutTabId);let _0x4c1503=_0x54f85a?.[_0x4171a7(0xac0)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x4171a7(0x24b)](_0x5649f3=>(_0x54f85a?.['shortcutIds']||[])[_0x4171a7(0x2a9)](_0x5649f3['id']));const _0x42ca9f=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x4c1503['sort']((_0x13828e,_0x30773e)=>{const _0x1bc50c=_0x4171a7,_0x4e7e85=_0x42ca9f[_0x1bc50c(0xb4d)](_0x13828e['id']),_0x5a3c1c=_0x42ca9f[_0x1bc50c(0xb4d)](_0x30773e['id']);return(_0x4e7e85===-0x1?Infinity:_0x4e7e85)-(_0x5a3c1c===-0x1?Infinity:_0x5a3c1c);}),_0x5ea942[_0x4171a7(0x843)]=_0x4c1503[_0x4171a7(0x71d)](_0x191bd3=>{const _0x41f44b=_0x4171a7,_0x58f0d4=_0x191bd3[_0x41f44b(0x69b)]?'🔁':'🔗',_0x64ac8b=parallelShortcutTabs['filter'](_0x463d67=>!_0x463d67[_0x41f44b(0xac0)]),_0x39de99=_0x54f85a['isDefault']&&_0x64ac8b['length']>0x0?_0x41f44b(0x323)+_0x64ac8b[_0x41f44b(0x71d)](_0xb00aaa=>_0x41f44b(0x51f)+_0x191bd3['id']+_0x41f44b(0xb65)+_0xb00aaa['id']+'\x22>'+_0xb00aaa['name']+_0x41f44b(0xc00))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return _0x41f44b(0x5d5)+_0x191bd3['id']+_0x41f44b(0xba6)+_0x58f0d4+'\x20'+_0x191bd3[_0x41f44b(0x408)]+_0x41f44b(0x30b)+_0x191bd3['id']+_0x41f44b(0x1f1)+_0x191bd3['id']+_0x41f44b(0x526)+(!_0x191bd3['isDefault']?'<button\x20data-id=\x22'+_0x191bd3['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x54f85a[_0x41f44b(0xac0)]?'<button\x20data-shortcut-id=\x22'+_0x191bd3['id']+_0x41f44b(0xd91):'')+_0x41f44b(0x7f4)+_0x39de99+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x4171a7(0xb00)]('')||_0x4171a7(0xccf),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x1405cc=_0x487f42;document[_0x1405cc(0x93e)](_0x1405cc(0x4fa))[_0x1405cc(0xa40)](_0x56c6f9=>{const _0x56b896=_0x1405cc;_0x56c6f9[_0x56b896(0x569)]=_0x1865f3=>{const _0x293c37=_0x56b896;activeParallelShortcutTabId=_0x1865f3[_0x293c37(0x340)][_0x293c37(0x48f)][_0x293c37(0x8f3)],renderAdditionalParallelShortcutsModal();},_0x56c6f9[_0x56b896(0x9bd)]=_0x315cc3=>{const _0x32add9=_0x56b896,_0x34a88f=_0x315cc3[_0x32add9(0x340)][_0x32add9(0xaef)](_0x32add9(0x962));_0x315cc3[_0x32add9(0x340)][_0x32add9(0xaef)](_0x32add9(0xce9))[_0x32add9(0xad3)][_0x32add9(0xa6b)](_0x32add9(0xc0c)),_0x34a88f['classList'][_0x32add9(0x432)](_0x32add9(0xc0c)),_0x34a88f[_0x32add9(0xbc3)](),_0x34a88f[_0x32add9(0x7f1)]();};}),document[_0x1405cc(0x93e)](_0x1405cc(0x1f2))[_0x1405cc(0xa40)](_0x5823ff=>{const _0x2a5ad9=_0x1405cc,_0x33f0f5=()=>{const _0xa910ad=_0x4191,_0x5b354e=_0x5823ff[_0xa910ad(0xad9)](_0xa910ad(0x4fa))[_0xa910ad(0x48f)][_0xa910ad(0x8f3)],_0x46a244=parallelShortcutTabs[_0xa910ad(0x8d2)](_0x3b76c1=>_0x3b76c1['id']===_0x5b354e);_0x46a244&&(_0x46a244[_0xa910ad(0x408)]=_0x5823ff[_0xa910ad(0x6cb)][_0xa910ad(0x1fb)]()||_0x46a244[_0xa910ad(0x408)],saveParallelShortcutConfig());};_0x5823ff[_0x2a5ad9(0x31e)]=_0x33f0f5,_0x5823ff[_0x2a5ad9(0x81c)]=_0x240ea0=>{const _0x3fe69=_0x2a5ad9;if(_0x240ea0['key']===_0x3fe69(0x28f))_0x5823ff[_0x3fe69(0x62d)]();};}),document[_0x1405cc(0x93e)](_0x1405cc(0x4ce))[_0x1405cc(0xa40)](_0x230f24=>_0x230f24[_0x1405cc(0x569)]=_0x5ef279=>{const _0x17fdf7=_0x1405cc,_0x2953ba=_0x5ef279[_0x17fdf7(0x340)][_0x17fdf7(0x48f)]['tabId'];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x39e065=_0x17fdf7;parallelShortcutTabs=parallelShortcutTabs[_0x39e065(0x24b)](_0x33b873=>_0x33b873['id']!==_0x2953ba),delete parallelShortcutOrder[_0x2953ba];if(activeParallelShortcutTabId===_0x2953ba)activeParallelShortcutTabId=_0x39e065(0xb90);saveParallelShortcutConfig();});}),document[_0x1405cc(0x93e)](_0x1405cc(0xaca))[_0x1405cc(0xa40)](_0x5ccf0d=>_0x5ccf0d[_0x1405cc(0x569)]=_0x8a96ce=>{const _0x2d2b1f=_0x1405cc;_0x8a96ce[_0x2d2b1f(0xd6b)]();const {shortcutId:_0x51c196,targetTabId:_0x4e7f93}=_0x8a96ce[_0x2d2b1f(0x340)][_0x2d2b1f(0x48f)],_0x3d3c3b=parallelShortcutTabs[_0x2d2b1f(0x8d2)](_0x2fe0ea=>_0x2fe0ea['id']===_0x4e7f93);_0x3d3c3b&&!_0x3d3c3b['shortcutIds'][_0x2d2b1f(0x2a9)](_0x51c196)&&(_0x3d3c3b[_0x2d2b1f(0x3ed)]['push'](_0x51c196),saveParallelShortcutConfig());}),document[_0x1405cc(0x93e)](_0x1405cc(0x588))[_0x1405cc(0xa40)](_0x1ca6c2=>_0x1ca6c2[_0x1405cc(0x569)]=_0x163e85=>{const _0x38cb06=_0x1405cc,_0x568bd0=_0x163e85['currentTarget']['dataset'][_0x38cb06(0x586)],_0x4557db=parallelShortcutTabs[_0x38cb06(0x8d2)](_0x26c6b=>_0x26c6b['id']===activeParallelShortcutTabId);_0x4557db&&!_0x4557db[_0x38cb06(0xac0)]&&(_0x4557db[_0x38cb06(0x3ed)]=_0x4557db[_0x38cb06(0x3ed)][_0x38cb06(0x24b)](_0x2b456a=>_0x2b456a!==_0x568bd0),saveParallelShortcutConfig());}),document['querySelectorAll'](_0x1405cc(0xb0f))['forEach'](_0x2e393b=>_0x2e393b['onclick']=_0x450bab=>{const _0x2453dc=_0x1405cc;_0x450bab[_0x2453dc(0x6db)]();const _0x31b99f=_0x450bab[_0x2453dc(0x340)][_0x2453dc(0x272)];document[_0x2453dc(0x93e)](_0x2453dc(0xcd8))[_0x2453dc(0xa40)](_0xfcf731=>_0xfcf731['classList'][_0x2453dc(0xa6b)](_0x2453dc(0xc0c))),_0x31b99f[_0x2453dc(0xad3)][_0x2453dc(0x432)](_0x2453dc(0xc0c));});const _0x5ee143=document[_0x1405cc(0x40a)](_0x1405cc(0xd4c));let _0x5db3f2=null;_0x5ee143[_0x1405cc(0x898)]=_0x263da3=>{const _0x43bb19=_0x1405cc;_0x5db3f2=_0x263da3[_0x43bb19(0x5c1)][_0x43bb19(0xad9)](_0x43bb19(0x5dd));if(_0x5db3f2)setTimeout(()=>_0x5db3f2[_0x43bb19(0xad3)][_0x43bb19(0xa6b)]('opacity-50'),0x0);},_0x5ee143[_0x1405cc(0x58a)]=()=>{const _0x50f6c4=_0x1405cc;_0x5db3f2&&(_0x5db3f2[_0x50f6c4(0xad3)][_0x50f6c4(0x432)](_0x50f6c4(0x8e5)),_0x5db3f2=null);},_0x5ee143[_0x1405cc(0x837)]=_0x435532=>{const _0x25d190=_0x1405cc;_0x435532[_0x25d190(0xd6b)]();},_0x5ee143['ondrop']=_0x190a3e=>{const _0x53af57=_0x1405cc;_0x190a3e[_0x53af57(0xd6b)]();if(_0x5db3f2){const _0x383152=[..._0x5ee143[_0x53af57(0x93e)](_0x53af57(0xbac))][_0x53af57(0x209)]((_0x3e2d40,_0x5cb531)=>{const _0x5dd40f=_0x53af57,_0xb0ce27=_0x5cb531[_0x5dd40f(0xc69)](),_0x2aa869=_0x190a3e['clientY']-_0xb0ce27[_0x5dd40f(0x8cf)]-_0xb0ce27['height']/0x2;return _0x2aa869<0x0&&_0x2aa869>_0x3e2d40[_0x5dd40f(0x910)]?{'offset':_0x2aa869,'element':_0x5cb531}:_0x3e2d40;},{'offset':Number['NEGATIVE_INFINITY']})[_0x53af57(0xc2a)];_0x383152==null?_0x5ee143[_0x53af57(0x84d)](_0x5db3f2):_0x5ee143['insertBefore'](_0x5db3f2,_0x383152);const _0x52e24a=[..._0x5ee143[_0x53af57(0x93e)]('.shortcut-list-item')][_0x53af57(0x71d)](_0x62dcfd=>_0x62dcfd[_0x53af57(0x48f)]['shortcutId']);parallelShortcutOrder[activeParallelShortcutTabId]=_0x52e24a,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x4301c6=_0x487f42,_0x388078=prompt(_0x4301c6(0x497),_0x4301c6(0x246));_0x388078&&_0x388078[_0x4301c6(0x1fb)]()&&(parallelShortcutTabs[_0x4301c6(0x511)]({'id':_0x4301c6(0x400)+Date[_0x4301c6(0x875)](),'name':_0x388078[_0x4301c6(0x1fb)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x3caf1a=_0x487f42,_0xbbac23=document[_0x3caf1a(0x40a)](_0x3caf1a(0x653)),_0xc7f1b9=document[_0x3caf1a(0x40a)](_0x3caf1a(0xd4c)),_0x166908=document[_0x3caf1a(0x40a)](_0x3caf1a(0x9a8));if(_0x166908)_0x166908[_0x3caf1a(0xad3)]['add'](_0x3caf1a(0xc0c));if(!_0xbbac23||!_0xc7f1b9)return;const _0x163597=parallelTestShortcuts[_0x3caf1a(0x6a6)](0x0,0x4),_0x5c277b=parallelTestShortcuts[_0x3caf1a(0x6a6)](0x4);_0xbbac23[_0x3caf1a(0x843)]=_0x163597[_0x3caf1a(0x71d)](_0x558ca4=>{const _0x1698d3=_0x3caf1a,_0x1390c4=_0x558ca4[_0x1698d3(0x69b)]&&_0x558ca4['url'][_0x1698d3(0x1fb)]()!=='',_0x2985f4=_0x1390c4?_0x1698d3(0x5b1):'bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x34ccee=_0x1390c4?'🔁':'🔗',_0x159cab=!_0x558ca4['isDefault']?'<button\x20data-id=\x22'+_0x558ca4['id']+_0x1698d3(0x8d4):'';return _0x1698d3(0xc65)+_0x558ca4['id']+'\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x2985f4+_0x1698d3(0xd4b)+_0x34ccee+'\x20'+_0x558ca4[_0x1698d3(0x408)]+_0x1698d3(0x836)+_0x558ca4['id']+_0x1698d3(0xb1c)+_0x159cab+_0x1698d3(0xd5c);})['join'](''),_0x5c277b[_0x3caf1a(0xaf2)]>0x0&&(_0xbbac23['innerHTML']+=_0x3caf1a(0xc81)),_0x5c277b[_0x3caf1a(0xaf2)]>0x0?_0xc7f1b9['innerHTML']=_0x5c277b[_0x3caf1a(0x71d)](_0x446866=>_0x3caf1a(0x9c7)+(_0x446866[_0x3caf1a(0x69b)]?'🔁':'🔗')+'\x20'+_0x446866[_0x3caf1a(0x408)]+_0x3caf1a(0x980)+_0x446866['id']+_0x3caf1a(0x308)+_0x446866['id']+_0x3caf1a(0x430)+(!_0x446866['isDefault']?_0x3caf1a(0x68f)+_0x446866['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x3caf1a(0xbf3))[_0x3caf1a(0xb00)](''):_0xc7f1b9['innerHTML']=_0x3caf1a(0x787);}function openParallelTestShortcutEditor(_0x540dba=null){const _0x1c0d4c=_0x487f42,_0x3f161f=document[_0x1c0d4c(0x40a)](_0x1c0d4c(0x234)),_0x56214f=document[_0x1c0d4c(0x40a)](_0x1c0d4c(0x69c)),_0x24debb=document['getElementById'](_0x1c0d4c(0xd07)),_0x45e18d=document['getElementById'](_0x1c0d4c(0x7dc)),_0x2c87f5=document[_0x1c0d4c(0x40a)]('parallel-shortcut-url-input');if(_0x540dba){const _0x19246b=parallelTestShortcuts['find'](_0x5d99b0=>_0x5d99b0['id']===_0x540dba);if(!_0x19246b)return;_0x56214f['textContent']=_0x1c0d4c(0x3fa),_0x24debb[_0x1c0d4c(0x6cb)]=_0x19246b['id'],_0x45e18d[_0x1c0d4c(0x6cb)]=_0x19246b[_0x1c0d4c(0x408)],_0x2c87f5['value']=_0x19246b['url']||'';}else _0x56214f['textContent']=_0x1c0d4c(0x666),_0x24debb[_0x1c0d4c(0x6cb)]='',_0x45e18d['value']='',_0x2c87f5['value']='';_0x3f161f[_0x1c0d4c(0xad3)][_0x1c0d4c(0x432)](_0x1c0d4c(0xc0c));}async function saveParallelTestShortcutChanges(){const _0x8b5d04=_0x487f42,_0x2bbc5e=document[_0x8b5d04(0x40a)]('parallel-shortcut-id-input')[_0x8b5d04(0x6cb)],_0xec4e30=document[_0x8b5d04(0x40a)](_0x8b5d04(0x7dc))[_0x8b5d04(0x6cb)][_0x8b5d04(0x1fb)](),_0x47b92d=document[_0x8b5d04(0x40a)](_0x8b5d04(0x3f8))[_0x8b5d04(0x6cb)][_0x8b5d04(0x1fb)]();if(!_0xec4e30){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x3aacf6={'id':_0x2bbc5e||_0x8b5d04(0x661)+Date[_0x8b5d04(0x875)](),'name':_0xec4e30,'url':_0x47b92d,'isDefault':_0x2bbc5e[_0x8b5d04(0xd86)](_0x8b5d04(0xad8))};let _0x4edbdb;_0x2bbc5e?_0x4edbdb=parallelTestShortcuts[_0x8b5d04(0x71d)](_0x517412=>_0x517412['id']===_0x2bbc5e?_0x3aacf6:_0x517412):_0x4edbdb=[...parallelTestShortcuts,_0x3aacf6];try{const _0x3c92ac=doc(db,_0x8b5d04(0x440),'parallelTestShortcutsConfig');await setDoc(_0x3c92ac,{'shortcuts':_0x4edbdb},{'merge':!![]}),document['getElementById'](_0x8b5d04(0x234))[_0x8b5d04(0xad3)][_0x8b5d04(0xa6b)](_0x8b5d04(0xc0c));}catch(_0xa0e013){console['error'](_0x8b5d04(0xa5a),_0xa0e013),showMessage(_0x8b5d04(0xb3a));}}async function handleParallelTestShortcutClick(_0x58dad2){const _0x51ba28=_0x487f42,_0x43e32f=parallelTestShortcuts[_0x51ba28(0x8d2)](_0xb93ba8=>_0xb93ba8['id']===_0x58dad2);if(!_0x43e32f)return;if(!_0x43e32f[_0x51ba28(0x69b)]||_0x43e32f[_0x51ba28(0x69b)][_0x51ba28(0x1fb)]()===''){openParallelTestShortcutEditor(_0x58dad2);return;}const _0x10be66=document[_0x51ba28(0x40a)](_0x51ba28(0x61c)),_0x44301b=document[_0x51ba28(0x40a)](_0x51ba28(0x88d));document[_0x51ba28(0x40a)](_0x51ba28(0x50c))[_0x51ba28(0xad3)]['remove'](_0x51ba28(0xc0c)),document[_0x51ba28(0x40a)](_0x51ba28(0xcf7))[_0x51ba28(0x843)]='',_0x10be66['classList']['remove']('hidden'),_0x44301b[_0x51ba28(0x642)]=_0x51ba28(0xc34);try{let _0x5cfd18;_0x43e32f[_0x51ba28(0x69b)]['toLowerCase']()[_0x51ba28(0x2a9)](_0x51ba28(0x510))?_0x5cfd18=_0x51ba28(0xbb1):_0x5cfd18=_0x51ba28(0x6f5);const _0x2c0173=await fetchFileFromUrl(_0x43e32f[_0x51ba28(0x69b)],_0x5cfd18);await handleGenerateParallelTest(_0x2c0173);}catch(_0x5a70d3){console[_0x51ba28(0x81d)](_0x51ba28(0x9c1),_0x5a70d3),showMessage(_0x51ba28(0x888)+_0x5a70d3[_0x51ba28(0xc94)]),_0x10be66['classList'][_0x51ba28(0xa6b)](_0x51ba28(0xc0c));}}function initializeScratchpadCanvas(){const _0x3ced4b=_0x487f42,_0x4f8500=document[_0x3ced4b(0x40a)](_0x3ced4b(0xb2c)),_0x690580=document['querySelector'](_0x3ced4b(0x431));if(!_0x4f8500||!_0x690580)return;scratchpadCtx=_0x4f8500[_0x3ced4b(0x2a5)]('2d',{'willReadFrequently':!![]});const _0xfd5e5d=window['devicePixelRatio']||0x1,_0x5125fb=_0x690580['getBoundingClientRect']();_0x4f8500[_0x3ced4b(0x5d1)]=_0x5125fb[_0x3ced4b(0x5d1)]*_0xfd5e5d,_0x4f8500[_0x3ced4b(0x70e)]=_0x5125fb[_0x3ced4b(0x70e)]*_0xfd5e5d,_0x4f8500[_0x3ced4b(0x446)][_0x3ced4b(0x5d1)]=_0x5125fb[_0x3ced4b(0x5d1)]+'px',_0x4f8500[_0x3ced4b(0x446)][_0x3ced4b(0x70e)]=_0x5125fb['height']+'px',scratchpadCtx[_0x3ced4b(0x7c2)](_0xfd5e5d,_0xfd5e5d),scratchpadCtx[_0x3ced4b(0x5d2)]=_0x3ced4b(0x830),scratchpadCtx[_0x3ced4b(0x5b3)]='round',_0x4f8500[_0x3ced4b(0x636)](_0x3ced4b(0xbd6),handlePointerDown),_0x4f8500['removeEventListener']('pointermove',handlePointerMove),_0x4f8500[_0x3ced4b(0x636)](_0x3ced4b(0xab4),handlePointerUp),_0x4f8500[_0x3ced4b(0x636)](_0x3ced4b(0x3a3),handlePointerUp),_0x4f8500['removeEventListener'](_0x3ced4b(0x90e),handleWheel),_0x4f8500[_0x3ced4b(0x636)](_0x3ced4b(0x912),handlePointerDown),_0x4f8500[_0x3ced4b(0x636)](_0x3ced4b(0x32b),handlePointerMove),_0x4f8500[_0x3ced4b(0x636)](_0x3ced4b(0x2bb),handlePointerUp),_0x4f8500['addEventListener'](_0x3ced4b(0xbd6),handlePointerDown),_0x4f8500['addEventListener'](_0x3ced4b(0x3c5),handlePointerMove),_0x4f8500['addEventListener']('pointerup',handlePointerUp),_0x4f8500['addEventListener'](_0x3ced4b(0x3a3),handlePointerUp),_0x4f8500[_0x3ced4b(0x7d4)](_0x3ced4b(0x90e),handleWheel,{'passive':![]}),_0x4f8500['addEventListener']('touchstart',handlePointerDown,{'passive':![]}),_0x4f8500[_0x3ced4b(0x7d4)]('touchmove',handlePointerMove,{'passive':![]}),_0x4f8500[_0x3ced4b(0x7d4)](_0x3ced4b(0x2bb),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x4d1539=_0x487f42,_0x42c383=document[_0x4d1539(0x40a)](_0x4d1539(0x22c)),_0x25b926=document[_0x4d1539(0x40a)](_0x4d1539(0xadb));_0x25b926['innerHTML']=_0x4d1539(0x57f)+scratchpadHighlighterSize+_0x4d1539(0xd5e);const _0xa8a4fb=document[_0x4d1539(0x40a)]('pen-tool-btn'),_0x2dbd09=document[_0x4d1539(0x40a)]('eraser-tool-btn'),_0x47a54f=document[_0x4d1539(0x40a)](_0x4d1539(0xa17)),_0x239f18=document[_0x4d1539(0x40a)](_0x4d1539(0x623)),_0x325c9b=document['getElementById'](_0x4d1539(0x537)),_0x7e709c=document['getElementById'](_0x4d1539(0xb80)),_0x3677ce=[_0xa8a4fb,_0x2dbd09,_0x47a54f,_0x239f18];document['getElementById'](_0x4d1539(0xafc))[_0x4d1539(0x7d4)](_0x4d1539(0x859),()=>_0x42c383[_0x4d1539(0xad3)][_0x4d1539(0xa6b)](_0x4d1539(0xc0c))),document['getElementById'](_0x4d1539(0x8c9))['addEventListener'](_0x4d1539(0x859),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x4d1539(0x40a)]('scratchpad-clear-btn')[_0x4d1539(0x7d4)](_0x4d1539(0x859),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x4d1539(0x40a)]('undo-btn')[_0x4d1539(0x7d4)](_0x4d1539(0x859),undo),document[_0x4d1539(0x40a)](_0x4d1539(0x8f7))[_0x4d1539(0x7d4)](_0x4d1539(0x859),redo);const _0x3dead2=_0x5b0112=>{const _0x76de85=_0x4d1539;_0x3677ce[_0x76de85(0xa40)](_0x5ebde3=>_0x5ebde3['classList'][_0x76de85(0x432)](_0x76de85(0xd29))),_0x5b0112[_0x76de85(0xad3)][_0x76de85(0xa6b)](_0x76de85(0xd29));const _0x2ab3dc=_0x5b0112===_0x239f18;_0x325c9b[_0x76de85(0xad3)][_0x76de85(0xcc1)](_0x76de85(0xc0c),_0x2ab3dc),_0x7e709c['classList']['toggle'](_0x76de85(0xc0c),!_0x2ab3dc);};_0xa8a4fb[_0x4d1539(0x7d4)](_0x4d1539(0x859),()=>{activeTool='pen',_0x3dead2(_0xa8a4fb);}),_0x2dbd09[_0x4d1539(0x7d4)](_0x4d1539(0x859),()=>{const _0x1362fa=_0x4d1539;activeTool=_0x1362fa(0x584),_0x3dead2(_0x2dbd09);}),_0x47a54f[_0x4d1539(0x7d4)](_0x4d1539(0x859),()=>{const _0x22bf1=_0x4d1539;activeTool=_0x22bf1(0xab6),_0x3dead2(_0x47a54f);}),_0x239f18[_0x4d1539(0x7d4)](_0x4d1539(0x859),()=>{const _0x28453d=_0x4d1539;activeTool=_0x28453d(0xbcf),_0x3dead2(_0x239f18);}),_0x325c9b[_0x4d1539(0x93e)]('.pen-size-btn')[_0x4d1539(0xa40)](_0xfb450a=>{_0xfb450a['addEventListener']('click',_0x3bd530=>{const _0x187020=_0x4191;scratchpadPenSize=parseInt(_0x3bd530['target'][_0x187020(0x48f)][_0x187020(0x2f4)],0xa),_0x325c9b[_0x187020(0x93e)]('.pen-size-btn')['forEach'](_0x5255b6=>_0x5255b6['classList'][_0x187020(0x432)](_0x187020(0xd29))),_0x3bd530['target'][_0x187020(0xad3)][_0x187020(0xa6b)](_0x187020(0xd29));});}),_0x325c9b[_0x4d1539(0x93e)](_0x4d1539(0xa02))['forEach'](_0x393a8c=>{const _0x37e225=_0x4d1539;_0x393a8c[_0x37e225(0x7d4)](_0x37e225(0x859),_0xbf0c39=>{const _0x1f2084=_0x37e225;scratchpadPenColor=_0xbf0c39[_0x1f2084(0x5c1)]['dataset'][_0x1f2084(0xb64)],_0x325c9b['querySelectorAll'](_0x1f2084(0xa02))['forEach'](_0x15429a=>_0x15429a[_0x1f2084(0xad3)][_0x1f2084(0x432)](_0x1f2084(0xd29))),_0xbf0c39['target'][_0x1f2084(0xad3)][_0x1f2084(0xa6b)](_0x1f2084(0xd29));});}),_0x7e709c['querySelectorAll'](_0x4d1539(0xca5))[_0x4d1539(0xa40)](_0x16482f=>{const _0x1519e8=_0x4d1539;_0x16482f[_0x1519e8(0x7d4)](_0x1519e8(0x859),_0x53f081=>{const _0x511966=_0x1519e8;scratchpadHighlighterColor=_0x53f081[_0x511966(0x5c1)]['dataset'][_0x511966(0xb64)],_0x7e709c['querySelectorAll'](_0x511966(0xca5))[_0x511966(0xa40)](_0x2ad7c7=>_0x2ad7c7[_0x511966(0xad3)][_0x511966(0x432)](_0x511966(0xd29))),_0x53f081[_0x511966(0x5c1)][_0x511966(0xad3)][_0x511966(0xa6b)](_0x511966(0xd29));});});const _0x287807=document['getElementById']('highlighter-size-slider'),_0x4d015e=document[_0x4d1539(0x40a)](_0x4d1539(0x79d));_0x287807[_0x4d1539(0x7d4)](_0x4d1539(0x493),_0x4d1130=>{const _0x4d509d=_0x4d1539,_0x4359b1=parseInt(_0x4d1130[_0x4d509d(0x5c1)]['value'],0xa);scratchpadHighlighterSize=_0x4359b1,_0x4d015e[_0x4d509d(0x642)]=_0x4359b1;}),window[_0x4d1539(0x7d4)](_0x4d1539(0x4cc),()=>{const _0xae7aad=_0x4d1539;!_0x42c383['classList'][_0xae7aad(0x560)](_0xae7aad(0xc0c))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x487f42(0x835),'name':_0x487f42(0x20e),'description':_0x487f42(0xd5d),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':_0x487f42(0x5fa),'name':_0x487f42(0xcfe),'description':_0x487f42(0x97c),'icon':_0x487f42(0xc36)},'ON_FIRE':{'id':_0x487f42(0x58b),'name':'ท็อปฟอร์ม','description':_0x487f42(0x3b5),'icon':_0x487f42(0xd01)},'FIRST_TRY_ACE':{'id':_0x487f42(0x3ae),'name':_0x487f42(0x368),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x487f42(0xbc0)},'COMEBACK_KING':{'id':_0x487f42(0x65f),'name':_0x487f42(0x5da),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x487f42(0x3cf)},'SPECIALIST':{'id':_0x487f42(0xba7),'name':_0x487f42(0x89c),'description':_0x487f42(0xb68),'icon':_0x487f42(0x999)},'PERSEVERANCE':{'id':_0x487f42(0x96e),'name':'ผู้ไม่ยอมแพ้','description':_0x487f42(0x5a1),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x487f42(0x6eb),'authDomain':_0x487f42(0x415),'projectId':_0x487f42(0x469),'storageBucket':_0x487f42(0x620),'messagingSenderId':_0x487f42(0x81a),'appId':_0x487f42(0x68e),'measurementId':_0x487f42(0x857)},appId=typeof __app_id!==_0x487f42(0x6d4)?__app_id:_0x487f42(0x7e7),adminView=document[_0x487f42(0x40a)](_0x487f42(0x92f)),studentView=document['getElementById']('student-view'),projectDashboardView=document[_0x487f42(0x40a)]('project-dashboard-view'),projectDetailView=document[_0x487f42(0x40a)]('project-detail-view'),quizResultsView=document[_0x487f42(0x40a)](_0x487f42(0x490)),projectList=document[_0x487f42(0x40a)](_0x487f42(0x9b6)),noProjectsMsg=document['getElementById'](_0x487f42(0x555)),projectTitle=document[_0x487f42(0x40a)]('project-title'),projectIdDisplay=document[_0x487f42(0x40a)](_0x487f42(0x565)),studentList=document[_0x487f42(0x40a)](_0x487f42(0x50e)),messageModal=document['getElementById'](_0x487f42(0xce3)),modalMessage=document['getElementById'](_0x487f42(0x6c3)),createProjectModal=document[_0x487f42(0x40a)](_0x487f42(0x3e2)),adminPasswordModal=document[_0x487f42(0x40a)](_0x487f42(0x93c)),confirmationModal=document[_0x487f42(0x40a)]('confirmation-modal'),userIdDisplay=document[_0x487f42(0x40a)]('user-id-display'),topicTab=document[_0x487f42(0x40a)](_0x487f42(0x76d)),textTab=document[_0x487f42(0x40a)](_0x487f42(0xc31)),topicInputArea=document[_0x487f42(0x40a)](_0x487f42(0x983)),textInputArea=document[_0x487f42(0x40a)](_0x487f42(0x8c0)),manageTab=document[_0x487f42(0x40a)](_0x487f42(0x359)),resultsTab=document[_0x487f42(0x40a)](_0x487f42(0x4aa)),leaderboardTab=document[_0x487f42(0x40a)](_0x487f42(0x268)),manageTabContent=document['getElementById'](_0x487f42(0x7db)),resultsTabContent=document[_0x487f42(0x40a)](_0x487f42(0xb0a)),leaderboardTabContent=document['getElementById'](_0x487f42(0x8ca)),projectQuizzesList=document[_0x487f42(0x40a)]('project-quizzes-list'),fileTab=document[_0x487f42(0x40a)](_0x487f42(0xd66)),fileInputArea=document[_0x487f42(0x40a)]('file-input-area'),fileUploadInput=document['getElementById']('file-upload-input'),worksheetTab=document[_0x487f42(0x40a)](_0x487f42(0xd43)),worksheetInputArea=document[_0x487f42(0x40a)](_0x487f42(0x4e5)),generateWorksheetBtn=document['getElementById'](_0x487f42(0x218)),studentInitialView=document['getElementById'](_0x487f42(0xaf0)),studentNameSelectionView=document[_0x487f42(0x40a)](_0x487f42(0x7a6)),studentQuizArea=document[_0x487f42(0x40a)]('student-quiz-area'),studentResultArea=document[_0x487f42(0x40a)](_0x487f42(0x32d)),studentReadingArea=document['getElementById'](_0x487f42(0x4f6)),loadQuizBtn=document[_0x487f42(0x40a)](_0x487f42(0x49d)),startQuizBtn=document[_0x487f42(0x40a)]('start-quiz-btn'),studentJoinGameView=document[_0x487f42(0x40a)](_0x487f42(0x5f6)),presentationModal=document[_0x487f42(0x40a)]('presentation-modal'),renameQuizModal=document[_0x487f42(0x40a)](_0x487f42(0xbd3)),moveQuizModal=document[_0x487f42(0x40a)](_0x487f42(0x8a0)),quizSettingsModal=document[_0x487f42(0x40a)](_0x487f42(0x320)),quizStatusModal=document[_0x487f42(0x40a)](_0x487f42(0xc25)),liveGameView=document[_0x487f42(0x40a)]('live-game-view');function handleFixLessonLatex(){const _0x438e37=_0x487f42,_0x18c286=document[_0x438e37(0x40a)](_0x438e37(0xba1));if(!_0x18c286){showMessage(_0x438e37(0x601));return;}const _0x459b13=_0x18c286[_0x438e37(0x93e)](['.ai-content\x20p',_0x438e37(0xa56),_0x438e37(0x4c0),_0x438e37(0xc29),_0x438e37(0x736)]['join'](','));let _0x5270bf=0x0;const _0x371909=_0x2b1620=>_0x2b1620[_0x438e37(0x642)]||'',_0x52152f=(_0x2589dd,_0x2f6dc2)=>{const _0x5717a9=_0x438e37;if(_0x2589dd[_0x5717a9(0xaef)]&&_0x2589dd[_0x5717a9(0xaef)]('mjx-container'))return;_0x2589dd[_0x5717a9(0x642)]=_0x2f6dc2;},_0x4efc78=_0x13a347=>_0x13a347[_0x438e37(0xa3d)](/\u00A0/g,'\x20')[_0x438e37(0xa3d)](/\u200B/g,'')[_0x438e37(0xa3d)](/\r\n?/g,'\x0a'),_0x418e6d=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x17ca7c=_0x2108d1=>{const _0x2bc6e1=_0x438e37;let _0x50c2a1=_0x2108d1[_0x2bc6e1(0x1fb)]();const _0x1e2585=[_0x2bc6e1(0xb53),_0x2bc6e1(0x69e),_0x2bc6e1(0x7a4),_0x2bc6e1(0xc52),_0x2bc6e1(0x274),'times',_0x2bc6e1(0xc7a),_0x2bc6e1(0x5e4),_0x2bc6e1(0x392),_0x2bc6e1(0x62c),'le','ge',_0x2bc6e1(0x816),'pm','approx',_0x2bc6e1(0xbfd),_0x2bc6e1(0x766),_0x2bc6e1(0x4f9),'log','ln',_0x2bc6e1(0x824),_0x2bc6e1(0xd09),_0x2bc6e1(0xb66),_0x2bc6e1(0x47e),_0x2bc6e1(0x4ec),_0x2bc6e1(0x3ac),'underline','circ',_0x2bc6e1(0x47a)];_0x1e2585[_0x2bc6e1(0xa40)](_0x55eff5=>{const _0x33d307=_0x2bc6e1;_0x50c2a1=_0x50c2a1['replace'](new RegExp(_0x33d307(0x793)+_0x55eff5+'\x5cb','g'),(_0x8b0aa6,_0x259ae2)=>_0x259ae2+'\x5c'+_0x55eff5);});const _0x3c81c4=[[/×/g,_0x2bc6e1(0x917)],[/·/g,_0x2bc6e1(0x783)],[/÷/g,_0x2bc6e1(0x26c)],[/≤/g,_0x2bc6e1(0x519)],[/≥/g,_0x2bc6e1(0x548)],[/≠/g,'\x5cneq'],[/±/g,_0x2bc6e1(0xd56)],[/∑/g,_0x2bc6e1(0x448)],[/−/g,'-']];return _0x3c81c4[_0x2bc6e1(0xa40)](([_0x51b0d1,_0x2ec37e])=>{const _0x54e9c8=_0x2bc6e1;_0x50c2a1=_0x50c2a1[_0x54e9c8(0xa3d)](_0x51b0d1,_0x2ec37e);}),_0x50c2a1=_0x50c2a1[_0x2bc6e1(0xa3d)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x50c2a1=_0x50c2a1[_0x2bc6e1(0xa3d)](/(\d+)\s*%/g,'$1\x5c%'),_0x50c2a1;},_0x3f61c9=_0x3e7887=>{const _0xcb1954=_0x438e37;if(/\$|\\\(|\\\[/[_0xcb1954(0xc32)](_0x3e7887))return _0x3e7887;if(!_0x418e6d[_0xcb1954(0xc32)](_0x3e7887))return _0x3e7887;const _0x55c31f=_0x3e7887['match'](/^\s*/)[0x0],_0xffa9d4=_0x3e7887['match'](/\s*$/)[0x0],_0x39e36c=_0x3e7887[_0xcb1954(0x1fb)]();return _0x55c31f+'$'+_0x17ca7c(_0x39e36c)+'$'+_0xffa9d4;};_0x459b13[_0x438e37(0xa40)](_0x1c5e22=>{const _0x4df5f3=_0x438e37,_0x556343=_0x371909(_0x1c5e22);let _0x4dfcdb=_0x4efc78(_0x556343);_0x4dfcdb=_0x4dfcdb[_0x4df5f3(0xa3d)](/\$([^$]*?)\$/g,(_0x25aa9b,_0x30ee0a)=>'$'+_0x17ca7c(_0x30ee0a)+'$');const _0x59c694=_0x4dfcdb[_0x4df5f3(0x67b)](/(\s+)/),_0x73c329=_0x59c694[_0x4df5f3(0x71d)](_0x2e2be9=>{const _0x2fff3b=_0x4df5f3;if(/\s+/[_0x2fff3b(0xc32)](_0x2e2be9))return _0x2e2be9;return _0x3f61c9(_0x2e2be9);});_0x4dfcdb=_0x73c329[_0x4df5f3(0xb00)](''),_0x4dfcdb!==_0x556343&&(_0x52152f(_0x1c5e22,_0x4dfcdb),_0x5270bf++);});if(_0x5270bf>0x0){showMessage(_0x438e37(0x89b)+_0x5270bf+_0x438e37(0x592));try{window[_0x438e37(0xcc0)]&&MathJax[_0x438e37(0x8b2)]&&MathJax[_0x438e37(0x8b2)]([_0x18c286]);}catch(_0x3f55dc){console['error']('MathJax\x20re-render\x20failed:',_0x3f55dc);}}else showMessage(_0x438e37(0xafd));}function handleAutoFixLatex(){const _0x3aa0f0=_0x487f42,_0x5c38c4=document[_0x3aa0f0(0x40a)](_0x3aa0f0(0x611))||document,_0x42dd95=_0x5c38c4[_0x3aa0f0(0x93e)](_0x3aa0f0(0xbd0));let _0x765a5c=0x0;const _0x4e1974=_0x187322=>'value'in _0x187322?String(_0x187322[_0x3aa0f0(0x6cb)]):_0x187322[_0x3aa0f0(0x521)]!==undefined?_0x187322[_0x3aa0f0(0x521)]:_0x187322[_0x3aa0f0(0x642)]||'',_0x5523d2=(_0x299ca4,_0x4044c9)=>{const _0x1ff2c5=_0x3aa0f0;if('value'in _0x299ca4){_0x299ca4['value']=_0x4044c9;return;}if(_0x299ca4[_0x1ff2c5(0xaef)]&&_0x299ca4['querySelector'](_0x1ff2c5(0x724)))return;if(_0x299ca4[_0x1ff2c5(0x521)]!==undefined)_0x299ca4[_0x1ff2c5(0x521)]=_0x4044c9;else _0x299ca4[_0x1ff2c5(0x642)]=_0x4044c9;},_0x1ce5b0=_0xe11f90=>_0xe11f90[_0x3aa0f0(0xa3d)](/\u00A0/g,'\x20')[_0x3aa0f0(0xa3d)](/\u200B/g,'')[_0x3aa0f0(0xa3d)](/\r\n?/g,'\x0a'),_0x5d2bf5=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x1b94c3=_0x9bd18e=>{const _0x5cb677=_0x3aa0f0;let _0x13f37b=_0x9bd18e[_0x5cb677(0x1fb)]();_0x13f37b=_0x13f37b[_0x5cb677(0xa3d)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x5cb677(0x304)),_0x13f37b=_0x13f37b[_0x5cb677(0xa3d)](/\bfrac(\d)(\d)/g,'\x5cfrac{$1}{$2}');const _0x43c162=[_0x5cb677(0xb53),_0x5cb677(0xc52),_0x5cb677(0x62a),_0x5cb677(0xc7a),_0x5cb677(0x5e4),'leq',_0x5cb677(0x62c),'neq','pm',_0x5cb677(0xbfd),_0x5cb677(0x766),_0x5cb677(0x4f9),_0x5cb677(0x681),'ln'];_0x43c162['forEach'](_0x55f238=>{const _0x2d6b80=_0x5cb677;_0x13f37b=_0x13f37b[_0x2d6b80(0xa3d)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x55f238+'\x5cb','g'),(_0x5c3f44,_0x4c0075)=>_0x4c0075+'\x5c'+_0x55f238);});const _0x2aaf6c=[[/×/g,_0x5cb677(0x917)],[/·/g,_0x5cb677(0x783)],[/÷/g,_0x5cb677(0x26c)],[/≤/g,_0x5cb677(0x519)],[/≥/g,_0x5cb677(0x548)],[/≠/g,'\x5cneq'],[/±/g,_0x5cb677(0xd56)]];return _0x2aaf6c[_0x5cb677(0xa40)](([_0x20653d,_0x5a25c0])=>{const _0x2cf929=_0x5cb677;_0x13f37b=_0x13f37b[_0x2cf929(0xa3d)](_0x20653d,_0x5a25c0);}),_0x13f37b;},_0x4d0f6b=_0x5c0fd5=>{const _0x2cac43=_0x3aa0f0;if(/\$|\\\(|\\\[/[_0x2cac43(0xc32)](_0x5c0fd5))return _0x5c0fd5;if(!_0x5d2bf5[_0x2cac43(0xc32)](_0x5c0fd5))return _0x5c0fd5;const _0x362d0c=_0x5c0fd5[_0x2cac43(0x75f)](/^\s*/)[0x0],_0x11068c=_0x5c0fd5[_0x2cac43(0x75f)](/\s*$/)[0x0],_0x159cc3=_0x5c0fd5[_0x2cac43(0x1fb)]();return _0x362d0c+'$'+_0x1b94c3(_0x159cc3)+'$'+_0x11068c;};_0x42dd95[_0x3aa0f0(0xa40)](_0x5ce1bf=>{const _0x330bd6=_0x3aa0f0,_0x567bef=_0x4e1974(_0x5ce1bf);let _0x36d9c9=_0x1ce5b0(_0x567bef);_0x36d9c9=_0x36d9c9[_0x330bd6(0xa3d)](/\$([^$]*?)\$/g,(_0x2be5eb,_0x1877c4)=>'$'+_0x1b94c3(_0x1877c4)+'$');const _0x20e63d=_0x36d9c9[_0x330bd6(0x67b)](/(\s+)/),_0x4ec241=_0x20e63d[_0x330bd6(0x71d)](_0x430f92=>/\s+/[_0x330bd6(0xc32)](_0x430f92)?_0x430f92:_0x4d0f6b(_0x430f92));_0x36d9c9=_0x4ec241[_0x330bd6(0xb00)](''),_0x36d9c9!==_0x567bef&&(_0x5523d2(_0x5ce1bf,_0x36d9c9),_0x765a5c++);});if(_0x765a5c>0x0){showMessage(_0x3aa0f0(0xd30)+_0x765a5c+_0x3aa0f0(0x596));try{if(window[_0x3aa0f0(0xcc0)]&&MathJax[_0x3aa0f0(0x8b2)])MathJax[_0x3aa0f0(0x8b2)]();}catch(_0xb402e6){}}else showMessage(_0x3aa0f0(0xc93));}function _0x4191(_0x41cca3,_0x54758f){const _0x49b7af=_0x49b7();return _0x4191=function(_0x4191e9,_0xe6dcd7){_0x4191e9=_0x4191e9-0x1ef;let _0x5e9e07=_0x49b7af[_0x4191e9];return _0x5e9e07;},_0x4191(_0x41cca3,_0x54758f);}async function listenForCustomMathTopics(){const _0x3a0047=_0x487f42,_0x2730f0=collection(db,_0x3a0047(0x5c6)+appId+_0x3a0047(0x4e6));onSnapshot(_0x2730f0,_0x168b88=>{const _0x17a6c9=_0x3a0047;customMathTopics=_0x168b88[_0x17a6c9(0xb2e)]['map'](_0x2e9d6d=>({'id':_0x2e9d6d['id'],..._0x2e9d6d['data']()})),renderTopicCheckboxes();},_0x28054e=>{const _0x410013=_0x3a0047;console[_0x410013(0x81d)](_0x410013(0x434),_0x28054e);});}function handleSelectAllTopics(){const _0x4953f6=_0x487f42,_0x319819=document['getElementById'](_0x4953f6(0x37e)),_0x3f6d31=_0x319819['querySelectorAll'](_0x4953f6(0x85d));_0x3f6d31[_0x4953f6(0xa40)](_0x33daeb=>{const _0x16822e=_0x4953f6;_0x33daeb[_0x16822e(0x6f6)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x229311=_0x487f42,_0x2ca1c6=document[_0x229311(0x40a)](_0x229311(0x37e)),_0x15daa8=_0x2ca1c6[_0x229311(0x93e)]('input[type=\x22checkbox\x22]');_0x15daa8[_0x229311(0xa40)](_0x51ce51=>{_0x51ce51['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x332db0){const _0x5e5ded=_0x487f42;if(!_0x332db0)return;try{const _0x2b2151=doc(db,_0x5e5ded(0x5c6)+appId+_0x5e5ded(0x4e6),_0x332db0);await deleteDoc(_0x2b2151),showMessage(_0x5e5ded(0x3d3));}catch(_0x3c085c){console['error'](_0x5e5ded(0x600),_0x3c085c),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x27e434=_0x487f42,_0x3d409a=document[_0x27e434(0x40a)](_0x27e434(0xcc3)),_0x332c1e=_0x3d409a[_0x27e434(0x6cb)][_0x27e434(0x1fb)]();if(!_0x332c1e){showMessage(_0x27e434(0x72c));return;}if(!userId){showMessage(_0x27e434(0x2ed));return;}try{const _0x16f4f9=collection(db,_0x27e434(0x5c6)+appId+_0x27e434(0x4e6));await addDoc(_0x16f4f9,{'name':_0x332c1e,'createdAt':serverTimestamp()}),_0x3d409a[_0x27e434(0x6cb)]='',showMessage(_0x27e434(0x798)+_0x332c1e+_0x27e434(0x9af));}catch(_0x3de3e3){console[_0x27e434(0x81d)](_0x27e434(0x911),_0x3de3e3),showMessage(_0x27e434(0x823));}}async function handleUpdateOldQuizzes(){const _0x586c82=_0x487f42;showConfirmation(_0x586c82(0xa91),async()=>{const _0xde30bc=_0x586c82,_0x30a36c=document[_0xde30bc(0x40a)]('loader'),_0x15f967=document[_0xde30bc(0x40a)](_0xde30bc(0x88d)),_0x239eed=_0x15f967['textContent'];_0x30a36c['classList'][_0xde30bc(0x432)](_0xde30bc(0xc0c)),_0x15f967[_0xde30bc(0x642)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x18d860=collection(db,_0xde30bc(0x5c6)+appId+_0xde30bc(0x7ac)),_0x36ab2f=await getDocs(_0x18d860);if(_0x36ab2f[_0xde30bc(0x78a)]){showMessage(_0xde30bc(0x822));return;}const _0x5aa34d=writeBatch(db);let _0x822ace=0x0;_0x36ab2f[_0xde30bc(0xa40)](_0x4c07ed=>{const _0x53299d=_0xde30bc,_0x1799c1=_0x4c07ed[_0x53299d(0x225)](),_0x51d620=_0x4c07ed['id'];if(_0x1799c1[_0x53299d(0x726)]&&_0x1799c1['questions'][_0x53299d(0xaf2)]>0x0&&!_0x1799c1[_0x53299d(0x726)][0x0][_0x53299d(0x7ae)]('id')){console['log'](_0x53299d(0x7d3)+_0x51d620+'\x20('+_0x1799c1['topic']+')'),_0x822ace++;const _0x5b5492=_0x1799c1[_0x53299d(0x726)][_0x53299d(0x71d)]((_0x24c2cc,_0x5334de)=>{return{..._0x24c2cc,'id':_0x24c2cc['id']||'q_'+Date['now']()+'_'+_0x51d620+'_'+_0x5334de};}),_0x1f51fb=doc(db,'artifacts/'+appId+_0x53299d(0x7ac),_0x51d620);_0x5aa34d['update'](_0x1f51fb,{'questions':_0x5b5492});}}),_0x822ace>0x0?(_0x15f967['textContent']='กำลังอัปเดตแบบทดสอบ\x20'+_0x822ace+_0xde30bc(0x349),await _0x5aa34d[_0xde30bc(0xb82)](),showMessage(_0xde30bc(0x4d1)+_0x822ace+_0xde30bc(0x574))):showMessage(_0xde30bc(0x6a5));}catch(_0xee1f70){console['error'](_0xde30bc(0xae3),_0xee1f70),showMessage(_0xde30bc(0x244)+_0xee1f70[_0xde30bc(0xc94)]);}finally{_0x30a36c[_0xde30bc(0xad3)][_0xde30bc(0xa6b)](_0xde30bc(0xc0c)),_0x15f967[_0xde30bc(0x642)]=_0x239eed;}});}async function handleBulkUpdateQuizSettings(){const _0x1287b0=_0x487f42,_0x120c3c={'shuffle':document['getElementById'](_0x1287b0(0x7b5))[_0x1287b0(0x6cb)],'resultsDisplay':document[_0x1287b0(0x40a)]('bulk-results-display-select')[_0x1287b0(0x6cb)],'loopUntilPass':document[_0x1287b0(0x40a)](_0x1287b0(0x77c))[_0x1287b0(0x6f6)],'isConfidenceScoringEnabled':document['getElementById'](_0x1287b0(0x693))[_0x1287b0(0x6f6)],'confidenceMode':document[_0x1287b0(0x40a)](_0x1287b0(0xc90))[_0x1287b0(0x6cb)]};try{showMessage(_0x1287b0(0xc9e));const _0x5e2d67=await getDocs(collection(db,_0x1287b0(0x5c6)+appId+_0x1287b0(0x7ac))),_0x56455f=_0x5e2d67[_0x1287b0(0xb2e)][_0x1287b0(0x71d)](_0x459c50=>({'id':_0x459c50['id'],'data':_0x459c50['data']()})),_0x353d8f=_0x56455f[_0x1287b0(0xaf2)];showConfirmation(_0x1287b0(0x414)+_0x353d8f+_0x1287b0(0x5fe),async()=>{const _0x5fd647=_0x1287b0,_0x3924e1=document[_0x5fd647(0x40a)](_0x5fd647(0x82e));_0x3924e1[_0x5fd647(0x4c2)]=!![],_0x3924e1[_0x5fd647(0x843)]=_0x5fd647(0x817);try{const _0x31ff71=writeBatch(db);_0x56455f[_0x5fd647(0xa40)](_0x5ec46e=>{const _0x4e2f84=_0x5fd647,_0x3e8fac=doc(db,_0x4e2f84(0x5c6)+appId+_0x4e2f84(0x7ac),_0x5ec46e['id']),_0x4b4d20={..._0x5ec46e[_0x4e2f84(0x225)][_0x4e2f84(0x7ba)]||{},..._0x120c3c};_0x31ff71[_0x4e2f84(0x3ad)](_0x3e8fac,{'settings':_0x4b4d20});}),await _0x31ff71['commit'](),document[_0x5fd647(0x40a)]('bulk-quiz-settings-modal')['classList'][_0x5fd647(0xa6b)](_0x5fd647(0xc0c)),showMessage(_0x5fd647(0x2d5)+_0x353d8f+_0x5fd647(0x2bc));}catch(_0x4530a4){console[_0x5fd647(0x81d)](_0x5fd647(0xa07),_0x4530a4),showMessage('เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม');}finally{_0x3924e1[_0x5fd647(0x4c2)]=![],_0x3924e1[_0x5fd647(0x843)]='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x15f3f1){console[_0x1287b0(0x81d)](_0x1287b0(0x527),_0x15f3f1),showMessage(_0x1287b0(0x7a5));}}async function handleSaveProjectName(){const _0x37f911=_0x487f42,_0x2cf474=document[_0x37f911(0x40a)](_0x37f911(0xa38)),_0xe6449e=document[_0x37f911(0x40a)]('save-project-name-btn'),_0x3c116a=_0x2cf474[_0x37f911(0x642)]['trim']();if(!_0x3c116a||!currentProjectId){showMessage(_0x37f911(0x590)),_0x2cf474['textContent']=currentProjectData['projectName'];return;}_0xe6449e[_0x37f911(0x4c2)]=!![],_0xe6449e[_0x37f911(0x843)]=_0x37f911(0xd04);try{const _0xd82963=doc(db,_0x37f911(0x5c6)+appId+_0x37f911(0x248),currentProjectId);await updateDoc(_0xd82963,{'projectName':_0x3c116a}),currentProjectData&&(currentProjectData['projectName']=_0x3c116a),showMessage(_0x37f911(0x43a));}catch(_0x39d0d2){console[_0x37f911(0x81d)](_0x37f911(0x7a1),_0x39d0d2),showMessage(_0x37f911(0xb3a)),_0x2cf474[_0x37f911(0x642)]=currentProjectData['projectName'];}finally{_0xe6449e[_0x37f911(0xad3)]['add'](_0x37f911(0xc0c)),_0xe6449e['disabled']=![],_0xe6449e[_0x37f911(0x843)]=_0x37f911(0xb21);}}function handleGeneratePracticeTest(_0x46bb1e,_0x3ffc45){const _0xdde6d3=_0x487f42,_0x44e5c0=document[_0xdde6d3(0x40a)](_0xdde6d3(0x7b9)),_0x4c7aa9=document[_0xdde6d3(0x40a)](_0xdde6d3(0x994)),_0xc0abea=document['getElementById'](_0xdde6d3(0x9e4)),_0x258218=document[_0xdde6d3(0x40a)](_0xdde6d3(0xc53));_0x4c7aa9[_0xdde6d3(0x642)]='กำลังสร้างแบบทดสอบ:\x20'+_0x46bb1e,_0x258218[_0xdde6d3(0xad3)][_0xdde6d3(0xa6b)]('hidden'),_0xc0abea[_0xdde6d3(0xad3)][_0xdde6d3(0x432)]('hidden'),_0x44e5c0[_0xdde6d3(0xad3)][_0xdde6d3(0x432)]('hidden'),generatePracticeTest(_0x46bb1e,_0x3ffc45)[_0xdde6d3(0x35d)](_0x4fa9ce=>{const _0x4c1e68=_0xdde6d3;console['error'](_0x4c1e68(0x8f4),_0x4fa9ce),showMessage('ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้'),_0x44e5c0[_0x4c1e68(0xad3)][_0x4c1e68(0xa6b)]('hidden');});}async function generatePracticeTest(_0xa3e43a,_0x4898f8){const _0x44fee7=_0x487f42;[_0x44fee7(0xa20),'memoryContent',_0x44fee7(0xacb),'summaryContent']['forEach'](_0x538d1a=>{const _0xdfa5a8=_0x44fee7,_0x196e03=document[_0xdfa5a8(0x40a)](_0x538d1a)['parentElement'];_0x196e03&&(_0x196e03[_0xdfa5a8(0x446)][_0xdfa5a8(0x224)]=_0xdfa5a8(0xaec));});try{const _0xc46a80=_0x44fee7(0x3e8),_0x1c5d1b='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x4898f8+'\x27\x20ในหัวข้อ\x20\x27'+_0xa3e43a+_0x44fee7(0x3b6),_0x4a870d=await callGemini(_0x1c5d1b,!![]),_0x4c12e7=document['getElementById']('lesson-view-title'),_0x3b74ec=document[_0x44fee7(0x40a)](_0x44fee7(0x9e4)),_0xf12ee6=document[_0x44fee7(0x40a)](_0x44fee7(0xc53)),_0x44ed60=document[_0x44fee7(0x40a)]('applicationContent')['parentElement'];_0x4c12e7['innerText']=_0x44fee7(0x877)+_0xa3e43a[_0x44fee7(0xa3d)](/•\s/g,'')+_0x44fee7(0x8b9)+_0x4898f8+')',currentApplicationData=JSON[_0x44fee7(0x390)](_0x4a870d);const _0x23180e=document[_0x44fee7(0x40a)](_0x44fee7(0xacb));_0x23180e[_0x44fee7(0x843)]=currentApplicationData[_0x44fee7(0x71d)]((_0x3e87f5,_0x5210ad)=>_0x44fee7(0x23c)+(_0x5210ad+0x1)+'.\x20'+marked[_0x44fee7(0xb81)](_0x3e87f5['question'])+_0x44fee7(0x23f)+_0x5210ad+_0x44fee7(0x491)+_0x3e87f5[_0x44fee7(0x614)][_0x44fee7(0x71d)]((_0x2f58c9,_0x6af1cf)=>_0x44fee7(0x606)+_0x5210ad+',\x20'+_0x6af1cf+')\x22>'+String[_0x44fee7(0xd1d)](0x61+_0x6af1cf)+'.\x20'+marked[_0x44fee7(0xb81)](_0x2f58c9)+_0x44fee7(0x34c))[_0x44fee7(0xb00)]('')+_0x44fee7(0xbf3))[_0x44fee7(0xb00)](''),window[_0x44fee7(0xcc0)]&&MathJax['typesetPromise']([_0x23180e]),_0x44ed60&&(_0x44ed60[_0x44fee7(0x446)][_0x44fee7(0x224)]=_0x44fee7(0x407)),_0x3b74ec[_0x44fee7(0xad3)]['add'](_0x44fee7(0xc0c)),_0xf12ee6[_0x44fee7(0xad3)][_0x44fee7(0x432)](_0x44fee7(0xc0c));}catch(_0x349b55){console['error'](_0x349b55);throw _0x349b55;}}async function callGemini(_0x27bc97,_0x573b0b=![]){const _0x28a5c7=_0x487f42,_0x568748=_0x28a5c7(0x779),_0x562176=_0x28a5c7(0x86f)+_0x568748,_0xc4baf8={'contents':[{'parts':[{'text':_0x27bc97}]}]};_0x573b0b&&(_0xc4baf8[_0x28a5c7(0x957)]={'responseMimeType':_0x28a5c7(0x72e)},_0x27bc97[_0x28a5c7(0x2a9)]('Test\x20Blueprint')?_0xc4baf8['generationConfig'][_0x28a5c7(0x321)]={'type':_0x28a5c7(0xaaa),'properties':{'gradeLevel':{'type':_0x28a5c7(0x8d7)},'curriculum':{'type':_0x28a5c7(0x22b),'items':{'type':_0x28a5c7(0xaaa),'properties':{'sara':{'type':_0x28a5c7(0x8d7)},'mainTopics':{'type':'ARRAY','items':{'type':_0x28a5c7(0xaaa),'properties':{'topicName':{'type':_0x28a5c7(0x8d7)},'subTopics':{'type':_0x28a5c7(0x22b),'items':{'type':_0x28a5c7(0x8d7)}}},'required':[_0x28a5c7(0xd82),_0x28a5c7(0x3e9)]}}},'required':[_0x28a5c7(0x61d),_0x28a5c7(0xd8b)]}}},'required':[_0x28a5c7(0x786),_0x28a5c7(0x524)]}:_0xc4baf8['generationConfig'][_0x28a5c7(0x321)]={'type':_0x28a5c7(0x22b),'items':{'type':_0x28a5c7(0xaaa),'properties':{'question':{'type':_0x28a5c7(0x8d7)},'options':{'type':'ARRAY','items':{'type':_0x28a5c7(0x8d7)}},'answer':{'type':'NUMBER'}},'required':[_0x28a5c7(0x98b),'options',_0x28a5c7(0x277)]}});try{const _0x528a73=await fetch(_0x562176,{'method':_0x28a5c7(0x8af),'headers':{'Content-Type':_0x28a5c7(0x72e)},'body':JSON[_0x28a5c7(0xcc4)](_0xc4baf8)});if(!_0x528a73['ok']){const _0x24d42c=await _0x528a73['text']();console[_0x28a5c7(0x81d)](_0x28a5c7(0xb33),_0x24d42c);throw new Error(_0x28a5c7(0xc22)+_0x528a73[_0x28a5c7(0xade)]);}const _0x31c3d9=await _0x528a73[_0x28a5c7(0x763)]();if(_0x31c3d9[_0x28a5c7(0x31c)]&&_0x31c3d9[_0x28a5c7(0x31c)][0x0][_0x28a5c7(0x5cf)]&&_0x31c3d9[_0x28a5c7(0x31c)][0x0]['content'][_0x28a5c7(0xbca)][0x0])return _0x31c3d9[_0x28a5c7(0x31c)][0x0][_0x28a5c7(0x5cf)][_0x28a5c7(0xbca)][0x0][_0x28a5c7(0x274)];else{console['error'](_0x28a5c7(0x6af),_0x31c3d9);if(_0x31c3d9[_0x28a5c7(0x31c)]&&_0x31c3d9['candidates'][0x0][_0x28a5c7(0x7d5)]===_0x28a5c7(0x829))return JSON[_0x28a5c7(0xcc4)]({'error':_0x28a5c7(0x9de)});throw new Error('Invalid\x20response\x20structure\x20from\x20API.');}}catch(_0x3c8c9c){console[_0x28a5c7(0x81d)](_0x28a5c7(0x2f0),_0x3c8c9c);throw _0x3c8c9c;}}async function generateLesson(_0x526814=null,_0x22b122=null){const _0x3736af=_0x487f42,_0x5508c2=_0x526814,_0x3071bd=_0x22b122||_0x3736af(0x8a9),_0x25987c=document[_0x3736af(0x40a)](_0x3736af(0x9e4)),_0xa20295=document[_0x3736af(0x40a)](_0x3736af(0xac7));_0xa20295[_0x3736af(0x642)]=_0x3736af(0x328)+_0x5508c2+_0x3736af(0xbb8);try{let _0x219bf5=[];const _0x455252=document['getElementById']('bp-reference-file-url')?.[_0x3736af(0x6cb)][_0x3736af(0x1fb)]();if(_0x455252)try{_0xa20295[_0x3736af(0x642)]='กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...';const _0x2672bb=await fetchFileFromUrl(_0x455252,_0x3736af(0x29c)),_0x32352f=await new Promise((_0x2f4cd0,_0x39f276)=>{const _0x49ea7d=_0x3736af,_0x563778=new FileReader();_0x563778[_0x49ea7d(0x5f3)](_0x2672bb),_0x563778[_0x49ea7d(0x2e1)]=()=>_0x2f4cd0(_0x563778[_0x49ea7d(0x751)][_0x49ea7d(0x67b)](',')[0x1]),_0x563778[_0x49ea7d(0xc1b)]=_0x39f276;});_0x219bf5['push']({'inlineData':{'mimeType':_0x2672bb['type'],'data':_0x32352f}});}catch(_0x4d64c1){console[_0x3736af(0x81d)](_0x3736af(0x1f4),_0x4d64c1),showMessage(_0x3736af(0xd51));}const _0x540203=_0x3736af(0x29f)+_0x5508c2+_0x3736af(0x88b)+_0x5508c2+'\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด:**\x20เนื้อหาในส่วน\x20POINT\x20และ\x20MEMORY\x20ต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง:**\x20ตัวอย่างประกอบ\x20(blockquote)\x20ต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x20แต่ห้ามคัดลอกโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**ยึดตามปรัชญา\x20O-NET:**\x20เน้นการประยุกต์ใช้,\x20การคิดวิเคราะห์,\x20และการแก้ปัญหาหลายขั้นตอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0xa20295[_0x3736af(0x642)]=_0x3736af(0x328)+_0x5508c2+'\x22...';const _0x58a065=_0x3736af(0x630)+_0x3071bd+_0x3736af(0x372)+_0x5508c2+_0x3736af(0x7ed)+_0x540203+_0x3736af(0x86b),_0x447255='สำหรับหัวข้อ\x20\x27'+_0x5508c2+'\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27'+_0x3071bd+_0x3736af(0x6df)+_0x540203+'.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX',_0x38179d=_0x3736af(0xb8a)+_0x3071bd+'\x27\x20ในหัวข้อ\x20\x27'+_0x5508c2+_0x3736af(0x326)+_0x540203+'.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x5c2af2=_0x3736af(0x8dd)+_0x5508c2+_0x3736af(0x4ff)+_0x3071bd+'\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20'+_0x540203+'.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ',_0x46294b={'type':_0x3736af(0x22b),'items':{'type':_0x3736af(0xaaa),'properties':{'question':{'type':_0x3736af(0x8d7)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'answer':{'type':'NUMBER'}},'required':[_0x3736af(0x98b),'options',_0x3736af(0x277)]}},[_0x2fda34,_0x5c73fa,_0x55c5c7,_0x2ba922]=await Promise[_0x3736af(0xb90)]([handleApiCall([{'text':_0x58a065},..._0x219bf5],_0x3736af(0x571),null,null,![]),handleApiCall([{'text':_0x447255},..._0x219bf5],_0x3736af(0x571),null,null,![]),handleApiCall([{'text':_0x38179d},..._0x219bf5],'...',_0x46294b,null,![]),handleApiCall([{'text':_0x5c2af2},..._0x219bf5],'...',null,null,![])]),_0x1c4c70=JSON[_0x3736af(0xcc4)](_0x55c5c7||[]),_0x11aaa1=document[_0x3736af(0x40a)]('lesson-view-title'),_0x131cd1=document['getElementById'](_0x3736af(0xc53));_0x11aaa1['innerText']='บทเรียนเรื่อง:\x20'+_0x5508c2[_0x3736af(0xa3d)](/•\\s/g,'')+_0x3736af(0x8b9)+_0x3071bd+')',['pointContent',_0x3736af(0x665),_0x3736af(0x7f6)][_0x3736af(0xa40)](_0x2b3137=>{const _0x3c31a7=_0x3736af;document[_0x3c31a7(0x40a)](_0x2b3137)[_0x3c31a7(0x843)]='';}),document['getElementById'](_0x3736af(0xa20))[_0x3736af(0x843)]=_0x2fda34?marked[_0x3736af(0x390)](_0x2fda34):_0x3736af(0x668),document[_0x3736af(0x40a)](_0x3736af(0x665))['innerHTML']=_0x5c73fa?marked[_0x3736af(0x390)](_0x5c73fa):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document[_0x3736af(0x40a)]('summaryContent')[_0x3736af(0x843)]=_0x2ba922?marked[_0x3736af(0x390)](_0x2ba922):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',currentApplicationData=JSON['parse'](_0x1c4c70);const _0x4ade93=document[_0x3736af(0x40a)]('applicationContent');_0x4ade93[_0x3736af(0x843)]=(currentApplicationData||[])[_0x3736af(0x71d)]((_0x37f009,_0x929904)=>_0x3736af(0x23c)+(_0x929904+0x1)+'.\x20'+marked[_0x3736af(0xb81)](_0x37f009[_0x3736af(0x98b)]||'')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x929904+_0x3736af(0x491)+(_0x37f009['options']||[])[_0x3736af(0x71d)]((_0x126e1f,_0x3ca8a6)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x929904+',\x20'+_0x3ca8a6+_0x3736af(0x25c)+String['fromCharCode'](0x61+_0x3ca8a6)+'.\x20'+marked[_0x3736af(0xb81)](_0x126e1f||'')+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x3736af(0xbf3))[_0x3736af(0xb00)]('')||_0x3736af(0xae1),window['MathJax']&&MathJax[_0x3736af(0x8b2)]([_0x131cd1]),_0x25987c[_0x3736af(0xad3)][_0x3736af(0xa6b)](_0x3736af(0xc0c)),_0x131cd1[_0x3736af(0xad3)][_0x3736af(0x432)](_0x3736af(0xc0c));}catch(_0x30ea05){console[_0x3736af(0x81d)](_0x30ea05);throw _0x30ea05;}}function checkAnswer(_0x13a98e,_0x49d9cd){const _0x301489=_0x487f42,_0x300e79=currentApplicationData[_0x13a98e],_0x14e8a2=document[_0x301489(0x40a)]('q'+_0x13a98e+_0x301489(0x4ea)),_0x1cf0f7=_0x14e8a2['getElementsByTagName'](_0x301489(0x7b2));for(let _0x59871e of _0x1cf0f7){_0x59871e[_0x301489(0x4c2)]=!![];}_0x49d9cd===_0x300e79['answer']?_0x1cf0f7[_0x49d9cd][_0x301489(0xad3)][_0x301489(0xa6b)](_0x301489(0xa89)):(_0x1cf0f7[_0x49d9cd][_0x301489(0xad3)][_0x301489(0xa6b)]('incorrect'),_0x1cf0f7[_0x300e79[_0x301489(0x277)]][_0x301489(0xad3)][_0x301489(0xa6b)](_0x301489(0xa89)));}window[_0x487f42(0x85f)]=handleGenerateAndShowLesson,window[_0x487f42(0xa55)]=checkAnswer,window[_0x487f42(0x900)]=handleGeneratePracticeTest,window[_0x487f42(0x7fb)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0xdf6eb3=_0x487f42;try{const _0x1fd5ab=initializeApp(firebaseConfig);db=getFirestore(_0x1fd5ab),auth=getAuth(_0x1fd5ab),setupAuthListener(),setupEventListeners(),showView(_0xdf6eb3(0x309)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x2045fc){console[_0xdf6eb3(0x81d)](_0xdf6eb3(0x4d6),_0x2045fc),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x103d46=_0x487f42,_0x591e9d=document['getElementById'](_0x103d46(0xd17));if(!_0x591e9d)return;const _0x4679a2=document[_0x103d46(0x40a)](_0x103d46(0x631));_0x4679a2[_0x103d46(0x4c2)]=!![],_0x4679a2[_0x103d46(0x843)]=_0x103d46(0x699);try{const _0x32e1e3=_0x591e9d[_0x103d46(0x93e)](_0x103d46(0xad0)),_0x42762e=Array['from'](_0x32e1e3)[_0x103d46(0x71d)]((_0x34a7bf,_0x389ce5)=>{const _0x4b311a=_0x103d46,_0x2f6c31=_0x34a7bf['dataset']['qType'],_0x4e25d9=_0x34a7bf[_0x4b311a(0xaef)](_0x4b311a(0x3a7))[_0x4b311a(0x6cb)];let _0x73fbba=null,_0x5b7842='';switch(_0x2f6c31){case _0x4b311a(0xd14):const _0x6ea766=_0x34a7bf[_0x4b311a(0x93e)](_0x4b311a(0xa12));_0x73fbba=Array[_0x4b311a(0x445)](_0x6ea766)[_0x4b311a(0x71d)](_0x4bfc41=>_0x4bfc41['value']);const _0x4f02a1=_0x34a7bf[_0x4b311a(0xaef)]('input[type=\x22radio\x22]:checked');_0x4f02a1&&(_0x5b7842=_0x73fbba[parseInt(_0x4f02a1[_0x4b311a(0x6cb)])]);break;case'short_answer':_0x5b7842=_0x34a7bf[_0x4b311a(0xaef)](_0x4b311a(0x6d6))[_0x4b311a(0x6cb)];break;case _0x4b311a(0x355):const _0x4dbc15=_0x34a7bf[_0x4b311a(0xaef)](_0x4b311a(0x258));_0x5b7842=_0x4dbc15?_0x4dbc15['value']:'';break;case _0x4b311a(0x252):_0x5b7842=_0x34a7bf[_0x4b311a(0xaef)](_0x4b311a(0x916))['value'];break;}return{'question':_0x4e25d9,'options':_0x73fbba,'proposedAnswer':_0x5b7842};}),_0x4249ab=_0x103d46(0xbf9)+JSON[_0x103d46(0xcc4)](_0x42762e)+_0x103d46(0x950),_0x3e3ded={'type':_0x103d46(0x22b),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x103d46(0x6c0)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x103d46(0x8d7)},'suggestedAnswer':{'type':'STRING'}},'required':['questionIndex','isCorrect',_0x103d46(0x6aa)]}},_0x156852=await callAnalysisApi(_0x4249ab,{'type':_0x103d46(0xaaa),'properties':{'result':_0x3e3ded},'required':[_0x103d46(0x751)]});displayVerificationResultsInEditor(_0x156852['result']);}catch(_0x11ff69){console['error'](_0x103d46(0x7a3),_0x11ff69),showMessage(_0x103d46(0xba0));}finally{_0x4679a2['disabled']=![],_0x4679a2[_0x103d46(0x843)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x2ac944){const _0x1468b7=_0x487f42;_0x2ac944[_0x1468b7(0xa40)](_0x531ecb=>{const _0x2c2089=_0x1468b7,_0x1b7cdc=document[_0x2c2089(0xaef)](_0x2c2089(0xca6)+_0x531ecb[_0x2c2089(0x790)]+'\x22]');if(!_0x1b7cdc)return;const _0x1d7600=_0x1b7cdc[_0x2c2089(0xaef)](_0x2c2089(0x591));if(_0x1d7600)_0x1d7600[_0x2c2089(0x432)]();let _0x17576c='';if(_0x531ecb[_0x2c2089(0x28e)])_0x17576c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else{const _0x5f24c6=_0x531ecb[_0x2c2089(0xd21)]?_0x2c2089(0x40d):'';_0x17576c=_0x2c2089(0x5fd)+_0x5f24c6+_0x2c2089(0xbeb)+_0x531ecb[_0x2c2089(0x6aa)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x531ecb[_0x2c2089(0xd21)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x531ecb['suggestedAnswer']+_0x2c2089(0x6c7):'')+_0x2c2089(0x932);}_0x1b7cdc[_0x2c2089(0x645)](_0x2c2089(0xa26),_0x17576c);if(!_0x531ecb['isCorrect']&&_0x531ecb[_0x2c2089(0xd21)]){const _0x364c85=_0x1b7cdc[_0x2c2089(0x48f)][_0x2c2089(0xa4a)],_0x4ec51e=_0x261e23=>{const _0x4ce9cf=_0x2c2089;if(!_0x261e23)return;_0x261e23['classList']['add'](_0x4ce9cf(0x7f5),'transition-all',_0x4ce9cf(0x746)),setTimeout(()=>{const _0x321abe=_0x4ce9cf;_0x261e23[_0x321abe(0xad3)]['remove'](_0x321abe(0x7f5));},0x9c4);};if(_0x364c85==='multiple_choice'){const _0x1e9ca8=Array[_0x2c2089(0x445)](_0x1b7cdc[_0x2c2089(0x93e)]('input[type=\x22text\x22]')),_0x2687f0=_0x1e9ca8[_0x2c2089(0x39d)](_0x36a407=>_0x36a407[_0x2c2089(0x6cb)][_0x2c2089(0x1fb)]()['toLowerCase']()===_0x531ecb[_0x2c2089(0xd21)][_0x2c2089(0x1fb)]()['toLowerCase']());if(_0x2687f0!==-0x1){const _0x3f5aca=_0x1b7cdc[_0x2c2089(0xaef)](_0x2c2089(0xa9d)+_0x2687f0+'\x22]');_0x3f5aca&&(_0x3f5aca['checked']=!![],_0x4ec51e(_0x3f5aca['closest'](_0x2c2089(0x5e4))));}}else{if(_0x364c85==='short_answer'||_0x364c85===_0x2c2089(0x252)){const _0x55029a=_0x1b7cdc['querySelector'](_0x2c2089(0x9c5));_0x55029a&&(_0x55029a[_0x2c2089(0x6cb)]=_0x531ecb[_0x2c2089(0xd21)],_0x4ec51e(_0x55029a));}else{if(_0x364c85==='true_false'){const _0x38c6ae=_0x531ecb['suggestedAnswer'][_0x2c2089(0x1fb)]()['toLowerCase'](),_0x5a9fd7=_0x1b7cdc[_0x2c2089(0xaef)](_0x2c2089(0xa9d)+_0x38c6ae+'\x22]');_0x5a9fd7&&(_0x5a9fd7['checked']=!![],_0x4ec51e(_0x5a9fd7['closest'](_0x2c2089(0x5e4))));}}}}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}async function handleVerifyAnswers(){const _0x2e1cbb=_0x487f42;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x2e1cbb(0x311));return;}const _0x2c5e71=document[_0x2e1cbb(0x40a)]('verify-answers-btn');_0x2c5e71[_0x2e1cbb(0x4c2)]=!![],_0x2c5e71[_0x2e1cbb(0x843)]=_0x2e1cbb(0x699);try{const _0xe9f9a7=currentQuizData[_0x2e1cbb(0x726)][_0x2e1cbb(0x71d)]((_0x49670e,_0x3e052b)=>{const _0x100c6f=_0x2e1cbb;let _0x3a0d51='';const _0x462863=_0x49670e[_0x100c6f(0x8c6)]||currentQuizData['quizType'];switch(_0x462863){case'multiple_choice':_0x3a0d51=_0x49670e[_0x100c6f(0x614)][_0x49670e['correctAnswerIndex']];break;case'short_answer':_0x3a0d51=_0x49670e['idealAnswer'];break;case _0x100c6f(0x355):_0x3a0d51=_0x49670e['correctAnswer']['toString']();break;case'matching_item':_0x3a0d51=_0x49670e['correctResponse'];break;}return{'question':_0x49670e[_0x100c6f(0x593)]||_0x49670e[_0x100c6f(0x467)],'options':_0x49670e[_0x100c6f(0x614)]||null,'proposedAnswer':_0x3a0d51};}),_0x13f8c3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x2e1cbb(0xcc4)](_0xe9f9a7)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3551c0={'type':_0x2e1cbb(0x22b),'items':{'type':_0x2e1cbb(0xaaa),'properties':{'questionIndex':{'type':_0x2e1cbb(0x6c0)},'isCorrect':{'type':_0x2e1cbb(0x1f7)},'justification':{'type':_0x2e1cbb(0x8d7)},'suggestedAnswer':{'type':_0x2e1cbb(0x8d7)}},'required':[_0x2e1cbb(0x790),_0x2e1cbb(0x28e),_0x2e1cbb(0x6aa)]}},_0x1e2244=await callAnalysisApi(_0x13f8c3,{'type':'OBJECT','properties':{'result':_0x3551c0},'required':[_0x2e1cbb(0x751)]});displayVerificationResults(_0x1e2244[_0x2e1cbb(0x751)]);}catch(_0x534df2){console['error'](_0x2e1cbb(0x55c),_0x534df2),showMessage(_0x2e1cbb(0xba0));}finally{_0x2c5e71[_0x2e1cbb(0x4c2)]=![],_0x2c5e71['innerHTML']=_0x2e1cbb(0x427);}}function displayVerificationResults(_0x280236){const _0x25b5aa=_0x487f42;_0x280236['forEach'](_0x4f6dbe=>{const _0x1fec9f=_0x4191,_0x428da4=document['querySelector'](_0x1fec9f(0x449)+_0x4f6dbe[_0x1fec9f(0x790)]+'\x22]');if(_0x428da4){const _0x48abb1=_0x428da4[_0x1fec9f(0xaef)](_0x1fec9f(0xa79));if(_0x48abb1)_0x48abb1[_0x1fec9f(0x432)]();let _0x35e4b7='';_0x4f6dbe[_0x1fec9f(0x28e)]?_0x35e4b7=_0x1fec9f(0x701):_0x35e4b7=_0x1fec9f(0xad1)+_0x4f6dbe[_0x1fec9f(0x6aa)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4f6dbe[_0x1fec9f(0xd21)]?_0x1fec9f(0x5d7)+_0x4f6dbe[_0x1fec9f(0xd21)]+'</p>':'')+_0x1fec9f(0x8db),_0x428da4[_0x1fec9f(0x645)](_0x1fec9f(0xa26),_0x35e4b7);}}),showMessage(_0x25b5aa(0x931));}function compareNumericalAnswers(_0x20c506,_0x587a90){const _0x1ae9fc=_0x487f42,_0x148629=String(_0x20c506)['replace'](',','.')[_0x1ae9fc(0xa3d)](/[^\d.-]/g,'')[_0x1ae9fc(0x1fb)](),_0x3fe92a=String(_0x587a90)[_0x1ae9fc(0xa3d)](',','.')[_0x1ae9fc(0xa3d)](/[^\d.-]/g,'')[_0x1ae9fc(0x1fb)]();if(_0x148629===''||_0x3fe92a==='')return![];const _0x2e9790=parseFloat(_0x148629),_0x11b60a=parseFloat(_0x3fe92a);if(isNaN(_0x2e9790)||isNaN(_0x11b60a))return![];return Math[_0x1ae9fc(0x255)](_0x2e9790-_0x11b60a)<0.001;}function isPotentiallyNumeric(_0x3564d1){const _0x23dbea=_0x487f42;if(typeof _0x3564d1!==_0x23dbea(0xd87)&&typeof _0x3564d1!==_0x23dbea(0xad2))return![];const _0x5540f0=String(_0x3564d1)['replace'](',','.')[_0x23dbea(0x1fb)]();return _0x5540f0!==''&&!isNaN(parseFloat(_0x5540f0))&&isFinite(_0x5540f0);}async function gradeShortAnswer(_0xcdb480,_0xe2a374){const _0x3501c7=_0x487f42,_0x41ae1e=_0xe2a374['idealAnswer'],_0x101478=String(_0xcdb480)[_0x3501c7(0xa3d)](/\$/g,'')[_0x3501c7(0x1fb)](),_0x987a1e=String(_0x41ae1e)[_0x3501c7(0xa3d)](/\$/g,'')['trim']();if(_0x101478[_0x3501c7(0x47c)]()===_0x987a1e[_0x3501c7(0x47c)]())return!![];if(isPotentiallyNumeric(_0x101478)&&isPotentiallyNumeric(_0x987a1e)){if(compareNumericalAnswers(_0x101478,_0x987a1e))return!![];}return console[_0x3501c7(0x681)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0xcdb480,_0x41ae1e);}async function revealAnswerForAdmin(_0x5d295c,_0x456767){const _0x31af6f=_0x487f42,_0x7d5de6=doc(db,'artifacts/'+appId+_0x31af6f(0xa0c),currentLiveGameId);await updateDoc(_0x7d5de6,{'questionStatus':_0x31af6f(0x2ad)});}function showTop5LeaderboardView(_0x163d1d){const _0x3d91f6=_0x487f42,_0x23289b=Object[_0x3d91f6(0xafb)](_0x163d1d['players']||{})[_0x3d91f6(0x24b)](_0x154e24=>_0x154e24['status']===_0x3d91f6(0xd29));_0x23289b[_0x3d91f6(0x9ff)]((_0x3379e9,_0x1643d2)=>_0x1643d2[_0x3d91f6(0xb7c)]-_0x3379e9[_0x3d91f6(0xb7c)]);const _0x1fb0ff=_0x23289b['slice'](0x0,0x5),_0x2b6317='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1fb0ff[_0x3d91f6(0x71d)]((_0x68e000,_0x33745a)=>_0x3d91f6(0xc68)+(_0x33745a+0x1)+'.\x20'+(_0x68e000[_0x3d91f6(0x408)]||Object[_0x3d91f6(0xaf6)](_0x163d1d['players'])[_0x3d91f6(0x8d2)](_0x53c113=>_0x163d1d[_0x3d91f6(0x729)][_0x53c113]===_0x68e000))+_0x3d91f6(0x703)+_0x68e000[_0x3d91f6(0xb7c)]+_0x3d91f6(0x5c3))['join']('')+_0x3d91f6(0xb57)+(_0x163d1d[_0x3d91f6(0x884)]+0x1===currentQuizData[_0x3d91f6(0x726)][_0x3d91f6(0xaf2)]?_0x3d91f6(0x5c9):'ข้อต่อไป')+_0x3d91f6(0x8ab);liveGameView['innerHTML']=_0x2b6317,document[_0x3d91f6(0x40a)](_0x3d91f6(0xd08))[_0x3d91f6(0x7d4)]('click',async()=>{const _0x4cc033=_0x3d91f6,_0x43fa90=doc(db,_0x4cc033(0x5c6)+appId+_0x4cc033(0xa0c),currentLiveGameId),_0x37967c=_0x163d1d[_0x4cc033(0x884)]+0x1;if(_0x37967c<currentQuizData[_0x4cc033(0x726)]['length']){const _0x14a5a6={'currentQuestionIndex':_0x37967c,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x4cc033(0xb8b)};Object[_0x4cc033(0xaf6)](_0x163d1d[_0x4cc033(0x729)])[_0x4cc033(0xa40)](_0x15f7f4=>{const _0x1c1cb3=_0x4cc033;_0x14a5a6['players.'+_0x15f7f4+_0x1c1cb3(0x3b7)]=![];}),await updateDoc(_0x43fa90,_0x14a5a6);}else await updateDoc(_0x43fa90,{'status':_0x4cc033(0x54d)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x3bfd42=>{const _0x4ab78e=_0x4191;if(_0x3bfd42){userId=_0x3bfd42[_0x4ab78e(0x352)],userIdDisplay[_0x4ab78e(0x642)]=userId;const _0x3c37f1=await loadUserPreferences();_0x3c37f1[_0x4ab78e(0x411)]&&(document[_0x4ab78e(0x40a)](_0x4ab78e(0x7a0))[_0x4ab78e(0x6cb)]=_0x3c37f1[_0x4ab78e(0x411)]);globalDashboardSettings['projectView']=_0x3c37f1[_0x4ab78e(0x8aa)]||_0x4ab78e(0x520);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x2e42af,_0x1bc7b7){const _0x15a31d=_0x487f42;if(!userId)return;try{const _0x5d841a=doc(db,_0x15a31d(0x5c6)+appId+_0x15a31d(0x6a0)+userId+_0x15a31d(0xa58)),_0x5f0183={};_0x5f0183[_0x2e42af]=_0x1bc7b7,await setDoc(_0x5d841a,_0x5f0183,{'merge':!![]});}catch(_0x2e8b4b){console['error']('Error\x20saving\x20user\x20preference:',_0x2e8b4b);}}async function loadUserPreferences(){const _0xbe7063=_0x487f42;if(!userId)return{};try{const _0x1b53eb=doc(db,'artifacts/'+appId+_0xbe7063(0x6a0)+userId+_0xbe7063(0xa58)),_0x30732b=await getDoc(_0x1b53eb);if(_0x30732b[_0xbe7063(0xd6a)]())return _0x30732b[_0xbe7063(0x225)]();return{};}catch(_0x9b7db3){return console[_0xbe7063(0x81d)]('Error\x20loading\x20user\x20preferences:',_0x9b7db3),{};}}function parseIndentedBlueprint(_0x2266e5){const _0xcfb6e5=_0x487f42,_0x28c70e=_0x2266e5[_0xcfb6e5(0x67b)]('\x0a')[_0xcfb6e5(0x24b)](_0x426cc6=>_0x426cc6[_0xcfb6e5(0x1fb)]()!==''),_0x831581=[];let _0x39e917=null,_0x4d15b6=null;return _0x28c70e[_0xcfb6e5(0xa40)](_0x34c6b0=>{const _0x422c40=_0xcfb6e5,_0x1e09f9=_0x34c6b0['match'](/^\s*/)[0x0]['length'],_0x4d0105=_0x34c6b0[_0x422c40(0x1fb)]();if(_0x1e09f9===0x0)_0x39e917={'sara':_0x4d0105,'mainTopics':[]},_0x831581['push'](_0x39e917),_0x4d15b6=null;else{if(_0x1e09f9>0x0&&_0x1e09f9<0x8&&_0x39e917)_0x4d15b6={'topicName':_0x4d0105,'subTopics':[]},_0x39e917[_0x422c40(0xd8b)][_0x422c40(0x511)](_0x4d15b6);else _0x1e09f9>=0x8&&_0x4d15b6&&_0x4d15b6['subTopics'][_0x422c40(0x511)](_0x4d0105);}}),{'curriculum':_0x831581};}async function handleManualBlueprintSave(){const _0x1b9733=_0x487f42,_0x2c7636=document[_0x1b9733(0x40a)]('manual-bp-project-name')[_0x1b9733(0x6cb)][_0x1b9733(0x1fb)](),_0x45a050=document[_0x1b9733(0x40a)](_0x1b9733(0x41b))[_0x1b9733(0x6cb)][_0x1b9733(0x1fb)](),_0x3dddc7=document[_0x1b9733(0x40a)]('manual-bp-content')[_0x1b9733(0x6cb)];if(!_0x2c7636||!_0x45a050||!_0x3dddc7){showMessage('กรุณากรอกข้อมูลให้ครบทุกช่อง');return;}const _0x22a7f9=parseIndentedBlueprint(_0x3dddc7);if(!_0x22a7f9[_0x1b9733(0x524)]||_0x22a7f9[_0x1b9733(0x524)][_0x1b9733(0xaf2)]===0x0){showMessage('ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้');return;}const _0x48aade={};let _0x13e1a4=0x0;_0x22a7f9[_0x1b9733(0x524)][_0x1b9733(0xa40)](_0x3e1a3d=>{const _0x28ef1=_0x1b9733;_0x3e1a3d[_0x28ef1(0xd8b)]['forEach'](_0x4a8196=>{const _0x2017ce=_0x28ef1;_0x4a8196[_0x2017ce(0x3e9)][_0x2017ce(0xa40)](_0x179263=>{const _0x4ce183=_0x2017ce,_0x5cdb8a='topic_'+Date[_0x4ce183(0x875)]()+Math[_0x4ce183(0x303)]()[_0x4ce183(0xc03)](0x24)[_0x4ce183(0xb2a)](0x2,0x9);_0x48aade[_0x5cdb8a]={'sara':_0x3e1a3d['sara'],'mainTopic':_0x4a8196[_0x4ce183(0xd82)],'subTopic':_0x179263,'status':'not_generated','lessonContent':null,'order':_0x13e1a4++};});});});try{const _0x1fa1e4=collection(db,_0x1b9733(0x5c6)+appId+_0x1b9733(0x21e));await addDoc(_0x1fa1e4,{'projectName':_0x2c7636,'gradeLevel':_0x45a050,'topics':_0x48aade,'createdAt':serverTimestamp()}),showMessage(_0x1b9733(0x3f7)+_0x2c7636+'\x22\x20สำเร็จ!'),document[_0x1b9733(0x40a)](_0x1b9733(0xc77))['classList'][_0x1b9733(0xa6b)](_0x1b9733(0xc0c));}catch(_0x2e4e81){console[_0x1b9733(0x81d)](_0x1b9733(0xa6f),_0x2e4e81),showMessage(_0x1b9733(0x253));}}function handleClearAllLinksForTopic(_0x28fefc){const _0x282f90=_0x487f42;showConfirmation(_0x282f90(0x82f),async()=>{const _0x453cb2=_0x282f90;try{const _0x3fb068=doc(db,'artifacts/'+appId+_0x453cb2(0x21e),currentBlueprintProjectId);await updateDoc(_0x3fb068,{[_0x453cb2(0x4ed)+_0x28fefc+_0x453cb2(0x9c4)]:[]}),showMessage(_0x453cb2(0x52b)),openTopicQuizBank(_0x28fefc),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x20ed90){console[_0x453cb2(0x81d)]('Error\x20clearing\x20all\x20links:',_0x20ed90),showMessage(_0x453cb2(0x391));}});}function showPodiumView(_0x47e0b0,_0x4ead5f=_0x487f42(0x2a0)){const _0x3c7915=_0x487f42,_0x118418=Object[_0x3c7915(0x28a)](_0x47e0b0)[_0x3c7915(0x71d)](([_0x555d00,_0x41abf1])=>({'name':_0x555d00,'score':_0x41abf1['score']||0x0,'badges':_0x41abf1['badges']||[],'hasPerfectScoreBonus':_0x41abf1[_0x3c7915(0x395)]||![]}));_0x118418['sort']((_0x42f2c1,_0x255d20)=>{const _0x37cff9=_0x3c7915,_0x4dacbb=_0x255d20[_0x37cff9(0xb7c)]-_0x42f2c1[_0x37cff9(0xb7c)];if(_0x4dacbb!==0x0)return _0x4dacbb;return(_0x255d20[_0x37cff9(0x41e)]['length']||0x0)-(_0x42f2c1['badges'][_0x37cff9(0xaf2)]||0x0);});const _0x313607=_0xe84b21=>{const _0x101824=_0x3c7915;if(!_0xe84b21||_0xe84b21[_0x101824(0xaf2)]===0x0)return'';const _0x1a05aa={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0xe84b21[_0x101824(0x71d)](_0xfcc337=>_0x1a05aa[_0xfcc337]||'')[_0x101824(0xb00)]('')+'</div>';},_0x45914d=_0x118418[_0x3c7915(0x6a6)](0x3),_0x469ad9=_0x45914d['length']>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x45914d['map']((_0x4de1e0,_0x1f658f)=>{const _0x17ee82=_0x3c7915,_0x33f525=_0x4de1e0[_0x17ee82(0x395)]?_0x17ee82(0x98a):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x1f658f+0x4)+_0x17ee82(0xbc9)+_0x4de1e0[_0x17ee82(0x408)]+_0x17ee82(0x465)+_0x4de1e0[_0x17ee82(0xb7c)]+'\x20คะแนน\x20'+_0x33f525+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+_0x3c7915(0x754):'',_0x27489a=_0x3c7915(0x9d3)+(_0x118418[0x1]?_0x3c7915(0xab7)+_0x118418[0x1][_0x3c7915(0x408)]+'</p>'+_0x313607(_0x118418[0x1][_0x3c7915(0x41e)])+_0x3c7915(0xa2b)+_0x118418[0x1][_0x3c7915(0xb7c)]+_0x3c7915(0x656)+(_0x118418[0x1][_0x3c7915(0x395)]?_0x3c7915(0xc79):'')+'</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>':_0x3c7915(0xa53))+_0x3c7915(0x37f)+(_0x118418[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x118418[0x0]['name']+_0x3c7915(0x6c7)+_0x313607(_0x118418[0x0][_0x3c7915(0x41e)])+_0x3c7915(0x78c)+_0x118418[0x0]['score']+_0x3c7915(0x656)+(_0x118418[0x0]['hasPerfectScoreBonus']?_0x3c7915(0xc79):'')+'</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>':_0x3c7915(0xa53))+_0x3c7915(0x37f)+(_0x118418[0x2]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x118418[0x2][_0x3c7915(0x408)]+_0x3c7915(0x6c7)+_0x313607(_0x118418[0x2]['badges'])+_0x3c7915(0xa2b)+_0x118418[0x2][_0x3c7915(0xb7c)]+_0x3c7915(0x656)+(_0x118418[0x2][_0x3c7915(0x395)]?_0x3c7915(0xc79):'')+_0x3c7915(0x236):_0x3c7915(0xa53))+_0x3c7915(0x210)+_0x469ad9+_0x3c7915(0x840)+(currentMode===_0x3c7915(0x56d)?'<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>':'<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>')+_0x3c7915(0x203);liveGameView[_0x3c7915(0x843)]=_0x27489a,currentMode===_0x3c7915(0x56d)&&document[_0x3c7915(0x40a)](_0x3c7915(0xa66))[_0x3c7915(0x7d4)]('click',async()=>{const _0x163782=_0x3c7915;let _0x369683;_0x4ead5f===_0x163782(0xbe1)?_0x369683=doc(db,'artifacts/'+appId+_0x163782(0x314),currentLiveGameId):_0x369683=doc(db,_0x163782(0x5c6)+appId+_0x163782(0xa0c),currentLiveGameId),await deleteDoc(_0x369683);});}function renderSyncSummaryView(_0x1d532e,_0xbb6f61,_0x37d678){const _0x4a8f3a=_0x487f42,_0x3dfff2=Object['values'](_0x1d532e[_0x4a8f3a(0x729)]||{}),_0x154096=_0xbb6f61[_0x4a8f3a(0x8c6)]||_0x1d532e[_0x4a8f3a(0x2a2)][_0x4a8f3a(0xc13)];let _0x27de96=[];_0x154096===_0x4a8f3a(0x355)?_0x27de96=[_0x4a8f3a(0x740),_0x4a8f3a(0x21a)]:_0x27de96=_0xbb6f61[_0x4a8f3a(0x614)]||[];const _0x4066de=new Array(_0x27de96[_0x4a8f3a(0xaf2)])['fill'](0x0),_0x11995e={};_0x27de96[_0x4a8f3a(0xa40)]((_0x1a6eeb,_0x2491b5)=>{_0x11995e[_0x2491b5]=[];}),Object[_0x4a8f3a(0x28a)](_0x1d532e['players']||{})['forEach'](([_0x58782d,_0x19393d])=>{const _0x1c8c0c=_0x4a8f3a;if(_0x19393d[_0x1c8c0c(0xade)]!==_0x1c8c0c(0x479)&&_0x19393d[_0x1c8c0c(0x286)]!==undefined&&_0x19393d[_0x1c8c0c(0x286)]!==null){const _0x30b4c0=_0x19393d['lastAnswerIndex'];_0x11995e[_0x30b4c0]!==undefined&&(_0x11995e[_0x30b4c0][_0x1c8c0c(0x511)](_0x58782d),_0x4066de[_0x30b4c0]++);}});let _0x5ae940='';_0x37d678?_0x5ae940=_0x4a8f3a(0x5b5):_0x5ae940=_0x4a8f3a(0x23a);const _0x52a664=_0x4a8f3a(0xb04)+_0xbb6f61[_0x4a8f3a(0x467)]+_0x4a8f3a(0x5bd)+_0x4066de[_0x4a8f3a(0x71d)]((_0x5f2062,_0x172d87)=>{const _0x10035c=_0x4a8f3a,_0x5f459d=_0x11995e[_0x172d87]['length']>0x0?_0x11995e[_0x172d87]['join'](',\x20'):_0x10035c(0x7fc),_0x3c76cc=_0x10035c(0xbbd);return _0x10035c(0xcf9)+_0x5f2062+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20'+_0x3c76cc+_0x10035c(0x419)+_0x172d87+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x27de96[_0x172d87]+_0x10035c(0x453)+_0x172d87+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5f459d+_0x10035c(0x2e9);})[_0x4a8f3a(0xb00)]('')+_0x4a8f3a(0xab1)+_0x5ae940+_0x4a8f3a(0x874);liveGameView[_0x4a8f3a(0x843)]=_0x52a664;if(window[_0x4a8f3a(0xcc0)])MathJax[_0x4a8f3a(0x8b2)]();_0x37d678&&(document[_0x4a8f3a(0x40a)](_0x4a8f3a(0xc6e))['addEventListener']('click',async()=>{const _0x537992=_0x4a8f3a,_0x2ac116=doc(db,_0x537992(0x5c6)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x2ac116,{'status':_0x537992(0x534)});}),document['getElementById'](_0x4a8f3a(0x5a8))[_0x4a8f3a(0x569)]=()=>{openScratchpad(_0xbb6f61,_0x27de96);});}async function handleShowStudentRankings(){const _0x2e49f2=_0x487f42,_0x585939=document[_0x2e49f2(0xaef)]('#student-quiz-leaderboard-content\x20thead');_0x585939&&(_0x585939[_0x2e49f2(0x843)]=_0x2e49f2(0x514));const _0x14b091=document[_0x2e49f2(0xaef)](_0x2e49f2(0x572));_0x14b091&&(_0x14b091[_0x2e49f2(0x843)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x4c9947=document[_0x2e49f2(0x40a)](_0x2e49f2(0x361));_0x4c9947[_0x2e49f2(0xad3)][_0x2e49f2(0x432)]('hidden'),document['getElementById']('close-student-rankings-btn')[_0x2e49f2(0x569)]=()=>_0x4c9947[_0x2e49f2(0xad3)][_0x2e49f2(0xa6b)](_0x2e49f2(0xc0c));const _0x2492cb=document[_0x2e49f2(0x40a)]('student-quiz-leaderboard-tab'),_0x57a8ee=document[_0x2e49f2(0x40a)](_0x2e49f2(0x895)),_0x14d2cc=document['getElementById'](_0x2e49f2(0x861)),_0x93978c=document['getElementById']('student-project-leaderboard-content');_0x2492cb['onclick']=()=>{const _0x1ae369=_0x2e49f2;_0x2492cb['classList'][_0x1ae369(0xa6b)]('active'),_0x57a8ee[_0x1ae369(0xad3)][_0x1ae369(0x432)]('active'),_0x14d2cc[_0x1ae369(0xad3)][_0x1ae369(0x432)](_0x1ae369(0xc0c)),_0x93978c['classList'][_0x1ae369(0xa6b)](_0x1ae369(0xc0c));},_0x57a8ee[_0x2e49f2(0x569)]=()=>{const _0x2dbe7c=_0x2e49f2;_0x57a8ee[_0x2dbe7c(0xad3)][_0x2dbe7c(0xa6b)](_0x2dbe7c(0xd29)),_0x2492cb[_0x2dbe7c(0xad3)][_0x2dbe7c(0x432)]('active'),_0x93978c['classList'][_0x2dbe7c(0x432)]('hidden'),_0x14d2cc[_0x2dbe7c(0xad3)][_0x2dbe7c(0xa6b)](_0x2dbe7c(0xc0c));};try{const _0x398005=collection(db,_0x2e49f2(0x5c6)+appId+_0x2e49f2(0xcef)+currentQuizData['id']+_0x2e49f2(0x7ea)),_0x56b83a=await getDocs(_0x398005),_0x3ee30c=_0x56b83a[_0x2e49f2(0xb2e)][_0x2e49f2(0x71d)](_0x26fbdf=>_0x26fbdf[_0x2e49f2(0x225)]());renderQuizLeaderboard(_0x3ee30c,currentQuizData,'student-quiz-leaderboard-table-body');const _0xbb8e90=collection(db,_0x2e49f2(0x5c6)+appId+_0x2e49f2(0xc3b)+currentQuizData[_0x2e49f2(0x84e)]+_0x2e49f2(0x36d)),_0x2a594b=await getDocs(_0xbb8e90),_0x21cae0=_0x2a594b['docs'][_0x2e49f2(0x71d)](_0x4c843f=>_0x4c843f[_0x2e49f2(0x225)]());renderLeaderboard(_0x21cae0,_0x2e49f2(0x3de));}catch(_0x3b4fcf){console[_0x2e49f2(0x81d)](_0x2e49f2(0x46b),_0x3b4fcf),showMessage(_0x2e49f2(0xc20));}}async function handleSaveToBank(_0x4d28c8){const _0x122c66=_0x487f42,_0x23724b=_0x4d28c8[_0x122c66(0x340)],_0xf9f392=_0x23724b[_0x122c66(0x48f)]['index'],_0x4f762c=currentQuizData[_0x122c66(0x726)][_0xf9f392];if(!userId){showMessage(_0x122c66(0x9cb));return;}try{const _0x2d68a7={..._0x4f762c,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x1bc66b=collection(db,'artifacts/'+appId+_0x122c66(0x6a0)+userId+_0x122c66(0x306));await addDoc(_0x1bc66b,_0x2d68a7),showMessage(_0x122c66(0x30d)),_0x23724b['classList'][_0x122c66(0x432)]('text-purple-600'),_0x23724b[_0x122c66(0xad3)][_0x122c66(0xa6b)]('text-green-600'),_0x23724b[_0x122c66(0x4c2)]=!![];}catch(_0x3f4da6){console[_0x122c66(0x81d)]('Error\x20saving\x20to\x20question\x20bank:',_0x3f4da6),showMessage(_0x122c66(0xb3a));}}async function selectProjectAndGenerateBlueprintQuiz(_0x56c9df,_0x636588=null,_0x2af752=null,_0x1ae0e1=![]){const _0x3167a4=_0x487f42;cameFromBlueprint=!![];const _0x29b7e4=document[_0x3167a4(0x40a)](_0x3167a4(0x72f))?.['value'][_0x3167a4(0x1fb)]();let _0x4046a8=null;if(_0x29b7e4){showMessage(_0x3167a4(0x70c));try{const _0x39c0a1=await fetchFileFromUrl(_0x29b7e4,_0x3167a4(0x29c)),_0x47d21d=await new Promise((_0x458e33,_0x41d479)=>{const _0x311d2e=_0x3167a4,_0x2dde6f=new FileReader();_0x2dde6f[_0x311d2e(0x5f3)](_0x39c0a1),_0x2dde6f[_0x311d2e(0x2e1)]=()=>_0x458e33(_0x2dde6f[_0x311d2e(0x751)][_0x311d2e(0x67b)](',')[0x1]),_0x2dde6f[_0x311d2e(0xc1b)]=_0x41d479;});_0x4046a8=[{'inlineData':{'mimeType':_0x39c0a1[_0x3167a4(0x50b)],'data':_0x47d21d}}],messageModal[_0x3167a4(0xad3)][_0x3167a4(0xa6b)](_0x3167a4(0xc0c));}catch(_0x2b07fb){console[_0x3167a4(0x81d)](_0x3167a4(0x47f),_0x2b07fb),showMessage('ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ');}}const _0x4aa3fc=document[_0x3167a4(0x40a)](_0x3167a4(0x8a0)),_0x4aaa7a=document[_0x3167a4(0x40a)]('move-quiz-project-select'),_0x4f4a0d=_0x4aa3fc[_0x3167a4(0xaef)]('h3'),_0x1231ac=document[_0x3167a4(0x40a)]('confirm-move-quiz-btn'),_0x1e23ad=document[_0x3167a4(0x40a)](_0x3167a4(0xb78));_0x4f4a0d[_0x3167a4(0x642)]=_0x3167a4(0xcb5),_0x1231ac['textContent']='เลือกและเริ่มสร้าง',_0x1231ac[_0x3167a4(0x4c2)]=!![];allProjects[_0x3167a4(0xaf2)]===0x0?_0x4aaa7a[_0x3167a4(0x843)]=_0x3167a4(0xc71):(_0x4aaa7a[_0x3167a4(0x843)]=_0x3167a4(0x3d7)+allProjects[_0x3167a4(0x71d)](_0x41d0d9=>_0x3167a4(0x648)+_0x41d0d9['id']+'\x22>'+_0x41d0d9['projectName']+_0x3167a4(0x343))[_0x3167a4(0xb00)](''),_0x1231ac[_0x3167a4(0x4c2)]=![]);_0x4aa3fc[_0x3167a4(0xad3)]['remove'](_0x3167a4(0xc0c));const _0x4cc79a=async()=>{const _0x22a410=_0x3167a4,_0x414a62=_0x4aaa7a[_0x22a410(0x6cb)];if(!_0x414a62){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x4aa3fc['classList']['add'](_0x22a410(0xc0c)),document['getElementById'](_0x22a410(0x312))['classList'][_0x22a410(0xa6b)](_0x22a410(0xc0c)),await loadProjectDetails(_0x414a62),showView(_0x22a410(0x347)),handleGenerateQuizFromBlueprintTopic(_0x56c9df,_0x636588,_0x414a62,_0x2af752,_0x1ae0e1,_0x4046a8),_0x200eff();},_0x200eff=()=>{const _0x2852d7=_0x3167a4;_0x4f4a0d[_0x2852d7(0x642)]=_0x2852d7(0x993),_0x1231ac['textContent']=_0x2852d7(0x577),_0x1231ac['removeEventListener'](_0x2852d7(0x859),_0x4cc79a),_0x1e23ad[_0x2852d7(0x636)]('click',_0x200eff),_0x1231ac['addEventListener'](_0x2852d7(0x859),confirmMoveQuiz);};_0x1231ac['removeEventListener'](_0x3167a4(0x859),confirmMoveQuiz),_0x1231ac[_0x3167a4(0x7d4)](_0x3167a4(0x859),_0x4cc79a),_0x1e23ad[_0x3167a4(0x7d4)]('click',_0x200eff);}function listenForStarredQuizzes(){const _0x3b3443=_0x487f42;if(!userId)return;const _0x33d3aa=collection(db,'artifacts/'+appId+_0x3b3443(0x7ac)),_0x108577=query(_0x33d3aa,where('isStarred','==',!![]));onSnapshot(_0x108577,_0x12223b=>{const _0x44ff08=_0x3b3443;starredQuizzes=_0x12223b[_0x44ff08(0xb2e)][_0x44ff08(0x71d)](_0x113913=>({'id':_0x113913['id'],..._0x113913['data']()})),currentProjectId===_0x44ff08(0xb7b)?renderQuizzes():renderProjects();},_0x1c2260=>{const _0x1119cd=_0x3b3443;console['error'](_0x1119cd(0x8e7),_0x1c2260);});}function listenForFileShortcuts(){const _0x4c2970=_0x487f42,_0x434182=doc(db,_0x4c2970(0x440),_0x4c2970(0xbe2));onSnapshot(_0x434182,_0x1a529a=>{const _0x301eca=_0x4c2970;let _0x3f0764=[],_0x1d0820=[],_0x1e092f={};if(_0x1a529a[_0x301eca(0xd6a)]()){const _0x9b8223=_0x1a529a[_0x301eca(0x225)]();_0x3f0764=_0x9b8223['shortcuts']||[],_0x1d0820=_0x9b8223[_0x301eca(0x535)]||[],_0x1e092f=_0x9b8223[_0x301eca(0x532)]||{};}!_0x1d0820[_0x301eca(0x8d2)](_0x5ba62c=>_0x5ba62c['id']===_0x301eca(0xb90))&&_0x1d0820[_0x301eca(0x6b2)]({'id':'all','name':_0x301eca(0x6ac),'isDefault':!![]}),!_0x3f0764[_0x301eca(0x8d2)](_0x397853=>_0x397853['id']==='file-default-1')&&_0x3f0764[_0x301eca(0x6b2)]({'id':'file-default-1','name':_0x301eca(0x42f),'url':'','isDefault':!![]}),!_0x3f0764[_0x301eca(0x8d2)](_0x2a1b29=>_0x2a1b29['id']===_0x301eca(0xb9b))&&_0x3f0764[_0x301eca(0x6b2)]({'id':_0x301eca(0xb9b),'name':_0x301eca(0xc33),'url':'','isDefault':!![]}),fileShortcuts=_0x3f0764,fileShortcutTabs=_0x1d0820,fileShortcutOrder=_0x1e092f,renderFileShortcuts(),!document[_0x301eca(0x40a)](_0x301eca(0xbb6))[_0x301eca(0xad3)][_0x301eca(0x560)](_0x301eca(0xc0c))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x1e7323=_0x487f42,_0x549333=doc(db,_0x1e7323(0x440),_0x1e7323(0xbe2));try{await setDoc(_0x549333,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x31f966){console[_0x1e7323(0x81d)](_0x1e7323(0x494),_0x31f966);}}function renderAdditionalFileShortcutsModal(){const _0x109c51=_0x487f42,_0x33a9ca=document[_0x109c51(0x40a)](_0x109c51(0x4d4)),_0x5c738e=document['getElementById'](_0x109c51(0x8d3));if(!_0x33a9ca||!_0x5c738e)return;_0x33a9ca[_0x109c51(0x843)]=fileShortcutTabs[_0x109c51(0x71d)](_0x1979da=>{const _0x2179c2=_0x109c51,_0x699b80=_0x1979da['id']===activeFileShortcutTabId;return _0x2179c2(0x27b)+_0x1979da['id']+_0x2179c2(0x662)+(_0x699b80?_0x2179c2(0x32c):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x2179c2(0xbe3)+_0x1979da[_0x2179c2(0x408)]+_0x2179c2(0x438)+_0x1979da[_0x2179c2(0x408)]+_0x2179c2(0x6ce)+(!_0x1979da[_0x2179c2(0xac0)]?'<button\x20data-tab-id=\x22'+_0x1979da['id']+_0x2179c2(0x20c):'')+_0x2179c2(0x88e);})[_0x109c51(0xb00)]('');const _0x155e84=fileShortcutTabs[_0x109c51(0x8d2)](_0x379398=>_0x379398['id']===activeFileShortcutTabId);let _0x273836=_0x155e84?.[_0x109c51(0xac0)]?[...fileShortcuts]:fileShortcuts['filter'](_0x83d9b3=>(_0x155e84?.[_0x109c51(0x3ed)]||[])[_0x109c51(0x2a9)](_0x83d9b3['id']));const _0x54adba=fileShortcutOrder[activeFileShortcutTabId]||[];_0x273836[_0x109c51(0x9ff)]((_0x8be4b5,_0x23989e)=>{const _0x9a7409=_0x109c51,_0x508e06=_0x54adba['indexOf'](_0x8be4b5['id']),_0x4b353c=_0x54adba[_0x9a7409(0xb4d)](_0x23989e['id']);return(_0x508e06===-0x1?Infinity:_0x508e06)-(_0x4b353c===-0x1?Infinity:_0x4b353c);}),_0x5c738e['innerHTML']=_0x273836['map'](_0x1a6024=>{const _0xbd1e97=_0x109c51,_0x18caab=_0x1a6024['url']?'📄':'🔗',_0x4e767a=fileShortcutTabs[_0xbd1e97(0x24b)](_0x53d0ce=>!_0x53d0ce[_0xbd1e97(0xac0)]),_0x4fe70d=_0x155e84[_0xbd1e97(0xac0)]&&_0x4e767a['length']>0x0?_0xbd1e97(0x2bd)+_0x4e767a[_0xbd1e97(0x71d)](_0x5a80da=>_0xbd1e97(0x503)+_0x1a6024['id']+_0xbd1e97(0xb65)+_0x5a80da['id']+'\x22>'+_0x5a80da[_0xbd1e97(0x408)]+_0xbd1e97(0xc00))[_0xbd1e97(0xb00)]('')+_0xbd1e97(0x500):'';return _0xbd1e97(0x5d5)+_0x1a6024['id']+_0xbd1e97(0xa24)+_0x18caab+'\x20'+_0x1a6024['name']+_0xbd1e97(0x30b)+_0x1a6024['id']+_0xbd1e97(0x339)+_0x1a6024['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x1a6024['isDefault']?'<button\x20data-id=\x22'+_0x1a6024['id']+_0xbd1e97(0xc7f):'')+_0xbd1e97(0x7f4)+(!_0x155e84['isDefault']?_0xbd1e97(0xa46)+_0x1a6024['id']+_0xbd1e97(0x8bc):'')+_0xbd1e97(0x7f4)+_0x4fe70d+_0xbd1e97(0x949);})['join']('')||_0x109c51(0xccf),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x28b6d5=_0x487f42;document[_0x28b6d5(0x93e)]('.file-shortcut-tab-btn')[_0x28b6d5(0xa40)](_0x49a46b=>{const _0x329efa=_0x28b6d5;_0x49a46b[_0x329efa(0x569)]=_0x36b5eb=>{const _0x39ef2a=_0x329efa;activeFileShortcutTabId=_0x36b5eb[_0x39ef2a(0x340)][_0x39ef2a(0x48f)][_0x39ef2a(0x8f3)],renderAdditionalFileShortcutsModal();},_0x49a46b[_0x329efa(0x9bd)]=_0x458f25=>{const _0x5514d2=_0x329efa,_0x4b7a4f=_0x458f25[_0x5514d2(0x340)][_0x5514d2(0xaef)]('.tab-name-input');_0x458f25[_0x5514d2(0x340)][_0x5514d2(0xaef)](_0x5514d2(0xce9))[_0x5514d2(0xad3)]['add'](_0x5514d2(0xc0c)),_0x4b7a4f[_0x5514d2(0xad3)]['remove']('hidden'),_0x4b7a4f['focus'](),_0x4b7a4f[_0x5514d2(0x7f1)]();};}),document[_0x28b6d5(0x93e)](_0x28b6d5(0xd15))[_0x28b6d5(0xa40)](_0x4b23fc=>{const _0x1c5452=_0x28b6d5,_0x3a102d=()=>{const _0x89baa2=_0x4191,_0x1e777b=_0x4b23fc[_0x89baa2(0xad9)](_0x89baa2(0x727))[_0x89baa2(0x48f)]['tabId'],_0x3d6d80=fileShortcutTabs[_0x89baa2(0x8d2)](_0x35b7fe=>_0x35b7fe['id']===_0x1e777b);_0x3d6d80&&(_0x3d6d80[_0x89baa2(0x408)]=_0x4b23fc[_0x89baa2(0x6cb)][_0x89baa2(0x1fb)]()||_0x3d6d80[_0x89baa2(0x408)],saveFileShortcutConfig());};_0x4b23fc[_0x1c5452(0x31e)]=_0x3a102d,_0x4b23fc['onkeydown']=_0x9ca5ca=>{const _0x300600=_0x1c5452;if(_0x9ca5ca[_0x300600(0xd2d)]==='Enter')_0x4b23fc[_0x300600(0x62d)]();};}),document[_0x28b6d5(0x93e)](_0x28b6d5(0x60d))[_0x28b6d5(0xa40)](_0xef94a7=>_0xef94a7['onclick']=_0x208c6e=>{const _0x3253ca=_0x28b6d5,_0x50edc3=_0x208c6e[_0x3253ca(0x340)]['dataset'][_0x3253ca(0x8f3)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0xe6f8f8=_0x3253ca;fileShortcutTabs=fileShortcutTabs['filter'](_0x3d66af=>_0x3d66af['id']!==_0x50edc3),delete fileShortcutOrder[_0x50edc3];if(activeFileShortcutTabId===_0x50edc3)activeFileShortcutTabId=_0xe6f8f8(0xb90);saveFileShortcutConfig();});}),document['querySelectorAll']('.move-file-shortcut-item')[_0x28b6d5(0xa40)](_0x4762f2=>_0x4762f2[_0x28b6d5(0x569)]=_0x1467ef=>{const _0xc7a5e4=_0x28b6d5;_0x1467ef[_0xc7a5e4(0xd6b)]();const {shortcutId:_0x284803,targetTabId:_0x5980ba}=_0x1467ef[_0xc7a5e4(0x340)][_0xc7a5e4(0x48f)],_0x118ef6=fileShortcutTabs[_0xc7a5e4(0x8d2)](_0x13a5f0=>_0x13a5f0['id']===_0x5980ba);_0x118ef6&&!_0x118ef6[_0xc7a5e4(0x3ed)][_0xc7a5e4(0x2a9)](_0x284803)&&(_0x118ef6['shortcutIds'][_0xc7a5e4(0x511)](_0x284803),saveFileShortcutConfig());}),document[_0x28b6d5(0x93e)](_0x28b6d5(0x478))[_0x28b6d5(0xa40)](_0x255376=>_0x255376['onclick']=_0x6e6563=>{const _0x54a031=_0x28b6d5,_0x443866=_0x6e6563['currentTarget'][_0x54a031(0x48f)]['shortcutId'],_0x50d3ee=fileShortcutTabs[_0x54a031(0x8d2)](_0xbe49bd=>_0xbe49bd['id']===activeFileShortcutTabId);_0x50d3ee&&!_0x50d3ee['isDefault']&&(_0x50d3ee[_0x54a031(0x3ed)]=_0x50d3ee['shortcutIds']['filter'](_0x1e2768=>_0x1e2768!==_0x443866),saveFileShortcutConfig());}),document[_0x28b6d5(0x93e)](_0x28b6d5(0x97b))[_0x28b6d5(0xa40)](_0x33f306=>_0x33f306[_0x28b6d5(0x569)]=_0x48a634=>{const _0x55df40=_0x28b6d5;_0x48a634[_0x55df40(0x6db)]();const _0x817687=_0x48a634[_0x55df40(0x340)][_0x55df40(0x272)];document['querySelectorAll'](_0x55df40(0x90b))[_0x55df40(0xa40)](_0x4fa932=>_0x4fa932['classList'][_0x55df40(0xa6b)](_0x55df40(0xc0c))),_0x817687[_0x55df40(0xad3)]['remove']('hidden');});const _0x4e60a6=document[_0x28b6d5(0x40a)](_0x28b6d5(0x8d3));let _0x3b00f2=null;_0x4e60a6['ondragstart']=_0x5e96c6=>{const _0x8c7154=_0x28b6d5;_0x3b00f2=_0x5e96c6[_0x8c7154(0x5c1)][_0x8c7154(0xad9)](_0x8c7154(0x5dd));if(_0x3b00f2)setTimeout(()=>_0x3b00f2['classList']['add'](_0x8c7154(0x8e5)),0x0);},_0x4e60a6[_0x28b6d5(0x58a)]=()=>{const _0x5d14ea=_0x28b6d5;_0x3b00f2&&(_0x3b00f2[_0x5d14ea(0xad3)][_0x5d14ea(0x432)](_0x5d14ea(0x8e5)),_0x3b00f2=null);},_0x4e60a6[_0x28b6d5(0x837)]=_0x35abaa=>{_0x35abaa['preventDefault']();},_0x4e60a6[_0x28b6d5(0x86c)]=_0x3211d7=>{const _0x137357=_0x28b6d5;_0x3211d7[_0x137357(0xd6b)]();if(_0x3b00f2){const _0x2c2ca0=[..._0x4e60a6[_0x137357(0x93e)]('.shortcut-list-item:not(.opacity-50)')][_0x137357(0x209)]((_0x171f4d,_0x49ed4)=>{const _0x4cbd18=_0x137357,_0x53ee3a=_0x49ed4['getBoundingClientRect'](),_0x1279ce=_0x3211d7[_0x4cbd18(0x341)]-_0x53ee3a[_0x4cbd18(0x8cf)]-_0x53ee3a[_0x4cbd18(0x70e)]/0x2;return _0x1279ce<0x0&&_0x1279ce>_0x171f4d[_0x4cbd18(0x910)]?{'offset':_0x1279ce,'element':_0x49ed4}:_0x171f4d;},{'offset':Number[_0x137357(0x5e5)]})['element'];_0x2c2ca0==null?_0x4e60a6[_0x137357(0x84d)](_0x3b00f2):_0x4e60a6[_0x137357(0xb32)](_0x3b00f2,_0x2c2ca0);const _0x12f8aa=[..._0x4e60a6[_0x137357(0x93e)](_0x137357(0x5dd))][_0x137357(0x71d)](_0x1ab649=>_0x1ab649[_0x137357(0x48f)]['shortcutId']);fileShortcutOrder[activeFileShortcutTabId]=_0x12f8aa,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x497f24=_0x487f42,_0x5d5fcd=prompt('กรุณาตั้งชื่อแท็บใหม่:','แท็บใหม่');_0x5d5fcd&&_0x5d5fcd[_0x497f24(0x1fb)]()&&(fileShortcutTabs[_0x497f24(0x511)]({'id':_0x497f24(0x400)+Date[_0x497f24(0x875)](),'name':_0x5d5fcd[_0x497f24(0x1fb)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x3f0c6a=_0x487f42,_0x27367f=document['getElementById'](_0x3f0c6a(0x5b9)),_0x2436a0=document['getElementById']('additional-file-shortcuts-list'),_0x2303e7=document['getElementById'](_0x3f0c6a(0x7ce));if(_0x2303e7)_0x2303e7[_0x3f0c6a(0xad3)][_0x3f0c6a(0xa6b)](_0x3f0c6a(0xc0c));if(!_0x27367f||!_0x2436a0)return;const _0x3d6ab1=fileShortcuts[_0x3f0c6a(0x6a6)](0x0,0x4),_0x613111=fileShortcuts[_0x3f0c6a(0x6a6)](0x4);_0x27367f['innerHTML']=_0x3d6ab1[_0x3f0c6a(0x71d)](_0x24617b=>{const _0x500c11=_0x3f0c6a,_0x423442=_0x24617b[_0x500c11(0x69b)]&&_0x24617b['url'][_0x500c11(0x1fb)]()!=='',_0x41c28d=selectedFile&&selectedFile[_0x500c11(0x586)]===_0x24617b['id'];let _0x1fd21b=_0x500c11(0x79c),_0x2763ea='🔗';if(_0x41c28d)_0x1fd21b=_0x500c11(0x967),_0x2763ea='<i\x20class=\x22fas\x20fa-check-circle\x22></i>';else _0x423442&&(_0x1fd21b=_0x500c11(0xbee),_0x2763ea='📄');const _0x1983a9=!_0x24617b[_0x500c11(0xac0)]?_0x500c11(0x68f)+_0x24617b['id']+'\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x500c11(0xc65)+_0x24617b['id']+_0x500c11(0xa0a)+_0x1fd21b+_0x500c11(0x9d1)+_0x2763ea+_0x500c11(0x393)+_0x24617b['name']+_0x500c11(0xb89)+_0x24617b['id']+'\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1983a9+_0x500c11(0xd5c);})[_0x3f0c6a(0xb00)](''),_0x613111[_0x3f0c6a(0xaf2)]>0x0&&(_0x27367f[_0x3f0c6a(0x843)]+=_0x3f0c6a(0x401)),_0x613111[_0x3f0c6a(0xaf2)]>0x0?_0x2436a0[_0x3f0c6a(0x843)]=_0x613111[_0x3f0c6a(0x71d)](_0x57808f=>_0x3f0c6a(0x58d)+(_0x57808f['url']?'📄':'🔗')+'\x20'+_0x57808f[_0x3f0c6a(0x408)]+_0x3f0c6a(0x980)+_0x57808f['id']+_0x3f0c6a(0x9cd)+_0x57808f['id']+_0x3f0c6a(0x3d4)+(!_0x57808f['isDefault']?_0x3f0c6a(0x68f)+_0x57808f['id']+_0x3f0c6a(0xc7f):'')+_0x3f0c6a(0xbf3))[_0x3f0c6a(0xb00)](''):_0x2436a0[_0x3f0c6a(0x843)]=_0x3f0c6a(0x787);}function openFileShortcutEditor(_0x2662f0=null){const _0x1c2222=_0x487f42,_0x3af39a=document[_0x1c2222(0x40a)](_0x1c2222(0x9ea)),_0x5587c9=document['getElementById'](_0x1c2222(0xa08)),_0x330214=document[_0x1c2222(0x40a)]('file-shortcut-id-input'),_0x4912e9=document['getElementById'](_0x1c2222(0x735)),_0x1b19c4=document[_0x1c2222(0x40a)]('file-shortcut-url-input');if(_0x2662f0){const _0x3d23a6=fileShortcuts[_0x1c2222(0x8d2)](_0x222a4e=>_0x222a4e['id']===_0x2662f0);if(!_0x3d23a6)return;_0x5587c9['textContent']=_0x1c2222(0x2c1),_0x330214[_0x1c2222(0x6cb)]=_0x3d23a6['id'],_0x4912e9['value']=_0x3d23a6[_0x1c2222(0x408)],_0x1b19c4[_0x1c2222(0x6cb)]=_0x3d23a6['url']||'';}else _0x5587c9[_0x1c2222(0x642)]=_0x1c2222(0xace),_0x330214[_0x1c2222(0x6cb)]='',_0x4912e9['value']='',_0x1b19c4[_0x1c2222(0x6cb)]='';_0x3af39a[_0x1c2222(0xad3)][_0x1c2222(0x432)](_0x1c2222(0xc0c));}async function saveFileShortcutChanges(){const _0x17c54b=_0x487f42,_0x3a4afc=document[_0x17c54b(0x40a)](_0x17c54b(0x42d))['value'],_0xf0290=document[_0x17c54b(0x40a)]('file-shortcut-name-input')[_0x17c54b(0x6cb)][_0x17c54b(0x1fb)](),_0x340d84=document[_0x17c54b(0x40a)](_0x17c54b(0xd7e))[_0x17c54b(0x6cb)][_0x17c54b(0x1fb)]();if(!_0xf0290){showMessage(_0x17c54b(0x409));return;}const _0x5c656c={'id':_0x3a4afc||_0x17c54b(0x24e)+Date[_0x17c54b(0x875)](),'name':_0xf0290,'url':_0x340d84,'isDefault':_0x3a4afc[_0x17c54b(0xd86)]('file-default-')};let _0x3c3c06;_0x3a4afc?_0x3c3c06=fileShortcuts[_0x17c54b(0x71d)](_0xfc5582=>_0xfc5582['id']===_0x3a4afc?_0x5c656c:_0xfc5582):_0x3c3c06=[...fileShortcuts,_0x5c656c];try{const _0x5f54b3=doc(db,_0x17c54b(0x440),_0x17c54b(0xbe2));await setDoc(_0x5f54b3,{'shortcuts':_0x3c3c06},{'merge':!![]}),document['getElementById'](_0x17c54b(0x9ea))[_0x17c54b(0xad3)]['add'](_0x17c54b(0xc0c));}catch(_0x29c274){console[_0x17c54b(0x81d)](_0x17c54b(0x870),_0x29c274),showMessage(_0x17c54b(0xb3a));}}async function handleFileShortcutClick(_0x2c40ef){const _0x25276e=_0x487f42,_0x13c72c=fileShortcuts[_0x25276e(0x8d2)](_0x4ffe75=>_0x4ffe75['id']===_0x2c40ef);if(!_0x13c72c)return;if(!_0x13c72c[_0x25276e(0x69b)]||_0x13c72c[_0x25276e(0x69b)][_0x25276e(0x1fb)]()===''){openFileShortcutEditor(_0x2c40ef);return;}const _0x487965=document['querySelector'](_0x25276e(0x6bc)+_0x2c40ef+'\x22]');if(_0x487965){const _0x4907e7=_0x487965[_0x25276e(0x843)];_0x487965[_0x25276e(0x843)]='<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>',_0x487965[_0x25276e(0x4c2)]=!![];}document[_0x25276e(0x93e)](_0x25276e(0x7b6))[_0x25276e(0xa40)](_0x14f867=>{const _0x5edb49=_0x25276e;if(_0x14f867[_0x5edb49(0x48f)]['id']!==_0x2c40ef)_0x14f867[_0x5edb49(0xad3)][_0x5edb49(0xa6b)](_0x5edb49(0x8e5),_0x5edb49(0x617));});try{const _0x4fbc8a=new URL(_0x13c72c['url'])[_0x25276e(0x8a7)],_0x5a6fef=_0x4fbc8a[_0x25276e(0x271)](_0x4fbc8a['lastIndexOf']('/')+0x1)||(_0x13c72c[_0x25276e(0x69b)][_0x25276e(0x2a9)](_0x25276e(0x510))?_0x25276e(0xb03):_0x25276e(0x1ff)),_0x56a955=await fetchFileFromUrl(_0x13c72c[_0x25276e(0x69b)],_0x5a6fef);_0x56a955[_0x25276e(0x586)]=_0x2c40ef,selectedFile=_0x56a955,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x25276e(0x40a)](_0x25276e(0xb77))[_0x25276e(0x788)]({'behavior':_0x25276e(0x4d8),'block':_0x25276e(0xac3)});}catch(_0x3a9408){console[_0x25276e(0x81d)](_0x25276e(0x7bb),_0x3a9408),showMessage(_0x25276e(0x887)+_0x3a9408[_0x25276e(0xc94)]),renderFileShortcuts();}finally{document[_0x25276e(0x93e)]('.file-shortcut-btn')[_0x25276e(0xa40)](_0x7fe9a0=>{const _0x5e96fe=_0x25276e;_0x7fe9a0[_0x5e96fe(0xad3)]['remove'](_0x5e96fe(0x8e5),_0x5e96fe(0x617)),_0x7fe9a0[_0x5e96fe(0x4c2)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x2f3271=_0x487f42;if(allQuizzesGlobal['length']>0x0)return;console[_0x2f3271(0x681)](_0x2f3271(0xc84)),showMessage('กำลังโหลดคลังข้อสอบทั้งหมด...');try{const _0x9a304c=await getDocs(collection(db,_0x2f3271(0x5c6)+appId+_0x2f3271(0x7ac)));allQuizzesGlobal=_0x9a304c['docs'][_0x2f3271(0x71d)](_0x3df84c=>({'id':_0x3df84c['id'],..._0x3df84c[_0x2f3271(0x225)]()})),console['log'](_0x2f3271(0x533)+allQuizzesGlobal[_0x2f3271(0xaf2)]+_0x2f3271(0x85b)),messageModal['classList'][_0x2f3271(0xa6b)](_0x2f3271(0xc0c));}catch(_0x15ef0e){console[_0x2f3271(0x81d)](_0x2f3271(0x9e1),_0x15ef0e),messageModal['classList'][_0x2f3271(0xa6b)](_0x2f3271(0xc0c));throw new Error(_0x2f3271(0xcbc));}}function exportQuizAsWorksheetPDF(){const _0x49d625=_0x487f42;if(!currentQuizData||!currentQuizData[_0x49d625(0x726)]){showMessage(_0x49d625(0x2ef));return;}const _0x519dc9=currentQuizData,_0x485455=window[_0x49d625(0x93a)]('',_0x49d625(0x34b)),_0x509cd7=_0x6dd7cb=>String[_0x49d625(0xd1d)](0x41+_0x6dd7cb),_0x424892=_0x49d625(0x929)+_0x519dc9['topic']+_0x49d625(0x626)+_0x519dc9[_0x49d625(0xc30)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x519dc9[_0x49d625(0x726)][_0x49d625(0x71d)]((_0x2bcd13,_0x3f5582)=>{const _0x2604a0=_0x49d625;let _0x58fe36='';const _0x2dbc29=_0x2bcd13['questionType']||_0x519dc9['quizType'];switch(_0x2dbc29){case _0x2604a0(0xd14):case _0x2604a0(0x59f):_0x58fe36='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x2bcd13[_0x2604a0(0x614)][_0x2604a0(0x71d)]((_0x44a9ac,_0x1beb17)=>_0x2604a0(0xbf7)+_0x509cd7(_0x1beb17)+'.\x20'+_0x44a9ac+_0x2604a0(0xbb2))[_0x2604a0(0xb00)](_0x2604a0(0xbff))+_0x2604a0(0xcc7);break;case _0x2604a0(0x355):_0x58fe36=_0x2604a0(0x57a);break;default:_0x58fe36=_0x2604a0(0x9ab);break;}return _0x2604a0(0xba8)+(_0x3f5582+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x2bcd13[_0x2604a0(0x593)]||_0x2bcd13[_0x2604a0(0x467)])+_0x2604a0(0x265)+(_0x2bcd13[_0x2604a0(0x41c)]?_0x2604a0(0xd19)+_0x2bcd13[_0x2604a0(0x41c)]+_0x2604a0(0xcc7):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x58fe36+_0x2604a0(0xb5d);})['join']('')+_0x49d625(0x7bd);_0x485455[_0x49d625(0xb3f)][_0x49d625(0xd6d)](_0x424892),_0x485455[_0x49d625(0xb3f)][_0x49d625(0x327)](),_0x485455['onload']=function(){setTimeout(()=>{const _0x3f85a9=_0x4191;_0x485455[_0x3f85a9(0x75e)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x154b69=_0x487f42;if(!currentQuizData||!currentQuizData[_0x154b69(0x726)]){showMessage(_0x154b69(0x2ef));return;}const _0x3fab2a=currentQuizData,_0x23bf1a=window['open']('',_0x154b69(0x34b)),_0x494393=_0x40a159=>String[_0x154b69(0xd1d)](0x41+_0x40a159),_0x2894eb=_0x154b69(0x5b0)+_0x3fab2a[_0x154b69(0xc30)]+_0x154b69(0x275)+_0x3fab2a[_0x154b69(0x726)][_0x154b69(0x71d)]((_0x33889b,_0x56d60d)=>{const _0x173123=_0x154b69;let _0x39e253='';const _0xfedf20=_0x33889b[_0x173123(0x8c6)]||_0x3fab2a[_0x173123(0xc13)];switch(_0xfedf20){case _0x173123(0xd14):case'fill_in_with_choices':_0x39e253=_0x173123(0x3cd)+_0x33889b[_0x173123(0x614)][_0x173123(0x71d)]((_0x58ca95,_0x5ccaf8)=>_0x173123(0x876)+_0x494393(_0x5ccaf8)+'.\x20'+_0x58ca95+_0x173123(0x3e5))['join'](_0x173123(0xbff))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case'true_false':_0x39e253=_0x173123(0x919);break;default:_0x39e253='';break;}return _0x173123(0x404)+_0x3fab2a['topic']+_0x173123(0x811)+(_0x56d60d+0x1)+_0x173123(0x2df)+(_0x33889b[_0x173123(0x593)]||_0x33889b[_0x173123(0x467)])+_0x173123(0x265)+(_0x33889b[_0x173123(0x41c)]?'<div\x20class=\x22my-6\x22>'+_0x33889b[_0x173123(0x41c)]+'</div>':'')+_0x173123(0x946)+_0x39e253+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+_0x154b69(0x1f5);_0x23bf1a[_0x154b69(0xb3f)][_0x154b69(0xd6d)](_0x2894eb),_0x23bf1a['document'][_0x154b69(0x327)](),_0x23bf1a['onload']=function(){setTimeout(()=>{const _0x3dd5a7=_0x4191;_0x23bf1a[_0x3dd5a7(0x75e)]();},0x5dc);};}async function handleToggleStarQuiz(_0x4368d6){const _0x391bea=_0x487f42,_0xdc47eb=doc(db,_0x391bea(0x5c6)+appId+'/public/data/quizzes',_0x4368d6);try{const _0x1b977c=await getDoc(_0xdc47eb);if(_0x1b977c['exists']()){const _0x3ea071=_0x1b977c[_0x391bea(0x225)]()[_0x391bea(0xc3c)]||![];await updateDoc(_0xdc47eb,{'isStarred':!_0x3ea071});}}catch(_0xc58bce){console[_0x391bea(0x81d)](_0x391bea(0xd90),_0xc58bce),showMessage(_0x391bea(0x579));}}async function displayQuestionBank(){const _0x299f36=_0x487f42,_0x281630=document['getElementById'](_0x299f36(0x7be));_0x281630['innerHTML']=_0x299f36(0x89d);try{const _0x5e61ea=collection(db,_0x299f36(0x5c6)+appId+_0x299f36(0x6a0)+userId+'/questionBank'),_0x5736e6=query(_0x5e61ea),_0x1df5f5=await getDocs(_0x5736e6);if(_0x1df5f5['empty']){_0x281630['innerHTML']=_0x299f36(0xa37);return;}let _0x4a2dd8=_0x1df5f5[_0x299f36(0xb2e)]['map'](_0x4a617d=>{const _0x186b73=_0x299f36,_0x2e1db6=_0x4a617d[_0x186b73(0x225)](),_0x3fb3db=_0x4a617d['id'];return _0x186b73(0x3a5)+JSON[_0x186b73(0xcc4)](_0x2e1db6)+_0x186b73(0xc12)+(_0x2e1db6[_0x186b73(0x467)]||_0x2e1db6[_0x186b73(0x593)])+_0x186b73(0x222)+_0x2e1db6[_0x186b73(0x357)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x299f36(0xb00)]('');_0x281630[_0x299f36(0x843)]=_0x299f36(0x319)+_0x4a2dd8+_0x299f36(0x7f0),document[_0x299f36(0x40a)]('create-from-bank-btn')[_0x299f36(0x7d4)](_0x299f36(0x859),createQuizFromBank);}catch(_0xe8451){console[_0x299f36(0x81d)]('Error\x20displaying\x20question\x20bank:',_0xe8451),_0x281630[_0x299f36(0x843)]=_0x299f36(0x5a9);}}async function handleExportLessonToPDF(){const _0x157e3f=_0x487f42,_0x4ffebc=document['getElementById'](_0x157e3f(0xc53)),_0x186488=document[_0x157e3f(0x40a)](_0x157e3f(0x994))['textContent']||'บทเรียน';if(!_0x4ffebc){showMessage(_0x157e3f(0xb0b));return;}const _0x22d1c7=window[_0x157e3f(0x93a)]('','_blank'),_0xbb2b5d=_0x157e3f(0x683)+_0x186488+_0x157e3f(0x8cb)+_0x186488+_0x157e3f(0x54f)+_0x4ffebc['innerHTML']+_0x157e3f(0x7bd);_0x22d1c7['document']['write'](_0xbb2b5d),_0x22d1c7[_0x157e3f(0xb3f)]['close'](),_0x22d1c7[_0x157e3f(0x2e1)]=function(){setTimeout(()=>{const _0x1f1d18=_0x4191;_0x22d1c7[_0x1f1d18(0x75e)]();},0x7d0);};}function showAdminLiveQuestionView(_0x45b795,_0x93f3d2,_0x160e5b){const _0x58bf81=_0x487f42,_0x12bd22=_0x45b795[_0x58bf81(0x8c6)]||currentQuizData[_0x58bf81(0xc13)];let _0x1cb7d0='';if(_0x12bd22===_0x58bf81(0xd14)||_0x12bd22==='true_false'){const _0x5e09c6=_0x12bd22===_0x58bf81(0x355)?[_0x58bf81(0xa3a),_0x58bf81(0xa9f)]:_0x45b795[_0x58bf81(0x614)],_0x2cb12b=_0x12bd22===_0x58bf81(0x355)?_0x45b795[_0x58bf81(0x5cc)]?0x0:0x1:_0x45b795[_0x58bf81(0xb6f)];_0x1cb7d0=_0x5e09c6[_0x58bf81(0x71d)]((_0x217f70,_0x535d42)=>_0x58bf81(0x883)+(_0x535d42===_0x2cb12b)+_0x58bf81(0x742)+_0x217f70+_0x58bf81(0xd5c))[_0x58bf81(0xb00)]('');}else{if(_0x12bd22===_0x58bf81(0x252)){const _0x5cdfc6=_0x45b795['allResponses']||[];_0x1cb7d0=_0x5cdfc6[_0x58bf81(0x71d)](_0x2f233d=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x2f233d===_0x45b795[_0x58bf81(0xb98)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f233d+_0x58bf81(0xd5c))[_0x58bf81(0xb00)]('');}}const _0xa26918=_0x45b795[_0x58bf81(0x593)]||_0x45b795[_0x58bf81(0x467)],_0x226222='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x93f3d2+0x1)+_0x58bf81(0x60e)+_0x160e5b+_0x58bf81(0x332)+currentLiveGamePin+_0x58bf81(0xc1c)+_0xa26918+_0x58bf81(0x204)+_0x1cb7d0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x226222,window[_0x58bf81(0xcc0)]&&MathJax[_0x58bf81(0x8b2)]&&MathJax['typesetPromise']([liveGameView]),document[_0x58bf81(0x40a)](_0x58bf81(0xc61))[_0x58bf81(0x7d4)](_0x58bf81(0x859),()=>revealAnswerForAdmin(_0x93f3d2,_0x160e5b)),document[_0x58bf81(0x40a)](_0x58bf81(0xa42))['addEventListener'](_0x58bf81(0x859),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x2e1cd1=_0x4191,_0x37a4c4=doc(db,_0x2e1cd1(0x5c6)+appId+_0x2e1cd1(0xa0c),currentLiveGameId);await updateDoc(_0x37a4c4,{'status':_0x2e1cd1(0x54d)});});}),document['getElementById']('manage-players-btn')[_0x58bf81(0x7d4)]('click',()=>{const _0x1e6e00=_0x58bf81;document[_0x1e6e00(0x40a)]('live-player-management')['classList'][_0x1e6e00(0xcc1)](_0x1e6e00(0xc0c));});}function promptForProjectBeforeGenerating(_0x57740a){const _0x5d8148=_0x487f42,_0x22cfc2=document[_0x5d8148(0x40a)](_0x5d8148(0x8a0)),_0x764b6d=document[_0x5d8148(0x40a)](_0x5d8148(0x2db)),_0x1a536a=_0x22cfc2[_0x5d8148(0xaef)]('h3'),_0x4de040=document[_0x5d8148(0x40a)]('confirm-move-quiz-btn'),_0x557abd=document['getElementById']('cancel-move-quiz-btn');_0x1a536a[_0x5d8148(0x642)]=_0x5d8148(0xcb5),_0x4de040[_0x5d8148(0x642)]=_0x5d8148(0x5d0),_0x4de040[_0x5d8148(0x4c2)]=!![];allProjects[_0x5d8148(0xaf2)]===0x0?_0x764b6d[_0x5d8148(0x843)]=_0x5d8148(0xc71):(_0x764b6d[_0x5d8148(0x843)]=_0x5d8148(0x3d7)+allProjects[_0x5d8148(0x71d)](_0x10c40c=>_0x5d8148(0x648)+_0x10c40c['id']+'\x22>'+_0x10c40c[_0x5d8148(0x21b)]+_0x5d8148(0x343))[_0x5d8148(0xb00)](''),_0x4de040['disabled']=![]);_0x22cfc2[_0x5d8148(0xad3)]['remove'](_0x5d8148(0xc0c));const _0x43ee5b=async()=>{const _0x5d9240=_0x5d8148,_0x570757=_0x764b6d['value'];if(!_0x570757){showMessage(_0x5d9240(0x5db));return;}_0x22cfc2['classList'][_0x5d9240(0xa6b)](_0x5d9240(0xc0c)),await loadProjectDetails(_0x570757),showView(_0x5d9240(0x347)),handleGenerateQuizFromBlueprintTopic(_0x57740a),_0x4c1815();},_0x4c1815=()=>{const _0x6054fb=_0x5d8148;_0x1a536a[_0x6054fb(0x642)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x4de040[_0x6054fb(0x642)]=_0x6054fb(0x577),_0x4de040[_0x6054fb(0x636)](_0x6054fb(0x859),_0x43ee5b),_0x557abd['removeEventListener'](_0x6054fb(0x859),_0x4c1815),_0x4de040[_0x6054fb(0x7d4)](_0x6054fb(0x859),confirmMoveQuiz);};_0x4de040['removeEventListener'](_0x5d8148(0x859),confirmMoveQuiz),_0x4de040['addEventListener'](_0x5d8148(0x859),_0x43ee5b),_0x557abd[_0x5d8148(0x7d4)](_0x5d8148(0x859),_0x4c1815);}function showStudentLiveQuestionView(_0x26f366,_0x498740,_0x2b6e3d){const _0x196c0f=_0x487f42,_0x58199b=_0x26f366[_0x196c0f(0x8c6)]||currentQuizData['quizType'];let _0x564864='';if(_0x58199b==='multiple_choice'||_0x58199b===_0x196c0f(0x355)){const _0x209059=_0x58199b===_0x196c0f(0x355)?[_0x196c0f(0xa3a),_0x196c0f(0xa9f)]:_0x26f366[_0x196c0f(0x614)];_0x564864=_0x209059[_0x196c0f(0x71d)]((_0xc0a0b1,_0x1a4508)=>_0x196c0f(0x716)+_0x1a4508+_0x196c0f(0x785)+_0xc0a0b1+_0x196c0f(0x792))[_0x196c0f(0xb00)]('');}else{if(_0x58199b===_0x196c0f(0x252)){const _0xeca2d4=_0x26f366[_0x196c0f(0x513)]||[];_0x564864=_0xeca2d4['map']((_0x56c569,_0x201950)=>_0x196c0f(0x716)+_0x201950+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x56c569+_0x196c0f(0x792))['join']('');}else _0x58199b===_0x196c0f(0xa84)&&(_0x564864='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x47ec21=_0x26f366[_0x196c0f(0x593)]||_0x26f366[_0x196c0f(0x467)],_0x404c0e=_0x196c0f(0x72d)+(_0x498740+0x1)+'\x20/\x20'+_0x2b6e3d+_0x196c0f(0x4af)+_0x47ec21+_0x196c0f(0x858)+_0x564864+_0x196c0f(0xa7e);liveGameView[_0x196c0f(0x843)]=_0x404c0e;window[_0x196c0f(0xcc0)]&&MathJax[_0x196c0f(0x8b2)]&&MathJax['typesetPromise']([liveGameView]);const _0x1a63f1=document['getElementById'](_0x196c0f(0x4df));_0x1a63f1&&_0x1a63f1[_0x196c0f(0x7d4)]('click',()=>{const _0x9506b=_0x196c0f,_0x41cfab=document['getElementById'](_0x9506b(0x6be))[_0x9506b(0x6cb)];handleLiveAnswer(_0x41cfab,_0x26f366);}),document[_0x196c0f(0x40a)](_0x196c0f(0xd58))[_0x196c0f(0x7d4)](_0x196c0f(0x859),_0x3392fb=>{const _0x10716c=_0x196c0f,_0x40b37d=_0x3392fb[_0x10716c(0x5c1)]['closest'](_0x10716c(0x64a));if(_0x40b37d){const _0x4ccdd6=parseInt(_0x40b37d[_0x10716c(0x48f)][_0x10716c(0x3c6)]);handleLiveAnswer(_0x4ccdd6,_0x26f366);}});}function listenForBlueprintShortcuts(){const _0x49b732=_0x487f42,_0x3e8473=doc(db,_0x49b732(0x440),_0x49b732(0x80d));onSnapshot(_0x3e8473,_0x5527bb=>{const _0x4ceb3e=_0x49b732;let _0x20c575=[],_0x5c56d1=[],_0x196518={};if(_0x5527bb[_0x4ceb3e(0xd6a)]()){const _0x4cd9d1=_0x5527bb[_0x4ceb3e(0x225)]();_0x20c575=_0x4cd9d1[_0x4ceb3e(0xcca)]||[],_0x5c56d1=_0x4cd9d1['shortcutTabs']||[],_0x196518=_0x4cd9d1['shortcutOrder']||{};}!_0x5c56d1[_0x4ceb3e(0x8d2)](_0xad3e51=>_0xad3e51['id']==='all')&&_0x5c56d1['unshift']({'id':_0x4ceb3e(0xb90),'name':_0x4ceb3e(0xa67),'isDefault':!![]}),!_0x20c575[_0x4ceb3e(0x8d2)](_0x332468=>_0x332468['id']==='default-1')&&_0x20c575[_0x4ceb3e(0x6b2)]({'id':_0x4ceb3e(0x98e),'name':_0x4ceb3e(0x655),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x20c575[_0x4ceb3e(0x8d2)](_0x44df55=>_0x44df55['id']==='default-2')&&_0x20c575[_0x4ceb3e(0x6b2)]({'id':_0x4ceb3e(0x3d6),'name':_0x4ceb3e(0x201),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x20c575,shortcutTabs=_0x5c56d1,shortcutOrder=_0x196518,renderBlueprintShortcuts(),!document[_0x4ceb3e(0x40a)](_0x4ceb3e(0x8b7))['classList'][_0x4ceb3e(0x560)](_0x4ceb3e(0xc0c))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x28cff7=_0x487f42,_0x3962f1=document[_0x28cff7(0x40a)]('shortcut-tabs-nav'),_0x3d6827=document[_0x28cff7(0x40a)]('additional-shortcuts-list');if(!_0x3962f1||!_0x3d6827)return;_0x3962f1[_0x28cff7(0x843)]=shortcutTabs[_0x28cff7(0x71d)](_0x3b3d3c=>{const _0x5570ba=_0x28cff7,_0x4be2ce=_0x3b3d3c['id']===activeShortcutTabId,_0x58a569=_0x5570ba(0x32c),_0x36c154=_0x5570ba(0x551);return _0x5570ba(0x7ec)+_0x3b3d3c['id']+'\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x4be2ce?_0x58a569:_0x36c154)+_0x5570ba(0x8ed)+_0x3b3d3c[_0x5570ba(0x408)]+_0x5570ba(0xcf4)+_0x3b3d3c[_0x5570ba(0x408)]+_0x5570ba(0xc1e)+(!_0x3b3d3c[_0x5570ba(0xac0)]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x3b3d3c['id']+_0x5570ba(0x7c7):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x28cff7(0xb00)]('');const _0x3fb5ae=shortcutTabs[_0x28cff7(0x8d2)](_0x2cf135=>_0x2cf135['id']===activeShortcutTabId);let _0x103d4e=[];if(_0x3fb5ae){if(_0x3fb5ae[_0x28cff7(0xac0)])_0x103d4e=[...blueprintShortcuts];else{const _0x460c83=_0x3fb5ae[_0x28cff7(0x3ed)]||[];_0x103d4e=blueprintShortcuts[_0x28cff7(0x24b)](_0x1166ef=>_0x460c83[_0x28cff7(0x2a9)](_0x1166ef['id']));}}const _0x2419f6=shortcutOrder[activeShortcutTabId]||[];_0x103d4e['sort']((_0x4dfccc,_0x109061)=>{const _0x5bbf52=_0x2419f6['indexOf'](_0x4dfccc['id']),_0x5dddea=_0x2419f6['indexOf'](_0x109061['id']);if(_0x5bbf52===-0x1)return 0x1;if(_0x5dddea===-0x1)return-0x1;return _0x5bbf52-_0x5dddea;}),_0x3d6827[_0x28cff7(0x843)]=_0x103d4e['length']>0x0?_0x103d4e['map'](_0x58c50c=>{const _0x2ac82a=_0x28cff7;let _0x39199a='🧩';if(_0x58c50c[_0x2ac82a(0x982)]&&_0x58c50c[_0x2ac82a(0x664)])_0x39199a='📗';else{if(_0x58c50c[_0x2ac82a(0x982)])_0x39199a='📘';}const _0x39c11e=shortcutTabs[_0x2ac82a(0x24b)](_0x40ca6d=>!_0x40ca6d[_0x2ac82a(0xac0)]),_0x4bde15=_0x3fb5ae['isDefault']&&_0x39c11e[_0x2ac82a(0xaf2)]>0x0?_0x2ac82a(0x9ac)+_0x39c11e[_0x2ac82a(0x71d)](_0x4412b0=>_0x2ac82a(0xa48)+_0x58c50c['id']+'\x22\x20data-target-tab-id=\x22'+_0x4412b0['id']+'\x22>'+_0x4412b0[_0x2ac82a(0x408)]+'</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':'';return _0x2ac82a(0x947)+_0x58c50c['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x39199a+'\x20'+_0x58c50c[_0x2ac82a(0x408)]+_0x2ac82a(0x367)+_0x58c50c['id']+_0x2ac82a(0x25d)+_0x58c50c['id']+_0x2ac82a(0x5ff)+(!_0x58c50c[_0x2ac82a(0xac0)]?_0x2ac82a(0x68f)+_0x58c50c['id']+'\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x2ac82a(0x84c)+(!_0x3fb5ae[_0x2ac82a(0xac0)]?'<button\x20data-shortcut-id=\x22'+_0x58c50c['id']+_0x2ac82a(0x34a):'')+_0x2ac82a(0x84c)+_0x4bde15+_0x2ac82a(0xca2);})[_0x28cff7(0xb00)](''):_0x28cff7(0xccf),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x269f82=_0x487f42;document[_0x269f82(0x93e)](_0x269f82(0x805))[_0x269f82(0xa40)](_0x3cf557=>{const _0x44dbdc=_0x269f82;_0x3cf557[_0x44dbdc(0x7d4)](_0x44dbdc(0x859),_0x4259f1=>{const _0x4cb53d=_0x44dbdc;activeShortcutTabId=_0x4259f1[_0x4cb53d(0x340)]['dataset']['tabId'],renderAdditionalShortcutsModal();}),_0x3cf557[_0x44dbdc(0x7d4)](_0x44dbdc(0x89f),_0x29bf8=>{const _0x4999cf=_0x44dbdc,_0x1535db=_0x29bf8[_0x4999cf(0x340)];_0x1535db[_0x4999cf(0xaef)](_0x4999cf(0xce9))[_0x4999cf(0xad3)]['add'](_0x4999cf(0xc0c));const _0x409119=_0x1535db['querySelector'](_0x4999cf(0x962));_0x409119['classList'][_0x4999cf(0x432)](_0x4999cf(0xc0c)),_0x409119[_0x4999cf(0xbc3)](),_0x409119[_0x4999cf(0x7f1)]();});}),document[_0x269f82(0x93e)](_0x269f82(0x962))[_0x269f82(0xa40)](_0x2fe713=>{const _0x424356=_0x269f82,_0x59f8af=()=>{const _0x4eb40d=_0x4191,_0x268e13=_0x2fe713[_0x4eb40d(0xad9)](_0x4eb40d(0x805))['dataset'][_0x4eb40d(0x8f3)];handleRenameShortcutTab(_0x268e13,_0x2fe713['value']);};_0x2fe713[_0x424356(0x7d4)](_0x424356(0x62d),_0x59f8af),_0x2fe713[_0x424356(0x7d4)](_0x424356(0x48c),_0x52ebad=>{const _0x4a5472=_0x424356;if(_0x52ebad[_0x4a5472(0xd2d)]===_0x4a5472(0x28f))_0x2fe713[_0x4a5472(0x62d)]();});}),document['querySelectorAll'](_0x269f82(0xd02))['forEach'](_0x46bf8e=>{const _0x100fac=_0x269f82;_0x46bf8e['addEventListener']('click',_0x114687=>handleDeleteShortcutTab(_0x114687[_0x100fac(0x340)]['dataset'][_0x100fac(0x8f3)]));}),document[_0x269f82(0x93e)](_0x269f82(0xd24))[_0x269f82(0xa40)](_0xeac4dd=>{const _0x169121=_0x269f82;_0xeac4dd[_0x169121(0x7d4)]('click',_0x9c1de9=>{const _0x5d4299=_0x169121;_0x9c1de9[_0x5d4299(0xd6b)]();const {shortcutId:_0x344bbf,targetTabId:_0x2baf5c}=_0x9c1de9[_0x5d4299(0x340)]['dataset'];handleMoveShortcutToTab(_0x344bbf,_0x2baf5c);});}),document[_0x269f82(0x93e)]('.remove-shortcut-from-tab-btn')[_0x269f82(0xa40)](_0xcf0f8f=>{const _0x2d4e9b=_0x269f82;_0xcf0f8f[_0x2d4e9b(0x7d4)](_0x2d4e9b(0x859),_0x649cc6=>{const _0x40fa0b=_0x2d4e9b;handleRemoveShortcutFromTab(_0x649cc6[_0x40fa0b(0x340)][_0x40fa0b(0x48f)][_0x40fa0b(0x586)],activeShortcutTabId);});});const _0x27d762=document[_0x269f82(0x40a)](_0x269f82(0xb6c));_0x27d762[_0x269f82(0x93e)](_0x269f82(0x290))['forEach'](_0x3942c7=>{const _0x3bea40=_0x269f82;_0x3942c7[_0x3bea40(0x7d4)](_0x3bea40(0x859),()=>{const _0x3f162b=_0x3bea40;document[_0x3f162b(0x40a)](_0x3f162b(0x8b7))[_0x3f162b(0xad3)]['add'](_0x3f162b(0xc0c)),handleShortcutClick(_0x3942c7[_0x3f162b(0x48f)]['id']);});});let _0x56e33c=null;_0x27d762[_0x269f82(0x7d4)](_0x269f82(0x285),_0x123352=>{const _0x5992a7=_0x269f82;_0x56e33c=_0x123352[_0x5992a7(0x5c1)][_0x5992a7(0xad9)]('.shortcut-list-item'),_0x56e33c&&setTimeout(()=>_0x56e33c['classList'][_0x5992a7(0xa6b)](_0x5992a7(0x8e5)),0x0);}),_0x27d762[_0x269f82(0x7d4)]('dragend',()=>{const _0x26abee=_0x269f82;_0x56e33c&&(_0x56e33c[_0x26abee(0xad3)][_0x26abee(0x432)](_0x26abee(0x8e5)),_0x56e33c=null);}),_0x27d762[_0x269f82(0x7d4)](_0x269f82(0xa3b),_0x274d52=>{const _0x41c382=_0x269f82;_0x274d52[_0x41c382(0xd6b)]();const _0x5b0cac=[..._0x27d762[_0x41c382(0x93e)](_0x41c382(0xbac))][_0x41c382(0x209)]((_0x111f22,_0xa13d76)=>{const _0x9d8510=_0x41c382,_0x3c05cd=_0xa13d76[_0x9d8510(0xc69)](),_0x2a80cb=_0x274d52[_0x9d8510(0x341)]-_0x3c05cd[_0x9d8510(0x8cf)]-_0x3c05cd['height']/0x2;return _0x2a80cb<0x0&&_0x2a80cb>_0x111f22[_0x9d8510(0x910)]?{'offset':_0x2a80cb,'element':_0xa13d76}:_0x111f22;},{'offset':Number['NEGATIVE_INFINITY']})[_0x41c382(0xc2a)];_0x5b0cac==null?_0x27d762[_0x41c382(0x84d)](_0x56e33c):_0x27d762['insertBefore'](_0x56e33c,_0x5b0cac);}),_0x27d762[_0x269f82(0x7d4)]('drop',_0x3844a2=>{const _0x4094d8=_0x269f82;_0x3844a2[_0x4094d8(0xd6b)]();if(_0x56e33c){const _0x3cfd6b=[..._0x27d762['querySelectorAll'](_0x4094d8(0x5dd))][_0x4094d8(0x71d)](_0x1c285e=>_0x1c285e[_0x4094d8(0x48f)][_0x4094d8(0x586)]);handleShortcutOrderChange(activeShortcutTabId,_0x3cfd6b);}}),document[_0x269f82(0x93e)]('.move-shortcut-menu-btn')['forEach'](_0x56e6a4=>{const _0x15ac17=_0x269f82;_0x56e6a4[_0x15ac17(0x7d4)](_0x15ac17(0x859),_0x29a2f3=>{const _0x8863d1=_0x15ac17;_0x29a2f3[_0x8863d1(0x6db)]();const _0x2dca4e=_0x29a2f3['currentTarget'][_0x8863d1(0x272)],_0xd8d493=_0x2dca4e[_0x8863d1(0xad3)][_0x8863d1(0x560)](_0x8863d1(0xc0c));document['querySelectorAll']('.move-shortcut-dropdown')[_0x8863d1(0xa40)](_0x353d14=>_0x353d14[_0x8863d1(0xad3)]['add'](_0x8863d1(0xc0c))),_0xd8d493&&_0x2dca4e[_0x8863d1(0xad3)][_0x8863d1(0x432)]('hidden');});});}document[_0x487f42(0x7d4)](_0x487f42(0x859),_0xba96f0=>{const _0x30f528=_0x487f42;!_0xba96f0[_0x30f528(0x5c1)]['closest'](_0x30f528(0xd5a))&&document['querySelectorAll'](_0x30f528(0xa45))['forEach'](_0x4454cb=>_0x4454cb[_0x30f528(0xad3)]['add'](_0x30f528(0xc0c)));});async function saveShortcutConfig(){const _0x156628=_0x487f42,_0x157f2b=doc(db,_0x156628(0x440),_0x156628(0x80d));try{await setDoc(_0x157f2b,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x5ee959){console[_0x156628(0x81d)]('Error\x20saving\x20shortcut\x20config:',_0x5ee959);}}async function handleAddShortcutTab(){const _0x450a9f=_0x487f42,_0x412a35=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0x450a9f(0x246));if(!_0x412a35||_0x412a35[_0x450a9f(0x1fb)]()==='')return;shortcutTabs['push']({'id':_0x450a9f(0x400)+Date[_0x450a9f(0x875)](),'name':_0x412a35['trim'](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0xf36e2d,_0x579ed3){const _0x1df381=_0x487f42,_0x56edf2=shortcutTabs[_0x1df381(0x8d2)](_0x5eb9ec=>_0x5eb9ec['id']===_0xf36e2d);_0x56edf2&&_0x579ed3['trim']()!==''&&(_0x56edf2[_0x1df381(0x408)]=_0x579ed3[_0x1df381(0x1fb)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x13f70f){const _0x408f94=_0x487f42,_0x5e396a=shortcutTabs[_0x408f94(0x8d2)](_0x2a6d18=>_0x2a6d18['id']===_0x13f70f);_0x5e396a&&!_0x5e396a['isDefault']&&showConfirmation(_0x408f94(0x7f3)+_0x5e396a[_0x408f94(0x408)]+_0x408f94(0x5f5),async()=>{const _0x505d82=_0x408f94;shortcutTabs=shortcutTabs[_0x505d82(0x24b)](_0x168cda=>_0x168cda['id']!==_0x13f70f),delete shortcutOrder[_0x13f70f];if(activeShortcutTabId===_0x13f70f)activeShortcutTabId=_0x505d82(0xb90);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x379bef,_0x4f9145){const _0x25233f=_0x487f42,_0x27a4b6=shortcutTabs[_0x25233f(0x8d2)](_0xddba4a=>_0xddba4a['id']===_0x4f9145);_0x27a4b6&&!_0x27a4b6['shortcutIds'][_0x25233f(0x2a9)](_0x379bef)&&(_0x27a4b6[_0x25233f(0x3ed)][_0x25233f(0x511)](_0x379bef),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0xac50e3,_0xe3c764){const _0x1e5d35=_0x487f42,_0x23269f=shortcutTabs[_0x1e5d35(0x8d2)](_0x48eb82=>_0x48eb82['id']===_0xe3c764);_0x23269f&&!_0x23269f['isDefault']&&(_0x23269f['shortcutIds']=_0x23269f[_0x1e5d35(0x3ed)][_0x1e5d35(0x24b)](_0x60b970=>_0x60b970!==_0xac50e3),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x2cd6df,_0x89d594){shortcutOrder[_0x2cd6df]=_0x89d594,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x192f14=_0x487f42,_0x357569=document[_0x192f14(0x40a)](_0x192f14(0x91d)),_0x29aab0=document[_0x192f14(0x40a)]('additional-shortcuts-list'),_0x2fc49f=document['getElementById'](_0x192f14(0x5f2));_0x2fc49f&&_0x2fc49f[_0x192f14(0xad3)]['add'](_0x192f14(0xc0c));if(!_0x357569||!_0x29aab0)return;const _0x154583=blueprintShortcuts[_0x192f14(0x6a6)](0x0,0x4),_0x470134=blueprintShortcuts[_0x192f14(0x6a6)](0x4);_0x357569[_0x192f14(0x843)]=_0x154583['map'](_0x21dcb1=>{const _0x135545=_0x192f14;let _0x3d4a72=_0x135545(0x79c),_0x396caa='🧩';if(_0x21dcb1[_0x135545(0x982)]&&_0x21dcb1[_0x135545(0x664)])_0x3d4a72=_0x135545(0xc24),_0x396caa='📗';else _0x21dcb1[_0x135545(0x982)]&&(_0x3d4a72='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x396caa='📘');const _0x1ca783=!_0x21dcb1[_0x135545(0xac0)]?'<button\x20data-id=\x22'+_0x21dcb1['id']+'\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x135545(0xc65)+_0x21dcb1['id']+_0x135545(0x8ea)+_0x3d4a72+_0x135545(0xd4b)+_0x396caa+'\x20'+_0x21dcb1['name']+_0x135545(0x836)+_0x21dcb1['id']+_0x135545(0x658)+_0x1ca783+_0x135545(0xd5c);})[_0x192f14(0xb00)](''),_0x470134[_0x192f14(0xaf2)]>0x0&&(_0x357569[_0x192f14(0x843)]+=_0x192f14(0x63d)),_0x470134[_0x192f14(0xaf2)]>0x0?_0x29aab0[_0x192f14(0x843)]=_0x470134[_0x192f14(0x71d)](_0x577e58=>{const _0x39df4f=_0x192f14;let _0x8b0ba8='🧩';if(_0x577e58[_0x39df4f(0x982)]&&_0x577e58['referenceUrl'])_0x8b0ba8='📗';else _0x577e58[_0x39df4f(0x982)]&&(_0x8b0ba8='📘');return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x8b0ba8+'\x20'+_0x577e58[_0x39df4f(0x408)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x577e58['id']+_0x39df4f(0x25d)+_0x577e58['id']+_0x39df4f(0x5ff)+(!_0x577e58[_0x39df4f(0xac0)]?'<button\x20data-id=\x22'+_0x577e58['id']+_0x39df4f(0x87e):'')+_0x39df4f(0xb01);})[_0x192f14(0xb00)](''):_0x29aab0[_0x192f14(0x843)]=_0x192f14(0x787);}function getMimeTypeFromFilename(_0x1e5e12){const _0x1c1f63=_0x487f42,_0x5c2132=_0x1e5e12[_0x1c1f63(0x67b)]('.')[_0x1c1f63(0x4b8)]()[_0x1c1f63(0x47c)]();switch(_0x5c2132){case'pdf':return'application/pdf';case _0x1c1f63(0xb52):return'text/plain';default:return _0x1c1f63(0x9f8);}}function openShortcutEditor(_0x179f06=null){const _0x443b45=_0x487f42,_0x39b2b5=document[_0x443b45(0x40a)](_0x443b45(0x9fc)),_0x4ee0c7=document[_0x443b45(0x40a)](_0x443b45(0x635)),_0x28dfd0=document['getElementById'](_0x443b45(0x9fe)),_0x59d3de=document[_0x443b45(0x40a)]('shortcut-name-input'),_0xd49349=document['getElementById'](_0x443b45(0x40b)),_0x14ba87=document[_0x443b45(0x40a)](_0x443b45(0xa44));if(_0x179f06){const _0x4509c9=blueprintShortcuts['find'](_0x240c56=>_0x240c56['id']===_0x179f06);if(!_0x4509c9)return;_0x4ee0c7[_0x443b45(0x642)]=_0x443b45(0xb1f),_0x28dfd0['value']=_0x4509c9['id'],_0x59d3de[_0x443b45(0x6cb)]=_0x4509c9[_0x443b45(0x408)],_0xd49349['value']=_0x4509c9['blueprintUrl']||'',_0x14ba87[_0x443b45(0x6cb)]=_0x4509c9[_0x443b45(0x664)]||'';}else _0x4ee0c7[_0x443b45(0x642)]=_0x443b45(0x63f),_0x28dfd0[_0x443b45(0x6cb)]='',_0x59d3de[_0x443b45(0x6cb)]='',_0xd49349['value']='',_0x14ba87[_0x443b45(0x6cb)]='';_0x39b2b5['classList'][_0x443b45(0x432)](_0x443b45(0xc0c));}async function saveShortcutChanges(){const _0x21bbd6=_0x487f42,_0x524c1e=document[_0x21bbd6(0x40a)]('shortcut-id-input')[_0x21bbd6(0x6cb)],_0x4bf0ed=document[_0x21bbd6(0x40a)](_0x21bbd6(0x522))[_0x21bbd6(0x6cb)][_0x21bbd6(0x1fb)](),_0x22638e=document['getElementById']('shortcut-blueprint-url-input')[_0x21bbd6(0x6cb)]['trim']();if(!_0x4bf0ed||!_0x22638e){showMessage(_0x21bbd6(0x2f2));return;}const _0x1f89f1={'id':_0x524c1e||_0x21bbd6(0x9b9)+Date[_0x21bbd6(0x875)](),'name':_0x4bf0ed,'blueprintUrl':_0x22638e,'referenceUrl':document[_0x21bbd6(0x40a)](_0x21bbd6(0xa44))[_0x21bbd6(0x6cb)][_0x21bbd6(0x1fb)](),'isDefault':_0x524c1e[_0x21bbd6(0xd86)]('default-')};let _0x1406e6;_0x524c1e?_0x1406e6=blueprintShortcuts[_0x21bbd6(0x71d)](_0xa518fa=>_0xa518fa['id']===_0x524c1e?_0x1f89f1:_0xa518fa):_0x1406e6=[...blueprintShortcuts,_0x1f89f1];try{const _0x47565a=doc(db,_0x21bbd6(0x440),_0x21bbd6(0x80d));await setDoc(_0x47565a,{'blueprintShortcuts':_0x1406e6},{'merge':!![]}),document['getElementById']('shortcut-editor-modal')[_0x21bbd6(0xad3)][_0x21bbd6(0xa6b)]('hidden');}catch(_0x5b51f0){console[_0x21bbd6(0x81d)]('Error\x20saving\x20shortcut:',_0x5b51f0),showMessage(_0x21bbd6(0xb3a));}}async function handleShortcutClick(_0x38f9db){const _0x44d429=_0x487f42,_0x16bc1f=blueprintShortcuts['find'](_0x3903d6=>_0x3903d6['id']===_0x38f9db);if(!_0x16bc1f||!_0x16bc1f[_0x44d429(0x982)])return;document[_0x44d429(0x40a)](_0x44d429(0x546))[_0x44d429(0xad3)][_0x44d429(0xa6b)]('hidden'),document[_0x44d429(0x40a)](_0x44d429(0xb10))['disabled']=!![];const _0x1040fa=document[_0x44d429(0x40a)](_0x44d429(0x61c)),_0x5a6d64=document[_0x44d429(0x40a)](_0x44d429(0x88d));document[_0x44d429(0x40a)]('quiz-generation-area')[_0x44d429(0xad3)][_0x44d429(0x432)]('hidden'),document[_0x44d429(0x40a)](_0x44d429(0xcf7))['innerHTML']='',_0x1040fa[_0x44d429(0xad3)][_0x44d429(0x432)](_0x44d429(0xc0c));try{_0x5a6d64['textContent']=_0x44d429(0xcb9);const _0x12e1e0=await fetchFileFromUrl(_0x16bc1f[_0x44d429(0x982)],_0x44d429(0x624));let _0x3dbba4=null;if(_0x16bc1f[_0x44d429(0x664)]){_0x5a6d64[_0x44d429(0x642)]=_0x44d429(0x437);const _0x55b4dd=_0x16bc1f['referenceUrl'][_0x44d429(0x47c)]()['endsWith']('.txt')?_0x44d429(0xcfa):'reference.pdf';_0x3dbba4=await fetchFileFromUrl(_0x16bc1f[_0x44d429(0x664)],_0x55b4dd);}await handleGenerateFromBlueprintWithFiles(_0x12e1e0,_0x3dbba4);}catch(_0x235a87){console['error'](_0x44d429(0x853),_0x235a87),showMessage(_0x44d429(0x888)+_0x235a87[_0x44d429(0xc94)]),_0x1040fa['classList'][_0x44d429(0xa6b)](_0x44d429(0xc0c));}}function getDirectDownloadUrl(_0x1c75a5){const _0xcfcdb9=_0x487f42,_0x341ffc=_0x1c75a5[_0xcfcdb9(0x75f)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x341ffc&&_0x341ffc[0x1])return'https://drive.google.com/uc?export=download&id='+_0x341ffc[0x1];return _0x1c75a5;}async function fetchFileFromUrl(_0x333f83,_0x52b246){const _0x4165f7=_0x487f42,_0x5287ee=getDirectDownloadUrl(_0x333f83),_0x2e8c22=_0x4165f7(0x480)+encodeURIComponent(_0x5287ee),_0x1cec1c=await fetch(_0x2e8c22);if(!_0x1cec1c['ok'])throw new Error(_0x4165f7(0x9c2)+_0x1cec1c['status']+')');const _0x4f9b52=await _0x1cec1c[_0x4165f7(0x2dd)](),_0x1e1dd6=await new Promise((_0x175f87,_0x2c3ba1)=>{const _0x174502=_0x4165f7,_0xaee722=new FileReader();_0xaee722['onloadend']=()=>_0x175f87(new Uint8Array(_0xaee722[_0x174502(0x751)])),_0xaee722[_0x174502(0xc1b)]=_0x2c3ba1,_0xaee722['readAsArrayBuffer'](_0x4f9b52[_0x174502(0x6a6)](0x0,0x4));});let _0x549eea='';const _0x48d276=new TextDecoder()[_0x4165f7(0x4a6)](_0x1e1dd6);return _0x48d276===_0x4165f7(0xa49)?(_0x549eea='application/pdf',console[_0x4165f7(0x681)]('File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.')):(_0x549eea=_0x4165f7(0x5bf),console[_0x4165f7(0x681)](_0x4165f7(0xc59))),new File([_0x4f9b52],_0x52b246,{'type':_0x549eea});}async function handleGenerateFromBlueprintWithFiles(_0xe4a234,_0x432b8c=null){const _0x315cc6=_0x487f42;if(!_0xe4a234){showMessage(_0x315cc6(0x80f));return;}const _0x47999a=document['getElementById'](_0x315cc6(0x61c)),_0x36874d=document[_0x315cc6(0x40a)](_0x315cc6(0x88d));_0x47999a['classList']['remove'](_0x315cc6(0xc0c)),document['getElementById']('quiz-generation-area')['classList'][_0x315cc6(0x432)](_0x315cc6(0xc0c)),document[_0x315cc6(0x40a)]('generated-quiz-container')[_0x315cc6(0x843)]='';try{_0x36874d['textContent']=_0x315cc6(0x83d);const _0xd0413d=await new Promise((_0x586771,_0x39556e)=>{const _0x340448=_0x315cc6,_0x5797ab=new FileReader();_0x5797ab['readAsDataURL'](_0xe4a234),_0x5797ab[_0x340448(0x2e1)]=()=>_0x586771(_0x5797ab['result'][_0x340448(0x67b)](',')[0x1]),_0x5797ab[_0x340448(0xc1b)]=_0x39556e;}),_0x3c782b=[];if(_0x432b8c){_0x36874d[_0x315cc6(0x642)]=_0x315cc6(0x6ee);const _0x52fd4f=await _0x432b8c[_0x315cc6(0x274)]();_0x3c782b['push']({'text':_0x315cc6(0xa7a)+_0x52fd4f});}const _0xed8588=[{'text':_0x315cc6(0x571)},{'inlineData':{'mimeType':_0xe4a234['type'],'data':_0xd0413d}},..._0x3c782b];await handleGenerateFromBlueprint(_0xed8588);}catch(_0x5356ee){console[_0x315cc6(0x81d)](_0x315cc6(0x920),_0x5356ee),showMessage(_0x315cc6(0x888)+_0x5356ee['message']),_0x47999a[_0x315cc6(0xad3)][_0x315cc6(0xa6b)](_0x315cc6(0xc0c));}}async function handleLiveAnswer(_0x31670a,_0x31f3b4){const _0x1d9daf=_0x487f42;document[_0x1d9daf(0x93e)](_0x1d9daf(0xaa4))['forEach'](_0x39c0cf=>_0x39c0cf[_0x1d9daf(0x4c2)]=!![]);const _0x485ffe=_0x31f3b4[_0x1d9daf(0x8c6)]||currentQuizData[_0x1d9daf(0xc13)];let _0xa6f279=![],_0x597c1f=_0x31670a;if(_0x485ffe===_0x1d9daf(0xa84)){const _0x2bc461=(_0x31670a||'')['toString']();_0xa6f279=await gradeShortAnswer(_0x2bc461,_0x31f3b4);}else{if(_0x485ffe===_0x1d9daf(0xd14))_0xa6f279=_0x31670a===_0x31f3b4[_0x1d9daf(0xb6f)];else{if(_0x485ffe===_0x1d9daf(0x355)){const _0x18dd03=_0x31f3b4[_0x1d9daf(0x5cc)];_0xa6f279=_0x31670a===0x0&&_0x18dd03||_0x31670a===0x1&&!_0x18dd03;}else{if(_0x485ffe==='matching_item'){const _0x1ec26f=_0x31f3b4[_0x1d9daf(0x513)][_0x31670a];_0xa6f279=_0x1ec26f===_0x31f3b4['correctResponse'],_0x597c1f=_0x1ec26f;}}}}const _0x444673=doc(db,'artifacts/'+appId+_0x1d9daf(0xa0c),currentLiveGameId),_0x315537={};_0x315537['players.'+currentStudentName+_0x1d9daf(0x3b7)]=!![],_0x315537[_0x1d9daf(0x370)+currentStudentName+_0x1d9daf(0xc6f)]=_0xa6f279,_0x315537[_0x1d9daf(0x370)+currentStudentName+_0x1d9daf(0x307)]=_0x485ffe==='short_answer'||_0x485ffe===_0x1d9daf(0x252)?null:_0x31670a,_0x315537[_0x1d9daf(0x370)+currentStudentName+_0x1d9daf(0xc09)]=_0x597c1f,_0x315537['players.'+currentStudentName+'.submittedAt']=serverTimestamp(),_0x315537[_0x1d9daf(0x370)+currentStudentName+_0x1d9daf(0xbbb)]=![],await updateDoc(_0x444673,_0x315537),liveGameView['innerHTML']=_0x1d9daf(0xc98);}function showAdminSummaryView(_0x3a6d8a,_0x29c71c){const _0x30a125=_0x487f42,_0x4acd73=Object['values'](_0x3a6d8a[_0x30a125(0x729)]||{}),_0x53dd98=_0x29c71c[_0x30a125(0x8c6)]||currentQuizData[_0x30a125(0xc13)],_0x400eac=_0x53dd98===_0x30a125(0x355)?[_0x30a125(0xa3a),'ไม่ใช่']:_0x29c71c['options']||_0x29c71c[_0x30a125(0x513)]||[],_0x3a2aed={},_0x167ce5=new Array(_0x400eac['length'])[_0x30a125(0x421)](0x0);_0x400eac[_0x30a125(0xa40)]((_0x1e06ea,_0x2e2511)=>{_0x3a2aed[_0x2e2511]=[];}),Object['entries'](_0x3a6d8a[_0x30a125(0x729)]||{})['forEach'](([_0x4bf33e,_0x397283])=>{const _0x4eb84a=_0x30a125;if(_0x397283['status']===_0x4eb84a(0xd29)&&_0x397283[_0x4eb84a(0x286)]!==undefined){const _0x322b6a=_0x397283[_0x4eb84a(0x286)];_0x3a2aed[_0x322b6a]&&(_0x3a2aed[_0x322b6a][_0x4eb84a(0x511)](_0x4bf33e),_0x167ce5[_0x322b6a]++);}});const _0x5a5450=Math[_0x30a125(0x529)](..._0x167ce5,0x1),_0xb7ea69=_0x30a125(0x4d0)+(_0x29c71c['stem']||_0x29c71c[_0x30a125(0x467)])+_0x30a125(0x245)+_0x167ce5[_0x30a125(0x71d)]((_0x18a60f,_0x30dd7c)=>{const _0x34b089=_0x30a125,_0x268cc8=_0x3a2aed[_0x30dd7c][_0x34b089(0xaf2)]>0x0?_0x3a2aed[_0x30dd7c][_0x34b089(0xb00)](',\x20'):_0x34b089(0x7fc);let _0x363aef=![];if(_0x53dd98===_0x34b089(0xd14))_0x363aef=_0x30dd7c===_0x29c71c[_0x34b089(0xb6f)];else{if(_0x53dd98===_0x34b089(0x355)){const _0x419677=_0x29c71c['correctAnswer'];_0x363aef=_0x419677&&_0x30dd7c===0x0||!_0x419677&&_0x30dd7c===0x1;}else _0x53dd98==='matching_item'&&(_0x363aef=_0x400eac[_0x30dd7c]===_0x29c71c[_0x34b089(0xb98)]);}const _0x38cb22=_0x363aef?_0x34b089(0x56c):_0x34b089(0xab8);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x18a60f+_0x34b089(0x495)+_0x38cb22+_0x34b089(0x419)+_0x30dd7c+_0x34b089(0xcda)+_0x400eac[_0x30dd7c]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x30dd7c+_0x34b089(0x4f5)+_0x268cc8+_0x34b089(0x2e9);})[_0x30a125(0xb00)]('')+_0x30a125(0x251);liveGameView[_0x30a125(0x843)]=_0xb7ea69;if(window['MathJax'])MathJax[_0x30a125(0x8b2)]();document[_0x30a125(0x40a)](_0x30a125(0x8d6))[_0x30a125(0x7d4)]('click',async()=>{const _0x2b3192=_0x30a125,_0x2b879e=doc(db,_0x2b3192(0x5c6)+appId+_0x2b3192(0xa0c),currentLiveGameId);await updateDoc(_0x2b879e,{'questionStatus':_0x2b3192(0x4ba)});}),document['getElementById'](_0x30a125(0x613))['addEventListener']('click',()=>{openScratchpad(_0x29c71c,_0x400eac);});}function showPlayerSummaryView(_0x4950f5,_0x45ef9a){const _0x53e288=_0x487f42,_0x201620=Object[_0x53e288(0xafb)](_0x4950f5[_0x53e288(0x729)]||{}),_0x3e5cbb=_0x4950f5[_0x53e288(0x729)][_0x45ef9a],_0x32612b=_0x201620[_0x53e288(0x24b)](_0x4fa4f6=>_0x4fa4f6[_0x53e288(0xade)]===_0x53e288(0xd29))['sort']((_0x456606,_0x58608a)=>_0x58608a[_0x53e288(0xb7c)]-_0x456606['score']),_0x157f0b=_0x32612b[_0x53e288(0x39d)](_0x467fd6=>_0x467fd6===_0x3e5cbb)+0x1,_0x12fdc8=_0x3e5cbb[_0x53e288(0x2e4)]?'ถูกต้อง!':_0x53e288(0x9e7),_0x11d532=_0x3e5cbb[_0x53e288(0x2e4)]?_0x53e288(0x243):'bg-red-500',_0x412cf5=_0x3e5cbb[_0x53e288(0x749)]||0x0,_0x17fc86=_0x53e288(0xb63),_0x21c637=_0x53e288(0x74b)+_0x17fc86+_0x53e288(0x66a)+_0x11d532+_0x53e288(0x26b)+_0x12fdc8+_0x53e288(0x486)+_0x412cf5+_0x53e288(0x9ce)+(_0x157f0b>0x0?_0x157f0b:'-')+_0x53e288(0x4bd);liveGameView[_0x53e288(0x843)]=_0x21c637;}function createQuizFromBank(){const _0x1c0d62=_0x487f42,_0x1d97ce=document[_0x1c0d62(0x93e)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x1d97ce[_0x1c0d62(0xaf2)]===0x0){showMessage(_0x1c0d62(0x819));return;}const _0x4d9cf5=[];_0x1d97ce[_0x1c0d62(0xa40)](_0x504d0f=>{const _0x5a2811=_0x1c0d62;_0x4d9cf5[_0x5a2811(0x511)](JSON['parse'](_0x504d0f[_0x5a2811(0x6cb)]));});const _0x219eb8={'topic':_0x1c0d62(0xa25),'questions':_0x4d9cf5};displayGeneratedQuiz(_0x219eb8);}function showAdminLobbyView(_0x5f4751,_0x1a9059){const _0x59f5c3=_0x487f42;showView(_0x59f5c3(0x5a0));const _0x330be4=_0x59f5c3(0x8e4)+_0x1a9059+_0x59f5c3(0x669)+_0x5f4751+_0x59f5c3(0x7c9);liveGameView[_0x59f5c3(0x843)]=_0x330be4,document[_0x59f5c3(0x40a)]('start-game-btn')[_0x59f5c3(0x7d4)](_0x59f5c3(0x859),async()=>{const _0x51a302=_0x59f5c3;if(!currentQuizData||!currentQuizData[_0x51a302(0x726)]||currentQuizData[_0x51a302(0x726)][_0x51a302(0xaf2)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x34f0f2=doc(db,_0x51a302(0x5c6)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x34f0f2,{'status':_0x51a302(0x98b),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x44fece=currentQuizData['questions'][0x0],_0x2041f2=currentQuizData[_0x51a302(0x726)][_0x51a302(0xaf2)];showAdminLiveQuestionView(_0x44fece,0x0,_0x2041f2);}catch(_0x2c02e5){console[_0x51a302(0x81d)]('Error\x20starting\x20game:',_0x2c02e5),showMessage(_0x51a302(0x5c0));}});}async function openQuizBankModal(){const _0x15564b=_0x487f42;if(allQuizzesGlobal[_0x15564b(0xaf2)]===0x0){const _0x18818c=await getDocs(collection(db,'artifacts/'+appId+_0x15564b(0x7ac)));allQuizzesGlobal=_0x18818c['docs'][_0x15564b(0x71d)](_0x344e21=>({'id':_0x344e21['id'],..._0x344e21[_0x15564b(0x225)]()}));}renderQuizBankList(''),document[_0x15564b(0x40a)]('quiz-bank-modal')[_0x15564b(0xad3)][_0x15564b(0x432)]('hidden');}function renderQuizBankList(_0x2b7f1a='',_0x98bfbd=![]){const _0x2b5f46=_0x487f42,_0x109ba3=document[_0x2b5f46(0x40a)](_0x2b5f46(0x868)),_0x5968a0=_0x2b7f1a[_0x2b5f46(0x47c)]()[_0x2b5f46(0x1fb)](),_0x1e6cbe=allQuizzesGlobal['map'](_0x2537bb=>({..._0x2537bb,'projectName':allProjects[_0x2b5f46(0x8d2)](_0x569141=>_0x569141['id']===_0x2537bb[_0x2b5f46(0x84e)])?.[_0x2b5f46(0x21b)]||'N/A'}))['filter'](_0x55fa3d=>(_0x55fa3d['topic']||'')[_0x2b5f46(0x47c)]()[_0x2b5f46(0x2a9)](_0x5968a0)||(_0x55fa3d[_0x2b5f46(0x21b)]||'')[_0x2b5f46(0x47c)]()[_0x2b5f46(0x2a9)](_0x5968a0)||_0x55fa3d['id']['toString']()['includes'](_0x5968a0));document[_0x2b5f46(0x40a)](_0x2b5f46(0x9e6))['textContent']='('+_0x1e6cbe['length']+_0x2b5f46(0xb51),_0x109ba3[_0x2b5f46(0x843)]=_0x1e6cbe[_0x2b5f46(0xaf2)]?_0x1e6cbe[_0x2b5f46(0x71d)](_0x53b6c6=>{const _0x1b8adf=_0x2b5f46,_0x10b4cc=!_0x98bfbd?_0x1b8adf(0x892)+_0x53b6c6['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x53b6c6['id']+_0x1b8adf(0x7fa)+_0x53b6c6['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x53b6c6['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x53b6c6['id']+_0x1b8adf(0xcd5)+_0x53b6c6['id']+_0x1b8adf(0x988)+_0x53b6c6[_0x1b8adf(0xc30)]+_0x1b8adf(0x69f):'';return _0x1b8adf(0xaf3)+_0x53b6c6['id']+_0x1b8adf(0x82c)+(_0x53b6c6[_0x1b8adf(0xc30)]||_0x1b8adf(0x82b))+_0x1b8adf(0x9f5)+(_0x53b6c6[_0x1b8adf(0x726)]?.[_0x1b8adf(0xaf2)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x53b6c6['projectName']+_0x1b8adf(0xd7d)+_0x53b6c6['id']+_0x1b8adf(0x3fb)+_0x10b4cc+_0x1b8adf(0xaa5);})[_0x2b5f46(0xb00)](''):_0x2b5f46(0x558),!_0x98bfbd&&(_0x109ba3[_0x2b5f46(0x93e)](_0x2b5f46(0x337))[_0x2b5f46(0xa40)](_0x1401c2=>{const _0x55ecd4=_0x2b5f46;_0x1401c2[_0x55ecd4(0x7d4)](_0x55ecd4(0x859),()=>{const _0x1dbc1d=_0x55ecd4,_0x1cecfa=_0x1401c2[_0x1dbc1d(0x48f)]['id'];document['getElementById'](_0x1dbc1d(0x394))[_0x1dbc1d(0xad3)][_0x1dbc1d(0xa6b)](_0x1dbc1d(0xc0c)),showQuizDetailView(_0x1cecfa);});}),_0x109ba3[_0x2b5f46(0x93e)]('.quiz-bank-try-btn')[_0x2b5f46(0xa40)](_0x45bcf2=>{const _0x4d068d=_0x2b5f46;_0x45bcf2['addEventListener'](_0x4d068d(0x859),_0x41693c=>{const _0x300ffe=_0x4d068d;_0x41693c[_0x300ffe(0x6db)]();const _0x392dc5=_0x45bcf2[_0x300ffe(0x48f)]['id'],_0x85227f=allQuizzesGlobal[_0x300ffe(0x8d2)](_0x91808e=>_0x91808e['id']===_0x392dc5);_0x85227f?(currentQuizData=_0x85227f,document[_0x300ffe(0x40a)](_0x300ffe(0x394))[_0x300ffe(0xad3)][_0x300ffe(0xa6b)]('hidden'),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x109ba3['querySelectorAll'](_0x2b5f46(0x59b))[_0x2b5f46(0xa40)](_0x514bc3=>{const _0x2b72e1=_0x2b5f46;_0x514bc3[_0x2b72e1(0x7d4)](_0x2b72e1(0x859),_0x24fa87=>{const _0x10cf3d=_0x2b72e1;_0x24fa87['stopPropagation']();const _0xd30b51=_0x514bc3[_0x10cf3d(0x48f)]['id'],_0x1bf95d=allQuizzesGlobal[_0x10cf3d(0x8d2)](_0x340cab=>_0x340cab['id']===_0xd30b51);_0x1bf95d?(document[_0x10cf3d(0x40a)](_0x10cf3d(0x394))[_0x10cf3d(0xad3)][_0x10cf3d(0xa6b)](_0x10cf3d(0xc0c)),handleGenerateParallelFromBank(_0x1bf95d)):showMessage(_0x10cf3d(0x397));});}),_0x109ba3[_0x2b5f46(0x93e)]('.quiz-bank-present-btn')['forEach'](_0x1de540=>{const _0x713b02=_0x2b5f46;_0x1de540[_0x713b02(0x7d4)](_0x713b02(0x859),_0x3c39ec=>{const _0x186e0f=_0x713b02;_0x3c39ec[_0x186e0f(0x6db)]();const _0x5e265d=_0x1de540[_0x186e0f(0x48f)]['id'],_0x36a42c=allQuizzesGlobal[_0x186e0f(0x8d2)](_0x1c2fc9=>_0x1c2fc9['id']===_0x5e265d);_0x36a42c?(document[_0x186e0f(0x40a)](_0x186e0f(0x394))[_0x186e0f(0xad3)][_0x186e0f(0xa6b)](_0x186e0f(0xc0c)),startPresentation(_0x36a42c)):showMessage(_0x186e0f(0x397));});}),_0x109ba3[_0x2b5f46(0x93e)](_0x2b5f46(0x346))[_0x2b5f46(0xa40)](_0x1ea97c=>{const _0x2354ea=_0x2b5f46;_0x1ea97c[_0x2354ea(0x7d4)](_0x2354ea(0x859),_0x37edde=>{const _0x1fab8a=_0x2354ea;_0x37edde[_0x1fab8a(0x6db)]();const _0x171d87=_0x1ea97c[_0x1fab8a(0x48f)]['id'];document['getElementById'](_0x1fab8a(0x394))['classList'][_0x1fab8a(0xa6b)](_0x1fab8a(0xc0c)),handleMoveQuiz(_0x171d87);});}),_0x109ba3['querySelectorAll'](_0x2b5f46(0x4f4))[_0x2b5f46(0xa40)](_0x1e580f=>{const _0x39635e=_0x2b5f46;_0x1e580f['addEventListener'](_0x39635e(0x859),_0x3df116=>{const _0x2033da=_0x39635e;_0x3df116['stopPropagation']();const _0x49e6eb=_0x1e580f[_0x2033da(0x48f)]['id'];document[_0x2033da(0x40a)](_0x2033da(0x394))['classList']['add'](_0x2033da(0xc0c)),handleQuizSettings(_0x49e6eb);});}),_0x109ba3[_0x2b5f46(0x93e)](_0x2b5f46(0x379))[_0x2b5f46(0xa40)](_0x517d4a=>{const _0x4dbf7f=_0x2b5f46;_0x517d4a[_0x4dbf7f(0x7d4)](_0x4dbf7f(0x859),_0x366285=>{const _0x1265f9=_0x4dbf7f;_0x366285['stopPropagation']();const _0x2a09f7=_0x517d4a['dataset']['id'],_0x686acf=_0x517d4a[_0x1265f9(0x48f)][_0x1265f9(0xc30)];showConfirmation(_0x1265f9(0x867)+_0x686acf+_0x1265f9(0x844),()=>handleDeleteQuiz(_0x2a09f7));});}));}async function handleCompareResults(_0x654aab,_0x40bf9b){const _0x471670=_0x487f42,_0x3a3283=document[_0x471670(0x40a)](_0x471670(0xb8d)),_0x3e1c59=document[_0x471670(0x40a)](_0x471670(0x638)),_0x3060d8=document['getElementById'](_0x471670(0x702));document[_0x471670(0x40a)](_0x471670(0xd1f))[_0x471670(0xad3)][_0x471670(0xa6b)](_0x471670(0xd29)),document[_0x471670(0x40a)](_0x471670(0x9b3))['classList'][_0x471670(0x432)](_0x471670(0xd29)),_0x3e1c59[_0x471670(0xad3)][_0x471670(0x432)](_0x471670(0xc0c)),_0x3060d8[_0x471670(0xad3)][_0x471670(0xa6b)](_0x471670(0xc0c)),_0x3e1c59[_0x471670(0x843)]=_0x471670(0x89d),_0x3060d8[_0x471670(0x843)]='',_0x3a3283[_0x471670(0xad3)][_0x471670(0x432)](_0x471670(0xc0c));try{const _0xb6a0cc=doc(db,_0x471670(0x5c6)+appId+'/public/data/quizzes',_0x654aab),_0x759d14=await getDoc(_0xb6a0cc);if(!_0x759d14[_0x471670(0xd6a)]())throw new Error(_0x471670(0x70b));const _0x41d163=_0x759d14[_0x471670(0x225)](),_0x5b45b8=_0x41d163[_0x471670(0x726)]['length'],_0x360a72=collection(db,_0x471670(0x5c6)+appId+_0x471670(0xcef)+_0x40bf9b+_0x471670(0x7ea)),_0x5ad807=collection(db,_0x471670(0x5c6)+appId+_0x471670(0xcef)+_0x654aab+'/submissions'),[_0xea1083,_0x2e58d2]=await Promise['all']([getDocs(_0x360a72),getDocs(_0x5ad807)]),_0x397d89=_0xea1083[_0x471670(0xb2e)][_0x471670(0x71d)](_0x56085d=>_0x56085d[_0x471670(0x225)]()),_0x25b5c9=_0x2e58d2[_0x471670(0xb2e)]['map'](_0x1cb3b6=>_0x1cb3b6[_0x471670(0x225)]()),_0x16e050=_0x397d89[_0x471670(0x71d)](_0xf98f0a=>_0xf98f0a[_0x471670(0xbe4)]),_0x4b01e8=_0x25b5c9[_0x471670(0x71d)](_0x4743b1=>_0x4743b1['latestScore']),_0xc02f70=calculateMeanAndStdDev(_0x16e050),_0x2995fb=calculateMeanAndStdDev(_0x4b01e8),_0xddac02=_0xc02f70['mean'],_0x3eb29c=_0x2995fb[_0x471670(0x5f7)],_0x2bd5c1=_0x3eb29c-_0xddac02;let _0x230402=_0x471670(0x8bd)+_0xddac02[_0x471670(0xbd7)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x3eb29c['toFixed'](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0x2bd5c1>=0x0?_0x471670(0xc6b):_0x471670(0x208))+_0x471670(0x540)+(_0x2bd5c1>=0x0?'text-emerald-800':_0x471670(0x95e))+_0x471670(0x46e)+(_0x2bd5c1>=0x0?'text-emerald-900':'text-red-900')+'\x22>'+(_0x2bd5c1>=0x0?'+':'')+_0x2bd5c1['toFixed'](0x2)+_0x471670(0x383);_0x3e1c59[_0x471670(0x843)]=_0x230402;const _0x595705=document[_0x471670(0x40a)]('comparison-chart')[_0x471670(0x2a5)]('2d');if(chartInstances[_0x471670(0x717)])chartInstances['comparison'][_0x471670(0x536)]();chartInstances['comparison']=new Chart(_0x595705,{'type':_0x471670(0x732),'data':{'labels':[_0x471670(0x468)],'datasets':[{'label':_0x471670(0x345),'data':[_0xddac02],'backgroundColor':_0x471670(0x5ca)},{'label':'หลังเรียน','data':[_0x3eb29c],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x5b45b8}}}});const _0x24bab1=currentProjectData[_0x471670(0xbe8)]||[],_0x1c5fda=_0x24bab1[_0x471670(0x71d)](_0x77381f=>{const _0x2fb102=_0x471670,_0x3c65e6=_0x397d89[_0x2fb102(0x8d2)](_0x433b48=>_0x433b48[_0x2fb102(0x2ac)]===_0x77381f),_0x6f2f99=_0x25b5c9[_0x2fb102(0x8d2)](_0x1a0937=>_0x1a0937['studentName']===_0x77381f),_0x424ece=_0x3c65e6?_0x3c65e6[_0x2fb102(0xbe4)]:null,_0x355e7e=_0x6f2f99?_0x6f2f99[_0x2fb102(0xbe4)]:null,_0x1a4a7a=_0x424ece!==null&&_0x355e7e!==null?_0x355e7e-_0x424ece:null,_0x3a0289=_0x424ece!==null?calculateZScore(_0x424ece,_0xc02f70['mean'],_0xc02f70[_0x2fb102(0xb08)]):null,_0x4efb8b=_0x355e7e!==null?calculateZScore(_0x355e7e,_0x2995fb['mean'],_0x2995fb[_0x2fb102(0xb08)]):null,_0x5e55ea=_0x3a0289!==null?calculateTScore(_0x3a0289):null,_0x3a41c1=_0x4efb8b!==null?calculateTScore(_0x4efb8b):null,_0x317729=_0x5e55ea!==null&&_0x3a41c1!==null?_0x3a41c1-_0x5e55ea:null;return{'name':_0x77381f,'preScore':_0x424ece,'postScore':_0x355e7e,'gain':_0x1a4a7a,'preTScore':_0x5e55ea,'postTScore':_0x3a41c1,'tGain':_0x317729};});renderIndividualComparisonTable(_0x1c5fda,_0x3060d8);}catch(_0x380802){console[_0x471670(0x81d)](_0x471670(0x6e9),_0x380802),_0x3e1c59[_0x471670(0x843)]=_0x471670(0xc48);}}async function saveBlueprintProject(){const _0x299bf6=_0x487f42;if(!extractedBlueprintData||!extractedBlueprintData[_0x299bf6(0x524)]){showMessage(_0x299bf6(0x605));return;}const _0x49e461=prompt('กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:',_0x299bf6(0xa9c));if(!_0x49e461||_0x49e461[_0x299bf6(0x1fb)]()==='')return;const _0x1f04a4={};extractedBlueprintData[_0x299bf6(0x524)][_0x299bf6(0xa40)](_0x4d7dbf=>{const _0x168548=_0x299bf6;_0x4d7dbf[_0x168548(0xd8b)][_0x168548(0xa40)](_0x1a806c=>{_0x1a806c['subTopics']['forEach'](_0x2d4782=>{const _0x186e3a=_0x4191,_0x201b97=_0x186e3a(0x50d)+Date[_0x186e3a(0x875)]()+Math[_0x186e3a(0x303)]()['toString'](0x24)[_0x186e3a(0xb2a)](0x2,0x9);_0x1f04a4[_0x201b97]={'sara':_0x4d7dbf[_0x186e3a(0x61d)],'mainTopic':_0x1a806c[_0x186e3a(0xd82)],'subTopic':_0x2d4782,'status':_0x186e3a(0x84b),'lessonContent':null};});});});try{const _0x122e8f=collection(db,_0x299bf6(0x5c6)+appId+_0x299bf6(0x21e));await addDoc(_0x122e8f,{'projectName':_0x49e461[_0x299bf6(0x1fb)](),'gradeLevel':extractedBlueprintData[_0x299bf6(0x786)],'topics':_0x1f04a4,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x49e461[_0x299bf6(0x1fb)]()+_0x299bf6(0xaa6)),document[_0x299bf6(0x40a)](_0x299bf6(0xb9a))['classList']['add'](_0x299bf6(0xc0c));}catch(_0x4df2e7){console[_0x299bf6(0x81d)](_0x299bf6(0x4d7),_0x4df2e7),showMessage(_0x299bf6(0x253));}}async function showBlueprintProjects(){const _0x334f34=_0x487f42,_0x2db24c=document[_0x334f34(0x40a)](_0x334f34(0xa95)),_0x1a35ec=document['getElementById']('blueprint-project-list');_0x1a35ec['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>',_0x2db24c[_0x334f34(0xad3)][_0x334f34(0x432)](_0x334f34(0xc0c));try{const _0x241a0b=collection(db,_0x334f34(0x5c6)+appId+'/public/data/blueprintProjects'),_0x5edfac=await getDocs(_0x241a0b);if(_0x5edfac[_0x334f34(0x78a)]){_0x1a35ec['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>';return;}const _0x20e1d8=_0x5edfac[_0x334f34(0xb2e)]['map'](_0x4de020=>({'id':_0x4de020['id'],..._0x4de020['data']()}));_0x20e1d8[_0x334f34(0x9ff)]((_0x37677b,_0x3c8fa1)=>_0x37677b[_0x334f34(0x21b)][_0x334f34(0xd63)](_0x3c8fa1[_0x334f34(0x21b)],'th')),_0x1a35ec[_0x334f34(0x843)]=_0x20e1d8[_0x334f34(0x71d)](_0xd1ead5=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0xd1ead5[_0x334f34(0x21b)]+_0x334f34(0x398)+_0xd1ead5[_0x334f34(0x786)]+_0x334f34(0xc4c)+Object[_0x334f34(0xaf6)](_0xd1ead5[_0x334f34(0x59a)])[_0x334f34(0xaf2)]+_0x334f34(0x9dc)+_0xd1ead5['id']+_0x334f34(0xca4)+_0xd1ead5['id']+_0x334f34(0x6e7))[_0x334f34(0xb00)]('');}catch(_0x52f00d){console[_0x334f34(0x81d)](_0x334f34(0xa64),_0x52f00d),_0x1a35ec[_0x334f34(0x843)]=_0x334f34(0xbe7);}}async function displayBlueprintProjectManager(_0x15f574){const _0x2bf6c7=_0x487f42;currentBlueprintProjectId=_0x15f574,document[_0x2bf6c7(0x40a)](_0x2bf6c7(0xa95))[_0x2bf6c7(0xad3)][_0x2bf6c7(0xa6b)](_0x2bf6c7(0xc0c)),showView(_0x2bf6c7(0x3d1)),projectDashboardView['classList'][_0x2bf6c7(0xa6b)](_0x2bf6c7(0xc0c));const _0x3e0a34=document[_0x2bf6c7(0x40a)]('blueprint-project-manager-view');_0x3e0a34['classList'][_0x2bf6c7(0x432)](_0x2bf6c7(0xc0c)),document[_0x2bf6c7(0x40a)](_0x2bf6c7(0xc96))[_0x2bf6c7(0x843)]=_0x2bf6c7(0x89d);try{const _0x22bcdc=doc(db,_0x2bf6c7(0x5c6)+appId+_0x2bf6c7(0x21e),_0x15f574),_0x3405e9=await getDoc(_0x22bcdc);if(!_0x3405e9[_0x2bf6c7(0xd6a)]())throw new Error(_0x2bf6c7(0x95f));const _0x439eab={'id':_0x3405e9['id'],..._0x3405e9['data']()};document[_0x2bf6c7(0x40a)](_0x2bf6c7(0x28b))[_0x2bf6c7(0x642)]=_0x439eab[_0x2bf6c7(0x21b)],document[_0x2bf6c7(0x40a)](_0x2bf6c7(0x72f))[_0x2bf6c7(0x6cb)]=_0x439eab['referenceFileUrl']||'',renderBlueprintTopicManager(_0x439eab);}catch(_0x3ff9ef){console['error'](_0x2bf6c7(0x634),_0x3ff9ef),showMessage(_0x3ff9ef['message']),showView(_0x2bf6c7(0x3d1));}}function renderBlueprintTopicManager(_0x1bcb69){const _0x32640e=_0x487f42,_0x466981=document[_0x32640e(0x40a)]('bp-topic-list-container'),_0xcda18c=_0x1bcb69[_0x32640e(0x59a)]||{};if(Object['keys'](_0xcda18c)[_0x32640e(0xaf2)]===0x0){_0x466981[_0x32640e(0x843)]=_0x32640e(0x233);return;}const _0x1c0536=Object[_0x32640e(0x28a)](_0xcda18c)[_0x32640e(0x71d)](([_0x3174d8,_0x3fa08f])=>({'id':_0x3174d8,..._0x3fa08f}))[_0x32640e(0x9ff)]((_0x4774fe,_0x1489ae)=>(_0x4774fe[_0x32640e(0x9e9)]??Infinity)-(_0x1489ae[_0x32640e(0x9e9)]??Infinity)),_0x1eac86={};_0x1c0536[_0x32640e(0xa40)](_0x1e5b8d=>{const _0x4bd7af=_0x32640e,{sara:_0x63f1f3,mainTopic:_0x47a8b1}=_0x1e5b8d;!_0x1eac86[_0x63f1f3]&&(_0x1eac86[_0x63f1f3]={}),!_0x1eac86[_0x63f1f3][_0x47a8b1]&&(_0x1eac86[_0x63f1f3][_0x47a8b1]=[]),_0x1eac86[_0x63f1f3][_0x47a8b1][_0x4bd7af(0x511)](_0x1e5b8d);});let _0x16adb5='';for(const _0x293be6 in _0x1eac86){_0x16adb5+=_0x32640e(0x85e)+_0x293be6+_0x32640e(0x477);for(const _0x322357 in _0x1eac86[_0x293be6]){_0x16adb5+='<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x322357+_0x32640e(0x1fe),_0x1eac86[_0x293be6][_0x322357][_0x32640e(0xa40)](_0x4f359f=>{const _0x5cfba6=_0x32640e,_0x5d2e78=_0x4f359f['id'],_0x2a5b40=_0x4f359f[_0x5cfba6(0x6ed)]||[],_0x543624=_0x2a5b40[_0x5cfba6(0xaf2)]>0x0,_0x2fc79d=_0x4f359f[_0x5cfba6(0xade)]===_0x5cfba6(0x44a);let _0x2ce189='';_0x543624?_0x2ce189=_0x5cfba6(0xc5e)+_0x2a5b40[_0x5cfba6(0xaf2)]+'\x20ชุด)</span>':_0x2ce189='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+(_0x2fc79d?_0x5cfba6(0x951):_0x5cfba6(0x4a7))+'\x22>'+(_0x2fc79d?_0x5cfba6(0x51a):_0x5cfba6(0x4d5))+_0x5cfba6(0x3e5);const _0x30622e=!_0x2fc79d?_0x5cfba6(0x6f2):'',_0x3fc2e6=!_0x2fc79d?'กรุณาสร้างบทเรียนก่อน':'';let _0x1f83ad=_0x2fc79d?_0x5cfba6(0xb2d):_0x5cfba6(0xd69);_0x16adb5+=_0x5cfba6(0x27d)+_0x5d2e78+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>'+_0x4f359f[_0x5cfba6(0x49f)]+_0x5cfba6(0x264)+_0x2ce189+_0x5cfba6(0x7e6)+_0x30622e+_0x5cfba6(0x48e)+_0x3fc2e6+_0x5cfba6(0x53b)+_0x1f83ad+_0x5cfba6(0xd37);}),_0x16adb5+=_0x32640e(0x609);}_0x16adb5+=_0x32640e(0xcc7);}_0x466981[_0x32640e(0x843)]=_0x16adb5;}async function handleDeepDeleteBlueprintProject(_0x59cffe){const _0x5e2be0=_0x487f42,_0x119765=doc(db,_0x5e2be0(0x5c6)+appId+_0x5e2be0(0x21e),_0x59cffe),_0x4eed21=await getDoc(_0x119765);if(!_0x4eed21[_0x5e2be0(0xd6a)]()){showMessage(_0x5e2be0(0xa36));return;}const _0xf0bb08=_0x4eed21[_0x5e2be0(0x225)]()[_0x5e2be0(0x21b)];showConfirmation(_0x5e2be0(0x21d)+_0xf0bb08+_0x5e2be0(0x461),async()=>{const _0x27a46b=_0x5e2be0;showMessage('กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...');try{const _0x30d2f8=writeBatch(db),_0x38d3e0=_0x4eed21['data'](),_0x461742=_0x38d3e0[_0x27a46b(0x59a)]||{};for(const _0xd4c8b3 in _0x461742){const _0x428015=doc(db,_0x27a46b(0x5c6)+appId+_0x27a46b(0xce1)+_0x59cffe+'/lessons',_0xd4c8b3);_0x30d2f8[_0x27a46b(0xbc5)](_0x428015);}const _0x34fcc6=new Set();for(const _0x1398c1 in _0x461742){_0x461742[_0x1398c1][_0x27a46b(0x6ed)]&&_0x461742[_0x1398c1][_0x27a46b(0x6ed)]['forEach'](_0x224083=>_0x34fcc6[_0x27a46b(0xa6b)](_0x224083));}for(const _0x539077 of _0x34fcc6){await handleDeleteQuiz(_0x539077,![]);}_0x30d2f8['delete'](_0x119765),await _0x30d2f8[_0x27a46b(0xb82)](),showMessage(_0x27a46b(0x4d9)+_0xf0bb08+_0x27a46b(0x6e8)),showBlueprintProjects();}catch(_0x1b288e){console['error'](_0x27a46b(0x531),_0x1b288e),showMessage('เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล');}});}async function openTopicQuizBank(_0x11fb9d){const _0x46de03=_0x487f42,_0x1dc04e=document[_0x46de03(0x40a)](_0x46de03(0xc97)),_0x442c23=document[_0x46de03(0x40a)](_0x46de03(0xb17)),_0x5357d4=document[_0x46de03(0x40a)](_0x46de03(0x4cb));try{await ensureGlobalQuizzesLoaded();const _0x327e09=doc(db,_0x46de03(0x5c6)+appId+_0x46de03(0x21e),currentBlueprintProjectId),_0x14b9f3=await getDoc(_0x327e09);if(!_0x14b9f3[_0x46de03(0xd6a)]())return;const _0x1a9e52=_0x14b9f3[_0x46de03(0x225)](),_0x5642b0=_0x1a9e52[_0x46de03(0x59a)][_0x11fb9d];document[_0x46de03(0x40a)](_0x46de03(0xba2))[_0x46de03(0x642)]=_0x5642b0[_0x46de03(0x49f)];const _0x568e20=_0x5642b0[_0x46de03(0x6ed)]||[];_0x5357d4[_0x46de03(0xad3)][_0x46de03(0xcc1)](_0x46de03(0xc0c),_0x568e20[_0x46de03(0xaf2)]===0x0),_0x5357d4[_0x46de03(0x569)]=()=>handleClearAllLinksForTopic(_0x11fb9d);if(_0x568e20['length']===0x0)_0x442c23[_0x46de03(0x843)]=_0x46de03(0x675);else{const _0x39695e=allQuizzesGlobal[_0x46de03(0x24b)](_0x697d4a=>_0x568e20[_0x46de03(0x2a9)](_0x697d4a['id']));_0x442c23['innerHTML']=_0x39695e[_0x46de03(0x71d)](_0x5d41d0=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22'+_0x5d41d0['id']+_0x46de03(0xae0)+_0x5d41d0['topic']+_0x46de03(0x29a)+_0x5d41d0['id']+_0x46de03(0xc4c)+_0x5d41d0[_0x46de03(0x726)]['length']+'\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5d41d0['id']+_0x46de03(0x30c)+_0x5d41d0['id']+_0x46de03(0xae4)+_0x5d41d0['id']+_0x46de03(0x3c7)+_0x5d41d0['id']+_0x46de03(0x8e0)+_0x5d41d0['id']+_0x46de03(0xb16)+_0x5d41d0['id']+_0x46de03(0xb13)+_0x11fb9d+_0x46de03(0x471)+_0x5d41d0['id']+_0x46de03(0xa35))['join']('');}document[_0x46de03(0x40a)](_0x46de03(0xa98))['onclick']=()=>{openQuizSelectorForBlueprint(_0x11fb9d);},document[_0x46de03(0x40a)]('close-topic-bank-btn')[_0x46de03(0x569)]=()=>_0x1dc04e[_0x46de03(0xad3)][_0x46de03(0xa6b)](_0x46de03(0xc0c)),_0x1dc04e[_0x46de03(0xad3)][_0x46de03(0x432)](_0x46de03(0xc0c));}catch(_0x352536){showMessage(_0x352536[_0x46de03(0xc94)]);}}async function openQuizSelectorForBlueprint(_0x506c8f){const _0x4457e7=_0x487f42,_0x31fe8f=document[_0x4457e7(0x40a)]('quiz-bank-modal'),_0x25bf2a=document[_0x4457e7(0x40a)](_0x4457e7(0xc97));_0x25bf2a['classList']['add']('hidden'),document[_0x4457e7(0x40a)](_0x4457e7(0x832))?.[_0x4457e7(0x432)]();const _0xa43046=document[_0x4457e7(0x29e)](_0x4457e7(0x7b2));_0xa43046['id']=_0x4457e7(0x832),_0xa43046[_0x4457e7(0x9da)]=_0x4457e7(0x9c8),_0xa43046[_0x4457e7(0x642)]=_0x4457e7(0x964),_0xa43046[_0x4457e7(0x4c2)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x31fe8f[_0x4457e7(0xad3)][_0x4457e7(0x432)](_0x4457e7(0xc0c)),renderQuizBankListForMultiSelect(''),document['getElementById'](_0x4457e7(0x618))[_0x4457e7(0x446)][_0x4457e7(0x224)]=_0x4457e7(0xaec),_0x31fe8f[_0x4457e7(0xaef)](_0x4457e7(0xc0a))[_0x4457e7(0x84d)](_0xa43046);const _0x564f9a=(_0x5e4cc2=![])=>{const _0x29c3cd=_0x4457e7;_0x31fe8f[_0x29c3cd(0xad3)][_0x29c3cd(0xa6b)](_0x29c3cd(0xc0c)),document[_0x29c3cd(0x40a)](_0x29c3cd(0x618))[_0x29c3cd(0x446)][_0x29c3cd(0x224)]=_0x29c3cd(0x9f3),_0xa43046[_0x29c3cd(0x432)](),_0x5e4cc2&&openTopicQuizBank(_0x506c8f);};_0xa43046[_0x4457e7(0x569)]=async()=>{const _0x41a6a6=_0x4457e7,_0x2a45ab=Array['from'](document['querySelectorAll'](_0x41a6a6(0x3ef)))['map'](_0x44b5ec=>_0x44b5ec[_0x41a6a6(0x6cb)]);if(_0x2a45ab['length']===0x0)return;try{const _0x1ad3c5=doc(db,_0x41a6a6(0x5c6)+appId+_0x41a6a6(0x21e),currentBlueprintProjectId),_0x585694=(await getDoc(_0x1ad3c5))[_0x41a6a6(0x225)](),_0x20b431=_0x585694[_0x41a6a6(0x59a)][_0x506c8f][_0x41a6a6(0x6ed)]||[],_0xde68ad=[...new Set([..._0x20b431,..._0x2a45ab])];await updateDoc(_0x1ad3c5,{[_0x41a6a6(0x4ed)+_0x506c8f+'.linkedQuizIds']:_0xde68ad}),showMessage(_0x41a6a6(0x44c)+_0x2a45ab[_0x41a6a6(0xaf2)]+_0x41a6a6(0x8fb)),_0x564f9a(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5245d2){console[_0x41a6a6(0x81d)](_0x41a6a6(0x673),_0x5245d2);}},document[_0x4457e7(0x40a)]('cancel-quiz-bank-btn')[_0x4457e7(0x569)]=()=>_0x564f9a(!![]);}catch(_0x2ad469){showMessage(_0x2ad469[_0x4457e7(0xc94)]),_0x25bf2a[_0x4457e7(0xad3)][_0x4457e7(0x432)](_0x4457e7(0xc0c));}}function handleClearLinkedQuiz(_0x3bd278){const _0x3e740f=_0x487f42;showConfirmation(_0x3e740f(0xa00),async()=>{const _0x466967=_0x3e740f;try{const _0x17f182=doc(db,_0x466967(0x5c6)+appId+_0x466967(0x21e),currentBlueprintProjectId);await updateDoc(_0x17f182,{['topics.'+_0x3bd278+_0x466967(0xa5e)]:deleteField()}),showMessage(_0x466967(0xb07)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1952bc){console[_0x466967(0x81d)]('Error\x20clearing\x20linked\x20quiz:',_0x1952bc),showMessage(_0x466967(0x899));}});}async function addTopicToProject(){const _0x9a4eb0=_0x487f42,_0x1fdb47=prompt('กรุณาป้อนชื่อหัวข้อย่อยใหม่:');if(!_0x1fdb47||_0x1fdb47['trim']()==='')return;const _0x37c7c2=prompt(_0x9a4eb0(0x57e),_0x9a4eb0(0xc80)),_0x4e8ca9=prompt(_0x9a4eb0(0x36e),'หัวข้อหลักใหม่'),_0x3bbed5=_0x9a4eb0(0x50d)+Date['now']()+Math[_0x9a4eb0(0x303)]()[_0x9a4eb0(0xc03)](0x24)[_0x9a4eb0(0xb2a)](0x2,0x9),_0x23093b={'sara':_0x37c7c2,'mainTopic':_0x4e8ca9,'subTopic':_0x1fdb47[_0x9a4eb0(0x1fb)](),'status':_0x9a4eb0(0x84b),'lessonContent':null};try{const _0x5dcfd1=doc(db,'artifacts/'+appId+_0x9a4eb0(0x21e),currentBlueprintProjectId);await updateDoc(_0x5dcfd1,{[_0x9a4eb0(0x4ed)+_0x3bbed5]:_0x23093b}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x364c1d){console[_0x9a4eb0(0x81d)](_0x9a4eb0(0xac4),_0x364c1d),showMessage(_0x9a4eb0(0x955));}}async function editTopicInProject(_0x53338e){const _0x43e69f=_0x487f42,_0x2deaef=document['querySelector'](_0x43e69f(0x2d4)+_0x53338e+'\x22]'),_0x489693=_0x2deaef[_0x43e69f(0xaef)](_0x43e69f(0x22f)),_0x192426=_0x489693[_0x43e69f(0x642)],_0x4f14d4=prompt(_0x43e69f(0xd0d),_0x192426);if(!_0x4f14d4||_0x4f14d4['trim']()===''||_0x4f14d4['trim']()===_0x192426)return;try{const _0x4ef631=doc(db,_0x43e69f(0x5c6)+appId+_0x43e69f(0x21e),currentBlueprintProjectId);await updateDoc(_0x4ef631,{[_0x43e69f(0x4ed)+_0x53338e+'.subTopic']:_0x4f14d4[_0x43e69f(0x1fb)]()}),_0x489693[_0x43e69f(0x642)]=_0x4f14d4['trim'](),showMessage(_0x43e69f(0xa21));}catch(_0x11b863){console[_0x43e69f(0x81d)](_0x43e69f(0x89a),_0x11b863),showMessage(_0x43e69f(0x6bf));}}async function deleteTopicFromProject(_0x183fce){const _0x775695=_0x487f42;if(!confirm(_0x775695(0x213)))return;try{const _0x54c104=doc(db,_0x775695(0x5c6)+appId+_0x775695(0x21e),currentBlueprintProjectId);await updateDoc(_0x54c104,{[_0x775695(0x4ed)+_0x183fce]:deleteField()}),document['querySelector'](_0x775695(0x2d4)+_0x183fce+'\x22]')['remove'](),showMessage(_0x775695(0x3d3));}catch(_0x27ed80){console[_0x775695(0x81d)]('Error\x20deleting\x20topic:',_0x27ed80),showMessage(_0x775695(0x6c1));}}async function generateAndSaveLessonForBlueprint(_0x257f77,_0xac8ed2,_0x1b2fe8){handleGenerateAndShowLesson(_0xac8ed2,_0x1b2fe8);const _0x7c4280=setInterval(async()=>{const _0x584ee7=_0x4191,_0x365bd9=document[_0x584ee7(0x40a)](_0x584ee7(0x7b9)),_0x2d6a5f=_0x365bd9[_0x584ee7(0xad3)][_0x584ee7(0x560)]('hidden');if(_0x2d6a5f){clearInterval(_0x7c4280);if(currentApplicationData&&currentApplicationData['length']>0x0){const _0x36ddeb={'point':document['getElementById'](_0x584ee7(0xa20))[_0x584ee7(0x843)],'memory':document[_0x584ee7(0x40a)]('memoryContent')['innerHTML'],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x584ee7(0x40a)](_0x584ee7(0x7f6))[_0x584ee7(0x843)]};try{const _0x1ec22f=doc(db,_0x584ee7(0x5c6)+appId+_0x584ee7(0x21e),currentBlueprintProjectId),_0x49643d=doc(db,'artifacts/'+appId+_0x584ee7(0xce1)+currentBlueprintProjectId+_0x584ee7(0xccb),_0x257f77),_0x448cb9=writeBatch(db);_0x448cb9[_0x584ee7(0x997)](_0x49643d,{'content':_0x36ddeb}),_0x448cb9['update'](_0x1ec22f,{[_0x584ee7(0x4ed)+_0x257f77+_0x584ee7(0x96a)]:_0x584ee7(0x44a)}),await _0x448cb9[_0x584ee7(0xb82)](),console['log'](_0x584ee7(0x936)+_0x257f77+'\x20สำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x140897){console['error'](_0x584ee7(0x58e),_0x140897);}}}},0x3e8);}function displayHalfMarkResult(_0x109daf,_0x1740fe){const _0x36fe51=_0x487f42,_0x588bd1=_0x109daf>=_0x1740fe/0x2,_0x4ae958=_0x588bd1?_0x36fe51(0x4da):'bg-red-100',_0x39e803=_0x588bd1?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':_0x36fe51(0x4eb),_0x2f66a0=_0x588bd1?'text-green-800':'text-red-800',_0x4ddc68=_0x588bd1?_0x36fe51(0xce2):_0x36fe51(0x676),_0x31c597=_0x588bd1?_0x36fe51(0xa0f):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x468272=_0x36fe51(0x3cb)+_0x4ae958+_0x36fe51(0xbf1)+_0x39e803+_0x36fe51(0x602)+_0x2f66a0+_0x36fe51(0xc8b)+_0x4ddc68+_0x36fe51(0x202)+_0x31c597+_0x36fe51(0x38a);studentResultArea[_0x36fe51(0x843)]=_0x468272,studentResultArea['classList'][_0x36fe51(0x432)]('hidden'),studentQuizArea['classList'][_0x36fe51(0xa6b)](_0x36fe51(0xc0c)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x588bd1});}function displayPerfectScoreResult(_0x4c8d51,_0x2ef5ed){const _0x5a31c8=_0x487f42,_0x594200=_0x4c8d51===_0x2ef5ed,_0xf922d0=_0x594200?'bg-yellow-100':_0x5a31c8(0x651),_0x20dc01=_0x594200?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x5a31c8(0x1ef),_0x177973=_0x594200?_0x5a31c8(0x4e0):'text-blue-800',_0x48e8c3=_0x594200?_0x5a31c8(0xd7a):'ยังไม่เต็มนะ',_0x110664=_0x594200?_0x5a31c8(0xb79):'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x3d1479=_0x5a31c8(0x3cb)+_0xf922d0+_0x5a31c8(0xbf1)+_0x20dc01+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x177973+_0x5a31c8(0xc8b)+_0x48e8c3+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x110664+_0x5a31c8(0x38a);studentResultArea[_0x5a31c8(0x843)]=_0x3d1479,studentResultArea[_0x5a31c8(0xad3)][_0x5a31c8(0x432)]('hidden'),studentQuizArea[_0x5a31c8(0xad3)][_0x5a31c8(0xa6b)]('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x4c8d51,'totalQuestions':_0x2ef5ed});}function renderIndividualComparisonTable(_0xa9f134,_0x34d411){const _0x14b54a=_0x487f42;_0xa9f134[_0x14b54a(0x9ff)]((_0x36367b,_0x1de753)=>(_0x1de753[_0x14b54a(0x97a)]??-Infinity)-(_0x36367b[_0x14b54a(0x97a)]??-Infinity));let _0x36e05f=_0x14b54a(0x22e);_0xa9f134[_0x14b54a(0xaf2)]===0x0?_0x36e05f+=_0x14b54a(0x6ef):_0xa9f134['forEach']((_0x40358d,_0x14e468)=>{const _0x376255=_0x14b54a;let _0x549d2d='-',_0x4ac893='';if(_0x40358d[_0x376255(0x990)]!==null){const _0x19ba6c=_0x40358d[_0x376255(0x990)]>0x0?'text-green-600':_0x40358d[_0x376255(0x990)]<0x0?_0x376255(0x76f):_0x376255(0x39a),_0x39be4c=_0x40358d[_0x376255(0x990)]>0x0?'+':'';_0x549d2d='<span\x20class=\x22font-bold\x20'+_0x19ba6c+'\x22>'+_0x39be4c+_0x40358d['gain']+_0x376255(0x3e5);if(_0x40358d[_0x376255(0x990)]>0x0)_0x4ac893=_0x376255(0x6d0);else _0x40358d['gain']<0x0?_0x4ac893='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x4ac893=_0x376255(0x56e);}let _0x56ab2a='-';if(_0x40358d[_0x376255(0x97a)]!==null){const _0x4eacd4=_0x40358d[_0x376255(0x97a)]>0x0?_0x376255(0xc95):_0x40358d[_0x376255(0x97a)]<0x0?_0x376255(0x76f):'text-gray-500',_0x17a782=_0x40358d[_0x376255(0x97a)]>0x0?'+':'';_0x56ab2a=_0x376255(0x2fb)+_0x4eacd4+'\x22>'+_0x17a782+_0x40358d[_0x376255(0x97a)][_0x376255(0xbd7)](0x2)+_0x376255(0x3e5);}_0x36e05f+=_0x376255(0x580)+(_0x14e468+0x1)+_0x376255(0x7b1)+_0x40358d['name']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x40358d['preScore']??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>'+(_0x40358d['postScore']??'-')+_0x376255(0x3ca)+_0x549d2d+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x4ac893+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x40358d[_0x376255(0x262)]?.[_0x376255(0xbd7)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x40358d[_0x376255(0xb96)]?.[_0x376255(0xbd7)](0x2)??'-')+_0x376255(0x3ca)+_0x56ab2a+_0x376255(0x2b5);}),_0x36e05f+=_0x14b54a(0xc2f),_0x34d411[_0x14b54a(0x843)]=_0x36e05f;}function handleRenameQuiz(_0x54f42b,_0x16463a){const _0x3660dc=_0x487f42;actionTargetId=_0x54f42b,document[_0x3660dc(0x40a)]('rename-quiz-input')[_0x3660dc(0x6cb)]=_0x16463a,renameQuizModal['classList'][_0x3660dc(0x432)](_0x3660dc(0xc0c));}function setupComparisonModalTabs(){const _0x4a0acf=_0x487f42,_0x1ebfe2=document[_0x4a0acf(0x40a)](_0x4a0acf(0xd1f)),_0x31e00e=document[_0x4a0acf(0x40a)](_0x4a0acf(0x9b3)),_0x422175=document[_0x4a0acf(0x40a)]('comparison-overall-content'),_0x2f43a7=document[_0x4a0acf(0x40a)](_0x4a0acf(0x702));_0x1ebfe2['addEventListener'](_0x4a0acf(0x859),()=>{const _0xc75b7e=_0x4a0acf;_0x1ebfe2[_0xc75b7e(0xad3)]['add'](_0xc75b7e(0xd29)),_0x31e00e[_0xc75b7e(0xad3)][_0xc75b7e(0x432)](_0xc75b7e(0xd29)),_0x422175['classList'][_0xc75b7e(0x432)](_0xc75b7e(0xc0c)),_0x2f43a7[_0xc75b7e(0xad3)][_0xc75b7e(0xa6b)](_0xc75b7e(0xc0c));}),_0x31e00e[_0x4a0acf(0x7d4)](_0x4a0acf(0x859),()=>{const _0x2364ba=_0x4a0acf;_0x31e00e['classList'][_0x2364ba(0xa6b)]('active'),_0x1ebfe2[_0x2364ba(0xad3)][_0x2364ba(0x432)](_0x2364ba(0xd29)),_0x2f43a7['classList'][_0x2364ba(0x432)](_0x2364ba(0xc0c)),_0x422175[_0x2364ba(0xad3)][_0x2364ba(0xa6b)](_0x2364ba(0xc0c));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x2dc791=_0x487f42;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x5c2546=doc(db,_0x2dc791(0x5c6)+appId+_0x2dc791(0xa0c),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x5c2546,_0x289e10=>{const _0x27fbbb=_0x2dc791;if(!_0x289e10[_0x27fbbb(0xd6a)]()){showMessage(_0x27fbbb(0x924));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x27fbbb(0x347)):showView(_0x27fbbb(0x309));return;}const _0x7d80a2=_0x289e10[_0x27fbbb(0x225)]();_0x7d80a2[_0x27fbbb(0x2a2)]&&(currentQuizData=_0x7d80a2[_0x27fbbb(0x2a2)]);!currentQuizData&&_0x7d80a2[_0x27fbbb(0x4f2)]&&((async()=>{const _0x25f08e=_0x27fbbb;try{const _0xab5257=doc(db,_0x25f08e(0x5c6)+appId+_0x25f08e(0x7ac),_0x7d80a2['quizId']),_0x4b0db5=await getDoc(_0xab5257);_0x4b0db5[_0x25f08e(0xd6a)]()&&(currentQuizData={'id':_0x4b0db5['id'],..._0x4b0db5[_0x25f08e(0x225)]()});}catch(_0x366f55){console[_0x25f08e(0x81d)](_0x25f08e(0xd22),_0x366f55);}})());switch(_0x7d80a2['status']){case'lobby':if(currentMode==='admin'){const _0x10fcdb=_0x7d80a2[_0x27fbbb(0x729)]?Object[_0x27fbbb(0x28a)](_0x7d80a2[_0x27fbbb(0x729)]):[],_0x495e41=_0x10fcdb[_0x27fbbb(0x24b)](([_0x3f1393,_0x489ffd])=>_0x489ffd[_0x27fbbb(0xade)]===_0x27fbbb(0xd29)),_0x36ee54=document[_0x27fbbb(0x40a)](_0x27fbbb(0x8c1));if(_0x36ee54)_0x36ee54[_0x27fbbb(0x642)]=_0x495e41[_0x27fbbb(0xaf2)];const _0x315a7d=document[_0x27fbbb(0x40a)](_0x27fbbb(0x633));_0x315a7d&&(_0x315a7d[_0x27fbbb(0x843)]=_0x495e41[_0x27fbbb(0x71d)](([_0xaa7f73,_0x930736])=>_0x27fbbb(0xc6c)+_0xaa7f73+_0x27fbbb(0x85c)+_0xaa7f73+_0x27fbbb(0xac1))[_0x27fbbb(0xb00)](''));const _0x5e85ce=document[_0x27fbbb(0x40a)](_0x27fbbb(0x30f));_0x5e85ce&&(_0x5e85ce[_0x27fbbb(0x4c2)]=_0x495e41[_0x27fbbb(0xaf2)]===0x0);}else showView(_0x27fbbb(0x5a0)),liveGameView[_0x27fbbb(0x843)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+_0x27fbbb(0xd60);break;case _0x27fbbb(0x98b):const _0x4497a7=_0x7d80a2[_0x27fbbb(0x884)];if(currentQuizData&&currentQuizData[_0x27fbbb(0x726)][_0x4497a7]){const _0x487d48=currentQuizData[_0x27fbbb(0x726)][_0x4497a7],_0x26a024=_0x7d80a2[_0x27fbbb(0x4bf)]||_0x27fbbb(0xb8b);switch(_0x26a024){case _0x27fbbb(0x2ad):currentMode===_0x27fbbb(0x56d)?showAdminSummaryView(_0x7d80a2,_0x487d48):showPlayerSummaryView(_0x7d80a2,currentStudentName);break;case'leaderboard':currentMode==='admin'&&showTop5LeaderboardView(_0x7d80a2);break;case _0x27fbbb(0xb8b):default:if(currentMode===_0x27fbbb(0x56d)){const _0x4990dc=writeBatch(db);let _0x1de529=![];Object[_0x27fbbb(0x28a)](_0x7d80a2[_0x27fbbb(0x729)])[_0x27fbbb(0xa40)](([_0x4f0bd3,_0x570fdc])=>{const _0x1b5079=_0x27fbbb;if(_0x570fdc[_0x1b5079(0xade)]===_0x1b5079(0xd29)&&_0x570fdc['submittedAt']&&!_0x570fdc[_0x1b5079(0xbb4)]){_0x1de529=!![];const _0x29e845=_0x570fdc[_0x1b5079(0xb43)][_0x1b5079(0x8dc)]()-_0x7d80a2[_0x1b5079(0x992)][_0x1b5079(0x8dc)]();let _0x9717ad=0x0;if(_0x570fdc['lastAnswerCorrect']){const _0x2f3bab=0x3e8,_0xee24d0=0x1f4,_0x50de69=0x4e20;let _0xf5de4c=_0x29e845/_0x50de69;if(_0xf5de4c>0x1)_0xf5de4c=0x1;const _0x3fb7d8=Math[_0x1b5079(0x830)](_0xf5de4c*_0xee24d0);_0x9717ad=_0x2f3bab-_0x3fb7d8;}const _0x438098=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);_0x4990dc[_0x1b5079(0x3ad)](_0x438098,{['players.'+_0x4f0bd3+'.score']:increment(_0x9717ad),[_0x1b5079(0x370)+_0x4f0bd3+_0x1b5079(0xbe0)]:_0x9717ad,[_0x1b5079(0x370)+_0x4f0bd3+_0x1b5079(0xbbb)]:!![]});}});_0x1de529&&_0x4990dc[_0x27fbbb(0xb82)]()['catch'](_0x3b6637=>console[_0x27fbbb(0x81d)](_0x27fbbb(0xce0),_0x3b6637));lastRenderedAdminQuestionIndex!==_0x4497a7&&(showAdminLiveQuestionView(_0x487d48,_0x4497a7,currentQuizData[_0x27fbbb(0x726)][_0x27fbbb(0xaf2)]),lastRenderedAdminQuestionIndex=_0x4497a7);const _0x516fcc=_0x7d80a2[_0x27fbbb(0x729)]||{},_0x53d64f=Object[_0x27fbbb(0xafb)](_0x516fcc)[_0x27fbbb(0x24b)](_0x4d299c=>_0x4d299c[_0x27fbbb(0xade)]===_0x27fbbb(0xd29)),_0x3dde3c=_0x53d64f[_0x27fbbb(0xaf2)],_0x3401c5=_0x53d64f['filter'](_0x3b2219=>_0x3b2219['answeredCurrentQuestion']===!![])['length'],_0x12ba3e=document[_0x27fbbb(0x40a)](_0x27fbbb(0x49c));if(_0x12ba3e)_0x12ba3e[_0x27fbbb(0x642)]=_0x3401c5+'/'+_0x3dde3c;const _0x3d4bcf=document[_0x27fbbb(0x40a)](_0x27fbbb(0x3c8));if(_0x3d4bcf){let _0x59e5fa=Object[_0x27fbbb(0x28a)](_0x516fcc)['filter'](([_0x4bee9a,_0x2934d6])=>_0x2934d6[_0x27fbbb(0xade)]===_0x27fbbb(0xd29))['map'](([_0x157115,_0x5510c2])=>{const _0x34fe9f=_0x27fbbb,_0x11b4cc=_0x5510c2[_0x34fe9f(0x74c)]===!![],_0x402265=_0x11b4cc?_0x34fe9f(0x243):'bg-gray-500',_0x48c20e=_0x11b4cc?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x34fe9f(0x502);return _0x34fe9f(0x2e3)+_0x402265+_0x34fe9f(0x65d)+_0x48c20e+_0x34fe9f(0x333)+_0x157115+_0x34fe9f(0x3ff)+_0x157115+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x27fbbb(0xb00)]('');_0x3d4bcf[_0x27fbbb(0x843)]=_0x59e5fa||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x3dde3c>0x0&&_0x3401c5===_0x3dde3c&&revealAnswerForAdmin(_0x4497a7,currentQuizData[_0x27fbbb(0x726)]['length']);}else{const _0x459250=_0x7d80a2[_0x27fbbb(0x729)][currentStudentName];_0x459250&&!_0x459250[_0x27fbbb(0x74c)]&&showStudentLiveQuestionView(_0x487d48,_0x4497a7,currentQuizData['questions']['length']);}break;}}break;case _0x27fbbb(0x54d):showPodiumView(_0x7d80a2['players'],_0x27fbbb(0x2a0));break;}});}async function openGlobalActivityModal(){const _0x101036=_0x487f42;if(allQuizzesGlobal[_0x101036(0xaf2)]===0x0){const _0x303637=await getDocs(collection(db,_0x101036(0x5c6)+appId+_0x101036(0x7ac)));allQuizzesGlobal=_0x303637[_0x101036(0xb2e)][_0x101036(0x71d)](_0x565a8d=>({'id':_0x565a8d['id'],..._0x565a8d[_0x101036(0x225)]()}));}renderGlobalActivityList(''),document[_0x101036(0x40a)]('global-activity-modal')[_0x101036(0xad3)][_0x101036(0x432)](_0x101036(0xc0c));}function renderGlobalActivityList(_0xf03ef8=''){const _0x27c328=_0x487f42,_0x5a05a9=document[_0x27c328(0x40a)]('global-activity-quiz-list'),_0x3e39f4=_0xf03ef8[_0x27c328(0x47c)]()['trim'](),_0x402d19=allQuizzesGlobal['map'](_0x1daa08=>({..._0x1daa08,'projectName':allProjects[_0x27c328(0x8d2)](_0x542e87=>_0x542e87['id']===_0x1daa08[_0x27c328(0x84e)])?.[_0x27c328(0x21b)]||_0x27c328(0xca9)}))['filter'](_0x776640=>(_0x776640['topic']||'')[_0x27c328(0x47c)]()[_0x27c328(0x2a9)](_0x3e39f4)||(_0x776640[_0x27c328(0x21b)]||'')[_0x27c328(0x47c)]()['includes'](_0x3e39f4));document[_0x27c328(0x40a)](_0x27c328(0x8e9))[_0x27c328(0x642)]='('+_0x402d19['length']+_0x27c328(0xb51),_0x5a05a9[_0x27c328(0x843)]=_0x402d19['length']?_0x402d19[_0x27c328(0x71d)](_0xc34484=>_0x27c328(0x6a7)+(_0xc34484[_0x27c328(0xc30)]||_0x27c328(0x82b))+_0x27c328(0x741)+(_0xc34484[_0x27c328(0x726)]?.['length']||0x0)+_0x27c328(0x977)+_0xc34484[_0x27c328(0x21b)]+_0x27c328(0x8cd)+_0xc34484['id']+_0x27c328(0x91e)+_0xc34484['id']+_0x27c328(0x909)+_0xc34484['id']+_0x27c328(0x70d)+_0xc34484['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20')[_0x27c328(0xb00)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>';}async function handleKickPlayer(_0x2811e5){const _0x5c59c4=_0x487f42;if(!currentLiveGameId||!_0x2811e5)return;const _0x18efb9=doc(db,_0x5c59c4(0x5c6)+appId+_0x5c59c4(0xa0c),currentLiveGameId),_0x338c2e={};_0x338c2e['players.'+_0x2811e5+_0x5c59c4(0x96a)]='inactive';try{await updateDoc(_0x18efb9,_0x338c2e);}catch(_0x28afac){console[_0x5c59c4(0x81d)](_0x5c59c4(0x6a4)+_0x2811e5+':',_0x28afac),showMessage(_0x5c59c4(0x60b));}}async function authenticateUser(){const _0x4e362f=_0x487f42;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x243469){console[_0x4e362f(0x81d)](_0x4e362f(0x814),_0x243469),showMessage(_0x4e362f(0xc7b));}}function showView(_0x3b9689){const _0x3d65f5=_0x487f42;adminView[_0x3d65f5(0xad3)][_0x3d65f5(0xa6b)](_0x3d65f5(0xc0c)),studentView[_0x3d65f5(0xad3)][_0x3d65f5(0xa6b)]('hidden'),projectDashboardView[_0x3d65f5(0xad3)][_0x3d65f5(0xa6b)]('hidden'),projectDetailView[_0x3d65f5(0xad3)][_0x3d65f5(0xa6b)]('hidden'),quizResultsView['classList']['add'](_0x3d65f5(0xc0c)),liveGameView[_0x3d65f5(0xad3)][_0x3d65f5(0xa6b)]('hidden'),document['getElementById'](_0x3d65f5(0x312))[_0x3d65f5(0xad3)][_0x3d65f5(0xa6b)](_0x3d65f5(0xc0c)),studentInitialView[_0x3d65f5(0xad3)][_0x3d65f5(0xa6b)](_0x3d65f5(0xc0c)),studentJoinGameView['classList'][_0x3d65f5(0xa6b)](_0x3d65f5(0xc0c)),studentNameSelectionView[_0x3d65f5(0xad3)][_0x3d65f5(0xa6b)]('hidden'),studentQuizArea[_0x3d65f5(0xad3)]['add']('hidden'),studentResultArea[_0x3d65f5(0xad3)][_0x3d65f5(0xa6b)]('hidden'),studentReadingArea['classList']['add'](_0x3d65f5(0xc0c));const _0x79eac3=document[_0x3d65f5(0x40a)]('student-team-selection-view'),_0x20742e=document[_0x3d65f5(0x40a)](_0x3d65f5(0x6d8));if(_0x79eac3)_0x79eac3[_0x3d65f5(0xad3)][_0x3d65f5(0xa6b)]('hidden');if(_0x20742e)_0x20742e['classList'][_0x3d65f5(0xa6b)](_0x3d65f5(0xc0c));switch(_0x3b9689){case'admin-dashboard':adminView[_0x3d65f5(0xad3)][_0x3d65f5(0x432)](_0x3d65f5(0xc0c)),projectDashboardView['classList']['remove'](_0x3d65f5(0xc0c));break;case _0x3d65f5(0x347):adminView[_0x3d65f5(0xad3)][_0x3d65f5(0x432)](_0x3d65f5(0xc0c)),projectDetailView[_0x3d65f5(0xad3)]['remove'](_0x3d65f5(0xc0c));break;case _0x3d65f5(0x6b7):adminView[_0x3d65f5(0xad3)][_0x3d65f5(0x432)](_0x3d65f5(0xc0c)),quizResultsView['classList'][_0x3d65f5(0x432)]('hidden');break;case _0x3d65f5(0x309):studentView[_0x3d65f5(0xad3)]['remove'](_0x3d65f5(0xc0c)),studentInitialView[_0x3d65f5(0xad3)][_0x3d65f5(0x432)](_0x3d65f5(0xc0c));break;case _0x3d65f5(0x5a0):liveGameView[_0x3d65f5(0xad3)]['remove'](_0x3d65f5(0xc0c));break;case'student-team-join':studentView[_0x3d65f5(0xad3)][_0x3d65f5(0x432)](_0x3d65f5(0xc0c));if(_0x79eac3)_0x79eac3[_0x3d65f5(0xad3)][_0x3d65f5(0x432)](_0x3d65f5(0xc0c));break;case'student-progress':studentView['classList'][_0x3d65f5(0x432)]('hidden');if(_0x20742e)_0x20742e[_0x3d65f5(0xad3)][_0x3d65f5(0x432)](_0x3d65f5(0xc0c));break;default:studentView[_0x3d65f5(0xad3)]['remove']('hidden'),studentInitialView[_0x3d65f5(0xad3)]['remove'](_0x3d65f5(0xc0c));break;}}function showJoinGameView(){const _0x1b43cc=_0x487f42;studentInitialView[_0x1b43cc(0xad3)][_0x1b43cc(0xa6b)]('hidden'),studentJoinGameView[_0x1b43cc(0xad3)][_0x1b43cc(0x432)](_0x1b43cc(0xc0c));}async function handleSaveVisibilitySettings(){const _0x40a707=_0x487f42;if(!currentProjectId)return;const _0x1f8be8=doc(db,'artifacts/'+appId+_0x40a707(0x248),currentProjectId);try{await updateDoc(_0x1f8be8,{'settings.showInStudentDashboard':document[_0x40a707(0x40a)](_0x40a707(0xbd5))[_0x40a707(0x6f6)],'settings.isPasscodeEnabled':document[_0x40a707(0x40a)](_0x40a707(0x845))[_0x40a707(0x6f6)],'settings.passcode':document['getElementById']('project-passcode-input')['value'][_0x40a707(0x1fb)]()}),showMessage(_0x40a707(0xaff));}catch(_0x5612b3){console[_0x40a707(0x81d)](_0x40a707(0x509),_0x5612b3),showMessage(_0x40a707(0xb3a));}}function setupEventListeners(){const _0x62d589=_0x487f42,_0x2dd2a4=document['getElementById']('dim-overlay');_0x2dd2a4&&(_0x2dd2a4[_0x62d589(0x7d4)](_0x62d589(0xa3c),wakeUpScreen),_0x2dd2a4[_0x62d589(0x7d4)](_0x62d589(0x912),wakeUpScreen));document[_0x62d589(0x40a)]('save-bp-reference-btn')[_0x62d589(0x7d4)](_0x62d589(0x859),async()=>{const _0x5032d5=_0x62d589;if(!currentBlueprintProjectId)return;const _0x2bf938=document[_0x5032d5(0x40a)](_0x5032d5(0x72f))[_0x5032d5(0x6cb)][_0x5032d5(0x1fb)](),_0x56ee85=doc(db,_0x5032d5(0x5c6)+appId+_0x5032d5(0x21e),currentBlueprintProjectId);try{await updateDoc(_0x56ee85,{'referenceFileUrl':_0x2bf938}),showMessage('บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ');}catch(_0x56f2ee){console[_0x5032d5(0x81d)](_0x5032d5(0x87d),_0x56f2ee),showMessage(_0x5032d5(0xb3a));}}),document[_0x62d589(0x40a)]('add-parallel-shortcut-tab-btn')[_0x62d589(0x7d4)]('click',handleAddParallelShortcutTab),document[_0x62d589(0x40a)](_0x62d589(0x374))[_0x62d589(0x7d4)](_0x62d589(0x859),_0x25211d=>{const _0x14c585=_0x62d589;_0x25211d[_0x14c585(0x5c1)][_0x14c585(0xad9)](_0x14c585(0x77f))&&(activeParallelShortcutTabId=_0x14c585(0xb90),renderAdditionalParallelShortcutsModal(),document[_0x14c585(0x40a)](_0x14c585(0x443))[_0x14c585(0xad3)][_0x14c585(0x432)](_0x14c585(0xc0c)));}),document[_0x62d589(0x40a)](_0x62d589(0x5d4))['addEventListener'](_0x62d589(0x859),()=>{const _0x1f88ae=_0x62d589;document[_0x1f88ae(0x40a)](_0x1f88ae(0x443))[_0x1f88ae(0xad3)][_0x1f88ae(0xa6b)](_0x1f88ae(0xc0c));}),document[_0x62d589(0x7d4)](_0x62d589(0x859),_0x53fae7=>{const _0x1c2091=_0x62d589;!_0x53fae7[_0x1c2091(0x5c1)]['closest']('.group\x5c/dropdown-parallel')&&document[_0x1c2091(0x93e)](_0x1c2091(0xcd8))[_0x1c2091(0xa40)](_0x33c415=>_0x33c415[_0x1c2091(0xad3)][_0x1c2091(0xa6b)]('hidden'));}),document[_0x62d589(0x40a)](_0x62d589(0xb0c))[_0x62d589(0x7d4)](_0x62d589(0x859),handleAddFileShortcutTab),document['getElementById']('file-input-area')[_0x62d589(0x7d4)](_0x62d589(0x859),_0x234baf=>{const _0x2b2b87=_0x62d589;_0x234baf['target'][_0x2b2b87(0xad9)](_0x2b2b87(0xcdf))&&(activeFileShortcutTabId=_0x2b2b87(0xb90),renderAdditionalFileShortcutsModal(),document[_0x2b2b87(0x40a)]('additional-file-shortcuts-modal')[_0x2b2b87(0xad3)][_0x2b2b87(0x432)]('hidden'));}),document[_0x62d589(0x40a)](_0x62d589(0xaac))[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x3e2e39=_0x62d589;document['getElementById']('additional-file-shortcuts-modal')['classList']['add'](_0x3e2e39(0xc0c));}),document[_0x62d589(0x7d4)]('click',_0x41a0a9=>{const _0x2fd572=_0x62d589;!_0x41a0a9[_0x2fd572(0x5c1)][_0x2fd572(0xad9)](_0x2fd572(0x4ab))&&document[_0x2fd572(0x93e)](_0x2fd572(0x90b))['forEach'](_0x5e40cc=>_0x5e40cc['classList'][_0x2fd572(0xa6b)](_0x2fd572(0xc0c)));}),document[_0x62d589(0x40a)](_0x62d589(0xce6))[_0x62d589(0x7d4)](_0x62d589(0x859),handleAddShortcutTab),document[_0x62d589(0x40a)](_0x62d589(0x653))[_0x62d589(0x7d4)]('click',_0x33dd18=>{const _0x1605c8=_0x62d589,_0x3983f0=_0x33dd18[_0x1605c8(0x5c1)][_0x1605c8(0xad9)]('.parallel-shortcut-btn'),_0x4cc306=_0x33dd18[_0x1605c8(0x5c1)][_0x1605c8(0xad9)](_0x1605c8(0x1fc)),_0x37334a=_0x33dd18['target']['closest'](_0x1605c8(0xc7c));if(_0x4cc306)openParallelTestShortcutEditor(_0x4cc306[_0x1605c8(0x48f)]['id']);else{if(_0x37334a){const _0x2fa3ff=_0x37334a[_0x1605c8(0x48f)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0xa16245=_0x1605c8,_0x5377e4=parallelTestShortcuts[_0xa16245(0x24b)](_0x3885b3=>_0x3885b3['id']!==_0x2fa3ff),_0x4d31df=doc(db,_0xa16245(0x440),_0xa16245(0x302));await setDoc(_0x4d31df,{'shortcuts':_0x5377e4},{'merge':!![]});});}else _0x3983f0&&handleParallelTestShortcutClick(_0x3983f0[_0x1605c8(0x48f)]['id']);}}),document['getElementById'](_0x62d589(0x3d2))['addEventListener'](_0x62d589(0x859),()=>openParallelTestShortcutEditor(null)),document[_0x62d589(0x40a)]('cancel-parallel-shortcut-edit-btn')[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x1f0bfe=_0x62d589;document[_0x1f0bfe(0x40a)](_0x1f0bfe(0x234))[_0x1f0bfe(0xad3)][_0x1f0bfe(0xa6b)]('hidden');}),document[_0x62d589(0x40a)]('save-parallel-shortcut-btn')[_0x62d589(0x7d4)](_0x62d589(0x859),saveParallelTestShortcutChanges),document[_0x62d589(0x40a)](_0x62d589(0x374))[_0x62d589(0x7d4)](_0x62d589(0x859),_0x160a9c=>{const _0x591455=_0x62d589;_0x160a9c['target'][_0x591455(0xad9)](_0x591455(0x77f))&&document[_0x591455(0x40a)](_0x591455(0x443))[_0x591455(0xad3)][_0x591455(0x432)](_0x591455(0xc0c));}),document[_0x62d589(0x40a)](_0x62d589(0x5d4))[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x165230=_0x62d589;document[_0x165230(0x40a)](_0x165230(0x443))[_0x165230(0xad3)][_0x165230(0xa6b)]('hidden');}),document[_0x62d589(0x40a)](_0x62d589(0xd4c))['addEventListener'](_0x62d589(0x859),_0x1ce08d=>{const _0x3e0656=_0x62d589,_0x64471f=document[_0x3e0656(0x40a)](_0x3e0656(0x443)),_0x51f4b6=_0x1ce08d[_0x3e0656(0x5c1)][_0x3e0656(0xad9)]('.use-hidden-parallel-shortcut-btn'),_0x13efa0=_0x1ce08d['target']['closest'](_0x3e0656(0x9a9)),_0x54cf28=_0x1ce08d['target'][_0x3e0656(0xad9)](_0x3e0656(0x542));if(_0x51f4b6)_0x64471f[_0x3e0656(0xad3)][_0x3e0656(0xa6b)](_0x3e0656(0xc0c)),handleParallelTestShortcutClick(_0x51f4b6[_0x3e0656(0x48f)]['id']);else{if(_0x13efa0)_0x64471f[_0x3e0656(0xad3)]['add']('hidden'),openParallelTestShortcutEditor(_0x13efa0[_0x3e0656(0x48f)]['id']);else{if(_0x54cf28){const _0x4794c1=_0x54cf28['dataset']['id'];showConfirmation(_0x3e0656(0x2f6),async()=>{const _0x397a68=_0x3e0656,_0x43da5d=parallelTestShortcuts['filter'](_0x1dd317=>_0x1dd317['id']!==_0x4794c1),_0x46af50=doc(db,_0x397a68(0x440),_0x397a68(0x302));await setDoc(_0x46af50,{'shortcuts':_0x43da5d},{'merge':!![]});});}}}}),document['getElementById'](_0x62d589(0x5b9))[_0x62d589(0x7d4)](_0x62d589(0x859),_0x471c34=>{const _0x3bf1d4=_0x62d589,_0x43f104=_0x471c34[_0x3bf1d4(0x5c1)]['closest'](_0x3bf1d4(0x7b6)),_0x4f90e7=_0x471c34[_0x3bf1d4(0x5c1)][_0x3bf1d4(0xad9)](_0x3bf1d4(0x99d)),_0x3bbe09=_0x471c34[_0x3bf1d4(0x5c1)]['closest']('.delete-file-shortcut-btn');if(_0x4f90e7)openFileShortcutEditor(_0x4f90e7['dataset']['id']);else{if(_0x3bbe09){const _0x16da8c=_0x3bbe09[_0x3bf1d4(0x48f)]['id'];showConfirmation(_0x3bf1d4(0x2f6),async()=>{const _0x382597=_0x3bf1d4,_0x2fa006=fileShortcuts[_0x382597(0x24b)](_0x29c1f7=>_0x29c1f7['id']!==_0x16da8c),_0x1d8ced=doc(db,'globalSettings',_0x382597(0xbe2));await setDoc(_0x1d8ced,{'shortcuts':_0x2fa006},{'merge':!![]});});}else _0x43f104&&handleFileShortcutClick(_0x43f104['dataset']['id']);}}),document['getElementById'](_0x62d589(0x26a))[_0x62d589(0x7d4)](_0x62d589(0x859),()=>openFileShortcutEditor(null)),document['getElementById']('cancel-file-shortcut-edit-btn')['addEventListener']('click',()=>{const _0x27499a=_0x62d589;document[_0x27499a(0x40a)](_0x27499a(0x9ea))[_0x27499a(0xad3)][_0x27499a(0xa6b)](_0x27499a(0xc0c));}),document[_0x62d589(0x40a)](_0x62d589(0x960))[_0x62d589(0x7d4)](_0x62d589(0x859),saveFileShortcutChanges),document[_0x62d589(0x40a)](_0x62d589(0xb77))[_0x62d589(0x7d4)]('click',_0x10694a=>{const _0x173de9=_0x62d589;_0x10694a[_0x173de9(0x5c1)][_0x173de9(0xad9)](_0x173de9(0xcdf))&&document[_0x173de9(0x40a)](_0x173de9(0xbb6))[_0x173de9(0xad3)][_0x173de9(0x432)](_0x173de9(0xc0c));}),document[_0x62d589(0x40a)](_0x62d589(0xaac))[_0x62d589(0x7d4)]('click',()=>{const _0x3f9668=_0x62d589;document[_0x3f9668(0x40a)](_0x3f9668(0xbb6))['classList'][_0x3f9668(0xa6b)](_0x3f9668(0xc0c));}),document[_0x62d589(0x40a)]('additional-file-shortcuts-list')[_0x62d589(0x7d4)](_0x62d589(0x859),_0x4338a1=>{const _0x2f926e=_0x62d589,_0x5c510a=document[_0x2f926e(0x40a)](_0x2f926e(0xbb6)),_0xebebf4=_0x4338a1[_0x2f926e(0x5c1)]['closest'](_0x2f926e(0x6c9)),_0x594bdc=_0x4338a1[_0x2f926e(0x5c1)][_0x2f926e(0xad9)](_0x2f926e(0x58c)),_0x27ef72=_0x4338a1[_0x2f926e(0x5c1)][_0x2f926e(0xad9)](_0x2f926e(0x226));if(_0xebebf4)_0x5c510a[_0x2f926e(0xad3)][_0x2f926e(0xa6b)](_0x2f926e(0xc0c)),handleFileShortcutClick(_0xebebf4[_0x2f926e(0x48f)]['id']);else{if(_0x594bdc)_0x5c510a[_0x2f926e(0xad3)][_0x2f926e(0xa6b)](_0x2f926e(0xc0c)),openFileShortcutEditor(_0x594bdc[_0x2f926e(0x48f)]['id']);else{if(_0x27ef72){const _0xbefec9=_0x27ef72[_0x2f926e(0x48f)]['id'];showConfirmation(_0x2f926e(0x2f6),async()=>{const _0x4427dd=_0x2f926e,_0x42051e=fileShortcuts[_0x4427dd(0x24b)](_0x155659=>_0x155659['id']!==_0xbefec9),_0x3fe259=doc(db,_0x4427dd(0x440),_0x4427dd(0xbe2));await setDoc(_0x3fe259,{'shortcuts':_0x42051e},{'merge':!![]});});}}}}),document[_0x62d589(0x40a)]('blueprint-input-area')['addEventListener'](_0x62d589(0x859),_0xfdc281=>{const _0xb66116=_0x62d589;_0xfdc281[_0xb66116(0x5c1)][_0xb66116(0xad9)](_0xb66116(0xcb3))&&(activeShortcutTabId=_0xb66116(0xb90),renderAdditionalShortcutsModal(),document[_0xb66116(0x40a)](_0xb66116(0x8b7))['classList']['remove'](_0xb66116(0xc0c)));}),document['getElementById'](_0x62d589(0x7a8))['addEventListener'](_0x62d589(0x859),()=>{const _0x1c6ef0=_0x62d589;document[_0x1c6ef0(0x40a)](_0x1c6ef0(0x8b7))[_0x1c6ef0(0xad3)][_0x1c6ef0(0xa6b)](_0x1c6ef0(0xc0c));}),document[_0x62d589(0x40a)](_0x62d589(0xb6c))['addEventListener']('click',_0x4b9974=>{const _0x107649=_0x62d589,_0x4fd132=_0x4b9974[_0x107649(0x5c1)]['closest']('.use-hidden-shortcut-btn'),_0x39c5f3=_0x4b9974[_0x107649(0x5c1)][_0x107649(0xad9)]('.edit-hidden-shortcut-btn'),_0x56c1a7=_0x4b9974[_0x107649(0x5c1)][_0x107649(0xad9)](_0x107649(0x61f)),_0xe7c0cf=document[_0x107649(0x40a)](_0x107649(0x8b7));if(_0x4fd132)_0xe7c0cf[_0x107649(0xad3)][_0x107649(0xa6b)](_0x107649(0xc0c)),handleShortcutClick(_0x4fd132[_0x107649(0x48f)]['id']);else{if(_0x39c5f3)_0xe7c0cf[_0x107649(0xad3)]['add'](_0x107649(0xc0c)),openShortcutEditor(_0x39c5f3[_0x107649(0x48f)]['id']);else{if(_0x56c1a7){const _0x1e6de0=_0x56c1a7['dataset']['id'],_0x5606c2=blueprintShortcuts[_0x107649(0x8d2)](_0x3db468=>_0x3db468['id']===_0x1e6de0)?.['name'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x5606c2+'\x22?',async()=>{const _0x634d21=_0x107649,_0x2a0d11=blueprintShortcuts[_0x634d21(0x24b)](_0x49352d=>_0x49352d['id']!==_0x1e6de0);try{const _0x316975=doc(db,_0x634d21(0x440),_0x634d21(0x80d));await setDoc(_0x316975,{'blueprintShortcuts':_0x2a0d11},{'merge':!![]});}catch(_0x6715f2){console[_0x634d21(0x81d)](_0x634d21(0xae7),_0x6715f2);}});}}}}),document[_0x62d589(0x40a)]('blueprint-shortcut-container')[_0x62d589(0x7d4)](_0x62d589(0x859),_0x2c8e5d=>{const _0x55abe4=_0x62d589,_0xcc8e5c=_0x2c8e5d[_0x55abe4(0x5c1)][_0x55abe4(0xad9)](_0x55abe4(0xd83)),_0x2ee3d1=_0x2c8e5d['target'][_0x55abe4(0xad9)](_0x55abe4(0x4bc)),_0x1f6080=_0x2c8e5d['target'][_0x55abe4(0xad9)](_0x55abe4(0x622));if(_0x2ee3d1)openShortcutEditor(_0x2ee3d1[_0x55abe4(0x48f)]['id']);else{if(_0x1f6080){const _0x19e5ca=_0x1f6080[_0x55abe4(0x48f)]['id'],_0x1576b3=blueprintShortcuts[_0x55abe4(0x8d2)](_0x43aaf7=>_0x43aaf7['id']===_0x19e5ca)?.[_0x55abe4(0x408)];showConfirmation(_0x55abe4(0x488)+_0x1576b3+'\x22?',async()=>{const _0x5134c9=_0x55abe4,_0x29f6c5=blueprintShortcuts[_0x5134c9(0x24b)](_0x459caf=>_0x459caf['id']!==_0x19e5ca);try{const _0x1c6171=doc(db,_0x5134c9(0x440),_0x5134c9(0x80d));await setDoc(_0x1c6171,{'blueprintShortcuts':_0x29f6c5},{'merge':!![]});}catch(_0x3af1b8){console[_0x5134c9(0x81d)](_0x5134c9(0xae7),_0x3af1b8);}});}else _0xcc8e5c&&handleShortcutClick(_0xcc8e5c['dataset']['id']);}}),document['getElementById'](_0x62d589(0xb60))[_0x62d589(0x7d4)]('click',()=>openShortcutEditor(null)),document['getElementById'](_0x62d589(0xbef))[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x1c23e3=_0x62d589;document[_0x1c23e3(0x40a)](_0x1c23e3(0x9fc))[_0x1c23e3(0xad3)][_0x1c23e3(0xa6b)](_0x1c23e3(0xc0c));}),document['getElementById']('save-shortcut-btn')[_0x62d589(0x7d4)]('click',saveShortcutChanges),document['getElementById'](_0x62d589(0xb10))['addEventListener'](_0x62d589(0x859),async()=>{const _0x59051e=_0x62d589,_0x44e432=document[_0x59051e(0x40a)](_0x59051e(0x318)),_0x2546bf=document[_0x59051e(0x40a)](_0x59051e(0xd48));_0x44e432[_0x59051e(0xc1f)]['length']>0x0?await handleGenerateFromBlueprintWithFiles(_0x44e432[_0x59051e(0xc1f)][0x0],_0x2546bf[_0x59051e(0xc1f)][0x0]||null):showMessage(_0x59051e(0xaba));}),document[_0x62d589(0x40a)](_0x62d589(0xc97))[_0x62d589(0x7d4)](_0x62d589(0x859),async _0x4eb02e=>{const _0xda0b3f=_0x62d589,_0x2b98b6=document[_0xda0b3f(0x40a)](_0xda0b3f(0xc97)),_0x1e385c=_0x4eb02e['target']['closest'](_0xda0b3f(0x4fb)),_0x3d234b=_0x4eb02e['target'][_0xda0b3f(0xad9)](_0xda0b3f(0x420)),_0x52717d=_0x4eb02e['target'][_0xda0b3f(0xad9)]('.bp-present-btn'),_0x45b6d9=_0x4eb02e[_0xda0b3f(0x5c1)][_0xda0b3f(0xad9)](_0xda0b3f(0x789)),_0x13889c=_0x4eb02e['target'][_0xda0b3f(0xad9)]('.bp-live-btn'),_0x592089=_0x4eb02e[_0xda0b3f(0x5c1)]['closest']('.bp-game-btn');if(_0x1e385c){cameFromBlueprint=!![];const _0x33937c=_0x1e385c[_0xda0b3f(0x48f)][_0xda0b3f(0x4f2)];showQuizDetailView(_0x33937c),_0x2b98b6[_0xda0b3f(0xad3)][_0xda0b3f(0xa6b)](_0xda0b3f(0xc0c));}else{if(_0x3d234b){const _0x25e261=_0x3d234b[_0xda0b3f(0x48f)][_0xda0b3f(0x278)],_0x2c29cb=_0x3d234b['dataset'][_0xda0b3f(0x4f2)],_0x1e849b=allQuizzesGlobal[_0xda0b3f(0x8d2)](_0x3223a0=>_0x3223a0['id']===_0x2c29cb),_0x480f57=_0x1e849b?_0x1e849b[_0xda0b3f(0xc30)]:_0xda0b3f(0xa8e);showConfirmation(_0xda0b3f(0x442)+_0x480f57+_0xda0b3f(0xa81),async()=>{const _0x517905=_0xda0b3f;try{const _0x4dcd8d=doc(db,_0x517905(0x5c6)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x4dcd8d,{[_0x517905(0x4ed)+_0x25e261+'.linkedQuizIds']:arrayRemove(_0x2c29cb)}),showMessage(_0x517905(0x6d2)),openTopicQuizBank(_0x25e261),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x344d3e){console[_0x517905(0x81d)](_0x517905(0xba3),_0x344d3e),showMessage(_0x517905(0xb61));}});}else{if(_0x52717d){cameFromBlueprint=!![];const _0x32bd31=_0x52717d[_0xda0b3f(0x48f)]['quizId'],_0x4e0f6c=allQuizzesGlobal[_0xda0b3f(0x8d2)](_0x50db4f=>_0x50db4f['id']===_0x32bd31);_0x4e0f6c&&(startPresentation(_0x4e0f6c),_0x2b98b6['classList'][_0xda0b3f(0xa6b)](_0xda0b3f(0xc0c)));}else{if(_0x45b6d9){cameFromBlueprint=!![];const _0x3e10d2=_0x45b6d9['dataset'][_0xda0b3f(0x4f2)],_0x2a7c86=allQuizzesGlobal[_0xda0b3f(0x8d2)](_0x327301=>_0x327301['id']===_0x3e10d2);_0x2a7c86&&(currentQuizData=_0x2a7c86,startAdminTest(),_0x2b98b6['classList'][_0xda0b3f(0xa6b)](_0xda0b3f(0xc0c)));}else{if(_0x13889c)cameFromBlueprint=!![],handleStartLiveRace(_0x13889c['dataset'][_0xda0b3f(0x4f2)]),_0x2b98b6[_0xda0b3f(0xad3)][_0xda0b3f(0xa6b)](_0xda0b3f(0xc0c));else{if(_0x592089){cameFromBlueprint=!![];const _0x3d52f9=_0x592089['dataset'][_0xda0b3f(0x4f2)],_0xa8bb5f=_0x592089[_0xda0b3f(0x48f)][_0xda0b3f(0x969)],_0x4cf5c9=allQuizzesGlobal[_0xda0b3f(0x8d2)](_0x3e9476=>_0x3e9476['id']===_0x3d52f9);_0x4cf5c9&&(showGameStartConfirmationModal(_0x3d52f9,_0xa8bb5f,_0x4cf5c9[_0xda0b3f(0xc30)]),_0x2b98b6[_0xda0b3f(0xad3)]['add'](_0xda0b3f(0xc0c)));}}}}}}}),document['getElementById'](_0x62d589(0x885))[_0x62d589(0x7d4)]('click',()=>{const _0x3ea560=_0x62d589;document['getElementById'](_0x3ea560(0xc77))['classList'][_0x3ea560(0x432)](_0x3ea560(0xc0c)),document[_0x3ea560(0x40a)]('manual-bp-project-name')[_0x3ea560(0x6cb)]='',document[_0x3ea560(0x40a)](_0x3ea560(0x41b))['value']='',document[_0x3ea560(0x40a)]('manual-bp-content')[_0x3ea560(0x6cb)]='';}),document[_0x62d589(0x40a)](_0x62d589(0xbe5))['addEventListener']('click',()=>{const _0x580f21=_0x62d589;document[_0x580f21(0x40a)]('manual-blueprint-modal')[_0x580f21(0xad3)][_0x580f21(0xa6b)]('hidden');}),document[_0x62d589(0x40a)](_0x62d589(0x682))[_0x62d589(0x7d4)](_0x62d589(0x859),handleManualBlueprintSave),document[_0x62d589(0x40a)](_0x62d589(0x8ad))[_0x62d589(0x7d4)](_0x62d589(0x859),()=>document['getElementById']('blueprint-settings-modal')[_0x62d589(0xad3)][_0x62d589(0xa6b)]('hidden')),document[_0x62d589(0x40a)](_0x62d589(0x459))['addEventListener'](_0x62d589(0x859),handleSaveBlueprintPageSettings),document[_0x62d589(0x40a)](_0x62d589(0x907))['addEventListener']('click',openBlueprintQuizSettings),document['getElementById'](_0x62d589(0xb9a))['addEventListener']('click',saveBlueprintProject),document[_0x62d589(0x40a)](_0x62d589(0x8a8))['addEventListener'](_0x62d589(0x859),showBlueprintProjects),document[_0x62d589(0x40a)](_0x62d589(0x439))[_0x62d589(0x7d4)]('click',()=>{const _0x16030a=_0x62d589;document['getElementById'](_0x16030a(0xa95))[_0x16030a(0xad3)][_0x16030a(0xa6b)](_0x16030a(0xc0c));}),document['getElementById']('blueprint-project-list')[_0x62d589(0x7d4)](_0x62d589(0x859),_0x3f5075=>{const _0x209a91=_0x62d589,_0x4d7787=_0x3f5075[_0x209a91(0x5c1)][_0x209a91(0xad9)](_0x209a91(0x6d3)),_0x2ea72d=_0x3f5075[_0x209a91(0x5c1)][_0x209a91(0xad9)](_0x209a91(0xb09));if(_0x4d7787)displayBlueprintProjectManager(_0x4d7787[_0x209a91(0x48f)]['id']);else _0x2ea72d&&handleDeepDeleteBlueprintProject(_0x2ea72d[_0x209a91(0x48f)]['id']);}),document[_0x62d589(0x40a)]('back-to-dashboard-from-bp-btn')[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x5d0947=_0x62d589;currentBlueprintProjectId=null,currentProjectId=null,document[_0x5d0947(0x40a)](_0x5d0947(0x312))['classList'][_0x5d0947(0xa6b)](_0x5d0947(0xc0c)),showView(_0x5d0947(0x3d1));}),document[_0x62d589(0x40a)](_0x62d589(0x2fc))[_0x62d589(0x7d4)](_0x62d589(0x859),addTopicToProject),document['getElementById'](_0x62d589(0xc96))[_0x62d589(0x7d4)](_0x62d589(0x859),async _0x29871a=>{const _0x1562f3=_0x62d589,_0x50688b=_0x29871a[_0x1562f3(0x5c1)][_0x1562f3(0xad9)](_0x1562f3(0x730));if(!_0x50688b)return;const _0x16c19f=_0x50688b[_0x1562f3(0x48f)]['topicId'],_0x38fd15=_0x29871a['target'][_0x1562f3(0xad9)]('.bp-create-onet-quiz-btn'),_0x26145a=_0x29871a['target'][_0x1562f3(0xad9)](_0x1562f3(0xb67)),_0x3fb894=_0x29871a['target'][_0x1562f3(0xad9)](_0x1562f3(0x687)),_0x297153=_0x29871a['target']['closest'](_0x1562f3(0x71a)),_0x39824f=_0x29871a[_0x1562f3(0x5c1)][_0x1562f3(0xad9)](_0x1562f3(0xbbc)),_0x1c1e68=_0x29871a[_0x1562f3(0x5c1)][_0x1562f3(0xad9)]('.bp-generate-lesson-btn'),_0x4bd422=_0x29871a[_0x1562f3(0x5c1)][_0x1562f3(0xad9)](_0x1562f3(0xa9b)),_0x1d3f0a=_0x29871a[_0x1562f3(0x5c1)]['closest'](_0x1562f3(0x3e0)),_0x344611=_0x13177f=>{const _0x2e747c=_0x1562f3,_0x2484e1=_0x13177f['querySelector'](_0x2e747c(0x22f))['textContent'][_0x2e747c(0x1fb)](),_0x1d39aa=_0x13177f['closest'](_0x2e747c(0xd4e))[_0x2e747c(0x238)],_0x365232=_0x1d39aa?_0x1d39aa['textContent'][_0x2e747c(0x1fb)]():'';return _0x365232+':\x20'+_0x2484e1;};if(_0x297153)openTopicQuizBank(_0x16c19f);else{if(_0x38fd15){const _0x321852=_0x344611(_0x50688b);selectProjectAndGenerateBlueprintQuiz(_0x321852,null,_0x16c19f,!![]);}else{if(_0x26145a){const _0xb9aff4=_0x344611(_0x50688b);try{const _0x24131a=doc(db,_0x1562f3(0x5c6)+appId+_0x1562f3(0xce1)+currentBlueprintProjectId+_0x1562f3(0xccb),_0x16c19f),_0x25778b=await getDoc(_0x24131a);if(_0x25778b[_0x1562f3(0xd6a)]()){const _0x5a33f7=_0x25778b['data']()[_0x1562f3(0x5cf)],_0x12e331=document['createElement']('div'),_0x2f96ad=_0x52dca6=>{const _0x33308c=_0x1562f3;if(!_0x52dca6)return'';return _0x12e331[_0x33308c(0x843)]=_0x52dca6,_0x12e331[_0x33308c(0x642)]||_0x12e331['innerText']||'';},_0x34e37d=(_0x2f96ad(_0x5a33f7[_0x1562f3(0xd40)])+'\x20'+_0x2f96ad(_0x5a33f7[_0x1562f3(0x694)])+'\x20'+_0x2f96ad(_0x5a33f7[_0x1562f3(0x5ec)]))[_0x1562f3(0x1fb)]();selectProjectAndGenerateBlueprintQuiz(_0xb9aff4,_0x34e37d,_0x16c19f,![]);}else showMessage(_0x1562f3(0x2de));}catch(_0x473c98){console[_0x1562f3(0x81d)](_0x1562f3(0x3f6),_0x473c98),showMessage('เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ');}}else{if(_0x3fb894){const _0x1fcf61=_0x344611(_0x50688b);selectProjectAndGenerateBlueprintQuiz(_0x1fcf61,null,_0x16c19f,![]);}else{if(_0x39824f){const _0x14c6c9=doc(db,_0x1562f3(0x5c6)+appId+_0x1562f3(0x21e),currentBlueprintProjectId),_0x37d1d5=await getDoc(_0x14c6c9);if(_0x37d1d5[_0x1562f3(0xd6a)]()){const _0x40bfb7=_0x37d1d5[_0x1562f3(0x225)](),_0x577aab=_0x40bfb7[_0x1562f3(0x59a)][_0x16c19f];if(_0x577aab&&_0x577aab[_0x1562f3(0xade)]===_0x1562f3(0x44a))try{const _0xfe83bf=doc(db,_0x1562f3(0x5c6)+appId+_0x1562f3(0xce1)+currentBlueprintProjectId+_0x1562f3(0xccb),_0x16c19f),_0x186d75=await getDoc(_0xfe83bf);if(_0x186d75['exists']()){const _0x321ed3=_0x186d75['data']()['content'];document[_0x1562f3(0x40a)](_0x1562f3(0x994))[_0x1562f3(0x642)]=_0x1562f3(0x663)+_0x344611(_0x50688b),document['getElementById'](_0x1562f3(0xa20))[_0x1562f3(0x843)]=_0x321ed3['point'],document[_0x1562f3(0x40a)](_0x1562f3(0x665))['innerHTML']=_0x321ed3[_0x1562f3(0x694)],document[_0x1562f3(0x40a)]('summaryContent')['innerHTML']=_0x321ed3[_0x1562f3(0x5ec)];const _0x1fb872=document['getElementById']('applicationContent');_0x321ed3['applicationData']?(currentApplicationData=_0x321ed3[_0x1562f3(0x8df)],_0x1fb872['innerHTML']=currentApplicationData['map']((_0x4f5cba,_0x3ee267)=>_0x1562f3(0x2e8)+(_0x3ee267+0x1)+'.\x20'+marked[_0x1562f3(0xb81)](_0x4f5cba['question'])+_0x1562f3(0x215)+_0x3ee267+_0x1562f3(0x7ee)+_0x4f5cba[_0x1562f3(0x614)]['map']((_0x57d5d9,_0x290a23)=>_0x1562f3(0xaed)+_0x3ee267+',\x20'+_0x290a23+')\x22>'+String[_0x1562f3(0xd1d)](0x61+_0x290a23)+'.\x20'+marked[_0x1562f3(0xb81)](_0x57d5d9)+_0x1562f3(0x7c6))['join']('')+_0x1562f3(0x609))[_0x1562f3(0xb00)]('')):(currentApplicationData=[],_0x1fb872[_0x1562f3(0x843)]=_0x321ed3[_0x1562f3(0xafe)]||_0x321ed3[_0x1562f3(0xb05)]),document[_0x1562f3(0x40a)](_0x1562f3(0x9e4))[_0x1562f3(0xad3)][_0x1562f3(0xa6b)](_0x1562f3(0xc0c)),document[_0x1562f3(0x40a)]('lesson-sections-container')[_0x1562f3(0xad3)][_0x1562f3(0x432)](_0x1562f3(0xc0c)),document[_0x1562f3(0x40a)](_0x1562f3(0x7b9))[_0x1562f3(0xad3)][_0x1562f3(0x432)](_0x1562f3(0xc0c)),window['MathJax']&&MathJax['typesetPromise']([document[_0x1562f3(0x40a)](_0x1562f3(0xba1))]);}else showMessage(_0x1562f3(0xc5a));}catch(_0x4cf0a3){console[_0x1562f3(0x81d)](_0x1562f3(0xa75),_0x4cf0a3),showMessage('เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน');}else showMessage(_0x1562f3(0xc4b));}}else{if(_0x1c1e68){const _0x42787e=_0x344611(_0x50688b),_0x4b7e0f=doc(db,_0x1562f3(0x5c6)+appId+_0x1562f3(0x21e),currentBlueprintProjectId),_0x4f0a31=await getDoc(_0x4b7e0f);if(_0x4f0a31[_0x1562f3(0xd6a)]()){const _0x59e182=_0x4f0a31['data']();generateAndSaveLessonForBlueprint(_0x16c19f,_0x42787e,_0x59e182[_0x1562f3(0x786)]);}}else{if(_0x4bd422)editTopicInProject(_0x16c19f);else _0x1d3f0a&&deleteTopicFromProject(_0x16c19f);}}}}}}}),document[_0x62d589(0x40a)](_0x62d589(0x90f))[_0x62d589(0x7d4)]('click',handleFixLessonLatex),document[_0x62d589(0x40a)](_0x62d589(0xa6d))[_0x62d589(0x7d4)](_0x62d589(0x859),handleExportLessonToPDF),document['getElementById']('close-lesson-view-btn')[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x5aa3fd=_0x62d589;document[_0x5aa3fd(0x40a)](_0x5aa3fd(0x7b9))['classList'][_0x5aa3fd(0xa6b)](_0x5aa3fd(0xc0c));});const _0x36364c=document[_0x62d589(0x40a)](_0x62d589(0x693)),_0x47491f=document[_0x62d589(0x40a)](_0x62d589(0xa83));_0x36364c[_0x62d589(0x7d4)]('change',()=>{const _0x39241a=_0x62d589;_0x47491f['classList'][_0x39241a(0xcc1)](_0x39241a(0xc0c),!_0x36364c[_0x39241a(0x6f6)]);});const _0x42c642=document[_0x62d589(0x40a)](_0x62d589(0x82a)),_0x2f618f=document[_0x62d589(0x40a)](_0x62d589(0x87c));_0x42c642['addEventListener'](_0x62d589(0x84a),()=>{const _0x57c5ce=_0x62d589;_0x2f618f[_0x57c5ce(0xad3)][_0x57c5ce(0xcc1)]('hidden',!_0x42c642['checked']);});const _0x2166ec=document[_0x62d589(0x40a)](_0x62d589(0x948)),_0x565790=document[_0x62d589(0x40a)](_0x62d589(0xc7d));_0x2166ec[_0x62d589(0x7d4)]('change',()=>{const _0x3562f4=_0x62d589;_0x565790[_0x3562f4(0xad3)][_0x3562f4(0xcc1)]('hidden',!_0x2166ec[_0x3562f4(0x6f6)]);});const _0x2d664a=document['getElementById']('confidence-modal'),_0x7ab752=async _0x3257ce=>{const _0x483b57=_0x62d589,_0x28216f=document[_0x483b57(0x40a)]('confidence-modal'),_0x2447d0=_0x28216f[_0x483b57(0x48f)][_0x483b57(0x59c)],_0x3b7068=document[_0x483b57(0x40a)](_0x483b57(0x697));_0x28216f[_0x483b57(0xad3)][_0x483b57(0xa6b)](_0x483b57(0xc0c));if(_0x2447d0==='timed'){const _0x27d1ec=_0x3b7068[_0x483b57(0x6cb)],_0x40ac2b={'answer':_0x27d1ec,'wasConfident':_0x3257ce};proceedToNextQuestion(_0x40ac2b);}else{if(_0x2447d0===_0x483b57(0xbe1)){const _0x83fecf=_0x3b7068[_0x483b57(0x48f)][_0x483b57(0x543)],_0x267a1b=JSON['parse'](_0x3b7068[_0x483b57(0x48f)][_0x483b57(0x98b)]),_0x34726a=JSON[_0x483b57(0x390)](_0x3b7068[_0x483b57(0x48f)][_0x483b57(0xa51)]),_0x2a4a37=_0x3b7068['dataset']['playerName'];handleSyncAnswerSubmit(_0x83fecf,_0x267a1b,_0x34726a,_0x2a4a37,_0x3257ce);}}_0x28216f['dataset']['currentMode']='';};document[_0x62d589(0x40a)](_0x62d589(0x205))['addEventListener']('click',()=>_0x7ab752(!![])),document[_0x62d589(0x40a)]('confirm-not-confident')[_0x62d589(0x7d4)](_0x62d589(0x859),()=>_0x7ab752(![])),liveGameView[_0x62d589(0x7d4)](_0x62d589(0x859),_0xb7cc10=>{const _0xc7a0c0=_0x62d589,_0x2271b7=_0xb7cc10[_0xc7a0c0(0x5c1)][_0xc7a0c0(0xad9)]('.kick-player-btn-sync');if(_0x2271b7){const _0x59f804=_0x2271b7[_0xc7a0c0(0x48f)]['playerName'];_0x59f804&&handleKickPlayerSync(_0x59f804);}});const _0x410de6=document[_0x62d589(0x40a)](_0x62d589(0x604)),_0x4c5a6f=document['getElementById']('cancel-game-start-btn');_0x4c5a6f[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0xea00f1=_0x62d589;document[_0xea00f1(0x40a)](_0xea00f1(0xcba))[_0xea00f1(0xad3)]['add'](_0xea00f1(0xc0c));}),_0x410de6[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x201c77=_0x62d589,_0x135520=document[_0x201c77(0x40a)](_0x201c77(0xad5))[_0x201c77(0x6cb)],_0x5479d2=document[_0x201c77(0x40a)](_0x201c77(0x4fc))[_0x201c77(0x6cb)],_0x5d82bd=document[_0x201c77(0x40a)](_0x201c77(0x539))[_0x201c77(0x6f6)];document[_0x201c77(0x40a)](_0x201c77(0xcba))['classList'][_0x201c77(0xa6b)]('hidden');switch(_0x5479d2){case _0x201c77(0x2a0):handleStartLiveRace(_0x135520,_0x5d82bd);break;case'team':handleStartTeamQuiz(_0x135520,_0x5d82bd);break;case _0x201c77(0x396):handleStartGroupMode(_0x135520,_0x5d82bd);break;case'sync':handleStartSyncMode(_0x135520,_0x5d82bd);break;}}),document[_0x62d589(0x40a)](_0x62d589(0xb3d))[_0x62d589(0x7d4)](_0x62d589(0x859),handleJoinGroupActivity),liveGameView[_0x62d589(0x7d4)](_0x62d589(0x859),_0x1132fa=>{const _0x4c5295=_0x62d589,_0x18fe34=_0x1132fa[_0x4c5295(0x5c1)][_0x4c5295(0xad9)](_0x4c5295(0x599));document['querySelectorAll']('.live-summary-tooltip.visible')['forEach'](_0x2459bd=>{const _0x4f98bd=_0x4c5295;(!_0x18fe34||_0x2459bd['id']!==_0x18fe34[_0x4f98bd(0x48f)][_0x4f98bd(0x975)])&&_0x2459bd['classList'][_0x4f98bd(0x432)](_0x4f98bd(0x698));});if(!_0x18fe34)return;const _0x19f17c=_0x18fe34[_0x4c5295(0x48f)][_0x4c5295(0x975)],_0xd9a248=document[_0x4c5295(0x40a)](_0x19f17c);_0xd9a248&&_0xd9a248['classList'][_0x4c5295(0xcc1)](_0x4c5295(0x698));}),liveGameView[_0x62d589(0x7d4)](_0x62d589(0x859),_0x8e5f86=>{const _0x1acba8=_0x62d589;if(_0x8e5f86[_0x1acba8(0x5c1)][_0x1acba8(0xad3)][_0x1acba8(0x560)](_0x1acba8(0xa23))){const _0x80dbb8=_0x8e5f86[_0x1acba8(0x5c1)][_0x1acba8(0x48f)][_0x1acba8(0x846)];_0x80dbb8&&handleKickPlayer(_0x80dbb8);}}),document[_0x62d589(0x40a)](_0x62d589(0xa38))[_0x62d589(0x7d4)]('focus',()=>document[_0x62d589(0x40a)](_0x62d589(0x8c2))[_0x62d589(0xad3)][_0x62d589(0x432)]('hidden')),document[_0x62d589(0x40a)](_0x62d589(0x8c2))[_0x62d589(0x7d4)](_0x62d589(0x859),handleSaveProjectName),document[_0x62d589(0x40a)](_0x62d589(0xa38))[_0x62d589(0x7d4)](_0x62d589(0x48c),_0x22c54f=>{const _0x30b4d4=_0x62d589;_0x22c54f['key']==='Enter'&&(_0x22c54f['preventDefault'](),_0x22c54f['target'][_0x30b4d4(0x62d)](),handleSaveProjectName());}),document[_0x62d589(0x40a)](_0x62d589(0x618))[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x4d9da7=_0x62d589;document[_0x4d9da7(0x40a)](_0x4d9da7(0x7c3))[_0x4d9da7(0xad3)]['remove']('hidden');}),document[_0x62d589(0x40a)]('cancel-bulk-quiz-settings-btn')[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x5cb7fa=_0x62d589;document[_0x5cb7fa(0x40a)](_0x5cb7fa(0x7c3))['classList'][_0x5cb7fa(0xa6b)](_0x5cb7fa(0xc0c));}),document['getElementById']('confirm-bulk-quiz-settings-btn')['addEventListener'](_0x62d589(0x859),handleBulkUpdateQuizSettings),document['getElementById'](_0x62d589(0x507))[_0x62d589(0x7d4)](_0x62d589(0x859),handleModeSwitch),document[_0x62d589(0x40a)](_0x62d589(0x49a))['addEventListener'](_0x62d589(0x859),handleUpdateOldQuizzes),document[_0x62d589(0x40a)](_0x62d589(0x34d))[_0x62d589(0x7d4)](_0x62d589(0x859),handleResetProjectOrder),document['getElementById'](_0x62d589(0x466))[_0x62d589(0x7d4)](_0x62d589(0x859),handleSaveVisibilitySettings),document['getElementById']('add-custom-math-topic-btn')['addEventListener'](_0x62d589(0x859),handleAddCustomMathTopic),document[_0x62d589(0x40a)](_0x62d589(0x284))[_0x62d589(0x7d4)](_0x62d589(0x859),handleSelectAllTopics),document[_0x62d589(0x40a)](_0x62d589(0x570))[_0x62d589(0x7d4)](_0x62d589(0x859),handleDeselectAllTopics),document[_0x62d589(0x40a)](_0x62d589(0x46d))[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x2187db=_0x62d589;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x2187db(0x3d1));}}),document[_0x62d589(0x40a)](_0x62d589(0xc37))[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}}),document[_0x62d589(0x40a)]('back-to-dashboard-from-results-btn')[_0x62d589(0x7d4)]('click',()=>{const _0x2e28f6=_0x62d589;showView(_0x2e28f6(0x3d1));}),document[_0x62d589(0x40a)](_0x62d589(0x5e9))['addEventListener']('click',()=>{const _0x361a0a=_0x62d589;messageModal[_0x361a0a(0xad3)][_0x361a0a(0xa6b)](_0x361a0a(0xc0c)),typeof modalConfirmAction===_0x361a0a(0x21f)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x62d589(0x40a)](_0x62d589(0xc2d))[_0x62d589(0x7d4)]('click',()=>createProjectModal[_0x62d589(0xad3)][_0x62d589(0x432)](_0x62d589(0xc0c))),document[_0x62d589(0x40a)](_0x62d589(0xc86))[_0x62d589(0x7d4)]('click',()=>createProjectModal[_0x62d589(0xad3)]['add']('hidden')),document[_0x62d589(0x40a)](_0x62d589(0xa6c))['addEventListener'](_0x62d589(0x859),()=>adminPasswordModal[_0x62d589(0xad3)]['add']('hidden')),document[_0x62d589(0x40a)](_0x62d589(0x64e))[_0x62d589(0x7d4)]('click',handleAdminLogin),document[_0x62d589(0x40a)](_0x62d589(0x573))[_0x62d589(0x7d4)](_0x62d589(0x2dc),_0x26a0bd=>{const _0x21d5b8=_0x62d589;if(_0x26a0bd[_0x21d5b8(0xd2d)]==='Enter')handleAdminLogin();}),document['getElementById'](_0x62d589(0xc06))[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x1656f4=_0x62d589;confirmationModal['classList'][_0x1656f4(0xa6b)](_0x1656f4(0xc0c)),confirmAction=null;}),document[_0x62d589(0x40a)](_0x62d589(0x336))[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x3710eb=_0x62d589;confirmAction&&confirmAction(),confirmationModal['classList'][_0x3710eb(0xa6b)]('hidden'),confirmAction=null;}),document['getElementById'](_0x62d589(0x7e8))['addEventListener'](_0x62d589(0x859),()=>renameQuizModal[_0x62d589(0xad3)][_0x62d589(0xa6b)](_0x62d589(0xc0c))),document['getElementById'](_0x62d589(0xa5f))['addEventListener']('click',confirmRenameQuiz),document[_0x62d589(0x40a)](_0x62d589(0xb78))['addEventListener']('click',()=>moveQuizModal[_0x62d589(0xad3)][_0x62d589(0xa6b)](_0x62d589(0xc0c))),document[_0x62d589(0x40a)](_0x62d589(0x40f))['addEventListener'](_0x62d589(0x859),confirmMoveQuiz),document[_0x62d589(0x40a)](_0x62d589(0xd26))['addEventListener'](_0x62d589(0x859),()=>quizSettingsModal[_0x62d589(0xad3)][_0x62d589(0xa6b)]('hidden')),document[_0x62d589(0x40a)]('confirm-quiz-settings-btn')['addEventListener'](_0x62d589(0x859),confirmQuizSettings),document[_0x62d589(0x40a)](_0x62d589(0x380))[_0x62d589(0x7d4)]('click',()=>quizStatusModal[_0x62d589(0xad3)][_0x62d589(0xa6b)](_0x62d589(0xc0c))),document[_0x62d589(0x40a)](_0x62d589(0x4b2))['addEventListener'](_0x62d589(0x859),confirmQuizStatus);const _0x1b580e=document[_0x62d589(0x40a)](_0x62d589(0xc02));document['getElementById'](_0x62d589(0xaa2))[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x5156ae=_0x62d589;_0x1b580e[_0x5156ae(0xad3)][_0x5156ae(0xa6b)](_0x5156ae(0xc0c));}),document[_0x62d589(0x40a)](_0x62d589(0x9fd))[_0x62d589(0x7d4)](_0x62d589(0x859),async()=>{const _0x30b02e=_0x62d589,_0x5dfc66=allQuizzes[_0x30b02e(0x8d2)](_0x8d9d5c=>_0x8d9d5c['id']===actionTargetId);_0x5dfc66?(currentQuizData=_0x5dfc66,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x1b580e['classList'][_0x30b02e(0xa6b)](_0x30b02e(0xc0c));}),document[_0x62d589(0x40a)](_0x62d589(0x4ac))['addEventListener']('click',async()=>{const _0x402aae=_0x62d589,_0x189808=allQuizzes[_0x402aae(0x8d2)](_0x22cf0a=>_0x22cf0a['id']===actionTargetId);_0x189808?(currentQuizData=_0x189808,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x1b580e[_0x402aae(0xad3)][_0x402aae(0xa6b)]('hidden');});const _0x92049d=document[_0x62d589(0x40a)]('open-global-live-btn');_0x92049d[_0x62d589(0x843)]=_0x62d589(0x3bc),_0x92049d[_0x62d589(0x7d4)]('click',openGlobalActivityModal),document['getElementById'](_0x62d589(0x918))[_0x62d589(0x7d4)]('click',()=>{const _0xef7bea=_0x62d589;document[_0xef7bea(0x40a)](_0xef7bea(0xd50))[_0xef7bea(0xad3)][_0xef7bea(0xa6b)](_0xef7bea(0xc0c));}),document[_0x62d589(0x40a)](_0x62d589(0x5d9))[_0x62d589(0x7d4)](_0x62d589(0x493),_0x393173=>{const _0x1e9823=_0x62d589;renderGlobalActivityList(_0x393173[_0x1e9823(0x5c1)][_0x1e9823(0x6cb)]);}),document[_0x62d589(0x40a)](_0x62d589(0x42e))[_0x62d589(0x7d4)]('click',_0x2f9728=>{const _0x204421=_0x62d589,_0x34b162=_0x2f9728[_0x204421(0x5c1)][_0x204421(0xad9)]('.game-start-btn');if(!_0x34b162)return;const _0x4f803a=_0x34b162[_0x204421(0x48f)]['id'],_0x3ee33d=_0x34b162[_0x204421(0x48f)][_0x204421(0x969)],_0x19d881=allQuizzesGlobal['find'](_0x1172be=>_0x1172be['id']===_0x4f803a);_0x19d881&&(document[_0x204421(0x40a)](_0x204421(0xd50))['classList'][_0x204421(0xa6b)](_0x204421(0xc0c)),_0x3ee33d===_0x204421(0x2a0)?handleStartLiveRace(_0x4f803a):showGameStartConfirmationModal(_0x4f803a,_0x3ee33d,_0x19d881[_0x204421(0xc30)]));}),document['getElementById'](_0x62d589(0xb95))['addEventListener'](_0x62d589(0x493),renderProjects),document[_0x62d589(0x40a)](_0x62d589(0x7a0))[_0x62d589(0x7d4)](_0x62d589(0x84a),async()=>{const _0x17f82a=_0x62d589,_0x7017b3=document['getElementById'](_0x17f82a(0x7a0))[_0x17f82a(0x6cb)],_0x66a7a4=doc(db,_0x17f82a(0x440),_0x17f82a(0x80d));try{await setDoc(_0x66a7a4,{'projectSort':_0x7017b3},{'merge':!![]});}catch(_0x511a81){console[_0x17f82a(0x81d)](_0x17f82a(0x362),_0x511a81),showMessage(_0x17f82a(0xa94));}}),document[_0x62d589(0x40a)](_0x62d589(0x483))[_0x62d589(0x7d4)](_0x62d589(0x493),renderQuizzes),document[_0x62d589(0x40a)](_0x62d589(0xb4e))[_0x62d589(0x7d4)]('click',()=>{const _0x128a23=_0x62d589;globalDashboardSettings[_0x128a23(0x8aa)]='grid',saveUserPreference(_0x128a23(0x8aa),'grid'),renderProjects();}),document[_0x62d589(0x40a)](_0x62d589(0x3b8))[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x32d6a9=_0x62d589;globalDashboardSettings['projectView']=_0x32d6a9(0x70a),saveUserPreference(_0x32d6a9(0x8aa),_0x32d6a9(0x70a)),renderProjects();}),manageTab[_0x62d589(0x7d4)](_0x62d589(0x859),()=>switchProjectTab(_0x62d589(0xd5b))),resultsTab[_0x62d589(0x7d4)](_0x62d589(0x859),()=>switchProjectTab(_0x62d589(0x534))),leaderboardTab[_0x62d589(0x7d4)](_0x62d589(0x859),()=>switchProjectTab(_0x62d589(0x4ba))),document[_0x62d589(0x40a)](_0x62d589(0x8f6))[_0x62d589(0x7d4)]('click',()=>switchQuizDetailTab(_0x62d589(0xbc7))),document[_0x62d589(0x40a)](_0x62d589(0xa3e))[_0x62d589(0x7d4)](_0x62d589(0x859),()=>switchQuizDetailTab(_0x62d589(0x770))),document[_0x62d589(0x40a)](_0x62d589(0x5d3))[_0x62d589(0x7d4)]('click',()=>switchQuizDetailTab(_0x62d589(0x47b))),document[_0x62d589(0x40a)](_0x62d589(0xc8c))[_0x62d589(0x7d4)](_0x62d589(0x859),()=>switchQuizDetailTab('behavior-log')),document[_0x62d589(0x40a)](_0x62d589(0xc21))[_0x62d589(0x7d4)](_0x62d589(0x859),handleAnalyzeClass),generateWorksheetBtn[_0x62d589(0x7d4)](_0x62d589(0x859),generateWorksheet);const _0x55d4e8=document[_0x62d589(0x40a)](_0x62d589(0x5b2)),_0x1270ab=document[_0x62d589(0x40a)](_0x62d589(0x6bd)),_0x4d9b0c=document['getElementById'](_0x62d589(0xd8f)),_0x3f2a3e=document[_0x62d589(0x40a)]('blueprint-input-area'),_0x5210dd=document[_0x62d589(0x40a)](_0x62d589(0x1f0)),_0x4e37c9=document[_0x62d589(0x40a)](_0x62d589(0x374));topicTab[_0x62d589(0x7d4)]('click',()=>{const _0x42bae6=_0x62d589;topicTab[_0x42bae6(0xad3)][_0x42bae6(0xa6b)](_0x42bae6(0xd29)),textTab[_0x42bae6(0xad3)][_0x42bae6(0x432)]('active'),fileTab[_0x42bae6(0xad3)][_0x42bae6(0x432)]('active'),worksheetTab[_0x42bae6(0xad3)][_0x42bae6(0x432)](_0x42bae6(0xd29));if(_0x55d4e8)_0x55d4e8[_0x42bae6(0xad3)]['remove']('active');if(_0x4d9b0c)_0x4d9b0c[_0x42bae6(0xad3)]['remove']('active');if(_0x5210dd)_0x5210dd[_0x42bae6(0xad3)][_0x42bae6(0x432)](_0x42bae6(0xd29));topicInputArea[_0x42bae6(0xad3)][_0x42bae6(0x432)]('hidden'),textInputArea[_0x42bae6(0xad3)][_0x42bae6(0xa6b)](_0x42bae6(0xc0c)),fileInputArea['classList'][_0x42bae6(0xa6b)]('hidden'),worksheetInputArea['classList'][_0x42bae6(0xa6b)](_0x42bae6(0xc0c));if(_0x1270ab)_0x1270ab[_0x42bae6(0xad3)][_0x42bae6(0xa6b)]('hidden');if(_0x3f2a3e)_0x3f2a3e[_0x42bae6(0xad3)]['add'](_0x42bae6(0xc0c));if(_0x4e37c9)_0x4e37c9[_0x42bae6(0xad3)][_0x42bae6(0xa6b)](_0x42bae6(0xc0c));}),textTab[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x47f4ca=_0x62d589;textTab[_0x47f4ca(0xad3)][_0x47f4ca(0xa6b)](_0x47f4ca(0xd29)),topicTab[_0x47f4ca(0xad3)][_0x47f4ca(0x432)](_0x47f4ca(0xd29)),fileTab[_0x47f4ca(0xad3)][_0x47f4ca(0x432)]('active'),worksheetTab[_0x47f4ca(0xad3)][_0x47f4ca(0x432)](_0x47f4ca(0xd29));if(_0x55d4e8)_0x55d4e8[_0x47f4ca(0xad3)][_0x47f4ca(0x432)](_0x47f4ca(0xd29));if(_0x4d9b0c)_0x4d9b0c[_0x47f4ca(0xad3)][_0x47f4ca(0x432)]('active');if(_0x5210dd)_0x5210dd['classList'][_0x47f4ca(0x432)](_0x47f4ca(0xd29));textInputArea[_0x47f4ca(0xad3)]['remove'](_0x47f4ca(0xc0c)),topicInputArea['classList']['add']('hidden'),fileInputArea[_0x47f4ca(0xad3)][_0x47f4ca(0xa6b)](_0x47f4ca(0xc0c)),worksheetInputArea[_0x47f4ca(0xad3)][_0x47f4ca(0xa6b)](_0x47f4ca(0xc0c));if(_0x1270ab)_0x1270ab[_0x47f4ca(0xad3)][_0x47f4ca(0xa6b)]('hidden');if(_0x3f2a3e)_0x3f2a3e[_0x47f4ca(0xad3)][_0x47f4ca(0xa6b)](_0x47f4ca(0xc0c));if(_0x4e37c9)_0x4e37c9[_0x47f4ca(0xad3)]['add'](_0x47f4ca(0xc0c));}),fileTab[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x41b65e=_0x62d589;fileTab[_0x41b65e(0xad3)][_0x41b65e(0xa6b)](_0x41b65e(0xd29)),topicTab[_0x41b65e(0xad3)][_0x41b65e(0x432)](_0x41b65e(0xd29)),textTab[_0x41b65e(0xad3)][_0x41b65e(0x432)](_0x41b65e(0xd29)),worksheetTab[_0x41b65e(0xad3)][_0x41b65e(0x432)](_0x41b65e(0xd29));if(_0x55d4e8)_0x55d4e8[_0x41b65e(0xad3)][_0x41b65e(0x432)](_0x41b65e(0xd29));if(_0x4d9b0c)_0x4d9b0c[_0x41b65e(0xad3)]['remove'](_0x41b65e(0xd29));if(_0x5210dd)_0x5210dd[_0x41b65e(0xad3)][_0x41b65e(0x432)]('active');fileInputArea['classList'][_0x41b65e(0x432)](_0x41b65e(0xc0c)),topicInputArea[_0x41b65e(0xad3)][_0x41b65e(0xa6b)](_0x41b65e(0xc0c)),textInputArea[_0x41b65e(0xad3)][_0x41b65e(0xa6b)](_0x41b65e(0xc0c)),worksheetInputArea[_0x41b65e(0xad3)]['add'](_0x41b65e(0xc0c));if(_0x1270ab)_0x1270ab[_0x41b65e(0xad3)][_0x41b65e(0xa6b)]('hidden');if(_0x3f2a3e)_0x3f2a3e['classList'][_0x41b65e(0xa6b)](_0x41b65e(0xc0c));if(_0x4e37c9)_0x4e37c9['classList'][_0x41b65e(0xa6b)]('hidden');}),worksheetTab[_0x62d589(0x7d4)]('click',()=>{const _0x1c0385=_0x62d589;worksheetTab['classList'][_0x1c0385(0xa6b)](_0x1c0385(0xd29)),topicTab[_0x1c0385(0xad3)][_0x1c0385(0x432)](_0x1c0385(0xd29)),textTab[_0x1c0385(0xad3)][_0x1c0385(0x432)](_0x1c0385(0xd29)),fileTab['classList']['remove'](_0x1c0385(0xd29));if(_0x55d4e8)_0x55d4e8[_0x1c0385(0xad3)][_0x1c0385(0x432)](_0x1c0385(0xd29));if(_0x4d9b0c)_0x4d9b0c[_0x1c0385(0xad3)][_0x1c0385(0x432)](_0x1c0385(0xd29));if(_0x5210dd)_0x5210dd[_0x1c0385(0xad3)][_0x1c0385(0x432)]('active');worksheetInputArea['classList'][_0x1c0385(0x432)](_0x1c0385(0xc0c)),topicInputArea[_0x1c0385(0xad3)][_0x1c0385(0xa6b)](_0x1c0385(0xc0c)),textInputArea['classList'][_0x1c0385(0xa6b)](_0x1c0385(0xc0c)),fileInputArea[_0x1c0385(0xad3)][_0x1c0385(0xa6b)]('hidden');if(_0x1270ab)_0x1270ab['classList']['add'](_0x1c0385(0xc0c));if(_0x3f2a3e)_0x3f2a3e['classList'][_0x1c0385(0xa6b)]('hidden');if(_0x4e37c9)_0x4e37c9['classList'][_0x1c0385(0xa6b)](_0x1c0385(0xc0c));});const _0x3da661=document[_0x62d589(0x40a)]('bank-tab'),_0x4a1ad4=document[_0x62d589(0x40a)](_0x62d589(0x7be));_0x3da661&&_0x3da661[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x50e517=_0x62d589;topicTab[_0x50e517(0xad3)][_0x50e517(0x432)](_0x50e517(0xd29)),textTab[_0x50e517(0xad3)][_0x50e517(0x432)](_0x50e517(0xd29)),fileTab[_0x50e517(0xad3)][_0x50e517(0x432)](_0x50e517(0xd29)),worksheetTab[_0x50e517(0xad3)]['remove'](_0x50e517(0xd29));if(_0x55d4e8)_0x55d4e8[_0x50e517(0xad3)]['remove']('active');if(_0x4d9b0c)_0x4d9b0c[_0x50e517(0xad3)][_0x50e517(0x432)](_0x50e517(0xd29));if(_0x5210dd)_0x5210dd[_0x50e517(0xad3)][_0x50e517(0x432)]('active');_0x3da661[_0x50e517(0xad3)][_0x50e517(0xa6b)](_0x50e517(0xd29)),topicInputArea[_0x50e517(0xad3)]['add'](_0x50e517(0xc0c)),textInputArea[_0x50e517(0xad3)]['add'](_0x50e517(0xc0c)),fileInputArea[_0x50e517(0xad3)][_0x50e517(0xa6b)](_0x50e517(0xc0c)),worksheetInputArea[_0x50e517(0xad3)]['add'](_0x50e517(0xc0c));if(_0x1270ab)_0x1270ab[_0x50e517(0xad3)]['add'](_0x50e517(0xc0c));if(_0x3f2a3e)_0x3f2a3e['classList'][_0x50e517(0xa6b)](_0x50e517(0xc0c));if(_0x4e37c9)_0x4e37c9[_0x50e517(0xad3)][_0x50e517(0xa6b)]('hidden');_0x4a1ad4[_0x50e517(0xad3)]['remove'](_0x50e517(0xc0c)),displayQuestionBank();});_0x55d4e8&&(_0x55d4e8['addEventListener'](_0x62d589(0x859),()=>{const _0xf94234=_0x62d589;_0x55d4e8[_0xf94234(0xad3)][_0xf94234(0xa6b)](_0xf94234(0xd29)),topicTab[_0xf94234(0xad3)]['remove'](_0xf94234(0xd29)),textTab[_0xf94234(0xad3)][_0xf94234(0x432)](_0xf94234(0xd29)),fileTab[_0xf94234(0xad3)][_0xf94234(0x432)](_0xf94234(0xd29)),worksheetTab[_0xf94234(0xad3)][_0xf94234(0x432)](_0xf94234(0xd29));if(_0x4d9b0c)_0x4d9b0c[_0xf94234(0xad3)][_0xf94234(0x432)](_0xf94234(0xd29));if(_0x5210dd)_0x5210dd[_0xf94234(0xad3)][_0xf94234(0x432)](_0xf94234(0xd29));_0x1270ab[_0xf94234(0xad3)][_0xf94234(0x432)]('hidden'),topicInputArea['classList'][_0xf94234(0xa6b)](_0xf94234(0xc0c)),textInputArea[_0xf94234(0xad3)][_0xf94234(0xa6b)](_0xf94234(0xc0c)),fileInputArea[_0xf94234(0xad3)][_0xf94234(0xa6b)](_0xf94234(0xc0c)),worksheetInputArea[_0xf94234(0xad3)][_0xf94234(0xa6b)](_0xf94234(0xc0c));if(_0x3f2a3e)_0x3f2a3e[_0xf94234(0xad3)][_0xf94234(0xa6b)](_0xf94234(0xc0c));if(_0x4e37c9)_0x4e37c9['classList'][_0xf94234(0xa6b)](_0xf94234(0xc0c));}),document['getElementById'](_0x62d589(0x640))['addEventListener'](_0x62d589(0x859),handleGenerateFromLink));_0x4d9b0c&&_0x4d9b0c[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x2914ef=_0x62d589;_0x4d9b0c[_0x2914ef(0xad3)][_0x2914ef(0xa6b)](_0x2914ef(0xd29)),topicTab[_0x2914ef(0xad3)][_0x2914ef(0x432)]('active'),textTab[_0x2914ef(0xad3)][_0x2914ef(0x432)](_0x2914ef(0xd29)),fileTab[_0x2914ef(0xad3)]['remove']('active'),worksheetTab[_0x2914ef(0xad3)][_0x2914ef(0x432)](_0x2914ef(0xd29));if(_0x55d4e8)_0x55d4e8[_0x2914ef(0xad3)][_0x2914ef(0x432)](_0x2914ef(0xd29));if(_0x3da661)_0x3da661[_0x2914ef(0xad3)][_0x2914ef(0x432)](_0x2914ef(0xd29));if(_0x5210dd)_0x5210dd['classList'][_0x2914ef(0x432)](_0x2914ef(0xd29));_0x3f2a3e[_0x2914ef(0xad3)]['remove'](_0x2914ef(0xc0c)),topicInputArea['classList'][_0x2914ef(0xa6b)](_0x2914ef(0xc0c)),textInputArea['classList']['add'](_0x2914ef(0xc0c)),fileInputArea[_0x2914ef(0xad3)][_0x2914ef(0xa6b)](_0x2914ef(0xc0c)),worksheetInputArea[_0x2914ef(0xad3)][_0x2914ef(0xa6b)](_0x2914ef(0xc0c));if(_0x1270ab)_0x1270ab[_0x2914ef(0xad3)]['add'](_0x2914ef(0xc0c));if(_0x4a1ad4)_0x4a1ad4[_0x2914ef(0xad3)][_0x2914ef(0xa6b)](_0x2914ef(0xc0c));if(_0x4e37c9)_0x4e37c9[_0x2914ef(0xad3)][_0x2914ef(0xa6b)](_0x2914ef(0xc0c));});_0x5210dd&&_0x5210dd[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x1333bf=_0x62d589;_0x5210dd['classList']['add'](_0x1333bf(0xd29)),topicTab[_0x1333bf(0xad3)][_0x1333bf(0x432)](_0x1333bf(0xd29)),textTab[_0x1333bf(0xad3)]['remove']('active'),fileTab[_0x1333bf(0xad3)][_0x1333bf(0x432)](_0x1333bf(0xd29)),worksheetTab['classList']['remove']('active');if(_0x55d4e8)_0x55d4e8[_0x1333bf(0xad3)][_0x1333bf(0x432)](_0x1333bf(0xd29));if(_0x4d9b0c)_0x4d9b0c[_0x1333bf(0xad3)][_0x1333bf(0x432)]('active');if(_0x3da661)_0x3da661[_0x1333bf(0xad3)][_0x1333bf(0x432)]('active');_0x4e37c9[_0x1333bf(0xad3)][_0x1333bf(0x432)](_0x1333bf(0xc0c)),topicInputArea[_0x1333bf(0xad3)][_0x1333bf(0xa6b)]('hidden'),textInputArea[_0x1333bf(0xad3)]['add'](_0x1333bf(0xc0c)),fileInputArea[_0x1333bf(0xad3)][_0x1333bf(0xa6b)]('hidden'),worksheetInputArea[_0x1333bf(0xad3)][_0x1333bf(0xa6b)]('hidden');if(_0x1270ab)_0x1270ab[_0x1333bf(0xad3)][_0x1333bf(0xa6b)]('hidden');if(_0x3f2a3e)_0x3f2a3e[_0x1333bf(0xad3)]['add'](_0x1333bf(0xc0c));if(_0x4a1ad4)_0x4a1ad4['classList'][_0x1333bf(0xa6b)](_0x1333bf(0xc0c));});const _0x2c6b54=document[_0x62d589(0x40a)]('blueprint-upload-input'),_0xe0c12e=document[_0x62d589(0x40a)](_0x62d589(0xb10));if(_0x2c6b54){const _0x28bc50=document['getElementById'](_0x62d589(0x318)),_0x31d753=document[_0x62d589(0x40a)](_0x62d589(0xb10)),_0x18240f=document[_0x62d589(0x40a)](_0x62d589(0x546)),_0x16369e=document['getElementById'](_0x62d589(0x672)),_0x2a2247=document[_0x62d589(0x40a)](_0x62d589(0xaa7)),_0x2fd68c=document[_0x62d589(0x40a)]('blueprint-topics-list');_0x28bc50&&_0x28bc50[_0x62d589(0x7d4)](_0x62d589(0x84a),async _0x5b328c=>{const _0x497cbb=_0x62d589;_0x18240f['classList'][_0x497cbb(0xa6b)](_0x497cbb(0xc0c)),_0x2a2247['classList'][_0x497cbb(0xa6b)](_0x497cbb(0xc0c)),_0x16369e['checked']=![],_0x31d753['disabled']=!![];const _0x5136b3=_0x5b328c[_0x497cbb(0x5c1)][_0x497cbb(0xc1f)][0x0];if(_0x5136b3){_0x31d753[_0x497cbb(0x4c2)]=![];try{const _0xde5a50=await extractTextFromPdf(_0x5136b3);await analyzeBlueprintForTopics(_0xde5a50);}catch(_0x53e019){showMessage(_0x497cbb(0x991)),_0x18240f[_0x497cbb(0xad3)][_0x497cbb(0xa6b)](_0x497cbb(0xc0c));}}}),_0x16369e&&_0x16369e['addEventListener'](_0x62d589(0x84a),_0x5a33f2=>{const _0x30894a=_0x62d589,_0x514318=_0x5a33f2['target']['checked'];_0x2a2247['classList'][_0x30894a(0xcc1)]('hidden',!_0x514318),_0x31d753[_0x30894a(0x4c2)]=_0x514318;}),_0x2fd68c&&(_0x2fd68c&&_0x2fd68c[_0x62d589(0x7d4)]('click',_0x49e291=>{const _0x286148=_0x62d589,_0x5e420a=_0x49e291[_0x286148(0x5c1)]['closest'](_0x286148(0x709)),_0x56e97b=_0x49e291['target'][_0x286148(0xad9)](_0x286148(0xa2f));if(_0x5e420a){const _0x3b0e97=unescape(_0x5e420a[_0x286148(0x48f)]['topic']);generateQuizForSingleTopic(_0x3b0e97);}else{if(_0x56e97b){const _0x450c07=unescape(_0x56e97b[_0x286148(0x48f)][_0x286148(0xc30)]);handleGenerateTeachingContent(_0x450c07);}}}));}_0xe0c12e&&_0xe0c12e[_0x62d589(0x7d4)](_0x62d589(0x859),handleGenerateFromBlueprint);const _0x8df574=document[_0x62d589(0x40a)](_0x62d589(0x9d4)),_0x54b66f=document[_0x62d589(0x40a)](_0x62d589(0x435));_0x8df574&&_0x8df574['addEventListener'](_0x62d589(0x84a),_0xeb94b2=>{const _0x28886c=_0x62d589;_0x54b66f[_0x28886c(0x4c2)]=_0xeb94b2[_0x28886c(0x5c1)][_0x28886c(0xc1f)]['length']===0x0;});_0x54b66f&&_0x54b66f['addEventListener'](_0x62d589(0x859),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x62d589(0x7d4)](_0x62d589(0x859),handleLoadQuiz),startQuizBtn[_0x62d589(0x7d4)]('click',async()=>{const _0x58892d=_0x62d589,_0x13c1ce=document['getElementById']('student-name-select');currentStudentName=_0x13c1ce[_0x58892d(0x6cb)];if(!currentStudentName){showMessage(_0x58892d(0x42c));return;}try{const _0x36fc79=currentQuizData['id'],_0x29f2fe=doc(db,_0x58892d(0x5c6)+appId+_0x58892d(0xcef)+_0x36fc79+_0x58892d(0x7ea),currentStudentName),_0x132d86=await getDoc(_0x29f2fe);!_0x132d86[_0x58892d(0xd6a)]()?await setDoc(_0x29f2fe,{'studentName':currentStudentName,'startedAt':new Date()[_0x58892d(0xcfb)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x29f2fe,{'startedAt':new Date()['toISOString']()});}catch(_0x3f7690){console[_0x58892d(0x81d)]('Failed\x20to\x20create/update\x20submission\x20record:',_0x3f7690),showMessage(_0x58892d(0x462));return;}studentNameSelectionView['classList'][_0x58892d(0xa6b)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x62d589(0xd62))[_0x62d589(0x7d4)](_0x62d589(0x859),showJoinGameView),document[_0x62d589(0x40a)]('confirm-join-game-btn')[_0x62d589(0x7d4)](_0x62d589(0x859),handleJoinLiveGame),document[_0x62d589(0x40a)](_0x62d589(0xafa))['addEventListener']('click',()=>showView('student'));const _0x2fdef9=()=>{const _0x47424c=_0x62d589,_0x2333fe=document[_0x47424c(0x40a)](_0x47424c(0xb84))[_0x47424c(0x642)][_0x47424c(0xa3d)](/[^a-z0-9]/gi,'_')[_0x47424c(0x47c)]();return _0x47424c(0xa0b)+(_0x2333fe||_0x47424c(0x2c5));},_0x337690=document[_0x62d589(0x40a)]('math-topic-search-input');_0x337690&&_0x337690[_0x62d589(0x7d4)]('input',_0x7bc45b=>{const _0x3dc401=_0x62d589,_0x2143f3=_0x7bc45b['target'][_0x3dc401(0x6cb)][_0x3dc401(0x47c)]()[_0x3dc401(0x1fb)](),_0x302308=document[_0x3dc401(0x40a)](_0x3dc401(0x37e)),_0x4d4f01=_0x302308[_0x3dc401(0x93e)](_0x3dc401(0x2be));_0x4d4f01[_0x3dc401(0xa40)](_0x4e81c8=>{const _0x27f7cb=_0x3dc401;let _0x54ac05=![];const _0x27b491=_0x4e81c8[_0x27f7cb(0x93e)](_0x27f7cb(0x87b));_0x27b491[_0x27f7cb(0xa40)](_0x337e9e=>{const _0x45c9f7=_0x27f7cb,_0x4839e6=_0x337e9e['querySelector'](_0x45c9f7(0xcde))[_0x45c9f7(0x642)][_0x45c9f7(0x47c)]();_0x4839e6[_0x45c9f7(0x2a9)](_0x2143f3)?(_0x337e9e['style'][_0x45c9f7(0x224)]=_0x45c9f7(0x9f3),_0x54ac05=!![]):_0x337e9e[_0x45c9f7(0x446)][_0x45c9f7(0x224)]=_0x45c9f7(0xaec);}),_0x54ac05?_0x4e81c8[_0x27f7cb(0x446)][_0x27f7cb(0x224)]=_0x27f7cb(0x407):_0x4e81c8['style']['display']=_0x27f7cb(0xaec);});});document[_0x62d589(0x40a)](_0x62d589(0xa29))[_0x62d589(0x7d4)](_0x62d589(0x859),()=>exportTableAsImage(_0x62d589(0x73e),_0x2fdef9())),document['getElementById'](_0x62d589(0x3c4))[_0x62d589(0x7d4)](_0x62d589(0x859),()=>exportTableAsPDF(_0x62d589(0x7f8),_0x2fdef9())),document[_0x62d589(0x40a)]('export-word-btn')['addEventListener'](_0x62d589(0x859),()=>exportTableAsWord(_0x62d589(0x73e),_0x2fdef9())),document[_0x62d589(0x40a)](_0x62d589(0xb75))[_0x62d589(0x7d4)](_0x62d589(0x859),()=>exportTableAsExcel(_0x62d589(0x7f8),_0x2fdef9()));const _0x4d4fe0=()=>{const _0x23a413=_0x62d589,_0x382e36=document[_0x23a413(0x40a)](_0x23a413(0xb84))[_0x23a413(0x642)][_0x23a413(0xa3d)](/[^a-z0-9]/gi,'_')[_0x23a413(0x47c)]();return _0x23a413(0x216)+(_0x382e36||'quiz');};document[_0x62d589(0x40a)]('export-leaderboard-image-btn')[_0x62d589(0x7d4)](_0x62d589(0x859),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x4d4fe0())),document[_0x62d589(0x40a)](_0x62d589(0x8ac))[_0x62d589(0x7d4)](_0x62d589(0x859),()=>exportTableAsPDF(_0x62d589(0x60a),_0x4d4fe0())),document[_0x62d589(0x40a)]('export-leaderboard-word-btn')[_0x62d589(0x7d4)](_0x62d589(0x859),()=>exportTableAsWord('quiz-leaderboard-table-container',_0x4d4fe0())),document['getElementById']('export-leaderboard-excel-btn')[_0x62d589(0x7d4)](_0x62d589(0x859),()=>exportTableAsExcel('quiz-leaderboard-table',_0x4d4fe0())),projectQuizzesList['addEventListener'](_0x62d589(0x859),async _0x4320ed=>{const _0x3b2903=_0x62d589,_0x3c6111=_0x4320ed['target'][_0x3b2903(0xad9)](_0x3b2903(0x5a6)),_0x30bb59=_0x4320ed['target']['closest']('.generate-post-test-btn'),_0x1093b7=_0x4320ed[_0x3b2903(0x5c1)][_0x3b2903(0xad9)](_0x3b2903(0x639)),_0x1b21aa=_0x4320ed['target']['closest'](_0x3b2903(0xb22)),_0x28b683=_0x4320ed[_0x3b2903(0x5c1)][_0x3b2903(0xad9)](_0x3b2903(0xa22)),_0x5f76d8=_0x4320ed['target'][_0x3b2903(0xad9)](_0x3b2903(0xaf5)),_0x272c81=_0x4320ed[_0x3b2903(0x5c1)][_0x3b2903(0xad9)](_0x3b2903(0x9ed)),_0x2a1557=_0x4320ed[_0x3b2903(0x5c1)][_0x3b2903(0xad9)](_0x3b2903(0x4b0)),_0x11074f=_0x4320ed['target']['closest'](_0x3b2903(0x7da)),_0x509700=_0x4320ed[_0x3b2903(0x5c1)][_0x3b2903(0xad9)](_0x3b2903(0x22d)),_0x380335=_0x4320ed['target'][_0x3b2903(0xad9)]('.parallel-quiz-btn'),_0x57fa7d=_0x4320ed[_0x3b2903(0x5c1)][_0x3b2903(0xad9)](_0x3b2903(0xc75)),_0x32f8d7=_0x4320ed[_0x3b2903(0x5c1)][_0x3b2903(0xad9)](_0x3b2903(0xb26)),_0x4c5515=_0x4320ed[_0x3b2903(0x5c1)]['closest'](_0x3b2903(0xb6a)),_0x27d0f5=_0x4320ed[_0x3b2903(0x5c1)][_0x3b2903(0xad9)](_0x3b2903(0x4fe)),_0x4ec656=_0x4320ed[_0x3b2903(0x5c1)][_0x3b2903(0xad9)](_0x3b2903(0xa34)),_0x18db4d=_0x4320ed[_0x3b2903(0x5c1)][_0x3b2903(0xad9)](_0x3b2903(0x428)),_0x2f2f7a=_0x4320ed[_0x3b2903(0x5c1)][_0x3b2903(0xad9)](_0x3b2903(0xd05)),_0x1bceef=_0x4320ed[_0x3b2903(0x5c1)]['closest']('.quiz-status-btn'),_0x3a5831=_0x4320ed[_0x3b2903(0x5c1)][_0x3b2903(0xad9)](_0x3b2903(0xcb6)),_0x5011b4=_0x4320ed[_0x3b2903(0x5c1)]['closest'](_0x3b2903(0x77e)),_0x533d8e=_0x4320ed[_0x3b2903(0x5c1)]['closest'](_0x3b2903(0x269)),_0x43b520=_0x4320ed[_0x3b2903(0x5c1)]['closest']('.start-live-race-btn');if(_0x533d8e){const _0x3e0273=_0x533d8e[_0x3b2903(0x48f)]['quizId'],_0x5dfbe6=_0x533d8e[_0x3b2903(0x48f)][_0x3b2903(0x969)],_0x5d9dd9=allQuizzes['find'](_0x4fe514=>_0x4fe514['id']===_0x3e0273);_0x5d9dd9&&showGameStartConfirmationModal(_0x3e0273,_0x5dfbe6,_0x5d9dd9[_0x3b2903(0xc30)]);}else{if(_0x43b520){const _0x3d31e2=_0x43b520[_0x3b2903(0x48f)]['quizId'];handleStartLiveRace(_0x3d31e2);}else{if(_0x3a5831){const _0x5b31d0=_0x3a5831[_0x3b2903(0x48f)]['quizId'],_0x23e3a3=document[_0x3b2903(0x40a)]('actions-container-'+_0x5b31d0);_0x23e3a3&&_0x23e3a3['classList'][_0x3b2903(0xcc1)](_0x3b2903(0xc0c));}else{if(_0x30bb59){const _0x1cd47f=_0x30bb59[_0x3b2903(0x48f)][_0x3b2903(0x4f2)],_0x48982c=allQuizzes[_0x3b2903(0x8d2)](_0x4e32d8=>_0x4e32d8['id']===_0x1cd47f);_0x48982c&&handleGenerateParallelPostTest(_0x48982c);}else{if(_0x1093b7)handleCompareResults(_0x1093b7['dataset']['quizId'],_0x1093b7[_0x3b2903(0x48f)][_0x3b2903(0x39c)]);else{if(_0x1b21aa){const _0x35c3fe=_0x1b21aa['dataset']['quizId'],_0x1298c9=allQuizzes['find'](_0x26fb3c=>_0x26fb3c['id']===_0x35c3fe);_0x1298c9&&_0x1298c9[_0x3b2903(0x972)]?(displayLessonPlan(_0x1298c9[_0x3b2903(0x972)],_0x1298c9),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x35c3fe)),document[_0x3b2903(0x40a)](_0x3b2903(0xbfa))[_0x3b2903(0xaef)]('h3')['textContent']='แผนการสอน',document[_0x3b2903(0x40a)](_0x3b2903(0x336))['textContent']=_0x3b2903(0x944)):handleGenerateLessonPlan(_0x35c3fe);}else{if(_0x28b683)handleToggleStarQuiz(_0x28b683[_0x3b2903(0x48f)]['quizId']);else{if(_0x5f76d8)copyTextToClipboard(_0x5f76d8[_0x3b2903(0x48f)][_0x3b2903(0x4f2)],_0x3b2903(0x559));else{if(_0x272c81)handleOpenQuizEditor(_0x272c81[_0x3b2903(0x48f)][_0x3b2903(0x4f2)]);else{if(_0x2a1557)handleQuizSettings(_0x2a1557[_0x3b2903(0x48f)][_0x3b2903(0x4f2)]);else{if(_0x11074f)handleDuplicateQuiz(_0x11074f['dataset']['quizId']);else{if(_0x509700)handleRenameQuiz(_0x509700[_0x3b2903(0x48f)]['quizId'],_0x509700['dataset'][_0x3b2903(0xc30)]);else{if(_0x380335){const _0x282f5b=_0x380335[_0x3b2903(0x48f)]['quizId'],_0x4f4413=allQuizzes[_0x3b2903(0x8d2)](_0xc2ba68=>_0xc2ba68['id']===_0x282f5b);_0x4f4413&&handleGenerateParallelFromBank(_0x4f4413);}else{if(_0x57fa7d)handleMoveQuiz(_0x57fa7d[_0x3b2903(0x48f)]['quizId']);else{if(_0x32f8d7)handleManualQuizPairing(_0x32f8d7[_0x3b2903(0x48f)][_0x3b2903(0x4f2)]);else{if(_0x4c5515)handleUnpairQuiz(_0x4c5515[_0x3b2903(0x48f)]['quizId']);else{if(_0x27d0f5){const _0x302298=_0x27d0f5[_0x3b2903(0x48f)][_0x3b2903(0x4f2)],_0x252b67=allQuizzes['find'](_0x54769c=>_0x54769c['id']===_0x302298);if(_0x252b67)startPresentation(_0x252b67);}else{if(_0x4ec656){const _0xd3ebea=_0x4ec656[_0x3b2903(0x48f)]['quizId'],_0x3ba449=allQuizzes[_0x3b2903(0x8d2)](_0x4be304=>_0x4be304['id']===_0xd3ebea);_0x3ba449&&(currentQuizData=_0x3ba449,startAdminTest());}else{if(_0x18db4d)actionTargetId=_0x18db4d[_0x3b2903(0x48f)][_0x3b2903(0x4f2)],document[_0x3b2903(0x40a)]('export-pdf-modal')[_0x3b2903(0xad3)]['remove'](_0x3b2903(0xc0c));else{if(_0x2f2f7a)showConfirmation(_0x3b2903(0x867)+_0x2f2f7a['dataset'][_0x3b2903(0xc30)]+_0x3b2903(0xc9c),()=>handleDeleteQuiz(_0x2f2f7a['dataset']['quizId']));else{if(_0x1bceef)handleQuizStatus(_0x1bceef['dataset'][_0x3b2903(0x4f2)]);else{if(_0x5011b4)handleGenerateEasyVersionQuiz(_0x5011b4[_0x3b2903(0x48f)]['quizId']);else _0x3c6111&&showQuizDetailView(_0x3c6111['dataset'][_0x3b2903(0x4f2)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x62d589(0x40a)](_0x62d589(0x2b9))[_0x62d589(0x7d4)](_0x62d589(0x859),()=>showView('student')),document[_0x62d589(0x40a)](_0x62d589(0xb0d))[_0x62d589(0x7d4)]('click',confirmAndStartTeamQuiz),document['getElementById'](_0x62d589(0x60a))[_0x62d589(0xaef)](_0x62d589(0x3d0))[_0x62d589(0x7d4)]('click',_0x56ca04=>{const _0xdd3f8f=_0x62d589,_0x4a6711=_0x56ca04[_0xdd3f8f(0x5c1)][_0xdd3f8f(0xad9)]('.sortable-header');if(!_0x4a6711||!_0x4a6711[_0xdd3f8f(0x48f)]['sort'])return;const _0x143539=_0x4a6711[_0xdd3f8f(0x48f)]['sort'];if(quizLeaderboardSortBy===_0x143539)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0xdd3f8f(0x53c)?'desc':_0xdd3f8f(0x53c);else{quizLeaderboardSortBy=_0x143539;const _0xe355c2=['studentName'];quizLeaderboardSortOrder=_0xe355c2[_0xdd3f8f(0x2a9)](_0x143539)?'asc':_0xdd3f8f(0x6e0);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x62d589(0x40a)]('close-presentation-btn')[_0x62d589(0x7d4)](_0x62d589(0x859),closePresentation),document[_0x62d589(0x40a)](_0x62d589(0x52e))[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x62d589(0x40a)](_0x62d589(0xbfb))['addEventListener'](_0x62d589(0x859),()=>{const _0xd4d129=_0x62d589;currentQuizData[_0xd4d129(0x726)]&&currentPresentationSlide<currentQuizData['questions']['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x62d589(0x7d4)](_0x62d589(0x686),()=>{const _0x46a745=_0x62d589;!document['fullscreenElement']&&(presentationModal[_0x46a745(0x446)]['display']='none');}),document[_0x62d589(0x40a)]('delete-all-students-btn')['addEventListener'](_0x62d589(0x859),handleDeleteAllStudents),studentList[_0x62d589(0x7d4)](_0x62d589(0x859),_0x282a65=>{const _0x53428f=_0x62d589,_0x7cc29b=_0x282a65['target']['closest'](_0x53428f(0x4c8));if(_0x7cc29b){const _0x17c1b0=_0x7cc29b[_0x53428f(0x48f)][_0x53428f(0x2ac)];handleDeleteStudent(_0x17c1b0);}}),document['getElementById']('generate-from-file-btn')[_0x62d589(0x7d4)](_0x62d589(0x859),handleGenerateFromFileClick),fileUploadInput[_0x62d589(0x7d4)](_0x62d589(0x84a),_0x5b0743=>{const _0x229255=_0x62d589,_0x31e6aa=_0x5b0743['target'][_0x229255(0xc1f)][0x0],_0xf7c0f4=document[_0x229255(0x40a)](_0x229255(0x75c)),_0x1dcf18=document[_0x229255(0x40a)](_0x229255(0x784)),_0x4a1bdd=document[_0x229255(0x40a)](_0x229255(0xbf4));_0x31e6aa?(selectedFile=_0x31e6aa,_0x4a1bdd[_0x229255(0x6f6)]?(_0xf7c0f4['disabled']=!![],analyzeFileForTopics(_0x31e6aa)):(_0xf7c0f4[_0x229255(0x4c2)]=![],_0x1dcf18[_0x229255(0xad3)]['add'](_0x229255(0xc0c)))):(selectedFile=null,_0xf7c0f4['disabled']=!![],_0x1dcf18[_0x229255(0xad3)][_0x229255(0xa6b)](_0x229255(0xc0c)));}),document[_0x62d589(0x40a)](_0x62d589(0xbf4))[_0x62d589(0x7d4)](_0x62d589(0x84a),_0x17c14e=>{const _0x7c87b4=_0x62d589,_0x3186fd=_0x17c14e[_0x7c87b4(0x5c1)][_0x7c87b4(0x6f6)],_0x38d991=document[_0x7c87b4(0x40a)](_0x7c87b4(0x75c)),_0x1e0249=document[_0x7c87b4(0x40a)](_0x7c87b4(0x784));_0x3186fd?(_0x38d991[_0x7c87b4(0x4c2)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x1e0249[_0x7c87b4(0xad3)][_0x7c87b4(0x432)](_0x7c87b4(0xc0c)),document['getElementById']('file-topics-list')[_0x7c87b4(0x843)]='<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>')):(_0x1e0249['classList'][_0x7c87b4(0xa6b)]('hidden'),_0x38d991[_0x7c87b4(0x4c2)]=!selectedFile);}),document['getElementById'](_0x62d589(0x784))['addEventListener'](_0x62d589(0x859),_0xd52946=>{const _0x552a8c=_0x62d589,_0x122f51=_0xd52946[_0x552a8c(0x5c1)][_0x552a8c(0xad9)](_0x552a8c(0x556)),_0x3752b1=_0xd52946[_0x552a8c(0x5c1)][_0x552a8c(0xad9)](_0x552a8c(0xa2f));if(_0x122f51){const _0x4e4c26=unescape(_0x122f51[_0x552a8c(0x48f)][_0x552a8c(0xc30)]);generateHybridQuizForTopic(_0x4e4c26);}else{if(_0x3752b1){const _0x2b1446=unescape(_0x3752b1[_0x552a8c(0x48f)]['topic']),_0x5b1a60=document[_0x552a8c(0x40a)](_0x552a8c(0xcd2))[_0x552a8c(0x6cb)];handleGenerateAndShowLesson(_0x2b1446,_0x5b1a60);}}}),document[_0x62d589(0x40a)](_0x62d589(0x564))[_0x62d589(0x7d4)](_0x62d589(0x84a),_0x1507c7=>{const _0x26395b=_0x62d589,_0x4f421a=document['getElementById'](_0x26395b(0xabe)),_0x38a643=document['getElementById'](_0x26395b(0x627)),_0x46860f=document[_0x26395b(0x40a)](_0x26395b(0xb12));_0x1507c7['target'][_0x26395b(0x6cb)]===_0x26395b(0xaec)?_0x4f421a[_0x26395b(0xad3)][_0x26395b(0xa6b)](_0x26395b(0xc0c)):(_0x4f421a['classList'][_0x26395b(0x432)]('hidden'),_0x1507c7[_0x26395b(0x5c1)][_0x26395b(0x6cb)]===_0x26395b(0x933)?(_0x38a643[_0x26395b(0x642)]='ระยะเวลา\x20(นาที):',_0x46860f[_0x26395b(0x6cb)]='10'):(_0x38a643[_0x26395b(0x642)]=_0x26395b(0x903),_0x46860f['value']='30'));}),document['getElementById'](_0x62d589(0x9b8))[_0x62d589(0x7d4)]('change',_0x5347df=>{const _0x39e2f1=_0x62d589,_0x2943dc=document[_0x39e2f1(0x40a)](_0x39e2f1(0xcd1)),_0x1b3b23=_0x5347df[_0x39e2f1(0x5c1)][_0x39e2f1(0x6cb)],_0x2c6b61=document[_0x39e2f1(0xaef)](_0x39e2f1(0x828)),_0x3feb5d=document[_0x39e2f1(0x40a)](_0x39e2f1(0x8a6)),_0x10d458=document[_0x39e2f1(0x40a)]('num-questions');_0x1b3b23===_0x39e2f1(0xd49)?_0x2c6b61[_0x39e2f1(0x642)]=_0x39e2f1(0x757):_0x2c6b61['textContent']=_0x39e2f1(0x603),_0x1b3b23==='multiple_choice'||_0x1b3b23===_0x39e2f1(0x59f)||_0x1b3b23===_0x39e2f1(0xc50)?_0x2943dc['classList']['remove'](_0x39e2f1(0xc0c)):_0x2943dc[_0x39e2f1(0xad3)][_0x39e2f1(0xa6b)](_0x39e2f1(0xc0c)),_0x3feb5d[_0x39e2f1(0x529)]=_0x10d458[_0x39e2f1(0x6cb)];}),document[_0x62d589(0x40a)](_0x62d589(0xced))['addEventListener'](_0x62d589(0x493),_0x31f006=>{const _0x4b2870=_0x62d589;document[_0x4b2870(0x40a)](_0x4b2870(0x8a6))[_0x4b2870(0x529)]=_0x31f006[_0x4b2870(0x5c1)][_0x4b2870(0x6cb)];}),document[_0x62d589(0x40a)]('modal-timer-mode-select')['addEventListener'](_0x62d589(0x84a),_0x15477d=>{const _0x592d80=_0x62d589,_0x1264ff=document[_0x592d80(0x40a)](_0x592d80(0xb83)),_0x1a56b0=document['getElementById'](_0x592d80(0xc60)),_0x198825=document[_0x592d80(0x40a)](_0x592d80(0x67f));_0x15477d[_0x592d80(0x5c1)]['value']==='none'?_0x1264ff[_0x592d80(0xad3)][_0x592d80(0xa6b)](_0x592d80(0xc0c)):(_0x1264ff[_0x592d80(0xad3)][_0x592d80(0x432)](_0x592d80(0xc0c)),_0x15477d[_0x592d80(0x5c1)][_0x592d80(0x6cb)]===_0x592d80(0x933)?_0x1a56b0[_0x592d80(0x642)]=_0x592d80(0x2d7):_0x1a56b0['textContent']=_0x592d80(0x903));}),document['getElementById']('cancel-quiz-edits-btn')[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x20fa26=_0x62d589;document[_0x20fa26(0x40a)](_0x20fa26(0xd17))['classList']['add'](_0x20fa26(0xc0c));}),document[_0x62d589(0x40a)]('cancel-quiz-edits-btn-footer')[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x228d6b=_0x62d589;document[_0x228d6b(0x40a)](_0x228d6b(0xd17))[_0x228d6b(0xad3)][_0x228d6b(0xa6b)]('hidden');}),document[_0x62d589(0x40a)]('verify-answers-editor-btn')['addEventListener']('click',handleVerifyAnswersInEditor),document['getElementById'](_0x62d589(0xab0))['addEventListener'](_0x62d589(0x859),()=>{const _0x41eb40=_0x62d589;document[_0x41eb40(0x40a)](_0x41eb40(0xd17))[_0x41eb40(0xad3)][_0x41eb40(0xa6b)](_0x41eb40(0xc0c)),showConfirmation(_0x41eb40(0x7b4),handleSaveChanges);}),document[_0x62d589(0x40a)](_0x62d589(0x8d9))[_0x62d589(0x7d4)]('click',handleAutoFixLatex);const _0x5a273c=document[_0x62d589(0x40a)](_0x62d589(0x611));_0x5a273c&&_0x5a273c[_0x62d589(0x7d4)](_0x62d589(0x859),_0x572f83=>{const _0x80e316=_0x62d589,_0xdafcdb=_0x572f83[_0x80e316(0x5c1)]['closest'](_0x80e316(0xa8a)),_0x2dcd9a=_0x572f83['target']['closest'](_0x80e316(0xcac));if(_0xdafcdb){const _0x20202b=_0xdafcdb[_0x80e316(0xad9)]('.question-editor-item'),_0x2de234=parseInt(_0x20202b[_0x80e316(0x48f)][_0x80e316(0x9a4)],0xa);handleRegenerateQuestionInEditor(_0x2de234);}else{if(_0x2dcd9a){const _0x47098e=_0x2dcd9a[_0x80e316(0xad9)](_0x80e316(0xad0)),_0x32b7d0=parseInt(_0x47098e['dataset'][_0x80e316(0x9a4)],0xa);handleAiFixFormula(_0x32b7d0);}}});document[_0x62d589(0x40a)]('open-quiz-bank-btn')[_0x62d589(0x7d4)](_0x62d589(0x859),openQuizBankModal),document['getElementById'](_0x62d589(0x7e3))[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x5deb08=_0x62d589;document['getElementById']('quiz-bank-modal')['classList'][_0x5deb08(0xa6b)](_0x5deb08(0xc0c));}),document[_0x62d589(0x40a)](_0x62d589(0xd64))[_0x62d589(0x7d4)](_0x62d589(0x493),_0x10ca59=>renderQuizBankList(_0x10ca59['target'][_0x62d589(0x6cb)]));const _0x1494b8=document[_0x62d589(0x40a)](_0x62d589(0x37e));if(_0x1494b8){let _0x26b3cd=null;_0x1494b8[_0x62d589(0x7d4)]('click',_0x35968c=>{const _0x5682f7=_0x62d589,_0x456666=_0x35968c[_0x5682f7(0x5c1)],_0x2b2e1a=_0x456666[_0x5682f7(0xad9)]('.edit-custom-topic-btn'),_0x120643=_0x456666[_0x5682f7(0xad9)](_0x5682f7(0xc2c)),_0x2b4218=_0x456666[_0x5682f7(0xad9)]('.save-custom-topic-btn'),_0x4ef86c=_0x456666['closest']('.cancel-edit-topic-btn');if(_0x120643){_0x35968c[_0x5682f7(0xd6b)]();const _0x2c1e17=_0x120643['dataset']['id'],_0x54a43f=_0x120643['closest'](_0x5682f7(0x3ec))[_0x5682f7(0xaef)](_0x5682f7(0xcde))[_0x5682f7(0x642)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x54a43f+'\x22?',()=>handleDeleteCustomTopic(_0x2c1e17));}else{if(_0x2b2e1a){_0x35968c['preventDefault']();_0x26b3cd&&toggleTopicEditMode(_0x26b3cd,![]);const _0x19043c=_0x2b2e1a[_0x5682f7(0xad9)](_0x5682f7(0x338));_0x26b3cd=_0x19043c,toggleTopicEditMode(_0x19043c,!![]);}else{if(_0x2b4218){_0x35968c[_0x5682f7(0xd6b)]();const _0x4b4f76=_0x2b4218[_0x5682f7(0x48f)]['id'],_0x2c5bc2=_0x2b4218[_0x5682f7(0xad9)](_0x5682f7(0x338)),_0x18902b=_0x2c5bc2[_0x5682f7(0xaef)](_0x5682f7(0x99e))[_0x5682f7(0x6cb)];handleUpdateCustomTopic(_0x4b4f76,_0x18902b),_0x26b3cd=null;}else{if(_0x4ef86c){_0x35968c[_0x5682f7(0xd6b)]();const _0x4b545f=_0x4ef86c[_0x5682f7(0xad9)]('[data-topic-container-id]');toggleTopicEditMode(_0x4b545f,![]),_0x26b3cd=null;}}}}}),document['getElementById'](_0x62d589(0x9fb))[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x1f38d5=_0x62d589;document[_0x1f38d5(0x40a)](_0x1f38d5(0xaab))[_0x1f38d5(0xad3)][_0x1f38d5(0xa6b)](_0x1f38d5(0xc0c));}),document[_0x62d589(0x40a)](_0x62d589(0xd27))[_0x62d589(0x7d4)]('click',()=>{const _0xe24ee4=_0x62d589;document['getElementById']('lesson-plan-modal')[_0xe24ee4(0xad3)][_0xe24ee4(0xa6b)](_0xe24ee4(0xc0c));}),document[_0x62d589(0x40a)](_0x62d589(0x719))['addEventListener'](_0x62d589(0x859),handleExportLessonPDF);}document[_0x62d589(0x40a)](_0x62d589(0x94c))['addEventListener'](_0x62d589(0x859),()=>{const _0xd192f8=_0x62d589;document[_0xd192f8(0x40a)]('comparison-modal')[_0xd192f8(0xad3)][_0xd192f8(0xa6b)]('hidden');}),document[_0x62d589(0x40a)]('close-comparison-modal-footer-btn')[_0x62d589(0x7d4)](_0x62d589(0x859),()=>{const _0x38e5da=_0x62d589;document[_0x38e5da(0x40a)](_0x38e5da(0xb8d))[_0x38e5da(0xad3)][_0x38e5da(0xa6b)](_0x38e5da(0xc0c));}),setupComparisonModalTabs(),document['body'][_0x62d589(0x7d4)](_0x62d589(0x859),function(_0x4f48fd){const _0x19d5c5=_0x62d589;if(_0x4f48fd[_0x19d5c5(0x5c1)][_0x19d5c5(0xad3)][_0x19d5c5(0x560)]('practice-topic-btn')){const _0x188288=unescape(_0x4f48fd[_0x19d5c5(0x5c1)][_0x19d5c5(0x48f)][_0x19d5c5(0xc30)]);startSkillPractice(_0x188288);}}),document[_0x62d589(0x40a)]('scores-tab-content')[_0x62d589(0x7d4)](_0x62d589(0x859),_0xd5d1eb=>{const _0x59387b=_0x62d589,_0x4fe58c=_0xd5d1eb['target'][_0x59387b(0xad9)](_0x59387b(0x230));if(_0x4fe58c){const _0x29ca36=_0x4fe58c[_0x59387b(0x48f)][_0x59387b(0x2ac)];handleDeleteSubmission(_0x29ca36);}});}async function handleStartGroupMode(_0x38a5ec,_0x46b1c0=![]){const _0x3b9437=_0x487f42,_0x212f08=allQuizzes[_0x3b9437(0x8d2)](_0x244320=>_0x244320['id']===_0x38a5ec)||allQuizzesGlobal[_0x3b9437(0x8d2)](_0x377215=>_0x377215['id']===_0x38a5ec);if(!_0x212f08){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x212f08);const _0x2bbf23=Math[_0x3b9437(0xce5)](0x3e8+Math[_0x3b9437(0x303)]()*0x2328)['toString']();try{const _0xaf4a44=await addDoc(collection(db,_0x3b9437(0x5c6)+appId+_0x3b9437(0xd1a)),{'quizId':_0x212f08['id'],'projectId':_0x212f08[_0x3b9437(0x84e)],'status':'lobby','pin':_0x2bbf23,'mode':_0x3b9437(0x396),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x46b1c0});currentTeamQuizId=_0xaf4a44['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x2bbf23,_0x212f08[_0x3b9437(0xc30)],_0x3b9437(0x396)),listenForTeamQuizUpdates();}catch(_0x5d9e4e){console[_0x3b9437(0x81d)](_0x3b9437(0x695),_0x5d9e4e),showMessage(_0x3b9437(0xcb4));}}async function showStudentProgressView(){const _0x3b46b7=_0x487f42;studentInitialView[_0x3b46b7(0xad3)][_0x3b46b7(0xa6b)]('hidden'),document['getElementById'](_0x3b46b7(0x6d8))['classList'][_0x3b46b7(0x432)]('hidden');const _0x5f1742=document[_0x3b46b7(0x40a)](_0x3b46b7(0xa5c)),_0x54f9e4=document[_0x3b46b7(0x40a)]('progress-student-select'),_0x2d991e=document[_0x3b46b7(0x40a)](_0x3b46b7(0x821));_0x2d991e[_0x3b46b7(0x843)]=_0x3b46b7(0x8a1),_0x54f9e4[_0x3b46b7(0x843)]=_0x3b46b7(0xd39),_0x54f9e4[_0x3b46b7(0x4c2)]=!![],_0x5f1742[_0x3b46b7(0x843)]=_0x3b46b7(0x643);if(allProjects[_0x3b46b7(0xaf2)]===0x0){const _0x52b23b=collection(db,_0x3b46b7(0x5c6)+appId+'/public/data/projects'),_0x6c364a=await getDocs(_0x52b23b);allProjects=_0x6c364a['docs'][_0x3b46b7(0x71d)](_0x4e55aa=>({'id':_0x4e55aa['id'],..._0x4e55aa[_0x3b46b7(0x225)]()}));}const _0x112718=allProjects['filter'](_0x206d56=>_0x206d56[_0x3b46b7(0x7ba)]?.[_0x3b46b7(0x65e)]!==![]);_0x112718[_0x3b46b7(0x9ff)]((_0x586adf,_0x4e03b0)=>_0x586adf['projectName'][_0x3b46b7(0xd63)](_0x4e03b0['projectName'],'th')),_0x5f1742[_0x3b46b7(0x843)]=_0x3b46b7(0x3d7)+_0x112718[_0x3b46b7(0x71d)](_0x1ff95c=>_0x3b46b7(0x648)+_0x1ff95c['id']+'\x22>'+_0x1ff95c['projectName']+_0x3b46b7(0x343))[_0x3b46b7(0xb00)](''),_0x5f1742[_0x3b46b7(0x211)]=()=>{const _0x468b1b=_0x3b46b7,_0x39e4d5=_0x54f9e4[_0x468b1b(0x6cb)],_0x18e58b=_0x5f1742[_0x468b1b(0x6cb)];_0x54f9e4[_0x468b1b(0x4c2)]=!![],_0x54f9e4[_0x468b1b(0x843)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x2d991e[_0x468b1b(0x843)]=_0x468b1b(0x871);if(!_0x18e58b)return;const _0x36f268=allProjects[_0x468b1b(0x8d2)](_0x5b5c4c=>_0x5b5c4c['id']===_0x18e58b);if(!_0x36f268||!_0x36f268[_0x468b1b(0xbe8)])return;const _0x2264b0=()=>{const _0xc48a7e=_0x468b1b;_0x54f9e4['innerHTML']=_0xc48a7e(0xd39)+_0x36f268[_0xc48a7e(0xbe8)][_0xc48a7e(0x71d)](_0x212b1b=>'<option\x20value=\x22'+_0x212b1b+'\x22>'+_0x212b1b+'</option>')['join'](''),_0x54f9e4[_0xc48a7e(0x4c2)]=![];const _0x346736=Array[_0xc48a7e(0x445)](_0x54f9e4[_0xc48a7e(0x614)])['map'](_0xb3dce7=>_0xb3dce7[_0xc48a7e(0x6cb)]);if(_0x39e4d5&&_0x346736['includes'](_0x39e4d5))_0x54f9e4[_0xc48a7e(0x6cb)]=_0x39e4d5,_0x54f9e4[_0xc48a7e(0xb20)](new Event(_0xc48a7e(0x84a)));else _0x36f268[_0xc48a7e(0xbe8)]['length']===0x1&&(_0x54f9e4[_0xc48a7e(0x6cb)]=_0x36f268[_0xc48a7e(0xbe8)][0x0],_0x54f9e4[_0xc48a7e(0xb20)](new Event(_0xc48a7e(0x84a))));};if(_0x36f268[_0x468b1b(0x7ba)]?.['isPasscodeEnabled']){if(sessionStorage[_0x468b1b(0xcec)](_0x468b1b(0x767)+_0x18e58b)===_0x468b1b(0x35a)){_0x2264b0();return;}const _0x50acfc=document[_0x468b1b(0x40a)](_0x468b1b(0xab9)),_0x3f250a=document['getElementById'](_0x468b1b(0x8bb)),_0x379c9d=document[_0x468b1b(0x40a)](_0x468b1b(0x826)),_0x13f9d9=document[_0x468b1b(0x40a)](_0x468b1b(0x2b7)),_0x7941da=document[_0x468b1b(0x40a)](_0x468b1b(0x8da));document[_0x468b1b(0x40a)]('passcode-prompt-message')[_0x468b1b(0x642)]=_0x468b1b(0x8b6)+_0x36f268['projectName'],_0x13f9d9[_0x468b1b(0x6cb)]='',_0x7941da[_0x468b1b(0xad3)][_0x468b1b(0xa6b)](_0x468b1b(0xc0c)),_0x50acfc[_0x468b1b(0xad3)][_0x468b1b(0x432)](_0x468b1b(0xc0c));const _0x3017bb=()=>{const _0x2a1e42=_0x468b1b,_0x140166=_0x13f9d9[_0x2a1e42(0x6cb)][_0x2a1e42(0x1fb)]();_0x140166===_0x36f268[_0x2a1e42(0x7ba)]['passcode']?(sessionStorage[_0x2a1e42(0x5ee)]('authed_project_'+_0x18e58b,_0x2a1e42(0x35a)),_0x50acfc[_0x2a1e42(0xad3)]['add'](_0x2a1e42(0xc0c)),_0x2264b0(),_0x3f250a[_0x2a1e42(0x636)]('click',_0x3017bb)):_0x7941da[_0x2a1e42(0xad3)][_0x2a1e42(0x432)](_0x2a1e42(0xc0c));};_0x3f250a['onclick']=_0x3017bb,_0x379c9d[_0x468b1b(0x569)]=()=>{const _0x39a149=_0x468b1b;_0x50acfc[_0x39a149(0xad3)][_0x39a149(0xa6b)]('hidden'),_0x5f1742[_0x39a149(0x6cb)]='',_0x3f250a[_0x39a149(0x636)]('click',_0x3017bb);};}else _0x2264b0();},_0x54f9e4['onchange']=()=>{const _0x286e87=_0x3b46b7,_0x2bfa49=_0x5f1742['value'],_0x41f442=_0x54f9e4[_0x286e87(0x6cb)];_0x2bfa49&&_0x41f442&&renderStudentProgressDashboard(_0x2bfa49,_0x41f442);};}async function confirmAndJoinSyncGame(){const _0x3fbc72=_0x487f42,_0x38e8d2=Array['from'](document[_0x3fbc72(0x93e)](_0x3fbc72(0xd7c)))['map'](_0x446a79=>_0x446a79['value']);if(_0x38e8d2[_0x3fbc72(0xaf2)]===0x0){showMessage(_0x3fbc72(0x3f3));return;}localTeamPlayers=_0x38e8d2,localPlayerTurnIndex=0x0;const _0x1b2c7f=doc(db,_0x3fbc72(0x5c6)+appId+_0x3fbc72(0x314),currentLiveGameId);try{const _0x34e06a={};_0x38e8d2[_0x3fbc72(0xa40)](_0x17f779=>{const _0x172eb6=_0x3fbc72;_0x34e06a[_0x172eb6(0x370)+_0x17f779]={'name':_0x17f779,'score':0x0,'answered':![],'status':'active'};}),await updateDoc(_0x1b2c7f,_0x34e06a),document['getElementById'](_0x3fbc72(0xa1a))[_0x3fbc72(0xad3)][_0x3fbc72(0xa6b)]('hidden'),currentStudentName=_0x38e8d2[0x0],listenForSyncGameUpdates();const _0x2444aa={'gameId':currentLiveGameId,'mode':_0x3fbc72(0xbe1),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x3fbc72(0x5ee)](_0x3fbc72(0xabf),JSON['stringify'](_0x2444aa)),currentMode!==_0x3fbc72(0x67d)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x3fbc72(0x7d4)](_0x3fbc72(0x686),handleFullscreenChange),document[_0x3fbc72(0x7d4)](_0x3fbc72(0xcdd),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x3fbc72(0x981),resetDimTimer),window['addEventListener'](_0x3fbc72(0xa3c),resetDimTimer),window[_0x3fbc72(0x7d4)](_0x3fbc72(0x912),resetDimTimer),window[_0x3fbc72(0x7d4)](_0x3fbc72(0x48c),resetDimTimer),resetDimTimer());}catch(_0x4a2da1){console[_0x3fbc72(0x81d)](_0x3fbc72(0x886),_0x4a2da1),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function resumeActiveGameSession(){const _0x4b759a=_0x487f42,_0x10d74a=sessionStorage[_0x4b759a(0xcec)](_0x4b759a(0xabf));if(!_0x10d74a)return;const _0x17c796=JSON[_0x4b759a(0x390)](_0x10d74a),{gameId:_0x4f598c,mode:_0x27b1ae,players:_0x2baf5e,turnIndex:_0x11dc75}=_0x17c796;try{let _0x3e9631,_0x4b5b8e;_0x27b1ae===_0x4b759a(0xbe1)?_0x3e9631=doc(db,'artifacts/'+appId+_0x4b759a(0x314),_0x4f598c):_0x3e9631=doc(db,_0x4b759a(0x5c6)+appId+_0x4b759a(0xd1a),_0x4f598c);_0x4b5b8e=await getDoc(_0x3e9631);if(!_0x4b5b8e[_0x4b759a(0xd6a)]()||_0x4b5b8e[_0x4b759a(0x225)]()[_0x4b759a(0xade)]===_0x4b759a(0x940)||_0x4b5b8e['data']()[_0x4b759a(0xade)]===_0x4b759a(0x54d)){sessionStorage[_0x4b759a(0x752)](_0x4b759a(0xabf));return;}console[_0x4b759a(0x681)](_0x4b759a(0x585)+_0x27b1ae+_0x4b759a(0x5a3)+_0x4f598c+')'),localTeamPlayers=_0x2baf5e,localPlayerTurnIndex=_0x11dc75;if(_0x27b1ae===_0x4b759a(0xbe1))currentLiveGameId=_0x4f598c,currentStudentName=_0x2baf5e[0x0],showView(_0x4b759a(0x5a0)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x4f598c;const _0x355ffa=_0x4b5b8e[_0x4b759a(0x225)](),_0x2de7c=doc(db,'artifacts/'+appId+_0x4b759a(0x7ac),_0x355ffa['quizId']),_0x2d0ba3=await getDoc(_0x2de7c);_0x2d0ba3['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0x2d0ba3['id'],..._0x2d0ba3[_0x4b759a(0x225)]()}),showView(_0x4b759a(0x309)),studentInitialView[_0x4b759a(0xad3)][_0x4b759a(0xa6b)]('hidden'),renderTeamQuizQuestion());}}catch(_0x253ed3){console[_0x4b759a(0x81d)](_0x4b759a(0x6f9),_0x253ed3),sessionStorage[_0x4b759a(0x752)](_0x4b759a(0xabf));}}function _0x49b7(){const _0x45c300=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','verify-answers-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','Error\x20saving\x20questions\x20to\x20practice\x20bank:','</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','getBoundingClientRect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','bg-emerald-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เส้นตรง:\x20รูปแบบสมการ','show-results-btn','.lastAnswerCorrect','ยืนยันการจับคู่','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','loopUntilPass','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','.move-quiz-btn','confident','manual-blueprint-modal','toLocaleString','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','cdot','การยืนยันตัวตนล้มเหลว','.delete-parallel-shortcut-btn','modal-confidence-mode-container','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','สาระที่\x201','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ทศนิยม\x20(ค่าประจำหลัก)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','cancel-create-project-btn','fullscreenElement','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20mb-2\x22>','behavior-log-tab-btn','requestFullscreen','อัปเดตสถานะสำเร็จ','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','bulk-confidence-mode-select','<li\x20class=\x22','title','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','message','text-green-600','bp-topic-list-container','topic-quiz-bank-modal','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','ดอทโปรดักต์\x20(dot)','totalQuestions','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','passcode','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.highlighter-color-btn','.question-editor-item[data-q-index=\x22','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','Remedial\x20quiz\x20generation\x20failed:','N/A','attemptNumber','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.ai-fix-formula-btn','Error\x20during\x20blueprint\x20link\x20cleanup:','ยังไม่มีนักเรียนส่งงาน','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','both','#open-additional-shortcuts-btn','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','.toggle-actions-btn','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','confirm-game-start-modal','pin','ไม่สามารถโหลดคลังข้อสอบได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','MathJax','toggle','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','custom-math-topic-input','stringify','กฎของโคไซน์','name_asc','</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','blueprintShortcuts','/lessons','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','ชื่อหัวข้อห้ามว่าง','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','ความคาดหมาย\x20(Expected\x20value)','num-choices-container','difficulty-level-select','worksheet-topic-input','<i\x20class=\x22fas\x20fa-save\x22></i>','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','.move-parallel-shortcut-dropdown','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','visibilitychange','.topic-name-display','#open-additional-file-shortcuts-btn','Error\x20committing\x20score\x20updates:','/public/data/blueprintProjects/','ทำคะแนนได้เกินครึ่ง','message-modal','members','floor','add-shortcut-tab-btn','get','783123ovXDJe','.tab-name-display','isPinned','overallGroups','getItem','num-questions','textarea[name=\x22question_single\x22]','/public/data/quizzes/','.answers','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','rgba(255,\x20255,\x200,\x200.5)','generated-quiz-container','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','reference.txt','toISOString','submission','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','เซียนสมองไว','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','parentElement','fa-fire\x20text-orange-500','.delete-shortcut-tab-btn','student-team-join','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','.delete-quiz-btn','การปัดเศษและประมาณค่า','parallel-shortcut-id-input','goto-next-question-btn','prod','<div\x20class=\x22p-2\x20rounded-md\x20','423xSAZQi','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','แก้ไขชื่อหัวข้อย่อย:','หมดเวลา!\x20กำลังส่งคำตอบ...','.pin-project-btn','isConfidenceScoringEnabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ศูนย์','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','multiple_choice','#file-shortcut-tabs-nav\x20.tab-name-input','คณิตการเงิน/บูรณาการ','quiz-editor-modal','bp-modal-shuffle-setting-select','<div\x20class=\x22my-2\x22>','/public/data/teamQuizzes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','per-question-text','fromCharCode','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-overall-tab','getDocument','suggestedAnswer','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','next-question-timed-btn','.move-shortcut-item','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','cancel-quiz-settings-btn','close-lesson-plan-modal-footer-btn','source-over','active','Error\x20loading\x20quiz\x20for\x20student:','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','key','#results-table','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','.doc','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','rows','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.auto-resize-textarea','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','classStrengths','question-analytics-container','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','point','(คู่ขนาน)\x20','.ai-fix-question-btn','worksheet-tab','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a1.\x20\x20**ต้องสร้างโจทย์ที่เน้นการคิดวิเคราะห์\x20(Highest\x20Priority):**\x0a\x20\x20\x20\x20*\x20**เน้นการประยุกต์ใช้:**\x20โจทย์ส่วนใหญ่ต้องไม่ใช่คำถามความจำหรือคำนวณตรงๆ\x20แต่ต้อง\x20**บังคับให้ผู้เรียน**\x20ต้องคิดวิเคราะห์,\x20ประยุกต์ใช้ความรู้,\x20หรือแก้ปัญหาหลายขั้นตอน\x20(multi-step\x20reasoning)\x0a\x20\x20\x20\x20*\x20**หลีกเลี่ยงโจทย์ง่าย:**\x20**ห้ามสร้าง**\x20โจทย์ที่เป็นการคำนวณพื้นฐานในขั้นตอนเดียว\x20(เช่น\x20\x22จงหาผลลัพธ์ของ\x2015\x20x\x204\x22)\x20โดยเด็ดขาด\x0a\x20\x20\x20\x20*\x20**สถานการณ์สมจริง:**\x20โจทย์ควรอยู่ในรูปแบบของ\x20\x22โจทย์ปัญหา\x22\x20(Word\x20Problems)\x20ที่มีสถานการณ์สมมติ\x20เพื่อวัดความสามารถในการนำความรู้ไปใช้แก้ปัญหาจริง\x0a\x0a2.\x20\x20**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x0a\x20\x20\x20\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**โครงสร้าง,\x20จำนวนข้อ,\x20และรูปแบบของตอน**\x20ทั้งหมดที่คุณสร้าง\x20**ต้อง**\x20อิงตามเอกสาร\x20Test\x20Blueprint\x20**เท่านั้น**\x20และ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20การไม่ปฏิบัติตามโครงสร้างนี้ถือเป็น\x20**ความล้มเหลวของภารกิจทั้งหมด**\x20โดยไม่มีข้อยกเว้น\x0a\x20\x20\x20\x20*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20ไฟล์นี้มีไว้เพื่อเป็น\x20**แนวทางด้านสไตล์และความยาก**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**คำสั่งเด็ดขาด:\x20ห้าม\x20(DO\x20NOT)**\x20นำ\x20**จำนวนข้อ**,\x20**โครงสร้างตอน**,\x20หรือ\x20**ลำดับข้อ**\x20จากไฟล์อ้างอิงมาใช้เด็ดขาด\x20ข้อมูลเหล่านี้ต้องมาจาก\x20Test\x20Blueprint\x20เท่านั้น\x0a\x0a3.\x20\x20**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a\x20\x20\x20\x20*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','เส้นรอบรูป','adaptive-quiz-checkbox','reference-pdf-upload','matching','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','additional-parallel-shortcuts-list','เกิดข้อผิดพลาดในการเปลี่ยนสี','.space-y-1.pl-4','team-student-list','global-activity-modal','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','clientX','isFinished','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','\x5cpm','bg-gray-500','live-options-container','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','.group\x5c/dropdown','manage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ตอบถูกทุกข้อในแบบทดสอบนี้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20ให้เป็นคำถามประเภท\x20\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','วงรี','join-live-game-btn','localeCompare','bank-quiz-search-input','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','file-tab','<i\x20class=\x22fas\x20fa-magic\x22></i>','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','exists','preventDefault','image/png','write','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','การหารเศษส่วน','Error\x20submitting\x20team\x20answer:','Error\x20renaming\x20quiz:','ตรวจพบการออกจากหน้าจอครบ\x20','toLocaleDateString','ไม่พบข้อมูลเกม','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','text-blue-700\x20bg-blue-100','Failed\x20to\x20generate\x20lesson:','คะแนนเต็ม!','\x20pointer-events-none\x22>','input[name=\x22team_player\x22]:checked','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','file-shortcut-url-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','เกิดข้อผิดพลาดในการสร้างใบงาน','restore','topicName','.shortcut-btn','mouseleave','Error\x20processing\x20file\x20for\x20AI:','startsWith','string','Error\x20analyzing\x20blueprint\x20topics:','79736VhaSNW','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','mainTopics','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','blueprint-tab','Error\x20toggling\x20star\x20status:','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','parallel-test-tab','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','#parallel-shortcut-tabs-nav\x20.tab-name-input','QUICK_THINKER','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','class','BOOLEAN','quiz-form','numChoices','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','trim','.edit-parallel-shortcut-btn','ปิดใช้งาน','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','file.pdf','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','Blueprint\x202','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-confident','Error\x20adding\x20students:','จำนวนนักเรียน','bg-red-100','reduce','modal-results-display-select','projectSort','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','การคูณทศนิยม','คะแนนเต็ม','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onchange','อัตราและอัตราหน่วย','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','สเกลและแผนที่','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','leaderboard_','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','generate-worksheet-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','ไม่ใช่\x20/\x20ผิด','projectName','touchcancel','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','/public/data/blueprintProjects','function','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-white','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','display','data','.delete-hidden-file-shortcut-btn','\x20ใหม่...','modal-passing-score-input','Error\x20toggling\x20pin\x20status:','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','ARRAY','scratchpad-modal','.rename-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','[data-field=\x22subTopic\x22]','.delete-submission-btn','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','null','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','parallel-shortcut-editor-modal','เริ่มกิจกรรม:\x20','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','การหาร','previousElementSibling','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','answer-grid-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการส่งคำตอบ','bg-green-500','เกิดข้อผิดพลาดในการอัปเดต:\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แท็บใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/projects','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','filter','#F3E8FF','(ก่อนเรียน)\x20','file-shortcut_','outerHTML','perQuestionStats','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','matching_item','เกิดข้อผิดพลาดในการบันทึกโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','abs','Error\x20opening\x20quiz\x20editor:','\x22\x20data-pre-test-id=\x22','input[type=\x22radio\x22]:checked','</body></html>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>',')\x22>','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','setAttributeNS','original-mode-checkbox','href','</label></div>','preTScore','\x22.\x20Ideal\x20Answer:\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','leaderboard-tab','.start-game-btn','add-file-shortcut-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','\x5cdiv','กรุณาเลือกโปรเจคที่ต้องการบันทึก','ปริมาตรรูปทรงสามมิติ','สร้างคำถามแบบใช่/ไม่ใช่','AI\x20ไม่สามารถประมวลผลข้อมูลได้','substring','nextElementSibling','doughnut','text','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','answer','topicId','-tab','เลือกและบันทึก','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','red','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','No\x20player\x20data\x20to\x20save.','เกิดข้อผิดพลาดในการปักหมุด','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','จำนวนเต็มบวก','per-question-timer-container','numPages','select-all-topics-btn','dragstart','lastAnswerIndex','การหารทศนิยม','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','createdAt','entries','bp-project-title','สมการเหตุผล\x20(rational)','leaderboard-table-body','isCorrect','Enter','.use-hidden-shortcut-btn','strength-weakness-analysis-container','แบบปรนัย\x204\x20ตัวเลือก','Error\x20generating\x20hybrid\x20quiz:','text-gray-700','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','transform',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','behavior-log-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','Error\x20starting\x20sync\x20game:','reference_onet.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','createElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','live-race','auto','shuffledQuiz','ไม่มี','msRequestFullscreen','getContext','createObjectURL','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','bg-green-50','includes','รูปสี่เหลี่ยมและสมบัติ','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','studentName','summary_chart','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','PROMPT_PLACEHOLDER','Error\x20deleting\x20submission:','Error\x20generating\x20parallel\x20test\x20from\x20bank:','อัตราการเปลี่ยนแปลงทันที','getTextContent','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','targetId','student-passcode-input','ON_FIRE','cancel-team-selection-btn','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','touchend','\x20ชุดสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-category','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','แก้ไขปุ่มลัดจากไฟล์','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','quiz','text-blue-700','parallel-shortcut-tabs-nav','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','<p\x20class=\x22','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','ปริพันธ์จำกัด','ฟังก์ชันสัมพัทธ์\x20(rational)','text-red-700\x20bg-red-100','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x22.\x20','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','[data-topic-id=\x22','อัปเดตการตั้งค่าของแบบทดสอบ\x20','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','ระยะเวลา\x20(นาที):','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','move-quiz-project-select','keyup','blob','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','กราฟแท่ง\x20กราฟเส้น','onload','timerMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','lastAnswerCorrect','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20fetching\x20projects\x20for\x20move:','แผนภาพกล่อง\x20(box\x20plot)','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','originalQuestionText','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','Error\x20calling\x20Gemini\x20API:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','size','draggable-text','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','กฎของไซน์','latestSubmittedAt','items','ดอกเบี้ยทบต้น','<span\x20class=\x22font-bold\x20','bp-add-topic-btn','Error\x20generating\x20parallel\x20post-test:','passcode-input-container','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','ref','parallelTestShortcutsConfig','random','\x5cfrac{$1}{$2}','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/questionBank','.lastAnswerIndex','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','student','lesson-plan-content','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','start-game-btn','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','blueprint-project-manager-view','เรขาคณิตวิเคราะห์','/public/data/syncGames','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','blueprint-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','278wFBJPu','delete-svg-btn','candidates','admin-try-quiz-btn','onblur','question-complexity-select','quiz-settings-modal','responseSchema','Error\x20updating\x20project\x20color:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scheduled','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','close','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','touchmove','border-indigo-500\x20text-indigo-600','student-result-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','num-choices','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','confirm-delete-btn','.quiz-bank-item','[data-topic-container-id]','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','</td></tr>','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x20to\x20blueprint\x20topic\x20','position','tool','currentTarget','clientY','Error\x20deleting\x20project:','</option>','s;\x22\x20title=\x22','ก่อนเรียน','.quiz-bank-move-btn','project-detail','ถูก','\x20รายการ...','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','_blank','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reset-project-order-btn','generate-from-text-btn','blueprint-settings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22question','uid','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','true_false','schedule','originalTopic','arrayBuffer','manage-tab','true','confidence-choice-btn','upperGroupResponders','catch','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','<h1></h1>','student-rankings-modal','Error\x20updating\x20sort\x20preference:','input[type=\x22checkbox\x22]:checked','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ผ่านฉลุย','bg-green-100\x20text-green-800','globalAlpha','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','```json','/studentProfiles','อยู่ในหัวข้อหลักใด:','มุมและการวัดมุม','players.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27\x20ในหัวข้อ\x20\x27','some','parallel-test-input-area','bg-red-50','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','พื้นที่สามเหลี่ยม','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','.quiz-bank-delete-btn','text/csv;charset=utf-8;','เกิดข้อผิดพลาดในการสร้างห้องเกม','show_results_and_answers','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','math-topics-checkbox-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-status-btn','bg-green-200\x20text-green-900\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','แบบเติมคำตอบ','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','text-green-600\x20font-bold','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','isPasscodeEnabled','bg-red-100\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-pen','instructions','parse','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','leq','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','quiz-bank-modal','hasPerfectScoreBonus','group','ไม่พบข้อมูลแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','total','text-gray-500','text-content-input','preTestId','findIndex','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','quiz-start-time','#FEE2E2','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','กรุณาใส่ชื่อนักเรียน','pointercancel','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','\x27,\x20\x27','textarea','Error\x20saving\x20game\x20results:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pinnedProjects','overline','update','first_try_ace','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','quiz-leaderboard-table-body','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','perfect_score_status','<div\x20class=\x22mb-3\x20topic-category\x22>','ตอบถูก\x203\x20ข้อติดต่อกัน','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','.answeredCurrentQuestion','list-view-btn','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','raw','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','.\x20แต่ละข้อมี\x20','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','input[name=\x22question_single\x22]:checked','บันทึกการแก้ไข','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','สมการตรีโกณมิติ','export-pdf-btn','pointermove','index','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','live-player-list','FIRST_TRY_ACE','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','topic-input','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','fa-shield-alt\x20text-gray-600','thead','admin-dashboard','add-parallel-shortcut-btn','ลบหัวข้อสำเร็จ','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-topics-list','default-2','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','สร้างแบบทดสอบปรนัย','0\x200','groups','webkitRequestFullscreen','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','student-project-leaderboard-table-body','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','.bp-delete-topic-btn','ownerSVGElement','create-project-modal','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','สมการราก\x20(radical)','</span>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','subTopics','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','translate(','.group','shortcutIds','manual_release','.quiz-bank-checkbox:checked','hover:bg-indigo-100','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','API\x20call\x20failed','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','_opt','ระบบสมการเชิงเส้นสองตัวแปร','Error\x20preparing\x20content\x20quiz:','บันทึกโปรเจค\x20\x22','parallel-shortcut-url-input','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','getPage','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','tab_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','หน่วยมวล/น้ำหนักและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','ความแปรปรวน','block','name','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','getElementById','shortcut-blueprint-url-input','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','transformOrigin','confirm-move-quiz-btn','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','projectSortOrder','normal','\x22><i\x20class=\x22fas\x20','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','ai-quiz-app-aefee.firebaseapp.com','เศษส่วน\x20(ย่อ/ขยาย)','removeChild','Group\x20Mode',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','manual-bp-grade-level','imageCode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','badges','student-name-select','.bp-unlink-quiz-btn','fill','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','standard','Failed\x20to\x20get\x20standardized\x20topic:','\x22\x20name=\x22team_answer\x22\x20value=\x22','setFont','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','.export-pdf-list-btn','medium','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','bg-green-400\x20text-white\x20font-bold','กรุณาเลือกชื่อของคุณ','file-shortcut-id-input','global-activity-quiz-list','ไฟล์ลัด\x201','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.scratchpad-content-wrapper','remove','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20listening\x20for\x20custom\x20math\x20topics:','generate-from-parallel-test-btn','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','กำลังดึงไฟล์อ้างอิงจากลิงก์...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','cancel-blueprint-projects-btn','เปลี่ยนชื่อโปรเจคสำเร็จ','isNormalTopic','Auto-linking\x20new\x20quiz\x20','exitFullscreen','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','text-indigo-800','globalSettings','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','additional-parallel-shortcuts-modal','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','from','style','.score','\x5csum','div[data-question-index=\x22','generated','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','เพิ่ม\x20','All\x20groups\x20have\x20finished.\x20Ending\x20game.','_opt1\x22\x20name=\x22question','ควรปรับปรุง','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','-\x20ข้อ\x20','startedAt','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','กรุณาวาง\x20URL\x20ของบทความก่อน','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','มัธยฐาน','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','save-bp-settings-btn','loop-until-pass-checkbox','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','textarea[name=\x22team_answer\x22]','ความคล้ายของรูป','แบบทดสอบซ่อมเสริม','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','documentElement','\x20จาก\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','save-visibility-settings-btn','questionText','คะแนนเฉลี่ย','ai-quiz-app-aefee','px)\x20scale(','Error\x20fetching\x20student\x20rankings:','STOP','back-to-dashboard-btn','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','\x22\x20data-quiz-id=\x22','circle','webkitExitFullscreen','ไม่พบข้อมูลการจับคู่','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','border-gray-200','</h4>','.remove-file-shortcut-from-tab-btn','inactive','deg','leaderboard-quiz','toLowerCase','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','left','Could\x20not\x20fetch\x20reference\x20file:','https://corsproxy.io/?','bg-black/10','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','quiz-search-input','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','FileReader\x20error:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','ที่พิมพ์ได้\x20จำนวน\x20','การวัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','keydown','ฟังก์ชันกำลังสองและกราฟ','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','dataset','quiz-results-view','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','input','Error\x20saving\x20file\x20shortcut\x20config:','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','border-green-300\x20bg-green-50','กรุณาตั้งชื่อแท็บใหม่:','quiz-id-input','drop','update-old-quizzes-btn','ค่าเฉลี่ย','answer-counter','load-quiz-btn','\x20|\x20ID:\x20','subTopic','.project-card-container','เลือกโปรเจคเพื่อบันทึก','ค.ร.น.\x20(LCM)','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','responses.','#FFFFFF','decode','bg-gray-200\x20text-gray-700','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','กำลังดึงข้อมูลจากลิงก์...','results-tab','.group\x5c/dropdown-file','export-tutor-pdf-btn','เกิดข้อผิดพลาดในการอัปเดตสถานะ','<button\x20data-tab-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','.quiz-settings-btn','td,\x20th','confirm-quiz-status-btn','confidence-scoring-toggle','setTransform','drill-feedback','bg-green-100\x20font-bold','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pop','ระยะทางและจุดกึ่งกลาง','leaderboard','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','.edit-shortcut-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','questionStatus','.ai-content\x20blockquote','team-player-status-grid','disabled','name_desc','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','สมการเชิงเส้นตัวแปรเดียว','องค์ประกอบของฟังก์ชัน','ไม่สามารถเพิ่มนักเรียนได้','.delete-student-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','clear-all-links-btn','resize','after','.delete-parallel-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','อัปเดตแบบทดสอบเก่า\x20','ค่าความจริง/ตารางค่าความจริง','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','file-shortcut-tabs-nav','ยังไม่สร้าง','Firebase\x20initialization\x20failed:','Error\x20saving\x20blueprint\x20project:','smooth','ลบโปรเจค\x20\x22','bg-green-100','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-confidence-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','อุณหภูมิและการแปลง','live-submit-short-answer-btn','text-yellow-800','.live-answer-btn,\x20#sync-submit-btn','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','border-red-700','worksheet-input-area','/public/data/customMathTopics','thead\x20.sortable-header','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอยากมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','-options','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','right','topics.','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','Error\x20fetching\x20quiz\x20settings:','hint-btn','body','quizId','table','.quiz-bank-settings-btn','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-reading-area','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','tan','.parallel-shortcut-tab-btn','.bp-view-analysis-btn','game-start-mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','.start-presentation-list-btn','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','attempts','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','export-worksheet-pdf-btn','กรุณาพิมพ์คำตอบของกลุ่ม','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','mode-switcher-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20visibility\x20settings:','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','type','quiz-generation-area','topic_','student-list','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','.txt','push','กราฟฟังก์ชันตรีโกณ','allResponses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-project-btn\x20','ไม่ได้ตอบ','ไม่ผ่าน','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','\x5cle','สร้างแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','cloneNode','Error\x20generating\x20from\x20link:','สร้างแบบทดสอบ','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','grid','innerText','shortcut-name-input','Attempting\x20to\x20save\x20game\x20results...','curriculum','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','ฟังก์ชันราก\x20(root)','max','confirm-join-game-btn','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','\x20ตัวเลือก.\x20','standardTopic','prev-question-btn','setAttribute','</span></p>','Error\x20during\x20deep\x20delete:','fileShortcutOrder','Loaded\x20','results','fileShortcutTabs','destroy','pen-tools-group','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','save-game-results-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','asc','ความชันเส้นสัมผัส','โดเมนและเรนจ์','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','.delete-hidden-parallel-shortcut-btn','answerValue','editable-quiz-topic','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','blueprint-options-container','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x5cge','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submission-status-chart','ข้อต่อไป','.project-card-container[data-id]','podium','firstScore','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-sync-question-btn','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','ตั้งเวลา\x20(เปิด)','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','no-projects-msg','.file-topic-selection-btn','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','คัดลอกรหัสแล้ว!','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','\x22\x20value=\x22false\x22\x20','Error\x20verifying\x20answers:','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','contains','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','ตรีโกณมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','timer-mode-select','project-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','opacity','msExitFullscreen','onclick','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','scratchpad-header','#26890c','admin','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','deselect-all-topics-btn','...','#student-project-leaderboard-content\x20thead','admin-password-input','\x20รายการสำเร็จ!','Error\x20saving\x20settings:','Error\x20resetting\x20project\x20order:','ย้าย','endTime','เกิดข้อผิดพลาดในการติดดาว','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ความเท่ากันทุกประการของสามเหลี่ยม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','อยู่ในสาระการเรียนรู้ใด:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Original\x20quiz\x20not\x20found','next-drill-btn','eraser','กำลังกลับเข้าสู่เกม\x20','shortcutId','ทฤษฎีบทพีทาโกรัสและการประยุกต์','.remove-parallel-shortcut-from-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ondragend','on_fire','.edit-hidden-file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','Error\x20saving\x20lesson\x20to\x20project:','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','ชื่อโปรเจคห้ามว่าง','.verification-result-editor','\x20จุดเรียบร้อยแล้ว','stem','.project-card-container:not(.opacity-50)','mandatory','\x20จุด','กรุณาพิมพ์คำตอบ','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','.summary-bar-item','topics','.quiz-bank-parallel-btn','currentMode','กำลังสร้างเนื้อหา:\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','fill_in_with_choices','live-game','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','#confidence-input-','\x20(ID:\x20','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','เปิดใช้งาน','.quiz-result-card','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open-sync-scratchpad-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','%</span>','จุด\x20เส้น\x20ระนาบ','AI\x20แก้ไขคำถามสำเร็จ!','q-image-container-','submit-group-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','bg-teal-500\x20hover:bg-teal-600\x20text-white','link-tab','lineCap','ลำดับการดำเนินการ\x20(PEMDAS)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','pen','parallelShortcutOrder','file-shortcut-container','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','คำถามดิบ:\x20\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence','text/plain','ไม่สามารถเริ่มเกมได้','target','shuffle-setting-select','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','classWeaknesses','artifacts/','createdBy','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','สรุปผลสุดท้าย','rgba(59,\x20130,\x20246,\x200.7)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','correctAnswer','end-team-quiz-btn','answered','content','เลือกและเริ่มสร้าง','width','lineJoin','leaderboard-quiz-tab-btn','close-additional-parallel-shortcuts-btn','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','ลำดับเลขคณิต\x20(AP)','<p><strong>คำตอบที่แนะนำ:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','global-quiz-search-input','ราชาคัมแบ็ก','กรุณาเลือกโปรเจคก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.shortcut-list-item','</p><p><strong>เฉลย:</strong>\x20','main-correct-answer-display','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-quiz-btn','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','div','NEGATIVE_INFINITY','การประยุกต์เวกเตอร์พื้นฐาน','พื้นที่ผิวรูปทรงสามมิติ','แบบทดสอบที่ติดดาว','modal-close-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20moving\x20quiz:','summary','generate-from-topic-btn','setItem','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','คัดลอกไม่สำเร็จ','shortcuts-loading-msg','readAsDataURL','confidenceMode','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','student-join-game-view','mean','q-text-','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','quick_thinker','Error\x20saving\x20parallel\x20shortcut\x20config:','createElementNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20custom\x20topic:','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','จำนวนข้อ:','confirm-game-start-btn','ไม่พบข้อมูลหัวข้อที่จะบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','solution','</div></div>','quiz-leaderboard-table','เกิดข้อผิดพลาดในการนำผู้เล่นออก','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-file-shortcut-tab-btn','\x20/\x20','quizMode','ดอกเบี้ยอย่างง่าย','quiz-editor-questions-container','\x22\x20name=\x22confidence','open-scratchpad-btn','options','warn','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','pointer-events-none','bulk-quiz-settings-btn','<span\x20class=\x22sort-indicator\x20ml-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','loader','sara','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','.delete-hidden-shortcut-btn','ai-quiz-app-aefee.firebasestorage.app','wasConfident','.delete-shortcut-btn','highlighter-tool-btn','blueprint.pdf','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','timer-duration-label','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','times','parallel-default-1','geq','blur','เส้นตรง:\x20ขนาน/ตั้งฉาก','</li>','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','verify-answers-editor-btn','fixedData','player-list-lobby','Error\x20displaying\x20blueprint\x20project:','shortcut-modal-title','removeEventListener','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','comparison-overall-content','.compare-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','wakeLock','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20joining\x20live\x20game:','เพิ่มปุ่มลัดใหม่','generate-from-link-btn','generated-quiz-actions','textContent','<option\x20value=\x22\x22>กำลังโหลด...</option>','execCommand','insertAdjacentHTML','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','button[type=\x22submit\x22]','<option\x20value=\x22','ความชันและเส้นตรง','.live-answer-btn','คณิตศาสตร์','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#E0E7FF','confirm-admin-login-btn','ผ่าน','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','bg-blue-100','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','parallel-shortcut-container','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','Blueprint\x201','\x20คะแนน\x20','COMEBACK_KING','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','temp-loader-results','globalCompositeOperation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','showInStudentDashboard','comeback_king','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-shortcut_','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','บทเรียนเรื่อง:\x20','referenceUrl','memoryContent','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','getAttributeNS','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','category','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','\x20ตอบ','closePath','ฟังก์ชันผกผัน','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','countdown-display','separate-by-content-checkbox','Error\x20linking\x20quizzes:','</span></div>','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','คะแนนยังไม่ถึงครึ่ง','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','1346385iWPUaw','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','sync-matching-select','split','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','admin-testing','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','modal-timer-duration-input','mouseup','log','confirm-manual-bp-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','badgesCount','numQuestions','fullscreenchange','.bp-create-topic-quiz-btn','confirmation-message','grabbing','teacherSuggestions','รากที่สองและที่สาม','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','1:274192258111:web:4120c9118229b5644dd48a','<button\x20data-id=\x22','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','\x20(p=','<p\x20class=\x22font-bold\x20text-sm\x20','bulk-confidence-scoring-checkbox','memory','Error\x20starting\x20group\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','selected-answer-index-hidden','visible','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','.draggable-text','url','parallel-shortcut-modal-title','.presentation-option','dfrac','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','/users/','padStart','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','<tr>','Failed\x20to\x20kick\x20player\x20','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','slice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','ระบบเลขและค่าประจำหลัก','overflowY','justification','date_desc','ไฟล์ทั้งหมด','showImproveButton','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Unexpected\x20API\x20response\x20structure:','dataIndex','date_asc','unshift','สร้างโปรเจคสำเร็จ!','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รหัสไม่ถูกต้อง','(เลือกแล้ว\x20','quiz-results','pointerType','<button\x20data-quiz-id=\x22','modal-adaptive-quiz-checkbox','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','.file-shortcut-btn[data-id=\x22','link-input-area','live-short-answer-input','เกิดข้อผิดพลาดในการแก้ไข','NUMBER','เกิดข้อผิดพลาดในการลบ','submissions','modal-message','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','lowerGroupResponders','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</p>','project-quizzes-list','.use-hidden-file-shortcut-btn','getBBox','value','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','นำแบบทดสอบออกจากคลังนี้แล้ว','.open-bp-project-btn','undefined','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.ideal-answer-input','bp-modal-quiz-type-select','student-progress-view','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','has','stopPropagation','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','กรุณาใส่ชื่อโปรเจค','presentation-slide-container','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','desc','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','difficultyValue','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','Error\x20comparing\x20results:','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','linkedQuizIds','กำลังอ่านไฟล์อ้างอิง...','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','isArray','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','disabled\x20bg-gray-400\x20cursor-not-allowed','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','source_document.pdf','checked','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','splice','Failed\x20to\x20resume\x20game\x20session:','ย้ายแบบทดสอบสำเร็จ','</th>','isRemedial','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','รีเซ็ตลำดับโปรเจคแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','th-TH','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-individual-content','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','project-name-input','เกิดข้อผิดพลาดในการลบแบบทดสอบ','\x22\x20data-name=\x22','pre-test-checkbox','.topic-selection-btn','list','ไม่พบข้อมูลข้อสอบหลังเรียน','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','height','#retake-for-improvement-btn','สร้างคำถามใหม่\x201\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','explanation','มุมพิเศษ\x2030°-60°-90°','ชนิดของข้อมูลและการเก็บข้อมูล','text-red-300\x20hover:text-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','comparison','</p><div>','export-lesson-pdf-btn','.bp-open-topic-bank-btn','</div><div\x20class=\x22space-y-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','map','ฟังก์ชันลอการิทึม','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','.project-card-content','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','data:application/vnd.ms-word;charset=utf-8,','interesting-stats-container','mjx-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','questions','.file-shortcut-tab-btn','checkbox','players','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','(หลังเรียน)\x20','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','application/json','bp-reference-file-url','[data-topic-id]','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','bar','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','จำนวนเต็มลบ','file-shortcut-name-input','.ai-content\x20h3','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','.png','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','กิจกรรมสิ้นสุดลงแล้ว','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','results-table-container','idealAnswer','ใช่\x20/\x20ถูก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fas\x20fa-user-edit','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','blueprint-topics-list','duration-300','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','answeredCurrentQuestion','\x20ตัวเลือก)','กรุณาเลือกไฟล์ก่อน','save','Error\x20saving\x20submission:','result','removeItem','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','line-through\x20text-red-700','จำนวนคู่:','resultsDisplay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','parallelShortcutTabs','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-file-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','print','match','.regenerate-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','cos','authed_project_','PERSEVERANCE','.answered','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic-tab','ส่งคำตอบ','text-red-600','scores','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','-tab-content','parallel-default-2','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','การลบทศนิยม','Error\x20starting\x20team\x20quiz:','Error\x20deleting\x20quiz:','แบบทดสอบนี้ปิดใช้งานอยู่','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','bulk-loop-until-pass-checkbox','พบ\x20Team\x20Quiz!','.generate-easy-version-btn','#open-additional-parallel-shortcuts-btn','choices_only','\x22\x20name=\x22drill_answer\x22\x20value=\x22',';\x22\x20data-id=\x22','\x5ccdot','file-topics-list-container','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gradeLevel','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','scrollIntoView','.bp-try-btn','empty','\x20คู่\x20','<p\x20class=\x22text-2xl\x22>','transparent','Leaderboard\x20update\x20transaction\x20failed:\x20','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','questionIndex','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(^|[^\x5c\x5c])\x5cb','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','จำนวนและการดำเนินการ','\x20คนที่ส่ง\x20ตอบถูก\x20(','passingScore','เพิ่มหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','highlighter-size-value','กำลังเตรียมไฟล์...','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','project-sort-select','Error\x20updating\x20project\x20name:','.topic-actions-edit','Error\x20verifying\x20answers\x20in\x20editor:','tfrac','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','student-name-selection-view','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','close-additional-shortcuts-btn','selectedTopicNames','GlobalWorkerOptions','game-pin-input','/public/data/quizzes','ร้อยละพื้นฐาน','hasOwnProperty','#F59E0B','pre-test','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','button','fill_in_the_blank','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','bulk-shuffle-select','.file-shortcut-btn','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','practiceProblems','lesson-view-modal','settings','Error\x20processing\x20file\x20shortcut\x20click:','offsetWidth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','bank-input-area','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','incorrect','863awkVhu','scale','bulk-quiz-settings-modal','\x22\x20class=\x22color-palette-btn\x20','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','</button>','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22','สร้างชุดคำถามจับคู่','แก้ไขข้อนี้','เนื้อหาสำหรับสอน:\x20','file-shortcuts-loading-msg','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','start-sync-game-btn','temp-loader-text-results','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','addEventListener','finishReason','bg-red-200\x20text-red-800','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-mode-select','bottom','.duplicate-quiz-btn','manage-tab-content','parallel-shortcut-name-input','สมการค่าสัมบูรณ์','ความสัมพันธ์ของมุม','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','touches','screen','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-bank-btn','short','student-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','ai-quiz-generator-v3','cancel-rename-quiz-btn','autoTable','/submissions','svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','-options\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','select','\x22\x20value=\x22true\x22\x20','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-200','summaryContent','bg-black/20','results-table','contentEditable','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','handleGenerateQuizFromBlueprintTopic','ไม่มีผู้ตอบตัวเลือกนี้','parseFromString','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','code','กำลังสร้างบทเรียน:\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','.shortcut-tab-btn','\x20ข้อ...','back-to-home-manual-release','เวกเตอร์และเมทริกซ์\x20(เสริม)','select[name=\x22question_single\x22]','teachingContent','bp-modal-difficulty-level-select','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','dashboardConfig','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบไฟล์\x20Test\x20Blueprint','quadraticCurveTo','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','<p><strong>คำตอบของคุณ:</strong>\x20','กฎบวกและกฎคูณ','Authentication\x20failed:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','neq','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','ลบแบบทดสอบสำเร็จแล้ว','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','274192258111','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','onkeydown','error','เส้นจำนวน','\x20รายการ\x20สำเร็จ!','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','student-progress-content','ไม่พบแบบทดสอบในระบบเลย','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','sum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-passcode-btn','nickname-input','label[for=\x22num-questions\x22]','SAFETY','confidence-scoring-checkbox','(ไม่มีชื่อ)','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-bulk-quiz-settings-btn','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','round','อนุพันธ์:\x20กฎลูกโซ่','confirm-link-quiz-btn','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','1733256VpMocJ','perfect_score','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ondragover','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','ส่วนเบี่ยงเบนมาตรฐาน','check-answer-btn','</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','force-math-checkbox','กำลังอ่านไฟล์\x20Test\x20Blueprint...','ยอดเยี่ยม','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','innerHTML','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','enable-passcode-checkbox','playerName','analytics-tab-content','modal-shuffle-select','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','change','not_generated','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','appendChild','projectId','อนุพันธ์:\x20กฎพื้นฐาน','ผลรวมอนุกรม\x20(Σ)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','Error\x20processing\x20shortcut\x20click:','minHeight','fill_in_no_choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','G-V90KRM0L63','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','click','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20quizzes\x20into\x20global\x20cache.','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','input[type=\x22checkbox\x22]','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','handleGenerateAndShowLesson','Error\x20generating\x20easy\x20version\x20quiz:','student-quiz-leaderboard-content','confidence-mode-select','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','PERFECT_SCORE','อัตราส่วนและสัดส่วน','เกี่ยวกับหัวข้อ\x20\x22','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','bank-quiz-list','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','ondrop','mouse','confidence-modal','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','Error\x20saving\x20file\x20shortcut:','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','</span></td>','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','now','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','แบบทดสอบฝึกฝนเรื่อง:\x20','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','เกิดข้อผิดพลาดในการสร้าง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','.topic-row','confidence-mode-container','Error\x20saving\x20reference\x20URL:','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','check-presentation-answer-btn','บันทึกการตั้งค่าแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','currentQuestionIndex','manual-create-blueprint-btn','Error\x20confirming\x20players\x20for\x20sync\x20game:','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','เกิดข้อผิดพลาด:\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','Error\x20updating\x20pin\x20status:','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20ก่อนสร้างเนื้อหาใดๆ\x20ให้อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','loader-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</div></div></div>','วงกลม:\x20คอร์ดและเส้นสัมผัส','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20saving\x20project\x20order:','Error\x20updating\x20custom\x20topic:','student-project-leaderboard-tab','includeImages','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','ondragstart','เกิดข้อผิดพลาด','Error\x20editing\x20topic:','แก้ไขสูตรคณิตศาสตร์\x20','ผู้เชี่ยวชาญ','<div\x20class=\x22loader\x20mx-auto\x22></div>','Error\x20deleting\x20all\x20students:','dblclick','move-quiz-modal','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','analytics-summary-cards','icon','การแปลงรูปอัตลักษณ์','passing-score-input','pathname','open-blueprint-projects-btn','ไม่ระบุ','projectView','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-leaderboard-pdf-btn','cancel-bp-settings-btn','ปริมาตร/ความจุและการแปลง','POST','questions_only','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','typesetPromise','2153370vRFIvt','rgba(239,\x2068,\x2068,\x200.9)','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','สำหรับโปรเจค:\x20','additional-shortcuts-modal','เรขาคณิต','\x20(สำหรับ\x20','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','confirm-passcode-btn','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','การบวกทศนิยม','text-input-area','player-count','save-project-name-btn','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','font-bold\x20text-green-700','.color-palette-popup','questionType','retake-quiz-loop-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20','reset-view-btn','leaderboard-tab-content','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','dimmed','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','top','lower_group_count','เงินงวด\x20(อนุกรมเงินงวด)','find','additional-file-shortcuts-list','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','show-leaderboard-btn','STRING','</tr>','auto-fix-latex-btn','passcode-error-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toDate','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','lesson-plan-title','applicationData','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','timer-container','/public/data/practiceBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','opacity-50','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','Error\x20listening\x20for\x20starred\x20quizzes:','.delete-svg-btn','global-quiz-count','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','\x20\x20\x20-\x20คำตอบ:\x20','#view-rankings-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','.application-options\x20button','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','every','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','tabId','Failed\x20to\x20generate\x20practice\x20test:','<i\x20class=\x22fas\x20fa-pen\x22></i>','analytics-tab-btn','redo-btn',',\x20r=','\x22,\x20','.edit-question-btn','\x20แบบทดสอบลงในคลังสำเร็จ!','สลับไปโหมดผู้ควบคุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','handleGeneratePracticeTest','\x22><span>','Error\x20duplicating\x20quiz:','ระยะเวลา\x20(วินาที):','เปิด\x20(จับเวลา)','#D1FAE5','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','bp-quiz-settings-btn','บันทึกผลการเล่นเกมของ\x20','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20pairing\x20quizzes:','.move-file-shortcut-dropdown','end-sync-game-btn','bg-yellow-50','wheel','fix-lesson-latex-btn','offset','Error\x20adding\x20custom\x20topic:','touchstart','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','สมการยกกำลัง','post-test','.correct-response-input','\x5ctimes','cancel-global-activity-btn','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','lineWidth','Error\x20joining\x20team\x20quiz:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-shortcut-container','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สอบปกติ','Error\x20in\x20generating\x20from\x20files:','การบวก','#10B981','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','เกมสิ้นสุดลงแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','contents','isLooping','delete-all-students-btn','สามเหลี่ยม\x20(ชนิด/สมบัติ)','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','admin-view','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','ตรวจทานเฉลยเสร็จสิ้น!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','whole_quiz','**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ข้อ\x20','open','text-yellow-300','admin-password-modal','2-digit','querySelectorAll','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','finished','ตารางความถี่','btn','คัดลอกแบบทดสอบสำเร็จ','สร้างใหม่','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','modal-confidence-scoring-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','/public/data/learnedFixes','close-comparison-modal-btn','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-200\x20text-green-800','Failed\x20to\x20end\x20group\x20mode\x20game:','px,\x20','<textarea\x20name=\x22question','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','bp-modal-num-choices','generationConfig','พื้นที่สี่เหลี่ยม','กำลังสร้างแบบทดสอบ\x20\x22','project-passcode-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','starred-project','multiply','text-red-800','ไม่พบโปรเจค','save-file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','.tab-name-input','download','เพิ่มรายการที่เลือก','fadeStartTime','ยืนยันการกระทำ','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','mode','.status','ไม่สามารถสร้างโปรเจคได้','presentation-explanation','bg-amber-100\x20text-amber-800','perseverance','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','อินเวอร์สของเมทริกซ์','lessonPlan','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','\x20mr-2\x22></i>','tooltipTarget','strokeStyle','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','แผนการสอน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','tGain','.move-file-shortcut-menu-btn','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','.topic-actions-view','password-error-msg','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','mousemove','blueprintUrl','topic-input-area','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','ปรับเพิ่ม/ลดเป็นร้อยละ','.mb-6.p-4','start-live-race-generated-btn','\x22\x20data-topic=\x22','text-gray-200','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','question','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','พาราโบลา','default-1','results-quiz-id-display','gain','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','questionDisplayedAt','ย้ายแบบทดสอบไปโปรเจคอื่น','lesson-view-title','ต้นฉบับทั้งหมด','\x22\x20name=\x22question_single\x22\x20value=\x22','set','เมทริกซ์:\x20บวก/คูณ','fa-user-astronaut\x20text-blue-700','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timerDuration','.edit-file-shortcut-btn','.topic-name-input','totalPoints','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','modal-loop-until-pass-checkbox','พื้นที่วงกลม/ส่วนของวงกลม','qIndex','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','q-explanation-','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','parallel-shortcuts-loading-msg','.edit-hidden-parallel-shortcut-btn','bp-modal-passing-score-input','<div\x20class=\x22answer-space\x22></div>','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันยกกำลัง','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','\x22\x20สำเร็จ','beginPath','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','far\x20fa-star','comparison-individual-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','(คัดลอก)\x20','project-list','showRankings','quiz-type-select','shortcut_','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','stroke','การแยกตัวประกอบ','ondblclick','teacherTips','pairedQuizId','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','Error\x20processing\x20parallel\x20shortcut\x20click:','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','.linkedQuizIds','.ideal-answer-input,\x20.correct-response-input','startTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','.csv','จำนวนเชิงซ้อน\x20(เสริม)','ไม่พบข้อมูลผู้ใช้','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','text-indigo-600','promptFeedback','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-test-upload-input','\x20\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบโปรเจค','MathJax\x20typeset\x20error\x20(analytics):','<div\x20class=\x22space-y-4\x22>','Error\x20saving\x20quiz:','className','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','กลุ่มของคุณ','pow','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','Error\x20confirming\x20players:','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','lesson-loader','scheduled_pending','quiz-bank-count','ผิด','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','order','file-shortcut-editor-modal','100px','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','.edit-quiz-btn','learningGaps','slide-counter','.sort-indicator','complexityValue',':</span><span>','flex','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','application/pdf','\x22\x20จำนวน\x20','shouldSaveResults','close-lesson-plan-modal-btn','shortcut-editor-modal','export-compact-pdf-btn','shortcut-id-input','sort','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.pen-color-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','file-topic-input','\x20คะแนน</span></div>','getScreenCTM','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','file-shortcut-modal-title','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','results_','/public/data/liveGames','พีชคณิตและฟังก์ชัน','สอบซ่อม','ยอดเยี่ยม!','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','#FEF3C7','input[type=\x22text\x22]','user','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','trail-tool-btn','ไม่พบตารางสำหรับ\x20Export','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','student-team-selection-view','\x22>ไม่ใช่</p>','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','scrollHeight','upperGroupNames','กรุณาเลือกโปรเจคปลายทาง','pointContent','แก้ไขหัวข้อสำเร็จ','.star-quiz-btn','kick-player-btn','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','แบบทดสอบจากคลังส่วนตัว','beforeend','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','bg-green-200\x20text-green-900','export-image-btn','gamePin','<p\x20class=\x22text-xl\x22>','editor-quiz-topic','Copy\x20command\x20failed','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','.generate-content-btn','สร้างคำถามแบบเติมคำในช่องว่าง','link-topic-input','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','\x20\x20\x20-\x20','.admin-try-quiz-list-btn','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบโปรเจคที่ต้องการลบ','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','project-title','บันทึกคำถามใหม่\x20','ใช่','dragover','mousedown','replace','scores-tab-btn','ลบโปรเจคสำเร็จแล้ว','forEach','$1\x20\x5cfrac','end-game-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','shortcut-reference-url-input','.move-shortcut-dropdown','<button\x20data-shortcut-id=\x22','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','%PDF','qType','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','แคลคูลัสเบื้องต้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','clearRect','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','dragend','gameData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22flex-1\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','checkAnswer','.ai-content\x20li','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/preferences/main','back-to-results-btn','Error\x20saving\x20parallel\x20shortcut:','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','progress-project-select','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','.linkedQuizId','confirm-rename-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>','visibilityState','Error\x20loading\x20blueprint\x20projects:','show_results_only','close-game-final-btn','ปุ่มลัดทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','screen_exit','กำลังสร้างรูปภาพ...','add','cancel-admin-login-btn','export-lesson-to-pdf-btn','ไม่พบข้อมูลโปรเจค','Error\x20saving\x20manual\x20blueprint\x20project:','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','ยกเลิกการจับคู่สำเร็จ','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','Error\x20fetching\x20lesson\x20content:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการลอการิทึม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','.verification-result','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','\x20</div>\x0a\x20\x20\x20\x20','ลิมิต','<li>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','presentation-scratchpad-btn','การนับ','\x22\x20ออกจากคลังนี้?','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','bulk-confidence-mode-container','short_answer','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','สถิติและความน่าจะเป็น','canvas','correct','.regenerate-question-editor-btn','copy-quiz-id-btn','shuffle','วงกลม:\x20สมการและสมบัติ','รายการนี้','questionId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','\x22\x20class=\x22pin-project-btn\x20','(ก่อนเรียน)','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','blueprint-projects-modal','show_pass_fail_only','):\x20','add-from-global-bank-btn','<div\x20id=\x22q-image-container-','กรุณาใส่ชื่อใหม่','.bp-edit-topic-btn','Blueprint\x20O-NET\x20ป.6','input[type=\x22radio\x22][value=\x22','scratchpad-question','ไม่ใช่','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','cancel-export-pdf-btn','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','.live-answer-btn,\x20#live-submit-short-answer-btn','\x0a\x20\x20\x20\x20\x20\x20</div>','\x22\x20สำเร็จ!','blueprint-topics-list-container','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','<tr><td\x20colspan=\x22','OBJECT','lesson-plan-modal','close-additional-file-shortcuts-btn','หยุดระบบจับเวลาหรี่หน้าจอ','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','min','save-quiz-edits-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-blue-100\x20text-blue-800','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','pointerup','keyConcepts','trail','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','#e21b3c','project-passcode-modal','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','หน่วยเวลาและการคำนวณเวลา','interesting-stats-wrapper','timer-duration-container','activeGameSession','isDefault','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','center','Error\x20adding\x20topic:','</strong></p>','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','lesson-loader-text','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','.move-parallel-shortcut-item','applicationContent','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','rgba(79,\x2070,\x20229,\x200.8)','เพิ่มปุ่มลัดจากไฟล์ใหม่','Error\x20fetching\x20project\x20quizzes:','.question-editor-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','number','classList','มุมพิเศษ\x2045°-45°-90°','game-start-quiz-id','shortcuts','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','parallel-default-','closest','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','scratchpad-controls','responses','game-start-modal-title','status','กำลังสร้างแบบทดสอบจากหัวข้อ...','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','commonMistakes','Error\x20updating\x20old\x20quizzes:','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','Error\x20deleting\x20shortcut:','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','กำลังอ่านและเตรียมไฟล์...','moveTo','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','none','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelector','student-initial-view','destination-out','length','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','projectOrder','.copy-quiz-id-list-btn','keys','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','จากไฟล์ที่แนบมานี้,\x20','default','back-to-student-initial-btn','values','scratchpad-close-btn','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','applicationHTML','บันทึกการตั้งค่าการแสดงผลสำเร็จ','join','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','file.txt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','application','กำลังค้นหากิจกรรม...','ยกเลิกการเชื่อมโยงสำเร็จ','stdDev','.delete-bp-project-btn','results-tab-content','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','add-file-shortcut-tab-btn','confirm-team-players-btn','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','.move-parallel-shortcut-menu-btn','generate-from-blueprint-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','timer-duration-input','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','topic-bank-list','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ตรวจคะแนนใหม่\x20','text-green-700\x20bg-green-100','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','แก้ไขปุ่มลัด','dispatchEvent','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','.generate-lesson-btn','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','include-images-checkbox','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.pair-quiz-btn','รอ...','points','scratchpad-options','substr','\x20link(s)\x20for\x20quiz\x20ID:\x20','scratchpad-canvas','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','docs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','Error\x20unpairing\x20quizzes:','insertBefore','API\x20Error\x20Body:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','จับคู่แบบทดสอบสำเร็จ!','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','parent','toDataURL','p-2\x20bg-black/10\x20rounded-md','เกิดข้อผิดพลาดในการบันทึก','#ffffff','confidence_single','join-group-activity-btn','<button\x20id=\x22','document','text-red-500\x20hover:text-red-700','text-gray-300\x20hover:text-white','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','submittedAt','Error\x20starting\x20live\x20race:','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','พิสัย','hint','score-distribution-chart','<option>กำลังโหลดโปรเจค...</option>','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','behaviorLog','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','indexOf','grid-view-btn','presentation-short-answer-input','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','\x20ชุด)','txt','frac','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','deltaY','.confidence-choice-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','\x20in\x20all\x20blueprint\x20projects.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-results-table-body','\x22>ใช่</p>','add-shortcut-btn','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','cursor','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','color','\x22\x20data-target-tab-id=\x22','binom','.bp-create-content-quiz-btn','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','.unpair-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','additional-shortcuts-list','เกิดข้อผิดพลาดในการอ่านไฟล์','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','correctAnswerIndex','leaderboard-quiz-tab-content','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','answers','bp-modal-question-complexity-select','export-excel-btn','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','file-input-area','cancel-move-quiz-btn','สุดยอด!\x20ตอบถูกทุกข้อ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','starred','score','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bp-modal-num-questions','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','highlighter-tools-group','parseInline','commit','modal-timer-duration-container','results-quiz-title','jspdf','หน่วยความยาวและการแปลง',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','answering','ดีมาก','comparison-modal','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีคำอธิบาย','all','ฟังก์ชันแบบชิ้นส่วน','เกิดข้อผิดพลาดในการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','เกิดข้อผิดพลาดในการเข้าร่วมเกม','project-search-input','postTScore','groups.','correctResponse','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','save-blueprint-as-project-btn','file-default-2','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','text-indigo-700','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','lesson-view-content','topic-bank-subtopic-name','Error\x20unlinking\x20quiz:','\x20กลุ่ม</p></div>','Error\x20showing\x20quiz\x20detail\x20view:','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','specialist','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','team','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','backgroundColor','.shortcut-list-item:not(.opacity-50)','shadowBlur','ฟังก์ชันพหุนาม','bestScore','\x20สำเร็จ','source_document.txt','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fix\x20the\x20option','isScored','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','additional-file-shortcuts-modal','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','\x22...','Error\x20updating\x20quiz\x20status:','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','.isScored','.view-bp-lesson-btn','#6366F1','answerText','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-rocket\x20text-purple-500','blockReason','\x20ข้อ\x20','focus','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','delete','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','analytics','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','parts','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','AI\x20Formula\x20Fix\x20Error:','highlighter','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','font-bold\x20text-red-700\x20line-through','option','rename-quiz-modal','จากเนื้อหาต่อไปนี้:\x20\x22','show-in-student-dashboard-checkbox','pointerdown','toFixed','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','earned-badges-container','00:00','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','_opt0\x22\x20name=\x22question','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','.pointsLastQuestion','sync','fileShortcutsConfig','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','latestScore','cancel-manual-bp-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','students','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','border-indigo-400\x20ring-2\x20ring-indigo-200','bg-blue-500\x20hover:bg-blue-600\x20text-white','cancel-shortcut-edit-btn','ฮิสโตแกรม','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','separate-by-content-from-file-checkbox','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','devicePixelRatio','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','confirmation-modal','next-question-btn','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','sin','แก้ระบบสมการด้วยเมทริกซ์','<br>','</a>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','export-pdf-modal','toString','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span><span\x20class=\x22font-bold\x22>','cancel-delete-btn','ร้อยละประยุกต์','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','.lastAnswerValue','.flex.justify-between.items-center','Sync\x20Mode','hidden','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','quizType','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','รอเปิด','สลับไปโหมดนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','</form>','พิมพ์ตอบ','onerror','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','files','ไม่สามารถโหลดข้อมูลอันดับได้','analyze-strengths-btn','API\x20call\x20failed\x20with\x20status:\x20','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','bg-green-500\x20hover:bg-green-600\x20text-white','quiz-status-modal','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','การบวกเศษส่วน','.ai-content\x20td','element','$$$1$','.delete-custom-topic-btn','create-project-btn','คะแนน','</tbody></table></div>','topic','text-tab','test','ไฟล์ลัด\x202','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','per-question-options','fa-bolt\x20text-blue-500','back-to-project-btn','upper_group_count','sync-player-list','text-gray-400\x20hover:text-indigo-600','/public/data/projects/','isStarred','ความต่อเนื่อง','3155747ESQYoC','อสมการเชิงเส้น','\x22\x20value=\x22','กำลังจับคู่...','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','.pdf','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','ต้นฉบับ\x202','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','\x20|\x20','touch','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','mixed','scrollX','sqrt','lesson-sections-container','pinned-items','label','<div>','description','อสมการค่าสัมบูรณ์','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','lowerGroupNames','</p></div>','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','ดูผลสรุปสุดท้าย','modal-timer-duration-label','reveal-answer-btn','ไฮเพอร์โบลา'];_0x49b7=function(){return _0x45c300;};return _0x49b7();}function activateFileInputAreaWithLoadedFile(){const _0x479fe0=_0x487f42,_0x80a2b5=document[_0x479fe0(0x40a)]('generate-from-file-btn'),_0x17d6f3=document[_0x479fe0(0x40a)](_0x479fe0(0x784)),_0x1014ec=document['getElementById'](_0x479fe0(0xbf4));selectedFile?_0x1014ec['checked']?(_0x80a2b5['disabled']=!![],analyzeFileForTopics(selectedFile)):(_0x80a2b5['disabled']=![],_0x17d6f3[_0x479fe0(0xad3)][_0x479fe0(0xa6b)](_0x479fe0(0xc0c))):(_0x80a2b5['disabled']=!![],_0x17d6f3[_0x479fe0(0xad3)][_0x479fe0(0xa6b)](_0x479fe0(0xc0c)));}async function handleKickPlayerSync(_0x53037a){const _0x2a7db4=_0x487f42;if(!currentLiveGameId||!_0x53037a)return;const _0x385c1f=doc(db,_0x2a7db4(0x5c6)+appId+_0x2a7db4(0x314),currentLiveGameId),_0x43230b={};_0x43230b[_0x2a7db4(0x370)+_0x53037a+_0x2a7db4(0x96a)]=_0x2a7db4(0x479);try{await updateDoc(_0x385c1f,_0x43230b);}catch(_0x55b32e){console[_0x2a7db4(0x81d)](_0x2a7db4(0x6a4)+_0x53037a+'\x20from\x20sync\x20game:',_0x55b32e),showMessage(_0x2a7db4(0x60b));}}async function renderStudentProgressDashboard(_0x36bde1,_0x56198d){const _0x210255=_0x487f42,_0x4cce9d=document[_0x210255(0x40a)]('student-progress-content');_0x4cce9d[_0x210255(0x843)]=_0x210255(0x89d);try{const _0x4e836a=collection(db,_0x210255(0x5c6)+appId+'/public/data/quizzes'),_0x138c46=query(_0x4e836a,where(_0x210255(0x84e),'==',_0x36bde1)),_0x24b2f8=await getDocs(_0x138c46),_0x98ab2d=_0x24b2f8[_0x210255(0xb2e)][_0x210255(0x71d)](_0x18ecf9=>({'id':_0x18ecf9['id'],..._0x18ecf9[_0x210255(0x225)]()})),_0x1c52fb=_0x98ab2d[_0x210255(0x71d)](_0x2c459c=>getDoc(doc(db,_0x210255(0x5c6)+appId+_0x210255(0xcef)+_0x2c459c['id']+'/submissions',_0x56198d))),_0x340d22=await Promise['all'](_0x1c52fb),_0x26bf4f=_0x340d22[_0x210255(0x24b)](_0x1eeb10=>_0x1eeb10[_0x210255(0xd6a)]())[_0x210255(0x71d)](_0x1ed19b=>({'quizId':_0x1ed19b[_0x210255(0x301)][_0x210255(0xb37)][_0x210255(0xb37)]['id'],..._0x1ed19b[_0x210255(0x225)]()}));if(_0x26bf4f['length']===0x0){_0x4cce9d['innerHTML']=_0x210255(0xb50);return;}let _0x28775d=_0x210255(0x9d8);_0x26bf4f['forEach'](_0x3f7503=>{const _0x173c74=_0x210255,_0x363fb6=_0x98ab2d[_0x173c74(0x8d2)](_0x929003=>_0x929003['id']===_0x3f7503['quizId']),_0x484901=_0x363fb6[_0x173c74(0x7ba)]?.[_0x173c74(0x758)]||_0x173c74(0x37c),_0x1b13e6=_0x363fb6[_0x173c74(0x7ba)]?.[_0x173c74(0x797)]??0x0,_0x1cd350=_0x3f7503['bestScore']>=_0x1b13e6;let _0x3fd0ff='',_0x6ea7bb='bg-gray-50';switch(_0x484901){case'show_results_and_answers':case _0x173c74(0xa65):_0x6ea7bb=_0x1cd350?_0x173c74(0x2a8):_0x173c74(0x375),_0x3fd0ff=_0x173c74(0xb5b)+(_0x1cd350?'text-green-700':'text-red-700')+'\x22>'+_0x3f7503[_0x173c74(0xbaf)]+_0x173c74(0x60e)+_0x3f7503[_0x173c74(0xc9b)]+_0x173c74(0xcc8)+(_0x1cd350?'bg-green-200\x20text-green-800':_0x173c74(0x7d6))+'\x22>'+(_0x1cd350?_0x173c74(0x64f):_0x173c74(0x517))+_0x173c74(0x241);break;case _0x173c74(0xa96):_0x6ea7bb=_0x1cd350?_0x173c74(0x2a8):_0x173c74(0x375),_0x3fd0ff=_0x173c74(0x51b)+(_0x1cd350?_0x173c74(0x951):_0x173c74(0x7d6))+'\x22>'+(_0x1cd350?'ผ่าน':'ไม่ผ่าน')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x173c74(0x3ee):_0x6ea7bb=_0x173c74(0x90d),_0x3fd0ff=_0x173c74(0x350);break;}_0x28775d+=_0x173c74(0x6ff)+_0x6ea7bb+_0x173c74(0x25b)+_0x363fb6[_0x173c74(0xc30)]+_0x173c74(0x88c)+_0x3f7503[_0x173c74(0x501)][_0x173c74(0xaf2)]+_0x173c74(0xbf2)+new Date(_0x3f7503['latestSubmittedAt'])[_0x173c74(0xd73)]('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3fd0ff+_0x173c74(0x7ef);}),_0x28775d+=_0x210255(0xcc7),_0x4cce9d['innerHTML']=_0x28775d;}catch(_0x142025){console[_0x210255(0x81d)]('Error\x20rendering\x20student\x20progress:',_0x142025),_0x4cce9d['innerHTML']=_0x210255(0x628);}}function renderQuizBankListForMultiSelect(_0xe092f2=''){const _0x43120e=_0x487f42,_0x254f44=document['getElementById'](_0x43120e(0x868)),_0x3e88e6=_0xe092f2['toLowerCase']()[_0x43120e(0x1fb)](),_0x41563e=allQuizzesGlobal[_0x43120e(0x71d)](_0xab118b=>({..._0xab118b,'projectName':allProjects[_0x43120e(0x8d2)](_0x19ca30=>_0x19ca30['id']===_0xab118b['projectId'])?.[_0x43120e(0x21b)]||'N/A'}))[_0x43120e(0x24b)](_0x2e8869=>(_0x2e8869[_0x43120e(0xc30)]||'')[_0x43120e(0x47c)]()['includes'](_0x3e88e6)||(_0x2e8869[_0x43120e(0x21b)]||'')['toLowerCase']()['includes'](_0x3e88e6)||_0x2e8869['id'][_0x43120e(0xc03)]()[_0x43120e(0x2a9)](_0x3e88e6));_0x254f44['innerHTML']=_0x41563e[_0x43120e(0xaf2)]?_0x41563e[_0x43120e(0x71d)](_0x59fc78=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x59fc78['id']+_0x43120e(0x2e6)+(_0x59fc78['topic']||_0x43120e(0x82b))+_0x43120e(0x5e0)+_0x59fc78[_0x43120e(0x21b)]+_0x43120e(0x49e)+_0x59fc78['id']+_0x43120e(0x217))['join'](''):_0x43120e(0x558),_0x254f44['onchange']=()=>{const _0x476ac5=_0x43120e,_0x284344=document['querySelector']('.quiz-bank-checkbox:checked');document[_0x476ac5(0x40a)](_0x476ac5(0x832))[_0x476ac5(0x4c2)]=!_0x284344;};}function setupStudentProgressListeners(){const _0x2f826d=_0x487f42;document[_0x2f826d(0x40a)]('view-my-progress-btn')[_0x2f826d(0x7d4)](_0x2f826d(0x859),showStudentProgressView),document[_0x2f826d(0x40a)]('back-to-student-home-btn')['addEventListener']('click',()=>{const _0x2e16c3=_0x2f826d;document[_0x2e16c3(0x40a)](_0x2e16c3(0x6d8))[_0x2e16c3(0xad3)][_0x2e16c3(0xa6b)](_0x2e16c3(0xc0c)),document[_0x2e16c3(0x40a)](_0x2e16c3(0xaf0))[_0x2e16c3(0xad3)][_0x2e16c3(0x432)](_0x2e16c3(0xc0c));});}async function startSkillPractice(_0x158ef5){const _0x3fd8c5=_0x487f42;studentResultArea[_0x3fd8c5(0xad3)]['add'](_0x3fd8c5(0xc0c)),studentQuizArea[_0x3fd8c5(0x843)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x3fd8c5(0xad3)][_0x3fd8c5(0x432)]('hidden');try{const _0x1765e6=await getStandardizedTopic(_0x158ef5);console[_0x3fd8c5(0x681)](_0x3fd8c5(0x5bc)+_0x158ef5+_0x3fd8c5(0x2c4)+_0x1765e6+'\x22'),studentQuizArea['querySelector']('p')[_0x3fd8c5(0x642)]=_0x3fd8c5(0x94f)+_0x1765e6+_0x3fd8c5(0xbb8);const _0x1b1645=collection(db,_0x3fd8c5(0x5c6)+appId+_0x3fd8c5(0x8e3)),_0x5b8e09=query(_0x1b1645,where(_0x3fd8c5(0xc30),'==',_0x1765e6)),_0x31777e=await getDocs(_0x5b8e09);if(_0x31777e[_0x3fd8c5(0xb2e)]['length']>=0x3){console['log']('พบข้อสอบ\x20'+_0x31777e[_0x3fd8c5(0xb2e)][_0x3fd8c5(0xaf2)]+_0x3fd8c5(0xd77)+_0x1765e6+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x2d4a53=_0x31777e[_0x3fd8c5(0xb2e)][_0x3fd8c5(0x71d)](_0x705953=>_0x705953[_0x3fd8c5(0x225)]());shuffleArray(_0x2d4a53);const _0x495300={'topic':_0x1765e6,'questions':_0x2d4a53[_0x3fd8c5(0x6a6)](0x0,0x3)};displaySkillPracticeDrill(_0x495300);}else{console[_0x3fd8c5(0x681)](_0x3fd8c5(0x9c3)+_0x1765e6+_0x3fd8c5(0xb23));const _0x42772c=await generatePracticeQuestions(_0x1765e6);await saveDrillToPracticeBank(_0x42772c,_0x1765e6),displaySkillPracticeDrill(_0x42772c);}}catch(_0x21d343){console[_0x3fd8c5(0x81d)](_0x3fd8c5(0x833),_0x21d343),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea[_0x3fd8c5(0xad3)][_0x3fd8c5(0xa6b)]('hidden'),studentResultArea[_0x3fd8c5(0xad3)]['remove'](_0x3fd8c5(0xc0c));}}async function saveDrillToPracticeBank(_0x3581fe,_0x318acd){const _0x1830d2=_0x487f42,_0x3ab9ea=collection(db,'artifacts/'+appId+_0x1830d2(0x8e3)),_0xbdc3b=writeBatch(db);_0x3581fe[_0x1830d2(0x726)][_0x1830d2(0xa40)](_0x161687=>{const _0x3bece7=_0x1830d2,_0x40b51d=doc(_0x3ab9ea);_0xbdc3b['set'](_0x40b51d,{'topic':_0x318acd,'questionText':_0x161687[_0x3bece7(0x467)],'options':_0x161687[_0x3bece7(0x614)],'correctAnswerIndex':_0x161687[_0x3bece7(0xb6f)],'explanation':_0x161687[_0x3bece7(0x712)],'createdAt':serverTimestamp()});});try{await _0xbdc3b[_0x1830d2(0xb82)](),console[_0x1830d2(0x681)](_0x1830d2(0xa39)+_0x3581fe[_0x1830d2(0x726)][_0x1830d2(0xaf2)]+_0x1830d2(0xc15));}catch(_0x5b04cf){console[_0x1830d2(0x81d)](_0x1830d2(0xc66),_0x5b04cf);}}async function getStandardizedTopic(_0x2ec8f3){const _0x16ec4d=_0x487f42,_0x58bf63=_0x16ec4d(0x95b)+_0x2ec8f3+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x3766d3={'type':_0x16ec4d(0xaaa),'properties':{'standardTopic':{'type':_0x16ec4d(0x8d7)}},'required':[_0x16ec4d(0x52d)]};try{const _0x306032=await callAnalysisApi(_0x58bf63,_0x3766d3);return _0x306032[_0x16ec4d(0x52d)];}catch(_0x388c67){return console[_0x16ec4d(0x81d)](_0x16ec4d(0x424),_0x388c67),_0x2ec8f3;}}async function handleGenerateEasyVersionQuiz(_0x1b33ef){const _0x5b8c6d=_0x487f42,_0x34614e=document['getElementById'](_0x5b8c6d(0xb0a)),_0x39b1b8=document['getElementById']('project-quizzes-list');_0x39b1b8[_0x5b8c6d(0xad3)][_0x5b8c6d(0xa6b)](_0x5b8c6d(0xc0c));const _0x361094=_0x5b8c6d(0xc8a);_0x34614e[_0x5b8c6d(0x645)]('beforeend',_0x361094);try{const _0x151102=allQuizzes[_0x5b8c6d(0x8d2)](_0x4c96c2=>_0x4c96c2['id']===_0x1b33ef);if(!_0x151102)throw new Error(_0x5b8c6d(0x2bf));const _0x43934d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON['stringify'](_0x151102[_0x5b8c6d(0x726)])+_0x5b8c6d(0x508),_0x28b5c2={'type':'OBJECT','properties':{'questionText':{'type':_0x5b8c6d(0x8d7)},'questionType':{'type':_0x5b8c6d(0x8d7)},'options':{'type':_0x5b8c6d(0x22b),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5b8c6d(0x6c0)},'idealAnswer':{'type':_0x5b8c6d(0x8d7)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x5b8c6d(0x467),_0x5b8c6d(0x8c6),_0x5b8c6d(0x712)]},_0x423256={'type':_0x5b8c6d(0xaaa),'properties':{'questions':{'type':_0x5b8c6d(0x22b),'items':_0x28b5c2}},'required':['questions']},_0x502c5a=await callAnalysisApi(_0x43934d,_0x423256);_0x502c5a&&_0x502c5a['questions']&&_0x502c5a[_0x5b8c6d(0x726)][_0x5b8c6d(0xa40)](_0x21ffe0=>{const _0x4b4f70=_0x5b8c6d;if(_0x21ffe0[_0x4b4f70(0x7ae)](_0x4b4f70(0x41c))){const _0xd8ffa7=String(_0x21ffe0[_0x4b4f70(0x41c)])[_0x4b4f70(0x1fb)]();(_0xd8ffa7===''||_0xd8ffa7[_0x4b4f70(0x47c)]()===_0x4b4f70(0x232)||!_0xd8ffa7[_0x4b4f70(0xd86)]('<svg'))&&delete _0x21ffe0[_0x4b4f70(0x41c)];}});if(!_0x502c5a||!_0x502c5a[_0x5b8c6d(0x726)]||_0x502c5a[_0x5b8c6d(0x726)][_0x5b8c6d(0xaf2)]===0x0)throw new Error(_0x5b8c6d(0x334));const _0x934cb7=_0x502c5a[_0x5b8c6d(0x726)][_0x5b8c6d(0x71d)]((_0x2aa8ea,_0x13c319)=>({..._0x2aa8ea,'id':'q_'+Date[_0x5b8c6d(0x875)]()+'_'+_0x13c319})),_0x134c9a={'projectId':_0x151102[_0x5b8c6d(0x84e)],'quizType':_0x151102[_0x5b8c6d(0xc13)],'settings':_0x151102['settings'],'createdBy':_0x151102[_0x5b8c6d(0x5c7)],'status':_0x5b8c6d(0xd29),'topic':'(ฉบับง่าย)\x20'+_0x151102[_0x5b8c6d(0xc30)],'questions':_0x934cb7,'createdAt':new Date()['toISOString'](),'quizMode':'standard','pairedQuizId':null};let _0x592883;while(!![]){_0x592883=Math[_0x5b8c6d(0xce5)](0x3e8+Math['random']()*0x2328)[_0x5b8c6d(0xc03)]();const _0x257126=await getDoc(doc(db,_0x5b8c6d(0x5c6)+appId+_0x5b8c6d(0x7ac),_0x592883));if(!_0x257126[_0x5b8c6d(0xd6a)]())break;}await setDoc(doc(db,_0x5b8c6d(0x5c6)+appId+_0x5b8c6d(0x7ac),_0x592883),_0x134c9a),showMessage(_0x5b8c6d(0xcf2));}catch(_0x5343e0){console['error'](_0x5b8c6d(0x860),_0x5343e0),showMessage(_0x5b8c6d(0x888)+_0x5343e0['message']);}finally{const _0x2970f9=document[_0x5b8c6d(0x40a)]('temp-loader-results');_0x2970f9&&_0x2970f9[_0x5b8c6d(0x432)](),_0x39b1b8[_0x5b8c6d(0xad3)][_0x5b8c6d(0x432)](_0x5b8c6d(0xc0c));}}async function generatePracticeQuestions(_0x5b877b){const _0x262498=_0x487f42,_0x4199f7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x5b877b+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x262498(0x388),_0x4e98a3={'type':_0x262498(0xaaa),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x262498(0x22b),'items':{'type':_0x262498(0x8d7)}},'correctAnswerIndex':{'type':_0x262498(0x6c0)},'explanation':{'type':'STRING'}},'required':['questionText',_0x262498(0x614),_0x262498(0xb6f),_0x262498(0x712)]},_0x1d19d0={'type':'OBJECT','properties':{'topic':{'type':_0x262498(0x8d7)},'questions':{'type':_0x262498(0x22b),'items':_0x4e98a3}},'required':['topic',_0x262498(0x726)]};return await callAnalysisApi(_0x4199f7,_0x1d19d0);}function displayLessonPlan(_0x2ab461,_0x6de949){const _0x417535=_0x487f42,_0xdcda00='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x6de949[_0x417535(0xc30)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x2ab461['learningGaps'][_0x417535(0x71d)](_0x43ebf0=>_0x417535(0xa7d)+_0x43ebf0+_0x417535(0x62f))[_0x417535(0xb00)]('')+_0x417535(0x2ab)+_0x2ab461[_0x417535(0x80a)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x2ab461['practiceProblems'][_0x417535(0x71d)](_0x531072=>_0x417535(0x460)+_0x531072['question']+'</p><p><strong>เฉลย:</strong>\x20'+_0x531072[_0x417535(0x608)]+_0x417535(0xc5c))['join']('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x417535(0x40a)](_0x417535(0x8de))[_0x417535(0x642)]=_0x417535(0x978)+_0x6de949[_0x417535(0xc30)],document[_0x417535(0x40a)](_0x417535(0x30a))[_0x417535(0x843)]=_0xdcda00,document['getElementById'](_0x417535(0xaab))[_0x417535(0xad3)]['remove']('hidden');if(window['MathJax'])MathJax[_0x417535(0x8b2)]();}function displaySkillPracticeDrill(_0x1dabe6){const _0x4b03f9=_0x487f42;let _0x4fdb9f=0x0;const _0x2ac657=_0x1dabe6[_0x4b03f9(0x726)],_0x59d076=()=>{const _0x406e48=_0x4b03f9,_0x29c7e9=_0x2ac657[_0x4fdb9f],_0x19101d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x4fdb9f+0x1)+_0x406e48(0x60e)+_0x2ac657[_0x406e48(0xaf2)]+_0x406e48(0xa2e)+_0x29c7e9[_0x406e48(0x467)]+_0x406e48(0xbbf)+_0x29c7e9['options'][_0x406e48(0x71d)]((_0x48822a,_0x2746d8)=>_0x406e48(0xcbd)+_0x2746d8+_0x406e48(0x781)+_0x2746d8+_0x406e48(0x5f0)+_0x2746d8+'\x22>'+_0x48822a+_0x406e48(0x2d8))[_0x406e48(0xb00)]('')+_0x406e48(0xd34);studentQuizArea[_0x406e48(0x843)]=_0x19101d;if(window['MathJax'])MathJax[_0x406e48(0x8b2)]([studentQuizArea]);document[_0x406e48(0x40a)](_0x406e48(0x4f0))['addEventListener'](_0x406e48(0x859),async()=>{const _0x163288=_0x406e48,_0x465f71=await getHintForQuestion(_0x29c7e9[_0x163288(0x467)]);showMessage(_0x465f71);}),document[_0x406e48(0x40a)](_0x406e48(0x83a))[_0x406e48(0x7d4)](_0x406e48(0x859),()=>{const _0x5950b8=_0x406e48,_0x23ae13=document[_0x5950b8(0xaef)]('input[name=\x22drill_answer\x22]:checked');if(!_0x23ae13){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x22d5b4=document[_0x5950b8(0x40a)](_0x5950b8(0x4b5)),_0x13ee4e=parseInt(_0x23ae13[_0x5950b8(0x6cb)])===_0x29c7e9['correctAnswerIndex'];_0x13ee4e?(_0x22d5b4[_0x5950b8(0x9da)]=_0x5950b8(0x739),_0x22d5b4['innerHTML']=_0x5950b8(0x4bb)+_0x29c7e9[_0x5950b8(0x712)]):(_0x22d5b4[_0x5950b8(0x9da)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x22d5b4[_0x5950b8(0x843)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x29c7e9[_0x5950b8(0x712)]);_0x22d5b4['classList'][_0x5950b8(0x432)](_0x5950b8(0xc0c));if(window['MathJax'])MathJax['typesetPromise']([_0x22d5b4]);document[_0x5950b8(0x40a)](_0x5950b8(0x83a))[_0x5950b8(0xad3)][_0x5950b8(0xa6b)](_0x5950b8(0xc0c)),document[_0x5950b8(0x40a)](_0x5950b8(0x4f0))[_0x5950b8(0xad3)][_0x5950b8(0xa6b)](_0x5950b8(0xc0c)),document[_0x5950b8(0x40a)]('next-drill-btn')[_0x5950b8(0xad3)]['remove'](_0x5950b8(0xc0c));}),document['getElementById'](_0x406e48(0x583))['addEventListener'](_0x406e48(0x859),()=>{const _0x5a0d5c=_0x406e48;_0x4fdb9f++,_0x4fdb9f<_0x2ac657['length']?_0x59d076():(studentQuizArea[_0x5a0d5c(0x843)]=_0x5a0d5c(0x748),document['getElementById'](_0x5a0d5c(0xa59))[_0x5a0d5c(0x7d4)](_0x5a0d5c(0x859),()=>{const _0x2a3dff=_0x5a0d5c;studentQuizArea[_0x2a3dff(0xad3)][_0x2a3dff(0xa6b)](_0x2a3dff(0xc0c)),studentResultArea[_0x2a3dff(0xad3)][_0x2a3dff(0x432)](_0x2a3dff(0xc0c));}));});};_0x59d076();}async function getHintForQuestion(_0x10e456){const _0x3ef744=_0x487f42,_0x37b4b0=_0x3ef744(0x39e)+_0x10e456+_0x3ef744(0x267),_0x5269c3={'type':_0x3ef744(0xaaa),'properties':{'hint':{'type':_0x3ef744(0x8d7)}},'required':['hint']};try{const _0x14c8b0=await callAnalysisApi(_0x37b4b0,_0x5269c3);return _0x14c8b0[_0x3ef744(0xb47)];}catch(_0x24d600){return console[_0x3ef744(0x81d)]('Failed\x20to\x20get\x20hint:',_0x24d600),_0x3ef744(0xb14);}}async function extractTextFromPdf(_0x1c2050){const _0xacbe07=_0x487f42;pdfjsLib[_0xacbe07(0x7aa)]['workerSrc']=_0xacbe07(0x78f);const _0xf356ca=await _0x1c2050[_0xacbe07(0x358)](),_0x41c491=await pdfjsLib[_0xacbe07(0xd20)](_0xf356ca)['promise'],_0x1f5d99=_0x41c491[_0xacbe07(0x283)];let _0x5c813d='';for(let _0x6b3243=0x1;_0x6b3243<=_0x1f5d99;_0x6b3243++){const _0x404edb=await _0x41c491[_0xacbe07(0x3fd)](_0x6b3243),_0x5ede69=await _0x404edb[_0xacbe07(0x2b4)](),_0x338292=_0x5ede69[_0xacbe07(0x2f9)][_0xacbe07(0x71d)](_0x222359=>_0x222359['str'])['join']('\x20');_0x5c813d+=_0x338292+'\x0a\x0a';}return _0x5c813d;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x59bb51){const _0x2cfef2=_0x487f42,_0x5adce0=document[_0x2cfef2(0x40a)](_0x2cfef2(0x546)),_0x63854b=document['getElementById']('blueprint-topics-list'),_0x555fd0=document[_0x2cfef2(0x40a)](_0x2cfef2(0xb9a));_0x5adce0[_0x2cfef2(0xad3)][_0x2cfef2(0x432)]('hidden'),_0x63854b[_0x2cfef2(0x843)]=_0x2cfef2(0x3a4),_0x555fd0[_0x2cfef2(0xad3)][_0x2cfef2(0xa6b)](_0x2cfef2(0xc0c));try{const _0x5c9611='วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22'+_0x59bb51+'\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27',_0x1be76f={'type':'OBJECT','properties':{'gradeLevel':{'type':_0x2cfef2(0x8d7)},'curriculum':{'type':_0x2cfef2(0x22b),'items':{'type':_0x2cfef2(0xaaa),'properties':{'sara':{'type':_0x2cfef2(0x8d7)},'mainTopics':{'type':'ARRAY','items':{'type':_0x2cfef2(0xaaa),'properties':{'topicName':{'type':_0x2cfef2(0x8d7)},'subTopics':{'type':_0x2cfef2(0x22b),'items':{'type':'STRING'}}},'required':[_0x2cfef2(0xd82),_0x2cfef2(0x3e9)]}}},'required':[_0x2cfef2(0x61d),_0x2cfef2(0xd8b)]}}},'required':['gradeLevel',_0x2cfef2(0x524)]},_0x2edf51=await callAnalysisApi(_0x5c9611,_0x1be76f);if(_0x2edf51&&_0x2edf51['curriculum'])extractedBlueprintData=_0x2edf51,renderBlueprintTopics(_0x2edf51),_0x555fd0['classList'][_0x2cfef2(0x432)]('hidden');else throw new Error(_0x2cfef2(0xbc6));}catch(_0x506dae){console[_0x2cfef2(0x81d)](_0x2cfef2(0xd88),_0x506dae),_0x63854b['innerHTML']=_0x2cfef2(0xbcb);}}function renderBlueprintTopics(_0x510073){const _0x266c49=_0x487f42,_0x3f70c2=document['getElementById'](_0x266c49(0x745)),_0x2cd281=_0x510073[_0x266c49(0x786)],_0x2808be='<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20'+_0x2cd281+_0x266c49(0xa62);let _0x3ac360='';_0x510073[_0x266c49(0x524)][_0x266c49(0xa40)](_0x2efa58=>{const _0x52af16=_0x266c49;_0x3ac360+=_0x52af16(0x23b)+_0x2efa58[_0x52af16(0x61d)]+_0x52af16(0x477),_0x2efa58[_0x52af16(0xd8b)][_0x52af16(0xa40)](_0x5d8145=>{const _0x416512=_0x52af16;_0x3ac360+=_0x416512(0x57d)+_0x5d8145['topicName']+_0x416512(0x92e),_0x5d8145[_0x416512(0x3e9)]['forEach'](_0x5da586=>{const _0x3d6340=_0x416512;_0x3ac360+=_0x3d6340(0xaae)+_0x5da586[_0x3d6340(0xa3d)](/'/g,'\x5c\x27')+_0x3d6340(0x3a6)+_0x2cd281[_0x3d6340(0xa3d)](/'/g,'\x5c\x27')+_0x3d6340(0x8a2)+_0x5da586+_0x3d6340(0xc01)+_0x5da586[_0x3d6340(0xa3d)](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a';}),_0x3ac360+=_0x416512(0x609);}),_0x3ac360+=_0x52af16(0xcc7);}),_0x3f70c2[_0x266c49(0x843)]=_0x2808be+_0x3ac360;}async function handleGenerateTeachingContent(_0x319b9d){const _0x42c2f4=_0x487f42,_0x1d6293=document['getElementById'](_0x42c2f4(0xaab)),_0x3102c3=document['getElementById'](_0x42c2f4(0x30a));document[_0x42c2f4(0x40a)](_0x42c2f4(0x8de))[_0x42c2f4(0x642)]=_0x42c2f4(0x59d)+_0x319b9d,_0x3102c3[_0x42c2f4(0x843)]=_0x42c2f4(0x696),_0x1d6293[_0x42c2f4(0xad3)][_0x42c2f4(0x432)](_0x42c2f4(0xc0c));try{const _0x67fdbc=_0x42c2f4(0xcf3)+_0x319b9d+_0x42c2f4(0x6f4),_0xb2f287={'type':_0x42c2f4(0xaaa),'properties':{'keyConcepts':{'type':_0x42c2f4(0x22b),'items':{'type':_0x42c2f4(0x8d7)}},'commonMistakes':{'type':'ARRAY','items':{'type':_0x42c2f4(0x8d7)}},'stepByStepExamples':{'type':_0x42c2f4(0x22b),'items':{'type':_0x42c2f4(0xaaa),'properties':{'question':{'type':_0x42c2f4(0x8d7)},'solution':{'type':'STRING'}},'required':['question',_0x42c2f4(0x608)]}},'teacherTips':{'type':_0x42c2f4(0x22b),'items':{'type':_0x42c2f4(0x8d7)}}},'required':[_0x42c2f4(0xab5),'commonMistakes','stepByStepExamples','teacherTips']},_0x16ece4=await callAnalysisApi(_0x67fdbc,_0xb2f287);displayTeachingContent(_0x16ece4,_0x319b9d);}catch(_0x3ac425){console[_0x42c2f4(0x81d)]('Error\x20generating\x20teaching\x20content:',_0x3ac425),_0x3102c3[_0x42c2f4(0x843)]=_0x42c2f4(0xa4f)+_0x3ac425[_0x42c2f4(0xc94)]+_0x42c2f4(0x6c7);}}function displayTeachingContent(_0x4e816d,_0x4ef21c){const _0x209b62=_0x487f42,_0x461ee5=document[_0x209b62(0x40a)](_0x209b62(0x30a));document[_0x209b62(0x40a)](_0x209b62(0x8de))['textContent']=_0x209b62(0x7cd)+_0x4ef21c;const _0x237684=_0x209b62(0x4dd)+_0x4e816d[_0x209b62(0xab5)]['map'](_0x5e3aa2=>_0x209b62(0xa7d)+_0x5e3aa2+_0x209b62(0x62f))['join']('')+_0x209b62(0xaeb)+_0x4e816d[_0x209b62(0xae2)][_0x209b62(0x71d)](_0x678510=>'<li>'+_0x678510+_0x209b62(0x62f))[_0x209b62(0xb00)]('')+_0x209b62(0x3d8)+_0x4e816d['stepByStepExamples'][_0x209b62(0x71d)](_0x18ad0c=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x18ad0c[_0x209b62(0x98b)]+_0x209b62(0x607)+_0x18ad0c[_0x209b62(0x608)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x209b62(0x32a)+_0x4e816d[_0x209b62(0x9be)]['map'](_0x4beba6=>'<li>'+_0x4beba6+_0x209b62(0x62f))[_0x209b62(0xb00)]('')+_0x209b62(0x747);_0x461ee5[_0x209b62(0x843)]=_0x237684;if(window[_0x209b62(0xcc0)])MathJax[_0x209b62(0x8b2)]([_0x461ee5]);}async function generateQuizForSingleTopic(_0x5a30d3){const _0x24bd59=_0x487f42;console[_0x24bd59(0x681)]('กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22'+_0x5a30d3+'\x22');const _0x211aa7=document[_0x24bd59(0x40a)](_0x24bd59(0xd48)),_0x300c20=_0x211aa7[_0x24bd59(0xc1f)]['length']>0x0?_0x211aa7[_0x24bd59(0xc1f)][0x0]:null;let _0x3dc09c=null;if(_0x300c20)try{const _0x200b90=new FileReader();_0x200b90[_0x24bd59(0x5f3)](_0x300c20);const _0xce3690=await new Promise((_0x4726f6,_0x27ca12)=>{const _0x3a5fc1=_0x24bd59;_0x200b90[_0x3a5fc1(0x2e1)]=()=>_0x4726f6(_0x200b90['result']['split'](',')[0x1]),_0x200b90['onerror']=_0x1d01a2=>_0x27ca12(_0x1d01a2);});_0x3dc09c=[{'inlineData':{'mimeType':_0x300c20[_0x24bd59(0x50b)],'data':_0xce3690}}];}catch(_0x4de2a0){console[_0x24bd59(0x81d)](_0x24bd59(0xd92),_0x4de2a0),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง');return;}generateQuiz(_0x5a30d3,null,null,_0x3dc09c,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x43118a=null){const _0x332d9b=_0x487f42,_0x5a9c79=document[_0x332d9b(0x40a)](_0x332d9b(0x61c)),_0x2e749a=document['getElementById'](_0x332d9b(0x88d));let _0x476d06;if(_0x43118a)_0x476d06=_0x43118a;else{const _0x1b2b6b=document['getElementById']('blueprint-upload-input'),_0x56e8d3=_0x1b2b6b[_0x332d9b(0xc1f)][0x0];if(!_0x56e8d3){showMessage(_0x332d9b(0xa10));return;}_0x2e749a['textContent']=_0x332d9b(0x79e);const _0x35e2f4=await new Promise((_0xa24cf8,_0x375467)=>{const _0x3b0f63=_0x332d9b,_0x1be2c1=new FileReader();_0x1be2c1[_0x3b0f63(0x5f3)](_0x56e8d3),_0x1be2c1['onload']=()=>_0xa24cf8(_0x1be2c1[_0x3b0f63(0x751)]['split'](',')[0x1]),_0x1be2c1['onerror']=_0x375467;});_0x476d06=[{'text':_0x332d9b(0x2b0)},{'inlineData':{'mimeType':_0x56e8d3[_0x332d9b(0x50b)],'data':_0x35e2f4}}];}const _0x1c2647=_0x332d9b(0x8c8),_0x14f947=_0x332d9b(0x934),_0xe9107=_0x332d9b(0xd44),_0x2a1007={'type':_0x332d9b(0xaaa),'properties':{'questionText':{'type':_0x332d9b(0x8d7)},'questionType':{'type':_0x332d9b(0x8d7),'enum':['multiple_choice',_0x332d9b(0xa84),_0x332d9b(0x355),_0x332d9b(0x252)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x332d9b(0x6c0)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x332d9b(0x1f7)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x332d9b(0x8d7)}},'required':[_0x332d9b(0x8c6),_0x332d9b(0x712)]},_0x2b9fd8={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x2a1007}},'required':[_0x332d9b(0xc30),'questions']};_0x476d06[0x0][_0x332d9b(0x274)]=_0xe9107,await handleApiCall(_0x476d06,_0x332d9b(0x376),_0x2b9fd8);}function proceedToNextQuestion(_0x1abeda){const _0x2c34fd=_0x487f42;studentAnswersPerQuestion[_0x2c34fd(0x511)](_0x1abeda),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x2c34fd(0xaf2)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x51a398,_0x415796){const _0x2d622b=_0x487f42,_0xc2cf95=Object[_0x2d622b(0xafb)](_0x51a398[_0x2d622b(0x729)]||{}),_0x489abc=_0xc2cf95[_0x2d622b(0xaf2)],_0xc741b1=[..._0xc2cf95]['sort']((_0x1cdc88,_0x411dea)=>_0x411dea[_0x2d622b(0xb7c)]-_0x1cdc88[_0x2d622b(0xb7c)]),_0x5e58a2=_0x51a398[_0x2d622b(0x884)];let _0x2d3331='';const _0x296a80=_0x51a398[_0x2d622b(0x2a2)][_0x2d622b(0x726)],_0x2de01e=_0x296a80[_0x5e58a2],_0x2d6663=_0x24d4a2=>String['fromCharCode'](0x41+_0x24d4a2);let _0x552b50='',_0x840261='';if(_0x2de01e){const _0x34815d=_0x2de01e[_0x2d622b(0x8c6)]||_0x51a398[_0x2d622b(0x2a2)]['quizType'];if(_0x34815d===_0x2d622b(0xd14)&&_0x2de01e[_0x2d622b(0x614)]&&_0x2de01e[_0x2d622b(0xb6f)]!==undefined){const _0x1f0f51=_0x2de01e[_0x2d622b(0xb6f)];_0x552b50=_0x2de01e['options'][_0x1f0f51],_0x840261=_0x2d6663(_0x1f0f51)+'.';}else{if(_0x34815d===_0x2d622b(0x355)){const _0x1db8a8=_0x2de01e['correctAnswer']===!![]||String(_0x2de01e[_0x2d622b(0x5cc)])['toLowerCase']()===_0x2d622b(0x35a);_0x1db8a8?(_0x552b50=_0x2d622b(0x740),_0x840261='ก.'):(_0x552b50=_0x2d622b(0x21a),_0x840261='ข.');}else{if(_0x34815d===_0x2d622b(0x252))_0x552b50=_0x2de01e[_0x2d622b(0xb98)]||'-',_0x840261='';else _0x34815d===_0x2d622b(0xa84)&&(_0x552b50=_0x2de01e[_0x2d622b(0x73f)]||'-',_0x840261='');}}}_0x552b50&&(_0x2d3331=_0x2d622b(0xc63)+(_0x5e58a2+0x1)+_0x2d622b(0x928)+_0x840261+'\x20'+_0x552b50+_0x2d622b(0xb02));const _0xd4537e=_0xc741b1['map'](_0x48f55e=>{const _0x4bf9c9=_0x2d622b;let _0x41eea1=![];if(_0x48f55e[_0x4bf9c9(0xb73)]&&_0x5e58a2!==-0x1){const _0x547833=_0x48f55e[_0x4bf9c9(0xb73)][_0x4bf9c9(0x8d2)](_0x1d08f1=>_0x1d08f1[_0x4bf9c9(0x790)]===_0x5e58a2);_0x547833&&_0x547833[_0x4bf9c9(0x28e)]&&(_0x41eea1=!![]);}const _0x20921e=_0x41eea1?_0x4bf9c9(0xbf6):_0x4bf9c9(0x7f7);return _0x4bf9c9(0xaa1)+_0x20921e+_0x4bf9c9(0x901)+_0x48f55e['name']+_0x4bf9c9(0xc05)+_0x48f55e[_0x4bf9c9(0xb7c)]+_0x4bf9c9(0xa05);})['join'](''),_0x44eb43=_0x296a80[_0x2d622b(0x71d)]((_0x42f6b2,_0x40d31f)=>{const _0x4e5b2d=_0x2d622b,_0x30de5e=_0xc2cf95[_0x4e5b2d(0x24b)](_0x2367e3=>_0x2367e3[_0x4e5b2d(0xb73)]&&_0x2367e3[_0x4e5b2d(0xb73)]['find'](_0x2b055e=>_0x2b055e[_0x4e5b2d(0x790)]===_0x40d31f&&_0x2b055e[_0x4e5b2d(0x28e)]))[_0x4e5b2d(0xaf2)],_0x45ad99=_0x40d31f===_0x5e58a2,_0x3b8384=_0x45ad99?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':_0x4e5b2d(0xb39);return _0x4e5b2d(0x711)+_0x3b8384+_0x4e5b2d(0x753)+(_0x40d31f+0x1)+_0x4e5b2d(0x298)+_0x30de5e+_0x4e5b2d(0x60e)+_0x489abc+_0x4e5b2d(0x8fe);})[_0x2d622b(0xb00)]('');let _0x140c28='',_0xc7b66e='';if(_0x415796){const _0x4792b9=_0x51a398[_0x2d622b(0x884)]>=_0x296a80[_0x2d622b(0xaf2)]-0x1;_0x140c28='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>'+(_0x4792b9?_0x2d622b(0xc5f):_0x2d622b(0x54b))+_0x2d622b(0x8be),_0xc7b66e=_0x2d622b(0x239);}const _0x236b10=_0x2d622b(0x566)+_0x51a398[_0x2d622b(0x2a2)]['topic']+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc7b66e+_0x2d622b(0xd11)+_0x2d3331+_0x2d622b(0xcc9)+(_0xd4537e||_0x2d622b(0xd0c))+_0x2d622b(0x300)+_0x44eb43+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x415796?'<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>'+_0x140c28+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x2d622b(0x843)]=_0x236b10;if(window[_0x2d622b(0xcc0)]){const _0xab5cbf=document['getElementById'](_0x2d622b(0x5df));_0xab5cbf&&MathJax['typesetPromise']([_0xab5cbf]);}if(_0x415796){document[_0x2d622b(0x40a)](_0x2d622b(0x550))[_0x2d622b(0x569)]=async()=>{const _0x53606c=_0x2d622b,_0x5582e0=doc(db,'artifacts/'+appId+_0x53606c(0x314),currentLiveGameId),_0x1e06eb=_0x51a398['currentQuestionIndex']+0x1;if(_0x1e06eb<_0x296a80[_0x53606c(0xaf2)]){const _0x328dfa={};Object[_0x53606c(0xaf6)](_0x51a398[_0x53606c(0x729)])[_0x53606c(0xa40)](_0x1f196f=>{const _0x26c9d0=_0x53606c;_0x328dfa['players.'+_0x1f196f+_0x26c9d0(0x769)]=![],_0x328dfa[_0x26c9d0(0x370)+_0x1f196f+'.lastAnswerIndex']=null;}),await updateDoc(_0x5582e0,{..._0x328dfa,'status':_0x53606c(0x98b),'currentQuestionIndex':_0x1e06eb,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x5582e0,{'status':_0x53606c(0x54d)});};const _0x179768=document[_0x2d622b(0x40a)](_0x2d622b(0x90c));_0x179768&&(_0x179768['onclick']=()=>{const _0xb4edb4=_0x2d622b;showConfirmation(_0xb4edb4(0x364),async()=>{const _0x3d8978=_0xb4edb4,_0x34d3dc=doc(db,_0x3d8978(0x5c6)+appId+_0x3d8978(0x314),currentLiveGameId);await updateDoc(_0x34d3dc,{'status':_0x3d8978(0x54d)});});});}}async function handleGenerateParallelFromBank(_0x46f8b7){const _0x1272da=_0x487f42,_0x15d240=document[_0x1272da(0x40a)](_0x1272da(0xb0a)),_0x5d6bb5=document[_0x1272da(0x40a)](_0x1272da(0x6c8));_0x5d6bb5['classList'][_0x1272da(0xa6b)]('hidden');const _0x3ad5de=_0x1272da(0x4fd)+_0x46f8b7[_0x1272da(0xc30)]+_0x1272da(0x32f);_0x15d240[_0x1272da(0x645)](_0x1272da(0xa26),_0x3ad5de);const _0x14d8de=document[_0x1272da(0x40a)](_0x1272da(0x7d1));try{const _0x331e3f=_0x46f8b7['questions']['map']((_0x40d4b0,_0x28f72b)=>{const _0x3effb6=_0x1272da;let _0xfc5e5=_0x28f72b+0x1+'.\x20'+(_0x40d4b0['questionText']||_0x40d4b0[_0x3effb6(0x593)])+'\x0a';if(_0x40d4b0[_0x3effb6(0x614)])_0xfc5e5+=_0x40d4b0[_0x3effb6(0x614)][_0x3effb6(0x71d)]((_0x4220db,_0x4d2113)=>_0x3effb6(0xa33)+(_0x4d2113===_0x40d4b0[_0x3effb6(0xb6f)]?'[*]':'')+'\x20'+_0x4220db)['join']('\x0a');else _0x40d4b0[_0x3effb6(0x73f)]&&(_0xfc5e5+=_0x3effb6(0x8eb)+_0x40d4b0[_0x3effb6(0x73f)]);return _0xfc5e5;})[_0x1272da(0xb00)]('\x0a\x0a');_0x14d8de[_0x1272da(0x642)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x14a75b=_0x1272da(0x29d)+_0x46f8b7[_0x1272da(0xc30)]+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x331e3f+_0x1272da(0x5a7)+simpleMathPrompt+_0x1272da(0xb34),_0x3ce111={'type':_0x1272da(0xaaa),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x1272da(0x8d7),'enum':['multiple_choice',_0x1272da(0xa84),_0x1272da(0x355),'matching_item']},'options':{'type':_0x1272da(0x22b),'items':{'type':_0x1272da(0x8d7)}},'correctAnswerIndex':{'type':_0x1272da(0x6c0)},'idealAnswer':{'type':_0x1272da(0x8d7)},'correctAnswer':{'type':_0x1272da(0x1f7)},'stem':{'type':_0x1272da(0x8d7)},'correctResponse':{'type':_0x1272da(0x8d7)},'allResponses':{'type':_0x1272da(0x22b),'items':{'type':_0x1272da(0x8d7)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1272da(0x8d7)}},'required':[_0x1272da(0x8c6),_0x1272da(0x712)]},_0x3c3875={'type':_0x1272da(0xaaa),'properties':{'topic':{'type':_0x1272da(0x8d7)},'questions':{'type':_0x1272da(0x22b),'items':_0x3ce111}},'required':[_0x1272da(0xc30),'questions']},_0x4a56e9=await callAnalysisApi(_0x14a75b,_0x3c3875),_0x366de6=_0x4a56e9[_0x1272da(0x726)][_0x1272da(0x71d)]((_0xd9febd,_0x308763)=>({..._0xd9febd,'id':'q_'+Date[_0x1272da(0x875)]()+'_'+_0x308763})),_0xb1e701=_0x1272da(0xd41)+_0x46f8b7[_0x1272da(0xc30)],_0x16dd7a={'topic':_0xb1e701,'questions':_0x366de6,'quizType':_0x46f8b7['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x1272da(0xcfb)](),'status':_0x1272da(0xd29),'settings':_0x46f8b7[_0x1272da(0x7ba)],'quizMode':_0x1272da(0x423),'pairedQuizId':null,'lessonPlan':null};let _0x114104;while(!![]){_0x114104=Math[_0x1272da(0xce5)](0x3e8+Math[_0x1272da(0x303)]()*0x2328)[_0x1272da(0xc03)]();const _0x5cbbad=await getDoc(doc(db,'artifacts/'+appId+_0x1272da(0x7ac),_0x114104));if(!_0x5cbbad[_0x1272da(0xd6a)]())break;}await setDoc(doc(db,_0x1272da(0x5c6)+appId+'/public/data/quizzes',_0x114104),_0x16dd7a),showMessage(_0x1272da(0x22a));}catch(_0x3dfb94){console['error'](_0x1272da(0x2b2),_0x3dfb94),showMessage(_0x1272da(0x888)+_0x3dfb94[_0x1272da(0xc94)]);}finally{const _0x19f431=document['getElementById'](_0x1272da(0x65a));_0x19f431&&_0x19f431[_0x1272da(0x432)](),_0x5d6bb5[_0x1272da(0xad3)]['remove'](_0x1272da(0xc0c));}}async function handleGenerateParallelPostTest(_0x9827f7){const _0x5558f8=_0x487f42,_0x2857e6=document[_0x5558f8(0x40a)](_0x5558f8(0xb0a)),_0x2ee455=document[_0x5558f8(0x40a)](_0x5558f8(0x6c8));_0x2ee455[_0x5558f8(0xad3)][_0x5558f8(0xa6b)]('hidden');const _0x24f180=_0x5558f8(0x2af);_0x2857e6[_0x5558f8(0x645)](_0x5558f8(0xa26),_0x24f180);try{const _0x5e6ee9=_0x9827f7[_0x5558f8(0x726)][_0x5558f8(0x71d)]((_0x1bea9c,_0xab0802)=>{const _0x2ac87c=_0x5558f8;let _0x441229=_0xab0802+0x1+'.\x20'+(_0x1bea9c[_0x2ac87c(0x467)]||_0x1bea9c[_0x2ac87c(0x593)]);if(_0x1bea9c[_0x2ac87c(0x614)])_0x441229+=_0x2ac87c(0xbf5)+_0x1bea9c[_0x2ac87c(0x614)]['join'](',\x20');return _0x441229;})[_0x5558f8(0xb00)]('\x0a\x0a'),_0x5c3960=_0x5558f8(0x2c8)+_0x9827f7[_0x5558f8(0xc30)]+_0x5558f8(0x891)+_0x5e6ee9+_0x5558f8(0x3aa)+simpleMathPrompt+_0x5558f8(0xb34),_0x29ef0d={'type':_0x5558f8(0xaaa),'properties':{'topic':{'type':_0x5558f8(0x8d7)},'questions':{'type':_0x5558f8(0x22b),'items':{'type':_0x5558f8(0xaaa),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x5558f8(0x8d7)},'options':{'type':_0x5558f8(0x22b),'items':{'type':_0x5558f8(0x8d7)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5558f8(0x8d7)}},'required':['questionText',_0x5558f8(0x712)]}}},'required':['topic','questions']},_0x4cab1a=await callAnalysisApi(_0x5c3960,_0x29ef0d),_0x295583=_0x9827f7[_0x5558f8(0xc30)]['replace']('(ก่อนเรียน)','')[_0x5558f8(0x1fb)](),_0x24faa8=_0x5558f8(0x72b)+_0x295583,_0x12cfc2={..._0x4cab1a,'topic':_0x24faa8,'quizType':_0x9827f7['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x5558f8(0xcfb)](),'status':_0x5558f8(0xd29),'settings':_0x9827f7[_0x5558f8(0x7ba)],'quizMode':_0x5558f8(0x915),'pairedQuizId':_0x9827f7['id']};let _0x3c77aa;while(!![]){_0x3c77aa=Math['floor'](0x3e8+Math[_0x5558f8(0x303)]()*0x2328)[_0x5558f8(0xc03)]();const _0x1ef80f=await getDoc(doc(db,_0x5558f8(0x5c6)+appId+_0x5558f8(0x7ac),_0x3c77aa));if(!_0x1ef80f[_0x5558f8(0xd6a)]())break;}await setDoc(doc(db,_0x5558f8(0x5c6)+appId+_0x5558f8(0x7ac),_0x3c77aa),_0x12cfc2);const _0x117462=doc(db,_0x5558f8(0x5c6)+appId+_0x5558f8(0x7ac),_0x9827f7['id']);await updateDoc(_0x117462,{'pairedQuizId':_0x3c77aa}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x463630){console[_0x5558f8(0x81d)](_0x5558f8(0x2fd),_0x463630),showMessage(_0x5558f8(0x888)+_0x463630['message']);}finally{const _0x460428=document['getElementById']('temp-loader-results');if(_0x460428)_0x460428[_0x5558f8(0x432)]();_0x2ee455[_0x5558f8(0xad3)][_0x5558f8(0x432)](_0x5558f8(0xc0c));}}async function handleGenerateParallelTest(_0x37bb79=null){const _0x2cb2b3=_0x487f42;let _0x353cde=_0x37bb79;if(!_0x353cde){const _0x5585ed=document[_0x2cb2b3(0x40a)](_0x2cb2b3(0x9d4));_0x5585ed[_0x2cb2b3(0xc1f)]['length']>0x0&&(_0x353cde=_0x5585ed[_0x2cb2b3(0xc1f)][0x0]);}if(!_0x353cde){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด');return;}const _0x2ed27d=document[_0x2cb2b3(0x40a)](_0x2cb2b3(0x61c)),_0x5a390c=document[_0x2cb2b3(0x40a)](_0x2cb2b3(0x88d)),_0x3a1b6d=document[_0x2cb2b3(0x40a)](_0x2cb2b3(0xcf7)),_0x32fd00=document[_0x2cb2b3(0x40a)](_0x2cb2b3(0x435));_0x32fd00[_0x2cb2b3(0x4c2)]=!![],document[_0x2cb2b3(0x40a)]('quiz-generation-area')['classList'][_0x2cb2b3(0x432)](_0x2cb2b3(0xc0c)),_0x3a1b6d[_0x2cb2b3(0x843)]='',_0x2ed27d[_0x2cb2b3(0xad3)][_0x2cb2b3(0x432)](_0x2cb2b3(0xc0c)),_0x5a390c[_0x2cb2b3(0x642)]='กำลังอ่านและเตรียมไฟล์ต้นฉบับ...';const _0xc3e7e8=new FileReader();_0xc3e7e8[_0x2cb2b3(0x5f3)](_0x353cde),_0xc3e7e8[_0x2cb2b3(0x2e1)]=async()=>{const _0x185703=_0x2cb2b3;try{const _0x4e0650=_0xc3e7e8[_0x185703(0x751)][_0x185703(0x67b)](',')[0x1],_0xb6a0c6=_0x353cde[_0x185703(0x50b)];_0x5a390c[_0x185703(0x642)]='วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x5ed693=document[_0x185703(0x40a)](_0x185703(0xb24))[_0x185703(0x6f6)],_0x43506d=_0x5ed693?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x4e7287=_0x185703(0xac2),_0x155ad4={'type':_0x185703(0xaaa),'properties':{'questionText':{'type':_0x185703(0x8d7)},'questionType':{'type':_0x185703(0x8d7),'enum':[_0x185703(0xd14),_0x185703(0xa84)]},'options':{'type':'ARRAY','items':{'type':_0x185703(0x8d7)}},'correctAnswerIndex':{'type':_0x185703(0x6c0)},'idealAnswer':{'type':_0x185703(0x8d7)},'explanation':{'type':_0x185703(0x8d7)},'imageCode':{'type':_0x185703(0x8d7)}},'required':[_0x185703(0x467),_0x185703(0x8c6),_0x185703(0x712)]},_0x24ee64={'type':_0x185703(0xaaa),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x185703(0x22b),'items':_0x155ad4}},'required':[_0x185703(0xc30),_0x185703(0x726)]},_0x46fae4=[{'text':_0x4e7287},{'inlineData':{'mimeType':_0xb6a0c6,'data':_0x4e0650}}];await handleApiCall(_0x46fae4,_0x185703(0x9d2),_0x24ee64);}catch(_0x279796){console[_0x185703(0x81d)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x279796),showMessage('เกิดข้อผิดพลาด:\x20'+_0x279796[_0x185703(0xc94)]),_0x3a1b6d[_0x185703(0x843)]=_0x185703(0x6cf);}finally{_0x2ed27d['classList']['add'](_0x185703(0xc0c)),_0x32fd00[_0x185703(0x4c2)]=![];}},_0xc3e7e8[_0x2cb2b3(0xc1b)]=_0xae9bf7=>{const _0x174084=_0x2cb2b3;console[_0x174084(0x81d)](_0x174084(0x485),_0xae9bf7),showMessage(_0x174084(0xb6d)),_0x2ed27d[_0x174084(0xad3)][_0x174084(0xa6b)](_0x174084(0xc0c)),_0x32fd00['disabled']=![];};}async function handleRegenerateQuestionInEditor(_0x44d90d){const _0x46fe7f=_0x487f42;if(currentEditingQuizData===null)return;const _0x1b36d4=document[_0x46fe7f(0xaef)]('.question-editor-item[data-q-index=\x22'+_0x44d90d+'\x22]');_0x1b36d4&&(_0x1b36d4[_0x46fe7f(0x843)]=_0x46fe7f(0xcb7));const _0x3a05ad=currentEditingQuizData[_0x46fe7f(0x726)][_0x44d90d],_0x33ab80=currentEditingQuizData[_0x46fe7f(0xc30)],_0x88f92d=_0x3a05ad[_0x46fe7f(0x8c6)],_0x42d44a={'type':_0x46fe7f(0xaaa),'properties':{'questionText':{'type':_0x46fe7f(0x8d7)},'options':{'type':_0x46fe7f(0x22b),'items':{'type':_0x46fe7f(0x8d7)}},'correctAnswerIndex':{'type':_0x46fe7f(0x6c0)},'explanation':{'type':'STRING'}},'required':[_0x46fe7f(0x467),'options',_0x46fe7f(0xb6f),'explanation']},_0x34b1bc={'type':_0x46fe7f(0xaaa),'properties':{'questionText':{'type':_0x46fe7f(0x8d7)},'idealAnswer':{'type':_0x46fe7f(0x8d7)},'explanation':{'type':'STRING'}},'required':['questionText',_0x46fe7f(0x73f),_0x46fe7f(0x712)]};let _0x24cac7,_0x881a58='';_0x88f92d===_0x46fe7f(0xd14)?(_0x24cac7=_0x42d44a,_0x881a58=_0x46fe7f(0x292)):(_0x24cac7=_0x34b1bc,_0x881a58=_0x46fe7f(0x387));const _0x19330a=_0x46fe7f(0x804)+_0x33ab80+_0x46fe7f(0xd5f)+_0x881a58+_0x46fe7f(0xacc)+(_0x3a05ad[_0x46fe7f(0x467)]||_0x3a05ad['stem'])+_0x46fe7f(0x2d2)+simpleMathPrompt;try{const _0x219e14=await callAnalysisApi(_0x19330a,_0x24cac7);currentEditingQuizData[_0x46fe7f(0x726)][_0x44d90d]={..._0x3a05ad,..._0x219e14},renderQuizEditor(currentEditingQuizData);}catch(_0x3ddd7d){console['error']('Error\x20regenerating\x20question\x20in\x20editor:',_0x3ddd7d),showMessage(_0x46fe7f(0xb9e)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x4b7f29=_0x487f42,_0x24eef9=document['getElementById'](_0x4b7f29(0x507));currentMode===_0x4b7f29(0x309)?(adminPasswordModal['classList'][_0x4b7f29(0x432)](_0x4b7f29(0xc0c)),document[_0x4b7f29(0x40a)]('admin-password-input')[_0x4b7f29(0xbc3)]()):(currentMode='student',_0x24eef9[_0x4b7f29(0x843)]=_0x4b7f29(0x2ba),_0x24eef9[_0x4b7f29(0xc92)]=_0x4b7f29(0x8fc),showView('student'));}function handleAdminLogin(){const _0x12eb74=_0x487f42,_0x477767=document[_0x12eb74(0x40a)]('admin-password-input'),_0x2a3f48=document[_0x12eb74(0x40a)](_0x12eb74(0x97e));if(_0x477767['value']==='27411472'){adminPasswordModal[_0x12eb74(0xad3)][_0x12eb74(0xa6b)]('hidden'),_0x477767[_0x12eb74(0x6cb)]='',_0x2a3f48[_0x12eb74(0xad3)][_0x12eb74(0xa6b)]('hidden'),currentMode='admin';const _0x5b77c6=document[_0x12eb74(0x40a)](_0x12eb74(0x507));_0x5b77c6['innerHTML']=_0x12eb74(0xc88),_0x5b77c6[_0x12eb74(0xc92)]=_0x12eb74(0xc17),showView(_0x12eb74(0x3d1));}else _0x2a3f48[_0x12eb74(0xad3)][_0x12eb74(0x432)](_0x12eb74(0xc0c)),_0x477767['value']='';}function switchProjectTab(_0x572a9d){const _0x12014d=_0x487f42;['manage',_0x12014d(0x534),_0x12014d(0x4ba)][_0x12014d(0xa40)](_0x52509e=>{const _0x535be6=_0x12014d;document[_0x535be6(0x40a)](_0x52509e+_0x535be6(0x279))[_0x535be6(0xad3)]['remove'](_0x535be6(0xd29)),document[_0x535be6(0x40a)](_0x52509e+'-tab-content')[_0x535be6(0xad3)]['add'](_0x535be6(0xc0c));}),document['getElementById'](_0x572a9d+_0x12014d(0x279))[_0x12014d(0xad3)]['add'](_0x12014d(0xd29)),document[_0x12014d(0x40a)](_0x572a9d+_0x12014d(0x772))[_0x12014d(0xad3)][_0x12014d(0x432)](_0x12014d(0xc0c));}function switchQuizDetailTab(_0x45f02b){const _0x4c6719=_0x487f42,_0x5bacd7={'analytics':{'btn':'analytics-tab-btn','content':_0x4c6719(0x847)},'scores':{'btn':'scores-tab-btn','content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0x4c6719(0x5d3),'content':_0x4c6719(0xb70)},'behavior-log':{'btn':_0x4c6719(0xc8c),'content':'behavior-log-tab-content'}};for(const _0x88c0cf in _0x5bacd7){document[_0x4c6719(0x40a)](_0x5bacd7[_0x88c0cf]['btn'])['classList'][_0x4c6719(0x432)](_0x4c6719(0xd29)),document[_0x4c6719(0x40a)](_0x5bacd7[_0x88c0cf][_0x4c6719(0x5cf)])['classList'][_0x4c6719(0xa6b)](_0x4c6719(0xc0c));}document[_0x4c6719(0x40a)](_0x5bacd7[_0x45f02b][_0x4c6719(0x942)])[_0x4c6719(0xad3)][_0x4c6719(0xa6b)](_0x4c6719(0xd29)),document[_0x4c6719(0x40a)](_0x5bacd7[_0x45f02b][_0x4c6719(0x5cf)])[_0x4c6719(0xad3)][_0x4c6719(0x432)](_0x4c6719(0xc0c));}function showMessage(_0x1a54e3,_0x5e70fc=null){const _0x4d0b58=_0x487f42;modalMessage['textContent']=_0x1a54e3,modalConfirmAction=_0x5e70fc,messageModal[_0x4d0b58(0xad3)][_0x4d0b58(0x432)](_0x4d0b58(0xc0c));}function showConfirmation(_0x7bf5d9,_0x565a3b){const _0x414cb7=_0x487f42;document[_0x414cb7(0x40a)](_0x414cb7(0x688))['textContent']=_0x7bf5d9,document[_0x414cb7(0x40a)](_0x414cb7(0xbfa))[_0x414cb7(0xaef)]('h3')['textContent']=_0x414cb7(0x966),confirmAction=_0x565a3b,confirmationModal['classList'][_0x414cb7(0x432)](_0x414cb7(0xc0c));}function listenForProjects(){const _0x5249f7=_0x487f42,_0x2b1644=doc(db,_0x5249f7(0x440),_0x5249f7(0x80d));onSnapshot(_0x2b1644,_0x3c2d55=>{const _0x4e84ba=_0x5249f7;if(_0x3c2d55[_0x4e84ba(0xd6a)]()){const _0x12ffce=_0x3c2d55[_0x4e84ba(0x225)]();globalDashboardSettings[_0x4e84ba(0x20b)]=_0x12ffce[_0x4e84ba(0x20b)]||_0x4e84ba(0x6ab),globalDashboardSettings[_0x4e84ba(0x3ab)]=_0x12ffce[_0x4e84ba(0x3ab)]||[],globalDashboardSettings[_0x4e84ba(0xaf4)]=_0x12ffce[_0x4e84ba(0xaf4)]||[];}allProjects[_0x4e84ba(0xaf2)]>0x0&&renderProjects();});const _0x5c38c6=collection(db,'artifacts/'+appId+_0x5249f7(0x248));unsubscribeProjectsListener=onSnapshot(_0x5c38c6,_0x1e0cc3=>{const _0x17ca8c=_0x5249f7;allProjects=_0x1e0cc3[_0x17ca8c(0xb2e)][_0x17ca8c(0x71d)](_0x5e3ea5=>({'id':_0x5e3ea5['id'],..._0x5e3ea5[_0x17ca8c(0x225)]()})),renderProjects();},_0x34ad6f=>{console['error']('Error\x20listening\x20for\x20projects:',_0x34ad6f),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x1267a9,_0x4877e6){const _0x4ed0b1=_0x487f42;document['querySelectorAll'](_0x4ed0b1(0x8c5))[_0x4ed0b1(0xa40)](_0x19ef49=>_0x19ef49[_0x4ed0b1(0x432)]());const _0xbd1fb3=[_0x4ed0b1(0x4a5),_0x4ed0b1(0x3a0),_0x4ed0b1(0xa11),_0x4ed0b1(0x905),'#DBEAFE',_0x4ed0b1(0x64d),_0x4ed0b1(0x24c),'#FCE7F3','#E5E7EB'],_0x163b51=document[_0x4ed0b1(0x29e)](_0x4ed0b1(0x5e4));_0x163b51[_0x4ed0b1(0x9da)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0xbd1fb3[_0x4ed0b1(0xa40)](_0x593434=>{const _0xf47125=_0x4ed0b1,_0x1b3224=document['createElement'](_0xf47125(0x5e4));_0x1b3224[_0xf47125(0x9da)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x1b3224[_0xf47125(0x446)][_0xf47125(0xbab)]=_0x593434,_0x1b3224[_0xf47125(0x7d4)](_0xf47125(0x859),()=>{const _0x5192aa=_0xf47125;handleProjectColorChange(_0x4877e6,_0x593434),_0x163b51[_0x5192aa(0x432)]();}),_0x163b51[_0xf47125(0x84d)](_0x1b3224);}),document[_0x4ed0b1(0x4f1)][_0x4ed0b1(0x84d)](_0x163b51);const _0x872f32=_0x1267a9[_0x4ed0b1(0xc69)]();_0x163b51[_0x4ed0b1(0x446)][_0x4ed0b1(0x8cf)]=_0x872f32[_0x4ed0b1(0x7d9)]+window['scrollY']+'px',_0x163b51['style'][_0x4ed0b1(0x47e)]=_0x872f32['left']+window[_0x4ed0b1(0xc51)]-_0x163b51[_0x4ed0b1(0x7bc)]/0x2+'px';}async function handleProjectColorChange(_0x10d365,_0x5022f2){const _0x31b8e6=_0x487f42,_0x4001c4=doc(db,_0x31b8e6(0x5c6)+appId+_0x31b8e6(0x248),_0x10d365);try{await updateDoc(_0x4001c4,{'color':_0x5022f2});}catch(_0x409b3a){console[_0x31b8e6(0x81d)](_0x31b8e6(0x322),_0x409b3a),showMessage(_0x31b8e6(0xd4d));}}async function renderProjects(){const _0x1eb375=_0x487f42,_0x4a0ae8=globalDashboardSettings[_0x1eb375(0x20b)]||_0x1eb375(0x6ab),_0x32b60c=new Set(globalDashboardSettings[_0x1eb375(0x3ab)]||[]),_0x25a95c=globalDashboardSettings['projectView']||_0x1eb375(0x520),_0x1c4f86=document['getElementById'](_0x1eb375(0xb4e)),_0x50405f=document[_0x1eb375(0x40a)](_0x1eb375(0x3b8));_0x1c4f86[_0x1eb375(0xad3)][_0x1eb375(0xcc1)](_0x1eb375(0xd29),_0x25a95c===_0x1eb375(0x520)),_0x50405f['classList'][_0x1eb375(0xcc1)](_0x1eb375(0xd29),_0x25a95c===_0x1eb375(0x70a)),document[_0x1eb375(0x40a)]('project-sort-select')[_0x1eb375(0x6cb)]=_0x4a0ae8;const _0x3eef0c=document[_0x1eb375(0x40a)]('project-search-input')[_0x1eb375(0x6cb)][_0x1eb375(0x47c)]();let _0x260c3e=allProjects['filter'](_0x16987d=>_0x16987d['projectName'][_0x1eb375(0x47c)]()[_0x1eb375(0x2a9)](_0x3eef0c));const _0x200b11=_0x260c3e[_0x1eb375(0x24b)](_0x6fb94f=>_0x32b60c[_0x1eb375(0x6da)](_0x6fb94f['id'])),_0x54dd14=_0x260c3e[_0x1eb375(0x24b)](_0x13d065=>!_0x32b60c['has'](_0x13d065['id'])),_0x6635ab=(_0x32734c,_0x4f82b1)=>{const _0x1d1cf9=_0x1eb375;switch(_0x4a0ae8){case _0x1d1cf9(0xcc6):return _0x32734c[_0x1d1cf9(0x21b)]['localeCompare'](_0x4f82b1[_0x1d1cf9(0x21b)],'th');case _0x1d1cf9(0x4c3):return _0x4f82b1['projectName'][_0x1d1cf9(0xd63)](_0x32734c[_0x1d1cf9(0x21b)],'th');case _0x1d1cf9(0x6b1):return new Date(_0x32734c[_0x1d1cf9(0x289)])-new Date(_0x4f82b1[_0x1d1cf9(0x289)]);default:return new Date(_0x4f82b1[_0x1d1cf9(0x289)])-new Date(_0x32734c['createdAt']);}};_0x200b11[_0x1eb375(0x9ff)](_0x6635ab),_0x54dd14[_0x1eb375(0x9ff)](_0x6635ab);const _0x28dd12=[..._0x200b11,..._0x54dd14],_0x43b44f=globalDashboardSettings['projectOrder']||[];_0x43b44f[_0x1eb375(0xaf2)]>0x0&&_0x25a95c===_0x1eb375(0x520)&&_0x28dd12[_0x1eb375(0x9ff)]((_0x3cb234,_0x2426ab)=>{const _0x5997fe=_0x1eb375,_0x2d0d92=_0x43b44f[_0x5997fe(0xb4d)](_0x3cb234['id']),_0x4931e7=_0x43b44f[_0x5997fe(0xb4d)](_0x2426ab['id']);if(_0x2d0d92===-0x1)return 0x1;if(_0x4931e7===-0x1)return-0x1;return _0x2d0d92-_0x4931e7;});const _0x24f014={};await Promise['all'](_0x28dd12[_0x1eb375(0x71d)](async _0x3259f6=>{const _0x3843a6=_0x1eb375,_0x4df33d=query(collection(db,_0x3843a6(0x5c6)+appId+_0x3843a6(0x7ac)),where('projectId','==',_0x3259f6['id'])),_0x5b4b39=await getDocs(_0x4df33d);_0x24f014[_0x3259f6['id']]=_0x5b4b39[_0x3843a6(0x2f4)];}));const _0x33af9d=document['getElementById']('project-list');let _0x577251='';if(_0x25a95c==='grid'){_0x33af9d[_0x1eb375(0x9da)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x1eb375(0xaf2)]>0x0&&_0x3eef0c===''){const _0x4dde66=starredQuizzes['map'](_0x2ddf2c=>{const _0x542022=_0x1eb375,_0x226e34=allProjects[_0x542022(0x8d2)](_0x1fc31a=>_0x1fc31a['id']===_0x2ddf2c['projectId']);return{..._0x2ddf2c,'projectName':_0x226e34?_0x226e34[_0x542022(0x21b)]:_0x542022(0xca9)};});_0x577251+=_0x1eb375(0xc04)+_0x4dde66[_0x1eb375(0x71d)](_0x1d97cc=>_0x1eb375(0x842)+_0x1d97cc[_0x1eb375(0xc30)]+'\x22>'+_0x1d97cc[_0x1eb375(0xc30)]+_0x1eb375(0x9f4)+_0x1d97cc[_0x1eb375(0x21b)]+'\x22>จาก:\x20'+_0x1d97cc[_0x1eb375(0x21b)]+_0x1eb375(0x660))['join']('')+_0x1eb375(0x2da)+starredQuizzes[_0x1eb375(0xaf2)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x28dd12[_0x1eb375(0xa40)](_0x2ab075=>{const _0x136208=_0x1eb375,_0xf189ac=_0x24f014[_0x2ab075['id']]??0x0,_0x539de4=_0x32b60c['has'](_0x2ab075['id']),_0x595a42=_0x2ab075[_0x136208(0xb64)]||_0x136208(0x4a5),_0x5b24c8=parseInt(_0x595a42[_0x136208(0x271)](0x1,0x3),0x10)*0.299+parseInt(_0x595a42[_0x136208(0x271)](0x3,0x5),0x10)*0.587+parseInt(_0x595a42[_0x136208(0x271)](0x5,0x7),0x10)*0.114<0xba,_0x578937=_0x5b24c8?_0x136208(0x221):_0x136208(0x43f),_0xd21cec=_0x5b24c8?_0x136208(0x989):_0x136208(0x39a);_0x577251+=_0x136208(0xa14)+(_0x539de4?_0x136208(0xbed):_0x136208(0x476))+_0x136208(0xa74)+_0x595a42+_0x136208(0x782)+_0x2ab075['id']+_0x136208(0x50a)+_0x2ab075['id']+_0x136208(0x7c4)+(_0x5b24c8?_0x136208(0xb41):_0x136208(0xc3a))+_0x136208(0xc27)+_0x2ab075['id']+_0x136208(0xa92)+(_0x5b24c8?_0x136208(0xb41):_0x136208(0xc3a))+_0x136208(0x2d1)+(_0x539de4?_0x5b24c8?_0x136208(0x93b):_0x136208(0x9cf):'')+_0x136208(0x59e)+_0x2ab075['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x578937+_0x136208(0xd7b)+_0x2ab075[_0x136208(0x21b)]+_0x136208(0x378)+_0xd21cec+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x2ab075['createdAt'])[_0x136208(0xd73)](_0x136208(0x700))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+(_0x5b24c8?'text-gray-100':_0x136208(0x294))+_0x136208(0xb18)+_0xf189ac+_0x136208(0x7b7)+_0x2ab075['id']+_0x136208(0x707)+_0x2ab075[_0x136208(0x21b)]+_0x136208(0x515)+(_0x5b24c8?_0x136208(0x715):_0x136208(0xb40))+_0x136208(0x4e2);});}else _0x33af9d[_0x1eb375(0x9da)]='flex\x20flex-col\x20gap-2',starredQuizzes[_0x1eb375(0xaf2)]>0x0&&_0x3eef0c===''&&(_0x577251+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes['length']+_0x1eb375(0x3b1)),_0x577251+=_0x1eb375(0x6ae),_0x28dd12[_0x1eb375(0xa40)](_0x309c64=>{const _0x4371e6=_0x1eb375,_0x25f176=_0x24f014[_0x309c64['id']]??0x0,_0x1f744e=_0x32b60c[_0x4371e6(0x6da)](_0x309c64['id']);_0x577251+=_0x4371e6(0xd1b)+(_0x309c64[_0x4371e6(0xb64)]||'#E5E7EB')+_0x4371e6(0xbe9)+_0x309c64['id']+_0x4371e6(0x7fe)+_0x309c64[_0x4371e6(0x21b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x25f176+_0x4371e6(0x646)+new Date(_0x309c64[_0x4371e6(0x289)])[_0x4371e6(0xc78)](_0x4371e6(0x700))+_0x4371e6(0x335)+_0x309c64['id']+_0x4371e6(0xa47)+(_0x1f744e?_0x4371e6(0x9cf):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x309c64['id']+_0x4371e6(0x707)+_0x309c64['projectName']+_0x4371e6(0xc26);});projectList[_0x1eb375(0x843)]=_0x577251,noProjectsMsg[_0x1eb375(0xad3)][_0x1eb375(0xcc1)](_0x1eb375(0xc0c),_0x577251[_0x1eb375(0xaf2)]>0x0);}document[_0x487f42(0x40a)]('confirm-create-project-btn')[_0x487f42(0x7d4)](_0x487f42(0x859),async()=>{const _0xeb7a21=_0x487f42,_0x1e69ac=document[_0xeb7a21(0x40a)](_0xeb7a21(0x705)),_0xf5ad60=_0x1e69ac[_0xeb7a21(0x6cb)][_0xeb7a21(0x1fb)]();if(!_0xf5ad60){showMessage(_0xeb7a21(0x6dd));return;}try{const _0x259659=doc(collection(db,_0xeb7a21(0x5c6)+appId+'/public/data/projects'));await setDoc(_0x259659,{'projectName':_0xf5ad60,'students':[],'settings':{'resultsDisplay':_0xeb7a21(0x37c),'shuffleSetting':_0xeb7a21(0xaec),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0xeb7a21(0xcfb)]()}),_0x1e69ac[_0xeb7a21(0x6cb)]='',createProjectModal[_0xeb7a21(0xad3)][_0xeb7a21(0xa6b)](_0xeb7a21(0xc0c)),showMessage(_0xeb7a21(0x6b3));}catch(_0x176610){console[_0xeb7a21(0x81d)]('Error\x20creating\x20project:',_0x176610),showMessage(_0xeb7a21(0x96b));}}),projectList[_0x487f42(0x7d4)](_0x487f42(0x859),async _0x379bb7=>{const _0x589e73=_0x487f42,_0x5e5548=_0x379bb7[_0x589e73(0x5c1)]['closest'](_0x589e73(0x720)),_0x4685c8=_0x379bb7[_0x589e73(0x5c1)][_0x589e73(0xad9)]('.delete-project-btn'),_0x24e637=_0x379bb7['target']['closest'](_0x589e73(0xd0f)),_0x524eb7=_0x379bb7[_0x589e73(0x5c1)][_0x589e73(0xad9)]('.color-palette-btn');if(_0x24e637){const _0x371cff=_0x24e637[_0x589e73(0x48f)]['id'],_0x5bb425=doc(db,'globalSettings','dashboardConfig'),_0x58ef13=globalDashboardSettings[_0x589e73(0x3ab)];let _0x49e580;_0x58ef13[_0x589e73(0x2a9)](_0x371cff)?_0x49e580=_0x58ef13[_0x589e73(0x24b)](_0x325618=>_0x325618!==_0x371cff):_0x49e580=[..._0x58ef13,_0x371cff];try{await setDoc(_0x5bb425,{'pinnedProjects':_0x49e580},{'merge':!![]});}catch(_0x3b86da){console[_0x589e73(0x81d)](_0x589e73(0x88a),_0x3b86da),showMessage(_0x589e73(0x27f));}}else{if(_0x524eb7){const _0x223e7f=_0x524eb7[_0x589e73(0x48f)]['id'];showColorPalette(_0x524eb7,_0x223e7f);}else{if(_0x5e5548){const _0x2ae222=_0x5e5548[_0x589e73(0x48f)]['id'];_0x2ae222===_0x589e73(0x95c)?showStarredProjectView():(currentProjectId=_0x2ae222,await loadProjectDetails(currentProjectId),showView(_0x589e73(0x347)));}else{if(_0x4685c8){const _0x17db38=_0x4685c8[_0x589e73(0x48f)]['id'],_0x2b0b76=_0x4685c8[_0x589e73(0x48f)]['name'];showConfirmation(_0x589e73(0x41a)+_0x2b0b76+_0x589e73(0xc9c),()=>handleDeleteProject(_0x17db38));}}}}}),projectList['addEventListener']('dragstart',_0x46e036=>{const _0x3054fc=_0x487f42,_0x50d754=_0x46e036[_0x3054fc(0x5c1)][_0x3054fc(0xad9)](_0x3054fc(0x4a0));_0x50d754&&_0x50d754[_0x3054fc(0xad3)][_0x3054fc(0xa6b)]('opacity-50');}),projectList[_0x487f42(0x7d4)](_0x487f42(0xa50),_0x4cf7e6=>{const _0x187228=_0x487f42,_0xee905f=_0x4cf7e6[_0x187228(0x5c1)][_0x187228(0xad9)](_0x187228(0x4a0));_0xee905f&&_0xee905f[_0x187228(0xad3)]['remove'](_0x187228(0x8e5));}),projectList['addEventListener']('dragover',_0x4faea0=>{const _0x21fb42=_0x487f42;_0x4faea0[_0x21fb42(0xd6b)]();const _0x151c38=document['querySelector']('.project-card-container.opacity-50');if(!_0x151c38)return;const _0x1027da=getDragAfterElement(projectList,_0x4faea0['clientY']);_0x1027da==null?projectList[_0x21fb42(0x84d)](_0x151c38):projectList[_0x21fb42(0xb32)](_0x151c38,_0x1027da);}),projectList[_0x487f42(0x7d4)](_0x487f42(0x499),_0x45fa43=>{const _0x387ebe=_0x487f42;_0x45fa43['preventDefault']();const _0x324b56=[...projectList['querySelectorAll'](_0x387ebe(0x54c))][_0x387ebe(0x71d)](_0x143dd5=>_0x143dd5['dataset']['id']);saveProjectOrder(_0x324b56);});function renderBehaviorLog(_0xb8a82b){const _0x55eee7=_0x487f42,_0x501211=document[_0x55eee7(0x40a)](_0x55eee7(0x299));if(!_0x501211)return;const _0x14d76e=_0xb8a82b[_0x55eee7(0x24b)](_0x3eacac=>_0x3eacac['behaviorLog']&&_0x3eacac[_0x55eee7(0xb4b)][_0x55eee7(0xaf2)]>0x0);if(_0x14d76e['length']===0x0){_0x501211[_0x55eee7(0x843)]=_0x55eee7(0x50f);return;}let _0x1c4659='';_0x14d76e[_0x55eee7(0xa40)](_0x21dd37=>{const _0x4b3ae9=_0x55eee7;_0x1c4659+=_0x4b3ae9(0x9b4)+_0x21dd37['studentName']+_0x4b3ae9(0x581),_0x21dd37[_0x4b3ae9(0xb4b)][_0x4b3ae9(0x9ff)]((_0x23e009,_0x57e389)=>new Date(_0x57e389['timestamp'])-new Date(_0x23e009['timestamp']))['forEach'](_0x1ddb92=>{const _0x3c2fc3=_0x4b3ae9,_0x12afb4=new Date(_0x1ddb92['timestamp'])[_0x3c2fc3(0xc78)](_0x3c2fc3(0x700),{'dateStyle':_0x3c2fc3(0x7e4),'timeStyle':_0x3c2fc3(0x429)});_0x1c4659+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x1ddb92[_0x3c2fc3(0xcaa)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x12afb4+_0x3c2fc3(0x35e);}),_0x1c4659+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x501211[_0x55eee7(0x843)]=_0x1c4659;}function getDragAfterElement(_0x45dcd9,_0x5d4403){const _0x85623a=_0x487f42,_0x9dcdd0=[..._0x45dcd9[_0x85623a(0x93e)](_0x85623a(0x594))];return _0x9dcdd0[_0x85623a(0x209)]((_0x34ad14,_0xbe855a)=>{const _0x21361d=_0x85623a,_0x11b696=_0xbe855a[_0x21361d(0xc69)](),_0x43b493=_0x5d4403-_0x11b696[_0x21361d(0x8cf)]-_0x11b696[_0x21361d(0x70e)]/0x2;return _0x43b493<0x0&&_0x43b493>_0x34ad14[_0x21361d(0x910)]?{'offset':_0x43b493,'element':_0xbe855a}:_0x34ad14;},{'offset':Number['NEGATIVE_INFINITY']})['element'];}async function saveProjectOrder(_0x534645){const _0x1c2830=_0x487f42,_0x359532=doc(db,'globalSettings',_0x1c2830(0x80d));try{await setDoc(_0x359532,{'projectOrder':_0x534645},{'merge':!![]});}catch(_0x421927){console[_0x1c2830(0x81d)](_0x1c2830(0x893),_0x421927),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x3eaf0f,_0x5bba62={}){const _0xb0c1e7=_0x487f42;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0xb0c1e7(0x615)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x49e89d=doc(db,_0xb0c1e7(0x5c6)+appId+_0xb0c1e7(0xcef)+currentQuizData['id']+_0xb0c1e7(0x7ea),currentStudentName),_0x36232e={'event':_0x3eaf0f,'timestamp':new Date()['toISOString'](),..._0x5bba62};try{await updateDoc(_0x49e89d,{'behaviorLog':arrayUnion(_0x36232e)}),console[_0xb0c1e7(0x681)]('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+_0xb0c1e7(0xbb0));}catch(_0x38d703){_0x38d703[_0xb0c1e7(0x802)]==='not-found'?console[_0xb0c1e7(0x615)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console[_0xb0c1e7(0x81d)](_0xb0c1e7(0xb54),_0x38d703);}}function calculateMeanAndStdDev(_0x2cd836){const _0x3ade3f=_0x487f42;if(_0x2cd836[_0x3ade3f(0xaf2)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x4e0c43=_0x2cd836[_0x3ade3f(0x209)]((_0x12d2f0,_0x9a0108)=>_0x12d2f0+_0x9a0108,0x0)/_0x2cd836[_0x3ade3f(0xaf2)];if(_0x2cd836[_0x3ade3f(0xaf2)]===0x1)return{'mean':_0x4e0c43,'stdDev':0x0};const _0x3666ba=Math[_0x3ade3f(0xc52)](_0x2cd836['map'](_0x43bcb8=>Math['pow'](_0x43bcb8-_0x4e0c43,0x2))[_0x3ade3f(0x209)]((_0x508836,_0x20fc65)=>_0x508836+_0x20fc65,0x0)/(_0x2cd836[_0x3ade3f(0xaf2)]-0x1));return{'mean':_0x4e0c43,'stdDev':_0x3666ba};}function calculateZScore(_0x577e23,_0x357b35,_0x54c860){if(_0x54c860===0x0)return 0x0;return(_0x577e23-_0x357b35)/_0x54c860;}function calculateTScore(_0x1d265e){return 0xa*_0x1d265e+0x32;}function showStarredProjectView(){const _0x5f263f=_0x487f42;currentProjectId='starred',currentProjectData=null,projectTitle[_0x5f263f(0x642)]=_0x5f263f(0x5e8),projectIdDisplay['textContent']=_0x5f263f(0xc54),showView('project-detail'),manageTab['classList'][_0x5f263f(0xa6b)](_0x5f263f(0xc0c)),leaderboardTab[_0x5f263f(0xad3)][_0x5f263f(0xa6b)](_0x5f263f(0xc0c)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x2b3afd){const _0x331e0f=_0x487f42,_0xabf729=doc(db,'artifacts/'+appId+_0x331e0f(0x248),_0x2b3afd),_0xd483a=await getDoc(_0xabf729);if(_0xd483a[_0x331e0f(0xd6a)]()){manageTab[_0x331e0f(0xad3)][_0x331e0f(0x432)](_0x331e0f(0xc0c)),leaderboardTab[_0x331e0f(0xad3)]['remove'](_0x331e0f(0xc0c)),currentProjectData=_0xd483a[_0x331e0f(0x225)](),projectTitle[_0x331e0f(0x642)]=currentProjectData['projectName'],projectIdDisplay[_0x331e0f(0x642)]=_0x2b3afd;const _0x1cca07=currentProjectData[_0x331e0f(0x7ba)]||{};document[_0x331e0f(0x40a)](_0x331e0f(0x5c2))[_0x331e0f(0x6cb)]=_0x1cca07['shuffleSetting']||_0x331e0f(0xaec);const _0xf96b53=document[_0x331e0f(0x40a)](_0x331e0f(0xbd5));_0xf96b53['checked']=_0x1cca07[_0x331e0f(0x65e)]!==![];const _0xa5e8d6=document['getElementById'](_0x331e0f(0x845)),_0x3a3a9c=document[_0x331e0f(0x40a)](_0x331e0f(0x2fe)),_0xb517f4=document[_0x331e0f(0x40a)](_0x331e0f(0x95a)),_0x57b809=_0x1cca07[_0x331e0f(0x38b)]||![];_0xa5e8d6['checked']=_0x57b809,_0xb517f4[_0x331e0f(0x6cb)]=_0x1cca07[_0x331e0f(0xca0)]||'',_0x3a3a9c[_0x331e0f(0xad3)]['toggle'](_0x331e0f(0xc0c),!_0x57b809),_0xa5e8d6[_0x331e0f(0x211)]=()=>{const _0x4a71b8=_0x331e0f;_0x3a3a9c[_0x4a71b8(0xad3)]['toggle'](_0x4a71b8(0xc0c),!_0xa5e8d6[_0x4a71b8(0x6f6)]);},document[_0x331e0f(0x40a)](_0x331e0f(0x82a))[_0x331e0f(0x6f6)]=_0x1cca07['isConfidenceScoringEnabled']||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x2b3afd),listenForProjectQuizzes(_0x2b3afd),listenForStudentProfiles(_0x2b3afd);}else showMessage(_0x331e0f(0x95f)),showView(_0x331e0f(0x3d1));}async function handleResetProjectOrder(){const _0x5277e6=_0x487f42,_0x15cff9=doc(db,_0x5277e6(0x440),_0x5277e6(0x80d));try{await setDoc(_0x15cff9,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x5277e6(0x6fe));}catch(_0x460145){console[_0x5277e6(0x81d)](_0x5277e6(0x576),_0x460145),showMessage(_0x5277e6(0x7df));}}async function handleTogglePinProject(_0x3e7c3f){const _0x238b08=_0x487f42;if(!_0x3e7c3f)return;const _0x470d9e=doc(db,_0x238b08(0x5c6)+appId+_0x238b08(0x248),_0x3e7c3f);try{const _0x50a877=await getDoc(_0x470d9e);if(_0x50a877[_0x238b08(0xd6a)]()){const _0x24bd1b=_0x50a877[_0x238b08(0x225)]()[_0x238b08(0xcea)]||![];await updateDoc(_0x470d9e,{'isPinned':!_0x24bd1b});}}catch(_0x22dc42){console[_0x238b08(0x81d)](_0x238b08(0x229),_0x22dc42),showMessage(_0x238b08(0x27f));}}async function handleDeleteProject(_0x796a11){const _0x16193a=_0x487f42;try{const _0x21b058=writeBatch(db),_0x3dd3e2=collection(db,_0x16193a(0x5c6)+appId+'/public/data/quizzes'),_0x2e5dd6=query(_0x3dd3e2,where(_0x16193a(0x84e),'==',_0x796a11)),_0x499f4f=await getDocs(_0x2e5dd6);for(const _0x275e00 of _0x499f4f['docs']){const _0x2f5b2a=collection(db,'artifacts/'+appId+_0x16193a(0xcef)+_0x275e00['id']+'/submissions'),_0x588d12=await getDocs(_0x2f5b2a);_0x588d12[_0x16193a(0xa40)](_0x368c45=>{const _0x4232e7=_0x16193a;_0x21b058[_0x4232e7(0xbc5)](_0x368c45['ref']);}),_0x21b058['delete'](_0x275e00['ref']);}const _0x3732c9=collection(db,'artifacts/'+appId+_0x16193a(0xc3b)+_0x796a11+_0x16193a(0x36d)),_0x10db2b=await getDocs(_0x3732c9);_0x10db2b[_0x16193a(0xa40)](_0x275757=>{_0x21b058['delete'](_0x275757['ref']);});const _0x455af0=doc(db,'artifacts/'+appId+_0x16193a(0x248),_0x796a11);_0x21b058[_0x16193a(0xbc5)](_0x455af0),await _0x21b058['commit'](),showMessage(_0x16193a(0xa3f)),showView(_0x16193a(0x3d1));}catch(_0x1cf546){console[_0x16193a(0x81d)](_0x16193a(0x342),_0x1cf546),showMessage(_0x16193a(0x9d6));}}document[_0x487f42(0x40a)]('save-settings-btn')[_0x487f42(0x7d4)](_0x487f42(0x859),async()=>{const _0x4165ec=_0x487f42;if(!currentProjectId)return;const _0x565d75={'defaultNumQuestions':parseInt(document[_0x4165ec(0x40a)](_0x4165ec(0xced))[_0x4165ec(0x6cb)]),'defaultNumChoices':parseInt(document[_0x4165ec(0x40a)](_0x4165ec(0x331))['value']),'defaultPassingScore':parseInt(document[_0x4165ec(0x40a)](_0x4165ec(0x8a6))[_0x4165ec(0x6cb)]),'resultsDisplay':document[_0x4165ec(0x40a)]('results-display-select')[_0x4165ec(0x6cb)],'shuffleSetting':document['getElementById'](_0x4165ec(0x5c2))[_0x4165ec(0x6cb)],'timerMode':document[_0x4165ec(0x40a)](_0x4165ec(0x564))[_0x4165ec(0x6cb)],'timerDuration':parseInt(document[_0x4165ec(0x40a)](_0x4165ec(0xb12))[_0x4165ec(0x6cb)]),'isConfidenceScoringEnabled':document['getElementById']('confidence-scoring-checkbox')[_0x4165ec(0x6f6)],'confidenceMode':document[_0x4165ec(0x40a)](_0x4165ec(0x862))[_0x4165ec(0x6cb)]};try{const _0x3f676b=doc(db,'artifacts/'+appId+_0x4165ec(0x248),currentProjectId);await updateDoc(_0x3f676b,{'settings':_0x565d75}),showMessage(_0x4165ec(0x881));}catch(_0x2c24d9){console[_0x4165ec(0x81d)](_0x4165ec(0x575),_0x2c24d9),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x5f3b82){const _0x1cb879=_0x487f42,_0x299875=doc(db,_0x1cb879(0x5c6)+appId+_0x1cb879(0x248),_0x5f3b82);unsubscribeStudentsListener=onSnapshot(_0x299875,_0x194a6a=>{const _0x3067ae=_0x1cb879;if(_0x194a6a[_0x3067ae(0xd6a)]()){const _0x252cf1=_0x194a6a['data']();currentProjectData=_0x252cf1,renderStudentList(_0x252cf1[_0x3067ae(0xbe8)]||[]);}});}function renderStudentList(_0xf35129){const _0x2ec74d=_0x487f42,_0x37943c=document[_0x2ec74d(0x40a)](_0x2ec74d(0x92c));_0xf35129[_0x2ec74d(0xaf2)]===0x0?(studentList[_0x2ec74d(0x843)]=_0x2ec74d(0x852),_0x37943c[_0x2ec74d(0xad3)]['add'](_0x2ec74d(0xc0c))):(studentList[_0x2ec74d(0x843)]=_0xf35129[_0x2ec74d(0x71d)](_0x25345e=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x25345e+_0x2ec74d(0x820)+_0x25345e+_0x2ec74d(0x23d))['join'](''),_0x37943c[_0x2ec74d(0xad3)][_0x2ec74d(0x432)](_0x2ec74d(0xc0c)));}document[_0x487f42(0x40a)]('add-student-btn')[_0x487f42(0x7d4)](_0x487f42(0x859),async()=>{const _0x26e7f2=_0x487f42;if(!currentProjectId)return;const _0xdf7869=document[_0x26e7f2(0x40a)](_0x26e7f2(0x7e5)),_0x31de45=_0xdf7869[_0x26e7f2(0x6cb)]['trim']();if(!_0x31de45){showMessage(_0x26e7f2(0x3a2));return;}const _0x246a24=_0x31de45[_0x26e7f2(0x67b)]('\x0a')['map'](_0x37baac=>_0x37baac[_0x26e7f2(0x1fb)]())['filter'](_0x11b192=>_0x11b192);if(_0x246a24[_0x26e7f2(0xaf2)]===0x0)return;try{const _0x5eccaa=doc(db,'artifacts/'+appId+_0x26e7f2(0x248),currentProjectId),_0x1e40f6=await getDoc(_0x5eccaa);if(_0x1e40f6['exists']()){const _0x56dfc4=_0x1e40f6[_0x26e7f2(0x225)]()['students']||[],_0x47b0ac=[...new Set([..._0x56dfc4,..._0x246a24])];await updateDoc(_0x5eccaa,{'students':_0x47b0ac}),_0xdf7869[_0x26e7f2(0x6cb)]='';}}catch(_0x456959){console[_0x26e7f2(0x81d)](_0x26e7f2(0x206),_0x456959),showMessage(_0x26e7f2(0x4c7));}});async function handleManualQuizPairing(_0x4472b9){const _0x4866cf=_0x487f42,_0x12666b=document[_0x4866cf(0x40a)](_0x4866cf(0x8a0)),_0x5508fe=document['getElementById'](_0x4866cf(0x2db)),_0x374f16=_0x12666b[_0x4866cf(0xaef)]('h3'),_0x5dfa3f=document[_0x4866cf(0x40a)](_0x4866cf(0x40f)),_0x4fd3b1=document[_0x4866cf(0x40a)]('cancel-move-quiz-btn');_0x374f16[_0x4866cf(0x642)]='จับคู่เพื่อเปรียบเทียบผล',_0x5508fe[_0x4866cf(0x843)]='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x5dfa3f[_0x4866cf(0x642)]=_0x4866cf(0xc70),_0x12666b[_0x4866cf(0xad3)][_0x4866cf(0x432)](_0x4866cf(0xc0c));const _0x170881=allQuizzes[_0x4866cf(0x24b)](_0x5700e8=>_0x5700e8['id']!==_0x4472b9);_0x170881[_0x4866cf(0xaf2)]===0x0?(_0x5508fe[_0x4866cf(0x843)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x5dfa3f['disabled']=!![]):(_0x5508fe[_0x4866cf(0x843)]=_0x4866cf(0x8e6)+_0x170881[_0x4866cf(0x71d)](_0x312ca5=>_0x4866cf(0x648)+_0x312ca5['id']+'\x22>'+_0x312ca5[_0x4866cf(0xc30)]+_0x4866cf(0x343))[_0x4866cf(0xb00)](''),_0x5dfa3f[_0x4866cf(0x4c2)]=![]);const _0x3af227=async()=>{const _0xc7d2ef=_0x4866cf,_0x437e30=_0x5508fe[_0xc7d2ef(0x6cb)];if(!_0x437e30){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x5dfa3f[_0xc7d2ef(0x4c2)]=!![],_0x5dfa3f['textContent']=_0xc7d2ef(0xc41);try{const _0x16201a=doc(db,_0xc7d2ef(0x5c6)+appId+'/public/data/quizzes',_0x4472b9),_0x430ea1=doc(db,'artifacts/'+appId+_0xc7d2ef(0x7ac),_0x437e30),_0x17c459=writeBatch(db);_0x17c459[_0xc7d2ef(0x3ad)](_0x16201a,{'pairedQuizId':_0x437e30}),_0x17c459[_0xc7d2ef(0x3ad)](_0x430ea1,{'pairedQuizId':_0x4472b9}),await _0x17c459[_0xc7d2ef(0xb82)](),showMessage(_0xc7d2ef(0xb35)),_0x12666b[_0xc7d2ef(0xad3)][_0xc7d2ef(0xa6b)](_0xc7d2ef(0xc0c));}catch(_0x35fd5e){console[_0xc7d2ef(0x81d)](_0xc7d2ef(0x90a),_0x35fd5e),showMessage(_0xc7d2ef(0xb92));}finally{_0x374f16[_0xc7d2ef(0x642)]=_0xc7d2ef(0x993),_0x5dfa3f['textContent']='ย้าย',_0x5dfa3f[_0xc7d2ef(0x4c2)]=![],_0x5dfa3f[_0xc7d2ef(0x636)](_0xc7d2ef(0x859),_0x3af227),_0x4fd3b1[_0xc7d2ef(0x636)](_0xc7d2ef(0x859),_0x364870);}},_0x364870=()=>{const _0x5b0f65=_0x4866cf;_0x12666b[_0x5b0f65(0xad3)]['add'](_0x5b0f65(0xc0c)),_0x374f16['textContent']=_0x5b0f65(0x993),_0x5dfa3f[_0x5b0f65(0x642)]='ย้าย',_0x5dfa3f[_0x5b0f65(0x636)](_0x5b0f65(0x859),_0x3af227),_0x4fd3b1['removeEventListener']('click',_0x364870);};_0x5dfa3f['addEventListener']('click',_0x3af227),_0x4fd3b1[_0x4866cf(0x7d4)]('click',_0x364870);}function handleDeleteStudent(_0x322734){const _0x575a4b=_0x487f42;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x322734+_0x575a4b(0x315),async()=>{const _0xdbea4f=_0x575a4b;if(!currentProjectId||!currentProjectData)return;const _0x256289=currentProjectData[_0xdbea4f(0xbe8)]['filter'](_0x19264d=>_0x19264d!==_0x322734);try{const _0x15170b=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId),_0x5f0330=doc(db,_0xdbea4f(0x5c6)+appId+_0xdbea4f(0xc3b)+currentProjectId+_0xdbea4f(0x36d),_0x322734),_0x2c0e0f=writeBatch(db);_0x2c0e0f[_0xdbea4f(0x3ad)](_0x15170b,{'students':_0x256289}),_0x2c0e0f[_0xdbea4f(0xbc5)](_0x5f0330),await _0x2c0e0f['commit']();}catch(_0x15baa8){console[_0xdbea4f(0x81d)]('Error\x20deleting\x20student:',_0x15baa8),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){const _0x52fdeb=_0x487f42;showConfirmation(_0x52fdeb(0x3fc),async()=>{const _0x30d1aa=_0x52fdeb;if(!currentProjectId)return;try{const _0x31ff8c=doc(db,_0x30d1aa(0x5c6)+appId+_0x30d1aa(0x248),currentProjectId),_0x53060a=collection(db,'artifacts/'+appId+_0x30d1aa(0xc3b)+currentProjectId+_0x30d1aa(0x36d)),_0x4d5819=await getDocs(_0x53060a),_0x3f2a59=writeBatch(db);_0x3f2a59[_0x30d1aa(0x3ad)](_0x31ff8c,{'students':[]}),_0x4d5819[_0x30d1aa(0xa40)](_0x4ddb71=>_0x3f2a59[_0x30d1aa(0xbc5)](_0x4ddb71['ref'])),await _0x3f2a59[_0x30d1aa(0xb82)]();}catch(_0x1ee5df){console[_0x30d1aa(0x81d)](_0x30d1aa(0x89e),_0x1ee5df),showMessage(_0x30d1aa(0x3a1));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x24edf2){const _0x2f4226=_0x487f42,_0xa8c18a=document['getElementById'](_0x2f4226(0x784)),_0x581b76=document[_0x2f4226(0x40a)](_0x2f4226(0x3d5));_0xa8c18a[_0x2f4226(0xad3)][_0x2f4226(0x432)]('hidden'),_0x581b76['innerHTML']=_0x2f4226(0x231);try{const _0x14981b=new FileReader();_0x14981b[_0x2f4226(0x5f3)](_0x24edf2),await new Promise((_0x26fd70,_0x59d14a)=>{const _0x5ac654=_0x2f4226;_0x14981b[_0x5ac654(0x2e1)]=()=>{const _0x45a87f=_0x5ac654;fileDataBase64=_0x14981b[_0x45a87f(0x751)][_0x45a87f(0x67b)](',')[0x1],fileMimeType=_0x24edf2[_0x45a87f(0x50b)],_0x26fd70();},_0x14981b['onerror']=_0x22881d=>_0x59d14a(_0x22881d);});if(!fileDataBase64)throw new Error(_0x2f4226(0x878));const _0x463dc4=_0x2f4226(0xc83),_0x44ce8e={'type':'OBJECT','properties':{'topics':{'type':_0x2f4226(0x22b),'items':{'type':_0x2f4226(0x8d7)}}},'required':[_0x2f4226(0x59a)]},_0x1c49b7=[{'text':_0x463dc4},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x155f8b=await handleApiCall(_0x1c49b7,'กำลังวิเคราะห์หัวข้อ...',_0x44ce8e,null,![]);if(_0x155f8b&&_0x155f8b[_0x2f4226(0x59a)])extractedFileTopics=_0x155f8b[_0x2f4226(0x59a)],renderFileTopics();else throw new Error(_0x2f4226(0x800));}catch(_0x4965dd){console[_0x2f4226(0x81d)]('Error\x20analyzing\x20file\x20for\x20topics:',_0x4965dd),_0x581b76[_0x2f4226(0x843)]=_0x2f4226(0x4f8)+_0x4965dd['message']+'</p>';}}function renderFileTopics(){const _0x1d20a0=_0x487f42,_0x208796=document[_0x1d20a0(0x40a)]('file-topics-list');if(extractedFileTopics[_0x1d20a0(0xaf2)]===0x0){_0x208796['innerHTML']=_0x1d20a0(0x457);return;}_0x208796[_0x1d20a0(0x843)]=extractedFileTopics[_0x1d20a0(0x71d)](_0x5c10d1=>_0x1d20a0(0x856)+_0x5c10d1+_0x1d20a0(0xc44)+escape(_0x5c10d1)+_0x1d20a0(0x8ef)+escape(_0x5c10d1)+_0x1d20a0(0x3a9))['join']('');}async function generateHybridQuizForTopic(_0x330507){const _0x59d01a=_0x487f42,_0x1d6c87=parseInt(document[_0x59d01a(0x40a)](_0x59d01a(0xced))[_0x59d01a(0x6cb)],0xa),_0x1bcc77=document['getElementById'](_0x59d01a(0x9b8))[_0x59d01a(0x6cb)],_0x5cfe49=document['getElementById'](_0x59d01a(0x331))[_0x59d01a(0x6cb)],_0x53494d=document[_0x59d01a(0x40a)](_0x59d01a(0xb24))[_0x59d01a(0x6f6)],_0x2091f9=_0x53494d?_0x59d01a(0x30e):_0x59d01a(0x6f3);let _0x380580='',_0x1679b0;const _0xca1e2={'type':_0x59d01a(0xaaa),'properties':{'questionText':{'type':_0x59d01a(0x8d7)},'options':{'type':'ARRAY','items':{'type':_0x59d01a(0x8d7)}},'correctAnswerIndex':{'type':_0x59d01a(0x6c0)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x59d01a(0x467),_0x59d01a(0x614),'correctAnswerIndex',_0x59d01a(0x712)]},_0xb829b5={'type':_0x59d01a(0xaaa),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x59d01a(0x1f7)},'explanation':{'type':_0x59d01a(0x8d7)},'imageCode':{'type':_0x59d01a(0x8d7)}},'required':[_0x59d01a(0x467),'correctAnswer',_0x59d01a(0x712)]},_0x37ce5c={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x59d01a(0x8d7)},'explanation':{'type':_0x59d01a(0x8d7)},'imageCode':{'type':_0x59d01a(0x8d7)}},'required':[_0x59d01a(0x467),_0x59d01a(0x73f),'explanation']},_0x8574cf={'type':_0x59d01a(0xaaa),'properties':{'questionType':{'type':_0x59d01a(0x8d7),'enum':[_0x59d01a(0x252)]},'stem':{'type':_0x59d01a(0x8d7)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x59d01a(0x22b),'items':{'type':_0x59d01a(0x8d7)}},'explanation':{'type':_0x59d01a(0x8d7)},'imageCode':{'type':_0x59d01a(0x8d7)}},'required':[_0x59d01a(0x8c6),_0x59d01a(0x593),_0x59d01a(0xb98),_0x59d01a(0x513),_0x59d01a(0x712)]};switch(_0x1bcc77){case _0x59d01a(0xd14):_0x380580=_0x59d01a(0x53f)+_0x5cfe49+'\x20ตัวเลือก)',_0x1679b0=_0xca1e2;break;case _0x59d01a(0x355):_0x380580=_0x59d01a(0x721),_0x1679b0=_0xb829b5;break;case _0x59d01a(0x855):_0x380580=_0x59d01a(0x67e),_0x1679b0=_0x37ce5c;break;case _0x59d01a(0xd49):_0x380580=_0x59d01a(0x2c0),_0x1679b0=_0x8574cf;break;case _0x59d01a(0x59f):_0x380580=_0x59d01a(0xa15)+_0x5cfe49+_0x59d01a(0x74d),_0x1679b0=_0xca1e2;break;default:_0x380580=_0x59d01a(0x53f)+_0x5cfe49+_0x59d01a(0x74d),_0x1679b0=_0xca1e2;break;}const _0x36163f=_0x59d01a(0xc08),_0x4f13e9=document[_0x59d01a(0x40a)](_0x59d01a(0x61c)),_0x2b8b30=document[_0x59d01a(0x40a)](_0x59d01a(0x88d)),_0x3054f8=document[_0x59d01a(0x40a)]('generated-quiz-container');document[_0x59d01a(0x40a)](_0x59d01a(0x50c))['classList'][_0x59d01a(0x432)](_0x59d01a(0xc0c)),_0x3054f8['innerHTML']='',_0x4f13e9[_0x59d01a(0xad3)][_0x59d01a(0x432)](_0x59d01a(0xc0c)),_0x2b8b30[_0x59d01a(0x642)]='AI\x20กำลังสร้างแบบทดสอบ\x20\x22'+_0x330507+_0x59d01a(0x9f9)+_0x1d6c87+_0x59d01a(0x806);try{const _0x17df26=_0x59d01a(0xc23),_0x54ffd1=_0x59d01a(0x6e6)+_0x330507+'\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20'+_0x1d6c87+_0x59d01a(0x8ba)+_0x330507+_0x59d01a(0xcf8)+_0x1d6c87+_0x59d01a(0xd2f)+_0x2091f9+_0x59d01a(0x276)+_0x380580+_0x59d01a(0x8c3)+_0x36163f+_0x59d01a(0xbc4)+_0x17df26+_0x59d01a(0xb5a)+simpleMathPrompt+_0x59d01a(0xb34),_0x1604a8={'type':_0x59d01a(0xaaa),'properties':{'topic':{'type':_0x59d01a(0x8d7)},'questions':{'type':_0x59d01a(0x22b),'items':_0x1679b0}},'required':['topic',_0x59d01a(0x726)]},_0x4ea300=[{'text':_0x54ffd1},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x4ea300,_0x59d01a(0x959)+_0x330507+_0x59d01a(0xbb8),_0x1604a8);}catch(_0x100e7a){console['error'](_0x59d01a(0x293),_0x100e7a),showMessage(_0x59d01a(0x888)+_0x100e7a[_0x59d01a(0xc94)]),_0x3054f8[_0x59d01a(0x843)]=_0x59d01a(0x4c9);}finally{_0x4f13e9[_0x59d01a(0xad3)][_0x59d01a(0xa6b)](_0x59d01a(0xc0c));}}async function handleGenerateFromFileClick(){const _0x277ba2=_0x487f42;if(!selectedFile){showMessage(_0x277ba2(0x74e));return;}const _0xae5d82=document['getElementById'](_0x277ba2(0x61c)),_0x2768de=document[_0x277ba2(0x40a)](_0x277ba2(0x88d)),_0x5c4d43=document[_0x277ba2(0x40a)]('generated-quiz-container'),_0x32bb86=document[_0x277ba2(0x40a)]('generate-from-file-btn');_0x32bb86[_0x277ba2(0x4c2)]=!![],document['getElementById'](_0x277ba2(0x50c))[_0x277ba2(0xad3)]['remove'](_0x277ba2(0xc0c)),_0x5c4d43[_0x277ba2(0x843)]='',_0xae5d82[_0x277ba2(0xad3)][_0x277ba2(0x432)]('hidden'),_0x2768de['textContent']=_0x277ba2(0xae9);try{const _0x1f41b5=await new Promise((_0x3187ef,_0x1ced6a)=>{const _0x953c86=_0x277ba2,_0x59ae17=new FileReader();_0x59ae17[_0x953c86(0x5f3)](selectedFile),_0x59ae17[_0x953c86(0x2e1)]=()=>_0x3187ef(_0x59ae17[_0x953c86(0x751)][_0x953c86(0x67b)](',')[0x1]),_0x59ae17[_0x953c86(0xc1b)]=_0x557aa6=>_0x1ced6a(_0x557aa6);});await generateQuizFromFile(selectedFile[_0x277ba2(0x50b)],_0x1f41b5);}catch(_0x57eb11){console['error'](_0x277ba2(0xd85),_0x57eb11),showMessage(_0x277ba2(0xc0e)+_0x57eb11[_0x277ba2(0xc94)]),_0xae5d82['classList']['add'](_0x277ba2(0xc0c)),_0x32bb86[_0x277ba2(0x4c2)]=![];}}function autoFormatMath(_0x1b15ac){if(typeof _0x1b15ac!=='string'||!_0x1b15ac)return _0x1b15ac;const _0x2360a4=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x4b3dcf=_0x1b15ac['replace'](_0x2360a4,_0x9243e2=>{const _0x12ee19=_0x4191;return'$'+_0x9243e2[_0x12ee19(0x1fb)]()+'$';});return _0x4b3dcf;}function sanitizeQuizData(_0xffa3d6){const _0x2bd5c0=_0x487f42;if(!_0xffa3d6||!_0xffa3d6[_0x2bd5c0(0x726)])return _0xffa3d6;const _0x5b51e0={'imes':_0x2bd5c0(0x917),'div':'\x5cdiv'},_0x4e0bc7=_0x2b9861=>{const _0x37e75a=_0x2bd5c0;if(typeof _0x2b9861!=='string')return _0x2b9861;let _0x26f0ff=_0x2b9861;for(const [_0x4788f5,_0x29481c]of Object['entries'](_0x5b51e0)){const _0x462a61=new RegExp('\x5cb'+_0x4788f5+'\x5cb','g');_0x26f0ff=_0x26f0ff['replace'](_0x462a61,_0x29481c);}return _0x26f0ff=_0x26f0ff['replace'](/\\\//g,_0x37e75a(0x26c)),_0x26f0ff=_0x26f0ff[_0x37e75a(0xa3d)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x37e75a(0x26c))[_0x37e75a(0xa3d)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x37e75a(0x917))[_0x37e75a(0xa3d)](/÷/g,_0x37e75a(0x26c))[_0x37e75a(0xa3d)](/×/g,_0x37e75a(0x917)),_0x26f0ff=_0x26f0ff[_0x37e75a(0xa3d)](/(\d)(\\frac)/g,_0x37e75a(0xa41)),_0x26f0ff=autoFormatMath(_0x26f0ff),_0x26f0ff;};return _0xffa3d6[_0x2bd5c0(0xc30)]&&(_0xffa3d6[_0x2bd5c0(0xc30)]=_0x4e0bc7(_0xffa3d6['topic'])),_0xffa3d6[_0x2bd5c0(0x726)][_0x2bd5c0(0xa40)](_0x5223ea=>{const _0x5b56fe=_0x2bd5c0;_0x5223ea[_0x5b56fe(0x467)]=_0x4e0bc7(_0x5223ea[_0x5b56fe(0x467)]),_0x5223ea['options']&&(_0x5223ea['options']=_0x5223ea[_0x5b56fe(0x614)][_0x5b56fe(0x71d)](_0x4e0bc7)),_0x5223ea[_0x5b56fe(0x712)]&&(_0x5223ea[_0x5b56fe(0x712)]=_0x4e0bc7(_0x5223ea[_0x5b56fe(0x712)])),_0x5223ea[_0x5b56fe(0x593)]&&(_0x5223ea[_0x5b56fe(0x593)]=_0x4e0bc7(_0x5223ea[_0x5b56fe(0x593)])),_0x5223ea[_0x5b56fe(0xb98)]&&(_0x5223ea[_0x5b56fe(0xb98)]=_0x4e0bc7(_0x5223ea[_0x5b56fe(0xb98)])),_0x5223ea[_0x5b56fe(0x513)]&&(_0x5223ea[_0x5b56fe(0x513)]=_0x5223ea[_0x5b56fe(0x513)][_0x5b56fe(0x71d)](_0x4e0bc7));}),_0xffa3d6;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x1b2eb7=_0x487f42,_0x17add4=document[_0x1b2eb7(0x40a)]('link-url-input'),_0x4eb186=document['getElementById'](_0x1b2eb7(0xa31)),_0x393f97=_0x17add4[_0x1b2eb7(0x6cb)][_0x1b2eb7(0x1fb)](),_0x18c639=_0x4eb186[_0x1b2eb7(0x6cb)][_0x1b2eb7(0x1fb)]();if(!_0x393f97){showMessage(_0x1b2eb7(0x454));return;}const _0x261de9=document[_0x1b2eb7(0x40a)](_0x1b2eb7(0x61c)),_0xdbee9b=document[_0x1b2eb7(0x40a)](_0x1b2eb7(0x88d)),_0x51d75e=document[_0x1b2eb7(0x40a)](_0x1b2eb7(0xcf7)),_0x283158=document['getElementById'](_0x1b2eb7(0x640));document[_0x1b2eb7(0x40a)]('quiz-generation-area')[_0x1b2eb7(0xad3)][_0x1b2eb7(0x432)](_0x1b2eb7(0xc0c)),_0x51d75e[_0x1b2eb7(0x843)]='',_0x261de9['classList'][_0x1b2eb7(0x432)]('hidden'),_0xdbee9b[_0x1b2eb7(0x642)]=_0x1b2eb7(0x4a9),_0x283158['disabled']=!![];try{const _0x21ac17=_0x1b2eb7(0x480)+encodeURIComponent(_0x393f97),_0x4b4428=await fetch(_0x21ac17);if(!_0x4b4428['ok'])throw new Error(_0x1b2eb7(0xa82)+_0x4b4428[_0x1b2eb7(0xade)]+')');const _0x324f40=await _0x4b4428[_0x1b2eb7(0x274)](),_0x4c1013=extractTextFromHtml(_0x324f40);if(!_0x4c1013||_0x4c1013[_0x1b2eb7(0xaf2)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x18c639,_0x4c1013);}catch(_0x468420){console[_0x1b2eb7(0x81d)](_0x1b2eb7(0x51d),_0x468420),showMessage(_0x1b2eb7(0x888)+_0x468420[_0x1b2eb7(0xc94)]),_0x51d75e[_0x1b2eb7(0x843)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x261de9[_0x1b2eb7(0xad3)][_0x1b2eb7(0xa6b)](_0x1b2eb7(0xc0c)),_0x283158[_0x1b2eb7(0x4c2)]=![];}}function extractTextFromHtml(_0x162a06){const _0x390062=_0x487f42,_0xdc1f73=new DOMParser()[_0x390062(0x7fd)](_0x162a06,'text/html');return _0xdc1f73['querySelectorAll'](_0x390062(0xb88))[_0x390062(0xa40)](_0x5373cb=>_0x5373cb[_0x390062(0x432)]()),_0xdc1f73[_0x390062(0x4f1)][_0x390062(0x642)]||'';}document[_0x487f42(0x40a)](_0x487f42(0x5ed))[_0x487f42(0x7d4)](_0x487f42(0x859),()=>{const _0x40ad71=_0x487f42,_0x5edcdd=document[_0x40ad71(0x40a)]('topic-input')['value'][_0x40ad71(0x1fb)]();generateQuiz(_0x5edcdd,null);}),document[_0x487f42(0x40a)]('generate-from-text-btn')['addEventListener'](_0x487f42(0x859),()=>{const _0x58c30e=_0x487f42,_0x162325=document[_0x58c30e(0x40a)](_0x58c30e(0x39b))['value'][_0x58c30e(0x1fb)]();if(!_0x162325){showMessage(_0x58c30e(0x444));return;}const _0x312edd=document[_0x58c30e(0x40a)](_0x58c30e(0x3cc))[_0x58c30e(0x6cb)][_0x58c30e(0x1fb)]();generateQuiz(_0x312edd,_0x162325);});async function generateQuiz(_0x152297,_0x23ee75,_0x191fd4=null,_0x3f1d38=null,_0x541b7e=![],_0x1917a9=null,_0x40b634=null,_0x3df26d=![]){const _0x2ebb5e=_0x487f42;let _0x2574fa={};if(_0x541b7e&&blueprintPageSettings)_0x2574fa=blueprintPageSettings;else{const _0x5a67b6=document[_0x2ebb5e(0x93e)]('#math-topics-checkbox-container\x20input:checked');_0x2574fa={'quizType':document[_0x2ebb5e(0x40a)](_0x2ebb5e(0x9b8))['value'],'numQuestions':document[_0x2ebb5e(0x40a)](_0x2ebb5e(0xced))['value'],'numChoices':document['getElementById'](_0x2ebb5e(0x331))[_0x2ebb5e(0x6cb)],'includeImages':document['getElementById'](_0x2ebb5e(0xb24))[_0x2ebb5e(0x6f6)],'isNormalTopic':document[_0x2ebb5e(0x40a)](_0x2ebb5e(0x83c))[_0x2ebb5e(0x6f6)],'difficultyValue':document['getElementById'](_0x2ebb5e(0xcd2))[_0x2ebb5e(0x6cb)],'complexityValue':document[_0x2ebb5e(0x40a)](_0x2ebb5e(0x31f))[_0x2ebb5e(0x6cb)],'selectedTopicNames':Array[_0x2ebb5e(0x445)](_0x5a67b6)['map'](_0x541013=>_0x541013[_0x2ebb5e(0x6cb)])};}const _0x16a0bd=_0x2574fa[_0x2ebb5e(0x43b)]?'':_0x2ebb5e(0x64b),_0x5de61d=_0x2574fa[_0x2ebb5e(0x6e3)]!=='auto'?'โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x2574fa[_0x2ebb5e(0x6e3)]+'\x22':'',_0x144d95=_0x2574fa['complexityValue']!=='mixed'?_0x2ebb5e(0x61b)+_0x2574fa[_0x2ebb5e(0x9f1)]+_0x2ebb5e(0x5a4):'';let _0x5608b8='';_0x2574fa['selectedTopicNames']&&_0x2574fa['selectedTopicNames'][_0x2ebb5e(0xaf2)]>0x0&&(_0x5608b8=_0x2ebb5e(0x42a)+_0x2574fa[_0x2ebb5e(0x7a9)][_0x2ebb5e(0xb00)](',\x20')+'.');let _0x146e23='';_0x3f1d38&&(_0x146e23=_0x2ebb5e(0x80e));let _0x1db78e='',_0x2a3d68='',_0x427322,_0x1adbd1=_0x2ebb5e(0x866)+_0x152297+'\x22';if(!_0x152297&&_0x23ee75)_0x1adbd1=_0x2ebb5e(0xbb7);else!_0x152297&&!_0x23ee75&&(_0x1adbd1='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x22d54b={'type':_0x2ebb5e(0xaaa),'properties':{'questionText':{'type':_0x2ebb5e(0x8d7)},'options':{'type':'ARRAY','items':{'type':_0x2ebb5e(0x8d7)}},'correctAnswerIndex':{'type':_0x2ebb5e(0x6c0)},'explanation':{'type':_0x2ebb5e(0x8d7)},'imageCode':{'type':_0x2ebb5e(0x8d7)}},'required':[_0x2ebb5e(0x467),_0x2ebb5e(0x614),'correctAnswerIndex',_0x2ebb5e(0x712)]},_0x3125e2={'type':'OBJECT','properties':{'questionText':{'type':_0x2ebb5e(0x8d7)},'idealAnswer':{'type':_0x2ebb5e(0x8d7)},'explanation':{'type':_0x2ebb5e(0x8d7)},'imageCode':{'type':_0x2ebb5e(0x8d7)}},'required':[_0x2ebb5e(0x467),_0x2ebb5e(0x73f),_0x2ebb5e(0x712)]},_0x2d58f2={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x2ebb5e(0x8d7),'enum':[_0x2ebb5e(0xd14),_0x2ebb5e(0xa84)]},'options':{'type':_0x2ebb5e(0x22b),'items':{'type':_0x2ebb5e(0x8d7)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x2ebb5e(0x8d7)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2ebb5e(0x8d7)}},'required':[_0x2ebb5e(0x467),'questionType',_0x2ebb5e(0x712)]},_0x3e15be={'type':_0x2ebb5e(0xaaa),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x2ebb5e(0x1f7)},'explanation':{'type':_0x2ebb5e(0x8d7)},'imageCode':{'type':'STRING'}},'required':[_0x2ebb5e(0x467),_0x2ebb5e(0x5cc),_0x2ebb5e(0x712)]},_0x40ea3={'type':_0x2ebb5e(0xaaa),'properties':{'questionType':{'type':_0x2ebb5e(0x8d7),'enum':['matching_item']},'stem':{'type':_0x2ebb5e(0x8d7)},'correctResponse':{'type':_0x2ebb5e(0x8d7)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2ebb5e(0x8d7)}},'required':[_0x2ebb5e(0x8c6),_0x2ebb5e(0x593),'correctResponse','allResponses','explanation']};let _0x3f0432;if(_0x191fd4!==null){const _0x1ef9df=currentQuizData[_0x2ebb5e(0x726)][_0x191fd4][_0x2ebb5e(0x8c6)],_0x3434bb=_0x2574fa[_0x2ebb5e(0x896)]?_0x2ebb5e(0xaa0):'';_0x1db78e=_0x2ebb5e(0x710)+_0x1adbd1+'\x20'+_0x5608b8+'\x20'+_0x5de61d+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x3434bb+'\x20'+simpleMathPrompt;if(_0x1ef9df===_0x2ebb5e(0xd14))_0x427322=_0x22d54b;else{if(_0x1ef9df==='matching_item')_0x427322={'type':'OBJECT','properties':{'questionType':{'type':_0x2ebb5e(0x8d7),'enum':[_0x2ebb5e(0x252)]},'stem':{'type':_0x2ebb5e(0x8d7)},'correctResponse':{'type':_0x2ebb5e(0x8d7)},'explanation':{'type':_0x2ebb5e(0x8d7)},'imageCode':{'type':_0x2ebb5e(0x8d7)}},'required':[_0x2ebb5e(0x8c6),_0x2ebb5e(0x593),_0x2ebb5e(0xb98),_0x2ebb5e(0x712)]};else _0x427322=_0x3125e2;}_0x3f0432=_0x427322;}else{const _0x280f07=_0x2574fa[_0x2ebb5e(0x896)]?_0x2ebb5e(0x353):'';switch(_0x2574fa[_0x2ebb5e(0xc13)]){case _0x2ebb5e(0xd14):_0x1db78e=_0x2ebb5e(0x3d9)+_0x16a0bd+'\x20'+_0x2574fa[_0x2ebb5e(0x685)]+_0x2ebb5e(0xbc2)+_0x1adbd1+'\x20'+_0x5608b8+'\x20'+_0x5de61d+'\x20'+_0x144d95+'\x20'+_0x146e23+_0x2ebb5e(0x3bd)+_0x2574fa[_0x2ebb5e(0x1f9)]+_0x2ebb5e(0xbdd)+_0x280f07+'\x20'+simpleMathPrompt,_0x427322=_0x22d54b;break;case _0x2ebb5e(0x59f):_0x1db78e=_0x2ebb5e(0xa30)+_0x16a0bd+'\x20'+_0x2574fa[_0x2ebb5e(0x685)]+_0x2ebb5e(0xbc2)+_0x1adbd1+'\x20'+_0x5608b8+'\x20'+_0x5de61d+'\x20'+_0x144d95+'\x20'+_0x146e23+_0x2ebb5e(0x2e7)+_0x2574fa['numChoices']+_0x2ebb5e(0xb1d)+_0x280f07+'\x20'+simpleMathPrompt,_0x427322=_0x22d54b;break;case'fill_in_no_choices':_0x1db78e=_0x2ebb5e(0xa30)+_0x16a0bd+'\x20'+_0x2574fa[_0x2ebb5e(0x685)]+_0x2ebb5e(0xbc2)+_0x1adbd1+'\x20'+_0x5608b8+'\x20'+_0x5de61d+'\x20'+_0x144d95+'\x20'+_0x146e23+_0x2ebb5e(0x4e8)+_0x280f07+'\x20'+simpleMathPrompt,_0x427322=_0x3125e2;break;case _0x2ebb5e(0xc50):_0x1db78e='สร้างแบบทดสอบ'+_0x16a0bd+'\x20'+_0x2574fa[_0x2ebb5e(0x685)]+'\x20ข้อ\x20'+_0x1adbd1+'\x20'+_0x5608b8+'\x20'+_0x5de61d+'\x20'+_0x144d95+'\x20'+_0x146e23+_0x2ebb5e(0x704)+_0x2574fa[_0x2ebb5e(0x1f9)]+_0x2ebb5e(0x52c)+_0x280f07+'\x20'+simpleMathPrompt+'.',_0x427322=_0x2d58f2;break;case'true_false':_0x1db78e=_0x2ebb5e(0x26f)+_0x16a0bd+'\x20'+_0x2574fa[_0x2ebb5e(0x685)]+'\x20ข้อ\x20'+_0x1adbd1+'\x20'+_0x5608b8+'\x20'+_0x5de61d+'\x20'+_0x144d95+'\x20'+_0x146e23+_0x2ebb5e(0x2c3)+_0x280f07+'\x20'+simpleMathPrompt,_0x427322=_0x3e15be;break;case'matching':_0x1db78e=_0x2ebb5e(0x7cb)+_0x16a0bd+'\x20'+_0x2574fa[_0x2ebb5e(0x685)]+_0x2ebb5e(0x78b)+_0x1adbd1+'\x20'+_0x5608b8+'\x20'+_0x5de61d+'\x20'+_0x144d95+'\x20'+_0x146e23+_0x2ebb5e(0xb6e)+_0x280f07+'\x20'+simpleMathPrompt,_0x427322=_0x40ea3;break;}_0x3f0432={'type':_0x2ebb5e(0xaaa),'properties':{'topic':{'type':_0x2ebb5e(0x8d7)},'questions':{'type':_0x2ebb5e(0x22b),'items':_0x427322}},'required':[_0x2ebb5e(0xc30),_0x2ebb5e(0x726)]};}const _0x5e774e=_0x2ebb5e(0x4e9);_0x23ee75?(_0x3df26d?_0x1db78e=_0x2ebb5e(0xbd4)+_0x23ee75+_0x2ebb5e(0x8f9)+_0x1db78e+_0x5e774e:_0x1db78e=_0x2ebb5e(0xbd4)+_0x23ee75+_0x2ebb5e(0x8f9)+_0x1db78e,_0x2a3d68='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):(_0x3df26d&&(_0x1db78e+=_0x5e774e),_0x2a3d68=_0x2ebb5e(0xadf));let _0x330586;return _0x3f1d38?(_0x330586=[{'text':_0x1db78e},..._0x3f1d38],_0x2a3d68=_0x2ebb5e(0xc74)):_0x330586=_0x1db78e,handleApiCall(_0x330586,_0x2a3d68,_0x3f0432,_0x191fd4,!![],_0x1917a9,_0x40b634);}async function generateQuizFromFile(_0x18f939,_0x3ecf0e){const _0x8a55a2=_0x487f42,_0x13a9d1=document[_0x8a55a2(0x40a)](_0x8a55a2(0xa04))[_0x8a55a2(0x6cb)][_0x8a55a2(0x1fb)](),_0x54ed28=document['getElementById']('quiz-type-select')[_0x8a55a2(0x6cb)],_0x35d117=document[_0x8a55a2(0x40a)](_0x8a55a2(0xced))[_0x8a55a2(0x6cb)],_0x53e0ce=document['getElementById'](_0x8a55a2(0x331))[_0x8a55a2(0x6cb)],_0x442bb6=document['getElementById'](_0x8a55a2(0xb24))[_0x8a55a2(0x6f6)],_0x4fbe0b=document[_0x8a55a2(0x40a)]('force-math-checkbox')[_0x8a55a2(0x6f6)],_0xcccc7b=_0x4fbe0b?'':_0x8a55a2(0x64b),_0x4e968d=document['getElementById'](_0x8a55a2(0x25f))['checked'];let _0x170ae3='',_0x190327;const _0x2a4be4=_0x442bb6?_0x8a55a2(0x353):'';if(_0x4e968d)_0x170ae3='\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a'+_0x2a4be4+'\x0a'+simpleMathPrompt+'\x0a',_0x190327={'type':_0x8a55a2(0xaaa),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':['multiple_choice','short_answer',_0x8a55a2(0x355),_0x8a55a2(0x252)]},'options':{'type':_0x8a55a2(0x22b),'items':{'type':_0x8a55a2(0x8d7)}},'correctAnswerIndex':{'type':_0x8a55a2(0x6c0)},'idealAnswer':{'type':_0x8a55a2(0x8d7)},'correctAnswer':{'type':_0x8a55a2(0x1f7)},'stem':{'type':_0x8a55a2(0x8d7)},'correctResponse':{'type':_0x8a55a2(0x8d7)},'allResponses':{'type':_0x8a55a2(0x22b),'items':{'type':_0x8a55a2(0x8d7)}},'explanation':{'type':_0x8a55a2(0x8d7)},'imageCode':{'type':_0x8a55a2(0x8d7)}},'required':[_0x8a55a2(0x8c6),_0x8a55a2(0x712)]};else{let _0x2bbbab=_0x8a55a2(0x866)+_0x13a9d1+'\x22';!_0x13a9d1&&(_0x2bbbab='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');switch(_0x54ed28){case _0x8a55a2(0xd14):_0x170ae3=_0x8a55a2(0x3d9)+_0xcccc7b+'\x20'+_0x35d117+_0x8a55a2(0xbc2)+_0x2bbbab+_0x8a55a2(0x3bd)+_0x53e0ce+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x2a4be4+'\x20'+simpleMathPrompt,_0x190327={'type':_0x8a55a2(0xaaa),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x8a55a2(0x22b),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x8a55a2(0x8d7)},'imageCode':{'type':_0x8a55a2(0x8d7)}},'required':[_0x8a55a2(0x467),_0x8a55a2(0x614),_0x8a55a2(0xb6f),'explanation']};break;case'fill_in_with_choices':_0x170ae3='สร้างคำถามแบบเติมคำในช่องว่าง'+_0xcccc7b+'\x20'+_0x35d117+'\x20ข้อ\x20'+_0x2bbbab+_0x8a55a2(0x2e7)+_0x53e0ce+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x2a4be4+'\x20'+simpleMathPrompt,_0x190327={'type':_0x8a55a2(0xaaa),'properties':{'questionText':{'type':_0x8a55a2(0x8d7)},'options':{'type':_0x8a55a2(0x22b),'items':{'type':_0x8a55a2(0x8d7)}},'correctAnswerIndex':{'type':_0x8a55a2(0x6c0)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x8a55a2(0x8d7)}},'required':[_0x8a55a2(0x467),_0x8a55a2(0x614),_0x8a55a2(0xb6f),_0x8a55a2(0x712)]};break;case _0x8a55a2(0x855):_0x170ae3=_0x8a55a2(0xa30)+_0xcccc7b+'\x20'+_0x35d117+_0x8a55a2(0xbc2)+_0x2bbbab+_0x8a55a2(0x765)+_0x2a4be4+'\x20'+simpleMathPrompt,_0x190327={'type':_0x8a55a2(0xaaa),'properties':{'questionText':{'type':_0x8a55a2(0x8d7)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x8a55a2(0x8d7)}},'required':['questionText',_0x8a55a2(0x73f),'explanation']};break;case _0x8a55a2(0xc50):_0x170ae3=_0x8a55a2(0x51e)+_0xcccc7b+'\x20'+_0x35d117+_0x8a55a2(0xbc2)+_0x2bbbab+_0x8a55a2(0xb87)+_0x53e0ce+_0x8a55a2(0x482)+_0x2a4be4+'\x20'+simpleMathPrompt+_0x8a55a2(0xc46),_0x190327={'type':_0x8a55a2(0xaaa),'properties':{'questionText':{'type':_0x8a55a2(0x8d7)},'questionType':{'type':'STRING','enum':[_0x8a55a2(0xd14),_0x8a55a2(0xa84)]},'options':{'type':_0x8a55a2(0x22b),'items':{'type':_0x8a55a2(0x8d7)}},'correctAnswerIndex':{'type':_0x8a55a2(0x6c0)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x8a55a2(0x8d7)},'imageCode':{'type':'STRING'}},'required':[_0x8a55a2(0x467),_0x8a55a2(0x8c6),_0x8a55a2(0x712)]};break;case _0x8a55a2(0x355):_0x170ae3=_0x8a55a2(0x26f)+_0xcccc7b+'\x20'+_0x35d117+'\x20ข้อ\x20'+_0x2bbbab+_0x8a55a2(0xcbe)+_0x2a4be4+'\x20'+simpleMathPrompt,_0x190327={'type':_0x8a55a2(0xaaa),'properties':{'questionText':{'type':_0x8a55a2(0x8d7)},'correctAnswer':{'type':_0x8a55a2(0x1f7)},'explanation':{'type':_0x8a55a2(0x8d7)},'imageCode':{'type':'STRING'}},'required':[_0x8a55a2(0x467),_0x8a55a2(0x5cc),_0x8a55a2(0x712)]};break;case _0x8a55a2(0xd49):_0x170ae3=_0x8a55a2(0x7cb)+_0xcccc7b+'\x20'+_0x35d117+_0x8a55a2(0x78b)+_0x2bbbab+_0x8a55a2(0x3dd)+_0x35d117+_0x8a55a2(0x94a)+_0x2a4be4+'\x20'+simpleMathPrompt,_0x190327={'type':_0x8a55a2(0xaaa),'properties':{'questionType':{'type':'STRING','enum':[_0x8a55a2(0x252)]},'stem':{'type':_0x8a55a2(0x8d7)},'correctResponse':{'type':_0x8a55a2(0x8d7)},'allResponses':{'type':_0x8a55a2(0x22b),'items':{'type':_0x8a55a2(0x8d7)}},'explanation':{'type':_0x8a55a2(0x8d7)},'imageCode':{'type':_0x8a55a2(0x8d7)}},'required':[_0x8a55a2(0x8c6),_0x8a55a2(0x593),_0x8a55a2(0xb98),_0x8a55a2(0x513),_0x8a55a2(0x712)]};break;}}const _0x3640ee={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x190327}},'required':[_0x8a55a2(0xc30),_0x8a55a2(0x726)]},_0x4a9661=_0x8a55a2(0xaf8)+_0x170ae3,_0xbc38f3={'contents':[{'parts':[{'text':_0x4a9661},{'inlineData':{'mimeType':_0x18f939,'data':_0x3ecf0e}}]}],'generationConfig':{'responseMimeType':_0x8a55a2(0x72e),'responseSchema':_0x3640ee}};return handleApiCall(_0xbc38f3[_0x8a55a2(0x92a)][0x0]['parts'],_0x8a55a2(0x455),_0x3640ee);}async function handleApiCall(_0x153197,_0x268d02,_0xe15d79,_0x25eef2=null,_0xbc61d3=!![],_0x398a8d=null,_0x47a06f=null){const _0x81a44e=_0x487f42,_0xa9c462=document[_0x81a44e(0x40a)](_0x81a44e(0x50c)),_0x30df0e=document['getElementById'](_0x81a44e(0x61c)),_0x414e94=document['getElementById'](_0x81a44e(0x88d)),_0x33ff29=document[_0x81a44e(0x40a)](_0x81a44e(0xcf7));_0xa9c462['classList'][_0x81a44e(0x432)](_0x81a44e(0xc0c));_0x25eef2===null&&_0xbc61d3&&(_0x33ff29[_0x81a44e(0x843)]='');_0x30df0e[_0x81a44e(0xad3)][_0x81a44e(0x432)](_0x81a44e(0xc0c)),_0x414e94[_0x81a44e(0x642)]=_0x268d02,document[_0x81a44e(0x40a)](_0x81a44e(0x5ed))[_0x81a44e(0x4c2)]=!![],document[_0x81a44e(0x40a)](_0x81a44e(0x34e))['disabled']=!![],document['getElementById']('generate-from-link-btn')['disabled']=!![];const _0x32148a=document[_0x81a44e(0x40a)](_0x81a44e(0x75c));if(_0x32148a)_0x32148a['disabled']=!![];const _0x3ee283=document[_0x81a44e(0x40a)]('generate-from-blueprint-btn');if(_0x3ee283)_0x3ee283[_0x81a44e(0x4c2)]=!![];const _0xcf4a56=document[_0x81a44e(0x40a)](_0x81a44e(0x435));if(_0xcf4a56)_0xcf4a56[_0x81a44e(0x4c2)]=!![];try{const _0x24b3c2=Array[_0x81a44e(0x6f0)](_0x153197)?_0x153197:[{'text':_0x153197}],_0x1bb5c9={'contents':[{'role':_0x81a44e(0xa13),'parts':_0x24b3c2}]};_0xe15d79&&(_0x1bb5c9['generationConfig']={'responseMimeType':'application/json','responseSchema':_0xe15d79});const _0x187a57=_0x81a44e(0x779),_0x2cca4c=_0x81a44e(0x86f)+_0x187a57,_0x4dfcc6=await fetch(_0x2cca4c,{'method':_0x81a44e(0x8af),'headers':{'Content-Type':'application/json'},'body':JSON[_0x81a44e(0xcc4)](_0x1bb5c9)});if(!_0x4dfcc6['ok']){const _0x568aa5=await _0x4dfcc6['text']();console['error']('API\x20Error\x20Response:',_0x568aa5);throw new Error(_0x81a44e(0xc22)+_0x4dfcc6['status']);}const _0x29ce70=await _0x4dfcc6[_0x81a44e(0x763)]();if(!_0x29ce70[_0x81a44e(0x31c)]||_0x29ce70[_0x81a44e(0x31c)][_0x81a44e(0xaf2)]===0x0){let _0x2ccc23='AI\x20did\x20not\x20return\x20any\x20content.';return _0x29ce70[_0x81a44e(0x9d0)]?.[_0x81a44e(0xbc1)]&&(_0x2ccc23=_0x81a44e(0xcfd)+_0x29ce70[_0x81a44e(0x9d0)][_0x81a44e(0xbc1)]+'.'),console[_0x81a44e(0x81d)](_0x2ccc23,JSON[_0x81a44e(0xcc4)](_0x29ce70)),null;}const _0x1d1cbc=_0x29ce70[_0x81a44e(0x31c)][0x0]['content'][_0x81a44e(0xbca)][0x0]['text'];if(_0xe15d79){let _0x42864c=_0x1d1cbc;if(_0x42864c['startsWith'](_0x81a44e(0x36c)))_0x42864c=_0x42864c[_0x81a44e(0x271)](0x7,_0x42864c[_0x81a44e(0xaf2)]-0x3)[_0x81a44e(0x1fb)]();else _0x42864c[_0x81a44e(0xd86)]('```')&&(_0x42864c=_0x42864c[_0x81a44e(0x271)](0x3,_0x42864c[_0x81a44e(0xaf2)]-0x3)[_0x81a44e(0x1fb)]());let _0x43cc44=JSON[_0x81a44e(0x390)](_0x42864c);if(_0xbc61d3){if(_0x25eef2!==null){}else currentQuizData=_0x43cc44,displayGeneratedQuiz(currentQuizData,_0x398a8d,_0x47a06f);}return _0x43cc44;}else return _0x1d1cbc;}catch(_0x1978cb){console['error']('Error\x20in\x20handleApiCall:',_0x1978cb),showMessage(_0x81a44e(0x879)+_0x1978cb[_0x81a44e(0xc94)]);_0xbc61d3&&(_0x33ff29[_0x81a44e(0x843)]=_0x81a44e(0xa27));throw _0x1978cb;}finally{_0x30df0e[_0x81a44e(0xad3)]['add'](_0x81a44e(0xc0c)),document[_0x81a44e(0x40a)](_0x81a44e(0x5ed))[_0x81a44e(0x4c2)]=![],document[_0x81a44e(0x40a)](_0x81a44e(0x34e))[_0x81a44e(0x4c2)]=![],document[_0x81a44e(0x40a)](_0x81a44e(0x640))[_0x81a44e(0x4c2)]=![];if(_0x32148a)_0x32148a[_0x81a44e(0x4c2)]=![];if(_0x3ee283)_0x3ee283[_0x81a44e(0x4c2)]=![];if(_0xcf4a56)_0xcf4a56[_0x81a44e(0x4c2)]=![];}}function exitFullscreen(){const _0x5164ca=_0x487f42;if(document['exitFullscreen'])document[_0x5164ca(0x43d)]()[_0x5164ca(0x35d)](_0x2bee78=>console[_0x5164ca(0x81d)](_0x2bee78));else{if(document[_0x5164ca(0x473)])document[_0x5164ca(0x473)]();else document[_0x5164ca(0x568)]&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x2aa71f=_0x487f42,_0x442335=document[_0x2aa71f(0x463)];if(_0x442335[_0x2aa71f(0xc8d)])_0x442335[_0x2aa71f(0xc8d)]()[_0x2aa71f(0x35d)](_0x25e798=>{const _0x3c5b15=_0x2aa71f;console['error'](_0x3c5b15(0x66c)+_0x25e798[_0x3c5b15(0xc94)]+'\x20('+_0x25e798[_0x3c5b15(0x408)]+')');});else{if(_0x442335[_0x2aa71f(0x3dc)])_0x442335['webkitRequestFullscreen']();else _0x442335[_0x2aa71f(0x2a4)]&&_0x442335[_0x2aa71f(0x2a4)]();}}function handleCheatingEvent(){const _0x44c01c=_0x487f42;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x44c01c(0xa69),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x44c01c(0xd72)+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document['getElementById'](_0x44c01c(0x1f8))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x44c01c(0xcdd),handleVisibilityChange),document[_0x44c01c(0x636)]('fullscreenchange',handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x6512ab=_0x487f42;if(currentMode==='admin-testing'||!isQuizActive)return;if(document['visibilityState']===_0x6512ab(0xc0c))handleCheatingEvent();else document[_0x6512ab(0xa63)]===_0x6512ab(0x698)&&(console[_0x6512ab(0x681)](_0x6512ab(0x557)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x2c3643=_0x487f42;if(currentMode===_0x2c3643(0x67d)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x3c8df2,_0x11dab0=null,_0x1356bc=null){const _0x1f8ad1=_0x487f42,_0x51550c=document['getElementById'](_0x1f8ad1(0xcf7));let _0x1a09d8=_0x1f8ad1(0xa4b)+_0x3c8df2[_0x1f8ad1(0xc30)]+_0x1f8ad1(0xa62);_0x3c8df2['questions'][_0x1f8ad1(0xa40)]((_0x2dcee3,_0x33b671)=>{const _0x451319=_0x1f8ad1;!_0x2dcee3['id']&&(_0x2dcee3['id']='q_'+Date[_0x451319(0x875)]()+'_'+_0x33b671);const _0x550d3f=_0x2dcee3[_0x451319(0x8c6)]||_0x3c8df2[_0x451319(0xc13)];_0x1a09d8+=_0x451319(0x794)+_0x33b671+_0x451319(0x2cf)+_0x33b671+_0x451319(0x2d3)+_0x33b671+_0x451319(0x7ff);switch(_0x550d3f){case _0x451319(0x252):_0x1a09d8+=_0x451319(0x8b1)+_0x33b671+'\x22>'+(_0x33b671+0x1)+'.\x20'+_0x2dcee3[_0x451319(0x593)]+_0x451319(0x6c7);_0x2dcee3[_0x451319(0x41c)]&&(_0x1a09d8+=_0x451319(0xa99)+_0x33b671+_0x451319(0x7a7)+_0x2dcee3[_0x451319(0x41c)]+_0x451319(0xcc7));_0x1a09d8+=_0x451319(0xbec)+_0x33b671+'\x22>'+_0x2dcee3[_0x451319(0xb98)]+_0x451319(0x674),_0x1a09d8+=_0x451319(0x897)+_0x33b671+'\x22>'+_0x2dcee3[_0x451319(0x712)]+'</span></div>';break;case _0x451319(0xa84):_0x1a09d8+=_0x451319(0x8b1)+_0x33b671+'\x22>'+(_0x33b671+0x1)+'.\x20'+_0x2dcee3[_0x451319(0x467)]+_0x451319(0x6c7);_0x2dcee3[_0x451319(0x41c)]&&(_0x1a09d8+='<div\x20id=\x22q-image-container-'+_0x33b671+_0x451319(0x7a7)+_0x2dcee3[_0x451319(0x41c)]+'</div>');_0x1a09d8+=_0x451319(0xd76)+_0x33b671+'\x22>'+_0x2dcee3[_0x451319(0x73f)]+_0x451319(0x674),_0x1a09d8+=_0x451319(0x897)+_0x33b671+'\x22>'+_0x2dcee3[_0x451319(0x712)]+_0x451319(0x674);break;case'true_false':_0x1a09d8+=_0x451319(0x8b1)+_0x33b671+'\x22>'+(_0x33b671+0x1)+'.\x20'+_0x2dcee3[_0x451319(0x467)]+_0x451319(0x6c7);_0x2dcee3[_0x451319(0x41c)]&&(_0x1a09d8+=_0x451319(0xa99)+_0x33b671+_0x451319(0x7a7)+_0x2dcee3[_0x451319(0x41c)]+_0x451319(0xcc7));_0x1a09d8+=_0x451319(0x913)+(_0x2dcee3['correctAnswer']===!![]?_0x451319(0x389):'')+_0x451319(0x4a3)+(_0x2dcee3[_0x451319(0x5cc)]===![]?'text-green-600\x20font-bold':'')+_0x451319(0xb7d),_0x1a09d8+=_0x451319(0x897)+_0x33b671+'\x22>'+_0x2dcee3[_0x451319(0x712)]+'</span></div>';break;case _0x451319(0x7b3):case'multiple_choice':default:_0x1a09d8+=_0x451319(0x8b1)+_0x33b671+'\x22>'+(_0x33b671+0x1)+'.\x20'+_0x2dcee3[_0x451319(0x467)]+'</p>';_0x2dcee3['imageCode']&&(_0x1a09d8+=_0x451319(0xa99)+_0x33b671+_0x451319(0x7a7)+_0x2dcee3[_0x451319(0x41c)]+_0x451319(0xcc7));_0x1a09d8+=_0x451319(0x72a)+_0x33b671+_0x451319(0x5e1)+(_0x2dcee3[_0x451319(0x614)]||[])['map']((_0x8fe45,_0x48b809)=>_0x451319(0xc91)+(_0x48b809===_0x2dcee3['correctAnswerIndex']?_0x451319(0x389):'')+'\x22>'+_0x8fe45+_0x451319(0x62f))[_0x451319(0xb00)]('')+_0x451319(0x2f3),_0x1a09d8+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x33b671+'\x22>'+_0x2dcee3[_0x451319(0x712)]+_0x451319(0x674);break;}_0x1a09d8+='</div>';}),_0x1a09d8+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>',_0x51550c[_0x1f8ad1(0x843)]=_0x1a09d8,document[_0x1f8ad1(0x93e)](_0x1f8ad1(0x8fa))[_0x1f8ad1(0xa40)](_0x1ba647=>_0x1ba647['addEventListener']('click',handleEditQuestion)),document[_0x1f8ad1(0x93e)](_0x1f8ad1(0x760))[_0x1f8ad1(0xa40)](_0x400a50=>_0x400a50[_0x1f8ad1(0x7d4)](_0x1f8ad1(0x859),handleRegenerateQuestion)),document[_0x1f8ad1(0x40a)](_0x1f8ad1(0x504))[_0x1f8ad1(0x7d4)](_0x1f8ad1(0x859),exportQuizAsWorksheetPDF),document[_0x1f8ad1(0x40a)](_0x1f8ad1(0xc64))['addEventListener']('click',handleVerifyAnswers);const _0x477531=document[_0x1f8ad1(0x40a)](_0x1f8ad1(0x5e2));if(_0x477531){const _0x159656=_0x11dab0||currentProjectId;_0x477531[_0x1f8ad1(0x7d4)](_0x1f8ad1(0x859),()=>saveQuiz(_0x159656,_0x1356bc));}if(window[_0x1f8ad1(0xcc0)])window[_0x1f8ad1(0xcc0)][_0x1f8ad1(0x8b2)]([_0x51550c]);}function handleRegenerateQuestion(_0x4b59b1){const _0x18327d=_0x487f42,_0x364fb3=_0x4b59b1['currentTarget'][_0x18327d(0x48f)][_0x18327d(0x3c6)],_0x4c1fb9=currentQuizData[_0x18327d(0xc30)];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x364fb3)+0x1)+_0x18327d(0x227)),generateQuiz(_0x4c1fb9,null,parseInt(_0x364fb3));}function getPointerPosition(_0x4fab67,_0x3c5974){const _0x182a3f=_0x487f42,_0x2a7267=_0x4fab67[_0x182a3f(0xa06)]();let _0x48d54e,_0x255411;return _0x3c5974[_0x182a3f(0x7e0)]&&_0x3c5974[_0x182a3f(0x7e0)][_0x182a3f(0xaf2)]>0x0?(_0x48d54e=_0x3c5974[_0x182a3f(0x7e0)][0x0][_0x182a3f(0xd52)],_0x255411=_0x3c5974[_0x182a3f(0x7e0)][0x0][_0x182a3f(0x341)]):(_0x48d54e=_0x3c5974[_0x182a3f(0xd52)],_0x255411=_0x3c5974[_0x182a3f(0x341)]),{'x':(_0x48d54e-_0x2a7267['e'])/_0x2a7267['a'],'y':(_0x255411-_0x2a7267['f'])/_0x2a7267['d']};}function startDrag(_0x1f5f6d){const _0x110544=_0x487f42;_0x1f5f6d[_0x110544(0x50b)]==='touchstart'&&_0x1f5f6d[_0x110544(0xd6b)]();const _0x3f4202=_0x1f5f6d[_0x110544(0x5c1)][_0x110544(0xad9)](_0x110544(0x69a));if(_0x3f4202){draggedSvgElement=_0x3f4202;const _0x58f957=draggedSvgElement[_0x110544(0x3e1)],_0x5cec43=getPointerPosition(_0x58f957,_0x1f5f6d);svgOffset['x']=_0x5cec43['x']-parseFloat(draggedSvgElement[_0x110544(0x667)](null,'x')),svgOffset['y']=_0x5cec43['y']-parseFloat(draggedSvgElement[_0x110544(0x667)](null,'y'));}}function calculateItemAnalysis(_0x237b8a,_0x22bc72){const _0x5391ff=_0x487f42,_0x3a55b1={};if(_0x22bc72['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x1820c8=[..._0x22bc72]['sort']((_0x19357a,_0x1cc69d)=>{const _0x49eb5d=_0x4191,_0x5f4f00=_0x1cc69d[_0x49eb5d(0xbe4)]-_0x19357a[_0x49eb5d(0xbe4)];if(_0x5f4f00!==0x0)return _0x5f4f00;const _0x1d3834=_0x19357a['attempts']?.[_0x49eb5d(0xaf2)]||0x1,_0x37f2e1=_0x1cc69d[_0x49eb5d(0x501)]?.[_0x49eb5d(0xaf2)]||0x1,_0x2f87b4=_0x1d3834-_0x37f2e1;if(_0x2f87b4!==0x0)return _0x2f87b4;const _0x20ae10=new Date(_0x19357a[_0x49eb5d(0x2f8)]),_0x25c77f=new Date(_0x1cc69d[_0x49eb5d(0x2f8)]),_0x4b9843=_0x20ae10-_0x25c77f;if(_0x4b9843!==0x0)return _0x4b9843;return _0x19357a['studentName'][_0x49eb5d(0xd63)](_0x1cc69d['studentName'],'th');}),_0x3faf0a=_0x1820c8['length'],_0x1ce920=Math[_0x5391ff(0x529)](0x1,Math[_0x5391ff(0xce5)](_0x3faf0a*0.33));if(_0x1ce920===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x434b74=_0x1820c8['slice'](0x0,_0x1ce920),_0x33dd67=_0x1820c8[_0x5391ff(0x6a6)](-_0x1ce920),_0x2bbf09=_0x434b74['map'](_0x18c215=>_0x18c215['studentName']),_0x46dad8=_0x33dd67[_0x5391ff(0x71d)](_0x5889ce=>_0x5889ce['studentName']);return _0x237b8a[_0x5391ff(0x726)][_0x5391ff(0xa40)]((_0x2c84a6,_0x34f700)=>{const _0x4e0cf2=_0x5391ff,_0x30210b=_0x2c84a6[_0x4e0cf2(0x593)]||_0x2c84a6[_0x4e0cf2(0x467)];let _0x51874c=0x0,_0x12c0a5=0x0,_0x2fac81=0x0;const _0x546415=[],_0x235104=[];_0x434b74[_0x4e0cf2(0xa40)](_0x3a4717=>{const _0x581825=_0x4e0cf2,_0x1996a4=_0x3a4717[_0x581825(0x501)][_0x3a4717['attempts'][_0x581825(0xaf2)]-0x1],_0x182c8c=_0x1996a4[_0x581825(0xb73)][_0x581825(0x8d2)](_0x57406f=>_0x57406f['originalQuestionText']===_0x30210b);_0x546415['push']({'name':_0x3a4717[_0x581825(0x2ac)],'isCorrect':_0x182c8c?_0x182c8c[_0x581825(0x28e)]:![]}),_0x182c8c&&_0x182c8c['isCorrect']&&_0x12c0a5++;}),_0x33dd67[_0x4e0cf2(0xa40)](_0x3cead6=>{const _0x3e72d3=_0x4e0cf2,_0x4194b4=_0x3cead6['attempts'][_0x3cead6[_0x3e72d3(0x501)][_0x3e72d3(0xaf2)]-0x1],_0x9dfa10=_0x4194b4[_0x3e72d3(0xb73)][_0x3e72d3(0x8d2)](_0x35375e=>_0x35375e[_0x3e72d3(0x2ee)]===_0x30210b);_0x235104[_0x3e72d3(0x511)]({'name':_0x3cead6['studentName'],'isCorrect':_0x9dfa10?_0x9dfa10[_0x3e72d3(0x28e)]:![]}),_0x9dfa10&&_0x9dfa10[_0x3e72d3(0x28e)]&&_0x2fac81++;}),_0x22bc72[_0x4e0cf2(0xa40)](_0x1bcd6d=>{const _0x1e6bea=_0x4e0cf2,_0x2911c3=_0x1bcd6d['attempts'][_0x1bcd6d[_0x1e6bea(0x501)]['length']-0x1],_0x484e60=_0x2911c3['answers'][_0x1e6bea(0x8d2)](_0x50b7f4=>_0x50b7f4[_0x1e6bea(0x2ee)]===_0x30210b);_0x484e60&&_0x484e60[_0x1e6bea(0x28e)]&&_0x51874c++;});const _0x5dde6c=_0x3faf0a>0x0?_0x51874c/_0x3faf0a:0x0,_0x509448=_0x1ce920>0x0?_0x12c0a5/_0x1ce920-_0x2fac81/_0x1ce920:0x0;_0x3a55b1[_0x34f700]={'p':_0x5dde6c,'r':_0x509448,'upperGroupResponders':_0x546415,'lowerGroupResponders':_0x235104};}),{'perQuestionStats':_0x3a55b1,'overallGroups':{'upperGroupNames':_0x2bbf09,'lowerGroupNames':_0x46dad8}};}function drag(_0x5a33aa){const _0x4e6d54=_0x487f42;if(draggedSvgElement){_0x5a33aa[_0x4e6d54(0xd6b)]();const _0x472808=draggedSvgElement[_0x4e6d54(0x3e1)],_0x2f94f6=getPointerPosition(_0x472808,_0x5a33aa),_0x78b7ab=_0x472808['viewBox']['baseVal'];let _0x599445=_0x2f94f6['x']-svgOffset['x'],_0x1b5d36=_0x2f94f6['y']-svgOffset['y'];const _0x5646a7=draggedSvgElement[_0x4e6d54(0x6ca)]();_0x599445=Math['max'](_0x78b7ab['x'],Math['min'](_0x599445,_0x78b7ab['x']+_0x78b7ab['width']-_0x5646a7[_0x4e6d54(0x5d1)])),_0x1b5d36=Math['max'](_0x78b7ab['y'],Math[_0x4e6d54(0xaaf)](_0x1b5d36,_0x78b7ab['y']+_0x78b7ab[_0x4e6d54(0x70e)]-_0x5646a7[_0x4e6d54(0x70e)])),draggedSvgElement[_0x4e6d54(0x25e)](null,'x',_0x599445),draggedSvgElement[_0x4e6d54(0x25e)](null,'y',_0x1b5d36);}}function endDrag(_0x2832d1){draggedSvgElement=null;}function handleSvgEditClick(_0x43a410){const _0x1d419b=_0x487f42;if(_0x43a410['target'][_0x1d419b(0xad3)][_0x1d419b(0x560)](_0x1d419b(0x31b))){const _0x16b0ee=_0x43a410['target']['dataset'][_0x1d419b(0x2b6)],_0x146082=_0x43a410['currentTarget'],_0x1a4efa=_0x146082[_0x1d419b(0xaef)]('#'+_0x16b0ee);_0x1a4efa&&_0x1a4efa[_0x1d419b(0x432)](),_0x43a410[_0x1d419b(0x5c1)][_0x1d419b(0x432)]();}}function handleEditQuestion(_0x1f3ba0){const _0x40368e=_0x487f42,_0xf8f306=_0x1f3ba0['currentTarget'],_0x318f7b=_0xf8f306[_0x40368e(0x48f)]['index'],_0x325d7f=currentQuizData['questions'][_0x318f7b],_0x185ebd=document[_0x40368e(0x40a)](_0x40368e(0x5f8)+_0x318f7b),_0x456f5c=document['getElementById'](_0x40368e(0x9a6)+_0x318f7b),_0x410eac=document['getElementById'](_0x40368e(0x5ae)+_0x318f7b);if(_0xf8f306['innerHTML'][_0x40368e(0x2a9)](_0x40368e(0x38e))){_0xf8f306[_0x40368e(0x843)]=_0x40368e(0xcd4),_0xf8f306[_0x40368e(0xc92)]=_0x40368e(0x3c1);if(_0x185ebd)_0x185ebd[_0x40368e(0x7f9)]=!![];if(_0x456f5c)_0x456f5c[_0x40368e(0x7f9)]=!![];if(_0x410eac){const _0x12d483=_0x410eac['querySelector'](_0x40368e(0x7eb));if(_0x12d483){const _0x444eda=_0x12d483[_0x40368e(0x93e)](_0x40368e(0x274));_0x444eda[_0x40368e(0xa40)]((_0x2719f2,_0x5c4d06)=>{const _0x2ef5ce=_0x40368e,_0x54057d='editable-text-'+_0x318f7b+'-'+_0x5c4d06;_0x2719f2['id']=_0x54057d,_0x2719f2[_0x2ef5ce(0xad3)][_0x2ef5ce(0xa6b)](_0x2ef5ce(0x2f5)),_0x2719f2[_0x2ef5ce(0x446)][_0x2ef5ce(0xb62)]='move';const _0x142e2e=document[_0x2ef5ce(0x5fc)]('http://www.w3.org/2000/svg',_0x2ef5ce(0x472)),_0x47eacf=_0x2719f2[_0x2ef5ce(0x6ca)]();_0x142e2e[_0x2ef5ce(0x52f)]('cx',String(_0x47eacf['x']+_0x47eacf[_0x2ef5ce(0x5d1)]+0x5)),_0x142e2e['setAttribute']('cy',String(_0x47eacf['y']+_0x47eacf[_0x2ef5ce(0x70e)]/0x2-0x5)),_0x142e2e[_0x2ef5ce(0x52f)]('r','5'),_0x142e2e[_0x2ef5ce(0x52f)](_0x2ef5ce(0x421),_0x2ef5ce(0x27c)),_0x142e2e['setAttribute'](_0x2ef5ce(0x1f6),'delete-svg-btn'),_0x142e2e[_0x2ef5ce(0x48f)][_0x2ef5ce(0x2b6)]=_0x54057d,_0x2719f2[_0x2ef5ce(0x4cd)](_0x142e2e);}),_0x12d483['addEventListener'](_0x40368e(0xa3c),startDrag),_0x12d483[_0x40368e(0x7d4)](_0x40368e(0x981),drag),_0x12d483['addEventListener']('mouseup',endDrag),_0x12d483[_0x40368e(0x7d4)](_0x40368e(0xd84),endDrag),_0x12d483[_0x40368e(0x7d4)](_0x40368e(0x912),startDrag,{'passive':![]}),_0x12d483[_0x40368e(0x7d4)]('touchmove',drag,{'passive':![]}),_0x12d483['addEventListener'](_0x40368e(0x2bb),endDrag),_0x12d483[_0x40368e(0x7d4)](_0x40368e(0x21c),endDrag),_0x12d483['addEventListener'](_0x40368e(0x859),handleSvgEditClick);}}if(_0x185ebd)_0x185ebd[_0x40368e(0xbc3)]();}else{_0xf8f306['innerHTML']=_0x40368e(0x8f5),_0xf8f306['title']=_0x40368e(0x7cc);if(_0x185ebd){_0x185ebd['contentEditable']=![];const _0x1db99d=_0x325d7f[_0x40368e(0x8c6)]||currentQuizData[_0x40368e(0xc13)];_0x1db99d===_0x40368e(0x252)?_0x325d7f['stem']=_0x185ebd[_0x40368e(0x521)][_0x40368e(0x271)](_0x185ebd[_0x40368e(0x521)][_0x40368e(0xb4d)]('.')+0x2)[_0x40368e(0x1fb)]():_0x325d7f[_0x40368e(0x467)]=_0x185ebd[_0x40368e(0x521)][_0x40368e(0x271)](_0x185ebd['innerText'][_0x40368e(0xb4d)]('.')+0x2)[_0x40368e(0x1fb)]();}_0x456f5c&&(_0x456f5c['contentEditable']=![],_0x325d7f[_0x40368e(0x712)]=_0x456f5c['innerText']);if(_0x410eac){const _0x354f3c=_0x410eac[_0x40368e(0xaef)]('svg');if(_0x354f3c){const _0x158cf0=_0x354f3c[_0x40368e(0x51c)](!![]);_0x158cf0['querySelectorAll'](_0x40368e(0x8e8))[_0x40368e(0xa40)](_0x2b2de9=>_0x2b2de9['remove']()),_0x158cf0[_0x40368e(0x93e)]('.draggable-text')[_0x40368e(0xa40)](_0x3f1655=>{const _0x8e2911=_0x40368e;_0x3f1655[_0x8e2911(0xad3)][_0x8e2911(0x432)](_0x8e2911(0x2f5)),_0x3f1655[_0x8e2911(0x446)][_0x8e2911(0xb62)]='default',_0x3f1655['removeAttribute']('id');}),_0x325d7f['imageCode']=_0x158cf0[_0x40368e(0x24f)],_0x354f3c[_0x40368e(0x636)](_0x40368e(0xa3c),startDrag),_0x354f3c['removeEventListener'](_0x40368e(0x981),drag),_0x354f3c['removeEventListener'](_0x40368e(0x680),endDrag),_0x354f3c['removeEventListener'](_0x40368e(0xd84),endDrag),_0x354f3c[_0x40368e(0x636)](_0x40368e(0x912),startDrag),_0x354f3c[_0x40368e(0x636)](_0x40368e(0x32b),drag),_0x354f3c[_0x40368e(0x636)](_0x40368e(0x2bb),endDrag),_0x354f3c['removeEventListener']('touchcancel',endDrag),_0x354f3c[_0x40368e(0x636)]('click',handleSvgEditClick),_0x354f3c[_0x40368e(0x93e)]('.delete-svg-btn')[_0x40368e(0xa40)](_0xc5a213=>_0xc5a213['remove']()),_0x354f3c[_0x40368e(0x93e)](_0x40368e(0x69a))[_0x40368e(0xa40)](_0x55a0b5=>{const _0x2cd37d=_0x40368e;_0x55a0b5[_0x2cd37d(0xad3)][_0x2cd37d(0x432)]('draggable-text'),_0x55a0b5[_0x2cd37d(0x446)][_0x2cd37d(0xb62)]=_0x2cd37d(0xaf9);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x45e908){const _0x558f32=_0x487f42,_0xce4fc1=document[_0x558f32(0x40a)]('quiz-editor-modal'),_0x359f67=document[_0x558f32(0x40a)](_0x558f32(0x611));_0x359f67[_0x558f32(0x843)]=_0x558f32(0x89d),_0xce4fc1[_0x558f32(0xad3)][_0x558f32(0x432)](_0x558f32(0xc0c));try{const _0x1065b0=doc(db,_0x558f32(0x5c6)+appId+_0x558f32(0x7ac),_0x45e908),_0x2dfd0c=await getDoc(_0x1065b0);if(!_0x2dfd0c[_0x558f32(0xd6a)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x45e908,..._0x2dfd0c[_0x558f32(0x225)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x8bd61a){console[_0x558f32(0x81d)](_0x558f32(0x256),_0x8bd61a),showMessage(_0x558f32(0x6e2)),_0xce4fc1[_0x558f32(0xad3)]['add'](_0x558f32(0xc0c));}}function renderQuizEditor(_0x3e1c0a){const _0x365750=_0x487f42;document[_0x365750(0x40a)](_0x365750(0xa2c))[_0x365750(0x6cb)]=_0x3e1c0a[_0x365750(0xc30)];const _0x20467f=document['getElementById'](_0x365750(0x611));let _0x362499=_0x3e1c0a[_0x365750(0x726)][_0x365750(0x71d)]((_0x37d511,_0x1559c5)=>{const _0x2f2dd9=_0x365750;let _0x423e52='';const _0x5cbafa=_0x37d511['questionType']||_0x3e1c0a[_0x2f2dd9(0xc13)];switch(_0x5cbafa){case _0x2f2dd9(0xd14):const _0x186e03=(_0x37d511[_0x2f2dd9(0x614)]||[])['map']((_0x5c5ae8,_0x363eaf)=>_0x2f2dd9(0xd35)+_0x1559c5+'\x22\x20value=\x22'+_0x363eaf+'\x22\x20'+(_0x363eaf===_0x37d511[_0x2f2dd9(0xb6f)]?_0x2f2dd9(0x6f6):'')+_0x2f2dd9(0x97f)+_0x5c5ae8+_0x2f2dd9(0xaee))[_0x2f2dd9(0xb00)]('');_0x423e52=_0x2f2dd9(0xc99)+_0x186e03+_0x2f2dd9(0x6e5);break;case _0x2f2dd9(0xa84):_0x423e52=_0x2f2dd9(0xb11)+(_0x37d511[_0x2f2dd9(0x73f)]||'')+_0x2f2dd9(0x554);break;case _0x2f2dd9(0x355):_0x423e52=_0x2f2dd9(0x2cb)+_0x1559c5+_0x2f2dd9(0x7f2)+(_0x37d511['correctAnswer']===!![]?_0x2f2dd9(0x6f6):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x1559c5+_0x2f2dd9(0x55b)+(_0x37d511[_0x2f2dd9(0x5cc)]===![]?_0x2f2dd9(0x6f6):'')+_0x2f2dd9(0xb8e);break;case _0x2f2dd9(0x252):_0x423e52=_0x2f2dd9(0xb4c)+(_0x37d511[_0x2f2dd9(0xb98)]||'')+_0x2f2dd9(0x1fa);break;}let _0xd363f=_0x37d511[_0x2f2dd9(0x467)]||_0x37d511[_0x2f2dd9(0x593)]||'';return _0xd363f=_0xd363f[_0x2f2dd9(0xa3d)](/<br\s*\/?>/gi,'\x0a'),'\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x1559c5+'\x22\x20data-q-type=\x22'+_0x5cbafa+_0x2f2dd9(0x598)+(_0x1559c5+0x1)+'\x20('+_0x5cbafa+'):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>'+_0xd363f+_0x2f2dd9(0x83b)+_0x423e52+'</div>\x0a</div>\x0a';})['join']('');_0x20467f[_0x365750(0x843)]=_0x362499,_0x20467f[_0x365750(0x93e)](_0x365750(0xd38))[_0x365750(0xa40)](_0x53ca6b=>{const _0x1a4799=_0x365750;_0x53ca6b[_0x1a4799(0x446)][_0x1a4799(0x6a9)]=_0x1a4799(0xc0c),_0x53ca6b['style'][_0x1a4799(0x854)]=_0x1a4799(0x9eb),_0x53ca6b[_0x1a4799(0xd36)]=0x4;const _0x1b93f0=()=>{const _0x1131ba=_0x1a4799;_0x53ca6b[_0x1131ba(0x446)][_0x1131ba(0x70e)]=_0x1131ba(0x2a1),_0x53ca6b[_0x1131ba(0x446)][_0x1131ba(0x70e)]=_0x53ca6b[_0x1131ba(0xa1d)]+'px';};_0x53ca6b[_0x1a4799(0x7d4)](_0x1a4799(0x493),_0x1b93f0),_0x1b93f0();}),_0x20467f['querySelectorAll'](_0x365750(0xd42))['forEach'](_0x37317e=>{const _0xae3a32=_0x365750;_0x37317e[_0xae3a32(0x7d4)](_0xae3a32(0x859),handleAiFixQuestion);});}async function handleAiFixQuestion(_0xe10349){const _0x218b85=_0x487f42,_0x1a6afc=_0xe10349['currentTarget'],_0x32fc64=_0x1a6afc[_0x218b85(0xad9)](_0x218b85(0xad0));if(!_0x32fc64)return;const _0x1fdc4a=parseInt(_0x32fc64[_0x218b85(0x48f)][_0x218b85(0x9a4)],0xa);if(isNaN(_0x1fdc4a)||!currentEditingQuizData[_0x218b85(0x726)][_0x1fdc4a]){showMessage(_0x218b85(0x9e8));return;}const _0x51207d=currentEditingQuizData[_0x218b85(0x726)][_0x1fdc4a];_0x1a6afc[_0x218b85(0x843)]=_0x218b85(0xd04),_0x1a6afc['disabled']=!![];const _0xa124b5=_0x218b85(0xcdb)+JSON['stringify'](_0x51207d)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20';let _0x547641;const _0x16926d=_0x51207d[_0x218b85(0x8c6)]||currentEditingQuizData['quizType'];switch(_0x16926d){case _0x218b85(0xa84):_0x547641={'type':_0x218b85(0xaaa),'properties':{'questionText':{'type':_0x218b85(0x8d7)},'idealAnswer':{'type':_0x218b85(0x8d7)},'explanation':{'type':_0x218b85(0x8d7)},'imageCode':{'type':_0x218b85(0x8d7)}},'required':[_0x218b85(0x467),_0x218b85(0x73f),_0x218b85(0x712)]};break;case _0x218b85(0xd14):default:_0x547641={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x218b85(0x22b),'items':{'type':_0x218b85(0x8d7)}},'correctAnswerIndex':{'type':_0x218b85(0x6c0)},'explanation':{'type':_0x218b85(0x8d7)},'imageCode':{'type':_0x218b85(0x8d7)}},'required':['questionText',_0x218b85(0x614),_0x218b85(0xb6f),_0x218b85(0x712)]};break;}try{let _0x4a37ca=await callAnalysisApi(_0xa124b5,_0x547641);_0x4a37ca[_0x218b85(0x614)]&&Array[_0x218b85(0x6f0)](_0x4a37ca[_0x218b85(0x614)])&&(_0x4a37ca[_0x218b85(0x614)]=_0x4a37ca[_0x218b85(0x614)][_0x218b85(0x71d)](_0x480eac=>typeof _0x480eac===_0x218b85(0xd87)?_0x480eac[_0x218b85(0xa3d)](/S(\s*[\d_]+?\s*)S/g,_0x218b85(0xc2b)):_0x480eac)),_0x51207d[_0x218b85(0x41c)]&&_0x51207d[_0x218b85(0x41c)][_0x218b85(0x2a9)](_0x218b85(0xbb3))&&(_0x4a37ca[_0x218b85(0x41c)]=''),currentEditingQuizData[_0x218b85(0x726)][_0x1fdc4a]={..._0x51207d,..._0x4a37ca},renderQuizEditor(currentEditingQuizData),showMessage(_0x218b85(0x5ad));}catch(_0x224106){console['error']('AI\x20Fix\x20Error:',_0x224106),showMessage(_0x218b85(0xd6e)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x57d931=_0x487f42,_0x156e5f=document[_0x57d931(0x40a)](_0x57d931(0xab0));_0x156e5f[_0x57d931(0x4c2)]=!![],_0x156e5f[_0x57d931(0x843)]=_0x57d931(0x3af);try{const _0x3384d3=document[_0x57d931(0x40a)](_0x57d931(0xa2c))[_0x57d931(0x6cb)],_0x2cb2f8=document[_0x57d931(0x93e)](_0x57d931(0xad0));let _0x59f81a=[];const _0x11484c=Array[_0x57d931(0x445)](_0x2cb2f8)[_0x57d931(0x71d)]((_0x5274fd,_0x185c2d)=>{const _0x25594c=_0x57d931,_0x46a4c7=_0x5274fd[_0x25594c(0x48f)][_0x25594c(0xa4a)],_0x341027=_0x5274fd[_0x25594c(0xaef)](_0x25594c(0x3a7))[_0x25594c(0x6cb)][_0x25594c(0xa3d)](/\n/g,'<br>');let _0x413d5f={'questionType':_0x46a4c7};const _0x3feaa6=currentEditingQuizData[_0x25594c(0x726)][_0x185c2d];switch(_0x46a4c7){case _0x25594c(0xd14):_0x413d5f[_0x25594c(0x467)]=_0x341027;const _0xf39eeb=_0x5274fd[_0x25594c(0x93e)](_0x25594c(0xa12));_0x413d5f['options']=Array['from'](_0xf39eeb)[_0x25594c(0x71d)](_0x1b0761=>_0x1b0761[_0x25594c(0x6cb)]);const _0xc5957d=_0x5274fd['querySelector']('input[type=\x22radio\x22]:checked');_0x413d5f[_0x25594c(0xb6f)]=_0xc5957d?parseInt(_0xc5957d[_0x25594c(0x6cb)]):0x0;break;case'short_answer':_0x413d5f[_0x25594c(0x467)]=_0x341027,_0x413d5f[_0x25594c(0x73f)]=_0x5274fd['querySelector']('.ideal-answer-input')[_0x25594c(0x6cb)];break;case _0x25594c(0x355):_0x413d5f[_0x25594c(0x467)]=_0x341027;const _0x5bb60b=_0x5274fd[_0x25594c(0xaef)](_0x25594c(0x258));_0x413d5f['correctAnswer']=_0x5bb60b?_0x5bb60b['value']===_0x25594c(0x35a):!![];break;case _0x25594c(0x252):_0x413d5f[_0x25594c(0x593)]=_0x341027;const _0x1db872=_0x5274fd[_0x25594c(0xaef)](_0x25594c(0x916));_0x413d5f[_0x25594c(0xb98)]=_0x1db872?_0x1db872['value']:'',_0x59f81a['push'](_0x413d5f[_0x25594c(0xb98)]);break;default:_0x413d5f[_0x25594c(0x467)]=_0x341027;break;}return{..._0x3feaa6,..._0x413d5f};});_0x59f81a[_0x57d931(0xaf2)]>0x0&&_0x11484c[_0x57d931(0xa40)](_0x12ef67=>{const _0x26feba=_0x57d931;_0x12ef67[_0x26feba(0x8c6)]==='matching_item'&&(_0x12ef67[_0x26feba(0x513)]=_0x59f81a);});const _0x4edefc=currentEditingQuizData['id'],_0x3a2cf2=doc(db,_0x57d931(0x5c6)+appId+_0x57d931(0x7ac),_0x4edefc);await updateDoc(_0x3a2cf2,{'topic':_0x3384d3,'questions':_0x11484c}),document[_0x57d931(0x40a)](_0x57d931(0xd17))['classList'][_0x57d931(0xa6b)](_0x57d931(0xc0c)),showMessage(_0x57d931(0x385),()=>initiateReGradeProcess(_0x4edefc));}catch(_0x2e6bf7){console[_0x57d931(0x81d)]('Error\x20saving\x20quiz\x20edits:',_0x2e6bf7),showMessage(_0x57d931(0xb3a));}finally{_0x156e5f[_0x57d931(0x4c2)]=![],_0x156e5f[_0x57d931(0x843)]=_0x57d931(0xd3c);}}async function initiateReGradeProcess(_0x59f5d3){const _0x4ae8f5=_0x487f42;showMessage(_0x4ae8f5(0x873));try{const _0xea09ec=doc(db,_0x4ae8f5(0x5c6)+appId+'/public/data/quizzes',_0x59f5d3),_0xf12f81=await getDoc(_0xea09ec);if(!_0xf12f81[_0x4ae8f5(0xd6a)]())throw new Error(_0x4ae8f5(0x397));const _0x3aeee8={'id':_0x59f5d3,..._0xf12f81['data']()},_0x207fbb=collection(db,_0x4ae8f5(0x5c6)+appId+'/public/data/quizzes',_0x59f5d3,_0x4ae8f5(0x6c2)),_0x36c34a=await getDocs(_0x207fbb);if(_0x36c34a[_0x4ae8f5(0x78a)]){showMessage(_0x4ae8f5(0x2ca));return;}const _0x1e12db=_0x36c34a[_0x4ae8f5(0xb2e)]['map'](_0x551bf5=>reGradeSingleSubmission(_0x551bf5,_0x3aeee8));await Promise[_0x4ae8f5(0xb90)](_0x1e12db);if(_0x3aeee8['projectId']){const _0x483762=doc(db,_0x4ae8f5(0x5c6)+appId+_0x4ae8f5(0x248),_0x3aeee8['projectId']),_0x3559f0=await getDoc(_0x483762);if(_0x3559f0['exists']()&&_0x3559f0[_0x4ae8f5(0x225)]()[_0x4ae8f5(0xbe8)]){const _0x49f9e6=_0x3559f0['data']()[_0x4ae8f5(0xbe8)][_0x4ae8f5(0x71d)](_0x26ae28=>updateStudentProfile(_0x3aeee8['projectId'],_0x26ae28));await Promise['all'](_0x49f9e6);}}showMessage(_0x4ae8f5(0xb1a)+_0x36c34a['size']+_0x4ae8f5(0xc9f));}catch(_0x539b55){console[_0x4ae8f5(0x81d)]('Re-grade\x20process\x20failed:',_0x539b55),showMessage(_0x4ae8f5(0xd59)+_0x539b55[_0x4ae8f5(0xc94)]);}}async function reGradeSingleSubmission(_0x1eef65,_0x26b272){const _0x5a39af=_0x487f42,_0x1ad624=_0x1eef65[_0x5a39af(0x225)](),_0x3401f2=_0x1ad624['studentName'],_0x47e94b=_0x1ad624[_0x5a39af(0x501)]||[],_0x215c42=[];for(const _0x134eee of _0x47e94b){let _0x4beda1=0x0,_0x9bb2a1=[],_0x4b9ee3=0x0;const _0xae5dcf=[];for(const _0x223618 of _0x134eee['answers']){let _0x5ca017;_0x223618[_0x5a39af(0xa8f)]&&(_0x5ca017=_0x26b272[_0x5a39af(0x726)][_0x5a39af(0x8d2)](_0x487f38=>_0x487f38['id']===_0x223618[_0x5a39af(0xa8f)]));!_0x5ca017&&_0x223618[_0x5a39af(0x2ee)]&&(_0x5ca017=_0x26b272[_0x5a39af(0x726)][_0x5a39af(0x8d2)](_0x2bae96=>(_0x2bae96[_0x5a39af(0x593)]||_0x2bae96['questionText'])===_0x223618[_0x5a39af(0x2ee)]));let _0x2ac330=![];if(_0x5ca017){const _0x19daef=_0x5ca017[_0x5a39af(0x8c6)]||_0x26b272[_0x5a39af(0xc13)];switch(_0x19daef){case _0x5a39af(0xd14):if(_0x5ca017[_0x5a39af(0x614)]&&_0x5ca017['correctAnswerIndex']<_0x5ca017[_0x5a39af(0x614)][_0x5a39af(0xaf2)]){const _0x538c6d=_0x5ca017[_0x5a39af(0x614)][_0x5ca017['correctAnswerIndex']];_0x2ac330=_0x223618['answerText']===_0x538c6d;}break;case _0x5a39af(0x355):const _0x5a0777=_0x223618[_0x5a39af(0x277)]===!![]||_0x223618[_0x5a39af(0x277)]===_0x5a39af(0x35a);_0x2ac330=_0x5a0777===_0x5ca017[_0x5a39af(0x5cc)];break;case _0x5a39af(0x252):_0x2ac330=_0x223618[_0x5a39af(0x277)]===_0x5ca017[_0x5a39af(0xb98)];break;case _0x5a39af(0xa84):_0x2ac330=await gradeShortAnswer(_0x223618[_0x5a39af(0x277)],_0x5ca017);break;default:_0x2ac330=_0x223618[_0x5a39af(0x28e)];break;}}if(_0x2ac330){_0x4beda1++,_0x4b9ee3++;if(_0x4b9ee3===0x3)_0x9bb2a1[_0x5a39af(0x511)](BADGES[_0x5a39af(0x2b8)]['id']);}else _0x4b9ee3=0x0;_0xae5dcf[_0x5a39af(0x511)]({..._0x223618,'isCorrect':_0x2ac330});}let _0x2c5c06=_0x4beda1*0xa;_0x4beda1===_0x26b272[_0x5a39af(0x726)]['length']&&(_0x2c5c06+=0x32,_0x9bb2a1[_0x5a39af(0x511)](BADGES[_0x5a39af(0x864)]['id'])),_0x215c42[_0x5a39af(0x511)]({..._0x134eee,'score':_0x4beda1,'points':_0x2c5c06,'badges':Array[_0x5a39af(0x445)](new Set(_0x9bb2a1)),'answers':_0xae5dcf});}const _0x3ca9aa=_0x215c42[_0x5a39af(0xaf2)]>0x0?_0x215c42[0x0]['score']:0x0,_0x1ea9fa=Math['max'](..._0x215c42['map'](_0xd6501a=>_0xd6501a[_0x5a39af(0xb7c)])),_0x250d19=_0x215c42[_0x5a39af(0xaf2)]>0x0?_0x215c42[_0x215c42[_0x5a39af(0xaf2)]-0x1][_0x5a39af(0xb7c)]:0x0,_0x40300d=_0x215c42[_0x5a39af(0xaf2)]>0x0?_0x215c42[_0x215c42['length']-0x1][_0x5a39af(0xb28)]:0x0,_0x1240d9=doc(db,'artifacts/'+appId+_0x5a39af(0xcef)+_0x26b272['id']+_0x5a39af(0x7ea),_0x3401f2);await updateDoc(_0x1240d9,{'attempts':_0x215c42,'firstScore':_0x3ca9aa,'bestScore':_0x1ea9fa,'latestScore':_0x250d19,'points':_0x40300d});}function cleanupQuizOptions(_0x4e6610){const _0x53681c=_0x487f42,_0x54ff19=(_0x5ccd68,_0x22ff40)=>_0x22ff40===0x0?_0x5ccd68:_0x54ff19(_0x22ff40,_0x5ccd68%_0x22ff40),_0x12952a=_0x3cda43=>{const _0xef462c=_0x4191;if(typeof _0x3cda43!==_0xef462c(0xd87))return null;_0x3cda43=_0x3cda43[_0xef462c(0x1fb)]();const _0x329f6b=_0x3cda43[_0xef462c(0x67b)](/[ /]/)[_0xef462c(0x24b)](_0x14ca54=>_0x14ca54!=='');if(_0x329f6b[_0xef462c(0xaf2)]===0x3)return parseInt(_0x329f6b[0x0])+parseInt(_0x329f6b[0x1])/parseInt(_0x329f6b[0x2]);else{if(_0x329f6b['length']===0x2)return parseInt(_0x329f6b[0x0])/parseInt(_0x329f6b[0x1]);else{if(_0x329f6b['length']===0x1&&!isNaN(_0x329f6b[0x0]))return parseFloat(_0x329f6b[0x0]);}}return null;},_0x3d1831=_0x2464d4=>{const _0x2c90c8=_0x4191;if(typeof _0x2464d4!==_0x2c90c8(0xd87))return _0x2464d4;const _0x154e8c=_0x2464d4[_0x2c90c8(0x75f)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x154e8c){const _0x28d0a9=parseInt(_0x154e8c[0x1]);let _0x50a595=parseInt(_0x154e8c[0x2]),_0x59d87b=parseInt(_0x154e8c[0x3]);const _0x2e9b33=_0x54ff19(_0x50a595,_0x59d87b);_0x50a595/=_0x2e9b33,_0x59d87b/=_0x2e9b33;if(_0x59d87b===0x1)return(_0x28d0a9+_0x50a595)['toString']();return _0x28d0a9+'\x20'+_0x50a595+'/'+_0x59d87b;}return _0x2464d4;};return _0x4e6610&&_0x4e6610['questions']&&_0x4e6610[_0x53681c(0x726)][_0x53681c(0xa40)](_0x935983=>{const _0x377206=_0x53681c;if(_0x935983[_0x377206(0x8c6)]===_0x377206(0xd14)&&_0x935983[_0x377206(0x614)]){const _0x5c0ba1=new Map(),_0x43a31d=_0x935983['options'][_0x935983[_0x377206(0xb6f)]];_0x935983[_0x377206(0x614)][_0x377206(0xa40)](_0x126a2d=>{const _0x214a42=_0x377206,_0x373177=_0x3d1831(_0x126a2d),_0x685634=_0x12952a(_0x373177);_0x685634!==null&&!_0x5c0ba1[_0x214a42(0x6da)](_0x685634)&&_0x5c0ba1[_0x214a42(0x997)](_0x685634,_0x373177);}),_0x935983['options']=Array['from'](_0x5c0ba1['values']());const _0x5a7028=_0x935983['options']['findIndex'](_0x3bdcf2=>_0x3bdcf2===_0x3d1831(_0x43a31d));_0x935983[_0x377206(0xb6f)]=_0x5a7028!==-0x1?_0x5a7028:0x0;}}),_0x4e6610;}function showGameStartConfirmationModal(_0x28d098,_0x4ae53d,_0x3137e9){const _0x5788ed=_0x487f42,_0x1ec4ce=document[_0x5788ed(0x40a)]('confirm-game-start-modal');document['getElementById'](_0x5788ed(0xadd))[_0x5788ed(0x642)]=_0x5788ed(0x235)+_0x3137e9,document['getElementById'](_0x5788ed(0xad5))[_0x5788ed(0x6cb)]=_0x28d098,document['getElementById']('game-start-mode')[_0x5788ed(0x6cb)]=_0x4ae53d,document['getElementById']('save-game-results-checkbox')['checked']=!![],_0x1ec4ce[_0x5788ed(0xad3)][_0x5788ed(0x432)]('hidden');}async function saveGameResultsAsSubmissions(_0x1a2812){const _0x75ad7e=_0x487f42;console[_0x75ad7e(0x681)](_0x75ad7e(0x523),_0x1a2812);const _0x3bc248=_0x1a2812[_0x75ad7e(0x4f2)];let _0x2115d8=[];if(_0x1a2812['players'])_0x2115d8=Object[_0x75ad7e(0x28a)](_0x1a2812[_0x75ad7e(0x729)])['map'](([_0x8d0d73,_0x489652])=>({'name':_0x8d0d73,..._0x489652}));else{if(_0x1a2812['groups'])Object['values'](_0x1a2812[_0x75ad7e(0x3db)])[_0x75ad7e(0xa40)](_0x32eb73=>{const _0x3ce152=_0x75ad7e;_0x32eb73[_0x3ce152(0xce4)][_0x3ce152(0xa40)](_0x31b543=>{const _0x4020d3=_0x3ce152;_0x2115d8['push']({'name':_0x31b543,'score':_0x32eb73[_0x4020d3(0xb7c)],'answers':_0x32eb73[_0x4020d3(0xb73)]});});});else _0x1a2812[_0x75ad7e(0xadc)]&&Object[_0x75ad7e(0x28a)](_0x1a2812[_0x75ad7e(0xadc)])[_0x75ad7e(0xa40)](([_0x2a0013,_0x394f0b])=>{const _0x585b5f=_0x75ad7e;_0x2115d8[_0x585b5f(0x511)]({'name':_0x2a0013,..._0x394f0b});});}if(_0x2115d8[_0x75ad7e(0xaf2)]===0x0){console[_0x75ad7e(0x681)](_0x75ad7e(0x27e));return;}const _0x22921a=_0x1a2812[_0x75ad7e(0x2a2)]?.['questions'][_0x75ad7e(0xaf2)]||currentQuizData['questions']['length'],_0x33e291=writeBatch(db);for(const _0x3a0132 of _0x2115d8){const _0x1942df=doc(db,'artifacts/'+appId+_0x75ad7e(0xcef)+_0x3bc248+_0x75ad7e(0x7ea),_0x3a0132[_0x75ad7e(0x408)]),_0x1d5719=(_0x3a0132[_0x75ad7e(0xb73)]||[])['filter'](_0x2ec3a9=>_0x2ec3a9[_0x75ad7e(0x28e)])[_0x75ad7e(0xaf2)];let _0x30f343=_0x1d5719;_0x1a2812['isConfidenceScoringEnabled']&&_0x3a0132[_0x75ad7e(0xb73)]&&_0x3a0132['answers'][_0x75ad7e(0xa40)](_0x16c2e8=>{const _0x6e07d6=_0x75ad7e;if(_0x16c2e8[_0x6e07d6(0x28e)]&&(_0x16c2e8[_0x6e07d6(0x621)]===!![]||_0x16c2e8['wasConfident']===_0x6e07d6(0xc76)))_0x30f343+=0x1;else!_0x16c2e8[_0x6e07d6(0x28e)]&&(_0x16c2e8['wasConfident']===!![]||_0x16c2e8[_0x6e07d6(0x621)]==='confident')&&(_0x30f343-=0x1);});_0x22921a>0x0&&_0x1d5719===_0x22921a&&(_0x30f343+=0x1);const _0x4aeac8={'score':_0x1d5719,'points':_0x30f343,'badges':_0x3a0132[_0x75ad7e(0x41e)]||[],'submittedAt':new Date()[_0x75ad7e(0xcfb)](),'answers':(_0x3a0132['answers']||[])[_0x75ad7e(0x71d)](_0x342a32=>({'questionId':_0x342a32[_0x75ad7e(0xa8f)],'answer':_0x342a32['answer'],'answerText':_0x342a32[_0x75ad7e(0xbbe)],'isCorrect':_0x342a32[_0x75ad7e(0x28e)],'originalQuestionText':_0x342a32[_0x75ad7e(0x2ee)],'wasConfident':_0x342a32[_0x75ad7e(0x621)]}))},_0x2d7af0=await getDoc(_0x1942df),_0x2ae53b=_0x2d7af0[_0x75ad7e(0xd6a)]()?_0x2d7af0['data']():{},_0x1018df=_0x2ae53b[_0x75ad7e(0xbaf)]||0x0,_0x2205e7=_0x2ae53b[_0x75ad7e(0x501)]||[],_0x154967={'studentName':_0x3a0132[_0x75ad7e(0x408)],'totalQuestions':_0x22921a,'attempts':arrayUnion(_0x4aeac8),'latestScore':_0x1d5719,'points':_0x30f343,'latestSubmittedAt':_0x4aeac8[_0x75ad7e(0xb43)],'bestScore':Math[_0x75ad7e(0x529)](_0x1018df,_0x1d5719),'firstScore':_0x2205e7['length']===0x0?_0x1d5719:_0x2ae53b[_0x75ad7e(0x54e)]||0x0};_0x33e291[_0x75ad7e(0x997)](_0x1942df,_0x154967,{'merge':!![]});}try{await _0x33e291['commit'](),showMessage(_0x75ad7e(0x908)+_0x2115d8[_0x75ad7e(0xaf2)]+_0x75ad7e(0x81f));const _0x3bb0c7=_0x1a2812[_0x75ad7e(0x2a2)]?.[_0x75ad7e(0x84e)]||currentQuizData?.['projectId']||currentProjectId;if(_0x3bb0c7){const _0xea7a42=[...new Set(_0x2115d8[_0x75ad7e(0x71d)](_0x463385=>_0x463385[_0x75ad7e(0x408)]))];for(const _0x2e9c26 of _0xea7a42){await updateStudentProfile(_0x3bb0c7,_0x2e9c26);}}}catch(_0x308b0d){console[_0x75ad7e(0x81d)](_0x75ad7e(0x3a8),_0x308b0d),showMessage(_0x75ad7e(0x4f7));}}async function saveQuiz(_0x38d02f=null,_0x33867a=null){const _0x3cb7c3=_0x487f42,_0x46d763=_0x38d02f||currentProjectId;if(!_0x46d763){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x3cb7c3(0x487));return;}const _0x20376a=document[_0x3cb7c3(0x40a)]('save-quiz-btn');_0x20376a[_0x3cb7c3(0x4c2)]=!![],_0x20376a['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x4f5592=document[_0x3cb7c3(0x40a)](_0x3cb7c3(0x708))['checked'];let _0x23f83d=document[_0x3cb7c3(0x40a)](_0x3cb7c3(0x544))[_0x3cb7c3(0x521)]['trim']();_0x4f5592&&!_0x23f83d[_0x3cb7c3(0xd86)](_0x3cb7c3(0xa93))&&(_0x23f83d=_0x3cb7c3(0x24d)+_0x23f83d);try{const _0xb35da9={'resultsDisplay':document[_0x3cb7c3(0x40a)]('results-display-select')[_0x3cb7c3(0x6cb)],'shuffle':document['getElementById'](_0x3cb7c3(0x5c2))[_0x3cb7c3(0x6cb)],'timerMode':document[_0x3cb7c3(0x40a)](_0x3cb7c3(0x564))[_0x3cb7c3(0x6cb)],'timerDuration':parseInt(document[_0x3cb7c3(0x40a)](_0x3cb7c3(0xb12))['value'])||0xa,'passingScore':parseInt(document[_0x3cb7c3(0x40a)]('passing-score-input')['value'])||0x0,'isAdaptive':document[_0x3cb7c3(0x40a)](_0x3cb7c3(0xd47))[_0x3cb7c3(0x6f6)],'loopUntilPass':document[_0x3cb7c3(0x40a)](_0x3cb7c3(0x45a))[_0x3cb7c3(0x6f6)]},_0x9e6f47=(currentQuizData[_0x3cb7c3(0x726)]||[])['map']((_0x4a6919,_0xff9741)=>{const _0x154427=_0x3cb7c3,_0x4155e8=document[_0x154427(0x40a)](_0x154427(0x9b8))[_0x154427(0x6cb)],_0x55e9ae={'id':'q_'+Date[_0x154427(0x875)]()+'_'+_0xff9741,'questionText':_0x4a6919[_0x154427(0x467)]||'','explanation':_0x4a6919['explanation']||_0x154427(0xb8f),'questionType':_0x4a6919[_0x154427(0x8c6)]||_0x4155e8,'imageCode':_0x4a6919['imageCode']||null};return(_0x55e9ae[_0x154427(0x8c6)]===_0x154427(0xd14)||_0x55e9ae[_0x154427(0x8c6)]===_0x154427(0x59f)||_0x55e9ae[_0x154427(0x8c6)]===_0x154427(0xc50)&&_0x4a6919[_0x154427(0x614)])&&(_0x55e9ae[_0x154427(0x614)]=_0x4a6919[_0x154427(0x614)]||[],_0x55e9ae[_0x154427(0xb6f)]=_0x4a6919[_0x154427(0xb6f)]!==undefined?_0x4a6919[_0x154427(0xb6f)]:0x0),(_0x55e9ae[_0x154427(0x8c6)]===_0x154427(0xa84)||_0x55e9ae[_0x154427(0x8c6)]===_0x154427(0x855)||_0x55e9ae[_0x154427(0x8c6)]==='mixed'&&_0x4a6919[_0x154427(0x73f)])&&(_0x55e9ae[_0x154427(0x73f)]=_0x4a6919[_0x154427(0x73f)]||''),_0x55e9ae['questionType']===_0x154427(0x355)&&(_0x55e9ae[_0x154427(0x5cc)]=_0x4a6919[_0x154427(0x5cc)]===!![]),_0x55e9ae['questionType']==='matching_item'&&(_0x55e9ae[_0x154427(0x593)]=_0x4a6919[_0x154427(0x593)]||'',_0x55e9ae[_0x154427(0xb98)]=_0x4a6919[_0x154427(0xb98)]||'',_0x55e9ae['allResponses']=_0x4a6919[_0x154427(0x513)]||[]),_0x55e9ae;}),_0x2cdc42={'topic':_0x23f83d,'quizType':currentQuizData[_0x3cb7c3(0xc13)]||'multiple_choice','questions':_0x9e6f47,'projectId':_0x46d763,'createdBy':userId,'createdAt':new Date()[_0x3cb7c3(0xcfb)](),'status':'active','settings':_0xb35da9,'quizMode':_0x4f5592?_0x3cb7c3(0x7b0):'standard','pairedQuizId':null,'lessonPlan':null};let _0x47bb06;while(!![]){_0x47bb06=Math[_0x3cb7c3(0xce5)](0x3e8+Math[_0x3cb7c3(0x303)]()*0x2328)['toString']();const _0x21a6d9=await getDoc(doc(db,_0x3cb7c3(0x5c6)+appId+_0x3cb7c3(0x7ac),_0x47bb06));if(!_0x21a6d9[_0x3cb7c3(0xd6a)]())break;}await setDoc(doc(db,_0x3cb7c3(0x5c6)+appId+_0x3cb7c3(0x7ac),_0x47bb06),_0x2cdc42);if(_0x33867a&&currentBlueprintProjectId){console[_0x3cb7c3(0x681)](_0x3cb7c3(0x43c)+_0x47bb06+_0x3cb7c3(0x33d)+_0x33867a);try{const _0x2e6e51=doc(db,_0x3cb7c3(0x5c6)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x2e6e51,{[_0x3cb7c3(0x4ed)+_0x33867a+_0x3cb7c3(0x9c4)]:arrayUnion(_0x47bb06)});}catch(_0x130c9e){console['error'](_0x3cb7c3(0x659),_0x130c9e);}}currentQuizData['settings']=_0xb35da9,currentQuizData['id']=_0x47bb06;const _0x4f5e9c=document[_0x3cb7c3(0x40a)](_0x3cb7c3(0x641));_0x4f5e9c['innerHTML']=_0x3cb7c3(0x882)+_0x47bb06+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document[_0x3cb7c3(0x40a)](_0x3cb7c3(0xa8b))[_0x3cb7c3(0x7d4)](_0x3cb7c3(0x859),()=>copyTextToClipboard(_0x47bb06,_0x3cb7c3(0x559))),document['getElementById'](_0x3cb7c3(0x987))[_0x3cb7c3(0x7d4)](_0x3cb7c3(0x859),()=>handleStartLiveRace(_0x47bb06)),document[_0x3cb7c3(0x40a)]('start-presentation-btn')[_0x3cb7c3(0x7d4)](_0x3cb7c3(0x859),()=>startPresentation(currentQuizData)),document['getElementById'](_0x3cb7c3(0x31d))['addEventListener']('click',startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x4649b3){console[_0x3cb7c3(0x81d)](_0x3cb7c3(0x9d9),_0x4649b3),showMessage(_0x3cb7c3(0xae8));}finally{_0x20376a['disabled']=![],_0x20376a[_0x3cb7c3(0x843)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x374ef1=_0x487f42,_0xac5556=document[_0x374ef1(0x40a)](_0x374ef1(0x8a0)),_0x39f855=document['getElementById']('move-quiz-project-select'),_0x43779b=_0xac5556[_0x374ef1(0xaef)]('h3'),_0x12abef=document['getElementById'](_0x374ef1(0x40f));_0x43779b[_0x374ef1(0x642)]=_0x374ef1(0x4a1),_0x12abef[_0x374ef1(0x642)]=_0x374ef1(0x27a);allProjects[_0x374ef1(0xaf2)]===0x0?(_0x39f855[_0x374ef1(0x843)]=_0x374ef1(0x2e5),_0x12abef['disabled']=!![]):(_0x39f855[_0x374ef1(0x843)]=allProjects['map'](_0x3cb37e=>_0x374ef1(0x648)+_0x3cb37e['id']+'\x22>'+_0x3cb37e[_0x374ef1(0x21b)]+_0x374ef1(0x343))[_0x374ef1(0xb00)](''),_0x12abef['disabled']=![]);_0xac5556['classList'][_0x374ef1(0x432)]('hidden');const _0x40776d=()=>{const _0x568ec3=_0x374ef1,_0x303fc3=_0x39f855[_0x568ec3(0x6cb)];_0x303fc3?(currentProjectId=_0x303fc3,_0xac5556[_0x568ec3(0xad3)][_0x568ec3(0xa6b)](_0x568ec3(0xc0c)),saveQuiz(),_0x43779b['textContent']=_0x568ec3(0x993),_0x12abef[_0x568ec3(0x642)]=_0x568ec3(0x577),_0x12abef[_0x568ec3(0x636)](_0x568ec3(0x859),_0x40776d),_0x12abef[_0x568ec3(0x7d4)](_0x568ec3(0x859),confirmMoveQuiz)):showMessage(_0x568ec3(0x26d));};_0x12abef[_0x374ef1(0x636)]('click',confirmMoveQuiz),_0x12abef['addEventListener'](_0x374ef1(0x859),_0x40776d);}function copyTextToClipboard(_0xe9a259,_0x107471){const _0x8edd69=_0x487f42,_0x7a388f=document[_0x8edd69(0x29e)]('textarea');_0x7a388f['value']=_0xe9a259,_0x7a388f['style'][_0x8edd69(0x33e)]='fixed',_0x7a388f[_0x8edd69(0x446)][_0x8edd69(0x567)]='0',document[_0x8edd69(0x4f1)][_0x8edd69(0x84d)](_0x7a388f),_0x7a388f[_0x8edd69(0xbc3)](),_0x7a388f[_0x8edd69(0x7f1)]();try{const _0x6d6f=document[_0x8edd69(0x644)]('copy');showMessage(_0x6d6f?_0x107471:_0x8edd69(0x5f1));}catch(_0x57781a){showMessage(_0x8edd69(0x5f1)),console['error'](_0x8edd69(0xa2d),_0x57781a);}document[_0x8edd69(0x4f1)][_0x8edd69(0x417)](_0x7a388f);}function listenForProjectQuizzes(_0x175948){const _0x5f1caf=_0x487f42,_0x1d0d3b=collection(db,_0x5f1caf(0x5c6)+appId+_0x5f1caf(0x7ac)),_0x559a3f=query(_0x1d0d3b,where('projectId','==',_0x175948));unsubscribeQuizzesListener=onSnapshot(_0x559a3f,async _0x4d6ce9=>{const _0x3a81e1=_0x5f1caf;allQuizzes=_0x4d6ce9[_0x3a81e1(0xb2e)][_0x3a81e1(0x71d)](_0x37b7ee=>({'id':_0x37b7ee['id'],..._0x37b7ee[_0x3a81e1(0x225)]()})),renderQuizzes();},_0x1f406e=>{const _0x47a753=_0x5f1caf;console[_0x47a753(0x81d)](_0x47a753(0xacf),_0x1f406e),document['getElementById']('project-quizzes-list')[_0x47a753(0x843)]=_0x47a753(0xb30);});}async function renderQuizzes(){const _0x1b9ef4=_0x487f42,_0xdf4b42=document[_0x1b9ef4(0x40a)](_0x1b9ef4(0x6c8)),_0x2d4134=document[_0x1b9ef4(0x40a)]('quiz-search-input')[_0x1b9ef4(0x6cb)]['toLowerCase']();let _0x30e20d;currentProjectId==='starred'?_0x30e20d=starredQuizzes:_0x30e20d=allQuizzes;let _0xf3c57a=_0x30e20d[_0x1b9ef4(0x24b)](_0x7c38b9=>_0x7c38b9[_0x1b9ef4(0xc30)][_0x1b9ef4(0x47c)]()[_0x1b9ef4(0x2a9)](_0x2d4134));_0xf3c57a[_0x1b9ef4(0x9ff)]((_0x3a5a10,_0x4113e6)=>new Date(_0x4113e6[_0x1b9ef4(0x289)])-new Date(_0x3a5a10[_0x1b9ef4(0x289)]));if(_0xf3c57a['length']===0x0){_0xdf4b42[_0x1b9ef4(0x843)]=_0x1b9ef4(0xc85);return;}const _0x371469={},_0x556a5f=_0xf3c57a[_0x1b9ef4(0x71d)](async _0x2a94b3=>{const _0x1d6c8b=_0x1b9ef4,_0x31aff8=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x2a94b3['id']+_0x1d6c8b(0x7ea)),_0x5af3ba=await getDocs(_0x31aff8);_0x371469[_0x2a94b3['id']]=_0x5af3ba[_0x1d6c8b(0x2f4)];});await Promise['all'](_0x556a5f);let _0x1ef2eb='';_0xf3c57a[_0x1b9ef4(0xa40)](_0x2de37b=>{const _0x5438e7=_0x1b9ef4,_0x2bf12b=_0x371469[_0x2de37b['id']]||0x0,_0x4700dc=_0x2de37b[_0x5438e7(0xade)]||_0x5438e7(0xd29),_0x10f15d=_0x2de37b[_0x5438e7(0x7ba)]?.['timerMode']||_0x5438e7(0xaec);let _0x528d77='',_0x2b5de4='';const _0xba23af=new Date();let _0x5909ba=_0x4700dc;if(_0x4700dc===_0x5438e7(0x324)){const _0xf29640=_0x2de37b[_0x5438e7(0x9c6)]?new Date(_0x2de37b[_0x5438e7(0x9c6)]):null,_0x520cff=_0x2de37b[_0x5438e7(0x578)]?new Date(_0x2de37b[_0x5438e7(0x578)]):null;if(_0x520cff&&_0xba23af>_0x520cff)_0x5909ba=_0x5438e7(0x479);else _0xf29640&&_0xba23af<_0xf29640?_0x5909ba=_0x5438e7(0x9e5):_0x5909ba=_0x5438e7(0xd29);}switch(_0x5909ba){case _0x5438e7(0x479):_0x528d77=_0x5438e7(0x1fd),_0x2b5de4=_0x5438e7(0x2ce);break;case _0x5438e7(0x9e5):_0x528d77=_0x5438e7(0xc16),_0x2b5de4=_0x5438e7(0xd78);break;case'active':_0x528d77=_0x10f15d!=='none'?_0x5438e7(0x904):_0x5438e7(0x5a5),_0x2b5de4='text-green-700\x20bg-green-100';break;default:_0x528d77=_0x5438e7(0x552),_0x2b5de4=_0x5438e7(0xb1b);break;}let _0x1cc5ec='';const _0x530f54={'day':_0x5438e7(0x93d),'month':'2-digit','year':'numeric','hour':_0x5438e7(0x93d),'minute':_0x5438e7(0x93d),'hour12':![]};if(_0x4700dc==='scheduled'){if(_0x2de37b[_0x5438e7(0x9c6)])_0x1cc5ec+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x2de37b['startTime'])[_0x5438e7(0xc78)](_0x5438e7(0x700),_0x530f54)+_0x5438e7(0x6c7);if(_0x2de37b[_0x5438e7(0x578)])_0x1cc5ec+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x2de37b[_0x5438e7(0x578)])['toLocaleString']('th-TH',_0x530f54)+_0x5438e7(0x6c7);}let _0xcffb8b='';if(_0x2de37b[_0x5438e7(0x9bf)]){const _0x52fce2=allQuizzes[_0x5438e7(0x8d2)](_0x27e08a=>_0x27e08a['id']===_0x2de37b[_0x5438e7(0x9bf)]);if(_0x52fce2){let _0x2a9120,_0x32a161;new Date(_0x2de37b[_0x5438e7(0x289)])<new Date(_0x52fce2[_0x5438e7(0x289)])?(_0x2a9120=_0x2de37b['id'],_0x32a161=_0x52fce2['id']):(_0x2a9120=_0x52fce2['id'],_0x32a161=_0x2de37b['id']),_0xcffb8b+=_0x5438e7(0x6d5)+_0x32a161+_0x5438e7(0x257)+_0x2a9120+_0x5438e7(0x82d);}}else _0x2de37b[_0x5438e7(0x60f)]===_0x5438e7(0x7b0)&&(_0xcffb8b+=_0x5438e7(0x761)+_0x2de37b['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x2de37b[_0x5438e7(0x60f)]===_0x5438e7(0x7b0)&&_0x2bf12b>0x0)_0xcffb8b+=_0x5438e7(0x761)+_0x2de37b['id']+_0x5438e7(0xd13);else!_0x2de37b[_0x5438e7(0x9bf)]&&_0x2de37b[_0x5438e7(0x60f)]!==_0x5438e7(0x7b0)&&_0x2bf12b>0x0&&(_0xcffb8b+=_0x5438e7(0x761)+_0x2de37b['id']+_0x5438e7(0x7c8));let _0x4a355d='';_0x2de37b[_0x5438e7(0x9bf)]?_0x4a355d=_0x5438e7(0x6b9)+_0x2de37b['id']+_0x5438e7(0xca3):_0x4a355d='<button\x20data-quiz-id=\x22'+_0x2de37b['id']+_0x5438e7(0xb9d),_0x1ef2eb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x2de37b['id']+_0x5438e7(0xad7)+_0x2de37b[_0x5438e7(0xc30)]+_0x5438e7(0x3ba)+_0x2de37b[_0x5438e7(0x726)][_0x5438e7(0xaf2)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x2de37b[_0x5438e7(0x289)])['toLocaleString']('th-TH')+_0x5438e7(0x525)+_0x2bf12b+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1cc5ec+_0x5438e7(0x65c)+_0x2b5de4+'\x22>'+_0x528d77+_0x5438e7(0xa85)+_0x2de37b['id']+_0x5438e7(0x3f1)+_0x2de37b['id']+_0x5438e7(0xca1)+(_0x2de37b[_0x5438e7(0xc3c)]?'fas\x20fa-star\x20text-yellow-500':_0x5438e7(0x9b2))+_0x5438e7(0x6d1)+_0xcffb8b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2de37b['id']+_0x5438e7(0xa19)+_0x2de37b['id']+_0x5438e7(0xb19)+_0x2de37b['id']+_0x5438e7(0x433)+_0x2de37b['id']+_0x5438e7(0x46f)+_0x2de37b['id']+_0x5438e7(0x68d)+_0x2de37b['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2de37b['id']+_0x5438e7(0x988)+_0x2de37b['topic']+_0x5438e7(0x63b)+_0x2de37b['id']+_0x5438e7(0x625)+_0x2de37b['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a355d+_0x5438e7(0xcab)+_0x2de37b['id']+_0x5438e7(0xcb1)+_0x2de37b['id']+_0x5438e7(0x77a)+_0x2de37b['id']+_0x5438e7(0xd54)+_0x2de37b['id']+_0x5438e7(0x81b)+_0x2de37b['id']+_0x5438e7(0xa01)+_0x2de37b['id']+_0x5438e7(0xcaf)+_0x2de37b['id']+_0x5438e7(0x927)+_0x2de37b['id']+'\x22\x20data-topic=\x22'+_0x2de37b[_0x5438e7(0xc30)]+_0x5438e7(0xbcd)+_0x2de37b['id']+_0x5438e7(0xa57);}),_0xdf4b42['innerHTML']=_0x1ef2eb,document[_0x1b9ef4(0x93e)](_0x1b9ef4(0x5a6))[_0x1b9ef4(0xa40)](_0x41db28=>{const _0x4ee46e=_0x1b9ef4;_0x41db28[_0x4ee46e(0x7d4)](_0x4ee46e(0x859),()=>{const _0x41d319=_0x4ee46e,_0x3c3292=_0x41db28[_0x41d319(0x48f)]['quizId'];showQuizDetailView(_0x3c3292);});});}async function handleUnpairQuiz(_0x29c147){const _0x318bc5=_0x487f42,_0x417c2c=allQuizzes[_0x318bc5(0x8d2)](_0x5b8efc=>_0x5b8efc['id']===_0x29c147);if(!_0x417c2c||!_0x417c2c[_0x318bc5(0x9bf)]){showMessage(_0x318bc5(0x474));return;}showConfirmation(_0x318bc5(0x295),async()=>{const _0x2deb2d=_0x318bc5;try{const _0x1f3e47=doc(db,_0x2deb2d(0x5c6)+appId+_0x2deb2d(0x7ac),_0x29c147),_0x598147=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x417c2c[_0x2deb2d(0x9bf)]),_0x5b00fe=writeBatch(db);_0x5b00fe['update'](_0x1f3e47,{'pairedQuizId':null}),_0x5b00fe[_0x2deb2d(0x3ad)](_0x598147,{'pairedQuizId':null}),await _0x5b00fe['commit'](),showMessage(_0x2deb2d(0xa71));}catch(_0x497e2a){console['error'](_0x2deb2d(0xb31),_0x497e2a),showMessage(_0x2deb2d(0xc7e));}});}function formatAndPrintLessonPlan(_0x2f4c14,_0x167bc7){const _0xed51b0=_0x487f42,_0x5dcafe=window[_0xed51b0(0x93a)]('',_0xed51b0(0x34b)),_0x4bc542='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x167bc7['topic']+_0xed51b0(0xa70)+_0x167bc7['topic']+_0xed51b0(0x6b4)+_0x2f4c14[_0xed51b0(0x9ee)][_0xed51b0(0x71d)](_0x40aeaf=>_0xed51b0(0xa7d)+_0x40aeaf+_0xed51b0(0x62f))[_0xed51b0(0xb00)]('')+_0xed51b0(0x53a)+_0x2f4c14[_0xed51b0(0x80a)]+_0xed51b0(0xa76)+_0x2f4c14[_0xed51b0(0x7b8)]['map'](_0x1072d5=>_0xed51b0(0xd7f)+_0x1072d5[_0xed51b0(0x98b)]+_0xed51b0(0xb6b)+_0x1072d5[_0xed51b0(0x608)]+_0xed51b0(0x61a))[_0xed51b0(0xb00)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x5dcafe[_0xed51b0(0xb3f)][_0xed51b0(0xd6d)](_0x4bc542),_0x5dcafe[_0xed51b0(0xb3f)]['close'](),_0x5dcafe[_0xed51b0(0x2e1)]=function(){setTimeout(()=>{_0x5dcafe['print']();},0x3e8);};}async function handleAiFixFormula(_0xd1726a){const _0x19c3f0=_0x487f42,_0x8392d0=document[_0x19c3f0(0xaef)](_0x19c3f0(0xca6)+_0xd1726a+'\x22]');if(!_0x8392d0)return;const _0x4698dc=_0x8392d0[_0x19c3f0(0x48f)][_0x19c3f0(0xa4a)],_0x56ef81=_0x8392d0[_0x19c3f0(0xaef)](_0x19c3f0(0xcac));let _0x362204={'question':_0x8392d0[_0x19c3f0(0xaef)]('textarea')[_0x19c3f0(0x6cb)]};switch(_0x4698dc){case _0x19c3f0(0xd14):_0x362204['options']=Array[_0x19c3f0(0x445)](_0x8392d0[_0x19c3f0(0x93e)](_0x19c3f0(0xa12)))[_0x19c3f0(0x71d)](_0x5e7c75=>_0x5e7c75[_0x19c3f0(0x6cb)]);break;case'short_answer':_0x362204['idealAnswer']=_0x8392d0[_0x19c3f0(0xaef)]('.ideal-answer-input')[_0x19c3f0(0x6cb)];break;case _0x19c3f0(0x252):_0x362204[_0x19c3f0(0xb98)]=_0x8392d0[_0x19c3f0(0xaef)](_0x19c3f0(0x916))[_0x19c3f0(0x6cb)];break;}_0x56ef81[_0x19c3f0(0x843)]=_0x19c3f0(0xd04),_0x56ef81[_0x19c3f0(0x4c2)]=!![];try{const _0x138bc2=_0x19c3f0(0x5cb)+JSON[_0x19c3f0(0xcc4)](_0x362204)+_0x19c3f0(0x64c),_0xd32f35={'type':_0x19c3f0(0xaaa),'properties':{'fixedData':{'type':_0x19c3f0(0xaaa),'properties':{'question':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x19c3f0(0x8d7)}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x19c3f0(0x8d7)}},'required':['question']}},'required':['fixedData']},_0x1edace=await callAnalysisApi(_0x138bc2,_0xd32f35);if(_0x1edace&&_0x1edace[_0x19c3f0(0x632)]){const _0x1718d1=_0x1edace[_0x19c3f0(0x632)];_0x8392d0[_0x19c3f0(0xaef)]('textarea')['value']=_0x1718d1['question']||_0x362204[_0x19c3f0(0x98b)];switch(_0x4698dc){case _0x19c3f0(0xd14):_0x1718d1[_0x19c3f0(0x614)]&&_0x1718d1['options'][_0x19c3f0(0xaf2)]>0x0&&_0x8392d0[_0x19c3f0(0x93e)](_0x19c3f0(0xa12))[_0x19c3f0(0xa40)]((_0x33fa72,_0x4dab6a)=>{const _0x482082=_0x19c3f0;_0x33fa72['value']=_0x1718d1[_0x482082(0x614)][_0x4dab6a]||_0x362204[_0x482082(0x614)][_0x4dab6a];});break;case _0x19c3f0(0xa84):_0x8392d0[_0x19c3f0(0xaef)]('.ideal-answer-input')[_0x19c3f0(0x6cb)]=_0x1718d1[_0x19c3f0(0x73f)]||_0x362204[_0x19c3f0(0x73f)];break;case _0x19c3f0(0x252):_0x8392d0[_0x19c3f0(0xaef)](_0x19c3f0(0x916))[_0x19c3f0(0x6cb)]=_0x1718d1[_0x19c3f0(0xb98)]||_0x362204['correctResponse'];break;}if(_0x362204[_0x19c3f0(0x98b)]!==_0x1718d1[_0x19c3f0(0x98b)])try{const _0x577b2f=collection(db,_0x19c3f0(0x5c6)+appId+_0x19c3f0(0x94b));await addDoc(_0x577b2f,{'broken':_0x362204[_0x19c3f0(0x98b)],'fixed':_0x1718d1[_0x19c3f0(0x98b)],'createdAt':serverTimestamp()});}catch(_0x5648a5){console[_0x19c3f0(0x81d)]('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x5648a5);}showMessage(_0x19c3f0(0x679));}else throw new Error(_0x19c3f0(0x270));}catch(_0x2ed84a){console['error'](_0x19c3f0(0xbce),_0x2ed84a),showMessage(_0x19c3f0(0xb45));}finally{_0x56ef81['innerHTML']=_0x19c3f0(0xd67),_0x56ef81[_0x19c3f0(0x4c2)]=![];}}async function handleGenerateLessonPlan(_0x3c54c1){const _0x36f9da=_0x487f42;showMessage(_0x36f9da(0x738));try{const _0x4e3f74=doc(db,_0x36f9da(0x5c6)+appId+_0x36f9da(0x7ac),_0x3c54c1),_0x528dc8=await getDoc(_0x4e3f74);if(!_0x528dc8[_0x36f9da(0xd6a)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x30035f={'id':_0x3c54c1,..._0x528dc8['data']()},_0x8dc234=collection(db,_0x36f9da(0x5c6)+appId+'/public/data/quizzes',_0x3c54c1,_0x36f9da(0x6c2)),_0x4a7c01=await getDocs(_0x8dc234),_0x2dcff6=_0x4a7c01['docs'][_0x36f9da(0x71d)](_0x5d9e8e=>_0x5d9e8e[_0x36f9da(0x225)]());if(_0x2dcff6[_0x36f9da(0xaf2)]===0x0)throw new Error(_0x36f9da(0xcae));const _0x3755f7=calculateItemAnalysis(_0x30035f,_0x2dcff6)[_0x36f9da(0x250)],_0x4b9cad=calculateDistractorAnalysis(_0x30035f,_0x2dcff6),_0x58c206=_0x1ece1e=>{const _0x11ad4d=_0x36f9da;if(!_0x1ece1e)return'';return _0x1ece1e[_0x11ad4d(0xa3d)](/\\/g,'\x5c\x5c')[_0x11ad4d(0xa3d)](/"/g,'\x5c\x22')[_0x11ad4d(0xa3d)](/\n/g,'\x5cn');};let _0x36ab7d='สรุปผลการวิเคราะห์:\x5cn';_0x30035f[_0x36f9da(0x726)][_0x36f9da(0xa40)]((_0x3c1b5e,_0x5a7e70)=>{const _0x50ced5=_0x36f9da,_0x39e695=_0x3755f7[_0x5a7e70]?.['p'][_0x50ced5(0xbd7)](0x2)||_0x50ced5(0xca9),_0x55082d=_0x3755f7[_0x5a7e70]?.['r']['toFixed'](0x2)||_0x50ced5(0xca9),_0xd29e2b=_0x58c206(_0x3c1b5e[_0x50ced5(0x467)]||_0x3c1b5e['stem']);_0x36ab7d+=_0x50ced5(0x451)+(_0x5a7e70+0x1)+_0x50ced5(0x691)+_0x39e695+_0x50ced5(0x8f8)+_0x55082d+_0x50ced5(0xa97)+_0xd29e2b+'\x5cn';if(_0x3c1b5e[_0x50ced5(0x8c6)]==='multiple_choice'&&_0x4b9cad[_0x5a7e70]){const _0x35c755=_0x4b9cad[_0x5a7e70],_0xbaf7df=Object[_0x50ced5(0xaf6)](_0x35c755)[_0x50ced5(0x24b)](_0x2826e2=>parseInt(_0x2826e2)!==_0x3c1b5e[_0x50ced5(0xb6f)])[_0x50ced5(0x9ff)]((_0x2f7fe3,_0x61ebf2)=>_0x35c755[_0x61ebf2][_0x50ced5(0x399)]-_0x35c755[_0x2f7fe3][_0x50ced5(0x399)])[0x0];if(_0xbaf7df&&_0x35c755[_0xbaf7df]['total']>0x0){const _0x70eea9=_0x58c206(_0x35c755[_0xbaf7df][_0x50ced5(0x274)]);_0x36ab7d+=_0x50ced5(0x973)+_0x70eea9+'\x22\x5cn';}}});const _0x3770e4=_0x36f9da(0x63a)+_0x30035f[_0x36f9da(0xc30)]+_0x36f9da(0xc5d)+_0x36ab7d+_0x36f9da(0x247),_0x50e2a6={'type':'OBJECT','properties':{'learningGaps':{'type':_0x36f9da(0x22b),'items':{'type':'STRING'}},'teachingContent':{'type':_0x36f9da(0x8d7)},'practiceProblems':{'type':'ARRAY','items':{'type':_0x36f9da(0xaaa),'properties':{'question':{'type':_0x36f9da(0x8d7)},'solution':{'type':'STRING'}}}}},'required':[_0x36f9da(0x9ee),_0x36f9da(0x80a),_0x36f9da(0x7b8)]},_0xb67725=await callAnalysisApi(_0x3770e4,_0x50e2a6);await updateDoc(_0x4e3f74,{'lessonPlan':_0xb67725});const _0x2c05ff=_0x36f9da(0x3ce)+_0x30035f[_0x36f9da(0xc30)]+_0x36f9da(0x869)+_0xb67725[_0x36f9da(0x9ee)][_0x36f9da(0x71d)](_0x3c2336=>_0x36f9da(0xa7d)+_0x3c2336+_0x36f9da(0x62f))[_0x36f9da(0xb00)]('')+_0x36f9da(0x889)+_0xb67725['teachingContent']+_0x36f9da(0xb7f)+_0xb67725[_0x36f9da(0x7b8)][_0x36f9da(0x71d)](_0x1f7a54=>_0x36f9da(0x460)+_0x1f7a54['question']+_0x36f9da(0x5de)+_0x1f7a54['solution']+_0x36f9da(0xc5c))[_0x36f9da(0xb00)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x36f9da(0x40a)](_0x36f9da(0x8de))[_0x36f9da(0x642)]=_0x36f9da(0x978)+_0x30035f[_0x36f9da(0xc30)],document['getElementById'](_0x36f9da(0x30a))['innerHTML']=_0x2c05ff,document[_0x36f9da(0x40a)](_0x36f9da(0xaab))['classList'][_0x36f9da(0x432)](_0x36f9da(0xc0c));if(window['MathJax'])MathJax[_0x36f9da(0x8b2)]();messageModal['classList'][_0x36f9da(0xa6b)](_0x36f9da(0xc0c));}catch(_0xf8e58f){console[_0x36f9da(0x81d)]('Error\x20generating\x20lesson\x20plan:',_0xf8e58f),showMessage(_0x36f9da(0x888)+_0xf8e58f[_0x36f9da(0xc94)]);}}async function handleDuplicateQuiz(_0x1bd352){const _0x1714d5=_0x487f42;try{const _0x1209d7=doc(db,_0x1714d5(0x5c6)+appId+_0x1714d5(0x7ac),_0x1bd352),_0x5a6a71=await getDoc(_0x1209d7);if(_0x5a6a71[_0x1714d5(0xd6a)]()){const _0x30b3ef=_0x5a6a71[_0x1714d5(0x225)]();let _0x32291e='',_0x3592b8=_0x1714d5(0x423),_0x5e12c6=null;if(_0x30b3ef[_0x1714d5(0x60f)]==='pre-test'){let _0x45f3d8=_0x30b3ef[_0x1714d5(0xc30)][_0x1714d5(0xa3d)](_0x1714d5(0xa93),'')[_0x1714d5(0x1fb)]();_0x32291e=_0x1714d5(0x72b)+_0x45f3d8,_0x3592b8=_0x1714d5(0x915),_0x5e12c6=_0x1bd352;}else _0x32291e=_0x1714d5(0x9b5)+_0x30b3ef[_0x1714d5(0xc30)];const _0x1ff7f0={..._0x30b3ef,'topic':_0x32291e,'createdAt':new Date()[_0x1714d5(0xcfb)](),'quizMode':_0x3592b8,'pairedQuizId':_0x5e12c6};let _0x1e22b8;while(!![]){_0x1e22b8=Math[_0x1714d5(0xce5)](0x3e8+Math['random']()*0x2328)['toString']();const _0x50ab89=await getDoc(doc(db,'artifacts/'+appId+_0x1714d5(0x7ac),_0x1e22b8));if(!_0x50ab89[_0x1714d5(0xd6a)]())break;}const _0x35f700=doc(db,_0x1714d5(0x5c6)+appId+_0x1714d5(0x7ac),_0x1e22b8);await setDoc(_0x35f700,_0x1ff7f0),_0x1ff7f0[_0x1714d5(0x60f)]===_0x1714d5(0x915)&&await updateDoc(_0x1209d7,{'pairedQuizId':_0x1e22b8}),showMessage(_0x1714d5(0x943));}else throw new Error(_0x1714d5(0x582));}catch(_0x415564){console[_0x1714d5(0x81d)](_0x1714d5(0x902),_0x415564),showMessage(_0x1714d5(0x9a1));}}async function handleDeleteQuiz(_0x26fd57,_0x3fa339=!![]){const _0x2a4d83=_0x487f42;try{const _0x5f0bbf=writeBatch(db),_0x2988de=collection(db,_0x2a4d83(0x5c6)+appId+'/public/data/quizzes/'+_0x26fd57+'/submissions'),_0x3a341e=await getDocs(_0x2988de);_0x3a341e[_0x2a4d83(0xa40)](_0xb88500=>{const _0x4f3020=_0x2a4d83;_0x5f0bbf[_0x4f3020(0xbc5)](doc(_0x2988de,_0xb88500['id']));});const _0x3424ec=doc(db,'artifacts/'+appId+_0x2a4d83(0x7ac),_0x26fd57);_0x5f0bbf[_0x2a4d83(0xbc5)](_0x3424ec),await _0x5f0bbf[_0x2a4d83(0xb82)]();try{console[_0x2a4d83(0x681)]('Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20'+_0x26fd57+_0x2a4d83(0xb5c));const _0x3e5864=collection(db,_0x2a4d83(0x5c6)+appId+'/public/data/blueprintProjects'),_0x3ff056=await getDocs(_0x3e5864),_0x57529d=[];_0x3ff056[_0x2a4d83(0xa40)](_0x2390d7=>{const _0x3141a3=_0x2a4d83,_0x44d7e8=_0x2390d7[_0x3141a3(0x225)](),_0x3027cb=_0x44d7e8[_0x3141a3(0x59a)]||{};let _0x47a561=![];for(const _0x5a88cd in _0x3027cb){const _0x27d529=_0x3027cb[_0x5a88cd];if(_0x27d529[_0x3141a3(0x6ed)]&&_0x27d529[_0x3141a3(0x6ed)][_0x3141a3(0x2a9)](_0x26fd57)){_0x47a561=!![];const _0x549c06=doc(db,_0x3141a3(0x5c6)+appId+'/public/data/blueprintProjects',_0x2390d7['id']),_0x34eba9=updateDoc(_0x549c06,{['topics.'+_0x5a88cd+'.linkedQuizIds']:arrayRemove(_0x26fd57)});_0x57529d['push'](_0x34eba9);}}}),_0x57529d['length']>0x0&&(await Promise[_0x2a4d83(0xb90)](_0x57529d),console[_0x2a4d83(0x681)]('Successfully\x20removed\x20'+_0x57529d[_0x2a4d83(0xaf2)]+_0x2a4d83(0xb2b)+_0x26fd57+'.'));}catch(_0xe5eef4){console[_0x2a4d83(0x81d)](_0x2a4d83(0xcad),_0xe5eef4);}_0x3fa339&&showMessage(_0x2a4d83(0x818));}catch(_0x29b364){console[_0x2a4d83(0x81d)](_0x2a4d83(0x777),_0x29b364),_0x3fa339&&showMessage(_0x2a4d83(0x706));}}async function showQuizDetailView(_0x46c460){const _0x8ef781=_0x487f42;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x48cfc2=doc(db,_0x8ef781(0x5c6)+appId+_0x8ef781(0x7ac),_0x46c460),_0x5e27aa=await getDoc(_0x48cfc2);if(!_0x5e27aa['exists']()){showMessage(_0x8ef781(0x397));return;}const _0x310457={'id':_0x5e27aa['id'],..._0x5e27aa[_0x8ef781(0x225)]()};currentQuizData=_0x310457;const _0x5a39b8=doc(db,'artifacts/'+appId+'/public/data/projects',_0x310457[_0x8ef781(0x84e)]),_0x5f0985=await getDoc(_0x5a39b8);_0x5f0985[_0x8ef781(0xd6a)]()?(currentProjectData=_0x5f0985['data'](),currentProjectId=_0x310457[_0x8ef781(0x84e)]):(currentProjectData={'students':[]},currentProjectId=_0x310457[_0x8ef781(0x84e)]);document[_0x8ef781(0x40a)]('results-quiz-title')[_0x8ef781(0x642)]=_0x310457[_0x8ef781(0xc30)],document['getElementById'](_0x8ef781(0x98f))[_0x8ef781(0x642)]=_0x46c460;const _0x338f28=collection(db,_0x8ef781(0x5c6)+appId+_0x8ef781(0x7ac),_0x46c460,_0x8ef781(0x6c2));unsubscribeSubmissionsListener=onSnapshot(_0x338f28,_0x4818b4=>{const _0x81ba7f=_0x8ef781,_0x5579ab=_0x4818b4['docs'][_0x81ba7f(0x71d)](_0x1926bf=>({'id':_0x1926bf['id'],..._0x1926bf[_0x81ba7f(0x225)]()}));currentSubmissions=_0x5579ab;const _0x5e7d85=_0x5579ab[_0x81ba7f(0x24b)](_0x368fe7=>_0x368fe7[_0x81ba7f(0x501)]&&_0x368fe7['attempts'][_0x81ba7f(0xaf2)]>0x0);renderBehaviorLog(_0x5579ab),renderAnswerGrid(currentProjectData[_0x81ba7f(0xbe8)],_0x5e7d85,_0x310457),renderAnalytics(_0x310457,_0x5e7d85),renderQuizResultsTable(currentProjectData[_0x81ba7f(0xbe8)],_0x5579ab,_0x310457),renderQuizLeaderboard(_0x5e7d85,_0x310457,_0x81ba7f(0x3b0));}),showView(_0x8ef781(0x6b7));}catch(_0x2088a0){console['error'](_0x8ef781(0xba5),_0x2088a0),showMessage(_0x8ef781(0xbfc));}}function renderAnswerGrid(_0x168350,_0x3cb86f,_0x2fe33a){const _0x14396a=_0x487f42,_0x4e9357=document[_0x14396a(0x40a)](_0x14396a(0x240));if(!_0x4e9357)return;if(!_0x168350||_0x168350['length']===0x0){_0x4e9357[_0x14396a(0x843)]=_0x14396a(0x9db);return;}const _0x4d4c90=_0x2fe33a[_0x14396a(0x726)],_0x24857c=_0x3cb86f[_0x14396a(0x209)]((_0x5f43dd,_0x2115d9)=>{const _0x1dcb33=_0x14396a;return _0x5f43dd[_0x2115d9[_0x1dcb33(0x2ac)]]=_0x2115d9,_0x5f43dd;},{}),_0x1675f1=_0x5c5e59=>String[_0x14396a(0xd1d)](0x41+_0x5c5e59),_0x423bdc=_0x1f89bf=>{const _0x92c9cd=_0x14396a,_0x501ef6=_0x1f89bf[_0x92c9cd(0x8c6)]||_0x2fe33a[_0x92c9cd(0xc13)];switch(_0x501ef6){case _0x92c9cd(0xd14):return _0x1f89bf[_0x92c9cd(0x614)]&&_0x1f89bf[_0x92c9cd(0x614)][_0x92c9cd(0xaf2)]>_0x1f89bf[_0x92c9cd(0xb6f)]?_0x1675f1(_0x1f89bf[_0x92c9cd(0xb6f)]):'-';case _0x92c9cd(0x355):const _0x3f51d7=_0x1f89bf[_0x92c9cd(0x5cc)]===!![]||String(_0x1f89bf[_0x92c9cd(0x5cc)])[_0x92c9cd(0x47c)]()==='true';return _0x3f51d7?_0x92c9cd(0xa3a):_0x92c9cd(0xa9f);case _0x92c9cd(0x252):return _0x1f89bf[_0x92c9cd(0xb98)]||'-';case _0x92c9cd(0xa84):return _0x92c9cd(0xc1a);default:return'-';}},_0x1a17c1=(_0x2d86e0,_0x2527e8)=>{const _0x1ee2cd=_0x14396a;if(_0x2527e8['answer']===null||_0x2527e8['answer']===undefined)return'-';const _0x206db7=_0x2d86e0[_0x1ee2cd(0x8c6)]||_0x2fe33a[_0x1ee2cd(0xc13)];switch(_0x206db7){case _0x1ee2cd(0xd14):const _0x46e4ac=_0x2d86e0[_0x1ee2cd(0x614)]['findIndex'](_0x34db25=>_0x34db25===_0x2527e8[_0x1ee2cd(0xbbe)]);return _0x46e4ac!==-0x1?_0x1675f1(_0x46e4ac):_0x2527e8[_0x1ee2cd(0xbbe)]||'-';case'true_false':if(_0x2527e8[_0x1ee2cd(0x277)]=='0'||_0x2527e8[_0x1ee2cd(0x277)]===!![]||_0x2527e8[_0x1ee2cd(0x277)]===_0x1ee2cd(0x35a))return _0x1ee2cd(0xa3a);return _0x1ee2cd(0xa9f);default:return _0x2527e8[_0x1ee2cd(0x277)];}};let _0x12c584='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d4c90['map']((_0x58721e,_0x2bcb70)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x2bcb70+0x1)+_0x14396a(0x6fb))[_0x14396a(0xb00)]('')+_0x14396a(0xd3d)+_0x4d4c90[_0x14396a(0x71d)](_0x5367c8=>_0x14396a(0x935)+_0x423bdc(_0x5367c8)+'</td>')[_0x14396a(0xb00)]('')+_0x14396a(0x219);_0x168350[_0x14396a(0xa40)](_0x28893e=>{const _0x3eadf3=_0x14396a;_0x12c584+=_0x3eadf3(0x6a3),_0x12c584+=_0x3eadf3(0xabb)+_0x28893e+_0x3eadf3(0xc67);const _0x37ecec=_0x24857c[_0x28893e];if(_0x37ecec){const _0x2ae188=_0x37ecec[_0x3eadf3(0x501)][_0x37ecec[_0x3eadf3(0x501)][_0x3eadf3(0xaf2)]-0x1];_0x4d4c90[_0x3eadf3(0xa40)]((_0x50d09f,_0x423d36)=>{const _0x571064=_0x3eadf3,_0x41d491=_0x2ae188[_0x571064(0xb73)][_0x571064(0x8d2)](_0x3cd436=>_0x3cd436[_0x571064(0xa8f)]===_0x50d09f['id']);if(_0x41d491){let _0x3b192f='';const _0x4721a0=_0x41d491[_0x571064(0x28e)]===!![],_0x2aef34=_0x41d491[_0x571064(0x621)]===!![]||_0x41d491[_0x571064(0x621)]===_0x571064(0xc76);_0x2aef34?_0x3b192f=_0x4721a0?_0x571064(0x42b):'bg-red-500\x20text-white\x20font-bold':_0x3b192f=_0x4721a0?_0x571064(0x4da):_0x571064(0x208),_0x12c584+=_0x571064(0x838)+_0x3b192f+'\x22>'+_0x1a17c1(_0x50d09f,_0x41d491)+_0x571064(0xc67);}else _0x12c584+=_0x571064(0xd32);});}else _0x12c584+=_0x4d4c90[_0x3eadf3(0x71d)](()=>_0x3eadf3(0xd4a))[_0x3eadf3(0xb00)]('');_0x12c584+=_0x3eadf3(0x8d8);}),_0x12c584+='</tbody></table>',_0x4e9357['innerHTML']=_0x12c584;}function renderQuizResultsTable(_0x4db014,_0x4595d5,_0x55a67a){const _0x229a78=_0x487f42,_0xc4ba02=_0x4595d5[_0x229a78(0x209)]((_0x279d4b,_0x2b6b2b)=>{const _0x2bfc94=_0x229a78;return _0x279d4b[_0x2b6b2b[_0x2bfc94(0x2ac)]]=_0x2b6b2b,_0x279d4b;},{}),_0x3a4d1a=document['querySelector']('#results-table\x20thead\x20tr');_0x3a4d1a&&!_0x3a4d1a['innerHTML']['includes']('จัดการ')&&(_0x3a4d1a['innerHTML']+=_0x229a78(0x2d6));const _0x474a31=document[_0x229a78(0x40a)](_0x229a78(0xb5e));if(!_0x4db014||_0x4db014[_0x229a78(0xaf2)]===0x0){_0x474a31[_0x229a78(0x843)]=_0x229a78(0x6bb);return;}const _0x37d165=_0x55a67a[_0x229a78(0x6fc)]===!![],_0x1a1fff=_0x55a67a[_0x229a78(0x7ba)]?.['passingScore']??-0x1;let _0x17d059='';_0x4db014[_0x229a78(0xa40)](_0x247e8b=>{const _0x11cc4c=_0x229a78,_0x4c4c8c=_0xc4ba02[_0x247e8b];let _0x24dfcc='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x37d165?_0x11cc4c(0x96d):_0x11cc4c(0xab2))+'\x22>'+(_0x37d165?_0x11cc4c(0xa0e):_0x11cc4c(0x91f))+_0x11cc4c(0x872);if(_0x4c4c8c){if(_0x4c4c8c['attempts']&&_0x4c4c8c[_0x11cc4c(0x501)][_0x11cc4c(0xaf2)]>0x0){let _0x165edd=_0x37d165?_0x4c4c8c[_0x11cc4c(0xbaf)]===_0x4c4c8c[_0x11cc4c(0xc9b)]:_0x1a1fff!==-0x1&&_0x4c4c8c[_0x11cc4c(0xbaf)]>=_0x1a1fff;const _0x2d1f07=_0x165edd?_0x11cc4c(0x369):_0x11cc4c(0x38c),_0x398c5c=_0x165edd?_0x11cc4c(0x64f):'ไม่ผ่าน',_0x161e02=_0x11cc4c(0x330)+_0x2d1f07+'\x22>'+_0x398c5c+'</span></td>',_0x402188=_0x11cc4c(0x325)+(_0x4c4c8c[_0x11cc4c(0x501)]?.[_0x11cc4c(0xaf2)]||0x1)+'\x20ครั้ง)</span></td>';_0x17d059+=_0x11cc4c(0x6c6)+_0x247e8b+_0x11cc4c(0x280)+_0x4c4c8c['bestScore']+_0x11cc4c(0x60e)+_0x4c4c8c[_0x11cc4c(0xc9b)]+_0x11cc4c(0x3ea)+_0x161e02+_0x11cc4c(0x79b)+_0x24dfcc+_0x11cc4c(0x76a)+_0x4c4c8c[_0x11cc4c(0x54e)]+'\x20/\x20'+_0x4c4c8c[_0x11cc4c(0xc9b)]+_0x11cc4c(0xb55)+_0x4c4c8c['latestScore']+_0x11cc4c(0x60e)+_0x4c4c8c[_0x11cc4c(0xc9b)]+_0x11cc4c(0xada)+(_0x4c4c8c['points']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x402188+_0x11cc4c(0x61e)+new Date(_0x4c4c8c['latestSubmittedAt'])['toLocaleString'](_0x11cc4c(0x700))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x247e8b+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x589ff0=_0x11cc4c(0x733);_0x17d059+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x247e8b+_0x11cc4c(0x91c)+_0x24dfcc+_0x11cc4c(0xc45)+_0x589ff0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x4c4c8c[_0x11cc4c(0x452)])['toLocaleString']('th-TH')+_0x11cc4c(0x7d2)+_0x247e8b+_0x11cc4c(0xd1e);}}else{const _0x349659=_0x11cc4c(0x96f);_0x17d059+=_0x11cc4c(0xa4d)+_0x247e8b+_0x11cc4c(0x851)+_0x24dfcc+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x349659+_0x11cc4c(0x254);}}),_0x474a31[_0x229a78(0x843)]=_0x17d059;}async function confirmRenameQuiz(){const _0x42a0c2=_0x487f42,_0x100465=document[_0x42a0c2(0x40a)]('rename-quiz-input')['value']['trim']();if(!_0x100465){showMessage(_0x42a0c2(0xa9a));return;}if(!actionTargetId)return;const _0x4d115f=doc(db,_0x42a0c2(0x5c6)+appId+_0x42a0c2(0x7ac),actionTargetId);try{await updateDoc(_0x4d115f,{'topic':_0x100465}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x42a0c2(0xad3)][_0x42a0c2(0xa6b)](_0x42a0c2(0xc0c)),actionTargetId=null;}catch(_0x3e99e5){console[_0x42a0c2(0x81d)](_0x42a0c2(0xd71),_0x3e99e5),showMessage(_0x42a0c2(0x4c4));}}async function handleMoveQuiz(_0x5d5851){const _0x422d47=_0x487f42;actionTargetId=_0x5d5851;const _0x72079f=document['getElementById']('move-quiz-project-select');_0x72079f['innerHTML']=_0x422d47(0xb49),moveQuizModal['classList'][_0x422d47(0x432)]('hidden');try{const _0x5087c1=collection(db,_0x422d47(0x5c6)+appId+'/public/data/projects'),_0x15f94b=await getDocs(_0x5087c1),_0x38ba67=_0x15f94b['docs'][_0x422d47(0x71d)](_0x41c1a9=>({'id':_0x41c1a9['id'],..._0x41c1a9[_0x422d47(0x225)]()})),_0x28d7f2=_0x38ba67[_0x422d47(0x24b)](_0x3772ba=>_0x3772ba['id']!==currentProjectId);if(_0x28d7f2['length']===0x0){_0x72079f['innerHTML']=_0x422d47(0x316),document[_0x422d47(0x40a)](_0x422d47(0x40f))[_0x422d47(0x4c2)]=!![];return;}_0x72079f[_0x422d47(0x843)]=_0x28d7f2[_0x422d47(0x71d)](_0x54869c=>_0x422d47(0x648)+_0x54869c['id']+'\x22>'+_0x54869c[_0x422d47(0x21b)]+_0x422d47(0x343))['join'](''),document[_0x422d47(0x40a)](_0x422d47(0x40f))[_0x422d47(0x4c2)]=![];}catch(_0x198f58){console[_0x422d47(0x81d)](_0x422d47(0x2ea),_0x198f58),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal[_0x422d47(0xad3)][_0x422d47(0xa6b)](_0x422d47(0xc0c));}}async function confirmMoveQuiz(){const _0xa6b444=_0x487f42,_0x560271=document[_0xa6b444(0x40a)](_0xa6b444(0x2db))['value'];if(!_0x560271){showMessage(_0xa6b444(0xa1f));return;}if(!actionTargetId)return;const _0x29b3b1=doc(db,_0xa6b444(0x5c6)+appId+_0xa6b444(0x7ac),actionTargetId);try{await updateDoc(_0x29b3b1,{'projectId':_0x560271}),showMessage(_0xa6b444(0x6fa)),moveQuizModal[_0xa6b444(0xad3)][_0xa6b444(0xa6b)](_0xa6b444(0xc0c)),actionTargetId=null;}catch(_0x36a227){console[_0xa6b444(0x81d)](_0xa6b444(0x5eb),_0x36a227),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x26aead){const _0x168b0d=_0x487f42;actionTargetId=_0x26aead;const _0x170e79=doc(db,'artifacts/'+appId+_0x168b0d(0x7ac),_0x26aead);try{const _0x15bfe0=await getDoc(_0x170e79);if(_0x15bfe0[_0x168b0d(0xd6a)]()){const _0x37a013=_0x15bfe0[_0x168b0d(0x225)](),_0x326f68=_0x37a013[_0x168b0d(0x7ba)]||{},_0x4b3a81=_0x37a013['questions'][_0x168b0d(0xaf2)];document[_0x168b0d(0x40a)](_0x168b0d(0x848))[_0x168b0d(0x6cb)]=_0x326f68[_0x168b0d(0xa8c)]||_0x168b0d(0xaec),document[_0x168b0d(0x40a)](_0x168b0d(0x20a))['value']=_0x326f68[_0x168b0d(0x758)]||_0x168b0d(0x37c),document[_0x168b0d(0x40a)](_0x168b0d(0x7d8))['value']=_0x326f68[_0x168b0d(0x2e2)]||_0x168b0d(0xaec),document[_0x168b0d(0x40a)]('modal-timer-duration-input')[_0x168b0d(0x6cb)]=_0x326f68[_0x168b0d(0x99c)]||0xa,document[_0x168b0d(0x40a)](_0x168b0d(0x228))[_0x168b0d(0x6cb)]=_0x326f68['passingScore']||Math[_0x168b0d(0xce5)](_0x4b3a81/0x2),document[_0x168b0d(0x40a)](_0x168b0d(0x228))[_0x168b0d(0x529)]=_0x4b3a81,document[_0x168b0d(0x40a)](_0x168b0d(0x6ba))[_0x168b0d(0x6f6)]=_0x326f68['isAdaptive']||![],document[_0x168b0d(0x40a)](_0x168b0d(0x9a2))['checked']=_0x326f68[_0x168b0d(0xc72)]||![];const _0xb0084f=_0x326f68[_0x168b0d(0xd10)]||![];document[_0x168b0d(0x40a)]('modal-confidence-scoring-checkbox')[_0x168b0d(0x6f6)]=_0xb0084f,document[_0x168b0d(0x40a)](_0x168b0d(0x4dc))[_0x168b0d(0x6cb)]=_0x326f68[_0x168b0d(0x5f4)]||_0x168b0d(0x728);const _0x125a82=document[_0x168b0d(0x40a)]('modal-confidence-mode-container');_0x125a82['classList'][_0x168b0d(0xcc1)](_0x168b0d(0xc0c),!_0xb0084f),document[_0x168b0d(0x40a)](_0x168b0d(0x7d8))[_0x168b0d(0xb20)](new Event('change')),quizSettingsModal['classList'][_0x168b0d(0x432)](_0x168b0d(0xc0c));}else showMessage(_0x168b0d(0x397));}catch(_0x5e8471){console[_0x168b0d(0x81d)](_0x168b0d(0x4ef),_0x5e8471),showMessage(_0x168b0d(0x6dc));}}async function confirmQuizSettings(){const _0x4c934c=_0x487f42;if(!actionTargetId)return;const _0x5cddbf=doc(db,_0x4c934c(0x5c6)+appId+_0x4c934c(0x7ac),actionTargetId),_0x3e592d={'shuffle':document[_0x4c934c(0x40a)]('modal-shuffle-select')['value'],'resultsDisplay':document[_0x4c934c(0x40a)](_0x4c934c(0x20a))['value'],'timerMode':document['getElementById']('modal-timer-mode-select')[_0x4c934c(0x6cb)],'timerDuration':parseInt(document[_0x4c934c(0x40a)]('modal-timer-duration-input')['value'])||0xa,'passingScore':parseInt(document[_0x4c934c(0x40a)](_0x4c934c(0x228))['value'])||0x0,'isAdaptive':document[_0x4c934c(0x40a)](_0x4c934c(0x6ba))[_0x4c934c(0x6f6)],'loopUntilPass':document['getElementById'](_0x4c934c(0x9a2))['checked'],'isConfidenceScoringEnabled':document[_0x4c934c(0x40a)]('modal-confidence-scoring-checkbox')[_0x4c934c(0x6f6)],'confidenceMode':document[_0x4c934c(0x40a)](_0x4c934c(0x4dc))[_0x4c934c(0x6cb)]};try{await updateDoc(_0x5cddbf,{'settings':_0x3e592d}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x4c934c(0xad3)][_0x4c934c(0xa6b)](_0x4c934c(0xc0c)),actionTargetId=null;}catch(_0xab48f7){console[_0x4c934c(0x81d)]('Error\x20updating\x20quiz\x20settings:',_0xab48f7),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function confirmQuizStatus(){const _0x1eb715=_0x487f42;if(!actionTargetId)return;const _0xf82c07=doc(db,_0x1eb715(0x5c6)+appId+'/public/data/quizzes',actionTargetId),_0x4b029a=document['querySelector']('input[name=\x22status-option\x22]:checked');if(!_0x4b029a){showMessage('กรุณาเลือกสถานะ');return;}const _0x2b1443=_0x4b029a['value'];let _0x52bf85={};if(_0x2b1443===_0x1eb715(0xd29)||_0x2b1443===_0x1eb715(0x479))_0x52bf85={'status':_0x2b1443,'startTime':null,'endTime':null};else{if(_0x2b1443===_0x1eb715(0x356)){const _0x4c4519=document[_0x1eb715(0x40a)](_0x1eb715(0x39f))[_0x1eb715(0x6cb)],_0x7f044c=document[_0x1eb715(0x40a)]('quiz-end-time')[_0x1eb715(0x6cb)];if(!_0x4c4519&&!_0x7f044c){showMessage(_0x1eb715(0x9c0));return;}_0x52bf85={'status':_0x1eb715(0x324),'startTime':_0x4c4519?new Date(_0x4c4519)[_0x1eb715(0xcfb)]():null,'endTime':_0x7f044c?new Date(_0x7f044c)[_0x1eb715(0xcfb)]():null};}}try{await updateDoc(_0xf82c07,_0x52bf85),showMessage(_0x1eb715(0xc8e)),quizStatusModal[_0x1eb715(0xad3)][_0x1eb715(0xa6b)]('hidden'),actionTargetId=null;}catch(_0x13a6f1){console[_0x1eb715(0x81d)](_0x1eb715(0xbb9),_0x13a6f1),showMessage(_0x1eb715(0x4ad));}}function listenForStudentProfiles(_0x449fb8){const _0x36a3ae=_0x487f42,_0x4d3d2a=collection(db,_0x36a3ae(0x5c6)+appId+_0x36a3ae(0xc3b)+_0x449fb8+_0x36a3ae(0x36d));unsubscribeStudentProfilesListener=onSnapshot(_0x4d3d2a,_0x3bc959=>{const _0x346ed0=_0x36a3ae,_0x42f422=_0x3bc959[_0x346ed0(0xb2e)][_0x346ed0(0x71d)](_0x33c861=>_0x33c861[_0x346ed0(0x225)]());renderLeaderboard(_0x42f422,_0x346ed0(0x28d));},_0x5383a4=>{const _0x2b247c=_0x36a3ae;console[_0x2b247c(0x81d)]('Error\x20listening\x20for\x20student\x20profiles:',_0x5383a4),document[_0x2b247c(0x40a)](_0x2b247c(0x28d))['innerHTML']=_0x2b247c(0xd25);});}function renderLeaderboard(_0x28cf3b,_0x40f19c){const _0x26c515=_0x487f42,_0x93c410=document['getElementById'](_0x40f19c);if(!_0x28cf3b||_0x28cf3b['length']===0x0){_0x93c410[_0x26c515(0x843)]=_0x26c515(0x55d);return;}_0x28cf3b['sort']((_0x1f9908,_0x474a92)=>{const _0x31f523=_0x26c515,_0x50f61b=(_0x474a92[_0x31f523(0x99f)]||0x0)-(_0x1f9908[_0x31f523(0x99f)]||0x0);if(_0x50f61b!==0x0)return _0x50f61b;const _0x2ce187=(_0x474a92['badgesCount']?.['specialist']||0x0)-(_0x1f9908[_0x31f523(0x684)]?.[_0x31f523(0xba7)]||0x0);if(_0x2ce187!==0x0)return _0x2ce187;const _0x48bb96=(_0x474a92['badgesCount']?.[_0x31f523(0x3ae)]||0x0)-(_0x1f9908[_0x31f523(0x684)]?.[_0x31f523(0x3ae)]||0x0);if(_0x48bb96!==0x0)return _0x48bb96;const _0x500e79=(_0x474a92[_0x31f523(0x684)]?.[_0x31f523(0x835)]||0x0)-(_0x1f9908['badgesCount']?.['perfect_score']||0x0);if(_0x500e79!==0x0)return _0x500e79;const _0x3736e2=(_0x474a92[_0x31f523(0x684)]?.[_0x31f523(0x5fa)]||0x0)-(_0x1f9908[_0x31f523(0x684)]?.['quick_thinker']||0x0);if(_0x3736e2!==0x0)return _0x3736e2;return _0x1f9908[_0x31f523(0x2ac)][_0x31f523(0xd63)](_0x474a92[_0x31f523(0x2ac)],'th');});let _0x5cba83='';_0x28cf3b['forEach']((_0xcd401b,_0x526cd7)=>{const _0x597b95=_0x26c515,_0x17ada9=_0x526cd7+0x1,_0x3e454c=_0xcd401b['badgesCount']||{};let _0x9c46c2='';const _0x3dceae=[_0x597b95(0xba7),_0x597b95(0x835),_0x597b95(0x3ae),'quick_thinker'];_0x3dceae['forEach'](_0x2bff14=>{const _0x4b3715=_0x597b95;if(_0x3e454c[_0x2bff14]>0x0){const _0x35b9d9=Object[_0x4b3715(0xafb)](BADGES)[_0x4b3715(0x8d2)](_0x33fa19=>_0x33fa19['id']===_0x2bff14);_0x35b9d9&&(_0x2bff14===_0x4b3715(0xba7)?_0x9c46c2+=_0x4b3715(0x561)+_0x35b9d9[_0x4b3715(0x408)]+_0x4b3715(0xc4f)+_0x35b9d9['icon']+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x9c46c2+=_0x4b3715(0x561)+_0x35b9d9[_0x4b3715(0x408)]+'\x20('+_0x3e454c[_0x2bff14]+_0x4b3715(0x33c)+_0x35b9d9[_0x4b3715(0x8a4)]+_0x4b3715(0x3e3)+_0x3e454c[_0x2bff14]+_0x4b3715(0x305));}}),_0x5cba83+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x17ada9+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0xcd401b[_0x597b95(0x2ac)]+_0x597b95(0x57c)+(_0xcd401b[_0x597b95(0x99f)]||0x0)+_0x597b95(0xb25)+(_0x9c46c2||'-')+_0x597b95(0x2ae);}),_0x93c410['innerHTML']=_0x5cba83;}function displayLoopScreen(_0x5512e1,_0x155db3,_0x45e8db){const _0x1bc1da=_0x487f42;let _0x48a6be='';_0x45e8db!=='show_pass_fail_only'&&(_0x48a6be=_0x1bc1da(0xcf1)+_0x5512e1+'\x20/\x20'+_0x155db3+_0x1bc1da(0xac5));const _0x37fc8d=_0x1bc1da(0x76c)+_0x48a6be+_0x1bc1da(0x296);studentResultArea[_0x1bc1da(0x843)]=_0x37fc8d,studentResultArea[_0x1bc1da(0xad3)][_0x1bc1da(0x432)](_0x1bc1da(0xc0c)),studentQuizArea['classList'][_0x1bc1da(0xa6b)](_0x1bc1da(0xc0c)),document[_0x1bc1da(0x40a)](_0x1bc1da(0x8c7))[_0x1bc1da(0x7d4)](_0x1bc1da(0x859),()=>{const _0x102053=_0x1bc1da;studentResultArea[_0x102053(0xad3)][_0x102053(0xa6b)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x2125ca,_0x3e1596,_0x4f372f){const _0xefc70b=_0x487f42,_0xb84d4=document[_0xefc70b(0x40a)](_0x4f372f),_0x4ae96d=_0x4f372f==='student-quiz-leaderboard-table-body',_0x32339a=_0x3e1596[_0xefc70b(0x726)]['length'],_0x596496=document[_0xefc70b(0x40a)](_0x4f372f)[_0xefc70b(0xad9)](_0xefc70b(0x4f3));if(_0x596496&&!_0x4ae96d){const _0xca9604=_0x596496[_0xefc70b(0xaef)]('thead');_0xca9604['innerHTML']=_0xefc70b(0x725);}if(!_0x2125ca||_0x2125ca[_0xefc70b(0xaf2)]===0x0){_0xb84d4['innerHTML']=_0xefc70b(0xaa9)+(_0x4ae96d?0x6:0x8)+_0xefc70b(0x405);return;}const _0x47f357=[..._0x2125ca];_0x47f357['sort']((_0x4f3ea0,_0x1d9a07)=>{const _0x251f70=_0xefc70b;let _0x2841c0,_0x5cd52e;switch(quizLeaderboardSortBy){case _0x251f70(0x2ac):_0x2841c0=_0x4f3ea0[_0x251f70(0x2ac)]||'',_0x5cd52e=_0x1d9a07[_0x251f70(0x2ac)]||'';return quizLeaderboardSortOrder===_0x251f70(0x53c)?_0x2841c0[_0x251f70(0xd63)](_0x5cd52e,'th'):_0x5cd52e[_0x251f70(0xd63)](_0x2841c0,'th');case _0x251f70(0xb28):_0x2841c0=_0x4f3ea0[_0x251f70(0xb28)]||0x0,_0x5cd52e=_0x1d9a07[_0x251f70(0xb28)]||0x0;break;case _0x251f70(0x501):_0x2841c0=_0x4f3ea0[_0x251f70(0x501)]?.[_0x251f70(0xaf2)]||0x1,_0x5cd52e=_0x1d9a07[_0x251f70(0x501)]?.[_0x251f70(0xaf2)]||0x1;break;case _0x251f70(0x2f8):_0x2841c0=new Date(_0x4f3ea0[_0x251f70(0x2f8)]),_0x5cd52e=new Date(_0x1d9a07[_0x251f70(0x2f8)]);break;case'bestScore':default:_0x2841c0=_0x4f3ea0[_0x251f70(0xbaf)],_0x5cd52e=_0x1d9a07[_0x251f70(0xbaf)];break;}if(_0x2841c0<_0x5cd52e)return quizLeaderboardSortOrder===_0x251f70(0x53c)?-0x1:0x1;if(_0x2841c0>_0x5cd52e)return quizLeaderboardSortOrder===_0x251f70(0x53c)?0x1:-0x1;return 0x0;});const _0x149ac8=_0x3e1596[_0xefc70b(0x6fc)]===!![],_0x5cf155=_0x3e1596[_0xefc70b(0x7ba)]?.[_0xefc70b(0x797)]??-0x1;let _0x47956e='';_0x47f357['forEach']((_0x115fba,_0x964176)=>{const _0x5cbdfb=_0xefc70b,_0x1a1870=_0x964176+0x1;let _0x2f9c38=_0x5cbdfb(0x25a);if(_0x149ac8||_0x5cf155!==-0x1){let _0x1c7893=_0x149ac8?_0x115fba[_0x5cbdfb(0xbaf)]===_0x32339a:_0x115fba['bestScore']>=_0x5cf155;const _0xe52dcf=_0x1c7893?'bg-green-100\x20text-green-800':_0x5cbdfb(0x38c),_0x300130=_0x1c7893?_0x5cbdfb(0x64f):_0x5cbdfb(0x517);_0x2f9c38='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0xe52dcf+'\x22>'+_0x300130+_0x5cbdfb(0x872);}const _0x370611=_0x115fba[_0x5cbdfb(0x501)][_0x115fba['attempts'][_0x5cbdfb(0xaf2)]-0x1],_0x4120d5=(_0x370611[_0x5cbdfb(0x41e)]||[])['map'](_0xa5cdf3=>{const _0x5c59f9=_0x5cbdfb,_0x4be017=Object['values'](BADGES)[_0x5c59f9(0x8d2)](_0xe611ee=>_0xe611ee['id']===_0xa5cdf3);return _0x4be017?'<span\x20title=\x22'+_0x4be017[_0x5c59f9(0x408)]+_0x5c59f9(0x413)+_0x4be017['icon']+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x5cbdfb(0xb00)]('');_0x47956e+=_0x5cbdfb(0x764)+_0x1a1870+_0x5cbdfb(0x492)+_0x115fba['studentName']+_0x5cbdfb(0xcbf)+_0x115fba[_0x5cbdfb(0xbaf)]+_0x5cbdfb(0x60e)+_0x32339a+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f9c38+_0x5cbdfb(0x382)+(_0x115fba[_0x5cbdfb(0xb28)]||0x0)+_0x5cbdfb(0x60c)+(_0x4ae96d?'':_0x5cbdfb(0xa43)+(_0x115fba[_0x5cbdfb(0x501)]?.[_0x5cbdfb(0xaf2)]||0x1)+'</td>')+_0x5cbdfb(0x37f)+(_0x4ae96d?'':_0x5cbdfb(0x9b1)+new Date(_0x115fba[_0x5cbdfb(0x2f8)])[_0x5cbdfb(0xc78)](_0x5cbdfb(0x700))+'</td>')+_0x5cbdfb(0xa03)+(_0x4120d5||'-')+_0x5cbdfb(0x8f1);}),_0xb84d4[_0xefc70b(0x843)]=_0x47956e,_0x596496&&!_0x4ae96d&&_0x596496[_0xefc70b(0x93e)](_0xefc70b(0x4e7))[_0xefc70b(0xa40)](_0x5bc48b=>{const _0x4edb32=_0xefc70b,_0x9fbc29=_0x5bc48b[_0x4edb32(0xaef)](_0x4edb32(0x9f0));if(_0x9fbc29)_0x9fbc29['remove']();_0x5bc48b[_0x4edb32(0x48f)][_0x4edb32(0x9ff)]===quizLeaderboardSortBy&&(_0x5bc48b[_0x4edb32(0x843)]+=_0x4edb32(0x619)+(quizLeaderboardSortOrder===_0x4edb32(0x53c)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x197de4){const _0x42f70d=_0x487f42;if(!currentQuizData||!currentQuizData['id']||!_0x197de4){showMessage(_0x42f70d(0x3b9));return;}showConfirmation(_0x42f70d(0x863)+_0x197de4+_0x42f70d(0x4a8),async()=>{const _0x9ec322=_0x42f70d,_0x991a62=currentQuizData['id'],_0x568df0=doc(db,'artifacts/'+appId+_0x9ec322(0xcef)+_0x991a62+_0x9ec322(0x7ea),_0x197de4);try{await deleteDoc(_0x568df0),showMessage('ลบผลสอบของ\x20'+_0x197de4+_0x9ec322(0xbb0));}catch(_0x2e3230){console[_0x9ec322(0x81d)](_0x9ec322(0x2b1),_0x2e3230),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x36585b=_0x487f42,_0x580b5f=document['getElementById'](_0x36585b(0x498)),_0xc959b8=_0x580b5f[_0x36585b(0x6cb)][_0x36585b(0x1fb)]();if(!_0xc959b8){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn[_0x36585b(0x4c2)]=!![],loadQuizBtn[_0x36585b(0x843)]=_0x36585b(0x3fe);try{const _0x3d4b21=doc(db,_0x36585b(0x5c6)+appId+_0x36585b(0x7ac),_0xc959b8),_0x4298be=await getDoc(_0x3d4b21);if(!_0x4298be[_0x36585b(0xd6a)]()){showMessage(_0x36585b(0xc1d));return;}currentQuizData={'id':_0x4298be['id'],..._0x4298be[_0x36585b(0x225)]()};const _0x259288=currentQuizData[_0x36585b(0xade)]||_0x36585b(0xd29),_0x524b5b=new Date();if(_0x259288==='inactive'){showMessage(_0x36585b(0x778));return;}if(_0x259288===_0x36585b(0x324)){const _0x48bd8d=currentQuizData['startTime']?new Date(currentQuizData['startTime']):null,_0x296b37=currentQuizData[_0x36585b(0x578)]?new Date(currentQuizData[_0x36585b(0x578)]):null;if(_0x48bd8d&&_0x524b5b<_0x48bd8d){showMessage(_0x36585b(0xb76)+_0x48bd8d['toLocaleString']('th-TH',{'hour12':![]}));return;}if(_0x296b37&&_0x524b5b>_0x296b37){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x49ea83=currentQuizData['projectId'];currentProjectId=_0x49ea83;const _0x344baa=doc(db,'artifacts/'+appId+_0x36585b(0x248),_0x49ea83),_0x29b0d9=await getDoc(_0x344baa);if(!_0x29b0d9['exists']()){showMessage(_0x36585b(0x9ba));return;}const _0xff7df1=_0x29b0d9[_0x36585b(0x225)]();currentStudentProjectData=_0xff7df1,displayStudentNameSelector(_0xff7df1[_0x36585b(0xbe8)],currentQuizData[_0x36585b(0xc30)]);}catch(_0x4eea27){console[_0x36585b(0x81d)](_0x36585b(0xd2a),_0x4eea27),showMessage(_0x36585b(0xc4a));}finally{loadQuizBtn[_0x36585b(0x4c2)]=![],loadQuizBtn['innerHTML']=_0x36585b(0x737);}}async function handleJoinLiveGame(){const _0x186568=_0x487f42,_0x5b4621=document['getElementById'](_0x186568(0x7ab)),_0x524a69=document[_0x186568(0x40a)](_0x186568(0x827)),_0x563e57=document[_0x186568(0x40a)](_0x186568(0x52a)),_0x221040=_0x5b4621[_0x186568(0x6cb)]['trim'](),_0x5834d8=_0x524a69[_0x186568(0x6cb)][_0x186568(0x1fb)]();if(!_0x221040||!_0x5834d8){showMessage(_0x186568(0xa1c));return;}_0x563e57['disabled']=!![],_0x563e57['innerHTML']=_0x186568(0x4be);try{const _0xa68dae=collection(db,_0x186568(0x5c6)+appId+_0x186568(0xa0c)),_0x55040d=query(_0xa68dae,where(_0x186568(0xa2a),'==',_0x221040),where(_0x186568(0xade),'in',[_0x186568(0x841),_0x186568(0x98b)])),_0x1f8ec7=await getDocs(_0x55040d);if(_0x1f8ec7['empty']){showMessage(_0x186568(0x366));return;}const _0x15034b=_0x1f8ec7[_0x186568(0xb2e)][0x0],_0x150992=_0x15034b['data']();currentLiveGameId=_0x15034b['id'];const _0x253df3=_0x150992['quizId'],_0x1283d1=doc(db,_0x186568(0x5c6)+appId+_0x186568(0x7ac),_0x253df3),_0x16b150=await getDoc(_0x1283d1);if(!_0x16b150['exists']()){showMessage(_0x186568(0x98c));return;}currentQuizData={'id':_0x16b150['id'],..._0x16b150['data']()};if(_0x150992['players']&&_0x150992['players'][_0x5834d8]){const _0x27b95d=_0x150992[_0x186568(0x729)][_0x5834d8];if(_0x27b95d[_0x186568(0xade)]===_0x186568(0x479)){_0x563e57['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0x385bad={};_0x385bad['players.'+_0x5834d8+_0x186568(0x96a)]='active',await updateDoc(doc(db,_0x186568(0x5c6)+appId+_0x186568(0xa0c),currentLiveGameId),_0x385bad),showView(_0x186568(0x5a0)),currentStudentName=_0x5834d8,listenForLiveGameUpdates();return;}else{showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น');return;}}if(_0x150992['status']!==_0x186568(0x841)){showMessage(_0x186568(0x791));return;}_0x563e57[_0x186568(0x843)]=_0x186568(0x8f2);const _0x5c039b={};_0x5c039b[_0x186568(0x370)+_0x5834d8]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x186568(0xd29)},await updateDoc(doc(db,_0x186568(0x5c6)+appId+_0x186568(0xa0c),currentLiveGameId),_0x5c039b),currentStudentName=_0x5834d8,listenForLiveGameUpdates();}catch(_0x34e75a){console[_0x186568(0x81d)](_0x186568(0x63e),_0x34e75a),showMessage(_0x186568(0xb94));}finally{_0x563e57['disabled']=![],_0x563e57[_0x186568(0x843)]=_0x186568(0x99a);}}function displayStudentNameSelector(_0x5c3d32,_0x29de4c){const _0x3afc0e=_0x487f42,_0x163e38=document[_0x3afc0e(0x40a)](_0x3afc0e(0x41f));document['getElementById']('student-quiz-topic')[_0x3afc0e(0x642)]='แบบทดสอบ:\x20'+_0x29de4c,!_0x5c3d32||_0x5c3d32[_0x3afc0e(0xaf2)]===0x0?(_0x163e38[_0x3afc0e(0x843)]=_0x3afc0e(0x6f7),startQuizBtn[_0x3afc0e(0x4c2)]=!![]):(_0x163e38[_0x3afc0e(0x843)]=_0x3afc0e(0xb9c),_0x5c3d32[_0x3afc0e(0xa40)](_0x337787=>{const _0x32a82d=_0x3afc0e,_0x35687c=document[_0x32a82d(0x29e)](_0x32a82d(0xbd2));_0x35687c[_0x32a82d(0x6cb)]=_0x337787,_0x35687c[_0x32a82d(0x642)]=_0x337787,_0x163e38[_0x32a82d(0x84d)](_0x35687c);}),startQuizBtn['disabled']=![]),studentInitialView[_0x3afc0e(0xad3)][_0x3afc0e(0xa6b)](_0x3afc0e(0xc0c)),studentNameSelectionView[_0x3afc0e(0xad3)][_0x3afc0e(0x432)](_0x3afc0e(0xc0c));}function shuffleArray(_0x36d2ef){const _0x3af458=_0x487f42;for(let _0x249d47=_0x36d2ef[_0x3af458(0xaf2)]-0x1;_0x249d47>0x0;_0x249d47--){const _0x274da3=Math[_0x3af458(0xce5)](Math['random']()*(_0x249d47+0x1));[_0x36d2ef[_0x249d47],_0x36d2ef[_0x274da3]]=[_0x36d2ef[_0x274da3],_0x36d2ef[_0x249d47]];}}function getShuffledQuiz(_0x1604c3){const _0x5029d4=_0x487f42;let _0x2e7cf4=JSON['parse'](JSON[_0x5029d4(0xcc4)](_0x1604c3));const _0x58e6f0=_0x2e7cf4[_0x5029d4(0x7ba)]?.[_0x5029d4(0xa8c)]||'none';if(_0x58e6f0===_0x5029d4(0xaec))return _0x2e7cf4;return(_0x58e6f0===_0x5029d4(0x8b0)||_0x58e6f0==='both')&&shuffleArray(_0x2e7cf4[_0x5029d4(0x726)]),(_0x58e6f0===_0x5029d4(0x780)||_0x58e6f0===_0x5029d4(0xcb2))&&_0x2e7cf4[_0x5029d4(0x726)]['forEach'](_0x33e5f3=>{const _0x23bf8a=_0x5029d4,_0x58f361=_0x33e5f3['questionType']||_0x2e7cf4[_0x23bf8a(0xc13)];if(_0x33e5f3[_0x23bf8a(0x614)]){let _0xbd3a07=_0x33e5f3[_0x23bf8a(0x614)]['map']((_0x492abb,_0x3b0f31)=>({'text':_0x492abb,'isCorrect':_0x3b0f31===_0x33e5f3['correctAnswerIndex']}));shuffleArray(_0xbd3a07),_0x33e5f3[_0x23bf8a(0x614)]=_0xbd3a07['map'](_0x243609=>_0x243609[_0x23bf8a(0x274)]),_0x33e5f3[_0x23bf8a(0xb6f)]=_0xbd3a07[_0x23bf8a(0x39d)](_0x568210=>_0x568210[_0x23bf8a(0x28e)]);}_0x58f361===_0x23bf8a(0x252)&&_0x33e5f3['allResponses']&&shuffleArray(_0x33e5f3[_0x23bf8a(0x513)]);}),_0x2e7cf4;}function displayQuizForStudent(_0x1588d3){const _0x38e288=_0x487f42;studentQuizArea[_0x38e288(0xad3)][_0x38e288(0x432)](_0x38e288(0xc0c)),currentDisplayedQuiz=getShuffledQuiz(_0x1588d3);currentMode!==_0x38e288(0x67d)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x38e288(0x7d4)](_0x38e288(0x686),handleFullscreenChange),document['addEventListener'](_0x38e288(0xcdd),handleVisibilityChange),enterFullscreen(),window[_0x38e288(0x7d4)](_0x38e288(0x981),resetDimTimer),window[_0x38e288(0x7d4)](_0x38e288(0xa3c),resetDimTimer),window[_0x38e288(0x7d4)](_0x38e288(0x912),resetDimTimer),window['addEventListener']('keydown',resetDimTimer),resetDimTimer());const _0x2234f0=currentDisplayedQuiz[_0x38e288(0x7ba)]?.['timerMode']||_0x38e288(0xaec);if(_0x2234f0===_0x38e288(0x933))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x38e288(0x7ba)][_0x38e288(0x99c)]);else _0x2234f0==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x19375d=_0x487f42,_0x2bf301=currentDisplayedQuiz['settings']?.[_0x19375d(0xd10)]===!![],_0x1201ae=currentDisplayedQuiz[_0x19375d(0x7ba)]?.[_0x19375d(0x5f4)]||_0x19375d(0x728);let _0x2db977='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+_0x19375d(0xd2b)+(currentMode===_0x19375d(0x67d)?_0x19375d(0x310):'')+_0x19375d(0x67c);currentDisplayedQuiz['questions'][_0x19375d(0xa40)]((_0x2cc06a,_0x30a488)=>{const _0x55f5b0=_0x19375d,_0x365a0f=_0x2cc06a[_0x55f5b0(0x8c6)]||currentDisplayedQuiz['quizType'];_0x2db977+=_0x55f5b0(0x8ce);if(_0x365a0f===_0x55f5b0(0x252)){}else _0x2db977+='<p>'+(_0x30a488+0x1)+'.\x20'+(_0x2cc06a[_0x55f5b0(0x38f)]||_0x2cc06a[_0x55f5b0(0x467)])+_0x55f5b0(0x6c7),_0x2cc06a['imageCode']&&(_0x2db977+=_0x55f5b0(0xb1e)+_0x2cc06a[_0x55f5b0(0x41c)]+_0x55f5b0(0xcc7));_0x2db977+=_0x55f5b0(0x71b);switch(_0x365a0f){case _0x55f5b0(0xa84):_0x2db977+=_0x55f5b0(0x954)+_0x30a488+_0x55f5b0(0x37d);break;case'true_false':_0x2db977+=_0x55f5b0(0x547)+_0x30a488+_0x55f5b0(0xbde)+_0x30a488+_0x55f5b0(0xaa8)+_0x30a488+'_opt0\x22>ใช่</label></div>',_0x2db977+=_0x55f5b0(0x547)+_0x30a488+_0x55f5b0(0x44e)+_0x30a488+_0x55f5b0(0xb42)+_0x30a488+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x55f5b0(0x252):_0x2db977+=_0x55f5b0(0x9f7)+_0x2cc06a[_0x55f5b0(0x593)]+_0x55f5b0(0xccd)+_0x30a488+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2cc06a[_0x55f5b0(0x513)][_0x55f5b0(0x71d)](_0x2728d7=>_0x55f5b0(0x648)+_0x2728d7+'\x22>'+_0x2728d7+'</option>')[_0x55f5b0(0xb00)]('')+_0x55f5b0(0x41d);break;default:_0x2db977+=_0x2cc06a[_0x55f5b0(0x614)][_0x55f5b0(0x71d)]((_0x15f7f8,_0x5f0def)=>_0x55f5b0(0xa16)+_0x30a488+_0x55f5b0(0x3f4)+_0x5f0def+_0x55f5b0(0x351)+_0x30a488+_0x55f5b0(0xc40)+_0x5f0def+_0x55f5b0(0xbba)+_0x30a488+'_opt'+_0x5f0def+'\x22>'+_0x15f7f8+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;}_0x2db977+=_0x55f5b0(0xcc7),_0x2bf301&&(_0x2db977+=_0x55f5b0(0x73b),_0x1201ae==='mandatory'?_0x2db977+=_0x55f5b0(0x4cf)+_0x30a488+_0x55f5b0(0x612)+_0x30a488+'\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0x30a488+'\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22'+_0x30a488+_0x55f5b0(0xa61):_0x2db977+=_0x55f5b0(0xb93)+_0x30a488+_0x55f5b0(0x612)+_0x30a488+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence'+_0x30a488+_0x55f5b0(0x849),_0x2db977+=_0x55f5b0(0xcc7)),_0x2db977+=_0x55f5b0(0xcc7);}),_0x2db977+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x2db977+=_0x19375d(0xc19),studentQuizArea['innerHTML']=_0x2db977;if(currentMode===_0x19375d(0x67d)){const _0x55a524=document[_0x19375d(0x40a)]('cancel-test-btn');if(_0x55a524)_0x55a524[_0x19375d(0x7d4)]('click',cancelAdminTest);}const _0x140b50=document['getElementById']('quiz-form');_0x140b50&&(_0x140b50[_0x19375d(0x7d4)]('submit',handleSubmitQuiz),_0x140b50['addEventListener'](_0x19375d(0x859),_0x32dbb2=>{const _0x4d8652=_0x19375d;if(_0x32dbb2[_0x4d8652(0x5c1)][_0x4d8652(0xad3)]['contains'](_0x4d8652(0x35b))){const _0x49b9f6=_0x32dbb2[_0x4d8652(0x5c1)],_0x48221a=_0x49b9f6[_0x4d8652(0x48f)][_0x4d8652(0x790)],_0x3d79b2=_0x49b9f6['dataset'][_0x4d8652(0x6cb)];document[_0x4d8652(0x40a)]('confidence-input-'+_0x48221a)['value']=_0x3d79b2;const _0x76283b=_0x49b9f6['parentElement'];_0x76283b[_0x4d8652(0x93e)](_0x4d8652(0xb59))[_0x4d8652(0xa40)](_0x569814=>_0x569814[_0x4d8652(0xad3)][_0x4d8652(0x432)]('active')),_0x49b9f6[_0x4d8652(0xad3)]['add'](_0x4d8652(0xd29));}}));if(window[_0x19375d(0xcc0)])window[_0x19375d(0xcc0)][_0x19375d(0x8b2)]([studentQuizArea]);}async function handleSubmitQuiz(_0x25802c){const _0x51d20f=_0x487f42;if(_0x25802c)_0x25802c[_0x51d20f(0xd6b)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x4a68a8=document[_0x51d20f(0x40a)]('quiz-form');if(!_0x4a68a8)return;const _0x1b4928=currentDisplayedQuiz[_0x51d20f(0x7ba)]?.[_0x51d20f(0xd10)]===!![],_0x166700=currentDisplayedQuiz['settings']?.[_0x51d20f(0x5f4)]||_0x51d20f(0x728);if(_0x1b4928&&_0x166700===_0x51d20f(0x595)){let _0x272499=!![];for(let _0x527f14=0x0;_0x527f14<currentDisplayedQuiz[_0x51d20f(0x726)][_0x51d20f(0xaf2)];_0x527f14++){const _0xf6d2b3=_0x4a68a8['querySelector'](_0x51d20f(0x5a2)+_0x527f14);if(!_0xf6d2b3||_0xf6d2b3[_0x51d20f(0x6cb)]===''){_0x272499=![];break;}}if(!_0x272499){showMessage(_0x51d20f(0xd8a));return;}}const _0x12700d=_0x4a68a8[_0x51d20f(0xaef)](_0x51d20f(0x647)),_0x113412=currentDisplayedQuiz[_0x51d20f(0x726)][_0x51d20f(0x373)](_0x34c463=>_0x34c463[_0x51d20f(0x8c6)]===_0x51d20f(0xa84));_0x12700d&&(_0x12700d[_0x51d20f(0x4c2)]=!![],_0x12700d[_0x51d20f(0x843)]=_0x113412?'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x51d20f(0xa5d));const _0x556b81=new FormData(_0x4a68a8),_0x14ed7b=currentDisplayedQuiz[_0x51d20f(0x726)][_0x51d20f(0x71d)]((_0x8496c9,_0x255529)=>{const _0x4eb318=_0x51d20f,_0x4bbd3d=_0x556b81[_0x4eb318(0xce7)](_0x4eb318(0x98b)+_0x255529);let _0x250d5f;_0x166700===_0x4eb318(0x595)?_0x250d5f=_0x556b81[_0x4eb318(0xce7)](_0x4eb318(0x5be)+_0x255529):_0x250d5f=_0x556b81[_0x4eb318(0xce7)](_0x4eb318(0x5be)+_0x255529)==='on';let _0x4a8c74=null;if(_0x4bbd3d!==null&&_0x4bbd3d!==undefined){const _0x499d33=_0x8496c9[_0x4eb318(0x8c6)]||currentDisplayedQuiz[_0x4eb318(0xc13)];_0x499d33==='multiple_choice'||_0x499d33===_0x4eb318(0x7b3)?_0x4a8c74=parseInt(_0x4bbd3d):_0x4a8c74=_0x4bbd3d;}return{'answer':_0x4a8c74,'wasConfident':_0x250d5f};}),_0x3ec293=currentQuizData['id'],_0xfe653b=doc(db,_0x51d20f(0x5c6)+appId+'/public/data/quizzes/'+_0x3ec293+'/submissions',currentStudentName),_0xdf7427=await getDoc(_0xfe653b),_0x5f4ad6=_0xdf7427['exists']()?_0xdf7427[_0x51d20f(0x225)]():{},_0x542cae=_0x5f4ad6[_0x51d20f(0x501)]||[];await processAndSubmitAnswers(_0x14ed7b,_0x542cae);}async function gradeShortAnswerWithAI(_0x1d5cb3,_0x18d22d){const _0x2d2f9b=_0x487f42;if(!_0x1d5cb3||!_0x18d22d)return![];try{const _0x147715='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x1d5cb3+_0x2d2f9b(0x263)+_0x18d22d+_0x2d2f9b(0x23e),_0x29bfa2={'contents':[{'role':_0x2d2f9b(0xa13),'parts':[{'text':_0x147715}]}]},_0xe4d233=_0x2d2f9b(0x779),_0x7146e8='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0xe4d233,_0x2f4ef9=await fetch(_0x7146e8,{'method':'POST','headers':{'Content-Type':_0x2d2f9b(0x72e)},'body':JSON['stringify'](_0x29bfa2)});if(!_0x2f4ef9['ok'])throw new Error(_0x2d2f9b(0x3f2));const _0x998f75=await _0x2f4ef9[_0x2d2f9b(0x763)](),_0x27ccfa=_0x998f75[_0x2d2f9b(0x31c)][0x0][_0x2d2f9b(0x5cf)]['parts'][0x0][_0x2d2f9b(0x274)][_0x2d2f9b(0x1fb)]()[_0x2d2f9b(0x47c)]();return _0x27ccfa===_0x2d2f9b(0x35a);}catch(_0x30b98f){return console[_0x2d2f9b(0x81d)]('AI\x20grading\x20failed:',_0x30b98f),![];}}async function processAndSubmitAnswers(_0x468a86,_0xd73c5a){const _0x5075c6=_0x487f42;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x5075c6(0x636)](_0x5075c6(0x686),handleFullscreenChange),document[_0x5075c6(0x636)]('visibilitychange',handleVisibilityChange);let _0x185d02=0x0;const _0x10ec50=[],_0x372a6b=currentDisplayedQuiz[_0x5075c6(0x726)]['length'];let _0x1d3c02=0x0,_0x47908a=[];const _0x141a0f=currentDisplayedQuiz[_0x5075c6(0x726)];for(let _0x167ff9=0x0;_0x167ff9<_0x141a0f[_0x5075c6(0xaf2)];_0x167ff9++){const _0x2b3bc6=_0x141a0f[_0x167ff9],_0x52a626=_0x468a86[_0x167ff9],_0x569071=_0x52a626?_0x52a626['answer']:null,_0x15ce12=_0x52a626?_0x52a626[_0x5075c6(0x621)]:null;let _0x1b550b=![],_0x2b6eaf=0x0;if(_0x569071!==null&&_0x569071!==''){const _0x11f729=_0x2b3bc6['questionType']||currentDisplayedQuiz[_0x5075c6(0xc13)];switch(_0x11f729){case _0x5075c6(0x252):_0x1b550b=_0x569071===_0x2b3bc6[_0x5075c6(0xb98)];break;case'true_false':const _0x41e08a=_0x569071===!![]||_0x569071===_0x5075c6(0x35a);_0x1b550b=_0x41e08a===_0x2b3bc6[_0x5075c6(0x5cc)];break;case _0x5075c6(0xa84):_0x1b550b=await gradeShortAnswer(_0x569071,_0x2b3bc6);break;case'multiple_choice':default:_0x1b550b=Number(_0x569071)===_0x2b3bc6[_0x5075c6(0xb6f)];break;}}if(currentDisplayedQuiz[_0x5075c6(0x7ba)]?.[_0x5075c6(0xd10)]){const _0x55ef33=_0x52a626?_0x52a626[_0x5075c6(0x621)]:null;if(_0x1b550b&&(_0x55ef33===!![]||_0x55ef33===_0x5075c6(0xc76)))_0x2b6eaf=0x2;else{if(_0x1b550b)_0x2b6eaf=0x1;else{if(!_0x1b550b&&(_0x55ef33===![]||_0x55ef33==='not_confident'||_0x55ef33===null))_0x2b6eaf=0x0;else!_0x1b550b&&(_0x55ef33===!![]||_0x55ef33==='confident')&&(_0x2b6eaf=-0x1);}}}else _0x2b6eaf=_0x1b550b?0x1:0x0;_0x185d02+=_0x2b6eaf;if(_0x1b550b){_0x1d3c02++;if(_0x1d3c02===0x3)_0x47908a['push'](BADGES[_0x5075c6(0x2b8)]['id']);}else _0x1d3c02=0x0;let _0x7c04ec=null;_0x2b3bc6[_0x5075c6(0x614)]&&_0x569071!==null&&(_0x7c04ec=_0x2b3bc6['options'][_0x569071]),_0x10ec50[_0x5075c6(0x511)]({'questionId':_0x2b3bc6['id'],'answer':_0x569071,'answerText':_0x7c04ec,'isCorrect':_0x1b550b,'wasConfident':_0x15ce12,'pointsAwarded':_0x2b6eaf,'originalQuestionText':_0x2b3bc6['stem']||_0x2b3bc6[_0x5075c6(0x467)]});}const _0x32b366=_0x10ec50[_0x5075c6(0x24b)](_0x1adaee=>_0x1adaee[_0x5075c6(0x28e)])[_0x5075c6(0xaf2)],_0x5dff31=currentDisplayedQuiz[_0x5075c6(0x7ba)]?.[_0x5075c6(0x797)]??Math[_0x5075c6(0xce5)](_0x372a6b/0x2);_0x32b366===_0x372a6b&&_0x372a6b>0x0&&!currentDisplayedQuiz[_0x5075c6(0x6fc)]&&_0x47908a['push'](BADGES[_0x5075c6(0x864)]['id']);const _0x1c8e44=currentDisplayedQuiz[_0x5075c6(0x7ba)]?.[_0x5075c6(0x2e2)];if(_0x1c8e44===_0x5075c6(0x933)&&quizStartTime){const _0x39b1a1=(new Date()-quizStartTime)/0x3e8,_0x43b3f2=currentDisplayedQuiz['settings']['timerDuration']*0x3c;_0x32b366>=_0x5dff31&&_0x39b1a1<_0x43b3f2/0x2&&_0x47908a['push'](BADGES[_0x5075c6(0x1f3)]['id']);}_0xd73c5a[_0x5075c6(0xaf2)]===0x0&&_0x32b366===_0x372a6b&&_0x372a6b>0x0&&_0x47908a[_0x5075c6(0x511)](BADGES[_0x5075c6(0x3c9)]['id']);if(_0xd73c5a['length']>0x0){const _0x429a15=_0xd73c5a[0x0]['score'];if(_0x429a15<_0x5dff31&&_0x32b366>=_0x5dff31){const _0x595a00=_0xd73c5a[_0x5075c6(0x373)](_0x12756d=>(_0x12756d['badges']||[])[_0x5075c6(0x2a9)](BADGES[_0x5075c6(0x657)]['id']));!_0x595a00&&_0x47908a['push'](BADGES['COMEBACK_KING']['id']);}}_0xd73c5a['length']===0x4&&_0x47908a['push'](BADGES[_0x5075c6(0x768)]['id']);const _0x4e9516=currentDisplayedQuiz['settings'][_0x5075c6(0x758)];if(currentMode==='admin-testing'){handleResultDisplay(_0x4e9516,_0x32b366,_0x185d02,_0x47908a,_0x10ec50,_0x372a6b);return;}const _0x30decb=currentQuizData['id'],_0x3bae69=doc(db,_0x5075c6(0x5c6)+appId+'/public/data/quizzes/'+_0x30decb+_0x5075c6(0x7ea),currentStudentName);try{const _0x553cdf=[..._0xd73c5a],_0x5c1122={'score':_0x32b366,'points':_0x185d02,'badges':Array['from'](new Set(_0x47908a)),'submittedAt':new Date()[_0x5075c6(0xcfb)](),'answers':_0x10ec50};_0x553cdf[_0x5075c6(0x511)](_0x5c1122);const _0x362ec4=_0xd73c5a[_0x5075c6(0xaf2)]===0x0?_0x32b366:_0xd73c5a[0x0][_0x5075c6(0xb7c)]||0x0,_0x2f62ea=Math[_0x5075c6(0x529)](..._0x553cdf['map'](_0x2259d9=>_0x2259d9[_0x5075c6(0xb7c)]));await setDoc(_0x3bae69,{'studentName':currentStudentName,'totalQuestions':_0x372a6b,'attempts':_0x553cdf,'firstScore':_0x362ec4,'bestScore':_0x2f62ea,'latestScore':_0x32b366,'points':_0x185d02,'latestSubmittedAt':_0x5c1122['submittedAt']},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x4e9516,_0x32b366,_0x185d02,_0x47908a,_0x10ec50,_0x372a6b);}catch(_0x3ef098){console['error'](_0x5075c6(0x750),_0x3ef098),showMessage(_0x5075c6(0x2a7));}}async function updateStudentProfile(_0x9a2aa8,_0x529406){const _0x2146e3=_0x487f42,_0x156950=doc(db,_0x2146e3(0x5c6)+appId+'/public/data/projects/'+_0x9a2aa8+_0x2146e3(0x36d),_0x529406);try{const _0x2a13d4=query(collection(db,_0x2146e3(0x5c6)+appId+_0x2146e3(0x7ac)),where('projectId','==',_0x9a2aa8)),_0x5b3011=await getDocs(_0x2a13d4),_0x32e739=new Map(_0x5b3011['docs']['map'](_0x52b067=>[_0x52b067['id'],_0x52b067[_0x2146e3(0x225)]()])),_0x1781ab=Array['from'](_0x32e739[_0x2146e3(0xaf6)]());await runTransaction(db,async _0x59ead6=>{const _0x6639c7=_0x2146e3;let _0xfe7b1b=0x0;const _0x443c4d={};let _0x404a69=!![],_0x53bcb9=0x0,_0x43df5f=0x0;for(const _0x1b442d of _0x1781ab){const _0xaeb323=_0x32e739[_0x6639c7(0xce7)](_0x1b442d),_0x3b11d9=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x1b442d+'/submissions',_0x529406),_0x72b232=await _0x59ead6[_0x6639c7(0xce7)](_0x3b11d9);if(_0x72b232['exists']()){const _0x21c658=_0x72b232[_0x6639c7(0x225)](),_0x538634=_0x21c658['attempts']||[];if(_0x538634['length']>0x0){const _0x43419e=_0x538634[_0x6639c7(0x209)]((_0x563dbe,_0x2fa8af)=>{const _0x17ffc4=_0x6639c7;if(_0x2fa8af['score']>_0x563dbe[_0x17ffc4(0xb7c)])return _0x2fa8af;if(_0x2fa8af[_0x17ffc4(0xb7c)]===_0x563dbe[_0x17ffc4(0xb7c)])return(_0x2fa8af[_0x17ffc4(0xb28)]||0x0)>(_0x563dbe[_0x17ffc4(0xb28)]||0x0)?_0x2fa8af:_0x563dbe;return _0x563dbe;},{'score':-0x1,'points':-0x1});_0x43419e[_0x6639c7(0xb7c)]>-0x1&&(_0xfe7b1b+=_0x43419e[_0x6639c7(0xb28)]||0x0,(_0x43419e[_0x6639c7(0x41e)]||[])['forEach'](_0x4879e7=>{_0x443c4d[_0x4879e7]=(_0x443c4d[_0x4879e7]||0x0)+0x1;}));}}if(_0xaeb323[_0x6639c7(0xc30)]!==_0x6639c7(0x45f)){_0x43df5f++;if(_0x72b232[_0x6639c7(0xd6a)]()){_0x53bcb9++;const _0x276762=_0x72b232[_0x6639c7(0x225)]();_0x276762['bestScore']!==_0x276762[_0x6639c7(0xc9b)]&&(_0x404a69=![]);}else _0x404a69=![];}}_0x43df5f>0x0&&_0x53bcb9===_0x43df5f&&_0x404a69?_0x443c4d[_0x6639c7(0xba7)]=0x1:_0x443c4d[_0x6639c7(0xba7)]=0x0,_0x59ead6[_0x6639c7(0x997)](_0x156950,{'studentName':_0x529406,'totalPoints':_0xfe7b1b,'unlockedBadges':Object[_0x6639c7(0xaf6)](_0x443c4d)['filter'](_0x4b0dda=>_0x443c4d[_0x4b0dda]>0x0),'badgesCount':_0x443c4d},{'merge':!![]});});}catch(_0x38427b){console[_0x2146e3(0x81d)](_0x2146e3(0x78e),_0x38427b),showMessage(_0x2146e3(0x249));}}function startAdminTest(){const _0x30197d=_0x487f42;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x10cd41=JSON[_0x30197d(0x390)](JSON['stringify'](currentQuizData));currentMode=_0x30197d(0x67d),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x30197d(0xad3)][_0x30197d(0xa6b)]('hidden'),studentView[_0x30197d(0xad3)]['remove'](_0x30197d(0xc0c)),studentInitialView[_0x30197d(0xad3)]['add'](_0x30197d(0xc0c)),studentNameSelectionView[_0x30197d(0xad3)][_0x30197d(0xa6b)]('hidden'),studentResultArea['classList']['add']('hidden'),studentQuizArea[_0x30197d(0xad3)][_0x30197d(0x432)](_0x30197d(0xc0c)),quizStartTime=new Date(),displayQuizForStudent(_0x10cd41);}function handleResultDisplay(_0x58b5bd,_0x5e3201,_0x4e349c,_0x504904,_0x1170e0,_0x254485){const _0x38654d=_0x487f42;if(_0x58b5bd===_0x38654d(0x3ee)){displaySubmissionConfirmation();return;}const _0x2be58c=currentDisplayedQuiz[_0x38654d(0x7ba)]?.[_0x38654d(0x797)]??Math[_0x38654d(0xce5)](_0x254485/0x2),_0x469a74=currentDisplayedQuiz['settings']?.['isAdaptive']??![],_0x10a58e=currentDisplayedQuiz[_0x38654d(0x7ba)]?.['loopUntilPass']===!![],_0x8f4655=_0x5e3201<_0x2be58c,_0x24e1dc=_0x58b5bd==='half_mark_status'||_0x58b5bd===_0x38654d(0x3b3);if(_0x10a58e&&_0x8f4655&&!_0x24e1dc){_0x58b5bd===_0x38654d(0x37c)?displayResultsWithAnswers(_0x5e3201,_0x4e349c,_0x504904,_0x1170e0,_0x254485,!![]):displayLoopScreen(_0x5e3201,_0x254485,_0x58b5bd);return;}if(_0x469a74&&_0x8f4655){startAdaptiveFlow(_0x1170e0,_0x5e3201,_0x254485);return;}switch(_0x58b5bd){case _0x38654d(0x37c):displayResultsWithAnswers(_0x5e3201,_0x4e349c,_0x504904,_0x1170e0,_0x254485);break;case _0x38654d(0xa65):displayResultsScoreOnly(_0x5e3201,_0x4e349c,_0x504904,_0x254485);break;case'show_pass_fail_only':displayPassFailOnly(_0x5e3201,_0x254485);break;case'half_mark_status':displayHalfMarkResult(_0x5e3201,_0x254485);break;case _0x38654d(0x3b3):displayPerfectScoreResult(_0x5e3201,_0x254485);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x528337){const _0x3f46a1=_0x487f42;studentReadingArea['innerHTML']=_0x3f46a1(0x6cc);const _0x404417=_0x3f46a1(0x2f1)+_0x528337+_0x3f46a1(0x223)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x14468a={'type':_0x3f46a1(0xaaa),'properties':{'questionText':{'type':_0x3f46a1(0x8d7)},'options':{'type':_0x3f46a1(0x22b),'items':{'type':_0x3f46a1(0x8d7)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x3f46a1(0x8d7)}},'required':[_0x3f46a1(0x467),'options','correctAnswerIndex',_0x3f46a1(0x712)]},_0x1c7368={'type':_0x3f46a1(0xaaa),'properties':{'topic':{'type':_0x3f46a1(0x8d7)},'questions':{'type':_0x3f46a1(0x22b),'items':_0x14468a}},'required':[_0x3f46a1(0xc30),'questions']};try{const _0x189331=await callAnalysisApi(_0x404417,_0x1c7368);_0x189331[_0x3f46a1(0x6fc)]=!![],studentReadingArea[_0x3f46a1(0xad3)][_0x3f46a1(0xa6b)](_0x3f46a1(0xc0c));const _0x17f452={...currentDisplayedQuiz[_0x3f46a1(0x7ba)],'isAdaptive':![],'resultsDisplay':_0x3f46a1(0x37c)};_0x189331[_0x3f46a1(0x7ba)]=_0x17f452,displayQuizForStudent(_0x189331);}catch(_0x325a8b){console[_0x3f46a1(0x81d)](_0x3f46a1(0xca8),_0x325a8b),showMessage(_0x3f46a1(0x2ff)),showView(_0x3f46a1(0x309));}}function displayPassFailOnly(_0x32e0a3,_0x541054){const _0xe0b06=_0x487f42,_0x49e88f=currentDisplayedQuiz[_0xe0b06(0x7ba)]?.[_0xe0b06(0x797)]??-0x1,_0x5373c6=currentDisplayedQuiz[_0xe0b06(0x6fc)]===!![];let _0x4984db='',_0x121470=![];if(_0x5373c6||_0x49e88f!==-0x1){_0x121470=_0x5373c6?_0x32e0a3===_0x541054:_0x32e0a3>=_0x49e88f;const _0x29297a=_0x121470?_0xe0b06(0x369):'bg-red-100\x20text-red-800',_0x458ac4=_0x121470?_0xe0b06(0x64f):_0xe0b06(0x517);_0x4984db=_0xe0b06(0xb69)+_0x29297a+'\x22>'+_0x458ac4+'</span></div>';}else _0x4984db='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x3ead28='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0xe0b06(0x7d7)+_0x4984db+_0xe0b06(0xbe6);studentResultArea[_0xe0b06(0x843)]=_0x3ead28,studentResultArea[_0xe0b06(0xad3)][_0xe0b06(0x432)](_0xe0b06(0xc0c)),studentQuizArea[_0xe0b06(0xad3)][_0xe0b06(0xa6b)]('hidden'),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x121470});}function cancelAdminTest(){const _0x3c0a48=_0x487f42;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener'](_0x3c0a48(0x686),handleFullscreenChange),document['removeEventListener'](_0x3c0a48(0xcdd),handleVisibilityChange),currentMode=_0x3c0a48(0x56d),studentView[_0x3c0a48(0xad3)][_0x3c0a48(0xa6b)]('hidden'),adminView[_0x3c0a48(0xad3)][_0x3c0a48(0x432)](_0x3c0a48(0xc0c)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x3c0a48(0x347));}function setupResultScreenBackButton(_0x1f623f){const _0x3f74c3=_0x487f42,_0x3a9c4f={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x1f623f};if(_0x3a9c4f[_0x3f74c3(0x92b)]){const _0x1414d6=_0x3f74c3(0xae5);studentResultArea[_0x3f74c3(0x645)](_0x3f74c3(0xa26),_0x1414d6),document[_0x3f74c3(0x40a)]('retake-quiz-loop-btn')[_0x3f74c3(0x7d4)]('click',()=>{const _0x67c664=_0x3f74c3;studentResultArea[_0x67c664(0xad3)]['add'](_0x67c664(0xc0c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x5c5be4='back-from-results-btn',_0x5b2c68=currentMode==='admin-testing',_0x21b5d3=_0x5b2c68?_0x3f74c3(0x79a):_0x3f74c3(0x616);let _0x1a558b='';_0x3a9c4f[_0x3f74c3(0x9b7)]&&(_0x1a558b+=_0x3f74c3(0x200));let _0x56f3b0=_0x3a9c4f[_0x3f74c3(0x6ad)];_0x56f3b0===undefined&&(_0x56f3b0=_0x3a9c4f['score']<_0x3a9c4f['totalQuestions']);_0x56f3b0&&(_0x1a558b+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x1a558b+=_0x3f74c3(0xb3e)+_0x5c5be4+_0x3f74c3(0x984)+_0x21b5d3+_0x3f74c3(0x7c6);const _0x29c8dc=_0x3f74c3(0x3b2)+_0x1a558b+_0x3f74c3(0xcc7);studentResultArea[_0x3f74c3(0x645)](_0x3f74c3(0xa26),_0x29c8dc),studentResultArea[_0x3f74c3(0xaef)](_0x3f74c3(0x8ec))?.['addEventListener'](_0x3f74c3(0x859),handleShowStudentRankings);const _0x327155=studentResultArea[_0x3f74c3(0xaef)](_0x3f74c3(0x70f));_0x327155&&_0x327155[_0x3f74c3(0x7d4)](_0x3f74c3(0x859),()=>{const _0x4c43ba=_0x3f74c3;studentResultArea['classList'][_0x4c43ba(0xa6b)](_0x4c43ba(0xc0c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x3f74c3(0x40a)](_0x5c5be4)[_0x3f74c3(0x7d4)](_0x3f74c3(0x859),()=>{const _0x63aeaa=_0x3f74c3;_0x5b2c68?(currentMode='admin',studentView[_0x63aeaa(0xad3)]['add'](_0x63aeaa(0xc0c)),adminView['classList'][_0x63aeaa(0x432)](_0x63aeaa(0xc0c)),showView(_0x63aeaa(0x347))):(showView(_0x63aeaa(0x309)),document[_0x63aeaa(0x40a)](_0x63aeaa(0x498))['value']='');});}function displayResultsWithAnswers(_0x36df65,_0x513785,_0x2329e8,_0x4f9ddf,_0x4863f7,_0x46363b=![]){const _0x4144ed=_0x487f42,_0x133806=_0x4863f7>0x0?_0x36df65/_0x4863f7*0x64:0x0,_0x83e2b4=currentDisplayedQuiz[_0x4144ed(0x7ba)]?.[_0x4144ed(0x797)]??-0x1,_0x32ebe1=currentDisplayedQuiz[_0x4144ed(0x6fc)]===!![];let _0x57e983='';if(_0x32ebe1||_0x83e2b4!==-0x1){let _0x1c242f=_0x32ebe1?_0x36df65===_0x4863f7:_0x36df65>=_0x83e2b4;const _0x44cfbe=_0x1c242f?_0x4144ed(0x369):_0x4144ed(0x38c),_0x471929=_0x1c242f?_0x4144ed(0x64f):_0x4144ed(0x517);_0x57e983=_0x4144ed(0x6a2)+_0x44cfbe+'\x22>'+_0x471929+_0x4144ed(0x6c7);}let _0x16af8d=_0x4144ed(0x32e)+currentStudentName+_0x4144ed(0x6f1)+_0x36df65+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x4863f7+_0x4144ed(0x5ef)+_0x57e983+_0x4144ed(0x5bb)+_0x513785+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x133806[_0x4144ed(0xbd7)](0x0)+_0x4144ed(0x6d9);currentDisplayedQuiz['questions'][_0x4144ed(0xa40)]((_0x1436de,_0x4e1c07)=>{const _0x112d1f=_0x4144ed,_0x22b5f3=_0x4f9ddf[_0x4e1c07],_0x10b758=_0x22b5f3['answer'],_0x37ba7e=_0x22b5f3['isCorrect'],_0x1e99fc=_0x1436de[_0x112d1f(0x8c6)]||currentDisplayedQuiz['quizType'];_0x16af8d+=_0x112d1f(0xa5b)+(_0x37ba7e?_0x112d1f(0x496):'border-red-300\x20bg-red-50')+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x4e1c07+0x1)+'.\x20'+(_0x1436de[_0x112d1f(0x593)]||_0x1436de[_0x112d1f(0x467)])+_0x112d1f(0x7bf);switch(_0x1e99fc){case'matching_item':const _0x136f84=_0x10b758||_0x112d1f(0x516),_0x178aa2=_0x1436de[_0x112d1f(0xb98)];_0x16af8d+=_0x112d1f(0x9a5)+(!_0x37ba7e?_0x112d1f(0x756):'')+'\x22>'+_0x136f84+_0x112d1f(0x530);!_0x37ba7e&&(_0x16af8d+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x178aa2+'</p>');break;case'short_answer':_0x16af8d+=_0x112d1f(0x812)+(_0x10b758||_0x112d1f(0x516))+'</p>',_0x16af8d+=_0x112d1f(0x45b)+_0x1436de[_0x112d1f(0x73f)]+'</p>';break;case _0x112d1f(0x355):_0x16af8d+=_0x112d1f(0x2c9)+(_0x1436de['correctAnswer']===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x10b758==='true'&&!_0x37ba7e?_0x112d1f(0x756):'')+_0x112d1f(0xb5f),_0x16af8d+='<p\x20class=\x22'+(_0x1436de[_0x112d1f(0x5cc)]===![]?_0x112d1f(0x8c4):'')+'\x20'+(_0x10b758==='false'&&!_0x37ba7e?_0x112d1f(0x756):'')+_0x112d1f(0xa1b);break;default:_0x16af8d+=_0x1436de[_0x112d1f(0x614)]['map']((_0xbda440,_0x3a51ff)=>{const _0xfd4b80=_0x112d1f;let _0x5c5f63='',_0x3c23c4='';if(_0x3a51ff===_0x1436de[_0xfd4b80(0xb6f)])_0x5c5f63=_0xfd4b80(0x8c4),_0x3c23c4='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x3a51ff===_0x10b758&&(_0x5c5f63=_0xfd4b80(0xbd1),_0x3c23c4=_0xfd4b80(0xd75));return _0xfd4b80(0x7ca)+_0x5c5f63+'\x22>'+_0x3c23c4+_0xbda440+_0xfd4b80(0xcc7);})[_0x112d1f(0xb00)]('');break;}_0x16af8d+=_0x112d1f(0x76b)+(_0x1436de[_0x112d1f(0x712)]||_0x112d1f(0xb8f))+'</div>';if(!_0x37ba7e){const _0x362911=_0x1436de[_0x112d1f(0x593)]||_0x1436de[_0x112d1f(0x467)];_0x16af8d+=_0x112d1f(0x7c5)+escape(_0x362911)+_0x112d1f(0xd2c);}_0x16af8d+='</div>';}),studentResultArea[_0x4144ed(0x843)]=_0x16af8d,renderEarnedBadges(_0x2329e8,_0x4144ed(0xbda)),studentResultArea[_0x4144ed(0xad3)][_0x4144ed(0x432)](_0x4144ed(0xc0c)),studentQuizArea[_0x4144ed(0xad3)][_0x4144ed(0xa6b)](_0x4144ed(0xc0c)),setupResultScreenBackButton({'isLooping':_0x46363b,'score':_0x36df65,'totalQuestions':_0x4863f7,'showRankings':!![]});if(window['MathJax'])window[_0x4144ed(0xcc0)][_0x4144ed(0x8b2)]([studentResultArea]);}function displayResultsScoreOnly(_0xf83d8d,_0x34ae85,_0x3aba17,_0xb1049f){const _0x2bb4f2=_0x487f42,_0x3473b4=_0xb1049f>0x0?_0xf83d8d/_0xb1049f*0x64:0x0,_0x3768b2=currentDisplayedQuiz[_0x2bb4f2(0x7ba)]?.['passingScore']??-0x1,_0x5536e5=currentDisplayedQuiz[_0x2bb4f2(0x6fc)]===!![];let _0x80c241='';if(_0x5536e5||_0x3768b2!==-0x1){let _0x19f5c0=_0x5536e5?_0xf83d8d===_0xb1049f:_0xf83d8d>=_0x3768b2;const _0x21856c=_0x19f5c0?_0x2bb4f2(0x369):_0x2bb4f2(0x38c),_0x2d40d1=_0x19f5c0?_0x2bb4f2(0x64f):_0x2bb4f2(0x517);_0x80c241=_0x2bb4f2(0x6a2)+_0x21856c+'\x22>'+_0x2d40d1+_0x2bb4f2(0x6c7);}let _0x4304f5=_0x2bb4f2(0x71c)+currentStudentName+_0x2bb4f2(0xcd6)+_0xf83d8d+_0x2bb4f2(0x690)+_0xb1049f+_0x2bb4f2(0x5ef)+_0x80c241+_0x2bb4f2(0x5bb)+_0x34ae85+_0x2bb4f2(0x652)+_0x3473b4[_0x2bb4f2(0xbd7)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x4304f5,renderEarnedBadges(_0x3aba17,_0x2bb4f2(0xbda)),studentResultArea[_0x2bb4f2(0xad3)][_0x2bb4f2(0x432)](_0x2bb4f2(0xc0c)),studentQuizArea[_0x2bb4f2(0xad3)][_0x2bb4f2(0xa6b)](_0x2bb4f2(0xc0c)),setupResultScreenBackButton({'score':_0xf83d8d,'totalQuestions':_0xb1049f,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x1314c8=_0x487f42;let _0x22acb4=_0x1314c8(0xae6)+currentStudentName+_0x1314c8(0xb56);studentResultArea[_0x1314c8(0x843)]=_0x22acb4,studentResultArea[_0x1314c8(0xad3)]['remove'](_0x1314c8(0xc0c)),studentQuizArea[_0x1314c8(0xad3)][_0x1314c8(0xa6b)]('hidden'),document[_0x1314c8(0x40a)](_0x1314c8(0x807))[_0x1314c8(0x7d4)](_0x1314c8(0x859),()=>{const _0x1c6e8b=_0x1314c8;showView('student'),document[_0x1c6e8b(0x40a)](_0x1c6e8b(0x498))[_0x1c6e8b(0x6cb)]='';});}function renderEarnedBadges(_0x3a9ea6,_0x1fa243){const _0x2e0dba=_0x487f42,_0x311e7a=document[_0x2e0dba(0x40a)](_0x1fa243);if(!_0x311e7a||!_0x3a9ea6||_0x3a9ea6[_0x2e0dba(0xaf2)]===0x0)return;let _0x56a5fa='';_0x3a9ea6['forEach']((_0xbbf3aa,_0x1f536f)=>{const _0x2e7bcd=_0x2e0dba,_0x28b518=Object[_0x2e7bcd(0xafb)](BADGES)[_0x2e7bcd(0x8d2)](_0x4c0c59=>_0x4c0c59['id']===_0xbbf3aa);_0x28b518&&(_0x56a5fa+=_0x2e7bcd(0x74a)+_0x1f536f*0.2+_0x2e7bcd(0x344)+_0x28b518[_0x2e7bcd(0xc57)]+_0x2e7bcd(0x744)+_0x28b518[_0x2e7bcd(0x8a4)]+_0x2e7bcd(0x3be)+_0x28b518[_0x2e7bcd(0x408)]+_0x2e7bcd(0x75b));}),_0x311e7a[_0x2e0dba(0x843)]=_0x56a5fa;}function startPresentation(_0x58a079){const _0x9acb6b=_0x487f42;currentQuizData=getShuffledQuiz(_0x58a079),currentPresentationSlide=0x0,presentationModal[_0x9acb6b(0x446)][_0x9acb6b(0x224)]='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x56721f=_0x487f42;document[_0x56721f(0xc87)]&&document[_0x56721f(0x43d)](),presentationModal[_0x56721f(0x446)][_0x56721f(0x224)]=_0x56721f(0xaec);}function renderPresentationSlide(_0x1f2960){const _0x47a7e5=_0x487f42,_0x54a5fe=document[_0x47a7e5(0x40a)](_0x47a7e5(0x6de));if(!currentQuizData||!currentQuizData[_0x47a7e5(0x726)]||!currentQuizData[_0x47a7e5(0x726)][_0x1f2960]){_0x54a5fe[_0x47a7e5(0x843)]=_0x47a7e5(0x94d);return;}const _0x4c0bd5=currentQuizData[_0x47a7e5(0x726)][_0x1f2960],_0x20fdc5=_0x4c0bd5['questionType']||currentQuizData['quizType'];_0x54a5fe['innerHTML']='';let _0x9f50eb=_0x47a7e5(0x38d)+(_0x4c0bd5[_0x47a7e5(0x41c)]?_0x47a7e5(0xb1e)+_0x4c0bd5['imageCode']+_0x47a7e5(0xcc7):'')+_0x47a7e5(0x799)+(_0x1f2960+0x1)+'.\x20'+(_0x4c0bd5[_0x47a7e5(0x593)]||_0x4c0bd5[_0x47a7e5(0x467)])+_0x47a7e5(0x371);switch(_0x20fdc5){case'matching_item':_0x9f50eb+=_0x4c0bd5[_0x47a7e5(0x513)][_0x47a7e5(0x71d)](_0x5b0856=>_0x47a7e5(0x5ea)+_0x5b0856+_0x47a7e5(0x589))['join']('');break;case _0x47a7e5(0x355):_0x9f50eb+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x9f50eb+=_0x47a7e5(0x906);break;case'fill_in_no_choices':case'short_answer':_0x9f50eb+=_0x47a7e5(0xa68);break;case'fill_in_the_blank':case _0x47a7e5(0xd14):default:_0x9f50eb+=_0x4c0bd5[_0x47a7e5(0x614)][_0x47a7e5(0x71d)]((_0x10cffd,_0x2ba206)=>_0x47a7e5(0x968)+_0x2ba206+_0x47a7e5(0x6cd)+_0x10cffd+_0x47a7e5(0x589))[_0x47a7e5(0xb00)]('');break;}_0x9f50eb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x4c0bd5[_0x47a7e5(0x712)]||_0x47a7e5(0xb8f))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x54a5fe[_0x47a7e5(0x843)]=_0x9f50eb;if(window['MathJax'])window[_0x47a7e5(0xcc0)]['typesetPromise']([_0x54a5fe]);let _0x209ae1=[];switch(_0x20fdc5){case'matching_item':_0x209ae1=_0x4c0bd5[_0x47a7e5(0x513)]||[];break;case'true_false':_0x209ae1=[_0x47a7e5(0xa3a),_0x47a7e5(0xa9f)];break;default:_0x209ae1=_0x4c0bd5[_0x47a7e5(0x614)]||[];break;}const _0x35b1e3=document[_0x47a7e5(0x40a)](_0x47a7e5(0xa7f));_0x35b1e3&&(_0x35b1e3['onclick']=()=>{openScratchpad(_0x4c0bd5,_0x209ae1);});document[_0x47a7e5(0x93e)]('.presentation-option')[_0x47a7e5(0xa40)](_0x47cc8c=>{const _0x2867a9=_0x47a7e5;_0x47cc8c[_0x2867a9(0x7d4)](_0x2867a9(0x859),_0x5636b=>revealAnswerForPresentation(_0x1f2960,_0x5636b[_0x2867a9(0x340)]));});const _0x185503=document[_0x47a7e5(0x40a)](_0x47a7e5(0x880));_0x185503&&_0x185503[_0x47a7e5(0x7d4)](_0x47a7e5(0x859),()=>checkShortAnswerForPresentation(_0x1f2960)),document[_0x47a7e5(0x40a)](_0x47a7e5(0x9ef))[_0x47a7e5(0x642)]='ข้อที่\x20'+(_0x1f2960+0x1)+'\x20/\x20'+currentQuizData[_0x47a7e5(0x726)][_0x47a7e5(0xaf2)],document[_0x47a7e5(0x40a)](_0x47a7e5(0x52e))['disabled']=_0x1f2960===0x0,document[_0x47a7e5(0x40a)](_0x47a7e5(0xbfb))[_0x47a7e5(0x4c2)]=_0x1f2960===currentQuizData['questions']['length']-0x1;}async function checkShortAnswerForPresentation(_0x124455){const _0x22d599=_0x487f42,_0x378f1a=currentQuizData[_0x22d599(0x726)][_0x124455],_0x207557=document['getElementById'](_0x22d599(0xb4f)),_0x3c128a=document[_0x22d599(0x40a)](_0x22d599(0x880)),_0x353583=document[_0x22d599(0x40a)]('presentation-ai-result'),_0xbb8691=document[_0x22d599(0x40a)](_0x22d599(0x96c));if(!_0x207557||!_0x3c128a||!_0x353583||!_0xbb8691)return;const _0x3637ba=_0x207557[_0x22d599(0x6cb)][_0x22d599(0x1fb)]();if(_0x3637ba==='')return;_0x3c128a[_0x22d599(0x4c2)]=!![],_0x3c128a['innerHTML']=_0x22d599(0xcff),_0x207557[_0x22d599(0x4c2)]=!![];const _0x30557e=await gradeShortAnswer(_0x3637ba,_0x378f1a);_0x30557e?_0x353583[_0x22d599(0x843)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x353583[_0x22d599(0x843)]=_0x22d599(0xbd8)+_0x378f1a[_0x22d599(0x73f)]+')',_0x353583[_0x22d599(0xad3)][_0x22d599(0x432)]('hidden'),_0xbb8691[_0x22d599(0xad3)][_0x22d599(0x432)]('hidden'),_0x3c128a[_0x22d599(0xad3)][_0x22d599(0xa6b)](_0x22d599(0xc0c));}function revealAnswerForPresentation(_0x42fbac,_0x42f44b){const _0xaf60ea=_0x487f42,_0x427e91=currentQuizData['questions'][_0x42fbac],_0x1282b1=_0x427e91[_0xaf60ea(0x8c6)]||currentQuizData[_0xaf60ea(0xc13)];document['querySelectorAll'](_0xaf60ea(0x69d))[_0xaf60ea(0xa40)](_0x5c7f95=>{const _0x296806=_0xaf60ea;_0x5c7f95[_0x296806(0x4c2)]=!![],_0x5c7f95[_0x296806(0xad3)][_0x296806(0x432)](_0x296806(0x3f0));let _0x3a221b=![];if(_0x1282b1===_0x296806(0xd14)||_0x1282b1===_0x296806(0x7b3)){const _0x4a0125=parseInt(_0x5c7f95['dataset'][_0x296806(0x3c6)]);_0x3a221b=_0x4a0125===_0x427e91['correctAnswerIndex'];}else{if(_0x1282b1===_0x296806(0x355)){const _0x5d7c66=_0x5c7f95[_0x296806(0x48f)]['answer']===_0x296806(0x35a);_0x3a221b=_0x5d7c66===_0x427e91[_0x296806(0x5cc)];}else _0x1282b1===_0x296806(0x252)&&(_0x3a221b=_0x5c7f95[_0x296806(0x642)][_0x296806(0x1fb)]()===_0x427e91[_0x296806(0xb98)]);}_0x3a221b?_0x5c7f95['classList'][_0x296806(0xa6b)](_0x296806(0x243),_0x296806(0x221),'border-green-700'):_0x5c7f95['classList'][_0x296806(0xa6b)]('opacity-50');}),_0x42f44b[_0xaf60ea(0xad3)][_0xaf60ea(0x432)](_0xaf60ea(0x8e5));let _0x3450c5=![];if(_0x1282b1===_0xaf60ea(0xd14))_0x3450c5=parseInt(_0x42f44b['dataset'][_0xaf60ea(0x3c6)])===_0x427e91[_0xaf60ea(0xb6f)];else{if(_0x1282b1===_0xaf60ea(0x355))_0x3450c5=_0x42f44b[_0xaf60ea(0x48f)][_0xaf60ea(0x277)]===_0xaf60ea(0x35a)===_0x427e91[_0xaf60ea(0x5cc)];else _0x1282b1===_0xaf60ea(0x252)&&(_0x3450c5=_0x42f44b[_0xaf60ea(0x642)][_0xaf60ea(0x1fb)]()===_0x427e91['correctResponse']);}!_0x3450c5&&_0x42f44b[_0xaf60ea(0xad3)][_0xaf60ea(0xa6b)]('bg-red-500',_0xaf60ea(0x221),_0xaf60ea(0x4e4)),document[_0xaf60ea(0x40a)](_0xaf60ea(0x96c))[_0xaf60ea(0xad3)][_0xaf60ea(0x432)](_0xaf60ea(0xc0c));}function startWholeQuizTimer(_0x521885){const _0x3fa2cb=_0x487f42,_0x38ea57=document[_0x3fa2cb(0x40a)](_0x3fa2cb(0x8e2));if(!_0x38ea57)return;const _0x20be49=Date[_0x3fa2cb(0x875)]()+_0x521885*0x3c*0x3e8;_0x38ea57[_0x3fa2cb(0x843)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x4d3123=document[_0x3fa2cb(0x40a)](_0x3fa2cb(0x671));quizTimerInterval=setInterval(()=>{const _0x2ec1b1=_0x3fa2cb,_0x1981f5=_0x20be49-Date[_0x2ec1b1(0x875)]();if(_0x1981f5<=0x0)clearInterval(quizTimerInterval),_0x4d3123[_0x2ec1b1(0x642)]=_0x2ec1b1(0xbdb),showMessage(_0x2ec1b1(0xd0e)),handleSubmitQuiz(null);else{const _0xab4df2=Math['floor'](_0x1981f5/0x3e8/0x3c%0x3c)[_0x2ec1b1(0xc03)]()[_0x2ec1b1(0x6a1)](0x2,'0'),_0x38a484=Math['floor'](_0x1981f5/0x3e8%0x3c)[_0x2ec1b1(0xc03)]()[_0x2ec1b1(0x6a1)](0x2,'0');_0x4d3123[_0x2ec1b1(0x642)]=_0xab4df2+':'+_0x38a484;}},0x3e8);}function renderPerQuestionView(){const _0x2cdfc5=_0x487f42;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x59539c=currentDisplayedQuiz[_0x2cdfc5(0x726)][currentQuestionIndex],_0x1b2bbe=_0x59539c[_0x2cdfc5(0x8c6)]||currentDisplayedQuiz[_0x2cdfc5(0xc13)],_0x39aac4=currentDisplayedQuiz[_0x2cdfc5(0x7ba)]?.[_0x2cdfc5(0xd10)]===!![];let _0x3b207a=_0x2cdfc5(0x961)+(currentQuestionIndex+0x1)+_0x2cdfc5(0x464)+currentDisplayedQuiz[_0x2cdfc5(0x726)][_0x2cdfc5(0xaf2)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin-testing'?_0x2cdfc5(0x310):'')+_0x2cdfc5(0xc6a)+currentDisplayedQuiz[_0x2cdfc5(0xc30)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea['innerHTML']=_0x3b207a;let _0x231398=_0x59539c[_0x2cdfc5(0x593)]||_0x59539c['questionText'];_0x59539c[_0x2cdfc5(0x41c)]&&(_0x231398+=_0x2cdfc5(0xb1e)+_0x59539c[_0x2cdfc5(0x41c)]+_0x2cdfc5(0xcc7));let _0x6c75ba='';switch(_0x1b2bbe){case _0x2cdfc5(0xa84):case _0x2cdfc5(0x855):_0x6c75ba=_0x2cdfc5(0x47d);break;case _0x2cdfc5(0x355):_0x6c75ba=_0x2cdfc5(0x6c4);break;case _0x2cdfc5(0x252):_0x6c75ba=_0x2cdfc5(0x85a)+(_0x59539c[_0x2cdfc5(0x513)]||[])[_0x2cdfc5(0x71d)](_0x2efc05=>_0x2cdfc5(0x648)+_0x2efc05+'\x22>'+_0x2efc05+_0x2cdfc5(0x343))[_0x2cdfc5(0xb00)]('')+_0x2cdfc5(0x87a);break;default:_0x59539c[_0x2cdfc5(0x614)]&&(_0x6c75ba=_0x59539c[_0x2cdfc5(0x614)][_0x2cdfc5(0x71d)]((_0x27ad45,_0x4598ab)=>_0x2cdfc5(0x8ff)+_0x4598ab+_0x2cdfc5(0x996)+_0x4598ab+_0x2cdfc5(0xc14)+_0x4598ab+'\x22>'+_0x27ad45+_0x2cdfc5(0x261))[_0x2cdfc5(0xb00)](''));break;}document[_0x2cdfc5(0x40a)](_0x2cdfc5(0xd1c))[_0x2cdfc5(0x843)]=_0x231398,document[_0x2cdfc5(0x40a)](_0x2cdfc5(0xc35))[_0x2cdfc5(0x843)]=_0x6c75ba;const _0x4f425d=currentDisplayedQuiz[_0x2cdfc5(0x7ba)]?.['isConfidenceScoringEnabled']===!![],_0x462a38=currentDisplayedQuiz['settings']?.[_0x2cdfc5(0x5f4)]||_0x2cdfc5(0x728);if(_0x4f425d&&_0x462a38===_0x2cdfc5(0x728)){const _0x13dda4=_0x2cdfc5(0x8fd);studentQuizArea[_0x2cdfc5(0xaef)](_0x2cdfc5(0x986))[_0x2cdfc5(0x645)](_0x2cdfc5(0xa26),_0x13dda4);}studentQuizArea[_0x2cdfc5(0x645)](_0x2cdfc5(0xa26),_0x2cdfc5(0x629)+(currentQuestionIndex===currentDisplayedQuiz[_0x2cdfc5(0x726)][_0x2cdfc5(0xaf2)]-0x1?_0x2cdfc5(0x76e):'คำถามถัดไป')+_0x2cdfc5(0xc11));currentMode===_0x2cdfc5(0x67d)&&document[_0x2cdfc5(0x40a)]('cancel-test-btn')?.[_0x2cdfc5(0x7d4)](_0x2cdfc5(0x859),cancelAdminTest);document[_0x2cdfc5(0x40a)](_0x2cdfc5(0xd23))[_0x2cdfc5(0x7d4)](_0x2cdfc5(0x859),()=>handleNextQuestionInTimedMode(![]));if(window[_0x2cdfc5(0xcc0)])window[_0x2cdfc5(0xcc0)][_0x2cdfc5(0x8b2)]([studentQuizArea]);currentDisplayedQuiz['settings']?.[_0x2cdfc5(0x2e2)]==='per_question'&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x2e57d8=_0x487f42,_0xf192f9=currentDisplayedQuiz['settings'][_0x2e57d8(0x99c)],_0x4142a1=document[_0x2e57d8(0x40a)](_0x2e57d8(0x282));if(!_0x4142a1)return;let _0x221c6b=_0xf192f9;_0x4142a1[_0x2e57d8(0x843)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x221c6b+_0x2e57d8(0xb71);const _0x45016a=document[_0x2e57d8(0x40a)]('timer-bar'),_0x572a7b=document['getElementById']('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x5a226a=_0x2e57d8;_0x221c6b--;const _0x1ef180=_0x221c6b/_0xf192f9*0x64;_0x45016a[_0x5a226a(0x446)][_0x5a226a(0x5d1)]=_0x1ef180+'%',_0x572a7b[_0x5a226a(0x642)]=_0x221c6b,_0x221c6b<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x29e002=![]){const _0x2d90eb=_0x487f42;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0xf4d564=null,_0xca1123=![];if(!_0x29e002){const _0x5a648d=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x4a3b02=_0x5a648d['questionType']||currentDisplayedQuiz[_0x2d90eb(0xc13)];if(_0x4a3b02==='short_answer'||_0x4a3b02==='fill_in_no_choices')_0xf4d564=document['querySelector'](_0x2d90eb(0xcee))?.[_0x2d90eb(0x6cb)]['trim']()??'';else{if(_0x4a3b02===_0x2d90eb(0x252))_0xf4d564=document[_0x2d90eb(0xaef)](_0x2d90eb(0x809))?.[_0x2d90eb(0x6cb)]??'';else{const _0x20e83a=document[_0x2d90eb(0xaef)](_0x2d90eb(0x3c0));_0x20e83a&&(_0xf4d564=_0x20e83a[_0x2d90eb(0x6cb)]);}}if(_0xf4d564===null||_0xf4d564===''){showMessage(_0x2d90eb(0xac6)),startPerQuestionTimer();return;}const _0xf6a379=currentDisplayedQuiz['settings']?.[_0x2d90eb(0xd10)]===!![],_0xb58b4=currentDisplayedQuiz[_0x2d90eb(0x7ba)]?.[_0x2d90eb(0x5f4)]||_0x2d90eb(0x728);if(_0xf6a379&&_0xb58b4===_0x2d90eb(0x595)){document[_0x2d90eb(0x40a)](_0x2d90eb(0x86e))[_0x2d90eb(0x48f)][_0x2d90eb(0x59c)]='timed',document[_0x2d90eb(0x40a)]('selected-answer-index-hidden')['value']=_0xf4d564,document[_0x2d90eb(0x40a)](_0x2d90eb(0x86e))[_0x2d90eb(0xad3)][_0x2d90eb(0x432)](_0x2d90eb(0xc0c));return;}const _0x4827e0=document['getElementById'](_0x2d90eb(0xb3c));_0x4827e0&&(_0xca1123=_0x4827e0['checked']);}const _0x1128be={'answer':_0xf4d564,'wasConfident':_0xca1123};proceedToNextQuestion(_0x1128be);}async function finalizePerQuestionQuiz(){const _0x5a199d=_0x487f42,_0x1d73e8=currentDisplayedQuiz[_0x5a199d(0x726)][_0x5a199d(0x373)](_0xdc9f5c=>_0xdc9f5c[_0x5a199d(0x8c6)]==='short_answer');_0x1d73e8?showMessage(_0x5a199d(0x6e4)):showMessage(_0x5a199d(0xca7));const _0x4c724f=currentQuizData['id'],_0x42c927=doc(db,_0x5a199d(0x5c6)+appId+'/public/data/quizzes/'+_0x4c724f+_0x5a199d(0x7ea),currentStudentName),_0x3363a6=await getDoc(_0x42c927),_0x3172e3=_0x3363a6[_0x5a199d(0xd6a)]()?_0x3363a6[_0x5a199d(0x225)]():{},_0x14cafe=_0x3172e3['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x14cafe);}function getResultsFilename(){const _0x3a1fe8=_0x487f42,_0x5d07c7=document[_0x3a1fe8(0x40a)](_0x3a1fe8(0xb84))[_0x3a1fe8(0x642)][_0x3a1fe8(0xa3d)](/[^a-z0-9]/gi,'_')[_0x3a1fe8(0x47c)]();return'results_'+(_0x5d07c7||_0x3a1fe8(0x2c5));}function exportResultsAsImage(){const _0x532b6e=_0x487f42,_0x25e73e=document[_0x532b6e(0x40a)](_0x532b6e(0x73e));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x25e73e)['then'](_0x4deba5=>{const _0x53a68b=_0x532b6e,_0x5cbcce=document[_0x53a68b(0x29e)]('a');_0x5cbcce[_0x53a68b(0x963)]=getResultsFilename()+_0x53a68b(0x73a),_0x5cbcce[_0x53a68b(0x260)]=_0x4deba5[_0x53a68b(0xb38)](_0x53a68b(0xd6c)),_0x5cbcce[_0x53a68b(0x859)](),messageModal[_0x53a68b(0xad3)][_0x53a68b(0xa6b)](_0x53a68b(0xc0c));});}function exportResultsAsPDF(){const _0x269700=_0x487f42,{jsPDF:_0x2d2a92}=window['jspdf'],_0x2dd663=new _0x2d2a92();_0x2dd663[_0x269700(0x426)]('helvetica','normal'),_0x2dd663[_0x269700(0x7e9)]({'html':_0x269700(0xd2e)}),_0x2dd663[_0x269700(0x74f)](getResultsFilename()+_0x269700(0xc43));}function exportResultsAsWord(){const _0x291002=_0x487f42,_0x105dfd='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x291002(0x4ee)+_0x291002(0xd8e),_0x124d62='</body></html>',_0x404825=_0x105dfd+document[_0x291002(0x40a)]('results-table-container')[_0x291002(0x843)]+_0x124d62,_0x52ed6f=_0x291002(0x722)+encodeURIComponent(_0x404825),_0x30cb99=document[_0x291002(0x29e)]('a');document['body'][_0x291002(0x84d)](_0x30cb99),_0x30cb99['href']=_0x52ed6f,_0x30cb99[_0x291002(0x963)]=getResultsFilename()+_0x291002(0xd31),_0x30cb99[_0x291002(0x859)](),document[_0x291002(0x4f1)][_0x291002(0x417)](_0x30cb99);}function exportResultsAsExcel(){const _0x5ec216=_0x487f42,_0x424160=document[_0x5ec216(0x40a)](_0x5ec216(0x7f8));let _0x49b354=[];for(let _0x4214f5=0x0;_0x4214f5<_0x424160[_0x5ec216(0xd36)][_0x5ec216(0xaf2)];_0x4214f5++){let _0x698e18=[],_0x1d388f=_0x424160[_0x5ec216(0xd36)][_0x4214f5][_0x5ec216(0x93e)](_0x5ec216(0x4b1));for(let _0x49af59=0x0;_0x49af59<_0x1d388f[_0x5ec216(0xaf2)];_0x49af59++){_0x698e18[_0x5ec216(0x511)]('\x22'+_0x1d388f[_0x49af59][_0x5ec216(0x521)][_0x5ec216(0xa3d)](/"/g,'\x22\x22')+'\x22');}_0x49b354['push'](_0x698e18[_0x5ec216(0xb00)](','));}const _0x80a9f3=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x49b354['join']('\x0a')],{'type':_0x5ec216(0x37a)}),_0x3908b4=document[_0x5ec216(0x29e)]('a');_0x3908b4[_0x5ec216(0x260)]=URL['createObjectURL'](_0x80a9f3),_0x3908b4[_0x5ec216(0x963)]=getResultsFilename()+_0x5ec216(0x9c9),_0x3908b4['click']();}function exportTableAsImage(_0x1d1fd7,_0x109535){const _0x5b4f46=_0x487f42,_0x43c147=document[_0x5b4f46(0x40a)](_0x1d1fd7);if(!_0x43c147){showMessage(_0x5b4f46(0xa18));return;}showMessage(_0x5b4f46(0xa6a)),html2canvas(_0x43c147)['then'](_0x351776=>{const _0x48343b=_0x5b4f46,_0xbc12d6=document['createElement']('a');_0xbc12d6[_0x48343b(0x963)]=_0x109535+_0x48343b(0x73a),_0xbc12d6['href']=_0x351776[_0x48343b(0xb38)]('image/png'),_0xbc12d6[_0x48343b(0x859)](),messageModal[_0x48343b(0xad3)][_0x48343b(0xa6b)]('hidden');});}function exportTableAsPDF(_0x26273e,_0x511491){const _0x154d73=_0x487f42,{jsPDF:_0x3e42e1}=window[_0x154d73(0xb85)],_0x1a5f6c=new _0x3e42e1();_0x1a5f6c[_0x154d73(0x426)]('helvetica',_0x154d73(0x412)),_0x1a5f6c[_0x154d73(0x7e9)]({'html':'#'+_0x26273e}),_0x1a5f6c[_0x154d73(0x74f)](_0x511491+'.pdf');}function exportTableAsWord(_0x32d998,_0x6b10b3){const _0x3489ec=_0x487f42,_0x328bed=document[_0x3489ec(0x40a)](_0x32d998);if(!_0x328bed){showMessage(_0x3489ec(0xa18));return;}const _0x563f16=_0x3489ec(0x56f)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x3489ec(0xd8e),_0x11dbaa=_0x3489ec(0x259),_0x373932=_0x563f16+_0x328bed[_0x3489ec(0x843)]+_0x11dbaa,_0xc5d44c=_0x3489ec(0x722)+encodeURIComponent(_0x373932),_0x3722ee=document[_0x3489ec(0x29e)]('a');document[_0x3489ec(0x4f1)]['appendChild'](_0x3722ee),_0x3722ee['href']=_0xc5d44c,_0x3722ee[_0x3489ec(0x963)]=_0x6b10b3+'.doc',_0x3722ee[_0x3489ec(0x859)](),document[_0x3489ec(0x4f1)]['removeChild'](_0x3722ee);}function exportTableAsExcel(_0x1c17bc,_0x932b25){const _0x41f9ab=_0x487f42,_0x52b2f5=document[_0x41f9ab(0x40a)](_0x1c17bc);if(!_0x52b2f5){showMessage(_0x41f9ab(0xa18));return;}let _0x5c94e0=[];for(let _0x585a91=0x0;_0x585a91<_0x52b2f5[_0x41f9ab(0xd36)][_0x41f9ab(0xaf2)];_0x585a91++){let _0x4297d5=[],_0x18d350=_0x52b2f5['rows'][_0x585a91][_0x41f9ab(0x93e)]('td,\x20th');for(let _0x5a25b8=0x0;_0x5a25b8<_0x18d350['length'];_0x5a25b8++){_0x4297d5[_0x41f9ab(0x511)]('\x22'+_0x18d350[_0x5a25b8]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0x5c94e0[_0x41f9ab(0x511)](_0x4297d5['join'](','));}const _0x54a81c=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5c94e0[_0x41f9ab(0xb00)]('\x0a')],{'type':_0x41f9ab(0x37a)}),_0x59bd17=document[_0x41f9ab(0x29e)]('a');_0x59bd17[_0x41f9ab(0x260)]=URL[_0x41f9ab(0x2a6)](_0x54a81c),_0x59bd17['download']=_0x932b25+'.csv',_0x59bd17[_0x41f9ab(0x859)]();}function renderAnalytics(_0xdef1db,_0x2b384a){const _0x1248a4=_0x487f42,_0x16af6c=_0x2b384a[_0x1248a4(0x24b)](_0x42afa4=>_0x42afa4['latestScore']!==undefined),_0x4f9e6b=currentProjectData['students'][_0x1248a4(0xaf2)],_0xd0957f=_0x16af6c['length'],_0x441a76=_0x4f9e6b-_0xd0957f,_0x4dae47=_0x4f9e6b>0x0?_0xd0957f/_0x4f9e6b*0x64:0x0,_0x58c912=_0x16af6c['map'](_0x19ab17=>_0x19ab17[_0x1248a4(0xbe4)]),_0x233271=_0x58c912[_0x1248a4(0xaf2)]>0x0?_0x58c912[_0x1248a4(0x209)]((_0x3c4815,_0x27958c)=>_0x3c4815+_0x27958c,0x0)/_0x58c912[_0x1248a4(0xaf2)]:0x0,_0x14b152=_0xdef1db['questions'][_0x1248a4(0xaf2)],_0x59162b=_0x14b152>0x0?_0x233271/_0x14b152*0x64:0x0,_0x3ada5f=calculateItemAnalysis(_0xdef1db,_0x16af6c),_0x81e4ab=calculateReliabilityKR20(_0xdef1db,_0x16af6c,_0x3ada5f[_0x1248a4(0x250)]);let _0xfaec36='';if(_0x81e4ab!==null){let _0x425d53='';if(_0x81e4ab>=0.9)_0x425d53=_0x1248a4(0x83e);else{if(_0x81e4ab>=0.8)_0x425d53=_0x1248a4(0xb8c);else{if(_0x81e4ab>=0.7)_0x425d53='ดี';else{if(_0x81e4ab>=0.6)_0x425d53='พอใช้';else _0x425d53=_0x1248a4(0x44f);}}}_0xfaec36='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x81e4ab[_0x1248a4(0xbd7)](0x2)+_0x1248a4(0x6fd)+_0x425d53+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x5435f5=document[_0x1248a4(0x40a)](_0x1248a4(0x8a3));_0x5435f5[_0x1248a4(0x843)]=_0x1248a4(0xc18)+_0x4dae47['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0xd0957f+'/'+_0x4f9e6b+_0x1248a4(0x317)+_0x233271[_0x1248a4(0xbd7)](0x2)+_0x1248a4(0x45c)+_0x59162b[_0x1248a4(0xbd7)](0x0)+_0x1248a4(0x9f6)+(_0x58c912[_0x1248a4(0xaf2)]>0x0?Math[_0x1248a4(0x529)](..._0x58c912):'N/A')+_0x1248a4(0x2d9)+(_0x58c912[_0x1248a4(0xaf2)]>0x0?Math[_0x1248a4(0xaaf)](..._0x58c912):_0x1248a4(0xca9))+_0x1248a4(0x3fb)+_0xfaec36+'\x0a\x20\x20\x20\x20';const _0x59e35c=document[_0x1248a4(0x40a)](_0x1248a4(0xabd));_0x59e35c&&_0x59e35c[_0x1248a4(0x432)]();const _0x4d2209=_0x1248a4(0x5dc);_0x5435f5[_0x1248a4(0x645)]('afterend',_0x4d2209);const _0x356704=currentProjectData[_0x1248a4(0xbe8)]||[];renderSubmissionChart(_0xd0957f,_0x441a76,_0x16af6c,_0x356704),renderScoreDistributionChart(_0x16af6c,_0x14b152),renderQuestionAnalytics(_0xdef1db,_0x16af6c,_0x356704),renderInterestingStats(_0xdef1db,_0x16af6c);}async function handleExportLessonPDF(){const _0x25ddba=_0x487f42,_0x12fcf7=document[_0x25ddba(0x40a)]('lesson-plan-content'),_0x400d7b=document[_0x25ddba(0x40a)](_0x25ddba(0x8de))[_0x25ddba(0x642)],_0xe32f3f=window[_0x25ddba(0x93a)]('',_0x25ddba(0x34b)),_0xcfcc1=_0x25ddba(0x683)+_0x400d7b+_0x25ddba(0x4b7)+_0x12fcf7['innerHTML']+_0x25ddba(0x94e);_0xe32f3f[_0x25ddba(0xb3f)][_0x25ddba(0xd6d)](_0xcfcc1),_0xe32f3f[_0x25ddba(0xb3f)][_0x25ddba(0x327)](),_0xe32f3f[_0x25ddba(0x2e1)]=function(){setTimeout(()=>{const _0x32fed0=_0x4191;_0xe32f3f[_0x32fed0(0x75e)]();},0x5dc);};}function renderInterestingStats(_0xd1b36b,_0x3e3c14){const _0x3a2dd9=_0x487f42,_0x57206e=document[_0x3a2dd9(0x40a)](_0x3a2dd9(0x723));if(!_0x57206e)return;if(_0x3e3c14['length']===0x0){_0x57206e['innerHTML']=_0x3a2dd9(0x55e);return;}const _0x40868b=_0xd1b36b[_0x3a2dd9(0x726)][_0x3a2dd9(0x71d)]((_0xef1102,_0x1624ea)=>({'index':_0x1624ea+0x1,'text':_0xef1102[_0x3a2dd9(0x467)]||_0xef1102[_0x3a2dd9(0x593)],'correct':0x0}));_0x3e3c14['forEach'](_0xe8da26=>{const _0x4d3af9=_0x3a2dd9,_0x54b994=_0xe8da26[_0x4d3af9(0x501)][_0xe8da26[_0x4d3af9(0x501)][_0x4d3af9(0xaf2)]-0x1];_0x54b994&&_0x54b994[_0x4d3af9(0xb73)]&&_0x54b994['answers'][_0x4d3af9(0xa40)](_0xcf3832=>{const _0xf67106=_0x4d3af9,_0x1d3e52=_0x40868b[_0xf67106(0x8d2)](_0x822315=>_0x822315[_0xf67106(0x274)]===_0xcf3832[_0xf67106(0x2ee)]);_0xcf3832[_0xf67106(0x28e)]&&_0x1d3e52&&_0x1d3e52['correct']++;});});const _0x1007a8=_0x3e3c14[_0x3a2dd9(0xaf2)],_0x4da408=Math[_0x3a2dd9(0x529)](..._0x40868b[_0x3a2dd9(0x71d)](_0x3ee93d=>_0x3ee93d['correct'])),_0x394820=Math['min'](..._0x40868b['map'](_0x5df805=>_0x5df805['correct'])),_0x490b0d=_0x40868b[_0x3a2dd9(0x24b)](_0x4bd8b7=>_0x4bd8b7['correct']===_0x4da408)[_0x3a2dd9(0x71d)](_0x205ab0=>_0x3a2dd9(0x939)+_0x205ab0[_0x3a2dd9(0x3c6)]),_0x5a9b83=_0x40868b[_0x3a2dd9(0x24b)](_0x337b88=>_0x337b88['correct']===_0x394820)[_0x3a2dd9(0x71d)](_0x10c279=>_0x3a2dd9(0x939)+_0x10c279['index']),_0x561f8f=_0x3e3c14[_0x3a2dd9(0x9ff)]((_0x2725c1,_0x10dc47)=>_0x10dc47[_0x3a2dd9(0xbe4)]-_0x2725c1['latestScore'])[_0x3a2dd9(0x24b)]((_0x41ef0c,_0x271eed,_0x1556b6)=>_0x41ef0c[_0x3a2dd9(0xbe4)]===_0x1556b6[0x0][_0x3a2dd9(0xbe4)]),_0x1e789d=_0x3e3c14[_0x3a2dd9(0x9ff)]((_0x18ad55,_0x4b537d)=>_0x18ad55[_0x3a2dd9(0xbe4)]-_0x4b537d[_0x3a2dd9(0xbe4)])[_0x3a2dd9(0x24b)]((_0x451f7a,_0x30eb98,_0x3952eb)=>_0x451f7a[_0x3a2dd9(0xbe4)]===_0x3952eb[0x0]['latestScore']),_0x5a2b3e=_0x3a2dd9(0x5aa)+_0x490b0d[_0x3a2dd9(0xb00)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x4da408+'\x20/\x20'+_0x1007a8+_0x3a2dd9(0x6e1)+_0x5a9b83['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x1007a8-_0x394820)+_0x3a2dd9(0x60e)+_0x1007a8+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x561f8f[_0x3a2dd9(0x71d)](_0x357582=>_0x357582['studentName'])['join'](',\x20')+_0x3a2dd9(0x4ca)+_0x561f8f[0x0][_0x3a2dd9(0xbe4)]+_0x3a2dd9(0xcd7)+_0x1e789d[_0x3a2dd9(0x71d)](_0x1d36d2=>_0x1d36d2[_0x3a2dd9(0x2ac)])[_0x3a2dd9(0xb00)](',\x20')+_0x3a2dd9(0x4ca)+_0x1e789d[0x0][_0x3a2dd9(0xbe4)]+_0x3a2dd9(0x402);_0x57206e[_0x3a2dd9(0x843)]=_0x5a2b3e;}function renderSubmissionChart(_0x212b08,_0x17d27e,_0x12d194,_0x558fdc){const _0x57516e=_0x487f42,_0x26f09c=document[_0x57516e(0x40a)](_0x57516e(0x54a))[_0x57516e(0x2a5)]('2d'),_0x24dc5a=_0x12d194[_0x57516e(0x71d)](_0x53b699=>_0x53b699[_0x57516e(0x2ac)]),_0x22ca25=_0x558fdc[_0x57516e(0x24b)](_0x531cea=>!_0x24dc5a['includes'](_0x531cea));chartInstances[_0x57516e(0xcfc)]&&chartInstances['submission']['destroy'](),chartInstances[_0x57516e(0xcfc)]=new Chart(_0x26f09c,{'type':_0x57516e(0x273),'data':{'labels':['ส่งแล้ว','ยังไม่ส่ง'],'datasets':[{'data':[_0x212b08,_0x17d27e],'backgroundColor':[_0x57516e(0x922),_0x57516e(0x7af)],'borderColor':[_0x57516e(0xb3b),_0x57516e(0xb3b)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x57516e(0x7d9)},'tooltip':{'callbacks':{'label':function(_0x30f17e){const _0xef1b99=_0x57516e;let _0x26efb7=_0x30f17e[_0xef1b99(0xc55)]||'';return _0x26efb7&&(_0x26efb7+=':\x20'),_0x26efb7+=_0x30f17e[_0xef1b99(0x3bb)],_0x26efb7;},'afterLabel':function(_0x1a847a){const _0x3c36f9=_0x57516e;let _0x24ff9b;return _0x1a847a[_0x3c36f9(0x6b0)]===0x0?_0x24ff9b=_0x24dc5a:_0x24ff9b=_0x22ca25,_0x24ff9b['length']>0x0?_0x24ff9b['join']('\x0a'):_0x3c36f9(0x2a3);}}}}}});}function renderScoreDistributionChart(_0x2d5a7e,_0x1ee637){const _0x1d35fe=_0x487f42,_0xdaf6f0=document[_0x1d35fe(0x40a)](_0x1d35fe(0xb48))['getContext']('2d'),_0x2d4b83={};for(let _0xeffb8f=0x0;_0xeffb8f<=_0x1ee637;_0xeffb8f++){_0x2d4b83[_0xeffb8f]=0x0;}_0x2d5a7e[_0x1d35fe(0xa40)](_0x4030f8=>{const _0x1ff301=_0x1d35fe;_0x2d4b83[_0x4030f8['latestScore']]!==undefined&&_0x2d4b83[_0x4030f8[_0x1ff301(0xbe4)]]++;}),chartInstances['score']&&chartInstances[_0x1d35fe(0xb7c)][_0x1d35fe(0x536)](),chartInstances[_0x1d35fe(0xb7c)]=new Chart(_0xdaf6f0,{'type':_0x1d35fe(0x732),'data':{'labels':Object[_0x1d35fe(0xaf6)](_0x2d4b83),'datasets':[{'label':_0x1d35fe(0x207),'data':Object[_0x1d35fe(0xafb)](_0x2d4b83),'backgroundColor':_0x1d35fe(0xacd),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x1d35fe(0xc2e)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x23d43f){const _0x5e1ff2=_0x1d35fe,_0x5e7258=_0x23d43f[_0x5e1ff2(0xc55)],_0x285868=_0x2d5a7e[_0x5e1ff2(0x24b)](_0x5968e7=>_0x5968e7[_0x5e1ff2(0xbe4)]==_0x5e7258)[_0x5e1ff2(0x71d)](_0x11cb12=>_0x11cb12[_0x5e1ff2(0x2ac)]);return _0x285868['length']>0x0?_0x285868[_0x5e1ff2(0xb00)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x1c5502,_0x22b3b7,_0x28753e){const _0x243f00=_0x487f42,_0x1db76c=document[_0x243f00(0x40a)](_0x243f00(0xd3b));if(_0x28753e[_0x243f00(0xaf2)]===0x0){_0x1db76c[_0x243f00(0x843)]=_0x243f00(0x450);return;}const _0x4d9d25=calculateItemAnalysis(_0x1c5502,_0x22b3b7),_0x5691db=calculateDistractorAnalysis(_0x1c5502,_0x22b3b7);let _0x46aa59='';_0x4d9d25[_0x243f00(0xceb)]&&(_0x46aa59=_0x243f00(0x926)+_0x4d9d25[_0x243f00(0xceb)][_0x243f00(0xa1e)][_0x243f00(0xaf2)]+_0x243f00(0x266)+_0x4d9d25[_0x243f00(0xceb)]['upperGroupNames'][_0x243f00(0x71d)](_0x314442=>_0x243f00(0xa7d)+_0x314442+_0x243f00(0x62f))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x4d9d25[_0x243f00(0xceb)]['lowerGroupNames'][_0x243f00(0xaf2)]+_0x243f00(0x266)+_0x4d9d25[_0x243f00(0xceb)][_0x243f00(0xc5b)][_0x243f00(0x71d)](_0x39d8a5=>'<li>'+_0x39d8a5+_0x243f00(0x62f))[_0x243f00(0xb00)]('')+_0x243f00(0x759));let _0x2c6e7e='';const _0x3997dc=_0x22b3b7[_0x243f00(0x71d)](_0x2a933a=>_0x2a933a[_0x243f00(0x2ac)]),_0x11af54=_0x2ba89a=>{const _0x49b0bf=_0x243f00;if(_0x2ba89a>=0.8)return _0x49b0bf(0x9ae);if(_0x2ba89a>=0.6)return _0x49b0bf(0x384);if(_0x2ba89a>=0.4)return _0x49b0bf(0xac8);if(_0x2ba89a>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x49b0bf(0x930);},_0x31ad4d=_0x1d6d38=>{const _0xdb7aa4=_0x243f00;if(_0x1d6d38<0x0)return _0xdb7aa4(0x9a0);if(_0x1d6d38>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x1d6d38>=0.3)return _0xdb7aa4(0x365);if(_0x1d6d38>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0xdb7aa4(0xa09);},_0x112d5a=_0x51ab3a=>{const _0x5cb0fe=_0x243f00,_0x454a99=_0x51ab3a['toFixed'](0x0);if(parseFloat(_0x454a99)===0x64)return _0x5cb0fe(0x86a)+_0x454a99+'%</span>';if(_0x51ab3a>=0x32)return _0x5cb0fe(0x762)+_0x454a99+'%</span>';return _0x5cb0fe(0x35f)+_0x454a99+_0x5cb0fe(0x5ab);};_0x1c5502[_0x243f00(0x726)][_0x243f00(0xa40)]((_0x3cd737,_0x3d32f9)=>{const _0x27ef6a=_0x243f00,_0x21c29e=_0x4d9d25[_0x27ef6a(0x250)][_0x3d32f9],_0x13ab71=_0x5691db[_0x3d32f9],_0x475508=_0x3cd737[_0x27ef6a(0x593)]||_0x3cd737['questionText']||_0x3cd737[_0x27ef6a(0x38f)];let _0x951cc7=0x0;const _0x3e2672=[],_0x3f9d0b=[];_0x22b3b7[_0x27ef6a(0xa40)](_0x523578=>{const _0x21e361=_0x27ef6a,_0x2e2ce8=_0x523578['attempts'][_0x523578[_0x21e361(0x501)][_0x21e361(0xaf2)]-0x1];if(_0x2e2ce8&&_0x2e2ce8[_0x21e361(0xb73)]){const _0x250f72=_0x2e2ce8[_0x21e361(0xb73)][_0x21e361(0x8d2)](_0x18534e=>_0x18534e[_0x21e361(0x2ee)]===_0x475508)??_0x2e2ce8['answers'][_0x3d32f9]??null;_0x250f72&&(_0x250f72[_0x21e361(0x28e)]?(_0x951cc7++,_0x3e2672[_0x21e361(0x511)](_0x523578[_0x21e361(0x2ac)])):_0x3f9d0b[_0x21e361(0x511)](_0x523578[_0x21e361(0x2ac)]));}});const _0x1f9797=_0x22b3b7[_0x27ef6a(0xaf2)]>0x0?_0x951cc7/_0x22b3b7[_0x27ef6a(0xaf2)]*0x64:0x0,_0x16634c=_0x28753e['filter'](_0x424b12=>!_0x3997dc[_0x27ef6a(0x2a9)](_0x424b12)),_0x48bc1d=_0x21c29e?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x21c29e['p'][_0x27ef6a(0xbd7)](0x2)+_0x27ef6a(0x718)+_0x11af54(_0x21c29e['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x21c29e['r'][_0x27ef6a(0xbd7)](0x2)+_0x27ef6a(0x718)+_0x31ad4d(_0x21c29e['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x112d5a(_0x1f9797)+_0x27ef6a(0xa52):'';let _0x534df8='';_0x13ab71&&(_0x534df8=_0x27ef6a(0xc89)+Object[_0x27ef6a(0xaf6)](_0x13ab71)[_0x27ef6a(0x71d)](_0x5bb106=>{const _0x14bd8a=_0x27ef6a,_0xfdbe80=_0x13ab71[_0x5bb106],_0x324563=parseInt(_0x5bb106)===_0x3cd737[_0x14bd8a(0xb6f)],_0x12289f=!_0x324563&&_0xfdbe80[_0x14bd8a(0x8d0)]>_0xfdbe80[_0x14bd8a(0xc38)];return'<tr\x20class=\x22'+(_0x324563?_0x14bd8a(0x4b6):'')+_0x14bd8a(0xc47)+(_0x324563?'✔\x20':'')+_0xfdbe80[_0x14bd8a(0x274)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0xfdbe80[_0x14bd8a(0xc38)]+_0x14bd8a(0x5b6)+_0xfdbe80['lower_group_count']+'\x20'+(_0x12289f?'👍':'')+_0x14bd8a(0x5b6)+_0xfdbe80[_0x14bd8a(0x399)]+_0x14bd8a(0x33b);})[_0x27ef6a(0xb00)]('')+_0x27ef6a(0x386));let _0x15e941='';_0x21c29e&&_0x21c29e[_0x27ef6a(0x35c)]&&(_0x15e941=_0x27ef6a(0xa60)+_0x21c29e[_0x27ef6a(0x35c)]['length']+_0x27ef6a(0xb4a)+_0x21c29e[_0x27ef6a(0x35c)]['map'](_0x50dca6=>_0x27ef6a(0xa7d)+(_0x50dca6[_0x27ef6a(0x28e)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x27ef6a(0x93f))+'\x20'+_0x50dca6[_0x27ef6a(0x408)]+_0x27ef6a(0x62f))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x21c29e[_0x27ef6a(0x6c5)][_0x27ef6a(0xaf2)]+_0x27ef6a(0xb4a)+_0x21c29e[_0x27ef6a(0x6c5)]['map'](_0x44494c=>_0x27ef6a(0xa7d)+(_0x44494c[_0x27ef6a(0x28e)]?_0x27ef6a(0xb72):_0x27ef6a(0x93f))+'\x20'+_0x44494c[_0x27ef6a(0x408)]+_0x27ef6a(0x62f))[_0x27ef6a(0xb00)]('')+_0x27ef6a(0x6ea)),_0x2c6e7e+=_0x27ef6a(0xccc)+(_0x3d32f9+0x1)+':\x20'+_0x475508+_0x27ef6a(0x2c2)+_0x48bc1d+_0x27ef6a(0x55a)+_0x475508+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x951cc7+_0x27ef6a(0x464)+_0x22b3b7[_0x27ef6a(0xaf2)]+_0x27ef6a(0x796)+_0x1f9797[_0x27ef6a(0xbd7)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x3e2672[_0x27ef6a(0xaf2)]+_0x27ef6a(0x56a)+(_0x3e2672[_0x27ef6a(0xaf2)]>0x0?_0x3e2672[_0x27ef6a(0xb00)](',\x20'):_0x27ef6a(0x2a3))+_0x27ef6a(0x3bf)+_0x3f9d0b['length']+_0x27ef6a(0x56a)+(_0x3f9d0b[_0x27ef6a(0xaf2)]>0x0?_0x3f9d0b[_0x27ef6a(0xb00)](',\x20'):'ไม่มี')+_0x27ef6a(0x6ec)+_0x16634c[_0x27ef6a(0xaf2)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x16634c['length']>0x0?_0x16634c['join'](',\x20'):_0x27ef6a(0x2a3))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x534df8+_0x27ef6a(0x84c)+_0x15e941+_0x27ef6a(0xd3e);}),_0x1db76c[_0x243f00(0x843)]=_0x46aa59+_0x2c6e7e;try{window[_0x243f00(0xcc0)]&&MathJax[_0x243f00(0x8b2)]&&MathJax[_0x243f00(0x8b2)]([_0x1db76c]);}catch(_0x19af06){console[_0x243f00(0x81d)](_0x243f00(0x9d7),_0x19af06);}}function calculateDistractorAnalysis(_0x7f1600,_0x4d51eb){const _0x5adf58=_0x487f42,_0x317524={};if(_0x4d51eb[_0x5adf58(0xaf2)]<0x2)return _0x317524;const _0x137be7=[..._0x4d51eb]['sort']((_0x72732c,_0xa4c1dd)=>{const _0x1254d8=_0x5adf58,_0x25b93a=_0xa4c1dd[_0x1254d8(0xbe4)]-_0x72732c['latestScore'];if(_0x25b93a!==0x0)return _0x25b93a;const _0x1361e7=_0x72732c[_0x1254d8(0x501)]?.[_0x1254d8(0xaf2)]||0x1,_0x3f031a=_0xa4c1dd[_0x1254d8(0x501)]?.[_0x1254d8(0xaf2)]||0x1,_0x37f99a=_0x1361e7-_0x3f031a;if(_0x37f99a!==0x0)return _0x37f99a;const _0x57a47e=new Date(_0x72732c['latestSubmittedAt']),_0x8008f2=new Date(_0xa4c1dd[_0x1254d8(0x2f8)]),_0x2400ce=_0x57a47e-_0x8008f2;if(_0x2400ce!==0x0)return _0x2400ce;return _0x72732c[_0x1254d8(0x2ac)][_0x1254d8(0xd63)](_0xa4c1dd[_0x1254d8(0x2ac)],'th');}),_0x3ba413=_0x137be7[_0x5adf58(0xaf2)],_0x41fba6=Math[_0x5adf58(0x529)](0x1,Math[_0x5adf58(0xce5)](_0x3ba413*0.33)),_0x29b03b=_0x137be7['slice'](0x0,_0x41fba6),_0x328042=_0x137be7[_0x5adf58(0x6a6)](-_0x41fba6);return _0x7f1600[_0x5adf58(0x726)][_0x5adf58(0xa40)]((_0x37d2dd,_0x5ce733)=>{const _0xf46be3=_0x5adf58;if(_0x37d2dd['questionType']!==_0xf46be3(0xd14)||!_0x37d2dd[_0xf46be3(0x614)])return;const _0x4b0231=_0x37d2dd['questionText'],_0x1a039f={};_0x37d2dd[_0xf46be3(0x614)][_0xf46be3(0xa40)]((_0x122405,_0x1fb5de)=>{_0x1a039f[_0x1fb5de]={'text':_0x122405,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x137be7[_0xf46be3(0xa40)](_0x3d3f51=>{const _0x6c785e=_0xf46be3,_0x122948=_0x3d3f51[_0x6c785e(0x501)][_0x3d3f51[_0x6c785e(0x501)][_0x6c785e(0xaf2)]-0x1],_0x38a5a9=_0x122948[_0x6c785e(0xb73)][_0x6c785e(0x8d2)](_0x51bc4a=>_0x51bc4a['originalQuestionText']===_0x4b0231);if(_0x38a5a9&&_0x38a5a9[_0x6c785e(0x277)]!==null){const _0x1a6676=_0x37d2dd['options'][_0x6c785e(0x39d)](_0x4337fa=>_0x4337fa===_0x38a5a9[_0x6c785e(0xbbe)]);_0x1a6676!==-0x1&&_0x1a039f[_0x1a6676]&&(_0x1a039f[_0x1a6676][_0x6c785e(0x399)]++,_0x29b03b[_0x6c785e(0x2a9)](_0x3d3f51)&&_0x1a039f[_0x1a6676][_0x6c785e(0xc38)]++,_0x328042['includes'](_0x3d3f51)&&_0x1a039f[_0x1a6676][_0x6c785e(0x8d0)]++);}}),_0x317524[_0x5ce733]=_0x1a039f;}),_0x317524;}function calculateReliabilityKR20(_0x3fda4d,_0x407c0f,_0x3da380){const _0x5b94f0=_0x487f42,_0x5ed0a7=_0x3fda4d['questions'][_0x5b94f0(0xaf2)];if(_0x5ed0a7<0x2||_0x407c0f[_0x5b94f0(0xaf2)]<0x2)return null;const _0x298e0c=_0x407c0f[_0x5b94f0(0x71d)](_0x20efd1=>_0x20efd1[_0x5b94f0(0xbe4)]),_0x408ec4=_0x298e0c['reduce']((_0x3560a2,_0x442a18)=>_0x3560a2+_0x442a18,0x0)/_0x298e0c[_0x5b94f0(0xaf2)],_0xadce85=_0x298e0c[_0x5b94f0(0x71d)](_0x42d09b=>Math[_0x5b94f0(0x9e0)](_0x42d09b-_0x408ec4,0x2))[_0x5b94f0(0x209)]((_0x1932ab,_0x3362d1)=>_0x1932ab+_0x3362d1,0x0)/_0x298e0c[_0x5b94f0(0xaf2)];if(_0xadce85===0x0)return null;let _0x110198=0x0;for(let _0x2da21e=0x0;_0x2da21e<_0x5ed0a7;_0x2da21e++){const _0x48413d=_0x3da380[_0x2da21e]?.['p'];if(_0x48413d===undefined)continue;const _0x5f9375=0x1-_0x48413d;_0x110198+=_0x48413d*_0x5f9375;}if(_0x110198===0x0)return null;const _0x12f438=_0x5ed0a7/(_0x5ed0a7-0x1)*(0x1-_0x110198/_0xadce85);if(_0x12f438>0x1)return null;return _0x12f438;}async function handleAnalyzeClass(){const _0x90cb04=_0x487f42;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x90cb04(0x436));return;}const _0x3006da=collection(db,_0x90cb04(0x5c6)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x90cb04(0x7ea)),_0x49d90a=await getDocs(_0x3006da),_0x25067d=_0x49d90a[_0x90cb04(0xb2e)][_0x90cb04(0x71d)](_0x5511a9=>_0x5511a9[_0x90cb04(0x225)]());if(_0x25067d[_0x90cb04(0xaf2)]<0x2){showMessage(_0x90cb04(0x68c));return;}const _0x5cc5c0=document[_0x90cb04(0x40a)]('strength-weakness-analysis-container');_0x5cc5c0['innerHTML']=_0x90cb04(0xb99),document['getElementById'](_0x90cb04(0xc21))['disabled']=!![];const _0x58f94b=_0x25067d[_0x90cb04(0x71d)]((_0x3d9977,_0x16aae6)=>{const _0x270a0b=_0x90cb04,_0xb63d2=_0x3d9977['attempts'][_0x3d9977[_0x270a0b(0x501)]['length']-0x1];if(!_0xb63d2)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x16aae6+0x1)+'\x20('+_0x3d9977[_0x270a0b(0x2ac)]+_0x270a0b(0x654)+_0xb63d2['score']+'/'+_0x3d9977[_0x270a0b(0xc9b)]+_0x270a0b(0x979)+JSON['stringify'](_0xb63d2[_0x270a0b(0xb73)])+_0x270a0b(0xb34);})[_0x90cb04(0xb00)]('\x0a---\x0a'),_0x18f077='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x90cb04(0xc30)]+_0x90cb04(0xb36)+JSON[_0x90cb04(0xcc4)](currentQuizData['questions'])+_0x90cb04(0x3e6)+_0x58f94b+_0x90cb04(0x7cf),_0x339481={'type':_0x90cb04(0xaaa),'properties':{'classStrengths':{'type':_0x90cb04(0x22b),'items':{'type':_0x90cb04(0x8d7)}},'classWeaknesses':{'type':_0x90cb04(0x22b),'items':{'type':_0x90cb04(0x8d7)}},'teacherSuggestions':{'type':_0x90cb04(0x22b),'items':{'type':_0x90cb04(0x8d7)}}},'required':[_0x90cb04(0xd3a),_0x90cb04(0x5c5),_0x90cb04(0x68a)]};try{const _0x2eb2fc=await callAnalysisApi(_0x18f077,_0x339481);displayClassAnalysis(_0x2eb2fc);}catch(_0x423624){console[_0x90cb04(0x81d)]('Error\x20during\x20class\x20analysis:',_0x423624),_0x5cc5c0[_0x90cb04(0x843)]=_0x90cb04(0x637)+_0x423624[_0x90cb04(0xc94)]+_0x90cb04(0xc5c);}finally{document[_0x90cb04(0x40a)]('analyze-strengths-btn')[_0x90cb04(0x4c2)]=![];}}function displayClassAnalysis(_0x58670c){const _0x5c1af7=_0x487f42,_0xf3668=document['getElementById'](_0x5c1af7(0x291));if(!_0x58670c){_0xf3668[_0x5c1af7(0x843)]=_0x5c1af7(0xcc2);return;}_0xf3668[_0x5c1af7(0x843)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x58670c['classStrengths'][_0x5c1af7(0x71d)](_0x34a319=>'<li>'+_0x34a319+_0x5c1af7(0x62f))[_0x5c1af7(0xb00)]('')+_0x5c1af7(0xb2f)+_0x58670c[_0x5c1af7(0x5c5)][_0x5c1af7(0x71d)](_0x4f6604=>_0x5c1af7(0xa7d)+_0x4f6604+'</li>')['join']('')+_0x5c1af7(0xa73)+_0x58670c[_0x5c1af7(0x68a)][_0x5c1af7(0x71d)](_0x53dd9c=>_0x5c1af7(0xa7d)+_0x53dd9c+_0x5c1af7(0x62f))[_0x5c1af7(0xb00)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x5f4cb5,_0x1a6afb){const _0x40a16b=_0x487f42,_0x338749='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x5f4cb5['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x5f4cb5['topic']+_0x40a16b(0x937)+_0x5f4cb5[_0x40a16b(0x726)][_0x40a16b(0x71d)]((_0x39918c,_0x47d9e8)=>_0x40a16b(0x48b)+(_0x47d9e8+0x1)+'.\x20'+_0x39918c[_0x40a16b(0x467)]+_0x40a16b(0x4db)+(_0x39918c[_0x40a16b(0x41c)]?_0x40a16b(0xa72)+_0x39918c['imageCode']+_0x40a16b(0xcc7):'')+_0x40a16b(0xc10))[_0x40a16b(0xb00)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x1a6afb[_0x40a16b(0xb3f)][_0x40a16b(0xd6d)](_0x338749),_0x1a6afb[_0x40a16b(0xb3f)][_0x40a16b(0x327)](),_0x1a6afb[_0x40a16b(0x2e1)]=function(){setTimeout(()=>{_0x1a6afb['print']();},0x3e8);};}async function generateWorksheet(){const _0x55277d=_0x487f42,_0x327ea8=document[_0x55277d(0x40a)](_0x55277d(0xcd3))[_0x55277d(0x6cb)][_0x55277d(0x1fb)]();if(!_0x327ea8){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x10ab0e=document[_0x55277d(0x40a)](_0x55277d(0x83c))['checked'],_0x337fab=_0x10ab0e?'':_0x55277d(0x64b),_0x1834ad=window['open']('',_0x55277d(0x34b));_0x1834ad[_0x55277d(0xb3f)][_0x55277d(0xd6d)](_0x55277d(0x360));const _0x3bb868=parseInt(document[_0x55277d(0x40a)](_0x55277d(0xced))['value']),_0x1f4454=document['getElementById'](_0x55277d(0xb24))[_0x55277d(0x6f6)],_0x191e5c=_0x1f4454?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x2e7852='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x337fab+_0x55277d(0x489)+_0x3bb868+_0x55277d(0x5c4)+_0x327ea8+_0x55277d(0x2d0)+_0x191e5c+_0x55277d(0xbb5)+simpleMathPrompt+_0x55277d(0x9d5),_0x272205={'type':_0x55277d(0xaaa),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x55277d(0x22b),'items':{'type':_0x55277d(0xaaa),'properties':{'questionText':{'type':_0x55277d(0x8d7)},'imageCode':{'type':_0x55277d(0x8d7)}},'required':[_0x55277d(0x467)]}}},'required':[_0x55277d(0xc30),'questions']};document[_0x55277d(0x40a)](_0x55277d(0x88d))['textContent']='',document[_0x55277d(0x40a)]('loader')[_0x55277d(0xad3)][_0x55277d(0x432)](_0x55277d(0xc0c)),document[_0x55277d(0x40a)]('quiz-generation-area')[_0x55277d(0xad3)][_0x55277d(0x432)]('hidden'),generateWorksheetBtn['disabled']=!![];try{const _0x13c9a4=await callAnalysisApi(_0x2e7852,_0x272205);formatAndPrintWorksheet(_0x13c9a4,_0x1834ad);}catch(_0x13f65d){console[_0x55277d(0x81d)]('Error\x20generating\x20worksheet:',_0x13f65d);if(_0x1834ad)_0x1834ad[_0x55277d(0x327)]();showMessage(_0x55277d(0xd80));}finally{document['getElementById']('loader')[_0x55277d(0xad3)][_0x55277d(0xa6b)](_0x55277d(0xc0c)),document[_0x55277d(0x40a)](_0x55277d(0x50c))['classList']['add'](_0x55277d(0xc0c)),generateWorksheetBtn[_0x55277d(0x4c2)]=![];}}async function callAnalysisApi(_0x30a0a6,_0x2868e6){const _0x1d4645=_0x487f42,_0x35c7df={'contents':[{'role':'user','parts':[{'text':_0x30a0a6}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x2868e6}},_0x4ae359=_0x1d4645(0x779),_0x1e209f=_0x1d4645(0x86f)+_0x4ae359,_0x37960a=await fetch(_0x1e209f,{'method':_0x1d4645(0x8af),'headers':{'Content-Type':_0x1d4645(0x72e)},'body':JSON['stringify'](_0x35c7df)});if(!_0x37960a['ok'])throw new Error(_0x1d4645(0xc22)+_0x37960a[_0x1d4645(0xade)]);const _0x608b6=await _0x37960a[_0x1d4645(0x763)]();if(_0x608b6[_0x1d4645(0x31c)]?.[0x0]?.['content']?.['parts']?.[0x0])return JSON[_0x1d4645(0x390)](_0x608b6[_0x1d4645(0x31c)][0x0][_0x1d4645(0x5cf)]['parts'][0x0][_0x1d4645(0x274)]);else{let _0x201f0c='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x608b6['promptFeedback']?.[_0x1d4645(0xbc1)])_0x201f0c='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x608b6[_0x1d4645(0x9d0)][_0x1d4645(0xbc1)]+'.';else _0x608b6[_0x1d4645(0x31c)]?.[0x0]?.[_0x1d4645(0x7d5)]&&_0x608b6['candidates'][0x0]['finishReason']!==_0x1d4645(0x46c)&&(_0x201f0c=_0x1d4645(0x731)+_0x608b6['candidates'][0x0]['finishReason']+'.');console[_0x1d4645(0x81d)](_0x201f0c,JSON[_0x1d4645(0xcc4)](_0x608b6));throw new Error(_0x201f0c);}}async function handleStartSyncMode(_0x16b3b4,_0x1f55e8=![]){const _0x2fbf2b=_0x487f42,_0x2f8b56=allQuizzes[_0x2fbf2b(0x8d2)](_0x30ca49=>_0x30ca49['id']===_0x16b3b4)||allQuizzesGlobal[_0x2fbf2b(0x8d2)](_0x47940e=>_0x47940e['id']===_0x16b3b4);if(!_0x2f8b56){showMessage(_0x2fbf2b(0x397));return;}currentQuizData=getShuffledQuiz(_0x2f8b56);const _0x50de7e=Math[_0x2fbf2b(0xce5)](0x3e8+Math['random']()*0x2328)[_0x2fbf2b(0xc03)]();try{const _0x4984b8=await addDoc(collection(db,_0x2fbf2b(0x5c6)+appId+_0x2fbf2b(0x314)),{'quizId':_0x2f8b56['id'],'pin':_0x50de7e,'status':_0x2fbf2b(0x841),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x1f55e8,'players':{}});currentLiveGameId=_0x4984b8['id'],showView(_0x2fbf2b(0x5a0)),renderSyncLobbyView(_0x50de7e,_0x2f8b56[_0x2fbf2b(0xc30)]),listenForSyncGameUpdates();}catch(_0xbf8faa){console[_0x2fbf2b(0x81d)](_0x2fbf2b(0x29b),_0xbf8faa),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game');}}function calculateFinalPodiumScores(_0x5a79d4){const _0x4b1a22=_0x487f42;if(!_0x5a79d4||!_0x5a79d4[_0x4b1a22(0x2a2)]||!_0x5a79d4[_0x4b1a22(0x729)])return _0x5a79d4[_0x4b1a22(0x729)]||{};const _0x17bbfc=_0x5a79d4[_0x4b1a22(0x2a2)][_0x4b1a22(0x726)][_0x4b1a22(0xaf2)],_0x4be516=JSON[_0x4b1a22(0x390)](JSON['stringify'](_0x5a79d4[_0x4b1a22(0x729)]));return Object['values'](_0x4be516)['forEach'](_0x253a6b=>{const _0x10ed7a=_0x4b1a22,_0x3c6495=_0x253a6b['score'];let _0x2eb7f4=_0x3c6495,_0x3d6030=0x0;_0x5a79d4[_0x10ed7a(0xd10)]&&_0x253a6b[_0x10ed7a(0xb73)]&&_0x253a6b[_0x10ed7a(0xb73)][_0x10ed7a(0xa40)](_0x20ae2c=>{const _0x53b250=_0x10ed7a;if(_0x20ae2c[_0x53b250(0x28e)]&&(_0x20ae2c['wasConfident']===!![]||_0x20ae2c[_0x53b250(0x621)]===_0x53b250(0xc76)))_0x3d6030+=0x1;else!_0x20ae2c[_0x53b250(0x28e)]&&(_0x20ae2c[_0x53b250(0x621)]===!![]||_0x20ae2c[_0x53b250(0x621)]==='confident')&&(_0x3d6030-=0x1);}),_0x2eb7f4+=_0x3d6030,_0x17bbfc>0x0&&_0x3c6495===_0x17bbfc&&(_0x2eb7f4+=0x1,_0x253a6b[_0x10ed7a(0x395)]=!![]),_0x253a6b['score']=_0x2eb7f4;}),_0x4be516;}function listenForSyncGameUpdates(){const _0xdac0=_0x487f42;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3e3f4b=doc(db,_0xdac0(0x5c6)+appId+_0xdac0(0x314),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3e3f4b,_0x3f3d4a=>{const _0x140a14=_0xdac0;if(!_0x3f3d4a[_0x140a14(0xd6a)]()){sessionStorage['removeItem'](_0x140a14(0xabf));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x140a14(0x73c));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x140a14(0x56d)?showView(_0x140a14(0x347)):showView('student');return;}const _0x481fbf=_0x3f3d4a['data']();currentMode===_0x140a14(0x56d)?updateAdminSyncView(_0x481fbf):updateStudentSyncView(_0x481fbf);});}function renderSyncLobbyView(_0x29c645,_0x51935c){const _0x4c2007=_0x487f42;liveGameView[_0x4c2007(0x843)]=_0x4c2007(0x563)+_0x51935c+_0x4c2007(0x669)+_0x29c645+_0x4c2007(0x87f);const _0x105f13=document[_0x4c2007(0x40a)](_0x4c2007(0x4b3)),_0x37506a=document['getElementById']('confidence-scoring-description');_0x105f13[_0x4c2007(0x7d4)](_0x4c2007(0x84a),()=>{const _0x2b5a41=_0x4c2007;_0x37506a[_0x2b5a41(0x446)][_0x2b5a41(0x224)]=_0x105f13[_0x2b5a41(0x6f6)]?_0x2b5a41(0x407):_0x2b5a41(0xaec);}),document[_0x4c2007(0x40a)](_0x4c2007(0x7d0))[_0x4c2007(0x7d4)](_0x4c2007(0x859),async()=>{const _0x4e88fc=_0x4c2007,_0x44cd61=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x1e68ef=document['getElementById'](_0x4e88fc(0x4b3))[_0x4e88fc(0x6f6)];await updateDoc(_0x44cd61,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x1e68ef});});}function updateAdminSyncView(_0x45d9b2){const _0xd2313d=_0x487f42;switch(_0x45d9b2[_0xd2313d(0xade)]){case _0xd2313d(0x841):renderSyncLobbyView(_0x45d9b2[_0xd2313d(0xcbb)],_0x45d9b2[_0xd2313d(0x2a2)]['topic']);const _0x577b59=Object[_0xd2313d(0x28a)](_0x45d9b2['players']||{})[_0xd2313d(0x24b)](([_0x539e67,_0x129f42])=>_0x129f42[_0xd2313d(0xade)]!=='inactive');document[_0xd2313d(0x40a)](_0xd2313d(0x8c1))[_0xd2313d(0x642)]=_0x577b59['length'],document[_0xd2313d(0x40a)](_0xd2313d(0x633))['innerHTML']=_0x577b59[_0xd2313d(0x71d)](([_0x2957ba,_0x1d4219])=>_0xd2313d(0xa90)+_0x2957ba+_0xd2313d(0xb7a)+_0x2957ba+_0xd2313d(0xcb8))[_0xd2313d(0xb00)]('')||_0xd2313d(0x33a),document[_0xd2313d(0x40a)](_0xd2313d(0x7d0))[_0xd2313d(0x4c2)]=_0x577b59[_0xd2313d(0xaf2)]===0x0;break;case _0xd2313d(0x98b):const _0x7b9747=Object['values'](_0x45d9b2[_0xd2313d(0x729)]||{})[_0xd2313d(0x24b)](_0x371cfe=>_0x371cfe[_0xd2313d(0xade)]!==_0xd2313d(0x479)),_0x4da98e=_0x7b9747[_0xd2313d(0x24b)](_0x495a3c=>_0x495a3c[_0xd2313d(0x5ce)])['length'],_0x94f677=_0x4da98e===_0x7b9747[_0xd2313d(0xaf2)]&&_0x7b9747[_0xd2313d(0xaf2)]>0x0;if(_0x94f677&&_0x45d9b2[_0xd2313d(0xade)]===_0xd2313d(0x98b)){const _0x479e6f=doc(db,_0xd2313d(0x5c6)+appId+_0xd2313d(0x314),currentLiveGameId);updateDoc(_0x479e6f,{'status':'summary'});}else{if(document[_0xd2313d(0x40a)]('sync-player-management')===null)renderAdminSyncQuestionView(_0x45d9b2);else{const _0x5e668a=document[_0xd2313d(0x40a)](_0xd2313d(0x49c));_0x5e668a&&(_0x5e668a[_0xd2313d(0x642)]=_0x4da98e+'/'+_0x7b9747['length']);const _0x50cbf6=document['getElementById'](_0xd2313d(0xc39));_0x50cbf6&&(_0x50cbf6[_0xd2313d(0x843)]=_0x7b9747[_0xd2313d(0x71d)](_0x17f06b=>{const _0x4af37d=_0xd2313d,_0x2ce250=_0x17f06b[_0x4af37d(0x5ce)]?_0x4af37d(0x243):_0x4af37d(0xd57),_0x544b59=_0x17f06b[_0x4af37d(0x5ce)]?_0x4af37d(0x8d5):_0x4af37d(0x502);return _0x4af37d(0xbdc)+_0x2ce250+_0x4af37d(0xbcc)+_0x544b59+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x17f06b[_0x4af37d(0x408)]+_0x4af37d(0xa86)+_0x17f06b[_0x4af37d(0x408)]+_0x4af37d(0x7e2);})[_0xd2313d(0xb00)](''));}}break;case _0xd2313d(0x5ec):const _0x125db0=_0x45d9b2['currentQuestionIndex'],_0x51c8a3=_0x45d9b2[_0xd2313d(0x2a2)][_0xd2313d(0x726)][_0x125db0];renderSyncSummaryView(_0x45d9b2,_0x51c8a3,!![]);break;case _0xd2313d(0x534):renderAdminSyncDashboard(_0x45d9b2,!![]);break;case _0xd2313d(0x54d):_0x45d9b2[_0xd2313d(0x9fa)]&&saveGameResultsAsSubmissions(_0x45d9b2);sessionStorage[_0xd2313d(0x752)]('activeGameSession');const _0x44ac1d=calculateFinalPodiumScores(_0x45d9b2);showPodiumView(_0x44ac1d,'sync');break;}}function renderAdminSyncQuestionView(_0x45e156){const _0x5b43b4=_0x487f42,_0x407c08=_0x45e156['currentQuestionIndex'],_0x4e0ae4=_0x45e156[_0x5b43b4(0x2a2)]['questions'][_0x407c08],_0x4d9149=_0x45e156[_0x5b43b4(0x2a2)][_0x5b43b4(0x726)][_0x5b43b4(0xaf2)],_0x2a977d=Object[_0x5b43b4(0xafb)](_0x45e156[_0x5b43b4(0x729)]||{})['filter'](_0x1ec043=>_0x1ec043['status']!==_0x5b43b4(0x479)),_0x12cf99=_0x2a977d[_0x5b43b4(0x24b)](_0x42f993=>_0x42f993[_0x5b43b4(0x5ce)])[_0x5b43b4(0xaf2)],_0x1f0861=_0x12cf99===_0x2a977d[_0x5b43b4(0xaf2)]&&_0x2a977d[_0x5b43b4(0xaf2)]>0x0,_0x5de2c9=(_0x4e0ae4[_0x5b43b4(0x614)]||[])[_0x5b43b4(0x71d)](_0x1321b4=>_0x5b43b4(0x40c)+_0x1321b4+_0x5b43b4(0xcc7))[_0x5b43b4(0xb00)]('');liveGameView[_0x5b43b4(0x843)]=_0x5b43b4(0x5d8)+(_0x407c08+0x1)+_0x5b43b4(0x60e)+_0x4d9149+_0x5b43b4(0x470)+_0x12cf99+'/'+_0x2a977d[_0x5b43b4(0xaf2)]+_0x5b43b4(0xaa3)+_0x4e0ae4[_0x5b43b4(0x467)]+_0x5b43b4(0x441)+_0x5de2c9+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20'+(!_0x1f0861?_0x5b43b4(0x4c2):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window['MathJax'])MathJax[_0x5b43b4(0x8b2)]();document[_0x5b43b4(0x40a)](_0x5b43b4(0xc6e))[_0x5b43b4(0x7d4)](_0x5b43b4(0x859),async()=>{const _0x2cf6bf=_0x5b43b4,_0x55ccb4=doc(db,_0x2cf6bf(0x5c6)+appId+_0x2cf6bf(0x314),currentLiveGameId);await updateDoc(_0x55ccb4,{'status':_0x2cf6bf(0x534)});}),document['getElementById'](_0x5b43b4(0x5a8))['onclick']=()=>{const _0x3b5bb2=_0x5b43b4;openScratchpad(_0x4e0ae4,_0x4e0ae4[_0x3b5bb2(0x614)]||[]);},document['getElementById']('sync-manage-players-btn')['addEventListener']('click',()=>{const _0x34575c=_0x5b43b4;document[_0x34575c(0x40a)]('sync-player-management')[_0x34575c(0xad3)][_0x34575c(0xcc1)]('hidden');});}function renderSyncLeaderboardView(_0x593338,_0x422048){const _0x15adf6=_0x487f42,_0x50858a=Object[_0x15adf6(0xafb)](_0x593338[_0x15adf6(0x729)]||{});_0x50858a[_0x15adf6(0x9ff)]((_0x10dc39,_0x3439bb)=>_0x3439bb[_0x15adf6(0xb7c)]-_0x10dc39[_0x15adf6(0xb7c)]);const _0x2b83ce=_0x50858a[_0x15adf6(0x6a6)](0x0,0x5);let _0x528845='';if(_0x422048){const _0x32ee0a=_0x593338[_0x15adf6(0x884)]>=_0x593338['shuffledQuiz']['questions'][_0x15adf6(0xaf2)]-0x1;_0x528845='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0x32ee0a?_0x15adf6(0xc5f):_0x15adf6(0x54b))+_0x15adf6(0x8be);}else _0x528845='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>';liveGameView[_0x15adf6(0x843)]=_0x15adf6(0xd55)+_0x2b83ce[_0x15adf6(0x71d)]((_0x550196,_0x38c7ea)=>_0x15adf6(0xbc8)+(_0x38c7ea+0x1)+'.\x20'+_0x550196['name']+'</span><span\x20class=\x22font-bold\x22>'+_0x550196[_0x15adf6(0xb7c)]+_0x15adf6(0x674))[_0x15adf6(0xb00)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x528845+_0x15adf6(0xbe6),_0x422048&&document[_0x15adf6(0x40a)](_0x15adf6(0x550))[_0x15adf6(0x7d4)](_0x15adf6(0x859),async()=>{const _0x5a1f69=_0x15adf6,_0x1f34cc=doc(db,_0x5a1f69(0x5c6)+appId+'/public/data/syncGames',currentLiveGameId),_0x3f21ff=_0x593338[_0x5a1f69(0x884)]+0x1;if(_0x3f21ff<_0x593338[_0x5a1f69(0x2a2)][_0x5a1f69(0x726)][_0x5a1f69(0xaf2)]){const _0x2f3fdb={};Object[_0x5a1f69(0xaf6)](_0x593338[_0x5a1f69(0x729)])['forEach'](_0x327690=>{const _0x16cbe0=_0x5a1f69;_0x2f3fdb[_0x16cbe0(0x370)+_0x327690+_0x16cbe0(0x769)]=![];}),await updateDoc(_0x1f34cc,{..._0x2f3fdb,'status':_0x5a1f69(0x98b),'currentQuestionIndex':_0x3f21ff,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x1f34cc,{'status':_0x5a1f69(0x54d)});});}async function handleJoinSyncGame(){const _0x2ed1b4=_0x487f42,_0x421eb0=prompt(_0x2ed1b4(0xc4e));if(!_0x421eb0||_0x421eb0[_0x2ed1b4(0x1fb)]()[_0x2ed1b4(0xaf2)]!==0x2){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x51ce35=collection(db,_0x2ed1b4(0x5c6)+appId+_0x2ed1b4(0x314)),_0x5db44f=query(_0x51ce35,where(_0x2ed1b4(0xcbb),'==',_0x421eb0[_0x2ed1b4(0x1fb)]()),where(_0x2ed1b4(0xade),'==',_0x2ed1b4(0x841))),_0x3931d2=await getDocs(_0x5db44f);if(_0x3931d2[_0x2ed1b4(0x78a)]){showMessage(_0x2ed1b4(0x5f9));return;}const _0x5c9799=_0x3931d2[_0x2ed1b4(0xb2e)][0x0];currentLiveGameId=_0x5c9799['id'];const _0x55d65f=_0x5c9799[_0x2ed1b4(0x225)](),_0xd63429=doc(db,_0x2ed1b4(0x5c6)+appId+'/public/data/quizzes',_0x55d65f[_0x2ed1b4(0x4f2)]),_0x1a9676=await getDoc(_0xd63429);if(!_0x1a9676['exists']())throw new Error(_0x2ed1b4(0x2ec));const _0x303190=_0x1a9676[_0x2ed1b4(0x225)](),_0x5a3769=doc(db,_0x2ed1b4(0x5c6)+appId+_0x2ed1b4(0x248),_0x303190['projectId']),_0x31f07b=await getDoc(_0x5a3769);if(!_0x31f07b['exists']())throw new Error(_0x2ed1b4(0xa6e));currentQuizData=_0x55d65f[_0x2ed1b4(0x2a2)];const _0x5cb79e=_0x31f07b[_0x2ed1b4(0x225)]();showView(_0x2ed1b4(0xd03)),showTeamPlayerSelection(_0x5cb79e['students'],_0x303190[_0x2ed1b4(0xc30)]);const _0x325783=document[_0x2ed1b4(0x40a)]('confirm-team-players-btn');_0x325783[_0x2ed1b4(0x569)]=confirmAndJoinSyncGame;}catch(_0x437304){console[_0x2ed1b4(0x81d)]('Error\x20joining\x20sync\x20game:',_0x437304),showMessage(_0x2ed1b4(0x888)+_0x437304[_0x2ed1b4(0xc94)]);}}function updateStudentSyncView(_0x1029bb){const _0x314475=_0x487f42,_0x268323=_0x1029bb['players'][localTeamPlayers[0x0]];switch(_0x1029bb[_0x314475(0xade)]){case _0x314475(0x841):showView(_0x314475(0x5a0)),liveGameView[_0x314475(0x843)]=_0x314475(0x73d);break;case _0x314475(0x98b):const _0x2d55bc=localTeamPlayers['every'](_0x428b8d=>_0x1029bb[_0x314475(0x729)][_0x428b8d]?.[_0x314475(0x5ce)]===!![]);_0x2d55bc?liveGameView[_0x314475(0x843)]=_0x314475(0xc73):renderStudentSyncQuestionView(_0x1029bb);break;case _0x314475(0x5ec):liveGameView[_0x314475(0x843)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x314475(0x534):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x1029bb);break;case _0x314475(0x54d):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0x314475(0x686),handleFullscreenChange),document[_0x314475(0x636)](_0x314475(0xcdd),handleVisibilityChange),sessionStorage[_0x314475(0x752)]('activeGameSession');const _0x96e3d3=calculateFinalPodiumScores(_0x1029bb);showPodiumView(_0x96e3d3,_0x314475(0xbe1));break;}}function renderStudentSyncResultsView(_0x44df17){const _0x109b66=_0x487f42,_0x2637ef=localTeamPlayers['map'](_0x2ce9f8=>_0x44df17['players'][_0x2ce9f8])[_0x109b66(0x24b)](Boolean);_0x2637ef[_0x109b66(0x9ff)]((_0xc7ed4e,_0x488369)=>(_0x488369[_0x109b66(0xb7c)]||0x0)-(_0xc7ed4e[_0x109b66(0xb7c)]||0x0));const _0x6be6e2=_0x44df17[_0x109b66(0x884)]>=_0x44df17[_0x109b66(0x2a2)][_0x109b66(0x726)][_0x109b66(0xaf2)]-0x1;let _0x2d8dc3='';_0x6be6e2?_0x2d8dc3='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x2d8dc3=_0x109b66(0x3f9);const _0x50ff85=_0x109b66(0xa54)+_0x2637ef[_0x109b66(0x71d)]((_0x12f073,_0x8c5d27)=>_0x109b66(0x36b)+(_0x8c5d27+0x1)+_0x109b66(0x5ba)+_0x12f073[_0x109b66(0x408)]+_0x109b66(0x465)+_0x12f073[_0x109b66(0xb7c)]+_0x109b66(0xd3f))['join']('')+_0x109b66(0x210)+_0x2d8dc3+_0x109b66(0xa7b);liveGameView['innerHTML']=_0x50ff85;}function renderStudentSyncQuestionView(_0x4bf7df){const _0xe972d3=_0x487f42;while(localPlayerTurnIndex<localTeamPlayers[_0xe972d3(0xaf2)]&&_0x4bf7df[_0xe972d3(0x729)][localTeamPlayers[localPlayerTurnIndex]]?.[_0xe972d3(0x5ce)]===!![]){localPlayerTurnIndex++;}const _0x4edeb6=localTeamPlayers[localPlayerTurnIndex];if(!_0x4edeb6)return;const _0x2b1c1e=_0x4bf7df[_0xe972d3(0x884)],_0x4e8b23=_0x4bf7df[_0xe972d3(0x2a2)][_0xe972d3(0x726)][_0xe972d3(0xaf2)],_0x3d94c5=_0x4bf7df[_0xe972d3(0x2a2)][_0xe972d3(0x726)][_0x2b1c1e],_0x1552fc=_0x3d94c5[_0xe972d3(0x8c6)]||_0x4bf7df[_0xe972d3(0x2a2)][_0xe972d3(0xc13)];let _0x5a42ae='',_0xcf5b9a=![];switch(_0x1552fc){case _0xe972d3(0x355):_0x5a42ae='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0xe972d3(0xa84):case _0xe972d3(0x855):_0xcf5b9a=!![],_0x5a42ae=_0xe972d3(0x549);break;case _0xe972d3(0x252):_0xcf5b9a=!![],_0x5a42ae=_0xe972d3(0x825)+(_0x3d94c5[_0xe972d3(0x513)]||[])[_0xe972d3(0x71d)](_0x233533=>_0xe972d3(0x648)+_0x233533+'\x22>'+_0x233533+_0xe972d3(0x343))[_0xe972d3(0xb00)]('')+_0xe972d3(0x220);break;case _0xe972d3(0xd14):default:_0x5a42ae=(_0x3d94c5['options']||[])[_0xe972d3(0x71d)]((_0x14f25c,_0x454d9a)=>'<button\x20data-value=\x22'+_0x454d9a+_0xe972d3(0x4d3)+_0x14f25c+_0xe972d3(0x7c6))[_0xe972d3(0xb00)]('');break;}liveGameView[_0xe972d3(0x843)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x2b1c1e+0x1)+_0xe972d3(0x60e)+_0x4e8b23+_0xe972d3(0xcb0)+_0x4edeb6+_0xe972d3(0xac9)+(_0x3d94c5[_0xe972d3(0x467)]||_0x3d94c5[_0xe972d3(0x593)])+_0xe972d3(0x58f)+_0x5a42ae+_0xe972d3(0x815);if(window['MathJax'])MathJax[_0xe972d3(0x8b2)]();function _0x2c5e5f(_0x12802f,_0x355c05,_0x224ae7,_0x48c040){const _0x287616=_0xe972d3,_0x35a798=_0x224ae7['isConfidenceScoringEnabled']===!![];if(_0x35a798){document[_0x287616(0x40a)](_0x287616(0x86e))[_0x287616(0x48f)]['currentMode']='sync';const _0x544752=document[_0x287616(0x40a)](_0x287616(0x697));_0x544752[_0x287616(0x48f)][_0x287616(0x543)]=_0x12802f,_0x544752[_0x287616(0x48f)][_0x287616(0x98b)]=JSON[_0x287616(0xcc4)](_0x355c05),_0x544752[_0x287616(0x48f)]['gameData']=JSON[_0x287616(0xcc4)](_0x224ae7),_0x544752[_0x287616(0x48f)][_0x287616(0x846)]=_0x48c040,document['getElementById'](_0x287616(0x86e))['classList'][_0x287616(0x432)](_0x287616(0xc0c));}else handleSyncAnswerSubmit(_0x12802f,_0x355c05,_0x224ae7,_0x48c040,![]);}_0xcf5b9a?document[_0xe972d3(0x40a)]('sync-submit-btn')['addEventListener'](_0xe972d3(0x859),()=>{const _0x405c90=_0xe972d3,_0xa4dbb8=document['getElementById']('sync-short-answer-input')||document[_0x405c90(0x40a)](_0x405c90(0x67a));if(_0xa4dbb8[_0x405c90(0x6cb)][_0x405c90(0x1fb)]()===''){showMessage(_0x405c90(0xb0e));return;}_0x2c5e5f(_0xa4dbb8[_0x405c90(0x6cb)],_0x3d94c5,_0x4bf7df,_0x4edeb6);}):document['querySelectorAll'](_0xe972d3(0x64a))['forEach'](_0x3de36e=>{const _0x41fde8=_0xe972d3;_0x3de36e[_0x41fde8(0x7d4)]('click',()=>{const _0x91e4fc=_0x41fde8;_0x2c5e5f(_0x3de36e[_0x91e4fc(0x48f)][_0x91e4fc(0x6cb)],_0x3d94c5,_0x4bf7df,_0x4edeb6);});});}async function handleSyncAnswerSubmit(_0x25f85a,_0x2c1c61,_0x2d129f,_0x557ce9,_0x1de419){const _0x13d286=_0x487f42;document['querySelectorAll'](_0x13d286(0x4e1))['forEach'](_0x444368=>_0x444368[_0x13d286(0x4c2)]=!![]);const _0x44fcfe=_0x2c1c61['questionType']||_0x2d129f['shuffledQuiz']['quizType'];let _0x3023ee=![],_0x29fb29=_0x25f85a;switch(_0x44fcfe){case'true_false':const _0x3edbce=parseInt(_0x25f85a),_0x26c6e4=_0x2c1c61[_0x13d286(0x5cc)]===!![]||String(_0x2c1c61[_0x13d286(0x5cc)])[_0x13d286(0x47c)]()==='true';_0x3023ee=_0x3edbce===0x0&&_0x26c6e4||_0x3edbce===0x1&&!_0x26c6e4,_0x29fb29=_0x3edbce===0x0?_0x13d286(0x740):'ไม่ใช่\x20/\x20ผิด';break;case _0x13d286(0xa84):case'fill_in_no_choices':_0x3023ee=await gradeShortAnswer(_0x25f85a,_0x2c1c61);break;case _0x13d286(0x252):_0x3023ee=_0x25f85a===_0x2c1c61[_0x13d286(0xb98)];break;case _0x13d286(0xd14):default:const _0x3f2ddf=parseInt(_0x25f85a);_0x3023ee=_0x3f2ddf===_0x2c1c61[_0x13d286(0xb6f)];_0x2c1c61[_0x13d286(0x614)]&&_0x2c1c61[_0x13d286(0x614)][_0x3f2ddf]&&(_0x29fb29=_0x2c1c61[_0x13d286(0x614)][_0x3f2ddf]);break;}const _0x21b72c=_0x3023ee?0x1:0x0,_0x38189c=doc(db,_0x13d286(0x5c6)+appId+_0x13d286(0x314),currentLiveGameId),_0x479472={};_0x479472['players.'+_0x557ce9+_0x13d286(0x447)]=increment(_0x21b72c),_0x479472[_0x13d286(0x370)+_0x557ce9+'.answered']=!![];let _0x1efca9=null;(_0x44fcfe===_0x13d286(0xd14)||_0x44fcfe===_0x13d286(0x355)||_0x44fcfe===_0x13d286(0x59f))&&(_0x1efca9=parseInt(_0x25f85a));_0x479472[_0x13d286(0x370)+_0x557ce9+_0x13d286(0x307)]=_0x1efca9;const _0x2a41e2={'questionIndex':_0x2d129f[_0x13d286(0x884)],'questionId':_0x2c1c61['id'],'answer':_0x25f85a,'answerText':_0x29fb29,'isCorrect':_0x3023ee,'originalQuestionText':_0x2c1c61['questionText']||_0x2c1c61[_0x13d286(0x593)],'wasConfident':_0x1de419};_0x479472[_0x13d286(0x370)+_0x557ce9+_0x13d286(0xcf0)]=arrayUnion(_0x2a41e2),await updateDoc(_0x38189c,_0x479472);}initialize();
