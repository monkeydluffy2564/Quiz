const _0x2626e0=_0x5e36;(function(_0x54c8b4,_0x1084fb){const _0x323dd8=_0x5e36,_0x57f88f=_0x54c8b4();while(!![]){try{const _0x388ee0=-parseInt(_0x323dd8(0x80c))/0x1*(parseInt(_0x323dd8(0x656))/0x2)+-parseInt(_0x323dd8(0x4a5))/0x3*(-parseInt(_0x323dd8(0x4b4))/0x4)+-parseInt(_0x323dd8(0x200))/0x5+parseInt(_0x323dd8(0x59d))/0x6+-parseInt(_0x323dd8(0x489))/0x7+-parseInt(_0x323dd8(0x5a4))/0x8+-parseInt(_0x323dd8(0x260))/0x9*(-parseInt(_0x323dd8(0x695))/0xa);if(_0x388ee0===_0x1084fb)break;else _0x57f88f['push'](_0x57f88f['shift']());}catch(_0x8a7bd2){_0x57f88f['push'](_0x57f88f['shift']());}}}(_0x32a5,0x92a98));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;const requestWakeLock=async()=>{const _0x74400=_0x5e36;if(_0x74400(0x783)in navigator)try{wakeLock=await navigator[_0x74400(0x783)]['request'](_0x74400(0x390)),console[_0x74400(0x82b)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock['addEventListener']('release',()=>{const _0x472d5=_0x74400;console[_0x472d5(0x82b)](_0x472d5(0x585));});}catch(_0x365a7c){console[_0x74400(0x670)]('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x365a7c[_0x74400(0x5a3)]+',\x20'+_0x365a7c[_0x74400(0x69d)]);}else console['warn'](_0x74400(0x3cc));},releaseWakeLock=async()=>{const _0x4e6396=_0x5e36;wakeLock!==null&&(await wakeLock[_0x4e6396(0x3b3)](),wakeLock=null,console[_0x4e6396(0x82b)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x5c230e=_0x5e36;if(dimTimer)clearTimeout(dimTimer);document[_0x5c230e(0x792)][_0x5c230e(0x1a0)][_0x5c230e(0x594)](_0x5c230e(0x4f8)),dimTimer=setTimeout(()=>{const _0x1c3542=_0x5c230e;document['body'][_0x1c3542(0x1a0)][_0x1c3542(0x368)]('dimmed'),console[_0x1c3542(0x82b)](_0x1c3542(0x568));},inactivityTime);}function stopDimTimer(){const _0x545736=_0x5e36;if(dimTimer)clearTimeout(dimTimer);document[_0x545736(0x792)][_0x545736(0x1a0)][_0x545736(0x594)](_0x545736(0x4f8)),window['removeEventListener'](_0x545736(0x295),resetDimTimer),window[_0x545736(0x297)]('mousedown',resetDimTimer),window[_0x545736(0x297)](_0x545736(0x84f),resetDimTimer),window['removeEventListener'](_0x545736(0x474),resetDimTimer),console[_0x545736(0x82b)]('หยุดระบบจับเวลาหรี่หน้าจอ');}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x84a)},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x934)},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x1fd)},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x54e)},{'category':'จำนวนและการดำเนินการ','name':_0x2626e0(0x610)},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x1ae)},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x4d2)},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x44d)},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x850)},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x9c3)},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x635)},{'category':_0x2626e0(0x73a),'name':'ค่าสัมบูรณ์'},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x4c6)},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x642)},{'category':'จำนวนและการดำเนินการ','name':_0x2626e0(0x69a)},{'category':'จำนวนและการดำเนินการ','name':_0x2626e0(0x47d)},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x665)},{'category':'จำนวนและการดำเนินการ','name':_0x2626e0(0x7c5)},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x392)},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x30d)},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x9ae)},{'category':_0x2626e0(0x73a),'name':'การคูณเศษส่วน'},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x8a9)},{'category':'จำนวนและการดำเนินการ','name':_0x2626e0(0x69e)},{'category':_0x2626e0(0x73a),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x2bc)},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x795)},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x4f1)},{'category':'จำนวนและการดำเนินการ','name':_0x2626e0(0x190)},{'category':_0x2626e0(0x73a),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x2626e0(0x73a),'name':'ร้อยละพื้นฐาน'},{'category':_0x2626e0(0x73a),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x235)},{'category':'จำนวนและการดำเนินการ','name':_0x2626e0(0x9c9)},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x94a)},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x4a9)},{'category':_0x2626e0(0x73a),'name':_0x2626e0(0x5f7)},{'category':_0x2626e0(0x957),'name':_0x2626e0(0x3b1)},{'category':'การวัด','name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':'การวัด','name':_0x2626e0(0x53a)},{'category':_0x2626e0(0x957),'name':_0x2626e0(0x88e)},{'category':_0x2626e0(0x957),'name':_0x2626e0(0x4bd)},{'category':_0x2626e0(0x957),'name':_0x2626e0(0x7b3)},{'category':_0x2626e0(0x957),'name':_0x2626e0(0x5fd)},{'category':_0x2626e0(0x957),'name':_0x2626e0(0x532)},{'category':_0x2626e0(0x957),'name':_0x2626e0(0x3d9)},{'category':'การวัด','name':_0x2626e0(0x1c8)},{'category':'การวัด','name':_0x2626e0(0x816)},{'category':_0x2626e0(0x957),'name':'มุมและการวัดมุม'},{'category':_0x2626e0(0x957),'name':_0x2626e0(0x6b3)},{'category':'การวัด','name':_0x2626e0(0x29b)},{'category':'เรขาคณิต','name':_0x2626e0(0x678)},{'category':_0x2626e0(0x428),'name':_0x2626e0(0x1fb)},{'category':_0x2626e0(0x428),'name':_0x2626e0(0x347)},{'category':_0x2626e0(0x428),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x2626e0(0x428),'name':_0x2626e0(0x74a)},{'category':_0x2626e0(0x428),'name':_0x2626e0(0x531)},{'category':_0x2626e0(0x428),'name':_0x2626e0(0x2c7)},{'category':_0x2626e0(0x428),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x2626e0(0x428),'name':_0x2626e0(0x3b0)},{'category':_0x2626e0(0x428),'name':_0x2626e0(0x4f6)},{'category':_0x2626e0(0x428),'name':_0x2626e0(0x49c)},{'category':_0x2626e0(0x428),'name':_0x2626e0(0x8de)},{'category':'เรขาคณิต','name':_0x2626e0(0x4e2)},{'category':_0x2626e0(0x428),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x2626e0(0x428),'name':_0x2626e0(0x976)},{'category':'พีชคณิตและฟังก์ชัน','name':'ตัวแปรและนิพจน์'},{'category':'พีชคณิตและฟังก์ชัน','name':'การกระจายและการจัดหมู่'},{'category':_0x2626e0(0x6ec),'name':_0x2626e0(0x427)},{'category':_0x2626e0(0x6ec),'name':'การแยกตัวประกอบ'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2626e0(0x98c)},{'category':_0x2626e0(0x6ec),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':_0x2626e0(0x6ec),'name':_0x2626e0(0x872)},{'category':_0x2626e0(0x6ec),'name':_0x2626e0(0x7ce)},{'category':_0x2626e0(0x6ec),'name':_0x2626e0(0x499)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2626e0(0x95c)},{'category':_0x2626e0(0x6ec),'name':'สมการยกกำลัง'},{'category':_0x2626e0(0x6ec),'name':_0x2626e0(0x191)},{'category':_0x2626e0(0x6ec),'name':_0x2626e0(0x941)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2626e0(0x437)},{'category':_0x2626e0(0x6ec),'name':_0x2626e0(0x76a)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x2626e0(0x6ec),'name':_0x2626e0(0x460)},{'category':_0x2626e0(0x6ec),'name':_0x2626e0(0x5c5)},{'category':_0x2626e0(0x6ec),'name':'ฟังก์ชันผกผัน'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2626e0(0x241)},{'category':_0x2626e0(0x6ec),'name':_0x2626e0(0x47c)},{'category':_0x2626e0(0x6ec),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2626e0(0x396)},{'category':_0x2626e0(0x6ec),'name':_0x2626e0(0x379)},{'category':_0x2626e0(0x6ec),'name':'ฟังก์ชันราก\x20(root)'},{'category':_0x2626e0(0x6ec),'name':_0x2626e0(0x47a)},{'category':_0x2626e0(0x6ec),'name':_0x2626e0(0x749)},{'category':_0x2626e0(0x6ec),'name':_0x2626e0(0x687)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2626e0(0x309)},{'category':_0x2626e0(0x6ec),'name':_0x2626e0(0x757)},{'category':_0x2626e0(0x6ec),'name':_0x2626e0(0x87a)},{'category':_0x2626e0(0x6ec),'name':_0x2626e0(0x419)},{'category':_0x2626e0(0x6ec),'name':_0x2626e0(0x408)},{'category':_0x2626e0(0x6ec),'name':_0x2626e0(0x8f8)},{'category':_0x2626e0(0x58c),'name':'ระยะทางและจุดกึ่งกลาง'},{'category':_0x2626e0(0x58c),'name':_0x2626e0(0x649)},{'category':_0x2626e0(0x58c),'name':_0x2626e0(0x3fc)},{'category':'เรขาคณิตวิเคราะห์','name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0x2626e0(0x58c),'name':_0x2626e0(0x950)},{'category':_0x2626e0(0x58c),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':'เรขาคณิตวิเคราะห์','name':_0x2626e0(0x51f)},{'category':_0x2626e0(0x58c),'name':_0x2626e0(0x4c0)},{'category':_0x2626e0(0x58c),'name':'ไฮเพอร์โบลา'},{'category':_0x2626e0(0x3e6),'name':_0x2626e0(0x448)},{'category':_0x2626e0(0x3e6),'name':_0x2626e0(0x820)},{'category':_0x2626e0(0x3e6),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x2626e0(0x3e6),'name':_0x2626e0(0x3a9)},{'category':_0x2626e0(0x3e6),'name':_0x2626e0(0x558)},{'category':'ตรีโกณมิติ','name':'กฎของโคไซน์'},{'category':_0x2626e0(0x3e6),'name':_0x2626e0(0x362)},{'category':_0x2626e0(0x3e6),'name':'การแปลงรูปอัตลักษณ์'},{'category':_0x2626e0(0x3e6),'name':_0x2626e0(0x6a0)},{'category':_0x2626e0(0x3e6),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':_0x2626e0(0x3e6),'name':_0x2626e0(0x84e)},{'category':'สถิติและความน่าจะเป็น','name':_0x2626e0(0x524)},{'category':'สถิติและความน่าจะเป็น','name':_0x2626e0(0x6eb)},{'category':_0x2626e0(0x6d1),'name':'ตารางความถี่'},{'category':_0x2626e0(0x6d1),'name':_0x2626e0(0x5fb)},{'category':_0x2626e0(0x6d1),'name':_0x2626e0(0x32d)},{'category':_0x2626e0(0x6d1),'name':_0x2626e0(0x33d)},{'category':'สถิติและความน่าจะเป็น','name':_0x2626e0(0x830)},{'category':_0x2626e0(0x6d1),'name':_0x2626e0(0x4d4)},{'category':_0x2626e0(0x6d1),'name':_0x2626e0(0x52b)},{'category':_0x2626e0(0x6d1),'name':_0x2626e0(0x212)},{'category':_0x2626e0(0x6d1),'name':_0x2626e0(0x430)},{'category':_0x2626e0(0x6d1),'name':'ความแปรปรวน'},{'category':_0x2626e0(0x6d1),'name':_0x2626e0(0x6b7)},{'category':_0x2626e0(0x6d1),'name':_0x2626e0(0x2b0)},{'category':_0x2626e0(0x6d1),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x2626e0(0x6d1),'name':_0x2626e0(0x752)},{'category':'สถิติและความน่าจะเป็น','name':_0x2626e0(0x8a8)},{'category':_0x2626e0(0x6d1),'name':_0x2626e0(0x4b3)},{'category':_0x2626e0(0x6d1),'name':_0x2626e0(0x682)},{'category':_0x2626e0(0x6d1),'name':_0x2626e0(0x22a)},{'category':'สถิติและความน่าจะเป็น','name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x2626e0(0x6d1),'name':_0x2626e0(0x925)},{'category':_0x2626e0(0x6d1),'name':_0x2626e0(0x361)},{'category':_0x2626e0(0x6d1),'name':_0x2626e0(0x432)},{'category':_0x2626e0(0x2de),'name':_0x2626e0(0x2cb)},{'category':'แคลคูลัสเบื้องต้น','name':'ความต่อเนื่อง'},{'category':_0x2626e0(0x2de),'name':_0x2626e0(0x8bc)},{'category':_0x2626e0(0x2de),'name':_0x2626e0(0x28f)},{'category':_0x2626e0(0x2de),'name':_0x2626e0(0x750)},{'category':_0x2626e0(0x2de),'name':_0x2626e0(0x209)},{'category':'แคลคูลัสเบื้องต้น','name':_0x2626e0(0x853)},{'category':_0x2626e0(0x2de),'name':_0x2626e0(0x61f)},{'category':_0x2626e0(0x2de),'name':_0x2626e0(0x457)},{'category':'แคลคูลัสเบื้องต้น','name':_0x2626e0(0x567)},{'category':_0x2626e0(0x2de),'name':'ปริพันธ์จำกัด'},{'category':_0x2626e0(0x2de),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':'แคลคูลัสเบื้องต้น','name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x2626e0(0x710)},{'category':_0x2626e0(0x6f2),'name':_0x2626e0(0x30c)},{'category':_0x2626e0(0x6f2),'name':_0x2626e0(0x71e)},{'category':_0x2626e0(0x6f2),'name':_0x2626e0(0x7ec)},{'category':_0x2626e0(0x6f2),'name':_0x2626e0(0x8f7)},{'category':_0x2626e0(0x6f2),'name':_0x2626e0(0x3f2)},{'category':_0x2626e0(0x6f2),'name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0x2626e0(0x8c1),'name':'ดอกเบี้ยอย่างง่าย'},{'category':_0x2626e0(0x8c1),'name':'ดอกเบี้ยทบต้น'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x2626e0(0x4ff)},{'category':_0x2626e0(0x8c1),'name':_0x2626e0(0x1f6)},{'category':_0x2626e0(0x8c1),'name':'ร้อยละประยุกต์'},{'category':_0x2626e0(0x8a5),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0x2626e0(0x8a5),'name':_0x2626e0(0x90a)},{'category':_0x2626e0(0x8a5),'name':_0x2626e0(0x81b)}];function renderTopicCheckboxes(){const _0x452dce=_0x2626e0,_0x22082c=document[_0x452dce(0x87d)]('math-topics-checkbox-container');if(!_0x22082c)return;const _0x469750=allMathTopics,_0x1ab47b=customMathTopics[_0x452dce(0x1e7)](_0x5bdb2f=>({'id':_0x5bdb2f['id'],'category':_0x452dce(0x305),'name':_0x5bdb2f[_0x452dce(0x5a3)]})),_0x2a0932=[..._0x469750,..._0x1ab47b],_0x31406f=_0x2a0932[_0x452dce(0x815)]((_0x5c5ce5,_0x27f5f2)=>{const _0x171378=_0x452dce;return!_0x5c5ce5[_0x27f5f2['category']]&&(_0x5c5ce5[_0x27f5f2[_0x171378(0x7bf)]]=[]),_0x5c5ce5[_0x27f5f2[_0x171378(0x7bf)]][_0x171378(0x4c7)](_0x27f5f2),_0x5c5ce5;},{});let _0x43b786='';const _0x8f9dd=[_0x452dce(0x305),...Object['keys'](_0x31406f)['filter'](_0x7742e=>_0x7742e!==_0x452dce(0x305))];for(const _0x43ad86 of _0x8f9dd){if(_0x31406f[_0x43ad86]){const _0xb0389a=_0x43ad86===_0x452dce(0x305),_0x27fa5f=_0xb0389a?_0x452dce(0x7da):_0x452dce(0x945),_0x5d4843=_0xb0389a?_0x452dce(0x712):_0x452dce(0x1ec);_0x43b786+=_0x452dce(0x9a2),_0x43b786+=_0x452dce(0x59c)+_0x5d4843+_0x452dce(0x2f1)+_0x27fa5f+_0x452dce(0x19c)+_0x43ad86+_0x452dce(0x49e),_0x31406f[_0x43ad86][_0x452dce(0x2fb)](_0x539bf1=>{const _0x3f97c2=_0x452dce,_0x1567bd=!!_0x539bf1['id'],_0x2847fe=_0x1567bd?_0x3f97c2(0x266)+_0x539bf1['id']+_0x3f97c2(0x2ff)+_0x539bf1['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x539bf1['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x539bf1['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x43b786+=_0x3f97c2(0x88f)+(_0x539bf1['id']||'')+_0x3f97c2(0x5bd)+_0x539bf1[_0x3f97c2(0x5a3)]+_0x3f97c2(0x3c9)+_0x539bf1[_0x3f97c2(0x5a3)]+_0x3f97c2(0x207)+(_0x1567bd?_0x3f97c2(0x636)+_0x539bf1['name']+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2847fe+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x43b786+=_0x452dce(0x622);}}_0x22082c[_0x452dce(0x9a4)]=_0x43b786||_0x452dce(0x223),_0x22082c[_0x452dce(0x297)]('change',updateSelectedTopicsCount),_0x22082c[_0x452dce(0x214)](_0x452dce(0x57c),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x31d460,_0x525e20){const _0x5e1787=_0x2626e0;if(!_0x31d460||!_0x525e20[_0x5e1787(0x4ca)]()){showMessage(_0x5e1787(0x506));return;}try{const _0x3ad0d1=doc(db,_0x5e1787(0x495)+appId+_0x5e1787(0x533),_0x31d460);await updateDoc(_0x3ad0d1,{'name':_0x525e20['trim']()}),showMessage(_0x5e1787(0x54d));}catch(_0x11ad53){console[_0x5e1787(0x670)](_0x5e1787(0x1cc),_0x11ad53),showMessage(_0x5e1787(0x68a));}}function toggleTopicEditMode(_0x352f2c,_0x3e447f){const _0x5a2b60=_0x2626e0;if(!_0x352f2c)return;const _0x14100c=_0x352f2c[_0x5a2b60(0x33b)](_0x5a2b60(0x7dd)),_0x740171=_0x352f2c[_0x5a2b60(0x33b)](_0x5a2b60(0x63e)),_0x444184=_0x352f2c['querySelector'](_0x5a2b60(0x650)),_0x542fb5=_0x352f2c[_0x5a2b60(0x33b)](_0x5a2b60(0x71f));_0x14100c[_0x5a2b60(0x1a0)][_0x5a2b60(0x788)]('hidden',_0x3e447f),_0x740171[_0x5a2b60(0x1a0)][_0x5a2b60(0x788)](_0x5a2b60(0x250),!_0x3e447f),_0x444184[_0x5a2b60(0x1a0)][_0x5a2b60(0x788)](_0x5a2b60(0x250),_0x3e447f),_0x542fb5[_0x5a2b60(0x1a0)][_0x5a2b60(0x788)](_0x5a2b60(0x250),!_0x3e447f),_0x3e447f&&(_0x740171[_0x5a2b60(0x378)](),_0x740171['select']());}function updateSelectedTopicsCount(){const _0x20cc08=_0x2626e0,_0x4b283f=document[_0x20cc08(0x87d)](_0x20cc08(0x798)),_0x4a5808=_0x4b283f['querySelectorAll']('input[type=\x22checkbox\x22]:checked')['length'],_0x348beb=document[_0x20cc08(0x87d)](_0x20cc08(0x86b));_0x4a5808>0x0?_0x348beb['textContent']=_0x20cc08(0x28a)+_0x4a5808+'\x20หัวข้อ)':_0x348beb[_0x20cc08(0x573)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x2626e0(0x59e),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x2626e0(0x273),quizLeaderboardSortOrder=_0x2626e0(0x94d),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,scratchpadCtx=null,isDrawingOnScratchpad=![],isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x2626e0(0x4be),scratchpadPenColor=_0x2626e0(0x1b9),scratchpadPenSize=0x5;function getDistance(_0x46375b,_0x536e6d){const _0xd34604=_0x2626e0;return Math[_0xd34604(0x841)](Math['pow'](_0x46375b['x']-_0x536e6d['x'],0x2)+Math[_0xd34604(0x638)](_0x46375b['y']-_0x536e6d['y'],0x2));}function getMidpoint(_0x46fc95,_0x1fed4b){return{'x':(_0x46fc95['x']+_0x1fed4b['x'])/0x2,'y':(_0x46fc95['y']+_0x1fed4b['y'])/0x2};}function getTransformedPoint(_0xf695c9,_0x13a2bd){return{'x':(_0xf695c9-scratchpadOffset['x'])/scratchpadScale,'y':(_0x13a2bd-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x31318e=_0x2626e0;if(!scratchpadCtx)return;const _0x9d150e=scratchpadCtx[_0x31318e(0x203)],_0x3d427e=window[_0x31318e(0x3d5)]||0x1,_0x36013a=document['getElementById'](_0x31318e(0x1cf));_0x36013a&&(_0x36013a[_0x31318e(0x63c)][_0x31318e(0x906)]=_0x31318e(0x60c),_0x36013a[_0x31318e(0x63c)][_0x31318e(0x661)]=_0x31318e(0x905)+scratchpadOffset['x']+_0x31318e(0x88a)+scratchpadOffset['y']+_0x31318e(0x5cc)+scratchpadScale+')'),scratchpadCtx[_0x31318e(0x43c)](),scratchpadCtx[_0x31318e(0x60f)](_0x3d427e,0x0,0x0,_0x3d427e,0x0,0x0),scratchpadCtx[_0x31318e(0x5ae)](0x0,0x0,_0x9d150e['width'],_0x9d150e[_0x31318e(0x704)]),scratchpadCtx[_0x31318e(0x88b)](),scratchpadCtx['save'](),scratchpadCtx[_0x31318e(0x543)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x31318e(0x36f)](scratchpadScale,scratchpadScale),strokes[_0x31318e(0x2fb)](_0x585965=>{drawStroke(_0x585965);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x31318e(0x88b)]();}function drawStroke(_0x29620b){const _0x4e3f4a=_0x2626e0;if(!_0x29620b||_0x29620b[_0x4e3f4a(0x259)]['length']<0x1)return;scratchpadCtx[_0x4e3f4a(0x38f)](),scratchpadCtx[_0x4e3f4a(0x5c6)](_0x29620b[_0x4e3f4a(0x259)][0x0]['x'],_0x29620b['points'][0x0]['y']),scratchpadCtx[_0x4e3f4a(0x2cc)]=_0x29620b[_0x4e3f4a(0x3e4)],scratchpadCtx['lineWidth']=_0x29620b[_0x4e3f4a(0x8b5)],scratchpadCtx[_0x4e3f4a(0x89c)]=_0x29620b['tool']===_0x4e3f4a(0x45c)?'destination-out':_0x4e3f4a(0x8a4);for(let _0x518033=0x1;_0x518033<_0x29620b[_0x4e3f4a(0x259)][_0x4e3f4a(0x97d)]-0x1;_0x518033++){const _0x15fec2=_0x29620b[_0x4e3f4a(0x259)][_0x518033],_0x2011f7=_0x29620b[_0x4e3f4a(0x259)][_0x518033+0x1],_0x5f4cf8={'x':(_0x15fec2['x']+_0x2011f7['x'])/0x2,'y':(_0x15fec2['y']+_0x2011f7['y'])/0x2};scratchpadCtx[_0x4e3f4a(0x439)](_0x15fec2['x'],_0x15fec2['y'],_0x5f4cf8['x'],_0x5f4cf8['y']);}scratchpadCtx['stroke'](),scratchpadCtx['closePath']();}function handlePointerDown(_0x34d9cf){const _0x2e6db3=_0x2626e0;_0x34d9cf['preventDefault']();const _0x1df75a=scratchpadCtx['canvas'],_0x47eebf=_0x1df75a[_0x2e6db3(0x32c)](),_0x1440cc=_0x34d9cf[_0x2e6db3(0x227)]||(_0x34d9cf[_0x2e6db3(0x9be)]?_0x2e6db3(0x652):_0x2e6db3(0x73f));if(_0x1440cc===_0x2e6db3(0x4be)||_0x1440cc==='mouse'){if(_0x34d9cf[_0x2e6db3(0x227)]===_0x2e6db3(0x73f)){if(_0x34d9cf[_0x2e6db3(0x998)]===0x1){isMousePanning=!![],panStart={'x':_0x34d9cf[_0x2e6db3(0x718)],'y':_0x34d9cf[_0x2e6db3(0x323)]},_0x1df75a[_0x2e6db3(0x63c)]['cursor']=_0x2e6db3(0x216);return;}if(_0x34d9cf[_0x2e6db3(0x998)]!==0x0)return;}isDrawingOnScratchpad=!![],redoStrokes=[];const _0x44d2a8=getTransformedPoint(_0x34d9cf[_0x2e6db3(0x718)]-_0x47eebf['left'],_0x34d9cf['clientY']-_0x47eebf[_0x2e6db3(0x83c)]);currentStroke={'tool':activeTool,'color':scratchpadPenColor,'size':scratchpadPenSize,'points':[_0x44d2a8]};}else _0x34d9cf[_0x2e6db3(0x9be)]&&(_0x34d9cf[_0x2e6db3(0x9be)][_0x2e6db3(0x97d)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x34d9cf[_0x2e6db3(0x9be)][0x0][_0x2e6db3(0x718)],'y':_0x34d9cf['touches'][0x0][_0x2e6db3(0x323)]},{'x':_0x34d9cf['touches'][0x1]['clientX'],'y':_0x34d9cf['touches'][0x1][_0x2e6db3(0x323)]}),initialPinchDistance=getDistance({'x':_0x34d9cf[_0x2e6db3(0x9be)][0x0]['clientX'],'y':_0x34d9cf[_0x2e6db3(0x9be)][0x0][_0x2e6db3(0x323)]},{'x':_0x34d9cf[_0x2e6db3(0x9be)][0x1][_0x2e6db3(0x718)],'y':_0x34d9cf[_0x2e6db3(0x9be)][0x1][_0x2e6db3(0x323)]})));}function handlePointerMove(_0x523f48){const _0x22c419=_0x2626e0;_0x523f48['preventDefault']();const _0x3937df=scratchpadCtx[_0x22c419(0x203)],_0x7a3028=_0x3937df[_0x22c419(0x32c)]();if(_0x523f48[_0x22c419(0x9be)]){if(_0x523f48[_0x22c419(0x9be)][_0x22c419(0x97d)]===0x1&&isDrawingOnScratchpad){const _0x58196a=getTransformedPoint(_0x523f48['touches'][0x0][_0x22c419(0x718)]-_0x7a3028[_0x22c419(0x46e)],_0x523f48['touches'][0x0][_0x22c419(0x323)]-_0x7a3028['top']);currentStroke[_0x22c419(0x259)]['push'](_0x58196a),redrawScratchpad();}else{if(_0x523f48[_0x22c419(0x9be)][_0x22c419(0x97d)]===0x2&&isPanning){const _0x8472a0=getDistance({'x':_0x523f48[_0x22c419(0x9be)][0x0]['clientX'],'y':_0x523f48[_0x22c419(0x9be)][0x0][_0x22c419(0x323)]},{'x':_0x523f48['touches'][0x1][_0x22c419(0x718)],'y':_0x523f48[_0x22c419(0x9be)][0x1][_0x22c419(0x323)]}),_0x1f5b6b=getMidpoint({'x':_0x523f48[_0x22c419(0x9be)][0x0][_0x22c419(0x718)],'y':_0x523f48[_0x22c419(0x9be)][0x0]['clientY']},{'x':_0x523f48[_0x22c419(0x9be)][0x1]['clientX'],'y':_0x523f48[_0x22c419(0x9be)][0x1][_0x22c419(0x323)]}),_0x3fa1d4=_0x8472a0/ initialPinchDistance,_0xbd1254=Math[_0x22c419(0x2d6)](Math[_0x22c419(0x339)](scratchpadScale*_0x3fa1d4,MIN_SCALE),MAX_SCALE),_0x532f20=_0x1f5b6b['x']-panStart['x'],_0x3668e3=_0x1f5b6b['y']-panStart['y'];scratchpadOffset['x']=_0x1f5b6b['x']-(_0x1f5b6b['x']-scratchpadOffset['x'])*(_0xbd1254/scratchpadScale),scratchpadOffset['y']=_0x1f5b6b['y']-(_0x1f5b6b['y']-scratchpadOffset['y'])*(_0xbd1254/scratchpadScale),scratchpadOffset['x']+=_0x532f20,scratchpadOffset['y']+=_0x3668e3,scratchpadScale=_0xbd1254,initialPinchDistance=_0x8472a0,panStart=_0x1f5b6b,redrawScratchpad();}}}else{if(isMousePanning){const _0x4b263b=_0x523f48['clientX']-panStart['x'],_0x2f79f0=_0x523f48[_0x22c419(0x323)]-panStart['y'];scratchpadOffset['x']+=_0x4b263b,scratchpadOffset['y']+=_0x2f79f0,panStart={'x':_0x523f48['clientX'],'y':_0x523f48[_0x22c419(0x323)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x19087e=getTransformedPoint(_0x523f48[_0x22c419(0x718)]-_0x7a3028['left'],_0x523f48[_0x22c419(0x323)]-_0x7a3028[_0x22c419(0x83c)]);currentStroke[_0x22c419(0x259)][_0x22c419(0x4c7)](_0x19087e),redrawScratchpad();}}}}function handlePointerUp(_0x38f72c){const _0x3ac378=_0x2626e0;_0x38f72c[_0x3ac378(0x3dd)]();const _0x4ac063=scratchpadCtx[_0x3ac378(0x203)];isMousePanning&&(isMousePanning=![],_0x4ac063[_0x3ac378(0x63c)]['cursor']=_0x3ac378(0x384)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x3ac378(0x259)][_0x3ac378(0x97d)]>0x1&&strokes['push'](currentStroke),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x5a47d8){const _0x175a89=_0x2626e0;_0x5a47d8[_0x175a89(0x3dd)]();const _0x13331f=_0x5a47d8[_0x175a89(0x6a7)]*-0.005,_0x5d98b9=Math[_0x175a89(0x2d6)](Math[_0x175a89(0x339)](scratchpadScale+_0x13331f,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x5a47d8['clientX']-(_0x5a47d8[_0x175a89(0x718)]-scratchpadOffset['x'])*(_0x5d98b9/scratchpadScale),scratchpadOffset['y']=_0x5a47d8[_0x175a89(0x323)]-(_0x5a47d8['clientY']-scratchpadOffset['y'])*(_0x5d98b9/scratchpadScale),scratchpadScale=_0x5d98b9,redrawScratchpad();}function undo(){const _0x44c797=_0x2626e0;strokes[_0x44c797(0x97d)]>0x0&&(redoStrokes[_0x44c797(0x4c7)](strokes[_0x44c797(0x46c)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x20fcbe=_0x2626e0;redoStrokes['length']>0x0&&(strokes[_0x20fcbe(0x4c7)](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x3d2bb9=_0x2626e0;document[_0x3d2bb9(0x87d)]('undo-btn')[_0x3d2bb9(0x500)]=strokes[_0x3d2bb9(0x97d)]===0x0,document[_0x3d2bb9(0x87d)](_0x3d2bb9(0x577))[_0x3d2bb9(0x500)]=redoStrokes[_0x3d2bb9(0x97d)]===0x0;}function openScratchpad(_0x1f21a8,_0x2569bd){const _0x475ef2=_0x2626e0,_0x28cfb7=document[_0x475ef2(0x87d)](_0x475ef2(0x1e4)),_0x1fbea7=document[_0x475ef2(0x87d)](_0x475ef2(0x797)),_0x370d55=document[_0x475ef2(0x87d)](_0x475ef2(0x9b3)),_0x2ba2df=document['getElementById']('scratchpad-controls');_0x1fbea7[_0x475ef2(0x573)]=_0x1f21a8[_0x475ef2(0x883)]||_0x1f21a8[_0x475ef2(0x846)],_0x370d55['innerHTML']=_0x2569bd[_0x475ef2(0x1e7)]((_0x2a2658,_0xe4dc)=>_0x475ef2(0x3d1)+String[_0x475ef2(0x6dc)](0x41+_0xe4dc)+'.\x20'+_0x2a2658+_0x475ef2(0x622))['join'](''),_0x2ba2df[_0x475ef2(0x9a4)]=_0x475ef2(0x399),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x28cfb7[_0x475ef2(0x1a0)][_0x475ef2(0x594)](_0x475ef2(0x250)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x475ef2(0x9c4)])MathJax[_0x475ef2(0x4af)]([_0x1fbea7,_0x370d55]);}function initializeScratchpadCanvas(){const _0x29672c=_0x2626e0,_0x1a345f=document[_0x29672c(0x87d)](_0x29672c(0x35e)),_0x1100e5=document['querySelector']('.scratchpad-content-wrapper');if(!_0x1a345f||!_0x1100e5)return;scratchpadCtx=_0x1a345f[_0x29672c(0x522)]('2d',{'willReadFrequently':!![]});const _0x1d8b47=window['devicePixelRatio']||0x1,_0x397373=_0x1100e5['getBoundingClientRect']();_0x1a345f[_0x29672c(0x217)]=_0x397373[_0x29672c(0x217)]*_0x1d8b47,_0x1a345f[_0x29672c(0x704)]=_0x397373[_0x29672c(0x704)]*_0x1d8b47,_0x1a345f['style']['width']=_0x397373[_0x29672c(0x217)]+'px',_0x1a345f[_0x29672c(0x63c)]['height']=_0x397373['height']+'px',scratchpadCtx[_0x29672c(0x36f)](_0x1d8b47,_0x1d8b47),scratchpadCtx[_0x29672c(0x598)]=_0x29672c(0x985),scratchpadCtx[_0x29672c(0x87f)]=_0x29672c(0x985),_0x1a345f['removeEventListener'](_0x29672c(0x39a),handlePointerDown),_0x1a345f['removeEventListener'](_0x29672c(0x5ff),handlePointerMove),_0x1a345f[_0x29672c(0x297)](_0x29672c(0x790),handlePointerUp),_0x1a345f[_0x29672c(0x297)](_0x29672c(0x664),handlePointerUp),_0x1a345f['removeEventListener'](_0x29672c(0x20a),handleWheel),_0x1a345f['removeEventListener']('touchstart',handlePointerDown),_0x1a345f[_0x29672c(0x297)](_0x29672c(0x285),handlePointerMove),_0x1a345f[_0x29672c(0x297)](_0x29672c(0x325),handlePointerUp),_0x1a345f[_0x29672c(0x214)]('pointerdown',handlePointerDown),_0x1a345f[_0x29672c(0x214)](_0x29672c(0x5ff),handlePointerMove),_0x1a345f['addEventListener'](_0x29672c(0x790),handlePointerUp),_0x1a345f[_0x29672c(0x214)](_0x29672c(0x664),handlePointerUp),_0x1a345f['addEventListener'](_0x29672c(0x20a),handleWheel,{'passive':![]}),_0x1a345f[_0x29672c(0x214)]('touchstart',handlePointerDown,{'passive':![]}),_0x1a345f[_0x29672c(0x214)]('touchmove',handlePointerMove,{'passive':![]}),_0x1a345f['addEventListener'](_0x29672c(0x325),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x170a08=_0x2626e0,_0x1b9647=document[_0x170a08(0x87d)](_0x170a08(0x1e4));document[_0x170a08(0x87d)]('scratchpad-close-btn')[_0x170a08(0x214)](_0x170a08(0x421),()=>_0x1b9647['classList']['add'](_0x170a08(0x250))),document[_0x170a08(0x87d)](_0x170a08(0x21b))[_0x170a08(0x214)](_0x170a08(0x421),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x170a08(0x87d)](_0x170a08(0x605))['addEventListener'](_0x170a08(0x421),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x170a08(0x87d)](_0x170a08(0x71b))['addEventListener'](_0x170a08(0x421),undo),document[_0x170a08(0x87d)](_0x170a08(0x577))[_0x170a08(0x214)](_0x170a08(0x421),redo),document[_0x170a08(0x4fa)](_0x170a08(0x9c5))[_0x170a08(0x2fb)](_0x9970bb=>{const _0x5e2453=_0x170a08;_0x9970bb[_0x5e2453(0x214)]('click',()=>{const _0x571161=_0x5e2453;scratchpadPenSize=parseInt(_0x9970bb['dataset'][_0x571161(0x8b5)],0xa),document[_0x571161(0x4fa)](_0x571161(0x9c5))[_0x571161(0x2fb)](_0x598006=>_0x598006[_0x571161(0x1a0)]['remove'](_0x571161(0x97f))),_0x9970bb[_0x571161(0x1a0)]['add'](_0x571161(0x97f));});});const _0x1600c1=document[_0x170a08(0x87d)](_0x170a08(0x834)),_0x37e9f2=document[_0x170a08(0x87d)](_0x170a08(0x519));_0x1600c1['addEventListener'](_0x170a08(0x421),()=>{const _0x3b845d=_0x170a08;activeTool=_0x3b845d(0x4be),_0x1600c1[_0x3b845d(0x1a0)][_0x3b845d(0x368)](_0x3b845d(0x97f)),_0x37e9f2[_0x3b845d(0x1a0)]['remove'](_0x3b845d(0x97f));}),_0x37e9f2[_0x170a08(0x214)](_0x170a08(0x421),()=>{const _0x350fe4=_0x170a08;activeTool=_0x350fe4(0x45c),_0x37e9f2['classList'][_0x350fe4(0x368)](_0x350fe4(0x97f)),_0x1600c1[_0x350fe4(0x1a0)][_0x350fe4(0x594)](_0x350fe4(0x97f));}),document[_0x170a08(0x4fa)](_0x170a08(0x6ce))[_0x170a08(0x2fb)](_0x144663=>{const _0x59146a=_0x170a08;_0x144663['addEventListener'](_0x59146a(0x421),()=>{const _0x62aac4=_0x59146a;scratchpadPenColor=_0x144663[_0x62aac4(0x2e0)][_0x62aac4(0x3e4)],activeTool=_0x62aac4(0x4be),_0x1600c1[_0x62aac4(0x1a0)][_0x62aac4(0x368)](_0x62aac4(0x97f)),_0x37e9f2[_0x62aac4(0x1a0)][_0x62aac4(0x594)](_0x62aac4(0x97f)),document[_0x62aac4(0x4fa)](_0x62aac4(0x6ce))[_0x62aac4(0x2fb)](_0x1a12ed=>_0x1a12ed[_0x62aac4(0x1a0)][_0x62aac4(0x594)](_0x62aac4(0x97f))),_0x144663[_0x62aac4(0x1a0)][_0x62aac4(0x368)](_0x62aac4(0x97f));});}),document[_0x170a08(0x33b)]('.pen-color-btn[data-color=\x22#000000\x22]')[_0x170a08(0x1a0)]['add']('active'),window[_0x170a08(0x214)](_0x170a08(0x7e6),()=>{const _0x85b93f=_0x170a08;!_0x1b9647[_0x85b93f(0x1a0)][_0x85b93f(0x426)](_0x85b93f(0x250))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x2626e0(0x534),'name':'คะแนนเต็ม','description':_0x2626e0(0x648),'icon':_0x2626e0(0x40b)},'QUICK_THINKER':{'id':_0x2626e0(0x51c),'name':'เซียนสมองไว','description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':_0x2626e0(0x93f)},'ON_FIRE':{'id':'on_fire','name':_0x2626e0(0x237),'description':_0x2626e0(0x99d),'icon':_0x2626e0(0x8b1)},'FIRST_TRY_ACE':{'id':_0x2626e0(0x422),'name':_0x2626e0(0x87e),'description':_0x2626e0(0x394),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x2626e0(0x536),'name':_0x2626e0(0x7b8),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x2626e0(0x5ac)},'SPECIALIST':{'id':'specialist','name':_0x2626e0(0x7fa),'description':_0x2626e0(0x75b),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':'perseverance','name':_0x2626e0(0x493),'description':_0x2626e0(0x97b),'icon':_0x2626e0(0x916)}},firebaseConfig={'apiKey':_0x2626e0(0x551),'authDomain':_0x2626e0(0x74b),'projectId':_0x2626e0(0x8da),'storageBucket':_0x2626e0(0x535),'messagingSenderId':_0x2626e0(0x3d3),'appId':_0x2626e0(0x804),'measurementId':_0x2626e0(0x440)},appId=typeof __app_id!==_0x2626e0(0x791)?__app_id:_0x2626e0(0x4d6),adminView=document[_0x2626e0(0x87d)]('admin-view'),studentView=document[_0x2626e0(0x87d)]('student-view'),projectDashboardView=document[_0x2626e0(0x87d)](_0x2626e0(0x395)),projectDetailView=document[_0x2626e0(0x87d)]('project-detail-view'),quizResultsView=document[_0x2626e0(0x87d)](_0x2626e0(0x724)),projectList=document[_0x2626e0(0x87d)](_0x2626e0(0x48d)),noProjectsMsg=document['getElementById'](_0x2626e0(0x1b1)),projectTitle=document['getElementById'](_0x2626e0(0x455)),projectIdDisplay=document[_0x2626e0(0x87d)](_0x2626e0(0x9b7)),studentList=document[_0x2626e0(0x87d)](_0x2626e0(0x920)),messageModal=document[_0x2626e0(0x87d)]('message-modal'),modalMessage=document[_0x2626e0(0x87d)](_0x2626e0(0x8b3)),createProjectModal=document['getElementById'](_0x2626e0(0x8bf)),adminPasswordModal=document[_0x2626e0(0x87d)]('admin-password-modal'),confirmationModal=document[_0x2626e0(0x87d)](_0x2626e0(0x450)),userIdDisplay=document['getElementById'](_0x2626e0(0x299)),topicTab=document['getElementById']('topic-tab'),textTab=document[_0x2626e0(0x87d)](_0x2626e0(0x870)),topicInputArea=document['getElementById']('topic-input-area'),textInputArea=document['getElementById'](_0x2626e0(0x6cb)),manageTab=document[_0x2626e0(0x87d)]('manage-tab'),resultsTab=document[_0x2626e0(0x87d)](_0x2626e0(0x4b0)),leaderboardTab=document[_0x2626e0(0x87d)]('leaderboard-tab'),manageTabContent=document[_0x2626e0(0x87d)]('manage-tab-content'),resultsTabContent=document['getElementById']('results-tab-content'),leaderboardTabContent=document[_0x2626e0(0x87d)](_0x2626e0(0x33f)),projectQuizzesList=document[_0x2626e0(0x87d)](_0x2626e0(0x7ea)),fileTab=document['getElementById'](_0x2626e0(0x99f)),fileInputArea=document[_0x2626e0(0x87d)](_0x2626e0(0x922)),fileUploadInput=document[_0x2626e0(0x87d)](_0x2626e0(0x90b)),worksheetTab=document[_0x2626e0(0x87d)](_0x2626e0(0x889)),worksheetInputArea=document[_0x2626e0(0x87d)]('worksheet-input-area'),generateWorksheetBtn=document[_0x2626e0(0x87d)]('generate-worksheet-btn'),studentInitialView=document['getElementById']('student-initial-view'),studentNameSelectionView=document['getElementById'](_0x2626e0(0x2b1)),studentQuizArea=document[_0x2626e0(0x87d)]('student-quiz-area'),studentResultArea=document[_0x2626e0(0x87d)](_0x2626e0(0x77a)),studentReadingArea=document[_0x2626e0(0x87d)]('student-reading-area'),loadQuizBtn=document[_0x2626e0(0x87d)](_0x2626e0(0x5bc)),startQuizBtn=document[_0x2626e0(0x87d)]('start-quiz-btn'),studentJoinGameView=document[_0x2626e0(0x87d)](_0x2626e0(0x8e8)),presentationModal=document['getElementById'](_0x2626e0(0x81e)),renameQuizModal=document[_0x2626e0(0x87d)](_0x2626e0(0x420)),moveQuizModal=document[_0x2626e0(0x87d)](_0x2626e0(0x2c6)),quizSettingsModal=document['getElementById'](_0x2626e0(0x3ae)),quizStatusModal=document[_0x2626e0(0x87d)](_0x2626e0(0x3c4)),liveGameView=document[_0x2626e0(0x87d)]('live-game-view');function handleAutoFixLatex(){const _0x1d5931=_0x2626e0,_0x47c0ad=document['getElementById'](_0x1d5931(0x196))||document,_0x23f321=_0x47c0ad[_0x1d5931(0x4fa)](['textarea',_0x1d5931(0x73b),_0x1d5931(0x357),'[role=\x22textbox\x22]',_0x1d5931(0x556),_0x1d5931(0x856),_0x1d5931(0x47e),_0x1d5931(0x942),_0x1d5931(0x911)][_0x1d5931(0x3a2)](','));let _0x10e1a4=0x0;const _0x2bbbc3=_0x362831=>_0x1d5931(0x810)in _0x362831?String(_0x362831[_0x1d5931(0x810)]):_0x362831[_0x1d5931(0x812)]!==undefined?_0x362831[_0x1d5931(0x812)]:_0x362831['textContent']||'',_0x4464c0=(_0x3dbb8a,_0x15f3f9)=>{const _0x18e5b5=_0x1d5931;if('value'in _0x3dbb8a){_0x3dbb8a['value']=_0x15f3f9;return;}if(_0x3dbb8a['querySelector']&&_0x3dbb8a[_0x18e5b5(0x33b)](_0x18e5b5(0x27c)))return;if(_0x3dbb8a[_0x18e5b5(0x812)]!==undefined)_0x3dbb8a[_0x18e5b5(0x812)]=_0x15f3f9;else _0x3dbb8a[_0x18e5b5(0x573)]=_0x15f3f9;},_0x53dc56=_0x3a88e6=>_0x3a88e6[_0x1d5931(0x356)](/\u00A0/g,'\x20')[_0x1d5931(0x356)](/\u200B/g,'')[_0x1d5931(0x356)](/\r\n?/g,'\x0a'),_0x462bb0=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x4c5bf2=_0x1e77a1=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x1d5931(0x986)](_0x1e77a1),_0x1ba6ba=_0x371f5e=>{const _0x187371=_0x1d5931,_0x2a893e=(_0x371f5e[_0x187371(0x442)](/\{/g)||[])[_0x187371(0x97d)],_0x38b6c1=(_0x371f5e[_0x187371(0x442)](/\}/g)||[])[_0x187371(0x97d)];if(_0x2a893e>_0x38b6c1)_0x371f5e=_0x371f5e+'}'[_0x187371(0x92f)](_0x2a893e-_0x38b6c1);return _0x371f5e;},_0x412513=_0x1f4127=>{const _0xd28575=_0x1d5931;let _0x24c396=_0x1f4127[_0xd28575(0x4ca)]();const _0x8a5506=['frac',_0xd28575(0x2e1),_0xd28575(0x8e0),_0xd28575(0x841),_0xd28575(0x228),'times',_0xd28575(0x5dd),_0xd28575(0x5e5),'leq',_0xd28575(0x9cc),'le','ge',_0xd28575(0x949),'pm',_0xd28575(0x47b),_0xd28575(0x5e0),_0xd28575(0x31d),_0xd28575(0x6b6),_0xd28575(0x82b),'ln',_0xd28575(0x29c),_0xd28575(0x82c),_0xd28575(0x9af),_0xd28575(0x46e),_0xd28575(0x5f4),_0xd28575(0x1a3),_0xd28575(0x6bd),_0xd28575(0x369),_0xd28575(0x25b)];_0x24c396=_0x24c396[_0xd28575(0x356)](new RegExp(_0xd28575(0x45e)+_0x8a5506['join']('|')+')\x5cb)','g'),'\x5c'),_0x8a5506[_0xd28575(0x2fb)](_0x3737cf=>{const _0x34656c=_0xd28575;_0x24c396=_0x24c396[_0x34656c(0x356)](new RegExp(_0x34656c(0x992)+_0x3737cf+'\x5cb','g'),(_0xdf595e,_0x6391a2)=>_0x6391a2+'\x5c'+_0x3737cf);});const _0x490876=[[/×/g,'\x5ctimes'],[/·/g,'\x5ccdot'],[/÷/g,_0xd28575(0x69f)],[/≤/g,_0xd28575(0x7c2)],[/≥/g,_0xd28575(0x9c1)],[/≠/g,_0xd28575(0x83d)],[/±/g,_0xd28575(0x96c)],[/∑/g,_0xd28575(0x68f)],[/−/g,'-']];_0x490876[_0xd28575(0x2fb)](([_0x402e1b,_0x671502])=>{const _0x3e6697=_0xd28575;_0x24c396=_0x24c396[_0x3e6697(0x356)](_0x402e1b,_0x671502);}),_0x24c396=_0x24c396['replace'](/√\s*\(([^)]*)\)/g,_0xd28575(0x3ec)),_0x24c396=_0x24c396['replace'](/√\s*([A-Za-z0-9]+)/g,_0xd28575(0x3ec)),_0x24c396=_0x24c396[_0xd28575(0x356)](/(^|[^\\])\bimes\b/g,_0xd28575(0x25f))[_0xd28575(0x356)](/(^|[^\\])\b(?:rac|\/frac)\b/g,'$1\x5cfrac')['replace'](/(^|[^\\])ext\{/g,_0xd28575(0x8ea))[_0xd28575(0x356)](/(^|[^\\])ext\(/g,_0xd28575(0x3f6))['replace'](/\\text\(([^)]*)\)/g,_0xd28575(0x677))[_0xd28575(0x356)](/\s\\frac/g,_0xd28575(0x4e6)),_0x24c396=_0x24c396[_0xd28575(0x356)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x281ac9,_0x788758,_0x1fea66,_0x1bd177)=>_0x788758+_0xd28575(0x864)+_0x1fea66+'}{'+_0x1bd177+'}'),_0x24c396=_0x24c396[_0xd28575(0x356)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0xd28575(0x1b8))[_0xd28575(0x356)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0xd28575(0x1b8))[_0xd28575(0x356)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,'\x5cfrac{$1}{$2}'),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0xd28575(0x751)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0xd28575(0x751)],[/(\d+)\s*\^\s*o\s*C\b/g,_0xd28575(0x751)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0xd28575(0x751)],[/(\d+)\s*°\s*C/g,_0xd28575(0x751)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0xd28575(0x3e1)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,'$1^{\x5ccirc}\x5ctext{C}']][_0xd28575(0x2fb)](([_0xd699bf,_0x44283f])=>{_0x24c396=_0x24c396['replace'](_0xd699bf,_0x44283f);}),_0x24c396=_0x24c396[_0xd28575(0x356)](/(\d+)\s*%/g,'$1\x5c%'),_0x24c396=_0x24c396[_0xd28575(0x356)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1^{$2}')['replace'](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1_{$2}')[_0xd28575(0x356)](/\{\{([^\{\}]+)\}\}/g,'{$1}'),[_0xd28575(0x5e0),'cos',_0xd28575(0x6b6),_0xd28575(0x82b),'ln'][_0xd28575(0x2fb)](_0x4ce6bc=>{const _0x5d4fa4=_0xd28575;_0x24c396=_0x24c396[_0x5d4fa4(0x356)](new RegExp(_0x5d4fa4(0x992)+_0x4ce6bc+'\x5cs*\x5c(','g'),(_0x2f2dc5,_0x421dc9)=>_0x421dc9+'\x5c'+_0x4ce6bc+'(');});const _0x37508c=(_0x24c396[_0xd28575(0x442)](/\\left\b/g)||[])['length'],_0x3ad3db=(_0x24c396[_0xd28575(0x442)](/\\right\b/g)||[])[_0xd28575(0x97d)];if(_0x37508c!==_0x3ad3db)_0x24c396=_0x24c396[_0xd28575(0x356)](/\\left\b/g,'')[_0xd28575(0x356)](/\\right\b/g,'');return _0x24c396=_0x1ba6ba(_0x24c396),_0x24c396;},_0x33a909=_0x2a181a=>{const _0x163d21=_0x1d5931;if(/\$|\\\(|\\\[/[_0x163d21(0x986)](_0x2a181a))return _0x2a181a;if(!_0x462bb0[_0x163d21(0x986)](_0x2a181a))return _0x2a181a;const _0x34d7f0=_0x2a181a[_0x163d21(0x442)](/^\s*/)[0x0],_0x2e433f=_0x2a181a[_0x163d21(0x442)](/\s*$/)[0x0],_0x59b546=_0x2a181a['trim']();return _0x34d7f0+'$'+_0x412513(_0x59b546)+'$'+_0x2e433f;},_0x15749a=_0x505880=>_0x505880['split'](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x23f321[_0x1d5931(0x2fb)](_0x1e0a81=>{const _0xcc8fb3=_0x1d5931;if(_0x1e0a81[_0xcc8fb3(0x33b)]&&_0x1e0a81[_0xcc8fb3(0x33b)](_0xcc8fb3(0x27c)))return;const _0xa40fe9=_0x2bbbc3(_0x1e0a81);let _0x27c6ea=_0x53dc56(_0xa40fe9);_0x27c6ea=_0x27c6ea[_0xcc8fb3(0x356)](/\$\$([\s\S]*?)\$\$/g,(_0xb5f730,_0x94671d)=>'$$'+_0x412513(_0x94671d)+'$$')[_0xcc8fb3(0x356)](/\$([^$]*?)\$/g,(_0x56308f,_0xf1198d)=>'$'+_0x412513(_0xf1198d)+'$')[_0xcc8fb3(0x356)](/\\\(([\s\S]*?)\\\)/g,(_0x4d70f0,_0x13b101)=>'\x5c('+_0x412513(_0x13b101)+'\x5c)')['replace'](/\\\[([\s\S]*?)\\\]/g,(_0x2d259d,_0x4376d1)=>'\x5c['+_0x412513(_0x4376d1)+'\x5c]');let _0x27a234=_0x27c6ea,_0x127754=0x0;const _0xd10e0a=_0x312c5e=>_0x312c5e[_0xcc8fb3(0x356)](/S([^S]{0,2000}?)S/g,(_0x495cfd,_0x8f44f6)=>_0x462bb0['test'](_0x8f44f6)?'$'+_0x412513(_0x8f44f6)+'$':_0x495cfd);while(_0x127754++<0x14){const _0x34c901=_0xd10e0a(_0x27a234);if(_0x34c901===_0x27a234)break;_0x27a234=_0x34c901;}_0x27c6ea=_0x27a234,_0x27c6ea=_0x27c6ea['split']('\x0a')[_0xcc8fb3(0x1e7)](_0x100387=>{const _0x241629=_0xcc8fb3;if(!(/[,\u3001，;；]/[_0x241629(0x986)](_0x100387)||/\s(?:และ|หรือ)\s/[_0x241629(0x986)](_0x100387))||!_0x462bb0[_0x241629(0x986)](_0x100387))return _0x100387;return _0x15749a(_0x100387)[_0x241629(0x1e7)](_0x21d41e=>{const _0x5e4d96=_0x241629;if(/^\s(?:และ|หรือ)\s$/[_0x5e4d96(0x986)](_0x21d41e)||/^[,\u3001，;；]$/[_0x5e4d96(0x986)](_0x21d41e))return _0x21d41e;return _0x33a909(_0x21d41e);})[_0x241629(0x3a2)]('');})[_0xcc8fb3(0x3a2)]('\x0a'),_0x27c6ea=_0x27c6ea[_0xcc8fb3(0x236)]('\x0a')[_0xcc8fb3(0x1e7)](_0x121768=>{const _0x203e44=_0xcc8fb3,_0x3ea44f=_0x121768[_0x203e44(0x4ca)]();if(!_0x3ea44f)return _0x121768;const _0x286fce=/\$|\\\(|\\\[/[_0x203e44(0x986)](_0x3ea44f),_0x536dc4=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x203e44(0x986)](_0x3ea44f);if(_0x286fce||!_0x536dc4||_0x4c5bf2(_0x3ea44f))return _0x121768;return _0x121768[_0x203e44(0x356)](_0x3ea44f,'$'+_0x412513(_0x3ea44f)+'$');})['join']('\x0a'),_0x27c6ea=_0x27c6ea['replace'](/(\d+)\s*°\s*C\b/g,(_0x5b10a3,_0x304479,_0x1a60da,_0x2745f1)=>{const _0x486266=_0xcc8fb3,_0x27d510=_0x2745f1[_0x1a60da-0x1];if(_0x27d510==='$'||_0x27d510==='S'||_0x27d510==='\x5c')return _0x5b10a3;return'$'+_0x304479+_0x486266(0x736);})[_0xcc8fb3(0x356)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x1e57f1,_0x2a377c,_0x4eaf08,_0x2e3d16)=>{const _0xb7be3a=_0xcc8fb3,_0x5dfdb5=_0x2e3d16[_0x4eaf08-0x1];if(_0x5dfdb5==='$'||_0x5dfdb5==='S'||_0x5dfdb5==='\x5c')return _0x1e57f1;return'$'+_0x2a377c+_0xb7be3a(0x736);})[_0xcc8fb3(0x356)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x218a6f,_0x1cc015,_0x96e836,_0x95bfcb)=>{const _0x53cccf=_0xcc8fb3,_0x5b8128=_0x95bfcb[_0x96e836-0x1];if(_0x5b8128==='$'||_0x5b8128==='S'||_0x5b8128==='\x5c')return _0x218a6f;return'$'+_0x1cc015+_0x53cccf(0x736);}),_0x27c6ea=_0x27c6ea[_0xcc8fb3(0x356)](/\$\s*\$/g,'$$'),_0x27c6ea!==_0xa40fe9&&(_0x4464c0(_0x1e0a81,_0x27c6ea),_0x10e1a4++);});if(_0x10e1a4>0x0){showMessage(_0x1d5931(0x322)+_0x10e1a4+_0x1d5931(0x486));try{if(window['MathJax']&&MathJax['typesetPromise'])MathJax['typesetPromise']();window[_0x1d5931(0x56c)]&&typeof renderMathInElement===_0x1d5931(0x3bd)&&renderMathInElement(_0x47c0ad,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x4e5b69){}}else showMessage(_0x1d5931(0x894));}async function listenForCustomMathTopics(){const _0x516b35=_0x2626e0,_0x59b7b2=collection(db,_0x516b35(0x495)+appId+_0x516b35(0x533));onSnapshot(_0x59b7b2,_0x1eed79=>{const _0x381bbb=_0x516b35;customMathTopics=_0x1eed79[_0x381bbb(0x4f7)][_0x381bbb(0x1e7)](_0x3f212f=>({'id':_0x3f212f['id'],..._0x3f212f['data']()})),renderTopicCheckboxes();},_0x8a822=>{const _0x575d69=_0x516b35;console[_0x575d69(0x670)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x8a822);});}function handleSelectAllTopics(){const _0x4b4ce8=_0x2626e0,_0xfbbad=document['getElementById'](_0x4b4ce8(0x798)),_0x389f35=_0xfbbad['querySelectorAll']('input[type=\x22checkbox\x22]');_0x389f35['forEach'](_0xb87152=>{const _0x4ccd45=_0x4b4ce8;_0xb87152[_0x4ccd45(0x1e0)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x4897b9=_0x2626e0,_0x22c2d5=document[_0x4897b9(0x87d)](_0x4897b9(0x798)),_0x3f2048=_0x22c2d5[_0x4897b9(0x4fa)]('input[type=\x22checkbox\x22]');_0x3f2048['forEach'](_0x176f60=>{const _0x4cdf77=_0x4897b9;_0x176f60[_0x4cdf77(0x1e0)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x248125){const _0x3166b3=_0x2626e0;if(!_0x248125)return;try{const _0x24e76f=doc(db,'artifacts/'+appId+'/public/data/customMathTopics',_0x248125);await deleteDoc(_0x24e76f),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x4d22f7){console[_0x3166b3(0x670)](_0x3166b3(0x9b5),_0x4d22f7),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x2793b0=_0x2626e0,_0xc8988e=document[_0x2793b0(0x87d)]('custom-math-topic-input'),_0x5976cf=_0xc8988e[_0x2793b0(0x810)][_0x2793b0(0x4ca)]();if(!_0x5976cf){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x2793b0(0x9b1));return;}try{const _0x530af8=collection(db,_0x2793b0(0x495)+appId+_0x2793b0(0x533));await addDoc(_0x530af8,{'name':_0x5976cf,'createdAt':serverTimestamp()}),_0xc8988e[_0x2793b0(0x810)]='',showMessage(_0x2793b0(0x5ba)+_0x5976cf+'\x22\x20สำเร็จ');}catch(_0x46e99b){console[_0x2793b0(0x670)]('Error\x20adding\x20custom\x20topic:',_0x46e99b),showMessage(_0x2793b0(0x434));}}async function handleUpdateOldQuizzes(){const _0x3c22e9=_0x2626e0;showConfirmation(_0x3c22e9(0x6c3),async()=>{const _0x36b58e=_0x3c22e9,_0x29f985=document['getElementById']('loader'),_0x209049=document['getElementById'](_0x36b58e(0x546)),_0x29ea67=_0x209049['textContent'];_0x29f985[_0x36b58e(0x1a0)][_0x36b58e(0x594)](_0x36b58e(0x250)),_0x209049['textContent']=_0x36b58e(0x9c0);try{const _0x52ab4d=collection(db,_0x36b58e(0x495)+appId+_0x36b58e(0x20c)),_0x450b06=await getDocs(_0x52ab4d);if(_0x450b06['empty']){showMessage(_0x36b58e(0x646));return;}const _0x1dc40a=writeBatch(db);let _0x537aca=0x0;_0x450b06[_0x36b58e(0x2fb)](_0x25ceef=>{const _0xebac19=_0x36b58e,_0x4b4a4c=_0x25ceef['data'](),_0x49a48b=_0x25ceef['id'];if(_0x4b4a4c[_0xebac19(0x9a5)]&&_0x4b4a4c[_0xebac19(0x9a5)][_0xebac19(0x97d)]>0x0&&!_0x4b4a4c['questions'][0x0][_0xebac19(0x5cf)]('id')){console['log'](_0xebac19(0x468)+_0x49a48b+'\x20('+_0x4b4a4c[_0xebac19(0x6b9)]+')'),_0x537aca++;const _0x3a3cee=_0x4b4a4c[_0xebac19(0x9a5)][_0xebac19(0x1e7)]((_0x3a9a15,_0x18bbbc)=>{return{..._0x3a9a15,'id':_0x3a9a15['id']||'q_'+Date['now']()+'_'+_0x49a48b+'_'+_0x18bbbc};}),_0x1927fc=doc(db,_0xebac19(0x495)+appId+_0xebac19(0x20c),_0x49a48b);_0x1dc40a[_0xebac19(0x32a)](_0x1927fc,{'questions':_0x3a3cee});}}),_0x537aca>0x0?(_0x209049[_0x36b58e(0x573)]='กำลังอัปเดตแบบทดสอบ\x20'+_0x537aca+_0x36b58e(0x7d6),await _0x1dc40a['commit'](),showMessage(_0x36b58e(0x539)+_0x537aca+'\x20รายการสำเร็จ!')):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x140124){console[_0x36b58e(0x670)](_0x36b58e(0x746),_0x140124),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0x140124[_0x36b58e(0x69d)]);}finally{_0x29f985[_0x36b58e(0x1a0)][_0x36b58e(0x368)](_0x36b58e(0x250)),_0x209049[_0x36b58e(0x573)]=_0x29ea67;}});}async function handleBulkUpdateQuizSettings(){const _0x1c7815=_0x2626e0,_0x400196={'shuffle':document[_0x1c7815(0x87d)]('bulk-shuffle-select')['value'],'resultsDisplay':document['getElementById'](_0x1c7815(0x5f5))[_0x1c7815(0x810)],'loopUntilPass':document['getElementById'](_0x1c7815(0x2f6))[_0x1c7815(0x1e0)]},_0x9bea3d=allQuizzesGlobal[_0x1c7815(0x97d)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0x9bea3d+_0x1c7815(0x4b9),async()=>{const _0x51effe=_0x1c7815,_0x8cf28d=document[_0x51effe(0x87d)](_0x51effe(0x498));_0x8cf28d[_0x51effe(0x500)]=!![],_0x8cf28d[_0x51effe(0x9a4)]=_0x51effe(0x614);try{const _0x28e133=writeBatch(db);allQuizzesGlobal[_0x51effe(0x2fb)](_0x3865a3=>{const _0x58ab3b=_0x51effe,_0x1d05da=doc(db,_0x58ab3b(0x495)+appId+_0x58ab3b(0x20c),_0x3865a3['id']),_0x2e42f7={..._0x3865a3[_0x58ab3b(0x446)]||{},..._0x400196};_0x28e133['update'](_0x1d05da,{'settings':_0x2e42f7});}),await _0x28e133[_0x51effe(0x37e)](),document[_0x51effe(0x87d)](_0x51effe(0x778))[_0x51effe(0x1a0)]['add'](_0x51effe(0x250)),showMessage('อัปเดตการตั้งค่าของแบบทดสอบ\x20'+_0x9bea3d+_0x51effe(0x4b5));}catch(_0x41e32f){console[_0x51effe(0x670)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update:',_0x41e32f),showMessage(_0x51effe(0x52c));}finally{_0x8cf28d[_0x51effe(0x500)]=![],_0x8cf28d[_0x51effe(0x9a4)]='ยืนยันและอัปเดตทั้งหมด';}});}async function handleSaveProjectName(){const _0x4673ac=_0x2626e0,_0x5d2ebc=document[_0x4673ac(0x87d)](_0x4673ac(0x455)),_0xc8384a=document['getElementById'](_0x4673ac(0x84b)),_0x3eb24b=_0x5d2ebc[_0x4673ac(0x573)][_0x4673ac(0x4ca)]();if(!_0x3eb24b||!currentProjectId){showMessage(_0x4673ac(0x3e2)),_0x5d2ebc['textContent']=currentProjectData[_0x4673ac(0x560)];return;}_0xc8384a['disabled']=!![],_0xc8384a[_0x4673ac(0x9a4)]=_0x4673ac(0x780);try{const _0x15af6b=doc(db,_0x4673ac(0x495)+appId+_0x4673ac(0x774),currentProjectId);await updateDoc(_0x15af6b,{'projectName':_0x3eb24b}),currentProjectData&&(currentProjectData[_0x4673ac(0x560)]=_0x3eb24b),showMessage(_0x4673ac(0x257));}catch(_0x12ca67){console['error'](_0x4673ac(0x92a),_0x12ca67),showMessage(_0x4673ac(0x8f4)),_0x5d2ebc[_0x4673ac(0x573)]=currentProjectData[_0x4673ac(0x560)];}finally{_0xc8384a['classList']['add'](_0x4673ac(0x250)),_0xc8384a[_0x4673ac(0x500)]=![],_0xc8384a['innerHTML']=_0x4673ac(0x863);}}async function initialize(){const _0x2989fa=_0x2626e0;try{const _0x3bb524=initializeApp(firebaseConfig);db=getFirestore(_0x3bb524),auth=getAuth(_0x3bb524),setupAuthListener(),setupEventListeners(),showView(_0x2989fa(0x59e)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x25a812){console[_0x2989fa(0x670)](_0x2989fa(0x1d5),_0x25a812),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x44aba7=_0x2626e0,_0x1c7844=document['getElementById'](_0x44aba7(0x35f));if(!_0x1c7844)return;const _0x302c06=document[_0x44aba7(0x87d)](_0x44aba7(0x9bb));_0x302c06[_0x44aba7(0x500)]=!![],_0x302c06[_0x44aba7(0x9a4)]=_0x44aba7(0x330);try{const _0x1cd74e=_0x1c7844[_0x44aba7(0x4fa)]('.question-editor-item'),_0x2b06b2=Array[_0x44aba7(0x73e)](_0x1cd74e)[_0x44aba7(0x1e7)]((_0x148212,_0x4e9f17)=>{const _0x2a76f2=_0x44aba7,_0x4d1434=_0x148212[_0x2a76f2(0x2e0)][_0x2a76f2(0x3e8)],_0x1ad14d=_0x148212[_0x2a76f2(0x33b)](_0x2a76f2(0x454))['value'];let _0xccb5f4=null,_0x4d2631='';switch(_0x4d1434){case _0x2a76f2(0x280):const _0x3be3f0=_0x148212[_0x2a76f2(0x4fa)](_0x2a76f2(0x73b));_0xccb5f4=Array[_0x2a76f2(0x73e)](_0x3be3f0)['map'](_0x45817d=>_0x45817d[_0x2a76f2(0x810)]);const _0x1e005e=_0x148212[_0x2a76f2(0x33b)](_0x2a76f2(0x55c));_0x1e005e&&(_0x4d2631=_0xccb5f4[parseInt(_0x1e005e[_0x2a76f2(0x810)])]);break;case _0x2a76f2(0x3fb):_0x4d2631=_0x148212[_0x2a76f2(0x33b)](_0x2a76f2(0x530))['value'];break;case _0x2a76f2(0x1f9):const _0x194172=_0x148212[_0x2a76f2(0x33b)](_0x2a76f2(0x55c));_0x4d2631=_0x194172?_0x194172[_0x2a76f2(0x810)]:'';break;case _0x2a76f2(0x801):_0x4d2631=_0x148212[_0x2a76f2(0x33b)](_0x2a76f2(0x5cd))['value'];break;}return{'question':_0x1ad14d,'options':_0xccb5f4,'proposedAnswer':_0x4d2631};}),_0x23131e=_0x44aba7(0x994)+JSON[_0x44aba7(0x6d8)](_0x2b06b2)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x498028={'type':_0x44aba7(0x44a),'items':{'type':_0x44aba7(0x24e),'properties':{'questionIndex':{'type':_0x44aba7(0x5aa)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x44aba7(0x61d)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x44aba7(0x5f3),'isCorrect',_0x44aba7(0x935)]}},_0x1f2772=await callAnalysisApi(_0x23131e,{'type':_0x44aba7(0x24e),'properties':{'result':_0x498028},'required':[_0x44aba7(0x775)]});displayVerificationResultsInEditor(_0x1f2772[_0x44aba7(0x775)]);}catch(_0x1edec6){console[_0x44aba7(0x670)](_0x44aba7(0x6ff),_0x1edec6),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x302c06[_0x44aba7(0x500)]=![],_0x302c06[_0x44aba7(0x9a4)]=_0x44aba7(0x4d5);}}function displayVerificationResultsInEditor(_0x24eed7){const _0x2112fd=_0x2626e0;_0x24eed7[_0x2112fd(0x2fb)](_0x37578b=>{const _0x2023ea=_0x2112fd,_0x104893=document['querySelector'](_0x2023ea(0x8fb)+_0x37578b[_0x2023ea(0x5f3)]+'\x22]');if(!_0x104893)return;const _0x3e3b58=_0x104893['querySelector'](_0x2023ea(0x1e9));if(_0x3e3b58)_0x3e3b58[_0x2023ea(0x594)]();let _0x29e1cf='';if(_0x37578b[_0x2023ea(0x8d1)])_0x29e1cf=_0x2023ea(0x3a8);else{const _0x371eb3=_0x37578b[_0x2023ea(0x449)]?_0x2023ea(0x6b8):'';_0x29e1cf=_0x2023ea(0x458)+_0x371eb3+_0x2023ea(0x876)+_0x37578b['justification']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x37578b['suggestedAnswer']?_0x2023ea(0x968)+_0x37578b[_0x2023ea(0x449)]+_0x2023ea(0x49e):'')+_0x2023ea(0x7a3);}_0x104893[_0x2023ea(0x27a)]('beforeend',_0x29e1cf);if(!_0x37578b['isCorrect']&&_0x37578b[_0x2023ea(0x449)]){const _0x34f43d=_0x104893['dataset'][_0x2023ea(0x3e8)],_0x32988b=_0x1f934d=>{const _0x2b2454=_0x2023ea;if(!_0x1f934d)return;_0x1f934d['classList'][_0x2b2454(0x368)](_0x2b2454(0x3ac),'transition-all',_0x2b2454(0x4b1)),setTimeout(()=>{const _0x4ebfa8=_0x2b2454;_0x1f934d['classList'][_0x4ebfa8(0x594)](_0x4ebfa8(0x3ac));},0x9c4);};if(_0x34f43d===_0x2023ea(0x280)){const _0x2cb417=Array[_0x2023ea(0x73e)](_0x104893[_0x2023ea(0x4fa)](_0x2023ea(0x73b))),_0x356b1a=_0x2cb417[_0x2023ea(0x52e)](_0x392b48=>_0x392b48[_0x2023ea(0x810)][_0x2023ea(0x4ca)]()[_0x2023ea(0x85a)]()===_0x37578b[_0x2023ea(0x449)]['trim']()[_0x2023ea(0x85a)]());if(_0x356b1a!==-0x1){const _0x4bf6e8=_0x104893['querySelector'](_0x2023ea(0x2c4)+_0x356b1a+'\x22]');_0x4bf6e8&&(_0x4bf6e8[_0x2023ea(0x1e0)]=!![],_0x32988b(_0x4bf6e8[_0x2023ea(0x29d)](_0x2023ea(0x5e5))));}}else{if(_0x34f43d===_0x2023ea(0x3fb)||_0x34f43d==='matching_item'){const _0x15a8bd=_0x104893[_0x2023ea(0x33b)](_0x2023ea(0x39f));_0x15a8bd&&(_0x15a8bd[_0x2023ea(0x810)]=_0x37578b[_0x2023ea(0x449)],_0x32988b(_0x15a8bd));}else{if(_0x34f43d==='true_false'){const _0x525081=_0x37578b[_0x2023ea(0x449)]['trim']()[_0x2023ea(0x85a)](),_0x4f0d8c=_0x104893['querySelector'](_0x2023ea(0x2c4)+_0x525081+'\x22]');_0x4f0d8c&&(_0x4f0d8c[_0x2023ea(0x1e0)]=!![],_0x32988b(_0x4f0d8c[_0x2023ea(0x29d)]('div')));}}}}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}async function handleVerifyAnswers(){const _0x31e511=_0x2626e0;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x3dd3ff=document[_0x31e511(0x87d)]('verify-answers-btn');_0x3dd3ff[_0x31e511(0x500)]=!![],_0x3dd3ff[_0x31e511(0x9a4)]=_0x31e511(0x330);try{const _0x2d8c08=currentQuizData[_0x31e511(0x9a5)][_0x31e511(0x1e7)]((_0x34c8d2,_0x5d45b4)=>{const _0x4f95a7=_0x31e511;let _0xa78909='';const _0x3a0bc3=_0x34c8d2[_0x4f95a7(0x19e)]||currentQuizData[_0x4f95a7(0x79c)];switch(_0x3a0bc3){case _0x4f95a7(0x280):_0xa78909=_0x34c8d2[_0x4f95a7(0x95b)][_0x34c8d2[_0x4f95a7(0x550)]];break;case _0x4f95a7(0x3fb):_0xa78909=_0x34c8d2[_0x4f95a7(0x83a)];break;case'true_false':_0xa78909=_0x34c8d2[_0x4f95a7(0x312)][_0x4f95a7(0x58f)]();break;case _0x4f95a7(0x801):_0xa78909=_0x34c8d2[_0x4f95a7(0x3df)];break;}return{'question':_0x34c8d2[_0x4f95a7(0x883)]||_0x34c8d2['questionText'],'options':_0x34c8d2[_0x4f95a7(0x95b)]||null,'proposedAnswer':_0xa78909};}),_0x4b1bb0=_0x31e511(0x324)+JSON[_0x31e511(0x6d8)](_0x2d8c08)+_0x31e511(0x7fb),_0x21d1e9={'type':'ARRAY','items':{'type':_0x31e511(0x24e),'properties':{'questionIndex':{'type':_0x31e511(0x5aa)},'isCorrect':{'type':_0x31e511(0x658)},'justification':{'type':_0x31e511(0x61d)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x31e511(0x5f3),'isCorrect',_0x31e511(0x935)]}},_0x1b5d15=await callAnalysisApi(_0x4b1bb0,{'type':_0x31e511(0x24e),'properties':{'result':_0x21d1e9},'required':['result']});displayVerificationResults(_0x1b5d15[_0x31e511(0x775)]);}catch(_0x2dbb1b){console['error']('Error\x20verifying\x20answers:',_0x2dbb1b),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x3dd3ff[_0x31e511(0x500)]=![],_0x3dd3ff['innerHTML']='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0x56d11f){const _0x5b7785=_0x2626e0;_0x56d11f[_0x5b7785(0x2fb)](_0xc4c39f=>{const _0x71b6d3=_0x5b7785,_0x4cdb36=document[_0x71b6d3(0x33b)]('div[data-question-index=\x22'+_0xc4c39f[_0x71b6d3(0x5f3)]+'\x22]');if(_0x4cdb36){const _0x52a07=_0x4cdb36['querySelector']('.verification-result');if(_0x52a07)_0x52a07['remove']();let _0x4a17c3='';_0xc4c39f[_0x71b6d3(0x8d1)]?_0x4a17c3=_0x71b6d3(0x4d8):_0x4a17c3=_0x71b6d3(0x8dc)+_0xc4c39f[_0x71b6d3(0x935)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xc4c39f[_0x71b6d3(0x449)]?_0x71b6d3(0x968)+_0xc4c39f['suggestedAnswer']+_0x71b6d3(0x49e):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4cdb36[_0x71b6d3(0x27a)](_0x71b6d3(0x633),_0x4a17c3);}}),showMessage(_0x5b7785(0x6a1));}function compareNumericalAnswers(_0x11069f,_0x555b5a){const _0x3d27e0=_0x2626e0,_0x3dcd73=String(_0x11069f)[_0x3d27e0(0x356)](',','.')[_0x3d27e0(0x356)](/[^\d.-]/g,'')[_0x3d27e0(0x4ca)](),_0x36096e=String(_0x555b5a)[_0x3d27e0(0x356)](',','.')[_0x3d27e0(0x356)](/[^\d.-]/g,'')[_0x3d27e0(0x4ca)]();if(_0x3dcd73===''||_0x36096e==='')return![];const _0x365b46=parseFloat(_0x3dcd73),_0x12d897=parseFloat(_0x36096e);if(isNaN(_0x365b46)||isNaN(_0x12d897))return![];return Math['abs'](_0x365b46-_0x12d897)<0.001;}function _0x32a5(){const _0x423f54=['sqrt','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','confirm-move-quiz-btn','date_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionText','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คนที่ส่ง\x20ตอบถูก\x20(','bg-red-500','การนับ','save-project-name-btn','timestamp','bg-green-100\x20text-green-800','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','touchstart','จำนวนเต็มบวก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความชันเส้นสัมผัส','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','label','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','_opt1\x22\x20name=\x22question','check-presentation-answer-btn','toLowerCase','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20',',\x20r=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','input[name=\x22question_single\x22]:checked','.quiz-bank-move-btn','quiz-generation-area','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','\x5cfrac{','results_','all','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','selected-topics-count','scores-tab-btn','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22loader\x20mx-auto\x22></div>','</p><div>','text-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','back-to-results-btn','mean','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','#FEE2E2','เกิดข้อผิดพลาดในการลบโปรเจค','floor','ลำดับเรขาคณิต\x20(GP)','manual_release','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getElementById','ผ่านฉลุย','lineCap','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-password-input','stem','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','font-bold\x20text-green-700','\x0a---\x0a','#math-topics-checkbox-container\x20input:checked','setFont','worksheet-tab','px,\x20','restore','<div\x20class=\x22answer-space\x22></div>','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','ปริมาตร/ความจุและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','cancel-delete-btn','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','modal-timer-duration-label','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-live-race-generated-btn','.summary-bar-item','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','<div\x20class=\x22my-6\x22>','.ai-fix-question-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','globalCompositeOperation','สอบซ่อม','bg-red-200\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','export-leaderboard-excel-btn','\x22\x20data-q-type=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','source-over','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','cancel-create-project-btn','ข้อที่\x20','กฎบวกและกฎคูณ','การหารเศษส่วน','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','.project-card-container','<i\x20class=\x22fas\x20fa-pen\x22></i>','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','isStarred','onclick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','fa-fire\x20text-orange-500','text-gray-400\x20hover:text-indigo-600','modal-message','ผู้ควบคุม\x20(ทดสอบ)','size','export-excel-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','ไม่พบข้อมูลข้อสอบหลังเรียน','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อนุพันธ์:\x20กฎพื้นฐาน','Error\x20moving\x20quiz:','dispatchEvent','create-project-modal','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','คณิตการเงิน/บูรณาการ','back-to-student-home-btn','className','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','กรุณาวาง\x20URL\x20ของบทความก่อน','allResponses','<br>','close','name_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','th-TH','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','timer-duration-container','คำถามดิบ:\x20\x22','\x22\x20value=\x22false\x22\x20','isCorrect','Error\x20pairing\x20quizzes:','projectSort','.color-palette-btn','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','cancel-quiz-edits-btn-footer','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','บันทึกการตั้งค่าแล้ว','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','ai-quiz-app-aefee','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','tfrac','link-url-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เปิดใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ownerSVGElement','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-join-game-view','print','$1\x5ctext{','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','opacity','fill_in_the_blank','loader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','<span\x20class=\x22sort-indicator\x20ml-2\x22>','bg-red-100\x20text-red-800','live-short-answer-input','เกิดข้อผิดพลาดในการบันทึก','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','อินเวอร์สของเมทริกซ์','จำนวนเชิงซ้อน\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.question-editor-item[data-q-index=\x22','Invalid\x20response\x20structure\x20from\x20AI.','สร้างแบบทดสอบ','num-questions','https://corsproxy.io/?','Error\x20saving\x20quiz:','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','players.','Error\x20updating\x20project\x20color:','add-custom-math-topic-btn','translate(','transformOrigin','interesting-stats-wrapper','type','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','รูปแบบการให้เหตุผล','file-upload-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','flex','quiz-type-select','.answer-text','get','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','fa-dumbbell\x20text-gray-700','viewBox','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','.color-palette-popup','แบบทดสอบนี้ปิดใช้งานอยู่','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','ไม่ได้ตอบ','student-list','content','file-input-area','bg-yellow-50','กำลังอ่านและเตรียมไฟล์...','การจัดหมู่\x20(Combination)','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','questionId','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20project\x20name:','quiz-schedule-start-container','กำลังดึงข้อมูลจากลิงก์...','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','\x20สำเร็จ','repeat','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','move','เกิดข้อผิดพลาดในการโหลดโปรเจค','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ระบบเลขและค่าประจำหลัก','justification','</p></div>','download','ลบแบบทดสอบสำเร็จแล้ว','comparison','<i\x20class=\x22fas\x20fa-magic\x22></i>','finishReason','lobby','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','.topic-row','fa-bolt\x20text-blue-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','อสมการเชิงเส้น','.option-text','qIndex','live-game','fas\x20fa-bookmark','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','</form>','neq','รากที่สองและที่สาม','ระยะเวลา\x20(นาที):','blueprint-input-area','desc','fix\x20the\x20option','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','ระยะจากจุดถึงเส้นตรง','back-to-dashboard-btn','<li>','ที่พิมพ์ได้\x20จำนวน\x20','medium','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ถูกต้อง!','การวัด','save-visibility-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','options','สมการราก\x20(radical)','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','fill_in_no_choices','$1\x20\x5cfrac','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','generated-quiz-container','student-quiz-leaderboard-table-body','<p><strong>คำตอบที่แนะนำ:</strong>\x20','write','\x20ข้อ\x20','drill-feedback','\x5cpm','.generate-lesson-btn','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','per_question','class','สร้างใหม่','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','student-name-select','ยืนยันการกระทำ','live-options-container','ทฤษฎีบทพีทาโกรัสและการประยุกต์','then','files','live-submit-short-answer-btn','helvetica','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','length','.score','active','text-emerald-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สุดยอด!\x20ตอบถูกทุกข้อ','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','round','test','.draggable-text','back-from-results-btn','currentQuestionIndex','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการเชิงเส้นตัวแปรเดียว','.copy-quiz-id-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เลือกโปรเจคเพื่อบันทึก','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','(^|[^\x5c\x5c])\x5cb','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','fixed','opacity-50','create-from-bank-btn','button','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','start-game-btn','close-comparison-modal-btn','ตอบถูก\x203\x20ข้อติดต่อกัน','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','file-tab','.pin-project-btn','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22mb-3\x20topic-category\x22>','true','innerHTML','questions','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','generate-from-parallel-test-btn','prev-question-btn','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','การลบเศษส่วน','binom','ควรปรับปรุง','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','export-leaderboard-pdf-btn','scratchpad-options','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','Error\x20deleting\x20custom\x20topic:','Failed\x20to\x20parse\x20JSON\x20from\x20AI','project-id-display','ไม่สามารถบันทึกการตั้งค่าได้','totalPoints','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','verify-answers-editor-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','แบบเติมคำตอบ','touches','mouseup','กำลังสแกนหาแบบทดสอบเก่า...','\x5cge','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','จำนวนเต็มลบ','MathJax','.pen-size-btn','Error\x20loading\x20user\x20preferences:','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','http://www.w3.org/2000/svg','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','\x22\x20value=\x22','geq','/studentProfiles','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','target','N/A','export-word-btn','Error\x20generating\x20quiz:','<div\x20class=\x22','การหารทศนิยม','สมการลอการิทึม','.question-editor-item','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','update-old-quizzes-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-editor-questions-container','close-presentation-btn','createdBy','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','text-red-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mr-2\x22></i>','comparison-modal','questionType','interesting-stats-container','classList','ย้ายแบบทดสอบไปโปรเจคอื่น','slice','overline','choices_only','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','visibilityState','matching','generate-from-file-btn','confirm-create-project-btn','element','tGain','การลบ','confirm-admin-login-btn','presentation-explanation','no-projects-msg','player-count','attempts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','.delete-quiz-btn','project-name-input','/public/data/projects/','\x5cfrac{$1}{$2}','#000000','nickname-input','passingScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','.delete-custom-topic-btn','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','cancel-global-live-btn','ข้อ\x20','cancel-rename-quiz-btn','.project-card-container.opacity-50','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','แบบทดสอบนี้หมดเวลาแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-submission-btn','พื้นที่ผิวรูปทรงสามมิติ','str','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','instructions','Error\x20updating\x20custom\x20topic:','generate-from-link-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','scratchpad-header','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','Error\x20regenerating\x20question\x20in\x20editor:','กำลังวิเคราะห์ข้อสอบ\x20\x22','Firebase\x20initialization\x20failed:','fullscreenElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','export-leaderboard-image-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','กรุณาเลือกโปรเจคที่ต้องการบันทึก','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','.lastAnswerValue','.live-summary-tooltip.visible','results-table','ไม่มี','checked','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','ย้าย','scratchpad-modal','lesson-plan-title','AI\x20request\x20was\x20blocked.\x20Reason:\x20','map','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','.verification-result-editor','เกมสิ้นสุดลงแล้ว','</span></td>','text-indigo-700','Error\x20generating\x20parallel\x20post-test:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','submittedAt','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','auto-fix-latex-btn','.status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','view-my-progress-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','ค่าเสื่อมราคา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','Error\x20loading\x20quiz\x20for\x20student:','true_false','parts','ความสัมพันธ์ของมุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การปัดเศษและประมาณค่า','\x20ใหม่...','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','3100530BCrHoc','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','link-tab','canvas','whole_quiz','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','Error\x20unpairing\x20quizzes:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผิด','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','wheel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/quizzes','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','behavior-log-container','quizId','Error\x20saving\x20project\x20order:','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พิสัย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','addEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','grabbing','width','Error\x20starting\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','#D1FAE5','reset-view-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนหัวข้อสำหรับใบงาน','\x5ctimes','endTime','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','PERFECT_SCORE','bg-red-100','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','pointerType','text','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','ความเป็นอิสระของเหตุการณ์','btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','Failed\x20to\x20get\x20hint:','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','teachingContent','input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','comparison-individual-content','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','split','ท็อปฟอร์ม','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','shuffledQuiz','latestScore','คณิตศาสตร์','กำลังสร้างแบบทดสอบคู่ขนาน...','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','</body></html>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','.lastAnswerCorrect','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','answeredCurrentQuestion','Error\x20generating\x20from\x20parallel\x20test\x20file:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','analytics-tab-btn','originalQuestionText','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','OBJECT','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','hidden','solution','parallel-test-input-area','Error\x20saving\x20settings:','<p>','quiz-results','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เปลี่ยนชื่อโปรเจคสำเร็จ','<div><input\x20type=\x22radio\x22\x20id=\x22q','points','answerText','deg','toDate','leaderboard-table-body','#student-project-leaderboard-content\x20thead','$1\x5ctimes','27iXJBcf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x20คู่\x20','<button\x20data-quiz-id=\x22','createdAt','question-complexity-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สรุปผลสุดท้าย','createObjectURL','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-tab-content','data','สรุปผลการวิเคราะห์:\x5cn','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','null','scrollIntoView','parallel-test-upload-input','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bestScore','text-content-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','submissions','insertAdjacentHTML','pointsLastQuestion','mjx-container','กรุณาป้อนรหัสแบบทดสอบ','quiz-bank-count','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','multiple_choice','/public/data/practiceBank','dragend','cloneNode','passcode','touchmove','<svg','timer-duration-label','gamePin','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','(เลือกแล้ว\x20','student-project-leaderboard-tab','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','เกี่ยวกับหัวข้อ\x20\x22','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','อนุพันธ์:\x20กฎลูกโซ่','inactive','#FCE7F3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','none','ไม่สามารถโหลดรายการโปรเจคได้','mousemove','\x22\x20ซึ่งมีทั้งหมด\x20','removeEventListener','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','user-id-display','.quiz-result-card','ค่าคลาดเคลื่อนของการวัด','sum','closest','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','```json','.delete-svg-btn','Error\x20fetching\x20student\x20rankings:','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','QUICK_THINKER','บันทึกการตั้งค่าสำเร็จ','Error\x20joining\x20live\x20game:','\x22><i\x20class=\x22fas\x20','exitFullscreen','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','admin-dashboard','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','scores','classStrengths','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','bank-quiz-search-input','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','การแจกแจงปกติและ\x20z-score','student-name-selection-view','ตรวจพบการออกจากหน้าจอครบ\x20','behavior-log-tab-btn','toFixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','global-live-game-modal','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.save-to-bank-btn','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','(ตัวเลือกผิดพลาด)','promptFeedback','การบวกทศนิยม','.quiz-bank-try-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','td,\x20th','#F59E0B','ไม่พบแบบทดสอบ','toLocaleString','input[type=\x22radio\x22][value=\x22','\x22.\x20Ideal\x20Answer:\x20\x22','move-quiz-modal','รูปสี่เหลี่ยมและสมบัติ','#view-rankings-btn','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','move-quiz-project-select','ลิมิต','strokeStyle','\x20mb-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','/users/','badges','results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','รีเซ็ตลำดับโปรเจคแล้ว','AI\x20Fix\x20Error:','autoTable','min','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','admin-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','project-search-input','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','.quiz-bank-parallel-btn','some','แคลคูลัสเบื้องต้น','.png','dataset','dfrac','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','thead','ใช่','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','items','.group','.regenerate-question-btn','rgba(79,\x2070,\x20229,\x200.8)','.regenerate-question-editor-btn','admin-try-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','after','results-tab-content','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','text-red-700','sort','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','bulk-loop-until-pass-checkbox','hint-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','showRankings','projectView','forEach','status','close-student-rankings-btn','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','passing-score-input','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','math-topic-search-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','หัวข้อที่สร้างเอง','destroy','offsetWidth','next-drill-btn','ฟังก์ชันลอการิทึม','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','ดอทโปรดักต์\x20(dot)','การบวกเศษส่วน','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','<option\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','#DBEAFE','correctAnswer','quiz-start-time','blueprint-upload-input','การยืนยันตัวตนล้มเหลว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</h3>','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','input[name=\x22status-option\x22]:checked','Error\x20displaying\x20question\x20bank:','gain','cos','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20โดยต้องปฏิบัติตามกฎเหล็กต่อไปนี้อย่างเคร่งครัด:\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็ก\x20(ต้องปฏิบัติตามทุกข้อ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ความถูกต้อง\x20100%:**\x20คำถาม\x20ตัวเลือก\x20และเฉลยที่สร้างขึ้นใหม่ทั้งหมดต้องถูกต้องตามหลักวิชาการและคณิตศาสตร์\x20100%\x20**ห้ามมีข้อผิดพลาดโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**จำนวนข้อที่แน่นอน:**\x20แบบทดสอบชุดใหม่ต้องมี\x20**','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','clientY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','touchend','specialist','#per-question-options\x20textarea','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','values','update','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','getBoundingClientRect','ฮิสโตแกรม','quiz-form','ไม่พบเอกสารการส่งงานของ\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x22,\x20','keyup','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quiz-search-input','promise','max','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','querySelector','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','แผนภาพกล่อง\x20(box\x20plot)','msExitFullscreen','leaderboard-tab-content','back-to-student-initial-btn','podium','modal-timer-duration-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#results-table\x20thead\x20tr','both','projectId','สามเหลี่ยม\x20(ชนิด/สมบัติ)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','เกิดข้อผิดพลาดในการเปลี่ยนสี','สร้างแบบทดสอบปรนัย','user','rgba(59,\x20130,\x20246,\x200.7)','timer-duration-input','text-gray-100','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','Error\x20toggling\x20star\x20status:','editable-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','showImproveButton','</p><p><strong>เฉลย:</strong>\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','replace','[contenteditable=\x22true\x22]','กรุณาใส่ชื่อนักเรียน','leaderboard_','<div\x20class=\x22space-y-4\x22>','firstScore','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','fa-pen','scratchpad-canvas','quiz-editor-modal','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','การแจกแจงทวินาม\x20(พื้นฐาน)','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','now','.submittedAt','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','add','circ','application/json','API\x20call\x20failed','\x22>ไม่ใช่</p>','upperGroupNames','ON_FIRE','scale','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','generate-from-blueprint-btn','\x20\x20\x20-\x20','_opt0\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','starred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','focus','ฟังก์ชันสัมพัทธ์\x20(rational)','text-purple-600','afterend','text-green-700','\x22\x20name=\x22question','commit','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-item','analytics-tab-content','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','default','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','/submissions',';\x22\x20data-id=\x22','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','baseVal','เลือกและบันทึก','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','beginPath','screen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','เศษส่วน\x20(ย่อ/ขยาย)','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','ทำคะแนนเต็มในการทำครั้งแรก','project-dashboard-view','ฟังก์ชันพหุนาม','mode-switcher-btn','reveal-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','pointerdown','ส่งแล้ว','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','createElement','comparison-individual-tab','.ideal-answer-input,\x20.correct-response-input','global-quiz-list','pinned-items','join','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','ตั้งเวลา\x20(เปิด)','correct','post-test','generate-from-text-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เรเดียนและการแปลงหน่วย','drop','onerror','bg-green-200','<p\x20class=\x22','quiz-settings-modal','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','วงกลม:\x20คอร์ดและเส้นสัมผัส','หน่วยความยาวและการแปลง','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','release','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','schedule','analyze-strengths-btn','ring-purple-400','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','ทำคะแนนได้เกินครึ่ง','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','quiz-status-options','function','</span>','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','quiz-status-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','hint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','setItem','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','ระยะเวลา\x20(วินาที):','Error\x20saving\x20submission:','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','ไม่สามารถสร้างโปรเจคได้','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','_opt','bg-red-50','<div>','imageCode','274192258111','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','devicePixelRatio','half_mark_status','บันทึกคำถามใหม่\x20','bg-green-500','พื้นที่วงกลม/ส่วนของวงกลม','export-leaderboard-word-btn','</td></tr>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','preventDefault','คะแนน','correctResponse','setAttributeNS','$1^{\x5ccirc}','ชื่อโปรเจคห้ามว่าง','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','color','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','ตรีโกณมิติ','input[name=\x22status-option\x22]','qType','แบบทดสอบที่ติดดาว','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','):\x20','\x5csqrt{$1}','countdown-display','cursor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','Error\x20toggling\x20pin\x20status:','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','ดีเทอร์มิแนนต์','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','teacherSuggestions','string','$1\x5ctext(','bank-tab','เกิดข้อผิดพลาดในการโหลดสถานะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','index','short_answer','เส้นตรง:\x20รูปแบบสมการ','เกิดข้อผิดพลาดในการติดดาว','ไม่สามารถโหลดข้อมูลอันดับได้','entries','getDocument','parallel-test-tab','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','_opt0\x22>ใช่</label></div>','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','false','#FFFFFF','AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...\x20กรุณารอสักครู่','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','include-images-checkbox','fa-crown\x20text-yellow-500','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','[*]','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แผนการสอน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quiz','Error\x20renaming\x20quiz:','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','visible','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','input[name=\x22drill_answer\x22]:checked','parse','ผลรวมอนุกรม\x20(Σ)','slide-counter','dataIndex','scores-tab-content','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','cancel-quiz-bank-btn','rename-quiz-modal','click','first_try_ace','startTime','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','insertBefore','contains','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','เรขาคณิต','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','ไม่พบข้อมูลแบบทดสอบ','candidates','hover:bg-indigo-100','student-view','comparison-overall-tab','verify-answers-btn','ส่วนเบี่ยงเบนเฉลี่ย','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','ความคาดหมาย\x20(Expected\x20value)','mouseleave','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','open-quiz-bank-btn','save-quiz-btn','อสมการค่าสัมบูรณ์','export-image-btn','quadraticCurveTo','\x22...','actions-container-','save','getAttributeNS','getBBox','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','G-V90KRM0L63','isArray','match','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','numeric','(ก่อนเรียน)\x20','settings','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','suggestedAnswer','ARRAY','สร้างคำถามแบบเติมคำในช่องว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','การหาร','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','cancel-bulk-quiz-settings-btn','confirmation-modal','Error\x20rendering\x20student\x20progress:','q-text-','กรุณาใส่ชื่อใหม่','textarea','project-title','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','Enter','หมดเวลาสำหรับข้อนี้!','modal-timer-duration-input','eraser','.quiz-settings-btn','\x5c\x5c\x5c\x5c(?=(','text-red-700\x20bg-red-100','โดเมนและเรนจ์','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','สร้างคำถามแบบใช่/ไม่ใช่','quiz-results-table-body','\x20(p=','mousedown','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','cancel-move-quiz-btn','text-white','จับคู่เพื่อเปรียบเทียบผล','pop','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','left','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','overallGroups','fill','show_pass_fail_only','Re-grade\x20process\x20failed:','keydown','modal-passing-score-input','players','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','ฟังก์ชันค่าสัมบูรณ์','approx','ฟังก์ชันเชิงเส้นและกราฟ','ค.ร.น.\x20(LCM)','.choice-text','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-blue-800','POST','#student-quiz-leaderboard-content\x20thead','localeCompare','leaderboard-quiz-tab-btn','student-initial-view','\x20ช่อง','scheduled','แผนการสอน:\x20','6361509BXXpAk','behaviorLog','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','text-green-600\x20font-bold','project-list','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','explanation','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','close-lesson-plan-modal-footer-btn','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','ผู้ไม่ยอมแพ้','list','artifacts/','Error\x20generating\x20lesson\x20plan:','delete-all-students-btn','confirm-bulk-quiz-settings-btn','สมการเหตุผล\x20(rational)','normal','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>','studentName','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','description','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','123SwGRtF','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','AI\x20Formula\x20Fix\x20Error:','รูปสแควร์รูท\x20(surd)','<span\x20class=\x22font-bold\x20','</span></p>','results-quiz-title','end-game-btn','student-quiz-leaderboard-content','typesetPromise','results-tab','duration-300','confirm-global-live-btn','แผนภาพเวนน์','11588WnRoIA','\x20ชุดสำเร็จ!','.answeredCurrentQuestion','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stdDev','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','ยอดเยี่ยม!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','copy-quiz-id-btn','อุณหภูมิและการแปลง','pen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วงรี','offset','list-view-btn','.duplicate-quiz-btn','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เส้นจำนวน','push','bg-green-200\x20text-green-800','fill_in_with_choices','trim','rgba(79,\x2070,\x20229,\x201)','generated-quiz-actions','Failed\x20to\x20create\x20initial\x20submission\x20record:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','projectSortOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','.unpair-quiz-btn','การคูณ','สร้างโปรเจคสำเร็จ!','มัธยฐาน','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','ai-quiz-generator-v3','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-lesson-plan-modal-btn','เกิดข้อผิดพลาดในการปักหมุด','fixedData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','game-pin-input','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text/csv;charset=utf-8;','leaderboard-quiz-tab-content','lower_group_count','สมมาตร\x20(แกน/จุด)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','attemptNumber','\x22\x20ให้เป็นคำถามประเภท\x20\x22','\x5cfrac','removeChild','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','bg-green-100','classWeaknesses','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','admin','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','loop-until-pass-checkbox','bg-blue-100','การคูณทศนิยม','bar','bg-yellow-100','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','project-detail','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','docs','dimmed','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','querySelectorAll','Error\x20saving\x20to\x20question\x20bank:','GlobalWorkerOptions','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ref','เงินงวด\x20(อนุกรมเงินงวด)','disabled','isLooping','icon','.start-presentation-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','timer-container','ชื่อหัวข้อห้ามว่าง','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rows','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','line-through\x20text-red-700','\x22\x5cn','blur','currentTarget','warn','quiz-leaderboard-table-container','ปิดใช้งาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','eraser-tool-btn','font-bold\x20text-red-700\x20line-through','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','quick_thinker','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','พาราโบลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','text-green-700\x20bg-green-100','getContext','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','ชนิดของข้อมูลและการเก็บข้อมูล','parseFromString','สร้างชุดคำถามจับคู่','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','onload','svg','random','ฐานนิยม','เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด','\x0a\x20\x20\x20\x20','findIndex','raw','.ideal-answer-input','ความคล้ายของรูป','พื้นที่สามเหลี่ยม','/public/data/customMathTopics','perfect_score','ai-quiz-app-aefee.firebasestorage.app','comeback_king','ยังไม่มีนักเรียนส่งงาน','<div\x20class=\x22my-2\x22>','อัปเดตแบบทดสอบเก่า\x20','หน่วยเวลาและการคำนวณเวลา','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','grid-view-btn','comparison-chart','questions_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ยอดเยี่ยม','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','จากเนื้อหาต่อไปนี้:\x20\x22','translate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-project-leaderboard-table-body','loader-text','score-distribution-chart','คะแนนเต็ม!','far\x20fa-star','export-pdf-btn','ไม่พบโปรเจค','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','แก้ไขหัวข้อสำเร็จ','ลำดับการดำเนินการ\x20(PEMDAS)','Authentication\x20failed:','correctAnswerIndex','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','results-quiz-id-display','</tbody></table>','student-progress-view','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','.ql-editor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','กฎของไซน์','<option\x20value=\x22\x22>กำลังโหลด...</option>','.csv','text-gray-200','input[type=\x22radio\x22]:checked','เกิดข้อผิดพลาดในการสร้างห้องเกม','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','display','projectName','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','retake-quiz-loop-btn','createElementNS','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปริพันธ์ไม่จำกัด','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','Error\x20updating\x20pin\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','katex','questionStatus','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-overall-content','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','textContent','bg-amber-100\x20text-amber-800','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','\x20/\x20','redo-btn','open','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','presentation-slide-container','ไม่สามารถเริ่มเกมได้','change','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','text-gray-700','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','passcode-error-msg','.topic-category','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','.pointsLastQuestion','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','#26890c','answering','live-player-list','จากไฟล์ที่แนบมานี้,\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','<div\x20class=\x22flex-1\x22></div>','เรขาคณิตวิเคราะห์','code','text-gray-500','toString','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','remove','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','<tr>','เกิดข้อผิดพลาดในการบันทึกลำดับ','lineJoin','grid','.\x20แต่ละข้อมี\x20','ยกเลิกการจับคู่สำเร็จ','<p\x20class=\x22font-bold\x20text-sm\x20','4266450jDkuYK','student','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','กรุณาเลือกไฟล์ก่อน','.quiz-bank-delete-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','name','2707464Ieclei','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','next-question-timed-btn','NUMBER','lessonPlan','fa-shield-alt\x20text-gray-600','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clearRect','submission','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','text-indigo-600','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mixed','รอเปิด','rename-quiz-input','</button>','ring-2','scheduled_pending','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เพิ่มหัวข้อ\x20\x22','Error\x20listening\x20for\x20projects:','load-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.toggle-actions-btn','Failed\x20to\x20get\x20standardized\x20topic:','practice-topic-btn','</span></div>','auto','per-question-text','องค์ประกอบของฟังก์ชัน','moveTo','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x20จาก\x20','delete-svg-btn','Error\x20generating\x20from\x20blueprint:','px)\x20scale(','.correct-response-input','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','hasOwnProperty','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกรหัสแล้ว!','fullscreenchange','answer','\x20ชุด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','difficulty-level-select','<div\x20id=\x22q-image-container-','กำลังสร้างคำถามข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','cdot','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','sin','manage-players-btn','bg-emerald-100','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เปลี่ยนชื่อแบบทดสอบสำเร็จ','div','เกิดข้อผิดพลาดในการอัปเดตสถานะ','.presentation-option','arrayBuffer','isPinned','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ใช่','<tr><td\x20colspan=\x22','%</span>','.edit-question-btn','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','leaderboard','confirm-delete-btn','project-sort-select','questionIndex','right','bulk-results-display-select','loopUntilPass','สัญกรณ์วิทยาศาสตร์','preTScore','timer-bar','กรุณาเลือกโปรเจคปลายทาง','กราฟแท่ง\x20กราฟเส้น','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','พื้นที่สี่เหลี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','pointermove','cancel-test-btn','has','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','quizMode',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','scratchpad-clear-btn','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[data-topic-container-id]','show_results_only','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','ไม่มีคำอธิบาย','next-question-btn','0\x200','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','setTransform','การบวก','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','goto-next-question-btn','open-scratchpad-btn','.project-card-content','shuffle-setting-select','\x20ตัวเลือก.\x20','student-passcode-input','STRING','.cancel-edit-topic-btn','อัตราการเปลี่ยนแปลงทันที','button[data-id]','\x22\x20class=\x22pin-project-btn\x20','</div>','</tr>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','student-quiz-leaderboard-tab','(คัดลอก)\x20','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','.live-answer-btn','perfect_score_status','analytics','startsWith','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','FIRST_TRY_ACE','passcode-prompt-message','confirm-quiz-settings-btn','toISOString','ผ่าน','lesson-plan-content','beforeend','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ศูนย์','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','\x20mx-1\x20text-lg\x22></i></span>','pow','คำถามถัดไป','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','style','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','.topic-name-input','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','image/png','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','ตัวประกอบและตัวประกอบเฉพาะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','temp-loader-results','find','ไม่พบแบบทดสอบในระบบเลย','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ตอบถูกทุกข้อในแบบทดสอบนี้','ความชันและเส้นตรง','Error\x20saving\x20questions\x20to\x20practice\x20bank:','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','select-all-topics-btn','data:application/vnd.ms-word;charset=utf-8,','progress-student-select','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','.topic-actions-view','ไม่มีผู้ตอบตัวเลือกนี้','touch','answers','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','bg-green-50','482sdNLtj','admin-testing','BOOLEAN','cancel-quiz-edits-btn','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','short','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','transform','projectOrder','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','pointercancel','อัตราส่วนและสัดส่วน','.isScored','timerMode','student-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cancel-admin-login-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','text-gray-300\x20hover:text-white','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','error','shuffle','#E5E7EB','check-answer-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','back-to-home-manual-release','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x5ctext{$1}','จุด\x20เส้น\x20ระนาบ','ไม่ผ่าน','show_results_and_answers','score','originalTopic','question','button[type=\x22submit\x22]','\x20ข้อพอดี**\x20ห้ามขาด\x20ห้ามเกิน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ความเป็นคู่ขนาน:**\x20โจทย์ใหม่ต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเทียบเท่ากับโจทย์เดิม\x20แต่ต้องใช้ตัวเลข\x20สถานการณ์\x20หรือคำถามที่แตกต่างออกไป\x20**ห้ามคัดลอกโจทย์เดิม**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**โครงสร้างเหมือนเดิม:**\x20ประเภทของคำถามแต่ละข้อ\x20(เช่น\x20ปรนัย,\x20เติมคำ)\x20ต้องเหมือนกับข้อสอบต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**คุณภาพของตัวเลือก\x20(สำหรับปรนัย):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ต้องมีคำตอบที่ถูกต้องเพียง\x20**หนึ่งเดียว**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวง\x20(Distractors)\x20ต้องมีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x20แต่ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามมีตัวเลือกที่กำกวมหรือมีความหมายซ้ำซ้อนกัน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบตารางสำหรับ\x20Export','set','ความน่าจะเป็นแบบมีเงื่อนไข','pre-test-checkbox','NEGATIVE_INFINITY','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','per-question-timer-container','ฟังก์ชันยกกำลัง','pre-test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','ก่อนเรียน','getPage','\x5csum','postScore','text-red-300\x20hover:text-red-100','_blank','indexOf','แก้ไขข้อนี้','6322650buYSjD','คุณต้องการให้\x20AI\x20สร้างแบบทดสอบชุดนี้ในเวอร์ชันที่ง่ายลงหรือไม่?\x20ระบบจะสร้างเป็นแบบทดสอบชุดใหม่ในโปรเจคนี้','บันทึกการตั้งค่าการแสดงผลสำเร็จ','Error\x20updating\x20quiz\x20settings:','blueprint-tab','ห.ร.ม.\x20(GCD)','onchange','.edit-custom-topic-btn','message','จำนวนคละ','\x5cdiv','สมการตรีโกณมิติ','ตรวจทานเฉลยเสร็จสิ้น!','screen_exit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','MathJax\x20typeset\x20error\x20(analytics):','bottom','deltaY','(ก่อนเรียน)','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','json','Error\x20saving\x20quiz\x20edits:','border-gray-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','เกิดข้อผิดพลาดในการลบแบบทดสอบ','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','project-passcode-modal','text-red-600','learningGaps','สเกลและแผนที่','parent','block','tan','ส่วนเบี่ยงเบนมาตรฐาน','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','topic','lastAnswerIndex','visibilitychange','red','underline','พอใช้','project-passcode-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','filter','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','\x22>จาก:\x20','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','show-in-student-dashboard-checkbox','quiz-bank-modal','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','text-input-area','total','catch','.pen-color-btn','.compare-results-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','สถิติและความน่าจะเป็น','AI\x20grading\x20failed:','\x22\x20name=\x22drill_answer\x22\x20value=\x22','manage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','FileReader\x20error:','stringify','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','.save-custom-topic-btn','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','fromCharCode','topic-input','touchcancel','text-emerald-800','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-800','results-table-container','showInStudentDashboard','เกิดข้อผิดพลาด:\x20','bg-green-100\x20font-bold','toLocaleDateString','bank-input-area','Error\x20showing\x20quiz\x20detail\x20view:','quiz-leaderboard-table','การจัดกลุ่มข้อมูล','พีชคณิตและฟังก์ชัน','เกิดข้อผิดพลาดในการลบนักเรียน','<button\x20id=\x22','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','สร้างคำถามใหม่\x201\x20ข้อ\x20','jspdf','เวกเตอร์และเมทริกซ์\x20(เสริม)','2-digit','Error\x20comparing\x20results:','Error\x20during\x20class\x20analysis:','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','พบข้อสอบ\x20','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','document','เกิดข้อผิดพลาดในการนำผู้เล่นออก','timerDuration','padStart','.doc','</th>','Error\x20verifying\x20answers\x20in\x20editor:','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','appendChild','#ffffff','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','height','back-to-dashboard-from-results-btn','asc','</strong></p>','$$$1$','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','globalSettings','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','editable-text-','modal-close-btn','quiz-leaderboard-table-body','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','Error\x20processing\x20file\x20for\x20AI:','text-blue-700','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','#e21b3c','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','upper_group_count','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','clientX','per-q-countdown','\x22\x20เพื่อสร้างชุดคู่ขนาน...','undo-btn','earned-badges-container','cancel-quiz-status-btn','การประยุกต์เวกเตอร์พื้นฐาน','.topic-actions-edit','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','confirmation-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-results-view','delete','/questionBank','pinnedProjects','draggable-text','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','lowerGroupNames','text-yellow-800','\x22\x20data-pre-test-id=\x22','quiz-id-input','/public/data/quizzes/','toDataURL','-\x20ข้อ\x20','bg-gray-500','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','ย้ายแบบทดสอบสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','^{\x5ccirc}\x5ctext{C}$','แบบทดสอบซ่อมเสริม','submission-status-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','จำนวนและการดำเนินการ','input[type=\x22text\x22]','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','from','mouse','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','targetId','doughnut','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','Error\x20updating\x20old\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-600','ฟังก์ชันแบบชิ้นส่วน','ความเท่ากันทุกประการของสามเหลี่ยม','ai-quiz-app-aefee.firebaseapp.com','Error\x20generating\x20parallel\x20test\x20from\x20bank:','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.star-quiz-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','อนุพันธ์:\x20ผลคูณ/ผลหาร','$1^{\x5ccirc}\x5ctext{C}','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','ดีมาก','<span\x20title=\x22','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','tooltipTarget','ลำดับเลขคณิต\x20(AP)','analytics-summary-cards','label[for=\x22num-questions\x22]','results-display-select','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','timer-mode-select','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','webkitRequestFullscreen','.ai-fix-formula-btn','Error\x20opening\x20quiz\x20editor:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','questionDisplayedAt','.rename-quiz-btn','authed_project_','perQuestionStats','ระบบอสมการ','.move-quiz-btn','upperGroupResponders','option','back-to-project-btn','.sortable-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','AI\x20แก้ไขคำถามสำเร็จ!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','webkitExitFullscreen','/public/data/projects','result','Error\x20deleting\x20quiz:','includes','bulk-quiz-settings-modal','create-project-btn','student-result-area','latestSubmittedAt','empty','submit','lesson-plan-modal','link-topic-input','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','confirm-passcode-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','wakeLock','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','strength-weakness-analysis-container','\x22\x20data-name=\x22','toggle','s;\x22\x20title=\x22','live-game-view','export-compact-pdf-btn','หมดเวลา!\x20กำลังส่งคำตอบ...','คะแนนเฉลี่ย','</option>','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','pointerup','undefined','body','reference-pdf-upload','href','การลบทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','scratchpad-question','math-topics-checkbox-container','global-quiz-search-input','substring','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','quizType','/public/data/liveGames','isAdaptive','จำนวนคู่:','execCommand','badgesCount','setAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','key','editor-quiz-topic','smooth','open-global-live-btn','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','pairedQuizId','isPasscodeEnabled','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','starred-project','lowerGroupResponders','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','isRemedial','เส้นรอบรูป','resultsDisplay','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-quiz-edits-btn','ราชาคัมแบ็ก','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','student-progress-content','bg-purple-50','</li>','practiceProblems','category','exists','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','\x5cle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','title','อัตราและอัตราหน่วย','deselect-all-topics-btn','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','quiz-end-time','students','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','show-leaderboard-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','สมการค่าสัมบูรณ์','contentEditable','modal-loop-until-pass-checkbox','กำลังสร้างรูปภาพ...','-tab','bg-gray-50','กรุณาเลือกคำตอบก่อนครับ','behavior-log','\x20รายการ...','shuffleSetting','dragstart','cancel-passcode-btn','fas\x20fa-user-edit','dragover','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','.topic-name-display','.quiz-bank-settings-btn','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','แบบทดสอบ:\x20','export-tutor-pdf-btn','export-pdf-modal','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20name=\x22question','resize','num-choices','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','project-quizzes-list','position','เมทริกซ์:\x20บวก/คูณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','lastAnswerCorrect','Error\x20listening\x20for\x20starred\x20quizzes:','\x20ข้อ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-join-game-btn','(หลังเรียน)\x20','ลบโปรเจคสำเร็จแล้ว','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','summary_chart','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','standard','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','ผู้เชี่ยวชาญ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','totalQuestions','(ไม่มีชื่อ)','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','</div>\x0a</div>\x0a','matching_item','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','\x20\x20\x20-\x20คำตอบ:\x20','1:274192258111:web:4120c9118229b5644dd48a','\x22\x20data-topic=\x22','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','<p><strong>คำตอบของคุณ:</strong>\x20','password-error-msg','ยืนยันการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','progress-project-select','1073HIjcVW','คะแนนยังไม่ถึงครึ่ง','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','preScore','value','modal-timer-mode-select','innerText','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','reduce','ปริมาตรรูปทรงสามมิติ','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','requestFullscreen','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','modal-adaptive-quiz-checkbox','บันทึกแบบทดสอบสำเร็จแล้ว!','presentation-modal','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','มุมพิเศษ\x2030°-60°-90°','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20deleting\x20submission:','บันทึกการแก้ไข','00:00','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','bg-blue-100\x20text-blue-800','dashboardConfig','worksheet-topic-input','enable-passcode-checkbox','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','log','prod','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','กรุณาใส่ชื่อโปรเจค','ค่าเฉลี่ย','keys','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','pen-tool-btn','.quiz-status-btn','</td>','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','force-math-checkbox','idealAnswer','standardTopic','top','\x5cneq','stopPropagation','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','\x22\x20class=\x22delete-project-btn\x20'];_0x32a5=function(){return _0x423f54;};return _0x32a5();}async function gradeShortAnswer(_0x535250,_0x18ed8c){const _0x296c55=_0x2626e0,_0x4cf8cb=_0x18ed8c[_0x296c55(0x83a)];if(String(_0x535250)[_0x296c55(0x4ca)]()[_0x296c55(0x85a)]()===String(_0x4cf8cb)[_0x296c55(0x4ca)]()['toLowerCase']())return!![];if(compareNumericalAnswers(_0x535250,_0x4cf8cb))return!![];return console['log'](_0x296c55(0x23d)),await gradeShortAnswerWithAI(_0x535250,_0x4cf8cb);}async function revealAnswerForAdmin(_0x12c401,_0x36af66){const _0x309e83=_0x2626e0,_0x458ad5=doc(db,'artifacts/'+appId+_0x309e83(0x79d),currentLiveGameId);await updateDoc(_0x458ad5,{'questionStatus':_0x309e83(0x7f6)});}function showTop5LeaderboardView(_0x487712){const _0x478983=_0x2626e0,_0x4c28f4=Object['values'](_0x487712[_0x478983(0x476)]||{})[_0x478983(0x6c1)](_0x538172=>_0x538172[_0x478983(0x2fc)]===_0x478983(0x97f));_0x4c28f4[_0x478983(0x2f3)]((_0x3eaa7b,_0x6fae01)=>_0x6fae01[_0x478983(0x67b)]-_0x3eaa7b[_0x478983(0x67b)]);const _0x5c7426=_0x4c28f4[_0x478983(0x1a2)](0x0,0x5),_0x118673=_0x478983(0x785)+_0x5c7426[_0x478983(0x1e7)]((_0x4487bf,_0x466b2f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x466b2f+0x1)+'.\x20'+(_0x4487bf[_0x478983(0x5a3)]||Object[_0x478983(0x831)](_0x487712[_0x478983(0x476)])['find'](_0x1406fe=>_0x487712[_0x478983(0x476)][_0x1406fe]===_0x4487bf))+_0x478983(0x304)+_0x4487bf[_0x478983(0x67b)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x478983(0x3a2)]('')+_0x478983(0x8f9)+(_0x487712[_0x478983(0x989)]+0x1===currentQuizData[_0x478983(0x9a5)]['length']?_0x478983(0x267):'ข้อต่อไป')+_0x478983(0x616);liveGameView[_0x478983(0x9a4)]=_0x118673,document[_0x478983(0x87d)](_0x478983(0x617))[_0x478983(0x214)](_0x478983(0x421),async()=>{const _0x37d5e4=_0x478983,_0x17545c=doc(db,_0x37d5e4(0x495)+appId+_0x37d5e4(0x79d),currentLiveGameId),_0xc39b26=_0x487712[_0x37d5e4(0x989)]+0x1;if(_0xc39b26<currentQuizData['questions']['length']){const _0x59b91c={'currentQuestionIndex':_0xc39b26,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x37d5e4(0x587)};Object[_0x37d5e4(0x831)](_0x487712[_0x37d5e4(0x476)])[_0x37d5e4(0x2fb)](_0x3bc4ad=>{const _0x450024=_0x37d5e4;_0x59b91c[_0x450024(0x902)+_0x3bc4ad+'.answeredCurrentQuestion']=![];}),await updateDoc(_0x17545c,_0x59b91c);}else await updateDoc(_0x17545c,{'status':_0x37d5e4(0x341)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x5900cc=>{const _0x5245a4=_0x5e36;if(_0x5900cc){userId=_0x5900cc['uid'],userIdDisplay['textContent']=userId;const _0x3f5cec=await loadUserPreferences();_0x3f5cec[_0x5245a4(0x4cf)]&&(document[_0x5245a4(0x87d)](_0x5245a4(0x5f2))[_0x5245a4(0x810)]=_0x3f5cec[_0x5245a4(0x4cf)]);globalDashboardSettings[_0x5245a4(0x2fa)]=_0x3f5cec[_0x5245a4(0x2fa)]||_0x5245a4(0x599);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x53abb4,_0x5a71d9){const _0x3e3b76=_0x2626e0;if(!userId)return;try{const _0x4b7c29=doc(db,_0x3e3b76(0x495)+appId+'/users/'+userId+'/preferences/main'),_0x161bbc={};_0x161bbc[_0x53abb4]=_0x5a71d9,await setDoc(_0x4b7c29,_0x161bbc,{'merge':!![]});}catch(_0x128c56){console['error']('Error\x20saving\x20user\x20preference:',_0x128c56);}}async function loadUserPreferences(){const _0x3354a6=_0x2626e0;if(!userId)return{};try{const _0x9ca3a8=doc(db,'artifacts/'+appId+'/users/'+userId+'/preferences/main'),_0x578553=await getDoc(_0x9ca3a8);if(_0x578553[_0x3354a6(0x7c0)]())return _0x578553['data']();return{};}catch(_0x3648d4){return console[_0x3354a6(0x670)](_0x3354a6(0x9c6),_0x3648d4),{};}}function showPodiumView(_0x4f3249){const _0x55d2db=_0x2626e0,_0x5a0eec=Object[_0x55d2db(0x3ff)](_0x4f3249)[_0x55d2db(0x1e7)](([_0x6dea8b,_0x5db471])=>({'name':_0x6dea8b,'score':_0x5db471[_0x55d2db(0x67b)]||0x0,'badges':_0x5db471['badges']||[]}));_0x5a0eec[_0x55d2db(0x2f3)]((_0x5be0c1,_0x3c3bd4)=>{const _0x3d125f=_0x55d2db,_0x439a8f=_0x3c3bd4[_0x3d125f(0x67b)]-_0x5be0c1[_0x3d125f(0x67b)];if(_0x439a8f!==0x0)return _0x439a8f;return(_0x3c3bd4[_0x3d125f(0x2d0)]['length']||0x0)-(_0x5be0c1['badges'][_0x3d125f(0x97d)]||0x0);});const _0x3216fb=_0x21c0cb=>{const _0x305115=_0x55d2db;if(!_0x21c0cb||_0x21c0cb[_0x305115(0x97d)]===0x0)return'';const _0x3e6127={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x305115(0x806)+_0x21c0cb[_0x305115(0x1e7)](_0x51764f=>_0x3e6127[_0x51764f]||'')[_0x305115(0x3a2)]('')+_0x305115(0x622);},_0x443d05=_0x5a0eec['slice'](0x3),_0x5dc065=_0x443d05[_0x55d2db(0x97d)]>0x0?_0x55d2db(0x343)+_0x443d05[_0x55d2db(0x1e7)]((_0x449380,_0x3afc2b)=>_0x55d2db(0x739)+(_0x3afc2b+0x4)+_0x55d2db(0x7e3)+_0x449380[_0x55d2db(0x5a3)]+_0x55d2db(0x74f)+_0x449380[_0x55d2db(0x67b)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x55d2db(0x3a2)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0x4ea74b=_0x55d2db(0x723)+(_0x5a0eec[0x1]?_0x55d2db(0x219)+_0x5a0eec[0x1][_0x55d2db(0x5a3)]+_0x55d2db(0x90e)+_0x3216fb(_0x5a0eec[0x1][_0x55d2db(0x2d0)])+_0x55d2db(0x316)+_0x5a0eec[0x1][_0x55d2db(0x67b)]+_0x55d2db(0x47f):_0x55d2db(0x58b))+_0x55d2db(0x7b6)+(_0x5a0eec[0x0]?_0x55d2db(0x7cd)+_0x5a0eec[0x0][_0x55d2db(0x5a3)]+_0x55d2db(0x90e)+_0x3216fb(_0x5a0eec[0x0][_0x55d2db(0x2d0)])+_0x55d2db(0x6c6)+_0x5a0eec[0x0]['score']+_0x55d2db(0x73d):'<div\x20class=\x22flex-1\x22></div>')+_0x55d2db(0x7b6)+(_0x5a0eec[0x2]?_0x55d2db(0x760)+_0x5a0eec[0x2][_0x55d2db(0x5a3)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3216fb(_0x5a0eec[0x2][_0x55d2db(0x2d0)])+_0x55d2db(0x316)+_0x5a0eec[0x2][_0x55d2db(0x67b)]+_0x55d2db(0x409):_0x55d2db(0x58b))+_0x55d2db(0x981)+_0x5dc065+'\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x55d2db(0x4ec)?_0x55d2db(0x50d):_0x55d2db(0x734))+_0x55d2db(0x4bf);liveGameView[_0x55d2db(0x9a4)]=_0x4ea74b,currentMode===_0x55d2db(0x4ec)&&document[_0x55d2db(0x87d)]('close-game-final-btn')[_0x55d2db(0x214)](_0x55d2db(0x421),async()=>{const _0x38d7ed=_0x55d2db,_0x2334a6=doc(db,'artifacts/'+appId+_0x38d7ed(0x79d),currentLiveGameId);await deleteDoc(_0x2334a6),showView(_0x38d7ed(0x2a9));});}async function handleStartLiveRace(_0x44537b){const _0x2e8af6=_0x2626e0;let _0x276a48=allQuizzes[_0x2e8af6(0x645)](_0x2bf3c3=>_0x2bf3c3['id']===_0x44537b);if(!_0x276a48){const _0x272b01=doc(db,_0x2e8af6(0x495)+appId+_0x2e8af6(0x20c),_0x44537b),_0x2d4700=await getDoc(_0x272b01);if(!_0x2d4700[_0x2e8af6(0x7c0)]()){showMessage(_0x2e8af6(0x42a));return;}_0x276a48={'id':_0x2d4700['id'],..._0x2d4700['data']()};}const _0x2d1816=getShuffledQuiz(_0x276a48);currentQuizData=_0x2d1816;const _0x1e0869=_0x276a48['projectId']||currentProjectId||null,_0x4ff6a9=Math[_0x2e8af6(0x879)](0xa+Math[_0x2e8af6(0x52a)]()*0x5a)[_0x2e8af6(0x58f)]();currentLiveGamePin=_0x4ff6a9;try{const _0xb9c8e8=await addDoc(collection(db,_0x2e8af6(0x495)+appId+_0x2e8af6(0x79d)),{'quizId':_0x44537b,'projectId':_0x1e0869,'status':_0x2e8af6(0x93c),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x4ff6a9,'createdAt':serverTimestamp(),'shuffledQuiz':_0x2d1816});currentLiveGameId=_0xb9c8e8['id'],showAdminLobbyView(_0x4ff6a9,_0x276a48[_0x2e8af6(0x6b9)]),listenForLiveGameUpdates();}catch(_0x2bc7eb){console[_0x2e8af6(0x670)]('Error\x20starting\x20live\x20race:',_0x2bc7eb),showMessage(_0x2e8af6(0x55d));}}async function handleShowStudentRankings(){const _0x132707=_0x2626e0,_0x1c4fd6=document['querySelector'](_0x132707(0x482));_0x1c4fd6&&(_0x1c4fd6[_0x132707(0x9a4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x41e68e=document[_0x132707(0x33b)](_0x132707(0x25e));_0x41e68e&&(_0x41e68e[_0x132707(0x9a4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x892a29=document[_0x132707(0x87d)]('student-rankings-modal');_0x892a29[_0x132707(0x1a0)][_0x132707(0x594)]('hidden'),document['getElementById'](_0x132707(0x2fd))['onclick']=()=>_0x892a29[_0x132707(0x1a0)]['add'](_0x132707(0x250));const _0x574799=document[_0x132707(0x87d)](_0x132707(0x625)),_0x17b575=document['getElementById'](_0x132707(0x28b)),_0x356f0f=document[_0x132707(0x87d)](_0x132707(0x4ae)),_0x38c086=document[_0x132707(0x87d)]('student-project-leaderboard-content');_0x574799[_0x132707(0x8af)]=()=>{const _0x3240be=_0x132707;_0x574799[_0x3240be(0x1a0)]['add'](_0x3240be(0x97f)),_0x17b575[_0x3240be(0x1a0)][_0x3240be(0x594)](_0x3240be(0x97f)),_0x356f0f[_0x3240be(0x1a0)][_0x3240be(0x594)](_0x3240be(0x250)),_0x38c086[_0x3240be(0x1a0)][_0x3240be(0x368)](_0x3240be(0x250));},_0x17b575[_0x132707(0x8af)]=()=>{const _0x2363f5=_0x132707;_0x17b575[_0x2363f5(0x1a0)][_0x2363f5(0x368)](_0x2363f5(0x97f)),_0x574799[_0x2363f5(0x1a0)]['remove']('active'),_0x38c086[_0x2363f5(0x1a0)][_0x2363f5(0x594)](_0x2363f5(0x250)),_0x356f0f[_0x2363f5(0x1a0)][_0x2363f5(0x368)]('hidden');};try{const _0x485c97=collection(db,_0x132707(0x495)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x132707(0x386)),_0x6c1fef=await getDocs(_0x485c97),_0x557c42=_0x6c1fef[_0x132707(0x4f7)][_0x132707(0x1e7)](_0x1bb8e7=>_0x1bb8e7['data']());renderQuizLeaderboard(_0x557c42,currentQuizData,_0x132707(0x967));const _0x5bb349=collection(db,_0x132707(0x495)+appId+_0x132707(0x1b7)+currentQuizData[_0x132707(0x346)]+_0x132707(0x9cd)),_0x4c8444=await getDocs(_0x5bb349),_0x481d40=_0x4c8444[_0x132707(0x4f7)][_0x132707(0x1e7)](_0x120971=>_0x120971['data']());renderLeaderboard(_0x481d40,_0x132707(0x545));}catch(_0x44bb07){console[_0x132707(0x670)](_0x132707(0x2a1),_0x44bb07),showMessage(_0x132707(0x3fe));}}async function handleSaveToBank(_0xf64459){const _0x2b4c34=_0x2626e0,_0x55ef67=_0xf64459[_0x2b4c34(0x513)],_0x5d4a55=_0x55ef67[_0x2b4c34(0x2e0)][_0x2b4c34(0x3fa)],_0x5d2e08=currentQuizData[_0x2b4c34(0x9a5)][_0x5d4a55];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x211c09={..._0x5d2e08,'originalTopic':currentQuizData[_0x2b4c34(0x6b9)],'savedAt':serverTimestamp()},_0xb5e430=collection(db,'artifacts/'+appId+_0x2b4c34(0x2cf)+userId+_0x2b4c34(0x726));await addDoc(_0xb5e430,_0x211c09),showMessage(_0x2b4c34(0x199)),_0x55ef67['classList']['remove'](_0x2b4c34(0x37a)),_0x55ef67[_0x2b4c34(0x1a0)][_0x2b4c34(0x368)](_0x2b4c34(0x748)),_0x55ef67['disabled']=!![];}catch(_0x2fa30d){console[_0x2b4c34(0x670)](_0x2b4c34(0x4fb),_0x2fa30d),showMessage(_0x2b4c34(0x8f4));}}function listenForStarredQuizzes(){const _0xd02a9f=_0x2626e0;if(!userId)return;const _0x478e8b=collection(db,'artifacts/'+appId+_0xd02a9f(0x20c)),_0x4709aa=query(_0x478e8b,where(_0xd02a9f(0x8ae),'==',!![]));onSnapshot(_0x4709aa,_0x24346f=>{const _0x4a8fe4=_0xd02a9f;starredQuizzes=_0x24346f[_0x4a8fe4(0x4f7)][_0x4a8fe4(0x1e7)](_0x43f206=>({'id':_0x43f206['id'],..._0x43f206[_0x4a8fe4(0x26b)]()})),currentProjectId===_0x4a8fe4(0x375)?renderQuizzes():renderProjects();},_0x4df9ee=>{const _0x5151b9=_0xd02a9f;console[_0x5151b9(0x670)](_0x5151b9(0x7f0),_0x4df9ee);});}function exportQuizAsWorksheetPDF(){const _0x192f87=_0x2626e0;if(!currentQuizData||!currentQuizData[_0x192f87(0x9a5)]){showMessage(_0x192f87(0x837));return;}const _0x5a6b16=currentQuizData,_0x5287fb=window[_0x192f87(0x578)]('',_0x192f87(0x692)),_0x4c0665=_0x32e177=>String['fromCharCode'](0x41+_0x32e177),_0x310cf3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x5a6b16['topic']+_0x192f87(0x609)+_0x5a6b16[_0x192f87(0x6b9)]+_0x192f87(0x4fd)+_0x5a6b16[_0x192f87(0x9a5)][_0x192f87(0x1e7)]((_0x2d98ec,_0x2e6d17)=>{const _0x3ff382=_0x192f87;let _0x2d0424='';const _0x305e8c=_0x2d98ec['questionType']||_0x5a6b16[_0x3ff382(0x79c)];switch(_0x305e8c){case _0x3ff382(0x280):case'fill_in_with_choices':_0x2d0424=_0x3ff382(0x416)+_0x2d98ec[_0x3ff382(0x95b)]['map']((_0x1ce5f9,_0x2ab961)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4c0665(_0x2ab961)+'.\x20'+_0x1ce5f9+_0x3ff382(0x43f))[_0x3ff382(0x3a2)](_0x3ff382(0x8c7))+_0x3ff382(0x622);break;case _0x3ff382(0x1f9):_0x2d0424=_0x3ff382(0x5e3);break;default:_0x2d0424=_0x3ff382(0x88c);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x2e6d17+0x1)+_0x3ff382(0x60d)+(_0x2d98ec[_0x3ff382(0x883)]||_0x2d98ec[_0x3ff382(0x846)])+_0x3ff382(0x964)+(_0x2d98ec['imageCode']?_0x3ff382(0x538)+_0x2d98ec[_0x3ff382(0x3d2)]+_0x3ff382(0x622):'')+_0x3ff382(0x1f3)+_0x2d0424+_0x3ff382(0x246);})['join']('')+_0x192f87(0x41e);_0x5287fb[_0x192f87(0x6f9)][_0x192f87(0x969)](_0x310cf3),_0x5287fb[_0x192f87(0x6f9)][_0x192f87(0x8c8)](),_0x5287fb['onload']=function(){setTimeout(()=>{const _0x199f55=_0x5e36;_0x5287fb[_0x199f55(0x8e9)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x975272=_0x2626e0;if(!currentQuizData||!currentQuizData[_0x975272(0x9a5)]){showMessage(_0x975272(0x837));return;}const _0x4f19ad=currentQuizData,_0x5984bf=window[_0x975272(0x578)]('',_0x975272(0x692)),_0x9a963d=_0x3144bc=>String[_0x975272(0x6dc)](0x41+_0x3144bc),_0xcf1461=_0x975272(0x23e)+_0x4f19ad['topic']+_0x975272(0x929)+_0x4f19ad[_0x975272(0x9a5)][_0x975272(0x1e7)]((_0x4de84c,_0x2aefa0)=>{const _0xadde16=_0x975272;let _0xd3d2c4='';const _0x1d3206=_0x4de84c[_0xadde16(0x19e)]||_0x4f19ad[_0xadde16(0x79c)];switch(_0x1d3206){case _0xadde16(0x280):case _0xadde16(0x4c9):_0xd3d2c4='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x4de84c[_0xadde16(0x95b)][_0xadde16(0x1e7)]((_0x527789,_0xf08373)=>_0xadde16(0x8e5)+_0x9a963d(_0xf08373)+'.\x20'+_0x527789+'</span>')[_0xadde16(0x3a2)](_0xadde16(0x8c7))+_0xadde16(0x7a3);break;case _0xadde16(0x1f9):_0xd3d2c4=_0xadde16(0x615);break;default:_0xd3d2c4='';break;}return _0xadde16(0x579)+_0x4f19ad[_0xadde16(0x6b9)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>'+(_0x2aefa0+0x1)+_0xadde16(0x456)+(_0x4de84c[_0xadde16(0x883)]||_0x4de84c[_0xadde16(0x846)])+_0xadde16(0x964)+(_0x4de84c[_0xadde16(0x3d2)]?_0xadde16(0x899)+_0x4de84c[_0xadde16(0x3d2)]+_0xadde16(0x622):'')+_0xadde16(0x1f3)+_0xd3d2c4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x5984bf[_0x975272(0x6f9)][_0x975272(0x969)](_0xcf1461),_0x5984bf[_0x975272(0x6f9)][_0x975272(0x8c8)](),_0x5984bf[_0x975272(0x528)]=function(){setTimeout(()=>{const _0x1a2b20=_0x5e36;_0x5984bf[_0x1a2b20(0x8e9)]();},0x5dc);};}async function handleToggleStarQuiz(_0x4e91bd){const _0x2abd10=_0x2626e0,_0x6b22ec=doc(db,'artifacts/'+appId+_0x2abd10(0x20c),_0x4e91bd);try{const _0x15eec0=await getDoc(_0x6b22ec);if(_0x15eec0[_0x2abd10(0x7c0)]()){const _0x22ba04=_0x15eec0[_0x2abd10(0x26b)]()[_0x2abd10(0x8ae)]||![];await updateDoc(_0x6b22ec,{'isStarred':!_0x22ba04});}}catch(_0x230447){console['error'](_0x2abd10(0x350),_0x230447),showMessage(_0x2abd10(0x3fd));}}async function displayQuestionBank(){const _0x5a7fbd=_0x2626e0,_0x5b736c=document['getElementById'](_0x5a7fbd(0x6e8));_0x5b736c[_0x5a7fbd(0x9a4)]=_0x5a7fbd(0x86e);try{const _0x1ecef3=collection(db,'artifacts/'+appId+'/users/'+userId+'/questionBank'),_0x4c749b=query(_0x1ecef3),_0xd84d34=await getDocs(_0x4c749b);if(_0xd84d34[_0x5a7fbd(0x77c)]){_0x5b736c[_0x5a7fbd(0x9a4)]=_0x5a7fbd(0x2e6);return;}let _0x57f1a8=_0xd84d34[_0x5a7fbd(0x4f7)][_0x5a7fbd(0x1e7)](_0x2e977c=>{const _0x120949=_0x5a7fbd,_0x3685c1=_0x2e977c[_0x120949(0x26b)](),_0x4986f3=_0x2e977c['id'];return _0x120949(0x2ce)+JSON[_0x120949(0x6d8)](_0x3685c1)+_0x120949(0x9a6)+(_0x3685c1['questionText']||_0x3685c1[_0x120949(0x883)])+_0x120949(0x90c)+_0x3685c1[_0x120949(0x67c)]+_0x120949(0x3d4);})['join']('');_0x5b736c[_0x5a7fbd(0x9a4)]=_0x5a7fbd(0x3bb)+_0x57f1a8+_0x5a7fbd(0x3b4),document[_0x5a7fbd(0x87d)](_0x5a7fbd(0x997))[_0x5a7fbd(0x214)](_0x5a7fbd(0x421),createQuizFromBank);}catch(_0x131f43){console[_0x5a7fbd(0x670)](_0x5a7fbd(0x31b),_0x131f43),_0x5b736c[_0x5a7fbd(0x9a4)]=_0x5a7fbd(0x226);}}function showAdminLiveQuestionView(_0x58a71e,_0x2b43b4,_0x5db29d){const _0x28ac84=_0x2626e0,_0x303943=_0x58a71e[_0x28ac84(0x19e)]||currentQuizData[_0x28ac84(0x79c)];let _0x151f0b='';if(_0x303943===_0x28ac84(0x280)||_0x303943==='true_false'){const _0x288587=_0x303943===_0x28ac84(0x1f9)?[_0x28ac84(0x2e4),_0x28ac84(0x5eb)]:_0x58a71e[_0x28ac84(0x95b)],_0x1b5f77=_0x303943===_0x28ac84(0x1f9)?_0x58a71e['correctAnswer']?0x0:0x1:_0x58a71e[_0x28ac84(0x550)];_0x151f0b=_0x288587[_0x28ac84(0x1e7)]((_0x10816a,_0x10cebc)=>_0x28ac84(0x1d7)+(_0x10cebc===_0x1b5f77)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10816a+_0x28ac84(0x669))['join']('');}else{if(_0x303943===_0x28ac84(0x801)){const _0xdbb148=_0x58a71e[_0x28ac84(0x8c6)]||[];_0x151f0b=_0xdbb148[_0x28ac84(0x1e7)](_0x231008=>_0x28ac84(0x1d7)+(_0x231008===_0x58a71e[_0x28ac84(0x3df)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x231008+_0x28ac84(0x669))['join']('');}}const _0x3e8497=_0x58a71e[_0x28ac84(0x883)]||_0x58a71e['questionText'],_0x55be0c=_0x28ac84(0x520)+(_0x2b43b4+0x1)+_0x28ac84(0x576)+_0x5db29d+_0x28ac84(0x4e8)+currentLiveGamePin+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x3e8497+_0x28ac84(0x21e)+_0x151f0b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x28ac84(0x9a4)]=_0x55be0c,window[_0x28ac84(0x9c4)]&&MathJax[_0x28ac84(0x4af)]&&MathJax[_0x28ac84(0x4af)]([liveGameView]),document[_0x28ac84(0x87d)](_0x28ac84(0x398))['addEventListener'](_0x28ac84(0x421),()=>revealAnswerForAdmin(_0x2b43b4,_0x5db29d)),document[_0x28ac84(0x87d)](_0x28ac84(0x4ad))[_0x28ac84(0x214)](_0x28ac84(0x421),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x169433=_0x5e36,_0x2bcc34=doc(db,'artifacts/'+appId+_0x169433(0x79d),currentLiveGameId);await updateDoc(_0x2bcc34,{'status':_0x169433(0x341)});});}),document['getElementById'](_0x28ac84(0x5e1))[_0x28ac84(0x214)]('click',()=>{const _0x55f829=_0x28ac84;document[_0x55f829(0x87d)]('live-player-management')[_0x55f829(0x1a0)][_0x55f829(0x788)](_0x55f829(0x250));});}function showStudentLiveQuestionView(_0x4951e0,_0x5f5dc0,_0x10572d){const _0x5bb023=_0x2626e0,_0x8c3298=_0x4951e0[_0x5bb023(0x19e)]||currentQuizData['quizType'];let _0x4b7e6b='';if(_0x8c3298===_0x5bb023(0x280)||_0x8c3298==='true_false'){const _0x148970=_0x8c3298===_0x5bb023(0x1f9)?[_0x5bb023(0x2e4),_0x5bb023(0x5eb)]:_0x4951e0[_0x5bb023(0x95b)];_0x4b7e6b=_0x148970[_0x5bb023(0x1e7)]((_0x5f59fd,_0x5df98a)=>_0x5bb023(0x735)+_0x5df98a+_0x5bb023(0x40e)+_0x5f59fd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5bb023(0x3a2)]('');}else{if(_0x8c3298==='matching_item'){const _0x1b535c=_0x4951e0[_0x5bb023(0x8c6)]||[];_0x4b7e6b=_0x1b535c[_0x5bb023(0x1e7)]((_0x80389e,_0x25257f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x25257f+_0x5bb023(0x40e)+_0x80389e+_0x5bb023(0x8a3))['join']('');}else _0x8c3298==='short_answer'&&(_0x4b7e6b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x4a327f=_0x4951e0[_0x5bb023(0x883)]||_0x4951e0['questionText'],_0x198ee6=_0x5bb023(0x4d0)+(_0x5f5dc0+0x1)+_0x5bb023(0x576)+_0x10572d+_0x5bb023(0x6c0)+_0x4a327f+_0x5bb023(0x50a)+_0x4b7e6b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x5bb023(0x9a4)]=_0x198ee6;window[_0x5bb023(0x9c4)]&&MathJax[_0x5bb023(0x4af)]&&MathJax[_0x5bb023(0x4af)]([liveGameView]);const _0x3511f8=document[_0x5bb023(0x87d)](_0x5bb023(0x979));_0x3511f8&&_0x3511f8[_0x5bb023(0x214)]('click',()=>{const _0x1a7ebb=_0x5bb023,_0x3cec8b=document['getElementById'](_0x1a7ebb(0x8f3))[_0x1a7ebb(0x810)];handleLiveAnswer(_0x3cec8b,_0x4951e0);}),document[_0x5bb023(0x87d)](_0x5bb023(0x975))[_0x5bb023(0x214)](_0x5bb023(0x421),_0x396eca=>{const _0x582e4d=_0x5bb023,_0x519a2b=_0x396eca[_0x582e4d(0x9cf)][_0x582e4d(0x29d)](_0x582e4d(0x628));if(_0x519a2b){const _0x778455=parseInt(_0x519a2b[_0x582e4d(0x2e0)][_0x582e4d(0x3fa)]);handleLiveAnswer(_0x778455,_0x4951e0);}});}async function handleLiveAnswer(_0x641c97,_0x3fe8bf){const _0x4b9de0=_0x2626e0;document[_0x4b9de0(0x4fa)]('.live-answer-btn,\x20#live-submit-short-answer-btn')['forEach'](_0x2be23d=>_0x2be23d[_0x4b9de0(0x500)]=!![]);const _0x41a996=_0x3fe8bf[_0x4b9de0(0x19e)]||currentQuizData['quizType'];let _0x41fda4=![],_0x1e2aa8=_0x641c97;if(_0x41a996===_0x4b9de0(0x3fb)){const _0xf15126=(_0x641c97||'')[_0x4b9de0(0x58f)]();_0x41fda4=await gradeShortAnswer(_0xf15126,_0x3fe8bf);}else{if(_0x41a996===_0x4b9de0(0x280))_0x41fda4=_0x641c97===_0x3fe8bf[_0x4b9de0(0x550)];else{if(_0x41a996===_0x4b9de0(0x1f9)){const _0xca1734=_0x3fe8bf[_0x4b9de0(0x312)];_0x41fda4=_0x641c97===0x0&&_0xca1734||_0x641c97===0x1&&!_0xca1734;}else{if(_0x41a996===_0x4b9de0(0x801)){const _0x1cc2ed=_0x3fe8bf[_0x4b9de0(0x8c6)][_0x641c97];_0x41fda4=_0x1cc2ed===_0x3fe8bf[_0x4b9de0(0x3df)],_0x1e2aa8=_0x1cc2ed;}}}}const _0x288c68=doc(db,_0x4b9de0(0x495)+appId+_0x4b9de0(0x79d),currentLiveGameId),_0x19db3b={};_0x19db3b[_0x4b9de0(0x902)+currentStudentName+_0x4b9de0(0x4b6)]=!![],_0x19db3b[_0x4b9de0(0x902)+currentStudentName+_0x4b9de0(0x244)]=_0x41fda4,_0x19db3b[_0x4b9de0(0x902)+currentStudentName+'.lastAnswerIndex']=_0x41a996===_0x4b9de0(0x3fb)||_0x41a996===_0x4b9de0(0x801)?null:_0x641c97,_0x19db3b[_0x4b9de0(0x902)+currentStudentName+_0x4b9de0(0x1dc)]=_0x1e2aa8,_0x19db3b['players.'+currentStudentName+_0x4b9de0(0x364)]=serverTimestamp(),_0x19db3b['players.'+currentStudentName+_0x4b9de0(0x666)]=![],await updateDoc(_0x288c68,_0x19db3b),liveGameView[_0x4b9de0(0x9a4)]=_0x4b9de0(0x3a3);}function showAdminSummaryView(_0x57042a,_0x51bbd7){const _0x415d75=_0x2626e0,_0x14c6b8=Object['values'](_0x57042a['players']||{}),_0x4521f0=_0x51bbd7[_0x415d75(0x19e)]||currentQuizData['quizType'],_0x482b9f=_0x4521f0==='true_false'?[_0x415d75(0x2e4),_0x415d75(0x5eb)]:_0x51bbd7['options']||_0x51bbd7[_0x415d75(0x8c6)]||[],_0x3ab44c={},_0x5c67db=new Array(_0x482b9f[_0x415d75(0x97d)])[_0x415d75(0x471)](0x0);_0x482b9f[_0x415d75(0x2fb)]((_0x275d45,_0x4c48a0)=>{_0x3ab44c[_0x4c48a0]=[];}),Object[_0x415d75(0x3ff)](_0x57042a[_0x415d75(0x476)]||{})['forEach'](([_0x3298ef,_0x5cd078])=>{const _0x188466=_0x415d75;if(_0x5cd078[_0x188466(0x2fc)]==='active'&&_0x5cd078['lastAnswerIndex']!==undefined){const _0x4e28bd=_0x5cd078[_0x188466(0x6ba)];_0x3ab44c[_0x4e28bd]&&(_0x3ab44c[_0x4e28bd][_0x188466(0x4c7)](_0x3298ef),_0x5c67db[_0x4e28bd]++);}});const _0x5cc309=Math[_0x415d75(0x339)](..._0x5c67db,0x1),_0xd616d=_0x415d75(0x965)+(_0x51bbd7['stem']||_0x51bbd7[_0x415d75(0x846)])+_0x415d75(0x30a)+_0x5c67db['map']((_0x470bf0,_0x506d5b)=>{const _0x204698=_0x415d75,_0xe9dca9=_0x3ab44c[_0x506d5b][_0x204698(0x97d)]>0x0?_0x3ab44c[_0x506d5b]['join'](',\x20'):_0x204698(0x651);let _0x14fdf=![];if(_0x4521f0==='multiple_choice')_0x14fdf=_0x506d5b===_0x51bbd7[_0x204698(0x550)];else{if(_0x4521f0==='true_false'){const _0x180d5b=_0x51bbd7[_0x204698(0x312)];_0x14fdf=_0x180d5b&&_0x506d5b===0x0||!_0x180d5b&&_0x506d5b===0x1;}else _0x4521f0==='matching_item'&&(_0x14fdf=_0x482b9f[_0x506d5b]===_0x51bbd7[_0x204698(0x3df)]);}const _0x50d6a6=_0x14fdf?_0x204698(0x586):_0x204698(0x714);return _0x204698(0x8cc)+_0x470bf0+_0x204698(0x1db)+_0x50d6a6+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x506d5b+_0x204698(0x65b)+_0x482b9f[_0x506d5b]+_0x204698(0x348)+_0x506d5b+_0x204698(0x884)+_0xe9dca9+_0x204698(0x232);})[_0x415d75(0x3a2)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0xd616d;if(window[_0x415d75(0x9c4)])MathJax['typesetPromise']();document[_0x415d75(0x87d)](_0x415d75(0x7cc))[_0x415d75(0x214)](_0x415d75(0x421),async()=>{const _0x1ec361=_0x415d75,_0xde5f7c=doc(db,'artifacts/'+appId+_0x1ec361(0x79d),currentLiveGameId);await updateDoc(_0xde5f7c,{'questionStatus':_0x1ec361(0x5f0)});}),document[_0x415d75(0x87d)](_0x415d75(0x618))[_0x415d75(0x214)](_0x415d75(0x421),()=>{openScratchpad(_0x51bbd7,_0x482b9f);});}function showPlayerSummaryView(_0x3702df,_0x2f0773){const _0x238ad0=_0x2626e0,_0xf8b3d=Object['values'](_0x3702df[_0x238ad0(0x476)]||{}),_0x16a9b3=_0x3702df[_0x238ad0(0x476)][_0x2f0773],_0x51eb5e=_0xf8b3d[_0x238ad0(0x6c1)](_0x27f999=>_0x27f999[_0x238ad0(0x2fc)]===_0x238ad0(0x97f))['sort']((_0x53132a,_0x4c2f0b)=>_0x4c2f0b[_0x238ad0(0x67b)]-_0x53132a[_0x238ad0(0x67b)]),_0xc5be2d=_0x51eb5e['findIndex'](_0x101e6f=>_0x101e6f===_0x16a9b3)+0x1,_0x59162e=_0x16a9b3['lastAnswerCorrect']?_0x238ad0(0x956):_0x238ad0(0x208),_0x555503=_0x16a9b3[_0x238ad0(0x7ef)]?_0x238ad0(0x3d8):_0x238ad0(0x849),_0x38291f=_0x16a9b3[_0x238ad0(0x27b)]||0x0,_0x4cf320='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x3370aa=_0x238ad0(0x3c7)+_0x4cf320+_0x238ad0(0x7b1)+_0x555503+_0x238ad0(0x7f5)+_0x59162e+_0x238ad0(0x703)+_0x38291f+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>'+(_0xc5be2d>0x0?_0xc5be2d:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x238ad0(0x9a4)]=_0x3370aa;}function createQuizFromBank(){const _0x1b0add=_0x2626e0,_0x47620a=document[_0x1b0add(0x4fa)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x47620a[_0x1b0add(0x97d)]===0x0){showMessage(_0x1b0add(0x962));return;}const _0x4a9293=[];_0x47620a[_0x1b0add(0x2fb)](_0x2c18e0=>{const _0x11eb0d=_0x1b0add;_0x4a9293[_0x11eb0d(0x4c7)](JSON[_0x11eb0d(0x418)](_0x2c18e0[_0x11eb0d(0x810)]));});const _0x48feac={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x4a9293};displayGeneratedQuiz(_0x48feac);}function showAdminLobbyView(_0x30ad54,_0x14c296){const _0x589792=_0x2626e0;showView('live-game');const _0xf53d5a=_0x589792(0x352)+_0x14c296+_0x589792(0x1a5)+_0x30ad54+_0x589792(0x383);liveGameView[_0x589792(0x9a4)]=_0xf53d5a,document['getElementById'](_0x589792(0x99b))[_0x589792(0x214)](_0x589792(0x421),async()=>{const _0xe05505=_0x589792;if(!currentQuizData||!currentQuizData[_0xe05505(0x9a5)]||currentQuizData[_0xe05505(0x9a5)][_0xe05505(0x97d)]===0x0){showMessage(_0xe05505(0x915));return;}try{const _0x1cab37=doc(db,_0xe05505(0x495)+appId+_0xe05505(0x79d),currentLiveGameId);await updateDoc(_0x1cab37,{'status':_0xe05505(0x67d),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x5dde4c=currentQuizData[_0xe05505(0x9a5)][0x0],_0x1db701=currentQuizData[_0xe05505(0x9a5)][_0xe05505(0x97d)];showAdminLiveQuestionView(_0x5dde4c,0x0,_0x1db701);}catch(_0x2dbd1d){console[_0xe05505(0x670)](_0xe05505(0x218),_0x2dbd1d),showMessage(_0xe05505(0x57b));}});}async function openGlobalLiveModal(){const _0x54fece=_0x2626e0;if(allQuizzesGlobal[_0x54fece(0x97d)]===0x0){const _0xcd263a=await getDocs(collection(db,_0x54fece(0x495)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0xcd263a['docs'][_0x54fece(0x1e7)](_0x433c4d=>({'id':_0x433c4d['id'],..._0x433c4d[_0x54fece(0x26b)]()}));}renderGlobalQuizList(''),document[_0x54fece(0x87d)](_0x54fece(0x2b6))[_0x54fece(0x1a0)][_0x54fece(0x594)]('hidden');}async function openQuizBankModal(){const _0x47fbf1=_0x2626e0;if(allQuizzesGlobal['length']===0x0){const _0x29ab11=await getDocs(collection(db,_0x47fbf1(0x495)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x29ab11['docs']['map'](_0x1d7f73=>({'id':_0x1d7f73['id'],..._0x1d7f73['data']()}));}renderQuizBankList(''),document[_0x47fbf1(0x87d)](_0x47fbf1(0x6c9))[_0x47fbf1(0x1a0)]['remove'](_0x47fbf1(0x250));}function renderQuizBankList(_0x101329=''){const _0x534b1b=_0x2626e0,_0x4cea7d=document[_0x534b1b(0x87d)]('bank-quiz-list'),_0x53e16a=_0x101329[_0x534b1b(0x85a)]()['trim'](),_0xb6df7d=allQuizzesGlobal[_0x534b1b(0x1e7)](_0x116fa1=>({..._0x116fa1,'projectName':allProjects['find'](_0x16bf9f=>_0x16bf9f['id']===_0x116fa1[_0x534b1b(0x346)])?.[_0x534b1b(0x560)]||_0x534b1b(0x9d0)}))['filter'](_0x520386=>(_0x520386[_0x534b1b(0x6b9)]||'')[_0x534b1b(0x85a)]()[_0x534b1b(0x777)](_0x53e16a)||(_0x520386['projectName']||'')[_0x534b1b(0x85a)]()[_0x534b1b(0x777)](_0x53e16a)||_0x520386['id']['toString']()[_0x534b1b(0x777)](_0x53e16a));document[_0x534b1b(0x87d)](_0x534b1b(0x27e))[_0x534b1b(0x573)]='('+_0xb6df7d[_0x534b1b(0x97d)]+_0x534b1b(0x5d6),_0x4cea7d[_0x534b1b(0x9a4)]=_0xb6df7d[_0x534b1b(0x97d)]?_0xb6df7d[_0x534b1b(0x1e7)](_0x4bcfbc=>_0x534b1b(0x88d)+_0x4bcfbc['id']+_0x534b1b(0x7c7)+(_0x4bcfbc[_0x534b1b(0x6b9)]||_0x534b1b(0x7fd))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x4bcfbc[_0x534b1b(0x9a5)]?.[_0x534b1b(0x97d)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x4bcfbc[_0x534b1b(0x560)]+_0x534b1b(0x744)+_0x4bcfbc['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4bcfbc['id']+_0x534b1b(0x755)+_0x4bcfbc['id']+_0x534b1b(0x1e2)+_0x4bcfbc['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4bcfbc['id']+_0x534b1b(0x861)+_0x4bcfbc['id']+_0x534b1b(0x335)+_0x4bcfbc['id']+_0x534b1b(0x805)+_0x4bcfbc[_0x534b1b(0x6b9)]+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x534b1b(0x3a2)](''):_0x534b1b(0x3b2),_0x4cea7d[_0x534b1b(0x4fa)](_0x534b1b(0x380))[_0x534b1b(0x2fb)](_0x364718=>{_0x364718['addEventListener']('click',()=>{const _0x2b2f9b=_0x5e36,_0x8811ee=_0x364718['dataset']['id'];document['getElementById'](_0x2b2f9b(0x6c9))[_0x2b2f9b(0x1a0)]['add'](_0x2b2f9b(0x250)),showQuizDetailView(_0x8811ee);});}),_0x4cea7d['querySelectorAll'](_0x534b1b(0x2bd))[_0x534b1b(0x2fb)](_0xe0014e=>{const _0x4c98c8=_0x534b1b;_0xe0014e[_0x4c98c8(0x214)](_0x4c98c8(0x421),_0x4d8d5f=>{const _0x3fe037=_0x4c98c8;_0x4d8d5f[_0x3fe037(0x83e)]();const _0x60929d=_0xe0014e['dataset']['id'],_0x454535=allQuizzesGlobal[_0x3fe037(0x645)](_0x219f7f=>_0x219f7f['id']===_0x60929d);_0x454535?(currentQuizData=_0x454535,document[_0x3fe037(0x87d)](_0x3fe037(0x6c9))[_0x3fe037(0x1a0)][_0x3fe037(0x368)](_0x3fe037(0x250)),startAdminTest()):showMessage(_0x3fe037(0x42a));});}),_0x4cea7d['querySelectorAll'](_0x534b1b(0x2dc))[_0x534b1b(0x2fb)](_0x55e083=>{const _0x263b9f=_0x534b1b;_0x55e083['addEventListener'](_0x263b9f(0x421),_0x590da6=>{const _0x569a7c=_0x263b9f;_0x590da6[_0x569a7c(0x83e)]();const _0x39faa3=_0x55e083['dataset']['id'],_0x4e400a=allQuizzesGlobal[_0x569a7c(0x645)](_0x353c50=>_0x353c50['id']===_0x39faa3);_0x4e400a?(document[_0x569a7c(0x87d)](_0x569a7c(0x6c9))[_0x569a7c(0x1a0)][_0x569a7c(0x368)]('hidden'),handleGenerateParallelFromBank(_0x4e400a)):showMessage(_0x569a7c(0x42a));});}),_0x4cea7d['querySelectorAll']('.quiz-bank-present-btn')[_0x534b1b(0x2fb)](_0x53c5cf=>{const _0x57fa0f=_0x534b1b;_0x53c5cf[_0x57fa0f(0x214)](_0x57fa0f(0x421),_0x395d0e=>{const _0x4ce5d7=_0x57fa0f;_0x395d0e[_0x4ce5d7(0x83e)]();const _0xcc40b9=_0x53c5cf['dataset']['id'],_0x4f6002=allQuizzesGlobal['find'](_0x1d687e=>_0x1d687e['id']===_0xcc40b9);_0x4f6002?(document[_0x4ce5d7(0x87d)]('quiz-bank-modal')[_0x4ce5d7(0x1a0)]['add'](_0x4ce5d7(0x250)),startPresentation(_0x4f6002)):showMessage(_0x4ce5d7(0x42a));});}),_0x4cea7d['querySelectorAll'](_0x534b1b(0x85f))['forEach'](_0x3fa106=>{const _0x5ef100=_0x534b1b;_0x3fa106['addEventListener'](_0x5ef100(0x421),_0xf0bbf6=>{const _0x1d79df=_0x5ef100;_0xf0bbf6[_0x1d79df(0x83e)]();const _0x47f7af=_0x3fa106[_0x1d79df(0x2e0)]['id'];document['getElementById']('quiz-bank-modal')[_0x1d79df(0x1a0)][_0x1d79df(0x368)]('hidden'),handleMoveQuiz(_0x47f7af);});}),_0x4cea7d[_0x534b1b(0x4fa)](_0x534b1b(0x7de))['forEach'](_0x49aefa=>{const _0xeac8f=_0x534b1b;_0x49aefa[_0xeac8f(0x214)](_0xeac8f(0x421),_0x49bbf0=>{const _0x296fd3=_0xeac8f;_0x49bbf0[_0x296fd3(0x83e)]();const _0x370771=_0x49aefa['dataset']['id'];document['getElementById']('quiz-bank-modal')[_0x296fd3(0x1a0)]['add']('hidden'),handleQuizSettings(_0x370771);});}),_0x4cea7d[_0x534b1b(0x4fa)](_0x534b1b(0x5a1))[_0x534b1b(0x2fb)](_0x396666=>{const _0x74f8f3=_0x534b1b;_0x396666[_0x74f8f3(0x214)](_0x74f8f3(0x421),_0x7af8d2=>{const _0x3089e3=_0x74f8f3;_0x7af8d2[_0x3089e3(0x83e)]();const _0x286ddd=_0x396666[_0x3089e3(0x2e0)]['id'],_0x5584e6=_0x396666[_0x3089e3(0x2e0)]['topic'];showConfirmation(_0x3089e3(0x720)+_0x5584e6+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0x286ddd));});});}async function handleCompareResults(_0xbc532d,_0x3d92c1){const _0x4f2844=_0x2626e0,_0x29458e=document[_0x4f2844(0x87d)]('comparison-modal'),_0x118dfc=document[_0x4f2844(0x87d)](_0x4f2844(0x570)),_0x31fa86=document[_0x4f2844(0x87d)](_0x4f2844(0x234));document[_0x4f2844(0x87d)](_0x4f2844(0x42e))['classList'][_0x4f2844(0x368)](_0x4f2844(0x97f)),document[_0x4f2844(0x87d)](_0x4f2844(0x39e))[_0x4f2844(0x1a0)]['remove'](_0x4f2844(0x97f)),_0x118dfc[_0x4f2844(0x1a0)]['remove']('hidden'),_0x31fa86[_0x4f2844(0x1a0)][_0x4f2844(0x368)](_0x4f2844(0x250)),_0x118dfc['innerHTML']=_0x4f2844(0x86e),_0x31fa86[_0x4f2844(0x9a4)]='',_0x29458e[_0x4f2844(0x1a0)][_0x4f2844(0x594)](_0x4f2844(0x250));try{const _0x4d47f6=doc(db,_0x4f2844(0x495)+appId+_0x4f2844(0x20c),_0xbc532d),_0x4ef815=await getDoc(_0x4d47f6);if(!_0x4ef815[_0x4f2844(0x7c0)]())throw new Error(_0x4f2844(0x8b8));const _0x250e9f=_0x4ef815[_0x4f2844(0x26b)](),_0x1035df=_0x250e9f[_0x4f2844(0x9a5)][_0x4f2844(0x97d)],_0xba636f=collection(db,_0x4f2844(0x495)+appId+_0x4f2844(0x72e)+_0x3d92c1+_0x4f2844(0x386)),_0x26642b=collection(db,_0x4f2844(0x495)+appId+_0x4f2844(0x72e)+_0xbc532d+_0x4f2844(0x386)),[_0xbf5d22,_0x4afe95]=await Promise[_0x4f2844(0x866)]([getDocs(_0xba636f),getDocs(_0x26642b)]),_0xc92bc9=_0xbf5d22['docs'][_0x4f2844(0x1e7)](_0x19b72a=>_0x19b72a[_0x4f2844(0x26b)]()),_0x590fab=_0x4afe95['docs'][_0x4f2844(0x1e7)](_0x1fe6dc=>_0x1fe6dc[_0x4f2844(0x26b)]()),_0x4ced1e=_0xc92bc9[_0x4f2844(0x1e7)](_0x30d7cd=>_0x30d7cd[_0x4f2844(0x23a)]),_0xd48e1b=_0x590fab[_0x4f2844(0x1e7)](_0x497793=>_0x497793[_0x4f2844(0x23a)]),_0x2f5f74=calculateMeanAndStdDev(_0x4ced1e),_0x193664=calculateMeanAndStdDev(_0xd48e1b),_0x1339d1=_0x2f5f74[_0x4f2844(0x874)],_0x3feb00=_0x193664[_0x4f2844(0x874)],_0x5b29af=_0x3feb00-_0x1339d1;let _0x141f2e=_0x4f2844(0x9ad)+_0x1339d1[_0x4f2844(0x2b4)](0x2)+_0x4f2844(0x2a8)+_0x3feb00[_0x4f2844(0x2b4)](0x2)+_0x4f2844(0x674)+(_0x5b29af>=0x0?_0x4f2844(0x5e2):_0x4f2844(0x225))+_0x4f2844(0x28e)+(_0x5b29af>=0x0?_0x4f2844(0x6df):'text-red-800')+_0x4f2844(0x875)+(_0x5b29af>=0x0?_0x4f2844(0x980):_0x4f2844(0x19a))+'\x22>'+(_0x5b29af>=0x0?'+':'')+_0x5b29af['toFixed'](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x118dfc[_0x4f2844(0x9a4)]=_0x141f2e;const _0x2f2f3f=document[_0x4f2844(0x87d)](_0x4f2844(0x53d))['getContext']('2d');if(chartInstances[_0x4f2844(0x939)])chartInstances[_0x4f2844(0x939)][_0x4f2844(0x306)]();chartInstances['comparison']=new Chart(_0x2f2f3f,{'type':_0x4f2844(0x4f2),'data':{'labels':[_0x4f2844(0x78d)],'datasets':[{'label':_0x4f2844(0x68d),'data':[_0x1339d1],'backgroundColor':_0x4f2844(0x34c)},{'label':'หลังเรียน','data':[_0x3feb00],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x1035df}}}});const _0x30db3d=currentProjectData[_0x4f2844(0x7ca)]||[],_0x3d6b2e=_0x30db3d[_0x4f2844(0x1e7)](_0x2c6241=>{const _0x517da8=_0x4f2844,_0x2ed309=_0xc92bc9[_0x517da8(0x645)](_0x17b2a2=>_0x17b2a2[_0x517da8(0x49f)]===_0x2c6241),_0x286810=_0x590fab['find'](_0x2cc9d8=>_0x2cc9d8['studentName']===_0x2c6241),_0x52550b=_0x2ed309?_0x2ed309[_0x517da8(0x23a)]:null,_0x3a887f=_0x286810?_0x286810[_0x517da8(0x23a)]:null,_0x2b08fa=_0x52550b!==null&&_0x3a887f!==null?_0x3a887f-_0x52550b:null,_0x246040=_0x52550b!==null?calculateZScore(_0x52550b,_0x2f5f74[_0x517da8(0x874)],_0x2f5f74[_0x517da8(0x4b8)]):null,_0x3984ea=_0x3a887f!==null?calculateZScore(_0x3a887f,_0x193664[_0x517da8(0x874)],_0x193664[_0x517da8(0x4b8)]):null,_0x531a1d=_0x246040!==null?calculateTScore(_0x246040):null,_0x288f72=_0x3984ea!==null?calculateTScore(_0x3984ea):null,_0x229b2f=_0x531a1d!==null&&_0x288f72!==null?_0x288f72-_0x531a1d:null;return{'name':_0x2c6241,'preScore':_0x52550b,'postScore':_0x3a887f,'gain':_0x2b08fa,'preTScore':_0x531a1d,'postTScore':_0x288f72,'tGain':_0x229b2f};});renderIndividualComparisonTable(_0x3d6b2e,_0x31fa86);}catch(_0x329344){console[_0x4f2844(0x670)](_0x4f2844(0x6f4),_0x329344),_0x118dfc['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}function displayHalfMarkResult(_0x39f99c,_0x5795bb){const _0x3669b3=_0x2626e0,_0x340e27=_0x39f99c>=_0x5795bb/0x2,_0x4949c1=_0x340e27?_0x3669b3(0x4e9):_0x3669b3(0x225),_0x1b341b=_0x340e27?_0x3669b3(0x66f):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x27dfd5=_0x340e27?_0x3669b3(0x6e2):'text-red-800',_0x57173f=_0x340e27?_0x3669b3(0x3b9):_0x3669b3(0x80d),_0x2af3f6=_0x340e27?_0x3669b3(0x4ba):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x361b24=_0x3669b3(0x7c1)+_0x4949c1+_0x3669b3(0x66c)+_0x1b341b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x27dfd5+'\x20mb-2\x22>'+_0x57173f+_0x3669b3(0x9ab)+_0x2af3f6+_0x3669b3(0x591);studentResultArea['innerHTML']=_0x361b24,studentResultArea[_0x3669b3(0x1a0)]['remove'](_0x3669b3(0x250)),studentQuizArea[_0x3669b3(0x1a0)][_0x3669b3(0x368)](_0x3669b3(0x250)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x340e27});}function displayPerfectScoreResult(_0xc956e2,_0x3b67aa){const _0x141e75=_0x2626e0,_0x340854=_0xc956e2===_0x3b67aa,_0x15aded=_0x340854?_0x141e75(0x4f3):_0x141e75(0x4f0),_0xdaeca2=_0x340854?_0x141e75(0x462):'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x4914de=_0x340854?_0x141e75(0x72b):_0x141e75(0x480),_0x26f94a=_0x340854?_0x141e75(0x548):'ยังไม่เต็มนะ',_0x2bb787=_0x340854?_0x141e75(0x983):_0x141e75(0x802);let _0x203874='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x15aded+_0x141e75(0x66c)+_0xdaeca2+_0x141e75(0x21c)+_0x4914de+_0x141e75(0x2cd)+_0x26f94a+_0x141e75(0x9ab)+_0x2bb787+_0x141e75(0x591);studentResultArea[_0x141e75(0x9a4)]=_0x203874,studentResultArea['classList']['remove']('hidden'),studentQuizArea[_0x141e75(0x1a0)][_0x141e75(0x368)]('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0xc956e2,'totalQuestions':_0x3b67aa});}function renderIndividualComparisonTable(_0x5ba4ff,_0xd01567){const _0x3cf42c=_0x2626e0;_0x5ba4ff[_0x3cf42c(0x2f3)]((_0x3565e5,_0x553d85)=>(_0x553d85['tGain']??-Infinity)-(_0x3565e5['tGain']??-Infinity));let _0x22778b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x5ba4ff[_0x3cf42c(0x97d)]===0x0?_0x22778b+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x5ba4ff['forEach']((_0x9d6059,_0x5ceac9)=>{const _0x3b7673=_0x3cf42c;let _0x589c88='-',_0x313ebb='';if(_0x9d6059['gain']!==null){const _0x17822b=_0x9d6059[_0x3b7673(0x31c)]>0x0?_0x3b7673(0x748):_0x9d6059[_0x3b7673(0x31c)]<0x0?'text-red-600':_0x3b7673(0x58e),_0x514df4=_0x9d6059[_0x3b7673(0x31c)]>0x0?'+':'';_0x589c88=_0x3b7673(0x4aa)+_0x17822b+'\x22>'+_0x514df4+_0x9d6059[_0x3b7673(0x31c)]+'</span>';if(_0x9d6059[_0x3b7673(0x31c)]>0x0)_0x313ebb=_0x3b7673(0x660);else _0x9d6059[_0x3b7673(0x31c)]<0x0?_0x313ebb='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x313ebb=_0x3b7673(0x3ce);}let _0x20a529='-';if(_0x9d6059['tGain']!==null){const _0x4e26c1=_0x9d6059[_0x3b7673(0x1ad)]>0x0?'text-green-600':_0x9d6059[_0x3b7673(0x1ad)]<0x0?_0x3b7673(0x6b1):_0x3b7673(0x58e),_0x31d8a1=_0x9d6059[_0x3b7673(0x1ad)]>0x0?'+':'';_0x20a529=_0x3b7673(0x4aa)+_0x4e26c1+'\x22>'+_0x31d8a1+_0x9d6059[_0x3b7673(0x1ad)][_0x3b7673(0x2b4)](0x2)+_0x3b7673(0x3be);}_0x22778b+=_0x3b7673(0x50c)+(_0x5ceac9+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x9d6059[_0x3b7673(0x5a3)]+_0x3b7673(0x7e8)+(_0x9d6059[_0x3b7673(0x80f)]??'-')+_0x3b7673(0x1bf)+(_0x9d6059[_0x3b7673(0x690)]??'-')+_0x3b7673(0x7e8)+_0x589c88+_0x3b7673(0x507)+_0x313ebb+_0x3b7673(0x772)+(_0x9d6059[_0x3b7673(0x5f8)]?.[_0x3b7673(0x2b4)](0x2)??'-')+_0x3b7673(0x624)+(_0x9d6059['postTScore']?.[_0x3b7673(0x2b4)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x20a529+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x22778b+='</tbody></table></div>',_0xd01567[_0x3cf42c(0x9a4)]=_0x22778b;}function handleRenameQuiz(_0x5e1386,_0x3a58e2){const _0x3fc832=_0x2626e0;actionTargetId=_0x5e1386,document[_0x3fc832(0x87d)](_0x3fc832(0x5b5))['value']=_0x3a58e2,renameQuizModal[_0x3fc832(0x1a0)]['remove'](_0x3fc832(0x250));}function setupComparisonModalTabs(){const _0x43b7ef=_0x2626e0,_0x88adf2=document[_0x43b7ef(0x87d)](_0x43b7ef(0x42e)),_0xae4408=document[_0x43b7ef(0x87d)](_0x43b7ef(0x39e)),_0xa350b8=document[_0x43b7ef(0x87d)]('comparison-overall-content'),_0x21f11e=document[_0x43b7ef(0x87d)]('comparison-individual-content');_0x88adf2[_0x43b7ef(0x214)](_0x43b7ef(0x421),()=>{const _0x19c913=_0x43b7ef;_0x88adf2[_0x19c913(0x1a0)][_0x19c913(0x368)]('active'),_0xae4408['classList'][_0x19c913(0x594)](_0x19c913(0x97f)),_0xa350b8[_0x19c913(0x1a0)]['remove'](_0x19c913(0x250)),_0x21f11e[_0x19c913(0x1a0)][_0x19c913(0x368)](_0x19c913(0x250));}),_0xae4408[_0x43b7ef(0x214)](_0x43b7ef(0x421),()=>{const _0x2b3001=_0x43b7ef;_0xae4408['classList'][_0x2b3001(0x368)](_0x2b3001(0x97f)),_0x88adf2['classList'][_0x2b3001(0x594)](_0x2b3001(0x97f)),_0x21f11e['classList'][_0x2b3001(0x594)](_0x2b3001(0x250)),_0xa350b8[_0x2b3001(0x1a0)][_0x2b3001(0x368)](_0x2b3001(0x250));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x5e8991=''){const _0xe4ff4b=_0x2626e0,_0x50950e=document[_0xe4ff4b(0x87d)](_0xe4ff4b(0x3a0)),_0x190007=_0x5e8991[_0xe4ff4b(0x85a)]()[_0xe4ff4b(0x4ca)](),_0x1ab29f=allQuizzesGlobal[_0xe4ff4b(0x1e7)](_0x5de424=>({..._0x5de424,'projectName':allProjects[_0xe4ff4b(0x645)](_0x5042aa=>_0x5042aa['id']===_0x5de424[_0xe4ff4b(0x346)])?.[_0xe4ff4b(0x560)]||_0x5de424[_0xe4ff4b(0x346)]}))['filter'](_0x2f6aea=>(_0x2f6aea[_0xe4ff4b(0x6b9)]||'')[_0xe4ff4b(0x85a)]()[_0xe4ff4b(0x777)](_0x190007)||(_0x2f6aea[_0xe4ff4b(0x560)]||'')[_0xe4ff4b(0x85a)]()[_0xe4ff4b(0x777)](_0x190007));document[_0xe4ff4b(0x87d)]('global-live-game-count')['textContent']='('+_0x1ab29f['length']+'\x20ชุด)',_0x50950e['innerHTML']=_0x1ab29f[_0xe4ff4b(0x97d)]?_0x1ab29f[_0xe4ff4b(0x1e7)](_0x3159b0=>_0xe4ff4b(0x317)+_0x3159b0['id']+_0xe4ff4b(0x63f)+(_0x3159b0[_0xe4ff4b(0x6b9)]||_0xe4ff4b(0x7fd))+_0xe4ff4b(0x193)+(_0x3159b0[_0xe4ff4b(0x9a5)]?.[_0xe4ff4b(0x97d)]||0x0)+_0xe4ff4b(0x593)+_0x3159b0[_0xe4ff4b(0x560)]+_0xe4ff4b(0x654))['join'](''):_0xe4ff4b(0x4a2),selectedGlobalQuizId=null,document[_0xe4ff4b(0x87d)](_0xe4ff4b(0x4b2))[_0xe4ff4b(0x500)]=!![],_0x50950e[_0xe4ff4b(0x4fa)](_0xe4ff4b(0x620))[_0xe4ff4b(0x2fb)](_0x54efc3=>{const _0xf0c972=_0xe4ff4b;_0x54efc3['addEventListener'](_0xf0c972(0x421),()=>{const _0x1db8f7=_0xf0c972;selectedGlobalQuizId=_0x54efc3['dataset']['id'],_0x50950e[_0x1db8f7(0x4fa)](_0x1db8f7(0x998))['forEach'](_0x1507d2=>_0x1507d2[_0x1db8f7(0x1a0)]['remove'](_0x1db8f7(0x7bc),_0x1db8f7(0x5b7),_0x1db8f7(0x3b7))),_0x54efc3[_0x1db8f7(0x1a0)][_0x1db8f7(0x368)]('bg-purple-50',_0x1db8f7(0x5b7),_0x1db8f7(0x3b7)),document[_0x1db8f7(0x87d)](_0x1db8f7(0x4b2))[_0x1db8f7(0x500)]=![];});});}function listenForLiveGameUpdates(){const _0x957236=_0x2626e0;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x4d22e6=doc(db,_0x957236(0x495)+appId+_0x957236(0x79d),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x4d22e6,_0x1a9442=>{const _0x1c7cd1=_0x957236;if(!_0x1a9442[_0x1c7cd1(0x7c0)]()){showMessage(_0x1c7cd1(0x1ea)),showView(currentMode);return;}const _0x37dfef=_0x1a9442['data']();_0x37dfef[_0x1c7cd1(0x239)]&&(currentQuizData=_0x37dfef['shuffledQuiz']);!currentQuizData&&_0x37dfef[_0x1c7cd1(0x20f)]&&((async()=>{const _0x47d2c7=_0x1c7cd1;try{const _0xc216f5=doc(db,'artifacts/'+appId+_0x47d2c7(0x20c),_0x37dfef[_0x47d2c7(0x20f)]),_0x4bf4be=await getDoc(_0xc216f5);_0x4bf4be[_0x47d2c7(0x7c0)]()&&(currentQuizData={'id':_0x4bf4be['id'],..._0x4bf4be['data']()});}catch(_0x26856d){console[_0x47d2c7(0x670)](_0x47d2c7(0x2c9),_0x26856d);}})());switch(_0x37dfef[_0x1c7cd1(0x2fc)]){case _0x1c7cd1(0x93c):if(currentMode===_0x1c7cd1(0x4ec)){const _0x5b6837=_0x37dfef[_0x1c7cd1(0x476)]?Object[_0x1c7cd1(0x3ff)](_0x37dfef[_0x1c7cd1(0x476)]):[],_0x17f21e=_0x5b6837[_0x1c7cd1(0x6c1)](([_0x8eb015,_0x1e39a6])=>_0x1e39a6[_0x1c7cd1(0x2fc)]===_0x1c7cd1(0x97f)),_0x430142=document[_0x1c7cd1(0x87d)](_0x1c7cd1(0x1b2));if(_0x430142)_0x430142['textContent']=_0x17f21e[_0x1c7cd1(0x97d)];const _0x28e97c=document[_0x1c7cd1(0x87d)]('player-list-lobby');_0x28e97c&&(_0x28e97c[_0x1c7cd1(0x9a4)]=_0x17f21e['map'](([_0x5e6860,_0x97c561])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5e6860+_0x1c7cd1(0x764)+_0x5e6860+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''));const _0x59a828=document[_0x1c7cd1(0x87d)](_0x1c7cd1(0x99b));_0x59a828&&(_0x59a828[_0x1c7cd1(0x500)]=_0x17f21e[_0x1c7cd1(0x97d)]===0x0);}else showView(_0x1c7cd1(0x944)),liveGameView[_0x1c7cd1(0x9a4)]=_0x1c7cd1(0x4a7)+currentStudentName+_0x1c7cd1(0x81f);break;case _0x1c7cd1(0x67d):const _0x1f2bd5=_0x37dfef[_0x1c7cd1(0x989)];if(currentQuizData&&currentQuizData['questions'][_0x1f2bd5]){const _0xed0ac9=currentQuizData[_0x1c7cd1(0x9a5)][_0x1f2bd5],_0x1a85d5=_0x37dfef[_0x1c7cd1(0x56d)]||_0x1c7cd1(0x587);switch(_0x1a85d5){case _0x1c7cd1(0x7f6):currentMode===_0x1c7cd1(0x4ec)?showAdminSummaryView(_0x37dfef,_0xed0ac9):showPlayerSummaryView(_0x37dfef,currentStudentName);break;case'leaderboard':currentMode==='admin'&&showTop5LeaderboardView(_0x37dfef);break;case _0x1c7cd1(0x587):default:if(currentMode===_0x1c7cd1(0x4ec)){const _0x397a5c=writeBatch(db);let _0x2157ad=![];Object[_0x1c7cd1(0x3ff)](_0x37dfef[_0x1c7cd1(0x476)])[_0x1c7cd1(0x2fb)](([_0x4c0842,_0x7e8f61])=>{const _0x578f5=_0x1c7cd1;if(_0x7e8f61['status']===_0x578f5(0x97f)&&_0x7e8f61[_0x578f5(0x1ef)]&&!_0x7e8f61['isScored']){_0x2157ad=!![];const _0x30861f=_0x7e8f61[_0x578f5(0x1ef)][_0x578f5(0x25c)]()-_0x37dfef[_0x578f5(0x766)]['toDate']();let _0x519707=0x0;if(_0x7e8f61[_0x578f5(0x7ef)]){const _0x2fb68a=0x3e8,_0x429bc7=0x1f4,_0x343221=0x4e20;let _0x3d9113=_0x30861f/_0x343221;if(_0x3d9113>0x1)_0x3d9113=0x1;const _0x349f03=Math[_0x578f5(0x985)](_0x3d9113*_0x429bc7);_0x519707=_0x2fb68a-_0x349f03;}const _0x5d06a7=doc(db,_0x578f5(0x495)+appId+_0x578f5(0x79d),currentLiveGameId);_0x397a5c[_0x578f5(0x32a)](_0x5d06a7,{[_0x578f5(0x902)+_0x4c0842+_0x578f5(0x97e)]:increment(_0x519707),[_0x578f5(0x902)+_0x4c0842+_0x578f5(0x584)]:_0x519707,[_0x578f5(0x902)+_0x4c0842+_0x578f5(0x666)]:!![]});}});_0x2157ad&&_0x397a5c[_0x1c7cd1(0x37e)]()[_0x1c7cd1(0x6cd)](_0x5bbae7=>console[_0x1c7cd1(0x670)]('Error\x20committing\x20score\x20updates:',_0x5bbae7));lastRenderedAdminQuestionIndex!==_0x1f2bd5&&(showAdminLiveQuestionView(_0xed0ac9,_0x1f2bd5,currentQuizData[_0x1c7cd1(0x9a5)][_0x1c7cd1(0x97d)]),lastRenderedAdminQuestionIndex=_0x1f2bd5);const _0x2aac9a=_0x37dfef['players']||{},_0x2efd24=Object[_0x1c7cd1(0x329)](_0x2aac9a)[_0x1c7cd1(0x6c1)](_0x293d75=>_0x293d75[_0x1c7cd1(0x2fc)]==='active'),_0x33e569=_0x2efd24['length'],_0x3551fc=_0x2efd24[_0x1c7cd1(0x6c1)](_0x54bd4f=>_0x54bd4f['answeredCurrentQuestion']===!![])[_0x1c7cd1(0x97d)],_0x94ed13=document[_0x1c7cd1(0x87d)]('answer-counter');if(_0x94ed13)_0x94ed13['textContent']=_0x3551fc+'/'+_0x33e569;const _0x551ad2=document[_0x1c7cd1(0x87d)](_0x1c7cd1(0x588));if(_0x551ad2){let _0x58831f=Object[_0x1c7cd1(0x3ff)](_0x2aac9a)[_0x1c7cd1(0x6c1)](([_0x95fd40,_0x421280])=>_0x421280[_0x1c7cd1(0x2fc)]===_0x1c7cd1(0x97f))[_0x1c7cd1(0x1e7)](([_0x294990,_0x4813bd])=>{const _0x3f1b22=_0x1c7cd1,_0x1c9fe2=_0x4813bd[_0x3f1b22(0x248)]===!![],_0x541296=_0x1c9fe2?_0x3f1b22(0x3d8):_0x3f1b22(0x731),_0x426341=_0x1c9fe2?_0x3f1b22(0x92d):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x541296+_0x3f1b22(0x37f)+_0x426341+_0x3f1b22(0x504)+_0x294990+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x294990+_0x3f1b22(0x2f4);})[_0x1c7cd1(0x3a2)]('');_0x551ad2[_0x1c7cd1(0x9a4)]=_0x58831f||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x33e569>0x0&&_0x3551fc===_0x33e569&&revealAnswerForAdmin(_0x1f2bd5,currentQuizData[_0x1c7cd1(0x9a5)]['length']);}else{const _0x45cf90=_0x37dfef[_0x1c7cd1(0x476)][currentStudentName];_0x45cf90&&!_0x45cf90[_0x1c7cd1(0x248)]&&showStudentLiveQuestionView(_0xed0ac9,_0x1f2bd5,currentQuizData['questions'][_0x1c7cd1(0x97d)]);}break;}}break;case _0x1c7cd1(0x341):showPodiumView(_0x37dfef['players']);break;}});}async function handleKickPlayer(_0x442a21){const _0x52cb22=_0x2626e0;if(!currentLiveGameId||!_0x442a21)return;const _0x1615a0=doc(db,_0x52cb22(0x495)+appId+_0x52cb22(0x79d),currentLiveGameId),_0xc0bb89={};_0xc0bb89['players.'+_0x442a21+_0x52cb22(0x1f2)]=_0x52cb22(0x290);try{await updateDoc(_0x1615a0,_0xc0bb89);}catch(_0x3c71cd){console[_0x52cb22(0x670)]('Failed\x20to\x20kick\x20player\x20'+_0x442a21+':',_0x3c71cd),showMessage(_0x52cb22(0x6fa));}}async function authenticateUser(){const _0x221687=_0x2626e0;try{typeof __initial_auth_token!==_0x221687(0x791)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x210292){console['error'](_0x221687(0x54f),_0x210292),showMessage(_0x221687(0x315));}}function showView(_0x473e30){const _0x3d4c73=_0x2626e0,_0x24d85c=[_0x3d4c73(0x2d8),_0x3d4c73(0x42d),'project-dashboard-view','project-detail-view',_0x3d4c73(0x724),_0x3d4c73(0x78a),_0x3d4c73(0x554)];_0x24d85c[_0x3d4c73(0x2fb)](_0x3201e4=>document[_0x3d4c73(0x87d)](_0x3201e4)?.[_0x3d4c73(0x1a0)][_0x3d4c73(0x368)](_0x3d4c73(0x250)));if(_0x473e30==='admin-dashboard')adminView[_0x3d4c73(0x1a0)][_0x3d4c73(0x594)](_0x3d4c73(0x250)),projectDashboardView['classList'][_0x3d4c73(0x594)](_0x3d4c73(0x250));else{if(_0x473e30===_0x3d4c73(0x59e))studentView[_0x3d4c73(0x1a0)]['remove'](_0x3d4c73(0x250)),studentInitialView['classList'][_0x3d4c73(0x594)]('hidden'),studentNameSelectionView[_0x3d4c73(0x1a0)][_0x3d4c73(0x368)](_0x3d4c73(0x250)),studentQuizArea[_0x3d4c73(0x1a0)][_0x3d4c73(0x368)](_0x3d4c73(0x250)),studentResultArea['classList'][_0x3d4c73(0x368)](_0x3d4c73(0x250)),studentReadingArea[_0x3d4c73(0x1a0)][_0x3d4c73(0x368)](_0x3d4c73(0x250)),studentJoinGameView[_0x3d4c73(0x1a0)][_0x3d4c73(0x368)]('hidden');else{if(_0x473e30===_0x3d4c73(0x4f5))adminView['classList'][_0x3d4c73(0x594)](_0x3d4c73(0x250)),projectDetailView[_0x3d4c73(0x1a0)][_0x3d4c73(0x594)](_0x3d4c73(0x250));else{if(_0x473e30===_0x3d4c73(0x255))adminView[_0x3d4c73(0x1a0)]['remove'](_0x3d4c73(0x250)),quizResultsView[_0x3d4c73(0x1a0)][_0x3d4c73(0x594)]('hidden');else _0x473e30===_0x3d4c73(0x944)&&liveGameView[_0x3d4c73(0x1a0)]['remove'](_0x3d4c73(0x250));}}}}function showJoinGameView(){const _0x5296d1=_0x2626e0;studentInitialView['classList']['add'](_0x5296d1(0x250)),studentJoinGameView[_0x5296d1(0x1a0)][_0x5296d1(0x594)](_0x5296d1(0x250));}async function handleSaveVisibilitySettings(){const _0x107188=_0x2626e0;if(!currentProjectId)return;const _0x58a50d=doc(db,'artifacts/'+appId+_0x107188(0x774),currentProjectId);try{await updateDoc(_0x58a50d,{'settings.showInStudentDashboard':document[_0x107188(0x87d)]('show-in-student-dashboard-checkbox')[_0x107188(0x1e0)],'settings.isPasscodeEnabled':document[_0x107188(0x87d)](_0x107188(0x829))[_0x107188(0x1e0)],'settings.passcode':document[_0x107188(0x87d)](_0x107188(0x6bf))[_0x107188(0x810)]['trim']()}),showMessage(_0x107188(0x697));}catch(_0x311221){console[_0x107188(0x670)]('Error\x20saving\x20visibility\x20settings:',_0x311221),showMessage(_0x107188(0x8f4));}}function setupEventListeners(){const _0x49f585=_0x2626e0,_0x476040=document[_0x49f585(0x87d)](_0x49f585(0x78a));_0x476040[_0x49f585(0x214)]('click',_0x493108=>{const _0x1db5f3=_0x49f585,_0x1a7afd=_0x493108[_0x1db5f3(0x9cf)][_0x1db5f3(0x29d)](_0x1db5f3(0x897));document[_0x1db5f3(0x4fa)](_0x1db5f3(0x1dd))[_0x1db5f3(0x2fb)](_0x2bb914=>{const _0x4af13a=_0x1db5f3;(!_0x1a7afd||_0x2bb914['id']!==_0x1a7afd[_0x4af13a(0x2e0)][_0x4af13a(0x756)])&&_0x2bb914[_0x4af13a(0x1a0)]['remove']('visible');});if(!_0x1a7afd)return;const _0x5dd6c9=_0x1a7afd[_0x1db5f3(0x2e0)][_0x1db5f3(0x756)],_0x1ba80c=document[_0x1db5f3(0x87d)](_0x5dd6c9);_0x1ba80c&&_0x1ba80c[_0x1db5f3(0x1a0)][_0x1db5f3(0x788)](_0x1db5f3(0x414));}),_0x476040[_0x49f585(0x214)](_0x49f585(0x421),_0x34f7ba=>{const _0x343cdd=_0x49f585;if(_0x34f7ba[_0x343cdd(0x9cf)][_0x343cdd(0x1a0)][_0x343cdd(0x426)]('kick-player-btn')){const _0xd2b46d=_0x34f7ba['target'][_0x343cdd(0x2e0)]['playerName'];_0xd2b46d&&handleKickPlayer(_0xd2b46d);}}),document[_0x49f585(0x87d)]('project-title')['addEventListener'](_0x49f585(0x378),()=>document[_0x49f585(0x87d)](_0x49f585(0x84b))[_0x49f585(0x1a0)][_0x49f585(0x594)](_0x49f585(0x250))),document['getElementById'](_0x49f585(0x84b))[_0x49f585(0x214)](_0x49f585(0x421),handleSaveProjectName),document['getElementById'](_0x49f585(0x455))[_0x49f585(0x214)](_0x49f585(0x474),_0x46d15c=>{const _0xa20008=_0x49f585;_0x46d15c[_0xa20008(0x7a6)]===_0xa20008(0x459)&&(_0x46d15c[_0xa20008(0x3dd)](),_0x46d15c[_0xa20008(0x9cf)][_0xa20008(0x512)](),handleSaveProjectName());}),document[_0x49f585(0x87d)]('bulk-quiz-settings-btn')[_0x49f585(0x214)](_0x49f585(0x421),()=>{const _0x587294=_0x49f585;document[_0x587294(0x87d)]('bulk-quiz-settings-modal')[_0x587294(0x1a0)][_0x587294(0x594)](_0x587294(0x250));}),document[_0x49f585(0x87d)](_0x49f585(0x44f))[_0x49f585(0x214)](_0x49f585(0x421),()=>{const _0x1cbaa3=_0x49f585;document[_0x1cbaa3(0x87d)](_0x1cbaa3(0x778))[_0x1cbaa3(0x1a0)][_0x1cbaa3(0x368)](_0x1cbaa3(0x250));}),document['getElementById'](_0x49f585(0x498))['addEventListener'](_0x49f585(0x421),handleBulkUpdateQuizSettings),document[_0x49f585(0x87d)](_0x49f585(0x397))[_0x49f585(0x214)](_0x49f585(0x421),handleModeSwitch),document[_0x49f585(0x87d)](_0x49f585(0x194))['addEventListener']('click',handleUpdateOldQuizzes),document[_0x49f585(0x87d)]('reset-project-order-btn')[_0x49f585(0x214)](_0x49f585(0x421),handleResetProjectOrder),document[_0x49f585(0x87d)](_0x49f585(0x958))[_0x49f585(0x214)](_0x49f585(0x421),handleSaveVisibilitySettings),document[_0x49f585(0x87d)](_0x49f585(0x904))['addEventListener'](_0x49f585(0x421),handleAddCustomMathTopic),document['getElementById'](_0x49f585(0x64c))[_0x49f585(0x214)]('click',handleSelectAllTopics),document[_0x49f585(0x87d)](_0x49f585(0x7c6))[_0x49f585(0x214)](_0x49f585(0x421),handleDeselectAllTopics),document['getElementById'](_0x49f585(0x951))['addEventListener'](_0x49f585(0x421),()=>{const _0x511f35=_0x49f585;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x511f35(0x2a9));}),document['getElementById'](_0x49f585(0x76e))['addEventListener'](_0x49f585(0x421),()=>{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}),document['getElementById'](_0x49f585(0x705))['addEventListener'](_0x49f585(0x421),()=>{const _0x12a973=_0x49f585;showView(_0x12a973(0x2a9));}),document['getElementById'](_0x49f585(0x70e))[_0x49f585(0x214)](_0x49f585(0x421),()=>{const _0x2ed7ca=_0x49f585;messageModal[_0x2ed7ca(0x1a0)][_0x2ed7ca(0x368)](_0x2ed7ca(0x250)),typeof modalConfirmAction==='function'&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById'](_0x49f585(0x779))[_0x49f585(0x214)]('click',()=>createProjectModal[_0x49f585(0x1a0)][_0x49f585(0x594)](_0x49f585(0x250))),document[_0x49f585(0x87d)](_0x49f585(0x8a6))['addEventListener'](_0x49f585(0x421),()=>createProjectModal[_0x49f585(0x1a0)]['add'](_0x49f585(0x250))),document['getElementById'](_0x49f585(0x66a))[_0x49f585(0x214)](_0x49f585(0x421),()=>adminPasswordModal['classList'][_0x49f585(0x368)](_0x49f585(0x250))),document[_0x49f585(0x87d)](_0x49f585(0x1af))['addEventListener'](_0x49f585(0x421),handleAdminLogin),document[_0x49f585(0x87d)]('admin-password-input')[_0x49f585(0x214)](_0x49f585(0x334),_0x3aa44f=>{const _0x40f3bf=_0x49f585;if(_0x3aa44f['key']===_0x40f3bf(0x459))handleAdminLogin();}),document['getElementById'](_0x49f585(0x890))[_0x49f585(0x214)](_0x49f585(0x421),()=>{const _0x3ca031=_0x49f585;confirmationModal[_0x3ca031(0x1a0)][_0x3ca031(0x368)](_0x3ca031(0x250)),confirmAction=null;}),document['getElementById'](_0x49f585(0x5f1))['addEventListener'](_0x49f585(0x421),()=>{const _0x16c39e=_0x49f585;confirmAction&&confirmAction(),confirmationModal[_0x16c39e(0x1a0)][_0x16c39e(0x368)](_0x16c39e(0x250)),confirmAction=null;}),document['getElementById'](_0x49f585(0x1c2))[_0x49f585(0x214)](_0x49f585(0x421),()=>renameQuizModal['classList'][_0x49f585(0x368)](_0x49f585(0x250))),document[_0x49f585(0x87d)]('confirm-rename-quiz-btn')[_0x49f585(0x214)](_0x49f585(0x421),confirmRenameQuiz),document[_0x49f585(0x87d)]('cancel-move-quiz-btn')[_0x49f585(0x214)](_0x49f585(0x421),()=>moveQuizModal[_0x49f585(0x1a0)]['add']('hidden')),document[_0x49f585(0x87d)](_0x49f585(0x843))[_0x49f585(0x214)](_0x49f585(0x421),confirmMoveQuiz),document[_0x49f585(0x87d)]('cancel-quiz-settings-btn')[_0x49f585(0x214)](_0x49f585(0x421),()=>quizSettingsModal[_0x49f585(0x1a0)][_0x49f585(0x368)](_0x49f585(0x250))),document[_0x49f585(0x87d)](_0x49f585(0x62f))[_0x49f585(0x214)](_0x49f585(0x421),confirmQuizSettings),document[_0x49f585(0x87d)](_0x49f585(0x71d))['addEventListener'](_0x49f585(0x421),()=>quizStatusModal[_0x49f585(0x1a0)][_0x49f585(0x368)](_0x49f585(0x250))),document['getElementById']('confirm-quiz-status-btn')[_0x49f585(0x214)]('click',confirmQuizStatus);const _0x5c08de=document[_0x49f585(0x87d)](_0x49f585(0x7e2));document[_0x49f585(0x87d)]('cancel-export-pdf-btn')[_0x49f585(0x214)]('click',()=>{const _0x33fd8f=_0x49f585;_0x5c08de[_0x33fd8f(0x1a0)][_0x33fd8f(0x368)]('hidden');}),document[_0x49f585(0x87d)](_0x49f585(0x78b))[_0x49f585(0x214)](_0x49f585(0x421),async()=>{const _0x22da22=_0x49f585,_0x118548=allQuizzes[_0x22da22(0x645)](_0x121afc=>_0x121afc['id']===actionTargetId);_0x118548?(currentQuizData=_0x118548,exportQuizAsWorksheetPDF()):showMessage(_0x22da22(0x42a)),_0x5c08de[_0x22da22(0x1a0)][_0x22da22(0x368)](_0x22da22(0x250));}),document[_0x49f585(0x87d)](_0x49f585(0x7e1))[_0x49f585(0x214)](_0x49f585(0x421),async()=>{const _0x3b5264=_0x49f585,_0x365898=allQuizzes['find'](_0x2962a8=>_0x2962a8['id']===actionTargetId);_0x365898?(currentQuizData=_0x365898,exportQuizAsTutorPDF()):showMessage(_0x3b5264(0x42a)),_0x5c08de[_0x3b5264(0x1a0)][_0x3b5264(0x368)](_0x3b5264(0x250));}),document[_0x49f585(0x87d)](_0x49f585(0x7a9))['addEventListener'](_0x49f585(0x421),openGlobalLiveModal),document[_0x49f585(0x87d)](_0x49f585(0x1c0))[_0x49f585(0x214)](_0x49f585(0x421),()=>{const _0x4cd3eb=_0x49f585;document[_0x4cd3eb(0x87d)](_0x4cd3eb(0x2b6))[_0x4cd3eb(0x1a0)]['add'](_0x4cd3eb(0x250)),selectedGlobalQuizId=null;}),document[_0x49f585(0x87d)](_0x49f585(0x799))[_0x49f585(0x214)](_0x49f585(0x231),_0x5057c3=>renderGlobalQuizList(_0x5057c3['target'][_0x49f585(0x810)])),document[_0x49f585(0x87d)]('confirm-global-live-btn')[_0x49f585(0x214)]('click',()=>{const _0x5cde24=_0x49f585,_0x5276d7=selectedGlobalQuizId;if(!_0x5276d7)return;document[_0x5cde24(0x87d)](_0x5cde24(0x2b6))[_0x5cde24(0x1a0)]['add'](_0x5cde24(0x250)),handleStartLiveRace(_0x5276d7);}),document[_0x49f585(0x87d)](_0x49f585(0x2da))[_0x49f585(0x214)](_0x49f585(0x231),renderProjects),document[_0x49f585(0x87d)](_0x49f585(0x5f2))['addEventListener'](_0x49f585(0x57c),async()=>{const _0x44f424=_0x49f585,_0x2d36f1=document['getElementById'](_0x44f424(0x5f2))[_0x44f424(0x810)],_0x1d74f5=doc(db,_0x44f424(0x70b),_0x44f424(0x827));try{await setDoc(_0x1d74f5,{'projectSort':_0x2d36f1},{'merge':!![]});}catch(_0x13b466){console['error']('Error\x20updating\x20sort\x20preference:',_0x13b466),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document[_0x49f585(0x87d)](_0x49f585(0x337))[_0x49f585(0x214)](_0x49f585(0x231),renderQuizzes),document[_0x49f585(0x87d)](_0x49f585(0x53c))[_0x49f585(0x214)]('click',()=>{const _0x24e2ee=_0x49f585;globalDashboardSettings[_0x24e2ee(0x2fa)]='grid',saveUserPreference('projectView',_0x24e2ee(0x599)),renderProjects();}),document[_0x49f585(0x87d)](_0x49f585(0x4c2))[_0x49f585(0x214)](_0x49f585(0x421),()=>{const _0x1485e8=_0x49f585;globalDashboardSettings['projectView']=_0x1485e8(0x494),saveUserPreference(_0x1485e8(0x2fa),_0x1485e8(0x494)),renderProjects();}),manageTab['addEventListener'](_0x49f585(0x421),()=>switchProjectTab('manage')),resultsTab[_0x49f585(0x214)](_0x49f585(0x421),()=>switchProjectTab(_0x49f585(0x2d1))),leaderboardTab[_0x49f585(0x214)]('click',()=>switchProjectTab(_0x49f585(0x5f0))),document[_0x49f585(0x87d)](_0x49f585(0x24b))[_0x49f585(0x214)](_0x49f585(0x421),()=>switchQuizDetailTab(_0x49f585(0x62a))),document[_0x49f585(0x87d)](_0x49f585(0x86c))[_0x49f585(0x214)](_0x49f585(0x421),()=>switchQuizDetailTab(_0x49f585(0x2ab))),document[_0x49f585(0x87d)](_0x49f585(0x484))[_0x49f585(0x214)](_0x49f585(0x421),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x49f585(0x87d)](_0x49f585(0x2b3))[_0x49f585(0x214)](_0x49f585(0x421),()=>switchQuizDetailTab(_0x49f585(0x7d5))),document['getElementById'](_0x49f585(0x3b6))[_0x49f585(0x214)](_0x49f585(0x421),handleAnalyzeClass),generateWorksheetBtn[_0x49f585(0x214)](_0x49f585(0x421),generateWorksheet);const _0x588ef7=document[_0x49f585(0x87d)](_0x49f585(0x202)),_0x5a338e=document[_0x49f585(0x87d)]('link-input-area'),_0x174215=document[_0x49f585(0x87d)](_0x49f585(0x699)),_0x1e14ad=document[_0x49f585(0x87d)](_0x49f585(0x94c)),_0x49d043=document[_0x49f585(0x87d)](_0x49f585(0x401)),_0xa35d97=document[_0x49f585(0x87d)](_0x49f585(0x252));topicTab[_0x49f585(0x214)](_0x49f585(0x421),()=>{const _0x2e48d4=_0x49f585;topicTab['classList']['add'](_0x2e48d4(0x97f)),textTab[_0x2e48d4(0x1a0)]['remove'](_0x2e48d4(0x97f)),fileTab['classList']['remove'](_0x2e48d4(0x97f)),worksheetTab[_0x2e48d4(0x1a0)][_0x2e48d4(0x594)](_0x2e48d4(0x97f));if(_0x588ef7)_0x588ef7[_0x2e48d4(0x1a0)][_0x2e48d4(0x594)](_0x2e48d4(0x97f));if(_0x174215)_0x174215[_0x2e48d4(0x1a0)][_0x2e48d4(0x594)](_0x2e48d4(0x97f));if(_0x49d043)_0x49d043[_0x2e48d4(0x1a0)][_0x2e48d4(0x594)](_0x2e48d4(0x97f));topicInputArea['classList'][_0x2e48d4(0x594)](_0x2e48d4(0x250)),textInputArea[_0x2e48d4(0x1a0)][_0x2e48d4(0x368)]('hidden'),fileInputArea[_0x2e48d4(0x1a0)]['add'](_0x2e48d4(0x250)),worksheetInputArea[_0x2e48d4(0x1a0)][_0x2e48d4(0x368)](_0x2e48d4(0x250));if(_0x5a338e)_0x5a338e[_0x2e48d4(0x1a0)][_0x2e48d4(0x368)](_0x2e48d4(0x250));if(_0x1e14ad)_0x1e14ad[_0x2e48d4(0x1a0)]['add']('hidden');if(_0xa35d97)_0xa35d97[_0x2e48d4(0x1a0)][_0x2e48d4(0x368)](_0x2e48d4(0x250));}),textTab[_0x49f585(0x214)](_0x49f585(0x421),()=>{const _0x8e4c17=_0x49f585;textTab[_0x8e4c17(0x1a0)][_0x8e4c17(0x368)](_0x8e4c17(0x97f)),topicTab[_0x8e4c17(0x1a0)]['remove'](_0x8e4c17(0x97f)),fileTab['classList']['remove']('active'),worksheetTab[_0x8e4c17(0x1a0)][_0x8e4c17(0x594)](_0x8e4c17(0x97f));if(_0x588ef7)_0x588ef7[_0x8e4c17(0x1a0)][_0x8e4c17(0x594)]('active');if(_0x174215)_0x174215[_0x8e4c17(0x1a0)][_0x8e4c17(0x594)](_0x8e4c17(0x97f));if(_0x49d043)_0x49d043[_0x8e4c17(0x1a0)][_0x8e4c17(0x594)]('active');textInputArea[_0x8e4c17(0x1a0)]['remove'](_0x8e4c17(0x250)),topicInputArea['classList'][_0x8e4c17(0x368)](_0x8e4c17(0x250)),fileInputArea[_0x8e4c17(0x1a0)]['add']('hidden'),worksheetInputArea[_0x8e4c17(0x1a0)][_0x8e4c17(0x368)](_0x8e4c17(0x250));if(_0x5a338e)_0x5a338e['classList']['add'](_0x8e4c17(0x250));if(_0x1e14ad)_0x1e14ad[_0x8e4c17(0x1a0)][_0x8e4c17(0x368)](_0x8e4c17(0x250));if(_0xa35d97)_0xa35d97[_0x8e4c17(0x1a0)][_0x8e4c17(0x368)](_0x8e4c17(0x250));}),fileTab['addEventListener']('click',()=>{const _0x56a83b=_0x49f585;fileTab[_0x56a83b(0x1a0)][_0x56a83b(0x368)](_0x56a83b(0x97f)),topicTab[_0x56a83b(0x1a0)]['remove'](_0x56a83b(0x97f)),textTab['classList'][_0x56a83b(0x594)]('active'),worksheetTab['classList'][_0x56a83b(0x594)](_0x56a83b(0x97f));if(_0x588ef7)_0x588ef7['classList'][_0x56a83b(0x594)]('active');if(_0x174215)_0x174215[_0x56a83b(0x1a0)][_0x56a83b(0x594)](_0x56a83b(0x97f));if(_0x49d043)_0x49d043[_0x56a83b(0x1a0)][_0x56a83b(0x594)]('active');fileInputArea['classList']['remove'](_0x56a83b(0x250)),topicInputArea[_0x56a83b(0x1a0)]['add']('hidden'),textInputArea[_0x56a83b(0x1a0)][_0x56a83b(0x368)](_0x56a83b(0x250)),worksheetInputArea[_0x56a83b(0x1a0)][_0x56a83b(0x368)]('hidden');if(_0x5a338e)_0x5a338e[_0x56a83b(0x1a0)]['add'](_0x56a83b(0x250));if(_0x1e14ad)_0x1e14ad[_0x56a83b(0x1a0)][_0x56a83b(0x368)](_0x56a83b(0x250));if(_0xa35d97)_0xa35d97[_0x56a83b(0x1a0)][_0x56a83b(0x368)](_0x56a83b(0x250));}),worksheetTab[_0x49f585(0x214)]('click',()=>{const _0x33b80c=_0x49f585;worksheetTab[_0x33b80c(0x1a0)][_0x33b80c(0x368)]('active'),topicTab[_0x33b80c(0x1a0)][_0x33b80c(0x594)]('active'),textTab[_0x33b80c(0x1a0)]['remove']('active'),fileTab[_0x33b80c(0x1a0)][_0x33b80c(0x594)](_0x33b80c(0x97f));if(_0x588ef7)_0x588ef7[_0x33b80c(0x1a0)][_0x33b80c(0x594)](_0x33b80c(0x97f));if(_0x174215)_0x174215['classList'][_0x33b80c(0x594)](_0x33b80c(0x97f));if(_0x49d043)_0x49d043[_0x33b80c(0x1a0)]['remove'](_0x33b80c(0x97f));worksheetInputArea[_0x33b80c(0x1a0)][_0x33b80c(0x594)](_0x33b80c(0x250)),topicInputArea[_0x33b80c(0x1a0)][_0x33b80c(0x368)]('hidden'),textInputArea['classList'][_0x33b80c(0x368)](_0x33b80c(0x250)),fileInputArea[_0x33b80c(0x1a0)][_0x33b80c(0x368)](_0x33b80c(0x250));if(_0x5a338e)_0x5a338e[_0x33b80c(0x1a0)][_0x33b80c(0x368)](_0x33b80c(0x250));if(_0x1e14ad)_0x1e14ad[_0x33b80c(0x1a0)][_0x33b80c(0x368)]('hidden');if(_0xa35d97)_0xa35d97['classList'][_0x33b80c(0x368)](_0x33b80c(0x250));});const _0x42b1ff=document[_0x49f585(0x87d)](_0x49f585(0x3f7)),_0x1ace01=document[_0x49f585(0x87d)]('bank-input-area');_0x42b1ff&&_0x42b1ff[_0x49f585(0x214)]('click',()=>{const _0x3f01af=_0x49f585;topicTab[_0x3f01af(0x1a0)][_0x3f01af(0x594)]('active'),textTab['classList'][_0x3f01af(0x594)](_0x3f01af(0x97f)),fileTab[_0x3f01af(0x1a0)]['remove'](_0x3f01af(0x97f)),worksheetTab[_0x3f01af(0x1a0)][_0x3f01af(0x594)]('active');if(_0x588ef7)_0x588ef7[_0x3f01af(0x1a0)][_0x3f01af(0x594)]('active');if(_0x174215)_0x174215[_0x3f01af(0x1a0)][_0x3f01af(0x594)](_0x3f01af(0x97f));if(_0x49d043)_0x49d043[_0x3f01af(0x1a0)][_0x3f01af(0x594)]('active');_0x42b1ff[_0x3f01af(0x1a0)][_0x3f01af(0x368)]('active'),topicInputArea[_0x3f01af(0x1a0)]['add'](_0x3f01af(0x250)),textInputArea[_0x3f01af(0x1a0)][_0x3f01af(0x368)](_0x3f01af(0x250)),fileInputArea[_0x3f01af(0x1a0)][_0x3f01af(0x368)](_0x3f01af(0x250)),worksheetInputArea['classList'][_0x3f01af(0x368)](_0x3f01af(0x250));if(_0x5a338e)_0x5a338e[_0x3f01af(0x1a0)]['add'](_0x3f01af(0x250));if(_0x1e14ad)_0x1e14ad[_0x3f01af(0x1a0)][_0x3f01af(0x368)](_0x3f01af(0x250));if(_0xa35d97)_0xa35d97[_0x3f01af(0x1a0)][_0x3f01af(0x368)]('hidden');_0x1ace01[_0x3f01af(0x1a0)][_0x3f01af(0x594)]('hidden'),displayQuestionBank();});_0x588ef7&&(_0x588ef7['addEventListener'](_0x49f585(0x421),()=>{const _0x5c3d66=_0x49f585;_0x588ef7[_0x5c3d66(0x1a0)]['add'](_0x5c3d66(0x97f)),topicTab[_0x5c3d66(0x1a0)][_0x5c3d66(0x594)](_0x5c3d66(0x97f)),textTab[_0x5c3d66(0x1a0)][_0x5c3d66(0x594)](_0x5c3d66(0x97f)),fileTab[_0x5c3d66(0x1a0)][_0x5c3d66(0x594)](_0x5c3d66(0x97f)),worksheetTab[_0x5c3d66(0x1a0)][_0x5c3d66(0x594)]('active');if(_0x174215)_0x174215['classList'][_0x5c3d66(0x594)](_0x5c3d66(0x97f));if(_0x49d043)_0x49d043[_0x5c3d66(0x1a0)][_0x5c3d66(0x594)](_0x5c3d66(0x97f));_0x5a338e[_0x5c3d66(0x1a0)]['remove'](_0x5c3d66(0x250)),topicInputArea[_0x5c3d66(0x1a0)][_0x5c3d66(0x368)](_0x5c3d66(0x250)),textInputArea[_0x5c3d66(0x1a0)][_0x5c3d66(0x368)]('hidden'),fileInputArea[_0x5c3d66(0x1a0)]['add']('hidden'),worksheetInputArea['classList']['add'](_0x5c3d66(0x250));if(_0x1e14ad)_0x1e14ad[_0x5c3d66(0x1a0)][_0x5c3d66(0x368)](_0x5c3d66(0x250));if(_0xa35d97)_0xa35d97[_0x5c3d66(0x1a0)][_0x5c3d66(0x368)](_0x5c3d66(0x250));}),document[_0x49f585(0x87d)](_0x49f585(0x1cd))[_0x49f585(0x214)](_0x49f585(0x421),handleGenerateFromLink));_0x174215&&_0x174215[_0x49f585(0x214)](_0x49f585(0x421),()=>{const _0x3ea9a7=_0x49f585;_0x174215['classList'][_0x3ea9a7(0x368)]('active'),topicTab[_0x3ea9a7(0x1a0)][_0x3ea9a7(0x594)]('active'),textTab[_0x3ea9a7(0x1a0)][_0x3ea9a7(0x594)](_0x3ea9a7(0x97f)),fileTab[_0x3ea9a7(0x1a0)][_0x3ea9a7(0x594)]('active'),worksheetTab[_0x3ea9a7(0x1a0)][_0x3ea9a7(0x594)](_0x3ea9a7(0x97f));if(_0x588ef7)_0x588ef7[_0x3ea9a7(0x1a0)][_0x3ea9a7(0x594)](_0x3ea9a7(0x97f));if(_0x42b1ff)_0x42b1ff[_0x3ea9a7(0x1a0)][_0x3ea9a7(0x594)](_0x3ea9a7(0x97f));if(_0x49d043)_0x49d043['classList'][_0x3ea9a7(0x594)](_0x3ea9a7(0x97f));_0x1e14ad[_0x3ea9a7(0x1a0)]['remove']('hidden'),topicInputArea[_0x3ea9a7(0x1a0)][_0x3ea9a7(0x368)](_0x3ea9a7(0x250)),textInputArea[_0x3ea9a7(0x1a0)]['add'](_0x3ea9a7(0x250)),fileInputArea[_0x3ea9a7(0x1a0)][_0x3ea9a7(0x368)](_0x3ea9a7(0x250)),worksheetInputArea[_0x3ea9a7(0x1a0)][_0x3ea9a7(0x368)](_0x3ea9a7(0x250));if(_0x5a338e)_0x5a338e[_0x3ea9a7(0x1a0)][_0x3ea9a7(0x368)](_0x3ea9a7(0x250));if(_0x1ace01)_0x1ace01[_0x3ea9a7(0x1a0)][_0x3ea9a7(0x368)](_0x3ea9a7(0x250));if(_0xa35d97)_0xa35d97['classList'][_0x3ea9a7(0x368)]('hidden');});_0x49d043&&_0x49d043[_0x49f585(0x214)]('click',()=>{const _0x55645c=_0x49f585;_0x49d043[_0x55645c(0x1a0)][_0x55645c(0x368)](_0x55645c(0x97f)),topicTab[_0x55645c(0x1a0)][_0x55645c(0x594)](_0x55645c(0x97f)),textTab[_0x55645c(0x1a0)][_0x55645c(0x594)](_0x55645c(0x97f)),fileTab['classList'][_0x55645c(0x594)]('active'),worksheetTab[_0x55645c(0x1a0)][_0x55645c(0x594)](_0x55645c(0x97f));if(_0x588ef7)_0x588ef7['classList'][_0x55645c(0x594)](_0x55645c(0x97f));if(_0x174215)_0x174215['classList'][_0x55645c(0x594)]('active');if(_0x42b1ff)_0x42b1ff[_0x55645c(0x1a0)][_0x55645c(0x594)](_0x55645c(0x97f));_0xa35d97[_0x55645c(0x1a0)][_0x55645c(0x594)](_0x55645c(0x250)),topicInputArea[_0x55645c(0x1a0)][_0x55645c(0x368)]('hidden'),textInputArea[_0x55645c(0x1a0)][_0x55645c(0x368)](_0x55645c(0x250)),fileInputArea[_0x55645c(0x1a0)]['add'](_0x55645c(0x250)),worksheetInputArea[_0x55645c(0x1a0)][_0x55645c(0x368)](_0x55645c(0x250));if(_0x5a338e)_0x5a338e[_0x55645c(0x1a0)][_0x55645c(0x368)]('hidden');if(_0x1e14ad)_0x1e14ad[_0x55645c(0x1a0)][_0x55645c(0x368)](_0x55645c(0x250));if(_0x1ace01)_0x1ace01[_0x55645c(0x1a0)]['add'](_0x55645c(0x250));});const _0x7c785f=document[_0x49f585(0x87d)](_0x49f585(0x314)),_0x4b2e7b=document[_0x49f585(0x87d)](_0x49f585(0x371));_0x7c785f&&_0x7c785f['addEventListener']('change',_0x15c2a4=>{const _0x7cf226=_0x49f585;_0x15c2a4[_0x7cf226(0x9cf)][_0x7cf226(0x978)][_0x7cf226(0x97d)]>0x0?_0x4b2e7b[_0x7cf226(0x500)]=![]:_0x4b2e7b[_0x7cf226(0x500)]=!![];});_0x4b2e7b&&_0x4b2e7b['addEventListener'](_0x49f585(0x421),handleGenerateFromBlueprint);const _0x228e26=document[_0x49f585(0x87d)](_0x49f585(0x270)),_0x5ce689=document[_0x49f585(0x87d)]('generate-from-parallel-test-btn');_0x228e26&&_0x228e26[_0x49f585(0x214)](_0x49f585(0x57c),_0x33da2c=>{const _0x1d8d87=_0x49f585;_0x5ce689[_0x1d8d87(0x500)]=_0x33da2c[_0x1d8d87(0x9cf)][_0x1d8d87(0x978)][_0x1d8d87(0x97d)]===0x0;});_0x5ce689&&_0x5ce689['addEventListener']('click',handleGenerateParallelTest);loadQuizBtn['addEventListener'](_0x49f585(0x421),handleLoadQuiz),startQuizBtn[_0x49f585(0x214)](_0x49f585(0x421),async()=>{const _0x191033=_0x49f585,_0x7bd824=document[_0x191033(0x87d)](_0x191033(0x973));currentStudentName=_0x7bd824[_0x191033(0x810)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0x1fa803=currentQuizData['id'],_0x5ee7c6=doc(db,_0x191033(0x495)+appId+'/public/data/quizzes/'+_0x1fa803+_0x191033(0x386),currentStudentName);await setDoc(_0x5ee7c6,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x2bbab5){console[_0x191033(0x670)](_0x191033(0x4cd),_0x2bbab5),showMessage(_0x191033(0x685));return;}studentNameSelectionView[_0x191033(0x1a0)]['add'](_0x191033(0x250)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x49f585(0x87d)]('join-live-game-btn')['addEventListener']('click',showJoinGameView),document[_0x49f585(0x87d)]('confirm-join-game-btn')[_0x49f585(0x214)](_0x49f585(0x421),handleJoinLiveGame),document[_0x49f585(0x87d)](_0x49f585(0x340))['addEventListener'](_0x49f585(0x421),()=>showView(_0x49f585(0x59e)));const _0x26b5ad=()=>{const _0x25dbb0=_0x49f585,_0x46f74c=document[_0x25dbb0(0x87d)](_0x25dbb0(0x4ac))[_0x25dbb0(0x573)][_0x25dbb0(0x356)](/[^a-z0-9]/gi,'_')[_0x25dbb0(0x85a)]();return _0x25dbb0(0x865)+(_0x46f74c||_0x25dbb0(0x411));},_0x4f76a4=document[_0x49f585(0x87d)](_0x49f585(0x303));_0x4f76a4&&_0x4f76a4[_0x49f585(0x214)]('input',_0x472afe=>{const _0x3e245a=_0x49f585,_0x1a123b=_0x472afe[_0x3e245a(0x9cf)]['value'][_0x3e245a(0x85a)]()[_0x3e245a(0x4ca)](),_0x47013e=document[_0x3e245a(0x87d)](_0x3e245a(0x798)),_0x4323c8=_0x47013e[_0x3e245a(0x4fa)](_0x3e245a(0x582));_0x4323c8[_0x3e245a(0x2fb)](_0x5b11ec=>{const _0x4bbce2=_0x3e245a;let _0x1c38e4=![];const _0x467e51=_0x5b11ec['querySelectorAll'](_0x4bbce2(0x93e));_0x467e51[_0x4bbce2(0x2fb)](_0x4331d9=>{const _0x4767db=_0x4bbce2,_0xdb9d5b=_0x4331d9[_0x4767db(0x33b)](_0x4767db(0x7dd))[_0x4767db(0x573)][_0x4767db(0x85a)]();_0xdb9d5b[_0x4767db(0x777)](_0x1a123b)?(_0x4331d9[_0x4767db(0x63c)][_0x4767db(0x55f)]='flex',_0x1c38e4=!![]):_0x4331d9['style'][_0x4767db(0x55f)]=_0x4767db(0x293);}),_0x1c38e4?_0x5b11ec[_0x4bbce2(0x63c)][_0x4bbce2(0x55f)]=_0x4bbce2(0x6b5):_0x5b11ec[_0x4bbce2(0x63c)][_0x4bbce2(0x55f)]=_0x4bbce2(0x293);});});document['getElementById'](_0x49f585(0x438))[_0x49f585(0x214)]('click',()=>exportTableAsImage('results-table-container',_0x26b5ad())),document[_0x49f585(0x87d)](_0x49f585(0x54a))['addEventListener'](_0x49f585(0x421),()=>exportTableAsPDF('results-table',_0x26b5ad())),document[_0x49f585(0x87d)](_0x49f585(0x9d1))['addEventListener']('click',()=>exportTableAsWord('results-table-container',_0x26b5ad())),document['getElementById'](_0x49f585(0x8b6))['addEventListener'](_0x49f585(0x421),()=>exportTableAsExcel(_0x49f585(0x1de),_0x26b5ad()));const _0x21fb16=()=>{const _0x28c09e=_0x49f585,_0x54fdde=document[_0x28c09e(0x87d)](_0x28c09e(0x4ac))[_0x28c09e(0x573)][_0x28c09e(0x356)](/[^a-z0-9]/gi,'_')[_0x28c09e(0x85a)]();return _0x28c09e(0x359)+(_0x54fdde||'quiz');};document[_0x49f585(0x87d)](_0x49f585(0x1d8))[_0x49f585(0x214)]('click',()=>exportTableAsImage(_0x49f585(0x515),_0x21fb16())),document[_0x49f585(0x87d)](_0x49f585(0x9b2))[_0x49f585(0x214)](_0x49f585(0x421),()=>exportTableAsPDF(_0x49f585(0x6ea),_0x21fb16())),document[_0x49f585(0x87d)](_0x49f585(0x3da))[_0x49f585(0x214)](_0x49f585(0x421),()=>exportTableAsWord(_0x49f585(0x515),_0x21fb16())),document[_0x49f585(0x87d)](_0x49f585(0x8a0))['addEventListener']('click',()=>exportTableAsExcel(_0x49f585(0x6ea),_0x21fb16())),projectQuizzesList[_0x49f585(0x214)]('click',async _0x37b9c0=>{const _0x36c3e5=_0x49f585,_0x3251d4=_0x37b9c0[_0x36c3e5(0x9cf)][_0x36c3e5(0x29d)](_0x36c3e5(0x29a)),_0x49303e=_0x37b9c0[_0x36c3e5(0x9cf)][_0x36c3e5(0x29d)]('.generate-post-test-btn'),_0x447940=_0x37b9c0[_0x36c3e5(0x9cf)]['closest'](_0x36c3e5(0x6cf)),_0x32d552=_0x37b9c0[_0x36c3e5(0x9cf)]['closest'](_0x36c3e5(0x96d)),_0x170768=_0x37b9c0[_0x36c3e5(0x9cf)][_0x36c3e5(0x29d)](_0x36c3e5(0x74e)),_0x1bbe3f=_0x37b9c0['target'][_0x36c3e5(0x29d)](_0x36c3e5(0x98d)),_0x44851c=_0x37b9c0[_0x36c3e5(0x9cf)][_0x36c3e5(0x29d)]('.edit-quiz-btn'),_0x2609e3=_0x37b9c0['target']['closest'](_0x36c3e5(0x45d)),_0x3e40ed=_0x37b9c0[_0x36c3e5(0x9cf)]['closest'](_0x36c3e5(0x4c3)),_0x268cc9=_0x37b9c0['target'][_0x36c3e5(0x29d)](_0x36c3e5(0x767)),_0x15fb96=_0x37b9c0[_0x36c3e5(0x9cf)][_0x36c3e5(0x29d)]('.parallel-quiz-btn'),_0x1c1967=_0x37b9c0[_0x36c3e5(0x9cf)]['closest'](_0x36c3e5(0x76b)),_0xe2b2c=_0x37b9c0['target'][_0x36c3e5(0x29d)]('.pair-quiz-btn'),_0x2ede66=_0x37b9c0[_0x36c3e5(0x9cf)]['closest'](_0x36c3e5(0x4d1)),_0x2e52d3=_0x37b9c0[_0x36c3e5(0x9cf)][_0x36c3e5(0x29d)](_0x36c3e5(0x503)),_0x5dede1=_0x37b9c0[_0x36c3e5(0x9cf)][_0x36c3e5(0x29d)]('.admin-try-quiz-list-btn'),_0x1caaea=_0x37b9c0[_0x36c3e5(0x9cf)]['closest']('.start-live-race-btn'),_0x2f2418=_0x37b9c0['target'][_0x36c3e5(0x29d)]('.export-pdf-list-btn'),_0x152bc=_0x37b9c0[_0x36c3e5(0x9cf)][_0x36c3e5(0x29d)](_0x36c3e5(0x1b5)),_0x25d537=_0x37b9c0[_0x36c3e5(0x9cf)][_0x36c3e5(0x29d)](_0x36c3e5(0x835)),_0x406364=_0x37b9c0[_0x36c3e5(0x9cf)][_0x36c3e5(0x29d)](_0x36c3e5(0x5bf)),_0x356e23=_0x37b9c0[_0x36c3e5(0x9cf)][_0x36c3e5(0x29d)]('.generate-easy-version-btn');if(_0x406364){const _0x5920d6=_0x406364[_0x36c3e5(0x2e0)]['quizId'],_0x39dec6=document[_0x36c3e5(0x87d)](_0x36c3e5(0x43b)+_0x5920d6);_0x39dec6&&_0x39dec6[_0x36c3e5(0x1a0)][_0x36c3e5(0x788)](_0x36c3e5(0x250));}else{if(_0x49303e){const _0x4702ae=_0x49303e[_0x36c3e5(0x2e0)][_0x36c3e5(0x20f)],_0x1aeb29=allQuizzes[_0x36c3e5(0x645)](_0x5d2abe=>_0x5d2abe['id']===_0x4702ae);_0x1aeb29&&handleGenerateParallelPostTest(_0x1aeb29);}else{if(_0x447940)handleCompareResults(_0x447940[_0x36c3e5(0x2e0)][_0x36c3e5(0x20f)],_0x447940[_0x36c3e5(0x2e0)]['preTestId']);else{if(_0x32d552){const _0x2dad9b=_0x32d552['dataset'][_0x36c3e5(0x20f)],_0x5cf585=allQuizzes[_0x36c3e5(0x645)](_0x27402c=>_0x27402c['id']===_0x2dad9b);_0x5cf585&&_0x5cf585[_0x36c3e5(0x5ab)]?(displayLessonPlan(_0x5cf585[_0x36c3e5(0x5ab)],_0x5cf585),showConfirmation(_0x36c3e5(0x842),()=>handleGenerateLessonPlan(_0x2dad9b)),document[_0x36c3e5(0x87d)](_0x36c3e5(0x450))['querySelector']('h3')[_0x36c3e5(0x573)]=_0x36c3e5(0x40f),document[_0x36c3e5(0x87d)](_0x36c3e5(0x5f1))[_0x36c3e5(0x573)]=_0x36c3e5(0x971)):handleGenerateLessonPlan(_0x2dad9b);}else{if(_0x170768)handleToggleStarQuiz(_0x170768['dataset'][_0x36c3e5(0x20f)]);else{if(_0x1bbe3f)copyTextToClipboard(_0x1bbe3f[_0x36c3e5(0x2e0)][_0x36c3e5(0x20f)],'คัดลอกรหัสแล้ว!');else{if(_0x44851c)handleOpenQuizEditor(_0x44851c['dataset']['quizId']);else{if(_0x2609e3)handleQuizSettings(_0x2609e3['dataset']['quizId']);else{if(_0x3e40ed)handleDuplicateQuiz(_0x3e40ed[_0x36c3e5(0x2e0)]['quizId']);else{if(_0x268cc9)handleRenameQuiz(_0x268cc9[_0x36c3e5(0x2e0)]['quizId'],_0x268cc9['dataset'][_0x36c3e5(0x6b9)]);else{if(_0x15fb96){const _0x14b6a4=_0x15fb96[_0x36c3e5(0x2e0)]['quizId'],_0x272ae6=allQuizzes[_0x36c3e5(0x645)](_0x148b29=>_0x148b29['id']===_0x14b6a4);_0x272ae6&&handleGenerateParallelFromBank(_0x272ae6);}else{if(_0x1c1967)handleMoveQuiz(_0x1c1967[_0x36c3e5(0x2e0)][_0x36c3e5(0x20f)]);else{if(_0xe2b2c)handleManualQuizPairing(_0xe2b2c['dataset'][_0x36c3e5(0x20f)]);else{if(_0x2ede66)handleUnpairQuiz(_0x2ede66[_0x36c3e5(0x2e0)][_0x36c3e5(0x20f)]);else{if(_0x2e52d3){const _0x14f8ee=_0x2e52d3[_0x36c3e5(0x2e0)][_0x36c3e5(0x20f)],_0x4c91e6=allQuizzes[_0x36c3e5(0x645)](_0x924fb0=>_0x924fb0['id']===_0x14f8ee);if(_0x4c91e6)startPresentation(_0x4c91e6);}else{if(_0x5dede1){const _0x5a09a1=_0x5dede1[_0x36c3e5(0x2e0)][_0x36c3e5(0x20f)],_0x2db555=allQuizzes[_0x36c3e5(0x645)](_0x3036c3=>_0x3036c3['id']===_0x5a09a1);_0x2db555&&(currentQuizData=_0x2db555,startAdminTest());}else{if(_0x1caaea)handleStartLiveRace(_0x1caaea[_0x36c3e5(0x2e0)][_0x36c3e5(0x20f)]);else{if(_0x2f2418)actionTargetId=_0x2f2418[_0x36c3e5(0x2e0)]['quizId'],document[_0x36c3e5(0x87d)](_0x36c3e5(0x7e2))[_0x36c3e5(0x1a0)][_0x36c3e5(0x594)](_0x36c3e5(0x250));else{if(_0x152bc)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x152bc[_0x36c3e5(0x2e0)][_0x36c3e5(0x6b9)]+_0x36c3e5(0x80e),()=>handleDeleteQuiz(_0x152bc[_0x36c3e5(0x2e0)][_0x36c3e5(0x20f)]));else{if(_0x25d537)handleQuizStatus(_0x25d537[_0x36c3e5(0x2e0)]['quizId']);else{if(_0x356e23)handleGenerateEasyVersionQuiz(_0x356e23[_0x36c3e5(0x2e0)][_0x36c3e5(0x20f)]);else _0x3251d4&&showQuizDetailView(_0x3251d4[_0x36c3e5(0x2e0)][_0x36c3e5(0x20f)]);}}}}}}}}}}}}}}}}}}}}}),document[_0x49f585(0x87d)](_0x49f585(0x6ea))[_0x49f585(0x33b)](_0x49f585(0x2e3))['addEventListener'](_0x49f585(0x421),_0x5423fd=>{const _0x4b76cd=_0x49f585,_0x3d93d3=_0x5423fd[_0x4b76cd(0x9cf)][_0x4b76cd(0x29d)](_0x4b76cd(0x76f));if(!_0x3d93d3||!_0x3d93d3[_0x4b76cd(0x2e0)][_0x4b76cd(0x2f3)])return;const _0x13ddc3=_0x3d93d3['dataset'][_0x4b76cd(0x2f3)];if(quizLeaderboardSortBy===_0x13ddc3)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x4b76cd(0x706)?_0x4b76cd(0x94d):_0x4b76cd(0x706);else{quizLeaderboardSortBy=_0x13ddc3;const _0x207447=[_0x4b76cd(0x49f)];quizLeaderboardSortOrder=_0x207447[_0x4b76cd(0x777)](_0x13ddc3)?_0x4b76cd(0x706):_0x4b76cd(0x94d);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x4b76cd(0x70f));}),document[_0x49f585(0x87d)](_0x49f585(0x197))[_0x49f585(0x214)](_0x49f585(0x421),closePresentation),document['getElementById'](_0x49f585(0x9a8))[_0x49f585(0x214)](_0x49f585(0x421),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x49f585(0x60b))[_0x49f585(0x214)](_0x49f585(0x421),()=>{const _0x572b28=_0x49f585;currentQuizData[_0x572b28(0x9a5)]&&currentPresentationSlide<currentQuizData[_0x572b28(0x9a5)]['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x49f585(0x214)](_0x49f585(0x5d4),()=>{const _0xf720ac=_0x49f585;!document[_0xf720ac(0x1d6)]&&(presentationModal['style'][_0xf720ac(0x55f)]=_0xf720ac(0x293));}),document[_0x49f585(0x87d)](_0x49f585(0x497))[_0x49f585(0x214)]('click',handleDeleteAllStudents),studentList[_0x49f585(0x214)](_0x49f585(0x421),_0x3848d9=>{const _0x571353=_0x49f585,_0x20042b=_0x3848d9[_0x571353(0x9cf)][_0x571353(0x29d)]('.delete-student-btn');if(_0x20042b){const _0x1d4386=_0x20042b['dataset']['studentName'];handleDeleteStudent(_0x1d4386);}}),document[_0x49f585(0x87d)]('generate-from-file-btn')['addEventListener'](_0x49f585(0x421),handleGenerateFromFileClick),fileUploadInput[_0x49f585(0x214)](_0x49f585(0x57c),_0xfb5392=>{const _0x4e30a4=_0x49f585,_0x81f9ab=_0xfb5392[_0x4e30a4(0x9cf)]['files'][0x0],_0x359961=document[_0x4e30a4(0x87d)]('generate-from-file-btn');_0x81f9ab?(selectedFile=_0x81f9ab,_0x359961[_0x4e30a4(0x500)]=![]):(selectedFile=null,_0x359961[_0x4e30a4(0x500)]=!![]);}),document[_0x49f585(0x87d)](_0x49f585(0x75c))[_0x49f585(0x214)](_0x49f585(0x57c),_0x4c306c=>{const _0x22e6d7=_0x49f585,_0x38b1a5=document['getElementById'](_0x22e6d7(0x8ce)),_0x46fe2a=document[_0x22e6d7(0x87d)](_0x22e6d7(0x287)),_0xef03df=document['getElementById']('timer-duration-input');_0x4c306c[_0x22e6d7(0x9cf)][_0x22e6d7(0x810)]==='none'?_0x38b1a5[_0x22e6d7(0x1a0)]['add'](_0x22e6d7(0x250)):(_0x38b1a5[_0x22e6d7(0x1a0)][_0x22e6d7(0x594)](_0x22e6d7(0x250)),_0x4c306c['target'][_0x22e6d7(0x810)]===_0x22e6d7(0x204)?(_0x46fe2a[_0x22e6d7(0x573)]=_0x22e6d7(0x94b),_0xef03df[_0x22e6d7(0x810)]='10'):(_0x46fe2a[_0x22e6d7(0x573)]=_0x22e6d7(0x3ca),_0xef03df[_0x22e6d7(0x810)]='30'));}),document[_0x49f585(0x87d)](_0x49f585(0x910))[_0x49f585(0x214)](_0x49f585(0x57c),_0x1fde40=>{const _0x356441=_0x49f585,_0x2b8799=document[_0x356441(0x87d)]('num-choices-container'),_0x571184=_0x1fde40[_0x356441(0x9cf)][_0x356441(0x810)],_0x3c4a09=document[_0x356441(0x33b)](_0x356441(0x759)),_0x57d539=document[_0x356441(0x87d)](_0x356441(0x300)),_0x304a2d=document[_0x356441(0x87d)](_0x356441(0x8fe));_0x571184===_0x356441(0x1a9)?_0x3c4a09[_0x356441(0x573)]=_0x356441(0x79f):_0x3c4a09[_0x356441(0x573)]='จำนวนข้อ:',_0x571184===_0x356441(0x280)||_0x571184===_0x356441(0x4c9)||_0x571184==='mixed'?_0x2b8799[_0x356441(0x1a0)]['remove']('hidden'):_0x2b8799[_0x356441(0x1a0)][_0x356441(0x368)]('hidden'),_0x57d539[_0x356441(0x339)]=_0x304a2d[_0x356441(0x810)];}),document[_0x49f585(0x87d)](_0x49f585(0x8fe))[_0x49f585(0x214)]('input',_0x4571bf=>{const _0x4e30ea=_0x49f585;document[_0x4e30ea(0x87d)](_0x4e30ea(0x300))[_0x4e30ea(0x339)]=_0x4571bf['target'][_0x4e30ea(0x810)];}),document[_0x49f585(0x87d)](_0x49f585(0x811))[_0x49f585(0x214)](_0x49f585(0x57c),_0x996263=>{const _0x5009c3=_0x49f585,_0x3d01fc=document['getElementById'](_0x5009c3(0x342)),_0x290587=document['getElementById'](_0x5009c3(0x892)),_0x46cc15=document['getElementById'](_0x5009c3(0x45b));_0x996263[_0x5009c3(0x9cf)][_0x5009c3(0x810)]===_0x5009c3(0x293)?_0x3d01fc[_0x5009c3(0x1a0)][_0x5009c3(0x368)](_0x5009c3(0x250)):(_0x3d01fc[_0x5009c3(0x1a0)]['remove'](_0x5009c3(0x250)),_0x996263[_0x5009c3(0x9cf)][_0x5009c3(0x810)]===_0x5009c3(0x204)?_0x290587[_0x5009c3(0x573)]='ระยะเวลา\x20(นาที):':_0x290587[_0x5009c3(0x573)]='ระยะเวลา\x20(วินาที):');}),document[_0x49f585(0x87d)](_0x49f585(0x659))[_0x49f585(0x214)](_0x49f585(0x421),()=>{const _0x1d59b4=_0x49f585;document[_0x1d59b4(0x87d)](_0x1d59b4(0x35f))['classList'][_0x1d59b4(0x368)](_0x1d59b4(0x250));}),document[_0x49f585(0x87d)](_0x49f585(0x8d6))[_0x49f585(0x214)](_0x49f585(0x421),()=>{const _0x28504a=_0x49f585;document[_0x28504a(0x87d)]('quiz-editor-modal')[_0x28504a(0x1a0)][_0x28504a(0x368)](_0x28504a(0x250));}),document[_0x49f585(0x87d)](_0x49f585(0x9bb))[_0x49f585(0x214)]('click',handleVerifyAnswersInEditor),document[_0x49f585(0x87d)](_0x49f585(0x7b7))[_0x49f585(0x214)]('click',()=>{const _0x31d3d5=_0x49f585;document[_0x31d3d5(0x87d)](_0x31d3d5(0x35f))['classList'][_0x31d3d5(0x368)](_0x31d3d5(0x250)),showConfirmation(_0x31d3d5(0x7aa),handleSaveChanges);}),document[_0x49f585(0x87d)](_0x49f585(0x1f1))[_0x49f585(0x214)](_0x49f585(0x421),handleAutoFixLatex);const _0x5f0c6c=document['getElementById'](_0x49f585(0x196));_0x5f0c6c&&_0x5f0c6c[_0x49f585(0x214)](_0x49f585(0x421),_0x2799c8=>{const _0x974807=_0x49f585,_0xf1ee40=_0x2799c8[_0x974807(0x9cf)][_0x974807(0x29d)](_0x974807(0x2eb)),_0x6b0515=_0x2799c8[_0x974807(0x9cf)][_0x974807(0x29d)](_0x974807(0x762));if(_0xf1ee40){const _0x284957=_0xf1ee40['closest'](_0x974807(0x192)),_0x334a5f=parseInt(_0x284957[_0x974807(0x2e0)][_0x974807(0x943)],0xa);handleRegenerateQuestionInEditor(_0x334a5f);}else{if(_0x6b0515){const _0x4ca1b8=_0x6b0515[_0x974807(0x29d)](_0x974807(0x192)),_0x4c05c3=parseInt(_0x4ca1b8['dataset']['qIndex'],0xa);handleAiFixFormula(_0x4c05c3);}}});document['getElementById'](_0x49f585(0x435))[_0x49f585(0x214)](_0x49f585(0x421),openQuizBankModal),document[_0x49f585(0x87d)](_0x49f585(0x41f))[_0x49f585(0x214)](_0x49f585(0x421),()=>{const _0x530ea5=_0x49f585;document[_0x530ea5(0x87d)](_0x530ea5(0x6c9))[_0x530ea5(0x1a0)][_0x530ea5(0x368)]('hidden');}),document[_0x49f585(0x87d)](_0x49f585(0x2ae))['addEventListener'](_0x49f585(0x231),_0x557bd2=>renderQuizBankList(_0x557bd2['target'][_0x49f585(0x810)]));const _0x3e28c4=document['getElementById'](_0x49f585(0x798));if(_0x3e28c4){let _0x5b5592=null;_0x3e28c4[_0x49f585(0x214)](_0x49f585(0x421),_0x574441=>{const _0x562c9d=_0x49f585,_0x42ee7a=_0x574441[_0x562c9d(0x9cf)],_0x3bf84f=_0x42ee7a[_0x562c9d(0x29d)](_0x562c9d(0x69c)),_0x477c8e=_0x42ee7a[_0x562c9d(0x29d)](_0x562c9d(0x1bd)),_0x4dac37=_0x42ee7a['closest'](_0x562c9d(0x6da)),_0x24972e=_0x42ee7a[_0x562c9d(0x29d)](_0x562c9d(0x61e));if(_0x477c8e){_0x574441['preventDefault']();const _0xeecc48=_0x477c8e[_0x562c9d(0x2e0)]['id'],_0x22243f=_0x477c8e[_0x562c9d(0x29d)](_0x562c9d(0x2e8))[_0x562c9d(0x33b)](_0x562c9d(0x7dd))[_0x562c9d(0x573)];showConfirmation(_0x562c9d(0x29e)+_0x22243f+'\x22?',()=>handleDeleteCustomTopic(_0xeecc48));}else{if(_0x3bf84f){_0x574441[_0x562c9d(0x3dd)]();_0x5b5592&&toggleTopicEditMode(_0x5b5592,![]);const _0x311b89=_0x3bf84f[_0x562c9d(0x29d)](_0x562c9d(0x607));_0x5b5592=_0x311b89,toggleTopicEditMode(_0x311b89,!![]);}else{if(_0x4dac37){_0x574441[_0x562c9d(0x3dd)]();const _0x3f337b=_0x4dac37[_0x562c9d(0x2e0)]['id'],_0x3d4cb3=_0x4dac37[_0x562c9d(0x29d)](_0x562c9d(0x607)),_0x55b843=_0x3d4cb3['querySelector'](_0x562c9d(0x63e))[_0x562c9d(0x810)];handleUpdateCustomTopic(_0x3f337b,_0x55b843),_0x5b5592=null;}else{if(_0x24972e){_0x574441[_0x562c9d(0x3dd)]();const _0x3807fc=_0x24972e[_0x562c9d(0x29d)](_0x562c9d(0x607));toggleTopicEditMode(_0x3807fc,![]),_0x5b5592=null;}}}}}),document[_0x49f585(0x87d)](_0x49f585(0x4d9))[_0x49f585(0x214)](_0x49f585(0x421),()=>{const _0x25b3aa=_0x49f585;document[_0x25b3aa(0x87d)](_0x25b3aa(0x77e))['classList'][_0x25b3aa(0x368)]('hidden');}),document[_0x49f585(0x87d)](_0x49f585(0x491))[_0x49f585(0x214)](_0x49f585(0x421),()=>{const _0x26e805=_0x49f585;document['getElementById']('lesson-plan-modal')[_0x26e805(0x1a0)][_0x26e805(0x368)]('hidden');}),document[_0x49f585(0x87d)]('export-lesson-pdf-btn')['addEventListener'](_0x49f585(0x421),handleExportLessonPDF);}document[_0x49f585(0x87d)](_0x49f585(0x99c))['addEventListener'](_0x49f585(0x421),()=>{const _0x14b704=_0x49f585;document[_0x14b704(0x87d)](_0x14b704(0x19d))[_0x14b704(0x1a0)][_0x14b704(0x368)](_0x14b704(0x250));}),document[_0x49f585(0x87d)]('close-comparison-modal-footer-btn')[_0x49f585(0x214)](_0x49f585(0x421),()=>{const _0xa93542=_0x49f585;document[_0xa93542(0x87d)](_0xa93542(0x19d))[_0xa93542(0x1a0)][_0xa93542(0x368)](_0xa93542(0x250));}),setupComparisonModalTabs(),document[_0x49f585(0x792)][_0x49f585(0x214)](_0x49f585(0x421),function(_0x2d6f20){const _0x21155a=_0x49f585;if(_0x2d6f20[_0x21155a(0x9cf)][_0x21155a(0x1a0)][_0x21155a(0x426)](_0x21155a(0x5c1))){const _0x1ec2a3=unescape(_0x2d6f20['target']['dataset'][_0x21155a(0x6b9)]);startSkillPractice(_0x1ec2a3);}}),document['getElementById'](_0x49f585(0x41c))[_0x49f585(0x214)](_0x49f585(0x421),_0x4e015c=>{const _0x259eff=_0x49f585,_0x2bb260=_0x4e015c[_0x259eff(0x9cf)][_0x259eff(0x29d)](_0x259eff(0x1c7));if(_0x2bb260){const _0x45413b=_0x2bb260[_0x259eff(0x2e0)][_0x259eff(0x49f)];handleDeleteSubmission(_0x45413b);}});}async function showStudentProgressView(){const _0x10b944=_0x2626e0;studentInitialView['classList']['add'](_0x10b944(0x250)),document[_0x10b944(0x87d)](_0x10b944(0x554))['classList'][_0x10b944(0x594)](_0x10b944(0x250));const _0x30d365=document['getElementById'](_0x10b944(0x80b)),_0x511ba6=document[_0x10b944(0x87d)](_0x10b944(0x64e)),_0x152816=document[_0x10b944(0x87d)](_0x10b944(0x7bb));_0x152816[_0x10b944(0x9a4)]=_0x10b944(0x4a0),_0x511ba6[_0x10b944(0x9a4)]=_0x10b944(0x1d2),_0x511ba6[_0x10b944(0x500)]=!![],_0x30d365[_0x10b944(0x9a4)]=_0x10b944(0x559);if(allProjects[_0x10b944(0x97d)]===0x0){const _0x2ea870=collection(db,'artifacts/'+appId+_0x10b944(0x774)),_0x212daa=await getDocs(_0x2ea870);allProjects=_0x212daa['docs'][_0x10b944(0x1e7)](_0x1a2475=>({'id':_0x1a2475['id'],..._0x1a2475[_0x10b944(0x26b)]()}));}const _0x446236=allProjects[_0x10b944(0x6c1)](_0xc4e256=>_0xc4e256[_0x10b944(0x446)]?.[_0x10b944(0x6e4)]!==![]);_0x446236[_0x10b944(0x2f3)]((_0x50ad99,_0x13963e)=>_0x50ad99[_0x10b944(0x560)][_0x10b944(0x483)](_0x13963e['projectName'],'th')),_0x30d365[_0x10b944(0x9a4)]=_0x10b944(0x3bf)+_0x446236[_0x10b944(0x1e7)](_0x56a6a6=>_0x10b944(0x30f)+_0x56a6a6['id']+'\x22>'+_0x56a6a6[_0x10b944(0x560)]+_0x10b944(0x78e))[_0x10b944(0x3a2)](''),_0x30d365[_0x10b944(0x69b)]=()=>{const _0x4cd74c=_0x10b944,_0x371e80=_0x511ba6[_0x4cd74c(0x810)],_0x2fc4bc=_0x30d365['value'];_0x511ba6[_0x4cd74c(0x500)]=!![],_0x511ba6['innerHTML']=_0x4cd74c(0x1d2),_0x152816['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x2fc4bc)return;const _0x206f6d=allProjects[_0x4cd74c(0x645)](_0x349ef6=>_0x349ef6['id']===_0x2fc4bc);if(!_0x206f6d||!_0x206f6d[_0x4cd74c(0x7ca)])return;const _0x3dceb1=()=>{const _0x139eff=_0x4cd74c;_0x511ba6['innerHTML']=_0x139eff(0x1d2)+_0x206f6d[_0x139eff(0x7ca)][_0x139eff(0x1e7)](_0x2ef513=>_0x139eff(0x30f)+_0x2ef513+'\x22>'+_0x2ef513+_0x139eff(0x78e))['join'](''),_0x511ba6[_0x139eff(0x500)]=![];const _0x5b5d83=Array[_0x139eff(0x73e)](_0x511ba6[_0x139eff(0x95b)])[_0x139eff(0x1e7)](_0x269aec=>_0x269aec['value']);if(_0x371e80&&_0x5b5d83['includes'](_0x371e80))_0x511ba6[_0x139eff(0x810)]=_0x371e80,_0x511ba6[_0x139eff(0x8be)](new Event(_0x139eff(0x57c)));else _0x206f6d[_0x139eff(0x7ca)][_0x139eff(0x97d)]===0x1&&(_0x511ba6['value']=_0x206f6d[_0x139eff(0x7ca)][0x0],_0x511ba6[_0x139eff(0x8be)](new Event(_0x139eff(0x57c))));};if(_0x206f6d[_0x4cd74c(0x446)]?.[_0x4cd74c(0x7ac)]){if(sessionStorage['getItem'](_0x4cd74c(0x768)+_0x2fc4bc)===_0x4cd74c(0x9a3)){_0x3dceb1();return;}const _0x1f3d5a=document[_0x4cd74c(0x87d)](_0x4cd74c(0x6b0)),_0x56827a=document['getElementById'](_0x4cd74c(0x781)),_0x481206=document[_0x4cd74c(0x87d)](_0x4cd74c(0x7d9)),_0x162466=document['getElementById'](_0x4cd74c(0x61c)),_0x25ab1d=document[_0x4cd74c(0x87d)](_0x4cd74c(0x581));document[_0x4cd74c(0x87d)](_0x4cd74c(0x62e))[_0x4cd74c(0x573)]='สำหรับโปรเจค:\x20'+_0x206f6d['projectName'],_0x162466[_0x4cd74c(0x810)]='',_0x25ab1d['classList'][_0x4cd74c(0x368)]('hidden'),_0x1f3d5a['classList']['remove']('hidden');const _0x4f5812=()=>{const _0x22080b=_0x4cd74c,_0x23b7f6=_0x162466[_0x22080b(0x810)]['trim']();_0x23b7f6===_0x206f6d[_0x22080b(0x446)]['passcode']?(sessionStorage[_0x22080b(0x3c8)](_0x22080b(0x768)+_0x2fc4bc,_0x22080b(0x9a3)),_0x1f3d5a[_0x22080b(0x1a0)][_0x22080b(0x368)](_0x22080b(0x250)),_0x3dceb1(),_0x56827a[_0x22080b(0x297)](_0x22080b(0x421),_0x4f5812)):_0x25ab1d[_0x22080b(0x1a0)][_0x22080b(0x594)](_0x22080b(0x250));};_0x56827a[_0x4cd74c(0x8af)]=_0x4f5812,_0x481206['onclick']=()=>{const _0x248d2b=_0x4cd74c;_0x1f3d5a[_0x248d2b(0x1a0)][_0x248d2b(0x368)](_0x248d2b(0x250)),_0x30d365[_0x248d2b(0x810)]='',_0x56827a['removeEventListener']('click',_0x4f5812);};}else _0x3dceb1();},_0x511ba6[_0x10b944(0x69b)]=()=>{const _0x5a004d=_0x10b944,_0x3e9321=_0x30d365[_0x5a004d(0x810)],_0xc751f3=_0x511ba6[_0x5a004d(0x810)];_0x3e9321&&_0xc751f3&&renderStudentProgressDashboard(_0x3e9321,_0xc751f3);};}async function renderStudentProgressDashboard(_0x1a61d9,_0x16f384){const _0x2fb6c1=_0x2626e0,_0x5a9ce4=document['getElementById'](_0x2fb6c1(0x7bb));_0x5a9ce4['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0xf793f7=collection(db,_0x2fb6c1(0x495)+appId+_0x2fb6c1(0x20c)),_0x32e114=query(_0xf793f7,where(_0x2fb6c1(0x346),'==',_0x1a61d9)),_0x190f92=await getDocs(_0x32e114),_0x55b75d=_0x190f92['docs'][_0x2fb6c1(0x1e7)](_0x975c8f=>({'id':_0x975c8f['id'],..._0x975c8f[_0x2fb6c1(0x26b)]()})),_0x3ff147=_0x55b75d[_0x2fb6c1(0x1e7)](_0xc95c53=>getDoc(doc(db,_0x2fb6c1(0x495)+appId+_0x2fb6c1(0x72e)+_0xc95c53['id']+_0x2fb6c1(0x386),_0x16f384))),_0x243c0f=await Promise[_0x2fb6c1(0x866)](_0x3ff147),_0x3f7b13=_0x243c0f[_0x2fb6c1(0x6c1)](_0x262205=>_0x262205[_0x2fb6c1(0x7c0)]())[_0x2fb6c1(0x1e7)](_0x3f838d=>({'quizId':_0x3f838d[_0x2fb6c1(0x4fe)][_0x2fb6c1(0x6b4)]['parent']['id'],..._0x3f838d['data']()}));if(_0x3f7b13['length']===0x0){_0x5a9ce4[_0x2fb6c1(0x9a4)]=_0x2fb6c1(0x91a);return;}let _0x9155b1=_0x2fb6c1(0x35a);_0x3f7b13['forEach'](_0x5d6b01=>{const _0x1b6d31=_0x2fb6c1,_0x24bd65=_0x55b75d['find'](_0x5b3e0d=>_0x5b3e0d['id']===_0x5d6b01[_0x1b6d31(0x20f)]),_0x540717=_0x24bd65[_0x1b6d31(0x446)]?.[_0x1b6d31(0x7b4)]||_0x1b6d31(0x67a),_0xd7da81=_0x24bd65[_0x1b6d31(0x446)]?.[_0x1b6d31(0x1bb)]??0x0,_0x338eff=_0x5d6b01[_0x1b6d31(0x273)]>=_0xd7da81;let _0x1eb55f='',_0x27ebb2=_0x1b6d31(0x7d3);switch(_0x540717){case _0x1b6d31(0x67a):case'show_results_only':_0x27ebb2=_0x338eff?'bg-green-50':_0x1b6d31(0x3d0),_0x1eb55f=_0x1b6d31(0x310)+(_0x338eff?_0x1b6d31(0x37c):_0x1b6d31(0x2f2))+'\x22>'+_0x5d6b01[_0x1b6d31(0x273)]+_0x1b6d31(0x576)+_0x5d6b01['totalQuestions']+_0x1b6d31(0x35c)+(_0x338eff?'bg-green-200\x20text-green-800':'bg-red-200\x20text-red-800')+'\x22>'+(_0x338eff?_0x1b6d31(0x631):_0x1b6d31(0x679))+_0x1b6d31(0x4e3);break;case _0x1b6d31(0x472):_0x27ebb2=_0x338eff?_0x1b6d31(0x655):'bg-red-50',_0x1eb55f=_0x1b6d31(0x3ef)+(_0x338eff?_0x1b6d31(0x4c8):_0x1b6d31(0x89e))+'\x22>'+(_0x338eff?_0x1b6d31(0x631):_0x1b6d31(0x679))+_0x1b6d31(0x4e3);break;case _0x1b6d31(0x87b):_0x27ebb2=_0x1b6d31(0x923),_0x1eb55f=_0x1b6d31(0x86a);break;}_0x9155b1+=_0x1b6d31(0x2d9)+_0x27ebb2+_0x1b6d31(0x82a)+_0x24bd65[_0x1b6d31(0x6b9)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x5d6b01[_0x1b6d31(0x1b3)][_0x1b6d31(0x97d)]+_0x1b6d31(0x3c3)+new Date(_0x5d6b01[_0x1b6d31(0x77b)])[_0x1b6d31(0x6e7)](_0x1b6d31(0x8cb))+_0x1b6d31(0x8e7)+_0x1eb55f+_0x1b6d31(0x8e2);}),_0x9155b1+=_0x2fb6c1(0x622),_0x5a9ce4[_0x2fb6c1(0x9a4)]=_0x9155b1;}catch(_0x126873){console['error'](_0x2fb6c1(0x451),_0x126873),_0x5a9ce4[_0x2fb6c1(0x9a4)]=_0x2fb6c1(0x331);}}function setupStudentProgressListeners(){const _0x203d00=_0x2626e0;document['getElementById'](_0x203d00(0x1f4))[_0x203d00(0x214)](_0x203d00(0x421),showStudentProgressView),document[_0x203d00(0x87d)](_0x203d00(0x8c2))[_0x203d00(0x214)]('click',()=>{const _0x42d37f=_0x203d00;document[_0x42d37f(0x87d)](_0x42d37f(0x554))[_0x42d37f(0x1a0)][_0x42d37f(0x368)](_0x42d37f(0x250)),document['getElementById'](_0x42d37f(0x485))[_0x42d37f(0x1a0)][_0x42d37f(0x594)](_0x42d37f(0x250));});}async function startSkillPractice(_0x189262){const _0x50b643=_0x2626e0;studentResultArea['classList'][_0x50b643(0x368)](_0x50b643(0x250)),studentQuizArea['innerHTML']=_0x50b643(0x410),studentQuizArea['classList']['remove'](_0x50b643(0x250));try{const _0x56dad8=await getStandardizedTopic(_0x189262);console[_0x50b643(0x82b)](_0x50b643(0x8cf)+_0x189262+_0x50b643(0x4a6)+_0x56dad8+'\x22'),studentQuizArea[_0x50b643(0x33b)]('p')[_0x50b643(0x573)]='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x56dad8+_0x50b643(0x43a);const _0x560e47=collection(db,_0x50b643(0x495)+appId+'/public/data/practiceBank'),_0x208d7c=query(_0x560e47,where('topic','==',_0x56dad8)),_0x391503=await getDocs(_0x208d7c);if(_0x391503[_0x50b643(0x4f7)][_0x50b643(0x97d)]>=0x3){console[_0x50b643(0x82b)](_0x50b643(0x6f7)+_0x391503[_0x50b643(0x4f7)][_0x50b643(0x97d)]+_0x50b643(0x289)+_0x56dad8+_0x50b643(0x278));let _0x1666a5=_0x391503[_0x50b643(0x4f7)][_0x50b643(0x1e7)](_0x416d7d=>_0x416d7d[_0x50b643(0x26b)]());shuffleArray(_0x1666a5);const _0x90b1ad={'topic':_0x56dad8,'questions':_0x1666a5['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x90b1ad);}else{console['log'](_0x50b643(0x50e)+_0x56dad8+_0x50b643(0x298));const _0x3375cd=await generatePracticeQuestions(_0x56dad8);await saveDrillToPracticeBank(_0x3375cd,_0x56dad8),displaySkillPracticeDrill(_0x3375cd);}}catch(_0x1410ad){console[_0x50b643(0x670)](_0x50b643(0x562),_0x1410ad),showMessage(_0x50b643(0x4c4)),studentQuizArea[_0x50b643(0x1a0)][_0x50b643(0x368)]('hidden'),studentResultArea[_0x50b643(0x1a0)][_0x50b643(0x594)](_0x50b643(0x250));}}async function saveDrillToPracticeBank(_0x2425ce,_0x1e7de1){const _0x7244da=_0x2626e0,_0x2232ad=collection(db,_0x7244da(0x495)+appId+_0x7244da(0x281)),_0x166ab7=writeBatch(db);_0x2425ce[_0x7244da(0x9a5)][_0x7244da(0x2fb)](_0x107670=>{const _0xdee945=_0x7244da,_0x37f64d=doc(_0x2232ad);_0x166ab7[_0xdee945(0x681)](_0x37f64d,{'topic':_0x1e7de1,'questionText':_0x107670[_0xdee945(0x846)],'options':_0x107670[_0xdee945(0x95b)],'correctAnswerIndex':_0x107670['correctAnswerIndex'],'explanation':_0x107670[_0xdee945(0x48f)],'createdAt':serverTimestamp()});});try{await _0x166ab7[_0x7244da(0x37e)](),console[_0x7244da(0x82b)](_0x7244da(0x3d7)+_0x2425ce[_0x7244da(0x9a5)][_0x7244da(0x97d)]+_0x7244da(0x98a));}catch(_0x54ebe3){console[_0x7244da(0x670)](_0x7244da(0x64a),_0x54ebe3);}}async function getStandardizedTopic(_0x3a30fc){const _0x48e484=_0x2626e0,_0xfae4ba=_0x48e484(0x5dc)+_0x3a30fc+_0x48e484(0x2aa),_0x53c1f8={'type':_0x48e484(0x24e),'properties':{'standardTopic':{'type':'STRING'}},'required':['standardTopic']};try{const _0x415730=await callAnalysisApi(_0xfae4ba,_0x53c1f8);return _0x415730[_0x48e484(0x83b)];}catch(_0x45f6cb){return console[_0x48e484(0x670)](_0x48e484(0x5c0),_0x45f6cb),_0x3a30fc;}}async function handleGenerateEasyVersionQuiz(_0x390675){const _0x51dba3=_0x2626e0;showConfirmation(_0x51dba3(0x696),async()=>{const _0x3351df=_0x51dba3;showMessage(_0x3351df(0x407));try{const _0x4004ba=allQuizzes['find'](_0x3b8de1=>_0x3b8de1['id']===_0x390675);if(!_0x4004ba)throw new Error(_0x3351df(0x832));const _0x267da6=_0x3351df(0x85d)+JSON[_0x3351df(0x6d8)](_0x4004ba[_0x3351df(0x9a5)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2c49a1={'type':_0x3351df(0x24e),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x3351df(0x61d)},'options':{'type':_0x3351df(0x44a),'items':{'type':_0x3351df(0x61d)}},'correctAnswerIndex':{'type':_0x3351df(0x5aa)},'idealAnswer':{'type':_0x3351df(0x61d)},'explanation':{'type':_0x3351df(0x61d)},'imageCode':{'type':_0x3351df(0x61d)}},'required':[_0x3351df(0x846),'questionType',_0x3351df(0x48f)]},_0x363f71={'type':_0x3351df(0x24e),'properties':{'questions':{'type':_0x3351df(0x44a),'items':_0x2c49a1}},'required':[_0x3351df(0x9a5)]},_0x4b2bea=await callAnalysisApi(_0x267da6,_0x363f71);_0x4b2bea&&_0x4b2bea[_0x3351df(0x9a5)]&&_0x4b2bea[_0x3351df(0x9a5)][_0x3351df(0x2fb)](_0x415012=>{const _0x5c2f91=_0x3351df;_0x415012[_0x5c2f91(0x846)]&&(_0x415012[_0x5c2f91(0x846)]=_0x415012[_0x5c2f91(0x846)][_0x5c2f91(0x4ca)]()['replace'](/,$/,'')['trim']());_0x415012[_0x5c2f91(0x95b)]&&Array[_0x5c2f91(0x441)](_0x415012['options'])&&(_0x415012['options']=_0x415012[_0x5c2f91(0x95b)][_0x5c2f91(0x1e7)](_0xdaa011=>_0xdaa011||_0x5c2f91(0x2ba)));if(_0x415012['imageCode']){const _0x2402ff=_0x415012['imageCode']['trim']();_0x2402ff===''||_0x2402ff[_0x5c2f91(0x85a)]()===_0x5c2f91(0x26e)||!_0x2402ff[_0x5c2f91(0x62b)](_0x5c2f91(0x286))?delete _0x415012[_0x5c2f91(0x3d2)]:_0x415012['imageCode']=_0x2402ff;}});if(!_0x4b2bea||!_0x4b2bea[_0x3351df(0x9a5)]||_0x4b2bea[_0x3351df(0x9a5)]['length']===0x0)throw new Error(_0x3351df(0x404));const _0x47f2db={'projectId':_0x4004ba[_0x3351df(0x346)],'quizType':_0x4004ba[_0x3351df(0x79c)],'settings':_0x4004ba[_0x3351df(0x446)],'createdBy':_0x4004ba[_0x3351df(0x198)],'status':_0x3351df(0x97f),'topic':'(ฉบับง่าย)\x20'+_0x4004ba[_0x3351df(0x6b9)],'questions':_0x4b2bea['questions'],'createdAt':new Date()[_0x3351df(0x630)](),'quizMode':'standard','pairedQuizId':null};let _0x13633c;while(!![]){_0x13633c=Math[_0x3351df(0x879)](0x3e8+Math['random']()*0x2328)['toString']();const _0xd9a67=await getDoc(doc(db,_0x3351df(0x495)+appId+_0x3351df(0x20c),_0x13633c));if(!_0xd9a67[_0x3351df(0x7c0)]())break;}await setDoc(doc(db,_0x3351df(0x495)+appId+_0x3351df(0x20c),_0x13633c),_0x47f2db),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x576773){console['error']('Error\x20generating\x20easy\x20version\x20quiz:',_0x576773),showMessage(_0x3351df(0x6e5)+_0x576773[_0x3351df(0x69d)]);}});}async function generatePracticeQuestions(_0x2762c2){const _0x389419=_0x2626e0,_0x3e6ae9=_0x389419(0x2d7)+_0x2762c2+_0x389419(0x6af)+simpleMathPrompt+_0x389419(0x205),_0x208870={'type':_0x389419(0x24e),'properties':{'questionText':{'type':_0x389419(0x61d)},'options':{'type':'ARRAY','items':{'type':_0x389419(0x61d)}},'correctAnswerIndex':{'type':_0x389419(0x5aa)},'explanation':{'type':'STRING'}},'required':[_0x389419(0x846),_0x389419(0x95b),_0x389419(0x550),'explanation']},_0x3ca8c8={'type':_0x389419(0x24e),'properties':{'topic':{'type':_0x389419(0x61d)},'questions':{'type':_0x389419(0x44a),'items':_0x208870}},'required':[_0x389419(0x6b9),_0x389419(0x9a5)]};return await callAnalysisApi(_0x3e6ae9,_0x3ca8c8);}function displayLessonPlan(_0x330f10,_0x43c662){const _0x592694=_0x2626e0,_0x4df5d3=_0x592694(0x85b)+_0x43c662[_0x592694(0x6b9)]+_0x592694(0x58a)+_0x330f10[_0x592694(0x6b2)][_0x592694(0x1e7)](_0x4ab52e=>'<li>'+_0x4ab52e+_0x592694(0x7bd))[_0x592694(0x3a2)]('')+_0x592694(0x388)+_0x330f10[_0x592694(0x230)]+_0x592694(0x95a)+_0x330f10[_0x592694(0x7be)][_0x592694(0x1e7)](_0xbecc06=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0xbecc06[_0x592694(0x67d)]+'</p><p><strong>เฉลย:</strong>\x20'+_0xbecc06[_0x592694(0x251)]+_0x592694(0x936))[_0x592694(0x3a2)]('')+_0x592694(0x7e9);document[_0x592694(0x87d)]('lesson-plan-title')['textContent']=_0x592694(0x488)+_0x43c662[_0x592694(0x6b9)],document[_0x592694(0x87d)](_0x592694(0x632))['innerHTML']=_0x4df5d3,document[_0x592694(0x87d)]('lesson-plan-modal')[_0x592694(0x1a0)]['remove']('hidden');if(window[_0x592694(0x9c4)])MathJax[_0x592694(0x4af)]();}function displaySkillPracticeDrill(_0x2b1378){const _0x5c352c=_0x2626e0;let _0xee51cf=0x0;const _0xd946eb=_0x2b1378[_0x5c352c(0x9a5)],_0x3bdf07=()=>{const _0x19c6d4=_0x5c352c,_0x1ec125=_0xd946eb[_0xee51cf],_0x3412fb=_0x19c6d4(0x796)+(_0xee51cf+0x1)+_0x19c6d4(0x576)+_0xd946eb[_0x19c6d4(0x97d)]+_0x19c6d4(0x51d)+_0x1ec125[_0x19c6d4(0x846)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1ec125[_0x19c6d4(0x95b)]['map']((_0x40f8bd,_0x5f4da4)=>_0x19c6d4(0x851)+_0x5f4da4+_0x19c6d4(0x6d3)+_0x5f4da4+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x5f4da4+'\x22>'+_0x40f8bd+_0x19c6d4(0x269))[_0x19c6d4(0x3a2)]('')+_0x19c6d4(0x6a3);studentQuizArea['innerHTML']=_0x3412fb;if(window[_0x19c6d4(0x9c4)])MathJax[_0x19c6d4(0x4af)]([studentQuizArea]);document[_0x19c6d4(0x87d)](_0x19c6d4(0x2f7))[_0x19c6d4(0x214)](_0x19c6d4(0x421),async()=>{const _0x52be9d=_0x19c6d4,_0x2161d5=await getHintForQuestion(_0x1ec125[_0x52be9d(0x846)]);showMessage(_0x2161d5);}),document[_0x19c6d4(0x87d)](_0x19c6d4(0x673))[_0x19c6d4(0x214)]('click',()=>{const _0xa0bb1=_0x19c6d4,_0xd217f=document[_0xa0bb1(0x33b)](_0xa0bb1(0x417));if(!_0xd217f){showMessage(_0xa0bb1(0x7d4));return;}const _0xdfaa2b=document[_0xa0bb1(0x87d)](_0xa0bb1(0x96b)),_0x47b3df=parseInt(_0xd217f[_0xa0bb1(0x810)])===_0x1ec125[_0xa0bb1(0x550)];_0x47b3df?(_0xdfaa2b['className']=_0xa0bb1(0x75f),_0xdfaa2b[_0xa0bb1(0x9a4)]=_0xa0bb1(0x7f9)+_0x1ec125[_0xa0bb1(0x48f)]):(_0xdfaa2b[_0xa0bb1(0x8c3)]=_0xa0bb1(0x6d6),_0xdfaa2b[_0xa0bb1(0x9a4)]=_0xa0bb1(0x765)+_0x1ec125[_0xa0bb1(0x48f)]);_0xdfaa2b['classList']['remove']('hidden');if(window['MathJax'])MathJax[_0xa0bb1(0x4af)]([_0xdfaa2b]);document[_0xa0bb1(0x87d)](_0xa0bb1(0x673))[_0xa0bb1(0x1a0)][_0xa0bb1(0x368)](_0xa0bb1(0x250)),document[_0xa0bb1(0x87d)](_0xa0bb1(0x2f7))['classList'][_0xa0bb1(0x368)]('hidden'),document[_0xa0bb1(0x87d)](_0xa0bb1(0x308))[_0xa0bb1(0x1a0)][_0xa0bb1(0x594)](_0xa0bb1(0x250));}),document[_0x19c6d4(0x87d)](_0x19c6d4(0x308))[_0x19c6d4(0x214)](_0x19c6d4(0x421),()=>{const _0x4332f7=_0x19c6d4;_0xee51cf++,_0xee51cf<_0xd946eb['length']?_0x3bdf07():(studentQuizArea[_0x4332f7(0x9a4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x4332f7(0x87d)](_0x4332f7(0x873))[_0x4332f7(0x214)](_0x4332f7(0x421),()=>{const _0x318e94=_0x4332f7;studentQuizArea[_0x318e94(0x1a0)][_0x318e94(0x368)](_0x318e94(0x250)),studentResultArea['classList']['remove'](_0x318e94(0x250));}));});};_0x3bdf07();}async function getHintForQuestion(_0x37d2c8){const _0x32dc82=_0x2626e0,_0x5e3599=_0x32dc82(0x857)+_0x37d2c8+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x55bdad={'type':_0x32dc82(0x24e),'properties':{'hint':{'type':_0x32dc82(0x61d)}},'required':['hint']};try{const _0x139d69=await callAnalysisApi(_0x5e3599,_0x55bdad);return _0x139d69[_0x32dc82(0x3c6)];}catch(_0x25ac59){return console['error'](_0x32dc82(0x22e),_0x25ac59),_0x32dc82(0x319);}}async function extractTextFromPdf(_0x281988){const _0x33584a=_0x2626e0;pdfjsLib[_0x33584a(0x4fc)]['workerSrc']=_0x33584a(0x68c);const _0x48add1=await _0x281988[_0x33584a(0x5e8)](),_0x457997=await pdfjsLib[_0x33584a(0x400)](_0x48add1)[_0x33584a(0x338)],_0x2b5b43=_0x457997['numPages'];let _0x599291='';for(let _0x7e3a50=0x1;_0x7e3a50<=_0x2b5b43;_0x7e3a50++){const _0xdaed64=await _0x457997[_0x33584a(0x68e)](_0x7e3a50),_0x4275ec=await _0xdaed64['getTextContent'](),_0x14a9d6=_0x4275ec[_0x33584a(0x2e7)][_0x33584a(0x1e7)](_0xe1c5b2=>_0xe1c5b2[_0x33584a(0x1c9)])[_0x33584a(0x3a2)]('\x20');_0x599291+=_0x14a9d6+'\x0a\x0a';}return _0x599291;}async function handleGenerateFromBlueprint(){const _0x400818=_0x2626e0,_0x4908b9=document[_0x400818(0x87d)](_0x400818(0x314)),_0x5306f5=document[_0x400818(0x87d)](_0x400818(0x793)),_0x139c95=_0x4908b9[_0x400818(0x978)][0x0],_0x1210dd=_0x5306f5[_0x400818(0x978)][_0x400818(0x97d)]>0x0?_0x5306f5[_0x400818(0x978)][0x0]:null;if(!_0x139c95){showMessage(_0x400818(0x2a2));return;}const _0x364bd0=document[_0x400818(0x87d)](_0x400818(0x8ee)),_0x3c5ea8=document['getElementById'](_0x400818(0x546)),_0x19ab23=document[_0x400818(0x87d)](_0x400818(0x966)),_0x197bca=document[_0x400818(0x87d)](_0x400818(0x371));_0x197bca[_0x400818(0x500)]=!![],document[_0x400818(0x87d)](_0x400818(0x860))[_0x400818(0x1a0)][_0x400818(0x594)](_0x400818(0x250)),_0x19ab23[_0x400818(0x9a4)]='',_0x364bd0[_0x400818(0x1a0)][_0x400818(0x594)](_0x400818(0x250));try{_0x3c5ea8[_0x400818(0x573)]=_0x400818(0x56b);const _0x29bd53=await extractTextFromPdf(_0x139c95);if(!_0x29bd53[_0x400818(0x4ca)]())throw new Error(_0x400818(0x914));let _0x12bbb5='';_0x1210dd&&(_0x3c5ea8[_0x400818(0x573)]=_0x400818(0x930),_0x12bbb5=await extractTextFromPdf(_0x1210dd));_0x3c5ea8[_0x400818(0x573)]=_0x400818(0x5ef);const _0x2eec0c=document[_0x400818(0x87d)](_0x400818(0x40a))[_0x400818(0x1e0)],_0x5cee85=_0x2eec0c?_0x400818(0x813):'',_0x4c5dd2=_0x12bbb5?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12bbb5+_0x400818(0x544):'',_0x37a36a=_0x400818(0x868)+(_0x12bbb5?_0x400818(0x54c):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x29bd53+_0x400818(0x544)+_0x4c5dd2+_0x400818(0x5b2)+_0x5cee85+_0x400818(0x7ed)+simpleMathPrompt+_0x400818(0x89f),_0x310dd5={'type':'OBJECT','properties':{'questionText':{'type':_0x400818(0x61d)},'questionType':{'type':_0x400818(0x61d),'enum':[_0x400818(0x280),_0x400818(0x3fb)]},'options':{'type':_0x400818(0x44a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x400818(0x5aa)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x400818(0x61d)},'imageCode':{'type':'STRING'}},'required':[_0x400818(0x846),_0x400818(0x19e),_0x400818(0x48f)]},_0x2d147e={'type':_0x400818(0x24e),'properties':{'topic':{'type':_0x400818(0x61d)},'questions':{'type':'ARRAY','items':_0x310dd5}},'required':[_0x400818(0x6b9),_0x400818(0x9a5)]};await handleApiCall(_0x37a36a,_0x400818(0x5fc),_0x2d147e);}catch(_0x5f09df){console[_0x400818(0x670)](_0x400818(0x5cb),_0x5f09df),showMessage(_0x400818(0x6e5)+_0x5f09df[_0x400818(0x69d)]),_0x19ab23[_0x400818(0x9a4)]=_0x400818(0x222);}finally{_0x364bd0[_0x400818(0x1a0)]['add'](_0x400818(0x250)),_0x197bca[_0x400818(0x500)]=![];}}async function handleGenerateParallelFromBank(_0x5dfd5f){const _0x39a1bd=_0x2626e0;switchProjectTab(_0x39a1bd(0x6d4));const _0xeb4e5c=document[_0x39a1bd(0x87d)]('loader'),_0x11949f=document[_0x39a1bd(0x87d)]('loader-text'),_0x1cd59e=document[_0x39a1bd(0x87d)](_0x39a1bd(0x966));document[_0x39a1bd(0x87d)](_0x39a1bd(0x860))[_0x39a1bd(0x1a0)][_0x39a1bd(0x594)](_0x39a1bd(0x250)),_0x1cd59e[_0x39a1bd(0x9a4)]='',_0xeb4e5c[_0x39a1bd(0x1a0)]['remove']('hidden'),_0x11949f[_0x39a1bd(0x573)]=_0x39a1bd(0x1d4)+_0x5dfd5f['topic']+_0x39a1bd(0x71a);try{const _0x542413=_0x5dfd5f[_0x39a1bd(0x9a5)][_0x39a1bd(0x1e7)]((_0x31e7e8,_0x131410)=>{const _0x362ebe=_0x39a1bd;let _0x594531=_0x131410+0x1+'.\x20'+(_0x31e7e8[_0x362ebe(0x846)]||_0x31e7e8['stem'])+'\x0a';if(_0x31e7e8[_0x362ebe(0x95b)])_0x594531+=_0x31e7e8[_0x362ebe(0x95b)][_0x362ebe(0x1e7)]((_0x225c44,_0x4e03bb)=>_0x362ebe(0x372)+(_0x4e03bb===_0x31e7e8[_0x362ebe(0x550)]?_0x362ebe(0x40d):'')+'\x20'+_0x225c44)[_0x362ebe(0x3a2)]('\x0a');else _0x31e7e8['idealAnswer']&&(_0x594531+=_0x362ebe(0x803)+_0x31e7e8[_0x362ebe(0x83a)]);return _0x594531;})[_0x39a1bd(0x3a2)]('\x0a\x0a');_0x11949f[_0x39a1bd(0x573)]=_0x39a1bd(0x39c);const _0x1d97d5=_0x5dfd5f[_0x39a1bd(0x9a5)][_0x39a1bd(0x97d)],_0xa531b4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษาที่มีความแม่นยำสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20นี่คือแบบทดสอบต้นฉบับในหัวข้อ\x20\x22'+_0x5dfd5f[_0x39a1bd(0x6b9)]+_0x39a1bd(0x296)+_0x1d97d5+_0x39a1bd(0x7f1)+_0x542413+_0x39a1bd(0x320)+_0x1d97d5+_0x39a1bd(0x67f)+simpleMathPrompt+_0x39a1bd(0x89f),_0x439b25={'type':_0x39a1bd(0x24e),'properties':{'questionText':{'type':_0x39a1bd(0x61d)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x39a1bd(0x3fb),'true_false',_0x39a1bd(0x801)]},'options':{'type':_0x39a1bd(0x44a),'items':{'type':_0x39a1bd(0x61d)}},'correctAnswerIndex':{'type':_0x39a1bd(0x5aa)},'idealAnswer':{'type':_0x39a1bd(0x61d)},'correctAnswer':{'type':_0x39a1bd(0x658)},'stem':{'type':_0x39a1bd(0x61d)},'correctResponse':{'type':_0x39a1bd(0x61d)},'allResponses':{'type':_0x39a1bd(0x44a),'items':{'type':'STRING'}},'explanation':{'type':_0x39a1bd(0x61d)},'imageCode':{'type':'STRING'}},'required':[_0x39a1bd(0x846),_0x39a1bd(0x19e),_0x39a1bd(0x48f)]},_0x121a06={'type':_0x39a1bd(0x24e),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x39a1bd(0x44a),'items':_0x439b25}},'required':[_0x39a1bd(0x6b9),'questions']},_0x1f54de=await callAnalysisApi(_0xa531b4,_0x121a06);_0x1f54de[_0x39a1bd(0x9a5)]['length']>_0x1d97d5&&(_0x1f54de[_0x39a1bd(0x9a5)]=_0x1f54de[_0x39a1bd(0x9a5)][_0x39a1bd(0x1a2)](0x0,_0x1d97d5)),_0x1f54de[_0x39a1bd(0x6b9)]='(คู่ขนาน)\x20'+_0x5dfd5f[_0x39a1bd(0x6b9)],_0x1f54de['quizType']=_0x5dfd5f['quizType'],currentQuizData=_0x1f54de,displayGeneratedQuiz(_0x1f54de),document[_0x39a1bd(0x87d)]('manage-tab-content')[_0x39a1bd(0x26f)]({'behavior':_0x39a1bd(0x7a8)});}catch(_0x1efd55){console[_0x39a1bd(0x670)](_0x39a1bd(0x74c),_0x1efd55),showMessage(_0x39a1bd(0x6e5)+_0x1efd55[_0x39a1bd(0x69d)]),_0x1cd59e['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0xeb4e5c[_0x39a1bd(0x1a0)][_0x39a1bd(0x368)](_0x39a1bd(0x250));}}async function handleGenerateParallelPostTest(_0x33683a){const _0x3e4ef9=_0x2626e0,_0x45c0c7=document[_0x3e4ef9(0x87d)](_0x3e4ef9(0x2ef)),_0x1782a7=document[_0x3e4ef9(0x87d)](_0x3e4ef9(0x7ea));_0x1782a7[_0x3e4ef9(0x1a0)][_0x3e4ef9(0x368)](_0x3e4ef9(0x250));const _0x4a6bf8=_0x3e4ef9(0x336);_0x45c0c7[_0x3e4ef9(0x27a)](_0x3e4ef9(0x633),_0x4a6bf8);try{const _0x552807=_0x33683a[_0x3e4ef9(0x9a5)][_0x3e4ef9(0x1e7)]((_0x1c651a,_0x13abec)=>{const _0x1690d3=_0x3e4ef9;let _0x22357f=_0x13abec+0x1+'.\x20'+(_0x1c651a[_0x1690d3(0x846)]||_0x1c651a[_0x1690d3(0x883)]);if(_0x1c651a[_0x1690d3(0x95b)])_0x22357f+=_0x1690d3(0x563)+_0x1c651a[_0x1690d3(0x95b)]['join'](',\x20');return _0x22357f;})[_0x3e4ef9(0x3a2)]('\x0a\x0a'),_0x55ce1e=_0x3e4ef9(0x8a2)+_0x33683a[_0x3e4ef9(0x6b9)]+_0x3e4ef9(0x8bb)+_0x552807+_0x3e4ef9(0x2bf)+simpleMathPrompt+_0x3e4ef9(0x89f),_0x368ce5={'type':_0x3e4ef9(0x24e),'properties':{'topic':{'type':_0x3e4ef9(0x61d)},'questions':{'type':_0x3e4ef9(0x44a),'items':{'type':_0x3e4ef9(0x24e),'properties':{'questionText':{'type':_0x3e4ef9(0x61d)},'questionType':{'type':_0x3e4ef9(0x61d)},'options':{'type':'ARRAY','items':{'type':_0x3e4ef9(0x61d)}},'correctAnswerIndex':{'type':_0x3e4ef9(0x5aa)},'idealAnswer':{'type':_0x3e4ef9(0x61d)},'explanation':{'type':_0x3e4ef9(0x61d)}},'required':['questionText',_0x3e4ef9(0x48f)]}}},'required':[_0x3e4ef9(0x6b9),'questions']},_0x5547bc=await callAnalysisApi(_0x55ce1e,_0x368ce5),_0x581f7c=_0x33683a[_0x3e4ef9(0x6b9)][_0x3e4ef9(0x356)](_0x3e4ef9(0x6a8),'')[_0x3e4ef9(0x4ca)](),_0x5d5d1d=_0x3e4ef9(0x7f3)+_0x581f7c,_0x4e0fd5={..._0x5547bc,'topic':_0x5d5d1d,'quizType':_0x33683a[_0x3e4ef9(0x79c)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x3e4ef9(0x630)](),'status':_0x3e4ef9(0x97f),'settings':_0x33683a[_0x3e4ef9(0x446)],'quizMode':_0x3e4ef9(0x3a6),'pairedQuizId':_0x33683a['id']};let _0x432d05;while(!![]){_0x432d05=Math[_0x3e4ef9(0x879)](0x3e8+Math[_0x3e4ef9(0x52a)]()*0x2328)[_0x3e4ef9(0x58f)]();const _0x1f6e41=await getDoc(doc(db,_0x3e4ef9(0x495)+appId+_0x3e4ef9(0x20c),_0x432d05));if(!_0x1f6e41[_0x3e4ef9(0x7c0)]())break;}await setDoc(doc(db,_0x3e4ef9(0x495)+appId+_0x3e4ef9(0x20c),_0x432d05),_0x4e0fd5);const _0x44a7ba=doc(db,_0x3e4ef9(0x495)+appId+_0x3e4ef9(0x20c),_0x33683a['id']);await updateDoc(_0x44a7ba,{'pairedQuizId':_0x432d05}),showMessage(_0x3e4ef9(0x991));}catch(_0x3729e5){console[_0x3e4ef9(0x670)](_0x3e4ef9(0x1ed),_0x3729e5),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3729e5[_0x3e4ef9(0x69d)]);}finally{const _0x536f55=document[_0x3e4ef9(0x87d)](_0x3e4ef9(0x644));if(_0x536f55)_0x536f55[_0x3e4ef9(0x594)]();_0x1782a7[_0x3e4ef9(0x1a0)][_0x3e4ef9(0x594)](_0x3e4ef9(0x250));}}async function handleGenerateParallelTest(){const _0x303c66=_0x2626e0,_0x35a39f=document[_0x303c66(0x87d)]('parallel-test-upload-input'),_0x11558a=_0x35a39f[_0x303c66(0x978)][0x0];if(!_0x11558a){showMessage(_0x303c66(0x2af));return;}const _0x3d85bc=document[_0x303c66(0x87d)](_0x303c66(0x8ee)),_0x186c43=document[_0x303c66(0x87d)]('loader-text'),_0x19c5d2=document['getElementById'](_0x303c66(0x966)),_0x399c78=document[_0x303c66(0x87d)](_0x303c66(0x9a7));_0x399c78['disabled']=!![],document[_0x303c66(0x87d)]('quiz-generation-area')[_0x303c66(0x1a0)][_0x303c66(0x594)]('hidden'),_0x19c5d2['innerHTML']='',_0x3d85bc[_0x303c66(0x1a0)]['remove']('hidden'),_0x186c43[_0x303c66(0x573)]=_0x303c66(0x5b0);try{const _0x2efdc1=await extractTextFromPdf(_0x11558a);if(!_0x2efdc1[_0x303c66(0x4ca)]())throw new Error(_0x303c66(0x48e));_0x186c43['textContent']=_0x303c66(0x39c);const _0x51f219=document['getElementById'](_0x303c66(0x40a))[_0x303c66(0x1e0)],_0x327dc8=_0x51f219?_0x303c66(0x813):'',_0x100234=_0x303c66(0x215)+_0x2efdc1+_0x303c66(0x5be)+_0x327dc8+_0x303c66(0x7ed)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x151958={'type':_0x303c66(0x24e),'properties':{'questionText':{'type':_0x303c66(0x61d)},'questionType':{'type':_0x303c66(0x61d),'enum':[_0x303c66(0x280),_0x303c66(0x3fb)]},'options':{'type':_0x303c66(0x44a),'items':{'type':_0x303c66(0x61d)}},'correctAnswerIndex':{'type':_0x303c66(0x5aa)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x303c66(0x61d)},'imageCode':{'type':'STRING'}},'required':['questionText','questionType',_0x303c66(0x48f)]},_0x22f247={'type':_0x303c66(0x24e),'properties':{'topic':{'type':_0x303c66(0x61d)},'questions':{'type':'ARRAY','items':_0x151958}},'required':[_0x303c66(0x6b9),_0x303c66(0x9a5)]};await handleApiCall(_0x100234,_0x303c66(0x23c),_0x22f247);}catch(_0x28b734){console['error'](_0x303c66(0x249),_0x28b734),showMessage(_0x303c66(0x6e5)+_0x28b734[_0x303c66(0x69d)]),_0x19c5d2[_0x303c66(0x9a4)]=_0x303c66(0x3e3);}finally{_0x3d85bc['classList']['add'](_0x303c66(0x250)),_0x399c78[_0x303c66(0x500)]=![];}}async function handleRegenerateQuestionInEditor(_0x2c8878){const _0x1e2aa5=_0x2626e0;if(currentEditingQuizData===null)return;const _0x95b37a=document[_0x1e2aa5(0x33b)](_0x1e2aa5(0x8fb)+_0x2c8878+'\x22]');_0x95b37a&&(_0x95b37a['innerHTML']='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x4bd32f=currentEditingQuizData[_0x1e2aa5(0x9a5)][_0x2c8878],_0x4a32fd=currentEditingQuizData[_0x1e2aa5(0x6b9)],_0x4d4d2d=_0x4bd32f[_0x1e2aa5(0x19e)],_0x5e9c46={'type':_0x1e2aa5(0x24e),'properties':{'questionText':{'type':_0x1e2aa5(0x61d)},'options':{'type':_0x1e2aa5(0x44a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':[_0x1e2aa5(0x846),_0x1e2aa5(0x95b),_0x1e2aa5(0x550),'explanation']},_0x4abf9e={'type':_0x1e2aa5(0x24e),'properties':{'questionText':{'type':_0x1e2aa5(0x61d)},'idealAnswer':{'type':_0x1e2aa5(0x61d)},'explanation':{'type':'STRING'}},'required':[_0x1e2aa5(0x846),_0x1e2aa5(0x83a),'explanation']};let _0xcec940,_0x2c3cd1='';_0x4d4d2d===_0x1e2aa5(0x280)?(_0xcec940=_0x5e9c46,_0x2c3cd1='แบบปรนัย\x204\x20ตัวเลือก'):(_0xcec940=_0x4abf9e,_0x2c3cd1=_0x1e2aa5(0x9bd));const _0x4721cc=_0x1e2aa5(0x2fe)+_0x4a32fd+_0x1e2aa5(0x4e5)+_0x2c3cd1+_0x1e2aa5(0x490)+(_0x4bd32f['questionText']||_0x4bd32f['stem'])+'\x22.\x20'+simpleMathPrompt;try{const _0x50c005=await callAnalysisApi(_0x4721cc,_0xcec940);currentEditingQuizData['questions'][_0x2c8878]={..._0x4bd32f,..._0x50c005},renderQuizEditor(currentEditingQuizData);}catch(_0xd92f78){console['error'](_0x1e2aa5(0x1d3),_0xd92f78),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x2cef99=_0x2626e0,_0x1b6276=document['getElementById'](_0x2cef99(0x397));currentMode===_0x2cef99(0x59e)?(adminPasswordModal[_0x2cef99(0x1a0)][_0x2cef99(0x594)](_0x2cef99(0x250)),document[_0x2cef99(0x87d)]('admin-password-input')[_0x2cef99(0x378)]()):(currentMode='student',_0x1b6276[_0x2cef99(0x9a4)]=_0x2cef99(0x6ef),_0x1b6276['title']='สลับไปโหมดผู้ควบคุม',showView('student'));}function handleAdminLogin(){const _0x137f00=_0x2626e0,_0x617fcc=document[_0x137f00(0x87d)](_0x137f00(0x882)),_0xda2b0d=document[_0x137f00(0x87d)](_0x137f00(0x808));if(_0x617fcc[_0x137f00(0x810)]==='27411472'){adminPasswordModal[_0x137f00(0x1a0)]['add'](_0x137f00(0x250)),_0x617fcc['value']='',_0xda2b0d['classList'][_0x137f00(0x368)]('hidden'),currentMode=_0x137f00(0x4ec);const _0x55028c=document[_0x137f00(0x87d)]('mode-switcher-btn');_0x55028c[_0x137f00(0x9a4)]=_0x137f00(0x663),_0x55028c[_0x137f00(0x7c4)]='สลับไปโหมดนักเรียน',showView(_0x137f00(0x2a9));}else _0xda2b0d[_0x137f00(0x1a0)][_0x137f00(0x594)](_0x137f00(0x250)),_0x617fcc[_0x137f00(0x810)]='';}function switchProjectTab(_0x4080fd){const _0x5b6e6e=_0x2626e0;['manage',_0x5b6e6e(0x2d1),_0x5b6e6e(0x5f0)][_0x5b6e6e(0x2fb)](_0x1fb633=>{const _0x14cd25=_0x5b6e6e;document[_0x14cd25(0x87d)](_0x1fb633+_0x14cd25(0x7d2))[_0x14cd25(0x1a0)][_0x14cd25(0x594)](_0x14cd25(0x97f)),document[_0x14cd25(0x87d)](_0x1fb633+_0x14cd25(0x26a))[_0x14cd25(0x1a0)][_0x14cd25(0x368)]('hidden');}),document[_0x5b6e6e(0x87d)](_0x4080fd+_0x5b6e6e(0x7d2))[_0x5b6e6e(0x1a0)]['add'](_0x5b6e6e(0x97f)),document['getElementById'](_0x4080fd+_0x5b6e6e(0x26a))[_0x5b6e6e(0x1a0)]['remove'](_0x5b6e6e(0x250));}function switchQuizDetailTab(_0x2da570){const _0x1063b5=_0x2626e0,_0x130447={'analytics':{'btn':'analytics-tab-btn','content':_0x1063b5(0x381)},'scores':{'btn':_0x1063b5(0x86c),'content':_0x1063b5(0x41c)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x1063b5(0x4e0)},'behavior-log':{'btn':'behavior-log-tab-btn','content':'behavior-log-tab-content'}};for(const _0x2f8692 in _0x130447){document[_0x1063b5(0x87d)](_0x130447[_0x2f8692][_0x1063b5(0x22b)])[_0x1063b5(0x1a0)][_0x1063b5(0x594)](_0x1063b5(0x97f)),document['getElementById'](_0x130447[_0x2f8692][_0x1063b5(0x921)])['classList'][_0x1063b5(0x368)](_0x1063b5(0x250));}document[_0x1063b5(0x87d)](_0x130447[_0x2da570][_0x1063b5(0x22b)])[_0x1063b5(0x1a0)][_0x1063b5(0x368)](_0x1063b5(0x97f)),document['getElementById'](_0x130447[_0x2da570]['content'])[_0x1063b5(0x1a0)][_0x1063b5(0x594)]('hidden');}function showMessage(_0x171b0d,_0x348d48=null){const _0x339281=_0x2626e0;modalMessage['textContent']=_0x171b0d,modalConfirmAction=_0x348d48,messageModal[_0x339281(0x1a0)][_0x339281(0x594)]('hidden');}function showConfirmation(_0x44ce85,_0x4088d8){const _0x160ccf=_0x2626e0;document[_0x160ccf(0x87d)](_0x160ccf(0x722))[_0x160ccf(0x573)]=_0x44ce85,document[_0x160ccf(0x87d)](_0x160ccf(0x450))[_0x160ccf(0x33b)]('h3')['textContent']=_0x160ccf(0x974),confirmAction=_0x4088d8,confirmationModal['classList'][_0x160ccf(0x594)](_0x160ccf(0x250));}function listenForProjects(){const _0x1b1b4d=_0x2626e0,_0xf22bd8=doc(db,_0x1b1b4d(0x70b),_0x1b1b4d(0x827));onSnapshot(_0xf22bd8,_0x227713=>{const _0x5afb20=_0x1b1b4d;if(_0x227713[_0x5afb20(0x7c0)]()){const _0x1109cc=_0x227713[_0x5afb20(0x26b)]();globalDashboardSettings[_0x5afb20(0x8d3)]=_0x1109cc['projectSort']||_0x5afb20(0x844),globalDashboardSettings[_0x5afb20(0x727)]=_0x1109cc['pinnedProjects']||[],globalDashboardSettings[_0x5afb20(0x662)]=_0x1109cc[_0x5afb20(0x662)]||[];}allProjects[_0x5afb20(0x97d)]>0x0&&renderProjects();});const _0x3b30b1=collection(db,_0x1b1b4d(0x495)+appId+_0x1b1b4d(0x774));unsubscribeProjectsListener=onSnapshot(_0x3b30b1,_0x126e51=>{const _0x23254f=_0x1b1b4d;allProjects=_0x126e51['docs']['map'](_0xd35b43=>({'id':_0xd35b43['id'],..._0xd35b43[_0x23254f(0x26b)]()})),renderProjects();},_0x1b56da=>{const _0x1c54b5=_0x1b1b4d;console[_0x1c54b5(0x670)](_0x1c54b5(0x5bb),_0x1b56da),showMessage(_0x1c54b5(0x932));});}function showColorPalette(_0xba17e7,_0x1d24d2){const _0x1684ec=_0x2626e0;document[_0x1684ec(0x4fa)](_0x1684ec(0x91c))['forEach'](_0x1cb928=>_0x1cb928[_0x1684ec(0x594)]());const _0x2564f7=[_0x1684ec(0x406),_0x1684ec(0x877),'#FEF3C7',_0x1684ec(0x21a),_0x1684ec(0x311),'#E0E7FF','#F3E8FF',_0x1684ec(0x291),_0x1684ec(0x672)],_0x3888b1=document[_0x1684ec(0x39d)](_0x1684ec(0x5e5));_0x3888b1[_0x1684ec(0x8c3)]=_0x1684ec(0x947),_0x2564f7['forEach'](_0x58a2ee=>{const _0x5375b4=_0x1684ec,_0x1a0cbc=document[_0x5375b4(0x39d)](_0x5375b4(0x5e5));_0x1a0cbc[_0x5375b4(0x8c3)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x1a0cbc[_0x5375b4(0x63c)]['backgroundColor']=_0x58a2ee,_0x1a0cbc[_0x5375b4(0x214)](_0x5375b4(0x421),()=>{const _0x386aeb=_0x5375b4;handleProjectColorChange(_0x1d24d2,_0x58a2ee),_0x3888b1[_0x386aeb(0x594)]();}),_0x3888b1[_0x5375b4(0x701)](_0x1a0cbc);}),document[_0x1684ec(0x792)][_0x1684ec(0x701)](_0x3888b1);const _0x45f601=_0xba17e7[_0x1684ec(0x32c)]();_0x3888b1[_0x1684ec(0x63c)]['top']=_0x45f601[_0x1684ec(0x6a6)]+window['scrollY']+'px',_0x3888b1[_0x1684ec(0x63c)]['left']=_0x45f601[_0x1684ec(0x46e)]+window['scrollX']-_0x3888b1[_0x1684ec(0x307)]/0x2+'px';}async function handleProjectColorChange(_0x50e029,_0x529ad4){const _0x3bb14c=_0x2626e0,_0x464e1f=doc(db,'artifacts/'+appId+'/public/data/projects',_0x50e029);try{await updateDoc(_0x464e1f,{'color':_0x529ad4});}catch(_0x556d0d){console[_0x3bb14c(0x670)](_0x3bb14c(0x903),_0x556d0d),showMessage(_0x3bb14c(0x349));}}async function renderProjects(){const _0x6a97a0=_0x2626e0,_0x1e8592=globalDashboardSettings[_0x6a97a0(0x8d3)]||'date_desc',_0x4d8ba5=new Set(globalDashboardSettings[_0x6a97a0(0x727)]||[]),_0x1ba7d1=globalDashboardSettings[_0x6a97a0(0x2fa)]||_0x6a97a0(0x599),_0x3f1d08=document[_0x6a97a0(0x87d)](_0x6a97a0(0x53c)),_0x5ca87a=document['getElementById'](_0x6a97a0(0x4c2));_0x3f1d08['classList'][_0x6a97a0(0x788)]('active',_0x1ba7d1===_0x6a97a0(0x599)),_0x5ca87a[_0x6a97a0(0x1a0)][_0x6a97a0(0x788)](_0x6a97a0(0x97f),_0x1ba7d1==='list'),document['getElementById'](_0x6a97a0(0x5f2))[_0x6a97a0(0x810)]=_0x1e8592;const _0x3f3379=document[_0x6a97a0(0x87d)](_0x6a97a0(0x2da))[_0x6a97a0(0x810)]['toLowerCase']();let _0x491010=allProjects[_0x6a97a0(0x6c1)](_0x5e2ba9=>_0x5e2ba9[_0x6a97a0(0x560)][_0x6a97a0(0x85a)]()[_0x6a97a0(0x777)](_0x3f3379));const _0x4560d0=_0x491010[_0x6a97a0(0x6c1)](_0xd07f9b=>_0x4d8ba5[_0x6a97a0(0x601)](_0xd07f9b['id'])),_0x44ebd1=_0x491010[_0x6a97a0(0x6c1)](_0x1c3d05=>!_0x4d8ba5[_0x6a97a0(0x601)](_0x1c3d05['id'])),_0x3f806f=(_0x1f9d47,_0x3f4a9d)=>{const _0x212349=_0x6a97a0;switch(_0x1e8592){case'name_asc':return _0x1f9d47[_0x212349(0x560)][_0x212349(0x483)](_0x3f4a9d[_0x212349(0x560)],'th');case _0x212349(0x8c9):return _0x3f4a9d[_0x212349(0x560)][_0x212349(0x483)](_0x1f9d47[_0x212349(0x560)],'th');case'date_asc':return new Date(_0x1f9d47[_0x212349(0x264)])-new Date(_0x3f4a9d[_0x212349(0x264)]);default:return new Date(_0x3f4a9d['createdAt'])-new Date(_0x1f9d47[_0x212349(0x264)]);}};_0x4560d0['sort'](_0x3f806f),_0x44ebd1['sort'](_0x3f806f);const _0x5d038c=[..._0x4560d0,..._0x44ebd1],_0x5b0f07=globalDashboardSettings[_0x6a97a0(0x662)]||[];_0x5b0f07['length']>0x0&&_0x1ba7d1==='grid'&&_0x5d038c['sort']((_0x182c5f,_0x5deb3a)=>{const _0xc20b45=_0x6a97a0,_0x5af2a3=_0x5b0f07[_0xc20b45(0x693)](_0x182c5f['id']),_0xf0d81d=_0x5b0f07[_0xc20b45(0x693)](_0x5deb3a['id']);if(_0x5af2a3===-0x1)return 0x1;if(_0xf0d81d===-0x1)return-0x1;return _0x5af2a3-_0xf0d81d;});const _0x3f892f={};await Promise[_0x6a97a0(0x866)](_0x5d038c[_0x6a97a0(0x1e7)](async _0x34d58b=>{const _0x1dbc77=_0x6a97a0,_0xd7fac1=query(collection(db,_0x1dbc77(0x495)+appId+_0x1dbc77(0x20c)),where('projectId','==',_0x34d58b['id'])),_0x5e4e61=await getDocs(_0xd7fac1);_0x3f892f[_0x34d58b['id']]=_0x5e4e61[_0x1dbc77(0x8b5)];}));const _0x3fac8d=document[_0x6a97a0(0x87d)]('project-list');let _0x22c1a1='';if(_0x1ba7d1===_0x6a97a0(0x599)){_0x3fac8d[_0x6a97a0(0x8c3)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x6a97a0(0x97d)]>0x0&&_0x3f3379===''){const _0x2522f8=starredQuizzes[_0x6a97a0(0x1e7)](_0x59f860=>{const _0x5b437e=_0x6a97a0,_0x3d7fc4=allProjects[_0x5b437e(0x645)](_0x2a90ab=>_0x2a90ab['id']===_0x59f860[_0x5b437e(0x346)]);return{..._0x59f860,'projectName':_0x3d7fc4?_0x3d7fc4[_0x5b437e(0x560)]:'N/A'};});_0x22c1a1+=_0x6a97a0(0x4de)+_0x2522f8[_0x6a97a0(0x1e7)](_0x2f6f09=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x2f6f09['topic']+'\x22>'+_0x2f6f09[_0x6a97a0(0x6b9)]+_0x6a97a0(0x366)+_0x2f6f09[_0x6a97a0(0x560)]+_0x6a97a0(0x6c4)+_0x2f6f09['projectName']+_0x6a97a0(0x5ea))[_0x6a97a0(0x3a2)]('')+_0x6a97a0(0x367)+starredQuizzes[_0x6a97a0(0x97d)]+_0x6a97a0(0x9a1);}_0x5d038c[_0x6a97a0(0x2fb)](_0x867514=>{const _0x4d30f2=_0x6a97a0,_0xd7c3ff=_0x3f892f[_0x867514['id']]??0x0,_0x3d9d94=_0x4d8ba5[_0x4d30f2(0x601)](_0x867514['id']),_0x919824=_0x867514[_0x4d30f2(0x3e4)]||_0x4d30f2(0x406),_0x7d39c=parseInt(_0x919824[_0x4d30f2(0x79a)](0x1,0x3),0x10)*0.299+parseInt(_0x919824['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x919824[_0x4d30f2(0x79a)](0x5,0x7),0x10)*0.114<0xba,_0x34dc5a=_0x7d39c?_0x4d30f2(0x46a):'text-indigo-800',_0x47a1c0=_0x7d39c?_0x4d30f2(0x55b):_0x4d30f2(0x58e);_0x22c1a1+=_0x4d30f2(0x6a4)+(_0x3d9d94?'border-indigo-400\x20ring-2\x20ring-indigo-200':_0x4d30f2(0x6ac))+_0x4d30f2(0x415)+_0x919824+_0x4d30f2(0x387)+_0x867514['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x867514['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x7d39c?'text-gray-300\x20hover:text-white':_0x4d30f2(0x8b2))+_0x4d30f2(0x5df)+_0x867514['id']+_0x4d30f2(0x621)+(_0x7d39c?_0x4d30f2(0x66e):_0x4d30f2(0x8b2))+_0x4d30f2(0x6c2)+(_0x3d9d94?_0x7d39c?'text-yellow-300':_0x4d30f2(0x5b1):'')+_0x4d30f2(0x3dc)+_0x867514['id']+_0x4d30f2(0x9aa)+_0x34dc5a+'\x20pointer-events-none\x22>'+_0x867514['projectName']+_0x4d30f2(0x63b)+_0x47a1c0+_0x4d30f2(0x891)+new Date(_0x867514[_0x4d30f2(0x264)])[_0x4d30f2(0x6e7)](_0x4d30f2(0x8cb))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+(_0x7d39c?_0x4d30f2(0x34e):_0x4d30f2(0x57f))+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0xd7c3ff+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x867514['id']+_0x4d30f2(0x787)+_0x867514[_0x4d30f2(0x560)]+_0x4d30f2(0x840)+(_0x7d39c?_0x4d30f2(0x691):'text-red-500\x20hover:text-red-700')+_0x4d30f2(0x5b9);});}else _0x3fac8d[_0x6a97a0(0x8c3)]='flex\x20flex-col\x20gap-2',starredQuizzes['length']>0x0&&_0x3f3379===''&&(_0x22c1a1+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x6a97a0(0x97d)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x22c1a1+=_0x6a97a0(0x86d),_0x5d038c['forEach'](_0x466b2c=>{const _0x2428bc=_0x6a97a0,_0x407dcf=_0x3f892f[_0x466b2c['id']]??0x0,_0x580a71=_0x4d8ba5[_0x2428bc(0x601)](_0x466b2c['id']);_0x22c1a1+=_0x2428bc(0x583)+(_0x466b2c[_0x2428bc(0x3e4)]||_0x2428bc(0x672))+_0x2428bc(0x30b)+_0x466b2c['id']+_0x2428bc(0x93d)+_0x466b2c[_0x2428bc(0x560)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x407dcf+_0x2428bc(0x429)+new Date(_0x466b2c[_0x2428bc(0x264)])[_0x2428bc(0x2c3)](_0x2428bc(0x8cb))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x466b2c['id']+_0x2428bc(0x1f0)+(_0x580a71?_0x2428bc(0x5b1):'')+_0x2428bc(0x8cd)+_0x466b2c['id']+_0x2428bc(0x787)+_0x466b2c[_0x2428bc(0x560)]+_0x2428bc(0x4c5);});projectList[_0x6a97a0(0x9a4)]=_0x22c1a1,noProjectsMsg[_0x6a97a0(0x1a0)][_0x6a97a0(0x788)]('hidden',_0x22c1a1[_0x6a97a0(0x97d)]>0x0);}document['getElementById'](_0x2626e0(0x1ab))['addEventListener']('click',async()=>{const _0x1f4d0d=_0x2626e0,_0x4049e2=document[_0x1f4d0d(0x87d)](_0x1f4d0d(0x1b6)),_0x8d430a=_0x4049e2[_0x1f4d0d(0x810)][_0x1f4d0d(0x4ca)]();if(!_0x8d430a){showMessage(_0x1f4d0d(0x82f));return;}try{const _0x37f545=doc(collection(db,_0x1f4d0d(0x495)+appId+'/public/data/projects'));await setDoc(_0x37f545,{'projectName':_0x8d430a,'students':[],'settings':{'resultsDisplay':_0x1f4d0d(0x67a),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x1f4d0d(0x293),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x1f4d0d(0x630)]()}),_0x4049e2[_0x1f4d0d(0x810)]='',createProjectModal[_0x1f4d0d(0x1a0)][_0x1f4d0d(0x368)]('hidden'),showMessage(_0x1f4d0d(0x4d3));}catch(_0x3cca1d){console[_0x1f4d0d(0x670)]('Error\x20creating\x20project:',_0x3cca1d),showMessage(_0x1f4d0d(0x3cd));}}),projectList[_0x2626e0(0x214)](_0x2626e0(0x421),async _0x1131db=>{const _0x59b1e6=_0x2626e0,_0x16322d=_0x1131db['target']['closest'](_0x59b1e6(0x619)),_0x27c21c=_0x1131db[_0x59b1e6(0x9cf)][_0x59b1e6(0x29d)]('.delete-project-btn'),_0x1f4161=_0x1131db['target'][_0x59b1e6(0x29d)](_0x59b1e6(0x9a0)),_0x310031=_0x1131db[_0x59b1e6(0x9cf)]['closest'](_0x59b1e6(0x8d4));if(_0x1f4161){const _0x5b92e4=_0x1f4161[_0x59b1e6(0x2e0)]['id'],_0x283e2e=doc(db,_0x59b1e6(0x70b),_0x59b1e6(0x827)),_0x582d02=globalDashboardSettings['pinnedProjects'];let _0x59225a;_0x582d02[_0x59b1e6(0x777)](_0x5b92e4)?_0x59225a=_0x582d02[_0x59b1e6(0x6c1)](_0x4d22d2=>_0x4d22d2!==_0x5b92e4):_0x59225a=[..._0x582d02,_0x5b92e4];try{await setDoc(_0x283e2e,{'pinnedProjects':_0x59225a},{'merge':!![]});}catch(_0x4d47ea){console[_0x59b1e6(0x670)](_0x59b1e6(0x569),_0x4d47ea),showMessage(_0x59b1e6(0x4da));}}else{if(_0x310031){const _0x5b3826=_0x310031[_0x59b1e6(0x2e0)]['id'];showColorPalette(_0x310031,_0x5b3826);}else{if(_0x16322d){const _0x350421=_0x16322d[_0x59b1e6(0x2e0)]['id'];_0x350421===_0x59b1e6(0x7af)?showStarredProjectView():(currentProjectId=_0x350421,await loadProjectDetails(currentProjectId),showView(_0x59b1e6(0x4f5)));}else{if(_0x27c21c){const _0x1c14da=_0x27c21c['dataset']['id'],_0x3cfadc=_0x27c21c[_0x59b1e6(0x2e0)][_0x59b1e6(0x5a3)];showConfirmation(_0x59b1e6(0x461)+_0x3cfadc+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x1c14da));}}}}}),projectList[_0x2626e0(0x214)](_0x2626e0(0x7d8),_0x3c86c=>{const _0x4456d9=_0x2626e0,_0x190052=_0x3c86c[_0x4456d9(0x9cf)]['closest'](_0x4456d9(0x8ab));_0x190052&&_0x190052[_0x4456d9(0x1a0)][_0x4456d9(0x368)](_0x4456d9(0x996));}),projectList['addEventListener'](_0x2626e0(0x282),_0x5c285f=>{const _0x5e0425=_0x2626e0,_0x398db3=_0x5c285f[_0x5e0425(0x9cf)][_0x5e0425(0x29d)]('.project-card-container');_0x398db3&&_0x398db3['classList'][_0x5e0425(0x594)]('opacity-50');}),projectList['addEventListener'](_0x2626e0(0x7db),_0x2c5957=>{const _0x249f69=_0x2626e0;_0x2c5957[_0x249f69(0x3dd)]();const _0x1661e5=document[_0x249f69(0x33b)](_0x249f69(0x1c3));if(!_0x1661e5)return;const _0x1d50fe=getDragAfterElement(projectList,_0x2c5957['clientY']);_0x1d50fe==null?projectList[_0x249f69(0x701)](_0x1661e5):projectList[_0x249f69(0x425)](_0x1661e5,_0x1d50fe);}),projectList[_0x2626e0(0x214)](_0x2626e0(0x3aa),_0x5ef290=>{const _0x535c97=_0x2626e0;_0x5ef290[_0x535c97(0x3dd)]();const _0x381e77=[...projectList[_0x535c97(0x4fa)]('.project-card-container[data-id]')]['map'](_0x4a0d3b=>_0x4a0d3b[_0x535c97(0x2e0)]['id']);saveProjectOrder(_0x381e77);});function renderBehaviorLog(_0x3afa4a){const _0x3c7390=_0x2626e0,_0x5a2003=document[_0x3c7390(0x87d)](_0x3c7390(0x20e));if(!_0x5a2003)return;const _0xaae092=_0x3afa4a[_0x3c7390(0x6c1)](_0x34453f=>_0x34453f[_0x3c7390(0x48a)]&&_0x34453f[_0x3c7390(0x48a)]['length']>0x0);if(_0xaae092[_0x3c7390(0x97d)]===0x0){_0x5a2003[_0x3c7390(0x9a4)]=_0x3c7390(0x613);return;}let _0x8f93d7='';_0xaae092[_0x3c7390(0x2fb)](_0x2f7baf=>{const _0x286537=_0x3c7390;_0x8f93d7+=_0x286537(0x2d2)+_0x2f7baf[_0x286537(0x49f)]+_0x286537(0x24a),_0x2f7baf[_0x286537(0x48a)][_0x286537(0x2f3)]((_0x10f275,_0x22a47e)=>new Date(_0x22a47e[_0x286537(0x84c)])-new Date(_0x10f275['timestamp']))['forEach'](_0x4c928e=>{const _0xdb125b=_0x286537,_0x26637c=new Date(_0x4c928e[_0xdb125b(0x84c)])[_0xdb125b(0x2c3)]('th-TH',{'dateStyle':_0xdb125b(0x65c),'timeStyle':_0xdb125b(0x954)});_0x8f93d7+=_0xdb125b(0x5fe)+_0x4c928e[_0xdb125b(0x4e4)]+_0xdb125b(0x604)+_0x26637c+_0xdb125b(0x847);}),_0x8f93d7+=_0x286537(0x4ee);}),_0x5a2003[_0x3c7390(0x9a4)]=_0x8f93d7;}function getDragAfterElement(_0x5c8429,_0x206619){const _0x35ecc1=_0x2626e0,_0x3ef281=[..._0x5c8429[_0x35ecc1(0x4fa)]('.project-card-container:not(.opacity-50)')];return _0x3ef281[_0x35ecc1(0x815)]((_0x1506dc,_0x234e88)=>{const _0x32d410=_0x35ecc1,_0x4ae46d=_0x234e88['getBoundingClientRect'](),_0x30c00e=_0x206619-_0x4ae46d[_0x32d410(0x83c)]-_0x4ae46d[_0x32d410(0x704)]/0x2;return _0x30c00e<0x0&&_0x30c00e>_0x1506dc[_0x32d410(0x4c1)]?{'offset':_0x30c00e,'element':_0x234e88}:_0x1506dc;},{'offset':Number[_0x35ecc1(0x684)]})[_0x35ecc1(0x1ac)];}async function saveProjectOrder(_0x8624c4){const _0x3e3645=_0x2626e0,_0x2fce71=doc(db,_0x3e3645(0x70b),_0x3e3645(0x827));try{await setDoc(_0x2fce71,{'projectOrder':_0x8624c4},{'merge':!![]});}catch(_0x277aca){console[_0x3e3645(0x670)](_0x3e3645(0x210),_0x277aca),showMessage(_0x3e3645(0x597));}}async function logBehaviorEvent(_0x11699f,_0x5eeb8f={}){const _0x37fe4f=_0x2626e0;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x37fe4f(0x514)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x939144=doc(db,_0x37fe4f(0x495)+appId+_0x37fe4f(0x72e)+currentQuizData['id']+'/submissions',currentStudentName),_0x43acb6={'event':_0x11699f,'timestamp':new Date()['toISOString'](),..._0x5eeb8f};try{await updateDoc(_0x939144,{'behaviorLog':arrayUnion(_0x43acb6)}),console[_0x37fe4f(0x82b)]('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+_0x37fe4f(0x92e));}catch(_0x407439){_0x407439[_0x37fe4f(0x58d)]==='not-found'?console[_0x37fe4f(0x514)](_0x37fe4f(0x32f)+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console[_0x37fe4f(0x670)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x407439);}}function calculateMeanAndStdDev(_0x59fb0a){const _0x8f5d5c=_0x2626e0;if(_0x59fb0a[_0x8f5d5c(0x97d)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x8b9d0b=_0x59fb0a[_0x8f5d5c(0x815)]((_0x5bb8c5,_0x5c635a)=>_0x5bb8c5+_0x5c635a,0x0)/_0x59fb0a[_0x8f5d5c(0x97d)];if(_0x59fb0a['length']===0x1)return{'mean':_0x8b9d0b,'stdDev':0x0};const _0x29b0dc=Math[_0x8f5d5c(0x841)](_0x59fb0a[_0x8f5d5c(0x1e7)](_0x4f0b24=>Math[_0x8f5d5c(0x638)](_0x4f0b24-_0x8b9d0b,0x2))[_0x8f5d5c(0x815)]((_0x1f43c1,_0x4b28ef)=>_0x1f43c1+_0x4b28ef,0x0)/(_0x59fb0a[_0x8f5d5c(0x97d)]-0x1));return{'mean':_0x8b9d0b,'stdDev':_0x29b0dc};}function calculateZScore(_0x185ca8,_0x54d961,_0x47f197){if(_0x47f197===0x0)return 0x0;return(_0x185ca8-_0x54d961)/_0x47f197;}function calculateTScore(_0x4ac1e3){return 0xa*_0x4ac1e3+0x32;}function showStarredProjectView(){const _0x27ae0a=_0x2626e0;currentProjectId=_0x27ae0a(0x375),currentProjectData=null,projectTitle[_0x27ae0a(0x573)]=_0x27ae0a(0x3e9),projectIdDisplay[_0x27ae0a(0x573)]=_0x27ae0a(0x3a1),showView(_0x27ae0a(0x4f5)),manageTab[_0x27ae0a(0x1a0)][_0x27ae0a(0x368)](_0x27ae0a(0x250)),leaderboardTab[_0x27ae0a(0x1a0)][_0x27ae0a(0x368)](_0x27ae0a(0x250)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x3aa5ab){const _0x547b28=_0x2626e0,_0x33ef17=doc(db,_0x547b28(0x495)+appId+'/public/data/projects',_0x3aa5ab),_0x437eeb=await getDoc(_0x33ef17);if(_0x437eeb[_0x547b28(0x7c0)]()){manageTab['classList']['remove'](_0x547b28(0x250)),leaderboardTab[_0x547b28(0x1a0)][_0x547b28(0x594)]('hidden'),currentProjectData=_0x437eeb[_0x547b28(0x26b)](),projectTitle[_0x547b28(0x573)]=currentProjectData[_0x547b28(0x560)],projectIdDisplay['textContent']=_0x3aa5ab;const _0x4347ba=currentProjectData['settings']||{};document['getElementById'](_0x547b28(0x61a))['value']=_0x4347ba[_0x547b28(0x7d7)]||'none';const _0x167b38=document[_0x547b28(0x87d)](_0x547b28(0x6c8));_0x167b38[_0x547b28(0x1e0)]=_0x4347ba[_0x547b28(0x6e4)]!==![];const _0x47872a=document['getElementById'](_0x547b28(0x829)),_0xbbc368=document['getElementById']('passcode-input-container'),_0x1b6c53=document[_0x547b28(0x87d)](_0x547b28(0x6bf)),_0x5b7776=_0x4347ba[_0x547b28(0x7ac)]||![];_0x47872a[_0x547b28(0x1e0)]=_0x5b7776,_0x1b6c53[_0x547b28(0x810)]=_0x4347ba[_0x547b28(0x284)]||'',_0xbbc368[_0x547b28(0x1a0)][_0x547b28(0x788)]('hidden',!_0x5b7776),_0x47872a[_0x547b28(0x69b)]=()=>{const _0x42dfa6=_0x547b28;_0xbbc368[_0x42dfa6(0x1a0)][_0x42dfa6(0x788)]('hidden',!_0x47872a[_0x42dfa6(0x1e0)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x3aa5ab),listenForProjectQuizzes(_0x3aa5ab),listenForStudentProfiles(_0x3aa5ab);}else showMessage(_0x547b28(0x54b)),showView(_0x547b28(0x2a9));}async function handleResetProjectOrder(){const _0x54e2da=_0x2626e0,_0x125d38=doc(db,_0x54e2da(0x70b),_0x54e2da(0x827));try{await setDoc(_0x125d38,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x54e2da(0x2d3));}catch(_0x399c34){console[_0x54e2da(0x670)]('Error\x20resetting\x20project\x20order:',_0x399c34),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x394be7){const _0x5ebd99=_0x2626e0;if(!_0x394be7)return;const _0xcc7ef5=doc(db,_0x5ebd99(0x495)+appId+_0x5ebd99(0x774),_0x394be7);try{const _0x888779=await getDoc(_0xcc7ef5);if(_0x888779[_0x5ebd99(0x7c0)]()){const _0x508fd1=_0x888779[_0x5ebd99(0x26b)]()[_0x5ebd99(0x5e9)]||![];await updateDoc(_0xcc7ef5,{'isPinned':!_0x508fd1});}}catch(_0x2e5d9f){console[_0x5ebd99(0x670)](_0x5ebd99(0x3f0),_0x2e5d9f),showMessage(_0x5ebd99(0x4da));}}async function handleDeleteProject(_0x32326d){const _0x50eeca=_0x2626e0;try{const _0x1770ce=writeBatch(db),_0x1271c0=collection(db,_0x50eeca(0x495)+appId+_0x50eeca(0x20c)),_0x56b96b=query(_0x1271c0,where(_0x50eeca(0x346),'==',_0x32326d)),_0x41b584=await getDocs(_0x56b96b);for(const _0x3256f2 of _0x41b584[_0x50eeca(0x4f7)]){const _0x55b51b=collection(db,'artifacts/'+appId+_0x50eeca(0x72e)+_0x3256f2['id']+_0x50eeca(0x386)),_0x971d81=await getDocs(_0x55b51b);_0x971d81[_0x50eeca(0x2fb)](_0x458db1=>{const _0x2b150c=_0x50eeca;_0x1770ce[_0x2b150c(0x725)](_0x458db1[_0x2b150c(0x4fe)]);}),_0x1770ce['delete'](_0x3256f2[_0x50eeca(0x4fe)]);}const _0x1a14b4=collection(db,_0x50eeca(0x495)+appId+_0x50eeca(0x1b7)+_0x32326d+'/studentProfiles'),_0x393bdb=await getDocs(_0x1a14b4);_0x393bdb[_0x50eeca(0x2fb)](_0x2d133e=>{const _0x518100=_0x50eeca;_0x1770ce[_0x518100(0x725)](_0x2d133e[_0x518100(0x4fe)]);});const _0x2ee027=doc(db,_0x50eeca(0x495)+appId+_0x50eeca(0x774),_0x32326d);_0x1770ce[_0x50eeca(0x725)](_0x2ee027),await _0x1770ce['commit'](),showMessage(_0x50eeca(0x7f4)),showView(_0x50eeca(0x2a9));}catch(_0x4ebb77){console[_0x50eeca(0x670)]('Error\x20deleting\x20project:',_0x4ebb77),showMessage(_0x50eeca(0x878));}}document[_0x2626e0(0x87d)]('save-settings-btn')[_0x2626e0(0x214)](_0x2626e0(0x421),async()=>{const _0xb41d0f=_0x2626e0;if(!currentProjectId)return;const _0x5bc1a1={'defaultNumQuestions':parseInt(document[_0xb41d0f(0x87d)](_0xb41d0f(0x8fe))[_0xb41d0f(0x810)]),'defaultNumChoices':parseInt(document[_0xb41d0f(0x87d)](_0xb41d0f(0x7e7))[_0xb41d0f(0x810)]),'defaultPassingScore':parseInt(document[_0xb41d0f(0x87d)](_0xb41d0f(0x300))[_0xb41d0f(0x810)]),'resultsDisplay':document[_0xb41d0f(0x87d)](_0xb41d0f(0x75a))[_0xb41d0f(0x810)],'shuffleSetting':document[_0xb41d0f(0x87d)](_0xb41d0f(0x61a))[_0xb41d0f(0x810)],'timerMode':document['getElementById']('timer-mode-select')[_0xb41d0f(0x810)],'timerDuration':parseInt(document[_0xb41d0f(0x87d)](_0xb41d0f(0x34d))[_0xb41d0f(0x810)])};try{const _0x13c428=doc(db,_0xb41d0f(0x495)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x13c428,{'settings':_0x5bc1a1}),showMessage(_0xb41d0f(0x8d8));}catch(_0x44b659){console[_0xb41d0f(0x670)](_0xb41d0f(0x253),_0x44b659),showMessage(_0xb41d0f(0x9b8));}});function listenForStudents(_0x352e12){const _0x531d2a=_0x2626e0,_0x52266e=doc(db,_0x531d2a(0x495)+appId+_0x531d2a(0x774),_0x352e12);unsubscribeStudentsListener=onSnapshot(_0x52266e,_0x530e36=>{const _0x52e87a=_0x531d2a;if(_0x530e36[_0x52e87a(0x7c0)]()){const _0x2a2d86=_0x530e36[_0x52e87a(0x26b)]();currentProjectData=_0x2a2d86,renderStudentList(_0x2a2d86[_0x52e87a(0x7ca)]||[]);}});}function renderStudentList(_0x7b6fd0){const _0x171cee=_0x2626e0,_0x3140c7=document[_0x171cee(0x87d)]('delete-all-students-btn');_0x7b6fd0['length']===0x0?(studentList[_0x171cee(0x9a4)]=_0x171cee(0x1ca),_0x3140c7['classList'][_0x171cee(0x368)](_0x171cee(0x250))):(studentList['innerHTML']=_0x7b6fd0['map'](_0x2daee0=>_0x171cee(0x56a)+_0x2daee0+_0x171cee(0x7ba)+_0x2daee0+_0x171cee(0x211))[_0x171cee(0x3a2)](''),_0x3140c7['classList'][_0x171cee(0x594)]('hidden'));}document[_0x2626e0(0x87d)]('add-student-btn')[_0x2626e0(0x214)](_0x2626e0(0x421),async()=>{const _0x58a812=_0x2626e0;if(!currentProjectId)return;const _0x14b548=document[_0x58a812(0x87d)](_0x58a812(0x668)),_0x76e0d5=_0x14b548['value'][_0x58a812(0x4ca)]();if(!_0x76e0d5){showMessage(_0x58a812(0x358));return;}const _0x35207e=_0x76e0d5[_0x58a812(0x236)]('\x0a')[_0x58a812(0x1e7)](_0x596ae3=>_0x596ae3[_0x58a812(0x4ca)]())[_0x58a812(0x6c1)](_0x26c376=>_0x26c376);if(_0x35207e[_0x58a812(0x97d)]===0x0)return;try{const _0x4b39b0=doc(db,_0x58a812(0x495)+appId+'/public/data/projects',currentProjectId),_0x27c87b=await getDoc(_0x4b39b0);if(_0x27c87b['exists']()){const _0x37dbea=_0x27c87b[_0x58a812(0x26b)]()[_0x58a812(0x7ca)]||[],_0x1dfb9a=[...new Set([..._0x37dbea,..._0x35207e])];await updateDoc(_0x4b39b0,{'students':_0x1dfb9a}),_0x14b548[_0x58a812(0x810)]='';}}catch(_0x58d03b){console[_0x58a812(0x670)]('Error\x20adding\x20students:',_0x58d03b),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x1d028c){const _0x16dc7d=_0x2626e0,_0x408864=document[_0x16dc7d(0x87d)](_0x16dc7d(0x2c6)),_0x196012=document[_0x16dc7d(0x87d)](_0x16dc7d(0x2ca)),_0x286a77=_0x408864[_0x16dc7d(0x33b)]('h3'),_0x1f8b64=document[_0x16dc7d(0x87d)](_0x16dc7d(0x843)),_0x319a94=document['getElementById'](_0x16dc7d(0x469));_0x286a77[_0x16dc7d(0x573)]=_0x16dc7d(0x46b),_0x196012[_0x16dc7d(0x9a4)]=_0x16dc7d(0x4f4),_0x1f8b64[_0x16dc7d(0x573)]=_0x16dc7d(0x809),_0x408864[_0x16dc7d(0x1a0)][_0x16dc7d(0x594)]('hidden');const _0x5efa63=allQuizzes[_0x16dc7d(0x6c1)](_0x570a61=>_0x570a61['id']!==_0x1d028c);_0x5efa63[_0x16dc7d(0x97d)]===0x0?(_0x196012[_0x16dc7d(0x9a4)]=_0x16dc7d(0x721),_0x1f8b64['disabled']=!![]):(_0x196012[_0x16dc7d(0x9a4)]=_0x16dc7d(0x431)+_0x5efa63['map'](_0x26c65a=>_0x16dc7d(0x30f)+_0x26c65a['id']+'\x22>'+_0x26c65a[_0x16dc7d(0x6b9)]+_0x16dc7d(0x78e))[_0x16dc7d(0x3a2)](''),_0x1f8b64[_0x16dc7d(0x500)]=![]);const _0x55aace=async()=>{const _0xe2ac8a=_0x16dc7d,_0x2432e2=_0x196012[_0xe2ac8a(0x810)];if(!_0x2432e2){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x1f8b64['disabled']=!![],_0x1f8b64['textContent']='กำลังจับคู่...';try{const _0x6c7aa9=doc(db,_0xe2ac8a(0x495)+appId+_0xe2ac8a(0x20c),_0x1d028c),_0x984c5e=doc(db,_0xe2ac8a(0x495)+appId+_0xe2ac8a(0x20c),_0x2432e2),_0x17837d=writeBatch(db);_0x17837d[_0xe2ac8a(0x32a)](_0x6c7aa9,{'pairedQuizId':_0x2432e2}),_0x17837d['update'](_0x984c5e,{'pairedQuizId':_0x1d028c}),await _0x17837d[_0xe2ac8a(0x37e)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x408864[_0xe2ac8a(0x1a0)][_0xe2ac8a(0x368)](_0xe2ac8a(0x250));}catch(_0x1d61ff){console[_0xe2ac8a(0x670)](_0xe2ac8a(0x8d2),_0x1d61ff),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x286a77[_0xe2ac8a(0x573)]=_0xe2ac8a(0x1a1),_0x1f8b64[_0xe2ac8a(0x573)]=_0xe2ac8a(0x1e3),_0x1f8b64[_0xe2ac8a(0x500)]=![],_0x1f8b64[_0xe2ac8a(0x297)](_0xe2ac8a(0x421),_0x55aace),_0x319a94[_0xe2ac8a(0x297)](_0xe2ac8a(0x421),_0x129325);}},_0x129325=()=>{const _0x587327=_0x16dc7d;_0x408864[_0x587327(0x1a0)][_0x587327(0x368)](_0x587327(0x250)),_0x286a77['textContent']=_0x587327(0x1a1),_0x1f8b64[_0x587327(0x573)]=_0x587327(0x1e3),_0x1f8b64[_0x587327(0x297)]('click',_0x55aace),_0x319a94[_0x587327(0x297)](_0x587327(0x421),_0x129325);};_0x1f8b64['addEventListener']('click',_0x55aace),_0x319a94[_0x16dc7d(0x214)](_0x16dc7d(0x421),_0x129325);}function handleDeleteStudent(_0x339dfe){const _0x787760=_0x2626e0;showConfirmation(_0x787760(0x561)+_0x339dfe+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x26f913=_0x787760;if(!currentProjectId||!currentProjectData)return;const _0x5e228f=currentProjectData[_0x26f913(0x7ca)][_0x26f913(0x6c1)](_0x311f91=>_0x311f91!==_0x339dfe);try{const _0xcc544b=doc(db,_0x26f913(0x495)+appId+'/public/data/projects',currentProjectId),_0x3b96c0=doc(db,_0x26f913(0x495)+appId+'/public/data/projects/'+currentProjectId+'/studentProfiles',_0x339dfe),_0x1f0c9f=writeBatch(db);_0x1f0c9f['update'](_0xcc544b,{'students':_0x5e228f}),_0x1f0c9f[_0x26f913(0x725)](_0x3b96c0),await _0x1f0c9f[_0x26f913(0x37e)]();}catch(_0xf648ef){console[_0x26f913(0x670)]('Error\x20deleting\x20student:',_0xf648ef),showMessage(_0x26f913(0x6ed));}});}function handleDeleteAllStudents(){const _0x57dd5b=_0x2626e0;showConfirmation(_0x57dd5b(0x28c),async()=>{const _0x2abd31=_0x57dd5b;if(!currentProjectId)return;try{const _0x21b9a2=doc(db,_0x2abd31(0x495)+appId+_0x2abd31(0x774),currentProjectId),_0x1a7936=collection(db,_0x2abd31(0x495)+appId+_0x2abd31(0x1b7)+currentProjectId+'/studentProfiles'),_0xc5b2b6=await getDocs(_0x1a7936),_0x236c3f=writeBatch(db);_0x236c3f[_0x2abd31(0x32a)](_0x21b9a2,{'students':[]}),_0xc5b2b6['forEach'](_0x5c0d93=>_0x236c3f['delete'](_0x5c0d93[_0x2abd31(0x4fe)])),await _0x236c3f[_0x2abd31(0x37e)]();}catch(_0x4d5b09){console['error']('Error\x20deleting\x20all\x20students:',_0x4d5b09),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}async function handleGenerateFromFileClick(){const _0x544c2d=_0x2626e0;if(!selectedFile){showMessage(_0x544c2d(0x5a0));return;}const _0x1cd44e=document[_0x544c2d(0x87d)](_0x544c2d(0x8ee)),_0x4387c4=document['getElementById'](_0x544c2d(0x546)),_0x1c7ed6=document[_0x544c2d(0x87d)](_0x544c2d(0x966)),_0x7cfd5d=document[_0x544c2d(0x87d)](_0x544c2d(0x1aa));_0x7cfd5d[_0x544c2d(0x500)]=!![],document[_0x544c2d(0x87d)](_0x544c2d(0x860))[_0x544c2d(0x1a0)]['remove'](_0x544c2d(0x250)),_0x1c7ed6[_0x544c2d(0x9a4)]='',_0x1cd44e[_0x544c2d(0x1a0)][_0x544c2d(0x594)](_0x544c2d(0x250)),_0x4387c4[_0x544c2d(0x573)]=_0x544c2d(0x924);const _0x310540=new FileReader();_0x310540['readAsDataURL'](selectedFile),_0x310540[_0x544c2d(0x528)]=async()=>{const _0x3df1f4=_0x544c2d;try{const _0x52bc0d=_0x310540[_0x3df1f4(0x775)][_0x3df1f4(0x236)](',')[0x1],_0x2631cc=selectedFile[_0x3df1f4(0x908)];await generateQuizFromFile(_0x2631cc,_0x52bc0d);}catch(_0xea0169){console[_0x3df1f4(0x670)](_0x3df1f4(0x711),_0xea0169),showMessage(_0x3df1f4(0x3ba)+_0xea0169[_0x3df1f4(0x69d)]),_0x1cd44e[_0x3df1f4(0x1a0)]['add'](_0x3df1f4(0x250));}finally{}},_0x310540[_0x544c2d(0x3ab)]=_0x3e2954=>{const _0x5ec1d5=_0x544c2d;console['error'](_0x5ec1d5(0x6d7),_0x3e2954),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0x1cd44e['classList']['add'](_0x5ec1d5(0x250)),_0x7cfd5d[_0x5ec1d5(0x500)]=![];};}function autoFormatMath(_0x1d53b4){const _0x37dad8=_0x2626e0;if(typeof _0x1d53b4!==_0x37dad8(0x3f5)||!_0x1d53b4)return _0x1d53b4;const _0x644636=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x1164af=_0x1d53b4[_0x37dad8(0x356)](_0x644636,_0x499d54=>{const _0x5c03ba=_0x37dad8;return'$'+_0x499d54[_0x5c03ba(0x4ca)]()+'$';});return _0x1164af;}function sanitizeQuizData(_0x516adb){const _0x59faa2=_0x2626e0;if(!_0x516adb||!_0x516adb[_0x59faa2(0x9a5)])return _0x516adb;const _0x422b86={'imes':'\x5ctimes','div':_0x59faa2(0x69f)},_0x3e67f1=_0x380968=>{const _0xc38bc9=_0x59faa2;if(typeof _0x380968!==_0xc38bc9(0x3f5))return _0x380968;let _0xcb130a=_0x380968;for(const [_0x362d31,_0x17de32]of Object['entries'](_0x422b86)){const _0x1b834a=new RegExp('\x5cb'+_0x362d31+'\x5cb','g');_0xcb130a=_0xcb130a[_0xc38bc9(0x356)](_0x1b834a,_0x17de32);}return _0xcb130a=_0xcb130a[_0xc38bc9(0x356)](/\\\//g,'\x5cdiv'),_0xcb130a=_0xcb130a['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,_0xc38bc9(0x69f))[_0xc38bc9(0x356)](/<(i|em)>\s*times\s*<\/\1>/gi,_0xc38bc9(0x220))[_0xc38bc9(0x356)](/÷/g,_0xc38bc9(0x69f))[_0xc38bc9(0x356)](/×/g,'\x5ctimes'),_0xcb130a=_0xcb130a['replace'](/(\d)(\\frac)/g,_0xc38bc9(0x961)),_0xcb130a=autoFormatMath(_0xcb130a),_0xcb130a;};return _0x516adb[_0x59faa2(0x6b9)]&&(_0x516adb[_0x59faa2(0x6b9)]=_0x3e67f1(_0x516adb[_0x59faa2(0x6b9)])),_0x516adb[_0x59faa2(0x9a5)][_0x59faa2(0x2fb)](_0x5da267=>{const _0x1e9689=_0x59faa2;_0x5da267[_0x1e9689(0x846)]=_0x3e67f1(_0x5da267[_0x1e9689(0x846)]),_0x5da267[_0x1e9689(0x95b)]&&(_0x5da267['options']=_0x5da267['options'][_0x1e9689(0x1e7)](_0x3e67f1)),_0x5da267[_0x1e9689(0x48f)]&&(_0x5da267['explanation']=_0x3e67f1(_0x5da267[_0x1e9689(0x48f)])),_0x5da267[_0x1e9689(0x883)]&&(_0x5da267[_0x1e9689(0x883)]=_0x3e67f1(_0x5da267[_0x1e9689(0x883)])),_0x5da267[_0x1e9689(0x3df)]&&(_0x5da267[_0x1e9689(0x3df)]=_0x3e67f1(_0x5da267[_0x1e9689(0x3df)])),_0x5da267[_0x1e9689(0x8c6)]&&(_0x5da267['allResponses']=_0x5da267[_0x1e9689(0x8c6)]['map'](_0x3e67f1));}),_0x516adb;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x546ab7=_0x2626e0,_0x441aeb=document['getElementById'](_0x546ab7(0x8e1)),_0x4be124=document[_0x546ab7(0x87d)](_0x546ab7(0x77f)),_0x54124b=_0x441aeb[_0x546ab7(0x810)][_0x546ab7(0x4ca)](),_0x2aedfa=_0x4be124['value'][_0x546ab7(0x4ca)]();if(!_0x54124b){showMessage(_0x546ab7(0x8c5));return;}const _0x5cc69a=document[_0x546ab7(0x87d)](_0x546ab7(0x8ee)),_0x5d06b6=document[_0x546ab7(0x87d)](_0x546ab7(0x546)),_0x116671=document['getElementById'](_0x546ab7(0x966)),_0xcb0f1b=document['getElementById'](_0x546ab7(0x1cd));document[_0x546ab7(0x87d)](_0x546ab7(0x860))['classList'][_0x546ab7(0x594)](_0x546ab7(0x250)),_0x116671[_0x546ab7(0x9a4)]='',_0x5cc69a[_0x546ab7(0x1a0)]['remove'](_0x546ab7(0x250)),_0x5d06b6[_0x546ab7(0x573)]=_0x546ab7(0x92c),_0xcb0f1b[_0x546ab7(0x500)]=!![];try{const _0x47eb17=_0x546ab7(0x8ff)+encodeURIComponent(_0x54124b),_0x19fd17=await fetch(_0x47eb17);if(!_0x19fd17['ok'])throw new Error(_0x546ab7(0x6a9)+_0x19fd17[_0x546ab7(0x2fc)]+')');const _0x53c0cc=await _0x19fd17[_0x546ab7(0x228)](),_0x332441=extractTextFromHtml(_0x53c0cc);if(!_0x332441||_0x332441[_0x546ab7(0x97d)]<0x64)throw new Error(_0x546ab7(0x700));await generateQuiz(_0x2aedfa,_0x332441);}catch(_0x1eb3c4){console[_0x546ab7(0x670)]('Error\x20generating\x20from\x20link:',_0x1eb3c4),showMessage(_0x546ab7(0x6e5)+_0x1eb3c4[_0x546ab7(0x69d)]),_0x116671[_0x546ab7(0x9a4)]=_0x546ab7(0x70c);}finally{_0x5cc69a[_0x546ab7(0x1a0)][_0x546ab7(0x368)]('hidden'),_0xcb0f1b['disabled']=![];}}function extractTextFromHtml(_0x1a617c){const _0x292ae5=_0x2626e0,_0x13ccde=new DOMParser()[_0x292ae5(0x525)](_0x1a617c,'text/html');return _0x13ccde['querySelectorAll']('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')[_0x292ae5(0x2fb)](_0xe7ebbe=>_0xe7ebbe[_0x292ae5(0x594)]()),_0x13ccde[_0x292ae5(0x792)]['textContent']||'';}document[_0x2626e0(0x87d)]('generate-from-topic-btn')[_0x2626e0(0x214)]('click',()=>{const _0x3678a6=_0x2626e0,_0x105ff0=document['getElementById'](_0x3678a6(0x6dd))[_0x3678a6(0x810)][_0x3678a6(0x4ca)]();generateQuiz(_0x105ff0,null);}),document['getElementById'](_0x2626e0(0x3a7))[_0x2626e0(0x214)](_0x2626e0(0x421),()=>{const _0x384fbd=_0x2626e0,_0x4e5da4=document[_0x384fbd(0x87d)](_0x384fbd(0x274))[_0x384fbd(0x810)][_0x384fbd(0x4ca)]();if(!_0x4e5da4){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0x3a824f=document[_0x384fbd(0x87d)]('topic-input')[_0x384fbd(0x810)][_0x384fbd(0x4ca)]();generateQuiz(_0x3a824f,_0x4e5da4);});async function generateQuiz(_0x13f544,_0x34b227,_0x27d73a=null){const _0x307cc6=_0x2626e0,_0x594b2c=document[_0x307cc6(0x87d)]('include-images-checkbox')[_0x307cc6(0x1e0)],_0x40f557=document[_0x307cc6(0x87d)]('quiz-type-select')['value'],_0x2693a3=document['getElementById']('num-questions')[_0x307cc6(0x810)],_0xb07e0a=document[_0x307cc6(0x87d)](_0x307cc6(0x7e7))[_0x307cc6(0x810)],_0x4c4b1b=document[_0x307cc6(0x87d)]('force-math-checkbox')[_0x307cc6(0x1e0)],_0x3de8eb=_0x4c4b1b?'':_0x307cc6(0x23b),_0x5b4d61=document[_0x307cc6(0x87d)](_0x307cc6(0x5d9)),_0x18da8c=_0x5b4d61['value'];let _0x2ec628='';_0x18da8c!==_0x307cc6(0x5c3)&&(_0x2ec628=_0x307cc6(0x509)+_0x18da8c+'\x22');const _0x56e802=document['getElementById'](_0x307cc6(0x265)),_0x3cdca7=_0x56e802['value'];let _0x3c7623='';_0x3cdca7!==_0x307cc6(0x5b3)&&(_0x3c7623=_0x307cc6(0x963)+_0x3cdca7+_0x307cc6(0x817));const _0x41866d=document[_0x307cc6(0x4fa)](_0x307cc6(0x887)),_0x4dac13=Array['from'](_0x41866d)[_0x307cc6(0x1e7)](_0x3a5ec6=>_0x3a5ec6[_0x307cc6(0x810)]);let _0x279011='';_0x4dac13[_0x307cc6(0x97d)]>0x0&&(_0x279011=_0x307cc6(0x709)+_0x4dac13['join'](',\x20')+'.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม');let _0x5badd5='',_0x20c713='',_0x380ab3,_0x440f55=_0x307cc6(0x28d)+_0x13f544+'\x22';if(!_0x13f544&&_0x34b227)_0x440f55='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x13f544&&!_0x34b227&&(_0x440f55=_0x307cc6(0x5d0));const _0x5f2db6={'type':_0x307cc6(0x24e),'properties':{'questionText':{'type':_0x307cc6(0x61d)},'options':{'type':_0x307cc6(0x44a),'items':{'type':_0x307cc6(0x61d)}},'correctAnswerIndex':{'type':_0x307cc6(0x5aa)},'explanation':{'type':_0x307cc6(0x61d)},'imageCode':{'type':_0x307cc6(0x61d)}},'required':[_0x307cc6(0x846),_0x307cc6(0x95b),_0x307cc6(0x550),_0x307cc6(0x48f)]},_0x4dac74={'type':_0x307cc6(0x24e),'properties':{'questionText':{'type':_0x307cc6(0x61d)},'idealAnswer':{'type':_0x307cc6(0x61d)},'explanation':{'type':_0x307cc6(0x61d)},'imageCode':{'type':_0x307cc6(0x61d)}},'required':[_0x307cc6(0x846),_0x307cc6(0x83a),_0x307cc6(0x48f)]},_0x47428e={'type':_0x307cc6(0x24e),'properties':{'questionText':{'type':_0x307cc6(0x61d)},'questionType':{'type':_0x307cc6(0x61d),'enum':[_0x307cc6(0x280),_0x307cc6(0x3fb)]},'options':{'type':_0x307cc6(0x44a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x307cc6(0x61d)},'explanation':{'type':_0x307cc6(0x61d)},'imageCode':{'type':'STRING'}},'required':[_0x307cc6(0x846),_0x307cc6(0x19e),_0x307cc6(0x48f)]},_0x659d11={'type':_0x307cc6(0x24e),'properties':{'questionText':{'type':_0x307cc6(0x61d)},'correctAnswer':{'type':_0x307cc6(0x658)},'explanation':{'type':_0x307cc6(0x61d)},'imageCode':{'type':_0x307cc6(0x61d)}},'required':[_0x307cc6(0x846),'correctAnswer',_0x307cc6(0x48f)]},_0x1f2eb9={'type':_0x307cc6(0x24e),'properties':{'questionType':{'type':'STRING','enum':[_0x307cc6(0x801)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x307cc6(0x61d)},'allResponses':{'type':_0x307cc6(0x44a),'items':{'type':_0x307cc6(0x61d)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x307cc6(0x19e),_0x307cc6(0x883),_0x307cc6(0x3df),'allResponses','explanation']};let _0x597f25;if(_0x27d73a!==null){const _0x5d1c89=currentQuizData[_0x307cc6(0x9a5)][_0x27d73a][_0x307cc6(0x19e)],_0x3ce300=_0x594b2c?_0x307cc6(0x855):'';_0x5badd5=_0x307cc6(0x6f0)+_0x440f55+'\x20'+_0x279011+'\x20'+_0x2ec628+_0x307cc6(0x9ca)+_0x3ce300+'\x20'+simpleMathPrompt;if(_0x5d1c89===_0x307cc6(0x280))_0x380ab3=_0x5f2db6;else{if(_0x5d1c89===_0x307cc6(0x801))_0x380ab3={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x307cc6(0x801)]},'stem':{'type':_0x307cc6(0x61d)},'correctResponse':{'type':_0x307cc6(0x61d)},'explanation':{'type':_0x307cc6(0x61d)},'imageCode':{'type':_0x307cc6(0x61d)}},'required':[_0x307cc6(0x19e),_0x307cc6(0x883),_0x307cc6(0x3df),_0x307cc6(0x48f)]};else _0x380ab3=_0x4dac74;}_0x597f25=_0x380ab3;}else{const _0x2769bd=_0x594b2c?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'',_0x24f67b=_0x307cc6(0x555);switch(_0x40f557){case _0x307cc6(0x280):_0x5badd5=_0x307cc6(0x34a)+_0x3de8eb+'\x20'+_0x2693a3+_0x307cc6(0x96a)+_0x440f55+'\x20'+_0x279011+'\x20'+_0x2ec628+'\x20'+_0x3c7623+_0x307cc6(0x59a)+_0xb07e0a+_0x307cc6(0x65a)+_0x2769bd+'\x20'+simpleMathPrompt,_0x380ab3=_0x5f2db6;break;case'fill_in_with_choices':_0x5badd5=_0x307cc6(0x44b)+_0x3de8eb+'\x20'+_0x2693a3+'\x20ข้อ\x20'+_0x440f55+'\x20'+_0x279011+'\x20'+_0x2ec628+'\x20'+_0x3c7623+_0x307cc6(0x6c5)+_0xb07e0a+_0x307cc6(0x27f)+_0x2769bd+'\x20'+simpleMathPrompt,_0x380ab3=_0x5f2db6;break;case'fill_in_no_choices':_0x5badd5=_0x307cc6(0x44b)+_0x3de8eb+'\x20'+_0x2693a3+_0x307cc6(0x96a)+_0x440f55+'\x20'+_0x279011+'\x20'+_0x2ec628+'\x20'+_0x3c7623+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x2769bd+'\x20'+simpleMathPrompt,_0x380ab3=_0x4dac74;break;case _0x307cc6(0x5b3):_0x5badd5='สร้างแบบทดสอบ'+_0x3de8eb+'\x20'+_0x2693a3+_0x307cc6(0x96a)+_0x440f55+'\x20'+_0x279011+'\x20'+_0x2ec628+'\x20'+_0x3c7623+_0x307cc6(0x5d8)+_0xb07e0a+_0x307cc6(0x61b)+_0x2769bd+'\x20'+simpleMathPrompt+'.',_0x380ab3=_0x47428e;break;case _0x307cc6(0x1f9):_0x5badd5=_0x307cc6(0x464)+_0x3de8eb+'\x20'+_0x2693a3+_0x307cc6(0x96a)+_0x440f55+'\x20'+_0x279011+'\x20'+_0x2ec628+'\x20'+_0x3c7623+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x2769bd+'\x20'+simpleMathPrompt,_0x380ab3=_0x659d11;break;case _0x307cc6(0x1a9):_0x5badd5=_0x307cc6(0x526)+_0x3de8eb+'\x20'+_0x2693a3+_0x307cc6(0x262)+_0x440f55+'\x20'+_0x279011+'\x20'+_0x2ec628+'\x20'+_0x3c7623+_0x307cc6(0x732)+_0x2769bd+'\x20'+simpleMathPrompt,_0x380ab3=_0x1f2eb9;break;}_0x597f25={'type':_0x307cc6(0x24e),'properties':{'topic':{'type':_0x307cc6(0x61d)},'questions':{'type':_0x307cc6(0x44a),'items':_0x380ab3}},'required':['topic',_0x307cc6(0x9a5)]};}return _0x34b227?(_0x5badd5=_0x307cc6(0x542)+_0x34b227+_0x307cc6(0x333)+_0x5badd5,_0x20c713=_0x307cc6(0x2f0)):_0x20c713='กำลังสร้างแบบทดสอบจากหัวข้อ...',handleApiCall(_0x5badd5,_0x20c713,_0x597f25,_0x27d73a);}async function generateQuizFromFile(_0x462c0d,_0x22a55a){const _0x1c993b=_0x2626e0,_0x317312=document[_0x1c993b(0x87d)]('file-topic-input')[_0x1c993b(0x810)][_0x1c993b(0x4ca)](),_0x5d2fee=document[_0x1c993b(0x87d)](_0x1c993b(0x910))[_0x1c993b(0x810)],_0x18cec1=document[_0x1c993b(0x87d)]('num-questions')['value'],_0xd2a039=document[_0x1c993b(0x87d)](_0x1c993b(0x7e7))[_0x1c993b(0x810)],_0x4638b0=document[_0x1c993b(0x87d)](_0x1c993b(0x40a))['checked'],_0x5730a7=document['getElementById'](_0x1c993b(0x839))[_0x1c993b(0x1e0)],_0x1ef9a0=_0x5730a7?'':_0x1c993b(0x23b);let _0x1861aa='',_0x241c1e,_0x4422f8=_0x1c993b(0x28d)+_0x317312+'\x22';!_0x317312&&(_0x4422f8=_0x1c993b(0x641));const _0xe188c8=_0x4638b0?_0x1c993b(0x95f):'';switch(_0x5d2fee){case _0x1c993b(0x280):_0x1861aa='สร้างแบบทดสอบปรนัย'+_0x1ef9a0+'\x20'+_0x18cec1+_0x1c993b(0x96a)+_0x4422f8+_0x1c993b(0x59a)+_0xd2a039+_0x1c993b(0x65a)+_0xe188c8+'\x20'+simpleMathPrompt,_0x241c1e={'type':_0x1c993b(0x24e),'properties':{'questionText':{'type':_0x1c993b(0x61d)},'options':{'type':_0x1c993b(0x44a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1c993b(0x5aa)},'explanation':{'type':_0x1c993b(0x61d)},'imageCode':{'type':'STRING'}},'required':[_0x1c993b(0x846),_0x1c993b(0x95b),_0x1c993b(0x550),'explanation']};break;case _0x1c993b(0x4c9):_0x1861aa='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x1ef9a0+'\x20'+_0x18cec1+_0x1c993b(0x96a)+_0x4422f8+_0x1c993b(0x6c5)+_0xd2a039+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0xe188c8+'\x20'+simpleMathPrompt,_0x241c1e={'type':_0x1c993b(0x24e),'properties':{'questionText':{'type':_0x1c993b(0x61d)},'options':{'type':_0x1c993b(0x44a),'items':{'type':_0x1c993b(0x61d)}},'correctAnswerIndex':{'type':_0x1c993b(0x5aa)},'explanation':{'type':_0x1c993b(0x61d)},'imageCode':{'type':_0x1c993b(0x61d)}},'required':[_0x1c993b(0x846),'options',_0x1c993b(0x550),_0x1c993b(0x48f)]};break;case _0x1c993b(0x960):_0x1861aa='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x1ef9a0+'\x20'+_0x18cec1+_0x1c993b(0x96a)+_0x4422f8+_0x1c993b(0x34f)+_0xe188c8+'\x20'+simpleMathPrompt,_0x241c1e={'type':_0x1c993b(0x24e),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x1c993b(0x61d)},'explanation':{'type':_0x1c993b(0x61d)},'imageCode':{'type':_0x1c993b(0x61d)}},'required':[_0x1c993b(0x846),_0x1c993b(0x83a),_0x1c993b(0x48f)]};break;case'mixed':_0x1861aa=_0x1c993b(0x8fd)+_0x1ef9a0+'\x20'+_0x18cec1+'\x20ข้อ\x20'+_0x4422f8+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0xd2a039+'\x20ตัวเลือก.\x20'+_0xe188c8+'\x20'+simpleMathPrompt+_0x1c993b(0x64b),_0x241c1e={'type':_0x1c993b(0x24e),'properties':{'questionText':{'type':_0x1c993b(0x61d)},'questionType':{'type':_0x1c993b(0x61d),'enum':[_0x1c993b(0x280),'short_answer']},'options':{'type':_0x1c993b(0x44a),'items':{'type':_0x1c993b(0x61d)}},'correctAnswerIndex':{'type':_0x1c993b(0x5aa)},'idealAnswer':{'type':_0x1c993b(0x61d)},'explanation':{'type':_0x1c993b(0x61d)},'imageCode':{'type':_0x1c993b(0x61d)}},'required':[_0x1c993b(0x846),_0x1c993b(0x19e),_0x1c993b(0x48f)]};break;case _0x1c993b(0x1f9):_0x1861aa=_0x1c993b(0x464)+_0x1ef9a0+'\x20'+_0x18cec1+_0x1c993b(0x96a)+_0x4422f8+_0x1c993b(0x2e2)+_0xe188c8+'\x20'+simpleMathPrompt,_0x241c1e={'type':_0x1c993b(0x24e),'properties':{'questionText':{'type':_0x1c993b(0x61d)},'correctAnswer':{'type':_0x1c993b(0x658)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1c993b(0x61d)}},'required':[_0x1c993b(0x846),_0x1c993b(0x312),_0x1c993b(0x48f)]};break;case _0x1c993b(0x1a9):_0x1861aa=_0x1c993b(0x526)+_0x1ef9a0+'\x20'+_0x18cec1+_0x1c993b(0x262)+_0x4422f8+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x18cec1+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0xe188c8+'\x20'+simpleMathPrompt,_0x241c1e={'type':'OBJECT','properties':{'questionType':{'type':_0x1c993b(0x61d),'enum':[_0x1c993b(0x801)]},'stem':{'type':_0x1c993b(0x61d)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x1c993b(0x61d)}},'explanation':{'type':_0x1c993b(0x61d)},'imageCode':{'type':'STRING'}},'required':[_0x1c993b(0x19e),'stem','correctResponse',_0x1c993b(0x8c6),_0x1c993b(0x48f)]};break;}const _0x32fa3a={'type':_0x1c993b(0x24e),'properties':{'topic':{'type':_0x1c993b(0x61d)},'questions':{'type':_0x1c993b(0x44a),'items':_0x241c1e}},'required':[_0x1c993b(0x6b9),'questions']},_0x54c521=_0x1c993b(0x589)+_0x1861aa,_0x5832be={'contents':[{'parts':[{'text':_0x54c521},{'inlineData':{'mimeType':_0x462c0d,'data':_0x22a55a}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x32fa3a}};return handleApiCall(_0x5832be['contents'][0x0][_0x1c993b(0x1fa)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x32fa3a);}async function handleApiCall(_0xdc00e0,_0x67ab27,_0x10e280,_0x786b01=null){const _0x205f06=_0x2626e0,_0x50b9d4=document['getElementById'](_0x205f06(0x860)),_0x4f8ac4=document['getElementById'](_0x205f06(0x8ee)),_0x36c1cd=document[_0x205f06(0x87d)](_0x205f06(0x546)),_0x2568ab=document[_0x205f06(0x87d)]('generated-quiz-container');_0x50b9d4[_0x205f06(0x1a0)]['remove']('hidden');_0x786b01===null&&(_0x2568ab[_0x205f06(0x9a4)]='');_0x4f8ac4[_0x205f06(0x1a0)][_0x205f06(0x594)](_0x205f06(0x250)),_0x36c1cd[_0x205f06(0x573)]=_0x67ab27,document[_0x205f06(0x87d)]('generate-from-topic-btn')[_0x205f06(0x500)]=!![],document[_0x205f06(0x87d)]('generate-from-text-btn')['disabled']=!![],document[_0x205f06(0x87d)]('generate-from-link-btn')[_0x205f06(0x500)]=!![];try{const _0x5ee246={'responseMimeType':_0x205f06(0x36a),'responseSchema':_0x10e280},_0x28d7aa=Array[_0x205f06(0x441)](_0xdc00e0)?_0xdc00e0:[{'text':_0xdc00e0}],_0x4e5d57={'contents':[{'role':_0x205f06(0x34b),'parts':_0x28d7aa}],'generationConfig':_0x5ee246},_0x21b179=_0x205f06(0x8ba),_0x175c54=_0x205f06(0x2ad)+_0x21b179,_0x1b7878=await fetch(_0x175c54,{'method':_0x205f06(0x481),'headers':{'Content-Type':_0x205f06(0x36a)},'body':JSON[_0x205f06(0x6d8)](_0x4e5d57)});if(!_0x1b7878['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x1b7878[_0x205f06(0x2fc)]);const _0x230780=await _0x1b7878[_0x205f06(0x6aa)]();if(_0x230780[_0x205f06(0x42b)]?.[0x0]?.[_0x205f06(0x921)]?.['parts']?.[0x0]){let _0x5db10a=_0x230780[_0x205f06(0x42b)][0x0][_0x205f06(0x921)][_0x205f06(0x1fa)][0x0]['text'],_0x2cf738;try{if(_0x5db10a[_0x205f06(0x62b)](_0x205f06(0x29f)))_0x5db10a=_0x5db10a[_0x205f06(0x79a)](0x7,_0x5db10a[_0x205f06(0x97d)]-0x3)[_0x205f06(0x4ca)]();else _0x5db10a[_0x205f06(0x62b)]('```')&&(_0x5db10a=_0x5db10a[_0x205f06(0x79a)](0x3,_0x5db10a[_0x205f06(0x97d)]-0x3)['trim']());_0x2cf738=JSON['parse'](_0x5db10a);}catch(_0x189bd6){console[_0x205f06(0x670)](_0x205f06(0x9b6),_0x189bd6,_0x5db10a);throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}if(_0x786b01!==null){if(_0x2cf738['questionType']===_0x205f06(0x801)){const _0xdffb88=currentQuizData[_0x205f06(0x9a5)]['map'](_0x33c8cc=>_0x33c8cc[_0x205f06(0x3df)]);_0x2cf738[_0x205f06(0x8c6)]=_0xdffb88;const _0x4c5179=currentQuizData['questions'][_0x786b01][_0x205f06(0x3df)],_0x3427b4=_0xdffb88[_0x205f06(0x693)](_0x4c5179);_0x3427b4>-0x1&&(_0xdffb88[_0x3427b4]=_0x2cf738[_0x205f06(0x3df)]),currentQuizData[_0x205f06(0x9a5)]['forEach'](_0x290a06=>{const _0x1f6465=_0x205f06;if(_0x290a06[_0x1f6465(0x19e)]===_0x1f6465(0x801))_0x290a06[_0x1f6465(0x8c6)]=_0xdffb88;});}currentQuizData[_0x205f06(0x9a5)][_0x786b01]=_0x2cf738,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x2cf738;const _0x4c6ad1=document['getElementById']('quiz-type-select')[_0x205f06(0x810)];currentQuizData[_0x205f06(0x79c)]=_0x4c6ad1,currentQuizData[_0x205f06(0x9a5)]&&currentQuizData[_0x205f06(0x9a5)][_0x205f06(0x2fb)](_0x44e35a=>{const _0x201042=_0x205f06;if(!_0x44e35a['questionType']){if(_0x4c6ad1==='fill_in_with_choices')_0x44e35a['questionType']=_0x201042(0x280);else _0x4c6ad1===_0x201042(0x960)?_0x44e35a[_0x201042(0x19e)]=_0x201042(0x3fb):_0x44e35a[_0x201042(0x19e)]=_0x4c6ad1;}}),displayGeneratedQuiz(currentQuizData);}}else{console['error']('Invalid\x20response\x20structure\x20from\x20AI:',JSON['stringify'](_0x230780));throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}}catch(_0x443285){console[_0x205f06(0x670)](_0x205f06(0x9d2),_0x443285),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง'),_0x786b01===null&&(_0x2568ab[_0x205f06(0x9a4)]=_0x205f06(0x5a2));}finally{_0x4f8ac4[_0x205f06(0x1a0)][_0x205f06(0x368)]('hidden'),document[_0x205f06(0x87d)]('generate-from-topic-btn')['disabled']=![],document['getElementById'](_0x205f06(0x3a7))[_0x205f06(0x500)]=![],document[_0x205f06(0x87d)](_0x205f06(0x1cd))[_0x205f06(0x500)]=![];const _0x35be25=document[_0x205f06(0x87d)]('generate-from-file-btn');_0x35be25&&(_0x35be25[_0x205f06(0x500)]=![]);}}function exitFullscreen(){const _0x562f62=_0x2626e0;if(document[_0x562f62(0x2a7)])document[_0x562f62(0x2a7)]()[_0x562f62(0x6cd)](_0x5d3475=>console[_0x562f62(0x670)](_0x5d3475));else{if(document[_0x562f62(0x773)])document[_0x562f62(0x773)]();else document[_0x562f62(0x33e)]&&document[_0x562f62(0x33e)]();}}function enterFullscreen(){const _0x27f261=_0x2626e0,_0xd26711=document['documentElement'];if(_0xd26711[_0x27f261(0x818)])_0xd26711['requestFullscreen']()[_0x27f261(0x6cd)](_0x15cac4=>{const _0x202a4e=_0x27f261;console['error']('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x15cac4['message']+'\x20('+_0x15cac4[_0x202a4e(0x5a3)]+')');});else{if(_0xd26711[_0x27f261(0x761)])_0xd26711[_0x27f261(0x761)]();else _0xd26711['msRequestFullscreen']&&_0xd26711['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x164061=_0x2626e0;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x164061(0x6a2),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x164061(0x2b2)+maxCheatAttempts+_0x164061(0x8aa)),document['getElementById'](_0x164061(0x32e))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x164061(0x297)](_0x164061(0x6bb),handleVisibilityChange),document['removeEventListener'](_0x164061(0x5d4),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x164061(0x8ad),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x393279=_0x2626e0;if(currentMode===_0x393279(0x657)||!isQuizActive)return;if(document['visibilityState']===_0x393279(0x250))handleCheatingEvent();else document[_0x393279(0x1a8)]===_0x393279(0x414)&&(console[_0x393279(0x82b)]('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x355f60=_0x2626e0;if(currentMode===_0x355f60(0x657)||!isQuizActive)return;!document[_0x355f60(0x1d6)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x1a06b0){const _0x3237e2=_0x2626e0,_0x37d952=document[_0x3237e2(0x87d)]('generated-quiz-container');let _0x499f53=_0x3237e2(0x33c)+_0x1a06b0[_0x3237e2(0x6b9)]+_0x3237e2(0x318);_0x1a06b0[_0x3237e2(0x9a5)][_0x3237e2(0x2fb)]((_0x38e72f,_0x420d75)=>{const _0x3846b5=_0x3237e2;!_0x38e72f['id']&&(_0x38e72f['id']='q_'+Date[_0x3846b5(0x363)]()+'_'+_0x420d75);const _0x1c18ce=_0x38e72f[_0x3846b5(0x19e)]||_0x1a06b0[_0x3846b5(0x79c)];_0x499f53+=_0x3846b5(0x741)+_0x420d75+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x420d75+_0x3846b5(0x745)+_0x420d75+_0x3846b5(0x580)+_0x420d75+_0x3846b5(0x6e1);switch(_0x1c18ce){case _0x3846b5(0x801):_0x499f53+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x420d75+'\x22>'+(_0x420d75+0x1)+'.\x20'+_0x38e72f[_0x3846b5(0x883)]+_0x3846b5(0x49e);_0x38e72f[_0x3846b5(0x3d2)]&&(_0x499f53+='<div\x20id=\x22q-image-container-'+_0x420d75+_0x3846b5(0x65d)+_0x38e72f['imageCode']+'</div>');_0x499f53+=_0x3846b5(0x715)+_0x420d75+'\x22>'+_0x38e72f[_0x3846b5(0x3df)]+_0x3846b5(0x5c2),_0x499f53+=_0x3846b5(0x3c0)+_0x420d75+'\x22>'+_0x38e72f[_0x3846b5(0x48f)]+_0x3846b5(0x5c2);break;case _0x3846b5(0x3fb):_0x499f53+=_0x3846b5(0x3c1)+_0x420d75+'\x22>'+(_0x420d75+0x1)+'.\x20'+_0x38e72f[_0x3846b5(0x846)]+_0x3846b5(0x49e);_0x38e72f[_0x3846b5(0x3d2)]&&(_0x499f53+=_0x3846b5(0x5da)+_0x420d75+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x38e72f[_0x3846b5(0x3d2)]+_0x3846b5(0x622));_0x499f53+=_0x3846b5(0x31f)+_0x420d75+'\x22>'+_0x38e72f['idealAnswer']+'</span></div>',_0x499f53+=_0x3846b5(0x3c0)+_0x420d75+'\x22>'+_0x38e72f[_0x3846b5(0x48f)]+'</span></div>';break;case _0x3846b5(0x1f9):_0x499f53+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x420d75+'\x22>'+(_0x420d75+0x1)+'.\x20'+_0x38e72f[_0x3846b5(0x846)]+_0x3846b5(0x49e);_0x38e72f[_0x3846b5(0x3d2)]&&(_0x499f53+=_0x3846b5(0x5da)+_0x420d75+_0x3846b5(0x65d)+_0x38e72f[_0x3846b5(0x3d2)]+_0x3846b5(0x622));_0x499f53+=_0x3846b5(0x8f0)+(_0x38e72f[_0x3846b5(0x312)]===!![]?_0x3846b5(0x48c):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x38e72f[_0x3846b5(0x312)]===![]?_0x3846b5(0x48c):'')+_0x3846b5(0x74d),_0x499f53+=_0x3846b5(0x3c0)+_0x420d75+'\x22>'+_0x38e72f['explanation']+_0x3846b5(0x5c2);break;case _0x3846b5(0x8ed):case'multiple_choice':default:_0x499f53+=_0x3846b5(0x3c1)+_0x420d75+'\x22>'+(_0x420d75+0x1)+'.\x20'+_0x38e72f[_0x3846b5(0x846)]+'</p>';_0x38e72f[_0x3846b5(0x3d2)]&&(_0x499f53+=_0x3846b5(0x5da)+_0x420d75+_0x3846b5(0x65d)+_0x38e72f[_0x3846b5(0x3d2)]+_0x3846b5(0x622));_0x499f53+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x420d75+_0x3846b5(0x62c)+_0x38e72f[_0x3846b5(0x95b)]['map']((_0x3a5ebb,_0x156bd6)=>'<li\x20class=\x22'+(_0x156bd6===_0x38e72f[_0x3846b5(0x550)]?_0x3846b5(0x48c):'')+'\x22>'+_0x3a5ebb+_0x3846b5(0x7bd))[_0x3846b5(0x3a2)]('')+_0x3846b5(0x2ed),_0x499f53+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x420d75+'\x22>'+_0x38e72f[_0x3846b5(0x48f)]+_0x3846b5(0x5c2);break;}_0x499f53+=_0x3846b5(0x622);}),_0x499f53+=_0x3237e2(0x46d),_0x37d952['innerHTML']=_0x499f53,document[_0x3237e2(0x4fa)](_0x3237e2(0x5ee))[_0x3237e2(0x2fb)](_0x3503b6=>_0x3503b6[_0x3237e2(0x214)](_0x3237e2(0x421),handleEditQuestion)),document[_0x3237e2(0x4fa)](_0x3237e2(0x2e9))[_0x3237e2(0x2fb)](_0x17d5f7=>_0x17d5f7[_0x3237e2(0x214)](_0x3237e2(0x421),handleRegenerateQuestion)),document[_0x3237e2(0x4fa)](_0x3237e2(0x2b8))[_0x3237e2(0x2fb)](_0x385eb2=>_0x385eb2['addEventListener'](_0x3237e2(0x421),handleSaveToBank)),document[_0x3237e2(0x87d)]('export-worksheet-pdf-btn')[_0x3237e2(0x214)](_0x3237e2(0x421),exportQuizAsWorksheetPDF),document[_0x3237e2(0x87d)]('save-quiz-btn')[_0x3237e2(0x214)]('click',saveQuiz),document[_0x3237e2(0x87d)](_0x3237e2(0x42f))['addEventListener'](_0x3237e2(0x421),handleVerifyAnswers);if(window[_0x3237e2(0x9c4)])window[_0x3237e2(0x9c4)]['typesetPromise']([_0x37d952]);}function handleRegenerateQuestion(_0xc4253b){const _0x58b802=_0x2626e0,_0x3c2034=_0xc4253b[_0x58b802(0x513)][_0x58b802(0x2e0)]['index'],_0x2e72a2=currentQuizData[_0x58b802(0x6b9)];showMessage(_0x58b802(0x5db)+(parseInt(_0x3c2034)+0x1)+_0x58b802(0x1fe)),generateQuiz(_0x2e72a2,null,parseInt(_0x3c2034));}function getPointerPosition(_0x2b3215,_0x1aef88){const _0x43e08c=_0x2626e0,_0x516efa=_0x2b3215['getScreenCTM']();let _0x589345,_0x167f2c;return _0x1aef88['touches']&&_0x1aef88[_0x43e08c(0x9be)][_0x43e08c(0x97d)]>0x0?(_0x589345=_0x1aef88[_0x43e08c(0x9be)][0x0][_0x43e08c(0x718)],_0x167f2c=_0x1aef88[_0x43e08c(0x9be)][0x0][_0x43e08c(0x323)]):(_0x589345=_0x1aef88['clientX'],_0x167f2c=_0x1aef88[_0x43e08c(0x323)]),{'x':(_0x589345-_0x516efa['e'])/_0x516efa['a'],'y':(_0x167f2c-_0x516efa['f'])/_0x516efa['d']};}function startDrag(_0x25ee64){const _0x1ec62f=_0x2626e0;_0x25ee64['type']==='touchstart'&&_0x25ee64[_0x1ec62f(0x3dd)]();const _0x4ab2e4=_0x25ee64[_0x1ec62f(0x9cf)]['closest']('.draggable-text');if(_0x4ab2e4){draggedSvgElement=_0x4ab2e4;const _0x9009a7=draggedSvgElement[_0x1ec62f(0x8e6)],_0x5aa283=getPointerPosition(_0x9009a7,_0x25ee64);svgOffset['x']=_0x5aa283['x']-parseFloat(draggedSvgElement[_0x1ec62f(0x43d)](null,'x')),svgOffset['y']=_0x5aa283['y']-parseFloat(draggedSvgElement[_0x1ec62f(0x43d)](null,'y'));}}function calculateItemAnalysis(_0x35d5e2,_0x360e73){const _0x2bf142=_0x2626e0,_0x3c0c71={};if(_0x360e73[_0x2bf142(0x97d)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x39c2a0=[..._0x360e73]['sort']((_0x41f485,_0x2895cc)=>{const _0x182e66=_0x2bf142,_0x2bee77=_0x2895cc[_0x182e66(0x23a)]-_0x41f485[_0x182e66(0x23a)];if(_0x2bee77!==0x0)return _0x2bee77;const _0x2a1c1d=_0x41f485[_0x182e66(0x1b3)]?.[_0x182e66(0x97d)]||0x1,_0x977f83=_0x2895cc[_0x182e66(0x1b3)]?.[_0x182e66(0x97d)]||0x1,_0x461863=_0x2a1c1d-_0x977f83;if(_0x461863!==0x0)return _0x461863;const _0x15656e=new Date(_0x41f485[_0x182e66(0x77b)]),_0x19baff=new Date(_0x2895cc[_0x182e66(0x77b)]),_0x37e1f2=_0x15656e-_0x19baff;if(_0x37e1f2!==0x0)return _0x37e1f2;return _0x41f485[_0x182e66(0x49f)][_0x182e66(0x483)](_0x2895cc['studentName'],'th');}),_0x281571=_0x39c2a0[_0x2bf142(0x97d)],_0x27becc=Math['max'](0x1,Math[_0x2bf142(0x879)](_0x281571*0.33));if(_0x27becc===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x1780a1=_0x39c2a0['slice'](0x0,_0x27becc),_0x540bd1=_0x39c2a0['slice'](-_0x27becc),_0x21562e=_0x1780a1[_0x2bf142(0x1e7)](_0x1a8425=>_0x1a8425[_0x2bf142(0x49f)]),_0x2467c5=_0x540bd1[_0x2bf142(0x1e7)](_0x32d7a5=>_0x32d7a5['studentName']);return _0x35d5e2['questions'][_0x2bf142(0x2fb)]((_0x587524,_0xc6c324)=>{const _0x2db3b5=_0x2bf142,_0x9960aa=_0x587524[_0x2db3b5(0x883)]||_0x587524[_0x2db3b5(0x846)];let _0x17a44f=0x0,_0x350344=0x0,_0x582d19=0x0;const _0x43bc9c=[],_0x4969e4=[];_0x1780a1[_0x2db3b5(0x2fb)](_0x4250ce=>{const _0x3de244=_0x2db3b5,_0x55aa9b=_0x4250ce[_0x3de244(0x1b3)][_0x4250ce['attempts'][_0x3de244(0x97d)]-0x1],_0x16de95=_0x55aa9b[_0x3de244(0x653)]['find'](_0x1f532b=>_0x1f532b[_0x3de244(0x24c)]===_0x9960aa);_0x43bc9c[_0x3de244(0x4c7)]({'name':_0x4250ce[_0x3de244(0x49f)],'isCorrect':_0x16de95?_0x16de95[_0x3de244(0x8d1)]:![]}),_0x16de95&&_0x16de95[_0x3de244(0x8d1)]&&_0x350344++;}),_0x540bd1[_0x2db3b5(0x2fb)](_0x183b57=>{const _0x1d300d=_0x2db3b5,_0x306d68=_0x183b57[_0x1d300d(0x1b3)][_0x183b57[_0x1d300d(0x1b3)][_0x1d300d(0x97d)]-0x1],_0x1cc727=_0x306d68[_0x1d300d(0x653)]['find'](_0x1d5fc3=>_0x1d5fc3[_0x1d300d(0x24c)]===_0x9960aa);_0x4969e4[_0x1d300d(0x4c7)]({'name':_0x183b57[_0x1d300d(0x49f)],'isCorrect':_0x1cc727?_0x1cc727[_0x1d300d(0x8d1)]:![]}),_0x1cc727&&_0x1cc727['isCorrect']&&_0x582d19++;}),_0x360e73[_0x2db3b5(0x2fb)](_0x3e1b06=>{const _0x2a9f5e=_0x2db3b5,_0x53341b=_0x3e1b06[_0x2a9f5e(0x1b3)][_0x3e1b06['attempts'][_0x2a9f5e(0x97d)]-0x1],_0x441ec5=_0x53341b[_0x2a9f5e(0x653)][_0x2a9f5e(0x645)](_0x4a4c77=>_0x4a4c77['originalQuestionText']===_0x9960aa);_0x441ec5&&_0x441ec5[_0x2a9f5e(0x8d1)]&&_0x17a44f++;});const _0x5eedfa=_0x281571>0x0?_0x17a44f/_0x281571:0x0,_0x426f1e=_0x27becc>0x0?_0x350344/_0x27becc-_0x582d19/_0x27becc:0x0;_0x3c0c71[_0xc6c324]={'p':_0x5eedfa,'r':_0x426f1e,'upperGroupResponders':_0x43bc9c,'lowerGroupResponders':_0x4969e4};}),{'perQuestionStats':_0x3c0c71,'overallGroups':{'upperGroupNames':_0x21562e,'lowerGroupNames':_0x2467c5}};}function drag(_0x1f2d2f){const _0x38f42b=_0x2626e0;if(draggedSvgElement){_0x1f2d2f['preventDefault']();const _0x1d6eec=draggedSvgElement[_0x38f42b(0x8e6)],_0x60fcd5=getPointerPosition(_0x1d6eec,_0x1f2d2f),_0x46570b=_0x1d6eec[_0x38f42b(0x917)][_0x38f42b(0x38a)];let _0x586b36=_0x60fcd5['x']-svgOffset['x'],_0x176e58=_0x60fcd5['y']-svgOffset['y'];const _0x3fb747=draggedSvgElement[_0x38f42b(0x43e)]();_0x586b36=Math[_0x38f42b(0x339)](_0x46570b['x'],Math[_0x38f42b(0x2d6)](_0x586b36,_0x46570b['x']+_0x46570b[_0x38f42b(0x217)]-_0x3fb747[_0x38f42b(0x217)])),_0x176e58=Math[_0x38f42b(0x339)](_0x46570b['y'],Math[_0x38f42b(0x2d6)](_0x176e58,_0x46570b['y']+_0x46570b[_0x38f42b(0x704)]-_0x3fb747['height'])),draggedSvgElement[_0x38f42b(0x3e0)](null,'x',_0x586b36),draggedSvgElement[_0x38f42b(0x3e0)](null,'y',_0x176e58);}}function endDrag(_0x553d70){draggedSvgElement=null;}function handleSvgEditClick(_0x1491e4){const _0x306245=_0x2626e0;if(_0x1491e4[_0x306245(0x9cf)][_0x306245(0x1a0)][_0x306245(0x426)](_0x306245(0x5ca))){const _0x3b73c1=_0x1491e4['target'][_0x306245(0x2e0)][_0x306245(0x742)],_0x164593=_0x1491e4[_0x306245(0x513)],_0x10df67=_0x164593[_0x306245(0x33b)]('#'+_0x3b73c1);_0x10df67&&_0x10df67['remove'](),_0x1491e4[_0x306245(0x9cf)][_0x306245(0x594)]();}}function handleEditQuestion(_0x264d8c){const _0x568b59=_0x2626e0,_0x3dc031=_0x264d8c[_0x568b59(0x513)],_0x5d942c=_0x3dc031[_0x568b59(0x2e0)][_0x568b59(0x3fa)],_0x306b80=currentQuizData[_0x568b59(0x9a5)][_0x5d942c],_0x249f3a=document[_0x568b59(0x87d)](_0x568b59(0x452)+_0x5d942c),_0x243a4b=document['getElementById']('q-explanation-'+_0x5d942c),_0x3e38c8=document['getElementById']('q-image-container-'+_0x5d942c);if(_0x3dc031[_0x568b59(0x9a4)][_0x568b59(0x777)](_0x568b59(0x35d))){_0x3dc031[_0x568b59(0x9a4)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x3dc031[_0x568b59(0x7c4)]=_0x568b59(0x823);if(_0x249f3a)_0x249f3a[_0x568b59(0x7cf)]=!![];if(_0x243a4b)_0x243a4b[_0x568b59(0x7cf)]=!![];if(_0x3e38c8){const _0x7fdab4=_0x3e38c8[_0x568b59(0x33b)](_0x568b59(0x529));if(_0x7fdab4){const _0x5584ef=_0x7fdab4[_0x568b59(0x4fa)](_0x568b59(0x228));_0x5584ef[_0x568b59(0x2fb)]((_0x38859b,_0x341567)=>{const _0x488b44=_0x568b59,_0x34975f=_0x488b44(0x70d)+_0x5d942c+'-'+_0x341567;_0x38859b['id']=_0x34975f,_0x38859b[_0x488b44(0x1a0)][_0x488b44(0x368)](_0x488b44(0x728)),_0x38859b[_0x488b44(0x63c)]['cursor']=_0x488b44(0x931);const _0x151180=document[_0x488b44(0x565)](_0x488b44(0x9c8),'circle'),_0x51ae51=_0x38859b[_0x488b44(0x43e)]();_0x151180['setAttribute']('cx',String(_0x51ae51['x']+_0x51ae51[_0x488b44(0x217)]+0x5)),_0x151180[_0x488b44(0x7a2)]('cy',String(_0x51ae51['y']+_0x51ae51[_0x488b44(0x704)]/0x2-0x5)),_0x151180['setAttribute']('r','5'),_0x151180[_0x488b44(0x7a2)]('fill',_0x488b44(0x6bc)),_0x151180[_0x488b44(0x7a2)](_0x488b44(0x970),_0x488b44(0x5ca)),_0x151180[_0x488b44(0x2e0)][_0x488b44(0x742)]=_0x34975f,_0x38859b[_0x488b44(0x2ee)](_0x151180);}),_0x7fdab4[_0x568b59(0x214)](_0x568b59(0x467),startDrag),_0x7fdab4[_0x568b59(0x214)](_0x568b59(0x295),drag),_0x7fdab4[_0x568b59(0x214)](_0x568b59(0x9bf),endDrag),_0x7fdab4[_0x568b59(0x214)](_0x568b59(0x433),endDrag),_0x7fdab4[_0x568b59(0x214)](_0x568b59(0x84f),startDrag,{'passive':![]}),_0x7fdab4[_0x568b59(0x214)](_0x568b59(0x285),drag,{'passive':![]}),_0x7fdab4['addEventListener']('touchend',endDrag),_0x7fdab4[_0x568b59(0x214)](_0x568b59(0x6de),endDrag),_0x7fdab4[_0x568b59(0x214)](_0x568b59(0x421),handleSvgEditClick);}}if(_0x249f3a)_0x249f3a[_0x568b59(0x378)]();}else{_0x3dc031[_0x568b59(0x9a4)]=_0x568b59(0x8ac),_0x3dc031[_0x568b59(0x7c4)]=_0x568b59(0x694);if(_0x249f3a){_0x249f3a[_0x568b59(0x7cf)]=![];const _0x49d6a3=_0x306b80['questionType']||currentQuizData[_0x568b59(0x79c)];_0x49d6a3===_0x568b59(0x801)?_0x306b80['stem']=_0x249f3a[_0x568b59(0x812)][_0x568b59(0x79a)](_0x249f3a[_0x568b59(0x812)]['indexOf']('.')+0x2)['trim']():_0x306b80['questionText']=_0x249f3a['innerText'][_0x568b59(0x79a)](_0x249f3a[_0x568b59(0x812)][_0x568b59(0x693)]('.')+0x2)[_0x568b59(0x4ca)]();}_0x243a4b&&(_0x243a4b['contentEditable']=![],_0x306b80['explanation']=_0x243a4b[_0x568b59(0x812)]);if(_0x3e38c8){const _0x151c41=_0x3e38c8[_0x568b59(0x33b)]('svg');if(_0x151c41){const _0x397e74=_0x151c41[_0x568b59(0x283)](!![]);_0x397e74[_0x568b59(0x4fa)](_0x568b59(0x2a0))[_0x568b59(0x2fb)](_0x44d964=>_0x44d964[_0x568b59(0x594)]()),_0x397e74['querySelectorAll'](_0x568b59(0x987))['forEach'](_0x3b16e3=>{const _0x160c93=_0x568b59;_0x3b16e3[_0x160c93(0x1a0)]['remove']('draggable-text'),_0x3b16e3[_0x160c93(0x63c)][_0x160c93(0x3ee)]=_0x160c93(0x384),_0x3b16e3['removeAttribute']('id');}),_0x306b80[_0x568b59(0x3d2)]=_0x397e74['outerHTML'],_0x151c41['removeEventListener'](_0x568b59(0x467),startDrag),_0x151c41['removeEventListener'](_0x568b59(0x295),drag),_0x151c41[_0x568b59(0x297)](_0x568b59(0x9bf),endDrag),_0x151c41[_0x568b59(0x297)](_0x568b59(0x433),endDrag),_0x151c41[_0x568b59(0x297)](_0x568b59(0x84f),startDrag),_0x151c41[_0x568b59(0x297)](_0x568b59(0x285),drag),_0x151c41[_0x568b59(0x297)](_0x568b59(0x325),endDrag),_0x151c41[_0x568b59(0x297)](_0x568b59(0x6de),endDrag),_0x151c41['removeEventListener'](_0x568b59(0x421),handleSvgEditClick),_0x151c41[_0x568b59(0x4fa)](_0x568b59(0x2a0))['forEach'](_0x436203=>_0x436203[_0x568b59(0x594)]()),_0x151c41[_0x568b59(0x4fa)](_0x568b59(0x987))['forEach'](_0x1257e7=>{const _0x25cdbe=_0x568b59;_0x1257e7['classList'][_0x25cdbe(0x594)](_0x25cdbe(0x728)),_0x1257e7[_0x25cdbe(0x63c)][_0x25cdbe(0x3ee)]=_0x25cdbe(0x384);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x1e67a7){const _0x1d5079=_0x2626e0,_0x4d2650=document[_0x1d5079(0x87d)](_0x1d5079(0x35f)),_0x59cf2b=document[_0x1d5079(0x87d)](_0x1d5079(0x196));_0x59cf2b[_0x1d5079(0x9a4)]=_0x1d5079(0x86e),_0x4d2650[_0x1d5079(0x1a0)][_0x1d5079(0x594)](_0x1d5079(0x250));try{const _0x143c86=doc(db,_0x1d5079(0x495)+appId+_0x1d5079(0x20c),_0x1e67a7),_0x13a2e0=await getDoc(_0x143c86);if(!_0x13a2e0['exists']())throw new Error(_0x1d5079(0x2c2));currentEditingQuizData={'id':_0x1e67a7,..._0x13a2e0['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x1a59d6){console[_0x1d5079(0x670)](_0x1d5079(0x763),_0x1a59d6),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x4d2650[_0x1d5079(0x1a0)][_0x1d5079(0x368)]('hidden');}}function renderQuizEditor(_0x496bcf){const _0x10ff66=_0x2626e0;document[_0x10ff66(0x87d)]('editor-quiz-topic')['value']=_0x496bcf[_0x10ff66(0x6b9)];const _0x3908fc=document[_0x10ff66(0x87d)](_0x10ff66(0x196));let _0x2f8ab8=_0x496bcf[_0x10ff66(0x9a5)][_0x10ff66(0x1e7)]((_0x1c3d4c,_0x7af90e)=>{const _0x1e8ab8=_0x10ff66;let _0x2f418f='';const _0x454dbc=_0x1c3d4c[_0x1e8ab8(0x19e)]||_0x496bcf[_0x1e8ab8(0x79c)];switch(_0x454dbc){case _0x1e8ab8(0x280):const _0x303b69=(_0x1c3d4c[_0x1e8ab8(0x95b)]||[])[_0x1e8ab8(0x1e7)]((_0x5f3614,_0x246e9f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x7af90e+_0x1e8ab8(0x9cb)+_0x246e9f+'\x22\x20'+(_0x246e9f===_0x1c3d4c[_0x1e8ab8(0x550)]?'checked':'')+_0x1e8ab8(0x365)+_0x5f3614+_0x1e8ab8(0x606))['join']('');_0x2f418f=_0x1e8ab8(0x833)+_0x303b69+_0x1e8ab8(0x955);break;case _0x1e8ab8(0x3fb):_0x2f418f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x1c3d4c['idealAnswer']||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x1e8ab8(0x1f9):_0x2f418f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x7af90e+'\x22\x20value=\x22true\x22\x20'+(_0x1c3d4c[_0x1e8ab8(0x312)]===!![]?_0x1e8ab8(0x1e0):'')+_0x1e8ab8(0x7ae)+_0x7af90e+_0x1e8ab8(0x8d0)+(_0x1c3d4c[_0x1e8ab8(0x312)]===![]?_0x1e8ab8(0x1e0):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x1e8ab8(0x801):_0x2f418f=_0x1e8ab8(0x572)+(_0x1c3d4c[_0x1e8ab8(0x3df)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0x143144=_0x1c3d4c['questionText']||_0x1c3d4c[_0x1e8ab8(0x883)]||'';return _0x1e8ab8(0x867)+_0x7af90e+_0x1e8ab8(0x8a1)+_0x454dbc+_0x1e8ab8(0x7a4)+(_0x7af90e+0x1)+'\x20('+_0x454dbc+_0x1e8ab8(0x7b9)+_0x143144+_0x1e8ab8(0x527)+_0x2f418f+_0x1e8ab8(0x800);})['join']('');_0x3908fc[_0x10ff66(0x9a4)]=_0x2f8ab8,_0x3908fc['querySelectorAll'](_0x10ff66(0x89a))['forEach'](_0x3337e8=>{const _0x3f356d=_0x10ff66;_0x3337e8[_0x3f356d(0x214)](_0x3f356d(0x421),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x15263c){const _0x4a68d8=_0x2626e0,_0x419691=_0x15263c[_0x4a68d8(0x513)],_0x32ecdd=_0x419691['closest'](_0x4a68d8(0x192));if(!_0x32ecdd)return;const _0x98581e=parseInt(_0x32ecdd[_0x4a68d8(0x2e0)][_0x4a68d8(0x943)],0xa);if(isNaN(_0x98581e)||!currentEditingQuizData[_0x4a68d8(0x9a5)][_0x98581e]){showMessage(_0x4a68d8(0x8eb));return;}const _0xe07499=currentEditingQuizData[_0x4a68d8(0x9a5)][_0x98581e];_0x419691[_0x4a68d8(0x9a4)]=_0x4a68d8(0x780),_0x419691['disabled']=!![];const _0x21a7d2=_0x4a68d8(0x243)+JSON[_0x4a68d8(0x6d8)](_0xe07499)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20';let _0x4addeb;const _0x10eb4d=_0xe07499[_0x4a68d8(0x19e)]||currentEditingQuizData['quizType'];switch(_0x10eb4d){case _0x4a68d8(0x3fb):_0x4addeb={'type':'OBJECT','properties':{'questionText':{'type':_0x4a68d8(0x61d)},'idealAnswer':{'type':_0x4a68d8(0x61d)},'explanation':{'type':_0x4a68d8(0x61d)},'imageCode':{'type':_0x4a68d8(0x61d)}},'required':[_0x4a68d8(0x846),_0x4a68d8(0x83a),_0x4a68d8(0x48f)]};break;case'multiple_choice':default:_0x4addeb={'type':_0x4a68d8(0x24e),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x4a68d8(0x44a),'items':{'type':_0x4a68d8(0x61d)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4a68d8(0x61d)}},'required':[_0x4a68d8(0x846),'options',_0x4a68d8(0x550),_0x4a68d8(0x48f)]};break;}try{let _0x1b8493=await callAnalysisApi(_0x21a7d2,_0x4addeb);_0x1b8493[_0x4a68d8(0x95b)]&&Array[_0x4a68d8(0x441)](_0x1b8493[_0x4a68d8(0x95b)])&&(_0x1b8493[_0x4a68d8(0x95b)]=_0x1b8493[_0x4a68d8(0x95b)][_0x4a68d8(0x1e7)](_0x2d6da7=>typeof _0x2d6da7===_0x4a68d8(0x3f5)?_0x2d6da7[_0x4a68d8(0x356)](/S(\s*[\d_]+?\s*)S/g,_0x4a68d8(0x708)):_0x2d6da7)),_0xe07499[_0x4a68d8(0x3d2)]&&_0xe07499[_0x4a68d8(0x3d2)][_0x4a68d8(0x777)](_0x4a68d8(0x94e))&&(_0x1b8493[_0x4a68d8(0x3d2)]=''),currentEditingQuizData[_0x4a68d8(0x9a5)][_0x98581e]={..._0xe07499,..._0x1b8493},renderQuizEditor(currentEditingQuizData),showMessage(_0x4a68d8(0x771));}catch(_0x4df2f1){console[_0x4a68d8(0x670)](_0x4a68d8(0x2d4),_0x4df2f1),showMessage(_0x4a68d8(0x729)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x4d9bcc=_0x2626e0,_0x3b82bf=document[_0x4d9bcc(0x87d)](_0x4d9bcc(0x7b7));_0x3b82bf['disabled']=!![],_0x3b82bf[_0x4d9bcc(0x9a4)]=_0x4d9bcc(0x8d9);try{const _0x4ac74e=document[_0x4d9bcc(0x87d)](_0x4d9bcc(0x7a7))[_0x4d9bcc(0x810)],_0x2b409e=document[_0x4d9bcc(0x4fa)](_0x4d9bcc(0x192));let _0x5349ae=[];const _0x2dd9e0=Array['from'](_0x2b409e)[_0x4d9bcc(0x1e7)]((_0x3ae864,_0x17ce91)=>{const _0x387e2c=_0x4d9bcc,_0x541f98=_0x3ae864[_0x387e2c(0x2e0)][_0x387e2c(0x3e8)],_0x4128c7=_0x3ae864[_0x387e2c(0x33b)](_0x387e2c(0x454))[_0x387e2c(0x810)];let _0x22afb2={'questionType':_0x541f98};const _0x149dbd=currentEditingQuizData[_0x387e2c(0x9a5)][_0x17ce91];switch(_0x541f98){case'multiple_choice':_0x22afb2['questionText']=_0x4128c7;const _0x3e4e4b=_0x3ae864[_0x387e2c(0x4fa)](_0x387e2c(0x73b));_0x22afb2[_0x387e2c(0x95b)]=Array[_0x387e2c(0x73e)](_0x3e4e4b)[_0x387e2c(0x1e7)](_0x48ddb0=>_0x48ddb0[_0x387e2c(0x810)]);const _0x349ab0=_0x3ae864[_0x387e2c(0x33b)](_0x387e2c(0x55c));_0x22afb2[_0x387e2c(0x550)]=_0x349ab0?parseInt(_0x349ab0[_0x387e2c(0x810)]):0x0;break;case _0x387e2c(0x3fb):_0x22afb2['questionText']=_0x4128c7,_0x22afb2['idealAnswer']=_0x3ae864[_0x387e2c(0x33b)](_0x387e2c(0x530))[_0x387e2c(0x810)];break;case _0x387e2c(0x1f9):_0x22afb2['questionText']=_0x4128c7;const _0x45782f=_0x3ae864['querySelector']('input[type=\x22radio\x22]:checked');_0x22afb2['correctAnswer']=_0x45782f?_0x45782f['value']===_0x387e2c(0x9a3):!![];break;case'matching_item':_0x22afb2[_0x387e2c(0x883)]=_0x4128c7;const _0x8e03b0=_0x3ae864[_0x387e2c(0x33b)](_0x387e2c(0x5cd));_0x22afb2[_0x387e2c(0x3df)]=_0x8e03b0?_0x8e03b0[_0x387e2c(0x810)]:'',_0x5349ae[_0x387e2c(0x4c7)](_0x22afb2[_0x387e2c(0x3df)]);break;default:_0x22afb2[_0x387e2c(0x846)]=_0x4128c7;break;}return{..._0x149dbd,..._0x22afb2};});_0x5349ae[_0x4d9bcc(0x97d)]>0x0&&_0x2dd9e0[_0x4d9bcc(0x2fb)](_0x1962bd=>{const _0x22b85b=_0x4d9bcc;_0x1962bd[_0x22b85b(0x19e)]===_0x22b85b(0x801)&&(_0x1962bd['allResponses']=_0x5349ae);});const _0x42629b=currentEditingQuizData['id'],_0xa479e3=doc(db,'artifacts/'+appId+_0x4d9bcc(0x20c),_0x42629b);await updateDoc(_0xa479e3,{'topic':_0x4ac74e,'questions':_0x2dd9e0}),document[_0x4d9bcc(0x87d)]('quiz-editor-modal')[_0x4d9bcc(0x1a0)][_0x4d9bcc(0x368)](_0x4d9bcc(0x250)),showMessage(_0x4d9bcc(0x6f8),()=>initiateReGradeProcess(_0x42629b));}catch(_0x31fb36){console['error'](_0x4d9bcc(0x6ab),_0x31fb36),showMessage(_0x4d9bcc(0x8f4));}finally{_0x3b82bf[_0x4d9bcc(0x500)]=![],_0x3b82bf[_0x4d9bcc(0x9a4)]=_0x4d9bcc(0x55e);}}async function initiateReGradeProcess(_0x50ccc4){const _0xf8476f=_0x2626e0;showMessage(_0xf8476f(0x6db));try{const _0x135340=doc(db,'artifacts/'+appId+_0xf8476f(0x20c),_0x50ccc4),_0x1e81f7=await getDoc(_0x135340);if(!_0x1e81f7[_0xf8476f(0x7c0)]())throw new Error(_0xf8476f(0x42a));const _0x5603b3={'id':_0x50ccc4,..._0x1e81f7[_0xf8476f(0x26b)]()},_0x2124b6=collection(db,'artifacts/'+appId+_0xf8476f(0x20c),_0x50ccc4,_0xf8476f(0x279)),_0x11a1a2=await getDocs(_0x2124b6);if(_0x11a1a2['empty']){showMessage(_0xf8476f(0x627));return;}const _0x1da2f3=_0x11a1a2[_0xf8476f(0x4f7)][_0xf8476f(0x1e7)](_0x345803=>reGradeSingleSubmission(_0x345803,_0x5603b3));await Promise['all'](_0x1da2f3);if(_0x5603b3[_0xf8476f(0x346)]){const _0x1c6a1f=doc(db,_0xf8476f(0x495)+appId+'/public/data/projects',_0x5603b3[_0xf8476f(0x346)]),_0x30f00c=await getDoc(_0x1c6a1f);if(_0x30f00c[_0xf8476f(0x7c0)]()&&_0x30f00c[_0xf8476f(0x26b)]()[_0xf8476f(0x7ca)]){const _0xf73bb4=_0x30f00c[_0xf8476f(0x26b)]()[_0xf8476f(0x7ca)][_0xf8476f(0x1e7)](_0x2340c8=>updateStudentProfile(_0x5603b3['projectId'],_0x2340c8));await Promise['all'](_0xf73bb4);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x11a1a2[_0xf8476f(0x8b5)]+_0xf8476f(0x31e));}catch(_0x3b56d3){console[_0xf8476f(0x670)](_0xf8476f(0x473),_0x3b56d3),showMessage(_0xf8476f(0x595)+_0x3b56d3[_0xf8476f(0x69d)]);}}async function reGradeSingleSubmission(_0x439d9f,_0x1154fe){const _0xfcdc1b=_0x2626e0,_0x4a9679=_0x439d9f['data'](),_0x1c3fb3=_0x4a9679[_0xfcdc1b(0x49f)],_0x58a6ba=_0x4a9679['attempts']||[],_0x5da790=[];for(const _0x1278af of _0x58a6ba){let _0xec80c9=0x0,_0x394939=[],_0x1c0d62=0x0;const _0x2e0bb6=[];for(const _0x533a0f of _0x1278af[_0xfcdc1b(0x653)]){let _0x4f292b;_0x533a0f[_0xfcdc1b(0x928)]&&(_0x4f292b=_0x1154fe['questions']['find'](_0x5f240b=>_0x5f240b['id']===_0x533a0f['questionId']));!_0x4f292b&&_0x533a0f[_0xfcdc1b(0x24c)]&&(_0x4f292b=_0x1154fe['questions'][_0xfcdc1b(0x645)](_0x490a54=>(_0x490a54[_0xfcdc1b(0x883)]||_0x490a54[_0xfcdc1b(0x846)])===_0x533a0f[_0xfcdc1b(0x24c)]));let _0x54b106=![];if(_0x4f292b){const _0x2d8111=_0x4f292b[_0xfcdc1b(0x19e)]||_0x1154fe[_0xfcdc1b(0x79c)];switch(_0x2d8111){case _0xfcdc1b(0x280):if(_0x4f292b[_0xfcdc1b(0x95b)]&&_0x4f292b[_0xfcdc1b(0x550)]<_0x4f292b[_0xfcdc1b(0x95b)][_0xfcdc1b(0x97d)]){const _0x2c1667=_0x4f292b[_0xfcdc1b(0x95b)][_0x4f292b['correctAnswerIndex']];_0x54b106=_0x533a0f[_0xfcdc1b(0x25a)]===_0x2c1667;}break;case _0xfcdc1b(0x1f9):const _0x21bd89=_0x533a0f[_0xfcdc1b(0x5d5)]===!![]||_0x533a0f[_0xfcdc1b(0x5d5)]===_0xfcdc1b(0x9a3);_0x54b106=_0x21bd89===_0x4f292b[_0xfcdc1b(0x312)];break;case _0xfcdc1b(0x801):_0x54b106=_0x533a0f[_0xfcdc1b(0x5d5)]===_0x4f292b[_0xfcdc1b(0x3df)];break;case _0xfcdc1b(0x3fb):_0x54b106=await gradeShortAnswer(_0x533a0f['answer'],_0x4f292b);break;default:_0x54b106=_0x533a0f['isCorrect'];break;}}if(_0x54b106){_0xec80c9++,_0x1c0d62++;if(_0x1c0d62===0x3)_0x394939[_0xfcdc1b(0x4c7)](BADGES[_0xfcdc1b(0x36e)]['id']);}else _0x1c0d62=0x0;_0x2e0bb6[_0xfcdc1b(0x4c7)]({..._0x533a0f,'isCorrect':_0x54b106});}let _0x27efdc=_0xec80c9*0xa;_0xec80c9===_0x1154fe[_0xfcdc1b(0x9a5)][_0xfcdc1b(0x97d)]&&(_0x27efdc+=0x32,_0x394939[_0xfcdc1b(0x4c7)](BADGES[_0xfcdc1b(0x224)]['id'])),_0x5da790['push']({..._0x1278af,'score':_0xec80c9,'points':_0x27efdc,'badges':Array[_0xfcdc1b(0x73e)](new Set(_0x394939)),'answers':_0x2e0bb6});}const _0x8f6bcc=_0x5da790[_0xfcdc1b(0x97d)]>0x0?_0x5da790[0x0]['score']:0x0,_0xb79ac4=Math['max'](..._0x5da790[_0xfcdc1b(0x1e7)](_0x544bdb=>_0x544bdb[_0xfcdc1b(0x67b)])),_0x4cae2b=_0x5da790[_0xfcdc1b(0x97d)]>0x0?_0x5da790[_0x5da790[_0xfcdc1b(0x97d)]-0x1]['score']:0x0,_0x39f9a4=_0x5da790[_0xfcdc1b(0x97d)]>0x0?_0x5da790[_0x5da790[_0xfcdc1b(0x97d)]-0x1][_0xfcdc1b(0x259)]:0x0,_0x491064=doc(db,_0xfcdc1b(0x495)+appId+_0xfcdc1b(0x72e)+_0x1154fe['id']+_0xfcdc1b(0x386),_0x1c3fb3);await updateDoc(_0x491064,{'attempts':_0x5da790,'firstScore':_0x8f6bcc,'bestScore':_0xb79ac4,'latestScore':_0x4cae2b,'points':_0x39f9a4});}function cleanupQuizOptions(_0x23021a){const _0x5322bc=_0x2626e0,_0xb1af87=(_0x26c991,_0x4bd79d)=>_0x4bd79d===0x0?_0x26c991:_0xb1af87(_0x4bd79d,_0x26c991%_0x4bd79d),_0x5a35ff=_0x3dedde=>{const _0x13df17=_0x5e36;if(typeof _0x3dedde!=='string')return null;_0x3dedde=_0x3dedde[_0x13df17(0x4ca)]();const _0x30cf4c=_0x3dedde[_0x13df17(0x236)](/[ /]/)[_0x13df17(0x6c1)](_0xfe2d26=>_0xfe2d26!=='');if(_0x30cf4c[_0x13df17(0x97d)]===0x3)return parseInt(_0x30cf4c[0x0])+parseInt(_0x30cf4c[0x1])/parseInt(_0x30cf4c[0x2]);else{if(_0x30cf4c[_0x13df17(0x97d)]===0x2)return parseInt(_0x30cf4c[0x0])/parseInt(_0x30cf4c[0x1]);else{if(_0x30cf4c['length']===0x1&&!isNaN(_0x30cf4c[0x0]))return parseFloat(_0x30cf4c[0x0]);}}return null;},_0x3064bf=_0x10af44=>{const _0x4d9ac8=_0x5e36;if(typeof _0x10af44!==_0x4d9ac8(0x3f5))return _0x10af44;const _0x161956=_0x10af44[_0x4d9ac8(0x442)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x161956){const _0x474417=parseInt(_0x161956[0x1]);let _0xdda5a8=parseInt(_0x161956[0x2]),_0x4073cb=parseInt(_0x161956[0x3]);const _0x4ee06e=_0xb1af87(_0xdda5a8,_0x4073cb);_0xdda5a8/=_0x4ee06e,_0x4073cb/=_0x4ee06e;if(_0x4073cb===0x1)return(_0x474417+_0xdda5a8)[_0x4d9ac8(0x58f)]();return _0x474417+'\x20'+_0xdda5a8+'/'+_0x4073cb;}return _0x10af44;};return _0x23021a&&_0x23021a[_0x5322bc(0x9a5)]&&_0x23021a['questions'][_0x5322bc(0x2fb)](_0x270f6e=>{const _0x376dd6=_0x5322bc;if(_0x270f6e['questionType']===_0x376dd6(0x280)&&_0x270f6e['options']){const _0x7f9730=new Map(),_0xf38d93=_0x270f6e['options'][_0x270f6e[_0x376dd6(0x550)]];_0x270f6e[_0x376dd6(0x95b)][_0x376dd6(0x2fb)](_0x2ff9b5=>{const _0x675abe=_0x376dd6,_0x40c9db=_0x3064bf(_0x2ff9b5),_0x21ce74=_0x5a35ff(_0x40c9db);_0x21ce74!==null&&!_0x7f9730[_0x675abe(0x601)](_0x21ce74)&&_0x7f9730['set'](_0x21ce74,_0x40c9db);}),_0x270f6e[_0x376dd6(0x95b)]=Array[_0x376dd6(0x73e)](_0x7f9730['values']());const _0x19e2d7=_0x270f6e[_0x376dd6(0x95b)]['findIndex'](_0x31b70e=>_0x31b70e===_0x3064bf(_0xf38d93));_0x270f6e['correctAnswerIndex']=_0x19e2d7!==-0x1?_0x19e2d7:0x0;}}),_0x23021a;}async function saveQuiz(){const _0x20a607=_0x2626e0;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x20a607(0x9a5)]||!userId){showMessage(_0x20a607(0x91e));return;}const _0xb6a2a5=document[_0x20a607(0x87d)](_0x20a607(0x436));_0xb6a2a5[_0x20a607(0x500)]=!![],_0xb6a2a5[_0x20a607(0x9a4)]=_0x20a607(0x8d9);const _0x3f99e1=document['getElementById'](_0x20a607(0x683))[_0x20a607(0x1e0)];let _0x2f4983=document[_0x20a607(0x87d)](_0x20a607(0x351))[_0x20a607(0x812)][_0x20a607(0x4ca)]();_0x3f99e1&&!_0x2f4983[_0x20a607(0x62b)](_0x20a607(0x6a8))&&(_0x2f4983=_0x20a607(0x445)+_0x2f4983);try{const _0x2b0ca5={'resultsDisplay':document['getElementById'](_0x20a607(0x75a))[_0x20a607(0x810)],'shuffle':document[_0x20a607(0x87d)](_0x20a607(0x61a))[_0x20a607(0x810)],'timerMode':document[_0x20a607(0x87d)]('timer-mode-select')[_0x20a607(0x810)],'timerDuration':parseInt(document[_0x20a607(0x87d)](_0x20a607(0x34d))[_0x20a607(0x810)])||0xa,'passingScore':parseInt(document['getElementById']('passing-score-input')[_0x20a607(0x810)])||0x0,'isAdaptive':document[_0x20a607(0x87d)]('adaptive-quiz-checkbox')['checked'],'loopUntilPass':document[_0x20a607(0x87d)](_0x20a607(0x4ef))[_0x20a607(0x1e0)]},_0x2619f5=(currentQuizData['questions']||[])[_0x20a607(0x1e7)]((_0x28d6e9,_0x52c8f2)=>{const _0x5d6d26=_0x20a607,_0x45017a=document[_0x5d6d26(0x87d)](_0x5d6d26(0x910))[_0x5d6d26(0x810)],_0x306a75={'id':'q_'+Date[_0x5d6d26(0x363)]()+'_'+_0x52c8f2,'questionText':_0x28d6e9[_0x5d6d26(0x846)]||'','explanation':_0x28d6e9[_0x5d6d26(0x48f)]||'ไม่มีคำอธิบาย','questionType':_0x28d6e9[_0x5d6d26(0x19e)]||_0x45017a,'imageCode':_0x28d6e9[_0x5d6d26(0x3d2)]||null};return(_0x306a75[_0x5d6d26(0x19e)]===_0x5d6d26(0x280)||_0x306a75[_0x5d6d26(0x19e)]==='fill_in_with_choices'||_0x306a75[_0x5d6d26(0x19e)]===_0x5d6d26(0x5b3)&&_0x28d6e9['options'])&&(_0x306a75[_0x5d6d26(0x95b)]=_0x28d6e9[_0x5d6d26(0x95b)]||[],_0x306a75[_0x5d6d26(0x550)]=_0x28d6e9[_0x5d6d26(0x550)]!==undefined?_0x28d6e9[_0x5d6d26(0x550)]:0x0),(_0x306a75[_0x5d6d26(0x19e)]==='short_answer'||_0x306a75['questionType']==='fill_in_no_choices'||_0x306a75['questionType']===_0x5d6d26(0x5b3)&&_0x28d6e9[_0x5d6d26(0x83a)])&&(_0x306a75['idealAnswer']=_0x28d6e9[_0x5d6d26(0x83a)]||''),_0x306a75[_0x5d6d26(0x19e)]==='true_false'&&(_0x306a75[_0x5d6d26(0x312)]=_0x28d6e9['correctAnswer']===!![]),_0x306a75[_0x5d6d26(0x19e)]===_0x5d6d26(0x801)&&(_0x306a75[_0x5d6d26(0x883)]=_0x28d6e9[_0x5d6d26(0x883)]||'',_0x306a75[_0x5d6d26(0x3df)]=_0x28d6e9[_0x5d6d26(0x3df)]||'',_0x306a75[_0x5d6d26(0x8c6)]=_0x28d6e9[_0x5d6d26(0x8c6)]||[]),_0x306a75;}),_0x488c48={'topic':_0x2f4983,'quizType':currentQuizData['quizType']||_0x20a607(0x280),'questions':_0x2619f5,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x20a607(0x630)](),'status':_0x20a607(0x97f),'settings':_0x2b0ca5,'quizMode':_0x3f99e1?'pre-test':_0x20a607(0x7f8),'pairedQuizId':null,'lessonPlan':null};let _0x2d9c9e;while(!![]){_0x2d9c9e=Math['floor'](0x3e8+Math[_0x20a607(0x52a)]()*0x2328)['toString']();const _0x5e4c87=await getDoc(doc(db,_0x20a607(0x495)+appId+_0x20a607(0x20c),_0x2d9c9e));if(!_0x5e4c87[_0x20a607(0x7c0)]())break;}await setDoc(doc(db,_0x20a607(0x495)+appId+_0x20a607(0x20c),_0x2d9c9e),_0x488c48),currentQuizData['settings']=_0x2b0ca5,currentQuizData['id']=_0x2d9c9e;const _0x2cf72c=document[_0x20a607(0x87d)](_0x20a607(0x4cc));_0x2cf72c['innerHTML']=_0x20a607(0x261)+_0x2d9c9e+_0x20a607(0x96e),document['getElementById'](_0x20a607(0x4bc))['addEventListener'](_0x20a607(0x421),()=>copyTextToClipboard(_0x2d9c9e,_0x20a607(0x5d3))),document['getElementById'](_0x20a607(0x896))[_0x20a607(0x214)](_0x20a607(0x421),()=>handleStartLiveRace(_0x2d9c9e)),document[_0x20a607(0x87d)]('start-presentation-btn')[_0x20a607(0x214)](_0x20a607(0x421),()=>startPresentation(currentQuizData)),document[_0x20a607(0x87d)](_0x20a607(0x2ec))[_0x20a607(0x214)](_0x20a607(0x421),startAdminTest),showMessage(_0x20a607(0x81d));}catch(_0x17be34){console[_0x20a607(0x670)](_0x20a607(0x900),_0x17be34),showMessage(_0x20a607(0x8b9)),_0xb6a2a5[_0x20a607(0x500)]=![],_0xb6a2a5[_0x20a607(0x9a4)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x3b3df2=_0x2626e0,_0x5b2606=document[_0x3b3df2(0x87d)](_0x3b3df2(0x2c6)),_0x4ee637=document[_0x3b3df2(0x87d)](_0x3b3df2(0x2ca)),_0x2e1803=_0x5b2606['querySelector']('h3'),_0x240a9a=document[_0x3b3df2(0x87d)]('confirm-move-quiz-btn');_0x2e1803[_0x3b3df2(0x573)]=_0x3b3df2(0x98f),_0x240a9a[_0x3b3df2(0x573)]=_0x3b3df2(0x38b);allProjects['length']===0x0?(_0x4ee637[_0x3b3df2(0x9a4)]='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x240a9a[_0x3b3df2(0x500)]=!![]):(_0x4ee637[_0x3b3df2(0x9a4)]=allProjects[_0x3b3df2(0x1e7)](_0xd11f73=>_0x3b3df2(0x30f)+_0xd11f73['id']+'\x22>'+_0xd11f73[_0x3b3df2(0x560)]+'</option>')['join'](''),_0x240a9a[_0x3b3df2(0x500)]=![]);_0x5b2606['classList'][_0x3b3df2(0x594)](_0x3b3df2(0x250));const _0x37aaa9=()=>{const _0x4518d7=_0x3b3df2,_0x5485bf=_0x4ee637[_0x4518d7(0x810)];_0x5485bf?(currentProjectId=_0x5485bf,_0x5b2606[_0x4518d7(0x1a0)]['add'](_0x4518d7(0x250)),saveQuiz(),_0x2e1803[_0x4518d7(0x573)]=_0x4518d7(0x1a1),_0x240a9a['textContent']=_0x4518d7(0x1e3),_0x240a9a[_0x4518d7(0x297)](_0x4518d7(0x421),_0x37aaa9),_0x240a9a[_0x4518d7(0x214)](_0x4518d7(0x421),confirmMoveQuiz)):showMessage(_0x4518d7(0x1da));};_0x240a9a[_0x3b3df2(0x297)](_0x3b3df2(0x421),confirmMoveQuiz),_0x240a9a[_0x3b3df2(0x214)](_0x3b3df2(0x421),_0x37aaa9);}function copyTextToClipboard(_0x29e26a,_0x5a4260){const _0x209d4d=_0x2626e0,_0x4cf597=document[_0x209d4d(0x39d)](_0x209d4d(0x454));_0x4cf597[_0x209d4d(0x810)]=_0x29e26a,_0x4cf597[_0x209d4d(0x63c)][_0x209d4d(0x7eb)]=_0x209d4d(0x995),_0x4cf597[_0x209d4d(0x63c)][_0x209d4d(0x8ec)]='0',document[_0x209d4d(0x792)][_0x209d4d(0x701)](_0x4cf597),_0x4cf597[_0x209d4d(0x378)](),_0x4cf597['select']();try{const _0x320545=document[_0x209d4d(0x7a0)]('copy');showMessage(_0x320545?_0x5a4260:'คัดลอกไม่สำเร็จ');}catch(_0xb8e785){showMessage('คัดลอกไม่สำเร็จ'),console[_0x209d4d(0x670)]('Copy\x20command\x20failed',_0xb8e785);}document[_0x209d4d(0x792)][_0x209d4d(0x4e7)](_0x4cf597);}function listenForProjectQuizzes(_0x533d6c){const _0x33c5d6=_0x2626e0,_0x1b68af=collection(db,_0x33c5d6(0x495)+appId+_0x33c5d6(0x20c)),_0x43db7f=query(_0x1b68af,where('projectId','==',_0x533d6c));unsubscribeQuizzesListener=onSnapshot(_0x43db7f,async _0x2d9bb4=>{const _0x3459f3=_0x33c5d6;allQuizzes=_0x2d9bb4[_0x3459f3(0x4f7)][_0x3459f3(0x1e7)](_0x4a1ac0=>({'id':_0x4a1ac0['id'],..._0x4a1ac0[_0x3459f3(0x26b)]()})),renderQuizzes();},_0x1ae408=>{const _0x2d19cc=_0x33c5d6;console[_0x2d19cc(0x670)]('Error\x20fetching\x20project\x20quizzes:',_0x1ae408),document[_0x2d19cc(0x87d)]('project-quizzes-list')[_0x2d19cc(0x9a4)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x26381d=_0x2626e0,_0x12c82a=document['getElementById'](_0x26381d(0x7ea)),_0x1154af=document[_0x26381d(0x87d)](_0x26381d(0x337))[_0x26381d(0x810)][_0x26381d(0x85a)]();let _0x310a10;currentProjectId===_0x26381d(0x375)?_0x310a10=starredQuizzes:_0x310a10=allQuizzes;let _0x391603=_0x310a10[_0x26381d(0x6c1)](_0x16431d=>_0x16431d[_0x26381d(0x6b9)][_0x26381d(0x85a)]()[_0x26381d(0x777)](_0x1154af));_0x391603[_0x26381d(0x2f3)]((_0x1dd2d5,_0x3c0188)=>new Date(_0x3c0188['createdAt'])-new Date(_0x1dd2d5[_0x26381d(0x264)]));if(_0x391603[_0x26381d(0x97d)]===0x0){_0x12c82a['innerHTML']=_0x26381d(0x993);return;}const _0x26c34b={},_0xd6a492=_0x391603['map'](async _0x4e9b01=>{const _0x58393f=_0x26381d,_0x1c559a=collection(db,_0x58393f(0x495)+appId+'/public/data/quizzes/'+_0x4e9b01['id']+_0x58393f(0x386)),_0x13f6d2=await getDocs(_0x1c559a);_0x26c34b[_0x4e9b01['id']]=_0x13f6d2['size'];});await Promise[_0x26381d(0x866)](_0xd6a492);let _0x2ffb34='';_0x391603[_0x26381d(0x2fb)](_0x5de855=>{const _0x53a720=_0x26381d,_0x19c813=_0x26c34b[_0x5de855['id']]||0x0,_0x1e06d5=_0x5de855[_0x53a720(0x2fc)]||'active',_0x2aed24=_0x5de855[_0x53a720(0x446)]?.['timerMode']||_0x53a720(0x293);let _0x4bba41='',_0x11c5f2='';const _0x28fb67=new Date();let _0x2da81e=_0x1e06d5;if(_0x1e06d5==='scheduled'){const _0xcd0e12=_0x5de855['startTime']?new Date(_0x5de855[_0x53a720(0x423)]):null,_0xe2a1a8=_0x5de855['endTime']?new Date(_0x5de855[_0x53a720(0x221)]):null;if(_0xe2a1a8&&_0x28fb67>_0xe2a1a8)_0x2da81e='inactive';else _0xcd0e12&&_0x28fb67<_0xcd0e12?_0x2da81e=_0x53a720(0x5b8):_0x2da81e='active';}switch(_0x2da81e){case _0x53a720(0x290):_0x4bba41=_0x53a720(0x516),_0x11c5f2=_0x53a720(0x45f);break;case _0x53a720(0x5b8):_0x4bba41=_0x53a720(0x5b4),_0x11c5f2='text-blue-700\x20bg-blue-100';break;case _0x53a720(0x97f):_0x4bba41=_0x2aed24!==_0x53a720(0x293)?'เปิด\x20(จับเวลา)':_0x53a720(0x8e4),_0x11c5f2='text-green-700\x20bg-green-100';break;default:_0x4bba41=_0x53a720(0x3a4),_0x11c5f2=_0x53a720(0x521);break;}let _0x343711='';const _0x40cce0={'day':'2-digit','month':'2-digit','year':_0x53a720(0x444),'hour':_0x53a720(0x6f3),'minute':'2-digit','hour12':![]};if(_0x1e06d5===_0x53a720(0x487)){if(_0x5de855[_0x53a720(0x423)])_0x343711+=_0x53a720(0x8d7)+new Date(_0x5de855[_0x53a720(0x423)])[_0x53a720(0x2c3)](_0x53a720(0x8cb),_0x40cce0)+_0x53a720(0x49e);if(_0x5de855['endTime'])_0x343711+=_0x53a720(0x240)+new Date(_0x5de855['endTime'])[_0x53a720(0x2c3)](_0x53a720(0x8cb),_0x40cce0)+'</p>';}let _0x34b0f0='';if(_0x5de855[_0x53a720(0x7ab)]){const _0x531a39=allQuizzes['find'](_0x5d2f4c=>_0x5d2f4c['id']===_0x5de855[_0x53a720(0x7ab)]);if(_0x531a39){let _0x3e996d,_0x50e4b7;new Date(_0x5de855[_0x53a720(0x264)])<new Date(_0x531a39[_0x53a720(0x264)])?(_0x3e996d=_0x5de855['id'],_0x50e4b7=_0x531a39['id']):(_0x3e996d=_0x531a39['id'],_0x50e4b7=_0x5de855['id']),_0x34b0f0+=_0x53a720(0x8e3)+_0x50e4b7+_0x53a720(0x72c)+_0x3e996d+_0x53a720(0x56f);}}else _0x5de855['quizMode']===_0x53a720(0x688)&&(_0x34b0f0+=_0x53a720(0x4dc)+_0x5de855['id']+_0x53a720(0x1e1));if(_0x5de855[_0x53a720(0x603)]===_0x53a720(0x688)&&_0x19c813>0x0)_0x34b0f0+=_0x53a720(0x4dc)+_0x5de855['id']+_0x53a720(0x38e);else!_0x5de855['pairedQuizId']&&_0x5de855[_0x53a720(0x603)]!==_0x53a720(0x688)&&_0x19c813>0x0&&(_0x34b0f0+=_0x53a720(0x4dc)+_0x5de855['id']+_0x53a720(0x590));let _0x560e44='';_0x5de855['pairedQuizId']?_0x560e44=_0x53a720(0x263)+_0x5de855['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x560e44=_0x53a720(0x263)+_0x5de855['id']+_0x53a720(0x6d9),_0x2ffb34+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x5de855['id']+_0x53a720(0x229)+_0x5de855[_0x53a720(0x6b9)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x5de855['questions'][_0x53a720(0x97d)]+_0x53a720(0x1c4)+new Date(_0x5de855['createdAt'])['toLocaleString'](_0x53a720(0x8cb))+_0x53a720(0x9bc)+_0x19c813+_0x53a720(0x7ad)+_0x343711+_0x53a720(0x7dc)+_0x11c5f2+'\x22>'+_0x4bba41+_0x53a720(0x972)+_0x5de855['id']+_0x53a720(0x90d)+_0x5de855['id']+_0x53a720(0x3c2)+(_0x5de855[_0x53a720(0x8ae)]?'fas\x20fa-star\x20text-yellow-500':_0x53a720(0x549))+_0x53a720(0x881)+_0x34b0f0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5de855['id']+_0x53a720(0x6ca)+_0x5de855['id']+_0x53a720(0x272)+_0x5de855['id']+_0x53a720(0x784)+_0x5de855['id']+_0x53a720(0x612)+_0x5de855['id']+_0x53a720(0x256)+_0x5de855['id']+_0x53a720(0x360)+_0x5de855['id']+_0x53a720(0x805)+_0x5de855['topic']+_0x53a720(0x2b7)+_0x5de855['id']+_0x53a720(0x41d)+_0x5de855['id']+_0x53a720(0x276)+_0x560e44+_0x53a720(0x8b0)+_0x5de855['id']+_0x53a720(0x571)+_0x5de855['id']+_0x53a720(0x377)+_0x5de855['id']+_0x53a720(0x647)+_0x5de855['id']+_0x53a720(0x321)+_0x5de855['id']+_0x53a720(0x805)+_0x5de855[_0x53a720(0x6b9)]+_0x53a720(0x854)+_0x5de855['id']+_0x53a720(0x20d);}),_0x12c82a['innerHTML']=_0x2ffb34,document['querySelectorAll'](_0x26381d(0x29a))[_0x26381d(0x2fb)](_0xc31b74=>{const _0x5b0716=_0x26381d;_0xc31b74['addEventListener'](_0x5b0716(0x421),()=>{const _0x5b7756=_0x5b0716,_0x3472b4=_0xc31b74[_0x5b7756(0x2e0)][_0x5b7756(0x20f)];showQuizDetailView(_0x3472b4);});});}async function handleUnpairQuiz(_0x3bd003){const _0x3f250b=_0x2626e0,_0x2956c7=allQuizzes['find'](_0x26e061=>_0x26e061['id']===_0x3bd003);if(!_0x2956c7||!_0x2956c7[_0x3f250b(0x7ab)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?',async()=>{const _0x2fe823=_0x3f250b;try{const _0x44e600=doc(db,_0x2fe823(0x495)+appId+'/public/data/quizzes',_0x3bd003),_0x3f2740=doc(db,_0x2fe823(0x495)+appId+_0x2fe823(0x20c),_0x2956c7[_0x2fe823(0x7ab)]),_0x24c2b9=writeBatch(db);_0x24c2b9[_0x2fe823(0x32a)](_0x44e600,{'pairedQuizId':null}),_0x24c2b9[_0x2fe823(0x32a)](_0x3f2740,{'pairedQuizId':null}),await _0x24c2b9[_0x2fe823(0x37e)](),showMessage(_0x2fe823(0x59b));}catch(_0x1c797d){console[_0x2fe823(0x670)](_0x2fe823(0x206),_0x1c797d),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0xcfb9b3,_0x174364){const _0xaa6a33=_0x2626e0,_0x2cddd5=window[_0xaa6a33(0x578)]('',_0xaa6a33(0x692)),_0x4f650a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x174364['topic']+_0xaa6a33(0x3ea)+_0x174364[_0xaa6a33(0x6b9)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xcfb9b3[_0xaa6a33(0x6b2)][_0xaa6a33(0x1e7)](_0x1aed9c=>_0xaa6a33(0x952)+_0x1aed9c+_0xaa6a33(0x7bd))[_0xaa6a33(0x3a2)]('')+_0xaa6a33(0x99a)+_0xcfb9b3[_0xaa6a33(0x230)]+_0xaa6a33(0x508)+_0xcfb9b3[_0xaa6a33(0x7be)][_0xaa6a33(0x1e7)](_0x116c6c=>_0xaa6a33(0x374)+_0x116c6c['question']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x116c6c[_0xaa6a33(0x251)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xaa6a33(0x3a2)]('')+_0xaa6a33(0x940);_0x2cddd5[_0xaa6a33(0x6f9)][_0xaa6a33(0x969)](_0x4f650a),_0x2cddd5['document'][_0xaa6a33(0x8c8)](),_0x2cddd5[_0xaa6a33(0x528)]=function(){setTimeout(()=>{_0x2cddd5['print']();},0x3e8);};}async function handleAiFixFormula(_0xc6e4d){const _0x3298fa=_0x2626e0,_0x4b4653=document[_0x3298fa(0x33b)](_0x3298fa(0x8fb)+_0xc6e4d+'\x22]');if(!_0x4b4653)return;const _0x142918=_0x4b4653[_0x3298fa(0x2e0)]['qType'],_0x4548ac=_0x4b4653[_0x3298fa(0x33b)](_0x3298fa(0x762));let _0x4ede60={'question':_0x4b4653[_0x3298fa(0x33b)](_0x3298fa(0x454))[_0x3298fa(0x810)]};switch(_0x142918){case _0x3298fa(0x280):_0x4ede60['options']=Array[_0x3298fa(0x73e)](_0x4b4653[_0x3298fa(0x4fa)](_0x3298fa(0x73b)))[_0x3298fa(0x1e7)](_0x7abb82=>_0x7abb82[_0x3298fa(0x810)]);break;case'short_answer':_0x4ede60[_0x3298fa(0x83a)]=_0x4b4653[_0x3298fa(0x33b)](_0x3298fa(0x530))[_0x3298fa(0x810)];break;case _0x3298fa(0x801):_0x4ede60[_0x3298fa(0x3df)]=_0x4b4653[_0x3298fa(0x33b)]('.correct-response-input')[_0x3298fa(0x810)];break;}_0x4548ac[_0x3298fa(0x9a4)]=_0x3298fa(0x780),_0x4548ac[_0x3298fa(0x500)]=!![];try{const _0xaeb318='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20'+JSON[_0x3298fa(0x6d8)](_0x4ede60)+_0x3298fa(0x24f),_0x446efa={'type':_0x3298fa(0x24e),'properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'options':{'type':_0x3298fa(0x44a),'items':{'type':_0x3298fa(0x61d)}},'idealAnswer':{'type':_0x3298fa(0x61d)},'correctResponse':{'type':_0x3298fa(0x61d)}},'required':['question']}},'required':['fixedData']},_0x3d2ed6=await callAnalysisApi(_0xaeb318,_0x446efa);if(_0x3d2ed6&&_0x3d2ed6['fixedData']){const _0x2ae2b9=_0x3d2ed6[_0x3298fa(0x4db)];_0x4b4653['querySelector'](_0x3298fa(0x454))[_0x3298fa(0x810)]=_0x2ae2b9[_0x3298fa(0x67d)]||_0x4ede60[_0x3298fa(0x67d)];switch(_0x142918){case _0x3298fa(0x280):_0x2ae2b9[_0x3298fa(0x95b)]&&_0x2ae2b9[_0x3298fa(0x95b)][_0x3298fa(0x97d)]>0x0&&_0x4b4653[_0x3298fa(0x4fa)](_0x3298fa(0x73b))[_0x3298fa(0x2fb)]((_0xb7f215,_0x27d69c)=>{const _0x565c2b=_0x3298fa;_0xb7f215[_0x565c2b(0x810)]=_0x2ae2b9[_0x565c2b(0x95b)][_0x27d69c]||_0x4ede60[_0x565c2b(0x95b)][_0x27d69c];});break;case _0x3298fa(0x3fb):_0x4b4653[_0x3298fa(0x33b)](_0x3298fa(0x530))[_0x3298fa(0x810)]=_0x2ae2b9[_0x3298fa(0x83a)]||_0x4ede60[_0x3298fa(0x83a)];break;case _0x3298fa(0x801):_0x4b4653['querySelector'](_0x3298fa(0x5cd))[_0x3298fa(0x810)]=_0x2ae2b9[_0x3298fa(0x3df)]||_0x4ede60[_0x3298fa(0x3df)];break;}if(_0x4ede60[_0x3298fa(0x67d)]!==_0x2ae2b9[_0x3298fa(0x67d)])try{const _0x36d751=collection(db,_0x3298fa(0x495)+appId+'/public/data/learnedFixes');await addDoc(_0x36d751,{'broken':_0x4ede60['question'],'fixed':_0x2ae2b9['question'],'createdAt':serverTimestamp()});}catch(_0x2dd4e2){console['error']('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x2dd4e2);}showMessage(_0x3298fa(0x413));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x2d9f89){console[_0x3298fa(0x670)](_0x3298fa(0x4a8),_0x2d9f89),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x4548ac['innerHTML']=_0x3298fa(0x93a),_0x4548ac[_0x3298fa(0x500)]=![];}}async function handleGenerateLessonPlan(_0x2eb1d6){const _0x1d16e8=_0x2626e0;showMessage(_0x1d16e8(0x247));try{const _0xe465da=doc(db,_0x1d16e8(0x495)+appId+'/public/data/quizzes',_0x2eb1d6),_0x3fcf57=await getDoc(_0xe465da);if(!_0x3fcf57['exists']())throw new Error(_0x1d16e8(0x42a));const _0x468c2a={'id':_0x2eb1d6,..._0x3fcf57[_0x1d16e8(0x26b)]()},_0xd2aef1=collection(db,_0x1d16e8(0x495)+appId+'/public/data/quizzes',_0x2eb1d6,_0x1d16e8(0x279)),_0x3b3312=await getDocs(_0xd2aef1),_0x141a7c=_0x3b3312[_0x1d16e8(0x4f7)]['map'](_0x513cfc=>_0x513cfc[_0x1d16e8(0x26b)]());if(_0x141a7c[_0x1d16e8(0x97d)]===0x0)throw new Error(_0x1d16e8(0x537));const _0x49d7a7=calculateItemAnalysis(_0x468c2a,_0x141a7c)['perQuestionStats'],_0x1215b7=calculateDistractorAnalysis(_0x468c2a,_0x141a7c),_0x7e7ca9=_0x4a61c9=>{const _0x2f26e4=_0x1d16e8;if(!_0x4a61c9)return'';return _0x4a61c9[_0x2f26e4(0x356)](/\\/g,'\x5c\x5c')[_0x2f26e4(0x356)](/"/g,'\x5c\x22')[_0x2f26e4(0x356)](/\n/g,'\x5cn');};let _0x47f919=_0x1d16e8(0x26c);_0x468c2a[_0x1d16e8(0x9a5)][_0x1d16e8(0x2fb)]((_0x33a571,_0x54c4e9)=>{const _0x22d304=_0x1d16e8,_0x32f489=_0x49d7a7[_0x54c4e9]?.['p'][_0x22d304(0x2b4)](0x2)||'N/A',_0x29a489=_0x49d7a7[_0x54c4e9]?.['r'][_0x22d304(0x2b4)](0x2)||_0x22d304(0x9d0),_0x1fcea0=_0x7e7ca9(_0x33a571['questionText']||_0x33a571['stem']);_0x47f919+=_0x22d304(0x730)+(_0x54c4e9+0x1)+_0x22d304(0x466)+_0x32f489+_0x22d304(0x85c)+_0x29a489+_0x22d304(0x3eb)+_0x1fcea0+'\x5cn';if(_0x33a571[_0x22d304(0x19e)]==='multiple_choice'&&_0x1215b7[_0x54c4e9]){const _0x1e9dda=_0x1215b7[_0x54c4e9],_0x22d097=Object[_0x22d304(0x831)](_0x1e9dda)[_0x22d304(0x6c1)](_0xfc9ea5=>parseInt(_0xfc9ea5)!==_0x33a571['correctAnswerIndex'])['sort']((_0x5d494,_0x407aab)=>_0x1e9dda[_0x407aab][_0x22d304(0x6cc)]-_0x1e9dda[_0x5d494]['total'])[0x0];if(_0x22d097&&_0x1e9dda[_0x22d097]['total']>0x0){const _0x1f6142=_0x7e7ca9(_0x1e9dda[_0x22d097][_0x22d304(0x228)]);_0x47f919+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x1f6142+_0x22d304(0x511);}}});const _0x2340f5=_0x1d16e8(0x94f)+_0x468c2a[_0x1d16e8(0x6b9)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x47f919+_0x1d16e8(0x982),_0x1f33f2={'type':_0x1d16e8(0x24e),'properties':{'learningGaps':{'type':_0x1d16e8(0x44a),'items':{'type':_0x1d16e8(0x61d)}},'teachingContent':{'type':_0x1d16e8(0x61d)},'practiceProblems':{'type':_0x1d16e8(0x44a),'items':{'type':_0x1d16e8(0x24e),'properties':{'question':{'type':_0x1d16e8(0x61d)},'solution':{'type':_0x1d16e8(0x61d)}}}}},'required':['learningGaps',_0x1d16e8(0x230),_0x1d16e8(0x7be)]},_0xc92515=await callAnalysisApi(_0x2340f5,_0x1f33f2);await updateDoc(_0xe465da,{'lessonPlan':_0xc92515});const _0x2394d4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x468c2a['topic']+_0x1d16e8(0x271)+_0xc92515['learningGaps']['map'](_0x5a3914=>_0x1d16e8(0x952)+_0x5a3914+'</li>')[_0x1d16e8(0x3a2)]('')+_0x1d16e8(0x1d1)+_0xc92515['teachingContent']+_0x1d16e8(0x523)+_0xc92515['practiceProblems'][_0x1d16e8(0x1e7)](_0x5f465d=>_0x1d16e8(0x73c)+_0x5f465d['question']+_0x1d16e8(0x354)+_0x5f465d['solution']+_0x1d16e8(0x936))[_0x1d16e8(0x3a2)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x1d16e8(0x87d)](_0x1d16e8(0x1e5))[_0x1d16e8(0x573)]=_0x1d16e8(0x488)+_0x468c2a[_0x1d16e8(0x6b9)],document[_0x1d16e8(0x87d)]('lesson-plan-content')[_0x1d16e8(0x9a4)]=_0x2394d4,document[_0x1d16e8(0x87d)](_0x1d16e8(0x77e))['classList'][_0x1d16e8(0x594)](_0x1d16e8(0x250));if(window[_0x1d16e8(0x9c4)])MathJax['typesetPromise']();messageModal[_0x1d16e8(0x1a0)][_0x1d16e8(0x368)]('hidden');}catch(_0x4e18dc){console[_0x1d16e8(0x670)](_0x1d16e8(0x496),_0x4e18dc),showMessage(_0x1d16e8(0x6e5)+_0x4e18dc['message']);}}async function handleDuplicateQuiz(_0x2aa8f3){const _0x42dcd2=_0x2626e0;try{const _0x464bde=doc(db,'artifacts/'+appId+_0x42dcd2(0x20c),_0x2aa8f3),_0x11eb64=await getDoc(_0x464bde);if(_0x11eb64[_0x42dcd2(0x7c0)]()){const _0x1a36d3=_0x11eb64[_0x42dcd2(0x26b)]();let _0x244c5a='',_0x3ca4d2=_0x42dcd2(0x7f8),_0x332c64=null;if(_0x1a36d3['quizMode']==='pre-test'){let _0x3d1726=_0x1a36d3[_0x42dcd2(0x6b9)][_0x42dcd2(0x356)](_0x42dcd2(0x6a8),'')[_0x42dcd2(0x4ca)]();_0x244c5a=_0x42dcd2(0x7f3)+_0x3d1726,_0x3ca4d2=_0x42dcd2(0x3a6),_0x332c64=_0x2aa8f3;}else _0x244c5a=_0x42dcd2(0x626)+_0x1a36d3[_0x42dcd2(0x6b9)];const _0x5ebd1a={..._0x1a36d3,'topic':_0x244c5a,'createdAt':new Date()[_0x42dcd2(0x630)](),'quizMode':_0x3ca4d2,'pairedQuizId':_0x332c64};let _0x3450d1;while(!![]){_0x3450d1=Math[_0x42dcd2(0x879)](0x3e8+Math[_0x42dcd2(0x52a)]()*0x2328)[_0x42dcd2(0x58f)]();const _0x7dc214=await getDoc(doc(db,_0x42dcd2(0x495)+appId+_0x42dcd2(0x20c),_0x3450d1));if(!_0x7dc214[_0x42dcd2(0x7c0)]())break;}const _0x2db602=doc(db,_0x42dcd2(0x495)+appId+_0x42dcd2(0x20c),_0x3450d1);await setDoc(_0x2db602,_0x5ebd1a),_0x5ebd1a[_0x42dcd2(0x603)]===_0x42dcd2(0x3a6)&&await updateDoc(_0x464bde,{'pairedQuizId':_0x3450d1}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x41da0e){console[_0x42dcd2(0x670)]('Error\x20duplicating\x20quiz:',_0x41da0e),showMessage(_0x42dcd2(0x478));}}async function handleDeleteQuiz(_0xa59f0d,_0x31cd51=!![]){const _0x110f67=_0x2626e0;try{const _0xa2eede=writeBatch(db),_0xe2414=collection(db,_0x110f67(0x495)+appId+_0x110f67(0x72e)+_0xa59f0d+_0x110f67(0x386)),_0x4b5074=await getDocs(_0xe2414);_0x4b5074['forEach'](_0x48a6bf=>{_0xa2eede['delete'](doc(_0xe2414,_0x48a6bf['id']));});const _0x45662c=doc(db,_0x110f67(0x495)+appId+_0x110f67(0x20c),_0xa59f0d);_0xa2eede[_0x110f67(0x725)](_0x45662c),await _0xa2eede[_0x110f67(0x37e)](),_0x31cd51&&showMessage(_0x110f67(0x938));}catch(_0x413063){console[_0x110f67(0x670)](_0x110f67(0x776),_0x413063),_0x31cd51&&showMessage(_0x110f67(0x6ae));}}async function showQuizDetailView(_0x3b7582){const _0x3513e4=_0x2626e0;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x4c276a=doc(db,_0x3513e4(0x495)+appId+_0x3513e4(0x20c),_0x3b7582),_0x173f99=await getDoc(_0x4c276a);if(!_0x173f99['exists']()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0x163362={'id':_0x173f99['id'],..._0x173f99['data']()};currentQuizData=_0x163362;const _0x1d5dfc=doc(db,'artifacts/'+appId+_0x3513e4(0x774),_0x163362['projectId']),_0x3a6be5=await getDoc(_0x1d5dfc);_0x3a6be5[_0x3513e4(0x7c0)]()?(currentProjectData=_0x3a6be5[_0x3513e4(0x26b)](),currentProjectId=_0x163362['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x163362[_0x3513e4(0x346)]);document[_0x3513e4(0x87d)](_0x3513e4(0x4ac))[_0x3513e4(0x573)]=_0x163362['topic'],document[_0x3513e4(0x87d)](_0x3513e4(0x552))[_0x3513e4(0x573)]=_0x3b7582;const _0x161d76=collection(db,_0x3513e4(0x495)+appId+_0x3513e4(0x20c),_0x3b7582,_0x3513e4(0x279));unsubscribeSubmissionsListener=onSnapshot(_0x161d76,_0xf30eb7=>{const _0x49c089=_0x3513e4,_0x3bf39c=_0xf30eb7[_0x49c089(0x4f7)][_0x49c089(0x1e7)](_0x2ac61a=>({'id':_0x2ac61a['id'],..._0x2ac61a[_0x49c089(0x26b)]()}));currentSubmissions=_0x3bf39c;const _0xcca34b=_0x3bf39c[_0x49c089(0x6c1)](_0x42bb80=>_0x42bb80[_0x49c089(0x1b3)]&&_0x42bb80[_0x49c089(0x1b3)][_0x49c089(0x97d)]>0x0);renderBehaviorLog(_0x3bf39c),renderAnswerGrid(currentProjectData[_0x49c089(0x7ca)],_0xcca34b,_0x163362),renderAnalytics(_0x163362,_0xcca34b),renderQuizResultsTable(currentProjectData[_0x49c089(0x7ca)],_0x3bf39c,_0x163362),renderQuizLeaderboard(_0xcca34b,_0x163362,_0x49c089(0x70f));}),showView(_0x3513e4(0x255));}catch(_0x4e9ad6){console['error'](_0x3513e4(0x6e9),_0x4e9ad6),showMessage(_0x3513e4(0x78f));}}function renderAnswerGrid(_0x36c53c,_0x476c7a,_0x12d86d){const _0x1dbc04=_0x2626e0,_0x78ccbb=document[_0x1dbc04(0x87d)]('answer-grid-container');if(!_0x78ccbb)return;if(!_0x36c53c||_0x36c53c[_0x1dbc04(0x97d)]===0x0){_0x78ccbb['innerHTML']=_0x1dbc04(0x4a4);return;}const _0x231af3=_0x12d86d[_0x1dbc04(0x9a5)],_0x467ee4=_0x476c7a[_0x1dbc04(0x815)]((_0x2f1f9f,_0x5caae9)=>{const _0x37f77d=_0x1dbc04;return _0x2f1f9f[_0x5caae9[_0x37f77d(0x49f)]]=_0x5caae9,_0x2f1f9f;},{}),_0x300c12=_0x1ef7e7=>String['fromCharCode'](0x41+_0x1ef7e7),_0x5dcfb4=_0xc69ab9=>{const _0x2a2911=_0x1dbc04,_0x2502ef=_0xc69ab9[_0x2a2911(0x19e)]||_0x12d86d[_0x2a2911(0x79c)];switch(_0x2502ef){case _0x2a2911(0x280):return _0xc69ab9[_0x2a2911(0x95b)]&&_0xc69ab9['options']['length']>_0xc69ab9[_0x2a2911(0x550)]?_0x300c12(_0xc69ab9[_0x2a2911(0x550)]):'-';case'true_false':return _0xc69ab9[_0x2a2911(0x312)]?_0x2a2911(0x2e4):'ไม่ใช่';case _0x2a2911(0x801):return _0xc69ab9[_0x2a2911(0x3df)]||'-';case _0x2a2911(0x3fb):return'พิมพ์ตอบ';default:return'-';}},_0x1274c7=(_0x32e27e,_0x56c6bb)=>{const _0x4166bc=_0x1dbc04;if(_0x56c6bb[_0x4166bc(0x5d5)]===null||_0x56c6bb[_0x4166bc(0x5d5)]===undefined)return'-';const _0x48eea0=_0x32e27e[_0x4166bc(0x19e)]||_0x12d86d[_0x4166bc(0x79c)];switch(_0x48eea0){case _0x4166bc(0x280):const _0x3df9a6=_0x32e27e[_0x4166bc(0x95b)][_0x4166bc(0x52e)](_0x27cb2e=>_0x27cb2e===_0x56c6bb[_0x4166bc(0x25a)]);return _0x3df9a6!==-0x1?_0x300c12(_0x3df9a6):_0x56c6bb[_0x4166bc(0x25a)]||'-';case'true_false':return _0x56c6bb['answer']==='true'||_0x56c6bb[_0x4166bc(0x5d5)]===!![]?_0x4166bc(0x2e4):_0x4166bc(0x5eb);default:return _0x56c6bb[_0x4166bc(0x5d5)];}};let _0x2b5e9c=_0x1dbc04(0x8fa)+_0x231af3[_0x1dbc04(0x1e7)]((_0x1071c9,_0x1d9049)=>_0x1dbc04(0x518)+(_0x1d9049+0x1)+_0x1dbc04(0x6fe))[_0x1dbc04(0x3a2)]('')+_0x1dbc04(0x1fc)+_0x231af3[_0x1dbc04(0x1e7)](_0xe2ee17=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x5dcfb4(_0xe2ee17)+'</td>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x36c53c[_0x1dbc04(0x2fb)](_0x1a24b9=>{const _0x548114=_0x1dbc04;_0x2b5e9c+=_0x548114(0x596),_0x2b5e9c+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x1a24b9+'</td>';const _0x1348e3=_0x467ee4[_0x1a24b9];if(_0x1348e3){const _0x1ef8d4=_0x1348e3[_0x548114(0x1b3)][_0x1348e3[_0x548114(0x1b3)][_0x548114(0x97d)]-0x1];_0x231af3['forEach']((_0x27d698,_0x232e0b)=>{const _0x22b441=_0x548114,_0x30d5ca=_0x1ef8d4[_0x22b441(0x653)][_0x22b441(0x645)](_0x13175c=>_0x13175c['originalQuestionText']===(_0x27d698[_0x22b441(0x883)]||_0x27d698[_0x22b441(0x846)]));if(_0x30d5ca){let _0x4e4762=![];const _0xe47f16=_0x27d698['questionType']||_0x12d86d[_0x22b441(0x79c)];if(_0x30d5ca[_0x22b441(0x5d5)]!==null&&_0x30d5ca[_0x22b441(0x5d5)]!==undefined)switch(_0xe47f16){case _0x22b441(0x280):const _0x51e871=_0x27d698[_0x22b441(0x95b)][_0x27d698[_0x22b441(0x550)]];_0x4e4762=_0x30d5ca[_0x22b441(0x25a)]===_0x51e871;break;case _0x22b441(0x1f9):const _0x1204e0=_0x30d5ca['answer']===!![]||_0x30d5ca['answer']===_0x22b441(0x9a3);_0x4e4762=_0x1204e0===_0x27d698[_0x22b441(0x312)];break;case _0x22b441(0x801):_0x4e4762=_0x30d5ca[_0x22b441(0x5d5)]===_0x27d698['correctResponse'];break;default:_0x4e4762=_0x30d5ca[_0x22b441(0x8d1)];break;}const _0x2d21aa=_0x4e4762?_0x22b441(0x4e9):_0x22b441(0x225);_0x2b5e9c+=_0x22b441(0x385)+_0x2d21aa+'\x22>'+_0x1274c7(_0x27d698,_0x30d5ca)+'</td>';}else _0x2b5e9c+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x2b5e9c+=_0x231af3['map'](()=>_0x548114(0x402))[_0x548114(0x3a2)]('');_0x2b5e9c+=_0x548114(0x623);}),_0x2b5e9c+=_0x1dbc04(0x553),_0x78ccbb[_0x1dbc04(0x9a4)]=_0x2b5e9c;}function renderQuizResultsTable(_0x411bac,_0x4f4e38,_0x8c7e0d){const _0x4cf087=_0x2626e0,_0x419ae3=_0x4f4e38[_0x4cf087(0x815)]((_0x4d98ee,_0x3a0180)=>{return _0x4d98ee[_0x3a0180['studentName']]=_0x3a0180,_0x4d98ee;},{}),_0x11f986=document[_0x4cf087(0x33b)](_0x4cf087(0x344));_0x11f986&&!_0x11f986['innerHTML'][_0x4cf087(0x777)]('จัดการ')&&(_0x11f986[_0x4cf087(0x9a4)]+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x4a4153=document['getElementById'](_0x4cf087(0x465));if(!_0x411bac||_0x411bac['length']===0x0){_0x4a4153[_0x4cf087(0x9a4)]=_0x4cf087(0x740);return;}const _0x449ad9=_0x8c7e0d[_0x4cf087(0x7b2)]===!![],_0x5c0c7a=_0x8c7e0d[_0x4cf087(0x446)]?.[_0x4cf087(0x1bb)]??-0x1;let _0x2a4c09='';_0x411bac[_0x4cf087(0x2fb)](_0x1c59b2=>{const _0x137416=_0x4cf087,_0x1e4c8e=_0x419ae3[_0x1c59b2];let _0x42467d=_0x137416(0x301)+(_0x449ad9?_0x137416(0x574):_0x137416(0x826))+'\x22>'+(_0x449ad9?_0x137416(0x89d):'สอบปกติ')+_0x137416(0x1eb);if(_0x1e4c8e){if(_0x1e4c8e[_0x137416(0x1b3)]&&_0x1e4c8e[_0x137416(0x1b3)][_0x137416(0x97d)]>0x0){let _0x568644=_0x449ad9?_0x1e4c8e['bestScore']===_0x1e4c8e[_0x137416(0x7fc)]:_0x5c0c7a!==-0x1&&_0x1e4c8e['bestScore']>=_0x5c0c7a;const _0xecbf12=_0x568644?_0x137416(0x84d):'bg-red-100\x20text-red-800',_0x1d7691=_0x568644?_0x137416(0x631):'ไม่ผ่าน',_0x305826='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0xecbf12+'\x22>'+_0x1d7691+_0x137416(0x1eb),_0x538a20=_0x137416(0x32b)+(_0x1e4c8e[_0x137416(0x1b3)]?.[_0x137416(0x97d)]||0x1)+'\x20ครั้ง)</span></td>';_0x2a4c09+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x1c59b2+_0x137416(0x4bb)+_0x1e4c8e[_0x137416(0x273)]+_0x137416(0x576)+_0x1e4c8e[_0x137416(0x7fc)]+_0x137416(0x8f5)+_0x305826+_0x137416(0x895)+_0x42467d+_0x137416(0x689)+_0x1e4c8e[_0x137416(0x35b)]+_0x137416(0x576)+_0x1e4c8e[_0x137416(0x7fc)]+_0x137416(0x1ee)+_0x1e4c8e[_0x137416(0x23a)]+_0x137416(0x576)+_0x1e4c8e['totalQuestions']+_0x137416(0x8b7)+(_0x1e4c8e[_0x137416(0x259)]||0x0)+_0x137416(0x8f5)+_0x538a20+_0x137416(0x1f7)+new Date(_0x1e4c8e[_0x137416(0x77b)])['toLocaleString'](_0x137416(0x8cb))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x1c59b2+_0x137416(0x5ad);}else{const _0x36c6db='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x2a4c09+=_0x137416(0x2b5)+_0x1c59b2+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x42467d+_0x137416(0x747)+_0x36c6db+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x1e4c8e['startedAt'])[_0x137416(0x2c3)](_0x137416(0x8cb))+_0x137416(0x717)+_0x1c59b2+_0x137416(0x5ad);}}else{const _0x488f08=_0x137416(0x782);_0x2a4c09+=_0x137416(0x825)+_0x1c59b2+_0x137416(0x4ed)+_0x42467d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x488f08+_0x137416(0x65e);}}),_0x4a4153[_0x4cf087(0x9a4)]=_0x2a4c09;}async function confirmRenameQuiz(){const _0x165526=_0x2626e0,_0x23b055=document[_0x165526(0x87d)](_0x165526(0x5b5))['value'][_0x165526(0x4ca)]();if(!_0x23b055){showMessage(_0x165526(0x453));return;}if(!actionTargetId)return;const _0x441c9b=doc(db,'artifacts/'+appId+_0x165526(0x20c),actionTargetId);try{await updateDoc(_0x441c9b,{'topic':_0x23b055}),showMessage(_0x165526(0x5e4)),renameQuizModal[_0x165526(0x1a0)]['add'](_0x165526(0x250)),actionTargetId=null;}catch(_0x589903){console[_0x165526(0x670)](_0x165526(0x412),_0x589903),showMessage(_0x165526(0x901));}}async function handleMoveQuiz(_0x41257a){const _0xe1ef0d=_0x2626e0;actionTargetId=_0x41257a;const _0x2b6854=document[_0xe1ef0d(0x87d)](_0xe1ef0d(0x2ca));_0x2b6854['innerHTML']='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal['classList']['remove'](_0xe1ef0d(0x250));try{const _0x3d2e55=collection(db,_0xe1ef0d(0x495)+appId+_0xe1ef0d(0x774)),_0x19431c=await getDocs(_0x3d2e55),_0x279b43=_0x19431c[_0xe1ef0d(0x4f7)][_0xe1ef0d(0x1e7)](_0x20d414=>({'id':_0x20d414['id'],..._0x20d414[_0xe1ef0d(0x26b)]()})),_0x469e11=_0x279b43[_0xe1ef0d(0x6c1)](_0xf36271=>_0xf36271['id']!==currentProjectId);if(_0x469e11[_0xe1ef0d(0x97d)]===0x0){_0x2b6854[_0xe1ef0d(0x9a4)]=_0xe1ef0d(0x389),document[_0xe1ef0d(0x87d)]('confirm-move-quiz-btn')[_0xe1ef0d(0x500)]=!![];return;}_0x2b6854['innerHTML']=_0x469e11[_0xe1ef0d(0x1e7)](_0x2385fa=>'<option\x20value=\x22'+_0x2385fa['id']+'\x22>'+_0x2385fa[_0xe1ef0d(0x560)]+_0xe1ef0d(0x78e))['join'](''),document[_0xe1ef0d(0x87d)]('confirm-move-quiz-btn')[_0xe1ef0d(0x500)]=![];}catch(_0x1b2436){console[_0xe1ef0d(0x670)]('Error\x20fetching\x20projects\x20for\x20move:',_0x1b2436),showMessage(_0xe1ef0d(0x294)),moveQuizModal['classList']['add'](_0xe1ef0d(0x250));}}async function confirmMoveQuiz(){const _0x18ff47=_0x2626e0,_0x4775ee=document[_0x18ff47(0x87d)](_0x18ff47(0x2ca))[_0x18ff47(0x810)];if(!_0x4775ee){showMessage(_0x18ff47(0x5fa));return;}if(!actionTargetId)return;const _0x1e1659=doc(db,_0x18ff47(0x495)+appId+_0x18ff47(0x20c),actionTargetId);try{await updateDoc(_0x1e1659,{'projectId':_0x4775ee}),showMessage(_0x18ff47(0x733)),moveQuizModal['classList']['add']('hidden'),actionTargetId=null;}catch(_0x44ccf4){console[_0x18ff47(0x670)](_0x18ff47(0x8bd),_0x44ccf4),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x2d45f3){const _0x1c1c51=_0x2626e0;actionTargetId=_0x2d45f3;const _0x14fd6c=doc(db,'artifacts/'+appId+_0x1c1c51(0x20c),_0x2d45f3);try{const _0x4eaefb=await getDoc(_0x14fd6c);if(_0x4eaefb[_0x1c1c51(0x7c0)]()){const _0x1bb26a=_0x4eaefb['data'](),_0x3651f2=_0x1bb26a[_0x1c1c51(0x446)]||{},_0x5d4b61=_0x1bb26a['questions'][_0x1c1c51(0x97d)];document[_0x1c1c51(0x87d)]('modal-shuffle-select')[_0x1c1c51(0x810)]=_0x3651f2['shuffle']||_0x1c1c51(0x293),document['getElementById']('modal-results-display-select')[_0x1c1c51(0x810)]=_0x3651f2[_0x1c1c51(0x7b4)]||'show_results_and_answers',document[_0x1c1c51(0x87d)](_0x1c1c51(0x811))[_0x1c1c51(0x810)]=_0x3651f2[_0x1c1c51(0x667)]||'none',document[_0x1c1c51(0x87d)]('modal-timer-duration-input')[_0x1c1c51(0x810)]=_0x3651f2[_0x1c1c51(0x6fb)]||0xa,document['getElementById'](_0x1c1c51(0x475))['value']=_0x3651f2[_0x1c1c51(0x1bb)]||Math['floor'](_0x5d4b61/0x2),document[_0x1c1c51(0x87d)](_0x1c1c51(0x475))['max']=_0x5d4b61,document[_0x1c1c51(0x87d)](_0x1c1c51(0x81c))[_0x1c1c51(0x1e0)]=_0x3651f2[_0x1c1c51(0x79e)]||![],document[_0x1c1c51(0x87d)](_0x1c1c51(0x7d0))[_0x1c1c51(0x1e0)]=_0x3651f2[_0x1c1c51(0x5f6)]||![],document[_0x1c1c51(0x87d)](_0x1c1c51(0x811))[_0x1c1c51(0x8be)](new Event('change')),quizSettingsModal['classList']['remove'](_0x1c1c51(0x250));}else showMessage(_0x1c1c51(0x42a));}catch(_0x50e074){console['error']('Error\x20fetching\x20quiz\x20settings:',_0x50e074),showMessage(_0x1c1c51(0x38c));}}async function confirmQuizSettings(){const _0x1a3395=_0x2626e0;if(!actionTargetId)return;const _0x339b10=doc(db,_0x1a3395(0x495)+appId+_0x1a3395(0x20c),actionTargetId),_0xf61908={'shuffle':document[_0x1a3395(0x87d)]('modal-shuffle-select')[_0x1a3395(0x810)],'resultsDisplay':document['getElementById']('modal-results-display-select')['value'],'timerMode':document[_0x1a3395(0x87d)](_0x1a3395(0x811))['value'],'timerDuration':parseInt(document[_0x1a3395(0x87d)](_0x1a3395(0x45b))[_0x1a3395(0x810)])||0xa,'passingScore':parseInt(document[_0x1a3395(0x87d)](_0x1a3395(0x475))['value'])||0x0,'passingScore':parseInt(document[_0x1a3395(0x87d)]('modal-passing-score-input')[_0x1a3395(0x810)])||0x0,'isAdaptive':document[_0x1a3395(0x87d)](_0x1a3395(0x81c))[_0x1a3395(0x1e0)],'loopUntilPass':document[_0x1a3395(0x87d)](_0x1a3395(0x7d0))[_0x1a3395(0x1e0)]};try{await updateDoc(_0x339b10,{'settings':_0xf61908}),showMessage(_0x1a3395(0x2a4)),quizSettingsModal['classList']['add'](_0x1a3395(0x250)),actionTargetId=null;}catch(_0x34348e){console[_0x1a3395(0x670)](_0x1a3395(0x698),_0x34348e),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleQuizStatus(_0x4c9763){const _0x282c77=_0x2626e0;actionTargetId=_0x4c9763;const _0x1db90d=doc(db,_0x282c77(0x495)+appId+_0x282c77(0x20c),_0x4c9763);try{const _0x4ba820=await getDoc(_0x1db90d);if(_0x4ba820[_0x282c77(0x7c0)]()){const _0x3630fb=_0x4ba820[_0x282c77(0x26b)](),_0x39ff4b=_0x3630fb[_0x282c77(0x2fc)]||_0x282c77(0x97f),_0x759299=document[_0x282c77(0x87d)](_0x282c77(0x3bc)),_0x1e1552=document[_0x282c77(0x87d)](_0x282c77(0x92b)),_0xf8310b=document[_0x282c77(0x87d)]('quiz-schedule-end-container');let _0x352de6=_0x282c77(0x33a)+(_0x39ff4b===_0x282c77(0x97f)?_0x282c77(0x1e0):'')+_0x282c77(0x63d)+(_0x39ff4b===_0x282c77(0x290)?_0x282c77(0x1e0):'')+_0x282c77(0x8d5)+(_0x39ff4b===_0x282c77(0x487)?_0x282c77(0x1e0):'')+_0x282c77(0x1be);_0x759299[_0x282c77(0x9a4)]=_0x352de6;const _0x4f9689=_0x39ff4b===_0x282c77(0x487);_0x1e1552[_0x282c77(0x1a0)][_0x282c77(0x788)](_0x282c77(0x250),!_0x4f9689),_0xf8310b[_0x282c77(0x1a0)][_0x282c77(0x788)](_0x282c77(0x250),!_0x4f9689),document[_0x282c77(0x87d)](_0x282c77(0x313))['value']=_0x3630fb[_0x282c77(0x423)]?_0x3630fb[_0x282c77(0x423)][_0x282c77(0x79a)](0x0,0x10):'',document[_0x282c77(0x87d)]('quiz-end-time')[_0x282c77(0x810)]=_0x3630fb[_0x282c77(0x221)]?_0x3630fb['endTime'][_0x282c77(0x79a)](0x0,0x10):'',_0x759299[_0x282c77(0x4fa)](_0x282c77(0x3e7))['forEach'](_0x117b37=>{const _0x583256=_0x282c77;_0x117b37[_0x583256(0x214)]('change',_0x5f0fc9=>{const _0x42ba4d=_0x583256,_0x53e7f8=_0x5f0fc9[_0x42ba4d(0x9cf)][_0x42ba4d(0x810)]===_0x42ba4d(0x3b5);_0x1e1552['classList'][_0x42ba4d(0x788)]('hidden',!_0x53e7f8),_0xf8310b[_0x42ba4d(0x1a0)][_0x42ba4d(0x788)]('hidden',!_0x53e7f8);});}),quizStatusModal['classList']['remove'](_0x282c77(0x250));}}catch(_0x50b3c7){console[_0x282c77(0x670)]('Error\x20fetching\x20quiz\x20status:',_0x50b3c7),showMessage(_0x282c77(0x3f8));}}async function confirmQuizStatus(){const _0x418c69=_0x2626e0;if(!actionTargetId)return;const _0x1f7522=doc(db,'artifacts/'+appId+_0x418c69(0x20c),actionTargetId),_0x396b0b=document[_0x418c69(0x33b)](_0x418c69(0x31a));if(!_0x396b0b){showMessage('กรุณาเลือกสถานะ');return;}const _0x1d3535=_0x396b0b[_0x418c69(0x810)];let _0x574d97={};if(_0x1d3535===_0x418c69(0x97f)||_0x1d3535===_0x418c69(0x290))_0x574d97={'status':_0x1d3535,'startTime':null,'endTime':null};else{if(_0x1d3535===_0x418c69(0x3b5)){const _0x4428a2=document[_0x418c69(0x87d)](_0x418c69(0x313))[_0x418c69(0x810)],_0x3659e6=document[_0x418c69(0x87d)](_0x418c69(0x7c9))[_0x418c69(0x810)];if(!_0x4428a2&&!_0x3659e6){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x574d97={'status':_0x418c69(0x487),'startTime':_0x4428a2?new Date(_0x4428a2)[_0x418c69(0x630)]():null,'endTime':_0x3659e6?new Date(_0x3659e6)[_0x418c69(0x630)]():null};}}try{await updateDoc(_0x1f7522,_0x574d97),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal['classList']['add'](_0x418c69(0x250)),actionTargetId=null;}catch(_0x474267){console[_0x418c69(0x670)]('Error\x20updating\x20quiz\x20status:',_0x474267),showMessage(_0x418c69(0x5e6));}}function listenForStudentProfiles(_0x202c86){const _0x437325=_0x2626e0,_0x34c4aa=collection(db,_0x437325(0x495)+appId+_0x437325(0x1b7)+_0x202c86+_0x437325(0x9cd));unsubscribeStudentProfilesListener=onSnapshot(_0x34c4aa,_0x211e2c=>{const _0x2aa951=_0x437325,_0x46b4c3=_0x211e2c['docs']['map'](_0x50a8cd=>_0x50a8cd[_0x2aa951(0x26b)]());renderLeaderboard(_0x46b4c3,'leaderboard-table-body');},_0x17b78b=>{const _0x1a054a=_0x437325;console[_0x1a054a(0x670)]('Error\x20listening\x20for\x20student\x20profiles:',_0x17b78b),document['getElementById'](_0x1a054a(0x25d))[_0x1a054a(0x9a4)]=_0x1a054a(0x51b);});}function renderLeaderboard(_0x1768a7,_0x1531d6){const _0x44c29b=_0x2626e0,_0x12ae3f=document[_0x44c29b(0x87d)](_0x1531d6);if(!_0x1768a7||_0x1768a7[_0x44c29b(0x97d)]===0x0){_0x12ae3f[_0x44c29b(0x9a4)]=_0x44c29b(0x9c7);return;}_0x1768a7[_0x44c29b(0x2f3)]((_0x2f4e67,_0x52c770)=>{const _0x3ed7b0=_0x44c29b,_0x144c4d=(_0x52c770[_0x3ed7b0(0x9b9)]||0x0)-(_0x2f4e67[_0x3ed7b0(0x9b9)]||0x0);if(_0x144c4d!==0x0)return _0x144c4d;const _0x1e2dc3=(_0x52c770[_0x3ed7b0(0x7a1)]?.['specialist']||0x0)-(_0x2f4e67[_0x3ed7b0(0x7a1)]?.[_0x3ed7b0(0x326)]||0x0);if(_0x1e2dc3!==0x0)return _0x1e2dc3;const _0x13ccf6=(_0x52c770[_0x3ed7b0(0x7a1)]?.[_0x3ed7b0(0x422)]||0x0)-(_0x2f4e67['badgesCount']?.[_0x3ed7b0(0x422)]||0x0);if(_0x13ccf6!==0x0)return _0x13ccf6;const _0x3674e8=(_0x52c770['badgesCount']?.[_0x3ed7b0(0x534)]||0x0)-(_0x2f4e67['badgesCount']?.['perfect_score']||0x0);if(_0x3674e8!==0x0)return _0x3674e8;const _0x7ca6a7=(_0x52c770[_0x3ed7b0(0x7a1)]?.[_0x3ed7b0(0x51c)]||0x0)-(_0x2f4e67[_0x3ed7b0(0x7a1)]?.[_0x3ed7b0(0x51c)]||0x0);if(_0x7ca6a7!==0x0)return _0x7ca6a7;return _0x2f4e67[_0x3ed7b0(0x49f)][_0x3ed7b0(0x483)](_0x52c770[_0x3ed7b0(0x49f)],'th');});let _0x1900b0='';_0x1768a7['forEach']((_0x50cd6c,_0x12fa2a)=>{const _0x294cd7=_0x44c29b,_0x5d4400=_0x12fa2a+0x1,_0x49d725=_0x50cd6c[_0x294cd7(0x7a1)]||{};let _0x2509b7='';const _0x52c361=[_0x294cd7(0x326),'perfect_score',_0x294cd7(0x422),_0x294cd7(0x51c)];_0x52c361[_0x294cd7(0x2fb)](_0x645929=>{const _0x48d8fd=_0x294cd7;if(_0x49d725[_0x645929]>0x0){const _0x25fcf5=Object[_0x48d8fd(0x329)](BADGES)[_0x48d8fd(0x645)](_0x2e4331=>_0x2e4331['id']===_0x645929);_0x25fcf5&&(_0x645929===_0x48d8fd(0x326)?_0x2509b7+=_0x48d8fd(0x1b4)+_0x25fcf5['name']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x25fcf5[_0x48d8fd(0x502)]+_0x48d8fd(0x22f):_0x2509b7+=_0x48d8fd(0x1b4)+_0x25fcf5['name']+'\x20('+_0x49d725[_0x645929]+_0x48d8fd(0x393)+_0x25fcf5[_0x48d8fd(0x502)]+_0x48d8fd(0x3b8)+_0x49d725[_0x645929]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x1900b0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x5d4400+_0x294cd7(0x56e)+_0x50cd6c['studentName']+_0x294cd7(0x4a3)+(_0x50cd6c[_0x294cd7(0x9b9)]||0x0)+_0x294cd7(0x56e)+(_0x2509b7||'-')+_0x294cd7(0x49d);}),_0x12ae3f[_0x44c29b(0x9a4)]=_0x1900b0;}function displayLoopScreen(_0xa6b4c6,_0x472bf2,_0x4d06dd){const _0x162c7b=_0x2626e0;let _0x95772d='';_0x4d06dd!==_0x162c7b(0x472)&&(_0x95772d='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0xa6b4c6+_0x162c7b(0x576)+_0x472bf2+_0x162c7b(0x707));const _0xcb345='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x95772d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0xcb345,studentResultArea[_0x162c7b(0x1a0)]['remove']('hidden'),studentQuizArea[_0x162c7b(0x1a0)][_0x162c7b(0x368)](_0x162c7b(0x250)),document[_0x162c7b(0x87d)](_0x162c7b(0x564))['addEventListener']('click',()=>{const _0x536211=_0x162c7b;studentResultArea['classList'][_0x536211(0x368)](_0x536211(0x250)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x54a808,_0x2b7f7b,_0xcfce25){const _0x10b3a2=_0x2626e0,_0x390d97=document[_0x10b3a2(0x87d)](_0xcfce25),_0x38f304=_0xcfce25===_0x10b3a2(0x967),_0x3c0e70=_0x2b7f7b[_0x10b3a2(0x9a5)][_0x10b3a2(0x97d)],_0x31b384=document[_0x10b3a2(0x87d)](_0xcfce25)['closest']('table');if(_0x31b384&&!_0x38f304){const _0x3c818c=_0x31b384[_0x10b3a2(0x33b)](_0x10b3a2(0x2e3));_0x3c818c[_0x10b3a2(0x9a4)]=_0x10b3a2(0x5a8);}if(!_0x54a808||_0x54a808[_0x10b3a2(0x97d)]===0x0){_0x390d97['innerHTML']=_0x10b3a2(0x5ec)+(_0x38f304?0x6:0x8)+_0x10b3a2(0x8c4);return;}const _0x498902=[..._0x54a808];_0x498902[_0x10b3a2(0x2f3)]((_0x3ae65d,_0x5d5bf3)=>{const _0x5235f3=_0x10b3a2;let _0x40ab24,_0x1ccf41;switch(quizLeaderboardSortBy){case'studentName':_0x40ab24=_0x3ae65d[_0x5235f3(0x49f)]||'',_0x1ccf41=_0x5d5bf3[_0x5235f3(0x49f)]||'';return quizLeaderboardSortOrder==='asc'?_0x40ab24['localeCompare'](_0x1ccf41,'th'):_0x1ccf41['localeCompare'](_0x40ab24,'th');case _0x5235f3(0x259):_0x40ab24=_0x3ae65d[_0x5235f3(0x259)]||0x0,_0x1ccf41=_0x5d5bf3['points']||0x0;break;case'attempts':_0x40ab24=_0x3ae65d[_0x5235f3(0x1b3)]?.[_0x5235f3(0x97d)]||0x1,_0x1ccf41=_0x5d5bf3[_0x5235f3(0x1b3)]?.[_0x5235f3(0x97d)]||0x1;break;case _0x5235f3(0x77b):_0x40ab24=new Date(_0x3ae65d[_0x5235f3(0x77b)]),_0x1ccf41=new Date(_0x5d5bf3[_0x5235f3(0x77b)]);break;case _0x5235f3(0x273):default:_0x40ab24=_0x3ae65d[_0x5235f3(0x273)],_0x1ccf41=_0x5d5bf3['bestScore'];break;}if(_0x40ab24<_0x1ccf41)return quizLeaderboardSortOrder===_0x5235f3(0x706)?-0x1:0x1;if(_0x40ab24>_0x1ccf41)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x79cb5c=_0x2b7f7b[_0x10b3a2(0x7b2)]===!![],_0x44d17e=_0x2b7f7b[_0x10b3a2(0x446)]?.[_0x10b3a2(0x1bb)]??-0x1;let _0x531734='';_0x498902[_0x10b3a2(0x2fb)]((_0x511290,_0x220ce1)=>{const _0x57da4a=_0x10b3a2,_0x18b330=_0x220ce1+0x1;let _0x29beba=_0x57da4a(0x91b);if(_0x79cb5c||_0x44d17e!==-0x1){let _0xcd6320=_0x79cb5c?_0x511290[_0x57da4a(0x273)]===_0x3c0e70:_0x511290[_0x57da4a(0x273)]>=_0x44d17e;const _0x18897c=_0xcd6320?_0x57da4a(0x84d):_0x57da4a(0x8f2),_0xcc202e=_0xcd6320?_0x57da4a(0x631):_0x57da4a(0x679);_0x29beba=_0x57da4a(0x332)+_0x18897c+'\x22>'+_0xcc202e+_0x57da4a(0x1eb);}const _0x3e2943=_0x511290[_0x57da4a(0x1b3)][_0x511290[_0x57da4a(0x1b3)][_0x57da4a(0x97d)]-0x1],_0x50556a=(_0x3e2943['badges']||[])[_0x57da4a(0x1e7)](_0x1a8b34=>{const _0x46ca1d=_0x57da4a,_0x1a12a4=Object['values'](BADGES)[_0x46ca1d(0x645)](_0xe738ca=>_0xe738ca['id']===_0x1a8b34);return _0x1a12a4?_0x46ca1d(0x754)+_0x1a12a4[_0x46ca1d(0x5a3)]+_0x46ca1d(0x2a6)+_0x1a12a4[_0x46ca1d(0x502)]+_0x46ca1d(0x637):'';})[_0x57da4a(0x3a2)]('');_0x531734+=_0x57da4a(0x50f)+_0x18b330+_0x57da4a(0x4ce)+_0x511290['studentName']+_0x57da4a(0x65f)+_0x511290[_0x57da4a(0x273)]+_0x57da4a(0x576)+_0x3c0e70+_0x57da4a(0x75e)+_0x29beba+_0x57da4a(0x391)+(_0x511290[_0x57da4a(0x259)]||0x0)+_0x57da4a(0x75e)+(_0x38f304?'':_0x57da4a(0x7ee)+(_0x511290[_0x57da4a(0x1b3)]?.[_0x57da4a(0x97d)]||0x1)+_0x57da4a(0x836))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x38f304?'':_0x57da4a(0x990)+new Date(_0x511290[_0x57da4a(0x77b)])[_0x57da4a(0x2c3)]('th-TH')+'</td>')+_0x57da4a(0x22c)+(_0x50556a||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x390d97[_0x10b3a2(0x9a4)]=_0x531734,_0x31b384&&!_0x38f304&&_0x31b384[_0x10b3a2(0x4fa)]('thead\x20.sortable-header')['forEach'](_0x38d4b4=>{const _0x2e8d84=_0x10b3a2,_0x7a07fa=_0x38d4b4[_0x2e8d84(0x33b)]('.sort-indicator');if(_0x7a07fa)_0x7a07fa[_0x2e8d84(0x594)]();_0x38d4b4['dataset'][_0x2e8d84(0x2f3)]===quizLeaderboardSortBy&&(_0x38d4b4[_0x2e8d84(0x9a4)]+=_0x2e8d84(0x8f1)+(quizLeaderboardSortOrder===_0x2e8d84(0x706)?'▲':'▼')+_0x2e8d84(0x3be));});}async function handleDeleteSubmission(_0x31babe){const _0x19f6e2=_0x2626e0;if(!currentQuizData||!currentQuizData['id']||!_0x31babe){showMessage(_0x19f6e2(0x70a));return;}showConfirmation(_0x19f6e2(0x463)+_0x31babe+_0x19f6e2(0x370),async()=>{const _0x3522e6=_0x19f6e2,_0x296dca=currentQuizData['id'],_0x21569e=doc(db,_0x3522e6(0x495)+appId+_0x3522e6(0x72e)+_0x296dca+_0x3522e6(0x386),_0x31babe);try{await deleteDoc(_0x21569e),showMessage('ลบผลสอบของ\x20'+_0x31babe+_0x3522e6(0x92e));}catch(_0x5e8d63){console[_0x3522e6(0x670)](_0x3522e6(0x822),_0x5e8d63),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x1174c1=_0x2626e0,_0xd62b5a=document[_0x1174c1(0x87d)]('quiz-id-input'),_0x2217d6=_0xd62b5a['value'][_0x1174c1(0x4ca)]();if(!_0x2217d6){showMessage(_0x1174c1(0x27d));return;}loadQuizBtn[_0x1174c1(0x500)]=!![],loadQuizBtn[_0x1174c1(0x9a4)]=_0x1174c1(0x238);try{const _0x5531a9=doc(db,_0x1174c1(0x495)+appId+_0x1174c1(0x20c),_0x2217d6),_0x569870=await getDoc(_0x5531a9);if(!_0x569870[_0x1174c1(0x7c0)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x569870['id'],..._0x569870[_0x1174c1(0x26b)]()};const _0x225467=currentQuizData['status']||'active',_0x2c4362=new Date();if(_0x225467===_0x1174c1(0x290)){showMessage(_0x1174c1(0x91d));return;}if(_0x225467===_0x1174c1(0x487)){const _0x20e954=currentQuizData[_0x1174c1(0x423)]?new Date(currentQuizData[_0x1174c1(0x423)]):null,_0x6752b6=currentQuizData[_0x1174c1(0x221)]?new Date(currentQuizData[_0x1174c1(0x221)]):null;if(_0x20e954&&_0x2c4362<_0x20e954){showMessage(_0x1174c1(0x5de)+_0x20e954['toLocaleString'](_0x1174c1(0x8cb),{'hour12':![]}));return;}if(_0x6752b6&&_0x2c4362>_0x6752b6){showMessage(_0x1174c1(0x1c5));return;}}const _0x87ae37=currentQuizData[_0x1174c1(0x346)];currentProjectId=_0x87ae37;const _0x428c2a=doc(db,_0x1174c1(0x495)+appId+_0x1174c1(0x774),_0x87ae37),_0x33bbbd=await getDoc(_0x428c2a);if(!_0x33bbbd[_0x1174c1(0x7c0)]()){showMessage(_0x1174c1(0x7fe));return;}const _0x5bc593=_0x33bbbd[_0x1174c1(0x26b)]();currentStudentProjectData=_0x5bc593,displayStudentNameSelector(_0x5bc593[_0x1174c1(0x7ca)],currentQuizData[_0x1174c1(0x6b9)]);}catch(_0x2562f2){console['error'](_0x1174c1(0x1f8),_0x2562f2),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn[_0x1174c1(0x500)]=![],loadQuizBtn[_0x1174c1(0x9a4)]=_0x1174c1(0x541);}}async function handleJoinLiveGame(){const _0x34e2d9=_0x2626e0,_0x379d08=document['getElementById'](_0x34e2d9(0x4dd)),_0x28a1c3=document['getElementById'](_0x34e2d9(0x1ba)),_0xb7d9fe=document[_0x34e2d9(0x87d)](_0x34e2d9(0x7f2)),_0xe734dd=_0x379d08[_0x34e2d9(0x810)][_0x34e2d9(0x4ca)](),_0x58e11c=_0x28a1c3[_0x34e2d9(0x810)][_0x34e2d9(0x4ca)]();if(!_0xe734dd||!_0x58e11c){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0xb7d9fe['disabled']=!![],_0xb7d9fe[_0x34e2d9(0x9a4)]=_0x34e2d9(0x918);try{const _0x3db538=collection(db,_0x34e2d9(0x495)+appId+_0x34e2d9(0x79d)),_0xd19875=query(_0x3db538,where(_0x34e2d9(0x288),'==',_0xe734dd),where(_0x34e2d9(0x2fc),'in',['lobby','question'])),_0x21b221=await getDocs(_0xd19875);if(_0x21b221[_0x34e2d9(0x77c)]){showMessage(_0x34e2d9(0x898));return;}const _0x2fa7af=_0x21b221[_0x34e2d9(0x4f7)][0x0],_0x570601=_0x2fa7af['data']();currentLiveGameId=_0x2fa7af['id'];const _0x32e8fb=_0x570601[_0x34e2d9(0x20f)],_0x11fecb=doc(db,_0x34e2d9(0x495)+appId+_0x34e2d9(0x20c),_0x32e8fb),_0x290a4d=await getDoc(_0x11fecb);if(!_0x290a4d['exists']()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x290a4d['id'],..._0x290a4d[_0x34e2d9(0x26b)]()};if(_0x570601['players']&&_0x570601['players'][_0x58e11c]){const _0x2adaeb=_0x570601[_0x34e2d9(0x476)][_0x58e11c];if(_0x2adaeb[_0x34e2d9(0x2fc)]===_0x34e2d9(0x290)){_0xb7d9fe[_0x34e2d9(0x9a4)]=_0x34e2d9(0x95d);const _0x4f4d92={};_0x4f4d92[_0x34e2d9(0x902)+_0x58e11c+'.status']=_0x34e2d9(0x97f),await updateDoc(doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x4f4d92),showView(_0x34e2d9(0x944)),currentStudentName=_0x58e11c,listenForLiveGameUpdates();return;}else{showMessage(_0x34e2d9(0x909));return;}}if(_0x570601[_0x34e2d9(0x2fc)]!==_0x34e2d9(0x93c)){showMessage(_0x34e2d9(0x382));return;}_0xb7d9fe[_0x34e2d9(0x9a4)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0x221f35={};_0x221f35[_0x34e2d9(0x902)+_0x58e11c]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x34e2d9(0x97f)},await updateDoc(doc(db,_0x34e2d9(0x495)+appId+_0x34e2d9(0x79d),currentLiveGameId),_0x221f35),currentStudentName=_0x58e11c,listenForLiveGameUpdates();}catch(_0x13f967){console[_0x34e2d9(0x670)](_0x34e2d9(0x2a5),_0x13f967),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0xb7d9fe[_0x34e2d9(0x500)]=![],_0xb7d9fe['innerHTML']=_0x34e2d9(0x819);}}function displayStudentNameSelector(_0x15d446,_0x2d0a3e){const _0x2dbb2d=_0x2626e0,_0x4a2dee=document['getElementById'](_0x2dbb2d(0x973));document['getElementById']('student-quiz-topic')[_0x2dbb2d(0x573)]=_0x2dbb2d(0x7e0)+_0x2d0a3e,!_0x15d446||_0x15d446[_0x2dbb2d(0x97d)]===0x0?(_0x4a2dee[_0x2dbb2d(0x9a4)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x2dbb2d(0x500)]=!![]):(_0x4a2dee[_0x2dbb2d(0x9a4)]=_0x2dbb2d(0x880),_0x15d446[_0x2dbb2d(0x2fb)](_0x89954f=>{const _0x3e6bcd=_0x2dbb2d,_0x2e83b9=document[_0x3e6bcd(0x39d)](_0x3e6bcd(0x76d));_0x2e83b9[_0x3e6bcd(0x810)]=_0x89954f,_0x2e83b9[_0x3e6bcd(0x573)]=_0x89954f,_0x4a2dee[_0x3e6bcd(0x701)](_0x2e83b9);}),startQuizBtn[_0x2dbb2d(0x500)]=![]),studentInitialView['classList'][_0x2dbb2d(0x368)]('hidden'),studentNameSelectionView['classList'][_0x2dbb2d(0x594)](_0x2dbb2d(0x250));}function shuffleArray(_0x411d5f){const _0x20d0e5=_0x2626e0;for(let _0x1d9e25=_0x411d5f[_0x20d0e5(0x97d)]-0x1;_0x1d9e25>0x0;_0x1d9e25--){const _0x5e62c5=Math['floor'](Math['random']()*(_0x1d9e25+0x1));[_0x411d5f[_0x1d9e25],_0x411d5f[_0x5e62c5]]=[_0x411d5f[_0x5e62c5],_0x411d5f[_0x1d9e25]];}}function getShuffledQuiz(_0x48f8f6){const _0x4691d6=_0x2626e0;let _0x3e8239=JSON[_0x4691d6(0x418)](JSON[_0x4691d6(0x6d8)](_0x48f8f6));const _0x5eed4f=_0x3e8239[_0x4691d6(0x446)]?.[_0x4691d6(0x671)]||_0x4691d6(0x293);if(_0x5eed4f==='none')return _0x3e8239;return(_0x5eed4f===_0x4691d6(0x53e)||_0x5eed4f===_0x4691d6(0x345))&&shuffleArray(_0x3e8239[_0x4691d6(0x9a5)]),(_0x5eed4f===_0x4691d6(0x1a4)||_0x5eed4f==='both')&&_0x3e8239['questions'][_0x4691d6(0x2fb)](_0x5dfde4=>{const _0x3b0e5e=_0x4691d6,_0x2ea887=_0x5dfde4[_0x3b0e5e(0x19e)]||_0x3e8239[_0x3b0e5e(0x79c)];if(_0x5dfde4['options']){let _0x166561=_0x5dfde4['options'][_0x3b0e5e(0x1e7)]((_0x359dcc,_0x4252da)=>({'text':_0x359dcc,'isCorrect':_0x4252da===_0x5dfde4[_0x3b0e5e(0x550)]}));shuffleArray(_0x166561),_0x5dfde4['options']=_0x166561[_0x3b0e5e(0x1e7)](_0x48ef43=>_0x48ef43[_0x3b0e5e(0x228)]),_0x5dfde4[_0x3b0e5e(0x550)]=_0x166561['findIndex'](_0x26e9fb=>_0x26e9fb[_0x3b0e5e(0x8d1)]);}_0x2ea887===_0x3b0e5e(0x801)&&_0x5dfde4[_0x3b0e5e(0x8c6)]&&shuffleArray(_0x5dfde4[_0x3b0e5e(0x8c6)]);}),_0x3e8239;}function displayQuizForStudent(_0x4e7256){const _0x4d8084=_0x2626e0;studentQuizArea[_0x4d8084(0x1a0)]['remove']('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x4e7256);currentMode!==_0x4d8084(0x657)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x4d8084(0x214)](_0x4d8084(0x5d4),handleFullscreenChange),document[_0x4d8084(0x214)](_0x4d8084(0x6bb),handleVisibilityChange),enterFullscreen(),window[_0x4d8084(0x214)]('mousemove',resetDimTimer),window[_0x4d8084(0x214)](_0x4d8084(0x467),resetDimTimer),window[_0x4d8084(0x214)]('touchstart',resetDimTimer),window[_0x4d8084(0x214)]('keydown',resetDimTimer),resetDimTimer());const _0x8a8fce=currentDisplayedQuiz['settings']?.[_0x4d8084(0x667)]||_0x4d8084(0x293);if(_0x8a8fce===_0x4d8084(0x204))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings'][_0x4d8084(0x6fb)]);else _0x8a8fce===_0x4d8084(0x96f)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x446cfe=_0x2626e0;let _0x12267d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x446cfe(0x6b9)]+_0x446cfe(0x566)+(currentMode===_0x446cfe(0x657)?_0x446cfe(0x984):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';currentDisplayedQuiz[_0x446cfe(0x9a5)][_0x446cfe(0x2fb)]((_0x4af05b,_0x3e5a88)=>{const _0xaca8d0=_0x446cfe,_0x2fda1f=_0x4af05b[_0xaca8d0(0x19e)]||currentDisplayedQuiz[_0xaca8d0(0x79c)];_0x12267d+=_0xaca8d0(0x98b);_0x2fda1f===_0xaca8d0(0x801)?_0x12267d+=_0xaca8d0(0x22d)+(_0x3e5a88+0x1)+'.\x20'+_0x4af05b[_0xaca8d0(0x883)]+_0xaca8d0(0x64f)+_0x3e5a88+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4af05b['allResponses']['map'](_0x232397=>'<option\x20value=\x22'+_0x232397+'\x22>'+_0x232397+_0xaca8d0(0x78e))[_0xaca8d0(0x3a2)]('')+_0xaca8d0(0x82e):(_0x12267d+=_0xaca8d0(0x254)+(_0x3e5a88+0x1)+'.\x20'+(_0x4af05b[_0xaca8d0(0x1cb)]||_0x4af05b[_0xaca8d0(0x846)])+'</p>',_0x4af05b[_0xaca8d0(0x3d2)]&&(_0x12267d+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4af05b[_0xaca8d0(0x3d2)]+'</div>'));_0x12267d+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x2fda1f){case _0xaca8d0(0x3fb):_0x12267d+=_0xaca8d0(0x7e5)+_0x3e5a88+_0xaca8d0(0x893);break;case _0xaca8d0(0x1f9):_0x12267d+=_0xaca8d0(0x258)+_0x3e5a88+_0xaca8d0(0x373)+_0x3e5a88+_0xaca8d0(0x676)+_0x3e5a88+_0xaca8d0(0x403),_0x12267d+=_0xaca8d0(0x258)+_0x3e5a88+_0xaca8d0(0x858)+_0x3e5a88+_0xaca8d0(0x7df)+_0x3e5a88+'_opt1\x22>ไม่ใช่</label></div>';break;case _0xaca8d0(0x801):break;case _0xaca8d0(0x8ed):case _0xaca8d0(0x280):default:_0x12267d+=_0x4af05b[_0xaca8d0(0x95b)][_0xaca8d0(0x1e7)]((_0x50510e,_0x153fb2)=>'\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x3e5a88+_0xaca8d0(0x3cf)+_0x153fb2+_0xaca8d0(0x37d)+_0x3e5a88+_0xaca8d0(0x9cb)+_0x153fb2+_0xaca8d0(0x477)+_0x3e5a88+_0xaca8d0(0x3cf)+_0x153fb2+'\x22>'+_0x50510e+'</label>\x0a\x20\x20\x20\x20</div>\x0a')['join']('');break;}_0x12267d+=_0xaca8d0(0x376);}),_0x12267d+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x12267d+=_0x446cfe(0x948),studentQuizArea[_0x446cfe(0x9a4)]=_0x12267d;if(currentMode===_0x446cfe(0x657)){const _0x6119fa=document['getElementById'](_0x446cfe(0x600));if(_0x6119fa)_0x6119fa['addEventListener']('click',cancelAdminTest);}document[_0x446cfe(0x87d)](_0x446cfe(0x32e))[_0x446cfe(0x214)](_0x446cfe(0x77d),handleSubmitQuiz);if(window['MathJax'])window[_0x446cfe(0x9c4)][_0x446cfe(0x4af)]([studentQuizArea]);}async function handleSubmitQuiz(_0x260589){const _0x44ce5f=_0x2626e0;if(_0x260589)_0x260589[_0x44ce5f(0x3dd)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x490eca=document['getElementById'](_0x44ce5f(0x32e));if(!_0x490eca)return;const _0x493ba9=_0x490eca[_0x44ce5f(0x33b)](_0x44ce5f(0x67e)),_0x5c58b3=currentDisplayedQuiz[_0x44ce5f(0x9a5)][_0x44ce5f(0x2dd)](_0x67ef82=>_0x67ef82[_0x44ce5f(0x19e)]===_0x44ce5f(0x3fb));_0x493ba9&&(_0x493ba9[_0x44ce5f(0x500)]=!![],_0x5c58b3?_0x493ba9[_0x44ce5f(0x9a4)]=_0x44ce5f(0x2db):_0x493ba9[_0x44ce5f(0x9a4)]=_0x44ce5f(0x8dd));const _0x4b3d26=new FormData(_0x490eca),_0x38d15e=currentDisplayedQuiz[_0x44ce5f(0x9a5)]['map']((_0xc1bf2e,_0x4c8167)=>{const _0x1c67da=_0x44ce5f,_0x254516=_0xc1bf2e[_0x1c67da(0x19e)]||currentDisplayedQuiz[_0x1c67da(0x79c)],_0x5ab823=_0x4b3d26[_0x1c67da(0x912)](_0x1c67da(0x67d)+_0x4c8167);if(_0x5ab823!==null&&_0x5ab823!==undefined){if(_0x254516===_0x1c67da(0x280)||_0x254516==='fill_in_the_blank')return parseInt(_0x5ab823);return _0x5ab823;}return null;}),_0x133426=currentQuizData['id'],_0x396527=doc(db,_0x44ce5f(0x495)+appId+_0x44ce5f(0x72e)+_0x133426+_0x44ce5f(0x386),currentStudentName),_0x3358bf=await getDoc(_0x396527),_0x4cdfa9=_0x3358bf[_0x44ce5f(0x7c0)]()?_0x3358bf[_0x44ce5f(0x26b)]():{},_0x40e21b=_0x4cdfa9[_0x44ce5f(0x1b3)]||[];await processAndSubmitAnswers(_0x38d15e,_0x40e21b);}async function gradeShortAnswerWithAI(_0x34e57f,_0x93b9c8){const _0x58148e=_0x2626e0;if(!_0x34e57f||!_0x93b9c8)return![];try{const _0x1ef4ec=_0x58148e(0x447)+_0x34e57f+_0x58148e(0x2c5)+_0x93b9c8+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x5f4b9b={'contents':[{'role':_0x58148e(0x34b),'parts':[{'text':_0x1ef4ec}]}]},_0x1ec4bd='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x2714c4=_0x58148e(0x2ad)+_0x1ec4bd,_0x113262=await fetch(_0x2714c4,{'method':_0x58148e(0x481),'headers':{'Content-Type':'application/json'},'body':JSON[_0x58148e(0x6d8)](_0x5f4b9b)});if(!_0x113262['ok'])throw new Error(_0x58148e(0x36b));const _0x3526e8=await _0x113262[_0x58148e(0x6aa)](),_0x18417f=_0x3526e8['candidates'][0x0]['content'][_0x58148e(0x1fa)][0x0][_0x58148e(0x228)][_0x58148e(0x4ca)]()[_0x58148e(0x85a)]();return _0x18417f==='true';}catch(_0x2e1a66){return console[_0x58148e(0x670)](_0x58148e(0x6d2),_0x2e1a66),![];}}async function processAndSubmitAnswers(_0x19c202,_0x25d33d){const _0x3f9523=_0x2626e0;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x3f9523(0x297)](_0x3f9523(0x5d4),handleFullscreenChange),document[_0x3f9523(0x297)](_0x3f9523(0x6bb),handleVisibilityChange);let _0x488f59=0x0,_0xece5cb=0x0,_0x3e34ae=[];const _0x1d1bab=[],_0x1cab08=currentDisplayedQuiz['questions'][_0x3f9523(0x97d)];let _0x5c7597=0x0;const _0x2711b9=currentDisplayedQuiz[_0x3f9523(0x9a5)];for(let _0x43ed4d=0x0;_0x43ed4d<_0x2711b9['length'];_0x43ed4d++){const _0x3db856=_0x2711b9[_0x43ed4d],_0xf5fb0e=_0x19c202[_0x43ed4d],_0x5d2a15=_0x3db856['questionType']||currentDisplayedQuiz['quizType'];let _0x2636af=![];if(_0xf5fb0e!==null&&_0xf5fb0e!=='')switch(_0x5d2a15){case _0x3f9523(0x801):_0x2636af=_0xf5fb0e===_0x3db856[_0x3f9523(0x3df)];break;case _0x3f9523(0x1f9):const _0x10f52f=_0xf5fb0e===!![]||_0xf5fb0e==='true';_0x2636af=_0x10f52f===_0x3db856['correctAnswer'];break;case _0x3f9523(0x8ed):case'multiple_choice':default:_0x2636af=Number(_0xf5fb0e)===_0x3db856[_0x3f9523(0x550)];break;case _0x3f9523(0x3fb):_0x2636af=await gradeShortAnswer(_0xf5fb0e,_0x3db856);break;}_0x2636af?(_0x488f59++,_0x5c7597++,_0x5c7597===0x3&&(_0x3e34ae['push'](BADGES[_0x3f9523(0x36e)]['id']),_0x5c7597=0x0)):_0x5c7597=0x0;let _0x45cb90=null;_0x3db856[_0x3f9523(0x95b)]&&_0xf5fb0e!==null&&(_0x45cb90=_0x3db856[_0x3f9523(0x95b)][_0xf5fb0e]),_0x1d1bab[_0x3f9523(0x4c7)]({'questionId':_0x3db856['id'],'answer':_0xf5fb0e,'answerText':_0x45cb90,'isCorrect':_0x2636af,'originalQuestionText':_0x3db856[_0x3f9523(0x883)]||_0x3db856['questionText']});}_0xece5cb=_0x488f59*0xa;_0x488f59===_0x1cab08&&_0x1cab08>0x0&&!currentDisplayedQuiz[_0x3f9523(0x7b2)]&&(_0xece5cb+=0x32,_0x3e34ae[_0x3f9523(0x4c7)](BADGES[_0x3f9523(0x224)]['id']));const _0x2e9bdc=currentDisplayedQuiz['settings']?.['passingScore']??Math[_0x3f9523(0x879)](_0x1cab08/0x2),_0x37673b=currentDisplayedQuiz[_0x3f9523(0x446)]?.['timerMode'];if(_0x37673b===_0x3f9523(0x204)&&quizStartTime){const _0x20eaf0=(new Date()-quizStartTime)/0x3e8,_0x500508=currentDisplayedQuiz[_0x3f9523(0x446)][_0x3f9523(0x6fb)]*0x3c;_0x488f59>=_0x2e9bdc&&_0x20eaf0<_0x500508/0x2&&(_0xece5cb+=0x14,_0x3e34ae[_0x3f9523(0x4c7)](BADGES[_0x3f9523(0x2a3)]['id']));}_0x25d33d['length']===0x0&&_0x488f59===_0x1cab08&&_0x1cab08>0x0&&_0x3e34ae[_0x3f9523(0x4c7)](BADGES[_0x3f9523(0x62d)]['id']);if(_0x25d33d[_0x3f9523(0x97d)]>0x0){const _0x304883=_0x25d33d[0x0][_0x3f9523(0x67b)];if(_0x304883<_0x2e9bdc&&_0x488f59>=_0x2e9bdc){const _0x321726=_0x25d33d[_0x3f9523(0x2dd)](_0x57c92f=>(_0x57c92f[_0x3f9523(0x2d0)]||[])[_0x3f9523(0x777)](BADGES['COMEBACK_KING']['id']));!_0x321726&&_0x3e34ae[_0x3f9523(0x4c7)](BADGES['COMEBACK_KING']['id']);}}_0x25d33d[_0x3f9523(0x97d)]===0x4&&_0x3e34ae[_0x3f9523(0x4c7)](BADGES['PERSEVERANCE']['id']);const _0x486104=currentDisplayedQuiz[_0x3f9523(0x446)][_0x3f9523(0x7b4)];if(currentMode===_0x3f9523(0x657)){handleResultDisplay(_0x486104,_0x488f59,_0xece5cb,_0x3e34ae,_0x1d1bab,_0x1cab08);return;}const _0x17bcb9=currentQuizData['id'],_0x4cc2ab=doc(db,_0x3f9523(0x495)+appId+_0x3f9523(0x72e)+_0x17bcb9+'/submissions',currentStudentName);try{const _0x231df4=[..._0x25d33d],_0x54104d={'score':_0x488f59,'points':_0xece5cb,'badges':_0x3e34ae,'submittedAt':new Date()['toISOString'](),'answers':_0x1d1bab};_0x231df4[_0x3f9523(0x4c7)](_0x54104d);const _0x459fda=_0x231df4[0x0][_0x3f9523(0x67b)],_0x3f549a=Math[_0x3f9523(0x339)](..._0x231df4['map'](_0x332b1d=>_0x332b1d['score'])),_0xea5910=_0x488f59,_0x4b931d=_0x54104d[_0x3f9523(0x1ef)];await setDoc(_0x4cc2ab,{'studentName':currentStudentName,'totalQuestions':_0x1cab08,'attempts':_0x231df4,'firstScore':_0x459fda,'bestScore':_0x3f549a,'latestScore':_0xea5910,'points':_0xece5cb,'latestSubmittedAt':_0x4b931d},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x3f9523(0x346)],currentStudentName),handleResultDisplay(_0x486104,_0x488f59,_0xece5cb,_0x3e34ae,_0x1d1bab,_0x1cab08);}catch(_0x2add7c){console[_0x3f9523(0x670)](_0x3f9523(0x3cb),_0x2add7c),showMessage(_0x3f9523(0x7f7));}}async function updateStudentProfile(_0x598f0d,_0x443062){const _0x12632e=_0x2626e0,_0x1c8f25=doc(db,_0x12632e(0x495)+appId+_0x12632e(0x1b7)+_0x598f0d+_0x12632e(0x9cd),_0x443062);try{const _0x1c6648=query(collection(db,'artifacts/'+appId+'/public/data/quizzes'),where('projectId','==',_0x598f0d)),_0x59ffa1=await getDocs(_0x1c6648),_0x5b2f66=new Map(_0x59ffa1['docs'][_0x12632e(0x1e7)](_0x4ff6d0=>[_0x4ff6d0['id'],_0x4ff6d0[_0x12632e(0x26b)]()])),_0xd6d589=Array['from'](_0x5b2f66['keys']());await runTransaction(db,async _0x2d8149=>{const _0x4f56c0=_0x12632e;let _0x16a2b9=0x0;const _0x31aab4={};let _0x4c15d2=!![],_0x2a1b18=0x0,_0x116aa4=0x0;for(const _0x1515bc of _0xd6d589){const _0x119a6e=_0x5b2f66[_0x4f56c0(0x912)](_0x1515bc),_0x34f460=doc(db,_0x4f56c0(0x495)+appId+'/public/data/quizzes/'+_0x1515bc+_0x4f56c0(0x386),_0x443062),_0x113d67=await _0x2d8149[_0x4f56c0(0x912)](_0x34f460);if(_0x113d67[_0x4f56c0(0x7c0)]()){const _0xc96f82=_0x113d67[_0x4f56c0(0x26b)](),_0xd80524=_0xc96f82[_0x4f56c0(0x1b3)]||[];if(_0xd80524[_0x4f56c0(0x97d)]>0x0){const _0x363ea5=_0xd80524[_0x4f56c0(0x815)]((_0x5c82ca,_0x427de9)=>{const _0x3546db=_0x4f56c0;if(_0x427de9[_0x3546db(0x67b)]>_0x5c82ca[_0x3546db(0x67b)])return _0x427de9;if(_0x427de9[_0x3546db(0x67b)]===_0x5c82ca[_0x3546db(0x67b)])return(_0x427de9[_0x3546db(0x259)]||0x0)>(_0x5c82ca[_0x3546db(0x259)]||0x0)?_0x427de9:_0x5c82ca;return _0x5c82ca;},{'score':-0x1,'points':-0x1});_0x363ea5[_0x4f56c0(0x67b)]>-0x1&&(_0x16a2b9+=_0x363ea5[_0x4f56c0(0x259)]||0x0,(_0x363ea5['badges']||[])[_0x4f56c0(0x2fb)](_0x54de40=>{_0x31aab4[_0x54de40]=(_0x31aab4[_0x54de40]||0x0)+0x1;}));}}if(_0x119a6e[_0x4f56c0(0x6b9)]!==_0x4f56c0(0x737)){_0x116aa4++;if(_0x113d67['exists']()){_0x2a1b18++;const _0x39061e=_0x113d67[_0x4f56c0(0x26b)]();_0x39061e[_0x4f56c0(0x273)]!==_0x39061e[_0x4f56c0(0x7fc)]&&(_0x4c15d2=![]);}else _0x4c15d2=![];}}_0x116aa4>0x0&&_0x2a1b18===_0x116aa4&&_0x4c15d2?_0x31aab4[_0x4f56c0(0x326)]=0x1:_0x31aab4[_0x4f56c0(0x326)]=0x0,_0x2d8149[_0x4f56c0(0x681)](_0x1c8f25,{'studentName':_0x443062,'totalPoints':_0x16a2b9,'unlockedBadges':Object['keys'](_0x31aab4)[_0x4f56c0(0x6c1)](_0x5c6f75=>_0x31aab4[_0x5c6f75]>0x0),'badgesCount':_0x31aab4},{'merge':!![]});});}catch(_0x5dbe15){console['error']('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x5dbe15),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0x5ca9cc=_0x2626e0;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x573858=JSON[_0x5ca9cc(0x418)](JSON['stringify'](currentQuizData));currentMode=_0x5ca9cc(0x657),currentStudentName=_0x5ca9cc(0x8b4),adminView[_0x5ca9cc(0x1a0)][_0x5ca9cc(0x368)]('hidden'),studentView['classList'][_0x5ca9cc(0x594)](_0x5ca9cc(0x250)),studentInitialView['classList'][_0x5ca9cc(0x368)](_0x5ca9cc(0x250)),studentNameSelectionView[_0x5ca9cc(0x1a0)][_0x5ca9cc(0x368)](_0x5ca9cc(0x250)),studentResultArea[_0x5ca9cc(0x1a0)][_0x5ca9cc(0x368)](_0x5ca9cc(0x250)),studentQuizArea[_0x5ca9cc(0x1a0)][_0x5ca9cc(0x594)](_0x5ca9cc(0x250)),quizStartTime=new Date(),displayQuizForStudent(_0x573858);}function handleResultDisplay(_0x38aef1,_0x3a870e,_0x59efa7,_0x25aa54,_0x364956,_0x2437eb){const _0x47002e=_0x2626e0;if(_0x38aef1==='manual_release'){displaySubmissionConfirmation();return;}const _0x46a876=currentDisplayedQuiz[_0x47002e(0x446)]?.[_0x47002e(0x1bb)]??Math[_0x47002e(0x879)](_0x2437eb/0x2),_0x23f388=currentDisplayedQuiz[_0x47002e(0x446)]?.[_0x47002e(0x79e)]??![],_0x54e702=currentDisplayedQuiz[_0x47002e(0x446)]?.[_0x47002e(0x5f6)]===!![],_0x2cedd0=_0x3a870e<_0x46a876,_0x126df4=_0x38aef1==='half_mark_status'||_0x38aef1===_0x47002e(0x629);if(_0x54e702&&_0x2cedd0&&!_0x126df4){_0x38aef1===_0x47002e(0x67a)?displayResultsWithAnswers(_0x3a870e,_0x59efa7,_0x25aa54,_0x364956,_0x2437eb,!![]):displayLoopScreen(_0x3a870e,_0x2437eb,_0x38aef1);return;}if(_0x23f388&&_0x2cedd0){startAdaptiveFlow(_0x364956,_0x3a870e,_0x2437eb);return;}switch(_0x38aef1){case _0x47002e(0x67a):displayResultsWithAnswers(_0x3a870e,_0x59efa7,_0x25aa54,_0x364956,_0x2437eb);break;case _0x47002e(0x608):displayResultsScoreOnly(_0x3a870e,_0x59efa7,_0x25aa54,_0x2437eb);break;case'show_pass_fail_only':displayPassFailOnly(_0x3a870e,_0x2437eb);break;case _0x47002e(0x3d6):displayHalfMarkResult(_0x3a870e,_0x2437eb);break;case'perfect_score_status':displayPerfectScoreResult(_0x3a870e,_0x2437eb);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x1a7181){const _0x1440d2=_0x2626e0;studentReadingArea[_0x1440d2(0x9a4)]=_0x1440d2(0x275);const _0x4c5fa5=_0x1440d2(0x98e)+_0x1a7181+_0x1440d2(0x21d)+simpleMathPrompt+_0x1440d2(0x52d),_0x212a72={'type':'OBJECT','properties':{'questionText':{'type':_0x1440d2(0x61d)},'options':{'type':_0x1440d2(0x44a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1440d2(0x5aa)},'explanation':{'type':_0x1440d2(0x61d)}},'required':[_0x1440d2(0x846),_0x1440d2(0x95b),_0x1440d2(0x550),_0x1440d2(0x48f)]},_0x3922ea={'type':'OBJECT','properties':{'topic':{'type':_0x1440d2(0x61d)},'questions':{'type':'ARRAY','items':_0x212a72}},'required':[_0x1440d2(0x6b9),'questions']};try{const _0x3ac5f9=await callAnalysisApi(_0x4c5fa5,_0x3922ea);_0x3ac5f9[_0x1440d2(0x7b2)]=!![],studentReadingArea[_0x1440d2(0x1a0)][_0x1440d2(0x368)]('hidden');const _0x1a8d53={...currentDisplayedQuiz[_0x1440d2(0x446)],'isAdaptive':![],'resultsDisplay':_0x1440d2(0x67a)};_0x3ac5f9[_0x1440d2(0x446)]=_0x1a8d53,displayQuizForStudent(_0x3ac5f9);}catch(_0x526108){console[_0x1440d2(0x670)]('Remedial\x20quiz\x20generation\x20failed:',_0x526108),showMessage(_0x1440d2(0x5a7)),showView(_0x1440d2(0x59e));}}function displayPassFailOnly(_0x2ac1b5,_0x6ae66a){const _0x1df724=_0x2626e0,_0x4c9958=currentDisplayedQuiz[_0x1df724(0x446)]?.[_0x1df724(0x1bb)]??-0x1,_0x124c8a=currentDisplayedQuiz['isRemedial']===!![];let _0x480f09='',_0x5d0442=![];if(_0x124c8a||_0x4c9958!==-0x1){_0x5d0442=_0x124c8a?_0x2ac1b5===_0x6ae66a:_0x2ac1b5>=_0x4c9958;const _0x28b02a=_0x5d0442?_0x1df724(0x84d):_0x1df724(0x8f2),_0x2625a=_0x5d0442?'ผ่าน':_0x1df724(0x679);_0x480f09=_0x1df724(0x999)+_0x28b02a+'\x22>'+_0x2625a+'</span></div>';}else _0x480f09=_0x1df724(0x302);let _0x6aaf48=_0x1df724(0x7c3)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x480f09+_0x1df724(0x44c);studentResultArea[_0x1df724(0x9a4)]=_0x6aaf48,studentResultArea[_0x1df724(0x1a0)]['remove'](_0x1df724(0x250)),studentQuizArea[_0x1df724(0x1a0)][_0x1df724(0x368)](_0x1df724(0x250)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x5d0442});}function cancelAdminTest(){const _0x6a98dd=_0x2626e0;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x6a98dd(0x297)](_0x6a98dd(0x5d4),handleFullscreenChange),document['removeEventListener'](_0x6a98dd(0x6bb),handleVisibilityChange),currentMode=_0x6a98dd(0x4ec),studentView['classList']['add'](_0x6a98dd(0x250)),adminView[_0x6a98dd(0x1a0)][_0x6a98dd(0x594)]('hidden'),showView('project-detail');}function setupResultScreenBackButton(_0x3c2f8b){const _0x91f00b=_0x2626e0,_0x5b2918={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x3c2f8b};if(_0x5b2918[_0x91f00b(0x501)]){const _0x1921e8=_0x91f00b(0x20b);studentResultArea[_0x91f00b(0x27a)]('beforeend',_0x1921e8),document['getElementById']('retake-quiz-loop-btn')[_0x91f00b(0x214)](_0x91f00b(0x421),()=>{const _0x1f2dad=_0x91f00b;studentResultArea['classList'][_0x1f2dad(0x368)](_0x1f2dad(0x250)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0xcefd73=_0x91f00b(0x988),_0x1e235f=currentMode===_0x91f00b(0x657),_0x4e4ba8=_0x1e235f?_0x91f00b(0x5a5):_0x91f00b(0x814);let _0x5d3b66='';_0x5b2918[_0x91f00b(0x2f9)]&&(_0x5d3b66+='<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>');let _0x38dbd6=_0x5b2918[_0x91f00b(0x353)];_0x38dbd6===undefined&&(_0x38dbd6=_0x5b2918['score']<_0x5b2918[_0x91f00b(0x7fc)]);_0x38dbd6&&(_0x5d3b66+=_0x91f00b(0x9b4));_0x5d3b66+=_0x91f00b(0x6ee)+_0xcefd73+_0x91f00b(0x6c7)+_0x4e4ba8+_0x91f00b(0x5b6);const _0x8e525a=_0x91f00b(0x44e)+_0x5d3b66+_0x91f00b(0x622);studentResultArea[_0x91f00b(0x27a)]('beforeend',_0x8e525a),studentResultArea[_0x91f00b(0x33b)](_0x91f00b(0x2c8))?.[_0x91f00b(0x214)](_0x91f00b(0x421),handleShowStudentRankings);const _0xfbb8a2=studentResultArea[_0x91f00b(0x33b)]('#retake-for-improvement-btn');_0xfbb8a2&&_0xfbb8a2[_0x91f00b(0x214)](_0x91f00b(0x421),()=>{const _0x14d49c=_0x91f00b;studentResultArea[_0x14d49c(0x1a0)][_0x14d49c(0x368)](_0x14d49c(0x250)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0xcefd73)[_0x91f00b(0x214)]('click',()=>{const _0x571f32=_0x91f00b;_0x1e235f?(currentMode=_0x571f32(0x4ec),studentView[_0x571f32(0x1a0)]['add'](_0x571f32(0x250)),adminView[_0x571f32(0x1a0)][_0x571f32(0x594)](_0x571f32(0x250)),showView(_0x571f32(0x4f5))):(showView('student'),document[_0x571f32(0x87d)](_0x571f32(0x72d))[_0x571f32(0x810)]='');});}function displayResultsWithAnswers(_0x37bab3,_0x293f52,_0x434736,_0x1aa04b,_0x15a2cf,_0x5b2143=![]){const _0x5dd58e=_0x2626e0,_0xadf43=_0x15a2cf>0x0?_0x37bab3/_0x15a2cf*0x64:0x0,_0x42b846=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x41e921=currentDisplayedQuiz[_0x5dd58e(0x7b2)]===!![];let _0x291b95='';if(_0x41e921||_0x42b846!==-0x1){let _0x282d68=_0x41e921?_0x37bab3===_0x15a2cf:_0x37bab3>=_0x42b846;const _0x2a959f=_0x282d68?_0x5dd58e(0x84d):'bg-red-100\x20text-red-800',_0x30e6cc=_0x282d68?_0x5dd58e(0x631):'ไม่ผ่าน';_0x291b95=_0x5dd58e(0x66d)+_0x2a959f+'\x22>'+_0x30e6cc+_0x5dd58e(0x49e);}let _0x364428=_0x5dd58e(0x919)+currentStudentName+_0x5dd58e(0x245)+_0x37bab3+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x15a2cf+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x291b95+_0x5dd58e(0x5c8)+_0x293f52+_0x5dd58e(0x8db)+_0xadf43[_0x5dd58e(0x2b4)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x5dd58e(0x9a5)]['forEach']((_0xf52311,_0x141872)=>{const _0x534440=_0x5dd58e,_0x21edf2=_0x1aa04b[_0x141872],_0xbfccee=_0x21edf2[_0x534440(0x5d5)],_0x4f9072=_0x21edf2[_0x534440(0x8d1)],_0x346744=_0xf52311[_0x534440(0x19e)]||currentDisplayedQuiz['quizType'];_0x364428+=_0x534440(0x492)+(_0x4f9072?'border-green-300\x20bg-green-50':'border-red-300\x20bg-red-50')+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x141872+0x1)+'.\x20'+(_0xf52311[_0x534440(0x883)]||_0xf52311[_0x534440(0x846)])+_0x534440(0x4eb);switch(_0x346744){case _0x534440(0x801):const _0x55d35e=_0xbfccee||_0x534440(0x91f),_0x2ba426=_0xf52311[_0x534440(0x3df)];_0x364428+=_0x534440(0x9ce)+(!_0x4f9072?'line-through\x20text-red-700':'')+'\x22>'+_0x55d35e+_0x534440(0x4ab);!_0x4f9072&&(_0x364428+=_0x534440(0x7b5)+_0x2ba426+_0x534440(0x49e));break;case _0x534440(0x3fb):_0x364428+=_0x534440(0x807)+(_0xbfccee||_0x534440(0x91f))+'</p>',_0x364428+=_0x534440(0x53b)+_0xf52311[_0x534440(0x83a)]+_0x534440(0x49e);break;case _0x534440(0x1f9):_0x364428+=_0x534440(0x3ad)+(_0xf52311[_0x534440(0x312)]===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0xbfccee===_0x534440(0x9a3)&&!_0x4f9072?_0x534440(0x510):'')+'\x22>ใช่</p>',_0x364428+=_0x534440(0x3ad)+(_0xf52311[_0x534440(0x312)]===![]?_0x534440(0x885):'')+'\x20'+(_0xbfccee===_0x534440(0x405)&&!_0x4f9072?'line-through\x20text-red-700':'')+_0x534440(0x36c);break;default:_0x364428+=_0xf52311['options'][_0x534440(0x1e7)]((_0x5da62b,_0x25f8c0)=>{const _0x49a93d=_0x534440;let _0x3bbeca='',_0x227479='';if(_0x25f8c0===_0xf52311[_0x49a93d(0x550)])_0x3bbeca='font-bold\x20text-green-700',_0x227479='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x25f8c0===_0xbfccee&&(_0x3bbeca=_0x49a93d(0x51a),_0x227479='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x49a93d(0x9d3)+_0x3bbeca+'\x22>'+_0x227479+_0x5da62b+_0x49a93d(0x622);})[_0x534440(0x3a2)]('');break;}_0x364428+=_0x534440(0x57e)+(_0xf52311[_0x534440(0x48f)]||_0x534440(0x60a))+'</div>';if(!_0x4f9072){const _0x189c4f=_0xf52311[_0x534440(0x883)]||_0xf52311[_0x534440(0x846)];_0x364428+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0x189c4f)+_0x534440(0x51e);}_0x364428+='</div>';}),studentResultArea[_0x5dd58e(0x9a4)]=_0x364428,renderEarnedBadges(_0x434736,'earned-badges-container'),studentResultArea['classList']['remove'](_0x5dd58e(0x250)),studentQuizArea[_0x5dd58e(0x1a0)][_0x5dd58e(0x368)](_0x5dd58e(0x250)),setupResultScreenBackButton({'isLooping':_0x5b2143,'score':_0x37bab3,'totalQuestions':_0x15a2cf,'showRankings':!![]});if(window[_0x5dd58e(0x9c4)])window['MathJax']['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x3e9753,_0x1c897f,_0x2df6eb,_0x2c86e3){const _0x1dfc94=_0x2626e0,_0x473f25=_0x2c86e3>0x0?_0x3e9753/_0x2c86e3*0x64:0x0,_0x25c1e2=currentDisplayedQuiz['settings']?.[_0x1dfc94(0x1bb)]??-0x1,_0x578e16=currentDisplayedQuiz[_0x1dfc94(0x7b2)]===!![];let _0xbcdccf='';if(_0x578e16||_0x25c1e2!==-0x1){let _0x41d519=_0x578e16?_0x3e9753===_0x2c86e3:_0x3e9753>=_0x25c1e2;const _0x2db152=_0x41d519?_0x1dfc94(0x84d):_0x1dfc94(0x8f2),_0x120aa1=_0x41d519?_0x1dfc94(0x631):_0x1dfc94(0x679);_0xbcdccf=_0x1dfc94(0x66d)+_0x2db152+'\x22>'+_0x120aa1+_0x1dfc94(0x49e);}let _0x5c4b82=_0x1dfc94(0x7c3)+currentStudentName+_0x1dfc94(0x38d)+_0x3e9753+_0x1dfc94(0x9ba)+_0x2c86e3+_0x1dfc94(0x852)+_0xbcdccf+_0x1dfc94(0x5c8)+_0x1c897f+_0x1dfc94(0x443)+_0x473f25[_0x1dfc94(0x2b4)](0x0)+_0x1dfc94(0x60e);studentResultArea[_0x1dfc94(0x9a4)]=_0x5c4b82,renderEarnedBadges(_0x2df6eb,_0x1dfc94(0x71c)),studentResultArea[_0x1dfc94(0x1a0)]['remove'](_0x1dfc94(0x250)),studentQuizArea[_0x1dfc94(0x1a0)][_0x1dfc94(0x368)]('hidden'),setupResultScreenBackButton({'score':_0x3e9753,'totalQuestions':_0x2c86e3,'showRankings':!![]});}function _0x5e36(_0x10b2b0,_0x20324f){const _0x32a52a=_0x32a5();return _0x5e36=function(_0x5e3603,_0x3d67d5){_0x5e3603=_0x5e3603-0x190;let _0x3aa56d=_0x32a52a[_0x5e3603];return _0x3aa56d;},_0x5e36(_0x10b2b0,_0x20324f);}function displaySubmissionConfirmation(){const _0x517a4d=_0x2626e0;let _0x363a6d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x517a4d(0x821);studentResultArea['innerHTML']=_0x363a6d,studentResultArea[_0x517a4d(0x1a0)][_0x517a4d(0x594)](_0x517a4d(0x250)),studentQuizArea[_0x517a4d(0x1a0)]['add'](_0x517a4d(0x250)),document['getElementById'](_0x517a4d(0x675))[_0x517a4d(0x214)](_0x517a4d(0x421),()=>{const _0x5a19b7=_0x517a4d;showView(_0x5a19b7(0x59e)),document[_0x5a19b7(0x87d)](_0x5a19b7(0x72d))['value']='';});}function renderEarnedBadges(_0x2e0717,_0x3051f7){const _0x16339a=_0x2626e0,_0x22c12b=document[_0x16339a(0x87d)](_0x3051f7);if(!_0x22c12b||!_0x2e0717||_0x2e0717[_0x16339a(0x97d)]===0x0)return;let _0x4d7ec8='';_0x2e0717['forEach']((_0x3242d6,_0x40bd8c)=>{const _0x47f2a3=_0x16339a,_0x4edcc0=Object['values'](BADGES)[_0x47f2a3(0x645)](_0xb1f350=>_0xb1f350['id']===_0x3242d6);_0x4edcc0&&(_0x4d7ec8+=_0x47f2a3(0x23f)+_0x40bd8c*0.2+_0x47f2a3(0x789)+_0x4edcc0[_0x47f2a3(0x4a1)]+_0x47f2a3(0x7cb)+_0x4edcc0[_0x47f2a3(0x502)]+_0x47f2a3(0x1e8)+_0x4edcc0[_0x47f2a3(0x5a3)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x22c12b[_0x16339a(0x9a4)]=_0x4d7ec8;}function startPresentation(_0x23734f){const _0x290035=_0x2626e0;currentQuizData=getShuffledQuiz(_0x23734f),currentPresentationSlide=0x0,presentationModal[_0x290035(0x63c)][_0x290035(0x55f)]=_0x290035(0x90f),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x30c621=_0x2626e0;document[_0x30c621(0x1d6)]&&document[_0x30c621(0x2a7)](),presentationModal[_0x30c621(0x63c)]['display']=_0x30c621(0x293);}function renderPresentationSlide(_0x2d5dce){const _0x53b5f1=_0x2626e0,_0x3b4b1a=document[_0x53b5f1(0x87d)](_0x53b5f1(0x57a));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData[_0x53b5f1(0x9a5)][_0x2d5dce]){_0x3b4b1a[_0x53b5f1(0x9a4)]=_0x53b5f1(0x40c);return;}const _0x1644c4=currentQuizData['questions'][_0x2d5dce],_0x4b5caa=_0x1644c4[_0x53b5f1(0x19e)]||currentQuizData[_0x53b5f1(0x79c)];_0x3b4b1a['innerHTML']='';let _0x48163d=_0x53b5f1(0x328)+(_0x1644c4[_0x53b5f1(0x3d2)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1644c4[_0x53b5f1(0x3d2)]+'</div>':'')+_0x53b5f1(0x1d9)+(_0x2d5dce+0x1)+'.\x20'+(_0x1644c4[_0x53b5f1(0x883)]||_0x1644c4['questionText'])+_0x53b5f1(0x634);switch(_0x4b5caa){case'matching_item':_0x48163d+=_0x1644c4[_0x53b5f1(0x8c6)][_0x53b5f1(0x1e7)](_0x4d004a=>_0x53b5f1(0x845)+_0x4d004a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x53b5f1(0x3a2)]('');break;case _0x53b5f1(0x1f9):_0x48163d+=_0x53b5f1(0x424),_0x48163d+=_0x53b5f1(0x6f6);break;case _0x53b5f1(0x960):case _0x53b5f1(0x3fb):_0x48163d+=_0x53b5f1(0x959);break;case _0x53b5f1(0x8ed):case'multiple_choice':default:_0x48163d+=_0x1644c4[_0x53b5f1(0x95b)]['map']((_0x2f6587,_0x5c713c)=>_0x53b5f1(0x1a7)+_0x5c713c+_0x53b5f1(0x7e4)+_0x2f6587+_0x53b5f1(0x80a))[_0x53b5f1(0x3a2)]('');break;}_0x48163d+=_0x53b5f1(0x3c5)+(_0x1644c4[_0x53b5f1(0x48f)]||_0x53b5f1(0x60a))+_0x53b5f1(0x8e2),_0x3b4b1a[_0x53b5f1(0x9a4)]=_0x48163d;if(window[_0x53b5f1(0x9c4)])window[_0x53b5f1(0x9c4)][_0x53b5f1(0x4af)]([_0x3b4b1a]);let _0x269ca7=[];switch(_0x4b5caa){case _0x53b5f1(0x801):_0x269ca7=_0x1644c4[_0x53b5f1(0x8c6)]||[];break;case _0x53b5f1(0x1f9):_0x269ca7=[_0x53b5f1(0x2e4),_0x53b5f1(0x5eb)];break;default:_0x269ca7=_0x1644c4['options']||[];break;}const _0x2e0078=document[_0x53b5f1(0x87d)]('presentation-scratchpad-btn');_0x2e0078&&(_0x2e0078[_0x53b5f1(0x8af)]=()=>{openScratchpad(_0x1644c4,_0x269ca7);});document[_0x53b5f1(0x4fa)]('.presentation-option')[_0x53b5f1(0x2fb)](_0xbf3859=>{const _0x4467f5=_0x53b5f1;_0xbf3859[_0x4467f5(0x214)]('click',_0x742e86=>revealAnswerForPresentation(_0x2d5dce,_0x742e86[_0x4467f5(0x513)]));});const _0x183a8f=document[_0x53b5f1(0x87d)]('check-presentation-answer-btn');_0x183a8f&&_0x183a8f['addEventListener'](_0x53b5f1(0x421),()=>checkShortAnswerForPresentation(_0x2d5dce)),document['getElementById'](_0x53b5f1(0x41a))['textContent']=_0x53b5f1(0x8a7)+(_0x2d5dce+0x1)+'\x20/\x20'+currentQuizData[_0x53b5f1(0x9a5)][_0x53b5f1(0x97d)],document[_0x53b5f1(0x87d)](_0x53b5f1(0x9a8))['disabled']=_0x2d5dce===0x0,document[_0x53b5f1(0x87d)](_0x53b5f1(0x60b))[_0x53b5f1(0x500)]=_0x2d5dce===currentQuizData['questions']['length']-0x1;}async function checkShortAnswerForPresentation(_0x140b69){const _0x1101be=_0x2626e0,_0x623b81=currentQuizData[_0x1101be(0x9a5)][_0x140b69],_0x274689=document[_0x1101be(0x87d)]('presentation-short-answer-input'),_0x3dbbe8=document[_0x1101be(0x87d)](_0x1101be(0x859)),_0x35eac3=document['getElementById']('presentation-ai-result'),_0xa8a962=document[_0x1101be(0x87d)](_0x1101be(0x1b0));if(!_0x274689||!_0x3dbbe8||!_0x35eac3||!_0xa8a962)return;const _0x1244e6=_0x274689[_0x1101be(0x810)][_0x1101be(0x4ca)]();if(_0x1244e6==='')return;_0x3dbbe8[_0x1101be(0x500)]=!![],_0x3dbbe8[_0x1101be(0x9a4)]=_0x1101be(0x7c8),_0x274689[_0x1101be(0x500)]=!![];const _0x278dee=await gradeShortAnswer(_0x1244e6,_0x623b81);_0x278dee?_0x35eac3[_0x1101be(0x9a4)]=_0x1101be(0x5ce):_0x35eac3[_0x1101be(0x9a4)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x623b81['idealAnswer']+')',_0x35eac3[_0x1101be(0x1a0)][_0x1101be(0x594)](_0x1101be(0x250)),_0xa8a962[_0x1101be(0x1a0)][_0x1101be(0x594)](_0x1101be(0x250)),_0x3dbbe8[_0x1101be(0x1a0)][_0x1101be(0x368)](_0x1101be(0x250));}function revealAnswerForPresentation(_0x1bbdfe,_0x35a9d9){const _0x538b7b=_0x2626e0,_0x1ac329=currentQuizData['questions'][_0x1bbdfe],_0x982be1=_0x1ac329[_0x538b7b(0x19e)]||currentQuizData[_0x538b7b(0x79c)];document['querySelectorAll'](_0x538b7b(0x5e7))[_0x538b7b(0x2fb)](_0x29b5bd=>{const _0x3ed92f=_0x538b7b;_0x29b5bd[_0x3ed92f(0x500)]=!![],_0x29b5bd[_0x3ed92f(0x1a0)][_0x3ed92f(0x594)](_0x3ed92f(0x42c));let _0x1074b0=![];if(_0x982be1===_0x3ed92f(0x280)||_0x982be1===_0x3ed92f(0x8ed)){const _0x4732a1=parseInt(_0x29b5bd[_0x3ed92f(0x2e0)][_0x3ed92f(0x3fa)]);_0x1074b0=_0x4732a1===_0x1ac329[_0x3ed92f(0x550)];}else{if(_0x982be1===_0x3ed92f(0x1f9)){const _0x375ffb=_0x29b5bd[_0x3ed92f(0x2e0)]['answer']==='true';_0x1074b0=_0x375ffb===_0x1ac329[_0x3ed92f(0x312)];}else _0x982be1===_0x3ed92f(0x801)&&(_0x1074b0=_0x29b5bd['textContent']['trim']()===_0x1ac329[_0x3ed92f(0x3df)]);}_0x1074b0?_0x29b5bd['classList']['add']('bg-green-500',_0x3ed92f(0x46a),'border-green-700'):_0x29b5bd['classList'][_0x3ed92f(0x368)](_0x3ed92f(0x996));}),_0x35a9d9[_0x538b7b(0x1a0)][_0x538b7b(0x594)](_0x538b7b(0x996));let _0x35fbd7=![];if(_0x982be1==='multiple_choice')_0x35fbd7=parseInt(_0x35a9d9['dataset'][_0x538b7b(0x3fa)])===_0x1ac329['correctAnswerIndex'];else{if(_0x982be1===_0x538b7b(0x1f9))_0x35fbd7=_0x35a9d9[_0x538b7b(0x2e0)][_0x538b7b(0x5d5)]===_0x538b7b(0x9a3)===_0x1ac329['correctAnswer'];else _0x982be1===_0x538b7b(0x801)&&(_0x35fbd7=_0x35a9d9[_0x538b7b(0x573)][_0x538b7b(0x4ca)]()===_0x1ac329[_0x538b7b(0x3df)]);}!_0x35fbd7&&_0x35a9d9['classList'][_0x538b7b(0x368)](_0x538b7b(0x849),_0x538b7b(0x46a),'border-red-700'),document[_0x538b7b(0x87d)]('presentation-explanation')[_0x538b7b(0x1a0)]['remove'](_0x538b7b(0x250));}function startWholeQuizTimer(_0x8073cf){const _0x56cd5a=_0x2626e0,_0x2034d4=document[_0x56cd5a(0x87d)](_0x56cd5a(0x505));if(!_0x2034d4)return;const _0x25307b=Date[_0x56cd5a(0x363)]()+_0x8073cf*0x3c*0x3e8;_0x2034d4[_0x56cd5a(0x9a4)]=_0x56cd5a(0x292);const _0x22eafc=document[_0x56cd5a(0x87d)](_0x56cd5a(0x3ed));quizTimerInterval=setInterval(()=>{const _0xa2d7be=_0x56cd5a,_0x1097dc=_0x25307b-Date[_0xa2d7be(0x363)]();if(_0x1097dc<=0x0)clearInterval(quizTimerInterval),_0x22eafc['textContent']=_0xa2d7be(0x824),showMessage(_0xa2d7be(0x78c)),handleSubmitQuiz(null);else{const _0x13fc52=Math[_0xa2d7be(0x879)](_0x1097dc/0x3e8/0x3c%0x3c)[_0xa2d7be(0x58f)]()[_0xa2d7be(0x6fc)](0x2,'0'),_0x100130=Math[_0xa2d7be(0x879)](_0x1097dc/0x3e8%0x3c)['toString']()['padStart'](0x2,'0');_0x22eafc['textContent']=_0x13fc52+':'+_0x100130;}},0x3e8);}function renderPerQuestionView(){const _0x79f340=_0x2626e0;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x38c17a=currentDisplayedQuiz[_0x79f340(0x9a5)][currentQuestionIndex],_0x3c5d8b=_0x38c17a['questionType']||currentDisplayedQuiz[_0x79f340(0x79c)];let _0x194c71=_0x79f340(0x8ef)+(currentQuestionIndex+0x1)+_0x79f340(0x5c9)+currentDisplayedQuiz['questions']['length']+_0x79f340(0x4b7)+(currentMode===_0x79f340(0x657)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x79f340(0x6ad)+currentDisplayedQuiz[_0x79f340(0x6b9)]+_0x79f340(0x592)+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x79f340(0x97d)]-0x1?'ส่งคำตอบ':_0x79f340(0x639))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20';studentQuizArea[_0x79f340(0x9a4)]=_0x194c71;let _0xe1d957='',_0x3718a9='';switch(_0x3c5d8b){case _0x79f340(0x801):_0xe1d957=currentQuestionIndex+0x1+'.\x20'+_0x38c17a[_0x79f340(0x883)],_0x3718a9=_0x79f340(0x195)+_0x38c17a['allResponses'][_0x79f340(0x1e7)](_0x202078=>'<option\x20value=\x22'+_0x202078+'\x22>'+_0x202078+_0x79f340(0x78e))[_0x79f340(0x3a2)]('')+_0x79f340(0x5d2);break;case'true_false':_0xe1d957=currentQuestionIndex+0x1+'.\x20'+_0x38c17a[_0x79f340(0x846)],_0x3718a9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x79f340(0x3fb):case _0x79f340(0x960):_0xe1d957=currentQuestionIndex+0x1+'.\x20'+_0x38c17a['questionText'],_0x3718a9=_0x79f340(0x713);break;case _0x79f340(0x280):case _0x79f340(0x4c9):default:_0xe1d957=currentQuestionIndex+0x1+'.\x20'+_0x38c17a[_0x79f340(0x846)],_0x3718a9=_0x38c17a[_0x79f340(0x95b)][_0x79f340(0x1e7)]((_0x40a3d6,_0x3b5712)=>_0x79f340(0x6d5)+_0x3b5712+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x3b5712+_0x79f340(0x1f5)+_0x3b5712+'\x22>'+_0x40a3d6+_0x79f340(0x4d7))[_0x79f340(0x3a2)]('');break;}_0x38c17a['imageCode']&&(_0xe1d957+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x38c17a[_0x79f340(0x3d2)]+_0x79f340(0x622));document[_0x79f340(0x87d)](_0x79f340(0x5c4))[_0x79f340(0x9a4)]=_0xe1d957,document['getElementById']('per-question-options')[_0x79f340(0x9a4)]=_0x3718a9;if(currentMode===_0x79f340(0x657)){const _0xd6462c=document[_0x79f340(0x87d)](_0x79f340(0x600));if(_0xd6462c)_0xd6462c[_0x79f340(0x214)](_0x79f340(0x421),cancelAdminTest);}document[_0x79f340(0x87d)](_0x79f340(0x5a9))['addEventListener']('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x79f340(0x9c4)])window[_0x79f340(0x9c4)][_0x79f340(0x4af)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x15b46f=_0x2626e0,_0x42505f=currentDisplayedQuiz[_0x15b46f(0x446)]['timerDuration'],_0x5849a1=document[_0x15b46f(0x87d)](_0x15b46f(0x686));if(!_0x5849a1)return;let _0x2c0b6d=_0x42505f;_0x5849a1[_0x15b46f(0x9a4)]=_0x15b46f(0x59f)+_0x2c0b6d+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x5b8c03=document[_0x15b46f(0x87d)](_0x15b46f(0x5f9)),_0x2f80e9=document['getElementById'](_0x15b46f(0x719));perQuestionTimerInterval=setInterval(()=>{const _0x599636=_0x15b46f;_0x2c0b6d--;const _0x30ca85=_0x2c0b6d/_0x42505f*0x64;_0x5b8c03[_0x599636(0x63c)][_0x599636(0x217)]=_0x30ca85+'%',_0x2f80e9['textContent']=_0x2c0b6d,_0x2c0b6d<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x599636(0x45a)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x3dc90b=![]){const _0x3b21b3=_0x2626e0;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x571d31=null;if(!_0x3dc90b){const _0x2fc5f3=currentDisplayedQuiz[_0x3b21b3(0x9a5)][currentQuestionIndex],_0x38f0c1=_0x2fc5f3[_0x3b21b3(0x19e)]||currentDisplayedQuiz['quizType'];if(_0x38f0c1==='short_answer'||_0x38f0c1==='fill_in_no_choices'){const _0x5533cb=document[_0x3b21b3(0x33b)](_0x3b21b3(0x327));_0x571d31=_0x5533cb?_0x5533cb[_0x3b21b3(0x810)][_0x3b21b3(0x4ca)]():'';}else{if(_0x38f0c1===_0x3b21b3(0x801)){const _0x5a096e=document[_0x3b21b3(0x33b)]('#per-question-options\x20select');_0x571d31=_0x5a096e?_0x5a096e['value']:'';}else{const _0x4c62c2=document[_0x3b21b3(0x33b)](_0x3b21b3(0x85e));if(_0x4c62c2){const _0x4475a9=_0x4c62c2[_0x3b21b3(0x810)];_0x571d31=!isNaN(parseInt(_0x4475a9,0xa))&&_0x4475a9[_0x3b21b3(0x4ca)]()!==''?parseInt(_0x4475a9,0xa):_0x4475a9;}}}}studentAnswersPerQuestion[_0x3b21b3(0x4c7)](_0x571d31),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x3b21b3(0x9a5)][_0x3b21b3(0x97d)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x5eedff=_0x2626e0,_0x33f279=currentDisplayedQuiz[_0x5eedff(0x9a5)][_0x5eedff(0x2dd)](_0x6b5c91=>_0x6b5c91[_0x5eedff(0x19e)]===_0x5eedff(0x3fb));_0x33f279?showMessage(_0x5eedff(0x602)):showMessage(_0x5eedff(0x9c2));const _0x51d7fa=currentQuizData['id'],_0x55972b=doc(db,_0x5eedff(0x495)+appId+_0x5eedff(0x72e)+_0x51d7fa+_0x5eedff(0x386),currentStudentName),_0x270cb0=await getDoc(_0x55972b),_0x2dd35c=_0x270cb0[_0x5eedff(0x7c0)]()?_0x270cb0[_0x5eedff(0x26b)]():{},_0x2496c9=_0x2dd35c[_0x5eedff(0x1b3)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x2496c9);}function getResultsFilename(){const _0x564f70=_0x2626e0,_0x3c86ee=document['getElementById'](_0x564f70(0x4ac))[_0x564f70(0x573)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x564f70(0x865)+(_0x3c86ee||_0x564f70(0x411));}function exportResultsAsImage(){const _0x16cb8d=_0x2626e0,_0x4b406f=document[_0x16cb8d(0x87d)](_0x16cb8d(0x6e3));showMessage(_0x16cb8d(0x7d1)),html2canvas(_0x4b406f)[_0x16cb8d(0x977)](_0x112bf9=>{const _0x544ae8=_0x16cb8d,_0x17fa5e=document[_0x544ae8(0x39d)]('a');_0x17fa5e[_0x544ae8(0x937)]=getResultsFilename()+_0x544ae8(0x2df),_0x17fa5e['href']=_0x112bf9[_0x544ae8(0x72f)]('image/png'),_0x17fa5e[_0x544ae8(0x421)](),messageModal[_0x544ae8(0x1a0)][_0x544ae8(0x368)]('hidden');});}function exportResultsAsPDF(){const _0x5bce7b=_0x2626e0,{jsPDF:_0xb81ea9}=window[_0x5bce7b(0x6f1)],_0xb69b4e=new _0xb81ea9();_0xb69b4e[_0x5bce7b(0x888)](_0x5bce7b(0x97a),_0x5bce7b(0x49a)),_0xb69b4e[_0x5bce7b(0x2d5)]({'html':'#results-table'}),_0xb69b4e[_0x5bce7b(0x43c)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x46e362=_0x2626e0,_0xf7e4e1=_0x46e362(0x926)+_0x46e362(0x30e)+_0x46e362(0x575)+_0x46e362(0x9a9),_0x23f661='</body></html>',_0x5125b4=_0xf7e4e1+document[_0x46e362(0x87d)](_0x46e362(0x6e3))[_0x46e362(0x9a4)]+_0x23f661,_0x225f7a=_0x46e362(0x64d)+encodeURIComponent(_0x5125b4),_0x399696=document['createElement']('a');document[_0x46e362(0x792)][_0x46e362(0x701)](_0x399696),_0x399696[_0x46e362(0x794)]=_0x225f7a,_0x399696['download']=getResultsFilename()+_0x46e362(0x6fd),_0x399696[_0x46e362(0x421)](),document[_0x46e362(0x792)][_0x46e362(0x4e7)](_0x399696);}function exportResultsAsExcel(){const _0x2ccef6=_0x2626e0,_0x49c920=document[_0x2ccef6(0x87d)](_0x2ccef6(0x1de));let _0x12bee3=[];for(let _0x142f19=0x0;_0x142f19<_0x49c920[_0x2ccef6(0x50b)][_0x2ccef6(0x97d)];_0x142f19++){let _0x5a987f=[],_0x2b1ae9=_0x49c920[_0x2ccef6(0x50b)][_0x142f19]['querySelectorAll'](_0x2ccef6(0x2c0));for(let _0x2c041e=0x0;_0x2c041e<_0x2b1ae9[_0x2ccef6(0x97d)];_0x2c041e++){_0x5a987f[_0x2ccef6(0x4c7)]('\x22'+_0x2b1ae9[_0x2c041e][_0x2ccef6(0x812)][_0x2ccef6(0x356)](/"/g,'\x22\x22')+'\x22');}_0x12bee3[_0x2ccef6(0x4c7)](_0x5a987f[_0x2ccef6(0x3a2)](','));}const _0x2cbcfb=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x12bee3[_0x2ccef6(0x3a2)]('\x0a')],{'type':_0x2ccef6(0x4df)}),_0x3a211b=document[_0x2ccef6(0x39d)]('a');_0x3a211b[_0x2ccef6(0x794)]=URL[_0x2ccef6(0x268)](_0x2cbcfb),_0x3a211b['download']=getResultsFilename()+_0x2ccef6(0x55a),_0x3a211b[_0x2ccef6(0x421)]();}function exportTableAsImage(_0x39a1d1,_0x37c882){const _0x154884=_0x2626e0,_0x26bbc5=document[_0x154884(0x87d)](_0x39a1d1);if(!_0x26bbc5){showMessage(_0x154884(0x680));return;}showMessage(_0x154884(0x7d1)),html2canvas(_0x26bbc5)[_0x154884(0x977)](_0x368728=>{const _0x53c91c=_0x154884,_0x496b4a=document['createElement']('a');_0x496b4a[_0x53c91c(0x937)]=_0x37c882+_0x53c91c(0x2df),_0x496b4a[_0x53c91c(0x794)]=_0x368728[_0x53c91c(0x72f)](_0x53c91c(0x640)),_0x496b4a[_0x53c91c(0x421)](),messageModal[_0x53c91c(0x1a0)][_0x53c91c(0x368)](_0x53c91c(0x250));});}function exportTableAsPDF(_0x313fa2,_0xda5d9f){const _0x41eb39=_0x2626e0,{jsPDF:_0x548c6f}=window[_0x41eb39(0x6f1)],_0x22187a=new _0x548c6f();_0x22187a[_0x41eb39(0x888)](_0x41eb39(0x97a),_0x41eb39(0x49a)),_0x22187a[_0x41eb39(0x2d5)]({'html':'#'+_0x313fa2}),_0x22187a['save'](_0xda5d9f+'.pdf');}function exportTableAsWord(_0x7cd0b3,_0x25f1ee){const _0x4bee49=_0x2626e0,_0x46683a=document['getElementById'](_0x7cd0b3);if(!_0x46683a){showMessage(_0x4bee49(0x680));return;}const _0x4148e7=_0x4bee49(0x926)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x4bee49(0x575)+_0x4bee49(0x9a9),_0x54f91f=_0x4bee49(0x242),_0x349859=_0x4148e7+_0x46683a['innerHTML']+_0x54f91f,_0x454c8a=_0x4bee49(0x64d)+encodeURIComponent(_0x349859),_0x297077=document[_0x4bee49(0x39d)]('a');document[_0x4bee49(0x792)][_0x4bee49(0x701)](_0x297077),_0x297077[_0x4bee49(0x794)]=_0x454c8a,_0x297077[_0x4bee49(0x937)]=_0x25f1ee+_0x4bee49(0x6fd),_0x297077[_0x4bee49(0x421)](),document['body'][_0x4bee49(0x4e7)](_0x297077);}function exportTableAsExcel(_0x128323,_0x32cac3){const _0xa872d8=_0x2626e0,_0x102def=document['getElementById'](_0x128323);if(!_0x102def){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x609a54=[];for(let _0x251dd3=0x0;_0x251dd3<_0x102def['rows']['length'];_0x251dd3++){let _0x53aa4e=[],_0x53ee28=_0x102def[_0xa872d8(0x50b)][_0x251dd3]['querySelectorAll'](_0xa872d8(0x2c0));for(let _0x58d29a=0x0;_0x58d29a<_0x53ee28[_0xa872d8(0x97d)];_0x58d29a++){_0x53aa4e['push']('\x22'+_0x53ee28[_0x58d29a][_0xa872d8(0x812)][_0xa872d8(0x356)](/"/g,'\x22\x22')+'\x22');}_0x609a54[_0xa872d8(0x4c7)](_0x53aa4e[_0xa872d8(0x3a2)](','));}const _0x4d952b=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x609a54[_0xa872d8(0x3a2)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x245c6f=document[_0xa872d8(0x39d)]('a');_0x245c6f[_0xa872d8(0x794)]=URL[_0xa872d8(0x268)](_0x4d952b),_0x245c6f[_0xa872d8(0x937)]=_0x32cac3+'.csv',_0x245c6f['click']();}function renderAnalytics(_0x18ee9e,_0x11bd98){const _0x2bc9f2=_0x2626e0,_0xf25afc=_0x11bd98[_0x2bc9f2(0x6c1)](_0x32e690=>_0x32e690[_0x2bc9f2(0x23a)]!==undefined),_0x49857c=currentProjectData[_0x2bc9f2(0x7ca)][_0x2bc9f2(0x97d)],_0x39c133=_0xf25afc['length'],_0x1734f4=_0x49857c-_0x39c133,_0x1d761c=_0x49857c>0x0?_0x39c133/_0x49857c*0x64:0x0,_0x366321=_0xf25afc[_0x2bc9f2(0x1e7)](_0x5b9755=>_0x5b9755['latestScore']),_0x233f18=_0x366321[_0x2bc9f2(0x97d)]>0x0?_0x366321['reduce']((_0x4a53ef,_0x5f05ef)=>_0x4a53ef+_0x5f05ef,0x0)/_0x366321['length']:0x0,_0x1a5b48=_0x18ee9e[_0x2bc9f2(0x9a5)]['length'],_0x438a25=_0x1a5b48>0x0?_0x233f18/_0x1a5b48*0x64:0x0,_0x33a5df=calculateItemAnalysis(_0x18ee9e,_0xf25afc),_0x3e54a9=calculateReliabilityKR20(_0x18ee9e,_0xf25afc,_0x33a5df['perQuestionStats']);let _0x3df6db='';if(_0x3e54a9!==null){let _0x268b4a='';if(_0x3e54a9>=0.9)_0x268b4a=_0x2bc9f2(0x540);else{if(_0x3e54a9>=0.8)_0x268b4a=_0x2bc9f2(0x753);else{if(_0x3e54a9>=0.7)_0x268b4a='ดี';else{if(_0x3e54a9>=0.6)_0x268b4a=_0x2bc9f2(0x6be);else _0x268b4a=_0x2bc9f2(0x9b0);}}}_0x3df6db=_0x2bc9f2(0x213)+_0x3e54a9[_0x2bc9f2(0x2b4)](0x2)+_0x2bc9f2(0x1a6)+_0x268b4a+_0x2bc9f2(0x8df);}const _0x5593eb=document[_0x2bc9f2(0x87d)](_0x2bc9f2(0x758));_0x5593eb[_0x2bc9f2(0x9a4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x1d761c[_0x2bc9f2(0x2b4)](0x0)+_0x2bc9f2(0x3e5)+_0x39c133+'/'+_0x49857c+_0x2bc9f2(0x4f9)+_0x233f18[_0x2bc9f2(0x2b4)](0x2)+_0x2bc9f2(0x862)+_0x438a25[_0x2bc9f2(0x2b4)](0x0)+_0x2bc9f2(0x1d0)+(_0x366321['length']>0x0?Math['max'](..._0x366321):'N/A')+_0x2bc9f2(0x2f5)+(_0x366321[_0x2bc9f2(0x97d)]>0x0?Math['min'](..._0x366321):'N/A')+_0x2bc9f2(0x517)+_0x3df6db+_0x2bc9f2(0x52d);const _0x17da63=document[_0x2bc9f2(0x87d)](_0x2bc9f2(0x907));_0x17da63&&_0x17da63[_0x2bc9f2(0x594)]();const _0x72ec8f=_0x2bc9f2(0x838);_0x5593eb[_0x2bc9f2(0x27a)](_0x2bc9f2(0x37b),_0x72ec8f);const _0x52a886=currentProjectData[_0x2bc9f2(0x7ca)]||[];renderSubmissionChart(_0x39c133,_0x1734f4,_0xf25afc,_0x52a886),renderScoreDistributionChart(_0xf25afc,_0x1a5b48),renderQuestionAnalytics(_0x18ee9e,_0xf25afc,_0x52a886),renderInterestingStats(_0x18ee9e,_0xf25afc);}async function handleExportLessonPDF(){const _0x2fd106=_0x2626e0,_0xc70859=document[_0x2fd106(0x87d)]('lesson-plan-content'),_0xace509=document['getElementById'](_0x2fd106(0x1e5))['textContent'],_0x3913d2=window[_0x2fd106(0x578)]('',_0x2fd106(0x692)),_0x1702f0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0xace509+_0x2fd106(0x87c)+_0xc70859['innerHTML']+_0x2fd106(0x7a5);_0x3913d2[_0x2fd106(0x6f9)][_0x2fd106(0x969)](_0x1702f0),_0x3913d2[_0x2fd106(0x6f9)][_0x2fd106(0x8c8)](),_0x3913d2[_0x2fd106(0x528)]=function(){setTimeout(()=>{const _0xb57bf4=_0x5e36;_0x3913d2[_0xb57bf4(0x8e9)]();},0x5dc);};}function renderInterestingStats(_0x28ebe5,_0x673cfa){const _0x40011a=_0x2626e0,_0x2d8f02=document[_0x40011a(0x87d)](_0x40011a(0x19f));if(!_0x2d8f02)return;if(_0x673cfa[_0x40011a(0x97d)]===0x0){_0x2d8f02[_0x40011a(0x9a4)]=_0x40011a(0x26d);return;}const _0xe5ed30=_0x28ebe5[_0x40011a(0x9a5)]['map']((_0x55c9fc,_0xe9bc8d)=>({'index':_0xe9bc8d+0x1,'text':_0x55c9fc[_0x40011a(0x846)]||_0x55c9fc[_0x40011a(0x883)],'correct':0x0}));_0x673cfa['forEach'](_0xbbe8c7=>{const _0x770e2d=_0x40011a,_0x10e460=_0xbbe8c7[_0x770e2d(0x1b3)][_0xbbe8c7['attempts'][_0x770e2d(0x97d)]-0x1];_0x10e460&&_0x10e460[_0x770e2d(0x653)]&&_0x10e460['answers']['forEach'](_0x417b5=>{const _0x12eda1=_0x770e2d,_0x38c626=_0xe5ed30[_0x12eda1(0x645)](_0x557bb4=>_0x557bb4[_0x12eda1(0x228)]===_0x417b5[_0x12eda1(0x24c)]);_0x417b5[_0x12eda1(0x8d1)]&&_0x38c626&&_0x38c626['correct']++;});});const _0x31df15=_0x673cfa[_0x40011a(0x97d)],_0x494b49=Math[_0x40011a(0x339)](..._0xe5ed30[_0x40011a(0x1e7)](_0x3bf598=>_0x3bf598[_0x40011a(0x3a5)])),_0x164598=Math['min'](..._0xe5ed30[_0x40011a(0x1e7)](_0x16f3a2=>_0x16f3a2[_0x40011a(0x3a5)])),_0x3dda78=_0xe5ed30[_0x40011a(0x6c1)](_0x3dbb21=>_0x3dbb21[_0x40011a(0x3a5)]===_0x494b49)[_0x40011a(0x1e7)](_0x3a0687=>_0x40011a(0x1c1)+_0x3a0687[_0x40011a(0x3fa)]),_0x3ad389=_0xe5ed30['filter'](_0x36df70=>_0x36df70[_0x40011a(0x3a5)]===_0x164598)[_0x40011a(0x1e7)](_0x1c4e79=>_0x40011a(0x1c1)+_0x1c4e79[_0x40011a(0x3fa)]),_0x595542=_0x673cfa['sort']((_0x3f3fb5,_0x2a07a4)=>_0x2a07a4[_0x40011a(0x23a)]-_0x3f3fb5[_0x40011a(0x23a)])[_0x40011a(0x6c1)]((_0x3594f4,_0x4eb01e,_0x2c3528)=>_0x3594f4[_0x40011a(0x23a)]===_0x2c3528[0x0][_0x40011a(0x23a)]),_0x216933=_0x673cfa[_0x40011a(0x2f3)]((_0x40416b,_0x3f44e2)=>_0x40416b[_0x40011a(0x23a)]-_0x3f44e2['latestScore'])[_0x40011a(0x6c1)]((_0x438a79,_0x16a2ea,_0x55f0b5)=>_0x438a79['latestScore']===_0x55f0b5[0x0][_0x40011a(0x23a)]),_0x45edd6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x3dda78[_0x40011a(0x3a2)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x494b49+_0x40011a(0x576)+_0x31df15+_0x40011a(0x83f)+_0x3ad389[_0x40011a(0x3a2)](',\x20')+_0x40011a(0x5d1)+(_0x31df15-_0x164598)+_0x40011a(0x576)+_0x31df15+_0x40011a(0x24d)+_0x595542[_0x40011a(0x1e7)](_0x423d2e=>_0x423d2e[_0x40011a(0x49f)])[_0x40011a(0x3a2)](',\x20')+_0x40011a(0x66b)+_0x595542[0x0]['latestScore']+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x216933[_0x40011a(0x1e7)](_0x309d94=>_0x309d94[_0x40011a(0x49f)])[_0x40011a(0x3a2)](',\x20')+_0x40011a(0x66b)+_0x216933[0x0][_0x40011a(0x23a)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x2d8f02[_0x40011a(0x9a4)]=_0x45edd6;}function renderSubmissionChart(_0xf7d2c6,_0x2dc2c8,_0x198dfe,_0x265492){const _0x1e80b0=_0x2626e0,_0x76d7d4=document[_0x1e80b0(0x87d)](_0x1e80b0(0x738))[_0x1e80b0(0x522)]('2d'),_0x1a7fbe=_0x198dfe[_0x1e80b0(0x1e7)](_0x2144c6=>_0x2144c6[_0x1e80b0(0x49f)]),_0x1db298=_0x265492[_0x1e80b0(0x6c1)](_0x55fa26=>!_0x1a7fbe[_0x1e80b0(0x777)](_0x55fa26));chartInstances[_0x1e80b0(0x5af)]&&chartInstances['submission'][_0x1e80b0(0x306)](),chartInstances[_0x1e80b0(0x5af)]=new Chart(_0x76d7d4,{'type':_0x1e80b0(0x743),'data':{'labels':[_0x1e80b0(0x39b),'ยังไม่ส่ง'],'datasets':[{'data':[_0xf7d2c6,_0x2dc2c8],'backgroundColor':['#10B981',_0x1e80b0(0x2c1)],'borderColor':[_0x1e80b0(0x702),_0x1e80b0(0x702)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x16e80f){const _0x13f350=_0x1e80b0;let _0x2438c9=_0x16e80f[_0x13f350(0x856)]||'';return _0x2438c9&&(_0x2438c9+=':\x20'),_0x2438c9+=_0x16e80f[_0x13f350(0x52f)],_0x2438c9;},'afterLabel':function(_0x4581f4){const _0x16d708=_0x1e80b0;let _0x5d6926;return _0x4581f4[_0x16d708(0x41b)]===0x0?_0x5d6926=_0x1a7fbe:_0x5d6926=_0x1db298,_0x5d6926['length']>0x0?_0x5d6926[_0x16d708(0x3a2)]('\x0a'):_0x16d708(0x1df);}}}}}});}function renderScoreDistributionChart(_0x1555f1,_0x5b4f33){const _0x73776=_0x2626e0,_0x37d799=document[_0x73776(0x87d)](_0x73776(0x547))[_0x73776(0x522)]('2d'),_0x187bdb={};for(let _0x51fb5a=0x0;_0x51fb5a<=_0x5b4f33;_0x51fb5a++){_0x187bdb[_0x51fb5a]=0x0;}_0x1555f1['forEach'](_0x5622a8=>{const _0x3f3bda=_0x73776;_0x187bdb[_0x5622a8[_0x3f3bda(0x23a)]]!==undefined&&_0x187bdb[_0x5622a8[_0x3f3bda(0x23a)]]++;}),chartInstances[_0x73776(0x67b)]&&chartInstances[_0x73776(0x67b)]['destroy'](),chartInstances[_0x73776(0x67b)]=new Chart(_0x37d799,{'type':_0x73776(0x4f2),'data':{'labels':Object[_0x73776(0x831)](_0x187bdb),'datasets':[{'label':'จำนวนนักเรียน','data':Object['values'](_0x187bdb),'backgroundColor':_0x73776(0x2ea),'borderColor':_0x73776(0x4cb),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x73776(0x3de)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x390c5b){const _0x3fb699=_0x73776,_0x1ecc8d=_0x390c5b[_0x3fb699(0x856)],_0x113491=_0x1555f1['filter'](_0x2a243e=>_0x2a243e[_0x3fb699(0x23a)]==_0x1ecc8d)[_0x3fb699(0x1e7)](_0x243fa2=>_0x243fa2[_0x3fb699(0x49f)]);return _0x113491[_0x3fb699(0x97d)]>0x0?_0x113491[_0x3fb699(0x3a2)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x26e87b,_0x58cb24,_0x1c18da){const _0x344d5a=_0x2626e0,_0x3671cf=document[_0x344d5a(0x87d)]('question-analytics-container');if(_0x1c18da[_0x344d5a(0x97d)]===0x0){_0x3671cf[_0x344d5a(0x9a4)]=_0x344d5a(0x8f6);return;}const _0x47ebd0=calculateItemAnalysis(_0x26e87b,_0x58cb24),_0x5cf9fc=calculateDistractorAnalysis(_0x26e87b,_0x58cb24);let _0x3d7fec='';_0x47ebd0['overallGroups']&&(_0x3d7fec=_0x344d5a(0x871)+_0x47ebd0[_0x344d5a(0x470)][_0x344d5a(0x36d)][_0x344d5a(0x97d)]+_0x344d5a(0x49b)+_0x47ebd0[_0x344d5a(0x470)]['upperGroupNames']['map'](_0x2a99a6=>_0x344d5a(0x952)+_0x2a99a6+'</li>')['join']('')+_0x344d5a(0x1bc)+_0x47ebd0[_0x344d5a(0x470)]['lowerGroupNames']['length']+_0x344d5a(0x49b)+_0x47ebd0[_0x344d5a(0x470)][_0x344d5a(0x72a)][_0x344d5a(0x1e7)](_0x2163b8=>_0x344d5a(0x952)+_0x2163b8+_0x344d5a(0x7bd))[_0x344d5a(0x3a2)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x462bd4='';const _0x30099e=_0x58cb24[_0x344d5a(0x1e7)](_0x10e4a3=>_0x10e4a3[_0x344d5a(0x49f)]),_0x52e9f6=_0x57f2e4=>{const _0x12fc51=_0x344d5a;if(_0x57f2e4>=0.8)return _0x12fc51(0x9ac);if(_0x57f2e4>=0.6)return _0x12fc51(0x3af);if(_0x57f2e4>=0.4)return _0x12fc51(0x5a6);if(_0x57f2e4>=0.2)return _0x12fc51(0x99e);return _0x12fc51(0x355);},_0x4a8415=_0x5c792f=>{const _0x581bcc=_0x344d5a;if(_0x5c792f<0x0)return _0x581bcc(0x5c7);if(_0x5c792f>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x5c792f>=0.3)return _0x581bcc(0x2e5);if(_0x5c792f>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x1eb2a0=_0x47d853=>{const _0x3f79c0=_0x344d5a,_0x165bcc=_0x47d853[_0x3f79c0(0x2b4)](0x0);if(parseFloat(_0x165bcc)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x165bcc+_0x3f79c0(0x5ed);if(_0x47d853>=0x32)return _0x3f79c0(0x57d)+_0x165bcc+_0x3f79c0(0x5ed);return _0x3f79c0(0x277)+_0x165bcc+_0x3f79c0(0x5ed);};_0x26e87b[_0x344d5a(0x9a5)]['forEach']((_0x22e776,_0x58980f)=>{const _0x28dcc9=_0x344d5a,_0x14cbf8=_0x47ebd0[_0x28dcc9(0x769)][_0x58980f],_0x39141f=_0x5cf9fc[_0x58980f],_0x3868d5=_0x22e776['stem']||_0x22e776[_0x28dcc9(0x846)]||_0x22e776[_0x28dcc9(0x1cb)];let _0xe314b9=0x0;const _0x4b3c38=[],_0x49d45e=[];_0x58cb24[_0x28dcc9(0x2fb)](_0x4bc3b7=>{const _0x5315ba=_0x28dcc9,_0xf3ba57=_0x4bc3b7[_0x5315ba(0x1b3)][_0x4bc3b7[_0x5315ba(0x1b3)]['length']-0x1];if(_0xf3ba57&&_0xf3ba57[_0x5315ba(0x653)]){const _0x4296b0=_0xf3ba57[_0x5315ba(0x653)][_0x5315ba(0x645)](_0x5a0c7f=>_0x5a0c7f[_0x5315ba(0x24c)]===_0x3868d5)??_0xf3ba57[_0x5315ba(0x653)][_0x58980f]??null;_0x4296b0&&(_0x4296b0[_0x5315ba(0x8d1)]?(_0xe314b9++,_0x4b3c38['push'](_0x4bc3b7[_0x5315ba(0x49f)])):_0x49d45e[_0x5315ba(0x4c7)](_0x4bc3b7[_0x5315ba(0x49f)]));}});const _0xdb632=_0x58cb24[_0x28dcc9(0x97d)]>0x0?_0xe314b9/_0x58cb24[_0x28dcc9(0x97d)]*0x64:0x0,_0x233d7d=_0x1c18da['filter'](_0x2ed790=>!_0x30099e[_0x28dcc9(0x777)](_0x2ed790)),_0x4a925b=_0x14cbf8?_0x28dcc9(0x5d7)+_0x14cbf8['p'][_0x28dcc9(0x2b4)](0x2)+_0x28dcc9(0x86f)+_0x52e9f6(_0x14cbf8['p'])+_0x28dcc9(0x75d)+_0x14cbf8['r'][_0x28dcc9(0x2b4)](0x2)+_0x28dcc9(0x86f)+_0x4a8415(_0x14cbf8['r'])+_0x28dcc9(0x2f8)+_0x1eb2a0(_0xdb632)+_0x28dcc9(0x1ce):'';let _0xe36adc='';_0x39141f&&(_0xe36adc=_0x28dcc9(0x79b)+Object[_0x28dcc9(0x831)](_0x39141f)[_0x28dcc9(0x1e7)](_0x26d37c=>{const _0x2bcbbd=_0x28dcc9,_0x15a37a=_0x39141f[_0x26d37c],_0x50f805=parseInt(_0x26d37c)===_0x22e776[_0x2bcbbd(0x550)],_0x139bdd=!_0x50f805&&_0x15a37a[_0x2bcbbd(0x4e1)]>_0x15a37a['upper_group_count'];return'<tr\x20class=\x22'+(_0x50f805?_0x2bcbbd(0x6e6):'')+_0x2bcbbd(0x3f3)+(_0x50f805?'✔\x20':'')+_0x15a37a[_0x2bcbbd(0x228)]+_0x2bcbbd(0x46f)+_0x15a37a[_0x2bcbbd(0x716)]+_0x2bcbbd(0x46f)+_0x15a37a[_0x2bcbbd(0x4e1)]+'\x20'+(_0x139bdd?'👍':'')+_0x2bcbbd(0x46f)+_0x15a37a['total']+_0x2bcbbd(0x3db);})[_0x28dcc9(0x3a2)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x4dba82='';_0x14cbf8&&_0x14cbf8[_0x28dcc9(0x76c)]&&(_0x4dba82=_0x28dcc9(0x2be)+_0x14cbf8[_0x28dcc9(0x76c)][_0x28dcc9(0x97d)]+_0x28dcc9(0x946)+_0x14cbf8[_0x28dcc9(0x76c)]['map'](_0x52ba67=>_0x28dcc9(0x952)+(_0x52ba67[_0x28dcc9(0x8d1)]?_0x28dcc9(0x1ff):_0x28dcc9(0x82d))+'\x20'+_0x52ba67[_0x28dcc9(0x5a3)]+_0x28dcc9(0x7bd))[_0x28dcc9(0x3a2)]('')+_0x28dcc9(0x611)+_0x14cbf8[_0x28dcc9(0x7b0)][_0x28dcc9(0x97d)]+_0x28dcc9(0x946)+_0x14cbf8['lowerGroupResponders'][_0x28dcc9(0x1e7)](_0x45f012=>_0x28dcc9(0x952)+(_0x45f012['isCorrect']?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x28dcc9(0x82d))+'\x20'+_0x45f012['name']+_0x28dcc9(0x7bd))[_0x28dcc9(0x3a2)]('')+_0x28dcc9(0x89b)),_0x462bd4+=_0x28dcc9(0x3f9)+(_0x58980f+0x1)+':\x20'+_0x3868d5+_0x28dcc9(0x7ff)+_0x4a925b+_0x28dcc9(0x3f1)+_0x3868d5+_0x28dcc9(0x6d0)+_0xe314b9+_0x28dcc9(0x5c9)+_0x58cb24['length']+_0x28dcc9(0x848)+_0xdb632[_0x28dcc9(0x2b4)](0x0)+_0x28dcc9(0x201)+_0x4b3c38[_0x28dcc9(0x97d)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x4b3c38[_0x28dcc9(0x97d)]>0x0?_0x4b3c38[_0x28dcc9(0x3a2)](',\x20'):_0x28dcc9(0x1df))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x49d45e[_0x28dcc9(0x97d)]+_0x28dcc9(0x63a)+(_0x49d45e['length']>0x0?_0x49d45e['join'](',\x20'):_0x28dcc9(0x1df))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x233d7d[_0x28dcc9(0x97d)]+_0x28dcc9(0x63a)+(_0x233d7d[_0x28dcc9(0x97d)]>0x0?_0x233d7d[_0x28dcc9(0x3a2)](',\x20'):_0x28dcc9(0x1df))+_0x28dcc9(0x81a)+_0xe36adc+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4dba82+_0x28dcc9(0x53f);}),_0x3671cf[_0x344d5a(0x9a4)]=_0x3d7fec+_0x462bd4;try{window['MathJax']&&MathJax[_0x344d5a(0x4af)]&&MathJax[_0x344d5a(0x4af)]([_0x3671cf]);}catch(_0x57ef6d){console['error'](_0x344d5a(0x6a5),_0x57ef6d);}}function calculateDistractorAnalysis(_0x6983e3,_0x312e0c){const _0x3d9e8c=_0x2626e0,_0x22b73e={};if(_0x312e0c[_0x3d9e8c(0x97d)]<0x2)return _0x22b73e;const _0x5d4e30=[..._0x312e0c][_0x3d9e8c(0x2f3)]((_0x2de806,_0x5a2e73)=>{const _0x56bd02=_0x3d9e8c,_0x3d7943=_0x5a2e73[_0x56bd02(0x23a)]-_0x2de806['latestScore'];if(_0x3d7943!==0x0)return _0x3d7943;const _0x5067d1=_0x2de806[_0x56bd02(0x1b3)]?.[_0x56bd02(0x97d)]||0x1,_0xb6f0d=_0x5a2e73[_0x56bd02(0x1b3)]?.['length']||0x1,_0x357cf6=_0x5067d1-_0xb6f0d;if(_0x357cf6!==0x0)return _0x357cf6;const _0x2e8285=new Date(_0x2de806[_0x56bd02(0x77b)]),_0x3b9792=new Date(_0x5a2e73[_0x56bd02(0x77b)]),_0x1c1b11=_0x2e8285-_0x3b9792;if(_0x1c1b11!==0x0)return _0x1c1b11;return _0x2de806['studentName'][_0x56bd02(0x483)](_0x5a2e73[_0x56bd02(0x49f)],'th');}),_0x15420a=_0x5d4e30[_0x3d9e8c(0x97d)],_0x304ce6=Math['max'](0x1,Math[_0x3d9e8c(0x879)](_0x15420a*0.33)),_0x5097f=_0x5d4e30[_0x3d9e8c(0x1a2)](0x0,_0x304ce6),_0x5cdc03=_0x5d4e30['slice'](-_0x304ce6);return _0x6983e3[_0x3d9e8c(0x9a5)]['forEach']((_0x26b8c6,_0x352bad)=>{const _0xe1c9ad=_0x3d9e8c;if(_0x26b8c6['questionType']!==_0xe1c9ad(0x280)||!_0x26b8c6[_0xe1c9ad(0x95b)])return;const _0x5b1c62=_0x26b8c6[_0xe1c9ad(0x846)],_0x350988={};_0x26b8c6[_0xe1c9ad(0x95b)][_0xe1c9ad(0x2fb)]((_0x429dc4,_0x5934bb)=>{_0x350988[_0x5934bb]={'text':_0x429dc4,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x5d4e30[_0xe1c9ad(0x2fb)](_0x1e4237=>{const _0x552e66=_0xe1c9ad,_0x5130ec=_0x1e4237[_0x552e66(0x1b3)][_0x1e4237[_0x552e66(0x1b3)][_0x552e66(0x97d)]-0x1],_0x3c3b22=_0x5130ec[_0x552e66(0x653)][_0x552e66(0x645)](_0x3ab269=>_0x3ab269[_0x552e66(0x24c)]===_0x5b1c62);if(_0x3c3b22&&_0x3c3b22[_0x552e66(0x5d5)]!==null){const _0x3303dd=_0x26b8c6[_0x552e66(0x95b)][_0x552e66(0x52e)](_0x4dce16=>_0x4dce16===_0x3c3b22[_0x552e66(0x25a)]);_0x3303dd!==-0x1&&_0x350988[_0x3303dd]&&(_0x350988[_0x3303dd]['total']++,_0x5097f[_0x552e66(0x777)](_0x1e4237)&&_0x350988[_0x3303dd][_0x552e66(0x716)]++,_0x5cdc03[_0x552e66(0x777)](_0x1e4237)&&_0x350988[_0x3303dd][_0x552e66(0x4e1)]++);}}),_0x22b73e[_0x352bad]=_0x350988;}),_0x22b73e;}function calculateReliabilityKR20(_0x1440b4,_0x22379b,_0x22701c){const _0x5dca51=_0x2626e0,_0x491a53=_0x1440b4['questions'][_0x5dca51(0x97d)];if(_0x491a53<0x2||_0x22379b[_0x5dca51(0x97d)]<0x2)return null;const _0x34bf48=_0x22379b['map'](_0x40b557=>_0x40b557['latestScore']),_0x1605b8=_0x34bf48[_0x5dca51(0x815)]((_0x5dfac1,_0x27f032)=>_0x5dfac1+_0x27f032,0x0)/_0x34bf48[_0x5dca51(0x97d)],_0x3a264b=_0x34bf48[_0x5dca51(0x1e7)](_0x373e27=>Math[_0x5dca51(0x638)](_0x373e27-_0x1605b8,0x2))[_0x5dca51(0x815)]((_0x3cdc85,_0x2df621)=>_0x3cdc85+_0x2df621,0x0)/_0x34bf48[_0x5dca51(0x97d)];if(_0x3a264b===0x0)return null;let _0x436e5f=0x0;for(let _0x259dad=0x0;_0x259dad<_0x491a53;_0x259dad++){const _0x1646db=_0x22701c[_0x259dad]?.['p'];if(_0x1646db===undefined)continue;const _0x1660e4=0x1-_0x1646db;_0x436e5f+=_0x1646db*_0x1660e4;}if(_0x436e5f===0x0)return null;const _0x8f6a95=_0x491a53/(_0x491a53-0x1)*(0x1-_0x436e5f/_0x3a264b);if(_0x8f6a95>0x1)return null;return _0x8f6a95;}async function handleAnalyzeClass(){const _0x11ee67=_0x2626e0;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x11ee67(0x68b));return;}const _0x27391c=collection(db,_0x11ee67(0x495)+appId+_0x11ee67(0x72e)+currentQuizData['id']+_0x11ee67(0x386)),_0x31baa7=await getDocs(_0x27391c),_0x18d93b=_0x31baa7['docs'][_0x11ee67(0x1e7)](_0x4355a3=>_0x4355a3[_0x11ee67(0x26b)]());if(_0x18d93b[_0x11ee67(0x97d)]<0x2){showMessage(_0x11ee67(0x95e));return;}const _0xd08c37=document[_0x11ee67(0x87d)](_0x11ee67(0x786));_0xd08c37[_0x11ee67(0x9a4)]=_0x11ee67(0x770),document[_0x11ee67(0x87d)](_0x11ee67(0x3b6))['disabled']=!![];const _0x18ade7=_0x18d93b[_0x11ee67(0x1e7)]((_0x50c43c,_0x3a2559)=>{const _0x52351c=_0x11ee67,_0x1af8b7=_0x50c43c[_0x52351c(0x1b3)][_0x50c43c[_0x52351c(0x1b3)][_0x52351c(0x97d)]-0x1];if(!_0x1af8b7)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x3a2559+0x1)+'\x20('+_0x50c43c[_0x52351c(0x49f)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x1af8b7[_0x52351c(0x67b)]+'/'+_0x50c43c['totalQuestions']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON[_0x52351c(0x6d8)](_0x1af8b7[_0x52351c(0x653)])+_0x52351c(0x89f);})[_0x11ee67(0x3a2)](_0x11ee67(0x886)),_0x5c6b43=_0x11ee67(0x643)+currentQuizData[_0x11ee67(0x6b9)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON[_0x11ee67(0x6d8)](currentQuizData[_0x11ee67(0x9a5)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18ade7+_0x11ee67(0x8c0),_0x10ac47={'type':_0x11ee67(0x24e),'properties':{'classStrengths':{'type':'ARRAY','items':{'type':'STRING'}},'classWeaknesses':{'type':_0x11ee67(0x44a),'items':{'type':_0x11ee67(0x61d)}},'teacherSuggestions':{'type':_0x11ee67(0x44a),'items':{'type':_0x11ee67(0x61d)}}},'required':['classStrengths',_0x11ee67(0x4ea),_0x11ee67(0x3f4)]};try{const _0x47abe6=await callAnalysisApi(_0x5c6b43,_0x10ac47);displayClassAnalysis(_0x47abe6);}catch(_0x1f3999){console[_0x11ee67(0x670)](_0x11ee67(0x6f5),_0x1f3999),_0xd08c37['innerHTML']=_0x11ee67(0x927)+_0x1f3999[_0x11ee67(0x69d)]+_0x11ee67(0x936);}finally{document[_0x11ee67(0x87d)](_0x11ee67(0x3b6))[_0x11ee67(0x500)]=![];}}function displayClassAnalysis(_0x1d85d6){const _0x4908e4=_0x2626e0,_0xe84ffb=document[_0x4908e4(0x87d)]('strength-weakness-analysis-container');if(!_0x1d85d6){_0xe84ffb[_0x4908e4(0x9a4)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0xe84ffb[_0x4908e4(0x9a4)]=_0x4908e4(0x19b)+_0x1d85d6[_0x4908e4(0x2ac)][_0x4908e4(0x1e7)](_0x42787d=>_0x4908e4(0x952)+_0x42787d+'</li>')[_0x4908e4(0x3a2)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1d85d6[_0x4908e4(0x4ea)][_0x4908e4(0x1e7)](_0x2b5e60=>_0x4908e4(0x952)+_0x2b5e60+_0x4908e4(0x7bd))[_0x4908e4(0x3a2)]('')+_0x4908e4(0x1c6)+_0x1d85d6[_0x4908e4(0x3f4)][_0x4908e4(0x1e7)](_0xbfcbec=>'<li>'+_0xbfcbec+'</li>')['join']('')+_0x4908e4(0x8ca);}function formatAndPrintWorksheet(_0x1b4567,_0x5a2541){const _0x300b8f=_0x2626e0,_0x4cf550=_0x300b8f(0x479)+_0x1b4567[_0x300b8f(0x6b9)]+_0x300b8f(0x913)+_0x1b4567[_0x300b8f(0x6b9)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b4567['questions']['map']((_0x5342cd,_0x330137)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x330137+0x1)+'.\x20'+_0x5342cd[_0x300b8f(0x846)]+_0x300b8f(0x97c)+(_0x5342cd['imageCode']?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x5342cd['imageCode']+_0x300b8f(0x622):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x300b8f(0x3a2)]('')+_0x300b8f(0x41e);_0x5a2541[_0x300b8f(0x6f9)][_0x300b8f(0x969)](_0x4cf550),_0x5a2541['document'][_0x300b8f(0x8c8)](),_0x5a2541[_0x300b8f(0x528)]=function(){setTimeout(()=>{const _0x55b986=_0x5e36;_0x5a2541[_0x55b986(0x8e9)]();},0x3e8);};}async function generateWorksheet(){const _0x5b6660=_0x2626e0,_0x822ba5=document[_0x5b6660(0x87d)](_0x5b6660(0x828))[_0x5b6660(0x810)][_0x5b6660(0x4ca)]();if(!_0x822ba5){showMessage(_0x5b6660(0x21f));return;}const _0x58cb32=document[_0x5b6660(0x87d)](_0x5b6660(0x839))[_0x5b6660(0x1e0)],_0x2b7063=_0x58cb32?'':_0x5b6660(0x23b),_0x2d1baf=window[_0x5b6660(0x578)]('',_0x5b6660(0x692));_0x2d1baf[_0x5b6660(0x6f9)]['write']('<h1></h1>');const _0x392817=parseInt(document['getElementById'](_0x5b6660(0x8fe))[_0x5b6660(0x810)]),_0x46af25=document[_0x5b6660(0x87d)](_0x5b6660(0x40a))['checked'],_0x23b819=_0x46af25?_0x5b6660(0x233):'',_0x159eb1=_0x5b6660(0x557)+_0x2b7063+_0x5b6660(0x953)+_0x392817+_0x5b6660(0x48b)+_0x822ba5+_0x5b6660(0x933)+_0x23b819+_0x5b6660(0x6e0)+simpleMathPrompt+_0x5b6660(0x869),_0x182b06={'type':_0x5b6660(0x24e),'properties':{'topic':{'type':_0x5b6660(0x61d)},'questions':{'type':_0x5b6660(0x44a),'items':{'type':_0x5b6660(0x24e),'properties':{'questionText':{'type':_0x5b6660(0x61d)},'imageCode':{'type':_0x5b6660(0x61d)}},'required':['questionText']}}},'required':[_0x5b6660(0x6b9),_0x5b6660(0x9a5)]};document['getElementById'](_0x5b6660(0x546))[_0x5b6660(0x573)]='',document[_0x5b6660(0x87d)](_0x5b6660(0x8ee))['classList'][_0x5b6660(0x594)](_0x5b6660(0x250)),document[_0x5b6660(0x87d)](_0x5b6660(0x860))[_0x5b6660(0x1a0)][_0x5b6660(0x594)](_0x5b6660(0x250)),generateWorksheetBtn[_0x5b6660(0x500)]=!![];try{const _0x30aa00=await callAnalysisApi(_0x159eb1,_0x182b06);formatAndPrintWorksheet(_0x30aa00,_0x2d1baf);}catch(_0x49b7e2){console[_0x5b6660(0x670)]('Error\x20generating\x20worksheet:',_0x49b7e2);if(_0x2d1baf)_0x2d1baf['close']();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document[_0x5b6660(0x87d)](_0x5b6660(0x8ee))['classList'][_0x5b6660(0x368)](_0x5b6660(0x250)),document[_0x5b6660(0x87d)](_0x5b6660(0x860))['classList'][_0x5b6660(0x368)]('hidden'),generateWorksheetBtn[_0x5b6660(0x500)]=![];}}async function callAnalysisApi(_0x187d40,_0x16c886){const _0x2e15fd=_0x2626e0,_0x314ed4={'contents':[{'role':_0x2e15fd(0x34b),'parts':[{'text':_0x187d40}]}],'generationConfig':{'responseMimeType':_0x2e15fd(0x36a),'responseSchema':_0x16c886}},_0x3b23b0='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x4a293c='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x3b23b0,_0x136f48=await fetch(_0x4a293c,{'method':_0x2e15fd(0x481),'headers':{'Content-Type':'application/json'},'body':JSON[_0x2e15fd(0x6d8)](_0x314ed4)});if(!_0x136f48['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x136f48[_0x2e15fd(0x2fc)]);const _0x38e2ee=await _0x136f48[_0x2e15fd(0x6aa)]();if(_0x38e2ee[_0x2e15fd(0x42b)]?.[0x0]?.[_0x2e15fd(0x921)]?.[_0x2e15fd(0x1fa)]?.[0x0])return JSON[_0x2e15fd(0x418)](_0x38e2ee[_0x2e15fd(0x42b)][0x0][_0x2e15fd(0x921)][_0x2e15fd(0x1fa)][0x0]['text']);else{let _0x19770f=_0x2e15fd(0x8fc);if(_0x38e2ee['promptFeedback']?.['blockReason'])_0x19770f=_0x2e15fd(0x1e6)+_0x38e2ee[_0x2e15fd(0x2bb)]['blockReason']+'.';else _0x38e2ee[_0x2e15fd(0x42b)]?.[0x0]?.[_0x2e15fd(0x93b)]&&_0x38e2ee[_0x2e15fd(0x42b)][0x0][_0x2e15fd(0x93b)]!=='STOP'&&(_0x19770f=_0x2e15fd(0x2b9)+_0x38e2ee[_0x2e15fd(0x42b)][0x0]['finishReason']+'.');console[_0x2e15fd(0x670)](_0x19770f,JSON['stringify'](_0x38e2ee));throw new Error(_0x19770f);}}initialize();
