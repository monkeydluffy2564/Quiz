const _0x101354=_0x40e1;(function(_0x40b9f4,_0x3e3949){const _0x46bdee=_0x40e1,_0x3bdcb1=_0x40b9f4();while(!![]){try{const _0x4a35a8=parseInt(_0x46bdee(0x181))/0x1+parseInt(_0x46bdee(0x1ae))/0x2+parseInt(_0x46bdee(0x42a))/0x3+parseInt(_0x46bdee(0x38d))/0x4*(-parseInt(_0x46bdee(0x188))/0x5)+parseInt(_0x46bdee(0x452))/0x6*(parseInt(_0x46bdee(0x599))/0x7)+-parseInt(_0x46bdee(0x6aa))/0x8+-parseInt(_0x46bdee(0x548))/0x9;if(_0x4a35a8===_0x3e3949)break;else _0x3bdcb1['push'](_0x3bdcb1['shift']());}catch(_0x4ec40c){_0x3bdcb1['push'](_0x3bdcb1['shift']());}}}(_0x1535,0xf3f55));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;function _0x1535(){const _0x5454e6=['value','save-settings-btn','block','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','เกิดข้อผิดพลาดในการสร้างใบงาน','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','#F3E8FF','\x20หัวข้อ)','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','list','showImproveButton','autoTable','pinned-items','bg-green-100\x20font-bold','from','lower_group_count','ความคล้ายของรูป','สมมาตร\x20(แกน/จุด)','replace','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','next-question-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','project-sort-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-search-input','practiceProblems','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','loader','quiz-schedule-end-container','rename-quiz-input','answeredCurrentQuestion','ทฤษฎีบทพื้นฐานของแคลคูลัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Authentication\x20failed:','/studentProfiles','[*]','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bg-yellow-100','QUICK_THINKER','cancel-move-quiz-btn','auto','FIRST_TRY_ACE','.unpair-quiz-btn','ค่าเฉลี่ย','$1\x5cfrac','บันทึกการตั้งค่าแล้ว','button[data-id]','no-projects-msg','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','admin-testing','results-quiz-title','Error\x20saving\x20quiz:','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','บันทึกการตั้งค่าสำเร็จ','กำลังวิเคราะห์ข้อสอบ\x20\x22','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','text-red-700','STOP','Invalid\x20response\x20structure\x20from\x20AI.','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','lesson-plan-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','สามเหลี่ยม\x20(ชนิด/สมบัติ)','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','เปิดใช้งาน','Error\x20listening\x20for\x20projects:','pre-test-checkbox','hasOwnProperty','</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','.delete-custom-topic-btn','player-count','องค์ประกอบของฟังก์ชัน','selected-topics-count','beforeend','เปิด\x20(จับเวลา)','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','parallel-test-upload-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','progress-project-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','modal-results-display-select','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','Leaderboard\x20update\x20transaction\x20failed:\x20','_opt0\x22\x20name=\x22question','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','ไม่พบแบบทดสอบในระบบเลย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20parallel\x20test\x20from\x20bank:','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','text-gray-300\x20hover:text-white','ค่าสัมบูรณ์','\x22\x5cn','ค.ร.น.\x20(LCM)','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','\x20(p=','Error\x20loading\x20quiz\x20for\x20student:','#E5E7EB','</div>','#F59E0B','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','สอบซ่อม','practice-topic-btn','multiple_choice','\x5ccdot','\x20จาก\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การกระจายและการจัดหมู่','#per-question-options\x20textarea','rgba(79,\x2070,\x20229,\x201)','docs','cancel-passcode-btn','text-emerald-900','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','approx','cancel-delete-btn','<div><input\x20type=\x22radio\x22\x20id=\x22q','viewBox','comparison','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','</p><p><strong>เฉลย:</strong>\x20','(ก่อนเรียน)','message','.csv','both','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bg-amber-100\x20text-amber-800','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','short_answer','lowerGroupResponders','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20during\x20class\x20analysis:','แคลคูลัสเบื้องต้น','กำลังจับคู่...','student-passcode-input','text-green-800','modal-timer-duration-label','offset','^{\x5ccirc}\x5ctext{C}$','.question-editor-item[data-q-index=\x22','submission-status-chart','perseverance','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้ของเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนดสำคัญ:\x20สำหรับแต่ละข้อที่สร้าง\x20จะต้องมีข้อมูลต่อไปนี้ให้ครบถ้วนเสมอ:\x20questionText\x20(สำหรับโจทย์),\x20questionType,\x20options\x20(กรณีปรนัย),\x20correctAnswerIndex\x20(กรณีปรนัย),\x20idealAnswer\x20(กรณีเติมคำ),\x20และ\x20explanation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perQuestionStats','admin-action-buttons','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','disabled','(ไม่มีชื่อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','upperGroupNames','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','destroy','fa-pen','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','Error\x20deleting\x20quiz:','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20student\x20rankings:','\x22\x20class=\x22delete-project-btn\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','\x5cdiv','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x22\x20data-q-type=\x22','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','ฟังก์ชันราก\x20(root)','text-red-700\x20bg-red-100','/submissions','#retake-for-improvement-btn','Error\x20generating\x20from\x20parallel\x20test\x20file:','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','totalPoints','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pin-project-btn','bg-red-500','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-delete-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','promptFeedback','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','/questionBank','topic-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-overall-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','back-to-student-initial-btn','จากเนื้อหาต่อไปนี้:\x20\x22','กรุณาเลือกคำตอบก่อนครับ','classList','border-4','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','Error\x20showing\x20quiz\x20detail\x20view:','textContent','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','test','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','mousemove','แผนการสอน','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','student-progress-view','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','stringify','%</span>','สมการเชิงเส้นตัวแปรเดียว','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</span></td>','first_try_ace','\x20/\x20','<option\x20value=\x22\x22>กำลังโหลด...</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','การคูณทศนิยม','has','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','การวัด','Error\x20listening\x20for\x20student\x20profiles:','totalQuestions','live-game-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isRemedial','(ก่อนเรียน)\x20','Error\x20updating\x20quiz\x20status:','ปรับเพิ่ม/ลดเป็นร้อยละ','\x22...','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','allResponses','rgba(59,\x20130,\x20246,\x200.7)','Error\x20adding\x20students:','answerText','className','ค่าเสื่อมราคา','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอ่านไฟล์','student-join-game-view','cancel-quiz-bank-btn','pow','ไม่พบข้อมูลแบบทดสอบ','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#math-topics-checkbox-container\x20input:checked','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','typesetPromise','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','</span></p>','student-quiz-topic','เกิดข้อผิดพลาดในการลบนักเรียน','.topic-row','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','quiz-search-input','.delete-student-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-status-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','delete-svg-btn','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20comparing\x20results:','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','การคูณเศษส่วน','show-in-student-dashboard-checkbox','#FFFFFF','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','save-quiz-edits-btn','insertAdjacentHTML','1351430Hxfhkw','จัดการ','save','NUMBER','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','start-game-btn','getElementById','10EsqpQp','answer-counter','fas\x20fa-user-edit','add-student-btn','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','quiz-status-options','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','contains','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','then','question','editable-quiz-topic','/public/data/customMathTopics','fas\x20fa-star\x20text-yellow-500','timer-duration-label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความเป็นอิสระของเหตุการณ์','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','mjx-container','per_question','\x22\x20สำเร็จ','เกิดข้อผิดพลาดในการสร้างห้องเกม','export-leaderboard-excel-btn','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','รากที่สองและที่สาม','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-password-input','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','</p><div>','<li>','418044slTgxV','topic-input','circ','สมการเหตุผล\x20(rational)','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','ดูสรุปผล','</p></div>','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','hint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20processing\x20file\x20for\x20AI:','text-green-900','OBJECT','name_desc','bg-gray-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','correctAnswerIndex','bg-green-500','สร้างคำถามแบบเติมคำในช่องว่าง','.rename-quiz-btn','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','manage','leaderboard_','generate-from-text-btn','left','(^|[^\x5c\x5c])\x5cb','คำถามถัดไป','some','ส่งแล้ว','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','.quiz-status-btn','แก้ระบบสมการด้วยเมทริกซ์','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','passcode-error-msg','comparison-individual-tab','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-upload-input','closest','.project-card-container[data-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answer-grid-container','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','POST','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<div\x20class=\x22space-y-4\x22>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bg-purple-50','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','latestScore','target','prod','\x22>ไม่ใช่</p>','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</option>','.sort-indicator','lesson-plan-title','inactive','การเรียงสับเปลี่ยน\x20(Permutation)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','hidden','Firebase\x20initialization\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','back-to-project-btn','width','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','line-through\x20text-red-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pairedQuizId','\x5ctimes','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','Copy\x20command\x20failed','tfrac','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','status','Error\x20creating\x20project:','จับคู่เพื่อเปรียบเทียบผล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','whole_quiz','เรขาคณิตวิเคราะห์','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','\x20pointer-events-none\x22>','<div\x20class=\x22my-2\x22>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','<option\x20value=\x22','strength-weakness-analysis-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','question-complexity-select','ไม่มี','bg-blue-100','bank-tab','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','catch','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','height','quizMode','analytics-summary-cards','generated-quiz-container','slide-counter','\x5cfrac','bottom','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','isStarred','modal-close-btn','Enter','กรุณาเลือกโปรเจคที่ต้องการบันทึก','project-detail','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','opacity-50','<i\x20class=\x22fas\x20fa-save\x22></i>','scores','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','ศูนย์','เกิดข้อผิดพลาดในการลบหัวข้อ','ควรปรับปรุง','Error\x20generating\x20from\x20link:','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.answer-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','backgroundColor','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','nickname-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','.admin-try-quiz-list-btn','bg-white/30','cancel-create-project-btn','suggestedAnswer','scrollY','COMEBACK_KING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22question_single\x22]:checked','Error\x20unpairing\x20quizzes:','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','far\x20fa-star','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-green-200\x20text-green-800','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','การยืนยันตัวตนล้มเหลว','webkitExitFullscreen','earned-badges-container','confirm-rename-quiz-btn','.topic-actions-view','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quizId','worksheet-tab','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>จาก:\x20','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','exitFullscreen','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','/preferences/main','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','math-topic-search-input','file-topic-input','Error\x20saving\x20user\x20preference:','<div\x20class=\x22flex-1\x22></div>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correctAnswer','ai-quiz-generator-v3','abs','badgesCount','quiz-editor-questions-container','progress-student-select','solution','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cs*\x5c(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','isCorrect','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','start-presentation-btn','raw','ตัวแปรและนิพจน์','text-red-300\x20hover:text-red-100','pinnedProjects','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','คำตอบผิด','.topic-name-display','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','passingScore','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x22\x20value=\x22false\x22\x20','projectOrder','border-green-700','print','.save-custom-topic-btn','clientX','mouseleave','</span></div>','<p><strong>คำตอบของคุณ:</strong>\x20','Error\x20verifying\x20answers:','พบข้อสอบ\x20','ดอทโปรดักต์\x20(dot)','live-submit-short-answer-btn','พิมพ์ตอบ','overallGroups','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','comparison-chart','เงินงวด\x20(อนุกรมเงินงวด)','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','sin','ก่อนเรียน','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cursor','กำลังดึงข้อมูลจากลิงก์...','generate-worksheet-btn','quiz-results','mode-switcher-btn','flex','<span\x20title=\x22','ตรวจทานเฉลยเสร็จสิ้น!','หน่วยเวลาและการคำนวณเวลา','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','click','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','ไม่พบข้อมูลการจับคู่','string','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','quizType','text-purple-600','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','analyze-strengths-btn','color','รีเซ็ตลำดับโปรเจคแล้ว','text-green-600','passcode','การแจกแจงทวินาม\x20(พื้นฐาน)','learningGaps','.quiz-bank-try-btn','modal-shuffle-select','manage-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','isPinned','admin-dashboard','medium','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','standardTopic','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','btn','ชื่อหัวข้อห้ามว่าง','_opt1\x22>ไม่ใช่</label></div>','ไม่สามารถโหลดรายการโปรเจคได้','.topic-actions-edit','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','close-lesson-plan-modal-footer-btn','</div><div\x20class=\x22space-y-2\x22>','ย้ายแบบทดสอบไปโปรเจคอื่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','\x5cpm','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','specialist','Error\x20generating\x20quiz:','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','indexOf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','<tr><td\x20colspan=\x22','save-visibility-settings-btn','input[name=\x22status-option\x22]:checked','confirm-create-project-btn','การลบทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','คัดลอกไม่สำเร็จ','text-green-600\x20font-bold','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quiz-settings-modal','border-red-700','teachingContent','perfect_score_status','):\x20','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','text-gray-200','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','เลือกโปรเจคเพื่อบันทึก','text-red-600','isArray','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','open','quiz-end-time','bestScore','questionText','error','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','<div\x20class=\x22','</td></tr>','retake-quiz-loop-btn','ตรีโกณมิติ','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','.copy-quiz-id-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','blueprint-input-area','อัปเดตสถานะสำเร็จ','true_false','quiz-leaderboard-table-container','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','behaviorLog','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','leaderboard','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-bank-modal','แบบทดสอบจากคลังส่วนตัว','สร้างแบบทดสอบ','project-passcode-input','รูปสี่เหลี่ยมและสมบัติ','เกิดข้อผิดพลาดในการโหลดโปรเจค','\x20\x20\x20-\x20','parts','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quiz-leaderboard-table-body','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','modal-passing-score-input','link-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','warn','\x20ข้อ\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','custom-math-topic-input','close-student-rankings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','reference-pdf-upload','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','MathJax\x20typeset\x20error\x20(analytics):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-list','rgba(79,\x2070,\x20229,\x200.8)','ย้าย','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','post-test','FileReader\x20error:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','verify-answers-btn','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','กำลังสร้างคำถามข้อ\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','random','quiz-leaderboard-table','modal-message','อสมการค่าสัมบูรณ์','#DBEAFE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','อัตราการเปลี่ยนแปลงทันที','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','student-project-leaderboard-tab','มัธยฐาน','projectName','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','live-game','.topic-category','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','ลำดับการดำเนินการ\x20(PEMDAS)','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','$1\x5ctext(','ความน่าจะเป็นแบบมีเงื่อนไข','.topic-name-input','check-answer-btn','ระบบอสมการ','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','[data-is-correct=\x22true\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','scrollX','href','timer-duration-input','กฎบวกและกฎคูณ','text-indigo-800','parse','มุมและการวัดมุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','bank-quiz-list','back-to-student-home-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setAttribute','ความคาดหมาย\x20(Expected\x20value)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','removeChild','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','getScreenCTM','projectView','touchstart','.cancel-edit-topic-btn','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','projectSort','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','<div\x20class=\x22answer-space\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','forEach','appendChild','getPage','\x20ใหม่...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','podium','confirm-move-quiz-btn','fas\x20fa-bookmark','numPages','lowerGroupNames','behavior-log-tab-btn','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','bg-blue-100\x20text-blue-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','download','now','push','visibilitychange','questions','#FEE2E2','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','พาราโบลา','lastAnswerCorrect','onerror','$1\x5ctext{','prev-question-btn','touchcancel','ตั้งเวลา\x20(เปิด)','เกมสิ้นสุดลงแล้ว','สมการค่าสัมบูรณ์','</button>','confirm-global-live-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','.edit-quiz-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','toFixed','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','quiz-editor-modal','studentName','json','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','กรุณาเลือกสถานะ','\x20คะแนน','ตรวจพบการออกจากโหมดเต็มหน้าจอครบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','2347252QYbkVK','set','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','floor','ตัวประกอบและตัวประกอบเฉพาะ','มุมพิเศษ\x2030°-60°-90°','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','-tab','submissions','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','querySelector','instructions','matching','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','scheduled','dashboardConfig','createElement','[data-topic-container-id]','ตอบถูกทุกข้อในแบบทดสอบนี้','Failed\x20to\x20get\x20hint:','ความชันและเส้นตรง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ai-quiz-app-aefee.firebaseapp.com','เกิดข้อผิดพลาดในการเข้าร่วมเกม','.presentation-option','timer-duration-container','none','correctResponse','svg','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','/users/','</li>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','text-yellow-300','ไม่ได้ตอบ','ยังไม่มีนักเรียนส่งงาน','ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-red-200\x20text-red-800','quiz-status-modal','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการแก้ไข','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','ฟังก์ชันเชิงเส้นและกราฟ','timer-mode-select','include-images-checkbox','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','desc','\x22\x20data-name=\x22','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','cancel-test-btn','text-indigo-600','quiz-bank-count','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','confirm-quiz-settings-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หลังเรียน','คณิตการเงิน/บูรณาการ','imageCode','ท็อปฟอร์ม','editor-quiz-topic','per-question-options','Error\x20loading\x20user\x20preferences:','fromCharCode','text-input-area','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','admin-view','num-questions','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','live-short-answer-input','</tbody></table></div>','fullscreenchange','#view-rankings-btn','adaptive-quiz-checkbox','-tab-content','readAsDataURL','ไม่พบข้อมูลผู้ใช้','Error\x20generating\x20lesson\x20plan:','[role=\x22textbox\x22]','q-explanation-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','.color-palette-btn','topic-input-area','\x22\x20name=\x22drill_answer\x22\x20value=\x22','onchange','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','element','อัตราส่วนและสัดส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','underline','<div\x20id=\x22q-image-container-','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','topic','quiz-start-time','สอบปกติ','ON_FIRE','num-choices-container','after','pre-test','ส่วนเบี่ยงเบนมาตรฐาน','การหาร','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.save-to-bank-btn','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','ฟังก์ชันสัมพัทธ์\x20(rational)','focus','ลบแบบทดสอบสำเร็จแล้ว','date_asc','พื้นที่ผิวรูปทรงสามมิติ','#student-project-leaderboard-content\x20thead','bg-green-100','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','offsetWidth','fill_in_the_blank','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','workerSrc','แก้ไขหัวข้อสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','reset-project-order-btn','preTScore','get','จำนวนและการดำเนินการ','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','firstScore','comparison-individual-content','leaderboard-quiz-tab-content','fullscreenElement','\x0a---\x0a','toISOString','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','export-lesson-pdf-btn','ดีมาก','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','answering','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','modal-adaptive-quiz-checkbox','<span\x20class=\x22sort-indicator\x20ml-2\x22>','กรุณาป้อนรหัสแบบทดสอบ','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','td,\x20th','คำตอบถูกต้อง!\x20+','postTScore','.generate-lesson-btn','startTime','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','AI\x20grading\x20failed:','endTime','Error\x20saving\x20settings:','ทศนิยม\x20(ค่าประจำหลัก)','5778546YDRqMU','admin-password-modal','การนับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-lesson-plan-modal-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','circle','{$1}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','release','generate-from-blueprint-btn','quiz-type-select','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','.ideal-answer-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','blueprint-tab','add','\x20รายการสำเร็จ!','createElementNS','countdown-display','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','display','เกิดข้อผิดพลาดในการบันทึกลำดับ','(หลังเรียน)\x20','<br>','getTextContent','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','getContext','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','table','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','bg-green-100\x20text-green-800','export-image-btn','math-topics-checkbox-container','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','opacity','6PBFnOU','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','เกิดข้อผิดพลาดในการลบแบบทดสอบ','พื้นที่สามเหลี่ยม','<p\x20class=\x22font-bold\x20text-sm\x20','input[type=\x22checkbox\x22]','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','cancel-global-live-btn','schedule','project-title','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','questionDisplayedAt','#ffffff','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>','lesson-plan-content','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','export-leaderboard-word-btn','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','sum','2-digit','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','.png','data:application/vnd.ms-word;charset=utf-8,','application/json','data','AI\x20request\x20was\x20blocked.\x20Reason:\x20','Error\x20deleting\x20custom\x20topic:','ยอดเยี่ยม!','comparison-overall-tab','blockReason','Error\x20generating\x20worksheet:','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','ไม่สามารถเพิ่มนักเรียนได้','delete','rgba(16,\x20185,\x20129,\x200.7)','results','สมการลอการิทึม','close-presentation-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','shuffle-setting-select','max','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','exited_fullscreen','players','\x22\x20name=\x22question_single\x22\x20value=\x22','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','postScore','.project-card-content','quiz-results-view','\x20คู่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','student-name-input','ลบผลสอบของ\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','ไม่พบตารางสำหรับ\x20Export','split','change','preScore','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','/public/data/projects','เปลี่ยนชื่อแบบทดสอบสำเร็จ','toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','กฎของโคไซน์','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','setAttributeNS','text-gray-500','dragover','textarea','รูปแบบการให้เหตุผล','total','\x20\x0a\x20\x20\x20\x20','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','players.','#student-quiz-leaderboard-content\x20thead','Error\x20fetching\x20project\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.sortable-header','scrollIntoView','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','input','request','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','draggable-text','parallel-test-input-area','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','Error\x20duplicating\x20quiz:','trim','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','student-project-leaderboard-content','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ยังไม่ส่ง','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</strong></p>','move-quiz-project-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','ความต่อเนื่อง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','per-question-text','Error\x20regenerating\x20question\x20in\x20editor:','</body></html>','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','title','choices_only','ring-2','cloneNode','text-white','student-result-area','เกิดข้อผิดพลาดในการอัปเดตสถานะ','ฟังก์ชันแบบชิ้นส่วน','คำถามดิบ:\x20\x22','ปริมาตรรูปทรงสามมิติ','map','stem','พอใช้','mousedown','text','revealed','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','show_results_only','slice','quiz-form','ค่าความจริง/ตารางค่าความจริง','font-bold\x20text-green-700','text-gray-700','dataIndex','active','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-shield-alt\x20text-gray-600','อินเวอร์สของเมทริกซ์','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','export-pdf-modal','fill_in_with_choices','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','<textarea\x20name=\x22question','log','global-quiz-search-input','sqrt','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','answer','STRING','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','dispatchEvent','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','กราฟฟังก์ชันตรีโกณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่ใต้กราฟ/ระหว่างกราฟ','สมการราก\x20(radical)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','projectSortOrder','startsWith','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','<p\x20class=\x22','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','onclick','project-passcode-modal','results-display-select','\x5cfrac{$1}{$2}','showRankings','list-view-btn','removeEventListener','Error\x20deleting\x20project:','verify-answers-editor-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x22\x20data-pre-test-id=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','toLocaleDateString','คะแนน','การจัดหมู่\x20(Combination)','รอเปิด','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','style','\x20รายการ...','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','asc','\x5cneq','options','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','geq','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','ไม่ผ่าน','scheduled_pending','questionIndex','category','preventDefault','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.choice-text','numeric','export-leaderboard-image-btn','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','upper_group_count','timestamp','link-topic-input','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','name_asc','modal-timer-mode-select','ข้อต่อไป','-\x20ข้อ\x20','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','copy','dragstart','กรุณาใส่ชื่อใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionStatus','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','input[type=\x22text\x22]','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','ownerSVGElement','project-id-display','show_results_and_answers','พื้นที่สี่เหลี่ยม','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','right','originalTopic','_blank','.quiz-bank-parallel-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','localeCompare','scores-tab-content','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','document','จากไฟล์ที่แนบมานี้,\x20','mouseup','badges','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','แก้ไขข้อนี้','.ql-editor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','correctStreak','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','toString','17703198FiivDu','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','Original\x20quiz\x20not\x20found','คะแนนยังไม่ถึงครึ่ง','เส้นจำนวน','เส้นรอบรูป','latestSubmittedAt','\x20สำเร็จ','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','ข้อ\x20','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','\x0a\x20\x20\x20\x20','การหารเศษส่วน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','promise','1:274192258111:web:4120c9118229b5644dd48a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','<p><strong>คำตอบที่แนะนำ:</strong>\x20','</td>','student-name-selection-view','ระบบเลขและค่าประจำหลัก','onload','thead\x20.sortable-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','index','แบบทดสอบที่ติดดาว','bg-emerald-100','answers','artifacts/','Error\x20updating\x20quiz\x20settings:','export-pdf-btn','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','.lastAnswerCorrect','student-quiz-leaderboard-table-body','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','presentation-slide-container','settings','\x22\x20data-topic=\x22','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','dragend','#results-table\x20thead\x20tr','confirmation-message','\x20mb-2\x22>','starred','mixed','removeAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','.project-card-container.opacity-50','attempts','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','addEventListener','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','font-bold','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','contentEditable','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','position','globalSettings','ไฮเพอร์โบลา','div','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','join','.start-live-race-btn','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','back-to-dashboard-btn','toLocaleString','analytics','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','true','.live-answer-btn','jspdf','5000429rOSwpU','msExitFullscreen','อนุพันธ์:\x20กฎลูกโซ่','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','ai-quiz-app-aefee','afterend','join-live-game-btn','generate-from-parallel-test-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','PERSEVERANCE','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเปลี่ยนสี','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','export-compact-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','#E0E7FF','Error\x20toggling\x20star\x20status:','findIndex','wakeLock','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','passing-score-input','ระยะทางและจุดกึ่งกลาง','deselect-all-topics-btn','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','ดอกเบี้ยอย่างง่าย','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','update','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สู้ๆ\x20ลองอีกครั้งนะ','scores-tab-btn','.move-quiz-btn','view-my-progress-btn','keys','start-quiz-btn','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','back-to-home-manual-release','justification','helvetica','score','):\x20กรุณาอย่าสลับหน้าจอหรือออกจากแอปพลิเคชันระหว่างทำแบบทดสอบ','timerMode','Error\x20deleting\x20submission:','text-yellow-800','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','on_fire','ฐานนิยม','quiz-schedule-start-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','ref','submission','$1^{\x5ccirc}\x5ctext{C}','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','qIndex','<tr\x20class=\x22','default','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','จำนวนคละ','quiz-results-table-body','เส้นตรง:\x20รูปแบบสมการ','quick_thinker','function','สลับไปโหมดนักเรียน','project-detail-view','standard','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','กรุณาป้อนหัวข้อสำหรับใบงาน','exists','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','สร้างชุดคำถามจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','delete-all-students-btn','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','body','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ตรวจคะแนนใหม่\x20','ผ่าน','num-choices','getBBox','quiz-generation-area','ไม่พบแบบทดสอบสำหรับรหัสนี้','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','\x22\x20เพื่อสร้างชุดคู่ขนาน...','min','.duplicate-quiz-btn','Error\x20saving\x20visibility\x20settings:','outerHTML','content','00:00','q-text-','student','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','.project-card-container:not(.opacity-50)','reduce','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันผกผัน','<li\x20class=\x22','isLooping','div[data-question-index=\x22','cancel-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','idealAnswer','isAdaptive','filter','parallel-test-tab','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','การหารทศนิยม','ตารางความถี่','27411472','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกรหัสแล้ว!','originalQuestionText','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','/public/data/quizzes','border-green-300\x20bg-green-50','Error\x20moving\x20quiz:','per-question-timer-container','getAttributeNS','frac','results-table-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[contenteditable=\x22true\x22]','explanation','interesting-stats-wrapper','matching_item','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','input[type=\x22radio\x22]:checked','กำลังอ่านและเตรียมไฟล์...','next-question-timed-btn','ARRAY','บันทึกพฤติกรรมสำหรับ\x20','student-view','</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','แผนการสอน:\x20','students','results-tab-content','arrayBuffer','เกิดข้อผิดพลาดในการบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','grid-view-btn','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','ฟังก์ชันค่าสัมบูรณ์','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','empty','ความชันเส้นสัมผัส','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','undefined','sort','.correct-response-input','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','ปิดใช้งาน','_opt1\x22\x20name=\x22question','global-live-game-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','.edit-question-btn','project-name-input','รูปสแควร์รูท\x20(surd)','ทำคะแนนเต็มในการทำครั้งแรก','.quiz-result-card','fa-rocket\x20text-purple-500','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x5cle','\x20\x20\x20-\x20คำตอบ:\x20','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','touchmove','.draggable-text','หมดเวลาสำหรับข้อนี้!','result','\x5cge','createObjectURL','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','doughnut','key','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','\x20ครั้ง)</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','text-green-700','text-blue-700\x20bg-blue-100','border-red-300\x20bg-red-50','student-list','normal','.live-answer-btn,\x20#live-submit-short-answer-btn','perfect_score','Error\x20saving\x20submission:','loopUntilPass','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','back-from-results-btn','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','projectId','quiz','\x22\x20class=\x22color-palette-btn\x20','กรุณาเลือกไฟล์ก่อน','str','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','quiz-id-input','confirm-join-game-btn','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','เรขาคณิต','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','ตรวจพบการสลับหน้าจอครบ\x20','ลำดับเลขคณิต\x20(AP)','ไม่สามารถบันทึกการตั้งค่าได้','border-green-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','image/png','getBoundingClientRect','toDataURL','bank-input-area','Invalid\x20response\x20structure\x20from\x20AI:','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','กำลังสร้างรูปภาพ...','กราฟแท่ง\x20กราฟเส้น','text/csv;charset=utf-8;','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','gamePin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','match','name','\x22.\x20Ideal\x20Answer:\x20\x22','upperGroupResponders','select-all-topics-btn','presentation-ai-result','presentation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-quiz-tab-btn','274192258111','พีชคณิตและฟังก์ชัน','Error\x20opening\x20quiz\x20editor:','Failed\x20to\x20parse\x20JSON\x20from\x20AI','อนุพันธ์:\x20กฎพื้นฐาน','BOOLEAN','createdAt','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','เกิดข้อผิดพลาดในการติดดาว','innerText','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','find','ระยะเวลา\x20(วินาที):','mean','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','size','$1_{$2}','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','font-bold\x20text-red-700\x20line-through','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','ค่าคลาดเคลื่อนของการวัด','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','.correctStreak','short','bg-green-300','กรุณาเลือกโปรเจคปลายทาง','.question-editor-item','สร้างคำถามแบบใช่/ไม่ใช่','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','ฟังก์ชันยกกำลัง','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','.project-card-container','Error\x20fetching\x20quiz\x20settings:','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','488640MEzjdQ','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','th-TH','touches','เรเดียนและการแปลงหน่วย','text-gray-400\x20hover:text-indigo-600','submittedAt','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','bg-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','\x22,\x20','worksheet-input-area','\x5ctext{$1}','show_pass_fail_only','เลือกและบันทึก','length','lobby','dfrac','MathJax','บันทึกคำถามใหม่\x20','correct','thead','documentElement','ยืนยันการกระทำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','passcode-prompt-message','.start-presentation-list-btn','preTestId','_opt0\x22>ใช่</label></div>','\x22\x20value=\x22true\x22\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','\x20mx-1\x20text-lg\x22></i></span>','generate-from-topic-btn','/public/data/projects/','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','คะแนนเต็ม!','modal-timer-duration-input','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','manual_release','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สลับไปโหมดผู้ควบคุม','shuffle','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','กรุณาวาง\x20URL\x20ของบทความก่อน','neq',',\x20r=','Error\x20updating\x20old\x20quizzes:','_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','candidates','class','เวกเตอร์และเมทริกซ์\x20(เสริม)','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','gain','Error\x20displaying\x20question\x20bank:','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','lessonPlan','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','project-quizzes-list','Error\x20starting\x20live\x20race:','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','score-distribution-chart','icon','student-project-leaderboard-table-body','move-quiz-modal','questionId','.quiz-bank-item','ผู้ควบคุม\x20(ทดสอบ)','visibility_hidden','<span\x20class=\x22font-bold\x20','teacherSuggestions','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','ปริมาตร/ความจุและการแปลง','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','ใช่','files','.compare-results-btn','Error\x20fetching\x20quiz\x20status:','.quiz-bank-present-btn','currentQuestionIndex','text-content-input','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','ไม่ใช่','fill_in_no_choices','targetId','all','Error\x20pairing\x20quizzes:','แบบทดสอบซ่อมเสริม','สรุปผลการวิเคราะห์:\x5cn','การลบ','setFont','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','.regenerate-question-editor-btn','N/A','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','เกี่ยวกับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตราและอัตราหน่วย','ไม่พบโปรเจค','/public/data/quizzes/','.toggle-actions-btn','loop-until-pass-checkbox','ลบหัวข้อสำเร็จ','</span>','/public/data/liveGames','แผนภาพกล่อง\x20(box\x20plot)','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentTarget','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','.pair-quiz-btn','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตัวเลือก.\x20','Error\x20starting\x20game:','คัดลอกแบบทดสอบสำเร็จ','qType','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','commit',';\x22\x20data-id=\x22','editable-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','classStrengths','auto-fix-latex-btn','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','กรุณาเลือกชื่อของคุณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','admin','overline','question-analytics-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','Error\x20deleting\x20student:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','resultsDisplay','text-red-500\x20hover:text-red-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','checked','temp-loader-results','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','ราชาคัมแบ็ก','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','cdot','Error\x20updating\x20project\x20color:','.doc','points','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','baseVal',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','):\x20กรุณาอย่าออกจากโหมดเต็มหน้าจอระหว่างทำแบบทดสอบ','next-live-question-btn','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','substring','analytics-tab-btn','project-dashboard-view','กำลังสแกนหาแบบทดสอบเก่า...','generated-quiz-actions','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','Error\x20updating\x20custom\x20topic:','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','grid','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','label','.\x20แต่ละข้อมี\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','finishReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','fa-fire\x20text-orange-500','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-indigo-400\x20ring-2\x20ring-indigo-200','$1^{\x5ccirc}','ตอบถูก\x203\x20ข้อติดต่อกัน','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','student-quiz-area','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','student-initial-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','.edit-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','repeat','หัวข้อที่สร้างเอง','remove','```json','loader-text','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','update-old-quizzes-btn','leaderboard-table-body','authed_project_','timerDuration','confirmation-modal','tGain','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','ปริพันธ์ไม่จำกัด','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','.export-pdf-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','\x5csqrt{$1}','API\x20call\x20failed\x20with\x20status:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','การบวกเศษส่วน','</p>','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','มุมพิเศษ\x2045°-45°-90°','worksheet-topic-input','results-tab','G-V90KRM0L63','fa-crown\x20text-yellow-500','webkitRequestFullscreen','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text/html','parent','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','ring-purple-400','hint-btn','timer-bar','ฮิสโตแกรม','แบบทดสอบนี้ปิดใช้งานอยู่','flex\x20flex-col\x20gap-2','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','Remedial\x20quiz\x20generation\x20failed:','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','message-modal','.delete-svg-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','คำเตือน\x20(','การสร้างรูปด้วยวงเวียน–สันตรง','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','text-emerald-800','<h1></h1>','PERFECT_SCORE','เกิดข้อผิดพลาดในการปักหมุด','check-presentation-answer-btn','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','ระยะเวลา\x20(นาที):','stopPropagation','entries','</th>','modal-loop-until-pass-checkbox','</tbody></table>','ส่วนเบี่ยงเบนเฉลี่ย','password-error-msg','<option>กำลังโหลดโปรเจค...</option>','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','เพิ่มหัวข้อ\x20\x22','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','cancel-quiz-edits-btn','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','interesting-stats-container','กรุณาใส่ชื่อนักเรียน','สร้างแบบทดสอบปรนัย','ไม่มีคำอธิบาย','input[type=\x22checkbox\x22]:checked','Error\x20updating\x20sort\x20preference:','user-id-display','game-pin-input','/public/data/practiceBank','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','create-from-bank-btn','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','Error\x20rendering\x20student\x20progress:','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดอกเบี้ยทบต้น','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','padStart','ส่งคำตอบ','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','จำนวนข้อ:','Error\x20updating\x20pin\x20status:','ผู้เชี่ยวชาญ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','label[for=\x22num-questions\x22]','ที่พิมพ์ได้\x20จำนวน\x20','\x22>ใช่</p>','clientY','เกิดข้อผิดพลาดในการโหลดสถานะ','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','tan','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.generate-post-test-btn','button[type=\x22submit\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','write','requestFullscreen','cancel-rename-quiz-btn','generate-from-link-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','หน่วยความยาวและการแปลง','force-math-checkbox','</label>\x0a\x20\x20\x20\x20</div>\x0a','querySelectorAll','export-excel-btn','dataset','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','player-list-lobby','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','.badges','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','date_desc','เกิดข้อผิดพลาด:\x20','behavior-log','type','includes','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','\x22\x20class=\x22pin-project-btn\x20','ร้อยละพื้นฐาน','results-table','close','leaderboard-tab-content','Failed\x20to\x20get\x20standardized\x20topic:','open-global-live-btn','.pdf','toLowerCase','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','values','manage-tab-content','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','สถิติและความน่าจะเป็น','open-quiz-bank-btn','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันลอการิทึม','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','bg-red-100\x20text-red-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','ปริพันธ์จำกัด','\x20ชุด)','q-image-container-','ยอดเยี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','presentation-explanation','\x22\x20value=\x22','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','คณิตศาสตร์','text-indigo-700','rows','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','student-progress-content','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','กำลังสร้างแบบทดสอบจากหัวข้อ...','behavior-log-container','questionType','student-name-select','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','create-project-btn','Error\x20verifying\x20answers\x20in\x20editor:','save-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','text-tab','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','times','generate-from-file-btn','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'];_0x1535=function(){return _0x5454e6;};return _0x1535();}const requestWakeLock=async()=>{const _0x33f720=_0x40e1;if(_0x33f720(0x5ac)in navigator)try{wakeLock=await navigator[_0x33f720(0x5ac)][_0x33f720(0x4ac)]('screen'),console[_0x33f720(0x4e5)](_0x33f720(0x235)),wakeLock[_0x33f720(0x57e)](_0x33f720(0x433),()=>{const _0xd62e74=_0x33f720;console[_0xd62e74(0x4e5)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x3b2328){console[_0x33f720(0x2eb)](_0x33f720(0x697)+_0x3b2328[_0x33f720(0x67d)]+',\x20'+_0x3b2328[_0x33f720(0x8b1)]);}else console[_0x33f720(0x30e)](_0x33f720(0x8ae));},releaseWakeLock=async()=>{const _0x19e970=_0x40e1;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console['log'](_0x19e970(0x62a)));};let modalConfirmAction=null,cheatAttempts=0x0;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x101354(0x75b)};const allMathTopics=[{'category':_0x101354(0x40c),'name':_0x101354(0x42c)},{'category':_0x101354(0x40c),'name':_0x101354(0x55d)},{'category':_0x101354(0x40c),'name':'การปัดเศษและประมาณค่า'},{'category':_0x101354(0x40c),'name':_0x101354(0x336)},{'category':_0x101354(0x40c),'name':'การบวก'},{'category':_0x101354(0x40c),'name':_0x101354(0x70f)},{'category':'จำนวนและการดำเนินการ','name':'การคูณ'},{'category':_0x101354(0x40c),'name':_0x101354(0x3f7)},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มบวก'},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มลบ'},{'category':'จำนวนและการดำเนินการ','name':_0x101354(0x22a)},{'category':_0x101354(0x40c),'name':_0x101354(0x88e)},{'category':'จำนวนและการดำเนินการ','name':_0x101354(0x54c)},{'category':_0x101354(0x40c),'name':_0x101354(0x391)},{'category':_0x101354(0x40c),'name':'ห.ร.ม.\x20(GCD)'},{'category':_0x101354(0x40c),'name':_0x101354(0x890)},{'category':_0x101354(0x40c),'name':_0x101354(0x3e9)},{'category':'จำนวนและการดำเนินการ','name':_0x101354(0x719)},{'category':'จำนวนและการดำเนินการ','name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x101354(0x40c),'name':_0x101354(0x786)},{'category':_0x101354(0x40c),'name':'การลบเศษส่วน'},{'category':_0x101354(0x40c),'name':_0x101354(0x17b)},{'category':'จำนวนและการดำเนินการ','name':_0x101354(0x554)},{'category':'จำนวนและการดำเนินการ','name':_0x101354(0x5d2)},{'category':_0x101354(0x40c),'name':_0x101354(0x429)},{'category':'จำนวนและการดำเนินการ','name':'การบวกทศนิยม'},{'category':_0x101354(0x40c),'name':_0x101354(0x2d3)},{'category':'จำนวนและการดำเนินการ','name':_0x101354(0x913)},{'category':_0x101354(0x40c),'name':_0x101354(0x607)},{'category':_0x101354(0x40c),'name':_0x101354(0x18c)},{'category':_0x101354(0x40c),'name':_0x101354(0x7fb)},{'category':'จำนวนและการดำเนินการ','name':_0x101354(0x153)},{'category':_0x101354(0x40c),'name':_0x101354(0x424)},{'category':_0x101354(0x40c),'name':_0x101354(0x3fa)},{'category':'จำนวนและการดำเนินการ','name':_0x101354(0x1a6)},{'category':'จำนวนและการดำเนินการ','name':_0x101354(0x63a)},{'category':_0x101354(0x40c),'name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x101354(0x916),'name':_0x101354(0x7e8)},{'category':_0x101354(0x916),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':'การวัด','name':_0x101354(0x29d)},{'category':_0x101354(0x916),'name':_0x101354(0x6fe)},{'category':'การวัด','name':'อุณหภูมิและการแปลง'},{'category':'การวัด','name':_0x101354(0x54d)},{'category':_0x101354(0x916),'name':_0x101354(0x533)},{'category':_0x101354(0x916),'name':_0x101354(0x457)},{'category':_0x101354(0x916),'name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':'การวัด','name':_0x101354(0x3ff)},{'category':'การวัด','name':_0x101354(0x4cc)},{'category':_0x101354(0x916),'name':_0x101354(0x349)},{'category':_0x101354(0x916),'name':'สเกลและแผนที่'},{'category':'การวัด','name':_0x101354(0x69a)},{'category':_0x101354(0x666),'name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0x101354(0x666),'name':'ความสัมพันธ์ของมุม'},{'category':_0x101354(0x666),'name':_0x101354(0x86f)},{'category':_0x101354(0x666),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x101354(0x666),'name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':'เรขาคณิต','name':_0x101354(0x83c)},{'category':_0x101354(0x666),'name':_0x101354(0x304)},{'category':'เรขาคณิต','name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':'เรขาคณิต','name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x101354(0x666),'name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':_0x101354(0x666),'name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':_0x101354(0x666),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':_0x101354(0x666),'name':_0x101354(0x83d)},{'category':_0x101354(0x666),'name':_0x101354(0x7a0)},{'category':_0x101354(0x666),'name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':_0x101354(0x686),'name':_0x101354(0x26c)},{'category':_0x101354(0x686),'name':_0x101354(0x89e)},{'category':_0x101354(0x686),'name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0x101354(0x686),'name':'การแยกตัวประกอบ'},{'category':_0x101354(0x686),'name':_0x101354(0x90b)},{'category':'พีชคณิตและฟังก์ชัน','name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0x101354(0x686),'name':_0x101354(0x81b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x101354(0x6b7)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x101354(0x37d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x101354(0x1b1)},{'category':_0x101354(0x686),'name':_0x101354(0x4f1)},{'category':_0x101354(0x686),'name':'สมการยกกำลัง'},{'category':_0x101354(0x686),'name':_0x101354(0x47d)},{'category':'พีชคณิตและฟังก์ชัน','name':'อสมการเชิงเส้น'},{'category':_0x101354(0x686),'name':_0x101354(0x32a)},{'category':_0x101354(0x686),'name':_0x101354(0x33e)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x101354(0x686),'name':'โดเมนและเรนจ์'},{'category':_0x101354(0x686),'name':_0x101354(0x878)},{'category':_0x101354(0x686),'name':_0x101354(0x5fc)},{'category':_0x101354(0x686),'name':_0x101354(0x591)},{'category':_0x101354(0x686),'name':_0x101354(0x3bb)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันพหุนาม'},{'category':_0x101354(0x686),'name':_0x101354(0x3fb)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x101354(0x8de)},{'category':_0x101354(0x686),'name':_0x101354(0x62b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x101354(0x4ca)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x101354(0x6a5)},{'category':_0x101354(0x686),'name':_0x101354(0x80a)},{'category':_0x101354(0x686),'name':_0x101354(0x669)},{'category':_0x101354(0x686),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':_0x101354(0x686),'name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x101354(0x686),'name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':_0x101354(0x686),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x101354(0x206),'name':_0x101354(0x5af)},{'category':_0x101354(0x206),'name':_0x101354(0x3a4)},{'category':'เรขาคณิตวิเคราะห์','name':_0x101354(0x5d4)},{'category':_0x101354(0x206),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':'เรขาคณิตวิเคราะห์','name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x101354(0x206),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':'เรขาคณิตวิเคราะห์','name':_0x101354(0x375)},{'category':'เรขาคณิตวิเคราะห์','name':'วงรี'},{'category':_0x101354(0x206),'name':_0x101354(0x589)},{'category':_0x101354(0x2f0),'name':_0x101354(0x51e)},{'category':_0x101354(0x2f0),'name':_0x101354(0x392)},{'category':'ตรีโกณมิติ','name':_0x101354(0x789)},{'category':_0x101354(0x2f0),'name':_0x101354(0x6b1)},{'category':'ตรีโกณมิติ','name':'กฎของไซน์'},{'category':'ตรีโกณมิติ','name':_0x101354(0x499)},{'category':_0x101354(0x2f0),'name':_0x101354(0x4c2)},{'category':'ตรีโกณมิติ','name':'การแปลงรูปอัตลักษณ์'},{'category':_0x101354(0x2f0),'name':'สมการตรีโกณมิติ'},{'category':_0x101354(0x2f0),'name':_0x101354(0x4ee)},{'category':_0x101354(0x2f0),'name':_0x101354(0x4ed)},{'category':_0x101354(0x807),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':'สถิติและความน่าจะเป็น','name':'การจัดกลุ่มข้อมูล'},{'category':'สถิติและความน่าจะเป็น','name':_0x101354(0x608)},{'category':_0x101354(0x807),'name':_0x101354(0x675)},{'category':_0x101354(0x807),'name':_0x101354(0x796)},{'category':_0x101354(0x807),'name':_0x101354(0x721)},{'category':'สถิติและความน่าจะเป็น','name':_0x101354(0x859)},{'category':_0x101354(0x807),'name':_0x101354(0x330)},{'category':'สถิติและความน่าจะเป็น','name':_0x101354(0x5c7)},{'category':_0x101354(0x807),'name':'พิสัย'},{'category':_0x101354(0x807),'name':_0x101354(0x7af)},{'category':_0x101354(0x807),'name':'ความแปรปรวน'},{'category':_0x101354(0x807),'name':_0x101354(0x3f6)},{'category':_0x101354(0x807),'name':'การแจกแจงปกติและ\x20z-score'},{'category':_0x101354(0x807),'name':_0x101354(0x170)},{'category':_0x101354(0x807),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x101354(0x807),'name':_0x101354(0x346)},{'category':'สถิติและความน่าจะเป็น','name':'แผนภาพเวนน์'},{'category':_0x101354(0x807),'name':_0x101354(0x33b)},{'category':_0x101354(0x807),'name':_0x101354(0x199)},{'category':'สถิติและความน่าจะเป็น','name':_0x101354(0x1ed)},{'category':_0x101354(0x807),'name':_0x101354(0x507)},{'category':_0x101354(0x807),'name':_0x101354(0x2ae)},{'category':_0x101354(0x807),'name':_0x101354(0x350)},{'category':_0x101354(0x8bc),'name':'ลิมิต'},{'category':_0x101354(0x8bc),'name':_0x101354(0x4bd)},{'category':'แคลคูลัสเบื้องต้น','name':_0x101354(0x689)},{'category':_0x101354(0x8bc),'name':_0x101354(0x59b)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':'แคลคูลัสเบื้องต้น','name':_0x101354(0x335)},{'category':_0x101354(0x8bc),'name':_0x101354(0x62e)},{'category':_0x101354(0x8bc),'name':_0x101354(0x32d)},{'category':_0x101354(0x8bc),'name':_0x101354(0x7a7)},{'category':'แคลคูลัสเบื้องต้น','name':_0x101354(0x77f)},{'category':_0x101354(0x8bc),'name':_0x101354(0x80e)},{'category':'แคลคูลัสเบื้องต้น','name':_0x101354(0x84c)},{'category':'แคลคูลัสเบื้องต้น','name':_0x101354(0x4f0)},{'category':_0x101354(0x6e6),'name':_0x101354(0x256)},{'category':_0x101354(0x6e6),'name':_0x101354(0x286)},{'category':_0x101354(0x6e6),'name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':_0x101354(0x6e6),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x101354(0x6e6),'name':_0x101354(0x4df)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'ดีเทอร์มิแนนต์'},{'category':_0x101354(0x6e6),'name':_0x101354(0x1cf)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x101354(0x5b2)},{'category':_0x101354(0x3ca),'name':_0x101354(0x7cb)},{'category':_0x101354(0x3ca),'name':_0x101354(0x28d)},{'category':_0x101354(0x3ca),'name':_0x101354(0x15b)},{'category':'คณิตการเงิน/บูรณาการ','name':'ร้อยละประยุกต์'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x101354(0x4d8)},{'category':_0x101354(0x7c7),'name':_0x101354(0x49f)},{'category':_0x101354(0x7c7),'name':_0x101354(0x52d)}];function renderTopicCheckboxes(){const _0x51ede1=_0x101354,_0x476cd4=document[_0x51ede1(0x187)](_0x51ede1(0x44f));if(!_0x476cd4)return;const _0x26e72c=allMathTopics,_0x1be97e=customMathTopics[_0x51ede1(0x4cd)](_0x1035af=>({'id':_0x1035af['id'],'category':_0x51ede1(0x772),'name':_0x1035af[_0x51ede1(0x67d)]})),_0x5ed5b6=[..._0x26e72c,..._0x1be97e],_0x12b961=_0x5ed5b6[_0x51ede1(0x5fa)]((_0x36bb4a,_0x13b50e)=>{const _0x38529a=_0x51ede1;return!_0x36bb4a[_0x13b50e[_0x38529a(0x517)]]&&(_0x36bb4a[_0x13b50e[_0x38529a(0x517)]]=[]),_0x36bb4a[_0x13b50e[_0x38529a(0x517)]][_0x38529a(0x36f)](_0x13b50e),_0x36bb4a;},{});let _0x9d1d31='';const _0x4e2858=['หัวข้อที่สร้างเอง',...Object[_0x51ede1(0x5ba)](_0x12b961)[_0x51ede1(0x604)](_0x3f58e0=>_0x3f58e0!==_0x51ede1(0x772))];for(const _0x57ec75 of _0x4e2858){if(_0x12b961[_0x57ec75]){const _0x2513a5=_0x57ec75===_0x51ede1(0x772),_0x15670d=_0x2513a5?_0x51ede1(0x18a):_0x51ede1(0x366),_0x1dd1bf=_0x2513a5?'text-blue-700':_0x51ede1(0x817);_0x9d1d31+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x9d1d31+=_0x51ede1(0x458)+_0x1dd1bf+_0x51ede1(0x887)+_0x15670d+'\x20mr-2\x22></i>'+_0x57ec75+_0x51ede1(0x787),_0x12b961[_0x57ec75][_0x51ede1(0x35f)](_0x29e6f8=>{const _0x8e0cc=_0x51ede1,_0x1a4349=!!_0x29e6f8['id'],_0xcc7bce=_0x1a4349?_0x8e0cc(0x2c8)+_0x29e6f8['id']+_0x8e0cc(0x374)+_0x29e6f8['id']+_0x8e0cc(0x2cb)+_0x29e6f8['id']+_0x8e0cc(0x352)+_0x29e6f8['id']+_0x8e0cc(0x62f):'';_0x9d1d31+=_0x8e0cc(0x1ee)+(_0x29e6f8['id']||'')+_0x8e0cc(0x541)+_0x29e6f8[_0x8e0cc(0x67d)]+_0x8e0cc(0x7f9)+_0x29e6f8[_0x8e0cc(0x67d)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1a4349?_0x8e0cc(0x453)+_0x29e6f8['name']+'\x22>':'')+_0x8e0cc(0x718)+_0xcc7bce+_0x8e0cc(0x601);}),_0x9d1d31+='</div>';}}_0x476cd4[_0x51ede1(0x498)]=_0x9d1d31||_0x51ede1(0x806),_0x476cd4[_0x51ede1(0x4ff)](_0x51ede1(0x491),updateSelectedTopicsCount),_0x476cd4[_0x51ede1(0x57e)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x3bb701,_0x380633){const _0x2a0f59=_0x101354;if(!_0x3bb701||!_0x380633[_0x2a0f59(0x4b3)]()){showMessage(_0x2a0f59(0x2bc));return;}try{const _0x47fbb1=doc(db,_0x2a0f59(0x565)+appId+_0x2a0f59(0x195),_0x3bb701);await updateDoc(_0x47fbb1,{'name':_0x380633[_0x2a0f59(0x4b3)]()}),showMessage(_0x2a0f59(0x407));}catch(_0x5af948){console[_0x2a0f59(0x2eb)](_0x2a0f59(0x759),_0x5af948),showMessage(_0x2a0f59(0x26f));}}function toggleTopicEditMode(_0x2f497c,_0x53da6f){const _0x49cd16=_0x101354;if(!_0x2f497c)return;const _0x339687=_0x2f497c[_0x49cd16(0x399)](_0x49cd16(0x275)),_0x12bb83=_0x2f497c[_0x49cd16(0x399)](_0x49cd16(0x33c)),_0x2ec830=_0x2f497c['querySelector'](_0x49cd16(0x24e)),_0x132dc4=_0x2f497c[_0x49cd16(0x399)](_0x49cd16(0x2bf));_0x339687[_0x49cd16(0x8f6)]['toggle']('hidden',_0x53da6f),_0x12bb83[_0x49cd16(0x8f6)][_0x49cd16(0x496)](_0x49cd16(0x1f2),!_0x53da6f),_0x2ec830['classList'][_0x49cd16(0x496)](_0x49cd16(0x1f2),_0x53da6f),_0x132dc4[_0x49cd16(0x8f6)]['toggle'](_0x49cd16(0x1f2),!_0x53da6f),_0x53da6f&&(_0x12bb83['focus'](),_0x12bb83['select']());}function updateSelectedTopicsCount(){const _0x14603e=_0x101354,_0x9b90b=document['getElementById'](_0x14603e(0x44f)),_0x284d24=_0x9b90b[_0x14603e(0x7eb)](_0x14603e(0x7bb))[_0x14603e(0x6bd)],_0x25d952=document['getElementById'](_0x14603e(0x879));_0x284d24>0x0?_0x25d952[_0x14603e(0x8fd)]='(เลือกแล้ว\x20'+_0x284d24+_0x14603e(0x833):_0x25d952['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x101354(0x5f6),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x101354(0x2e9),quizLeaderboardSortOrder=_0x101354(0x3c0),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':'คะแนนเต็ม','description':_0x101354(0x3a2),'icon':_0x101354(0x78d)},'QUICK_THINKER':{'id':'quick_thinker','name':'เซียนสมองไว','description':_0x101354(0x33f),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':'on_fire','name':_0x101354(0x3cc),'description':_0x101354(0x768),'icon':_0x101354(0x764)},'FIRST_TRY_ACE':{'id':_0x101354(0x90f),'name':'ผ่านฉลุย','description':_0x101354(0x63b),'icon':_0x101354(0x63d)},'COMEBACK_KING':{'id':'comeback_king','name':_0x101354(0x746),'description':_0x101354(0x4d3),'icon':_0x101354(0x4de)},'SPECIALIST':{'id':_0x101354(0x2c9),'name':_0x101354(0x7d3),'description':_0x101354(0x2e0),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x101354(0x8c5),'name':'ผู้ไม่ยอมแพ้','description':_0x101354(0x667),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x101354(0x6f2),'authDomain':_0x101354(0x3a6),'projectId':_0x101354(0x59d),'storageBucket':'ai-quiz-app-aefee.appspot.com','messagingSenderId':_0x101354(0x685),'appId':_0x101354(0x558),'measurementId':_0x101354(0x78c)},appId=typeof __app_id!=='undefined'?__app_id:_0x101354(0x25f),adminView=document[_0x101354(0x187)](_0x101354(0x3d3)),studentView=document[_0x101354(0x187)]('student-view'),projectDashboardView=document['getElementById'](_0x101354(0x755)),projectDetailView=document[_0x101354(0x187)](_0x101354(0x5d8)),quizResultsView=document[_0x101354(0x187)](_0x101354(0x489)),projectList=document['getElementById']('project-list'),noProjectsMsg=document[_0x101354(0x187)](_0x101354(0x85d)),projectTitle=document[_0x101354(0x187)](_0x101354(0x45f)),projectIdDisplay=document[_0x101354(0x187)](_0x101354(0x531)),studentList=document[_0x101354(0x187)](_0x101354(0x653)),messageModal=document[_0x101354(0x187)](_0x101354(0x79c)),modalMessage=document[_0x101354(0x187)](_0x101354(0x329)),createProjectModal=document[_0x101354(0x187)]('create-project-modal'),adminPasswordModal=document[_0x101354(0x187)](_0x101354(0x42b)),confirmationModal=document[_0x101354(0x187)](_0x101354(0x77b)),userIdDisplay=document[_0x101354(0x187)](_0x101354(0x7bd)),topicTab=document[_0x101354(0x187)](_0x101354(0x8ee)),textTab=document['getElementById'](_0x101354(0x826)),topicInputArea=document['getElementById'](_0x101354(0x3e4)),textInputArea=document[_0x101354(0x187)](_0x101354(0x3d1)),manageTab=document[_0x101354(0x187)](_0x101354(0x2b2)),resultsTab=document[_0x101354(0x187)](_0x101354(0x78b)),leaderboardTab=document['getElementById']('leaderboard-tab'),manageTabContent=document['getElementById'](_0x101354(0x805)),resultsTabContent=document[_0x101354(0x187)](_0x101354(0x625)),leaderboardTabContent=document[_0x101354(0x187)](_0x101354(0x7fe)),projectQuizzesList=document[_0x101354(0x187)](_0x101354(0x6f0)),fileTab=document['getElementById']('file-tab'),fileInputArea=document[_0x101354(0x187)]('file-input-area'),fileUploadInput=document[_0x101354(0x187)]('file-upload-input'),worksheetTab=document[_0x101354(0x187)](_0x101354(0x251)),worksheetInputArea=document[_0x101354(0x187)](_0x101354(0x6b9)),generateWorksheetBtn=document[_0x101354(0x187)](_0x101354(0x297)),studentInitialView=document[_0x101354(0x187)](_0x101354(0x76c)),studentNameSelectionView=document[_0x101354(0x187)](_0x101354(0x55c)),studentQuizArea=document[_0x101354(0x187)](_0x101354(0x76a)),studentResultArea=document[_0x101354(0x187)](_0x101354(0x4c8)),studentReadingArea=document['getElementById']('student-reading-area'),loadQuizBtn=document['getElementById']('load-quiz-btn'),startQuizBtn=document[_0x101354(0x187)](_0x101354(0x5bb)),studentJoinGameView=document['getElementById'](_0x101354(0x15f)),presentationModal=document[_0x101354(0x187)](_0x101354(0x682)),renameQuizModal=document[_0x101354(0x187)]('rename-quiz-modal'),moveQuizModal=document[_0x101354(0x187)](_0x101354(0x6f6)),quizSettingsModal=document['getElementById'](_0x101354(0x2db)),quizStatusModal=document[_0x101354(0x187)](_0x101354(0x3b7)),liveGameView=document[_0x101354(0x187)](_0x101354(0x919));function handleAutoFixLatex(){const _0x21ec0b=_0x101354,_0x586e0a=document['getElementById'](_0x21ec0b(0x262))||document,_0x290ec2=_0x586e0a[_0x21ec0b(0x7eb)]([_0x21ec0b(0x49e),'input[type=\x22text\x22]',_0x21ec0b(0x617),_0x21ec0b(0x3e0),_0x21ec0b(0x543),_0x21ec0b(0x75d),_0x21ec0b(0x51a),'.option-text',_0x21ec0b(0x22f)][_0x21ec0b(0x58e)](','));let _0x45fb62=0x0;const _0x5d3b47=_0x33d661=>'value'in _0x33d661?String(_0x33d661[_0x21ec0b(0x82c)]):_0x33d661[_0x21ec0b(0x68e)]!==undefined?_0x33d661[_0x21ec0b(0x68e)]:_0x33d661[_0x21ec0b(0x8fd)]||'',_0x2fca53=(_0x5c9e8f,_0x2b527c)=>{const _0x36bca1=_0x21ec0b;if(_0x36bca1(0x82c)in _0x5c9e8f){_0x5c9e8f['value']=_0x2b527c;return;}if(_0x5c9e8f[_0x36bca1(0x399)]&&_0x5c9e8f[_0x36bca1(0x399)]('mjx-container'))return;if(_0x5c9e8f['innerText']!==undefined)_0x5c9e8f[_0x36bca1(0x68e)]=_0x2b527c;else _0x5c9e8f['textContent']=_0x2b527c;},_0x4c8d63=_0x43a701=>_0x43a701[_0x21ec0b(0x83e)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x295f20=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0xa5c1a0=_0x5e6aa8=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x21ec0b(0x900)](_0x5e6aa8),_0x20152a=_0x2ee4c7=>{const _0x42430f=_0x21ec0b,_0x2a209c=(_0x2ee4c7[_0x42430f(0x67c)](/\{/g)||[])[_0x42430f(0x6bd)],_0x5284de=(_0x2ee4c7[_0x42430f(0x67c)](/\}/g)||[])[_0x42430f(0x6bd)];if(_0x2a209c>_0x5284de)_0x2ee4c7=_0x2ee4c7+'}'[_0x42430f(0x771)](_0x2a209c-_0x5284de);return _0x2ee4c7;},_0x206f19=_0x23f856=>{const _0x59fbe4=_0x21ec0b;let _0x37cab9=_0x23f856[_0x59fbe4(0x4b3)]();const _0x1ab9b8=[_0x59fbe4(0x613),_0x59fbe4(0x6bf),_0x59fbe4(0x1fe),_0x59fbe4(0x4e7),_0x59fbe4(0x4d1),_0x59fbe4(0x829),_0x59fbe4(0x748),_0x59fbe4(0x58a),'leq',_0x59fbe4(0x512),'le','ge',_0x59fbe4(0x6df),'pm',_0x59fbe4(0x8a9),'sin','cos',_0x59fbe4(0x7db),_0x59fbe4(0x4e5),'ln',_0x59fbe4(0x46b),_0x59fbe4(0x1e6),'binom',_0x59fbe4(0x1c8),_0x59fbe4(0x535),_0x59fbe4(0x73a),_0x59fbe4(0x3eb),_0x59fbe4(0x1b0),'deg'];_0x37cab9=_0x37cab9[_0x59fbe4(0x83e)](new RegExp('\x5c\x5c\x5c\x5c(?=('+_0x1ab9b8[_0x59fbe4(0x58e)]('|')+')\x5cb)','g'),'\x5c'),_0x1ab9b8[_0x59fbe4(0x35f)](_0x5901ad=>{const _0x403ddc=_0x59fbe4;_0x37cab9=_0x37cab9[_0x403ddc(0x83e)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x5901ad+'\x5cb','g'),(_0x5b1a90,_0x207f3c)=>_0x207f3c+'\x5c'+_0x5901ad);});const _0x339867=[[/×/g,_0x59fbe4(0x1fb)],[/·/g,_0x59fbe4(0x89b)],[/÷/g,_0x59fbe4(0x8da)],[/≤/g,_0x59fbe4(0x63f)],[/≥/g,_0x59fbe4(0x646)],[/≠/g,_0x59fbe4(0x50f)],[/±/g,_0x59fbe4(0x2c7)],[/∑/g,'\x5csum'],[/−/g,'-']];_0x339867[_0x59fbe4(0x35f)](([_0x39504b,_0x2a16ef])=>{const _0x80105c=_0x59fbe4;_0x37cab9=_0x37cab9[_0x80105c(0x83e)](_0x39504b,_0x2a16ef);}),_0x37cab9=_0x37cab9[_0x59fbe4(0x83e)](/√\s*\(([^)]*)\)/g,_0x59fbe4(0x783)),_0x37cab9=_0x37cab9[_0x59fbe4(0x83e)](/√\s*([A-Za-z0-9]+)/g,_0x59fbe4(0x783)),_0x37cab9=_0x37cab9[_0x59fbe4(0x83e)](/(^|[^\\])\bimes\b/g,'$1\x5ctimes')[_0x59fbe4(0x83e)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x59fbe4(0x85a))[_0x59fbe4(0x83e)](/(^|[^\\])ext\{/g,_0x59fbe4(0x378))['replace'](/(^|[^\\])ext\(/g,_0x59fbe4(0x33a))[_0x59fbe4(0x83e)](/\\text\(([^)]*)\)/g,_0x59fbe4(0x6ba))[_0x59fbe4(0x83e)](/\s\\frac/g,_0x59fbe4(0x21c)),_0x37cab9=_0x37cab9[_0x59fbe4(0x83e)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x56f909,_0x5e4662,_0x39e37b,_0x19df7b)=>_0x5e4662+'\x5cfrac{'+_0x39e37b+'}{'+_0x19df7b+'}'),_0x37cab9=_0x37cab9[_0x59fbe4(0x83e)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x59fbe4(0x4fc))[_0x59fbe4(0x83e)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x59fbe4(0x4fc))['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,'\x5cfrac{$1}{$2}'),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x59fbe4(0x5cc)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x59fbe4(0x5cc)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*o\s*C\b/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x59fbe4(0x5cc)],[/(\d+)\s*°\s*C/g,_0x59fbe4(0x5cc)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x59fbe4(0x767)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x59fbe4(0x5cc)]][_0x59fbe4(0x35f)](([_0x577c6f,_0x269948])=>{const _0x1cbb1c=_0x59fbe4;_0x37cab9=_0x37cab9[_0x1cbb1c(0x83e)](_0x577c6f,_0x269948);}),_0x37cab9=_0x37cab9[_0x59fbe4(0x83e)](/(\d+)\s*%/g,'$1\x5c%'),_0x37cab9=_0x37cab9[_0x59fbe4(0x83e)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1^{$2}')[_0x59fbe4(0x83e)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x59fbe4(0x696))[_0x59fbe4(0x83e)](/\{\{([^\{\}]+)\}\}/g,_0x59fbe4(0x431)),[_0x59fbe4(0x290),'cos',_0x59fbe4(0x7db),_0x59fbe4(0x4e5),'ln'][_0x59fbe4(0x35f)](_0x4937ec=>{const _0x423ca0=_0x59fbe4;_0x37cab9=_0x37cab9[_0x423ca0(0x83e)](new RegExp(_0x423ca0(0x1c9)+_0x4937ec+_0x423ca0(0x266),'g'),(_0x3206af,_0x4c13c8)=>_0x4c13c8+'\x5c'+_0x4937ec+'(');});const _0x50e0ff=(_0x37cab9['match'](/\\left\b/g)||[])[_0x59fbe4(0x6bd)],_0x53869d=(_0x37cab9[_0x59fbe4(0x67c)](/\\right\b/g)||[])[_0x59fbe4(0x6bd)];if(_0x50e0ff!==_0x53869d)_0x37cab9=_0x37cab9[_0x59fbe4(0x83e)](/\\left\b/g,'')[_0x59fbe4(0x83e)](/\\right\b/g,'');return _0x37cab9=_0x20152a(_0x37cab9),_0x37cab9;},_0x29f169=_0x177d83=>{const _0xdc7acc=_0x21ec0b;if(/\$|\\\(|\\\[/[_0xdc7acc(0x900)](_0x177d83))return _0x177d83;if(!_0x295f20[_0xdc7acc(0x900)](_0x177d83))return _0x177d83;const _0x57e5f8=_0x177d83[_0xdc7acc(0x67c)](/^\s*/)[0x0],_0x24d2f4=_0x177d83['match'](/\s*$/)[0x0],_0x29326e=_0x177d83[_0xdc7acc(0x4b3)]();return _0x57e5f8+'$'+_0x206f19(_0x29326e)+'$'+_0x24d2f4;},_0x474780=_0x44697c=>_0x44697c[_0x21ec0b(0x490)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x290ec2[_0x21ec0b(0x35f)](_0x3f612a=>{const _0x419951=_0x21ec0b;if(_0x3f612a['querySelector']&&_0x3f612a[_0x419951(0x399)](_0x419951(0x1a0)))return;const _0x5a8d9c=_0x5d3b47(_0x3f612a);let _0x1006ef=_0x4c8d63(_0x5a8d9c);_0x1006ef=_0x1006ef['replace'](/\$\$([\s\S]*?)\$\$/g,(_0x7b9c93,_0x2dad38)=>'$$'+_0x206f19(_0x2dad38)+'$$')[_0x419951(0x83e)](/\$([^$]*?)\$/g,(_0x417cbd,_0x4ceac0)=>'$'+_0x206f19(_0x4ceac0)+'$')[_0x419951(0x83e)](/\\\(([\s\S]*?)\\\)/g,(_0x910849,_0x2dc18b)=>'\x5c('+_0x206f19(_0x2dc18b)+'\x5c)')['replace'](/\\\[([\s\S]*?)\\\]/g,(_0x2ba017,_0x166aae)=>'\x5c['+_0x206f19(_0x166aae)+'\x5c]');let _0x50cd9b=_0x1006ef,_0x244c71=0x0;const _0x29176b=_0x143d08=>_0x143d08[_0x419951(0x83e)](/S([^S]{0,2000}?)S/g,(_0x5238fd,_0x50eb6d)=>_0x295f20[_0x419951(0x900)](_0x50eb6d)?'$'+_0x206f19(_0x50eb6d)+'$':_0x5238fd);while(_0x244c71++<0x14){const _0x2430cc=_0x29176b(_0x50cd9b);if(_0x2430cc===_0x50cd9b)break;_0x50cd9b=_0x2430cc;}_0x1006ef=_0x50cd9b,_0x1006ef=_0x1006ef[_0x419951(0x490)]('\x0a')[_0x419951(0x4cd)](_0xaac4c=>{const _0x30222f=_0x419951;if(!(/[,\u3001，;；]/['test'](_0xaac4c)||/\s(?:และ|หรือ)\s/['test'](_0xaac4c))||!_0x295f20[_0x30222f(0x900)](_0xaac4c))return _0xaac4c;return _0x474780(_0xaac4c)[_0x30222f(0x4cd)](_0x32cc9a=>{const _0x16d8d9=_0x30222f;if(/^\s(?:และ|หรือ)\s$/[_0x16d8d9(0x900)](_0x32cc9a)||/^[,\u3001，;；]$/[_0x16d8d9(0x900)](_0x32cc9a))return _0x32cc9a;return _0x29f169(_0x32cc9a);})['join']('');})[_0x419951(0x58e)]('\x0a'),_0x1006ef=_0x1006ef[_0x419951(0x490)]('\x0a')[_0x419951(0x4cd)](_0x15c8d6=>{const _0x4631f0=_0x419951,_0x27297a=_0x15c8d6[_0x4631f0(0x4b3)]();if(!_0x27297a)return _0x15c8d6;const _0x581408=/\$|\\\(|\\\[/[_0x4631f0(0x900)](_0x27297a),_0x385c4c=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/['test'](_0x27297a);if(_0x581408||!_0x385c4c||_0xa5c1a0(_0x27297a))return _0x15c8d6;return _0x15c8d6[_0x4631f0(0x83e)](_0x27297a,'$'+_0x206f19(_0x27297a)+'$');})[_0x419951(0x58e)]('\x0a'),_0x1006ef=_0x1006ef[_0x419951(0x83e)](/(\d+)\s*°\s*C\b/g,(_0x4ee84c,_0x4f27c7,_0x13d190,_0x182785)=>{const _0x2e705b=_0x182785[_0x13d190-0x1];if(_0x2e705b==='$'||_0x2e705b==='S'||_0x2e705b==='\x5c')return _0x4ee84c;return'$'+_0x4f27c7+'^{\x5ccirc}\x5ctext{C}$';})[_0x419951(0x83e)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x3d134a,_0x2eebcd,_0x57cb32,_0x4d22f6)=>{const _0x295029=_0x419951,_0x389681=_0x4d22f6[_0x57cb32-0x1];if(_0x389681==='$'||_0x389681==='S'||_0x389681==='\x5c')return _0x3d134a;return'$'+_0x2eebcd+_0x295029(0x8c2);})[_0x419951(0x83e)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x4b4b8b,_0x244edf,_0x8fb568,_0x4d9085)=>{const _0x105aec=_0x4d9085[_0x8fb568-0x1];if(_0x105aec==='$'||_0x105aec==='S'||_0x105aec==='\x5c')return _0x4b4b8b;return'$'+_0x244edf+'^{\x5ccirc}\x5ctext{C}$';}),_0x1006ef=_0x1006ef[_0x419951(0x83e)](/\$\s*\$/g,'$$'),_0x1006ef!==_0x5a8d9c&&(_0x2fca53(_0x3f612a,_0x1006ef),_0x45fb62++);});if(_0x45fb62>0x0){showMessage(_0x21ec0b(0x17e)+_0x45fb62+'\x20ช่อง');try{if(window['MathJax']&&MathJax['typesetPromise'])MathJax['typesetPromise']();window['katex']&&typeof renderMathInElement===_0x21ec0b(0x5d6)&&renderMathInElement(_0x586e0a,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x1e27fd){}}else showMessage(_0x21ec0b(0x19a));}async function listenForCustomMathTopics(){const _0x58f818=_0x101354,_0x292578=collection(db,'artifacts/'+appId+_0x58f818(0x195));onSnapshot(_0x292578,_0x4b9dc1=>{const _0x5432fd=_0x58f818;customMathTopics=_0x4b9dc1['docs'][_0x5432fd(0x4cd)](_0x235a6e=>({'id':_0x235a6e['id'],..._0x235a6e[_0x5432fd(0x471)]()})),renderTopicCheckboxes();},_0x4b0403=>{const _0x3669ea=_0x58f818;console[_0x3669ea(0x2eb)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x4b0403);});}function handleSelectAllTopics(){const _0x3ef661=_0x101354,_0x3a7542=document[_0x3ef661(0x187)]('math-topics-checkbox-container'),_0x542e04=_0x3a7542['querySelectorAll'](_0x3ef661(0x459));_0x542e04['forEach'](_0x183f91=>{const _0x57f610=_0x3ef661;_0x183f91[_0x57f610(0x743)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x331504=_0x101354,_0x283ef6=document[_0x331504(0x187)]('math-topics-checkbox-container'),_0x354b60=_0x283ef6['querySelectorAll'](_0x331504(0x459));_0x354b60['forEach'](_0x1dab79=>{const _0x1ff592=_0x331504;_0x1dab79[_0x1ff592(0x743)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x514a1e){const _0x38aca9=_0x101354;if(!_0x514a1e)return;try{const _0x117111=doc(db,'artifacts/'+appId+_0x38aca9(0x195),_0x514a1e);await deleteDoc(_0x117111),showMessage(_0x38aca9(0x71e));}catch(_0x3c4e89){console['error'](_0x38aca9(0x473),_0x3c4e89),showMessage(_0x38aca9(0x22b));}}async function handleAddCustomMathTopic(){const _0x888753=_0x101354,_0x1e3187=document[_0x888753(0x187)](_0x888753(0x311)),_0x5b5e88=_0x1e3187['value']['trim']();if(!_0x5b5e88){showMessage(_0x888753(0x788));return;}if(!userId){showMessage(_0x888753(0x606));return;}try{const _0x12852f=collection(db,_0x888753(0x565)+appId+_0x888753(0x195));await addDoc(_0x12852f,{'name':_0x5b5e88,'createdAt':serverTimestamp()}),_0x1e3187[_0x888753(0x82c)]='',showMessage(_0x888753(0x7b3)+_0x5b5e88+_0x888753(0x1a2));}catch(_0x1d2caa){console[_0x888753(0x2eb)]('Error\x20adding\x20custom\x20topic:',_0x1d2caa),showMessage(_0x888753(0x1ab));}}async function handleUpdateOldQuizzes(){const _0x43128f=_0x101354;showConfirmation(_0x43128f(0x493),async()=>{const _0x487c74=_0x43128f,_0x2d7f11=document['getElementById'](_0x487c74(0x848)),_0x181d08=document['getElementById'](_0x487c74(0x775)),_0x50c5c8=_0x181d08[_0x487c74(0x8fd)];_0x2d7f11['classList'][_0x487c74(0x773)](_0x487c74(0x1f2)),_0x181d08['textContent']=_0x487c74(0x756);try{const _0x4991bb=collection(db,'artifacts/'+appId+_0x487c74(0x60e)),_0x11728a=await getDocs(_0x4991bb);if(_0x11728a['empty']){showMessage(_0x487c74(0x888));return;}const _0x30582a=writeBatch(db);let _0x1d4385=0x0;_0x11728a['forEach'](_0xf3365a=>{const _0x420cd2=_0x487c74,_0x1f674f=_0xf3365a[_0x420cd2(0x471)](),_0x47b921=_0xf3365a['id'];if(_0x1f674f['questions']&&_0x1f674f['questions'][_0x420cd2(0x6bd)]>0x0&&!_0x1f674f[_0x420cd2(0x371)][0x0][_0x420cd2(0x874)]('id')){console[_0x420cd2(0x4e5)](_0x420cd2(0x53c)+_0x47b921+'\x20('+_0x1f674f[_0x420cd2(0x3ef)]+')'),_0x1d4385++;const _0x475259=_0x1f674f[_0x420cd2(0x371)][_0x420cd2(0x4cd)]((_0x65e27,_0x5b1211)=>{return{..._0x65e27,'id':_0x65e27['id']||'q_'+Date['now']()+'_'+_0x47b921+'_'+_0x5b1211};}),_0x12c26e=doc(db,_0x420cd2(0x565)+appId+_0x420cd2(0x60e),_0x47b921);_0x30582a[_0x420cd2(0x5b4)](_0x12c26e,{'questions':_0x475259});}}),_0x1d4385>0x0?(_0x181d08[_0x487c74(0x8fd)]='กำลังอัปเดตแบบทดสอบ\x20'+_0x1d4385+_0x487c74(0x50c),await _0x30582a[_0x487c74(0x72f)](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x1d4385+_0x487c74(0x43d))):showMessage(_0x487c74(0x846));}catch(_0x1711f4){console[_0x487c74(0x2eb)](_0x487c74(0x6e1),_0x1711f4),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0x1711f4[_0x487c74(0x8b1)]);}finally{_0x2d7f11[_0x487c74(0x8f6)]['add']('hidden'),_0x181d08[_0x487c74(0x8fd)]=_0x50c5c8;}});}async function initialize(){const _0x26858c=_0x101354;try{const _0x1f8e87=initializeApp(firebaseConfig);db=getFirestore(_0x1f8e87),auth=getAuth(_0x1f8e87),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x4ee6a8){console[_0x26858c(0x2eb)](_0x26858c(0x1f3),_0x4ee6a8),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x560863=_0x101354,_0x5bc562=document[_0x560863(0x187)]('quiz-editor-modal');if(!_0x5bc562)return;const _0x4151d5=document[_0x560863(0x187)](_0x560863(0x501));_0x4151d5[_0x560863(0x8cc)]=!![],_0x4151d5['innerHTML']=_0x560863(0x6cf);try{const _0xd3d900=_0x5bc562['querySelectorAll'](_0x560863(0x6a1)),_0xd5c3bb=Array['from'](_0xd3d900)['map']((_0x467b0b,_0x20804a)=>{const _0x3b4174=_0x560863,_0x27ec8c=_0x467b0b[_0x3b4174(0x7ed)][_0x3b4174(0x72c)],_0x6e1f0f=_0x467b0b[_0x3b4174(0x399)](_0x3b4174(0x49e))[_0x3b4174(0x82c)];let _0x4b4d93=null,_0x140de4='';switch(_0x27ec8c){case _0x3b4174(0x89a):const _0x4e5506=_0x467b0b[_0x3b4174(0x7eb)](_0x3b4174(0x52e));_0x4b4d93=Array['from'](_0x4e5506)[_0x3b4174(0x4cd)](_0x2fbbff=>_0x2fbbff[_0x3b4174(0x82c)]);const _0x171141=_0x467b0b[_0x3b4174(0x399)](_0x3b4174(0x61c));_0x171141&&(_0x140de4=_0x4b4d93[parseInt(_0x171141[_0x3b4174(0x82c)])]);break;case _0x3b4174(0x8b7):_0x140de4=_0x467b0b[_0x3b4174(0x399)]('.ideal-answer-input')['value'];break;case _0x3b4174(0x2f7):const _0x48c963=_0x467b0b['querySelector'](_0x3b4174(0x61c));_0x140de4=_0x48c963?_0x48c963[_0x3b4174(0x82c)]:'';break;case _0x3b4174(0x61a):_0x140de4=_0x467b0b['querySelector'](_0x3b4174(0x632))[_0x3b4174(0x82c)];break;}return{'question':_0x6e1f0f,'options':_0x4b4d93,'proposedAnswer':_0x140de4};}),_0x15c5f7=_0x560863(0x86d)+JSON[_0x560863(0x909)](_0xd5c3bb)+_0x560863(0x258),_0x582dc6={'type':_0x560863(0x61f),'items':{'type':_0x560863(0x1bc),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x560863(0x4ea)},'suggestedAnswer':{'type':_0x560863(0x4ea)}},'required':[_0x560863(0x516),'isCorrect',_0x560863(0x5be)]}},_0x2a4d8c=await callAnalysisApi(_0x15c5f7,{'type':_0x560863(0x1bc),'properties':{'result':_0x582dc6},'required':[_0x560863(0x645)]});displayVerificationResultsInEditor(_0x2a4d8c['result']);}catch(_0x173333){console[_0x560863(0x2eb)](_0x560863(0x822),_0x173333),showMessage(_0x560863(0x7b2));}finally{_0x4151d5[_0x560863(0x8cc)]=![],_0x4151d5[_0x560863(0x498)]=_0x560863(0x7c0);}}function displayVerificationResultsInEditor(_0x4b7974){const _0x5e120f=_0x101354;_0x4b7974[_0x5e120f(0x35f)](_0x412403=>{const _0x3a104b=_0x5e120f,_0x3aa026=document[_0x3a104b(0x399)]('.question-editor-item[data-q-index=\x22'+_0x412403[_0x3a104b(0x516)]+'\x22]');if(_0x3aa026){const _0x260ef1=_0x3aa026['querySelector']('.verification-result-editor');if(_0x260ef1)_0x260ef1[_0x3a104b(0x773)]();let _0xd716ad='';_0x412403[_0x3a104b(0x268)]?_0xd716ad=_0x3a104b(0x2c4):_0xd716ad=_0x3a104b(0x267)+_0x412403[_0x3a104b(0x5be)]+_0x3a104b(0x8e8)+(_0x412403[_0x3a104b(0x239)]?_0x3a104b(0x55a)+_0x412403[_0x3a104b(0x239)]+'</p>':'')+_0x3a104b(0x77d),_0x3aa026[_0x3a104b(0x180)](_0x3a104b(0x87a),_0xd716ad);}}),showMessage(_0x5e120f(0x29c));}async function handleVerifyAnswers(){const _0x20d92f=_0x101354;if(!currentQuizData||!currentQuizData[_0x20d92f(0x371)]){showMessage(_0x20d92f(0x17a));return;}const _0x4142a2=document[_0x20d92f(0x187)](_0x20d92f(0x321));_0x4142a2[_0x20d92f(0x8cc)]=!![],_0x4142a2[_0x20d92f(0x498)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x104e7a=currentQuizData['questions'][_0x20d92f(0x4cd)]((_0x3203b9,_0x5d2e25)=>{const _0x3e0ab0=_0x20d92f;let _0x20fcc5='';const _0x2ed8ac=_0x3203b9[_0x3e0ab0(0x81e)]||currentQuizData[_0x3e0ab0(0x2a5)];switch(_0x2ed8ac){case _0x3e0ab0(0x89a):_0x20fcc5=_0x3203b9[_0x3e0ab0(0x510)][_0x3203b9['correctAnswerIndex']];break;case _0x3e0ab0(0x8b7):_0x20fcc5=_0x3203b9[_0x3e0ab0(0x602)];break;case _0x3e0ab0(0x2f7):_0x20fcc5=_0x3203b9[_0x3e0ab0(0x25e)][_0x3e0ab0(0x547)]();break;case'matching_item':_0x20fcc5=_0x3203b9[_0x3e0ab0(0x3ab)];break;}return{'question':_0x3203b9[_0x3e0ab0(0x4ce)]||_0x3203b9[_0x3e0ab0(0x2ea)],'options':_0x3203b9[_0x3e0ab0(0x510)]||null,'proposedAnswer':_0x20fcc5};}),_0x1ea9d4=_0x20d92f(0x6b6)+JSON[_0x20d92f(0x909)](_0x104e7a)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1279f1={'type':_0x20d92f(0x61f),'items':{'type':_0x20d92f(0x1bc),'properties':{'questionIndex':{'type':_0x20d92f(0x184)},'isCorrect':{'type':_0x20d92f(0x68a)},'justification':{'type':_0x20d92f(0x4ea)},'suggestedAnswer':{'type':_0x20d92f(0x4ea)}},'required':[_0x20d92f(0x516),_0x20d92f(0x268),_0x20d92f(0x5be)]}},_0x5cd662=await callAnalysisApi(_0x1ea9d4,{'type':_0x20d92f(0x1bc),'properties':{'result':_0x1279f1},'required':[_0x20d92f(0x645)]});displayVerificationResults(_0x5cd662[_0x20d92f(0x645)]);}catch(_0x2012cb){console[_0x20d92f(0x2eb)](_0x20d92f(0x284),_0x2012cb),showMessage(_0x20d92f(0x7b2));}finally{_0x4142a2[_0x20d92f(0x8cc)]=![],_0x4142a2[_0x20d92f(0x498)]=_0x20d92f(0x6ab);}}function displayVerificationResults(_0x4106e9){const _0x471ef7=_0x101354;_0x4106e9[_0x471ef7(0x35f)](_0x52911e=>{const _0x1fbea6=_0x471ef7,_0x3f15f3=document['querySelector'](_0x1fbea6(0x5ff)+_0x52911e[_0x1fbea6(0x516)]+'\x22]');if(_0x3f15f3){const _0x586f6a=_0x3f15f3['querySelector']('.verification-result');if(_0x586f6a)_0x586f6a[_0x1fbea6(0x773)]();let _0x210ec7='';_0x52911e['isCorrect']?_0x210ec7=_0x1fbea6(0x679):_0x210ec7=_0x1fbea6(0x665)+_0x52911e[_0x1fbea6(0x5be)]+_0x1fbea6(0x8e8)+(_0x52911e[_0x1fbea6(0x239)]?_0x1fbea6(0x55a)+_0x52911e['suggestedAnswer']+_0x1fbea6(0x787):'')+_0x1fbea6(0x737),_0x3f15f3[_0x1fbea6(0x180)]('beforeend',_0x210ec7);}}),showMessage(_0x471ef7(0x29c));}function compareNumericalAnswers(_0x103479,_0x3c1ae7){const _0x15dbb3=_0x101354,_0x2f0d80=String(_0x103479)[_0x15dbb3(0x83e)](',','.')[_0x15dbb3(0x83e)](/[^\d.-]/g,'')[_0x15dbb3(0x4b3)](),_0x17f05c=String(_0x3c1ae7)[_0x15dbb3(0x83e)](',','.')[_0x15dbb3(0x83e)](/[^\d.-]/g,'')[_0x15dbb3(0x4b3)]();if(_0x2f0d80===''||_0x17f05c==='')return![];const _0x13308b=parseFloat(_0x2f0d80),_0x587737=parseFloat(_0x17f05c);if(isNaN(_0x13308b)||isNaN(_0x587737))return![];return Math[_0x15dbb3(0x260)](_0x13308b-_0x587737)<0.001;}async function gradeShortAnswer(_0x176d21,_0x511af7){const _0x43061b=_0x101354,_0x31244e=_0x511af7[_0x43061b(0x602)];if(String(_0x176d21)[_0x43061b(0x4b3)]()[_0x43061b(0x802)]()===String(_0x31244e)['trim']()[_0x43061b(0x802)]())return!![];if(compareNumericalAnswers(_0x176d21,_0x31244e))return!![];return console[_0x43061b(0x4e5)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x176d21,_0x31244e);}async function revealAnswerForAdmin(_0x35ab17,_0x5f32cc){const _0x5afc3a=_0x101354;if(document[_0x5afc3a(0x187)]('next-live-question-btn'))return;const _0x595aec=doc(db,_0x5afc3a(0x565)+appId+_0x5afc3a(0x720),currentLiveGameId);await updateDoc(_0x595aec,{'questionStatus':_0x5afc3a(0x4d2)});const _0x572636=liveGameView[_0x5afc3a(0x399)](_0x5afc3a(0x341));_0x572636&&(_0x572636['classList']['remove'](_0x5afc3a(0x237)),_0x572636[_0x5afc3a(0x8f6)][_0x5afc3a(0x43c)](_0x5afc3a(0x69f),_0x5afc3a(0x1bb),_0x5afc3a(0x581),_0x5afc3a(0x8f7),_0x5afc3a(0x66b)),_0x572636[_0x5afc3a(0x498)]=_0x5afc3a(0x324)+_0x572636['innerHTML']);const _0x5c493d=document[_0x5afc3a(0x187)](_0x5afc3a(0x8c8));_0x5c493d&&(_0x5c493d[_0x5afc3a(0x498)]=_0x5afc3a(0x5b5)+(_0x35ab17+0x1===_0x5f32cc?'ดูสรุปผล':_0x5afc3a(0x525))+_0x5afc3a(0x252),document['getElementById']('next-live-question-btn')[_0x5afc3a(0x57e)](_0x5afc3a(0x2a0),async()=>{const _0x2be3ab=_0x5afc3a,_0x453b24=doc(db,_0x2be3ab(0x565)+appId+_0x2be3ab(0x720),currentLiveGameId),_0xda2b5e=await getDoc(_0x453b24);if(!_0xda2b5e[_0x2be3ab(0x5dd)]())return;const _0x3d8d23=_0xda2b5e['data'](),_0x1a2a7d={};if(_0x3d8d23['players'])for(const _0x4dc939 in _0x3d8d23['players']){_0x1a2a7d['players.'+_0x4dc939+'.answeredCurrentQuestion']=![];}const _0x10eb11=_0x35ab17+0x1;_0x10eb11<_0x5f32cc?(_0x1a2a7d[_0x2be3ab(0x705)]=_0x10eb11,_0x1a2a7d[_0x2be3ab(0x462)]=serverTimestamp(),_0x1a2a7d[_0x2be3ab(0x52c)]=_0x2be3ab(0x419),await updateDoc(_0x453b24,_0x1a2a7d)):await updateDoc(_0x453b24,{'status':'podium'});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x181f6e=>{const _0x4245a6=_0x40e1;if(_0x181f6e){userId=_0x181f6e['uid'],userIdDisplay[_0x4245a6(0x8fd)]=userId;const _0x57ab35=await loadUserPreferences();_0x57ab35[_0x4245a6(0x4f3)]&&(document[_0x4245a6(0x187)](_0x4245a6(0x842))[_0x4245a6(0x82c)]=_0x57ab35[_0x4245a6(0x4f3)]);globalDashboardSettings[_0x4245a6(0x356)]=_0x57ab35[_0x4245a6(0x356)]||_0x4245a6(0x75b);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0xff0714,_0x384af1){const _0x51fec8=_0x101354;if(!userId)return;try{const _0xff81a1=doc(db,_0x51fec8(0x565)+appId+_0x51fec8(0x3ae)+userId+_0x51fec8(0x257)),_0x259648={};_0x259648[_0xff0714]=_0x384af1,await setDoc(_0xff81a1,_0x259648,{'merge':!![]});}catch(_0x4e7663){console[_0x51fec8(0x2eb)](_0x51fec8(0x25b),_0x4e7663);}}async function loadUserPreferences(){const _0x4e2146=_0x101354;if(!userId)return{};try{const _0x5041e6=doc(db,_0x4e2146(0x565)+appId+_0x4e2146(0x3ae)+userId+'/preferences/main'),_0x6b370c=await getDoc(_0x5041e6);if(_0x6b370c[_0x4e2146(0x5dd)]())return _0x6b370c[_0x4e2146(0x471)]();return{};}catch(_0x4a4bc9){return console['error'](_0x4e2146(0x3cf),_0x4a4bc9),{};}}function showPodiumView(_0x2a1663){const _0x284575=_0x101354,_0x4e52e0=Object[_0x284575(0x7ab)](_0x2a1663)['map'](([_0x268eb6,_0x141ea9])=>({'name':_0x268eb6,'score':_0x141ea9[_0x284575(0x5c0)]||0x0,'badges':_0x141ea9['badges']||[]}));_0x4e52e0['sort']((_0x31cc16,_0x41487b)=>{const _0x20bdb9=_0x284575,_0x1be07d=_0x41487b[_0x20bdb9(0x5c0)]-_0x31cc16['score'];if(_0x1be07d!==0x0)return _0x1be07d;return(_0x41487b['badges'][_0x20bdb9(0x6bd)]||0x0)-(_0x31cc16[_0x20bdb9(0x540)][_0x20bdb9(0x6bd)]||0x0);});const _0x553c53=_0x45e08a=>{const _0x3be084=_0x284575;if(!_0x45e08a||_0x45e08a[_0x3be084(0x6bd)]===0x0)return'';const _0x478a0b={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x3be084(0x735)+_0x45e08a['map'](_0x7ecb47=>_0x478a0b[_0x7ecb47]||'')['join']('')+_0x3be084(0x895);},_0x89350c=_0x4e52e0[_0x284575(0x4d6)](0x3),_0x294277=_0x89350c['length']>0x0?_0x284575(0x432)+_0x89350c[_0x284575(0x4cd)]((_0x5b48a9,_0xc52838)=>_0x284575(0x30d)+(_0xc52838+0x4)+_0x284575(0x762)+_0x5b48a9[_0x284575(0x67d)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x5b48a9[_0x284575(0x5c0)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x284575(0x58e)]('')+_0x284575(0x628):'',_0xfa4d4b=_0x284575(0x3a5)+(_0x4e52e0[0x1]?_0x284575(0x3ea)+_0x4e52e0[0x1][_0x284575(0x67d)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x553c53(_0x4e52e0[0x1][_0x284575(0x540)])+_0x284575(0x785)+_0x4e52e0[0x1]['score']+_0x284575(0x177):'<div\x20class=\x22flex-1\x22></div>')+_0x284575(0x7e6)+(_0x4e52e0[0x0]?_0x284575(0x273)+_0x4e52e0[0x0][_0x284575(0x67d)]+_0x284575(0x57f)+_0x553c53(_0x4e52e0[0x0][_0x284575(0x540)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>'+_0x4e52e0[0x0]['score']+_0x284575(0x6ce):_0x284575(0x25c))+_0x284575(0x7e6)+(_0x4e52e0[0x2]?_0x284575(0x7a8)+_0x4e52e0[0x2][_0x284575(0x67d)]+_0x284575(0x57f)+_0x553c53(_0x4e52e0[0x2][_0x284575(0x540)])+_0x284575(0x785)+_0x4e52e0[0x2]['score']+_0x284575(0x25d):_0x284575(0x25c))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x294277+_0x284575(0x35b)+(currentMode===_0x284575(0x739)?_0x284575(0x1d7):_0x284575(0x556))+_0x284575(0x36c);liveGameView[_0x284575(0x498)]=_0xfa4d4b,currentMode==='admin'&&document[_0x284575(0x187)]('close-game-final-btn')[_0x284575(0x57e)]('click',async()=>{const _0x2251e6=_0x284575,_0x31a832=doc(db,_0x2251e6(0x565)+appId+'/public/data/liveGames',currentLiveGameId);await deleteDoc(_0x31a832),showView(_0x2251e6(0x2b5));});}async function handleStartLiveRace(_0x57d889){const _0x54517a=_0x101354;let _0x15b170=allQuizzes['find'](_0x45d7b1=>_0x45d7b1['id']===_0x57d889);if(!_0x15b170){const _0xf9c7b3=doc(db,'artifacts/'+appId+_0x54517a(0x60e),_0x57d889),_0x37040e=await getDoc(_0xf9c7b3);if(!_0x37040e[_0x54517a(0x5dd)]()){showMessage(_0x54517a(0x162));return;}_0x15b170={'id':_0x37040e['id'],..._0x37040e[_0x54517a(0x471)]()};}currentQuizData=getShuffledQuiz(_0x15b170);const _0x1d9f88=_0x15b170[_0x54517a(0x65c)]||currentProjectId||null,_0x2bd537=Math[_0x54517a(0x390)](0x3e8+Math['random']()*0x2328)[_0x54517a(0x547)]();currentLiveGamePin=_0x2bd537;try{const _0x1ad6be=await addDoc(collection(db,_0x54517a(0x565)+appId+'/public/data/liveGames'),{'quizId':_0x57d889,'projectId':_0x1d9f88,'status':_0x54517a(0x6be),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x2bd537,'createdAt':serverTimestamp()});currentLiveGameId=_0x1ad6be['id'],showAdminLobbyView(_0x2bd537,_0x15b170['topic']),listenForLiveGameUpdates();}catch(_0x4a615a){console[_0x54517a(0x2eb)](_0x54517a(0x6f1),_0x4a615a),showMessage(_0x54517a(0x1a3));}}async function handleShowStudentRankings(){const _0xcdcb0d=_0x101354,_0x3eaa1d=document[_0xcdcb0d(0x399)](_0xcdcb0d(0x4a4));_0x3eaa1d&&(_0x3eaa1d[_0xcdcb0d(0x498)]=_0xcdcb0d(0x34a));const _0x4c2e05=document[_0xcdcb0d(0x399)](_0xcdcb0d(0x400));_0x4c2e05&&(_0x4c2e05[_0xcdcb0d(0x498)]=_0xcdcb0d(0x2b3));const _0x12d64e=document[_0xcdcb0d(0x187)]('student-rankings-modal');_0x12d64e['classList'][_0xcdcb0d(0x773)]('hidden'),document['getElementById'](_0xcdcb0d(0x312))['onclick']=()=>_0x12d64e['classList'][_0xcdcb0d(0x43c)]('hidden');const _0x116726=document[_0xcdcb0d(0x187)]('student-quiz-leaderboard-tab'),_0x54da21=document[_0xcdcb0d(0x187)](_0xcdcb0d(0x32f)),_0x395f00=document[_0xcdcb0d(0x187)]('student-quiz-leaderboard-content'),_0x474026=document[_0xcdcb0d(0x187)](_0xcdcb0d(0x4b6));_0x116726[_0xcdcb0d(0x4f9)]=()=>{const _0x2cb796=_0xcdcb0d;_0x116726[_0x2cb796(0x8f6)]['add']('active'),_0x54da21['classList'][_0x2cb796(0x773)](_0x2cb796(0x4dc)),_0x395f00[_0x2cb796(0x8f6)][_0x2cb796(0x773)](_0x2cb796(0x1f2)),_0x474026[_0x2cb796(0x8f6)]['add'](_0x2cb796(0x1f2));},_0x54da21[_0xcdcb0d(0x4f9)]=()=>{const _0x5ed203=_0xcdcb0d;_0x54da21[_0x5ed203(0x8f6)]['add'](_0x5ed203(0x4dc)),_0x116726[_0x5ed203(0x8f6)][_0x5ed203(0x773)](_0x5ed203(0x4dc)),_0x474026[_0x5ed203(0x8f6)][_0x5ed203(0x773)]('hidden'),_0x395f00[_0x5ed203(0x8f6)]['add'](_0x5ed203(0x1f2));};try{const _0x1f00eb=collection(db,_0xcdcb0d(0x565)+appId+_0xcdcb0d(0x71b)+currentQuizData['id']+'/submissions'),_0x3b4bfd=await getDocs(_0x1f00eb),_0x56b1da=_0x3b4bfd[_0xcdcb0d(0x8a1)][_0xcdcb0d(0x4cd)](_0x38d47c=>_0x38d47c[_0xcdcb0d(0x471)]());renderQuizLeaderboard(_0x56b1da,currentQuizData,'student-quiz-leaderboard-table-body');const _0x5305cf=collection(db,'artifacts/'+appId+_0xcdcb0d(0x6d2)+currentQuizData[_0xcdcb0d(0x65c)]+'/studentProfiles'),_0x1e9937=await getDocs(_0x5305cf),_0x70f2df=_0x1e9937[_0xcdcb0d(0x8a1)]['map'](_0x5b3871=>_0x5b3871['data']());renderLeaderboard(_0x70f2df,_0xcdcb0d(0x6f5));}catch(_0x199e9f){console[_0xcdcb0d(0x2eb)](_0xcdcb0d(0x8d7),_0x199e9f),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x54b596){const _0x3fbac7=_0x101354,_0x24d255=_0x54b596['currentTarget'],_0x3df969=_0x24d255[_0x3fbac7(0x7ed)][_0x3fbac7(0x561)],_0x175a79=currentQuizData['questions'][_0x3df969];if(!userId){showMessage(_0x3fbac7(0x3de));return;}try{const _0x215d99={..._0x175a79,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x2a3362=collection(db,'artifacts/'+appId+_0x3fbac7(0x3ae)+userId+'/questionBank');await addDoc(_0x2a3362,_0x215d99),showMessage(_0x3fbac7(0x450)),_0x24d255[_0x3fbac7(0x8f6)][_0x3fbac7(0x773)](_0x3fbac7(0x2a6)),_0x24d255[_0x3fbac7(0x8f6)][_0x3fbac7(0x43c)]('text-green-600'),_0x24d255[_0x3fbac7(0x8cc)]=!![];}catch(_0x27fe8d){console[_0x3fbac7(0x2eb)]('Error\x20saving\x20to\x20question\x20bank:',_0x27fe8d),showMessage(_0x3fbac7(0x627));}}function listenForStarredQuizzes(){const _0x1ef73b=_0x101354;if(!userId)return;const _0x1a661e=collection(db,_0x1ef73b(0x565)+appId+_0x1ef73b(0x60e)),_0x1d604a=query(_0x1a661e,where(_0x1ef73b(0x21f),'==',!![]));onSnapshot(_0x1d604a,_0x49a72d=>{const _0x1d0cc3=_0x1ef73b;starredQuizzes=_0x49a72d['docs'][_0x1d0cc3(0x4cd)](_0x19b457=>({'id':_0x19b457['id'],..._0x19b457[_0x1d0cc3(0x471)]()})),currentProjectId===_0x1d0cc3(0x576)?renderQuizzes():renderProjects();},_0x191d8a=>{const _0x18c2b2=_0x1ef73b;console[_0x18c2b2(0x2eb)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x191d8a);});}function exportQuizAsWorksheetPDF(){const _0x2e133d=_0x101354;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x19ac99=currentQuizData,_0x436b92=window[_0x2e133d(0x2e7)]('','_blank'),_0x559e97=_0x213112=>String['fromCharCode'](0x41+_0x213112),_0x3b182b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x19ac99[_0x2e133d(0x3ef)]+_0x2e133d(0x46d)+_0x19ac99['topic']+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x19ac99['questions'][_0x2e133d(0x4cd)]((_0x3aa795,_0x5a3c2f)=>{const _0x5683a4=_0x2e133d;let _0x1c3a61='';const _0x480387=_0x3aa795[_0x5683a4(0x81e)]||_0x19ac99[_0x5683a4(0x2a5)];switch(_0x480387){case _0x5683a4(0x89a):case _0x5683a4(0x4e2):_0x1c3a61=_0x5683a4(0x1e1)+_0x3aa795[_0x5683a4(0x510)][_0x5683a4(0x4cd)]((_0x16977a,_0xbafef9)=>_0x5683a4(0x1dd)+_0x559e97(_0xbafef9)+'.\x20'+_0x16977a+_0x5683a4(0x519))[_0x5683a4(0x58e)](_0x5683a4(0x445))+_0x5683a4(0x895);break;case'true_false':_0x1c3a61='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x1c3a61=_0x5683a4(0x35d);break;}return _0x5683a4(0x882)+(_0x5a3c2f+0x1)+_0x5683a4(0x6eb)+(_0x3aa795[_0x5683a4(0x4ce)]||_0x3aa795[_0x5683a4(0x2ea)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3aa795[_0x5683a4(0x3cb)]?_0x5683a4(0x209)+_0x3aa795[_0x5683a4(0x3cb)]+_0x5683a4(0x895):'')+_0x5683a4(0x73f)+_0x1c3a61+_0x5683a4(0x319);})['join']('')+_0x2e133d(0x4bc);_0x436b92[_0x2e133d(0x53d)][_0x2e133d(0x7e2)](_0x3b182b),_0x436b92[_0x2e133d(0x53d)][_0x2e133d(0x7fd)](),_0x436b92[_0x2e133d(0x55e)]=function(){setTimeout(()=>{const _0x359805=_0x40e1;_0x436b92[_0x359805(0x27e)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x56b18b=_0x101354;if(!currentQuizData||!currentQuizData[_0x56b18b(0x371)]){showMessage(_0x56b18b(0x590));return;}const _0x167c0d=currentQuizData,_0x2f19ae=window[_0x56b18b(0x2e7)]('',_0x56b18b(0x537)),_0x1a8b0b=_0x51947d=>String[_0x56b18b(0x3d0)](0x41+_0x51947d),_0x5a2075='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x167c0d[_0x56b18b(0x3ef)]+_0x56b18b(0x4dd)+_0x167c0d[_0x56b18b(0x371)][_0x56b18b(0x4cd)]((_0x2271e5,_0x4e3e94)=>{const _0x4d2015=_0x56b18b;let _0x202cb6='';const _0x4c2f36=_0x2271e5[_0x4d2015(0x81e)]||_0x167c0d[_0x4d2015(0x2a5)];switch(_0x4c2f36){case _0x4d2015(0x89a):case _0x4d2015(0x4e2):_0x202cb6='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x2271e5['options'][_0x4d2015(0x4cd)]((_0x429667,_0x29bb93)=>_0x4d2015(0x738)+_0x1a8b0b(_0x29bb93)+'.\x20'+_0x429667+_0x4d2015(0x71f))[_0x4d2015(0x58e)]('<br>')+_0x4d2015(0x7d4);break;case'true_false':_0x202cb6=_0x4d2015(0x74d);break;default:_0x202cb6='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x167c0d[_0x4d2015(0x3ef)]+_0x4d2015(0x745)+(_0x4e3e94+0x1)+_0x4d2015(0x468)+(_0x2271e5['stem']||_0x2271e5[_0x4d2015(0x2ea)])+_0x4d2015(0x8f1)+(_0x2271e5[_0x4d2015(0x3cb)]?'<div\x20class=\x22my-6\x22>'+_0x2271e5[_0x4d2015(0x3cb)]+'</div>':'')+_0x4d2015(0x73f)+_0x202cb6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x56b18b(0x58e)]('')+_0x56b18b(0x2a8);_0x2f19ae[_0x56b18b(0x53d)][_0x56b18b(0x7e2)](_0x5a2075),_0x2f19ae[_0x56b18b(0x53d)][_0x56b18b(0x7fd)](),_0x2f19ae[_0x56b18b(0x55e)]=function(){setTimeout(()=>{_0x2f19ae['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x341392){const _0x5563c9=_0x101354,_0x355a8a=doc(db,_0x5563c9(0x565)+appId+_0x5563c9(0x60e),_0x341392);try{const _0x712dc7=await getDoc(_0x355a8a);if(_0x712dc7[_0x5563c9(0x5dd)]()){const _0x4ba58a=_0x712dc7['data']()[_0x5563c9(0x21f)]||![];await updateDoc(_0x355a8a,{'isStarred':!_0x4ba58a});}}catch(_0x15ff60){console[_0x5563c9(0x2eb)](_0x5563c9(0x5aa),_0x15ff60),showMessage(_0x5563c9(0x68d));}}async function displayQuestionBank(){const _0x36439a=_0x101354,_0x2a87a0=document['getElementById'](_0x36439a(0x670));_0x2a87a0[_0x36439a(0x498)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x195107=collection(db,'artifacts/'+appId+_0x36439a(0x3ae)+userId+_0x36439a(0x8ed)),_0x15b6a8=query(_0x195107),_0x171bf6=await getDocs(_0x15b6a8);if(_0x171bf6[_0x36439a(0x62d)]){_0x2a87a0[_0x36439a(0x498)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x314035=_0x171bf6[_0x36439a(0x8a1)][_0x36439a(0x4cd)](_0x2617ce=>{const _0x19cefd=_0x36439a,_0x8edacb=_0x2617ce[_0x19cefd(0x471)](),_0x1b5b8b=_0x2617ce['id'];return _0x19cefd(0x48b)+JSON[_0x19cefd(0x909)](_0x8edacb)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x8edacb['questionText']||_0x8edacb[_0x19cefd(0x4ce)])+_0x19cefd(0x19d)+_0x8edacb[_0x19cefd(0x536)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x36439a(0x58e)]('');_0x2a87a0['innerHTML']=_0x36439a(0x6ac)+_0x314035+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x36439a(0x187)](_0x36439a(0x7c1))[_0x36439a(0x57e)]('click',createQuizFromBank);}catch(_0x5c4c23){console[_0x36439a(0x2eb)](_0x36439a(0x6e9),_0x5c4c23),_0x2a87a0['innerHTML']=_0x36439a(0x694);}}function showAdminLiveQuestionView(_0x4f87cd,_0x268d80,_0x3f9a49){const _0x46e84e=_0x101354,_0x10cdb7=_0x4f87cd[_0x46e84e(0x81e)]||currentQuizData[_0x46e84e(0x2a5)];let _0x5ec0e5='';if(_0x10cdb7==='multiple_choice'||_0x10cdb7===_0x46e84e(0x2f7)){const _0x23a24e=_0x10cdb7===_0x46e84e(0x2f7)?[_0x46e84e(0x700),_0x46e84e(0x708)]:_0x4f87cd[_0x46e84e(0x510)],_0x46a8de=_0x10cdb7===_0x46e84e(0x2f7)?_0x4f87cd[_0x46e84e(0x25e)]?0x0:0x1:_0x4f87cd[_0x46e84e(0x1c0)];_0x5ec0e5=_0x23a24e[_0x46e84e(0x4cd)]((_0x3bad5d,_0x4203ae)=>_0x46e84e(0x20d)+(_0x4203ae===_0x46a8de)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3bad5d+_0x46e84e(0x198))[_0x46e84e(0x58e)]('');}else{if(_0x10cdb7===_0x46e84e(0x61a)){const _0x72750a=_0x4f87cd['allResponses']||[];_0x5ec0e5=_0x72750a['map'](_0x2c81e1=>_0x46e84e(0x20d)+(_0x2c81e1===_0x4f87cd[_0x46e84e(0x3ab)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2c81e1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x46e84e(0x58e)]('');}}const _0x1cad66=_0x4f87cd[_0x46e84e(0x4ce)]||_0x4f87cd[_0x46e84e(0x2ea)],_0x242113=_0x46e84e(0x761)+(_0x268d80+0x1)+_0x46e84e(0x910)+_0x3f9a49+_0x46e84e(0x8db)+_0x1cad66+_0x46e84e(0x5b3)+_0x5ec0e5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x46e84e(0x498)]=_0x242113;window['MathJax']&&MathJax[_0x46e84e(0x16a)]&&MathJax[_0x46e84e(0x16a)]([liveGameView]);const _0x432ee0=document[_0x46e84e(0x187)](_0x46e84e(0x8c8));document['getElementById']('reveal-answer-btn')['addEventListener'](_0x46e84e(0x2a0),async()=>{const _0x430789=_0x46e84e,_0x2b5b0f=doc(db,_0x430789(0x565)+appId+_0x430789(0x720),currentLiveGameId);await updateDoc(_0x2b5b0f,{'questionStatus':'revealed'});const _0x9d7646=liveGameView['querySelector']('[data-is-correct=\x22true\x22]');_0x9d7646&&(_0x9d7646[_0x430789(0x8f6)][_0x430789(0x773)](_0x430789(0x237)),_0x9d7646[_0x430789(0x8f6)][_0x430789(0x43c)](_0x430789(0x69f),_0x430789(0x1bb),_0x430789(0x581),_0x430789(0x8f7),_0x430789(0x66b)),_0x9d7646[_0x430789(0x498)]='<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>'+_0x9d7646['innerHTML']),_0x432ee0[_0x430789(0x498)]=_0x430789(0x5b5)+(_0x268d80+0x1===_0x3f9a49?_0x430789(0x1b4):_0x430789(0x525))+_0x430789(0x252),document[_0x430789(0x187)](_0x430789(0x751))['addEventListener'](_0x430789(0x2a0),async()=>{const _0x401043=_0x430789,_0x53904e=doc(db,_0x401043(0x565)+appId+_0x401043(0x720),currentLiveGameId),_0x56dc41=await getDoc(_0x53904e);if(!_0x56dc41[_0x401043(0x5dd)]())return;const _0xf05c47=_0x56dc41[_0x401043(0x471)](),_0x496e96={};if(_0xf05c47['players'])for(const _0x4a14ce in _0xf05c47[_0x401043(0x484)]){_0x496e96[_0x401043(0x4a3)+_0x4a14ce+'.answeredCurrentQuestion']=![];}const _0x2c1212=_0x268d80+0x1;_0x2c1212<_0x3f9a49?(_0x496e96[_0x401043(0x705)]=_0x2c1212,_0x496e96[_0x401043(0x462)]=serverTimestamp(),_0x496e96[_0x401043(0x52c)]=_0x401043(0x419),await updateDoc(_0x53904e,_0x496e96)):await updateDoc(_0x53904e,{'status':_0x401043(0x364)});});}),document[_0x46e84e(0x187)]('end-game-btn')[_0x46e84e(0x57e)](_0x46e84e(0x2a0),async()=>{const _0x6f66e5=_0x46e84e,_0x3bb5a8=doc(db,'artifacts/'+appId+_0x6f66e5(0x720),currentLiveGameId);await deleteDoc(_0x3bb5a8),showView(_0x6f66e5(0x2b5));});}function showStudentLiveQuestionView(_0x4e9a64,_0x2c5b2c,_0x1754ce){const _0x2a9aa9=_0x101354,_0x7abebd=_0x4e9a64[_0x2a9aa9(0x81e)]||currentQuizData[_0x2a9aa9(0x2a5)];let _0x4ac13f='';if(_0x7abebd===_0x2a9aa9(0x89a)||_0x7abebd==='true_false'){const _0x2ee969=_0x7abebd===_0x2a9aa9(0x2f7)?[_0x2a9aa9(0x700),_0x2a9aa9(0x708)]:_0x4e9a64[_0x2a9aa9(0x510)];_0x4ac13f=_0x2ee969[_0x2a9aa9(0x4cd)]((_0x3f0fd9,_0x94e22d)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x94e22d+_0x2a9aa9(0x8d6)+_0x3f0fd9+_0x2a9aa9(0x1f0))[_0x2a9aa9(0x58e)]('');}else{if(_0x7abebd===_0x2a9aa9(0x61a)){const _0x999d31=_0x4e9a64['allResponses']||[];_0x4ac13f=_0x999d31['map']((_0x34b85f,_0xa775f8)=>_0x2a9aa9(0x461)+_0xa775f8+_0x2a9aa9(0x8d6)+_0x34b85f+_0x2a9aa9(0x1f0))['join']('');}else _0x7abebd===_0x2a9aa9(0x8b7)&&(_0x4ac13f=_0x2a9aa9(0x4ef));}const _0x5a3dab=_0x4e9a64['stem']||_0x4e9a64[_0x2a9aa9(0x2ea)],_0x1e69bb=_0x2a9aa9(0x464)+(_0x2c5b2c+0x1)+_0x2a9aa9(0x910)+_0x1754ce+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x5a3dab+_0x2a9aa9(0x18f)+_0x4ac13f+_0x2a9aa9(0x7df);liveGameView[_0x2a9aa9(0x498)]=_0x1e69bb;window[_0x2a9aa9(0x6c0)]&&MathJax[_0x2a9aa9(0x16a)]&&MathJax[_0x2a9aa9(0x16a)]([liveGameView]);const _0x2f280c=document['getElementById'](_0x2a9aa9(0x287));_0x2f280c&&_0x2f280c[_0x2a9aa9(0x57e)](_0x2a9aa9(0x2a0),()=>{const _0x30445e=_0x2a9aa9,_0xfa5237=document[_0x30445e(0x187)](_0x30445e(0x3d7))[_0x30445e(0x82c)];handleLiveAnswer(_0xfa5237,_0x4e9a64);}),document[_0x2a9aa9(0x187)]('live-options-container')[_0x2a9aa9(0x57e)](_0x2a9aa9(0x2a0),_0x3a2e96=>{const _0x3ee350=_0x2a9aa9,_0x2b3b4f=_0x3a2e96[_0x3ee350(0x1e5)][_0x3ee350(0x1d5)](_0x3ee350(0x597));if(_0x2b3b4f){const _0x315265=parseInt(_0x2b3b4f[_0x3ee350(0x7ed)][_0x3ee350(0x561)]);handleLiveAnswer(_0x315265,_0x4e9a64);}});}async function handleLiveAnswer(_0x53bd46,_0x40e648){const _0x311640=_0x101354;document[_0x311640(0x7eb)](_0x311640(0x655))[_0x311640(0x35f)](_0x5be8f2=>_0x5be8f2['disabled']=!![]);const _0x5cf7df=_0x40e648[_0x311640(0x81e)]||currentQuizData[_0x311640(0x2a5)];let _0x4551e5=![];if(_0x5cf7df===_0x311640(0x8b7)){const _0x568b10=(_0x53bd46||'')[_0x311640(0x547)]();_0x4551e5=await gradeShortAnswer(_0x568b10,_0x40e648);}else{if(_0x5cf7df===_0x311640(0x89a))_0x4551e5=_0x53bd46===_0x40e648[_0x311640(0x1c0)];else{if(_0x5cf7df===_0x311640(0x2f7)){const _0x2b81fd=_0x40e648[_0x311640(0x25e)];_0x4551e5=_0x53bd46===0x0&&_0x2b81fd||_0x53bd46===0x1&&!_0x2b81fd;}else{if(_0x5cf7df===_0x311640(0x61a)){const _0x4d2914=_0x40e648[_0x311640(0x156)][_0x53bd46];_0x4551e5=_0x4d2914===_0x40e648[_0x311640(0x3ab)];}}}}const _0x58c358=doc(db,_0x311640(0x565)+appId+'/public/data/liveGames',currentLiveGameId),_0x1cac98=await getDoc(_0x58c358);if(!_0x1cac98['exists']())return;const _0x4e1aac=_0x1cac98[_0x311640(0x471)](),_0xba4d6c=_0x4e1aac[_0x311640(0x484)][currentStudentName];let _0x346671=_0xba4d6c[_0x311640(0x540)]||[],_0x5ebff7=_0xba4d6c[_0x311640(0x545)]||0x0;const _0x5de52d={};let _0x559576=0x0;if(_0x4e1aac[_0x311640(0x462)]){const _0x5eb3bd=_0x4e1aac['questionDisplayedAt']['toDate'](),_0x5d7e1b=new Date()-_0x5eb3bd;if(_0x4551e5){const _0x5b9a4c=0x3e8,_0x4303a0=0x1f4,_0x393399=0x4e20;let _0xc402b7=_0x5d7e1b/_0x393399;if(_0xc402b7>0x1)_0xc402b7=0x1;const _0x2f41fd=Math['round'](_0xc402b7*_0x4303a0);_0x559576=_0x5b9a4c-_0x2f41fd,_0x5d7e1b<=0x1388&&!_0x346671['includes'](_0x311640(0x5d5))&&_0x346671['push'](_0x311640(0x5d5));}}_0x4551e5?(_0x5ebff7++,_0x5ebff7===0x3&&!_0x346671[_0x311640(0x7f8)]('on_fire')&&(_0x346671[_0x311640(0x36f)](_0x311640(0x5c6)),_0x5ebff7=0x0)):_0x5ebff7=0x0,_0x4551e5&&(_0x5de52d[_0x311640(0x4a3)+currentStudentName+'.score']=increment(_0x559576)),_0x5de52d[_0x311640(0x4a3)+currentStudentName+_0x311640(0x7f2)]=_0x346671,_0x5de52d['players.'+currentStudentName+_0x311640(0x69d)]=_0x5ebff7,_0x5de52d[_0x311640(0x4a3)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x5de52d[_0x311640(0x4a3)+currentStudentName+_0x311640(0x569)]=_0x4551e5,_0x5de52d['players.'+currentStudentName+'.pointsLastQuestion']=_0x559576,await updateDoc(_0x58c358,_0x5de52d),liveGameView[_0x311640(0x498)]=_0x311640(0x8f9);}function createQuizFromBank(){const _0xee4bef=_0x101354,_0x2a2371=document[_0xee4bef(0x7eb)](_0xee4bef(0x8ca));if(_0x2a2371['length']===0x0){showMessage(_0xee4bef(0x82f));return;}const _0x29a743=[];_0x2a2371[_0xee4bef(0x35f)](_0x460c3f=>{const _0x33923f=_0xee4bef;_0x29a743[_0x33923f(0x36f)](JSON['parse'](_0x460c3f['value']));});const _0x414b04={'topic':_0xee4bef(0x301),'questions':_0x29a743};displayGeneratedQuiz(_0x414b04);}function showAdminLobbyView(_0x3d3e34,_0x6c2cd8){const _0x4d05cb=_0x101354;showView(_0x4d05cb(0x333));const _0x464194=_0x4d05cb(0x79e)+_0x6c2cd8+_0x4d05cb(0x6ed)+_0x3d3e34+_0x4d05cb(0x308);liveGameView['innerHTML']=_0x464194,document[_0x4d05cb(0x187)]('start-game-btn')['addEventListener'](_0x4d05cb(0x2a0),async()=>{const _0x10cfad=_0x4d05cb;if(!currentQuizData||!currentQuizData[_0x10cfad(0x371)]||currentQuizData[_0x10cfad(0x371)][_0x10cfad(0x6bd)]===0x0){showMessage(_0x10cfad(0x1f7));return;}try{const _0x201128=doc(db,_0x10cfad(0x565)+appId+_0x10cfad(0x720),currentLiveGameId);await updateDoc(_0x201128,{'status':_0x10cfad(0x193),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x1983d9=currentQuizData[_0x10cfad(0x371)][0x0],_0x1bb585=currentQuizData['questions'][_0x10cfad(0x6bd)];showAdminLiveQuestionView(_0x1983d9,0x0,_0x1bb585);}catch(_0x122e06){console[_0x10cfad(0x2eb)](_0x10cfad(0x72a),_0x122e06),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openGlobalLiveModal(){const _0x60e71e=_0x101354;if(allQuizzesGlobal[_0x60e71e(0x6bd)]===0x0){const _0x793db9=await getDocs(collection(db,'artifacts/'+appId+_0x60e71e(0x60e)));allQuizzesGlobal=_0x793db9[_0x60e71e(0x8a1)][_0x60e71e(0x4cd)](_0x3c1006=>({'id':_0x3c1006['id'],..._0x3c1006[_0x60e71e(0x471)]()}));}renderGlobalQuizList(''),document[_0x60e71e(0x187)](_0x60e71e(0x636))[_0x60e71e(0x8f6)]['remove'](_0x60e71e(0x1f2));}async function openQuizBankModal(){const _0x1bc4c1=_0x101354;if(allQuizzesGlobal[_0x1bc4c1(0x6bd)]===0x0){const _0xeba1fc=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0xeba1fc[_0x1bc4c1(0x8a1)][_0x1bc4c1(0x4cd)](_0x1b71a6=>({'id':_0x1b71a6['id'],..._0x1b71a6[_0x1bc4c1(0x471)]()}));}renderQuizBankList(''),document[_0x1bc4c1(0x187)](_0x1bc4c1(0x300))[_0x1bc4c1(0x8f6)][_0x1bc4c1(0x773)](_0x1bc4c1(0x1f2));}function renderQuizBankList(_0x3b8e19=''){const _0x56cfa4=_0x101354,_0x20339a=document[_0x56cfa4(0x187)](_0x56cfa4(0x34b)),_0x29a0a5=_0x3b8e19['toLowerCase']()['trim'](),_0x355fe4=allQuizzesGlobal[_0x56cfa4(0x4cd)](_0x467186=>({..._0x467186,'projectName':allProjects['find'](_0x7cf62b=>_0x7cf62b['id']===_0x467186[_0x56cfa4(0x65c)])?.[_0x56cfa4(0x331)]||_0x56cfa4(0x714)}))[_0x56cfa4(0x604)](_0x612de7=>(_0x612de7[_0x56cfa4(0x3ef)]||'')[_0x56cfa4(0x802)]()[_0x56cfa4(0x7f8)](_0x29a0a5)||(_0x612de7['projectName']||'')['toLowerCase']()['includes'](_0x29a0a5)||_0x612de7['id'][_0x56cfa4(0x547)]()[_0x56cfa4(0x7f8)](_0x29a0a5));document[_0x56cfa4(0x187)](_0x56cfa4(0x3c5))[_0x56cfa4(0x8fd)]='('+_0x355fe4[_0x56cfa4(0x6bd)]+_0x56cfa4(0x80f),_0x20339a[_0x56cfa4(0x498)]=_0x355fe4[_0x56cfa4(0x6bd)]?_0x355fe4[_0x56cfa4(0x4cd)](_0x702805=>_0x56cfa4(0x677)+_0x702805['id']+'\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x702805[_0x56cfa4(0x3ef)]||_0x56cfa4(0x8cd))+_0x56cfa4(0x4f6)+(_0x702805['questions']?.[_0x56cfa4(0x6bd)]||0x0)+_0x56cfa4(0x5f7)+_0x702805['projectName']+_0x56cfa4(0x5db)+_0x702805['id']+_0x56cfa4(0x39d)+_0x702805['id']+_0x56cfa4(0x8b6)+_0x702805['id']+_0x56cfa4(0x8b4)+_0x702805['id']+_0x56cfa4(0x4e8))[_0x56cfa4(0x58e)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x20339a[_0x56cfa4(0x7eb)](_0x56cfa4(0x6f8))['forEach'](_0x4f4f87=>{const _0x3ed319=_0x56cfa4;_0x4f4f87[_0x3ed319(0x57e)](_0x3ed319(0x2a0),()=>{const _0x348c33=_0x3ed319,_0x71c5ab=_0x4f4f87[_0x348c33(0x7ed)]['id'];document[_0x348c33(0x187)]('quiz-bank-modal')[_0x348c33(0x8f6)][_0x348c33(0x43c)](_0x348c33(0x1f2)),showQuizDetailView(_0x71c5ab);});}),_0x20339a[_0x56cfa4(0x7eb)](_0x56cfa4(0x2b0))[_0x56cfa4(0x35f)](_0x31c0ec=>{const _0x53a6cf=_0x56cfa4;_0x31c0ec[_0x53a6cf(0x57e)](_0x53a6cf(0x2a0),_0xe9d9b2=>{const _0x53cf79=_0x53a6cf;_0xe9d9b2['stopPropagation']();const _0x250d07=_0x31c0ec[_0x53cf79(0x7ed)]['id'],_0x303311=allQuizzesGlobal[_0x53cf79(0x691)](_0x5df691=>_0x5df691['id']===_0x250d07);_0x303311?(currentQuizData=_0x303311,document[_0x53cf79(0x187)](_0x53cf79(0x300))['classList'][_0x53cf79(0x43c)](_0x53cf79(0x1f2)),startAdminTest()):showMessage(_0x53cf79(0x162));});}),_0x20339a['querySelectorAll'](_0x56cfa4(0x538))[_0x56cfa4(0x35f)](_0x1cafcb=>{const _0x49c995=_0x56cfa4;_0x1cafcb[_0x49c995(0x57e)](_0x49c995(0x2a0),_0x385f62=>{const _0x254d54=_0x49c995;_0x385f62[_0x254d54(0x7aa)]();const _0x501eef=_0x1cafcb['dataset']['id'],_0x107975=allQuizzesGlobal[_0x254d54(0x691)](_0x45c2c7=>_0x45c2c7['id']===_0x501eef);_0x107975?(document['getElementById'](_0x254d54(0x300))[_0x254d54(0x8f6)]['add']('hidden'),handleGenerateParallelFromBank(_0x107975)):showMessage(_0x254d54(0x162));});}),_0x20339a['querySelectorAll'](_0x56cfa4(0x704))[_0x56cfa4(0x35f)](_0x42f80e=>{const _0x1759f3=_0x56cfa4;_0x42f80e['addEventListener'](_0x1759f3(0x2a0),_0x158290=>{const _0x509b92=_0x1759f3;_0x158290[_0x509b92(0x7aa)]();const _0x1e9a03=_0x42f80e[_0x509b92(0x7ed)]['id'],_0x30f799=allQuizzesGlobal['find'](_0x5806d9=>_0x5806d9['id']===_0x1e9a03);_0x30f799?(document[_0x509b92(0x187)](_0x509b92(0x300))[_0x509b92(0x8f6)][_0x509b92(0x43c)]('hidden'),startPresentation(_0x30f799)):showMessage(_0x509b92(0x162));});});}async function handleCompareResults(_0x1726ec,_0x586ddb){const _0x42b4a4=_0x101354,_0x2e5eba=document[_0x42b4a4(0x187)]('comparison-modal'),_0x192fc6=document[_0x42b4a4(0x187)](_0x42b4a4(0x8f0)),_0x27e06b=document[_0x42b4a4(0x187)](_0x42b4a4(0x410));document[_0x42b4a4(0x187)](_0x42b4a4(0x475))[_0x42b4a4(0x8f6)][_0x42b4a4(0x43c)](_0x42b4a4(0x4dc)),document[_0x42b4a4(0x187)](_0x42b4a4(0x1d2))[_0x42b4a4(0x8f6)][_0x42b4a4(0x773)](_0x42b4a4(0x4dc)),_0x192fc6[_0x42b4a4(0x8f6)][_0x42b4a4(0x773)](_0x42b4a4(0x1f2)),_0x27e06b['classList'][_0x42b4a4(0x43c)](_0x42b4a4(0x1f2)),_0x192fc6[_0x42b4a4(0x498)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x27e06b['innerHTML']='',_0x2e5eba[_0x42b4a4(0x8f6)][_0x42b4a4(0x773)](_0x42b4a4(0x1f2));try{const _0x3faa29=doc(db,_0x42b4a4(0x565)+appId+_0x42b4a4(0x60e),_0x1726ec),_0x1285f8=await getDoc(_0x3faa29);if(!_0x1285f8[_0x42b4a4(0x5dd)]())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x270c32=_0x1285f8[_0x42b4a4(0x471)](),_0x31806d=_0x270c32[_0x42b4a4(0x371)][_0x42b4a4(0x6bd)],_0x7c1875=collection(db,'artifacts/'+appId+_0x42b4a4(0x71b)+_0x586ddb+'/submissions'),_0xad38d8=collection(db,'artifacts/'+appId+_0x42b4a4(0x71b)+_0x1726ec+_0x42b4a4(0x8e0)),[_0x138c76,_0x58f374]=await Promise['all']([getDocs(_0x7c1875),getDocs(_0xad38d8)]),_0x4e1576=_0x138c76[_0x42b4a4(0x8a1)]['map'](_0x105467=>_0x105467[_0x42b4a4(0x471)]()),_0x24fab8=_0x58f374[_0x42b4a4(0x8a1)][_0x42b4a4(0x4cd)](_0x6c926a=>_0x6c926a[_0x42b4a4(0x471)]()),_0xe848f1=_0x4e1576[_0x42b4a4(0x4cd)](_0x479217=>_0x479217['latestScore']),_0x116ce6=_0x24fab8['map'](_0x3b8ed4=>_0x3b8ed4['latestScore']),_0x7b1f58=calculateMeanAndStdDev(_0xe848f1),_0x33e75f=calculateMeanAndStdDev(_0x116ce6),_0x4ca4ef=_0x7b1f58[_0x42b4a4(0x693)],_0x122269=_0x33e75f[_0x42b4a4(0x693)],_0xbd362d=_0x122269-_0x4ca4ef;let _0xec8bfe=_0x42b4a4(0x88c)+_0x4ca4ef[_0x42b4a4(0x383)](0x2)+_0x42b4a4(0x1a8)+_0x122269[_0x42b4a4(0x383)](0x2)+_0x42b4a4(0x6d7)+(_0xbd362d>=0x0?_0x42b4a4(0x563):_0x42b4a4(0x6b5))+_0x42b4a4(0x185)+(_0xbd362d>=0x0?_0x42b4a4(0x7a2):'text-red-800')+_0x42b4a4(0x5a6)+(_0xbd362d>=0x0?_0x42b4a4(0x8a3):'text-red-900')+'\x22>'+(_0xbd362d>=0x0?'+':'')+_0xbd362d[_0x42b4a4(0x383)](0x2)+_0x42b4a4(0x5c5);_0x192fc6[_0x42b4a4(0x498)]=_0xec8bfe;const _0x41bb43=document[_0x42b4a4(0x187)](_0x42b4a4(0x28c))[_0x42b4a4(0x448)]('2d');if(chartInstances[_0x42b4a4(0x8ad)])chartInstances[_0x42b4a4(0x8ad)][_0x42b4a4(0x8d2)]();chartInstances[_0x42b4a4(0x8ad)]=new Chart(_0x41bb43,{'type':'bar','data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x42b4a4(0x291),'data':[_0x4ca4ef],'backgroundColor':_0x42b4a4(0x157)},{'label':_0x42b4a4(0x3c9),'data':[_0x122269],'backgroundColor':_0x42b4a4(0x47b)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x31806d}}}});const _0xba0193=currentProjectData['students']||[],_0x261d87=_0xba0193['map'](_0x34d46b=>{const _0x316ff5=_0x42b4a4,_0x3b0595=_0x4e1576[_0x316ff5(0x691)](_0x54856d=>_0x54856d[_0x316ff5(0x386)]===_0x34d46b),_0x16216b=_0x24fab8['find'](_0x3f929a=>_0x3f929a[_0x316ff5(0x386)]===_0x34d46b),_0x3a84ae=_0x3b0595?_0x3b0595[_0x316ff5(0x1e4)]:null,_0x1c09bf=_0x16216b?_0x16216b[_0x316ff5(0x1e4)]:null,_0x51599e=_0x3a84ae!==null&&_0x1c09bf!==null?_0x1c09bf-_0x3a84ae:null,_0x2db818=_0x3a84ae!==null?calculateZScore(_0x3a84ae,_0x7b1f58['mean'],_0x7b1f58['stdDev']):null,_0x1b6fc2=_0x1c09bf!==null?calculateZScore(_0x1c09bf,_0x33e75f['mean'],_0x33e75f['stdDev']):null,_0xd81c3a=_0x2db818!==null?calculateTScore(_0x2db818):null,_0x2fb05a=_0x1b6fc2!==null?calculateTScore(_0x1b6fc2):null,_0x92da67=_0xd81c3a!==null&&_0x2fb05a!==null?_0x2fb05a-_0xd81c3a:null;return{'name':_0x34d46b,'preScore':_0x3a84ae,'postScore':_0x1c09bf,'gain':_0x51599e,'preTScore':_0xd81c3a,'postTScore':_0x2fb05a,'tGain':_0x92da67};});renderIndividualComparisonTable(_0x261d87,_0x27e06b);}catch(_0x4e158f){console[_0x42b4a4(0x2eb)](_0x42b4a4(0x178),_0x4e158f),_0x192fc6[_0x42b4a4(0x498)]=_0x42b4a4(0x1e3);}}function displayHalfMarkResult(_0xddb1b2,_0x27c37e){const _0x20cb52=_0x101354,_0x3cf5bf=_0xddb1b2>=_0x27c37e/0x2,_0x1ca7e0=_0x3cf5bf?'bg-green-100':'bg-red-100',_0x1f6f8f=_0x3cf5bf?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':_0x20cb52(0x276),_0x23cbbf=_0x3cf5bf?_0x20cb52(0x8bf):'text-red-800',_0x86472b=_0x3cf5bf?'ทำคะแนนได้เกินครึ่ง':_0x20cb52(0x54b),_0x30e343=_0x3cf5bf?_0x20cb52(0x474):_0x20cb52(0x5b6);let _0x439dc6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x1ca7e0+_0x20cb52(0x51d)+_0x1f6f8f+_0x20cb52(0x716)+_0x23cbbf+_0x20cb52(0x575)+_0x86472b+_0x20cb52(0x502)+_0x30e343+_0x20cb52(0x7d0);studentResultArea[_0x20cb52(0x498)]=_0x439dc6,studentResultArea[_0x20cb52(0x8f6)][_0x20cb52(0x773)](_0x20cb52(0x1f2)),studentQuizArea[_0x20cb52(0x8f6)][_0x20cb52(0x43c)]('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x3cf5bf});}function displayPerfectScoreResult(_0xf0ea3c,_0x2f7176){const _0xeec762=_0x101354,_0x3058e5=_0xf0ea3c===_0x2f7176,_0x5c31df=_0x3058e5?_0xeec762(0x853):_0xeec762(0x211),_0x1ed964=_0x3058e5?_0xeec762(0x865):_0xeec762(0x4e3),_0x46a9dc=_0x3058e5?_0xeec762(0x5c4):'text-blue-800',_0x230f6e=_0x3058e5?_0xeec762(0x6d5):'ยังไม่เต็มนะ',_0x490101=_0x3058e5?'สุดยอด!\x20ตอบถูกทุกข้อ':_0xeec762(0x2f2);let _0x30ca33=_0xeec762(0x4f2)+_0x5c31df+_0xeec762(0x51d)+_0x1ed964+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x46a9dc+_0xeec762(0x575)+_0x230f6e+_0xeec762(0x502)+_0x490101+_0xeec762(0x7d0);studentResultArea['innerHTML']=_0x30ca33,studentResultArea[_0xeec762(0x8f6)][_0xeec762(0x773)](_0xeec762(0x1f2)),studentQuizArea[_0xeec762(0x8f6)][_0xeec762(0x43c)](_0xeec762(0x1f2)),setupResultScreenBackButton({'showRankings':![],'score':_0xf0ea3c,'totalQuestions':_0x2f7176});}function renderIndividualComparisonTable(_0x44afd6,_0x344bf7){const _0x580c8e=_0x101354;_0x44afd6['sort']((_0x56bccd,_0x979463)=>(_0x979463[_0x580c8e(0x77c)]??-Infinity)-(_0x56bccd[_0x580c8e(0x77c)]??-Infinity));let _0x5ce744=_0x580c8e(0x559);_0x44afd6[_0x580c8e(0x6bd)]===0x0?_0x5ce744+=_0x580c8e(0x4d4):_0x44afd6[_0x580c8e(0x35f)]((_0x5a61ee,_0x13a6fb)=>{const _0x398497=_0x580c8e;let _0x248266='-',_0x14ceb2='';if(_0x5a61ee['gain']!==null){const _0x58e2d1=_0x5a61ee[_0x398497(0x6e8)]>0x0?_0x398497(0x2ac):_0x5a61ee['gain']<0x0?_0x398497(0x2e4):'text-gray-500',_0x4a17f1=_0x5a61ee[_0x398497(0x6e8)]>0x0?'+':'';_0x248266=_0x398497(0x6fb)+_0x58e2d1+'\x22>'+_0x4a17f1+_0x5a61ee[_0x398497(0x6e8)]+_0x398497(0x71f);if(_0x5a61ee[_0x398497(0x6e8)]>0x0)_0x14ceb2='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x5a61ee[_0x398497(0x6e8)]<0x0?_0x14ceb2=_0x398497(0x534):_0x14ceb2=_0x398497(0x7b6);}let _0x22433d='-';if(_0x5a61ee[_0x398497(0x77c)]!==null){const _0x9352fc=_0x5a61ee[_0x398497(0x77c)]>0x0?'text-green-600':_0x5a61ee['tGain']<0x0?_0x398497(0x2e4):_0x398497(0x49c),_0x17615f=_0x5a61ee[_0x398497(0x77c)]>0x0?'+':'';_0x22433d=_0x398497(0x6fb)+_0x9352fc+'\x22>'+_0x17615f+_0x5a61ee['tGain']['toFixed'](0x2)+_0x398497(0x71f);}_0x5ce744+=_0x398497(0x408)+(_0x13a6fb+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x5a61ee[_0x398497(0x67d)]+_0x398497(0x382)+(_0x5a61ee[_0x398497(0x492)]??'-')+_0x398497(0x2c6)+(_0x5a61ee[_0x398497(0x487)]??'-')+_0x398497(0x382)+_0x248266+_0x398497(0x2a1)+_0x14ceb2+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x5a61ee[_0x398497(0x40a)]?.[_0x398497(0x383)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x5a61ee[_0x398497(0x421)]?.['toFixed'](0x2)??'-')+_0x398497(0x382)+_0x22433d+_0x398497(0x7dc);}),_0x5ce744+=_0x580c8e(0x3d8),_0x344bf7['innerHTML']=_0x5ce744;}function handleRenameQuiz(_0x476754,_0x486881){const _0x5ed053=_0x101354;actionTargetId=_0x476754,document[_0x5ed053(0x187)](_0x5ed053(0x84a))[_0x5ed053(0x82c)]=_0x486881,renameQuizModal['classList'][_0x5ed053(0x773)]('hidden');}function setupComparisonModalTabs(){const _0x5065a3=_0x101354,_0x541061=document[_0x5065a3(0x187)](_0x5065a3(0x475)),_0x1a3982=document[_0x5065a3(0x187)](_0x5065a3(0x1d2)),_0x550e9e=document[_0x5065a3(0x187)](_0x5065a3(0x8f0)),_0x77a57f=document['getElementById'](_0x5065a3(0x410));_0x541061['addEventListener'](_0x5065a3(0x2a0),()=>{const _0x2836a5=_0x5065a3;_0x541061['classList'][_0x2836a5(0x43c)](_0x2836a5(0x4dc)),_0x1a3982[_0x2836a5(0x8f6)]['remove'](_0x2836a5(0x4dc)),_0x550e9e[_0x2836a5(0x8f6)][_0x2836a5(0x773)](_0x2836a5(0x1f2)),_0x77a57f[_0x2836a5(0x8f6)][_0x2836a5(0x43c)]('hidden');}),_0x1a3982[_0x5065a3(0x57e)](_0x5065a3(0x2a0),()=>{const _0x104a9a=_0x5065a3;_0x1a3982[_0x104a9a(0x8f6)]['add'](_0x104a9a(0x4dc)),_0x541061[_0x104a9a(0x8f6)][_0x104a9a(0x773)](_0x104a9a(0x4dc)),_0x77a57f[_0x104a9a(0x8f6)][_0x104a9a(0x773)](_0x104a9a(0x1f2)),_0x550e9e['classList'][_0x104a9a(0x43c)]('hidden');});}setupComparisonModalTabs();function renderGlobalQuizList(_0x1739e8=''){const _0x52e2ab=_0x101354,_0x13367f=document['getElementById']('global-quiz-list'),_0x43027e=_0x1739e8['toLowerCase']()['trim'](),_0x3ed279=allQuizzesGlobal['map'](_0x263150=>({..._0x263150,'projectName':allProjects[_0x52e2ab(0x691)](_0x199f5f=>_0x199f5f['id']===_0x263150[_0x52e2ab(0x65c)])?.[_0x52e2ab(0x331)]||_0x263150[_0x52e2ab(0x65c)]}))['filter'](_0x4f4113=>(_0x4f4113[_0x52e2ab(0x3ef)]||'')[_0x52e2ab(0x802)]()['includes'](_0x43027e)||(_0x4f4113[_0x52e2ab(0x331)]||'')[_0x52e2ab(0x802)]()['includes'](_0x43027e));document[_0x52e2ab(0x187)]('global-live-game-count')['textContent']='('+_0x3ed279[_0x52e2ab(0x6bd)]+_0x52e2ab(0x80f),_0x13367f['innerHTML']=_0x3ed279[_0x52e2ab(0x6bd)]?_0x3ed279[_0x52e2ab(0x4cd)](_0x4da383=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4da383['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20'+(_0x4da383[_0x52e2ab(0x3ef)]||_0x52e2ab(0x8cd))+'\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x4da383[_0x52e2ab(0x371)]?.[_0x52e2ab(0x6bd)]||0x0)+'\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x4da383[_0x52e2ab(0x331)]+_0x52e2ab(0x4aa))[_0x52e2ab(0x58e)](''):'<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',selectedGlobalQuizId=null,document[_0x52e2ab(0x187)](_0x52e2ab(0x37f))[_0x52e2ab(0x8cc)]=!![],_0x13367f[_0x52e2ab(0x7eb)](_0x52e2ab(0x85c))[_0x52e2ab(0x35f)](_0x16243f=>{const _0x1a6ef4=_0x52e2ab;_0x16243f[_0x1a6ef4(0x57e)]('click',()=>{const _0x582c1e=_0x1a6ef4;selectedGlobalQuizId=_0x16243f[_0x582c1e(0x7ed)]['id'],_0x13367f[_0x582c1e(0x7eb)](_0x582c1e(0x2d5))[_0x582c1e(0x35f)](_0x24ed22=>_0x24ed22[_0x582c1e(0x8f6)]['remove']('bg-purple-50',_0x582c1e(0x4c5),'ring-purple-400')),_0x16243f['classList']['add'](_0x582c1e(0x1e0),'ring-2',_0x582c1e(0x793)),document[_0x582c1e(0x187)](_0x582c1e(0x37f))[_0x582c1e(0x8cc)]=![];});});}function listenForLiveGameUpdates(){const _0x3d51bb=_0x101354;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x50f28d=doc(db,_0x3d51bb(0x565)+appId+_0x3d51bb(0x720),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x50f28d,_0x5791f5=>{const _0x379f97=_0x3d51bb;if(!_0x5791f5['exists']()){showMessage(_0x379f97(0x37c)),showView(currentMode);return;}const _0x9ce7d0=_0x5791f5[_0x379f97(0x471)]();!currentQuizData&&_0x9ce7d0[_0x379f97(0x250)]&&((async()=>{const _0x149a2f=_0x379f97;try{const _0x4a6295=doc(db,_0x149a2f(0x565)+appId+_0x149a2f(0x60e),_0x9ce7d0[_0x149a2f(0x250)]),_0x5cda16=await getDoc(_0x4a6295);_0x5cda16['exists']()&&(currentQuizData={'id':_0x5cda16['id'],..._0x5cda16[_0x149a2f(0x471)]()});}catch(_0x2de0ae){console[_0x149a2f(0x2eb)](_0x149a2f(0x862),_0x2de0ae);}})());switch(_0x9ce7d0[_0x379f97(0x200)]){case'lobby':if(currentMode===_0x379f97(0x739)){const _0x12b602=_0x9ce7d0[_0x379f97(0x484)]?Object[_0x379f97(0x5ba)](_0x9ce7d0[_0x379f97(0x484)]):[];document[_0x379f97(0x187)](_0x379f97(0x877))['textContent']=_0x12b602['length'],document[_0x379f97(0x187)](_0x379f97(0x7ef))['innerHTML']=_0x12b602[_0x379f97(0x4cd)](_0x3d7eb9=>_0x379f97(0x466)+_0x3d7eb9+'</span>')[_0x379f97(0x58e)]('');const _0x21f479=document[_0x379f97(0x187)](_0x379f97(0x186));_0x21f479&&(_0x21f479[_0x379f97(0x8cc)]=_0x12b602[_0x379f97(0x6bd)]===0x0);}else showView(_0x379f97(0x333)),liveGameView[_0x379f97(0x498)]=_0x379f97(0x65b)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x379f97(0x193):const _0x336cb6=_0x9ce7d0[_0x379f97(0x705)];if(currentQuizData&&currentQuizData[_0x379f97(0x371)][_0x336cb6]){const _0x40ad8f=currentQuizData[_0x379f97(0x371)][_0x336cb6],_0x416082=currentQuizData['questions'][_0x379f97(0x6bd)];if(currentMode===_0x379f97(0x739)){lastRenderedAdminQuestionIndex!==_0x336cb6&&(showAdminLiveQuestionView(_0x40ad8f,_0x336cb6,_0x416082),lastRenderedAdminQuestionIndex=_0x336cb6);const _0x20aeb9=document[_0x379f97(0x187)](_0x379f97(0x189));if(_0x20aeb9&&_0x9ce7d0[_0x379f97(0x484)]){const _0x2b7d04=Object[_0x379f97(0x5ba)](_0x9ce7d0['players'])[_0x379f97(0x6bd)],_0x2b366e=Object[_0x379f97(0x804)](_0x9ce7d0[_0x379f97(0x484)])[_0x379f97(0x604)](_0x594e73=>_0x594e73[_0x379f97(0x84b)]===!![])[_0x379f97(0x6bd)];_0x20aeb9['textContent']=_0x2b366e+'/'+_0x2b7d04,_0x2b7d04>0x0&&_0x2b366e===_0x2b7d04&&_0x9ce7d0['questionStatus']!==_0x379f97(0x4d2)&&revealAnswerForAdmin(_0x336cb6,_0x416082);}}else{const _0x2edccd=_0x9ce7d0[_0x379f97(0x484)][currentStudentName];if(_0x9ce7d0['questionStatus']===_0x379f97(0x4d2)){if(_0x2edccd[_0x379f97(0x84b)]){const _0x680da=_0x2edccd[_0x379f97(0x376)],_0x1791dc=_0x2edccd['pointsLastQuestion']||0x0,_0x136d28=_0x680da?_0x379f97(0x420)+_0x1791dc+_0x379f97(0x38a):_0x379f97(0x274);liveGameView[_0x379f97(0x498)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>'+_0x136d28+_0x379f97(0x4a2);}else liveGameView[_0x379f97(0x498)]=_0x379f97(0x3ba);}else!_0x2edccd[_0x379f97(0x84b)]&&showStudentLiveQuestionView(_0x40ad8f,_0x336cb6,_0x416082);}}break;case'podium':showPodiumView(_0x9ce7d0[_0x379f97(0x484)]);break;}});}async function authenticateUser(){const _0x5d1b41=_0x101354;try{typeof __initial_auth_token!==_0x5d1b41(0x630)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x5bcbc9){console[_0x5d1b41(0x2eb)](_0x5d1b41(0x84f),_0x5bcbc9),showMessage(_0x5d1b41(0x24a));}}function showView(_0x777b95){const _0x5505e3=_0x101354,_0x21dc36=[_0x5505e3(0x3d3),_0x5505e3(0x621),_0x5505e3(0x755),_0x5505e3(0x5d8),'quiz-results-view',_0x5505e3(0x919),_0x5505e3(0x905)];_0x21dc36['forEach'](_0x1ae1d5=>document[_0x5505e3(0x187)](_0x1ae1d5)?.['classList']['add']('hidden'));if(_0x777b95===_0x5505e3(0x2b5))adminView[_0x5505e3(0x8f6)][_0x5505e3(0x773)](_0x5505e3(0x1f2)),projectDashboardView[_0x5505e3(0x8f6)][_0x5505e3(0x773)](_0x5505e3(0x1f2));else{if(_0x777b95==='student')studentView[_0x5505e3(0x8f6)][_0x5505e3(0x773)](_0x5505e3(0x1f2)),studentInitialView[_0x5505e3(0x8f6)][_0x5505e3(0x773)](_0x5505e3(0x1f2)),studentNameSelectionView[_0x5505e3(0x8f6)][_0x5505e3(0x43c)](_0x5505e3(0x1f2)),studentQuizArea[_0x5505e3(0x8f6)][_0x5505e3(0x43c)](_0x5505e3(0x1f2)),studentResultArea['classList'][_0x5505e3(0x43c)](_0x5505e3(0x1f2)),studentReadingArea[_0x5505e3(0x8f6)][_0x5505e3(0x43c)](_0x5505e3(0x1f2)),studentJoinGameView[_0x5505e3(0x8f6)][_0x5505e3(0x43c)]('hidden');else{if(_0x777b95===_0x5505e3(0x223))adminView[_0x5505e3(0x8f6)]['remove'](_0x5505e3(0x1f2)),projectDetailView['classList'][_0x5505e3(0x773)](_0x5505e3(0x1f2));else{if(_0x777b95===_0x5505e3(0x298))adminView['classList'][_0x5505e3(0x773)](_0x5505e3(0x1f2)),quizResultsView['classList'][_0x5505e3(0x773)](_0x5505e3(0x1f2));else _0x777b95===_0x5505e3(0x333)&&liveGameView[_0x5505e3(0x8f6)][_0x5505e3(0x773)](_0x5505e3(0x1f2));}}}}function showJoinGameView(){const _0x47ca14=_0x101354;studentInitialView[_0x47ca14(0x8f6)][_0x47ca14(0x43c)]('hidden'),studentJoinGameView[_0x47ca14(0x8f6)]['remove'](_0x47ca14(0x1f2));}async function handleSaveVisibilitySettings(){const _0x31054d=_0x101354;if(!currentProjectId)return;const _0x36be4a=doc(db,_0x31054d(0x565)+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x36be4a,{'settings.showInStudentDashboard':document[_0x31054d(0x187)](_0x31054d(0x17c))[_0x31054d(0x743)],'settings.isPasscodeEnabled':document['getElementById']('enable-passcode-checkbox')[_0x31054d(0x743)],'settings.passcode':document[_0x31054d(0x187)](_0x31054d(0x303))[_0x31054d(0x82c)][_0x31054d(0x4b3)]()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x215527){console[_0x31054d(0x2eb)](_0x31054d(0x5f1),_0x215527),showMessage(_0x31054d(0x627));}}function setupEventListeners(){const _0x1be8fa=_0x101354;document[_0x1be8fa(0x187)](_0x1be8fa(0x299))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),handleModeSwitch),document[_0x1be8fa(0x187)](_0x1be8fa(0x777))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),handleUpdateOldQuizzes),document[_0x1be8fa(0x187)](_0x1be8fa(0x409))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),handleResetProjectOrder),document[_0x1be8fa(0x187)](_0x1be8fa(0x2d0))['addEventListener'](_0x1be8fa(0x2a0),handleSaveVisibilitySettings),document['getElementById']('add-custom-math-topic-btn')[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),handleAddCustomMathTopic),document[_0x1be8fa(0x187)](_0x1be8fa(0x680))[_0x1be8fa(0x57e)]('click',handleSelectAllTopics),document[_0x1be8fa(0x187)](_0x1be8fa(0x5b0))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),handleDeselectAllTopics),document[_0x1be8fa(0x187)](_0x1be8fa(0x592))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>{const _0x329821=_0x1be8fa;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x329821(0x2b5));}),document[_0x1be8fa(0x187)](_0x1be8fa(0x1f5))['addEventListener']('click',()=>{const _0x25687b=_0x1be8fa;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x25687b(0x223));}),document[_0x1be8fa(0x187)]('back-to-dashboard-from-results-btn')['addEventListener'](_0x1be8fa(0x2a0),()=>{const _0x1e42ba=_0x1be8fa;showView(_0x1e42ba(0x2b5));}),document[_0x1be8fa(0x187)](_0x1be8fa(0x220))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>{const _0x448079=_0x1be8fa;messageModal['classList'][_0x448079(0x43c)](_0x448079(0x1f2)),typeof modalConfirmAction===_0x448079(0x5d6)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x1be8fa(0x187)](_0x1be8fa(0x821))['addEventListener'](_0x1be8fa(0x2a0),()=>createProjectModal['classList']['remove'](_0x1be8fa(0x1f2))),document[_0x1be8fa(0x187)](_0x1be8fa(0x238))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>createProjectModal['classList'][_0x1be8fa(0x43c)](_0x1be8fa(0x1f2))),document[_0x1be8fa(0x187)]('cancel-admin-login-btn')['addEventListener'](_0x1be8fa(0x2a0),()=>adminPasswordModal['classList'][_0x1be8fa(0x43c)](_0x1be8fa(0x1f2))),document[_0x1be8fa(0x187)]('confirm-admin-login-btn')[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),handleAdminLogin),document[_0x1be8fa(0x187)](_0x1be8fa(0x1aa))[_0x1be8fa(0x57e)]('keyup',_0x5c4c14=>{const _0x3df4b1=_0x1be8fa;if(_0x5c4c14[_0x3df4b1(0x64a)]===_0x3df4b1(0x221))handleAdminLogin();}),document[_0x1be8fa(0x187)](_0x1be8fa(0x8aa))[_0x1be8fa(0x57e)]('click',()=>{const _0x4434dc=_0x1be8fa;confirmationModal[_0x4434dc(0x8f6)][_0x4434dc(0x43c)]('hidden'),confirmAction=null;}),document[_0x1be8fa(0x187)]('confirm-delete-btn')[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>{const _0x4c73fc=_0x1be8fa;confirmAction&&confirmAction(),confirmationModal[_0x4c73fc(0x8f6)][_0x4c73fc(0x43c)]('hidden'),confirmAction=null;}),document[_0x1be8fa(0x187)](_0x1be8fa(0x7e4))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>renameQuizModal[_0x1be8fa(0x8f6)]['add'](_0x1be8fa(0x1f2))),document[_0x1be8fa(0x187)](_0x1be8fa(0x24d))['addEventListener'](_0x1be8fa(0x2a0),confirmRenameQuiz),document[_0x1be8fa(0x187)]('cancel-move-quiz-btn')['addEventListener']('click',()=>moveQuizModal[_0x1be8fa(0x8f6)]['add'](_0x1be8fa(0x1f2))),document[_0x1be8fa(0x187)](_0x1be8fa(0x365))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),confirmMoveQuiz),document[_0x1be8fa(0x187)](_0x1be8fa(0x600))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>quizSettingsModal['classList']['add']('hidden')),document[_0x1be8fa(0x187)](_0x1be8fa(0x3c7))['addEventListener']('click',confirmQuizSettings),document[_0x1be8fa(0x187)](_0x1be8fa(0x174))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>quizStatusModal[_0x1be8fa(0x8f6)][_0x1be8fa(0x43c)](_0x1be8fa(0x1f2))),document[_0x1be8fa(0x187)]('confirm-quiz-status-btn')[_0x1be8fa(0x57e)]('click',confirmQuizStatus);const _0x2848cb=document[_0x1be8fa(0x187)](_0x1be8fa(0x4e1));document['getElementById']('cancel-export-pdf-btn')['addEventListener'](_0x1be8fa(0x2a0),()=>{const _0x2d7bc0=_0x1be8fa;_0x2848cb['classList']['add'](_0x2d7bc0(0x1f2));}),document[_0x1be8fa(0x187)](_0x1be8fa(0x5a7))[_0x1be8fa(0x57e)]('click',async()=>{const _0x2d1741=_0x1be8fa,_0x22fde4=allQuizzes['find'](_0x39bfaf=>_0x39bfaf['id']===actionTargetId);_0x22fde4?(currentQuizData=_0x22fde4,exportQuizAsWorksheetPDF()):showMessage(_0x2d1741(0x162)),_0x2848cb['classList'][_0x2d1741(0x43c)](_0x2d1741(0x1f2));}),document['getElementById']('export-tutor-pdf-btn')[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),async()=>{const _0x416e4c=_0x1be8fa,_0x1ac108=allQuizzes[_0x416e4c(0x691)](_0x2fd459=>_0x2fd459['id']===actionTargetId);_0x1ac108?(currentQuizData=_0x1ac108,exportQuizAsTutorPDF()):showMessage(_0x416e4c(0x162)),_0x2848cb[_0x416e4c(0x8f6)][_0x416e4c(0x43c)](_0x416e4c(0x1f2));}),document[_0x1be8fa(0x187)](_0x1be8fa(0x800))[_0x1be8fa(0x57e)]('click',openGlobalLiveModal),document['getElementById'](_0x1be8fa(0x45d))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>{const _0x784b21=_0x1be8fa;document['getElementById']('global-live-game-modal')[_0x784b21(0x8f6)][_0x784b21(0x43c)](_0x784b21(0x1f2)),selectedGlobalQuizId=null;}),document[_0x1be8fa(0x187)](_0x1be8fa(0x4e6))[_0x1be8fa(0x57e)](_0x1be8fa(0x4ab),_0x1d8204=>renderGlobalQuizList(_0x1d8204['target']['value'])),document[_0x1be8fa(0x187)](_0x1be8fa(0x37f))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>{const _0x3287bc=_0x1be8fa,_0x24b3ce=selectedGlobalQuizId;if(!_0x24b3ce)return;document['getElementById'](_0x3287bc(0x636))[_0x3287bc(0x8f6)]['add'](_0x3287bc(0x1f2)),handleStartLiveRace(_0x24b3ce);}),document[_0x1be8fa(0x187)](_0x1be8fa(0x844))[_0x1be8fa(0x57e)](_0x1be8fa(0x4ab),renderProjects),document[_0x1be8fa(0x187)]('project-sort-select')['addEventListener'](_0x1be8fa(0x491),async()=>{const _0x4e0cdc=_0x1be8fa,_0x14d740=document[_0x4e0cdc(0x187)](_0x4e0cdc(0x842))[_0x4e0cdc(0x82c)],_0x2b2739=doc(db,_0x4e0cdc(0x588),_0x4e0cdc(0x39f));try{await setDoc(_0x2b2739,{'projectSort':_0x14d740},{'merge':!![]});}catch(_0x4d5406){console[_0x4e0cdc(0x2eb)](_0x4e0cdc(0x7bc),_0x4d5406),showMessage(_0x4e0cdc(0x57d));}}),document[_0x1be8fa(0x187)](_0x1be8fa(0x171))[_0x1be8fa(0x57e)](_0x1be8fa(0x4ab),renderQuizzes),document[_0x1be8fa(0x187)](_0x1be8fa(0x629))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>{const _0x12a603=_0x1be8fa;globalDashboardSettings[_0x12a603(0x356)]='grid',saveUserPreference(_0x12a603(0x356),_0x12a603(0x75b)),renderProjects();}),document[_0x1be8fa(0x187)](_0x1be8fa(0x4fe))[_0x1be8fa(0x57e)]('click',()=>{const _0x22603a=_0x1be8fa;globalDashboardSettings[_0x22603a(0x356)]='list',saveUserPreference(_0x22603a(0x356),_0x22603a(0x835)),renderProjects();}),manageTab[_0x1be8fa(0x57e)]('click',()=>switchProjectTab(_0x1be8fa(0x1c5))),resultsTab[_0x1be8fa(0x57e)]('click',()=>switchProjectTab('results')),leaderboardTab[_0x1be8fa(0x57e)]('click',()=>switchProjectTab(_0x1be8fa(0x2fe))),document['getElementById'](_0x1be8fa(0x754))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>switchQuizDetailTab(_0x1be8fa(0x594))),document[_0x1be8fa(0x187)](_0x1be8fa(0x5b7))['addEventListener']('click',()=>switchQuizDetailTab(_0x1be8fa(0x228))),document['getElementById'](_0x1be8fa(0x684))[_0x1be8fa(0x57e)]('click',()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x1be8fa(0x187)]('behavior-log-tab-btn')[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>switchQuizDetailTab(_0x1be8fa(0x7f6))),document[_0x1be8fa(0x187)](_0x1be8fa(0x2a9))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),handleAnalyzeClass),generateWorksheetBtn[_0x1be8fa(0x57e)]('click',generateWorksheet);const _0xbc8b17=document[_0x1be8fa(0x187)](_0x1be8fa(0x30c)),_0x4039d9=document[_0x1be8fa(0x187)]('link-input-area'),_0x3d9089=document[_0x1be8fa(0x187)](_0x1be8fa(0x43b)),_0x18facf=document['getElementById'](_0x1be8fa(0x2f5)),_0x2d0754=document[_0x1be8fa(0x187)](_0x1be8fa(0x605)),_0xd5852b=document[_0x1be8fa(0x187)](_0x1be8fa(0x4af));topicTab[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>{const _0x452e27=_0x1be8fa;topicTab[_0x452e27(0x8f6)]['add'](_0x452e27(0x4dc)),textTab['classList']['remove'](_0x452e27(0x4dc)),fileTab[_0x452e27(0x8f6)][_0x452e27(0x773)](_0x452e27(0x4dc)),worksheetTab[_0x452e27(0x8f6)][_0x452e27(0x773)](_0x452e27(0x4dc));if(_0xbc8b17)_0xbc8b17[_0x452e27(0x8f6)][_0x452e27(0x773)](_0x452e27(0x4dc));if(_0x3d9089)_0x3d9089[_0x452e27(0x8f6)][_0x452e27(0x773)](_0x452e27(0x4dc));if(_0x2d0754)_0x2d0754[_0x452e27(0x8f6)][_0x452e27(0x773)]('active');topicInputArea[_0x452e27(0x8f6)][_0x452e27(0x773)](_0x452e27(0x1f2)),textInputArea[_0x452e27(0x8f6)]['add'](_0x452e27(0x1f2)),fileInputArea[_0x452e27(0x8f6)][_0x452e27(0x43c)](_0x452e27(0x1f2)),worksheetInputArea[_0x452e27(0x8f6)][_0x452e27(0x43c)](_0x452e27(0x1f2));if(_0x4039d9)_0x4039d9[_0x452e27(0x8f6)][_0x452e27(0x43c)](_0x452e27(0x1f2));if(_0x18facf)_0x18facf[_0x452e27(0x8f6)]['add']('hidden');if(_0xd5852b)_0xd5852b[_0x452e27(0x8f6)][_0x452e27(0x43c)](_0x452e27(0x1f2));}),textTab[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>{const _0x557513=_0x1be8fa;textTab[_0x557513(0x8f6)][_0x557513(0x43c)](_0x557513(0x4dc)),topicTab[_0x557513(0x8f6)]['remove'](_0x557513(0x4dc)),fileTab[_0x557513(0x8f6)][_0x557513(0x773)](_0x557513(0x4dc)),worksheetTab['classList'][_0x557513(0x773)]('active');if(_0xbc8b17)_0xbc8b17['classList'][_0x557513(0x773)]('active');if(_0x3d9089)_0x3d9089[_0x557513(0x8f6)][_0x557513(0x773)](_0x557513(0x4dc));if(_0x2d0754)_0x2d0754[_0x557513(0x8f6)][_0x557513(0x773)](_0x557513(0x4dc));textInputArea[_0x557513(0x8f6)]['remove']('hidden'),topicInputArea[_0x557513(0x8f6)][_0x557513(0x43c)]('hidden'),fileInputArea['classList'][_0x557513(0x43c)](_0x557513(0x1f2)),worksheetInputArea[_0x557513(0x8f6)][_0x557513(0x43c)](_0x557513(0x1f2));if(_0x4039d9)_0x4039d9[_0x557513(0x8f6)][_0x557513(0x43c)](_0x557513(0x1f2));if(_0x18facf)_0x18facf['classList']['add'](_0x557513(0x1f2));if(_0xd5852b)_0xd5852b[_0x557513(0x8f6)][_0x557513(0x43c)](_0x557513(0x1f2));}),fileTab[_0x1be8fa(0x57e)]('click',()=>{const _0x4a30=_0x1be8fa;fileTab['classList'][_0x4a30(0x43c)](_0x4a30(0x4dc)),topicTab[_0x4a30(0x8f6)]['remove'](_0x4a30(0x4dc)),textTab['classList'][_0x4a30(0x773)](_0x4a30(0x4dc)),worksheetTab['classList'][_0x4a30(0x773)](_0x4a30(0x4dc));if(_0xbc8b17)_0xbc8b17[_0x4a30(0x8f6)][_0x4a30(0x773)](_0x4a30(0x4dc));if(_0x3d9089)_0x3d9089['classList']['remove'](_0x4a30(0x4dc));if(_0x2d0754)_0x2d0754[_0x4a30(0x8f6)][_0x4a30(0x773)](_0x4a30(0x4dc));fileInputArea[_0x4a30(0x8f6)][_0x4a30(0x773)](_0x4a30(0x1f2)),topicInputArea['classList']['add']('hidden'),textInputArea[_0x4a30(0x8f6)][_0x4a30(0x43c)](_0x4a30(0x1f2)),worksheetInputArea[_0x4a30(0x8f6)][_0x4a30(0x43c)]('hidden');if(_0x4039d9)_0x4039d9[_0x4a30(0x8f6)][_0x4a30(0x43c)](_0x4a30(0x1f2));if(_0x18facf)_0x18facf[_0x4a30(0x8f6)][_0x4a30(0x43c)](_0x4a30(0x1f2));if(_0xd5852b)_0xd5852b[_0x4a30(0x8f6)][_0x4a30(0x43c)]('hidden');}),worksheetTab['addEventListener']('click',()=>{const _0x22cfbc=_0x1be8fa;worksheetTab['classList'][_0x22cfbc(0x43c)](_0x22cfbc(0x4dc)),topicTab['classList'][_0x22cfbc(0x773)]('active'),textTab[_0x22cfbc(0x8f6)][_0x22cfbc(0x773)]('active'),fileTab['classList'][_0x22cfbc(0x773)]('active');if(_0xbc8b17)_0xbc8b17[_0x22cfbc(0x8f6)]['remove']('active');if(_0x3d9089)_0x3d9089[_0x22cfbc(0x8f6)][_0x22cfbc(0x773)]('active');if(_0x2d0754)_0x2d0754[_0x22cfbc(0x8f6)]['remove']('active');worksheetInputArea[_0x22cfbc(0x8f6)][_0x22cfbc(0x773)]('hidden'),topicInputArea['classList'][_0x22cfbc(0x43c)](_0x22cfbc(0x1f2)),textInputArea[_0x22cfbc(0x8f6)]['add'](_0x22cfbc(0x1f2)),fileInputArea[_0x22cfbc(0x8f6)]['add']('hidden');if(_0x4039d9)_0x4039d9[_0x22cfbc(0x8f6)]['add'](_0x22cfbc(0x1f2));if(_0x18facf)_0x18facf['classList'][_0x22cfbc(0x43c)]('hidden');if(_0xd5852b)_0xd5852b[_0x22cfbc(0x8f6)][_0x22cfbc(0x43c)]('hidden');});const _0x496794=document[_0x1be8fa(0x187)](_0x1be8fa(0x212)),_0x5f4d21=document[_0x1be8fa(0x187)](_0x1be8fa(0x670));_0x496794&&_0x496794[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>{const _0x54b9f6=_0x1be8fa;topicTab[_0x54b9f6(0x8f6)][_0x54b9f6(0x773)]('active'),textTab['classList']['remove'](_0x54b9f6(0x4dc)),fileTab[_0x54b9f6(0x8f6)][_0x54b9f6(0x773)](_0x54b9f6(0x4dc)),worksheetTab[_0x54b9f6(0x8f6)][_0x54b9f6(0x773)]('active');if(_0xbc8b17)_0xbc8b17[_0x54b9f6(0x8f6)][_0x54b9f6(0x773)]('active');if(_0x3d9089)_0x3d9089[_0x54b9f6(0x8f6)]['remove'](_0x54b9f6(0x4dc));if(_0x2d0754)_0x2d0754[_0x54b9f6(0x8f6)][_0x54b9f6(0x773)]('active');_0x496794[_0x54b9f6(0x8f6)][_0x54b9f6(0x43c)]('active'),topicInputArea[_0x54b9f6(0x8f6)]['add'](_0x54b9f6(0x1f2)),textInputArea[_0x54b9f6(0x8f6)][_0x54b9f6(0x43c)](_0x54b9f6(0x1f2)),fileInputArea[_0x54b9f6(0x8f6)][_0x54b9f6(0x43c)]('hidden'),worksheetInputArea[_0x54b9f6(0x8f6)]['add'](_0x54b9f6(0x1f2));if(_0x4039d9)_0x4039d9[_0x54b9f6(0x8f6)][_0x54b9f6(0x43c)]('hidden');if(_0x18facf)_0x18facf[_0x54b9f6(0x8f6)]['add']('hidden');if(_0xd5852b)_0xd5852b['classList'][_0x54b9f6(0x43c)](_0x54b9f6(0x1f2));_0x5f4d21[_0x54b9f6(0x8f6)][_0x54b9f6(0x773)](_0x54b9f6(0x1f2)),displayQuestionBank();});_0xbc8b17&&(_0xbc8b17[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>{const _0x26af6e=_0x1be8fa;_0xbc8b17[_0x26af6e(0x8f6)][_0x26af6e(0x43c)](_0x26af6e(0x4dc)),topicTab[_0x26af6e(0x8f6)]['remove'](_0x26af6e(0x4dc)),textTab[_0x26af6e(0x8f6)][_0x26af6e(0x773)]('active'),fileTab[_0x26af6e(0x8f6)][_0x26af6e(0x773)](_0x26af6e(0x4dc)),worksheetTab[_0x26af6e(0x8f6)]['remove']('active');if(_0x3d9089)_0x3d9089['classList'][_0x26af6e(0x773)](_0x26af6e(0x4dc));if(_0x2d0754)_0x2d0754['classList']['remove'](_0x26af6e(0x4dc));_0x4039d9[_0x26af6e(0x8f6)][_0x26af6e(0x773)](_0x26af6e(0x1f2)),topicInputArea[_0x26af6e(0x8f6)][_0x26af6e(0x43c)](_0x26af6e(0x1f2)),textInputArea[_0x26af6e(0x8f6)][_0x26af6e(0x43c)](_0x26af6e(0x1f2)),fileInputArea[_0x26af6e(0x8f6)][_0x26af6e(0x43c)](_0x26af6e(0x1f2)),worksheetInputArea[_0x26af6e(0x8f6)][_0x26af6e(0x43c)](_0x26af6e(0x1f2));if(_0x18facf)_0x18facf['classList'][_0x26af6e(0x43c)](_0x26af6e(0x1f2));if(_0xd5852b)_0xd5852b[_0x26af6e(0x8f6)]['add'](_0x26af6e(0x1f2));}),document[_0x1be8fa(0x187)](_0x1be8fa(0x7e5))['addEventListener'](_0x1be8fa(0x2a0),handleGenerateFromLink));_0x3d9089&&_0x3d9089['addEventListener']('click',()=>{const _0x15108b=_0x1be8fa;_0x3d9089[_0x15108b(0x8f6)][_0x15108b(0x43c)]('active'),topicTab[_0x15108b(0x8f6)][_0x15108b(0x773)](_0x15108b(0x4dc)),textTab[_0x15108b(0x8f6)][_0x15108b(0x773)](_0x15108b(0x4dc)),fileTab['classList'][_0x15108b(0x773)]('active'),worksheetTab[_0x15108b(0x8f6)]['remove'](_0x15108b(0x4dc));if(_0xbc8b17)_0xbc8b17[_0x15108b(0x8f6)][_0x15108b(0x773)](_0x15108b(0x4dc));if(_0x496794)_0x496794[_0x15108b(0x8f6)][_0x15108b(0x773)](_0x15108b(0x4dc));if(_0x2d0754)_0x2d0754[_0x15108b(0x8f6)]['remove'](_0x15108b(0x4dc));_0x18facf[_0x15108b(0x8f6)]['remove']('hidden'),topicInputArea[_0x15108b(0x8f6)][_0x15108b(0x43c)]('hidden'),textInputArea[_0x15108b(0x8f6)]['add'](_0x15108b(0x1f2)),fileInputArea[_0x15108b(0x8f6)][_0x15108b(0x43c)](_0x15108b(0x1f2)),worksheetInputArea[_0x15108b(0x8f6)][_0x15108b(0x43c)](_0x15108b(0x1f2));if(_0x4039d9)_0x4039d9[_0x15108b(0x8f6)][_0x15108b(0x43c)](_0x15108b(0x1f2));if(_0x5f4d21)_0x5f4d21[_0x15108b(0x8f6)][_0x15108b(0x43c)](_0x15108b(0x1f2));if(_0xd5852b)_0xd5852b[_0x15108b(0x8f6)][_0x15108b(0x43c)]('hidden');});_0x2d0754&&_0x2d0754['addEventListener'](_0x1be8fa(0x2a0),()=>{const _0x4cd367=_0x1be8fa;_0x2d0754['classList']['add']('active'),topicTab[_0x4cd367(0x8f6)]['remove'](_0x4cd367(0x4dc)),textTab[_0x4cd367(0x8f6)]['remove'](_0x4cd367(0x4dc)),fileTab['classList'][_0x4cd367(0x773)]('active'),worksheetTab[_0x4cd367(0x8f6)]['remove'](_0x4cd367(0x4dc));if(_0xbc8b17)_0xbc8b17[_0x4cd367(0x8f6)][_0x4cd367(0x773)](_0x4cd367(0x4dc));if(_0x3d9089)_0x3d9089[_0x4cd367(0x8f6)]['remove'](_0x4cd367(0x4dc));if(_0x496794)_0x496794[_0x4cd367(0x8f6)][_0x4cd367(0x773)]('active');_0xd5852b[_0x4cd367(0x8f6)][_0x4cd367(0x773)]('hidden'),topicInputArea[_0x4cd367(0x8f6)][_0x4cd367(0x43c)](_0x4cd367(0x1f2)),textInputArea[_0x4cd367(0x8f6)][_0x4cd367(0x43c)](_0x4cd367(0x1f2)),fileInputArea[_0x4cd367(0x8f6)][_0x4cd367(0x43c)](_0x4cd367(0x1f2)),worksheetInputArea[_0x4cd367(0x8f6)][_0x4cd367(0x43c)](_0x4cd367(0x1f2));if(_0x4039d9)_0x4039d9[_0x4cd367(0x8f6)][_0x4cd367(0x43c)](_0x4cd367(0x1f2));if(_0x18facf)_0x18facf['classList'][_0x4cd367(0x43c)](_0x4cd367(0x1f2));if(_0x5f4d21)_0x5f4d21[_0x4cd367(0x8f6)][_0x4cd367(0x43c)](_0x4cd367(0x1f2));});const _0x17d682=document[_0x1be8fa(0x187)](_0x1be8fa(0x1d4)),_0x56a50b=document[_0x1be8fa(0x187)](_0x1be8fa(0x434));_0x17d682&&_0x17d682['addEventListener']('change',_0x271185=>{const _0x40baa5=_0x1be8fa;_0x271185['target'][_0x40baa5(0x701)][_0x40baa5(0x6bd)]>0x0?_0x56a50b[_0x40baa5(0x8cc)]=![]:_0x56a50b[_0x40baa5(0x8cc)]=!![];});_0x56a50b&&_0x56a50b[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),handleGenerateFromBlueprint);const _0x5f47b4=document[_0x1be8fa(0x187)]('parallel-test-upload-input'),_0x2a1139=document[_0x1be8fa(0x187)]('generate-from-parallel-test-btn');_0x5f47b4&&_0x5f47b4[_0x1be8fa(0x57e)](_0x1be8fa(0x491),_0x1c2658=>{const _0xd89ee7=_0x1be8fa;_0x2a1139['disabled']=_0x1c2658[_0xd89ee7(0x1e5)][_0xd89ee7(0x701)]['length']===0x0;});_0x2a1139&&_0x2a1139[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),handleGenerateParallelTest);loadQuizBtn['addEventListener'](_0x1be8fa(0x2a0),handleLoadQuiz),startQuizBtn[_0x1be8fa(0x57e)]('click',()=>{const _0x31c836=_0x1be8fa,_0x168030=document[_0x31c836(0x187)](_0x31c836(0x81f));currentStudentName=_0x168030[_0x31c836(0x82c)];if(!currentStudentName){showMessage(_0x31c836(0x736));return;}studentNameSelectionView[_0x31c836(0x8f6)]['add'](_0x31c836(0x1f2)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x1be8fa(0x187)](_0x1be8fa(0x59f))['addEventListener'](_0x1be8fa(0x2a0),showJoinGameView),document[_0x1be8fa(0x187)](_0x1be8fa(0x663))[_0x1be8fa(0x57e)]('click',handleJoinLiveGame),document[_0x1be8fa(0x187)](_0x1be8fa(0x8f3))['addEventListener'](_0x1be8fa(0x2a0),()=>showView(_0x1be8fa(0x5f6)));const _0x49cb4a=()=>{const _0x35329e=_0x1be8fa,_0x540edf=document['getElementById'](_0x35329e(0x860))[_0x35329e(0x8fd)][_0x35329e(0x83e)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'results_'+(_0x540edf||'quiz');},_0x258650=document[_0x1be8fa(0x187)](_0x1be8fa(0x259));_0x258650&&_0x258650['addEventListener'](_0x1be8fa(0x4ab),_0x29161f=>{const _0x4fd773=_0x1be8fa,_0x5065c3=_0x29161f['target'][_0x4fd773(0x82c)]['toLowerCase']()[_0x4fd773(0x4b3)](),_0x2ba6f3=document[_0x4fd773(0x187)]('math-topics-checkbox-container'),_0x33a6aa=_0x2ba6f3['querySelectorAll'](_0x4fd773(0x334));_0x33a6aa['forEach'](_0x5f271e=>{const _0x3bfc87=_0x4fd773;let _0x5b6a98=![];const _0x4fff71=_0x5f271e[_0x3bfc87(0x7eb)](_0x3bfc87(0x16f));_0x4fff71[_0x3bfc87(0x35f)](_0x713316=>{const _0xc5d558=_0x3bfc87,_0x319037=_0x713316['querySelector'](_0xc5d558(0x275))['textContent']['toLowerCase']();_0x319037[_0xc5d558(0x7f8)](_0x5065c3)?(_0x713316[_0xc5d558(0x50b)][_0xc5d558(0x442)]=_0xc5d558(0x29a),_0x5b6a98=!![]):_0x713316[_0xc5d558(0x50b)][_0xc5d558(0x442)]=_0xc5d558(0x3aa);}),_0x5b6a98?_0x5f271e[_0x3bfc87(0x50b)][_0x3bfc87(0x442)]=_0x3bfc87(0x82e):_0x5f271e[_0x3bfc87(0x50b)][_0x3bfc87(0x442)]=_0x3bfc87(0x3aa);});});document[_0x1be8fa(0x187)](_0x1be8fa(0x44e))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>exportTableAsImage('results-table-container',_0x49cb4a())),document['getElementById'](_0x1be8fa(0x567))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>exportTableAsPDF(_0x1be8fa(0x7fc),_0x49cb4a())),document[_0x1be8fa(0x187)]('export-word-btn')['addEventListener'](_0x1be8fa(0x2a0),()=>exportTableAsWord(_0x1be8fa(0x614),_0x49cb4a())),document[_0x1be8fa(0x187)](_0x1be8fa(0x7ec))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>exportTableAsExcel('results-table',_0x49cb4a()));const _0x3bcfad=()=>{const _0x492761=_0x1be8fa,_0x213bf2=document[_0x492761(0x187)](_0x492761(0x860))[_0x492761(0x8fd)]['replace'](/[^a-z0-9]/gi,'_')[_0x492761(0x802)]();return _0x492761(0x1c6)+(_0x213bf2||_0x492761(0x65d));};document[_0x1be8fa(0x187)](_0x1be8fa(0x51c))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>exportTableAsImage(_0x1be8fa(0x2f8),_0x3bcfad())),document[_0x1be8fa(0x187)]('export-leaderboard-pdf-btn')['addEventListener'](_0x1be8fa(0x2a0),()=>exportTableAsPDF('quiz-leaderboard-table',_0x3bcfad())),document[_0x1be8fa(0x187)](_0x1be8fa(0x469))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>exportTableAsWord(_0x1be8fa(0x2f8),_0x3bcfad())),document['getElementById'](_0x1be8fa(0x1a4))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>exportTableAsExcel('quiz-leaderboard-table',_0x3bcfad())),projectQuizzesList[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),async _0x253390=>{const _0x260846=_0x1be8fa,_0x3ec23e=_0x253390[_0x260846(0x1e5)][_0x260846(0x1d5)](_0x260846(0x63c)),_0x14e9cb=_0x253390['target'][_0x260846(0x1d5)](_0x260846(0x7dd)),_0x2e94a2=_0x253390[_0x260846(0x1e5)][_0x260846(0x1d5)](_0x260846(0x702)),_0x3c33a3=_0x253390['target'][_0x260846(0x1d5)](_0x260846(0x422)),_0x3f3635=_0x253390['target'][_0x260846(0x1d5)]('.star-quiz-btn'),_0xa20c4=_0x253390[_0x260846(0x1e5)][_0x260846(0x1d5)](_0x260846(0x2f3)),_0x10e507=_0x253390[_0x260846(0x1e5)][_0x260846(0x1d5)](_0x260846(0x381)),_0x47a297=_0x253390[_0x260846(0x1e5)][_0x260846(0x1d5)]('.quiz-settings-btn'),_0x43744d=_0x253390['target'][_0x260846(0x1d5)](_0x260846(0x5f0)),_0x42c71a=_0x253390[_0x260846(0x1e5)][_0x260846(0x1d5)](_0x260846(0x1c3)),_0x462faf=_0x253390[_0x260846(0x1e5)][_0x260846(0x1d5)]('.parallel-quiz-btn'),_0xc07abb=_0x253390[_0x260846(0x1e5)][_0x260846(0x1d5)](_0x260846(0x5b8)),_0x452743=_0x253390[_0x260846(0x1e5)]['closest'](_0x260846(0x727)),_0x5a7375=_0x253390[_0x260846(0x1e5)]['closest'](_0x260846(0x858)),_0xf708ec=_0x253390[_0x260846(0x1e5)]['closest'](_0x260846(0x6c8)),_0x24d1c8=_0x253390['target']['closest'](_0x260846(0x236)),_0x26a679=_0x253390[_0x260846(0x1e5)]['closest'](_0x260846(0x58f)),_0x256e13=_0x253390[_0x260846(0x1e5)][_0x260846(0x1d5)](_0x260846(0x781)),_0x14b352=_0x253390[_0x260846(0x1e5)][_0x260846(0x1d5)]('.delete-quiz-btn'),_0x3a41ee=_0x253390[_0x260846(0x1e5)][_0x260846(0x1d5)](_0x260846(0x1ce)),_0x41b3a2=_0x253390[_0x260846(0x1e5)]['closest'](_0x260846(0x71c));if(_0x41b3a2){const _0x2e2400=_0x41b3a2[_0x260846(0x7ed)][_0x260846(0x250)],_0x18d9cb=document['getElementById']('actions-container-'+_0x2e2400);_0x18d9cb&&_0x18d9cb[_0x260846(0x8f6)][_0x260846(0x496)]('hidden');}else{if(_0x14e9cb){const _0x26a039=_0x14e9cb[_0x260846(0x7ed)][_0x260846(0x250)],_0x3e20d1=allQuizzes[_0x260846(0x691)](_0x34a327=>_0x34a327['id']===_0x26a039);_0x3e20d1&&handleGenerateParallelPostTest(_0x3e20d1);}else{if(_0x2e94a2)handleCompareResults(_0x2e94a2[_0x260846(0x7ed)][_0x260846(0x250)],_0x2e94a2[_0x260846(0x7ed)][_0x260846(0x6c9)]);else{if(_0x3c33a3){const _0x396f2f=_0x3c33a3[_0x260846(0x7ed)]['quizId'],_0x164873=allQuizzes[_0x260846(0x691)](_0x473e1c=>_0x473e1c['id']===_0x396f2f);_0x164873&&_0x164873[_0x260846(0x6ec)]?(displayLessonPlan(_0x164873[_0x260846(0x6ec)],_0x164873),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x396f2f)),document['getElementById']('confirmation-modal')[_0x260846(0x399)]('h3')[_0x260846(0x8fd)]=_0x260846(0x903),document[_0x260846(0x187)](_0x260846(0x8e9))[_0x260846(0x8fd)]='สร้างใหม่'):handleGenerateLessonPlan(_0x396f2f);}else{if(_0x3f3635)handleToggleStarQuiz(_0x3f3635[_0x260846(0x7ed)][_0x260846(0x250)]);else{if(_0xa20c4)copyTextToClipboard(_0xa20c4[_0x260846(0x7ed)][_0x260846(0x250)],_0x260846(0x60b));else{if(_0x10e507)handleOpenQuizEditor(_0x10e507[_0x260846(0x7ed)]['quizId']);else{if(_0x47a297)handleQuizSettings(_0x47a297[_0x260846(0x7ed)][_0x260846(0x250)]);else{if(_0x43744d)handleDuplicateQuiz(_0x43744d['dataset'][_0x260846(0x250)]);else{if(_0x42c71a)handleRenameQuiz(_0x42c71a['dataset']['quizId'],_0x42c71a[_0x260846(0x7ed)]['topic']);else{if(_0x462faf){const _0x46a2bc=_0x462faf['dataset']['quizId'],_0x5aab65=allQuizzes[_0x260846(0x691)](_0x228eb2=>_0x228eb2['id']===_0x46a2bc);_0x5aab65&&handleGenerateParallelFromBank(_0x5aab65);}else{if(_0xc07abb)handleMoveQuiz(_0xc07abb[_0x260846(0x7ed)][_0x260846(0x250)]);else{if(_0x452743)handleManualQuizPairing(_0x452743['dataset'][_0x260846(0x250)]);else{if(_0x5a7375)handleUnpairQuiz(_0x5a7375[_0x260846(0x7ed)][_0x260846(0x250)]);else{if(_0xf708ec){const _0x25ff62=_0xf708ec[_0x260846(0x7ed)][_0x260846(0x250)],_0x5191d7=allQuizzes[_0x260846(0x691)](_0x25ecc5=>_0x25ecc5['id']===_0x25ff62);if(_0x5191d7)startPresentation(_0x5191d7);}else{if(_0x24d1c8){const _0x14bd2e=_0x24d1c8[_0x260846(0x7ed)]['quizId'],_0x5c500b=allQuizzes[_0x260846(0x691)](_0x1577f1=>_0x1577f1['id']===_0x14bd2e);_0x5c500b&&(currentQuizData=_0x5c500b,startAdminTest());}else{if(_0x26a679)handleStartLiveRace(_0x26a679['dataset']['quizId']);else{if(_0x256e13)actionTargetId=_0x256e13['dataset'][_0x260846(0x250)],document[_0x260846(0x187)]('export-pdf-modal')[_0x260846(0x8f6)]['remove'](_0x260846(0x1f2));else{if(_0x14b352)showConfirmation(_0x260846(0x425)+_0x14b352['dataset']['topic']+_0x260846(0x79b),()=>handleDeleteQuiz(_0x14b352[_0x260846(0x7ed)][_0x260846(0x250)]));else{if(_0x3a41ee)handleQuizStatus(_0x3a41ee[_0x260846(0x7ed)][_0x260846(0x250)]);else _0x3ec23e&&showQuizDetailView(_0x3ec23e[_0x260846(0x7ed)][_0x260846(0x250)]);}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0x1be8fa(0x328))[_0x1be8fa(0x399)](_0x1be8fa(0x6c3))['addEventListener'](_0x1be8fa(0x2a0),_0x459d73=>{const _0x5d2ed0=_0x1be8fa,_0x5c6d58=_0x459d73[_0x5d2ed0(0x1e5)]['closest'](_0x5d2ed0(0x4a7));if(!_0x5c6d58||!_0x5c6d58[_0x5d2ed0(0x7ed)][_0x5d2ed0(0x631)])return;const _0x3c75b7=_0x5c6d58[_0x5d2ed0(0x7ed)][_0x5d2ed0(0x631)];if(quizLeaderboardSortBy===_0x3c75b7)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x5d2ed0(0x50e)?'desc':'asc';else{quizLeaderboardSortBy=_0x3c75b7;const _0x15c898=[_0x5d2ed0(0x386)];quizLeaderboardSortOrder=_0x15c898['includes'](_0x3c75b7)?_0x5d2ed0(0x50e):_0x5d2ed0(0x3c0);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x5d2ed0(0x309));}),document[_0x1be8fa(0x187)](_0x1be8fa(0x47e))[_0x1be8fa(0x57e)]('click',closePresentation),document[_0x1be8fa(0x187)]('prev-question-btn')['addEventListener'](_0x1be8fa(0x2a0),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x1be8fa(0x840))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>{const _0x469325=_0x1be8fa;currentQuizData[_0x469325(0x371)]&&currentPresentationSlide<currentQuizData[_0x469325(0x371)][_0x469325(0x6bd)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x1be8fa(0x57e)]('fullscreenchange',()=>{const _0x1032a7=_0x1be8fa;!document[_0x1032a7(0x412)]&&(presentationModal[_0x1032a7(0x50b)]['display']=_0x1032a7(0x3aa));}),document[_0x1be8fa(0x187)](_0x1be8fa(0x5e3))['addEventListener'](_0x1be8fa(0x2a0),handleDeleteAllStudents),studentList[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),_0x2cdb5c=>{const _0xd0639=_0x1be8fa,_0x5d3b1d=_0x2cdb5c['target']['closest'](_0xd0639(0x172));if(_0x5d3b1d){const _0x98f3ee=_0x5d3b1d[_0xd0639(0x7ed)][_0xd0639(0x386)];handleDeleteStudent(_0x98f3ee);}}),document['getElementById'](_0x1be8fa(0x82a))['addEventListener'](_0x1be8fa(0x2a0),handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x1be8fa(0x491),_0x3b138b=>{const _0x18b238=_0x1be8fa,_0x55ef72=_0x3b138b[_0x18b238(0x1e5)]['files'][0x0],_0x4881b0=document[_0x18b238(0x187)](_0x18b238(0x82a));_0x55ef72?(selectedFile=_0x55ef72,_0x4881b0[_0x18b238(0x8cc)]=![]):(selectedFile=null,_0x4881b0[_0x18b238(0x8cc)]=!![]);}),document['getElementById'](_0x1be8fa(0x3bc))[_0x1be8fa(0x57e)]('change',_0x39ed64=>{const _0x80124f=_0x1be8fa,_0x2e587d=document[_0x80124f(0x187)](_0x80124f(0x3a9)),_0x5227c6=document[_0x80124f(0x187)](_0x80124f(0x197)),_0x257a6c=document[_0x80124f(0x187)](_0x80124f(0x345));_0x39ed64[_0x80124f(0x1e5)][_0x80124f(0x82c)]===_0x80124f(0x3aa)?_0x2e587d[_0x80124f(0x8f6)][_0x80124f(0x43c)](_0x80124f(0x1f2)):(_0x2e587d['classList']['remove'](_0x80124f(0x1f2)),_0x39ed64[_0x80124f(0x1e5)][_0x80124f(0x82c)]==='whole_quiz'?(_0x5227c6[_0x80124f(0x8fd)]=_0x80124f(0x7a9),_0x257a6c[_0x80124f(0x82c)]='10'):(_0x5227c6[_0x80124f(0x8fd)]=_0x80124f(0x692),_0x257a6c[_0x80124f(0x82c)]='30'));}),document[_0x1be8fa(0x187)](_0x1be8fa(0x435))['addEventListener'](_0x1be8fa(0x491),_0x80955e=>{const _0x2abbbf=_0x1be8fa,_0x16966d=document[_0x2abbbf(0x187)](_0x2abbbf(0x3f3)),_0x25d85e=_0x80955e['target']['value'],_0x571866=document[_0x2abbbf(0x399)](_0x2abbbf(0x7d5)),_0x41b8d8=document[_0x2abbbf(0x187)]('passing-score-input'),_0x5e97cd=document[_0x2abbbf(0x187)](_0x2abbbf(0x3d4));_0x25d85e===_0x2abbbf(0x39b)?_0x571866[_0x2abbbf(0x8fd)]='จำนวนคู่:':_0x571866[_0x2abbbf(0x8fd)]=_0x2abbbf(0x7d1),_0x25d85e===_0x2abbbf(0x89a)||_0x25d85e===_0x2abbbf(0x4e2)||_0x25d85e===_0x2abbbf(0x577)?_0x16966d[_0x2abbbf(0x8f6)][_0x2abbbf(0x773)](_0x2abbbf(0x1f2)):_0x16966d[_0x2abbbf(0x8f6)][_0x2abbbf(0x43c)](_0x2abbbf(0x1f2)),_0x41b8d8[_0x2abbbf(0x481)]=_0x5e97cd[_0x2abbbf(0x82c)];}),document['getElementById'](_0x1be8fa(0x3d4))[_0x1be8fa(0x57e)](_0x1be8fa(0x4ab),_0xc2f9fc=>{const _0xab6ce=_0x1be8fa;document['getElementById']('passing-score-input')[_0xab6ce(0x481)]=_0xc2f9fc[_0xab6ce(0x1e5)][_0xab6ce(0x82c)];}),document[_0x1be8fa(0x187)](_0x1be8fa(0x524))[_0x1be8fa(0x57e)](_0x1be8fa(0x491),_0x3fe567=>{const _0x2821c5=_0x1be8fa,_0x3d674b=document[_0x2821c5(0x187)]('modal-timer-duration-container'),_0x10a82b=document[_0x2821c5(0x187)](_0x2821c5(0x8c0)),_0x5b575e=document[_0x2821c5(0x187)](_0x2821c5(0x6d6));_0x3fe567['target']['value']==='none'?_0x3d674b[_0x2821c5(0x8f6)]['add']('hidden'):(_0x3d674b['classList'][_0x2821c5(0x773)]('hidden'),_0x3fe567[_0x2821c5(0x1e5)]['value']===_0x2821c5(0x205)?_0x10a82b['textContent']=_0x2821c5(0x7a9):_0x10a82b[_0x2821c5(0x8fd)]=_0x2821c5(0x692));}),document[_0x1be8fa(0x187)](_0x1be8fa(0x7b5))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>{const _0x191172=_0x1be8fa;document[_0x191172(0x187)](_0x191172(0x385))[_0x191172(0x8f6)]['add'](_0x191172(0x1f2));}),document[_0x1be8fa(0x187)]('cancel-quiz-edits-btn-footer')[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>{const _0x497c7d=_0x1be8fa;document[_0x497c7d(0x187)]('quiz-editor-modal')[_0x497c7d(0x8f6)]['add'](_0x497c7d(0x1f2));}),document[_0x1be8fa(0x187)](_0x1be8fa(0x501))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),handleVerifyAnswersInEditor),document['getElementById'](_0x1be8fa(0x17f))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>{const _0x32c6d4=_0x1be8fa;document[_0x32c6d4(0x187)](_0x32c6d4(0x385))[_0x32c6d4(0x8f6)][_0x32c6d4(0x43c)](_0x32c6d4(0x1f2)),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x1be8fa(0x187)](_0x1be8fa(0x734))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),handleAutoFixLatex);const _0x500316=document[_0x1be8fa(0x187)]('quiz-editor-questions-container');_0x500316&&_0x500316['addEventListener'](_0x1be8fa(0x2a0),_0x11c718=>{const _0x1f4ed3=_0x1be8fa,_0x25a9c0=_0x11c718['target'][_0x1f4ed3(0x1d5)](_0x1f4ed3(0x713));if(_0x25a9c0){const _0x2d6b1c=_0x25a9c0[_0x1f4ed3(0x1d5)](_0x1f4ed3(0x6a1)),_0xef8397=parseInt(_0x2d6b1c[_0x1f4ed3(0x7ed)][_0x1f4ed3(0x5ce)],0xa);handleRegenerateQuestionInEditor(_0xef8397);}});document[_0x1be8fa(0x187)](_0x1be8fa(0x808))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),openQuizBankModal),document[_0x1be8fa(0x187)](_0x1be8fa(0x160))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>{const _0x164e4d=_0x1be8fa;document[_0x164e4d(0x187)](_0x164e4d(0x300))[_0x164e4d(0x8f6)][_0x164e4d(0x43c)]('hidden');}),document[_0x1be8fa(0x187)]('bank-quiz-search-input')[_0x1be8fa(0x57e)](_0x1be8fa(0x4ab),_0x26cbe7=>renderQuizBankList(_0x26cbe7[_0x1be8fa(0x1e5)]['value']));const _0x32bda0=document[_0x1be8fa(0x187)]('math-topics-checkbox-container');if(_0x32bda0){let _0x568d3b=null;_0x32bda0[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),_0x1785da=>{const _0x4968b9=_0x1be8fa,_0xcbfd5b=_0x1785da[_0x4968b9(0x1e5)],_0x166887=_0xcbfd5b[_0x4968b9(0x1d5)](_0x4968b9(0x76e)),_0x46a24a=_0xcbfd5b[_0x4968b9(0x1d5)](_0x4968b9(0x876)),_0x3ece13=_0xcbfd5b[_0x4968b9(0x1d5)](_0x4968b9(0x27f)),_0x113a14=_0xcbfd5b['closest'](_0x4968b9(0x358));if(_0x46a24a){_0x1785da[_0x4968b9(0x518)]();const _0x55fc2e=_0x46a24a[_0x4968b9(0x7ed)]['id'],_0x2013ec=_0x46a24a[_0x4968b9(0x1d5)]('.group')[_0x4968b9(0x399)](_0x4968b9(0x275))[_0x4968b9(0x8fd)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x2013ec+'\x22?',()=>handleDeleteCustomTopic(_0x55fc2e));}else{if(_0x166887){_0x1785da[_0x4968b9(0x518)]();_0x568d3b&&toggleTopicEditMode(_0x568d3b,![]);const _0x4f858a=_0x166887[_0x4968b9(0x1d5)](_0x4968b9(0x3a1));_0x568d3b=_0x4f858a,toggleTopicEditMode(_0x4f858a,!![]);}else{if(_0x3ece13){_0x1785da['preventDefault']();const _0x3f404b=_0x3ece13[_0x4968b9(0x7ed)]['id'],_0x334c55=_0x3ece13[_0x4968b9(0x1d5)](_0x4968b9(0x3a1)),_0x3d6bb0=_0x334c55['querySelector'](_0x4968b9(0x33c))[_0x4968b9(0x82c)];handleUpdateCustomTopic(_0x3f404b,_0x3d6bb0),_0x568d3b=null;}else{if(_0x113a14){_0x1785da['preventDefault']();const _0x5c2ed1=_0x113a14['closest'](_0x4968b9(0x3a1));toggleTopicEditMode(_0x5c2ed1,![]),_0x568d3b=null;}}}}}),document[_0x1be8fa(0x187)](_0x1be8fa(0x42e))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>{const _0x3151a2=_0x1be8fa;document[_0x3151a2(0x187)](_0x3151a2(0x86c))[_0x3151a2(0x8f6)][_0x3151a2(0x43c)](_0x3151a2(0x1f2));}),document['getElementById'](_0x1be8fa(0x2c1))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>{const _0x460857=_0x1be8fa;document['getElementById'](_0x460857(0x86c))[_0x460857(0x8f6)][_0x460857(0x43c)](_0x460857(0x1f2));}),document[_0x1be8fa(0x187)](_0x1be8fa(0x416))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),handleExportLessonPDF);}document['getElementById']('close-comparison-modal-btn')[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>{const _0xf1abf8=_0x1be8fa;document['getElementById']('comparison-modal')[_0xf1abf8(0x8f6)][_0xf1abf8(0x43c)]('hidden');}),document['getElementById']('close-comparison-modal-footer-btn')[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),()=>{const _0x172b73=_0x1be8fa;document[_0x172b73(0x187)]('comparison-modal')[_0x172b73(0x8f6)]['add']('hidden');}),setupComparisonModalTabs(),document[_0x1be8fa(0x5e5)][_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),function(_0x4c9687){const _0x1b61a1=_0x1be8fa;if(_0x4c9687[_0x1b61a1(0x1e5)][_0x1b61a1(0x8f6)][_0x1b61a1(0x190)](_0x1b61a1(0x899))){const _0x26d7b8=unescape(_0x4c9687[_0x1b61a1(0x1e5)]['dataset']['topic']);startSkillPractice(_0x26d7b8);}}),document['getElementById'](_0x1be8fa(0x53b))[_0x1be8fa(0x57e)](_0x1be8fa(0x2a0),_0xa2f736=>{const _0x29d5e5=_0x1be8fa,_0x553c40=_0xa2f736[_0x29d5e5(0x1e5)][_0x29d5e5(0x1d5)]('.delete-submission-btn');if(_0x553c40){const _0x5df5ab=_0x553c40[_0x29d5e5(0x7ed)]['studentName'];handleDeleteSubmission(_0x5df5ab);}});}async function showStudentProgressView(){const _0x373a1a=_0x101354;studentInitialView[_0x373a1a(0x8f6)]['add']('hidden'),document['getElementById'](_0x373a1a(0x905))[_0x373a1a(0x8f6)][_0x373a1a(0x773)](_0x373a1a(0x1f2));const _0x3295cb=document[_0x373a1a(0x187)](_0x373a1a(0x881)),_0x761444=document[_0x373a1a(0x187)](_0x373a1a(0x263)),_0x25abef=document[_0x373a1a(0x187)](_0x373a1a(0x81a));_0x25abef['innerHTML']=_0x373a1a(0x52f),_0x761444['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x761444[_0x373a1a(0x8cc)]=!![],_0x3295cb[_0x373a1a(0x498)]=_0x373a1a(0x911);if(allProjects[_0x373a1a(0x6bd)]===0x0){const _0x816e9e=collection(db,'artifacts/'+appId+_0x373a1a(0x494)),_0x751d96=await getDocs(_0x816e9e);allProjects=_0x751d96['docs'][_0x373a1a(0x4cd)](_0x12fa66=>({'id':_0x12fa66['id'],..._0x12fa66[_0x373a1a(0x471)]()}));}const _0x40fc53=allProjects['filter'](_0x22fb7f=>_0x22fb7f[_0x373a1a(0x56f)]?.['showInStudentDashboard']!==![]);_0x40fc53[_0x373a1a(0x631)]((_0x1bb88d,_0x46b0d0)=>_0x1bb88d['projectName'][_0x373a1a(0x53a)](_0x46b0d0[_0x373a1a(0x331)],'th')),_0x3295cb[_0x373a1a(0x498)]=_0x373a1a(0x699)+_0x40fc53[_0x373a1a(0x4cd)](_0x584f52=>'<option\x20value=\x22'+_0x584f52['id']+'\x22>'+_0x584f52['projectName']+_0x373a1a(0x1e9))[_0x373a1a(0x58e)](''),_0x3295cb['onchange']=()=>{const _0x31ead3=_0x373a1a,_0x590f41=_0x761444['value'],_0x4b22f4=_0x3295cb[_0x31ead3(0x82c)];_0x761444[_0x31ead3(0x8cc)]=!![],_0x761444['innerHTML']=_0x31ead3(0x580),_0x25abef[_0x31ead3(0x498)]=_0x31ead3(0x803);if(!_0x4b22f4)return;const _0x524210=allProjects[_0x31ead3(0x691)](_0x2f265c=>_0x2f265c['id']===_0x4b22f4);if(!_0x524210||!_0x524210[_0x31ead3(0x624)])return;const _0x3ba0df=()=>{const _0x1b089e=_0x31ead3;_0x761444[_0x1b089e(0x498)]=_0x1b089e(0x580)+_0x524210[_0x1b089e(0x624)]['map'](_0x31c21a=>_0x1b089e(0x20b)+_0x31c21a+'\x22>'+_0x31c21a+_0x1b089e(0x1e9))[_0x1b089e(0x58e)](''),_0x761444[_0x1b089e(0x8cc)]=![];const _0x2ed31f=Array[_0x1b089e(0x83a)](_0x761444[_0x1b089e(0x510)])[_0x1b089e(0x4cd)](_0x2b1ac4=>_0x2b1ac4[_0x1b089e(0x82c)]);if(_0x590f41&&_0x2ed31f[_0x1b089e(0x7f8)](_0x590f41))_0x761444[_0x1b089e(0x82c)]=_0x590f41,_0x761444[_0x1b089e(0x4ec)](new Event('change'));else _0x524210[_0x1b089e(0x624)][_0x1b089e(0x6bd)]===0x1&&(_0x761444[_0x1b089e(0x82c)]=_0x524210['students'][0x0],_0x761444[_0x1b089e(0x4ec)](new Event('change')));};if(_0x524210[_0x31ead3(0x56f)]?.['isPasscodeEnabled']){if(sessionStorage['getItem'](_0x31ead3(0x779)+_0x4b22f4)===_0x31ead3(0x596)){_0x3ba0df();return;}const _0x58eeb8=document[_0x31ead3(0x187)](_0x31ead3(0x4fa)),_0xe5ec91=document[_0x31ead3(0x187)]('confirm-passcode-btn'),_0x26656c=document[_0x31ead3(0x187)](_0x31ead3(0x8a2)),_0x291157=document['getElementById'](_0x31ead3(0x8be)),_0x3359ff=document[_0x31ead3(0x187)](_0x31ead3(0x1d1));document[_0x31ead3(0x187)](_0x31ead3(0x6c7))[_0x31ead3(0x8fd)]='สำหรับโปรเจค:\x20'+_0x524210[_0x31ead3(0x331)],_0x291157[_0x31ead3(0x82c)]='',_0x3359ff[_0x31ead3(0x8f6)][_0x31ead3(0x43c)]('hidden'),_0x58eeb8[_0x31ead3(0x8f6)][_0x31ead3(0x773)]('hidden');const _0x9aa1f6=()=>{const _0x2df6f1=_0x31ead3,_0x322dce=_0x291157[_0x2df6f1(0x82c)][_0x2df6f1(0x4b3)]();_0x322dce===_0x524210[_0x2df6f1(0x56f)][_0x2df6f1(0x2ad)]?(sessionStorage['setItem'](_0x2df6f1(0x779)+_0x4b22f4,_0x2df6f1(0x596)),_0x58eeb8['classList'][_0x2df6f1(0x43c)](_0x2df6f1(0x1f2)),_0x3ba0df(),_0xe5ec91[_0x2df6f1(0x4ff)](_0x2df6f1(0x2a0),_0x9aa1f6)):_0x3359ff[_0x2df6f1(0x8f6)][_0x2df6f1(0x773)](_0x2df6f1(0x1f2));};_0xe5ec91[_0x31ead3(0x4f9)]=_0x9aa1f6,_0x26656c['onclick']=()=>{const _0xf73410=_0x31ead3;_0x58eeb8[_0xf73410(0x8f6)][_0xf73410(0x43c)](_0xf73410(0x1f2)),_0x3295cb[_0xf73410(0x82c)]='',_0xe5ec91[_0xf73410(0x4ff)](_0xf73410(0x2a0),_0x9aa1f6);};}else _0x3ba0df();},_0x761444[_0x373a1a(0x3e6)]=()=>{const _0x43b6f1=_0x373a1a,_0x1fdbdf=_0x3295cb[_0x43b6f1(0x82c)],_0x7eeb44=_0x761444['value'];_0x1fdbdf&&_0x7eeb44&&renderStudentProgressDashboard(_0x1fdbdf,_0x7eeb44);};}async function renderStudentProgressDashboard(_0x377101,_0x88879){const _0x3001c5=_0x101354,_0x376a45=document[_0x3001c5(0x187)]('student-progress-content');_0x376a45['innerHTML']=_0x3001c5(0x664);try{const _0x144fa2=collection(db,_0x3001c5(0x565)+appId+_0x3001c5(0x60e)),_0x117068=query(_0x144fa2,where(_0x3001c5(0x65c),'==',_0x377101)),_0x124460=await getDocs(_0x117068),_0xca1053=_0x124460[_0x3001c5(0x8a1)][_0x3001c5(0x4cd)](_0x38b830=>({'id':_0x38b830['id'],..._0x38b830[_0x3001c5(0x471)]()})),_0x36e230=_0xca1053[_0x3001c5(0x4cd)](_0x85fcc9=>getDoc(doc(db,_0x3001c5(0x565)+appId+_0x3001c5(0x71b)+_0x85fcc9['id']+_0x3001c5(0x8e0),_0x88879))),_0x56ede5=await Promise['all'](_0x36e230),_0x520b03=_0x56ede5[_0x3001c5(0x604)](_0x4decdd=>_0x4decdd[_0x3001c5(0x5dd)]())[_0x3001c5(0x4cd)](_0x393a5a=>({'quizId':_0x393a5a['ref'][_0x3001c5(0x791)]['parent']['id'],..._0x393a5a[_0x3001c5(0x471)]()}));if(_0x520b03['length']===0x0){_0x376a45[_0x3001c5(0x498)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x3844fa=_0x3001c5(0x1de);_0x520b03[_0x3001c5(0x35f)](_0x58b199=>{const _0x5cab7=_0x3001c5,_0x212d01=_0xca1053['find'](_0x2a1bc2=>_0x2a1bc2['id']===_0x58b199['quizId']),_0x41e6fc=_0x212d01[_0x5cab7(0x56f)]?.[_0x5cab7(0x740)]||_0x5cab7(0x532),_0x57120c=_0x212d01[_0x5cab7(0x56f)]?.['passingScore']??0x0,_0x18ef5d=_0x58b199[_0x5cab7(0x2e9)]>=_0x57120c;let _0x193c0f='',_0x5ae41d=_0x5cab7(0x1be);switch(_0x41e6fc){case _0x5cab7(0x532):case'show_results_only':_0x5ae41d=_0x18ef5d?'bg-green-50':'bg-red-50',_0x193c0f=_0x5cab7(0x1dc)+(_0x18ef5d?_0x5cab7(0x650):_0x5cab7(0x867))+'\x22>'+_0x58b199[_0x5cab7(0x2e9)]+_0x5cab7(0x910)+_0x58b199[_0x5cab7(0x918)]+_0x5cab7(0x234)+(_0x18ef5d?'bg-green-200\x20text-green-800':_0x5cab7(0x3b6))+'\x22>'+(_0x18ef5d?'ผ่าน':_0x5cab7(0x514))+_0x5cab7(0x91a);break;case'show_pass_fail_only':_0x5ae41d=_0x18ef5d?'bg-green-50':'bg-red-50',_0x193c0f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x18ef5d?_0x5cab7(0x248):_0x5cab7(0x3b6))+'\x22>'+(_0x18ef5d?_0x5cab7(0x5e8):_0x5cab7(0x514))+_0x5cab7(0x91a);break;case _0x5cab7(0x6d9):_0x5ae41d='bg-yellow-50',_0x193c0f=_0x5cab7(0x889);break;}_0x3844fa+=_0x5cab7(0x6e3)+_0x5ae41d+_0x5cab7(0x384)+_0x212d01[_0x5cab7(0x3ef)]+_0x5cab7(0x465)+_0x58b199['attempts']['length']+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x58b199[_0x5cab7(0x54e)])['toLocaleDateString']('th-TH')+_0x5cab7(0x15d)+_0x193c0f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3844fa+='</div>',_0x376a45['innerHTML']=_0x3844fa;}catch(_0x1d3a0f){console[_0x3001c5(0x2eb)](_0x3001c5(0x7c3),_0x1d3a0f),_0x376a45[_0x3001c5(0x498)]=_0x3001c5(0x3ed);}}function setupStudentProgressListeners(){const _0x19689b=_0x101354;document[_0x19689b(0x187)](_0x19689b(0x5b9))[_0x19689b(0x57e)](_0x19689b(0x2a0),showStudentProgressView),document[_0x19689b(0x187)](_0x19689b(0x34c))[_0x19689b(0x57e)](_0x19689b(0x2a0),()=>{const _0x100a89=_0x19689b;document[_0x100a89(0x187)](_0x100a89(0x905))[_0x100a89(0x8f6)][_0x100a89(0x43c)](_0x100a89(0x1f2)),document[_0x100a89(0x187)](_0x100a89(0x76c))[_0x100a89(0x8f6)][_0x100a89(0x773)](_0x100a89(0x1f2));});}async function startSkillPractice(_0xc35721){const _0x489fc4=_0x101354;studentResultArea[_0x489fc4(0x8f6)][_0x489fc4(0x43c)](_0x489fc4(0x1f2)),studentQuizArea[_0x489fc4(0x498)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x489fc4(0x8f6)][_0x489fc4(0x773)](_0x489fc4(0x1f2));try{const _0x4e2d8a=await getStandardizedTopic(_0xc35721);console[_0x489fc4(0x4e5)](_0x489fc4(0x4cb)+_0xc35721+_0x489fc4(0x415)+_0x4e2d8a+'\x22'),studentQuizArea['querySelector']('p')['textContent']=_0x489fc4(0x723)+_0x4e2d8a+_0x489fc4(0x154);const _0x5cd7a7=collection(db,_0x489fc4(0x565)+appId+_0x489fc4(0x7bf)),_0xd72087=query(_0x5cd7a7,where(_0x489fc4(0x3ef),'==',_0x4e2d8a)),_0x300496=await getDocs(_0xd72087);if(_0x300496[_0x489fc4(0x8a1)][_0x489fc4(0x6bd)]>=0x3){console[_0x489fc4(0x4e5)](_0x489fc4(0x285)+_0x300496[_0x489fc4(0x8a1)]['length']+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0x4e2d8a+_0x489fc4(0x6ff));let _0x2d988f=_0x300496[_0x489fc4(0x8a1)][_0x489fc4(0x4cd)](_0x5aea10=>_0x5aea10[_0x489fc4(0x471)]());shuffleArray(_0x2d988f);const _0x416b4a={'topic':_0x4e2d8a,'questions':_0x2d988f[_0x489fc4(0x4d6)](0x0,0x3)};displaySkillPracticeDrill(_0x416b4a);}else{console[_0x489fc4(0x4e5)](_0x489fc4(0x1b6)+_0x4e2d8a+_0x489fc4(0x585));const _0x3476bc=await generatePracticeQuestions(_0x4e2d8a);await saveDrillToPracticeBank(_0x3476bc,_0x4e2d8a),displaySkillPracticeDrill(_0x3476bc);}}catch(_0x3db44b){console[_0x489fc4(0x2eb)](_0x489fc4(0x314),_0x3db44b),showMessage(_0x489fc4(0x4ad)),studentQuizArea[_0x489fc4(0x8f6)][_0x489fc4(0x43c)](_0x489fc4(0x1f2)),studentResultArea[_0x489fc4(0x8f6)]['remove'](_0x489fc4(0x1f2));}}async function saveDrillToPracticeBank(_0x1cab35,_0x19c7e3){const _0x3e0248=_0x101354,_0x4cd11c=collection(db,_0x3e0248(0x565)+appId+'/public/data/practiceBank'),_0x47617d=writeBatch(db);_0x1cab35['questions']['forEach'](_0x2791a4=>{const _0x510b32=_0x3e0248,_0x14e05c=doc(_0x4cd11c);_0x47617d[_0x510b32(0x38e)](_0x14e05c,{'topic':_0x19c7e3,'questionText':_0x2791a4['questionText'],'options':_0x2791a4[_0x510b32(0x510)],'correctAnswerIndex':_0x2791a4['correctAnswerIndex'],'explanation':_0x2791a4[_0x510b32(0x618)],'createdAt':serverTimestamp()});});try{await _0x47617d['commit'](),console[_0x3e0248(0x4e5)](_0x3e0248(0x6c1)+_0x1cab35[_0x3e0248(0x371)][_0x3e0248(0x6bd)]+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0xb990e0){console[_0x3e0248(0x2eb)]('Error\x20saving\x20questions\x20to\x20practice\x20bank:',_0xb990e0);}}async function getStandardizedTopic(_0x2a11f7){const _0x3f909c=_0x101354,_0x24aa74=_0x3f909c(0x76d)+_0x2a11f7+_0x3f909c(0x5cd),_0x174062={'type':_0x3f909c(0x1bc),'properties':{'standardTopic':{'type':_0x3f909c(0x4ea)}},'required':[_0x3f909c(0x2b9)]};try{const _0x44f82c=await callAnalysisApi(_0x24aa74,_0x174062);return _0x44f82c[_0x3f909c(0x2b9)];}catch(_0x55e354){return console[_0x3f909c(0x2eb)](_0x3f909c(0x7ff),_0x55e354),_0x2a11f7;}}async function generatePracticeQuestions(_0x2df533){const _0x56f0ee=_0x101354,_0x2ce0e0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x2df533+_0x56f0ee(0x213)+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x3f657c={'type':_0x56f0ee(0x1bc),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x56f0ee(0x61f),'items':{'type':_0x56f0ee(0x4ea)}},'correctAnswerIndex':{'type':_0x56f0ee(0x184)},'explanation':{'type':'STRING'}},'required':[_0x56f0ee(0x2ea),_0x56f0ee(0x510),_0x56f0ee(0x1c0),_0x56f0ee(0x618)]},_0x295c7c={'type':_0x56f0ee(0x1bc),'properties':{'topic':{'type':_0x56f0ee(0x4ea)},'questions':{'type':'ARRAY','items':_0x3f657c}},'required':[_0x56f0ee(0x3ef),_0x56f0ee(0x371)]};return await callAnalysisApi(_0x2ce0e0,_0x295c7c);}function displayLessonPlan(_0x49b8e8,_0x27748a){const _0x5c01a8=_0x101354,_0x5a6cf4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x27748a[_0x5c01a8(0x3ef)]+_0x5c01a8(0x241)+_0x49b8e8[_0x5c01a8(0x2af)][_0x5c01a8(0x4cd)](_0x16b0d0=>_0x5c01a8(0x1ad)+_0x16b0d0+_0x5c01a8(0x3af))['join']('')+_0x5c01a8(0x8b9)+_0x49b8e8[_0x5c01a8(0x2dd)]+_0x5c01a8(0x455)+_0x49b8e8[_0x5c01a8(0x845)]['map'](_0x34d1a8=>_0x5c01a8(0x8a7)+_0x34d1a8['question']+_0x5c01a8(0x8af)+_0x34d1a8[_0x5c01a8(0x264)]+_0x5c01a8(0x1b5))[_0x5c01a8(0x58e)]('')+_0x5c01a8(0x3bf);document[_0x5c01a8(0x187)](_0x5c01a8(0x1eb))['textContent']=_0x5c01a8(0x623)+_0x27748a['topic'],document[_0x5c01a8(0x187)]('lesson-plan-content')[_0x5c01a8(0x498)]=_0x5a6cf4,document[_0x5c01a8(0x187)](_0x5c01a8(0x86c))['classList'][_0x5c01a8(0x773)](_0x5c01a8(0x1f2));if(window[_0x5c01a8(0x6c0)])MathJax[_0x5c01a8(0x16a)]();}function displaySkillPracticeDrill(_0x4659f8){const _0x508b45=_0x101354;let _0x205e35=0x0;const _0x21585d=_0x4659f8[_0x508b45(0x371)],_0x5e97aa=()=>{const _0x246f50=_0x508b45,_0x39ddef=_0x21585d[_0x205e35],_0x31a542='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x205e35+0x1)+_0x246f50(0x910)+_0x21585d[_0x246f50(0x6bd)]+_0x246f50(0x80d)+_0x39ddef[_0x246f50(0x2ea)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x39ddef[_0x246f50(0x510)][_0x246f50(0x4cd)]((_0x1fa09b,_0x42c1f2)=>_0x246f50(0x73d)+_0x42c1f2+_0x246f50(0x3e5)+_0x42c1f2+_0x246f50(0x20a)+_0x42c1f2+'\x22>'+_0x1fa09b+_0x246f50(0x809))[_0x246f50(0x58e)]('')+_0x246f50(0x2da);studentQuizArea['innerHTML']=_0x31a542;if(window[_0x246f50(0x6c0)])MathJax[_0x246f50(0x16a)]([studentQuizArea]);document[_0x246f50(0x187)](_0x246f50(0x794))[_0x246f50(0x57e)](_0x246f50(0x2a0),async()=>{const _0x2b0022=await getHintForQuestion(_0x39ddef['questionText']);showMessage(_0x2b0022);}),document[_0x246f50(0x187)](_0x246f50(0x33d))[_0x246f50(0x57e)]('click',()=>{const _0x590b89=_0x246f50,_0x4cec14=document[_0x590b89(0x399)]('input[name=\x22drill_answer\x22]:checked');if(!_0x4cec14){showMessage(_0x590b89(0x8f5));return;}const _0x4b7632=document[_0x590b89(0x187)]('drill-feedback'),_0x1fc34f=parseInt(_0x4cec14[_0x590b89(0x82c)])===_0x39ddef['correctAnswerIndex'];_0x1fc34f?(_0x4b7632['className']=_0x590b89(0x4f5),_0x4b7632[_0x590b89(0x498)]=_0x590b89(0x1fc)+_0x39ddef[_0x590b89(0x618)]):(_0x4b7632[_0x590b89(0x15a)]=_0x590b89(0x49a),_0x4b7632['innerHTML']=_0x590b89(0x6d3)+_0x39ddef['explanation']);_0x4b7632['classList'][_0x590b89(0x773)](_0x590b89(0x1f2));if(window[_0x590b89(0x6c0)])MathJax['typesetPromise']([_0x4b7632]);document[_0x590b89(0x187)](_0x590b89(0x33d))[_0x590b89(0x8f6)][_0x590b89(0x43c)](_0x590b89(0x1f2)),document[_0x590b89(0x187)](_0x590b89(0x794))[_0x590b89(0x8f6)][_0x590b89(0x43c)]('hidden'),document[_0x590b89(0x187)]('next-drill-btn')['classList'][_0x590b89(0x773)](_0x590b89(0x1f2));}),document[_0x246f50(0x187)]('next-drill-btn')[_0x246f50(0x57e)](_0x246f50(0x2a0),()=>{const _0x3e4488=_0x246f50;_0x205e35++,_0x205e35<_0x21585d[_0x3e4488(0x6bd)]?_0x5e97aa():(studentQuizArea[_0x3e4488(0x498)]=_0x3e4488(0x8ea),document[_0x3e4488(0x187)]('back-to-results-btn')['addEventListener'](_0x3e4488(0x2a0),()=>{const _0x2283b4=_0x3e4488;studentQuizArea[_0x2283b4(0x8f6)][_0x2283b4(0x43c)](_0x2283b4(0x1f2)),studentResultArea[_0x2283b4(0x8f6)]['remove'](_0x2283b4(0x1f2));}));});};_0x5e97aa();}async function getHintForQuestion(_0x12089c){const _0x24c7e0=_0x101354,_0x40f505=_0x24c7e0(0x7c6)+_0x12089c+_0x24c7e0(0x6ae),_0x4d2884={'type':_0x24c7e0(0x1bc),'properties':{'hint':{'type':'STRING'}},'required':[_0x24c7e0(0x1b8)]};try{const _0x50d11e=await callAnalysisApi(_0x40f505,_0x4d2884);return _0x50d11e[_0x24c7e0(0x1b8)];}catch(_0x50f1e4){return console[_0x24c7e0(0x2eb)](_0x24c7e0(0x3a3),_0x50f1e4),_0x24c7e0(0x40d);}}async function extractTextFromPdf(_0x67d7c0){const _0x3b29bb=_0x101354;pdfjsLib['GlobalWorkerOptions'][_0x3b29bb(0x406)]=_0x3b29bb(0x769);const _0x9eb0e4=await _0x67d7c0[_0x3b29bb(0x626)](),_0x438ee7=await pdfjsLib['getDocument'](_0x9eb0e4)[_0x3b29bb(0x557)],_0x35ea69=_0x438ee7[_0x3b29bb(0x367)];let _0x3100b9='';for(let _0x379b06=0x1;_0x379b06<=_0x35ea69;_0x379b06++){const _0x560a2f=await _0x438ee7[_0x3b29bb(0x361)](_0x379b06),_0x3740f2=await _0x560a2f[_0x3b29bb(0x446)](),_0xd12562=_0x3740f2['items'][_0x3b29bb(0x4cd)](_0x2c173b=>_0x2c173b[_0x3b29bb(0x660)])['join']('\x20');_0x3100b9+=_0xd12562+'\x0a\x0a';}return _0x3100b9;}async function handleGenerateFromBlueprint(){const _0x2c2233=_0x101354,_0x6aaa83=document['getElementById']('blueprint-upload-input'),_0x5510b8=document['getElementById'](_0x2c2233(0x315)),_0x24840c=_0x6aaa83['files'][0x0],_0x413c3d=_0x5510b8['files'][_0x2c2233(0x6bd)]>0x0?_0x5510b8[_0x2c2233(0x701)][0x0]:null;if(!_0x24840c){showMessage(_0x2c2233(0x77e));return;}const _0xc2983c=document[_0x2c2233(0x187)](_0x2c2233(0x848)),_0x4ed374=document[_0x2c2233(0x187)]('loader-text'),_0x583739=document['getElementById'](_0x2c2233(0x21a)),_0x1bc788=document[_0x2c2233(0x187)](_0x2c2233(0x434));_0x1bc788[_0x2c2233(0x8cc)]=!![],document[_0x2c2233(0x187)]('quiz-generation-area')[_0x2c2233(0x8f6)][_0x2c2233(0x773)](_0x2c2233(0x1f2)),_0x583739[_0x2c2233(0x498)]='',_0xc2983c['classList'][_0x2c2233(0x773)](_0x2c2233(0x1f2));try{_0x4ed374[_0x2c2233(0x8fd)]='กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...';const _0x2484ca=await extractTextFromPdf(_0x24840c);if(!_0x2484ca[_0x2c2233(0x4b3)]())throw new Error(_0x2c2233(0x827));let _0xfd706b='';_0x413c3d&&(_0x4ed374[_0x2c2233(0x8fd)]=_0x2c2233(0x20e),_0xfd706b=await extractTextFromPdf(_0x413c3d));_0x4ed374[_0x2c2233(0x8fd)]=_0x2c2233(0x2e6);const _0xf0f096=document[_0x2c2233(0x187)](_0x2c2233(0x3bd))[_0x2c2233(0x743)],_0x598b50=_0xf0f096?_0x2c2233(0x722):'',_0xecf754=_0xfd706b?_0x2c2233(0x497)+_0xfd706b+_0x2c2233(0x203):'',_0x16aafb=_0x2c2233(0x2d4)+(_0xfd706b?_0x2c2233(0x776):'')+_0x2c2233(0x44a)+_0x2484ca+_0x2c2233(0x203)+_0xecf754+_0x2c2233(0x454)+_0x598b50+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x2c2233(0x683),_0x24eef4={'type':_0x2c2233(0x1bc),'properties':{'questionText':{'type':_0x2c2233(0x4ea)},'questionType':{'type':_0x2c2233(0x4ea),'enum':[_0x2c2233(0x89a),_0x2c2233(0x8b7)]},'options':{'type':'ARRAY','items':{'type':_0x2c2233(0x4ea)}},'correctAnswerIndex':{'type':_0x2c2233(0x184)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x2c2233(0x2ea),_0x2c2233(0x81e),_0x2c2233(0x618)]},_0x507fd8={'type':_0x2c2233(0x1bc),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2c2233(0x61f),'items':_0x24eef4}},'required':[_0x2c2233(0x3ef),_0x2c2233(0x371)]};await handleApiCall(_0x16aafb,_0x2c2233(0x2f9),_0x507fd8);}catch(_0x414c3e){console['error']('Error\x20generating\x20from\x20blueprint:',_0x414c3e),showMessage(_0x2c2233(0x7f5)+_0x414c3e['message']),_0x583739['innerHTML']=_0x2c2233(0x4e0);}finally{_0xc2983c[_0x2c2233(0x8f6)]['add']('hidden'),_0x1bc788['disabled']=![];}}async function handleGenerateParallelFromBank(_0x1e9fe6){const _0x3d36fe=_0x101354;switchProjectTab(_0x3d36fe(0x1c5));const _0x33fc09=document[_0x3d36fe(0x187)](_0x3d36fe(0x848)),_0xeef114=document['getElementById'](_0x3d36fe(0x775)),_0x4f9cd5=document[_0x3d36fe(0x187)](_0x3d36fe(0x21a));document[_0x3d36fe(0x187)](_0x3d36fe(0x5eb))['classList'][_0x3d36fe(0x773)](_0x3d36fe(0x1f2)),_0x4f9cd5[_0x3d36fe(0x498)]='',_0x33fc09[_0x3d36fe(0x8f6)][_0x3d36fe(0x773)](_0x3d36fe(0x1f2)),_0xeef114[_0x3d36fe(0x8fd)]=_0x3d36fe(0x864)+_0x1e9fe6[_0x3d36fe(0x3ef)]+_0x3d36fe(0x5ee);try{const _0x30842b=_0x1e9fe6[_0x3d36fe(0x371)][_0x3d36fe(0x4cd)]((_0x2b82e2,_0x2fc3a4)=>{const _0x240cd4=_0x3d36fe;let _0x1b9541=_0x2fc3a4+0x1+'.\x20'+(_0x2b82e2[_0x240cd4(0x2ea)]||_0x2b82e2[_0x240cd4(0x4ce)])+'\x0a';if(_0x2b82e2['options'])_0x1b9541+=_0x2b82e2[_0x240cd4(0x510)][_0x240cd4(0x4cd)]((_0x4723d5,_0x3d270d)=>_0x240cd4(0x306)+(_0x3d270d===_0x2b82e2[_0x240cd4(0x1c0)]?_0x240cd4(0x851):'')+'\x20'+_0x4723d5)[_0x240cd4(0x58e)]('\x0a');else _0x2b82e2['idealAnswer']&&(_0x1b9541+=_0x240cd4(0x640)+_0x2b82e2[_0x240cd4(0x602)]);return _0x1b9541;})[_0x3d36fe(0x58e)]('\x0a\x0a');_0xeef114[_0x3d36fe(0x8fd)]=_0x3d36fe(0x7c4);const _0x56225c=_0x3d36fe(0x64f)+_0x1e9fe6[_0x3d36fe(0x3ef)]+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x30842b+_0x3d36fe(0x8c6)+simpleMathPrompt+_0x3d36fe(0x683),_0x5df077={'type':'OBJECT','properties':{'questionText':{'type':_0x3d36fe(0x4ea)},'questionType':{'type':_0x3d36fe(0x4ea),'enum':[_0x3d36fe(0x89a),_0x3d36fe(0x8b7),_0x3d36fe(0x2f7),_0x3d36fe(0x61a)]},'options':{'type':_0x3d36fe(0x61f),'items':{'type':_0x3d36fe(0x4ea)}},'correctAnswerIndex':{'type':_0x3d36fe(0x184)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x3d36fe(0x68a)},'stem':{'type':_0x3d36fe(0x4ea)},'correctResponse':{'type':_0x3d36fe(0x4ea)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x3d36fe(0x4ea)},'imageCode':{'type':_0x3d36fe(0x4ea)}},'required':[_0x3d36fe(0x2ea),'questionType',_0x3d36fe(0x510),_0x3d36fe(0x1c0),_0x3d36fe(0x618)]},_0x4d725d={'type':_0x3d36fe(0x1bc),'properties':{'topic':{'type':_0x3d36fe(0x4ea)},'questions':{'type':'ARRAY','items':_0x5df077}},'required':['topic',_0x3d36fe(0x371)]},_0x24556d=await callAnalysisApi(_0x56225c,_0x4d725d);_0x24556d[_0x3d36fe(0x3ef)]='(คู่ขนาน)\x20'+_0x1e9fe6[_0x3d36fe(0x3ef)],_0x24556d[_0x3d36fe(0x2a5)]=_0x1e9fe6[_0x3d36fe(0x2a5)],currentQuizData=_0x24556d,displayGeneratedQuiz(_0x24556d),document['getElementById']('manage-tab-content')[_0x3d36fe(0x4a8)]({'behavior':'smooth'});}catch(_0x4bf1c8){console[_0x3d36fe(0x2eb)](_0x3d36fe(0x88a),_0x4bf1c8),showMessage(_0x3d36fe(0x7f5)+_0x4bf1c8['message']),_0x4f9cd5[_0x3d36fe(0x498)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x33fc09[_0x3d36fe(0x8f6)][_0x3d36fe(0x43c)](_0x3d36fe(0x1f2));}}async function handleGenerateParallelPostTest(_0x131720){const _0x2739f7=_0x101354,_0xd45aea=document[_0x2739f7(0x187)](_0x2739f7(0x625)),_0x228e5a=document['getElementById']('project-quizzes-list');_0x228e5a[_0x2739f7(0x8f6)]['add'](_0x2739f7(0x1f2));const _0x296f3c=_0x2739f7(0x3b5);_0xd45aea['insertAdjacentHTML'](_0x2739f7(0x87a),_0x296f3c);try{const _0x5c5b13=_0x131720[_0x2739f7(0x371)][_0x2739f7(0x4cd)]((_0x225032,_0x52be08)=>{const _0x5d71c6=_0x2739f7;let _0x81e59c=_0x52be08+0x1+'.\x20'+(_0x225032[_0x5d71c6(0x2ea)]||_0x225032['stem']);if(_0x225032['options'])_0x81e59c+=_0x5d71c6(0x50a)+_0x225032[_0x5d71c6(0x510)][_0x5d71c6(0x58e)](',\x20');return _0x81e59c;})[_0x2739f7(0x58e)]('\x0a\x0a'),_0x4edd49=_0x2739f7(0x847)+_0x131720[_0x2739f7(0x3ef)]+_0x2739f7(0x648)+_0x5c5b13+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0xb96782={'type':_0x2739f7(0x1bc),'properties':{'topic':{'type':_0x2739f7(0x4ea)},'questions':{'type':_0x2739f7(0x61f),'items':{'type':_0x2739f7(0x1bc),'properties':{'questionText':{'type':_0x2739f7(0x4ea)},'questionType':{'type':'STRING'},'options':{'type':_0x2739f7(0x61f),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2739f7(0x184)},'idealAnswer':{'type':_0x2739f7(0x4ea)},'explanation':{'type':_0x2739f7(0x4ea)}},'required':['questionText',_0x2739f7(0x618)]}}},'required':[_0x2739f7(0x3ef),'questions']},_0x350905=await callAnalysisApi(_0x4edd49,_0xb96782),_0x121782=_0x131720[_0x2739f7(0x3ef)][_0x2739f7(0x83e)](_0x2739f7(0x8b0),'')['trim'](),_0x93b887=_0x2739f7(0x444)+_0x121782,_0x22cd75={..._0x350905,'topic':_0x93b887,'quizType':_0x131720[_0x2739f7(0x2a5)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x2739f7(0x414)](),'status':_0x2739f7(0x4dc),'settings':_0x131720[_0x2739f7(0x56f)],'quizMode':_0x2739f7(0x31e),'pairedQuizId':_0x131720['id']};let _0x4ae5b5;while(!![]){_0x4ae5b5=Math[_0x2739f7(0x390)](0x3e8+Math['random']()*0x2328)['toString']();const _0x5e66ad=await getDoc(doc(db,'artifacts/'+appId+_0x2739f7(0x60e),_0x4ae5b5));if(!_0x5e66ad[_0x2739f7(0x5dd)]())break;}await setDoc(doc(db,_0x2739f7(0x565)+appId+_0x2739f7(0x60e),_0x4ae5b5),_0x22cd75);const _0x5cbf66=doc(db,_0x2739f7(0x565)+appId+'/public/data/quizzes',_0x131720['id']);await updateDoc(_0x5cbf66,{'pairedQuizId':_0x4ae5b5}),showMessage(_0x2739f7(0x31d));}catch(_0x207c22){console[_0x2739f7(0x2eb)]('Error\x20generating\x20parallel\x20post-test:',_0x207c22),showMessage('เกิดข้อผิดพลาด:\x20'+_0x207c22['message']);}finally{const _0x48fd76=document[_0x2739f7(0x187)](_0x2739f7(0x744));if(_0x48fd76)_0x48fd76[_0x2739f7(0x773)]();_0x228e5a[_0x2739f7(0x8f6)][_0x2739f7(0x773)](_0x2739f7(0x1f2));}}async function handleGenerateParallelTest(){const _0x4ae952=_0x101354,_0x110fee=document['getElementById'](_0x4ae952(0x87d)),_0x531d78=_0x110fee[_0x4ae952(0x701)][0x0];if(!_0x531d78){showMessage(_0x4ae952(0x5ed));return;}const _0x3dabe6=document['getElementById'](_0x4ae952(0x848)),_0x33fb65=document[_0x4ae952(0x187)](_0x4ae952(0x775)),_0x2db77c=document[_0x4ae952(0x187)]('generated-quiz-container'),_0x53ae56=document[_0x4ae952(0x187)](_0x4ae952(0x5a0));_0x53ae56[_0x4ae952(0x8cc)]=!![],document['getElementById'](_0x4ae952(0x5eb))[_0x4ae952(0x8f6)][_0x4ae952(0x773)]('hidden'),_0x2db77c[_0x4ae952(0x498)]='',_0x3dabe6[_0x4ae952(0x8f6)][_0x4ae952(0x773)](_0x4ae952(0x1f2)),_0x33fb65[_0x4ae952(0x8fd)]=_0x4ae952(0x780);try{const _0x111c5f=await extractTextFromPdf(_0x531d78);if(!_0x111c5f['trim']())throw new Error(_0x4ae952(0x482));_0x33fb65[_0x4ae952(0x8fd)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x55df91=document[_0x4ae952(0x187)]('include-images-checkbox')[_0x4ae952(0x743)],_0x39d58d=_0x55df91?_0x4ae952(0x722):'',_0x23c851=_0x4ae952(0x230)+_0x111c5f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x39d58d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x4ae952(0x683),_0x1d7f94={'type':_0x4ae952(0x1bc),'properties':{'questionText':{'type':_0x4ae952(0x4ea)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x4ae952(0x8b7)]},'options':{'type':_0x4ae952(0x61f),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4ae952(0x184)},'idealAnswer':{'type':_0x4ae952(0x4ea)},'explanation':{'type':_0x4ae952(0x4ea)},'imageCode':{'type':_0x4ae952(0x4ea)}},'required':[_0x4ae952(0x2ea),_0x4ae952(0x81e),'explanation']},_0xc70325={'type':_0x4ae952(0x1bc),'properties':{'topic':{'type':_0x4ae952(0x4ea)},'questions':{'type':_0x4ae952(0x61f),'items':_0x1d7f94}},'required':[_0x4ae952(0x3ef),'questions']};await handleApiCall(_0x23c851,'กำลังสร้างแบบทดสอบคู่ขนาน...',_0xc70325);}catch(_0x167647){console[_0x4ae952(0x2eb)](_0x4ae952(0x8e2),_0x167647),showMessage(_0x4ae952(0x7f5)+_0x167647[_0x4ae952(0x8b1)]),_0x2db77c[_0x4ae952(0x498)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x3dabe6[_0x4ae952(0x8f6)][_0x4ae952(0x43c)]('hidden'),_0x53ae56[_0x4ae952(0x8cc)]=![];}}async function handleRegenerateQuestionInEditor(_0x3e11f0){const _0x262bd4=_0x101354;if(currentEditingQuizData===null)return;const _0x7747a4=document[_0x262bd4(0x399)](_0x262bd4(0x8c3)+_0x3e11f0+'\x22]');_0x7747a4&&(_0x7747a4['innerHTML']='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x3df643=currentEditingQuizData[_0x262bd4(0x371)][_0x3e11f0],_0x2780fc=currentEditingQuizData[_0x262bd4(0x3ef)],_0x553bdb=_0x3df643['questionType'],_0x49e725={'type':_0x262bd4(0x1bc),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x262bd4(0x4ea)}},'correctAnswerIndex':{'type':_0x262bd4(0x184)},'explanation':{'type':'STRING'}},'required':[_0x262bd4(0x2ea),_0x262bd4(0x510),_0x262bd4(0x1c0),'explanation']},_0x448fd0={'type':_0x262bd4(0x1bc),'properties':{'questionText':{'type':_0x262bd4(0x4ea)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x262bd4(0x4ea)}},'required':[_0x262bd4(0x2ea),'idealAnswer','explanation']};let _0x50e20c,_0xc6ecaa='';_0x553bdb==='multiple_choice'?(_0x50e20c=_0x49e725,_0xc6ecaa='แบบปรนัย\x204\x20ตัวเลือก'):(_0x50e20c=_0x448fd0,_0xc6ecaa='แบบเติมคำตอบ');const _0x48038c=_0x262bd4(0x310)+_0x2780fc+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0xc6ecaa+_0x262bd4(0x398)+(_0x3df643[_0x262bd4(0x2ea)]||_0x3df643[_0x262bd4(0x4ce)])+'\x22.\x20'+simpleMathPrompt;try{const _0x3173da=await callAnalysisApi(_0x48038c,_0x50e20c);currentEditingQuizData[_0x262bd4(0x371)][_0x3e11f0]={..._0x3df643,..._0x3173da},renderQuizEditor(currentEditingQuizData);}catch(_0x2819e6){console[_0x262bd4(0x2eb)](_0x262bd4(0x4c0),_0x2819e6),showMessage(_0x262bd4(0x770)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0xcab6a0=_0x101354,_0x2c69b1=document[_0xcab6a0(0x187)]('mode-switcher-btn');currentMode===_0xcab6a0(0x5f6)?(adminPasswordModal[_0xcab6a0(0x8f6)]['remove'](_0xcab6a0(0x1f2)),document[_0xcab6a0(0x187)](_0xcab6a0(0x1aa))[_0xcab6a0(0x3fc)]()):(currentMode=_0xcab6a0(0x5f6),_0x2c69b1['innerHTML']=_0xcab6a0(0x641),_0x2c69b1[_0xcab6a0(0x4c3)]=_0xcab6a0(0x6db),showView('student'));}function handleAdminLogin(){const _0x14a05b=_0x101354,_0x13085a=document[_0x14a05b(0x187)](_0x14a05b(0x1aa)),_0x500ac6=document['getElementById'](_0x14a05b(0x7b0));if(_0x13085a[_0x14a05b(0x82c)]===_0x14a05b(0x609)){adminPasswordModal[_0x14a05b(0x8f6)][_0x14a05b(0x43c)]('hidden'),_0x13085a['value']='',_0x500ac6['classList']['add'](_0x14a05b(0x1f2)),currentMode=_0x14a05b(0x739);const _0x386910=document[_0x14a05b(0x187)](_0x14a05b(0x299));_0x386910[_0x14a05b(0x498)]=_0x14a05b(0x7f1),_0x386910['title']=_0x14a05b(0x5d7),showView('admin-dashboard');}else _0x500ac6[_0x14a05b(0x8f6)][_0x14a05b(0x773)](_0x14a05b(0x1f2)),_0x13085a[_0x14a05b(0x82c)]='';}function switchProjectTab(_0x308d15){const _0x9e52d4=_0x101354;[_0x9e52d4(0x1c5),_0x9e52d4(0x47c),'leaderboard'][_0x9e52d4(0x35f)](_0xd9757a=>{const _0xe8d797=_0x9e52d4;document['getElementById'](_0xd9757a+_0xe8d797(0x396))[_0xe8d797(0x8f6)][_0xe8d797(0x773)](_0xe8d797(0x4dc)),document[_0xe8d797(0x187)](_0xd9757a+'-tab-content')[_0xe8d797(0x8f6)]['add'](_0xe8d797(0x1f2));}),document['getElementById'](_0x308d15+_0x9e52d4(0x396))['classList'][_0x9e52d4(0x43c)](_0x9e52d4(0x4dc)),document[_0x9e52d4(0x187)](_0x308d15+_0x9e52d4(0x3dc))[_0x9e52d4(0x8f6)][_0x9e52d4(0x773)](_0x9e52d4(0x1f2));}function switchQuizDetailTab(_0x47824b){const _0x14eab0=_0x101354,_0x580350={'analytics':{'btn':_0x14eab0(0x754),'content':'analytics-tab-content'},'scores':{'btn':_0x14eab0(0x5b7),'content':_0x14eab0(0x53b)},'leaderboard-quiz':{'btn':_0x14eab0(0x684),'content':_0x14eab0(0x411)},'behavior-log':{'btn':_0x14eab0(0x369),'content':'behavior-log-tab-content'}};for(const _0x5c34af in _0x580350){document[_0x14eab0(0x187)](_0x580350[_0x5c34af]['btn'])[_0x14eab0(0x8f6)]['remove'](_0x14eab0(0x4dc)),document[_0x14eab0(0x187)](_0x580350[_0x5c34af][_0x14eab0(0x5f3)])[_0x14eab0(0x8f6)]['add'](_0x14eab0(0x1f2));}document[_0x14eab0(0x187)](_0x580350[_0x47824b][_0x14eab0(0x2bb)])['classList'][_0x14eab0(0x43c)](_0x14eab0(0x4dc)),document[_0x14eab0(0x187)](_0x580350[_0x47824b][_0x14eab0(0x5f3)])['classList'][_0x14eab0(0x773)](_0x14eab0(0x1f2));}function showMessage(_0x703281,_0x55c15a=null){const _0x59e67a=_0x101354;modalMessage['textContent']=_0x703281,modalConfirmAction=_0x55c15a,messageModal[_0x59e67a(0x8f6)][_0x59e67a(0x773)](_0x59e67a(0x1f2));}function showConfirmation(_0x168585,_0x10ce68){const _0x54208a=_0x101354;document[_0x54208a(0x187)](_0x54208a(0x574))[_0x54208a(0x8fd)]=_0x168585,document['getElementById'](_0x54208a(0x77b))[_0x54208a(0x399)]('h3')[_0x54208a(0x8fd)]=_0x54208a(0x6c5),confirmAction=_0x10ce68,confirmationModal['classList'][_0x54208a(0x773)](_0x54208a(0x1f2));}function listenForProjects(){const _0x5e1d8b=_0x101354,_0xe86950=doc(db,_0x5e1d8b(0x588),_0x5e1d8b(0x39f));onSnapshot(_0xe86950,_0x3633fb=>{const _0x1249e8=_0x5e1d8b;if(_0x3633fb[_0x1249e8(0x5dd)]()){const _0x443447=_0x3633fb['data']();globalDashboardSettings[_0x1249e8(0x35a)]=_0x443447[_0x1249e8(0x35a)]||_0x1249e8(0x7f4),globalDashboardSettings['pinnedProjects']=_0x443447[_0x1249e8(0x26e)]||[],globalDashboardSettings[_0x1249e8(0x27c)]=_0x443447[_0x1249e8(0x27c)]||[];}allProjects[_0x1249e8(0x6bd)]>0x0&&renderProjects();});const _0x48d05d=collection(db,_0x5e1d8b(0x565)+appId+_0x5e1d8b(0x494));unsubscribeProjectsListener=onSnapshot(_0x48d05d,_0x30b030=>{const _0x199936=_0x5e1d8b;allProjects=_0x30b030['docs'][_0x199936(0x4cd)](_0x5230af=>({'id':_0x5230af['id'],..._0x5230af['data']()})),renderProjects();},_0x1f75ac=>{const _0x244a21=_0x5e1d8b;console[_0x244a21(0x2eb)](_0x244a21(0x872),_0x1f75ac),showMessage(_0x244a21(0x305));});}function showColorPalette(_0x6018e0,_0x4d9789){const _0x51ca11=_0x101354;document['querySelectorAll']('.color-palette-popup')[_0x51ca11(0x35f)](_0x5f599f=>_0x5f599f[_0x51ca11(0x773)]());const _0x45d797=[_0x51ca11(0x17d),_0x51ca11(0x372),'#FEF3C7','#D1FAE5',_0x51ca11(0x32b),_0x51ca11(0x5a9),_0x51ca11(0x832),'#FCE7F3',_0x51ca11(0x894)],_0xe0958b=document[_0x51ca11(0x3a0)](_0x51ca11(0x58a));_0xe0958b[_0x51ca11(0x15a)]=_0x51ca11(0x59c),_0x45d797[_0x51ca11(0x35f)](_0x548458=>{const _0x4233bd=_0x51ca11,_0x5c9366=document['createElement'](_0x4233bd(0x58a));_0x5c9366['className']=_0x4233bd(0x44c),_0x5c9366['style'][_0x4233bd(0x231)]=_0x548458,_0x5c9366[_0x4233bd(0x57e)]('click',()=>{const _0x2f06ae=_0x4233bd;handleProjectColorChange(_0x4d9789,_0x548458),_0xe0958b[_0x2f06ae(0x773)]();}),_0xe0958b['appendChild'](_0x5c9366);}),document['body'][_0x51ca11(0x360)](_0xe0958b);const _0x1cacc1=_0x6018e0[_0x51ca11(0x66e)]();_0xe0958b[_0x51ca11(0x50b)]['top']=_0x1cacc1[_0x51ca11(0x21d)]+window[_0x51ca11(0x23a)]+'px',_0xe0958b[_0x51ca11(0x50b)]['left']=_0x1cacc1['left']+window[_0x51ca11(0x343)]-_0xe0958b[_0x51ca11(0x403)]/0x2+'px';}async function handleProjectColorChange(_0x782432,_0x16d20f){const _0x28fcca=_0x101354,_0x352e5c=doc(db,_0x28fcca(0x565)+appId+'/public/data/projects',_0x782432);try{await updateDoc(_0x352e5c,{'color':_0x16d20f});}catch(_0x220464){console['error'](_0x28fcca(0x749),_0x220464),showMessage(_0x28fcca(0x5a4));}}async function renderProjects(){const _0x364b19=_0x101354,_0x4d0d4a=globalDashboardSettings['projectSort']||_0x364b19(0x7f4),_0x1f9785=new Set(globalDashboardSettings[_0x364b19(0x26e)]||[]),_0xce31bc=globalDashboardSettings[_0x364b19(0x356)]||'grid',_0x2ab977=document[_0x364b19(0x187)]('grid-view-btn'),_0xb99b72=document[_0x364b19(0x187)]('list-view-btn');_0x2ab977[_0x364b19(0x8f6)][_0x364b19(0x496)]('active',_0xce31bc==='grid'),_0xb99b72[_0x364b19(0x8f6)][_0x364b19(0x496)](_0x364b19(0x4dc),_0xce31bc===_0x364b19(0x835)),document[_0x364b19(0x187)](_0x364b19(0x842))[_0x364b19(0x82c)]=_0x4d0d4a;const _0x91310f=document[_0x364b19(0x187)](_0x364b19(0x844))[_0x364b19(0x82c)][_0x364b19(0x802)]();let _0xedfb32=allProjects[_0x364b19(0x604)](_0x156ee7=>_0x156ee7['projectName'][_0x364b19(0x802)]()['includes'](_0x91310f));const _0x136bab=_0xedfb32[_0x364b19(0x604)](_0x3d8237=>_0x1f9785['has'](_0x3d8237['id'])),_0x1c8246=_0xedfb32[_0x364b19(0x604)](_0x2328b2=>!_0x1f9785[_0x364b19(0x914)](_0x2328b2['id'])),_0x28c44c=(_0x264b5d,_0x315c5e)=>{const _0x1961a1=_0x364b19;switch(_0x4d0d4a){case _0x1961a1(0x523):return _0x264b5d[_0x1961a1(0x331)][_0x1961a1(0x53a)](_0x315c5e[_0x1961a1(0x331)],'th');case _0x1961a1(0x1bd):return _0x315c5e[_0x1961a1(0x331)]['localeCompare'](_0x264b5d[_0x1961a1(0x331)],'th');case _0x1961a1(0x3fe):return new Date(_0x264b5d[_0x1961a1(0x68b)])-new Date(_0x315c5e['createdAt']);default:return new Date(_0x315c5e[_0x1961a1(0x68b)])-new Date(_0x264b5d[_0x1961a1(0x68b)]);}};_0x136bab['sort'](_0x28c44c),_0x1c8246['sort'](_0x28c44c);const _0xda56d9=[..._0x136bab,..._0x1c8246],_0x431b3c=globalDashboardSettings[_0x364b19(0x27c)]||[];_0x431b3c[_0x364b19(0x6bd)]>0x0&&_0xce31bc==='grid'&&_0xda56d9[_0x364b19(0x631)]((_0x466c19,_0x278ca7)=>{const _0x555461=_0x364b19,_0x8dce73=_0x431b3c[_0x555461(0x2cc)](_0x466c19['id']),_0x25ff65=_0x431b3c['indexOf'](_0x278ca7['id']);if(_0x8dce73===-0x1)return 0x1;if(_0x25ff65===-0x1)return-0x1;return _0x8dce73-_0x25ff65;});const _0x4dac96={};await Promise[_0x364b19(0x70b)](_0xda56d9[_0x364b19(0x4cd)](async _0x924d77=>{const _0x37bd96=_0x364b19,_0x5346ad=query(collection(db,_0x37bd96(0x565)+appId+_0x37bd96(0x60e)),where(_0x37bd96(0x65c),'==',_0x924d77['id'])),_0x539e7f=await getDocs(_0x5346ad);_0x4dac96[_0x924d77['id']]=_0x539e7f[_0x37bd96(0x695)];}));const _0x3896b0=document['getElementById'](_0x364b19(0x31a));let _0x287594='';if(_0xce31bc===_0x364b19(0x75b)){_0x3896b0[_0x364b19(0x15a)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes['length']>0x0&&_0x91310f===''){const _0x115b3d=starredQuizzes['map'](_0x4f4b51=>{const _0x4643f3=_0x364b19,_0x565647=allProjects[_0x4643f3(0x691)](_0x499ab2=>_0x499ab2['id']===_0x4f4b51[_0x4643f3(0x65c)]);return{..._0x4f4b51,'projectName':_0x565647?_0x565647[_0x4643f3(0x331)]:_0x4643f3(0x714)};});_0x287594+=_0x364b19(0x82b)+_0x115b3d['map'](_0x539a54=>_0x364b19(0x3ee)+_0x539a54[_0x364b19(0x3ef)]+'\x22>'+_0x539a54['topic']+_0x364b19(0x2d9)+_0x539a54[_0x364b19(0x331)]+_0x364b19(0x253)+_0x539a54[_0x364b19(0x331)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x364b19(0x58e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes[_0x364b19(0x6bd)]+_0x364b19(0x46a);}_0xda56d9[_0x364b19(0x35f)](_0x37f67f=>{const _0x1c7970=_0x364b19,_0x19f87a=_0x4dac96[_0x37f67f['id']]??0x0,_0x1bf6dd=_0x1f9785[_0x1c7970(0x914)](_0x37f67f['id']),_0x2a0a48=_0x37f67f[_0x1c7970(0x2aa)]||_0x1c7970(0x17d),_0x76ac66=parseInt(_0x2a0a48[_0x1c7970(0x753)](0x1,0x3),0x10)*0.299+parseInt(_0x2a0a48[_0x1c7970(0x753)](0x3,0x5),0x10)*0.587+parseInt(_0x2a0a48['substring'](0x5,0x7),0x10)*0.114<0xba,_0x4827be=_0x76ac66?_0x1c7970(0x4c7):_0x1c7970(0x347),_0x2a9359=_0x76ac66?_0x1c7970(0x2e1):_0x1c7970(0x49c);_0x287594+=_0x1c7970(0x32e)+(_0x1bf6dd?_0x1c7970(0x766):'border-gray-200')+_0x1c7970(0x254)+_0x2a0a48+_0x1c7970(0x730)+_0x37f67f['id']+_0x1c7970(0x1df)+_0x37f67f['id']+_0x1c7970(0x65e)+(_0x76ac66?_0x1c7970(0x88d):_0x1c7970(0x6b2))+_0x1c7970(0x5e6)+_0x37f67f['id']+_0x1c7970(0x7fa)+(_0x76ac66?_0x1c7970(0x88d):_0x1c7970(0x6b2))+_0x1c7970(0x21e)+(_0x1bf6dd?_0x76ac66?_0x1c7970(0x3b1):'text-indigo-600':'')+_0x1c7970(0x907)+_0x37f67f['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x4827be+_0x1c7970(0x208)+_0x37f67f[_0x1c7970(0x331)]+_0x1c7970(0x405)+_0x2a9359+_0x1c7970(0x8cf)+new Date(_0x37f67f['createdAt'])[_0x1c7970(0x505)](_0x1c7970(0x6af))+_0x1c7970(0x2fd)+(_0x76ac66?'text-gray-100':_0x1c7970(0x4da))+_0x1c7970(0x6a3)+_0x19f87a+_0x1c7970(0x323)+_0x37f67f['id']+_0x1c7970(0x3c1)+_0x37f67f[_0x1c7970(0x331)]+_0x1c7970(0x8d8)+(_0x76ac66?_0x1c7970(0x26d):_0x1c7970(0x741))+_0x1c7970(0x2b8);});}else _0x3896b0[_0x364b19(0x15a)]=_0x364b19(0x798),starredQuizzes[_0x364b19(0x6bd)]>0x0&&_0x91310f===''&&(_0x287594+=_0x364b19(0x28a)+starredQuizzes[_0x364b19(0x6bd)]+_0x364b19(0x78f)),_0x287594+=_0x364b19(0x2ba),_0xda56d9[_0x364b19(0x35f)](_0x19af06=>{const _0x44ee2f=_0x364b19,_0x54f795=_0x4dac96[_0x19af06['id']]??0x0,_0x39aa11=_0x1f9785[_0x44ee2f(0x914)](_0x19af06['id']);_0x287594+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x19af06[_0x44ee2f(0x2aa)]||'#E5E7EB')+_0x44ee2f(0x72d)+_0x19af06['id']+_0x44ee2f(0x449)+_0x19af06[_0x44ee2f(0x331)]+_0x44ee2f(0x4be)+_0x54f795+_0x44ee2f(0x1b7)+new Date(_0x19af06[_0x44ee2f(0x68b)])['toLocaleString'](_0x44ee2f(0x6af))+_0x44ee2f(0x504)+_0x19af06['id']+_0x44ee2f(0x249)+(_0x39aa11?_0x44ee2f(0x3c4):'')+_0x44ee2f(0x326)+_0x19af06['id']+_0x44ee2f(0x3c1)+_0x19af06[_0x44ee2f(0x331)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList[_0x364b19(0x498)]=_0x287594,noProjectsMsg[_0x364b19(0x8f6)]['toggle'](_0x364b19(0x1f2),_0x287594['length']>0x0);}document[_0x101354(0x187)](_0x101354(0x2d2))[_0x101354(0x57e)](_0x101354(0x2a0),async()=>{const _0x252bae=_0x101354,_0x310ff0=document[_0x252bae(0x187)](_0x252bae(0x639)),_0x1b918e=_0x310ff0['value']['trim']();if(!_0x1b918e){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x56ad72=doc(collection(db,_0x252bae(0x565)+appId+_0x252bae(0x494)));await setDoc(_0x56ad72,{'projectName':_0x1b918e,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x252bae(0x414)]()}),_0x310ff0[_0x252bae(0x82c)]='',createProjectModal['classList'][_0x252bae(0x43c)]('hidden'),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x54ec4c){console['error'](_0x252bae(0x201),_0x54ec4c),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x101354(0x57e)](_0x101354(0x2a0),async _0x2272d7=>{const _0x4a2dba=_0x101354,_0x202019=_0x2272d7[_0x4a2dba(0x1e5)]['closest'](_0x4a2dba(0x488)),_0x4a16b7=_0x2272d7[_0x4a2dba(0x1e5)][_0x4a2dba(0x1d5)]('.delete-project-btn'),_0x4070f2=_0x2272d7[_0x4a2dba(0x1e5)]['closest'](_0x4a2dba(0x8e6)),_0x11c994=_0x2272d7[_0x4a2dba(0x1e5)][_0x4a2dba(0x1d5)](_0x4a2dba(0x3e3));if(_0x4070f2){const _0x3717d8=_0x4070f2[_0x4a2dba(0x7ed)]['id'],_0x141bf2=doc(db,_0x4a2dba(0x588),'dashboardConfig'),_0x19e1e1=globalDashboardSettings[_0x4a2dba(0x26e)];let _0x17f380;_0x19e1e1[_0x4a2dba(0x7f8)](_0x3717d8)?_0x17f380=_0x19e1e1[_0x4a2dba(0x604)](_0x11ff7e=>_0x11ff7e!==_0x3717d8):_0x17f380=[..._0x19e1e1,_0x3717d8];try{await setDoc(_0x141bf2,{'pinnedProjects':_0x17f380},{'merge':!![]});}catch(_0x473e7c){console['error'](_0x4a2dba(0x7d2),_0x473e7c),showMessage(_0x4a2dba(0x7a5));}}else{if(_0x11c994){const _0x233090=_0x11c994['dataset']['id'];showColorPalette(_0x11c994,_0x233090);}else{if(_0x202019){const _0x5a0434=_0x202019[_0x4a2dba(0x7ed)]['id'];_0x5a0434==='starred-project'?showStarredProjectView():(currentProjectId=_0x5a0434,await loadProjectDetails(currentProjectId),showView(_0x4a2dba(0x223)));}else{if(_0x4a16b7){const _0x37ee37=_0x4a16b7['dataset']['id'],_0xf8e812=_0x4a16b7['dataset'][_0x4a2dba(0x67d)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0xf8e812+_0x4a2dba(0x79b),()=>handleDeleteProject(_0x37ee37));}}}}}),projectList[_0x101354(0x57e)](_0x101354(0x529),_0x461b08=>{const _0x316f32=_0x101354,_0x3a1663=_0x461b08[_0x316f32(0x1e5)][_0x316f32(0x1d5)](_0x316f32(0x6a7));_0x3a1663&&_0x3a1663[_0x316f32(0x8f6)][_0x316f32(0x43c)](_0x316f32(0x226));}),projectList['addEventListener'](_0x101354(0x572),_0x3e113a=>{const _0x3d8e75=_0x101354,_0x3374a6=_0x3e113a[_0x3d8e75(0x1e5)][_0x3d8e75(0x1d5)]('.project-card-container');_0x3374a6&&_0x3374a6['classList']['remove']('opacity-50');}),projectList[_0x101354(0x57e)](_0x101354(0x49d),_0x1a24a2=>{const _0x211992=_0x101354;_0x1a24a2[_0x211992(0x518)]();const _0x373ff7=document[_0x211992(0x399)](_0x211992(0x57b));if(!_0x373ff7)return;const _0x2e13b7=getDragAfterElement(projectList,_0x1a24a2[_0x211992(0x7d8)]);_0x2e13b7==null?projectList[_0x211992(0x360)](_0x373ff7):projectList['insertBefore'](_0x373ff7,_0x2e13b7);}),projectList['addEventListener']('drop',_0x425390=>{const _0x5889e7=_0x101354;_0x425390[_0x5889e7(0x518)]();const _0xa230a=[...projectList[_0x5889e7(0x7eb)](_0x5889e7(0x1d6))]['map'](_0x3bc29a=>_0x3bc29a[_0x5889e7(0x7ed)]['id']);saveProjectOrder(_0xa230a);});function renderBehaviorLog(_0x3d0207){const _0x51b17a=_0x101354,_0x3fa013=document[_0x51b17a(0x187)](_0x51b17a(0x81d));if(!_0x3fa013)return;const _0xf1a32c=_0x3d0207[_0x51b17a(0x604)](_0x501240=>_0x501240[_0x51b17a(0x2fb)]&&_0x501240[_0x51b17a(0x2fb)][_0x51b17a(0x6bd)]>0x0);if(_0xf1a32c[_0x51b17a(0x6bd)]===0x0){_0x3fa013[_0x51b17a(0x498)]=_0x51b17a(0x29e);return;}let _0x50c61f='';_0xf1a32c['forEach'](_0x10d760=>{const _0x360918=_0x51b17a;_0x50c61f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x10d760['studentName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x10d760[_0x360918(0x2fb)][_0x360918(0x631)]((_0x1a9a87,_0x36d3dd)=>new Date(_0x36d3dd[_0x360918(0x520)])-new Date(_0x1a9a87[_0x360918(0x520)]))[_0x360918(0x35f)](_0x41b130=>{const _0x4d0046=_0x360918,_0x57764c=new Date(_0x41b130[_0x4d0046(0x520)])[_0x4d0046(0x593)]('th-TH',{'dateStyle':_0x4d0046(0x69e),'timeStyle':_0x4d0046(0x2b6)});_0x50c61f+=_0x4d0046(0x76f)+_0x41b130['attemptNumber']+_0x4d0046(0x74f)+_0x57764c+_0x4d0046(0x7ca);}),_0x50c61f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3fa013[_0x51b17a(0x498)]=_0x50c61f;}function getDragAfterElement(_0x2d4a6c,_0xe5567){const _0x4ef1a3=_0x101354,_0x23fad0=[..._0x2d4a6c[_0x4ef1a3(0x7eb)](_0x4ef1a3(0x5f9))];return _0x23fad0[_0x4ef1a3(0x5fa)]((_0x1400f4,_0x4dcc88)=>{const _0x44bf9f=_0x4ef1a3,_0x531673=_0x4dcc88[_0x44bf9f(0x66e)](),_0x328f5c=_0xe5567-_0x531673['top']-_0x531673[_0x44bf9f(0x217)]/0x2;return _0x328f5c<0x0&&_0x328f5c>_0x1400f4[_0x44bf9f(0x8c1)]?{'offset':_0x328f5c,'element':_0x4dcc88}:_0x1400f4;},{'offset':Number['NEGATIVE_INFINITY']})[_0x4ef1a3(0x3e8)];}async function saveProjectOrder(_0x59a243){const _0x467d0a=_0x101354,_0x358f57=doc(db,'globalSettings',_0x467d0a(0x39f));try{await setDoc(_0x358f57,{'projectOrder':_0x59a243},{'merge':!![]});}catch(_0x1c52e1){console[_0x467d0a(0x2eb)]('Error\x20saving\x20project\x20order:',_0x1c52e1),showMessage(_0x467d0a(0x443));}}async function logBehaviorEvent(_0x14b582,_0x10507b={}){const _0x38b3b6=_0x101354;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn']('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x3de237=doc(db,_0x38b3b6(0x565)+appId+'/public/data/quizzes/'+currentQuizData['id']+'/submissions',currentStudentName),_0x255d35={'event':_0x14b582,'timestamp':new Date()[_0x38b3b6(0x414)](),..._0x10507b};try{await setDoc(_0x3de237,{'studentName':currentStudentName,'behaviorLog':arrayUnion(_0x255d35)},{'merge':!![]}),console[_0x38b3b6(0x4e5)](_0x38b3b6(0x620)+currentStudentName+'\x20สำเร็จ:\x20'+_0x14b582);}catch(_0x5ef8ca){console['error'](_0x38b3b6(0x64b),_0x5ef8ca);}}function calculateMeanAndStdDev(_0x5b188e){const _0x5956f6=_0x101354;if(_0x5b188e[_0x5956f6(0x6bd)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x3ee435=_0x5b188e['reduce']((_0x4c61fd,_0x20475e)=>_0x4c61fd+_0x20475e,0x0)/_0x5b188e['length'];if(_0x5b188e[_0x5956f6(0x6bd)]===0x1)return{'mean':_0x3ee435,'stdDev':0x0};const _0x51e0c3=Math[_0x5956f6(0x4e7)](_0x5b188e['map'](_0x56b5e9=>Math[_0x5956f6(0x161)](_0x56b5e9-_0x3ee435,0x2))['reduce']((_0x3697ba,_0x1bbff0)=>_0x3697ba+_0x1bbff0,0x0)/(_0x5b188e[_0x5956f6(0x6bd)]-0x1));return{'mean':_0x3ee435,'stdDev':_0x51e0c3};}function calculateZScore(_0x542130,_0x2f8d8f,_0x1f9c99){if(_0x1f9c99===0x0)return 0x0;return(_0x542130-_0x2f8d8f)/_0x1f9c99;}function calculateTScore(_0x118ca1){return 0xa*_0x118ca1+0x32;}function showStarredProjectView(){const _0x48eb31=_0x101354;currentProjectId=_0x48eb31(0x576),currentProjectData=null,projectTitle[_0x48eb31(0x8fd)]=_0x48eb31(0x562),projectIdDisplay['textContent']=_0x48eb31(0x838),showView(_0x48eb31(0x223)),manageTab[_0x48eb31(0x8f6)][_0x48eb31(0x43c)](_0x48eb31(0x1f2)),leaderboardTab[_0x48eb31(0x8f6)][_0x48eb31(0x43c)](_0x48eb31(0x1f2)),switchProjectTab(_0x48eb31(0x47c)),renderQuizzes();}async function loadProjectDetails(_0x2da90c){const _0x4b5c17=_0x101354,_0x43b615=doc(db,_0x4b5c17(0x565)+appId+'/public/data/projects',_0x2da90c),_0x4d658a=await getDoc(_0x43b615);if(_0x4d658a['exists']()){manageTab['classList']['remove'](_0x4b5c17(0x1f2)),leaderboardTab['classList'][_0x4b5c17(0x773)](_0x4b5c17(0x1f2)),currentProjectData=_0x4d658a[_0x4b5c17(0x471)](),projectTitle[_0x4b5c17(0x8fd)]=currentProjectData[_0x4b5c17(0x331)],projectIdDisplay['textContent']=_0x2da90c;const _0x1e0996=currentProjectData['settings']||{};document[_0x4b5c17(0x187)](_0x4b5c17(0x480))[_0x4b5c17(0x82c)]=_0x1e0996['shuffleSetting']||_0x4b5c17(0x3aa);const _0x5bcfff=document[_0x4b5c17(0x187)](_0x4b5c17(0x17c));_0x5bcfff[_0x4b5c17(0x743)]=_0x1e0996['showInStudentDashboard']!==![];const _0x55e0c4=document['getElementById']('enable-passcode-checkbox'),_0x512304=document['getElementById']('passcode-input-container'),_0x244d5b=document[_0x4b5c17(0x187)]('project-passcode-input'),_0x397b43=_0x1e0996['isPasscodeEnabled']||![];_0x55e0c4[_0x4b5c17(0x743)]=_0x397b43,_0x244d5b[_0x4b5c17(0x82c)]=_0x1e0996['passcode']||'',_0x512304[_0x4b5c17(0x8f6)][_0x4b5c17(0x496)](_0x4b5c17(0x1f2),!_0x397b43),_0x55e0c4[_0x4b5c17(0x3e6)]=()=>{const _0x50cd2b=_0x4b5c17;_0x512304[_0x50cd2b(0x8f6)][_0x50cd2b(0x496)](_0x50cd2b(0x1f2),!_0x55e0c4['checked']);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x2da90c),listenForProjectQuizzes(_0x2da90c),listenForStudentProfiles(_0x2da90c);}else showMessage(_0x4b5c17(0x71a)),showView(_0x4b5c17(0x2b5));}async function handleResetProjectOrder(){const _0x12686f=_0x101354,_0x4d702f=doc(db,_0x12686f(0x588),_0x12686f(0x39f));try{await setDoc(_0x4d702f,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x12686f(0x2ab));}catch(_0x80c41c){console['error']('Error\x20resetting\x20project\x20order:',_0x80c41c),showMessage(_0x12686f(0x191));}}async function handleTogglePinProject(_0x541c8a){const _0xc09e90=_0x101354;if(!_0x541c8a)return;const _0x6ed7f5=doc(db,_0xc09e90(0x565)+appId+_0xc09e90(0x494),_0x541c8a);try{const _0x10b50d=await getDoc(_0x6ed7f5);if(_0x10b50d['exists']()){const _0x2570d5=_0x10b50d[_0xc09e90(0x471)]()[_0xc09e90(0x2b4)]||![];await updateDoc(_0x6ed7f5,{'isPinned':!_0x2570d5});}}catch(_0x190481){console[_0xc09e90(0x2eb)]('Error\x20toggling\x20pin\x20status:',_0x190481),showMessage(_0xc09e90(0x7a5));}}async function handleDeleteProject(_0x2107f8){const _0x33d873=_0x101354;try{const _0x5c9ece=writeBatch(db),_0x5e4237=collection(db,_0x33d873(0x565)+appId+_0x33d873(0x60e)),_0x4fcb68=query(_0x5e4237,where(_0x33d873(0x65c),'==',_0x2107f8)),_0x292713=await getDocs(_0x4fcb68);for(const _0x1c0746 of _0x292713[_0x33d873(0x8a1)]){const _0x35b274=collection(db,_0x33d873(0x565)+appId+_0x33d873(0x71b)+_0x1c0746['id']+_0x33d873(0x8e0)),_0x48d043=await getDocs(_0x35b274);_0x48d043['forEach'](_0x100cfb=>{_0x5c9ece['delete'](_0x100cfb['ref']);}),_0x5c9ece[_0x33d873(0x47a)](_0x1c0746['ref']);}const _0x5a16fd=collection(db,_0x33d873(0x565)+appId+_0x33d873(0x6d2)+_0x2107f8+_0x33d873(0x850)),_0x29a57f=await getDocs(_0x5a16fd);_0x29a57f['forEach'](_0x2e490a=>{const _0x19f8e9=_0x33d873;_0x5c9ece[_0x19f8e9(0x47a)](_0x2e490a[_0x19f8e9(0x5ca)]);});const _0x5da311=doc(db,_0x33d873(0x565)+appId+'/public/data/projects',_0x2107f8);_0x5c9ece['delete'](_0x5da311),await _0x5c9ece[_0x33d873(0x72f)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x33d873(0x2b5));}catch(_0x56c0a1){console[_0x33d873(0x2eb)](_0x33d873(0x500),_0x56c0a1),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x101354(0x187)](_0x101354(0x82d))[_0x101354(0x57e)](_0x101354(0x2a0),async()=>{const _0x4d57e6=_0x101354;if(!currentProjectId)return;const _0x52c73d={'defaultNumQuestions':parseInt(document[_0x4d57e6(0x187)](_0x4d57e6(0x3d4))[_0x4d57e6(0x82c)]),'defaultNumChoices':parseInt(document['getElementById'](_0x4d57e6(0x5e9))[_0x4d57e6(0x82c)]),'defaultPassingScore':parseInt(document[_0x4d57e6(0x187)](_0x4d57e6(0x5ae))['value']),'resultsDisplay':document[_0x4d57e6(0x187)](_0x4d57e6(0x4fb))[_0x4d57e6(0x82c)],'shuffleSetting':document[_0x4d57e6(0x187)](_0x4d57e6(0x480))['value'],'timerMode':document[_0x4d57e6(0x187)](_0x4d57e6(0x3bc))[_0x4d57e6(0x82c)],'timerDuration':parseInt(document[_0x4d57e6(0x187)](_0x4d57e6(0x345))[_0x4d57e6(0x82c)])};try{const _0x1bd441=doc(db,_0x4d57e6(0x565)+appId+_0x4d57e6(0x494),currentProjectId);await updateDoc(_0x1bd441,{'settings':_0x52c73d}),showMessage(_0x4d57e6(0x85b));}catch(_0x2a1e2d){console[_0x4d57e6(0x2eb)](_0x4d57e6(0x428),_0x2a1e2d),showMessage(_0x4d57e6(0x66a));}});function listenForStudents(_0x1aac68){const _0x39ccfd=_0x101354,_0x1bc879=doc(db,_0x39ccfd(0x565)+appId+'/public/data/projects',_0x1aac68);unsubscribeStudentsListener=onSnapshot(_0x1bc879,_0x1b758a=>{const _0x4fba1c=_0x39ccfd;if(_0x1b758a[_0x4fba1c(0x5dd)]()){const _0x5eb768=_0x1b758a[_0x4fba1c(0x471)]();currentProjectData=_0x5eb768,renderStudentList(_0x5eb768[_0x4fba1c(0x624)]||[]);}});}function renderStudentList(_0x53d178){const _0x11773c=_0x101354,_0xff0433=document[_0x11773c(0x187)](_0x11773c(0x5e3));_0x53d178[_0x11773c(0x6bd)]===0x0?(studentList[_0x11773c(0x498)]=_0x11773c(0x36a),_0xff0433['classList'][_0x11773c(0x43c)](_0x11773c(0x1f2))):(studentList['innerHTML']=_0x53d178[_0x11773c(0x4cd)](_0x1d6dcf=>_0x11773c(0x19f)+_0x1d6dcf+_0x11773c(0x726)+_0x1d6dcf+_0x11773c(0x3d5))[_0x11773c(0x58e)](''),_0xff0433[_0x11773c(0x8f6)][_0x11773c(0x773)](_0x11773c(0x1f2)));}document[_0x101354(0x187)](_0x101354(0x18b))[_0x101354(0x57e)]('click',async()=>{const _0x110fb1=_0x101354;if(!currentProjectId)return;const _0x15fc77=document[_0x110fb1(0x187)](_0x110fb1(0x48c)),_0x35aba1=_0x15fc77[_0x110fb1(0x82c)][_0x110fb1(0x4b3)]();if(!_0x35aba1){showMessage(_0x110fb1(0x7b8));return;}const _0x45a5c2=_0x35aba1[_0x110fb1(0x490)]('\x0a')['map'](_0x17d26b=>_0x17d26b[_0x110fb1(0x4b3)]())[_0x110fb1(0x604)](_0xedee63=>_0xedee63);if(_0x45a5c2['length']===0x0)return;try{const _0xa00c26=doc(db,_0x110fb1(0x565)+appId+_0x110fb1(0x494),currentProjectId),_0x32beb8=await getDoc(_0xa00c26);if(_0x32beb8[_0x110fb1(0x5dd)]()){const _0x2d16ed=_0x32beb8['data']()[_0x110fb1(0x624)]||[],_0x16ff19=[...new Set([..._0x2d16ed,..._0x45a5c2])];await updateDoc(_0xa00c26,{'students':_0x16ff19}),_0x15fc77['value']='';}}catch(_0x18b757){console[_0x110fb1(0x2eb)](_0x110fb1(0x158),_0x18b757),showMessage(_0x110fb1(0x479));}});async function handleManualQuizPairing(_0x4868f1){const _0x144819=_0x101354,_0x5836d5=document[_0x144819(0x187)]('move-quiz-modal'),_0x46e37f=document['getElementById'](_0x144819(0x4bb)),_0x2bf583=_0x5836d5[_0x144819(0x399)]('h3'),_0x40d0f0=document[_0x144819(0x187)](_0x144819(0x365)),_0x3633c1=document[_0x144819(0x187)](_0x144819(0x855));_0x2bf583[_0x144819(0x8fd)]=_0x144819(0x202),_0x46e37f['innerHTML']='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x40d0f0[_0x144819(0x8fd)]='ยืนยันการจับคู่',_0x5836d5[_0x144819(0x8f6)]['remove'](_0x144819(0x1f2));const _0x1ae103=allQuizzes[_0x144819(0x604)](_0x5e66a3=>_0x5e66a3['id']!==_0x4868f1);_0x1ae103[_0x144819(0x6bd)]===0x0?(_0x46e37f[_0x144819(0x498)]=_0x144819(0x169),_0x40d0f0['disabled']=!![]):(_0x46e37f[_0x144819(0x498)]=_0x144819(0x5b1)+_0x1ae103[_0x144819(0x4cd)](_0x90db5f=>_0x144819(0x20b)+_0x90db5f['id']+'\x22>'+_0x90db5f[_0x144819(0x3ef)]+_0x144819(0x1e9))['join'](''),_0x40d0f0[_0x144819(0x8cc)]=![]);const _0x13ad22=async()=>{const _0x24e7b8=_0x144819,_0x5ead0e=_0x46e37f[_0x24e7b8(0x82c)];if(!_0x5ead0e){showMessage(_0x24e7b8(0x2c5));return;}_0x40d0f0[_0x24e7b8(0x8cc)]=!![],_0x40d0f0[_0x24e7b8(0x8fd)]=_0x24e7b8(0x8bd);try{const _0xefb082=doc(db,'artifacts/'+appId+_0x24e7b8(0x60e),_0x4868f1),_0xf3ad2d=doc(db,_0x24e7b8(0x565)+appId+_0x24e7b8(0x60e),_0x5ead0e),_0x1720d9=writeBatch(db);_0x1720d9[_0x24e7b8(0x5b4)](_0xefb082,{'pairedQuizId':_0x5ead0e}),_0x1720d9[_0x24e7b8(0x5b4)](_0xf3ad2d,{'pairedQuizId':_0x4868f1}),await _0x1720d9[_0x24e7b8(0x72f)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x5836d5['classList'][_0x24e7b8(0x43c)]('hidden');}catch(_0x1346a2){console[_0x24e7b8(0x2eb)](_0x24e7b8(0x70c),_0x1346a2),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x2bf583['textContent']=_0x24e7b8(0x2c3),_0x40d0f0['textContent']=_0x24e7b8(0x31c),_0x40d0f0['disabled']=![],_0x40d0f0['removeEventListener'](_0x24e7b8(0x2a0),_0x13ad22),_0x3633c1[_0x24e7b8(0x4ff)](_0x24e7b8(0x2a0),_0x3f3fb1);}},_0x3f3fb1=()=>{const _0x4cacba=_0x144819;_0x5836d5['classList'][_0x4cacba(0x43c)]('hidden'),_0x2bf583[_0x4cacba(0x8fd)]=_0x4cacba(0x2c3),_0x40d0f0['textContent']=_0x4cacba(0x31c),_0x40d0f0[_0x4cacba(0x4ff)](_0x4cacba(0x2a0),_0x13ad22),_0x3633c1[_0x4cacba(0x4ff)]('click',_0x3f3fb1);};_0x40d0f0[_0x144819(0x57e)](_0x144819(0x2a0),_0x13ad22),_0x3633c1['addEventListener'](_0x144819(0x2a0),_0x3f3fb1);}function handleDeleteStudent(_0x340c3f){const _0x4c1b99=_0x101354;showConfirmation(_0x4c1b99(0x35c)+_0x340c3f+_0x4c1b99(0x207),async()=>{const _0x34eed7=_0x4c1b99;if(!currentProjectId||!currentProjectData)return;const _0x5a82d1=currentProjectData[_0x34eed7(0x624)][_0x34eed7(0x604)](_0xfc510b=>_0xfc510b!==_0x340c3f);try{const _0x339187=doc(db,_0x34eed7(0x565)+appId+_0x34eed7(0x494),currentProjectId),_0x2d1092=doc(db,'artifacts/'+appId+_0x34eed7(0x6d2)+currentProjectId+_0x34eed7(0x850),_0x340c3f),_0x31fafa=writeBatch(db);_0x31fafa[_0x34eed7(0x5b4)](_0x339187,{'students':_0x5a82d1}),_0x31fafa[_0x34eed7(0x47a)](_0x2d1092),await _0x31fafa[_0x34eed7(0x72f)]();}catch(_0x3c9e7){console[_0x34eed7(0x2eb)](_0x34eed7(0x73e),_0x3c9e7),showMessage(_0x34eed7(0x16e));}});}function handleDeleteAllStudents(){const _0x56a4b1=_0x101354;showConfirmation(_0x56a4b1(0x8c9),async()=>{const _0x1c01c0=_0x56a4b1;if(!currentProjectId)return;try{const _0x9fc833=doc(db,_0x1c01c0(0x565)+appId+_0x1c01c0(0x494),currentProjectId),_0x3f45cd=collection(db,_0x1c01c0(0x565)+appId+_0x1c01c0(0x6d2)+currentProjectId+_0x1c01c0(0x850)),_0x4a042b=await getDocs(_0x3f45cd),_0x3a629a=writeBatch(db);_0x3a629a['update'](_0x9fc833,{'students':[]}),_0x4a042b[_0x1c01c0(0x35f)](_0xf129d2=>_0x3a629a[_0x1c01c0(0x47a)](_0xf129d2[_0x1c01c0(0x5ca)])),await _0x3a629a[_0x1c01c0(0x72f)]();}catch(_0x19db7f){console[_0x1c01c0(0x2eb)]('Error\x20deleting\x20all\x20students:',_0x19db7f),showMessage(_0x1c01c0(0x6ee));}});}async function handleGenerateFromFileClick(){const _0x190546=_0x101354;if(!selectedFile){showMessage(_0x190546(0x65f));return;}const _0x5cc9b7=document[_0x190546(0x187)](_0x190546(0x848)),_0x17bb5c=document[_0x190546(0x187)](_0x190546(0x775)),_0x54faa0=document['getElementById']('generated-quiz-container'),_0xb70fb7=document[_0x190546(0x187)](_0x190546(0x82a));_0xb70fb7[_0x190546(0x8cc)]=!![],document[_0x190546(0x187)](_0x190546(0x5eb))[_0x190546(0x8f6)][_0x190546(0x773)](_0x190546(0x1f2)),_0x54faa0[_0x190546(0x498)]='',_0x5cc9b7[_0x190546(0x8f6)][_0x190546(0x773)](_0x190546(0x1f2)),_0x17bb5c[_0x190546(0x8fd)]=_0x190546(0x61d);const _0x2293b2=new FileReader();_0x2293b2[_0x190546(0x3dd)](selectedFile),_0x2293b2[_0x190546(0x55e)]=async()=>{const _0x55c3a5=_0x190546;try{const _0x3f58bd=_0x2293b2[_0x55c3a5(0x645)][_0x55c3a5(0x490)](',')[0x1],_0x56f169=selectedFile['type'];await generateQuizFromFile(_0x56f169,_0x3f58bd);}catch(_0x3712f1){console['error'](_0x55c3a5(0x1ba),_0x3712f1),showMessage(_0x55c3a5(0x763)+_0x3712f1[_0x55c3a5(0x8b1)]),_0x5cc9b7['classList'][_0x55c3a5(0x43c)](_0x55c3a5(0x1f2));}finally{}},_0x2293b2[_0x190546(0x377)]=_0x409cab=>{const _0x4b202d=_0x190546;console[_0x4b202d(0x2eb)](_0x4b202d(0x31f),_0x409cab),showMessage(_0x4b202d(0x15e)),_0x5cc9b7[_0x4b202d(0x8f6)][_0x4b202d(0x43c)](_0x4b202d(0x1f2)),_0xb70fb7['disabled']=![];};}function autoFormatMath(_0x22f386){const _0x2ea21c=_0x101354;if(typeof _0x22f386!==_0x2ea21c(0x2a3)||!_0x22f386)return _0x22f386;const _0x111577=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0xf8242a=_0x22f386['replace'](_0x111577,_0x1a201c=>{const _0x4ba90c=_0x2ea21c;return'$'+_0x1a201c[_0x4ba90c(0x4b3)]()+'$';});return _0xf8242a;}function sanitizeQuizData(_0x39cf69){const _0x470b00=_0x101354;if(!_0x39cf69||!_0x39cf69['questions'])return _0x39cf69;const _0x36e623={'imes':'\x5ctimes','div':_0x470b00(0x8da)},_0xe0d312=_0x147cf6=>{const _0x6d5983=_0x470b00;if(typeof _0x147cf6!=='string')return _0x147cf6;let _0x40ebb5=_0x147cf6;for(const [_0x4d7bb8,_0x153c91]of Object[_0x6d5983(0x7ab)](_0x36e623)){const _0xd63c93=new RegExp('\x5cb'+_0x4d7bb8+'\x5cb','g');_0x40ebb5=_0x40ebb5['replace'](_0xd63c93,_0x153c91);}return _0x40ebb5=_0x40ebb5[_0x6d5983(0x83e)](/\\\//g,'\x5cdiv'),_0x40ebb5=_0x40ebb5[_0x6d5983(0x83e)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x6d5983(0x8da))[_0x6d5983(0x83e)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x6d5983(0x1fb))[_0x6d5983(0x83e)](/÷/g,_0x6d5983(0x8da))[_0x6d5983(0x83e)](/×/g,_0x6d5983(0x1fb)),_0x40ebb5=_0x40ebb5[_0x6d5983(0x83e)](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x40ebb5=autoFormatMath(_0x40ebb5),_0x40ebb5;};return _0x39cf69['topic']&&(_0x39cf69[_0x470b00(0x3ef)]=_0xe0d312(_0x39cf69['topic'])),_0x39cf69[_0x470b00(0x371)]['forEach'](_0x171dcb=>{const _0xe0dc40=_0x470b00;_0x171dcb[_0xe0dc40(0x2ea)]=_0xe0d312(_0x171dcb[_0xe0dc40(0x2ea)]),_0x171dcb[_0xe0dc40(0x510)]&&(_0x171dcb[_0xe0dc40(0x510)]=_0x171dcb['options'][_0xe0dc40(0x4cd)](_0xe0d312)),_0x171dcb[_0xe0dc40(0x618)]&&(_0x171dcb[_0xe0dc40(0x618)]=_0xe0d312(_0x171dcb[_0xe0dc40(0x618)])),_0x171dcb[_0xe0dc40(0x4ce)]&&(_0x171dcb[_0xe0dc40(0x4ce)]=_0xe0d312(_0x171dcb[_0xe0dc40(0x4ce)])),_0x171dcb[_0xe0dc40(0x3ab)]&&(_0x171dcb[_0xe0dc40(0x3ab)]=_0xe0d312(_0x171dcb[_0xe0dc40(0x3ab)])),_0x171dcb[_0xe0dc40(0x156)]&&(_0x171dcb[_0xe0dc40(0x156)]=_0x171dcb[_0xe0dc40(0x156)]['map'](_0xe0d312));}),_0x39cf69;}const simpleMathPrompt=_0x101354(0x2fc);async function handleGenerateFromLink(){const _0xa27982=_0x101354,_0xe04c0a=document[_0xa27982(0x187)]('link-url-input'),_0x4c9ea1=document[_0xa27982(0x187)](_0xa27982(0x521)),_0x3dc882=_0xe04c0a['value']['trim'](),_0x1daef8=_0x4c9ea1['value']['trim']();if(!_0x3dc882){showMessage(_0xa27982(0x6de));return;}const _0x3bf3a5=document['getElementById'](_0xa27982(0x848)),_0x481bac=document[_0xa27982(0x187)](_0xa27982(0x775)),_0x591a29=document[_0xa27982(0x187)](_0xa27982(0x21a)),_0x501ee3=document['getElementById']('generate-from-link-btn');document[_0xa27982(0x187)]('quiz-generation-area')[_0xa27982(0x8f6)]['remove'](_0xa27982(0x1f2)),_0x591a29[_0xa27982(0x498)]='',_0x3bf3a5[_0xa27982(0x8f6)][_0xa27982(0x773)](_0xa27982(0x1f2)),_0x481bac[_0xa27982(0x8fd)]=_0xa27982(0x296),_0x501ee3[_0xa27982(0x8cc)]=!![];try{const _0x15d9b9='https://corsproxy.io/?'+encodeURIComponent(_0x3dc882),_0x39861e=await fetch(_0x15d9b9);if(!_0x39861e['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x39861e[_0xa27982(0x200)]+')');const _0x2c61b6=await _0x39861e[_0xa27982(0x4d1)](),_0x4772ae=extractTextFromHtml(_0x2c61b6);if(!_0x4772ae||_0x4772ae[_0xa27982(0x6bd)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x1daef8,_0x4772ae);}catch(_0x14e671){console[_0xa27982(0x2eb)](_0xa27982(0x22d),_0x14e671),showMessage(_0xa27982(0x7f5)+_0x14e671[_0xa27982(0x8b1)]),_0x591a29[_0xa27982(0x498)]=_0xa27982(0x633);}finally{_0x3bf3a5[_0xa27982(0x8f6)][_0xa27982(0x43c)](_0xa27982(0x1f2)),_0x501ee3[_0xa27982(0x8cc)]=![];}}function extractTextFromHtml(_0x319988){const _0x4605fa=_0x101354,_0x144f15=new DOMParser()['parseFromString'](_0x319988,_0x4605fa(0x790));return _0x144f15[_0x4605fa(0x7eb)](_0x4605fa(0x3ad))[_0x4605fa(0x35f)](_0x95fb29=>_0x95fb29[_0x4605fa(0x773)]()),_0x144f15['body'][_0x4605fa(0x8fd)]||'';}document[_0x101354(0x187)](_0x101354(0x6d1))[_0x101354(0x57e)](_0x101354(0x2a0),()=>{const _0x215b9c=_0x101354,_0x1cc118=document[_0x215b9c(0x187)](_0x215b9c(0x1af))[_0x215b9c(0x82c)][_0x215b9c(0x4b3)]();generateQuiz(_0x1cc118,null);}),document['getElementById']('generate-from-text-btn')['addEventListener']('click',()=>{const _0x4de4cf=_0x101354,_0x1e4d13=document[_0x4de4cf(0x187)](_0x4de4cf(0x706))['value'][_0x4de4cf(0x4b3)]();if(!_0x1e4d13){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0x36d44b=document[_0x4de4cf(0x187)](_0x4de4cf(0x1af))[_0x4de4cf(0x82c)][_0x4de4cf(0x4b3)]();generateQuiz(_0x36d44b,_0x1e4d13);});async function generateQuiz(_0x28aa3c,_0x2a9bb0,_0x41bc1c=null){const _0x597951=_0x101354,_0x398997=document[_0x597951(0x187)](_0x597951(0x3bd))[_0x597951(0x743)],_0xae20e0=document[_0x597951(0x187)]('quiz-type-select')[_0x597951(0x82c)],_0x367704=document[_0x597951(0x187)](_0x597951(0x3d4))[_0x597951(0x82c)],_0x3a2190=document[_0x597951(0x187)](_0x597951(0x5e9))[_0x597951(0x82c)],_0x1092e0=document[_0x597951(0x187)](_0x597951(0x7e9))['checked'],_0x38eb5c=_0x1092e0?'':_0x597951(0x816),_0xa0d7ec=document[_0x597951(0x187)]('difficulty-level-select'),_0x2fc6fe=_0xa0d7ec['value'];let _0x40d465='';_0x2fc6fe!==_0x597951(0x856)&&(_0x40d465=_0x597951(0x7c2)+_0x2fc6fe+'\x22');const _0x185e71=document[_0x597951(0x187)](_0x597951(0x20f)),_0x4a7c43=_0x185e71[_0x597951(0x82c)];let _0x33a42a='';_0x4a7c43!==_0x597951(0x577)&&(_0x33a42a='โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x4a7c43+_0x597951(0x28e));const _0x303fca=document[_0x597951(0x7eb)](_0x597951(0x166)),_0x1fd96d=Array[_0x597951(0x83a)](_0x303fca)[_0x597951(0x4cd)](_0x313943=>_0x313943['value']);let _0x2db1d3='';_0x1fd96d['length']>0x0&&(_0x2db1d3=_0x597951(0x6d8)+_0x1fd96d['join'](',\x20')+_0x597951(0x712));let _0x47fd5d='',_0x4c2824='',_0x24f1af,_0xa5fe94=_0x597951(0x717)+_0x28aa3c+'\x22';if(!_0x28aa3c&&_0x2a9bb0)_0xa5fe94='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x28aa3c&&!_0x2a9bb0&&(_0xa5fe94=_0x597951(0x5e0));const _0x582cec={'type':_0x597951(0x1bc),'properties':{'questionText':{'type':_0x597951(0x4ea)},'options':{'type':_0x597951(0x61f),'items':{'type':_0x597951(0x4ea)}},'correctAnswerIndex':{'type':_0x597951(0x184)},'explanation':{'type':_0x597951(0x4ea)},'imageCode':{'type':_0x597951(0x4ea)}},'required':[_0x597951(0x2ea),_0x597951(0x510),'correctAnswerIndex',_0x597951(0x618)]},_0x31a8dc={'type':_0x597951(0x1bc),'properties':{'questionText':{'type':_0x597951(0x4ea)},'idealAnswer':{'type':_0x597951(0x4ea)},'explanation':{'type':_0x597951(0x4ea)},'imageCode':{'type':_0x597951(0x4ea)}},'required':[_0x597951(0x2ea),_0x597951(0x602),_0x597951(0x618)]},_0x122105={'type':_0x597951(0x1bc),'properties':{'questionText':{'type':_0x597951(0x4ea)},'questionType':{'type':_0x597951(0x4ea),'enum':[_0x597951(0x89a),_0x597951(0x8b7)]},'options':{'type':_0x597951(0x61f),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x597951(0x184)},'idealAnswer':{'type':_0x597951(0x4ea)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x597951(0x4ea)}},'required':[_0x597951(0x2ea),'questionType','explanation']},_0x3072d2={'type':_0x597951(0x1bc),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x597951(0x68a)},'explanation':{'type':_0x597951(0x4ea)},'imageCode':{'type':_0x597951(0x4ea)}},'required':[_0x597951(0x2ea),_0x597951(0x25e),_0x597951(0x618)]},_0x27710e={'type':_0x597951(0x1bc),'properties':{'questionType':{'type':_0x597951(0x4ea),'enum':[_0x597951(0x61a)]},'stem':{'type':_0x597951(0x4ea)},'correctResponse':{'type':_0x597951(0x4ea)},'allResponses':{'type':_0x597951(0x61f),'items':{'type':_0x597951(0x4ea)}},'explanation':{'type':_0x597951(0x4ea)},'imageCode':{'type':_0x597951(0x4ea)}},'required':['questionType',_0x597951(0x4ce),_0x597951(0x3ab),_0x597951(0x156),_0x597951(0x618)]};let _0x4c582b;if(_0x41bc1c!==null){const _0x2592fa=currentQuizData[_0x597951(0x371)][_0x41bc1c]['questionType'],_0x324d47=_0x398997?_0x597951(0x45b):'';_0x47fd5d='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0xa5fe94+'\x20'+_0x2db1d3+'\x20'+_0x40d465+_0x597951(0x7a1)+_0x324d47+'\x20'+simpleMathPrompt;if(_0x2592fa==='multiple_choice')_0x24f1af=_0x582cec;else{if(_0x2592fa===_0x597951(0x61a))_0x24f1af={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x597951(0x61a)]},'stem':{'type':_0x597951(0x4ea)},'correctResponse':{'type':_0x597951(0x4ea)},'explanation':{'type':_0x597951(0x4ea)},'imageCode':{'type':'STRING'}},'required':[_0x597951(0x81e),_0x597951(0x4ce),_0x597951(0x3ab),_0x597951(0x618)]};else _0x24f1af=_0x31a8dc;}_0x4c582b=_0x24f1af;}else{const _0x27fdf0=_0x398997?_0x597951(0x4eb):'',_0x49565a=_0x597951(0x6dd);switch(_0xae20e0){case'multiple_choice':_0x47fd5d=_0x597951(0x7b9)+_0x38eb5c+'\x20'+_0x367704+_0x597951(0x30f)+_0xa5fe94+'\x20'+_0x2db1d3+'\x20'+_0x40d465+'\x20'+_0x33a42a+_0x597951(0x75e)+_0x3a2190+_0x597951(0x513)+_0x27fdf0+'\x20'+simpleMathPrompt,_0x24f1af=_0x582cec;break;case _0x597951(0x4e2):_0x47fd5d='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x38eb5c+'\x20'+_0x367704+'\x20ข้อ\x20'+_0xa5fe94+'\x20'+_0x2db1d3+'\x20'+_0x40d465+'\x20'+_0x33a42a+_0x597951(0x80b)+_0x3a2190+_0x597951(0x7e0)+_0x27fdf0+'\x20'+simpleMathPrompt,_0x24f1af=_0x582cec;break;case _0x597951(0x709):_0x47fd5d=_0x597951(0x1c2)+_0x38eb5c+'\x20'+_0x367704+_0x597951(0x30f)+_0xa5fe94+'\x20'+_0x2db1d3+'\x20'+_0x40d465+'\x20'+_0x33a42a+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x27fdf0+'\x20'+simpleMathPrompt,_0x24f1af=_0x31a8dc;break;case _0x597951(0x577):_0x47fd5d=_0x597951(0x302)+_0x38eb5c+'\x20'+_0x367704+_0x597951(0x30f)+_0xa5fe94+'\x20'+_0x2db1d3+'\x20'+_0x40d465+'\x20'+_0x33a42a+_0x597951(0x866)+_0x3a2190+_0x597951(0x729)+_0x27fdf0+'\x20'+simpleMathPrompt+'.',_0x24f1af=_0x122105;break;case _0x597951(0x2f7):_0x47fd5d=_0x597951(0x6a2)+_0x38eb5c+'\x20'+_0x367704+_0x597951(0x30f)+_0xa5fe94+'\x20'+_0x2db1d3+'\x20'+_0x40d465+'\x20'+_0x33a42a+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x27fdf0+'\x20'+simpleMathPrompt,_0x24f1af=_0x3072d2;break;case _0x597951(0x39b):_0x47fd5d=_0x597951(0x5e1)+_0x38eb5c+'\x20'+_0x367704+_0x597951(0x48a)+_0xa5fe94+'\x20'+_0x2db1d3+'\x20'+_0x40d465+'\x20'+_0x33a42a+_0x597951(0x447)+_0x27fdf0+'\x20'+simpleMathPrompt,_0x24f1af=_0x27710e;break;}_0x4c582b={'type':_0x597951(0x1bc),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x597951(0x61f),'items':_0x24f1af}},'required':['topic',_0x597951(0x371)]};}return _0x2a9bb0?(_0x47fd5d=_0x597951(0x8f4)+_0x2a9bb0+_0x597951(0x6b8)+_0x47fd5d,_0x4c2824='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):_0x4c2824=_0x597951(0x81c),handleApiCall(_0x47fd5d,_0x4c2824,_0x4c582b,_0x41bc1c);}async function generateQuizFromFile(_0x7aa106,_0x3524f6){const _0x54fb94=_0x101354,_0x3a4318=document[_0x54fb94(0x187)](_0x54fb94(0x25a))['value']['trim'](),_0x1beb3a=document[_0x54fb94(0x187)](_0x54fb94(0x435))['value'],_0x282274=document[_0x54fb94(0x187)](_0x54fb94(0x3d4))[_0x54fb94(0x82c)],_0x26a96c=document[_0x54fb94(0x187)](_0x54fb94(0x5e9))[_0x54fb94(0x82c)],_0xcaa6b2=document[_0x54fb94(0x187)](_0x54fb94(0x3bd))['checked'],_0x5b6c74=document['getElementById']('force-math-checkbox')[_0x54fb94(0x743)],_0x1185e7=_0x5b6c74?'':'คณิตศาสตร์';let _0x856a34='',_0x595c62,_0xa2a85b=_0x54fb94(0x717)+_0x3a4318+'\x22';!_0x3a4318&&(_0xa2a85b='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');const _0x5503ae=_0xcaa6b2?_0x54fb94(0x4eb):'';switch(_0x1beb3a){case _0x54fb94(0x89a):_0x856a34=_0x54fb94(0x7b9)+_0x1185e7+'\x20'+_0x282274+'\x20ข้อ\x20'+_0xa2a85b+_0x54fb94(0x75e)+_0x26a96c+_0x54fb94(0x513)+_0x5503ae+'\x20'+simpleMathPrompt,_0x595c62={'type':_0x54fb94(0x1bc),'properties':{'questionText':{'type':_0x54fb94(0x4ea)},'options':{'type':_0x54fb94(0x61f),'items':{'type':_0x54fb94(0x4ea)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x54fb94(0x4ea)},'imageCode':{'type':_0x54fb94(0x4ea)}},'required':[_0x54fb94(0x2ea),_0x54fb94(0x510),'correctAnswerIndex',_0x54fb94(0x618)]};break;case _0x54fb94(0x4e2):_0x856a34=_0x54fb94(0x1c2)+_0x1185e7+'\x20'+_0x282274+_0x54fb94(0x30f)+_0xa2a85b+_0x54fb94(0x80b)+_0x26a96c+_0x54fb94(0x7e0)+_0x5503ae+'\x20'+simpleMathPrompt,_0x595c62={'type':_0x54fb94(0x1bc),'properties':{'questionText':{'type':_0x54fb94(0x4ea)},'options':{'type':_0x54fb94(0x61f),'items':{'type':_0x54fb94(0x4ea)}},'correctAnswerIndex':{'type':_0x54fb94(0x184)},'explanation':{'type':_0x54fb94(0x4ea)},'imageCode':{'type':_0x54fb94(0x4ea)}},'required':[_0x54fb94(0x2ea),_0x54fb94(0x510),_0x54fb94(0x1c0),'explanation']};break;case _0x54fb94(0x709):_0x856a34='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x1185e7+'\x20'+_0x282274+_0x54fb94(0x30f)+_0xa2a85b+_0x54fb94(0x7cc)+_0x5503ae+'\x20'+simpleMathPrompt,_0x595c62={'type':'OBJECT','properties':{'questionText':{'type':_0x54fb94(0x4ea)},'idealAnswer':{'type':_0x54fb94(0x4ea)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x54fb94(0x4ea)}},'required':[_0x54fb94(0x2ea),_0x54fb94(0x602),_0x54fb94(0x618)]};break;case _0x54fb94(0x577):_0x856a34=_0x54fb94(0x302)+_0x1185e7+'\x20'+_0x282274+'\x20ข้อ\x20'+_0xa2a85b+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x26a96c+_0x54fb94(0x729)+_0x5503ae+'\x20'+simpleMathPrompt+_0x54fb94(0x28b),_0x595c62={'type':_0x54fb94(0x1bc),'properties':{'questionText':{'type':_0x54fb94(0x4ea)},'questionType':{'type':_0x54fb94(0x4ea),'enum':[_0x54fb94(0x89a),_0x54fb94(0x8b7)]},'options':{'type':'ARRAY','items':{'type':_0x54fb94(0x4ea)}},'correctAnswerIndex':{'type':_0x54fb94(0x184)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x54fb94(0x4ea)},'imageCode':{'type':'STRING'}},'required':[_0x54fb94(0x2ea),'questionType','explanation']};break;case _0x54fb94(0x2f7):_0x856a34=_0x54fb94(0x6a2)+_0x1185e7+'\x20'+_0x282274+_0x54fb94(0x30f)+_0xa2a85b+_0x54fb94(0x269)+_0x5503ae+'\x20'+simpleMathPrompt,_0x595c62={'type':_0x54fb94(0x1bc),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x54fb94(0x68a)},'explanation':{'type':_0x54fb94(0x4ea)},'imageCode':{'type':_0x54fb94(0x4ea)}},'required':[_0x54fb94(0x2ea),'correctAnswer','explanation']};break;case _0x54fb94(0x39b):_0x856a34='สร้างชุดคำถามจับคู่'+_0x1185e7+'\x20'+_0x282274+_0x54fb94(0x48a)+_0xa2a85b+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x282274+_0x54fb94(0x76b)+_0x5503ae+'\x20'+simpleMathPrompt,_0x595c62={'type':_0x54fb94(0x1bc),'properties':{'questionType':{'type':_0x54fb94(0x4ea),'enum':[_0x54fb94(0x61a)]},'stem':{'type':_0x54fb94(0x4ea)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x54fb94(0x4ea)}},'explanation':{'type':_0x54fb94(0x4ea)},'imageCode':{'type':'STRING'}},'required':[_0x54fb94(0x81e),_0x54fb94(0x4ce),_0x54fb94(0x3ab),_0x54fb94(0x156),_0x54fb94(0x618)]};break;}const _0x1bab93={'type':_0x54fb94(0x1bc),'properties':{'topic':{'type':_0x54fb94(0x4ea)},'questions':{'type':_0x54fb94(0x61f),'items':_0x595c62}},'required':['topic',_0x54fb94(0x371)]},_0x807197=_0x54fb94(0x53e)+_0x856a34,_0x499a24={'contents':[{'parts':[{'text':_0x807197},{'inlineData':{'mimeType':_0x7aa106,'data':_0x3524f6}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x1bab93}};return handleApiCall(_0x499a24['contents'][0x0]['parts'],_0x54fb94(0x16b),_0x1bab93);}async function handleApiCall(_0x4404fe,_0x3b8b01,_0x2858c8,_0x2b36b4=null){const _0x1e9194=_0x101354,_0x19928b=document['getElementById'](_0x1e9194(0x5eb)),_0x25c425=document[_0x1e9194(0x187)](_0x1e9194(0x848)),_0x55138a=document[_0x1e9194(0x187)](_0x1e9194(0x775)),_0x1df0cc=document[_0x1e9194(0x187)]('generated-quiz-container');_0x19928b[_0x1e9194(0x8f6)][_0x1e9194(0x773)](_0x1e9194(0x1f2));_0x2b36b4===null&&(_0x1df0cc[_0x1e9194(0x498)]='');_0x25c425[_0x1e9194(0x8f6)][_0x1e9194(0x773)](_0x1e9194(0x1f2)),_0x55138a[_0x1e9194(0x8fd)]=_0x3b8b01,document['getElementById'](_0x1e9194(0x6d1))[_0x1e9194(0x8cc)]=!![],document[_0x1e9194(0x187)](_0x1e9194(0x1c7))[_0x1e9194(0x8cc)]=!![],document['getElementById'](_0x1e9194(0x7e5))[_0x1e9194(0x8cc)]=!![];try{const _0xaaa90f={'responseMimeType':'application/json','responseSchema':_0x2858c8},_0x28abec=Array[_0x1e9194(0x2e5)](_0x4404fe)?_0x4404fe:[{'text':_0x4404fe}],_0x16db18={'contents':[{'role':'user','parts':_0x28abec}],'generationConfig':_0xaaa90f},_0x2cf866=_0x1e9194(0x908),_0x569b7f=_0x1e9194(0x870)+_0x2cf866,_0x1e56df=await fetch(_0x569b7f,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x1e9194(0x909)](_0x16db18)});if(!_0x1e56df['ok'])throw new Error(_0x1e9194(0x784)+_0x1e56df[_0x1e9194(0x200)]);const _0x18ead4=await _0x1e56df[_0x1e9194(0x387)]();if(_0x18ead4[_0x1e9194(0x6e4)]?.[0x0]?.[_0x1e9194(0x5f3)]?.[_0x1e9194(0x307)]?.[0x0]){let _0x4bb782=_0x18ead4[_0x1e9194(0x6e4)][0x0][_0x1e9194(0x5f3)][_0x1e9194(0x307)][0x0][_0x1e9194(0x4d1)],_0x518a59;try{if(_0x4bb782['startsWith'](_0x1e9194(0x774)))_0x4bb782=_0x4bb782[_0x1e9194(0x753)](0x7,_0x4bb782[_0x1e9194(0x6bd)]-0x3)[_0x1e9194(0x4b3)]();else _0x4bb782[_0x1e9194(0x4f4)]('```')&&(_0x4bb782=_0x4bb782[_0x1e9194(0x753)](0x3,_0x4bb782[_0x1e9194(0x6bd)]-0x3)[_0x1e9194(0x4b3)]());_0x518a59=JSON['parse'](_0x4bb782);}catch(_0x345533){console[_0x1e9194(0x2eb)](_0x1e9194(0x688),_0x345533,_0x4bb782);throw new Error(_0x1e9194(0x869));}if(_0x2b36b4!==null){if(_0x518a59[_0x1e9194(0x81e)]===_0x1e9194(0x61a)){const _0x26ad48=currentQuizData['questions'][_0x1e9194(0x4cd)](_0x3b6635=>_0x3b6635[_0x1e9194(0x3ab)]);_0x518a59[_0x1e9194(0x156)]=_0x26ad48;const _0x1232a2=currentQuizData['questions'][_0x2b36b4]['correctResponse'],_0x23fb75=_0x26ad48[_0x1e9194(0x2cc)](_0x1232a2);_0x23fb75>-0x1&&(_0x26ad48[_0x23fb75]=_0x518a59[_0x1e9194(0x3ab)]),currentQuizData['questions'][_0x1e9194(0x35f)](_0x1cdb5d=>{const _0x273d57=_0x1e9194;if(_0x1cdb5d[_0x273d57(0x81e)]===_0x273d57(0x61a))_0x1cdb5d[_0x273d57(0x156)]=_0x26ad48;});}currentQuizData[_0x1e9194(0x371)][_0x2b36b4]=_0x518a59,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x518a59;const _0x4b0260=document[_0x1e9194(0x187)](_0x1e9194(0x435))[_0x1e9194(0x82c)];currentQuizData[_0x1e9194(0x2a5)]=_0x4b0260,currentQuizData['questions']&&currentQuizData[_0x1e9194(0x371)]['forEach'](_0xb9fd90=>{const _0x94ae38=_0x1e9194;if(!_0xb9fd90['questionType']){if(_0x4b0260==='fill_in_with_choices')_0xb9fd90[_0x94ae38(0x81e)]='multiple_choice';else _0x4b0260===_0x94ae38(0x709)?_0xb9fd90[_0x94ae38(0x81e)]=_0x94ae38(0x8b7):_0xb9fd90[_0x94ae38(0x81e)]=_0x4b0260;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x1e9194(0x2eb)](_0x1e9194(0x671),JSON[_0x1e9194(0x909)](_0x18ead4));throw new Error(_0x1e9194(0x869));}}catch(_0x299885){console[_0x1e9194(0x2eb)](_0x1e9194(0x2ca),_0x299885),showMessage(_0x1e9194(0x5a5)),_0x2b36b4===null&&(_0x1df0cc[_0x1e9194(0x498)]=_0x1e9194(0x441));}finally{_0x25c425[_0x1e9194(0x8f6)][_0x1e9194(0x43c)](_0x1e9194(0x1f2)),document[_0x1e9194(0x187)](_0x1e9194(0x6d1))[_0x1e9194(0x8cc)]=![],document['getElementById']('generate-from-text-btn')[_0x1e9194(0x8cc)]=![],document['getElementById']('generate-from-link-btn')[_0x1e9194(0x8cc)]=![];const _0x4c2a29=document[_0x1e9194(0x187)](_0x1e9194(0x82a));_0x4c2a29&&(_0x4c2a29[_0x1e9194(0x8cc)]=![]);}}function exitFullscreen(){const _0x14c616=_0x101354;if(document[_0x14c616(0x255)])document[_0x14c616(0x255)]()[_0x14c616(0x215)](_0xdbd150=>console[_0x14c616(0x2eb)](_0xdbd150));else{if(document['webkitExitFullscreen'])document[_0x14c616(0x24b)]();else document[_0x14c616(0x59a)]&&document[_0x14c616(0x59a)]();}}function enterFullscreen(){const _0x56c78d=_0x101354,_0x554ffe=document[_0x56c78d(0x6c4)];if(_0x554ffe[_0x56c78d(0x7e3)])_0x554ffe[_0x56c78d(0x7e3)]()[_0x56c78d(0x215)](_0xbd02d5=>{const _0x34a3e0=_0x56c78d;console[_0x34a3e0(0x2eb)](_0x34a3e0(0x7e7)+_0xbd02d5[_0x34a3e0(0x8b1)]+'\x20('+_0xbd02d5['name']+')');});else{if(_0x554ffe['webkitRequestFullscreen'])_0x554ffe[_0x56c78d(0x78e)]();else _0x554ffe['msRequestFullscreen']&&_0x554ffe['msRequestFullscreen']();}}function handleVisibilityChange(){const _0x22b32e=_0x101354;if(currentMode===_0x22b32e(0x85f))return;isQuizActive&&document['visibilityState']===_0x22b32e(0x1f2)&&(cheatAttempts++,logBehaviorEvent(_0x22b32e(0x6fa),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x22b32e(0x668)+maxCheatAttempts+_0x22b32e(0x270)),document[_0x22b32e(0x187)](_0x22b32e(0x4d7))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x22b32e(0x370),handleVisibilityChange),document['removeEventListener'](_0x22b32e(0x3d9),handleFullscreenChange)):showMessage(_0x22b32e(0x79f)+cheatAttempts+'/'+maxCheatAttempts+_0x22b32e(0x5c1)));}function handleFullscreenChange(){const _0x261901=_0x101354;if(currentMode===_0x261901(0x85f))return;!document['fullscreenElement']&&isQuizActive&&(cheatAttempts++,logBehaviorEvent(_0x261901(0x483),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x261901(0x38b)+maxCheatAttempts+_0x261901(0x270)),document[_0x261901(0x187)](_0x261901(0x4d7))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x261901(0x4ff)](_0x261901(0x3d9),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x261901(0x750),enterFullscreen));}function displayGeneratedQuiz(_0x1daec1){const _0x5400b6=_0x101354,_0x1810c7=document[_0x5400b6(0x187)]('generated-quiz-container');let _0x4163f3=_0x5400b6(0x509)+_0x1daec1[_0x5400b6(0x3ef)]+_0x5400b6(0x58c);_0x1daec1[_0x5400b6(0x371)]['forEach']((_0x547b22,_0x2be1e5)=>{const _0x2ab0de=_0x5400b6;!_0x547b22['id']&&(_0x547b22['id']='q_'+Date['now']()+'_'+_0x2be1e5);const _0x200320=_0x547b22[_0x2ab0de(0x81e)]||_0x1daec1['quizType'];_0x4163f3+=_0x2ab0de(0x742)+_0x2be1e5+_0x2ab0de(0x69b)+_0x2be1e5+_0x2ab0de(0x7ee)+_0x2be1e5+_0x2ab0de(0x1e8)+_0x2be1e5+_0x2ab0de(0x8e5);switch(_0x200320){case _0x2ab0de(0x61a):_0x4163f3+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x2be1e5+'\x22>'+(_0x2be1e5+0x1)+'.\x20'+_0x547b22[_0x2ab0de(0x4ce)]+_0x2ab0de(0x787);_0x547b22[_0x2ab0de(0x3cb)]&&(_0x4163f3+=_0x2ab0de(0x3ec)+_0x2be1e5+_0x2ab0de(0x316)+_0x547b22['imageCode']+_0x2ab0de(0x895));_0x4163f3+=_0x2ab0de(0x278)+_0x2be1e5+'\x22>'+_0x547b22[_0x2ab0de(0x3ab)]+'</span></div>',_0x4163f3+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x2be1e5+'\x22>'+_0x547b22[_0x2ab0de(0x618)]+_0x2ab0de(0x282);break;case _0x2ab0de(0x8b7):_0x4163f3+=_0x2ab0de(0x8d4)+_0x2be1e5+'\x22>'+(_0x2be1e5+0x1)+'.\x20'+_0x547b22['questionText']+_0x2ab0de(0x787);_0x547b22[_0x2ab0de(0x3cb)]&&(_0x4163f3+=_0x2ab0de(0x3ec)+_0x2be1e5+_0x2ab0de(0x316)+_0x547b22[_0x2ab0de(0x3cb)]+_0x2ab0de(0x895));_0x4163f3+=_0x2ab0de(0x75f)+_0x2be1e5+'\x22>'+_0x547b22[_0x2ab0de(0x602)]+_0x2ab0de(0x282),_0x4163f3+=_0x2ab0de(0x672)+_0x2be1e5+'\x22>'+_0x547b22[_0x2ab0de(0x618)]+'</span></div>';break;case _0x2ab0de(0x2f7):_0x4163f3+=_0x2ab0de(0x8d4)+_0x2be1e5+'\x22>'+(_0x2be1e5+0x1)+'.\x20'+_0x547b22['questionText']+'</p>';_0x547b22['imageCode']&&(_0x4163f3+=_0x2ab0de(0x3ec)+_0x2be1e5+_0x2ab0de(0x316)+_0x547b22[_0x2ab0de(0x3cb)]+_0x2ab0de(0x895));_0x4163f3+=_0x2ab0de(0x30a)+(_0x547b22[_0x2ab0de(0x25e)]===!![]?_0x2ab0de(0x2d8):'')+_0x2ab0de(0x216)+(_0x547b22[_0x2ab0de(0x25e)]===![]?_0x2ab0de(0x2d8):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x4163f3+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x2be1e5+'\x22>'+_0x547b22['explanation']+'</span></div>';break;case _0x2ab0de(0x404):case'multiple_choice':default:_0x4163f3+=_0x2ab0de(0x8d4)+_0x2be1e5+'\x22>'+(_0x2be1e5+0x1)+'.\x20'+_0x547b22[_0x2ab0de(0x2ea)]+_0x2ab0de(0x787);_0x547b22[_0x2ab0de(0x3cb)]&&(_0x4163f3+='<div\x20id=\x22q-image-container-'+_0x2be1e5+_0x2ab0de(0x316)+_0x547b22['imageCode']+_0x2ab0de(0x895));_0x4163f3+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x2be1e5+_0x2ab0de(0x906)+_0x547b22[_0x2ab0de(0x510)]['map']((_0x2204c9,_0x10ca3)=>_0x2ab0de(0x5fd)+(_0x10ca3===_0x547b22[_0x2ab0de(0x1c0)]?_0x2ab0de(0x2d8):'')+'\x22>'+_0x2204c9+_0x2ab0de(0x3af))[_0x2ab0de(0x58e)]('')+_0x2ab0de(0x615),_0x4163f3+=_0x2ab0de(0x672)+_0x2be1e5+'\x22>'+_0x547b22[_0x2ab0de(0x618)]+_0x2ab0de(0x282);break;}_0x4163f3+=_0x2ab0de(0x895);}),_0x4163f3+=_0x5400b6(0x4b7),_0x1810c7[_0x5400b6(0x498)]=_0x4163f3,document[_0x5400b6(0x7eb)](_0x5400b6(0x638))[_0x5400b6(0x35f)](_0x39ae93=>_0x39ae93['addEventListener'](_0x5400b6(0x2a0),handleEditQuestion)),document[_0x5400b6(0x7eb)]('.regenerate-question-btn')[_0x5400b6(0x35f)](_0x2feb4a=>_0x2feb4a[_0x5400b6(0x57e)]('click',handleRegenerateQuestion)),document[_0x5400b6(0x7eb)](_0x5400b6(0x3f9))[_0x5400b6(0x35f)](_0x5dd822=>_0x5dd822[_0x5400b6(0x57e)](_0x5400b6(0x2a0),handleSaveToBank)),document['getElementById']('export-worksheet-pdf-btn')[_0x5400b6(0x57e)](_0x5400b6(0x2a0),exportQuizAsWorksheetPDF),document[_0x5400b6(0x187)]('save-quiz-btn')[_0x5400b6(0x57e)](_0x5400b6(0x2a0),saveQuiz),document[_0x5400b6(0x187)](_0x5400b6(0x321))[_0x5400b6(0x57e)](_0x5400b6(0x2a0),handleVerifyAnswers);if(window[_0x5400b6(0x6c0)])window['MathJax'][_0x5400b6(0x16a)]([_0x1810c7]);}function handleRegenerateQuestion(_0x5d22b9){const _0x24d803=_0x101354,_0x59f3e2=_0x5d22b9[_0x24d803(0x725)]['dataset']['index'],_0x28815f=currentQuizData[_0x24d803(0x3ef)];showMessage(_0x24d803(0x325)+(parseInt(_0x59f3e2)+0x1)+_0x24d803(0x362)),generateQuiz(_0x28815f,null,parseInt(_0x59f3e2));}function getPointerPosition(_0x172b80,_0x30cb35){const _0x2c3035=_0x101354,_0x8bdd2c=_0x172b80[_0x2c3035(0x355)]();let _0x49e499,_0x6d7538;return _0x30cb35[_0x2c3035(0x6b0)]&&_0x30cb35[_0x2c3035(0x6b0)][_0x2c3035(0x6bd)]>0x0?(_0x49e499=_0x30cb35['touches'][0x0][_0x2c3035(0x280)],_0x6d7538=_0x30cb35[_0x2c3035(0x6b0)][0x0][_0x2c3035(0x7d8)]):(_0x49e499=_0x30cb35[_0x2c3035(0x280)],_0x6d7538=_0x30cb35[_0x2c3035(0x7d8)]),{'x':(_0x49e499-_0x8bdd2c['e'])/_0x8bdd2c['a'],'y':(_0x6d7538-_0x8bdd2c['f'])/_0x8bdd2c['d']};}function startDrag(_0x3c20da){const _0x1a7655=_0x101354;_0x3c20da[_0x1a7655(0x7f7)]===_0x1a7655(0x357)&&_0x3c20da[_0x1a7655(0x518)]();const _0x3d876e=_0x3c20da[_0x1a7655(0x1e5)]['closest'](_0x1a7655(0x643));if(_0x3d876e){draggedSvgElement=_0x3d876e;const _0x3d572c=draggedSvgElement[_0x1a7655(0x530)],_0x5b82e7=getPointerPosition(_0x3d572c,_0x3c20da);svgOffset['x']=_0x5b82e7['x']-parseFloat(draggedSvgElement[_0x1a7655(0x612)](null,'x')),svgOffset['y']=_0x5b82e7['y']-parseFloat(draggedSvgElement[_0x1a7655(0x612)](null,'y'));}}function calculateItemAnalysis(_0xd35618,_0xe4c47c){const _0x55821b=_0x101354,_0x24cd86={};if(_0xe4c47c[_0x55821b(0x6bd)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x2cdbd8=[..._0xe4c47c][_0x55821b(0x631)]((_0x3d32b0,_0x16ad92)=>{const _0x220049=_0x55821b,_0x10a0d6=_0x16ad92[_0x220049(0x1e4)]-_0x3d32b0[_0x220049(0x1e4)];if(_0x10a0d6!==0x0)return _0x10a0d6;const _0x2f21cd=_0x3d32b0[_0x220049(0x57c)]?.['length']||0x1,_0x1aaef7=_0x16ad92[_0x220049(0x57c)]?.[_0x220049(0x6bd)]||0x1,_0x2a6510=_0x2f21cd-_0x1aaef7;if(_0x2a6510!==0x0)return _0x2a6510;const _0x219a9e=new Date(_0x3d32b0['latestSubmittedAt']),_0x59a68b=new Date(_0x16ad92[_0x220049(0x54e)]),_0xfd86d7=_0x219a9e-_0x59a68b;if(_0xfd86d7!==0x0)return _0xfd86d7;return _0x3d32b0[_0x220049(0x386)][_0x220049(0x53a)](_0x16ad92[_0x220049(0x386)],'th');}),_0x518abd=_0x2cdbd8[_0x55821b(0x6bd)],_0x40f3e4=Math[_0x55821b(0x481)](0x1,Math['floor'](_0x518abd*0.33));if(_0x40f3e4===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x56cc44=_0x2cdbd8[_0x55821b(0x4d6)](0x0,_0x40f3e4),_0x302033=_0x2cdbd8[_0x55821b(0x4d6)](-_0x40f3e4),_0x40db19=_0x56cc44['map'](_0x1b5d01=>_0x1b5d01[_0x55821b(0x386)]),_0x56a139=_0x302033[_0x55821b(0x4cd)](_0xe4d6b6=>_0xe4d6b6[_0x55821b(0x386)]);return _0xd35618['questions'][_0x55821b(0x35f)]((_0x592b16,_0x35ffda)=>{const _0x509d28=_0x55821b,_0x3ea2b7=_0x592b16[_0x509d28(0x4ce)]||_0x592b16['questionText'];let _0x410d37=0x0,_0x59242a=0x0,_0x1335fe=0x0;const _0x43c4f5=[],_0x4dddd4=[];_0x56cc44[_0x509d28(0x35f)](_0x4d786f=>{const _0x33474b=_0x509d28,_0x4dd763=_0x4d786f[_0x33474b(0x57c)][_0x4d786f[_0x33474b(0x57c)][_0x33474b(0x6bd)]-0x1],_0x3b6214=_0x4dd763[_0x33474b(0x564)][_0x33474b(0x691)](_0x579cd4=>_0x579cd4['originalQuestionText']===_0x3ea2b7);_0x43c4f5['push']({'name':_0x4d786f[_0x33474b(0x386)],'isCorrect':_0x3b6214?_0x3b6214['isCorrect']:![]}),_0x3b6214&&_0x3b6214[_0x33474b(0x268)]&&_0x59242a++;}),_0x302033[_0x509d28(0x35f)](_0x3293c5=>{const _0x23e496=_0x509d28,_0xd96b3e=_0x3293c5[_0x23e496(0x57c)][_0x3293c5[_0x23e496(0x57c)]['length']-0x1],_0x6e5d32=_0xd96b3e[_0x23e496(0x564)][_0x23e496(0x691)](_0x1bbe78=>_0x1bbe78[_0x23e496(0x60c)]===_0x3ea2b7);_0x4dddd4['push']({'name':_0x3293c5[_0x23e496(0x386)],'isCorrect':_0x6e5d32?_0x6e5d32['isCorrect']:![]}),_0x6e5d32&&_0x6e5d32[_0x23e496(0x268)]&&_0x1335fe++;}),_0xe4c47c['forEach'](_0x4aade1=>{const _0x204964=_0x509d28,_0x27c6d2=_0x4aade1['attempts'][_0x4aade1['attempts']['length']-0x1],_0x56539f=_0x27c6d2[_0x204964(0x564)][_0x204964(0x691)](_0x509393=>_0x509393[_0x204964(0x60c)]===_0x3ea2b7);_0x56539f&&_0x56539f[_0x204964(0x268)]&&_0x410d37++;});const _0x23a502=_0x518abd>0x0?_0x410d37/_0x518abd:0x0,_0xff027b=_0x40f3e4>0x0?_0x59242a/_0x40f3e4-_0x1335fe/_0x40f3e4:0x0;_0x24cd86[_0x35ffda]={'p':_0x23a502,'r':_0xff027b,'upperGroupResponders':_0x43c4f5,'lowerGroupResponders':_0x4dddd4};}),{'perQuestionStats':_0x24cd86,'overallGroups':{'upperGroupNames':_0x40db19,'lowerGroupNames':_0x56a139}};}function drag(_0x2d6eff){const _0x441af9=_0x101354;if(draggedSvgElement){_0x2d6eff['preventDefault']();const _0x1f8e74=draggedSvgElement[_0x441af9(0x530)],_0x2099b9=getPointerPosition(_0x1f8e74,_0x2d6eff),_0x5135ec=_0x1f8e74[_0x441af9(0x8ac)][_0x441af9(0x74e)];let _0x4e4602=_0x2099b9['x']-svgOffset['x'],_0x3f5b9e=_0x2099b9['y']-svgOffset['y'];const _0x22de79=draggedSvgElement[_0x441af9(0x5ea)]();_0x4e4602=Math['max'](_0x5135ec['x'],Math[_0x441af9(0x5ef)](_0x4e4602,_0x5135ec['x']+_0x5135ec[_0x441af9(0x1f6)]-_0x22de79[_0x441af9(0x1f6)])),_0x3f5b9e=Math[_0x441af9(0x481)](_0x5135ec['y'],Math[_0x441af9(0x5ef)](_0x3f5b9e,_0x5135ec['y']+_0x5135ec['height']-_0x22de79[_0x441af9(0x217)])),draggedSvgElement[_0x441af9(0x49b)](null,'x',_0x4e4602),draggedSvgElement[_0x441af9(0x49b)](null,'y',_0x3f5b9e);}}function endDrag(_0x144e83){draggedSvgElement=null;}function handleSvgEditClick(_0x3e0e98){const _0xe5256b=_0x101354;if(_0x3e0e98['target'][_0xe5256b(0x8f6)][_0xe5256b(0x190)](_0xe5256b(0x176))){const _0x21f00b=_0x3e0e98[_0xe5256b(0x1e5)]['dataset'][_0xe5256b(0x70a)],_0x11f0bd=_0x3e0e98['currentTarget'],_0x29a0c6=_0x11f0bd[_0xe5256b(0x399)]('#'+_0x21f00b);_0x29a0c6&&_0x29a0c6[_0xe5256b(0x773)](),_0x3e0e98[_0xe5256b(0x1e5)]['remove']();}}function handleEditQuestion(_0x12aab5){const _0x2ed51d=_0x101354,_0x43b3f4=_0x12aab5['currentTarget'],_0x3c5946=_0x43b3f4[_0x2ed51d(0x7ed)][_0x2ed51d(0x561)],_0x3b6d7e=currentQuizData[_0x2ed51d(0x371)][_0x3c5946],_0x4284a2=document[_0x2ed51d(0x187)](_0x2ed51d(0x5f5)+_0x3c5946),_0x4ce6b0=document[_0x2ed51d(0x187)](_0x2ed51d(0x3e1)+_0x3c5946),_0x302fd0=document[_0x2ed51d(0x187)](_0x2ed51d(0x810)+_0x3c5946);if(_0x43b3f4[_0x2ed51d(0x498)][_0x2ed51d(0x7f8)](_0x2ed51d(0x8d3))){_0x43b3f4[_0x2ed51d(0x498)]=_0x2ed51d(0x227),_0x43b3f4[_0x2ed51d(0x4c3)]=_0x2ed51d(0x3b9);if(_0x4284a2)_0x4284a2[_0x2ed51d(0x583)]=!![];if(_0x4ce6b0)_0x4ce6b0[_0x2ed51d(0x583)]=!![];if(_0x302fd0){const _0x2ab537=_0x302fd0[_0x2ed51d(0x399)](_0x2ed51d(0x3ac));if(_0x2ab537){const _0x9ce62a=_0x2ab537[_0x2ed51d(0x7eb)]('text');_0x9ce62a[_0x2ed51d(0x35f)]((_0x1ff7a1,_0x185c52)=>{const _0x24660a=_0x2ed51d,_0x4d1ad8=_0x24660a(0x731)+_0x3c5946+'-'+_0x185c52;_0x1ff7a1['id']=_0x4d1ad8,_0x1ff7a1[_0x24660a(0x8f6)][_0x24660a(0x43c)](_0x24660a(0x4ae)),_0x1ff7a1[_0x24660a(0x50b)][_0x24660a(0x295)]='move';const _0x5f38f3=document[_0x24660a(0x43e)]('http://www.w3.org/2000/svg',_0x24660a(0x430)),_0x5292a7=_0x1ff7a1[_0x24660a(0x5ea)]();_0x5f38f3[_0x24660a(0x34f)]('cx',String(_0x5292a7['x']+_0x5292a7[_0x24660a(0x1f6)]+0x5)),_0x5f38f3[_0x24660a(0x34f)]('cy',String(_0x5292a7['y']+_0x5292a7[_0x24660a(0x217)]/0x2-0x5)),_0x5f38f3[_0x24660a(0x34f)]('r','5'),_0x5f38f3[_0x24660a(0x34f)]('fill','red'),_0x5f38f3[_0x24660a(0x34f)](_0x24660a(0x6e5),'delete-svg-btn'),_0x5f38f3['dataset']['targetId']=_0x4d1ad8,_0x1ff7a1[_0x24660a(0x3f4)](_0x5f38f3);}),_0x2ab537[_0x2ed51d(0x57e)](_0x2ed51d(0x4d0),startDrag),_0x2ab537[_0x2ed51d(0x57e)](_0x2ed51d(0x902),drag),_0x2ab537[_0x2ed51d(0x57e)](_0x2ed51d(0x53f),endDrag),_0x2ab537[_0x2ed51d(0x57e)](_0x2ed51d(0x281),endDrag),_0x2ab537['addEventListener'](_0x2ed51d(0x357),startDrag,{'passive':![]}),_0x2ab537['addEventListener'](_0x2ed51d(0x642),drag,{'passive':![]}),_0x2ab537[_0x2ed51d(0x57e)]('touchend',endDrag),_0x2ab537[_0x2ed51d(0x57e)](_0x2ed51d(0x37a),endDrag),_0x2ab537[_0x2ed51d(0x57e)](_0x2ed51d(0x2a0),handleSvgEditClick);}}if(_0x4284a2)_0x4284a2['focus']();}else{_0x43b3f4['innerHTML']='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x43b3f4['title']=_0x2ed51d(0x542);if(_0x4284a2){_0x4284a2['contentEditable']=![];const _0x3e0352=_0x3b6d7e[_0x2ed51d(0x81e)]||currentQuizData[_0x2ed51d(0x2a5)];_0x3e0352===_0x2ed51d(0x61a)?_0x3b6d7e[_0x2ed51d(0x4ce)]=_0x4284a2[_0x2ed51d(0x68e)][_0x2ed51d(0x753)](_0x4284a2[_0x2ed51d(0x68e)]['indexOf']('.')+0x2)[_0x2ed51d(0x4b3)]():_0x3b6d7e['questionText']=_0x4284a2[_0x2ed51d(0x68e)][_0x2ed51d(0x753)](_0x4284a2['innerText'][_0x2ed51d(0x2cc)]('.')+0x2)[_0x2ed51d(0x4b3)]();}_0x4ce6b0&&(_0x4ce6b0[_0x2ed51d(0x583)]=![],_0x3b6d7e[_0x2ed51d(0x618)]=_0x4ce6b0['innerText']);if(_0x302fd0){const _0x473394=_0x302fd0[_0x2ed51d(0x399)]('svg');if(_0x473394){const _0x3e5a37=_0x473394[_0x2ed51d(0x4c6)](!![]);_0x3e5a37['querySelectorAll'](_0x2ed51d(0x79d))[_0x2ed51d(0x35f)](_0x77e10e=>_0x77e10e[_0x2ed51d(0x773)]()),_0x3e5a37[_0x2ed51d(0x7eb)]('.draggable-text')[_0x2ed51d(0x35f)](_0x82f4d=>{const _0x2cdb27=_0x2ed51d;_0x82f4d[_0x2cdb27(0x8f6)][_0x2cdb27(0x773)](_0x2cdb27(0x4ae)),_0x82f4d['style'][_0x2cdb27(0x295)]=_0x2cdb27(0x5d0),_0x82f4d[_0x2cdb27(0x578)]('id');}),_0x3b6d7e[_0x2ed51d(0x3cb)]=_0x3e5a37[_0x2ed51d(0x5f2)],_0x473394[_0x2ed51d(0x4ff)]('mousedown',startDrag),_0x473394['removeEventListener'](_0x2ed51d(0x902),drag),_0x473394[_0x2ed51d(0x4ff)](_0x2ed51d(0x53f),endDrag),_0x473394[_0x2ed51d(0x4ff)](_0x2ed51d(0x281),endDrag),_0x473394[_0x2ed51d(0x4ff)](_0x2ed51d(0x357),startDrag),_0x473394['removeEventListener'](_0x2ed51d(0x642),drag),_0x473394[_0x2ed51d(0x4ff)]('touchend',endDrag),_0x473394[_0x2ed51d(0x4ff)]('touchcancel',endDrag),_0x473394[_0x2ed51d(0x4ff)]('click',handleSvgEditClick),_0x473394['querySelectorAll'](_0x2ed51d(0x79d))[_0x2ed51d(0x35f)](_0x3e1fc6=>_0x3e1fc6[_0x2ed51d(0x773)]()),_0x473394[_0x2ed51d(0x7eb)](_0x2ed51d(0x643))[_0x2ed51d(0x35f)](_0x318119=>{const _0x439fa4=_0x2ed51d;_0x318119['classList'][_0x439fa4(0x773)](_0x439fa4(0x4ae)),_0x318119['style'][_0x439fa4(0x295)]=_0x439fa4(0x5d0);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x3b82ef){const _0x4028c0=_0x101354,_0x447ced=document[_0x4028c0(0x187)](_0x4028c0(0x385)),_0x25d9ae=document[_0x4028c0(0x187)]('quiz-editor-questions-container');_0x25d9ae[_0x4028c0(0x498)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x447ced[_0x4028c0(0x8f6)]['remove'](_0x4028c0(0x1f2));try{const _0x2429af=doc(db,_0x4028c0(0x565)+appId+_0x4028c0(0x60e),_0x3b82ef),_0x214c54=await getDoc(_0x2429af);if(!_0x214c54[_0x4028c0(0x5dd)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x3b82ef,..._0x214c54[_0x4028c0(0x471)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x575446){console[_0x4028c0(0x2eb)](_0x4028c0(0x687),_0x575446),showMessage(_0x4028c0(0x7da)),_0x447ced[_0x4028c0(0x8f6)][_0x4028c0(0x43c)]('hidden');}}function renderQuizEditor(_0x407323){const _0xfcc83f=_0x101354;document[_0xfcc83f(0x187)]('editor-quiz-topic')[_0xfcc83f(0x82c)]=_0x407323[_0xfcc83f(0x3ef)];const _0x20e7a2=document['getElementById'](_0xfcc83f(0x262));let _0x82748=_0x407323['questions'][_0xfcc83f(0x4cd)]((_0x7ff972,_0x27248a)=>{const _0x43ec74=_0xfcc83f;let _0x4f8657='';const _0x1a59ba=_0x7ff972[_0x43ec74(0x81e)]||_0x407323[_0x43ec74(0x2a5)];switch(_0x1a59ba){case'multiple_choice':const _0x31344c=(_0x7ff972[_0x43ec74(0x510)]||[])[_0x43ec74(0x4cd)]((_0x23cc05,_0x240735)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x27248a+'\x22\x20value=\x22'+_0x240735+'\x22\x20'+(_0x240735===_0x7ff972[_0x43ec74(0x1c0)]?_0x43ec74(0x743):'')+_0x43ec74(0x4b9)+_0x23cc05+_0x43ec74(0x8a5))[_0x43ec74(0x58e)]('');_0x4f8657=_0x43ec74(0x168)+_0x31344c+_0x43ec74(0x8ba);break;case _0x43ec74(0x8b7):_0x4f8657=_0x43ec74(0x42f)+(_0x7ff972[_0x43ec74(0x602)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x43ec74(0x2f7):_0x4f8657=_0x43ec74(0x819)+_0x27248a+_0x43ec74(0x6cb)+(_0x7ff972[_0x43ec74(0x25e)]===!![]?_0x43ec74(0x743):'')+_0x43ec74(0x758)+_0x27248a+_0x43ec74(0x27b)+(_0x7ff972[_0x43ec74(0x25e)]===![]?'checked':'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x43ec74(0x61a):_0x4f8657=_0x43ec74(0x2f4)+(_0x7ff972[_0x43ec74(0x3ab)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0x151dd0=_0x7ff972[_0x43ec74(0x2ea)]||_0x7ff972[_0x43ec74(0x4ce)]||'';return _0x43ec74(0x19e)+_0x27248a+_0x43ec74(0x8dc)+_0x1a59ba+_0x43ec74(0x29f)+(_0x27248a+0x1)+'\x20('+_0x1a59ba+_0x43ec74(0x825)+_0x151dd0+_0x43ec74(0x2a7)+_0x4f8657+'</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0xfcc83f(0x58e)]('');_0x20e7a2[_0xfcc83f(0x498)]=_0x82748;}async function handleSaveChanges(){const _0x504f91=_0x101354,_0x2cba2a=document[_0x504f91(0x187)]('save-quiz-edits-btn');_0x2cba2a[_0x504f91(0x8cc)]=!![],_0x2cba2a[_0x504f91(0x498)]=_0x504f91(0x74c);try{const _0x9af4a2=document['getElementById'](_0x504f91(0x3cd))['value'],_0x58f82b=document['querySelectorAll']('.question-editor-item');let _0x23486b=[];const _0x28101b=Array['from'](_0x58f82b)[_0x504f91(0x4cd)]((_0x360264,_0x560001)=>{const _0x41b883=_0x504f91,_0x2555fe=_0x360264[_0x41b883(0x7ed)][_0x41b883(0x72c)],_0x2ff22d=_0x360264[_0x41b883(0x399)]('textarea')[_0x41b883(0x82c)];let _0x20d97c={'questionType':_0x2555fe};const _0xa1e8f=currentEditingQuizData[_0x41b883(0x371)][_0x560001];switch(_0x2555fe){case'multiple_choice':_0x20d97c['questionText']=_0x2ff22d;const _0x4ab38e=_0x360264[_0x41b883(0x7eb)](_0x41b883(0x52e));_0x20d97c[_0x41b883(0x510)]=Array[_0x41b883(0x83a)](_0x4ab38e)[_0x41b883(0x4cd)](_0x491bc4=>_0x491bc4[_0x41b883(0x82c)]);const _0x16f845=_0x360264['querySelector']('input[type=\x22radio\x22]:checked');_0x20d97c[_0x41b883(0x1c0)]=_0x16f845?parseInt(_0x16f845['value']):0x0;break;case _0x41b883(0x8b7):_0x20d97c['questionText']=_0x2ff22d,_0x20d97c[_0x41b883(0x602)]=_0x360264[_0x41b883(0x399)](_0x41b883(0x437))[_0x41b883(0x82c)];break;case _0x41b883(0x2f7):_0x20d97c['questionText']=_0x2ff22d;const _0x49a8f8=_0x360264['querySelector'](_0x41b883(0x61c));_0x20d97c[_0x41b883(0x25e)]=_0x49a8f8?_0x49a8f8['value']===_0x41b883(0x596):!![];break;case _0x41b883(0x61a):_0x20d97c[_0x41b883(0x4ce)]=_0x2ff22d;const _0x45d0a6=_0x360264[_0x41b883(0x399)](_0x41b883(0x632));_0x20d97c['correctResponse']=_0x45d0a6?_0x45d0a6[_0x41b883(0x82c)]:'',_0x23486b[_0x41b883(0x36f)](_0x20d97c[_0x41b883(0x3ab)]);break;default:_0x20d97c['questionText']=_0x2ff22d;break;}return{..._0xa1e8f,..._0x20d97c};});_0x23486b[_0x504f91(0x6bd)]>0x0&&_0x28101b[_0x504f91(0x35f)](_0x6554f6=>{const _0x13b8b0=_0x504f91;_0x6554f6[_0x13b8b0(0x81e)]===_0x13b8b0(0x61a)&&(_0x6554f6[_0x13b8b0(0x156)]=_0x23486b);});const _0xd592cd=currentEditingQuizData['id'],_0x3271f6=doc(db,_0x504f91(0x565)+appId+_0x504f91(0x60e),_0xd592cd);await updateDoc(_0x3271f6,{'topic':_0x9af4a2,'questions':_0x28101b}),document[_0x504f91(0x187)]('quiz-editor-modal')[_0x504f91(0x8f6)][_0x504f91(0x43c)](_0x504f91(0x1f2)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0xd592cd));}catch(_0xc14793){console[_0x504f91(0x2eb)]('Error\x20saving\x20quiz\x20edits:',_0xc14793),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x2cba2a[_0x504f91(0x8cc)]=![],_0x2cba2a[_0x504f91(0x498)]=_0x504f91(0x322);}}async function initiateReGradeProcess(_0x11956a){const _0x54d4a9=_0x101354;showMessage(_0x54d4a9(0x8dd));try{const _0x3960d2=doc(db,_0x54d4a9(0x565)+appId+_0x54d4a9(0x60e),_0x11956a),_0x2453be=await getDoc(_0x3960d2);if(!_0x2453be[_0x54d4a9(0x5dd)]())throw new Error(_0x54d4a9(0x162));const _0x5778ba={'id':_0x11956a,..._0x2453be[_0x54d4a9(0x471)]()},_0x1e6ab5=collection(db,_0x54d4a9(0x565)+appId+_0x54d4a9(0x60e),_0x11956a,_0x54d4a9(0x397)),_0x442110=await getDocs(_0x1e6ab5);if(_0x442110[_0x54d4a9(0x62d)]){showMessage(_0x54d4a9(0x901));return;}const _0x9a2dd1=_0x442110['docs']['map'](_0x49c238=>reGradeSingleSubmission(_0x49c238,_0x5778ba));await Promise[_0x54d4a9(0x70b)](_0x9a2dd1);if(_0x5778ba[_0x54d4a9(0x65c)]){const _0x447d7f=doc(db,_0x54d4a9(0x565)+appId+_0x54d4a9(0x494),_0x5778ba[_0x54d4a9(0x65c)]),_0x1f91ef=await getDoc(_0x447d7f);if(_0x1f91ef[_0x54d4a9(0x5dd)]()&&_0x1f91ef['data']()[_0x54d4a9(0x624)]){const _0x267573=_0x1f91ef[_0x54d4a9(0x471)]()['students'][_0x54d4a9(0x4cd)](_0x1d6db0=>updateStudentProfile(_0x5778ba['projectId'],_0x1d6db0));await Promise['all'](_0x267573);}}showMessage(_0x54d4a9(0x5e7)+_0x442110[_0x54d4a9(0x695)]+_0x54d4a9(0x85e));}catch(_0x1c22f0){console[_0x54d4a9(0x2eb)]('Re-grade\x20process\x20failed:',_0x1c22f0),showMessage(_0x54d4a9(0x1cd)+_0x1c22f0[_0x54d4a9(0x8b1)]);}}async function reGradeSingleSubmission(_0x24d98a,_0x7737ce){const _0x2703fd=_0x101354,_0x385fe1=_0x24d98a[_0x2703fd(0x471)](),_0x4b3462=_0x385fe1[_0x2703fd(0x386)],_0x3e3c6c=_0x385fe1[_0x2703fd(0x57c)]||[],_0x131e71=[];for(const _0x40cfaa of _0x3e3c6c){let _0x3942bd=0x0,_0x590be3=[],_0x14b131=0x0;const _0x4613df=[];for(const _0x544b9b of _0x40cfaa[_0x2703fd(0x564)]){let _0xde673;_0x544b9b[_0x2703fd(0x6f7)]&&(_0xde673=_0x7737ce['questions'][_0x2703fd(0x691)](_0x35732b=>_0x35732b['id']===_0x544b9b['questionId']));!_0xde673&&_0x544b9b[_0x2703fd(0x60c)]&&(_0xde673=_0x7737ce[_0x2703fd(0x371)][_0x2703fd(0x691)](_0x579b26=>(_0x579b26['stem']||_0x579b26[_0x2703fd(0x2ea)])===_0x544b9b[_0x2703fd(0x60c)]));let _0x71b78=![];if(_0xde673){const _0x2b5392=_0xde673[_0x2703fd(0x81e)]||_0x7737ce[_0x2703fd(0x2a5)];switch(_0x2b5392){case _0x2703fd(0x89a):if(_0xde673[_0x2703fd(0x510)]&&_0xde673['correctAnswerIndex']<_0xde673['options'][_0x2703fd(0x6bd)]){const _0x576a3a=_0xde673[_0x2703fd(0x510)][_0xde673[_0x2703fd(0x1c0)]];_0x71b78=_0x544b9b['answerText']===_0x576a3a;}break;case _0x2703fd(0x2f7):const _0x4d7f82=_0x544b9b['answer']===!![]||_0x544b9b['answer']===_0x2703fd(0x596);_0x71b78=_0x4d7f82===_0xde673[_0x2703fd(0x25e)];break;case _0x2703fd(0x61a):_0x71b78=_0x544b9b[_0x2703fd(0x4e9)]===_0xde673[_0x2703fd(0x3ab)];break;case _0x2703fd(0x8b7):_0x71b78=await gradeShortAnswer(_0x544b9b[_0x2703fd(0x4e9)],_0xde673);break;default:_0x71b78=_0x544b9b[_0x2703fd(0x268)];break;}}if(_0x71b78){_0x3942bd++,_0x14b131++;if(_0x14b131===0x3)_0x590be3[_0x2703fd(0x36f)](BADGES[_0x2703fd(0x3f2)]['id']);}else _0x14b131=0x0;_0x4613df[_0x2703fd(0x36f)]({..._0x544b9b,'isCorrect':_0x71b78});}let _0x374d10=_0x3942bd*0xa;_0x3942bd===_0x7737ce[_0x2703fd(0x371)]['length']&&(_0x374d10+=0x32,_0x590be3['push'](BADGES[_0x2703fd(0x7a4)]['id'])),_0x131e71[_0x2703fd(0x36f)]({..._0x40cfaa,'score':_0x3942bd,'points':_0x374d10,'badges':Array[_0x2703fd(0x83a)](new Set(_0x590be3)),'answers':_0x4613df});}const _0x356114=_0x131e71[_0x2703fd(0x6bd)]>0x0?_0x131e71[0x0][_0x2703fd(0x5c0)]:0x0,_0x2107e7=Math[_0x2703fd(0x481)](..._0x131e71[_0x2703fd(0x4cd)](_0x3f97f9=>_0x3f97f9[_0x2703fd(0x5c0)])),_0x5bcbce=_0x131e71[_0x2703fd(0x6bd)]>0x0?_0x131e71[_0x131e71[_0x2703fd(0x6bd)]-0x1][_0x2703fd(0x5c0)]:0x0,_0x3c9259=_0x131e71[_0x2703fd(0x6bd)]>0x0?_0x131e71[_0x131e71['length']-0x1][_0x2703fd(0x74b)]:0x0,_0x71562d=doc(db,_0x2703fd(0x565)+appId+_0x2703fd(0x71b)+_0x7737ce['id']+'/submissions',_0x4b3462);await updateDoc(_0x71562d,{'attempts':_0x131e71,'firstScore':_0x356114,'bestScore':_0x2107e7,'latestScore':_0x5bcbce,'points':_0x3c9259});}function cleanupQuizOptions(_0x2c639c){const _0x535949=_0x101354,_0x2ebc74=(_0x44b082,_0x530af2)=>_0x530af2===0x0?_0x44b082:_0x2ebc74(_0x530af2,_0x44b082%_0x530af2),_0xceb2ce=_0x52ad19=>{const _0x427d62=_0x40e1;if(typeof _0x52ad19!=='string')return null;_0x52ad19=_0x52ad19[_0x427d62(0x4b3)]();const _0x571e8d=_0x52ad19['split'](/[ /]/)[_0x427d62(0x604)](_0x1fa1dc=>_0x1fa1dc!=='');if(_0x571e8d[_0x427d62(0x6bd)]===0x3)return parseInt(_0x571e8d[0x0])+parseInt(_0x571e8d[0x1])/parseInt(_0x571e8d[0x2]);else{if(_0x571e8d[_0x427d62(0x6bd)]===0x2)return parseInt(_0x571e8d[0x0])/parseInt(_0x571e8d[0x1]);else{if(_0x571e8d[_0x427d62(0x6bd)]===0x1&&!isNaN(_0x571e8d[0x0]))return parseFloat(_0x571e8d[0x0]);}}return null;},_0x40e582=_0x4d1309=>{if(typeof _0x4d1309!=='string')return _0x4d1309;const _0x18bd65=_0x4d1309['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x18bd65){const _0x2ebca0=parseInt(_0x18bd65[0x1]);let _0x113cd4=parseInt(_0x18bd65[0x2]),_0xbfbab2=parseInt(_0x18bd65[0x3]);const _0x594355=_0x2ebc74(_0x113cd4,_0xbfbab2);_0x113cd4/=_0x594355,_0xbfbab2/=_0x594355;if(_0xbfbab2===0x1)return(_0x2ebca0+_0x113cd4)['toString']();return _0x2ebca0+'\x20'+_0x113cd4+'/'+_0xbfbab2;}return _0x4d1309;};return _0x2c639c&&_0x2c639c[_0x535949(0x371)]&&_0x2c639c[_0x535949(0x371)][_0x535949(0x35f)](_0x658c12=>{const _0x580399=_0x535949;if(_0x658c12[_0x580399(0x81e)]==='multiple_choice'&&_0x658c12[_0x580399(0x510)]){const _0x20d166=new Map(),_0x43abfd=_0x658c12['options'][_0x658c12[_0x580399(0x1c0)]];_0x658c12[_0x580399(0x510)][_0x580399(0x35f)](_0x214bf0=>{const _0x55e917=_0x580399,_0x4f6c98=_0x40e582(_0x214bf0),_0x34f0dd=_0xceb2ce(_0x4f6c98);_0x34f0dd!==null&&!_0x20d166[_0x55e917(0x914)](_0x34f0dd)&&_0x20d166[_0x55e917(0x38e)](_0x34f0dd,_0x4f6c98);}),_0x658c12['options']=Array['from'](_0x20d166[_0x580399(0x804)]());const _0x203fda=_0x658c12[_0x580399(0x510)][_0x580399(0x5ab)](_0x1f1363=>_0x1f1363===_0x40e582(_0x43abfd));_0x658c12[_0x580399(0x1c0)]=_0x203fda!==-0x1?_0x203fda:0x0;}}),_0x2c639c;}async function saveQuiz(){const _0x4524c3=_0x101354;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x4524c3(0x6e7));return;}const _0xf55bce=document['getElementById'](_0x4524c3(0x823));_0xf55bce[_0x4524c3(0x8cc)]=!![],_0xf55bce[_0x4524c3(0x498)]=_0x4524c3(0x74c);const _0x3ef80f=document[_0x4524c3(0x187)](_0x4524c3(0x873))[_0x4524c3(0x743)];let _0x52120f=document[_0x4524c3(0x187)](_0x4524c3(0x194))[_0x4524c3(0x68e)][_0x4524c3(0x4b3)]();_0x3ef80f&&!_0x52120f[_0x4524c3(0x4f4)](_0x4524c3(0x8b0))&&(_0x52120f=_0x4524c3(0x91c)+_0x52120f);try{const _0x469c98={'resultsDisplay':document[_0x4524c3(0x187)]('results-display-select')[_0x4524c3(0x82c)],'shuffle':document[_0x4524c3(0x187)](_0x4524c3(0x480))['value'],'timerMode':document[_0x4524c3(0x187)]('timer-mode-select')[_0x4524c3(0x82c)],'timerDuration':parseInt(document[_0x4524c3(0x187)](_0x4524c3(0x345))['value'])||0xa,'passingScore':parseInt(document[_0x4524c3(0x187)](_0x4524c3(0x5ae))[_0x4524c3(0x82c)])||0x0,'isAdaptive':document[_0x4524c3(0x187)](_0x4524c3(0x3db))[_0x4524c3(0x743)],'loopUntilPass':document['getElementById'](_0x4524c3(0x71d))['checked']},_0x34ec00=(currentQuizData[_0x4524c3(0x371)]||[])['map']((_0x19dafe,_0x510dc5)=>{const _0x1e5c27=_0x4524c3,_0x2b5ae5=document[_0x1e5c27(0x187)](_0x1e5c27(0x435))[_0x1e5c27(0x82c)],_0x1125ed={'id':'q_'+Date['now']()+'_'+_0x510dc5,'questionText':_0x19dafe['questionText']||'','explanation':_0x19dafe[_0x1e5c27(0x618)]||_0x1e5c27(0x7ba),'questionType':_0x19dafe[_0x1e5c27(0x81e)]||_0x2b5ae5,'imageCode':_0x19dafe['imageCode']||null};return(_0x1125ed[_0x1e5c27(0x81e)]===_0x1e5c27(0x89a)||_0x1125ed[_0x1e5c27(0x81e)]===_0x1e5c27(0x4e2)||_0x1125ed['questionType']==='mixed'&&_0x19dafe[_0x1e5c27(0x510)])&&(_0x1125ed[_0x1e5c27(0x510)]=_0x19dafe[_0x1e5c27(0x510)]||[],_0x1125ed[_0x1e5c27(0x1c0)]=_0x19dafe[_0x1e5c27(0x1c0)]!==undefined?_0x19dafe[_0x1e5c27(0x1c0)]:0x0),(_0x1125ed[_0x1e5c27(0x81e)]===_0x1e5c27(0x8b7)||_0x1125ed[_0x1e5c27(0x81e)]===_0x1e5c27(0x709)||_0x1125ed['questionType']==='mixed'&&_0x19dafe[_0x1e5c27(0x602)])&&(_0x1125ed[_0x1e5c27(0x602)]=_0x19dafe[_0x1e5c27(0x602)]||''),_0x1125ed[_0x1e5c27(0x81e)]===_0x1e5c27(0x2f7)&&(_0x1125ed[_0x1e5c27(0x25e)]=_0x19dafe[_0x1e5c27(0x25e)]===!![]),_0x1125ed[_0x1e5c27(0x81e)]===_0x1e5c27(0x61a)&&(_0x1125ed[_0x1e5c27(0x4ce)]=_0x19dafe[_0x1e5c27(0x4ce)]||'',_0x1125ed[_0x1e5c27(0x3ab)]=_0x19dafe[_0x1e5c27(0x3ab)]||'',_0x1125ed['allResponses']=_0x19dafe[_0x1e5c27(0x156)]||[]),_0x1125ed;}),_0x4d3391={'topic':_0x52120f,'quizType':currentQuizData[_0x4524c3(0x2a5)]||_0x4524c3(0x89a),'questions':_0x34ec00,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x469c98,'quizMode':_0x3ef80f?_0x4524c3(0x3f5):_0x4524c3(0x5d9),'pairedQuizId':null,'lessonPlan':null};let _0x42acca;while(!![]){_0x42acca=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x4524c3(0x547)]();const _0x27fb2a=await getDoc(doc(db,_0x4524c3(0x565)+appId+'/public/data/quizzes',_0x42acca));if(!_0x27fb2a['exists']())break;}await setDoc(doc(db,_0x4524c3(0x565)+appId+_0x4524c3(0x60e),_0x42acca),_0x4d3391),currentQuizData[_0x4524c3(0x56f)]=_0x469c98,currentQuizData['id']=_0x42acca;const _0x27e062=document[_0x4524c3(0x187)](_0x4524c3(0x757));_0x27e062[_0x4524c3(0x498)]=_0x4524c3(0x5d1)+_0x42acca+_0x4524c3(0x294),document['getElementById']('copy-quiz-id-btn')[_0x4524c3(0x57e)](_0x4524c3(0x2a0),()=>copyTextToClipboard(_0x42acca,_0x4524c3(0x60b))),document[_0x4524c3(0x187)]('start-live-race-generated-btn')[_0x4524c3(0x57e)]('click',()=>handleStartLiveRace(_0x42acca)),document['getElementById'](_0x4524c3(0x26a))[_0x4524c3(0x57e)](_0x4524c3(0x2a0),()=>startPresentation(currentQuizData)),document[_0x4524c3(0x187)]('admin-try-quiz-btn')[_0x4524c3(0x57e)](_0x4524c3(0x2a0),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x2ded4e){console['error'](_0x4524c3(0x861),_0x2ded4e),showMessage(_0x4524c3(0x87c)),_0xf55bce[_0x4524c3(0x8cc)]=![],_0xf55bce[_0x4524c3(0x498)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x4feb3b=_0x101354,_0x46eeff=document[_0x4feb3b(0x187)](_0x4feb3b(0x6f6)),_0x2c6d9f=document[_0x4feb3b(0x187)](_0x4feb3b(0x4bb)),_0x44db49=_0x46eeff['querySelector']('h3'),_0x88edd2=document['getElementById'](_0x4feb3b(0x365));_0x44db49[_0x4feb3b(0x8fd)]=_0x4feb3b(0x2e3),_0x88edd2[_0x4feb3b(0x8fd)]=_0x4feb3b(0x6bc);allProjects[_0x4feb3b(0x6bd)]===0x0?(_0x2c6d9f['innerHTML']='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x88edd2[_0x4feb3b(0x8cc)]=!![]):(_0x2c6d9f[_0x4feb3b(0x498)]=allProjects[_0x4feb3b(0x4cd)](_0x59bb55=>'<option\x20value=\x22'+_0x59bb55['id']+'\x22>'+_0x59bb55['projectName']+'</option>')[_0x4feb3b(0x58e)](''),_0x88edd2[_0x4feb3b(0x8cc)]=![]);_0x46eeff[_0x4feb3b(0x8f6)]['remove']('hidden');const _0x1d96b8=()=>{const _0x519808=_0x4feb3b,_0x12723a=_0x2c6d9f[_0x519808(0x82c)];_0x12723a?(currentProjectId=_0x12723a,_0x46eeff[_0x519808(0x8f6)][_0x519808(0x43c)]('hidden'),saveQuiz(),_0x44db49[_0x519808(0x8fd)]=_0x519808(0x2c3),_0x88edd2[_0x519808(0x8fd)]=_0x519808(0x31c),_0x88edd2[_0x519808(0x4ff)](_0x519808(0x2a0),_0x1d96b8),_0x88edd2[_0x519808(0x57e)]('click',confirmMoveQuiz)):showMessage(_0x519808(0x222));};_0x88edd2['removeEventListener'](_0x4feb3b(0x2a0),confirmMoveQuiz),_0x88edd2[_0x4feb3b(0x57e)](_0x4feb3b(0x2a0),_0x1d96b8);}function copyTextToClipboard(_0x5cd199,_0x15ee52){const _0x2c7aa8=_0x101354,_0x48a28c=document[_0x2c7aa8(0x3a0)](_0x2c7aa8(0x49e));_0x48a28c[_0x2c7aa8(0x82c)]=_0x5cd199,_0x48a28c[_0x2c7aa8(0x50b)][_0x2c7aa8(0x587)]='fixed',_0x48a28c[_0x2c7aa8(0x50b)][_0x2c7aa8(0x451)]='0',document[_0x2c7aa8(0x5e5)]['appendChild'](_0x48a28c),_0x48a28c[_0x2c7aa8(0x3fc)](),_0x48a28c['select']();try{const _0x32da3d=document['execCommand'](_0x2c7aa8(0x528));showMessage(_0x32da3d?_0x15ee52:_0x2c7aa8(0x2d7));}catch(_0x177862){showMessage(_0x2c7aa8(0x2d7)),console[_0x2c7aa8(0x2eb)](_0x2c7aa8(0x1fd),_0x177862);}document[_0x2c7aa8(0x5e5)][_0x2c7aa8(0x353)](_0x48a28c);}function listenForProjectQuizzes(_0x3de476){const _0x2a3d19=_0x101354,_0x5d64aa=collection(db,'artifacts/'+appId+_0x2a3d19(0x60e)),_0x49ed27=query(_0x5d64aa,where(_0x2a3d19(0x65c),'==',_0x3de476));unsubscribeQuizzesListener=onSnapshot(_0x49ed27,async _0x530b32=>{const _0x1f585f=_0x2a3d19;allQuizzes=_0x530b32['docs'][_0x1f585f(0x4cd)](_0x94bbee=>({'id':_0x94bbee['id'],..._0x94bbee[_0x1f585f(0x471)]()})),renderQuizzes();},_0x3907c3=>{const _0xe2554b=_0x2a3d19;console[_0xe2554b(0x2eb)](_0xe2554b(0x4a5),_0x3907c3),document['getElementById'](_0xe2554b(0x6f0))[_0xe2554b(0x498)]=_0xe2554b(0x38f);});}async function renderQuizzes(){const _0x4636b6=_0x101354,_0x6b9553=document[_0x4636b6(0x187)]('project-quizzes-list'),_0x94ff48=document['getElementById'](_0x4636b6(0x171))[_0x4636b6(0x82c)][_0x4636b6(0x802)]();let _0x458f0a;currentProjectId===_0x4636b6(0x576)?_0x458f0a=starredQuizzes:_0x458f0a=allQuizzes;let _0x14461b=_0x458f0a['filter'](_0x44f680=>_0x44f680[_0x4636b6(0x3ef)]['toLowerCase']()[_0x4636b6(0x7f8)](_0x94ff48));_0x14461b['sort']((_0x341aef,_0x52f083)=>new Date(_0x52f083[_0x4636b6(0x68b)])-new Date(_0x341aef[_0x4636b6(0x68b)]));if(_0x14461b[_0x4636b6(0x6bd)]===0x0){_0x6b9553[_0x4636b6(0x498)]=_0x4636b6(0x8d1);return;}const _0x3d3468={},_0x4b3b2d=_0x14461b[_0x4636b6(0x4cd)](async _0xd31133=>{const _0x140a1d=_0x4636b6,_0x14bf76=collection(db,_0x140a1d(0x565)+appId+'/public/data/quizzes/'+_0xd31133['id']+_0x140a1d(0x8e0)),_0x20d7ed=await getDocs(_0x14bf76);_0x3d3468[_0xd31133['id']]=_0x20d7ed[_0x140a1d(0x695)];});await Promise[_0x4636b6(0x70b)](_0x4b3b2d);let _0x335652='';_0x14461b[_0x4636b6(0x35f)](_0x2c9f63=>{const _0x9e20ed=_0x4636b6,_0x6b6b85=_0x3d3468[_0x2c9f63['id']]||0x0,_0x1b1f6b=_0x2c9f63['status']||'active',_0x321c50=_0x2c9f63[_0x9e20ed(0x56f)]?.[_0x9e20ed(0x5c2)]||_0x9e20ed(0x3aa);let _0x3223fb='',_0x30c13d='';const _0x3deed6=new Date();let _0x4420aa=_0x1b1f6b;if(_0x1b1f6b===_0x9e20ed(0x39e)){const _0x4b1757=_0x2c9f63[_0x9e20ed(0x423)]?new Date(_0x2c9f63[_0x9e20ed(0x423)]):null,_0x54d88e=_0x2c9f63[_0x9e20ed(0x427)]?new Date(_0x2c9f63[_0x9e20ed(0x427)]):null;if(_0x54d88e&&_0x3deed6>_0x54d88e)_0x4420aa=_0x9e20ed(0x1ec);else _0x4b1757&&_0x3deed6<_0x4b1757?_0x4420aa='scheduled_pending':_0x4420aa=_0x9e20ed(0x4dc);}switch(_0x4420aa){case _0x9e20ed(0x1ec):_0x3223fb=_0x9e20ed(0x634),_0x30c13d=_0x9e20ed(0x8df);break;case _0x9e20ed(0x515):_0x3223fb=_0x9e20ed(0x508),_0x30c13d=_0x9e20ed(0x651);break;case'active':_0x3223fb=_0x321c50!=='none'?_0x9e20ed(0x87b):_0x9e20ed(0x871),_0x30c13d='text-green-700\x20bg-green-100';break;default:_0x3223fb=_0x9e20ed(0x37b),_0x30c13d='text-green-700\x20bg-green-100';break;}let _0x530d86='';const _0x42662a={'day':'2-digit','month':_0x9e20ed(0x46c),'year':_0x9e20ed(0x51b),'hour':'2-digit','minute':_0x9e20ed(0x46c),'hour12':![]};if(_0x1b1f6b===_0x9e20ed(0x39e)){if(_0x2c9f63[_0x9e20ed(0x423)])_0x530d86+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x2c9f63[_0x9e20ed(0x423)])[_0x9e20ed(0x593)](_0x9e20ed(0x6af),_0x42662a)+_0x9e20ed(0x787);if(_0x2c9f63[_0x9e20ed(0x427)])_0x530d86+=_0x9e20ed(0x6fd)+new Date(_0x2c9f63[_0x9e20ed(0x427)])[_0x9e20ed(0x593)](_0x9e20ed(0x6af),_0x42662a)+_0x9e20ed(0x787);}let _0x500259='';if(_0x2c9f63[_0x9e20ed(0x1fa)]){const _0x4d732a=allQuizzes[_0x9e20ed(0x691)](_0x35952d=>_0x35952d['id']===_0x2c9f63[_0x9e20ed(0x1fa)]);if(_0x4d732a){let _0x4ff886,_0x3b1ab6;new Date(_0x2c9f63[_0x9e20ed(0x68b)])<new Date(_0x4d732a[_0x9e20ed(0x68b)])?(_0x4ff886=_0x2c9f63['id'],_0x3b1ab6=_0x4d732a['id']):(_0x4ff886=_0x4d732a['id'],_0x3b1ab6=_0x2c9f63['id']),_0x500259+=_0x9e20ed(0x84e)+_0x3b1ab6+_0x9e20ed(0x503)+_0x4ff886+_0x9e20ed(0x527);}}else _0x2c9f63['quizMode']===_0x9e20ed(0x3f5)&&(_0x500259+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2c9f63['id']+_0x9e20ed(0x242));if(_0x2c9f63[_0x9e20ed(0x218)]===_0x9e20ed(0x3f5)&&_0x6b6b85>0x0)_0x500259+=_0x9e20ed(0x342)+_0x2c9f63['id']+_0x9e20ed(0x2ff);else!_0x2c9f63[_0x9e20ed(0x1fa)]&&_0x2c9f63[_0x9e20ed(0x218)]!=='pre-test'&&_0x6b6b85>0x0&&(_0x500259+=_0x9e20ed(0x342)+_0x2c9f63['id']+_0x9e20ed(0x245));let _0x34e20e='';_0x2c9f63[_0x9e20ed(0x1fa)]?_0x34e20e='<button\x20data-quiz-id=\x22'+_0x2c9f63['id']+_0x9e20ed(0x163):_0x34e20e='<button\x20data-quiz-id=\x22'+_0x2c9f63['id']+_0x9e20ed(0x229),_0x335652+=_0x9e20ed(0x8fb)+_0x2c9f63['id']+_0x9e20ed(0x586)+_0x2c9f63['topic']+_0x9e20ed(0x1c4)+_0x2c9f63[_0x9e20ed(0x371)][_0x9e20ed(0x6bd)]+_0x9e20ed(0x7b4)+new Date(_0x2c9f63[_0x9e20ed(0x68b)])[_0x9e20ed(0x593)](_0x9e20ed(0x6af))+_0x9e20ed(0x279)+_0x6b6b85+_0x9e20ed(0x67a)+_0x530d86+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x30c13d+'\x22>'+_0x3223fb+_0x9e20ed(0x320)+_0x2c9f63['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2c9f63['id']+_0x9e20ed(0x224)+(_0x2c9f63[_0x9e20ed(0x21f)]?_0x9e20ed(0x196):_0x9e20ed(0x243))+_0x9e20ed(0x3c8)+_0x500259+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2c9f63['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x2c9f63['id']+_0x9e20ed(0x6ad)+_0x2c9f63['id']+_0x9e20ed(0x852)+_0x2c9f63['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2c9f63['id']+_0x9e20ed(0x3f8)+_0x2c9f63['id']+_0x9e20ed(0x1a7)+_0x2c9f63['id']+_0x9e20ed(0x570)+_0x2c9f63['topic']+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2c9f63['id']+_0x9e20ed(0x1d0)+_0x2c9f63['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x34e20e+_0x9e20ed(0x659)+_0x2c9f63['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2c9f63['id']+_0x9e20ed(0x3c6)+_0x2c9f63['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2c9f63['id']+_0x9e20ed(0x23f)+_0x2c9f63['id']+'\x22\x20data-topic=\x22'+_0x2c9f63[_0x9e20ed(0x3ef)]+_0x9e20ed(0x728);}),_0x6b9553[_0x4636b6(0x498)]=_0x335652,document[_0x4636b6(0x7eb)](_0x4636b6(0x63c))[_0x4636b6(0x35f)](_0x2c4efc=>{const _0x58910b=_0x4636b6;_0x2c4efc[_0x58910b(0x57e)](_0x58910b(0x2a0),()=>{const _0x534876=_0x58910b,_0x5b0670=_0x2c4efc[_0x534876(0x7ed)][_0x534876(0x250)];showQuizDetailView(_0x5b0670);});});}async function handleUnpairQuiz(_0x5371d2){const _0x5cdf98=_0x101354,_0x20171c=allQuizzes[_0x5cdf98(0x691)](_0x4e60e1=>_0x4e60e1['id']===_0x5371d2);if(!_0x20171c||!_0x20171c[_0x5cdf98(0x1fa)]){showMessage(_0x5cdf98(0x2a2));return;}showConfirmation(_0x5cdf98(0x552),async()=>{const _0x4b4379=_0x5cdf98;try{const _0x2dfe57=doc(db,_0x4b4379(0x565)+appId+_0x4b4379(0x60e),_0x5371d2),_0x203dc5=doc(db,'artifacts/'+appId+_0x4b4379(0x60e),_0x20171c['pairedQuizId']),_0x208524=writeBatch(db);_0x208524['update'](_0x2dfe57,{'pairedQuizId':null}),_0x208524['update'](_0x203dc5,{'pairedQuizId':null}),await _0x208524[_0x4b4379(0x72f)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x2254ce){console['error'](_0x4b4379(0x23e),_0x2254ce),showMessage(_0x4b4379(0x550));}});}function formatAndPrintLessonPlan(_0x176761,_0x32049e){const _0x547d10=_0x101354,_0x41b1c2=window[_0x547d10(0x2e7)]('',_0x547d10(0x537)),_0x7a9fa5=_0x547d10(0x87f)+_0x32049e[_0x547d10(0x3ef)]+_0x547d10(0x2ec)+_0x32049e[_0x547d10(0x3ef)]+_0x547d10(0x5a3)+_0x176761[_0x547d10(0x2af)][_0x547d10(0x4cd)](_0x2e553a=>'<li>'+_0x2e553a+_0x547d10(0x3af))[_0x547d10(0x58e)]('')+_0x547d10(0x32c)+_0x176761['teachingContent']+_0x547d10(0x438)+_0x176761[_0x547d10(0x845)][_0x547d10(0x4cd)](_0x34f1c0=>_0x547d10(0x3e2)+_0x34f1c0['question']+_0x547d10(0x747)+_0x34f1c0[_0x547d10(0x264)]+_0x547d10(0x7c8))[_0x547d10(0x58e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x41b1c2[_0x547d10(0x53d)]['write'](_0x7a9fa5),_0x41b1c2[_0x547d10(0x53d)]['close'](),_0x41b1c2[_0x547d10(0x55e)]=function(){setTimeout(()=>{const _0x20d7fb=_0x40e1;_0x41b1c2[_0x20d7fb(0x27e)]();},0x3e8);};}async function handleGenerateLessonPlan(_0x35ac8e){const _0x59cc1b=_0x101354;showMessage(_0x59cc1b(0x815));try{const _0x1ac663=doc(db,'artifacts/'+appId+_0x59cc1b(0x60e),_0x35ac8e),_0x5e9059=await getDoc(_0x1ac663);if(!_0x5e9059[_0x59cc1b(0x5dd)]())throw new Error(_0x59cc1b(0x162));const _0x3dc6f0={'id':_0x35ac8e,..._0x5e9059[_0x59cc1b(0x471)]()},_0x3387fb=collection(db,_0x59cc1b(0x565)+appId+'/public/data/quizzes',_0x35ac8e,_0x59cc1b(0x397)),_0x1ca27e=await getDocs(_0x3387fb),_0x1c751f=_0x1ca27e[_0x59cc1b(0x8a1)][_0x59cc1b(0x4cd)](_0x2edf49=>_0x2edf49[_0x59cc1b(0x471)]());if(_0x1c751f[_0x59cc1b(0x6bd)]===0x0)throw new Error(_0x59cc1b(0x3b3));const _0xa0ab1b=calculateItemAnalysis(_0x3dc6f0,_0x1c751f)[_0x59cc1b(0x8c7)],_0x409833=calculateDistractorAnalysis(_0x3dc6f0,_0x1c751f),_0x278e5c=_0x89068c=>{const _0x5547b7=_0x59cc1b;if(!_0x89068c)return'';return _0x89068c[_0x5547b7(0x83e)](/\\/g,'\x5c\x5c')[_0x5547b7(0x83e)](/"/g,'\x5c\x22')[_0x5547b7(0x83e)](/\n/g,'\x5cn');};let _0x3ac0fb=_0x59cc1b(0x70e);_0x3dc6f0[_0x59cc1b(0x371)][_0x59cc1b(0x35f)]((_0x404f89,_0x328d8a)=>{const _0x1dc401=_0x59cc1b,_0x3cca62=_0xa0ab1b[_0x328d8a]?.['p']['toFixed'](0x2)||'N/A',_0x57301f=_0xa0ab1b[_0x328d8a]?.['r'][_0x1dc401(0x383)](0x2)||_0x1dc401(0x714),_0x319ee4=_0x278e5c(_0x404f89[_0x1dc401(0x2ea)]||_0x404f89[_0x1dc401(0x4ce)]);_0x3ac0fb+=_0x1dc401(0x526)+(_0x328d8a+0x1)+_0x1dc401(0x892)+_0x3cca62+_0x1dc401(0x6e0)+_0x57301f+_0x1dc401(0x2df)+_0x319ee4+'\x5cn';if(_0x404f89[_0x1dc401(0x81e)]===_0x1dc401(0x89a)&&_0x409833[_0x328d8a]){const _0x1e06bc=_0x409833[_0x328d8a],_0x94a641=Object['keys'](_0x1e06bc)[_0x1dc401(0x604)](_0x4cb436=>parseInt(_0x4cb436)!==_0x404f89['correctAnswerIndex'])['sort']((_0x48ff41,_0x412a62)=>_0x1e06bc[_0x412a62][_0x1dc401(0x4a0)]-_0x1e06bc[_0x48ff41][_0x1dc401(0x4a0)])[0x0];if(_0x94a641&&_0x1e06bc[_0x94a641][_0x1dc401(0x4a0)]>0x0){const _0x132b46=_0x278e5c(_0x1e06bc[_0x94a641]['text']);_0x3ac0fb+=_0x1dc401(0x5df)+_0x132b46+_0x1dc401(0x88f);}}});const _0x3d2657=_0x59cc1b(0x56c)+_0x3dc6f0[_0x59cc1b(0x3ef)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3ac0fb+_0x59cc1b(0x23c),_0x278497={'type':_0x59cc1b(0x1bc),'properties':{'learningGaps':{'type':_0x59cc1b(0x61f),'items':{'type':_0x59cc1b(0x4ea)}},'teachingContent':{'type':_0x59cc1b(0x4ea)},'practiceProblems':{'type':_0x59cc1b(0x61f),'items':{'type':_0x59cc1b(0x1bc),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x59cc1b(0x4ea)}}}}},'required':[_0x59cc1b(0x2af),'teachingContent',_0x59cc1b(0x845)]},_0x49fee2=await callAnalysisApi(_0x3d2657,_0x278497);await updateDoc(_0x1ac663,{'lessonPlan':_0x49fee2});const _0x1fd3b3=_0x59cc1b(0x912)+_0x3dc6f0[_0x59cc1b(0x3ef)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x49fee2[_0x59cc1b(0x2af)][_0x59cc1b(0x4cd)](_0x2ff70f=>_0x59cc1b(0x1ad)+_0x2ff70f+_0x59cc1b(0x3af))[_0x59cc1b(0x58e)]('')+_0x59cc1b(0x549)+_0x49fee2['teachingContent']+_0x59cc1b(0x820)+_0x49fee2[_0x59cc1b(0x845)][_0x59cc1b(0x4cd)](_0x3f0b57=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x3f0b57[_0x59cc1b(0x193)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x3f0b57[_0x59cc1b(0x264)]+_0x59cc1b(0x1b5))['join']('')+_0x59cc1b(0x22e);document[_0x59cc1b(0x187)](_0x59cc1b(0x1eb))[_0x59cc1b(0x8fd)]='แผนการสอน:\x20'+_0x3dc6f0['topic'],document[_0x59cc1b(0x187)](_0x59cc1b(0x467))['innerHTML']=_0x1fd3b3,document[_0x59cc1b(0x187)]('lesson-plan-modal')['classList'][_0x59cc1b(0x773)](_0x59cc1b(0x1f2));if(window[_0x59cc1b(0x6c0)])MathJax[_0x59cc1b(0x16a)]();messageModal[_0x59cc1b(0x8f6)][_0x59cc1b(0x43c)]('hidden');}catch(_0x1863e1){console[_0x59cc1b(0x2eb)](_0x59cc1b(0x3df),_0x1863e1),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1863e1[_0x59cc1b(0x8b1)]);}}async function handleDuplicateQuiz(_0x8652be){const _0x28e3f6=_0x101354;try{const _0x57c294=doc(db,_0x28e3f6(0x565)+appId+_0x28e3f6(0x60e),_0x8652be),_0x407e68=await getDoc(_0x57c294);if(_0x407e68[_0x28e3f6(0x5dd)]()){const _0x194830=_0x407e68[_0x28e3f6(0x471)]();let _0xafa230='',_0x23c026=_0x28e3f6(0x5d9),_0x31a11c=null;if(_0x194830[_0x28e3f6(0x218)]===_0x28e3f6(0x3f5)){let _0x593381=_0x194830[_0x28e3f6(0x3ef)]['replace'](_0x28e3f6(0x8b0),'')['trim']();_0xafa230='(หลังเรียน)\x20'+_0x593381,_0x23c026=_0x28e3f6(0x31e),_0x31a11c=_0x8652be;}else _0xafa230='(คัดลอก)\x20'+_0x194830[_0x28e3f6(0x3ef)];const _0x594373={..._0x194830,'topic':_0xafa230,'createdAt':new Date()[_0x28e3f6(0x414)](),'quizMode':_0x23c026,'pairedQuizId':_0x31a11c};let _0x2df0ee;while(!![]){_0x2df0ee=Math[_0x28e3f6(0x390)](0x3e8+Math[_0x28e3f6(0x327)]()*0x2328)[_0x28e3f6(0x547)]();const _0x3edca3=await getDoc(doc(db,'artifacts/'+appId+_0x28e3f6(0x60e),_0x2df0ee));if(!_0x3edca3['exists']())break;}const _0x2e2733=doc(db,_0x28e3f6(0x565)+appId+_0x28e3f6(0x60e),_0x2df0ee);await setDoc(_0x2e2733,_0x594373),_0x594373[_0x28e3f6(0x218)]===_0x28e3f6(0x31e)&&await updateDoc(_0x57c294,{'pairedQuizId':_0x2df0ee}),showMessage(_0x28e3f6(0x72b));}else throw new Error(_0x28e3f6(0x54a));}catch(_0x34b10c){console[_0x28e3f6(0x2eb)](_0x28e3f6(0x4b2),_0x34b10c),showMessage(_0x28e3f6(0x3be));}}async function handleDeleteQuiz(_0x4f5674,_0x405e0f=!![]){const _0x2b98f2=_0x101354;try{const _0x13bfef=writeBatch(db),_0xd87b94=collection(db,_0x2b98f2(0x565)+appId+_0x2b98f2(0x71b)+_0x4f5674+_0x2b98f2(0x8e0)),_0xf36d86=await getDocs(_0xd87b94);_0xf36d86[_0x2b98f2(0x35f)](_0x350b8a=>{_0x13bfef['delete'](doc(_0xd87b94,_0x350b8a['id']));});const _0x1ec007=doc(db,'artifacts/'+appId+_0x2b98f2(0x60e),_0x4f5674);_0x13bfef[_0x2b98f2(0x47a)](_0x1ec007),await _0x13bfef[_0x2b98f2(0x72f)](),_0x405e0f&&showMessage(_0x2b98f2(0x3fd));}catch(_0x33f555){console[_0x2b98f2(0x2eb)](_0x2b98f2(0x8d5),_0x33f555),_0x405e0f&&showMessage(_0x2b98f2(0x456));}}async function showQuizDetailView(_0x3c0d11){const _0x2745c6=_0x101354;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x2745c6(0x594));try{const _0x1bfd43=doc(db,_0x2745c6(0x565)+appId+'/public/data/quizzes',_0x3c0d11),_0x31f14f=await getDoc(_0x1bfd43);if(!_0x31f14f[_0x2745c6(0x5dd)]()){showMessage(_0x2745c6(0x162));return;}const _0xf9b2db={'id':_0x31f14f['id'],..._0x31f14f[_0x2745c6(0x471)]()};currentQuizData=_0xf9b2db;const _0x472616=doc(db,_0x2745c6(0x565)+appId+'/public/data/projects',_0xf9b2db[_0x2745c6(0x65c)]),_0x57fe3b=await getDoc(_0x472616);_0x57fe3b[_0x2745c6(0x5dd)]()?(currentProjectData=_0x57fe3b[_0x2745c6(0x471)](),currentProjectId=_0xf9b2db[_0x2745c6(0x65c)]):(currentProjectData={'students':[]},currentProjectId=_0xf9b2db[_0x2745c6(0x65c)]);document[_0x2745c6(0x187)](_0x2745c6(0x860))[_0x2745c6(0x8fd)]=_0xf9b2db[_0x2745c6(0x3ef)],document[_0x2745c6(0x187)]('results-quiz-id-display')[_0x2745c6(0x8fd)]=_0x3c0d11;const _0x318779=collection(db,_0x2745c6(0x565)+appId+_0x2745c6(0x60e),_0x3c0d11,_0x2745c6(0x397));unsubscribeSubmissionsListener=onSnapshot(_0x318779,_0x11ff12=>{const _0x2fc445=_0x2745c6,_0x4615c4=_0x11ff12[_0x2fc445(0x8a1)]['map'](_0x5adfc7=>({'id':_0x5adfc7['id'],..._0x5adfc7[_0x2fc445(0x471)]()}));currentSubmissions=_0x4615c4,renderBehaviorLog(_0x4615c4),renderAnswerGrid(currentProjectData[_0x2fc445(0x624)],_0x4615c4,_0xf9b2db),renderAnalytics(_0xf9b2db,_0x4615c4),renderQuizResultsTable(currentProjectData[_0x2fc445(0x624)],_0x4615c4,_0xf9b2db),renderQuizLeaderboard(_0x4615c4,_0xf9b2db,'quiz-leaderboard-table-body');}),showView('quiz-results');}catch(_0x4e123b){console['error'](_0x2745c6(0x8fc),_0x4e123b),showMessage(_0x2745c6(0x75a));}}function renderAnswerGrid(_0x8690d0,_0xb0cc5e,_0x4a690a){const _0x43accb=_0x101354,_0x1da660=document[_0x43accb(0x187)](_0x43accb(0x1d8));if(!_0x1da660)return;if(!_0x8690d0||_0x8690d0[_0x43accb(0x6bd)]===0x0){_0x1da660[_0x43accb(0x498)]=_0x43accb(0x8fa);return;}const _0x1679cd=_0x4a690a[_0x43accb(0x371)],_0x38b38d=_0xb0cc5e[_0x43accb(0x5fa)]((_0x31c629,_0x360e68)=>{const _0x2fdacd=_0x43accb;return _0x31c629[_0x360e68[_0x2fdacd(0x386)]]=_0x360e68,_0x31c629;},{}),_0x1127af=_0x3b93c9=>String[_0x43accb(0x3d0)](0x41+_0x3b93c9),_0xe9fbc8=_0xdda0cc=>{const _0x2b4203=_0x43accb,_0x145890=_0xdda0cc[_0x2b4203(0x81e)]||_0x4a690a[_0x2b4203(0x2a5)];switch(_0x145890){case'multiple_choice':return _0xdda0cc['options']&&_0xdda0cc[_0x2b4203(0x510)][_0x2b4203(0x6bd)]>_0xdda0cc[_0x2b4203(0x1c0)]?_0x1127af(_0xdda0cc[_0x2b4203(0x1c0)]):'-';case _0x2b4203(0x2f7):return _0xdda0cc['correctAnswer']?'ใช่':_0x2b4203(0x708);case _0x2b4203(0x61a):return _0xdda0cc[_0x2b4203(0x3ab)]||'-';case'short_answer':return _0x2b4203(0x288);default:return'-';}},_0x2ccab4=(_0x3c40aa,_0x113dc9)=>{const _0x36e80f=_0x43accb;if(_0x113dc9[_0x36e80f(0x4e9)]===null||_0x113dc9[_0x36e80f(0x4e9)]===undefined)return'-';const _0x5da703=_0x3c40aa['questionType']||_0x4a690a[_0x36e80f(0x2a5)];switch(_0x5da703){case _0x36e80f(0x89a):const _0x393d8d=_0x3c40aa[_0x36e80f(0x510)][_0x36e80f(0x5ab)](_0x4acf7a=>_0x4acf7a===_0x113dc9['answerText']);return _0x393d8d!==-0x1?_0x1127af(_0x393d8d):_0x113dc9[_0x36e80f(0x159)]||'-';case _0x36e80f(0x2f7):return _0x113dc9[_0x36e80f(0x4e9)]===_0x36e80f(0x596)||_0x113dc9['answer']===!![]?_0x36e80f(0x700):_0x36e80f(0x708);default:return _0x113dc9[_0x36e80f(0x4e9)];}};let _0xc26682=_0x43accb(0x313)+_0x1679cd[_0x43accb(0x4cd)]((_0x406f17,_0x287b36)=>_0x43accb(0x6ea)+(_0x287b36+0x1)+_0x43accb(0x7ac))[_0x43accb(0x58e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1679cd[_0x43accb(0x4cd)](_0x51fd92=>_0x43accb(0x395)+_0xe9fbc8(_0x51fd92)+_0x43accb(0x55b))[_0x43accb(0x58e)]('')+_0x43accb(0x69c);_0x8690d0[_0x43accb(0x35f)](_0x217680=>{const _0xee8079=_0x43accb;_0xc26682+='<tr>',_0xc26682+=_0xee8079(0x511)+_0x217680+_0xee8079(0x55b);const _0x1a3b34=_0x38b38d[_0x217680];if(_0x1a3b34){const _0x191553=_0x1a3b34[_0xee8079(0x57c)][_0x1a3b34[_0xee8079(0x57c)]['length']-0x1];_0x1679cd[_0xee8079(0x35f)]((_0x57c178,_0x111e5a)=>{const _0xfe0a24=_0xee8079,_0x80d4a7=_0x191553[_0xfe0a24(0x564)]['find'](_0x4534d1=>_0x4534d1['originalQuestionText']===(_0x57c178[_0xfe0a24(0x4ce)]||_0x57c178[_0xfe0a24(0x2ea)]));if(_0x80d4a7){let _0x4e624c=![];const _0x9d2427=_0x57c178[_0xfe0a24(0x81e)]||_0x4a690a[_0xfe0a24(0x2a5)];if(_0x80d4a7['answer']!==null&&_0x80d4a7[_0xfe0a24(0x4e9)]!==undefined)switch(_0x9d2427){case _0xfe0a24(0x89a):const _0x10ef63=_0x57c178['options'][_0x57c178[_0xfe0a24(0x1c0)]];_0x4e624c=_0x80d4a7['answerText']===_0x10ef63;break;case _0xfe0a24(0x2f7):const _0x32a225=_0x80d4a7[_0xfe0a24(0x4e9)]===!![]||_0x80d4a7[_0xfe0a24(0x4e9)]===_0xfe0a24(0x596);_0x4e624c=_0x32a225===_0x57c178[_0xfe0a24(0x25e)];break;case _0xfe0a24(0x61a):_0x4e624c=_0x80d4a7[_0xfe0a24(0x4e9)]===_0x57c178['correctResponse'];break;default:_0x4e624c=_0x80d4a7[_0xfe0a24(0x268)];break;}const _0x3e2edf=_0x4e624c?_0xfe0a24(0x401):_0xfe0a24(0x6b5);_0xc26682+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x3e2edf+'\x22>'+_0x2ccab4(_0x57c178,_0x80d4a7)+_0xfe0a24(0x55b);}else _0xc26682+=_0xfe0a24(0x897);});}else _0xc26682+=_0x1679cd[_0xee8079(0x4cd)](()=>_0xee8079(0x5da))[_0xee8079(0x58e)]('');_0xc26682+='</tr>';}),_0xc26682+=_0x43accb(0x7ae),_0x1da660['innerHTML']=_0xc26682;}function renderQuizResultsTable(_0x5a4d0f,_0x1a6bcf,_0x24245f){const _0x5de1a9=_0x101354,_0x2f2175=_0x1a6bcf['reduce']((_0x4de9b0,_0x3e205f)=>{const _0x3d44bf=_0x40e1;return _0x4de9b0[_0x3e205f[_0x3d44bf(0x386)]]=_0x3e205f,_0x4de9b0;},{}),_0x567b12=document[_0x5de1a9(0x399)](_0x5de1a9(0x573));_0x567b12&&!_0x567b12[_0x5de1a9(0x498)][_0x5de1a9(0x7f8)](_0x5de1a9(0x182))&&(_0x567b12[_0x5de1a9(0x498)]+=_0x5de1a9(0x240));const _0x24bc32=document['getElementById'](_0x5de1a9(0x5d3));if(!_0x5a4d0f||_0x5a4d0f['length']===0x0){_0x24bc32[_0x5de1a9(0x498)]=_0x5de1a9(0x61b);return;}const _0x33d3a0=_0x24245f[_0x5de1a9(0x91b)]===!![],_0xbe182=_0x24245f[_0x5de1a9(0x56f)]?.[_0x5de1a9(0x277)]??-0x1;let _0x32f5f9='';_0x5a4d0f[_0x5de1a9(0x35f)](_0x85bcf1=>{const _0x36dfce=_0x5de1a9,_0x48301a=_0x2f2175[_0x85bcf1];let _0x116182=_0x36dfce(0x478),_0x300bae=_0x36dfce(0x293)+(_0x33d3a0?_0x36dfce(0x8b5):_0x36dfce(0x36b))+'\x22>'+(_0x33d3a0?_0x36dfce(0x898):_0x36dfce(0x3f1))+_0x36dfce(0x90e);if(_0x48301a){let _0x570c96=_0x33d3a0?_0x48301a['bestScore']===_0x48301a[_0x36dfce(0x918)]:_0xbe182!==-0x1&&_0x48301a['bestScore']>=_0xbe182;if(_0x33d3a0||_0xbe182!==-0x1){const _0x5efa74=_0x570c96?_0x36dfce(0x44d):_0x36dfce(0x80c),_0x1d7e4a=_0x570c96?_0x36dfce(0x5e8):_0x36dfce(0x514);_0x116182=_0x36dfce(0x6d4)+_0x5efa74+'\x22>'+_0x1d7e4a+_0x36dfce(0x90e);}const _0x1f7408=_0x36dfce(0x436)+(_0x48301a[_0x36dfce(0x57c)]?.[_0x36dfce(0x6bd)]||0x1)+_0x36dfce(0x64c);_0x32f5f9+=_0x36dfce(0x47f)+_0x85bcf1+_0x36dfce(0x90c)+_0x48301a[_0x36dfce(0x2e9)]+'\x20/\x20'+_0x48301a['totalQuestions']+_0x36dfce(0x351)+_0x116182+_0x36dfce(0x52b)+_0x300bae+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x48301a[_0x36dfce(0x40f)]+'\x20/\x20'+_0x48301a['totalQuestions']+_0x36dfce(0x622)+_0x48301a[_0x36dfce(0x1e4)]+_0x36dfce(0x910)+_0x48301a['totalQuestions']+_0x36dfce(0x875)+(_0x48301a[_0x36dfce(0x74b)]||0x0)+_0x36dfce(0x351)+_0x1f7408+_0x36dfce(0x380)+new Date(_0x48301a[_0x36dfce(0x54e)])[_0x36dfce(0x593)](_0x36dfce(0x6af))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x85bcf1+_0x36dfce(0x2f1);}else{const _0x446a30=_0x36dfce(0x595);_0x32f5f9+=_0x36dfce(0x47f)+_0x85bcf1+_0x36dfce(0x724)+_0x300bae+_0x36dfce(0x4a6)+_0x446a30+_0x36dfce(0x7f3);}}),_0x24bc32['innerHTML']=_0x32f5f9;}async function confirmRenameQuiz(){const _0x21f7e2=_0x101354,_0x64d222=document[_0x21f7e2(0x187)](_0x21f7e2(0x84a))['value'][_0x21f7e2(0x4b3)]();if(!_0x64d222){showMessage(_0x21f7e2(0x52a));return;}if(!actionTargetId)return;const _0x3b9a72=doc(db,_0x21f7e2(0x565)+appId+_0x21f7e2(0x60e),actionTargetId);try{await updateDoc(_0x3b9a72,{'topic':_0x64d222}),showMessage(_0x21f7e2(0x495)),renameQuizModal[_0x21f7e2(0x8f6)][_0x21f7e2(0x43c)](_0x21f7e2(0x1f2)),actionTargetId=null;}catch(_0x50339c){console[_0x21f7e2(0x2eb)]('Error\x20renaming\x20quiz:',_0x50339c),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x5271b8){const _0xe060d5=_0x101354;actionTargetId=_0x5271b8;const _0x2ddac5=document[_0xe060d5(0x187)](_0xe060d5(0x4bb));_0x2ddac5[_0xe060d5(0x498)]=_0xe060d5(0x7b1),moveQuizModal['classList'][_0xe060d5(0x773)]('hidden');try{const _0x171e76=collection(db,_0xe060d5(0x565)+appId+_0xe060d5(0x494)),_0x2a84d6=await getDocs(_0x171e76),_0xcb4d05=_0x2a84d6[_0xe060d5(0x8a1)][_0xe060d5(0x4cd)](_0x40d517=>({'id':_0x40d517['id'],..._0x40d517[_0xe060d5(0x471)]()})),_0x2937f2=_0xcb4d05[_0xe060d5(0x604)](_0x23d84d=>_0x23d84d['id']!==currentProjectId);if(_0x2937f2[_0xe060d5(0x6bd)]===0x0){_0x2ddac5['innerHTML']=_0xe060d5(0x831),document[_0xe060d5(0x187)](_0xe060d5(0x365))[_0xe060d5(0x8cc)]=!![];return;}_0x2ddac5[_0xe060d5(0x498)]=_0x2937f2[_0xe060d5(0x4cd)](_0x4c11f2=>_0xe060d5(0x20b)+_0x4c11f2['id']+'\x22>'+_0x4c11f2['projectName']+_0xe060d5(0x1e9))[_0xe060d5(0x58e)](''),document['getElementById'](_0xe060d5(0x365))[_0xe060d5(0x8cc)]=![];}catch(_0x36775e){console[_0xe060d5(0x2eb)]('Error\x20fetching\x20projects\x20for\x20move:',_0x36775e),showMessage(_0xe060d5(0x2be)),moveQuizModal[_0xe060d5(0x8f6)][_0xe060d5(0x43c)](_0xe060d5(0x1f2));}}async function confirmMoveQuiz(){const _0x3e9a7a=_0x101354,_0x302dd5=document[_0x3e9a7a(0x187)](_0x3e9a7a(0x4bb))[_0x3e9a7a(0x82c)];if(!_0x302dd5){showMessage(_0x3e9a7a(0x6a0));return;}if(!actionTargetId)return;const _0x3c62c2=doc(db,_0x3e9a7a(0x565)+appId+_0x3e9a7a(0x60e),actionTargetId);try{await updateDoc(_0x3c62c2,{'projectId':_0x302dd5}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal[_0x3e9a7a(0x8f6)][_0x3e9a7a(0x43c)]('hidden'),actionTargetId=null;}catch(_0x24d52b){console['error'](_0x3e9a7a(0x610),_0x24d52b),showMessage(_0x3e9a7a(0x45c));}}async function handleQuizSettings(_0x18dfbc){const _0x26daea=_0x101354;actionTargetId=_0x18dfbc;const _0x3b7e7d=doc(db,_0x26daea(0x565)+appId+_0x26daea(0x60e),_0x18dfbc);try{const _0x4355d8=await getDoc(_0x3b7e7d);if(_0x4355d8['exists']()){const _0x3c4264=_0x4355d8[_0x26daea(0x471)](),_0x5cc04f=_0x3c4264[_0x26daea(0x56f)]||{},_0x38a72c=_0x3c4264[_0x26daea(0x371)][_0x26daea(0x6bd)];document[_0x26daea(0x187)](_0x26daea(0x2b1))[_0x26daea(0x82c)]=_0x5cc04f[_0x26daea(0x6dc)]||_0x26daea(0x3aa),document[_0x26daea(0x187)](_0x26daea(0x883))[_0x26daea(0x82c)]=_0x5cc04f[_0x26daea(0x740)]||_0x26daea(0x532),document[_0x26daea(0x187)](_0x26daea(0x524))[_0x26daea(0x82c)]=_0x5cc04f['timerMode']||_0x26daea(0x3aa),document[_0x26daea(0x187)]('modal-timer-duration-input')[_0x26daea(0x82c)]=_0x5cc04f['timerDuration']||0xa,document[_0x26daea(0x187)](_0x26daea(0x30b))[_0x26daea(0x82c)]=_0x5cc04f['passingScore']||Math[_0x26daea(0x390)](_0x38a72c/0x2),document[_0x26daea(0x187)]('modal-passing-score-input')[_0x26daea(0x481)]=_0x38a72c,document['getElementById'](_0x26daea(0x41b))[_0x26daea(0x743)]=_0x5cc04f[_0x26daea(0x603)]||![],document[_0x26daea(0x187)](_0x26daea(0x7ad))[_0x26daea(0x743)]=_0x5cc04f[_0x26daea(0x658)]||![],document[_0x26daea(0x187)](_0x26daea(0x524))[_0x26daea(0x4ec)](new Event('change')),quizSettingsModal[_0x26daea(0x8f6)][_0x26daea(0x773)](_0x26daea(0x1f2));}else showMessage(_0x26daea(0x162));}catch(_0x157337){console['error'](_0x26daea(0x6a8),_0x157337),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x49a84=_0x101354;if(!actionTargetId)return;const _0x2d011b=doc(db,_0x49a84(0x565)+appId+_0x49a84(0x60e),actionTargetId),_0xf7695a={'shuffle':document[_0x49a84(0x187)](_0x49a84(0x2b1))['value'],'resultsDisplay':document[_0x49a84(0x187)](_0x49a84(0x883))[_0x49a84(0x82c)],'timerMode':document['getElementById']('modal-timer-mode-select')[_0x49a84(0x82c)],'timerDuration':parseInt(document['getElementById'](_0x49a84(0x6d6))[_0x49a84(0x82c)])||0xa,'passingScore':parseInt(document[_0x49a84(0x187)](_0x49a84(0x30b))[_0x49a84(0x82c)])||0x0,'passingScore':parseInt(document[_0x49a84(0x187)](_0x49a84(0x30b))[_0x49a84(0x82c)])||0x0,'isAdaptive':document[_0x49a84(0x187)](_0x49a84(0x41b))[_0x49a84(0x743)],'loopUntilPass':document['getElementById']('modal-loop-until-pass-checkbox')[_0x49a84(0x743)]};try{await updateDoc(_0x2d011b,{'settings':_0xf7695a}),showMessage(_0x49a84(0x863)),quizSettingsModal[_0x49a84(0x8f6)][_0x49a84(0x43c)]('hidden'),actionTargetId=null;}catch(_0x3c4827){console[_0x49a84(0x2eb)](_0x49a84(0x566),_0x3c4827),showMessage(_0x49a84(0x627));}}async function handleQuizStatus(_0x3f46fe){const _0xad3d86=_0x101354;actionTargetId=_0x3f46fe;const _0x2019a3=doc(db,_0xad3d86(0x565)+appId+_0xad3d86(0x60e),_0x3f46fe);try{const _0x44148d=await getDoc(_0x2019a3);if(_0x44148d[_0xad3d86(0x5dd)]()){const _0x43f256=_0x44148d[_0xad3d86(0x471)](),_0x502ac4=_0x43f256[_0xad3d86(0x200)]||_0xad3d86(0x4dc),_0x442637=document[_0xad3d86(0x187)](_0xad3d86(0x18d)),_0x1f1662=document[_0xad3d86(0x187)](_0xad3d86(0x5c8)),_0x33c685=document[_0xad3d86(0x187)](_0xad3d86(0x849));let _0x1037c1=_0xad3d86(0x1b3)+(_0x502ac4===_0xad3d86(0x4dc)?_0xad3d86(0x743):'')+_0xad3d86(0x6a4)+(_0x502ac4==='inactive'?_0xad3d86(0x743):'')+'>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20'+(_0x502ac4===_0xad3d86(0x39e)?_0xad3d86(0x743):'')+'>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x442637[_0xad3d86(0x498)]=_0x1037c1;const _0x5dad71=_0x502ac4===_0xad3d86(0x39e);_0x1f1662['classList'][_0xad3d86(0x496)](_0xad3d86(0x1f2),!_0x5dad71),_0x33c685[_0xad3d86(0x8f6)][_0xad3d86(0x496)]('hidden',!_0x5dad71),document[_0xad3d86(0x187)]('quiz-start-time')[_0xad3d86(0x82c)]=_0x43f256['startTime']?_0x43f256[_0xad3d86(0x423)]['substring'](0x0,0x10):'',document[_0xad3d86(0x187)](_0xad3d86(0x2e8))['value']=_0x43f256[_0xad3d86(0x427)]?_0x43f256[_0xad3d86(0x427)][_0xad3d86(0x753)](0x0,0x10):'',_0x442637['querySelectorAll']('input[name=\x22status-option\x22]')[_0xad3d86(0x35f)](_0x3578f4=>{const _0x57419b=_0xad3d86;_0x3578f4['addEventListener'](_0x57419b(0x491),_0x2170ce=>{const _0x360d49=_0x57419b,_0xf3ed4e=_0x2170ce['target'][_0x360d49(0x82c)]===_0x360d49(0x45e);_0x1f1662[_0x360d49(0x8f6)][_0x360d49(0x496)](_0x360d49(0x1f2),!_0xf3ed4e),_0x33c685[_0x360d49(0x8f6)][_0x360d49(0x496)]('hidden',!_0xf3ed4e);});}),quizStatusModal[_0xad3d86(0x8f6)]['remove'](_0xad3d86(0x1f2));}}catch(_0x1026c1){console[_0xad3d86(0x2eb)](_0xad3d86(0x703),_0x1026c1),showMessage(_0xad3d86(0x7d9));}}async function confirmQuizStatus(){const _0x564072=_0x101354;if(!actionTargetId)return;const _0x3f4b9c=doc(db,_0x564072(0x565)+appId+_0x564072(0x60e),actionTargetId),_0x25792d=document[_0x564072(0x399)](_0x564072(0x2d1));if(!_0x25792d){showMessage(_0x564072(0x389));return;}const _0x5b1eb7=_0x25792d['value'];let _0x39788f={};if(_0x5b1eb7===_0x564072(0x4dc)||_0x5b1eb7===_0x564072(0x1ec))_0x39788f={'status':_0x5b1eb7,'startTime':null,'endTime':null};else{if(_0x5b1eb7===_0x564072(0x45e)){const _0xb58771=document[_0x564072(0x187)](_0x564072(0x3f0))[_0x564072(0x82c)],_0x13b0b5=document[_0x564072(0x187)](_0x564072(0x2e8))[_0x564072(0x82c)];if(!_0xb58771&&!_0x13b0b5){showMessage(_0x564072(0x834));return;}_0x39788f={'status':_0x564072(0x39e),'startTime':_0xb58771?new Date(_0xb58771)['toISOString']():null,'endTime':_0x13b0b5?new Date(_0x13b0b5)['toISOString']():null};}}try{await updateDoc(_0x3f4b9c,_0x39788f),showMessage(_0x564072(0x2f6)),quizStatusModal[_0x564072(0x8f6)]['add']('hidden'),actionTargetId=null;}catch(_0x3be2fc){console['error'](_0x564072(0x91d),_0x3be2fc),showMessage(_0x564072(0x4c9));}}function listenForStudentProfiles(_0x1ac378){const _0x3ed461=_0x101354,_0xdb8292=collection(db,_0x3ed461(0x565)+appId+'/public/data/projects/'+_0x1ac378+_0x3ed461(0x850));unsubscribeStudentProfilesListener=onSnapshot(_0xdb8292,_0x3e2f35=>{const _0x254b8e=_0x3ed461,_0x1595a2=_0x3e2f35[_0x254b8e(0x8a1)][_0x254b8e(0x4cd)](_0x902572=>_0x902572[_0x254b8e(0x471)]());renderLeaderboard(_0x1595a2,_0x254b8e(0x778));},_0x2b7ad2=>{const _0x22b77a=_0x3ed461;console[_0x22b77a(0x2eb)](_0x22b77a(0x917),_0x2b7ad2),document[_0x22b77a(0x187)](_0x22b77a(0x778))[_0x22b77a(0x498)]=_0x22b77a(0x393);});}function renderLeaderboard(_0x2fb28a,_0x21d4ac){const _0x2c17d9=_0x101354,_0x51b996=document[_0x2c17d9(0x187)](_0x21d4ac);if(!_0x2fb28a||_0x2fb28a['length']===0x0){_0x51b996['innerHTML']=_0x2c17d9(0x167);return;}_0x2fb28a['sort']((_0x199cbb,_0x5eac42)=>{const _0x570ef1=_0x2c17d9,_0x326756=(_0x5eac42['totalPoints']||0x0)-(_0x199cbb[_0x570ef1(0x8e4)]||0x0);if(_0x326756!==0x0)return _0x326756;const _0x3b65ae=(_0x5eac42[_0x570ef1(0x261)]?.[_0x570ef1(0x2c9)]||0x0)-(_0x199cbb[_0x570ef1(0x261)]?.[_0x570ef1(0x2c9)]||0x0);if(_0x3b65ae!==0x0)return _0x3b65ae;const _0x1794ff=(_0x5eac42[_0x570ef1(0x261)]?.[_0x570ef1(0x90f)]||0x0)-(_0x199cbb[_0x570ef1(0x261)]?.[_0x570ef1(0x90f)]||0x0);if(_0x1794ff!==0x0)return _0x1794ff;const _0x459e79=(_0x5eac42[_0x570ef1(0x261)]?.[_0x570ef1(0x656)]||0x0)-(_0x199cbb[_0x570ef1(0x261)]?.[_0x570ef1(0x656)]||0x0);if(_0x459e79!==0x0)return _0x459e79;const _0x265465=(_0x5eac42[_0x570ef1(0x261)]?.[_0x570ef1(0x5d5)]||0x0)-(_0x199cbb[_0x570ef1(0x261)]?.['quick_thinker']||0x0);if(_0x265465!==0x0)return _0x265465;return _0x199cbb[_0x570ef1(0x386)][_0x570ef1(0x53a)](_0x5eac42[_0x570ef1(0x386)],'th');});let _0xa519d5='';_0x2fb28a[_0x2c17d9(0x35f)]((_0x515bae,_0x20c7e7)=>{const _0x48f9bf=_0x2c17d9,_0x2b68da=_0x20c7e7+0x1,_0x430f80=_0x515bae[_0x48f9bf(0x261)]||{};let _0x5c0e92='';const _0x68f1b1=[_0x48f9bf(0x2c9),_0x48f9bf(0x656),_0x48f9bf(0x90f),_0x48f9bf(0x5d5)];_0x68f1b1['forEach'](_0x2abc94=>{const _0x496281=_0x48f9bf;if(_0x430f80[_0x2abc94]>0x0){const _0x324181=Object[_0x496281(0x804)](BADGES)['find'](_0x9429fd=>_0x9429fd['id']===_0x2abc94);_0x324181&&(_0x2abc94===_0x496281(0x2c9)?_0x5c0e92+=_0x496281(0x812)+_0x324181['name']+_0x496281(0x555)+_0x324181[_0x496281(0x6f4)]+_0x496281(0x34e):_0x5c0e92+=_0x496281(0x812)+_0x324181[_0x496281(0x67d)]+'\x20('+_0x430f80[_0x2abc94]+_0x496281(0x39c)+_0x324181[_0x496281(0x6f4)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x430f80[_0x2abc94]+_0x496281(0x1d3));}}),_0xa519d5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x2b68da+_0x48f9bf(0x86a)+_0x515bae[_0x48f9bf(0x386)]+_0x48f9bf(0x373)+(_0x515bae['totalPoints']||0x0)+_0x48f9bf(0x86a)+(_0x5c0e92||'-')+_0x48f9bf(0x439);}),_0x51b996[_0x2c17d9(0x498)]=_0xa519d5;}function displayLoopScreen(_0xa5c865,_0x504cbc,_0x123b16){const _0xde3aec=_0x101354;let _0x243610='';_0x123b16!=='show_pass_fail_only'&&(_0x243610=_0xde3aec(0x418)+_0xa5c865+_0xde3aec(0x910)+_0x504cbc+_0xde3aec(0x4ba));const _0x225f48=_0xde3aec(0x56d)+_0x243610+_0xde3aec(0x38c);studentResultArea[_0xde3aec(0x498)]=_0x225f48,studentResultArea[_0xde3aec(0x8f6)][_0xde3aec(0x773)](_0xde3aec(0x1f2)),studentQuizArea['classList'][_0xde3aec(0x43c)](_0xde3aec(0x1f2)),document[_0xde3aec(0x187)](_0xde3aec(0x2ef))[_0xde3aec(0x57e)](_0xde3aec(0x2a0),()=>{const _0x109a26=_0xde3aec;studentResultArea[_0x109a26(0x8f6)][_0x109a26(0x43c)](_0x109a26(0x1f2)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x2f50fa,_0x822a35,_0x590229){const _0x3ff5eb=_0x101354,_0x4bb049=document['getElementById'](_0x590229),_0x9ad5bc=_0x590229===_0x3ff5eb(0x56a),_0x3f3eca=_0x822a35['questions'][_0x3ff5eb(0x6bd)],_0x52245b=document['getElementById'](_0x590229)[_0x3ff5eb(0x1d5)](_0x3ff5eb(0x44b));if(_0x52245b&&!_0x9ad5bc){const _0x4f0914=_0x52245b[_0x3ff5eb(0x399)](_0x3ff5eb(0x6c3));_0x4f0914['innerHTML']=_0x3ff5eb(0x8f2);}if(!_0x2f50fa||_0x2f50fa[_0x3ff5eb(0x6bd)]===0x0){_0x4bb049[_0x3ff5eb(0x498)]=_0x3ff5eb(0x2cf)+(_0x9ad5bc?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x515dd1=[..._0x2f50fa];_0x515dd1['sort']((_0x3bf575,_0x2229f2)=>{const _0x4bdc29=_0x3ff5eb;let _0x7a2761,_0x3d096a;switch(quizLeaderboardSortBy){case'studentName':_0x7a2761=_0x3bf575[_0x4bdc29(0x386)]||'',_0x3d096a=_0x2229f2['studentName']||'';return quizLeaderboardSortOrder==='asc'?_0x7a2761[_0x4bdc29(0x53a)](_0x3d096a,'th'):_0x3d096a[_0x4bdc29(0x53a)](_0x7a2761,'th');case _0x4bdc29(0x74b):_0x7a2761=_0x3bf575[_0x4bdc29(0x74b)]||0x0,_0x3d096a=_0x2229f2[_0x4bdc29(0x74b)]||0x0;break;case _0x4bdc29(0x57c):_0x7a2761=_0x3bf575[_0x4bdc29(0x57c)]?.[_0x4bdc29(0x6bd)]||0x1,_0x3d096a=_0x2229f2[_0x4bdc29(0x57c)]?.[_0x4bdc29(0x6bd)]||0x1;break;case _0x4bdc29(0x54e):_0x7a2761=new Date(_0x3bf575[_0x4bdc29(0x54e)]),_0x3d096a=new Date(_0x2229f2[_0x4bdc29(0x54e)]);break;case _0x4bdc29(0x2e9):default:_0x7a2761=_0x3bf575[_0x4bdc29(0x2e9)],_0x3d096a=_0x2229f2[_0x4bdc29(0x2e9)];break;}if(_0x7a2761<_0x3d096a)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x7a2761>_0x3d096a)return quizLeaderboardSortOrder===_0x4bdc29(0x50e)?0x1:-0x1;return 0x0;});const _0x4b4afe=_0x822a35[_0x3ff5eb(0x91b)]===!![],_0x26971c=_0x822a35[_0x3ff5eb(0x56f)]?.[_0x3ff5eb(0x277)]??-0x1;let _0x322919='';_0x515dd1['forEach']((_0x2ee1c4,_0x1241f0)=>{const _0x31c736=_0x3ff5eb,_0x4ba604=_0x1241f0+0x1;let _0x3fba07=_0x31c736(0x4a9);if(_0x4b4afe||_0x26971c!==-0x1){let _0x32d780=_0x4b4afe?_0x2ee1c4[_0x31c736(0x2e9)]===_0x3f3eca:_0x2ee1c4['bestScore']>=_0x26971c;const _0x33ec4c=_0x32d780?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x2d9fd9=_0x32d780?_0x31c736(0x5e8):_0x31c736(0x514);_0x3fba07=_0x31c736(0x72e)+_0x33ec4c+'\x22>'+_0x2d9fd9+_0x31c736(0x90e);}const _0xf21b37=_0x2ee1c4[_0x31c736(0x57c)][_0x2ee1c4[_0x31c736(0x57c)]['length']-0x1],_0x445a5f=(_0xf21b37[_0x31c736(0x540)]||[])[_0x31c736(0x4cd)](_0xb36ce=>{const _0x587137=_0x31c736,_0x359bd1=Object[_0x587137(0x804)](BADGES)[_0x587137(0x691)](_0x31e59e=>_0x31e59e['id']===_0xb36ce);return _0x359bd1?_0x587137(0x29b)+_0x359bd1[_0x587137(0x67d)]+'\x22><i\x20class=\x22fas\x20'+_0x359bd1[_0x587137(0x6f4)]+_0x587137(0x6d0):'';})[_0x31c736(0x58e)]('');_0x322919+=_0x31c736(0x7c9)+_0x4ba604+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x2ee1c4[_0x31c736(0x386)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x2ee1c4[_0x31c736(0x2e9)]+_0x31c736(0x910)+_0x3f3eca+_0x31c736(0x173)+_0x3fba07+_0x31c736(0x2d6)+(_0x2ee1c4[_0x31c736(0x74b)]||0x0)+_0x31c736(0x173)+(_0x9ad5bc?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x2ee1c4[_0x31c736(0x57c)]?.[_0x31c736(0x6bd)]||0x1)+_0x31c736(0x55b))+_0x31c736(0x616)+(_0x9ad5bc?'':_0x31c736(0x48e)+new Date(_0x2ee1c4[_0x31c736(0x54e)])[_0x31c736(0x593)](_0x31c736(0x6af))+_0x31c736(0x55b))+_0x31c736(0x90d)+(_0x445a5f||'-')+_0x31c736(0x24f);}),_0x4bb049[_0x3ff5eb(0x498)]=_0x322919,_0x52245b&&!_0x9ad5bc&&_0x52245b[_0x3ff5eb(0x7eb)](_0x3ff5eb(0x55f))[_0x3ff5eb(0x35f)](_0x3f6e00=>{const _0x5f2597=_0x3ff5eb,_0x188493=_0x3f6e00[_0x5f2597(0x399)](_0x5f2597(0x1ea));if(_0x188493)_0x188493[_0x5f2597(0x773)]();_0x3f6e00[_0x5f2597(0x7ed)][_0x5f2597(0x631)]===quizLeaderboardSortBy&&(_0x3f6e00[_0x5f2597(0x498)]+=_0x5f2597(0x41c)+(quizLeaderboardSortOrder===_0x5f2597(0x50e)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x22276a){const _0x990cb5=_0x101354;if(!currentQuizData||!currentQuizData['id']||!_0x22276a){showMessage(_0x990cb5(0x359));return;}showConfirmation(_0x990cb5(0x64e)+_0x22276a+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0x1c01ba=_0x990cb5,_0x302d29=currentQuizData['id'],_0x576317=doc(db,_0x1c01ba(0x565)+appId+_0x1c01ba(0x71b)+_0x302d29+'/submissions',_0x22276a);try{await deleteDoc(_0x576317),showMessage(_0x1c01ba(0x48d)+_0x22276a+_0x1c01ba(0x54f));}catch(_0x173f3b){console[_0x1c01ba(0x2eb)](_0x1c01ba(0x5c3),_0x173f3b),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x55b664=_0x101354,_0x19fcc0=document['getElementById']('quiz-id-input'),_0x342933=_0x19fcc0[_0x55b664(0x82c)][_0x55b664(0x4b3)]();if(!_0x342933){showMessage(_0x55b664(0x41d));return;}loadQuizBtn[_0x55b664(0x8cc)]=!![],loadQuizBtn[_0x55b664(0x498)]=_0x55b664(0x841);try{const _0x1e8698=doc(db,'artifacts/'+appId+_0x55b664(0x60e),_0x342933),_0xc9759b=await getDoc(_0x1e8698);if(!_0xc9759b[_0x55b664(0x5dd)]()){showMessage(_0x55b664(0x5ec));return;}currentQuizData={'id':_0xc9759b['id'],..._0xc9759b[_0x55b664(0x471)]()};const _0x48bb79=currentQuizData['status']||'active',_0x2f665a=new Date();if(_0x48bb79===_0x55b664(0x1ec)){showMessage(_0x55b664(0x797));return;}if(_0x48bb79===_0x55b664(0x39e)){const _0x4a300b=currentQuizData['startTime']?new Date(currentQuizData[_0x55b664(0x423)]):null,_0x2f4cca=currentQuizData[_0x55b664(0x427)]?new Date(currentQuizData['endTime']):null;if(_0x4a300b&&_0x2f665a<_0x4a300b){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x4a300b[_0x55b664(0x593)](_0x55b664(0x6af),{'hour12':![]}));return;}if(_0x2f4cca&&_0x2f665a>_0x2f4cca){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x2491ec=currentQuizData['projectId'];currentProjectId=_0x2491ec;const _0x218bb2=doc(db,'artifacts/'+appId+_0x55b664(0x494),_0x2491ec),_0x53f8a1=await getDoc(_0x218bb2);if(!_0x53f8a1[_0x55b664(0x5dd)]()){showMessage(_0x55b664(0x2b7));return;}const _0x48db0b=_0x53f8a1['data']();currentStudentProjectData=_0x48db0b,displayStudentNameSelector(_0x48db0b[_0x55b664(0x624)],currentQuizData[_0x55b664(0x3ef)]);}catch(_0x3b2d28){console['error'](_0x55b664(0x893),_0x3b2d28),showMessage(_0x55b664(0x460));}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x55b664(0x498)]=_0x55b664(0x86b);}}async function handleJoinLiveGame(){const _0x154e99=_0x101354,_0x1e92b6=document['getElementById'](_0x154e99(0x7be)),_0x526d30=document[_0x154e99(0x187)](_0x154e99(0x233)),_0x52a86e=document[_0x154e99(0x187)]('confirm-join-game-btn'),_0x23707e=_0x1e92b6[_0x154e99(0x82c)][_0x154e99(0x4b3)](),_0x1e85dd=_0x526d30[_0x154e99(0x82c)][_0x154e99(0x4b3)]();if(!_0x23707e||!_0x1e85dd){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x52a86e['disabled']=!![],_0x52a86e[_0x154e99(0x498)]=_0x154e99(0x884);try{const _0x194859=collection(db,'artifacts/'+appId+_0x154e99(0x720)),_0x797e60=query(_0x194859,where(_0x154e99(0x678),'==',_0x23707e),where('status','==',_0x154e99(0x6be))),_0x46d617=await getDocs(_0x797e60);if(_0x46d617['empty']){showMessage(_0x154e99(0x6a9));return;}const _0x4f4e87=_0x46d617[_0x154e99(0x8a1)][0x0],_0x20ddfa=_0x4f4e87[_0x154e99(0x471)]();currentLiveGameId=_0x4f4e87['id'];const _0x5b878c=_0x20ddfa[_0x154e99(0x250)],_0x422d8e=doc(db,_0x154e99(0x565)+appId+_0x154e99(0x60e),_0x5b878c),_0xc25cd9=await getDoc(_0x422d8e);if(!_0xc25cd9[_0x154e99(0x5dd)]()){showMessage(_0x154e99(0x214));return;}currentQuizData={'id':_0xc25cd9['id'],..._0xc25cd9['data']()};if(_0x20ddfa['players']&&_0x20ddfa['players'][_0x1e85dd]){showMessage(_0x154e99(0x880));return;}const _0x40a814={};_0x40a814[_0x154e99(0x4a3)+_0x1e85dd]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,'artifacts/'+appId+_0x154e99(0x720),currentLiveGameId),_0x40a814),currentStudentName=_0x1e85dd,listenForLiveGameUpdates();}catch(_0x5c3c58){console[_0x154e99(0x2eb)]('Error\x20joining\x20live\x20game:',_0x5c3c58),showMessage(_0x154e99(0x3a7));}finally{_0x52a86e[_0x154e99(0x8cc)]=![],_0x52a86e['innerHTML']='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x4b7d97,_0x59861d){const _0x180a52=_0x101354,_0x1dcecc=document[_0x180a52(0x187)](_0x180a52(0x81f));document[_0x180a52(0x187)](_0x180a52(0x16d))[_0x180a52(0x8fd)]='แบบทดสอบ:\x20'+_0x59861d,!_0x4b7d97||_0x4b7d97[_0x180a52(0x6bd)]===0x0?(_0x1dcecc[_0x180a52(0x498)]=_0x180a52(0x6cd),startQuizBtn[_0x180a52(0x8cc)]=!![]):(_0x1dcecc['innerHTML']=_0x180a52(0x3d2),_0x4b7d97[_0x180a52(0x35f)](_0x850f30=>{const _0x52f150=_0x180a52,_0x4cbd89=document[_0x52f150(0x3a0)]('option');_0x4cbd89['value']=_0x850f30,_0x4cbd89[_0x52f150(0x8fd)]=_0x850f30,_0x1dcecc[_0x52f150(0x360)](_0x4cbd89);}),startQuizBtn[_0x180a52(0x8cc)]=![]),studentInitialView[_0x180a52(0x8f6)]['add'](_0x180a52(0x1f2)),studentNameSelectionView['classList'][_0x180a52(0x773)](_0x180a52(0x1f2));}function shuffleArray(_0x78fb63){const _0x4c0135=_0x101354;for(let _0x9dca35=_0x78fb63[_0x4c0135(0x6bd)]-0x1;_0x9dca35>0x0;_0x9dca35--){const _0x345d38=Math[_0x4c0135(0x390)](Math[_0x4c0135(0x327)]()*(_0x9dca35+0x1));[_0x78fb63[_0x9dca35],_0x78fb63[_0x345d38]]=[_0x78fb63[_0x345d38],_0x78fb63[_0x9dca35]];}}function getShuffledQuiz(_0x7e1fe9){const _0x15adf3=_0x101354;let _0x398584=JSON[_0x15adf3(0x348)](JSON[_0x15adf3(0x909)](_0x7e1fe9));const _0x58d37d=_0x398584[_0x15adf3(0x56f)]?.[_0x15adf3(0x6dc)]||_0x15adf3(0x3aa);if(_0x58d37d===_0x15adf3(0x3aa))return _0x398584;return(_0x58d37d==='questions_only'||_0x58d37d===_0x15adf3(0x8b3))&&shuffleArray(_0x398584[_0x15adf3(0x371)]),(_0x58d37d===_0x15adf3(0x4c4)||_0x58d37d===_0x15adf3(0x8b3))&&_0x398584[_0x15adf3(0x371)][_0x15adf3(0x35f)](_0x4a89bb=>{const _0x14cfd4=_0x15adf3,_0x2fd0de=_0x4a89bb[_0x14cfd4(0x81e)]||_0x398584['quizType'];if(_0x4a89bb[_0x14cfd4(0x510)]){let _0x15a43c=_0x4a89bb[_0x14cfd4(0x510)][_0x14cfd4(0x4cd)]((_0x1e16bf,_0x385e81)=>({'text':_0x1e16bf,'isCorrect':_0x385e81===_0x4a89bb[_0x14cfd4(0x1c0)]}));shuffleArray(_0x15a43c),_0x4a89bb[_0x14cfd4(0x510)]=_0x15a43c['map'](_0x423fad=>_0x423fad[_0x14cfd4(0x4d1)]),_0x4a89bb['correctAnswerIndex']=_0x15a43c[_0x14cfd4(0x5ab)](_0x57d665=>_0x57d665[_0x14cfd4(0x268)]);}_0x2fd0de===_0x14cfd4(0x61a)&&_0x4a89bb[_0x14cfd4(0x156)]&&shuffleArray(_0x4a89bb[_0x14cfd4(0x156)]);}),_0x398584;}function displayQuizForStudent(_0x33e6b9){const _0x5a03b2=_0x101354;studentQuizArea[_0x5a03b2(0x8f6)]['remove']('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x33e6b9),requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x5a03b2(0x57e)](_0x5a03b2(0x3d9),handleFullscreenChange),document[_0x5a03b2(0x57e)](_0x5a03b2(0x370),handleVisibilityChange);currentMode!==_0x5a03b2(0x85f)&&enterFullscreen();const _0x46be0c=currentDisplayedQuiz[_0x5a03b2(0x56f)]?.[_0x5a03b2(0x5c2)]||'none';if(_0x46be0c===_0x5a03b2(0x205))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x5a03b2(0x56f)][_0x5a03b2(0x77a)]);else _0x46be0c===_0x5a03b2(0x1a1)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x2f194c=_0x101354;let _0x315b94=_0x2f194c(0x579)+currentDisplayedQuiz[_0x2f194c(0x3ef)]+_0x2f194c(0x317)+(currentMode==='admin-testing'?_0x2f194c(0x6b4):'')+_0x2f194c(0x363);currentDisplayedQuiz[_0x2f194c(0x371)][_0x2f194c(0x35f)]((_0x499683,_0x5d571e)=>{const _0x568b1c=_0x2f194c,_0x3cdc58=_0x499683['questionType']||currentDisplayedQuiz[_0x568b1c(0x2a5)];_0x315b94+=_0x568b1c(0x42d);_0x3cdc58===_0x568b1c(0x61a)?_0x315b94+=_0x568b1c(0x707)+(_0x5d571e+0x1)+'.\x20'+_0x499683[_0x568b1c(0x4ce)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x5d571e+_0x568b1c(0x165)+_0x499683[_0x568b1c(0x156)][_0x568b1c(0x4cd)](_0x25214b=>_0x568b1c(0x20b)+_0x25214b+'\x22>'+_0x25214b+_0x568b1c(0x1e9))[_0x568b1c(0x58e)]('')+_0x568b1c(0x6c6):(_0x315b94+='<p>'+(_0x5d571e+0x1)+'.\x20'+(_0x499683[_0x568b1c(0x39a)]||_0x499683[_0x568b1c(0x2ea)])+_0x568b1c(0x787),_0x499683[_0x568b1c(0x3cb)]&&(_0x315b94+=_0x568b1c(0x164)+_0x499683[_0x568b1c(0x3cb)]+_0x568b1c(0x895)));_0x315b94+=_0x568b1c(0x2c2);switch(_0x3cdc58){case _0x568b1c(0x8b7):_0x315b94+=_0x568b1c(0x4e4)+_0x5d571e+_0x568b1c(0x752);break;case'true_false':_0x315b94+=_0x568b1c(0x8ab)+_0x5d571e+_0x568b1c(0x886)+_0x5d571e+_0x568b1c(0x394)+_0x5d571e+_0x568b1c(0x6ca),_0x315b94+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x5d571e+_0x568b1c(0x635)+_0x5d571e+_0x568b1c(0x1db)+_0x5d571e+_0x568b1c(0x2bd);break;case _0x568b1c(0x61a):break;case _0x568b1c(0x404):case _0x568b1c(0x89a):default:_0x315b94+=_0x499683[_0x568b1c(0x510)][_0x568b1c(0x4cd)]((_0x134724,_0x3180b9)=>_0x568b1c(0x571)+_0x5d571e+'_opt'+_0x3180b9+'\x22\x20name=\x22question'+_0x5d571e+_0x568b1c(0x814)+_0x3180b9+_0x568b1c(0x337)+_0x5d571e+_0x568b1c(0x6e2)+_0x3180b9+'\x22>'+_0x134724+_0x568b1c(0x7ea))['join']('');break;}_0x315b94+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x315b94+=_0x2f194c(0x7f0),_0x315b94+='</form>',studentQuizArea[_0x2f194c(0x498)]=_0x315b94;if(currentMode===_0x2f194c(0x85f)){const _0x18de4b=document['getElementById'](_0x2f194c(0x3c3));if(_0x18de4b)_0x18de4b[_0x2f194c(0x57e)](_0x2f194c(0x2a0),cancelAdminTest);}document[_0x2f194c(0x187)](_0x2f194c(0x4d7))[_0x2f194c(0x57e)]('submit',handleSubmitQuiz);if(window['MathJax'])window['MathJax'][_0x2f194c(0x16a)]([studentQuizArea]);}async function handleSubmitQuiz(_0x22faf4){const _0x4f9a7b=_0x101354;if(_0x22faf4)_0x22faf4['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x3a94ab=document[_0x4f9a7b(0x187)](_0x4f9a7b(0x4d7));if(!_0x3a94ab)return;const _0x50a32e=_0x3a94ab[_0x4f9a7b(0x399)](_0x4f9a7b(0x7de)),_0x32b805=currentDisplayedQuiz[_0x4f9a7b(0x371)][_0x4f9a7b(0x1cb)](_0x1a2d86=>_0x1a2d86[_0x4f9a7b(0x81e)]==='short_answer');_0x50a32e&&(_0x50a32e[_0x4f9a7b(0x8cc)]=!![],_0x32b805?_0x50a32e['innerHTML']=_0x4f9a7b(0x338):_0x50a32e[_0x4f9a7b(0x498)]=_0x4f9a7b(0x3d6));const _0x288af8=new FormData(_0x3a94ab),_0x4fe2d9=currentDisplayedQuiz[_0x4f9a7b(0x371)][_0x4f9a7b(0x4cd)]((_0x4bcea6,_0xf78d6b)=>{const _0x55857d=_0x4f9a7b,_0x4793c8=_0x4bcea6[_0x55857d(0x81e)]||currentDisplayedQuiz[_0x55857d(0x2a5)],_0x128a09=_0x288af8[_0x55857d(0x40b)](_0x55857d(0x193)+_0xf78d6b);if(_0x128a09!==null&&_0x128a09!==undefined){if(_0x4793c8===_0x55857d(0x89a)||_0x4793c8===_0x55857d(0x404))return parseInt(_0x128a09);return _0x128a09;}return null;}),_0x59525b=currentQuizData['id'],_0x27b9bc=doc(db,_0x4f9a7b(0x565)+appId+'/public/data/quizzes/'+_0x59525b+'/submissions',currentStudentName),_0x13323f=await getDoc(_0x27b9bc),_0x3d4e13=_0x13323f[_0x4f9a7b(0x5dd)]()?_0x13323f[_0x4f9a7b(0x471)]():{},_0x46bd35=_0x3d4e13['attempts']||[];await processAndSubmitAnswers(_0x4fe2d9,_0x46bd35);}async function gradeShortAnswerWithAI(_0x3b1626,_0x2ca2d4){const _0x3cf922=_0x101354;if(!_0x3b1626||!_0x2ca2d4)return![];try{const _0x2419f8=_0x3cf922(0x7cf)+_0x3b1626+_0x3cf922(0x67e)+_0x2ca2d4+_0x3cf922(0x75c),_0x1d9ef6={'contents':[{'role':'user','parts':[{'text':_0x2419f8}]}]},_0x131ed5=_0x3cf922(0x908),_0x2b533e=_0x3cf922(0x870)+_0x131ed5,_0x3b2f21=await fetch(_0x2b533e,{'method':_0x3cf922(0x1da),'headers':{'Content-Type':_0x3cf922(0x470)},'body':JSON[_0x3cf922(0x909)](_0x1d9ef6)});if(!_0x3b2f21['ok'])throw new Error('API\x20call\x20failed');const _0x92e5e6=await _0x3b2f21[_0x3cf922(0x387)](),_0x23519e=_0x92e5e6['candidates'][0x0]['content']['parts'][0x0][_0x3cf922(0x4d1)][_0x3cf922(0x4b3)]()['toLowerCase']();return _0x23519e===_0x3cf922(0x596);}catch(_0x3b7c80){return console[_0x3cf922(0x2eb)](_0x3cf922(0x426),_0x3b7c80),![];}}async function processAndSubmitAnswers(_0x4888bc,_0x52e022){const _0x2c826e=_0x101354;releaseWakeLock(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0x2c826e(0x3d9),handleFullscreenChange),document[_0x2c826e(0x4ff)](_0x2c826e(0x370),handleVisibilityChange);let _0x11d8e8=0x0,_0x30bad2=0x0,_0x48b858=[];const _0x35febd=[],_0x18da40=currentDisplayedQuiz['questions'][_0x2c826e(0x6bd)];let _0x15f9c4=0x0;const _0x43d866=currentDisplayedQuiz[_0x2c826e(0x371)];for(let _0x3a2682=0x0;_0x3a2682<_0x43d866[_0x2c826e(0x6bd)];_0x3a2682++){const _0x3b7dac=_0x43d866[_0x3a2682],_0x6ecd63=_0x4888bc[_0x3a2682],_0x1996fb=_0x3b7dac[_0x2c826e(0x81e)]||currentDisplayedQuiz[_0x2c826e(0x2a5)];let _0x41d4af=![];if(_0x6ecd63!==null&&_0x6ecd63!=='')switch(_0x1996fb){case _0x2c826e(0x61a):_0x41d4af=_0x6ecd63===_0x3b7dac[_0x2c826e(0x3ab)];break;case _0x2c826e(0x2f7):const _0x1e7763=_0x6ecd63===!![]||_0x6ecd63===_0x2c826e(0x596);_0x41d4af=_0x1e7763===_0x3b7dac[_0x2c826e(0x25e)];break;case _0x2c826e(0x404):case _0x2c826e(0x89a):default:_0x41d4af=Number(_0x6ecd63)===_0x3b7dac[_0x2c826e(0x1c0)];break;case _0x2c826e(0x8b7):_0x41d4af=await gradeShortAnswer(_0x6ecd63,_0x3b7dac);break;}_0x41d4af?(_0x11d8e8++,_0x15f9c4++,_0x15f9c4===0x3&&(_0x48b858[_0x2c826e(0x36f)](BADGES[_0x2c826e(0x3f2)]['id']),_0x15f9c4=0x0)):_0x15f9c4=0x0;let _0x41ae55=null;_0x3b7dac[_0x2c826e(0x510)]&&_0x6ecd63!==null&&(_0x41ae55=_0x3b7dac[_0x2c826e(0x510)][_0x6ecd63]),_0x35febd['push']({'questionId':_0x3b7dac['id'],'answer':_0x6ecd63,'answerText':_0x41ae55,'isCorrect':_0x41d4af,'originalQuestionText':_0x3b7dac[_0x2c826e(0x4ce)]||_0x3b7dac[_0x2c826e(0x2ea)]});}_0x30bad2=_0x11d8e8*0xa;_0x11d8e8===_0x18da40&&_0x18da40>0x0&&!currentDisplayedQuiz[_0x2c826e(0x91b)]&&(_0x30bad2+=0x32,_0x48b858[_0x2c826e(0x36f)](BADGES['PERFECT_SCORE']['id']));const _0x2ff50c=currentDisplayedQuiz[_0x2c826e(0x56f)]?.[_0x2c826e(0x277)]??Math[_0x2c826e(0x390)](_0x18da40/0x2),_0x254bbf=currentDisplayedQuiz[_0x2c826e(0x56f)]?.[_0x2c826e(0x5c2)];if(_0x254bbf==='whole_quiz'&&quizStartTime){const _0x2507a9=(new Date()-quizStartTime)/0x3e8,_0x148977=currentDisplayedQuiz['settings'][_0x2c826e(0x77a)]*0x3c;_0x11d8e8>=_0x2ff50c&&_0x2507a9<_0x148977/0x2&&(_0x30bad2+=0x14,_0x48b858[_0x2c826e(0x36f)](BADGES[_0x2c826e(0x854)]['id']));}_0x52e022[_0x2c826e(0x6bd)]===0x0&&_0x11d8e8===_0x18da40&&_0x18da40>0x0&&_0x48b858['push'](BADGES[_0x2c826e(0x857)]['id']);if(_0x52e022[_0x2c826e(0x6bd)]>0x0){const _0x3d9f42=_0x52e022[0x0][_0x2c826e(0x5c0)];if(_0x3d9f42<_0x2ff50c&&_0x11d8e8>=_0x2ff50c){const _0x55dbf0=_0x52e022[_0x2c826e(0x1cb)](_0xf41e2c=>(_0xf41e2c['badges']||[])['includes'](BADGES[_0x2c826e(0x23b)]['id']));!_0x55dbf0&&_0x48b858[_0x2c826e(0x36f)](BADGES['COMEBACK_KING']['id']);}}_0x52e022[_0x2c826e(0x6bd)]===0x4&&_0x48b858[_0x2c826e(0x36f)](BADGES[_0x2c826e(0x5a2)]['id']);const _0x8aa898=currentDisplayedQuiz[_0x2c826e(0x56f)][_0x2c826e(0x740)];if(currentMode===_0x2c826e(0x85f)){handleResultDisplay(_0x8aa898,_0x11d8e8,_0x30bad2,_0x48b858,_0x35febd,_0x18da40);return;}const _0x5627b0=currentQuizData['id'],_0x278d01=doc(db,_0x2c826e(0x565)+appId+_0x2c826e(0x71b)+_0x5627b0+_0x2c826e(0x8e0),currentStudentName);try{const _0x574b54=[..._0x52e022],_0x1645ff={'score':_0x11d8e8,'points':_0x30bad2,'badges':_0x48b858,'submittedAt':new Date()[_0x2c826e(0x414)](),'answers':_0x35febd};_0x574b54[_0x2c826e(0x36f)](_0x1645ff);const _0x176a33=_0x574b54[0x0]['score'],_0x2a5d42=Math['max'](..._0x574b54['map'](_0x3132cc=>_0x3132cc[_0x2c826e(0x5c0)])),_0x16cf34=_0x11d8e8,_0x570413=_0x1645ff[_0x2c826e(0x6b3)];await setDoc(_0x278d01,{'studentName':currentStudentName,'totalQuestions':_0x18da40,'attempts':_0x574b54,'firstScore':_0x176a33,'bestScore':_0x2a5d42,'latestScore':_0x16cf34,'points':_0x30bad2,'latestSubmittedAt':_0x570413},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x2c826e(0x65c)],currentStudentName),handleResultDisplay(_0x8aa898,_0x11d8e8,_0x30bad2,_0x48b858,_0x35febd,_0x18da40);}catch(_0x5790bf){console['error'](_0x2c826e(0x657),_0x5790bf),showMessage(_0x2c826e(0x68c));}}async function updateStudentProfile(_0x12b5a5,_0x4be021){const _0x19335c=_0x101354,_0x711c56=doc(db,'artifacts/'+appId+_0x19335c(0x6d2)+_0x12b5a5+_0x19335c(0x850),_0x4be021);try{const _0x29d368=query(collection(db,_0x19335c(0x565)+appId+'/public/data/quizzes'),where('projectId','==',_0x12b5a5)),_0x3c2bee=await getDocs(_0x29d368),_0x547198=new Map(_0x3c2bee[_0x19335c(0x8a1)][_0x19335c(0x4cd)](_0x17f2a9=>[_0x17f2a9['id'],_0x17f2a9[_0x19335c(0x471)]()])),_0xa742ff=Array['from'](_0x547198[_0x19335c(0x5ba)]());await runTransaction(db,async _0x1cf726=>{const _0x36e4f4=_0x19335c;let _0x303fef=0x0;const _0x11bc13={};let _0xe8c13a=!![],_0x210e03=0x0,_0x263fdf=0x0;for(const _0x1aba36 of _0xa742ff){const _0x1483a5=_0x547198['get'](_0x1aba36),_0x58156d=doc(db,_0x36e4f4(0x565)+appId+_0x36e4f4(0x71b)+_0x1aba36+_0x36e4f4(0x8e0),_0x4be021),_0x37a81e=await _0x1cf726[_0x36e4f4(0x40b)](_0x58156d);if(_0x37a81e[_0x36e4f4(0x5dd)]()){const _0x547fca=_0x37a81e[_0x36e4f4(0x471)](),_0xe496d6=_0x547fca[_0x36e4f4(0x57c)]||[];if(_0xe496d6['length']>0x0){const _0x31f7fb=_0xe496d6['reduce']((_0x23cef7,_0x37c6da)=>{const _0x22e723=_0x36e4f4;if(_0x37c6da[_0x22e723(0x5c0)]>_0x23cef7[_0x22e723(0x5c0)])return _0x37c6da;if(_0x37c6da[_0x22e723(0x5c0)]===_0x23cef7[_0x22e723(0x5c0)])return(_0x37c6da[_0x22e723(0x74b)]||0x0)>(_0x23cef7[_0x22e723(0x74b)]||0x0)?_0x37c6da:_0x23cef7;return _0x23cef7;},{'score':-0x1,'points':-0x1});_0x31f7fb[_0x36e4f4(0x5c0)]>-0x1&&(_0x303fef+=_0x31f7fb[_0x36e4f4(0x74b)]||0x0,(_0x31f7fb[_0x36e4f4(0x540)]||[])[_0x36e4f4(0x35f)](_0x42b5cd=>{_0x11bc13[_0x42b5cd]=(_0x11bc13[_0x42b5cd]||0x0)+0x1;}));}}if(_0x1483a5[_0x36e4f4(0x3ef)]!==_0x36e4f4(0x70d)){_0x263fdf++;if(_0x37a81e[_0x36e4f4(0x5dd)]()){_0x210e03++;const _0x1d4f66=_0x37a81e[_0x36e4f4(0x471)]();_0x1d4f66['bestScore']!==_0x1d4f66['totalQuestions']&&(_0xe8c13a=![]);}else _0xe8c13a=![];}}_0x263fdf>0x0&&_0x210e03===_0x263fdf&&_0xe8c13a?_0x11bc13['specialist']=0x1:_0x11bc13[_0x36e4f4(0x2c9)]=0x0,_0x1cf726[_0x36e4f4(0x38e)](_0x711c56,{'studentName':_0x4be021,'totalPoints':_0x303fef,'unlockedBadges':Object[_0x36e4f4(0x5ba)](_0x11bc13)[_0x36e4f4(0x604)](_0xc181de=>_0x11bc13[_0xc181de]>0x0),'badgesCount':_0x11bc13},{'merge':!![]});});}catch(_0x50b8c2){console[_0x19335c(0x2eb)](_0x19335c(0x885),_0x50b8c2),showMessage(_0x19335c(0x60d));}}function startAdminTest(){const _0xd1f7c0=_0x101354;if(!currentQuizData){showMessage(_0xd1f7c0(0x232));return;}let _0x4bcb62=JSON['parse'](JSON[_0xd1f7c0(0x909)](currentQuizData));currentMode=_0xd1f7c0(0x85f),currentStudentName=_0xd1f7c0(0x6f9),adminView[_0xd1f7c0(0x8f6)][_0xd1f7c0(0x43c)](_0xd1f7c0(0x1f2)),studentView[_0xd1f7c0(0x8f6)][_0xd1f7c0(0x773)]('hidden'),studentInitialView[_0xd1f7c0(0x8f6)][_0xd1f7c0(0x43c)]('hidden'),studentNameSelectionView[_0xd1f7c0(0x8f6)]['add'](_0xd1f7c0(0x1f2)),studentResultArea[_0xd1f7c0(0x8f6)][_0xd1f7c0(0x43c)](_0xd1f7c0(0x1f2)),studentQuizArea['classList']['remove'](_0xd1f7c0(0x1f2)),quizStartTime=new Date(),displayQuizForStudent(_0x4bcb62);}function handleResultDisplay(_0x504225,_0x213233,_0x1c73da,_0x44b371,_0x29bf4c,_0x2afbc8){const _0x1d0f93=_0x101354;if(_0x504225===_0x1d0f93(0x6d9)){displaySubmissionConfirmation();return;}const _0x13acd9=currentDisplayedQuiz[_0x1d0f93(0x56f)]?.[_0x1d0f93(0x277)]??Math['floor'](_0x2afbc8/0x2),_0x557d25=currentDisplayedQuiz[_0x1d0f93(0x56f)]?.[_0x1d0f93(0x603)]??![],_0x2e1a50=currentDisplayedQuiz[_0x1d0f93(0x56f)]?.[_0x1d0f93(0x658)]===!![],_0x5614e2=_0x213233<_0x13acd9,_0x1912d7=_0x504225==='half_mark_status'||_0x504225===_0x1d0f93(0x2de);if(_0x2e1a50&&_0x5614e2&&!_0x1912d7){_0x504225==='show_results_and_answers'?displayResultsWithAnswers(_0x213233,_0x1c73da,_0x44b371,_0x29bf4c,_0x2afbc8,!![]):displayLoopScreen(_0x213233,_0x2afbc8,_0x504225);return;}if(_0x557d25&&_0x5614e2){startAdaptiveFlow(_0x29bf4c,_0x213233,_0x2afbc8);return;}switch(_0x504225){case'show_results_and_answers':displayResultsWithAnswers(_0x213233,_0x1c73da,_0x44b371,_0x29bf4c,_0x2afbc8);break;case _0x1d0f93(0x4d5):displayResultsScoreOnly(_0x213233,_0x1c73da,_0x44b371,_0x2afbc8);break;case _0x1d0f93(0x6bb):displayPassFailOnly(_0x213233,_0x2afbc8);break;case'half_mark_status':displayHalfMarkResult(_0x213233,_0x2afbc8);break;case _0x1d0f93(0x2de):displayPerfectScoreResult(_0x213233,_0x2afbc8);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x4205e2){const _0x2edcc0=_0x101354;studentReadingArea[_0x2edcc0(0x498)]=_0x2edcc0(0x247);const _0x1b0a1a=_0x2edcc0(0x560)+_0x4205e2+_0x2edcc0(0x8cb)+simpleMathPrompt+_0x2edcc0(0x553),_0x25e896={'type':'OBJECT','properties':{'questionText':{'type':_0x2edcc0(0x4ea)},'options':{'type':_0x2edcc0(0x61f),'items':{'type':_0x2edcc0(0x4ea)}},'correctAnswerIndex':{'type':_0x2edcc0(0x184)},'explanation':{'type':_0x2edcc0(0x4ea)}},'required':[_0x2edcc0(0x2ea),_0x2edcc0(0x510),_0x2edcc0(0x1c0),_0x2edcc0(0x618)]},_0x3ab4a6={'type':_0x2edcc0(0x1bc),'properties':{'topic':{'type':_0x2edcc0(0x4ea)},'questions':{'type':_0x2edcc0(0x61f),'items':_0x25e896}},'required':['topic',_0x2edcc0(0x371)]};try{const _0x43c075=await callAnalysisApi(_0x1b0a1a,_0x3ab4a6);_0x43c075[_0x2edcc0(0x91b)]=!![],studentReadingArea['classList'][_0x2edcc0(0x43c)](_0x2edcc0(0x1f2));const _0x533e74={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x2edcc0(0x532)};_0x43c075['settings']=_0x533e74,displayQuizForStudent(_0x43c075);}catch(_0x1dfb69){console[_0x2edcc0(0x2eb)](_0x2edcc0(0x79a),_0x1dfb69),showMessage(_0x2edcc0(0x15c)),showView(_0x2edcc0(0x5f6));}}function displayPassFailOnly(_0xabc4a4,_0xb4f30a){const _0xce23cb=_0x101354,_0x201120=currentDisplayedQuiz[_0xce23cb(0x56f)]?.[_0xce23cb(0x277)]??-0x1,_0x3e0c11=currentDisplayedQuiz[_0xce23cb(0x91b)]===!![];let _0xf161d2='',_0x3dc495=![];if(_0x3e0c11||_0x201120!==-0x1){_0x3dc495=_0x3e0c11?_0xabc4a4===_0xb4f30a:_0xabc4a4>=_0x201120;const _0x262507=_0x3dc495?_0xce23cb(0x44d):_0xce23cb(0x80c),_0x2c47d4=_0x3dc495?_0xce23cb(0x5e8):'ไม่ผ่าน';_0xf161d2=_0xce23cb(0x582)+_0x262507+'\x22>'+_0x2c47d4+_0xce23cb(0x282);}else _0xf161d2='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x486640=_0xce23cb(0x915)+currentStudentName+_0xce23cb(0x1a9)+_0xf161d2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0xce23cb(0x498)]=_0x486640,studentResultArea['classList'][_0xce23cb(0x773)]('hidden'),studentQuizArea[_0xce23cb(0x8f6)][_0xce23cb(0x43c)](_0xce23cb(0x1f2)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x3dc495});}function cancelAdminTest(){const _0x2f48d9=_0x101354;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),exitFullscreen(),document[_0x2f48d9(0x4ff)](_0x2f48d9(0x3d9),handleFullscreenChange),document['removeEventListener'](_0x2f48d9(0x370),handleVisibilityChange),currentMode=_0x2f48d9(0x739),studentView[_0x2f48d9(0x8f6)]['add'](_0x2f48d9(0x1f2)),adminView[_0x2f48d9(0x8f6)][_0x2f48d9(0x773)]('hidden'),showView(_0x2f48d9(0x223));}function setupResultScreenBackButton(_0x35b7fb){const _0x5ca53c=_0x101354,_0x547bde={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x35b7fb};if(_0x547bde[_0x5ca53c(0x5fe)]){const _0x572645=_0x5ca53c(0x2cd);studentResultArea['insertAdjacentHTML']('beforeend',_0x572645),document[_0x5ca53c(0x187)](_0x5ca53c(0x2ef))[_0x5ca53c(0x57e)](_0x5ca53c(0x2a0),()=>{const _0x3cf3d3=_0x5ca53c;studentResultArea[_0x3cf3d3(0x8f6)][_0x3cf3d3(0x43c)](_0x3cf3d3(0x1f2)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x4f09eb=_0x5ca53c(0x65a),_0x2dabce=currentMode===_0x5ca53c(0x85f),_0x5911ef=_0x2dabce?_0x5ca53c(0x244):_0x5ca53c(0x43a);let _0x1c3da5='';_0x547bde[_0x5ca53c(0x4fd)]&&(_0x1c3da5+=_0x5ca53c(0x1f1));let _0x57e40e=_0x547bde[_0x5ca53c(0x836)];_0x57e40e===undefined&&(_0x57e40e=_0x547bde['score']<_0x547bde[_0x5ca53c(0x918)]);_0x57e40e&&(_0x1c3da5+=_0x5ca53c(0x28f));_0x1c3da5+='<button\x20id=\x22'+_0x4f09eb+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x5911ef+_0x5ca53c(0x37e);const _0xc2a837=_0x5ca53c(0x5e4)+_0x1c3da5+_0x5ca53c(0x895);studentResultArea[_0x5ca53c(0x180)](_0x5ca53c(0x87a),_0xc2a837),studentResultArea[_0x5ca53c(0x399)](_0x5ca53c(0x3da))?.[_0x5ca53c(0x57e)](_0x5ca53c(0x2a0),handleShowStudentRankings);const _0x5c2f82=studentResultArea['querySelector'](_0x5ca53c(0x8e1));_0x5c2f82&&_0x5c2f82[_0x5ca53c(0x57e)](_0x5ca53c(0x2a0),()=>{const _0x52f851=_0x5ca53c;studentResultArea['classList'][_0x52f851(0x43c)](_0x52f851(0x1f2)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x5ca53c(0x187)](_0x4f09eb)[_0x5ca53c(0x57e)]('click',()=>{const _0x3d2a17=_0x5ca53c;_0x2dabce?(currentMode='admin',studentView[_0x3d2a17(0x8f6)][_0x3d2a17(0x43c)](_0x3d2a17(0x1f2)),adminView[_0x3d2a17(0x8f6)]['remove'](_0x3d2a17(0x1f2)),showView(_0x3d2a17(0x223))):(showView('student'),document[_0x3d2a17(0x187)](_0x3d2a17(0x662))[_0x3d2a17(0x82c)]='');});}function displayResultsWithAnswers(_0x2c23b3,_0x1e94a0,_0x9c895b,_0x1672b5,_0x1e5312,_0x5c4877=![]){const _0x585689=_0x101354,_0xc39d95=_0x1e5312>0x0?_0x2c23b3/_0x1e5312*0x64:0x0,_0x327acb=currentDisplayedQuiz[_0x585689(0x56f)]?.['passingScore']??-0x1,_0x155155=currentDisplayedQuiz[_0x585689(0x91b)]===!![];let _0x5711af='';if(_0x155155||_0x327acb!==-0x1){let _0x24b44c=_0x155155?_0x2c23b3===_0x1e5312:_0x2c23b3>=_0x327acb;const _0x51c487=_0x24b44c?'bg-green-100\x20text-green-800':_0x585689(0x80c),_0x45051a=_0x24b44c?_0x585689(0x5e8):_0x585689(0x514);_0x5711af=_0x585689(0x272)+_0x51c487+'\x22>'+_0x45051a+_0x585689(0x787);}let _0x24f817=_0x585689(0x1f4)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x2c23b3+_0x585689(0x6ef)+_0x1e5312+_0x585689(0x3b8)+_0x5711af+_0x585689(0x637)+_0x1e94a0+_0x585689(0x6cc)+_0xc39d95['toFixed'](0x0)+_0x585689(0x292);currentDisplayedQuiz[_0x585689(0x371)][_0x585689(0x35f)]((_0xb37bd1,_0x3df33e)=>{const _0x52ff2d=_0x585689,_0x2bb355=_0x1672b5[_0x3df33e],_0x139eb1=_0x2bb355[_0x52ff2d(0x4e9)],_0xcd1018=_0x2bb355[_0x52ff2d(0x268)],_0xd05bf6=_0xb37bd1[_0x52ff2d(0x81e)]||currentDisplayedQuiz[_0x52ff2d(0x2a5)];_0x24f817+=_0x52ff2d(0x388)+(_0xcd1018?_0x52ff2d(0x60f):_0x52ff2d(0x652))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x3df33e+0x1)+'.\x20'+(_0xb37bd1['stem']||_0xb37bd1[_0x52ff2d(0x2ea)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0xd05bf6){case _0x52ff2d(0x61a):const _0xaf13c4=_0x139eb1||_0x52ff2d(0x3b2),_0x121b68=_0xb37bd1[_0x52ff2d(0x3ab)];_0x24f817+=_0x52ff2d(0x62c)+(!_0xcd1018?_0x52ff2d(0x1f8):'')+'\x22>'+_0xaf13c4+_0x52ff2d(0x16c);!_0xcd1018&&(_0x24f817+=_0x52ff2d(0x690)+_0x121b68+'</p>');break;case _0x52ff2d(0x8b7):_0x24f817+=_0x52ff2d(0x283)+(_0x139eb1||_0x52ff2d(0x3b2))+'</p>',_0x24f817+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0xb37bd1[_0x52ff2d(0x602)]+_0x52ff2d(0x787);break;case'true_false':_0x24f817+='<p\x20class=\x22'+(_0xb37bd1['correctAnswer']===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x139eb1===_0x52ff2d(0x596)&&!_0xcd1018?_0x52ff2d(0x1f8):'')+_0x52ff2d(0x7d7),_0x24f817+=_0x52ff2d(0x4f7)+(_0xb37bd1[_0x52ff2d(0x25e)]===![]?_0x52ff2d(0x4d9):'')+'\x20'+(_0x139eb1==='false'&&!_0xcd1018?'line-through\x20text-red-700':'')+_0x52ff2d(0x1e7);break;default:_0x24f817+=_0xb37bd1[_0x52ff2d(0x510)][_0x52ff2d(0x4cd)]((_0x39349a,_0x230307)=>{const _0x5d27f9=_0x52ff2d;let _0x55064d='',_0x14362c='';if(_0x230307===_0xb37bd1[_0x5d27f9(0x1c0)])_0x55064d=_0x5d27f9(0x4d9),_0x14362c=_0x5d27f9(0x58d);else _0x230307===_0x139eb1&&(_0x55064d=_0x5d27f9(0x698),_0x14362c=_0x5d27f9(0x673));return _0x5d27f9(0x2ed)+_0x55064d+'\x22>'+_0x14362c+_0x39349a+_0x5d27f9(0x895);})[_0x52ff2d(0x58e)]('');break;}_0x24f817+=_0x52ff2d(0x4f8)+(_0xb37bd1[_0x52ff2d(0x618)]||_0x52ff2d(0x7ba))+_0x52ff2d(0x895);if(!_0xcd1018){const _0x2c59b6=_0xb37bd1[_0x52ff2d(0x4ce)]||_0xb37bd1[_0x52ff2d(0x2ea)];_0x24f817+=_0x52ff2d(0x568)+escape(_0x2c59b6)+_0x52ff2d(0x50d);}_0x24f817+='</div>';}),studentResultArea[_0x585689(0x498)]=_0x24f817,renderEarnedBadges(_0x9c895b,_0x585689(0x24c)),studentResultArea['classList'][_0x585689(0x773)](_0x585689(0x1f2)),studentQuizArea['classList'][_0x585689(0x43c)](_0x585689(0x1f2)),setupResultScreenBackButton({'isLooping':_0x5c4877,'score':_0x2c23b3,'totalQuestions':_0x1e5312,'showRankings':!![]});if(window['MathJax'])window['MathJax'][_0x585689(0x16a)]([studentResultArea]);}function displayResultsScoreOnly(_0x2ef987,_0x31db86,_0x34f3f5,_0x21f9c4){const _0x1d895f=_0x101354,_0x4f4902=_0x21f9c4>0x0?_0x2ef987/_0x21f9c4*0x64:0x0,_0x1587e6=currentDisplayedQuiz[_0x1d895f(0x56f)]?.[_0x1d895f(0x277)]??-0x1,_0x53e995=currentDisplayedQuiz[_0x1d895f(0x91b)]===!![];let _0x5612a1='';if(_0x53e995||_0x1587e6!==-0x1){let _0x3be42c=_0x53e995?_0x2ef987===_0x21f9c4:_0x2ef987>=_0x1587e6;const _0x2af249=_0x3be42c?_0x1d895f(0x44d):'bg-red-100\x20text-red-800',_0x5b47de=_0x3be42c?'ผ่าน':_0x1d895f(0x514);_0x5612a1=_0x1d895f(0x272)+_0x2af249+'\x22>'+_0x5b47de+'</p>';}let _0x260232=_0x1d895f(0x915)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x2ef987+_0x1d895f(0x5bc)+_0x21f9c4+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5612a1+_0x1d895f(0x637)+_0x31db86+_0x1d895f(0x891)+_0x4f4902['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x260232,renderEarnedBadges(_0x34f3f5,_0x1d895f(0x24c)),studentResultArea['classList'][_0x1d895f(0x773)](_0x1d895f(0x1f2)),studentQuizArea['classList']['add'](_0x1d895f(0x1f2)),setupResultScreenBackButton({'score':_0x2ef987,'totalQuestions':_0x21f9c4,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x1ae05f=_0x101354;let _0x4b98db='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x1ae05f(0x225);studentResultArea[_0x1ae05f(0x498)]=_0x4b98db,studentResultArea[_0x1ae05f(0x8f6)][_0x1ae05f(0x773)](_0x1ae05f(0x1f2)),studentQuizArea[_0x1ae05f(0x8f6)]['add']('hidden'),document[_0x1ae05f(0x187)](_0x1ae05f(0x5bd))[_0x1ae05f(0x57e)](_0x1ae05f(0x2a0),()=>{const _0x1d7a9f=_0x1ae05f;showView(_0x1d7a9f(0x5f6)),document[_0x1d7a9f(0x187)](_0x1d7a9f(0x662))['value']='';});}function renderEarnedBadges(_0x34593e,_0x44ba93){const _0x3ed4a2=_0x101354,_0x2357c5=document['getElementById'](_0x44ba93);if(!_0x2357c5||!_0x34593e||_0x34593e[_0x3ed4a2(0x6bd)]===0x0)return;let _0x12bcc4='';_0x34593e[_0x3ed4a2(0x35f)]((_0x19aafb,_0x2cf15a)=>{const _0xebc4fa=_0x3ed4a2,_0x435e52=Object[_0xebc4fa(0x804)](BADGES)[_0xebc4fa(0x691)](_0x55203d=>_0x55203d['id']===_0x19aafb);_0x435e52&&(_0x12bcc4+=_0xebc4fa(0x64d)+_0x2cf15a*0.2+'s;\x22\x20title=\x22'+_0x435e52['description']+_0xebc4fa(0x83f)+_0x435e52[_0xebc4fa(0x6f4)]+_0xebc4fa(0x8fe)+_0x435e52['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x2357c5[_0x3ed4a2(0x498)]=_0x12bcc4;}function startPresentation(_0x3b7853){const _0x1695d2=_0x101354;currentQuizData=getShuffledQuiz(_0x3b7853),currentPresentationSlide=0x0,presentationModal[_0x1695d2(0x50b)]['display']='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x3542c8=_0x101354;document[_0x3542c8(0x412)]&&document['exitFullscreen'](),presentationModal['style'][_0x3542c8(0x442)]=_0x3542c8(0x3aa);}function renderPresentationSlide(_0x4fc127){const _0x1ae5c2=_0x101354,_0x5d57fd=document[_0x1ae5c2(0x187)](_0x1ae5c2(0x56e));if(!currentQuizData||!currentQuizData[_0x1ae5c2(0x371)]||!currentQuizData[_0x1ae5c2(0x371)][_0x4fc127]){_0x5d57fd[_0x1ae5c2(0x498)]=_0x1ae5c2(0x56b);return;}const _0x83fe78=currentQuizData[_0x1ae5c2(0x371)][_0x4fc127],_0x24da54=_0x83fe78[_0x1ae5c2(0x81e)]||currentQuizData['quizType'];_0x5d57fd[_0x1ae5c2(0x498)]='';let _0x47b686='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x83fe78['imageCode']?_0x1ae5c2(0x164)+_0x83fe78[_0x1ae5c2(0x3cb)]+_0x1ae5c2(0x895):'')+_0x1ae5c2(0x19b)+(_0x4fc127+0x1)+'.\x20'+(_0x83fe78[_0x1ae5c2(0x4ce)]||_0x83fe78['questionText'])+_0x1ae5c2(0x3e7);switch(_0x24da54){case _0x1ae5c2(0x61a):_0x47b686+=_0x83fe78[_0x1ae5c2(0x156)][_0x1ae5c2(0x4cd)](_0xf600d3=>_0x1ae5c2(0x1f9)+_0xf600d3+_0x1ae5c2(0x58b))[_0x1ae5c2(0x58e)]('');break;case'true_false':_0x47b686+=_0x1ae5c2(0x904),_0x47b686+=_0x1ae5c2(0x584);break;case _0x1ae5c2(0x709):case _0x1ae5c2(0x8b7):_0x47b686+=_0x1ae5c2(0x732);break;case _0x1ae5c2(0x404):case _0x1ae5c2(0x89a):default:_0x47b686+=_0x83fe78[_0x1ae5c2(0x510)][_0x1ae5c2(0x4cd)]((_0x53c890,_0x11e4bc)=>_0x1ae5c2(0x84d)+_0x11e4bc+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x53c890+_0x1ae5c2(0x58b))[_0x1ae5c2(0x58e)]('');break;}_0x47b686+=_0x1ae5c2(0x204)+(_0x83fe78[_0x1ae5c2(0x618)]||_0x1ae5c2(0x7ba))+_0x1ae5c2(0x628),_0x5d57fd[_0x1ae5c2(0x498)]=_0x47b686;if(window[_0x1ae5c2(0x6c0)])window[_0x1ae5c2(0x6c0)]['typesetPromise']([_0x5d57fd]);document[_0x1ae5c2(0x7eb)]('.presentation-option')[_0x1ae5c2(0x35f)](_0x5ac97f=>{const _0x27180b=_0x1ae5c2;_0x5ac97f['addEventListener'](_0x27180b(0x2a0),_0x51a18=>revealAnswerForPresentation(_0x4fc127,_0x51a18[_0x27180b(0x725)]));});const _0x1f3cf2=document['getElementById'](_0x1ae5c2(0x7a6));_0x1f3cf2&&_0x1f3cf2[_0x1ae5c2(0x57e)](_0x1ae5c2(0x2a0),()=>checkShortAnswerForPresentation(_0x4fc127)),document[_0x1ae5c2(0x187)](_0x1ae5c2(0x21b))['textContent']=_0x1ae5c2(0x3b4)+(_0x4fc127+0x1)+_0x1ae5c2(0x910)+currentQuizData[_0x1ae5c2(0x371)][_0x1ae5c2(0x6bd)],document[_0x1ae5c2(0x187)](_0x1ae5c2(0x379))[_0x1ae5c2(0x8cc)]=_0x4fc127===0x0,document['getElementById'](_0x1ae5c2(0x840))[_0x1ae5c2(0x8cc)]=_0x4fc127===currentQuizData['questions'][_0x1ae5c2(0x6bd)]-0x1;}async function checkShortAnswerForPresentation(_0x303fcd){const _0x4556e3=_0x101354,_0x1ea031=currentQuizData[_0x4556e3(0x371)][_0x303fcd],_0xc5ea2b=document[_0x4556e3(0x187)]('presentation-short-answer-input'),_0xf32fef=document[_0x4556e3(0x187)](_0x4556e3(0x7a6)),_0x2942cb=document[_0x4556e3(0x187)](_0x4556e3(0x681)),_0x5155d5=document[_0x4556e3(0x187)]('presentation-explanation');if(!_0xc5ea2b||!_0xf32fef||!_0x2942cb||!_0x5155d5)return;const _0x1778dd=_0xc5ea2b[_0x4556e3(0x82c)][_0x4556e3(0x4b3)]();if(_0x1778dd==='')return;_0xf32fef[_0x4556e3(0x8cc)]=!![],_0xf32fef['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0xc5ea2b[_0x4556e3(0x8cc)]=!![];const _0xa0efe9=await gradeShortAnswer(_0x1778dd,_0x1ea031);_0xa0efe9?_0x2942cb[_0x4556e3(0x498)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x2942cb['innerHTML']=_0x4556e3(0x440)+_0x1ea031['idealAnswer']+')',_0x2942cb[_0x4556e3(0x8f6)]['remove'](_0x4556e3(0x1f2)),_0x5155d5[_0x4556e3(0x8f6)][_0x4556e3(0x773)](_0x4556e3(0x1f2)),_0xf32fef[_0x4556e3(0x8f6)][_0x4556e3(0x43c)]('hidden');}function revealAnswerForPresentation(_0x1b3326,_0x2fba15){const _0x3e3234=_0x101354,_0x1841c2=currentQuizData[_0x3e3234(0x371)][_0x1b3326],_0x108209=_0x1841c2['questionType']||currentQuizData[_0x3e3234(0x2a5)];document[_0x3e3234(0x7eb)](_0x3e3234(0x3a8))[_0x3e3234(0x35f)](_0x3b0e7f=>{const _0x2a4c0a=_0x3e3234;_0x3b0e7f['disabled']=!![],_0x3b0e7f[_0x2a4c0a(0x8f6)][_0x2a4c0a(0x773)]('hover:bg-indigo-100');let _0x48e5a2=![];if(_0x108209===_0x2a4c0a(0x89a)||_0x108209===_0x2a4c0a(0x404)){const _0x5bfd5e=parseInt(_0x3b0e7f[_0x2a4c0a(0x7ed)]['index']);_0x48e5a2=_0x5bfd5e===_0x1841c2[_0x2a4c0a(0x1c0)];}else{if(_0x108209===_0x2a4c0a(0x2f7)){const _0x4d0f2e=_0x3b0e7f[_0x2a4c0a(0x7ed)]['answer']===_0x2a4c0a(0x596);_0x48e5a2=_0x4d0f2e===_0x1841c2[_0x2a4c0a(0x25e)];}else _0x108209===_0x2a4c0a(0x61a)&&(_0x48e5a2=_0x3b0e7f['textContent'][_0x2a4c0a(0x4b3)]()===_0x1841c2[_0x2a4c0a(0x3ab)]);}_0x48e5a2?_0x3b0e7f[_0x2a4c0a(0x8f6)][_0x2a4c0a(0x43c)](_0x2a4c0a(0x1c1),'text-white',_0x2a4c0a(0x27d)):_0x3b0e7f[_0x2a4c0a(0x8f6)][_0x2a4c0a(0x43c)]('opacity-50');}),_0x2fba15[_0x3e3234(0x8f6)][_0x3e3234(0x773)]('opacity-50');let _0x2f0372=![];if(_0x108209===_0x3e3234(0x89a))_0x2f0372=parseInt(_0x2fba15['dataset']['index'])===_0x1841c2[_0x3e3234(0x1c0)];else{if(_0x108209==='true_false')_0x2f0372=_0x2fba15[_0x3e3234(0x7ed)][_0x3e3234(0x4e9)]==='true'===_0x1841c2[_0x3e3234(0x25e)];else _0x108209===_0x3e3234(0x61a)&&(_0x2f0372=_0x2fba15[_0x3e3234(0x8fd)][_0x3e3234(0x4b3)]()===_0x1841c2[_0x3e3234(0x3ab)]);}!_0x2f0372&&_0x2fba15[_0x3e3234(0x8f6)][_0x3e3234(0x43c)](_0x3e3234(0x8e7),'text-white',_0x3e3234(0x2dc)),document[_0x3e3234(0x187)](_0x3e3234(0x813))[_0x3e3234(0x8f6)][_0x3e3234(0x773)](_0x3e3234(0x1f2));}function startWholeQuizTimer(_0x3efec2){const _0x5d83ff=_0x101354,_0x3f83dd=document[_0x5d83ff(0x187)]('timer-container');if(!_0x3f83dd)return;const _0x3a6b1a=Date['now']()+_0x3efec2*0x3c*0x3e8;_0x3f83dd['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x2cfcaf=document['getElementById'](_0x5d83ff(0x43f));quizTimerInterval=setInterval(()=>{const _0x106cec=_0x5d83ff,_0x494efb=_0x3a6b1a-Date[_0x106cec(0x36e)]();if(_0x494efb<=0x0)clearInterval(quizTimerInterval),_0x2cfcaf[_0x106cec(0x8fd)]=_0x106cec(0x5f4),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x181b52=Math[_0x106cec(0x390)](_0x494efb/0x3e8/0x3c%0x3c)['toString']()[_0x106cec(0x7cd)](0x2,'0'),_0x4c1dbe=Math[_0x106cec(0x390)](_0x494efb/0x3e8%0x3c)['toString']()[_0x106cec(0x7cd)](0x2,'0');_0x2cfcaf[_0x106cec(0x8fd)]=_0x181b52+':'+_0x4c1dbe;}},0x3e8);}function renderPerQuestionView(){const _0x487ab6=_0x101354;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x53001d=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x3af189=_0x53001d[_0x487ab6(0x81e)]||currentDisplayedQuiz['quizType'];let _0x43c4c9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz['questions'][_0x487ab6(0x6bd)]+_0x487ab6(0x87e)+(currentMode==='admin-testing'?_0x487ab6(0x6b4):'')+_0x487ab6(0x544)+currentDisplayedQuiz['topic']+_0x487ab6(0x5fb)+(currentQuestionIndex===currentDisplayedQuiz[_0x487ab6(0x371)][_0x487ab6(0x6bd)]-0x1?_0x487ab6(0x7ce):_0x487ab6(0x1ca))+_0x487ab6(0x73c);studentQuizArea[_0x487ab6(0x498)]=_0x43c4c9;let _0x833592='',_0x4dd5f9='';switch(_0x3af189){case _0x487ab6(0x61a):_0x833592=currentQuestionIndex+0x1+'.\x20'+_0x53001d[_0x487ab6(0x4ce)],_0x4dd5f9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x53001d[_0x487ab6(0x156)][_0x487ab6(0x4cd)](_0x56c0a2=>_0x487ab6(0x20b)+_0x56c0a2+'\x22>'+_0x56c0a2+_0x487ab6(0x1e9))[_0x487ab6(0x58e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x487ab6(0x2f7):_0x833592=currentQuestionIndex+0x1+'.\x20'+_0x53001d['questionText'],_0x4dd5f9=_0x487ab6(0x1ef);break;case _0x487ab6(0x8b7):case _0x487ab6(0x709):_0x833592=currentQuestionIndex+0x1+'.\x20'+_0x53001d[_0x487ab6(0x2ea)],_0x4dd5f9='<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>';break;case _0x487ab6(0x89a):case _0x487ab6(0x4e2):default:_0x833592=currentQuestionIndex+0x1+'.\x20'+_0x53001d[_0x487ab6(0x2ea)],_0x4dd5f9=_0x53001d[_0x487ab6(0x510)][_0x487ab6(0x4cd)]((_0x4225fc,_0xac3eac)=>_0x487ab6(0x339)+_0xac3eac+_0x487ab6(0x485)+_0xac3eac+_0x487ab6(0x799)+_0xac3eac+'\x22>'+_0x4225fc+_0x487ab6(0x765))[_0x487ab6(0x58e)]('');break;}_0x53001d[_0x487ab6(0x3cb)]&&(_0x833592+=_0x487ab6(0x164)+_0x53001d[_0x487ab6(0x3cb)]+'</div>');document['getElementById'](_0x487ab6(0x4bf))[_0x487ab6(0x498)]=_0x833592,document[_0x487ab6(0x187)](_0x487ab6(0x3ce))[_0x487ab6(0x498)]=_0x4dd5f9;if(currentMode===_0x487ab6(0x85f)){const _0x3653f4=document[_0x487ab6(0x187)](_0x487ab6(0x3c3));if(_0x3653f4)_0x3653f4[_0x487ab6(0x57e)]('click',cancelAdminTest);}document['getElementById'](_0x487ab6(0x61e))['addEventListener']('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x487ab6(0x6c0)])window[_0x487ab6(0x6c0)][_0x487ab6(0x16a)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x2d336b=_0x101354,_0x455753=currentDisplayedQuiz['settings'][_0x2d336b(0x77a)],_0x777500=document[_0x2d336b(0x187)](_0x2d336b(0x611));if(!_0x777500)return;let _0x1a52ff=_0x455753;_0x777500[_0x2d336b(0x498)]=_0x2d336b(0x5a8)+_0x1a52ff+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0xbfbf1a=document[_0x2d336b(0x187)](_0x2d336b(0x795)),_0x1b6cfc=document[_0x2d336b(0x187)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x1a8a47=_0x2d336b;_0x1a52ff--;const _0x15a47e=_0x1a52ff/_0x455753*0x64;_0xbfbf1a[_0x1a8a47(0x50b)][_0x1a8a47(0x1f6)]=_0x15a47e+'%',_0x1b6cfc['textContent']=_0x1a52ff,_0x1a52ff<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x1a8a47(0x644)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x280709=![]){const _0x277fd9=_0x101354;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x2918bb=null;if(!_0x280709){const _0x325c15=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x1685c7=_0x325c15[_0x277fd9(0x81e)]||currentDisplayedQuiz[_0x277fd9(0x2a5)];if(_0x1685c7===_0x277fd9(0x8b7)||_0x1685c7===_0x277fd9(0x709)){const _0xca3942=document['querySelector'](_0x277fd9(0x89f));_0x2918bb=_0xca3942?_0xca3942['value'][_0x277fd9(0x4b3)]():'';}else{if(_0x1685c7===_0x277fd9(0x61a)){const _0x505e82=document[_0x277fd9(0x399)]('#per-question-options\x20select');_0x2918bb=_0x505e82?_0x505e82[_0x277fd9(0x82c)]:'';}else{const _0x12d14c=document[_0x277fd9(0x399)](_0x277fd9(0x23d));if(_0x12d14c){const _0x5d773d=_0x12d14c['value'];_0x2918bb=!isNaN(parseInt(_0x5d773d,0xa))&&_0x5d773d[_0x277fd9(0x4b3)]()!==''?parseInt(_0x5d773d,0xa):_0x5d773d;}}}}studentAnswersPerQuestion[_0x277fd9(0x36f)](_0x2918bb),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x277fd9(0x371)][_0x277fd9(0x6bd)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x1508a4=_0x101354,_0x1e8fcb=currentDisplayedQuiz['questions']['some'](_0x2e69fc=>_0x2e69fc[_0x1508a4(0x81e)]===_0x1508a4(0x8b7));_0x1e8fcb?showMessage(_0x1508a4(0x828)):showMessage(_0x1508a4(0x792));const _0x2f0add=currentQuizData['id'],_0x32afa4=doc(db,_0x1508a4(0x565)+appId+_0x1508a4(0x71b)+_0x2f0add+'/submissions',currentStudentName),_0x4bc1e1=await getDoc(_0x32afa4),_0x6a9bb9=_0x4bc1e1['exists']()?_0x4bc1e1[_0x1508a4(0x471)]():{},_0x2aef01=_0x6a9bb9[_0x1508a4(0x57c)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x2aef01);}function getResultsFilename(){const _0xbca919=_0x101354,_0x287e7f=document[_0xbca919(0x187)]('results-quiz-title')[_0xbca919(0x8fd)]['replace'](/[^a-z0-9]/gi,'_')[_0xbca919(0x802)]();return'results_'+(_0x287e7f||'quiz');}function exportResultsAsImage(){const _0x3c1ede=_0x101354,_0x47a0c1=document[_0x3c1ede(0x187)]('results-table-container');showMessage(_0x3c1ede(0x674)),html2canvas(_0x47a0c1)[_0x3c1ede(0x192)](_0x232a5d=>{const _0x2eb04b=_0x3c1ede,_0x5b32cb=document[_0x2eb04b(0x3a0)]('a');_0x5b32cb[_0x2eb04b(0x36d)]=getResultsFilename()+_0x2eb04b(0x46e),_0x5b32cb['href']=_0x232a5d[_0x2eb04b(0x66f)](_0x2eb04b(0x66d)),_0x5b32cb['click'](),messageModal[_0x2eb04b(0x8f6)][_0x2eb04b(0x43c)](_0x2eb04b(0x1f2));});}function _0x40e1(_0x22dd20,_0x53eef7){const _0x153585=_0x1535();return _0x40e1=function(_0x40e135,_0x1afbfa){_0x40e135=_0x40e135-0x153;let _0x518853=_0x153585[_0x40e135];return _0x518853;},_0x40e1(_0x22dd20,_0x53eef7);}function exportResultsAsPDF(){const _0xaa5f74=_0x101354,{jsPDF:_0x2e7d48}=window['jspdf'],_0x8094d2=new _0x2e7d48();_0x8094d2[_0xaa5f74(0x710)](_0xaa5f74(0x5bf),_0xaa5f74(0x654)),_0x8094d2[_0xaa5f74(0x837)]({'html':'#results-table'}),_0x8094d2['save'](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x58e5fe=_0x101354,_0x76edfb=_0x58e5fe(0x522)+_0x58e5fe(0x57a)+_0x58e5fe(0x1ff)+_0x58e5fe(0x5ad),_0x530bd5=_0x58e5fe(0x4c1),_0x5cba39=_0x76edfb+document[_0x58e5fe(0x187)]('results-table-container')[_0x58e5fe(0x498)]+_0x530bd5,_0x41e2ff=_0x58e5fe(0x46f)+encodeURIComponent(_0x5cba39),_0x172284=document[_0x58e5fe(0x3a0)]('a');document[_0x58e5fe(0x5e5)][_0x58e5fe(0x360)](_0x172284),_0x172284[_0x58e5fe(0x344)]=_0x41e2ff,_0x172284[_0x58e5fe(0x36d)]=getResultsFilename()+'.doc',_0x172284[_0x58e5fe(0x2a0)](),document[_0x58e5fe(0x5e5)][_0x58e5fe(0x353)](_0x172284);}function exportResultsAsExcel(){const _0x8318dc=_0x101354,_0x27f2a1=document[_0x8318dc(0x187)](_0x8318dc(0x7fc));let _0x24f148=[];for(let _0x4b1c1d=0x0;_0x4b1c1d<_0x27f2a1[_0x8318dc(0x818)][_0x8318dc(0x6bd)];_0x4b1c1d++){let _0x2bdb43=[],_0x480457=_0x27f2a1['rows'][_0x4b1c1d][_0x8318dc(0x7eb)](_0x8318dc(0x41f));for(let _0x49165e=0x0;_0x49165e<_0x480457[_0x8318dc(0x6bd)];_0x49165e++){_0x2bdb43['push']('\x22'+_0x480457[_0x49165e][_0x8318dc(0x68e)][_0x8318dc(0x83e)](/"/g,'\x22\x22')+'\x22');}_0x24f148[_0x8318dc(0x36f)](_0x2bdb43[_0x8318dc(0x58e)](','));}const _0x2cb279=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x24f148[_0x8318dc(0x58e)]('\x0a')],{'type':_0x8318dc(0x676)}),_0x599b44=document[_0x8318dc(0x3a0)]('a');_0x599b44['href']=URL[_0x8318dc(0x647)](_0x2cb279),_0x599b44[_0x8318dc(0x36d)]=getResultsFilename()+_0x8318dc(0x8b2),_0x599b44[_0x8318dc(0x2a0)]();}function exportTableAsImage(_0x25ac94,_0x600476){const _0x416c42=_0x101354,_0x2bcd4b=document[_0x416c42(0x187)](_0x25ac94);if(!_0x2bcd4b){showMessage(_0x416c42(0x48f));return;}showMessage(_0x416c42(0x674)),html2canvas(_0x2bcd4b)[_0x416c42(0x192)](_0x5ab1d0=>{const _0x27dc57=_0x416c42,_0xe7dd2d=document[_0x27dc57(0x3a0)]('a');_0xe7dd2d['download']=_0x600476+'.png',_0xe7dd2d[_0x27dc57(0x344)]=_0x5ab1d0[_0x27dc57(0x66f)](_0x27dc57(0x66d)),_0xe7dd2d['click'](),messageModal[_0x27dc57(0x8f6)][_0x27dc57(0x43c)](_0x27dc57(0x1f2));});}function exportTableAsPDF(_0x2c878a,_0x1791c2){const _0x12e6b1=_0x101354,{jsPDF:_0x4da978}=window[_0x12e6b1(0x598)],_0xee27a3=new _0x4da978();_0xee27a3[_0x12e6b1(0x710)](_0x12e6b1(0x5bf),_0x12e6b1(0x654)),_0xee27a3[_0x12e6b1(0x837)]({'html':'#'+_0x2c878a}),_0xee27a3[_0x12e6b1(0x183)](_0x1791c2+_0x12e6b1(0x801));}function exportTableAsWord(_0x108cbd,_0x3c2802){const _0xb5aecf=_0x101354,_0x1f6b0c=document[_0xb5aecf(0x187)](_0x108cbd);if(!_0x1f6b0c){showMessage(_0xb5aecf(0x48f));return;}const _0x563566=_0xb5aecf(0x522)+_0xb5aecf(0x57a)+_0xb5aecf(0x1ff)+_0xb5aecf(0x5ad),_0x10bfc2=_0xb5aecf(0x4c1),_0x4a2e6d=_0x563566+_0x1f6b0c[_0xb5aecf(0x498)]+_0x10bfc2,_0x408623=_0xb5aecf(0x46f)+encodeURIComponent(_0x4a2e6d),_0xec41d3=document['createElement']('a');document[_0xb5aecf(0x5e5)][_0xb5aecf(0x360)](_0xec41d3),_0xec41d3['href']=_0x408623,_0xec41d3['download']=_0x3c2802+_0xb5aecf(0x74a),_0xec41d3['click'](),document[_0xb5aecf(0x5e5)][_0xb5aecf(0x353)](_0xec41d3);}function exportTableAsExcel(_0x2622c0,_0x3813ff){const _0x1d4fbf=_0x101354,_0xd5c8c7=document[_0x1d4fbf(0x187)](_0x2622c0);if(!_0xd5c8c7){showMessage(_0x1d4fbf(0x48f));return;}let _0x49c276=[];for(let _0x52962c=0x0;_0x52962c<_0xd5c8c7[_0x1d4fbf(0x818)][_0x1d4fbf(0x6bd)];_0x52962c++){let _0x323fbb=[],_0x323068=_0xd5c8c7['rows'][_0x52962c][_0x1d4fbf(0x7eb)]('td,\x20th');for(let _0xd37bd1=0x0;_0xd37bd1<_0x323068[_0x1d4fbf(0x6bd)];_0xd37bd1++){_0x323fbb[_0x1d4fbf(0x36f)]('\x22'+_0x323068[_0xd37bd1]['innerText'][_0x1d4fbf(0x83e)](/"/g,'\x22\x22')+'\x22');}_0x49c276['push'](_0x323fbb[_0x1d4fbf(0x58e)](','));}const _0x327c3c=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x49c276[_0x1d4fbf(0x58e)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0xa3b9d=document[_0x1d4fbf(0x3a0)]('a');_0xa3b9d['href']=URL[_0x1d4fbf(0x647)](_0x327c3c),_0xa3b9d['download']=_0x3813ff+'.csv',_0xa3b9d[_0x1d4fbf(0x2a0)]();}function renderAnalytics(_0x15f66b,_0x205587){const _0xcd445b=_0x101354,_0x33a0bb=currentProjectData[_0xcd445b(0x624)][_0xcd445b(0x6bd)],_0x2ec614=_0x205587[_0xcd445b(0x6bd)],_0x2ffe93=_0x33a0bb-_0x2ec614,_0x5515c7=_0x33a0bb>0x0?_0x2ec614/_0x33a0bb*0x64:0x0,_0x1fc832=_0x205587[_0xcd445b(0x4cd)](_0x37ae9f=>_0x37ae9f[_0xcd445b(0x1e4)]),_0x5877f3=_0x1fc832[_0xcd445b(0x6bd)]>0x0?_0x1fc832[_0xcd445b(0x5fa)]((_0x502502,_0x210013)=>_0x502502+_0x210013,0x0)/_0x1fc832[_0xcd445b(0x6bd)]:0x0,_0xabbe11=_0x15f66b['questions'][_0xcd445b(0x6bd)],_0x46febf=_0xabbe11>0x0?_0x5877f3/_0xabbe11*0x64:0x0,_0x4f75c1=calculateItemAnalysis(_0x15f66b,_0x205587),_0x5f2233=calculateReliabilityKR20(_0x15f66b,_0x205587,_0x4f75c1[_0xcd445b(0x8c7)]);let _0x185374='';if(_0x5f2233!==null){let _0x31836a='';if(_0x5f2233>=0.9)_0x31836a=_0xcd445b(0x811);else{if(_0x5f2233>=0.8)_0x31836a=_0xcd445b(0x417);else{if(_0x5f2233>=0.7)_0x31836a='ดี';else{if(_0x5f2233>=0.6)_0x31836a=_0xcd445b(0x4cf);else _0x31836a=_0xcd445b(0x22c);}}}_0x185374='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x5f2233[_0xcd445b(0x383)](0x2)+_0xcd445b(0x5c9)+_0x31836a+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x5bb13d=document[_0xcd445b(0x187)](_0xcd445b(0x219));_0x5bb13d[_0xcd445b(0x498)]=_0xcd445b(0x715)+_0x5515c7[_0xcd445b(0x383)](0x0)+_0xcd445b(0x539)+_0x2ec614+'/'+_0x33a0bb+_0xcd445b(0x546)+_0x5877f3[_0xcd445b(0x383)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x46febf['toFixed'](0x0)+_0xcd445b(0x41e)+(_0x1fc832[_0xcd445b(0x6bd)]>0x0?Math[_0xcd445b(0x481)](..._0x1fc832):_0xcd445b(0x714))+_0xcd445b(0x8a4)+(_0x1fc832[_0xcd445b(0x6bd)]>0x0?Math['min'](..._0x1fc832):_0xcd445b(0x714))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x185374+'\x0a\x20\x20\x20\x20';const _0x4adcb0=document[_0xcd445b(0x187)](_0xcd445b(0x619));_0x4adcb0&&_0x4adcb0[_0xcd445b(0x773)]();const _0x5687e1=_0xcd445b(0x1b9);_0x5bb13d[_0xcd445b(0x180)](_0xcd445b(0x59e),_0x5687e1);const _0x1d576c=currentProjectData[_0xcd445b(0x624)]||[];renderSubmissionChart(_0x2ec614,_0x2ffe93,_0x205587,_0x1d576c),renderScoreDistributionChart(_0x205587,_0xabbe11),renderQuestionAnalytics(_0x15f66b,_0x205587,_0x1d576c),renderInterestingStats(_0x15f66b,_0x205587);}async function handleExportLessonPDF(){const _0x50a70a=_0x101354,_0x187753=document['getElementById'](_0x50a70a(0x467)),_0x5ea913=document['getElementById'](_0x50a70a(0x1eb))[_0x50a70a(0x8fd)],_0x5c8cdd=window['open']('',_0x50a70a(0x537)),_0x76f755=_0x50a70a(0x19c)+_0x5ea913+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x187753['innerHTML']+_0x50a70a(0x18e);_0x5c8cdd[_0x50a70a(0x53d)][_0x50a70a(0x7e2)](_0x76f755),_0x5c8cdd[_0x50a70a(0x53d)][_0x50a70a(0x7fd)](),_0x5c8cdd[_0x50a70a(0x55e)]=function(){setTimeout(()=>{const _0x2cc714=_0x40e1;_0x5c8cdd[_0x2cc714(0x27e)]();},0x5dc);};}function renderInterestingStats(_0x45097c,_0x4f0773){const _0x633c1d=_0x101354,_0x5d4eba=document['getElementById'](_0x633c1d(0x7b7));if(!_0x5d4eba)return;if(_0x4f0773[_0x633c1d(0x6bd)]===0x0){_0x5d4eba[_0x633c1d(0x498)]=_0x633c1d(0x8e3);return;}const _0x31dca6=_0x45097c['questions']['map']((_0xc4604b,_0x9a477d)=>({'index':_0x9a477d+0x1,'text':_0xc4604b['questionText']||_0xc4604b['stem'],'correct':0x0}));_0x4f0773[_0x633c1d(0x35f)](_0x1fc4fb=>{const _0x11d4ce=_0x633c1d,_0xb4b5a3=_0x1fc4fb[_0x11d4ce(0x57c)][_0x1fc4fb[_0x11d4ce(0x57c)][_0x11d4ce(0x6bd)]-0x1];_0xb4b5a3&&_0xb4b5a3[_0x11d4ce(0x564)]&&_0xb4b5a3[_0x11d4ce(0x564)][_0x11d4ce(0x35f)](_0x574e68=>{const _0x1b8525=_0x11d4ce,_0x394dd4=_0x31dca6[_0x1b8525(0x691)](_0x3c59e3=>_0x3c59e3[_0x1b8525(0x4d1)]===_0x574e68[_0x1b8525(0x60c)]);_0x574e68[_0x1b8525(0x268)]&&_0x394dd4&&_0x394dd4[_0x1b8525(0x6c2)]++;});});const _0x208da0=_0x4f0773['length'],_0x2e5e25=Math[_0x633c1d(0x481)](..._0x31dca6[_0x633c1d(0x4cd)](_0x2ad252=>_0x2ad252[_0x633c1d(0x6c2)])),_0x2045af=Math[_0x633c1d(0x5ef)](..._0x31dca6[_0x633c1d(0x4cd)](_0x52ffd1=>_0x52ffd1[_0x633c1d(0x6c2)])),_0x4b826a=_0x31dca6[_0x633c1d(0x604)](_0xec59de=>_0xec59de[_0x633c1d(0x6c2)]===_0x2e5e25)[_0x633c1d(0x4cd)](_0x14b3c4=>_0x633c1d(0x551)+_0x14b3c4[_0x633c1d(0x561)]),_0x2becd7=_0x31dca6[_0x633c1d(0x604)](_0x322c3b=>_0x322c3b[_0x633c1d(0x6c2)]===_0x2045af)[_0x633c1d(0x4cd)](_0x1450bf=>_0x633c1d(0x551)+_0x1450bf[_0x633c1d(0x561)]),_0x142172=_0x4f0773['sort']((_0xa16242,_0x27aa87)=>_0x27aa87['latestScore']-_0xa16242[_0x633c1d(0x1e4)])[_0x633c1d(0x604)]((_0x5c28c1,_0x4c6eb5,_0x19f5c4)=>_0x5c28c1[_0x633c1d(0x1e4)]===_0x19f5c4[0x0][_0x633c1d(0x1e4)]),_0x57561e=_0x4f0773[_0x633c1d(0x631)]((_0x3706e2,_0x3df37b)=>_0x3706e2[_0x633c1d(0x1e4)]-_0x3df37b[_0x633c1d(0x1e4)])[_0x633c1d(0x604)]((_0x187bc2,_0x57d7b2,_0x321e23)=>_0x187bc2[_0x633c1d(0x1e4)]===_0x321e23[0x0][_0x633c1d(0x1e4)]),_0x4b3101=_0x633c1d(0x175)+_0x4b826a['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x2e5e25+_0x633c1d(0x910)+_0x208da0+_0x633c1d(0x3b0)+_0x2becd7[_0x633c1d(0x58e)](',\x20')+_0x633c1d(0x8ff)+(_0x208da0-_0x2045af)+_0x633c1d(0x910)+_0x208da0+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x142172[_0x633c1d(0x4cd)](_0x23a19b=>_0x23a19b[_0x633c1d(0x386)])[_0x633c1d(0x58e)](',\x20')+_0x633c1d(0x711)+_0x142172[0x0]['latestScore']+_0x633c1d(0x271)+_0x57561e[_0x633c1d(0x4cd)](_0x67c2c0=>_0x67c2c0[_0x633c1d(0x386)])[_0x633c1d(0x58e)](',\x20')+_0x633c1d(0x711)+_0x57561e[0x0][_0x633c1d(0x1e4)]+_0x633c1d(0x4b4);_0x5d4eba[_0x633c1d(0x498)]=_0x4b3101;}function renderSubmissionChart(_0x394d34,_0x13e384,_0x628f23,_0x5631f5){const _0x40d2f9=_0x101354,_0x1bd1bb=document[_0x40d2f9(0x187)](_0x40d2f9(0x8c4))[_0x40d2f9(0x448)]('2d'),_0x35c859=_0x628f23['map'](_0x365372=>_0x365372[_0x40d2f9(0x386)]),_0x3699f4=_0x5631f5[_0x40d2f9(0x604)](_0x16aebe=>!_0x35c859['includes'](_0x16aebe));chartInstances['submission']&&chartInstances[_0x40d2f9(0x5cb)][_0x40d2f9(0x8d2)](),chartInstances[_0x40d2f9(0x5cb)]=new Chart(_0x1bd1bb,{'type':_0x40d2f9(0x649),'data':{'labels':[_0x40d2f9(0x1cc),_0x40d2f9(0x4b8)],'datasets':[{'data':[_0x394d34,_0x13e384],'backgroundColor':['#10B981',_0x40d2f9(0x896)],'borderColor':[_0x40d2f9(0x463),_0x40d2f9(0x463)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x40d2f9(0x21d)},'tooltip':{'callbacks':{'label':function(_0xb73e5d){const _0xd0f16e=_0x40d2f9;let _0x1c75a6=_0xb73e5d[_0xd0f16e(0x75d)]||'';return _0x1c75a6&&(_0x1c75a6+=':\x20'),_0x1c75a6+=_0xb73e5d[_0xd0f16e(0x26b)],_0x1c75a6;},'afterLabel':function(_0x141c1a){const _0x26cb02=_0x40d2f9;let _0x3d5c59;return _0x141c1a[_0x26cb02(0x4db)]===0x0?_0x3d5c59=_0x35c859:_0x3d5c59=_0x3699f4,_0x3d5c59[_0x26cb02(0x6bd)]>0x0?_0x3d5c59[_0x26cb02(0x58e)]('\x0a'):_0x26cb02(0x210);}}}}}});}function renderScoreDistributionChart(_0x1cf5b3,_0x553aff){const _0x1b0295=_0x101354,_0x5091b2=document[_0x1b0295(0x187)](_0x1b0295(0x6f3))[_0x1b0295(0x448)]('2d'),_0x20bcbf={};for(let _0x2b8060=0x0;_0x2b8060<=_0x553aff;_0x2b8060++){_0x20bcbf[_0x2b8060]=0x0;}_0x1cf5b3[_0x1b0295(0x35f)](_0x46b3c1=>{const _0x47b0a4=_0x1b0295;_0x20bcbf[_0x46b3c1[_0x47b0a4(0x1e4)]]!==undefined&&_0x20bcbf[_0x46b3c1[_0x47b0a4(0x1e4)]]++;}),chartInstances[_0x1b0295(0x5c0)]&&chartInstances[_0x1b0295(0x5c0)][_0x1b0295(0x8d2)](),chartInstances[_0x1b0295(0x5c0)]=new Chart(_0x5091b2,{'type':'bar','data':{'labels':Object[_0x1b0295(0x5ba)](_0x20bcbf),'datasets':[{'label':'จำนวนนักเรียน','data':Object['values'](_0x20bcbf),'backgroundColor':_0x1b0295(0x31b),'borderColor':_0x1b0295(0x8a0),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x1b0295(0x506)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x4df16b){const _0x4bb86f=_0x1b0295,_0x437120=_0x4df16b[_0x4bb86f(0x75d)],_0x6e65e2=_0x1cf5b3[_0x4bb86f(0x604)](_0x3f79f1=>_0x3f79f1[_0x4bb86f(0x1e4)]==_0x437120)['map'](_0x2df7eb=>_0x2df7eb[_0x4bb86f(0x386)]);return _0x6e65e2[_0x4bb86f(0x6bd)]>0x0?_0x6e65e2[_0x4bb86f(0x58e)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x2a11ae,_0x46c09f,_0x419d58){const _0x1e53be=_0x101354,_0xf1c02e=document[_0x1e53be(0x187)](_0x1e53be(0x73b));if(_0x419d58['length']===0x0){_0xf1c02e[_0x1e53be(0x498)]=_0x1e53be(0x67b);return;}const _0xd2ff9c=calculateItemAnalysis(_0x2a11ae,_0x46c09f),_0x961cc6=calculateDistractorAnalysis(_0x2a11ae,_0x46c09f);let _0xb63dc2='';_0xd2ff9c['overallGroups']&&(_0xb63dc2=_0x1e53be(0x2ce)+_0xd2ff9c[_0x1e53be(0x289)]['upperGroupNames'][_0x1e53be(0x6bd)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd2ff9c['overallGroups'][_0x1e53be(0x8d0)]['map'](_0x2124b5=>_0x1e53be(0x1ad)+_0x2124b5+_0x1e53be(0x3af))['join']('')+_0x1e53be(0x40e)+_0xd2ff9c[_0x1e53be(0x289)][_0x1e53be(0x368)][_0x1e53be(0x6bd)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd2ff9c['overallGroups'][_0x1e53be(0x368)]['map'](_0x5ba056=>_0x1e53be(0x1ad)+_0x5ba056+'</li>')[_0x1e53be(0x58e)]('')+_0x1e53be(0x60a));let _0x3ac95a='';const _0x3cd754=_0x46c09f['map'](_0x5a848c=>_0x5a848c['studentName']),_0x25a27a=_0x3978d3=>{const _0x2d67f5=_0x1e53be;if(_0x3978d3>=0.8)return _0x2d67f5(0x68f);if(_0x3978d3>=0.6)return _0x2d67f5(0x8ec);if(_0x3978d3>=0.4)return _0x2d67f5(0x45a);if(_0x3978d3>=0.2)return _0x2d67f5(0x2e2);return _0x2d67f5(0x8d9);},_0x460cba=_0x5a48ee=>{const _0xc5202e=_0x1e53be;if(_0x5a48ee<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x5a48ee>=0.4)return _0xc5202e(0x8a8);if(_0x5a48ee>=0.3)return _0xc5202e(0x41a);if(_0x5a48ee>=0.2)return _0xc5202e(0x6a6);return _0xc5202e(0x2a4);},_0x823d78=_0x238e78=>{const _0x4941ee=_0x1e53be,_0x1c6bc4=_0x238e78[_0x4941ee(0x383)](0x0);if(parseFloat(_0x1c6bc4)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x1c6bc4+'%</span>';if(_0x238e78>=0x32)return _0x4941ee(0x1a5)+_0x1c6bc4+_0x4941ee(0x90a);return _0x4941ee(0x5f8)+_0x1c6bc4+'%</span>';};_0x2a11ae['questions']['forEach']((_0x2d0bb0,_0x434509)=>{const _0x32b1c1=_0x1e53be,_0x8213c7=_0xd2ff9c[_0x32b1c1(0x8c7)][_0x434509],_0x1f5407=_0x961cc6[_0x434509],_0x5142b6=_0x2d0bb0[_0x32b1c1(0x4ce)]||_0x2d0bb0[_0x32b1c1(0x2ea)]||_0x2d0bb0[_0x32b1c1(0x39a)];let _0x50773c=0x0;const _0x435b1a=[],_0x10d78b=[];_0x46c09f[_0x32b1c1(0x35f)](_0x27e140=>{const _0x2a51e2=_0x32b1c1,_0x43a57d=_0x27e140['attempts'][_0x27e140[_0x2a51e2(0x57c)][_0x2a51e2(0x6bd)]-0x1];if(_0x43a57d&&_0x43a57d[_0x2a51e2(0x564)]){const _0x299e83=_0x43a57d[_0x2a51e2(0x564)]['find'](_0x5571d2=>_0x5571d2[_0x2a51e2(0x60c)]===_0x5142b6)??_0x43a57d[_0x2a51e2(0x564)][_0x434509]??null;_0x299e83&&(_0x299e83[_0x2a51e2(0x268)]?(_0x50773c++,_0x435b1a[_0x2a51e2(0x36f)](_0x27e140[_0x2a51e2(0x386)])):_0x10d78b[_0x2a51e2(0x36f)](_0x27e140[_0x2a51e2(0x386)]));}});const _0x25b0fe=_0x46c09f[_0x32b1c1(0x6bd)]>0x0?_0x50773c/_0x46c09f[_0x32b1c1(0x6bd)]*0x64:0x0,_0x282f4f=_0x419d58[_0x32b1c1(0x604)](_0x4ffc8c=>!_0x3cd754[_0x32b1c1(0x7f8)](_0x4ffc8c)),_0x5bb25b=_0x8213c7?_0x32b1c1(0x782)+_0x8213c7['p'][_0x32b1c1(0x383)](0x2)+'</p><div>'+_0x25a27a(_0x8213c7['p'])+_0x32b1c1(0x5a1)+_0x8213c7['r'][_0x32b1c1(0x383)](0x2)+_0x32b1c1(0x1ac)+_0x460cba(_0x8213c7['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x823d78(_0x25b0fe)+_0x32b1c1(0x824):'';let _0x370c95='';_0x1f5407&&(_0x370c95=_0x32b1c1(0x246)+Object[_0x32b1c1(0x5ba)](_0x1f5407)[_0x32b1c1(0x4cd)](_0x499c54=>{const _0x199518=_0x32b1c1,_0x35a3e7=_0x1f5407[_0x499c54],_0x4613a0=parseInt(_0x499c54)===_0x2d0bb0[_0x199518(0x1c0)],_0x171538=!_0x4613a0&&_0x35a3e7['lower_group_count']>_0x35a3e7[_0x199518(0x51f)];return _0x199518(0x5cf)+(_0x4613a0?_0x199518(0x839):'')+_0x199518(0x332)+(_0x4613a0?'✔\x20':'')+_0x35a3e7[_0x199518(0x4d1)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x35a3e7[_0x199518(0x51f)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x35a3e7[_0x199518(0x83b)]+'\x20'+(_0x171538?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x35a3e7[_0x199518(0x4a0)]+_0x199518(0x2ee);})['join']('')+_0x32b1c1(0x8f8));let _0xf8f11='';_0x8213c7&&_0x8213c7['upperGroupResponders']&&(_0xf8f11=_0x32b1c1(0x27a)+_0x8213c7['upperGroupResponders']['length']+_0x32b1c1(0x2c0)+_0x8213c7[_0x32b1c1(0x67f)][_0x32b1c1(0x4cd)](_0x4bfa4f=>_0x32b1c1(0x1ad)+(_0x4bfa4f['isCorrect']?_0x32b1c1(0x4b0):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x4bfa4f[_0x32b1c1(0x67d)]+_0x32b1c1(0x3af))[_0x32b1c1(0x58e)]('')+_0x32b1c1(0x354)+_0x8213c7[_0x32b1c1(0x8b8)][_0x32b1c1(0x6bd)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x8213c7['lowerGroupResponders'][_0x32b1c1(0x4cd)](_0x58da46=>_0x32b1c1(0x1ad)+(_0x58da46[_0x32b1c1(0x268)]?_0x32b1c1(0x4b0):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x58da46[_0x32b1c1(0x67d)]+'</li>')[_0x32b1c1(0x58e)]('')+_0x32b1c1(0x34d)),_0x3ac95a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x434509+0x1)+':\x20'+_0x5142b6+_0x32b1c1(0x7e1)+_0x5bb25b+_0x32b1c1(0x179)+_0x5142b6+_0x32b1c1(0x86e)+_0x50773c+_0x32b1c1(0x89c)+_0x46c09f[_0x32b1c1(0x6bd)]+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x25b0fe['toFixed'](0x0)+_0x32b1c1(0x1d9)+_0x435b1a[_0x32b1c1(0x6bd)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x435b1a[_0x32b1c1(0x6bd)]>0x0?_0x435b1a[_0x32b1c1(0x58e)](',\x20'):_0x32b1c1(0x210))+_0x32b1c1(0x155)+_0x10d78b['length']+_0x32b1c1(0x486)+(_0x10d78b[_0x32b1c1(0x6bd)]>0x0?_0x10d78b['join'](',\x20'):'ไม่มี')+_0x32b1c1(0x4b1)+_0x282f4f['length']+_0x32b1c1(0x486)+(_0x282f4f[_0x32b1c1(0x6bd)]>0x0?_0x282f4f[_0x32b1c1(0x58e)](',\x20'):'ไม่มี')+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x370c95+_0x32b1c1(0x52b)+_0xf8f11+_0x32b1c1(0x35e);}),_0xf1c02e[_0x1e53be(0x498)]=_0xb63dc2+_0x3ac95a;try{window[_0x1e53be(0x6c0)]&&MathJax[_0x1e53be(0x16a)]&&MathJax[_0x1e53be(0x16a)]([_0xf1c02e]);}catch(_0x4c85be){console[_0x1e53be(0x2eb)](_0x1e53be(0x318),_0x4c85be);}}function calculateDistractorAnalysis(_0x1104ed,_0x1a70cd){const _0x368425=_0x101354,_0x28a389={};if(_0x1a70cd[_0x368425(0x6bd)]<0x2)return _0x28a389;const _0x44e327=[..._0x1a70cd][_0x368425(0x631)]((_0x593cf6,_0x477386)=>{const _0x265948=_0x368425,_0x5ab189=_0x477386['latestScore']-_0x593cf6[_0x265948(0x1e4)];if(_0x5ab189!==0x0)return _0x5ab189;const _0x4ebfcc=_0x593cf6[_0x265948(0x57c)]?.[_0x265948(0x6bd)]||0x1,_0x1984ba=_0x477386[_0x265948(0x57c)]?.[_0x265948(0x6bd)]||0x1,_0xd9b3e0=_0x4ebfcc-_0x1984ba;if(_0xd9b3e0!==0x0)return _0xd9b3e0;const _0x37ec51=new Date(_0x593cf6[_0x265948(0x54e)]),_0x1ace3c=new Date(_0x477386[_0x265948(0x54e)]),_0x533f8d=_0x37ec51-_0x1ace3c;if(_0x533f8d!==0x0)return _0x533f8d;return _0x593cf6[_0x265948(0x386)][_0x265948(0x53a)](_0x477386['studentName'],'th');}),_0x5f39f0=_0x44e327[_0x368425(0x6bd)],_0x4d9283=Math[_0x368425(0x481)](0x1,Math[_0x368425(0x390)](_0x5f39f0*0.33)),_0x1a5671=_0x44e327[_0x368425(0x4d6)](0x0,_0x4d9283),_0x49278c=_0x44e327[_0x368425(0x4d6)](-_0x4d9283);return _0x1104ed[_0x368425(0x371)][_0x368425(0x35f)]((_0x134907,_0x427730)=>{const _0x588018=_0x368425;if(_0x134907[_0x588018(0x81e)]!==_0x588018(0x89a)||!_0x134907[_0x588018(0x510)])return;const _0xbbdf68=_0x134907['questionText'],_0x5cfc73={};_0x134907[_0x588018(0x510)][_0x588018(0x35f)]((_0x449eb6,_0xa09b96)=>{_0x5cfc73[_0xa09b96]={'text':_0x449eb6,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x44e327['forEach'](_0x2128a4=>{const _0x183689=_0x588018,_0x404b37=_0x2128a4['attempts'][_0x2128a4[_0x183689(0x57c)]['length']-0x1],_0x413244=_0x404b37[_0x183689(0x564)]['find'](_0x50aebe=>_0x50aebe['originalQuestionText']===_0xbbdf68);if(_0x413244&&_0x413244[_0x183689(0x4e9)]!==null){const _0x3d9aa9=_0x134907[_0x183689(0x510)]['findIndex'](_0xa73658=>_0xa73658===_0x413244[_0x183689(0x159)]);_0x3d9aa9!==-0x1&&_0x5cfc73[_0x3d9aa9]&&(_0x5cfc73[_0x3d9aa9][_0x183689(0x4a0)]++,_0x1a5671[_0x183689(0x7f8)](_0x2128a4)&&_0x5cfc73[_0x3d9aa9][_0x183689(0x51f)]++,_0x49278c['includes'](_0x2128a4)&&_0x5cfc73[_0x3d9aa9]['lower_group_count']++);}}),_0x28a389[_0x427730]=_0x5cfc73;}),_0x28a389;}function calculateReliabilityKR20(_0x3f8e1c,_0x26c5fb,_0x41119e){const _0x41d8b2=_0x101354,_0x457eea=_0x3f8e1c[_0x41d8b2(0x371)][_0x41d8b2(0x6bd)];if(_0x457eea<0x2||_0x26c5fb['length']<0x2)return null;const _0x1fe0f3=_0x26c5fb[_0x41d8b2(0x4cd)](_0x3907ab=>_0x3907ab[_0x41d8b2(0x1e4)]),_0x380710=_0x1fe0f3[_0x41d8b2(0x5fa)]((_0x40e496,_0x2f1cec)=>_0x40e496+_0x2f1cec,0x0)/_0x1fe0f3[_0x41d8b2(0x6bd)],_0x5e1216=_0x1fe0f3[_0x41d8b2(0x4cd)](_0x21442e=>Math[_0x41d8b2(0x161)](_0x21442e-_0x380710,0x2))[_0x41d8b2(0x5fa)]((_0x5c4378,_0x17ec31)=>_0x5c4378+_0x17ec31,0x0)/_0x1fe0f3[_0x41d8b2(0x6bd)];if(_0x5e1216===0x0)return null;let _0x42ff13=0x0;for(let _0x4d2a1c=0x0;_0x4d2a1c<_0x457eea;_0x4d2a1c++){const _0x22f703=_0x41119e[_0x4d2a1c]?.['p'];if(_0x22f703===undefined)continue;const _0x313783=0x1-_0x22f703;_0x42ff13+=_0x22f703*_0x313783;}if(_0x42ff13===0x0)return null;const _0x5a9a5b=_0x457eea/(_0x457eea-0x1)*(0x1-_0x42ff13/_0x5e1216);if(_0x5a9a5b>0x1)return null;return _0x5a9a5b;}async function handleAnalyzeClass(){const _0x1f8c72=_0x101354;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x182fa2=collection(db,_0x1f8c72(0x565)+appId+_0x1f8c72(0x71b)+currentQuizData['id']+_0x1f8c72(0x8e0)),_0x25de5f=await getDocs(_0x182fa2),_0x5074e1=_0x25de5f[_0x1f8c72(0x8a1)][_0x1f8c72(0x4cd)](_0x2b9a44=>_0x2b9a44['data']());if(_0x5074e1[_0x1f8c72(0x6bd)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x482bd0=document[_0x1f8c72(0x187)](_0x1f8c72(0x20c));_0x482bd0['innerHTML']=_0x1f8c72(0x1e2),document[_0x1f8c72(0x187)](_0x1f8c72(0x2a9))[_0x1f8c72(0x8cc)]=!![];const _0x4fd66f=_0x5074e1['map']((_0x38b159,_0x4ffd24)=>{const _0x347cec=_0x1f8c72,_0x14da35=_0x38b159[_0x347cec(0x57c)][_0x38b159[_0x347cec(0x57c)][_0x347cec(0x6bd)]-0x1];if(!_0x14da35)return'';return _0x347cec(0x2fa)+(_0x4ffd24+0x1)+'\x20('+_0x38b159[_0x347cec(0x386)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x14da35[_0x347cec(0x5c0)]+'/'+_0x38b159[_0x347cec(0x918)]+_0x347cec(0x66c)+JSON['stringify'](_0x14da35[_0x347cec(0x564)])+_0x347cec(0x683);})[_0x1f8c72(0x58e)](_0x1f8c72(0x413)),_0x436a1c=_0x1f8c72(0x5e2)+currentQuizData[_0x1f8c72(0x3ef)]+_0x1f8c72(0x88b)+JSON[_0x1f8c72(0x909)](currentQuizData[_0x1f8c72(0x371)])+_0x1f8c72(0x6da)+_0x4fd66f+_0x1f8c72(0x1b2),_0x172c39={'type':_0x1f8c72(0x1bc),'properties':{'classStrengths':{'type':_0x1f8c72(0x61f),'items':{'type':'STRING'}},'classWeaknesses':{'type':_0x1f8c72(0x61f),'items':{'type':_0x1f8c72(0x4ea)}},'teacherSuggestions':{'type':_0x1f8c72(0x61f),'items':{'type':_0x1f8c72(0x4ea)}}},'required':[_0x1f8c72(0x733),'classWeaknesses',_0x1f8c72(0x6fc)]};try{const _0x37916d=await callAnalysisApi(_0x436a1c,_0x172c39);displayClassAnalysis(_0x37916d);}catch(_0x235c48){console[_0x1f8c72(0x2eb)](_0x1f8c72(0x8bb),_0x235c48),_0x482bd0[_0x1f8c72(0x498)]=_0x1f8c72(0x5de)+_0x235c48[_0x1f8c72(0x8b1)]+'</p></div>';}finally{document['getElementById'](_0x1f8c72(0x2a9))[_0x1f8c72(0x8cc)]=![];}}function displayClassAnalysis(_0x4d483e){const _0x40a01c=_0x101354,_0x571e79=document[_0x40a01c(0x187)]('strength-weakness-analysis-container');if(!_0x4d483e){_0x571e79[_0x40a01c(0x498)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x571e79[_0x40a01c(0x498)]=_0x40a01c(0x8ef)+_0x4d483e[_0x40a01c(0x733)]['map'](_0x1f440e=>_0x40a01c(0x1ad)+_0x1f440e+_0x40a01c(0x3af))[_0x40a01c(0x58e)]('')+_0x40a01c(0x8ce)+_0x4d483e['classWeaknesses'][_0x40a01c(0x4cd)](_0x4186f9=>_0x40a01c(0x1ad)+_0x4186f9+_0x40a01c(0x3af))[_0x40a01c(0x58e)]('')+_0x40a01c(0x843)+_0x4d483e[_0x40a01c(0x6fc)][_0x40a01c(0x4cd)](_0x1428d7=>_0x40a01c(0x1ad)+_0x1428d7+_0x40a01c(0x3af))['join']('')+_0x40a01c(0x1bf);}function formatAndPrintWorksheet(_0x739433,_0x129367){const _0x1cedf4=_0x101354,_0x2f09e6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x739433[_0x1cedf4(0x3ef)]+_0x1cedf4(0x3c2)+_0x739433['topic']+_0x1cedf4(0x402)+_0x739433['questions'][_0x1cedf4(0x4cd)]((_0x2c569a,_0x4a893b)=>_0x1cedf4(0x661)+(_0x4a893b+0x1)+'.\x20'+_0x2c569a[_0x1cedf4(0x2ea)]+_0x1cedf4(0x7c5)+(_0x2c569a[_0x1cedf4(0x3cb)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x2c569a[_0x1cedf4(0x3cb)]+_0x1cedf4(0x895):'')+_0x1cedf4(0x265))[_0x1cedf4(0x58e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x129367[_0x1cedf4(0x53d)]['write'](_0x2f09e6),_0x129367['document']['close'](),_0x129367[_0x1cedf4(0x55e)]=function(){setTimeout(()=>{const _0x269b09=_0x40e1;_0x129367[_0x269b09(0x27e)]();},0x3e8);};}async function generateWorksheet(){const _0x19c8d2=_0x101354,_0x3d5e25=document[_0x19c8d2(0x187)](_0x19c8d2(0x78a))[_0x19c8d2(0x82c)][_0x19c8d2(0x4b3)]();if(!_0x3d5e25){showMessage(_0x19c8d2(0x5dc));return;}const _0x3ab79a=document[_0x19c8d2(0x187)]('force-math-checkbox')['checked'],_0xa6ed52=_0x3ab79a?'':_0x19c8d2(0x816),_0x26fe00=window[_0x19c8d2(0x2e7)]('','_blank');_0x26fe00[_0x19c8d2(0x53d)][_0x19c8d2(0x7e2)](_0x19c8d2(0x7a3));const _0x56eea5=parseInt(document[_0x19c8d2(0x187)](_0x19c8d2(0x3d4))[_0x19c8d2(0x82c)]),_0xb44d2c=document[_0x19c8d2(0x187)](_0x19c8d2(0x3bd))[_0x19c8d2(0x743)],_0xdeb923=_0xb44d2c?_0x19c8d2(0x8a6):'',_0xb17970='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0xa6ed52+_0x19c8d2(0x7d6)+_0x56eea5+_0x19c8d2(0x340)+_0x3d5e25+_0x19c8d2(0x63e)+_0xdeb923+_0x19c8d2(0x89d)+simpleMathPrompt+_0x19c8d2(0x4a1),_0x25e38c={'type':_0x19c8d2(0x1bc),'properties':{'topic':{'type':_0x19c8d2(0x4ea)},'questions':{'type':'ARRAY','items':{'type':_0x19c8d2(0x1bc),'properties':{'questionText':{'type':_0x19c8d2(0x4ea)},'imageCode':{'type':_0x19c8d2(0x4ea)}},'required':['questionText']}}},'required':[_0x19c8d2(0x3ef),_0x19c8d2(0x371)]};document[_0x19c8d2(0x187)](_0x19c8d2(0x775))[_0x19c8d2(0x8fd)]='',document[_0x19c8d2(0x187)](_0x19c8d2(0x848))[_0x19c8d2(0x8f6)]['remove'](_0x19c8d2(0x1f2)),document[_0x19c8d2(0x187)]('quiz-generation-area')[_0x19c8d2(0x8f6)][_0x19c8d2(0x773)](_0x19c8d2(0x1f2)),generateWorksheetBtn['disabled']=!![];try{const _0x120fd6=await callAnalysisApi(_0xb17970,_0x25e38c);formatAndPrintWorksheet(_0x120fd6,_0x26fe00);}catch(_0x542b73){console[_0x19c8d2(0x2eb)](_0x19c8d2(0x477),_0x542b73);if(_0x26fe00)_0x26fe00[_0x19c8d2(0x7fd)]();showMessage(_0x19c8d2(0x830));}finally{document['getElementById'](_0x19c8d2(0x848))[_0x19c8d2(0x8f6)]['add']('hidden'),document[_0x19c8d2(0x187)](_0x19c8d2(0x5eb))['classList'][_0x19c8d2(0x43c)]('hidden'),generateWorksheetBtn[_0x19c8d2(0x8cc)]=![];}}async function callAnalysisApi(_0x645631,_0x7aa04b){const _0x5da37b=_0x101354,_0x1bc8f6={'contents':[{'role':'user','parts':[{'text':_0x645631}]}],'generationConfig':{'responseMimeType':_0x5da37b(0x470),'responseSchema':_0x7aa04b}},_0x210940=_0x5da37b(0x908),_0x5853d1=_0x5da37b(0x870)+_0x210940,_0x33648e=await fetch(_0x5853d1,{'method':_0x5da37b(0x1da),'headers':{'Content-Type':'application/json'},'body':JSON[_0x5da37b(0x909)](_0x1bc8f6)});if(!_0x33648e['ok'])throw new Error(_0x5da37b(0x784)+_0x33648e[_0x5da37b(0x200)]);const _0x2e5e11=await _0x33648e['json']();if(_0x2e5e11['candidates']?.[0x0]?.[_0x5da37b(0x5f3)]?.[_0x5da37b(0x307)]?.[0x0])return JSON['parse'](_0x2e5e11['candidates'][0x0]['content']['parts'][0x0][_0x5da37b(0x4d1)]);else{let _0x3dcb40=_0x5da37b(0x869);if(_0x2e5e11[_0x5da37b(0x8eb)]?.[_0x5da37b(0x476)])_0x3dcb40=_0x5da37b(0x472)+_0x2e5e11[_0x5da37b(0x8eb)][_0x5da37b(0x476)]+'.';else _0x2e5e11['candidates']?.[0x0]?.[_0x5da37b(0x760)]&&_0x2e5e11[_0x5da37b(0x6e4)][0x0]['finishReason']!==_0x5da37b(0x868)&&(_0x3dcb40=_0x5da37b(0x4b5)+_0x2e5e11['candidates'][0x0][_0x5da37b(0x760)]+'.');console[_0x5da37b(0x2eb)](_0x3dcb40,JSON[_0x5da37b(0x909)](_0x2e5e11));throw new Error(_0x3dcb40);}}initialize();
