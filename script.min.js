const _0x335401=_0x5620;(function(_0x1f5d2c,_0x3b9179){const _0x5b407a=_0x5620,_0x566e9b=_0x1f5d2c();while(!![]){try{const _0xc56dc5=parseInt(_0x5b407a(0x7bb))/0x1+parseInt(_0x5b407a(0x54d))/0x2*(parseInt(_0x5b407a(0x554))/0x3)+parseInt(_0x5b407a(0x66b))/0x4*(-parseInt(_0x5b407a(0x868))/0x5)+-parseInt(_0x5b407a(0x9c4))/0x6*(-parseInt(_0x5b407a(0x693))/0x7)+-parseInt(_0x5b407a(0x677))/0x8*(-parseInt(_0x5b407a(0x277))/0x9)+-parseInt(_0x5b407a(0x493))/0xa*(-parseInt(_0x5b407a(0x96e))/0xb)+-parseInt(_0x5b407a(0x3ad))/0xc;if(_0xc56dc5===_0x3b9179)break;else _0x566e9b['push'](_0x566e9b['shift']());}catch(_0xdfa29c){_0x566e9b['push'](_0x566e9b['shift']());}}}(_0x1f44,0xb3f60));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null,localGroupQuestionIndex=0x0;const requestWakeLock=async()=>{const _0x448bba=_0x5620;if(_0x448bba(0x9a5)in navigator)try{wakeLock=await navigator[_0x448bba(0x9a5)][_0x448bba(0x508)](_0x448bba(0x68c)),console['log'](_0x448bba(0x2f0)),wakeLock[_0x448bba(0x1e2)](_0x448bba(0x7f6),()=>{const _0x525a77=_0x448bba;console['log'](_0x525a77(0x7c2));});}catch(_0x539caf){console[_0x448bba(0x529)](_0x448bba(0x328)+_0x539caf[_0x448bba(0x20b)]+',\x20'+_0x539caf[_0x448bba(0x2da)]);}else console[_0x448bba(0x3fd)](_0x448bba(0x3b5));},releaseWakeLock=async()=>{const _0xcefe17=_0x5620;wakeLock!==null&&(await wakeLock[_0xcefe17(0x7f6)](),wakeLock=null,console[_0xcefe17(0x27b)](_0xcefe17(0x237)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x2379ae=_0x5620;if(dimTimer)clearTimeout(dimTimer);document[_0x2379ae(0x24d)]['classList']['remove']('dimmed'),dimTimer=setTimeout(()=>{const _0x4fbd61=_0x2379ae;document[_0x4fbd61(0x24d)][_0x4fbd61(0x8f)][_0x4fbd61(0x85b)]('dimmed'),console[_0x4fbd61(0x27b)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}function stopDimTimer(){const _0x386d69=_0x5620;if(dimTimer)clearTimeout(dimTimer);document[_0x386d69(0x24d)][_0x386d69(0x8f)]['remove'](_0x386d69(0x31e)),window[_0x386d69(0x2b3)](_0x386d69(0x6b0),resetDimTimer),window[_0x386d69(0x2b3)](_0x386d69(0x22b),resetDimTimer),window[_0x386d69(0x2b3)](_0x386d69(0x7f8),resetDimTimer),window[_0x386d69(0x2b3)](_0x386d69(0xda),resetDimTimer),console['log'](_0x386d69(0x83f));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0;async function handleStartTeamQuiz(_0x132ce9,_0x261b43=![]){const _0x1216e9=_0x5620,_0x4bbaa5=allQuizzes['find'](_0x31505d=>_0x31505d['id']===_0x132ce9)||allQuizzesGlobal['find'](_0x20b32c=>_0x20b32c['id']===_0x132ce9);if(!_0x4bbaa5){showMessage(_0x1216e9(0x46b));return;}currentQuizData=getShuffledQuiz(_0x4bbaa5);const _0x4d080a=Math[_0x1216e9(0x72)](0x3e8+Math[_0x1216e9(0x8fe)]()*0x2328)[_0x1216e9(0x5dc)]();try{const _0x4b9366=await addDoc(collection(db,_0x1216e9(0x82)+appId+'/public/data/teamQuizzes'),{'quizId':_0x4bbaa5['id'],'projectId':_0x4bbaa5[_0x1216e9(0x4b5)],'status':_0x1216e9(0x538),'pin':_0x4d080a,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x261b43});currentTeamQuizId=_0x4b9366['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x4d080a,_0x4bbaa5[_0x1216e9(0x7d5)]),listenForTeamQuizUpdates();}catch(_0x3c0dfa){console[_0x1216e9(0x529)](_0x1216e9(0x3a5),_0x3c0dfa),showMessage(_0x1216e9(0x4fe));}}function renderAdminTeamQuizDashboard(_0x9cf8dc,_0x1c62ed,_0x2db693='team'){const _0x2f5e90=_0x5620,_0x1cc25f=_0x2db693===_0x2f5e90(0x157)?'Group\x20Mode':_0x2f5e90(0x81f);liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>'+_0x1cc25f+':\x20'+_0x1c62ed+_0x2f5e90(0x980)+_0x9cf8dc+_0x2f5e90(0x340),document[_0x2f5e90(0x11a)](_0x2f5e90(0x4d0))[_0x2f5e90(0x1e2)](_0x2f5e90(0x91d),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?',async()=>{const _0x344747=_0x5620;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x344747(0x82)+appId+_0x344747(0x1cf),currentTeamQuizId)),showView(_0x344747(0x495));});});}function listenForTeamQuizUpdates(){const _0x3fe695=_0x5620;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x37b272=doc(db,_0x3fe695(0x82)+appId+_0x3fe695(0x1cf),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x37b272,_0x16eb76=>{const _0x21fd63=_0x3fe695;if(!_0x16eb76[_0x21fd63(0x91b)]()){sessionStorage[_0x21fd63(0x241)](_0x21fd63(0x6cf));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();if(currentMode==='admin')showMessage(_0x21fd63(0x86f));showView(currentMode===_0x21fd63(0x321)?'project-detail':'student');return;}const _0x3bbfcb=_0x16eb76[_0x21fd63(0x33f)]();if(currentMode==='admin'){if(_0x3bbfcb[_0x21fd63(0x421)]===_0x21fd63(0x157)&&_0x3bbfcb[_0x21fd63(0x83e)]!==_0x21fd63(0x247)&&_0x3bbfcb['status']!==_0x21fd63(0x827)){const _0x44e422=Object[_0x21fd63(0x5aa)](_0x3bbfcb[_0x21fd63(0x51a)]||{});if(_0x44e422['length']>0x0){const _0x62f862=_0x44e422[_0x21fd63(0xcc)](_0x482f16=>_0x482f16[_0x21fd63(0x161)]===!![]);_0x62f862&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x3bbfcb);}else{if(_0x3bbfcb[_0x21fd63(0x83e)]===_0x21fd63(0x247)||_0x3bbfcb[_0x21fd63(0x83e)]===_0x21fd63(0x827)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x3bbfcb[_0x21fd63(0x421)]==='group'){const _0x3bf73e=_0x3bbfcb['groups'][userId];(!_0x3bf73e||!_0x3bf73e[_0x21fd63(0x161)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x4341ae){const _0x2599bc=_0x5620;console[_0x2599bc(0x27b)](_0x2599bc(0x640));const _0x5c246d=doc(db,_0x2599bc(0x82)+appId+'/public/data/teamQuizzes',_0x4341ae);try{const _0x340349=await getDoc(_0x5c246d);if(_0x340349['exists']()){const _0x25157b=_0x340349[_0x2599bc(0x33f)]();_0x25157b[_0x2599bc(0x6e)]&&await saveGameResultsAsSubmissions(_0x25157b);}await updateDoc(_0x5c246d,{'status':'podium'});}catch(_0x380abf){console[_0x2599bc(0x529)](_0x2599bc(0x12e),_0x380abf);}}function updateAdminTeamDashboard(_0xfa58ee){const _0x2212ec=_0x5620,_0x57dc13=document[_0x2212ec(0x11a)](_0x2212ec(0x77f));if(!_0x57dc13)return;const _0x386b1f=_0xfa58ee['mode']||_0x2212ec(0x8b7);if(_0x386b1f===_0x2212ec(0x157)){const _0x591572=Object[_0x2212ec(0x5aa)](_0xfa58ee['groups']||{});if(_0x591572['length']===0x0){_0x57dc13[_0x2212ec(0x297)]=_0x2212ec(0x7e0);return;}const _0x1eec9e=[..._0x591572][_0x2212ec(0x6df)]((_0x52300b,_0x6da94d)=>_0x6da94d[_0x2212ec(0x94c)]-_0x52300b['score']),_0x34a565=_0x1eec9e[_0x2212ec(0x4eb)]((_0x1fdf22,_0x1e8c8a)=>_0x2212ec(0x15b)+(_0x1e8c8a+0x1)+_0x2212ec(0x5f5)+_0x1fdf22[_0x2212ec(0x990)][_0x2212ec(0x7d)](',\x20')+_0x2212ec(0x2c8)+_0x1fdf22[_0x2212ec(0x94c)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');let _0x341817='';currentQuizData&&currentQuizData['questions']&&(_0x341817=currentQuizData['questions'][_0x2212ec(0x4eb)]((_0xe32d82,_0x5991ce)=>{const _0x222b97=_0x2212ec;let _0x3153fc=0x0;return _0x591572[_0x222b97(0x40a)](_0x1538d5=>{const _0x398886=_0x222b97,_0x4abe16=_0x1538d5['answers']||[],_0x1e002a=_0x4abe16['find'](_0xe5b63b=>_0xe5b63b[_0x398886(0xa7)]===_0x5991ce);_0x1e002a&&_0x1e002a[_0x398886(0xdc)]&&_0x3153fc++;}),_0x222b97(0x920)+(_0x5991ce+0x1)+_0x222b97(0x276)+_0x3153fc+_0x222b97(0x73f)+_0x591572[_0x222b97(0x38d)]+_0x222b97(0x586);})[_0x2212ec(0x7d)]('')),_0x57dc13[_0x2212ec(0x297)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x34a565+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0x341817+_0x2212ec(0x896);}else{const _0x182d03=_0xfa58ee[_0x2212ec(0x8fc)]||{},_0x2af3f5=Object[_0x2212ec(0x58f)](_0x182d03);if(_0x2af3f5['length']===0x0){_0x57dc13[_0x2212ec(0x297)]=_0x2212ec(0x30f);return;}const _0x4db144=_0x2af3f5[_0x2212ec(0x4eb)](_0x42af4e=>({'name':_0x42af4e,'score':_0x182d03[_0x42af4e]['score']||0x0}))[_0x2212ec(0x6df)]((_0x44a48b,_0x2b68b1)=>_0x2b68b1[_0x2212ec(0x94c)]-_0x44a48b[_0x2212ec(0x94c)]);let _0x42ebfb='';currentQuizData&&currentQuizData[_0x2212ec(0x4e3)]&&(_0x42ebfb=currentQuizData[_0x2212ec(0x4e3)]['map']((_0x35048c,_0xa55b8d)=>{const _0x306eed=_0x2212ec;let _0x523a87=0x0;return _0x2af3f5[_0x306eed(0x40a)](_0x3782d7=>{const _0x38a54a=_0x306eed,_0x240150=_0x182d03[_0x3782d7][_0x38a54a(0x2aa)]||[],_0x298c4e=_0x240150['find'](_0x4327af=>_0x4327af[_0x38a54a(0xa7)]===_0xa55b8d);if(_0x298c4e&&_0x298c4e[_0x38a54a(0xdc)])_0x523a87++;}),_0x306eed(0x3ba)+(_0xa55b8d+0x1)+_0x306eed(0x73)+_0x523a87+_0x306eed(0x73f)+_0x2af3f5['length']+'\x20คน\x20ตอบถูก</p></div>';})['join']('')),_0x57dc13['innerHTML']=_0x2212ec(0x8fa)+_0x4db144['map'](_0x265df9=>'<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>'+_0x265df9['name']+'</span><span\x20class=\x22font-bold\x22>'+_0x265df9[_0x2212ec(0x94c)]+_0x2212ec(0x689))[_0x2212ec(0x7d)]('')+_0x2212ec(0x7d4)+_0x42ebfb+_0x2212ec(0x711);}}async function handleJoinTeamQuiz(){const _0x37c6d9=_0x5620,_0x4a5c28=prompt('กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):');if(!_0x4a5c28||_0x4a5c28[_0x37c6d9(0xa5)]()[_0x37c6d9(0x38d)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x5b514d=collection(db,_0x37c6d9(0x82)+appId+_0x37c6d9(0x1cf)),_0x4a5f59=query(_0x5b514d,where(_0x37c6d9(0x1a5),'==',_0x4a5c28[_0x37c6d9(0xa5)]()),where('status','==','lobby')),_0xe96267=await getDocs(_0x4a5f59);if(_0xe96267[_0x37c6d9(0x45b)]){showMessage(_0x37c6d9(0x3aa));return;}const _0x43db46=_0xe96267[_0x37c6d9(0x84c)][0x0];currentTeamQuizId=_0x43db46['id'];const _0x5c10f4=_0x43db46['data'](),_0xd9f199=doc(db,_0x37c6d9(0x82)+appId+_0x37c6d9(0x8c3),_0x5c10f4[_0x37c6d9(0x4b5)]),_0x56f0c6=doc(db,_0x37c6d9(0x82)+appId+_0x37c6d9(0x5e5),_0x5c10f4[_0x37c6d9(0x1bb)]),[_0x47ef4a,_0x59198f]=await Promise[_0x37c6d9(0x465)]([getDoc(_0xd9f199),getDoc(_0x56f0c6)]);if(!_0x47ef4a[_0x37c6d9(0x91b)]()||!_0x59198f[_0x37c6d9(0x91b)]())throw new Error(_0x37c6d9(0x6c6));currentQuizData=getShuffledQuiz({'id':_0x59198f['id'],..._0x59198f['data']()});const _0x434411=_0x47ef4a['data']();showTeamPlayerSelection(_0x434411[_0x37c6d9(0x4c6)],currentQuizData[_0x37c6d9(0x7d5)]);}catch(_0x4c51d7){console[_0x37c6d9(0x529)](_0x37c6d9(0x3c0),_0x4c51d7),showMessage(_0x37c6d9(0x9b0)+_0x4c51d7['message']);}}async function handleJoinGroupActivity(){const _0x16a6dc=_0x5620,_0x38d040=prompt(_0x16a6dc(0x94d));if(!_0x38d040||_0x38d040['trim']()['length']!==0x4){showMessage(_0x16a6dc(0x99));return;}const _0x5d7595=_0x38d040[_0x16a6dc(0xa5)]();showMessage('กำลังค้นหากิจกรรม...');try{const _0x1a32a5=collection(db,_0x16a6dc(0x82)+appId+_0x16a6dc(0x1cf)),_0xfa9fba=query(_0x1a32a5,where(_0x16a6dc(0x1a5),'==',_0x5d7595),where(_0x16a6dc(0x83e),'==',_0x16a6dc(0x538))),_0x482c8d=await getDocs(_0xfa9fba);if(!_0x482c8d['empty']){console[_0x16a6dc(0x27b)](_0x16a6dc(0x77c)),await proceedWithTeamQuizJoin(_0x482c8d[_0x16a6dc(0x84c)][0x0]);return;}const _0x58e98b=collection(db,_0x16a6dc(0x82)+appId+_0x16a6dc(0x79a)),_0x8a7883=query(_0x58e98b,where(_0x16a6dc(0x1a5),'==',_0x5d7595),where(_0x16a6dc(0x83e),'==',_0x16a6dc(0x538))),_0x217ccb=await getDocs(_0x8a7883);if(!_0x217ccb[_0x16a6dc(0x45b)]){console[_0x16a6dc(0x27b)](_0x16a6dc(0x6ab)),await proceedWithSyncQuizJoin(_0x217ccb['docs'][0x0]);return;}showMessage('ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว');}catch(_0x51ac8f){console[_0x16a6dc(0x529)](_0x16a6dc(0x3f4),_0x51ac8f),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x51ac8f['message']);}}async function proceedWithTeamQuizJoin(_0x3d7cab){const _0x536766=_0x5620;currentTeamQuizId=_0x3d7cab['id'];const _0x4df8e1=_0x3d7cab[_0x536766(0x33f)](),_0x712764=doc(db,_0x536766(0x82)+appId+_0x536766(0x8c3),_0x4df8e1['projectId']),_0x30f17d=doc(db,_0x536766(0x82)+appId+_0x536766(0x5e5),_0x4df8e1[_0x536766(0x1bb)]),[_0x499ab,_0x315a71]=await Promise[_0x536766(0x465)]([getDoc(_0x712764),getDoc(_0x30f17d)]);if(!_0x499ab[_0x536766(0x91b)]()||!_0x315a71['exists']())throw new Error(_0x536766(0x6c6));currentQuizData=getShuffledQuiz({'id':_0x315a71['id'],..._0x315a71[_0x536766(0x33f)]()}),showTeamPlayerSelection(_0x499ab['data']()['students'],currentQuizData['topic'],_0x4df8e1[_0x536766(0x421)]||'team'),messageModal['classList'][_0x536766(0x85b)](_0x536766(0x6f8));}async function proceedWithSyncQuizJoin(_0x525b26){const _0xed4a66=_0x5620;currentLiveGameId=_0x525b26['id'];const _0x2c2988=_0x525b26[_0xed4a66(0x33f)](),_0x5ed2d5=doc(db,_0xed4a66(0x82)+appId+_0xed4a66(0x5e5),_0x2c2988['quizId']),_0x1c91d3=await getDoc(_0x5ed2d5);if(!_0x1c91d3[_0xed4a66(0x91b)]())throw new Error(_0xed4a66(0x46b));const _0x289da2=_0x1c91d3[_0xed4a66(0x33f)](),_0x33640b=doc(db,_0xed4a66(0x82)+appId+_0xed4a66(0x8c3),_0x289da2[_0xed4a66(0x4b5)]),_0x3dbe6b=await getDoc(_0x33640b);if(!_0x3dbe6b[_0xed4a66(0x91b)]())throw new Error(_0xed4a66(0x3e3));currentQuizData=_0x2c2988['shuffledQuiz'],showView(_0xed4a66(0x9aa)),showTeamPlayerSelection(_0x3dbe6b['data']()['students'],_0x289da2[_0xed4a66(0x7d5)],_0xed4a66(0x452)),document[_0xed4a66(0x11a)](_0xed4a66(0x7ea))[_0xed4a66(0x5f6)]=confirmAndJoinSyncGame,messageModal[_0xed4a66(0x8f)][_0xed4a66(0x85b)](_0xed4a66(0x6f8));}function showTeamPlayerSelection(_0x183fa6,_0x1290dd,_0x94cc2d=_0x335401(0x8b7)){const _0x16c89f=_0x335401;studentInitialView['classList']['add']('hidden'),studentJoinGameView[_0x16c89f(0x8f)][_0x16c89f(0x85b)]('hidden'),document[_0x16c89f(0x11a)](_0x16c89f(0x7f7))[_0x16c89f(0x8f)][_0x16c89f(0x57c)]('hidden');let _0x3f3670='Team\x20Quiz';if(_0x94cc2d===_0x16c89f(0x157))_0x3f3670='Group\x20Mode';else _0x94cc2d===_0x16c89f(0x452)&&(_0x3f3670=_0x16c89f(0x8b));document[_0x16c89f(0x11a)](_0x16c89f(0x73c))[_0x16c89f(0x9a9)]=_0x3f3670+':\x20'+_0x1290dd;const _0x5f2777=document['getElementById'](_0x16c89f(0x936));if(!_0x183fa6||_0x183fa6[_0x16c89f(0x38d)]===0x0){_0x5f2777['innerHTML']=_0x16c89f(0x3a4),document['getElementById']('confirm-team-players-btn')[_0x16c89f(0x53e)]=!![];return;}_0x5f2777[_0x16c89f(0x297)]=_0x183fa6['map'](_0x53912c=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x53912c+_0x16c89f(0x26e)+_0x53912c+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x16c89f(0x7d)](''),document[_0x16c89f(0x11a)](_0x16c89f(0x7ea))['disabled']=![];}async function confirmAndStartTeamQuiz(){const _0x2f2158=_0x335401,_0x2ebc4f=Array[_0x2f2158(0x50e)](document[_0x2f2158(0xf8)]('input[name=\x22team_player\x22]:checked'))['map'](_0x35d6aa=>_0x35d6aa['value']);if(_0x2ebc4f['length']===0x0){showMessage(_0x2f2158(0x578));return;}localTeamPlayers=_0x2ebc4f,localPlayerTurnIndex=0x0;const _0x37cba4=doc(db,_0x2f2158(0x82)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x4e32d9=await getDoc(_0x37cba4);if(!_0x4e32d9['exists']()){showMessage('ไม่พบข้อมูลเกม');return;}const _0x34815c=_0x4e32d9['data']();_0x34815c['mode']===_0x2f2158(0x157)&&(localGroupQuestionIndex=0x0);try{if(_0x34815c[_0x2f2158(0x421)]===_0x2f2158(0x157)){const _0x4c8155=userId,_0x261408={};_0x261408[_0x2f2158(0x6f5)+_0x4c8155]={'members':localTeamPlayers,'score':0x0,'answers':[]},await updateDoc(_0x37cba4,_0x261408);}else{const _0x56a741={};localTeamPlayers['forEach'](_0x1e498b=>{_0x56a741['responses.'+_0x1e498b]={'score':0x0,'answers':[]};}),await updateDoc(_0x37cba4,_0x56a741);}document[_0x2f2158(0x11a)](_0x2f2158(0x7f7))['classList'][_0x2f2158(0x85b)]('hidden'),renderTeamQuizQuestion();const _0x505a24={'gameId':currentTeamQuizId,'mode':_0x34815c[_0x2f2158(0x421)]||'team','players':localTeamPlayers,'turnIndex':localPlayerTurnIndex};sessionStorage[_0x2f2158(0x730)](_0x2f2158(0x6cf),JSON['stringify'](_0x505a24)),listenForTeamQuizUpdates();}catch(_0x4e9acb){console['error']('Error\x20confirming\x20players:',_0x4e9acb),showMessage(_0x2f2158(0x1d3));}}async function renderTeamQuizQuestion(){const _0x2d2781=_0x335401,_0x3e3b1d=doc(db,_0x2d2781(0x82)+appId+_0x2d2781(0x1cf),currentTeamQuizId),_0x184624=await getDoc(_0x3e3b1d);if(!_0x184624[_0x2d2781(0x91b)]())return;const _0x1a5360=_0x184624['data'](),_0x2ee9b8=_0x1a5360[_0x2d2781(0x421)]||_0x2d2781(0x8b7);let _0x5e1951,_0x5023e0;_0x2ee9b8===_0x2d2781(0x157)?(_0x5e1951=localGroupQuestionIndex,_0x5023e0=_0x2d2781(0x7b7)+localTeamPlayers[_0x2d2781(0x7d)](',\x20')):(_0x5e1951=Math['floor'](localPlayerTurnIndex/localTeamPlayers['length']),_0x5023e0='ตาของ:\x20'+localTeamPlayers[localPlayerTurnIndex%localTeamPlayers[_0x2d2781(0x38d)]]);if(_0x5e1951>=currentQuizData['questions'][_0x2d2781(0x38d)]){displayTeamQuizFinalResults();return;}const _0x471cc0=currentQuizData[_0x2d2781(0x4e3)][_0x5e1951],_0x2f1b10=_0x471cc0[_0x2d2781(0x23d)]||currentQuizData[_0x2d2781(0x7a1)];let _0x5c80a2=_0x471cc0[_0x2d2781(0x99e)]||_0x471cc0[_0x2d2781(0x7f3)],_0x3e0dab='';switch(_0x2f1b10){case'multiple_choice':case _0x2d2781(0x570):_0x3e0dab=_0x471cc0['options'][_0x2d2781(0x4eb)]((_0xe0870e,_0x32f855)=>_0x2d2781(0x8e9)+_0x32f855+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x32f855+_0x2d2781(0xcf)+_0x32f855+'\x22>'+_0xe0870e+_0x2d2781(0x302))[_0x2d2781(0x7d)]('');break;case'true_false':_0x3e0dab=_0x2d2781(0x974);break;case _0x2d2781(0x787):case _0x2d2781(0x4fc):_0x3e0dab=_0x2d2781(0x7e2);break;case'matching_item':_0x3e0dab=_0x2d2781(0x8d2)+_0x471cc0[_0x2d2781(0x16f)][_0x2d2781(0x4eb)](_0x3f8892=>'<option\x20value=\x22'+_0x3f8892+'\x22>'+_0x3f8892+'</option>')[_0x2d2781(0x7d)]('')+_0x2d2781(0x672);break;default:_0x3e0dab=_0x2d2781(0x97f);break;}studentQuizArea[_0x2d2781(0x297)]=_0x2d2781(0x3ff)+(_0x5e1951+0x1)+_0x2d2781(0x73f)+currentQuizData[_0x2d2781(0x4e3)]['length']+_0x2d2781(0x7ee)+_0x5023e0+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(_0x5e1951+0x1)+'.\x20'+_0x5c80a2+_0x2d2781(0x257)+(_0x471cc0[_0x2d2781(0x2f7)]?_0x2d2781(0x371)+_0x471cc0[_0x2d2781(0x2f7)]+_0x2d2781(0x9ab):'')+_0x2d2781(0x6e5)+_0x3e0dab+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x2d2781(0x8f)]['remove'](_0x2d2781(0x6f8));if(window['MathJax'])MathJax['typesetPromise']([studentQuizArea]);const _0x4e346e=document['getElementById'](_0x2d2781(0x987));_0x2ee9b8===_0x2d2781(0x157)?_0x4e346e[_0x2d2781(0x1e2)](_0x2d2781(0x91d),handleGroupAnswerSubmit):_0x4e346e['addEventListener']('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x469d58=_0x335401,_0x2e2d6d=doc(db,_0x469d58(0x82)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x13d0d3=localGroupQuestionIndex,_0x27e929=currentQuizData[_0x469d58(0x4e3)][_0x13d0d3],_0x28058f=_0x27e929[_0x469d58(0x23d)]||currentQuizData[_0x469d58(0x7a1)];let _0x596761=null,_0x3af38d=![];if(_0x28058f===_0x469d58(0x787)||_0x28058f===_0x469d58(0x4fc)){const _0x447ef3=document[_0x469d58(0x341)](_0x469d58(0x11d));if(!_0x447ef3||!_0x447ef3[_0x469d58(0x5ce)]['trim']()){showMessage(_0x469d58(0x12c));return;}_0x596761=_0x447ef3[_0x469d58(0x5ce)]['trim'](),_0x3af38d=await gradeShortAnswer(_0x596761,_0x27e929);}else{const _0x147163=document[_0x469d58(0x341)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x147163||_0x147163[_0x469d58(0x5ce)]===''){showMessage(_0x469d58(0x59f));return;}_0x596761=_0x147163[_0x469d58(0x5ce)];switch(_0x28058f){case _0x469d58(0x4c4):_0x3af38d=_0x596761===_0x469d58(0x6c8)===_0x27e929[_0x469d58(0x81)];break;case _0x469d58(0x524):_0x3af38d=_0x596761===_0x27e929[_0x469d58(0x441)];break;default:_0x3af38d=parseInt(_0x596761)===_0x27e929[_0x469d58(0x801)];break;}}const _0x112305={'questionIndex':_0x13d0d3,'isCorrect':_0x3af38d},_0x296fa1=userId,_0x5baf97={};_0x5baf97[_0x469d58(0x6f5)+_0x296fa1+'.answers']=arrayUnion(_0x112305);_0x3af38d&&(_0x5baf97[_0x469d58(0x6f5)+_0x296fa1+_0x469d58(0x6dd)]=increment(0x1));try{await updateDoc(_0x2e2d6d,_0x5baf97),localGroupQuestionIndex++,renderTeamQuizQuestion();}catch(_0x24bce9){console['error'](_0x469d58(0x4ba),_0x24bce9),showMessage(_0x469d58(0x1c3));}}async function handleTeamAnswerSubmit(){const _0x54996c=_0x335401,_0x294b26=localTeamPlayers[localPlayerTurnIndex%localTeamPlayers[_0x54996c(0x38d)]],_0x487146=Math[_0x54996c(0x72)](localPlayerTurnIndex/localTeamPlayers[_0x54996c(0x38d)]),_0x72ed74=currentQuizData['questions'][_0x487146],_0x5ba403=_0x72ed74[_0x54996c(0x23d)]||currentQuizData[_0x54996c(0x7a1)];let _0x27be2c=null,_0x15a3e9=![];if(_0x5ba403==='short_answer'||_0x5ba403==='fill_in_no_choices'){const _0x2c8156=document[_0x54996c(0x341)](_0x54996c(0x11d));if(!_0x2c8156||!_0x2c8156[_0x54996c(0x5ce)][_0x54996c(0xa5)]()){showMessage('กรุณาพิมพ์คำตอบของคุณ');return;}_0x27be2c=_0x2c8156[_0x54996c(0x5ce)][_0x54996c(0xa5)](),_0x15a3e9=await gradeShortAnswer(_0x27be2c,_0x72ed74);}else{const _0x568a1f=document[_0x54996c(0x341)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x568a1f||_0x568a1f[_0x54996c(0x5ce)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x27be2c=_0x568a1f[_0x54996c(0x5ce)];switch(_0x5ba403){case _0x54996c(0x4c4):const _0x480db8=_0x27be2c===_0x54996c(0x6c8);_0x15a3e9=_0x480db8===_0x72ed74[_0x54996c(0x81)];break;case'matching_item':_0x15a3e9=_0x27be2c===_0x72ed74['correctResponse'];break;default:const _0x15eee4=parseInt(_0x27be2c);_0x15a3e9=_0x15eee4===_0x72ed74[_0x54996c(0x801)];break;}}const _0x2411d7={'questionIndex':_0x487146,'isCorrect':_0x15a3e9,'answerValue':_0x27be2c},_0x33ff12=doc(db,_0x54996c(0x82)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x2ff2bb={};_0x2ff2bb[_0x54996c(0x4d3)+_0x294b26+_0x54996c(0x266)]=arrayUnion(_0x2411d7);_0x15a3e9&&(_0x2ff2bb[_0x54996c(0x4d3)+_0x294b26+'.score']=increment(0x1));try{await updateDoc(_0x33ff12,_0x2ff2bb),localPlayerTurnIndex++;const _0x5948be=JSON[_0x54996c(0x18d)](sessionStorage['getItem']('activeGameSession')||'{}');_0x5948be[_0x54996c(0x748)]=localPlayerTurnIndex,sessionStorage[_0x54996c(0x730)](_0x54996c(0x6cf),JSON[_0x54996c(0x3af)](_0x5948be)),renderTeamQuizQuestion();}catch(_0x33590e){console[_0x54996c(0x529)](_0x54996c(0x3e6),_0x33590e),showMessage(_0x54996c(0x1c3));}}async function displayTeamQuizFinalResults(){const _0x2bab87=_0x335401;studentQuizArea[_0x2bab87(0x8f)][_0x2bab87(0x85b)](_0x2bab87(0x6f8)),studentResultArea[_0x2bab87(0x8f)][_0x2bab87(0x57c)](_0x2bab87(0x6f8));const _0x5a7a28=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x7ff791=await getDoc(_0x5a7a28);if(!_0x7ff791[_0x2bab87(0x91b)]()){studentResultArea[_0x2bab87(0x297)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>';return;}const _0x49712e=_0x7ff791[_0x2bab87(0x33f)]();let _0x24b9e3=[];const _0x2372ee=_0x49712e[_0x2bab87(0x421)]||_0x2bab87(0x8b7);if(_0x2372ee===_0x2bab87(0x157)){const _0x407c6f=_0x49712e[_0x2bab87(0x51a)][userId];_0x407c6f?_0x24b9e3=[{'name':_0x2bab87(0x7b7)+localTeamPlayers['join'](',\x20'),'score':_0x407c6f[_0x2bab87(0x94c)]||0x0}]:_0x24b9e3=[{'name':_0x2bab87(0x706),'score':'N/A'}];}else _0x24b9e3=localTeamPlayers[_0x2bab87(0x4eb)](_0x3453d1=>({'name':_0x3453d1,'score':_0x49712e[_0x2bab87(0x8fc)][_0x3453d1]?.['score']||0x0}))['sort']((_0x2ee1a5,_0x56b37d)=>_0x56b37d['score']-_0x2ee1a5[_0x2bab87(0x94c)]);studentResultArea[_0x2bab87(0x297)]=_0x2bab87(0x20a)+_0x24b9e3[_0x2bab87(0x4eb)](_0x5e7f07=>_0x2bab87(0x704)+_0x5e7f07[_0x2bab87(0x20b)]+_0x2bab87(0x74)+_0x5e7f07[_0x2bab87(0x94c)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2bab87(0x7d)]('')+_0x2bab87(0x56f),sessionStorage[_0x2bab87(0x241)](_0x2bab87(0x6cf)),currentMode===_0x2bab87(0x321)&&currentTeamQuizId&&setTimeout(()=>{const _0x5d19f1=_0x2bab87;deleteDoc(doc(db,_0x5d19f1(0x82)+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x335401(0x427),'pinnedProjects':[],'projectView':_0x335401(0x57a)};const allMathTopics=[{'category':_0x335401(0x1e4),'name':_0x335401(0x89d)},{'category':_0x335401(0x1e4),'name':_0x335401(0xe3)},{'category':_0x335401(0x1e4),'name':_0x335401(0x1b9)},{'category':_0x335401(0x1e4),'name':_0x335401(0x3dd)},{'category':_0x335401(0x1e4),'name':_0x335401(0x36d)},{'category':_0x335401(0x1e4),'name':'การลบ'},{'category':_0x335401(0x1e4),'name':_0x335401(0x9c0)},{'category':_0x335401(0x1e4),'name':_0x335401(0x590)},{'category':_0x335401(0x1e4),'name':_0x335401(0x1f4)},{'category':_0x335401(0x1e4),'name':_0x335401(0x61c)},{'category':_0x335401(0x1e4),'name':'ศูนย์'},{'category':'จำนวนและการดำเนินการ','name':_0x335401(0x2ff)},{'category':'จำนวนและการดำเนินการ','name':'เส้นจำนวน'},{'category':_0x335401(0x1e4),'name':_0x335401(0x7ca)},{'category':_0x335401(0x1e4),'name':'ห.ร.ม.\x20(GCD)'},{'category':'จำนวนและการดำเนินการ','name':_0x335401(0x8c4)},{'category':_0x335401(0x1e4),'name':_0x335401(0x6db)},{'category':_0x335401(0x1e4),'name':_0x335401(0x33c)},{'category':_0x335401(0x1e4),'name':_0x335401(0x6ac)},{'category':_0x335401(0x1e4),'name':'การบวกเศษส่วน'},{'category':_0x335401(0x1e4),'name':_0x335401(0x676)},{'category':_0x335401(0x1e4),'name':_0x335401(0x5f8)},{'category':_0x335401(0x1e4),'name':'การหารเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x335401(0x599)},{'category':_0x335401(0x1e4),'name':_0x335401(0x20d)},{'category':_0x335401(0x1e4),'name':_0x335401(0x915)},{'category':_0x335401(0x1e4),'name':_0x335401(0x372)},{'category':'จำนวนและการดำเนินการ','name':'การคูณทศนิยม'},{'category':_0x335401(0x1e4),'name':_0x335401(0x20f)},{'category':_0x335401(0x1e4),'name':_0x335401(0x728)},{'category':_0x335401(0x1e4),'name':'ร้อยละพื้นฐาน'},{'category':_0x335401(0x1e4),'name':_0x335401(0x732)},{'category':'จำนวนและการดำเนินการ','name':_0x335401(0x475)},{'category':'จำนวนและการดำเนินการ','name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x335401(0x1e4),'name':'รากที่สองและที่สาม'},{'category':_0x335401(0x1e4),'name':'รูปสแควร์รูท\x20(surd)'},{'category':_0x335401(0x1e4),'name':_0x335401(0x1a9)},{'category':_0x335401(0x106),'name':_0x335401(0x2b0)},{'category':_0x335401(0x106),'name':_0x335401(0x7c4)},{'category':_0x335401(0x106),'name':_0x335401(0x569)},{'category':_0x335401(0x106),'name':'ปริมาตร/ความจุและการแปลง'},{'category':_0x335401(0x106),'name':'อุณหภูมิและการแปลง'},{'category':'การวัด','name':_0x335401(0x4b7)},{'category':_0x335401(0x106),'name':_0x335401(0x2bb)},{'category':'การวัด','name':_0x335401(0x972)},{'category':'การวัด','name':_0x335401(0x9bf)},{'category':'การวัด','name':_0x335401(0x44e)},{'category':_0x335401(0x106),'name':_0x335401(0xa9)},{'category':_0x335401(0x106),'name':_0x335401(0x228)},{'category':_0x335401(0x106),'name':_0x335401(0x719)},{'category':_0x335401(0x106),'name':_0x335401(0x887)},{'category':_0x335401(0x3d6),'name':_0x335401(0x4f0)},{'category':_0x335401(0x3d6),'name':_0x335401(0x2ec)},{'category':_0x335401(0x3d6),'name':_0x335401(0x87e)},{'category':'เรขาคณิต','name':_0x335401(0x972)},{'category':_0x335401(0x3d6),'name':_0x335401(0x480)},{'category':'เรขาคณิต','name':'ความคล้ายของรูป'},{'category':_0x335401(0x3d6),'name':_0x335401(0x129)},{'category':_0x335401(0x3d6),'name':_0x335401(0x230)},{'category':_0x335401(0x3d6),'name':_0x335401(0x804)},{'category':_0x335401(0x3d6),'name':_0x335401(0xc5)},{'category':_0x335401(0x3d6),'name':_0x335401(0x7d6)},{'category':_0x335401(0x3d6),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':_0x335401(0x3d6),'name':_0x335401(0x58c)},{'category':_0x335401(0x3d6),'name':_0x335401(0x792)},{'category':'เรขาคณิต','name':_0x335401(0x84e)},{'category':'พีชคณิตและฟังก์ชัน','name':'ตัวแปรและนิพจน์'},{'category':_0x335401(0x7f4),'name':_0x335401(0x752)},{'category':_0x335401(0x7f4),'name':_0x335401(0x7ae)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x335401(0x6e9)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x335401(0x242)},{'category':_0x335401(0x7f4),'name':_0x335401(0x144)},{'category':_0x335401(0x7f4),'name':_0x335401(0x52e)},{'category':_0x335401(0x7f4),'name':_0x335401(0x43a)},{'category':_0x335401(0x7f4),'name':_0x335401(0x446)},{'category':_0x335401(0x7f4),'name':_0x335401(0x119)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x335401(0x1e0)},{'category':_0x335401(0x7f4),'name':_0x335401(0x193)},{'category':_0x335401(0x7f4),'name':'สมการลอการิทึม'},{'category':_0x335401(0x7f4),'name':_0x335401(0x630)},{'category':_0x335401(0x7f4),'name':_0x335401(0x21d)},{'category':_0x335401(0x7f4),'name':_0x335401(0x7dc)},{'category':_0x335401(0x7f4),'name':_0x335401(0x279)},{'category':_0x335401(0x7f4),'name':_0x335401(0x19a)},{'category':'พีชคณิตและฟังก์ชัน','name':'องค์ประกอบของฟังก์ชัน'},{'category':_0x335401(0x7f4),'name':_0x335401(0x145)},{'category':_0x335401(0x7f4),'name':_0x335401(0x5d8)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x335401(0x7f4),'name':_0x335401(0x213)},{'category':_0x335401(0x7f4),'name':_0x335401(0x359)},{'category':_0x335401(0x7f4),'name':_0x335401(0x3e9)},{'category':_0x335401(0x7f4),'name':_0x335401(0x25e)},{'category':_0x335401(0x7f4),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x335401(0x90c)},{'category':_0x335401(0x7f4),'name':_0x335401(0x42d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x335401(0x181)},{'category':_0x335401(0x7f4),'name':_0x335401(0x95)},{'category':_0x335401(0x7f4),'name':_0x335401(0x5a1)},{'category':_0x335401(0x7f4),'name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x335401(0x7f4),'name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x335401(0x71c)},{'category':'เรขาคณิตวิเคราะห์','name':_0x335401(0x5de)},{'category':_0x335401(0x39f),'name':_0x335401(0x45f)},{'category':_0x335401(0x39f),'name':_0x335401(0x712)},{'category':_0x335401(0x39f),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':'เรขาคณิตวิเคราะห์','name':_0x335401(0x891)},{'category':_0x335401(0x39f),'name':_0x335401(0x192)},{'category':'เรขาคณิตวิเคราะห์','name':'พาราโบลา'},{'category':'เรขาคณิตวิเคราะห์','name':'วงรี'},{'category':_0x335401(0x39f),'name':'ไฮเพอร์โบลา'},{'category':'ตรีโกณมิติ','name':_0x335401(0x408)},{'category':_0x335401(0x37c),'name':_0x335401(0x642)},{'category':'ตรีโกณมิติ','name':_0x335401(0x14c)},{'category':_0x335401(0x37c),'name':_0x335401(0x949)},{'category':_0x335401(0x37c),'name':'กฎของไซน์'},{'category':_0x335401(0x37c),'name':'กฎของโคไซน์'},{'category':'ตรีโกณมิติ','name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':'ตรีโกณมิติ','name':'การแปลงรูปอัตลักษณ์'},{'category':_0x335401(0x37c),'name':_0x335401(0x4c0)},{'category':_0x335401(0x37c),'name':_0x335401(0x342)},{'category':_0x335401(0x37c),'name':_0x335401(0x47d)},{'category':_0x335401(0xa2),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x335401(0xa2),'name':_0x335401(0x108)},{'category':_0x335401(0xa2),'name':_0x335401(0x1d6)},{'category':_0x335401(0xa2),'name':_0x335401(0x243)},{'category':_0x335401(0xa2),'name':_0x335401(0x418)},{'category':_0x335401(0xa2),'name':_0x335401(0x303)},{'category':'สถิติและความน่าจะเป็น','name':_0x335401(0x71b)},{'category':_0x335401(0xa2),'name':_0x335401(0xf7)},{'category':_0x335401(0xa2),'name':'ฐานนิยม'},{'category':'สถิติและความน่าจะเป็น','name':_0x335401(0x59b)},{'category':'สถิติและความน่าจะเป็น','name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x335401(0xa2),'name':'ความแปรปรวน'},{'category':_0x335401(0xa2),'name':_0x335401(0x54f)},{'category':_0x335401(0xa2),'name':_0x335401(0x21e)},{'category':_0x335401(0xa2),'name':_0x335401(0x502)},{'category':_0x335401(0xa2),'name':_0x335401(0x24f)},{'category':_0x335401(0xa2),'name':'กฎบวกและกฎคูณ'},{'category':_0x335401(0xa2),'name':_0x335401(0x7ad)},{'category':'สถิติและความน่าจะเป็น','name':_0x335401(0x2cd)},{'category':_0x335401(0xa2),'name':_0x335401(0x1b2)},{'category':_0x335401(0xa2),'name':_0x335401(0x3be)},{'category':_0x335401(0xa2),'name':_0x335401(0x482)},{'category':'สถิติและความน่าจะเป็น','name':_0x335401(0xae)},{'category':'สถิติและความน่าจะเป็น','name':_0x335401(0x81a)},{'category':_0x335401(0x233),'name':_0x335401(0x18f)},{'category':_0x335401(0x233),'name':_0x335401(0x44b)},{'category':'แคลคูลัสเบื้องต้น','name':_0x335401(0x433)},{'category':'แคลคูลัสเบื้องต้น','name':_0x335401(0xaf)},{'category':_0x335401(0x233),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0x335401(0x233),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x335401(0x233),'name':'ความชันเส้นสัมผัส'},{'category':_0x335401(0x233),'name':_0x335401(0x248)},{'category':_0x335401(0x233),'name':_0x335401(0x544)},{'category':_0x335401(0x233),'name':_0x335401(0x682)},{'category':'แคลคูลัสเบื้องต้น','name':_0x335401(0x96a)},{'category':'แคลคูลัสเบื้องต้น','name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x335401(0x233),'name':_0x335401(0x7c)},{'category':_0x335401(0x173),'name':_0x335401(0x6e1)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x335401(0x95a)},{'category':_0x335401(0x173),'name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':_0x335401(0x173),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x335401(0x173),'name':_0x335401(0x40d)},{'category':_0x335401(0x173),'name':_0x335401(0x88e)},{'category':_0x335401(0x173),'name':_0x335401(0x1f6)},{'category':_0x335401(0x26d),'name':_0x335401(0x701)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x335401(0x912)},{'category':'คณิตการเงิน/บูรณาการ','name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':_0x335401(0x26d),'name':'ค่าเสื่อมราคา'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x335401(0x459)},{'category':_0x335401(0x76f),'name':_0x335401(0x97d)},{'category':_0x335401(0x76f),'name':_0x335401(0x3d0)},{'category':_0x335401(0x76f),'name':_0x335401(0x3a2)}];function renderTopicCheckboxes(){const _0x1609fe=_0x335401,_0x1a90b9=document[_0x1609fe(0x11a)](_0x1609fe(0x6a8));if(!_0x1a90b9)return;const _0x341967=allMathTopics,_0x289481=customMathTopics['map'](_0x533be3=>({'id':_0x533be3['id'],'category':_0x1609fe(0x453),'name':_0x533be3[_0x1609fe(0x20b)]})),_0x5b757d=[..._0x341967,..._0x289481],_0x5c6f76=_0x5b757d[_0x1609fe(0xe4)]((_0x393834,_0x4c5dfd)=>{const _0x269b43=_0x1609fe;return!_0x393834[_0x4c5dfd['category']]&&(_0x393834[_0x4c5dfd[_0x269b43(0x5b9)]]=[]),_0x393834[_0x4c5dfd['category']][_0x269b43(0x135)](_0x4c5dfd),_0x393834;},{});let _0x415cd5='';const _0x2a2921=[_0x1609fe(0x453),...Object['keys'](_0x5c6f76)[_0x1609fe(0x84b)](_0xd4a455=>_0xd4a455!==_0x1609fe(0x453))];for(const _0x45df33 of _0x2a2921){if(_0x5c6f76[_0x45df33]){const _0x12e21f=_0x45df33==='หัวข้อที่สร้างเอง',_0x8313ba=_0x12e21f?'fas\x20fa-user-edit':'fas\x20fa-bookmark',_0x21eaf5=_0x12e21f?_0x1609fe(0x423):'text-indigo-700';_0x415cd5+=_0x1609fe(0x22d),_0x415cd5+=_0x1609fe(0x54a)+_0x21eaf5+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x8313ba+_0x1609fe(0x92f)+_0x45df33+_0x1609fe(0x472),_0x5c6f76[_0x45df33][_0x1609fe(0x40a)](_0x5a8178=>{const _0x4a33ec=_0x1609fe,_0x46134f=!!_0x5a8178['id'],_0x4e7816=_0x46134f?_0x4a33ec(0x380)+_0x5a8178['id']+_0x4a33ec(0x4e9)+_0x5a8178['id']+_0x4a33ec(0x535)+_0x5a8178['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5a8178['id']+_0x4a33ec(0x720):'';_0x415cd5+=_0x4a33ec(0x6ef)+(_0x5a8178['id']||'')+_0x4a33ec(0x140)+_0x5a8178[_0x4a33ec(0x20b)]+_0x4a33ec(0x604)+_0x5a8178[_0x4a33ec(0x20b)]+_0x4a33ec(0x96d)+(_0x46134f?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x5a8178[_0x4a33ec(0x20b)]+'\x22>':'')+_0x4a33ec(0x1eb)+_0x4e7816+_0x4a33ec(0x67a);}),_0x415cd5+=_0x1609fe(0x9ab);}}_0x1a90b9[_0x1609fe(0x297)]=_0x415cd5||_0x1609fe(0xdd),_0x1a90b9[_0x1609fe(0x2b3)](_0x1609fe(0x5cf),updateSelectedTopicsCount),_0x1a90b9[_0x1609fe(0x1e2)](_0x1609fe(0x5cf),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x54df09,_0x3c259a){const _0x33008e=_0x335401;if(!_0x54df09||!_0x3c259a[_0x33008e(0xa5)]()){showMessage(_0x33008e(0x250));return;}try{const _0x43d8ca=doc(db,_0x33008e(0x82)+appId+_0x33008e(0x35d),_0x54df09);await updateDoc(_0x43d8ca,{'name':_0x3c259a[_0x33008e(0xa5)]()}),showMessage(_0x33008e(0x798));}catch(_0x44dc25){console[_0x33008e(0x529)](_0x33008e(0x5f0),_0x44dc25),showMessage(_0x33008e(0x3c5));}}function toggleTopicEditMode(_0x4c9372,_0x4b2558){const _0x3588eb=_0x335401;if(!_0x4c9372)return;const _0x802ad2=_0x4c9372[_0x3588eb(0x341)](_0x3588eb(0x4a3)),_0x3a1b99=_0x4c9372[_0x3588eb(0x341)]('.topic-name-input'),_0xac081d=_0x4c9372[_0x3588eb(0x341)]('.topic-actions-view'),_0xc0f388=_0x4c9372['querySelector'](_0x3588eb(0x99f));_0x802ad2[_0x3588eb(0x8f)][_0x3588eb(0x995)](_0x3588eb(0x6f8),_0x4b2558),_0x3a1b99['classList'][_0x3588eb(0x995)](_0x3588eb(0x6f8),!_0x4b2558),_0xac081d[_0x3588eb(0x8f)][_0x3588eb(0x995)](_0x3588eb(0x6f8),_0x4b2558),_0xc0f388[_0x3588eb(0x8f)][_0x3588eb(0x995)](_0x3588eb(0x6f8),!_0x4b2558),_0x4b2558&&(_0x3a1b99[_0x3588eb(0x447)](),_0x3a1b99['select']());}async function handleStartLiveRace(_0x1ca96f){const _0x446b6c=_0x335401;let _0x162696=allQuizzes['find'](_0x1f40ef=>_0x1f40ef['id']===_0x1ca96f);if(!_0x162696){const _0x35a538=doc(db,_0x446b6c(0x82)+appId+_0x446b6c(0x5e5),_0x1ca96f),_0x5bc22e=await getDoc(_0x35a538);if(!_0x5bc22e[_0x446b6c(0x91b)]()){showMessage(_0x446b6c(0x46b));return;}_0x162696={'id':_0x5bc22e['id'],..._0x5bc22e[_0x446b6c(0x33f)]()};}const _0x51dfb6=getShuffledQuiz(_0x162696);currentQuizData=_0x51dfb6;const _0x31db48=_0x162696[_0x446b6c(0x4b5)]||currentProjectId||null,_0x3eeb63=Math[_0x446b6c(0x72)](0x3e8+Math[_0x446b6c(0x8fe)]()*0x2328)[_0x446b6c(0x5dc)]();currentLiveGamePin=_0x3eeb63;try{const _0x337265=await addDoc(collection(db,'artifacts/'+appId+'/public/data/liveGames'),{'quizId':_0x1ca96f,'projectId':_0x31db48,'status':_0x446b6c(0x538),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x3eeb63,'createdAt':serverTimestamp(),'shuffledQuiz':_0x51dfb6});currentLiveGameId=_0x337265['id'],showAdminLobbyView(_0x3eeb63,_0x162696[_0x446b6c(0x7d5)]),listenForLiveGameUpdates();}catch(_0x509d86){console[_0x446b6c(0x529)](_0x446b6c(0x65e),_0x509d86),showMessage(_0x446b6c(0x49f));}}function updateSelectedTopicsCount(){const _0x49773e=_0x335401,_0x44edfa=document['getElementById'](_0x49773e(0x6a8)),_0x4ac0b4=_0x44edfa[_0x49773e(0xf8)](_0x49773e(0x50b))['length'],_0x3a1a6a=document[_0x49773e(0x11a)](_0x49773e(0x723));_0x4ac0b4>0x0?_0x3a1a6a['textContent']=_0x49773e(0x1c6)+_0x4ac0b4+'\x20หัวข้อ)':_0x3a1a6a[_0x49773e(0x9a9)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x335401(0x4e4),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x335401(0x37e),quizLeaderboardSortOrder=_0x335401(0x19e),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x335401(0xd1),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x335401(0xe2),scratchpadPenColor=_0x335401(0x73d),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x3e8374,_0x46c678){const _0x10e1d0=_0x335401;return Math[_0x10e1d0(0x523)](Math[_0x10e1d0(0x263)](_0x3e8374['x']-_0x46c678['x'],0x2)+Math[_0x10e1d0(0x263)](_0x3e8374['y']-_0x46c678['y'],0x2));}function getMidpoint(_0x812ac2,_0x15f495){return{'x':(_0x812ac2['x']+_0x15f495['x'])/0x2,'y':(_0x812ac2['y']+_0x15f495['y'])/0x2};}function getTransformedPoint(_0x1b5613,_0x2b3cc0){return{'x':(_0x1b5613-scratchpadOffset['x'])/scratchpadScale,'y':(_0x2b3cc0-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x3cbf06=_0x335401;if(!scratchpadCtx)return;const _0x30503a=scratchpadCtx['canvas'],_0x47bfa0=window[_0x3cbf06(0x458)]||0x1,_0x1e41fc=document['getElementById'](_0x3cbf06(0x3b4));_0x1e41fc&&(_0x1e41fc[_0x3cbf06(0x149)]['transformOrigin']='0\x200',_0x1e41fc[_0x3cbf06(0x149)][_0x3cbf06(0x968)]=_0x3cbf06(0x848)+scratchpadOffset['x']+'px,\x20'+scratchpadOffset['y']+_0x3cbf06(0x6e8)+scratchpadScale+')'),scratchpadCtx[_0x3cbf06(0x616)](),scratchpadCtx['setTransform'](_0x47bfa0,0x0,0x0,_0x47bfa0,0x0,0x0),scratchpadCtx[_0x3cbf06(0x180)](0x0,0x0,_0x30503a[_0x3cbf06(0x823)],_0x30503a[_0x3cbf06(0x8a0)]),scratchpadCtx[_0x3cbf06(0x9a3)](),scratchpadCtx['save'](),scratchpadCtx[_0x3cbf06(0x961)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x3cbf06(0x456)](scratchpadScale,scratchpadScale),strokes[_0x3cbf06(0x40a)](_0x14a05e=>{drawStroke(_0x14a05e);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x3cbf06(0x9a3)]();}function handlePointerDown(_0x437779){const _0x58978c=_0x335401;_0x437779['preventDefault']();const _0x4cb352=scratchpadCtx[_0x58978c(0x79b)],_0x38bbb8=_0x4cb352[_0x58978c(0x13f)](),_0x3f6bb3=_0x437779['pointerType']||(_0x437779['touches']?'touch':_0x58978c(0x99a));if(_0x3f6bb3===_0x58978c(0xe2)||_0x3f6bb3===_0x58978c(0x99a)){if(_0x437779[_0x58978c(0x31d)]==='mouse'&&_0x437779[_0x58978c(0x821)]!==0x0){_0x437779[_0x58978c(0x821)]===0x1&&(isMousePanning=!![],panStart={'x':_0x437779[_0x58978c(0x1c2)],'y':_0x437779['clientY']},_0x4cb352[_0x58978c(0x149)][_0x58978c(0x3f0)]=_0x58978c(0x27f));return;}activeTool===_0x58978c(0x89e)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x144331=getTransformedPoint(_0x437779[_0x58978c(0x1c2)]-_0x38bbb8[_0x58978c(0x80c)],_0x437779[_0x58978c(0x7d8)]-_0x38bbb8[_0x58978c(0x4d9)]);let _0x364369={'tool':activeTool,'points':[_0x144331]};if(activeTool===_0x58978c(0x5ab))_0x364369['color']=scratchpadHighlighterColor,_0x364369['size']=scratchpadHighlighterSize;else activeTool===_0x58978c(0x89e)?(_0x364369[_0x58978c(0x9c6)]=scratchpadPenColor,_0x364369[_0x58978c(0x74b)]=scratchpadPenSize):(_0x364369[_0x58978c(0x9c6)]=scratchpadPenColor,_0x364369[_0x58978c(0x74b)]=scratchpadPenSize);currentStroke=_0x364369;}else _0x437779[_0x58978c(0x66f)]&&(_0x437779['touches'][_0x58978c(0x38d)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x437779[_0x58978c(0x66f)][0x0][_0x58978c(0x1c2)],'y':_0x437779[_0x58978c(0x66f)][0x0][_0x58978c(0x7d8)]},{'x':_0x437779['touches'][0x1][_0x58978c(0x1c2)],'y':_0x437779[_0x58978c(0x66f)][0x1][_0x58978c(0x7d8)]}),initialPinchDistance=getDistance({'x':_0x437779[_0x58978c(0x66f)][0x0]['clientX'],'y':_0x437779[_0x58978c(0x66f)][0x0][_0x58978c(0x7d8)]},{'x':_0x437779[_0x58978c(0x66f)][0x1][_0x58978c(0x1c2)],'y':_0x437779['touches'][0x1][_0x58978c(0x7d8)]})));}function animateTrail(){const _0x5600f6=_0x335401,_0x3837ec=Date[_0x5600f6(0x160)]();let _0x11c93a=![];for(let _0xa99c0d=strokes[_0x5600f6(0x38d)]-0x1;_0xa99c0d>=0x0;_0xa99c0d--){const _0x4e1b5a=strokes[_0xa99c0d];if(_0x4e1b5a[_0x5600f6(0x21c)]===_0x5600f6(0x89e)&&_0x4e1b5a[_0x5600f6(0x61a)]){const _0x2bb851=_0x3837ec-_0x4e1b5a[_0x5600f6(0x61a)];_0x2bb851>=TRAIL_DURATION?strokes[_0x5600f6(0x1b4)](_0xa99c0d,0x1):(_0x4e1b5a['opacity']=0x1-_0x2bb851/TRAIL_DURATION,_0x11c93a=!![]);}}redrawScratchpad(),_0x11c93a?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x1d0f71){const _0x19558f=_0x335401;if(!_0x1d0f71||_0x1d0f71[_0x19558f(0xfe)]['length']<0x1)return;scratchpadCtx[_0x19558f(0x616)](),scratchpadCtx['lineJoin']='round',scratchpadCtx[_0x19558f(0xc4)]='round';if(_0x1d0f71[_0x19558f(0x21c)]===_0x19558f(0x89e)){const _0x42cbe7=_0x1d0f71['size']/scratchpadScale;scratchpadCtx[_0x19558f(0x8dd)]=_0x1d0f71[_0x19558f(0x262)]??0x1,scratchpadCtx['shadowColor']='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx[_0x19558f(0x68e)]=_0x42cbe7*0x3,scratchpadCtx[_0x19558f(0x965)]=_0x19558f(0x3a9),scratchpadCtx[_0x19558f(0x59d)]=_0x42cbe7*2.5,scratchpadCtx[_0x19558f(0x3d7)](),scratchpadCtx['moveTo'](_0x1d0f71[_0x19558f(0xfe)][0x0]['x'],_0x1d0f71[_0x19558f(0xfe)][0x0]['y']);for(let _0x3fb2e3=0x1;_0x3fb2e3<_0x1d0f71[_0x19558f(0xfe)]['length']-0x1;_0x3fb2e3++){const _0x28c714=getMidpoint(_0x1d0f71[_0x19558f(0xfe)][_0x3fb2e3],_0x1d0f71['points'][_0x3fb2e3+0x1]);scratchpadCtx['quadraticCurveTo'](_0x1d0f71[_0x19558f(0xfe)][_0x3fb2e3]['x'],_0x1d0f71[_0x19558f(0xfe)][_0x3fb2e3]['y'],_0x28c714['x'],_0x28c714['y']);}scratchpadCtx[_0x19558f(0x38e)](),scratchpadCtx['shadowColor']=_0x19558f(0x666),scratchpadCtx[_0x19558f(0x68e)]=0x0,scratchpadCtx['strokeStyle']=_0x19558f(0x47b),scratchpadCtx[_0x19558f(0x59d)]=_0x42cbe7,scratchpadCtx['stroke'](),scratchpadCtx['closePath']();}else{if(_0x1d0f71['tool']==='highlighter'){scratchpadCtx[_0x19558f(0x1bd)]=_0x19558f(0x707),scratchpadCtx[_0x19558f(0x965)]=_0x1d0f71['color'],scratchpadCtx[_0x19558f(0x59d)]=_0x1d0f71[_0x19558f(0x74b)],scratchpadCtx[_0x19558f(0x3d7)](),scratchpadCtx[_0x19558f(0x92c)](_0x1d0f71[_0x19558f(0xfe)][0x0]['x'],_0x1d0f71[_0x19558f(0xfe)][0x0]['y']);for(let _0x17a1ae=0x1;_0x17a1ae<_0x1d0f71[_0x19558f(0xfe)][_0x19558f(0x38d)]-0x1;_0x17a1ae++){const _0x4f2c06=getMidpoint(_0x1d0f71[_0x19558f(0xfe)][_0x17a1ae],_0x1d0f71[_0x19558f(0xfe)][_0x17a1ae+0x1]);scratchpadCtx[_0x19558f(0x624)](_0x1d0f71[_0x19558f(0xfe)][_0x17a1ae]['x'],_0x1d0f71['points'][_0x17a1ae]['y'],_0x4f2c06['x'],_0x4f2c06['y']);}scratchpadCtx[_0x19558f(0x38e)](),scratchpadCtx[_0x19558f(0x13c)]();}else{scratchpadCtx[_0x19558f(0x1bd)]=_0x1d0f71[_0x19558f(0x21c)]===_0x19558f(0x3b3)?'destination-out':_0x19558f(0x350),scratchpadCtx[_0x19558f(0x965)]=_0x1d0f71['color'],scratchpadCtx[_0x19558f(0x59d)]=_0x1d0f71[_0x19558f(0x74b)],scratchpadCtx['beginPath'](),scratchpadCtx['moveTo'](_0x1d0f71[_0x19558f(0xfe)][0x0]['x'],_0x1d0f71['points'][0x0]['y']);for(let _0x3cf53f=0x1;_0x3cf53f<_0x1d0f71['points'][_0x19558f(0x38d)]-0x1;_0x3cf53f++){const _0x36f099=getMidpoint(_0x1d0f71[_0x19558f(0xfe)][_0x3cf53f],_0x1d0f71[_0x19558f(0xfe)][_0x3cf53f+0x1]);scratchpadCtx[_0x19558f(0x624)](_0x1d0f71[_0x19558f(0xfe)][_0x3cf53f]['x'],_0x1d0f71[_0x19558f(0xfe)][_0x3cf53f]['y'],_0x36f099['x'],_0x36f099['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x19558f(0x13c)]();}}scratchpadCtx[_0x19558f(0x9a3)]();}function handlePointerMove(_0x2385bf){const _0x2b1c86=_0x335401;_0x2385bf[_0x2b1c86(0x784)]();const _0x3d7436=scratchpadCtx[_0x2b1c86(0x79b)],_0x422072=_0x3d7436['getBoundingClientRect']();if(_0x2385bf['touches']){if(_0x2385bf[_0x2b1c86(0x66f)][_0x2b1c86(0x38d)]===0x1&&isDrawingOnScratchpad){const _0x3a29bf=getTransformedPoint(_0x2385bf[_0x2b1c86(0x66f)][0x0][_0x2b1c86(0x1c2)]-_0x422072[_0x2b1c86(0x80c)],_0x2385bf['touches'][0x0][_0x2b1c86(0x7d8)]-_0x422072[_0x2b1c86(0x4d9)]);currentStroke['points'][_0x2b1c86(0x135)](_0x3a29bf),redrawScratchpad();}else{if(_0x2385bf[_0x2b1c86(0x66f)][_0x2b1c86(0x38d)]===0x2&&isPanning){const _0x5de635=getDistance({'x':_0x2385bf[_0x2b1c86(0x66f)][0x0][_0x2b1c86(0x1c2)],'y':_0x2385bf[_0x2b1c86(0x66f)][0x0]['clientY']},{'x':_0x2385bf[_0x2b1c86(0x66f)][0x1][_0x2b1c86(0x1c2)],'y':_0x2385bf[_0x2b1c86(0x66f)][0x1]['clientY']}),_0x4d93c0=getMidpoint({'x':_0x2385bf[_0x2b1c86(0x66f)][0x0]['clientX'],'y':_0x2385bf['touches'][0x0][_0x2b1c86(0x7d8)]},{'x':_0x2385bf[_0x2b1c86(0x66f)][0x1][_0x2b1c86(0x1c2)],'y':_0x2385bf[_0x2b1c86(0x66f)][0x1]['clientY']}),_0x4e63c7=_0x5de635/ initialPinchDistance,_0x1f358a=Math[_0x2b1c86(0x30a)](Math[_0x2b1c86(0x594)](scratchpadScale*_0x4e63c7,MIN_SCALE),MAX_SCALE),_0x29edbd=_0x4d93c0['x']-panStart['x'],_0x589784=_0x4d93c0['y']-panStart['y'];scratchpadOffset['x']=_0x4d93c0['x']-(_0x4d93c0['x']-scratchpadOffset['x'])*(_0x1f358a/scratchpadScale),scratchpadOffset['y']=_0x4d93c0['y']-(_0x4d93c0['y']-scratchpadOffset['y'])*(_0x1f358a/scratchpadScale),scratchpadOffset['x']+=_0x29edbd,scratchpadOffset['y']+=_0x589784,scratchpadScale=_0x1f358a,initialPinchDistance=_0x5de635,panStart=_0x4d93c0,redrawScratchpad();}}}else{if(isMousePanning){const _0xd82c24=_0x2385bf[_0x2b1c86(0x1c2)]-panStart['x'],_0x31f63a=_0x2385bf['clientY']-panStart['y'];scratchpadOffset['x']+=_0xd82c24,scratchpadOffset['y']+=_0x31f63a,panStart={'x':_0x2385bf[_0x2b1c86(0x1c2)],'y':_0x2385bf[_0x2b1c86(0x7d8)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0xae5532=getTransformedPoint(_0x2385bf['clientX']-_0x422072[_0x2b1c86(0x80c)],_0x2385bf['clientY']-_0x422072[_0x2b1c86(0x4d9)]);currentStroke[_0x2b1c86(0xfe)]['push'](_0xae5532),redrawScratchpad();}}}}function handlePointerUp(_0x42f97f){const _0x2f5c0e=_0x335401;_0x42f97f['preventDefault']();const _0x18f2d0=scratchpadCtx[_0x2f5c0e(0x79b)];isMousePanning&&(isMousePanning=![],_0x18f2d0['style']['cursor']=_0x2f5c0e(0x831)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x2f5c0e(0xfe)][_0x2f5c0e(0x38d)]>0x1&&(strokes[_0x2f5c0e(0x135)](currentStroke),currentStroke['tool']==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x3f5de5=_0x2f5c0e,_0xf9a5c7=strokes[_0x3f5de5(0x84b)](_0x2911bd=>_0x2911bd['tool']==='trail'&&!_0x2911bd[_0x3f5de5(0x61a)]);if(_0xf9a5c7[_0x3f5de5(0x38d)]>0x0){const _0x2ed586=Date[_0x3f5de5(0x160)]();_0xf9a5c7[_0x3f5de5(0x40a)](_0x3a9b49=>_0x3a9b49['fadeStartTime']=_0x2ed586),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x3ca67c){const _0x246582=_0x335401;_0x3ca67c['preventDefault']();const _0x1ea5ee=_0x3ca67c['deltaY']*-0.005,_0x505c0b=Math[_0x246582(0x30a)](Math['max'](scratchpadScale+_0x1ea5ee,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x3ca67c[_0x246582(0x1c2)]-(_0x3ca67c['clientX']-scratchpadOffset['x'])*(_0x505c0b/scratchpadScale),scratchpadOffset['y']=_0x3ca67c[_0x246582(0x7d8)]-(_0x3ca67c[_0x246582(0x7d8)]-scratchpadOffset['y'])*(_0x505c0b/scratchpadScale),scratchpadScale=_0x505c0b,redrawScratchpad();}function undo(){const _0x1a1ff2=_0x335401;strokes[_0x1a1ff2(0x38d)]>0x0&&(redoStrokes[_0x1a1ff2(0x135)](strokes[_0x1a1ff2(0x50c)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x4ea019=_0x335401;redoStrokes[_0x4ea019(0x38d)]>0x0&&(strokes[_0x4ea019(0x135)](redoStrokes[_0x4ea019(0x50c)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x479f88=_0x335401;document[_0x479f88(0x11a)](_0x479f88(0x767))[_0x479f88(0x53e)]=strokes[_0x479f88(0x38d)]===0x0,document[_0x479f88(0x11a)]('redo-btn')[_0x479f88(0x53e)]=redoStrokes[_0x479f88(0x38d)]===0x0;}function openScratchpad(_0xb75de6,_0x4ae788){const _0x3176ae=_0x335401,_0x1a2e57=document[_0x3176ae(0x11a)]('scratchpad-modal'),_0x2e502f=document[_0x3176ae(0x11a)](_0x3176ae(0x79f)),_0x5d4c99=document[_0x3176ae(0x11a)]('scratchpad-options'),_0x88b71a=document[_0x3176ae(0x11a)](_0x3176ae(0x3f3));_0x2e502f[_0x3176ae(0x9a9)]=_0xb75de6[_0x3176ae(0x99e)]||_0xb75de6['questionText'],_0x5d4c99[_0x3176ae(0x297)]=_0x4ae788[_0x3176ae(0x4eb)]((_0x2ce5d7,_0x10d055)=>_0x3176ae(0x8d8)+String[_0x3176ae(0x64c)](0x41+_0x10d055)+'.\x20'+_0x2ce5d7+_0x3176ae(0x9ab))[_0x3176ae(0x7d)](''),_0x88b71a['innerHTML']=_0x3176ae(0x478),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x1a2e57[_0x3176ae(0x8f)][_0x3176ae(0x57c)](_0x3176ae(0x6f8)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax['typesetPromise']([_0x2e502f,_0x5d4c99]);}function initializeScratchpadCanvas(){const _0x2d8b7f=_0x335401,_0x1e150d=document[_0x2d8b7f(0x11a)]('scratchpad-canvas'),_0x3563b4=document[_0x2d8b7f(0x341)](_0x2d8b7f(0x962));if(!_0x1e150d||!_0x3563b4)return;scratchpadCtx=_0x1e150d[_0x2d8b7f(0x797)]('2d',{'willReadFrequently':!![]});const _0x3a1f44=window[_0x2d8b7f(0x458)]||0x1,_0x46722f=_0x3563b4['getBoundingClientRect']();_0x1e150d[_0x2d8b7f(0x823)]=_0x46722f['width']*_0x3a1f44,_0x1e150d[_0x2d8b7f(0x8a0)]=_0x46722f[_0x2d8b7f(0x8a0)]*_0x3a1f44,_0x1e150d[_0x2d8b7f(0x149)][_0x2d8b7f(0x823)]=_0x46722f[_0x2d8b7f(0x823)]+'px',_0x1e150d[_0x2d8b7f(0x149)][_0x2d8b7f(0x8a0)]=_0x46722f[_0x2d8b7f(0x8a0)]+'px',scratchpadCtx[_0x2d8b7f(0x456)](_0x3a1f44,_0x3a1f44),scratchpadCtx[_0x2d8b7f(0x945)]=_0x2d8b7f(0x929),scratchpadCtx['lineCap']=_0x2d8b7f(0x929),_0x1e150d[_0x2d8b7f(0x2b3)](_0x2d8b7f(0x65d),handlePointerDown),_0x1e150d['removeEventListener'](_0x2d8b7f(0x45e),handlePointerMove),_0x1e150d[_0x2d8b7f(0x2b3)](_0x2d8b7f(0x1bc),handlePointerUp),_0x1e150d[_0x2d8b7f(0x2b3)]('pointercancel',handlePointerUp),_0x1e150d[_0x2d8b7f(0x2b3)](_0x2d8b7f(0x6d0),handleWheel),_0x1e150d['removeEventListener'](_0x2d8b7f(0x7f8),handlePointerDown),_0x1e150d[_0x2d8b7f(0x2b3)](_0x2d8b7f(0x2b9),handlePointerMove),_0x1e150d['removeEventListener'](_0x2d8b7f(0x541),handlePointerUp),_0x1e150d[_0x2d8b7f(0x1e2)](_0x2d8b7f(0x65d),handlePointerDown),_0x1e150d[_0x2d8b7f(0x1e2)]('pointermove',handlePointerMove),_0x1e150d[_0x2d8b7f(0x1e2)](_0x2d8b7f(0x1bc),handlePointerUp),_0x1e150d[_0x2d8b7f(0x1e2)]('pointercancel',handlePointerUp),_0x1e150d[_0x2d8b7f(0x1e2)](_0x2d8b7f(0x6d0),handleWheel,{'passive':![]}),_0x1e150d[_0x2d8b7f(0x1e2)](_0x2d8b7f(0x7f8),handlePointerDown,{'passive':![]}),_0x1e150d[_0x2d8b7f(0x1e2)]('touchmove',handlePointerMove,{'passive':![]}),_0x1e150d['addEventListener'](_0x2d8b7f(0x541),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x25f84d=_0x335401,_0x250a41=document[_0x25f84d(0x11a)](_0x25f84d(0x98b)),_0x45f335=document['getElementById'](_0x25f84d(0x3f3));_0x45f335[_0x25f84d(0x297)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>'+scratchpadHighlighterSize+_0x25f84d(0x5df);const _0x2afead=document[_0x25f84d(0x11a)](_0x25f84d(0x773)),_0x15db78=document[_0x25f84d(0x11a)](_0x25f84d(0x137)),_0x155db5=document[_0x25f84d(0x11a)]('trail-tool-btn'),_0x7996c3=document[_0x25f84d(0x11a)]('highlighter-tool-btn'),_0x55a2b8=document['getElementById'](_0x25f84d(0xfc)),_0x4fe586=document[_0x25f84d(0x11a)](_0x25f84d(0x3b2)),_0x1c483c=[_0x2afead,_0x15db78,_0x155db5,_0x7996c3];document['getElementById'](_0x25f84d(0x86c))[_0x25f84d(0x1e2)](_0x25f84d(0x91d),()=>_0x250a41[_0x25f84d(0x8f)][_0x25f84d(0x85b)]('hidden')),document[_0x25f84d(0x11a)](_0x25f84d(0x2fd))[_0x25f84d(0x1e2)]('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x25f84d(0x11a)](_0x25f84d(0x435))[_0x25f84d(0x1e2)]('click',()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x25f84d(0x11a)](_0x25f84d(0x767))['addEventListener'](_0x25f84d(0x91d),undo),document[_0x25f84d(0x11a)](_0x25f84d(0x696))[_0x25f84d(0x1e2)]('click',redo);const _0x36fe61=_0x2764ad=>{const _0x1e8763=_0x25f84d;_0x1c483c[_0x1e8763(0x40a)](_0x1b46bb=>_0x1b46bb[_0x1e8763(0x8f)]['remove'](_0x1e8763(0x8eb))),_0x2764ad[_0x1e8763(0x8f)]['add']('active');const _0x5b3504=_0x2764ad===_0x7996c3;_0x55a2b8[_0x1e8763(0x8f)][_0x1e8763(0x995)](_0x1e8763(0x6f8),_0x5b3504),_0x4fe586[_0x1e8763(0x8f)]['toggle']('hidden',!_0x5b3504);};_0x2afead[_0x25f84d(0x1e2)](_0x25f84d(0x91d),()=>{const _0x507038=_0x25f84d;activeTool=_0x507038(0xe2),_0x36fe61(_0x2afead);}),_0x15db78[_0x25f84d(0x1e2)](_0x25f84d(0x91d),()=>{const _0x84dacc=_0x25f84d;activeTool=_0x84dacc(0x3b3),_0x36fe61(_0x15db78);}),_0x155db5[_0x25f84d(0x1e2)](_0x25f84d(0x91d),()=>{const _0x2c0e8c=_0x25f84d;activeTool=_0x2c0e8c(0x89e),_0x36fe61(_0x155db5);}),_0x7996c3[_0x25f84d(0x1e2)]('click',()=>{const _0x2c32d8=_0x25f84d;activeTool=_0x2c32d8(0x5ab),_0x36fe61(_0x7996c3);}),_0x55a2b8[_0x25f84d(0xf8)](_0x25f84d(0x370))[_0x25f84d(0x40a)](_0x5862f0=>{const _0x3e2148=_0x25f84d;_0x5862f0['addEventListener'](_0x3e2148(0x91d),_0x18e44a=>{const _0x159d69=_0x3e2148;scratchpadPenSize=parseInt(_0x18e44a[_0x159d69(0x5c6)][_0x159d69(0x93d)][_0x159d69(0x74b)],0xa),_0x55a2b8[_0x159d69(0xf8)]('.pen-size-btn')[_0x159d69(0x40a)](_0x29817d=>_0x29817d[_0x159d69(0x8f)]['remove'](_0x159d69(0x8eb))),_0x18e44a[_0x159d69(0x5c6)][_0x159d69(0x8f)]['add']('active');});}),_0x55a2b8[_0x25f84d(0xf8)]('.pen-color-btn')[_0x25f84d(0x40a)](_0x308337=>{const _0x2b5786=_0x25f84d;_0x308337[_0x2b5786(0x1e2)](_0x2b5786(0x91d),_0x3c1c8d=>{const _0x1eed2b=_0x2b5786;scratchpadPenColor=_0x3c1c8d[_0x1eed2b(0x5c6)]['dataset'][_0x1eed2b(0x9c6)],_0x55a2b8[_0x1eed2b(0xf8)](_0x1eed2b(0x281))['forEach'](_0x5a98f1=>_0x5a98f1[_0x1eed2b(0x8f)][_0x1eed2b(0x57c)](_0x1eed2b(0x8eb))),_0x3c1c8d[_0x1eed2b(0x5c6)][_0x1eed2b(0x8f)][_0x1eed2b(0x85b)](_0x1eed2b(0x8eb));});}),_0x4fe586[_0x25f84d(0xf8)]('.highlighter-color-btn')[_0x25f84d(0x40a)](_0xec1660=>{const _0xc5243a=_0x25f84d;_0xec1660[_0xc5243a(0x1e2)](_0xc5243a(0x91d),_0xe6c83d=>{const _0x34e55f=_0xc5243a;scratchpadHighlighterColor=_0xe6c83d['target'][_0x34e55f(0x93d)][_0x34e55f(0x9c6)],_0x4fe586[_0x34e55f(0xf8)]('.highlighter-color-btn')[_0x34e55f(0x40a)](_0x534439=>_0x534439['classList'][_0x34e55f(0x57c)](_0x34e55f(0x8eb))),_0xe6c83d[_0x34e55f(0x5c6)][_0x34e55f(0x8f)][_0x34e55f(0x85b)](_0x34e55f(0x8eb));});});const _0x325e08=document[_0x25f84d(0x11a)]('highlighter-size-slider'),_0x49b337=document['getElementById'](_0x25f84d(0x152));_0x325e08[_0x25f84d(0x1e2)]('input',_0x82ccbf=>{const _0x2ea579=_0x25f84d,_0x178eaa=parseInt(_0x82ccbf[_0x2ea579(0x5c6)]['value'],0xa);scratchpadHighlighterSize=_0x178eaa,_0x49b337[_0x2ea579(0x9a9)]=_0x178eaa;}),window[_0x25f84d(0x1e2)](_0x25f84d(0x47c),()=>{const _0xe165f3=_0x25f84d;!_0x250a41['classList'][_0xe165f3(0x434)](_0xe165f3(0x6f8))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x335401(0x360),'name':_0x335401(0x8f9),'description':_0x335401(0x9c2),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':'quick_thinker','name':_0x335401(0x6ea),'description':_0x335401(0x445),'icon':_0x335401(0x1a4)},'ON_FIRE':{'id':_0x335401(0x6a5),'name':_0x335401(0x4ad),'description':_0x335401(0x42c),'icon':_0x335401(0xf1)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':_0x335401(0x3bb),'description':_0x335401(0x1b7),'icon':_0x335401(0x7c1)},'COMEBACK_KING':{'id':_0x335401(0x7ef),'name':_0x335401(0x14d),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x335401(0x30d),'name':'ผู้เชี่ยวชาญ','description':_0x335401(0x394),'icon':_0x335401(0x3bc)},'PERSEVERANCE':{'id':'perseverance','name':_0x335401(0x432),'description':_0x335401(0x9c9),'icon':_0x335401(0x6c3)}},firebaseConfig={'apiKey':_0x335401(0x560),'authDomain':_0x335401(0x1a1),'projectId':'newappai','storageBucket':_0x335401(0x1f9),'messagingSenderId':_0x335401(0x8d3),'appId':_0x335401(0x48e),'measurementId':'G-JGJ3WNEQP3'},appId=typeof __app_id!==_0x335401(0x264)?__app_id:_0x335401(0x7d0),adminView=document[_0x335401(0x11a)](_0x335401(0x808)),studentView=document[_0x335401(0x11a)](_0x335401(0x146)),projectDashboardView=document[_0x335401(0x11a)]('project-dashboard-view'),projectDetailView=document[_0x335401(0x11a)](_0x335401(0x6f1)),quizResultsView=document[_0x335401(0x11a)]('quiz-results-view'),projectList=document['getElementById'](_0x335401(0x828)),noProjectsMsg=document[_0x335401(0x11a)](_0x335401(0x97b)),projectTitle=document[_0x335401(0x11a)]('project-title'),projectIdDisplay=document[_0x335401(0x11a)](_0x335401(0x537)),studentList=document['getElementById'](_0x335401(0x23a)),messageModal=document[_0x335401(0x11a)](_0x335401(0x5e7)),modalMessage=document[_0x335401(0x11a)](_0x335401(0x895)),createProjectModal=document[_0x335401(0x11a)]('create-project-modal'),adminPasswordModal=document[_0x335401(0x11a)](_0x335401(0x8c2)),confirmationModal=document[_0x335401(0x11a)](_0x335401(0x5af)),userIdDisplay=document[_0x335401(0x11a)](_0x335401(0x16e)),topicTab=document['getElementById']('topic-tab'),textTab=document[_0x335401(0x11a)](_0x335401(0x8e7)),topicInputArea=document[_0x335401(0x11a)](_0x335401(0x8d4)),textInputArea=document[_0x335401(0x11a)](_0x335401(0x315)),manageTab=document['getElementById'](_0x335401(0x96b)),resultsTab=document['getElementById'](_0x335401(0x661)),leaderboardTab=document[_0x335401(0x11a)](_0x335401(0x3d1)),manageTabContent=document[_0x335401(0x11a)](_0x335401(0x648)),resultsTabContent=document[_0x335401(0x11a)]('results-tab-content'),leaderboardTabContent=document['getElementById'](_0x335401(0x11e)),projectQuizzesList=document[_0x335401(0x11a)](_0x335401(0x3d8)),fileTab=document[_0x335401(0x11a)]('file-tab'),fileInputArea=document[_0x335401(0x11a)](_0x335401(0x553)),fileUploadInput=document[_0x335401(0x11a)](_0x335401(0x4d2)),worksheetTab=document[_0x335401(0x11a)]('worksheet-tab'),worksheetInputArea=document['getElementById'](_0x335401(0x967)),generateWorksheetBtn=document[_0x335401(0x11a)](_0x335401(0x5c0)),studentInitialView=document[_0x335401(0x11a)](_0x335401(0xe8)),studentNameSelectionView=document['getElementById'](_0x335401(0x82c)),studentQuizArea=document[_0x335401(0x11a)](_0x335401(0x636)),studentResultArea=document[_0x335401(0x11a)](_0x335401(0x448)),studentReadingArea=document['getElementById'](_0x335401(0x900)),loadQuizBtn=document[_0x335401(0x11a)](_0x335401(0x6fa)),startQuizBtn=document['getElementById'](_0x335401(0x7fc)),studentJoinGameView=document[_0x335401(0x11a)](_0x335401(0x1d5)),presentationModal=document['getElementById'](_0x335401(0x580)),renameQuizModal=document[_0x335401(0x11a)](_0x335401(0x174)),moveQuizModal=document[_0x335401(0x11a)](_0x335401(0x8df)),quizSettingsModal=document[_0x335401(0x11a)](_0x335401(0x219)),quizStatusModal=document[_0x335401(0x11a)]('quiz-status-modal'),liveGameView=document['getElementById'](_0x335401(0x901));function handleAutoFixLatex(){const _0x102229=_0x335401,_0x53f871=document['getElementById']('quiz-editor-questions-container')||document,_0x48a4aa=_0x53f871[_0x102229(0xf8)]([_0x102229(0x647),_0x102229(0x644),_0x102229(0x197),_0x102229(0x3e1),_0x102229(0x437),_0x102229(0x5a2),_0x102229(0x8a7),_0x102229(0x190),'.answer-text']['join'](','));let _0x13a743=0x0;const _0x8259ca=_0x12364f=>_0x102229(0x5ce)in _0x12364f?String(_0x12364f['value']):_0x12364f['innerText']!==undefined?_0x12364f[_0x102229(0x46a)]:_0x12364f['textContent']||'',_0x36f172=(_0x168e5b,_0x5e46cd)=>{const _0x41ac72=_0x102229;if(_0x41ac72(0x5ce)in _0x168e5b){_0x168e5b[_0x41ac72(0x5ce)]=_0x5e46cd;return;}if(_0x168e5b['querySelector']&&_0x168e5b[_0x41ac72(0x341)](_0x41ac72(0x841)))return;if(_0x168e5b['innerText']!==undefined)_0x168e5b[_0x41ac72(0x46a)]=_0x5e46cd;else _0x168e5b[_0x41ac72(0x9a9)]=_0x5e46cd;},_0x1f4dee=_0x95e303=>_0x95e303['replace'](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x102229(0x86e)](/\r\n?/g,'\x0a'),_0x295e61=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x2c695c=_0x210a15=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x102229(0x2a7)](_0x210a15),_0x5c6780=_0xb2bcc1=>{const _0x290844=_0x102229,_0x4485af=(_0xb2bcc1[_0x290844(0x14b)](/\{/g)||[])[_0x290844(0x38d)],_0x39dd2e=(_0xb2bcc1[_0x290844(0x14b)](/\}/g)||[])[_0x290844(0x38d)];if(_0x4485af>_0x39dd2e)_0xb2bcc1=_0xb2bcc1+'}'[_0x290844(0x8ea)](_0x4485af-_0x39dd2e);return _0xb2bcc1;},_0x36d12b=_0x3c57f2=>{const _0x3ec33b=_0x102229;let _0x275622=_0x3c57f2[_0x3ec33b(0xa5)]();const _0x5683af=[_0x3ec33b(0x405),_0x3ec33b(0x4ea),_0x3ec33b(0x938),_0x3ec33b(0x523),_0x3ec33b(0x928),'times','cdot',_0x3ec33b(0x211),_0x3ec33b(0x2a1),_0x3ec33b(0x85c),'le','ge',_0x3ec33b(0x716),'pm',_0x3ec33b(0x849),_0x3ec33b(0x2d1),_0x3ec33b(0x6ae),_0x3ec33b(0x6c2),'log','ln',_0x3ec33b(0x5ea),'prod',_0x3ec33b(0xa3),'left','right','overline','underline','circ','deg'];_0x275622=_0x275622[_0x3ec33b(0x86e)](new RegExp(_0x3ec33b(0x2f2)+_0x5683af[_0x3ec33b(0x7d)]('|')+_0x3ec33b(0x17b),'g'),'\x5c'),_0x5683af[_0x3ec33b(0x40a)](_0x55fe01=>{const _0x168056=_0x3ec33b;_0x275622=_0x275622[_0x168056(0x86e)](new RegExp(_0x168056(0x713)+_0x55fe01+'\x5cb','g'),(_0x4758b9,_0x22142f)=>_0x22142f+'\x5c'+_0x55fe01);});const _0x45d3dd=[[/×/g,_0x3ec33b(0x80b)],[/·/g,_0x3ec33b(0x5fc)],[/÷/g,'\x5cdiv'],[/≤/g,'\x5cle'],[/≥/g,_0x3ec33b(0x249)],[/≠/g,_0x3ec33b(0x8b3)],[/±/g,'\x5cpm'],[/∑/g,_0x3ec33b(0x2a2)],[/−/g,'-']];_0x45d3dd[_0x3ec33b(0x40a)](([_0x574bbe,_0x2f3834])=>{_0x275622=_0x275622['replace'](_0x574bbe,_0x2f3834);}),_0x275622=_0x275622[_0x3ec33b(0x86e)](/√\s*\(([^)]*)\)/g,'\x5csqrt{$1}'),_0x275622=_0x275622[_0x3ec33b(0x86e)](/√\s*([A-Za-z0-9]+)/g,_0x3ec33b(0xa6)),_0x275622=_0x275622[_0x3ec33b(0x86e)](/(^|[^\\])\bimes\b/g,'$1\x5ctimes')['replace'](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x3ec33b(0x28e))[_0x3ec33b(0x86e)](/(^|[^\\])ext\{/g,_0x3ec33b(0x269))['replace'](/(^|[^\\])ext\(/g,_0x3ec33b(0x6fd))['replace'](/\\text\(([^)]*)\)/g,_0x3ec33b(0x406))[_0x3ec33b(0x86e)](/\s\\frac/g,_0x3ec33b(0x454)),_0x275622=_0x275622['replace'](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x3828b8,_0x9f809,_0x1a17c0,_0x18b43f)=>_0x9f809+_0x3ec33b(0x993)+_0x1a17c0+'}{'+_0x18b43f+'}'),_0x275622=_0x275622['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x3ec33b(0x92))[_0x3ec33b(0x86e)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x3ec33b(0x92))['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x3ec33b(0x92)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x3ec33b(0x857)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x3ec33b(0x857)],[/(\d+)\s*\^\s*o\s*C\b/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x3ec33b(0x857)],[/(\d+)\s*°\s*C/g,_0x3ec33b(0x857)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,'$1^{\x5ccirc}'],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x3ec33b(0x857)]][_0x3ec33b(0x40a)](([_0x13b4eb,_0x65ec14])=>{_0x275622=_0x275622['replace'](_0x13b4eb,_0x65ec14);}),_0x275622=_0x275622[_0x3ec33b(0x86e)](/(\d+)\s*%/g,_0x3ec33b(0x186)),_0x275622=_0x275622[_0x3ec33b(0x86e)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1^{$2}')[_0x3ec33b(0x86e)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x3ec33b(0x1ae))[_0x3ec33b(0x86e)](/\{\{([^\{\}]+)\}\}/g,_0x3ec33b(0x5c8)),[_0x3ec33b(0x2d1),'cos',_0x3ec33b(0x6c2),'log','ln'][_0x3ec33b(0x40a)](_0x53ba69=>{const _0x1d94ae=_0x3ec33b;_0x275622=_0x275622[_0x1d94ae(0x86e)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x53ba69+'\x5cs*\x5c(','g'),(_0x4c4724,_0x39fd00)=>_0x39fd00+'\x5c'+_0x53ba69+'(');});const _0x305cc9=(_0x275622['match'](/\\left\b/g)||[])['length'],_0x4989db=(_0x275622['match'](/\\right\b/g)||[])[_0x3ec33b(0x38d)];if(_0x305cc9!==_0x4989db)_0x275622=_0x275622[_0x3ec33b(0x86e)](/\\left\b/g,'')[_0x3ec33b(0x86e)](/\\right\b/g,'');return _0x275622=_0x5c6780(_0x275622),_0x275622;},_0xfd991a=_0x208c6c=>{const _0x3fcc09=_0x102229;if(/\$|\\\(|\\\[/[_0x3fcc09(0x2a7)](_0x208c6c))return _0x208c6c;if(!_0x295e61[_0x3fcc09(0x2a7)](_0x208c6c))return _0x208c6c;const _0x246e68=_0x208c6c[_0x3fcc09(0x14b)](/^\s*/)[0x0],_0x34fb86=_0x208c6c[_0x3fcc09(0x14b)](/\s*$/)[0x0],_0x1a2326=_0x208c6c[_0x3fcc09(0xa5)]();return _0x246e68+'$'+_0x36d12b(_0x1a2326)+'$'+_0x34fb86;},_0x4a2e68=_0x327dde=>_0x327dde[_0x102229(0x4a6)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x48a4aa['forEach'](_0x4be961=>{const _0x1d2da5=_0x102229;if(_0x4be961[_0x1d2da5(0x341)]&&_0x4be961[_0x1d2da5(0x341)](_0x1d2da5(0x841)))return;const _0x1823d0=_0x8259ca(_0x4be961);let _0x8d4bb=_0x1f4dee(_0x1823d0);_0x8d4bb=_0x8d4bb[_0x1d2da5(0x86e)](/\$\$([\s\S]*?)\$\$/g,(_0x2d9ea3,_0x219655)=>'$$'+_0x36d12b(_0x219655)+'$$')[_0x1d2da5(0x86e)](/\$([^$]*?)\$/g,(_0x1c8fb3,_0x2fd39a)=>'$'+_0x36d12b(_0x2fd39a)+'$')['replace'](/\\\(([\s\S]*?)\\\)/g,(_0x537645,_0x39aa45)=>'\x5c('+_0x36d12b(_0x39aa45)+'\x5c)')[_0x1d2da5(0x86e)](/\\\[([\s\S]*?)\\\]/g,(_0x691cf9,_0x36c7f0)=>'\x5c['+_0x36d12b(_0x36c7f0)+'\x5c]');let _0x46d8eb=_0x8d4bb,_0x17a1e8=0x0;const _0x2bd628=_0x454516=>_0x454516['replace'](/S([^S]{0,2000}?)S/g,(_0x29c59d,_0x5cd415)=>_0x295e61[_0x1d2da5(0x2a7)](_0x5cd415)?'$'+_0x36d12b(_0x5cd415)+'$':_0x29c59d);while(_0x17a1e8++<0x14){const _0x2fac7d=_0x2bd628(_0x46d8eb);if(_0x2fac7d===_0x46d8eb)break;_0x46d8eb=_0x2fac7d;}_0x8d4bb=_0x46d8eb,_0x8d4bb=_0x8d4bb[_0x1d2da5(0x4a6)]('\x0a')['map'](_0x1942bc=>{const _0xb390a0=_0x1d2da5;if(!(/[,\u3001，;；]/[_0xb390a0(0x2a7)](_0x1942bc)||/\s(?:และ|หรือ)\s/[_0xb390a0(0x2a7)](_0x1942bc))||!_0x295e61[_0xb390a0(0x2a7)](_0x1942bc))return _0x1942bc;return _0x4a2e68(_0x1942bc)[_0xb390a0(0x4eb)](_0x5da6eb=>{const _0x34cbf5=_0xb390a0;if(/^\s(?:และ|หรือ)\s$/['test'](_0x5da6eb)||/^[,\u3001，;；]$/[_0x34cbf5(0x2a7)](_0x5da6eb))return _0x5da6eb;return _0xfd991a(_0x5da6eb);})[_0xb390a0(0x7d)]('');})[_0x1d2da5(0x7d)]('\x0a'),_0x8d4bb=_0x8d4bb[_0x1d2da5(0x4a6)]('\x0a')[_0x1d2da5(0x4eb)](_0x26b7ec=>{const _0x3bd820=_0x1d2da5,_0x47244c=_0x26b7ec[_0x3bd820(0xa5)]();if(!_0x47244c)return _0x26b7ec;const _0x328f67=/\$|\\\(|\\\[/['test'](_0x47244c),_0x436346=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x3bd820(0x2a7)](_0x47244c);if(_0x328f67||!_0x436346||_0x2c695c(_0x47244c))return _0x26b7ec;return _0x26b7ec[_0x3bd820(0x86e)](_0x47244c,'$'+_0x36d12b(_0x47244c)+'$');})[_0x1d2da5(0x7d)]('\x0a'),_0x8d4bb=_0x8d4bb['replace'](/(\d+)\s*°\s*C\b/g,(_0x3bcb60,_0x4ea83e,_0x4149ee,_0x1574cf)=>{const _0x5b8def=_0x1d2da5,_0x4f45eb=_0x1574cf[_0x4149ee-0x1];if(_0x4f45eb==='$'||_0x4f45eb==='S'||_0x4f45eb==='\x5c')return _0x3bcb60;return'$'+_0x4ea83e+_0x5b8def(0x30b);})[_0x1d2da5(0x86e)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x421312,_0x1c7d23,_0x2c14cb,_0x408070)=>{const _0x4f6779=_0x1d2da5,_0x44899d=_0x408070[_0x2c14cb-0x1];if(_0x44899d==='$'||_0x44899d==='S'||_0x44899d==='\x5c')return _0x421312;return'$'+_0x1c7d23+_0x4f6779(0x30b);})[_0x1d2da5(0x86e)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x8079ec,_0x4417ff,_0x407eaf,_0x4cdf94)=>{const _0x2d544b=_0x1d2da5,_0x2588a6=_0x4cdf94[_0x407eaf-0x1];if(_0x2588a6==='$'||_0x2588a6==='S'||_0x2588a6==='\x5c')return _0x8079ec;return'$'+_0x4417ff+_0x2d544b(0x30b);}),_0x8d4bb=_0x8d4bb[_0x1d2da5(0x86e)](/\$\s*\$/g,'$$'),_0x8d4bb!==_0x1823d0&&(_0x36f172(_0x4be961,_0x8d4bb),_0x13a743++);});if(_0x13a743>0x0){showMessage(_0x102229(0x60f)+_0x13a743+_0x102229(0x69e));try{if(window[_0x102229(0x107)]&&MathJax[_0x102229(0x4a4)])MathJax[_0x102229(0x4a4)]();window['katex']&&typeof renderMathInElement===_0x102229(0x921)&&renderMathInElement(_0x53f871,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x3ee0fa){}}else showMessage(_0x102229(0x70d));}async function listenForCustomMathTopics(){const _0x39d380=_0x335401,_0x40b05c=collection(db,_0x39d380(0x82)+appId+'/public/data/customMathTopics');onSnapshot(_0x40b05c,_0x4dff01=>{const _0x2d420e=_0x39d380;customMathTopics=_0x4dff01[_0x2d420e(0x84c)][_0x2d420e(0x4eb)](_0x4d2b8b=>({'id':_0x4d2b8b['id'],..._0x4d2b8b[_0x2d420e(0x33f)]()})),renderTopicCheckboxes();},_0xd6a59b=>{const _0x3cfb73=_0x39d380;console[_0x3cfb73(0x529)](_0x3cfb73(0x1e9),_0xd6a59b);});}function handleSelectAllTopics(){const _0x1d47b9=_0x335401,_0x50455e=document[_0x1d47b9(0x11a)](_0x1d47b9(0x6a8)),_0x1d87d1=_0x50455e[_0x1d47b9(0xf8)](_0x1d47b9(0x90e));_0x1d87d1[_0x1d47b9(0x40a)](_0x4093b5=>{_0x4093b5['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x38f65b=_0x335401,_0x47dc71=document[_0x38f65b(0x11a)](_0x38f65b(0x6a8)),_0x74bcfa=_0x47dc71['querySelectorAll'](_0x38f65b(0x90e));_0x74bcfa[_0x38f65b(0x40a)](_0x1ff922=>{const _0x50998d=_0x38f65b;_0x1ff922[_0x50998d(0x68b)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x9ce9a5){const _0x32eefa=_0x335401;if(!_0x9ce9a5)return;try{const _0x10b72c=doc(db,_0x32eefa(0x82)+appId+_0x32eefa(0x35d),_0x9ce9a5);await deleteDoc(_0x10b72c),showMessage(_0x32eefa(0x5eb));}catch(_0x33fc24){console[_0x32eefa(0x529)](_0x32eefa(0x295),_0x33fc24),showMessage(_0x32eefa(0x1a2));}}async function handleAddCustomMathTopic(){const _0x1f02ea=_0x335401,_0xb20f26=document[_0x1f02ea(0x11a)](_0x1f02ea(0x658)),_0x5041b8=_0xb20f26[_0x1f02ea(0x5ce)][_0x1f02ea(0xa5)]();if(!_0x5041b8){showMessage(_0x1f02ea(0x116));return;}if(!userId){showMessage(_0x1f02ea(0x7a8));return;}try{const _0x1f9b17=collection(db,_0x1f02ea(0x82)+appId+_0x1f02ea(0x35d));await addDoc(_0x1f9b17,{'name':_0x5041b8,'createdAt':serverTimestamp()}),_0xb20f26['value']='',showMessage(_0x1f02ea(0x323)+_0x5041b8+'\x22\x20สำเร็จ');}catch(_0x2e0a35){console[_0x1f02ea(0x529)](_0x1f02ea(0x1a7),_0x2e0a35),showMessage(_0x1f02ea(0x23f));}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x5c3e21=_0x5620,_0x18d1ff=document['getElementById']('loader'),_0x2ae559=document['getElementById'](_0x5c3e21(0x779)),_0x2c8aae=_0x2ae559[_0x5c3e21(0x9a9)];_0x18d1ff[_0x5c3e21(0x8f)][_0x5c3e21(0x57c)](_0x5c3e21(0x6f8)),_0x2ae559[_0x5c3e21(0x9a9)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x37a2ff=collection(db,_0x5c3e21(0x82)+appId+_0x5c3e21(0x5e5)),_0x9cd830=await getDocs(_0x37a2ff);if(_0x9cd830[_0x5c3e21(0x45b)]){showMessage(_0x5c3e21(0x749));return;}const _0x5e6ae0=writeBatch(db);let _0x1f20cf=0x0;_0x9cd830[_0x5c3e21(0x40a)](_0x1d664e=>{const _0x4a635b=_0x5c3e21,_0x210467=_0x1d664e[_0x4a635b(0x33f)](),_0x3cb682=_0x1d664e['id'];if(_0x210467[_0x4a635b(0x4e3)]&&_0x210467[_0x4a635b(0x4e3)][_0x4a635b(0x38d)]>0x0&&!_0x210467[_0x4a635b(0x4e3)][0x0][_0x4a635b(0x72a)]('id')){console[_0x4a635b(0x27b)](_0x4a635b(0x63d)+_0x3cb682+'\x20('+_0x210467[_0x4a635b(0x7d5)]+')'),_0x1f20cf++;const _0x1c0352=_0x210467['questions']['map']((_0x3f242a,_0x4ee244)=>{return{..._0x3f242a,'id':_0x3f242a['id']||'q_'+Date['now']()+'_'+_0x3cb682+'_'+_0x4ee244};}),_0x17c8b9=doc(db,_0x4a635b(0x82)+appId+_0x4a635b(0x5e5),_0x3cb682);_0x5e6ae0[_0x4a635b(0x3b0)](_0x17c8b9,{'questions':_0x1c0352});}}),_0x1f20cf>0x0?(_0x2ae559['textContent']=_0x5c3e21(0x1ba)+_0x1f20cf+_0x5c3e21(0x999),await _0x5e6ae0['commit'](),showMessage(_0x5c3e21(0x2b6)+_0x1f20cf+_0x5c3e21(0x603))):showMessage(_0x5c3e21(0x973));}catch(_0x3ffc5b){console[_0x5c3e21(0x529)]('Error\x20updating\x20old\x20quizzes:',_0x3ffc5b),showMessage(_0x5c3e21(0x71f)+_0x3ffc5b[_0x5c3e21(0x2da)]);}finally{_0x18d1ff[_0x5c3e21(0x8f)][_0x5c3e21(0x85b)](_0x5c3e21(0x6f8)),_0x2ae559[_0x5c3e21(0x9a9)]=_0x2c8aae;}});}async function handleBulkUpdateQuizSettings(){const _0xcbdaf8=_0x335401,_0x13feee={'shuffle':document[_0xcbdaf8(0x11a)](_0xcbdaf8(0xb4))[_0xcbdaf8(0x5ce)],'resultsDisplay':document[_0xcbdaf8(0x11a)](_0xcbdaf8(0x8cf))[_0xcbdaf8(0x5ce)],'loopUntilPass':document[_0xcbdaf8(0x11a)]('bulk-loop-until-pass-checkbox')[_0xcbdaf8(0x68b)]},_0x2f19ba=allQuizzesGlobal[_0xcbdaf8(0x38d)];showConfirmation(_0xcbdaf8(0x8c5)+_0x2f19ba+_0xcbdaf8(0x4c7),async()=>{const _0x2719f0=_0xcbdaf8,_0x5494ec=document['getElementById'](_0x2719f0(0x54c));_0x5494ec[_0x2719f0(0x53e)]=!![],_0x5494ec[_0x2719f0(0x297)]=_0x2719f0(0x9cb);try{const _0x106613=writeBatch(db);allQuizzesGlobal[_0x2719f0(0x40a)](_0x446baa=>{const _0x4a3aa3=_0x2719f0,_0x2029f4=doc(db,_0x4a3aa3(0x82)+appId+'/public/data/quizzes',_0x446baa['id']),_0x190b4d={..._0x446baa[_0x4a3aa3(0x7f5)]||{},..._0x13feee};_0x106613[_0x4a3aa3(0x3b0)](_0x2029f4,{'settings':_0x190b4d});}),await _0x106613[_0x2719f0(0x92d)](),document[_0x2719f0(0x11a)](_0x2719f0(0x8f3))[_0x2719f0(0x8f)][_0x2719f0(0x85b)]('hidden'),showMessage(_0x2719f0(0x587)+_0x2f19ba+'\x20ชุดสำเร็จ!');}catch(_0x25318c){console['error'](_0x2719f0(0x368),_0x25318c),showMessage(_0x2719f0(0x4fb));}finally{_0x5494ec['disabled']=![],_0x5494ec[_0x2719f0(0x297)]=_0x2719f0(0x54b);}});}async function handleSaveProjectName(){const _0x4be359=_0x335401,_0x24815b=document[_0x4be359(0x11a)](_0x4be359(0x1c9)),_0x225b58=document['getElementById'](_0x4be359(0x2ba)),_0x7234bb=_0x24815b[_0x4be359(0x9a9)][_0x4be359(0xa5)]();if(!_0x7234bb||!currentProjectId){showMessage(_0x4be359(0x3fc)),_0x24815b[_0x4be359(0x9a9)]=currentProjectData[_0x4be359(0x8b2)];return;}_0x225b58['disabled']=!![],_0x225b58[_0x4be359(0x297)]=_0x4be359(0x12b);try{const _0x2a3ecf=doc(db,_0x4be359(0x82)+appId+_0x4be359(0x8c3),currentProjectId);await updateDoc(_0x2a3ecf,{'projectName':_0x7234bb}),currentProjectData&&(currentProjectData[_0x4be359(0x8b2)]=_0x7234bb),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x1f934b){console[_0x4be359(0x529)](_0x4be359(0x97c),_0x1f934b),showMessage(_0x4be359(0x865)),_0x24815b[_0x4be359(0x9a9)]=currentProjectData[_0x4be359(0x8b2)];}finally{_0x225b58['classList'][_0x4be359(0x85b)](_0x4be359(0x6f8)),_0x225b58[_0x4be359(0x53e)]=![],_0x225b58[_0x4be359(0x297)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}async function initialize(){const _0x53720c=_0x335401;try{const _0x230c66=initializeApp(firebaseConfig);db=getFirestore(_0x230c66),auth=getAuth(_0x230c66),setupAuthListener(),setupEventListeners(),showView(_0x53720c(0x4e4)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x1e5553){console['error'](_0x53720c(0x358),_0x1e5553),showMessage(_0x53720c(0x8ef));}}async function handleVerifyAnswersInEditor(){const _0xf4f85f=_0x335401,_0x554994=document[_0xf4f85f(0x11a)](_0xf4f85f(0x5a8));if(!_0x554994)return;const _0x5eecb1=document['getElementById']('verify-answers-editor-btn');_0x5eecb1[_0xf4f85f(0x53e)]=!![],_0x5eecb1[_0xf4f85f(0x297)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x4cbf13=_0x554994[_0xf4f85f(0xf8)](_0xf4f85f(0x117)),_0x3648c5=Array['from'](_0x4cbf13)[_0xf4f85f(0x4eb)]((_0x1d1f1c,_0x3d61da)=>{const _0x548417=_0xf4f85f,_0x290d3d=_0x1d1f1c[_0x548417(0x93d)][_0x548417(0x2d2)],_0x42067a=_0x1d1f1c[_0x548417(0x341)](_0x548417(0x647))[_0x548417(0x5ce)];let _0x1affe5=null,_0x38c7ac='';switch(_0x290d3d){case _0x548417(0x847):const _0x35c5e5=_0x1d1f1c['querySelectorAll'](_0x548417(0x644));_0x1affe5=Array['from'](_0x35c5e5)['map'](_0x4523c8=>_0x4523c8[_0x548417(0x5ce)]);const _0x34ae93=_0x1d1f1c[_0x548417(0x341)](_0x548417(0x722));_0x34ae93&&(_0x38c7ac=_0x1affe5[parseInt(_0x34ae93[_0x548417(0x5ce)])]);break;case _0x548417(0x787):_0x38c7ac=_0x1d1f1c['querySelector'](_0x548417(0x762))['value'];break;case _0x548417(0x4c4):const _0x35b298=_0x1d1f1c[_0x548417(0x341)](_0x548417(0x722));_0x38c7ac=_0x35b298?_0x35b298[_0x548417(0x5ce)]:'';break;case _0x548417(0x524):_0x38c7ac=_0x1d1f1c[_0x548417(0x341)](_0x548417(0x83d))['value'];break;}return{'question':_0x42067a,'options':_0x1affe5,'proposedAnswer':_0x38c7ac};}),_0x4a37d0=_0xf4f85f(0x4ae)+JSON['stringify'](_0x3648c5)+_0xf4f85f(0x3ec),_0x468c6b={'type':_0xf4f85f(0x401),'items':{'type':_0xf4f85f(0x4cb),'properties':{'questionIndex':{'type':_0xf4f85f(0x575)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0xf4f85f(0x517)},'suggestedAnswer':{'type':_0xf4f85f(0x517)}},'required':['questionIndex','isCorrect',_0xf4f85f(0x853)]}},_0x264bed=await callAnalysisApi(_0x4a37d0,{'type':_0xf4f85f(0x4cb),'properties':{'result':_0x468c6b},'required':[_0xf4f85f(0x80)]});displayVerificationResultsInEditor(_0x264bed['result']);}catch(_0xbab0b1){console['error']('Error\x20verifying\x20answers\x20in\x20editor:',_0xbab0b1),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x5eecb1[_0xf4f85f(0x53e)]=![],_0x5eecb1[_0xf4f85f(0x297)]=_0xf4f85f(0x42a);}}function displayVerificationResultsInEditor(_0x7cabc2){const _0x2cde72=_0x335401;_0x7cabc2['forEach'](_0x4880c1=>{const _0x124d57=_0x5620,_0x71732d=document['querySelector'](_0x124d57(0xbb)+_0x4880c1['questionIndex']+'\x22]');if(!_0x71732d)return;const _0x2458e6=_0x71732d[_0x124d57(0x341)](_0x124d57(0x256));if(_0x2458e6)_0x2458e6[_0x124d57(0x57c)]();let _0x573f61='';if(_0x4880c1['isCorrect'])_0x573f61=_0x124d57(0x56a);else{const _0x1326c3=_0x4880c1['suggestedAnswer']?_0x124d57(0x7b0):'';_0x573f61='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x1326c3+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x4880c1[_0x124d57(0x853)]+_0x124d57(0x789)+(_0x4880c1['suggestedAnswer']?_0x124d57(0x8ab)+_0x4880c1[_0x124d57(0x14f)]+_0x124d57(0x472):'')+_0x124d57(0x6dc);}_0x71732d[_0x124d57(0x32b)](_0x124d57(0x8ac),_0x573f61);if(!_0x4880c1[_0x124d57(0xdc)]&&_0x4880c1['suggestedAnswer']){const _0x634b5f=_0x71732d[_0x124d57(0x93d)][_0x124d57(0x2d2)],_0x5bc1f8=_0x308877=>{const _0x167ca9=_0x124d57;if(!_0x308877)return;_0x308877[_0x167ca9(0x8f)][_0x167ca9(0x85b)]('bg-green-200',_0x167ca9(0x417),'duration-300'),setTimeout(()=>{const _0x2e16a2=_0x167ca9;_0x308877[_0x2e16a2(0x8f)][_0x2e16a2(0x57c)](_0x2e16a2(0x2c0));},0x9c4);};if(_0x634b5f===_0x124d57(0x847)){const _0x1a4ace=Array[_0x124d57(0x50e)](_0x71732d[_0x124d57(0xf8)]('input[type=\x22text\x22]')),_0x3573fd=_0x1a4ace[_0x124d57(0x8b8)](_0x433be2=>_0x433be2['value'][_0x124d57(0xa5)]()['toLowerCase']()===_0x4880c1[_0x124d57(0x14f)][_0x124d57(0xa5)]()[_0x124d57(0x5f2)]());if(_0x3573fd!==-0x1){const _0x118f6f=_0x71732d[_0x124d57(0x341)](_0x124d57(0x983)+_0x3573fd+'\x22]');_0x118f6f&&(_0x118f6f[_0x124d57(0x68b)]=!![],_0x5bc1f8(_0x118f6f[_0x124d57(0x583)](_0x124d57(0x211))));}}else{if(_0x634b5f===_0x124d57(0x787)||_0x634b5f===_0x124d57(0x524)){const _0x5b3b6e=_0x71732d['querySelector'](_0x124d57(0x57f));_0x5b3b6e&&(_0x5b3b6e[_0x124d57(0x5ce)]=_0x4880c1['suggestedAnswer'],_0x5bc1f8(_0x5b3b6e));}else{if(_0x634b5f===_0x124d57(0x4c4)){const _0x1d654c=_0x4880c1[_0x124d57(0x14f)][_0x124d57(0xa5)]()[_0x124d57(0x5f2)](),_0x191dbc=_0x71732d['querySelector']('input[type=\x22radio\x22][value=\x22'+_0x1d654c+'\x22]');_0x191dbc&&(_0x191dbc[_0x124d57(0x68b)]=!![],_0x5bc1f8(_0x191dbc[_0x124d57(0x583)](_0x124d57(0x211))));}}}}}),showMessage(_0x2cde72(0x782));}async function handleVerifyAnswers(){const _0x18b2b5=_0x335401;if(!currentQuizData||!currentQuizData[_0x18b2b5(0x4e3)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0xc8f1b1=document[_0x18b2b5(0x11a)](_0x18b2b5(0x332));_0xc8f1b1['disabled']=!![],_0xc8f1b1[_0x18b2b5(0x297)]=_0x18b2b5(0xa1);try{const _0x2613ba=currentQuizData[_0x18b2b5(0x4e3)][_0x18b2b5(0x4eb)]((_0x1ea102,_0x2ee595)=>{const _0x493717=_0x18b2b5;let _0x4934ab='';const _0x3d8e76=_0x1ea102[_0x493717(0x23d)]||currentQuizData[_0x493717(0x7a1)];switch(_0x3d8e76){case _0x493717(0x847):_0x4934ab=_0x1ea102[_0x493717(0x5b2)][_0x1ea102[_0x493717(0x801)]];break;case'short_answer':_0x4934ab=_0x1ea102['idealAnswer'];break;case _0x493717(0x4c4):_0x4934ab=_0x1ea102[_0x493717(0x81)]['toString']();break;case _0x493717(0x524):_0x4934ab=_0x1ea102[_0x493717(0x441)];break;}return{'question':_0x1ea102[_0x493717(0x99e)]||_0x1ea102[_0x493717(0x7f3)],'options':_0x1ea102[_0x493717(0x5b2)]||null,'proposedAnswer':_0x4934ab};}),_0x4dc994='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x18b2b5(0x3af)](_0x2613ba)+_0x18b2b5(0x7ed),_0x5f54ca={'type':_0x18b2b5(0x401),'items':{'type':_0x18b2b5(0x4cb),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x18b2b5(0x7a7)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x18b2b5(0x517)}},'required':[_0x18b2b5(0xa7),_0x18b2b5(0xdc),_0x18b2b5(0x853)]}},_0x2a47bd=await callAnalysisApi(_0x4dc994,{'type':_0x18b2b5(0x4cb),'properties':{'result':_0x5f54ca},'required':[_0x18b2b5(0x80)]});displayVerificationResults(_0x2a47bd[_0x18b2b5(0x80)]);}catch(_0x472fbb){console['error'](_0x18b2b5(0x772),_0x472fbb),showMessage(_0x18b2b5(0x5ee));}finally{_0xc8f1b1[_0x18b2b5(0x53e)]=![],_0xc8f1b1[_0x18b2b5(0x297)]=_0x18b2b5(0x998);}}function displayVerificationResults(_0x4164dd){const _0x4c82f4=_0x335401;_0x4164dd[_0x4c82f4(0x40a)](_0x29340c=>{const _0x55a8ae=_0x4c82f4,_0xeee95b=document[_0x55a8ae(0x341)](_0x55a8ae(0x128)+_0x29340c[_0x55a8ae(0xa7)]+'\x22]');if(_0xeee95b){const _0xaabe28=_0xeee95b['querySelector'](_0x55a8ae(0x7d7));if(_0xaabe28)_0xaabe28[_0x55a8ae(0x57c)]();let _0x11d3b4='';_0x29340c[_0x55a8ae(0xdc)]?_0x11d3b4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x11d3b4=_0x55a8ae(0x497)+_0x29340c[_0x55a8ae(0x853)]+_0x55a8ae(0x466)+(_0x29340c[_0x55a8ae(0x14f)]?_0x55a8ae(0x8ab)+_0x29340c[_0x55a8ae(0x14f)]+_0x55a8ae(0x472):'')+_0x55a8ae(0x2c1),_0xeee95b['insertAdjacentHTML'](_0x55a8ae(0x8ac),_0x11d3b4);}}),showMessage(_0x4c82f4(0x782));}function compareNumericalAnswers(_0x39b935,_0x30f0e9){const _0xd28036=_0x335401,_0x56208e=String(_0x39b935)[_0xd28036(0x86e)](',','.')[_0xd28036(0x86e)](/[^\d.-]/g,'')[_0xd28036(0xa5)](),_0x2d5644=String(_0x30f0e9)['replace'](',','.')['replace'](/[^\d.-]/g,'')['trim']();if(_0x56208e===''||_0x2d5644==='')return![];const _0x556059=parseFloat(_0x56208e),_0x355604=parseFloat(_0x2d5644);if(isNaN(_0x556059)||isNaN(_0x355604))return![];return Math[_0xd28036(0x4d8)](_0x556059-_0x355604)<0.001;}async function gradeShortAnswer(_0x4dfd79,_0x1ff8ca){const _0x4f4920=_0x335401,_0x36ef84=_0x1ff8ca[_0x4f4920(0x4a8)];if(String(_0x4dfd79)[_0x4f4920(0xa5)]()[_0x4f4920(0x5f2)]()===String(_0x36ef84)[_0x4f4920(0xa5)]()['toLowerCase']())return!![];if(compareNumericalAnswers(_0x4dfd79,_0x36ef84))return!![];return console['log'](_0x4f4920(0x58a)),await gradeShortAnswerWithAI(_0x4dfd79,_0x36ef84);}async function revealAnswerForAdmin(_0x4e89bc,_0x5343b2){const _0x3bda28=_0x335401,_0x1a25d4=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x1a25d4,{'questionStatus':_0x3bda28(0x53b)});}function showTop5LeaderboardView(_0x17ca39){const _0x34f5c7=_0x335401,_0x4c3942=Object[_0x34f5c7(0x5aa)](_0x17ca39['players']||{})[_0x34f5c7(0x84b)](_0x523765=>_0x523765[_0x34f5c7(0x83e)]==='active');_0x4c3942[_0x34f5c7(0x6df)]((_0x14fdc6,_0x3ef844)=>_0x3ef844[_0x34f5c7(0x94c)]-_0x14fdc6['score']);const _0x32eff8=_0x4c3942[_0x34f5c7(0x3db)](0x0,0x5),_0x14dbe3=_0x34f5c7(0x287)+_0x32eff8[_0x34f5c7(0x4eb)]((_0x49352f,_0x4b80dd)=>_0x34f5c7(0x1f2)+(_0x4b80dd+0x1)+'.\x20'+(_0x49352f[_0x34f5c7(0x20b)]||Object[_0x34f5c7(0x58f)](_0x17ca39[_0x34f5c7(0x924)])[_0x34f5c7(0x474)](_0x21eda2=>_0x17ca39[_0x34f5c7(0x924)][_0x21eda2]===_0x49352f))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+_0x49352f[_0x34f5c7(0x94c)]+_0x34f5c7(0x419))[_0x34f5c7(0x7d)]('')+_0x34f5c7(0x299)+(_0x17ca39[_0x34f5c7(0xd7)]+0x1===currentQuizData['questions']['length']?'สรุปผลสุดท้าย':_0x34f5c7(0x468))+_0x34f5c7(0x2c4);liveGameView[_0x34f5c7(0x297)]=_0x14dbe3,document[_0x34f5c7(0x11a)](_0x34f5c7(0x10a))[_0x34f5c7(0x1e2)](_0x34f5c7(0x91d),async()=>{const _0x4cdf0e=_0x34f5c7,_0x5820e9=doc(db,_0x4cdf0e(0x82)+appId+_0x4cdf0e(0x9b7),currentLiveGameId),_0x136309=_0x17ca39[_0x4cdf0e(0xd7)]+0x1;if(_0x136309<currentQuizData['questions'][_0x4cdf0e(0x38d)]){const _0x33f4ba={'currentQuestionIndex':_0x136309,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x4cdf0e(0x34e)};Object[_0x4cdf0e(0x58f)](_0x17ca39[_0x4cdf0e(0x924)])['forEach'](_0x12b1f9=>{const _0x31fbca=_0x4cdf0e;_0x33f4ba['players.'+_0x12b1f9+_0x31fbca(0x809)]=![];}),await updateDoc(_0x5820e9,_0x33f4ba);}else await updateDoc(_0x5820e9,{'status':_0x4cdf0e(0x247)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x30addc=>{const _0x3422ab=_0x5620;if(_0x30addc){userId=_0x30addc['uid'],userIdDisplay[_0x3422ab(0x9a9)]=userId;const _0x312a97=await loadUserPreferences();_0x312a97['projectSortOrder']&&(document[_0x3422ab(0x11a)](_0x3422ab(0x8a1))[_0x3422ab(0x5ce)]=_0x312a97[_0x3422ab(0x118)]);globalDashboardSettings['projectView']=_0x312a97['projectView']||_0x3422ab(0x57a);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x26c157,_0x383f63){const _0x40e4a5=_0x335401;if(!userId)return;try{const _0x407e9c=doc(db,_0x40e4a5(0x82)+appId+_0x40e4a5(0x1b3)+userId+_0x40e4a5(0x2f3)),_0x4386d8={};_0x4386d8[_0x26c157]=_0x383f63,await setDoc(_0x407e9c,_0x4386d8,{'merge':!![]});}catch(_0x11f429){console[_0x40e4a5(0x529)](_0x40e4a5(0x625),_0x11f429);}}async function loadUserPreferences(){const _0x196847=_0x335401;if(!userId)return{};try{const _0x5caa5b=doc(db,_0x196847(0x82)+appId+_0x196847(0x1b3)+userId+_0x196847(0x2f3)),_0x212fb5=await getDoc(_0x5caa5b);if(_0x212fb5[_0x196847(0x91b)]())return _0x212fb5[_0x196847(0x33f)]();return{};}catch(_0xa4a41b){return console[_0x196847(0x529)](_0x196847(0x794),_0xa4a41b),{};}}function showPodiumView(_0x37faac,_0x5797a8='live-race'){const _0x95f0e5=_0x335401,_0x58f765=Object[_0x95f0e5(0x3c6)](_0x37faac)[_0x95f0e5(0x4eb)](([_0x1027ee,_0x55c544])=>({'name':_0x1027ee,'score':_0x55c544[_0x95f0e5(0x94c)]||0x0,'badges':_0x55c544['badges']||[],'hasPerfectScoreBonus':_0x55c544[_0x95f0e5(0x725)]||![]}));_0x58f765[_0x95f0e5(0x6df)]((_0xb56f90,_0x2f7746)=>{const _0x172915=_0x95f0e5,_0x5a9807=_0x2f7746[_0x172915(0x94c)]-_0xb56f90[_0x172915(0x94c)];if(_0x5a9807!==0x0)return _0x5a9807;return(_0x2f7746[_0x172915(0x34a)][_0x172915(0x38d)]||0x0)-(_0xb56f90['badges'][_0x172915(0x38d)]||0x0);});const _0x28c566=_0x14362e=>{const _0x581836=_0x95f0e5;if(!_0x14362e||_0x14362e[_0x581836(0x38d)]===0x0)return'';const _0x25309f={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x14362e[_0x581836(0x4eb)](_0x208891=>_0x25309f[_0x208891]||'')[_0x581836(0x7d)]('')+_0x581836(0x9ab);},_0x25e893=_0x58f765['slice'](0x3),_0x42b188=_0x25e893[_0x95f0e5(0x38d)]>0x0?_0x95f0e5(0x3f5)+_0x25e893[_0x95f0e5(0x4eb)]((_0x56d895,_0x262260)=>{const _0xa26065=_0x95f0e5,_0x2ac061=_0x56d895[_0xa26065(0x725)]?'<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>':'';return _0xa26065(0x15c)+(_0x262260+0x4)+_0xa26065(0x67d)+_0x56d895['name']+_0xa26065(0xaa)+_0x56d895[_0xa26065(0x94c)]+_0xa26065(0x131)+_0x2ac061+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x7a06fa=_0x95f0e5(0x41f)+(_0x58f765[0x1]?_0x95f0e5(0x982)+_0x58f765[0x1][_0x95f0e5(0x20b)]+_0x95f0e5(0x472)+_0x28c566(_0x58f765[0x1][_0x95f0e5(0x34a)])+_0x95f0e5(0x7ba)+_0x58f765[0x1][_0x95f0e5(0x94c)]+_0x95f0e5(0x131)+(_0x58f765[0x1][_0x95f0e5(0x725)]?_0x95f0e5(0x717):'')+_0x95f0e5(0x8c8):_0x95f0e5(0x5c7))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x58f765[0x0]?_0x95f0e5(0x652)+_0x58f765[0x0][_0x95f0e5(0x20b)]+'</p>'+_0x28c566(_0x58f765[0x0][_0x95f0e5(0x34a)])+_0x95f0e5(0x7c7)+_0x58f765[0x0]['score']+_0x95f0e5(0x131)+(_0x58f765[0x0][_0x95f0e5(0x725)]?_0x95f0e5(0x717):'')+_0x95f0e5(0x42b):_0x95f0e5(0x5c7))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x58f765[0x2]?_0x95f0e5(0x5c2)+_0x58f765[0x2][_0x95f0e5(0x20b)]+_0x95f0e5(0x472)+_0x28c566(_0x58f765[0x2][_0x95f0e5(0x34a)])+'<p\x20class=\x22text-xl\x22>'+_0x58f765[0x2][_0x95f0e5(0x94c)]+_0x95f0e5(0x131)+(_0x58f765[0x2][_0x95f0e5(0x725)]?_0x95f0e5(0x717):'')+_0x95f0e5(0x8f4):_0x95f0e5(0x5c7))+_0x95f0e5(0x27c)+_0x42b188+_0x95f0e5(0x7a0)+(currentMode===_0x95f0e5(0x321)?'<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>':_0x95f0e5(0x5e3))+_0x95f0e5(0x665);liveGameView[_0x95f0e5(0x297)]=_0x7a06fa,currentMode===_0x95f0e5(0x321)&&document[_0x95f0e5(0x11a)](_0x95f0e5(0x1ca))['addEventListener'](_0x95f0e5(0x91d),async()=>{const _0x352d=_0x95f0e5;let _0x330898;_0x5797a8===_0x352d(0x452)?_0x330898=doc(db,_0x352d(0x82)+appId+_0x352d(0x79a),currentLiveGameId):_0x330898=doc(db,_0x352d(0x82)+appId+_0x352d(0x9b7),currentLiveGameId),await deleteDoc(_0x330898);});}function renderSyncSummaryView(_0x3b0a01,_0x59d7e0,_0x492f5f){const _0x40070a=_0x335401,_0x3bbfdb=Object[_0x40070a(0x5aa)](_0x3b0a01['players']||{}),_0x11ac72=_0x59d7e0[_0x40070a(0x5b2)]||[],_0x2289c1=new Array(_0x11ac72[_0x40070a(0x38d)])['fill'](0x0),_0x471659={};_0x11ac72[_0x40070a(0x40a)]((_0x3c7375,_0x4fa0e9)=>{_0x471659[_0x4fa0e9]=[];}),Object[_0x40070a(0x3c6)](_0x3b0a01[_0x40070a(0x924)]||{})[_0x40070a(0x40a)](([_0x1aef1c,_0x31fb4d])=>{const _0x18d7e3=_0x40070a;if(_0x31fb4d[_0x18d7e3(0x83e)]!==_0x18d7e3(0x4e2)&&_0x31fb4d['lastAnswerIndex']!==undefined&&_0x31fb4d[_0x18d7e3(0x600)]!==null){const _0x20196f=_0x31fb4d['lastAnswerIndex'];_0x471659[_0x20196f]!==undefined&&(_0x471659[_0x20196f][_0x18d7e3(0x135)](_0x1aef1c),_0x2289c1[_0x20196f]++);}});let _0x45d618='';_0x492f5f?_0x45d618=_0x40070a(0x373):_0x45d618=_0x40070a(0x221);const _0x5cfedd=_0x40070a(0x5c1)+_0x59d7e0['questionText']+_0x40070a(0x7fb)+_0x2289c1[_0x40070a(0x4eb)]((_0x3874ab,_0x4503bd)=>{const _0x4eeeb1=_0x40070a,_0x5853aa=_0x471659[_0x4503bd][_0x4eeeb1(0x38d)]>0x0?_0x471659[_0x4503bd][_0x4eeeb1(0x7d)](',\x20'):_0x4eeeb1(0x3a8),_0x401970=_0x4eeeb1(0x3d2);return _0x4eeeb1(0x824)+_0x3874ab+_0x4eeeb1(0xd4)+_0x401970+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x4503bd+_0x4eeeb1(0x13a)+_0x11ac72[_0x4503bd]+_0x4eeeb1(0x5bd)+_0x4503bd+_0x4eeeb1(0x86b)+_0x5853aa+_0x4eeeb1(0x177);})[_0x40070a(0x7d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x45d618+_0x40070a(0xb1);liveGameView[_0x40070a(0x297)]=_0x5cfedd;if(window['MathJax'])MathJax[_0x40070a(0x4a4)]();_0x492f5f&&(document[_0x40070a(0x11a)]('show-results-btn')[_0x40070a(0x1e2)](_0x40070a(0x91d),async()=>{const _0x2d92b6=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x2d92b6,{'status':'results'});}),document[_0x40070a(0x11a)](_0x40070a(0x450))['onclick']=()=>{openScratchpad(_0x59d7e0,_0x11ac72);});}async function handleShowStudentRankings(){const _0x21e2f3=_0x335401,_0x4226d5=document[_0x21e2f3(0x341)](_0x21e2f3(0x2bf));_0x4226d5&&(_0x4226d5['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x43fbbd=document[_0x21e2f3(0x341)](_0x21e2f3(0x7bc));_0x43fbbd&&(_0x43fbbd[_0x21e2f3(0x297)]=_0x21e2f3(0x336));const _0x56a880=document[_0x21e2f3(0x11a)]('student-rankings-modal');_0x56a880[_0x21e2f3(0x8f)][_0x21e2f3(0x57c)](_0x21e2f3(0x6f8)),document[_0x21e2f3(0x11a)](_0x21e2f3(0x566))['onclick']=()=>_0x56a880[_0x21e2f3(0x8f)][_0x21e2f3(0x85b)]('hidden');const _0x54a4b1=document[_0x21e2f3(0x11a)](_0x21e2f3(0x132)),_0x34e0eb=document[_0x21e2f3(0x11a)](_0x21e2f3(0x6c0)),_0x4005e0=document[_0x21e2f3(0x11a)](_0x21e2f3(0x110)),_0x3cd29a=document[_0x21e2f3(0x11a)](_0x21e2f3(0x627));_0x54a4b1['onclick']=()=>{const _0x5996e2=_0x21e2f3;_0x54a4b1['classList']['add']('active'),_0x34e0eb[_0x5996e2(0x8f)][_0x5996e2(0x57c)](_0x5996e2(0x8eb)),_0x4005e0[_0x5996e2(0x8f)][_0x5996e2(0x57c)](_0x5996e2(0x6f8)),_0x3cd29a['classList'][_0x5996e2(0x85b)](_0x5996e2(0x6f8));},_0x34e0eb['onclick']=()=>{const _0x2bd370=_0x21e2f3;_0x34e0eb[_0x2bd370(0x8f)][_0x2bd370(0x85b)](_0x2bd370(0x8eb)),_0x54a4b1[_0x2bd370(0x8f)][_0x2bd370(0x57c)]('active'),_0x3cd29a[_0x2bd370(0x8f)]['remove'](_0x2bd370(0x6f8)),_0x4005e0['classList'][_0x2bd370(0x85b)](_0x2bd370(0x6f8));};try{const _0x5b6883=collection(db,_0x21e2f3(0x82)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x21e2f3(0x212)),_0x3848fb=await getDocs(_0x5b6883),_0x2155ca=_0x3848fb['docs'][_0x21e2f3(0x4eb)](_0xb6f06b=>_0xb6f06b[_0x21e2f3(0x33f)]());renderQuizLeaderboard(_0x2155ca,currentQuizData,'student-quiz-leaderboard-table-body');const _0x2efd3d=collection(db,_0x21e2f3(0x82)+appId+_0x21e2f3(0x2ea)+currentQuizData['projectId']+_0x21e2f3(0x694)),_0x5b2960=await getDocs(_0x2efd3d),_0x59f1d9=_0x5b2960[_0x21e2f3(0x84c)][_0x21e2f3(0x4eb)](_0xf7b61a=>_0xf7b61a[_0x21e2f3(0x33f)]());renderLeaderboard(_0x59f1d9,'student-project-leaderboard-table-body');}catch(_0xcebf4e){console[_0x21e2f3(0x529)](_0x21e2f3(0x24b),_0xcebf4e),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x4a5730){const _0x1dd11d=_0x335401,_0x2722ce=_0x4a5730[_0x1dd11d(0x265)],_0x31f314=_0x2722ce[_0x1dd11d(0x93d)][_0x1dd11d(0x842)],_0x1be00c=currentQuizData[_0x1dd11d(0x4e3)][_0x31f314];if(!userId){showMessage(_0x1dd11d(0x23c));return;}try{const _0x55b2fb={..._0x1be00c,'originalTopic':currentQuizData[_0x1dd11d(0x7d5)],'savedAt':serverTimestamp()},_0x1b3241=collection(db,_0x1dd11d(0x82)+appId+_0x1dd11d(0x1b3)+userId+'/questionBank');await addDoc(_0x1b3241,_0x55b2fb),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x2722ce[_0x1dd11d(0x8f)][_0x1dd11d(0x57c)](_0x1dd11d(0x8a8)),_0x2722ce['classList'][_0x1dd11d(0x85b)](_0x1dd11d(0x31f)),_0x2722ce[_0x1dd11d(0x53e)]=!![];}catch(_0xd408e8){console[_0x1dd11d(0x529)](_0x1dd11d(0xa8),_0xd408e8),showMessage(_0x1dd11d(0x865));}}function listenForStarredQuizzes(){const _0x5902ba=_0x335401;if(!userId)return;const _0x1a8f5a=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x3750ae=query(_0x1a8f5a,where(_0x5902ba(0x957),'==',!![]));onSnapshot(_0x3750ae,_0x1ed2f6=>{const _0x2b0851=_0x5902ba;starredQuizzes=_0x1ed2f6[_0x2b0851(0x84c)][_0x2b0851(0x4eb)](_0x33e7f2=>({'id':_0x33e7f2['id'],..._0x33e7f2['data']()})),currentProjectId===_0x2b0851(0x568)?renderQuizzes():renderProjects();},_0x18da4e=>{const _0x3ee331=_0x5902ba;console['error'](_0x3ee331(0x8e0),_0x18da4e);});}function exportQuizAsWorksheetPDF(){const _0x3cc3ef=_0x335401;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x3cc3ef(0x4b6));return;}const _0x2bd972=currentQuizData,_0x41e8f1=window['open']('','_blank'),_0x3bd162=_0x5d6f0a=>String[_0x3cc3ef(0x64c)](0x41+_0x5d6f0a),_0x3a4697='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x2bd972[_0x3cc3ef(0x7d5)]+_0x3cc3ef(0x17c)+_0x2bd972[_0x3cc3ef(0x7d5)]+_0x3cc3ef(0xec)+_0x2bd972['questions'][_0x3cc3ef(0x4eb)]((_0x1f25e2,_0x139bfb)=>{const _0x2dc943=_0x3cc3ef;let _0x5801f1='';const _0x3fe851=_0x1f25e2[_0x2dc943(0x23d)]||_0x2bd972[_0x2dc943(0x7a1)];switch(_0x3fe851){case _0x2dc943(0x847):case _0x2dc943(0x570):_0x5801f1=_0x2dc943(0x975)+_0x1f25e2[_0x2dc943(0x5b2)][_0x2dc943(0x4eb)]((_0x3a41e5,_0x212478)=>_0x2dc943(0x195)+_0x3bd162(_0x212478)+'.\x20'+_0x3a41e5+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2dc943(0x7d)](_0x2dc943(0x806))+_0x2dc943(0x9ab);break;case _0x2dc943(0x4c4):_0x5801f1='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x5801f1=_0x2dc943(0x95c);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x139bfb+0x1)+_0x2dc943(0x1cc)+(_0x1f25e2[_0x2dc943(0x99e)]||_0x1f25e2[_0x2dc943(0x7f3)])+_0x2dc943(0x4da)+(_0x1f25e2['imageCode']?_0x2dc943(0x28f)+_0x1f25e2[_0x2dc943(0x2f7)]+_0x2dc943(0x9ab):'')+_0x2dc943(0x4de)+_0x5801f1+_0x2dc943(0x8ba);})[_0x3cc3ef(0x7d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x41e8f1[_0x3cc3ef(0x8cd)][_0x3cc3ef(0x55e)](_0x3a4697),_0x41e8f1[_0x3cc3ef(0x8cd)][_0x3cc3ef(0x25b)](),_0x41e8f1[_0x3cc3ef(0x8f2)]=function(){setTimeout(()=>{const _0x5ed95c=_0x5620;_0x41e8f1[_0x5ed95c(0x2a9)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x48a043=_0x335401;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x48a043(0x4b6));return;}const _0xde7dbc=currentQuizData,_0x571d6b=window[_0x48a043(0x77e)]('','_blank'),_0x2065c7=_0x5222f8=>String[_0x48a043(0x64c)](0x41+_0x5222f8),_0x373aa6=_0x48a043(0x416)+_0xde7dbc[_0x48a043(0x7d5)]+_0x48a043(0x8c1)+_0xde7dbc[_0x48a043(0x4e3)][_0x48a043(0x4eb)]((_0x4f5e04,_0x5a5b4c)=>{const _0x598b63=_0x48a043;let _0x29f169='';const _0x14ae36=_0x4f5e04[_0x598b63(0x23d)]||_0xde7dbc[_0x598b63(0x7a1)];switch(_0x14ae36){case _0x598b63(0x847):case _0x598b63(0x570):_0x29f169=_0x598b63(0x9e)+_0x4f5e04['options'][_0x598b63(0x4eb)]((_0xd18668,_0x34cd4e)=>_0x598b63(0x9af)+_0x2065c7(_0x34cd4e)+'.\x20'+_0xd18668+_0x598b63(0x22c))[_0x598b63(0x7d)](_0x598b63(0x806))+_0x598b63(0x6dc);break;case'true_false':_0x29f169='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x29f169='';break;}return _0x598b63(0x1fd)+_0xde7dbc[_0x598b63(0x7d5)]+_0x598b63(0x172)+(_0x5a5b4c+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x4f5e04[_0x598b63(0x99e)]||_0x4f5e04[_0x598b63(0x7f3)])+_0x598b63(0x4da)+(_0x4f5e04['imageCode']?_0x598b63(0x803)+_0x4f5e04[_0x598b63(0x2f7)]+_0x598b63(0x9ab):'')+_0x598b63(0x4de)+_0x29f169+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x48a043(0x7d)]('')+_0x48a043(0x24a);_0x571d6b[_0x48a043(0x8cd)][_0x48a043(0x55e)](_0x373aa6),_0x571d6b[_0x48a043(0x8cd)][_0x48a043(0x25b)](),_0x571d6b[_0x48a043(0x8f2)]=function(){setTimeout(()=>{const _0x30a81e=_0x5620;_0x571d6b[_0x30a81e(0x2a9)]();},0x5dc);};}async function handleToggleStarQuiz(_0x5e1e47){const _0x3bf92c=_0x335401,_0x106810=doc(db,_0x3bf92c(0x82)+appId+_0x3bf92c(0x5e5),_0x5e1e47);try{const _0x427f87=await getDoc(_0x106810);if(_0x427f87[_0x3bf92c(0x91b)]()){const _0x2aa1fb=_0x427f87['data']()['isStarred']||![];await updateDoc(_0x106810,{'isStarred':!_0x2aa1fb});}}catch(_0x2dbcd8){console[_0x3bf92c(0x529)](_0x3bf92c(0x27e),_0x2dbcd8),showMessage(_0x3bf92c(0x953));}}async function displayQuestionBank(){const _0x3c6e3d=_0x335401,_0x1e46a5=document[_0x3c6e3d(0x11a)](_0x3c6e3d(0x7e1));_0x1e46a5[_0x3c6e3d(0x297)]=_0x3c6e3d(0x6da);try{const _0x39ab1a=collection(db,_0x3c6e3d(0x82)+appId+_0x3c6e3d(0x1b3)+userId+_0x3c6e3d(0x7b9)),_0x5f2bd5=query(_0x39ab1a),_0x5d7da6=await getDocs(_0x5f2bd5);if(_0x5d7da6['empty']){_0x1e46a5[_0x3c6e3d(0x297)]=_0x3c6e3d(0x565);return;}let _0x5931d8=_0x5d7da6[_0x3c6e3d(0x84c)][_0x3c6e3d(0x4eb)](_0x29f90b=>{const _0x35e980=_0x3c6e3d,_0x5ac9f0=_0x29f90b[_0x35e980(0x33f)](),_0x2d70c2=_0x29f90b['id'];return _0x35e980(0x903)+JSON[_0x35e980(0x3af)](_0x5ac9f0)+_0x35e980(0x23e)+(_0x5ac9f0[_0x35e980(0x7f3)]||_0x5ac9f0[_0x35e980(0x99e)])+_0x35e980(0x3ab)+_0x5ac9f0[_0x35e980(0x5a4)]+_0x35e980(0x334);})['join']('');_0x1e46a5[_0x3c6e3d(0x297)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x5931d8+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById'](_0x3c6e3d(0x6d9))[_0x3c6e3d(0x1e2)](_0x3c6e3d(0x91d),createQuizFromBank);}catch(_0x2c2143){console[_0x3c6e3d(0x529)](_0x3c6e3d(0x8ff),_0x2c2143),_0x1e46a5['innerHTML']=_0x3c6e3d(0x43e);}}function showAdminLiveQuestionView(_0x828304,_0x4bceea,_0x584fc8){const _0x23a837=_0x335401,_0x168660=_0x828304[_0x23a837(0x23d)]||currentQuizData[_0x23a837(0x7a1)];let _0x42c9af='';if(_0x168660==='multiple_choice'||_0x168660===_0x23a837(0x4c4)){const _0x555e3c=_0x168660===_0x23a837(0x4c4)?[_0x23a837(0x5ae),_0x23a837(0x55a)]:_0x828304[_0x23a837(0x5b2)],_0x1c2e90=_0x168660===_0x23a837(0x4c4)?_0x828304[_0x23a837(0x81)]?0x0:0x1:_0x828304[_0x23a837(0x801)];_0x42c9af=_0x555e3c[_0x23a837(0x4eb)]((_0x1fb702,_0x24fc7e)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x24fc7e===_0x1c2e90)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1fb702+_0x23a837(0x29c))[_0x23a837(0x7d)]('');}else{if(_0x168660===_0x23a837(0x524)){const _0x3c6aa7=_0x828304['allResponses']||[];_0x42c9af=_0x3c6aa7[_0x23a837(0x4eb)](_0x5ce1d1=>_0x23a837(0x892)+(_0x5ce1d1===_0x828304['correctResponse'])+_0x23a837(0x9b9)+_0x5ce1d1+_0x23a837(0x29c))[_0x23a837(0x7d)]('');}}const _0x392a50=_0x828304[_0x23a837(0x99e)]||_0x828304[_0x23a837(0x7f3)],_0x464198=_0x23a837(0x85d)+(_0x4bceea+0x1)+_0x23a837(0x73f)+_0x584fc8+_0x23a837(0x62b)+currentLiveGamePin+_0x23a837(0x864)+_0x392a50+_0x23a837(0x251)+_0x42c9af+_0x23a837(0x884);liveGameView['innerHTML']=_0x464198,window[_0x23a837(0x107)]&&MathJax[_0x23a837(0x4a4)]&&MathJax[_0x23a837(0x4a4)]([liveGameView]),document[_0x23a837(0x11a)](_0x23a837(0x673))[_0x23a837(0x1e2)](_0x23a837(0x91d),()=>revealAnswerForAdmin(_0x4bceea,_0x584fc8)),document[_0x23a837(0x11a)](_0x23a837(0x449))[_0x23a837(0x1e2)](_0x23a837(0x91d),async()=>{const _0x275974=_0x23a837;showConfirmation(_0x275974(0x39b),async()=>{const _0xf4a0f0=_0x275974,_0x85d846=doc(db,'artifacts/'+appId+_0xf4a0f0(0x9b7),currentLiveGameId);await updateDoc(_0x85d846,{'status':_0xf4a0f0(0x247)});});}),document[_0x23a837(0x11a)]('manage-players-btn')[_0x23a837(0x1e2)]('click',()=>{const _0x555054=_0x23a837;document[_0x555054(0x11a)](_0x555054(0x7eb))[_0x555054(0x8f)]['toggle']('hidden');});}function showStudentLiveQuestionView(_0x1bf763,_0x39485f,_0x512af8){const _0x80a852=_0x335401,_0x4b78c8=_0x1bf763[_0x80a852(0x23d)]||currentQuizData[_0x80a852(0x7a1)];let _0x3291db='';if(_0x4b78c8==='multiple_choice'||_0x4b78c8===_0x80a852(0x4c4)){const _0xa967a7=_0x4b78c8===_0x80a852(0x4c4)?[_0x80a852(0x5ae),_0x80a852(0x55a)]:_0x1bf763[_0x80a852(0x5b2)];_0x3291db=_0xa967a7['map']((_0x145e0e,_0x5bcfab)=>_0x80a852(0x681)+_0x5bcfab+_0x80a852(0x92e)+_0x145e0e+_0x80a852(0x889))[_0x80a852(0x7d)]('');}else{if(_0x4b78c8===_0x80a852(0x524)){const _0x588e11=_0x1bf763[_0x80a852(0x16f)]||[];_0x3291db=_0x588e11[_0x80a852(0x4eb)]((_0x3cac28,_0x2f6aed)=>_0x80a852(0x681)+_0x2f6aed+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3cac28+_0x80a852(0x889))[_0x80a852(0x7d)]('');}else _0x4b78c8==='short_answer'&&(_0x3291db=_0x80a852(0x28d));}const _0x22596c=_0x1bf763[_0x80a852(0x99e)]||_0x1bf763['questionText'],_0x338f4c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x39485f+0x1)+_0x80a852(0x73f)+_0x512af8+_0x80a852(0x275)+_0x22596c+_0x80a852(0x88c)+_0x3291db+_0x80a852(0xd6);liveGameView['innerHTML']=_0x338f4c;window[_0x80a852(0x107)]&&MathJax[_0x80a852(0x4a4)]&&MathJax['typesetPromise']([liveGameView]);const _0x26bfd7=document['getElementById']('live-submit-short-answer-btn');_0x26bfd7&&_0x26bfd7[_0x80a852(0x1e2)]('click',()=>{const _0x316a2b=_0x80a852,_0x2c3aaa=document[_0x316a2b(0x11a)](_0x316a2b(0x284))['value'];handleLiveAnswer(_0x2c3aaa,_0x1bf763);}),document['getElementById'](_0x80a852(0x389))[_0x80a852(0x1e2)]('click',_0x41d8b6=>{const _0x1f3d17=_0x80a852,_0x317fbc=_0x41d8b6[_0x1f3d17(0x5c6)][_0x1f3d17(0x583)]('.live-answer-btn');if(_0x317fbc){const _0x45803c=parseInt(_0x317fbc[_0x1f3d17(0x93d)]['index']);handleLiveAnswer(_0x45803c,_0x1bf763);}});}async function handleLiveAnswer(_0x5c633c,_0xb8c858){const _0x19eec3=_0x335401;document[_0x19eec3(0xf8)](_0x19eec3(0x40f))[_0x19eec3(0x40a)](_0x469c9e=>_0x469c9e[_0x19eec3(0x53e)]=!![]);const _0x3db7f4=_0xb8c858['questionType']||currentQuizData[_0x19eec3(0x7a1)];let _0x85a421=![],_0x4e85cb=_0x5c633c;if(_0x3db7f4==='short_answer'){const _0x3a6dfb=(_0x5c633c||'')[_0x19eec3(0x5dc)]();_0x85a421=await gradeShortAnswer(_0x3a6dfb,_0xb8c858);}else{if(_0x3db7f4==='multiple_choice')_0x85a421=_0x5c633c===_0xb8c858[_0x19eec3(0x801)];else{if(_0x3db7f4===_0x19eec3(0x4c4)){const _0x407887=_0xb8c858[_0x19eec3(0x81)];_0x85a421=_0x5c633c===0x0&&_0x407887||_0x5c633c===0x1&&!_0x407887;}else{if(_0x3db7f4==='matching_item'){const _0x365e8e=_0xb8c858[_0x19eec3(0x16f)][_0x5c633c];_0x85a421=_0x365e8e===_0xb8c858[_0x19eec3(0x441)],_0x4e85cb=_0x365e8e;}}}}const _0x5a5bde=doc(db,_0x19eec3(0x82)+appId+_0x19eec3(0x9b7),currentLiveGameId),_0x14d55f={};_0x14d55f['players.'+currentStudentName+_0x19eec3(0x809)]=!![],_0x14d55f['players.'+currentStudentName+_0x19eec3(0x597)]=_0x85a421,_0x14d55f[_0x19eec3(0x3d9)+currentStudentName+'.lastAnswerIndex']=_0x3db7f4===_0x19eec3(0x787)||_0x3db7f4==='matching_item'?null:_0x5c633c,_0x14d55f['players.'+currentStudentName+_0x19eec3(0x877)]=_0x4e85cb,_0x14d55f['players.'+currentStudentName+_0x19eec3(0x754)]=serverTimestamp(),_0x14d55f[_0x19eec3(0x3d9)+currentStudentName+_0x19eec3(0x498)]=![],await updateDoc(_0x5a5bde,_0x14d55f),liveGameView[_0x19eec3(0x297)]=_0x19eec3(0x2fa);}function showAdminSummaryView(_0x1c3795,_0x1720a1){const _0x1b09b9=_0x335401,_0x7790a=Object['values'](_0x1c3795['players']||{}),_0x3c523c=_0x1720a1[_0x1b09b9(0x23d)]||currentQuizData[_0x1b09b9(0x7a1)],_0x29b018=_0x3c523c===_0x1b09b9(0x4c4)?['ใช่','ไม่ใช่']:_0x1720a1[_0x1b09b9(0x5b2)]||_0x1720a1[_0x1b09b9(0x16f)]||[],_0x2864c6={},_0x461100=new Array(_0x29b018[_0x1b09b9(0x38d)])['fill'](0x0);_0x29b018['forEach']((_0x23250c,_0x52cb87)=>{_0x2864c6[_0x52cb87]=[];}),Object[_0x1b09b9(0x3c6)](_0x1c3795[_0x1b09b9(0x924)]||{})[_0x1b09b9(0x40a)](([_0x21f92a,_0x329e])=>{const _0x34e2dc=_0x1b09b9;if(_0x329e['status']===_0x34e2dc(0x8eb)&&_0x329e['lastAnswerIndex']!==undefined){const _0x51a309=_0x329e[_0x34e2dc(0x600)];_0x2864c6[_0x51a309]&&(_0x2864c6[_0x51a309][_0x34e2dc(0x135)](_0x21f92a),_0x461100[_0x51a309]++);}});const _0xe5f4b4=Math[_0x1b09b9(0x594)](..._0x461100,0x1),_0x488afc=_0x1b09b9(0x168)+(_0x1720a1[_0x1b09b9(0x99e)]||_0x1720a1['questionText'])+_0x1b09b9(0x4e5)+_0x461100[_0x1b09b9(0x4eb)]((_0x285dcf,_0x1c4b8c)=>{const _0x28a5d2=_0x1b09b9,_0x838b6=_0x2864c6[_0x1c4b8c][_0x28a5d2(0x38d)]>0x0?_0x2864c6[_0x1c4b8c][_0x28a5d2(0x7d)](',\x20'):_0x28a5d2(0x3a8);let _0x2fc019=![];if(_0x3c523c==='multiple_choice')_0x2fc019=_0x1c4b8c===_0x1720a1[_0x28a5d2(0x801)];else{if(_0x3c523c===_0x28a5d2(0x4c4)){const _0x50e86c=_0x1720a1['correctAnswer'];_0x2fc019=_0x50e86c&&_0x1c4b8c===0x0||!_0x50e86c&&_0x1c4b8c===0x1;}else _0x3c523c===_0x28a5d2(0x524)&&(_0x2fc019=_0x29b018[_0x1c4b8c]===_0x1720a1[_0x28a5d2(0x441)]);}const _0x356369=_0x2fc019?_0x28a5d2(0x451):_0x28a5d2(0x709);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x285dcf+'</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20'+_0x356369+_0x28a5d2(0x5fe)+_0x1c4b8c+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x29b018[_0x1c4b8c]+_0x28a5d2(0x5bd)+_0x1c4b8c+_0x28a5d2(0x86b)+_0x838b6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('')+_0x1b09b9(0x53c);liveGameView[_0x1b09b9(0x297)]=_0x488afc;if(window[_0x1b09b9(0x107)])MathJax['typesetPromise']();document[_0x1b09b9(0x11a)](_0x1b09b9(0x4a5))[_0x1b09b9(0x1e2)](_0x1b09b9(0x91d),async()=>{const _0x4f2d9a=_0x1b09b9,_0x4e992e=doc(db,_0x4f2d9a(0x82)+appId+_0x4f2d9a(0x9b7),currentLiveGameId);await updateDoc(_0x4e992e,{'questionStatus':'leaderboard'});}),document[_0x1b09b9(0x11a)](_0x1b09b9(0xef))[_0x1b09b9(0x1e2)]('click',()=>{openScratchpad(_0x1720a1,_0x29b018);});}function showPlayerSummaryView(_0x20a956,_0x28f875){const _0x277b3a=_0x335401,_0x1f02fa=Object[_0x277b3a(0x5aa)](_0x20a956[_0x277b3a(0x924)]||{}),_0x582ba8=_0x20a956[_0x277b3a(0x924)][_0x28f875],_0x44b1af=_0x1f02fa[_0x277b3a(0x84b)](_0x26c270=>_0x26c270['status']==='active')[_0x277b3a(0x6df)]((_0x30a7d5,_0x41d946)=>_0x41d946[_0x277b3a(0x94c)]-_0x30a7d5['score']),_0xcd37ab=_0x44b1af[_0x277b3a(0x8b8)](_0x4d7692=>_0x4d7692===_0x582ba8)+0x1,_0x3e88a4=_0x582ba8[_0x277b3a(0x5f3)]?_0x277b3a(0x75):_0x277b3a(0x687),_0x586af2=_0x582ba8[_0x277b3a(0x5f3)]?'bg-green-500':_0x277b3a(0x4a9),_0x3f3e48=_0x582ba8['pointsLastQuestion']||0x0,_0x578ddd=_0x277b3a(0x4be),_0x461aa0=_0x277b3a(0x490)+_0x578ddd+_0x277b3a(0x209)+_0x586af2+_0x277b3a(0x201)+_0x3e88a4+_0x277b3a(0x651)+_0x3f3e48+_0x277b3a(0x6a3)+(_0xcd37ab>0x0?_0xcd37ab:'-')+_0x277b3a(0x488);liveGameView[_0x277b3a(0x297)]=_0x461aa0;}function createQuizFromBank(){const _0x17b919=_0x335401,_0x49705d=document['querySelectorAll'](_0x17b919(0x93c));if(_0x49705d[_0x17b919(0x38d)]===0x0){showMessage(_0x17b919(0x7e));return;}const _0x1a3e1f=[];_0x49705d[_0x17b919(0x40a)](_0xb51ff3=>{const _0x2cfb51=_0x17b919;_0x1a3e1f[_0x2cfb51(0x135)](JSON[_0x2cfb51(0x18d)](_0xb51ff3[_0x2cfb51(0x5ce)]));});const _0x156e9d={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x1a3e1f};displayGeneratedQuiz(_0x156e9d);}function showAdminLobbyView(_0x220b05,_0x336511){const _0x15f052=_0x335401;showView(_0x15f052(0x489));const _0x4a72a2=_0x15f052(0x4ec)+_0x336511+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x220b05+_0x15f052(0x2ac);liveGameView[_0x15f052(0x297)]=_0x4a72a2,document[_0x15f052(0x11a)]('start-game-btn')[_0x15f052(0x1e2)](_0x15f052(0x91d),async()=>{const _0x588bd3=_0x15f052;if(!currentQuizData||!currentQuizData['questions']||currentQuizData[_0x588bd3(0x4e3)][_0x588bd3(0x38d)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x79efa2=doc(db,_0x588bd3(0x82)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x79efa2,{'status':_0x588bd3(0x67e),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x2a383f=currentQuizData[_0x588bd3(0x4e3)][0x0],_0x3126ec=currentQuizData[_0x588bd3(0x4e3)][_0x588bd3(0x38d)];showAdminLiveQuestionView(_0x2a383f,0x0,_0x3126ec);}catch(_0xdb9c22){console['error'](_0x588bd3(0x355),_0xdb9c22),showMessage(_0x588bd3(0x31a));}});}async function openGlobalLiveModal(){const _0x21cc2d=_0x335401;if(allQuizzesGlobal['length']===0x0){const _0x5a76db=await getDocs(collection(db,_0x21cc2d(0x82)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x5a76db[_0x21cc2d(0x84c)][_0x21cc2d(0x4eb)](_0x1e01a2=>({'id':_0x1e01a2['id'],..._0x1e01a2[_0x21cc2d(0x33f)]()}));}renderGlobalQuizList(''),document[_0x21cc2d(0x11a)]('global-live-game-modal')[_0x21cc2d(0x8f)]['remove'](_0x21cc2d(0x6f8));}async function openQuizBankModal(){const _0x2ead01=_0x335401;if(allQuizzesGlobal[_0x2ead01(0x38d)]===0x0){const _0x40cbd3=await getDocs(collection(db,_0x2ead01(0x82)+appId+_0x2ead01(0x5e5)));allQuizzesGlobal=_0x40cbd3['docs'][_0x2ead01(0x4eb)](_0x5675c1=>({'id':_0x5675c1['id'],..._0x5675c1[_0x2ead01(0x33f)]()}));}renderQuizBankList(''),document[_0x2ead01(0x11a)]('quiz-bank-modal')['classList'][_0x2ead01(0x57c)]('hidden');}function renderQuizBankList(_0x4479b1=''){const _0x2cb4ba=_0x335401,_0x558933=document[_0x2cb4ba(0x11a)](_0x2cb4ba(0x747)),_0x5ebece=_0x4479b1[_0x2cb4ba(0x5f2)]()['trim'](),_0x21f0c8=allQuizzesGlobal[_0x2cb4ba(0x4eb)](_0x2f9aeb=>({..._0x2f9aeb,'projectName':allProjects[_0x2cb4ba(0x474)](_0x2afbe5=>_0x2afbe5['id']===_0x2f9aeb[_0x2cb4ba(0x4b5)])?.[_0x2cb4ba(0x8b2)]||_0x2cb4ba(0x500)}))[_0x2cb4ba(0x84b)](_0x2c5a55=>(_0x2c5a55[_0x2cb4ba(0x7d5)]||'')[_0x2cb4ba(0x5f2)]()[_0x2cb4ba(0x655)](_0x5ebece)||(_0x2c5a55[_0x2cb4ba(0x8b2)]||'')[_0x2cb4ba(0x5f2)]()[_0x2cb4ba(0x655)](_0x5ebece)||_0x2c5a55['id']['toString']()[_0x2cb4ba(0x655)](_0x5ebece));document['getElementById'](_0x2cb4ba(0x442))[_0x2cb4ba(0x9a9)]='('+_0x21f0c8[_0x2cb4ba(0x38d)]+_0x2cb4ba(0x476),_0x558933[_0x2cb4ba(0x297)]=_0x21f0c8[_0x2cb4ba(0x38d)]?_0x21f0c8[_0x2cb4ba(0x4eb)](_0x1d6ee2=>_0x2cb4ba(0x582)+_0x1d6ee2['id']+_0x2cb4ba(0x487)+(_0x1d6ee2[_0x2cb4ba(0x7d5)]||_0x2cb4ba(0x7a2))+_0x2cb4ba(0x822)+(_0x1d6ee2['questions']?.[_0x2cb4ba(0x38d)]||0x0)+_0x2cb4ba(0x947)+_0x1d6ee2[_0x2cb4ba(0x8b2)]+_0x2cb4ba(0x830)+_0x1d6ee2['id']+_0x2cb4ba(0x626)+_0x1d6ee2['id']+_0x2cb4ba(0x964)+_0x1d6ee2['id']+_0x2cb4ba(0x47f)+_0x1d6ee2['id']+_0x2cb4ba(0x55d)+_0x1d6ee2['id']+_0x2cb4ba(0x425)+_0x1d6ee2['id']+_0x2cb4ba(0x671)+_0x1d6ee2['id']+_0x2cb4ba(0x930)+_0x1d6ee2[_0x2cb4ba(0x7d5)]+_0x2cb4ba(0x909))[_0x2cb4ba(0x7d)](''):_0x2cb4ba(0x36a),_0x558933['querySelectorAll']('.quiz-bank-item')['forEach'](_0x222715=>{const _0x2cacb0=_0x2cb4ba;_0x222715[_0x2cacb0(0x1e2)](_0x2cacb0(0x91d),()=>{const _0x7d8e0b=_0x2cacb0,_0x1f38d5=_0x222715[_0x7d8e0b(0x93d)]['id'];document[_0x7d8e0b(0x11a)](_0x7d8e0b(0x1a6))[_0x7d8e0b(0x8f)][_0x7d8e0b(0x85b)](_0x7d8e0b(0x6f8)),showQuizDetailView(_0x1f38d5);});}),_0x558933['querySelectorAll'](_0x2cb4ba(0x776))[_0x2cb4ba(0x40a)](_0x109414=>{const _0x2123c5=_0x2cb4ba;_0x109414[_0x2123c5(0x1e2)](_0x2123c5(0x91d),_0x46cb67=>{const _0x439980=_0x2123c5;_0x46cb67[_0x439980(0x17f)]();const _0x488878=_0x109414['dataset']['id'],_0x355176=allQuizzesGlobal[_0x439980(0x474)](_0x1ca1c4=>_0x1ca1c4['id']===_0x488878);_0x355176?(currentQuizData=_0x355176,document[_0x439980(0x11a)]('quiz-bank-modal')[_0x439980(0x8f)]['add']('hidden'),startAdminTest()):showMessage(_0x439980(0x46b));});}),_0x558933[_0x2cb4ba(0xf8)](_0x2cb4ba(0x97e))[_0x2cb4ba(0x40a)](_0x564f18=>{_0x564f18['addEventListener']('click',_0x1eb86e=>{const _0x17e51d=_0x5620;_0x1eb86e[_0x17e51d(0x17f)]();const _0x7eea79=_0x564f18[_0x17e51d(0x93d)]['id'],_0x3570b=allQuizzesGlobal[_0x17e51d(0x474)](_0x3a2a3b=>_0x3a2a3b['id']===_0x7eea79);_0x3570b?(document[_0x17e51d(0x11a)](_0x17e51d(0x1a6))[_0x17e51d(0x8f)][_0x17e51d(0x85b)](_0x17e51d(0x6f8)),handleGenerateParallelFromBank(_0x3570b)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x558933['querySelectorAll'](_0x2cb4ba(0x222))[_0x2cb4ba(0x40a)](_0x85a610=>{const _0x1efcaf=_0x2cb4ba;_0x85a610[_0x1efcaf(0x1e2)](_0x1efcaf(0x91d),_0x1b502f=>{const _0x415935=_0x1efcaf;_0x1b502f[_0x415935(0x17f)]();const _0x22721d=_0x85a610[_0x415935(0x93d)]['id'],_0x6ed32e=allQuizzesGlobal[_0x415935(0x474)](_0x4740de=>_0x4740de['id']===_0x22721d);_0x6ed32e?(document['getElementById'](_0x415935(0x1a6))[_0x415935(0x8f)][_0x415935(0x85b)](_0x415935(0x6f8)),startPresentation(_0x6ed32e)):showMessage(_0x415935(0x46b));});}),_0x558933[_0x2cb4ba(0xf8)](_0x2cb4ba(0x6d3))[_0x2cb4ba(0x40a)](_0x543175=>{const _0x427c1d=_0x2cb4ba;_0x543175['addEventListener'](_0x427c1d(0x91d),_0x155e64=>{const _0x4cde5c=_0x427c1d;_0x155e64['stopPropagation']();const _0x38b76d=_0x543175[_0x4cde5c(0x93d)]['id'];document[_0x4cde5c(0x11a)](_0x4cde5c(0x1a6))[_0x4cde5c(0x8f)]['add'](_0x4cde5c(0x6f8)),handleMoveQuiz(_0x38b76d);});}),_0x558933[_0x2cb4ba(0xf8)](_0x2cb4ba(0x7b4))['forEach'](_0xdb9a22=>{const _0x554b86=_0x2cb4ba;_0xdb9a22[_0x554b86(0x1e2)](_0x554b86(0x91d),_0x136984=>{const _0x2b96f2=_0x554b86;_0x136984[_0x2b96f2(0x17f)]();const _0x38b96f=_0xdb9a22[_0x2b96f2(0x93d)]['id'];document['getElementById'](_0x2b96f2(0x1a6))[_0x2b96f2(0x8f)]['add'](_0x2b96f2(0x6f8)),handleQuizSettings(_0x38b96f);});}),_0x558933[_0x2cb4ba(0xf8)]('.quiz-bank-delete-btn')[_0x2cb4ba(0x40a)](_0x3e41c0=>{const _0x22e57b=_0x2cb4ba;_0x3e41c0[_0x22e57b(0x1e2)](_0x22e57b(0x91d),_0x5209b0=>{const _0x56320c=_0x22e57b;_0x5209b0[_0x56320c(0x17f)]();const _0xca3236=_0x3e41c0[_0x56320c(0x93d)]['id'],_0x2ba14a=_0x3e41c0[_0x56320c(0x93d)][_0x56320c(0x7d5)];showConfirmation(_0x56320c(0x1e7)+_0x2ba14a+_0x56320c(0x646),()=>handleDeleteQuiz(_0xca3236));});});}async function handleCompareResults(_0x1c7c18,_0x594d04){const _0x44ef3d=_0x335401,_0x52c8e2=document[_0x44ef3d(0x11a)](_0x44ef3d(0x410)),_0x33bf92=document[_0x44ef3d(0x11a)](_0x44ef3d(0x258)),_0x4bbcf7=document['getElementById']('comparison-individual-content');document[_0x44ef3d(0x11a)](_0x44ef3d(0x4b0))[_0x44ef3d(0x8f)][_0x44ef3d(0x85b)]('active'),document[_0x44ef3d(0x11a)](_0x44ef3d(0x639))[_0x44ef3d(0x8f)][_0x44ef3d(0x57c)](_0x44ef3d(0x8eb)),_0x33bf92[_0x44ef3d(0x8f)][_0x44ef3d(0x57c)]('hidden'),_0x4bbcf7['classList'][_0x44ef3d(0x85b)](_0x44ef3d(0x6f8)),_0x33bf92[_0x44ef3d(0x297)]=_0x44ef3d(0x6da),_0x4bbcf7[_0x44ef3d(0x297)]='',_0x52c8e2['classList']['remove'](_0x44ef3d(0x6f8));try{const _0x15c67d=doc(db,_0x44ef3d(0x82)+appId+_0x44ef3d(0x5e5),_0x1c7c18),_0x4a457a=await getDoc(_0x15c67d);if(!_0x4a457a['exists']())throw new Error(_0x44ef3d(0x620));const _0x4f324c=_0x4a457a[_0x44ef3d(0x33f)](),_0x52102b=_0x4f324c[_0x44ef3d(0x4e3)][_0x44ef3d(0x38d)],_0x24b249=collection(db,_0x44ef3d(0x82)+appId+_0x44ef3d(0x2d6)+_0x594d04+_0x44ef3d(0x212)),_0x2d5858=collection(db,'artifacts/'+appId+_0x44ef3d(0x2d6)+_0x1c7c18+_0x44ef3d(0x212)),[_0x20c2fe,_0x1e94c3]=await Promise[_0x44ef3d(0x465)]([getDocs(_0x24b249),getDocs(_0x2d5858)]),_0x607f33=_0x20c2fe[_0x44ef3d(0x84c)][_0x44ef3d(0x4eb)](_0x485088=>_0x485088[_0x44ef3d(0x33f)]()),_0x171860=_0x1e94c3[_0x44ef3d(0x84c)][_0x44ef3d(0x4eb)](_0x591fe3=>_0x591fe3[_0x44ef3d(0x33f)]()),_0xaec7bb=_0x607f33['map'](_0xbc5bab=>_0xbc5bab[_0x44ef3d(0x5bc)]),_0x3785a6=_0x171860[_0x44ef3d(0x4eb)](_0xf58aa8=>_0xf58aa8[_0x44ef3d(0x5bc)]),_0x50199d=calculateMeanAndStdDev(_0xaec7bb),_0x22fb45=calculateMeanAndStdDev(_0x3785a6),_0x1b269a=_0x50199d[_0x44ef3d(0x316)],_0x328f35=_0x22fb45[_0x44ef3d(0x316)],_0x1368b7=_0x328f35-_0x1b269a;let _0x520636=_0x44ef3d(0x5ef)+_0x1b269a[_0x44ef3d(0x198)](0x2)+_0x44ef3d(0x5cc)+_0x328f35[_0x44ef3d(0x198)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0x1368b7>=0x0?_0x44ef3d(0x45a):_0x44ef3d(0x951))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x1368b7>=0x0?_0x44ef3d(0x9ac):_0x44ef3d(0x363))+_0x44ef3d(0x309)+(_0x1368b7>=0x0?_0x44ef3d(0x6e2):_0x44ef3d(0x2c9))+'\x22>'+(_0x1368b7>=0x0?'+':'')+_0x1368b7[_0x44ef3d(0x198)](0x2)+_0x44ef3d(0x1de);_0x33bf92[_0x44ef3d(0x297)]=_0x520636;const _0x19a127=document['getElementById'](_0x44ef3d(0x35f))[_0x44ef3d(0x797)]('2d');if(chartInstances['comparison'])chartInstances[_0x44ef3d(0x69c)][_0x44ef3d(0x19f)]();chartInstances[_0x44ef3d(0x69c)]=new Chart(_0x19a127,{'type':_0x44ef3d(0x91),'data':{'labels':[_0x44ef3d(0x304)],'datasets':[{'label':_0x44ef3d(0x559),'data':[_0x1b269a],'backgroundColor':_0x44ef3d(0x4d4)},{'label':_0x44ef3d(0x40c),'data':[_0x328f35],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x52102b}}}});const _0x1e97e8=currentProjectData[_0x44ef3d(0x4c6)]||[],_0x4afcb8=_0x1e97e8[_0x44ef3d(0x4eb)](_0x4b4354=>{const _0x4f9a4e=_0x44ef3d,_0x1da90f=_0x607f33['find'](_0x480ff5=>_0x480ff5[_0x4f9a4e(0x700)]===_0x4b4354),_0x37c77c=_0x171860['find'](_0x20910e=>_0x20910e[_0x4f9a4e(0x700)]===_0x4b4354),_0x25366e=_0x1da90f?_0x1da90f['latestScore']:null,_0x195885=_0x37c77c?_0x37c77c[_0x4f9a4e(0x5bc)]:null,_0x446000=_0x25366e!==null&&_0x195885!==null?_0x195885-_0x25366e:null,_0x51565e=_0x25366e!==null?calculateZScore(_0x25366e,_0x50199d[_0x4f9a4e(0x316)],_0x50199d[_0x4f9a4e(0x737)]):null,_0x25e011=_0x195885!==null?calculateZScore(_0x195885,_0x22fb45['mean'],_0x22fb45[_0x4f9a4e(0x737)]):null,_0x1d3ed4=_0x51565e!==null?calculateTScore(_0x51565e):null,_0x549c01=_0x25e011!==null?calculateTScore(_0x25e011):null,_0x5ea316=_0x1d3ed4!==null&&_0x549c01!==null?_0x549c01-_0x1d3ed4:null;return{'name':_0x4b4354,'preScore':_0x25366e,'postScore':_0x195885,'gain':_0x446000,'preTScore':_0x1d3ed4,'postTScore':_0x549c01,'tGain':_0x5ea316};});renderIndividualComparisonTable(_0x4afcb8,_0x4bbcf7);}catch(_0x26ca8e){console[_0x44ef3d(0x529)](_0x44ef3d(0x2e2),_0x26ca8e),_0x33bf92[_0x44ef3d(0x297)]=_0x44ef3d(0x30e);}}function displayHalfMarkResult(_0x49d0e0,_0x1fcbff){const _0xe56684=_0x335401,_0x12990d=_0x49d0e0>=_0x1fcbff/0x2,_0x56891b=_0x12990d?_0xe56684(0x53f):'bg-red-100',_0x509368=_0x12990d?_0xe56684(0x4bb):_0xe56684(0x506),_0x587e0e=_0x12990d?_0xe56684(0x163):_0xe56684(0x363),_0x100269=_0x12990d?_0xe56684(0x6b3):_0xe56684(0xb6),_0x8450f9=_0x12990d?_0xe56684(0x7a3):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x12e9a6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x56891b+_0xe56684(0xd5)+_0x509368+_0xe56684(0x220)+_0x587e0e+_0xe56684(0x14a)+_0x100269+_0xe56684(0x908)+_0x8450f9+_0xe56684(0x178);studentResultArea[_0xe56684(0x297)]=_0x12e9a6,studentResultArea[_0xe56684(0x8f)]['remove'](_0xe56684(0x6f8)),studentQuizArea[_0xe56684(0x8f)][_0xe56684(0x85b)]('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x12990d});}function displayPerfectScoreResult(_0x5e080d,_0x3e16eb){const _0x16c203=_0x335401,_0x431b9d=_0x5e080d===_0x3e16eb,_0x54b814=_0x431b9d?_0x16c203(0x835):_0x16c203(0x18c),_0x13d3e1=_0x431b9d?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x16c203(0x1c5),_0xfd8759=_0x431b9d?_0x16c203(0x596):'text-blue-800',_0x45b2e5=_0x431b9d?'คะแนนเต็ม!':_0x16c203(0x871),_0x2c511c=_0x431b9d?_0x16c203(0x411):'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x4bc05a=_0x16c203(0x71d)+_0x54b814+_0x16c203(0xd5)+_0x13d3e1+_0x16c203(0x220)+_0xfd8759+_0x16c203(0x14a)+_0x45b2e5+_0x16c203(0x908)+_0x2c511c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x16c203(0x297)]=_0x4bc05a,studentResultArea[_0x16c203(0x8f)][_0x16c203(0x57c)](_0x16c203(0x6f8)),studentQuizArea[_0x16c203(0x8f)][_0x16c203(0x85b)](_0x16c203(0x6f8)),setupResultScreenBackButton({'showRankings':![],'score':_0x5e080d,'totalQuestions':_0x3e16eb});}function renderIndividualComparisonTable(_0x473de5,_0x317b24){const _0x322553=_0x335401;_0x473de5[_0x322553(0x6df)]((_0x265896,_0x1dbcc0)=>(_0x1dbcc0[_0x322553(0x6bf)]??-Infinity)-(_0x265896['tGain']??-Infinity));let _0x1722ad=_0x322553(0x366);_0x473de5[_0x322553(0x38d)]===0x0?_0x1722ad+=_0x322553(0x68f):_0x473de5[_0x322553(0x40a)]((_0x595879,_0x5afebb)=>{const _0x36e88c=_0x322553;let _0x4cb444='-',_0x2f5a3a='';if(_0x595879['gain']!==null){const _0x48f832=_0x595879[_0x36e88c(0x501)]>0x0?_0x36e88c(0x31f):_0x595879['gain']<0x0?_0x36e88c(0x5cd):_0x36e88c(0x9d0),_0x1c8fbc=_0x595879[_0x36e88c(0x501)]>0x0?'+':'';_0x4cb444=_0x36e88c(0x28c)+_0x48f832+'\x22>'+_0x1c8fbc+_0x595879['gain']+_0x36e88c(0x22c);if(_0x595879[_0x36e88c(0x501)]>0x0)_0x2f5a3a=_0x36e88c(0x444);else _0x595879[_0x36e88c(0x501)]<0x0?_0x2f5a3a=_0x36e88c(0x2bd):_0x2f5a3a=_0x36e88c(0x1d4);}let _0x2f7bc9='-';if(_0x595879[_0x36e88c(0x6bf)]!==null){const _0x169dbe=_0x595879[_0x36e88c(0x6bf)]>0x0?'text-green-600':_0x595879[_0x36e88c(0x6bf)]<0x0?_0x36e88c(0x5cd):_0x36e88c(0x9d0),_0x106ad8=_0x595879[_0x36e88c(0x6bf)]>0x0?'+':'';_0x2f7bc9='<span\x20class=\x22font-bold\x20'+_0x169dbe+'\x22>'+_0x106ad8+_0x595879[_0x36e88c(0x6bf)][_0x36e88c(0x198)](0x2)+'</span>';}_0x1722ad+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x5afebb+0x1)+_0x36e88c(0x92b)+_0x595879[_0x36e88c(0x20b)]+_0x36e88c(0x278)+(_0x595879['preScore']??'-')+_0x36e88c(0x37b)+(_0x595879['postScore']??'-')+_0x36e88c(0x278)+_0x4cb444+_0x36e88c(0x70f)+_0x2f5a3a+_0x36e88c(0x33d)+(_0x595879[_0x36e88c(0x44c)]?.[_0x36e88c(0x198)](0x2)??'-')+_0x36e88c(0x424)+(_0x595879[_0x36e88c(0x52b)]?.[_0x36e88c(0x198)](0x2)??'-')+_0x36e88c(0x278)+_0x2f7bc9+_0x36e88c(0x516);}),_0x1722ad+=_0x322553(0x2ce),_0x317b24[_0x322553(0x297)]=_0x1722ad;}function handleRenameQuiz(_0x5b2135,_0x4d2dc4){const _0x2b7446=_0x335401;actionTargetId=_0x5b2135,document[_0x2b7446(0x11a)](_0x2b7446(0x978))['value']=_0x4d2dc4,renameQuizModal[_0x2b7446(0x8f)][_0x2b7446(0x57c)](_0x2b7446(0x6f8));}function setupComparisonModalTabs(){const _0x10688f=_0x335401,_0x2e0a23=document[_0x10688f(0x11a)](_0x10688f(0x4b0)),_0x7f4398=document[_0x10688f(0x11a)](_0x10688f(0x639)),_0x53655a=document[_0x10688f(0x11a)]('comparison-overall-content'),_0x3f5428=document[_0x10688f(0x11a)]('comparison-individual-content');_0x2e0a23[_0x10688f(0x1e2)](_0x10688f(0x91d),()=>{const _0x264c8a=_0x10688f;_0x2e0a23['classList'][_0x264c8a(0x85b)]('active'),_0x7f4398['classList']['remove'](_0x264c8a(0x8eb)),_0x53655a[_0x264c8a(0x8f)][_0x264c8a(0x57c)](_0x264c8a(0x6f8)),_0x3f5428[_0x264c8a(0x8f)][_0x264c8a(0x85b)](_0x264c8a(0x6f8));}),_0x7f4398[_0x10688f(0x1e2)](_0x10688f(0x91d),()=>{const _0x619746=_0x10688f;_0x7f4398[_0x619746(0x8f)][_0x619746(0x85b)]('active'),_0x2e0a23[_0x619746(0x8f)][_0x619746(0x57c)](_0x619746(0x8eb)),_0x3f5428[_0x619746(0x8f)][_0x619746(0x57c)](_0x619746(0x6f8)),_0x53655a['classList'][_0x619746(0x85b)](_0x619746(0x6f8));});}setupComparisonModalTabs();function renderGlobalQuizList(_0xda99a2=''){const _0x2f211f=_0x335401,_0x4a4ef3=document[_0x2f211f(0x11a)](_0x2f211f(0x7a)),_0x458213=_0xda99a2[_0x2f211f(0x5f2)]()['trim'](),_0x4a6413=allQuizzesGlobal[_0x2f211f(0x4eb)](_0x95088e=>({..._0x95088e,'projectName':allProjects[_0x2f211f(0x474)](_0x1cd314=>_0x1cd314['id']===_0x95088e[_0x2f211f(0x4b5)])?.['projectName']||_0x95088e[_0x2f211f(0x4b5)]}))[_0x2f211f(0x84b)](_0x49c5d4=>(_0x49c5d4[_0x2f211f(0x7d5)]||'')['toLowerCase']()[_0x2f211f(0x655)](_0x458213)||(_0x49c5d4[_0x2f211f(0x8b2)]||'')[_0x2f211f(0x5f2)]()['includes'](_0x458213));document['getElementById'](_0x2f211f(0x66a))['textContent']='('+_0x4a6413[_0x2f211f(0x38d)]+_0x2f211f(0x476),_0x4a4ef3[_0x2f211f(0x297)]=_0x4a6413[_0x2f211f(0x38d)]?_0x4a6413['map'](_0x6c4380=>_0x2f211f(0x41d)+_0x6c4380['id']+_0x2f211f(0xc9)+(_0x6c4380[_0x2f211f(0x7d5)]||_0x2f211f(0x7a2))+_0x2f211f(0x37a)+(_0x6c4380[_0x2f211f(0x4e3)]?.[_0x2f211f(0x38d)]||0x0)+_0x2f211f(0x154)+_0x6c4380[_0x2f211f(0x8b2)]+_0x2f211f(0x89c))[_0x2f211f(0x7d)](''):'<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',selectedGlobalQuizId=null,document[_0x2f211f(0x11a)]('confirm-global-live-btn')[_0x2f211f(0x53e)]=!![],_0x4a4ef3[_0x2f211f(0xf8)]('button[data-id]')[_0x2f211f(0x40a)](_0x4dce8e=>{const _0x48a8dc=_0x2f211f;_0x4dce8e[_0x48a8dc(0x1e2)]('click',()=>{const _0x2d3c09=_0x48a8dc;selectedGlobalQuizId=_0x4dce8e['dataset']['id'],_0x4a4ef3[_0x2d3c09(0xf8)]('button')[_0x2d3c09(0x40a)](_0x347540=>_0x347540[_0x2d3c09(0x8f)][_0x2d3c09(0x57c)]('bg-purple-50',_0x2d3c09(0x1e1),_0x2d3c09(0x5e1))),_0x4dce8e[_0x2d3c09(0x8f)][_0x2d3c09(0x85b)](_0x2d3c09(0x86d),'ring-2',_0x2d3c09(0x5e1)),document[_0x2d3c09(0x11a)](_0x2d3c09(0x4e0))['disabled']=![];});});}function listenForLiveGameUpdates(){const _0x3309e2=_0x335401;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0xe99c37=doc(db,_0x3309e2(0x82)+appId+_0x3309e2(0x9b7),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0xe99c37,_0x4b33d1=>{const _0x32bfc2=_0x3309e2;if(!_0x4b33d1[_0x32bfc2(0x91b)]()){showMessage(_0x32bfc2(0x548)),showView(currentMode);return;}const _0xe403f0=_0x4b33d1[_0x32bfc2(0x33f)]();_0xe403f0[_0x32bfc2(0x189)]&&(currentQuizData=_0xe403f0['shuffledQuiz']);!currentQuizData&&_0xe403f0[_0x32bfc2(0x1bb)]&&((async()=>{const _0x36541d=_0x32bfc2;try{const _0x17e992=doc(db,_0x36541d(0x82)+appId+_0x36541d(0x5e5),_0xe403f0[_0x36541d(0x1bb)]),_0x1c7ab1=await getDoc(_0x17e992);_0x1c7ab1['exists']()&&(currentQuizData={'id':_0x1c7ab1['id'],..._0x1c7ab1[_0x36541d(0x33f)]()});}catch(_0xd887e7){console[_0x36541d(0x529)](_0x36541d(0x6a2),_0xd887e7);}})());switch(_0xe403f0[_0x32bfc2(0x83e)]){case'lobby':if(currentMode===_0x32bfc2(0x321)){const _0x4281d1=_0xe403f0[_0x32bfc2(0x924)]?Object[_0x32bfc2(0x3c6)](_0xe403f0[_0x32bfc2(0x924)]):[],_0x3baf00=_0x4281d1['filter'](([_0x5299fc,_0x32f105])=>_0x32f105['status']===_0x32bfc2(0x8eb)),_0x3f3d81=document[_0x32bfc2(0x11a)]('player-count');if(_0x3f3d81)_0x3f3d81[_0x32bfc2(0x9a9)]=_0x3baf00[_0x32bfc2(0x38d)];const _0x2cb28d=document['getElementById'](_0x32bfc2(0x64e));_0x2cb28d&&(_0x2cb28d['innerHTML']=_0x3baf00[_0x32bfc2(0x4eb)](([_0x220a38,_0x21f456])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x220a38+_0x32bfc2(0x69f)+_0x220a38+_0x32bfc2(0x345))[_0x32bfc2(0x7d)](''));const _0x41798f=document[_0x32bfc2(0x11a)](_0x32bfc2(0x81e));_0x41798f&&(_0x41798f[_0x32bfc2(0x53e)]=_0x3baf00[_0x32bfc2(0x38d)]===0x0);}else showView(_0x32bfc2(0x489)),liveGameView[_0x32bfc2(0x297)]=_0x32bfc2(0x854)+currentStudentName+_0x32bfc2(0x1dc);break;case _0x32bfc2(0x67e):const _0x2da339=_0xe403f0[_0x32bfc2(0xd7)];if(currentQuizData&&currentQuizData[_0x32bfc2(0x4e3)][_0x2da339]){const _0x52a76e=currentQuizData['questions'][_0x2da339],_0x1fc102=_0xe403f0[_0x32bfc2(0x8f5)]||_0x32bfc2(0x34e);switch(_0x1fc102){case _0x32bfc2(0x53b):currentMode===_0x32bfc2(0x321)?showAdminSummaryView(_0xe403f0,_0x52a76e):showPlayerSummaryView(_0xe403f0,currentStudentName);break;case _0x32bfc2(0x80d):currentMode===_0x32bfc2(0x321)&&showTop5LeaderboardView(_0xe403f0);break;case _0x32bfc2(0x34e):default:if(currentMode===_0x32bfc2(0x321)){const _0x39dc56=writeBatch(db);let _0x10e1c1=![];Object[_0x32bfc2(0x3c6)](_0xe403f0[_0x32bfc2(0x924)])[_0x32bfc2(0x40a)](([_0x35d5fb,_0x5a76ed])=>{const _0x48d641=_0x32bfc2;if(_0x5a76ed['status']===_0x48d641(0x8eb)&&_0x5a76ed[_0x48d641(0x72b)]&&!_0x5a76ed[_0x48d641(0x6f6)]){_0x10e1c1=!![];const _0x197dde=_0x5a76ed[_0x48d641(0x72b)]['toDate']()-_0xe403f0[_0x48d641(0x74d)][_0x48d641(0x8fb)]();let _0x201be9=0x0;if(_0x5a76ed['lastAnswerCorrect']){const _0x16a94f=0x3e8,_0x41a954=0x1f4,_0x5b6177=0x4e20;let _0x4fbd0a=_0x197dde/_0x5b6177;if(_0x4fbd0a>0x1)_0x4fbd0a=0x1;const _0x45b9fb=Math[_0x48d641(0x929)](_0x4fbd0a*_0x41a954);_0x201be9=_0x16a94f-_0x45b9fb;}const _0x43a39b=doc(db,_0x48d641(0x82)+appId+_0x48d641(0x9b7),currentLiveGameId);_0x39dc56['update'](_0x43a39b,{[_0x48d641(0x3d9)+_0x35d5fb+_0x48d641(0x6dd)]:increment(_0x201be9),[_0x48d641(0x3d9)+_0x35d5fb+_0x48d641(0x45d)]:_0x201be9,[_0x48d641(0x3d9)+_0x35d5fb+'.isScored']:!![]});}});_0x10e1c1&&_0x39dc56[_0x32bfc2(0x92d)]()[_0x32bfc2(0x8cb)](_0x507524=>console[_0x32bfc2(0x529)]('Error\x20committing\x20score\x20updates:',_0x507524));lastRenderedAdminQuestionIndex!==_0x2da339&&(showAdminLiveQuestionView(_0x52a76e,_0x2da339,currentQuizData[_0x32bfc2(0x4e3)]['length']),lastRenderedAdminQuestionIndex=_0x2da339);const _0x1442c8=_0xe403f0[_0x32bfc2(0x924)]||{},_0x5c5777=Object[_0x32bfc2(0x5aa)](_0x1442c8)[_0x32bfc2(0x84b)](_0xeee204=>_0xeee204[_0x32bfc2(0x83e)]===_0x32bfc2(0x8eb)),_0x2b2ac1=_0x5c5777['length'],_0x162b03=_0x5c5777[_0x32bfc2(0x84b)](_0x1870ce=>_0x1870ce['answeredCurrentQuestion']===!![])[_0x32bfc2(0x38d)],_0x386ac5=document[_0x32bfc2(0x11a)]('answer-counter');if(_0x386ac5)_0x386ac5[_0x32bfc2(0x9a9)]=_0x162b03+'/'+_0x2b2ac1;const _0x400479=document[_0x32bfc2(0x11a)](_0x32bfc2(0x2d7));if(_0x400479){let _0xda0bd0=Object[_0x32bfc2(0x3c6)](_0x1442c8)[_0x32bfc2(0x84b)](([_0x532415,_0x4107ed])=>_0x4107ed['status']===_0x32bfc2(0x8eb))['map'](([_0x54ddee,_0x1b952a])=>{const _0x3c3c16=_0x32bfc2,_0x11d616=_0x1b952a[_0x3c3c16(0x5d5)]===!![],_0x5ca4c5=_0x11d616?_0x3c3c16(0x991):'bg-gray-500',_0x3b8d88=_0x11d616?_0x3c3c16(0x3d5):_0x3c3c16(0x812);return _0x3c3c16(0x761)+_0x5ca4c5+_0x3c3c16(0x403)+_0x3b8d88+_0x3c3c16(0x8c)+_0x54ddee+_0x3c3c16(0xed)+_0x54ddee+_0x3c3c16(0x17a);})['join']('');_0x400479[_0x32bfc2(0x297)]=_0xda0bd0||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x2b2ac1>0x0&&_0x162b03===_0x2b2ac1&&revealAnswerForAdmin(_0x2da339,currentQuizData[_0x32bfc2(0x4e3)][_0x32bfc2(0x38d)]);}else{const _0x4c5de7=_0xe403f0[_0x32bfc2(0x924)][currentStudentName];_0x4c5de7&&!_0x4c5de7[_0x32bfc2(0x5d5)]&&showStudentLiveQuestionView(_0x52a76e,_0x2da339,currentQuizData['questions'][_0x32bfc2(0x38d)]);}break;}}break;case _0x32bfc2(0x247):showPodiumView(_0xe403f0[_0x32bfc2(0x924)],_0x32bfc2(0x244));break;}});}async function handleKickPlayer(_0x529afb){const _0x46d718=_0x335401;if(!currentLiveGameId||!_0x529afb)return;const _0x15f397=doc(db,_0x46d718(0x82)+appId+_0x46d718(0x9b7),currentLiveGameId),_0x22c9ef={};_0x22c9ef['players.'+_0x529afb+_0x46d718(0x3df)]='inactive';try{await updateDoc(_0x15f397,_0x22c9ef);}catch(_0x26704a){console[_0x46d718(0x529)](_0x46d718(0x43c)+_0x529afb+':',_0x26704a),showMessage(_0x46d718(0x931));}}async function authenticateUser(){const _0x2e51fe=_0x335401;try{typeof __initial_auth_token!==_0x2e51fe(0x264)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x4aeccb){console[_0x2e51fe(0x529)]('Authentication\x20failed:',_0x4aeccb),showMessage(_0x2e51fe(0x555));}}function showView(_0x3bb371){const _0x4f361e=_0x335401;adminView[_0x4f361e(0x8f)][_0x4f361e(0x85b)]('hidden'),studentView['classList'][_0x4f361e(0x85b)](_0x4f361e(0x6f8)),projectDashboardView[_0x4f361e(0x8f)]['add'](_0x4f361e(0x6f8)),projectDetailView[_0x4f361e(0x8f)][_0x4f361e(0x85b)]('hidden'),quizResultsView['classList'][_0x4f361e(0x85b)](_0x4f361e(0x6f8)),liveGameView['classList'][_0x4f361e(0x85b)](_0x4f361e(0x6f8)),studentInitialView[_0x4f361e(0x8f)][_0x4f361e(0x85b)](_0x4f361e(0x6f8)),studentJoinGameView[_0x4f361e(0x8f)][_0x4f361e(0x85b)](_0x4f361e(0x6f8)),studentNameSelectionView[_0x4f361e(0x8f)]['add'](_0x4f361e(0x6f8)),studentQuizArea[_0x4f361e(0x8f)]['add'](_0x4f361e(0x6f8)),studentResultArea['classList'][_0x4f361e(0x85b)](_0x4f361e(0x6f8)),studentReadingArea[_0x4f361e(0x8f)][_0x4f361e(0x85b)](_0x4f361e(0x6f8));const _0x335ab5=document[_0x4f361e(0x11a)](_0x4f361e(0x7f7)),_0x333c47=document[_0x4f361e(0x11a)](_0x4f361e(0x820));if(_0x335ab5)_0x335ab5[_0x4f361e(0x8f)][_0x4f361e(0x85b)]('hidden');if(_0x333c47)_0x333c47[_0x4f361e(0x8f)][_0x4f361e(0x85b)](_0x4f361e(0x6f8));switch(_0x3bb371){case _0x4f361e(0x631):adminView['classList'][_0x4f361e(0x57c)](_0x4f361e(0x6f8)),projectDashboardView[_0x4f361e(0x8f)]['remove'](_0x4f361e(0x6f8));break;case _0x4f361e(0x495):adminView[_0x4f361e(0x8f)][_0x4f361e(0x57c)]('hidden'),projectDetailView[_0x4f361e(0x8f)]['remove'](_0x4f361e(0x6f8));break;case'quiz-results':adminView[_0x4f361e(0x8f)]['remove']('hidden'),quizResultsView[_0x4f361e(0x8f)][_0x4f361e(0x57c)](_0x4f361e(0x6f8));break;case _0x4f361e(0x4e4):studentView[_0x4f361e(0x8f)]['remove'](_0x4f361e(0x6f8)),studentInitialView[_0x4f361e(0x8f)][_0x4f361e(0x57c)]('hidden');break;case'live-game':liveGameView[_0x4f361e(0x8f)][_0x4f361e(0x57c)](_0x4f361e(0x6f8));break;case _0x4f361e(0x9aa):studentView[_0x4f361e(0x8f)]['remove'](_0x4f361e(0x6f8));if(_0x335ab5)_0x335ab5[_0x4f361e(0x8f)]['remove'](_0x4f361e(0x6f8));break;case'student-progress':studentView[_0x4f361e(0x8f)][_0x4f361e(0x57c)]('hidden');if(_0x333c47)_0x333c47[_0x4f361e(0x8f)][_0x4f361e(0x57c)](_0x4f361e(0x6f8));break;default:studentView[_0x4f361e(0x8f)][_0x4f361e(0x57c)](_0x4f361e(0x6f8)),studentInitialView[_0x4f361e(0x8f)]['remove']('hidden');break;}}function showJoinGameView(){const _0x25d73f=_0x335401;studentInitialView[_0x25d73f(0x8f)][_0x25d73f(0x85b)](_0x25d73f(0x6f8)),studentJoinGameView[_0x25d73f(0x8f)]['remove'](_0x25d73f(0x6f8));}async function handleSaveVisibilitySettings(){const _0x25a892=_0x335401;if(!currentProjectId)return;const _0x5c4dc5=doc(db,_0x25a892(0x82)+appId+_0x25a892(0x8c3),currentProjectId);try{await updateDoc(_0x5c4dc5,{'settings.showInStudentDashboard':document[_0x25a892(0x11a)]('show-in-student-dashboard-checkbox')['checked'],'settings.isPasscodeEnabled':document[_0x25a892(0x11a)](_0x25a892(0x634))['checked'],'settings.passcode':document['getElementById'](_0x25a892(0x89f))['value'][_0x25a892(0xa5)]()}),showMessage(_0x25a892(0x49a));}catch(_0x32770b){console[_0x25a892(0x529)](_0x25a892(0x38c),_0x32770b),showMessage(_0x25a892(0x865));}}function setupEventListeners(){const _0x585590=_0x335401,_0x28e886=document[_0x585590(0x11a)](_0x585590(0x629)),_0x2a3ad6=async _0x518d6f=>{const _0x57c3fa=_0x585590;_0x28e886[_0x57c3fa(0x8f)]['add'](_0x57c3fa(0x6f8));const _0x406f58=parseInt(document['getElementById'](_0x57c3fa(0x216))[_0x57c3fa(0x5ce)]),_0x378167=doc(db,_0x57c3fa(0x82)+appId+'/public/data/syncGames',currentLiveGameId),_0x2f449c=await getDoc(_0x378167);if(!_0x2f449c[_0x57c3fa(0x91b)]())return;const _0x39910b=_0x2f449c[_0x57c3fa(0x33f)](),_0x32d52b=_0x39910b['currentQuestionIndex'],_0x207171=_0x39910b[_0x57c3fa(0x189)][_0x57c3fa(0x4e3)][_0x32d52b],_0x55f73a=localTeamPlayers[localPlayerTurnIndex];handleSyncAnswerSubmit(_0x406f58,_0x207171,_0x39910b,_0x55f73a,_0x518d6f);};document['getElementById'](_0x585590(0x637))['addEventListener'](_0x585590(0x91d),()=>_0x2a3ad6(!![])),document['getElementById'](_0x585590(0x7bd))['addEventListener'](_0x585590(0x91d),()=>_0x2a3ad6(![])),liveGameView[_0x585590(0x1e2)](_0x585590(0x91d),_0x445e60=>{const _0x56fc1a=_0x585590,_0x3de064=_0x445e60[_0x56fc1a(0x5c6)]['closest'](_0x56fc1a(0x75a));if(_0x3de064){const _0x52fe42=_0x3de064['dataset']['playerName'];_0x52fe42&&handleKickPlayerSync(_0x52fe42);}});const _0x270365=document[_0x585590(0x11a)](_0x585590(0x92a)),_0x1f6af0=document[_0x585590(0x11a)](_0x585590(0x183));_0x1f6af0['addEventListener'](_0x585590(0x91d),()=>{const _0xb1a09c=_0x585590;document[_0xb1a09c(0x11a)](_0xb1a09c(0x519))[_0xb1a09c(0x8f)][_0xb1a09c(0x85b)]('hidden');}),_0x270365[_0x585590(0x1e2)](_0x585590(0x91d),()=>{const _0x5bc86c=_0x585590,_0x1b9b26=document[_0x5bc86c(0x11a)](_0x5bc86c(0x818))[_0x5bc86c(0x5ce)],_0x5ab496=document[_0x5bc86c(0x11a)](_0x5bc86c(0x8dc))[_0x5bc86c(0x5ce)],_0x4c9fee=document['getElementById'](_0x5bc86c(0x9b5))['checked'];document[_0x5bc86c(0x11a)](_0x5bc86c(0x519))[_0x5bc86c(0x8f)]['add']('hidden');switch(_0x5ab496){case _0x5bc86c(0x244):handleStartLiveRace(_0x1b9b26,_0x4c9fee);break;case'team':handleStartTeamQuiz(_0x1b9b26,_0x4c9fee);break;case'group':handleStartGroupMode(_0x1b9b26,_0x4c9fee);break;case _0x5bc86c(0x452):handleStartSyncMode(_0x1b9b26,_0x4c9fee);break;}}),document[_0x585590(0x11a)](_0x585590(0x2d4))[_0x585590(0x1e2)]('click',handleJoinGroupActivity),liveGameView[_0x585590(0x1e2)](_0x585590(0x91d),_0x546b7e=>{const _0x54d03b=_0x585590,_0x4326a1=_0x546b7e[_0x54d03b(0x5c6)][_0x54d03b(0x583)](_0x54d03b(0x47e));document[_0x54d03b(0xf8)](_0x54d03b(0x98))[_0x54d03b(0x40a)](_0x34619d=>{const _0x3a6c19=_0x54d03b;(!_0x4326a1||_0x34619d['id']!==_0x4326a1['dataset']['tooltipTarget'])&&_0x34619d[_0x3a6c19(0x8f)][_0x3a6c19(0x57c)]('visible');});if(!_0x4326a1)return;const _0x37d8fb=_0x4326a1[_0x54d03b(0x93d)][_0x54d03b(0x214)],_0x1abbeb=document[_0x54d03b(0x11a)](_0x37d8fb);_0x1abbeb&&_0x1abbeb[_0x54d03b(0x8f)]['toggle']('visible');}),liveGameView[_0x585590(0x1e2)](_0x585590(0x91d),_0x3600dc=>{const _0x11c54b=_0x585590;if(_0x3600dc['target'][_0x11c54b(0x8f)][_0x11c54b(0x434)](_0x11c54b(0x353))){const _0x4e0cbc=_0x3600dc[_0x11c54b(0x5c6)]['dataset']['playerName'];_0x4e0cbc&&handleKickPlayer(_0x4e0cbc);}}),document['getElementById'](_0x585590(0x1c9))['addEventListener'](_0x585590(0x447),()=>document[_0x585590(0x11a)](_0x585590(0x2ba))['classList'][_0x585590(0x57c)](_0x585590(0x6f8))),document['getElementById'](_0x585590(0x2ba))[_0x585590(0x1e2)]('click',handleSaveProjectName),document[_0x585590(0x11a)](_0x585590(0x1c9))['addEventListener']('keydown',_0x4ec4bb=>{const _0x5d43d5=_0x585590;_0x4ec4bb[_0x5d43d5(0x75c)]==='Enter'&&(_0x4ec4bb[_0x5d43d5(0x784)](),_0x4ec4bb[_0x5d43d5(0x5c6)][_0x5d43d5(0x562)](),handleSaveProjectName());}),document[_0x585590(0x11a)](_0x585590(0x28b))[_0x585590(0x1e2)](_0x585590(0x91d),()=>{const _0x31dd38=_0x585590;document[_0x31dd38(0x11a)](_0x31dd38(0x8f3))[_0x31dd38(0x8f)][_0x31dd38(0x57c)](_0x31dd38(0x6f8));}),document[_0x585590(0x11a)](_0x585590(0x4ca))[_0x585590(0x1e2)](_0x585590(0x91d),()=>{const _0x342782=_0x585590;document[_0x342782(0x11a)](_0x342782(0x8f3))['classList'][_0x342782(0x85b)](_0x342782(0x6f8));}),document[_0x585590(0x11a)](_0x585590(0x54c))['addEventListener'](_0x585590(0x91d),handleBulkUpdateQuizSettings),document[_0x585590(0x11a)]('mode-switcher-btn')[_0x585590(0x1e2)](_0x585590(0x91d),handleModeSwitch),document[_0x585590(0x11a)](_0x585590(0x3f2))[_0x585590(0x1e2)](_0x585590(0x91d),handleUpdateOldQuizzes),document['getElementById'](_0x585590(0xfa))[_0x585590(0x1e2)]('click',handleResetProjectOrder),document[_0x585590(0x11a)](_0x585590(0x846))[_0x585590(0x1e2)](_0x585590(0x91d),handleSaveVisibilitySettings),document[_0x585590(0x11a)]('add-custom-math-topic-btn')['addEventListener'](_0x585590(0x91d),handleAddCustomMathTopic),document['getElementById'](_0x585590(0x790))[_0x585590(0x1e2)](_0x585590(0x91d),handleSelectAllTopics),document[_0x585590(0x11a)](_0x585590(0x6c7))['addEventListener'](_0x585590(0x91d),handleDeselectAllTopics),document[_0x585590(0x11a)](_0x585590(0x8bf))['addEventListener'](_0x585590(0x91d),()=>{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}),document[_0x585590(0x11a)](_0x585590(0x8d7))[_0x585590(0x1e2)](_0x585590(0x91d),()=>{const _0x4c222a=_0x585590;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x4c222a(0x495));}),document[_0x585590(0x11a)]('back-to-dashboard-from-results-btn')[_0x585590(0x1e2)](_0x585590(0x91d),()=>{const _0x3c67ad=_0x585590;showView(_0x3c67ad(0x631));}),document[_0x585590(0x11a)](_0x585590(0x605))[_0x585590(0x1e2)](_0x585590(0x91d),()=>{const _0x5069c9=_0x585590;messageModal[_0x5069c9(0x8f)][_0x5069c9(0x85b)](_0x5069c9(0x6f8)),typeof modalConfirmAction===_0x5069c9(0x921)&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById'](_0x585590(0x8f1))[_0x585590(0x1e2)]('click',()=>createProjectModal['classList'][_0x585590(0x57c)]('hidden')),document[_0x585590(0x11a)](_0x585590(0x133))[_0x585590(0x1e2)](_0x585590(0x91d),()=>createProjectModal[_0x585590(0x8f)]['add'](_0x585590(0x6f8))),document[_0x585590(0x11a)]('cancel-admin-login-btn')[_0x585590(0x1e2)](_0x585590(0x91d),()=>adminPasswordModal[_0x585590(0x8f)][_0x585590(0x85b)]('hidden')),document[_0x585590(0x11a)]('confirm-admin-login-btn')[_0x585590(0x1e2)](_0x585590(0x91d),handleAdminLogin),document[_0x585590(0x11a)](_0x585590(0x477))[_0x585590(0x1e2)](_0x585590(0x76c),_0x5aa98c=>{const _0x60a8b0=_0x585590;if(_0x5aa98c['key']===_0x60a8b0(0x338))handleAdminLogin();}),document[_0x585590(0x11a)](_0x585590(0x705))[_0x585590(0x1e2)](_0x585590(0x91d),()=>{const _0x36e784=_0x585590;confirmationModal[_0x36e784(0x8f)][_0x36e784(0x85b)](_0x36e784(0x6f8)),confirmAction=null;}),document['getElementById']('confirm-delete-btn')['addEventListener'](_0x585590(0x91d),()=>{const _0x3dd659=_0x585590;confirmAction&&confirmAction(),confirmationModal[_0x3dd659(0x8f)][_0x3dd659(0x85b)](_0x3dd659(0x6f8)),confirmAction=null;}),document[_0x585590(0x11a)](_0x585590(0x521))[_0x585590(0x1e2)]('click',()=>renameQuizModal['classList'][_0x585590(0x85b)](_0x585590(0x6f8))),document[_0x585590(0x11a)](_0x585590(0x150))[_0x585590(0x1e2)](_0x585590(0x91d),confirmRenameQuiz),document[_0x585590(0x11a)](_0x585590(0x36f))[_0x585590(0x1e2)](_0x585590(0x91d),()=>moveQuizModal[_0x585590(0x8f)]['add']('hidden')),document['getElementById'](_0x585590(0x5ad))[_0x585590(0x1e2)]('click',confirmMoveQuiz),document['getElementById'](_0x585590(0x90f))[_0x585590(0x1e2)](_0x585590(0x91d),()=>quizSettingsModal['classList'][_0x585590(0x85b)](_0x585590(0x6f8))),document[_0x585590(0x11a)](_0x585590(0x74a))[_0x585590(0x1e2)](_0x585590(0x91d),confirmQuizSettings),document[_0x585590(0x11a)]('cancel-quiz-status-btn')[_0x585590(0x1e2)](_0x585590(0x91d),()=>quizStatusModal['classList'][_0x585590(0x85b)](_0x585590(0x6f8))),document[_0x585590(0x11a)](_0x585590(0x45c))[_0x585590(0x1e2)](_0x585590(0x91d),confirmQuizStatus);const _0x56d632=document[_0x585590(0x11a)](_0x585590(0x751));document[_0x585590(0x11a)](_0x585590(0x19c))[_0x585590(0x1e2)]('click',()=>{const _0x5851fb=_0x585590;_0x56d632['classList'][_0x5851fb(0x85b)](_0x5851fb(0x6f8));}),document[_0x585590(0x11a)](_0x585590(0x407))[_0x585590(0x1e2)](_0x585590(0x91d),async()=>{const _0x1674dc=_0x585590,_0x122421=allQuizzes['find'](_0x4ed9a4=>_0x4ed9a4['id']===actionTargetId);_0x122421?(currentQuizData=_0x122421,exportQuizAsWorksheetPDF()):showMessage(_0x1674dc(0x46b)),_0x56d632[_0x1674dc(0x8f)]['add'](_0x1674dc(0x6f8));}),document[_0x585590(0x11a)](_0x585590(0x87d))[_0x585590(0x1e2)](_0x585590(0x91d),async()=>{const _0x8c8da7=_0x585590,_0x41c791=allQuizzes[_0x8c8da7(0x474)](_0x587f09=>_0x587f09['id']===actionTargetId);_0x41c791?(currentQuizData=_0x41c791,exportQuizAsTutorPDF()):showMessage(_0x8c8da7(0x46b)),_0x56d632[_0x8c8da7(0x8f)][_0x8c8da7(0x85b)]('hidden');}),document['getElementById'](_0x585590(0x84d))[_0x585590(0x1e2)](_0x585590(0x91d),openGlobalLiveModal),document['getElementById'](_0x585590(0x8e4))[_0x585590(0x1e2)]('click',()=>{const _0x8f6528=_0x585590;document['getElementById'](_0x8f6528(0x337))['classList'][_0x8f6528(0x85b)](_0x8f6528(0x6f8)),selectedGlobalQuizId=null;}),document['getElementById'](_0x585590(0xee))['addEventListener'](_0x585590(0x816),_0x4f2576=>renderGlobalQuizList(_0x4f2576['target'][_0x585590(0x5ce)])),document['getElementById']('confirm-global-live-btn')[_0x585590(0x1e2)](_0x585590(0x91d),()=>{const _0x54247d=_0x585590,_0x45506e=selectedGlobalQuizId;if(!_0x45506e)return;document['getElementById'](_0x54247d(0x337))[_0x54247d(0x8f)][_0x54247d(0x85b)](_0x54247d(0x6f8)),handleStartLiveRace(_0x45506e);}),document[_0x585590(0x11a)](_0x585590(0x83c))['addEventListener'](_0x585590(0x816),renderProjects),document[_0x585590(0x11a)]('project-sort-select')['addEventListener']('change',async()=>{const _0x5d6bf1=_0x585590,_0x28aa35=document[_0x5d6bf1(0x11a)]('project-sort-select')[_0x5d6bf1(0x5ce)],_0x50f485=doc(db,_0x5d6bf1(0x7dd),_0x5d6bf1(0x946));try{await setDoc(_0x50f485,{'projectSort':_0x28aa35},{'merge':!![]});}catch(_0x574b78){console['error'](_0x5d6bf1(0x26c),_0x574b78),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document[_0x585590(0x11a)](_0x585590(0x82a))[_0x585590(0x1e2)](_0x585590(0x816),renderQuizzes),document['getElementById'](_0x585590(0x301))[_0x585590(0x1e2)](_0x585590(0x91d),()=>{const _0x221434=_0x585590;globalDashboardSettings['projectView']=_0x221434(0x57a),saveUserPreference(_0x221434(0x87f),'grid'),renderProjects();}),document[_0x585590(0x11a)](_0x585590(0x400))[_0x585590(0x1e2)](_0x585590(0x91d),()=>{const _0x3a9cb0=_0x585590;globalDashboardSettings[_0x3a9cb0(0x87f)]=_0x3a9cb0(0x169),saveUserPreference(_0x3a9cb0(0x87f),_0x3a9cb0(0x169)),renderProjects();}),manageTab[_0x585590(0x1e2)](_0x585590(0x91d),()=>switchProjectTab('manage')),resultsTab['addEventListener'](_0x585590(0x91d),()=>switchProjectTab(_0x585590(0x32f))),leaderboardTab[_0x585590(0x1e2)]('click',()=>switchProjectTab('leaderboard')),document[_0x585590(0x11a)](_0x585590(0x29f))[_0x585590(0x1e2)]('click',()=>switchQuizDetailTab('analytics')),document[_0x585590(0x11a)](_0x585590(0x545))[_0x585590(0x1e2)]('click',()=>switchQuizDetailTab('scores')),document[_0x585590(0x11a)](_0x585590(0x307))[_0x585590(0x1e2)](_0x585590(0x91d),()=>switchQuizDetailTab('leaderboard-quiz')),document['getElementById'](_0x585590(0x32a))[_0x585590(0x1e2)](_0x585590(0x91d),()=>switchQuizDetailTab(_0x585590(0x874))),document[_0x585590(0x11a)](_0x585590(0x184))[_0x585590(0x1e2)]('click',handleAnalyzeClass),generateWorksheetBtn[_0x585590(0x1e2)]('click',generateWorksheet);const _0x414d61=document[_0x585590(0x11a)](_0x585590(0x7ac)),_0x2858c2=document[_0x585590(0x11a)]('link-input-area'),_0x2199a1=document[_0x585590(0x11a)](_0x585590(0x261)),_0x354dd2=document[_0x585590(0x11a)](_0x585590(0x94a)),_0x4bed8e=document['getElementById'](_0x585590(0x861)),_0x39bc96=document[_0x585590(0x11a)]('parallel-test-input-area');topicTab['addEventListener']('click',()=>{const _0x44ffa8=_0x585590;topicTab['classList'][_0x44ffa8(0x85b)](_0x44ffa8(0x8eb)),textTab[_0x44ffa8(0x8f)][_0x44ffa8(0x57c)](_0x44ffa8(0x8eb)),fileTab[_0x44ffa8(0x8f)][_0x44ffa8(0x57c)](_0x44ffa8(0x8eb)),worksheetTab[_0x44ffa8(0x8f)][_0x44ffa8(0x57c)](_0x44ffa8(0x8eb));if(_0x414d61)_0x414d61[_0x44ffa8(0x8f)]['remove'](_0x44ffa8(0x8eb));if(_0x2199a1)_0x2199a1[_0x44ffa8(0x8f)][_0x44ffa8(0x57c)](_0x44ffa8(0x8eb));if(_0x4bed8e)_0x4bed8e[_0x44ffa8(0x8f)][_0x44ffa8(0x57c)]('active');topicInputArea['classList'][_0x44ffa8(0x57c)]('hidden'),textInputArea[_0x44ffa8(0x8f)]['add'](_0x44ffa8(0x6f8)),fileInputArea[_0x44ffa8(0x8f)][_0x44ffa8(0x85b)](_0x44ffa8(0x6f8)),worksheetInputArea[_0x44ffa8(0x8f)][_0x44ffa8(0x85b)]('hidden');if(_0x2858c2)_0x2858c2[_0x44ffa8(0x8f)][_0x44ffa8(0x85b)](_0x44ffa8(0x6f8));if(_0x354dd2)_0x354dd2[_0x44ffa8(0x8f)][_0x44ffa8(0x85b)](_0x44ffa8(0x6f8));if(_0x39bc96)_0x39bc96['classList'][_0x44ffa8(0x85b)](_0x44ffa8(0x6f8));}),textTab['addEventListener'](_0x585590(0x91d),()=>{const _0x531e84=_0x585590;textTab['classList'][_0x531e84(0x85b)](_0x531e84(0x8eb)),topicTab['classList'][_0x531e84(0x57c)]('active'),fileTab['classList']['remove'](_0x531e84(0x8eb)),worksheetTab[_0x531e84(0x8f)][_0x531e84(0x57c)]('active');if(_0x414d61)_0x414d61[_0x531e84(0x8f)][_0x531e84(0x57c)](_0x531e84(0x8eb));if(_0x2199a1)_0x2199a1[_0x531e84(0x8f)]['remove'](_0x531e84(0x8eb));if(_0x4bed8e)_0x4bed8e[_0x531e84(0x8f)][_0x531e84(0x57c)](_0x531e84(0x8eb));textInputArea[_0x531e84(0x8f)][_0x531e84(0x57c)](_0x531e84(0x6f8)),topicInputArea[_0x531e84(0x8f)][_0x531e84(0x85b)](_0x531e84(0x6f8)),fileInputArea[_0x531e84(0x8f)][_0x531e84(0x85b)]('hidden'),worksheetInputArea[_0x531e84(0x8f)][_0x531e84(0x85b)]('hidden');if(_0x2858c2)_0x2858c2[_0x531e84(0x8f)][_0x531e84(0x85b)](_0x531e84(0x6f8));if(_0x354dd2)_0x354dd2[_0x531e84(0x8f)]['add'](_0x531e84(0x6f8));if(_0x39bc96)_0x39bc96['classList'][_0x531e84(0x85b)](_0x531e84(0x6f8));}),fileTab[_0x585590(0x1e2)](_0x585590(0x91d),()=>{const _0x4ebb8b=_0x585590;fileTab[_0x4ebb8b(0x8f)]['add'](_0x4ebb8b(0x8eb)),topicTab[_0x4ebb8b(0x8f)][_0x4ebb8b(0x57c)](_0x4ebb8b(0x8eb)),textTab[_0x4ebb8b(0x8f)]['remove'](_0x4ebb8b(0x8eb)),worksheetTab['classList'][_0x4ebb8b(0x57c)](_0x4ebb8b(0x8eb));if(_0x414d61)_0x414d61[_0x4ebb8b(0x8f)]['remove']('active');if(_0x2199a1)_0x2199a1[_0x4ebb8b(0x8f)][_0x4ebb8b(0x57c)](_0x4ebb8b(0x8eb));if(_0x4bed8e)_0x4bed8e[_0x4ebb8b(0x8f)]['remove']('active');fileInputArea[_0x4ebb8b(0x8f)]['remove'](_0x4ebb8b(0x6f8)),topicInputArea['classList']['add'](_0x4ebb8b(0x6f8)),textInputArea[_0x4ebb8b(0x8f)][_0x4ebb8b(0x85b)](_0x4ebb8b(0x6f8)),worksheetInputArea[_0x4ebb8b(0x8f)][_0x4ebb8b(0x85b)](_0x4ebb8b(0x6f8));if(_0x2858c2)_0x2858c2[_0x4ebb8b(0x8f)][_0x4ebb8b(0x85b)]('hidden');if(_0x354dd2)_0x354dd2[_0x4ebb8b(0x8f)][_0x4ebb8b(0x85b)](_0x4ebb8b(0x6f8));if(_0x39bc96)_0x39bc96[_0x4ebb8b(0x8f)][_0x4ebb8b(0x85b)]('hidden');}),worksheetTab[_0x585590(0x1e2)](_0x585590(0x91d),()=>{const _0x4fafea=_0x585590;worksheetTab[_0x4fafea(0x8f)][_0x4fafea(0x85b)](_0x4fafea(0x8eb)),topicTab[_0x4fafea(0x8f)][_0x4fafea(0x57c)](_0x4fafea(0x8eb)),textTab[_0x4fafea(0x8f)][_0x4fafea(0x57c)](_0x4fafea(0x8eb)),fileTab[_0x4fafea(0x8f)]['remove'](_0x4fafea(0x8eb));if(_0x414d61)_0x414d61[_0x4fafea(0x8f)][_0x4fafea(0x57c)](_0x4fafea(0x8eb));if(_0x2199a1)_0x2199a1['classList']['remove'](_0x4fafea(0x8eb));if(_0x4bed8e)_0x4bed8e[_0x4fafea(0x8f)][_0x4fafea(0x57c)](_0x4fafea(0x8eb));worksheetInputArea[_0x4fafea(0x8f)][_0x4fafea(0x57c)](_0x4fafea(0x6f8)),topicInputArea[_0x4fafea(0x8f)]['add'](_0x4fafea(0x6f8)),textInputArea['classList'][_0x4fafea(0x85b)](_0x4fafea(0x6f8)),fileInputArea[_0x4fafea(0x8f)][_0x4fafea(0x85b)](_0x4fafea(0x6f8));if(_0x2858c2)_0x2858c2['classList'][_0x4fafea(0x85b)](_0x4fafea(0x6f8));if(_0x354dd2)_0x354dd2['classList'][_0x4fafea(0x85b)](_0x4fafea(0x6f8));if(_0x39bc96)_0x39bc96[_0x4fafea(0x8f)][_0x4fafea(0x85b)]('hidden');});const _0x1f1ab9=document[_0x585590(0x11a)](_0x585590(0x727)),_0x4f85e8=document['getElementById'](_0x585590(0x7e1));_0x1f1ab9&&_0x1f1ab9[_0x585590(0x1e2)](_0x585590(0x91d),()=>{const _0x150c8e=_0x585590;topicTab[_0x150c8e(0x8f)]['remove'](_0x150c8e(0x8eb)),textTab[_0x150c8e(0x8f)][_0x150c8e(0x57c)](_0x150c8e(0x8eb)),fileTab['classList'][_0x150c8e(0x57c)](_0x150c8e(0x8eb)),worksheetTab['classList'][_0x150c8e(0x57c)](_0x150c8e(0x8eb));if(_0x414d61)_0x414d61[_0x150c8e(0x8f)][_0x150c8e(0x57c)]('active');if(_0x2199a1)_0x2199a1['classList'][_0x150c8e(0x57c)]('active');if(_0x4bed8e)_0x4bed8e[_0x150c8e(0x8f)][_0x150c8e(0x57c)](_0x150c8e(0x8eb));_0x1f1ab9[_0x150c8e(0x8f)]['add']('active'),topicInputArea[_0x150c8e(0x8f)]['add'](_0x150c8e(0x6f8)),textInputArea[_0x150c8e(0x8f)][_0x150c8e(0x85b)]('hidden'),fileInputArea['classList'][_0x150c8e(0x85b)](_0x150c8e(0x6f8)),worksheetInputArea['classList'][_0x150c8e(0x85b)](_0x150c8e(0x6f8));if(_0x2858c2)_0x2858c2['classList']['add'](_0x150c8e(0x6f8));if(_0x354dd2)_0x354dd2[_0x150c8e(0x8f)]['add']('hidden');if(_0x39bc96)_0x39bc96[_0x150c8e(0x8f)]['add']('hidden');_0x4f85e8[_0x150c8e(0x8f)][_0x150c8e(0x57c)](_0x150c8e(0x6f8)),displayQuestionBank();});_0x414d61&&(_0x414d61[_0x585590(0x1e2)](_0x585590(0x91d),()=>{const _0x83f8e1=_0x585590;_0x414d61['classList']['add'](_0x83f8e1(0x8eb)),topicTab[_0x83f8e1(0x8f)][_0x83f8e1(0x57c)](_0x83f8e1(0x8eb)),textTab[_0x83f8e1(0x8f)][_0x83f8e1(0x57c)](_0x83f8e1(0x8eb)),fileTab[_0x83f8e1(0x8f)][_0x83f8e1(0x57c)](_0x83f8e1(0x8eb)),worksheetTab[_0x83f8e1(0x8f)][_0x83f8e1(0x57c)]('active');if(_0x2199a1)_0x2199a1[_0x83f8e1(0x8f)][_0x83f8e1(0x57c)](_0x83f8e1(0x8eb));if(_0x4bed8e)_0x4bed8e['classList'][_0x83f8e1(0x57c)](_0x83f8e1(0x8eb));_0x2858c2[_0x83f8e1(0x8f)][_0x83f8e1(0x57c)]('hidden'),topicInputArea[_0x83f8e1(0x8f)][_0x83f8e1(0x85b)](_0x83f8e1(0x6f8)),textInputArea[_0x83f8e1(0x8f)]['add'](_0x83f8e1(0x6f8)),fileInputArea[_0x83f8e1(0x8f)][_0x83f8e1(0x85b)](_0x83f8e1(0x6f8)),worksheetInputArea['classList'][_0x83f8e1(0x85b)]('hidden');if(_0x354dd2)_0x354dd2[_0x83f8e1(0x8f)][_0x83f8e1(0x85b)](_0x83f8e1(0x6f8));if(_0x39bc96)_0x39bc96[_0x83f8e1(0x8f)][_0x83f8e1(0x85b)](_0x83f8e1(0x6f8));}),document[_0x585590(0x11a)](_0x585590(0x48f))['addEventListener'](_0x585590(0x91d),handleGenerateFromLink));_0x2199a1&&_0x2199a1['addEventListener']('click',()=>{const _0x1e420f=_0x585590;_0x2199a1[_0x1e420f(0x8f)][_0x1e420f(0x85b)](_0x1e420f(0x8eb)),topicTab[_0x1e420f(0x8f)][_0x1e420f(0x57c)](_0x1e420f(0x8eb)),textTab[_0x1e420f(0x8f)][_0x1e420f(0x57c)](_0x1e420f(0x8eb)),fileTab[_0x1e420f(0x8f)][_0x1e420f(0x57c)](_0x1e420f(0x8eb)),worksheetTab['classList'][_0x1e420f(0x57c)](_0x1e420f(0x8eb));if(_0x414d61)_0x414d61[_0x1e420f(0x8f)][_0x1e420f(0x57c)]('active');if(_0x1f1ab9)_0x1f1ab9[_0x1e420f(0x8f)]['remove'](_0x1e420f(0x8eb));if(_0x4bed8e)_0x4bed8e['classList']['remove'](_0x1e420f(0x8eb));_0x354dd2['classList'][_0x1e420f(0x57c)](_0x1e420f(0x6f8)),topicInputArea[_0x1e420f(0x8f)][_0x1e420f(0x85b)](_0x1e420f(0x6f8)),textInputArea[_0x1e420f(0x8f)][_0x1e420f(0x85b)](_0x1e420f(0x6f8)),fileInputArea['classList'][_0x1e420f(0x85b)](_0x1e420f(0x6f8)),worksheetInputArea[_0x1e420f(0x8f)][_0x1e420f(0x85b)](_0x1e420f(0x6f8));if(_0x2858c2)_0x2858c2['classList'][_0x1e420f(0x85b)](_0x1e420f(0x6f8));if(_0x4f85e8)_0x4f85e8[_0x1e420f(0x8f)][_0x1e420f(0x85b)](_0x1e420f(0x6f8));if(_0x39bc96)_0x39bc96[_0x1e420f(0x8f)][_0x1e420f(0x85b)](_0x1e420f(0x6f8));});_0x4bed8e&&_0x4bed8e[_0x585590(0x1e2)](_0x585590(0x91d),()=>{const _0x284532=_0x585590;_0x4bed8e['classList'][_0x284532(0x85b)](_0x284532(0x8eb)),topicTab[_0x284532(0x8f)]['remove'](_0x284532(0x8eb)),textTab[_0x284532(0x8f)][_0x284532(0x57c)](_0x284532(0x8eb)),fileTab[_0x284532(0x8f)]['remove'](_0x284532(0x8eb)),worksheetTab[_0x284532(0x8f)]['remove'](_0x284532(0x8eb));if(_0x414d61)_0x414d61[_0x284532(0x8f)]['remove'](_0x284532(0x8eb));if(_0x2199a1)_0x2199a1[_0x284532(0x8f)][_0x284532(0x57c)](_0x284532(0x8eb));if(_0x1f1ab9)_0x1f1ab9[_0x284532(0x8f)][_0x284532(0x57c)]('active');_0x39bc96['classList'][_0x284532(0x57c)](_0x284532(0x6f8)),topicInputArea[_0x284532(0x8f)][_0x284532(0x85b)](_0x284532(0x6f8)),textInputArea['classList']['add'](_0x284532(0x6f8)),fileInputArea[_0x284532(0x8f)]['add'](_0x284532(0x6f8)),worksheetInputArea[_0x284532(0x8f)][_0x284532(0x85b)]('hidden');if(_0x2858c2)_0x2858c2[_0x284532(0x8f)][_0x284532(0x85b)](_0x284532(0x6f8));if(_0x354dd2)_0x354dd2[_0x284532(0x8f)][_0x284532(0x85b)](_0x284532(0x6f8));if(_0x4f85e8)_0x4f85e8[_0x284532(0x8f)]['add'](_0x284532(0x6f8));});const _0x579f72=document[_0x585590(0x11a)](_0x585590(0x8f8)),_0x5efd48=document['getElementById']('generate-from-blueprint-btn');_0x579f72&&_0x579f72[_0x585590(0x1e2)](_0x585590(0x5cf),_0xfc7262=>{const _0x1c3e0c=_0x585590;_0xfc7262[_0x1c3e0c(0x5c6)][_0x1c3e0c(0x4f1)]['length']>0x0?_0x5efd48[_0x1c3e0c(0x53e)]=![]:_0x5efd48[_0x1c3e0c(0x53e)]=!![];});_0x5efd48&&_0x5efd48[_0x585590(0x1e2)](_0x585590(0x91d),handleGenerateFromBlueprint);const _0x232267=document[_0x585590(0x11a)](_0x585590(0x25f)),_0xaec301=document[_0x585590(0x11a)](_0x585590(0x5b4));_0x232267&&_0x232267[_0x585590(0x1e2)](_0x585590(0x5cf),_0x54e920=>{const _0x2bef15=_0x585590;_0xaec301[_0x2bef15(0x53e)]=_0x54e920[_0x2bef15(0x5c6)]['files'][_0x2bef15(0x38d)]===0x0;});_0xaec301&&_0xaec301[_0x585590(0x1e2)](_0x585590(0x91d),handleGenerateParallelTest);loadQuizBtn[_0x585590(0x1e2)]('click',handleLoadQuiz),startQuizBtn[_0x585590(0x1e2)]('click',async()=>{const _0x17b5cf=_0x585590,_0x3aea27=document[_0x17b5cf(0x11a)](_0x17b5cf(0x7f9));currentStudentName=_0x3aea27[_0x17b5cf(0x5ce)];if(!currentStudentName){showMessage(_0x17b5cf(0x4c5));return;}try{const _0x25603f=currentQuizData['id'],_0x56f13e=doc(db,'artifacts/'+appId+_0x17b5cf(0x2d6)+_0x25603f+_0x17b5cf(0x212),currentStudentName);await setDoc(_0x56f13e,{'studentName':currentStudentName,'startedAt':new Date()[_0x17b5cf(0x910)](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x36a2a6){console['error']('Failed\x20to\x20create\x20initial\x20submission\x20record:',_0x36a2a6),showMessage(_0x17b5cf(0x532));return;}studentNameSelectionView['classList'][_0x17b5cf(0x85b)](_0x17b5cf(0x6f8)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x585590(0x11a)](_0x585590(0x44d))[_0x585590(0x1e2)](_0x585590(0x91d),showJoinGameView),document[_0x585590(0x11a)]('confirm-join-game-btn')[_0x585590(0x1e2)](_0x585590(0x91d),handleJoinLiveGame),document['getElementById'](_0x585590(0x579))[_0x585590(0x1e2)](_0x585590(0x91d),()=>showView(_0x585590(0x4e4)));const _0x28a503=()=>{const _0x1ff777=_0x585590,_0x59ebaf=document['getElementById'](_0x1ff777(0x61b))['textContent'][_0x1ff777(0x86e)](/[^a-z0-9]/gi,'_')[_0x1ff777(0x5f2)]();return _0x1ff777(0x76e)+(_0x59ebaf||_0x1ff777(0x138));},_0xf81636=document[_0x585590(0x11a)]('math-topic-search-input');_0xf81636&&_0xf81636[_0x585590(0x1e2)]('input',_0x6735e0=>{const _0x11448d=_0x585590,_0x42b5ff=_0x6735e0[_0x11448d(0x5c6)][_0x11448d(0x5ce)][_0x11448d(0x5f2)]()['trim'](),_0x4e31ed=document['getElementById'](_0x11448d(0x6a8)),_0x5274cb=_0x4e31ed[_0x11448d(0xf8)](_0x11448d(0x72f));_0x5274cb['forEach'](_0x1d8809=>{const _0x34a8ef=_0x11448d;let _0x3ccfa8=![];const _0xb3ebad=_0x1d8809[_0x34a8ef(0xf8)](_0x34a8ef(0x38a));_0xb3ebad['forEach'](_0x233d7d=>{const _0x3d62aa=_0x34a8ef,_0x1adba4=_0x233d7d['querySelector']('.topic-name-display')[_0x3d62aa(0x9a9)][_0x3d62aa(0x5f2)]();_0x1adba4[_0x3d62aa(0x655)](_0x42b5ff)?(_0x233d7d['style'][_0x3d62aa(0x7de)]='flex',_0x3ccfa8=!![]):_0x233d7d[_0x3d62aa(0x149)][_0x3d62aa(0x7de)]=_0x3d62aa(0x79d);}),_0x3ccfa8?_0x1d8809['style']['display']=_0x34a8ef(0x270):_0x1d8809[_0x34a8ef(0x149)]['display']=_0x34a8ef(0x79d);});});document[_0x585590(0x11a)](_0x585590(0x9c))[_0x585590(0x1e2)](_0x585590(0x91d),()=>exportTableAsImage(_0x585590(0x78f),_0x28a503())),document[_0x585590(0x11a)](_0x585590(0x8be))[_0x585590(0x1e2)](_0x585590(0x91d),()=>exportTableAsPDF(_0x585590(0x2f4),_0x28a503())),document[_0x585590(0x11a)](_0x585590(0x635))[_0x585590(0x1e2)](_0x585590(0x91d),()=>exportTableAsWord('results-table-container',_0x28a503())),document['getElementById'](_0x585590(0x473))['addEventListener']('click',()=>exportTableAsExcel(_0x585590(0x2f4),_0x28a503()));const _0x4ecf7a=()=>{const _0x301bf9=_0x585590,_0x1775b9=document[_0x301bf9(0x11a)](_0x301bf9(0x61b))[_0x301bf9(0x9a9)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x301bf9(0x941)+(_0x1775b9||_0x301bf9(0x138));};document['getElementById'](_0x585590(0x775))[_0x585590(0x1e2)](_0x585590(0x91d),()=>exportTableAsImage(_0x585590(0x8c0),_0x4ecf7a())),document[_0x585590(0x11a)](_0x585590(0x82d))['addEventListener']('click',()=>exportTableAsPDF(_0x585590(0x4e6),_0x4ecf7a())),document[_0x585590(0x11a)](_0x585590(0x8fd))[_0x585590(0x1e2)](_0x585590(0x91d),()=>exportTableAsWord('quiz-leaderboard-table-container',_0x4ecf7a())),document[_0x585590(0x11a)](_0x585590(0x127))[_0x585590(0x1e2)]('click',()=>exportTableAsExcel(_0x585590(0x4e6),_0x4ecf7a())),projectQuizzesList['addEventListener'](_0x585590(0x91d),async _0x1333a4=>{const _0x3cbbff=_0x585590,_0x225d48=_0x1333a4['target'][_0x3cbbff(0x583)](_0x3cbbff(0x4a2)),_0x444691=_0x1333a4[_0x3cbbff(0x5c6)][_0x3cbbff(0x583)](_0x3cbbff(0x870)),_0x26961d=_0x1333a4[_0x3cbbff(0x5c6)][_0x3cbbff(0x583)](_0x3cbbff(0x75e)),_0x39fec6=_0x1333a4[_0x3cbbff(0x5c6)][_0x3cbbff(0x583)](_0x3cbbff(0x1b5)),_0x54a0ba=_0x1333a4[_0x3cbbff(0x5c6)][_0x3cbbff(0x583)](_0x3cbbff(0x231)),_0xdf9d3=_0x1333a4['target'][_0x3cbbff(0x583)](_0x3cbbff(0x764)),_0x31e993=_0x1333a4[_0x3cbbff(0x5c6)]['closest'](_0x3cbbff(0x955)),_0x43608e=_0x1333a4[_0x3cbbff(0x5c6)][_0x3cbbff(0x583)](_0x3cbbff(0x4b9)),_0x3bccfb=_0x1333a4[_0x3cbbff(0x5c6)][_0x3cbbff(0x583)](_0x3cbbff(0x9a6)),_0x5e4993=_0x1333a4[_0x3cbbff(0x5c6)]['closest'](_0x3cbbff(0x6e7)),_0x1d4d4c=_0x1333a4[_0x3cbbff(0x5c6)][_0x3cbbff(0x583)]('.parallel-quiz-btn'),_0x5c1f33=_0x1333a4['target'][_0x3cbbff(0x583)](_0x3cbbff(0x890)),_0x299cf9=_0x1333a4[_0x3cbbff(0x5c6)][_0x3cbbff(0x583)](_0x3cbbff(0x439)),_0x6dcc98=_0x1333a4['target'][_0x3cbbff(0x583)](_0x3cbbff(0x236)),_0x26b5f8=_0x1333a4[_0x3cbbff(0x5c6)][_0x3cbbff(0x583)](_0x3cbbff(0x970)),_0x351615=_0x1333a4[_0x3cbbff(0x5c6)][_0x3cbbff(0x583)]('.admin-try-quiz-list-btn'),_0x479a6d=_0x1333a4['target']['closest'](_0x3cbbff(0x376)),_0x58dbf3=_0x1333a4['target'][_0x3cbbff(0x583)](_0x3cbbff(0xe5)),_0x39582c=_0x1333a4[_0x3cbbff(0x5c6)][_0x3cbbff(0x583)]('.quiz-status-btn'),_0x1cbcdc=_0x1333a4[_0x3cbbff(0x5c6)][_0x3cbbff(0x583)](_0x3cbbff(0x66d)),_0x37e484=_0x1333a4[_0x3cbbff(0x5c6)]['closest'](_0x3cbbff(0x82b)),_0x521c72=_0x1333a4[_0x3cbbff(0x5c6)][_0x3cbbff(0x583)](_0x3cbbff(0x95d)),_0xf9a655=_0x1333a4[_0x3cbbff(0x5c6)][_0x3cbbff(0x583)](_0x3cbbff(0x22e));if(_0x521c72){const _0x2d9a3c=_0x521c72['dataset'][_0x3cbbff(0x1bb)],_0x49e89a=_0x521c72[_0x3cbbff(0x93d)][_0x3cbbff(0x421)],_0x2a62bf=allQuizzes[_0x3cbbff(0x474)](_0x2da99b=>_0x2da99b['id']===_0x2d9a3c);_0x2a62bf&&showGameStartConfirmationModal(_0x2d9a3c,_0x49e89a,_0x2a62bf[_0x3cbbff(0x7d5)]);}else{if(_0xf9a655){const _0x150525=_0xf9a655['dataset']['quizId'];handleStartLiveRace(_0x150525);}else{if(_0x1cbcdc){const _0x40e83f=_0x1cbcdc[_0x3cbbff(0x93d)][_0x3cbbff(0x1bb)],_0x199d05=document[_0x3cbbff(0x11a)](_0x3cbbff(0x533)+_0x40e83f);_0x199d05&&_0x199d05['classList'][_0x3cbbff(0x995)](_0x3cbbff(0x6f8));}else{if(_0x444691){const _0x251b31=_0x444691[_0x3cbbff(0x93d)]['quizId'],_0x24e465=allQuizzes[_0x3cbbff(0x474)](_0x574c50=>_0x574c50['id']===_0x251b31);_0x24e465&&handleGenerateParallelPostTest(_0x24e465);}else{if(_0x26961d)handleCompareResults(_0x26961d[_0x3cbbff(0x93d)][_0x3cbbff(0x1bb)],_0x26961d[_0x3cbbff(0x93d)]['preTestId']);else{if(_0x39fec6){const _0x1c5d28=_0x39fec6[_0x3cbbff(0x93d)]['quizId'],_0x49fdf8=allQuizzes[_0x3cbbff(0x474)](_0x4d4b17=>_0x4d4b17['id']===_0x1c5d28);_0x49fdf8&&_0x49fdf8['lessonPlan']?(displayLessonPlan(_0x49fdf8[_0x3cbbff(0x979)],_0x49fdf8),showConfirmation(_0x3cbbff(0x87c),()=>handleGenerateLessonPlan(_0x1c5d28)),document[_0x3cbbff(0x11a)]('confirmation-modal')[_0x3cbbff(0x341)]('h3')[_0x3cbbff(0x9a9)]=_0x3cbbff(0x695),document['getElementById'](_0x3cbbff(0x96c))[_0x3cbbff(0x9a9)]=_0x3cbbff(0x364)):handleGenerateLessonPlan(_0x1c5d28);}else{if(_0x54a0ba)handleToggleStarQuiz(_0x54a0ba[_0x3cbbff(0x93d)]['quizId']);else{if(_0xdf9d3)copyTextToClipboard(_0xdf9d3[_0x3cbbff(0x93d)][_0x3cbbff(0x1bb)],_0x3cbbff(0x8bd));else{if(_0x31e993)handleOpenQuizEditor(_0x31e993['dataset'][_0x3cbbff(0x1bb)]);else{if(_0x43608e)handleQuizSettings(_0x43608e[_0x3cbbff(0x93d)]['quizId']);else{if(_0x3bccfb)handleDuplicateQuiz(_0x3bccfb[_0x3cbbff(0x93d)][_0x3cbbff(0x1bb)]);else{if(_0x5e4993)handleRenameQuiz(_0x5e4993[_0x3cbbff(0x93d)]['quizId'],_0x5e4993[_0x3cbbff(0x93d)][_0x3cbbff(0x7d5)]);else{if(_0x1d4d4c){const _0x7e1758=_0x1d4d4c[_0x3cbbff(0x93d)][_0x3cbbff(0x1bb)],_0x33794b=allQuizzes[_0x3cbbff(0x474)](_0x4d8474=>_0x4d8474['id']===_0x7e1758);_0x33794b&&handleGenerateParallelFromBank(_0x33794b);}else{if(_0x5c1f33)handleMoveQuiz(_0x5c1f33['dataset'][_0x3cbbff(0x1bb)]);else{if(_0x299cf9)handleManualQuizPairing(_0x299cf9[_0x3cbbff(0x93d)][_0x3cbbff(0x1bb)]);else{if(_0x6dcc98)handleUnpairQuiz(_0x6dcc98[_0x3cbbff(0x93d)][_0x3cbbff(0x1bb)]);else{if(_0x26b5f8){const _0x19f425=_0x26b5f8[_0x3cbbff(0x93d)][_0x3cbbff(0x1bb)],_0x392af2=allQuizzes[_0x3cbbff(0x474)](_0x20f7f1=>_0x20f7f1['id']===_0x19f425);if(_0x392af2)startPresentation(_0x392af2);}else{if(_0x351615){const _0x16663a=_0x351615[_0x3cbbff(0x93d)][_0x3cbbff(0x1bb)],_0x43d338=allQuizzes[_0x3cbbff(0x474)](_0x1a6768=>_0x1a6768['id']===_0x16663a);_0x43d338&&(currentQuizData=_0x43d338,startAdminTest());}else{if(_0x479a6d)actionTargetId=_0x479a6d['dataset'][_0x3cbbff(0x1bb)],document[_0x3cbbff(0x11a)]('export-pdf-modal')['classList'][_0x3cbbff(0x57c)](_0x3cbbff(0x6f8));else{if(_0x58dbf3)showConfirmation(_0x3cbbff(0x1e7)+_0x58dbf3[_0x3cbbff(0x93d)][_0x3cbbff(0x7d5)]+_0x3cbbff(0x911),()=>handleDeleteQuiz(_0x58dbf3[_0x3cbbff(0x93d)][_0x3cbbff(0x1bb)]));else{if(_0x39582c)handleQuizStatus(_0x39582c[_0x3cbbff(0x93d)][_0x3cbbff(0x1bb)]);else{if(_0x37e484)handleGenerateEasyVersionQuiz(_0x37e484['dataset'][_0x3cbbff(0x1bb)]);else _0x225d48&&showQuizDetailView(_0x225d48[_0x3cbbff(0x93d)][_0x3cbbff(0x1bb)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x585590(0x11a)](_0x585590(0x986))['addEventListener']('click',()=>showView(_0x585590(0x4e4))),document[_0x585590(0x11a)](_0x585590(0x7ea))[_0x585590(0x1e2)](_0x585590(0x91d),confirmAndStartTeamQuiz),document[_0x585590(0x11a)]('quiz-leaderboard-table')[_0x585590(0x341)]('thead')[_0x585590(0x1e2)](_0x585590(0x91d),_0x4cf9bb=>{const _0x25e167=_0x585590,_0x1fb681=_0x4cf9bb[_0x25e167(0x5c6)]['closest'](_0x25e167(0x33e));if(!_0x1fb681||!_0x1fb681[_0x25e167(0x93d)][_0x25e167(0x6df)])return;const _0x4e40b3=_0x1fb681[_0x25e167(0x93d)][_0x25e167(0x6df)];if(quizLeaderboardSortBy===_0x4e40b3)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x25e167(0x19e):_0x25e167(0x902);else{quizLeaderboardSortBy=_0x4e40b3;const _0x46ae11=['studentName'];quizLeaderboardSortOrder=_0x46ae11['includes'](_0x4e40b3)?_0x25e167(0x902):_0x25e167(0x19e);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x25e167(0x885));}),document[_0x585590(0x11a)](_0x585590(0xd2))[_0x585590(0x1e2)](_0x585590(0x91d),closePresentation),document[_0x585590(0x11a)]('prev-question-btn')['addEventListener'](_0x585590(0x91d),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x585590(0x1ce))[_0x585590(0x1e2)](_0x585590(0x91d),()=>{const _0x20a8d9=_0x585590;currentQuizData['questions']&&currentPresentationSlide<currentQuizData['questions'][_0x20a8d9(0x38d)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x585590(0x1e2)](_0x585590(0x346),()=>{const _0x54051f=_0x585590;!document[_0x54051f(0x90a)]&&(presentationModal[_0x54051f(0x149)][_0x54051f(0x7de)]=_0x54051f(0x79d));}),document[_0x585590(0x11a)](_0x585590(0x9d3))['addEventListener'](_0x585590(0x91d),handleDeleteAllStudents),studentList[_0x585590(0x1e2)](_0x585590(0x91d),_0x2827f1=>{const _0x4ff30b=_0x585590,_0x6aa09=_0x2827f1[_0x4ff30b(0x5c6)][_0x4ff30b(0x583)](_0x4ff30b(0x390));if(_0x6aa09){const _0x1939bf=_0x6aa09[_0x4ff30b(0x93d)][_0x4ff30b(0x700)];handleDeleteStudent(_0x1939bf);}}),document['getElementById']('generate-from-file-btn')[_0x585590(0x1e2)](_0x585590(0x91d),handleGenerateFromFileClick),fileUploadInput[_0x585590(0x1e2)]('change',_0x30c9c9=>{const _0x47f9a2=_0x585590,_0x5d516f=_0x30c9c9[_0x47f9a2(0x5c6)]['files'][0x0],_0x49e63c=document[_0x47f9a2(0x11a)](_0x47f9a2(0x349));_0x5d516f?(selectedFile=_0x5d516f,_0x49e63c['disabled']=![]):(selectedFile=null,_0x49e63c['disabled']=!![]);}),document['getElementById'](_0x585590(0x3e0))[_0x585590(0x1e2)]('change',_0x4690ce=>{const _0x472899=_0x585590,_0x9ac8eb=document[_0x472899(0x11a)](_0x472899(0x6e0)),_0x37f2d9=document['getElementById']('timer-duration-label'),_0x1e7029=document[_0x472899(0x11a)](_0x472899(0x25d));_0x4690ce['target'][_0x472899(0x5ce)]===_0x472899(0x79d)?_0x9ac8eb['classList'][_0x472899(0x85b)](_0x472899(0x6f8)):(_0x9ac8eb[_0x472899(0x8f)][_0x472899(0x57c)](_0x472899(0x6f8)),_0x4690ce['target'][_0x472899(0x5ce)]==='whole_quiz'?(_0x37f2d9[_0x472899(0x9a9)]=_0x472899(0x2f1),_0x1e7029['value']='10'):(_0x37f2d9[_0x472899(0x9a9)]=_0x472899(0x7c8),_0x1e7029[_0x472899(0x5ce)]='30'));}),document[_0x585590(0x11a)](_0x585590(0x8b9))[_0x585590(0x1e2)](_0x585590(0x5cf),_0x3fb8c2=>{const _0x3d28af=_0x585590,_0x509925=document[_0x3d28af(0x11a)]('num-choices-container'),_0x4da2bb=_0x3fb8c2[_0x3d28af(0x5c6)]['value'],_0x35d914=document[_0x3d28af(0x341)]('label[for=\x22num-questions\x22]'),_0x5f1ece=document[_0x3d28af(0x11a)]('passing-score-input'),_0x2ad447=document[_0x3d28af(0x11a)](_0x3d28af(0x311));_0x4da2bb===_0x3d28af(0x35a)?_0x35d914['textContent']=_0x3d28af(0x86a):_0x35d914['textContent']=_0x3d28af(0x4f9),_0x4da2bb===_0x3d28af(0x847)||_0x4da2bb===_0x3d28af(0x570)||_0x4da2bb==='mixed'?_0x509925[_0x3d28af(0x8f)][_0x3d28af(0x57c)](_0x3d28af(0x6f8)):_0x509925[_0x3d28af(0x8f)][_0x3d28af(0x85b)](_0x3d28af(0x6f8)),_0x5f1ece[_0x3d28af(0x594)]=_0x2ad447['value'];}),document[_0x585590(0x11a)](_0x585590(0x311))['addEventListener'](_0x585590(0x816),_0x4991c7=>{const _0x16d54e=_0x585590;document['getElementById'](_0x16d54e(0x5c5))[_0x16d54e(0x594)]=_0x4991c7[_0x16d54e(0x5c6)][_0x16d54e(0x5ce)];}),document['getElementById'](_0x585590(0x703))[_0x585590(0x1e2)](_0x585590(0x5cf),_0x5c0fef=>{const _0x230f48=_0x585590,_0x53c9e9=document['getElementById'](_0x230f48(0x85)),_0x50056e=document[_0x230f48(0x11a)](_0x230f48(0x3ae)),_0x25ef61=document['getElementById']('modal-timer-duration-input');_0x5c0fef[_0x230f48(0x5c6)]['value']==='none'?_0x53c9e9[_0x230f48(0x8f)]['add'](_0x230f48(0x6f8)):(_0x53c9e9['classList'][_0x230f48(0x57c)](_0x230f48(0x6f8)),_0x5c0fef['target'][_0x230f48(0x5ce)]==='whole_quiz'?_0x50056e[_0x230f48(0x9a9)]=_0x230f48(0x2f1):_0x50056e['textContent']=_0x230f48(0x7c8));}),document[_0x585590(0x11a)](_0x585590(0x669))[_0x585590(0x1e2)](_0x585590(0x91d),()=>{const _0x412e8f=_0x585590;document['getElementById'](_0x412e8f(0x5a8))[_0x412e8f(0x8f)][_0x412e8f(0x85b)]('hidden');}),document[_0x585590(0x11a)](_0x585590(0x3e4))[_0x585590(0x1e2)](_0x585590(0x91d),()=>{const _0x409c3e=_0x585590;document['getElementById']('quiz-editor-modal')['classList'][_0x409c3e(0x85b)]('hidden');}),document[_0x585590(0x11a)]('verify-answers-editor-btn')[_0x585590(0x1e2)](_0x585590(0x91d),handleVerifyAnswersInEditor),document['getElementById']('save-quiz-edits-btn')[_0x585590(0x1e2)](_0x585590(0x91d),()=>{const _0x2806de=_0x585590;document[_0x2806de(0x11a)](_0x2806de(0x5a8))[_0x2806de(0x8f)]['add'](_0x2806de(0x6f8)),showConfirmation(_0x2806de(0x8d9),handleSaveChanges);}),document['getElementById'](_0x585590(0x32c))['addEventListener'](_0x585590(0x91d),handleAutoFixLatex);const _0xa65c87=document[_0x585590(0x11a)](_0x585590(0x5c9));_0xa65c87&&_0xa65c87[_0x585590(0x1e2)](_0x585590(0x91d),_0x3396aa=>{const _0x3846c2=_0x585590,_0x322023=_0x3396aa[_0x3846c2(0x5c6)]['closest'](_0x3846c2(0x667)),_0x26473f=_0x3396aa[_0x3846c2(0x5c6)]['closest'](_0x3846c2(0x2b8));if(_0x322023){const _0xe1a29c=_0x322023['closest'](_0x3846c2(0x117)),_0x5ba038=parseInt(_0xe1a29c[_0x3846c2(0x93d)][_0x3846c2(0x76d)],0xa);handleRegenerateQuestionInEditor(_0x5ba038);}else{if(_0x26473f){const _0x4c24ae=_0x26473f[_0x3846c2(0x583)](_0x3846c2(0x117)),_0xb3b821=parseInt(_0x4c24ae['dataset']['qIndex'],0xa);handleAiFixFormula(_0xb3b821);}}});document['getElementById'](_0x585590(0x11c))[_0x585590(0x1e2)]('click',openQuizBankModal),document['getElementById']('cancel-quiz-bank-btn')[_0x585590(0x1e2)](_0x585590(0x91d),()=>{const _0x34b9a6=_0x585590;document[_0x34b9a6(0x11a)](_0x34b9a6(0x1a6))['classList'][_0x34b9a6(0x85b)](_0x34b9a6(0x6f8));}),document['getElementById']('bank-quiz-search-input')[_0x585590(0x1e2)](_0x585590(0x816),_0x33c365=>renderQuizBankList(_0x33c365[_0x585590(0x5c6)][_0x585590(0x5ce)]));const _0x5a8d52=document['getElementById'](_0x585590(0x6a8));if(_0x5a8d52){let _0x497b30=null;_0x5a8d52[_0x585590(0x1e2)](_0x585590(0x91d),_0x2040a4=>{const _0x1eca98=_0x585590,_0x2edb60=_0x2040a4[_0x1eca98(0x5c6)],_0x40bafd=_0x2edb60[_0x1eca98(0x583)]('.edit-custom-topic-btn'),_0xcad0b7=_0x2edb60[_0x1eca98(0x583)](_0x1eca98(0x98e)),_0xe46daf=_0x2edb60[_0x1eca98(0x583)](_0x1eca98(0x333)),_0x1faa9a=_0x2edb60['closest'](_0x1eca98(0x148));if(_0xcad0b7){_0x2040a4['preventDefault']();const _0x1eb58c=_0xcad0b7[_0x1eca98(0x93d)]['id'],_0x35ade4=_0xcad0b7[_0x1eca98(0x583)](_0x1eca98(0x883))[_0x1eca98(0x341)]('.topic-name-display')['textContent'];showConfirmation(_0x1eca98(0x1c0)+_0x35ade4+'\x22?',()=>handleDeleteCustomTopic(_0x1eb58c));}else{if(_0x40bafd){_0x2040a4[_0x1eca98(0x784)]();_0x497b30&&toggleTopicEditMode(_0x497b30,![]);const _0x2a15fd=_0x40bafd[_0x1eca98(0x583)]('[data-topic-container-id]');_0x497b30=_0x2a15fd,toggleTopicEditMode(_0x2a15fd,!![]);}else{if(_0xe46daf){_0x2040a4[_0x1eca98(0x784)]();const _0x338204=_0xe46daf['dataset']['id'],_0x47b3bd=_0xe46daf['closest'](_0x1eca98(0x992)),_0x470796=_0x47b3bd[_0x1eca98(0x341)](_0x1eca98(0x59a))[_0x1eca98(0x5ce)];handleUpdateCustomTopic(_0x338204,_0x470796),_0x497b30=null;}else{if(_0x1faa9a){_0x2040a4[_0x1eca98(0x784)]();const _0x15e42a=_0x1faa9a['closest'](_0x1eca98(0x992));toggleTopicEditMode(_0x15e42a,![]),_0x497b30=null;}}}}}),document[_0x585590(0x11a)]('close-lesson-plan-modal-btn')[_0x585590(0x1e2)]('click',()=>{const _0x3aeb5e=_0x585590;document[_0x3aeb5e(0x11a)](_0x3aeb5e(0x8b1))[_0x3aeb5e(0x8f)][_0x3aeb5e(0x85b)]('hidden');}),document[_0x585590(0x11a)](_0x585590(0x859))['addEventListener'](_0x585590(0x91d),()=>{const _0x1453ad=_0x585590;document['getElementById']('lesson-plan-modal')['classList'][_0x1453ad(0x85b)]('hidden');}),document['getElementById'](_0x585590(0x2be))[_0x585590(0x1e2)](_0x585590(0x91d),handleExportLessonPDF);}document[_0x585590(0x11a)](_0x585590(0x917))[_0x585590(0x1e2)](_0x585590(0x91d),()=>{const _0x55bc3b=_0x585590;document[_0x55bc3b(0x11a)]('comparison-modal')['classList'][_0x55bc3b(0x85b)](_0x55bc3b(0x6f8));}),document[_0x585590(0x11a)](_0x585590(0x932))['addEventListener'](_0x585590(0x91d),()=>{const _0x48332a=_0x585590;document[_0x48332a(0x11a)](_0x48332a(0x410))[_0x48332a(0x8f)][_0x48332a(0x85b)](_0x48332a(0x6f8));}),setupComparisonModalTabs(),document[_0x585590(0x24d)][_0x585590(0x1e2)](_0x585590(0x91d),function(_0x14946f){const _0x451975=_0x585590;if(_0x14946f[_0x451975(0x5c6)]['classList']['contains']('practice-topic-btn')){const _0x5abaf2=unescape(_0x14946f[_0x451975(0x5c6)][_0x451975(0x93d)][_0x451975(0x7d5)]);startSkillPractice(_0x5abaf2);}}),document[_0x585590(0x11a)](_0x585590(0x815))['addEventListener'](_0x585590(0x91d),_0x57e150=>{const _0x52adef=_0x585590,_0x5d3b7e=_0x57e150[_0x52adef(0x5c6)][_0x52adef(0x583)](_0x52adef(0x876));if(_0x5d3b7e){const _0x47e95f=_0x5d3b7e['dataset'][_0x52adef(0x700)];handleDeleteSubmission(_0x47e95f);}});}async function handleStartGroupMode(_0x48cf25,_0x214064=![]){const _0x5e5ce1=_0x335401,_0x3901c1=allQuizzes[_0x5e5ce1(0x474)](_0x530d42=>_0x530d42['id']===_0x48cf25)||allQuizzesGlobal['find'](_0x169673=>_0x169673['id']===_0x48cf25);if(!_0x3901c1){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x3901c1);const _0xb18345=Math[_0x5e5ce1(0x72)](0x3e8+Math[_0x5e5ce1(0x8fe)]()*0x2328)[_0x5e5ce1(0x5dc)]();try{const _0x4fd6b3=await addDoc(collection(db,'artifacts/'+appId+_0x5e5ce1(0x1cf)),{'quizId':_0x3901c1['id'],'projectId':_0x3901c1[_0x5e5ce1(0x4b5)],'status':'lobby','pin':_0xb18345,'mode':_0x5e5ce1(0x157),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x214064});currentTeamQuizId=_0x4fd6b3['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0xb18345,_0x3901c1[_0x5e5ce1(0x7d5)],_0x5e5ce1(0x157)),listenForTeamQuizUpdates();}catch(_0x4e77e9){console[_0x5e5ce1(0x529)]('Error\x20starting\x20group\x20quiz:',_0x4e77e9),showMessage(_0x5e5ce1(0x1cd));}}async function showStudentProgressView(){const _0x4a27b5=_0x335401;studentInitialView[_0x4a27b5(0x8f)]['add'](_0x4a27b5(0x6f8)),document[_0x4a27b5(0x11a)](_0x4a27b5(0x820))['classList'][_0x4a27b5(0x57c)](_0x4a27b5(0x6f8));const _0x3db2b1=document[_0x4a27b5(0x11a)](_0x4a27b5(0x69d)),_0x18b44c=document[_0x4a27b5(0x11a)](_0x4a27b5(0x7cb)),_0x2e4a39=document['getElementById'](_0x4a27b5(0x387));_0x2e4a39[_0x4a27b5(0x297)]=_0x4a27b5(0x759),_0x18b44c[_0x4a27b5(0x297)]=_0x4a27b5(0x27d),_0x18b44c[_0x4a27b5(0x53e)]=!![],_0x3db2b1[_0x4a27b5(0x297)]=_0x4a27b5(0x547);if(allProjects['length']===0x0){const _0x421386=collection(db,_0x4a27b5(0x82)+appId+_0x4a27b5(0x8c3)),_0x2cea79=await getDocs(_0x421386);allProjects=_0x2cea79['docs']['map'](_0x10712e=>({'id':_0x10712e['id'],..._0x10712e[_0x4a27b5(0x33f)]()}));}const _0xcf4aac=allProjects['filter'](_0x3514dc=>_0x3514dc[_0x4a27b5(0x7f5)]?.[_0x4a27b5(0x6ed)]!==![]);_0xcf4aac[_0x4a27b5(0x6df)]((_0x2009ba,_0x191ce4)=>_0x2009ba[_0x4a27b5(0x8b2)][_0x4a27b5(0x339)](_0x191ce4[_0x4a27b5(0x8b2)],'th')),_0x3db2b1[_0x4a27b5(0x297)]=_0x4a27b5(0x2bc)+_0xcf4aac['map'](_0x545c26=>_0x4a27b5(0x8d0)+_0x545c26['id']+'\x22>'+_0x545c26[_0x4a27b5(0x8b2)]+_0x4a27b5(0x6bc))[_0x4a27b5(0x7d)](''),_0x3db2b1['onchange']=()=>{const _0xa9506b=_0x4a27b5,_0x429492=_0x18b44c['value'],_0x2553db=_0x3db2b1['value'];_0x18b44c['disabled']=!![],_0x18b44c[_0xa9506b(0x297)]=_0xa9506b(0x27d),_0x2e4a39['innerHTML']=_0xa9506b(0x18e);if(!_0x2553db)return;const _0x327feb=allProjects['find'](_0x5dc7a0=>_0x5dc7a0['id']===_0x2553db);if(!_0x327feb||!_0x327feb['students'])return;const _0xee6a63=()=>{const _0x3780bf=_0xa9506b;_0x18b44c[_0x3780bf(0x297)]=_0x3780bf(0x27d)+_0x327feb[_0x3780bf(0x4c6)][_0x3780bf(0x4eb)](_0x112c09=>_0x3780bf(0x8d0)+_0x112c09+'\x22>'+_0x112c09+_0x3780bf(0x6bc))[_0x3780bf(0x7d)](''),_0x18b44c[_0x3780bf(0x53e)]=![];const _0x34e8e2=Array['from'](_0x18b44c['options'])[_0x3780bf(0x4eb)](_0x4aee95=>_0x4aee95['value']);if(_0x429492&&_0x34e8e2[_0x3780bf(0x655)](_0x429492))_0x18b44c[_0x3780bf(0x5ce)]=_0x429492,_0x18b44c['dispatchEvent'](new Event(_0x3780bf(0x5cf)));else _0x327feb[_0x3780bf(0x4c6)]['length']===0x1&&(_0x18b44c['value']=_0x327feb['students'][0x0],_0x18b44c[_0x3780bf(0x7ec)](new Event(_0x3780bf(0x5cf))));};if(_0x327feb['settings']?.[_0xa9506b(0x863)]){if(sessionStorage[_0xa9506b(0x5bf)](_0xa9506b(0x4d7)+_0x2553db)==='true'){_0xee6a63();return;}const _0x514d0a=document[_0xa9506b(0x11a)](_0xa9506b(0x16c)),_0x3829ff=document[_0xa9506b(0x11a)](_0xa9506b(0x20e)),_0x414a16=document[_0xa9506b(0x11a)](_0xa9506b(0x25c)),_0xbe2d0a=document[_0xa9506b(0x11a)](_0xa9506b(0x638)),_0x1fb1e7=document[_0xa9506b(0x11a)](_0xa9506b(0x8a2));document[_0xa9506b(0x11a)](_0xa9506b(0x240))[_0xa9506b(0x9a9)]='สำหรับโปรเจค:\x20'+_0x327feb[_0xa9506b(0x8b2)],_0xbe2d0a[_0xa9506b(0x5ce)]='',_0x1fb1e7[_0xa9506b(0x8f)][_0xa9506b(0x85b)](_0xa9506b(0x6f8)),_0x514d0a[_0xa9506b(0x8f)][_0xa9506b(0x57c)]('hidden');const _0x2f3f15=()=>{const _0x36ca0b=_0xa9506b,_0x524fd9=_0xbe2d0a[_0x36ca0b(0x5ce)][_0x36ca0b(0xa5)]();_0x524fd9===_0x327feb['settings']['passcode']?(sessionStorage[_0x36ca0b(0x730)]('authed_project_'+_0x2553db,_0x36ca0b(0x6c8)),_0x514d0a[_0x36ca0b(0x8f)][_0x36ca0b(0x85b)]('hidden'),_0xee6a63(),_0x3829ff[_0x36ca0b(0x2b3)](_0x36ca0b(0x91d),_0x2f3f15)):_0x1fb1e7[_0x36ca0b(0x8f)][_0x36ca0b(0x57c)](_0x36ca0b(0x6f8));};_0x3829ff[_0xa9506b(0x5f6)]=_0x2f3f15,_0x414a16['onclick']=()=>{const _0x2b3576=_0xa9506b;_0x514d0a[_0x2b3576(0x8f)][_0x2b3576(0x85b)]('hidden'),_0x3db2b1[_0x2b3576(0x5ce)]='',_0x3829ff[_0x2b3576(0x2b3)](_0x2b3576(0x91d),_0x2f3f15);};}else _0xee6a63();},_0x18b44c[_0x4a27b5(0x4d6)]=()=>{const _0x7a4fe6=_0x4a27b5,_0x283c78=_0x3db2b1[_0x7a4fe6(0x5ce)],_0x4b8212=_0x18b44c[_0x7a4fe6(0x5ce)];_0x283c78&&_0x4b8212&&renderStudentProgressDashboard(_0x283c78,_0x4b8212);};}async function confirmAndJoinSyncGame(){const _0x4a5098=_0x335401,_0x5672ac=Array[_0x4a5098(0x50e)](document[_0x4a5098(0xf8)](_0x4a5098(0x557)))[_0x4a5098(0x4eb)](_0x106af9=>_0x106af9[_0x4a5098(0x5ce)]);if(_0x5672ac[_0x4a5098(0x38d)]===0x0){showMessage(_0x4a5098(0x578));return;}localTeamPlayers=_0x5672ac,localPlayerTurnIndex=0x0;const _0x2cb786=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x35d8c8={};_0x5672ac['forEach'](_0x27eff0=>{const _0x52e739=_0x4a5098;_0x35d8c8[_0x52e739(0x3d9)+_0x27eff0]={'name':_0x27eff0,'score':0x0,'answered':![]};});try{await updateDoc(_0x2cb786,_0x35d8c8),document[_0x4a5098(0x11a)](_0x4a5098(0x7f7))[_0x4a5098(0x8f)]['add']('hidden'),currentStudentName=_0x5672ac[0x0],listenForSyncGameUpdates();const _0x13e561={'gameId':currentLiveGameId,'mode':_0x4a5098(0x452),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x4a5098(0x730)](_0x4a5098(0x6cf),JSON[_0x4a5098(0x3af)](_0x13e561));}catch(_0x345a27){console[_0x4a5098(0x529)](_0x4a5098(0x6bd),_0x345a27),showMessage(_0x4a5098(0x1d3));}}async function resumeActiveGameSession(){const _0x1a8fa3=_0x335401,_0x1a4db2=sessionStorage[_0x1a8fa3(0x5bf)](_0x1a8fa3(0x6cf));if(!_0x1a4db2)return;const _0x457ac3=JSON[_0x1a8fa3(0x18d)](_0x1a4db2),{gameId:_0x280ff8,mode:_0x1897a8,players:_0x300645,turnIndex:_0x202ff6}=_0x457ac3;try{let _0x2771d4,_0xd895f6;_0x1897a8==='sync'?_0x2771d4=doc(db,_0x1a8fa3(0x82)+appId+'/public/data/syncGames',_0x280ff8):_0x2771d4=doc(db,_0x1a8fa3(0x82)+appId+'/public/data/teamQuizzes',_0x280ff8);_0xd895f6=await getDoc(_0x2771d4);if(!_0xd895f6[_0x1a8fa3(0x91b)]()||_0xd895f6[_0x1a8fa3(0x33f)]()[_0x1a8fa3(0x83e)]===_0x1a8fa3(0x827)||_0xd895f6[_0x1a8fa3(0x33f)]()[_0x1a8fa3(0x83e)]===_0x1a8fa3(0x247)){sessionStorage['removeItem'](_0x1a8fa3(0x6cf));return;}console['log'](_0x1a8fa3(0x1a0)+_0x1897a8+_0x1a8fa3(0x2b2)+_0x280ff8+')'),localTeamPlayers=_0x300645,localPlayerTurnIndex=_0x202ff6;if(_0x1897a8==='sync')currentLiveGameId=_0x280ff8,currentStudentName=_0x300645[0x0],showView(_0x1a8fa3(0x489)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x280ff8;const _0x57dd34=_0xd895f6[_0x1a8fa3(0x33f)](),_0x5654fe=doc(db,_0x1a8fa3(0x82)+appId+_0x1a8fa3(0x5e5),_0x57dd34[_0x1a8fa3(0x1bb)]),_0x14c0df=await getDoc(_0x5654fe);_0x14c0df[_0x1a8fa3(0x91b)]()&&(currentQuizData=getShuffledQuiz({'id':_0x14c0df['id'],..._0x14c0df['data']()}),showView('student'),studentInitialView['classList'][_0x1a8fa3(0x85b)]('hidden'),renderTeamQuizQuestion());}}catch(_0x57ea9c){console[_0x1a8fa3(0x529)](_0x1a8fa3(0x10b),_0x57ea9c),sessionStorage[_0x1a8fa3(0x241)](_0x1a8fa3(0x6cf));}}async function handleKickPlayerSync(_0x38bf19){const _0x2bb375=_0x335401;if(!currentLiveGameId||!_0x38bf19)return;const _0xf8b646=doc(db,_0x2bb375(0x82)+appId+'/public/data/syncGames',currentLiveGameId),_0x4cb0bc={};_0x4cb0bc[_0x2bb375(0x3d9)+_0x38bf19+_0x2bb375(0x3df)]=_0x2bb375(0x4e2);try{await updateDoc(_0xf8b646,_0x4cb0bc);}catch(_0x1e7037){console[_0x2bb375(0x529)](_0x2bb375(0x43c)+_0x38bf19+_0x2bb375(0x19b),_0x1e7037),showMessage(_0x2bb375(0x931));}}async function renderStudentProgressDashboard(_0xdc037a,_0x49cf11){const _0x14e8bc=_0x335401,_0x25a31c=document[_0x14e8bc(0x11a)](_0x14e8bc(0x387));_0x25a31c['innerHTML']=_0x14e8bc(0x6da);try{const _0x450b3d=collection(db,_0x14e8bc(0x82)+appId+_0x14e8bc(0x5e5)),_0x56cb9d=query(_0x450b3d,where(_0x14e8bc(0x4b5),'==',_0xdc037a)),_0x52b42c=await getDocs(_0x56cb9d),_0x1f26e7=_0x52b42c['docs'][_0x14e8bc(0x4eb)](_0x12b962=>({'id':_0x12b962['id'],..._0x12b962[_0x14e8bc(0x33f)]()})),_0x1cd057=_0x1f26e7[_0x14e8bc(0x4eb)](_0x2371de=>getDoc(doc(db,_0x14e8bc(0x82)+appId+_0x14e8bc(0x2d6)+_0x2371de['id']+'/submissions',_0x49cf11))),_0x381a50=await Promise[_0x14e8bc(0x465)](_0x1cd057),_0x4016a1=_0x381a50[_0x14e8bc(0x84b)](_0x3da39a=>_0x3da39a[_0x14e8bc(0x91b)]())[_0x14e8bc(0x4eb)](_0x5e4622=>({'quizId':_0x5e4622[_0x14e8bc(0x46e)]['parent'][_0x14e8bc(0x509)]['id'],..._0x5e4622[_0x14e8bc(0x33f)]()}));if(_0x4016a1['length']===0x0){_0x25a31c[_0x14e8bc(0x297)]=_0x14e8bc(0x76);return;}let _0xae2391='<div\x20class=\x22space-y-4\x22>';_0x4016a1['forEach'](_0x531a4f=>{const _0x4c76e9=_0x14e8bc,_0x3bc9d8=_0x1f26e7[_0x4c76e9(0x474)](_0x4302ad=>_0x4302ad['id']===_0x531a4f[_0x4c76e9(0x1bb)]),_0x4bc510=_0x3bc9d8[_0x4c76e9(0x7f5)]?.[_0x4c76e9(0x5c3)]||_0x4c76e9(0x245),_0x5cacc2=_0x3bc9d8[_0x4c76e9(0x7f5)]?.[_0x4c76e9(0x683)]??0x0,_0x68abbd=_0x531a4f[_0x4c76e9(0x37e)]>=_0x5cacc2;let _0x4a1f7a='',_0x58cf6b='bg-gray-50';switch(_0x4bc510){case _0x4c76e9(0x245):case _0x4c76e9(0x788):_0x58cf6b=_0x68abbd?_0x4c76e9(0x61d):_0x4c76e9(0x1fb),_0x4a1f7a=_0x4c76e9(0x393)+(_0x68abbd?_0x4c76e9(0x7c6):'text-red-700')+'\x22>'+_0x531a4f['bestScore']+_0x4c76e9(0x73f)+_0x531a4f[_0x4c76e9(0x958)]+_0x4c76e9(0x1e8)+(_0x68abbd?_0x4c76e9(0x64d):_0x4c76e9(0x7a5))+'\x22>'+(_0x68abbd?'ผ่าน':_0x4c76e9(0x1e3))+_0x4c76e9(0x257);break;case _0x4c76e9(0xa4):_0x58cf6b=_0x68abbd?_0x4c76e9(0x61d):'bg-red-50',_0x4a1f7a=_0x4c76e9(0x6e6)+(_0x68abbd?'bg-green-200\x20text-green-800':'bg-red-200\x20text-red-800')+'\x22>'+(_0x68abbd?_0x4c76e9(0x64b):_0x4c76e9(0x1e3))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x4c76e9(0x8ca):_0x58cf6b=_0x4c76e9(0x1ec),_0x4a1f7a=_0x4c76e9(0x69a);break;}_0xae2391+=_0x4c76e9(0x940)+_0x58cf6b+_0x4c76e9(0x3d4)+_0x3bc9d8[_0x4c76e9(0x7d5)]+_0x4c76e9(0x57e)+_0x531a4f[_0x4c76e9(0x34b)][_0x4c76e9(0x38d)]+_0x4c76e9(0x79e)+new Date(_0x531a4f[_0x4c76e9(0x1ff)])[_0x4c76e9(0x2d3)](_0x4c76e9(0x5f1))+_0x4c76e9(0x383)+_0x4a1f7a+_0x4c76e9(0x923);}),_0xae2391+='</div>',_0x25a31c[_0x14e8bc(0x297)]=_0xae2391;}catch(_0xda8b4){console[_0x14e8bc(0x529)](_0x14e8bc(0x645),_0xda8b4),_0x25a31c[_0x14e8bc(0x297)]=_0x14e8bc(0x7b3);}}function setupStudentProgressListeners(){const _0x3aa276=_0x335401;document[_0x3aa276(0x11a)](_0x3aa276(0xf3))['addEventListener']('click',showStudentProgressView),document[_0x3aa276(0x11a)](_0x3aa276(0x9cd))['addEventListener']('click',()=>{const _0x567c60=_0x3aa276;document[_0x567c60(0x11a)](_0x567c60(0x820))[_0x567c60(0x8f)][_0x567c60(0x85b)](_0x567c60(0x6f8)),document['getElementById'](_0x567c60(0xe8))[_0x567c60(0x8f)][_0x567c60(0x57c)](_0x567c60(0x6f8));});}async function startSkillPractice(_0x5589cb){const _0x5e218c=_0x335401;studentResultArea[_0x5e218c(0x8f)][_0x5e218c(0x85b)]('hidden'),studentQuizArea['innerHTML']=_0x5e218c(0x72e),studentQuizArea['classList'][_0x5e218c(0x57c)](_0x5e218c(0x6f8));try{const _0xabc174=await getStandardizedTopic(_0x5589cb);console[_0x5e218c(0x27b)]('คำถามดิบ:\x20\x22'+_0x5589cb+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0xabc174+'\x22'),studentQuizArea[_0x5e218c(0x341)]('p')[_0x5e218c(0x9a9)]=_0x5e218c(0x36c)+_0xabc174+'\x22...';const _0x2a8d8b=collection(db,_0x5e218c(0x82)+appId+_0x5e218c(0x354)),_0x4ee65b=query(_0x2a8d8b,where(_0x5e218c(0x7d5),'==',_0xabc174)),_0x49fd88=await getDocs(_0x4ee65b);if(_0x49fd88[_0x5e218c(0x84c)][_0x5e218c(0x38d)]>=0x3){console[_0x5e218c(0x27b)](_0x5e218c(0x402)+_0x49fd88['docs'][_0x5e218c(0x38d)]+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0xabc174+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x24fc72=_0x49fd88['docs'][_0x5e218c(0x4eb)](_0x74a0e3=>_0x74a0e3[_0x5e218c(0x33f)]());shuffleArray(_0x24fc72);const _0xfa8d7f={'topic':_0xabc174,'questions':_0x24fc72[_0x5e218c(0x3db)](0x0,0x3)};displaySkillPracticeDrill(_0xfa8d7f);}else{console[_0x5e218c(0x27b)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0xabc174+_0x5e218c(0x774));const _0x370508=await generatePracticeQuestions(_0xabc174);await saveDrillToPracticeBank(_0x370508,_0xabc174),displaySkillPracticeDrill(_0x370508);}}catch(_0x3b51df){console[_0x5e218c(0x529)](_0x5e218c(0xba),_0x3b51df),showMessage(_0x5e218c(0x87)),studentQuizArea[_0x5e218c(0x8f)][_0x5e218c(0x85b)]('hidden'),studentResultArea[_0x5e218c(0x8f)][_0x5e218c(0x57c)](_0x5e218c(0x6f8));}}async function saveDrillToPracticeBank(_0x131797,_0x5cb3eb){const _0x4751f9=_0x335401,_0x35acbe=collection(db,'artifacts/'+appId+_0x4751f9(0x354)),_0xe69598=writeBatch(db);_0x131797[_0x4751f9(0x4e3)][_0x4751f9(0x40a)](_0x5afcc0=>{const _0x4aa6db=_0x4751f9,_0x5ab338=doc(_0x35acbe);_0xe69598[_0x4aa6db(0x85e)](_0x5ab338,{'topic':_0x5cb3eb,'questionText':_0x5afcc0[_0x4aa6db(0x7f3)],'options':_0x5afcc0[_0x4aa6db(0x5b2)],'correctAnswerIndex':_0x5afcc0[_0x4aa6db(0x801)],'explanation':_0x5afcc0[_0x4aa6db(0x199)],'createdAt':serverTimestamp()});});try{await _0xe69598['commit'](),console[_0x4751f9(0x27b)]('บันทึกคำถามใหม่\x20'+_0x131797['questions']['length']+_0x4751f9(0x66e));}catch(_0xc71e0d){console[_0x4751f9(0x529)]('Error\x20saving\x20questions\x20to\x20practice\x20bank:',_0xc71e0d);}}async function getStandardizedTopic(_0x15c913){const _0xed9efe=_0x335401,_0x2a0155=_0xed9efe(0x937)+_0x15c913+_0xed9efe(0x139),_0x19f5c3={'type':'OBJECT','properties':{'standardTopic':{'type':_0xed9efe(0x517)}},'required':[_0xed9efe(0x2d0)]};try{const _0x2f2b55=await callAnalysisApi(_0x2a0155,_0x19f5c3);return _0x2f2b55[_0xed9efe(0x2d0)];}catch(_0x41b21b){return console['error']('Failed\x20to\x20get\x20standardized\x20topic:',_0x41b21b),_0x15c913;}}async function handleGenerateEasyVersionQuiz(_0x495679){const _0x38cf1f=_0x335401;showConfirmation(_0x38cf1f(0x3a1),async()=>{const _0x4e83b8=_0x38cf1f;showMessage(_0x4e83b8(0x2ed));try{const _0xcd2a51=allQuizzes[_0x4e83b8(0x474)](_0x41eff0=>_0x41eff0['id']===_0x495679);if(!_0xcd2a51)throw new Error(_0x4e83b8(0xcd));const _0x573cb6=_0x4e83b8(0x3f7)+JSON[_0x4e83b8(0x3af)](_0xcd2a51[_0x4e83b8(0x4e3)])+_0x4e83b8(0x141),_0xdf33c3={'type':_0x4e83b8(0x4cb),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x4e83b8(0x517)},'options':{'type':_0x4e83b8(0x401),'items':{'type':_0x4e83b8(0x517)}},'correctAnswerIndex':{'type':_0x4e83b8(0x575)},'idealAnswer':{'type':_0x4e83b8(0x517)},'explanation':{'type':_0x4e83b8(0x517)},'imageCode':{'type':'STRING'}},'required':[_0x4e83b8(0x7f3),_0x4e83b8(0x23d),_0x4e83b8(0x199)]},_0x1956e6={'type':'OBJECT','properties':{'questions':{'type':_0x4e83b8(0x401),'items':_0xdf33c3}},'required':['questions']},_0x4f57a7=await callAnalysisApi(_0x573cb6,_0x1956e6);_0x4f57a7&&_0x4f57a7['questions']&&_0x4f57a7['questions'][_0x4e83b8(0x40a)](_0x464b80=>{const _0x2dcea7=_0x4e83b8;_0x464b80[_0x2dcea7(0x7f3)]&&(_0x464b80[_0x2dcea7(0x7f3)]=_0x464b80['questionText']['trim']()[_0x2dcea7(0x86e)](/,$/,'')[_0x2dcea7(0xa5)]());_0x464b80['options']&&Array['isArray'](_0x464b80['options'])&&(_0x464b80[_0x2dcea7(0x5b2)]=_0x464b80[_0x2dcea7(0x5b2)][_0x2dcea7(0x4eb)](_0x135480=>_0x135480||_0x2dcea7(0x74c)));if(_0x464b80[_0x2dcea7(0x2f7)]){const _0x5b1a77=_0x464b80['imageCode'][_0x2dcea7(0xa5)]();_0x5b1a77===''||_0x5b1a77[_0x2dcea7(0x5f2)]()==='null'||!_0x5b1a77[_0x2dcea7(0x5b7)](_0x2dcea7(0x26b))?delete _0x464b80[_0x2dcea7(0x2f7)]:_0x464b80[_0x2dcea7(0x2f7)]=_0x5b1a77;}});if(!_0x4f57a7||!_0x4f57a7[_0x4e83b8(0x4e3)]||_0x4f57a7[_0x4e83b8(0x4e3)][_0x4e83b8(0x38d)]===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0x1d186e={'projectId':_0xcd2a51[_0x4e83b8(0x4b5)],'quizType':_0xcd2a51[_0x4e83b8(0x7a1)],'settings':_0xcd2a51[_0x4e83b8(0x7f5)],'createdBy':_0xcd2a51[_0x4e83b8(0x5a9)],'status':_0x4e83b8(0x8eb),'topic':_0x4e83b8(0x763)+_0xcd2a51['topic'],'questions':_0x4f57a7['questions'],'createdAt':new Date()[_0x4e83b8(0x910)](),'quizMode':_0x4e83b8(0x26a),'pairedQuizId':null};let _0x1b8bab;while(!![]){_0x1b8bab=Math[_0x4e83b8(0x72)](0x3e8+Math[_0x4e83b8(0x8fe)]()*0x2328)[_0x4e83b8(0x5dc)]();const _0x273306=await getDoc(doc(db,_0x4e83b8(0x82)+appId+'/public/data/quizzes',_0x1b8bab));if(!_0x273306[_0x4e83b8(0x91b)]())break;}await setDoc(doc(db,_0x4e83b8(0x82)+appId+_0x4e83b8(0x5e5),_0x1b8bab),_0x1d186e),showMessage(_0x4e83b8(0xb2));}catch(_0x2b18f8){console[_0x4e83b8(0x529)]('Error\x20generating\x20easy\x20version\x20quiz:',_0x2b18f8),showMessage(_0x4e83b8(0x9b0)+_0x2b18f8[_0x4e83b8(0x2da)]);}});}async function generatePracticeQuestions(_0x23985b){const _0x1aca5c=_0x335401,_0x3ff517=_0x1aca5c(0x6a0)+_0x23985b+_0x1aca5c(0x944)+simpleMathPrompt+_0x1aca5c(0x905),_0x3c40b9={'type':_0x1aca5c(0x4cb),'properties':{'questionText':{'type':_0x1aca5c(0x517)},'options':{'type':_0x1aca5c(0x401),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1aca5c(0x575)},'explanation':{'type':_0x1aca5c(0x517)}},'required':[_0x1aca5c(0x7f3),_0x1aca5c(0x5b2),_0x1aca5c(0x801),_0x1aca5c(0x199)]},_0x57627f={'type':_0x1aca5c(0x4cb),'properties':{'topic':{'type':_0x1aca5c(0x517)},'questions':{'type':_0x1aca5c(0x401),'items':_0x3c40b9}},'required':[_0x1aca5c(0x7d5),_0x1aca5c(0x4e3)]};return await callAnalysisApi(_0x3ff517,_0x57627f);}function displayLessonPlan(_0x3244e4,_0x437225){const _0x97f8b7=_0x335401,_0x16fdfe=_0x97f8b7(0x1e5)+_0x437225[_0x97f8b7(0x7d5)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x3244e4[_0x97f8b7(0x668)]['map'](_0x5609bd=>_0x97f8b7(0x75d)+_0x5609bd+_0x97f8b7(0x49d))[_0x97f8b7(0x7d)]('')+_0x97f8b7(0x641)+_0x3244e4[_0x97f8b7(0x6d7)]+_0x97f8b7(0x36b)+_0x3244e4[_0x97f8b7(0x2df)]['map'](_0x282fda=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x282fda['question']+_0x97f8b7(0x894)+_0x282fda[_0x97f8b7(0x227)]+_0x97f8b7(0x3f1))[_0x97f8b7(0x7d)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x97f8b7(0x11a)]('lesson-plan-title')[_0x97f8b7(0x9a9)]=_0x97f8b7(0x10e)+_0x437225[_0x97f8b7(0x7d5)],document[_0x97f8b7(0x11a)](_0x97f8b7(0x9ae))[_0x97f8b7(0x297)]=_0x16fdfe,document[_0x97f8b7(0x11a)]('lesson-plan-modal')[_0x97f8b7(0x8f)]['remove'](_0x97f8b7(0x6f8));if(window[_0x97f8b7(0x107)])MathJax[_0x97f8b7(0x4a4)]();}function displaySkillPracticeDrill(_0xc0e191){const _0x9175b4=_0x335401;let _0x1252cd=0x0;const _0x5f1fca=_0xc0e191[_0x9175b4(0x4e3)],_0x578038=()=>{const _0x53f8e8=_0x9175b4,_0x802baa=_0x5f1fca[_0x1252cd],_0x36be1c=_0x53f8e8(0x6cc)+(_0x1252cd+0x1)+_0x53f8e8(0x73f)+_0x5f1fca[_0x53f8e8(0x38d)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x802baa['questionText']+_0x53f8e8(0x3de)+_0x802baa[_0x53f8e8(0x5b2)][_0x53f8e8(0x4eb)]((_0x40fea7,_0x50e7d7)=>_0x53f8e8(0x42f)+_0x50e7d7+_0x53f8e8(0x78e)+_0x50e7d7+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x50e7d7+'\x22>'+_0x40fea7+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea['innerHTML']=_0x36be1c;if(window[_0x53f8e8(0x107)])MathJax['typesetPromise']([studentQuizArea]);document[_0x53f8e8(0x11a)](_0x53f8e8(0x3a7))[_0x53f8e8(0x1e2)](_0x53f8e8(0x91d),async()=>{const _0x15a631=_0x53f8e8,_0x47af20=await getHintForQuestion(_0x802baa[_0x15a631(0x7f3)]);showMessage(_0x47af20);}),document[_0x53f8e8(0x11a)](_0x53f8e8(0x564))[_0x53f8e8(0x1e2)](_0x53f8e8(0x91d),()=>{const _0x32836d=_0x53f8e8,_0x49af59=document[_0x32836d(0x341)](_0x32836d(0xe6));if(!_0x49af59){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x33ba25=document['getElementById'](_0x32836d(0x766)),_0x2cf0ee=parseInt(_0x49af59['value'])===_0x802baa[_0x32836d(0x801)];_0x2cf0ee?(_0x33ba25[_0x32836d(0x5e8)]=_0x32836d(0x44a),_0x33ba25['innerHTML']=_0x32836d(0x164)+_0x802baa[_0x32836d(0x199)]):(_0x33ba25[_0x32836d(0x5e8)]=_0x32836d(0x729),_0x33ba25[_0x32836d(0x297)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x802baa['explanation']);_0x33ba25[_0x32836d(0x8f)]['remove'](_0x32836d(0x6f8));if(window[_0x32836d(0x107)])MathJax[_0x32836d(0x4a4)]([_0x33ba25]);document['getElementById'](_0x32836d(0x564))[_0x32836d(0x8f)]['add'](_0x32836d(0x6f8)),document[_0x32836d(0x11a)](_0x32836d(0x3a7))[_0x32836d(0x8f)]['add'](_0x32836d(0x6f8)),document[_0x32836d(0x11a)]('next-drill-btn')[_0x32836d(0x8f)][_0x32836d(0x57c)](_0x32836d(0x6f8));}),document['getElementById']('next-drill-btn')[_0x53f8e8(0x1e2)](_0x53f8e8(0x91d),()=>{const _0x115615=_0x53f8e8;_0x1252cd++,_0x1252cd<_0x5f1fca[_0x115615(0x38d)]?_0x578038():(studentQuizArea['innerHTML']=_0x115615(0x1d0),document[_0x115615(0x11a)](_0x115615(0x6ba))[_0x115615(0x1e2)](_0x115615(0x91d),()=>{const _0x53c200=_0x115615;studentQuizArea[_0x53c200(0x8f)][_0x53c200(0x85b)]('hidden'),studentResultArea[_0x53c200(0x8f)][_0x53c200(0x57c)]('hidden');}));});};_0x578038();}async function getHintForQuestion(_0x5d32e0){const _0x227cb3=_0x335401,_0x20f281='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x5d32e0+_0x227cb3(0x939),_0x209f10={'type':_0x227cb3(0x4cb),'properties':{'hint':{'type':_0x227cb3(0x517)}},'required':[_0x227cb3(0x399)]};try{const _0x2dc6fb=await callAnalysisApi(_0x20f281,_0x209f10);return _0x2dc6fb[_0x227cb3(0x399)];}catch(_0x5de9f3){return console[_0x227cb3(0x529)](_0x227cb3(0x855),_0x5de9f3),_0x227cb3(0x984);}}async function extractTextFromPdf(_0x5a3fca){const _0x52b9af=_0x335401;pdfjsLib['GlobalWorkerOptions'][_0x52b9af(0x9a)]=_0x52b9af(0x28a);const _0x1bf9c7=await _0x5a3fca[_0x52b9af(0x6ff)](),_0x4e56aa=await pdfjsLib['getDocument'](_0x1bf9c7)['promise'],_0x50dff4=_0x4e56aa[_0x52b9af(0x206)];let _0x440dcd='';for(let _0x2a8066=0x1;_0x2a8066<=_0x50dff4;_0x2a8066++){const _0x38dfe1=await _0x4e56aa[_0x52b9af(0x632)](_0x2a8066),_0x3072cb=await _0x38dfe1[_0x52b9af(0x374)](),_0x5284f0=_0x3072cb[_0x52b9af(0x2ee)]['map'](_0x2ea99d=>_0x2ea99d[_0x52b9af(0x680)])[_0x52b9af(0x7d)]('\x20');_0x440dcd+=_0x5284f0+'\x0a\x0a';}return _0x440dcd;}async function handleGenerateFromBlueprint(){const _0x2fa68f=_0x335401,_0x52afea=document[_0x2fa68f(0x11a)](_0x2fa68f(0x8f8)),_0x201785=document['getElementById'](_0x2fa68f(0x330)),_0xff7424=_0x52afea[_0x2fa68f(0x4f1)][0x0],_0x45b747=_0x201785[_0x2fa68f(0x4f1)][_0x2fa68f(0x38d)]>0x0?_0x201785[_0x2fa68f(0x4f1)][0x0]:null;if(!_0xff7424){showMessage(_0x2fa68f(0x60c));return;}const _0x2dc842=document['getElementById'](_0x2fa68f(0x2a3)),_0x3bb9b4=document['getElementById']('loader-text'),_0x79d0f8=document[_0x2fa68f(0x11a)](_0x2fa68f(0x290)),_0x34f978=document['getElementById'](_0x2fa68f(0x293));_0x34f978[_0x2fa68f(0x53e)]=!![],document[_0x2fa68f(0x11a)](_0x2fa68f(0x147))[_0x2fa68f(0x8f)][_0x2fa68f(0x57c)](_0x2fa68f(0x6f8)),_0x79d0f8[_0x2fa68f(0x297)]='',_0x2dc842['classList'][_0x2fa68f(0x57c)]('hidden');try{_0x3bb9b4['textContent']=_0x2fa68f(0x182);const _0x4ae695=await extractTextFromPdf(_0xff7424);if(!_0x4ae695['trim']())throw new Error('ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย');let _0x388fa4='';_0x45b747&&(_0x3bb9b4['textContent']='กำลังอ่านไฟล์ข้อสอบอ้างอิง...',_0x388fa4=await extractTextFromPdf(_0x45b747));_0x3bb9b4['textContent']=_0x2fa68f(0xd0);const _0x1f98b5=document['getElementById'](_0x2fa68f(0x678))['checked'],_0x19818d=_0x1f98b5?_0x2fa68f(0x2e1):'',_0x5dd2bb=_0x388fa4?_0x2fa68f(0x51d)+_0x388fa4+_0x2fa68f(0x15f):'',_0x292b4c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x388fa4?_0x2fa68f(0x8a9):'')+_0x2fa68f(0x27a)+_0x4ae695+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5dd2bb+_0x2fa68f(0x5ec)+_0x19818d+_0x2fa68f(0x98c)+simpleMathPrompt+_0x2fa68f(0x692),_0x1e3407={'type':_0x2fa68f(0x4cb),'properties':{'questionText':{'type':_0x2fa68f(0x517)},'questionType':{'type':_0x2fa68f(0x517),'enum':[_0x2fa68f(0x847),'short_answer']},'options':{'type':_0x2fa68f(0x401),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2fa68f(0x575)},'idealAnswer':{'type':_0x2fa68f(0x517)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText','questionType',_0x2fa68f(0x199)]},_0x2d8c8a={'type':'OBJECT','properties':{'topic':{'type':_0x2fa68f(0x517)},'questions':{'type':_0x2fa68f(0x401),'items':_0x1e3407}},'required':[_0x2fa68f(0x7d5),_0x2fa68f(0x4e3)]};await handleApiCall(_0x292b4c,_0x2fa68f(0x6a9),_0x2d8c8a);}catch(_0x34ee97){console[_0x2fa68f(0x529)]('Error\x20generating\x20from\x20blueprint:',_0x34ee97),showMessage(_0x2fa68f(0x9b0)+_0x34ee97[_0x2fa68f(0x2da)]),_0x79d0f8['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>';}finally{_0x2dc842['classList'][_0x2fa68f(0x85b)](_0x2fa68f(0x6f8)),_0x34f978['disabled']=![];}}function renderAdminSyncDashboard(_0xb42734,_0x5e3195){const _0x1a9bc1=_0x335401,_0x312a58=Object[_0x1a9bc1(0x5aa)](_0xb42734[_0x1a9bc1(0x924)]||{}),_0x39aeab=_0x312a58['length'],_0x1a4dd3=[..._0x312a58][_0x1a9bc1(0x6df)]((_0x307f85,_0x70ba89)=>_0x70ba89[_0x1a9bc1(0x94c)]-_0x307f85[_0x1a9bc1(0x94c)]),_0x524248=_0xb42734['currentQuestionIndex'];let _0x5cf475='';const _0x55c139=_0xb42734['shuffledQuiz']['questions'],_0x5b9a2f=_0x55c139[_0x524248],_0x19c467=_0x33e249=>String[_0x1a9bc1(0x64c)](0x41+_0x33e249);if(_0x5b9a2f&&_0x5b9a2f[_0x1a9bc1(0x5b2)]&&_0x5b9a2f[_0x1a9bc1(0x801)]!==undefined){const _0x4e04d3=_0x5b9a2f[_0x1a9bc1(0x5b2)][_0x5b9a2f[_0x1a9bc1(0x801)]];_0x5cf475=_0x1a9bc1(0x5ac)+(_0x524248+0x1)+_0x1a9bc1(0x52c)+_0x19c467(_0x5b9a2f[_0x1a9bc1(0x801)])+'.\x20'+_0x4e04d3+_0x1a9bc1(0x843);}const _0x2ad5ea=_0x1a4dd3[_0x1a9bc1(0x4eb)](_0x351a74=>{const _0x36e376=_0x1a9bc1;let _0x2f7804=![];if(_0x351a74[_0x36e376(0x2aa)]&&_0x524248!==-0x1){const _0x55c9d5=_0x351a74['answers'][_0x36e376(0x474)](_0x31eada=>_0x31eada[_0x36e376(0xa7)]===_0x524248);_0x55c9d5&&_0x55c9d5[_0x36e376(0xdc)]&&(_0x2f7804=!![]);}const _0x5db2dd=_0x2f7804?'bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg':'bg-black/20';return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20'+_0x5db2dd+_0x36e376(0x66c)+_0x351a74[_0x36e376(0x20b)]+'</span><span\x20class=\x22font-bold\x22>'+_0x351a74[_0x36e376(0x94c)]+_0x36e376(0x689);})[_0x1a9bc1(0x7d)](''),_0x2c570e=_0x55c139[_0x1a9bc1(0x4eb)]((_0x287f99,_0x1718f8)=>{const _0x5d1791=_0x1a9bc1,_0x2959d0=_0x312a58[_0x5d1791(0x84b)](_0x110644=>_0x110644[_0x5d1791(0x2aa)]&&_0x110644[_0x5d1791(0x2aa)][_0x5d1791(0x474)](_0x43445a=>_0x43445a[_0x5d1791(0xa7)]===_0x1718f8&&_0x43445a['isCorrect']))['length'],_0x501cea=_0x1718f8===_0x524248,_0x29ce07=_0x501cea?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':'p-2\x20bg-black/10\x20rounded-md';return _0x5d1791(0xb5)+_0x29ce07+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x1718f8+0x1)+_0x5d1791(0x4ac)+_0x2959d0+_0x5d1791(0x73f)+_0x39aeab+_0x5d1791(0x6d5);})[_0x1a9bc1(0x7d)]('');let _0x3863b7='',_0x917b0b='';if(_0x5e3195){const _0x223322=_0xb42734[_0x1a9bc1(0xd7)]>=_0x55c139[_0x1a9bc1(0x38d)]-0x1;_0x3863b7=_0x1a9bc1(0x4ff)+(_0x223322?_0x1a9bc1(0x7b6):_0x1a9bc1(0x468))+_0x1a9bc1(0x654),_0x917b0b=_0x1a9bc1(0x7db);}const _0x475a8c=_0x1a9bc1(0x492)+_0xb42734[_0x1a9bc1(0x189)][_0x1a9bc1(0x7d5)]+_0x1a9bc1(0x60b)+_0x917b0b+_0x1a9bc1(0x760)+_0x5cf475+_0x1a9bc1(0x31c)+(_0x2ad5ea||_0x1a9bc1(0x6f))+_0x1a9bc1(0x391)+_0x2c570e+_0x1a9bc1(0x4b4)+(_0x5e3195?_0x1a9bc1(0x5d6)+_0x3863b7+_0x1a9bc1(0x9ab):'')+_0x1a9bc1(0x6c4);liveGameView[_0x1a9bc1(0x297)]=_0x475a8c;if(window[_0x1a9bc1(0x107)]){const _0x1e007b=document[_0x1a9bc1(0x11a)](_0x1a9bc1(0x483));_0x1e007b&&MathJax[_0x1a9bc1(0x4a4)]([_0x1e007b]);}if(_0x5e3195){document[_0x1a9bc1(0x11a)](_0x1a9bc1(0x314))[_0x1a9bc1(0x5f6)]=async()=>{const _0x518036=_0x1a9bc1,_0x1ab209=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0xd1f4bc=_0xb42734[_0x518036(0xd7)]+0x1;if(_0xd1f4bc<_0x55c139[_0x518036(0x38d)]){const _0x46cf20={};Object[_0x518036(0x58f)](_0xb42734[_0x518036(0x924)])[_0x518036(0x40a)](_0x3b60c6=>{const _0xe5fb9=_0x518036;_0x46cf20[_0xe5fb9(0x3d9)+_0x3b60c6+_0xe5fb9(0x807)]=![],_0x46cf20[_0xe5fb9(0x3d9)+_0x3b60c6+_0xe5fb9(0x9b4)]=null;}),await updateDoc(_0x1ab209,{..._0x46cf20,'status':_0x518036(0x67e),'currentQuestionIndex':_0xd1f4bc,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x1ab209,{'status':_0x518036(0x247)});};const _0x1571aa=document[_0x1a9bc1(0x11a)](_0x1a9bc1(0x550));_0x1571aa&&(_0x1571aa[_0x1a9bc1(0x5f6)]=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x458cc6=_0x5620,_0x55c928=doc(db,'artifacts/'+appId+_0x458cc6(0x79a),currentLiveGameId);await updateDoc(_0x55c928,{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0x33c307){const _0x46ff33=_0x335401;switchProjectTab('manage');const _0x10d8bd=document[_0x46ff33(0x11a)](_0x46ff33(0x2a3)),_0x12ed38=document[_0x46ff33(0x11a)](_0x46ff33(0x779)),_0x142cce=document[_0x46ff33(0x11a)](_0x46ff33(0x290));document[_0x46ff33(0x11a)](_0x46ff33(0x147))['classList'][_0x46ff33(0x57c)](_0x46ff33(0x6f8)),_0x142cce['innerHTML']='',_0x10d8bd[_0x46ff33(0x8f)][_0x46ff33(0x57c)](_0x46ff33(0x6f8)),_0x12ed38[_0x46ff33(0x9a9)]='กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x33c307[_0x46ff33(0x7d5)]+_0x46ff33(0x122);try{const _0x37af43=_0x33c307[_0x46ff33(0x4e3)][_0x46ff33(0x4eb)]((_0x21033d,_0x3074d3)=>{const _0x100bd0=_0x46ff33;let _0xe36016=_0x3074d3+0x1+'.\x20'+(_0x21033d[_0x100bd0(0x7f3)]||_0x21033d[_0x100bd0(0x99e)])+'\x0a';if(_0x21033d[_0x100bd0(0x5b2)])_0xe36016+=_0x21033d[_0x100bd0(0x5b2)][_0x100bd0(0x4eb)]((_0x142541,_0x35fca6)=>_0x100bd0(0x126)+(_0x35fca6===_0x21033d['correctAnswerIndex']?_0x100bd0(0x61f):'')+'\x20'+_0x142541)[_0x100bd0(0x7d)]('\x0a');else _0x21033d[_0x100bd0(0x4a8)]&&(_0xe36016+=_0x100bd0(0xf4)+_0x21033d['idealAnswer']);return _0xe36016;})['join']('\x0a\x0a');_0x12ed38[_0x46ff33(0x9a9)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0xa1aee7=_0x33c307[_0x46ff33(0x4e3)][_0x46ff33(0x38d)],_0x5e1c3b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษาที่มีความแม่นยำสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20นี่คือแบบทดสอบต้นฉบับในหัวข้อ\x20\x22'+_0x33c307[_0x46ff33(0x7d5)]+'\x22\x20ซึ่งมีทั้งหมด\x20'+_0xa1aee7+'\x20ข้อ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x37af43+_0x46ff33(0x81b)+_0xa1aee7+_0x46ff33(0x2e5)+simpleMathPrompt+_0x46ff33(0x692),_0x2376d7={'type':_0x46ff33(0x4cb),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x46ff33(0x517),'enum':[_0x46ff33(0x847),_0x46ff33(0x787),'true_false',_0x46ff33(0x524)]},'options':{'type':_0x46ff33(0x401),'items':{'type':_0x46ff33(0x517)}},'correctAnswerIndex':{'type':_0x46ff33(0x575)},'idealAnswer':{'type':_0x46ff33(0x517)},'correctAnswer':{'type':_0x46ff33(0x7a7)},'stem':{'type':_0x46ff33(0x517)},'correctResponse':{'type':_0x46ff33(0x517)},'allResponses':{'type':_0x46ff33(0x401),'items':{'type':_0x46ff33(0x517)}},'explanation':{'type':_0x46ff33(0x517)},'imageCode':{'type':_0x46ff33(0x517)}},'required':[_0x46ff33(0x7f3),_0x46ff33(0x23d),_0x46ff33(0x199)]},_0x28052={'type':'OBJECT','properties':{'topic':{'type':_0x46ff33(0x517)},'questions':{'type':'ARRAY','items':_0x2376d7}},'required':[_0x46ff33(0x7d5),_0x46ff33(0x4e3)]},_0x1af280=await callAnalysisApi(_0x5e1c3b,_0x28052);_0x1af280[_0x46ff33(0x4e3)][_0x46ff33(0x38d)]>_0xa1aee7&&(_0x1af280[_0x46ff33(0x4e3)]=_0x1af280[_0x46ff33(0x4e3)]['slice'](0x0,_0xa1aee7)),_0x1af280[_0x46ff33(0x7d5)]='(คู่ขนาน)\x20'+_0x33c307[_0x46ff33(0x7d5)],_0x1af280[_0x46ff33(0x7a1)]=_0x33c307['quizType'],currentQuizData=_0x1af280,displayGeneratedQuiz(_0x1af280),document[_0x46ff33(0x11a)](_0x46ff33(0x648))[_0x46ff33(0x89a)]({'behavior':'smooth'});}catch(_0x317694){console['error'](_0x46ff33(0x8cc),_0x317694),showMessage(_0x46ff33(0x9b0)+_0x317694['message']),_0x142cce[_0x46ff33(0x297)]=_0x46ff33(0x282);}finally{_0x10d8bd[_0x46ff33(0x8f)][_0x46ff33(0x85b)](_0x46ff33(0x6f8));}}async function handleGenerateParallelPostTest(_0x42d8af){const _0x37c743=_0x335401,_0x5b7121=document[_0x37c743(0x11a)](_0x37c743(0x205)),_0x27c9d1=document['getElementById'](_0x37c743(0x3d8));_0x27c9d1['classList'][_0x37c743(0x85b)](_0x37c743(0x6f8));const _0x5afb2d=_0x37c743(0x4df);_0x5b7121[_0x37c743(0x32b)](_0x37c743(0x8ac),_0x5afb2d);try{const _0x14f5ec=_0x42d8af[_0x37c743(0x4e3)][_0x37c743(0x4eb)]((_0x10582b,_0x38725c)=>{const _0x14f650=_0x37c743;let _0x58071a=_0x38725c+0x1+'.\x20'+(_0x10582b[_0x14f650(0x7f3)]||_0x10582b[_0x14f650(0x99e)]);if(_0x10582b[_0x14f650(0x5b2)])_0x58071a+=_0x14f650(0x4c8)+_0x10582b[_0x14f650(0x5b2)][_0x14f650(0x7d)](',\x20');return _0x58071a;})[_0x37c743(0x7d)]('\x0a\x0a'),_0x264054=_0x37c743(0x18b)+_0x42d8af[_0x37c743(0x7d5)]+_0x37c743(0x6c1)+_0x14f5ec+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x37c743(0x692),_0x169ae0={'type':_0x37c743(0x4cb),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x37c743(0x401),'items':{'type':_0x37c743(0x4cb),'properties':{'questionText':{'type':_0x37c743(0x517)},'questionType':{'type':'STRING'},'options':{'type':_0x37c743(0x401),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x37c743(0x575)},'idealAnswer':{'type':_0x37c743(0x517)},'explanation':{'type':_0x37c743(0x517)}},'required':[_0x37c743(0x7f3),'explanation']}}},'required':[_0x37c743(0x7d5),'questions']},_0x1b9d05=await callAnalysisApi(_0x264054,_0x169ae0),_0x15ad9c=_0x42d8af[_0x37c743(0x7d5)][_0x37c743(0x86e)]('(ก่อนเรียน)','')[_0x37c743(0xa5)](),_0x2ce3cf=_0x37c743(0x1ee)+_0x15ad9c,_0x2ab964={..._0x1b9d05,'topic':_0x2ce3cf,'quizType':_0x42d8af[_0x37c743(0x7a1)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x37c743(0x910)](),'status':_0x37c743(0x8eb),'settings':_0x42d8af[_0x37c743(0x7f5)],'quizMode':_0x37c743(0x61e),'pairedQuizId':_0x42d8af['id']};let _0x7a3bfd;while(!![]){_0x7a3bfd=Math[_0x37c743(0x72)](0x3e8+Math['random']()*0x2328)['toString']();const _0x255724=await getDoc(doc(db,'artifacts/'+appId+_0x37c743(0x5e5),_0x7a3bfd));if(!_0x255724[_0x37c743(0x91b)]())break;}await setDoc(doc(db,_0x37c743(0x82)+appId+_0x37c743(0x5e5),_0x7a3bfd),_0x2ab964);const _0x4edac2=doc(db,_0x37c743(0x82)+appId+_0x37c743(0x5e5),_0x42d8af['id']);await updateDoc(_0x4edac2,{'pairedQuizId':_0x7a3bfd}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x4ad041){console['error'](_0x37c743(0x7b2),_0x4ad041),showMessage(_0x37c743(0x9b0)+_0x4ad041['message']);}finally{const _0x124750=document[_0x37c743(0x11a)](_0x37c743(0x6f4));if(_0x124750)_0x124750[_0x37c743(0x57c)]();_0x27c9d1[_0x37c743(0x8f)][_0x37c743(0x57c)](_0x37c743(0x6f8));}}async function handleGenerateParallelTest(){const _0x1b2c7c=_0x335401,_0x595f0f=document[_0x1b2c7c(0x11a)]('parallel-test-upload-input'),_0x3cfd8a=_0x595f0f[_0x1b2c7c(0x4f1)][0x0];if(!_0x3cfd8a){showMessage(_0x1b2c7c(0xcb));return;}const _0x576d60=document[_0x1b2c7c(0x11a)](_0x1b2c7c(0x2a3)),_0x6a83cd=document['getElementById'](_0x1b2c7c(0x779)),_0x25fef9=document[_0x1b2c7c(0x11a)]('generated-quiz-container'),_0x4a35bc=document[_0x1b2c7c(0x11a)](_0x1b2c7c(0x5b4));_0x4a35bc[_0x1b2c7c(0x53e)]=!![],document[_0x1b2c7c(0x11a)](_0x1b2c7c(0x147))[_0x1b2c7c(0x8f)]['remove'](_0x1b2c7c(0x6f8)),_0x25fef9[_0x1b2c7c(0x297)]='',_0x576d60[_0x1b2c7c(0x8f)][_0x1b2c7c(0x57c)]('hidden'),_0x6a83cd['textContent']=_0x1b2c7c(0x3ac);try{const _0x1dbb35=await extractTextFromPdf(_0x3cfd8a);if(!_0x1dbb35['trim']())throw new Error(_0x1b2c7c(0x966));_0x6a83cd[_0x1b2c7c(0x9a9)]=_0x1b2c7c(0x5be);const _0x21528e=document[_0x1b2c7c(0x11a)](_0x1b2c7c(0x678))[_0x1b2c7c(0x68b)],_0x27043e=_0x21528e?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x3f44dd=_0x1b2c7c(0x4c1)+_0x1dbb35+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x27043e+_0x1b2c7c(0x98c)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x9f0a7e={'type':_0x1b2c7c(0x4cb),'properties':{'questionText':{'type':_0x1b2c7c(0x517)},'questionType':{'type':_0x1b2c7c(0x517),'enum':[_0x1b2c7c(0x847),_0x1b2c7c(0x787)]},'options':{'type':_0x1b2c7c(0x401),'items':{'type':_0x1b2c7c(0x517)}},'correctAnswerIndex':{'type':_0x1b2c7c(0x575)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x1b2c7c(0x517)},'imageCode':{'type':_0x1b2c7c(0x517)}},'required':[_0x1b2c7c(0x7f3),_0x1b2c7c(0x23d),'explanation']},_0x261ec6={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x1b2c7c(0x401),'items':_0x9f0a7e}},'required':[_0x1b2c7c(0x7d5),_0x1b2c7c(0x4e3)]};await handleApiCall(_0x3f44dd,_0x1b2c7c(0x486),_0x261ec6);}catch(_0x21120d){console[_0x1b2c7c(0x529)](_0x1b2c7c(0x7cc),_0x21120d),showMessage('เกิดข้อผิดพลาด:\x20'+_0x21120d[_0x1b2c7c(0x2da)]),_0x25fef9[_0x1b2c7c(0x297)]=_0x1b2c7c(0x282);}finally{_0x576d60[_0x1b2c7c(0x8f)][_0x1b2c7c(0x85b)](_0x1b2c7c(0x6f8)),_0x4a35bc[_0x1b2c7c(0x53e)]=![];}}async function handleRegenerateQuestionInEditor(_0x59fcdb){const _0xf8d41=_0x335401;if(currentEditingQuizData===null)return;const _0x22cedd=document[_0xf8d41(0x341)](_0xf8d41(0xbb)+_0x59fcdb+'\x22]');_0x22cedd&&(_0x22cedd[_0xf8d41(0x297)]=_0xf8d41(0x78c));const _0x2efad0=currentEditingQuizData[_0xf8d41(0x4e3)][_0x59fcdb],_0x3e084e=currentEditingQuizData['topic'],_0x569d30=_0x2efad0[_0xf8d41(0x23d)],_0x248876={'type':_0xf8d41(0x4cb),'properties':{'questionText':{'type':_0xf8d41(0x517)},'options':{'type':_0xf8d41(0x401),'items':{'type':_0xf8d41(0x517)}},'correctAnswerIndex':{'type':_0xf8d41(0x575)},'explanation':{'type':_0xf8d41(0x517)}},'required':[_0xf8d41(0x7f3),'options',_0xf8d41(0x801),_0xf8d41(0x199)]},_0x12f020={'type':_0xf8d41(0x4cb),'properties':{'questionText':{'type':_0xf8d41(0x517)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0xf8d41(0x517)}},'required':['questionText',_0xf8d41(0x4a8),_0xf8d41(0x199)]};let _0x11ddd1,_0x4d1229='';_0x569d30===_0xf8d41(0x847)?(_0x11ddd1=_0x248876,_0x4d1229=_0xf8d41(0xb8)):(_0x11ddd1=_0x12f020,_0x4d1229=_0xf8d41(0x9be));const _0x4f08c7=_0xf8d41(0x21f)+_0x3e084e+_0xf8d41(0x155)+_0x4d1229+_0xf8d41(0x356)+(_0x2efad0[_0xf8d41(0x7f3)]||_0x2efad0[_0xf8d41(0x99e)])+'\x22.\x20'+simpleMathPrompt;try{const _0x3e54ec=await callAnalysisApi(_0x4f08c7,_0x11ddd1);currentEditingQuizData[_0xf8d41(0x4e3)][_0x59fcdb]={..._0x2efad0,..._0x3e54ec},renderQuizEditor(currentEditingQuizData);}catch(_0x55356b){console[_0xf8d41(0x529)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x55356b),showMessage(_0xf8d41(0x85a)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x181998=_0x335401,_0x1b160a=document[_0x181998(0x11a)](_0x181998(0x9b2));currentMode===_0x181998(0x4e4)?(adminPasswordModal[_0x181998(0x8f)][_0x181998(0x57c)](_0x181998(0x6f8)),document['getElementById']('admin-password-input')[_0x181998(0x447)]()):(currentMode=_0x181998(0x4e4),_0x1b160a[_0x181998(0x297)]=_0x181998(0x6e3),_0x1b160a[_0x181998(0x1d7)]=_0x181998(0x572),showView('student'));}function handleAdminLogin(){const _0x5c5948=_0x335401,_0x336624=document[_0x5c5948(0x11a)](_0x5c5948(0x477)),_0x5373c3=document[_0x5c5948(0x11a)](_0x5c5948(0x3dc));if(_0x336624['value']==='27411472'){adminPasswordModal[_0x5c5948(0x8f)]['add'](_0x5c5948(0x6f8)),_0x336624[_0x5c5948(0x5ce)]='',_0x5373c3[_0x5c5948(0x8f)][_0x5c5948(0x85b)]('hidden'),currentMode=_0x5c5948(0x321);const _0x3968a8=document[_0x5c5948(0x11a)](_0x5c5948(0x9b2));_0x3968a8['innerHTML']=_0x5c5948(0x56e),_0x3968a8['title']=_0x5c5948(0x69b),showView('admin-dashboard');}else _0x5373c3[_0x5c5948(0x8f)]['remove'](_0x5c5948(0x6f8)),_0x336624[_0x5c5948(0x5ce)]='';}function switchProjectTab(_0x475ad0){const _0x53bf9a=_0x335401;[_0x53bf9a(0x573),_0x53bf9a(0x32f),_0x53bf9a(0x80d)][_0x53bf9a(0x40a)](_0x5a4021=>{const _0x10413f=_0x53bf9a;document['getElementById'](_0x5a4021+_0x10413f(0xbd))['classList'][_0x10413f(0x57c)]('active'),document[_0x10413f(0x11a)](_0x5a4021+_0x10413f(0x7f0))[_0x10413f(0x8f)][_0x10413f(0x85b)](_0x10413f(0x6f8));}),document[_0x53bf9a(0x11a)](_0x475ad0+_0x53bf9a(0xbd))[_0x53bf9a(0x8f)][_0x53bf9a(0x85b)](_0x53bf9a(0x8eb)),document['getElementById'](_0x475ad0+_0x53bf9a(0x7f0))[_0x53bf9a(0x8f)][_0x53bf9a(0x57c)](_0x53bf9a(0x6f8));}function switchQuizDetailTab(_0xaab9ea){const _0x17b724=_0x335401,_0x2fd008={'analytics':{'btn':'analytics-tab-btn','content':'analytics-tab-content'},'scores':{'btn':_0x17b724(0x545),'content':_0x17b724(0x815)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x17b724(0x34d)},'behavior-log':{'btn':_0x17b724(0x32a),'content':_0x17b724(0x1fc)}};for(const _0x48fc72 in _0x2fd008){document[_0x17b724(0x11a)](_0x2fd008[_0x48fc72]['btn'])[_0x17b724(0x8f)][_0x17b724(0x57c)](_0x17b724(0x8eb)),document[_0x17b724(0x11a)](_0x2fd008[_0x48fc72][_0x17b724(0x3ee)])[_0x17b724(0x8f)][_0x17b724(0x85b)](_0x17b724(0x6f8));}document[_0x17b724(0x11a)](_0x2fd008[_0xaab9ea][_0x17b724(0x875)])[_0x17b724(0x8f)][_0x17b724(0x85b)](_0x17b724(0x8eb)),document[_0x17b724(0x11a)](_0x2fd008[_0xaab9ea]['content'])[_0x17b724(0x8f)][_0x17b724(0x57c)]('hidden');}function showMessage(_0x4004a4,_0xe180ee=null){const _0x5d6d95=_0x335401;modalMessage['textContent']=_0x4004a4,modalConfirmAction=_0xe180ee,messageModal[_0x5d6d95(0x8f)]['remove'](_0x5d6d95(0x6f8));}function showConfirmation(_0x42bf4c,_0x2db6bc){const _0x2b9fea=_0x335401;document[_0x2b9fea(0x11a)]('confirmation-message')['textContent']=_0x42bf4c,document[_0x2b9fea(0x11a)](_0x2b9fea(0x5af))[_0x2b9fea(0x341)]('h3')[_0x2b9fea(0x9a9)]=_0x2b9fea(0x819),confirmAction=_0x2db6bc,confirmationModal['classList'][_0x2b9fea(0x57c)](_0x2b9fea(0x6f8));}function listenForProjects(){const _0x1c1de8=_0x335401,_0x24b911=doc(db,_0x1c1de8(0x7dd),_0x1c1de8(0x946));onSnapshot(_0x24b911,_0xff55ed=>{const _0x40a6aa=_0x1c1de8;if(_0xff55ed['exists']()){const _0x375d4a=_0xff55ed[_0x40a6aa(0x33f)]();globalDashboardSettings[_0x40a6aa(0x994)]=_0x375d4a[_0x40a6aa(0x994)]||_0x40a6aa(0x427),globalDashboardSettings[_0x40a6aa(0x70a)]=_0x375d4a[_0x40a6aa(0x70a)]||[],globalDashboardSettings[_0x40a6aa(0x210)]=_0x375d4a[_0x40a6aa(0x210)]||[];}allProjects['length']>0x0&&renderProjects();});const _0x52d799=collection(db,'artifacts/'+appId+_0x1c1de8(0x8c3));unsubscribeProjectsListener=onSnapshot(_0x52d799,_0x5c94a4=>{const _0x2dbb6a=_0x1c1de8;allProjects=_0x5c94a4[_0x2dbb6a(0x84c)][_0x2dbb6a(0x4eb)](_0xc8aac7=>({'id':_0xc8aac7['id'],..._0xc8aac7[_0x2dbb6a(0x33f)]()})),renderProjects();},_0x2a1874=>{const _0xcacde3=_0x1c1de8;console[_0xcacde3(0x529)](_0xcacde3(0x8d),_0x2a1874),showMessage(_0xcacde3(0x6af));});}function showColorPalette(_0x3c41ac,_0x2f2293){const _0x5a9f24=_0x335401;document[_0x5a9f24(0xf8)](_0x5a9f24(0x935))[_0x5a9f24(0x40a)](_0x374d87=>_0x374d87[_0x5a9f24(0x57c)]());const _0x3b8aa2=[_0x5a9f24(0x47b),'#FEE2E2','#FEF3C7',_0x5a9f24(0x1f0),_0x5a9f24(0x7e6),_0x5a9f24(0x4dd),_0x5a9f24(0x15d),'#FCE7F3',_0x5a9f24(0x72d)],_0x6a4782=document['createElement']('div');_0x6a4782[_0x5a9f24(0x5e8)]=_0x5a9f24(0x99c),_0x3b8aa2[_0x5a9f24(0x40a)](_0xb00178=>{const _0x207998=_0x5a9f24,_0x1fc3f9=document[_0x207998(0x268)](_0x207998(0x211));_0x1fc3f9[_0x207998(0x5e8)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x1fc3f9[_0x207998(0x149)]['backgroundColor']=_0xb00178,_0x1fc3f9[_0x207998(0x1e2)]('click',()=>{handleProjectColorChange(_0x2f2293,_0xb00178),_0x6a4782['remove']();}),_0x6a4782['appendChild'](_0x1fc3f9);}),document[_0x5a9f24(0x24d)][_0x5a9f24(0x3a6)](_0x6a4782);const _0x44033f=_0x3c41ac[_0x5a9f24(0x13f)]();_0x6a4782[_0x5a9f24(0x149)][_0x5a9f24(0x4d9)]=_0x44033f['bottom']+window[_0x5a9f24(0x312)]+'px',_0x6a4782[_0x5a9f24(0x149)][_0x5a9f24(0x80c)]=_0x44033f['left']+window[_0x5a9f24(0x428)]-_0x6a4782[_0x5a9f24(0x88)]/0x2+'px';}async function handleProjectColorChange(_0x19acaa,_0x358354){const _0x2183fe=_0x335401,_0x2710ec=doc(db,_0x2183fe(0x82)+appId+_0x2183fe(0x8c3),_0x19acaa);try{await updateDoc(_0x2710ec,{'color':_0x358354});}catch(_0x5c648b){console['error'](_0x2183fe(0x17e),_0x5c648b),showMessage(_0x2183fe(0x58d));}}async function renderProjects(){const _0x56c5af=_0x335401,_0x514c13=globalDashboardSettings[_0x56c5af(0x994)]||'date_desc',_0x394a88=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x213ff7=globalDashboardSettings[_0x56c5af(0x87f)]||'grid',_0x20240c=document[_0x56c5af(0x11a)](_0x56c5af(0x301)),_0x1eb39a=document[_0x56c5af(0x11a)](_0x56c5af(0x400));_0x20240c[_0x56c5af(0x8f)][_0x56c5af(0x995)](_0x56c5af(0x8eb),_0x213ff7===_0x56c5af(0x57a)),_0x1eb39a[_0x56c5af(0x8f)][_0x56c5af(0x995)](_0x56c5af(0x8eb),_0x213ff7==='list'),document[_0x56c5af(0x11a)](_0x56c5af(0x8a1))[_0x56c5af(0x5ce)]=_0x514c13;const _0x5c4dbb=document[_0x56c5af(0x11a)](_0x56c5af(0x83c))[_0x56c5af(0x5ce)][_0x56c5af(0x5f2)]();let _0x542b10=allProjects[_0x56c5af(0x84b)](_0x513887=>_0x513887[_0x56c5af(0x8b2)][_0x56c5af(0x5f2)]()[_0x56c5af(0x655)](_0x5c4dbb));const _0x224396=_0x542b10[_0x56c5af(0x84b)](_0x2993c0=>_0x394a88[_0x56c5af(0x6d2)](_0x2993c0['id'])),_0x37aac5=_0x542b10['filter'](_0x49f6ad=>!_0x394a88[_0x56c5af(0x6d2)](_0x49f6ad['id'])),_0x179846=(_0x5d6757,_0x397dbf)=>{const _0xc72bdf=_0x56c5af;switch(_0x514c13){case _0xc72bdf(0x613):return _0x5d6757[_0xc72bdf(0x8b2)]['localeCompare'](_0x397dbf['projectName'],'th');case _0xc72bdf(0x4c9):return _0x397dbf[_0xc72bdf(0x8b2)][_0xc72bdf(0x339)](_0x5d6757['projectName'],'th');case _0xc72bdf(0x97):return new Date(_0x5d6757['createdAt'])-new Date(_0x397dbf['createdAt']);default:return new Date(_0x397dbf['createdAt'])-new Date(_0x5d6757[_0xc72bdf(0x971)]);}};_0x224396[_0x56c5af(0x6df)](_0x179846),_0x37aac5[_0x56c5af(0x6df)](_0x179846);const _0x203b9d=[..._0x224396,..._0x37aac5],_0x4923bf=globalDashboardSettings[_0x56c5af(0x210)]||[];_0x4923bf[_0x56c5af(0x38d)]>0x0&&_0x213ff7===_0x56c5af(0x57a)&&_0x203b9d[_0x56c5af(0x6df)]((_0x3bbc2f,_0x177b9f)=>{const _0x11c4b6=_0x56c5af,_0x54e6f4=_0x4923bf[_0x11c4b6(0x989)](_0x3bbc2f['id']),_0x505b94=_0x4923bf[_0x11c4b6(0x989)](_0x177b9f['id']);if(_0x54e6f4===-0x1)return 0x1;if(_0x505b94===-0x1)return-0x1;return _0x54e6f4-_0x505b94;});const _0x4c19b7={};await Promise[_0x56c5af(0x465)](_0x203b9d[_0x56c5af(0x4eb)](async _0x5b1205=>{const _0x5943a4=_0x56c5af,_0x56aed7=query(collection(db,_0x5943a4(0x82)+appId+_0x5943a4(0x5e5)),where(_0x5943a4(0x4b5),'==',_0x5b1205['id'])),_0x2b8036=await getDocs(_0x56aed7);_0x4c19b7[_0x5b1205['id']]=_0x2b8036['size'];}));const _0x8856fc=document[_0x56c5af(0x11a)](_0x56c5af(0x828));let _0xd684ff='';if(_0x213ff7===_0x56c5af(0x57a)){_0x8856fc[_0x56c5af(0x5e8)]=_0x56c5af(0x2b7);if(starredQuizzes[_0x56c5af(0x38d)]>0x0&&_0x5c4dbb===''){const _0x44200d=starredQuizzes['map'](_0x2f0580=>{const _0x7b843f=_0x56c5af,_0x4cfb64=allProjects['find'](_0x19b78a=>_0x19b78a['id']===_0x2f0580[_0x7b843f(0x4b5)]);return{..._0x2f0580,'projectName':_0x4cfb64?_0x4cfb64[_0x7b843f(0x8b2)]:_0x7b843f(0x500)};});_0xd684ff+=_0x56c5af(0x867)+_0x44200d[_0x56c5af(0x4eb)](_0x357d32=>_0x56c5af(0x845)+_0x357d32[_0x56c5af(0x7d5)]+'\x22>'+_0x357d32['topic']+_0x56c5af(0x5d0)+_0x357d32[_0x56c5af(0x8b2)]+'\x22>จาก:\x20'+_0x357d32['projectName']+_0x56c5af(0x8e8))[_0x56c5af(0x7d)]('')+_0x56c5af(0x6e4)+starredQuizzes[_0x56c5af(0x38d)]+_0x56c5af(0x2cf);}_0x203b9d[_0x56c5af(0x40a)](_0x482b0f=>{const _0x5b571e=_0x56c5af,_0x407dfc=_0x4c19b7[_0x482b0f['id']]??0x0,_0x5d9544=_0x394a88[_0x5b571e(0x6d2)](_0x482b0f['id']),_0x5659da=_0x482b0f[_0x5b571e(0x9c6)]||_0x5b571e(0x47b),_0x5e68c3=parseInt(_0x5659da[_0x5b571e(0x918)](0x1,0x3),0x10)*0.299+parseInt(_0x5659da[_0x5b571e(0x918)](0x3,0x5),0x10)*0.587+parseInt(_0x5659da['substring'](0x5,0x7),0x10)*0.114<0xba,_0x2fc86d=_0x5e68c3?_0x5b571e(0x4f7):'text-indigo-800',_0xf6c788=_0x5e68c3?_0x5b571e(0xac):_0x5b571e(0x9d0);_0xd684ff+=_0x5b571e(0x7fd)+(_0x5d9544?_0x5b571e(0x904):_0x5b571e(0x5fd))+_0x5b571e(0x65f)+_0x5659da+_0x5b571e(0x84)+_0x482b0f['id']+_0x5b571e(0xdb)+_0x482b0f['id']+_0x5b571e(0x1d1)+(_0x5e68c3?_0x5b571e(0xbc):_0x5b571e(0x622))+_0x5b571e(0x7b)+_0x482b0f['id']+_0x5b571e(0x70b)+(_0x5e68c3?_0x5b571e(0xbc):'text-gray-400\x20hover:text-indigo-600')+_0x5b571e(0xf2)+(_0x5d9544?_0x5e68c3?_0x5b571e(0x5b8):_0x5b571e(0x4b3):'')+_0x5b571e(0x185)+_0x482b0f['id']+_0x5b571e(0x643)+_0x2fc86d+'\x20pointer-events-none\x22>'+_0x482b0f['projectName']+_0x5b571e(0x86)+_0xf6c788+_0x5b571e(0x933)+new Date(_0x482b0f['createdAt'])[_0x5b571e(0x2d3)]('th-TH')+_0x5b571e(0x2b1)+(_0x5e68c3?_0x5b571e(0x253):_0x5b571e(0x467))+_0x5b571e(0x690)+_0x407dfc+_0x5b571e(0x942)+_0x482b0f['id']+_0x5b571e(0x388)+_0x482b0f[_0x5b571e(0x8b2)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x5e68c3?_0x5b571e(0x94b):_0x5b571e(0x134))+_0x5b571e(0x2fe);});}else _0x8856fc[_0x56c5af(0x5e8)]=_0x56c5af(0x3bd),starredQuizzes['length']>0x0&&_0x5c4dbb===''&&(_0xd684ff+=_0x56c5af(0x3a0)+starredQuizzes[_0x56c5af(0x38d)]+_0x56c5af(0x6ee)),_0xd684ff+=_0x56c5af(0x733),_0x203b9d[_0x56c5af(0x40a)](_0x144971=>{const _0x1e5a65=_0x56c5af,_0x118547=_0x4c19b7[_0x144971['id']]??0x0,_0x338f36=_0x394a88[_0x1e5a65(0x6d2)](_0x144971['id']);_0xd684ff+=_0x1e5a65(0x633)+(_0x144971[_0x1e5a65(0x9c6)]||_0x1e5a65(0x72d))+_0x1e5a65(0x5db)+_0x144971['id']+_0x1e5a65(0x3fe)+_0x144971[_0x1e5a65(0x8b2)]+_0x1e5a65(0x556)+_0x118547+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x144971['createdAt'])[_0x1e5a65(0xbe)](_0x1e5a65(0x5f1))+_0x1e5a65(0x200)+_0x144971['id']+_0x1e5a65(0x39c)+(_0x338f36?_0x1e5a65(0x4b3):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x144971['id']+_0x1e5a65(0x388)+_0x144971[_0x1e5a65(0x8b2)]+_0x1e5a65(0x9bc);});projectList[_0x56c5af(0x297)]=_0xd684ff,noProjectsMsg[_0x56c5af(0x8f)]['toggle'](_0x56c5af(0x6f8),_0xd684ff[_0x56c5af(0x38d)]>0x0);}document[_0x335401(0x11a)](_0x335401(0x617))[_0x335401(0x1e2)]('click',async()=>{const _0x2dc101=_0x335401,_0x4e5122=document['getElementById'](_0x2dc101(0x4ef)),_0x3f7cfa=_0x4e5122['value'][_0x2dc101(0xa5)]();if(!_0x3f7cfa){showMessage(_0x2dc101(0x8b4));return;}try{const _0x2fe0e7=doc(collection(db,_0x2dc101(0x82)+appId+_0x2dc101(0x8c3)));await setDoc(_0x2fe0e7,{'projectName':_0x3f7cfa,'students':[],'settings':{'resultsDisplay':_0x2dc101(0x245),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x2dc101(0x79d),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x2dc101(0x910)]()}),_0x4e5122['value']='',createProjectModal[_0x2dc101(0x8f)]['add']('hidden'),showMessage(_0x2dc101(0x17d));}catch(_0xb24146){console['error'](_0x2dc101(0x7e7),_0xb24146),showMessage(_0x2dc101(0x735));}}),projectList[_0x335401(0x1e2)](_0x335401(0x91d),async _0x4b02b3=>{const _0x1910f1=_0x335401,_0x4d8854=_0x4b02b3['target'][_0x1910f1(0x583)](_0x1910f1(0x7ab)),_0x1abfff=_0x4b02b3['target'][_0x1910f1(0x583)]('.delete-project-btn'),_0x297264=_0x4b02b3[_0x1910f1(0x5c6)][_0x1910f1(0x583)]('.pin-project-btn'),_0xc1d3ac=_0x4b02b3[_0x1910f1(0x5c6)]['closest']('.color-palette-btn');if(_0x297264){const _0x5d92c2=_0x297264['dataset']['id'],_0x3e1d57=doc(db,_0x1910f1(0x7dd),_0x1910f1(0x946)),_0x581525=globalDashboardSettings[_0x1910f1(0x70a)];let _0x39ec6f;_0x581525[_0x1910f1(0x655)](_0x5d92c2)?_0x39ec6f=_0x581525[_0x1910f1(0x84b)](_0x5dcdb4=>_0x5dcdb4!==_0x5d92c2):_0x39ec6f=[..._0x581525,_0x5d92c2];try{await setDoc(_0x3e1d57,{'pinnedProjects':_0x39ec6f},{'merge':!![]});}catch(_0x554649){console[_0x1910f1(0x529)](_0x1910f1(0x688),_0x554649),showMessage(_0x1910f1(0x3e7));}}else{if(_0xc1d3ac){const _0x5b9957=_0xc1d3ac[_0x1910f1(0x93d)]['id'];showColorPalette(_0xc1d3ac,_0x5b9957);}else{if(_0x4d8854){const _0x1c6bcd=_0x4d8854[_0x1910f1(0x93d)]['id'];_0x1c6bcd==='starred-project'?showStarredProjectView():(currentProjectId=_0x1c6bcd,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x1abfff){const _0x559128=_0x1abfff[_0x1910f1(0x93d)]['id'],_0x580395=_0x1abfff[_0x1910f1(0x93d)]['name'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x580395+_0x1910f1(0x911),()=>handleDeleteProject(_0x559128));}}}}}),projectList[_0x335401(0x1e2)]('dragstart',_0x4cec25=>{const _0x3d53ee=_0x335401,_0x741d82=_0x4cec25[_0x3d53ee(0x5c6)][_0x3d53ee(0x583)](_0x3d53ee(0x726));_0x741d82&&_0x741d82[_0x3d53ee(0x8f)][_0x3d53ee(0x85b)](_0x3d53ee(0x9a1));}),projectList['addEventListener']('dragend',_0x19af1a=>{const _0x5ac100=_0x335401,_0x36c7a4=_0x19af1a[_0x5ac100(0x5c6)][_0x5ac100(0x583)]('.project-card-container');_0x36c7a4&&_0x36c7a4[_0x5ac100(0x8f)]['remove'](_0x5ac100(0x9a1));}),projectList[_0x335401(0x1e2)](_0x335401(0xc8),_0x406823=>{const _0x36d34a=_0x335401;_0x406823[_0x36d34a(0x784)]();const _0x22aea3=document[_0x36d34a(0x341)](_0x36d34a(0x8aa));if(!_0x22aea3)return;const _0x432357=getDragAfterElement(projectList,_0x406823[_0x36d34a(0x7d8)]);_0x432357==null?projectList['appendChild'](_0x22aea3):projectList[_0x36d34a(0x73a)](_0x22aea3,_0x432357);}),projectList[_0x335401(0x1e2)]('drop',_0x583e04=>{const _0x52b291=_0x335401;_0x583e04[_0x52b291(0x784)]();const _0x2b75a1=[...projectList[_0x52b291(0xf8)](_0x52b291(0x9b6))][_0x52b291(0x4eb)](_0x17f811=>_0x17f811['dataset']['id']);saveProjectOrder(_0x2b75a1);});function _0x5620(_0x5b810e,_0x3dc9fb){const _0x1f441f=_0x1f44();return _0x5620=function(_0x562055,_0x2ce851){_0x562055=_0x562055-0x6e;let _0x1cfdff=_0x1f441f[_0x562055];return _0x1cfdff;},_0x5620(_0x5b810e,_0x3dc9fb);}function renderBehaviorLog(_0x531627){const _0x459f86=_0x335401,_0x392873=document['getElementById'](_0x459f86(0x7f2));if(!_0x392873)return;const _0x29b035=_0x531627[_0x459f86(0x84b)](_0x54e458=>_0x54e458[_0x459f86(0x121)]&&_0x54e458['behaviorLog']['length']>0x0);if(_0x29b035[_0x459f86(0x38d)]===0x0){_0x392873[_0x459f86(0x297)]=_0x459f86(0x103);return;}let _0x3bd03f='';_0x29b035['forEach'](_0x271b3f=>{const _0x7dba50=_0x459f86;_0x3bd03f+=_0x7dba50(0x238)+_0x271b3f[_0x7dba50(0x700)]+_0x7dba50(0x862),_0x271b3f[_0x7dba50(0x121)][_0x7dba50(0x6df)]((_0x16a34a,_0x4dc0e6)=>new Date(_0x4dc0e6['timestamp'])-new Date(_0x16a34a[_0x7dba50(0x2eb)]))['forEach'](_0x42d60f=>{const _0x595069=_0x7dba50,_0x22b46e=new Date(_0x42d60f[_0x595069(0x2eb)])[_0x595069(0xbe)](_0x595069(0x5f1),{'dateStyle':_0x595069(0x318),'timeStyle':_0x595069(0x24c)});_0x3bd03f+=_0x595069(0xa0)+_0x42d60f[_0x595069(0x80a)]+_0x595069(0x6a6)+_0x22b46e+_0x595069(0x176);}),_0x3bd03f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x392873[_0x459f86(0x297)]=_0x3bd03f;}function getDragAfterElement(_0x5e20d2,_0x9a4e62){const _0xc99156=_0x335401,_0x4e7e95=[..._0x5e20d2['querySelectorAll'](_0xc99156(0x5c4))];return _0x4e7e95[_0xc99156(0xe4)]((_0x1a31c8,_0x4a24c9)=>{const _0x5f1cda=_0xc99156,_0x2f07f8=_0x4a24c9[_0x5f1cda(0x13f)](),_0x52724d=_0x9a4e62-_0x2f07f8['top']-_0x2f07f8[_0x5f1cda(0x8a0)]/0x2;return _0x52724d<0x0&&_0x52724d>_0x1a31c8['offset']?{'offset':_0x52724d,'element':_0x4a24c9}:_0x1a31c8;},{'offset':Number[_0xc99156(0x1c7)]})[_0xc99156(0xc2)];}async function saveProjectOrder(_0x1505b7){const _0xe62ad7=_0x335401,_0x4eb60c=doc(db,_0xe62ad7(0x7dd),_0xe62ad7(0x946));try{await setDoc(_0x4eb60c,{'projectOrder':_0x1505b7},{'merge':!![]});}catch(_0x3f594a){console[_0xe62ad7(0x529)]('Error\x20saving\x20project\x20order:',_0x3f594a),showMessage(_0xe62ad7(0x78));}}async function logBehaviorEvent(_0xd12cfa,_0x5c09a9={}){const _0x1662d4=_0x335401;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x1662d4(0x3fd)](_0x1662d4(0x546));return;}const _0x2a2728=doc(db,_0x1662d4(0x82)+appId+_0x1662d4(0x2d6)+currentQuizData['id']+_0x1662d4(0x212),currentStudentName),_0x2a6e8a={'event':_0xd12cfa,'timestamp':new Date()[_0x1662d4(0x910)](),..._0x5c09a9};try{await updateDoc(_0x2a2728,{'behaviorLog':arrayUnion(_0x2a6e8a)}),console['log'](_0x1662d4(0x35e)+currentStudentName+_0x1662d4(0x526));}catch(_0xdfb21f){_0xdfb21f[_0x1662d4(0x4ee)]===_0x1662d4(0x9cc)?console[_0x1662d4(0x3fd)](_0x1662d4(0x496)+currentStudentName+_0x1662d4(0x80f)):console[_0x1662d4(0x529)](_0x1662d4(0x179),_0xdfb21f);}}function calculateMeanAndStdDev(_0x56d507){const _0x574b71=_0x335401;if(_0x56d507[_0x574b71(0x38d)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x4f3f22=_0x56d507[_0x574b71(0xe4)]((_0xc74616,_0x1222e0)=>_0xc74616+_0x1222e0,0x0)/_0x56d507[_0x574b71(0x38d)];if(_0x56d507[_0x574b71(0x38d)]===0x1)return{'mean':_0x4f3f22,'stdDev':0x0};const _0x198f41=Math[_0x574b71(0x523)](_0x56d507['map'](_0x173329=>Math[_0x574b71(0x263)](_0x173329-_0x4f3f22,0x2))[_0x574b71(0xe4)]((_0x4ae7ed,_0x14aa80)=>_0x4ae7ed+_0x14aa80,0x0)/(_0x56d507[_0x574b71(0x38d)]-0x1));return{'mean':_0x4f3f22,'stdDev':_0x198f41};}function calculateZScore(_0x2aa06c,_0x279bf2,_0x39794d){if(_0x39794d===0x0)return 0x0;return(_0x2aa06c-_0x279bf2)/_0x39794d;}function calculateTScore(_0x38abaf){return 0xa*_0x38abaf+0x32;}function showStarredProjectView(){const _0x1b98e6=_0x335401;currentProjectId=_0x1b98e6(0x568),currentProjectData=null,projectTitle[_0x1b98e6(0x9a9)]=_0x1b98e6(0x109),projectIdDisplay[_0x1b98e6(0x9a9)]='pinned-items',showView(_0x1b98e6(0x495)),manageTab[_0x1b98e6(0x8f)][_0x1b98e6(0x85b)](_0x1b98e6(0x6f8)),leaderboardTab[_0x1b98e6(0x8f)][_0x1b98e6(0x85b)](_0x1b98e6(0x6f8)),switchProjectTab(_0x1b98e6(0x32f)),renderQuizzes();}async function loadProjectDetails(_0x51dfa8){const _0x478780=_0x335401,_0x3741e=doc(db,_0x478780(0x82)+appId+'/public/data/projects',_0x51dfa8),_0x493f67=await getDoc(_0x3741e);if(_0x493f67['exists']()){manageTab[_0x478780(0x8f)]['remove'](_0x478780(0x6f8)),leaderboardTab['classList'][_0x478780(0x57c)](_0x478780(0x6f8)),currentProjectData=_0x493f67['data'](),projectTitle['textContent']=currentProjectData[_0x478780(0x8b2)],projectIdDisplay[_0x478780(0x9a9)]=_0x51dfa8;const _0x1e1673=currentProjectData[_0x478780(0x7f5)]||{};document['getElementById'](_0x478780(0x872))[_0x478780(0x5ce)]=_0x1e1673[_0x478780(0x207)]||_0x478780(0x79d);const _0x3ae7c0=document['getElementById'](_0x478780(0x431));_0x3ae7c0[_0x478780(0x68b)]=_0x1e1673[_0x478780(0x6ed)]!==![];const _0x1d2d01=document['getElementById'](_0x478780(0x634)),_0xeeb0d=document[_0x478780(0x11a)](_0x478780(0x6b9)),_0x28f967=document[_0x478780(0x11a)](_0x478780(0x89f)),_0x3c466c=_0x1e1673[_0x478780(0x863)]||![];_0x1d2d01['checked']=_0x3c466c,_0x28f967['value']=_0x1e1673[_0x478780(0x8b6)]||'',_0xeeb0d[_0x478780(0x8f)][_0x478780(0x995)](_0x478780(0x6f8),!_0x3c466c),_0x1d2d01['onchange']=()=>{const _0x28c9b2=_0x478780;_0xeeb0d[_0x28c9b2(0x8f)]['toggle'](_0x28c9b2(0x6f8),!_0x1d2d01['checked']);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x51dfa8),listenForProjectQuizzes(_0x51dfa8),listenForStudentProfiles(_0x51dfa8);}else showMessage('ไม่พบโปรเจค'),showView(_0x478780(0x631));}async function handleResetProjectOrder(){const _0x5ad421=_0x335401,_0x347c5b=doc(db,_0x5ad421(0x7dd),'dashboardConfig');try{await setDoc(_0x347c5b,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x5ad421(0x858));}catch(_0xf2b1b5){console[_0x5ad421(0x529)](_0x5ad421(0x283),_0xf2b1b5),showMessage(_0x5ad421(0x9a7));}}async function handleTogglePinProject(_0x35d25b){const _0x39b239=_0x335401;if(!_0x35d25b)return;const _0x3ade4e=doc(db,_0x39b239(0x82)+appId+_0x39b239(0x8c3),_0x35d25b);try{const _0x49e94d=await getDoc(_0x3ade4e);if(_0x49e94d['exists']()){const _0xba0a05=_0x49e94d[_0x39b239(0x33f)]()[_0x39b239(0x6ec)]||![];await updateDoc(_0x3ade4e,{'isPinned':!_0xba0a05});}}catch(_0x2f5428){console[_0x39b239(0x529)](_0x39b239(0x385),_0x2f5428),showMessage(_0x39b239(0x3e7));}}async function handleDeleteProject(_0x3b6e2b){const _0x4e164c=_0x335401;try{const _0x12e894=writeBatch(db),_0x554702=collection(db,_0x4e164c(0x82)+appId+_0x4e164c(0x5e5)),_0x1aea62=query(_0x554702,where('projectId','==',_0x3b6e2b)),_0x9c0c53=await getDocs(_0x1aea62);for(const _0x44b891 of _0x9c0c53[_0x4e164c(0x84c)]){const _0x44cb0a=collection(db,_0x4e164c(0x82)+appId+'/public/data/quizzes/'+_0x44b891['id']+_0x4e164c(0x212)),_0x2a6916=await getDocs(_0x44cb0a);_0x2a6916['forEach'](_0xb82816=>{const _0x288300=_0x4e164c;_0x12e894[_0x288300(0x7c5)](_0xb82816[_0x288300(0x46e)]);}),_0x12e894[_0x4e164c(0x7c5)](_0x44b891[_0x4e164c(0x46e)]);}const _0x25eca2=collection(db,_0x4e164c(0x82)+appId+_0x4e164c(0x2ea)+_0x3b6e2b+_0x4e164c(0x694)),_0x11ed65=await getDocs(_0x25eca2);_0x11ed65['forEach'](_0x2355a6=>{const _0x420e57=_0x4e164c;_0x12e894[_0x420e57(0x7c5)](_0x2355a6[_0x420e57(0x46e)]);});const _0x3a6631=doc(db,'artifacts/'+appId+_0x4e164c(0x8c3),_0x3b6e2b);_0x12e894[_0x4e164c(0x7c5)](_0x3a6631),await _0x12e894[_0x4e164c(0x92d)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView('admin-dashboard');}catch(_0x400d4d){console['error'](_0x4e164c(0x12a),_0x400d4d),showMessage(_0x4e164c(0x78a));}}document[_0x335401(0x11a)]('save-settings-btn')[_0x335401(0x1e2)]('click',async()=>{const _0x3bbfa4=_0x335401;if(!currentProjectId)return;const _0xdbd9fc={'defaultNumQuestions':parseInt(document['getElementById']('num-questions')['value']),'defaultNumChoices':parseInt(document[_0x3bbfa4(0x11a)](_0x3bbfa4(0x662))['value']),'defaultPassingScore':parseInt(document[_0x3bbfa4(0x11a)](_0x3bbfa4(0x5c5))[_0x3bbfa4(0x5ce)]),'resultsDisplay':document['getElementById']('results-display-select')[_0x3bbfa4(0x5ce)],'shuffleSetting':document[_0x3bbfa4(0x11a)]('shuffle-setting-select')[_0x3bbfa4(0x5ce)],'timerMode':document[_0x3bbfa4(0x11a)](_0x3bbfa4(0x3e0))['value'],'timerDuration':parseInt(document[_0x3bbfa4(0x11a)](_0x3bbfa4(0x25d))['value'])};try{const _0x3ecf9c=doc(db,_0x3bbfa4(0x82)+appId+_0x3bbfa4(0x8c3),currentProjectId);await updateDoc(_0x3ecf9c,{'settings':_0xdbd9fc}),showMessage(_0x3bbfa4(0xb7));}catch(_0x4e1615){console[_0x3bbfa4(0x529)](_0x3bbfa4(0x771),_0x4e1615),showMessage(_0x3bbfa4(0x440));}});function listenForStudents(_0x2374ef){const _0x8344f9=_0x335401,_0x17b012=doc(db,'artifacts/'+appId+_0x8344f9(0x8c3),_0x2374ef);unsubscribeStudentsListener=onSnapshot(_0x17b012,_0x195275=>{const _0x3ee992=_0x8344f9;if(_0x195275[_0x3ee992(0x91b)]()){const _0x45515b=_0x195275[_0x3ee992(0x33f)]();currentProjectData=_0x45515b,renderStudentList(_0x45515b[_0x3ee992(0x4c6)]||[]);}});}function renderStudentList(_0x3da29c){const _0x3f7a35=_0x335401,_0x5483b3=document['getElementById'](_0x3f7a35(0x9d3));_0x3da29c[_0x3f7a35(0x38d)]===0x0?(studentList['innerHTML']=_0x3f7a35(0x1d9),_0x5483b3[_0x3f7a35(0x8f)][_0x3f7a35(0x85b)](_0x3f7a35(0x6f8))):(studentList['innerHTML']=_0x3da29c[_0x3f7a35(0x4eb)](_0x3a65b4=>_0x3f7a35(0x5e6)+_0x3a65b4+_0x3f7a35(0x48a)+_0x3a65b4+_0x3f7a35(0x308))['join'](''),_0x5483b3['classList'][_0x3f7a35(0x57c)](_0x3f7a35(0x6f8)));}document['getElementById'](_0x335401(0x8f6))[_0x335401(0x1e2)](_0x335401(0x91d),async()=>{const _0x1e206a=_0x335401;if(!currentProjectId)return;const _0x532f15=document[_0x1e206a(0x11a)]('student-name-input'),_0x55df6a=_0x532f15[_0x1e206a(0x5ce)]['trim']();if(!_0x55df6a){showMessage(_0x1e206a(0x196));return;}const _0x5990cd=_0x55df6a[_0x1e206a(0x4a6)]('\x0a')['map'](_0x53019d=>_0x53019d[_0x1e206a(0xa5)]())[_0x1e206a(0x84b)](_0x36aa6a=>_0x36aa6a);if(_0x5990cd[_0x1e206a(0x38d)]===0x0)return;try{const _0x2b01cd=doc(db,_0x1e206a(0x82)+appId+_0x1e206a(0x8c3),currentProjectId),_0x266e0a=await getDoc(_0x2b01cd);if(_0x266e0a[_0x1e206a(0x91b)]()){const _0x2ede35=_0x266e0a['data']()['students']||[],_0xbe50f4=[...new Set([..._0x2ede35,..._0x5990cd])];await updateDoc(_0x2b01cd,{'students':_0xbe50f4}),_0x532f15[_0x1e206a(0x5ce)]='';}}catch(_0x2778bc){console[_0x1e206a(0x529)]('Error\x20adding\x20students:',_0x2778bc),showMessage(_0x1e206a(0x1d2));}});async function handleManualQuizPairing(_0x36468a){const _0x3cc80a=_0x335401,_0x11c000=document[_0x3cc80a(0x11a)]('move-quiz-modal'),_0x45bd6d=document[_0x3cc80a(0x11a)](_0x3cc80a(0x5fb)),_0x38c2c9=_0x11c000[_0x3cc80a(0x341)]('h3'),_0x43cb7b=document[_0x3cc80a(0x11a)](_0x3cc80a(0x5ad)),_0x9731d1=document[_0x3cc80a(0x11a)](_0x3cc80a(0x36f));_0x38c2c9[_0x3cc80a(0x9a9)]=_0x3cc80a(0x3c7),_0x45bd6d[_0x3cc80a(0x297)]=_0x3cc80a(0x306),_0x43cb7b[_0x3cc80a(0x9a9)]=_0x3cc80a(0x5a6),_0x11c000[_0x3cc80a(0x8f)]['remove']('hidden');const _0x500be8=allQuizzes['filter'](_0xda7aea=>_0xda7aea['id']!==_0x36468a);_0x500be8['length']===0x0?(_0x45bd6d[_0x3cc80a(0x297)]=_0x3cc80a(0x1db),_0x43cb7b['disabled']=!![]):(_0x45bd6d[_0x3cc80a(0x297)]=_0x3cc80a(0xce)+_0x500be8[_0x3cc80a(0x4eb)](_0x43b75f=>_0x3cc80a(0x8d0)+_0x43b75f['id']+'\x22>'+_0x43b75f[_0x3cc80a(0x7d5)]+'</option>')[_0x3cc80a(0x7d)](''),_0x43cb7b[_0x3cc80a(0x53e)]=![]);const _0x50d9af=async()=>{const _0x3ea24b=_0x3cc80a,_0xab3bd=_0x45bd6d['value'];if(!_0xab3bd){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x43cb7b[_0x3ea24b(0x53e)]=!![],_0x43cb7b[_0x3ea24b(0x9a9)]=_0x3ea24b(0x3c1);try{const _0x1f649b=doc(db,_0x3ea24b(0x82)+appId+_0x3ea24b(0x5e5),_0x36468a),_0x2d5550=doc(db,_0x3ea24b(0x82)+appId+_0x3ea24b(0x5e5),_0xab3bd),_0x3f3247=writeBatch(db);_0x3f3247[_0x3ea24b(0x3b0)](_0x1f649b,{'pairedQuizId':_0xab3bd}),_0x3f3247[_0x3ea24b(0x3b0)](_0x2d5550,{'pairedQuizId':_0x36468a}),await _0x3f3247[_0x3ea24b(0x92d)](),showMessage(_0x3ea24b(0x41e)),_0x11c000[_0x3ea24b(0x8f)][_0x3ea24b(0x85b)](_0x3ea24b(0x6f8));}catch(_0x4f9d9c){console[_0x3ea24b(0x529)](_0x3ea24b(0x3cd),_0x4f9d9c),showMessage(_0x3ea24b(0x956));}finally{_0x38c2c9[_0x3ea24b(0x9a9)]=_0x3ea24b(0x347),_0x43cb7b[_0x3ea24b(0x9a9)]=_0x3ea24b(0x16d),_0x43cb7b[_0x3ea24b(0x53e)]=![],_0x43cb7b['removeEventListener'](_0x3ea24b(0x91d),_0x50d9af),_0x9731d1[_0x3ea24b(0x2b3)](_0x3ea24b(0x91d),_0x481691);}},_0x481691=()=>{const _0x2f0045=_0x3cc80a;_0x11c000[_0x2f0045(0x8f)][_0x2f0045(0x85b)](_0x2f0045(0x6f8)),_0x38c2c9[_0x2f0045(0x9a9)]=_0x2f0045(0x347),_0x43cb7b['textContent']=_0x2f0045(0x16d),_0x43cb7b[_0x2f0045(0x2b3)](_0x2f0045(0x91d),_0x50d9af),_0x9731d1['removeEventListener']('click',_0x481691);};_0x43cb7b[_0x3cc80a(0x1e2)](_0x3cc80a(0x91d),_0x50d9af),_0x9731d1[_0x3cc80a(0x1e2)](_0x3cc80a(0x91d),_0x481691);}function handleDeleteStudent(_0x3fe42c){const _0x3bd6dc=_0x335401;showConfirmation(_0x3bd6dc(0x7f)+_0x3fe42c+_0x3bd6dc(0x130),async()=>{const _0x5907b4=_0x3bd6dc;if(!currentProjectId||!currentProjectData)return;const _0x5bc8c3=currentProjectData['students'][_0x5907b4(0x84b)](_0x466e50=>_0x466e50!==_0x3fe42c);try{const _0x4a70c2=doc(db,_0x5907b4(0x82)+appId+_0x5907b4(0x8c3),currentProjectId),_0x3c7be0=doc(db,'artifacts/'+appId+_0x5907b4(0x2ea)+currentProjectId+_0x5907b4(0x694),_0x3fe42c),_0x15b4be=writeBatch(db);_0x15b4be[_0x5907b4(0x3b0)](_0x4a70c2,{'students':_0x5bc8c3}),_0x15b4be[_0x5907b4(0x7c5)](_0x3c7be0),await _0x15b4be[_0x5907b4(0x92d)]();}catch(_0x53b54e){console['error']('Error\x20deleting\x20student:',_0x53b54e),showMessage(_0x5907b4(0x6b2));}});}function handleDeleteAllStudents(){const _0x417e44=_0x335401;showConfirmation(_0x417e44(0x829),async()=>{const _0x23517e=_0x417e44;if(!currentProjectId)return;try{const _0x37eba6=doc(db,'artifacts/'+appId+_0x23517e(0x8c3),currentProjectId),_0x358621=collection(db,_0x23517e(0x82)+appId+_0x23517e(0x2ea)+currentProjectId+_0x23517e(0x694)),_0x5bdb1b=await getDocs(_0x358621),_0x592f14=writeBatch(db);_0x592f14[_0x23517e(0x3b0)](_0x37eba6,{'students':[]}),_0x5bdb1b['forEach'](_0x3bda43=>_0x592f14[_0x23517e(0x7c5)](_0x3bda43[_0x23517e(0x46e)])),await _0x592f14[_0x23517e(0x92d)]();}catch(_0x1f4589){console[_0x23517e(0x529)]('Error\x20deleting\x20all\x20students:',_0x1f4589),showMessage(_0x23517e(0x6c5));}});}async function handleGenerateFromFileClick(){const _0x1b7822=_0x335401;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x352874=document[_0x1b7822(0x11a)]('loader'),_0x3086f2=document['getElementById'](_0x1b7822(0x779)),_0x5d18c2=document['getElementById'](_0x1b7822(0x290)),_0x50254e=document[_0x1b7822(0x11a)](_0x1b7822(0x349));_0x50254e[_0x1b7822(0x53e)]=!![],document['getElementById'](_0x1b7822(0x147))[_0x1b7822(0x8f)][_0x1b7822(0x57c)]('hidden'),_0x5d18c2[_0x1b7822(0x297)]='',_0x352874[_0x1b7822(0x8f)][_0x1b7822(0x57c)](_0x1b7822(0x6f8)),_0x3086f2['textContent']=_0x1b7822(0x15a);const _0x37a769=new FileReader();_0x37a769[_0x1b7822(0x1ad)](selectedFile),_0x37a769['onload']=async()=>{const _0x342625=_0x1b7822;try{const _0x39743e=_0x37a769[_0x342625(0x80)][_0x342625(0x4a6)](',')[0x1],_0x4b5c9b=selectedFile['type'];await generateQuizFromFile(_0x4b5c9b,_0x39743e);}catch(_0x142454){console[_0x342625(0x529)]('Error\x20processing\x20file\x20for\x20AI:',_0x142454),showMessage(_0x342625(0x6de)+_0x142454['message']),_0x352874[_0x342625(0x8f)][_0x342625(0x85b)]('hidden');}finally{}},_0x37a769['onerror']=_0x5f4aed=>{const _0x20cd65=_0x1b7822;console[_0x20cd65(0x529)](_0x20cd65(0x35c),_0x5f4aed),showMessage(_0x20cd65(0x491)),_0x352874[_0x20cd65(0x8f)]['add']('hidden'),_0x50254e[_0x20cd65(0x53e)]=![];};}function autoFormatMath(_0x23c5f3){const _0x54e183=_0x335401;if(typeof _0x23c5f3!==_0x54e183(0x8c9)||!_0x23c5f3)return _0x23c5f3;const _0x14f2e6=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x1e15a7=_0x23c5f3[_0x54e183(0x86e)](_0x14f2e6,_0x26f2a8=>{const _0x334f2f=_0x54e183;return'$'+_0x26f2a8[_0x334f2f(0xa5)]()+'$';});return _0x1e15a7;}function sanitizeQuizData(_0x4079d6){const _0xfd8b60=_0x335401;if(!_0x4079d6||!_0x4079d6[_0xfd8b60(0x4e3)])return _0x4079d6;const _0x25b421={'imes':_0xfd8b60(0x80b),'div':_0xfd8b60(0x55f)},_0x324a1d=_0x51d110=>{const _0xddec54=_0xfd8b60;if(typeof _0x51d110!==_0xddec54(0x8c9))return _0x51d110;let _0x2b59a1=_0x51d110;for(const [_0x426658,_0x1f6d17]of Object[_0xddec54(0x3c6)](_0x25b421)){const _0x52f5a9=new RegExp('\x5cb'+_0x426658+'\x5cb','g');_0x2b59a1=_0x2b59a1[_0xddec54(0x86e)](_0x52f5a9,_0x1f6d17);}return _0x2b59a1=_0x2b59a1[_0xddec54(0x86e)](/\\\//g,_0xddec54(0x55f)),_0x2b59a1=_0x2b59a1[_0xddec54(0x86e)](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')[_0xddec54(0x86e)](/<(i|em)>\s*times\s*<\/\1>/gi,_0xddec54(0x80b))['replace'](/÷/g,_0xddec54(0x55f))[_0xddec54(0x86e)](/×/g,_0xddec54(0x80b)),_0x2b59a1=_0x2b59a1[_0xddec54(0x86e)](/(\d)(\\frac)/g,_0xddec54(0x78b)),_0x2b59a1=autoFormatMath(_0x2b59a1),_0x2b59a1;};return _0x4079d6[_0xfd8b60(0x7d5)]&&(_0x4079d6[_0xfd8b60(0x7d5)]=_0x324a1d(_0x4079d6['topic'])),_0x4079d6[_0xfd8b60(0x4e3)][_0xfd8b60(0x40a)](_0x4e3fb6=>{const _0xde8c5a=_0xfd8b60;_0x4e3fb6['questionText']=_0x324a1d(_0x4e3fb6['questionText']),_0x4e3fb6['options']&&(_0x4e3fb6[_0xde8c5a(0x5b2)]=_0x4e3fb6[_0xde8c5a(0x5b2)]['map'](_0x324a1d)),_0x4e3fb6[_0xde8c5a(0x199)]&&(_0x4e3fb6[_0xde8c5a(0x199)]=_0x324a1d(_0x4e3fb6[_0xde8c5a(0x199)])),_0x4e3fb6[_0xde8c5a(0x99e)]&&(_0x4e3fb6[_0xde8c5a(0x99e)]=_0x324a1d(_0x4e3fb6[_0xde8c5a(0x99e)])),_0x4e3fb6[_0xde8c5a(0x441)]&&(_0x4e3fb6[_0xde8c5a(0x441)]=_0x324a1d(_0x4e3fb6[_0xde8c5a(0x441)])),_0x4e3fb6[_0xde8c5a(0x16f)]&&(_0x4e3fb6[_0xde8c5a(0x16f)]=_0x4e3fb6[_0xde8c5a(0x16f)][_0xde8c5a(0x4eb)](_0x324a1d));}),_0x4079d6;}const simpleMathPrompt=_0x335401(0x430);async function handleGenerateFromLink(){const _0x9cd41a=_0x335401,_0x41ecc7=document['getElementById'](_0x9cd41a(0x58e)),_0x44a6f6=document[_0x9cd41a(0x11a)](_0x9cd41a(0x7b1)),_0x1e1858=_0x41ecc7[_0x9cd41a(0x5ce)][_0x9cd41a(0xa5)](),_0x5b9e26=_0x44a6f6[_0x9cd41a(0x5ce)][_0x9cd41a(0xa5)]();if(!_0x1e1858){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x255613=document[_0x9cd41a(0x11a)](_0x9cd41a(0x2a3)),_0x250c85=document['getElementById'](_0x9cd41a(0x779)),_0x192260=document['getElementById'](_0x9cd41a(0x290)),_0x17e414=document['getElementById'](_0x9cd41a(0x48f));document[_0x9cd41a(0x11a)](_0x9cd41a(0x147))[_0x9cd41a(0x8f)][_0x9cd41a(0x57c)](_0x9cd41a(0x6f8)),_0x192260[_0x9cd41a(0x297)]='',_0x255613['classList']['remove'](_0x9cd41a(0x6f8)),_0x250c85['textContent']=_0x9cd41a(0x607),_0x17e414[_0x9cd41a(0x53e)]=!![];try{const _0x5ce985=_0x9cd41a(0x294)+encodeURIComponent(_0x1e1858),_0x536b42=await fetch(_0x5ce985);if(!_0x536b42['ok'])throw new Error(_0x9cd41a(0x571)+_0x536b42[_0x9cd41a(0x83e)]+')');const _0x57d4fa=await _0x536b42['text'](),_0x16b3eb=extractTextFromHtml(_0x57d4fa);if(!_0x16b3eb||_0x16b3eb['length']<0x64)throw new Error(_0x9cd41a(0x47a));await generateQuiz(_0x5b9e26,_0x16b3eb);}catch(_0x238c4e){console[_0x9cd41a(0x529)](_0x9cd41a(0x4d1),_0x238c4e),showMessage(_0x9cd41a(0x9b0)+_0x238c4e[_0x9cd41a(0x2da)]),_0x192260[_0x9cd41a(0x297)]=_0x9cd41a(0x3b7);}finally{_0x255613[_0x9cd41a(0x8f)][_0x9cd41a(0x85b)](_0x9cd41a(0x6f8)),_0x17e414[_0x9cd41a(0x53e)]=![];}}function extractTextFromHtml(_0x387adf){const _0x4db316=_0x335401,_0x5d018a=new DOMParser()[_0x4db316(0x232)](_0x387adf,_0x4db316(0x81c));return _0x5d018a[_0x4db316(0xf8)](_0x4db316(0x158))[_0x4db316(0x40a)](_0x2a2d52=>_0x2a2d52[_0x4db316(0x57c)]()),_0x5d018a[_0x4db316(0x24d)][_0x4db316(0x9a9)]||'';}document[_0x335401(0x11a)](_0x335401(0x2c3))['addEventListener'](_0x335401(0x91d),()=>{const _0x2c4d91=_0x335401,_0x2957ba=document[_0x2c4d91(0x11a)](_0x2c4d91(0x91e))[_0x2c4d91(0x5ce)][_0x2c4d91(0xa5)]();generateQuiz(_0x2957ba,null);}),document['getElementById']('generate-from-text-btn')[_0x335401(0x1e2)](_0x335401(0x91d),()=>{const _0x3b58f4=_0x335401,_0x1fae58=document['getElementById']('text-content-input')['value'][_0x3b58f4(0xa5)]();if(!_0x1fae58){showMessage(_0x3b58f4(0x29a));return;}const _0x5f06c3=document[_0x3b58f4(0x11a)](_0x3b58f4(0x91e))[_0x3b58f4(0x5ce)][_0x3b58f4(0xa5)]();generateQuiz(_0x5f06c3,_0x1fae58);});async function generateQuiz(_0x58dcb4,_0xa23151,_0x23e58f=null){const _0x123f0b=_0x335401,_0xe6c188=document[_0x123f0b(0x11a)](_0x123f0b(0x678))['checked'],_0x3f4090=document[_0x123f0b(0x11a)](_0x123f0b(0x8b9))[_0x123f0b(0x5ce)],_0x176ac4=document[_0x123f0b(0x11a)](_0x123f0b(0x311))[_0x123f0b(0x5ce)],_0x595cbe=document[_0x123f0b(0x11a)](_0x123f0b(0x662))[_0x123f0b(0x5ce)],_0xa82629=document[_0x123f0b(0x11a)](_0x123f0b(0x21b))[_0x123f0b(0x68b)],_0x54d83d=_0xa82629?'':_0x123f0b(0x12f),_0x3819ff=document[_0x123f0b(0x11a)](_0x123f0b(0x943)),_0x28ee3c=_0x3819ff[_0x123f0b(0x5ce)];let _0x2661c9='';_0x28ee3c!==_0x123f0b(0x63f)&&(_0x2661c9='โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x28ee3c+'\x22');const _0x281fff=document[_0x123f0b(0x11a)](_0x123f0b(0x810)),_0x471c05=_0x281fff[_0x123f0b(0x5ce)];let _0x4d2cd0='';_0x471c05!=='mixed'&&(_0x4d2cd0=_0x123f0b(0x2c2)+_0x471c05+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy');const _0x45b2dc=document['querySelectorAll']('#math-topics-checkbox-container\x20input:checked'),_0x1fde38=Array[_0x123f0b(0x50e)](_0x45b2dc)[_0x123f0b(0x4eb)](_0xac3f6=>_0xac3f6[_0x123f0b(0x5ce)]);let _0x2ef54e='';_0x1fde38[_0x123f0b(0x38d)]>0x0&&(_0x2ef54e=_0x123f0b(0x93)+_0x1fde38[_0x123f0b(0x7d)](',\x20')+_0x123f0b(0x96f));let _0x4e5ed0='',_0x246a58='',_0x42a217,_0x53e802=_0x123f0b(0x170)+_0x58dcb4+'\x22';if(!_0x58dcb4&&_0xa23151)_0x53e802=_0x123f0b(0x746);else!_0x58dcb4&&!_0xa23151&&(_0x53e802='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x21a349={'type':_0x123f0b(0x4cb),'properties':{'questionText':{'type':_0x123f0b(0x517)},'options':{'type':_0x123f0b(0x401),'items':{'type':_0x123f0b(0x517)}},'correctAnswerIndex':{'type':_0x123f0b(0x575)},'explanation':{'type':_0x123f0b(0x517)},'imageCode':{'type':'STRING'}},'required':[_0x123f0b(0x7f3),'options',_0x123f0b(0x801),'explanation']},_0x20e8fa={'type':_0x123f0b(0x4cb),'properties':{'questionText':{'type':_0x123f0b(0x517)},'idealAnswer':{'type':_0x123f0b(0x517)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x123f0b(0x7f3),'idealAnswer',_0x123f0b(0x199)]},_0x21a777={'type':'OBJECT','properties':{'questionText':{'type':_0x123f0b(0x517)},'questionType':{'type':_0x123f0b(0x517),'enum':[_0x123f0b(0x847),_0x123f0b(0x787)]},'options':{'type':_0x123f0b(0x401),'items':{'type':_0x123f0b(0x517)}},'correctAnswerIndex':{'type':_0x123f0b(0x575)},'idealAnswer':{'type':_0x123f0b(0x517)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x123f0b(0x517)}},'required':[_0x123f0b(0x7f3),_0x123f0b(0x23d),_0x123f0b(0x199)]},_0x1e8aef={'type':_0x123f0b(0x4cb),'properties':{'questionText':{'type':_0x123f0b(0x517)},'correctAnswer':{'type':_0x123f0b(0x7a7)},'explanation':{'type':_0x123f0b(0x517)},'imageCode':{'type':_0x123f0b(0x517)}},'required':[_0x123f0b(0x7f3),_0x123f0b(0x81),_0x123f0b(0x199)]},_0x215cfa={'type':_0x123f0b(0x4cb),'properties':{'questionType':{'type':_0x123f0b(0x517),'enum':[_0x123f0b(0x524)]},'stem':{'type':_0x123f0b(0x517)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x123f0b(0x401),'items':{'type':_0x123f0b(0x517)}},'explanation':{'type':_0x123f0b(0x517)},'imageCode':{'type':'STRING'}},'required':['questionType','stem',_0x123f0b(0x441),_0x123f0b(0x16f),_0x123f0b(0x199)]};let _0x15072e;if(_0x23e58f!==null){const _0x3a36a4=currentQuizData[_0x123f0b(0x4e3)][_0x23e58f][_0x123f0b(0x23d)],_0x3b78d5=_0xe6c188?_0x123f0b(0x5bb):'';_0x4e5ed0=_0x123f0b(0x653)+_0x53e802+'\x20'+_0x2ef54e+'\x20'+_0x2661c9+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x3b78d5+'\x20'+simpleMathPrompt;if(_0x3a36a4===_0x123f0b(0x847))_0x42a217=_0x21a349;else{if(_0x3a36a4===_0x123f0b(0x524))_0x42a217={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':'STRING'},'correctResponse':{'type':_0x123f0b(0x517)},'explanation':{'type':_0x123f0b(0x517)},'imageCode':{'type':'STRING'}},'required':[_0x123f0b(0x23d),_0x123f0b(0x99e),_0x123f0b(0x441),_0x123f0b(0x199)]};else _0x42a217=_0x20e8fa;}_0x15072e=_0x42a217;}else{const _0x2171a9=_0xe6c188?_0x123f0b(0x13e):'',_0x90dea2='\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20';switch(_0x3f4090){case'multiple_choice':_0x4e5ed0=_0x123f0b(0x75b)+_0x54d83d+'\x20'+_0x176ac4+'\x20ข้อ\x20'+_0x53e802+'\x20'+_0x2ef54e+'\x20'+_0x2661c9+'\x20'+_0x4d2cd0+_0x123f0b(0xe7)+_0x595cbe+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x2171a9+'\x20'+simpleMathPrompt,_0x42a217=_0x21a349;break;case'fill_in_with_choices':_0x4e5ed0='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x54d83d+'\x20'+_0x176ac4+_0x123f0b(0x404)+_0x53e802+'\x20'+_0x2ef54e+'\x20'+_0x2661c9+'\x20'+_0x4d2cd0+_0x123f0b(0x589)+_0x595cbe+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x2171a9+'\x20'+simpleMathPrompt,_0x42a217=_0x21a349;break;case _0x123f0b(0x4fc):_0x4e5ed0=_0x123f0b(0x4f3)+_0x54d83d+'\x20'+_0x176ac4+'\x20ข้อ\x20'+_0x53e802+'\x20'+_0x2ef54e+'\x20'+_0x2661c9+'\x20'+_0x4d2cd0+_0x123f0b(0x46c)+_0x2171a9+'\x20'+simpleMathPrompt,_0x42a217=_0x20e8fa;break;case _0x123f0b(0x386):_0x4e5ed0=_0x123f0b(0x770)+_0x54d83d+'\x20'+_0x176ac4+'\x20ข้อ\x20'+_0x53e802+'\x20'+_0x2ef54e+'\x20'+_0x2661c9+'\x20'+_0x4d2cd0+_0x123f0b(0x4db)+_0x595cbe+_0x123f0b(0x5ba)+_0x2171a9+'\x20'+simpleMathPrompt+'.',_0x42a217=_0x21a777;break;case _0x123f0b(0x4c4):_0x4e5ed0=_0x123f0b(0x460)+_0x54d83d+'\x20'+_0x176ac4+_0x123f0b(0x404)+_0x53e802+'\x20'+_0x2ef54e+'\x20'+_0x2661c9+'\x20'+_0x4d2cd0+_0x123f0b(0x609)+_0x2171a9+'\x20'+simpleMathPrompt,_0x42a217=_0x1e8aef;break;case _0x123f0b(0x35a):_0x4e5ed0='สร้างชุดคำถามจับคู่'+_0x54d83d+'\x20'+_0x176ac4+'\x20คู่\x20'+_0x53e802+'\x20'+_0x2ef54e+'\x20'+_0x2661c9+'\x20'+_0x4d2cd0+_0x123f0b(0x2c5)+_0x2171a9+'\x20'+simpleMathPrompt,_0x42a217=_0x215cfa;break;}_0x15072e={'type':_0x123f0b(0x4cb),'properties':{'topic':{'type':_0x123f0b(0x517)},'questions':{'type':_0x123f0b(0x401),'items':_0x42a217}},'required':['topic','questions']};}return _0xa23151?(_0x4e5ed0=_0x123f0b(0x698)+_0xa23151+_0x123f0b(0x1a8)+_0x4e5ed0,_0x246a58=_0x123f0b(0x1ac)):_0x246a58='กำลังสร้างแบบทดสอบจากหัวข้อ...',handleApiCall(_0x4e5ed0,_0x246a58,_0x15072e,_0x23e58f);}async function generateQuizFromFile(_0x3d495e,_0x5f504d){const _0x54e8ed=_0x335401,_0x4f48d8=document[_0x54e8ed(0x11a)](_0x54e8ed(0x4fd))[_0x54e8ed(0x5ce)]['trim'](),_0x43dae1=document['getElementById']('quiz-type-select')[_0x54e8ed(0x5ce)],_0x1409ec=document['getElementById'](_0x54e8ed(0x311))[_0x54e8ed(0x5ce)],_0x25635a=document['getElementById'](_0x54e8ed(0x662))[_0x54e8ed(0x5ce)],_0x196a21=document['getElementById'](_0x54e8ed(0x678))[_0x54e8ed(0x68b)],_0x4f8333=document['getElementById'](_0x54e8ed(0x21b))[_0x54e8ed(0x68b)],_0x346ca3=_0x4f8333?'':_0x54e8ed(0x12f);let _0x4513ea='',_0x593d0a,_0x4d3c2c=_0x54e8ed(0x170)+_0x4f48d8+'\x22';!_0x4f48d8&&(_0x4d3c2c=_0x54e8ed(0x41b));const _0x119ba5=_0x196a21?_0x54e8ed(0x13e):'';switch(_0x43dae1){case _0x54e8ed(0x847):_0x4513ea=_0x54e8ed(0x75b)+_0x346ca3+'\x20'+_0x1409ec+_0x54e8ed(0x404)+_0x4d3c2c+_0x54e8ed(0xe7)+_0x25635a+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x119ba5+'\x20'+simpleMathPrompt,_0x593d0a={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x54e8ed(0x401),'items':{'type':_0x54e8ed(0x517)}},'correctAnswerIndex':{'type':_0x54e8ed(0x575)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x54e8ed(0x7f3),_0x54e8ed(0x5b2),_0x54e8ed(0x801),_0x54e8ed(0x199)]};break;case'fill_in_with_choices':_0x4513ea=_0x54e8ed(0x4f3)+_0x346ca3+'\x20'+_0x1409ec+'\x20ข้อ\x20'+_0x4d3c2c+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x25635a+_0x54e8ed(0x5da)+_0x119ba5+'\x20'+simpleMathPrompt,_0x593d0a={'type':_0x54e8ed(0x4cb),'properties':{'questionText':{'type':_0x54e8ed(0x517)},'options':{'type':_0x54e8ed(0x401),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x54e8ed(0x575)},'explanation':{'type':_0x54e8ed(0x517)},'imageCode':{'type':'STRING'}},'required':[_0x54e8ed(0x7f3),_0x54e8ed(0x5b2),_0x54e8ed(0x801),_0x54e8ed(0x199)]};break;case _0x54e8ed(0x4fc):_0x4513ea=_0x54e8ed(0x4f3)+_0x346ca3+'\x20'+_0x1409ec+_0x54e8ed(0x404)+_0x4d3c2c+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x119ba5+'\x20'+simpleMathPrompt,_0x593d0a={'type':_0x54e8ed(0x4cb),'properties':{'questionText':{'type':_0x54e8ed(0x517)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x54e8ed(0x517)}},'required':[_0x54e8ed(0x7f3),_0x54e8ed(0x4a8),_0x54e8ed(0x199)]};break;case'mixed':_0x4513ea='สร้างแบบทดสอบ'+_0x346ca3+'\x20'+_0x1409ec+_0x54e8ed(0x404)+_0x4d3c2c+_0x54e8ed(0x5dd)+_0x25635a+'\x20ตัวเลือก.\x20'+_0x119ba5+'\x20'+simpleMathPrompt+_0x54e8ed(0x83),_0x593d0a={'type':_0x54e8ed(0x4cb),'properties':{'questionText':{'type':_0x54e8ed(0x517)},'questionType':{'type':_0x54e8ed(0x517),'enum':[_0x54e8ed(0x847),_0x54e8ed(0x787)]},'options':{'type':_0x54e8ed(0x401),'items':{'type':_0x54e8ed(0x517)}},'correctAnswerIndex':{'type':_0x54e8ed(0x575)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x54e8ed(0x517)}},'required':[_0x54e8ed(0x7f3),_0x54e8ed(0x23d),_0x54e8ed(0x199)]};break;case _0x54e8ed(0x4c4):_0x4513ea=_0x54e8ed(0x460)+_0x346ca3+'\x20'+_0x1409ec+_0x54e8ed(0x404)+_0x4d3c2c+_0x54e8ed(0x6f0)+_0x119ba5+'\x20'+simpleMathPrompt,_0x593d0a={'type':_0x54e8ed(0x4cb),'properties':{'questionText':{'type':_0x54e8ed(0x517)},'correctAnswer':{'type':_0x54e8ed(0x7a7)},'explanation':{'type':_0x54e8ed(0x517)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x54e8ed(0x81),_0x54e8ed(0x199)]};break;case _0x54e8ed(0x35a):_0x4513ea=_0x54e8ed(0x37d)+_0x346ca3+'\x20'+_0x1409ec+'\x20คู่\x20'+_0x4d3c2c+_0x54e8ed(0x93f)+_0x1409ec+_0x54e8ed(0xfb)+_0x119ba5+'\x20'+simpleMathPrompt,_0x593d0a={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x54e8ed(0x524)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x54e8ed(0x401),'items':{'type':'STRING'}},'explanation':{'type':_0x54e8ed(0x517)},'imageCode':{'type':'STRING'}},'required':[_0x54e8ed(0x23d),'stem',_0x54e8ed(0x441),'allResponses',_0x54e8ed(0x199)]};break;}const _0x59e266={'type':_0x54e8ed(0x4cb),'properties':{'topic':{'type':_0x54e8ed(0x517)},'questions':{'type':_0x54e8ed(0x401),'items':_0x593d0a}},'required':[_0x54e8ed(0x7d5),_0x54e8ed(0x4e3)]},_0x3d7dc4=_0x54e8ed(0x628)+_0x4513ea,_0x556aba={'contents':[{'parts':[{'text':_0x3d7dc4},{'inlineData':{'mimeType':_0x3d495e,'data':_0x5f504d}}]}],'generationConfig':{'responseMimeType':_0x54e8ed(0x959),'responseSchema':_0x59e266}};return handleApiCall(_0x556aba[_0x54e8ed(0x102)][0x0][_0x54e8ed(0x484)],_0x54e8ed(0x166),_0x59e266);}async function handleApiCall(_0x525dd6,_0x5dab9b,_0x4500e2,_0x5620c3=null){const _0x45d1b4=_0x335401,_0x21b787=document[_0x45d1b4(0x11a)]('quiz-generation-area'),_0x395755=document[_0x45d1b4(0x11a)]('loader'),_0x53bba7=document['getElementById'](_0x45d1b4(0x779)),_0x365856=document[_0x45d1b4(0x11a)](_0x45d1b4(0x290));_0x21b787['classList'][_0x45d1b4(0x57c)](_0x45d1b4(0x6f8));_0x5620c3===null&&(_0x365856[_0x45d1b4(0x297)]='');_0x395755['classList'][_0x45d1b4(0x57c)]('hidden'),_0x53bba7['textContent']=_0x5dab9b,document[_0x45d1b4(0x11a)]('generate-from-topic-btn')[_0x45d1b4(0x53e)]=!![],document[_0x45d1b4(0x11a)](_0x45d1b4(0x9a4))[_0x45d1b4(0x53e)]=!![],document[_0x45d1b4(0x11a)](_0x45d1b4(0x48f))[_0x45d1b4(0x53e)]=!![];try{const _0x50b17c={'responseMimeType':_0x45d1b4(0x959),'responseSchema':_0x4500e2},_0x40021a=Array['isArray'](_0x525dd6)?_0x525dd6:[{'text':_0x525dd6}],_0x1b2afe={'contents':[{'role':_0x45d1b4(0x357),'parts':_0x40021a}],'generationConfig':_0x50b17c},_0x4f5064=_0x45d1b4(0x608),_0x3c9c30=_0x45d1b4(0x740)+_0x4f5064,_0x65d955=await fetch(_0x3c9c30,{'method':_0x45d1b4(0x7c0),'headers':{'Content-Type':_0x45d1b4(0x959)},'body':JSON[_0x45d1b4(0x3af)](_0x1b2afe)});if(!_0x65d955['ok'])throw new Error(_0x45d1b4(0x225)+_0x65d955[_0x45d1b4(0x83e)]);const _0x28e4fe=await _0x65d955[_0x45d1b4(0x3a3)]();if(_0x28e4fe[_0x45d1b4(0x8ec)]?.[0x0]?.[_0x45d1b4(0x3ee)]?.[_0x45d1b4(0x484)]?.[0x0]){let _0x2ddfb1=_0x28e4fe[_0x45d1b4(0x8ec)][0x0]['content'][_0x45d1b4(0x484)][0x0][_0x45d1b4(0x928)],_0x2022b2;try{if(_0x2ddfb1[_0x45d1b4(0x5b7)](_0x45d1b4(0xe0)))_0x2ddfb1=_0x2ddfb1[_0x45d1b4(0x918)](0x7,_0x2ddfb1[_0x45d1b4(0x38d)]-0x3)[_0x45d1b4(0xa5)]();else _0x2ddfb1[_0x45d1b4(0x5b7)](_0x45d1b4(0x6ca))&&(_0x2ddfb1=_0x2ddfb1[_0x45d1b4(0x918)](0x3,_0x2ddfb1[_0x45d1b4(0x38d)]-0x3)[_0x45d1b4(0xa5)]());_0x2022b2=JSON[_0x45d1b4(0x18d)](_0x2ddfb1);}catch(_0x16d67a){console[_0x45d1b4(0x529)](_0x45d1b4(0x8a4),_0x16d67a,_0x2ddfb1);throw new Error(_0x45d1b4(0x29b));}if(_0x5620c3!==null){if(_0x2022b2[_0x45d1b4(0x23d)]===_0x45d1b4(0x524)){const _0x286eb5=currentQuizData[_0x45d1b4(0x4e3)][_0x45d1b4(0x4eb)](_0x23b54c=>_0x23b54c['correctResponse']);_0x2022b2[_0x45d1b4(0x16f)]=_0x286eb5;const _0x927877=currentQuizData[_0x45d1b4(0x4e3)][_0x5620c3][_0x45d1b4(0x441)],_0x1ef432=_0x286eb5[_0x45d1b4(0x989)](_0x927877);_0x1ef432>-0x1&&(_0x286eb5[_0x1ef432]=_0x2022b2[_0x45d1b4(0x441)]),currentQuizData[_0x45d1b4(0x4e3)][_0x45d1b4(0x40a)](_0x247822=>{const _0x21b37a=_0x45d1b4;if(_0x247822[_0x21b37a(0x23d)]==='matching_item')_0x247822[_0x21b37a(0x16f)]=_0x286eb5;});}currentQuizData[_0x45d1b4(0x4e3)][_0x5620c3]=_0x2022b2,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x2022b2;const _0x49b301=document[_0x45d1b4(0x11a)](_0x45d1b4(0x8b9))[_0x45d1b4(0x5ce)];currentQuizData[_0x45d1b4(0x7a1)]=_0x49b301,currentQuizData[_0x45d1b4(0x4e3)]&&currentQuizData[_0x45d1b4(0x4e3)]['forEach'](_0x3cd4e3=>{const _0x1c658c=_0x45d1b4;if(!_0x3cd4e3['questionType']){if(_0x49b301===_0x1c658c(0x570))_0x3cd4e3[_0x1c658c(0x23d)]=_0x1c658c(0x847);else _0x49b301===_0x1c658c(0x4fc)?_0x3cd4e3['questionType']='short_answer':_0x3cd4e3[_0x1c658c(0x23d)]=_0x49b301;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x45d1b4(0x529)]('Invalid\x20response\x20structure\x20from\x20AI:',JSON['stringify'](_0x28e4fe));throw new Error(_0x45d1b4(0x29b));}}catch(_0x18e957){console['error'](_0x45d1b4(0x7aa),_0x18e957),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง'),_0x5620c3===null&&(_0x365856[_0x45d1b4(0x297)]=_0x45d1b4(0x51e));}finally{_0x395755[_0x45d1b4(0x8f)][_0x45d1b4(0x85b)]('hidden'),document[_0x45d1b4(0x11a)](_0x45d1b4(0x2c3))[_0x45d1b4(0x53e)]=![],document[_0x45d1b4(0x11a)]('generate-from-text-btn')[_0x45d1b4(0x53e)]=![],document['getElementById'](_0x45d1b4(0x48f))['disabled']=![];const _0x1afe33=document[_0x45d1b4(0x11a)](_0x45d1b4(0x349));_0x1afe33&&(_0x1afe33['disabled']=![]);}}function _0x1f44(){const _0x126a84=['กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','thead','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','bg-red-100','กรุณาใส่ชื่อใหม่','เกิดข้อผิดพลาดในการติดดาว','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','.edit-quiz-btn','เกิดข้อผิดพลาดในการจับคู่','isStarred','totalQuestions','application/json','ดอทโปรดักต์\x20(dot)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22answer-space\x22></div>','.start-game-btn','บันทึกผลการเล่นเกมของ\x20','confidence-scoring-toggle','Error\x20loading\x20quiz\x20for\x20student:','translate','.scratchpad-content-wrapper','toDataURL','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','strokeStyle','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','worksheet-input-area','transform','\x20</div>\x0a\x20\x20\x20\x20','ปริพันธ์จำกัด','manage-tab','confirm-delete-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','30360ftRCfK','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','.start-presentation-list-btn','createdAt','พื้นที่สามเหลี่ยม','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','showRankings','rename-quiz-input','lessonPlan','normal','no-projects-msg','Error\x20updating\x20project\x20name:','ค่าความจริง/ตารางค่าความจริง','.quiz-bank-parallel-btn','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','input[type=\x22radio\x22][value=\x22','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','cancel-team-selection-btn','submit-team-answer-btn','per-question-timer-container','indexOf','fix\x20the\x20option','scratchpad-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20Fix\x20Error:','.delete-custom-topic-btn','position','members','bg-green-500','[data-topic-container-id]','\x5cfrac{','projectSort','toggle','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','\x20รายการ...','mouse','-\x20ข้อ\x20','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','stem','.topic-actions-edit','\x22\x20value=\x22','opacity-50','timer-container','restore','generate-from-text-btn','wakeLock','.duplicate-quiz-btn','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','textContent','student-team-join','</div>','text-emerald-800','data:application/vnd.ms-word;charset=utf-8,','lesson-plan-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เกิดข้อผิดพลาด:\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','mode-switcher-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','.lastAnswerIndex','save-game-results-checkbox','.project-card-container[data-id]','/public/data/liveGames','results-display-select','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-bar','แบบเติมคำตอบ','พื้นที่วงกลม/ส่วนของวงกลม','การคูณ','font-bold\x20text-red-700\x20line-through','ตอบถูกทุกข้อในแบบทดสอบนี้','<button\x20data-index=\x22','168816woOvBI','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','color','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','.delete-svg-btn','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','not-found','back-to-student-home-btn','download','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','text-gray-500','editor-quiz-topic','AI\x20Formula\x20Fix\x20Error:','delete-all-students-btn','shouldSaveResults','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','Error\x20fetching\x20quiz\x20settings:','Error\x20generating\x20worksheet:','floor',':</p><p\x20class=\x22text-xs\x22>','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ถูกต้อง!','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกลำดับ','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','global-quiz-list','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','พื้นที่ใต้กราฟ/ระหว่างกราฟ','join','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','result','correctAnswer','artifacts/','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',';\x22\x20data-id=\x22','modal-timer-duration-container','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','offsetWidth','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','Sync\x20Mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Error\x20listening\x20for\x20projects:','Error\x20fetching\x20project\x20quizzes:','classList','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','bar','\x5cfrac{$1}{$2}','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','ไม่พบแบบทดสอบสำหรับรหัสนี้','ลำดับเลขคณิต\x20(AP)','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','date_asc','.live-summary-tooltip.visible','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','workerSrc','ยังไม่ส่ง','export-image-btn','\x20รายการ\x20สำเร็จ!','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','answer-counter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','สถิติและความน่าจะเป็น','binom','show_pass_fail_only','trim','\x5csqrt{$1}','questionIndex','Error\x20saving\x20to\x20question\x20bank:','ปริมาตรรูปทรงสามมิติ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','outerHTML','text-gray-200','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','การแจกแจงทวินาม\x20(พื้นฐาน)','อนุพันธ์:\x20กฎลูกโซ่','game-pin-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bulk-shuffle-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','คะแนนยังไม่ถึงครึ่ง','บันทึกการตั้งค่าแล้ว','แบบปรนัย\x204\x20ตัวเลือก','modal-timer-duration-input','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','.question-editor-item[data-q-index=\x22','text-gray-300\x20hover:text-white','-tab','toLocaleString','Error\x20saving\x20game\x20results:','game-start-modal-title','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','element','blockReason','lineCap','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','choices_only','originalQuestionText','dragover','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','start-presentation-btn','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','every','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','rgba(255,\x20255,\x200,\x200.5)','close-presentation-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','currentQuestionIndex','scheduled_pending','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','keydown','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','isCorrect','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','firstScore','doughnut','```json','</td></tr>','pen','ระบบเลขและค่าประจำหลัก','reduce','.delete-quiz-btn','input[name=\x22drill_answer\x22]:checked','.\x20แต่ละข้อมี\x20','student-initial-view','both','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','global-quiz-search-input','open-scratchpad-btn','text-green-700\x20bg-green-100','fa-fire\x20text-orange-500','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','view-my-progress-btn','\x20\x20\x20-\x20คำตอบ:\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','(ก่อนเรียน)\x20','มัธยฐาน','querySelectorAll','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reset-project-order-btn','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','pen-tools-group','back-from-results-btn','points','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','contents','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','รหัสไม่ถูกต้อง','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','การวัด','MathJax','การจัดกลุ่มข้อมูล','แบบทดสอบที่ติดดาว','goto-next-question-btn','Failed\x20to\x20resume\x20game\x20session:','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','แผนการสอน:\x20','export-worksheet-pdf-btn','student-quiz-leaderboard-content','player-count','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','#results-table\x20thead\x20tr','per-question-text','documentElement','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','.question-editor-item','projectSortOrder','สมการเหตุผล\x20(rational)','getElementById','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','open-quiz-bank-btn','textarea[name=\x22team_answer\x22]','leaderboard-tab-content','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','countdown-display','behaviorLog','\x22\x20เพื่อสร้างชุดคู่ขนาน...','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','\x20\x20\x20-\x20','export-leaderboard-excel-btn','div[data-question-index=\x22','รูปสี่เหลี่ยมและสมบัติ','Error\x20deleting\x20project:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','กรุณาพิมพ์คำตอบของกลุ่ม','</span><span\x20class=\x22font-bold\x22>','Failed\x20to\x20end\x20group\x20mode\x20game:','คณิตศาสตร์','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','\x20คะแนน\x20','student-quiz-leaderboard-tab','cancel-create-project-btn','text-red-500\x20hover:text-red-700','push','ownerSVGElement','eraser-tool-btn','quiz','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','closePath','scheduled','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','getBoundingClientRect','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','totalPoints','show-results-btn','ระบบสมการเชิงเส้นสองตัวแปร','ฟังก์ชันผกผัน','student-view','quiz-generation-area','.cancel-edit-topic-btn','style','\x20mb-2\x22>','match','มุมพิเศษ\x2045°-45°-90°','ราชาคัมแบ็ก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','suggestedAnswer','confirm-rename-quiz-btn','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','highlighter-size-value','Error\x20fetching\x20projects\x20for\x20move:','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','\x22\x20ให้เป็นคำถามประเภท\x20\x22','some','group','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','retake-quiz-loop-btn','กำลังอ่านและเตรียมไฟล์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','#F3E8FF','visibilityState','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','now','isFinished','</p><div>','text-green-800','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','Error\x20opening\x20quiz\x20editor:','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','targetId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','list','สรุปผลการวิเคราะห์:\x5cn','No\x20player\x20data\x20to\x20save.','project-passcode-modal','ย้าย','user-id-display','allResponses','เกี่ยวกับหัวข้อ\x20\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','เวกเตอร์และเมทริกซ์\x20(เสริม)','rename-quiz-modal','upper_group_count','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',')\x5cb)','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','สร้างโปรเจคสำเร็จ!','Error\x20updating\x20project\x20color:','stopPropagation','clearRect','ฟังก์ชันลอการิทึม','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','cancel-game-start-btn','analyze-strengths-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','$1\x5c%','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','padStart','shuffledQuiz','modal-loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','bg-blue-100','parse','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','ลิมิต','.option-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วงกลม:\x20สมการและสมบัติ','สมการยกกำลัง','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','กรุณาใส่ชื่อนักเรียน','[contenteditable=\x22true\x22]','toFixed','explanation','โดเมนและเรนจ์','\x20from\x20sync\x20game:','cancel-export-pdf-btn','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','desc','destroy','กำลังกลับเข้าสู่เกม\x20','newappai.firebaseapp.com','เกิดข้อผิดพลาดในการลบหัวข้อ','cancel-test-btn','fa-bolt\x20text-blue-500','pin','quiz-bank-modal','Error\x20adding\x20custom\x20topic:','\x22,\x20','สัญกรณ์วิทยาศาสตร์','baseVal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','readAsDataURL','$1_{$2}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','editable-quiz-topic','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','ความเป็นอิสระของเหตุการณ์','/users/','splice','.generate-lesson-btn','earned-badges-container','ทำคะแนนเต็มในการทำครั้งแรก','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','การปัดเศษและประมาณค่า','กำลังอัปเดตแบบทดสอบ\x20','quizId','pointerup','globalCompositeOperation','PERFECT_SCORE','PERSEVERANCE','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','clientX','เกิดข้อผิดพลาดในการส่งคำตอบ','เกิดข้อผิดพลาดในการลบแบบทดสอบ','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','(เลือกแล้ว\x20','NEGATIVE_INFINITY','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','project-title','close-game-final-btn','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','next-question-btn','/public/data/teamQuizzes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22color-palette-btn\x20','ไม่สามารถเพิ่มนักเรียนได้','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','student-join-game-view','ตารางความถี่','title','loopUntilPass','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','description','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','สมการราก\x20(radical)','ring-2','addEventListener','ไม่ผ่าน','จำนวนและการดำเนินการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','Error\x20listening\x20for\x20custom\x20math\x20topics:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-yellow-50','<option>กำลังโหลดโปรเจค...</option>','(หลังเรียน)\x20','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','#D1FAE5','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','จำนวนเต็มบวก','admin-try-quiz-btn','แก้ระบบสมการด้วยเมทริกซ์','quiz-results-table-body','touchcancel','newappai.firebasestorage.app','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','bg-red-50','behavior-log-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','#ffffff','latestSubmittedAt','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','getBBox','ไม่มีคำอธิบาย','pairedQuizId','results-tab-content','numPages','shuffleSetting','class','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','name','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','ทศนิยม\x20(ค่าประจำหลัก)','confirm-passcode-btn','การหารทศนิยม','projectOrder','div','/submissions','ฟังก์ชันกำลังสองและกราฟ','tooltipTarget','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','selected-answer-index-hidden','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-settings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','force-math-checkbox','tool','อสมการค่าสัมบูรณ์','การแจกแจงปกติและ\x20z-score','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','.quiz-bank-present-btn','removeAttribute','msRequestFullscreen','API\x20call\x20failed\x20with\x20status:\x20','summary','solution','มุมและการวัดมุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20during\x20class\x20analysis:','mousedown','</span>','<div\x20class=\x22mb-3\x20topic-category\x22>','.start-live-race-btn','Copy\x20command\x20failed','รูปหลายเหลี่ยมและมุมภายใน','.star-quiz-btn','parseFromString','แคลคูลัสเบื้องต้น','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.unpair-quiz-btn','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','student-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','ไม่พบข้อมูลผู้ใช้','questionType','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','passcode-prompt-message','removeItem','สมการเชิงเส้นตัวแปรเดียว','กราฟแท่ง\x20กราฟเส้น','live-race','show_results_and_answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','podium','อัตราการเปลี่ยนแปลงทันที','\x5cge','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','Error\x20fetching\x20student\x20rankings:','medium','body','modal-shuffle-select','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','ชื่อหัวข้อห้ามว่าง','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analytics-summary-cards','text-gray-100','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','.verification-result-editor','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-overall-content','modal-adaptive-quiz-checkbox','<li\x20class=\x22','close','cancel-passcode-btn','timer-duration-input','ฟังก์ชันราก\x20(root)','parallel-test-upload-input','<div\x20id=\x22q-image-container-','blueprint-tab','opacity','pow','undefined','currentTarget','.answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createElement','$1\x5ctext{','standard','<svg','Error\x20updating\x20sort\x20preference:','คณิตการเงิน/บูรณาการ','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','คำเตือน\x20(','block','ไม่ได้ตอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','teacherSuggestions','fill','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','10936719ktpJYh','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','log','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','Error\x20toggling\x20star\x20status:','grabbing','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','.pen-color-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','Error\x20resetting\x20project\x20order:','live-short-answer-input','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','(คัดลอก)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$$$1$','delete-svg-btn','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','bulk-quiz-settings-btn','<span\x20class=\x22font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1\x5cfrac','<div\x20class=\x22my-2\x22>','generated-quiz-container','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','แบบทดสอบนี้ปิดใช้งานอยู่','generate-from-blueprint-btn','https://corsproxy.io/?','Error\x20deleting\x20custom\x20topic:','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','Invalid\x20response\x20structure\x20from\x20AI.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','helvetica','สอบปกติ','analytics-tab-btn','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','leq','\x5csum','loader','setAttributeNS','\x22\x5cn','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','test','_opt0\x22\x20name=\x22question','print','answers','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','whole_quiz','exitFullscreen','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หน่วยความยาวและการแปลง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x20(ID:\x20','removeEventListener','first_try_ace','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','อัปเดตแบบทดสอบเก่า\x20','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','.ai-fix-formula-btn','touchmove','save-project-name-btn','พื้นที่สี่เหลี่ยม','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','export-lesson-pdf-btn','#student-quiz-leaderboard-content\x20thead','bg-green-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','generate-from-topic-btn','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','text-red-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกแบบทดสอบสำเร็จแล้ว!','ความน่าจะเป็นแบบมีเงื่อนไข','</tbody></table></div>','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','standardTopic','sin','qType','toLocaleDateString','join-group-activity-btn','strength-weakness-analysis-container','/public/data/quizzes/','live-player-list','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','message','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','isConfidenceScoringEnabled','#per-question-options\x20textarea','practiceProblems','พิมพ์ตอบ','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','Error\x20comparing\x20results:','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','\x20ข้อพอดี**\x20ห้ามขาด\x20ห้ามเกิน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ความเป็นคู่ขนาน:**\x20โจทย์ใหม่ต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเทียบเท่ากับโจทย์เดิม\x20แต่ต้องใช้ตัวเลข\x20สถานการณ์\x20หรือคำถามที่แตกต่างออกไป\x20**ห้ามคัดลอกโจทย์เดิม**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**โครงสร้างเหมือนเดิม:**\x20ประเภทของคำถามแต่ละข้อ\x20(เช่น\x20ปรนัย,\x20เติมคำ)\x20ต้องเหมือนกับข้อสอบต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**คุณภาพของตัวเลือก\x20(สำหรับปรนัย):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ต้องมีคำตอบที่ถูกต้องเพียง\x20**หนึ่งเดียว**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวง\x20(Distractors)\x20ต้องมีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x20แต่ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามมีตัวเลือกที่กำกวมหรือมีความหมายซ้ำซ้อนกัน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-pen','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','กรุณาเลือกโปรเจคปลายทาง','/public/data/projects/','timestamp','ความสัมพันธ์ของมุม','AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...\x20กรุณารอสักครู่','items','\x22\x20name=\x22question','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','ระยะเวลา\x20(นาที):','\x5c\x5c\x5c\x5c(?=(','/preferences/main','results-table','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','Error\x20renaming\x20quiz:','imageCode','Original\x20quiz\x20not\x20found','<i\x20class=\x22fas\x20fa-pen\x22></i>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','leaderboard-table-body','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reset-view-btn','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ค่าสัมบูรณ์','svg','grid-view-btn','</label></div>','แผนภาพกล่อง\x20(box\x20plot)','คะแนนเฉลี่ย','</div><div\x20class=\x22space-y-2\x22>','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','leaderboard-quiz-tab-btn','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','min','^{\x5ccirc}\x5ctext{C}$','then','specialist','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','flex','num-questions','scrollY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','next-sync-question-btn','text-input-area','mean','Error\x20updating\x20quiz\x20status:','short','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','ไม่สามารถเริ่มเกมได้','):\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','pointerType','dimmed','text-green-600','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin','แก้ไขข้อนี้','เพิ่มหัวข้อ\x20\x22','save-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','modal-passing-score-input','text/csv;charset=utf-8;','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','circle','behavior-log-tab-btn','insertAdjacentHTML','auto-fix-latex-btn','upperGroupResponders','.regenerate-question-btn','results','reference-pdf-upload','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','verify-answers-btn','.save-custom-topic-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-600\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','global-live-game-modal','Enter','localeCompare','badgesCount','<p><strong>คำตอบของคุณ:</strong>\x20','อัตราและอัตราหน่วย','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','.sortable-header','data','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','querySelector','กราฟฟังก์ชันตรีโกณ','COMEBACK_KING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fullscreenchange','ย้ายแบบทดสอบไปโปรเจคอื่น','.edit-question-btn','generate-from-file-btn','badges','attempts','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','leaderboard-quiz-tab-content','answering','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','source-over','Error\x20saving\x20submission:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','kick-player-btn','/public/data/practiceBank','Error\x20starting\x20game:','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','user','Firebase\x20initialization\x20failed:','ฟังก์ชันพหุนาม','matching','quick_thinker','FileReader\x20error:','/public/data/customMathTopics','อัปเดตพฤติกรรมสำหรับ\x20','comparison-chart','perfect_score','overallGroups','</form>','text-red-800','สร้างใหม่','interesting-stats-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','การบวก','bg-gray-500','cancel-move-quiz-btn','.pen-size-btn','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','การลบทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','getTextContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','.export-pdf-list-btn','sync-player-management','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','ตรีโกณมิติ','สร้างชุดคำถามจับคู่','bestScore','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','type','Error\x20toggling\x20pin\x20status:','mixed','student-progress-content','\x22\x20data-name=\x22','live-options-container','.topic-row','_opt1\x22>ไม่ใช่</label></div>','Error\x20saving\x20visibility\x20settings:','length','stroke','ไม่มี','.delete-student-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','Error\x20deleting\x20submission:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','บันทึกการตั้งค่าสำเร็จ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hint','Attempting\x20to\x20save\x20game\x20results...','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','Error\x20starting\x20sync\x20game:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เรขาคณิตวิเคราะห์','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','คุณต้องการให้\x20AI\x20สร้างแบบทดสอบชุดนี้ในเวอร์ชันที่ง่ายลงหรือไม่?\x20ระบบจะสร้างเป็นแบบทดสอบชุดใหม่ในโปรเจคนี้','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','json','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','Error\x20starting\x20team\x20quiz:','appendChild','hint-btn','ไม่มีผู้ตอบตัวเลือกนี้','rgba(239,\x2068,\x2068,\x200.7)','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','22330044apPCQp','modal-timer-duration-label','stringify','update','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','highlighter-tools-group','eraser','scratchpad-header','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22><p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','ผ่านฉลุย','fa-user-astronaut\x20text-blue-700','flex\x20flex-col\x20gap-2','การเรียงสับเปลี่ยน\x20(Permutation)','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','Error\x20joining\x20team\x20quiz:','กำลังจับคู่...','ปิดใช้งาน','<p>','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','entries','จับคู่เพื่อเปรียบเทียบผล','STOP','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','next-question-timed-btn','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','Error\x20pairing\x20quizzes:','\x20\x0a\x20\x20\x20\x20','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','รูปแบบการให้เหตุผล','leaderboard-tab','#6366F1','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','เรขาคณิต','beginPath','project-quizzes-list','players.','setAttribute','slice','password-error-msg','ลำดับการดำเนินการ\x20(PEMDAS)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.status','timer-mode-select','[role=\x22textbox\x22]','fill_in_the_blank','ไม่พบข้อมูลโปรเจค','cancel-quiz-edits-btn-footer','total','Error\x20submitting\x20team\x20answer:','เกิดข้อผิดพลาดในการปักหมุด','requestFullscreen','ฟังก์ชันสัมพัทธ์\x20(rational)','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','image/png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','content','<tr\x20class=\x22','cursor','</p></div>','update-old-quizzes-btn','scratchpad-controls','Error\x20joining\x20activity:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','bg-red-100\x20text-red-800','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','questionId','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','ชื่อโปรเจคห้ามว่าง','warn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','list-view-btn','ARRAY','พบข้อสอบ\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ\x20','frac','\x5ctext{$1}','export-compact-pdf-btn','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','forEach','isArray','หลังเรียน','อินเวอร์สของเมทริกซ์','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','.live-answer-btn,\x20#live-submit-short-answer-btn','comparison-modal','สุดยอด!\x20ตอบถูกทุกข้อ','pre-test-checkbox','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','prev-question-btn','\x22>ใช่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','transition-all','ฮิสโตแกรม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','จับคู่แบบทดสอบสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-quiz-edits-btn','mode','<p\x20class=\x22','text-blue-700','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','อัปเดตสถานะสำเร็จ','date_desc','scrollX','\x22.\x20Ideal\x20Answer:\x20\x22','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','ตอบถูก\x203\x20ข้อติดต่อกัน','ฟังก์ชันยกกำลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','show-in-student-dashboard-checkbox','ผู้ไม่ยอมแพ้','อนุพันธ์:\x20กฎพื้นฐาน','contains','scratchpad-clear-btn','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','.ql-editor','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','.pair-quiz-btn','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','Failed\x20to\x20kick\x20player\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','</h3>','ไม่สามารถบันทึกการตั้งค่าได้','correctResponse','quiz-bank-count','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','สมการค่าสัมบูรณ์','focus','student-result-area','end-game-btn','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','ความต่อเนื่อง','preTScore','join-live-game-btn','พื้นที่ผิวรูปทรงสามมิติ','\x22><p\x20class=\x22font-semibold\x22>','open-sync-scratchpad-btn','#26890c','sync','หัวข้อที่สร้างเอง','\x5cfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','scale','ON_FIRE','devicePixelRatio','ร้อยละประยุกต์','bg-emerald-100','empty','confirm-quiz-status-btn','.pointsLastQuestion','pointermove','ความชันและเส้นตรง','สร้างคำถามแบบใช่/ไม่ใช่','rgba(79,\x2070,\x20229,\x201)','ไม่พบแบบทดสอบ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','all','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-700','ข้อต่อไป','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','innerText','ไม่พบข้อมูลแบบทดสอบ','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','ref','score-distribution-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setFont','</p>','export-excel-btn','find','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','\x20ชุด)','admin-password-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x09\x09\x09<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','AI\x20request\x20was\x20blocked.\x20Reason:\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','#FFFFFF','resize','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','.summary-bar-item','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','ความเท่ากันทุกประการของสามเหลี่ยม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','การจัดหมู่\x20(Combination)','main-correct-answer-display','parts','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','กำลังสร้างแบบทดสอบคู่ขนาน...','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-game','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','fixedData','1:516499432840:web:7b2a9a571fad2e3d68463d','generate-from-link-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','เกิดข้อผิดพลาดในการอ่านไฟล์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','890JcPUxw','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','project-detail','ไม่พบเอกสารการส่งงานของ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','.isScored','.csv','บันทึกการตั้งค่าการแสดงผลสำเร็จ','Error\x20saving\x20quiz\x20edits:','กิจกรรมสิ้นสุดลงแล้ว','</li>','presentation-scratchpad-btn','เกิดข้อผิดพลาดในการสร้างห้องเกม','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','lower_group_count','.quiz-result-card','.topic-name-display','typesetPromise','show-leaderboard-btn','split','answer','idealAnswer','bg-red-500','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','copy-quiz-id-btn',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','ท็อปฟอร์ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','comparison-overall-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','Error\x20joining\x20sync\x20game:','text-indigo-600','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectId','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','เส้นรอบรูป','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','.quiz-settings-btn','Error\x20submitting\x20group\x20answer:','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','createObjectURL','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการตรีโกณมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',',\x20r=','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','true_false','กรุณาเลือกชื่อของคุณ','students','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','name_desc','cancel-bulk-quiz-settings-btn','OBJECT','เลือกและบันทึก','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','select','</td>','end-team-quiz-btn','Error\x20generating\x20from\x20link:','file-upload-input','responses.','rgba(59,\x20130,\x20246,\x200.7)','answered','onchange','authed_project_','abs','top','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','#E0E7FF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','confirm-global-live-btn','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','inactive','questions','student','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table','quiz-schedule-end-container','td,\x20th','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','dfrac','map','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','ส่งแล้ว','code','project-name-input','จุด\x20เส้น\x20ระนาบ','files','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','สร้างคำถามแบบเติมคำในช่องว่าง','msExitFullscreen','<h1></h1>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','จำนวนข้อ:','dataIndex','เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด','fill_in_no_choices','file-topic-input','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','N/A','gain','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','.ai-fix-question-btn','classStrengths','href','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','request','parent','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','input[type=\x22checkbox\x22]:checked','pop','finishReason','from','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','webkitExitFullscreen','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','STRING','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','confirm-game-start-modal','groups','rows','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','cancel-rename-quiz-btn','q-image-container-','sqrt','matching_item','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','error','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','postTScore','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','แบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getScreenCTM','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','actions-container-','red','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','answerText','project-id-display','lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','<i\x20class=\x22fas\x20fa-magic\x22></i>','summary_chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','disabled','bg-green-100','Error\x20updating\x20quiz\x20settings:','touchend','รอเปิด','เกิดข้อผิดพลาดในการเข้าร่วมเกม','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','scores-tab-btn','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','<option\x20value=\x22\x22>กำลังโหลด...</option>','เกมสิ้นสุดลงแล้ว','mouseup','<p\x20class=\x22font-bold\x20text-sm\x20','ยืนยันและอัปเดตทั้งหมด','confirm-bulk-quiz-settings-btn','812026fVgJva','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','ส่วนเบี่ยงเบนมาตรฐาน','end-sync-game-btn','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','file-input-area','9xwRxsp','การยืนยันตัวตนล้มเหลว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','input[name=\x22team_player\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','ก่อนเรียน','ไม่ใช่','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','jspdf','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','write','\x5cdiv','AIzaSyCrvYxQBrQBFrT99Rkg4nVgjOwRsBBZafI','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','blur','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','check-answer-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','close-student-rankings-btn','loop-until-pass-checkbox','starred','หน่วยเวลาและการคำนวณเวลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','admin-testing','lesson-plan-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','fill_in_with_choices','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','สลับไปโหมดผู้ควบคุม','manage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','NUMBER','schedule','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','back-to-student-initial-btn','grid','Re-grade\x20process\x20failed:','remove','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','.ideal-answer-input,\x20.correct-response-input','presentation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','closest','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x20กลุ่ม\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัปเดตการตั้งค่าของแบบทดสอบ\x20','lowerGroupResponders','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','per_question','สมมาตร\x20(แกน/จุด)','เกิดข้อผิดพลาดในการเปลี่ยนสี','link-url-input','keys','การหาร','QUICK_THINKER','isRemedial','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','max','_opt','text-yellow-800','.lastAnswerCorrect','border-red-700','จำนวนคละ','.topic-name-input','พิสัย','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineWidth','fas\x20fa-star\x20text-yellow-500','กรุณาเลือกคำตอบของกลุ่ม','<button\x20id=\x22','ลำดับเรขาคณิต\x20(GP)','label','endTime','originalTopic','input[name=\x22status-option\x22]','ยืนยันการจับคู่','ยังไม่มีนักเรียนส่งงาน','quiz-editor-modal','createdBy','values','highlighter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','confirm-move-quiz-btn','ใช่','confirmation-modal','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','timerDuration','options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-parallel-test-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22status-option\x22]:checked','startsWith','text-yellow-300','category','\x20ตัวเลือก.\x20','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','latestScore','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','getItem','generate-worksheet-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','resultsDisplay','.project-card-container:not(.opacity-50)','passing-score-input','target','<div\x20class=\x22flex-1\x22></div>','{$1}','quiz-editor-questions-container','2-digit','.live-answer-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','text-red-600','value','change','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','.png','thead\x20.sortable-header','ผู้ควบคุม\x20(ทดสอบ)','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','answeredCurrentQuestion','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','sync-manage-players-btn','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','หมดเวลา!\x20กำลังส่งคำตอบ...','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','toString',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','ระยะทางและจุดกึ่งกลาง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ring-purple-400','interesting-stats-wrapper','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','ข้อที่\x20','/public/data/quizzes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','message-modal','className','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','sum','ลบหัวข้อสำเร็จ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','Error\x20updating\x20custom\x20topic:','th-TH','toLowerCase','lastAnswerCorrect','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','onclick','back-to-home-manual-release','การคูณเศษส่วน','\x22\x20name=\x22question_single\x22\x20value=\x22','perfect_score_status','move-quiz-project-select','\x5ccdot','border-gray-200',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','lastAnswerIndex','<div\x20class=\x22','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','\x20รายการสำเร็จ!','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','modal-close-btn','per-q-countdown','กำลังดึงข้อมูลจากลิงก์...','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','lowerGroupNames','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','move','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','name_asc','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save','confirm-create-project-btn','<button\x20data-quiz-id=\x22','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','fadeStartTime','results-quiz-title','จำนวนเต็มลบ','bg-green-50','post-test','[*]','ไม่พบข้อมูลข้อสอบหลังเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','text-gray-400\x20hover:text-indigo-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','quadraticCurveTo','Error\x20saving\x20user\x20preference:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','student-project-leaderboard-content','จากไฟล์ที่แนบมานี้,\x20','confidence-modal','mouseleave','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','startedAt','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pdf','<tr><td\x20colspan=\x22','อสมการเชิงเส้น','admin-dashboard','getPage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','enable-passcode-checkbox','export-word-btn','student-quiz-area','confirm-confident','student-passcode-input','comparison-individual-tab','AI\x20ไม่สามารถประมวลผลข้อมูลได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','submissions','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','auto','All\x20groups\x20have\x20finished.\x20Ending\x20game.','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','มุมพิเศษ\x2030°-60°-90°','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','input[type=\x22text\x22]','Error\x20rendering\x20student\x20progress:','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','textarea','manage-tab-content','quizMode','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','ผ่าน','fromCharCode','bg-green-200\x20text-green-800','player-list-lobby','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','สร้างคำถามใหม่\x201\x20ข้อ\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','includes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','custom-math-topic-input','พอใช้','#view-rankings-btn','เปิดใช้งาน','กรุณาป้อนหัวข้อสำหรับใบงาน','pointerdown','Error\x20starting\x20live\x20race:','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','</tbody></table>','results-tab','num-choices','บันทึกการแก้ไข','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','transparent','.regenerate-question-editor-btn','learningGaps','cancel-quiz-edits-btn','global-live-game-count','1275244BfXoox','\x22><span>','.toggle-actions-btn','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','touches','modal-results-display-select','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','</select>','reveal-answer-btn','\x20คนที่ส่ง\x20ตอบถูก\x20(','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','การลบเศษส่วน','8CDflxN','include-images-checkbox','ไม่พบตารางสำหรับ\x20Export','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','question','คะแนน','str','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ปริพันธ์ไม่จำกัด','passingScore','promptFeedback','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22true\x22\x20','ผิด','Error\x20updating\x20pin\x20status:','\x20คะแนน</span></div>','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','checked','screen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','shadowBlur','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','203fySYVM','/studentProfiles','แผนการสอน','redo-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จากเนื้อหาต่อไปนี้:\x20\x22','border-green-300\x20bg-green-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สลับไปโหมดนักเรียน','comparison','progress-project-select','\x20ช่อง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','on_fire',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','math-topics-checkbox-container','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','presentation-explanation','พบ\x20Sync\x20Game!','เศษส่วน\x20(ย่อ/ขยาย)','</span></td>','cos','เกิดข้อผิดพลาดในการโหลดโปรเจค','mousemove','confidence-scoring-description','เกิดข้อผิดพลาดในการลบนักเรียน','ทำคะแนนได้เกินครึ่ง','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','correct','เลือกโปรเจคเพื่อบันทึก','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','passcode-input-container','back-to-results-btn','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</option>','Error\x20confirming\x20players\x20for\x20sync\x20game:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','tGain','student-project-leaderboard-tab','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tan','fa-dumbbell\x20text-gray-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','deselect-all-topics-btn','true','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','```','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','activeGameSession','wheel','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','has','.quiz-bank-move-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20saving\x20quiz:','teachingContent','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','create-from-bank-btn','<div\x20class=\x22loader\x20mx-auto\x22></div>','อัตราส่วนและสัดส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.score','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','sort','timer-duration-container','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','text-emerald-900','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','.rename-quiz-btn','px)\x20scale(','การแยกตัวประกอบ','เซียนสมองไว','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','isPinned','showInStudentDashboard','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','project-detail-view','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','.sort-indicator','temp-loader-results','groups.','isScored','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','hidden','\x20จาก\x20','load-quiz-btn','webkitRequestFullscreen','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','$1\x5ctext(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','arrayBuffer','studentName','ดอกเบี้ยอย่างง่าย','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','modal-timer-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','cancel-delete-btn','กลุ่มของคุณ','multiply','ลบแบบทดสอบสำเร็จแล้ว','#e21b3c','pinnedProjects','\x22\x20class=\x22pin-project-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','presentation-ai-result','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เส้นตรง:\x20รูปแบบสมการ','(^|[^\x5c\x5c])\x5cb','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','editable-text-','neq','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','สเกลและแผนที่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','ค่าเฉลี่ย','จำนวนเชิงซ้อน\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','font-bold\x20text-green-700','เกิดข้อผิดพลาดในการอัปเดต:\x20','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','input[type=\x22radio\x22]:checked','selected-topics-count','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','hasPerfectScoreBonus','.project-card-container','bank-tab','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','hasOwnProperty','submittedAt','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','#E5E7EB','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.topic-category','setItem','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','ปรับเพิ่ม/ลดเป็นร้อยละ','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','isLooping','ไม่สามารถสร้างโปรเจคได้','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','stdDev','API\x20call\x20failed','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','insertBefore','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','team-quiz-topic','#000000','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','\x20/\x20','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','กรุณาป้อนรหัสแบบทดสอบ','แบบทดสอบซ่อมเสริม','ตรวจคะแนนใหม่\x20','viewBox','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','bank-quiz-list','turnIndex','ไม่พบแบบทดสอบในระบบเลย','confirm-quiz-settings-btn','size','(ตัวเลือกผิดพลาด)','questionDisplayedAt','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','ที่พิมพ์ได้\x20จำนวน\x20','removeChild','export-pdf-modal','การกระจายและการจัดหมู่','Error\x20unpairing\x20quizzes:','.submittedAt','quiz-end-time','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','</span></p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','.kick-player-btn-sync','สร้างแบบทดสอบปรนัย','key','<li>','.compare-results-btn','shuffle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','.ideal-answer-input','(ฉบับง่าย)\x20','.copy-quiz-id-list-btn','wasConfident','drill-feedback','undo-btn','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','getAttributeNS','draggable-text','button[type=\x22submit\x22]','keyup','qIndex','results_','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','สร้างแบบทดสอบ','Error\x20saving\x20settings:','Error\x20verifying\x20answers:','pen-tool-btn','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','export-leaderboard-image-btn','.quiz-bank-try-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','\x20(p=','loader-text','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','พบ\x20Team\x20Quiz!','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','open','team-player-status-grid','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','ตรวจทานเฉลยเสร็จสิ้น!','ไม่สามารถโหลดรายการโปรเจคได้','preventDefault','quiz-schedule-start-container','<textarea\x20name=\x22question','short_answer','show_results_only','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบโปรเจค','$1\x20\x5cfrac','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','\x22\x20name=\x22drill_answer\x22\x20value=\x22','results-table-container','select-all-topics-btn','ควรปรับปรุง','การสร้างรูปด้วยวงเวียน–สันตรง','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','Error\x20loading\x20user\x20preferences:','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่งคำตอบ','getContext','แก้ไขหัวข้อสำเร็จ','icon','/public/data/syncGames','canvas','</tr>','none','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','scratchpad-question','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quizType','(ไม่มีชื่อ)','ยอดเยี่ยม!','<span\x20title=\x22','bg-red-200\x20text-red-800','กำลังสร้างรูปภาพ...','BOOLEAN','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','perQuestionStats','Error\x20generating\x20quiz:','.project-card-content','link-tab','แผนภาพเวนน์','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','\x20ครั้ง)</span></td>','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','link-topic-input','Error\x20generating\x20parallel\x20post-test:','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','.quiz-bank-settings-btn','#per-question-options\x20select','ดูผลสรุปสุดท้าย','กลุ่ม:\x20','submission-status-chart','/questionBank','<p\x20class=\x22text-xl\x22>','59576sndBLx','#student-project-leaderboard-content\x20thead','confirm-not-confident','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','classWeaknesses','POST','fa-rocket\x20text-purple-500','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','upperGroupNames','หน่วยมวล/น้ำหนักและการแปลง','delete','text-green-700','<p\x20class=\x22text-2xl\x22>','ระยะเวลา\x20(วินาที):','ยกเลิกการจับคู่สำเร็จ','ตัวประกอบและตัวประกอบเฉพาะ','progress-student-select','Error\x20generating\x20from\x20parallel\x20test\x20file:','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','rgba(79,\x2070,\x20229,\x200.8)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','ai-quiz-generator-v3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','%</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','topic','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','.verification-result','clientY','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','ระบบอสมการ','globalSettings','display','ตั้งเวลา\x20(เปิด)','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','bank-input-area','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','raw','start-sync-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','#DBEAFE','Error\x20creating\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','timerMode','confirm-team-players-btn','live-player-management','dispatchEvent','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>','comeback_king','-tab-content','isAdaptive','behavior-log-container','questionText','พีชคณิตและฟังก์ชัน','settings','release','student-team-selection-view','touchstart','student-name-select','border-red-300\x20bg-red-50','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','text-blue-700\x20bg-blue-100','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submission','correctAnswerIndex','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<div\x20class=\x22my-6\x22>','วงกลม:\x20คอร์ดและเส้นสัมผัส','pre-test','<br>','.answered','admin-view','.answeredCurrentQuestion','attemptNumber','\x5ctimes','left','leaderboard','sync-player-list','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','question-complexity-select','get','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','</span></div>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','scores-tab-content','input','bottom','game-start-quiz-id','ยืนยันการกระทำ','ความคาดหมาย\x20(Expected\x20value)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20โดยต้องปฏิบัติตามกฎเหล็กต่อไปนี้อย่างเคร่งครัด:\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็ก\x20(ต้องปฏิบัติตามทุกข้อ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ความถูกต้อง\x20100%:**\x20คำถาม\x20ตัวเลือก\x20และเฉลยที่สร้างขึ้นใหม่ทั้งหมดต้องถูกต้องตามหลักวิชาการและคณิตศาสตร์\x20100%\x20**ห้ามมีข้อผิดพลาดโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**จำนวนข้อที่แน่นอน:**\x20แบบทดสอบชุดใหม่ต้องมี\x20**','text/html','เกิดข้อผิดพลาดในการลบผลสอบ','start-game-btn','Team\x20Quiz','student-progress-view','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','width','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','half_mark_status','finished','project-list','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','quiz-search-input','.generate-easy-version-btn','student-name-selection-view','export-leaderboard-pdf-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','default','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Remedial\x20quiz\x20generation\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','bg-yellow-100','</label>\x0a\x20\x20\x20\x20</div>\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','<div><input\x20type=\x22radio\x22\x20id=\x22q','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-search-input','.correct-response-input','status','หยุดระบบจับเวลาหรี่หน้าจอ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','mjx-container','index','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','save-visibility-settings-btn','multiple_choice','translate(','approx','Error\x20moving\x20quiz:','filter','docs','open-global-live-btn','ทฤษฎีบทพีทาโกรัสและการประยุกต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','contentEditable','Error\x20showing\x20quiz\x20detail\x20view:','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','justification','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','Failed\x20to\x20get\x20hint:','Error\x20joining\x20live\x20game:','$1^{\x5ccirc}\x5ctext{C}','รีเซ็ตลำดับโปรเจคแล้ว','close-lesson-plan-modal-footer-btn','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','add','geq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','set','คัดลอกไม่สำเร็จ','ลบผลสอบของ\x20','parallel-test-tab','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','isPasscodeEnabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','เกิดข้อผิดพลาดในการบันทึก','submit','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','15JvnWBf','.doc','จำนวนคู่:','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-close-btn','bg-purple-50','replace','กิจกรรม\x20Team\x20Quiz\x20สิ้นสุดลงแล้ว','.generate-post-test-btn','ยังไม่เต็มนะ','shuffle-setting-select','q-text-','behavior-log','btn','.delete-submission-btn','.lastAnswerValue','instructions','คำถามถัดไป','quiz-form','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','export-tutor-pdf-btn','สามเหลี่ยม\x20(ชนิด/สมบัติ)','projectView','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','input[name=\x22question_single\x22]:checked','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','.group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quiz-leaderboard-table-body','.draggable-text','ค่าคลาดเคลื่อนของการวัด','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอัปเดตสถานะ','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดีเทอร์มิแนนต์','answer-grid-container','.move-quiz-btn','ระยะจากจุดถึงเส้นตรง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','visible','</p><p><strong>เฉลย:</strong>\x20','modal-message','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#F59E0B','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','scrollIntoView','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','การนับ','trail','project-passcode-input','height','project-sort-select','passcode-error-msg','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','Failed\x20to\x20parse\x20JSON\x20from\x20AI','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','quiz-start-time','.choice-text','text-purple-600','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','.project-card-container.opacity-50','<p><strong>คำตอบที่แนะนำ:</strong>\x20','beforeend','student-quiz-leaderboard-table-body','screen_exit','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','bg-green-100\x20text-green-800','lesson-plan-modal','projectName','\x5cneq','กรุณาใส่ชื่อโปรเจค','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','passcode','team','findIndex','quiz-type-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','far\x20fa-star','ข้อ\x20','คัดลอกรหัสแล้ว!','export-pdf-btn','back-to-dashboard-btn','quiz-leaderboard-table-container','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-password-modal','/public/data/projects','ค.ร.น.\x20(LCM)','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','visibilitychange','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','string','manual_release','catch','Error\x20generating\x20parallel\x20test\x20from\x20bank:','document','presentation-short-answer-input','bulk-results-display-select','<option\x20value=\x22','q-explanation-','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','516499432840','topic-input-area','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-project-btn','<div>','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','.presentation-option','game-start-mode','globalAlpha','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move-quiz-modal','Error\x20listening\x20for\x20starred\x20quizzes:','quiz-id-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','ยอดเยี่ยม','cancel-global-live-btn','Error\x20deleting\x20quiz:','line-through\x20text-red-700','text-tab','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','repeat','active','candidates','gamePin','slide-counter','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','create-project-btn','onload','bulk-quiz-settings-modal','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','questionStatus','add-student-btn','_blank','blueprint-upload-input','คะแนนเต็ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20text-lg\x22>','toDate','responses','export-leaderboard-word-btn','random','Error\x20displaying\x20question\x20bank:','student-reading-area','live-game-view','asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','border-indigo-400\x20ring-2\x20ring-indigo-200','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','startTime','.save-to-bank-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','fullscreenElement','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','ฟังก์ชันแบบชิ้นส่วน','copy','input[type=\x22checkbox\x22]','cancel-quiz-settings-btn','toISOString','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','ดอกเบี้ยทบต้น','showImproveButton','AI\x20grading\x20failed:','การบวกทศนิยม','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','close-comparison-modal-btn','substring','<span\x20class=\x22sort-indicator\x20ml-2\x22>','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','exists','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','click','topic-input','\x22\x20data-pre-test-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','function','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','players','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','false','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','text','round','confirm-game-start-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','moveTo','commit','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mr-2\x22></i>','\x22\x20data-topic=\x22','เกิดข้อผิดพลาดในการนำผู้เล่นออก','close-comparison-modal-footer-btn','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.color-palette-popup','team-student-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','tfrac','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','dataset','</body></html>','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','leaderboard_','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','difficulty-level-select','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lineJoin','dashboardConfig','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','เรเดียนและการแปลงหน่วย','blueprint-input-area','text-red-300\x20hover:text-red-100','score'];_0x1f44=function(){return _0x126a84;};return _0x1f44();}function exitFullscreen(){const _0x4b9a17=_0x335401;if(document[_0x4b9a17(0x2ae)])document[_0x4b9a17(0x2ae)]()[_0x4b9a17(0x8cb)](_0x40da0e=>console[_0x4b9a17(0x529)](_0x40da0e));else{if(document[_0x4b9a17(0x514)])document['webkitExitFullscreen']();else document[_0x4b9a17(0x4f4)]&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x546dc4=_0x335401,_0x46a173=document[_0x546dc4(0x115)];if(_0x46a173['requestFullscreen'])_0x46a173[_0x546dc4(0x3e8)]()[_0x546dc4(0x8cb)](_0x59fb5e=>{const _0xafaf90=_0x546dc4;console['error'](_0xafaf90(0x741)+_0x59fb5e[_0xafaf90(0x2da)]+'\x20('+_0x59fb5e[_0xafaf90(0x20b)]+')');});else{if(_0x46a173['webkitRequestFullscreen'])_0x46a173[_0x546dc4(0x6fb)]();else _0x46a173[_0x546dc4(0x224)]&&_0x46a173[_0x546dc4(0x224)]();}}function handleCheatingEvent(){const _0x1daab5=_0x335401;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x1daab5(0x8ae),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+_0x1daab5(0x3cc)),document[_0x1daab5(0x11a)](_0x1daab5(0x87a))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x1daab5(0x8c7),handleVisibilityChange),document['removeEventListener'](_0x1daab5(0x346),handleFullscreenChange)):showMessage(_0x1daab5(0x26f)+cheatAttempts+'/'+maxCheatAttempts+_0x1daab5(0x675),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x263521=_0x335401;if(currentMode===_0x263521(0x56b)||!isQuizActive)return;if(document[_0x263521(0x15e)]==='hidden')handleCheatingEvent();else document[_0x263521(0x15e)]===_0x263521(0x893)&&(console['log']('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x2bd52d=_0x335401;if(currentMode===_0x2bd52d(0x56b)||!isQuizActive)return;!document[_0x2bd52d(0x90a)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x2d7bc4){const _0x1e25c9=_0x335401,_0x2a9b7d=document[_0x1e25c9(0x11a)](_0x1e25c9(0x290));let _0x306784='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x2d7bc4['topic']+_0x1e25c9(0x43f);_0x2d7bc4[_0x1e25c9(0x4e3)][_0x1e25c9(0x40a)]((_0x173f50,_0x2525bb)=>{const _0x2690de=_0x1e25c9;!_0x173f50['id']&&(_0x173f50['id']='q_'+Date[_0x2690de(0x160)]()+'_'+_0x2525bb);const _0x2079b4=_0x173f50[_0x2690de(0x23d)]||_0x2d7bc4[_0x2690de(0x7a1)];_0x306784+=_0x2690de(0x63b)+_0x2525bb+_0x2690de(0x463)+_0x2525bb+_0x2690de(0x844)+_0x2525bb+_0x2690de(0x52a)+_0x2525bb+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x2079b4){case _0x2690de(0x524):_0x306784+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x2525bb+'\x22>'+(_0x2525bb+0x1)+'.\x20'+_0x173f50[_0x2690de(0x99e)]+_0x2690de(0x472);_0x173f50[_0x2690de(0x2f7)]&&(_0x306784+=_0x2690de(0x260)+_0x2525bb+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x173f50[_0x2690de(0x2f7)]+_0x2690de(0x9ab));_0x306784+=_0x2690de(0x4cd)+_0x2525bb+'\x22>'+_0x173f50[_0x2690de(0x441)]+_0x2690de(0x813),_0x306784+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x2525bb+'\x22>'+_0x173f50[_0x2690de(0x199)]+_0x2690de(0x813);break;case'short_answer':_0x306784+=_0x2690de(0x9a8)+_0x2525bb+'\x22>'+(_0x2525bb+0x1)+'.\x20'+_0x173f50['questionText']+'</p>';_0x173f50[_0x2690de(0x2f7)]&&(_0x306784+='<div\x20id=\x22q-image-container-'+_0x2525bb+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x173f50[_0x2690de(0x2f7)]+_0x2690de(0x9ab));_0x306784+=_0x2690de(0x64a)+_0x2525bb+'\x22>'+_0x173f50[_0x2690de(0x4a8)]+_0x2690de(0x813),_0x306784+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x2525bb+'\x22>'+_0x173f50[_0x2690de(0x199)]+_0x2690de(0x813);break;case _0x2690de(0x4c4):_0x306784+=_0x2690de(0x9a8)+_0x2525bb+'\x22>'+(_0x2525bb+0x1)+'.\x20'+_0x173f50[_0x2690de(0x7f3)]+'</p>';_0x173f50['imageCode']&&(_0x306784+=_0x2690de(0x260)+_0x2525bb+_0x2690de(0x77d)+_0x173f50[_0x2690de(0x2f7)]+'</div>');_0x306784+=_0x2690de(0x48c)+(_0x173f50[_0x2690de(0x81)]===!![]?_0x2690de(0x335):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x173f50[_0x2690de(0x81)]===![]?_0x2690de(0x335):'')+_0x2690de(0xff),_0x306784+=_0x2690de(0x511)+_0x2525bb+'\x22>'+_0x173f50['explanation']+_0x2690de(0x813);break;case _0x2690de(0x3e2):case _0x2690de(0x847):default:_0x306784+=_0x2690de(0x9a8)+_0x2525bb+'\x22>'+(_0x2525bb+0x1)+'.\x20'+_0x173f50[_0x2690de(0x7f3)]+_0x2690de(0x472);_0x173f50['imageCode']&&(_0x306784+=_0x2690de(0x260)+_0x2525bb+_0x2690de(0x77d)+_0x173f50[_0x2690de(0x2f7)]+_0x2690de(0x9ab));_0x306784+=_0x2690de(0x721)+_0x2525bb+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x173f50[_0x2690de(0x5b2)][_0x2690de(0x4eb)]((_0x4e29c2,_0x2fcca6)=>_0x2690de(0x25a)+(_0x2fcca6===_0x173f50[_0x2690de(0x801)]?_0x2690de(0x335):'')+'\x22>'+_0x4e29c2+_0x2690de(0x49d))[_0x2690de(0x7d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0x306784+=_0x2690de(0x511)+_0x2525bb+'\x22>'+_0x173f50['explanation']+_0x2690de(0x813);break;}_0x306784+=_0x2690de(0x9ab);}),_0x306784+=_0x1e25c9(0x3c4),_0x2a9b7d['innerHTML']=_0x306784,document['querySelectorAll'](_0x1e25c9(0x348))[_0x1e25c9(0x40a)](_0x491fd5=>_0x491fd5[_0x1e25c9(0x1e2)](_0x1e25c9(0x91d),handleEditQuestion)),document[_0x1e25c9(0xf8)](_0x1e25c9(0x32e))['forEach'](_0x2d5182=>_0x2d5182['addEventListener'](_0x1e25c9(0x91d),handleRegenerateQuestion)),document[_0x1e25c9(0xf8)](_0x1e25c9(0x907))[_0x1e25c9(0x40a)](_0x416e0c=>_0x416e0c[_0x1e25c9(0x1e2)](_0x1e25c9(0x91d),handleSaveToBank)),document['getElementById'](_0x1e25c9(0x10f))[_0x1e25c9(0x1e2)]('click',exportQuizAsWorksheetPDF),document['getElementById'](_0x1e25c9(0x324))[_0x1e25c9(0x1e2)](_0x1e25c9(0x91d),saveQuiz),document['getElementById'](_0x1e25c9(0x332))[_0x1e25c9(0x1e2)](_0x1e25c9(0x91d),handleVerifyAnswers);if(window['MathJax'])window[_0x1e25c9(0x107)][_0x1e25c9(0x4a4)]([_0x2a9b7d]);}function handleRegenerateQuestion(_0x11dd38){const _0x5d072=_0x335401,_0x457a53=_0x11dd38[_0x5d072(0x265)]['dataset'][_0x5d072(0x842)],_0x18f161=currentQuizData[_0x5d072(0x7d5)];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x457a53)+0x1)+'\x20ใหม่...'),generateQuiz(_0x18f161,null,parseInt(_0x457a53));}function getPointerPosition(_0x485aac,_0x106e78){const _0x37bcde=_0x335401,_0x416b50=_0x485aac[_0x37bcde(0x531)]();let _0x203869,_0x4512b9;return _0x106e78[_0x37bcde(0x66f)]&&_0x106e78['touches']['length']>0x0?(_0x203869=_0x106e78[_0x37bcde(0x66f)][0x0][_0x37bcde(0x1c2)],_0x4512b9=_0x106e78[_0x37bcde(0x66f)][0x0][_0x37bcde(0x7d8)]):(_0x203869=_0x106e78[_0x37bcde(0x1c2)],_0x4512b9=_0x106e78['clientY']),{'x':(_0x203869-_0x416b50['e'])/_0x416b50['a'],'y':(_0x4512b9-_0x416b50['f'])/_0x416b50['d']};}function startDrag(_0x1da96f){const _0x1014e0=_0x335401;_0x1da96f[_0x1014e0(0x384)]==='touchstart'&&_0x1da96f[_0x1014e0(0x784)]();const _0x3deb82=_0x1da96f[_0x1014e0(0x5c6)][_0x1014e0(0x583)]('.draggable-text');if(_0x3deb82){draggedSvgElement=_0x3deb82;const _0x229bbe=draggedSvgElement[_0x1014e0(0x136)],_0x4fb99b=getPointerPosition(_0x229bbe,_0x1da96f);svgOffset['x']=_0x4fb99b['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x4fb99b['y']-parseFloat(draggedSvgElement[_0x1014e0(0x769)](null,'y'));}}function calculateItemAnalysis(_0x2aea6c,_0x4d0330){const _0x1ca969=_0x335401,_0x33956d={};if(_0x4d0330['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x18bbb2=[..._0x4d0330][_0x1ca969(0x6df)]((_0x77dfb2,_0x29c8a6)=>{const _0x20c0b4=_0x1ca969,_0x28387f=_0x29c8a6[_0x20c0b4(0x5bc)]-_0x77dfb2[_0x20c0b4(0x5bc)];if(_0x28387f!==0x0)return _0x28387f;const _0x27d0fc=_0x77dfb2['attempts']?.[_0x20c0b4(0x38d)]||0x1,_0x5edc8f=_0x29c8a6[_0x20c0b4(0x34b)]?.[_0x20c0b4(0x38d)]||0x1,_0x4068a0=_0x27d0fc-_0x5edc8f;if(_0x4068a0!==0x0)return _0x4068a0;const _0x4d6362=new Date(_0x77dfb2['latestSubmittedAt']),_0x4341a1=new Date(_0x29c8a6[_0x20c0b4(0x1ff)]),_0x19c7ce=_0x4d6362-_0x4341a1;if(_0x19c7ce!==0x0)return _0x19c7ce;return _0x77dfb2[_0x20c0b4(0x700)]['localeCompare'](_0x29c8a6['studentName'],'th');}),_0xd1d76=_0x18bbb2[_0x1ca969(0x38d)],_0x3f3771=Math[_0x1ca969(0x594)](0x1,Math[_0x1ca969(0x72)](_0xd1d76*0.33));if(_0x3f3771===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x391861=_0x18bbb2[_0x1ca969(0x3db)](0x0,_0x3f3771),_0x524afa=_0x18bbb2[_0x1ca969(0x3db)](-_0x3f3771),_0x53fefb=_0x391861[_0x1ca969(0x4eb)](_0x5cbe6b=>_0x5cbe6b[_0x1ca969(0x700)]),_0x435ded=_0x524afa[_0x1ca969(0x4eb)](_0x488a0e=>_0x488a0e[_0x1ca969(0x700)]);return _0x2aea6c[_0x1ca969(0x4e3)][_0x1ca969(0x40a)]((_0x32be04,_0x370ec2)=>{const _0x48241a=_0x1ca969,_0x27167c=_0x32be04[_0x48241a(0x99e)]||_0x32be04['questionText'];let _0x400648=0x0,_0x130db7=0x0,_0x1acb8b=0x0;const _0x14e812=[],_0x4489db=[];_0x391861['forEach'](_0x498685=>{const _0x201e90=_0x48241a,_0x4b8983=_0x498685[_0x201e90(0x34b)][_0x498685[_0x201e90(0x34b)]['length']-0x1],_0x123ba7=_0x4b8983[_0x201e90(0x2aa)][_0x201e90(0x474)](_0x31fe01=>_0x31fe01['originalQuestionText']===_0x27167c);_0x14e812[_0x201e90(0x135)]({'name':_0x498685[_0x201e90(0x700)],'isCorrect':_0x123ba7?_0x123ba7[_0x201e90(0xdc)]:![]}),_0x123ba7&&_0x123ba7[_0x201e90(0xdc)]&&_0x130db7++;}),_0x524afa[_0x48241a(0x40a)](_0x67e571=>{const _0x3190dc=_0x48241a,_0x558864=_0x67e571[_0x3190dc(0x34b)][_0x67e571['attempts']['length']-0x1],_0x26fa7f=_0x558864[_0x3190dc(0x2aa)][_0x3190dc(0x474)](_0x221160=>_0x221160[_0x3190dc(0xc7)]===_0x27167c);_0x4489db[_0x3190dc(0x135)]({'name':_0x67e571[_0x3190dc(0x700)],'isCorrect':_0x26fa7f?_0x26fa7f[_0x3190dc(0xdc)]:![]}),_0x26fa7f&&_0x26fa7f[_0x3190dc(0xdc)]&&_0x1acb8b++;}),_0x4d0330['forEach'](_0x116a5a=>{const _0x54efd4=_0x48241a,_0x67c4f0=_0x116a5a[_0x54efd4(0x34b)][_0x116a5a[_0x54efd4(0x34b)][_0x54efd4(0x38d)]-0x1],_0x2dabc4=_0x67c4f0['answers'][_0x54efd4(0x474)](_0x2571a1=>_0x2571a1[_0x54efd4(0xc7)]===_0x27167c);_0x2dabc4&&_0x2dabc4[_0x54efd4(0xdc)]&&_0x400648++;});const _0x40a3d1=_0xd1d76>0x0?_0x400648/_0xd1d76:0x0,_0x430703=_0x3f3771>0x0?_0x130db7/_0x3f3771-_0x1acb8b/_0x3f3771:0x0;_0x33956d[_0x370ec2]={'p':_0x40a3d1,'r':_0x430703,'upperGroupResponders':_0x14e812,'lowerGroupResponders':_0x4489db};}),{'perQuestionStats':_0x33956d,'overallGroups':{'upperGroupNames':_0x53fefb,'lowerGroupNames':_0x435ded}};}function drag(_0x51614f){const _0x2d40e9=_0x335401;if(draggedSvgElement){_0x51614f[_0x2d40e9(0x784)]();const _0x301f6e=draggedSvgElement[_0x2d40e9(0x136)],_0x3f417c=getPointerPosition(_0x301f6e,_0x51614f),_0x527ee3=_0x301f6e[_0x2d40e9(0x745)][_0x2d40e9(0x1aa)];let _0x2b6a27=_0x3f417c['x']-svgOffset['x'],_0x4aea28=_0x3f417c['y']-svgOffset['y'];const _0x343c38=draggedSvgElement[_0x2d40e9(0x202)]();_0x2b6a27=Math['max'](_0x527ee3['x'],Math['min'](_0x2b6a27,_0x527ee3['x']+_0x527ee3[_0x2d40e9(0x823)]-_0x343c38[_0x2d40e9(0x823)])),_0x4aea28=Math['max'](_0x527ee3['y'],Math[_0x2d40e9(0x30a)](_0x4aea28,_0x527ee3['y']+_0x527ee3[_0x2d40e9(0x8a0)]-_0x343c38['height'])),draggedSvgElement[_0x2d40e9(0x2a4)](null,'x',_0x2b6a27),draggedSvgElement[_0x2d40e9(0x2a4)](null,'y',_0x4aea28);}}function endDrag(_0x2be05c){draggedSvgElement=null;}function handleSvgEditClick(_0x148943){const _0xbb613a=_0x335401;if(_0x148943[_0xbb613a(0x5c6)][_0xbb613a(0x8f)][_0xbb613a(0x434)](_0xbb613a(0x289))){const _0x40301b=_0x148943[_0xbb613a(0x5c6)][_0xbb613a(0x93d)][_0xbb613a(0x167)],_0x426a1e=_0x148943['currentTarget'],_0x4654e8=_0x426a1e[_0xbb613a(0x341)]('#'+_0x40301b);_0x4654e8&&_0x4654e8[_0xbb613a(0x57c)](),_0x148943[_0xbb613a(0x5c6)][_0xbb613a(0x57c)]();}}function handleEditQuestion(_0x184ed4){const _0x467ed5=_0x335401,_0x4edfc8=_0x184ed4[_0x467ed5(0x265)],_0x4f54e6=_0x4edfc8[_0x467ed5(0x93d)]['index'],_0x10b344=currentQuizData[_0x467ed5(0x4e3)][_0x4f54e6],_0x997632=document[_0x467ed5(0x11a)](_0x467ed5(0x873)+_0x4f54e6),_0xffd1df=document[_0x467ed5(0x11a)](_0x467ed5(0x8d1)+_0x4f54e6),_0x11efdc=document[_0x467ed5(0x11a)](_0x467ed5(0x522)+_0x4f54e6);if(_0x4edfc8['innerHTML'][_0x467ed5(0x655)](_0x467ed5(0x2e6))){_0x4edfc8[_0x467ed5(0x297)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x4edfc8[_0x467ed5(0x1d7)]=_0x467ed5(0x663);if(_0x997632)_0x997632[_0x467ed5(0x850)]=!![];if(_0xffd1df)_0xffd1df[_0x467ed5(0x850)]=!![];if(_0x11efdc){const _0x310317=_0x11efdc['querySelector']('svg');if(_0x310317){const _0x2a0d37=_0x310317[_0x467ed5(0xf8)](_0x467ed5(0x928));_0x2a0d37[_0x467ed5(0x40a)]((_0x534c93,_0x1861e4)=>{const _0x59fdd1=_0x467ed5,_0x53fd43=_0x59fdd1(0x715)+_0x4f54e6+'-'+_0x1861e4;_0x534c93['id']=_0x53fd43,_0x534c93[_0x59fdd1(0x8f)][_0x59fdd1(0x85b)](_0x59fdd1(0x76a)),_0x534c93[_0x59fdd1(0x149)]['cursor']=_0x59fdd1(0x610);const _0x15559a=document['createElementNS']('http://www.w3.org/2000/svg',_0x59fdd1(0x329)),_0x385aaf=_0x534c93[_0x59fdd1(0x202)]();_0x15559a['setAttribute']('cx',String(_0x385aaf['x']+_0x385aaf[_0x59fdd1(0x823)]+0x5)),_0x15559a[_0x59fdd1(0x3da)]('cy',String(_0x385aaf['y']+_0x385aaf['height']/0x2-0x5)),_0x15559a['setAttribute']('r','5'),_0x15559a[_0x59fdd1(0x3da)](_0x59fdd1(0x274),_0x59fdd1(0x534)),_0x15559a[_0x59fdd1(0x3da)](_0x59fdd1(0x208),_0x59fdd1(0x289)),_0x15559a[_0x59fdd1(0x93d)][_0x59fdd1(0x167)]=_0x53fd43,_0x534c93['after'](_0x15559a);}),_0x310317[_0x467ed5(0x1e2)]('mousedown',startDrag),_0x310317[_0x467ed5(0x1e2)]('mousemove',drag),_0x310317[_0x467ed5(0x1e2)](_0x467ed5(0x549),endDrag),_0x310317[_0x467ed5(0x1e2)](_0x467ed5(0x62a),endDrag),_0x310317[_0x467ed5(0x1e2)](_0x467ed5(0x7f8),startDrag,{'passive':![]}),_0x310317['addEventListener'](_0x467ed5(0x2b9),drag,{'passive':![]}),_0x310317[_0x467ed5(0x1e2)](_0x467ed5(0x541),endDrag),_0x310317[_0x467ed5(0x1e2)](_0x467ed5(0x1f8),endDrag),_0x310317[_0x467ed5(0x1e2)](_0x467ed5(0x91d),handleSvgEditClick);}}if(_0x997632)_0x997632['focus']();}else{_0x4edfc8[_0x467ed5(0x297)]=_0x467ed5(0x2f9),_0x4edfc8[_0x467ed5(0x1d7)]=_0x467ed5(0x322);if(_0x997632){_0x997632['contentEditable']=![];const _0x5996d0=_0x10b344[_0x467ed5(0x23d)]||currentQuizData['quizType'];_0x5996d0===_0x467ed5(0x524)?_0x10b344[_0x467ed5(0x99e)]=_0x997632[_0x467ed5(0x46a)][_0x467ed5(0x918)](_0x997632[_0x467ed5(0x46a)][_0x467ed5(0x989)]('.')+0x2)[_0x467ed5(0xa5)]():_0x10b344[_0x467ed5(0x7f3)]=_0x997632[_0x467ed5(0x46a)]['substring'](_0x997632[_0x467ed5(0x46a)][_0x467ed5(0x989)]('.')+0x2)[_0x467ed5(0xa5)]();}_0xffd1df&&(_0xffd1df[_0x467ed5(0x850)]=![],_0x10b344[_0x467ed5(0x199)]=_0xffd1df[_0x467ed5(0x46a)]);if(_0x11efdc){const _0x423195=_0x11efdc[_0x467ed5(0x341)](_0x467ed5(0x300));if(_0x423195){const _0x450b51=_0x423195['cloneNode'](!![]);_0x450b51['querySelectorAll'](_0x467ed5(0x9c8))[_0x467ed5(0x40a)](_0x1e4417=>_0x1e4417['remove']()),_0x450b51[_0x467ed5(0xf8)](_0x467ed5(0x886))[_0x467ed5(0x40a)](_0x2ffa23=>{const _0x1c2ecd=_0x467ed5;_0x2ffa23['classList'][_0x1c2ecd(0x57c)](_0x1c2ecd(0x76a)),_0x2ffa23[_0x1c2ecd(0x149)]['cursor']=_0x1c2ecd(0x831),_0x2ffa23[_0x1c2ecd(0x223)]('id');}),_0x10b344[_0x467ed5(0x2f7)]=_0x450b51[_0x467ed5(0xab)],_0x423195[_0x467ed5(0x2b3)](_0x467ed5(0x22b),startDrag),_0x423195[_0x467ed5(0x2b3)](_0x467ed5(0x6b0),drag),_0x423195[_0x467ed5(0x2b3)](_0x467ed5(0x549),endDrag),_0x423195[_0x467ed5(0x2b3)](_0x467ed5(0x62a),endDrag),_0x423195['removeEventListener'](_0x467ed5(0x7f8),startDrag),_0x423195[_0x467ed5(0x2b3)](_0x467ed5(0x2b9),drag),_0x423195['removeEventListener'](_0x467ed5(0x541),endDrag),_0x423195[_0x467ed5(0x2b3)](_0x467ed5(0x1f8),endDrag),_0x423195['removeEventListener'](_0x467ed5(0x91d),handleSvgEditClick),_0x423195[_0x467ed5(0xf8)]('.delete-svg-btn')[_0x467ed5(0x40a)](_0x28a69a=>_0x28a69a['remove']()),_0x423195[_0x467ed5(0xf8)]('.draggable-text')[_0x467ed5(0x40a)](_0x58a01d=>{const _0x587093=_0x467ed5;_0x58a01d[_0x587093(0x8f)][_0x587093(0x57c)](_0x587093(0x76a)),_0x58a01d[_0x587093(0x149)][_0x587093(0x3f0)]=_0x587093(0x831);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x2812fb){const _0x546d8c=_0x335401,_0x21e0f7=document[_0x546d8c(0x11a)]('quiz-editor-modal'),_0x2a2dfe=document[_0x546d8c(0x11a)](_0x546d8c(0x5c9));_0x2a2dfe['innerHTML']=_0x546d8c(0x6da),_0x21e0f7[_0x546d8c(0x8f)][_0x546d8c(0x57c)](_0x546d8c(0x6f8));try{const _0x15fa91=doc(db,_0x546d8c(0x82)+appId+_0x546d8c(0x5e5),_0x2812fb),_0x3aad6f=await getDoc(_0x15fa91);if(!_0x3aad6f[_0x546d8c(0x91b)]())throw new Error(_0x546d8c(0x462));currentEditingQuizData={'id':_0x2812fb,..._0x3aad6f[_0x546d8c(0x33f)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x93e83b){console[_0x546d8c(0x529)](_0x546d8c(0x165),_0x93e83b),showMessage(_0x546d8c(0x976)),_0x21e0f7[_0x546d8c(0x8f)][_0x546d8c(0x85b)](_0x546d8c(0x6f8));}}function renderQuizEditor(_0xefc2a7){const _0x23f865=_0x335401;document[_0x23f865(0x11a)](_0x23f865(0x9d1))[_0x23f865(0x5ce)]=_0xefc2a7[_0x23f865(0x7d5)];const _0x412e41=document[_0x23f865(0x11a)](_0x23f865(0x5c9));let _0x225439=_0xefc2a7[_0x23f865(0x4e3)][_0x23f865(0x4eb)]((_0x4ebdf2,_0x4babbd)=>{const _0x19c943=_0x23f865;let _0x52cb4f='';const _0xa17462=_0x4ebdf2[_0x19c943(0x23d)]||_0xefc2a7[_0x19c943(0x7a1)];switch(_0xa17462){case _0x19c943(0x847):const _0x18eb5b=(_0x4ebdf2['options']||[])['map']((_0x529b53,_0x1444a5)=>_0x19c943(0xd9)+_0x4babbd+_0x19c943(0x9a0)+_0x1444a5+'\x22\x20'+(_0x1444a5===_0x4ebdf2[_0x19c943(0x801)]?'checked':'')+_0x19c943(0x6b8)+_0x529b53+_0x19c943(0x3ea))[_0x19c943(0x7d)]('');_0x52cb4f=_0x19c943(0x89b)+_0x18eb5b+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x19c943(0x787):_0x52cb4f=_0x19c943(0x68d)+(_0x4ebdf2[_0x19c943(0x4a8)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x19c943(0x4c4):_0x52cb4f=_0x19c943(0x581)+_0x4babbd+_0x19c943(0x686)+(_0x4ebdf2[_0x19c943(0x81)]===!![]?_0x19c943(0x68b):'')+_0x19c943(0x518)+_0x4babbd+'\x22\x20value=\x22false\x22\x20'+(_0x4ebdf2[_0x19c943(0x81)]===![]?_0x19c943(0x68b):'')+_0x19c943(0xf9);break;case _0x19c943(0x524):_0x52cb4f=_0x19c943(0x8c6)+(_0x4ebdf2[_0x19c943(0x441)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0x1f8efe=_0x4ebdf2[_0x19c943(0x7f3)]||_0x4ebdf2[_0x19c943(0x99e)]||'';return'\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x4babbd+'\x22\x20data-q-type=\x22'+_0xa17462+_0x19c943(0x319)+(_0x4babbd+0x1)+'\x20('+_0xa17462+_0x19c943(0x551)+_0x1f8efe+_0x19c943(0x4e1)+_0x52cb4f+'</div>\x0a</div>\x0a';})[_0x23f865(0x7d)]('');_0x412e41[_0x23f865(0x297)]=_0x225439,_0x412e41[_0x23f865(0xf8)](_0x23f865(0x503))[_0x23f865(0x40a)](_0x124f6f=>{const _0x59cf20=_0x23f865;_0x124f6f['addEventListener'](_0x59cf20(0x91d),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x14d47b){const _0x307295=_0x335401,_0x2f8bbf=_0x14d47b[_0x307295(0x265)],_0x5cc400=_0x2f8bbf[_0x307295(0x583)](_0x307295(0x117));if(!_0x5cc400)return;const _0x23a6df=parseInt(_0x5cc400[_0x307295(0x93d)][_0x307295(0x76d)],0xa);if(isNaN(_0x23a6df)||!currentEditingQuizData[_0x307295(0x4e3)][_0x23a6df]){showMessage(_0x307295(0x710));return;}const _0x2709a3=currentEditingQuizData[_0x307295(0x4e3)][_0x23a6df];_0x2f8bbf[_0x307295(0x297)]=_0x307295(0x12b),_0x2f8bbf[_0x307295(0x53e)]=!![];const _0x30b912='\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20'+JSON[_0x307295(0x3af)](_0x2709a3)+_0x307295(0x246);let _0xe48b48;const _0x1d4c0b=_0x2709a3[_0x307295(0x23d)]||currentEditingQuizData['quizType'];switch(_0x1d4c0b){case _0x307295(0x787):_0xe48b48={'type':_0x307295(0x4cb),'properties':{'questionText':{'type':_0x307295(0x517)},'idealAnswer':{'type':_0x307295(0x517)},'explanation':{'type':_0x307295(0x517)},'imageCode':{'type':_0x307295(0x517)}},'required':[_0x307295(0x7f3),_0x307295(0x4a8),_0x307295(0x199)]};break;case _0x307295(0x847):default:_0xe48b48={'type':_0x307295(0x4cb),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x307295(0x517)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x307295(0x517)},'imageCode':{'type':_0x307295(0x517)}},'required':[_0x307295(0x7f3),'options',_0x307295(0x801),'explanation']};break;}try{let _0x4e16ad=await callAnalysisApi(_0x30b912,_0xe48b48);_0x4e16ad['options']&&Array[_0x307295(0x40b)](_0x4e16ad['options'])&&(_0x4e16ad[_0x307295(0x5b2)]=_0x4e16ad[_0x307295(0x5b2)]['map'](_0x399fae=>typeof _0x399fae===_0x307295(0x8c9)?_0x399fae[_0x307295(0x86e)](/S(\s*[\d_]+?\s*)S/g,_0x307295(0x288)):_0x399fae)),_0x2709a3[_0x307295(0x2f7)]&&_0x2709a3[_0x307295(0x2f7)][_0x307295(0x655)](_0x307295(0x98a))&&(_0x4e16ad['imageCode']=''),currentEditingQuizData[_0x307295(0x4e3)][_0x23a6df]={..._0x2709a3,..._0x4e16ad},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x3c910a){console['error'](_0x307295(0x98d),_0x3c910a),showMessage(_0x307295(0x1b8)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x9e2bed=_0x335401,_0x327104=document[_0x9e2bed(0x11a)](_0x9e2bed(0x420));_0x327104[_0x9e2bed(0x53e)]=!![],_0x327104['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x3b198f=document['getElementById'](_0x9e2bed(0x9d1))[_0x9e2bed(0x5ce)],_0x14423a=document[_0x9e2bed(0xf8)]('.question-editor-item');let _0x32f250=[];const _0x25f2e8=Array[_0x9e2bed(0x50e)](_0x14423a)['map']((_0x2f6567,_0x16db90)=>{const _0x287073=_0x9e2bed,_0x82038b=_0x2f6567[_0x287073(0x93d)]['qType'],_0x24c72c=_0x2f6567[_0x287073(0x341)]('textarea')[_0x287073(0x5ce)];let _0x327fe9={'questionType':_0x82038b};const _0x803e3f=currentEditingQuizData[_0x287073(0x4e3)][_0x16db90];switch(_0x82038b){case'multiple_choice':_0x327fe9['questionText']=_0x24c72c;const _0x3f7fff=_0x2f6567['querySelectorAll'](_0x287073(0x644));_0x327fe9['options']=Array[_0x287073(0x50e)](_0x3f7fff)['map'](_0x1fd024=>_0x1fd024[_0x287073(0x5ce)]);const _0x1d0ffe=_0x2f6567[_0x287073(0x341)](_0x287073(0x722));_0x327fe9[_0x287073(0x801)]=_0x1d0ffe?parseInt(_0x1d0ffe[_0x287073(0x5ce)]):0x0;break;case _0x287073(0x787):_0x327fe9[_0x287073(0x7f3)]=_0x24c72c,_0x327fe9[_0x287073(0x4a8)]=_0x2f6567['querySelector'](_0x287073(0x762))[_0x287073(0x5ce)];break;case _0x287073(0x4c4):_0x327fe9[_0x287073(0x7f3)]=_0x24c72c;const _0x2df263=_0x2f6567[_0x287073(0x341)](_0x287073(0x722));_0x327fe9[_0x287073(0x81)]=_0x2df263?_0x2df263[_0x287073(0x5ce)]==='true':!![];break;case _0x287073(0x524):_0x327fe9[_0x287073(0x99e)]=_0x24c72c;const _0x880683=_0x2f6567[_0x287073(0x341)](_0x287073(0x83d));_0x327fe9[_0x287073(0x441)]=_0x880683?_0x880683[_0x287073(0x5ce)]:'',_0x32f250['push'](_0x327fe9[_0x287073(0x441)]);break;default:_0x327fe9['questionText']=_0x24c72c;break;}return{..._0x803e3f,..._0x327fe9};});_0x32f250['length']>0x0&&_0x25f2e8['forEach'](_0x3b46a0=>{const _0x1c6ab9=_0x9e2bed;_0x3b46a0[_0x1c6ab9(0x23d)]==='matching_item'&&(_0x3b46a0['allResponses']=_0x32f250);});const _0x951848=currentEditingQuizData['id'],_0x30ceb5=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x951848);await updateDoc(_0x30ceb5,{'topic':_0x3b198f,'questions':_0x25f2e8}),document[_0x9e2bed(0x11a)](_0x9e2bed(0x5a8))[_0x9e2bed(0x8f)][_0x9e2bed(0x85b)]('hidden'),showMessage(_0x9e2bed(0x19d),()=>initiateReGradeProcess(_0x951848));}catch(_0x2332d8){console[_0x9e2bed(0x529)](_0x9e2bed(0x49b),_0x2332d8),showMessage(_0x9e2bed(0x865));}finally{_0x327104[_0x9e2bed(0x53e)]=![],_0x327104[_0x9e2bed(0x297)]=_0x9e2bed(0x780);}}async function initiateReGradeProcess(_0x4e5322){const _0x130107=_0x335401;showMessage(_0x130107(0x9bb));try{const _0x44ddc7=doc(db,'artifacts/'+appId+_0x130107(0x5e5),_0x4e5322),_0x2fd7b4=await getDoc(_0x44ddc7);if(!_0x2fd7b4[_0x130107(0x91b)]())throw new Error(_0x130107(0x46b));const _0x3edbdd={'id':_0x4e5322,..._0x2fd7b4[_0x130107(0x33f)]()},_0x1b693a=collection(db,_0x130107(0x82)+appId+'/public/data/quizzes',_0x4e5322,_0x130107(0x63c)),_0x457c65=await getDocs(_0x1b693a);if(_0x457c65[_0x130107(0x45b)]){showMessage(_0x130107(0x6fc));return;}const _0x4feac2=_0x457c65[_0x130107(0x84c)][_0x130107(0x4eb)](_0x23c356=>reGradeSingleSubmission(_0x23c356,_0x3edbdd));await Promise[_0x130107(0x465)](_0x4feac2);if(_0x3edbdd[_0x130107(0x4b5)]){const _0x2e62ce=doc(db,'artifacts/'+appId+_0x130107(0x8c3),_0x3edbdd[_0x130107(0x4b5)]),_0x23e92f=await getDoc(_0x2e62ce);if(_0x23e92f[_0x130107(0x91b)]()&&_0x23e92f[_0x130107(0x33f)]()[_0x130107(0x4c6)]){const _0x10d16b=_0x23e92f[_0x130107(0x33f)]()[_0x130107(0x4c6)][_0x130107(0x4eb)](_0x5b4651=>updateStudentProfile(_0x3edbdd[_0x130107(0x4b5)],_0x5b4651));await Promise[_0x130107(0x465)](_0x10d16b);}}showMessage(_0x130107(0x744)+_0x457c65[_0x130107(0x74b)]+_0x130107(0x6eb));}catch(_0x3fa6c4){console['error'](_0x130107(0x57b),_0x3fa6c4),showMessage(_0x130107(0x46d)+_0x3fa6c4[_0x130107(0x2da)]);}}async function reGradeSingleSubmission(_0x42ba78,_0x56b8a6){const _0x737297=_0x335401,_0x1ae2b5=_0x42ba78[_0x737297(0x33f)](),_0x223319=_0x1ae2b5[_0x737297(0x700)],_0x2e769e=_0x1ae2b5[_0x737297(0x34b)]||[],_0x254593=[];for(const _0x1877e0 of _0x2e769e){let _0x4fad84=0x0,_0x32b441=[],_0x582963=0x0;const _0x128e1f=[];for(const _0x20108e of _0x1877e0[_0x737297(0x2aa)]){let _0x43b471;_0x20108e[_0x737297(0x3fa)]&&(_0x43b471=_0x56b8a6['questions']['find'](_0x1842af=>_0x1842af['id']===_0x20108e['questionId']));!_0x43b471&&_0x20108e[_0x737297(0xc7)]&&(_0x43b471=_0x56b8a6['questions']['find'](_0x10ca8c=>(_0x10ca8c[_0x737297(0x99e)]||_0x10ca8c['questionText'])===_0x20108e['originalQuestionText']));let _0x397eef=![];if(_0x43b471){const _0x3e50c3=_0x43b471['questionType']||_0x56b8a6[_0x737297(0x7a1)];switch(_0x3e50c3){case _0x737297(0x847):if(_0x43b471[_0x737297(0x5b2)]&&_0x43b471[_0x737297(0x801)]<_0x43b471['options']['length']){const _0xc88dce=_0x43b471['options'][_0x43b471[_0x737297(0x801)]];_0x397eef=_0x20108e['answerText']===_0xc88dce;}break;case _0x737297(0x4c4):const _0xe85187=_0x20108e[_0x737297(0x4a7)]===!![]||_0x20108e[_0x737297(0x4a7)]==='true';_0x397eef=_0xe85187===_0x43b471[_0x737297(0x81)];break;case _0x737297(0x524):_0x397eef=_0x20108e['answer']===_0x43b471[_0x737297(0x441)];break;case _0x737297(0x787):_0x397eef=await gradeShortAnswer(_0x20108e[_0x737297(0x4a7)],_0x43b471);break;default:_0x397eef=_0x20108e['isCorrect'];break;}}if(_0x397eef){_0x4fad84++,_0x582963++;if(_0x582963===0x3)_0x32b441[_0x737297(0x135)](BADGES[_0x737297(0x457)]['id']);}else _0x582963=0x0;_0x128e1f[_0x737297(0x135)]({..._0x20108e,'isCorrect':_0x397eef});}let _0x411bb1=_0x4fad84*0xa;_0x4fad84===_0x56b8a6['questions'][_0x737297(0x38d)]&&(_0x411bb1+=0x32,_0x32b441[_0x737297(0x135)](BADGES[_0x737297(0x1be)]['id'])),_0x254593[_0x737297(0x135)]({..._0x1877e0,'score':_0x4fad84,'points':_0x411bb1,'badges':Array[_0x737297(0x50e)](new Set(_0x32b441)),'answers':_0x128e1f});}const _0x416093=_0x254593[_0x737297(0x38d)]>0x0?_0x254593[0x0]['score']:0x0,_0x5432e8=Math[_0x737297(0x594)](..._0x254593[_0x737297(0x4eb)](_0x23986e=>_0x23986e[_0x737297(0x94c)])),_0x40bc7f=_0x254593[_0x737297(0x38d)]>0x0?_0x254593[_0x254593[_0x737297(0x38d)]-0x1][_0x737297(0x94c)]:0x0,_0x1a0199=_0x254593[_0x737297(0x38d)]>0x0?_0x254593[_0x254593[_0x737297(0x38d)]-0x1]['points']:0x0,_0xb4b295=doc(db,_0x737297(0x82)+appId+_0x737297(0x2d6)+_0x56b8a6['id']+'/submissions',_0x223319);await updateDoc(_0xb4b295,{'attempts':_0x254593,'firstScore':_0x416093,'bestScore':_0x5432e8,'latestScore':_0x40bc7f,'points':_0x1a0199});}function cleanupQuizOptions(_0xd18b05){const _0x3c3226=_0x335401,_0x16b352=(_0x2e6ebd,_0x346cd4)=>_0x346cd4===0x0?_0x2e6ebd:_0x16b352(_0x346cd4,_0x2e6ebd%_0x346cd4),_0x33d647=_0x1ff70c=>{const _0x45753e=_0x5620;if(typeof _0x1ff70c!==_0x45753e(0x8c9))return null;_0x1ff70c=_0x1ff70c['trim']();const _0x4583c2=_0x1ff70c[_0x45753e(0x4a6)](/[ /]/)[_0x45753e(0x84b)](_0x423abf=>_0x423abf!=='');if(_0x4583c2[_0x45753e(0x38d)]===0x3)return parseInt(_0x4583c2[0x0])+parseInt(_0x4583c2[0x1])/parseInt(_0x4583c2[0x2]);else{if(_0x4583c2['length']===0x2)return parseInt(_0x4583c2[0x0])/parseInt(_0x4583c2[0x1]);else{if(_0x4583c2['length']===0x1&&!isNaN(_0x4583c2[0x0]))return parseFloat(_0x4583c2[0x0]);}}return null;},_0x404e15=_0x30f636=>{const _0x44136c=_0x5620;if(typeof _0x30f636!==_0x44136c(0x8c9))return _0x30f636;const _0x12871a=_0x30f636[_0x44136c(0x14b)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x12871a){const _0x11e084=parseInt(_0x12871a[0x1]);let _0x44f742=parseInt(_0x12871a[0x2]),_0x18ddac=parseInt(_0x12871a[0x3]);const _0x39e4dd=_0x16b352(_0x44f742,_0x18ddac);_0x44f742/=_0x39e4dd,_0x18ddac/=_0x39e4dd;if(_0x18ddac===0x1)return(_0x11e084+_0x44f742)[_0x44136c(0x5dc)]();return _0x11e084+'\x20'+_0x44f742+'/'+_0x18ddac;}return _0x30f636;};return _0xd18b05&&_0xd18b05[_0x3c3226(0x4e3)]&&_0xd18b05[_0x3c3226(0x4e3)]['forEach'](_0x5eadb8=>{const _0x7980de=_0x3c3226;if(_0x5eadb8['questionType']===_0x7980de(0x847)&&_0x5eadb8['options']){const _0x401143=new Map(),_0x351d03=_0x5eadb8[_0x7980de(0x5b2)][_0x5eadb8[_0x7980de(0x801)]];_0x5eadb8[_0x7980de(0x5b2)][_0x7980de(0x40a)](_0x384ba8=>{const _0x3011db=_0x7980de,_0x3faca3=_0x404e15(_0x384ba8),_0x315722=_0x33d647(_0x3faca3);_0x315722!==null&&!_0x401143[_0x3011db(0x6d2)](_0x315722)&&_0x401143[_0x3011db(0x85e)](_0x315722,_0x3faca3);}),_0x5eadb8[_0x7980de(0x5b2)]=Array[_0x7980de(0x50e)](_0x401143[_0x7980de(0x5aa)]());const _0x259bae=_0x5eadb8[_0x7980de(0x5b2)]['findIndex'](_0x56eecc=>_0x56eecc===_0x404e15(_0x351d03));_0x5eadb8['correctAnswerIndex']=_0x259bae!==-0x1?_0x259bae:0x0;}}),_0xd18b05;}function showGameStartConfirmationModal(_0x36091d,_0x321a49,_0x294b05){const _0x1617f6=_0x335401,_0x4e096e=document[_0x1617f6(0x11a)](_0x1617f6(0x519));document[_0x1617f6(0x11a)](_0x1617f6(0xc0))[_0x1617f6(0x9a9)]='เริ่มกิจกรรม:\x20'+_0x294b05,document[_0x1617f6(0x11a)](_0x1617f6(0x818))[_0x1617f6(0x5ce)]=_0x36091d,document['getElementById']('game-start-mode')['value']=_0x321a49,document['getElementById']('save-game-results-checkbox')[_0x1617f6(0x68b)]=!![],_0x4e096e[_0x1617f6(0x8f)][_0x1617f6(0x57c)](_0x1617f6(0x6f8));}async function saveGameResultsAsSubmissions(_0x152cff){const _0x83a1d9=_0x335401;console[_0x83a1d9(0x27b)](_0x83a1d9(0x39a),_0x152cff);const _0xb18da2=_0x152cff[_0x83a1d9(0x1bb)];let _0x566fbf=[];if(_0x152cff[_0x83a1d9(0x924)])_0x566fbf=Object[_0x83a1d9(0x3c6)](_0x152cff[_0x83a1d9(0x924)])[_0x83a1d9(0x4eb)](([_0x555216,_0x50fe4f])=>({'name':_0x555216,..._0x50fe4f}));else{if(_0x152cff['groups'])Object[_0x83a1d9(0x5aa)](_0x152cff[_0x83a1d9(0x51a)])['forEach'](_0x49abcd=>{const _0x1345df=_0x83a1d9;_0x49abcd[_0x1345df(0x990)][_0x1345df(0x40a)](_0x3653ad=>{const _0x5477b5=_0x1345df;_0x566fbf[_0x5477b5(0x135)]({'name':_0x3653ad,'score':_0x49abcd[_0x5477b5(0x94c)]});});});else _0x152cff['responses']&&Object[_0x83a1d9(0x3c6)](_0x152cff[_0x83a1d9(0x8fc)])[_0x83a1d9(0x40a)](([_0x3c42f2,_0x234460])=>{_0x566fbf['push']({'name':_0x3c42f2,..._0x234460});});}if(_0x566fbf['length']===0x0){console[_0x83a1d9(0x27b)](_0x83a1d9(0x16b));return;}const _0x4408dd=_0x152cff[_0x83a1d9(0x189)]?.['questions'][_0x83a1d9(0x38d)]||currentQuizData[_0x83a1d9(0x4e3)][_0x83a1d9(0x38d)],_0x5d8507=writeBatch(db);for(const _0x3ab818 of _0x566fbf){const _0xea05a6=_0x3ab818[_0x83a1d9(0x94c)]||0x0,_0x1e1486=doc(db,_0x83a1d9(0x82)+appId+_0x83a1d9(0x2d6)+_0xb18da2+_0x83a1d9(0x212),_0x3ab818['name']),_0x510c43={'score':_0xea05a6,'points':_0xea05a6*0xa,'badges':_0x3ab818[_0x83a1d9(0x34a)]||[],'submittedAt':new Date()['toISOString'](),'answers':(_0x3ab818[_0x83a1d9(0x2aa)]||[])['map'](_0x45b942=>({'questionId':_0x45b942[_0x83a1d9(0x3fa)],'answer':_0x45b942[_0x83a1d9(0x4a7)],'answerText':_0x45b942[_0x83a1d9(0x536)],'isCorrect':_0x45b942[_0x83a1d9(0xdc)],'originalQuestionText':_0x45b942['originalQuestionText']}))},_0x315b5a=await getDoc(_0x1e1486),_0xf1b482=_0x315b5a[_0x83a1d9(0x91b)]()?_0x315b5a[_0x83a1d9(0x33f)]():{},_0x25750b=_0xf1b482[_0x83a1d9(0x37e)]||0x0,_0x10a7d5=_0xf1b482[_0x83a1d9(0x34b)]||[],_0x417fc7={'studentName':_0x3ab818['name'],'totalQuestions':_0x4408dd,'attempts':arrayUnion(_0x510c43),'latestScore':_0xea05a6,'latestSubmittedAt':_0x510c43['submittedAt'],'bestScore':Math['max'](_0x25750b,_0xea05a6),'firstScore':_0x10a7d5[_0x83a1d9(0x38d)]===0x0?_0xea05a6:_0xf1b482['firstScore']||0x0};_0x5d8507['set'](_0x1e1486,_0x417fc7,{'merge':!![]});}try{await _0x5d8507[_0x83a1d9(0x92d)](),showMessage(_0x83a1d9(0x95e)+_0x566fbf['length']+_0x83a1d9(0x9d));const _0x33722b=_0x152cff[_0x83a1d9(0x189)]?.[_0x83a1d9(0x4b5)]||currentQuizData?.['projectId']||currentProjectId;if(_0x33722b){const _0x4266b5=[...new Set(_0x566fbf[_0x83a1d9(0x4eb)](_0x755633=>_0x755633['name']))];for(const _0x3ae5ab of _0x4266b5){await updateStudentProfile(_0x33722b,_0x3ae5ab);}}}catch(_0x148b96){console['error'](_0x83a1d9(0xbf),_0x148b96),showMessage(_0x83a1d9(0x11f));}}async function saveQuiz(){const _0x183e8d=_0x335401;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x183e8d(0xad));return;}const _0x43a189=document[_0x183e8d(0x11a)](_0x183e8d(0x324));_0x43a189[_0x183e8d(0x53e)]=!![],_0x43a189['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x4238dc=document['getElementById'](_0x183e8d(0x412))['checked'];let _0x155e1a=document[_0x183e8d(0x11a)](_0x183e8d(0x1b0))[_0x183e8d(0x46a)][_0x183e8d(0xa5)]();_0x4238dc&&!_0x155e1a['startsWith']('(ก่อนเรียน)')&&(_0x155e1a=_0x183e8d(0xf6)+_0x155e1a);try{const _0x5ce5e6={'resultsDisplay':document[_0x183e8d(0x11a)](_0x183e8d(0x9b8))[_0x183e8d(0x5ce)],'shuffle':document[_0x183e8d(0x11a)]('shuffle-setting-select')['value'],'timerMode':document[_0x183e8d(0x11a)](_0x183e8d(0x3e0))[_0x183e8d(0x5ce)],'timerDuration':parseInt(document[_0x183e8d(0x11a)](_0x183e8d(0x25d))[_0x183e8d(0x5ce)])||0xa,'passingScore':parseInt(document[_0x183e8d(0x11a)](_0x183e8d(0x5c5))[_0x183e8d(0x5ce)])||0x0,'isAdaptive':document[_0x183e8d(0x11a)]('adaptive-quiz-checkbox')[_0x183e8d(0x68b)],'loopUntilPass':document['getElementById'](_0x183e8d(0x567))[_0x183e8d(0x68b)]},_0x5bdf6f=(currentQuizData[_0x183e8d(0x4e3)]||[])[_0x183e8d(0x4eb)]((_0x1aa129,_0x5465fc)=>{const _0x352e59=_0x183e8d,_0x198dae=document[_0x352e59(0x11a)](_0x352e59(0x8b9))['value'],_0x4a4b76={'id':'q_'+Date[_0x352e59(0x160)]()+'_'+_0x5465fc,'questionText':_0x1aa129[_0x352e59(0x7f3)]||'','explanation':_0x1aa129['explanation']||_0x352e59(0x203),'questionType':_0x1aa129['questionType']||_0x198dae,'imageCode':_0x1aa129[_0x352e59(0x2f7)]||null};return(_0x4a4b76[_0x352e59(0x23d)]===_0x352e59(0x847)||_0x4a4b76['questionType']===_0x352e59(0x570)||_0x4a4b76['questionType']===_0x352e59(0x386)&&_0x1aa129[_0x352e59(0x5b2)])&&(_0x4a4b76[_0x352e59(0x5b2)]=_0x1aa129[_0x352e59(0x5b2)]||[],_0x4a4b76[_0x352e59(0x801)]=_0x1aa129[_0x352e59(0x801)]!==undefined?_0x1aa129[_0x352e59(0x801)]:0x0),(_0x4a4b76[_0x352e59(0x23d)]===_0x352e59(0x787)||_0x4a4b76[_0x352e59(0x23d)]===_0x352e59(0x4fc)||_0x4a4b76[_0x352e59(0x23d)]===_0x352e59(0x386)&&_0x1aa129[_0x352e59(0x4a8)])&&(_0x4a4b76[_0x352e59(0x4a8)]=_0x1aa129[_0x352e59(0x4a8)]||''),_0x4a4b76[_0x352e59(0x23d)]===_0x352e59(0x4c4)&&(_0x4a4b76[_0x352e59(0x81)]=_0x1aa129[_0x352e59(0x81)]===!![]),_0x4a4b76[_0x352e59(0x23d)]===_0x352e59(0x524)&&(_0x4a4b76[_0x352e59(0x99e)]=_0x1aa129[_0x352e59(0x99e)]||'',_0x4a4b76['correctResponse']=_0x1aa129['correctResponse']||'',_0x4a4b76[_0x352e59(0x16f)]=_0x1aa129[_0x352e59(0x16f)]||[]),_0x4a4b76;}),_0x1af5e7={'topic':_0x155e1a,'quizType':currentQuizData[_0x183e8d(0x7a1)]||_0x183e8d(0x847),'questions':_0x5bdf6f,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x183e8d(0x910)](),'status':_0x183e8d(0x8eb),'settings':_0x5ce5e6,'quizMode':_0x4238dc?_0x183e8d(0x805):'standard','pairedQuizId':null,'lessonPlan':null};let _0x44bbd1;while(!![]){_0x44bbd1=Math['floor'](0x3e8+Math[_0x183e8d(0x8fe)]()*0x2328)[_0x183e8d(0x5dc)]();const _0x54d305=await getDoc(doc(db,_0x183e8d(0x82)+appId+_0x183e8d(0x5e5),_0x44bbd1));if(!_0x54d305['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x183e8d(0x5e5),_0x44bbd1),_0x1af5e7),currentQuizData[_0x183e8d(0x7f5)]=_0x5ce5e6,currentQuizData['id']=_0x44bbd1;const _0x2c7a11=document[_0x183e8d(0x11a)]('generated-quiz-actions');_0x2c7a11[_0x183e8d(0x297)]=_0x183e8d(0x758)+_0x44bbd1+_0x183e8d(0x7d9),document['getElementById'](_0x183e8d(0x4ab))[_0x183e8d(0x1e2)](_0x183e8d(0x91d),()=>copyTextToClipboard(_0x44bbd1,_0x183e8d(0x8bd))),document[_0x183e8d(0x11a)]('start-live-race-generated-btn')['addEventListener'](_0x183e8d(0x91d),()=>handleStartLiveRace(_0x44bbd1)),document[_0x183e8d(0x11a)](_0x183e8d(0xca))['addEventListener'](_0x183e8d(0x91d),()=>startPresentation(currentQuizData)),document['getElementById'](_0x183e8d(0x1f5))[_0x183e8d(0x1e2)](_0x183e8d(0x91d),startAdminTest),showMessage(_0x183e8d(0x2cc));}catch(_0x225d9f){console[_0x183e8d(0x529)](_0x183e8d(0x6d6),_0x225d9f),showMessage(_0x183e8d(0x20c)),_0x43a189[_0x183e8d(0x53e)]=![],_0x43a189[_0x183e8d(0x297)]=_0x183e8d(0x922);}}function promptForProjectAndSave(){const _0x11110a=_0x335401,_0x361ed9=document[_0x11110a(0x11a)]('move-quiz-modal'),_0x214641=document[_0x11110a(0x11a)](_0x11110a(0x5fb)),_0x58ff19=_0x361ed9[_0x11110a(0x341)]('h3'),_0x35d9a7=document[_0x11110a(0x11a)](_0x11110a(0x5ad));_0x58ff19[_0x11110a(0x9a9)]=_0x11110a(0x6b7),_0x35d9a7['textContent']=_0x11110a(0x4cc);allProjects['length']===0x0?(_0x214641[_0x11110a(0x297)]=_0x11110a(0x3ca),_0x35d9a7[_0x11110a(0x53e)]=!![]):(_0x214641[_0x11110a(0x297)]=allProjects[_0x11110a(0x4eb)](_0x1fccd3=>'<option\x20value=\x22'+_0x1fccd3['id']+'\x22>'+_0x1fccd3[_0x11110a(0x8b2)]+_0x11110a(0x6bc))['join'](''),_0x35d9a7[_0x11110a(0x53e)]=![]);_0x361ed9[_0x11110a(0x8f)]['remove'](_0x11110a(0x6f8));const _0x3d4909=()=>{const _0x23ff7d=_0x11110a,_0x15e3ac=_0x214641[_0x23ff7d(0x5ce)];_0x15e3ac?(currentProjectId=_0x15e3ac,_0x361ed9[_0x23ff7d(0x8f)]['add'](_0x23ff7d(0x6f8)),saveQuiz(),_0x58ff19[_0x23ff7d(0x9a9)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x35d9a7[_0x23ff7d(0x9a9)]='ย้าย',_0x35d9a7[_0x23ff7d(0x2b3)](_0x23ff7d(0x91d),_0x3d4909),_0x35d9a7[_0x23ff7d(0x1e2)](_0x23ff7d(0x91d),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x35d9a7[_0x11110a(0x2b3)](_0x11110a(0x91d),confirmMoveQuiz),_0x35d9a7[_0x11110a(0x1e2)](_0x11110a(0x91d),_0x3d4909);}function copyTextToClipboard(_0x1385d0,_0x3069d7){const _0x2bb4eb=_0x335401,_0x46e3c2=document[_0x2bb4eb(0x268)](_0x2bb4eb(0x647));_0x46e3c2['value']=_0x1385d0,_0x46e3c2[_0x2bb4eb(0x149)][_0x2bb4eb(0x98f)]='fixed',_0x46e3c2['style'][_0x2bb4eb(0x262)]='0',document[_0x2bb4eb(0x24d)][_0x2bb4eb(0x3a6)](_0x46e3c2),_0x46e3c2[_0x2bb4eb(0x447)](),_0x46e3c2[_0x2bb4eb(0x4ce)]();try{const _0x5aef82=document['execCommand'](_0x2bb4eb(0x90d));showMessage(_0x5aef82?_0x3069d7:_0x2bb4eb(0x85f));}catch(_0x581117){showMessage('คัดลอกไม่สำเร็จ'),console[_0x2bb4eb(0x529)](_0x2bb4eb(0x22f),_0x581117);}document[_0x2bb4eb(0x24d)][_0x2bb4eb(0x750)](_0x46e3c2);}function listenForProjectQuizzes(_0x3a7ebe){const _0x19a801=_0x335401,_0x1fa90d=collection(db,'artifacts/'+appId+_0x19a801(0x5e5)),_0x4f8c6a=query(_0x1fa90d,where(_0x19a801(0x4b5),'==',_0x3a7ebe));unsubscribeQuizzesListener=onSnapshot(_0x4f8c6a,async _0x37dc79=>{const _0x59cc2a=_0x19a801;allQuizzes=_0x37dc79[_0x59cc2a(0x84c)][_0x59cc2a(0x4eb)](_0x42b6d7=>({'id':_0x42b6d7['id'],..._0x42b6d7[_0x59cc2a(0x33f)]()})),renderQuizzes();},_0x3c6565=>{const _0x1bcfd5=_0x19a801;console[_0x1bcfd5(0x529)](_0x1bcfd5(0x8e),_0x3c6565),document[_0x1bcfd5(0x11a)](_0x1bcfd5(0x3d8))['innerHTML']='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x223efd=_0x335401,_0x2257cd=document[_0x223efd(0x11a)]('project-quizzes-list'),_0x237b34=document['getElementById'](_0x223efd(0x82a))[_0x223efd(0x5ce)][_0x223efd(0x5f2)]();let _0x768aa6;currentProjectId===_0x223efd(0x568)?_0x768aa6=starredQuizzes:_0x768aa6=allQuizzes;let _0xa4a8e6=_0x768aa6[_0x223efd(0x84b)](_0x52a5b6=>_0x52a5b6[_0x223efd(0x7d5)][_0x223efd(0x5f2)]()[_0x223efd(0x655)](_0x237b34));_0xa4a8e6['sort']((_0x41c120,_0x38a6e5)=>new Date(_0x38a6e5[_0x223efd(0x971)])-new Date(_0x41c120[_0x223efd(0x971)]));if(_0xa4a8e6[_0x223efd(0x38d)]===0x0){_0x2257cd[_0x223efd(0x297)]=_0x223efd(0x736);return;}const _0x36e026={},_0x30de68=_0xa4a8e6['map'](async _0x24bba8=>{const _0x519248=_0x223efd,_0x1a8022=collection(db,_0x519248(0x82)+appId+_0x519248(0x2d6)+_0x24bba8['id']+_0x519248(0x212)),_0x4538f7=await getDocs(_0x1a8022);_0x36e026[_0x24bba8['id']]=_0x4538f7[_0x519248(0x74b)];});await Promise['all'](_0x30de68);let _0x1a6d36='';_0xa4a8e6[_0x223efd(0x40a)](_0x2ff7ac=>{const _0x3f55c4=_0x223efd,_0xaaf793=_0x36e026[_0x2ff7ac['id']]||0x0,_0x39e917=_0x2ff7ac['status']||_0x3f55c4(0x8eb),_0xea3be1=_0x2ff7ac[_0x3f55c4(0x7f5)]?.[_0x3f55c4(0x7e9)]||'none';let _0xcd2152='',_0x3023d4='';const _0x265925=new Date();let _0x32da29=_0x39e917;if(_0x39e917===_0x3f55c4(0x13d)){const _0x24d8c9=_0x2ff7ac[_0x3f55c4(0x906)]?new Date(_0x2ff7ac[_0x3f55c4(0x906)]):null,_0x815c9f=_0x2ff7ac[_0x3f55c4(0x5a3)]?new Date(_0x2ff7ac[_0x3f55c4(0x5a3)]):null;if(_0x815c9f&&_0x265925>_0x815c9f)_0x32da29=_0x3f55c4(0x4e2);else _0x24d8c9&&_0x265925<_0x24d8c9?_0x32da29=_0x3f55c4(0xd8):_0x32da29='active';}switch(_0x32da29){case _0x3f55c4(0x4e2):_0xcd2152=_0x3f55c4(0x3c2),_0x3023d4='text-red-700\x20bg-red-100';break;case _0x3f55c4(0xd8):_0xcd2152=_0x3f55c4(0x542),_0x3023d4=_0x3f55c4(0x7fe);break;case'active':_0xcd2152=_0xea3be1!=='none'?'เปิด\x20(จับเวลา)':_0x3f55c4(0x65b),_0x3023d4=_0x3f55c4(0xf0);break;default:_0xcd2152=_0x3f55c4(0x7df),_0x3023d4=_0x3f55c4(0xf0);break;}let _0x20607f='';const _0x4d04ed={'day':_0x3f55c4(0x5ca),'month':_0x3f55c4(0x5ca),'year':'numeric','hour':_0x3f55c4(0x5ca),'minute':_0x3f55c4(0x5ca),'hour12':![]};if(_0x39e917===_0x3f55c4(0x13d)){if(_0x2ff7ac['startTime'])_0x20607f+=_0x3f55c4(0x561)+new Date(_0x2ff7ac[_0x3f55c4(0x906)])[_0x3f55c4(0xbe)](_0x3f55c4(0x5f1),_0x4d04ed)+_0x3f55c4(0x472);if(_0x2ff7ac[_0x3f55c4(0x5a3)])_0x20607f+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x2ff7ac['endTime'])['toLocaleString'](_0x3f55c4(0x5f1),_0x4d04ed)+_0x3f55c4(0x472);}let _0x5c22e8='';if(_0x2ff7ac['pairedQuizId']){const _0x74553d=allQuizzes[_0x3f55c4(0x474)](_0x33e921=>_0x33e921['id']===_0x2ff7ac['pairedQuizId']);if(_0x74553d){let _0x1d22c2,_0x123534;new Date(_0x2ff7ac[_0x3f55c4(0x971)])<new Date(_0x74553d['createdAt'])?(_0x1d22c2=_0x2ff7ac['id'],_0x123534=_0x74553d['id']):(_0x1d22c2=_0x74553d['id'],_0x123534=_0x2ff7ac['id']),_0x5c22e8+=_0x3f55c4(0x95b)+_0x123534+_0x3f55c4(0x91f)+_0x1d22c2+_0x3f55c4(0x320);}}else _0x2ff7ac['quizMode']==='pre-test'&&(_0x5c22e8+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2ff7ac['id']+_0x3f55c4(0x2a6));if(_0x2ff7ac['quizMode']===_0x3f55c4(0x805)&&_0xaaf793>0x0)_0x5c22e8+=_0x3f55c4(0x1f3)+_0x2ff7ac['id']+_0x3f55c4(0x8de);else!_0x2ff7ac[_0x3f55c4(0x204)]&&_0x2ff7ac[_0x3f55c4(0x649)]!==_0x3f55c4(0x805)&&_0xaaf793>0x0&&(_0x5c22e8+=_0x3f55c4(0x1f3)+_0x2ff7ac['id']+_0x3f55c4(0x3ed));let _0xcedb71='';_0x2ff7ac[_0x3f55c4(0x204)]?_0xcedb71=_0x3f55c4(0x618)+_0x2ff7ac['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0xcedb71=_0x3f55c4(0x618)+_0x2ff7ac['id']+_0x3f55c4(0x1b1),_0x1a6d36+=_0x3f55c4(0x7e5)+_0x2ff7ac['id']+_0x3f55c4(0x11b)+_0x2ff7ac[_0x3f55c4(0x7d5)]+_0x3f55c4(0x2d8)+_0x2ff7ac[_0x3f55c4(0x4e3)][_0x3f55c4(0x38d)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x2ff7ac[_0x3f55c4(0x971)])[_0x3f55c4(0xbe)](_0x3f55c4(0x5f1))+_0x3f55c4(0x6cd)+_0xaaf793+_0x3f55c4(0x88d)+_0x20607f+_0x3f55c4(0x7e8)+_0x3023d4+'\x22>'+_0xcd2152+_0x3f55c4(0x6cb)+_0x2ff7ac['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2ff7ac['id']+_0x3f55c4(0x515)+(_0x2ff7ac[_0x3f55c4(0x957)]?_0x3f55c4(0x59e):_0x3f55c4(0x8bb))+_0x3f55c4(0x3b9)+_0x5c22e8+_0x3f55c4(0x621)+_0x2ff7ac['id']+_0x3f55c4(0x73b)+_0x2ff7ac['id']+_0x3f55c4(0x9c5)+_0x2ff7ac['id']+_0x3f55c4(0x60e)+_0x2ff7ac['id']+_0x3f55c4(0x1cb)+_0x2ff7ac['id']+_0x3f55c4(0x6bb)+_0x2ff7ac['id']+_0x3f55c4(0x379)+_0x2ff7ac['id']+_0x3f55c4(0x930)+_0x2ff7ac[_0x3f55c4(0x7d5)]+_0x3f55c4(0x298)+_0x2ff7ac['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2ff7ac['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xcedb71+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2ff7ac['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2ff7ac['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2ff7ac['id']+_0x3f55c4(0x6d1)+_0x2ff7ac['id']+_0x3f55c4(0x285)+_0x2ff7ac['id']+_0x3f55c4(0x48b)+_0x2ff7ac['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2ff7ac['id']+_0x3f55c4(0x664)+_0x2ff7ac['id']+'\x22\x20data-topic=\x22'+_0x2ff7ac[_0x3f55c4(0x7d5)]+_0x3f55c4(0x91a)+_0x2ff7ac['id']+'\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2257cd[_0x223efd(0x297)]=_0x1a6d36,document[_0x223efd(0xf8)](_0x223efd(0x4a2))[_0x223efd(0x40a)](_0x4b4624=>{const _0x4586b2=_0x223efd;_0x4b4624[_0x4586b2(0x1e2)](_0x4586b2(0x91d),()=>{const _0x59b345=_0x4586b2,_0x14bbb8=_0x4b4624[_0x59b345(0x93d)][_0x59b345(0x1bb)];showQuizDetailView(_0x14bbb8);});});}async function handleUnpairQuiz(_0x2a4cc2){const _0x4e2eb2=_0x335401,_0x4beefd=allQuizzes['find'](_0x4078cf=>_0x4078cf['id']===_0x2a4cc2);if(!_0x4beefd||!_0x4beefd[_0x4e2eb2(0x204)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?',async()=>{const _0x58de6e=_0x4e2eb2;try{const _0x484328=doc(db,_0x58de6e(0x82)+appId+_0x58de6e(0x5e5),_0x2a4cc2),_0x3c9545=doc(db,'artifacts/'+appId+_0x58de6e(0x5e5),_0x4beefd[_0x58de6e(0x204)]),_0x51e165=writeBatch(db);_0x51e165[_0x58de6e(0x3b0)](_0x484328,{'pairedQuizId':null}),_0x51e165[_0x58de6e(0x3b0)](_0x3c9545,{'pairedQuizId':null}),await _0x51e165['commit'](),showMessage(_0x58de6e(0x7c9));}catch(_0x18fbf9){console['error'](_0x58de6e(0x753),_0x18fbf9),showMessage(_0x58de6e(0x8a));}});}function formatAndPrintLessonPlan(_0xfa0b4e,_0x58a37b){const _0xa551f8=_0x335401,_0x370fb7=window[_0xa551f8(0x77e)]('',_0xa551f8(0x8f7)),_0x3e4a6c=_0xa551f8(0x558)+_0x58a37b[_0xa551f8(0x7d5)]+_0xa551f8(0x67c)+_0x58a37b[_0xa551f8(0x7d5)]+_0xa551f8(0x4bf)+_0xfa0b4e[_0xa551f8(0x668)][_0xa551f8(0x4eb)](_0x3f4b62=>_0xa551f8(0x75d)+_0x3f4b62+_0xa551f8(0x49d))[_0xa551f8(0x7d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0xfa0b4e[_0xa551f8(0x6d7)]+_0xa551f8(0x612)+_0xfa0b4e[_0xa551f8(0x2df)][_0xa551f8(0x4eb)](_0x3e8dc6=>_0xa551f8(0x70c)+_0x3e8dc6[_0xa551f8(0x67e)]+_0xa551f8(0x7d3)+_0x3e8dc6[_0xa551f8(0x227)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xa551f8(0x7d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x370fb7[_0xa551f8(0x8cd)][_0xa551f8(0x55e)](_0x3e4a6c),_0x370fb7[_0xa551f8(0x8cd)][_0xa551f8(0x25b)](),_0x370fb7['onload']=function(){setTimeout(()=>{const _0x296c07=_0x5620;_0x370fb7[_0x296c07(0x2a9)]();},0x3e8);};}async function handleAiFixFormula(_0x2378e4){const _0x4744ca=_0x335401,_0x5746bb=document[_0x4744ca(0x341)](_0x4744ca(0xbb)+_0x2378e4+'\x22]');if(!_0x5746bb)return;const _0x2ea03e=_0x5746bb[_0x4744ca(0x93d)][_0x4744ca(0x2d2)],_0x530d88=_0x5746bb['querySelector'](_0x4744ca(0x2b8));let _0x433a7b={'question':_0x5746bb[_0x4744ca(0x341)]('textarea')[_0x4744ca(0x5ce)]};switch(_0x2ea03e){case _0x4744ca(0x847):_0x433a7b[_0x4744ca(0x5b2)]=Array[_0x4744ca(0x50e)](_0x5746bb[_0x4744ca(0xf8)](_0x4744ca(0x644)))[_0x4744ca(0x4eb)](_0x1cee9c=>_0x1cee9c[_0x4744ca(0x5ce)]);break;case'short_answer':_0x433a7b[_0x4744ca(0x4a8)]=_0x5746bb[_0x4744ca(0x341)](_0x4744ca(0x762))[_0x4744ca(0x5ce)];break;case _0x4744ca(0x524):_0x433a7b[_0x4744ca(0x441)]=_0x5746bb[_0x4744ca(0x341)]('.correct-response-input')['value'];break;}_0x530d88[_0x4744ca(0x297)]=_0x4744ca(0x12b),_0x530d88[_0x4744ca(0x53e)]=!![];try{const _0x38bca4=_0x4744ca(0x84f)+JSON[_0x4744ca(0x3af)](_0x433a7b)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x1c3cda={'type':'OBJECT','properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':_0x4744ca(0x517)},'options':{'type':'ARRAY','items':{'type':_0x4744ca(0x517)}},'idealAnswer':{'type':_0x4744ca(0x517)},'correctResponse':{'type':_0x4744ca(0x517)}},'required':[_0x4744ca(0x67e)]}},'required':[_0x4744ca(0x48d)]},_0x56f387=await callAnalysisApi(_0x38bca4,_0x1c3cda);if(_0x56f387&&_0x56f387[_0x4744ca(0x48d)]){const _0x44f6bc=_0x56f387['fixedData'];_0x5746bb[_0x4744ca(0x341)](_0x4744ca(0x647))[_0x4744ca(0x5ce)]=_0x44f6bc['question']||_0x433a7b['question'];switch(_0x2ea03e){case _0x4744ca(0x847):_0x44f6bc['options']&&_0x44f6bc[_0x4744ca(0x5b2)]['length']>0x0&&_0x5746bb[_0x4744ca(0xf8)](_0x4744ca(0x644))[_0x4744ca(0x40a)]((_0x3c7888,_0x44eb06)=>{const _0x1c7630=_0x4744ca;_0x3c7888[_0x1c7630(0x5ce)]=_0x44f6bc[_0x1c7630(0x5b2)][_0x44eb06]||_0x433a7b['options'][_0x44eb06];});break;case _0x4744ca(0x787):_0x5746bb[_0x4744ca(0x341)](_0x4744ca(0x762))[_0x4744ca(0x5ce)]=_0x44f6bc['idealAnswer']||_0x433a7b[_0x4744ca(0x4a8)];break;case _0x4744ca(0x524):_0x5746bb[_0x4744ca(0x341)](_0x4744ca(0x83d))[_0x4744ca(0x5ce)]=_0x44f6bc['correctResponse']||_0x433a7b['correctResponse'];break;}if(_0x433a7b[_0x4744ca(0x67e)]!==_0x44f6bc['question'])try{const _0x194bc8=collection(db,'artifacts/'+appId+'/public/data/learnedFixes');await addDoc(_0x194bc8,{'broken':_0x433a7b[_0x4744ca(0x67e)],'fixed':_0x44f6bc[_0x4744ca(0x67e)],'createdAt':serverTimestamp()});}catch(_0x3ad95a){console['error']('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x3ad95a);}showMessage(_0x4744ca(0x882));}else throw new Error(_0x4744ca(0x63a));}catch(_0x2ee077){console[_0x4744ca(0x529)](_0x4744ca(0x9d2),_0x2ee077),showMessage(_0x4744ca(0x6a1));}finally{_0x530d88[_0x4744ca(0x297)]=_0x4744ca(0x53a),_0x530d88[_0x4744ca(0x53e)]=![];}}async function handleGenerateLessonPlan(_0x3e312b){const _0x477733=_0x335401;showMessage(_0x477733(0x1ef));try{const _0x19220b=doc(db,_0x477733(0x82)+appId+_0x477733(0x5e5),_0x3e312b),_0x571d7a=await getDoc(_0x19220b);if(!_0x571d7a[_0x477733(0x91b)]())throw new Error(_0x477733(0x46b));const _0x14ba48={'id':_0x3e312b,..._0x571d7a[_0x477733(0x33f)]()},_0x2f66b9=collection(db,_0x477733(0x82)+appId+'/public/data/quizzes',_0x3e312b,'submissions'),_0x1f2f4a=await getDocs(_0x2f66b9),_0x58ae78=_0x1f2f4a[_0x477733(0x84c)][_0x477733(0x4eb)](_0xe857b7=>_0xe857b7[_0x477733(0x33f)]());if(_0x58ae78[_0x477733(0x38d)]===0x0)throw new Error(_0x477733(0x5a7));const _0x56dc18=calculateItemAnalysis(_0x14ba48,_0x58ae78)[_0x477733(0x7a9)],_0x5f4ece=calculateDistractorAnalysis(_0x14ba48,_0x58ae78),_0x40f7d8=_0x5946ef=>{const _0x3cf666=_0x477733;if(!_0x5946ef)return'';return _0x5946ef[_0x3cf666(0x86e)](/\\/g,'\x5c\x5c')[_0x3cf666(0x86e)](/"/g,'\x5c\x22')[_0x3cf666(0x86e)](/\n/g,'\x5cn');};let _0x2c67e6=_0x477733(0x16a);_0x14ba48[_0x477733(0x4e3)][_0x477733(0x40a)]((_0x3ea7d3,_0x38358f)=>{const _0x15fd31=_0x477733,_0x3ae2fd=_0x56dc18[_0x38358f]?.['p']['toFixed'](0x2)||_0x15fd31(0x500),_0x23a2a7=_0x56dc18[_0x38358f]?.['r'][_0x15fd31(0x198)](0x2)||_0x15fd31(0x500),_0x68dbba=_0x40f7d8(_0x3ea7d3[_0x15fd31(0x7f3)]||_0x3ea7d3['stem']);_0x2c67e6+=_0x15fd31(0x99b)+(_0x38358f+0x1)+_0x15fd31(0x778)+_0x3ae2fd+_0x15fd31(0x4c2)+_0x23a2a7+_0x15fd31(0x31b)+_0x68dbba+'\x5cn';if(_0x3ea7d3[_0x15fd31(0x23d)]===_0x15fd31(0x847)&&_0x5f4ece[_0x38358f]){const _0x5bfb27=_0x5f4ece[_0x38358f],_0x59839b=Object[_0x15fd31(0x58f)](_0x5bfb27)[_0x15fd31(0x84b)](_0x5abe5a=>parseInt(_0x5abe5a)!==_0x3ea7d3[_0x15fd31(0x801)])[_0x15fd31(0x6df)]((_0x5789fa,_0x464471)=>_0x5bfb27[_0x464471][_0x15fd31(0x3e5)]-_0x5bfb27[_0x5789fa][_0x15fd31(0x3e5)])[0x0];if(_0x59839b&&_0x5bfb27[_0x59839b][_0x15fd31(0x3e5)]>0x0){const _0x1f6859=_0x40f7d8(_0x5bfb27[_0x59839b][_0x15fd31(0x928)]);_0x2c67e6+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x1f6859+_0x15fd31(0x2a5);}}});const _0x59c2ad='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x14ba48[_0x477733(0x7d5)]+_0x477733(0x795)+_0x2c67e6+_0x477733(0x21a),_0x51f73f={'type':'OBJECT','properties':{'learningGaps':{'type':_0x477733(0x401),'items':{'type':_0x477733(0x517)}},'teachingContent':{'type':_0x477733(0x517)},'practiceProblems':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'question':{'type':_0x477733(0x517)},'solution':{'type':_0x477733(0x517)}}}}},'required':['learningGaps',_0x477733(0x6d7),_0x477733(0x2df)]},_0x5741e5=await callAnalysisApi(_0x59c2ad,_0x51f73f);await updateDoc(_0x19220b,{'lessonPlan':_0x5741e5});const _0x5e01d1=_0x477733(0x3c9)+_0x14ba48[_0x477733(0x7d5)]+_0x477733(0x1f1)+_0x5741e5[_0x477733(0x668)]['map'](_0x12ae60=>'<li>'+_0x12ae60+_0x477733(0x49d))['join']('')+_0x477733(0x593)+_0x5741e5[_0x477733(0x6d7)]+_0x477733(0x3fb)+_0x5741e5[_0x477733(0x2df)][_0x477733(0x4eb)](_0x15aaeb=>_0x477733(0x13b)+_0x15aaeb[_0x477733(0x67e)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x15aaeb[_0x477733(0x227)]+_0x477733(0x3f1))[_0x477733(0x7d)]('')+_0x477733(0x852);document[_0x477733(0x11a)](_0x477733(0x56c))['textContent']=_0x477733(0x10e)+_0x14ba48[_0x477733(0x7d5)],document[_0x477733(0x11a)](_0x477733(0x9ae))['innerHTML']=_0x5e01d1,document[_0x477733(0x11a)](_0x477733(0x8b1))[_0x477733(0x8f)]['remove'](_0x477733(0x6f8));if(window['MathJax'])MathJax[_0x477733(0x4a4)]();messageModal[_0x477733(0x8f)][_0x477733(0x85b)](_0x477733(0x6f8));}catch(_0x30f531){console[_0x477733(0x529)]('Error\x20generating\x20lesson\x20plan:',_0x30f531),showMessage(_0x477733(0x9b0)+_0x30f531[_0x477733(0x2da)]);}}async function handleDuplicateQuiz(_0x263ef6){const _0x28400c=_0x335401;try{const _0x549a18=doc(db,_0x28400c(0x82)+appId+_0x28400c(0x5e5),_0x263ef6),_0x5ddbef=await getDoc(_0x549a18);if(_0x5ddbef[_0x28400c(0x91b)]()){const _0x171454=_0x5ddbef[_0x28400c(0x33f)]();let _0x3987ca='',_0x55cb1b='standard',_0x1b6c7f=null;if(_0x171454[_0x28400c(0x649)]===_0x28400c(0x805)){let _0x49d9a1=_0x171454[_0x28400c(0x7d5)][_0x28400c(0x86e)]('(ก่อนเรียน)','')[_0x28400c(0xa5)]();_0x3987ca=_0x28400c(0x1ee)+_0x49d9a1,_0x55cb1b='post-test',_0x1b6c7f=_0x263ef6;}else _0x3987ca=_0x28400c(0x286)+_0x171454[_0x28400c(0x7d5)];const _0x199627={..._0x171454,'topic':_0x3987ca,'createdAt':new Date()[_0x28400c(0x910)](),'quizMode':_0x55cb1b,'pairedQuizId':_0x1b6c7f};let _0x581e90;while(!![]){_0x581e90=Math[_0x28400c(0x72)](0x3e8+Math['random']()*0x2328)[_0x28400c(0x5dc)]();const _0x1883f5=await getDoc(doc(db,_0x28400c(0x82)+appId+_0x28400c(0x5e5),_0x581e90));if(!_0x1883f5[_0x28400c(0x91b)]())break;}const _0x2eff34=doc(db,_0x28400c(0x82)+appId+_0x28400c(0x5e5),_0x581e90);await setDoc(_0x2eff34,_0x199627),_0x199627[_0x28400c(0x649)]===_0x28400c(0x61e)&&await updateDoc(_0x549a18,{'pairedQuizId':_0x581e90}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x28400c(0x2f8));}catch(_0x4c9254){console[_0x28400c(0x529)]('Error\x20duplicating\x20quiz:',_0x4c9254),showMessage(_0x28400c(0x8d5));}}async function handleDeleteQuiz(_0x1e331f,_0x5dfb45=!![]){const _0x52cf35=_0x335401;try{const _0x3cee2c=writeBatch(db),_0x483c6d=collection(db,_0x52cf35(0x82)+appId+_0x52cf35(0x2d6)+_0x1e331f+_0x52cf35(0x212)),_0x3020ac=await getDocs(_0x483c6d);_0x3020ac[_0x52cf35(0x40a)](_0x4e0d98=>{const _0x333452=_0x52cf35;_0x3cee2c[_0x333452(0x7c5)](doc(_0x483c6d,_0x4e0d98['id']));});const _0x2f3b4c=doc(db,_0x52cf35(0x82)+appId+'/public/data/quizzes',_0x1e331f);_0x3cee2c[_0x52cf35(0x7c5)](_0x2f3b4c),await _0x3cee2c['commit'](),_0x5dfb45&&showMessage(_0x52cf35(0x708));}catch(_0x35e8be){console['error'](_0x52cf35(0x8e5),_0x35e8be),_0x5dfb45&&showMessage(_0x52cf35(0x1c4));}}async function showQuizDetailView(_0x14b694){const _0x11e82d=_0x335401;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0xa6f101=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x14b694),_0x4e80e8=await getDoc(_0xa6f101);if(!_0x4e80e8[_0x11e82d(0x91b)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0x25f524={'id':_0x4e80e8['id'],..._0x4e80e8[_0x11e82d(0x33f)]()};currentQuizData=_0x25f524;const _0x554e56=doc(db,_0x11e82d(0x82)+appId+_0x11e82d(0x8c3),_0x25f524[_0x11e82d(0x4b5)]),_0x37b801=await getDoc(_0x554e56);_0x37b801[_0x11e82d(0x91b)]()?(currentProjectData=_0x37b801[_0x11e82d(0x33f)](),currentProjectId=_0x25f524[_0x11e82d(0x4b5)]):(currentProjectData={'students':[]},currentProjectId=_0x25f524['projectId']);document[_0x11e82d(0x11a)](_0x11e82d(0x61b))[_0x11e82d(0x9a9)]=_0x25f524[_0x11e82d(0x7d5)],document['getElementById']('results-quiz-id-display')['textContent']=_0x14b694;const _0xa51d38=collection(db,_0x11e82d(0x82)+appId+'/public/data/quizzes',_0x14b694,_0x11e82d(0x63c));unsubscribeSubmissionsListener=onSnapshot(_0xa51d38,_0x17a53e=>{const _0xd0c5a2=_0x11e82d,_0x16d942=_0x17a53e['docs']['map'](_0x4057e4=>({'id':_0x4057e4['id'],..._0x4057e4[_0xd0c5a2(0x33f)]()}));currentSubmissions=_0x16d942;const _0x25f256=_0x16d942[_0xd0c5a2(0x84b)](_0x301779=>_0x301779[_0xd0c5a2(0x34b)]&&_0x301779[_0xd0c5a2(0x34b)][_0xd0c5a2(0x38d)]>0x0);renderBehaviorLog(_0x16d942),renderAnswerGrid(currentProjectData[_0xd0c5a2(0x4c6)],_0x25f256,_0x25f524),renderAnalytics(_0x25f524,_0x25f256),renderQuizResultsTable(currentProjectData[_0xd0c5a2(0x4c6)],_0x16d942,_0x25f524),renderQuizLeaderboard(_0x25f256,_0x25f524,_0xd0c5a2(0x885));}),showView('quiz-results');}catch(_0x63af40){console[_0x11e82d(0x529)](_0x11e82d(0x851),_0x63af40),showMessage(_0x11e82d(0x40e));}}function renderAnswerGrid(_0x4952ba,_0x3ebeee,_0x15c1b1){const _0x595528=_0x335401,_0x3b17d8=document[_0x595528(0x11a)](_0x595528(0x88f));if(!_0x3b17d8)return;if(!_0x4952ba||_0x4952ba[_0x595528(0x38d)]===0x0){_0x3b17d8['innerHTML']=_0x595528(0xf5);return;}const _0x184e63=_0x15c1b1[_0x595528(0x4e3)],_0x5d72cf=_0x3ebeee[_0x595528(0xe4)]((_0x240f8a,_0x3429f1)=>{const _0x45da78=_0x595528;return _0x240f8a[_0x3429f1[_0x45da78(0x700)]]=_0x3429f1,_0x240f8a;},{}),_0x409cb2=_0x1b7148=>String[_0x595528(0x64c)](0x41+_0x1b7148),_0xd12bf0=_0x3e3014=>{const _0x1f165e=_0x595528,_0x335cd5=_0x3e3014[_0x1f165e(0x23d)]||_0x15c1b1[_0x1f165e(0x7a1)];switch(_0x335cd5){case'multiple_choice':return _0x3e3014[_0x1f165e(0x5b2)]&&_0x3e3014[_0x1f165e(0x5b2)][_0x1f165e(0x38d)]>_0x3e3014[_0x1f165e(0x801)]?_0x409cb2(_0x3e3014[_0x1f165e(0x801)]):'-';case _0x1f165e(0x4c4):return _0x3e3014[_0x1f165e(0x81)]?_0x1f165e(0x5ae):_0x1f165e(0x55a);case _0x1f165e(0x524):return _0x3e3014[_0x1f165e(0x441)]||'-';case'short_answer':return _0x1f165e(0x2e0);default:return'-';}},_0x42d330=(_0x29017c,_0x4cd4a2)=>{const _0x1f00a6=_0x595528;if(_0x4cd4a2['answer']===null||_0x4cd4a2['answer']===undefined)return'-';const _0x5e80a3=_0x29017c[_0x1f00a6(0x23d)]||_0x15c1b1['quizType'];switch(_0x5e80a3){case _0x1f00a6(0x847):const _0x4ed175=_0x29017c['options'][_0x1f00a6(0x8b8)](_0x5614ad=>_0x5614ad===_0x4cd4a2[_0x1f00a6(0x536)]);return _0x4ed175!==-0x1?_0x409cb2(_0x4ed175):_0x4cd4a2[_0x1f00a6(0x536)]||'-';case _0x1f00a6(0x4c4):return _0x4cd4a2['answer']===_0x1f00a6(0x6c8)||_0x4cd4a2[_0x1f00a6(0x4a7)]===!![]?_0x1f00a6(0x5ae):_0x1f00a6(0x55a);default:return _0x4cd4a2[_0x1f00a6(0x4a7)];}};let _0x592cda='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x184e63[_0x595528(0x4eb)]((_0x258fab,_0x3d6bac)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x3d6bac+0x1)+'</th>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x184e63[_0x595528(0x4eb)](_0x550531=>_0x595528(0x8da)+_0xd12bf0(_0x550531)+_0x595528(0x4cf))[_0x595528(0x7d)]('')+_0x595528(0x2c7);_0x4952ba[_0x595528(0x40a)](_0x3e5d10=>{const _0x3c8d00=_0x595528;_0x592cda+='<tr>',_0x592cda+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x3e5d10+_0x3c8d00(0x4cf);const _0x13f267=_0x5d72cf[_0x3e5d10];if(_0x13f267){const _0x5876ef=_0x13f267['attempts'][_0x13f267[_0x3c8d00(0x34b)][_0x3c8d00(0x38d)]-0x1];_0x184e63[_0x3c8d00(0x40a)]((_0x39660b,_0x3faf87)=>{const _0x1d07ef=_0x3c8d00,_0x552383=_0x5876ef[_0x1d07ef(0x2aa)][_0x1d07ef(0x474)](_0x4267aa=>_0x4267aa[_0x1d07ef(0x3fa)]===_0x39660b['id']);if(_0x552383){let _0x119cb6=![];const _0x3c9858=_0x39660b[_0x1d07ef(0x23d)]||_0x15c1b1['quizType'];if(_0x552383[_0x1d07ef(0x4a7)]!==null&&_0x552383[_0x1d07ef(0x4a7)]!==undefined)switch(_0x3c9858){case _0x1d07ef(0x847):const _0x219cb5=_0x39660b[_0x1d07ef(0x5b2)][_0x39660b[_0x1d07ef(0x801)]];_0x119cb6=_0x552383[_0x1d07ef(0x536)]===_0x219cb5;break;case _0x1d07ef(0x4c4):const _0x39f455=_0x552383[_0x1d07ef(0x4a7)]===!![]||_0x552383[_0x1d07ef(0x4a7)]===_0x1d07ef(0x6c8);_0x119cb6=_0x39f455===_0x39660b['correctAnswer'];break;case _0x1d07ef(0x524):_0x119cb6=_0x552383[_0x1d07ef(0x4a7)]===_0x39660b['correctResponse'];break;default:_0x119cb6=_0x552383['isCorrect'];break;}const _0xf18dbd=_0x119cb6?_0x1d07ef(0x53f):_0x1d07ef(0x951);_0x592cda+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0xf18dbd+'\x22>'+_0x42d330(_0x39660b,_0x552383)+_0x1d07ef(0x4cf);}else _0x592cda+=_0x1d07ef(0x2f5);});}else _0x592cda+=_0x184e63[_0x3c8d00(0x4eb)](()=>_0x3c8d00(0x5e9))[_0x3c8d00(0x7d)]('');_0x592cda+=_0x3c8d00(0x79c);}),_0x592cda+=_0x595528(0x660),_0x3b17d8[_0x595528(0x297)]=_0x592cda;}function renderQuizResultsTable(_0x1f8e33,_0x1c5d2e,_0x20b6da){const _0x561aab=_0x335401,_0x205778=_0x1c5d2e[_0x561aab(0xe4)]((_0x22d2d6,_0x585805)=>{const _0x5122e9=_0x561aab;return _0x22d2d6[_0x585805[_0x5122e9(0x700)]]=_0x585805,_0x22d2d6;},{}),_0x3fac1c=document[_0x561aab(0x341)](_0x561aab(0x113));_0x3fac1c&&!_0x3fac1c[_0x561aab(0x297)][_0x561aab(0x655)]('จัดการ')&&(_0x3fac1c[_0x561aab(0x297)]+=_0x561aab(0x8af));const _0x27c6a5=document[_0x561aab(0x11a)](_0x561aab(0x1f7));if(!_0x1f8e33||_0x1f8e33[_0x561aab(0x38d)]===0x0){_0x27c6a5[_0x561aab(0x297)]=_0x561aab(0x1da);return;}const _0x1b2529=_0x20b6da[_0x561aab(0x592)]===!![],_0x4fd439=_0x20b6da[_0x561aab(0x7f5)]?.[_0x561aab(0x683)]??-0x1;let _0x413b78='';_0x1f8e33[_0x561aab(0x40a)](_0x28cb39=>{const _0x2f1759=_0x561aab,_0xd4c093=_0x205778[_0x28cb39];let _0x5865ae='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x1b2529?'bg-amber-100\x20text-amber-800':'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x1b2529?'สอบซ่อม':_0x2f1759(0x29e))+_0x2f1759(0x6ad);if(_0xd4c093){if(_0xd4c093['attempts']&&_0xd4c093[_0x2f1759(0x34b)][_0x2f1759(0x38d)]>0x0){let _0x565070=_0x1b2529?_0xd4c093[_0x2f1759(0x37e)]===_0xd4c093[_0x2f1759(0x958)]:_0x4fd439!==-0x1&&_0xd4c093['bestScore']>=_0x4fd439;const _0xce441d=_0x565070?'bg-green-100\x20text-green-800':_0x2f1759(0x3f8),_0x591e5b=_0x565070?_0x2f1759(0x64b):_0x2f1759(0x1e3),_0x291570=_0x2f1759(0x74e)+_0xce441d+'\x22>'+_0x591e5b+_0x2f1759(0x6ad),_0x542be2=_0x2f1759(0x9ba)+(_0xd4c093['attempts']?.['length']||0x1)+_0x2f1759(0x7af);_0x413b78+=_0x2f1759(0x623)+_0x28cb39+_0x2f1759(0x7da)+_0xd4c093[_0x2f1759(0x37e)]+_0x2f1759(0x73f)+_0xd4c093[_0x2f1759(0x958)]+_0x2f1759(0x39e)+_0x291570+_0x2f1759(0x530)+_0x5865ae+_0x2f1759(0x513)+_0xd4c093[_0x2f1759(0xde)]+_0x2f1759(0x73f)+_0xd4c093['totalQuestions']+_0x2f1759(0x254)+_0xd4c093[_0x2f1759(0x5bc)]+'\x20/\x20'+_0xd4c093[_0x2f1759(0x958)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0xd4c093[_0x2f1759(0xfe)]||0x0)+_0x2f1759(0x39e)+_0x542be2+_0x2f1759(0x464)+new Date(_0xd4c093[_0x2f1759(0x1ff)])[_0x2f1759(0xbe)](_0x2f1759(0x5f1))+_0x2f1759(0x2ab)+_0x28cb39+_0x2f1759(0x5e0);}else{const _0x2cbdd6=_0x2f1759(0x814);_0x413b78+=_0x2f1759(0x455)+_0x28cb39+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5865ae+_0x2f1759(0x218)+_0x2cbdd6+_0x2f1759(0x464)+new Date(_0xd4c093[_0x2f1759(0x62c)])[_0x2f1759(0xbe)](_0x2f1759(0x5f1))+_0x2f1759(0x52d)+_0x28cb39+_0x2f1759(0x5e0);}}else{const _0x1f0301=_0x2f1759(0x409);_0x413b78+=_0x2f1759(0x382)+_0x28cb39+_0x2f1759(0x367)+_0x5865ae+_0x2f1759(0x615)+_0x1f0301+_0x2f1759(0x229);}}),_0x27c6a5[_0x561aab(0x297)]=_0x413b78;}async function confirmRenameQuiz(){const _0x336576=_0x335401,_0x45f7a4=document[_0x336576(0x11a)](_0x336576(0x978))[_0x336576(0x5ce)][_0x336576(0xa5)]();if(!_0x45f7a4){showMessage(_0x336576(0x952));return;}if(!actionTargetId)return;const _0x5b89c2=doc(db,_0x336576(0x82)+appId+_0x336576(0x5e5),actionTargetId);try{await updateDoc(_0x5b89c2,{'topic':_0x45f7a4}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x336576(0x8f)][_0x336576(0x85b)]('hidden'),actionTargetId=null;}catch(_0x4a268f){console[_0x336576(0x529)](_0x336576(0x2f6),_0x4a268f),showMessage(_0x336576(0x53d));}}async function handleMoveQuiz(_0xa0828d){const _0x35dbe2=_0x335401;actionTargetId=_0xa0828d;const _0x914c7c=document[_0x35dbe2(0x11a)](_0x35dbe2(0x5fb));_0x914c7c[_0x35dbe2(0x297)]=_0x35dbe2(0x1ed),moveQuizModal[_0x35dbe2(0x8f)][_0x35dbe2(0x57c)](_0x35dbe2(0x6f8));try{const _0x31a8fb=collection(db,'artifacts/'+appId+_0x35dbe2(0x8c3)),_0x4d2494=await getDocs(_0x31a8fb),_0x4d27c7=_0x4d2494[_0x35dbe2(0x84c)]['map'](_0x55fea5=>({'id':_0x55fea5['id'],..._0x55fea5[_0x35dbe2(0x33f)]()})),_0xd5e775=_0x4d27c7['filter'](_0x51807a=>_0x51807a['id']!==currentProjectId);if(_0xd5e775[_0x35dbe2(0x38d)]===0x0){_0x914c7c[_0x35dbe2(0x297)]=_0x35dbe2(0x2e8),document[_0x35dbe2(0x11a)](_0x35dbe2(0x5ad))[_0x35dbe2(0x53e)]=!![];return;}_0x914c7c[_0x35dbe2(0x297)]=_0xd5e775['map'](_0x35d752=>'<option\x20value=\x22'+_0x35d752['id']+'\x22>'+_0x35d752[_0x35dbe2(0x8b2)]+_0x35dbe2(0x6bc))[_0x35dbe2(0x7d)](''),document[_0x35dbe2(0x11a)](_0x35dbe2(0x5ad))['disabled']=![];}catch(_0x3e8c29){console[_0x35dbe2(0x529)](_0x35dbe2(0x153),_0x3e8c29),showMessage(_0x35dbe2(0x783)),moveQuizModal[_0x35dbe2(0x8f)][_0x35dbe2(0x85b)](_0x35dbe2(0x6f8));}}async function confirmMoveQuiz(){const _0x2de54b=_0x335401,_0x55885b=document[_0x2de54b(0x11a)](_0x2de54b(0x5fb))[_0x2de54b(0x5ce)];if(!_0x55885b){showMessage(_0x2de54b(0x2e9));return;}if(!actionTargetId)return;const _0x260fd7=doc(db,_0x2de54b(0x82)+appId+_0x2de54b(0x5e5),actionTargetId);try{await updateDoc(_0x260fd7,{'projectId':_0x55885b}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal['classList'][_0x2de54b(0x85b)](_0x2de54b(0x6f8)),actionTargetId=null;}catch(_0x37c83c){console['error'](_0x2de54b(0x84a),_0x37c83c),showMessage(_0x2de54b(0x899));}}async function handleQuizSettings(_0x66f6d1){const _0x1afd65=_0x335401;actionTargetId=_0x66f6d1;const _0x5c1452=doc(db,_0x1afd65(0x82)+appId+_0x1afd65(0x5e5),_0x66f6d1);try{const _0x276391=await getDoc(_0x5c1452);if(_0x276391[_0x1afd65(0x91b)]()){const _0x4186d8=_0x276391[_0x1afd65(0x33f)](),_0x9bdc45=_0x4186d8[_0x1afd65(0x7f5)]||{},_0x5d331b=_0x4186d8[_0x1afd65(0x4e3)][_0x1afd65(0x38d)];document[_0x1afd65(0x11a)](_0x1afd65(0x24e))[_0x1afd65(0x5ce)]=_0x9bdc45[_0x1afd65(0x75f)]||_0x1afd65(0x79d),document[_0x1afd65(0x11a)](_0x1afd65(0x670))[_0x1afd65(0x5ce)]=_0x9bdc45['resultsDisplay']||_0x1afd65(0x245),document[_0x1afd65(0x11a)](_0x1afd65(0x703))['value']=_0x9bdc45[_0x1afd65(0x7e9)]||_0x1afd65(0x79d),document[_0x1afd65(0x11a)](_0x1afd65(0xb9))[_0x1afd65(0x5ce)]=_0x9bdc45[_0x1afd65(0x5b1)]||0xa,document[_0x1afd65(0x11a)](_0x1afd65(0x326))[_0x1afd65(0x5ce)]=_0x9bdc45[_0x1afd65(0x683)]||Math[_0x1afd65(0x72)](_0x5d331b/0x2),document[_0x1afd65(0x11a)]('modal-passing-score-input')[_0x1afd65(0x594)]=_0x5d331b,document['getElementById'](_0x1afd65(0x259))[_0x1afd65(0x68b)]=_0x9bdc45[_0x1afd65(0x7f1)]||![],document[_0x1afd65(0x11a)](_0x1afd65(0x18a))[_0x1afd65(0x68b)]=_0x9bdc45[_0x1afd65(0x1d8)]||![],document[_0x1afd65(0x11a)](_0x1afd65(0x703))[_0x1afd65(0x7ec)](new Event('change')),quizSettingsModal[_0x1afd65(0x8f)][_0x1afd65(0x57c)](_0x1afd65(0x6f8));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0xa84f63){console[_0x1afd65(0x529)](_0x1afd65(0x70),_0xa84f63),showMessage(_0x1afd65(0x839));}}async function confirmQuizSettings(){const _0x2a78b0=_0x335401;if(!actionTargetId)return;const _0x370d87=doc(db,'artifacts/'+appId+_0x2a78b0(0x5e5),actionTargetId),_0x28b1a7={'shuffle':document['getElementById']('modal-shuffle-select')['value'],'resultsDisplay':document[_0x2a78b0(0x11a)](_0x2a78b0(0x670))[_0x2a78b0(0x5ce)],'timerMode':document[_0x2a78b0(0x11a)](_0x2a78b0(0x703))[_0x2a78b0(0x5ce)],'timerDuration':parseInt(document[_0x2a78b0(0x11a)](_0x2a78b0(0xb9))['value'])||0xa,'passingScore':parseInt(document[_0x2a78b0(0x11a)](_0x2a78b0(0x326))[_0x2a78b0(0x5ce)])||0x0,'passingScore':parseInt(document[_0x2a78b0(0x11a)](_0x2a78b0(0x326))[_0x2a78b0(0x5ce)])||0x0,'isAdaptive':document['getElementById']('modal-adaptive-quiz-checkbox')[_0x2a78b0(0x68b)],'loopUntilPass':document[_0x2a78b0(0x11a)](_0x2a78b0(0x18a))[_0x2a78b0(0x68b)]};try{await updateDoc(_0x370d87,{'settings':_0x28b1a7}),showMessage(_0x2a78b0(0x397)),quizSettingsModal['classList'][_0x2a78b0(0x85b)](_0x2a78b0(0x6f8)),actionTargetId=null;}catch(_0x4282ca){console[_0x2a78b0(0x529)](_0x2a78b0(0x540),_0x4282ca),showMessage(_0x2a78b0(0x865));}}async function handleQuizStatus(_0x4deba3){const _0x390542=_0x335401;actionTargetId=_0x4deba3;const _0x33f196=doc(db,_0x390542(0x82)+appId+_0x390542(0x5e5),_0x4deba3);try{const _0x978861=await getDoc(_0x33f196);if(_0x978861[_0x390542(0x91b)]()){const _0x301a7b=_0x978861[_0x390542(0x33f)](),_0x50bb3b=_0x301a7b[_0x390542(0x83e)]||_0x390542(0x8eb),_0x413daf=document[_0x390542(0x11a)]('quiz-status-options'),_0x228ffd=document[_0x390542(0x11a)](_0x390542(0x785)),_0x5241fc=document[_0x390542(0x11a)](_0x390542(0x4e7));let _0x5254e7=_0x390542(0x396)+(_0x50bb3b===_0x390542(0x8eb)?_0x390542(0x68b):'')+_0x390542(0x4b8)+(_0x50bb3b===_0x390542(0x4e2)?_0x390542(0x68b):'')+'>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20'+(_0x50bb3b===_0x390542(0x13d)?_0x390542(0x68b):'')+'>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x413daf[_0x390542(0x297)]=_0x5254e7;const _0x341ba2=_0x50bb3b===_0x390542(0x13d);_0x228ffd[_0x390542(0x8f)][_0x390542(0x995)](_0x390542(0x6f8),!_0x341ba2),_0x5241fc[_0x390542(0x8f)][_0x390542(0x995)](_0x390542(0x6f8),!_0x341ba2),document[_0x390542(0x11a)](_0x390542(0x8a6))['value']=_0x301a7b[_0x390542(0x906)]?_0x301a7b[_0x390542(0x906)]['substring'](0x0,0x10):'',document[_0x390542(0x11a)](_0x390542(0x755))[_0x390542(0x5ce)]=_0x301a7b[_0x390542(0x5a3)]?_0x301a7b['endTime'][_0x390542(0x918)](0x0,0x10):'',_0x413daf['querySelectorAll'](_0x390542(0x5a5))[_0x390542(0x40a)](_0x2248c4=>{const _0x11e541=_0x390542;_0x2248c4[_0x11e541(0x1e2)](_0x11e541(0x5cf),_0x261330=>{const _0x47bab1=_0x11e541,_0xca1776=_0x261330[_0x47bab1(0x5c6)][_0x47bab1(0x5ce)]===_0x47bab1(0x576);_0x228ffd[_0x47bab1(0x8f)]['toggle'](_0x47bab1(0x6f8),!_0xca1776),_0x5241fc[_0x47bab1(0x8f)][_0x47bab1(0x995)](_0x47bab1(0x6f8),!_0xca1776);});}),quizStatusModal['classList'][_0x390542(0x57c)](_0x390542(0x6f8));}}catch(_0x229d56){console['error']('Error\x20fetching\x20quiz\x20status:',_0x229d56),showMessage('เกิดข้อผิดพลาดในการโหลดสถานะ');}}async function confirmQuizStatus(){const _0x28c709=_0x335401;if(!actionTargetId)return;const _0x18f14d=doc(db,'artifacts/'+appId+_0x28c709(0x5e5),actionTargetId),_0x497dd6=document['querySelector'](_0x28c709(0x5b6));if(!_0x497dd6){showMessage('กรุณาเลือกสถานะ');return;}const _0x2d1961=_0x497dd6[_0x28c709(0x5ce)];let _0xae6f15={};if(_0x2d1961==='active'||_0x2d1961===_0x28c709(0x4e2))_0xae6f15={'status':_0x2d1961,'startTime':null,'endTime':null};else{if(_0x2d1961===_0x28c709(0x576)){const _0x577d4a=document[_0x28c709(0x11a)](_0x28c709(0x8a6))[_0x28c709(0x5ce)],_0x274ae7=document[_0x28c709(0x11a)](_0x28c709(0x755))['value'];if(!_0x577d4a&&!_0x274ae7){showMessage(_0x28c709(0x9c7));return;}_0xae6f15={'status':'scheduled','startTime':_0x577d4a?new Date(_0x577d4a)[_0x28c709(0x910)]():null,'endTime':_0x274ae7?new Date(_0x274ae7)['toISOString']():null};}}try{await updateDoc(_0x18f14d,_0xae6f15),showMessage(_0x28c709(0x426)),quizStatusModal['classList']['add'](_0x28c709(0x6f8)),actionTargetId=null;}catch(_0x1cef67){console['error'](_0x28c709(0x317),_0x1cef67),showMessage(_0x28c709(0x88a));}}function listenForStudentProfiles(_0x5f4a0c){const _0x272688=_0x335401,_0x2f2740=collection(db,_0x272688(0x82)+appId+_0x272688(0x2ea)+_0x5f4a0c+_0x272688(0x694));unsubscribeStudentProfilesListener=onSnapshot(_0x2f2740,_0xdd4cc6=>{const _0x1efc14=_0x272688,_0x4bba38=_0xdd4cc6[_0x1efc14(0x84c)]['map'](_0x59f726=>_0x59f726[_0x1efc14(0x33f)]());renderLeaderboard(_0x4bba38,_0x1efc14(0x2fb));},_0x3278a3=>{const _0x3810ab=_0x272688;console['error']('Error\x20listening\x20for\x20student\x20profiles:',_0x3278a3),document[_0x3810ab(0x11a)](_0x3810ab(0x2fb))[_0x3810ab(0x297)]=_0x3810ab(0x94f);});}function renderLeaderboard(_0x446ad8,_0x1bb8b7){const _0x59330a=_0x335401,_0x3878c0=document['getElementById'](_0x1bb8b7);if(!_0x446ad8||_0x446ad8[_0x59330a(0x38d)]===0x0){_0x3878c0[_0x59330a(0x297)]=_0x59330a(0x291);return;}_0x446ad8[_0x59330a(0x6df)]((_0x27a79e,_0x3f773a)=>{const _0x3335d7=_0x59330a,_0x50a837=(_0x3f773a[_0x3335d7(0x142)]||0x0)-(_0x27a79e[_0x3335d7(0x142)]||0x0);if(_0x50a837!==0x0)return _0x50a837;const _0x1db82a=(_0x3f773a['badgesCount']?.[_0x3335d7(0x30d)]||0x0)-(_0x27a79e[_0x3335d7(0x33a)]?.[_0x3335d7(0x30d)]||0x0);if(_0x1db82a!==0x0)return _0x1db82a;const _0x5a881b=(_0x3f773a[_0x3335d7(0x33a)]?.[_0x3335d7(0x2b4)]||0x0)-(_0x27a79e[_0x3335d7(0x33a)]?.[_0x3335d7(0x2b4)]||0x0);if(_0x5a881b!==0x0)return _0x5a881b;const _0x541157=(_0x3f773a[_0x3335d7(0x33a)]?.[_0x3335d7(0x360)]||0x0)-(_0x27a79e[_0x3335d7(0x33a)]?.['perfect_score']||0x0);if(_0x541157!==0x0)return _0x541157;const _0xb9262d=(_0x3f773a[_0x3335d7(0x33a)]?.[_0x3335d7(0x35b)]||0x0)-(_0x27a79e[_0x3335d7(0x33a)]?.['quick_thinker']||0x0);if(_0xb9262d!==0x0)return _0xb9262d;return _0x27a79e[_0x3335d7(0x700)][_0x3335d7(0x339)](_0x3f773a[_0x3335d7(0x700)],'th');});let _0x23491a='';_0x446ad8[_0x59330a(0x40a)]((_0x2f9c5d,_0xf31efd)=>{const _0x4af39a=_0x59330a,_0x13eb2e=_0xf31efd+0x1,_0x1a83cc=_0x2f9c5d[_0x4af39a(0x33a)]||{};let _0x252fdd='';const _0x45a5dc=[_0x4af39a(0x30d),_0x4af39a(0x360),_0x4af39a(0x2b4),_0x4af39a(0x35b)];_0x45a5dc[_0x4af39a(0x40a)](_0x30a9bd=>{const _0x4a914f=_0x4af39a;if(_0x1a83cc[_0x30a9bd]>0x0){const _0x2eb84c=Object[_0x4a914f(0x5aa)](BADGES)[_0x4a914f(0x474)](_0x19dd0f=>_0x19dd0f['id']===_0x30a9bd);_0x2eb84c&&(_0x30a9bd===_0x4a914f(0x30d)?_0x252fdd+=_0x4a914f(0x375)+_0x2eb84c[_0x4a914f(0x20b)]+_0x4a914f(0x802)+_0x2eb84c[_0x4a914f(0x799)]+_0x4a914f(0x8d6):_0x252fdd+=_0x4a914f(0x375)+_0x2eb84c[_0x4a914f(0x20b)]+'\x20('+_0x1a83cc[_0x30a9bd]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x2eb84c[_0x4a914f(0x799)]+_0x4a914f(0x8b5)+_0x1a83cc[_0x30a9bd]+_0x4a914f(0x83b));}}),_0x23491a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x13eb2e+_0x4af39a(0x507)+_0x2f9c5d[_0x4af39a(0x700)]+_0x4af39a(0x8f0)+(_0x2f9c5d[_0x4af39a(0x142)]||0x0)+_0x4af39a(0x507)+(_0x252fdd||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3878c0[_0x59330a(0x297)]=_0x23491a;}function displayLoopScreen(_0x1fa19e,_0x21169b,_0x489daf){const _0x3b72f5=_0x335401;let _0x5a44a8='';_0x489daf!==_0x3b72f5(0xa4)&&(_0x5a44a8=_0x3b72f5(0x2d9)+_0x1fa19e+_0x3b72f5(0x73f)+_0x21169b+'</strong></p>');const _0x5378eb=_0x3b72f5(0x527)+_0x5a44a8+_0x3b72f5(0xb3);studentResultArea['innerHTML']=_0x5378eb,studentResultArea['classList'][_0x3b72f5(0x57c)](_0x3b72f5(0x6f8)),studentQuizArea['classList'][_0x3b72f5(0x85b)]('hidden'),document[_0x3b72f5(0x11a)](_0x3b72f5(0x159))[_0x3b72f5(0x1e2)]('click',()=>{const _0x864920=_0x3b72f5;studentResultArea[_0x864920(0x8f)][_0x864920(0x85b)](_0x864920(0x6f8)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x5828ac,_0x403740,_0x3c7a8c){const _0xa29c96=_0x335401,_0x254cb1=document[_0xa29c96(0x11a)](_0x3c7a8c),_0x1cdebf=_0x3c7a8c===_0xa29c96(0x8ad),_0x368096=_0x403740[_0xa29c96(0x4e3)][_0xa29c96(0x38d)],_0x2116e4=document[_0xa29c96(0x11a)](_0x3c7a8c)[_0xa29c96(0x583)]('table');if(_0x2116e4&&!_0x1cdebf){const _0x57dd45=_0x2116e4[_0xa29c96(0x341)](_0xa29c96(0x94e));_0x57dd45[_0xa29c96(0x297)]=_0xa29c96(0x5b3);}if(!_0x5828ac||_0x5828ac['length']===0x0){_0x254cb1[_0xa29c96(0x297)]=_0xa29c96(0x62f)+(_0x1cdebf?0x6:0x8)+_0xa29c96(0x151);return;}const _0x30ea05=[..._0x5828ac];_0x30ea05[_0xa29c96(0x6df)]((_0x29e40c,_0x5772be)=>{const _0x5f2e7c=_0xa29c96;let _0x296324,_0x848d24;switch(quizLeaderboardSortBy){case _0x5f2e7c(0x700):_0x296324=_0x29e40c[_0x5f2e7c(0x700)]||'',_0x848d24=_0x5772be[_0x5f2e7c(0x700)]||'';return quizLeaderboardSortOrder===_0x5f2e7c(0x902)?_0x296324[_0x5f2e7c(0x339)](_0x848d24,'th'):_0x848d24['localeCompare'](_0x296324,'th');case'points':_0x296324=_0x29e40c['points']||0x0,_0x848d24=_0x5772be[_0x5f2e7c(0xfe)]||0x0;break;case _0x5f2e7c(0x34b):_0x296324=_0x29e40c[_0x5f2e7c(0x34b)]?.['length']||0x1,_0x848d24=_0x5772be['attempts']?.[_0x5f2e7c(0x38d)]||0x1;break;case _0x5f2e7c(0x1ff):_0x296324=new Date(_0x29e40c[_0x5f2e7c(0x1ff)]),_0x848d24=new Date(_0x5772be['latestSubmittedAt']);break;case _0x5f2e7c(0x37e):default:_0x296324=_0x29e40c[_0x5f2e7c(0x37e)],_0x848d24=_0x5772be[_0x5f2e7c(0x37e)];break;}if(_0x296324<_0x848d24)return quizLeaderboardSortOrder===_0x5f2e7c(0x902)?-0x1:0x1;if(_0x296324>_0x848d24)return quizLeaderboardSortOrder===_0x5f2e7c(0x902)?0x1:-0x1;return 0x0;});const _0x3ed247=_0x403740['isRemedial']===!![],_0xb17ee8=_0x403740['settings']?.[_0xa29c96(0x683)]??-0x1;let _0x328d7b='';_0x30ea05[_0xa29c96(0x40a)]((_0x5c9780,_0x12706f)=>{const _0x510e2e=_0xa29c96,_0x1d0642=_0x12706f+0x1;let _0x1a3cdd=_0x510e2e(0x6d8);if(_0x3ed247||_0xb17ee8!==-0x1){let _0xe57a92=_0x3ed247?_0x5c9780[_0x510e2e(0x37e)]===_0x368096:_0x5c9780['bestScore']>=_0xb17ee8;const _0x1a3c3e=_0xe57a92?_0x510e2e(0x8b0):_0x510e2e(0x3f8),_0x56f142=_0xe57a92?_0x510e2e(0x64b):_0x510e2e(0x1e3);_0x1a3cdd='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x1a3c3e+'\x22>'+_0x56f142+_0x510e2e(0x6ad);}const _0x3c361a=_0x5c9780['attempts'][_0x5c9780['attempts']['length']-0x1],_0x19de1b=(_0x3c361a[_0x510e2e(0x34a)]||[])[_0x510e2e(0x4eb)](_0x53e510=>{const _0x466819=_0x510e2e,_0x42e5f2=Object['values'](BADGES)['find'](_0x37190e=>_0x37190e['id']===_0x53e510);return _0x42e5f2?_0x466819(0x7a4)+_0x42e5f2[_0x466819(0x20b)]+'\x22><i\x20class=\x22fas\x20'+_0x42e5f2[_0x466819(0x799)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x510e2e(0x7d)]('');_0x328d7b+=_0x510e2e(0x837)+_0x1d0642+_0x510e2e(0x6d4)+_0x5c9780[_0x510e2e(0x700)]+_0x510e2e(0x50f)+_0x5c9780['bestScore']+_0x510e2e(0x73f)+_0x368096+_0x510e2e(0x398)+_0x1a3cdd+_0x510e2e(0x124)+(_0x5c9780[_0x510e2e(0xfe)]||0x0)+_0x510e2e(0x398)+(_0x1cdebf?'':_0x510e2e(0x72c)+(_0x5c9780['attempts']?.[_0x510e2e(0x38d)]||0x1)+_0x510e2e(0x4cf))+_0x510e2e(0x574)+(_0x1cdebf?'':_0x510e2e(0x34c)+new Date(_0x5c9780[_0x510e2e(0x1ff)])['toLocaleString']('th-TH')+'</td>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x19de1b||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x254cb1[_0xa29c96(0x297)]=_0x328d7b,_0x2116e4&&!_0x1cdebf&&_0x2116e4[_0xa29c96(0xf8)](_0xa29c96(0x5d2))['forEach'](_0x34dced=>{const _0x5d1485=_0xa29c96,_0x2a32d1=_0x34dced[_0x5d1485(0x341)](_0x5d1485(0x6f3));if(_0x2a32d1)_0x2a32d1['remove']();_0x34dced[_0x5d1485(0x93d)][_0x5d1485(0x6df)]===quizLeaderboardSortBy&&(_0x34dced[_0x5d1485(0x297)]+=_0x5d1485(0x919)+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+_0x5d1485(0x22c));});}async function handleDeleteSubmission(_0x770e16){const _0x49811e=_0x335401;if(!currentQuizData||!currentQuizData['id']||!_0x770e16){showMessage(_0x49811e(0x5d4));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x770e16+_0x49811e(0x927),async()=>{const _0x4750fa=_0x49811e,_0x2f43d4=currentQuizData['id'],_0x10851d=doc(db,'artifacts/'+appId+_0x4750fa(0x2d6)+_0x2f43d4+_0x4750fa(0x212),_0x770e16);try{await deleteDoc(_0x10851d),showMessage(_0x4750fa(0x860)+_0x770e16+_0x4750fa(0x526));}catch(_0x44f8e8){console[_0x4750fa(0x529)](_0x4750fa(0x392),_0x44f8e8),showMessage(_0x4750fa(0x81d));}});}async function handleLoadQuiz(){const _0x56b970=_0x335401,_0x1f68da=document['getElementById'](_0x56b970(0x8e1)),_0x1e2fe7=_0x1f68da[_0x56b970(0x5ce)]['trim']();if(!_0x1e2fe7){showMessage(_0x56b970(0x742));return;}loadQuizBtn['disabled']=!![],loadQuizBtn['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x3b2d67=doc(db,_0x56b970(0x82)+appId+_0x56b970(0x5e5),_0x1e2fe7),_0x3782a1=await getDoc(_0x3b2d67);if(!_0x3782a1[_0x56b970(0x91b)]()){showMessage(_0x56b970(0x94));return;}currentQuizData={'id':_0x3782a1['id'],..._0x3782a1[_0x56b970(0x33f)]()};const _0x3e1b68=currentQuizData['status']||_0x56b970(0x8eb),_0x7f6112=new Date();if(_0x3e1b68===_0x56b970(0x4e2)){showMessage(_0x56b970(0x292));return;}if(_0x3e1b68===_0x56b970(0x13d)){const _0x14694a=currentQuizData[_0x56b970(0x906)]?new Date(currentQuizData['startTime']):null,_0x54bd5d=currentQuizData[_0x56b970(0x5a3)]?new Date(currentQuizData['endTime']):null;if(_0x14694a&&_0x7f6112<_0x14694a){showMessage(_0x56b970(0x485)+_0x14694a['toLocaleString'](_0x56b970(0x5f1),{'hour12':![]}));return;}if(_0x54bd5d&&_0x7f6112>_0x54bd5d){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x536db1=currentQuizData[_0x56b970(0x4b5)];currentProjectId=_0x536db1;const _0x588b36=doc(db,'artifacts/'+appId+_0x56b970(0x8c3),_0x536db1),_0x244675=await getDoc(_0x588b36);if(!_0x244675[_0x56b970(0x91b)]()){showMessage(_0x56b970(0x6f2));return;}const _0x5859bc=_0x244675[_0x56b970(0x33f)]();currentStudentProjectData=_0x5859bc,displayStudentNameSelector(_0x5859bc[_0x56b970(0x4c6)],currentQuizData[_0x56b970(0x7d5)]);}catch(_0x477d99){console['error'](_0x56b970(0x960),_0x477d99),showMessage(_0x56b970(0x68a));}finally{loadQuizBtn[_0x56b970(0x53e)]=![],loadQuizBtn[_0x56b970(0x297)]=_0x56b970(0x112);}}async function handleJoinLiveGame(){const _0x58e13e=_0x335401,_0x45911=document[_0x58e13e(0x11a)](_0x58e13e(0xb0)),_0x439143=document['getElementById']('nickname-input'),_0x535801=document['getElementById']('confirm-join-game-btn'),_0x1068d9=_0x45911[_0x58e13e(0x5ce)][_0x58e13e(0xa5)](),_0x463324=_0x439143['value'][_0x58e13e(0xa5)]();if(!_0x1068d9||!_0x463324){showMessage(_0x58e13e(0x2a0));return;}_0x535801[_0x58e13e(0x53e)]=!![],_0x535801[_0x58e13e(0x297)]=_0x58e13e(0x90);try{const _0x4f3cd0=collection(db,_0x58e13e(0x82)+appId+'/public/data/liveGames'),_0x13048d=query(_0x4f3cd0,where(_0x58e13e(0x8ed),'==',_0x1068d9),where(_0x58e13e(0x83e),'in',['lobby','question'])),_0xead088=await getDocs(_0x13048d);if(_0xead088[_0x58e13e(0x45b)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว');return;}const _0x15e5b5=_0xead088[_0x58e13e(0x84c)][0x0],_0x245388=_0x15e5b5['data']();currentLiveGameId=_0x15e5b5['id'];const _0x1a5148=_0x245388['quizId'],_0x303882=doc(db,_0x58e13e(0x82)+appId+_0x58e13e(0x5e5),_0x1a5148),_0x1ba569=await getDoc(_0x303882);if(!_0x1ba569[_0x58e13e(0x91b)]()){showMessage(_0x58e13e(0x73e));return;}currentQuizData={'id':_0x1ba569['id'],..._0x1ba569[_0x58e13e(0x33f)]()};if(_0x245388[_0x58e13e(0x924)]&&_0x245388[_0x58e13e(0x924)][_0x463324]){const _0x21b445=_0x245388[_0x58e13e(0x924)][_0x463324];if(_0x21b445[_0x58e13e(0x83e)]===_0x58e13e(0x4e2)){_0x535801[_0x58e13e(0x297)]=_0x58e13e(0x1c1);const _0x168750={};_0x168750[_0x58e13e(0x3d9)+_0x463324+_0x58e13e(0x3df)]=_0x58e13e(0x8eb),await updateDoc(doc(db,_0x58e13e(0x82)+appId+_0x58e13e(0x9b7),currentLiveGameId),_0x168750),showView(_0x58e13e(0x489)),currentStudentName=_0x463324,listenForLiveGameUpdates();return;}else{showMessage(_0x58e13e(0x3cf));return;}}if(_0x245388[_0x58e13e(0x83e)]!==_0x58e13e(0x538)){showMessage(_0x58e13e(0x90b));return;}_0x535801[_0x58e13e(0x297)]=_0x58e13e(0x781);const _0xfd6c93={};_0xfd6c93[_0x58e13e(0x3d9)+_0x463324]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,'artifacts/'+appId+_0x58e13e(0x9b7),currentLiveGameId),_0xfd6c93),currentStudentName=_0x463324,listenForLiveGameUpdates();}catch(_0x41dede){console['error'](_0x58e13e(0x856),_0x41dede),showMessage(_0x58e13e(0x543));}finally{_0x535801[_0x58e13e(0x53e)]=![],_0x535801[_0x58e13e(0x297)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x33de12,_0x38c498){const _0x5bb572=_0x335401,_0x454b44=document[_0x5bb572(0x11a)](_0x5bb572(0x7f9));document[_0x5bb572(0x11a)]('student-quiz-topic')['textContent']=_0x5bb572(0x52f)+_0x38c498,!_0x33de12||_0x33de12[_0x5bb572(0x38d)]===0x0?(_0x454b44['innerHTML']=_0x5bb572(0x1e6),startQuizBtn[_0x5bb572(0x53e)]=!![]):(_0x454b44['innerHTML']=_0x5bb572(0x3d3),_0x33de12[_0x5bb572(0x40a)](_0x5eb227=>{const _0x599912=_0x5bb572,_0x181675=document['createElement']('option');_0x181675[_0x599912(0x5ce)]=_0x5eb227,_0x181675['textContent']=_0x5eb227,_0x454b44[_0x599912(0x3a6)](_0x181675);}),startQuizBtn[_0x5bb572(0x53e)]=![]),studentInitialView['classList'][_0x5bb572(0x85b)]('hidden'),studentNameSelectionView[_0x5bb572(0x8f)][_0x5bb572(0x57c)](_0x5bb572(0x6f8));}function shuffleArray(_0x9c7366){const _0x2f5d4e=_0x335401;for(let _0x343086=_0x9c7366[_0x2f5d4e(0x38d)]-0x1;_0x343086>0x0;_0x343086--){const _0x3e0dd9=Math['floor'](Math[_0x2f5d4e(0x8fe)]()*(_0x343086+0x1));[_0x9c7366[_0x343086],_0x9c7366[_0x3e0dd9]]=[_0x9c7366[_0x3e0dd9],_0x9c7366[_0x343086]];}}function getShuffledQuiz(_0x1efdd3){const _0x5dfcf1=_0x335401;let _0x1da330=JSON['parse'](JSON[_0x5dfcf1(0x3af)](_0x1efdd3));const _0xed925f=_0x1da330[_0x5dfcf1(0x7f5)]?.[_0x5dfcf1(0x75f)]||_0x5dfcf1(0x79d);if(_0xed925f===_0x5dfcf1(0x79d))return _0x1da330;return(_0xed925f==='questions_only'||_0xed925f===_0x5dfcf1(0xe9))&&shuffleArray(_0x1da330[_0x5dfcf1(0x4e3)]),(_0xed925f===_0x5dfcf1(0xc6)||_0xed925f===_0x5dfcf1(0xe9))&&_0x1da330[_0x5dfcf1(0x4e3)][_0x5dfcf1(0x40a)](_0x435f41=>{const _0x439c04=_0x5dfcf1,_0x4de6d5=_0x435f41[_0x439c04(0x23d)]||_0x1da330[_0x439c04(0x7a1)];if(_0x435f41[_0x439c04(0x5b2)]){let _0x10920f=_0x435f41[_0x439c04(0x5b2)]['map']((_0x2b0291,_0x5e0654)=>({'text':_0x2b0291,'isCorrect':_0x5e0654===_0x435f41[_0x439c04(0x801)]}));shuffleArray(_0x10920f),_0x435f41[_0x439c04(0x5b2)]=_0x10920f[_0x439c04(0x4eb)](_0x52c2f4=>_0x52c2f4['text']),_0x435f41[_0x439c04(0x801)]=_0x10920f[_0x439c04(0x8b8)](_0xcfcddb=>_0xcfcddb[_0x439c04(0xdc)]);}_0x4de6d5===_0x439c04(0x524)&&_0x435f41['allResponses']&&shuffleArray(_0x435f41[_0x439c04(0x16f)]);}),_0x1da330;}function displayQuizForStudent(_0x1bfca9){const _0x22f392=_0x335401;studentQuizArea[_0x22f392(0x8f)][_0x22f392(0x57c)](_0x22f392(0x6f8)),currentDisplayedQuiz=getShuffledQuiz(_0x1bfca9);currentMode!==_0x22f392(0x56b)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x22f392(0x1e2)](_0x22f392(0x346),handleFullscreenChange),document[_0x22f392(0x1e2)](_0x22f392(0x8c7),handleVisibilityChange),enterFullscreen(),window[_0x22f392(0x1e2)](_0x22f392(0x6b0),resetDimTimer),window['addEventListener'](_0x22f392(0x22b),resetDimTimer),window[_0x22f392(0x1e2)](_0x22f392(0x7f8),resetDimTimer),window['addEventListener']('keydown',resetDimTimer),resetDimTimer());const _0x104e5a=currentDisplayedQuiz[_0x22f392(0x7f5)]?.[_0x22f392(0x7e9)]||_0x22f392(0x79d);if(_0x104e5a===_0x22f392(0x2ad))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x22f392(0x7f5)][_0x22f392(0x5b1)]);else _0x104e5a===_0x22f392(0x58b)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x5d1426=_0x335401;let _0x3d6aa6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x5d1426(0x7d5)]+_0x5d1426(0x9ca)+(currentMode===_0x5d1426(0x56b)?_0x5d1426(0x7be):'')+_0x5d1426(0x6a4);currentDisplayedQuiz[_0x5d1426(0x4e3)][_0x5d1426(0x40a)]((_0x25ab45,_0x26435a)=>{const _0x5d80e2=_0x5d1426,_0x3ec105=_0x25ab45['questionType']||currentDisplayedQuiz[_0x5d80e2(0x7a1)];_0x3d6aa6+=_0x5d80e2(0x934);_0x3ec105==='matching_item'?_0x3d6aa6+=_0x5d80e2(0x8a5)+(_0x26435a+0x1)+'.\x20'+_0x25ab45[_0x5d80e2(0x99e)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x26435a+_0x5d80e2(0x6c9)+_0x25ab45[_0x5d80e2(0x16f)][_0x5d80e2(0x4eb)](_0x348197=>'<option\x20value=\x22'+_0x348197+'\x22>'+_0x348197+_0x5d80e2(0x6bc))[_0x5d80e2(0x7d)]('')+_0x5d80e2(0x539):(_0x3d6aa6+=_0x5d80e2(0x3c3)+(_0x26435a+0x1)+'.\x20'+(_0x25ab45[_0x5d80e2(0x878)]||_0x25ab45['questionText'])+'</p>',_0x25ab45[_0x5d80e2(0x2f7)]&&(_0x3d6aa6+=_0x5d80e2(0x371)+_0x25ab45[_0x5d80e2(0x2f7)]+'</div>'));_0x3d6aa6+=_0x5d80e2(0x305);switch(_0x3ec105){case _0x5d80e2(0x787):_0x3d6aa6+=_0x5d80e2(0x786)+_0x26435a+_0x5d80e2(0x89);break;case _0x5d80e2(0x4c4):_0x3d6aa6+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x26435a+_0x5d80e2(0x2a8)+_0x26435a+_0x5d80e2(0x916)+_0x26435a+'_opt0\x22>ใช่</label></div>',_0x3d6aa6+=_0x5d80e2(0x83a)+_0x26435a+'_opt1\x22\x20name=\x22question'+_0x26435a+_0x5d80e2(0x838)+_0x26435a+_0x5d80e2(0x38b);break;case'matching_item':break;case _0x5d80e2(0x3e2):case _0x5d80e2(0x847):default:_0x3d6aa6+=_0x25ab45['options']['map']((_0xde0ff7,_0x7402b3)=>'\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x26435a+_0x5d80e2(0x595)+_0x7402b3+_0x5d80e2(0x2ef)+_0x26435a+_0x5d80e2(0x9a0)+_0x7402b3+_0x5d80e2(0x825)+_0x26435a+_0x5d80e2(0x595)+_0x7402b3+'\x22>'+_0xde0ff7+_0x5d80e2(0x836))[_0x5d80e2(0x7d)]('');break;}_0x3d6aa6+=_0x5d80e2(0x656);}),_0x3d6aa6+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x3d6aa6+=_0x5d1426(0x362),studentQuizArea[_0x5d1426(0x297)]=_0x3d6aa6;if(currentMode===_0x5d1426(0x56b)){const _0x5338ee=document[_0x5d1426(0x11a)](_0x5d1426(0x1a3));if(_0x5338ee)_0x5338ee[_0x5d1426(0x1e2)](_0x5d1426(0x91d),cancelAdminTest);}document[_0x5d1426(0x11a)](_0x5d1426(0x87a))[_0x5d1426(0x1e2)](_0x5d1426(0x866),handleSubmitQuiz);if(window['MathJax'])window[_0x5d1426(0x107)][_0x5d1426(0x4a4)]([studentQuizArea]);}async function handleSubmitQuiz(_0x1eef5a){const _0x2f1a1f=_0x335401;if(_0x1eef5a)_0x1eef5a['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x4d94b1=document['getElementById'](_0x2f1a1f(0x87a));if(!_0x4d94b1)return;const _0x5d39be=_0x4d94b1[_0x2f1a1f(0x341)](_0x2f1a1f(0x76b)),_0x30eac9=currentDisplayedQuiz['questions']['some'](_0x1410c1=>_0x1410c1[_0x2f1a1f(0x23d)]===_0x2f1a1f(0x787));_0x5d39be&&(_0x5d39be['disabled']=!![],_0x30eac9?_0x5d39be[_0x2f1a1f(0x297)]=_0x2f1a1f(0x41c):_0x5d39be[_0x2f1a1f(0x297)]=_0x2f1a1f(0x171));const _0x3567d7=new FormData(_0x4d94b1),_0x5e760b=currentDisplayedQuiz['questions'][_0x2f1a1f(0x4eb)]((_0x5df8cc,_0x5e4ae5)=>{const _0x14eedb=_0x2f1a1f,_0xa522a0=_0x5df8cc['questionType']||currentDisplayedQuiz[_0x14eedb(0x7a1)],_0x157441=_0x3567d7[_0x14eedb(0x811)](_0x14eedb(0x67e)+_0x5e4ae5);if(_0x157441!==null&&_0x157441!==undefined){if(_0xa522a0===_0x14eedb(0x847)||_0xa522a0===_0x14eedb(0x3e2))return parseInt(_0x157441);return _0x157441;}return null;}),_0x3be04a=currentQuizData['id'],_0x4ab85c=doc(db,'artifacts/'+appId+_0x2f1a1f(0x2d6)+_0x3be04a+_0x2f1a1f(0x212),currentStudentName),_0x2ff9b3=await getDoc(_0x4ab85c),_0x10d885=_0x2ff9b3[_0x2f1a1f(0x91b)]()?_0x2ff9b3[_0x2f1a1f(0x33f)]():{},_0x418b52=_0x10d885[_0x2f1a1f(0x34b)]||[];await processAndSubmitAnswers(_0x5e760b,_0x418b52);}async function gradeShortAnswerWithAI(_0x200a21,_0x4e5b16){const _0xe10901=_0x335401;if(!_0x200a21||!_0x4e5b16)return![];try{const _0x18cdfc=_0xe10901(0xea)+_0x200a21+_0xe10901(0x429)+_0x4e5b16+_0xe10901(0x2c6),_0x3ee36c={'contents':[{'role':_0xe10901(0x357),'parts':[{'text':_0x18cdfc}]}]},_0x2b6dcc=_0xe10901(0x608),_0x1fbf21=_0xe10901(0x740)+_0x2b6dcc,_0x4e8a5f=await fetch(_0x1fbf21,{'method':_0xe10901(0x7c0),'headers':{'Content-Type':_0xe10901(0x959)},'body':JSON['stringify'](_0x3ee36c)});if(!_0x4e8a5f['ok'])throw new Error(_0xe10901(0x738));const _0x40c8e4=await _0x4e8a5f[_0xe10901(0x3a3)](),_0x3d0833=_0x40c8e4[_0xe10901(0x8ec)][0x0]['content'][_0xe10901(0x484)][0x0]['text'][_0xe10901(0xa5)]()[_0xe10901(0x5f2)]();return _0x3d0833===_0xe10901(0x6c8);}catch(_0x3a68ee){return console[_0xe10901(0x529)](_0xe10901(0x914),_0x3a68ee),![];}}async function processAndSubmitAnswers(_0x177b55,_0x5d0ded){const _0x5dd104=_0x335401;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x5dd104(0x2b3)]('fullscreenchange',handleFullscreenChange),document[_0x5dd104(0x2b3)]('visibilitychange',handleVisibilityChange);let _0x35be56=0x0,_0x170147=0x0,_0x25fa48=[];const _0x242d4e=[],_0x55eec4=currentDisplayedQuiz[_0x5dd104(0x4e3)][_0x5dd104(0x38d)];let _0x19ad22=0x0;const _0x4da717=currentDisplayedQuiz['questions'];for(let _0x55d482=0x0;_0x55d482<_0x4da717[_0x5dd104(0x38d)];_0x55d482++){const _0x24882f=_0x4da717[_0x55d482],_0x58cc34=_0x177b55[_0x55d482],_0x5f183f=_0x24882f[_0x5dd104(0x23d)]||currentDisplayedQuiz[_0x5dd104(0x7a1)];let _0x1a7003=![];if(_0x58cc34!==null&&_0x58cc34!=='')switch(_0x5f183f){case _0x5dd104(0x524):_0x1a7003=_0x58cc34===_0x24882f[_0x5dd104(0x441)];break;case'true_false':const _0xa9c1b4=_0x58cc34===!![]||_0x58cc34===_0x5dd104(0x6c8);_0x1a7003=_0xa9c1b4===_0x24882f[_0x5dd104(0x81)];break;case'short_answer':_0x1a7003=await gradeShortAnswer(_0x58cc34,_0x24882f);break;case'multiple_choice':default:_0x1a7003=Number(_0x58cc34)===_0x24882f['correctAnswerIndex'];break;}_0x1a7003?(_0x35be56++,_0x19ad22++,_0x19ad22===0x3&&(_0x25fa48[_0x5dd104(0x135)](BADGES[_0x5dd104(0x457)]['id']),_0x19ad22=0x0)):_0x19ad22=0x0;let _0x1537a2=null;_0x24882f['options']&&_0x58cc34!==null&&(_0x1537a2=_0x24882f[_0x5dd104(0x5b2)][_0x58cc34]),_0x242d4e['push']({'questionId':_0x24882f['id'],'answer':_0x58cc34,'answerText':_0x1537a2,'isCorrect':_0x1a7003,'originalQuestionText':_0x24882f[_0x5dd104(0x99e)]||_0x24882f[_0x5dd104(0x7f3)]});}_0x170147=_0x35be56*0xa;_0x35be56===_0x55eec4&&_0x55eec4>0x0&&!currentDisplayedQuiz[_0x5dd104(0x592)]&&(_0x170147+=0x32,_0x25fa48['push'](BADGES[_0x5dd104(0x1be)]['id']));const _0x29288c=currentDisplayedQuiz[_0x5dd104(0x7f5)]?.['passingScore']??Math[_0x5dd104(0x72)](_0x55eec4/0x2),_0x2e28e8=currentDisplayedQuiz['settings']?.[_0x5dd104(0x7e9)];if(_0x2e28e8===_0x5dd104(0x2ad)&&quizStartTime){const _0x47f1dd=(new Date()-quizStartTime)/0x3e8,_0x3faff2=currentDisplayedQuiz[_0x5dd104(0x7f5)]['timerDuration']*0x3c;_0x35be56>=_0x29288c&&_0x47f1dd<_0x3faff2/0x2&&(_0x170147+=0x14,_0x25fa48['push'](BADGES[_0x5dd104(0x591)]['id']));}_0x5d0ded[_0x5dd104(0x38d)]===0x0&&_0x35be56===_0x55eec4&&_0x55eec4>0x0&&_0x25fa48[_0x5dd104(0x135)](BADGES['FIRST_TRY_ACE']['id']);if(_0x5d0ded[_0x5dd104(0x38d)]>0x0){const _0x273703=_0x5d0ded[0x0][_0x5dd104(0x94c)];if(_0x273703<_0x29288c&&_0x35be56>=_0x29288c){const _0x1fa9cb=_0x5d0ded[_0x5dd104(0x156)](_0x1231a1=>(_0x1231a1[_0x5dd104(0x34a)]||[])['includes'](BADGES[_0x5dd104(0x343)]['id']));!_0x1fa9cb&&_0x25fa48['push'](BADGES[_0x5dd104(0x343)]['id']);}}_0x5d0ded[_0x5dd104(0x38d)]===0x4&&_0x25fa48[_0x5dd104(0x135)](BADGES[_0x5dd104(0x1bf)]['id']);const _0x209ee1=currentDisplayedQuiz[_0x5dd104(0x7f5)][_0x5dd104(0x5c3)];if(currentMode===_0x5dd104(0x56b)){handleResultDisplay(_0x209ee1,_0x35be56,_0x170147,_0x25fa48,_0x242d4e,_0x55eec4);return;}const _0x252b93=currentQuizData['id'],_0x337506=doc(db,_0x5dd104(0x82)+appId+_0x5dd104(0x2d6)+_0x252b93+_0x5dd104(0x212),currentStudentName);try{const _0x1019bc=[..._0x5d0ded],_0x4ab311={'score':_0x35be56,'points':_0x170147,'badges':_0x25fa48,'submittedAt':new Date()[_0x5dd104(0x910)](),'answers':_0x242d4e};_0x1019bc[_0x5dd104(0x135)](_0x4ab311);const _0x5501b0=_0x5d0ded[_0x5dd104(0x38d)]===0x0?_0x35be56:_0x5d0ded[0x0]['score']||0x0,_0x21e6a9=Math[_0x5dd104(0x594)](..._0x1019bc[_0x5dd104(0x4eb)](_0x5836ea=>_0x5836ea[_0x5dd104(0x94c)])),_0x2c0cfe=_0x35be56,_0x3dc358=_0x4ab311[_0x5dd104(0x72b)];await setDoc(_0x337506,{'studentName':currentStudentName,'totalQuestions':_0x55eec4,'attempts':_0x1019bc,'firstScore':_0x5501b0,'bestScore':_0x21e6a9,'latestScore':_0x2c0cfe,'points':_0x170147,'latestSubmittedAt':_0x3dc358},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x5dd104(0x4b5)],currentStudentName),handleResultDisplay(_0x209ee1,_0x35be56,_0x170147,_0x25fa48,_0x242d4e,_0x55eec4);}catch(_0x34ae40){console[_0x5dd104(0x529)](_0x5dd104(0x351),_0x34ae40),showMessage(_0x5dd104(0x436));}}async function updateStudentProfile(_0x5502a1,_0x3548e2){const _0x5a22ed=_0x335401,_0x1f8f17=doc(db,_0x5a22ed(0x82)+appId+_0x5a22ed(0x2ea)+_0x5502a1+_0x5a22ed(0x694),_0x3548e2);try{const _0x5d5529=query(collection(db,_0x5a22ed(0x82)+appId+'/public/data/quizzes'),where('projectId','==',_0x5502a1)),_0xb89746=await getDocs(_0x5d5529),_0x4b5e14=new Map(_0xb89746[_0x5a22ed(0x84c)]['map'](_0x4ed7a3=>[_0x4ed7a3['id'],_0x4ed7a3[_0x5a22ed(0x33f)]()])),_0x4e185c=Array[_0x5a22ed(0x50e)](_0x4b5e14[_0x5a22ed(0x58f)]());await runTransaction(db,async _0x2e63a0=>{const _0x7dc8dd=_0x5a22ed;let _0x182dd6=0x0;const _0x4701f4={};let _0x3fe991=!![],_0x2a3360=0x0,_0x50478f=0x0;for(const _0xad7655 of _0x4e185c){const _0x52c1c3=_0x4b5e14[_0x7dc8dd(0x811)](_0xad7655),_0x357caf=doc(db,_0x7dc8dd(0x82)+appId+_0x7dc8dd(0x2d6)+_0xad7655+_0x7dc8dd(0x212),_0x3548e2),_0x4ddc70=await _0x2e63a0[_0x7dc8dd(0x811)](_0x357caf);if(_0x4ddc70[_0x7dc8dd(0x91b)]()){const _0x2cf649=_0x4ddc70[_0x7dc8dd(0x33f)](),_0x466f7f=_0x2cf649[_0x7dc8dd(0x34b)]||[];if(_0x466f7f['length']>0x0){const _0x491d36=_0x466f7f[_0x7dc8dd(0xe4)]((_0x50a38d,_0x464d36)=>{const _0x1c975f=_0x7dc8dd;if(_0x464d36['score']>_0x50a38d[_0x1c975f(0x94c)])return _0x464d36;if(_0x464d36[_0x1c975f(0x94c)]===_0x50a38d[_0x1c975f(0x94c)])return(_0x464d36['points']||0x0)>(_0x50a38d[_0x1c975f(0xfe)]||0x0)?_0x464d36:_0x50a38d;return _0x50a38d;},{'score':-0x1,'points':-0x1});_0x491d36['score']>-0x1&&(_0x182dd6+=_0x491d36[_0x7dc8dd(0xfe)]||0x0,(_0x491d36[_0x7dc8dd(0x34a)]||[])['forEach'](_0x28a19f=>{_0x4701f4[_0x28a19f]=(_0x4701f4[_0x28a19f]||0x0)+0x1;}));}}if(_0x52c1c3[_0x7dc8dd(0x7d5)]!==_0x7dc8dd(0x743)){_0x50478f++;if(_0x4ddc70['exists']()){_0x2a3360++;const _0x5a859c=_0x4ddc70['data']();_0x5a859c['bestScore']!==_0x5a859c['totalQuestions']&&(_0x3fe991=![]);}else _0x3fe991=![];}}_0x50478f>0x0&&_0x2a3360===_0x50478f&&_0x3fe991?_0x4701f4[_0x7dc8dd(0x30d)]=0x1:_0x4701f4[_0x7dc8dd(0x30d)]=0x0,_0x2e63a0[_0x7dc8dd(0x85e)](_0x1f8f17,{'studentName':_0x3548e2,'totalPoints':_0x182dd6,'unlockedBadges':Object['keys'](_0x4701f4)[_0x7dc8dd(0x84b)](_0x358f6d=>_0x4701f4[_0x358f6d]>0x0),'badgesCount':_0x4701f4},{'merge':!![]});});}catch(_0x173535){console[_0x5a22ed(0x529)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x173535),showMessage(_0x5a22ed(0x996));}}function startAdminTest(){const _0x5ed383=_0x335401;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x569ea8=JSON[_0x5ed383(0x18d)](JSON[_0x5ed383(0x3af)](currentQuizData));currentMode=_0x5ed383(0x56b),currentStudentName=_0x5ed383(0x5d3),adminView['classList'][_0x5ed383(0x85b)]('hidden'),studentView['classList'][_0x5ed383(0x57c)](_0x5ed383(0x6f8)),studentInitialView[_0x5ed383(0x8f)][_0x5ed383(0x85b)](_0x5ed383(0x6f8)),studentNameSelectionView[_0x5ed383(0x8f)]['add'](_0x5ed383(0x6f8)),studentResultArea[_0x5ed383(0x8f)][_0x5ed383(0x85b)](_0x5ed383(0x6f8)),studentQuizArea[_0x5ed383(0x8f)][_0x5ed383(0x57c)](_0x5ed383(0x6f8)),quizStartTime=new Date(),displayQuizForStudent(_0x569ea8);}function handleResultDisplay(_0x1d54fa,_0x234a23,_0x2025d6,_0x3df45b,_0x3d4e34,_0x4ea015){const _0x14ddd2=_0x335401;if(_0x1d54fa==='manual_release'){displaySubmissionConfirmation();return;}const _0x530d1a=currentDisplayedQuiz[_0x14ddd2(0x7f5)]?.[_0x14ddd2(0x683)]??Math['floor'](_0x4ea015/0x2),_0x21bef9=currentDisplayedQuiz[_0x14ddd2(0x7f5)]?.['isAdaptive']??![],_0xa4f2a6=currentDisplayedQuiz[_0x14ddd2(0x7f5)]?.[_0x14ddd2(0x1d8)]===!![],_0x185c43=_0x234a23<_0x530d1a,_0x49f6c3=_0x1d54fa==='half_mark_status'||_0x1d54fa===_0x14ddd2(0x5fa);if(_0xa4f2a6&&_0x185c43&&!_0x49f6c3){_0x1d54fa===_0x14ddd2(0x245)?displayResultsWithAnswers(_0x234a23,_0x2025d6,_0x3df45b,_0x3d4e34,_0x4ea015,!![]):displayLoopScreen(_0x234a23,_0x4ea015,_0x1d54fa);return;}if(_0x21bef9&&_0x185c43){startAdaptiveFlow(_0x3d4e34,_0x234a23,_0x4ea015);return;}switch(_0x1d54fa){case _0x14ddd2(0x245):displayResultsWithAnswers(_0x234a23,_0x2025d6,_0x3df45b,_0x3d4e34,_0x4ea015);break;case _0x14ddd2(0x788):displayResultsScoreOnly(_0x234a23,_0x2025d6,_0x3df45b,_0x4ea015);break;case _0x14ddd2(0xa4):displayPassFailOnly(_0x234a23,_0x4ea015);break;case _0x14ddd2(0x826):displayHalfMarkResult(_0x234a23,_0x4ea015);break;case'perfect_score_status':displayPerfectScoreResult(_0x234a23,_0x4ea015);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x4fda81){const _0x2b68b2=_0x335401;studentReadingArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x44220c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4fda81+_0x2b68b2(0x756)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x118c10={'type':_0x2b68b2(0x4cb),'properties':{'questionText':{'type':_0x2b68b2(0x517)},'options':{'type':_0x2b68b2(0x401),'items':{'type':_0x2b68b2(0x517)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x2b68b2(0x517)}},'required':['questionText',_0x2b68b2(0x5b2),_0x2b68b2(0x801),_0x2b68b2(0x199)]},_0x3a97c4={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2b68b2(0x401),'items':_0x118c10}},'required':[_0x2b68b2(0x7d5),_0x2b68b2(0x4e3)]};try{const _0x46953e=await callAnalysisApi(_0x44220c,_0x3a97c4);_0x46953e[_0x2b68b2(0x592)]=!![],studentReadingArea[_0x2b68b2(0x8f)][_0x2b68b2(0x85b)](_0x2b68b2(0x6f8));const _0x2a784a={...currentDisplayedQuiz[_0x2b68b2(0x7f5)],'isAdaptive':![],'resultsDisplay':_0x2b68b2(0x245)};_0x46953e[_0x2b68b2(0x7f5)]=_0x2a784a,displayQuizForStudent(_0x46953e);}catch(_0x4ee926){console[_0x2b68b2(0x529)](_0x2b68b2(0x833),_0x4ee926),showMessage(_0x2b68b2(0x280)),showView(_0x2b68b2(0x4e4));}}function displayPassFailOnly(_0x393412,_0x292726){const _0x22958c=_0x335401,_0x353308=currentDisplayedQuiz['settings']?.[_0x22958c(0x683)]??-0x1,_0x78595d=currentDisplayedQuiz[_0x22958c(0x592)]===!![];let _0x9a7f2f='',_0x48dba6=![];if(_0x78595d||_0x353308!==-0x1){_0x48dba6=_0x78595d?_0x393412===_0x292726:_0x393412>=_0x353308;const _0x2dbb2f=_0x48dba6?_0x22958c(0x8b0):_0x22958c(0x3f8),_0x144002=_0x48dba6?_0x22958c(0x64b):_0x22958c(0x1e3);_0x9a7f2f='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x2dbb2f+'\x22>'+_0x144002+_0x22958c(0x813);}else _0x9a7f2f=_0x22958c(0x768);let _0x2d437e=_0x22958c(0x8e2)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x9a7f2f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x22958c(0x297)]=_0x2d437e,studentResultArea[_0x22958c(0x8f)][_0x22958c(0x57c)](_0x22958c(0x6f8)),studentQuizArea[_0x22958c(0x8f)][_0x22958c(0x85b)](_0x22958c(0x6f8)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x48dba6});}function cancelAdminTest(){const _0x4abaa0=_0x335401;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x4abaa0(0x2b3)](_0x4abaa0(0x346),handleFullscreenChange),document[_0x4abaa0(0x2b3)](_0x4abaa0(0x8c7),handleVisibilityChange),currentMode='admin',studentView['classList'][_0x4abaa0(0x85b)](_0x4abaa0(0x6f8)),adminView[_0x4abaa0(0x8f)][_0x4abaa0(0x57c)](_0x4abaa0(0x6f8)),showView('project-detail');}function setupResultScreenBackButton(_0x552177){const _0x92b513=_0x335401,_0x117350={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x552177};if(_0x117350[_0x92b513(0x734)]){const _0x5c9cb3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x92b513(0x32b)](_0x92b513(0x8ac),_0x5c9cb3),document['getElementById']('retake-quiz-loop-btn')[_0x92b513(0x1e2)](_0x92b513(0x91d),()=>{const _0x419d37=_0x92b513;studentResultArea['classList']['add'](_0x419d37(0x6f8)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x5266fc=_0x92b513(0xfd),_0x100928=currentMode==='admin-testing',_0x255732=_0x100928?_0x92b513(0x4dc):_0x92b513(0x577);let _0x4883e2='';_0x117350[_0x92b513(0x977)]&&(_0x4883e2+='<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>');let _0x29bfa9=_0x117350[_0x92b513(0x913)];_0x29bfa9===undefined&&(_0x29bfa9=_0x117350[_0x92b513(0x94c)]<_0x117350['totalQuestions']);_0x29bfa9&&(_0x4883e2+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x4883e2+=_0x92b513(0x5a0)+_0x5266fc+_0x92b513(0x194)+_0x255732+_0x92b513(0x691);const _0x34902b=_0x92b513(0x55b)+_0x4883e2+'</div>';studentResultArea[_0x92b513(0x32b)](_0x92b513(0x8ac),_0x34902b),studentResultArea[_0x92b513(0x341)](_0x92b513(0x65a))?.[_0x92b513(0x1e2)](_0x92b513(0x91d),handleShowStudentRankings);const _0x3acc5e=studentResultArea['querySelector']('#retake-for-improvement-btn');_0x3acc5e&&_0x3acc5e['addEventListener'](_0x92b513(0x91d),()=>{const _0xb303=_0x92b513;studentResultArea[_0xb303(0x8f)][_0xb303(0x85b)](_0xb303(0x6f8)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x92b513(0x11a)](_0x5266fc)[_0x92b513(0x1e2)](_0x92b513(0x91d),()=>{const _0x2db677=_0x92b513;_0x100928?(currentMode=_0x2db677(0x321),studentView[_0x2db677(0x8f)][_0x2db677(0x85b)](_0x2db677(0x6f8)),adminView[_0x2db677(0x8f)]['remove']('hidden'),showView(_0x2db677(0x495))):(showView('student'),document[_0x2db677(0x11a)](_0x2db677(0x8e1))['value']='');});}function displayResultsWithAnswers(_0x32e582,_0x5323f4,_0x13b014,_0x5c8aed,_0x474438,_0x500a0b=![]){const _0x4676db=_0x335401,_0x26b701=_0x474438>0x0?_0x32e582/_0x474438*0x64:0x0,_0x5dc823=currentDisplayedQuiz[_0x4676db(0x7f5)]?.[_0x4676db(0x683)]??-0x1,_0x427460=currentDisplayedQuiz['isRemedial']===!![];let _0x3c62f6='';if(_0x427460||_0x5dc823!==-0x1){let _0x38582c=_0x427460?_0x32e582===_0x474438:_0x32e582>=_0x5dc823;const _0x514dcd=_0x38582c?'bg-green-100\x20text-green-800':_0x4676db(0x3f8),_0x351faf=_0x38582c?'ผ่าน':'ไม่ผ่าน';_0x3c62f6='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x514dcd+'\x22>'+_0x351faf+'</p>';}let _0x4dd4e6=_0x4676db(0x4f8)+currentStudentName+_0x4676db(0x50a)+_0x32e582+_0x4676db(0x520)+_0x474438+_0x4676db(0x697)+_0x3c62f6+_0x4676db(0x1df)+_0x5323f4+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x26b701[_0x4676db(0x198)](0x0)+_0x4676db(0x528);currentDisplayedQuiz[_0x4676db(0x4e3)][_0x4676db(0x40a)]((_0x3ea03b,_0x3fe343)=>{const _0x25e02c=_0x4676db,_0x9870f3=_0x5c8aed[_0x3fe343],_0x65abe3=_0x9870f3[_0x25e02c(0x4a7)],_0x191ce6=_0x9870f3['isCorrect'],_0x4da0e7=_0x3ea03b[_0x25e02c(0x23d)]||currentDisplayedQuiz[_0x25e02c(0x7a1)];_0x4dd4e6+=_0x25e02c(0x77a)+(_0x191ce6?_0x25e02c(0x699):_0x25e02c(0x7fa))+_0x25e02c(0x44f)+(_0x3fe343+0x1)+'.\x20'+(_0x3ea03b[_0x25e02c(0x99e)]||_0x3ea03b[_0x25e02c(0x7f3)])+_0x25e02c(0x657);switch(_0x4da0e7){case _0x25e02c(0x524):const _0x32b71c=_0x65abe3||'ไม่ได้ตอบ',_0x319be0=_0x3ea03b[_0x25e02c(0x441)];_0x4dd4e6+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x191ce6?_0x25e02c(0x8e6):'')+'\x22>'+_0x32b71c+_0x25e02c(0x757);!_0x191ce6&&(_0x4dd4e6+=_0x25e02c(0x724)+_0x319be0+_0x25e02c(0x472));break;case _0x25e02c(0x787):_0x4dd4e6+=_0x25e02c(0x33b)+(_0x65abe3||_0x25e02c(0x271))+_0x25e02c(0x472),_0x4dd4e6+=_0x25e02c(0x91c)+_0x3ea03b[_0x25e02c(0x4a8)]+_0x25e02c(0x472);break;case _0x25e02c(0x4c4):_0x4dd4e6+=_0x25e02c(0x422)+(_0x3ea03b['correctAnswer']===!![]?_0x25e02c(0x71e):'')+'\x20'+(_0x65abe3===_0x25e02c(0x6c8)&&!_0x191ce6?_0x25e02c(0x8e6):'')+_0x25e02c(0x415),_0x4dd4e6+=_0x25e02c(0x422)+(_0x3ea03b[_0x25e02c(0x81)]===![]?_0x25e02c(0x71e):'')+'\x20'+(_0x65abe3===_0x25e02c(0x926)&&!_0x191ce6?'line-through\x20text-red-700':'')+'\x22>ไม่ใช่</p>';break;default:_0x4dd4e6+=_0x3ea03b[_0x25e02c(0x5b2)][_0x25e02c(0x4eb)]((_0x43e8d0,_0x189c51)=>{const _0xc50e05=_0x25e02c;let _0x25265f='',_0x5f243c='';if(_0x189c51===_0x3ea03b[_0xc50e05(0x801)])_0x25265f='font-bold\x20text-green-700',_0x5f243c=_0xc50e05(0x413);else _0x189c51===_0x65abe3&&(_0x25265f=_0xc50e05(0x9c1),_0x5f243c=_0xc50e05(0x4bc));return _0xc50e05(0x601)+_0x25265f+'\x22>'+_0x5f243c+_0x43e8d0+_0xc50e05(0x9ab);})[_0x25e02c(0x7d)]('');break;}_0x4dd4e6+=_0x25e02c(0x2e4)+(_0x3ea03b[_0x25e02c(0x199)]||_0x25e02c(0x203))+_0x25e02c(0x9ab);if(!_0x191ce6){const _0x186654=_0x3ea03b['stem']||_0x3ea03b[_0x25e02c(0x7f3)];_0x4dd4e6+=_0x25e02c(0x739)+escape(_0x186654)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x4dd4e6+=_0x25e02c(0x9ab);}),studentResultArea[_0x4676db(0x297)]=_0x4dd4e6,renderEarnedBadges(_0x13b014,_0x4676db(0x1b6)),studentResultArea[_0x4676db(0x8f)][_0x4676db(0x57c)](_0x4676db(0x6f8)),studentQuizArea[_0x4676db(0x8f)][_0x4676db(0x85b)]('hidden'),setupResultScreenBackButton({'isLooping':_0x500a0b,'score':_0x32e582,'totalQuestions':_0x474438,'showRankings':!![]});if(window[_0x4676db(0x107)])window[_0x4676db(0x107)][_0x4676db(0x4a4)]([studentResultArea]);}function displayResultsScoreOnly(_0x3cf5bb,_0x11acb2,_0x1d7340,_0xac143d){const _0x475c76=_0x335401,_0x1d41a8=_0xac143d>0x0?_0x3cf5bb/_0xac143d*0x64:0x0,_0x576538=currentDisplayedQuiz[_0x475c76(0x7f5)]?.[_0x475c76(0x683)]??-0x1,_0x847496=currentDisplayedQuiz[_0x475c76(0x592)]===!![];let _0x3f2e0e='';if(_0x847496||_0x576538!==-0x1){let _0x28c2d5=_0x847496?_0x3cf5bb===_0xac143d:_0x3cf5bb>=_0x576538;const _0x25ff0e=_0x28c2d5?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x4194e9=_0x28c2d5?_0x475c76(0x64b):_0x475c76(0x1e3);_0x3f2e0e=_0x475c76(0x954)+_0x25ff0e+'\x22>'+_0x4194e9+_0x475c76(0x472);}let _0x160cc2=_0x475c76(0x8e2)+currentStudentName+_0x475c76(0x5b0)+_0x3cf5bb+_0x475c76(0x443)+_0xac143d+_0x475c76(0x697)+_0x3f2e0e+_0x475c76(0x1df)+_0x11acb2+_0x475c76(0x60d)+_0x1d41a8[_0x475c76(0x198)](0x0)+_0x475c76(0x105);studentResultArea[_0x475c76(0x297)]=_0x160cc2,renderEarnedBadges(_0x1d7340,_0x475c76(0x1b6)),studentResultArea[_0x475c76(0x8f)]['remove'](_0x475c76(0x6f8)),studentQuizArea['classList'][_0x475c76(0x85b)](_0x475c76(0x6f8)),setupResultScreenBackButton({'score':_0x3cf5bb,'totalQuestions':_0xac143d,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x37f0c0=_0x335401;let _0x1d9581=_0x37f0c0(0x63e)+currentStudentName+_0x37f0c0(0x93b);studentResultArea[_0x37f0c0(0x297)]=_0x1d9581,studentResultArea[_0x37f0c0(0x8f)][_0x37f0c0(0x57c)](_0x37f0c0(0x6f8)),studentQuizArea[_0x37f0c0(0x8f)][_0x37f0c0(0x85b)](_0x37f0c0(0x6f8)),document['getElementById'](_0x37f0c0(0x5f7))[_0x37f0c0(0x1e2)]('click',()=>{const _0x45f4ed=_0x37f0c0;showView('student'),document[_0x45f4ed(0x11a)](_0x45f4ed(0x8e1))[_0x45f4ed(0x5ce)]='';});}function renderEarnedBadges(_0x266558,_0x4a2539){const _0x47606c=_0x335401,_0x4bda5c=document['getElementById'](_0x4a2539);if(!_0x4bda5c||!_0x266558||_0x266558[_0x47606c(0x38d)]===0x0)return;let _0x415a01='';_0x266558['forEach']((_0x38535d,_0xb6e5e)=>{const _0x501907=_0x47606c,_0x21f9a3=Object['values'](BADGES)[_0x501907(0x474)](_0x462131=>_0x462131['id']===_0x38535d);_0x21f9a3&&(_0x415a01+=_0x501907(0x6f7)+_0xb6e5e*0.2+'s;\x22\x20title=\x22'+_0x21f9a3[_0x501907(0x1dd)]+_0x501907(0x611)+_0x21f9a3[_0x501907(0x799)]+_0x501907(0x34f)+_0x21f9a3['name']+_0x501907(0x62d));}),_0x4bda5c[_0x47606c(0x297)]=_0x415a01;}function startPresentation(_0xc7db89){const _0x3e837d=_0x335401;currentQuizData=getShuffledQuiz(_0xc7db89),currentPresentationSlide=0x0,presentationModal['style'][_0x3e837d(0x7de)]=_0x3e837d(0x310),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x1ff4d9=_0x335401;document[_0x1ff4d9(0x90a)]&&document[_0x1ff4d9(0x2ae)](),presentationModal[_0x1ff4d9(0x149)]['display']='none';}function renderPresentationSlide(_0x3aa1c1){const _0x680168=_0x335401,_0x226f3f=document[_0x680168(0x11a)]('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0x680168(0x4e3)]||!currentQuizData[_0x680168(0x4e3)][_0x3aa1c1]){_0x226f3f[_0x680168(0x297)]=_0x680168(0x96);return;}const _0x12ed3d=currentQuizData[_0x680168(0x4e3)][_0x3aa1c1],_0x49a0ce=_0x12ed3d[_0x680168(0x23d)]||currentQuizData[_0x680168(0x7a1)];_0x226f3f['innerHTML']='';let _0x41285a=_0x680168(0x41a)+(_0x12ed3d[_0x680168(0x2f7)]?_0x680168(0x371)+_0x12ed3d[_0x680168(0x2f7)]+_0x680168(0x9ab):'')+_0x680168(0x5ed)+(_0x3aa1c1+0x1)+'.\x20'+(_0x12ed3d[_0x680168(0x99e)]||_0x12ed3d['questionText'])+_0x680168(0x2e7);switch(_0x49a0ce){case _0x680168(0x524):_0x41285a+=_0x12ed3d[_0x680168(0x16f)][_0x680168(0x4eb)](_0x1cc123=>_0x680168(0x897)+_0x1cc123+_0x680168(0x14e))[_0x680168(0x7d)]('');break;case _0x680168(0x4c4):_0x41285a+=_0x680168(0x369),_0x41285a+=_0x680168(0x2b5);break;case _0x680168(0x4fc):case _0x680168(0x787):_0x41285a+=_0x680168(0x1ea);break;case _0x680168(0x3e2):case _0x680168(0x847):default:_0x41285a+=_0x12ed3d['options']['map']((_0xb1a642,_0x356d8b)=>_0x680168(0x552)+_0x356d8b+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb1a642+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x680168(0x7d)]('');break;}_0x41285a+=_0x680168(0x4f2)+(_0x12ed3d[_0x680168(0x199)]||_0x680168(0x203))+_0x680168(0x923),_0x226f3f[_0x680168(0x297)]=_0x41285a;if(window[_0x680168(0x107)])window[_0x680168(0x107)]['typesetPromise']([_0x226f3f]);let _0x2a41a6=[];switch(_0x49a0ce){case _0x680168(0x524):_0x2a41a6=_0x12ed3d['allResponses']||[];break;case _0x680168(0x4c4):_0x2a41a6=['ใช่','ไม่ใช่'];break;default:_0x2a41a6=_0x12ed3d[_0x680168(0x5b2)]||[];break;}const _0x33b874=document['getElementById'](_0x680168(0x49e));_0x33b874&&(_0x33b874[_0x680168(0x5f6)]=()=>{openScratchpad(_0x12ed3d,_0x2a41a6);});document[_0x680168(0xf8)]('.presentation-option')['forEach'](_0x5b41da=>{const _0x4cac24=_0x680168;_0x5b41da[_0x4cac24(0x1e2)]('click',_0x4e94fb=>revealAnswerForPresentation(_0x3aa1c1,_0x4e94fb[_0x4cac24(0x265)]));});const _0xca4a0=document[_0x680168(0x11a)]('check-presentation-answer-btn');_0xca4a0&&_0xca4a0[_0x680168(0x1e2)]('click',()=>checkShortAnswerForPresentation(_0x3aa1c1)),document[_0x680168(0x11a)](_0x680168(0x8ee))['textContent']=_0x680168(0x5e4)+(_0x3aa1c1+0x1)+_0x680168(0x73f)+currentQuizData['questions'][_0x680168(0x38d)],document[_0x680168(0x11a)](_0x680168(0x414))[_0x680168(0x53e)]=_0x3aa1c1===0x0,document['getElementById'](_0x680168(0x1ce))[_0x680168(0x53e)]=_0x3aa1c1===currentQuizData[_0x680168(0x4e3)][_0x680168(0x38d)]-0x1;}async function checkShortAnswerForPresentation(_0x3df705){const _0x87c32=_0x335401,_0x20d2a9=currentQuizData['questions'][_0x3df705],_0x1acc09=document['getElementById'](_0x87c32(0x8ce)),_0xfce49f=document[_0x87c32(0x11a)]('check-presentation-answer-btn'),_0x55d939=document[_0x87c32(0x11a)](_0x87c32(0x70e)),_0xb64eb4=document['getElementById'](_0x87c32(0x6aa));if(!_0x1acc09||!_0xfce49f||!_0x55d939||!_0xb64eb4)return;const _0x34d698=_0x1acc09[_0x87c32(0x5ce)][_0x87c32(0xa5)]();if(_0x34d698==='')return;_0xfce49f[_0x87c32(0x53e)]=!![],_0xfce49f[_0x87c32(0x297)]=_0x87c32(0x215),_0x1acc09[_0x87c32(0x53e)]=!![];const _0x288276=await gradeShortAnswer(_0x34d698,_0x20d2a9);_0x288276?_0x55d939['innerHTML']=_0x87c32(0x54e):_0x55d939['innerHTML']='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x20d2a9[_0x87c32(0x4a8)]+')',_0x55d939[_0x87c32(0x8f)][_0x87c32(0x57c)](_0x87c32(0x6f8)),_0xb64eb4[_0x87c32(0x8f)][_0x87c32(0x57c)](_0x87c32(0x6f8)),_0xfce49f[_0x87c32(0x8f)]['add'](_0x87c32(0x6f8));}function revealAnswerForPresentation(_0x294dc8,_0x12deed){const _0x4c9ab3=_0x335401,_0x318bd0=currentQuizData[_0x4c9ab3(0x4e3)][_0x294dc8],_0x52557e=_0x318bd0[_0x4c9ab3(0x23d)]||currentQuizData['quizType'];document[_0x4c9ab3(0xf8)](_0x4c9ab3(0x8db))[_0x4c9ab3(0x40a)](_0x471afb=>{const _0x156c52=_0x4c9ab3;_0x471afb[_0x156c52(0x53e)]=!![],_0x471afb[_0x156c52(0x8f)][_0x156c52(0x57c)]('hover:bg-indigo-100');let _0x328c85=![];if(_0x52557e===_0x156c52(0x847)||_0x52557e===_0x156c52(0x3e2)){const _0x5a8490=parseInt(_0x471afb[_0x156c52(0x93d)]['index']);_0x328c85=_0x5a8490===_0x318bd0[_0x156c52(0x801)];}else{if(_0x52557e===_0x156c52(0x4c4)){const _0xf58dc9=_0x471afb[_0x156c52(0x93d)]['answer']===_0x156c52(0x6c8);_0x328c85=_0xf58dc9===_0x318bd0['correctAnswer'];}else _0x52557e==='matching_item'&&(_0x328c85=_0x471afb[_0x156c52(0x9a9)][_0x156c52(0xa5)]()===_0x318bd0[_0x156c52(0x441)]);}_0x328c85?_0x471afb[_0x156c52(0x8f)]['add'](_0x156c52(0x991),_0x156c52(0x4f7),'border-green-700'):_0x471afb[_0x156c52(0x8f)][_0x156c52(0x85b)](_0x156c52(0x9a1));}),_0x12deed[_0x4c9ab3(0x8f)][_0x4c9ab3(0x57c)]('opacity-50');let _0x97d1f7=![];if(_0x52557e===_0x4c9ab3(0x847))_0x97d1f7=parseInt(_0x12deed[_0x4c9ab3(0x93d)]['index'])===_0x318bd0[_0x4c9ab3(0x801)];else{if(_0x52557e===_0x4c9ab3(0x4c4))_0x97d1f7=_0x12deed[_0x4c9ab3(0x93d)][_0x4c9ab3(0x4a7)]==='true'===_0x318bd0[_0x4c9ab3(0x81)];else _0x52557e===_0x4c9ab3(0x524)&&(_0x97d1f7=_0x12deed[_0x4c9ab3(0x9a9)]['trim']()===_0x318bd0[_0x4c9ab3(0x441)]);}!_0x97d1f7&&_0x12deed[_0x4c9ab3(0x8f)][_0x4c9ab3(0x85b)](_0x4c9ab3(0x4a9),_0x4c9ab3(0x4f7),_0x4c9ab3(0x598)),document[_0x4c9ab3(0x11a)](_0x4c9ab3(0x6aa))[_0x4c9ab3(0x8f)][_0x4c9ab3(0x57c)](_0x4c9ab3(0x6f8));}function startWholeQuizTimer(_0x341f3){const _0x568c0d=_0x335401,_0x339aca=document[_0x568c0d(0x11a)](_0x568c0d(0x9a2));if(!_0x339aca)return;const _0x58547e=Date[_0x568c0d(0x160)]()+_0x341f3*0x3c*0x3e8;_0x339aca[_0x568c0d(0x297)]=_0x568c0d(0x470);const _0x128c0f=document[_0x568c0d(0x11a)](_0x568c0d(0x120));quizTimerInterval=setInterval(()=>{const _0xcb6fc5=_0x568c0d,_0x4d8a15=_0x58547e-Date[_0xcb6fc5(0x160)]();if(_0x4d8a15<=0x0)clearInterval(quizTimerInterval),_0x128c0f[_0xcb6fc5(0x9a9)]='00:00',showMessage(_0xcb6fc5(0x5d9)),handleSubmitQuiz(null);else{const _0x2266ff=Math[_0xcb6fc5(0x72)](_0x4d8a15/0x3e8/0x3c%0x3c)['toString']()['padStart'](0x2,'0'),_0x1fb2f4=Math[_0xcb6fc5(0x72)](_0x4d8a15/0x3e8%0x3c)[_0xcb6fc5(0x5dc)]()[_0xcb6fc5(0x188)](0x2,'0');_0x128c0f[_0xcb6fc5(0x9a9)]=_0x2266ff+':'+_0x1fb2f4;}},0x3e8);}function renderPerQuestionView(){const _0x344491=_0x335401;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x1b2323=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x4e34b5=_0x1b2323[_0x344491(0x23d)]||currentDisplayedQuiz[_0x344491(0x7a1)];let _0x1b3816=_0x344491(0xd3)+(currentQuestionIndex+0x1)+_0x344491(0x6f9)+currentDisplayedQuiz[_0x344491(0x4e3)]['length']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin-testing'?_0x344491(0x7be):'')+_0x344491(0x352)+currentDisplayedQuiz[_0x344491(0x7d5)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x344491(0x4e3)][_0x344491(0x38d)]-0x1?_0x344491(0x796):_0x344491(0x879))+_0x344491(0x1fa);studentQuizArea[_0x344491(0x297)]=_0x1b3816;let _0x35371a='',_0x4a9ee8='';switch(_0x4e34b5){case _0x344491(0x524):_0x35371a=currentQuestionIndex+0x1+'.\x20'+_0x1b2323[_0x344491(0x99e)],_0x4a9ee8=_0x344491(0xeb)+_0x1b2323[_0x344491(0x16f)][_0x344491(0x4eb)](_0x10a188=>_0x344491(0x8d0)+_0x10a188+'\x22>'+_0x10a188+'</option>')[_0x344491(0x7d)]('')+_0x344491(0x3b1);break;case _0x344491(0x4c4):_0x35371a=currentQuestionIndex+0x1+'.\x20'+_0x1b2323[_0x344491(0x7f3)],_0x4a9ee8=_0x344491(0x191);break;case _0x344491(0x787):case _0x344491(0x4fc):_0x35371a=currentQuestionIndex+0x1+'.\x20'+_0x1b2323[_0x344491(0x7f3)],_0x4a9ee8=_0x344491(0x3f9);break;case _0x344491(0x847):case'fill_in_with_choices':default:_0x35371a=currentQuestionIndex+0x1+'.\x20'+_0x1b2323['questionText'],_0x4a9ee8=_0x1b2323[_0x344491(0x5b2)]['map']((_0x2a92f0,_0x966e29)=>_0x344491(0x71a)+_0x966e29+_0x344491(0x5f9)+_0x966e29+_0x344491(0x948)+_0x966e29+'\x22>'+_0x2a92f0+_0x344491(0x59c))[_0x344491(0x7d)]('');break;}_0x1b2323[_0x344491(0x2f7)]&&(_0x35371a+=_0x344491(0x371)+_0x1b2323[_0x344491(0x2f7)]+'</div>');document[_0x344491(0x11a)](_0x344491(0x114))[_0x344491(0x297)]=_0x35371a,document[_0x344491(0x11a)]('per-question-options')[_0x344491(0x297)]=_0x4a9ee8;if(currentMode===_0x344491(0x56b)){const _0x2baffa=document[_0x344491(0x11a)](_0x344491(0x1a3));if(_0x2baffa)_0x2baffa[_0x344491(0x1e2)]('click',cancelAdminTest);}document[_0x344491(0x11a)](_0x344491(0x3cb))[_0x344491(0x1e2)](_0x344491(0x91d),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x344491(0x107)][_0x344491(0x4a4)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x5aa59a=_0x335401,_0x9b2327=currentDisplayedQuiz[_0x5aa59a(0x7f5)][_0x5aa59a(0x5b1)],_0x4f1b4d=document['getElementById'](_0x5aa59a(0x988));if(!_0x4f1b4d)return;let _0x4a21ac=_0x9b2327;_0x4f1b4d[_0x5aa59a(0x297)]=_0x5aa59a(0x7d1)+_0x4a21ac+_0x5aa59a(0x37f);const _0x5c151f=document[_0x5aa59a(0x11a)](_0x5aa59a(0x9bd)),_0x3d31c2=document[_0x5aa59a(0x11a)](_0x5aa59a(0x606));perQuestionTimerInterval=setInterval(()=>{const _0x15f65c=_0x5aa59a;_0x4a21ac--;const _0x26e529=_0x4a21ac/_0x9b2327*0x64;_0x5c151f[_0x15f65c(0x149)][_0x15f65c(0x823)]=_0x26e529+'%',_0x3d31c2['textContent']=_0x4a21ac,_0x4a21ac<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x4e0d85=![]){const _0x3f7eed=_0x335401;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x3ed6ba=null;if(!_0x4e0d85){const _0x58add9=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x1e0e8a=_0x58add9[_0x3f7eed(0x23d)]||currentDisplayedQuiz[_0x3f7eed(0x7a1)];if(_0x1e0e8a==='short_answer'||_0x1e0e8a===_0x3f7eed(0x4fc)){const _0x4e8a19=document[_0x3f7eed(0x341)](_0x3f7eed(0x2de));_0x3ed6ba=_0x4e8a19?_0x4e8a19[_0x3f7eed(0x5ce)][_0x3f7eed(0xa5)]():'';}else{if(_0x1e0e8a===_0x3f7eed(0x524)){const _0xce936=document['querySelector'](_0x3f7eed(0x7b5));_0x3ed6ba=_0xce936?_0xce936[_0x3f7eed(0x5ce)]:'';}else{const _0x1c2356=document[_0x3f7eed(0x341)](_0x3f7eed(0x881));if(_0x1c2356){const _0x416bba=_0x1c2356[_0x3f7eed(0x5ce)];_0x3ed6ba=!isNaN(parseInt(_0x416bba,0xa))&&_0x416bba[_0x3f7eed(0xa5)]()!==''?parseInt(_0x416bba,0xa):_0x416bba;}}}}studentAnswersPerQuestion[_0x3f7eed(0x135)](_0x3ed6ba),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x3f7eed(0x4e3)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x3fa7ef=_0x335401,_0x1600ea=currentDisplayedQuiz[_0x3fa7ef(0x4e3)]['some'](_0x4d7bfb=>_0x4d7bfb['questionType']===_0x3fa7ef(0x787));_0x1600ea?showMessage(_0x3fa7ef(0x64f)):showMessage(_0x3fa7ef(0x584));const _0x246bbb=currentQuizData['id'],_0x1a9945=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x246bbb+'/submissions',currentStudentName),_0x58e6f9=await getDoc(_0x1a9945),_0x1b3f30=_0x58e6f9[_0x3fa7ef(0x91b)]()?_0x58e6f9['data']():{},_0x17fdcf=_0x1b3f30['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x17fdcf);}function getResultsFilename(){const _0x552b42=_0x335401,_0x5e9b7f=document[_0x552b42(0x11a)](_0x552b42(0x61b))[_0x552b42(0x9a9)][_0x552b42(0x86e)](/[^a-z0-9]/gi,'_')[_0x552b42(0x5f2)]();return _0x552b42(0x76e)+(_0x5e9b7f||_0x552b42(0x138));}function exportResultsAsImage(){const _0x344c45=_0x335401,_0x287273=document['getElementById'](_0x344c45(0x78f));showMessage(_0x344c45(0x7a6)),html2canvas(_0x287273)[_0x344c45(0x30c)](_0x4637f7=>{const _0x51470c=_0x344c45,_0xda13af=document[_0x51470c(0x268)]('a');_0xda13af[_0x51470c(0x9ce)]=getResultsFilename()+_0x51470c(0x5d1),_0xda13af['href']=_0x4637f7[_0x51470c(0x963)]('image/png'),_0xda13af['click'](),messageModal[_0x51470c(0x8f)]['add'](_0x51470c(0x6f8));});}function exportResultsAsPDF(){const _0x11f547=_0x335401,{jsPDF:_0x64523e}=window[_0x11f547(0x55c)],_0x2d47c3=new _0x64523e();_0x2d47c3[_0x11f547(0x471)](_0x11f547(0x29d),_0x11f547(0x97a)),_0x2d47c3['autoTable']({'html':'#results-table'}),_0x2d47c3[_0x11f547(0x616)](getResultsFilename()+_0x11f547(0x62e));}function exportResultsAsWord(){const _0x4a3373=_0x335401,_0x3f4f33=_0x4a3373(0x9b1)+_0x4a3373(0x6a7)+_0x4a3373(0x563)+_0x4a3373(0x718),_0x551c8d=_0x4a3373(0x93e),_0x59901f=_0x3f4f33+document[_0x4a3373(0x11a)](_0x4a3373(0x78f))['innerHTML']+_0x551c8d,_0x5559e4=_0x4a3373(0x9ad)+encodeURIComponent(_0x59901f),_0x2c7e60=document['createElement']('a');document[_0x4a3373(0x24d)]['appendChild'](_0x2c7e60),_0x2c7e60[_0x4a3373(0x505)]=_0x5559e4,_0x2c7e60[_0x4a3373(0x9ce)]=getResultsFilename()+_0x4a3373(0x869),_0x2c7e60[_0x4a3373(0x91d)](),document[_0x4a3373(0x24d)][_0x4a3373(0x750)](_0x2c7e60);}function exportResultsAsExcel(){const _0x12a97c=_0x335401,_0x4750ff=document[_0x12a97c(0x11a)](_0x12a97c(0x2f4));let _0x34f949=[];for(let _0x5a86a8=0x0;_0x5a86a8<_0x4750ff['rows'][_0x12a97c(0x38d)];_0x5a86a8++){let _0x7b609=[],_0x1fde05=_0x4750ff[_0x12a97c(0x51b)][_0x5a86a8][_0x12a97c(0xf8)](_0x12a97c(0x4e8));for(let _0x460be1=0x0;_0x460be1<_0x1fde05[_0x12a97c(0x38d)];_0x460be1++){_0x7b609[_0x12a97c(0x135)]('\x22'+_0x1fde05[_0x460be1][_0x12a97c(0x46a)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x34f949['push'](_0x7b609[_0x12a97c(0x7d)](','));}const _0x471c46=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x34f949[_0x12a97c(0x7d)]('\x0a')],{'type':_0x12a97c(0x327)}),_0x20ae16=document['createElement']('a');_0x20ae16[_0x12a97c(0x505)]=URL[_0x12a97c(0x4bd)](_0x471c46),_0x20ae16[_0x12a97c(0x9ce)]=getResultsFilename()+_0x12a97c(0x499),_0x20ae16[_0x12a97c(0x91d)]();}function exportTableAsImage(_0x153d3e,_0x2ba702){const _0x59b73a=_0x335401,_0x143bf1=document[_0x59b73a(0x11a)](_0x153d3e);if(!_0x143bf1){showMessage(_0x59b73a(0x679));return;}showMessage(_0x59b73a(0x7a6)),html2canvas(_0x143bf1)[_0x59b73a(0x30c)](_0xfcb495=>{const _0x6dda08=_0x59b73a,_0x395336=document[_0x6dda08(0x268)]('a');_0x395336['download']=_0x2ba702+'.png',_0x395336[_0x6dda08(0x505)]=_0xfcb495[_0x6dda08(0x963)](_0x6dda08(0x3eb)),_0x395336[_0x6dda08(0x91d)](),messageModal[_0x6dda08(0x8f)][_0x6dda08(0x85b)](_0x6dda08(0x6f8));});}function exportTableAsPDF(_0x59bbe8,_0x381b5e){const _0x3abcdf=_0x335401,{jsPDF:_0x537b46}=window['jspdf'],_0x795b02=new _0x537b46();_0x795b02[_0x3abcdf(0x471)](_0x3abcdf(0x29d),'normal'),_0x795b02['autoTable']({'html':'#'+_0x59bbe8}),_0x795b02[_0x3abcdf(0x616)](_0x381b5e+_0x3abcdf(0x62e));}function exportTableAsWord(_0x5747cd,_0x25d415){const _0x35868e=_0x335401,_0x767fac=document[_0x35868e(0x11a)](_0x5747cd);if(!_0x767fac){showMessage(_0x35868e(0x679));return;}const _0x453b0f='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x35868e(0x6a7)+_0x35868e(0x563)+_0x35868e(0x718),_0x3edc8c='</body></html>',_0x27170e=_0x453b0f+_0x767fac[_0x35868e(0x297)]+_0x3edc8c,_0xa69a5b=_0x35868e(0x9ad)+encodeURIComponent(_0x27170e),_0x1a6a7f=document[_0x35868e(0x268)]('a');document[_0x35868e(0x24d)]['appendChild'](_0x1a6a7f),_0x1a6a7f[_0x35868e(0x505)]=_0xa69a5b,_0x1a6a7f[_0x35868e(0x9ce)]=_0x25d415+'.doc',_0x1a6a7f[_0x35868e(0x91d)](),document[_0x35868e(0x24d)]['removeChild'](_0x1a6a7f);}function exportTableAsExcel(_0x4144b1,_0x30424d){const _0x4ee945=_0x335401,_0x1e7f56=document[_0x4ee945(0x11a)](_0x4144b1);if(!_0x1e7f56){showMessage(_0x4ee945(0x679));return;}let _0x560c2d=[];for(let _0x20a207=0x0;_0x20a207<_0x1e7f56['rows'][_0x4ee945(0x38d)];_0x20a207++){let _0x39b8ec=[],_0x7d51c4=_0x1e7f56[_0x4ee945(0x51b)][_0x20a207]['querySelectorAll'](_0x4ee945(0x4e8));for(let _0x11c7b1=0x0;_0x11c7b1<_0x7d51c4[_0x4ee945(0x38d)];_0x11c7b1++){_0x39b8ec['push']('\x22'+_0x7d51c4[_0x11c7b1][_0x4ee945(0x46a)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x560c2d['push'](_0x39b8ec['join'](','));}const _0x207c53=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x560c2d['join']('\x0a')],{'type':_0x4ee945(0x327)}),_0x2ff64a=document['createElement']('a');_0x2ff64a['href']=URL[_0x4ee945(0x4bd)](_0x207c53),_0x2ff64a[_0x4ee945(0x9ce)]=_0x30424d+_0x4ee945(0x499),_0x2ff64a[_0x4ee945(0x91d)]();}function renderAnalytics(_0x123a73,_0x102032){const _0x506912=_0x335401,_0x560687=_0x102032[_0x506912(0x84b)](_0x32869a=>_0x32869a[_0x506912(0x5bc)]!==undefined),_0x57fcdc=currentProjectData[_0x506912(0x4c6)][_0x506912(0x38d)],_0x40e6dd=_0x560687[_0x506912(0x38d)],_0x3ef53f=_0x57fcdc-_0x40e6dd,_0x2357fd=_0x57fcdc>0x0?_0x40e6dd/_0x57fcdc*0x64:0x0,_0x46885c=_0x560687[_0x506912(0x4eb)](_0x31f9d1=>_0x31f9d1[_0x506912(0x5bc)]),_0x5da583=_0x46885c['length']>0x0?_0x46885c[_0x506912(0xe4)]((_0x437f62,_0x5054a7)=>_0x437f62+_0x5054a7,0x0)/_0x46885c[_0x506912(0x38d)]:0x0,_0x53c0ba=_0x123a73[_0x506912(0x4e3)][_0x506912(0x38d)],_0x1e7d1d=_0x53c0ba>0x0?_0x5da583/_0x53c0ba*0x64:0x0,_0x2196cb=calculateItemAnalysis(_0x123a73,_0x560687),_0x4f6e9c=calculateReliabilityKR20(_0x123a73,_0x560687,_0x2196cb['perQuestionStats']);let _0x356c67='';if(_0x4f6e9c!==null){let _0x337cc3='';if(_0x4f6e9c>=0.9)_0x337cc3=_0x506912(0x8e3);else{if(_0x4f6e9c>=0.8)_0x337cc3='ดีมาก';else{if(_0x4f6e9c>=0.7)_0x337cc3='ดี';else{if(_0x4f6e9c>=0.6)_0x337cc3=_0x506912(0x659);else _0x337cc3=_0x506912(0x791);}}}_0x356c67=_0x506912(0x255)+_0x4f6e9c[_0x506912(0x198)](0x2)+_0x506912(0x438)+_0x337cc3+_0x506912(0x82e);}const _0x2af7f1=document[_0x506912(0x11a)](_0x506912(0x252));_0x2af7f1['innerHTML']=_0x506912(0x93a)+_0x2357fd[_0x506912(0x198)](0x0)+_0x506912(0x125)+_0x40e6dd+'/'+_0x57fcdc+_0x506912(0x187)+_0x5da583[_0x506912(0x198)](0x2)+_0x506912(0x481)+_0x1e7d1d[_0x506912(0x198)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x46885c[_0x506912(0x38d)]>0x0?Math[_0x506912(0x594)](..._0x46885c):_0x506912(0x500))+_0x506912(0x731)+(_0x46885c[_0x506912(0x38d)]>0x0?Math[_0x506912(0x30a)](..._0x46885c):'N/A')+_0x506912(0x510)+_0x356c67+'\x0a\x20\x20\x20\x20';const _0x2e7d13=document[_0x506912(0x11a)](_0x506912(0x5e2));_0x2e7d13&&_0x2e7d13['remove']();const _0x1e277e=_0x506912(0x1af);_0x2af7f1[_0x506912(0x32b)]('afterend',_0x1e277e);const _0x5daf90=currentProjectData[_0x506912(0x4c6)]||[];renderSubmissionChart(_0x40e6dd,_0x3ef53f,_0x560687,_0x5daf90),renderScoreDistributionChart(_0x560687,_0x53c0ba),renderQuestionAnalytics(_0x123a73,_0x560687,_0x5daf90),renderInterestingStats(_0x123a73,_0x560687);}async function handleExportLessonPDF(){const _0x5ca223=_0x335401,_0x51c220=document[_0x5ca223(0x11a)]('lesson-plan-content'),_0x5037d7=document[_0x5ca223(0x11a)](_0x5ca223(0x56c))[_0x5ca223(0x9a9)],_0x1990d3=window[_0x5ca223(0x77e)]('',_0x5ca223(0x8f7)),_0x404cc6=_0x5ca223(0x56d)+_0x5037d7+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x51c220[_0x5ca223(0x297)]+_0x5ca223(0x43d);_0x1990d3[_0x5ca223(0x8cd)][_0x5ca223(0x55e)](_0x404cc6),_0x1990d3[_0x5ca223(0x8cd)][_0x5ca223(0x25b)](),_0x1990d3[_0x5ca223(0x8f2)]=function(){setTimeout(()=>{const _0xf60061=_0x5620;_0x1990d3[_0xf60061(0x2a9)]();},0x5dc);};}function renderInterestingStats(_0x38bd2f,_0x1fa4cc){const _0x402e19=_0x335401,_0x59f21d=document[_0x402e19(0x11a)](_0x402e19(0x365));if(!_0x59f21d)return;if(_0x1fa4cc[_0x402e19(0x38d)]===0x0){_0x59f21d[_0x402e19(0x297)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x265bfa=_0x38bd2f[_0x402e19(0x4e3)]['map']((_0x53870f,_0x16e92c)=>({'index':_0x16e92c+0x1,'text':_0x53870f['questionText']||_0x53870f[_0x402e19(0x99e)],'correct':0x0}));_0x1fa4cc['forEach'](_0x2f6ffc=>{const _0x22942f=_0x402e19,_0x505d1d=_0x2f6ffc[_0x22942f(0x34b)][_0x2f6ffc[_0x22942f(0x34b)][_0x22942f(0x38d)]-0x1];_0x505d1d&&_0x505d1d[_0x22942f(0x2aa)]&&_0x505d1d['answers']['forEach'](_0x15ad7b=>{const _0x3d0729=_0x22942f,_0x252353=_0x265bfa['find'](_0x126262=>_0x126262[_0x3d0729(0x928)]===_0x15ad7b[_0x3d0729(0xc7)]);_0x15ad7b[_0x3d0729(0xdc)]&&_0x252353&&_0x252353['correct']++;});});const _0x321be8=_0x1fa4cc[_0x402e19(0x38d)],_0xaf191b=Math[_0x402e19(0x594)](..._0x265bfa['map'](_0x5ba762=>_0x5ba762[_0x402e19(0x6b6)])),_0x142f3f=Math[_0x402e19(0x30a)](..._0x265bfa[_0x402e19(0x4eb)](_0x35dfc9=>_0x35dfc9[_0x402e19(0x6b6)])),_0x57a8a9=_0x265bfa['filter'](_0x10d726=>_0x10d726['correct']===_0xaf191b)[_0x402e19(0x4eb)](_0x3cfceb=>_0x402e19(0x8bc)+_0x3cfceb[_0x402e19(0x842)]),_0x2be345=_0x265bfa['filter'](_0x7de5c5=>_0x7de5c5[_0x402e19(0x6b6)]===_0x142f3f)[_0x402e19(0x4eb)](_0x302376=>'ข้อ\x20'+_0x302376['index']),_0x4bf0b7=_0x1fa4cc['sort']((_0x9a2191,_0x40c9d0)=>_0x40c9d0[_0x402e19(0x5bc)]-_0x9a2191[_0x402e19(0x5bc)])[_0x402e19(0x84b)]((_0x5b6d47,_0x27faa2,_0x2d6712)=>_0x5b6d47['latestScore']===_0x2d6712[0x0][_0x402e19(0x5bc)]),_0x2618b9=_0x1fa4cc[_0x402e19(0x6df)]((_0x44cdc3,_0x14e87d)=>_0x44cdc3[_0x402e19(0x5bc)]-_0x14e87d[_0x402e19(0x5bc)])[_0x402e19(0x84b)]((_0x32ca65,_0x4db33f,_0x216c23)=>_0x32ca65[_0x402e19(0x5bc)]===_0x216c23[0x0]['latestScore']),_0x4d8db2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x57a8a9[_0x402e19(0x7d)](',\x20')+_0x402e19(0x840)+_0xaf191b+'\x20/\x20'+_0x321be8+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x2be345[_0x402e19(0x7d)](',\x20')+_0x402e19(0x840)+(_0x321be8-_0x142f3f)+'\x20/\x20'+_0x321be8+_0x402e19(0x512)+_0x4bf0b7['map'](_0x245633=>_0x245633[_0x402e19(0x700)])['join'](',\x20')+_0x402e19(0x6be)+_0x4bf0b7[0x0][_0x402e19(0x5bc)]+_0x402e19(0x43b)+_0x2618b9['map'](_0x1cc3d3=>_0x1cc3d3[_0x402e19(0x700)])[_0x402e19(0x7d)](',\x20')+_0x402e19(0x6be)+_0x2618b9[0x0][_0x402e19(0x5bc)]+_0x402e19(0x79);_0x59f21d[_0x402e19(0x297)]=_0x4d8db2;}function renderSubmissionChart(_0x56c16f,_0x5da380,_0x1b2b0f,_0x393a78){const _0x3671cd=_0x335401,_0x3ca47b=document[_0x3671cd(0x11a)](_0x3671cd(0x7b8))[_0x3671cd(0x797)]('2d'),_0x4b404b=_0x1b2b0f[_0x3671cd(0x4eb)](_0x46fe1f=>_0x46fe1f[_0x3671cd(0x700)]),_0x491cc9=_0x393a78['filter'](_0xb074ca=>!_0x4b404b[_0x3671cd(0x655)](_0xb074ca));chartInstances[_0x3671cd(0x800)]&&chartInstances['submission'][_0x3671cd(0x19f)](),chartInstances[_0x3671cd(0x800)]=new Chart(_0x3ca47b,{'type':_0x3671cd(0xdf),'data':{'labels':[_0x3671cd(0x4ed),_0x3671cd(0x9b)],'datasets':[{'data':[_0x56c16f,_0x5da380],'backgroundColor':['#10B981',_0x3671cd(0x898)],'borderColor':[_0x3671cd(0x1fe),_0x3671cd(0x1fe)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x3671cd(0x817)},'tooltip':{'callbacks':{'label':function(_0x9a18f5){const _0xcb8b67=_0x3671cd;let _0x1d7cb3=_0x9a18f5[_0xcb8b67(0x5a2)]||'';return _0x1d7cb3&&(_0x1d7cb3+=':\x20'),_0x1d7cb3+=_0x9a18f5[_0xcb8b67(0x7e3)],_0x1d7cb3;},'afterLabel':function(_0x38b9f2){const _0x15c0d8=_0x3671cd;let _0x1ce97f;return _0x38b9f2[_0x15c0d8(0x4fa)]===0x0?_0x1ce97f=_0x4b404b:_0x1ce97f=_0x491cc9,_0x1ce97f[_0x15c0d8(0x38d)]>0x0?_0x1ce97f[_0x15c0d8(0x7d)]('\x0a'):_0x15c0d8(0x38f);}}}}}});}function renderScoreDistributionChart(_0x331ee6,_0x462ce5){const _0x815828=_0x335401,_0x175a49=document['getElementById'](_0x815828(0x46f))[_0x815828(0x797)]('2d'),_0x372f11={};for(let _0x5299e5=0x0;_0x5299e5<=_0x462ce5;_0x5299e5++){_0x372f11[_0x5299e5]=0x0;}_0x331ee6['forEach'](_0x22753d=>{const _0x179579=_0x815828;_0x372f11[_0x22753d[_0x179579(0x5bc)]]!==undefined&&_0x372f11[_0x22753d[_0x179579(0x5bc)]]++;}),chartInstances['score']&&chartInstances['score'][_0x815828(0x19f)](),chartInstances[_0x815828(0x94c)]=new Chart(_0x175a49,{'type':_0x815828(0x91),'data':{'labels':Object['keys'](_0x372f11),'datasets':[{'label':'จำนวนนักเรียน','data':Object['values'](_0x372f11),'backgroundColor':_0x815828(0x7ce),'borderColor':_0x815828(0x461),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x815828(0x67f)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x574db8){const _0x43ca78=_0x815828,_0x315fbb=_0x574db8[_0x43ca78(0x5a2)],_0x2695da=_0x331ee6['filter'](_0x18d7de=>_0x18d7de[_0x43ca78(0x5bc)]==_0x315fbb)[_0x43ca78(0x4eb)](_0x1acfda=>_0x1acfda[_0x43ca78(0x700)]);return _0x2695da[_0x43ca78(0x38d)]>0x0?_0x2695da[_0x43ca78(0x7d)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x19cd9b,_0x1ed663,_0x466ba7){const _0x3e2401=_0x335401,_0xe90c49=document[_0x3e2401(0x11a)]('question-analytics-container');if(_0x466ba7[_0x3e2401(0x38d)]===0x0){_0xe90c49['innerHTML']=_0x3e2401(0x619);return;}const _0x21c840=calculateItemAnalysis(_0x19cd9b,_0x1ed663),_0x6daddd=calculateDistractorAnalysis(_0x19cd9b,_0x1ed663);let _0x2bc8a8='';_0x21c840[_0x3e2401(0x361)]&&(_0x2bc8a8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x21c840[_0x3e2401(0x361)]['upperGroupNames']['length']+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x21c840[_0x3e2401(0x361)][_0x3e2401(0x7c3)][_0x3e2401(0x4eb)](_0x1ff151=>_0x3e2401(0x75d)+_0x1ff151+_0x3e2401(0x49d))[_0x3e2401(0x7d)]('')+_0x3e2401(0x6fe)+_0x21c840[_0x3e2401(0x361)][_0x3e2401(0x60a)]['length']+_0x3e2401(0x7ff)+_0x21c840[_0x3e2401(0x361)][_0x3e2401(0x60a)]['map'](_0x592b35=>_0x3e2401(0x75d)+_0x592b35+_0x3e2401(0x49d))[_0x3e2401(0x7d)]('')+_0x3e2401(0x344));let _0x40baad='';const _0x34dd60=_0x1ed663[_0x3e2401(0x4eb)](_0x2aa5f9=>_0x2aa5f9[_0x3e2401(0x700)]),_0x10cba1=_0x36e27b=>{const _0x1fc798=_0x3e2401;if(_0x36e27b>=0.8)return _0x1fc798(0x5f4);if(_0x36e27b>=0.6)return _0x1fc798(0x87b);if(_0x36e27b>=0.4)return _0x1fc798(0x650);if(_0x36e27b>=0.2)return _0x1fc798(0x494);return _0x1fc798(0x99d);},_0xd18496=_0x536973=>{const _0x107fa7=_0x3e2401;if(_0x536973<0x0)return _0x107fa7(0x7cd);if(_0x536973>=0.4)return _0x107fa7(0x77b);if(_0x536973>=0.3)return _0x107fa7(0x6b4);if(_0x536973>=0.2)return _0x107fa7(0x51c);return _0x107fa7(0x381);},_0x572d49=_0x54b66e=>{const _0x588ecc=_0x3e2401,_0x1a902e=_0x54b66e['toFixed'](0x0);if(parseFloat(_0x1a902e)===0x64)return _0x588ecc(0x585)+_0x1a902e+_0x588ecc(0x7d2);if(_0x54b66e>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x1a902e+'%</span>';return _0x588ecc(0x2dc)+_0x1a902e+'%</span>';};_0x19cd9b[_0x3e2401(0x4e3)]['forEach']((_0x5b2fbb,_0x6c93eb)=>{const _0xd832b2=_0x3e2401,_0x3d131e=_0x21c840[_0xd832b2(0x7a9)][_0x6c93eb],_0x49e082=_0x6daddd[_0x6c93eb],_0x285de9=_0x5b2fbb[_0xd832b2(0x99e)]||_0x5b2fbb[_0xd832b2(0x7f3)]||_0x5b2fbb[_0xd832b2(0x878)];let _0x38be7e=0x0;const _0x173e6f=[],_0x5e18fc=[];_0x1ed663[_0xd832b2(0x40a)](_0x5be183=>{const _0x5991d1=_0xd832b2,_0x478bff=_0x5be183[_0x5991d1(0x34b)][_0x5be183['attempts'][_0x5991d1(0x38d)]-0x1];if(_0x478bff&&_0x478bff['answers']){const _0x4f3bcd=_0x478bff['answers'][_0x5991d1(0x474)](_0x393968=>_0x393968['originalQuestionText']===_0x285de9)??_0x478bff[_0x5991d1(0x2aa)][_0x6c93eb]??null;_0x4f3bcd&&(_0x4f3bcd[_0x5991d1(0xdc)]?(_0x38be7e++,_0x173e6f[_0x5991d1(0x135)](_0x5be183['studentName'])):_0x5e18fc[_0x5991d1(0x135)](_0x5be183[_0x5991d1(0x700)]));}});const _0x222ca8=_0x1ed663[_0xd832b2(0x38d)]>0x0?_0x38be7e/_0x1ed663[_0xd832b2(0x38d)]*0x64:0x0,_0x39de68=_0x466ba7[_0xd832b2(0x84b)](_0x4cfb4c=>!_0x34dd60[_0xd832b2(0x655)](_0x4cfb4c)),_0x38a319=_0x3d131e?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x3d131e['p'][_0xd832b2(0x198)](0x2)+_0xd832b2(0x162)+_0x10cba1(_0x3d131e['p'])+_0xd832b2(0x9b3)+_0x3d131e['r'][_0xd832b2(0x198)](0x2)+'</p><div>'+_0xd18496(_0x3d131e['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x572d49(_0x222ca8)+_0xd832b2(0x832):'';let _0x500ee2='';_0x49e082&&(_0x500ee2=_0xd832b2(0x51f)+Object[_0xd832b2(0x58f)](_0x49e082)['map'](_0x1aa227=>{const _0x130a41=_0xd832b2,_0x4e65b7=_0x49e082[_0x1aa227],_0x56a560=parseInt(_0x1aa227)===_0x5b2fbb['correctAnswerIndex'],_0x3f6e04=!_0x56a560&&_0x4e65b7[_0x130a41(0x4a1)]>_0x4e65b7['upper_group_count'];return _0x130a41(0x3ef)+(_0x56a560?'bg-green-100\x20font-bold':'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x56a560?'✔\x20':'')+_0x4e65b7[_0x130a41(0x928)]+_0x130a41(0x880)+_0x4e65b7[_0x130a41(0x175)]+_0x130a41(0x880)+_0x4e65b7['lower_group_count']+'\x20'+(_0x3f6e04?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x4e65b7['total']+_0x130a41(0xe1);})[_0xd832b2(0x7d)]('')+_0xd832b2(0x6ce));let _0x31a0ea='';_0x3d131e&&_0x3d131e[_0xd832b2(0x32d)]&&(_0x31a0ea='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x3d131e['upperGroupResponders'][_0xd832b2(0x38d)]+_0xd832b2(0x78d)+_0x3d131e[_0xd832b2(0x32d)][_0xd832b2(0x4eb)](_0x197d01=>_0xd832b2(0x75d)+(_0x197d01[_0xd832b2(0xdc)]?_0xd832b2(0x1c8):_0xd832b2(0x82f))+'\x20'+_0x197d01['name']+_0xd832b2(0x49d))[_0xd832b2(0x7d)]('')+_0xd832b2(0x8a3)+_0x3d131e[_0xd832b2(0x588)][_0xd832b2(0x38d)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x3d131e[_0xd832b2(0x588)][_0xd832b2(0x4eb)](_0x55a19d=>'<li>'+(_0x55a19d['isCorrect']?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0xd832b2(0x82f))+'\x20'+_0x55a19d[_0xd832b2(0x20b)]+_0xd832b2(0x49d))[_0xd832b2(0x7d)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x40baad+=_0xd832b2(0x42e)+(_0x6c93eb+0x1)+':\x20'+_0x285de9+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x38a319+_0xd832b2(0x331)+_0x285de9+_0xd832b2(0x3b6)+_0x38be7e+'\x20จาก\x20'+_0x1ed663['length']+_0xd832b2(0x674)+_0x222ca8[_0xd832b2(0x198)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x173e6f[_0xd832b2(0x38d)]+_0xd832b2(0x2e3)+(_0x173e6f[_0xd832b2(0x38d)]>0x0?_0x173e6f[_0xd832b2(0x7d)](',\x20'):'ไม่มี')+_0xd832b2(0x3f6)+_0x5e18fc[_0xd832b2(0x38d)]+_0xd832b2(0x2e3)+(_0x5e18fc[_0xd832b2(0x38d)]>0x0?_0x5e18fc[_0xd832b2(0x7d)](',\x20'):_0xd832b2(0x38f))+_0xd832b2(0x981)+_0x39de68['length']+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x39de68[_0xd832b2(0x38d)]>0x0?_0x39de68[_0xd832b2(0x7d)](',\x20'):_0xd832b2(0x38f))+_0xd832b2(0x4f6)+_0x500ee2+_0xd832b2(0x714)+_0x31a0ea+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xe90c49[_0x3e2401(0x297)]=_0x2bc8a8+_0x40baad;try{window[_0x3e2401(0x107)]&&MathJax[_0x3e2401(0x4a4)]&&MathJax[_0x3e2401(0x4a4)]([_0xe90c49]);}catch(_0x20d55e){console[_0x3e2401(0x529)]('MathJax\x20typeset\x20error\x20(analytics):',_0x20d55e);}}function calculateDistractorAnalysis(_0x2367a7,_0x5262e9){const _0x6fff4c=_0x335401,_0x43fe61={};if(_0x5262e9[_0x6fff4c(0x38d)]<0x2)return _0x43fe61;const _0x495c15=[..._0x5262e9]['sort']((_0x4c16ec,_0x1de505)=>{const _0xdccefa=_0x6fff4c,_0x55a4f4=_0x1de505[_0xdccefa(0x5bc)]-_0x4c16ec[_0xdccefa(0x5bc)];if(_0x55a4f4!==0x0)return _0x55a4f4;const _0x42b776=_0x4c16ec[_0xdccefa(0x34b)]?.[_0xdccefa(0x38d)]||0x1,_0x5eaf00=_0x1de505[_0xdccefa(0x34b)]?.[_0xdccefa(0x38d)]||0x1,_0x24fe58=_0x42b776-_0x5eaf00;if(_0x24fe58!==0x0)return _0x24fe58;const _0x1d9b32=new Date(_0x4c16ec[_0xdccefa(0x1ff)]),_0x48ee9a=new Date(_0x1de505[_0xdccefa(0x1ff)]),_0x3dcb76=_0x1d9b32-_0x48ee9a;if(_0x3dcb76!==0x0)return _0x3dcb76;return _0x4c16ec[_0xdccefa(0x700)][_0xdccefa(0x339)](_0x1de505[_0xdccefa(0x700)],'th');}),_0xde4fc6=_0x495c15[_0x6fff4c(0x38d)],_0x4cd57c=Math['max'](0x1,Math[_0x6fff4c(0x72)](_0xde4fc6*0.33)),_0x8161f9=_0x495c15[_0x6fff4c(0x3db)](0x0,_0x4cd57c),_0x5966a8=_0x495c15['slice'](-_0x4cd57c);return _0x2367a7[_0x6fff4c(0x4e3)]['forEach']((_0xd7620e,_0x1e8aec)=>{const _0x35ac44=_0x6fff4c;if(_0xd7620e[_0x35ac44(0x23d)]!==_0x35ac44(0x847)||!_0xd7620e['options'])return;const _0x2cf0c1=_0xd7620e[_0x35ac44(0x7f3)],_0x222e4f={};_0xd7620e['options'][_0x35ac44(0x40a)]((_0x23c788,_0x38ef1e)=>{_0x222e4f[_0x38ef1e]={'text':_0x23c788,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x495c15[_0x35ac44(0x40a)](_0x20459b=>{const _0xfb4aa9=_0x35ac44,_0x46b535=_0x20459b[_0xfb4aa9(0x34b)][_0x20459b[_0xfb4aa9(0x34b)]['length']-0x1],_0x51a3bf=_0x46b535[_0xfb4aa9(0x2aa)]['find'](_0x420aa8=>_0x420aa8['originalQuestionText']===_0x2cf0c1);if(_0x51a3bf&&_0x51a3bf[_0xfb4aa9(0x4a7)]!==null){const _0x36d711=_0xd7620e[_0xfb4aa9(0x5b2)][_0xfb4aa9(0x8b8)](_0x2a13af=>_0x2a13af===_0x51a3bf['answerText']);_0x36d711!==-0x1&&_0x222e4f[_0x36d711]&&(_0x222e4f[_0x36d711]['total']++,_0x8161f9[_0xfb4aa9(0x655)](_0x20459b)&&_0x222e4f[_0x36d711][_0xfb4aa9(0x175)]++,_0x5966a8['includes'](_0x20459b)&&_0x222e4f[_0x36d711]['lower_group_count']++);}}),_0x43fe61[_0x1e8aec]=_0x222e4f;}),_0x43fe61;}function calculateReliabilityKR20(_0x5b2e03,_0x505ffb,_0xa166db){const _0x4ce462=_0x335401,_0x36a901=_0x5b2e03[_0x4ce462(0x4e3)][_0x4ce462(0x38d)];if(_0x36a901<0x2||_0x505ffb[_0x4ce462(0x38d)]<0x2)return null;const _0x4577ff=_0x505ffb['map'](_0x60a5bd=>_0x60a5bd['latestScore']),_0x5eb25a=_0x4577ff['reduce']((_0x17d5bf,_0x4f6004)=>_0x17d5bf+_0x4f6004,0x0)/_0x4577ff[_0x4ce462(0x38d)],_0x4edd18=_0x4577ff[_0x4ce462(0x4eb)](_0x463840=>Math['pow'](_0x463840-_0x5eb25a,0x2))['reduce']((_0x332843,_0x255cd5)=>_0x332843+_0x255cd5,0x0)/_0x4577ff['length'];if(_0x4edd18===0x0)return null;let _0x37a4d4=0x0;for(let _0x5d296c=0x0;_0x5d296c<_0x36a901;_0x5d296c++){const _0x35e6c1=_0xa166db[_0x5d296c]?.['p'];if(_0x35e6c1===undefined)continue;const _0x37a205=0x1-_0x35e6c1;_0x37a4d4+=_0x35e6c1*_0x37a205;}if(_0x37a4d4===0x0)return null;const _0x4297c4=_0x36a901/(_0x36a901-0x1)*(0x1-_0x37a4d4/_0x4edd18);if(_0x4297c4>0x1)return null;return _0x4297c4;}async function handleAnalyzeClass(){const _0x170dda=_0x335401;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x170dda(0x100));return;}const _0x124a21=collection(db,_0x170dda(0x82)+appId+_0x170dda(0x2d6)+currentQuizData['id']+'/submissions'),_0x16f13d=await getDocs(_0x124a21),_0xedf4da=_0x16f13d[_0x170dda(0x84c)]['map'](_0xf56d2c=>_0xf56d2c[_0x170dda(0x33f)]());if(_0xedf4da[_0x170dda(0x38d)]<0x2){showMessage(_0x170dda(0x602));return;}const _0x1b4b90=document[_0x170dda(0x11a)](_0x170dda(0x2d5));_0x1b4b90[_0x170dda(0x297)]=_0x170dda(0x5ff),document[_0x170dda(0x11a)](_0x170dda(0x184))[_0x170dda(0x53e)]=!![];const _0xec5da8=_0xedf4da[_0x170dda(0x4eb)]((_0x43ba5e,_0x43c241)=>{const _0x320fb0=_0x170dda,_0x521e6a=_0x43ba5e[_0x320fb0(0x34b)][_0x43ba5e[_0x320fb0(0x34b)][_0x320fb0(0x38d)]-0x1];if(!_0x521e6a)return'';return _0x320fb0(0x834)+(_0x43c241+0x1)+'\x20('+_0x43ba5e[_0x320fb0(0x700)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x521e6a[_0x320fb0(0x94c)]+'/'+_0x43ba5e[_0x320fb0(0x958)]+_0x320fb0(0x10d)+JSON['stringify'](_0x521e6a[_0x320fb0(0x2aa)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x170dda(0x7d)]('\x0a---\x0a'),_0xfbb85=_0x170dda(0x101)+currentQuizData[_0x170dda(0x7d5)]+_0x170dda(0x702)+JSON[_0x170dda(0x3af)](currentQuizData[_0x170dda(0x4e3)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0xec5da8+_0x170dda(0x3bf),_0xb20732={'type':'OBJECT','properties':{'classStrengths':{'type':_0x170dda(0x401),'items':{'type':_0x170dda(0x517)}},'classWeaknesses':{'type':_0x170dda(0x401),'items':{'type':'STRING'}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x170dda(0x517)}}},'required':[_0x170dda(0x504),'classWeaknesses','teacherSuggestions']};try{const _0x5e0b5e=await callAnalysisApi(_0xfbb85,_0xb20732);displayClassAnalysis(_0x5e0b5e);}catch(_0x3eebbe){console['error'](_0x170dda(0x22a),_0x3eebbe),_0x1b4b90[_0x170dda(0x297)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x3eebbe['message']+_0x170dda(0x3f1);}finally{document[_0x170dda(0x11a)](_0x170dda(0x184))[_0x170dda(0x53e)]=![];}}function displayClassAnalysis(_0x15ea6b){const _0x5fe3ed=_0x335401,_0x28c554=document[_0x5fe3ed(0x11a)](_0x5fe3ed(0x2d5));if(!_0x15ea6b){_0x28c554[_0x5fe3ed(0x297)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x28c554[_0x5fe3ed(0x297)]=_0x5fe3ed(0x685)+_0x15ea6b[_0x5fe3ed(0x504)][_0x5fe3ed(0x4eb)](_0x5594b6=>_0x5fe3ed(0x75d)+_0x5594b6+_0x5fe3ed(0x49d))[_0x5fe3ed(0x7d)]('')+_0x5fe3ed(0x5b5)+_0x15ea6b[_0x5fe3ed(0x7bf)][_0x5fe3ed(0x4eb)](_0x365757=>_0x5fe3ed(0x75d)+_0x365757+_0x5fe3ed(0x49d))[_0x5fe3ed(0x7d)]('')+_0x5fe3ed(0x235)+_0x15ea6b[_0x5fe3ed(0x273)][_0x5fe3ed(0x4eb)](_0x50db93=>_0x5fe3ed(0x75d)+_0x50db93+_0x5fe3ed(0x49d))['join']('')+_0x5fe3ed(0x395);}function formatAndPrintWorksheet(_0x4f4e66,_0x26cfa3){const _0x125f04=_0x335401,_0x4f7028=_0x125f04(0x6b5)+_0x4f4e66[_0x125f04(0x7d5)]+_0x125f04(0x777)+_0x4f4e66['topic']+_0x125f04(0x296)+_0x4f4e66['questions'][_0x125f04(0x4eb)]((_0x28296d,_0x412b31)=>_0x125f04(0x4b1)+(_0x412b31+0x1)+'.\x20'+_0x28296d[_0x125f04(0x7f3)]+_0x125f04(0x2cb)+(_0x28296d[_0x125f04(0x2f7)]?_0x125f04(0x4a0)+_0x28296d[_0x125f04(0x2f7)]+_0x125f04(0x9ab):'')+_0x125f04(0x267))[_0x125f04(0x7d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x26cfa3[_0x125f04(0x8cd)][_0x125f04(0x55e)](_0x4f7028),_0x26cfa3[_0x125f04(0x8cd)][_0x125f04(0x25b)](),_0x26cfa3[_0x125f04(0x8f2)]=function(){setTimeout(()=>{const _0x1b2b92=_0x5620;_0x26cfa3[_0x1b2b92(0x2a9)]();},0x3e8);};}async function generateWorksheet(){const _0x31f1dc=_0x335401,_0x7e734d=document[_0x31f1dc(0x11a)]('worksheet-topic-input')[_0x31f1dc(0x5ce)][_0x31f1dc(0xa5)]();if(!_0x7e734d){showMessage(_0x31f1dc(0x65c));return;}const _0x5a58d=document['getElementById']('force-math-checkbox')[_0x31f1dc(0x68b)],_0x1c6ee1=_0x5a58d?'':'คณิตศาสตร์',_0x4e7b8e=window['open']('','_blank');_0x4e7b8e['document'][_0x31f1dc(0x55e)](_0x31f1dc(0x4f5));const _0x2e89d1=parseInt(document[_0x31f1dc(0x11a)]('num-questions')[_0x31f1dc(0x5ce)]),_0x40d5e3=document[_0x31f1dc(0x11a)]('include-images-checkbox')[_0x31f1dc(0x68b)],_0x496a41=_0x40d5e3?_0x31f1dc(0x10c):'',_0x407cb9=_0x31f1dc(0x985)+_0x1c6ee1+_0x31f1dc(0x74f)+_0x2e89d1+_0x31f1dc(0x997)+_0x7e734d+_0x31f1dc(0x217)+_0x496a41+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x31f1dc(0x3ce),_0x49f0b6={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x31f1dc(0x401),'items':{'type':_0x31f1dc(0x4cb),'properties':{'questionText':{'type':_0x31f1dc(0x517)},'imageCode':{'type':_0x31f1dc(0x517)}},'required':['questionText']}}},'required':['topic',_0x31f1dc(0x4e3)]};document['getElementById']('loader-text')['textContent']='',document[_0x31f1dc(0x11a)](_0x31f1dc(0x2a3))['classList']['remove'](_0x31f1dc(0x6f8)),document[_0x31f1dc(0x11a)](_0x31f1dc(0x147))['classList'][_0x31f1dc(0x57c)](_0x31f1dc(0x6f8)),generateWorksheetBtn[_0x31f1dc(0x53e)]=!![];try{const _0x19baf9=await callAnalysisApi(_0x407cb9,_0x49f0b6);formatAndPrintWorksheet(_0x19baf9,_0x4e7b8e);}catch(_0x10d191){console[_0x31f1dc(0x529)](_0x31f1dc(0x71),_0x10d191);if(_0x4e7b8e)_0x4e7b8e['close']();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document[_0x31f1dc(0x11a)]('loader')[_0x31f1dc(0x8f)][_0x31f1dc(0x85b)](_0x31f1dc(0x6f8)),document[_0x31f1dc(0x11a)](_0x31f1dc(0x147))[_0x31f1dc(0x8f)]['add']('hidden'),generateWorksheetBtn[_0x31f1dc(0x53e)]=![];}}async function callAnalysisApi(_0x3931b3,_0x61b8e3){const _0x111247=_0x335401,_0x50c667={'contents':[{'role':_0x111247(0x357),'parts':[{'text':_0x3931b3}]}],'generationConfig':{'responseMimeType':_0x111247(0x959),'responseSchema':_0x61b8e3}},_0x254bcf=_0x111247(0x608),_0x27f12d=_0x111247(0x740)+_0x254bcf,_0x592da5=await fetch(_0x27f12d,{'method':_0x111247(0x7c0),'headers':{'Content-Type':'application/json'},'body':JSON[_0x111247(0x3af)](_0x50c667)});if(!_0x592da5['ok'])throw new Error(_0x111247(0x225)+_0x592da5[_0x111247(0x83e)]);const _0x395b24=await _0x592da5[_0x111247(0x3a3)]();if(_0x395b24[_0x111247(0x8ec)]?.[0x0]?.[_0x111247(0x3ee)]?.['parts']?.[0x0])return JSON[_0x111247(0x18d)](_0x395b24['candidates'][0x0][_0x111247(0x3ee)][_0x111247(0x484)][0x0][_0x111247(0x928)]);else{let _0x2ef2e0=_0x111247(0x29b);if(_0x395b24[_0x111247(0x684)]?.[_0x111247(0xc3)])_0x2ef2e0=_0x111247(0x479)+_0x395b24['promptFeedback'][_0x111247(0xc3)]+'.';else _0x395b24[_0x111247(0x8ec)]?.[0x0]?.[_0x111247(0x50d)]&&_0x395b24[_0x111247(0x8ec)][0x0][_0x111247(0x50d)]!==_0x111247(0x3c8)&&(_0x2ef2e0=_0x111247(0x57d)+_0x395b24[_0x111247(0x8ec)][0x0]['finishReason']+'.');console['error'](_0x2ef2e0,JSON[_0x111247(0x3af)](_0x395b24));throw new Error(_0x2ef2e0);}}async function handleStartSyncMode(_0x3b5080,_0x4d2c43=![]){const _0x47db7d=_0x335401,_0xcd5da=allQuizzes['find'](_0x479f12=>_0x479f12['id']===_0x3b5080)||allQuizzesGlobal[_0x47db7d(0x474)](_0x5de0fd=>_0x5de0fd['id']===_0x3b5080);if(!_0xcd5da){showMessage(_0x47db7d(0x46b));return;}currentQuizData=getShuffledQuiz(_0xcd5da);const _0x27a702=Math[_0x47db7d(0x72)](0x3e8+Math[_0x47db7d(0x8fe)]()*0x2328)[_0x47db7d(0x5dc)]();try{const _0x328c7b=await addDoc(collection(db,_0x47db7d(0x82)+appId+_0x47db7d(0x79a)),{'quizId':_0xcd5da['id'],'pin':_0x27a702,'status':_0x47db7d(0x538),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4d2c43,'players':{}});currentLiveGameId=_0x328c7b['id'],showView(_0x47db7d(0x489)),renderSyncLobbyView(_0x27a702,_0xcd5da['topic']),listenForSyncGameUpdates();}catch(_0x32721f){console['error'](_0x47db7d(0x39d),_0x32721f),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game');}}function calculateFinalPodiumScores(_0x2f50c2){const _0x260b89=_0x335401;if(!_0x2f50c2||!_0x2f50c2[_0x260b89(0x189)]||!_0x2f50c2[_0x260b89(0x924)])return _0x2f50c2[_0x260b89(0x924)]||{};const _0xf7d39e=_0x2f50c2['shuffledQuiz'][_0x260b89(0x4e3)][_0x260b89(0x38d)],_0x190732=JSON[_0x260b89(0x18d)](JSON[_0x260b89(0x3af)](_0x2f50c2[_0x260b89(0x924)]));return Object['values'](_0x190732)[_0x260b89(0x40a)](_0x4bed97=>{const _0x47f004=_0x260b89,_0x3c2994=_0x4bed97['score'];let _0x29864c=0x0;_0x2f50c2[_0x47f004(0x2dd)]&&_0x4bed97['answers']&&_0x4bed97['answers'][_0x47f004(0x40a)](_0x13b346=>{const _0x1e93a2=_0x47f004;if(_0x13b346['isCorrect']&&_0x13b346[_0x1e93a2(0x765)])_0x29864c+=0x1;else!_0x13b346['isCorrect']&&_0x13b346['wasConfident']&&(_0x29864c-=0x1);}),_0x4bed97[_0x47f004(0x94c)]=_0x3c2994+_0x29864c,_0xf7d39e>0x0&&_0x3c2994===_0xf7d39e&&(_0x4bed97[_0x47f004(0x94c)]+=0x1,_0x4bed97[_0x47f004(0x725)]=!![]);}),_0x190732;}function listenForSyncGameUpdates(){const _0x169183=_0x335401;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x5c0613=doc(db,_0x169183(0x82)+appId+_0x169183(0x79a),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x5c0613,_0x199c88=>{const _0x5d5f0b=_0x169183;if(!_0x199c88[_0x5d5f0b(0x91b)]()){sessionStorage['removeItem'](_0x5d5f0b(0x6cf));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x5d5f0b(0x49c)),showView(currentMode==='admin'?_0x5d5f0b(0x495):_0x5d5f0b(0x4e4));return;}const _0x4d38c1=_0x199c88[_0x5d5f0b(0x33f)]();currentMode===_0x5d5f0b(0x321)?updateAdminSyncView(_0x4d38c1):updateStudentSyncView(_0x4d38c1);});}function renderSyncLobbyView(_0x30404f,_0x29f92d){const _0x17dea5=_0x335401;liveGameView[_0x17dea5(0x297)]=_0x17dea5(0x7cf)+_0x29f92d+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x30404f+_0x17dea5(0x469);const _0x278a56=document['getElementById'](_0x17dea5(0x95f)),_0x5405c7=document[_0x17dea5(0x11a)](_0x17dea5(0x6b1));_0x278a56[_0x17dea5(0x1e2)](_0x17dea5(0x5cf),()=>{const _0x262c7d=_0x17dea5;_0x5405c7[_0x262c7d(0x149)]['display']=_0x278a56[_0x262c7d(0x68b)]?_0x262c7d(0x270):_0x262c7d(0x79d);}),document[_0x17dea5(0x11a)](_0x17dea5(0x7e4))[_0x17dea5(0x1e2)](_0x17dea5(0x91d),async()=>{const _0x4018b2=_0x17dea5,_0x43bb01=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x1062c9=document[_0x4018b2(0x11a)](_0x4018b2(0x95f))[_0x4018b2(0x68b)];await updateDoc(_0x43bb01,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x1062c9});});}function updateAdminSyncView(_0x15afbb){const _0x32d1f8=_0x335401;switch(_0x15afbb[_0x32d1f8(0x83e)]){case _0x32d1f8(0x538):renderSyncLobbyView(_0x15afbb[_0x32d1f8(0x1a5)],_0x15afbb[_0x32d1f8(0x189)][_0x32d1f8(0x7d5)]);const _0x17ca90=Object[_0x32d1f8(0x3c6)](_0x15afbb['players']||{})[_0x32d1f8(0x84b)](([_0x43863f,_0x57fb33])=>_0x57fb33[_0x32d1f8(0x83e)]!==_0x32d1f8(0x4e2));document[_0x32d1f8(0x11a)](_0x32d1f8(0x111))[_0x32d1f8(0x9a9)]=_0x17ca90[_0x32d1f8(0x38d)],document[_0x32d1f8(0x11a)](_0x32d1f8(0x64e))['innerHTML']=_0x17ca90[_0x32d1f8(0x4eb)](([_0x3217c7,_0x12bc46])=>_0x32d1f8(0x325)+_0x3217c7+_0x32d1f8(0x234)+_0x3217c7+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x32d1f8(0x7d)]('')||_0x32d1f8(0x888),document[_0x32d1f8(0x11a)]('start-sync-game-btn')[_0x32d1f8(0x53e)]=_0x17ca90['length']===0x0;break;case _0x32d1f8(0x67e):const _0x3107cb=Object[_0x32d1f8(0x5aa)](_0x15afbb[_0x32d1f8(0x924)]||{})[_0x32d1f8(0x84b)](_0x52237c=>_0x52237c[_0x32d1f8(0x83e)]!==_0x32d1f8(0x4e2)),_0x3ec173=_0x3107cb[_0x32d1f8(0x84b)](_0x25023=>_0x25023[_0x32d1f8(0x4d5)])['length'],_0x25bf56=_0x3ec173===_0x3107cb[_0x32d1f8(0x38d)]&&_0x3107cb[_0x32d1f8(0x38d)]>0x0;if(_0x25bf56&&_0x15afbb[_0x32d1f8(0x83e)]===_0x32d1f8(0x67e)){const _0x13d76f=doc(db,_0x32d1f8(0x82)+appId+_0x32d1f8(0x79a),currentLiveGameId);updateDoc(_0x13d76f,{'status':_0x32d1f8(0x226)});}else{if(document['getElementById'](_0x32d1f8(0x377))===null)renderAdminSyncQuestionView(_0x15afbb);else{const _0x244604=document[_0x32d1f8(0x11a)](_0x32d1f8(0x9f));_0x244604&&(_0x244604[_0x32d1f8(0x9a9)]=_0x3ec173+'/'+_0x3107cb[_0x32d1f8(0x38d)]);const _0x1ec9af=document[_0x32d1f8(0x11a)](_0x32d1f8(0x80e));_0x1ec9af&&(_0x1ec9af[_0x32d1f8(0x297)]=_0x3107cb[_0x32d1f8(0x4eb)](_0x13097f=>{const _0xd30d8c=_0x32d1f8,_0x12ccd3=_0x13097f[_0xd30d8c(0x4d5)]?'bg-green-500':_0xd30d8c(0x36e),_0x307ee5=_0x13097f[_0xd30d8c(0x4d5)]?_0xd30d8c(0x3d5):_0xd30d8c(0x812);return _0xd30d8c(0x4af)+_0x12ccd3+_0xd30d8c(0x1ab)+_0x307ee5+_0xd30d8c(0x313)+_0x13097f['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x13097f[_0xd30d8c(0x20b)]+_0xd30d8c(0x67b);})['join'](''));}}break;case _0x32d1f8(0x226):const _0x219dab=_0x15afbb[_0x32d1f8(0xd7)],_0x4f23ca=_0x15afbb[_0x32d1f8(0x189)][_0x32d1f8(0x4e3)][_0x219dab];renderSyncSummaryView(_0x15afbb,_0x4f23ca,!![]);break;case'results':renderAdminSyncDashboard(_0x15afbb,!![]);break;case _0x32d1f8(0x247):_0x15afbb[_0x32d1f8(0x6e)]&&saveGameResultsAsSubmissions(_0x15afbb);sessionStorage[_0x32d1f8(0x241)](_0x32d1f8(0x6cf));const _0xfd5b2d=calculateFinalPodiumScores(_0x15afbb);showPodiumView(_0xfd5b2d,_0x32d1f8(0x452));break;}}function renderAdminSyncQuestionView(_0x485450){const _0x5d7413=_0x335401,_0x483e4e=_0x485450['currentQuestionIndex'],_0x496c37=_0x485450['shuffledQuiz']['questions'][_0x483e4e],_0x278d6a=_0x485450[_0x5d7413(0x189)]['questions']['length'],_0x1e928d=Object['values'](_0x485450[_0x5d7413(0x924)]||{})[_0x5d7413(0x84b)](_0xa4c68e=>_0xa4c68e[_0x5d7413(0x83e)]!==_0x5d7413(0x4e2)),_0x366a37=_0x1e928d['filter'](_0xe9a506=>_0xe9a506[_0x5d7413(0x4d5)])[_0x5d7413(0x38d)],_0x24b3c9=_0x366a37===_0x1e928d[_0x5d7413(0x38d)]&&_0x1e928d[_0x5d7413(0x38d)]>0x0,_0x36b3bc=(_0x496c37[_0x5d7413(0x5b2)]||[])[_0x5d7413(0x4eb)](_0x5a4e58=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0x5a4e58+_0x5d7413(0x9ab))[_0x5d7413(0x7d)]('');liveGameView[_0x5d7413(0x297)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x483e4e+0x1)+'\x20/\x20'+_0x278d6a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>'+_0x366a37+'/'+_0x1e928d[_0x5d7413(0x38d)]+_0x5d7413(0x4c3)+_0x496c37['questionText']+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x36b3bc+_0x5d7413(0x9cf)+(!_0x24b3c9?_0x5d7413(0x53e):'')+_0x5d7413(0x525);if(window['MathJax'])MathJax[_0x5d7413(0x4a4)]();document['getElementById'](_0x5d7413(0x143))[_0x5d7413(0x1e2)](_0x5d7413(0x91d),async()=>{const _0x32ded8=_0x5d7413,_0x24d4b9=doc(db,_0x32ded8(0x82)+appId+_0x32ded8(0x79a),currentLiveGameId);await updateDoc(_0x24d4b9,{'status':_0x32ded8(0x32f)});}),document[_0x5d7413(0x11a)](_0x5d7413(0x450))[_0x5d7413(0x5f6)]=()=>{const _0x448c2c=_0x5d7413;openScratchpad(_0x496c37,_0x496c37[_0x448c2c(0x5b2)]||[]);},document[_0x5d7413(0x11a)](_0x5d7413(0x5d7))[_0x5d7413(0x1e2)](_0x5d7413(0x91d),()=>{const _0x42428a=_0x5d7413;document[_0x42428a(0x11a)](_0x42428a(0x377))[_0x42428a(0x8f)][_0x42428a(0x995)]('hidden');});}function renderSyncLeaderboardView(_0x287623,_0x49fce8){const _0x2de0e0=_0x335401,_0x37b597=Object['values'](_0x287623[_0x2de0e0(0x924)]||{});_0x37b597['sort']((_0x3d917d,_0x42cdda)=>_0x42cdda[_0x2de0e0(0x94c)]-_0x3d917d[_0x2de0e0(0x94c)]);const _0x24d64b=_0x37b597[_0x2de0e0(0x3db)](0x0,0x5);let _0x4f0c88='';if(_0x49fce8){const _0x440c7f=_0x287623[_0x2de0e0(0xd7)]>=_0x287623[_0x2de0e0(0x189)][_0x2de0e0(0x4e3)][_0x2de0e0(0x38d)]-0x1;_0x4f0c88=_0x2de0e0(0x378)+(_0x440c7f?_0x2de0e0(0x7b6):_0x2de0e0(0x468))+_0x2de0e0(0x654);}else _0x4f0c88=_0x2de0e0(0x4aa);liveGameView['innerHTML']=_0x2de0e0(0x2ca)+_0x24d64b[_0x2de0e0(0x4eb)]((_0xea05b4,_0x4ff2a8)=>_0x2de0e0(0x123)+(_0x4ff2a8+0x1)+'.\x20'+_0xea05b4[_0x2de0e0(0x20b)]+_0x2de0e0(0x12d)+_0xea05b4[_0x2de0e0(0x94c)]+_0x2de0e0(0x813))[_0x2de0e0(0x7d)]('')+_0x2de0e0(0x2af)+_0x4f0c88+_0x2de0e0(0x6c4),_0x49fce8&&document[_0x2de0e0(0x11a)](_0x2de0e0(0x314))[_0x2de0e0(0x1e2)]('click',async()=>{const _0x4a05d3=_0x2de0e0,_0x25c6e1=doc(db,_0x4a05d3(0x82)+appId+_0x4a05d3(0x79a),currentLiveGameId),_0xc96142=_0x287623['currentQuestionIndex']+0x1;if(_0xc96142<_0x287623[_0x4a05d3(0x189)]['questions'][_0x4a05d3(0x38d)]){const _0xfbf70e={};Object['keys'](_0x287623[_0x4a05d3(0x924)])[_0x4a05d3(0x40a)](_0x3d082c=>{const _0x57c5e2=_0x4a05d3;_0xfbf70e['players.'+_0x3d082c+_0x57c5e2(0x807)]=![];}),await updateDoc(_0x25c6e1,{..._0xfbf70e,'status':_0x4a05d3(0x67e),'currentQuestionIndex':_0xc96142,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x25c6e1,{'status':_0x4a05d3(0x247)});});}async function handleJoinSyncGame(){const _0x5588f7=_0x335401,_0x5d5cea=prompt(_0x5588f7(0x793));if(!_0x5d5cea||_0x5d5cea['trim']()[_0x5588f7(0x38d)]!==0x2){showMessage(_0x5588f7(0x104));return;}try{const _0x5b700c=collection(db,'artifacts/'+appId+'/public/data/syncGames'),_0x397649=query(_0x5b700c,where(_0x5588f7(0x1a5),'==',_0x5d5cea[_0x5588f7(0xa5)]()),where(_0x5588f7(0x83e),'==','lobby')),_0x5412d8=await getDocs(_0x397649);if(_0x5412d8[_0x5588f7(0x45b)]){showMessage(_0x5588f7(0x88b));return;}const _0x257156=_0x5412d8[_0x5588f7(0x84c)][0x0];currentLiveGameId=_0x257156['id'];const _0x449da1=_0x257156[_0x5588f7(0x33f)](),_0x347c8c=doc(db,'artifacts/'+appId+_0x5588f7(0x5e5),_0x449da1[_0x5588f7(0x1bb)]),_0x4c3c68=await getDoc(_0x347c8c);if(!_0x4c3c68[_0x5588f7(0x91b)]())throw new Error(_0x5588f7(0x3b8));const _0x22ff73=_0x4c3c68[_0x5588f7(0x33f)](),_0x4c50c7=doc(db,_0x5588f7(0x82)+appId+_0x5588f7(0x8c3),_0x22ff73['projectId']),_0x16d1f7=await getDoc(_0x4c50c7);if(!_0x16d1f7[_0x5588f7(0x91b)]())throw new Error(_0x5588f7(0x3e3));currentQuizData=_0x449da1['shuffledQuiz'];const _0x51bd06=_0x16d1f7[_0x5588f7(0x33f)]();showView(_0x5588f7(0x9aa)),showTeamPlayerSelection(_0x51bd06[_0x5588f7(0x4c6)],_0x22ff73[_0x5588f7(0x7d5)]);const _0x59c1=document[_0x5588f7(0x11a)](_0x5588f7(0x7ea));_0x59c1[_0x5588f7(0x5f6)]=confirmAndJoinSyncGame;}catch(_0x3fda27){console['error'](_0x5588f7(0x4b2),_0x3fda27),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3fda27[_0x5588f7(0x2da)]);}}function updateStudentSyncView(_0x565a21){const _0x1ab73a=_0x335401,_0x30a722=_0x565a21[_0x1ab73a(0x924)][localTeamPlayers[0x0]];switch(_0x565a21['status']){case _0x1ab73a(0x538):showView('live-game'),liveGameView['innerHTML']=_0x1ab73a(0x925);break;case'question':const _0x2dc8f9=localTeamPlayers['every'](_0x3116f3=>_0x565a21['players'][_0x3116f3]?.['answered']===!![]);_0x2dc8f9?liveGameView[_0x1ab73a(0x297)]=_0x1ab73a(0xc1):renderStudentSyncQuestionView(_0x565a21);break;case _0x1ab73a(0x226):liveGameView[_0x1ab73a(0x297)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x1ab73a(0x32f):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x565a21);break;case _0x1ab73a(0x247):sessionStorage[_0x1ab73a(0x241)](_0x1ab73a(0x6cf));const _0x1e77b1=calculateFinalPodiumScores(_0x565a21);showPodiumView(_0x1e77b1,_0x1ab73a(0x452));break;}}function renderStudentSyncResultsView(_0x41c3a6){const _0x49e472=_0x335401,_0xf4108f=localTeamPlayers[_0x49e472(0x4eb)](_0x29668e=>_0x41c3a6['players'][_0x29668e])[_0x49e472(0x84b)](Boolean);_0xf4108f[_0x49e472(0x6df)]((_0x596fa1,_0x2578ff)=>(_0x2578ff[_0x49e472(0x94c)]||0x0)-(_0x596fa1[_0x49e472(0x94c)]||0x0));const _0x268e30=_0x41c3a6[_0x49e472(0xd7)]>=_0x41c3a6[_0x49e472(0x189)][_0x49e472(0x4e3)][_0x49e472(0x38d)]-0x1;let _0x17259e='';_0x268e30?_0x17259e=_0x49e472(0x950):_0x17259e='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x3bbb5a=_0x49e472(0x77)+_0xf4108f[_0x49e472(0x4eb)]((_0x1cbd27,_0x55e79b)=>_0x49e472(0x239)+(_0x55e79b+0x1)+_0x49e472(0x614)+_0x1cbd27[_0x49e472(0x20b)]+_0x49e472(0xaa)+_0x1cbd27['score']+_0x49e472(0x2fc))[_0x49e472(0x7d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x17259e+_0x49e472(0x969);liveGameView['innerHTML']=_0x3bbb5a;}function renderStudentSyncQuestionView(_0x17c8d9){const _0x240f96=_0x335401;while(localPlayerTurnIndex<localTeamPlayers['length']&&_0x17c8d9[_0x240f96(0x924)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x240f96(0x4d5)]===!![]){localPlayerTurnIndex++;}const _0x161890=localTeamPlayers[localPlayerTurnIndex];if(!_0x161890)return;const _0x1fb5fb=_0x17c8d9[_0x240f96(0xd7)],_0x56f4c8=_0x17c8d9['shuffledQuiz'][_0x240f96(0x4e3)]['length'],_0x1ae5d8=_0x17c8d9[_0x240f96(0x189)][_0x240f96(0x4e3)][_0x1fb5fb],_0x41a71e=(_0x1ae5d8[_0x240f96(0x5b2)]||[])[_0x240f96(0x4eb)]((_0x23c6c4,_0x5da38f)=>_0x240f96(0x9c3)+_0x5da38f+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>'+_0x23c6c4+_0x240f96(0x691))['join']('');liveGameView['innerHTML']=_0x240f96(0x23b)+(_0x1fb5fb+0x1)+_0x240f96(0x73f)+_0x56f4c8+_0x240f96(0x272)+_0x161890+_0x240f96(0x275)+_0x1ae5d8[_0x240f96(0x7f3)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x41a71e+_0x240f96(0x2db);if(window[_0x240f96(0x107)])MathJax[_0x240f96(0x4a4)]();document[_0x240f96(0xf8)]('.live-answer-btn')[_0x240f96(0x40a)](_0x16e328=>{const _0x517b43=_0x240f96;_0x16e328[_0x517b43(0x1e2)]('click',()=>{const _0x52b03e=_0x517b43,_0x19d0b8=parseInt(_0x16e328['dataset'][_0x52b03e(0x842)]);_0x17c8d9['isConfidenceScoringEnabled']?(document[_0x52b03e(0x11a)]('selected-answer-index-hidden')[_0x52b03e(0x5ce)]=_0x19d0b8,document['getElementById'](_0x52b03e(0x629))[_0x52b03e(0x8f)][_0x52b03e(0x57c)]('hidden')):handleSyncAnswerSubmit(_0x19d0b8,_0x1ae5d8,_0x17c8d9,_0x161890,![]);});});}async function handleSyncAnswerSubmit(_0xcb12c3,_0xb83033,_0x37d070,_0x3e0f72,_0x4f83f4){const _0x11ad91=_0x335401;document[_0x11ad91(0xf8)](_0x11ad91(0x5cb))[_0x11ad91(0x40a)](_0x2ca503=>_0x2ca503[_0x11ad91(0x53e)]=!![]);const _0x3f44ce=_0xcb12c3===_0xb83033[_0x11ad91(0x801)],_0x1f2ad7=_0x3f44ce?0x1:0x0,_0xada6df=doc(db,_0x11ad91(0x82)+appId+_0x11ad91(0x79a),currentLiveGameId),_0x2f1cc3={};_0x2f1cc3[_0x11ad91(0x3d9)+_0x3e0f72+_0x11ad91(0x6dd)]=increment(_0x1f2ad7),_0x2f1cc3[_0x11ad91(0x3d9)+_0x3e0f72+_0x11ad91(0x807)]=!![],_0x2f1cc3[_0x11ad91(0x3d9)+_0x3e0f72+_0x11ad91(0x9b4)]=_0xcb12c3;const _0x53e6f4=_0xb83033[_0x11ad91(0x5b2)]&&_0xb83033[_0x11ad91(0x5b2)][_0xcb12c3]?_0xb83033[_0x11ad91(0x5b2)][_0xcb12c3]:null,_0x523a00={'questionIndex':_0x37d070[_0x11ad91(0xd7)],'questionId':_0xb83033['id'],'answer':_0xcb12c3,'answerText':_0x53e6f4,'isCorrect':_0x3f44ce,'originalQuestionText':_0xb83033[_0x11ad91(0x7f3)],'wasConfident':_0x4f83f4};_0x2f1cc3['players.'+_0x3e0f72+'.answers']=arrayUnion(_0x523a00),await updateDoc(_0xada6df,_0x2f1cc3);}initialize();
