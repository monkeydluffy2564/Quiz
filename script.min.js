const _0x44691e=_0x3aeb;(function(_0x4495ef,_0x227f36){const _0x1578c8=_0x3aeb,_0x152ba0=_0x4495ef();while(!![]){try{const _0x4afebb=parseInt(_0x1578c8(0x741))/0x1*(parseInt(_0x1578c8(0x8c7))/0x2)+parseInt(_0x1578c8(0xac9))/0x3+-parseInt(_0x1578c8(0x811))/0x4*(-parseInt(_0x1578c8(0xa5e))/0x5)+parseInt(_0x1578c8(0x45e))/0x6+parseInt(_0x1578c8(0x850))/0x7*(parseInt(_0x1578c8(0x2e6))/0x8)+parseInt(_0x1578c8(0xba0))/0x9+parseInt(_0x1578c8(0x2db))/0xa*(-parseInt(_0x1578c8(0x870))/0xb);if(_0x4afebb===_0x227f36)break;else _0x152ba0['push'](_0x152ba0['shift']());}catch(_0x5ff230){_0x152ba0['push'](_0x152ba0['shift']());}}}(_0x1215,0x77a82));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x44691e(0x2c7),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x44691e(0x2c7),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x44691e(0x2c7),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x5654ea=_0x44691e;if(_0x5654ea(0xc93)in navigator)try{wakeLock=await navigator[_0x5654ea(0xc93)][_0x5654ea(0xa09)](_0x5654ea(0x74b)),console[_0x5654ea(0x18c)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x5654ea(0x36e)](_0x5654ea(0x152),()=>{const _0x28ee87=_0x5654ea;console[_0x28ee87(0x18c)](_0x28ee87(0x80b));});}catch(_0x4024d5){console['error'](_0x5654ea(0x570)+_0x4024d5['name']+',\x20'+_0x4024d5[_0x5654ea(0xca0)]);}else console[_0x5654ea(0xc84)]('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x274f1a=_0x44691e;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console[_0x274f1a(0x18c)](_0x274f1a(0x5d1)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x30ad9e=_0x44691e;if(!document[_0x30ad9e(0xa2f)][_0x30ad9e(0x534)][_0x30ad9e(0xbfc)](_0x30ad9e(0x56b))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x1f5070=_0x30ad9e;document[_0x1f5070(0xa2f)][_0x1f5070(0x534)]['add']('dimmed'),console[_0x1f5070(0x18c)](_0x1f5070(0x962));},inactivityTime);}}function wakeUpScreen(_0x374e2c){const _0x45354e=_0x44691e;_0x374e2c&&(_0x374e2c['stopPropagation'](),_0x374e2c[_0x45354e(0x294)]());document[_0x45354e(0xa2f)][_0x45354e(0x534)][_0x45354e(0x392)](_0x45354e(0x56b));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x27f38f=_0x45354e;document[_0x27f38f(0xa2f)][_0x27f38f(0x534)][_0x27f38f(0x174)](_0x27f38f(0x56b));},inactivityTime);}function stopDimTimer(){const _0x5cb578=_0x44691e;if(dimTimer)clearTimeout(dimTimer);document[_0x5cb578(0xa2f)][_0x5cb578(0x534)]['remove'](_0x5cb578(0x56b)),window[_0x5cb578(0x4c9)](_0x5cb578(0x273),resetDimTimer),window[_0x5cb578(0x4c9)](_0x5cb578(0x71b),resetDimTimer),window['removeEventListener']('touchstart',resetDimTimer),window['removeEventListener'](_0x5cb578(0x321),resetDimTimer),console[_0x5cb578(0x18c)](_0x5cb578(0x7dc));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x237779,_0x5757ea=![]){const _0x42a774=_0x44691e,_0x5cd05f=allQuizzes['find'](_0x21ab57=>_0x21ab57['id']===_0x237779)||allQuizzesGlobal['find'](_0x45526f=>_0x45526f['id']===_0x237779);if(!_0x5cd05f){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x5cd05f);const _0x57b87d=Math[_0x42a774(0x3fd)](0x3e8+Math['random']()*0x2328)[_0x42a774(0xb8f)]();try{const _0x339d06=await addDoc(collection(db,'artifacts/'+appId+_0x42a774(0x2f0)),{'quizId':_0x5cd05f['id'],'projectId':_0x5cd05f[_0x42a774(0x370)],'status':_0x42a774(0x9f5),'pin':_0x57b87d,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x5757ea});currentTeamQuizId=_0x339d06['id'],showView(_0x42a774(0xa2d)),renderAdminTeamQuizDashboard(_0x57b87d,_0x5cd05f[_0x42a774(0x180)]),listenForTeamQuizUpdates();}catch(_0x5d6698){console[_0x42a774(0x723)](_0x42a774(0xb17),_0x5d6698),showMessage(_0x42a774(0xc4a));}}function renderAdminTeamQuizDashboard(_0x40fecf,_0x5058f6,_0x372747=_0x44691e(0x2a5)){const _0x5e1059=_0x44691e,_0x2beae3=_0x372747===_0x5e1059(0x74d)?_0x5e1059(0x3be):_0x5e1059(0x826);liveGameView[_0x5e1059(0x64a)]=_0x5e1059(0x87a)+_0x2beae3+':\x20'+_0x5058f6+_0x5e1059(0x8d2)+_0x40fecf+_0x5e1059(0x3ec),document[_0x5e1059(0xcac)](_0x5e1059(0xb0d))[_0x5e1059(0x36e)](_0x5e1059(0x486),async()=>{const _0x164bca=_0x5e1059;showConfirmation(_0x164bca(0x63c),async()=>{const _0x145d98=_0x164bca;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x145d98(0x1c4)+appId+_0x145d98(0x2f0),currentTeamQuizId)),showView(_0x145d98(0x7fb));});});}function listenForTeamQuizUpdates(){const _0x348f88=_0x44691e;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x327ec1=doc(db,_0x348f88(0x1c4)+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x327ec1,_0x664899=>{const _0x14f49c=_0x348f88;if(!_0x664899[_0x14f49c(0x72f)]()){sessionStorage[_0x14f49c(0x85d)](_0x14f49c(0x9d2));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x14f49c(0x5a5));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView('project-detail'):showView(_0x14f49c(0xb07));return;}const _0x3df4f6=_0x664899[_0x14f49c(0x2a7)]();if(currentMode===_0x14f49c(0x783)){if(_0x3df4f6[_0x14f49c(0x573)]===_0x14f49c(0x74d)&&_0x3df4f6[_0x14f49c(0x507)]!=='podium'&&_0x3df4f6[_0x14f49c(0x507)]!==_0x14f49c(0x724)){const _0x8cf61c=Object[_0x14f49c(0x5a9)](_0x3df4f6['groups']||{});if(_0x8cf61c['length']>0x0){const _0x5d04a1=_0x8cf61c['every'](_0x15b219=>_0x15b219[_0x14f49c(0x3d7)]===!![]);_0x5d04a1&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x3df4f6);}else{if(_0x3df4f6[_0x14f49c(0x507)]===_0x14f49c(0x69f)||_0x3df4f6[_0x14f49c(0x507)]===_0x14f49c(0x724)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x3df4f6[_0x14f49c(0x573)]===_0x14f49c(0x74d)){const _0x18b070=_0x3df4f6[_0x14f49c(0xa21)][userId];(!_0x18b070||!_0x18b070['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x2ff8f2){const _0x22be5a=_0x44691e;console[_0x22be5a(0x18c)]('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x4e7dad=doc(db,_0x22be5a(0x1c4)+appId+_0x22be5a(0x2f0),_0x2ff8f2);try{const _0x303b0=await getDoc(_0x4e7dad);if(_0x303b0[_0x22be5a(0x72f)]()){const _0xf26454=_0x303b0[_0x22be5a(0x2a7)]();_0xf26454['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0xf26454);}await updateDoc(_0x4e7dad,{'status':_0x22be5a(0x69f)});}catch(_0x4cca85){console[_0x22be5a(0x723)]('Failed\x20to\x20end\x20group\x20mode\x20game:',_0x4cca85);}}function updateAdminTeamDashboard(_0x54bc5a){const _0xf51be5=_0x44691e,_0xdca42d=document[_0xf51be5(0xcac)](_0xf51be5(0x364));if(!_0xdca42d)return;const _0xd42112=_0x54bc5a[_0xf51be5(0x573)]||_0xf51be5(0x2a5),_0x4bfacc=currentQuizData['questions'][_0xf51be5(0x8b4)];if(_0xd42112===_0xf51be5(0x74d)){const _0x1c9f57=Object[_0xf51be5(0x5a9)](_0x54bc5a[_0xf51be5(0xa21)]||{});if(_0x1c9f57[_0xf51be5(0x8b4)]===0x0){_0xdca42d['innerHTML']='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>';return;}const _0x204ba1=[..._0x1c9f57][_0xf51be5(0xa24)]((_0x46c886,_0x1954ed)=>_0x1954ed[_0xf51be5(0x443)]-_0x46c886['score']),_0x2f1cbf=_0x204ba1['map']((_0x488db7,_0xaf040c)=>{const _0x1337f4=_0xf51be5,_0x21cb0c=_0x488db7[_0x1337f4(0x4dd)]?.[_0x1337f4(0x8b4)]||0x0;return _0x1337f4(0x428)+(_0xaf040c+0x1)+_0x1337f4(0x7fc)+_0x488db7[_0x1337f4(0x342)]['join'](',\x20')+_0x1337f4(0xcaa)+_0x21cb0c+'/'+_0x4bfacc+_0x1337f4(0x1b3)+_0x488db7[_0x1337f4(0x443)]+_0x1337f4(0x6f5);})[_0xf51be5(0xad6)](''),_0x2c793f=currentQuizData[_0xf51be5(0x8f1)][_0xf51be5(0x39a)]((_0x4e8b03,_0x1f1e04)=>{const _0x7266ff=_0xf51be5;let _0x2117c7=0x0,_0x44d188=0x0;_0x1c9f57[_0x7266ff(0xc74)](_0x149ef3=>{const _0x9d9e26=_0x7266ff,_0x5f24ec=_0x149ef3[_0x9d9e26(0x4dd)]?.[_0x9d9e26(0xb3a)](_0x53df16=>_0x53df16[_0x9d9e26(0xcbe)]===_0x1f1e04);if(_0x5f24ec){_0x44d188++;if(_0x5f24ec['isCorrect'])_0x2117c7++;}});const _0xeaadf5=_0x44d188>0x0&&_0x44d188===_0x1c9f57[_0x7266ff(0x8b4)],_0x1f59bc=_0xeaadf5?_0x7266ff(0xa52):_0x7266ff(0x2eb),_0x397b54=_0xeaadf5?_0x7266ff(0xb9c):'';return'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x1f59bc+_0x7266ff(0x89c)+(_0x1f1e04+0x1)+_0x7266ff(0xbe7)+_0x397b54+_0x7266ff(0x194)+_0x2117c7+'/'+_0x1c9f57[_0x7266ff(0x8b4)]+_0x7266ff(0xaa6);})['join']('');_0xdca42d['innerHTML']=_0xf51be5(0x27a)+_0x2f1cbf+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0x2c793f+'</div></div></div>';return;}const _0x7d9461=_0x54bc5a[_0xf51be5(0x536)]||{},_0x119702=Object['keys'](_0x7d9461);if(_0x119702['length']===0x0){_0xdca42d['innerHTML']=_0xf51be5(0xb09);return;}const _0x53a7fc=_0x119702['map'](_0x544cde=>({'name':_0x544cde,'score':_0x7d9461[_0x544cde][_0xf51be5(0x443)]||0x0}))['sort']((_0x314303,_0x5f5b34)=>_0x5f5b34[_0xf51be5(0x443)]-_0x314303[_0xf51be5(0x443)]),_0x460387=_0x53a7fc[_0xf51be5(0x39a)](_0x19c34f=>{const _0x279905=_0xf51be5,_0x4b5a16=_0x7d9461[_0x19c34f['name']]?.[_0x279905(0x4dd)]?.[_0x279905(0x8b4)]||0x0,_0x12e3bb=Math[_0x279905(0x904)](_0x4bfacc/_0x119702[_0x279905(0x8b4)]);return _0x279905(0x1d2)+_0x19c34f[_0x279905(0x8c8)]+_0x279905(0xaa3)+_0x4b5a16+'/'+_0x12e3bb+_0x279905(0xc63)+_0x19c34f[_0x279905(0x443)]+_0x279905(0x34f);})['join'](''),_0x2622cb=_0x119702[_0xf51be5(0xa8a)]((_0x43ab3c,_0x56c9fb)=>_0x43ab3c+(_0x7d9461[_0x56c9fb][_0xf51be5(0x4dd)]?.[_0xf51be5(0x8b4)]||0x0),0x0),_0x1a62af=currentQuizData[_0xf51be5(0x8f1)]['map']((_0x296fcb,_0x4215eb)=>{const _0x2bc9ae=_0xf51be5;let _0x2cae3d=null,_0x1ec81d=null;for(const _0x180518 of _0x119702){const _0x21aa37=_0x7d9461[_0x180518]['answers']?.['find'](_0x3ac0cd=>_0x3ac0cd['questionIndex']===_0x4215eb);if(_0x21aa37){_0x2cae3d=_0x21aa37,_0x1ec81d=_0x180518;break;}}const _0x111518=!!_0x2cae3d,_0x430824=_0x111518&&_0x2cae3d[_0x2bc9ae(0x6e6)],_0x267b86=(Math[_0x2bc9ae(0x3fd)](_0x4215eb/_0x119702[_0x2bc9ae(0x8b4)])+0x1)*_0x119702['length'],_0x26bf9f=_0x2622cb>=_0x267b86,_0x2bdd74=_0x26bf9f?_0x2bc9ae(0x1c0):_0x2bc9ae(0x2eb),_0x1a8e7a=_0x26bf9f?_0x2bc9ae(0xb9c):'';let _0x4cce97=_0x2bc9ae(0xc5d);return _0x111518&&(_0x4cce97=_0x1ec81d+_0x2bc9ae(0x55f)+(_0x430824?_0x2bc9ae(0x4ae):_0x2bc9ae(0x501))),_0x2bc9ae(0x844)+_0x2bdd74+_0x2bc9ae(0x89c)+(_0x4215eb+0x1)+_0x2bc9ae(0xbe7)+_0x1a8e7a+_0x2bc9ae(0x445)+_0x4cce97+'</p></div>';})[_0xf51be5(0xad6)]('');_0xdca42d['innerHTML']='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x460387+_0xf51be5(0x80c)+_0x1a62af+_0xf51be5(0x859);}async function handleJoinTeamQuiz(){const _0x4caba8=_0x44691e,_0x582259=prompt(_0x4caba8(0x6b5));if(!_0x582259||_0x582259[_0x4caba8(0x5a4)]()[_0x4caba8(0x8b4)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x1b4a2c=collection(db,_0x4caba8(0x1c4)+appId+_0x4caba8(0x2f0)),_0x50545b=query(_0x1b4a2c,where('pin','==',_0x582259[_0x4caba8(0x5a4)]()),where(_0x4caba8(0x507),'==',_0x4caba8(0x9f5))),_0x1723c2=await getDocs(_0x50545b);if(_0x1723c2[_0x4caba8(0x99e)]){showMessage('ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x544525=_0x1723c2[_0x4caba8(0xb1e)][0x0];currentTeamQuizId=_0x544525['id'];const _0x1b4425=_0x544525[_0x4caba8(0x2a7)](),_0x49067d=doc(db,_0x4caba8(0x1c4)+appId+'/public/data/projects',_0x1b4425[_0x4caba8(0x370)]),_0x2eca6a=doc(db,_0x4caba8(0x1c4)+appId+_0x4caba8(0x1fa),_0x1b4425[_0x4caba8(0xae2)]),[_0x596283,_0x2fb3f1]=await Promise['all']([getDoc(_0x49067d),getDoc(_0x2eca6a)]);if(!_0x596283[_0x4caba8(0x72f)]()||!_0x2fb3f1[_0x4caba8(0x72f)]())throw new Error(_0x4caba8(0x566));currentQuizData=getShuffledQuiz({'id':_0x2fb3f1['id'],..._0x2fb3f1['data']()});const _0x2ab47d=_0x596283[_0x4caba8(0x2a7)]();showTeamPlayerSelection(_0x2ab47d['students'],currentQuizData['topic']);}catch(_0x985e2b){console[_0x4caba8(0x723)](_0x4caba8(0x916),_0x985e2b),showMessage(_0x4caba8(0x40a)+_0x985e2b[_0x4caba8(0xca0)]);}}async function handleJoinGroupActivity(){const _0x5f2d9b=_0x44691e,_0x745c65=prompt('กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):');if(!_0x745c65||_0x745c65[_0x5f2d9b(0x5a4)]()[_0x5f2d9b(0x8b4)]!==0x4){showMessage(_0x5f2d9b(0xa5c));return;}const _0x5dc0e8=_0x745c65['trim']();showMessage(_0x5f2d9b(0xc28));try{const _0x4548f6=collection(db,_0x5f2d9b(0x1c4)+appId+'/public/data/teamQuizzes'),_0x507f30=query(_0x4548f6,where(_0x5f2d9b(0x1ae),'==',_0x5dc0e8),where(_0x5f2d9b(0x507),'==','lobby')),_0x92b1d=await getDocs(_0x507f30);if(!_0x92b1d[_0x5f2d9b(0x99e)]){console['log'](_0x5f2d9b(0xbcf)),await proceedWithTeamQuizJoin(_0x92b1d[_0x5f2d9b(0xb1e)][0x0]);return;}const _0x519b5b=collection(db,_0x5f2d9b(0x1c4)+appId+_0x5f2d9b(0x6ff)),_0x64f027=query(_0x519b5b,where(_0x5f2d9b(0x1ae),'==',_0x5dc0e8),where(_0x5f2d9b(0x507),'==',_0x5f2d9b(0x9f5))),_0x49b509=await getDocs(_0x64f027);if(!_0x49b509['empty']){console[_0x5f2d9b(0x18c)](_0x5f2d9b(0x383)),await proceedWithSyncQuizJoin(_0x49b509[_0x5f2d9b(0xb1e)][0x0]);return;}showMessage(_0x5f2d9b(0x3fa));}catch(_0x4c2a94){console[_0x5f2d9b(0x723)](_0x5f2d9b(0x348),_0x4c2a94),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x4c2a94['message']);}}async function proceedWithTeamQuizJoin(_0x3185bf){const _0x4dce93=_0x44691e;currentTeamQuizId=_0x3185bf['id'];const _0xc7ce72=_0x3185bf[_0x4dce93(0x2a7)](),_0x473c93=doc(db,_0x4dce93(0x1c4)+appId+'/public/data/projects',_0xc7ce72[_0x4dce93(0x370)]),_0x201512=doc(db,_0x4dce93(0x1c4)+appId+_0x4dce93(0x1fa),_0xc7ce72[_0x4dce93(0xae2)]),[_0x15532e,_0x171116]=await Promise['all']([getDoc(_0x473c93),getDoc(_0x201512)]);if(!_0x15532e[_0x4dce93(0x72f)]()||!_0x171116[_0x4dce93(0x72f)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x171116['id'],..._0x171116[_0x4dce93(0x2a7)]()}),showTeamPlayerSelection(_0x15532e[_0x4dce93(0x2a7)]()[_0x4dce93(0x81b)],currentQuizData[_0x4dce93(0x180)],_0xc7ce72[_0x4dce93(0x573)]||'team'),messageModal[_0x4dce93(0x534)][_0x4dce93(0x174)]('hidden');}async function proceedWithSyncQuizJoin(_0x56b6d3){const _0x23a35f=_0x44691e;currentLiveGameId=_0x56b6d3['id'];const _0xf4400a=_0x56b6d3[_0x23a35f(0x2a7)](),_0x2f7fd8=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0xf4400a['quizId']),_0x4502c4=await getDoc(_0x2f7fd8);if(!_0x4502c4[_0x23a35f(0x72f)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x333599=_0x4502c4['data'](),_0x687813=doc(db,_0x23a35f(0x1c4)+appId+_0x23a35f(0x6b6),_0x333599['projectId']),_0x4d7853=await getDoc(_0x687813);if(!_0x4d7853[_0x23a35f(0x72f)]())throw new Error(_0x23a35f(0x835));currentQuizData=_0xf4400a[_0x23a35f(0x692)],showView('student-team-join'),showTeamPlayerSelection(_0x4d7853[_0x23a35f(0x2a7)]()['students'],_0x333599['topic'],'sync'),document[_0x23a35f(0xcac)]('confirm-team-players-btn')[_0x23a35f(0x800)]=confirmAndJoinSyncGame,messageModal[_0x23a35f(0x534)][_0x23a35f(0x174)](_0x23a35f(0xb2f));}function getCleanApplicationHTML(){const _0x51e2c9=_0x44691e,_0x142859=document['getElementById'](_0x51e2c9(0x803));if(!_0x142859)return'';const _0x19fa24=_0x142859[_0x51e2c9(0x33e)](!![]);return _0x19fa24['querySelectorAll']('.application-options\x20button')['forEach'](_0x411901=>{const _0x10b0dc=_0x51e2c9;_0x411901[_0x10b0dc(0x534)][_0x10b0dc(0x392)]('correct',_0x10b0dc(0xc61)),_0x411901[_0x10b0dc(0x585)]=![];}),_0x19fa24[_0x51e2c9(0x64a)];}function showTeamPlayerSelection(_0x20b3b5,_0x2761ff,_0x5e98a3=_0x44691e(0x2a5)){const _0xe5bc3c=_0x44691e;studentInitialView['classList']['add'](_0xe5bc3c(0xb2f)),studentJoinGameView['classList']['add'](_0xe5bc3c(0xb2f)),document[_0xe5bc3c(0xcac)]('student-team-selection-view')[_0xe5bc3c(0x534)]['remove']('hidden');let _0x3d5a68=_0xe5bc3c(0x826);if(_0x5e98a3==='group')_0x3d5a68=_0xe5bc3c(0x3be);else _0x5e98a3==='sync'&&(_0x3d5a68=_0xe5bc3c(0x19f));document[_0xe5bc3c(0xcac)](_0xe5bc3c(0x4cd))[_0xe5bc3c(0x20a)]=_0x3d5a68+':\x20'+_0x2761ff;const _0x108500=document[_0xe5bc3c(0xcac)](_0xe5bc3c(0x9dc));if(!_0x20b3b5||_0x20b3b5['length']===0x0){_0x108500[_0xe5bc3c(0x64a)]=_0xe5bc3c(0x9bf),document[_0xe5bc3c(0xcac)]('confirm-team-players-btn')[_0xe5bc3c(0x585)]=!![];return;}_0x108500[_0xe5bc3c(0x64a)]=_0x20b3b5['map'](_0x8021ca=>_0xe5bc3c(0x425)+_0x8021ca+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x8021ca+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0xe5bc3c(0xad6)](''),document[_0xe5bc3c(0xcac)](_0xe5bc3c(0xbb7))[_0xe5bc3c(0x585)]=![];}async function confirmAndStartTeamQuiz(){const _0x472c98=_0x44691e,_0x19859e=Array['from'](document[_0x472c98(0x32a)]('input[name=\x22team_player\x22]:checked'))[_0x472c98(0x39a)](_0x4a7172=>_0x4a7172[_0x472c98(0x1a0)]);if(_0x19859e[_0x472c98(0x8b4)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x19859e,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x428eb9=doc(db,_0x472c98(0x1c4)+appId+_0x472c98(0x2f0),currentTeamQuizId);try{const _0x23496a=await getDoc(_0x428eb9);if(!_0x23496a['exists']())throw new Error(_0x472c98(0xb86));const _0x2dfbd0=_0x23496a['data']();if(_0x2dfbd0[_0x472c98(0x573)]===_0x472c98(0x74d)){const _0x551864={[_0x472c98(0x8da)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x428eb9,_0x551864);}else{const _0x16bf53=_0x2dfbd0[_0x472c98(0x536)]||{};localTeamPlayers[_0x472c98(0xc74)](_0x298efe=>{!_0x16bf53[_0x298efe]&&(_0x16bf53[_0x298efe]={'score':0x0,'answers':[]});}),await updateDoc(_0x428eb9,{'responses':_0x16bf53});}document['getElementById']('student-team-selection-view')[_0x472c98(0x534)]['add'](_0x472c98(0xb2f)),renderTeamQuizQuestion();const _0x4a727b={'gameId':currentTeamQuizId,'mode':_0x2dfbd0['mode']||_0x472c98(0x2a5),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x472c98(0x766)]('activeGameSession',JSON['stringify'](_0x4a727b)),listenForTeamQuizUpdates();}catch(_0x22f087){console[_0x472c98(0x723)](_0x472c98(0x85b),_0x22f087),showMessage(_0x472c98(0x4fb));}}async function renderTeamQuizQuestion(){const _0xfc0bc6=_0x44691e;if(localQuestionIndex>=currentQuizData[_0xfc0bc6(0x8f1)]['length']){displayTeamQuizFinalResults();return;}const _0x1191a3=currentQuizData['questions'][localQuestionIndex],_0x29b4b5=localTeamPlayers[localPlayerIndex],_0x96df26=_0x1191a3['questionType']||currentQuizData[_0xfc0bc6(0x196)];let _0x5ecb23=_0x1191a3[_0xfc0bc6(0x388)]||_0x1191a3['questionText'],_0xe27492='';switch(_0x96df26){case _0xfc0bc6(0xb47):case'fill_in_with_choices':_0xe27492=_0x1191a3['options'][_0xfc0bc6(0x39a)]((_0x3c0dd1,_0x487cf5)=>_0xfc0bc6(0x9e9)+_0x487cf5+_0xfc0bc6(0x689)+_0x487cf5+_0xfc0bc6(0xb22)+_0x487cf5+'\x22>'+_0x3c0dd1+_0xfc0bc6(0xc97))[_0xfc0bc6(0xad6)]('');break;case _0xfc0bc6(0x9c3):_0xe27492=_0xfc0bc6(0x4b7);break;case'short_answer':case'fill_in_no_choices':_0xe27492='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';break;case _0xfc0bc6(0xc00):_0xe27492=_0xfc0bc6(0x4b8)+_0x1191a3['allResponses'][_0xfc0bc6(0x39a)](_0xf8ac62=>_0xfc0bc6(0x458)+_0xf8ac62+'\x22>'+_0xf8ac62+_0xfc0bc6(0x61d))[_0xfc0bc6(0xad6)]('')+_0xfc0bc6(0x176);break;default:_0xe27492=_0xfc0bc6(0x6d8);break;}studentQuizArea[_0xfc0bc6(0x64a)]=_0xfc0bc6(0xc9f)+(localQuestionIndex+0x1)+_0xfc0bc6(0x868)+currentQuizData[_0xfc0bc6(0x8f1)][_0xfc0bc6(0x8b4)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x29b4b5+_0xfc0bc6(0xc43)+(localQuestionIndex+0x1)+'.\x20'+_0x5ecb23+_0xfc0bc6(0x746)+(_0x1191a3['imageCode']?_0xfc0bc6(0x86c)+_0x1191a3[_0xfc0bc6(0x65a)]+_0xfc0bc6(0xbeb):'')+_0xfc0bc6(0x87f)+_0xe27492+_0xfc0bc6(0x16c),studentQuizArea[_0xfc0bc6(0x534)][_0xfc0bc6(0x392)](_0xfc0bc6(0xb2f));if(window[_0xfc0bc6(0x2b2)])MathJax['typesetPromise']([studentQuizArea]);document['getElementById'](_0xfc0bc6(0x696))[_0xfc0bc6(0x36e)]('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x465a6f=_0x44691e,_0x1f68ec=currentQuizData[_0x465a6f(0x8f1)][localQuestionIndex],_0x362037=_0x1f68ec[_0x465a6f(0xb42)]||currentQuizData['quizType'];let _0x2bbe57=null,_0x1ba62c=![];if(_0x362037===_0x465a6f(0x982)||_0x362037===_0x465a6f(0x1ec)){const _0x1caba2=document['querySelector'](_0x465a6f(0xcbd));if(!_0x1caba2||!_0x1caba2[_0x465a6f(0x1a0)][_0x465a6f(0x5a4)]()){showMessage(_0x465a6f(0x928));return;}_0x2bbe57=_0x1caba2[_0x465a6f(0x1a0)][_0x465a6f(0x5a4)](),_0x1ba62c=await gradeShortAnswer(_0x2bbe57,_0x1f68ec);}else{const _0x228458=document[_0x465a6f(0x909)](_0x465a6f(0x314));if(!_0x228458||_0x228458['value']===''){showMessage(_0x465a6f(0x30f));return;}_0x2bbe57=_0x228458[_0x465a6f(0x1a0)];switch(_0x362037){case _0x465a6f(0x9c3):_0x1ba62c=_0x2bbe57===_0x465a6f(0x97e)===_0x1f68ec['correctAnswer'];break;case _0x465a6f(0xc00):_0x1ba62c=_0x2bbe57===_0x1f68ec[_0x465a6f(0x964)];break;default:_0x1ba62c=parseInt(_0x2bbe57)===_0x1f68ec[_0x465a6f(0x576)];break;}}const _0x1f70a9={'questionIndex':localQuestionIndex,'isCorrect':_0x1ba62c},_0x2ba602=userId,_0x38053a={[_0x465a6f(0x8da)+_0x2ba602+_0x465a6f(0x91f)]:arrayUnion(_0x1f70a9)};_0x1ba62c&&(_0x38053a['groups.'+_0x2ba602+_0x465a6f(0x8c5)]=increment(0x1));try{await updateDoc(doc(db,_0x465a6f(0x1c4)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x38053a),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x465a6f(0x8f1)]['length']?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x529e1f){console[_0x465a6f(0x723)](_0x465a6f(0x59e),_0x529e1f),showMessage(_0x465a6f(0x8d8));}}async function handleTeamAnswerSubmit(){const _0x3277b2=_0x44691e,_0x3ba4ad=await getDoc(doc(db,_0x3277b2(0x1c4)+appId+_0x3277b2(0x2f0),currentTeamQuizId));if(!_0x3ba4ad[_0x3277b2(0x72f)]())return;const _0x42f04f=_0x3ba4ad[_0x3277b2(0x2a7)]();if(_0x42f04f['mode']==='group'){handleGroupAnswerSubmit();return;}const _0x51b9da=localTeamPlayers[localPlayerIndex],_0x52e1b1=currentQuizData[_0x3277b2(0x8f1)][localQuestionIndex],_0x2fc65b=_0x52e1b1[_0x3277b2(0xb42)]||currentQuizData['quizType'];let _0x395d30=null,_0x1e053d=![];if(_0x2fc65b===_0x3277b2(0x982)||_0x2fc65b===_0x3277b2(0x1ec)){const _0x444e8c=document[_0x3277b2(0x909)](_0x3277b2(0xcbd));if(!_0x444e8c||!_0x444e8c[_0x3277b2(0x1a0)][_0x3277b2(0x5a4)]()){showMessage('กรุณาพิมพ์คำตอบ');return;}_0x395d30=_0x444e8c[_0x3277b2(0x1a0)][_0x3277b2(0x5a4)](),_0x1e053d=await gradeShortAnswer(_0x395d30,_0x52e1b1);}else{const _0x4990c0=document[_0x3277b2(0x909)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x4990c0||_0x4990c0[_0x3277b2(0x1a0)]===''){showMessage(_0x3277b2(0xc38));return;}_0x395d30=_0x4990c0[_0x3277b2(0x1a0)];switch(_0x2fc65b){case _0x3277b2(0x9c3):_0x1e053d=_0x395d30==='true'===_0x52e1b1[_0x3277b2(0x492)];break;case _0x3277b2(0xc00):_0x1e053d=_0x395d30===_0x52e1b1[_0x3277b2(0x964)];break;default:_0x1e053d=parseInt(_0x395d30)===_0x52e1b1[_0x3277b2(0x576)];break;}}const _0x1be7e7={'questionIndex':localQuestionIndex,'isCorrect':_0x1e053d,'answerValue':_0x395d30},_0x59723f={[_0x3277b2(0xac1)+_0x51b9da+_0x3277b2(0x91f)]:arrayUnion(_0x1be7e7)};_0x1e053d&&(_0x59723f[_0x3277b2(0xac1)+_0x51b9da+_0x3277b2(0x8c5)]=increment(0x1));try{await updateDoc(doc(db,_0x3277b2(0x1c4)+appId+_0x3277b2(0x2f0),currentTeamQuizId),_0x59723f),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x3277b2(0x8b4)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x11ac7c){console[_0x3277b2(0x723)](_0x3277b2(0xae6),_0x11ac7c),showMessage(_0x3277b2(0x8d8));}}async function displayTeamQuizFinalResults(){const _0x3f378b=_0x44691e;studentQuizArea[_0x3f378b(0x534)][_0x3f378b(0x174)](_0x3f378b(0xb2f)),studentResultArea[_0x3f378b(0x534)][_0x3f378b(0x392)](_0x3f378b(0xb2f));const _0x414ca5=doc(db,_0x3f378b(0x1c4)+appId+_0x3f378b(0x2f0),currentTeamQuizId),_0x2e1df1=await getDoc(_0x414ca5);if(!_0x2e1df1[_0x3f378b(0x72f)]()){studentResultArea[_0x3f378b(0x64a)]=_0x3f378b(0x89a);return;}const _0x398e0a=_0x2e1df1[_0x3f378b(0x2a7)]();let _0x2f00d3=[];const _0x471f95=_0x398e0a[_0x3f378b(0x573)]||'team';if(_0x471f95===_0x3f378b(0x74d)){const _0x43f240=_0x398e0a[_0x3f378b(0xa21)][userId];_0x43f240?_0x2f00d3=[{'name':'กลุ่ม:\x20'+localTeamPlayers['join'](',\x20'),'score':_0x43f240[_0x3f378b(0x443)]||0x0}]:_0x2f00d3=[{'name':_0x3f378b(0x2a1),'score':_0x3f378b(0x2f7)}];}else _0x2f00d3=localTeamPlayers[_0x3f378b(0x39a)](_0x420cce=>({'name':_0x420cce,'score':_0x398e0a[_0x3f378b(0x536)][_0x420cce]?.['score']||0x0}))[_0x3f378b(0xa24)]((_0x2c522c,_0x5ec74f)=>_0x5ec74f[_0x3f378b(0x443)]-_0x2c522c[_0x3f378b(0x443)]);studentResultArea['innerHTML']=_0x3f378b(0x6c6)+_0x2f00d3[_0x3f378b(0x39a)](_0x23f360=>_0x3f378b(0xc59)+_0x23f360[_0x3f378b(0x8c8)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x23f360[_0x3f378b(0x443)]+_0x3f378b(0x9f4))[_0x3f378b(0xad6)]('')+_0x3f378b(0x228),sessionStorage[_0x3f378b(0x85d)](_0x3f378b(0x9d2)),currentMode==='admin'&&currentTeamQuizId&&setTimeout(()=>{const _0x4a338e=_0x3f378b;deleteDoc(doc(db,_0x4a338e(0x1c4)+appId+_0x4a338e(0x2f0),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x44691e(0x244),'pinnedProjects':[],'projectView':_0x44691e(0x4b0)};const allMathTopics=[{'category':_0x44691e(0x78e),'name':_0x44691e(0x1a5)},{'category':_0x44691e(0x78e),'name':_0x44691e(0x761)},{'category':_0x44691e(0x78e),'name':'การปัดเศษและประมาณค่า'},{'category':_0x44691e(0x78e),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':_0x44691e(0x78e),'name':_0x44691e(0x5f9)},{'category':'จำนวนและการดำเนินการ','name':'การลบ'},{'category':_0x44691e(0x78e),'name':'การคูณ'},{'category':'จำนวนและการดำเนินการ','name':'การหาร'},{'category':'จำนวนและการดำเนินการ','name':_0x44691e(0x642)},{'category':_0x44691e(0x78e),'name':'จำนวนเต็มลบ'},{'category':_0x44691e(0x78e),'name':_0x44691e(0x9af)},{'category':_0x44691e(0x78e),'name':_0x44691e(0x20d)},{'category':_0x44691e(0x78e),'name':_0x44691e(0x8e9)},{'category':_0x44691e(0x78e),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x44691e(0x78e),'name':_0x44691e(0x53c)},{'category':_0x44691e(0x78e),'name':_0x44691e(0xa91)},{'category':_0x44691e(0x78e),'name':_0x44691e(0x7a0)},{'category':_0x44691e(0x78e),'name':'อัตราและอัตราหน่วย'},{'category':_0x44691e(0x78e),'name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x44691e(0x78e),'name':'การบวกเศษส่วน'},{'category':_0x44691e(0x78e),'name':_0x44691e(0x7e3)},{'category':_0x44691e(0x78e),'name':_0x44691e(0x770)},{'category':_0x44691e(0x78e),'name':_0x44691e(0x450)},{'category':_0x44691e(0x78e),'name':_0x44691e(0x3d6)},{'category':_0x44691e(0x78e),'name':_0x44691e(0x685)},{'category':_0x44691e(0x78e),'name':_0x44691e(0x339)},{'category':_0x44691e(0x78e),'name':_0x44691e(0x476)},{'category':_0x44691e(0x78e),'name':_0x44691e(0x346)},{'category':'จำนวนและการดำเนินการ','name':'การหารทศนิยม'},{'category':'จำนวนและการดำเนินการ','name':_0x44691e(0x9bb)},{'category':'จำนวนและการดำเนินการ','name':'ร้อยละพื้นฐาน'},{'category':_0x44691e(0x78e),'name':_0x44691e(0x16d)},{'category':_0x44691e(0x78e),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':'จำนวนและการดำเนินการ','name':_0x44691e(0x14d)},{'category':'จำนวนและการดำเนินการ','name':_0x44691e(0xb01)},{'category':_0x44691e(0x78e),'name':_0x44691e(0x4c3)},{'category':_0x44691e(0x78e),'name':'สัญกรณ์วิทยาศาสตร์'},{'category':'การวัด','name':_0x44691e(0x21c)},{'category':_0x44691e(0x902),'name':_0x44691e(0xc4b)},{'category':_0x44691e(0x902),'name':_0x44691e(0xc1f)},{'category':_0x44691e(0x902),'name':_0x44691e(0x77f)},{'category':_0x44691e(0x902),'name':'อุณหภูมิและการแปลง'},{'category':_0x44691e(0x902),'name':_0x44691e(0x380)},{'category':_0x44691e(0x902),'name':_0x44691e(0xbc5)},{'category':_0x44691e(0x902),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x44691e(0x902),'name':_0x44691e(0x33d)},{'category':_0x44691e(0x902),'name':_0x44691e(0x714)},{'category':'การวัด','name':_0x44691e(0x3b3)},{'category':_0x44691e(0x902),'name':_0x44691e(0xbfa)},{'category':_0x44691e(0x902),'name':_0x44691e(0x34e)},{'category':_0x44691e(0x902),'name':_0x44691e(0xc4d)},{'category':_0x44691e(0x9fb),'name':_0x44691e(0xca8)},{'category':_0x44691e(0x9fb),'name':'ความสัมพันธ์ของมุม'},{'category':'เรขาคณิต','name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0x44691e(0x9fb),'name':_0x44691e(0x5e7)},{'category':'เรขาคณิต','name':_0x44691e(0x6ea)},{'category':_0x44691e(0x9fb),'name':_0x44691e(0xa18)},{'category':_0x44691e(0x9fb),'name':_0x44691e(0xc54)},{'category':_0x44691e(0x9fb),'name':_0x44691e(0x8bb)},{'category':_0x44691e(0x9fb),'name':_0x44691e(0x398)},{'category':_0x44691e(0x9fb),'name':_0x44691e(0x206)},{'category':_0x44691e(0x9fb),'name':_0x44691e(0x960)},{'category':_0x44691e(0x9fb),'name':_0x44691e(0x9f7)},{'category':'เรขาคณิต','name':_0x44691e(0x5bf)},{'category':_0x44691e(0x9fb),'name':_0x44691e(0xaf6)},{'category':_0x44691e(0x9fb),'name':_0x44691e(0xc6f)},{'category':_0x44691e(0xaca),'name':_0x44691e(0x453)},{'category':_0x44691e(0xaca),'name':'การกระจายและการจัดหมู่'},{'category':'พีชคณิตและฟังก์ชัน','name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0x44691e(0xaca),'name':_0x44691e(0x5aa)},{'category':_0x44691e(0xaca),'name':_0x44691e(0x6c0)},{'category':_0x44691e(0xaca),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0x44691e(0xaca),'name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x44691e(0x354)},{'category':_0x44691e(0xaca),'name':'สมการค่าสัมบูรณ์'},{'category':_0x44691e(0xaca),'name':'สมการเหตุผล\x20(rational)'},{'category':_0x44691e(0xaca),'name':_0x44691e(0x548)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการยกกำลัง'},{'category':_0x44691e(0xaca),'name':'สมการลอการิทึม'},{'category':_0x44691e(0xaca),'name':_0x44691e(0x158)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x44691e(0xae5)},{'category':_0x44691e(0xaca),'name':_0x44691e(0x906)},{'category':_0x44691e(0xaca),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x44691e(0xaca),'name':_0x44691e(0xa71)},{'category':_0x44691e(0xaca),'name':_0x44691e(0x827)},{'category':_0x44691e(0xaca),'name':_0x44691e(0x5ac)},{'category':_0x44691e(0xaca),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0x44691e(0xaca),'name':_0x44691e(0x2e7)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x44691e(0x8e3)},{'category':_0x44691e(0xaca),'name':_0x44691e(0xc98)},{'category':_0x44691e(0xaca),'name':_0x44691e(0xa13)},{'category':_0x44691e(0xaca),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':_0x44691e(0xaca),'name':_0x44691e(0xa3d)},{'category':_0x44691e(0xaca),'name':_0x44691e(0x40e)},{'category':_0x44691e(0xaca),'name':_0x44691e(0x4c2)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x44691e(0x860)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x44691e(0x825)},{'category':_0x44691e(0xaca),'name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x44691e(0xaca),'name':_0x44691e(0x597)},{'category':_0x44691e(0xaca),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x44691e(0x3bd),'name':_0x44691e(0x4a1)},{'category':'เรขาคณิตวิเคราะห์','name':_0x44691e(0x54d)},{'category':_0x44691e(0x3bd),'name':_0x44691e(0x5f5)},{'category':'เรขาคณิตวิเคราะห์','name':_0x44691e(0xa44)},{'category':_0x44691e(0x3bd),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x44691e(0x3bd),'name':_0x44691e(0x2ea)},{'category':_0x44691e(0x3bd),'name':'พาราโบลา'},{'category':_0x44691e(0x3bd),'name':_0x44691e(0x946)},{'category':_0x44691e(0x3bd),'name':_0x44691e(0xb05)},{'category':_0x44691e(0x874),'name':_0x44691e(0x56f)},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x44691e(0x874),'name':_0x44691e(0x2a0)},{'category':_0x44691e(0x874),'name':_0x44691e(0x3cc)},{'category':_0x44691e(0x874),'name':'กฎของไซน์'},{'category':_0x44691e(0x874),'name':_0x44691e(0x3ea)},{'category':'ตรีโกณมิติ','name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x44691e(0x874),'name':_0x44691e(0x82d)},{'category':_0x44691e(0x874),'name':_0x44691e(0xaf7)},{'category':_0x44691e(0x874),'name':_0x44691e(0x418)},{'category':_0x44691e(0x874),'name':_0x44691e(0x7f7)},{'category':_0x44691e(0x1d8),'name':_0x44691e(0x34a)},{'category':_0x44691e(0x1d8),'name':_0x44691e(0x52a)},{'category':'สถิติและความน่าจะเป็น','name':_0x44691e(0x15f)},{'category':'สถิติและความน่าจะเป็น','name':_0x44691e(0x7f6)},{'category':_0x44691e(0x1d8),'name':_0x44691e(0x444)},{'category':_0x44691e(0x1d8),'name':_0x44691e(0x863)},{'category':_0x44691e(0x1d8),'name':_0x44691e(0x912)},{'category':_0x44691e(0x1d8),'name':_0x44691e(0x665)},{'category':_0x44691e(0x1d8),'name':_0x44691e(0x9dd)},{'category':'สถิติและความน่าจะเป็น','name':_0x44691e(0x632)},{'category':_0x44691e(0x1d8),'name':_0x44691e(0x28b)},{'category':_0x44691e(0x1d8),'name':'ความแปรปรวน'},{'category':_0x44691e(0x1d8),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x44691e(0x1d8),'name':_0x44691e(0x34b)},{'category':_0x44691e(0x1d8),'name':_0x44691e(0x927)},{'category':_0x44691e(0x1d8),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x44691e(0x1d8),'name':_0x44691e(0x9b1)},{'category':_0x44691e(0x1d8),'name':_0x44691e(0xb8b)},{'category':'สถิติและความน่าจะเป็น','name':_0x44691e(0x5c8)},{'category':_0x44691e(0x1d8),'name':_0x44691e(0xa6a)},{'category':_0x44691e(0x1d8),'name':_0x44691e(0xc57)},{'category':'สถิติและความน่าจะเป็น','name':_0x44691e(0x38a)},{'category':_0x44691e(0x1d8),'name':_0x44691e(0xbdf)},{'category':'สถิติและความน่าจะเป็น','name':_0x44691e(0xa37)},{'category':'แคลคูลัสเบื้องต้น','name':'ลิมิต'},{'category':_0x44691e(0xb74),'name':'ความต่อเนื่อง'},{'category':'แคลคูลัสเบื้องต้น','name':_0x44691e(0x905)},{'category':'แคลคูลัสเบื้องต้น','name':_0x44691e(0xcad)},{'category':'แคลคูลัสเบื้องต้น','name':_0x44691e(0x6d6)},{'category':_0x44691e(0xb74),'name':_0x44691e(0x254)},{'category':_0x44691e(0xb74),'name':_0x44691e(0x734)},{'category':_0x44691e(0xb74),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':'แคลคูลัสเบื้องต้น','name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x44691e(0xb74),'name':'ปริพันธ์ไม่จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':_0x44691e(0x2d0)},{'category':'แคลคูลัสเบื้องต้น','name':_0x44691e(0x2fe)},{'category':_0x44691e(0xb74),'name':_0x44691e(0x39b)},{'category':_0x44691e(0x2de),'name':_0x44691e(0x802)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x44691e(0x35b)},{'category':_0x44691e(0x2de),'name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':_0x44691e(0x2de),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'อินเวอร์สของเมทริกซ์'},{'category':_0x44691e(0x2de),'name':_0x44691e(0x2c3)},{'category':_0x44691e(0x2de),'name':_0x44691e(0x245)},{'category':_0x44691e(0x369),'name':_0x44691e(0x472)},{'category':_0x44691e(0x369),'name':_0x44691e(0xb2a)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x44691e(0x7bf)},{'category':_0x44691e(0x369),'name':_0x44691e(0x223)},{'category':_0x44691e(0x369),'name':_0x44691e(0x25b)},{'category':_0x44691e(0xb29),'name':_0x44691e(0xbc8)},{'category':_0x44691e(0xb29),'name':'รูปแบบการให้เหตุผล'},{'category':_0x44691e(0xb29),'name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x2cb1d2=_0x44691e,_0x4d717c=document[_0x2cb1d2(0xcac)](_0x2cb1d2(0x335));if(!_0x4d717c)return;const _0x5e1880=allMathTopics,_0x246ead=customMathTopics[_0x2cb1d2(0x39a)](_0x42bbc5=>({'id':_0x42bbc5['id'],'category':_0x2cb1d2(0x851),'name':_0x42bbc5['name']})),_0xb18378=[..._0x5e1880,..._0x246ead],_0x18559a=_0xb18378[_0x2cb1d2(0xa8a)]((_0x261f76,_0x28a346)=>{const _0x2562ca=_0x2cb1d2;return!_0x261f76[_0x28a346['category']]&&(_0x261f76[_0x28a346[_0x2562ca(0x9b7)]]=[]),_0x261f76[_0x28a346[_0x2562ca(0x9b7)]][_0x2562ca(0xa12)](_0x28a346),_0x261f76;},{});let _0x1aa6f6='';const _0x1665ea=[_0x2cb1d2(0x851),...Object[_0x2cb1d2(0x53e)](_0x18559a)[_0x2cb1d2(0x686)](_0x522162=>_0x522162!==_0x2cb1d2(0x851))];for(const _0x1a83af of _0x1665ea){if(_0x18559a[_0x1a83af]){const _0x4adc5d=_0x1a83af===_0x2cb1d2(0x851),_0x19722a=_0x4adc5d?_0x2cb1d2(0xba2):_0x2cb1d2(0xa0b),_0x4f5966=_0x4adc5d?_0x2cb1d2(0x5cc):_0x2cb1d2(0xb13);_0x1aa6f6+=_0x2cb1d2(0x817),_0x1aa6f6+=_0x2cb1d2(0x973)+_0x4f5966+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x19722a+_0x2cb1d2(0xc16)+_0x1a83af+'</p>',_0x18559a[_0x1a83af][_0x2cb1d2(0xc74)](_0x37454b=>{const _0x3e76b7=_0x2cb1d2,_0x577246=!!_0x37454b['id'],_0xc9e22d=_0x577246?_0x3e76b7(0xbf6)+_0x37454b['id']+_0x3e76b7(0x179)+_0x37454b['id']+_0x3e76b7(0x183)+_0x37454b['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x37454b['id']+_0x3e76b7(0x17d):'';_0x1aa6f6+=_0x3e76b7(0x706)+(_0x37454b['id']||'')+_0x3e76b7(0x62d)+_0x37454b[_0x3e76b7(0x8c8)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x37454b[_0x3e76b7(0x8c8)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x577246?_0x3e76b7(0x2e8)+_0x37454b[_0x3e76b7(0x8c8)]+'\x22>':'')+_0x3e76b7(0x6e0)+_0xc9e22d+_0x3e76b7(0x69c);}),_0x1aa6f6+='</div>';}}_0x4d717c[_0x2cb1d2(0x64a)]=_0x1aa6f6||_0x2cb1d2(0x653),_0x4d717c[_0x2cb1d2(0x4c9)](_0x2cb1d2(0x1d3),updateSelectedTopicsCount),_0x4d717c['addEventListener'](_0x2cb1d2(0x1d3),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x5e0c8d,_0x7df7e8){const _0x404e75=_0x44691e;if(!_0x5e0c8d||!_0x7df7e8[_0x404e75(0x5a4)]()){showMessage(_0x404e75(0xb59));return;}try{const _0x488a3d=doc(db,_0x404e75(0x1c4)+appId+'/public/data/customMathTopics',_0x5e0c8d);await updateDoc(_0x488a3d,{'name':_0x7df7e8['trim']()}),showMessage(_0x404e75(0xa6f));}catch(_0x3e3a7e){console[_0x404e75(0x723)]('Error\x20updating\x20custom\x20topic:',_0x3e3a7e),showMessage(_0x404e75(0x5c2));}}function toggleTopicEditMode(_0x392bc9,_0x57f9b1){const _0x35ca55=_0x44691e;if(!_0x392bc9)return;const _0x145372=_0x392bc9[_0x35ca55(0x909)](_0x35ca55(0x6bf)),_0x31eb56=_0x392bc9[_0x35ca55(0x909)](_0x35ca55(0x31c)),_0x2ce982=_0x392bc9[_0x35ca55(0x909)](_0x35ca55(0x37b)),_0x5eeb6c=_0x392bc9[_0x35ca55(0x909)](_0x35ca55(0x61b));_0x145372[_0x35ca55(0x534)]['toggle']('hidden',_0x57f9b1),_0x31eb56[_0x35ca55(0x534)]['toggle'](_0x35ca55(0xb2f),!_0x57f9b1),_0x2ce982[_0x35ca55(0x534)]['toggle'](_0x35ca55(0xb2f),_0x57f9b1),_0x5eeb6c[_0x35ca55(0x534)]['toggle'](_0x35ca55(0xb2f),!_0x57f9b1),_0x57f9b1&&(_0x31eb56[_0x35ca55(0x7a6)](),_0x31eb56[_0x35ca55(0x1eb)]());}async function handleStartLiveRace(_0x4443ce){const _0x23c3d1=_0x44691e;let _0x357e72=allQuizzes[_0x23c3d1(0xb3a)](_0x3b74c2=>_0x3b74c2['id']===_0x4443ce);if(!_0x357e72){const _0x3ef925=doc(db,_0x23c3d1(0x1c4)+appId+_0x23c3d1(0x1fa),_0x4443ce),_0x562e8a=await getDoc(_0x3ef925);if(!_0x562e8a[_0x23c3d1(0x72f)]()){showMessage(_0x23c3d1(0x809));return;}_0x357e72={'id':_0x562e8a['id'],..._0x562e8a[_0x23c3d1(0x2a7)]()};}const _0xcd94a5=getShuffledQuiz(_0x357e72);currentQuizData=_0xcd94a5;const _0x17ffa8=_0x357e72[_0x23c3d1(0x370)]||currentProjectId||null,_0x573753=Math['floor'](0x3e8+Math[_0x23c3d1(0x53f)]()*0x2328)['toString']();currentLiveGamePin=_0x573753;try{const _0xdf4165=await addDoc(collection(db,_0x23c3d1(0x1c4)+appId+_0x23c3d1(0x68d)),{'quizId':_0x4443ce,'projectId':_0x17ffa8,'status':_0x23c3d1(0x9f5),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x573753,'createdAt':serverTimestamp(),'shuffledQuiz':_0xcd94a5});currentLiveGameId=_0xdf4165['id'],showAdminLobbyView(_0x573753,_0x357e72[_0x23c3d1(0x180)]),listenForLiveGameUpdates();}catch(_0x5edec5){console[_0x23c3d1(0x723)](_0x23c3d1(0xb43),_0x5edec5),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}function updateSelectedTopicsCount(){const _0x50b5c3=_0x44691e,_0x4e2d40=document[_0x50b5c3(0xcac)](_0x50b5c3(0x335)),_0x3fb877=_0x4e2d40['querySelectorAll'](_0x50b5c3(0x63b))[_0x50b5c3(0x8b4)],_0x41c202=document[_0x50b5c3(0xcac)](_0x50b5c3(0x177));_0x3fb877>0x0?_0x41c202['textContent']=_0x50b5c3(0x93c)+_0x3fb877+_0x50b5c3(0xc67):_0x41c202[_0x50b5c3(0x20a)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x44691e(0xb07),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x44691e(0xc6a),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x44691e(0x760),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0x44691e(0x975),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x4d4a44,_0x4b979f){const _0x513f11=_0x44691e;return Math[_0x513f11(0x698)](Math['pow'](_0x4d4a44['x']-_0x4b979f['x'],0x2)+Math['pow'](_0x4d4a44['y']-_0x4b979f['y'],0x2));}function getMidpoint(_0x568bce,_0x1b7d5d){return{'x':(_0x568bce['x']+_0x1b7d5d['x'])/0x2,'y':(_0x568bce['y']+_0x1b7d5d['y'])/0x2};}function getTransformedPoint(_0xd8f6aa,_0x268d8a){return{'x':(_0xd8f6aa-scratchpadOffset['x'])/scratchpadScale,'y':(_0x268d8a-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x1d75c1=_0x44691e;if(!scratchpadCtx)return;const _0x3f8e39=scratchpadCtx[_0x1d75c1(0xc0c)],_0x15b8f6=window[_0x1d75c1(0x491)]||0x1,_0x15311a=document[_0x1d75c1(0xcac)](_0x1d75c1(0x1f2));_0x15311a&&(_0x15311a[_0x1d75c1(0xad3)][_0x1d75c1(0x709)]='0\x200',_0x15311a[_0x1d75c1(0xad3)]['transform']=_0x1d75c1(0x6e1)+scratchpadOffset['x']+_0x1d75c1(0x565)+scratchpadOffset['y']+_0x1d75c1(0x323)+scratchpadScale+')'),scratchpadCtx[_0x1d75c1(0x8f0)](),scratchpadCtx[_0x1d75c1(0x722)](_0x15b8f6,0x0,0x0,_0x15b8f6,0x0,0x0),scratchpadCtx[_0x1d75c1(0x937)](0x0,0x0,_0x3f8e39[_0x1d75c1(0x931)],_0x3f8e39['height']),scratchpadCtx['restore'](),scratchpadCtx[_0x1d75c1(0x8f0)](),scratchpadCtx[_0x1d75c1(0xb3c)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x1d75c1(0x70c)](scratchpadScale,scratchpadScale),strokes[_0x1d75c1(0xc74)](_0x585714=>{drawStroke(_0x585714);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function renderGroupModeQuestion(){const _0x1543fc=_0x44691e;if(localQuestionIndex>=currentQuizData[_0x1543fc(0x8f1)][_0x1543fc(0x8b4)]){displayTeamQuizFinalResults();return;}const _0x22e353=currentQuizData['questions'][localQuestionIndex],_0x2770f7=_0x22e353['questionType']||currentQuizData['quizType'];let _0x5586d2=_0x22e353[_0x1543fc(0x388)]||_0x22e353[_0x1543fc(0x83f)],_0x2fcc5b='';switch(_0x2770f7){case _0x1543fc(0xb47):case _0x1543fc(0x7cc):_0x2fcc5b=_0x22e353['options'][_0x1543fc(0x39a)]((_0x40c454,_0x47613c)=>_0x1543fc(0x9e9)+_0x47613c+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x47613c+_0x1543fc(0xb22)+_0x47613c+'\x22>'+_0x40c454+_0x1543fc(0xc97))[_0x1543fc(0xad6)]('');break;case'true_false':_0x2fcc5b=_0x1543fc(0x4b7);break;case _0x1543fc(0x982):case _0x1543fc(0x1ec):_0x2fcc5b=_0x1543fc(0x34c);break;case _0x1543fc(0xc00):_0x2fcc5b=_0x1543fc(0x4b8)+_0x22e353[_0x1543fc(0xa33)][_0x1543fc(0x39a)](_0x36182a=>_0x1543fc(0x458)+_0x36182a+'\x22>'+_0x36182a+_0x1543fc(0x61d))[_0x1543fc(0xad6)]('')+_0x1543fc(0x176);break;default:_0x2fcc5b=_0x1543fc(0x6d8);break;}studentQuizArea[_0x1543fc(0x64a)]=_0x1543fc(0xc9f)+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x1543fc(0x8f1)][_0x1543fc(0x8b4)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20'+localTeamPlayers[_0x1543fc(0xad6)](',\x20')+_0x1543fc(0xc43)+(localQuestionIndex+0x1)+'.\x20'+_0x5586d2+_0x1543fc(0x746)+(_0x22e353['imageCode']?_0x1543fc(0x86c)+_0x22e353[_0x1543fc(0x65a)]+_0x1543fc(0xbeb):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x2fcc5b+_0x1543fc(0x66a),studentQuizArea['classList'][_0x1543fc(0x392)]('hidden');if(window[_0x1543fc(0x2b2)])MathJax['typesetPromise']([studentQuizArea]);document['getElementById'](_0x1543fc(0x607))[_0x1543fc(0x36e)](_0x1543fc(0x486),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0xbd97af,_0x651be3=null,_0x1ceca,_0x15359f=null,_0x260c32=![],_0x2b0a49=null){const _0x2557aa=_0x44691e,_0x180e77=document['getElementById']('quiz-generation-area');_0x180e77&&_0x180e77['scrollIntoView']({'behavior':_0x2557aa(0x2ec),'block':_0x2557aa(0x847)}),generateQuiz(_0xbd97af,_0x651be3,null,_0x2b0a49,!![],_0x1ceca,_0x15359f,_0x260c32);}function handleGenerateAndShowLesson(_0x16d65e,_0x2efec4){const _0x2731be=_0x44691e,_0x552de5=document[_0x2731be(0xcac)](_0x2731be(0x58d)),_0x1f1d7c=document[_0x2731be(0xcac)]('lesson-view-title'),_0x3cb30b=document['getElementById'](_0x2731be(0x61f)),_0x5d5fdc=document[_0x2731be(0xcac)]('lesson-sections-container');[_0x2731be(0x270),_0x2731be(0x6c1),'applicationContent',_0x2731be(0xc8a)][_0x2731be(0xc74)](_0x65df0e=>{const _0x42eb8a=_0x2731be,_0x3afae9=document['getElementById'](_0x65df0e)['parentElement'];_0x3afae9&&(_0x3afae9[_0x42eb8a(0xad3)][_0x42eb8a(0xc4c)]=_0x42eb8a(0x85a));}),_0x1f1d7c[_0x2731be(0x20a)]=_0x2731be(0x216)+_0x16d65e,_0x5d5fdc[_0x2731be(0x534)][_0x2731be(0x174)](_0x2731be(0xb2f)),_0x3cb30b[_0x2731be(0x534)][_0x2731be(0x392)](_0x2731be(0xb2f)),_0x552de5[_0x2731be(0x534)]['remove'](_0x2731be(0xb2f)),generateLesson(_0x16d65e,_0x2efec4)['catch'](_0x598b76=>{const _0x40525f=_0x2731be;console[_0x40525f(0x723)](_0x40525f(0x75d),_0x598b76),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x552de5[_0x40525f(0x534)][_0x40525f(0x174)]('hidden');});}function handlePointerDown(_0x23de84){const _0x19766e=_0x44691e;_0x23de84['preventDefault']();const _0x3c2c03=scratchpadCtx['canvas'],_0x59fcef=_0x3c2c03[_0x19766e(0x26f)](),_0x3edf29=_0x23de84['pointerType']||(_0x23de84[_0x19766e(0xb1c)]?_0x19766e(0xaa8):_0x19766e(0x872));if(_0x3edf29===_0x19766e(0x99f)||_0x3edf29==='mouse'){if(_0x23de84[_0x19766e(0x586)]===_0x19766e(0x872)&&_0x23de84[_0x19766e(0x14b)]!==0x0){_0x23de84['button']===0x1&&(isMousePanning=!![],panStart={'x':_0x23de84['clientX'],'y':_0x23de84['clientY']},_0x3c2c03['style'][_0x19766e(0x28d)]=_0x19766e(0x28c));return;}activeTool===_0x19766e(0x838)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x2e739e=getTransformedPoint(_0x23de84['clientX']-_0x59fcef[_0x19766e(0x7d7)],_0x23de84[_0x19766e(0xa05)]-_0x59fcef['top']);let _0x56cdd9={'tool':activeTool,'points':[_0x2e739e]};if(activeTool===_0x19766e(0x324))_0x56cdd9[_0x19766e(0xbaa)]=scratchpadHighlighterColor,_0x56cdd9[_0x19766e(0x253)]=scratchpadHighlighterSize;else activeTool===_0x19766e(0x838)?(_0x56cdd9[_0x19766e(0xbaa)]=scratchpadPenColor,_0x56cdd9[_0x19766e(0x253)]=scratchpadPenSize):(_0x56cdd9[_0x19766e(0xbaa)]=scratchpadPenColor,_0x56cdd9['size']=scratchpadPenSize);currentStroke=_0x56cdd9;}else _0x23de84['touches']&&(_0x23de84['touches'][_0x19766e(0x8b4)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x23de84[_0x19766e(0xb1c)][0x0]['clientX'],'y':_0x23de84[_0x19766e(0xb1c)][0x0][_0x19766e(0xa05)]},{'x':_0x23de84['touches'][0x1][_0x19766e(0x4ea)],'y':_0x23de84[_0x19766e(0xb1c)][0x1][_0x19766e(0xa05)]}),initialPinchDistance=getDistance({'x':_0x23de84[_0x19766e(0xb1c)][0x0][_0x19766e(0x4ea)],'y':_0x23de84[_0x19766e(0xb1c)][0x0][_0x19766e(0xa05)]},{'x':_0x23de84['touches'][0x1][_0x19766e(0x4ea)],'y':_0x23de84[_0x19766e(0xb1c)][0x1]['clientY']})));}function animateTrail(){const _0x532970=_0x44691e,_0x3d2172=Date[_0x532970(0xc85)]();let _0x2e6844=![];for(let _0x5f15ad=strokes['length']-0x1;_0x5f15ad>=0x0;_0x5f15ad--){const _0x2005bc=strokes[_0x5f15ad];if(_0x2005bc[_0x532970(0x249)]===_0x532970(0x838)&&_0x2005bc[_0x532970(0xa77)]){const _0x367abc=_0x3d2172-_0x2005bc[_0x532970(0xa77)];_0x367abc>=TRAIL_DURATION?strokes[_0x532970(0x556)](_0x5f15ad,0x1):(_0x2005bc[_0x532970(0x285)]=0x1-_0x367abc/TRAIL_DURATION,_0x2e6844=!![]);}}redrawScratchpad(),_0x2e6844?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x18cc76){const _0x69e791=_0x44691e;if(!_0x18cc76||_0x18cc76[_0x69e791(0x433)][_0x69e791(0x8b4)]<0x1)return;scratchpadCtx[_0x69e791(0x8f0)](),scratchpadCtx[_0x69e791(0xab6)]=_0x69e791(0x372),scratchpadCtx[_0x69e791(0x463)]='round';if(_0x18cc76[_0x69e791(0x249)]===_0x69e791(0x838)){const _0x467924=_0x18cc76[_0x69e791(0x253)]/scratchpadScale;scratchpadCtx['globalAlpha']=_0x18cc76['opacity']??0x1,scratchpadCtx['shadowColor']=_0x69e791(0x5de),scratchpadCtx[_0x69e791(0xc3d)]=_0x467924*0x3,scratchpadCtx['strokeStyle']='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x69e791(0x239)]=_0x467924*2.5,scratchpadCtx[_0x69e791(0x9b2)](),scratchpadCtx['moveTo'](_0x18cc76[_0x69e791(0x433)][0x0]['x'],_0x18cc76['points'][0x0]['y']);for(let _0x5750c0=0x1;_0x5750c0<_0x18cc76[_0x69e791(0x433)]['length']-0x1;_0x5750c0++){const _0x3d88b5=getMidpoint(_0x18cc76[_0x69e791(0x433)][_0x5750c0],_0x18cc76['points'][_0x5750c0+0x1]);scratchpadCtx[_0x69e791(0x9ea)](_0x18cc76[_0x69e791(0x433)][_0x5750c0]['x'],_0x18cc76['points'][_0x5750c0]['y'],_0x3d88b5['x'],_0x3d88b5['y']);}scratchpadCtx[_0x69e791(0x1df)](),scratchpadCtx[_0x69e791(0x24e)]=_0x69e791(0x6bd),scratchpadCtx['shadowBlur']=0x0,scratchpadCtx['strokeStyle']=_0x69e791(0x1a3),scratchpadCtx[_0x69e791(0x239)]=_0x467924,scratchpadCtx['stroke'](),scratchpadCtx[_0x69e791(0xc76)]();}else{if(_0x18cc76[_0x69e791(0x249)]==='highlighter'){scratchpadCtx[_0x69e791(0x7cb)]='multiply',scratchpadCtx['strokeStyle']=_0x18cc76[_0x69e791(0xbaa)],scratchpadCtx[_0x69e791(0x239)]=_0x18cc76[_0x69e791(0x253)],scratchpadCtx[_0x69e791(0x9b2)](),scratchpadCtx[_0x69e791(0x703)](_0x18cc76['points'][0x0]['x'],_0x18cc76[_0x69e791(0x433)][0x0]['y']);for(let _0x3c50a1=0x1;_0x3c50a1<_0x18cc76['points'][_0x69e791(0x8b4)]-0x1;_0x3c50a1++){const _0x40c16e=getMidpoint(_0x18cc76[_0x69e791(0x433)][_0x3c50a1],_0x18cc76[_0x69e791(0x433)][_0x3c50a1+0x1]);scratchpadCtx[_0x69e791(0x9ea)](_0x18cc76[_0x69e791(0x433)][_0x3c50a1]['x'],_0x18cc76[_0x69e791(0x433)][_0x3c50a1]['y'],_0x40c16e['x'],_0x40c16e['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x69e791(0xc76)]();}else{scratchpadCtx['globalCompositeOperation']=_0x18cc76['tool']===_0x69e791(0x5d5)?'destination-out':'source-over',scratchpadCtx[_0x69e791(0x493)]=_0x18cc76[_0x69e791(0xbaa)],scratchpadCtx[_0x69e791(0x239)]=_0x18cc76[_0x69e791(0x253)],scratchpadCtx[_0x69e791(0x9b2)](),scratchpadCtx[_0x69e791(0x703)](_0x18cc76[_0x69e791(0x433)][0x0]['x'],_0x18cc76[_0x69e791(0x433)][0x0]['y']);for(let _0x2cf50e=0x1;_0x2cf50e<_0x18cc76[_0x69e791(0x433)][_0x69e791(0x8b4)]-0x1;_0x2cf50e++){const _0x10633f=getMidpoint(_0x18cc76[_0x69e791(0x433)][_0x2cf50e],_0x18cc76[_0x69e791(0x433)][_0x2cf50e+0x1]);scratchpadCtx[_0x69e791(0x9ea)](_0x18cc76[_0x69e791(0x433)][_0x2cf50e]['x'],_0x18cc76[_0x69e791(0x433)][_0x2cf50e]['y'],_0x10633f['x'],_0x10633f['y']);}scratchpadCtx[_0x69e791(0x1df)](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x69e791(0x710)]();}function handlePointerMove(_0x4241fb){const _0x1cf53e=_0x44691e;_0x4241fb['preventDefault']();const _0x3b34f0=scratchpadCtx[_0x1cf53e(0xc0c)],_0x2e5efa=_0x3b34f0[_0x1cf53e(0x26f)]();if(_0x4241fb[_0x1cf53e(0xb1c)]){if(_0x4241fb['touches'][_0x1cf53e(0x8b4)]===0x1&&isDrawingOnScratchpad){const _0x5b9b87=getTransformedPoint(_0x4241fb[_0x1cf53e(0xb1c)][0x0]['clientX']-_0x2e5efa[_0x1cf53e(0x7d7)],_0x4241fb['touches'][0x0][_0x1cf53e(0xa05)]-_0x2e5efa['top']);currentStroke[_0x1cf53e(0x433)][_0x1cf53e(0xa12)](_0x5b9b87),redrawScratchpad();}else{if(_0x4241fb[_0x1cf53e(0xb1c)]['length']===0x2&&isPanning){const _0x253416=getDistance({'x':_0x4241fb[_0x1cf53e(0xb1c)][0x0]['clientX'],'y':_0x4241fb[_0x1cf53e(0xb1c)][0x0][_0x1cf53e(0xa05)]},{'x':_0x4241fb[_0x1cf53e(0xb1c)][0x1][_0x1cf53e(0x4ea)],'y':_0x4241fb[_0x1cf53e(0xb1c)][0x1][_0x1cf53e(0xa05)]}),_0x12ac94=getMidpoint({'x':_0x4241fb[_0x1cf53e(0xb1c)][0x0][_0x1cf53e(0x4ea)],'y':_0x4241fb['touches'][0x0][_0x1cf53e(0xa05)]},{'x':_0x4241fb['touches'][0x1][_0x1cf53e(0x4ea)],'y':_0x4241fb[_0x1cf53e(0xb1c)][0x1][_0x1cf53e(0xa05)]}),_0x53f461=_0x253416/ initialPinchDistance,_0x47205b=Math['min'](Math[_0x1cf53e(0xc36)](scratchpadScale*_0x53f461,MIN_SCALE),MAX_SCALE),_0x2cd78f=_0x12ac94['x']-panStart['x'],_0x17d073=_0x12ac94['y']-panStart['y'];scratchpadOffset['x']=_0x12ac94['x']-(_0x12ac94['x']-scratchpadOffset['x'])*(_0x47205b/scratchpadScale),scratchpadOffset['y']=_0x12ac94['y']-(_0x12ac94['y']-scratchpadOffset['y'])*(_0x47205b/scratchpadScale),scratchpadOffset['x']+=_0x2cd78f,scratchpadOffset['y']+=_0x17d073,scratchpadScale=_0x47205b,initialPinchDistance=_0x253416,panStart=_0x12ac94,redrawScratchpad();}}}else{if(isMousePanning){const _0x5e1c52=_0x4241fb['clientX']-panStart['x'],_0x57abd0=_0x4241fb[_0x1cf53e(0xa05)]-panStart['y'];scratchpadOffset['x']+=_0x5e1c52,scratchpadOffset['y']+=_0x57abd0,panStart={'x':_0x4241fb[_0x1cf53e(0x4ea)],'y':_0x4241fb[_0x1cf53e(0xa05)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x2748e0=getTransformedPoint(_0x4241fb['clientX']-_0x2e5efa[_0x1cf53e(0x7d7)],_0x4241fb['clientY']-_0x2e5efa[_0x1cf53e(0x5ae)]);currentStroke[_0x1cf53e(0x433)][_0x1cf53e(0xa12)](_0x2748e0),redrawScratchpad();}}}}function handlePointerUp(_0x40de79){const _0x346f29=_0x44691e;_0x40de79[_0x346f29(0x294)]();const _0x530bc7=scratchpadCtx[_0x346f29(0xc0c)];isMousePanning&&(isMousePanning=![],_0x530bc7[_0x346f29(0xad3)][_0x346f29(0x28d)]=_0x346f29(0x90e)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x346f29(0x433)][_0x346f29(0x8b4)]>0x1&&(strokes[_0x346f29(0xa12)](currentStroke),currentStroke[_0x346f29(0x249)]===_0x346f29(0x838)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x452524=_0x346f29,_0x44f7d3=strokes[_0x452524(0x686)](_0x4f3fa1=>_0x4f3fa1[_0x452524(0x249)]===_0x452524(0x838)&&!_0x4f3fa1[_0x452524(0xa77)]);if(_0x44f7d3[_0x452524(0x8b4)]>0x0){const _0x639fad=Date[_0x452524(0xc85)]();_0x44f7d3[_0x452524(0xc74)](_0x1766ea=>_0x1766ea['fadeStartTime']=_0x639fad),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x35b6cd){const _0x15db8c=_0x44691e;_0x35b6cd[_0x15db8c(0x294)]();const _0x388172=_0x35b6cd[_0x15db8c(0x1c1)]*-0.005,_0xf8f179=Math['min'](Math[_0x15db8c(0xc36)](scratchpadScale+_0x388172,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x35b6cd['clientX']-(_0x35b6cd[_0x15db8c(0x4ea)]-scratchpadOffset['x'])*(_0xf8f179/scratchpadScale),scratchpadOffset['y']=_0x35b6cd[_0x15db8c(0xa05)]-(_0x35b6cd['clientY']-scratchpadOffset['y'])*(_0xf8f179/scratchpadScale),scratchpadScale=_0xf8f179,redrawScratchpad();}function undo(){const _0x53012e=_0x44691e;strokes[_0x53012e(0x8b4)]>0x0&&(redoStrokes[_0x53012e(0xa12)](strokes[_0x53012e(0x355)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x1acca1=_0x44691e;redoStrokes[_0x1acca1(0x8b4)]>0x0&&(strokes[_0x1acca1(0xa12)](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x185c93=_0x44691e;document[_0x185c93(0xcac)](_0x185c93(0x172))[_0x185c93(0x585)]=strokes[_0x185c93(0x8b4)]===0x0,document[_0x185c93(0xcac)]('redo-btn')[_0x185c93(0x585)]=redoStrokes[_0x185c93(0x8b4)]===0x0;}function openScratchpad(_0x59c0d6,_0x47f39e){const _0x25753b=_0x44691e,_0xe63d55=document[_0x25753b(0xcac)](_0x25753b(0x1da)),_0x57ba97=document[_0x25753b(0xcac)]('scratchpad-question'),_0x364515=document[_0x25753b(0xcac)]('scratchpad-options'),_0x3e2573=document[_0x25753b(0xcac)](_0x25753b(0x14f));_0x57ba97[_0x25753b(0x64a)]=_0x59c0d6['stem']||_0x59c0d6[_0x25753b(0x83f)],_0x364515[_0x25753b(0x64a)]=_0x47f39e['map']((_0x2309ba,_0x471f59)=>'<div>'+String[_0x25753b(0x163)](0x41+_0x471f59)+'.\x20'+_0x2309ba+_0x25753b(0xbeb))[_0x25753b(0xad6)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0xe63d55[_0x25753b(0x534)]['remove'](_0x25753b(0xb2f)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x25753b(0x2b2)])MathJax[_0x25753b(0xca5)]([_0x57ba97,_0x364515]);}function openBlueprintQuizSettings(){const _0x565131=_0x44691e,_0x2d61b2=document[_0x565131(0xcac)]('blueprint-settings-modal'),_0xec1484=blueprintPageSettings||(currentProjectData?currentProjectData['settings']:{})||{};document[_0x565131(0xcac)]('bp-modal-quiz-type-select')['value']=_0xec1484[_0x565131(0x196)]||document[_0x565131(0xcac)](_0x565131(0x831))['value'],document[_0x565131(0xcac)](_0x565131(0x49b))[_0x565131(0x64a)]=document[_0x565131(0xcac)](_0x565131(0xb6e))[_0x565131(0x64a)],document[_0x565131(0xcac)](_0x565131(0x49b))[_0x565131(0x1a0)]=_0xec1484[_0x565131(0x841)]||document['getElementById'](_0x565131(0xb6e))['value'],document['getElementById'](_0x565131(0x3f3))[_0x565131(0x64a)]=document[_0x565131(0xcac)](_0x565131(0x833))[_0x565131(0x64a)],document[_0x565131(0xcac)]('bp-modal-question-complexity-select')['value']=_0xec1484[_0x565131(0x5ce)]||document[_0x565131(0xcac)](_0x565131(0x833))[_0x565131(0x1a0)],document[_0x565131(0xcac)](_0x565131(0x713))[_0x565131(0x1a0)]=_0xec1484[_0x565131(0xc58)]||document[_0x565131(0xcac)]('num-questions')[_0x565131(0x1a0)],document['getElementById'](_0x565131(0x422))[_0x565131(0x1a0)]=_0xec1484['passingScore']||document[_0x565131(0xcac)](_0x565131(0x623))[_0x565131(0x1a0)],document[_0x565131(0xcac)](_0x565131(0x46d))[_0x565131(0x1a0)]=_0xec1484['numChoices']||document[_0x565131(0xcac)](_0x565131(0xca6))['value'],document['getElementById'](_0x565131(0x68a))[_0x565131(0x1a0)]=_0xec1484[_0x565131(0xb4a)]||document['getElementById']('shuffle-setting-select')[_0x565131(0x1a0)],document[_0x565131(0xcac)](_0x565131(0x209))[_0x565131(0x553)]=_0xec1484[_0x565131(0x454)]||document['getElementById'](_0x565131(0x38c))[_0x565131(0x553)],_0x2d61b2[_0x565131(0x534)][_0x565131(0x392)](_0x565131(0xb2f));}function handleSaveBlueprintPageSettings(){const _0x14c989=_0x44691e;blueprintPageSettings={'quizType':document[_0x14c989(0xcac)](_0x14c989(0x4e4))[_0x14c989(0x1a0)],'difficultyValue':document[_0x14c989(0xcac)](_0x14c989(0x49b))['value'],'complexityValue':document[_0x14c989(0xcac)](_0x14c989(0x3f3))[_0x14c989(0x1a0)],'numQuestions':document['getElementById'](_0x14c989(0x713))['value'],'passingScore':document[_0x14c989(0xcac)](_0x14c989(0x422))[_0x14c989(0x1a0)],'numChoices':document[_0x14c989(0xcac)]('bp-modal-num-choices')[_0x14c989(0x1a0)],'shuffle':document[_0x14c989(0xcac)](_0x14c989(0x68a))[_0x14c989(0x1a0)],'includeImages':document['getElementById'](_0x14c989(0x209))['checked']},showMessage('บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว'),document[_0x14c989(0xcac)](_0x14c989(0x2e4))[_0x14c989(0x534)]['add'](_0x14c989(0xb2f));}function listenForParallelTestShortcuts(){const _0x1117d9=doc(db,'globalSettings','parallelTestShortcutsConfig');onSnapshot(_0x1117d9,_0x331cf2=>{const _0xb56b17=_0x3aeb;let _0x230f4e=[],_0x4f60d9=[],_0x501a85={};if(_0x331cf2[_0xb56b17(0x72f)]()){const _0x24b827=_0x331cf2['data']();_0x230f4e=_0x24b827[_0xb56b17(0x712)]||[],_0x4f60d9=_0x24b827[_0xb56b17(0x98d)]||[],_0x501a85=_0x24b827[_0xb56b17(0x9fa)]||{};}!_0x4f60d9[_0xb56b17(0xb3a)](_0x38a9bd=>_0x38a9bd['id']===_0xb56b17(0x2c7))&&_0x4f60d9[_0xb56b17(0x6d9)]({'id':_0xb56b17(0x2c7),'name':_0xb56b17(0x356),'isDefault':!![]}),!_0x230f4e[_0xb56b17(0xb3a)](_0x120152=>_0x120152['id']===_0xb56b17(0xc99))&&_0x230f4e[_0xb56b17(0x6d9)]({'id':_0xb56b17(0xc99),'name':_0xb56b17(0x747),'url':'','isDefault':!![]}),!_0x230f4e[_0xb56b17(0xb3a)](_0xe04359=>_0xe04359['id']===_0xb56b17(0x4a8))&&_0x230f4e[_0xb56b17(0x6d9)]({'id':'parallel-default-2','name':'ต้นฉบับ\x202','url':'','isDefault':!![]}),parallelTestShortcuts=_0x230f4e,parallelShortcutTabs=_0x4f60d9,parallelShortcutOrder=_0x501a85,renderParallelTestShortcuts(),!document[_0xb56b17(0xcac)](_0xb56b17(0x9a9))[_0xb56b17(0x534)]['contains'](_0xb56b17(0xb2f))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0xe28f3c=_0x44691e,_0x5bf142=doc(db,_0xe28f3c(0x2bd),_0xe28f3c(0xb37));try{await setDoc(_0x5bf142,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x5bf04a){console['error'](_0xe28f3c(0x3f0),_0x5bf04a);}}function renderAdditionalParallelShortcutsModal(){const _0x3c5136=_0x44691e,_0x4cb1a2=document['getElementById'](_0x3c5136(0x6f6)),_0x4f9c06=document[_0x3c5136(0xcac)](_0x3c5136(0xbf3));if(!_0x4cb1a2||!_0x4f9c06)return;_0x4cb1a2[_0x3c5136(0x64a)]=parallelShortcutTabs[_0x3c5136(0x39a)](_0x3361da=>{const _0x253663=_0x3c5136,_0x5118cf=_0x3361da['id']===activeParallelShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x3361da['id']+_0x253663(0xb14)+(_0x5118cf?'border-indigo-500\x20text-indigo-600':_0x253663(0x820))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x3361da[_0x253663(0x8c8)]+_0x253663(0xb76)+_0x3361da[_0x253663(0x8c8)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x3361da[_0x253663(0x1b0)]?'<button\x20data-tab-id=\x22'+_0x3361da['id']+_0x253663(0x54b):'')+_0x253663(0x36b);})[_0x3c5136(0xad6)]('');const _0xbeea69=parallelShortcutTabs[_0x3c5136(0xb3a)](_0x16eb07=>_0x16eb07['id']===activeParallelShortcutTabId);let _0x416e52=_0xbeea69?.[_0x3c5136(0x1b0)]?[...parallelTestShortcuts]:parallelTestShortcuts['filter'](_0x49fad2=>(_0xbeea69?.[_0x3c5136(0x191)]||[])['includes'](_0x49fad2['id']));const _0x30f497=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x416e52[_0x3c5136(0xa24)]((_0x3a52c2,_0x2ca647)=>{const _0x1852d8=_0x3c5136,_0x5a5c9d=_0x30f497['indexOf'](_0x3a52c2['id']),_0x4644bc=_0x30f497[_0x1852d8(0x983)](_0x2ca647['id']);return(_0x5a5c9d===-0x1?Infinity:_0x5a5c9d)-(_0x4644bc===-0x1?Infinity:_0x4644bc);}),_0x4f9c06[_0x3c5136(0x64a)]=_0x416e52[_0x3c5136(0x39a)](_0x12139a=>{const _0xea714=_0x3c5136,_0x2fecfe=_0x12139a[_0xea714(0x21f)]?'🔁':'🔗',_0x3dbb06=parallelShortcutTabs[_0xea714(0x686)](_0x1b6425=>!_0x1b6425[_0xea714(0x1b0)]),_0x4a77e8=_0xbeea69['isDefault']&&_0x3dbb06[_0xea714(0x8b4)]>0x0?_0xea714(0x188)+_0x3dbb06[_0xea714(0x39a)](_0x49c7eb=>_0xea714(0x9f8)+_0x12139a['id']+_0xea714(0x500)+_0x49c7eb['id']+'\x22>'+_0x49c7eb[_0xea714(0x8c8)]+_0xea714(0x198))[_0xea714(0xad6)]('')+_0xea714(0x8eb):'';return _0xea714(0x94f)+_0x12139a['id']+_0xea714(0x73b)+_0x2fecfe+'\x20'+_0x12139a['name']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x12139a['id']+_0xea714(0x6ca)+_0x12139a['id']+_0xea714(0x687)+(!_0x12139a[_0xea714(0x1b0)]?'<button\x20data-id=\x22'+_0x12139a['id']+_0xea714(0x7a9):'')+_0xea714(0x768)+(!_0xbeea69[_0xea714(0x1b0)]?_0xea714(0x69e)+_0x12139a['id']+_0xea714(0x7e9):'')+_0xea714(0x768)+_0x4a77e8+_0xea714(0x8ad);})['join']('')||_0x3c5136(0x956),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x1752c5=_0x44691e;document[_0x1752c5(0x32a)](_0x1752c5(0x462))[_0x1752c5(0xc74)](_0x49d709=>{const _0x30f8ab=_0x1752c5;_0x49d709[_0x30f8ab(0x800)]=_0x183b70=>{const _0x30667b=_0x30f8ab;activeParallelShortcutTabId=_0x183b70[_0x30667b(0x164)]['dataset']['tabId'],renderAdditionalParallelShortcutsModal();},_0x49d709[_0x30f8ab(0xa17)]=_0x397b71=>{const _0x4fca04=_0x30f8ab,_0x540e1f=_0x397b71['currentTarget']['querySelector'](_0x4fca04(0x7e2));_0x397b71[_0x4fca04(0x164)]['querySelector'](_0x4fca04(0xbf5))[_0x4fca04(0x534)]['add'](_0x4fca04(0xb2f)),_0x540e1f[_0x4fca04(0x534)][_0x4fca04(0x392)](_0x4fca04(0xb2f)),_0x540e1f[_0x4fca04(0x7a6)](),_0x540e1f[_0x4fca04(0x1eb)]();};}),document[_0x1752c5(0x32a)]('#parallel-shortcut-tabs-nav\x20.tab-name-input')[_0x1752c5(0xc74)](_0x511d2b=>{const _0x1f3f49=_0x1752c5,_0x3ae145=()=>{const _0x3a9499=_0x3aeb,_0x315bff=_0x511d2b[_0x3a9499(0xa54)](_0x3a9499(0x462))['dataset'][_0x3a9499(0x145)],_0xabb412=parallelShortcutTabs[_0x3a9499(0xb3a)](_0x2fee30=>_0x2fee30['id']===_0x315bff);_0xabb412&&(_0xabb412[_0x3a9499(0x8c8)]=_0x511d2b[_0x3a9499(0x1a0)][_0x3a9499(0x5a4)]()||_0xabb412['name'],saveParallelShortcutConfig());};_0x511d2b[_0x1f3f49(0x5fa)]=_0x3ae145,_0x511d2b['onkeydown']=_0x59e8d6=>{const _0x156be7=_0x1f3f49;if(_0x59e8d6[_0x156be7(0xbc3)]===_0x156be7(0x3eb))_0x511d2b['blur']();};}),document[_0x1752c5(0x32a)](_0x1752c5(0x5fb))[_0x1752c5(0xc74)](_0x1e4dad=>_0x1e4dad[_0x1752c5(0x800)]=_0x3f3c04=>{const _0x5da10a=_0x1752c5,_0x42d669=_0x3f3c04['currentTarget'][_0x5da10a(0x5fd)][_0x5da10a(0x145)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x34d38f=_0x5da10a;parallelShortcutTabs=parallelShortcutTabs[_0x34d38f(0x686)](_0x546919=>_0x546919['id']!==_0x42d669),delete parallelShortcutOrder[_0x42d669];if(activeParallelShortcutTabId===_0x42d669)activeParallelShortcutTabId=_0x34d38f(0x2c7);saveParallelShortcutConfig();});}),document[_0x1752c5(0x32a)]('.move-parallel-shortcut-item')['forEach'](_0x463ee0=>_0x463ee0[_0x1752c5(0x800)]=_0x5c80e3=>{const _0x1c1bc4=_0x1752c5;_0x5c80e3['preventDefault']();const {shortcutId:_0x4a50fc,targetTabId:_0x474c04}=_0x5c80e3['currentTarget'][_0x1c1bc4(0x5fd)],_0xab7501=parallelShortcutTabs[_0x1c1bc4(0xb3a)](_0x58ec89=>_0x58ec89['id']===_0x474c04);_0xab7501&&!_0xab7501['shortcutIds'][_0x1c1bc4(0x764)](_0x4a50fc)&&(_0xab7501[_0x1c1bc4(0x191)]['push'](_0x4a50fc),saveParallelShortcutConfig());}),document[_0x1752c5(0x32a)](_0x1752c5(0x9fd))['forEach'](_0x3a422b=>_0x3a422b['onclick']=_0xe0ca20=>{const _0x3d0618=_0x1752c5,_0x364354=_0xe0ca20[_0x3d0618(0x164)]['dataset'][_0x3d0618(0xc10)],_0x43c589=parallelShortcutTabs['find'](_0x80d35b=>_0x80d35b['id']===activeParallelShortcutTabId);_0x43c589&&!_0x43c589[_0x3d0618(0x1b0)]&&(_0x43c589[_0x3d0618(0x191)]=_0x43c589[_0x3d0618(0x191)]['filter'](_0x34400c=>_0x34400c!==_0x364354),saveParallelShortcutConfig());}),document[_0x1752c5(0x32a)]('.move-parallel-shortcut-menu-btn')['forEach'](_0x481a1e=>_0x481a1e['onclick']=_0x6451a5=>{const _0x1a2d01=_0x1752c5;_0x6451a5[_0x1a2d01(0x517)]();const _0x45ca0f=_0x6451a5[_0x1a2d01(0x164)][_0x1a2d01(0x429)];document['querySelectorAll'](_0x1a2d01(0x504))[_0x1a2d01(0xc74)](_0x29fa39=>_0x29fa39[_0x1a2d01(0x534)][_0x1a2d01(0x174)](_0x1a2d01(0xb2f))),_0x45ca0f[_0x1a2d01(0x534)][_0x1a2d01(0x392)](_0x1a2d01(0xb2f));});const _0x151eb2=document['getElementById'](_0x1752c5(0xbf3));let _0x2350ce=null;_0x151eb2[_0x1752c5(0x86a)]=_0x5984ab=>{const _0x370627=_0x1752c5;_0x2350ce=_0x5984ab[_0x370627(0xa9f)][_0x370627(0xa54)](_0x370627(0x54c));if(_0x2350ce)setTimeout(()=>_0x2350ce[_0x370627(0x534)][_0x370627(0x174)](_0x370627(0x2f9)),0x0);},_0x151eb2['ondragend']=()=>{const _0x584f5a=_0x1752c5;_0x2350ce&&(_0x2350ce[_0x584f5a(0x534)][_0x584f5a(0x392)]('opacity-50'),_0x2350ce=null);},_0x151eb2[_0x1752c5(0x541)]=_0x2f49b3=>{const _0x2d6261=_0x1752c5;_0x2f49b3[_0x2d6261(0x294)]();},_0x151eb2[_0x1752c5(0xa83)]=_0x3a45f8=>{const _0x45448c=_0x1752c5;_0x3a45f8['preventDefault']();if(_0x2350ce){const _0x4c0ea3=[..._0x151eb2['querySelectorAll']('.shortcut-list-item:not(.opacity-50)')]['reduce']((_0x504806,_0x157350)=>{const _0x5dba6b=_0x3aeb,_0x3c43da=_0x157350['getBoundingClientRect'](),_0x203095=_0x3a45f8['clientY']-_0x3c43da[_0x5dba6b(0x5ae)]-_0x3c43da[_0x5dba6b(0x2fb)]/0x2;return _0x203095<0x0&&_0x203095>_0x504806[_0x5dba6b(0x9ad)]?{'offset':_0x203095,'element':_0x157350}:_0x504806;},{'offset':Number[_0x45448c(0x8d6)]})[_0x45448c(0x2d8)];_0x4c0ea3==null?_0x151eb2[_0x45448c(0x740)](_0x2350ce):_0x151eb2['insertBefore'](_0x2350ce,_0x4c0ea3);const _0x27ffd3=[..._0x151eb2[_0x45448c(0x32a)]('.shortcut-list-item')][_0x45448c(0x39a)](_0x551556=>_0x551556[_0x45448c(0x5fd)][_0x45448c(0xc10)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x27ffd3,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x32256c=_0x44691e,_0x2c4b71=prompt(_0x32256c(0x84b),_0x32256c(0x86b));_0x2c4b71&&_0x2c4b71[_0x32256c(0x5a4)]()&&(parallelShortcutTabs[_0x32256c(0xa12)]({'id':_0x32256c(0x65f)+Date[_0x32256c(0xc85)](),'name':_0x2c4b71[_0x32256c(0x5a4)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x9ed9e8=_0x44691e,_0x256696=document[_0x9ed9e8(0xcac)](_0x9ed9e8(0x3f9)),_0x29d69e=document[_0x9ed9e8(0xcac)](_0x9ed9e8(0xbf3)),_0x59cdd3=document[_0x9ed9e8(0xcac)](_0x9ed9e8(0x959));if(_0x59cdd3)_0x59cdd3[_0x9ed9e8(0x534)][_0x9ed9e8(0x174)](_0x9ed9e8(0xb2f));if(!_0x256696||!_0x29d69e)return;const _0xdc2359=parallelTestShortcuts[_0x9ed9e8(0x18e)](0x0,0x4),_0x359736=parallelTestShortcuts[_0x9ed9e8(0x18e)](0x4);_0x256696[_0x9ed9e8(0x64a)]=_0xdc2359[_0x9ed9e8(0x39a)](_0x180b62=>{const _0x3ac72e=_0x9ed9e8,_0x1abdde=_0x180b62[_0x3ac72e(0x21f)]&&_0x180b62[_0x3ac72e(0x21f)]['trim']()!=='',_0x488c0e=_0x1abdde?'bg-teal-500\x20hover:bg-teal-600\x20text-white':_0x3ac72e(0x6fb),_0x3ec3a2=_0x1abdde?'🔁':'🔗',_0x3adadd=!_0x180b62[_0x3ac72e(0x1b0)]?_0x3ac72e(0x208)+_0x180b62['id']+_0x3ac72e(0xc7d):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x180b62['id']+_0x3ac72e(0x994)+_0x488c0e+_0x3ac72e(0x806)+_0x3ec3a2+'\x20'+_0x180b62[_0x3ac72e(0x8c8)]+_0x3ac72e(0xad5)+_0x180b62['id']+_0x3ac72e(0x396)+_0x3adadd+_0x3ac72e(0xbd6);})[_0x9ed9e8(0xad6)](''),_0x359736[_0x9ed9e8(0x8b4)]>0x0&&(_0x256696[_0x9ed9e8(0x64a)]+=_0x9ed9e8(0x15d)),_0x359736[_0x9ed9e8(0x8b4)]>0x0?_0x29d69e[_0x9ed9e8(0x64a)]=_0x359736[_0x9ed9e8(0x39a)](_0x4eda0d=>_0x9ed9e8(0xba4)+(_0x4eda0d[_0x9ed9e8(0x21f)]?'🔁':'🔗')+'\x20'+_0x4eda0d['name']+_0x9ed9e8(0x999)+_0x4eda0d['id']+_0x9ed9e8(0x852)+_0x4eda0d['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4eda0d[_0x9ed9e8(0x1b0)]?_0x9ed9e8(0x208)+_0x4eda0d['id']+_0x9ed9e8(0x7a9):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x9ed9e8(0xad6)](''):_0x29d69e[_0x9ed9e8(0x64a)]=_0x9ed9e8(0xa16);}function openParallelTestShortcutEditor(_0x49db63=null){const _0x8f2505=_0x44691e,_0x46e837=document[_0x8f2505(0xcac)](_0x8f2505(0x181)),_0x232a2f=document[_0x8f2505(0xcac)](_0x8f2505(0x9d0)),_0x689a45=document[_0x8f2505(0xcac)](_0x8f2505(0x3d3)),_0x2469db=document[_0x8f2505(0xcac)](_0x8f2505(0x512)),_0x2edbdf=document[_0x8f2505(0xcac)](_0x8f2505(0xb16));if(_0x49db63){const _0x141155=parallelTestShortcuts[_0x8f2505(0xb3a)](_0x70cded=>_0x70cded['id']===_0x49db63);if(!_0x141155)return;_0x232a2f[_0x8f2505(0x20a)]=_0x8f2505(0x60c),_0x689a45['value']=_0x141155['id'],_0x2469db[_0x8f2505(0x1a0)]=_0x141155[_0x8f2505(0x8c8)],_0x2edbdf[_0x8f2505(0x1a0)]=_0x141155[_0x8f2505(0x21f)]||'';}else _0x232a2f['textContent']=_0x8f2505(0xb27),_0x689a45[_0x8f2505(0x1a0)]='',_0x2469db[_0x8f2505(0x1a0)]='',_0x2edbdf[_0x8f2505(0x1a0)]='';_0x46e837[_0x8f2505(0x534)][_0x8f2505(0x392)](_0x8f2505(0xb2f));}async function saveParallelTestShortcutChanges(){const _0x2ddd6b=_0x44691e,_0xadfa3d=document[_0x2ddd6b(0xcac)]('parallel-shortcut-id-input')['value'],_0x327604=document[_0x2ddd6b(0xcac)](_0x2ddd6b(0x512))['value'][_0x2ddd6b(0x5a4)](),_0x255c13=document[_0x2ddd6b(0xcac)](_0x2ddd6b(0xb16))[_0x2ddd6b(0x1a0)][_0x2ddd6b(0x5a4)]();if(!_0x327604){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x56e747={'id':_0xadfa3d||_0x2ddd6b(0xbb3)+Date[_0x2ddd6b(0xc85)](),'name':_0x327604,'url':_0x255c13,'isDefault':_0xadfa3d[_0x2ddd6b(0x465)](_0x2ddd6b(0x8ca))};let _0x40bfc5;_0xadfa3d?_0x40bfc5=parallelTestShortcuts[_0x2ddd6b(0x39a)](_0x249405=>_0x249405['id']===_0xadfa3d?_0x56e747:_0x249405):_0x40bfc5=[...parallelTestShortcuts,_0x56e747];try{const _0x4c36f4=doc(db,_0x2ddd6b(0x2bd),_0x2ddd6b(0xb37));await setDoc(_0x4c36f4,{'shortcuts':_0x40bfc5},{'merge':!![]}),document[_0x2ddd6b(0xcac)](_0x2ddd6b(0x181))[_0x2ddd6b(0x534)][_0x2ddd6b(0x174)](_0x2ddd6b(0xb2f));}catch(_0x142945){console[_0x2ddd6b(0x723)]('Error\x20saving\x20parallel\x20shortcut:',_0x142945),showMessage(_0x2ddd6b(0x742));}}async function handleParallelTestShortcutClick(_0x3109c0){const _0x1bce52=_0x44691e,_0x48786b=parallelTestShortcuts[_0x1bce52(0xb3a)](_0x195662=>_0x195662['id']===_0x3109c0);if(!_0x48786b)return;if(!_0x48786b[_0x1bce52(0x21f)]||_0x48786b['url']['trim']()===''){openParallelTestShortcutEditor(_0x3109c0);return;}const _0x5246a4=document['getElementById'](_0x1bce52(0x609)),_0x44fb42=document['getElementById'](_0x1bce52(0x6eb));document[_0x1bce52(0xcac)](_0x1bce52(0xc01))[_0x1bce52(0x534)][_0x1bce52(0x392)]('hidden'),document[_0x1bce52(0xcac)](_0x1bce52(0x55b))[_0x1bce52(0x64a)]='',_0x5246a4[_0x1bce52(0x534)][_0x1bce52(0x392)](_0x1bce52(0xb2f)),_0x44fb42[_0x1bce52(0x20a)]=_0x1bce52(0x44c);try{let _0x16c36f;_0x48786b[_0x1bce52(0x21f)][_0x1bce52(0x3e6)]()[_0x1bce52(0x764)](_0x1bce52(0xa04))?_0x16c36f=_0x1bce52(0x150):_0x16c36f='source_document.pdf';const _0x52e519=await fetchFileFromUrl(_0x48786b[_0x1bce52(0x21f)],_0x16c36f);await handleGenerateParallelTest(_0x52e519);}catch(_0x4a5139){console[_0x1bce52(0x723)](_0x1bce52(0x96f),_0x4a5139),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4a5139[_0x1bce52(0xca0)]),_0x5246a4[_0x1bce52(0x534)][_0x1bce52(0x174)](_0x1bce52(0xb2f));}}function initializeScratchpadCanvas(){const _0x2b11a1=_0x44691e,_0x2be63f=document[_0x2b11a1(0xcac)](_0x2b11a1(0x257)),_0x47f51c=document[_0x2b11a1(0x909)]('.scratchpad-content-wrapper');if(!_0x2be63f||!_0x47f51c)return;scratchpadCtx=_0x2be63f[_0x2b11a1(0x2b6)]('2d',{'willReadFrequently':!![]});const _0x1ff126=window[_0x2b11a1(0x491)]||0x1,_0x327c42=_0x47f51c[_0x2b11a1(0x26f)]();_0x2be63f[_0x2b11a1(0x931)]=_0x327c42['width']*_0x1ff126,_0x2be63f[_0x2b11a1(0x2fb)]=_0x327c42[_0x2b11a1(0x2fb)]*_0x1ff126,_0x2be63f['style']['width']=_0x327c42[_0x2b11a1(0x931)]+'px',_0x2be63f['style'][_0x2b11a1(0x2fb)]=_0x327c42[_0x2b11a1(0x2fb)]+'px',scratchpadCtx['scale'](_0x1ff126,_0x1ff126),scratchpadCtx[_0x2b11a1(0xab6)]=_0x2b11a1(0x372),scratchpadCtx[_0x2b11a1(0x463)]=_0x2b11a1(0x372),_0x2be63f[_0x2b11a1(0x4c9)]('pointerdown',handlePointerDown),_0x2be63f['removeEventListener'](_0x2b11a1(0xabb),handlePointerMove),_0x2be63f[_0x2b11a1(0x4c9)]('pointerup',handlePointerUp),_0x2be63f['removeEventListener']('pointercancel',handlePointerUp),_0x2be63f[_0x2b11a1(0x4c9)]('wheel',handleWheel),_0x2be63f[_0x2b11a1(0x4c9)]('touchstart',handlePointerDown),_0x2be63f['removeEventListener'](_0x2b11a1(0x93e),handlePointerMove),_0x2be63f[_0x2b11a1(0x4c9)](_0x2b11a1(0x4f9),handlePointerUp),_0x2be63f['addEventListener'](_0x2b11a1(0xc26),handlePointerDown),_0x2be63f[_0x2b11a1(0x36e)](_0x2b11a1(0xabb),handlePointerMove),_0x2be63f[_0x2b11a1(0x36e)](_0x2b11a1(0x14a),handlePointerUp),_0x2be63f[_0x2b11a1(0x36e)](_0x2b11a1(0x4a2),handlePointerUp),_0x2be63f[_0x2b11a1(0x36e)](_0x2b11a1(0x5e6),handleWheel,{'passive':![]}),_0x2be63f[_0x2b11a1(0x36e)](_0x2b11a1(0x779),handlePointerDown,{'passive':![]}),_0x2be63f[_0x2b11a1(0x36e)](_0x2b11a1(0x93e),handlePointerMove,{'passive':![]}),_0x2be63f[_0x2b11a1(0x36e)]('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x31a77b=_0x44691e,_0xfb6f8e=document[_0x31a77b(0xcac)](_0x31a77b(0x1da)),_0x62a038=document[_0x31a77b(0xcac)](_0x31a77b(0x14f));_0x62a038[_0x31a77b(0x64a)]=_0x31a77b(0x735)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0xb25bcd=document[_0x31a77b(0xcac)](_0x31a77b(0xa20)),_0x9bcb1b=document['getElementById'](_0x31a77b(0x711)),_0x1e2343=document[_0x31a77b(0xcac)](_0x31a77b(0xb2d)),_0x4fe830=document[_0x31a77b(0xcac)](_0x31a77b(0x160)),_0x56c9f1=document[_0x31a77b(0xcac)](_0x31a77b(0x18f)),_0x544b9f=document['getElementById'](_0x31a77b(0xca4)),_0x2a9fc9=[_0xb25bcd,_0x9bcb1b,_0x1e2343,_0x4fe830];document['getElementById'](_0x31a77b(0x74e))['addEventListener'](_0x31a77b(0x486),()=>_0xfb6f8e[_0x31a77b(0x534)][_0x31a77b(0x174)](_0x31a77b(0xb2f))),document[_0x31a77b(0xcac)]('reset-view-btn')['addEventListener'](_0x31a77b(0x486),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x31a77b(0xcac)](_0x31a77b(0x4fc))['addEventListener']('click',()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById'](_0x31a77b(0x172))[_0x31a77b(0x36e)](_0x31a77b(0x486),undo),document[_0x31a77b(0xcac)](_0x31a77b(0xb28))[_0x31a77b(0x36e)](_0x31a77b(0x486),redo);const _0xb57a02=_0x4851d9=>{const _0x169a07=_0x31a77b;_0x2a9fc9[_0x169a07(0xc74)](_0x2884af=>_0x2884af[_0x169a07(0x534)][_0x169a07(0x392)](_0x169a07(0x993))),_0x4851d9['classList'][_0x169a07(0x174)](_0x169a07(0x993));const _0x4cc886=_0x4851d9===_0x4fe830;_0x56c9f1[_0x169a07(0x534)]['toggle'](_0x169a07(0xb2f),_0x4cc886),_0x544b9f[_0x169a07(0x534)][_0x169a07(0xa90)](_0x169a07(0xb2f),!_0x4cc886);};_0xb25bcd[_0x31a77b(0x36e)](_0x31a77b(0x486),()=>{const _0x573f62=_0x31a77b;activeTool=_0x573f62(0x99f),_0xb57a02(_0xb25bcd);}),_0x9bcb1b[_0x31a77b(0x36e)](_0x31a77b(0x486),()=>{const _0x29cf78=_0x31a77b;activeTool=_0x29cf78(0x5d5),_0xb57a02(_0x9bcb1b);}),_0x1e2343[_0x31a77b(0x36e)](_0x31a77b(0x486),()=>{activeTool='trail',_0xb57a02(_0x1e2343);}),_0x4fe830['addEventListener']('click',()=>{const _0x1fb23d=_0x31a77b;activeTool=_0x1fb23d(0x324),_0xb57a02(_0x4fe830);}),_0x56c9f1[_0x31a77b(0x32a)]('.pen-size-btn')[_0x31a77b(0xc74)](_0x21053c=>{const _0x367323=_0x31a77b;_0x21053c[_0x367323(0x36e)]('click',_0x5c1b03=>{const _0x8cb240=_0x367323;scratchpadPenSize=parseInt(_0x5c1b03[_0x8cb240(0xa9f)]['dataset'][_0x8cb240(0x253)],0xa),_0x56c9f1[_0x8cb240(0x32a)](_0x8cb240(0x70a))[_0x8cb240(0xc74)](_0x3ff3e8=>_0x3ff3e8[_0x8cb240(0x534)]['remove'](_0x8cb240(0x993))),_0x5c1b03['target'][_0x8cb240(0x534)][_0x8cb240(0x174)](_0x8cb240(0x993));});}),_0x56c9f1[_0x31a77b(0x32a)]('.pen-color-btn')[_0x31a77b(0xc74)](_0x3ea20e=>{const _0x1e4b64=_0x31a77b;_0x3ea20e['addEventListener'](_0x1e4b64(0x486),_0xa7efb=>{const _0x169016=_0x1e4b64;scratchpadPenColor=_0xa7efb[_0x169016(0xa9f)][_0x169016(0x5fd)][_0x169016(0xbaa)],_0x56c9f1[_0x169016(0x32a)]('.pen-color-btn')['forEach'](_0x1595a3=>_0x1595a3['classList'][_0x169016(0x392)]('active')),_0xa7efb[_0x169016(0xa9f)]['classList'][_0x169016(0x174)](_0x169016(0x993));});}),_0x544b9f[_0x31a77b(0x32a)](_0x31a77b(0x6d3))[_0x31a77b(0xc74)](_0x5f4986=>{const _0x20da33=_0x31a77b;_0x5f4986[_0x20da33(0x36e)](_0x20da33(0x486),_0x32457a=>{const _0x72d773=_0x20da33;scratchpadHighlighterColor=_0x32457a[_0x72d773(0xa9f)]['dataset'][_0x72d773(0xbaa)],_0x544b9f[_0x72d773(0x32a)](_0x72d773(0x6d3))[_0x72d773(0xc74)](_0x1c7cb6=>_0x1c7cb6[_0x72d773(0x534)]['remove']('active')),_0x32457a[_0x72d773(0xa9f)][_0x72d773(0x534)]['add']('active');});});const _0x28b948=document[_0x31a77b(0xcac)](_0x31a77b(0x871)),_0x5d4a35=document['getElementById'](_0x31a77b(0x879));_0x28b948[_0x31a77b(0x36e)]('input',_0xf91840=>{const _0x162a5c=_0x31a77b,_0x5f4477=parseInt(_0xf91840[_0x162a5c(0xa9f)][_0x162a5c(0x1a0)],0xa);scratchpadHighlighterSize=_0x5f4477,_0x5d4a35[_0x162a5c(0x20a)]=_0x5f4477;}),window['addEventListener'](_0x31a77b(0x62f),()=>{const _0x34c8ca=_0x31a77b;!_0xfb6f8e[_0x34c8ca(0x534)][_0x34c8ca(0xbfc)](_0x34c8ca(0xb2f))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x44691e(0x21d),'name':_0x44691e(0xa69),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0x44691e(0x91a)},'QUICK_THINKER':{'id':_0x44691e(0x624),'name':_0x44691e(0x5ba),'description':_0x44691e(0x54a),'icon':_0x44691e(0x26b)},'ON_FIRE':{'id':_0x44691e(0xca2),'name':_0x44691e(0x19d),'description':_0x44691e(0x63a),'icon':_0x44691e(0x980)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':_0x44691e(0x725),'description':_0x44691e(0x853),'icon':_0x44691e(0x81a)},'COMEBACK_KING':{'id':_0x44691e(0xc0a),'name':'ราชาคัมแบ็ก','description':_0x44691e(0x81e),'icon':_0x44691e(0xa26)},'SPECIALIST':{'id':_0x44691e(0xa68),'name':_0x44691e(0x76f),'description':_0x44691e(0xc12),'icon':_0x44691e(0xb39)},'PERSEVERANCE':{'id':'perseverance','name':_0x44691e(0xb98),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x44691e(0x543)}},firebaseConfig={'apiKey':_0x44691e(0xaf3),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0x44691e(0x3ae),'storageBucket':_0x44691e(0x69a),'messagingSenderId':_0x44691e(0x47d),'appId':_0x44691e(0xc0b),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!==_0x44691e(0x657)?__app_id:'ai-quiz-generator-v3',adminView=document[_0x44691e(0xcac)](_0x44691e(0xbe6)),studentView=document['getElementById']('student-view'),projectDashboardView=document[_0x44691e(0xcac)](_0x44691e(0xc03)),projectDetailView=document[_0x44691e(0xcac)](_0x44691e(0xb6d)),quizResultsView=document[_0x44691e(0xcac)]('quiz-results-view'),projectList=document['getElementById'](_0x44691e(0x940)),noProjectsMsg=document[_0x44691e(0xcac)](_0x44691e(0x330)),projectTitle=document[_0x44691e(0xcac)](_0x44691e(0x941)),projectIdDisplay=document['getElementById']('project-id-display'),studentList=document[_0x44691e(0xcac)](_0x44691e(0x4f8)),messageModal=document[_0x44691e(0xcac)]('message-modal'),modalMessage=document[_0x44691e(0xcac)](_0x44691e(0x9e1)),createProjectModal=document[_0x44691e(0xcac)](_0x44691e(0x988)),adminPasswordModal=document[_0x44691e(0xcac)](_0x44691e(0x8a4)),confirmationModal=document['getElementById'](_0x44691e(0xb12)),userIdDisplay=document['getElementById']('user-id-display'),topicTab=document[_0x44691e(0xcac)](_0x44691e(0x5ff)),textTab=document[_0x44691e(0xcac)]('text-tab'),topicInputArea=document['getElementById'](_0x44691e(0xb6c)),textInputArea=document[_0x44691e(0xcac)]('text-input-area'),manageTab=document[_0x44691e(0xcac)](_0x44691e(0x20f)),resultsTab=document[_0x44691e(0xcac)]('results-tab'),leaderboardTab=document[_0x44691e(0xcac)]('leaderboard-tab'),manageTabContent=document[_0x44691e(0xcac)]('manage-tab-content'),resultsTabContent=document[_0x44691e(0xcac)](_0x44691e(0xbd1)),leaderboardTabContent=document[_0x44691e(0xcac)]('leaderboard-tab-content'),projectQuizzesList=document[_0x44691e(0xcac)]('project-quizzes-list'),fileTab=document[_0x44691e(0xcac)](_0x44691e(0xb85)),fileInputArea=document[_0x44691e(0xcac)](_0x44691e(0x572)),fileUploadInput=document[_0x44691e(0xcac)](_0x44691e(0xa73)),worksheetTab=document[_0x44691e(0xcac)]('worksheet-tab'),worksheetInputArea=document[_0x44691e(0xcac)](_0x44691e(0x9c0)),generateWorksheetBtn=document[_0x44691e(0xcac)](_0x44691e(0x385)),studentInitialView=document[_0x44691e(0xcac)](_0x44691e(0xaa5)),studentNameSelectionView=document[_0x44691e(0xcac)](_0x44691e(0x52c)),studentQuizArea=document[_0x44691e(0xcac)](_0x44691e(0x44d)),studentResultArea=document['getElementById'](_0x44691e(0x9e3)),studentReadingArea=document[_0x44691e(0xcac)](_0x44691e(0x1e7)),loadQuizBtn=document[_0x44691e(0xcac)]('load-quiz-btn'),startQuizBtn=document['getElementById'](_0x44691e(0x1ff)),studentJoinGameView=document[_0x44691e(0xcac)]('student-join-game-view'),presentationModal=document[_0x44691e(0xcac)](_0x44691e(0x532)),renameQuizModal=document[_0x44691e(0xcac)]('rename-quiz-modal'),moveQuizModal=document[_0x44691e(0xcac)](_0x44691e(0x269)),quizSettingsModal=document[_0x44691e(0xcac)](_0x44691e(0x551)),quizStatusModal=document[_0x44691e(0xcac)](_0x44691e(0x4aa)),liveGameView=document['getElementById'](_0x44691e(0xc1e));function handleFixLessonLatex(){const _0x278a52=_0x44691e,_0x21934c=document[_0x278a52(0xcac)](_0x278a52(0x974));if(!_0x21934c){showMessage('ไม่พบเนื้อหาบทเรียนที่จะแก้ไข');return;}const _0xe0d5be=_0x21934c['querySelectorAll']([_0x278a52(0x59f),'.ai-content\x20li','.ai-content\x20blockquote',_0x278a52(0x19e),_0x278a52(0x75c)][_0x278a52(0xad6)](','));let _0x44252b=0x0;const _0x56f88a=_0x3d0183=>_0x3d0183[_0x278a52(0x20a)]||'',_0x3aec76=(_0x43fee8,_0x5baefc)=>{const _0x5514be=_0x278a52;if(_0x43fee8[_0x5514be(0x909)]&&_0x43fee8[_0x5514be(0x909)](_0x5514be(0x7b4)))return;_0x43fee8[_0x5514be(0x20a)]=_0x5baefc;},_0x1775b3=_0x1270d7=>_0x1270d7[_0x278a52(0x7ea)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x278a52(0x7ea)](/\r\n?/g,'\x0a'),_0x3e2987=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x58c2f5=_0x444820=>{const _0x37985e=_0x278a52;let _0x2c7048=_0x444820['trim']();const _0x22cd69=[_0x37985e(0x748),_0x37985e(0x599),_0x37985e(0xbd3),_0x37985e(0x698),_0x37985e(0x18b),_0x37985e(0xb41),_0x37985e(0x8a6),_0x37985e(0xaf5),'leq',_0x37985e(0xbde),'le','ge',_0x37985e(0x708),'pm',_0x37985e(0x14c),_0x37985e(0x92b),_0x37985e(0x27f),'tan','log','ln',_0x37985e(0x52b),_0x37985e(0x27d),_0x37985e(0x7a4),'left','right','overline',_0x37985e(0x875),_0x37985e(0x8b1),_0x37985e(0x669)];_0x22cd69[_0x37985e(0xc74)](_0x2b9065=>{const _0x369fd5=_0x37985e;_0x2c7048=_0x2c7048[_0x369fd5(0x7ea)](new RegExp(_0x369fd5(0xa31)+_0x2b9065+'\x5cb','g'),(_0x17cd64,_0x4ea01e)=>_0x4ea01e+'\x5c'+_0x2b9065);});const _0x417b0f=[[/×/g,_0x37985e(0x681)],[/·/g,_0x37985e(0x65d)],[/÷/g,'\x5cdiv'],[/≤/g,_0x37985e(0x1db)],[/≥/g,'\x5cge'],[/≠/g,_0x37985e(0x705)],[/±/g,_0x37985e(0x423)],[/∑/g,_0x37985e(0xa0f)],[/−/g,'-']];return _0x417b0f['forEach'](([_0x4fc1e4,_0x36a9bd])=>{const _0x3e1c76=_0x37985e;_0x2c7048=_0x2c7048[_0x3e1c76(0x7ea)](_0x4fc1e4,_0x36a9bd);}),_0x2c7048=_0x2c7048[_0x37985e(0x7ea)](/√\s*([A-Za-z0-9]+)/g,_0x37985e(0x877)),_0x2c7048=_0x2c7048[_0x37985e(0x7ea)](/(\d+)\s*%/g,'$1\x5c%'),_0x2c7048;},_0x6a6a95=_0x4afe97=>{const _0x124612=_0x278a52;if(/\$|\\\(|\\\[/[_0x124612(0x43b)](_0x4afe97))return _0x4afe97;if(!_0x3e2987[_0x124612(0x43b)](_0x4afe97))return _0x4afe97;const _0x46c61e=_0x4afe97[_0x124612(0x484)](/^\s*/)[0x0],_0x3fa57c=_0x4afe97[_0x124612(0x484)](/\s*$/)[0x0],_0x509245=_0x4afe97[_0x124612(0x5a4)]();return _0x46c61e+'$'+_0x58c2f5(_0x509245)+'$'+_0x3fa57c;};_0xe0d5be[_0x278a52(0xc74)](_0x22edd1=>{const _0x112bbe=_0x278a52,_0x4fb627=_0x56f88a(_0x22edd1);let _0x8dcf36=_0x1775b3(_0x4fb627);_0x8dcf36=_0x8dcf36[_0x112bbe(0x7ea)](/\$([^$]*?)\$/g,(_0x25acd5,_0x32588c)=>'$'+_0x58c2f5(_0x32588c)+'$');const _0xd43836=_0x8dcf36['split'](/(\s+)/),_0xb99355=_0xd43836[_0x112bbe(0x39a)](_0x3448bf=>{if(/\s+/['test'](_0x3448bf))return _0x3448bf;return _0x6a6a95(_0x3448bf);});_0x8dcf36=_0xb99355['join'](''),_0x8dcf36!==_0x4fb627&&(_0x3aec76(_0x22edd1,_0x8dcf36),_0x44252b++);});if(_0x44252b>0x0){showMessage(_0x278a52(0x7c2)+_0x44252b+_0x278a52(0x1bf));try{window[_0x278a52(0x2b2)]&&MathJax[_0x278a52(0xca5)]&&MathJax[_0x278a52(0xca5)]([_0x21934c]);}catch(_0x1d7abc){console[_0x278a52(0x723)](_0x278a52(0x349),_0x1d7abc);}}else showMessage(_0x278a52(0xa22));}function handleAutoFixLatex(){const _0x386d7c=_0x44691e,_0x3516c1=document[_0x386d7c(0xcac)](_0x386d7c(0xa5b))||document,_0x18181b=_0x3516c1[_0x386d7c(0x32a)](_0x386d7c(0x7d0));let _0x425290=0x0;const _0x2e401d=_0x1f0746=>_0x386d7c(0x1a0)in _0x1f0746?String(_0x1f0746[_0x386d7c(0x1a0)]):_0x1f0746['innerText']!==undefined?_0x1f0746[_0x386d7c(0x49c)]:_0x1f0746[_0x386d7c(0x20a)]||'',_0x4579be=(_0x140f6f,_0x32969b)=>{const _0x4bdf8a=_0x386d7c;if(_0x4bdf8a(0x1a0)in _0x140f6f){_0x140f6f[_0x4bdf8a(0x1a0)]=_0x32969b;return;}if(_0x140f6f['querySelector']&&_0x140f6f['querySelector'](_0x4bdf8a(0x7b4)))return;if(_0x140f6f['innerText']!==undefined)_0x140f6f[_0x4bdf8a(0x49c)]=_0x32969b;else _0x140f6f[_0x4bdf8a(0x20a)]=_0x32969b;},_0x1dc13a=_0x4a78eb=>_0x4a78eb['replace'](/\u00A0/g,'\x20')[_0x386d7c(0x7ea)](/\u200B/g,'')[_0x386d7c(0x7ea)](/\r\n?/g,'\x0a'),_0x103b89=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x1b15f7=_0x5c4533=>{const _0x3a2fda=_0x386d7c;let _0x1bea92=_0x5c4533[_0x3a2fda(0x5a4)]();_0x1bea92=_0x1bea92['replace'](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x3a2fda(0x247)),_0x1bea92=_0x1bea92[_0x3a2fda(0x7ea)](/\bfrac(\d)(\d)/g,_0x3a2fda(0x247));const _0x12b920=[_0x3a2fda(0x748),_0x3a2fda(0x698),_0x3a2fda(0xb41),_0x3a2fda(0x8a6),_0x3a2fda(0xaf5),_0x3a2fda(0x893),'geq','neq','pm',_0x3a2fda(0x92b),_0x3a2fda(0x27f),_0x3a2fda(0xb62),_0x3a2fda(0x18c),'ln'];_0x12b920[_0x3a2fda(0xc74)](_0x166ab8=>{const _0x179012=_0x3a2fda;_0x1bea92=_0x1bea92[_0x179012(0x7ea)](new RegExp(_0x179012(0xa31)+_0x166ab8+'\x5cb','g'),(_0x385efb,_0x52f6d0)=>_0x52f6d0+'\x5c'+_0x166ab8);});const _0x3eb372=[[/×/g,_0x3a2fda(0x681)],[/·/g,_0x3a2fda(0x65d)],[/÷/g,_0x3a2fda(0x96d)],[/≤/g,_0x3a2fda(0x1db)],[/≥/g,_0x3a2fda(0xc64)],[/≠/g,_0x3a2fda(0x705)],[/±/g,_0x3a2fda(0x423)]];return _0x3eb372[_0x3a2fda(0xc74)](([_0x3b3266,_0x567ae7])=>{const _0x154a00=_0x3a2fda;_0x1bea92=_0x1bea92[_0x154a00(0x7ea)](_0x3b3266,_0x567ae7);}),_0x1bea92;},_0x300b0d=_0x18f95d=>{const _0x5df49=_0x386d7c;if(/\$|\\\(|\\\[/[_0x5df49(0x43b)](_0x18f95d))return _0x18f95d;if(!_0x103b89[_0x5df49(0x43b)](_0x18f95d))return _0x18f95d;const _0x354df4=_0x18f95d[_0x5df49(0x484)](/^\s*/)[0x0],_0x47d1d0=_0x18f95d[_0x5df49(0x484)](/\s*$/)[0x0],_0x5c6d4b=_0x18f95d[_0x5df49(0x5a4)]();return _0x354df4+'$'+_0x1b15f7(_0x5c6d4b)+'$'+_0x47d1d0;};_0x18181b[_0x386d7c(0xc74)](_0x391c86=>{const _0x411e8b=_0x386d7c,_0x12d63b=_0x2e401d(_0x391c86);let _0x44a992=_0x1dc13a(_0x12d63b);_0x44a992=_0x44a992['replace'](/\$([^$]*?)\$/g,(_0x497bb0,_0x4f8d93)=>'$'+_0x1b15f7(_0x4f8d93)+'$');const _0x15d19=_0x44a992['split'](/(\s+)/),_0x418f2b=_0x15d19['map'](_0x454d80=>/\s+/[_0x411e8b(0x43b)](_0x454d80)?_0x454d80:_0x300b0d(_0x454d80));_0x44a992=_0x418f2b[_0x411e8b(0xad6)](''),_0x44a992!==_0x12d63b&&(_0x4579be(_0x391c86,_0x44a992),_0x425290++);});if(_0x425290>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x425290+'\x20จุด');try{if(window[_0x386d7c(0x2b2)]&&MathJax['typesetPromise'])MathJax['typesetPromise']();}catch(_0x436a21){}}else showMessage(_0x386d7c(0x243));}async function listenForCustomMathTopics(){const _0x1c54a0=_0x44691e,_0x2cad02=collection(db,_0x1c54a0(0x1c4)+appId+_0x1c54a0(0x1a4));onSnapshot(_0x2cad02,_0x224a54=>{const _0x5f2355=_0x1c54a0;customMathTopics=_0x224a54[_0x5f2355(0xb1e)]['map'](_0x400929=>({'id':_0x400929['id'],..._0x400929[_0x5f2355(0x2a7)]()})),renderTopicCheckboxes();},_0x40af9c=>{const _0x214cca=_0x1c54a0;console[_0x214cca(0x723)](_0x214cca(0x887),_0x40af9c);});}function handleSelectAllTopics(){const _0x13fc0f=_0x44691e,_0x486fde=document[_0x13fc0f(0xcac)](_0x13fc0f(0x335)),_0x3b2323=_0x486fde[_0x13fc0f(0x32a)]('input[type=\x22checkbox\x22]');_0x3b2323[_0x13fc0f(0xc74)](_0x76a25=>{const _0x41fcc0=_0x13fc0f;_0x76a25[_0x41fcc0(0x553)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x217624=_0x44691e,_0x437653=document[_0x217624(0xcac)](_0x217624(0x335)),_0x6a6636=_0x437653[_0x217624(0x32a)](_0x217624(0xb06));_0x6a6636[_0x217624(0xc74)](_0x5003e6=>{const _0x2e8aab=_0x217624;_0x5003e6[_0x2e8aab(0x553)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x3b6004){const _0x46545e=_0x44691e;if(!_0x3b6004)return;try{const _0x3271a9=doc(db,_0x46545e(0x1c4)+appId+_0x46545e(0x1a4),_0x3b6004);await deleteDoc(_0x3271a9),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x121948){console[_0x46545e(0x723)](_0x46545e(0x389),_0x121948),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x4b6d59=_0x44691e,_0x3767f9=document[_0x4b6d59(0xcac)](_0x4b6d59(0x727)),_0xe638c6=_0x3767f9[_0x4b6d59(0x1a0)][_0x4b6d59(0x5a4)]();if(!_0xe638c6){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x4b6d59(0xc52));return;}try{const _0x19e6fc=collection(db,_0x4b6d59(0x1c4)+appId+_0x4b6d59(0x1a4));await addDoc(_0x19e6fc,{'name':_0xe638c6,'createdAt':serverTimestamp()}),_0x3767f9[_0x4b6d59(0x1a0)]='',showMessage(_0x4b6d59(0x1f3)+_0xe638c6+_0x4b6d59(0xac2));}catch(_0x4ced36){console[_0x4b6d59(0x723)](_0x4b6d59(0xb3e),_0x4ced36),showMessage(_0x4b6d59(0x562));}}async function handleUpdateOldQuizzes(){const _0x16ef73=_0x44691e;showConfirmation(_0x16ef73(0x762),async()=>{const _0x12dd2a=_0x16ef73,_0x3230ae=document[_0x12dd2a(0xcac)](_0x12dd2a(0x609)),_0x316de3=document[_0x12dd2a(0xcac)](_0x12dd2a(0x6eb)),_0x1cdff3=_0x316de3[_0x12dd2a(0x20a)];_0x3230ae[_0x12dd2a(0x534)]['remove']('hidden'),_0x316de3['textContent']='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x1f4b97=collection(db,_0x12dd2a(0x1c4)+appId+_0x12dd2a(0x1fa)),_0x21e123=await getDocs(_0x1f4b97);if(_0x21e123[_0x12dd2a(0x99e)]){showMessage(_0x12dd2a(0xc69));return;}const _0x4ac648=writeBatch(db);let _0x1304cc=0x0;_0x21e123[_0x12dd2a(0xc74)](_0x103906=>{const _0x485727=_0x12dd2a,_0x54c768=_0x103906[_0x485727(0x2a7)](),_0x57e716=_0x103906['id'];if(_0x54c768[_0x485727(0x8f1)]&&_0x54c768[_0x485727(0x8f1)][_0x485727(0x8b4)]>0x0&&!_0x54c768[_0x485727(0x8f1)][0x0][_0x485727(0x1f4)]('id')){console['log'](_0x485727(0x778)+_0x57e716+'\x20('+_0x54c768[_0x485727(0x180)]+')'),_0x1304cc++;const _0x36a967=_0x54c768['questions']['map']((_0x4c0dcf,_0x34b68b)=>{return{..._0x4c0dcf,'id':_0x4c0dcf['id']||'q_'+Date['now']()+'_'+_0x57e716+'_'+_0x34b68b};}),_0x2b4882=doc(db,_0x485727(0x1c4)+appId+_0x485727(0x1fa),_0x57e716);_0x4ac648[_0x485727(0x626)](_0x2b4882,{'questions':_0x36a967});}}),_0x1304cc>0x0?(_0x316de3[_0x12dd2a(0x20a)]=_0x12dd2a(0x7c6)+_0x1304cc+_0x12dd2a(0x76d),await _0x4ac648['commit'](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x1304cc+_0x12dd2a(0xb44))):showMessage(_0x12dd2a(0x9de));}catch(_0x363ce5){console[_0x12dd2a(0x723)](_0x12dd2a(0x738),_0x363ce5),showMessage(_0x12dd2a(0x8bf)+_0x363ce5[_0x12dd2a(0xca0)]);}finally{_0x3230ae[_0x12dd2a(0x534)][_0x12dd2a(0x174)]('hidden'),_0x316de3[_0x12dd2a(0x20a)]=_0x1cdff3;}});}async function handleBulkUpdateQuizSettings(){const _0x4407ac=_0x44691e,_0xe8563b={'shuffle':document['getElementById'](_0x4407ac(0x8b7))['value'],'resultsDisplay':document[_0x4407ac(0xcac)](_0x4407ac(0x524))['value'],'loopUntilPass':document[_0x4407ac(0xcac)]('bulk-loop-until-pass-checkbox')['checked'],'isConfidenceScoringEnabled':document['getElementById'](_0x4407ac(0x682))[_0x4407ac(0x553)],'confidenceMode':document[_0x4407ac(0xcac)]('bulk-confidence-mode-select')[_0x4407ac(0x1a0)]};try{showMessage(_0x4407ac(0x989));const _0x4bcb40=await getDocs(collection(db,'artifacts/'+appId+_0x4407ac(0x1fa))),_0x33c6ba=_0x4bcb40['docs'][_0x4407ac(0x39a)](_0x2a60ad=>({'id':_0x2a60ad['id'],'data':_0x2a60ad[_0x4407ac(0x2a7)]()})),_0xaeaf3e=_0x33c6ba[_0x4407ac(0x8b4)];showConfirmation(_0x4407ac(0x958)+_0xaeaf3e+_0x4407ac(0x1a8),async()=>{const _0x523d18=_0x4407ac,_0x2e4813=document[_0x523d18(0xcac)](_0x523d18(0x87e));_0x2e4813[_0x523d18(0x585)]=!![],_0x2e4813[_0x523d18(0x64a)]=_0x523d18(0x87c);try{const _0x3a0993=writeBatch(db);_0x33c6ba[_0x523d18(0xc74)](_0x2871ba=>{const _0x53a0ce=_0x523d18,_0x28ec24=doc(db,_0x53a0ce(0x1c4)+appId+_0x53a0ce(0x1fa),_0x2871ba['id']),_0x4133f4={..._0x2871ba[_0x53a0ce(0x2a7)][_0x53a0ce(0x73a)]||{},..._0xe8563b};_0x3a0993[_0x53a0ce(0x626)](_0x28ec24,{'settings':_0x4133f4});}),await _0x3a0993['commit'](),document[_0x523d18(0xcac)]('bulk-quiz-settings-modal')['classList'][_0x523d18(0x174)](_0x523d18(0xb2f)),showMessage('อัปเดตการตั้งค่าของแบบทดสอบ\x20'+_0xaeaf3e+_0x523d18(0x304));}catch(_0x28cf54){console[_0x523d18(0x723)](_0x523d18(0x201),_0x28cf54),showMessage(_0x523d18(0x1e2));}finally{_0x2e4813[_0x523d18(0x585)]=![],_0x2e4813[_0x523d18(0x64a)]='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x3dc9ef){console[_0x4407ac(0x723)](_0x4407ac(0x42a),_0x3dc9ef),showMessage(_0x4407ac(0x602));}}async function handleSaveProjectName(){const _0x27bdb3=_0x44691e,_0x5ce8a8=document[_0x27bdb3(0xcac)](_0x27bdb3(0x941)),_0x6f68ef=document[_0x27bdb3(0xcac)](_0x27bdb3(0x658)),_0x44f8b2=_0x5ce8a8['textContent'][_0x27bdb3(0x5a4)]();if(!_0x44f8b2||!currentProjectId){showMessage(_0x27bdb3(0x3c6)),_0x5ce8a8[_0x27bdb3(0x20a)]=currentProjectData[_0x27bdb3(0xc87)];return;}_0x6f68ef[_0x27bdb3(0x585)]=!![],_0x6f68ef[_0x27bdb3(0x64a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x18dbe3=doc(db,_0x27bdb3(0x1c4)+appId+_0x27bdb3(0x6b6),currentProjectId);await updateDoc(_0x18dbe3,{'projectName':_0x44f8b2}),currentProjectData&&(currentProjectData[_0x27bdb3(0xc87)]=_0x44f8b2),showMessage(_0x27bdb3(0x7ad));}catch(_0x4b896c){console[_0x27bdb3(0x723)](_0x27bdb3(0x41d),_0x4b896c),showMessage(_0x27bdb3(0x742)),_0x5ce8a8[_0x27bdb3(0x20a)]=currentProjectData['projectName'];}finally{_0x6f68ef[_0x27bdb3(0x534)][_0x27bdb3(0x174)](_0x27bdb3(0xb2f)),_0x6f68ef[_0x27bdb3(0x585)]=![],_0x6f68ef[_0x27bdb3(0x64a)]=_0x27bdb3(0x210);}}function handleGeneratePracticeTest(_0x505fc8,_0x12a743){const _0x168d90=_0x44691e,_0x4a907a=document['getElementById'](_0x168d90(0x58d)),_0x58b899=document['getElementById'](_0x168d90(0x55a)),_0x1dfae4=document['getElementById'](_0x168d90(0x61f)),_0xd1ee10=document['getElementById'](_0x168d90(0x8b6));_0x58b899[_0x168d90(0x20a)]=_0x168d90(0x97b)+_0x505fc8,_0xd1ee10[_0x168d90(0x534)][_0x168d90(0x174)](_0x168d90(0xb2f)),_0x1dfae4[_0x168d90(0x534)][_0x168d90(0x392)]('hidden'),_0x4a907a[_0x168d90(0x534)]['remove'](_0x168d90(0xb2f)),generatePracticeTest(_0x505fc8,_0x12a743)[_0x168d90(0xa8b)](_0x215347=>{const _0x304a82=_0x168d90;console[_0x304a82(0x723)](_0x304a82(0x6af),_0x215347),showMessage(_0x304a82(0x170)),_0x4a907a[_0x304a82(0x534)][_0x304a82(0x174)](_0x304a82(0xb2f));});}async function generatePracticeTest(_0x34c3ef,_0x85df2e){const _0x432caf=_0x44691e;[_0x432caf(0x270),_0x432caf(0x6c1),_0x432caf(0x803),_0x432caf(0xc8a)]['forEach'](_0x373b9f=>{const _0x15fb04=_0x432caf,_0x1a8c7c=document[_0x15fb04(0xcac)](_0x373b9f)[_0x15fb04(0x236)];_0x1a8c7c&&(_0x1a8c7c[_0x15fb04(0xad3)][_0x15fb04(0xc4c)]='none');});try{const _0x564719=_0x432caf(0xb00),_0x4bd30f=_0x432caf(0xc78)+_0x85df2e+_0x432caf(0x362)+_0x34c3ef+_0x432caf(0x6ba),_0x2f10d5=await callGemini(_0x4bd30f,!![]),_0x5434cd=document[_0x432caf(0xcac)]('lesson-view-title'),_0x431e92=document['getElementById'](_0x432caf(0x61f)),_0x3c3344=document[_0x432caf(0xcac)](_0x432caf(0x8b6)),_0x3b8d27=document[_0x432caf(0xcac)](_0x432caf(0x803))[_0x432caf(0x236)];_0x5434cd[_0x432caf(0x49c)]=_0x432caf(0x404)+_0x34c3ef[_0x432caf(0x7ea)](/•\s/g,'')+_0x432caf(0xa60)+_0x85df2e+')',currentApplicationData=JSON[_0x432caf(0x92d)](_0x2f10d5);const _0x30f9c4=document[_0x432caf(0xcac)](_0x432caf(0x803));_0x30f9c4[_0x432caf(0x64a)]=currentApplicationData['map']((_0x2d4408,_0x49d9f2)=>_0x432caf(0x276)+(_0x49d9f2+0x1)+'.\x20'+marked[_0x432caf(0xc72)](_0x2d4408[_0x432caf(0x4d5)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x49d9f2+_0x432caf(0xa1b)+_0x2d4408[_0x432caf(0xbd7)][_0x432caf(0x39a)]((_0x2d5384,_0x299f0c)=>_0x432caf(0xc65)+_0x49d9f2+',\x20'+_0x299f0c+_0x432caf(0x518)+String[_0x432caf(0x163)](0x61+_0x299f0c)+'.\x20'+marked[_0x432caf(0xc72)](_0x2d5384)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x432caf(0xad6)](''),window[_0x432caf(0x2b2)]&&MathJax[_0x432caf(0xca5)]([_0x30f9c4]),_0x3b8d27&&(_0x3b8d27[_0x432caf(0xad3)]['display']=_0x432caf(0x85a)),_0x431e92[_0x432caf(0x534)][_0x432caf(0x174)]('hidden'),_0x3c3344[_0x432caf(0x534)][_0x432caf(0x392)]('hidden');}catch(_0x338f27){console['error'](_0x338f27);throw _0x338f27;}}async function callGemini(_0x49a7ce,_0x1017bf=![]){const _0x25f1a5=_0x44691e,_0x32c4b4=_0x25f1a5(0x2d6),_0xa2cc3e='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x32c4b4,_0xf740c9={'contents':[{'parts':[{'text':_0x49a7ce}]}]};_0x1017bf&&(_0xf740c9[_0x25f1a5(0xc1a)]={'responseMimeType':_0x25f1a5(0xa2c)},_0x49a7ce[_0x25f1a5(0x764)](_0x25f1a5(0x8a2))?_0xf740c9['generationConfig']['responseSchema']={'type':_0x25f1a5(0xc37),'properties':{'gradeLevel':{'type':_0x25f1a5(0xb46)},'curriculum':{'type':_0x25f1a5(0x542),'items':{'type':_0x25f1a5(0xc37),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0x25f1a5(0x542),'items':{'type':'OBJECT','properties':{'topicName':{'type':_0x25f1a5(0xb46)},'subTopics':{'type':_0x25f1a5(0x542),'items':{'type':'STRING'}}},'required':[_0x25f1a5(0x5d9),'subTopics']}}},'required':[_0x25f1a5(0x1f8),_0x25f1a5(0x7c7)]}}},'required':[_0x25f1a5(0x268),_0x25f1a5(0x629)]}:_0xf740c9[_0x25f1a5(0xc1a)][_0x25f1a5(0xa0c)]={'type':_0x25f1a5(0x542),'items':{'type':_0x25f1a5(0xc37),'properties':{'question':{'type':_0x25f1a5(0xb46)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'answer':{'type':_0x25f1a5(0x283)}},'required':[_0x25f1a5(0x4d5),_0x25f1a5(0xbd7),_0x25f1a5(0x32b)]}});try{const _0x2a55c2=await fetch(_0xa2cc3e,{'method':_0x25f1a5(0x4af),'headers':{'Content-Type':_0x25f1a5(0xa2c)},'body':JSON['stringify'](_0xf740c9)});if(!_0x2a55c2['ok']){const _0x4a6ac2=await _0x2a55c2[_0x25f1a5(0x18b)]();console['error'](_0x25f1a5(0x41a),_0x4a6ac2);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x2a55c2[_0x25f1a5(0x507)]);}const _0x4740cf=await _0x2a55c2['json']();if(_0x4740cf[_0x25f1a5(0x31a)]&&_0x4740cf[_0x25f1a5(0x31a)][0x0][_0x25f1a5(0x951)]&&_0x4740cf[_0x25f1a5(0x31a)][0x0][_0x25f1a5(0x951)][_0x25f1a5(0x6db)][0x0])return _0x4740cf[_0x25f1a5(0x31a)][0x0]['content']['parts'][0x0][_0x25f1a5(0x18b)];else{console[_0x25f1a5(0x723)](_0x25f1a5(0xcd3),_0x4740cf);if(_0x4740cf[_0x25f1a5(0x31a)]&&_0x4740cf[_0x25f1a5(0x31a)][0x0][_0x25f1a5(0x499)]==='SAFETY')return JSON[_0x25f1a5(0xae8)]({'error':_0x25f1a5(0xca1)});throw new Error('Invalid\x20response\x20structure\x20from\x20API.');}}catch(_0x58be54){console[_0x25f1a5(0x723)](_0x25f1a5(0x8d7),_0x58be54);throw _0x58be54;}}async function generateLesson(_0x46656b=null,_0x4985d7=null){const _0x3b3afa=_0x44691e,_0x1af62a=_0x46656b,_0x5d90e8=_0x4985d7||_0x3b3afa(0x7cf),_0x24b70d=document['getElementById'](_0x3b3afa(0x61f)),_0x267a40=document[_0x3b3afa(0xcac)](_0x3b3afa(0x5d0));_0x267a40[_0x3b3afa(0x20a)]=_0x3b3afa(0x636)+_0x1af62a+_0x3b3afa(0x5ed);try{let _0x54f747=[];const _0x28704e=document[_0x3b3afa(0xcac)](_0x3b3afa(0x1c7))?.[_0x3b3afa(0x1a0)]['trim']();if(_0x28704e)try{_0x267a40[_0x3b3afa(0x20a)]='กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...';const _0x2252b8=await fetchFileFromUrl(_0x28704e,_0x3b3afa(0x9e7)),_0x2d3059=await new Promise((_0x56e82f,_0x5aa96c)=>{const _0x50e90a=_0x3b3afa,_0x505198=new FileReader();_0x505198['readAsDataURL'](_0x2252b8),_0x505198[_0x50e90a(0x48f)]=()=>_0x56e82f(_0x505198['result']['split'](',')[0x1]),_0x505198[_0x50e90a(0x449)]=_0x5aa96c;});_0x54f747[_0x3b3afa(0xa12)]({'inlineData':{'mimeType':_0x2252b8[_0x3b3afa(0x299)],'data':_0x2d3059}});}catch(_0x5406e8){console[_0x3b3afa(0x723)]('Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.',_0x5406e8),showMessage(_0x3b3afa(0x1b2));}const _0x348cf1=_0x3b3afa(0x215)+_0x1af62a+_0x3b3afa(0x332)+_0x1af62a+_0x3b3afa(0x232);_0x267a40['textContent']=_0x3b3afa(0x636)+_0x1af62a+_0x3b3afa(0x5ed);const _0x14c7d6=_0x3b3afa(0x67c)+_0x5d90e8+_0x3b3afa(0x362)+_0x1af62a+_0x3b3afa(0x99c)+_0x348cf1+_0x3b3afa(0x469),_0xb16bfb='สำหรับหัวข้อ\x20\x27'+_0x1af62a+'\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27'+_0x5d90e8+'\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20'+_0x348cf1+_0x3b3afa(0x2f6),_0x16fa40=_0x3b3afa(0xc78)+_0x5d90e8+'\x27\x20ในหัวข้อ\x20\x27'+_0x1af62a+_0x3b3afa(0x8de)+_0x348cf1+_0x3b3afa(0xa29),_0x42c6af=_0x3b3afa(0xac5)+_0x1af62a+_0x3b3afa(0x581)+_0x5d90e8+_0x3b3afa(0x758)+_0x348cf1+'.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ',_0x1181b7={'type':_0x3b3afa(0x542),'items':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'options':{'type':_0x3b3afa(0x542),'items':{'type':_0x3b3afa(0xb46)}},'answer':{'type':_0x3b3afa(0x283)}},'required':['question',_0x3b3afa(0xbd7),_0x3b3afa(0x32b)]}},[_0x4900fc,_0x430b71,_0x4a25d6,_0x251b07]=await Promise[_0x3b3afa(0x2c7)]([handleApiCall([{'text':_0x14c7d6},..._0x54f747],_0x3b3afa(0x606),null,null,![]),handleApiCall([{'text':_0xb16bfb},..._0x54f747],_0x3b3afa(0x606),null,null,![]),handleApiCall([{'text':_0x16fa40},..._0x54f747],_0x3b3afa(0x606),_0x1181b7,null,![]),handleApiCall([{'text':_0x42c6af},..._0x54f747],_0x3b3afa(0x606),null,null,![])]),_0x3a5cff=JSON[_0x3b3afa(0xae8)](_0x4a25d6||[]),_0x1b0c6b=document[_0x3b3afa(0xcac)](_0x3b3afa(0x55a)),_0x189fd8=document[_0x3b3afa(0xcac)]('lesson-sections-container');_0x1b0c6b[_0x3b3afa(0x49c)]=_0x3b3afa(0x278)+_0x1af62a[_0x3b3afa(0x7ea)](/•\\s/g,'')+_0x3b3afa(0xa60)+_0x5d90e8+')',['pointContent',_0x3b3afa(0x6c1),_0x3b3afa(0xc8a)][_0x3b3afa(0xc74)](_0x2ec706=>{const _0x988279=_0x3b3afa;document['getElementById'](_0x2ec706)[_0x988279(0x64a)]='';}),document['getElementById']('pointContent')[_0x3b3afa(0x64a)]=_0x4900fc?marked[_0x3b3afa(0x92d)](_0x4900fc):_0x3b3afa(0x9b3),document['getElementById'](_0x3b3afa(0x6c1))['innerHTML']=_0x430b71?marked[_0x3b3afa(0x92d)](_0x430b71):_0x3b3afa(0x9b3),document[_0x3b3afa(0xcac)](_0x3b3afa(0xc8a))[_0x3b3afa(0x64a)]=_0x251b07?marked[_0x3b3afa(0x92d)](_0x251b07):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',currentApplicationData=JSON[_0x3b3afa(0x92d)](_0x3a5cff);const _0x2617b2=document[_0x3b3afa(0xcac)](_0x3b3afa(0x803));_0x2617b2[_0x3b3afa(0x64a)]=(currentApplicationData||[])[_0x3b3afa(0x39a)]((_0x172ee8,_0x40e25b)=>_0x3b3afa(0x276)+(_0x40e25b+0x1)+'.\x20'+marked[_0x3b3afa(0xc72)](_0x172ee8[_0x3b3afa(0x4d5)]||'')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x40e25b+_0x3b3afa(0xa1b)+(_0x172ee8[_0x3b3afa(0xbd7)]||[])[_0x3b3afa(0x39a)]((_0xcf9e76,_0x4a9117)=>_0x3b3afa(0xc65)+_0x40e25b+',\x20'+_0x4a9117+')\x22>'+String[_0x3b3afa(0x163)](0x61+_0x4a9117)+'.\x20'+marked[_0x3b3afa(0xc72)](_0xcf9e76||'')+_0x3b3afa(0x7d3))['join']('')+_0x3b3afa(0x73d))['join']('')||_0x3b3afa(0xc91),window[_0x3b3afa(0x2b2)]&&MathJax[_0x3b3afa(0xca5)]([_0x189fd8]),_0x24b70d[_0x3b3afa(0x534)][_0x3b3afa(0x174)](_0x3b3afa(0xb2f)),_0x189fd8[_0x3b3afa(0x534)]['remove']('hidden');}catch(_0x3f14b){console[_0x3b3afa(0x723)](_0x3f14b);throw _0x3f14b;}}function checkAnswer(_0x328620,_0x2fb71d){const _0x30d6db=_0x44691e,_0x845e91=currentApplicationData[_0x328620],_0xf02b96=document['getElementById']('q'+_0x328620+_0x30d6db(0x3fb)),_0x3c5137=_0xf02b96[_0x30d6db(0x7f5)]('button');for(let _0x5272a2 of _0x3c5137){_0x5272a2[_0x30d6db(0x585)]=!![];}_0x2fb71d===_0x845e91[_0x30d6db(0x32b)]?_0x3c5137[_0x2fb71d][_0x30d6db(0x534)]['add'](_0x30d6db(0x862)):(_0x3c5137[_0x2fb71d][_0x30d6db(0x534)][_0x30d6db(0x174)]('incorrect'),_0x3c5137[_0x845e91[_0x30d6db(0x32b)]][_0x30d6db(0x534)][_0x30d6db(0x174)](_0x30d6db(0x862)));}window[_0x44691e(0x4bd)]=handleGenerateAndShowLesson,window[_0x44691e(0x3c4)]=checkAnswer,window[_0x44691e(0x557)]=handleGeneratePracticeTest,window[_0x44691e(0x8e5)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x4341b2=_0x44691e;try{const _0x7e6fb4=initializeApp(firebaseConfig);db=getFirestore(_0x7e6fb4),auth=getAuth(_0x7e6fb4),setupAuthListener(),setupEventListeners(),showView(_0x4341b2(0xb07)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x48c817){console['error']('Firebase\x20initialization\x20failed:',_0x48c817),showMessage(_0x4341b2(0x924));}}async function handleVerifyAnswersInEditor(){const _0x328035=_0x44691e,_0x48e589=document[_0x328035(0xcac)](_0x328035(0x583));if(!_0x48e589)return;const _0x2db0cf=document[_0x328035(0xcac)]('verify-answers-editor-btn');_0x2db0cf['disabled']=!![],_0x2db0cf[_0x328035(0x64a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x38a6ca=_0x48e589[_0x328035(0x32a)](_0x328035(0xb9f)),_0x3eb8e0=Array[_0x328035(0xb61)](_0x38a6ca)[_0x328035(0x39a)]((_0x3e84db,_0x2549f1)=>{const _0x40fe71=_0x328035,_0x5a5696=_0x3e84db[_0x40fe71(0x5fd)][_0x40fe71(0x47c)],_0x33af7d=_0x3e84db[_0x40fe71(0x909)](_0x40fe71(0x568))[_0x40fe71(0x1a0)];let _0x216dee=null,_0xc6b87b='';switch(_0x5a5696){case _0x40fe71(0xb47):const _0x1dad85=_0x3e84db['querySelectorAll'](_0x40fe71(0x366));_0x216dee=Array[_0x40fe71(0xb61)](_0x1dad85)[_0x40fe71(0x39a)](_0x5c056b=>_0x5c056b[_0x40fe71(0x1a0)]);const _0x400296=_0x3e84db[_0x40fe71(0x909)]('input[type=\x22radio\x22]:checked');_0x400296&&(_0xc6b87b=_0x216dee[parseInt(_0x400296['value'])]);break;case'short_answer':_0xc6b87b=_0x3e84db[_0x40fe71(0x909)](_0x40fe71(0x772))[_0x40fe71(0x1a0)];break;case _0x40fe71(0x9c3):const _0x4b2f7e=_0x3e84db['querySelector'](_0x40fe71(0xc40));_0xc6b87b=_0x4b2f7e?_0x4b2f7e[_0x40fe71(0x1a0)]:'';break;case'matching_item':_0xc6b87b=_0x3e84db[_0x40fe71(0x909)]('.correct-response-input')[_0x40fe71(0x1a0)];break;}return{'question':_0x33af7d,'options':_0x216dee,'proposedAnswer':_0xc6b87b};}),_0x3df82c=_0x328035(0x55c)+JSON[_0x328035(0xae8)](_0x3eb8e0)+_0x328035(0x431),_0x2712db={'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x328035(0x283)},'isCorrect':{'type':_0x328035(0x151)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':'STRING'}},'required':[_0x328035(0xcbe),_0x328035(0x6e6),_0x328035(0xa97)]}},_0x504044=await callAnalysisApi(_0x3df82c,{'type':_0x328035(0xc37),'properties':{'result':_0x2712db},'required':[_0x328035(0x4d2)]});displayVerificationResultsInEditor(_0x504044[_0x328035(0x4d2)]);}catch(_0x185cde){console['error'](_0x328035(0x943),_0x185cde),showMessage(_0x328035(0x49f));}finally{_0x2db0cf['disabled']=![],_0x2db0cf[_0x328035(0x64a)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x224aed){const _0x430860=_0x44691e;_0x224aed[_0x430860(0xc74)](_0x564dd4=>{const _0x2e6ade=_0x430860,_0x2970c7=document[_0x2e6ade(0x909)]('.question-editor-item[data-q-index=\x22'+_0x564dd4[_0x2e6ade(0xcbe)]+'\x22]');if(!_0x2970c7)return;const _0xc82d33=_0x2970c7[_0x2e6ade(0x909)]('.verification-result-editor');if(_0xc82d33)_0xc82d33[_0x2e6ade(0x392)]();let _0x1fd5e0='';if(_0x564dd4[_0x2e6ade(0x6e6)])_0x1fd5e0=_0x2e6ade(0xc2e);else{const _0x4c1b93=_0x564dd4['suggestedAnswer']?_0x2e6ade(0x345):'';_0x1fd5e0=_0x2e6ade(0x9bd)+_0x4c1b93+_0x2e6ade(0x3e8)+_0x564dd4['justification']+_0x2e6ade(0x5f3)+(_0x564dd4[_0x2e6ade(0xa74)]?_0x2e6ade(0x35d)+_0x564dd4[_0x2e6ade(0xa74)]+_0x2e6ade(0xb34):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}_0x2970c7['insertAdjacentHTML']('beforeend',_0x1fd5e0);if(!_0x564dd4[_0x2e6ade(0x6e6)]&&_0x564dd4['suggestedAnswer']){const _0x5eaebb=_0x2970c7['dataset'][_0x2e6ade(0x47c)],_0x4f02f6=_0x4bcf71=>{const _0x5b96f6=_0x2e6ade;if(!_0x4bcf71)return;_0x4bcf71['classList'][_0x5b96f6(0x174)](_0x5b96f6(0xcbb),'transition-all',_0x5b96f6(0x1bc)),setTimeout(()=>{const _0x3a193a=_0x5b96f6;_0x4bcf71[_0x3a193a(0x534)][_0x3a193a(0x392)]('bg-green-200');},0x9c4);};if(_0x5eaebb===_0x2e6ade(0xb47)){const _0x616cfd=Array['from'](_0x2970c7[_0x2e6ade(0x32a)]('input[type=\x22text\x22]')),_0xff6acd=_0x616cfd[_0x2e6ade(0xbce)](_0x1f0abe=>_0x1f0abe[_0x2e6ade(0x1a0)][_0x2e6ade(0x5a4)]()[_0x2e6ade(0x3e6)]()===_0x564dd4[_0x2e6ade(0xa74)][_0x2e6ade(0x5a4)]()[_0x2e6ade(0x3e6)]());if(_0xff6acd!==-0x1){const _0x1cffd8=_0x2970c7[_0x2e6ade(0x909)](_0x2e6ade(0x7f9)+_0xff6acd+'\x22]');_0x1cffd8&&(_0x1cffd8['checked']=!![],_0x4f02f6(_0x1cffd8['closest'](_0x2e6ade(0xaf5))));}}else{if(_0x5eaebb==='short_answer'||_0x5eaebb==='matching_item'){const _0x4d7694=_0x2970c7[_0x2e6ade(0x909)](_0x2e6ade(0xa53));_0x4d7694&&(_0x4d7694[_0x2e6ade(0x1a0)]=_0x564dd4['suggestedAnswer'],_0x4f02f6(_0x4d7694));}else{if(_0x5eaebb===_0x2e6ade(0x9c3)){const _0x104b88=_0x564dd4[_0x2e6ade(0xa74)]['trim']()['toLowerCase'](),_0x829332=_0x2970c7['querySelector']('input[type=\x22radio\x22][value=\x22'+_0x104b88+'\x22]');_0x829332&&(_0x829332[_0x2e6ade(0x553)]=!![],_0x4f02f6(_0x829332[_0x2e6ade(0xa54)]('div')));}}}}}),showMessage(_0x430860(0xb64));}async function handleVerifyAnswers(){const _0x548392=_0x44691e;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x548392(0x942));return;}const _0x4ccf17=document[_0x548392(0xcac)](_0x548392(0x728));_0x4ccf17[_0x548392(0x585)]=!![],_0x4ccf17['innerHTML']=_0x548392(0x220);try{const _0x164128=currentQuizData[_0x548392(0x8f1)][_0x548392(0x39a)]((_0x1f0922,_0xfc0c5b)=>{const _0x493481=_0x548392;let _0x347edb='';const _0x20c2ef=_0x1f0922[_0x493481(0xb42)]||currentQuizData[_0x493481(0x196)];switch(_0x20c2ef){case'multiple_choice':_0x347edb=_0x1f0922[_0x493481(0xbd7)][_0x1f0922['correctAnswerIndex']];break;case _0x493481(0x982):_0x347edb=_0x1f0922[_0x493481(0x4a7)];break;case'true_false':_0x347edb=_0x1f0922[_0x493481(0x492)][_0x493481(0xb8f)]();break;case _0x493481(0xc00):_0x347edb=_0x1f0922[_0x493481(0x964)];break;}return{'question':_0x1f0922[_0x493481(0x388)]||_0x1f0922[_0x493481(0x83f)],'options':_0x1f0922[_0x493481(0xbd7)]||null,'proposedAnswer':_0x347edb};}),_0x572957=_0x548392(0xbfb)+JSON['stringify'](_0x164128)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4f6a96={'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x548392(0x283)},'isCorrect':{'type':_0x548392(0x151)},'justification':{'type':_0x548392(0xb46)},'suggestedAnswer':{'type':_0x548392(0xb46)}},'required':[_0x548392(0xcbe),_0x548392(0x6e6),_0x548392(0xa97)]}},_0xcd52fc=await callAnalysisApi(_0x572957,{'type':_0x548392(0xc37),'properties':{'result':_0x4f6a96},'required':[_0x548392(0x4d2)]});displayVerificationResults(_0xcd52fc[_0x548392(0x4d2)]);}catch(_0x280f9c){console[_0x548392(0x723)](_0x548392(0x413),_0x280f9c),showMessage(_0x548392(0x49f));}finally{_0x4ccf17[_0x548392(0x585)]=![],_0x4ccf17['innerHTML']='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0x1fdb9c){const _0x4aafc9=_0x44691e;_0x1fdb9c[_0x4aafc9(0xc74)](_0x461bc9=>{const _0x51a684=_0x4aafc9,_0x2229f6=document['querySelector']('div[data-question-index=\x22'+_0x461bc9[_0x51a684(0xcbe)]+'\x22]');if(_0x2229f6){const _0x46c6a3=_0x2229f6[_0x51a684(0x909)](_0x51a684(0x2da));if(_0x46c6a3)_0x46c6a3[_0x51a684(0x392)]();let _0x44f4db='';_0x461bc9[_0x51a684(0x6e6)]?_0x44f4db=_0x51a684(0x161):_0x44f4db=_0x51a684(0x9ba)+_0x461bc9[_0x51a684(0xa97)]+_0x51a684(0x320)+(_0x461bc9[_0x51a684(0xa74)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x461bc9[_0x51a684(0xa74)]+_0x51a684(0xb34):'')+_0x51a684(0x17a),_0x2229f6[_0x51a684(0xa2a)](_0x51a684(0x3d5),_0x44f4db);}}),showMessage(_0x4aafc9(0xb64));}function compareNumericalAnswers(_0x1d2189,_0x1978c9){const _0x38817d=_0x44691e,_0x309411=String(_0x1d2189)['replace'](',','.')[_0x38817d(0x7ea)](/[^\d.-]/g,'')[_0x38817d(0x5a4)](),_0x4cc327=String(_0x1978c9)[_0x38817d(0x7ea)](',','.')[_0x38817d(0x7ea)](/[^\d.-]/g,'')['trim']();if(_0x309411===''||_0x4cc327==='')return![];const _0x16a9b7=parseFloat(_0x309411),_0x9e7438=parseFloat(_0x4cc327);if(isNaN(_0x16a9b7)||isNaN(_0x9e7438))return![];return Math['abs'](_0x16a9b7-_0x9e7438)<0.001;}function isPotentiallyNumeric(_0x8311ab){const _0x47dc9e=_0x44691e;if(typeof _0x8311ab!==_0x47dc9e(0x61a)&&typeof _0x8311ab!=='number')return![];const _0x5186d9=String(_0x8311ab)[_0x47dc9e(0x7ea)](',','.')['trim']();return _0x5186d9!==''&&!isNaN(parseFloat(_0x5186d9))&&isFinite(_0x5186d9);}async function gradeShortAnswer(_0x1193a5,_0x8332dd){const _0x2bbe77=_0x44691e,_0x1aa5a7=_0x8332dd['idealAnswer'],_0x5213ba=String(_0x1193a5)[_0x2bbe77(0x7ea)](/\$/g,'')[_0x2bbe77(0x5a4)](),_0x418ba4=String(_0x1aa5a7)[_0x2bbe77(0x7ea)](/\$/g,'')[_0x2bbe77(0x5a4)]();if(_0x5213ba['toLowerCase']()===_0x418ba4[_0x2bbe77(0x3e6)]())return!![];if(isPotentiallyNumeric(_0x5213ba)&&isPotentiallyNumeric(_0x418ba4)){if(compareNumericalAnswers(_0x5213ba,_0x418ba4))return!![];}return console[_0x2bbe77(0x18c)](_0x2bbe77(0x549)),await gradeShortAnswerWithAI(_0x1193a5,_0x1aa5a7);}async function revealAnswerForAdmin(_0x1c3927,_0x11dbe6){const _0x1ec4e4=_0x44691e,_0x3fd28b=doc(db,_0x1ec4e4(0x1c4)+appId+_0x1ec4e4(0x68d),currentLiveGameId);await updateDoc(_0x3fd28b,{'questionStatus':_0x1ec4e4(0x27b)});}function showTop5LeaderboardView(_0x240fa4){const _0x285968=_0x44691e,_0x57d159=Object['values'](_0x240fa4[_0x285968(0xb3f)]||{})[_0x285968(0x686)](_0x806842=>_0x806842['status']===_0x285968(0x993));_0x57d159[_0x285968(0xa24)]((_0x149196,_0x2f6e0c)=>_0x2f6e0c[_0x285968(0x443)]-_0x149196[_0x285968(0x443)]);const _0x5c810c=_0x57d159[_0x285968(0x18e)](0x0,0x5),_0x552f68=_0x285968(0x352)+_0x5c810c[_0x285968(0x39a)]((_0x380df8,_0x1b297f)=>_0x285968(0x326)+(_0x1b297f+0x1)+'.\x20'+(_0x380df8[_0x285968(0x8c8)]||Object[_0x285968(0x53e)](_0x240fa4['players'])['find'](_0x8d8c8a=>_0x240fa4['players'][_0x8d8c8a]===_0x380df8))+_0x285968(0xc1b)+_0x380df8[_0x285968(0x443)]+_0x285968(0x8d1))[_0x285968(0xad6)]('')+_0x285968(0x907)+(_0x240fa4['currentQuestionIndex']+0x1===currentQuizData[_0x285968(0x8f1)]['length']?'สรุปผลสุดท้าย':_0x285968(0x829))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x285968(0x64a)]=_0x552f68,document[_0x285968(0xcac)](_0x285968(0x308))[_0x285968(0x36e)](_0x285968(0x486),async()=>{const _0x51a619=_0x285968,_0x7dac15=doc(db,_0x51a619(0x1c4)+appId+_0x51a619(0x68d),currentLiveGameId),_0x3d71c8=_0x240fa4[_0x51a619(0x4db)]+0x1;if(_0x3d71c8<currentQuizData[_0x51a619(0x8f1)][_0x51a619(0x8b4)]){const _0x3a8f7a={'currentQuestionIndex':_0x3d71c8,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x51a619(0x1fc)};Object[_0x51a619(0x53e)](_0x240fa4[_0x51a619(0xb3f)])['forEach'](_0x55901b=>{_0x3a8f7a['players.'+_0x55901b+'.answeredCurrentQuestion']=![];}),await updateDoc(_0x7dac15,_0x3a8f7a);}else await updateDoc(_0x7dac15,{'status':_0x51a619(0x69f)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x32fa19=>{const _0x403c3e=_0x3aeb;if(_0x32fa19){userId=_0x32fa19[_0x403c3e(0x315)],userIdDisplay['textContent']=userId;const _0x3b98f5=await loadUserPreferences();_0x3b98f5[_0x403c3e(0xb5d)]&&(document[_0x403c3e(0xcac)](_0x403c3e(0xc22))[_0x403c3e(0x1a0)]=_0x3b98f5[_0x403c3e(0xb5d)]);globalDashboardSettings[_0x403c3e(0x680)]=_0x3b98f5[_0x403c3e(0x680)]||_0x403c3e(0x4b0);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0xd0ab99,_0x226c4c){const _0x16dabe=_0x44691e;if(!userId)return;try{const _0x26ca33=doc(db,_0x16dabe(0x1c4)+appId+_0x16dabe(0xb67)+userId+_0x16dabe(0x797)),_0x39ee93={};_0x39ee93[_0xd0ab99]=_0x226c4c,await setDoc(_0x26ca33,_0x39ee93,{'merge':!![]});}catch(_0x5e26d9){console[_0x16dabe(0x723)]('Error\x20saving\x20user\x20preference:',_0x5e26d9);}}async function loadUserPreferences(){const _0x1b5633=_0x44691e;if(!userId)return{};try{const _0x3a11b8=doc(db,_0x1b5633(0x1c4)+appId+_0x1b5633(0xb67)+userId+_0x1b5633(0x797)),_0x2146e7=await getDoc(_0x3a11b8);if(_0x2146e7[_0x1b5633(0x72f)]())return _0x2146e7[_0x1b5633(0x2a7)]();return{};}catch(_0x58040e){return console[_0x1b5633(0x723)]('Error\x20loading\x20user\x20preferences:',_0x58040e),{};}}function parseIndentedBlueprint(_0x352e8b){const _0x3aedec=_0x44691e,_0x306768=_0x352e8b['split']('\x0a')[_0x3aedec(0x686)](_0x485dc4=>_0x485dc4[_0x3aedec(0x5a4)]()!==''),_0x3bc099=[];let _0x115236=null,_0x2d786d=null;return _0x306768[_0x3aedec(0xc74)](_0x5c6253=>{const _0xffd530=_0x3aedec,_0x151764=_0x5c6253[_0xffd530(0x484)](/^\s*/)[0x0][_0xffd530(0x8b4)],_0x25ae76=_0x5c6253[_0xffd530(0x5a4)]();if(_0x151764===0x0)_0x115236={'sara':_0x25ae76,'mainTopics':[]},_0x3bc099[_0xffd530(0xa12)](_0x115236),_0x2d786d=null;else{if(_0x151764>0x0&&_0x151764<0x8&&_0x115236)_0x2d786d={'topicName':_0x25ae76,'subTopics':[]},_0x115236[_0xffd530(0x7c7)]['push'](_0x2d786d);else _0x151764>=0x8&&_0x2d786d&&_0x2d786d[_0xffd530(0x70e)]['push'](_0x25ae76);}}),{'curriculum':_0x3bc099};}async function handleManualBlueprintSave(){const _0x2c2e4b=_0x44691e,_0x3e342a=document[_0x2c2e4b(0xcac)](_0x2c2e4b(0x86d))['value'][_0x2c2e4b(0x5a4)](),_0x43b953=document[_0x2c2e4b(0xcac)](_0x2c2e4b(0x5e1))[_0x2c2e4b(0x1a0)][_0x2c2e4b(0x5a4)](),_0x3be7b3=document[_0x2c2e4b(0xcac)]('manual-bp-content')[_0x2c2e4b(0x1a0)];if(!_0x3e342a||!_0x43b953||!_0x3be7b3){showMessage(_0x2c2e4b(0x50b));return;}const _0x3eec0c=parseIndentedBlueprint(_0x3be7b3);if(!_0x3eec0c['curriculum']||_0x3eec0c[_0x2c2e4b(0x629)][_0x2c2e4b(0x8b4)]===0x0){showMessage(_0x2c2e4b(0xab7));return;}const _0x5d734d={};let _0x56d5c9=0x0;_0x3eec0c[_0x2c2e4b(0x629)]['forEach'](_0x3db1d7=>{const _0x395b41=_0x2c2e4b;_0x3db1d7[_0x395b41(0x7c7)][_0x395b41(0xc74)](_0x450541=>{const _0xa6fb8e=_0x395b41;_0x450541[_0xa6fb8e(0x70e)]['forEach'](_0x51249d=>{const _0x27cad4=_0xa6fb8e,_0x201647=_0x27cad4(0x7b6)+Date[_0x27cad4(0xc85)]()+Math[_0x27cad4(0x53f)]()[_0x27cad4(0xb8f)](0x24)[_0x27cad4(0xc96)](0x2,0x9);_0x5d734d[_0x201647]={'sara':_0x3db1d7[_0x27cad4(0x1f8)],'mainTopic':_0x450541[_0x27cad4(0x5d9)],'subTopic':_0x51249d,'status':_0x27cad4(0xa48),'lessonContent':null,'order':_0x56d5c9++};});});});try{const _0x13ab3e=collection(db,_0x2c2e4b(0x1c4)+appId+_0x2c2e4b(0x8c1));await addDoc(_0x13ab3e,{'projectName':_0x3e342a,'gradeLevel':_0x43b953,'topics':_0x5d734d,'createdAt':serverTimestamp()}),showMessage(_0x2c2e4b(0x92f)+_0x3e342a+_0x2c2e4b(0x5ef)),document[_0x2c2e4b(0xcac)](_0x2c2e4b(0x7f0))[_0x2c2e4b(0x534)]['add'](_0x2c2e4b(0xb2f));}catch(_0x45fa66){console[_0x2c2e4b(0x723)]('Error\x20saving\x20manual\x20blueprint\x20project:',_0x45fa66),showMessage(_0x2c2e4b(0xba6));}}function handleClearAllLinksForTopic(_0x14d575){const _0x2166c2=_0x44691e;showConfirmation(_0x2166c2(0x670),async()=>{const _0x3552cd=_0x2166c2;try{const _0xf76a40=doc(db,_0x3552cd(0x1c4)+appId+_0x3552cd(0x8c1),currentBlueprintProjectId);await updateDoc(_0xf76a40,{[_0x3552cd(0x382)+_0x14d575+_0x3552cd(0x82b)]:[]}),showMessage('ล้างการเชื่อมโยงทั้งหมดสำเร็จ'),openTopicQuizBank(_0x14d575),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4ad02a){console[_0x3552cd(0x723)](_0x3552cd(0x7a1),_0x4ad02a),showMessage('เกิดข้อผิดพลาดในการล้างการเชื่อมโยง');}});}function showPodiumView(_0x23f901,_0x50a414=_0x44691e(0x3dd)){const _0x198fba=_0x44691e,_0x377b6e=Object[_0x198fba(0x823)](_0x23f901)[_0x198fba(0x39a)](([_0x45cc0c,_0x44869f])=>({'name':_0x45cc0c,'score':_0x44869f[_0x198fba(0x443)]||0x0,'badges':_0x44869f[_0x198fba(0x7e0)]||[],'hasPerfectScoreBonus':_0x44869f[_0x198fba(0x4dc)]||![]}));_0x377b6e[_0x198fba(0xa24)]((_0x4c9824,_0x2c4431)=>{const _0x33face=_0x198fba,_0x2e4661=_0x2c4431[_0x33face(0x443)]-_0x4c9824[_0x33face(0x443)];if(_0x2e4661!==0x0)return _0x2e4661;return(_0x2c4431[_0x33face(0x7e0)][_0x33face(0x8b4)]||0x0)-(_0x4c9824[_0x33face(0x7e0)][_0x33face(0x8b4)]||0x0);});const _0x47ff8a=_0x5e039c=>{const _0x2cb10e=_0x198fba;if(!_0x5e039c||_0x5e039c[_0x2cb10e(0x8b4)]===0x0)return'';const _0x5bb396={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x5e039c[_0x2cb10e(0x39a)](_0x4f8232=>_0x5bb396[_0x4f8232]||'')[_0x2cb10e(0xad6)]('')+_0x2cb10e(0xbeb);},_0x40ac4b=_0x377b6e[_0x198fba(0x18e)](0x3),_0x4a0933=_0x40ac4b[_0x198fba(0x8b4)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40ac4b[_0x198fba(0x39a)]((_0x3a2c2c,_0x141f5c)=>{const _0x3428cb=_0x198fba,_0x5daf99=_0x3a2c2c[_0x3428cb(0x4dc)]?'<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>':'';return _0x3428cb(0xa76)+(_0x141f5c+0x4)+_0x3428cb(0x522)+_0x3a2c2c[_0x3428cb(0x8c8)]+_0x3428cb(0x8a9)+_0x3a2c2c[_0x3428cb(0x443)]+_0x3428cb(0x6da)+_0x5daf99+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x198fba(0xad6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x4af36d=_0x198fba(0x8be)+(_0x377b6e[0x1]?_0x198fba(0x207)+_0x377b6e[0x1][_0x198fba(0x8c8)]+_0x198fba(0xb34)+_0x47ff8a(_0x377b6e[0x1][_0x198fba(0x7e0)])+_0x198fba(0x514)+_0x377b6e[0x1]['score']+'\x20คะแนน\x20'+(_0x377b6e[0x1][_0x198fba(0x4dc)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x198fba(0x3a7):_0x198fba(0xb0f))+_0x198fba(0xa2b)+(_0x377b6e[0x0]?_0x198fba(0x8fc)+_0x377b6e[0x0][_0x198fba(0x8c8)]+'</p>'+_0x47ff8a(_0x377b6e[0x0][_0x198fba(0x7e0)])+_0x198fba(0xc46)+_0x377b6e[0x0]['score']+'\x20คะแนน\x20'+(_0x377b6e[0x0][_0x198fba(0x4dc)]?_0x198fba(0x402):'')+_0x198fba(0x48e):_0x198fba(0xb0f))+_0x198fba(0xa2b)+(_0x377b6e[0x2]?_0x198fba(0xbe0)+_0x377b6e[0x2]['name']+_0x198fba(0xb34)+_0x47ff8a(_0x377b6e[0x2][_0x198fba(0x7e0)])+_0x198fba(0x514)+_0x377b6e[0x2][_0x198fba(0x443)]+_0x198fba(0x6da)+(_0x377b6e[0x2][_0x198fba(0x4dc)]?_0x198fba(0x402):'')+_0x198fba(0x376):_0x198fba(0xb0f))+_0x198fba(0x66b)+_0x4a0933+_0x198fba(0xb9a)+(currentMode===_0x198fba(0x783)?_0x198fba(0x57d):_0x198fba(0x446))+_0x198fba(0xc2a);liveGameView['innerHTML']=_0x4af36d,currentMode==='admin'&&document[_0x198fba(0xcac)](_0x198fba(0xbe1))[_0x198fba(0x36e)](_0x198fba(0x486),async()=>{const _0x14530d=_0x198fba;let _0x4ae1cd;_0x50a414===_0x14530d(0x5c7)?_0x4ae1cd=doc(db,_0x14530d(0x1c4)+appId+_0x14530d(0x6ff),currentLiveGameId):_0x4ae1cd=doc(db,_0x14530d(0x1c4)+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x4ae1cd);});}function renderSyncSummaryView(_0x3d7f1f,_0x5db421,_0x42eb25){const _0x4ec2a7=_0x44691e,_0x384ba7=Object[_0x4ec2a7(0x5a9)](_0x3d7f1f[_0x4ec2a7(0xb3f)]||{}),_0x7d1967=_0x5db421[_0x4ec2a7(0xb42)]||_0x3d7f1f[_0x4ec2a7(0x692)][_0x4ec2a7(0x196)];let _0x3c7b0b=[];_0x7d1967===_0x4ec2a7(0x9c3)?_0x3c7b0b=[_0x4ec2a7(0x8c9),_0x4ec2a7(0x7c4)]:_0x3c7b0b=_0x5db421[_0x4ec2a7(0xbd7)]||[];const _0x1d1e3a=new Array(_0x3c7b0b[_0x4ec2a7(0x8b4)])[_0x4ec2a7(0x83b)](0x0),_0xfead={};_0x3c7b0b[_0x4ec2a7(0xc74)]((_0x423636,_0x30825c)=>{_0xfead[_0x30825c]=[];}),Object['entries'](_0x3d7f1f[_0x4ec2a7(0xb3f)]||{})['forEach'](([_0x208e10,_0x56a257])=>{const _0x141f39=_0x4ec2a7;if(_0x56a257[_0x141f39(0x507)]!==_0x141f39(0x6b2)&&_0x56a257[_0x141f39(0x6ab)]!==undefined&&_0x56a257[_0x141f39(0x6ab)]!==null){const _0x2c3789=_0x56a257[_0x141f39(0x6ab)];_0xfead[_0x2c3789]!==undefined&&(_0xfead[_0x2c3789]['push'](_0x208e10),_0x1d1e3a[_0x2c3789]++);}});let _0x4c2d8e='';_0x42eb25?_0x4c2d8e=_0x4ec2a7(0xa3a):_0x4c2d8e=_0x4ec2a7(0x3a1);const _0x36e4f2=_0x4ec2a7(0x53b)+_0x5db421[_0x4ec2a7(0x83f)]+_0x4ec2a7(0x22b)+_0x1d1e3a['map']((_0x493cd9,_0x577c89)=>{const _0x5da3e0=_0x4ec2a7,_0x1c8faa=_0xfead[_0x577c89]['length']>0x0?_0xfead[_0x577c89][_0x5da3e0(0xad6)](',\x20'):_0x5da3e0(0x8e2),_0x4bd61a='#6366F1';return _0x5da3e0(0x71e)+_0x493cd9+_0x5da3e0(0x2e2)+_0x4bd61a+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x577c89+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x3c7b0b[_0x577c89]+_0x5da3e0(0xa34)+_0x577c89+_0x5da3e0(0x7e4)+_0x1c8faa+_0x5da3e0(0x8af);})[_0x4ec2a7(0xad6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4c2d8e+_0x4ec2a7(0x94e);liveGameView[_0x4ec2a7(0x64a)]=_0x36e4f2;if(window[_0x4ec2a7(0x2b2)])MathJax['typesetPromise']();_0x42eb25&&(document['getElementById'](_0x4ec2a7(0x43d))[_0x4ec2a7(0x36e)](_0x4ec2a7(0x486),async()=>{const _0x524f22=_0x4ec2a7,_0x2b394a=doc(db,_0x524f22(0x1c4)+appId+_0x524f22(0x6ff),currentLiveGameId);await updateDoc(_0x2b394a,{'status':_0x524f22(0x1f6)});}),document[_0x4ec2a7(0xcac)](_0x4ec2a7(0x707))['onclick']=()=>{openScratchpad(_0x5db421,_0x3c7b0b);});}async function handleShowStudentRankings(){const _0x495faa=_0x44691e,_0x2158cb=document[_0x495faa(0x909)](_0x495faa(0x358));_0x2158cb&&(_0x2158cb['innerHTML']=_0x495faa(0x264));const _0x4dcec6=document[_0x495faa(0x909)](_0x495faa(0x611));_0x4dcec6&&(_0x4dcec6[_0x495faa(0x64a)]=_0x495faa(0xa57));const _0x4c133d=document[_0x495faa(0xcac)](_0x495faa(0x48b));_0x4c133d[_0x495faa(0x534)][_0x495faa(0x392)](_0x495faa(0xb2f)),document[_0x495faa(0xcac)](_0x495faa(0x15e))[_0x495faa(0x800)]=()=>_0x4c133d[_0x495faa(0x534)][_0x495faa(0x174)](_0x495faa(0xb2f));const _0xb07bec=document[_0x495faa(0xcac)](_0x495faa(0x185)),_0x4d8a5a=document['getElementById']('student-project-leaderboard-tab'),_0x4359ba=document[_0x495faa(0xcac)](_0x495faa(0x44a)),_0x2092bc=document[_0x495faa(0xcac)]('student-project-leaderboard-content');_0xb07bec[_0x495faa(0x800)]=()=>{const _0x5c70f5=_0x495faa;_0xb07bec[_0x5c70f5(0x534)][_0x5c70f5(0x174)](_0x5c70f5(0x993)),_0x4d8a5a[_0x5c70f5(0x534)][_0x5c70f5(0x392)](_0x5c70f5(0x993)),_0x4359ba[_0x5c70f5(0x534)]['remove']('hidden'),_0x2092bc['classList'][_0x5c70f5(0x174)](_0x5c70f5(0xb2f));},_0x4d8a5a[_0x495faa(0x800)]=()=>{const _0x3f696c=_0x495faa;_0x4d8a5a[_0x3f696c(0x534)]['add'](_0x3f696c(0x993)),_0xb07bec[_0x3f696c(0x534)][_0x3f696c(0x392)](_0x3f696c(0x993)),_0x2092bc['classList'][_0x3f696c(0x392)](_0x3f696c(0xb2f)),_0x4359ba[_0x3f696c(0x534)][_0x3f696c(0x174)]('hidden');};try{const _0x3572b0=collection(db,_0x495faa(0x1c4)+appId+_0x495faa(0x7c5)+currentQuizData['id']+_0x495faa(0x8c6)),_0x5d4859=await getDocs(_0x3572b0),_0x9fede4=_0x5d4859[_0x495faa(0xb1e)][_0x495faa(0x39a)](_0x5cd8d2=>_0x5cd8d2[_0x495faa(0x2a7)]());renderQuizLeaderboard(_0x9fede4,currentQuizData,_0x495faa(0x28a));const _0x64b5ec=collection(db,_0x495faa(0x1c4)+appId+_0x495faa(0x945)+currentQuizData['projectId']+_0x495faa(0x68b)),_0x13c2fe=await getDocs(_0x64b5ec),_0x1bda44=_0x13c2fe['docs'][_0x495faa(0x39a)](_0x273874=>_0x273874[_0x495faa(0x2a7)]());renderLeaderboard(_0x1bda44,'student-project-leaderboard-table-body');}catch(_0x2a8447){console[_0x495faa(0x723)](_0x495faa(0x866),_0x2a8447),showMessage(_0x495faa(0x8e7));}}async function handleSaveToBank(_0x284cfd){const _0x27bf98=_0x44691e,_0x870fd1=_0x284cfd[_0x27bf98(0x164)],_0x22ae4d=_0x870fd1[_0x27bf98(0x5fd)][_0x27bf98(0x166)],_0x433386=currentQuizData[_0x27bf98(0x8f1)][_0x22ae4d];if(!userId){showMessage(_0x27bf98(0x168));return;}try{const _0x186d15={..._0x433386,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x43e8b8=collection(db,'artifacts/'+appId+'/users/'+userId+_0x27bf98(0x935));await addDoc(_0x43e8b8,_0x186d15),showMessage(_0x27bf98(0x4cb)),_0x870fd1[_0x27bf98(0x534)]['remove'](_0x27bf98(0xc6e)),_0x870fd1[_0x27bf98(0x534)][_0x27bf98(0x174)](_0x27bf98(0x6bc)),_0x870fd1[_0x27bf98(0x585)]=!![];}catch(_0x5e2800){console[_0x27bf98(0x723)]('Error\x20saving\x20to\x20question\x20bank:',_0x5e2800),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function selectProjectAndGenerateBlueprintQuiz(_0x373c27,_0x3f514d=null,_0x46e633=null,_0x450221=![]){const _0x495a67=_0x44691e;cameFromBlueprint=!![];const _0x599776=document['getElementById']('bp-reference-file-url')?.['value'][_0x495a67(0x5a4)]();let _0x1135dc=null;if(_0x599776){showMessage(_0x495a67(0x4b5));try{const _0x1b05ce=await fetchFileFromUrl(_0x599776,'reference_onet.pdf'),_0x5d4add=await new Promise((_0x12bf81,_0x1d0aa3)=>{const _0x22e45a=_0x495a67,_0x188b7b=new FileReader();_0x188b7b['readAsDataURL'](_0x1b05ce),_0x188b7b['onload']=()=>_0x12bf81(_0x188b7b['result']['split'](',')[0x1]),_0x188b7b[_0x22e45a(0x449)]=_0x1d0aa3;});_0x1135dc=[{'inlineData':{'mimeType':_0x1b05ce['type'],'data':_0x5d4add}}],messageModal['classList']['add'](_0x495a67(0xb2f));}catch(_0x58bf77){console[_0x495a67(0x723)](_0x495a67(0x82c),_0x58bf77),showMessage(_0x495a67(0x33b));}}const _0x468084=document[_0x495a67(0xcac)](_0x495a67(0x269)),_0x185861=document[_0x495a67(0xcac)](_0x495a67(0x6a7)),_0x29a659=_0x468084['querySelector']('h3'),_0x400a92=document[_0x495a67(0xcac)](_0x495a67(0xa5d)),_0x1249b3=document[_0x495a67(0xcac)]('cancel-move-quiz-btn');_0x29a659[_0x495a67(0x20a)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x400a92[_0x495a67(0x20a)]='เลือกและเริ่มสร้าง',_0x400a92[_0x495a67(0x585)]=!![];allProjects[_0x495a67(0x8b4)]===0x0?_0x185861[_0x495a67(0x64a)]=_0x495a67(0xc92):(_0x185861[_0x495a67(0x64a)]=_0x495a67(0x5f6)+allProjects['map'](_0x116663=>_0x495a67(0x458)+_0x116663['id']+'\x22>'+_0x116663[_0x495a67(0xc87)]+_0x495a67(0x61d))[_0x495a67(0xad6)](''),_0x400a92[_0x495a67(0x585)]=![]);_0x468084[_0x495a67(0x534)][_0x495a67(0x392)](_0x495a67(0xb2f));const _0x52ec3f=async()=>{const _0x3121fe=_0x495a67,_0x3fcfcd=_0x185861[_0x3121fe(0x1a0)];if(!_0x3fcfcd){showMessage(_0x3121fe(0x95c));return;}_0x468084[_0x3121fe(0x534)][_0x3121fe(0x174)](_0x3121fe(0xb2f)),document[_0x3121fe(0xcac)]('blueprint-project-manager-view')[_0x3121fe(0x534)][_0x3121fe(0x174)](_0x3121fe(0xb2f)),await loadProjectDetails(_0x3fcfcd),showView(_0x3121fe(0x7fb)),handleGenerateQuizFromBlueprintTopic(_0x373c27,_0x3f514d,_0x3fcfcd,_0x46e633,_0x450221,_0x1135dc),_0x90775b();},_0x90775b=()=>{const _0x4c8bb1=_0x495a67;_0x29a659[_0x4c8bb1(0x20a)]=_0x4c8bb1(0xb6f),_0x400a92[_0x4c8bb1(0x20a)]=_0x4c8bb1(0xbe4),_0x400a92[_0x4c8bb1(0x4c9)](_0x4c8bb1(0x486),_0x52ec3f),_0x1249b3[_0x4c8bb1(0x4c9)](_0x4c8bb1(0x486),_0x90775b),_0x400a92['addEventListener'](_0x4c8bb1(0x486),confirmMoveQuiz);};_0x400a92['removeEventListener'](_0x495a67(0x486),confirmMoveQuiz),_0x400a92['addEventListener'](_0x495a67(0x486),_0x52ec3f),_0x1249b3[_0x495a67(0x36e)](_0x495a67(0x486),_0x90775b);}function listenForStarredQuizzes(){const _0x59f47f=_0x44691e;if(!userId)return;const _0x3c2bff=collection(db,_0x59f47f(0x1c4)+appId+_0x59f47f(0x1fa)),_0x4ee233=query(_0x3c2bff,where(_0x59f47f(0xa7c),'==',!![]));onSnapshot(_0x4ee233,_0x28d5b3=>{const _0x576b45=_0x59f47f;starredQuizzes=_0x28d5b3[_0x576b45(0xb1e)]['map'](_0x40e261=>({'id':_0x40e261['id'],..._0x40e261[_0x576b45(0x2a7)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x3a0926=>{const _0x30d56e=_0x59f47f;console['error'](_0x30d56e(0x3a5),_0x3a0926);});}function listenForFileShortcuts(){const _0x3b5350=doc(db,'globalSettings','fileShortcutsConfig');onSnapshot(_0x3b5350,_0x786a3e=>{const _0x4d8a97=_0x3aeb;let _0x10a818=[],_0x40c063=[],_0x420404={};if(_0x786a3e[_0x4d8a97(0x72f)]()){const _0x107ef8=_0x786a3e['data']();_0x10a818=_0x107ef8[_0x4d8a97(0x712)]||[],_0x40c063=_0x107ef8[_0x4d8a97(0xbaf)]||[],_0x420404=_0x107ef8[_0x4d8a97(0x311)]||{};}!_0x40c063[_0x4d8a97(0xb3a)](_0x2f6254=>_0x2f6254['id']===_0x4d8a97(0x2c7))&&_0x40c063[_0x4d8a97(0x6d9)]({'id':'all','name':_0x4d8a97(0x2c6),'isDefault':!![]}),!_0x10a818[_0x4d8a97(0xb3a)](_0x5927e0=>_0x5927e0['id']===_0x4d8a97(0x527))&&_0x10a818[_0x4d8a97(0x6d9)]({'id':_0x4d8a97(0x527),'name':_0x4d8a97(0x67d),'url':'','isDefault':!![]}),!_0x10a818[_0x4d8a97(0xb3a)](_0x3710ea=>_0x3710ea['id']===_0x4d8a97(0x79f))&&_0x10a818[_0x4d8a97(0x6d9)]({'id':_0x4d8a97(0x79f),'name':_0x4d8a97(0x650),'url':'','isDefault':!![]}),fileShortcuts=_0x10a818,fileShortcutTabs=_0x40c063,fileShortcutOrder=_0x420404,renderFileShortcuts(),!document['getElementById'](_0x4d8a97(0xbad))[_0x4d8a97(0x534)][_0x4d8a97(0xbfc)](_0x4d8a97(0xb2f))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x5cca9c=_0x44691e,_0x5a2ec5=doc(db,_0x5cca9c(0x2bd),_0x5cca9c(0xb84));try{await setDoc(_0x5a2ec5,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x568433){console['error'](_0x5cca9c(0x91c),_0x568433);}}function renderAdditionalFileShortcutsModal(){const _0x3792dd=_0x44691e,_0x4ac339=document[_0x3792dd(0xcac)]('file-shortcut-tabs-nav'),_0x5e863d=document[_0x3792dd(0xcac)]('additional-file-shortcuts-list');if(!_0x4ac339||!_0x5e863d)return;_0x4ac339[_0x3792dd(0x64a)]=fileShortcutTabs[_0x3792dd(0x39a)](_0x35b862=>{const _0x433510=_0x3792dd,_0x30b760=_0x35b862['id']===activeFileShortcutTabId;return _0x433510(0x6d4)+_0x35b862['id']+'\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x30b760?_0x433510(0x668):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x433510(0x6f0)+_0x35b862[_0x433510(0x8c8)]+_0x433510(0xb76)+_0x35b862['name']+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x35b862[_0x433510(0x1b0)]?'<button\x20data-tab-id=\x22'+_0x35b862['id']+_0x433510(0x63e):'')+_0x433510(0x36b);})['join']('');const _0x2cb728=fileShortcutTabs[_0x3792dd(0xb3a)](_0x391099=>_0x391099['id']===activeFileShortcutTabId);let _0x19b705=_0x2cb728?.[_0x3792dd(0x1b0)]?[...fileShortcuts]:fileShortcuts[_0x3792dd(0x686)](_0x296eb0=>(_0x2cb728?.['shortcutIds']||[])[_0x3792dd(0x764)](_0x296eb0['id']));const _0x1592c3=fileShortcutOrder[activeFileShortcutTabId]||[];_0x19b705[_0x3792dd(0xa24)]((_0x77e410,_0x5882e8)=>{const _0x5b0980=_0x3792dd,_0x4d7e4d=_0x1592c3[_0x5b0980(0x983)](_0x77e410['id']),_0x47ff63=_0x1592c3[_0x5b0980(0x983)](_0x5882e8['id']);return(_0x4d7e4d===-0x1?Infinity:_0x4d7e4d)-(_0x47ff63===-0x1?Infinity:_0x47ff63);}),_0x5e863d[_0x3792dd(0x64a)]=_0x19b705[_0x3792dd(0x39a)](_0x376547=>{const _0x2f72a3=_0x3792dd,_0x13cbdf=_0x376547[_0x2f72a3(0x21f)]?'📄':'🔗',_0xf6d952=fileShortcutTabs[_0x2f72a3(0x686)](_0x3db67e=>!_0x3db67e[_0x2f72a3(0x1b0)]),_0x3ea971=_0x2cb728[_0x2f72a3(0x1b0)]&&_0xf6d952[_0x2f72a3(0x8b4)]>0x0?_0x2f72a3(0x580)+_0xf6d952[_0x2f72a3(0x39a)](_0x1874cf=>_0x2f72a3(0x55d)+_0x376547['id']+_0x2f72a3(0x500)+_0x1874cf['id']+'\x22>'+_0x1874cf['name']+_0x2f72a3(0x198))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x376547['id']+_0x2f72a3(0x61c)+_0x13cbdf+'\x20'+_0x376547[_0x2f72a3(0x8c8)]+_0x2f72a3(0xb04)+_0x376547['id']+_0x2f72a3(0x6c5)+_0x376547['id']+_0x2f72a3(0x1be)+(!_0x376547[_0x2f72a3(0x1b0)]?_0x2f72a3(0x208)+_0x376547['id']+_0x2f72a3(0x39c):'')+_0x2f72a3(0x768)+(!_0x2cb728[_0x2f72a3(0x1b0)]?_0x2f72a3(0x69e)+_0x376547['id']+'\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x2f72a3(0x768)+_0x3ea971+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x3792dd(0xad6)]('')||_0x3792dd(0x956),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x632d16=_0x44691e;document[_0x632d16(0x32a)](_0x632d16(0x8f3))['forEach'](_0x2ceb7a=>{const _0x278561=_0x632d16;_0x2ceb7a[_0x278561(0x800)]=_0x285548=>{const _0x68b6d8=_0x278561;activeFileShortcutTabId=_0x285548['currentTarget'][_0x68b6d8(0x5fd)][_0x68b6d8(0x145)],renderAdditionalFileShortcutsModal();},_0x2ceb7a[_0x278561(0xa17)]=_0x5bfa25=>{const _0x1f5813=_0x278561,_0x44aded=_0x5bfa25[_0x1f5813(0x164)]['querySelector'](_0x1f5813(0x7e2));_0x5bfa25[_0x1f5813(0x164)][_0x1f5813(0x909)](_0x1f5813(0xbf5))[_0x1f5813(0x534)][_0x1f5813(0x174)](_0x1f5813(0xb2f)),_0x44aded['classList'][_0x1f5813(0x392)](_0x1f5813(0xb2f)),_0x44aded[_0x1f5813(0x7a6)](),_0x44aded[_0x1f5813(0x1eb)]();};}),document['querySelectorAll']('#file-shortcut-tabs-nav\x20.tab-name-input')['forEach'](_0x229ef6=>{const _0x3ce0dc=_0x632d16,_0x5a562d=()=>{const _0x167e36=_0x3aeb,_0x19864=_0x229ef6['closest'](_0x167e36(0x8f3))[_0x167e36(0x5fd)][_0x167e36(0x145)],_0x34d930=fileShortcutTabs['find'](_0x236aba=>_0x236aba['id']===_0x19864);_0x34d930&&(_0x34d930[_0x167e36(0x8c8)]=_0x229ef6['value'][_0x167e36(0x5a4)]()||_0x34d930[_0x167e36(0x8c8)],saveFileShortcutConfig());};_0x229ef6['onblur']=_0x5a562d,_0x229ef6[_0x3ce0dc(0x8d5)]=_0x38559a=>{const _0x11e7fe=_0x3ce0dc;if(_0x38559a['key']==='Enter')_0x229ef6[_0x11e7fe(0x16f)]();};}),document[_0x632d16(0x32a)](_0x632d16(0xcb9))['forEach'](_0x73911f=>_0x73911f['onclick']=_0x533ebd=>{const _0x2f8d53=_0x632d16,_0x5ea189=_0x533ebd[_0x2f8d53(0x164)][_0x2f8d53(0x5fd)][_0x2f8d53(0x145)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x31bfeb=_0x2f8d53;fileShortcutTabs=fileShortcutTabs[_0x31bfeb(0x686)](_0x2d6cde=>_0x2d6cde['id']!==_0x5ea189),delete fileShortcutOrder[_0x5ea189];if(activeFileShortcutTabId===_0x5ea189)activeFileShortcutTabId=_0x31bfeb(0x2c7);saveFileShortcutConfig();});}),document[_0x632d16(0x32a)]('.move-file-shortcut-item')[_0x632d16(0xc74)](_0x1e004f=>_0x1e004f[_0x632d16(0x800)]=_0x4094ac=>{const _0x36eca4=_0x632d16;_0x4094ac['preventDefault']();const {shortcutId:_0x4587fd,targetTabId:_0x587a7e}=_0x4094ac[_0x36eca4(0x164)][_0x36eca4(0x5fd)],_0x59c32a=fileShortcutTabs[_0x36eca4(0xb3a)](_0x111983=>_0x111983['id']===_0x587a7e);_0x59c32a&&!_0x59c32a['shortcutIds'][_0x36eca4(0x764)](_0x4587fd)&&(_0x59c32a[_0x36eca4(0x191)][_0x36eca4(0xa12)](_0x4587fd),saveFileShortcutConfig());}),document[_0x632d16(0x32a)](_0x632d16(0x434))[_0x632d16(0xc74)](_0x5940ee=>_0x5940ee[_0x632d16(0x800)]=_0x5de006=>{const _0x5b552e=_0x632d16,_0x43fb92=_0x5de006['currentTarget'][_0x5b552e(0x5fd)]['shortcutId'],_0x1fd609=fileShortcutTabs[_0x5b552e(0xb3a)](_0x5e9845=>_0x5e9845['id']===activeFileShortcutTabId);_0x1fd609&&!_0x1fd609['isDefault']&&(_0x1fd609[_0x5b552e(0x191)]=_0x1fd609['shortcutIds'][_0x5b552e(0x686)](_0x231622=>_0x231622!==_0x43fb92),saveFileShortcutConfig());}),document[_0x632d16(0x32a)](_0x632d16(0xbdc))[_0x632d16(0xc74)](_0x193a35=>_0x193a35[_0x632d16(0x800)]=_0x5d7c2d=>{const _0x2ba2b3=_0x632d16;_0x5d7c2d[_0x2ba2b3(0x517)]();const _0xd87da1=_0x5d7c2d[_0x2ba2b3(0x164)][_0x2ba2b3(0x429)];document[_0x2ba2b3(0x32a)](_0x2ba2b3(0x8f8))[_0x2ba2b3(0xc74)](_0x215862=>_0x215862['classList'][_0x2ba2b3(0x174)]('hidden')),_0xd87da1[_0x2ba2b3(0x534)][_0x2ba2b3(0x392)]('hidden');});const _0x1faf5b=document[_0x632d16(0xcac)](_0x632d16(0x3ef));let _0x283af4=null;_0x1faf5b[_0x632d16(0x86a)]=_0x5a41b3=>{const _0x35329a=_0x632d16;_0x283af4=_0x5a41b3[_0x35329a(0xa9f)][_0x35329a(0xa54)](_0x35329a(0x54c));if(_0x283af4)setTimeout(()=>_0x283af4[_0x35329a(0x534)][_0x35329a(0x174)](_0x35329a(0x2f9)),0x0);},_0x1faf5b['ondragend']=()=>{const _0x5dcb6=_0x632d16;_0x283af4&&(_0x283af4['classList'][_0x5dcb6(0x392)](_0x5dcb6(0x2f9)),_0x283af4=null);},_0x1faf5b[_0x632d16(0x541)]=_0x5e255f=>{_0x5e255f['preventDefault']();},_0x1faf5b['ondrop']=_0x3d2156=>{const _0x2c525d=_0x632d16;_0x3d2156['preventDefault']();if(_0x283af4){const _0x23b795=[..._0x1faf5b[_0x2c525d(0x32a)]('.shortcut-list-item:not(.opacity-50)')]['reduce']((_0x22d84f,_0x3d201a)=>{const _0x3d454d=_0x2c525d,_0x58ef07=_0x3d201a['getBoundingClientRect'](),_0x5e3e05=_0x3d2156[_0x3d454d(0xa05)]-_0x58ef07['top']-_0x58ef07[_0x3d454d(0x2fb)]/0x2;return _0x5e3e05<0x0&&_0x5e3e05>_0x22d84f[_0x3d454d(0x9ad)]?{'offset':_0x5e3e05,'element':_0x3d201a}:_0x22d84f;},{'offset':Number[_0x2c525d(0x8d6)]})[_0x2c525d(0x2d8)];_0x23b795==null?_0x1faf5b['appendChild'](_0x283af4):_0x1faf5b[_0x2c525d(0x4d3)](_0x283af4,_0x23b795);const _0x3512b2=[..._0x1faf5b['querySelectorAll'](_0x2c525d(0x54c))][_0x2c525d(0x39a)](_0x2f0d1e=>_0x2f0d1e[_0x2c525d(0x5fd)][_0x2c525d(0xc10)]);fileShortcutOrder[activeFileShortcutTabId]=_0x3512b2,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x5cdd74=_0x44691e,_0x32c4ae=prompt(_0x5cdd74(0x84b),_0x5cdd74(0x86b));_0x32c4ae&&_0x32c4ae[_0x5cdd74(0x5a4)]()&&(fileShortcutTabs['push']({'id':_0x5cdd74(0x65f)+Date[_0x5cdd74(0xc85)](),'name':_0x32c4ae[_0x5cdd74(0x5a4)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x25f97d=_0x44691e,_0x58ea5a=document[_0x25f97d(0xcac)]('file-shortcut-container'),_0xc2ea37=document['getElementById'](_0x25f97d(0x3ef)),_0x19cfa1=document[_0x25f97d(0xcac)](_0x25f97d(0xa4d));if(_0x19cfa1)_0x19cfa1[_0x25f97d(0x534)][_0x25f97d(0x174)]('hidden');if(!_0x58ea5a||!_0xc2ea37)return;const _0x42ec7a=fileShortcuts[_0x25f97d(0x18e)](0x0,0x4),_0x1d7fbf=fileShortcuts[_0x25f97d(0x18e)](0x4);_0x58ea5a['innerHTML']=_0x42ec7a[_0x25f97d(0x39a)](_0x5270b2=>{const _0x546584=_0x25f97d,_0x3ddcb5=_0x5270b2['url']&&_0x5270b2[_0x546584(0x21f)][_0x546584(0x5a4)]()!=='',_0x4714f8=selectedFile&&selectedFile[_0x546584(0xc10)]===_0x5270b2['id'];let _0x47d844=_0x546584(0x6fb),_0x5d4a96='🔗';if(_0x4714f8)_0x47d844=_0x546584(0xbdb),_0x5d4a96='<i\x20class=\x22fas\x20fa-check-circle\x22></i>';else _0x3ddcb5&&(_0x47d844='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x5d4a96='📄');const _0x507212=!_0x5270b2[_0x546584(0x1b0)]?'<button\x20data-id=\x22'+_0x5270b2['id']+_0x546584(0x4da):'';return _0x546584(0x4b9)+_0x5270b2['id']+'\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20'+_0x47d844+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>'+_0x5d4a96+_0x546584(0x2c8)+_0x5270b2['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5270b2['id']+_0x546584(0xc07)+_0x507212+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x25f97d(0xad6)](''),_0x1d7fbf[_0x25f97d(0x8b4)]>0x0&&(_0x58ea5a['innerHTML']+=_0x25f97d(0xbb5)),_0x1d7fbf[_0x25f97d(0x8b4)]>0x0?_0xc2ea37[_0x25f97d(0x64a)]=_0x1d7fbf['map'](_0x5d861a=>_0x25f97d(0x490)+(_0x5d861a[_0x25f97d(0x21f)]?'📄':'🔗')+'\x20'+_0x5d861a[_0x25f97d(0x8c8)]+_0x25f97d(0x999)+_0x5d861a['id']+_0x25f97d(0x435)+_0x5d861a['id']+_0x25f97d(0x3e2)+(!_0x5d861a[_0x25f97d(0x1b0)]?'<button\x20data-id=\x22'+_0x5d861a['id']+_0x25f97d(0x39c):'')+_0x25f97d(0x73d))[_0x25f97d(0xad6)](''):_0xc2ea37['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openFileShortcutEditor(_0xa77bb4=null){const _0x2697b0=_0x44691e,_0x4e1b35=document[_0x2697b0(0xcac)](_0x2697b0(0x67b)),_0x86b54d=document[_0x2697b0(0xcac)](_0x2697b0(0xa4b)),_0x1edf19=document[_0x2697b0(0xcac)](_0x2697b0(0x144)),_0x5baaca=document[_0x2697b0(0xcac)](_0x2697b0(0x647)),_0x5ce927=document[_0x2697b0(0xcac)](_0x2697b0(0xb45));if(_0xa77bb4){const _0x5ac58e=fileShortcuts[_0x2697b0(0xb3a)](_0x31a9fc=>_0x31a9fc['id']===_0xa77bb4);if(!_0x5ac58e)return;_0x86b54d['textContent']=_0x2697b0(0x26e),_0x1edf19[_0x2697b0(0x1a0)]=_0x5ac58e['id'],_0x5baaca['value']=_0x5ac58e[_0x2697b0(0x8c8)],_0x5ce927[_0x2697b0(0x1a0)]=_0x5ac58e['url']||'';}else _0x86b54d[_0x2697b0(0x20a)]=_0x2697b0(0x96a),_0x1edf19[_0x2697b0(0x1a0)]='',_0x5baaca[_0x2697b0(0x1a0)]='',_0x5ce927[_0x2697b0(0x1a0)]='';_0x4e1b35['classList'][_0x2697b0(0x392)](_0x2697b0(0xb2f));}async function saveFileShortcutChanges(){const _0x2b7e9f=_0x44691e,_0x47732f=document['getElementById'](_0x2b7e9f(0x144))[_0x2b7e9f(0x1a0)],_0x299d2e=document[_0x2b7e9f(0xcac)](_0x2b7e9f(0x647))['value'][_0x2b7e9f(0x5a4)](),_0x457cd4=document[_0x2b7e9f(0xcac)]('file-shortcut-url-input')[_0x2b7e9f(0x1a0)][_0x2b7e9f(0x5a4)]();if(!_0x299d2e){showMessage(_0x2b7e9f(0x8b2));return;}const _0x544274={'id':_0x47732f||_0x2b7e9f(0xc35)+Date['now'](),'name':_0x299d2e,'url':_0x457cd4,'isDefault':_0x47732f[_0x2b7e9f(0x465)](_0x2b7e9f(0x33a))};let _0x57e884;_0x47732f?_0x57e884=fileShortcuts['map'](_0x546dd2=>_0x546dd2['id']===_0x47732f?_0x544274:_0x546dd2):_0x57e884=[...fileShortcuts,_0x544274];try{const _0x1e4322=doc(db,'globalSettings',_0x2b7e9f(0xb84));await setDoc(_0x1e4322,{'shortcuts':_0x57e884},{'merge':!![]}),document[_0x2b7e9f(0xcac)](_0x2b7e9f(0x67b))[_0x2b7e9f(0x534)]['add'](_0x2b7e9f(0xb2f));}catch(_0x2a0b4f){console[_0x2b7e9f(0x723)](_0x2b7e9f(0x3cf),_0x2a0b4f),showMessage(_0x2b7e9f(0x742));}}async function handleFileShortcutClick(_0x33d030){const _0x47bd26=_0x44691e,_0x4f49a6=fileShortcuts[_0x47bd26(0xb3a)](_0x208868=>_0x208868['id']===_0x33d030);if(!_0x4f49a6)return;if(!_0x4f49a6[_0x47bd26(0x21f)]||_0x4f49a6[_0x47bd26(0x21f)][_0x47bd26(0x5a4)]()===''){openFileShortcutEditor(_0x33d030);return;}const _0x41ba0f=document[_0x47bd26(0x909)](_0x47bd26(0x66f)+_0x33d030+'\x22]');if(_0x41ba0f){const _0x17a9b9=_0x41ba0f[_0x47bd26(0x64a)];_0x41ba0f[_0x47bd26(0x64a)]='<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>',_0x41ba0f['disabled']=!![];}document[_0x47bd26(0x32a)](_0x47bd26(0x753))[_0x47bd26(0xc74)](_0x50465a=>{const _0x135222=_0x47bd26;if(_0x50465a['dataset']['id']!==_0x33d030)_0x50465a[_0x135222(0x534)][_0x135222(0x174)]('opacity-50',_0x135222(0xb6a));});try{const _0x1f1a0b=new URL(_0x4f49a6[_0x47bd26(0x21f)])[_0x47bd26(0x7b9)],_0x39755a=_0x1f1a0b['substring'](_0x1f1a0b[_0x47bd26(0x4bc)]('/')+0x1)||(_0x4f49a6[_0x47bd26(0x21f)][_0x47bd26(0x764)](_0x47bd26(0xa04))?_0x47bd26(0x387):_0x47bd26(0x3b2)),_0x126b72=await fetchFileFromUrl(_0x4f49a6[_0x47bd26(0x21f)],_0x39755a);_0x126b72[_0x47bd26(0xc10)]=_0x33d030,selectedFile=_0x126b72,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x47bd26(0xcac)]('file-input-area')[_0x47bd26(0xbf9)]({'behavior':_0x47bd26(0x2ec),'block':_0x47bd26(0x847)});}catch(_0x19a692){console[_0x47bd26(0x723)](_0x47bd26(0x6c4),_0x19a692),showMessage(_0x47bd26(0xb8a)+_0x19a692['message']),renderFileShortcuts();}finally{document[_0x47bd26(0x32a)](_0x47bd26(0x753))[_0x47bd26(0xc74)](_0x12dfec=>{const _0x124b6d=_0x47bd26;_0x12dfec[_0x124b6d(0x534)][_0x124b6d(0x392)](_0x124b6d(0x2f9),_0x124b6d(0xb6a)),_0x12dfec[_0x124b6d(0x585)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x11c394=_0x44691e;if(allQuizzesGlobal['length']>0x0)return;console[_0x11c394(0x18c)](_0x11c394(0x8e4)),showMessage(_0x11c394(0xacd));try{const _0x5f4bc2=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x5f4bc2['docs'][_0x11c394(0x39a)](_0x40ccd4=>({'id':_0x40ccd4['id'],..._0x40ccd4[_0x11c394(0x2a7)]()})),console[_0x11c394(0x18c)]('Loaded\x20'+allQuizzesGlobal[_0x11c394(0x8b4)]+'\x20quizzes\x20into\x20global\x20cache.'),messageModal[_0x11c394(0x534)][_0x11c394(0x174)]('hidden');}catch(_0x512cd9){console['error']('Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.',_0x512cd9),messageModal[_0x11c394(0x534)][_0x11c394(0x174)]('hidden');throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x580f6a=_0x44691e;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x580f6a(0x9b4));return;}const _0x57d7f6=currentQuizData,_0x3a6cd7=window[_0x580f6a(0xc2c)]('','_blank'),_0x46e15e=_0xc92aa4=>String[_0x580f6a(0x163)](0x41+_0xc92aa4),_0x413911=_0x580f6a(0x5db)+_0x57d7f6[_0x580f6a(0x180)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x57d7f6[_0x580f6a(0x180)]+_0x580f6a(0xcba)+_0x57d7f6[_0x580f6a(0x8f1)]['map']((_0x3ef5de,_0x4cbca4)=>{const _0x297e4a=_0x580f6a;let _0x58ef50='';const _0x210e14=_0x3ef5de[_0x297e4a(0xb42)]||_0x57d7f6[_0x297e4a(0x196)];switch(_0x210e14){case _0x297e4a(0xb47):case _0x297e4a(0x7cc):_0x58ef50=_0x297e4a(0x8f4)+_0x3ef5de['options'][_0x297e4a(0x39a)]((_0x125fde,_0x5b00b5)=>_0x297e4a(0x328)+_0x46e15e(_0x5b00b5)+'.\x20'+_0x125fde+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](_0x297e4a(0x260))+_0x297e4a(0xbeb);break;case _0x297e4a(0x9c3):_0x58ef50=_0x297e4a(0x1d0);break;default:_0x58ef50=_0x297e4a(0xac8);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x4cbca4+0x1)+_0x297e4a(0x910)+(_0x3ef5de[_0x297e4a(0x388)]||_0x3ef5de[_0x297e4a(0x83f)])+_0x297e4a(0x9a4)+(_0x3ef5de[_0x297e4a(0x65a)]?_0x297e4a(0x58f)+_0x3ef5de[_0x297e4a(0x65a)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x58ef50+_0x297e4a(0xc02);})[_0x580f6a(0xad6)]('')+_0x580f6a(0x671);_0x3a6cd7[_0x580f6a(0xab9)][_0x580f6a(0xc6c)](_0x413911),_0x3a6cd7[_0x580f6a(0xab9)][_0x580f6a(0x678)](),_0x3a6cd7['onload']=function(){setTimeout(()=>{_0x3a6cd7['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x4161b5=_0x44691e;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x4161b5(0x9b4));return;}const _0x73a0b4=currentQuizData,_0x49a406=window[_0x4161b5(0xc2c)]('',_0x4161b5(0x5e9)),_0x49f7af=_0x448ffb=>String['fromCharCode'](0x41+_0x448ffb),_0x18ed3e=_0x4161b5(0x1f5)+_0x73a0b4[_0x4161b5(0x180)]+_0x4161b5(0xc0d)+_0x73a0b4[_0x4161b5(0x8f1)][_0x4161b5(0x39a)]((_0x47c5b3,_0x2f7b75)=>{const _0x1d4370=_0x4161b5;let _0x5f3fd2='';const _0x2ff936=_0x47c5b3[_0x1d4370(0xb42)]||_0x73a0b4[_0x1d4370(0x196)];switch(_0x2ff936){case _0x1d4370(0xb47):case _0x1d4370(0x7cc):_0x5f3fd2=_0x1d4370(0x14e)+_0x47c5b3['options'][_0x1d4370(0x39a)]((_0x59f759,_0x42601e)=>_0x1d4370(0x50a)+_0x49f7af(_0x42601e)+'.\x20'+_0x59f759+'</span>')['join']('<br>')+_0x1d4370(0xa84);break;case'true_false':_0x5f3fd2=_0x1d4370(0x316);break;default:_0x5f3fd2='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x73a0b4['topic']+_0x1d4370(0x154)+(_0x2f7b75+0x1)+_0x1d4370(0x5eb)+(_0x47c5b3['stem']||_0x47c5b3[_0x1d4370(0x83f)])+_0x1d4370(0x9a4)+(_0x47c5b3['imageCode']?'<div\x20class=\x22my-6\x22>'+_0x47c5b3['imageCode']+_0x1d4370(0xbeb):'')+_0x1d4370(0xb5a)+_0x5f3fd2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+_0x4161b5(0x6cf);_0x49a406['document']['write'](_0x18ed3e),_0x49a406[_0x4161b5(0xab9)]['close'](),_0x49a406[_0x4161b5(0x48f)]=function(){setTimeout(()=>{const _0xacec31=_0x3aeb;_0x49a406[_0xacec31(0x6f2)]();},0x5dc);};}async function handleToggleStarQuiz(_0x447c03){const _0x2cfe4e=_0x44691e,_0x3ed1ea=doc(db,_0x2cfe4e(0x1c4)+appId+_0x2cfe4e(0x1fa),_0x447c03);try{const _0x3ced90=await getDoc(_0x3ed1ea);if(_0x3ced90[_0x2cfe4e(0x72f)]()){const _0x3e7f38=_0x3ced90['data']()['isStarred']||![];await updateDoc(_0x3ed1ea,{'isStarred':!_0x3e7f38});}}catch(_0x5e8a7f){console[_0x2cfe4e(0x723)]('Error\x20toggling\x20star\x20status:',_0x5e8a7f),showMessage(_0x2cfe4e(0xb9b));}}async function displayQuestionBank(){const _0x328356=_0x44691e,_0x20279a=document[_0x328356(0xcac)](_0x328356(0xabe));_0x20279a[_0x328356(0x64a)]=_0x328356(0x29f);try{const _0x268689=collection(db,_0x328356(0x1c4)+appId+'/users/'+userId+_0x328356(0x935)),_0x256922=query(_0x268689),_0x350d11=await getDocs(_0x256922);if(_0x350d11[_0x328356(0x99e)]){_0x20279a[_0x328356(0x64a)]=_0x328356(0xcd0);return;}let _0x7dcfba=_0x350d11[_0x328356(0xb1e)][_0x328356(0x39a)](_0x195f4f=>{const _0xeb2e31=_0x328356,_0x5eeca3=_0x195f4f[_0xeb2e31(0x2a7)](),_0x4adf5e=_0x195f4f['id'];return _0xeb2e31(0x9e5)+JSON[_0xeb2e31(0xae8)](_0x5eeca3)+_0xeb2e31(0x947)+(_0x5eeca3[_0xeb2e31(0x83f)]||_0x5eeca3[_0xeb2e31(0x388)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x5eeca3[_0xeb2e31(0x222)]+_0xeb2e31(0xcc4);})['join']('');_0x20279a[_0x328356(0x64a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x7dcfba+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById'](_0x328356(0x5b4))['addEventListener'](_0x328356(0x486),createQuizFromBank);}catch(_0xd6745b){console['error'](_0x328356(0x781),_0xd6745b),_0x20279a[_0x328356(0x64a)]=_0x328356(0xcae);}}async function handleExportLessonToPDF(){const _0x409152=_0x44691e,_0x1e9468=document[_0x409152(0xcac)](_0x409152(0x8b6)),_0x8348ec=document['getElementById'](_0x409152(0x55a))[_0x409152(0x20a)]||'บทเรียน';if(!_0x1e9468){showMessage('ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export');return;}const _0x54782d=window[_0x409152(0xc2c)]('','_blank'),_0x3e1818='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x8348ec+_0x409152(0x7d1)+_0x8348ec+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e9468['innerHTML']+_0x409152(0x671);_0x54782d[_0x409152(0xab9)][_0x409152(0xc6c)](_0x3e1818),_0x54782d[_0x409152(0xab9)][_0x409152(0x678)](),_0x54782d['onload']=function(){setTimeout(()=>{_0x54782d['print']();},0x7d0);};}function showAdminLiveQuestionView(_0x26e985,_0x49bd66,_0x1a736c){const _0x29475e=_0x44691e,_0x4d8ffa=_0x26e985[_0x29475e(0xb42)]||currentQuizData[_0x29475e(0x196)];let _0x4b85c9='';if(_0x4d8ffa===_0x29475e(0xb47)||_0x4d8ffa==='true_false'){const _0x5f3437=_0x4d8ffa===_0x29475e(0x9c3)?[_0x29475e(0x51c),'ไม่ใช่']:_0x26e985[_0x29475e(0xbd7)],_0x23a7c7=_0x4d8ffa===_0x29475e(0x9c3)?_0x26e985[_0x29475e(0x492)]?0x0:0x1:_0x26e985[_0x29475e(0x576)];_0x4b85c9=_0x5f3437[_0x29475e(0x39a)]((_0x2c6731,_0x1fa761)=>_0x29475e(0xb5b)+(_0x1fa761===_0x23a7c7)+_0x29475e(0xbd8)+_0x2c6731+_0x29475e(0xbd6))[_0x29475e(0xad6)]('');}else{if(_0x4d8ffa==='matching_item'){const _0x2e9823=_0x26e985[_0x29475e(0xa33)]||[];_0x4b85c9=_0x2e9823[_0x29475e(0x39a)](_0x468356=>_0x29475e(0xb5b)+(_0x468356===_0x26e985[_0x29475e(0x964)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x468356+_0x29475e(0xbd6))['join']('');}}const _0x522546=_0x26e985['stem']||_0x26e985[_0x29475e(0x83f)],_0x55b2fe=_0x29475e(0x591)+(_0x49bd66+0x1)+_0x29475e(0x868)+_0x1a736c+_0x29475e(0x3cb)+currentLiveGamePin+_0x29475e(0x95a)+_0x522546+_0x29475e(0x68c)+_0x4b85c9+_0x29475e(0x58e);liveGameView[_0x29475e(0x64a)]=_0x55b2fe,window[_0x29475e(0x2b2)]&&MathJax[_0x29475e(0xca5)]&&MathJax[_0x29475e(0xca5)]([liveGameView]),document[_0x29475e(0xcac)](_0x29475e(0xbcb))[_0x29475e(0x36e)](_0x29475e(0x486),()=>revealAnswerForAdmin(_0x49bd66,_0x1a736c)),document[_0x29475e(0xcac)]('end-game-btn')[_0x29475e(0x36e)](_0x29475e(0x486),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x4fb534=_0x3aeb,_0x24cd84=doc(db,'artifacts/'+appId+_0x4fb534(0x68d),currentLiveGameId);await updateDoc(_0x24cd84,{'status':_0x4fb534(0x69f)});});}),document['getElementById'](_0x29475e(0x996))[_0x29475e(0x36e)](_0x29475e(0x486),()=>{const _0x3ed59d=_0x29475e;document['getElementById'](_0x3ed59d(0xb1f))['classList'][_0x3ed59d(0xa90)](_0x3ed59d(0xb2f));});}function promptForProjectBeforeGenerating(_0x427419){const _0x5758ae=_0x44691e,_0x4336e7=document['getElementById'](_0x5758ae(0x269)),_0x36f01e=document[_0x5758ae(0xcac)](_0x5758ae(0x6a7)),_0x5b3fec=_0x4336e7[_0x5758ae(0x909)]('h3'),_0x2d92d8=document[_0x5758ae(0xcac)]('confirm-move-quiz-btn'),_0x38d667=document[_0x5758ae(0xcac)]('cancel-move-quiz-btn');_0x5b3fec[_0x5758ae(0x20a)]=_0x5758ae(0x7b8),_0x2d92d8['textContent']=_0x5758ae(0x219),_0x2d92d8['disabled']=!![];allProjects[_0x5758ae(0x8b4)]===0x0?_0x36f01e[_0x5758ae(0x64a)]=_0x5758ae(0xc92):(_0x36f01e[_0x5758ae(0x64a)]=_0x5758ae(0x5f6)+allProjects['map'](_0x594b17=>_0x5758ae(0x458)+_0x594b17['id']+'\x22>'+_0x594b17[_0x5758ae(0xc87)]+_0x5758ae(0x61d))['join'](''),_0x2d92d8[_0x5758ae(0x585)]=![]);_0x4336e7[_0x5758ae(0x534)][_0x5758ae(0x392)]('hidden');const _0x1045e2=async()=>{const _0x4aa618=_0x5758ae,_0x47804a=_0x36f01e['value'];if(!_0x47804a){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x4336e7[_0x4aa618(0x534)][_0x4aa618(0x174)](_0x4aa618(0xb2f)),await loadProjectDetails(_0x47804a),showView(_0x4aa618(0x7fb)),handleGenerateQuizFromBlueprintTopic(_0x427419),_0x4cdc9b();},_0x4cdc9b=()=>{const _0x172738=_0x5758ae;_0x5b3fec[_0x172738(0x20a)]=_0x172738(0xb6f),_0x2d92d8['textContent']=_0x172738(0xbe4),_0x2d92d8['removeEventListener']('click',_0x1045e2),_0x38d667[_0x172738(0x4c9)](_0x172738(0x486),_0x4cdc9b),_0x2d92d8[_0x172738(0x36e)]('click',confirmMoveQuiz);};_0x2d92d8[_0x5758ae(0x4c9)](_0x5758ae(0x486),confirmMoveQuiz),_0x2d92d8[_0x5758ae(0x36e)]('click',_0x1045e2),_0x38d667[_0x5758ae(0x36e)]('click',_0x4cdc9b);}function showStudentLiveQuestionView(_0xa3b598,_0xc0938a,_0x1b271d){const _0x168baa=_0x44691e,_0x529825=_0xa3b598['questionType']||currentQuizData[_0x168baa(0x196)];let _0x2319dc='';if(_0x529825==='multiple_choice'||_0x529825===_0x168baa(0x9c3)){const _0x2958f8=_0x529825===_0x168baa(0x9c3)?['ใช่',_0x168baa(0x61e)]:_0xa3b598[_0x168baa(0xbd7)];_0x2319dc=_0x2958f8[_0x168baa(0x39a)]((_0x7b04cb,_0x36281f)=>_0x168baa(0x2e9)+_0x36281f+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x7b04cb+_0x168baa(0x96c))[_0x168baa(0xad6)]('');}else{if(_0x529825===_0x168baa(0xc00)){const _0x1fa555=_0xa3b598['allResponses']||[];_0x2319dc=_0x1fa555[_0x168baa(0x39a)]((_0x20a3a5,_0x537b25)=>_0x168baa(0x2e9)+_0x537b25+_0x168baa(0x416)+_0x20a3a5+_0x168baa(0x96c))['join']('');}else _0x529825===_0x168baa(0x982)&&(_0x2319dc=_0x168baa(0x3c1));}const _0x1db4d7=_0xa3b598[_0x168baa(0x388)]||_0xa3b598[_0x168baa(0x83f)],_0x15b388=_0x168baa(0x24f)+(_0xc0938a+0x1)+_0x168baa(0x868)+_0x1b271d+_0x168baa(0xca3)+_0x1db4d7+_0x168baa(0x8b8)+_0x2319dc+_0x168baa(0x625);liveGameView[_0x168baa(0x64a)]=_0x15b388;window[_0x168baa(0x2b2)]&&MathJax[_0x168baa(0xca5)]&&MathJax[_0x168baa(0xca5)]([liveGameView]);const _0x7b455=document[_0x168baa(0xcac)]('live-submit-short-answer-btn');_0x7b455&&_0x7b455[_0x168baa(0x36e)]('click',()=>{const _0x1a4491=_0x168baa,_0xed22fc=document[_0x1a4491(0xcac)](_0x1a4491(0x67e))[_0x1a4491(0x1a0)];handleLiveAnswer(_0xed22fc,_0xa3b598);}),document['getElementById'](_0x168baa(0x40c))[_0x168baa(0x36e)](_0x168baa(0x486),_0x4a728c=>{const _0x7bc7ab=_0x168baa,_0x1d99d9=_0x4a728c[_0x7bc7ab(0xa9f)][_0x7bc7ab(0xa54)](_0x7bc7ab(0x575));if(_0x1d99d9){const _0x50dd61=parseInt(_0x1d99d9[_0x7bc7ab(0x5fd)][_0x7bc7ab(0x166)]);handleLiveAnswer(_0x50dd61,_0xa3b598);}});}function listenForBlueprintShortcuts(){const _0x22c437=_0x44691e,_0x3c0712=doc(db,_0x22c437(0x2bd),_0x22c437(0x530));onSnapshot(_0x3c0712,_0x11cdfc=>{const _0x41cda5=_0x22c437;let _0x59aa23=[],_0x2ab7d1=[],_0x5173d5={};if(_0x11cdfc[_0x41cda5(0x72f)]()){const _0x27beb4=_0x11cdfc[_0x41cda5(0x2a7)]();_0x59aa23=_0x27beb4['blueprintShortcuts']||[],_0x2ab7d1=_0x27beb4[_0x41cda5(0xa8c)]||[],_0x5173d5=_0x27beb4[_0x41cda5(0x494)]||{};}!_0x2ab7d1[_0x41cda5(0xb3a)](_0x3499ec=>_0x3499ec['id']===_0x41cda5(0x2c7))&&_0x2ab7d1['unshift']({'id':_0x41cda5(0x2c7),'name':_0x41cda5(0x89d),'isDefault':!![]}),!_0x59aa23['find'](_0x1ac782=>_0x1ac782['id']===_0x41cda5(0x552))&&_0x59aa23['unshift']({'id':_0x41cda5(0x552),'name':_0x41cda5(0x8d0),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x59aa23[_0x41cda5(0xb3a)](_0x4d446d=>_0x4d446d['id']==='default-2')&&_0x59aa23[_0x41cda5(0x6d9)]({'id':_0x41cda5(0x301),'name':_0x41cda5(0x87d),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x59aa23,shortcutTabs=_0x2ab7d1,shortcutOrder=_0x5173d5,renderBlueprintShortcuts(),!document[_0x41cda5(0xcac)](_0x41cda5(0x153))[_0x41cda5(0x534)][_0x41cda5(0xbfc)](_0x41cda5(0xb2f))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x10151d=_0x44691e,_0x570bb1=document['getElementById']('shortcut-tabs-nav'),_0x253ab6=document[_0x10151d(0xcac)]('additional-shortcuts-list');if(!_0x570bb1||!_0x253ab6)return;_0x570bb1[_0x10151d(0x64a)]=shortcutTabs[_0x10151d(0x39a)](_0x3a8f87=>{const _0x39aadc=_0x10151d,_0x21c62a=_0x3a8f87['id']===activeShortcutTabId,_0x15e294=_0x39aadc(0x668),_0x1ef7e6=_0x39aadc(0x820);return _0x39aadc(0x5b2)+_0x3a8f87['id']+'\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x21c62a?_0x15e294:_0x1ef7e6)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x3a8f87[_0x39aadc(0x8c8)]+_0x39aadc(0x51d)+_0x3a8f87[_0x39aadc(0x8c8)]+_0x39aadc(0x461)+(!_0x3a8f87[_0x39aadc(0x1b0)]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x3a8f87['id']+'\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x39aadc(0xbd6);})['join']('');const _0x57dbe8=shortcutTabs[_0x10151d(0xb3a)](_0x5d6044=>_0x5d6044['id']===activeShortcutTabId);let _0xb21ca5=[];if(_0x57dbe8){if(_0x57dbe8[_0x10151d(0x1b0)])_0xb21ca5=[...blueprintShortcuts];else{const _0x2218c4=_0x57dbe8['shortcutIds']||[];_0xb21ca5=blueprintShortcuts[_0x10151d(0x686)](_0x2a5f00=>_0x2218c4[_0x10151d(0x764)](_0x2a5f00['id']));}}const _0x2cb0e3=shortcutOrder[activeShortcutTabId]||[];_0xb21ca5[_0x10151d(0xa24)]((_0x158c6f,_0x3bb146)=>{const _0xe5b311=_0x10151d,_0xe351db=_0x2cb0e3[_0xe5b311(0x983)](_0x158c6f['id']),_0x51ab75=_0x2cb0e3[_0xe5b311(0x983)](_0x3bb146['id']);if(_0xe351db===-0x1)return 0x1;if(_0x51ab75===-0x1)return-0x1;return _0xe351db-_0x51ab75;}),_0x253ab6[_0x10151d(0x64a)]=_0xb21ca5['length']>0x0?_0xb21ca5['map'](_0x465000=>{const _0x3e21db=_0x10151d;let _0x17216b='🧩';if(_0x465000[_0x3e21db(0x923)]&&_0x465000['referenceUrl'])_0x17216b='📗';else{if(_0x465000[_0x3e21db(0x923)])_0x17216b='📘';}const _0x350770=shortcutTabs['filter'](_0x38f3a1=>!_0x38f3a1[_0x3e21db(0x1b0)]),_0x509136=_0x57dbe8[_0x3e21db(0x1b0)]&&_0x350770[_0x3e21db(0x8b4)]>0x0?_0x3e21db(0x756)+_0x350770['map'](_0xc0ebcc=>_0x3e21db(0x42b)+_0x465000['id']+_0x3e21db(0x500)+_0xc0ebcc['id']+'\x22>'+_0xc0ebcc[_0x3e21db(0x8c8)]+'</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':'';return _0x3e21db(0x914)+_0x465000['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x17216b+'\x20'+_0x465000['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x465000['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x465000['id']+_0x3e21db(0x184)+(!_0x465000[_0x3e21db(0x1b0)]?_0x3e21db(0x208)+_0x465000['id']+_0x3e21db(0xb97):'')+_0x3e21db(0x5e5)+(!_0x57dbe8[_0x3e21db(0x1b0)]?_0x3e21db(0x69e)+_0x465000['id']+'\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x3e21db(0x5e5)+_0x509136+_0x3e21db(0x2d4);})[_0x10151d(0xad6)](''):_0x10151d(0x956),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x383287=_0x44691e;document[_0x383287(0x32a)](_0x383287(0x147))[_0x383287(0xc74)](_0x474617=>{const _0x34aed8=_0x383287;_0x474617['addEventListener'](_0x34aed8(0x486),_0xcf1bf4=>{const _0x36be13=_0x34aed8;activeShortcutTabId=_0xcf1bf4[_0x36be13(0x164)][_0x36be13(0x5fd)][_0x36be13(0x145)],renderAdditionalShortcutsModal();}),_0x474617['addEventListener']('dblclick',_0x52f3d6=>{const _0x217273=_0x34aed8,_0x385516=_0x52f3d6['currentTarget'];_0x385516[_0x217273(0x909)](_0x217273(0xbf5))['classList'][_0x217273(0x174)]('hidden');const _0x4d9a2c=_0x385516[_0x217273(0x909)](_0x217273(0x7e2));_0x4d9a2c[_0x217273(0x534)]['remove'](_0x217273(0xb2f)),_0x4d9a2c[_0x217273(0x7a6)](),_0x4d9a2c[_0x217273(0x1eb)]();});}),document['querySelectorAll']('.tab-name-input')[_0x383287(0xc74)](_0x338f50=>{const _0x3e62bd=_0x383287,_0xab7877=()=>{const _0x62cd4a=_0x3aeb,_0x49d3bb=_0x338f50[_0x62cd4a(0xa54)](_0x62cd4a(0x147))[_0x62cd4a(0x5fd)]['tabId'];handleRenameShortcutTab(_0x49d3bb,_0x338f50[_0x62cd4a(0x1a0)]);};_0x338f50[_0x3e62bd(0x36e)]('blur',_0xab7877),_0x338f50[_0x3e62bd(0x36e)](_0x3e62bd(0x321),_0x3a0173=>{const _0x4f84b7=_0x3e62bd;if(_0x3a0173[_0x4f84b7(0xbc3)]===_0x4f84b7(0x3eb))_0x338f50[_0x4f84b7(0x16f)]();});}),document[_0x383287(0x32a)]('.delete-shortcut-tab-btn')['forEach'](_0x1d65da=>{const _0x3dc949=_0x383287;_0x1d65da[_0x3dc949(0x36e)]('click',_0x80469a=>handleDeleteShortcutTab(_0x80469a[_0x3dc949(0x164)]['dataset']['tabId']));}),document[_0x383287(0x32a)](_0x383287(0xb50))[_0x383287(0xc74)](_0x5990d9=>{const _0x53c3ae=_0x383287;_0x5990d9[_0x53c3ae(0x36e)](_0x53c3ae(0x486),_0x2b3d91=>{const _0x1ba39f=_0x53c3ae;_0x2b3d91[_0x1ba39f(0x294)]();const {shortcutId:_0x20f402,targetTabId:_0x5e19ec}=_0x2b3d91[_0x1ba39f(0x164)][_0x1ba39f(0x5fd)];handleMoveShortcutToTab(_0x20f402,_0x5e19ec);});}),document['querySelectorAll'](_0x383287(0x528))[_0x383287(0xc74)](_0x2b1023=>{const _0x318784=_0x383287;_0x2b1023[_0x318784(0x36e)]('click',_0x35a088=>{const _0x157f04=_0x318784;handleRemoveShortcutFromTab(_0x35a088[_0x157f04(0x164)][_0x157f04(0x5fd)][_0x157f04(0xc10)],activeShortcutTabId);});});const _0x3b3557=document[_0x383287(0xcac)](_0x383287(0x8d9));_0x3b3557[_0x383287(0x32a)](_0x383287(0x38e))[_0x383287(0xc74)](_0x358c21=>{const _0x540509=_0x383287;_0x358c21['addEventListener'](_0x540509(0x486),()=>{const _0x4a68f9=_0x540509;document[_0x4a68f9(0xcac)](_0x4a68f9(0x153))[_0x4a68f9(0x534)][_0x4a68f9(0x174)]('hidden'),handleShortcutClick(_0x358c21[_0x4a68f9(0x5fd)]['id']);});});let _0x165b05=null;_0x3b3557['addEventListener'](_0x383287(0x258),_0x34ca61=>{const _0x164277=_0x383287;_0x165b05=_0x34ca61[_0x164277(0xa9f)][_0x164277(0xa54)](_0x164277(0x54c)),_0x165b05&&setTimeout(()=>_0x165b05[_0x164277(0x534)][_0x164277(0x174)]('opacity-50'),0x0);}),_0x3b3557[_0x383287(0x36e)]('dragend',()=>{const _0x33a165=_0x383287;_0x165b05&&(_0x165b05['classList'][_0x33a165(0x392)](_0x33a165(0x2f9)),_0x165b05=null);}),_0x3b3557[_0x383287(0x36e)](_0x383287(0x918),_0x5c99d2=>{const _0x28fa82=_0x383287;_0x5c99d2[_0x28fa82(0x294)]();const _0x2d1bc5=[..._0x3b3557[_0x28fa82(0x32a)](_0x28fa82(0x555))]['reduce']((_0xf1ebf0,_0x29fe1e)=>{const _0x42804b=_0x28fa82,_0x203820=_0x29fe1e[_0x42804b(0x26f)](),_0x1da463=_0x5c99d2[_0x42804b(0xa05)]-_0x203820['top']-_0x203820[_0x42804b(0x2fb)]/0x2;return _0x1da463<0x0&&_0x1da463>_0xf1ebf0['offset']?{'offset':_0x1da463,'element':_0x29fe1e}:_0xf1ebf0;},{'offset':Number['NEGATIVE_INFINITY']})[_0x28fa82(0x2d8)];_0x2d1bc5==null?_0x3b3557[_0x28fa82(0x740)](_0x165b05):_0x3b3557[_0x28fa82(0x4d3)](_0x165b05,_0x2d1bc5);}),_0x3b3557[_0x383287(0x36e)](_0x383287(0x6fc),_0x51e395=>{const _0x5ef09b=_0x383287;_0x51e395[_0x5ef09b(0x294)]();if(_0x165b05){const _0x145566=[..._0x3b3557[_0x5ef09b(0x32a)](_0x5ef09b(0x54c))][_0x5ef09b(0x39a)](_0x57fb5d=>_0x57fb5d[_0x5ef09b(0x5fd)][_0x5ef09b(0xc10)]);handleShortcutOrderChange(activeShortcutTabId,_0x145566);}}),document[_0x383287(0x32a)](_0x383287(0xc60))[_0x383287(0xc74)](_0x31ae01=>{const _0x2da87b=_0x383287;_0x31ae01[_0x2da87b(0x36e)]('click',_0x4a475d=>{const _0x404924=_0x2da87b;_0x4a475d[_0x404924(0x517)]();const _0x130379=_0x4a475d[_0x404924(0x164)][_0x404924(0x429)],_0x3a5bc2=_0x130379[_0x404924(0x534)]['contains']('hidden');document[_0x404924(0x32a)]('.move-shortcut-dropdown')[_0x404924(0xc74)](_0x2074a5=>_0x2074a5[_0x404924(0x534)][_0x404924(0x174)](_0x404924(0xb2f))),_0x3a5bc2&&_0x130379[_0x404924(0x534)][_0x404924(0x392)](_0x404924(0xb2f));});});}document['addEventListener'](_0x44691e(0x486),_0x5a1cbf=>{const _0x485818=_0x44691e;!_0x5a1cbf[_0x485818(0xa9f)][_0x485818(0xa54)]('.group\x5c/dropdown')&&document[_0x485818(0x32a)](_0x485818(0x295))[_0x485818(0xc74)](_0x315e92=>_0x315e92['classList'][_0x485818(0x174)]('hidden'));});async function saveShortcutConfig(){const _0x4e1fc4=_0x44691e,_0x420ce=doc(db,_0x4e1fc4(0x2bd),_0x4e1fc4(0x530));try{await setDoc(_0x420ce,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x3f38c3){console[_0x4e1fc4(0x723)](_0x4e1fc4(0x9f6),_0x3f38c3);}}async function handleAddShortcutTab(){const _0x2c2abc=_0x44691e,_0x5f3ee1=prompt(_0x2c2abc(0x84b),_0x2c2abc(0x86b));if(!_0x5f3ee1||_0x5f3ee1['trim']()==='')return;shortcutTabs[_0x2c2abc(0xa12)]({'id':_0x2c2abc(0x65f)+Date[_0x2c2abc(0xc85)](),'name':_0x5f3ee1[_0x2c2abc(0x5a4)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x5ab27c,_0x2f2279){const _0x3f5578=_0x44691e,_0x4308a8=shortcutTabs[_0x3f5578(0xb3a)](_0x4a4182=>_0x4a4182['id']===_0x5ab27c);_0x4308a8&&_0x2f2279[_0x3f5578(0x5a4)]()!==''&&(_0x4308a8['name']=_0x2f2279[_0x3f5578(0x5a4)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x32d66a){const _0x25c1b2=_0x44691e,_0x31ccc9=shortcutTabs['find'](_0x270d88=>_0x270d88['id']===_0x32d66a);_0x31ccc9&&!_0x31ccc9[_0x25c1b2(0x1b0)]&&showConfirmation(_0x25c1b2(0x505)+_0x31ccc9[_0x25c1b2(0x8c8)]+_0x25c1b2(0x8df),async()=>{const _0x271339=_0x25c1b2;shortcutTabs=shortcutTabs[_0x271339(0x686)](_0x5dbf64=>_0x5dbf64['id']!==_0x32d66a),delete shortcutOrder[_0x32d66a];if(activeShortcutTabId===_0x32d66a)activeShortcutTabId='all';await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x473187,_0xeb7f8e){const _0x342416=_0x44691e,_0x214548=shortcutTabs[_0x342416(0xb3a)](_0x2df2eb=>_0x2df2eb['id']===_0xeb7f8e);_0x214548&&!_0x214548['shortcutIds'][_0x342416(0x764)](_0x473187)&&(_0x214548[_0x342416(0x191)]['push'](_0x473187),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x3d4ab3,_0x3587e3){const _0x366ea7=_0x44691e,_0x2a8e9f=shortcutTabs[_0x366ea7(0xb3a)](_0x4bbda7=>_0x4bbda7['id']===_0x3587e3);_0x2a8e9f&&!_0x2a8e9f[_0x366ea7(0x1b0)]&&(_0x2a8e9f[_0x366ea7(0x191)]=_0x2a8e9f[_0x366ea7(0x191)][_0x366ea7(0x686)](_0x95ceeb=>_0x95ceeb!==_0x3d4ab3),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x2e32a1,_0x8607bc){shortcutOrder[_0x2e32a1]=_0x8607bc,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x512a06=_0x44691e,_0x663587=document['getElementById'](_0x512a06(0xb94)),_0x540ee9=document[_0x512a06(0xcac)](_0x512a06(0x8d9)),_0x941299=document[_0x512a06(0xcac)](_0x512a06(0x237));_0x941299&&_0x941299[_0x512a06(0x534)][_0x512a06(0x174)](_0x512a06(0xb2f));if(!_0x663587||!_0x540ee9)return;const _0x6adf8a=blueprintShortcuts[_0x512a06(0x18e)](0x0,0x4),_0x344366=blueprintShortcuts['slice'](0x4);_0x663587[_0x512a06(0x64a)]=_0x6adf8a['map'](_0x4484dc=>{const _0x3d2b14=_0x512a06;let _0x396eee=_0x3d2b14(0x6fb),_0x1756ea='🧩';if(_0x4484dc[_0x3d2b14(0x923)]&&_0x4484dc['referenceUrl'])_0x396eee=_0x3d2b14(0xcb2),_0x1756ea='📗';else _0x4484dc['blueprintUrl']&&(_0x396eee=_0x3d2b14(0x262),_0x1756ea='📘');const _0x3a9663=!_0x4484dc['isDefault']?_0x3d2b14(0x208)+_0x4484dc['id']+_0x3d2b14(0xc04):'';return _0x3d2b14(0x4b9)+_0x4484dc['id']+_0x3d2b14(0x1cc)+_0x396eee+_0x3d2b14(0x806)+_0x1756ea+'\x20'+_0x4484dc[_0x3d2b14(0x8c8)]+_0x3d2b14(0xad5)+_0x4484dc['id']+_0x3d2b14(0x88a)+_0x3a9663+_0x3d2b14(0xbd6);})['join'](''),_0x344366[_0x512a06(0x8b4)]>0x0&&(_0x663587[_0x512a06(0x64a)]+=_0x512a06(0x64c)),_0x344366[_0x512a06(0x8b4)]>0x0?_0x540ee9[_0x512a06(0x64a)]=_0x344366['map'](_0x7be545=>{const _0x5d471e=_0x512a06;let _0x3b07f0='🧩';if(_0x7be545[_0x5d471e(0x923)]&&_0x7be545['referenceUrl'])_0x3b07f0='📗';else _0x7be545[_0x5d471e(0x923)]&&(_0x3b07f0='📘');return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x3b07f0+'\x20'+_0x7be545[_0x5d471e(0x8c8)]+_0x5d471e(0x90c)+_0x7be545['id']+_0x5d471e(0x677)+_0x7be545['id']+_0x5d471e(0x184)+(!_0x7be545[_0x5d471e(0x1b0)]?'<button\x20data-id=\x22'+_0x7be545['id']+'\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x5d471e(0x2d2);})[_0x512a06(0xad6)](''):_0x540ee9['innerHTML']=_0x512a06(0xa16);}function getMimeTypeFromFilename(_0x2183dc){const _0x1c279f=_0x44691e,_0x158305=_0x2183dc['split']('.')[_0x1c279f(0x355)]()[_0x1c279f(0x3e6)]();switch(_0x158305){case'pdf':return _0x1c279f(0x90d);case _0x1c279f(0xbab):return _0x1c279f(0x9d8);default:return'application/pdf';}}function openShortcutEditor(_0x4d0008=null){const _0x3d7a4a=_0x44691e,_0x914bc9=document[_0x3d7a4a(0xcac)]('shortcut-editor-modal'),_0x56ee7b=document[_0x3d7a4a(0xcac)]('shortcut-modal-title'),_0x45c98b=document[_0x3d7a4a(0xcac)](_0x3d7a4a(0x363)),_0x325db9=document['getElementById'](_0x3d7a4a(0xb51)),_0x65f348=document[_0x3d7a4a(0xcac)](_0x3d7a4a(0x845)),_0x2f6e40=document[_0x3d7a4a(0xcac)](_0x3d7a4a(0x52e));if(_0x4d0008){const _0xb39efd=blueprintShortcuts[_0x3d7a4a(0xb3a)](_0x2c98f=>_0x2c98f['id']===_0x4d0008);if(!_0xb39efd)return;_0x56ee7b[_0x3d7a4a(0x20a)]=_0x3d7a4a(0xb4c),_0x45c98b[_0x3d7a4a(0x1a0)]=_0xb39efd['id'],_0x325db9['value']=_0xb39efd[_0x3d7a4a(0x8c8)],_0x65f348[_0x3d7a4a(0x1a0)]=_0xb39efd[_0x3d7a4a(0x923)]||'',_0x2f6e40[_0x3d7a4a(0x1a0)]=_0xb39efd[_0x3d7a4a(0x84c)]||'';}else _0x56ee7b[_0x3d7a4a(0x20a)]=_0x3d7a4a(0xcc9),_0x45c98b['value']='',_0x325db9[_0x3d7a4a(0x1a0)]='',_0x65f348[_0x3d7a4a(0x1a0)]='',_0x2f6e40[_0x3d7a4a(0x1a0)]='';_0x914bc9['classList'][_0x3d7a4a(0x392)]('hidden');}async function saveShortcutChanges(){const _0x10c3b1=_0x44691e,_0x16a5e5=document[_0x10c3b1(0xcac)](_0x10c3b1(0x363))['value'],_0xa567a0=document[_0x10c3b1(0xcac)]('shortcut-name-input')['value'][_0x10c3b1(0x5a4)](),_0x12f19d=document[_0x10c3b1(0xcac)](_0x10c3b1(0x845))[_0x10c3b1(0x1a0)][_0x10c3b1(0x5a4)]();if(!_0xa567a0||!_0x12f19d){showMessage(_0x10c3b1(0xa36));return;}const _0x42a6c6={'id':_0x16a5e5||_0x10c3b1(0x9cf)+Date['now'](),'name':_0xa567a0,'blueprintUrl':_0x12f19d,'referenceUrl':document[_0x10c3b1(0xcac)](_0x10c3b1(0x52e))[_0x10c3b1(0x1a0)]['trim'](),'isDefault':_0x16a5e5['startsWith'](_0x10c3b1(0xbb4))};let _0x2aefe7;_0x16a5e5?_0x2aefe7=blueprintShortcuts[_0x10c3b1(0x39a)](_0x391090=>_0x391090['id']===_0x16a5e5?_0x42a6c6:_0x391090):_0x2aefe7=[...blueprintShortcuts,_0x42a6c6];try{const _0x56cf0d=doc(db,_0x10c3b1(0x2bd),_0x10c3b1(0x530));await setDoc(_0x56cf0d,{'blueprintShortcuts':_0x2aefe7},{'merge':!![]}),document[_0x10c3b1(0xcac)](_0x10c3b1(0x5d3))[_0x10c3b1(0x534)][_0x10c3b1(0x174)]('hidden');}catch(_0x5d593a){console[_0x10c3b1(0x723)](_0x10c3b1(0x30b),_0x5d593a),showMessage(_0x10c3b1(0x742));}}async function handleShortcutClick(_0x1e130f){const _0x45f218=_0x44691e,_0x2f985e=blueprintShortcuts[_0x45f218(0xb3a)](_0x39ff3e=>_0x39ff3e['id']===_0x1e130f);if(!_0x2f985e||!_0x2f985e[_0x45f218(0x923)])return;document[_0x45f218(0xcac)](_0x45f218(0x2cc))[_0x45f218(0x534)][_0x45f218(0x174)]('hidden'),document[_0x45f218(0xcac)]('generate-from-blueprint-btn')[_0x45f218(0x585)]=!![];const _0xf1c714=document[_0x45f218(0xcac)](_0x45f218(0x609)),_0x5e8523=document[_0x45f218(0xcac)](_0x45f218(0x6eb));document[_0x45f218(0xcac)]('quiz-generation-area')['classList'][_0x45f218(0x392)]('hidden'),document[_0x45f218(0xcac)](_0x45f218(0x55b))[_0x45f218(0x64a)]='',_0xf1c714['classList'][_0x45f218(0x392)](_0x45f218(0xb2f));try{_0x5e8523[_0x45f218(0x20a)]=_0x45f218(0x32e);const _0x30ec55=await fetchFileFromUrl(_0x2f985e[_0x45f218(0x923)],'blueprint.pdf');let _0x4d23a7=null;if(_0x2f985e[_0x45f218(0x84c)]){_0x5e8523['textContent']=_0x45f218(0x29a);const _0x501101=_0x2f985e[_0x45f218(0x84c)][_0x45f218(0x3e6)]()[_0x45f218(0x6f3)](_0x45f218(0xa04))?_0x45f218(0xa1e):_0x45f218(0x515);_0x4d23a7=await fetchFileFromUrl(_0x2f985e[_0x45f218(0x84c)],_0x501101);}await handleGenerateFromBlueprintWithFiles(_0x30ec55,_0x4d23a7);}catch(_0x353b2e){console[_0x45f218(0x723)](_0x45f218(0x182),_0x353b2e),showMessage(_0x45f218(0x40a)+_0x353b2e[_0x45f218(0xca0)]),_0xf1c714[_0x45f218(0x534)]['add'](_0x45f218(0xb2f));}}function getDirectDownloadUrl(_0x2239ac){const _0xb695d7=_0x44691e,_0x50bcd5=_0x2239ac[_0xb695d7(0x484)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x50bcd5&&_0x50bcd5[0x1])return _0xb695d7(0x7c8)+_0x50bcd5[0x1];return _0x2239ac;}async function fetchFileFromUrl(_0x540303,_0x319d6c){const _0x430b3e=_0x44691e,_0xce3d5e=getDirectDownloadUrl(_0x540303),_0x59e9a7=_0x430b3e(0x6f7)+encodeURIComponent(_0xce3d5e),_0x6524fb=await fetch(_0x59e9a7);if(!_0x6524fb['ok'])throw new Error(_0x430b3e(0x1ba)+_0x6524fb[_0x430b3e(0x507)]+')');const _0x1afb1b=await _0x6524fb[_0x430b3e(0x5be)](),_0xf83399=await new Promise((_0x5b0557,_0x36d47b)=>{const _0x509e25=_0x430b3e,_0x37d868=new FileReader();_0x37d868['onloadend']=()=>_0x5b0557(new Uint8Array(_0x37d868[_0x509e25(0x4d2)])),_0x37d868[_0x509e25(0x449)]=_0x36d47b,_0x37d868[_0x509e25(0x3db)](_0x1afb1b['slice'](0x0,0x4));});let _0x3f1834='';const _0x56b834=new TextDecoder()[_0x430b3e(0x373)](_0xf83399);return _0x56b834===_0x430b3e(0x5ca)?(_0x3f1834=_0x430b3e(0x90d),console[_0x430b3e(0x18c)](_0x430b3e(0x25d))):(_0x3f1834=_0x430b3e(0x9d8),console[_0x430b3e(0x18c)](_0x430b3e(0x233))),new File([_0x1afb1b],_0x319d6c,{'type':_0x3f1834});}async function handleGenerateFromBlueprintWithFiles(_0x51b092,_0x124b2a=null){const _0x37ea81=_0x44691e;if(!_0x51b092){showMessage(_0x37ea81(0x70d));return;}const _0x1fa94b=document[_0x37ea81(0xcac)](_0x37ea81(0x609)),_0x550981=document[_0x37ea81(0xcac)](_0x37ea81(0x6eb));_0x1fa94b[_0x37ea81(0x534)][_0x37ea81(0x392)]('hidden'),document['getElementById'](_0x37ea81(0xc01))[_0x37ea81(0x534)][_0x37ea81(0x392)](_0x37ea81(0xb2f)),document[_0x37ea81(0xcac)]('generated-quiz-container')['innerHTML']='';try{_0x550981[_0x37ea81(0x20a)]=_0x37ea81(0xa50);const _0x42c9ab=await new Promise((_0x51b50b,_0x54cc00)=>{const _0x50ca45=_0x37ea81,_0x43e52c=new FileReader();_0x43e52c[_0x50ca45(0xa65)](_0x51b092),_0x43e52c[_0x50ca45(0x48f)]=()=>_0x51b50b(_0x43e52c['result'][_0x50ca45(0x86e)](',')[0x1]),_0x43e52c['onerror']=_0x54cc00;}),_0x4a91f8=[];if(_0x124b2a){_0x550981[_0x37ea81(0x20a)]=_0x37ea81(0x60b);const _0x398428=await _0x124b2a[_0x37ea81(0x18b)]();_0x4a91f8[_0x37ea81(0xa12)]({'text':_0x37ea81(0x955)+_0x398428});}const _0x501517=[{'text':_0x37ea81(0x606)},{'inlineData':{'mimeType':_0x51b092[_0x37ea81(0x299)],'data':_0x42c9ab}},..._0x4a91f8];await handleGenerateFromBlueprint(_0x501517);}catch(_0x4aa3a7){console[_0x37ea81(0x723)](_0x37ea81(0x59c),_0x4aa3a7),showMessage(_0x37ea81(0x40a)+_0x4aa3a7['message']),_0x1fa94b[_0x37ea81(0x534)][_0x37ea81(0x174)](_0x37ea81(0xb2f));}}async function handleLiveAnswer(_0x47df7a,_0x3ea68a){const _0x1c5b0c=_0x44691e;document[_0x1c5b0c(0x32a)](_0x1c5b0c(0xa85))[_0x1c5b0c(0xc74)](_0x236bac=>_0x236bac[_0x1c5b0c(0x585)]=!![]);const _0x50c9c9=_0x3ea68a[_0x1c5b0c(0xb42)]||currentQuizData[_0x1c5b0c(0x196)];let _0x247658=![],_0x4967c5=_0x47df7a;if(_0x50c9c9==='short_answer'){const _0x3e0415=(_0x47df7a||'')['toString']();_0x247658=await gradeShortAnswer(_0x3e0415,_0x3ea68a);}else{if(_0x50c9c9===_0x1c5b0c(0xb47))_0x247658=_0x47df7a===_0x3ea68a[_0x1c5b0c(0x576)];else{if(_0x50c9c9==='true_false'){const _0x36d359=_0x3ea68a[_0x1c5b0c(0x492)];_0x247658=_0x47df7a===0x0&&_0x36d359||_0x47df7a===0x1&&!_0x36d359;}else{if(_0x50c9c9===_0x1c5b0c(0xc00)){const _0x512b04=_0x3ea68a[_0x1c5b0c(0xa33)][_0x47df7a];_0x247658=_0x512b04===_0x3ea68a[_0x1c5b0c(0x964)],_0x4967c5=_0x512b04;}}}}const _0x394e30=doc(db,_0x1c5b0c(0x1c4)+appId+'/public/data/liveGames',currentLiveGameId),_0x58b93a={};_0x58b93a[_0x1c5b0c(0xa14)+currentStudentName+_0x1c5b0c(0xb9e)]=!![],_0x58b93a['players.'+currentStudentName+_0x1c5b0c(0x8ae)]=_0x247658,_0x58b93a['players.'+currentStudentName+_0x1c5b0c(0xa23)]=_0x50c9c9===_0x1c5b0c(0x982)||_0x50c9c9===_0x1c5b0c(0xc00)?null:_0x47df7a,_0x58b93a['players.'+currentStudentName+'.lastAnswerValue']=_0x4967c5,_0x58b93a[_0x1c5b0c(0xa14)+currentStudentName+_0x1c5b0c(0x819)]=serverTimestamp(),_0x58b93a[_0x1c5b0c(0xa14)+currentStudentName+_0x1c5b0c(0xc9b)]=![],await updateDoc(_0x394e30,_0x58b93a),liveGameView[_0x1c5b0c(0x64a)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x13c42b,_0x2e195b){const _0x5914d7=_0x44691e,_0x5d56e6=Object[_0x5914d7(0x5a9)](_0x13c42b[_0x5914d7(0xb3f)]||{}),_0x56bb11=_0x2e195b[_0x5914d7(0xb42)]||currentQuizData[_0x5914d7(0x196)],_0x5c2454=_0x56bb11===_0x5914d7(0x9c3)?[_0x5914d7(0x51c),'ไม่ใช่']:_0x2e195b[_0x5914d7(0xbd7)]||_0x2e195b[_0x5914d7(0xa33)]||[],_0x1bd941={},_0x11ff07=new Array(_0x5c2454[_0x5914d7(0x8b4)])[_0x5914d7(0x83b)](0x0);_0x5c2454[_0x5914d7(0xc74)]((_0x18f078,_0x5763c1)=>{_0x1bd941[_0x5763c1]=[];}),Object['entries'](_0x13c42b[_0x5914d7(0xb3f)]||{})[_0x5914d7(0xc74)](([_0x55522f,_0x561b19])=>{const _0x681448=_0x5914d7;if(_0x561b19[_0x681448(0x507)]==='active'&&_0x561b19[_0x681448(0x6ab)]!==undefined){const _0x1a6407=_0x561b19[_0x681448(0x6ab)];_0x1bd941[_0x1a6407]&&(_0x1bd941[_0x1a6407][_0x681448(0xa12)](_0x55522f),_0x11ff07[_0x1a6407]++);}});const _0x56f11b=Math[_0x5914d7(0xc36)](..._0x11ff07,0x1),_0x1a8d2f=_0x5914d7(0x272)+(_0x2e195b[_0x5914d7(0x388)]||_0x2e195b[_0x5914d7(0x83f)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x11ff07[_0x5914d7(0x39a)]((_0x5742c3,_0x4ac8d0)=>{const _0x5c55b2=_0x5914d7,_0x4c5ece=_0x1bd941[_0x4ac8d0][_0x5c55b2(0x8b4)]>0x0?_0x1bd941[_0x4ac8d0][_0x5c55b2(0xad6)](',\x20'):_0x5c55b2(0x8e2);let _0xa02ff9=![];if(_0x56bb11===_0x5c55b2(0xb47))_0xa02ff9=_0x4ac8d0===_0x2e195b[_0x5c55b2(0x576)];else{if(_0x56bb11===_0x5c55b2(0x9c3)){const _0x31d3e1=_0x2e195b[_0x5c55b2(0x492)];_0xa02ff9=_0x31d3e1&&_0x4ac8d0===0x0||!_0x31d3e1&&_0x4ac8d0===0x1;}else _0x56bb11===_0x5c55b2(0xc00)&&(_0xa02ff9=_0x5c2454[_0x4ac8d0]===_0x2e195b[_0x5c55b2(0x964)]);}const _0x9fe7=_0xa02ff9?_0x5c55b2(0x3f6):_0x5c55b2(0xc90);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x5742c3+'</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20'+_0x9fe7+_0x5c55b2(0x95b)+_0x4ac8d0+_0x5c55b2(0xc08)+_0x5c2454[_0x4ac8d0]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x4ac8d0+_0x5c55b2(0x7e4)+_0x4c5ece+_0x5c55b2(0x8af);})[_0x5914d7(0xad6)]('')+_0x5914d7(0xabf);liveGameView['innerHTML']=_0x1a8d2f;if(window[_0x5914d7(0x2b2)])MathJax[_0x5914d7(0xca5)]();document[_0x5914d7(0xcac)](_0x5914d7(0x51b))['addEventListener']('click',async()=>{const _0x1a2840=_0x5914d7,_0xbc416a=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0xbc416a,{'questionStatus':_0x1a2840(0x861)});}),document['getElementById'](_0x5914d7(0xa99))[_0x5914d7(0x36e)](_0x5914d7(0x486),()=>{openScratchpad(_0x2e195b,_0x5c2454);});}function showPlayerSummaryView(_0x13a818,_0x4931f7){const _0x578fc2=_0x44691e,_0x3c3d2f=Object[_0x578fc2(0x5a9)](_0x13a818[_0x578fc2(0xb3f)]||{}),_0x3bb5d5=_0x13a818[_0x578fc2(0xb3f)][_0x4931f7],_0x434a54=_0x3c3d2f[_0x578fc2(0x686)](_0x435f81=>_0x435f81[_0x578fc2(0x507)]===_0x578fc2(0x993))[_0x578fc2(0xa24)]((_0xd7b7b7,_0x997a2f)=>_0x997a2f[_0x578fc2(0x443)]-_0xd7b7b7[_0x578fc2(0x443)]),_0x1e9382=_0x434a54['findIndex'](_0x2b43e2=>_0x2b43e2===_0x3bb5d5)+0x1,_0x918006=_0x3bb5d5[_0x578fc2(0x6df)]?_0x578fc2(0x3b4):'ผิด',_0xc52829=_0x3bb5d5[_0x578fc2(0x6df)]?_0x578fc2(0x837):_0x578fc2(0xb78),_0x413b39=_0x3bb5d5[_0x578fc2(0x48d)]||0x0,_0x48eb4e=_0x578fc2(0x894),_0x203387=_0x578fc2(0x307)+_0x48eb4e+_0x578fc2(0x516)+_0xc52829+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>'+_0x918006+_0x578fc2(0x52d)+_0x413b39+_0x578fc2(0x89f)+(_0x1e9382>0x0?_0x1e9382:'-')+_0x578fc2(0x15b);liveGameView[_0x578fc2(0x64a)]=_0x203387;}function createQuizFromBank(){const _0x266ccf=_0x44691e,_0x5de430=document[_0x266ccf(0x32a)](_0x266ccf(0xaf2));if(_0x5de430[_0x266ccf(0x8b4)]===0x0){showMessage(_0x266ccf(0x683));return;}const _0x3dc26d=[];_0x5de430['forEach'](_0x3b0da5=>{const _0x2e0d42=_0x266ccf;_0x3dc26d['push'](JSON[_0x2e0d42(0x92d)](_0x3b0da5[_0x2e0d42(0x1a0)]));});const _0x2949a3={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x3dc26d};displayGeneratedQuiz(_0x2949a3);}function showAdminLobbyView(_0x52d022,_0x4ce5c6){const _0x41ba2d=_0x44691e;showView(_0x41ba2d(0xa2d));const _0x10041e=_0x41ba2d(0xb54)+_0x4ce5c6+_0x41ba2d(0x8d2)+_0x52d022+_0x41ba2d(0xa56);liveGameView[_0x41ba2d(0x64a)]=_0x10041e,document[_0x41ba2d(0xcac)](_0x41ba2d(0x1aa))[_0x41ba2d(0x36e)](_0x41ba2d(0x486),async()=>{const _0x450753=_0x41ba2d;if(!currentQuizData||!currentQuizData[_0x450753(0x8f1)]||currentQuizData[_0x450753(0x8f1)][_0x450753(0x8b4)]===0x0){showMessage(_0x450753(0x540));return;}try{const _0x5b21f2=doc(db,_0x450753(0x1c4)+appId+_0x450753(0x68d),currentLiveGameId);await updateDoc(_0x5b21f2,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x2efd7f=currentQuizData[_0x450753(0x8f1)][0x0],_0x3c5b1b=currentQuizData['questions'][_0x450753(0x8b4)];showAdminLiveQuestionView(_0x2efd7f,0x0,_0x3c5b1b);}catch(_0x5b0540){console[_0x450753(0x723)](_0x450753(0x584),_0x5b0540),showMessage(_0x450753(0x840));}});}async function openQuizBankModal(){const _0x3e0c53=_0x44691e;if(allQuizzesGlobal['length']===0x0){const _0x350534=await getDocs(collection(db,_0x3e0c53(0x1c4)+appId+_0x3e0c53(0x1fa)));allQuizzesGlobal=_0x350534[_0x3e0c53(0xb1e)][_0x3e0c53(0x39a)](_0x4af7b0=>({'id':_0x4af7b0['id'],..._0x4af7b0[_0x3e0c53(0x2a7)]()}));}renderQuizBankList(''),document[_0x3e0c53(0xcac)](_0x3e0c53(0xad1))[_0x3e0c53(0x534)][_0x3e0c53(0x392)](_0x3e0c53(0xb2f));}function renderQuizBankList(_0x327615='',_0xae50e8=![]){const _0x25d27f=_0x44691e,_0x18de88=document[_0x25d27f(0xcac)](_0x25d27f(0x65c)),_0x14578a=_0x327615[_0x25d27f(0x3e6)]()['trim'](),_0x3dfebd=allQuizzesGlobal['map'](_0x3587aa=>({..._0x3587aa,'projectName':allProjects[_0x25d27f(0xb3a)](_0x405ed0=>_0x405ed0['id']===_0x3587aa[_0x25d27f(0x370)])?.[_0x25d27f(0xc87)]||_0x25d27f(0x2f7)}))[_0x25d27f(0x686)](_0x1ce271=>(_0x1ce271['topic']||'')[_0x25d27f(0x3e6)]()[_0x25d27f(0x764)](_0x14578a)||(_0x1ce271[_0x25d27f(0xc87)]||'')[_0x25d27f(0x3e6)]()[_0x25d27f(0x764)](_0x14578a)||_0x1ce271['id'][_0x25d27f(0xb8f)]()[_0x25d27f(0x764)](_0x14578a));document[_0x25d27f(0xcac)]('quiz-bank-count')[_0x25d27f(0x20a)]='('+_0x3dfebd[_0x25d27f(0x8b4)]+_0x25d27f(0xa25),_0x18de88['innerHTML']=_0x3dfebd['length']?_0x3dfebd[_0x25d27f(0x39a)](_0x2660bb=>{const _0x3a091d=_0x25d27f,_0x4854f9=!_0xae50e8?_0x3a091d(0xb4f)+_0x2660bb['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2660bb['id']+_0x3a091d(0x2d7)+_0x2660bb['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2660bb['id']+_0x3a091d(0x50f)+_0x2660bb['id']+_0x3a091d(0x4b6)+_0x2660bb['id']+'\x22\x20data-topic=\x22'+_0x2660bb[_0x3a091d(0x180)]+_0x3a091d(0xa45):'';return _0x3a091d(0x911)+_0x2660bb['id']+'\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x2660bb[_0x3a091d(0x180)]||'(ไม่มีชื่อ)')+_0x3a091d(0x1c3)+(_0x2660bb[_0x3a091d(0x8f1)]?.[_0x3a091d(0x8b4)]||0x0)+_0x3a091d(0xb60)+_0x2660bb[_0x3a091d(0xc87)]+_0x3a091d(0x828)+_0x2660bb['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4854f9+'\x0a\x20\x20\x20\x20\x20\x20</div>';})[_0x25d27f(0xad6)](''):_0x25d27f(0x21a),!_0xae50e8&&(_0x18de88[_0x25d27f(0x32a)](_0x25d27f(0x4c7))['forEach'](_0x48dcb9=>{const _0x306100=_0x25d27f;_0x48dcb9['addEventListener'](_0x306100(0x486),()=>{const _0x4fa768=_0x306100,_0x44d903=_0x48dcb9[_0x4fa768(0x5fd)]['id'];document[_0x4fa768(0xcac)]('quiz-bank-modal')[_0x4fa768(0x534)][_0x4fa768(0x174)](_0x4fa768(0xb2f)),showQuizDetailView(_0x44d903);});}),_0x18de88[_0x25d27f(0x32a)](_0x25d27f(0x8ed))['forEach'](_0x5755d9=>{_0x5755d9['addEventListener']('click',_0xd1d177=>{const _0x47d9ca=_0x3aeb;_0xd1d177['stopPropagation']();const _0x3c5bee=_0x5755d9[_0x47d9ca(0x5fd)]['id'],_0x360bf1=allQuizzesGlobal[_0x47d9ca(0xb3a)](_0x5e96c5=>_0x5e96c5['id']===_0x3c5bee);_0x360bf1?(currentQuizData=_0x360bf1,document['getElementById']('quiz-bank-modal')[_0x47d9ca(0x534)][_0x47d9ca(0x174)](_0x47d9ca(0xb2f)),startAdminTest()):showMessage(_0x47d9ca(0x809));});}),_0x18de88[_0x25d27f(0x32a)](_0x25d27f(0x7b2))['forEach'](_0x278da7=>{const _0x296d74=_0x25d27f;_0x278da7[_0x296d74(0x36e)](_0x296d74(0x486),_0x5b1c00=>{const _0x14f6bf=_0x296d74;_0x5b1c00[_0x14f6bf(0x517)]();const _0x5a026f=_0x278da7[_0x14f6bf(0x5fd)]['id'],_0x4ad82e=allQuizzesGlobal[_0x14f6bf(0xb3a)](_0x2264ce=>_0x2264ce['id']===_0x5a026f);_0x4ad82e?(document[_0x14f6bf(0xcac)](_0x14f6bf(0xad1))['classList']['add'](_0x14f6bf(0xb2f)),handleGenerateParallelFromBank(_0x4ad82e)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x18de88['querySelectorAll'](_0x25d27f(0xcca))[_0x25d27f(0xc74)](_0x414b18=>{const _0x13cbe5=_0x25d27f;_0x414b18[_0x13cbe5(0x36e)](_0x13cbe5(0x486),_0x500f83=>{const _0x4744ed=_0x13cbe5;_0x500f83[_0x4744ed(0x517)]();const _0x2a370d=_0x414b18['dataset']['id'],_0x38570d=allQuizzesGlobal[_0x4744ed(0xb3a)](_0x269e3a=>_0x269e3a['id']===_0x2a370d);_0x38570d?(document[_0x4744ed(0xcac)]('quiz-bank-modal')[_0x4744ed(0x534)][_0x4744ed(0x174)](_0x4744ed(0xb2f)),startPresentation(_0x38570d)):showMessage(_0x4744ed(0x809));});}),_0x18de88[_0x25d27f(0x32a)](_0x25d27f(0x1e1))[_0x25d27f(0xc74)](_0x2b67fc=>{const _0x190832=_0x25d27f;_0x2b67fc[_0x190832(0x36e)]('click',_0x2a3dc6=>{const _0x16db70=_0x190832;_0x2a3dc6[_0x16db70(0x517)]();const _0x2484da=_0x2b67fc['dataset']['id'];document[_0x16db70(0xcac)](_0x16db70(0xad1))[_0x16db70(0x534)][_0x16db70(0x174)](_0x16db70(0xb2f)),handleMoveQuiz(_0x2484da);});}),_0x18de88[_0x25d27f(0x32a)]('.quiz-bank-settings-btn')[_0x25d27f(0xc74)](_0x29bc55=>{const _0x10e439=_0x25d27f;_0x29bc55[_0x10e439(0x36e)](_0x10e439(0x486),_0x29ea1c=>{const _0x179a06=_0x10e439;_0x29ea1c[_0x179a06(0x517)]();const _0x2b6808=_0x29bc55['dataset']['id'];document[_0x179a06(0xcac)](_0x179a06(0xad1))[_0x179a06(0x534)][_0x179a06(0x174)](_0x179a06(0xb2f)),handleQuizSettings(_0x2b6808);});}),_0x18de88[_0x25d27f(0x32a)](_0x25d27f(0x9ce))[_0x25d27f(0xc74)](_0x377f66=>{const _0x43fc48=_0x25d27f;_0x377f66[_0x43fc48(0x36e)]('click',_0x5a6af9=>{const _0x209e13=_0x43fc48;_0x5a6af9[_0x209e13(0x517)]();const _0x3927fb=_0x377f66[_0x209e13(0x5fd)]['id'],_0x3d2cc2=_0x377f66[_0x209e13(0x5fd)][_0x209e13(0x180)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x3d2cc2+_0x209e13(0x3c0),()=>handleDeleteQuiz(_0x3927fb));});}));}async function handleCompareResults(_0x19ef59,_0x3ec57d){const _0x5e6213=_0x44691e,_0x13953d=document['getElementById'](_0x5e6213(0x5a0)),_0xea87c4=document[_0x5e6213(0xcac)](_0x5e6213(0x4c5)),_0x12f6f0=document[_0x5e6213(0xcac)](_0x5e6213(0x987));document[_0x5e6213(0xcac)](_0x5e6213(0x5da))['classList'][_0x5e6213(0x174)]('active'),document['getElementById'](_0x5e6213(0x5b1))['classList'][_0x5e6213(0x392)]('active'),_0xea87c4[_0x5e6213(0x534)][_0x5e6213(0x392)]('hidden'),_0x12f6f0[_0x5e6213(0x534)][_0x5e6213(0x174)](_0x5e6213(0xb2f)),_0xea87c4[_0x5e6213(0x64a)]=_0x5e6213(0x29f),_0x12f6f0[_0x5e6213(0x64a)]='',_0x13953d[_0x5e6213(0x534)][_0x5e6213(0x392)]('hidden');try{const _0x2e17c1=doc(db,_0x5e6213(0x1c4)+appId+_0x5e6213(0x1fa),_0x19ef59),_0x515b29=await getDoc(_0x2e17c1);if(!_0x515b29[_0x5e6213(0x72f)]())throw new Error(_0x5e6213(0xb5f));const _0x53f730=_0x515b29[_0x5e6213(0x2a7)](),_0x2649be=_0x53f730[_0x5e6213(0x8f1)][_0x5e6213(0x8b4)],_0x23dac8=collection(db,_0x5e6213(0x1c4)+appId+_0x5e6213(0x7c5)+_0x3ec57d+_0x5e6213(0x8c6)),_0x16fbcb=collection(db,_0x5e6213(0x1c4)+appId+_0x5e6213(0x7c5)+_0x19ef59+_0x5e6213(0x8c6)),[_0x35203d,_0x6bc753]=await Promise['all']([getDocs(_0x23dac8),getDocs(_0x16fbcb)]),_0x892075=_0x35203d['docs'][_0x5e6213(0x39a)](_0xe4744d=>_0xe4744d['data']()),_0x23ab43=_0x6bc753['docs'][_0x5e6213(0x39a)](_0x1ab1d5=>_0x1ab1d5['data']()),_0xec3d3d=_0x892075[_0x5e6213(0x39a)](_0x55b35f=>_0x55b35f[_0x5e6213(0x1de)]),_0xec0ecc=_0x23ab43['map'](_0x11e36b=>_0x11e36b[_0x5e6213(0x1de)]),_0x231c30=calculateMeanAndStdDev(_0xec3d3d),_0x197c64=calculateMeanAndStdDev(_0xec0ecc),_0x281956=_0x231c30[_0x5e6213(0x242)],_0x4e7898=_0x197c64[_0x5e6213(0x242)],_0x18e673=_0x4e7898-_0x281956;let _0xde779=_0x5e6213(0xc15)+_0x281956[_0x5e6213(0xc75)](0x2)+_0x5e6213(0x6e7)+_0x4e7898['toFixed'](0x2)+_0x5e6213(0x3fc)+(_0x18e673>=0x0?'bg-emerald-100':_0x5e6213(0x9c2))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x18e673>=0x0?_0x5e6213(0xa80):_0x5e6213(0x600))+_0x5e6213(0x5e3)+(_0x18e673>=0x0?'text-emerald-900':_0x5e6213(0xa86))+'\x22>'+(_0x18e673>=0x0?'+':'')+_0x18e673[_0x5e6213(0xc75)](0x2)+_0x5e6213(0xb2e);_0xea87c4[_0x5e6213(0x64a)]=_0xde779;const _0x4c62cf=document[_0x5e6213(0xcac)](_0x5e6213(0x394))[_0x5e6213(0x2b6)]('2d');if(chartInstances['comparison'])chartInstances['comparison'][_0x5e6213(0x7d2)]();chartInstances[_0x5e6213(0x84a)]=new Chart(_0x4c62cf,{'type':_0x5e6213(0x890),'data':{'labels':[_0x5e6213(0xb1d)],'datasets':[{'label':_0x5e6213(0x4d0),'data':[_0x281956],'backgroundColor':_0x5e6213(0x1d1)},{'label':_0x5e6213(0x985),'data':[_0x4e7898],'backgroundColor':_0x5e6213(0xa39)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x2649be}}}});const _0x32b9f4=currentProjectData['students']||[],_0xd7f6e0=_0x32b9f4['map'](_0x2049bf=>{const _0xb930a=_0x5e6213,_0x32b9b9=_0x892075[_0xb930a(0xb3a)](_0x549993=>_0x549993['studentName']===_0x2049bf),_0x3f4146=_0x23ab43[_0xb930a(0xb3a)](_0x1d938b=>_0x1d938b[_0xb930a(0xb26)]===_0x2049bf),_0xf330a2=_0x32b9b9?_0x32b9b9[_0xb930a(0x1de)]:null,_0x1a6a9e=_0x3f4146?_0x3f4146[_0xb930a(0x1de)]:null,_0x5d5c1d=_0xf330a2!==null&&_0x1a6a9e!==null?_0x1a6a9e-_0xf330a2:null,_0x42a277=_0xf330a2!==null?calculateZScore(_0xf330a2,_0x231c30['mean'],_0x231c30[_0xb930a(0x309)]):null,_0x1a5542=_0x1a6a9e!==null?calculateZScore(_0x1a6a9e,_0x197c64[_0xb930a(0x242)],_0x197c64[_0xb930a(0x309)]):null,_0x51dd42=_0x42a277!==null?calculateTScore(_0x42a277):null,_0x17f77d=_0x1a5542!==null?calculateTScore(_0x1a5542):null,_0x2a14e3=_0x51dd42!==null&&_0x17f77d!==null?_0x17f77d-_0x51dd42:null;return{'name':_0x2049bf,'preScore':_0xf330a2,'postScore':_0x1a6a9e,'gain':_0x5d5c1d,'preTScore':_0x51dd42,'postTScore':_0x17f77d,'tGain':_0x2a14e3};});renderIndividualComparisonTable(_0xd7f6e0,_0x12f6f0);}catch(_0x2a2adf){console[_0x5e6213(0x723)]('Error\x20comparing\x20results:',_0x2a2adf),_0xea87c4['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}async function saveBlueprintProject(){const _0x57a6a7=_0x44691e;if(!extractedBlueprintData||!extractedBlueprintData[_0x57a6a7(0x629)]){showMessage(_0x57a6a7(0x965));return;}const _0x3f707d=prompt(_0x57a6a7(0xc24),'Blueprint\x20O-NET\x20ป.6');if(!_0x3f707d||_0x3f707d[_0x57a6a7(0x5a4)]()==='')return;const _0x237ced={};extractedBlueprintData['curriculum'][_0x57a6a7(0xc74)](_0x215bc0=>{const _0xa896de=_0x57a6a7;_0x215bc0[_0xa896de(0x7c7)][_0xa896de(0xc74)](_0xb7719=>{const _0x2df87e=_0xa896de;_0xb7719['subTopics'][_0x2df87e(0xc74)](_0x1ed125=>{const _0x410316=_0x2df87e,_0x25adb2='topic_'+Date['now']()+Math[_0x410316(0x53f)]()['toString'](0x24)[_0x410316(0xc96)](0x2,0x9);_0x237ced[_0x25adb2]={'sara':_0x215bc0[_0x410316(0x1f8)],'mainTopic':_0xb7719[_0x410316(0x5d9)],'subTopic':_0x1ed125,'status':_0x410316(0xa48),'lessonContent':null};});});});try{const _0x1a25c5=collection(db,_0x57a6a7(0x1c4)+appId+_0x57a6a7(0x8c1));await addDoc(_0x1a25c5,{'projectName':_0x3f707d[_0x57a6a7(0x5a4)](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x237ced,'createdAt':serverTimestamp()}),showMessage(_0x57a6a7(0x92f)+_0x3f707d[_0x57a6a7(0x5a4)]()+_0x57a6a7(0x5ef)),document[_0x57a6a7(0xcac)]('save-blueprint-as-project-btn')[_0x57a6a7(0x534)][_0x57a6a7(0x174)](_0x57a6a7(0xb2f));}catch(_0x4cac6d){console[_0x57a6a7(0x723)](_0x57a6a7(0x7ae),_0x4cac6d),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}async function showBlueprintProjects(){const _0xa134f8=_0x44691e,_0x8129a5=document[_0xa134f8(0xcac)](_0xa134f8(0xaad)),_0x52bd41=document['getElementById']('blueprint-project-list');_0x52bd41[_0xa134f8(0x64a)]=_0xa134f8(0x6c7),_0x8129a5[_0xa134f8(0x534)][_0xa134f8(0x392)]('hidden');try{const _0x191ad1=collection(db,_0xa134f8(0x1c4)+appId+_0xa134f8(0x8c1)),_0x115ee7=await getDocs(_0x191ad1);if(_0x115ee7[_0xa134f8(0x99e)]){_0x52bd41[_0xa134f8(0x64a)]=_0xa134f8(0x5f7);return;}const _0x2ffcc1=_0x115ee7[_0xa134f8(0xb1e)]['map'](_0x432925=>({'id':_0x432925['id'],..._0x432925['data']()}));_0x2ffcc1['sort']((_0x446df5,_0x5c041b)=>_0x446df5[_0xa134f8(0xc87)][_0xa134f8(0x656)](_0x5c041b[_0xa134f8(0xc87)],'th')),_0x52bd41[_0xa134f8(0x64a)]=_0x2ffcc1['map'](_0xa8b040=>_0xa134f8(0x8b3)+_0xa8b040['projectName']+_0xa134f8(0x506)+_0xa8b040['gradeLevel']+_0xa134f8(0x5bc)+Object['keys'](_0xa8b040['topics'])[_0xa134f8(0x8b4)]+_0xa134f8(0x3de)+_0xa8b040['id']+'\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xa8b040['id']+'\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0xa134f8(0xad6)]('');}catch(_0x1157c5){console[_0xa134f8(0x723)](_0xa134f8(0x2bc),_0x1157c5),_0x52bd41[_0xa134f8(0x64a)]=_0xa134f8(0x318);}}async function displayBlueprintProjectManager(_0xded67c){const _0x2a424c=_0x44691e;currentBlueprintProjectId=_0xded67c,document[_0x2a424c(0xcac)](_0x2a424c(0xaad))[_0x2a424c(0x534)][_0x2a424c(0x174)](_0x2a424c(0xb2f)),showView(_0x2a424c(0x148)),projectDashboardView['classList']['add'](_0x2a424c(0xb2f));const _0x2c62a7=document['getElementById'](_0x2a424c(0x3aa));_0x2c62a7['classList']['remove']('hidden'),document[_0x2a424c(0xcac)](_0x2a424c(0xa59))['innerHTML']=_0x2a424c(0x29f);try{const _0x6d0640=doc(db,_0x2a424c(0x1c4)+appId+_0x2a424c(0x8c1),_0xded67c),_0x4b6e32=await getDoc(_0x6d0640);if(!_0x4b6e32[_0x2a424c(0x72f)]())throw new Error('ไม่พบโปรเจค');const _0x3aaaba={'id':_0x4b6e32['id'],..._0x4b6e32[_0x2a424c(0x2a7)]()};document[_0x2a424c(0xcac)](_0x2a424c(0x921))[_0x2a424c(0x20a)]=_0x3aaaba[_0x2a424c(0xc87)],document[_0x2a424c(0xcac)](_0x2a424c(0x1c7))[_0x2a424c(0x1a0)]=_0x3aaaba[_0x2a424c(0x895)]||'',renderBlueprintTopicManager(_0x3aaaba);}catch(_0x24d312){console['error']('Error\x20displaying\x20blueprint\x20project:',_0x24d312),showMessage(_0x24d312['message']),showView('admin-dashboard');}}function renderBlueprintTopicManager(_0x2da21d){const _0x545262=_0x44691e,_0x44dcbf=document[_0x545262(0xcac)](_0x545262(0xa59)),_0x6378d9=_0x2da21d[_0x545262(0xc3e)]||{};if(Object[_0x545262(0x53e)](_0x6378d9)[_0x545262(0x8b4)]===0x0){_0x44dcbf[_0x545262(0x64a)]=_0x545262(0x47a);return;}const _0xa2c579=Object[_0x545262(0x823)](_0x6378d9)[_0x545262(0x39a)](([_0x5e5d95,_0x356684])=>({'id':_0x5e5d95,..._0x356684}))[_0x545262(0xa24)]((_0x1e363d,_0x5b3717)=>(_0x1e363d[_0x545262(0x2fd)]??Infinity)-(_0x5b3717[_0x545262(0x2fd)]??Infinity)),_0x503d4f={};_0xa2c579['forEach'](_0x4f9787=>{const _0x7919d9=_0x545262,{sara:_0x1ceea4,mainTopic:_0x24864c}=_0x4f9787;!_0x503d4f[_0x1ceea4]&&(_0x503d4f[_0x1ceea4]={}),!_0x503d4f[_0x1ceea4][_0x24864c]&&(_0x503d4f[_0x1ceea4][_0x24864c]=[]),_0x503d4f[_0x1ceea4][_0x24864c][_0x7919d9(0xa12)](_0x4f9787);});let _0x12c0b4='';for(const _0x20b8dc in _0x503d4f){_0x12c0b4+=_0x545262(0xb23)+_0x20b8dc+_0x545262(0x18d);for(const _0x498ee9 in _0x503d4f[_0x20b8dc]){_0x12c0b4+=_0x545262(0x3e4)+_0x498ee9+_0x545262(0x2f4),_0x503d4f[_0x20b8dc][_0x498ee9][_0x545262(0xc74)](_0x1fb786=>{const _0x431fca=_0x545262,_0x4bcd2e=_0x1fb786['id'],_0x3405e8=_0x1fb786[_0x431fca(0x695)]||[],_0x2392ae=_0x3405e8[_0x431fca(0x8b4)]>0x0,_0x38ddd6=_0x1fb786[_0x431fca(0x507)]===_0x431fca(0x69b);let _0xeda789='';_0x2392ae?_0xeda789=_0x431fca(0x3a6)+_0x3405e8[_0x431fca(0x8b4)]+_0x431fca(0xcab):_0xeda789=_0x431fca(0xbf8)+(_0x38ddd6?_0x431fca(0x592):_0x431fca(0x79a))+'\x22>'+(_0x38ddd6?_0x431fca(0x2a9):_0x431fca(0x649))+_0x431fca(0x4d1);const _0x1680f1=!_0x38ddd6?_0x431fca(0xbf7):'',_0x583ae4=!_0x38ddd6?_0x431fca(0x9cc):'';let _0x54f923=_0x38ddd6?_0x431fca(0x8dc):_0x431fca(0x32d);_0x12c0b4+=_0x431fca(0x3ac)+_0x4bcd2e+_0x431fca(0x487)+_0x1fb786[_0x431fca(0x3e1)]+_0x431fca(0x805)+_0xeda789+_0x431fca(0x1c6)+_0x1680f1+'\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20'+_0x583ae4+_0x431fca(0x85f)+_0x54f923+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x12c0b4+=_0x545262(0x6e3);}_0x12c0b4+=_0x545262(0xbeb);}_0x44dcbf['innerHTML']=_0x12c0b4;}async function handleDeepDeleteBlueprintProject(_0x31469c){const _0x40af5d=_0x44691e,_0x4e80da=doc(db,_0x40af5d(0x1c4)+appId+_0x40af5d(0x8c1),_0x31469c),_0x404e37=await getDoc(_0x4e80da);if(!_0x404e37[_0x40af5d(0x72f)]()){showMessage(_0x40af5d(0x616));return;}const _0x289e51=_0x404e37[_0x40af5d(0x2a7)]()[_0x40af5d(0xc87)];showConfirmation(_0x40af5d(0x80f)+_0x289e51+_0x40af5d(0x350),async()=>{const _0x30e3ce=_0x40af5d;showMessage(_0x30e3ce(0xaf9));try{const _0x542089=writeBatch(db),_0x26fd38=_0x404e37[_0x30e3ce(0x2a7)](),_0x5773f8=_0x26fd38[_0x30e3ce(0xc3e)]||{};for(const _0x52fa86 in _0x5773f8){const _0x4a4e7d=doc(db,_0x30e3ce(0x1c4)+appId+'/public/data/blueprintProjects/'+_0x31469c+_0x30e3ce(0xac4),_0x52fa86);_0x542089['delete'](_0x4a4e7d);}const _0x483e1c=new Set();for(const _0x13ec13 in _0x5773f8){_0x5773f8[_0x13ec13][_0x30e3ce(0x695)]&&_0x5773f8[_0x13ec13][_0x30e3ce(0x695)][_0x30e3ce(0xc74)](_0x272077=>_0x483e1c['add'](_0x272077));}for(const _0x584fc0 of _0x483e1c){await handleDeleteQuiz(_0x584fc0,![]);}_0x542089[_0x30e3ce(0x6ce)](_0x4e80da),await _0x542089[_0x30e3ce(0xae9)](),showMessage(_0x30e3ce(0x4e5)+_0x289e51+_0x30e3ce(0x95d)),showBlueprintProjects();}catch(_0x3076f2){console[_0x30e3ce(0x723)](_0x30e3ce(0xbb8),_0x3076f2),showMessage('เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล');}});}async function openTopicQuizBank(_0x130bf2){const _0x1d81dc=_0x44691e,_0x2aad47=document[_0x1d81dc(0xcac)]('topic-quiz-bank-modal'),_0x4d36aa=document[_0x1d81dc(0xcac)](_0x1d81dc(0xcb1)),_0x199c3f=document[_0x1d81dc(0xcac)](_0x1d81dc(0x901));try{await ensureGlobalQuizzesLoaded();const _0x4977dc=doc(db,_0x1d81dc(0x1c4)+appId+_0x1d81dc(0x8c1),currentBlueprintProjectId),_0xd9cdec=await getDoc(_0x4977dc);if(!_0xd9cdec[_0x1d81dc(0x72f)]())return;const _0x2415ab=_0xd9cdec[_0x1d81dc(0x2a7)](),_0x1c73d4=_0x2415ab[_0x1d81dc(0xc3e)][_0x130bf2];document[_0x1d81dc(0xcac)](_0x1d81dc(0x6cd))['textContent']=_0x1c73d4[_0x1d81dc(0x3e1)];const _0x10733b=_0x1c73d4['linkedQuizIds']||[];_0x199c3f[_0x1d81dc(0x534)][_0x1d81dc(0xa90)]('hidden',_0x10733b['length']===0x0),_0x199c3f[_0x1d81dc(0x800)]=()=>handleClearAllLinksForTopic(_0x130bf2);if(_0x10733b['length']===0x0)_0x4d36aa[_0x1d81dc(0x64a)]='<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>';else{const _0x2e1acb=allQuizzesGlobal[_0x1d81dc(0x686)](_0x539bcd=>_0x10733b['includes'](_0x539bcd['id']));_0x4d36aa['innerHTML']=_0x2e1acb[_0x1d81dc(0x39a)](_0x32aa76=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22'+_0x32aa76['id']+_0x1d81dc(0x93b)+_0x32aa76[_0x1d81dc(0x180)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20'+_0x32aa76['id']+_0x1d81dc(0x5bc)+_0x32aa76[_0x1d81dc(0x8f1)]['length']+_0x1d81dc(0x31f)+_0x32aa76['id']+_0x1d81dc(0x539)+_0x32aa76['id']+_0x1d81dc(0xbac)+_0x32aa76['id']+_0x1d81dc(0x618)+_0x32aa76['id']+_0x1d81dc(0x1ed)+_0x32aa76['id']+_0x1d81dc(0x38f)+_0x32aa76['id']+_0x1d81dc(0x622)+_0x130bf2+_0x1d81dc(0x2ab)+_0x32aa76['id']+_0x1d81dc(0x7ba))[_0x1d81dc(0xad6)]('');}document[_0x1d81dc(0xcac)]('add-from-global-bank-btn')[_0x1d81dc(0x800)]=()=>{openQuizSelectorForBlueprint(_0x130bf2);},document[_0x1d81dc(0xcac)]('close-topic-bank-btn')[_0x1d81dc(0x800)]=()=>_0x2aad47[_0x1d81dc(0x534)]['add']('hidden'),_0x2aad47[_0x1d81dc(0x534)][_0x1d81dc(0x392)]('hidden');}catch(_0x396174){showMessage(_0x396174[_0x1d81dc(0xca0)]);}}async function openQuizSelectorForBlueprint(_0x1bf6c0){const _0xbf26b=_0x44691e,_0x483e5e=document['getElementById'](_0xbf26b(0xad1)),_0x29aa5e=document[_0xbf26b(0xcac)]('topic-quiz-bank-modal');_0x29aa5e[_0xbf26b(0x534)][_0xbf26b(0x174)]('hidden'),document[_0xbf26b(0xcac)](_0xbf26b(0x35c))?.['remove']();const _0x136e5d=document[_0xbf26b(0x5c5)]('button');_0x136e5d['id']=_0xbf26b(0x35c),_0x136e5d['className']=_0xbf26b(0x62b),_0x136e5d[_0xbf26b(0x20a)]='เพิ่มรายการที่เลือก',_0x136e5d['disabled']=!![];try{await ensureGlobalQuizzesLoaded(),_0x483e5e[_0xbf26b(0x534)][_0xbf26b(0x392)](_0xbf26b(0xb2f)),renderQuizBankListForMultiSelect(''),document[_0xbf26b(0xcac)](_0xbf26b(0xcc6))[_0xbf26b(0xad3)]['display']=_0xbf26b(0xb7d),_0x483e5e['querySelector'](_0xbf26b(0x3ed))[_0xbf26b(0x740)](_0x136e5d);const _0x387743=(_0x81dae=![])=>{const _0xd786da=_0xbf26b;_0x483e5e[_0xd786da(0x534)][_0xd786da(0x174)](_0xd786da(0xb2f)),document[_0xd786da(0xcac)](_0xd786da(0xcc6))['style'][_0xd786da(0xc4c)]='flex',_0x136e5d['remove'](),_0x81dae&&openTopicQuizBank(_0x1bf6c0);};_0x136e5d[_0xbf26b(0x800)]=async()=>{const _0x588432=_0xbf26b,_0x463df6=Array[_0x588432(0xb61)](document['querySelectorAll'](_0x588432(0x718)))[_0x588432(0x39a)](_0xa8aa6f=>_0xa8aa6f[_0x588432(0x1a0)]);if(_0x463df6['length']===0x0)return;try{const _0x17b385=doc(db,_0x588432(0x1c4)+appId+_0x588432(0x8c1),currentBlueprintProjectId),_0x15c350=(await getDoc(_0x17b385))[_0x588432(0x2a7)](),_0x35ec48=_0x15c350[_0x588432(0xc3e)][_0x1bf6c0][_0x588432(0x695)]||[],_0x503da6=[...new Set([..._0x35ec48,..._0x463df6])];await updateDoc(_0x17b385,{['topics.'+_0x1bf6c0+_0x588432(0x82b)]:_0x503da6}),showMessage('เพิ่ม\x20'+_0x463df6['length']+_0x588432(0xc20)),_0x387743(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3bf954){console['error'](_0x588432(0x3ba),_0x3bf954);}},document[_0xbf26b(0xcac)]('cancel-quiz-bank-btn')[_0xbf26b(0x800)]=()=>_0x387743(!![]);}catch(_0x305310){showMessage(_0x305310[_0xbf26b(0xca0)]),_0x29aa5e['classList'][_0xbf26b(0x392)](_0xbf26b(0xb2f));}}function handleClearLinkedQuiz(_0x4f55f7){const _0xc607b5=_0x44691e;showConfirmation(_0xc607b5(0x5ea),async()=>{const _0x285fdb=_0xc607b5;try{const _0x537e6e=doc(db,'artifacts/'+appId+_0x285fdb(0x8c1),currentBlueprintProjectId);await updateDoc(_0x537e6e,{[_0x285fdb(0x382)+_0x4f55f7+'.linkedQuizId']:deleteField()}),showMessage('ยกเลิกการเชื่อมโยงสำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5d6397){console[_0x285fdb(0x723)]('Error\x20clearing\x20linked\x20quiz:',_0x5d6397),showMessage(_0x285fdb(0x560));}});}async function addTopicToProject(){const _0x16fd11=_0x44691e,_0x14622d=prompt(_0x16fd11(0x483));if(!_0x14622d||_0x14622d['trim']()==='')return;const _0x5d20d4=prompt(_0x16fd11(0x970),_0x16fd11(0x437)),_0x12d798=prompt('อยู่ในหัวข้อหลักใด:',_0x16fd11(0x3b7)),_0x5cf968='topic_'+Date['now']()+Math[_0x16fd11(0x53f)]()[_0x16fd11(0xb8f)](0x24)[_0x16fd11(0xc96)](0x2,0x9),_0xd0bc8a={'sara':_0x5d20d4,'mainTopic':_0x12d798,'subTopic':_0x14622d[_0x16fd11(0x5a4)](),'status':_0x16fd11(0xa48),'lessonContent':null};try{const _0x32e7dc=doc(db,_0x16fd11(0x1c4)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x32e7dc,{[_0x16fd11(0x382)+_0x5cf968]:_0xd0bc8a}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x322173){console[_0x16fd11(0x723)](_0x16fd11(0xa67),_0x322173),showMessage('เกิดข้อผิดพลาดในการเพิ่มหัวข้อ');}}async function editTopicInProject(_0x36f700){const _0x4e1798=_0x44691e,_0x2f6d53=document[_0x4e1798(0x909)](_0x4e1798(0x6ac)+_0x36f700+'\x22]'),_0x242682=_0x2f6d53[_0x4e1798(0x909)](_0x4e1798(0x7fa)),_0x2369aa=_0x242682[_0x4e1798(0x20a)],_0x4a595e=prompt('แก้ไขชื่อหัวข้อย่อย:',_0x2369aa);if(!_0x4a595e||_0x4a595e['trim']()===''||_0x4a595e[_0x4e1798(0x5a4)]()===_0x2369aa)return;try{const _0x273fde=doc(db,'artifacts/'+appId+_0x4e1798(0x8c1),currentBlueprintProjectId);await updateDoc(_0x273fde,{[_0x4e1798(0x382)+_0x36f700+_0x4e1798(0xc79)]:_0x4a595e[_0x4e1798(0x5a4)]()}),_0x242682[_0x4e1798(0x20a)]=_0x4a595e['trim'](),showMessage(_0x4e1798(0xa6f));}catch(_0xe0e154){console[_0x4e1798(0x723)](_0x4e1798(0x903),_0xe0e154),showMessage('เกิดข้อผิดพลาดในการแก้ไข');}}async function deleteTopicFromProject(_0x1d7f8b){const _0x5cb21d=_0x44691e;if(!confirm('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?'))return;try{const _0x5f0daf=doc(db,_0x5cb21d(0x1c4)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x5f0daf,{[_0x5cb21d(0x382)+_0x1d7f8b]:deleteField()}),document[_0x5cb21d(0x909)](_0x5cb21d(0x6ac)+_0x1d7f8b+'\x22]')[_0x5cb21d(0x392)](),showMessage(_0x5cb21d(0x930));}catch(_0x521bd8){console[_0x5cb21d(0x723)](_0x5cb21d(0x9f2),_0x521bd8),showMessage(_0x5cb21d(0x296));}}async function generateAndSaveLessonForBlueprint(_0x73a510,_0x10287c,_0x135649){handleGenerateAndShowLesson(_0x10287c,_0x135649);const _0x56e6c4=setInterval(async()=>{const _0x53068b=_0x3aeb,_0x20c50b=document['getElementById'](_0x53068b(0x58d)),_0x1b53f3=_0x20c50b[_0x53068b(0x534)]['contains'](_0x53068b(0xb2f));if(_0x1b53f3){clearInterval(_0x56e6c4);if(currentApplicationData&&currentApplicationData[_0x53068b(0x8b4)]>0x0){const _0x223d5b={'point':document['getElementById']('pointContent')[_0x53068b(0x64a)],'memory':document[_0x53068b(0xcac)]('memoryContent')[_0x53068b(0x64a)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document['getElementById']('summaryContent')[_0x53068b(0x64a)]};try{const _0x5d1770=doc(db,'artifacts/'+appId+_0x53068b(0x8c1),currentBlueprintProjectId),_0x1bca27=doc(db,_0x53068b(0x1c4)+appId+_0x53068b(0xc18)+currentBlueprintProjectId+_0x53068b(0xac4),_0x73a510),_0xa0371b=writeBatch(db);_0xa0371b['set'](_0x1bca27,{'content':_0x223d5b}),_0xa0371b[_0x53068b(0x626)](_0x5d1770,{[_0x53068b(0x382)+_0x73a510+'.status']:_0x53068b(0x69b)}),await _0xa0371b[_0x53068b(0xae9)](),console[_0x53068b(0x18c)](_0x53068b(0x391)+_0x73a510+_0x53068b(0x478)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2556ce){console[_0x53068b(0x723)](_0x53068b(0xab3),_0x2556ce);}}}},0x3e8);}function displayHalfMarkResult(_0x3b2b0e,_0x45fdd9){const _0x3b843d=_0x44691e,_0x239c04=_0x3b2b0e>=_0x45fdd9/0x2,_0x1c2435=_0x239c04?_0x3b843d(0x310):_0x3b843d(0x9c2),_0x5cf47e=_0x239c04?_0x3b843d(0x6a2):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x146442=_0x239c04?_0x3b843d(0xc06):_0x3b843d(0x600),_0x230b43=_0x239c04?_0x3b843d(0x9da):_0x3b843d(0xb58),_0x178ad8=_0x239c04?_0x3b843d(0x915):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x14d6fe='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x1c2435+_0x3b843d(0x2ee)+_0x5cf47e+_0x3b843d(0x41b)+_0x146442+'\x20mb-2\x22>'+_0x230b43+_0x3b843d(0x601)+_0x178ad8+_0x3b843d(0x9d4);studentResultArea[_0x3b843d(0x64a)]=_0x14d6fe,studentResultArea[_0x3b843d(0x534)]['remove']('hidden'),studentQuizArea[_0x3b843d(0x534)]['add'](_0x3b843d(0xb2f)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x239c04});}function displayPerfectScoreResult(_0x266045,_0x353adf){const _0x80c124=_0x44691e,_0x134c2d=_0x266045===_0x353adf,_0x216880=_0x134c2d?_0x80c124(0x663):_0x80c124(0x750),_0x38415f=_0x134c2d?_0x80c124(0x789):_0x80c124(0x192),_0x3127a8=_0x134c2d?_0x80c124(0x6f9):'text-blue-800',_0x250f94=_0x134c2d?_0x80c124(0x9ae):'ยังไม่เต็มนะ',_0x5f5bc3=_0x134c2d?_0x80c124(0x248):_0x80c124(0x71f);let _0xe4a438=_0x80c124(0x864)+_0x216880+_0x80c124(0x2ee)+_0x38415f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x3127a8+_0x80c124(0x9db)+_0x250f94+_0x80c124(0x601)+_0x5f5bc3+_0x80c124(0x9d4);studentResultArea[_0x80c124(0x64a)]=_0xe4a438,studentResultArea['classList']['remove']('hidden'),studentQuizArea[_0x80c124(0x534)][_0x80c124(0x174)](_0x80c124(0xb2f)),setupResultScreenBackButton({'showRankings':![],'score':_0x266045,'totalQuestions':_0x353adf});}function renderIndividualComparisonTable(_0x332e5e,_0x3e89ae){const _0x52e897=_0x44691e;_0x332e5e[_0x52e897(0xa24)]((_0x111cc7,_0x4b7dcc)=>(_0x4b7dcc[_0x52e897(0xccf)]??-Infinity)-(_0x111cc7['tGain']??-Infinity));let _0x2e5a11=_0x52e897(0x1f0);_0x332e5e[_0x52e897(0x8b4)]===0x0?_0x2e5a11+=_0x52e897(0x9c5):_0x332e5e[_0x52e897(0xc74)]((_0x4cc86f,_0x4c7860)=>{const _0x28f27d=_0x52e897;let _0x2a2632='-',_0x5a6ad3='';if(_0x4cc86f['gain']!==null){const _0x3e86c8=_0x4cc86f[_0x28f27d(0xafb)]>0x0?_0x28f27d(0x6bc):_0x4cc86f[_0x28f27d(0xafb)]<0x0?'text-red-600':_0x28f27d(0xb49),_0x360878=_0x4cc86f[_0x28f27d(0xafb)]>0x0?'+':'';_0x2a2632=_0x28f27d(0xa63)+_0x3e86c8+'\x22>'+_0x360878+_0x4cc86f[_0x28f27d(0xafb)]+_0x28f27d(0x4d1);if(_0x4cc86f[_0x28f27d(0xafb)]>0x0)_0x5a6ad3=_0x28f27d(0xb18);else _0x4cc86f[_0x28f27d(0xafb)]<0x0?_0x5a6ad3=_0x28f27d(0x1ea):_0x5a6ad3=_0x28f27d(0x739);}let _0x194312='-';if(_0x4cc86f[_0x28f27d(0xccf)]!==null){const _0x311ca7=_0x4cc86f['tGain']>0x0?_0x28f27d(0x6bc):_0x4cc86f[_0x28f27d(0xccf)]<0x0?_0x28f27d(0x2b4):_0x28f27d(0xb49),_0x530b51=_0x4cc86f[_0x28f27d(0xccf)]>0x0?'+':'';_0x194312='<span\x20class=\x22font-bold\x20'+_0x311ca7+'\x22>'+_0x530b51+_0x4cc86f[_0x28f27d(0xccf)][_0x28f27d(0xc75)](0x2)+_0x28f27d(0x4d1);}_0x2e5a11+=_0x28f27d(0xc09)+(_0x4c7860+0x1)+_0x28f27d(0x2f8)+_0x4cc86f['name']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x4cc86f['preScore']??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>'+(_0x4cc86f[_0x28f27d(0x786)]??'-')+_0x28f27d(0x98c)+_0x2a2632+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x5a6ad3+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x4cc86f[_0x28f27d(0x6b7)]?.['toFixed'](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x4cc86f[_0x28f27d(0x899)]?.['toFixed'](0x2)??'-')+_0x28f27d(0x98c)+_0x194312+_0x28f27d(0x427);}),_0x2e5a11+=_0x52e897(0x29d),_0x3e89ae[_0x52e897(0x64a)]=_0x2e5a11;}function handleRenameQuiz(_0x5093bd,_0x53f860){const _0x4b4800=_0x44691e;actionTargetId=_0x5093bd,document[_0x4b4800(0xcac)](_0x4b4800(0x317))[_0x4b4800(0x1a0)]=_0x53f860,renameQuizModal['classList'][_0x4b4800(0x392)](_0x4b4800(0xb2f));}function setupComparisonModalTabs(){const _0x5eb058=_0x44691e,_0x3ab118=document[_0x5eb058(0xcac)](_0x5eb058(0x5da)),_0x5bf285=document[_0x5eb058(0xcac)]('comparison-individual-tab'),_0x1cf1dc=document['getElementById']('comparison-overall-content'),_0x187a7c=document['getElementById'](_0x5eb058(0x987));_0x3ab118[_0x5eb058(0x36e)]('click',()=>{const _0x46a016=_0x5eb058;_0x3ab118[_0x46a016(0x534)][_0x46a016(0x174)](_0x46a016(0x993)),_0x5bf285[_0x46a016(0x534)]['remove']('active'),_0x1cf1dc[_0x46a016(0x534)]['remove'](_0x46a016(0xb2f)),_0x187a7c['classList'][_0x46a016(0x174)](_0x46a016(0xb2f));}),_0x5bf285['addEventListener'](_0x5eb058(0x486),()=>{const _0x1cad30=_0x5eb058;_0x5bf285[_0x1cad30(0x534)]['add'](_0x1cad30(0x993)),_0x3ab118[_0x1cad30(0x534)][_0x1cad30(0x392)](_0x1cad30(0x993)),_0x187a7c['classList']['remove'](_0x1cad30(0xb2f)),_0x1cf1dc['classList'][_0x1cad30(0x174)](_0x1cad30(0xb2f));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x12f223=_0x44691e;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x1e96a7=doc(db,_0x12f223(0x1c4)+appId+_0x12f223(0x68d),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x1e96a7,_0x5e4742=>{const _0x36521a=_0x12f223;if(!_0x5e4742[_0x36521a(0x72f)]()){showMessage(_0x36521a(0xa4e));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x36521a(0x783)?showView(_0x36521a(0x7fb)):showView(_0x36521a(0xb07));return;}const _0x20eff1=_0x5e4742['data']();_0x20eff1['shuffledQuiz']&&(currentQuizData=_0x20eff1['shuffledQuiz']);!currentQuizData&&_0x20eff1[_0x36521a(0xae2)]&&((async()=>{const _0x1c03e3=_0x36521a;try{const _0x25a269=doc(db,_0x1c03e3(0x1c4)+appId+_0x1c03e3(0x1fa),_0x20eff1[_0x1c03e3(0xae2)]),_0x49e6aa=await getDoc(_0x25a269);_0x49e6aa[_0x1c03e3(0x72f)]()&&(currentQuizData={'id':_0x49e6aa['id'],..._0x49e6aa[_0x1c03e3(0x2a7)]()});}catch(_0x5b14f3){console[_0x1c03e3(0x723)](_0x1c03e3(0x9b0),_0x5b14f3);}})());switch(_0x20eff1[_0x36521a(0x507)]){case'lobby':if(currentMode===_0x36521a(0x783)){const _0x153f0f=_0x20eff1[_0x36521a(0xb3f)]?Object[_0x36521a(0x823)](_0x20eff1[_0x36521a(0xb3f)]):[],_0x5a8ea3=_0x153f0f['filter'](([_0x4d4a4b,_0x45d34f])=>_0x45d34f[_0x36521a(0x507)]===_0x36521a(0x993)),_0x20bdbd=document[_0x36521a(0xcac)]('player-count');if(_0x20bdbd)_0x20bdbd[_0x36521a(0x20a)]=_0x5a8ea3[_0x36521a(0x8b4)];const _0x4cc32d=document[_0x36521a(0xcac)]('player-list-lobby');_0x4cc32d&&(_0x4cc32d[_0x36521a(0x64a)]=_0x5a8ea3['map'](([_0x2ee03d,_0x1595e4])=>_0x36521a(0x634)+_0x2ee03d+_0x36521a(0x595)+_0x2ee03d+_0x36521a(0x414))[_0x36521a(0xad6)](''));const _0x45a241=document[_0x36521a(0xcac)]('start-game-btn');_0x45a241&&(_0x45a241['disabled']=_0x5a8ea3[_0x36521a(0x8b4)]===0x0);}else showView(_0x36521a(0xa2d)),liveGameView[_0x36521a(0x64a)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x36521a(0x4d5):const _0x3ae7b3=_0x20eff1[_0x36521a(0x4db)];if(currentQuizData&&currentQuizData[_0x36521a(0x8f1)][_0x3ae7b3]){const _0x52c6ee=currentQuizData[_0x36521a(0x8f1)][_0x3ae7b3],_0x4c026a=_0x20eff1[_0x36521a(0x690)]||'answering';switch(_0x4c026a){case _0x36521a(0x27b):currentMode===_0x36521a(0x783)?showAdminSummaryView(_0x20eff1,_0x52c6ee):showPlayerSummaryView(_0x20eff1,currentStudentName);break;case _0x36521a(0x861):currentMode===_0x36521a(0x783)&&showTop5LeaderboardView(_0x20eff1);break;case _0x36521a(0x1fc):default:if(currentMode==='admin'){const _0x3f7550=writeBatch(db);let _0x391a72=![];Object['entries'](_0x20eff1[_0x36521a(0xb3f)])[_0x36521a(0xc74)](([_0x4c013f,_0x248ea3])=>{const _0x36618e=_0x36521a;if(_0x248ea3[_0x36618e(0x507)]===_0x36618e(0x993)&&_0x248ea3[_0x36618e(0xa7a)]&&!_0x248ea3[_0x36618e(0xb5e)]){_0x391a72=!![];const _0x491bce=_0x248ea3[_0x36618e(0xa7a)][_0x36618e(0xb4b)]()-_0x20eff1['questionDisplayedAt'][_0x36618e(0xb4b)]();let _0x392f37=0x0;if(_0x248ea3[_0x36618e(0x6df)]){const _0x38afaf=0x3e8,_0x534491=0x1f4,_0x514a74=0x4e20;let _0x539792=_0x491bce/_0x514a74;if(_0x539792>0x1)_0x539792=0x1;const _0x2d9365=Math[_0x36618e(0x372)](_0x539792*_0x534491);_0x392f37=_0x38afaf-_0x2d9365;}const _0x3e36b5=doc(db,_0x36618e(0x1c4)+appId+_0x36618e(0x68d),currentLiveGameId);_0x3f7550[_0x36618e(0x626)](_0x3e36b5,{['players.'+_0x4c013f+'.score']:increment(_0x392f37),['players.'+_0x4c013f+'.pointsLastQuestion']:_0x392f37,[_0x36618e(0xa14)+_0x4c013f+'.isScored']:!![]});}});_0x391a72&&_0x3f7550[_0x36521a(0xae9)]()['catch'](_0x23a5a1=>console['error']('Error\x20committing\x20score\x20updates:',_0x23a5a1));lastRenderedAdminQuestionIndex!==_0x3ae7b3&&(showAdminLiveQuestionView(_0x52c6ee,_0x3ae7b3,currentQuizData[_0x36521a(0x8f1)]['length']),lastRenderedAdminQuestionIndex=_0x3ae7b3);const _0x117812=_0x20eff1[_0x36521a(0xb3f)]||{},_0x48ba34=Object[_0x36521a(0x5a9)](_0x117812)['filter'](_0x4a8d69=>_0x4a8d69[_0x36521a(0x507)]==='active'),_0x244076=_0x48ba34[_0x36521a(0x8b4)],_0x3721f3=_0x48ba34[_0x36521a(0x686)](_0x2f3e1b=>_0x2f3e1b[_0x36521a(0x5df)]===!![])['length'],_0x303b09=document[_0x36521a(0xcac)](_0x36521a(0x94d));if(_0x303b09)_0x303b09['textContent']=_0x3721f3+'/'+_0x244076;const _0x289cf5=document[_0x36521a(0xcac)]('live-player-list');if(_0x289cf5){let _0xb3f92b=Object[_0x36521a(0x823)](_0x117812)['filter'](([_0x28f471,_0x35b745])=>_0x35b745[_0x36521a(0x507)]===_0x36521a(0x993))['map'](([_0x1388bc,_0x3493b8])=>{const _0x233067=_0x36521a,_0x34d07e=_0x3493b8['answeredCurrentQuestion']===!![],_0x155177=_0x34d07e?_0x233067(0x837):'bg-gray-500',_0x234897=_0x34d07e?_0x233067(0xa3c):_0x233067(0x45c);return _0x233067(0x322)+_0x155177+_0x233067(0x509)+_0x234897+_0x233067(0x9c9)+_0x1388bc+_0x233067(0x263)+_0x1388bc+_0x233067(0xae3);})[_0x36521a(0xad6)]('');_0x289cf5['innerHTML']=_0xb3f92b||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x244076>0x0&&_0x3721f3===_0x244076&&revealAnswerForAdmin(_0x3ae7b3,currentQuizData['questions']['length']);}else{const _0x3a79bf=_0x20eff1[_0x36521a(0xb3f)][currentStudentName];_0x3a79bf&&!_0x3a79bf['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x52c6ee,_0x3ae7b3,currentQuizData['questions'][_0x36521a(0x8b4)]);}break;}}break;case _0x36521a(0x69f):showPodiumView(_0x20eff1[_0x36521a(0xb3f)],'live-race');break;}});}async function openGlobalActivityModal(){const _0x498365=_0x44691e;if(allQuizzesGlobal['length']===0x0){const _0x5b31a0=await getDocs(collection(db,_0x498365(0x1c4)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x5b31a0[_0x498365(0xb1e)][_0x498365(0x39a)](_0x3caedc=>({'id':_0x3caedc['id'],..._0x3caedc[_0x498365(0x2a7)]()}));}renderGlobalActivityList(''),document[_0x498365(0xcac)]('global-activity-modal')[_0x498365(0x534)][_0x498365(0x392)](_0x498365(0xb2f));}function renderGlobalActivityList(_0xd15d0c=''){const _0x4eab3d=_0x44691e,_0x4ed27b=document[_0x4eab3d(0xcac)]('global-activity-quiz-list'),_0x598621=_0xd15d0c[_0x4eab3d(0x3e6)]()[_0x4eab3d(0x5a4)](),_0x40dff9=allQuizzesGlobal[_0x4eab3d(0x39a)](_0x19071f=>({..._0x19071f,'projectName':allProjects[_0x4eab3d(0xb3a)](_0x581afd=>_0x581afd['id']===_0x19071f[_0x4eab3d(0x370)])?.['projectName']||_0x4eab3d(0x2f7)}))[_0x4eab3d(0x686)](_0x538184=>(_0x538184[_0x4eab3d(0x180)]||'')[_0x4eab3d(0x3e6)]()[_0x4eab3d(0x764)](_0x598621)||(_0x538184[_0x4eab3d(0xc87)]||'')[_0x4eab3d(0x3e6)]()[_0x4eab3d(0x764)](_0x598621));document[_0x4eab3d(0xcac)]('global-quiz-count')[_0x4eab3d(0x20a)]='('+_0x40dff9[_0x4eab3d(0x8b4)]+_0x4eab3d(0xa25),_0x4ed27b[_0x4eab3d(0x64a)]=_0x40dff9['length']?_0x40dff9[_0x4eab3d(0x39a)](_0x2a137d=>_0x4eab3d(0xcc5)+(_0x2a137d[_0x4eab3d(0x180)]||_0x4eab3d(0xa9e))+_0x4eab3d(0xc68)+(_0x2a137d[_0x4eab3d(0x8f1)]?.[_0x4eab3d(0x8b4)]||0x0)+_0x4eab3d(0x43f)+_0x2a137d[_0x4eab3d(0xc87)]+_0x4eab3d(0x88f)+_0x2a137d['id']+_0x4eab3d(0x59b)+_0x2a137d['id']+_0x4eab3d(0x298)+_0x2a137d['id']+_0x4eab3d(0x3d1)+_0x2a137d['id']+_0x4eab3d(0xb79))[_0x4eab3d(0xad6)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>';}async function handleKickPlayer(_0x4ce5f3){const _0x3ebb1f=_0x44691e;if(!currentLiveGameId||!_0x4ce5f3)return;const _0xa9fc32=doc(db,_0x3ebb1f(0x1c4)+appId+_0x3ebb1f(0x68d),currentLiveGameId),_0x49eb84={};_0x49eb84[_0x3ebb1f(0xa14)+_0x4ce5f3+_0x3ebb1f(0x3a9)]='inactive';try{await updateDoc(_0xa9fc32,_0x49eb84);}catch(_0x2fd2c4){console['error'](_0x3ebb1f(0x2e0)+_0x4ce5f3+':',_0x2fd2c4),showMessage(_0x3ebb1f(0x417));}}async function authenticateUser(){const _0x49b82c=_0x44691e;try{typeof __initial_auth_token!==_0x49b82c(0x657)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x133fb1){console[_0x49b82c(0x723)](_0x49b82c(0x16e),_0x133fb1),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x28ad4f){const _0x3c0920=_0x44691e;adminView[_0x3c0920(0x534)][_0x3c0920(0x174)](_0x3c0920(0xb2f)),studentView['classList'][_0x3c0920(0x174)](_0x3c0920(0xb2f)),projectDashboardView[_0x3c0920(0x534)][_0x3c0920(0x174)](_0x3c0920(0xb2f)),projectDetailView['classList'][_0x3c0920(0x174)](_0x3c0920(0xb2f)),quizResultsView[_0x3c0920(0x534)][_0x3c0920(0x174)](_0x3c0920(0xb2f)),liveGameView[_0x3c0920(0x534)]['add']('hidden'),document[_0x3c0920(0xcac)](_0x3c0920(0x3aa))[_0x3c0920(0x534)][_0x3c0920(0x174)](_0x3c0920(0xb2f)),studentInitialView[_0x3c0920(0x534)][_0x3c0920(0x174)]('hidden'),studentJoinGameView[_0x3c0920(0x534)][_0x3c0920(0x174)](_0x3c0920(0xb2f)),studentNameSelectionView[_0x3c0920(0x534)]['add'](_0x3c0920(0xb2f)),studentQuizArea[_0x3c0920(0x534)]['add']('hidden'),studentResultArea['classList'][_0x3c0920(0x174)](_0x3c0920(0xb2f)),studentReadingArea[_0x3c0920(0x534)][_0x3c0920(0x174)](_0x3c0920(0xb2f));const _0x2f3ac6=document[_0x3c0920(0xcac)]('student-team-selection-view'),_0x3e00fc=document[_0x3c0920(0xcac)](_0x3c0920(0x944));if(_0x2f3ac6)_0x2f3ac6[_0x3c0920(0x534)][_0x3c0920(0x174)]('hidden');if(_0x3e00fc)_0x3e00fc[_0x3c0920(0x534)][_0x3c0920(0x174)](_0x3c0920(0xb2f));switch(_0x28ad4f){case _0x3c0920(0x148):adminView['classList']['remove']('hidden'),projectDashboardView[_0x3c0920(0x534)]['remove'](_0x3c0920(0xb2f));break;case _0x3c0920(0x7fb):adminView[_0x3c0920(0x534)][_0x3c0920(0x392)](_0x3c0920(0xb2f)),projectDetailView[_0x3c0920(0x534)][_0x3c0920(0x392)]('hidden');break;case'quiz-results':adminView[_0x3c0920(0x534)][_0x3c0920(0x392)]('hidden'),quizResultsView[_0x3c0920(0x534)]['remove'](_0x3c0920(0xb2f));break;case'student':studentView['classList'][_0x3c0920(0x392)]('hidden'),studentInitialView[_0x3c0920(0x534)][_0x3c0920(0x392)](_0x3c0920(0xb2f));break;case _0x3c0920(0xa2d):liveGameView[_0x3c0920(0x534)][_0x3c0920(0x392)](_0x3c0920(0xb2f));break;case'student-team-join':studentView[_0x3c0920(0x534)][_0x3c0920(0x392)](_0x3c0920(0xb2f));if(_0x2f3ac6)_0x2f3ac6['classList'][_0x3c0920(0x392)](_0x3c0920(0xb2f));break;case'student-progress':studentView['classList']['remove']('hidden');if(_0x3e00fc)_0x3e00fc['classList'][_0x3c0920(0x392)]('hidden');break;default:studentView[_0x3c0920(0x534)][_0x3c0920(0x392)](_0x3c0920(0xb2f)),studentInitialView[_0x3c0920(0x534)]['remove'](_0x3c0920(0xb2f));break;}}function showJoinGameView(){const _0xd7932d=_0x44691e;studentInitialView[_0xd7932d(0x534)][_0xd7932d(0x174)](_0xd7932d(0xb2f)),studentJoinGameView['classList'][_0xd7932d(0x392)](_0xd7932d(0xb2f));}async function handleSaveVisibilitySettings(){const _0x2b18d2=_0x44691e;if(!currentProjectId)return;const _0x446691=doc(db,_0x2b18d2(0x1c4)+appId+_0x2b18d2(0x6b6),currentProjectId);try{await updateDoc(_0x446691,{'settings.showInStudentDashboard':document[_0x2b18d2(0xcac)](_0x2b18d2(0x359))['checked'],'settings.isPasscodeEnabled':document[_0x2b18d2(0xcac)](_0x2b18d2(0x67f))['checked'],'settings.passcode':document[_0x2b18d2(0xcac)](_0x2b18d2(0x950))[_0x2b18d2(0x1a0)][_0x2b18d2(0x5a4)]()}),showMessage(_0x2b18d2(0x74c));}catch(_0x2b0d44){console[_0x2b18d2(0x723)](_0x2b18d2(0xb6b),_0x2b0d44),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x3f343b=_0x44691e,_0x1c3e6e=document[_0x3f343b(0xcac)](_0x3f343b(0x3e0));_0x1c3e6e&&(_0x1c3e6e['addEventListener']('mousedown',wakeUpScreen),_0x1c3e6e[_0x3f343b(0x36e)](_0x3f343b(0x779),wakeUpScreen));document[_0x3f343b(0xcac)](_0x3f343b(0x701))[_0x3f343b(0x36e)](_0x3f343b(0x486),async()=>{const _0x3169c4=_0x3f343b;if(!currentBlueprintProjectId)return;const _0x3193cf=document[_0x3169c4(0xcac)](_0x3169c4(0x1c7))[_0x3169c4(0x1a0)][_0x3169c4(0x5a4)](),_0xc13bf3=doc(db,'artifacts/'+appId+_0x3169c4(0x8c1),currentBlueprintProjectId);try{await updateDoc(_0xc13bf3,{'referenceFileUrl':_0x3193cf}),showMessage(_0x3169c4(0xa32));}catch(_0x148f6f){console[_0x3169c4(0x723)](_0x3169c4(0x9a3),_0x148f6f),showMessage(_0x3169c4(0x742));}}),document[_0x3f343b(0xcac)](_0x3f343b(0xb8c))['addEventListener'](_0x3f343b(0x486),handleAddParallelShortcutTab),document['getElementById']('parallel-test-input-area')[_0x3f343b(0x36e)](_0x3f343b(0x486),_0xf66ce2=>{const _0x10306d=_0x3f343b;_0xf66ce2[_0x10306d(0xa9f)][_0x10306d(0xa54)](_0x10306d(0xbe2))&&(activeParallelShortcutTabId=_0x10306d(0x2c7),renderAdditionalParallelShortcutsModal(),document['getElementById'](_0x10306d(0x9a9))['classList'][_0x10306d(0x392)](_0x10306d(0xb2f)));}),document[_0x3f343b(0xcac)]('close-additional-parallel-shortcuts-btn')['addEventListener'](_0x3f343b(0x486),()=>{const _0x2b9df4=_0x3f343b;document[_0x2b9df4(0xcac)]('additional-parallel-shortcuts-modal')[_0x2b9df4(0x534)][_0x2b9df4(0x174)]('hidden');}),document[_0x3f343b(0x36e)]('click',_0x5a1e37=>{const _0x5e0711=_0x3f343b;!_0x5a1e37[_0x5e0711(0xa9f)][_0x5e0711(0xa54)](_0x5e0711(0xc47))&&document['querySelectorAll'](_0x5e0711(0x504))['forEach'](_0xcf5a7c=>_0xcf5a7c[_0x5e0711(0x534)][_0x5e0711(0x174)](_0x5e0711(0xb2f)));}),document['getElementById'](_0x3f343b(0x744))[_0x3f343b(0x36e)]('click',handleAddFileShortcutTab),document[_0x3f343b(0xcac)](_0x3f343b(0x572))[_0x3f343b(0x36e)](_0x3f343b(0x486),_0x48f750=>{const _0x57d316=_0x3f343b;_0x48f750[_0x57d316(0xa9f)][_0x57d316(0xa54)](_0x57d316(0x774))&&(activeFileShortcutTabId=_0x57d316(0x2c7),renderAdditionalFileShortcutsModal(),document['getElementById']('additional-file-shortcuts-modal')[_0x57d316(0x534)][_0x57d316(0x392)]('hidden'));}),document[_0x3f343b(0xcac)](_0x3f343b(0x97f))['addEventListener'](_0x3f343b(0x486),()=>{const _0x192379=_0x3f343b;document[_0x192379(0xcac)]('additional-file-shortcuts-modal')[_0x192379(0x534)][_0x192379(0x174)](_0x192379(0xb2f));}),document[_0x3f343b(0x36e)]('click',_0x25b44c=>{const _0x2d6b87=_0x3f343b;!_0x25b44c['target'][_0x2d6b87(0xa54)](_0x2d6b87(0x39e))&&document[_0x2d6b87(0x32a)](_0x2d6b87(0x8f8))[_0x2d6b87(0xc74)](_0x1f484d=>_0x1f484d[_0x2d6b87(0x534)]['add'](_0x2d6b87(0xb2f)));}),document['getElementById']('add-shortcut-tab-btn')[_0x3f343b(0x36e)]('click',handleAddShortcutTab),document['getElementById']('parallel-shortcut-container')[_0x3f343b(0x36e)]('click',_0x4362cd=>{const _0x215ae0=_0x3f343b,_0x57378d=_0x4362cd[_0x215ae0(0xa9f)]['closest'](_0x215ae0(0x441)),_0xe32b90=_0x4362cd[_0x215ae0(0xa9f)][_0x215ae0(0xa54)](_0x215ae0(0x2f1)),_0x2db3c7=_0x4362cd[_0x215ae0(0xa9f)][_0x215ae0(0xa54)](_0x215ae0(0xb02));if(_0xe32b90)openParallelTestShortcutEditor(_0xe32b90['dataset']['id']);else{if(_0x2db3c7){const _0x28c04c=_0x2db3c7[_0x215ae0(0x5fd)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x57752b=_0x215ae0,_0x373ecd=parallelTestShortcuts[_0x57752b(0x686)](_0x3543e4=>_0x3543e4['id']!==_0x28c04c),_0x48cbf9=doc(db,_0x57752b(0x2bd),_0x57752b(0xb37));await setDoc(_0x48cbf9,{'shortcuts':_0x373ecd},{'merge':!![]});});}else _0x57378d&&handleParallelTestShortcutClick(_0x57378d[_0x215ae0(0x5fd)]['id']);}}),document[_0x3f343b(0xcac)](_0x3f343b(0x167))[_0x3f343b(0x36e)]('click',()=>openParallelTestShortcutEditor(null)),document[_0x3f343b(0xcac)](_0x3f343b(0x7b5))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{const _0x44f35f=_0x3f343b;document[_0x44f35f(0xcac)](_0x44f35f(0x181))[_0x44f35f(0x534)][_0x44f35f(0x174)](_0x44f35f(0xb2f));}),document[_0x3f343b(0xcac)](_0x3f343b(0x32f))['addEventListener'](_0x3f343b(0x486),saveParallelTestShortcutChanges),document[_0x3f343b(0xcac)](_0x3f343b(0x6a4))[_0x3f343b(0x36e)](_0x3f343b(0x486),_0x44e5fd=>{const _0x3e3341=_0x3f343b;_0x44e5fd[_0x3e3341(0xa9f)][_0x3e3341(0xa54)](_0x3e3341(0xbe2))&&document['getElementById'](_0x3e3341(0x9a9))[_0x3e3341(0x534)][_0x3e3341(0x392)](_0x3e3341(0xb2f));}),document[_0x3f343b(0xcac)](_0x3f343b(0x635))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{const _0x3cbeaa=_0x3f343b;document[_0x3cbeaa(0xcac)](_0x3cbeaa(0x9a9))[_0x3cbeaa(0x534)][_0x3cbeaa(0x174)](_0x3cbeaa(0xb2f));}),document[_0x3f343b(0xcac)](_0x3f343b(0xbf3))[_0x3f343b(0x36e)](_0x3f343b(0x486),_0x1bccb0=>{const _0x2f1f8b=_0x3f343b,_0xc57fe7=document[_0x2f1f8b(0xcac)](_0x2f1f8b(0x9a9)),_0x4f0fe5=_0x1bccb0[_0x2f1f8b(0xa9f)]['closest']('.use-hidden-parallel-shortcut-btn'),_0x522392=_0x1bccb0[_0x2f1f8b(0xa9f)][_0x2f1f8b(0xa54)](_0x2f1f8b(0x230)),_0x1fbff9=_0x1bccb0['target']['closest'](_0x2f1f8b(0x7f2));if(_0x4f0fe5)_0xc57fe7[_0x2f1f8b(0x534)][_0x2f1f8b(0x174)](_0x2f1f8b(0xb2f)),handleParallelTestShortcutClick(_0x4f0fe5['dataset']['id']);else{if(_0x522392)_0xc57fe7[_0x2f1f8b(0x534)][_0x2f1f8b(0x174)](_0x2f1f8b(0xb2f)),openParallelTestShortcutEditor(_0x522392[_0x2f1f8b(0x5fd)]['id']);else{if(_0x1fbff9){const _0x2ae095=_0x1fbff9['dataset']['id'];showConfirmation(_0x2f1f8b(0x24c),async()=>{const _0x4a5aef=_0x2f1f8b,_0x1b9b25=parallelTestShortcuts['filter'](_0x1a75bd=>_0x1a75bd['id']!==_0x2ae095),_0x32e8d5=doc(db,_0x4a5aef(0x2bd),'parallelTestShortcutsConfig');await setDoc(_0x32e8d5,{'shortcuts':_0x1b9b25},{'merge':!![]});});}}}}),document[_0x3f343b(0xcac)](_0x3f343b(0x5dc))[_0x3f343b(0x36e)](_0x3f343b(0x486),_0x2b1d0f=>{const _0x54be55=_0x3f343b,_0xb75edf=_0x2b1d0f[_0x54be55(0xa9f)][_0x54be55(0xa54)]('.file-shortcut-btn'),_0x213044=_0x2b1d0f['target'][_0x54be55(0xa54)](_0x54be55(0xc4e)),_0x1f47c3=_0x2b1d0f[_0x54be55(0xa9f)][_0x54be55(0xa54)](_0x54be55(0x4e7));if(_0x213044)openFileShortcutEditor(_0x213044[_0x54be55(0x5fd)]['id']);else{if(_0x1f47c3){const _0x5ead75=_0x1f47c3[_0x54be55(0x5fd)]['id'];showConfirmation(_0x54be55(0x24c),async()=>{const _0x104c97=_0x54be55,_0x56472d=fileShortcuts[_0x104c97(0x686)](_0x18ac96=>_0x18ac96['id']!==_0x5ead75),_0x462d44=doc(db,_0x104c97(0x2bd),_0x104c97(0xb84));await setDoc(_0x462d44,{'shortcuts':_0x56472d},{'merge':!![]});});}else _0xb75edf&&handleFileShortcutClick(_0xb75edf[_0x54be55(0x5fd)]['id']);}}),document[_0x3f343b(0xcac)](_0x3f343b(0x4ff))['addEventListener'](_0x3f343b(0x486),()=>openFileShortcutEditor(null)),document[_0x3f343b(0xcac)]('cancel-file-shortcut-edit-btn')['addEventListener']('click',()=>{const _0x53c9c6=_0x3f343b;document[_0x53c9c6(0xcac)](_0x53c9c6(0x67b))[_0x53c9c6(0x534)][_0x53c9c6(0x174)](_0x53c9c6(0xb2f));}),document[_0x3f343b(0xcac)]('save-file-shortcut-btn')['addEventListener'](_0x3f343b(0x486),saveFileShortcutChanges),document[_0x3f343b(0xcac)](_0x3f343b(0x572))[_0x3f343b(0x36e)]('click',_0x6a4667=>{const _0x443299=_0x3f343b;_0x6a4667['target'][_0x443299(0xa54)](_0x443299(0x774))&&document[_0x443299(0xcac)](_0x443299(0xbad))[_0x443299(0x534)][_0x443299(0x392)](_0x443299(0xb2f));}),document['getElementById']('close-additional-file-shortcuts-btn')[_0x3f343b(0x36e)]('click',()=>{const _0x3780a1=_0x3f343b;document[_0x3780a1(0xcac)]('additional-file-shortcuts-modal')[_0x3780a1(0x534)][_0x3780a1(0x174)](_0x3780a1(0xb2f));}),document['getElementById']('additional-file-shortcuts-list')[_0x3f343b(0x36e)](_0x3f343b(0x486),_0x285355=>{const _0x2ef9fb=_0x3f343b,_0x46a2ca=document['getElementById'](_0x2ef9fb(0xbad)),_0x4e10e7=_0x285355['target'][_0x2ef9fb(0xa54)](_0x2ef9fb(0xa7b)),_0x2b065f=_0x285355[_0x2ef9fb(0xa9f)]['closest'](_0x2ef9fb(0x558)),_0x464f6d=_0x285355[_0x2ef9fb(0xa9f)][_0x2ef9fb(0xa54)](_0x2ef9fb(0x984));if(_0x4e10e7)_0x46a2ca['classList'][_0x2ef9fb(0x174)]('hidden'),handleFileShortcutClick(_0x4e10e7[_0x2ef9fb(0x5fd)]['id']);else{if(_0x2b065f)_0x46a2ca['classList']['add']('hidden'),openFileShortcutEditor(_0x2b065f[_0x2ef9fb(0x5fd)]['id']);else{if(_0x464f6d){const _0x53f53a=_0x464f6d[_0x2ef9fb(0x5fd)]['id'];showConfirmation(_0x2ef9fb(0x24c),async()=>{const _0x2065c5=_0x2ef9fb,_0x5edfcd=fileShortcuts[_0x2065c5(0x686)](_0x6c1a9e=>_0x6c1a9e['id']!==_0x53f53a),_0x528e07=doc(db,_0x2065c5(0x2bd),_0x2065c5(0xb84));await setDoc(_0x528e07,{'shortcuts':_0x5edfcd},{'merge':!![]});});}}}}),document[_0x3f343b(0xcac)]('blueprint-input-area')[_0x3f343b(0x36e)](_0x3f343b(0x486),_0x558928=>{const _0x2e7165=_0x3f343b;_0x558928[_0x2e7165(0xa9f)][_0x2e7165(0xa54)](_0x2e7165(0x949))&&(activeShortcutTabId=_0x2e7165(0x2c7),renderAdditionalShortcutsModal(),document[_0x2e7165(0xcac)](_0x2e7165(0x153))[_0x2e7165(0x534)][_0x2e7165(0x392)]('hidden'));}),document[_0x3f343b(0xcac)]('close-additional-shortcuts-btn')[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{const _0x139598=_0x3f343b;document['getElementById'](_0x139598(0x153))[_0x139598(0x534)][_0x139598(0x174)](_0x139598(0xb2f));}),document['getElementById'](_0x3f343b(0x8d9))['addEventListener']('click',_0x4d4f5b=>{const _0x1b1dde=_0x3f343b,_0x3ce94d=_0x4d4f5b['target'][_0x1b1dde(0xa54)](_0x1b1dde(0x38e)),_0x460b85=_0x4d4f5b['target']['closest'](_0x1b1dde(0xac6)),_0x5070e0=_0x4d4f5b[_0x1b1dde(0xa9f)][_0x1b1dde(0xa54)]('.delete-hidden-shortcut-btn'),_0xcfe4a1=document[_0x1b1dde(0xcac)]('additional-shortcuts-modal');if(_0x3ce94d)_0xcfe4a1[_0x1b1dde(0x534)][_0x1b1dde(0x174)](_0x1b1dde(0xb2f)),handleShortcutClick(_0x3ce94d[_0x1b1dde(0x5fd)]['id']);else{if(_0x460b85)_0xcfe4a1[_0x1b1dde(0x534)][_0x1b1dde(0x174)](_0x1b1dde(0xb2f)),openShortcutEditor(_0x460b85[_0x1b1dde(0x5fd)]['id']);else{if(_0x5070e0){const _0x5056ef=_0x5070e0['dataset']['id'],_0x293acc=blueprintShortcuts[_0x1b1dde(0xb3a)](_0x4f50d6=>_0x4f50d6['id']===_0x5056ef)?.[_0x1b1dde(0x8c8)];showConfirmation(_0x1b1dde(0x94c)+_0x293acc+'\x22?',async()=>{const _0x2b986d=_0x1b1dde,_0x585039=blueprintShortcuts[_0x2b986d(0x686)](_0x1eba2a=>_0x1eba2a['id']!==_0x5056ef);try{const _0x3ee70c=doc(db,_0x2b986d(0x2bd),_0x2b986d(0x530));await setDoc(_0x3ee70c,{'blueprintShortcuts':_0x585039},{'merge':!![]});}catch(_0x17d8b2){console[_0x2b986d(0x723)](_0x2b986d(0xbc6),_0x17d8b2);}});}}}}),document['getElementById'](_0x3f343b(0xb94))['addEventListener'](_0x3f343b(0x486),_0x7489f6=>{const _0x331e81=_0x3f343b,_0x5b13b0=_0x7489f6[_0x331e81(0xa9f)][_0x331e81(0xa54)](_0x331e81(0x672)),_0x583a77=_0x7489f6[_0x331e81(0xa9f)][_0x331e81(0xa54)](_0x331e81(0x77e)),_0x5512ca=_0x7489f6[_0x331e81(0xa9f)][_0x331e81(0xa54)](_0x331e81(0xa01));if(_0x583a77)openShortcutEditor(_0x583a77[_0x331e81(0x5fd)]['id']);else{if(_0x5512ca){const _0x3c32b6=_0x5512ca['dataset']['id'],_0x3026d4=blueprintShortcuts[_0x331e81(0xb3a)](_0x57e8d2=>_0x57e8d2['id']===_0x3c32b6)?.['name'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x3026d4+'\x22?',async()=>{const _0x269471=_0x331e81,_0x554c24=blueprintShortcuts[_0x269471(0x686)](_0x53f2ee=>_0x53f2ee['id']!==_0x3c32b6);try{const _0x9afcb=doc(db,_0x269471(0x2bd),_0x269471(0x530));await setDoc(_0x9afcb,{'blueprintShortcuts':_0x554c24},{'merge':!![]});}catch(_0x2fc447){console['error']('Error\x20deleting\x20shortcut:',_0x2fc447);}});}else _0x5b13b0&&handleShortcutClick(_0x5b13b0[_0x331e81(0x5fd)]['id']);}}),document['getElementById'](_0x3f343b(0x288))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>openShortcutEditor(null)),document[_0x3f343b(0xcac)](_0x3f343b(0x511))['addEventListener'](_0x3f343b(0x486),()=>{const _0x41d0b9=_0x3f343b;document[_0x41d0b9(0xcac)]('shortcut-editor-modal')[_0x41d0b9(0x534)]['add'](_0x41d0b9(0xb2f));}),document[_0x3f343b(0xcac)]('save-shortcut-btn')['addEventListener'](_0x3f343b(0x486),saveShortcutChanges),document[_0x3f343b(0xcac)](_0x3f343b(0xbe5))[_0x3f343b(0x36e)]('click',async()=>{const _0xcbc85=_0x3f343b,_0x2659d6=document['getElementById'](_0xcbc85(0xba1)),_0x1d3943=document[_0xcbc85(0xcac)]('reference-pdf-upload');_0x2659d6['files'][_0xcbc85(0x8b4)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x2659d6['files'][0x0],_0x1d3943[_0xcbc85(0x5cb)][0x0]||null):showMessage(_0xcbc85(0x2af));}),document[_0x3f343b(0xcac)]('topic-quiz-bank-modal')[_0x3f343b(0x36e)](_0x3f343b(0x486),async _0x2e2e37=>{const _0x33953d=_0x3f343b,_0x5709e9=document[_0x33953d(0xcac)]('topic-quiz-bank-modal'),_0x55d6b1=_0x2e2e37['target'][_0x33953d(0xa54)](_0x33953d(0x400)),_0x93838b=_0x2e2e37[_0x33953d(0xa9f)][_0x33953d(0xa54)](_0x33953d(0x78a)),_0x156af3=_0x2e2e37[_0x33953d(0xa9f)][_0x33953d(0xa54)]('.bp-present-btn'),_0x425d22=_0x2e2e37[_0x33953d(0xa9f)]['closest'](_0x33953d(0x218)),_0xca2750=_0x2e2e37[_0x33953d(0xa9f)][_0x33953d(0xa54)](_0x33953d(0x4ad)),_0x478a62=_0x2e2e37['target'][_0x33953d(0xa54)]('.bp-game-btn');if(_0x55d6b1){cameFromBlueprint=!![];const _0x58cd12=_0x55d6b1[_0x33953d(0x5fd)][_0x33953d(0xae2)];showQuizDetailView(_0x58cd12),_0x5709e9[_0x33953d(0x534)][_0x33953d(0x174)](_0x33953d(0xb2f));}else{if(_0x93838b){const _0x4890b7=_0x93838b[_0x33953d(0x5fd)][_0x33953d(0xb65)],_0xca4824=_0x93838b[_0x33953d(0x5fd)][_0x33953d(0xae2)],_0x51bbf7=allQuizzesGlobal['find'](_0x3509d3=>_0x3509d3['id']===_0xca4824),_0x200953=_0x51bbf7?_0x51bbf7['topic']:_0x33953d(0x3ff);showConfirmation(_0x33953d(0xc34)+_0x200953+_0x33953d(0x23e),async()=>{const _0x2f68f2=_0x33953d;try{const _0x342be6=doc(db,'artifacts/'+appId+_0x2f68f2(0x8c1),currentBlueprintProjectId);await updateDoc(_0x342be6,{[_0x2f68f2(0x382)+_0x4890b7+_0x2f68f2(0x82b)]:arrayRemove(_0xca4824)}),showMessage('นำแบบทดสอบออกจากคลังนี้แล้ว'),openTopicQuizBank(_0x4890b7),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4b48fd){console[_0x2f68f2(0x723)](_0x2f68f2(0xa98),_0x4b48fd),showMessage(_0x2f68f2(0x204));}});}else{if(_0x156af3){cameFromBlueprint=!![];const _0x40d6c8=_0x156af3[_0x33953d(0x5fd)]['quizId'],_0x984bda=allQuizzesGlobal[_0x33953d(0xb3a)](_0x4f2fae=>_0x4f2fae['id']===_0x40d6c8);_0x984bda&&(startPresentation(_0x984bda),_0x5709e9['classList'][_0x33953d(0x174)](_0x33953d(0xb2f)));}else{if(_0x425d22){cameFromBlueprint=!![];const _0x11c13b=_0x425d22[_0x33953d(0x5fd)]['quizId'],_0x39a35f=allQuizzesGlobal[_0x33953d(0xb3a)](_0xf64393=>_0xf64393['id']===_0x11c13b);_0x39a35f&&(currentQuizData=_0x39a35f,startAdminTest(),_0x5709e9[_0x33953d(0x534)][_0x33953d(0x174)](_0x33953d(0xb2f)));}else{if(_0xca2750)cameFromBlueprint=!![],handleStartLiveRace(_0xca2750['dataset'][_0x33953d(0xae2)]),_0x5709e9[_0x33953d(0x534)][_0x33953d(0x174)](_0x33953d(0xb2f));else{if(_0x478a62){cameFromBlueprint=!![];const _0x28a3c7=_0x478a62['dataset']['quizId'],_0x4b3143=_0x478a62['dataset'][_0x33953d(0x573)],_0x56c758=allQuizzesGlobal[_0x33953d(0xb3a)](_0x435500=>_0x435500['id']===_0x28a3c7);_0x56c758&&(showGameStartConfirmationModal(_0x28a3c7,_0x4b3143,_0x56c758['topic']),_0x5709e9[_0x33953d(0x534)][_0x33953d(0x174)](_0x33953d(0xb2f)));}}}}}}}),document['getElementById'](_0x3f343b(0x3cd))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{const _0x4d24e0=_0x3f343b;document[_0x4d24e0(0xcac)](_0x4d24e0(0x7f0))[_0x4d24e0(0x534)][_0x4d24e0(0x392)](_0x4d24e0(0xb2f)),document[_0x4d24e0(0xcac)]('manual-bp-project-name')[_0x4d24e0(0x1a0)]='',document[_0x4d24e0(0xcac)](_0x4d24e0(0x5e1))['value']='',document[_0x4d24e0(0xcac)](_0x4d24e0(0x730))[_0x4d24e0(0x1a0)]='';}),document[_0x3f343b(0xcac)](_0x3f343b(0x79e))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{const _0x11f87a=_0x3f343b;document[_0x11f87a(0xcac)](_0x11f87a(0x7f0))['classList'][_0x11f87a(0x174)](_0x11f87a(0xb2f));}),document[_0x3f343b(0xcac)](_0x3f343b(0x1ab))[_0x3f343b(0x36e)]('click',handleManualBlueprintSave),document[_0x3f343b(0xcac)](_0x3f343b(0x2a8))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>document['getElementById'](_0x3f343b(0x2e4))[_0x3f343b(0x534)]['add'](_0x3f343b(0xb2f))),document[_0x3f343b(0xcac)](_0x3f343b(0x203))['addEventListener'](_0x3f343b(0x486),handleSaveBlueprintPageSettings),document[_0x3f343b(0xcac)](_0x3f343b(0x4d4))[_0x3f343b(0x36e)](_0x3f343b(0x486),openBlueprintQuizSettings),document[_0x3f343b(0xcac)](_0x3f343b(0x926))[_0x3f343b(0x36e)](_0x3f343b(0x486),saveBlueprintProject),document[_0x3f343b(0xcac)](_0x3f343b(0x224))[_0x3f343b(0x36e)](_0x3f343b(0x486),showBlueprintProjects),document['getElementById'](_0x3f343b(0x71a))['addEventListener'](_0x3f343b(0x486),()=>{const _0x4996b2=_0x3f343b;document[_0x4996b2(0xcac)]('blueprint-projects-modal')['classList'][_0x4996b2(0x174)](_0x4996b2(0xb2f));}),document[_0x3f343b(0xcac)](_0x3f343b(0x913))['addEventListener'](_0x3f343b(0x486),_0x5b3f01=>{const _0x2a05a6=_0x3f343b,_0x207114=_0x5b3f01[_0x2a05a6(0xa9f)]['closest']('.open-bp-project-btn'),_0xe5448a=_0x5b3f01['target'][_0x2a05a6(0xa54)](_0x2a05a6(0x73e));if(_0x207114)displayBlueprintProjectManager(_0x207114[_0x2a05a6(0x5fd)]['id']);else _0xe5448a&&handleDeepDeleteBlueprintProject(_0xe5448a[_0x2a05a6(0x5fd)]['id']);}),document['getElementById'](_0x3f343b(0xa5a))['addEventListener'](_0x3f343b(0x486),()=>{const _0x517d60=_0x3f343b;currentBlueprintProjectId=null,currentProjectId=null,document[_0x517d60(0xcac)](_0x517d60(0x3aa))[_0x517d60(0x534)][_0x517d60(0x174)](_0x517d60(0xb2f)),showView(_0x517d60(0x148));}),document[_0x3f343b(0xcac)](_0x3f343b(0xa02))['addEventListener'](_0x3f343b(0x486),addTopicToProject),document[_0x3f343b(0xcac)]('bp-topic-list-container')['addEventListener']('click',async _0x6726be=>{const _0x3f1df9=_0x3f343b,_0x5c376f=_0x6726be[_0x3f1df9(0xa9f)][_0x3f1df9(0xa54)](_0x3f1df9(0x619));if(!_0x5c376f)return;const _0x45aee8=_0x5c376f[_0x3f1df9(0x5fd)]['topicId'],_0x2c8516=_0x6726be[_0x3f1df9(0xa9f)][_0x3f1df9(0xa54)](_0x3f1df9(0x156)),_0x50da63=_0x6726be['target']['closest'](_0x3f1df9(0xa9c)),_0x747008=_0x6726be[_0x3f1df9(0xa9f)][_0x3f1df9(0xa54)](_0x3f1df9(0xc4f)),_0x57affa=_0x6726be['target'][_0x3f1df9(0xa54)](_0x3f1df9(0x4a0)),_0xc5a964=_0x6726be[_0x3f1df9(0xa9f)][_0x3f1df9(0xa54)](_0x3f1df9(0x1d9)),_0x409ee2=_0x6726be[_0x3f1df9(0xa9f)][_0x3f1df9(0xa54)]('.bp-generate-lesson-btn'),_0x45930=_0x6726be[_0x3f1df9(0xa9f)][_0x3f1df9(0xa54)]('.bp-edit-topic-btn'),_0x4a2157=_0x6726be[_0x3f1df9(0xa9f)][_0x3f1df9(0xa54)](_0x3f1df9(0x442)),_0x1ef7a0=_0x2d0e5c=>{const _0x306964=_0x3f1df9,_0x1e38e9=_0x2d0e5c['querySelector'](_0x306964(0x7fa))['textContent'][_0x306964(0x5a4)](),_0x1b4840=_0x2d0e5c[_0x306964(0xa54)](_0x306964(0x73c))[_0x306964(0x7a2)],_0x225404=_0x1b4840?_0x1b4840['textContent'][_0x306964(0x5a4)]():'';return _0x225404+':\x20'+_0x1e38e9;};if(_0x57affa)openTopicQuizBank(_0x45aee8);else{if(_0x2c8516){const _0x405981=_0x1ef7a0(_0x5c376f);selectProjectAndGenerateBlueprintQuiz(_0x405981,null,_0x45aee8,!![]);}else{if(_0x50da63){const _0x1f9413=_0x1ef7a0(_0x5c376f);try{const _0x4c82eb=doc(db,_0x3f1df9(0x1c4)+appId+_0x3f1df9(0xc18)+currentBlueprintProjectId+_0x3f1df9(0xac4),_0x45aee8),_0x1aa770=await getDoc(_0x4c82eb);if(_0x1aa770['exists']()){const _0x522995=_0x1aa770[_0x3f1df9(0x2a7)]()[_0x3f1df9(0x951)],_0x57ace5=document[_0x3f1df9(0x5c5)](_0x3f1df9(0xaf5)),_0x1a3869=_0x49bbc2=>{const _0xa7f372=_0x3f1df9;if(!_0x49bbc2)return'';return _0x57ace5[_0xa7f372(0x64a)]=_0x49bbc2,_0x57ace5[_0xa7f372(0x20a)]||_0x57ace5[_0xa7f372(0x49c)]||'';},_0xdd1f0c=(_0x1a3869(_0x522995['point'])+'\x20'+_0x1a3869(_0x522995['memory'])+'\x20'+_0x1a3869(_0x522995[_0x3f1df9(0x5a6)]))[_0x3f1df9(0x5a4)]();selectProjectAndGenerateBlueprintQuiz(_0x1f9413,_0xdd1f0c,_0x45aee8,![]);}else showMessage(_0x3f1df9(0x8ba));}catch(_0x90872b){console[_0x3f1df9(0x723)]('Error\x20preparing\x20content\x20quiz:',_0x90872b),showMessage(_0x3f1df9(0x98a));}}else{if(_0x747008){const _0x558484=_0x1ef7a0(_0x5c376f);selectProjectAndGenerateBlueprintQuiz(_0x558484,null,_0x45aee8,![]);}else{if(_0xc5a964){const _0x166938=doc(db,_0x3f1df9(0x1c4)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x5624cc=await getDoc(_0x166938);if(_0x5624cc[_0x3f1df9(0x72f)]()){const _0x34f432=_0x5624cc['data'](),_0x139853=_0x34f432[_0x3f1df9(0xc3e)][_0x45aee8];if(_0x139853&&_0x139853[_0x3f1df9(0x507)]===_0x3f1df9(0x69b))try{const _0x44ba19=doc(db,_0x3f1df9(0x1c4)+appId+_0x3f1df9(0xc18)+currentBlueprintProjectId+'/lessons',_0x45aee8),_0x3f2e10=await getDoc(_0x44ba19);if(_0x3f2e10[_0x3f1df9(0x72f)]()){const _0x1d78b5=_0x3f2e10[_0x3f1df9(0x2a7)]()[_0x3f1df9(0x951)];document['getElementById']('lesson-view-title')[_0x3f1df9(0x20a)]=_0x3f1df9(0x278)+_0x1ef7a0(_0x5c376f),document[_0x3f1df9(0xcac)](_0x3f1df9(0x270))[_0x3f1df9(0x64a)]=_0x1d78b5[_0x3f1df9(0x374)],document[_0x3f1df9(0xcac)](_0x3f1df9(0x6c1))[_0x3f1df9(0x64a)]=_0x1d78b5[_0x3f1df9(0x4f4)],document[_0x3f1df9(0xcac)](_0x3f1df9(0xc8a))[_0x3f1df9(0x64a)]=_0x1d78b5['summary'];const _0x1bf6db=document['getElementById'](_0x3f1df9(0x803));_0x1d78b5[_0x3f1df9(0x59d)]?(currentApplicationData=_0x1d78b5[_0x3f1df9(0x59d)],_0x1bf6db[_0x3f1df9(0x64a)]=currentApplicationData[_0x3f1df9(0x39a)]((_0x382985,_0x3d785f)=>_0x3f1df9(0x801)+(_0x3d785f+0x1)+'.\x20'+marked[_0x3f1df9(0xc72)](_0x382985[_0x3f1df9(0x4d5)])+'</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x3d785f+'-options\x22>'+_0x382985[_0x3f1df9(0xbd7)][_0x3f1df9(0x39a)]((_0x40d55e,_0x3fbb25)=>'<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x3d785f+',\x20'+_0x3fbb25+_0x3f1df9(0x518)+String[_0x3f1df9(0x163)](0x61+_0x3fbb25)+'.\x20'+marked[_0x3f1df9(0xc72)](_0x40d55e)+_0x3f1df9(0x6a8))[_0x3f1df9(0xad6)]('')+_0x3f1df9(0x6e3))[_0x3f1df9(0xad6)]('')):(currentApplicationData=[],_0x1bf6db[_0x3f1df9(0x64a)]=_0x1d78b5[_0x3f1df9(0x6a6)]||_0x1d78b5[_0x3f1df9(0xbdd)]),document[_0x3f1df9(0xcac)](_0x3f1df9(0x61f))[_0x3f1df9(0x534)]['add'](_0x3f1df9(0xb2f)),document['getElementById'](_0x3f1df9(0x8b6))['classList'][_0x3f1df9(0x392)](_0x3f1df9(0xb2f)),document[_0x3f1df9(0xcac)]('lesson-view-modal')[_0x3f1df9(0x534)][_0x3f1df9(0x392)](_0x3f1df9(0xb2f)),window[_0x3f1df9(0x2b2)]&&MathJax[_0x3f1df9(0xca5)]([document[_0x3f1df9(0xcac)](_0x3f1df9(0x974))]);}else showMessage(_0x3f1df9(0x29c));}catch(_0x4f097f){console[_0x3f1df9(0x723)](_0x3f1df9(0x287),_0x4f097f),showMessage(_0x3f1df9(0x631));}else showMessage(_0x3f1df9(0x564));}}else{if(_0x409ee2){const _0x2776df=_0x1ef7a0(_0x5c376f),_0x4ec7c6=doc(db,_0x3f1df9(0x1c4)+appId+_0x3f1df9(0x8c1),currentBlueprintProjectId),_0x1ac038=await getDoc(_0x4ec7c6);if(_0x1ac038[_0x3f1df9(0x72f)]()){const _0x4155b7=_0x1ac038[_0x3f1df9(0x2a7)]();generateAndSaveLessonForBlueprint(_0x45aee8,_0x2776df,_0x4155b7[_0x3f1df9(0x268)]);}}else{if(_0x45930)editTopicInProject(_0x45aee8);else _0x4a2157&&deleteTopicFromProject(_0x45aee8);}}}}}}}),document[_0x3f343b(0xcac)](_0x3f343b(0xabd))[_0x3f343b(0x36e)](_0x3f343b(0x486),handleFixLessonLatex),document['getElementById'](_0x3f343b(0x35a))[_0x3f343b(0x36e)](_0x3f343b(0x486),handleExportLessonToPDF),document[_0x3f343b(0xcac)](_0x3f343b(0x471))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{const _0x7b1368=_0x3f343b;document[_0x7b1368(0xcac)]('lesson-view-modal')[_0x7b1368(0x534)][_0x7b1368(0x174)](_0x7b1368(0xb2f));});const _0xbffc5b=document[_0x3f343b(0xcac)](_0x3f343b(0x682)),_0x42321c=document[_0x3f343b(0xcac)]('bulk-confidence-mode-container');_0xbffc5b['addEventListener'](_0x3f343b(0x1d3),()=>{const _0x5f0960=_0x3f343b;_0x42321c[_0x5f0960(0x534)]['toggle']('hidden',!_0xbffc5b[_0x5f0960(0x553)]);});const _0x56bb60=document['getElementById'](_0x3f343b(0xbf0)),_0x3cb0c2=document[_0x3f343b(0xcac)]('confidence-mode-container');_0x56bb60[_0x3f343b(0x36e)](_0x3f343b(0x1d3),()=>{const _0xbcc569=_0x3f343b;_0x3cb0c2[_0xbcc569(0x534)][_0xbcc569(0xa90)](_0xbcc569(0xb2f),!_0x56bb60['checked']);});const _0x2068f4=document['getElementById']('modal-confidence-scoring-checkbox'),_0x3bbb0f=document[_0x3f343b(0xcac)](_0x3f343b(0x775));_0x2068f4[_0x3f343b(0x36e)]('change',()=>{const _0x562b9e=_0x3f343b;_0x3bbb0f[_0x562b9e(0x534)]['toggle'](_0x562b9e(0xb2f),!_0x2068f4['checked']);});const _0x496d5b=document['getElementById']('confidence-modal'),_0x47f81e=async _0x86e72=>{const _0x55a204=_0x3f343b,_0x43ad58=document[_0x55a204(0xcac)]('confidence-modal'),_0x45c7f7=_0x43ad58[_0x55a204(0x5fd)][_0x55a204(0xbea)],_0xe4fbad=document[_0x55a204(0xcac)](_0x55a204(0x3f5));_0x43ad58[_0x55a204(0x534)][_0x55a204(0x174)](_0x55a204(0xb2f));if(_0x45c7f7===_0x55a204(0x300)){const _0x72adc1=_0xe4fbad[_0x55a204(0x1a0)],_0x1a5ad2={'answer':_0x72adc1,'wasConfident':_0x86e72};proceedToNextQuestion(_0x1a5ad2);}else{if(_0x45c7f7===_0x55a204(0x5c7)){const _0x1674ea=_0xe4fbad[_0x55a204(0x5fd)][_0x55a204(0xa87)],_0x11c968=JSON[_0x55a204(0x92d)](_0xe4fbad['dataset'][_0x55a204(0x4d5)]),_0x3d3285=JSON[_0x55a204(0x92d)](_0xe4fbad[_0x55a204(0x5fd)][_0x55a204(0xae0)]),_0x1e78ce=_0xe4fbad[_0x55a204(0x5fd)]['playerName'];handleSyncAnswerSubmit(_0x1674ea,_0x11c968,_0x3d3285,_0x1e78ce,_0x86e72);}}_0x43ad58['dataset']['currentMode']='';};document[_0x3f343b(0xcac)](_0x3f343b(0x4fe))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>_0x47f81e(!![])),document[_0x3f343b(0xcac)](_0x3f343b(0x305))['addEventListener'](_0x3f343b(0x486),()=>_0x47f81e(![])),liveGameView['addEventListener'](_0x3f343b(0x486),_0x3d3989=>{const _0x232d20=_0x3f343b,_0x3b6a30=_0x3d3989[_0x232d20(0xa9f)]['closest'](_0x232d20(0x84d));if(_0x3b6a30){const _0x37c2cb=_0x3b6a30[_0x232d20(0x5fd)][_0x232d20(0x36c)];_0x37c2cb&&handleKickPlayerSync(_0x37c2cb);}});const _0x3d2356=document[_0x3f343b(0xcac)]('confirm-game-start-btn'),_0xc167d4=document[_0x3f343b(0xcac)](_0x3f343b(0xcb6));_0xc167d4[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{const _0x2b918c=_0x3f343b;document[_0x2b918c(0xcac)](_0x2b918c(0x467))[_0x2b918c(0x534)][_0x2b918c(0x174)]('hidden');}),_0x3d2356[_0x3f343b(0x36e)]('click',()=>{const _0x36f82d=_0x3f343b,_0x21cb7e=document[_0x36f82d(0xcac)](_0x36f82d(0x6dc))[_0x36f82d(0x1a0)],_0x387269=document[_0x36f82d(0xcac)](_0x36f82d(0x440))[_0x36f82d(0x1a0)],_0xb0814d=document['getElementById']('save-game-results-checkbox')[_0x36f82d(0x553)];document[_0x36f82d(0xcac)]('confirm-game-start-modal')['classList'][_0x36f82d(0x174)](_0x36f82d(0xb2f));switch(_0x387269){case'live-race':handleStartLiveRace(_0x21cb7e,_0xb0814d);break;case _0x36f82d(0x2a5):handleStartTeamQuiz(_0x21cb7e,_0xb0814d);break;case _0x36f82d(0x74d):handleStartGroupMode(_0x21cb7e,_0xb0814d);break;case'sync':handleStartSyncMode(_0x21cb7e,_0xb0814d);break;}}),document['getElementById'](_0x3f343b(0x676))['addEventListener'](_0x3f343b(0x486),handleJoinGroupActivity),liveGameView[_0x3f343b(0x36e)](_0x3f343b(0x486),_0x4999c6=>{const _0x263ed5=_0x3f343b,_0x53c134=_0x4999c6[_0x263ed5(0xa9f)]['closest'](_0x263ed5(0x43c));document['querySelectorAll']('.live-summary-tooltip.visible')[_0x263ed5(0xc74)](_0x4e2f1b=>{const _0x309f32=_0x263ed5;(!_0x53c134||_0x4e2f1b['id']!==_0x53c134[_0x309f32(0x5fd)][_0x309f32(0xcd1)])&&_0x4e2f1b['classList']['remove']('visible');});if(!_0x53c134)return;const _0x2c2c4b=_0x53c134[_0x263ed5(0x5fd)][_0x263ed5(0xcd1)],_0x13dcaa=document[_0x263ed5(0xcac)](_0x2c2c4b);_0x13dcaa&&_0x13dcaa[_0x263ed5(0x534)][_0x263ed5(0xa90)](_0x263ed5(0x7ee));}),liveGameView[_0x3f343b(0x36e)]('click',_0x467005=>{const _0x2039a3=_0x3f343b;if(_0x467005[_0x2039a3(0xa9f)]['classList'][_0x2039a3(0xbfc)]('kick-player-btn')){const _0x4a216e=_0x467005['target'][_0x2039a3(0x5fd)][_0x2039a3(0x36c)];_0x4a216e&&handleKickPlayer(_0x4a216e);}}),document[_0x3f343b(0xcac)](_0x3f343b(0x941))[_0x3f343b(0x36e)](_0x3f343b(0x7a6),()=>document[_0x3f343b(0xcac)](_0x3f343b(0x658))['classList'][_0x3f343b(0x392)]('hidden')),document[_0x3f343b(0xcac)](_0x3f343b(0x658))['addEventListener'](_0x3f343b(0x486),handleSaveProjectName),document[_0x3f343b(0xcac)](_0x3f343b(0x941))[_0x3f343b(0x36e)](_0x3f343b(0x321),_0x1c3cf5=>{const _0x589bf8=_0x3f343b;_0x1c3cf5[_0x589bf8(0xbc3)]===_0x589bf8(0x3eb)&&(_0x1c3cf5[_0x589bf8(0x294)](),_0x1c3cf5[_0x589bf8(0xa9f)]['blur'](),handleSaveProjectName());}),document[_0x3f343b(0xcac)](_0x3f343b(0xcc6))[_0x3f343b(0x36e)]('click',()=>{const _0x16e9f7=_0x3f343b;document[_0x16e9f7(0xcac)](_0x16e9f7(0xbef))[_0x16e9f7(0x534)][_0x16e9f7(0x392)](_0x16e9f7(0xb2f));}),document[_0x3f343b(0xcac)](_0x3f343b(0x22e))[_0x3f343b(0x36e)]('click',()=>{const _0x5cba04=_0x3f343b;document[_0x5cba04(0xcac)]('bulk-quiz-settings-modal')[_0x5cba04(0x534)][_0x5cba04(0x174)]('hidden');}),document[_0x3f343b(0xcac)](_0x3f343b(0x87e))[_0x3f343b(0x36e)](_0x3f343b(0x486),handleBulkUpdateQuizSettings),document[_0x3f343b(0xcac)]('mode-switcher-btn')[_0x3f343b(0x36e)](_0x3f343b(0x486),handleModeSwitch),document[_0x3f343b(0xcac)](_0x3f343b(0x675))[_0x3f343b(0x36e)](_0x3f343b(0x486),handleUpdateOldQuizzes),document[_0x3f343b(0xcac)]('reset-project-order-btn')[_0x3f343b(0x36e)](_0x3f343b(0x486),handleResetProjectOrder),document[_0x3f343b(0xcac)](_0x3f343b(0x880))[_0x3f343b(0x36e)](_0x3f343b(0x486),handleSaveVisibilitySettings),document[_0x3f343b(0xcac)](_0x3f343b(0x7ac))[_0x3f343b(0x36e)](_0x3f343b(0x486),handleAddCustomMathTopic),document[_0x3f343b(0xcac)](_0x3f343b(0x4a3))[_0x3f343b(0x36e)]('click',handleSelectAllTopics),document[_0x3f343b(0xcac)]('deselect-all-topics-btn')[_0x3f343b(0x36e)](_0x3f343b(0x486),handleDeselectAllTopics),document[_0x3f343b(0xcac)](_0x3f343b(0x755))['addEventListener']('click',()=>{const _0x10149c=_0x3f343b;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x10149c(0x148));}}),document['getElementById'](_0x3f343b(0xa4c))[_0x3f343b(0x36e)]('click',()=>{const _0x55b28e=_0x3f343b;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x55b28e(0x7fb));}}),document[_0x3f343b(0xcac)]('back-to-dashboard-from-results-btn')['addEventListener'](_0x3f343b(0x486),()=>{showView('admin-dashboard');}),document['getElementById'](_0x3f343b(0x3b6))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{const _0x15faa2=_0x3f343b;messageModal['classList'][_0x15faa2(0x174)](_0x15faa2(0xb2f)),typeof modalConfirmAction===_0x15faa2(0x169)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x3f343b(0xcac)](_0x3f343b(0x261))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>createProjectModal['classList'][_0x3f343b(0x392)](_0x3f343b(0xb2f))),document[_0x3f343b(0xcac)](_0x3f343b(0x8f5))['addEventListener'](_0x3f343b(0x486),()=>createProjectModal[_0x3f343b(0x534)][_0x3f343b(0x174)](_0x3f343b(0xb2f))),document[_0x3f343b(0xcac)](_0x3f343b(0x410))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>adminPasswordModal['classList']['add'](_0x3f343b(0xb2f))),document[_0x3f343b(0xcac)]('confirm-admin-login-btn')[_0x3f343b(0x36e)](_0x3f343b(0x486),handleAdminLogin),document[_0x3f343b(0xcac)](_0x3f343b(0xb08))[_0x3f343b(0x36e)](_0x3f343b(0x4f5),_0x10fd22=>{const _0x31c753=_0x3f343b;if(_0x10fd22['key']===_0x31c753(0x3eb))handleAdminLogin();}),document['getElementById'](_0x3f343b(0x5b3))['addEventListener'](_0x3f343b(0x486),()=>{const _0x5a4788=_0x3f343b;confirmationModal['classList'][_0x5a4788(0x174)](_0x5a4788(0xb2f)),confirmAction=null;}),document[_0x3f343b(0xcac)](_0x3f343b(0x5fe))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{const _0x5bffda=_0x3f343b;confirmAction&&confirmAction(),confirmationModal['classList'][_0x5bffda(0x174)](_0x5bffda(0xb2f)),confirmAction=null;}),document[_0x3f343b(0xcac)](_0x3f343b(0x967))['addEventListener'](_0x3f343b(0x486),()=>renameQuizModal[_0x3f343b(0x534)][_0x3f343b(0x174)]('hidden')),document[_0x3f343b(0xcac)](_0x3f343b(0xbc7))[_0x3f343b(0x36e)](_0x3f343b(0x486),confirmRenameQuiz),document['getElementById']('cancel-move-quiz-btn')['addEventListener']('click',()=>moveQuizModal[_0x3f343b(0x534)][_0x3f343b(0x174)](_0x3f343b(0xb2f))),document['getElementById'](_0x3f343b(0xa5d))['addEventListener'](_0x3f343b(0x486),confirmMoveQuiz),document[_0x3f343b(0xcac)](_0x3f343b(0x72c))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>quizSettingsModal[_0x3f343b(0x534)][_0x3f343b(0x174)](_0x3f343b(0xb2f))),document[_0x3f343b(0xcac)]('confirm-quiz-settings-btn')[_0x3f343b(0x36e)](_0x3f343b(0x486),confirmQuizSettings),document[_0x3f343b(0xcac)]('cancel-quiz-status-btn')['addEventListener']('click',()=>quizStatusModal[_0x3f343b(0x534)][_0x3f343b(0x174)](_0x3f343b(0xb2f))),document[_0x3f343b(0xcac)](_0x3f343b(0x537))[_0x3f343b(0x36e)](_0x3f343b(0x486),confirmQuizStatus);const _0x12edf3=document[_0x3f343b(0xcac)](_0x3f343b(0x9d6));document[_0x3f343b(0xcac)](_0x3f343b(0x986))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{const _0x4b7a8a=_0x3f343b;_0x12edf3['classList'][_0x4b7a8a(0x174)](_0x4b7a8a(0xb2f));}),document[_0x3f343b(0xcac)](_0x3f343b(0x403))[_0x3f343b(0x36e)]('click',async()=>{const _0x3563a2=_0x3f343b,_0x42ecfb=allQuizzes[_0x3563a2(0xb3a)](_0x554950=>_0x554950['id']===actionTargetId);_0x42ecfb?(currentQuizData=_0x42ecfb,exportQuizAsWorksheetPDF()):showMessage(_0x3563a2(0x809)),_0x12edf3[_0x3563a2(0x534)]['add'](_0x3563a2(0xb2f));}),document[_0x3f343b(0xcac)](_0x3f343b(0xbc9))['addEventListener']('click',async()=>{const _0x2ba1f0=_0x3f343b,_0x582762=allQuizzes[_0x2ba1f0(0xb3a)](_0x4058ca=>_0x4058ca['id']===actionTargetId);_0x582762?(currentQuizData=_0x582762,exportQuizAsTutorPDF()):showMessage(_0x2ba1f0(0x809)),_0x12edf3[_0x2ba1f0(0x534)][_0x2ba1f0(0x174)](_0x2ba1f0(0xb2f));});const _0x226da3=document['getElementById'](_0x3f343b(0x266));_0x226da3[_0x3f343b(0x64a)]=_0x3f343b(0x821),_0x226da3[_0x3f343b(0x36e)](_0x3f343b(0x486),openGlobalActivityModal),document[_0x3f343b(0xcac)](_0x3f343b(0xa00))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{const _0x16e76a=_0x3f343b;document[_0x16e76a(0xcac)]('global-activity-modal')['classList'][_0x16e76a(0x174)](_0x16e76a(0xb2f));}),document[_0x3f343b(0xcac)](_0x3f343b(0xa61))[_0x3f343b(0x36e)]('input',_0x1af5d1=>{const _0x50e0c4=_0x3f343b;renderGlobalActivityList(_0x1af5d1[_0x50e0c4(0xa9f)][_0x50e0c4(0x1a0)]);}),document[_0x3f343b(0xcac)]('global-activity-quiz-list')[_0x3f343b(0x36e)](_0x3f343b(0x486),_0x375ce3=>{const _0x46741d=_0x3f343b,_0x170f91=_0x375ce3['target']['closest'](_0x46741d(0x9b6));if(!_0x170f91)return;const _0x5b5e7e=_0x170f91[_0x46741d(0x5fd)]['id'],_0x27f827=_0x170f91[_0x46741d(0x5fd)][_0x46741d(0x573)],_0x4847ca=allQuizzesGlobal[_0x46741d(0xb3a)](_0x9e5484=>_0x9e5484['id']===_0x5b5e7e);_0x4847ca&&(document[_0x46741d(0xcac)](_0x46741d(0x2b1))[_0x46741d(0x534)][_0x46741d(0x174)](_0x46741d(0xb2f)),_0x27f827==='live-race'?handleStartLiveRace(_0x5b5e7e):showGameStartConfirmationModal(_0x5b5e7e,_0x27f827,_0x4847ca[_0x46741d(0x180)]));}),document[_0x3f343b(0xcac)](_0x3f343b(0x5b6))[_0x3f343b(0x36e)](_0x3f343b(0x78c),renderProjects),document[_0x3f343b(0xcac)](_0x3f343b(0xc22))[_0x3f343b(0x36e)]('change',async()=>{const _0x5c392b=_0x3f343b,_0x11d47d=document[_0x5c392b(0xcac)]('project-sort-select')['value'],_0x576781=doc(db,_0x5c392b(0x2bd),'dashboardConfig');try{await setDoc(_0x576781,{'projectSort':_0x11d47d},{'merge':!![]});}catch(_0x46eabe){console[_0x5c392b(0x723)](_0x5c392b(0x855),_0x46eabe),showMessage(_0x5c392b(0x814));}}),document[_0x3f343b(0xcac)](_0x3f343b(0xab2))[_0x3f343b(0x36e)]('input',renderQuizzes),document['getElementById'](_0x3f343b(0x4ce))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{const _0x1309bb=_0x3f343b;globalDashboardSettings[_0x1309bb(0x680)]=_0x1309bb(0x4b0),saveUserPreference(_0x1309bb(0x680),'grid'),renderProjects();}),document[_0x3f343b(0xcac)](_0x3f343b(0xc9c))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{const _0x5ce558=_0x3f343b;globalDashboardSettings[_0x5ce558(0x680)]=_0x5ce558(0xbf2),saveUserPreference(_0x5ce558(0x680),_0x5ce558(0xbf2)),renderProjects();}),manageTab['addEventListener']('click',()=>switchProjectTab(_0x3f343b(0xa70))),resultsTab[_0x3f343b(0x36e)]('click',()=>switchProjectTab(_0x3f343b(0x1f6))),leaderboardTab[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>switchProjectTab(_0x3f343b(0x861))),document[_0x3f343b(0xcac)](_0x3f343b(0x485))['addEventListener']('click',()=>switchQuizDetailTab(_0x3f343b(0x56c))),document['getElementById'](_0x3f343b(0x7d8))['addEventListener']('click',()=>switchQuizDetailTab(_0x3f343b(0xa46))),document[_0x3f343b(0xcac)]('leaderboard-quiz-tab-btn')[_0x3f343b(0x36e)]('click',()=>switchQuizDetailTab(_0x3f343b(0x74a))),document[_0x3f343b(0xcac)]('behavior-log-tab-btn')['addEventListener']('click',()=>switchQuizDetailTab('behavior-log')),document[_0x3f343b(0xcac)](_0x3f343b(0xa3f))['addEventListener'](_0x3f343b(0x486),handleAnalyzeClass),generateWorksheetBtn[_0x3f343b(0x36e)](_0x3f343b(0x486),generateWorksheet);const _0x4ebf2e=document[_0x3f343b(0xcac)](_0x3f343b(0x9fe)),_0x5566e3=document['getElementById'](_0x3f343b(0x407)),_0x4a1a60=document[_0x3f343b(0xcac)]('blueprint-tab'),_0x34b1c2=document[_0x3f343b(0xcac)](_0x3f343b(0x9c7)),_0x3221e8=document[_0x3f343b(0xcac)](_0x3f343b(0x4f3)),_0x243328=document[_0x3f343b(0xcac)](_0x3f343b(0x6a4));topicTab['addEventListener']('click',()=>{const _0xe1a280=_0x3f343b;topicTab[_0xe1a280(0x534)][_0xe1a280(0x174)](_0xe1a280(0x993)),textTab[_0xe1a280(0x534)]['remove'](_0xe1a280(0x993)),fileTab[_0xe1a280(0x534)][_0xe1a280(0x392)](_0xe1a280(0x993)),worksheetTab[_0xe1a280(0x534)][_0xe1a280(0x392)](_0xe1a280(0x993));if(_0x4ebf2e)_0x4ebf2e[_0xe1a280(0x534)][_0xe1a280(0x392)](_0xe1a280(0x993));if(_0x4a1a60)_0x4a1a60[_0xe1a280(0x534)][_0xe1a280(0x392)]('active');if(_0x3221e8)_0x3221e8[_0xe1a280(0x534)]['remove'](_0xe1a280(0x993));topicInputArea[_0xe1a280(0x534)]['remove']('hidden'),textInputArea[_0xe1a280(0x534)]['add']('hidden'),fileInputArea[_0xe1a280(0x534)]['add'](_0xe1a280(0xb2f)),worksheetInputArea[_0xe1a280(0x534)][_0xe1a280(0x174)](_0xe1a280(0xb2f));if(_0x5566e3)_0x5566e3[_0xe1a280(0x534)][_0xe1a280(0x174)](_0xe1a280(0xb2f));if(_0x34b1c2)_0x34b1c2['classList']['add']('hidden');if(_0x243328)_0x243328[_0xe1a280(0x534)][_0xe1a280(0x174)](_0xe1a280(0xb2f));}),textTab[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{const _0xab6dec=_0x3f343b;textTab['classList']['add'](_0xab6dec(0x993)),topicTab['classList'][_0xab6dec(0x392)]('active'),fileTab['classList'][_0xab6dec(0x392)](_0xab6dec(0x993)),worksheetTab[_0xab6dec(0x534)][_0xab6dec(0x392)]('active');if(_0x4ebf2e)_0x4ebf2e[_0xab6dec(0x534)][_0xab6dec(0x392)](_0xab6dec(0x993));if(_0x4a1a60)_0x4a1a60['classList'][_0xab6dec(0x392)](_0xab6dec(0x993));if(_0x3221e8)_0x3221e8[_0xab6dec(0x534)]['remove'](_0xab6dec(0x993));textInputArea[_0xab6dec(0x534)]['remove'](_0xab6dec(0xb2f)),topicInputArea['classList'][_0xab6dec(0x174)](_0xab6dec(0xb2f)),fileInputArea[_0xab6dec(0x534)]['add']('hidden'),worksheetInputArea[_0xab6dec(0x534)][_0xab6dec(0x174)](_0xab6dec(0xb2f));if(_0x5566e3)_0x5566e3[_0xab6dec(0x534)]['add'](_0xab6dec(0xb2f));if(_0x34b1c2)_0x34b1c2[_0xab6dec(0x534)][_0xab6dec(0x174)](_0xab6dec(0xb2f));if(_0x243328)_0x243328[_0xab6dec(0x534)][_0xab6dec(0x174)](_0xab6dec(0xb2f));}),fileTab['addEventListener'](_0x3f343b(0x486),()=>{const _0x50dd10=_0x3f343b;fileTab[_0x50dd10(0x534)]['add'](_0x50dd10(0x993)),topicTab[_0x50dd10(0x534)][_0x50dd10(0x392)](_0x50dd10(0x993)),textTab[_0x50dd10(0x534)]['remove'](_0x50dd10(0x993)),worksheetTab['classList'][_0x50dd10(0x392)](_0x50dd10(0x993));if(_0x4ebf2e)_0x4ebf2e[_0x50dd10(0x534)][_0x50dd10(0x392)](_0x50dd10(0x993));if(_0x4a1a60)_0x4a1a60[_0x50dd10(0x534)][_0x50dd10(0x392)]('active');if(_0x3221e8)_0x3221e8[_0x50dd10(0x534)][_0x50dd10(0x392)](_0x50dd10(0x993));fileInputArea[_0x50dd10(0x534)]['remove'](_0x50dd10(0xb2f)),topicInputArea[_0x50dd10(0x534)][_0x50dd10(0x174)](_0x50dd10(0xb2f)),textInputArea[_0x50dd10(0x534)][_0x50dd10(0x174)]('hidden'),worksheetInputArea[_0x50dd10(0x534)][_0x50dd10(0x174)]('hidden');if(_0x5566e3)_0x5566e3[_0x50dd10(0x534)][_0x50dd10(0x174)]('hidden');if(_0x34b1c2)_0x34b1c2['classList'][_0x50dd10(0x174)]('hidden');if(_0x243328)_0x243328['classList']['add'](_0x50dd10(0xb2f));}),worksheetTab[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{const _0x37d4a4=_0x3f343b;worksheetTab[_0x37d4a4(0x534)][_0x37d4a4(0x174)](_0x37d4a4(0x993)),topicTab[_0x37d4a4(0x534)][_0x37d4a4(0x392)](_0x37d4a4(0x993)),textTab[_0x37d4a4(0x534)][_0x37d4a4(0x392)](_0x37d4a4(0x993)),fileTab['classList']['remove'](_0x37d4a4(0x993));if(_0x4ebf2e)_0x4ebf2e[_0x37d4a4(0x534)][_0x37d4a4(0x392)](_0x37d4a4(0x993));if(_0x4a1a60)_0x4a1a60['classList'][_0x37d4a4(0x392)](_0x37d4a4(0x993));if(_0x3221e8)_0x3221e8['classList'][_0x37d4a4(0x392)](_0x37d4a4(0x993));worksheetInputArea[_0x37d4a4(0x534)][_0x37d4a4(0x392)]('hidden'),topicInputArea[_0x37d4a4(0x534)]['add'](_0x37d4a4(0xb2f)),textInputArea[_0x37d4a4(0x534)]['add'](_0x37d4a4(0xb2f)),fileInputArea['classList'][_0x37d4a4(0x174)]('hidden');if(_0x5566e3)_0x5566e3[_0x37d4a4(0x534)][_0x37d4a4(0x174)](_0x37d4a4(0xb2f));if(_0x34b1c2)_0x34b1c2[_0x37d4a4(0x534)][_0x37d4a4(0x174)]('hidden');if(_0x243328)_0x243328['classList'][_0x37d4a4(0x174)](_0x37d4a4(0xb2f));});const _0x586981=document['getElementById'](_0x3f343b(0x72e)),_0x45dd40=document['getElementById'](_0x3f343b(0xabe));_0x586981&&_0x586981[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{const _0x401551=_0x3f343b;topicTab[_0x401551(0x534)][_0x401551(0x392)]('active'),textTab[_0x401551(0x534)][_0x401551(0x392)](_0x401551(0x993)),fileTab[_0x401551(0x534)][_0x401551(0x392)]('active'),worksheetTab['classList'][_0x401551(0x392)]('active');if(_0x4ebf2e)_0x4ebf2e[_0x401551(0x534)][_0x401551(0x392)](_0x401551(0x993));if(_0x4a1a60)_0x4a1a60[_0x401551(0x534)][_0x401551(0x392)](_0x401551(0x993));if(_0x3221e8)_0x3221e8[_0x401551(0x534)][_0x401551(0x392)](_0x401551(0x993));_0x586981[_0x401551(0x534)][_0x401551(0x174)](_0x401551(0x993)),topicInputArea['classList'][_0x401551(0x174)](_0x401551(0xb2f)),textInputArea[_0x401551(0x534)][_0x401551(0x174)](_0x401551(0xb2f)),fileInputArea[_0x401551(0x534)]['add'](_0x401551(0xb2f)),worksheetInputArea['classList'][_0x401551(0x174)](_0x401551(0xb2f));if(_0x5566e3)_0x5566e3[_0x401551(0x534)]['add'](_0x401551(0xb2f));if(_0x34b1c2)_0x34b1c2[_0x401551(0x534)][_0x401551(0x174)](_0x401551(0xb2f));if(_0x243328)_0x243328[_0x401551(0x534)][_0x401551(0x174)](_0x401551(0xb2f));_0x45dd40['classList'][_0x401551(0x392)]('hidden'),displayQuestionBank();});_0x4ebf2e&&(_0x4ebf2e[_0x3f343b(0x36e)]('click',()=>{const _0x17f7c3=_0x3f343b;_0x4ebf2e['classList'][_0x17f7c3(0x174)](_0x17f7c3(0x993)),topicTab['classList'][_0x17f7c3(0x392)]('active'),textTab['classList'][_0x17f7c3(0x392)](_0x17f7c3(0x993)),fileTab[_0x17f7c3(0x534)]['remove'](_0x17f7c3(0x993)),worksheetTab[_0x17f7c3(0x534)][_0x17f7c3(0x392)](_0x17f7c3(0x993));if(_0x4a1a60)_0x4a1a60[_0x17f7c3(0x534)]['remove']('active');if(_0x3221e8)_0x3221e8[_0x17f7c3(0x534)][_0x17f7c3(0x392)](_0x17f7c3(0x993));_0x5566e3[_0x17f7c3(0x534)][_0x17f7c3(0x392)](_0x17f7c3(0xb2f)),topicInputArea['classList'][_0x17f7c3(0x174)](_0x17f7c3(0xb2f)),textInputArea['classList'][_0x17f7c3(0x174)]('hidden'),fileInputArea[_0x17f7c3(0x534)][_0x17f7c3(0x174)](_0x17f7c3(0xb2f)),worksheetInputArea[_0x17f7c3(0x534)][_0x17f7c3(0x174)](_0x17f7c3(0xb2f));if(_0x34b1c2)_0x34b1c2[_0x17f7c3(0x534)][_0x17f7c3(0x174)](_0x17f7c3(0xb2f));if(_0x243328)_0x243328['classList'][_0x17f7c3(0x174)](_0x17f7c3(0xb2f));}),document[_0x3f343b(0xcac)](_0x3f343b(0x9e8))[_0x3f343b(0x36e)](_0x3f343b(0x486),handleGenerateFromLink));_0x4a1a60&&_0x4a1a60[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{const _0xd2ead1=_0x3f343b;_0x4a1a60[_0xd2ead1(0x534)][_0xd2ead1(0x174)](_0xd2ead1(0x993)),topicTab[_0xd2ead1(0x534)][_0xd2ead1(0x392)]('active'),textTab[_0xd2ead1(0x534)][_0xd2ead1(0x392)](_0xd2ead1(0x993)),fileTab[_0xd2ead1(0x534)][_0xd2ead1(0x392)](_0xd2ead1(0x993)),worksheetTab[_0xd2ead1(0x534)]['remove'](_0xd2ead1(0x993));if(_0x4ebf2e)_0x4ebf2e[_0xd2ead1(0x534)][_0xd2ead1(0x392)]('active');if(_0x586981)_0x586981['classList'][_0xd2ead1(0x392)](_0xd2ead1(0x993));if(_0x3221e8)_0x3221e8[_0xd2ead1(0x534)][_0xd2ead1(0x392)](_0xd2ead1(0x993));_0x34b1c2['classList'][_0xd2ead1(0x392)]('hidden'),topicInputArea[_0xd2ead1(0x534)][_0xd2ead1(0x174)](_0xd2ead1(0xb2f)),textInputArea[_0xd2ead1(0x534)][_0xd2ead1(0x174)](_0xd2ead1(0xb2f)),fileInputArea['classList'][_0xd2ead1(0x174)](_0xd2ead1(0xb2f)),worksheetInputArea[_0xd2ead1(0x534)]['add'](_0xd2ead1(0xb2f));if(_0x5566e3)_0x5566e3[_0xd2ead1(0x534)][_0xd2ead1(0x174)]('hidden');if(_0x45dd40)_0x45dd40[_0xd2ead1(0x534)]['add'](_0xd2ead1(0xb2f));if(_0x243328)_0x243328['classList'][_0xd2ead1(0x174)](_0xd2ead1(0xb2f));});_0x3221e8&&_0x3221e8[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{const _0x3c3060=_0x3f343b;_0x3221e8[_0x3c3060(0x534)][_0x3c3060(0x174)](_0x3c3060(0x993)),topicTab[_0x3c3060(0x534)][_0x3c3060(0x392)](_0x3c3060(0x993)),textTab[_0x3c3060(0x534)][_0x3c3060(0x392)](_0x3c3060(0x993)),fileTab['classList'][_0x3c3060(0x392)](_0x3c3060(0x993)),worksheetTab[_0x3c3060(0x534)][_0x3c3060(0x392)](_0x3c3060(0x993));if(_0x4ebf2e)_0x4ebf2e[_0x3c3060(0x534)][_0x3c3060(0x392)](_0x3c3060(0x993));if(_0x4a1a60)_0x4a1a60['classList'][_0x3c3060(0x392)](_0x3c3060(0x993));if(_0x586981)_0x586981['classList'][_0x3c3060(0x392)]('active');_0x243328[_0x3c3060(0x534)]['remove'](_0x3c3060(0xb2f)),topicInputArea[_0x3c3060(0x534)][_0x3c3060(0x174)]('hidden'),textInputArea[_0x3c3060(0x534)][_0x3c3060(0x174)](_0x3c3060(0xb2f)),fileInputArea['classList'][_0x3c3060(0x174)](_0x3c3060(0xb2f)),worksheetInputArea['classList'][_0x3c3060(0x174)](_0x3c3060(0xb2f));if(_0x5566e3)_0x5566e3['classList']['add'](_0x3c3060(0xb2f));if(_0x34b1c2)_0x34b1c2[_0x3c3060(0x534)][_0x3c3060(0x174)](_0x3c3060(0xb2f));if(_0x45dd40)_0x45dd40[_0x3c3060(0x534)][_0x3c3060(0x174)]('hidden');});const _0x41daa4=document['getElementById'](_0x3f343b(0xba1)),_0x562562=document['getElementById'](_0x3f343b(0xbe5));if(_0x41daa4){const _0x427ca9=document['getElementById'](_0x3f343b(0xba1)),_0x7578a4=document[_0x3f343b(0xcac)](_0x3f343b(0xbe5)),_0x528325=document[_0x3f343b(0xcac)](_0x3f343b(0x2cc)),_0x12f2f7=document[_0x3f343b(0xcac)]('separate-by-content-checkbox'),_0x4f64c5=document[_0x3f343b(0xcac)](_0x3f343b(0x289)),_0x564e23=document['getElementById'](_0x3f343b(0x92a));_0x427ca9&&_0x427ca9['addEventListener']('change',async _0x4e309b=>{const _0x3efcb3=_0x3f343b;_0x528325['classList'][_0x3efcb3(0x174)](_0x3efcb3(0xb2f)),_0x4f64c5[_0x3efcb3(0x534)][_0x3efcb3(0x174)]('hidden'),_0x12f2f7['checked']=![],_0x7578a4['disabled']=!![];const _0x1be67f=_0x4e309b[_0x3efcb3(0xa9f)]['files'][0x0];if(_0x1be67f){_0x7578a4['disabled']=![];try{const _0x529beb=await extractTextFromPdf(_0x1be67f);await analyzeBlueprintForTopics(_0x529beb);}catch(_0x909f22){showMessage(_0x3efcb3(0xc33)),_0x528325[_0x3efcb3(0x534)][_0x3efcb3(0x174)]('hidden');}}}),_0x12f2f7&&_0x12f2f7['addEventListener'](_0x3f343b(0x1d3),_0xffb0eb=>{const _0x24351f=_0x3f343b,_0x723500=_0xffb0eb[_0x24351f(0xa9f)][_0x24351f(0x553)];_0x4f64c5['classList'][_0x24351f(0xa90)](_0x24351f(0xb2f),!_0x723500),_0x7578a4[_0x24351f(0x585)]=_0x723500;}),_0x564e23&&(_0x564e23&&_0x564e23[_0x3f343b(0x36e)]('click',_0x3cbe95=>{const _0x2a0a29=_0x3f343b,_0x435824=_0x3cbe95[_0x2a0a29(0xa9f)][_0x2a0a29(0xa54)](_0x2a0a29(0xbe3)),_0x5ac965=_0x3cbe95[_0x2a0a29(0xa9f)][_0x2a0a29(0xa54)](_0x2a0a29(0x8f2));if(_0x435824){const _0x54deb8=unescape(_0x435824[_0x2a0a29(0x5fd)][_0x2a0a29(0x180)]);generateQuizForSingleTopic(_0x54deb8);}else{if(_0x5ac965){const _0x522999=unescape(_0x5ac965[_0x2a0a29(0x5fd)][_0x2a0a29(0x180)]);handleGenerateTeachingContent(_0x522999);}}}));}_0x562562&&_0x562562[_0x3f343b(0x36e)](_0x3f343b(0x486),handleGenerateFromBlueprint);const _0x335f55=document['getElementById']('parallel-test-upload-input'),_0x1718dc=document[_0x3f343b(0xcac)](_0x3f343b(0x8a3));_0x335f55&&_0x335f55[_0x3f343b(0x36e)]('change',_0x24d269=>{const _0x189e15=_0x3f343b;_0x1718dc[_0x189e15(0x585)]=_0x24d269[_0x189e15(0xa9f)][_0x189e15(0x5cb)]['length']===0x0;});_0x1718dc&&_0x1718dc['addEventListener']('click',()=>{handleGenerateParallelTest();});loadQuizBtn['addEventListener'](_0x3f343b(0x486),handleLoadQuiz),startQuizBtn[_0x3f343b(0x36e)](_0x3f343b(0x486),async()=>{const _0x1c87d3=_0x3f343b,_0x34d6fa=document[_0x1c87d3(0xcac)](_0x1c87d3(0xb25));currentStudentName=_0x34d6fa['value'];if(!currentStudentName){showMessage(_0x1c87d3(0x977));return;}try{const _0x34606e=currentQuizData['id'],_0x4134ad=doc(db,_0x1c87d3(0x1c4)+appId+'/public/data/quizzes/'+_0x34606e+_0x1c87d3(0x8c6),currentStudentName),_0x5dd143=await getDoc(_0x4134ad);!_0x5dd143['exists']()?await setDoc(_0x4134ad,{'studentName':currentStudentName,'startedAt':new Date()[_0x1c87d3(0xa3e)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x4134ad,{'startedAt':new Date()['toISOString']()});}catch(_0x567481){console[_0x1c87d3(0x723)]('Failed\x20to\x20create/update\x20submission\x20record:',_0x567481),showMessage(_0x1c87d3(0x4ab));return;}studentNameSelectionView[_0x1c87d3(0x534)]['add']('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x3f343b(0xcac)]('join-live-game-btn')[_0x3f343b(0x36e)](_0x3f343b(0x486),showJoinGameView),document[_0x3f343b(0xcac)](_0x3f343b(0x8ef))[_0x3f343b(0x36e)]('click',handleJoinLiveGame),document[_0x3f343b(0xcac)](_0x3f343b(0x4c6))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>showView(_0x3f343b(0xb07)));const _0x2b14ef=()=>{const _0x97cd5a=_0x3f343b,_0x355d39=document[_0x97cd5a(0xcac)](_0x97cd5a(0xcc1))['textContent'][_0x97cd5a(0x7ea)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'results_'+(_0x355d39||_0x97cd5a(0x91b));},_0x48d21f=document[_0x3f343b(0xcac)](_0x3f343b(0x18a));_0x48d21f&&_0x48d21f[_0x3f343b(0x36e)](_0x3f343b(0x78c),_0xea782e=>{const _0x43c92d=_0x3f343b,_0x52239f=_0xea782e[_0x43c92d(0xa9f)][_0x43c92d(0x1a0)][_0x43c92d(0x3e6)]()[_0x43c92d(0x5a4)](),_0x25f67e=document[_0x43c92d(0xcac)](_0x43c92d(0x335)),_0x592395=_0x25f67e[_0x43c92d(0x32a)](_0x43c92d(0x6ec));_0x592395[_0x43c92d(0xc74)](_0x50fd42=>{const _0x1220e3=_0x43c92d;let _0x5ef800=![];const _0x37366f=_0x50fd42['querySelectorAll']('.topic-row');_0x37366f[_0x1220e3(0xc74)](_0xea656=>{const _0x411f78=_0x1220e3,_0x40ff80=_0xea656[_0x411f78(0x909)]('.topic-name-display')[_0x411f78(0x20a)][_0x411f78(0x3e6)]();_0x40ff80['includes'](_0x52239f)?(_0xea656[_0x411f78(0xad3)][_0x411f78(0xc4c)]=_0x411f78(0x50d),_0x5ef800=!![]):_0xea656['style'][_0x411f78(0xc4c)]=_0x411f78(0xb7d);}),_0x5ef800?_0x50fd42[_0x1220e3(0xad3)][_0x1220e3(0xc4c)]='block':_0x50fd42[_0x1220e3(0xad3)][_0x1220e3(0xc4c)]=_0x1220e3(0xb7d);});});document[_0x3f343b(0xcac)](_0x3f343b(0x1a2))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>exportTableAsImage(_0x3f343b(0x62e),_0x2b14ef())),document[_0x3f343b(0xcac)](_0x3f343b(0x3f2))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>exportTableAsPDF(_0x3f343b(0x9ec),_0x2b14ef())),document[_0x3f343b(0xcac)](_0x3f343b(0xb70))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>exportTableAsWord(_0x3f343b(0x62e),_0x2b14ef())),document[_0x3f343b(0xcac)](_0x3f343b(0xa0d))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>exportTableAsExcel(_0x3f343b(0x9ec),_0x2b14ef()));const _0x516562=()=>{const _0x3e38bd=_0x3f343b,_0x35ecbf=document['getElementById'](_0x3e38bd(0xcc1))['textContent'][_0x3e38bd(0x7ea)](/[^a-z0-9]/gi,'_')[_0x3e38bd(0x3e6)]();return _0x3e38bd(0xa6d)+(_0x35ecbf||'quiz');};document[_0x3f343b(0xcac)](_0x3f343b(0x94a))['addEventListener'](_0x3f343b(0x486),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x516562())),document['getElementById']('export-leaderboard-pdf-btn')[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>exportTableAsPDF(_0x3f343b(0x386),_0x516562())),document[_0x3f343b(0xcac)](_0x3f343b(0x4de))['addEventListener']('click',()=>exportTableAsWord(_0x3f343b(0xaa4),_0x516562())),document[_0x3f343b(0xcac)]('export-leaderboard-excel-btn')['addEventListener'](_0x3f343b(0x486),()=>exportTableAsExcel(_0x3f343b(0x386),_0x516562())),projectQuizzesList[_0x3f343b(0x36e)](_0x3f343b(0x486),async _0x44d53e=>{const _0x5ce41e=_0x3f343b,_0x29ae93=_0x44d53e[_0x5ce41e(0xa9f)][_0x5ce41e(0xa54)](_0x5ce41e(0x83c)),_0x348439=_0x44d53e[_0x5ce41e(0xa9f)]['closest']('.generate-post-test-btn'),_0x3cc5e0=_0x44d53e[_0x5ce41e(0xa9f)]['closest'](_0x5ce41e(0x55e)),_0x34b345=_0x44d53e['target'][_0x5ce41e(0xa54)]('.generate-lesson-btn'),_0x20634f=_0x44d53e[_0x5ce41e(0xa9f)][_0x5ce41e(0xa54)](_0x5ce41e(0xb8d)),_0x1456a0=_0x44d53e[_0x5ce41e(0xa9f)][_0x5ce41e(0xa54)](_0x5ce41e(0x2d1)),_0x44780f=_0x44d53e['target'][_0x5ce41e(0xa54)](_0x5ce41e(0xb88)),_0x4a3165=_0x44d53e[_0x5ce41e(0xa9f)][_0x5ce41e(0xa54)](_0x5ce41e(0x62c)),_0x598455=_0x44d53e[_0x5ce41e(0xa9f)][_0x5ce41e(0xa54)]('.duplicate-quiz-btn'),_0x1d50e9=_0x44d53e[_0x5ce41e(0xa9f)][_0x5ce41e(0xa54)](_0x5ce41e(0x7a8)),_0x27133f=_0x44d53e[_0x5ce41e(0xa9f)][_0x5ce41e(0xa54)]('.parallel-quiz-btn'),_0x2047aa=_0x44d53e['target'][_0x5ce41e(0xa54)]('.move-quiz-btn'),_0x16f8f8=_0x44d53e[_0x5ce41e(0xa9f)][_0x5ce41e(0xa54)](_0x5ce41e(0x646)),_0x288c96=_0x44d53e[_0x5ce41e(0xa9f)][_0x5ce41e(0xa54)]('.unpair-quiz-btn'),_0x33acd6=_0x44d53e[_0x5ce41e(0xa9f)]['closest'](_0x5ce41e(0x8cf)),_0x1400a0=_0x44d53e[_0x5ce41e(0xa9f)][_0x5ce41e(0xa54)](_0x5ce41e(0x360)),_0xbbac2f=_0x44d53e[_0x5ce41e(0xa9f)][_0x5ce41e(0xa54)](_0x5ce41e(0xa19)),_0x3d6fde=_0x44d53e[_0x5ce41e(0xa9f)][_0x5ce41e(0xa54)](_0x5ce41e(0x23b)),_0xb2e923=_0x44d53e[_0x5ce41e(0xa9f)]['closest']('.quiz-status-btn'),_0x3a740f=_0x44d53e['target']['closest'](_0x5ce41e(0xb55)),_0x270218=_0x44d53e['target'][_0x5ce41e(0xa54)]('.generate-easy-version-btn'),_0xa7130f=_0x44d53e[_0x5ce41e(0xa9f)][_0x5ce41e(0xa54)](_0x5ce41e(0x981)),_0x236c2f=_0x44d53e[_0x5ce41e(0xa9f)][_0x5ce41e(0xa54)]('.start-live-race-btn');if(_0xa7130f){const _0x55b3c6=_0xa7130f[_0x5ce41e(0x5fd)][_0x5ce41e(0xae2)],_0x51fb2f=_0xa7130f['dataset'][_0x5ce41e(0x573)],_0x13142f=allQuizzes[_0x5ce41e(0xb3a)](_0x43f701=>_0x43f701['id']===_0x55b3c6);_0x13142f&&showGameStartConfirmationModal(_0x55b3c6,_0x51fb2f,_0x13142f[_0x5ce41e(0x180)]);}else{if(_0x236c2f){const _0x4aafd1=_0x236c2f[_0x5ce41e(0x5fd)]['quizId'];handleStartLiveRace(_0x4aafd1);}else{if(_0x3a740f){const _0x18e461=_0x3a740f[_0x5ce41e(0x5fd)]['quizId'],_0x4de4db=document[_0x5ce41e(0xcac)](_0x5ce41e(0x171)+_0x18e461);_0x4de4db&&_0x4de4db[_0x5ce41e(0x534)][_0x5ce41e(0xa90)](_0x5ce41e(0xb2f));}else{if(_0x348439){const _0x2e5aad=_0x348439[_0x5ce41e(0x5fd)][_0x5ce41e(0xae2)],_0x23057c=allQuizzes['find'](_0x273fbe=>_0x273fbe['id']===_0x2e5aad);_0x23057c&&handleGenerateParallelPostTest(_0x23057c);}else{if(_0x3cc5e0)handleCompareResults(_0x3cc5e0[_0x5ce41e(0x5fd)][_0x5ce41e(0xae2)],_0x3cc5e0[_0x5ce41e(0x5fd)][_0x5ce41e(0xbee)]);else{if(_0x34b345){const _0x10a4bb=_0x34b345[_0x5ce41e(0x5fd)]['quizId'],_0x6cf6c3=allQuizzes[_0x5ce41e(0xb3a)](_0x464652=>_0x464652['id']===_0x10a4bb);_0x6cf6c3&&_0x6cf6c3['lessonPlan']?(displayLessonPlan(_0x6cf6c3['lessonPlan'],_0x6cf6c3),showConfirmation(_0x5ce41e(0xb21),()=>handleGenerateLessonPlan(_0x10a4bb)),document['getElementById'](_0x5ce41e(0xb12))[_0x5ce41e(0x909)]('h3')[_0x5ce41e(0x20a)]='แผนการสอน',document[_0x5ce41e(0xcac)](_0x5ce41e(0x5fe))[_0x5ce41e(0x20a)]=_0x5ce41e(0x7ce)):handleGenerateLessonPlan(_0x10a4bb);}else{if(_0x20634f)handleToggleStarQuiz(_0x20634f['dataset'][_0x5ce41e(0xae2)]);else{if(_0x1456a0)copyTextToClipboard(_0x1456a0['dataset'][_0x5ce41e(0xae2)],_0x5ce41e(0x4f1));else{if(_0x44780f)handleOpenQuizEditor(_0x44780f['dataset']['quizId']);else{if(_0x4a3165)handleQuizSettings(_0x4a3165[_0x5ce41e(0x5fd)][_0x5ce41e(0xae2)]);else{if(_0x598455)handleDuplicateQuiz(_0x598455[_0x5ce41e(0x5fd)][_0x5ce41e(0xae2)]);else{if(_0x1d50e9)handleRenameQuiz(_0x1d50e9[_0x5ce41e(0x5fd)]['quizId'],_0x1d50e9[_0x5ce41e(0x5fd)][_0x5ce41e(0x180)]);else{if(_0x27133f){const _0x5661b9=_0x27133f[_0x5ce41e(0x5fd)]['quizId'],_0xc05cb3=allQuizzes[_0x5ce41e(0xb3a)](_0x3f08e0=>_0x3f08e0['id']===_0x5661b9);_0xc05cb3&&handleGenerateParallelFromBank(_0xc05cb3);}else{if(_0x2047aa)handleMoveQuiz(_0x2047aa['dataset'][_0x5ce41e(0xae2)]);else{if(_0x16f8f8)handleManualQuizPairing(_0x16f8f8[_0x5ce41e(0x5fd)][_0x5ce41e(0xae2)]);else{if(_0x288c96)handleUnpairQuiz(_0x288c96[_0x5ce41e(0x5fd)][_0x5ce41e(0xae2)]);else{if(_0x33acd6){const _0x3d066e=_0x33acd6[_0x5ce41e(0x5fd)]['quizId'],_0x1cc4ea=allQuizzes[_0x5ce41e(0xb3a)](_0x5293d3=>_0x5293d3['id']===_0x3d066e);if(_0x1cc4ea)startPresentation(_0x1cc4ea);}else{if(_0x1400a0){const _0x5795b1=_0x1400a0['dataset'][_0x5ce41e(0xae2)],_0x1700af=allQuizzes[_0x5ce41e(0xb3a)](_0x20717d=>_0x20717d['id']===_0x5795b1);_0x1700af&&(currentQuizData=_0x1700af,startAdminTest());}else{if(_0xbbac2f)actionTargetId=_0xbbac2f['dataset']['quizId'],document[_0x5ce41e(0xcac)](_0x5ce41e(0x9d6))[_0x5ce41e(0x534)][_0x5ce41e(0x392)](_0x5ce41e(0xb2f));else{if(_0x3d6fde)showConfirmation(_0x5ce41e(0x9c6)+_0x3d6fde[_0x5ce41e(0x5fd)][_0x5ce41e(0x180)]+_0x5ce41e(0x788),()=>handleDeleteQuiz(_0x3d6fde[_0x5ce41e(0x5fd)][_0x5ce41e(0xae2)]));else{if(_0xb2e923)handleQuizStatus(_0xb2e923[_0x5ce41e(0x5fd)][_0x5ce41e(0xae2)]);else{if(_0x270218)handleGenerateEasyVersionQuiz(_0x270218[_0x5ce41e(0x5fd)][_0x5ce41e(0xae2)]);else _0x29ae93&&showQuizDetailView(_0x29ae93[_0x5ce41e(0x5fd)]['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document[_0x3f343b(0xcac)](_0x3f343b(0xb56))['addEventListener']('click',()=>showView(_0x3f343b(0xb07))),document[_0x3f343b(0xcac)](_0x3f343b(0xbb7))[_0x3f343b(0x36e)](_0x3f343b(0x486),confirmAndStartTeamQuiz),document[_0x3f343b(0xcac)](_0x3f343b(0x386))['querySelector']('thead')[_0x3f343b(0x36e)]('click',_0x1e9455=>{const _0x4118a6=_0x3f343b,_0xbf03a7=_0x1e9455['target'][_0x4118a6(0xa54)](_0x4118a6(0xa47));if(!_0xbf03a7||!_0xbf03a7[_0x4118a6(0x5fd)][_0x4118a6(0xa24)])return;const _0x2cf3a3=_0xbf03a7['dataset'][_0x4118a6(0xa24)];if(quizLeaderboardSortBy===_0x2cf3a3)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x4118a6(0x93f):_0x4118a6(0x195);else{quizLeaderboardSortBy=_0x2cf3a3;const _0x5ea021=[_0x4118a6(0xb26)];quizLeaderboardSortOrder=_0x5ea021[_0x4118a6(0x764)](_0x2cf3a3)?_0x4118a6(0x195):_0x4118a6(0x93f);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x4118a6(0x412));}),document['getElementById'](_0x3f343b(0x353))[_0x3f343b(0x36e)](_0x3f343b(0x486),closePresentation),document['getElementById'](_0x3f343b(0x6d1))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x3f343b(0xcac)](_0x3f343b(0xabc))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{const _0x577320=_0x3f343b;currentQuizData[_0x577320(0x8f1)]&&currentPresentationSlide<currentQuizData[_0x577320(0x8f1)][_0x577320(0x8b4)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x3f343b(0x36e)](_0x3f343b(0x68e),()=>{const _0x489f2d=_0x3f343b;!document['fullscreenElement']&&(presentationModal[_0x489f2d(0xad3)][_0x489f2d(0xc4c)]='none');}),document[_0x3f343b(0xcac)](_0x3f343b(0xa10))[_0x3f343b(0x36e)]('click',handleDeleteAllStudents),studentList['addEventListener'](_0x3f343b(0x486),_0x5a57d3=>{const _0xefa831=_0x3f343b,_0x20f85f=_0x5a57d3[_0xefa831(0xa9f)][_0xefa831(0xa54)](_0xefa831(0x9ff));if(_0x20f85f){const _0x697500=_0x20f85f['dataset'][_0xefa831(0xb26)];handleDeleteStudent(_0x697500);}}),document[_0x3f343b(0xcac)](_0x3f343b(0x6fe))[_0x3f343b(0x36e)](_0x3f343b(0x486),handleGenerateFromFileClick),fileUploadInput[_0x3f343b(0x36e)](_0x3f343b(0x1d3),_0x485c30=>{const _0x3890d5=_0x3f343b,_0x478ff2=_0x485c30[_0x3890d5(0xa9f)][_0x3890d5(0x5cb)][0x0],_0x5a603a=document[_0x3890d5(0xcac)](_0x3890d5(0x6fe)),_0x4bc84f=document[_0x3890d5(0xcac)](_0x3890d5(0x149)),_0x20657a=document[_0x3890d5(0xcac)](_0x3890d5(0xa6e));_0x478ff2?(selectedFile=_0x478ff2,_0x20657a[_0x3890d5(0x553)]?(_0x5a603a[_0x3890d5(0x585)]=!![],analyzeFileForTopics(_0x478ff2)):(_0x5a603a[_0x3890d5(0x585)]=![],_0x4bc84f['classList'][_0x3890d5(0x174)](_0x3890d5(0xb2f)))):(selectedFile=null,_0x5a603a[_0x3890d5(0x585)]=!![],_0x4bc84f[_0x3890d5(0x534)][_0x3890d5(0x174)]('hidden'));}),document['getElementById']('separate-by-content-from-file-checkbox')[_0x3f343b(0x36e)](_0x3f343b(0x1d3),_0x154c15=>{const _0x150aaa=_0x3f343b,_0x52d0dd=_0x154c15[_0x150aaa(0xa9f)][_0x150aaa(0x553)],_0x516131=document['getElementById'](_0x150aaa(0x6fe)),_0x395b7a=document['getElementById'](_0x150aaa(0x149));_0x52d0dd?(_0x516131['disabled']=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x395b7a[_0x150aaa(0x534)][_0x150aaa(0x392)](_0x150aaa(0xb2f)),document[_0x150aaa(0xcac)](_0x150aaa(0xc25))[_0x150aaa(0x64a)]=_0x150aaa(0x554))):(_0x395b7a[_0x150aaa(0x534)]['add'](_0x150aaa(0xb2f)),_0x516131['disabled']=!selectedFile);}),document['getElementById'](_0x3f343b(0x149))[_0x3f343b(0x36e)](_0x3f343b(0x486),_0x44bf6b=>{const _0x2305ee=_0x3f343b,_0x1544f2=_0x44bf6b[_0x2305ee(0xa9f)][_0x2305ee(0xa54)](_0x2305ee(0xcce)),_0x115f2e=_0x44bf6b[_0x2305ee(0xa9f)][_0x2305ee(0xa54)](_0x2305ee(0x8f2));if(_0x1544f2){const _0x4d0e0c=unescape(_0x1544f2[_0x2305ee(0x5fd)][_0x2305ee(0x180)]);generateHybridQuizForTopic(_0x4d0e0c);}else{if(_0x115f2e){const _0x2dcdf2=unescape(_0x115f2e['dataset'][_0x2305ee(0x180)]),_0x4e1df2=document[_0x2305ee(0xcac)](_0x2305ee(0xb6e))[_0x2305ee(0x1a0)];handleGenerateAndShowLesson(_0x2dcdf2,_0x4e1df2);}}}),document[_0x3f343b(0xcac)]('timer-mode-select')[_0x3f343b(0x36e)](_0x3f343b(0x1d3),_0x3f4db0=>{const _0x3655e3=_0x3f343b,_0x59bb44=document[_0x3655e3(0xcac)](_0x3655e3(0x7e1)),_0x578397=document[_0x3655e3(0xcac)](_0x3655e3(0x15a)),_0x1b6183=document[_0x3655e3(0xcac)]('timer-duration-input');_0x3f4db0[_0x3655e3(0xa9f)]['value']==='none'?_0x59bb44['classList'][_0x3655e3(0x174)](_0x3655e3(0xb2f)):(_0x59bb44['classList']['remove'](_0x3655e3(0xb2f)),_0x3f4db0[_0x3655e3(0xa9f)][_0x3655e3(0x1a0)]===_0x3655e3(0x6e8)?(_0x578397[_0x3655e3(0x20a)]='ระยะเวลา\x20(นาที):',_0x1b6183['value']='10'):(_0x578397[_0x3655e3(0x20a)]=_0x3655e3(0x2e5),_0x1b6183['value']='30'));}),document[_0x3f343b(0xcac)]('quiz-type-select')[_0x3f343b(0x36e)](_0x3f343b(0x1d3),_0x54b78e=>{const _0x164664=_0x3f343b,_0x5f4139=document['getElementById']('num-choices-container'),_0x3840d5=_0x54b78e[_0x164664(0xa9f)][_0x164664(0x1a0)],_0x3ea830=document[_0x164664(0x909)](_0x164664(0x30a)),_0x558e77=document[_0x164664(0xcac)](_0x164664(0x623)),_0x654524=document[_0x164664(0xcac)](_0x164664(0xbd5));_0x3840d5===_0x164664(0x57c)?_0x3ea830[_0x164664(0x20a)]='จำนวนคู่:':_0x3ea830[_0x164664(0x20a)]=_0x164664(0x246),_0x3840d5==='multiple_choice'||_0x3840d5===_0x164664(0x7cc)||_0x3840d5===_0x164664(0x76a)?_0x5f4139[_0x164664(0x534)][_0x164664(0x392)]('hidden'):_0x5f4139[_0x164664(0x534)]['add']('hidden'),_0x558e77[_0x164664(0xc36)]=_0x654524[_0x164664(0x1a0)];}),document[_0x3f343b(0xcac)]('num-questions')['addEventListener'](_0x3f343b(0x78c),_0x59dd8f=>{const _0x55f5c2=_0x3f343b;document[_0x55f5c2(0xcac)](_0x55f5c2(0x623))[_0x55f5c2(0xc36)]=_0x59dd8f['target'][_0x55f5c2(0x1a0)];}),document['getElementById'](_0x3f343b(0x281))[_0x3f343b(0x36e)](_0x3f343b(0x1d3),_0x472bb9=>{const _0x9591bb=_0x3f343b,_0x2fa146=document['getElementById'](_0x9591bb(0x6a3)),_0x4c44d3=document['getElementById'](_0x9591bb(0x836)),_0x10e0ce=document[_0x9591bb(0xcac)]('modal-timer-duration-input');_0x472bb9[_0x9591bb(0xa9f)][_0x9591bb(0x1a0)]===_0x9591bb(0xb7d)?_0x2fa146['classList']['add'](_0x9591bb(0xb2f)):(_0x2fa146['classList'][_0x9591bb(0x392)](_0x9591bb(0xb2f)),_0x472bb9[_0x9591bb(0xa9f)][_0x9591bb(0x1a0)]===_0x9591bb(0x6e8)?_0x4c44d3['textContent']='ระยะเวลา\x20(นาที):':_0x4c44d3[_0x9591bb(0x20a)]=_0x9591bb(0x2e5));}),document['getElementById'](_0x3f343b(0x73f))['addEventListener'](_0x3f343b(0x486),()=>{const _0x327fe4=_0x3f343b;document[_0x327fe4(0xcac)]('quiz-editor-modal')[_0x327fe4(0x534)][_0x327fe4(0x174)](_0x327fe4(0xb2f));}),document['getElementById'](_0x3f343b(0x30d))['addEventListener']('click',()=>{const _0x3311a7=_0x3f343b;document[_0x3311a7(0xcac)](_0x3311a7(0x583))[_0x3311a7(0x534)][_0x3311a7(0x174)](_0x3311a7(0xb2f));}),document[_0x3f343b(0xcac)](_0x3f343b(0x39f))[_0x3f343b(0x36e)](_0x3f343b(0x486),handleVerifyAnswersInEditor),document[_0x3f343b(0xcac)]('save-quiz-edits-btn')[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{const _0x50ed94=_0x3f343b;document[_0x50ed94(0xcac)](_0x50ed94(0x583))[_0x50ed94(0x534)][_0x50ed94(0x174)](_0x50ed94(0xb2f)),showConfirmation(_0x50ed94(0xcb4),handleSaveChanges);}),document[_0x3f343b(0xcac)](_0x3f343b(0x79d))[_0x3f343b(0x36e)](_0x3f343b(0x486),handleAutoFixLatex);const _0x46124e=document['getElementById']('quiz-editor-questions-container');_0x46124e&&_0x46124e['addEventListener'](_0x3f343b(0x486),_0x29e2c9=>{const _0x5904d8=_0x3f343b,_0xb335d1=_0x29e2c9[_0x5904d8(0xa9f)][_0x5904d8(0xa54)](_0x5904d8(0xa51)),_0x3b6ec5=_0x29e2c9[_0x5904d8(0xa9f)][_0x5904d8(0xa54)]('.ai-fix-formula-btn');if(_0xb335d1){const _0x3213ad=_0xb335d1[_0x5904d8(0xa54)]('.question-editor-item'),_0x30cf69=parseInt(_0x3213ad[_0x5904d8(0x5fd)][_0x5904d8(0x56a)],0xa);handleRegenerateQuestionInEditor(_0x30cf69);}else{if(_0x3b6ec5){const _0x5c261b=_0x3b6ec5[_0x5904d8(0xa54)](_0x5904d8(0xb9f)),_0x3eb2a4=parseInt(_0x5c261b[_0x5904d8(0x5fd)][_0x5904d8(0x56a)],0xa);handleAiFixFormula(_0x3eb2a4);}}});document['getElementById']('open-quiz-bank-btn')[_0x3f343b(0x36e)](_0x3f343b(0x486),openQuizBankModal),document[_0x3f343b(0xcac)](_0x3f343b(0xc42))[_0x3f343b(0x36e)]('click',()=>{const _0x5d780a=_0x3f343b;document['getElementById'](_0x5d780a(0xad1))[_0x5d780a(0x534)][_0x5d780a(0x174)]('hidden');}),document[_0x3f343b(0xcac)](_0x3f343b(0xcc3))[_0x3f343b(0x36e)]('input',_0x15adb6=>renderQuizBankList(_0x15adb6[_0x3f343b(0xa9f)][_0x3f343b(0x1a0)]));const _0x380567=document['getElementById']('math-topics-checkbox-container');if(_0x380567){let _0x222a90=null;_0x380567[_0x3f343b(0x36e)](_0x3f343b(0x486),_0x1431c6=>{const _0x2fcded=_0x3f343b,_0x714ff8=_0x1431c6[_0x2fcded(0xa9f)],_0x1f64ed=_0x714ff8[_0x2fcded(0xa54)](_0x2fcded(0x29e)),_0x28c87f=_0x714ff8[_0x2fcded(0xa54)](_0x2fcded(0x7e8)),_0x20c7f3=_0x714ff8[_0x2fcded(0xa54)](_0x2fcded(0x38b)),_0x523c48=_0x714ff8['closest'](_0x2fcded(0x846));if(_0x28c87f){_0x1431c6[_0x2fcded(0x294)]();const _0x20e050=_0x28c87f[_0x2fcded(0x5fd)]['id'],_0x3bae86=_0x28c87f[_0x2fcded(0xa54)](_0x2fcded(0xc71))['querySelector'](_0x2fcded(0x6bf))['textContent'];showConfirmation(_0x2fcded(0xc7c)+_0x3bae86+'\x22?',()=>handleDeleteCustomTopic(_0x20e050));}else{if(_0x1f64ed){_0x1431c6[_0x2fcded(0x294)]();_0x222a90&&toggleTopicEditMode(_0x222a90,![]);const _0x46e05f=_0x1f64ed['closest'](_0x2fcded(0xaec));_0x222a90=_0x46e05f,toggleTopicEditMode(_0x46e05f,!![]);}else{if(_0x20c7f3){_0x1431c6[_0x2fcded(0x294)]();const _0x4cdd99=_0x20c7f3[_0x2fcded(0x5fd)]['id'],_0x27b5f6=_0x20c7f3['closest'](_0x2fcded(0xaec)),_0x1f6755=_0x27b5f6[_0x2fcded(0x909)](_0x2fcded(0x31c))[_0x2fcded(0x1a0)];handleUpdateCustomTopic(_0x4cdd99,_0x1f6755),_0x222a90=null;}else{if(_0x523c48){_0x1431c6[_0x2fcded(0x294)]();const _0x35c93a=_0x523c48[_0x2fcded(0xa54)](_0x2fcded(0xaec));toggleTopicEditMode(_0x35c93a,![]),_0x222a90=null;}}}}}),document[_0x3f343b(0xcac)]('close-lesson-plan-modal-btn')['addEventListener'](_0x3f343b(0x486),()=>{const _0x16a7bb=_0x3f343b;document[_0x16a7bb(0xcac)](_0x16a7bb(0xa8e))['classList']['add'](_0x16a7bb(0xb2f));}),document[_0x3f343b(0xcac)](_0x3f343b(0x76e))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{const _0x392ad3=_0x3f343b;document[_0x392ad3(0xcac)](_0x392ad3(0xa8e))['classList']['add']('hidden');}),document[_0x3f343b(0xcac)](_0x3f343b(0xc77))[_0x3f343b(0x36e)]('click',handleExportLessonPDF);}document[_0x3f343b(0xcac)](_0x3f343b(0x306))[_0x3f343b(0x36e)]('click',()=>{const _0x14ce60=_0x3f343b;document[_0x14ce60(0xcac)](_0x14ce60(0x5a0))['classList'][_0x14ce60(0x174)](_0x14ce60(0xb2f));}),document[_0x3f343b(0xcac)](_0x3f343b(0x8ee))[_0x3f343b(0x36e)](_0x3f343b(0x486),()=>{const _0x1e7916=_0x3f343b;document['getElementById'](_0x1e7916(0x5a0))[_0x1e7916(0x534)][_0x1e7916(0x174)]('hidden');}),setupComparisonModalTabs(),document[_0x3f343b(0xa2f)][_0x3f343b(0x36e)]('click',function(_0x5343c8){const _0x3c6299=_0x3f343b;if(_0x5343c8[_0x3c6299(0xa9f)][_0x3c6299(0x534)]['contains'](_0x3c6299(0x65b))){const _0x4e908e=unescape(_0x5343c8[_0x3c6299(0xa9f)]['dataset']['topic']);startSkillPractice(_0x4e908e);}}),document[_0x3f343b(0xcac)](_0x3f343b(0xb33))['addEventListener']('click',_0x16c7ef=>{const _0x46d53b=_0x3f343b,_0x6e4823=_0x16c7ef[_0x46d53b(0xa9f)]['closest'](_0x46d53b(0xace));if(_0x6e4823){const _0x4ce765=_0x6e4823[_0x46d53b(0x5fd)]['studentName'];handleDeleteSubmission(_0x4ce765);}});}async function handleStartGroupMode(_0x335dc2,_0x2a308a=![]){const _0x332786=_0x44691e,_0x29faa8=allQuizzes['find'](_0x5c13d3=>_0x5c13d3['id']===_0x335dc2)||allQuizzesGlobal[_0x332786(0xb3a)](_0x1f212f=>_0x1f212f['id']===_0x335dc2);if(!_0x29faa8){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x29faa8);const _0x489065=Math[_0x332786(0x3fd)](0x3e8+Math['random']()*0x2328)[_0x332786(0xb8f)]();try{const _0x1420dd=await addDoc(collection(db,'artifacts/'+appId+_0x332786(0x2f0)),{'quizId':_0x29faa8['id'],'projectId':_0x29faa8[_0x332786(0x370)],'status':_0x332786(0x9f5),'pin':_0x489065,'mode':_0x332786(0x74d),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2a308a});currentTeamQuizId=_0x1420dd['id'],showView(_0x332786(0xa2d)),renderAdminTeamQuizDashboard(_0x489065,_0x29faa8[_0x332786(0x180)],_0x332786(0x74d)),listenForTeamQuizUpdates();}catch(_0x4303b6){console[_0x332786(0x723)]('Error\x20starting\x20group\x20quiz:',_0x4303b6),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0x2bcf82=_0x44691e;studentInitialView[_0x2bcf82(0x534)]['add'](_0x2bcf82(0xb2f)),document[_0x2bcf82(0xcac)](_0x2bcf82(0x944))[_0x2bcf82(0x534)][_0x2bcf82(0x392)](_0x2bcf82(0xb2f));const _0x4278c5=document[_0x2bcf82(0xcac)](_0x2bcf82(0x5dd)),_0x8a636f=document[_0x2bcf82(0xcac)]('progress-student-select'),_0x493392=document[_0x2bcf82(0xcac)]('student-progress-content');_0x493392[_0x2bcf82(0x64a)]=_0x2bcf82(0x7be),_0x8a636f[_0x2bcf82(0x64a)]=_0x2bcf82(0x2b3),_0x8a636f[_0x2bcf82(0x585)]=!![],_0x4278c5['innerHTML']='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x2bcf82(0x8b4)]===0x0){const _0x596e52=collection(db,'artifacts/'+appId+_0x2bcf82(0x6b6)),_0x49128d=await getDocs(_0x596e52);allProjects=_0x49128d[_0x2bcf82(0xb1e)][_0x2bcf82(0x39a)](_0x2d9359=>({'id':_0x2d9359['id'],..._0x2d9359['data']()}));}const _0x52928a=allProjects[_0x2bcf82(0x686)](_0x36ad99=>_0x36ad99[_0x2bcf82(0x73a)]?.['showInStudentDashboard']!==![]);_0x52928a['sort']((_0x47cd1a,_0x4d172b)=>_0x47cd1a['projectName'][_0x2bcf82(0x656)](_0x4d172b[_0x2bcf82(0xc87)],'th')),_0x4278c5[_0x2bcf82(0x64a)]=_0x2bcf82(0x5f6)+_0x52928a['map'](_0x5b828a=>_0x2bcf82(0x458)+_0x5b828a['id']+'\x22>'+_0x5b828a[_0x2bcf82(0xc87)]+_0x2bcf82(0x61d))['join'](''),_0x4278c5[_0x2bcf82(0xbfd)]=()=>{const _0x46b74e=_0x2bcf82,_0x2aee35=_0x8a636f['value'],_0x489296=_0x4278c5['value'];_0x8a636f[_0x46b74e(0x585)]=!![],_0x8a636f[_0x46b74e(0x64a)]=_0x46b74e(0x2b3),_0x493392[_0x46b74e(0x64a)]=_0x46b74e(0xb3b);if(!_0x489296)return;const _0x525ea7=allProjects[_0x46b74e(0xb3a)](_0x2ee79c=>_0x2ee79c['id']===_0x489296);if(!_0x525ea7||!_0x525ea7[_0x46b74e(0x81b)])return;const _0x4ce2af=()=>{const _0x125442=_0x46b74e;_0x8a636f[_0x125442(0x64a)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x525ea7[_0x125442(0x81b)][_0x125442(0x39a)](_0x5cec87=>'<option\x20value=\x22'+_0x5cec87+'\x22>'+_0x5cec87+'</option>')[_0x125442(0xad6)](''),_0x8a636f[_0x125442(0x585)]=![];const _0x2ac511=Array[_0x125442(0xb61)](_0x8a636f[_0x125442(0xbd7)])[_0x125442(0x39a)](_0x2f924e=>_0x2f924e['value']);if(_0x2aee35&&_0x2ac511[_0x125442(0x764)](_0x2aee35))_0x8a636f[_0x125442(0x1a0)]=_0x2aee35,_0x8a636f[_0x125442(0xa82)](new Event(_0x125442(0x1d3)));else _0x525ea7[_0x125442(0x81b)][_0x125442(0x8b4)]===0x1&&(_0x8a636f[_0x125442(0x1a0)]=_0x525ea7[_0x125442(0x81b)][0x0],_0x8a636f[_0x125442(0xa82)](new Event(_0x125442(0x1d3))));};if(_0x525ea7[_0x46b74e(0x73a)]?.['isPasscodeEnabled']){if(sessionStorage[_0x46b74e(0x336)](_0x46b74e(0x84e)+_0x489296)===_0x46b74e(0x97e)){_0x4ce2af();return;}const _0x397ab2=document[_0x46b74e(0xcac)](_0x46b74e(0x9a0)),_0xd80ddd=document[_0x46b74e(0xcac)](_0x46b74e(0x9ca)),_0x542594=document[_0x46b74e(0xcac)](_0x46b74e(0x8f9)),_0x3ec279=document[_0x46b74e(0xcac)](_0x46b74e(0x6fa)),_0x2d1c6d=document[_0x46b74e(0xcac)](_0x46b74e(0x7ca));document[_0x46b74e(0xcac)]('passcode-prompt-message')[_0x46b74e(0x20a)]=_0x46b74e(0x598)+_0x525ea7['projectName'],_0x3ec279[_0x46b74e(0x1a0)]='',_0x2d1c6d[_0x46b74e(0x534)]['add']('hidden'),_0x397ab2[_0x46b74e(0x534)][_0x46b74e(0x392)](_0x46b74e(0xb2f));const _0x7a31e0=()=>{const _0x15d6a3=_0x46b74e,_0x2b78a8=_0x3ec279[_0x15d6a3(0x1a0)][_0x15d6a3(0x5a4)]();_0x2b78a8===_0x525ea7[_0x15d6a3(0x73a)]['passcode']?(sessionStorage[_0x15d6a3(0x766)](_0x15d6a3(0x84e)+_0x489296,_0x15d6a3(0x97e)),_0x397ab2[_0x15d6a3(0x534)]['add'](_0x15d6a3(0xb2f)),_0x4ce2af(),_0xd80ddd[_0x15d6a3(0x4c9)](_0x15d6a3(0x486),_0x7a31e0)):_0x2d1c6d[_0x15d6a3(0x534)][_0x15d6a3(0x392)](_0x15d6a3(0xb2f));};_0xd80ddd[_0x46b74e(0x800)]=_0x7a31e0,_0x542594['onclick']=()=>{const _0x2ae4cb=_0x46b74e;_0x397ab2['classList'][_0x2ae4cb(0x174)](_0x2ae4cb(0xb2f)),_0x4278c5['value']='',_0xd80ddd['removeEventListener'](_0x2ae4cb(0x486),_0x7a31e0);};}else _0x4ce2af();},_0x8a636f[_0x2bcf82(0xbfd)]=()=>{const _0x4e3381=_0x2bcf82,_0x365e22=_0x4278c5[_0x4e3381(0x1a0)],_0x43cb88=_0x8a636f[_0x4e3381(0x1a0)];_0x365e22&&_0x43cb88&&renderStudentProgressDashboard(_0x365e22,_0x43cb88);};}async function confirmAndJoinSyncGame(){const _0x4dfe00=_0x44691e,_0x410ad4=Array[_0x4dfe00(0xb61)](document[_0x4dfe00(0x32a)]('input[name=\x22team_player\x22]:checked'))['map'](_0x4c382f=>_0x4c382f[_0x4dfe00(0x1a0)]);if(_0x410ad4[_0x4dfe00(0x8b4)]===0x0){showMessage(_0x4dfe00(0x726));return;}localTeamPlayers=_0x410ad4,localPlayerTurnIndex=0x0;const _0x3721a9=doc(db,'artifacts/'+appId+_0x4dfe00(0x6ff),currentLiveGameId);try{const _0x3573ae={};_0x410ad4[_0x4dfe00(0xc74)](_0x3fee81=>{_0x3573ae['players.'+_0x3fee81]={'name':_0x3fee81,'score':0x0,'answered':![],'status':'active'};}),await updateDoc(_0x3721a9,_0x3573ae),document[_0x4dfe00(0xcac)](_0x4dfe00(0x76c))[_0x4dfe00(0x534)][_0x4dfe00(0x174)](_0x4dfe00(0xb2f)),currentStudentName=_0x410ad4[0x0],listenForSyncGameUpdates();const _0x1a4eec={'gameId':currentLiveGameId,'mode':_0x4dfe00(0x5c7),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x4dfe00(0x9d2),JSON['stringify'](_0x1a4eec)),currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x4dfe00(0x36e)](_0x4dfe00(0x68e),handleFullscreenChange),document[_0x4dfe00(0x36e)](_0x4dfe00(0x743),handleVisibilityChange),enterFullscreen(),window[_0x4dfe00(0x36e)](_0x4dfe00(0x273),resetDimTimer),window[_0x4dfe00(0x36e)](_0x4dfe00(0x71b),resetDimTimer),window[_0x4dfe00(0x36e)]('touchstart',resetDimTimer),window[_0x4dfe00(0x36e)]('keydown',resetDimTimer),resetDimTimer());}catch(_0x13970a){console[_0x4dfe00(0x723)](_0x4dfe00(0x2dd),_0x13970a),showMessage(_0x4dfe00(0x4fb));}}async function resumeActiveGameSession(){const _0x55d591=_0x44691e,_0x57c680=sessionStorage[_0x55d591(0x336)](_0x55d591(0x9d2));if(!_0x57c680)return;const _0x4d8a8c=JSON['parse'](_0x57c680),{gameId:_0xcaf041,mode:_0x5a763a,players:_0x11e506,turnIndex:_0x436c0d}=_0x4d8a8c;try{let _0x190080,_0x43d553;_0x5a763a===_0x55d591(0x5c7)?_0x190080=doc(db,_0x55d591(0x1c4)+appId+'/public/data/syncGames',_0xcaf041):_0x190080=doc(db,_0x55d591(0x1c4)+appId+_0x55d591(0x2f0),_0xcaf041);_0x43d553=await getDoc(_0x190080);if(!_0x43d553[_0x55d591(0x72f)]()||_0x43d553['data']()['status']===_0x55d591(0x724)||_0x43d553[_0x55d591(0x2a7)]()[_0x55d591(0x507)]==='podium'){sessionStorage[_0x55d591(0x85d)]('activeGameSession');return;}console['log']('กำลังกลับเข้าสู่เกม\x20'+_0x5a763a+'\x20(ID:\x20'+_0xcaf041+')'),localTeamPlayers=_0x11e506,localPlayerTurnIndex=_0x436c0d;if(_0x5a763a===_0x55d591(0x5c7))currentLiveGameId=_0xcaf041,currentStudentName=_0x11e506[0x0],showView(_0x55d591(0xa2d)),listenForSyncGameUpdates();else{currentTeamQuizId=_0xcaf041;const _0x4c2e08=_0x43d553[_0x55d591(0x2a7)](),_0xfcf8c2=doc(db,_0x55d591(0x1c4)+appId+'/public/data/quizzes',_0x4c2e08[_0x55d591(0xae2)]),_0x4bb24f=await getDoc(_0xfcf8c2);_0x4bb24f[_0x55d591(0x72f)]()&&(currentQuizData=getShuffledQuiz({'id':_0x4bb24f['id'],..._0x4bb24f[_0x55d591(0x2a7)]()}),showView(_0x55d591(0xb07)),studentInitialView[_0x55d591(0x534)]['add'](_0x55d591(0xb2f)),renderTeamQuizQuestion());}}catch(_0x457e86){console[_0x55d591(0x723)]('Failed\x20to\x20resume\x20game\x20session:',_0x457e86),sessionStorage['removeItem'](_0x55d591(0x9d2));}}function activateFileInputAreaWithLoadedFile(){const _0x41bc3c=_0x44691e,_0x5cc518=document[_0x41bc3c(0xcac)](_0x41bc3c(0x6fe)),_0x39c8b1=document['getElementById'](_0x41bc3c(0x149)),_0x31c7ef=document[_0x41bc3c(0xcac)](_0x41bc3c(0xa6e));selectedFile?_0x31c7ef[_0x41bc3c(0x553)]?(_0x5cc518[_0x41bc3c(0x585)]=!![],analyzeFileForTopics(selectedFile)):(_0x5cc518[_0x41bc3c(0x585)]=![],_0x39c8b1[_0x41bc3c(0x534)][_0x41bc3c(0x174)]('hidden')):(_0x5cc518[_0x41bc3c(0x585)]=!![],_0x39c8b1['classList'][_0x41bc3c(0x174)]('hidden'));}async function handleKickPlayerSync(_0x4fc5f9){const _0x1ffa2d=_0x44691e;if(!currentLiveGameId||!_0x4fc5f9)return;const _0x1d71c7=doc(db,'artifacts/'+appId+_0x1ffa2d(0x6ff),currentLiveGameId),_0x36b0ec={};_0x36b0ec[_0x1ffa2d(0xa14)+_0x4fc5f9+_0x1ffa2d(0x3a9)]=_0x1ffa2d(0x6b2);try{await updateDoc(_0x1d71c7,_0x36b0ec);}catch(_0x541033){console[_0x1ffa2d(0x723)](_0x1ffa2d(0x2e0)+_0x4fc5f9+'\x20from\x20sync\x20game:',_0x541033),showMessage(_0x1ffa2d(0x417));}}async function renderStudentProgressDashboard(_0x23d48d,_0x5e7d63){const _0x2e2e1b=_0x44691e,_0x21ec11=document['getElementById'](_0x2e2e1b(0x46a));_0x21ec11['innerHTML']=_0x2e2e1b(0x29f);try{const _0x27f588=collection(db,'artifacts/'+appId+_0x2e2e1b(0x1fa)),_0x2b7c9b=query(_0x27f588,where(_0x2e2e1b(0x370),'==',_0x23d48d)),_0xe2b645=await getDocs(_0x2b7c9b),_0x1a8245=_0xe2b645[_0x2e2e1b(0xb1e)][_0x2e2e1b(0x39a)](_0x3c6699=>({'id':_0x3c6699['id'],..._0x3c6699[_0x2e2e1b(0x2a7)]()})),_0x192ced=_0x1a8245[_0x2e2e1b(0x39a)](_0x4a1720=>getDoc(doc(db,_0x2e2e1b(0x1c4)+appId+_0x2e2e1b(0x7c5)+_0x4a1720['id']+_0x2e2e1b(0x8c6),_0x5e7d63))),_0x248d22=await Promise[_0x2e2e1b(0x2c7)](_0x192ced),_0x8a5dc2=_0x248d22['filter'](_0x2d7192=>_0x2d7192[_0x2e2e1b(0x72f)]())['map'](_0x41a842=>({'quizId':_0x41a842[_0x2e2e1b(0x995)][_0x2e2e1b(0x3b0)]['parent']['id'],..._0x41a842[_0x2e2e1b(0x2a7)]()}));if(_0x8a5dc2[_0x2e2e1b(0x8b4)]===0x0){_0x21ec11[_0x2e2e1b(0x64a)]=_0x2e2e1b(0x2f2);return;}let _0x51f7b7=_0x2e2e1b(0x30c);_0x8a5dc2[_0x2e2e1b(0xc74)](_0x113cff=>{const _0x3ace9d=_0x2e2e1b,_0x57562e=_0x1a8245[_0x3ace9d(0xb3a)](_0x5768a1=>_0x5768a1['id']===_0x113cff['quizId']),_0x3c9009=_0x57562e['settings']?.[_0x3ace9d(0x733)]||'show_results_and_answers',_0xabbd0a=_0x57562e[_0x3ace9d(0x73a)]?.[_0x3ace9d(0x1bd)]??0x0,_0x2bb84c=_0x113cff[_0x3ace9d(0xc6a)]>=_0xabbd0a;let _0x21c65f='',_0x4ceb14=_0x3ace9d(0x596);switch(_0x3c9009){case _0x3ace9d(0x6cc):case _0x3ace9d(0xb31):_0x4ceb14=_0x2bb84c?'bg-green-50':_0x3ace9d(0x3c2),_0x21c65f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x2bb84c?_0x3ace9d(0x379):'text-red-700')+'\x22>'+_0x113cff[_0x3ace9d(0xc6a)]+_0x3ace9d(0x868)+_0x113cff['totalQuestions']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x2bb84c?_0x3ace9d(0x592):_0x3ace9d(0x1cf))+'\x22>'+(_0x2bb84c?'ผ่าน':_0x3ace9d(0x27e))+_0x3ace9d(0x746);break;case _0x3ace9d(0x3da):_0x4ceb14=_0x2bb84c?_0x3ace9d(0x897):'bg-red-50',_0x21c65f=_0x3ace9d(0x5c3)+(_0x2bb84c?_0x3ace9d(0x592):_0x3ace9d(0x1cf))+'\x22>'+(_0x2bb84c?_0x3ace9d(0x6d2):_0x3ace9d(0x27e))+_0x3ace9d(0x746);break;case _0x3ace9d(0x4e8):_0x4ceb14=_0x3ace9d(0x3d9),_0x21c65f=_0x3ace9d(0x45f);break;}_0x51f7b7+=_0x3ace9d(0xa38)+_0x4ceb14+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x57562e[_0x3ace9d(0x180)]+_0x3ace9d(0x5b0)+_0x113cff[_0x3ace9d(0x508)]['length']+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x113cff[_0x3ace9d(0x8a0)])[_0x3ace9d(0xa8d)](_0x3ace9d(0x976))+_0x3ace9d(0x7fe)+_0x21c65f+_0x3ace9d(0x519);}),_0x51f7b7+=_0x2e2e1b(0xbeb),_0x21ec11[_0x2e2e1b(0x64a)]=_0x51f7b7;}catch(_0x3adb51){console[_0x2e2e1b(0x723)](_0x2e2e1b(0x497),_0x3adb51),_0x21ec11['innerHTML']=_0x2e2e1b(0x6b8);}}function renderQuizBankListForMultiSelect(_0x3760b5=''){const _0x834d8=_0x44691e,_0x1ce656=document[_0x834d8(0xcac)]('bank-quiz-list'),_0x192358=_0x3760b5[_0x834d8(0x3e6)]()[_0x834d8(0x5a4)](),_0x461070=allQuizzesGlobal[_0x834d8(0x39a)](_0x26464b=>({..._0x26464b,'projectName':allProjects[_0x834d8(0xb3a)](_0x2f0ea8=>_0x2f0ea8['id']===_0x26464b[_0x834d8(0x370)])?.['projectName']||_0x834d8(0x2f7)}))[_0x834d8(0x686)](_0x46e21f=>(_0x46e21f[_0x834d8(0x180)]||'')[_0x834d8(0x3e6)]()['includes'](_0x192358)||(_0x46e21f[_0x834d8(0xc87)]||'')[_0x834d8(0x3e6)]()[_0x834d8(0x764)](_0x192358)||_0x46e21f['id'][_0x834d8(0xb8f)]()['includes'](_0x192358));_0x1ce656['innerHTML']=_0x461070[_0x834d8(0x8b4)]?_0x461070[_0x834d8(0x39a)](_0x5e763a=>_0x834d8(0xca9)+_0x5e763a['id']+'\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x5e763a[_0x834d8(0x180)]||_0x834d8(0xa9e))+_0x834d8(0x6d7)+_0x5e763a[_0x834d8(0xc87)]+'\x20|\x20ID:\x20'+_0x5e763a['id']+_0x834d8(0x737))['join'](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x1ce656[_0x834d8(0xbfd)]=()=>{const _0x121e8b=_0x834d8,_0x52e609=document[_0x121e8b(0x909)]('.quiz-bank-checkbox:checked');document['getElementById'](_0x121e8b(0x35c))[_0x121e8b(0x585)]=!_0x52e609;};}function setupStudentProgressListeners(){const _0x4dcbd8=_0x44691e;document[_0x4dcbd8(0xcac)](_0x4dcbd8(0x292))[_0x4dcbd8(0x36e)](_0x4dcbd8(0x486),showStudentProgressView),document['getElementById'](_0x4dcbd8(0x59a))[_0x4dcbd8(0x36e)]('click',()=>{const _0x29f8bb=_0x4dcbd8;document['getElementById'](_0x29f8bb(0x944))[_0x29f8bb(0x534)]['add'](_0x29f8bb(0xb2f)),document[_0x29f8bb(0xcac)]('student-initial-view')[_0x29f8bb(0x534)][_0x29f8bb(0x392)](_0x29f8bb(0xb2f));});}async function startSkillPractice(_0x3bdef0){const _0x78a94a=_0x44691e;studentResultArea['classList'][_0x78a94a(0x174)](_0x78a94a(0xb2f)),studentQuizArea['innerHTML']=_0x78a94a(0x6e4),studentQuizArea[_0x78a94a(0x534)]['remove'](_0x78a94a(0xb2f));try{const _0x13582a=await getStandardizedTopic(_0x3bdef0);console[_0x78a94a(0x18c)](_0x78a94a(0x925)+_0x3bdef0+_0x78a94a(0x361)+_0x13582a+'\x22'),studentQuizArea[_0x78a94a(0x909)]('p')[_0x78a94a(0x20a)]=_0x78a94a(0x1e9)+_0x13582a+_0x78a94a(0x5ed);const _0x4607ac=collection(db,_0x78a94a(0x1c4)+appId+_0x78a94a(0x393)),_0x440f58=query(_0x4607ac,where(_0x78a94a(0x180),'==',_0x13582a)),_0x5ad2d7=await getDocs(_0x440f58);if(_0x5ad2d7[_0x78a94a(0xb1e)][_0x78a94a(0x8b4)]>=0x3){console[_0x78a94a(0x18c)](_0x78a94a(0xadc)+_0x5ad2d7['docs'][_0x78a94a(0x8b4)]+_0x78a94a(0x9bc)+_0x13582a+_0x78a94a(0x5d8));let _0x797333=_0x5ad2d7[_0x78a94a(0xb1e)][_0x78a94a(0x39a)](_0x41928e=>_0x41928e[_0x78a94a(0x2a7)]());shuffleArray(_0x797333);const _0x201e54={'topic':_0x13582a,'questions':_0x797333['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x201e54);}else{console[_0x78a94a(0x18c)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x13582a+_0x78a94a(0x3e5));const _0x2b3ef6=await generatePracticeQuestions(_0x13582a);await saveDrillToPracticeBank(_0x2b3ef6,_0x13582a),displaySkillPracticeDrill(_0x2b3ef6);}}catch(_0x5d9eae){console[_0x78a94a(0x723)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x5d9eae),showMessage(_0x78a94a(0xafc)),studentQuizArea[_0x78a94a(0x534)][_0x78a94a(0x174)](_0x78a94a(0xb2f)),studentResultArea[_0x78a94a(0x534)]['remove']('hidden');}}async function saveDrillToPracticeBank(_0x5f093d,_0x1eabe3){const _0x5597d3=_0x44691e,_0x65a98b=collection(db,_0x5597d3(0x1c4)+appId+_0x5597d3(0x393)),_0x52c6b6=writeBatch(db);_0x5f093d['questions'][_0x5597d3(0xc74)](_0x3af773=>{const _0x38baac=_0x5597d3,_0xfc20a4=doc(_0x65a98b);_0x52c6b6[_0x38baac(0xc44)](_0xfc20a4,{'topic':_0x1eabe3,'questionText':_0x3af773[_0x38baac(0x83f)],'options':_0x3af773[_0x38baac(0xbd7)],'correctAnswerIndex':_0x3af773[_0x38baac(0x576)],'explanation':_0x3af773[_0x38baac(0xb63)],'createdAt':serverTimestamp()});});try{await _0x52c6b6[_0x5597d3(0xae9)](),console['log'](_0x5597d3(0x953)+_0x5f093d['questions'][_0x5597d3(0x8b4)]+_0x5597d3(0x7df));}catch(_0x2f797c){console[_0x5597d3(0x723)]('Error\x20saving\x20questions\x20to\x20practice\x20bank:',_0x2f797c);}}async function getStandardizedTopic(_0x1b99c5){const _0x200fb5=_0x44691e,_0x4cf05a=_0x200fb5(0xa43)+_0x1b99c5+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x596f96={'type':_0x200fb5(0xc37),'properties':{'standardTopic':{'type':_0x200fb5(0xb46)}},'required':[_0x200fb5(0xbc1)]};try{const _0x585d21=await callAnalysisApi(_0x4cf05a,_0x596f96);return _0x585d21[_0x200fb5(0xbc1)];}catch(_0xceacb2){return console[_0x200fb5(0x723)](_0x200fb5(0x691),_0xceacb2),_0x1b99c5;}}async function handleGenerateEasyVersionQuiz(_0x1af976){const _0x2fd386=_0x44691e,_0x2da5dd=document[_0x2fd386(0xcac)](_0x2fd386(0xbd1)),_0x47c471=document[_0x2fd386(0xcac)](_0x2fd386(0xbae));_0x47c471[_0x2fd386(0x534)][_0x2fd386(0x174)](_0x2fd386(0xb2f));const _0x581230='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x2da5dd['insertAdjacentHTML']('beforeend',_0x581230);try{const _0x2ea52d=allQuizzes['find'](_0x14f19c=>_0x14f19c['id']===_0x1af976);if(!_0x2ea52d)throw new Error(_0x2fd386(0x7ef));const _0x28900d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON[_0x2fd386(0xae8)](_0x2ea52d[_0x2fd386(0x8f1)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x14c32a={'type':_0x2fd386(0xc37),'properties':{'questionText':{'type':_0x2fd386(0xb46)},'questionType':{'type':_0x2fd386(0xb46)},'options':{'type':_0x2fd386(0x542),'items':{'type':_0x2fd386(0xb46)}},'correctAnswerIndex':{'type':_0x2fd386(0x283)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2fd386(0xb46)}},'required':[_0x2fd386(0x83f),'questionType',_0x2fd386(0xb63)]},_0x200322={'type':'OBJECT','properties':{'questions':{'type':_0x2fd386(0x542),'items':_0x14c32a}},'required':['questions']},_0x5f0d76=await callAnalysisApi(_0x28900d,_0x200322);_0x5f0d76&&_0x5f0d76['questions']&&_0x5f0d76[_0x2fd386(0x8f1)]['forEach'](_0x32e125=>{const _0x72df6e=_0x2fd386;if(_0x32e125['hasOwnProperty']('imageCode')){const _0x90fff7=String(_0x32e125[_0x72df6e(0x65a)])[_0x72df6e(0x5a4)]();(_0x90fff7===''||_0x90fff7[_0x72df6e(0x3e6)]()===_0x72df6e(0x2b5)||!_0x90fff7[_0x72df6e(0x465)](_0x72df6e(0x221)))&&delete _0x32e125[_0x72df6e(0x65a)];}});if(!_0x5f0d76||!_0x5f0d76[_0x2fd386(0x8f1)]||_0x5f0d76[_0x2fd386(0x8f1)]['length']===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0x17fa65=_0x5f0d76['questions'][_0x2fd386(0x39a)]((_0x43ad90,_0x52af37)=>({..._0x43ad90,'id':'q_'+Date[_0x2fd386(0xc85)]()+'_'+_0x52af37})),_0x43150f={'projectId':_0x2ea52d[_0x2fd386(0x370)],'quizType':_0x2ea52d[_0x2fd386(0x196)],'settings':_0x2ea52d[_0x2fd386(0x73a)],'createdBy':_0x2ea52d['createdBy'],'status':_0x2fd386(0x993),'topic':'(ฉบับง่าย)\x20'+_0x2ea52d['topic'],'questions':_0x17fa65,'createdAt':new Date()['toISOString'](),'quizMode':_0x2fd386(0xb7b),'pairedQuizId':null};let _0x36a7cf;while(!![]){_0x36a7cf=Math['floor'](0x3e8+Math[_0x2fd386(0x53f)]()*0x2328)[_0x2fd386(0xb8f)]();const _0x5626b7=await getDoc(doc(db,'artifacts/'+appId+_0x2fd386(0x1fa),_0x36a7cf));if(!_0x5626b7[_0x2fd386(0x72f)]())break;}await setDoc(doc(db,_0x2fd386(0x1c4)+appId+_0x2fd386(0x1fa),_0x36a7cf),_0x43150f),showMessage(_0x2fd386(0x334));}catch(_0x17dca3){console[_0x2fd386(0x723)](_0x2fd386(0xc95),_0x17dca3),showMessage(_0x2fd386(0x40a)+_0x17dca3[_0x2fd386(0xca0)]);}finally{const _0x451085=document[_0x2fd386(0xcac)](_0x2fd386(0xb83));_0x451085&&_0x451085[_0x2fd386(0x392)](),_0x47c471['classList'][_0x2fd386(0x392)]('hidden');}}async function generatePracticeQuestions(_0x53655f){const _0x4c7cf3=_0x44691e,_0x13d388='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x53655f+_0x4c7cf3(0x75b)+simpleMathPrompt+_0x4c7cf3(0x3d0),_0x3b8819={'type':_0x4c7cf3(0xc37),'properties':{'questionText':{'type':_0x4c7cf3(0xb46)},'options':{'type':_0x4c7cf3(0x542),'items':{'type':_0x4c7cf3(0xb46)}},'correctAnswerIndex':{'type':_0x4c7cf3(0x283)},'explanation':{'type':_0x4c7cf3(0xb46)}},'required':[_0x4c7cf3(0x83f),'options',_0x4c7cf3(0x576),'explanation']},_0xa1d542={'type':_0x4c7cf3(0xc37),'properties':{'topic':{'type':_0x4c7cf3(0xb46)},'questions':{'type':'ARRAY','items':_0x3b8819}},'required':[_0x4c7cf3(0x180),_0x4c7cf3(0x8f1)]};return await callAnalysisApi(_0x13d388,_0xa1d542);}function displayLessonPlan(_0x2e41bd,_0x5b1cf8){const _0x4bdec8=_0x44691e,_0x2e0df2=_0x4bdec8(0x37d)+_0x5b1cf8['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x2e41bd[_0x4bdec8(0x648)][_0x4bdec8(0x39a)](_0x2be909=>_0x4bdec8(0xb66)+_0x2be909+_0x4bdec8(0x62a))[_0x4bdec8(0xad6)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x2e41bd['teachingContent']+_0x4bdec8(0xa75)+_0x2e41bd[_0x4bdec8(0xc05)]['map'](_0x2deed5=>_0x4bdec8(0x693)+_0x2deed5['question']+_0x4bdec8(0x5fc)+_0x2deed5[_0x4bdec8(0x8d4)]+_0x4bdec8(0x8b0))[_0x4bdec8(0xad6)]('')+_0x4bdec8(0x82e);document[_0x4bdec8(0xcac)](_0x4bdec8(0x4fd))['textContent']=_0x4bdec8(0x2a3)+_0x5b1cf8[_0x4bdec8(0x180)],document['getElementById'](_0x4bdec8(0xbb6))[_0x4bdec8(0x64a)]=_0x2e0df2,document[_0x4bdec8(0xcac)](_0x4bdec8(0xa8e))[_0x4bdec8(0x534)]['remove']('hidden');if(window['MathJax'])MathJax[_0x4bdec8(0xca5)]();}function displaySkillPracticeDrill(_0x56d4d4){const _0x2285e9=_0x44691e;let _0x4121ba=0x0;const _0xf0e62e=_0x56d4d4[_0x2285e9(0x8f1)],_0x11a6a1=()=>{const _0x49b211=_0x2285e9,_0x1893a5=_0xf0e62e[_0x4121ba],_0x33169a=_0x49b211(0x2d9)+(_0x4121ba+0x1)+_0x49b211(0x868)+_0xf0e62e[_0x49b211(0x8b4)]+_0x49b211(0x290)+_0x1893a5[_0x49b211(0x83f)]+_0x49b211(0x99d)+_0x1893a5[_0x49b211(0xbd7)]['map']((_0x488613,_0x4c3440)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0x4c3440+_0x49b211(0xa72)+_0x4c3440+_0x49b211(0xa55)+_0x4c3440+'\x22>'+_0x488613+_0x49b211(0x57f))[_0x49b211(0xad6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x49b211(0x64a)]=_0x33169a;if(window['MathJax'])MathJax[_0x49b211(0xca5)]([studentQuizArea]);document[_0x49b211(0xcac)](_0x49b211(0xa7d))[_0x49b211(0x36e)]('click',async()=>{const _0x65106f=_0x49b211,_0x48ac93=await getHintForQuestion(_0x1893a5[_0x65106f(0x83f)]);showMessage(_0x48ac93);}),document[_0x49b211(0xcac)](_0x49b211(0xc45))[_0x49b211(0x36e)](_0x49b211(0x486),()=>{const _0xdee6ad=_0x49b211,_0x4b6cc3=document['querySelector'](_0xdee6ad(0xcc7));if(!_0x4b6cc3){showMessage(_0xdee6ad(0x7bd));return;}const _0x409326=document['getElementById']('drill-feedback'),_0x172e17=parseInt(_0x4b6cc3[_0xdee6ad(0x1a0)])===_0x1893a5['correctAnswerIndex'];_0x172e17?(_0x409326['className']=_0xdee6ad(0x432),_0x409326['innerHTML']=_0xdee6ad(0x457)+_0x1893a5[_0xdee6ad(0xb63)]):(_0x409326['className']=_0xdee6ad(0x6ee),_0x409326[_0xdee6ad(0x64a)]=_0xdee6ad(0x337)+_0x1893a5[_0xdee6ad(0xb63)]);_0x409326[_0xdee6ad(0x534)][_0xdee6ad(0x392)](_0xdee6ad(0xb2f));if(window[_0xdee6ad(0x2b2)])MathJax[_0xdee6ad(0xca5)]([_0x409326]);document[_0xdee6ad(0xcac)](_0xdee6ad(0xc45))[_0xdee6ad(0x534)]['add'](_0xdee6ad(0xb2f)),document[_0xdee6ad(0xcac)](_0xdee6ad(0xa7d))['classList'][_0xdee6ad(0x174)](_0xdee6ad(0xb2f)),document[_0xdee6ad(0xcac)](_0xdee6ad(0x8ea))[_0xdee6ad(0x534)][_0xdee6ad(0x392)](_0xdee6ad(0xb2f));}),document[_0x49b211(0xcac)](_0x49b211(0x8ea))[_0x49b211(0x36e)]('click',()=>{const _0x4fb811=_0x49b211;_0x4121ba++,_0x4121ba<_0xf0e62e[_0x4fb811(0x8b4)]?_0x11a6a1():(studentQuizArea[_0x4fb811(0x64a)]=_0x4fb811(0x3fe),document[_0x4fb811(0xcac)](_0x4fb811(0xcb7))[_0x4fb811(0x36e)](_0x4fb811(0x486),()=>{const _0x5784ea=_0x4fb811;studentQuizArea[_0x5784ea(0x534)][_0x5784ea(0x174)](_0x5784ea(0xb2f)),studentResultArea[_0x5784ea(0x534)][_0x5784ea(0x392)](_0x5784ea(0xb2f));}));});};_0x11a6a1();}async function getHintForQuestion(_0x9d245d){const _0x1b641d=_0x44691e,_0x1e8cf2='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x9d245d+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x5c3f9a={'type':_0x1b641d(0xc37),'properties':{'hint':{'type':_0x1b641d(0xb46)}},'required':[_0x1b641d(0x5a7)]};try{const _0x2ddf2c=await callAnalysisApi(_0x1e8cf2,_0x5c3f9a);return _0x2ddf2c[_0x1b641d(0x5a7)];}catch(_0x1ea27f){return console[_0x1b641d(0x723)](_0x1b641d(0x7ec),_0x1ea27f),_0x1b641d(0x496);}}async function extractTextFromPdf(_0x51d42e){const _0x49235f=_0x44691e;pdfjsLib[_0x49235f(0x1b1)][_0x49235f(0x932)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x12e776=await _0x51d42e[_0x49235f(0x259)](),_0x255180=await pdfjsLib['getDocument'](_0x12e776)['promise'],_0x3838b2=_0x255180[_0x49235f(0x645)];let _0x323e92='';for(let _0x47fb73=0x1;_0x47fb73<=_0x3838b2;_0x47fb73++){const _0x25d98f=await _0x255180[_0x49235f(0x7dd)](_0x47fb73),_0x4802cb=await _0x25d98f['getTextContent'](),_0x77b514=_0x4802cb[_0x49235f(0x4bf)]['map'](_0x124157=>_0x124157[_0x49235f(0x229)])['join']('\x20');_0x323e92+=_0x77b514+'\x0a\x0a';}return _0x323e92;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x11fc81){const _0x3ae29f=_0x44691e,_0x4877a6=document[_0x3ae29f(0xcac)](_0x3ae29f(0x2cc)),_0x4d3caf=document[_0x3ae29f(0xcac)](_0x3ae29f(0x92a)),_0x2dca2f=document[_0x3ae29f(0xcac)](_0x3ae29f(0x926));_0x4877a6[_0x3ae29f(0x534)][_0x3ae29f(0x392)](_0x3ae29f(0xb2f)),_0x4d3caf[_0x3ae29f(0x64a)]=_0x3ae29f(0x54e),_0x2dca2f[_0x3ae29f(0x534)]['add'](_0x3ae29f(0xb2f));try{const _0x18eb09='วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22'+_0x11fc81+_0x3ae29f(0xc5f),_0x245bfd={'type':_0x3ae29f(0xc37),'properties':{'gradeLevel':{'type':_0x3ae29f(0xb46)},'curriculum':{'type':_0x3ae29f(0x542),'items':{'type':_0x3ae29f(0xc37),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0x3ae29f(0x542),'items':{'type':_0x3ae29f(0xc37),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':'ARRAY','items':{'type':'STRING'}}},'required':[_0x3ae29f(0x5d9),_0x3ae29f(0x70e)]}}},'required':[_0x3ae29f(0x1f8),'mainTopics']}}},'required':[_0x3ae29f(0x268),_0x3ae29f(0x629)]},_0x3e5f18=await callAnalysisApi(_0x18eb09,_0x245bfd);if(_0x3e5f18&&_0x3e5f18[_0x3ae29f(0x629)])extractedBlueprintData=_0x3e5f18,renderBlueprintTopics(_0x3e5f18),_0x2dca2f[_0x3ae29f(0x534)][_0x3ae29f(0x392)]('hidden');else throw new Error(_0x3ae29f(0x990));}catch(_0x48ecc5){console['error'](_0x3ae29f(0x699),_0x48ecc5),_0x4d3caf[_0x3ae29f(0x64a)]=_0x3ae29f(0xad7);}}function renderBlueprintTopics(_0x4a17e6){const _0x131a0e=_0x44691e,_0x5860e4=document['getElementById']('blueprint-topics-list'),_0xa8e9b9=_0x4a17e6[_0x131a0e(0x268)],_0x693d24='<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20'+_0xa8e9b9+_0x131a0e(0x9df);let _0xbc5dbf='';_0x4a17e6[_0x131a0e(0x629)][_0x131a0e(0xc74)](_0x33f040=>{const _0x5cdabe=_0x131a0e;_0xbc5dbf+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x33f040[_0x5cdabe(0x1f8)]+_0x5cdabe(0x18d),_0x33f040['mainTopics'][_0x5cdabe(0xc74)](_0x4a26fb=>{const _0x480df1=_0x5cdabe;_0xbc5dbf+=_0x480df1(0xc13)+_0x4a26fb[_0x480df1(0x5d9)]+_0x480df1(0x34d),_0x4a26fb[_0x480df1(0x70e)][_0x480df1(0xc74)](_0x341cd4=>{const _0x1dfa7d=_0x480df1;_0xbc5dbf+=_0x1dfa7d(0x368)+_0x341cd4[_0x1dfa7d(0x7ea)](/'/g,'\x5c\x27')+'\x27,\x20\x27'+_0xa8e9b9['replace'](/'/g,'\x5c\x27')+_0x1dfa7d(0xb48)+_0x341cd4+_0x1dfa7d(0xada)+_0x341cd4[_0x1dfa7d(0x7ea)](/'/g,'\x5c\x27')+_0x1dfa7d(0x2ad);}),_0xbc5dbf+=_0x480df1(0x6e3);}),_0xbc5dbf+=_0x5cdabe(0xbeb);}),_0x5860e4[_0x131a0e(0x64a)]=_0x693d24+_0xbc5dbf;}async function handleGenerateTeachingContent(_0x444df7){const _0x4dd28b=_0x44691e,_0x51e759=document['getElementById'](_0x4dd28b(0xa8e)),_0x16ba67=document[_0x4dd28b(0xcac)]('lesson-plan-content');document[_0x4dd28b(0xcac)](_0x4dd28b(0x4fd))[_0x4dd28b(0x20a)]='กำลังสร้างเนื้อหา:\x20'+_0x444df7,_0x16ba67['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x51e759[_0x4dd28b(0x534)][_0x4dd28b(0x392)](_0x4dd28b(0xb2f));try{const _0x2e5a96=_0x4dd28b(0x777)+_0x444df7+_0x4dd28b(0x99a),_0x4490cc={'type':_0x4dd28b(0xc37),'properties':{'keyConcepts':{'type':'ARRAY','items':{'type':_0x4dd28b(0xb46)}},'commonMistakes':{'type':_0x4dd28b(0x542),'items':{'type':_0x4dd28b(0xb46)}},'stepByStepExamples':{'type':'ARRAY','items':{'type':_0x4dd28b(0xc37),'properties':{'question':{'type':_0x4dd28b(0xb46)},'solution':{'type':'STRING'}},'required':['question','solution']}},'teacherTips':{'type':_0x4dd28b(0x542),'items':{'type':_0x4dd28b(0xb46)}}},'required':['keyConcepts',_0x4dd28b(0x503),_0x4dd28b(0x1dd),_0x4dd28b(0x5bd)]},_0x1fae71=await callAnalysisApi(_0x2e5a96,_0x4490cc);displayTeachingContent(_0x1fae71,_0x444df7);}catch(_0x54160d){console[_0x4dd28b(0x723)](_0x4dd28b(0x8bc),_0x54160d),_0x16ba67[_0x4dd28b(0x64a)]=_0x4dd28b(0x197)+_0x54160d[_0x4dd28b(0xca0)]+'</p>';}}function displayTeachingContent(_0x360032,_0x4b9f66){const _0xa51365=_0x44691e,_0x53fd28=document[_0xa51365(0xcac)](_0xa51365(0xbb6));document[_0xa51365(0xcac)](_0xa51365(0x4fd))[_0xa51365(0x20a)]=_0xa51365(0x226)+_0x4b9f66;const _0x3752ac=_0xa51365(0x824)+_0x360032['keyConcepts']['map'](_0x310707=>_0xa51365(0xb66)+_0x310707+'</li>')[_0xa51365(0xad6)]('')+_0xa51365(0x94b)+_0x360032[_0xa51365(0x503)][_0xa51365(0x39a)](_0x4daa21=>_0xa51365(0xb66)+_0x4daa21+'</li>')['join']('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>'+_0x360032[_0xa51365(0x1dd)][_0xa51365(0x39a)](_0x2474e4=>_0xa51365(0x92c)+_0x2474e4[_0xa51365(0x4d5)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>'+_0x2474e4[_0xa51365(0x8d4)]+_0xa51365(0x3a2))['join']('')+_0xa51365(0x884)+_0x360032[_0xa51365(0x5bd)][_0xa51365(0x39a)](_0x5802ff=>_0xa51365(0xb66)+_0x5802ff+_0xa51365(0x62a))['join']('')+_0xa51365(0x978);_0x53fd28[_0xa51365(0x64a)]=_0x3752ac;if(window[_0xa51365(0x2b2)])MathJax[_0xa51365(0xca5)]([_0x53fd28]);}async function generateQuizForSingleTopic(_0xe91939){const _0x32a69c=_0x44691e;console['log']('กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22'+_0xe91939+'\x22');const _0x349bb2=document[_0x32a69c(0xcac)]('reference-pdf-upload'),_0xe0272d=_0x349bb2[_0x32a69c(0x5cb)][_0x32a69c(0x8b4)]>0x0?_0x349bb2[_0x32a69c(0x5cb)][0x0]:null;let _0x2bbbb8=null;if(_0xe0272d)try{const _0x41819=new FileReader();_0x41819[_0x32a69c(0xa65)](_0xe0272d);const _0x8a7fd3=await new Promise((_0x590bca,_0x293715)=>{const _0x2028bc=_0x32a69c;_0x41819['onload']=()=>_0x590bca(_0x41819[_0x2028bc(0x4d2)][_0x2028bc(0x86e)](',')[0x1]),_0x41819[_0x2028bc(0x449)]=_0x4e5161=>_0x293715(_0x4e5161);});_0x2bbbb8=[{'inlineData':{'mimeType':_0xe0272d[_0x32a69c(0x299)],'data':_0x8a7fd3}}];}catch(_0x35e01a){console[_0x32a69c(0x723)](_0x32a69c(0x6a1),_0x35e01a),showMessage(_0x32a69c(0x6dd));return;}generateQuiz(_0xe91939,null,null,_0x2bbbb8,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x352afd=null){const _0x37c32b=_0x44691e,_0x545cba=document['getElementById'](_0x37c32b(0x609)),_0x8481f3=document[_0x37c32b(0xcac)]('loader-text');let _0x1dad8c;if(_0x352afd)_0x1dad8c=_0x352afd;else{const _0x3f9800=document[_0x37c32b(0xcac)]('blueprint-upload-input'),_0x4776e3=_0x3f9800[_0x37c32b(0x5cb)][0x0];if(!_0x4776e3){showMessage(_0x37c32b(0x341));return;}_0x8481f3[_0x37c32b(0x20a)]=_0x37c32b(0x35e);const _0x8d0323=await new Promise((_0x56ffb2,_0x28a7b2)=>{const _0x341c64=_0x37c32b,_0x51b35c=new FileReader();_0x51b35c[_0x341c64(0xa65)](_0x4776e3),_0x51b35c[_0x341c64(0x48f)]=()=>_0x56ffb2(_0x51b35c[_0x341c64(0x4d2)]['split'](',')[0x1]),_0x51b35c[_0x341c64(0x449)]=_0x28a7b2;});_0x1dad8c=[{'text':_0x37c32b(0xa9d)},{'inlineData':{'mimeType':_0x4776e3[_0x37c32b(0x299)],'data':_0x8d0323}}];}const _0x33b4a3=_0x37c32b(0x1cb),_0x1d3e93=_0x37c32b(0x5d7),_0x39f255=_0x37c32b(0x6e5),_0x183f6e={'type':_0x37c32b(0xc37),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x37c32b(0xb46),'enum':[_0x37c32b(0xb47),_0x37c32b(0x982),'true_false','matching_item']},'options':{'type':_0x37c32b(0x542),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x37c32b(0x283)},'idealAnswer':{'type':_0x37c32b(0xb46)},'correctAnswer':{'type':_0x37c32b(0x151)},'explanation':{'type':_0x37c32b(0xb46)},'imageCode':{'type':_0x37c32b(0xb46)}},'required':[_0x37c32b(0xb42),_0x37c32b(0xb63)]},_0x23961d={'type':_0x37c32b(0xc37),'properties':{'topic':{'type':_0x37c32b(0xb46)},'questions':{'type':_0x37c32b(0x542),'items':_0x183f6e}},'required':['topic',_0x37c32b(0x8f1)]};_0x1dad8c[0x0][_0x37c32b(0x18b)]=_0x39f255,await handleApiCall(_0x1dad8c,'AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...',_0x23961d);}function proceedToNextQuestion(_0x40f250){const _0x291f79=_0x44691e;studentAnswersPerQuestion[_0x291f79(0xa12)](_0x40f250),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions']['length']?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x1864c4,_0x434b2a){const _0x2a6ceb=_0x44691e,_0x28a08d=Object[_0x2a6ceb(0x5a9)](_0x1864c4[_0x2a6ceb(0xb3f)]||{}),_0x5a344e=_0x28a08d[_0x2a6ceb(0x8b4)],_0x1bbdda=[..._0x28a08d]['sort']((_0x19396f,_0x4352f4)=>_0x4352f4[_0x2a6ceb(0x443)]-_0x19396f[_0x2a6ceb(0x443)]),_0x1f70ee=_0x1864c4[_0x2a6ceb(0x4db)];let _0x46eed3='';const _0x29f79b=_0x1864c4[_0x2a6ceb(0x692)][_0x2a6ceb(0x8f1)],_0x5019e2=_0x29f79b[_0x1f70ee],_0xbe6fa5=_0x2641a3=>String[_0x2a6ceb(0x163)](0x41+_0x2641a3);let _0x5d2085='',_0xca5c73='';if(_0x5019e2){const _0x466d29=_0x5019e2[_0x2a6ceb(0xb42)]||_0x1864c4[_0x2a6ceb(0x692)][_0x2a6ceb(0x196)];if(_0x466d29===_0x2a6ceb(0xb47)&&_0x5019e2[_0x2a6ceb(0xbd7)]&&_0x5019e2['correctAnswerIndex']!==undefined){const _0x1a8bfb=_0x5019e2['correctAnswerIndex'];_0x5d2085=_0x5019e2[_0x2a6ceb(0xbd7)][_0x1a8bfb],_0xca5c73=_0xbe6fa5(_0x1a8bfb)+'.';}else{if(_0x466d29===_0x2a6ceb(0x9c3)){const _0x463fea=_0x5019e2[_0x2a6ceb(0x492)]===!![]||String(_0x5019e2['correctAnswer'])[_0x2a6ceb(0x3e6)]()===_0x2a6ceb(0x97e);_0x463fea?(_0x5d2085='ใช่\x20/\x20ถูก',_0xca5c73='ก.'):(_0x5d2085=_0x2a6ceb(0x7c4),_0xca5c73='ข.');}else{if(_0x466d29===_0x2a6ceb(0xc00))_0x5d2085=_0x5019e2['correctResponse']||'-',_0xca5c73='';else _0x466d29===_0x2a6ceb(0x982)&&(_0x5d2085=_0x5019e2[_0x2a6ceb(0x4a7)]||'-',_0xca5c73='');}}}_0x5d2085&&(_0x46eed3=_0x2a6ceb(0x217)+(_0x1f70ee+0x1)+'\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>'+_0xca5c73+'\x20'+_0x5d2085+_0x2a6ceb(0x5cf));const _0x1671e6=_0x1bbdda[_0x2a6ceb(0x39a)](_0x5d9df0=>{const _0x3e1991=_0x2a6ceb;let _0x5d4a1b=![];if(_0x5d9df0[_0x3e1991(0x4dd)]&&_0x1f70ee!==-0x1){const _0x2261dc=_0x5d9df0[_0x3e1991(0x4dd)][_0x3e1991(0xb3a)](_0x127c58=>_0x127c58['questionIndex']===_0x1f70ee);_0x2261dc&&_0x2261dc[_0x3e1991(0x6e6)]&&(_0x5d4a1b=!![]);}const _0x12012d=_0x5d4a1b?_0x3e1991(0x1b5):_0x3e1991(0x3bb);return _0x3e1991(0x588)+_0x12012d+'\x22><span>'+_0x5d9df0['name']+_0x3e1991(0xbda)+_0x5d9df0['score']+'\x20คะแนน</span></div>';})[_0x2a6ceb(0xad6)](''),_0x6d601b=_0x29f79b[_0x2a6ceb(0x39a)]((_0x38b125,_0x8dee8)=>{const _0x1ef263=_0x2a6ceb,_0x4377fd=_0x28a08d[_0x1ef263(0x686)](_0x37ee68=>_0x37ee68[_0x1ef263(0x4dd)]&&_0x37ee68[_0x1ef263(0x4dd)]['find'](_0x3294db=>_0x3294db[_0x1ef263(0xcbe)]===_0x8dee8&&_0x3294db[_0x1ef263(0x6e6)]))[_0x1ef263(0x8b4)],_0x5cdd51=_0x8dee8===_0x1f70ee,_0x35fea0=_0x5cdd51?_0x1ef263(0x5f8):_0x1ef263(0x405);return _0x1ef263(0xa30)+_0x35fea0+_0x1ef263(0x30e)+(_0x8dee8+0x1)+_0x1ef263(0xc1d)+_0x4377fd+_0x1ef263(0x868)+_0x5a344e+'\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x2a6ceb(0xad6)]('');let _0x2ae7c6='',_0xbb29b2='';if(_0x434b2a){const _0x445757=_0x1864c4[_0x2a6ceb(0x4db)]>=_0x29f79b[_0x2a6ceb(0x8b4)]-0x1;_0x2ae7c6=_0x2a6ceb(0x8a1)+(_0x445757?'ดูผลสรุปสุดท้าย':_0x2a6ceb(0x829))+_0x2a6ceb(0xcbf),_0xbb29b2=_0x2a6ceb(0x39d);}const _0x319d93=_0x2a6ceb(0xbb9)+_0x1864c4[_0x2a6ceb(0x692)][_0x2a6ceb(0x180)]+_0x2a6ceb(0xc3f)+_0xbb29b2+_0x2a6ceb(0x2a4)+_0x46eed3+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x1671e6||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+_0x2a6ceb(0x231)+_0x6d601b+_0x2a6ceb(0xc94)+(_0x434b2a?'<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>'+_0x2ae7c6+'</div>':'')+_0x2a6ceb(0x409);liveGameView['innerHTML']=_0x319d93;if(window[_0x2a6ceb(0x2b2)]){const _0x1cc287=document['getElementById'](_0x2a6ceb(0x6de));_0x1cc287&&MathJax[_0x2a6ceb(0xca5)]([_0x1cc287]);}if(_0x434b2a){document[_0x2a6ceb(0xcac)](_0x2a6ceb(0x3f8))[_0x2a6ceb(0x800)]=async()=>{const _0x3be5b1=_0x2a6ceb,_0x335893=doc(db,_0x3be5b1(0x1c4)+appId+_0x3be5b1(0x6ff),currentLiveGameId),_0x6b23a0=_0x1864c4[_0x3be5b1(0x4db)]+0x1;if(_0x6b23a0<_0x29f79b[_0x3be5b1(0x8b4)]){const _0x30dde0={};Object['keys'](_0x1864c4['players'])[_0x3be5b1(0xc74)](_0x188db6=>{const _0x40cee5=_0x3be5b1;_0x30dde0['players.'+_0x188db6+'.answered']=![],_0x30dde0[_0x40cee5(0xa14)+_0x188db6+_0x40cee5(0xa23)]=null;}),await updateDoc(_0x335893,{..._0x30dde0,'status':_0x3be5b1(0x4d5),'currentQuestionIndex':_0x6b23a0,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x335893,{'status':_0x3be5b1(0x69f)});};const _0x26eb76=document[_0x2a6ceb(0xcac)](_0x2a6ceb(0x4e0));_0x26eb76&&(_0x26eb76[_0x2a6ceb(0x800)]=()=>{const _0x46f2a8=_0x2a6ceb;showConfirmation(_0x46f2a8(0xc21),async()=>{const _0x2a4e43=_0x46f2a8,_0x59d0c8=doc(db,_0x2a4e43(0x1c4)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x59d0c8,{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0x574728){const _0x464e13=_0x44691e,_0x29188a=document[_0x464e13(0xcac)]('results-tab-content'),_0x46261f=document[_0x464e13(0xcac)]('project-quizzes-list');_0x46261f[_0x464e13(0x534)][_0x464e13(0x174)]('hidden');const _0x3f656a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x574728[_0x464e13(0x180)]+_0x464e13(0xc49);_0x29188a[_0x464e13(0xa2a)](_0x464e13(0x3d5),_0x3f656a);const _0x2a16ae=document[_0x464e13(0xcac)](_0x464e13(0x47b));try{const _0x1aad1f=_0x574728[_0x464e13(0x8f1)]['map']((_0x2a0496,_0x43432b)=>{const _0x229007=_0x464e13;let _0x4ea3da=_0x43432b+0x1+'.\x20'+(_0x2a0496[_0x229007(0x83f)]||_0x2a0496[_0x229007(0x388)])+'\x0a';if(_0x2a0496['options'])_0x4ea3da+=_0x2a0496[_0x229007(0xbd7)]['map']((_0x3731c1,_0x142481)=>'\x20\x20\x20-\x20'+(_0x142481===_0x2a0496['correctAnswerIndex']?'[*]':'')+'\x20'+_0x3731c1)['join']('\x0a');else _0x2a0496[_0x229007(0x4a7)]&&(_0x4ea3da+=_0x229007(0x2ef)+_0x2a0496[_0x229007(0x4a7)]);return _0x4ea3da;})[_0x464e13(0xad6)]('\x0a\x0a');_0x2a16ae[_0x464e13(0x20a)]=_0x464e13(0xc62);const _0x459a80='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x574728[_0x464e13(0x180)]+_0x464e13(0x807)+_0x1aad1f+_0x464e13(0x66c)+simpleMathPrompt+_0x464e13(0xbc2),_0x221aeb={'type':_0x464e13(0xc37),'properties':{'questionText':{'type':_0x464e13(0xb46)},'questionType':{'type':_0x464e13(0xb46),'enum':[_0x464e13(0xb47),_0x464e13(0x982),'true_false',_0x464e13(0xc00)]},'options':{'type':_0x464e13(0x542),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x464e13(0x283)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x464e13(0xb46)},'correctResponse':{'type':_0x464e13(0xb46)},'allResponses':{'type':_0x464e13(0x542),'items':{'type':_0x464e13(0xb46)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x464e13(0xb46)}},'required':[_0x464e13(0xb42),_0x464e13(0xb63)]},_0x3b78b4={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x464e13(0x542),'items':_0x221aeb}},'required':['topic','questions']},_0x113333=await callAnalysisApi(_0x459a80,_0x3b78b4),_0xf77860=_0x113333[_0x464e13(0x8f1)][_0x464e13(0x39a)]((_0xf14865,_0x4c507a)=>({..._0xf14865,'id':'q_'+Date[_0x464e13(0xc85)]()+'_'+_0x4c507a})),_0x34a330=_0x464e13(0x155)+_0x574728['topic'],_0x4efc86={'topic':_0x34a330,'questions':_0xf77860,'quizType':_0x574728['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x464e13(0xa3e)](),'status':_0x464e13(0x993),'settings':_0x574728[_0x464e13(0x73a)],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0xa8994b;while(!![]){_0xa8994b=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x464e13(0xb8f)]();const _0x5a71f2=await getDoc(doc(db,_0x464e13(0x1c4)+appId+'/public/data/quizzes',_0xa8994b));if(!_0x5a71f2[_0x464e13(0x72f)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x464e13(0x1fa),_0xa8994b),_0x4efc86),showMessage(_0x464e13(0x7c3));}catch(_0x574db4){console[_0x464e13(0x723)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x574db4),showMessage('เกิดข้อผิดพลาด:\x20'+_0x574db4[_0x464e13(0xca0)]);}finally{const _0x5e4852=document[_0x464e13(0xcac)]('temp-loader-results');_0x5e4852&&_0x5e4852[_0x464e13(0x392)](),_0x46261f[_0x464e13(0x534)][_0x464e13(0x392)](_0x464e13(0xb2f));}}async function handleGenerateParallelPostTest(_0x2d423f){const _0x17531d=_0x44691e,_0x6e2213=document[_0x17531d(0xcac)](_0x17531d(0xbd1)),_0x5b2b77=document[_0x17531d(0xcac)](_0x17531d(0xbae));_0x5b2b77[_0x17531d(0x534)][_0x17531d(0x174)](_0x17531d(0xb2f));const _0xcee250=_0x17531d(0x900);_0x6e2213['insertAdjacentHTML'](_0x17531d(0x3d5),_0xcee250);try{const _0xa32828=_0x2d423f[_0x17531d(0x8f1)][_0x17531d(0x39a)]((_0x9c9025,_0x20851c)=>{const _0x33ab92=_0x17531d;let _0x4c5809=_0x20851c+0x1+'.\x20'+(_0x9c9025['questionText']||_0x9c9025[_0x33ab92(0x388)]);if(_0x9c9025[_0x33ab92(0xbd7)])_0x4c5809+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x9c9025[_0x33ab92(0xbd7)][_0x33ab92(0xad6)](',\x20');return _0x4c5809;})[_0x17531d(0xad6)]('\x0a\x0a'),_0x20c3db=_0x17531d(0x60a)+_0x2d423f[_0x17531d(0x180)]+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa32828+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x17531d(0xbc2),_0x33265={'type':_0x17531d(0xc37),'properties':{'topic':{'type':_0x17531d(0xb46)},'questions':{'type':_0x17531d(0x542),'items':{'type':_0x17531d(0xc37),'properties':{'questionText':{'type':_0x17531d(0xb46)},'questionType':{'type':_0x17531d(0xb46)},'options':{'type':'ARRAY','items':{'type':_0x17531d(0xb46)}},'correctAnswerIndex':{'type':_0x17531d(0x283)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x17531d(0xb46)}},'required':[_0x17531d(0x83f),_0x17531d(0xb63)]}}},'required':[_0x17531d(0x180),_0x17531d(0x8f1)]},_0x46e73a=await callAnalysisApi(_0x20c3db,_0x33265),_0x2ecec5=_0x2d423f['topic']['replace'](_0x17531d(0xc29),'')[_0x17531d(0x5a4)](),_0x47620e=_0x17531d(0x729)+_0x2ecec5,_0xc7bb37={..._0x46e73a,'topic':_0x47620e,'quizType':_0x2d423f[_0x17531d(0x196)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x17531d(0x993),'settings':_0x2d423f[_0x17531d(0x73a)],'quizMode':_0x17531d(0x8fe),'pairedQuizId':_0x2d423f['id']};let _0x5e36eb;while(!![]){_0x5e36eb=Math[_0x17531d(0x3fd)](0x3e8+Math[_0x17531d(0x53f)]()*0x2328)[_0x17531d(0xb8f)]();const _0x112410=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x5e36eb));if(!_0x112410[_0x17531d(0x72f)]())break;}await setDoc(doc(db,_0x17531d(0x1c4)+appId+_0x17531d(0x1fa),_0x5e36eb),_0xc7bb37);const _0xb27839=doc(db,_0x17531d(0x1c4)+appId+_0x17531d(0x1fa),_0x2d423f['id']);await updateDoc(_0xb27839,{'pairedQuizId':_0x5e36eb}),showMessage(_0x17531d(0xc8d));}catch(_0x1aeea4){console['error'](_0x17531d(0x574),_0x1aeea4),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1aeea4[_0x17531d(0xca0)]);}finally{const _0x3ad916=document[_0x17531d(0xcac)]('temp-loader-results');if(_0x3ad916)_0x3ad916[_0x17531d(0x392)]();_0x5b2b77['classList'][_0x17531d(0x392)]('hidden');}}async function handleGenerateParallelTest(_0x1f680d=null){const _0x289584=_0x44691e;let _0x59bcef=_0x1f680d;if(!_0x59bcef){const _0x16a75c=document[_0x289584(0xcac)](_0x289584(0x991));_0x16a75c[_0x289584(0x5cb)][_0x289584(0x8b4)]>0x0&&(_0x59bcef=_0x16a75c['files'][0x0]);}if(!_0x59bcef){showMessage(_0x289584(0x7c0));return;}const _0x210229=document[_0x289584(0xcac)](_0x289584(0x609)),_0x2d25b7=document[_0x289584(0xcac)](_0x289584(0x6eb)),_0xce43f8=document['getElementById'](_0x289584(0x55b)),_0x1b8495=document[_0x289584(0xcac)]('generate-from-parallel-test-btn');_0x1b8495[_0x289584(0x585)]=!![],document[_0x289584(0xcac)](_0x289584(0xc01))[_0x289584(0x534)][_0x289584(0x392)]('hidden'),_0xce43f8['innerHTML']='',_0x210229[_0x289584(0x534)][_0x289584(0x392)]('hidden'),_0x2d25b7[_0x289584(0x20a)]=_0x289584(0x212);const _0x581306=new FileReader();_0x581306[_0x289584(0xa65)](_0x59bcef),_0x581306['onload']=async()=>{const _0x29066e=_0x289584;try{const _0x4cf71b=_0x581306['result'][_0x29066e(0x86e)](',')[0x1],_0xd66025=_0x59bcef[_0x29066e(0x299)];_0x2d25b7[_0x29066e(0x20a)]=_0x29066e(0x9b8);const _0x93fb31=document[_0x29066e(0xcac)](_0x29066e(0x38c))['checked'],_0x38d570=_0x93fb31?_0x29066e(0xb75):'',_0x3c4f2d=_0x29066e(0x546),_0x2fef24={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x29066e(0xb46),'enum':[_0x29066e(0xb47),_0x29066e(0x982)]},'options':{'type':_0x29066e(0x542),'items':{'type':_0x29066e(0xb46)}},'correctAnswerIndex':{'type':_0x29066e(0x283)},'idealAnswer':{'type':_0x29066e(0xb46)},'explanation':{'type':_0x29066e(0xb46)},'imageCode':{'type':'STRING'}},'required':[_0x29066e(0x83f),_0x29066e(0xb42),_0x29066e(0xb63)]},_0x15afa4={'type':_0x29066e(0xc37),'properties':{'topic':{'type':_0x29066e(0xb46)},'questions':{'type':_0x29066e(0x542),'items':_0x2fef24}},'required':[_0x29066e(0x180),_0x29066e(0x8f1)]},_0x10ba8a=[{'text':_0x3c4f2d},{'inlineData':{'mimeType':_0xd66025,'data':_0x4cf71b}}];await handleApiCall(_0x10ba8a,_0x29066e(0x9a8),_0x15afa4);}catch(_0x1eed38){console[_0x29066e(0x723)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x1eed38),showMessage(_0x29066e(0x40a)+_0x1eed38[_0x29066e(0xca0)]),_0xce43f8[_0x29066e(0x64a)]=_0x29066e(0x23a);}finally{_0x210229[_0x29066e(0x534)][_0x29066e(0x174)](_0x29066e(0xb2f)),_0x1b8495['disabled']=![];}},_0x581306[_0x289584(0x449)]=_0x27bad5=>{const _0x8e1d62=_0x289584;console['error'](_0x8e1d62(0x95e),_0x27bad5),showMessage(_0x8e1d62(0xc3a)),_0x210229[_0x8e1d62(0x534)][_0x8e1d62(0x174)](_0x8e1d62(0xb2f)),_0x1b8495['disabled']=![];};}async function handleRegenerateQuestionInEditor(_0x854226){const _0x2b4477=_0x44691e;if(currentEditingQuizData===null)return;const _0xeb75d=document[_0x2b4477(0x909)]('.question-editor-item[data-q-index=\x22'+_0x854226+'\x22]');_0xeb75d&&(_0xeb75d['innerHTML']='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x4590f9=currentEditingQuizData[_0x2b4477(0x8f1)][_0x854226],_0xef3bea=currentEditingQuizData['topic'],_0x506363=_0x4590f9[_0x2b4477(0xb42)],_0x2807fe={'type':'OBJECT','properties':{'questionText':{'type':_0x2b4477(0xb46)},'options':{'type':_0x2b4477(0x542),'items':{'type':_0x2b4477(0xb46)}},'correctAnswerIndex':{'type':_0x2b4477(0x283)},'explanation':{'type':_0x2b4477(0xb46)}},'required':[_0x2b4477(0x83f),_0x2b4477(0xbd7),_0x2b4477(0x576),_0x2b4477(0xb63)]},_0x1e2daa={'type':_0x2b4477(0xc37),'properties':{'questionText':{'type':_0x2b4477(0xb46)},'idealAnswer':{'type':_0x2b4477(0xb46)},'explanation':{'type':_0x2b4477(0xb46)}},'required':[_0x2b4477(0x83f),'idealAnswer','explanation']};let _0x36b6c0,_0xa5da30='';_0x506363==='multiple_choice'?(_0x36b6c0=_0x2807fe,_0xa5da30=_0x2b4477(0x2dc)):(_0x36b6c0=_0x1e2daa,_0xa5da30=_0x2b4477(0x75a));const _0x5a7a20=_0x2b4477(0x7ff)+_0xef3bea+_0x2b4477(0xc86)+_0xa5da30+_0x2b4477(0x9f3)+(_0x4590f9[_0x2b4477(0x83f)]||_0x4590f9[_0x2b4477(0x388)])+_0x2b4477(0x664)+simpleMathPrompt;try{const _0x2478f6=await callAnalysisApi(_0x5a7a20,_0x36b6c0);currentEditingQuizData[_0x2b4477(0x8f1)][_0x854226]={..._0x4590f9,..._0x2478f6},renderQuizEditor(currentEditingQuizData);}catch(_0x344b5e){console[_0x2b4477(0x723)](_0x2b4477(0xa41),_0x344b5e),showMessage(_0x2b4477(0x3c9)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x45db66=_0x44691e,_0x200a56=document[_0x45db66(0xcac)](_0x45db66(0x666));currentMode===_0x45db66(0xb07)?(adminPasswordModal[_0x45db66(0x534)][_0x45db66(0x392)]('hidden'),document[_0x45db66(0xcac)](_0x45db66(0xb08))[_0x45db66(0x7a6)]()):(currentMode=_0x45db66(0xb07),_0x200a56['innerHTML']='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x200a56['title']=_0x45db66(0xa89),showView(_0x45db66(0xb07)));}function handleAdminLogin(){const _0x177f03=_0x44691e,_0x2b1b13=document[_0x177f03(0xcac)]('admin-password-input'),_0x2b5551=document[_0x177f03(0xcac)]('password-error-msg');if(_0x2b1b13[_0x177f03(0x1a0)]===_0x177f03(0x608)){adminPasswordModal[_0x177f03(0x534)][_0x177f03(0x174)](_0x177f03(0xb2f)),_0x2b1b13['value']='',_0x2b5551[_0x177f03(0x534)]['add'](_0x177f03(0xb2f)),currentMode=_0x177f03(0x783);const _0x22915c=document[_0x177f03(0xcac)](_0x177f03(0x666));_0x22915c['innerHTML']=_0x177f03(0x98f),_0x22915c[_0x177f03(0x58a)]=_0x177f03(0x1dc),showView(_0x177f03(0x148));}else _0x2b5551['classList'][_0x177f03(0x392)]('hidden'),_0x2b1b13[_0x177f03(0x1a0)]='';}function switchProjectTab(_0x52a145){const _0x5359d0=_0x44691e;[_0x5359d0(0xa70),_0x5359d0(0x1f6),_0x5359d0(0x861)][_0x5359d0(0xc74)](_0x49217b=>{const _0x44b035=_0x5359d0;document[_0x44b035(0xcac)](_0x49217b+_0x44b035(0x1d7))[_0x44b035(0x534)][_0x44b035(0x392)]('active'),document[_0x44b035(0xcac)](_0x49217b+'-tab-content')[_0x44b035(0x534)][_0x44b035(0x174)](_0x44b035(0xb2f));}),document['getElementById'](_0x52a145+'-tab')[_0x5359d0(0x534)][_0x5359d0(0x174)]('active'),document[_0x5359d0(0xcac)](_0x52a145+_0x5359d0(0x4fa))[_0x5359d0(0x534)][_0x5359d0(0x392)](_0x5359d0(0xb2f));}function switchQuizDetailTab(_0x481771){const _0x53f633=_0x44691e,_0x5662b5={'analytics':{'btn':_0x53f633(0x485),'content':_0x53f633(0x6b1)},'scores':{'btn':_0x53f633(0x7d8),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0x53f633(0x4eb),'content':_0x53f633(0x6b0)},'behavior-log':{'btn':'behavior-log-tab-btn','content':_0x53f633(0x773)}};for(const _0x4fc74c in _0x5662b5){document['getElementById'](_0x5662b5[_0x4fc74c]['btn'])[_0x53f633(0x534)]['remove'](_0x53f633(0x993)),document[_0x53f633(0xcac)](_0x5662b5[_0x4fc74c][_0x53f633(0x951)])['classList']['add'](_0x53f633(0xb2f));}document[_0x53f633(0xcac)](_0x5662b5[_0x481771][_0x53f633(0x604)])['classList'][_0x53f633(0x174)](_0x53f633(0x993)),document['getElementById'](_0x5662b5[_0x481771][_0x53f633(0x951)])[_0x53f633(0x534)][_0x53f633(0x392)](_0x53f633(0xb2f));}function showMessage(_0x56197d,_0x2d0119=null){const _0x12a4ff=_0x44691e;modalMessage[_0x12a4ff(0x20a)]=_0x56197d,modalConfirmAction=_0x2d0119,messageModal['classList'][_0x12a4ff(0x392)](_0x12a4ff(0xb2f));}function showConfirmation(_0x49da5a,_0x4fe2ad){const _0xaeaf63=_0x44691e;document['getElementById'](_0xaeaf63(0xb5c))['textContent']=_0x49da5a,document['getElementById'](_0xaeaf63(0xb12))[_0xaeaf63(0x909)]('h3')[_0xaeaf63(0x20a)]='ยืนยันการกระทำ',confirmAction=_0x4fe2ad,confirmationModal[_0xaeaf63(0x534)][_0xaeaf63(0x392)](_0xaeaf63(0xb2f));}function listenForProjects(){const _0x446f92=_0x44691e,_0x363709=doc(db,_0x446f92(0x2bd),_0x446f92(0x530));onSnapshot(_0x363709,_0x593e3e=>{const _0x2c81ee=_0x446f92;if(_0x593e3e['exists']()){const _0x4097fe=_0x593e3e[_0x2c81ee(0x2a7)]();globalDashboardSettings['projectSort']=_0x4097fe[_0x2c81ee(0x71d)]||_0x2c81ee(0x244),globalDashboardSettings[_0x2c81ee(0x813)]=_0x4097fe[_0x2c81ee(0x813)]||[],globalDashboardSettings[_0x2c81ee(0x329)]=_0x4097fe['projectOrder']||[];}allProjects[_0x2c81ee(0x8b4)]>0x0&&renderProjects();});const _0x4fbc38=collection(db,_0x446f92(0x1c4)+appId+_0x446f92(0x6b6));unsubscribeProjectsListener=onSnapshot(_0x4fbc38,_0x1f1db5=>{const _0x42c425=_0x446f92;allProjects=_0x1f1db5[_0x42c425(0xb1e)][_0x42c425(0x39a)](_0x5476e5=>({'id':_0x5476e5['id'],..._0x5476e5[_0x42c425(0x2a7)]()})),renderProjects();},_0x3211dd=>{const _0x1215a5=_0x446f92;console[_0x1215a5(0x723)](_0x1215a5(0x2cb),_0x3211dd),showMessage(_0x1215a5(0x968));});}function showColorPalette(_0x534aae,_0x40b1d8){const _0x1cb48f=_0x44691e;document[_0x1cb48f(0x32a)](_0x1cb48f(0xa49))[_0x1cb48f(0xc74)](_0x3e7941=>_0x3e7941['remove']());const _0x15576e=[_0x1cb48f(0x1a3),_0x1cb48f(0x998),_0x1cb48f(0x4c0),_0x1cb48f(0x41f),_0x1cb48f(0x464),_0x1cb48f(0x26d),_0x1cb48f(0x9be),_0x1cb48f(0x9e2),_0x1cb48f(0x64f)],_0x58ac31=document['createElement'](_0x1cb48f(0xaf5));_0x58ac31[_0x1cb48f(0x5c6)]=_0x1cb48f(0x38d),_0x15576e[_0x1cb48f(0xc74)](_0x12df6e=>{const _0x2edc28=_0x1cb48f,_0x22b05b=document[_0x2edc28(0x5c5)](_0x2edc28(0xaf5));_0x22b05b['className']='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x22b05b[_0x2edc28(0xad3)][_0x2edc28(0x1b8)]=_0x12df6e,_0x22b05b[_0x2edc28(0x36e)]('click',()=>{const _0xba247e=_0x2edc28;handleProjectColorChange(_0x40b1d8,_0x12df6e),_0x58ac31[_0xba247e(0x392)]();}),_0x58ac31[_0x2edc28(0x740)](_0x22b05b);}),document[_0x1cb48f(0xa2f)][_0x1cb48f(0x740)](_0x58ac31);const _0x37af2c=_0x534aae[_0x1cb48f(0x26f)]();_0x58ac31[_0x1cb48f(0xad3)][_0x1cb48f(0x5ae)]=_0x37af2c[_0x1cb48f(0x72d)]+window[_0x1cb48f(0x8c2)]+'px',_0x58ac31[_0x1cb48f(0xad3)][_0x1cb48f(0x7d7)]=_0x37af2c[_0x1cb48f(0x7d7)]+window['scrollX']-_0x58ac31['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x51e13a,_0x4b1b57){const _0x41d506=_0x44691e,_0x233a75=doc(db,'artifacts/'+appId+_0x41d506(0x6b6),_0x51e13a);try{await updateDoc(_0x233a75,{'color':_0x4b1b57});}catch(_0x4383c3){console['error'](_0x41d506(0xc8c),_0x4383c3),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x51dd09=_0x44691e,_0x1f0319=globalDashboardSettings['projectSort']||_0x51dd09(0x244),_0x5caee7=new Set(globalDashboardSettings[_0x51dd09(0x813)]||[]),_0x1e2a90=globalDashboardSettings[_0x51dd09(0x680)]||_0x51dd09(0x4b0),_0x4b4ad9=document[_0x51dd09(0xcac)]('grid-view-btn'),_0x340a7a=document['getElementById']('list-view-btn');_0x4b4ad9['classList']['toggle'](_0x51dd09(0x993),_0x1e2a90===_0x51dd09(0x4b0)),_0x340a7a[_0x51dd09(0x534)][_0x51dd09(0xa90)](_0x51dd09(0x993),_0x1e2a90===_0x51dd09(0xbf2)),document[_0x51dd09(0xcac)](_0x51dd09(0xc22))[_0x51dd09(0x1a0)]=_0x1f0319;const _0x3b9e82=document['getElementById'](_0x51dd09(0x5b6))[_0x51dd09(0x1a0)]['toLowerCase']();let _0x28da5c=allProjects[_0x51dd09(0x686)](_0x31141b=>_0x31141b[_0x51dd09(0xc87)]['toLowerCase']()[_0x51dd09(0x764)](_0x3b9e82));const _0x3c8215=_0x28da5c[_0x51dd09(0x686)](_0x148101=>_0x5caee7[_0x51dd09(0xbf1)](_0x148101['id'])),_0xe12a0b=_0x28da5c[_0x51dd09(0x686)](_0x207c75=>!_0x5caee7[_0x51dd09(0xbf1)](_0x207c75['id'])),_0x3b127e=(_0x28b6ac,_0x5bdded)=>{const _0x4e0dd9=_0x51dd09;switch(_0x1f0319){case _0x4e0dd9(0x267):return _0x28b6ac[_0x4e0dd9(0xc87)][_0x4e0dd9(0x656)](_0x5bdded['projectName'],'th');case _0x4e0dd9(0xc41):return _0x5bdded[_0x4e0dd9(0xc87)][_0x4e0dd9(0x656)](_0x28b6ac[_0x4e0dd9(0xc87)],'th');case _0x4e0dd9(0xaa7):return new Date(_0x28b6ac[_0x4e0dd9(0xa58)])-new Date(_0x5bdded[_0x4e0dd9(0xa58)]);default:return new Date(_0x5bdded['createdAt'])-new Date(_0x28b6ac['createdAt']);}};_0x3c8215['sort'](_0x3b127e),_0xe12a0b[_0x51dd09(0xa24)](_0x3b127e);const _0xf32aba=[..._0x3c8215,..._0xe12a0b],_0x45fb82=globalDashboardSettings['projectOrder']||[];_0x45fb82[_0x51dd09(0x8b4)]>0x0&&_0x1e2a90==='grid'&&_0xf32aba[_0x51dd09(0xa24)]((_0x21f19f,_0x1f81e8)=>{const _0x273e60=_0x51dd09,_0x1db2ab=_0x45fb82['indexOf'](_0x21f19f['id']),_0x558544=_0x45fb82[_0x273e60(0x983)](_0x1f81e8['id']);if(_0x1db2ab===-0x1)return 0x1;if(_0x558544===-0x1)return-0x1;return _0x1db2ab-_0x558544;});const _0x1b8764={};await Promise['all'](_0xf32aba[_0x51dd09(0x39a)](async _0x4c3c3c=>{const _0x3c25ed=_0x51dd09,_0x214e93=query(collection(db,'artifacts/'+appId+_0x3c25ed(0x1fa)),where(_0x3c25ed(0x370),'==',_0x4c3c3c['id'])),_0x3839af=await getDocs(_0x214e93);_0x1b8764[_0x4c3c3c['id']]=_0x3839af[_0x3c25ed(0x253)];}));const _0x77373a=document[_0x51dd09(0xcac)]('project-list');let _0x3c21cc='';if(_0x1e2a90===_0x51dd09(0x4b0)){_0x77373a[_0x51dd09(0x5c6)]=_0x51dd09(0x674);if(starredQuizzes[_0x51dd09(0x8b4)]>0x0&&_0x3b9e82===''){const _0x27cf85=starredQuizzes[_0x51dd09(0x39a)](_0x20f1be=>{const _0x8e9e62=_0x51dd09,_0x2403f9=allProjects[_0x8e9e62(0xb3a)](_0x3280ff=>_0x3280ff['id']===_0x20f1be['projectId']);return{..._0x20f1be,'projectName':_0x2403f9?_0x2403f9[_0x8e9e62(0xc87)]:_0x8e9e62(0x2f7)};});_0x3c21cc+=_0x51dd09(0xb11)+_0x27cf85[_0x51dd09(0x39a)](_0x33afbf=>_0x51dd09(0x64e)+_0x33afbf[_0x51dd09(0x180)]+'\x22>'+_0x33afbf['topic']+_0x51dd09(0x312)+_0x33afbf[_0x51dd09(0xc87)]+_0x51dd09(0x19b)+_0x33afbf[_0x51dd09(0xc87)]+_0x51dd09(0x804))[_0x51dd09(0xad6)]('')+_0x51dd09(0x3c3)+starredQuizzes[_0x51dd09(0x8b4)]+_0x51dd09(0x9b9);}_0xf32aba['forEach'](_0x2cfefe=>{const _0x3ccf6d=_0x51dd09,_0x3d3f5f=_0x1b8764[_0x2cfefe['id']]??0x0,_0x2dd6ab=_0x5caee7['has'](_0x2cfefe['id']),_0x1ce8f1=_0x2cfefe['color']||_0x3ccf6d(0x1a3),_0x3a3f84=parseInt(_0x1ce8f1[_0x3ccf6d(0xb57)](0x1,0x3),0x10)*0.299+parseInt(_0x1ce8f1[_0x3ccf6d(0xb57)](0x3,0x5),0x10)*0.587+parseInt(_0x1ce8f1['substring'](0x5,0x7),0x10)*0.114<0xba,_0x31ed69=_0x3a3f84?_0x3ccf6d(0x2be):_0x3ccf6d(0x830),_0x2ca02b=_0x3a3f84?'text-gray-200':_0x3ccf6d(0xb49);_0x3c21cc+=_0x3ccf6d(0xb0a)+(_0x2dd6ab?_0x3ccf6d(0x9f1):_0x3ccf6d(0x47f))+_0x3ccf6d(0xaa9)+_0x1ce8f1+_0x3ccf6d(0xa0e)+_0x2cfefe['id']+_0x3ccf6d(0xc51)+_0x2cfefe['id']+_0x3ccf6d(0x7d6)+(_0x3a3f84?_0x3ccf6d(0x9ed):_0x3ccf6d(0xa66))+_0x3ccf6d(0x784)+_0x2cfefe['id']+_0x3ccf6d(0x3a8)+(_0x3a3f84?_0x3ccf6d(0x9ed):_0x3ccf6d(0xa66))+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x2dd6ab?_0x3a3f84?_0x3ccf6d(0x96e):'text-indigo-600':'')+_0x3ccf6d(0x660)+_0x2cfefe['id']+_0x3ccf6d(0x46f)+_0x31ed69+_0x3ccf6d(0xa1c)+_0x2cfefe[_0x3ccf6d(0xc87)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+_0x2ca02b+_0x3ccf6d(0x651)+new Date(_0x2cfefe[_0x3ccf6d(0xa58)])[_0x3ccf6d(0xa8d)](_0x3ccf6d(0x976))+_0x3ccf6d(0x526)+(_0x3a3f84?_0x3ccf6d(0xc27):_0x3ccf6d(0xb90))+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x3d3f5f+_0x3ccf6d(0x812)+_0x2cfefe['id']+_0x3ccf6d(0x22c)+_0x2cfefe[_0x3ccf6d(0xc87)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x3a3f84?_0x3ccf6d(0x816):_0x3ccf6d(0x7f3))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x77373a['className']=_0x51dd09(0x3bc),starredQuizzes[_0x51dd09(0x8b4)]>0x0&&_0x3b9e82===''&&(_0x3c21cc+=_0x51dd09(0x8c3)+starredQuizzes['length']+_0x51dd09(0x17b)),_0x3c21cc+=_0x51dd09(0x857),_0xf32aba[_0x51dd09(0xc74)](_0x1ba6d6=>{const _0x5cae2d=_0x51dd09,_0x473c2b=_0x1b8764[_0x1ba6d6['id']]??0x0,_0x29d1c9=_0x5caee7[_0x5cae2d(0xbf1)](_0x1ba6d6['id']);_0x3c21cc+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x1ba6d6[_0x5cae2d(0xbaa)]||'#E5E7EB')+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x1ba6d6['id']+_0x5cae2d(0xa07)+_0x1ba6d6['projectName']+_0x5cae2d(0x569)+_0x473c2b+_0x5cae2d(0x303)+new Date(_0x1ba6d6[_0x5cae2d(0xa58)])['toLocaleString'](_0x5cae2d(0x976))+_0x5cae2d(0x7a7)+_0x1ba6d6['id']+_0x5cae2d(0x4c1)+(_0x29d1c9?_0x5cae2d(0x439):'')+_0x5cae2d(0xa11)+_0x1ba6d6['id']+_0x5cae2d(0x22c)+_0x1ba6d6[_0x5cae2d(0xc87)]+_0x5cae2d(0x90a);});projectList[_0x51dd09(0x64a)]=_0x3c21cc,noProjectsMsg['classList'][_0x51dd09(0xa90)](_0x51dd09(0xb2f),_0x3c21cc['length']>0x0);}document[_0x44691e(0xcac)]('confirm-create-project-btn')['addEventListener'](_0x44691e(0x486),async()=>{const _0x5b448b=_0x44691e,_0x181f82=document[_0x5b448b(0xcac)]('project-name-input'),_0x26c5b0=_0x181f82['value'][_0x5b448b(0x5a4)]();if(!_0x26c5b0){showMessage(_0x5b448b(0xc11));return;}try{const _0x7c6cad=doc(collection(db,'artifacts/'+appId+'/public/data/projects'));await setDoc(_0x7c6cad,{'projectName':_0x26c5b0,'students':[],'settings':{'resultsDisplay':_0x5b448b(0x6cc),'shuffleSetting':_0x5b448b(0xb7d),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x5b448b(0xb7d),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x181f82['value']='',createProjectModal['classList'][_0x5b448b(0x174)]('hidden'),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x20fcc1){console[_0x5b448b(0x723)](_0x5b448b(0x42e),_0x20fcc1),showMessage(_0x5b448b(0x235));}}),projectList[_0x44691e(0x36e)]('click',async _0x4a009f=>{const _0x413ef9=_0x44691e,_0x37e0ef=_0x4a009f[_0x413ef9(0xa9f)][_0x413ef9(0xa54)](_0x413ef9(0x175)),_0x288331=_0x4a009f[_0x413ef9(0xa9f)][_0x413ef9(0xa54)](_0x413ef9(0xb95)),_0x4b1758=_0x4a009f[_0x413ef9(0xa9f)]['closest'](_0x413ef9(0x42f)),_0x3eee14=_0x4a009f[_0x413ef9(0xa9f)][_0x413ef9(0xa54)](_0x413ef9(0xbb2));if(_0x4b1758){const _0x2f42da=_0x4b1758[_0x413ef9(0x5fd)]['id'],_0x4b03b6=doc(db,_0x413ef9(0x2bd),_0x413ef9(0x530)),_0x2ec7d4=globalDashboardSettings[_0x413ef9(0x813)];let _0x3fca1e;_0x2ec7d4[_0x413ef9(0x764)](_0x2f42da)?_0x3fca1e=_0x2ec7d4[_0x413ef9(0x686)](_0x4ea342=>_0x4ea342!==_0x2f42da):_0x3fca1e=[..._0x2ec7d4,_0x2f42da];try{await setDoc(_0x4b03b6,{'pinnedProjects':_0x3fca1e},{'merge':!![]});}catch(_0x23476a){console[_0x413ef9(0x723)](_0x413ef9(0x1e6),_0x23476a),showMessage(_0x413ef9(0xaaa));}}else{if(_0x3eee14){const _0x1d4c22=_0x3eee14[_0x413ef9(0x5fd)]['id'];showColorPalette(_0x3eee14,_0x1d4c22);}else{if(_0x37e0ef){const _0xcbc5e3=_0x37e0ef[_0x413ef9(0x5fd)]['id'];_0xcbc5e3===_0x413ef9(0x6c9)?showStarredProjectView():(currentProjectId=_0xcbc5e3,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x288331){const _0x249e9a=_0x288331[_0x413ef9(0x5fd)]['id'],_0x381a17=_0x288331[_0x413ef9(0x5fd)][_0x413ef9(0x8c8)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x381a17+_0x413ef9(0x788),()=>handleDeleteProject(_0x249e9a));}}}}}),projectList[_0x44691e(0x36e)](_0x44691e(0x258),_0x19fc3d=>{const _0x219304=_0x44691e,_0x4c8436=_0x19fc3d['target'][_0x219304(0xa54)](_0x219304(0x832));_0x4c8436&&_0x4c8436[_0x219304(0x534)]['add'](_0x219304(0x2f9));}),projectList[_0x44691e(0x36e)](_0x44691e(0xae1),_0x2f5a3f=>{const _0x412279=_0x44691e,_0x4b4f71=_0x2f5a3f[_0x412279(0xa9f)][_0x412279(0xa54)](_0x412279(0x832));_0x4b4f71&&_0x4b4f71[_0x412279(0x534)][_0x412279(0x392)]('opacity-50');}),projectList[_0x44691e(0x36e)](_0x44691e(0x918),_0x2931f7=>{const _0x2f5134=_0x44691e;_0x2931f7[_0x2f5134(0x294)]();const _0x33bbe8=document['querySelector'](_0x2f5134(0x37e));if(!_0x33bbe8)return;const _0x179f2c=getDragAfterElement(projectList,_0x2931f7[_0x2f5134(0xa05)]);_0x179f2c==null?projectList[_0x2f5134(0x740)](_0x33bbe8):projectList[_0x2f5134(0x4d3)](_0x33bbe8,_0x179f2c);}),projectList[_0x44691e(0x36e)](_0x44691e(0x6fc),_0x3303bc=>{const _0x5a278c=_0x44691e;_0x3303bc[_0x5a278c(0x294)]();const _0x1fada3=[...projectList[_0x5a278c(0x32a)](_0x5a278c(0x793))][_0x5a278c(0x39a)](_0x15a461=>_0x15a461['dataset']['id']);saveProjectOrder(_0x1fada3);});function renderBehaviorLog(_0x258c21){const _0x4439b8=_0x44691e,_0xa3cc44=document[_0x4439b8(0xcac)](_0x4439b8(0x1ad));if(!_0xa3cc44)return;const _0x239357=_0x258c21[_0x4439b8(0x686)](_0x58cd8c=>_0x58cd8c[_0x4439b8(0x66e)]&&_0x58cd8c[_0x4439b8(0x66e)][_0x4439b8(0x8b4)]>0x0);if(_0x239357[_0x4439b8(0x8b4)]===0x0){_0xa3cc44['innerHTML']=_0x4439b8(0x547);return;}let _0x3a21ab='';_0x239357[_0x4439b8(0xc74)](_0x2772f8=>{const _0x452e3b=_0x4439b8;_0x3a21ab+=_0x452e3b(0x5b9)+_0x2772f8[_0x452e3b(0xb26)]+_0x452e3b(0x80a),_0x2772f8['behaviorLog'][_0x452e3b(0xa24)]((_0x18ea87,_0x3046a5)=>new Date(_0x3046a5['timestamp'])-new Date(_0x18ea87[_0x452e3b(0x447)]))[_0x452e3b(0xc74)](_0x1e9478=>{const _0x19050f=_0x452e3b,_0xbe7cc4=new Date(_0x1e9478[_0x19050f(0x447)])[_0x19050f(0x2fc)]('th-TH',{'dateStyle':'short','timeStyle':_0x19050f(0x9e0)});_0x3a21ab+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x1e9478['attemptNumber']+_0x19050f(0x7de)+_0xbe7cc4+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3a21ab+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xa3cc44[_0x4439b8(0x64a)]=_0x3a21ab;}function getDragAfterElement(_0x36c68d,_0x46a4a0){const _0x26da90=_0x44691e,_0x23f876=[..._0x36c68d[_0x26da90(0x32a)](_0x26da90(0x769))];return _0x23f876['reduce']((_0x449098,_0x1a1464)=>{const _0x419bb8=_0x26da90,_0x4f59b7=_0x1a1464[_0x419bb8(0x26f)](),_0x3bb117=_0x46a4a0-_0x4f59b7['top']-_0x4f59b7['height']/0x2;return _0x3bb117<0x0&&_0x3bb117>_0x449098['offset']?{'offset':_0x3bb117,'element':_0x1a1464}:_0x449098;},{'offset':Number['NEGATIVE_INFINITY']})['element'];}async function saveProjectOrder(_0x28319f){const _0x59ac37=_0x44691e,_0x526b66=doc(db,_0x59ac37(0x2bd),_0x59ac37(0x530));try{await setDoc(_0x526b66,{'projectOrder':_0x28319f},{'merge':!![]});}catch(_0x22f8eb){console[_0x59ac37(0x723)](_0x59ac37(0x3c7),_0x22f8eb),showMessage(_0x59ac37(0x319));}}async function logBehaviorEvent(_0x501f4a,_0x493bf5={}){const _0x45f66e=_0x44691e;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x45f66e(0xc84)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x4fa86b=doc(db,_0x45f66e(0x1c4)+appId+_0x45f66e(0x7c5)+currentQuizData['id']+'/submissions',currentStudentName),_0x4f10b9={'event':_0x501f4a,'timestamp':new Date()[_0x45f66e(0xa3e)](),..._0x493bf5};try{await updateDoc(_0x4fa86b,{'behaviorLog':arrayUnion(_0x4f10b9)}),console[_0x45f66e(0x18c)](_0x45f66e(0xb7c)+currentStudentName+_0x45f66e(0x478));}catch(_0x1ebe30){_0x1ebe30[_0x45f66e(0x2bf)]===_0x45f66e(0x9ac)?console[_0x45f66e(0xc84)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console[_0x45f66e(0x723)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x1ebe30);}}function calculateMeanAndStdDev(_0xfed63e){const _0x29ad86=_0x44691e;if(_0xfed63e[_0x29ad86(0x8b4)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x274978=_0xfed63e[_0x29ad86(0xa8a)]((_0x33edfe,_0x213f4b)=>_0x33edfe+_0x213f4b,0x0)/_0xfed63e[_0x29ad86(0x8b4)];if(_0xfed63e['length']===0x1)return{'mean':_0x274978,'stdDev':0x0};const _0x4ac423=Math[_0x29ad86(0x698)](_0xfed63e['map'](_0x17b661=>Math[_0x29ad86(0x6c2)](_0x17b661-_0x274978,0x2))['reduce']((_0x379515,_0x71c275)=>_0x379515+_0x71c275,0x0)/(_0xfed63e[_0x29ad86(0x8b4)]-0x1));return{'mean':_0x274978,'stdDev':_0x4ac423};}function calculateZScore(_0x3db5c5,_0x223206,_0x501236){if(_0x501236===0x0)return 0x0;return(_0x3db5c5-_0x223206)/_0x501236;}function calculateTScore(_0x4d52ca){return 0xa*_0x4d52ca+0x32;}function showStarredProjectView(){const _0x4afbc6=_0x44691e;currentProjectId=_0x4afbc6(0x23c),currentProjectData=null,projectTitle['textContent']=_0x4afbc6(0xc3b),projectIdDisplay['textContent']='pinned-items',showView(_0x4afbc6(0x7fb)),manageTab[_0x4afbc6(0x534)][_0x4afbc6(0x174)](_0x4afbc6(0xb2f)),leaderboardTab[_0x4afbc6(0x534)][_0x4afbc6(0x174)](_0x4afbc6(0xb2f)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x4d7b3f){const _0x2e9512=_0x44691e,_0x3bb8a3=doc(db,'artifacts/'+appId+_0x2e9512(0x6b6),_0x4d7b3f),_0x3cdc6c=await getDoc(_0x3bb8a3);if(_0x3cdc6c[_0x2e9512(0x72f)]()){manageTab[_0x2e9512(0x534)][_0x2e9512(0x392)](_0x2e9512(0xb2f)),leaderboardTab['classList'][_0x2e9512(0x392)](_0x2e9512(0xb2f)),currentProjectData=_0x3cdc6c[_0x2e9512(0x2a7)](),projectTitle[_0x2e9512(0x20a)]=currentProjectData[_0x2e9512(0xc87)],projectIdDisplay[_0x2e9512(0x20a)]=_0x4d7b3f;const _0x2a34b9=currentProjectData[_0x2e9512(0x73a)]||{};document[_0x2e9512(0xcac)](_0x2e9512(0x40f))['value']=_0x2a34b9[_0x2e9512(0x2e3)]||'none';const _0x4e134d=document['getElementById'](_0x2e9512(0x359));_0x4e134d['checked']=_0x2a34b9[_0x2e9512(0x297)]!==![];const _0x3e71f3=document[_0x2e9512(0xcac)](_0x2e9512(0x67f)),_0xcb0e78=document['getElementById']('passcode-input-container'),_0x5e6a72=document[_0x2e9512(0xcac)](_0x2e9512(0x950)),_0x365896=_0x2a34b9[_0x2e9512(0xaff)]||![];_0x3e71f3['checked']=_0x365896,_0x5e6a72['value']=_0x2a34b9[_0x2e9512(0xc89)]||'',_0xcb0e78[_0x2e9512(0x534)][_0x2e9512(0xa90)](_0x2e9512(0xb2f),!_0x365896),_0x3e71f3[_0x2e9512(0xbfd)]=()=>{const _0x3a7063=_0x2e9512;_0xcb0e78['classList']['toggle']('hidden',!_0x3e71f3[_0x3a7063(0x553)]);},document['getElementById'](_0x2e9512(0xbf0))['checked']=_0x2a34b9[_0x2e9512(0x865)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x4d7b3f),listenForProjectQuizzes(_0x4d7b3f),listenForStudentProfiles(_0x4d7b3f);}else showMessage('ไม่พบโปรเจค'),showView(_0x2e9512(0x148));}async function handleResetProjectOrder(){const _0x91e380=_0x44691e,_0x2597e2=doc(db,_0x91e380(0x2bd),'dashboardConfig');try{await setDoc(_0x2597e2,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x91e380(0x1b7));}catch(_0xdf748b){console[_0x91e380(0x723)](_0x91e380(0x873),_0xdf748b),showMessage(_0x91e380(0xa62));}}async function handleTogglePinProject(_0x20ea21){const _0x471ae4=_0x44691e;if(!_0x20ea21)return;const _0x390279=doc(db,_0x471ae4(0x1c4)+appId+_0x471ae4(0x6b6),_0x20ea21);try{const _0x554830=await getDoc(_0x390279);if(_0x554830[_0x471ae4(0x72f)]()){const _0xf4efb7=_0x554830[_0x471ae4(0x2a7)]()[_0x471ae4(0xaee)]||![];await updateDoc(_0x390279,{'isPinned':!_0xf4efb7});}}catch(_0x2e424a){console['error']('Error\x20toggling\x20pin\x20status:',_0x2e424a),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x3f8695){const _0xabc195=_0x44691e;try{const _0x25b5f2=writeBatch(db),_0x312f69=collection(db,_0xabc195(0x1c4)+appId+_0xabc195(0x1fa)),_0x79de2a=query(_0x312f69,where(_0xabc195(0x370),'==',_0x3f8695)),_0x291e28=await getDocs(_0x79de2a);for(const _0x3a84a9 of _0x291e28[_0xabc195(0xb1e)]){const _0x25081f=collection(db,_0xabc195(0x1c4)+appId+_0xabc195(0x7c5)+_0x3a84a9['id']+_0xabc195(0x8c6)),_0x109cf1=await getDocs(_0x25081f);_0x109cf1[_0xabc195(0xc74)](_0xcd07a8=>{const _0x5c885e=_0xabc195;_0x25b5f2['delete'](_0xcd07a8[_0x5c885e(0x995)]);}),_0x25b5f2['delete'](_0x3a84a9[_0xabc195(0x995)]);}const _0x323733=collection(db,_0xabc195(0x1c4)+appId+_0xabc195(0x945)+_0x3f8695+_0xabc195(0x68b)),_0x578f93=await getDocs(_0x323733);_0x578f93['forEach'](_0x530bdd=>{const _0x4c1fe9=_0xabc195;_0x25b5f2[_0x4c1fe9(0x6ce)](_0x530bdd[_0x4c1fe9(0x995)]);});const _0x23cae4=doc(db,_0xabc195(0x1c4)+appId+_0xabc195(0x6b6),_0x3f8695);_0x25b5f2[_0xabc195(0x6ce)](_0x23cae4),await _0x25b5f2['commit'](),showMessage(_0xabc195(0xcb3)),showView('admin-dashboard');}catch(_0xfbaf9e){console['error'](_0xabc195(0x720),_0xfbaf9e),showMessage(_0xabc195(0xb10));}}document[_0x44691e(0xcac)]('save-settings-btn')[_0x44691e(0x36e)]('click',async()=>{const _0x333ae1=_0x44691e;if(!currentProjectId)return;const _0x5cec5d={'defaultNumQuestions':parseInt(document[_0x333ae1(0xcac)](_0x333ae1(0xbd5))[_0x333ae1(0x1a0)]),'defaultNumChoices':parseInt(document[_0x333ae1(0xcac)](_0x333ae1(0xca6))[_0x333ae1(0x1a0)]),'defaultPassingScore':parseInt(document[_0x333ae1(0xcac)](_0x333ae1(0x623))['value']),'resultsDisplay':document['getElementById'](_0x333ae1(0xb77))[_0x333ae1(0x1a0)],'shuffleSetting':document['getElementById'](_0x333ae1(0x40f))[_0x333ae1(0x1a0)],'timerMode':document[_0x333ae1(0xcac)](_0x333ae1(0x45b))['value'],'timerDuration':parseInt(document['getElementById'](_0x333ae1(0x5f2))[_0x333ae1(0x1a0)]),'isConfidenceScoringEnabled':document[_0x333ae1(0xcac)](_0x333ae1(0xbf0))[_0x333ae1(0x553)],'confidenceMode':document[_0x333ae1(0xcac)](_0x333ae1(0x70f))['value']};try{const _0x516782=doc(db,_0x333ae1(0x1c4)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x516782,{'settings':_0x5cec5d}),showMessage(_0x333ae1(0x1a7));}catch(_0x4e0e33){console[_0x333ae1(0x723)](_0x333ae1(0x162),_0x4e0e33),showMessage(_0x333ae1(0xb93));}});function listenForStudents(_0x26bc47){const _0xe3c251=_0x44691e,_0x4d1f33=doc(db,_0xe3c251(0x1c4)+appId+'/public/data/projects',_0x26bc47);unsubscribeStudentsListener=onSnapshot(_0x4d1f33,_0x1fae41=>{const _0x2e8234=_0xe3c251;if(_0x1fae41[_0x2e8234(0x72f)]()){const _0x1a9b0d=_0x1fae41[_0x2e8234(0x2a7)]();currentProjectData=_0x1a9b0d,renderStudentList(_0x1a9b0d[_0x2e8234(0x81b)]||[]);}});}function renderStudentList(_0x45333a){const _0x21ab32=_0x44691e,_0x308fce=document[_0x21ab32(0xcac)]('delete-all-students-btn');_0x45333a[_0x21ab32(0x8b4)]===0x0?(studentList[_0x21ab32(0x64a)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x308fce['classList'][_0x21ab32(0x174)](_0x21ab32(0xb2f))):(studentList[_0x21ab32(0x64a)]=_0x45333a['map'](_0x133abd=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x133abd+_0x21ab32(0xc7a)+_0x133abd+_0x21ab32(0x2aa))[_0x21ab32(0xad6)](''),_0x308fce[_0x21ab32(0x534)][_0x21ab32(0x392)]('hidden'));}document[_0x44691e(0xcac)](_0x44691e(0x89e))['addEventListener'](_0x44691e(0x486),async()=>{const _0x50bd47=_0x44691e;if(!currentProjectId)return;const _0xa3d1f=document[_0x50bd47(0xcac)](_0x50bd47(0x48c)),_0x2a2a1e=_0xa3d1f['value']['trim']();if(!_0x2a2a1e){showMessage(_0x50bd47(0x64d));return;}const _0x8c9d2a=_0x2a2a1e[_0x50bd47(0x86e)]('\x0a')[_0x50bd47(0x39a)](_0x1cf2ef=>_0x1cf2ef[_0x50bd47(0x5a4)]())['filter'](_0x2e6982=>_0x2e6982);if(_0x8c9d2a['length']===0x0)return;try{const _0x3a07f0=doc(db,_0x50bd47(0x1c4)+appId+_0x50bd47(0x6b6),currentProjectId),_0x4a7a86=await getDoc(_0x3a07f0);if(_0x4a7a86[_0x50bd47(0x72f)]()){const _0x48a1c4=_0x4a7a86[_0x50bd47(0x2a7)]()[_0x50bd47(0x81b)]||[],_0x5ecd47=[...new Set([..._0x48a1c4,..._0x8c9d2a])];await updateDoc(_0x3a07f0,{'students':_0x5ecd47}),_0xa3d1f[_0x50bd47(0x1a0)]='';}}catch(_0xefc6c3){console['error'](_0x50bd47(0xc9e),_0xefc6c3),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x2ef8f1){const _0x4ae8eb=_0x44691e,_0x3cf63c=document[_0x4ae8eb(0xcac)](_0x4ae8eb(0x269)),_0x37c8b2=document[_0x4ae8eb(0xcac)](_0x4ae8eb(0x6a7)),_0x567da2=_0x3cf63c[_0x4ae8eb(0x909)]('h3'),_0x1891a7=document[_0x4ae8eb(0xcac)](_0x4ae8eb(0xa5d)),_0xda672c=document['getElementById'](_0x4ae8eb(0xa42));_0x567da2['textContent']=_0x4ae8eb(0xb9d),_0x37c8b2[_0x4ae8eb(0x64a)]='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x1891a7[_0x4ae8eb(0x20a)]='ยืนยันการจับคู่',_0x3cf63c[_0x4ae8eb(0x534)][_0x4ae8eb(0x392)](_0x4ae8eb(0xb2f));const _0x4e98ea=allQuizzes[_0x4ae8eb(0x686)](_0x557475=>_0x557475['id']!==_0x2ef8f1);_0x4e98ea[_0x4ae8eb(0x8b4)]===0x0?(_0x37c8b2[_0x4ae8eb(0x64a)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x1891a7[_0x4ae8eb(0x585)]=!![]):(_0x37c8b2[_0x4ae8eb(0x64a)]=_0x4ae8eb(0x479)+_0x4e98ea[_0x4ae8eb(0x39a)](_0x4f148f=>_0x4ae8eb(0x458)+_0x4f148f['id']+'\x22>'+_0x4f148f['topic']+_0x4ae8eb(0x61d))[_0x4ae8eb(0xad6)](''),_0x1891a7[_0x4ae8eb(0x585)]=![]);const _0x1b44ca=async()=>{const _0x8a05df=_0x4ae8eb,_0x15b53d=_0x37c8b2[_0x8a05df(0x1a0)];if(!_0x15b53d){showMessage(_0x8a05df(0x1b4));return;}_0x1891a7[_0x8a05df(0x585)]=!![],_0x1891a7[_0x8a05df(0x20a)]='กำลังจับคู่...';try{const _0x32223c=doc(db,_0x8a05df(0x1c4)+appId+'/public/data/quizzes',_0x2ef8f1),_0x35bd11=doc(db,_0x8a05df(0x1c4)+appId+_0x8a05df(0x1fa),_0x15b53d),_0x1ef1de=writeBatch(db);_0x1ef1de[_0x8a05df(0x626)](_0x32223c,{'pairedQuizId':_0x15b53d}),_0x1ef1de[_0x8a05df(0x626)](_0x35bd11,{'pairedQuizId':_0x2ef8f1}),await _0x1ef1de[_0x8a05df(0xae9)](),showMessage(_0x8a05df(0x277)),_0x3cf63c[_0x8a05df(0x534)][_0x8a05df(0x174)](_0x8a05df(0xb2f));}catch(_0x1392d0){console[_0x8a05df(0x723)]('Error\x20pairing\x20quizzes:',_0x1392d0),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x567da2[_0x8a05df(0x20a)]=_0x8a05df(0xb6f),_0x1891a7[_0x8a05df(0x20a)]='ย้าย',_0x1891a7[_0x8a05df(0x585)]=![],_0x1891a7[_0x8a05df(0x4c9)](_0x8a05df(0x486),_0x1b44ca),_0xda672c[_0x8a05df(0x4c9)](_0x8a05df(0x486),_0x3ae61f);}},_0x3ae61f=()=>{const _0x17f6a9=_0x4ae8eb;_0x3cf63c['classList'][_0x17f6a9(0x174)](_0x17f6a9(0xb2f)),_0x567da2[_0x17f6a9(0x20a)]=_0x17f6a9(0xb6f),_0x1891a7[_0x17f6a9(0x20a)]=_0x17f6a9(0xbe4),_0x1891a7[_0x17f6a9(0x4c9)](_0x17f6a9(0x486),_0x1b44ca),_0xda672c[_0x17f6a9(0x4c9)]('click',_0x3ae61f);};_0x1891a7['addEventListener']('click',_0x1b44ca),_0xda672c['addEventListener'](_0x4ae8eb(0x486),_0x3ae61f);}function handleDeleteStudent(_0x5cb931){const _0x253a36=_0x44691e;showConfirmation(_0x253a36(0x5f1)+_0x5cb931+_0x253a36(0x589),async()=>{const _0x69cda1=_0x253a36;if(!currentProjectId||!currentProjectData)return;const _0x1a2f9b=currentProjectData[_0x69cda1(0x81b)][_0x69cda1(0x686)](_0x4aa085=>_0x4aa085!==_0x5cb931);try{const _0x13684a=doc(db,_0x69cda1(0x1c4)+appId+_0x69cda1(0x6b6),currentProjectId),_0x50f46e=doc(db,_0x69cda1(0x1c4)+appId+_0x69cda1(0x945)+currentProjectId+_0x69cda1(0x68b),_0x5cb931),_0x4454aa=writeBatch(db);_0x4454aa[_0x69cda1(0x626)](_0x13684a,{'students':_0x1a2f9b}),_0x4454aa[_0x69cda1(0x6ce)](_0x50f46e),await _0x4454aa[_0x69cda1(0xae9)]();}catch(_0x5e03f2){console[_0x69cda1(0x723)](_0x69cda1(0x438),_0x5e03f2),showMessage(_0x69cda1(0x57a));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x2ab2=_0x3aeb;if(!currentProjectId)return;try{const _0x2e7fb0=doc(db,_0x2ab2(0x1c4)+appId+'/public/data/projects',currentProjectId),_0x592f1f=collection(db,_0x2ab2(0x1c4)+appId+_0x2ab2(0x945)+currentProjectId+_0x2ab2(0x68b)),_0x530cc7=await getDocs(_0x592f1f),_0x2ad4ba=writeBatch(db);_0x2ad4ba[_0x2ab2(0x626)](_0x2e7fb0,{'students':[]}),_0x530cc7[_0x2ab2(0xc74)](_0x3623ba=>_0x2ad4ba['delete'](_0x3623ba[_0x2ab2(0x995)])),await _0x2ad4ba[_0x2ab2(0xae9)]();}catch(_0xf32cf0){console['error'](_0x2ab2(0x7b3),_0xf32cf0),showMessage(_0x2ab2(0x4f6));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x4c2ce4){const _0x1e0769=_0x44691e,_0x3fae9b=document[_0x1e0769(0xcac)](_0x1e0769(0x149)),_0x57006d=document['getElementById'](_0x1e0769(0xc25));_0x3fae9b[_0x1e0769(0x534)][_0x1e0769(0x392)]('hidden'),_0x57006d[_0x1e0769(0x64a)]=_0x1e0769(0x97d);try{const _0x4a5ee0=new FileReader();_0x4a5ee0[_0x1e0769(0xa65)](_0x4c2ce4),await new Promise((_0x2e50e8,_0x517e70)=>{const _0x1d8c47=_0x1e0769;_0x4a5ee0[_0x1d8c47(0x48f)]=()=>{const _0x33a42c=_0x1d8c47;fileDataBase64=_0x4a5ee0['result'][_0x33a42c(0x86e)](',')[0x1],fileMimeType=_0x4c2ce4[_0x33a42c(0x299)],_0x2e50e8();},_0x4a5ee0['onerror']=_0x1bc57a=>_0x517e70(_0x1bc57a);});if(!fileDataBase64)throw new Error('ไม่สามารถอ่านข้อมูลจากไฟล์ได้');const _0x1a57c9=_0x1e0769(0x858),_0x181f43={'type':_0x1e0769(0xc37),'properties':{'topics':{'type':_0x1e0769(0x542),'items':{'type':_0x1e0769(0xb46)}}},'required':['topics']},_0x565d50=[{'text':_0x1a57c9},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x4a68cd=await handleApiCall(_0x565d50,'กำลังวิเคราะห์หัวข้อ...',_0x181f43,null,![]);if(_0x4a68cd&&_0x4a68cd[_0x1e0769(0xc3e)])extractedFileTopics=_0x4a68cd[_0x1e0769(0xc3e)],renderFileTopics();else throw new Error(_0x1e0769(0xc5c));}catch(_0x214e88){console[_0x1e0769(0x723)]('Error\x20analyzing\x20file\x20for\x20topics:',_0x214e88),_0x57006d[_0x1e0769(0x64a)]=_0x1e0769(0xc3c)+_0x214e88['message']+_0x1e0769(0xb34);}}function renderFileTopics(){const _0x307bff=_0x44691e,_0x1aef97=document[_0x307bff(0xcac)]('file-topics-list');if(extractedFileTopics[_0x307bff(0x8b4)]===0x0){_0x1aef97['innerHTML']=_0x307bff(0x7c9);return;}_0x1aef97[_0x307bff(0x64a)]=extractedFileTopics[_0x307bff(0x39a)](_0x39356a=>_0x307bff(0x939)+_0x39356a+_0x307bff(0x8db)+escape(_0x39356a)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x39356a)+_0x307bff(0x796))[_0x307bff(0xad6)]('');}async function generateHybridQuizForTopic(_0xb7fdfc){const _0x115248=_0x44691e,_0x3a8db7=parseInt(document[_0x115248(0xcac)](_0x115248(0xbd5))[_0x115248(0x1a0)],0xa),_0x41281e=document[_0x115248(0xcac)](_0x115248(0x831))['value'],_0x53ae0b=document['getElementById']('num-choices')['value'],_0x45b557=document[_0x115248(0xcac)](_0x115248(0x38c))[_0x115248(0x553)],_0x514afb=_0x45b557?'สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22':_0x115248(0xbe8);let _0x4e7bc5='',_0x5c96a2;const _0x5ca5c9={'type':_0x115248(0xc37),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x115248(0x542),'items':{'type':_0x115248(0xb46)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x115248(0xb46)}},'required':['questionText',_0x115248(0xbd7),_0x115248(0x576),'explanation']},_0x5f0046={'type':_0x115248(0xc37),'properties':{'questionText':{'type':_0x115248(0xb46)},'correctAnswer':{'type':_0x115248(0x151)},'explanation':{'type':_0x115248(0xb46)},'imageCode':{'type':_0x115248(0xb46)}},'required':[_0x115248(0x83f),_0x115248(0x492),'explanation']},_0x16f18c={'type':_0x115248(0xc37),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x115248(0xb46)},'imageCode':{'type':_0x115248(0xb46)}},'required':[_0x115248(0x83f),'idealAnswer',_0x115248(0xb63)]},_0x4e8d4a={'type':_0x115248(0xc37),'properties':{'questionType':{'type':_0x115248(0xb46),'enum':[_0x115248(0xc00)]},'stem':{'type':_0x115248(0xb46)},'correctResponse':{'type':_0x115248(0xb46)},'allResponses':{'type':_0x115248(0x542),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x115248(0xb46)}},'required':[_0x115248(0xb42),'stem',_0x115248(0x964),_0x115248(0xa33),_0x115248(0xb63)]};switch(_0x41281e){case _0x115248(0xb47):_0x4e7bc5=_0x115248(0xafd)+_0x53ae0b+_0x115248(0xbd9),_0x5c96a2=_0x5ca5c9;break;case'true_false':_0x4e7bc5=_0x115248(0x2df),_0x5c96a2=_0x5f0046;break;case'fill_in_no_choices':_0x4e7bc5=_0x115248(0x765),_0x5c96a2=_0x16f18c;break;case _0x115248(0x57c):_0x4e7bc5='คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)',_0x5c96a2=_0x4e8d4a;break;case _0x115248(0x7cc):_0x4e7bc5=_0x115248(0xb4d)+_0x53ae0b+'\x20ตัวเลือก)',_0x5c96a2=_0x5ca5c9;break;default:_0x4e7bc5=_0x115248(0xafd)+_0x53ae0b+_0x115248(0xbd9),_0x5c96a2=_0x5ca5c9;break;}const _0x4c6763=_0x115248(0x719),_0x56916c=document[_0x115248(0xcac)]('loader'),_0x292a39=document[_0x115248(0xcac)](_0x115248(0x6eb)),_0x150afc=document[_0x115248(0xcac)](_0x115248(0x55b));document[_0x115248(0xcac)](_0x115248(0xc01))[_0x115248(0x534)][_0x115248(0x392)]('hidden'),_0x150afc[_0x115248(0x64a)]='',_0x56916c[_0x115248(0x534)]['remove'](_0x115248(0xb2f)),_0x292a39[_0x115248(0x20a)]=_0x115248(0x550)+_0xb7fdfc+_0x115248(0xba3)+_0x3a8db7+'\x20ข้อ...';try{const _0x5da47a=_0x115248(0x302),_0x155e73=_0x115248(0x5d2)+_0xb7fdfc+_0x115248(0x35f)+_0x3a8db7+_0x115248(0x780)+_0xb7fdfc+'\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20'+_0x3a8db7+'\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20'+_0x514afb+_0x115248(0x2b7)+_0x4e7bc5+_0x115248(0x5c0)+_0x4c6763+'**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5da47a+_0x115248(0xb0b)+simpleMathPrompt+_0x115248(0xbc2),_0x430634={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x115248(0x542),'items':_0x5c96a2}},'required':[_0x115248(0x180),_0x115248(0x8f1)]},_0x27955e=[{'text':_0x155e73},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x27955e,_0x115248(0x1ce)+_0xb7fdfc+_0x115248(0x5ed),_0x430634);}catch(_0x2f0616){console[_0x115248(0x723)](_0x115248(0x8b5),_0x2f0616),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2f0616[_0x115248(0xca0)]),_0x150afc[_0x115248(0x64a)]=_0x115248(0xc30);}finally{_0x56916c[_0x115248(0x534)]['add'](_0x115248(0xb2f));}}async function handleGenerateFromFileClick(){const _0xe7c8d9=_0x44691e;if(!selectedFile){showMessage(_0xe7c8d9(0x4b3));return;}const _0x192d1b=document[_0xe7c8d9(0xcac)](_0xe7c8d9(0x609)),_0x525a3a=document['getElementById']('loader-text'),_0x140e91=document[_0xe7c8d9(0xcac)](_0xe7c8d9(0x55b)),_0x10030c=document[_0xe7c8d9(0xcac)](_0xe7c8d9(0x6fe));_0x10030c[_0xe7c8d9(0x585)]=!![],document[_0xe7c8d9(0xcac)]('quiz-generation-area')[_0xe7c8d9(0x534)][_0xe7c8d9(0x392)](_0xe7c8d9(0xb2f)),_0x140e91[_0xe7c8d9(0x64a)]='',_0x192d1b[_0xe7c8d9(0x534)]['remove'](_0xe7c8d9(0xb2f)),_0x525a3a[_0xe7c8d9(0x20a)]=_0xe7c8d9(0xa35);try{const _0x21caa2=await new Promise((_0x4e74b6,_0x120637)=>{const _0x3bcbee=_0xe7c8d9,_0x2e9f26=new FileReader();_0x2e9f26[_0x3bcbee(0xa65)](selectedFile),_0x2e9f26[_0x3bcbee(0x48f)]=()=>_0x4e74b6(_0x2e9f26[_0x3bcbee(0x4d2)][_0x3bcbee(0x86e)](',')[0x1]),_0x2e9f26['onerror']=_0x46aba7=>_0x120637(_0x46aba7);});await generateQuizFromFile(selectedFile[_0xe7c8d9(0x299)],_0x21caa2);}catch(_0x4e951e){console[_0xe7c8d9(0x723)]('Error\x20processing\x20file\x20for\x20AI:',_0x4e951e),showMessage('เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20'+_0x4e951e['message']),_0x192d1b['classList'][_0xe7c8d9(0x174)](_0xe7c8d9(0xb2f)),_0x10030c[_0xe7c8d9(0x585)]=![];}}function autoFormatMath(_0x51f7e8){const _0x59fce9=_0x44691e;if(typeof _0x51f7e8!==_0x59fce9(0x61a)||!_0x51f7e8)return _0x51f7e8;const _0xe6c19e=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x39305d=_0x51f7e8[_0x59fce9(0x7ea)](_0xe6c19e,_0x2941e0=>{const _0x26d706=_0x59fce9;return'$'+_0x2941e0[_0x26d706(0x5a4)]()+'$';});return _0x39305d;}function sanitizeQuizData(_0x345a0d){const _0x5f0c51=_0x44691e;if(!_0x345a0d||!_0x345a0d[_0x5f0c51(0x8f1)])return _0x345a0d;const _0x420083={'imes':_0x5f0c51(0x681),'div':_0x5f0c51(0x96d)},_0x5005bd=_0x4339b8=>{const _0x4cc88b=_0x5f0c51;if(typeof _0x4339b8!==_0x4cc88b(0x61a))return _0x4339b8;let _0x170bcd=_0x4339b8;for(const [_0x41e8a6,_0x2acb5f]of Object[_0x4cc88b(0x823)](_0x420083)){const _0x440a52=new RegExp('\x5cb'+_0x41e8a6+'\x5cb','g');_0x170bcd=_0x170bcd['replace'](_0x440a52,_0x2acb5f);}return _0x170bcd=_0x170bcd[_0x4cc88b(0x7ea)](/\\\//g,_0x4cc88b(0x96d)),_0x170bcd=_0x170bcd[_0x4cc88b(0x7ea)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x4cc88b(0x96d))[_0x4cc88b(0x7ea)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x4cc88b(0x681))[_0x4cc88b(0x7ea)](/÷/g,_0x4cc88b(0x96d))[_0x4cc88b(0x7ea)](/×/g,'\x5ctimes'),_0x170bcd=_0x170bcd[_0x4cc88b(0x7ea)](/(\d)(\\frac)/g,_0x4cc88b(0x97a)),_0x170bcd=autoFormatMath(_0x170bcd),_0x170bcd;};return _0x345a0d['topic']&&(_0x345a0d[_0x5f0c51(0x180)]=_0x5005bd(_0x345a0d[_0x5f0c51(0x180)])),_0x345a0d[_0x5f0c51(0x8f1)][_0x5f0c51(0xc74)](_0x4842c9=>{const _0x14ab11=_0x5f0c51;_0x4842c9[_0x14ab11(0x83f)]=_0x5005bd(_0x4842c9[_0x14ab11(0x83f)]),_0x4842c9[_0x14ab11(0xbd7)]&&(_0x4842c9['options']=_0x4842c9['options'][_0x14ab11(0x39a)](_0x5005bd)),_0x4842c9[_0x14ab11(0xb63)]&&(_0x4842c9['explanation']=_0x5005bd(_0x4842c9[_0x14ab11(0xb63)])),_0x4842c9[_0x14ab11(0x388)]&&(_0x4842c9[_0x14ab11(0x388)]=_0x5005bd(_0x4842c9[_0x14ab11(0x388)])),_0x4842c9['correctResponse']&&(_0x4842c9[_0x14ab11(0x964)]=_0x5005bd(_0x4842c9[_0x14ab11(0x964)])),_0x4842c9[_0x14ab11(0xa33)]&&(_0x4842c9[_0x14ab11(0xa33)]=_0x4842c9[_0x14ab11(0xa33)]['map'](_0x5005bd));}),_0x345a0d;}const simpleMathPrompt=_0x44691e(0x1e4);async function handleGenerateFromLink(){const _0x3c181a=_0x44691e,_0x18e42d=document['getElementById']('link-url-input'),_0x396dda=document[_0x3c181a(0xcac)](_0x3c181a(0x933)),_0x5471df=_0x18e42d[_0x3c181a(0x1a0)][_0x3c181a(0x5a4)](),_0x19b280=_0x396dda[_0x3c181a(0x1a0)][_0x3c181a(0x5a4)]();if(!_0x5471df){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x542507=document['getElementById'](_0x3c181a(0x609)),_0x30ed9a=document['getElementById'](_0x3c181a(0x6eb)),_0x4af9c1=document[_0x3c181a(0xcac)](_0x3c181a(0x55b)),_0xee816b=document[_0x3c181a(0xcac)](_0x3c181a(0x9e8));document['getElementById'](_0x3c181a(0xc01))[_0x3c181a(0x534)]['remove'](_0x3c181a(0xb2f)),_0x4af9c1[_0x3c181a(0x64a)]='',_0x542507['classList'][_0x3c181a(0x392)]('hidden'),_0x30ed9a['textContent']=_0x3c181a(0x908),_0xee816b[_0x3c181a(0x585)]=!![];try{const _0x1fe6fb=_0x3c181a(0x6f7)+encodeURIComponent(_0x5471df),_0x7c41d6=await fetch(_0x1fe6fb);if(!_0x7c41d6['ok'])throw new Error(_0x3c181a(0x26c)+_0x7c41d6[_0x3c181a(0x507)]+')');const _0x5aeb80=await _0x7c41d6['text'](),_0x10d4ea=extractTextFromHtml(_0x5aeb80);if(!_0x10d4ea||_0x10d4ea[_0x3c181a(0x8b4)]<0x64)throw new Error(_0x3c181a(0x4ba));await generateQuiz(_0x19b280,_0x10d4ea);}catch(_0x74da55){console['error']('Error\x20generating\x20from\x20link:',_0x74da55),showMessage(_0x3c181a(0x40a)+_0x74da55[_0x3c181a(0xca0)]),_0x4af9c1[_0x3c181a(0x64a)]=_0x3c181a(0xad8);}finally{_0x542507[_0x3c181a(0x534)][_0x3c181a(0x174)](_0x3c181a(0xb2f)),_0xee816b['disabled']=![];}}function extractTextFromHtml(_0x6adad4){const _0x376524=_0x44691e,_0x2e825d=new DOMParser()['parseFromString'](_0x6adad4,_0x376524(0xac3));return _0x2e825d[_0x376524(0x32a)](_0x376524(0x85c))[_0x376524(0xc74)](_0x22ff0d=>_0x22ff0d[_0x376524(0x392)]()),_0x2e825d['body'][_0x376524(0x20a)]||'';}document[_0x44691e(0xcac)]('generate-from-topic-btn')[_0x44691e(0x36e)](_0x44691e(0x486),()=>{const _0x48fc28=_0x44691e,_0x4ee70e=document[_0x48fc28(0xcac)](_0x48fc28(0x31d))[_0x48fc28(0x1a0)][_0x48fc28(0x5a4)]();generateQuiz(_0x4ee70e,null);}),document[_0x44691e(0xcac)](_0x44691e(0x338))[_0x44691e(0x36e)](_0x44691e(0x486),()=>{const _0x5b0eba=_0x44691e,_0x173ee9=document[_0x5b0eba(0xcac)](_0x5b0eba(0xa03))['value'][_0x5b0eba(0x5a4)]();if(!_0x173ee9){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0x2a55f6=document['getElementById'](_0x5b0eba(0x31d))[_0x5b0eba(0x1a0)][_0x5b0eba(0x5a4)]();generateQuiz(_0x2a55f6,_0x173ee9);});async function generateQuiz(_0x50cdf0,_0x3a8dbf,_0x9104cb=null,_0x4af2eb=null,_0x345b81=![],_0x1c8771=null,_0x4a3a69=null,_0x5b4aa1=![]){const _0x171ba3=_0x44691e;let _0x47c985={};if(_0x345b81&&blueprintPageSettings)_0x47c985=blueprintPageSettings;else{const _0x369a7f=document[_0x171ba3(0x32a)](_0x171ba3(0x51e));_0x47c985={'quizType':document[_0x171ba3(0xcac)]('quiz-type-select')[_0x171ba3(0x1a0)],'numQuestions':document[_0x171ba3(0xcac)](_0x171ba3(0xbd5))['value'],'numChoices':document[_0x171ba3(0xcac)](_0x171ba3(0xca6))['value'],'includeImages':document[_0x171ba3(0xcac)](_0x171ba3(0x38c))[_0x171ba3(0x553)],'isNormalTopic':document['getElementById']('force-math-checkbox')[_0x171ba3(0x553)],'difficultyValue':document[_0x171ba3(0xcac)]('difficulty-level-select')[_0x171ba3(0x1a0)],'complexityValue':document[_0x171ba3(0xcac)]('question-complexity-select')[_0x171ba3(0x1a0)],'selectedTopicNames':Array[_0x171ba3(0xb61)](_0x369a7f)[_0x171ba3(0x39a)](_0x15a0f7=>_0x15a0f7['value'])};}const _0x4d9ce9=_0x47c985['isNormalTopic']?'':_0x171ba3(0x628),_0x6a02a2=_0x47c985['difficultyValue']!==_0x171ba3(0xb52)?_0x171ba3(0x8e1)+_0x47c985[_0x171ba3(0x841)]+'\x22':'',_0x16399a=_0x47c985['complexityValue']!==_0x171ba3(0x76a)?_0x171ba3(0xcc8)+_0x47c985[_0x171ba3(0x5ce)]+_0x171ba3(0x810):'';let _0x4e2f55='';_0x47c985[_0x171ba3(0x159)]&&_0x47c985[_0x171ba3(0x159)][_0x171ba3(0x8b4)]>0x0&&(_0x4e2f55='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x47c985[_0x171ba3(0x159)][_0x171ba3(0xad6)](',\x20')+'.');let _0x2fd853='';_0x4af2eb&&(_0x2fd853=_0x171ba3(0x736));let _0x86e540='',_0x45899d='',_0x2d4a26,_0x5d6e99=_0x171ba3(0x8e8)+_0x50cdf0+'\x22';if(!_0x50cdf0&&_0x3a8dbf)_0x5d6e99=_0x171ba3(0x627);else!_0x50cdf0&&!_0x3a8dbf&&(_0x5d6e99='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x15c89e={'type':_0x171ba3(0xc37),'properties':{'questionText':{'type':_0x171ba3(0xb46)},'options':{'type':_0x171ba3(0x542),'items':{'type':_0x171ba3(0xb46)}},'correctAnswerIndex':{'type':_0x171ba3(0x283)},'explanation':{'type':_0x171ba3(0xb46)},'imageCode':{'type':'STRING'}},'required':[_0x171ba3(0x83f),'options','correctAnswerIndex','explanation']},_0x4a18a4={'type':'OBJECT','properties':{'questionText':{'type':_0x171ba3(0xb46)},'idealAnswer':{'type':_0x171ba3(0xb46)},'explanation':{'type':_0x171ba3(0xb46)},'imageCode':{'type':'STRING'}},'required':[_0x171ba3(0x83f),_0x171ba3(0x4a7),'explanation']},_0x51e97a={'type':_0x171ba3(0xc37),'properties':{'questionText':{'type':_0x171ba3(0xb46)},'questionType':{'type':_0x171ba3(0xb46),'enum':['multiple_choice',_0x171ba3(0x982)]},'options':{'type':_0x171ba3(0x542),'items':{'type':_0x171ba3(0xb46)}},'correctAnswerIndex':{'type':_0x171ba3(0x283)},'idealAnswer':{'type':_0x171ba3(0xb46)},'explanation':{'type':_0x171ba3(0xb46)},'imageCode':{'type':_0x171ba3(0xb46)}},'required':[_0x171ba3(0x83f),'questionType',_0x171ba3(0xb63)]},_0x5d5179={'type':'OBJECT','properties':{'questionText':{'type':_0x171ba3(0xb46)},'correctAnswer':{'type':_0x171ba3(0x151)},'explanation':{'type':_0x171ba3(0xb46)},'imageCode':{'type':_0x171ba3(0xb46)}},'required':['questionText','correctAnswer',_0x171ba3(0xb63)]},_0x25421e={'type':_0x171ba3(0xc37),'properties':{'questionType':{'type':'STRING','enum':[_0x171ba3(0xc00)]},'stem':{'type':_0x171ba3(0xb46)},'correctResponse':{'type':_0x171ba3(0xb46)},'allResponses':{'type':_0x171ba3(0x542),'items':{'type':'STRING'}},'explanation':{'type':_0x171ba3(0xb46)},'imageCode':{'type':_0x171ba3(0xb46)}},'required':[_0x171ba3(0xb42),_0x171ba3(0x388),_0x171ba3(0x964),_0x171ba3(0xa33),_0x171ba3(0xb63)]};let _0xf37c1f;if(_0x9104cb!==null){const _0x1ae0b5=currentQuizData[_0x171ba3(0x8f1)][_0x9104cb][_0x171ba3(0xb42)],_0x22fab1=_0x47c985['includeImages']?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x86e540='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0x5d6e99+'\x20'+_0x4e2f55+'\x20'+_0x6a02a2+_0x171ba3(0xbca)+_0x22fab1+'\x20'+simpleMathPrompt;if(_0x1ae0b5===_0x171ba3(0xb47))_0x2d4a26=_0x15c89e;else{if(_0x1ae0b5===_0x171ba3(0xc00))_0x2d4a26={'type':_0x171ba3(0xc37),'properties':{'questionType':{'type':'STRING','enum':[_0x171ba3(0xc00)]},'stem':{'type':_0x171ba3(0xb46)},'correctResponse':{'type':_0x171ba3(0xb46)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x171ba3(0xb46)}},'required':[_0x171ba3(0xb42),_0x171ba3(0x388),_0x171ba3(0x964),'explanation']};else _0x2d4a26=_0x4a18a4;}_0xf37c1f=_0x2d4a26;}else{const _0x4e8a84=_0x47c985['includeImages']?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x47c985[_0x171ba3(0x196)]){case _0x171ba3(0xb47):_0x86e540=_0x171ba3(0x468)+_0x4d9ce9+'\x20'+_0x47c985[_0x171ba3(0xc58)]+_0x171ba3(0x498)+_0x5d6e99+'\x20'+_0x4e2f55+'\x20'+_0x6a02a2+'\x20'+_0x16399a+'\x20'+_0x2fd853+_0x171ba3(0xadb)+_0x47c985['numChoices']+_0x171ba3(0x4d6)+_0x4e8a84+'\x20'+simpleMathPrompt,_0x2d4a26=_0x15c89e;break;case'fill_in_with_choices':_0x86e540='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x4d9ce9+'\x20'+_0x47c985['numQuestions']+'\x20ข้อ\x20'+_0x5d6e99+'\x20'+_0x4e2f55+'\x20'+_0x6a02a2+'\x20'+_0x16399a+'\x20'+_0x2fd853+_0x171ba3(0xa81)+_0x47c985[_0x171ba3(0x8a5)]+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x4e8a84+'\x20'+simpleMathPrompt,_0x2d4a26=_0x15c89e;break;case _0x171ba3(0x1ec):_0x86e540=_0x171ba3(0x4a6)+_0x4d9ce9+'\x20'+_0x47c985[_0x171ba3(0xc58)]+_0x171ba3(0x498)+_0x5d6e99+'\x20'+_0x4e2f55+'\x20'+_0x6a02a2+'\x20'+_0x16399a+'\x20'+_0x2fd853+_0x171ba3(0x86f)+_0x4e8a84+'\x20'+simpleMathPrompt,_0x2d4a26=_0x4a18a4;break;case _0x171ba3(0x76a):_0x86e540=_0x171ba3(0x594)+_0x4d9ce9+'\x20'+_0x47c985[_0x171ba3(0xc58)]+_0x171ba3(0x498)+_0x5d6e99+'\x20'+_0x4e2f55+'\x20'+_0x6a02a2+'\x20'+_0x16399a+'\x20'+_0x2fd853+_0x171ba3(0x81d)+_0x47c985[_0x171ba3(0x8a5)]+_0x171ba3(0x4d9)+_0x4e8a84+'\x20'+simpleMathPrompt+'.',_0x2d4a26=_0x51e97a;break;case _0x171ba3(0x9c3):_0x86e540=_0x171ba3(0x67a)+_0x4d9ce9+'\x20'+_0x47c985['numQuestions']+'\x20ข้อ\x20'+_0x5d6e99+'\x20'+_0x4e2f55+'\x20'+_0x6a02a2+'\x20'+_0x16399a+'\x20'+_0x2fd853+_0x171ba3(0x41e)+_0x4e8a84+'\x20'+simpleMathPrompt,_0x2d4a26=_0x5d5179;break;case'matching':_0x86e540=_0x171ba3(0x2ba)+_0x4d9ce9+'\x20'+_0x47c985[_0x171ba3(0xc58)]+_0x171ba3(0x7a3)+_0x5d6e99+'\x20'+_0x4e2f55+'\x20'+_0x6a02a2+'\x20'+_0x16399a+'\x20'+_0x2fd853+_0x171ba3(0x882)+_0x4e8a84+'\x20'+simpleMathPrompt,_0x2d4a26=_0x25421e;break;}_0xf37c1f={'type':_0x171ba3(0xc37),'properties':{'topic':{'type':_0x171ba3(0xb46)},'questions':{'type':'ARRAY','items':_0x2d4a26}},'required':[_0x171ba3(0x180),_0x171ba3(0x8f1)]};}const _0x53b611=_0x171ba3(0x28f);_0x3a8dbf?(_0x5b4aa1?_0x86e540=_0x171ba3(0x590)+_0x3a8dbf+_0x171ba3(0x2c5)+_0x86e540+_0x53b611:_0x86e540=_0x171ba3(0x590)+_0x3a8dbf+_0x171ba3(0x2c5)+_0x86e540,_0x45899d=_0x171ba3(0x6a9)):(_0x5b4aa1&&(_0x86e540+=_0x53b611),_0x45899d=_0x171ba3(0x255));let _0x15a98b;return _0x4af2eb?(_0x15a98b=[{'text':_0x86e540},..._0x4af2eb],_0x45899d=_0x171ba3(0x5ee)):_0x15a98b=_0x86e540,handleApiCall(_0x15a98b,_0x45899d,_0xf37c1f,_0x9104cb,!![],_0x1c8771,_0x4a3a69);}async function generateQuizFromFile(_0x271a66,_0x385197){const _0x2f8c57=_0x44691e,_0x52a0e3=document[_0x2f8c57(0xcac)](_0x2f8c57(0xa7e))[_0x2f8c57(0x1a0)]['trim'](),_0xea39c6=document[_0x2f8c57(0xcac)]('quiz-type-select')[_0x2f8c57(0x1a0)],_0x22fdb5=document[_0x2f8c57(0xcac)](_0x2f8c57(0xbd5))[_0x2f8c57(0x1a0)],_0x2f016b=document[_0x2f8c57(0xcac)](_0x2f8c57(0xca6))[_0x2f8c57(0x1a0)],_0x16ad72=document[_0x2f8c57(0xcac)]('include-images-checkbox')['checked'],_0x5e3ffd=document['getElementById'](_0x2f8c57(0x70b))[_0x2f8c57(0x553)],_0xb88709=_0x5e3ffd?'':_0x2f8c57(0x628),_0x4310ff=document[_0x2f8c57(0xcac)](_0x2f8c57(0xc8b))[_0x2f8c57(0x553)];let _0x4df48d='',_0x5499c5;const _0x4a2539=_0x16ad72?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0x4310ff)_0x4df48d=_0x2f8c57(0x58b)+_0x4a2539+'\x0a'+simpleMathPrompt+'\x0a',_0x5499c5={'type':_0x2f8c57(0xc37),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x2f8c57(0xb47),'short_answer',_0x2f8c57(0x9c3),_0x2f8c57(0xc00)]},'options':{'type':_0x2f8c57(0x542),'items':{'type':_0x2f8c57(0xb46)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x2f8c57(0xb46)},'correctAnswer':{'type':_0x2f8c57(0x151)},'stem':{'type':'STRING'},'correctResponse':{'type':_0x2f8c57(0xb46)},'allResponses':{'type':_0x2f8c57(0x542),'items':{'type':'STRING'}},'explanation':{'type':_0x2f8c57(0xb46)},'imageCode':{'type':_0x2f8c57(0xb46)}},'required':[_0x2f8c57(0xb42),'explanation']};else{let _0x2fd501=_0x2f8c57(0x8e8)+_0x52a0e3+'\x22';!_0x52a0e3&&(_0x2fd501=_0x2f8c57(0x40d));switch(_0xea39c6){case _0x2f8c57(0xb47):_0x4df48d=_0x2f8c57(0x468)+_0xb88709+'\x20'+_0x22fdb5+_0x2f8c57(0x498)+_0x2fd501+_0x2f8c57(0xadb)+_0x2f016b+_0x2f8c57(0x4d6)+_0x4a2539+'\x20'+simpleMathPrompt,_0x5499c5={'type':_0x2f8c57(0xc37),'properties':{'questionText':{'type':_0x2f8c57(0xb46)},'options':{'type':_0x2f8c57(0x542),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x2f8c57(0xb46)},'imageCode':{'type':_0x2f8c57(0xb46)}},'required':[_0x2f8c57(0x83f),_0x2f8c57(0xbd7),_0x2f8c57(0x576),_0x2f8c57(0xb63)]};break;case _0x2f8c57(0x7cc):_0x4df48d=_0x2f8c57(0x4a6)+_0xb88709+'\x20'+_0x22fdb5+_0x2f8c57(0x498)+_0x2fd501+_0x2f8c57(0xa81)+_0x2f016b+_0x2f8c57(0x889)+_0x4a2539+'\x20'+simpleMathPrompt,_0x5499c5={'type':'OBJECT','properties':{'questionText':{'type':_0x2f8c57(0xb46)},'options':{'type':_0x2f8c57(0x542),'items':{'type':_0x2f8c57(0xb46)}},'correctAnswerIndex':{'type':_0x2f8c57(0x283)},'explanation':{'type':_0x2f8c57(0xb46)},'imageCode':{'type':_0x2f8c57(0xb46)}},'required':['questionText','options','correctAnswerIndex',_0x2f8c57(0xb63)]};break;case _0x2f8c57(0x1ec):_0x4df48d=_0x2f8c57(0x4a6)+_0xb88709+'\x20'+_0x22fdb5+_0x2f8c57(0x498)+_0x2fd501+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20'+_0x4a2539+'\x20'+simpleMathPrompt,_0x5499c5={'type':_0x2f8c57(0xc37),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x2f8c57(0xb46)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2f8c57(0xb46)}},'required':[_0x2f8c57(0x83f),_0x2f8c57(0x4a7),'explanation']};break;case _0x2f8c57(0x76a):_0x4df48d=_0x2f8c57(0x594)+_0xb88709+'\x20'+_0x22fdb5+_0x2f8c57(0x498)+_0x2fd501+_0x2f8c57(0x9eb)+_0x2f016b+'\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20'+_0x4a2539+'\x20'+simpleMathPrompt+_0x2f8c57(0xc7e),_0x5499c5={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x2f8c57(0xb47),_0x2f8c57(0x982)]},'options':{'type':'ARRAY','items':{'type':_0x2f8c57(0xb46)}},'correctAnswerIndex':{'type':_0x2f8c57(0x283)},'idealAnswer':{'type':_0x2f8c57(0xb46)},'explanation':{'type':_0x2f8c57(0xb46)},'imageCode':{'type':_0x2f8c57(0xb46)}},'required':[_0x2f8c57(0x83f),_0x2f8c57(0xb42),_0x2f8c57(0xb63)]};break;case _0x2f8c57(0x9c3):_0x4df48d=_0x2f8c57(0x67a)+_0xb88709+'\x20'+_0x22fdb5+_0x2f8c57(0x498)+_0x2fd501+_0x2f8c57(0x544)+_0x4a2539+'\x20'+simpleMathPrompt,_0x5499c5={'type':_0x2f8c57(0xc37),'properties':{'questionText':{'type':_0x2f8c57(0xb46)},'correctAnswer':{'type':_0x2f8c57(0x151)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2f8c57(0xb46)}},'required':['questionText','correctAnswer',_0x2f8c57(0xb63)]};break;case _0x2f8c57(0x57c):_0x4df48d=_0x2f8c57(0x2ba)+_0xb88709+'\x20'+_0x22fdb5+'\x20คู่\x20'+_0x2fd501+_0x2f8c57(0xacf)+_0x22fdb5+_0x2f8c57(0x9f9)+_0x4a2539+'\x20'+simpleMathPrompt,_0x5499c5={'type':_0x2f8c57(0xc37),'properties':{'questionType':{'type':_0x2f8c57(0xb46),'enum':['matching_item']},'stem':{'type':_0x2f8c57(0xb46)},'correctResponse':{'type':_0x2f8c57(0xb46)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x2f8c57(0xb46)},'imageCode':{'type':'STRING'}},'required':['questionType','stem',_0x2f8c57(0x964),'allResponses',_0x2f8c57(0xb63)]};break;}}const _0x4ab037={'type':_0x2f8c57(0xc37),'properties':{'topic':{'type':_0x2f8c57(0xb46)},'questions':{'type':_0x2f8c57(0x542),'items':_0x5499c5}},'required':[_0x2f8c57(0x180),_0x2f8c57(0x8f1)]},_0x10bc27='จากไฟล์ที่แนบมานี้,\x20'+_0x4df48d,_0x4eb02d={'contents':[{'parts':[{'text':_0x10bc27},{'inlineData':{'mimeType':_0x271a66,'data':_0x385197}}]}],'generationConfig':{'responseMimeType':_0x2f8c57(0xa2c),'responseSchema':_0x4ab037}};return handleApiCall(_0x4eb02d['contents'][0x0][_0x2f8c57(0x6db)],_0x2f8c57(0x33f),_0x4ab037);}async function handleApiCall(_0x409ce8,_0x1577aa,_0x24ee5d,_0x204cbc=null,_0x573f8a=!![],_0x228cb0=null,_0xbed4ec=null){const _0x2a9a60=_0x44691e,_0x57d8bd=document['getElementById'](_0x2a9a60(0xc01)),_0x7a672f=document[_0x2a9a60(0xcac)](_0x2a9a60(0x609)),_0x4178a6=document[_0x2a9a60(0xcac)]('loader-text'),_0x11211c=document['getElementById'](_0x2a9a60(0x55b));_0x57d8bd['classList'][_0x2a9a60(0x392)](_0x2a9a60(0xb2f));_0x204cbc===null&&_0x573f8a&&(_0x11211c[_0x2a9a60(0x64a)]='');_0x7a672f['classList'][_0x2a9a60(0x392)]('hidden'),_0x4178a6[_0x2a9a60(0x20a)]=_0x1577aa,document[_0x2a9a60(0xcac)](_0x2a9a60(0xa88))[_0x2a9a60(0x585)]=!![],document['getElementById'](_0x2a9a60(0x338))[_0x2a9a60(0x585)]=!![],document[_0x2a9a60(0xcac)](_0x2a9a60(0x9e8))[_0x2a9a60(0x585)]=!![];const _0x190204=document[_0x2a9a60(0xcac)]('generate-from-file-btn');if(_0x190204)_0x190204[_0x2a9a60(0x585)]=!![];const _0x192d35=document[_0x2a9a60(0xcac)](_0x2a9a60(0xbe5));if(_0x192d35)_0x192d35['disabled']=!![];const _0x30714d=document[_0x2a9a60(0xcac)](_0x2a9a60(0x8a3));if(_0x30714d)_0x30714d[_0x2a9a60(0x585)]=!![];try{const _0x560dfd=Array[_0x2a9a60(0x630)](_0x409ce8)?_0x409ce8:[{'text':_0x409ce8}],_0x21ed0c={'contents':[{'role':_0x2a9a60(0x415),'parts':_0x560dfd}]};_0x24ee5d&&(_0x21ed0c[_0x2a9a60(0xc1a)]={'responseMimeType':_0x2a9a60(0xa2c),'responseSchema':_0x24ee5d});const _0x5c2ac9='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x2642ee='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x5c2ac9,_0x435a14=await fetch(_0x2642ee,{'method':_0x2a9a60(0x4af),'headers':{'Content-Type':_0x2a9a60(0xa2c)},'body':JSON[_0x2a9a60(0xae8)](_0x21ed0c)});if(!_0x435a14['ok']){const _0x299ba1=await _0x435a14[_0x2a9a60(0x18b)]();console[_0x2a9a60(0x723)](_0x2a9a60(0x502),_0x299ba1);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x435a14[_0x2a9a60(0x507)]);}const _0x33bd18=await _0x435a14[_0x2a9a60(0xb8e)]();if(!_0x33bd18[_0x2a9a60(0x31a)]||_0x33bd18[_0x2a9a60(0x31a)]['length']===0x0){let _0x53e45c=_0x2a9a60(0x9cd);return _0x33bd18[_0x2a9a60(0x399)]?.['blockReason']&&(_0x53e45c=_0x2a9a60(0x579)+_0x33bd18[_0x2a9a60(0x399)][_0x2a9a60(0xbb1)]+'.'),console[_0x2a9a60(0x723)](_0x53e45c,JSON[_0x2a9a60(0xae8)](_0x33bd18)),null;}const _0x1193d6=_0x33bd18['candidates'][0x0][_0x2a9a60(0x951)][_0x2a9a60(0x6db)][0x0][_0x2a9a60(0x18b)];if(_0x24ee5d){let _0x14a740=_0x1193d6;if(_0x14a740[_0x2a9a60(0x465)](_0x2a9a60(0xb2b)))_0x14a740=_0x14a740[_0x2a9a60(0xb57)](0x7,_0x14a740[_0x2a9a60(0x8b4)]-0x3)['trim']();else _0x14a740[_0x2a9a60(0x465)](_0x2a9a60(0xa8f))&&(_0x14a740=_0x14a740['substring'](0x3,_0x14a740[_0x2a9a60(0x8b4)]-0x3)[_0x2a9a60(0x5a4)]());let _0x44a14e=JSON[_0x2a9a60(0x92d)](_0x14a740);if(_0x573f8a){if(_0x204cbc!==null){}else currentQuizData=_0x44a14e,displayGeneratedQuiz(currentQuizData,_0x228cb0,_0xbed4ec);}return _0x44a14e;}else return _0x1193d6;}catch(_0x52a319){console['error'](_0x2a9a60(0xaaf),_0x52a319),showMessage(_0x2a9a60(0xb71)+_0x52a319[_0x2a9a60(0xca0)]);_0x573f8a&&(_0x11211c[_0x2a9a60(0x64a)]=_0x2a9a60(0x644));throw _0x52a319;}finally{_0x7a672f[_0x2a9a60(0x534)]['add'](_0x2a9a60(0xb2f)),document['getElementById'](_0x2a9a60(0xa88))[_0x2a9a60(0x585)]=![],document[_0x2a9a60(0xcac)](_0x2a9a60(0x338))[_0x2a9a60(0x585)]=![],document[_0x2a9a60(0xcac)](_0x2a9a60(0x9e8))[_0x2a9a60(0x585)]=![];if(_0x190204)_0x190204[_0x2a9a60(0x585)]=![];if(_0x192d35)_0x192d35[_0x2a9a60(0x585)]=![];if(_0x30714d)_0x30714d[_0x2a9a60(0x585)]=![];}}function exitFullscreen(){const _0x4348bb=_0x44691e;if(document[_0x4348bb(0xbbf)])document[_0x4348bb(0xbbf)]()['catch'](_0x5c9678=>console[_0x4348bb(0x723)](_0x5c9678));else{if(document[_0x4348bb(0xa64)])document[_0x4348bb(0xa64)]();else document[_0x4348bb(0x49d)]&&document[_0x4348bb(0x49d)]();}}function enterFullscreen(){const _0x8001eb=_0x44691e,_0x28f1d8=document['documentElement'];if(_0x28f1d8[_0x8001eb(0x419)])_0x28f1d8[_0x8001eb(0x419)]()[_0x8001eb(0xa8b)](_0x1ba592=>{const _0xc048eb=_0x8001eb;console[_0xc048eb(0x723)](_0xc048eb(0x22a)+_0x1ba592['message']+'\x20('+_0x1ba592[_0xc048eb(0x8c8)]+')');});else{if(_0x28f1d8[_0x8001eb(0x397)])_0x28f1d8[_0x8001eb(0x397)]();else _0x28f1d8['msRequestFullscreen']&&_0x28f1d8[_0x8001eb(0x8c0)]();}}function handleCheatingEvent(){const _0x55b04d=_0x44691e;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x55b04d(0x697),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x55b04d(0x1e0)+maxCheatAttempts+_0x55b04d(0x75f)),document[_0x55b04d(0xcac)](_0x55b04d(0xbbd))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x55b04d(0x743),handleVisibilityChange),document['removeEventListener'](_0x55b04d(0x68e),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x55b04d(0xad0),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x3d6a16=_0x44691e;if(currentMode===_0x3d6a16(0x87b)||!isQuizActive)return;if(document[_0x3d6a16(0x1ac)]===_0x3d6a16(0xb2f))handleCheatingEvent();else document[_0x3d6a16(0x1ac)]===_0x3d6a16(0x7ee)&&(console[_0x3d6a16(0x18c)](_0x3d6a16(0x7ed)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x4433d3=_0x44691e;if(currentMode===_0x4433d3(0x87b)||!isQuizActive)return;!document[_0x4433d3(0x45d)]&&handleCheatingEvent();}function _0x3aeb(_0x3d520a,_0x350a05){const _0x1215d5=_0x1215();return _0x3aeb=function(_0x3aebcc,_0x5086e4){_0x3aebcc=_0x3aebcc-0x144;let _0x8b1327=_0x1215d5[_0x3aebcc];return _0x8b1327;},_0x3aeb(_0x3d520a,_0x350a05);}function displayGeneratedQuiz(_0x5a7524,_0xf014a0=null,_0xa5e408=null){const _0x34edb1=_0x44691e,_0x2002f9=document[_0x34edb1(0xcac)]('generated-quiz-container');let _0x48fb41=_0x34edb1(0x381)+_0x5a7524[_0x34edb1(0x180)]+_0x34edb1(0x9df);_0x5a7524[_0x34edb1(0x8f1)][_0x34edb1(0xc74)]((_0x5ae31d,_0x51a97c)=>{const _0x220e0f=_0x34edb1;!_0x5ae31d['id']&&(_0x5ae31d['id']='q_'+Date['now']()+'_'+_0x51a97c);const _0x16bc25=_0x5ae31d[_0x220e0f(0xb42)]||_0x5a7524[_0x220e0f(0x196)];_0x48fb41+=_0x220e0f(0x605)+_0x51a97c+_0x220e0f(0xab5)+_0x51a97c+_0x220e0f(0x1f7)+_0x51a97c+_0x220e0f(0x2bb);switch(_0x16bc25){case'matching_item':_0x48fb41+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x51a97c+'\x22>'+(_0x51a97c+0x1)+'.\x20'+_0x5ae31d[_0x220e0f(0x388)]+_0x220e0f(0xb34);_0x5ae31d[_0x220e0f(0x65a)]&&(_0x48fb41+=_0x220e0f(0x920)+_0x51a97c+_0x220e0f(0x5ec)+_0x5ae31d[_0x220e0f(0x65a)]+'</div>');_0x48fb41+=_0x220e0f(0x291)+_0x51a97c+'\x22>'+_0x5ae31d[_0x220e0f(0x964)]+'</span></div>',_0x48fb41+=_0x220e0f(0x822)+_0x51a97c+'\x22>'+_0x5ae31d['explanation']+_0x220e0f(0xad2);break;case'short_answer':_0x48fb41+=_0x220e0f(0x966)+_0x51a97c+'\x22>'+(_0x51a97c+0x1)+'.\x20'+_0x5ae31d[_0x220e0f(0x83f)]+'</p>';_0x5ae31d[_0x220e0f(0x65a)]&&(_0x48fb41+=_0x220e0f(0x920)+_0x51a97c+_0x220e0f(0x5ec)+_0x5ae31d[_0x220e0f(0x65a)]+_0x220e0f(0xbeb));_0x48fb41+=_0x220e0f(0x4b4)+_0x51a97c+'\x22>'+_0x5ae31d[_0x220e0f(0x4a7)]+_0x220e0f(0xad2),_0x48fb41+=_0x220e0f(0x822)+_0x51a97c+'\x22>'+_0x5ae31d['explanation']+_0x220e0f(0xad2);break;case _0x220e0f(0x9c3):_0x48fb41+=_0x220e0f(0x966)+_0x51a97c+'\x22>'+(_0x51a97c+0x1)+'.\x20'+_0x5ae31d['questionText']+_0x220e0f(0xb34);_0x5ae31d['imageCode']&&(_0x48fb41+=_0x220e0f(0x920)+_0x51a97c+_0x220e0f(0x5ec)+_0x5ae31d[_0x220e0f(0x65a)]+'</div>');_0x48fb41+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x5ae31d[_0x220e0f(0x492)]===!![]?_0x220e0f(0x4e3):'')+_0x220e0f(0x886)+(_0x5ae31d[_0x220e0f(0x492)]===![]?_0x220e0f(0x4e3):'')+_0x220e0f(0x5e4),_0x48fb41+=_0x220e0f(0x822)+_0x51a97c+'\x22>'+_0x5ae31d[_0x220e0f(0xb63)]+_0x220e0f(0xad2);break;case _0x220e0f(0x53a):case'multiple_choice':default:_0x48fb41+=_0x220e0f(0x966)+_0x51a97c+'\x22>'+(_0x51a97c+0x1)+'.\x20'+_0x5ae31d[_0x220e0f(0x83f)]+'</p>';_0x5ae31d[_0x220e0f(0x65a)]&&(_0x48fb41+=_0x220e0f(0x920)+_0x51a97c+_0x220e0f(0x5ec)+_0x5ae31d[_0x220e0f(0x65a)]+_0x220e0f(0xbeb));_0x48fb41+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x51a97c+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5ae31d[_0x220e0f(0xbd7)]||[])['map']((_0xe401da,_0xe608ae)=>_0x220e0f(0x559)+(_0xe608ae===_0x5ae31d[_0x220e0f(0x576)]?_0x220e0f(0x4e3):'')+'\x22>'+_0xe401da+_0x220e0f(0x62a))[_0x220e0f(0xad6)]('')+_0x220e0f(0x202),_0x48fb41+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x51a97c+'\x22>'+_0x5ae31d[_0x220e0f(0xb63)]+_0x220e0f(0xad2);break;}_0x48fb41+=_0x220e0f(0xbeb);}),_0x48fb41+=_0x34edb1(0xa15),_0x2002f9['innerHTML']=_0x48fb41,document[_0x34edb1(0x32a)]('.edit-question-btn')['forEach'](_0x4a2565=>_0x4a2565['addEventListener'](_0x34edb1(0x486),handleEditQuestion)),document[_0x34edb1(0x32a)](_0x34edb1(0x375))[_0x34edb1(0xc74)](_0x492502=>_0x492502[_0x34edb1(0x36e)](_0x34edb1(0x486),handleRegenerateQuestion)),document[_0x34edb1(0xcac)](_0x34edb1(0x98e))[_0x34edb1(0x36e)](_0x34edb1(0x486),exportQuizAsWorksheetPDF),document['getElementById'](_0x34edb1(0x728))[_0x34edb1(0x36e)](_0x34edb1(0x486),handleVerifyAnswers);const _0x24cd3a=document[_0x34edb1(0xcac)](_0x34edb1(0x721));if(_0x24cd3a){const _0x5e1fe8=_0xf014a0||currentProjectId;_0x24cd3a[_0x34edb1(0x36e)](_0x34edb1(0x486),()=>saveQuiz(_0x5e1fe8,_0xa5e408));}if(window[_0x34edb1(0x2b2)])window[_0x34edb1(0x2b2)][_0x34edb1(0xca5)]([_0x2002f9]);}function handleRegenerateQuestion(_0x5f56e1){const _0x56d822=_0x44691e,_0x1b264e=_0x5f56e1['currentTarget'][_0x56d822(0x5fd)]['index'],_0x31eae4=currentQuizData[_0x56d822(0x180)];showMessage(_0x56d822(0xc6d)+(parseInt(_0x1b264e)+0x1)+_0x56d822(0x91d)),generateQuiz(_0x31eae4,null,parseInt(_0x1b264e));}function getPointerPosition(_0x17aead,_0x841eb2){const _0x42fc98=_0x44691e,_0x581f50=_0x17aead[_0x42fc98(0x3dc)]();let _0x54560a,_0x343a2d;return _0x841eb2['touches']&&_0x841eb2['touches']['length']>0x0?(_0x54560a=_0x841eb2[_0x42fc98(0xb1c)][0x0][_0x42fc98(0x4ea)],_0x343a2d=_0x841eb2[_0x42fc98(0xb1c)][0x0][_0x42fc98(0xa05)]):(_0x54560a=_0x841eb2['clientX'],_0x343a2d=_0x841eb2[_0x42fc98(0xa05)]),{'x':(_0x54560a-_0x581f50['e'])/_0x581f50['a'],'y':(_0x343a2d-_0x581f50['f'])/_0x581f50['d']};}function startDrag(_0x1e8b0d){const _0x37227d=_0x44691e;_0x1e8b0d['type']===_0x37227d(0x779)&&_0x1e8b0d[_0x37227d(0x294)]();const _0x503cfa=_0x1e8b0d[_0x37227d(0xa9f)][_0x37227d(0xa54)](_0x37227d(0x8ff));if(_0x503cfa){draggedSvgElement=_0x503cfa;const _0x1fe5f9=draggedSvgElement[_0x37227d(0x5af)],_0x5dd4c0=getPointerPosition(_0x1fe5f9,_0x1e8b0d);svgOffset['x']=_0x5dd4c0['x']-parseFloat(draggedSvgElement[_0x37227d(0xaea)](null,'x')),svgOffset['y']=_0x5dd4c0['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x267021,_0x2a3fec){const _0x30a40f=_0x44691e,_0x3f6270={};if(_0x2a3fec[_0x30a40f(0x8b4)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x208674=[..._0x2a3fec][_0x30a40f(0xa24)]((_0x230a82,_0x2806c8)=>{const _0x2e3013=_0x30a40f,_0x1c8566=_0x2806c8[_0x2e3013(0x1de)]-_0x230a82[_0x2e3013(0x1de)];if(_0x1c8566!==0x0)return _0x1c8566;const _0x1399cb=_0x230a82['attempts']?.[_0x2e3013(0x8b4)]||0x1,_0x452593=_0x2806c8[_0x2e3013(0x508)]?.[_0x2e3013(0x8b4)]||0x1,_0x4d25b6=_0x1399cb-_0x452593;if(_0x4d25b6!==0x0)return _0x4d25b6;const _0x4ba229=new Date(_0x230a82[_0x2e3013(0x8a0)]),_0x1b14da=new Date(_0x2806c8['latestSubmittedAt']),_0x296312=_0x4ba229-_0x1b14da;if(_0x296312!==0x0)return _0x296312;return _0x230a82['studentName']['localeCompare'](_0x2806c8[_0x2e3013(0xb26)],'th');}),_0x6880a7=_0x208674[_0x30a40f(0x8b4)],_0x3c55ac=Math['max'](0x1,Math[_0x30a40f(0x3fd)](_0x6880a7*0.33));if(_0x3c55ac===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x58b193=_0x208674['slice'](0x0,_0x3c55ac),_0x7db3af=_0x208674[_0x30a40f(0x18e)](-_0x3c55ac),_0x45f359=_0x58b193[_0x30a40f(0x39a)](_0x245af9=>_0x245af9[_0x30a40f(0xb26)]),_0x457c19=_0x7db3af[_0x30a40f(0x39a)](_0x307395=>_0x307395[_0x30a40f(0xb26)]);return _0x267021[_0x30a40f(0x8f1)]['forEach']((_0x23d830,_0x42e719)=>{const _0xbf231b=_0x30a40f,_0x5129a8=_0x23d830[_0xbf231b(0x388)]||_0x23d830[_0xbf231b(0x83f)];let _0x247a74=0x0,_0x1236ad=0x0,_0x3186f8=0x0;const _0x44b83e=[],_0x260678=[];_0x58b193[_0xbf231b(0xc74)](_0x50a136=>{const _0x4937a6=_0xbf231b,_0x3832cc=_0x50a136[_0x4937a6(0x508)][_0x50a136[_0x4937a6(0x508)][_0x4937a6(0x8b4)]-0x1],_0x13dc56=_0x3832cc[_0x4937a6(0x4dd)][_0x4937a6(0xb3a)](_0x5bee95=>_0x5bee95[_0x4937a6(0x5c9)]===_0x5129a8);_0x44b83e[_0x4937a6(0xa12)]({'name':_0x50a136['studentName'],'isCorrect':_0x13dc56?_0x13dc56[_0x4937a6(0x6e6)]:![]}),_0x13dc56&&_0x13dc56['isCorrect']&&_0x1236ad++;}),_0x7db3af[_0xbf231b(0xc74)](_0x4d8761=>{const _0x2576a6=_0xbf231b,_0x1e6669=_0x4d8761['attempts'][_0x4d8761[_0x2576a6(0x508)][_0x2576a6(0x8b4)]-0x1],_0x51ea3b=_0x1e6669[_0x2576a6(0x4dd)][_0x2576a6(0xb3a)](_0x2837b6=>_0x2837b6[_0x2576a6(0x5c9)]===_0x5129a8);_0x260678[_0x2576a6(0xa12)]({'name':_0x4d8761[_0x2576a6(0xb26)],'isCorrect':_0x51ea3b?_0x51ea3b['isCorrect']:![]}),_0x51ea3b&&_0x51ea3b[_0x2576a6(0x6e6)]&&_0x3186f8++;}),_0x2a3fec[_0xbf231b(0xc74)](_0x348a30=>{const _0x2344e6=_0xbf231b,_0x147a60=_0x348a30[_0x2344e6(0x508)][_0x348a30[_0x2344e6(0x508)]['length']-0x1],_0x509607=_0x147a60[_0x2344e6(0x4dd)][_0x2344e6(0xb3a)](_0x42eeeb=>_0x42eeeb['originalQuestionText']===_0x5129a8);_0x509607&&_0x509607[_0x2344e6(0x6e6)]&&_0x247a74++;});const _0x163fe5=_0x6880a7>0x0?_0x247a74/_0x6880a7:0x0,_0x32c3e2=_0x3c55ac>0x0?_0x1236ad/_0x3c55ac-_0x3186f8/_0x3c55ac:0x0;_0x3f6270[_0x42e719]={'p':_0x163fe5,'r':_0x32c3e2,'upperGroupResponders':_0x44b83e,'lowerGroupResponders':_0x260678};}),{'perQuestionStats':_0x3f6270,'overallGroups':{'upperGroupNames':_0x45f359,'lowerGroupNames':_0x457c19}};}function drag(_0x139345){const _0x51d5ce=_0x44691e;if(draggedSvgElement){_0x139345[_0x51d5ce(0x294)]();const _0x6489b0=draggedSvgElement[_0x51d5ce(0x5af)],_0x2a48b1=getPointerPosition(_0x6489b0,_0x139345),_0x4e1131=_0x6489b0['viewBox'][_0x51d5ce(0x798)];let _0x2522d6=_0x2a48b1['x']-svgOffset['x'],_0x279d46=_0x2a48b1['y']-svgOffset['y'];const _0x1e0f70=draggedSvgElement[_0x51d5ce(0xc80)]();_0x2522d6=Math[_0x51d5ce(0xc36)](_0x4e1131['x'],Math[_0x51d5ce(0x5a3)](_0x2522d6,_0x4e1131['x']+_0x4e1131[_0x51d5ce(0x931)]-_0x1e0f70[_0x51d5ce(0x931)])),_0x279d46=Math['max'](_0x4e1131['y'],Math[_0x51d5ce(0x5a3)](_0x279d46,_0x4e1131['y']+_0x4e1131[_0x51d5ce(0x2fb)]-_0x1e0f70[_0x51d5ce(0x2fb)])),draggedSvgElement['setAttributeNS'](null,'x',_0x2522d6),draggedSvgElement[_0x51d5ce(0xbff)](null,'y',_0x279d46);}}function endDrag(_0x330c7c){draggedSvgElement=null;}function handleSvgEditClick(_0xd4ec2e){const _0x5b1f12=_0x44691e;if(_0xd4ec2e[_0x5b1f12(0xa9f)]['classList'][_0x5b1f12(0xbfc)](_0x5b1f12(0x7af))){const _0x2a9c92=_0xd4ec2e[_0x5b1f12(0xa9f)][_0x5b1f12(0x5fd)][_0x5b1f12(0xa1d)],_0x527c52=_0xd4ec2e[_0x5b1f12(0x164)],_0x34ead5=_0x527c52[_0x5b1f12(0x909)]('#'+_0x2a9c92);_0x34ead5&&_0x34ead5[_0x5b1f12(0x392)](),_0xd4ec2e['target']['remove']();}}function handleEditQuestion(_0x596673){const _0xb34aa8=_0x44691e,_0x22f3ea=_0x596673[_0xb34aa8(0x164)],_0x2aa415=_0x22f3ea['dataset'][_0xb34aa8(0x166)],_0x2881e6=currentQuizData['questions'][_0x2aa415],_0x2328b3=document[_0xb34aa8(0xcac)](_0xb34aa8(0x45a)+_0x2aa415),_0x5f1e8d=document['getElementById'](_0xb34aa8(0x16a)+_0x2aa415),_0x18902c=document[_0xb34aa8(0xcac)](_0xb34aa8(0x8ac)+_0x2aa415);if(_0x22f3ea[_0xb34aa8(0x64a)][_0xb34aa8(0x764)](_0xb34aa8(0x20e))){_0x22f3ea[_0xb34aa8(0x64a)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x22f3ea[_0xb34aa8(0x58a)]=_0xb34aa8(0x1e8);if(_0x2328b3)_0x2328b3[_0xb34aa8(0xc82)]=!![];if(_0x5f1e8d)_0x5f1e8d[_0xb34aa8(0xc82)]=!![];if(_0x18902c){const _0x10b3e2=_0x18902c[_0xb34aa8(0x909)]('svg');if(_0x10b3e2){const _0x3ef6b4=_0x10b3e2[_0xb34aa8(0x32a)](_0xb34aa8(0x18b));_0x3ef6b4['forEach']((_0x401f26,_0xa5a83c)=>{const _0xaeb8dc=_0xb34aa8,_0x558c7e='editable-text-'+_0x2aa415+'-'+_0xa5a83c;_0x401f26['id']=_0x558c7e,_0x401f26[_0xaeb8dc(0x534)][_0xaeb8dc(0x174)](_0xaeb8dc(0x4cf)),_0x401f26[_0xaeb8dc(0xad3)][_0xaeb8dc(0x28d)]=_0xaeb8dc(0xc5b);const _0x5dbb4e=document[_0xaeb8dc(0x9a1)]('http://www.w3.org/2000/svg',_0xaeb8dc(0x745)),_0x223892=_0x401f26[_0xaeb8dc(0xc80)]();_0x5dbb4e[_0xaeb8dc(0x633)]('cx',String(_0x223892['x']+_0x223892['width']+0x5)),_0x5dbb4e[_0xaeb8dc(0x633)]('cy',String(_0x223892['y']+_0x223892[_0xaeb8dc(0x2fb)]/0x2-0x5)),_0x5dbb4e['setAttribute']('r','5'),_0x5dbb4e['setAttribute']('fill',_0xaeb8dc(0x1c2)),_0x5dbb4e[_0xaeb8dc(0x633)]('class',_0xaeb8dc(0x7af)),_0x5dbb4e[_0xaeb8dc(0x5fd)][_0xaeb8dc(0xa1d)]=_0x558c7e,_0x401f26[_0xaeb8dc(0x613)](_0x5dbb4e);}),_0x10b3e2['addEventListener'](_0xb34aa8(0x71b),startDrag),_0x10b3e2[_0xb34aa8(0x36e)]('mousemove',drag),_0x10b3e2[_0xb34aa8(0x36e)](_0xb34aa8(0x1e3),endDrag),_0x10b3e2['addEventListener'](_0xb34aa8(0x378),endDrag),_0x10b3e2[_0xb34aa8(0x36e)](_0xb34aa8(0x779),startDrag,{'passive':![]}),_0x10b3e2[_0xb34aa8(0x36e)]('touchmove',drag,{'passive':![]}),_0x10b3e2[_0xb34aa8(0x36e)](_0xb34aa8(0x4f9),endDrag),_0x10b3e2[_0xb34aa8(0x36e)](_0xb34aa8(0x406),endDrag),_0x10b3e2['addEventListener']('click',handleSvgEditClick);}}if(_0x2328b3)_0x2328b3[_0xb34aa8(0x7a6)]();}else{_0x22f3ea[_0xb34aa8(0x64a)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x22f3ea['title']=_0xb34aa8(0x193);if(_0x2328b3){_0x2328b3[_0xb34aa8(0xc82)]=![];const _0x38fa63=_0x2881e6[_0xb34aa8(0xb42)]||currentQuizData[_0xb34aa8(0x196)];_0x38fa63===_0xb34aa8(0xc00)?_0x2881e6['stem']=_0x2328b3[_0xb34aa8(0x49c)][_0xb34aa8(0xb57)](_0x2328b3['innerText'][_0xb34aa8(0x983)]('.')+0x2)[_0xb34aa8(0x5a4)]():_0x2881e6[_0xb34aa8(0x83f)]=_0x2328b3[_0xb34aa8(0x49c)][_0xb34aa8(0xb57)](_0x2328b3[_0xb34aa8(0x49c)][_0xb34aa8(0x983)]('.')+0x2)[_0xb34aa8(0x5a4)]();}_0x5f1e8d&&(_0x5f1e8d[_0xb34aa8(0xc82)]=![],_0x2881e6[_0xb34aa8(0xb63)]=_0x5f1e8d[_0xb34aa8(0x49c)]);if(_0x18902c){const _0x407fe8=_0x18902c[_0xb34aa8(0x909)](_0xb34aa8(0x77d));if(_0x407fe8){const _0x16b7cd=_0x407fe8['cloneNode'](!![]);_0x16b7cd[_0xb34aa8(0x32a)](_0xb34aa8(0xb24))[_0xb34aa8(0xc74)](_0x2d2b4d=>_0x2d2b4d[_0xb34aa8(0x392)]()),_0x16b7cd[_0xb34aa8(0x32a)](_0xb34aa8(0x8ff))[_0xb34aa8(0xc74)](_0x309357=>{const _0x230342=_0xb34aa8;_0x309357['classList'][_0x230342(0x392)](_0x230342(0x4cf)),_0x309357[_0x230342(0xad3)]['cursor']='default',_0x309357['removeAttribute']('id');}),_0x2881e6[_0xb34aa8(0x65a)]=_0x16b7cd[_0xb34aa8(0xaeb)],_0x407fe8[_0xb34aa8(0x4c9)](_0xb34aa8(0x71b),startDrag),_0x407fe8[_0xb34aa8(0x4c9)](_0xb34aa8(0x273),drag),_0x407fe8[_0xb34aa8(0x4c9)](_0xb34aa8(0x1e3),endDrag),_0x407fe8[_0xb34aa8(0x4c9)](_0xb34aa8(0x378),endDrag),_0x407fe8[_0xb34aa8(0x4c9)](_0xb34aa8(0x779),startDrag),_0x407fe8[_0xb34aa8(0x4c9)]('touchmove',drag),_0x407fe8[_0xb34aa8(0x4c9)](_0xb34aa8(0x4f9),endDrag),_0x407fe8[_0xb34aa8(0x4c9)](_0xb34aa8(0x406),endDrag),_0x407fe8[_0xb34aa8(0x4c9)](_0xb34aa8(0x486),handleSvgEditClick),_0x407fe8[_0xb34aa8(0x32a)](_0xb34aa8(0xb24))[_0xb34aa8(0xc74)](_0x26051d=>_0x26051d[_0xb34aa8(0x392)]()),_0x407fe8[_0xb34aa8(0x32a)](_0xb34aa8(0x8ff))['forEach'](_0x2d26c2=>{const _0x275529=_0xb34aa8;_0x2d26c2[_0x275529(0x534)][_0x275529(0x392)](_0x275529(0x4cf)),_0x2d26c2[_0x275529(0xad3)]['cursor']='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x234bc9){const _0x2ce3f6=_0x44691e,_0x4e012b=document[_0x2ce3f6(0xcac)]('quiz-editor-modal'),_0x11897c=document[_0x2ce3f6(0xcac)]('quiz-editor-questions-container');_0x11897c[_0x2ce3f6(0x64a)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x4e012b[_0x2ce3f6(0x534)][_0x2ce3f6(0x392)]('hidden');try{const _0x41c3cb=doc(db,_0x2ce3f6(0x1c4)+appId+_0x2ce3f6(0x1fa),_0x234bc9),_0x5e069c=await getDoc(_0x41c3cb);if(!_0x5e069c[_0x2ce3f6(0x72f)]())throw new Error(_0x2ce3f6(0x6c3));currentEditingQuizData={'id':_0x234bc9,..._0x5e069c['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x3eec18){console[_0x2ce3f6(0x723)](_0x2ce3f6(0x225),_0x3eec18),showMessage(_0x2ce3f6(0x4ed)),_0x4e012b['classList'][_0x2ce3f6(0x174)](_0x2ce3f6(0xb2f));}}function renderQuizEditor(_0x5655d2){const _0x4ec2e1=_0x44691e;document[_0x4ec2e1(0xcac)](_0x4ec2e1(0x702))[_0x4ec2e1(0x1a0)]=_0x5655d2[_0x4ec2e1(0x180)];const _0x28478d=document[_0x4ec2e1(0xcac)](_0x4ec2e1(0xa5b));let _0x403c9a=_0x5655d2['questions'][_0x4ec2e1(0x39a)]((_0x17f022,_0x3b41a0)=>{const _0x19896f=_0x4ec2e1;let _0x4c7206='';const _0x5542bb=_0x17f022['questionType']||_0x5655d2[_0x19896f(0x196)];switch(_0x5542bb){case _0x19896f(0xb47):const _0x294799=(_0x17f022[_0x19896f(0xbd7)]||[])['map']((_0x131d89,_0x31611f)=>_0x19896f(0x2c2)+_0x3b41a0+'\x22\x20value=\x22'+_0x31611f+'\x22\x20'+(_0x31611f===_0x17f022[_0x19896f(0x576)]?_0x19896f(0x553):'')+_0x19896f(0x752)+_0x131d89+_0x19896f(0x93a))['join']('');_0x4c7206=_0x19896f(0x2b0)+_0x294799+_0x19896f(0x5e2);break;case _0x19896f(0x982):_0x4c7206=_0x19896f(0x1c5)+(_0x17f022['idealAnswer']||'')+_0x19896f(0x9cb);break;case _0x19896f(0x9c3):_0x4c7206=_0x19896f(0x90f)+_0x3b41a0+'\x22\x20value=\x22true\x22\x20'+(_0x17f022['correctAnswer']===!![]?_0x19896f(0x553):'')+_0x19896f(0x40b)+_0x3b41a0+_0x19896f(0xc81)+(_0x17f022[_0x19896f(0x492)]===![]?_0x19896f(0x553):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x19896f(0xc00):_0x4c7206=_0x19896f(0xb53)+(_0x17f022[_0x19896f(0x964)]||'')+_0x19896f(0x480);break;}const _0x2c068f=_0x17f022[_0x19896f(0x83f)]||_0x17f022[_0x19896f(0x388)]||'';return _0x19896f(0x43a)+_0x3b41a0+_0x19896f(0x652)+_0x5542bb+_0x19896f(0x8fb)+(_0x3b41a0+0x1)+'\x20('+_0x5542bb+_0x19896f(0x1fe)+_0x2c068f+'</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x4c7206+_0x19896f(0xaf1);})['join']('');_0x28478d['innerHTML']=_0x403c9a,_0x28478d[_0x4ec2e1(0x32a)](_0x4ec2e1(0xa92))[_0x4ec2e1(0xc74)](_0x2fe19b=>{const _0x4818f3=_0x4ec2e1;_0x2fe19b[_0x4818f3(0x36e)]('click',handleAiFixQuestion);});}async function handleAiFixQuestion(_0x50e3dc){const _0x8e51be=_0x44691e,_0x13b6cf=_0x50e3dc[_0x8e51be(0x164)],_0x54c0b5=_0x13b6cf[_0x8e51be(0xa54)]('.question-editor-item');if(!_0x54c0b5)return;const _0x3f1255=parseInt(_0x54c0b5[_0x8e51be(0x5fd)]['qIndex'],0xa);if(isNaN(_0x3f1255)||!currentEditingQuizData['questions'][_0x3f1255]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x23cdc4=currentEditingQuizData[_0x8e51be(0x8f1)][_0x3f1255];_0x13b6cf[_0x8e51be(0x64a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x13b6cf[_0x8e51be(0x585)]=!![];const _0x4133b6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20'+JSON['stringify'](_0x23cdc4)+_0x8e51be(0x751);let _0x511877;const _0x2a3bff=_0x23cdc4[_0x8e51be(0xb42)]||currentEditingQuizData[_0x8e51be(0x196)];switch(_0x2a3bff){case _0x8e51be(0x982):_0x511877={'type':'OBJECT','properties':{'questionText':{'type':_0x8e51be(0xb46)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x8e51be(0xb46)},'imageCode':{'type':_0x8e51be(0xb46)}},'required':['questionText','idealAnswer',_0x8e51be(0xb63)]};break;case _0x8e51be(0xb47):default:_0x511877={'type':_0x8e51be(0xc37),'properties':{'questionText':{'type':_0x8e51be(0xb46)},'options':{'type':'ARRAY','items':{'type':_0x8e51be(0xb46)}},'correctAnswerIndex':{'type':_0x8e51be(0x283)},'explanation':{'type':_0x8e51be(0xb46)},'imageCode':{'type':_0x8e51be(0xb46)}},'required':[_0x8e51be(0x83f),'options','correctAnswerIndex',_0x8e51be(0xb63)]};break;}try{let _0x5f171a=await callAnalysisApi(_0x4133b6,_0x511877);_0x5f171a[_0x8e51be(0xbd7)]&&Array[_0x8e51be(0x630)](_0x5f171a['options'])&&(_0x5f171a[_0x8e51be(0xbd7)]=_0x5f171a[_0x8e51be(0xbd7)]['map'](_0x29f339=>typeof _0x29f339===_0x8e51be(0x61a)?_0x29f339[_0x8e51be(0x7ea)](/S(\s*[\d_]+?\s*)S/g,_0x8e51be(0x88e)):_0x29f339)),_0x23cdc4['imageCode']&&_0x23cdc4[_0x8e51be(0x65a)]['includes'](_0x8e51be(0x655))&&(_0x5f171a[_0x8e51be(0x65a)]=''),currentEditingQuizData['questions'][_0x3f1255]={..._0x23cdc4,..._0x5f171a},renderQuizEditor(currentEditingQuizData),showMessage(_0x8e51be(0x1cd));}catch(_0x490b14){console[_0x8e51be(0x723)]('AI\x20Fix\x20Error:',_0x490b14),showMessage(_0x8e51be(0xab1)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x323d89=_0x44691e,_0x56fff5=document[_0x323d89(0xcac)](_0x323d89(0x717));_0x56fff5[_0x323d89(0x585)]=!![],_0x56fff5[_0x323d89(0x64a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0xa8f455=document['getElementById'](_0x323d89(0x702))[_0x323d89(0x1a0)],_0x4f1e5d=document[_0x323d89(0x32a)](_0x323d89(0xb9f));let _0x27cff6=[];const _0x3d11c5=Array[_0x323d89(0xb61)](_0x4f1e5d)[_0x323d89(0x39a)]((_0x5ee0b3,_0x5904b1)=>{const _0x149962=_0x323d89,_0x4a4092=_0x5ee0b3[_0x149962(0x5fd)][_0x149962(0x47c)],_0x177b9d=_0x5ee0b3[_0x149962(0x909)]('textarea')[_0x149962(0x1a0)][_0x149962(0x7ea)](/\n/g,_0x149962(0x260));let _0x4c5843={'questionType':_0x4a4092};const _0x2dfda6=currentEditingQuizData[_0x149962(0x8f1)][_0x5904b1];switch(_0x4a4092){case _0x149962(0xb47):_0x4c5843[_0x149962(0x83f)]=_0x177b9d;const _0x484b78=_0x5ee0b3[_0x149962(0x32a)]('input[type=\x22text\x22]');_0x4c5843[_0x149962(0xbd7)]=Array[_0x149962(0xb61)](_0x484b78)[_0x149962(0x39a)](_0x4149e6=>_0x4149e6[_0x149962(0x1a0)]);const _0x3e4b6d=_0x5ee0b3[_0x149962(0x909)](_0x149962(0xc40));_0x4c5843['correctAnswerIndex']=_0x3e4b6d?parseInt(_0x3e4b6d[_0x149962(0x1a0)]):0x0;break;case _0x149962(0x982):_0x4c5843['questionText']=_0x177b9d,_0x4c5843['idealAnswer']=_0x5ee0b3[_0x149962(0x909)]('.ideal-answer-input')[_0x149962(0x1a0)];break;case'true_false':_0x4c5843[_0x149962(0x83f)]=_0x177b9d;const _0x1a86a0=_0x5ee0b3[_0x149962(0x909)](_0x149962(0xc40));_0x4c5843[_0x149962(0x492)]=_0x1a86a0?_0x1a86a0[_0x149962(0x1a0)]===_0x149962(0x97e):!![];break;case _0x149962(0xc00):_0x4c5843[_0x149962(0x388)]=_0x177b9d;const _0xea6c92=_0x5ee0b3['querySelector'](_0x149962(0x3e3));_0x4c5843[_0x149962(0x964)]=_0xea6c92?_0xea6c92[_0x149962(0x1a0)]:'',_0x27cff6[_0x149962(0xa12)](_0x4c5843[_0x149962(0x964)]);break;default:_0x4c5843[_0x149962(0x83f)]=_0x177b9d;break;}return{..._0x2dfda6,..._0x4c5843};});_0x27cff6['length']>0x0&&_0x3d11c5[_0x323d89(0xc74)](_0x4b9d08=>{const _0x32b99b=_0x323d89;_0x4b9d08[_0x32b99b(0xb42)]===_0x32b99b(0xc00)&&(_0x4b9d08[_0x32b99b(0xa33)]=_0x27cff6);});const _0x4a2ef4=currentEditingQuizData['id'],_0x20238f=doc(db,'artifacts/'+appId+_0x323d89(0x1fa),_0x4a2ef4);await updateDoc(_0x20238f,{'topic':_0xa8f455,'questions':_0x3d11c5}),document['getElementById'](_0x323d89(0x583))['classList']['add']('hidden'),showMessage(_0x323d89(0x50e),()=>initiateReGradeProcess(_0x4a2ef4));}catch(_0x154262){console[_0x323d89(0x723)](_0x323d89(0xa79),_0x154262),showMessage(_0x323d89(0x742));}finally{_0x56fff5[_0x323d89(0x585)]=![],_0x56fff5[_0x323d89(0x64a)]=_0x323d89(0x84f);}}async function initiateReGradeProcess(_0x338e59){const _0xaae8d2=_0x44691e;showMessage(_0xaae8d2(0x17e));try{const _0x26f297=doc(db,_0xaae8d2(0x1c4)+appId+_0xaae8d2(0x1fa),_0x338e59),_0x38e80d=await getDoc(_0x26f297);if(!_0x38e80d['exists']())throw new Error(_0xaae8d2(0x809));const _0x5a4e53={'id':_0x338e59,..._0x38e80d['data']()},_0x40fd79=collection(db,'artifacts/'+appId+_0xaae8d2(0x1fa),_0x338e59,_0xaae8d2(0x667)),_0x37c37f=await getDocs(_0x40fd79);if(_0x37c37f[_0xaae8d2(0x99e)]){showMessage(_0xaae8d2(0x77c));return;}const _0x391fe7=_0x37c37f['docs']['map'](_0x1b5613=>reGradeSingleSubmission(_0x1b5613,_0x5a4e53));await Promise[_0xaae8d2(0x2c7)](_0x391fe7);if(_0x5a4e53[_0xaae8d2(0x370)]){const _0x4e0e6f=doc(db,_0xaae8d2(0x1c4)+appId+_0xaae8d2(0x6b6),_0x5a4e53[_0xaae8d2(0x370)]),_0x2abb8f=await getDoc(_0x4e0e6f);if(_0x2abb8f['exists']()&&_0x2abb8f[_0xaae8d2(0x2a7)]()[_0xaae8d2(0x81b)]){const _0x3cbb3f=_0x2abb8f['data']()[_0xaae8d2(0x81b)][_0xaae8d2(0x39a)](_0x2e8ef8=>updateStudentProfile(_0x5a4e53[_0xaae8d2(0x370)],_0x2e8ef8));await Promise[_0xaae8d2(0x2c7)](_0x3cbb3f);}}showMessage(_0xaae8d2(0x390)+_0x37c37f[_0xaae8d2(0x253)]+_0xaae8d2(0x377));}catch(_0xf3dd59){console[_0xaae8d2(0x723)](_0xaae8d2(0x694),_0xf3dd59),showMessage(_0xaae8d2(0x4d8)+_0xf3dd59[_0xaae8d2(0xca0)]);}}async function reGradeSingleSubmission(_0x244f7e,_0x15053d){const _0x5e1643=_0x44691e,_0x596059=_0x244f7e[_0x5e1643(0x2a7)](),_0x490c95=_0x596059[_0x5e1643(0xb26)],_0x464d69=_0x596059[_0x5e1643(0x508)]||[],_0x473d38=[];for(const _0x391b96 of _0x464d69){let _0x4f0591=0x0,_0x77093a=[],_0x4b62a8=0x0;const _0x53db1b=[];for(const _0x2eb5b6 of _0x391b96[_0x5e1643(0x4dd)]){let _0xc8e870;_0x2eb5b6['questionId']&&(_0xc8e870=_0x15053d[_0x5e1643(0x8f1)][_0x5e1643(0xb3a)](_0x2ab268=>_0x2ab268['id']===_0x2eb5b6[_0x5e1643(0x384)]));!_0xc8e870&&_0x2eb5b6['originalQuestionText']&&(_0xc8e870=_0x15053d[_0x5e1643(0x8f1)]['find'](_0x36c464=>(_0x36c464[_0x5e1643(0x388)]||_0x36c464[_0x5e1643(0x83f)])===_0x2eb5b6[_0x5e1643(0x5c9)]));let _0x4ee367=![];if(_0xc8e870){const _0x18d659=_0xc8e870['questionType']||_0x15053d[_0x5e1643(0x196)];switch(_0x18d659){case _0x5e1643(0xb47):if(_0xc8e870['options']&&_0xc8e870[_0x5e1643(0x576)]<_0xc8e870['options'][_0x5e1643(0x8b4)]){const _0x462a46=_0xc8e870[_0x5e1643(0xbd7)][_0xc8e870[_0x5e1643(0x576)]];_0x4ee367=_0x2eb5b6[_0x5e1643(0x22d)]===_0x462a46;}break;case _0x5e1643(0x9c3):const _0x56686b=_0x2eb5b6['answer']===!![]||_0x2eb5b6[_0x5e1643(0x32b)]===_0x5e1643(0x97e);_0x4ee367=_0x56686b===_0xc8e870[_0x5e1643(0x492)];break;case _0x5e1643(0xc00):_0x4ee367=_0x2eb5b6[_0x5e1643(0x32b)]===_0xc8e870[_0x5e1643(0x964)];break;case _0x5e1643(0x982):_0x4ee367=await gradeShortAnswer(_0x2eb5b6[_0x5e1643(0x32b)],_0xc8e870);break;default:_0x4ee367=_0x2eb5b6[_0x5e1643(0x6e6)];break;}}if(_0x4ee367){_0x4f0591++,_0x4b62a8++;if(_0x4b62a8===0x3)_0x77093a['push'](BADGES[_0x5e1643(0x271)]['id']);}else _0x4b62a8=0x0;_0x53db1b[_0x5e1643(0xa12)]({..._0x2eb5b6,'isCorrect':_0x4ee367});}let _0x56a3b0=_0x4f0591*0xa;_0x4f0591===_0x15053d[_0x5e1643(0x8f1)][_0x5e1643(0x8b4)]&&(_0x56a3b0+=0x32,_0x77093a[_0x5e1643(0xa12)](BADGES['PERFECT_SCORE']['id'])),_0x473d38[_0x5e1643(0xa12)]({..._0x391b96,'score':_0x4f0591,'points':_0x56a3b0,'badges':Array[_0x5e1643(0xb61)](new Set(_0x77093a)),'answers':_0x53db1b});}const _0x30bcd9=_0x473d38[_0x5e1643(0x8b4)]>0x0?_0x473d38[0x0][_0x5e1643(0x443)]:0x0,_0x33c090=Math['max'](..._0x473d38[_0x5e1643(0x39a)](_0x5e1e94=>_0x5e1e94[_0x5e1643(0x443)])),_0x438093=_0x473d38['length']>0x0?_0x473d38[_0x473d38['length']-0x1][_0x5e1643(0x443)]:0x0,_0xf080cb=_0x473d38['length']>0x0?_0x473d38[_0x473d38['length']-0x1][_0x5e1643(0x433)]:0x0,_0x14fcf7=doc(db,_0x5e1643(0x1c4)+appId+_0x5e1643(0x7c5)+_0x15053d['id']+_0x5e1643(0x8c6),_0x490c95);await updateDoc(_0x14fcf7,{'attempts':_0x473d38,'firstScore':_0x30bcd9,'bestScore':_0x33c090,'latestScore':_0x438093,'points':_0xf080cb});}function cleanupQuizOptions(_0x4b54d0){const _0x2d690d=_0x44691e,_0x21e523=(_0x443e4a,_0x26153f)=>_0x26153f===0x0?_0x443e4a:_0x21e523(_0x26153f,_0x443e4a%_0x26153f),_0x41a18c=_0x2bbed4=>{const _0x130ebe=_0x3aeb;if(typeof _0x2bbed4!=='string')return null;_0x2bbed4=_0x2bbed4['trim']();const _0x4a812b=_0x2bbed4['split'](/[ /]/)[_0x130ebe(0x686)](_0x286096=>_0x286096!=='');if(_0x4a812b[_0x130ebe(0x8b4)]===0x3)return parseInt(_0x4a812b[0x0])+parseInt(_0x4a812b[0x1])/parseInt(_0x4a812b[0x2]);else{if(_0x4a812b[_0x130ebe(0x8b4)]===0x2)return parseInt(_0x4a812b[0x0])/parseInt(_0x4a812b[0x1]);else{if(_0x4a812b['length']===0x1&&!isNaN(_0x4a812b[0x0]))return parseFloat(_0x4a812b[0x0]);}}return null;},_0x88334a=_0x5e8de4=>{const _0x53a25e=_0x3aeb;if(typeof _0x5e8de4!=='string')return _0x5e8de4;const _0x469ce9=_0x5e8de4[_0x53a25e(0x484)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x469ce9){const _0x2c86c2=parseInt(_0x469ce9[0x1]);let _0x2bec6a=parseInt(_0x469ce9[0x2]),_0x5e35ee=parseInt(_0x469ce9[0x3]);const _0x1c2a3f=_0x21e523(_0x2bec6a,_0x5e35ee);_0x2bec6a/=_0x1c2a3f,_0x5e35ee/=_0x1c2a3f;if(_0x5e35ee===0x1)return(_0x2c86c2+_0x2bec6a)[_0x53a25e(0xb8f)]();return _0x2c86c2+'\x20'+_0x2bec6a+'/'+_0x5e35ee;}return _0x5e8de4;};return _0x4b54d0&&_0x4b54d0[_0x2d690d(0x8f1)]&&_0x4b54d0[_0x2d690d(0x8f1)]['forEach'](_0x255051=>{const _0x30d9b1=_0x2d690d;if(_0x255051[_0x30d9b1(0xb42)]==='multiple_choice'&&_0x255051[_0x30d9b1(0xbd7)]){const _0x32610f=new Map(),_0x5be470=_0x255051['options'][_0x255051['correctAnswerIndex']];_0x255051['options'][_0x30d9b1(0xc74)](_0x961731=>{const _0x146784=_0x30d9b1,_0x86e590=_0x88334a(_0x961731),_0x53894f=_0x41a18c(_0x86e590);_0x53894f!==null&&!_0x32610f[_0x146784(0xbf1)](_0x53894f)&&_0x32610f['set'](_0x53894f,_0x86e590);}),_0x255051[_0x30d9b1(0xbd7)]=Array[_0x30d9b1(0xb61)](_0x32610f[_0x30d9b1(0x5a9)]());const _0x530dc9=_0x255051[_0x30d9b1(0xbd7)][_0x30d9b1(0xbce)](_0x2433d3=>_0x2433d3===_0x88334a(_0x5be470));_0x255051[_0x30d9b1(0x576)]=_0x530dc9!==-0x1?_0x530dc9:0x0;}}),_0x4b54d0;}function showGameStartConfirmationModal(_0x394973,_0xaa60a1,_0x5f272e){const _0x5a3075=_0x44691e,_0x397388=document['getElementById'](_0x5a3075(0x467));document[_0x5a3075(0xcac)]('game-start-modal-title')[_0x5a3075(0x20a)]=_0x5a3075(0x17f)+_0x5f272e,document[_0x5a3075(0xcac)]('game-start-quiz-id')['value']=_0x394973,document[_0x5a3075(0xcac)](_0x5a3075(0x440))[_0x5a3075(0x1a0)]=_0xaa60a1,document[_0x5a3075(0xcac)](_0x5a3075(0xc0f))[_0x5a3075(0x553)]=!![],_0x397388[_0x5a3075(0x534)][_0x5a3075(0x392)]('hidden');}async function saveGameResultsAsSubmissions(_0x2bc467){const _0x3e37ac=_0x44691e;console[_0x3e37ac(0x18c)](_0x3e37ac(0x715),_0x2bc467);const _0x3f61f7=_0x2bc467['quizId'];let _0x45ba50=[];if(_0x2bc467[_0x3e37ac(0xb3f)])_0x45ba50=Object['entries'](_0x2bc467[_0x3e37ac(0xb3f)])[_0x3e37ac(0x39a)](([_0x1fe9c8,_0x4e352d])=>({'name':_0x1fe9c8,..._0x4e352d}));else{if(_0x2bc467['groups'])Object['values'](_0x2bc467[_0x3e37ac(0xa21)])[_0x3e37ac(0xc74)](_0xb5dafb=>{_0xb5dafb['members']['forEach'](_0x3bbc7b=>{const _0x4193c1=_0x3aeb;_0x45ba50[_0x4193c1(0xa12)]({'name':_0x3bbc7b,'score':_0xb5dafb[_0x4193c1(0x443)],'answers':_0xb5dafb['answers']});});});else _0x2bc467[_0x3e37ac(0x536)]&&Object[_0x3e37ac(0x823)](_0x2bc467[_0x3e37ac(0x536)])[_0x3e37ac(0xc74)](([_0xa5d606,_0x344ce6])=>{const _0x217e5a=_0x3e37ac;_0x45ba50[_0x217e5a(0xa12)]({'name':_0xa5d606,..._0x344ce6});});}if(_0x45ba50[_0x3e37ac(0x8b4)]===0x0){console[_0x3e37ac(0x18c)](_0x3e37ac(0x69d));return;}const _0x3c2580=_0x2bc467[_0x3e37ac(0x692)]?.[_0x3e37ac(0x8f1)]['length']||currentQuizData[_0x3e37ac(0x8f1)][_0x3e37ac(0x8b4)],_0x8c478a=writeBatch(db);for(const _0x37100e of _0x45ba50){const _0x1b5cde=doc(db,_0x3e37ac(0x1c4)+appId+_0x3e37ac(0x7c5)+_0x3f61f7+_0x3e37ac(0x8c6),_0x37100e[_0x3e37ac(0x8c8)]),_0x4f1730=(_0x37100e[_0x3e37ac(0x4dd)]||[])[_0x3e37ac(0x686)](_0x499e26=>_0x499e26[_0x3e37ac(0x6e6)])[_0x3e37ac(0x8b4)];let _0x2da0bc=_0x4f1730;_0x2bc467[_0x3e37ac(0x865)]&&_0x37100e['answers']&&_0x37100e[_0x3e37ac(0x4dd)][_0x3e37ac(0xc74)](_0x7585a0=>{const _0x26e865=_0x3e37ac;if(_0x7585a0['isCorrect']&&(_0x7585a0[_0x26e865(0x759)]===!![]||_0x7585a0[_0x26e865(0x759)]===_0x26e865(0x213)))_0x2da0bc+=0x1;else!_0x7585a0[_0x26e865(0x6e6)]&&(_0x7585a0[_0x26e865(0x759)]===!![]||_0x7585a0[_0x26e865(0x759)]===_0x26e865(0x213))&&(_0x2da0bc-=0x1);});_0x3c2580>0x0&&_0x4f1730===_0x3c2580&&(_0x2da0bc+=0x1);const _0x1b079c={'score':_0x4f1730,'points':_0x2da0bc,'badges':_0x37100e[_0x3e37ac(0x7e0)]||[],'submittedAt':new Date()['toISOString'](),'answers':(_0x37100e[_0x3e37ac(0x4dd)]||[])[_0x3e37ac(0x39a)](_0x13e07e=>({'questionId':_0x13e07e[_0x3e37ac(0x384)],'answer':_0x13e07e['answer'],'answerText':_0x13e07e[_0x3e37ac(0x22d)],'isCorrect':_0x13e07e['isCorrect'],'originalQuestionText':_0x13e07e['originalQuestionText'],'wasConfident':_0x13e07e['wasConfident']}))},_0x1d0055=await getDoc(_0x1b5cde),_0x46db37=_0x1d0055['exists']()?_0x1d0055['data']():{},_0x55a771=_0x46db37[_0x3e37ac(0xc6a)]||0x0,_0x398e08=_0x46db37['attempts']||[],_0x211938={'studentName':_0x37100e['name'],'totalQuestions':_0x3c2580,'attempts':arrayUnion(_0x1b079c),'latestScore':_0x4f1730,'points':_0x2da0bc,'latestSubmittedAt':_0x1b079c['submittedAt'],'bestScore':Math[_0x3e37ac(0xc36)](_0x55a771,_0x4f1730),'firstScore':_0x398e08[_0x3e37ac(0x8b4)]===0x0?_0x4f1730:_0x46db37[_0x3e37ac(0xbc0)]||0x0};_0x8c478a[_0x3e37ac(0xc44)](_0x1b5cde,_0x211938,{'merge':!![]});}try{await _0x8c478a[_0x3e37ac(0xae9)](),showMessage(_0x3e37ac(0xcb0)+_0x45ba50[_0x3e37ac(0x8b4)]+_0x3e37ac(0xb4e));const _0x3cd0c4=_0x2bc467[_0x3e37ac(0x692)]?.[_0x3e37ac(0x370)]||currentQuizData?.[_0x3e37ac(0x370)]||currentProjectId;if(_0x3cd0c4){const _0x3cb377=[...new Set(_0x45ba50['map'](_0x1374fe=>_0x1374fe[_0x3e37ac(0x8c8)]))];for(const _0x37145e of _0x3cb377){await updateStudentProfile(_0x3cd0c4,_0x37145e);}}}catch(_0x487e2b){console[_0x3e37ac(0x723)](_0x3e37ac(0x51a),_0x487e2b),showMessage(_0x3e37ac(0x791));}}async function saveQuiz(_0x5a1eb6=null,_0x4eab14=null){const _0x2b784f=_0x44691e,_0x35176e=_0x5a1eb6||currentProjectId;if(!_0x35176e){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x2b784f(0x8f1)]||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x2e42d4=document[_0x2b784f(0xcac)](_0x2b784f(0x721));_0x2e42d4[_0x2b784f(0x585)]=!![],_0x2e42d4[_0x2b784f(0x64a)]=_0x2b784f(0x790);const _0x17a014=document['getElementById'](_0x2b784f(0xb7a))[_0x2b784f(0x553)];let _0x23dd46=document[_0x2b784f(0xcac)](_0x2b784f(0x83d))[_0x2b784f(0x49c)][_0x2b784f(0x5a4)]();_0x17a014&&!_0x23dd46[_0x2b784f(0x465)](_0x2b784f(0xc29))&&(_0x23dd46=_0x2b784f(0x357)+_0x23dd46);try{const _0x5875e6={'resultsDisplay':document[_0x2b784f(0xcac)]('results-display-select')['value'],'shuffle':document['getElementById']('shuffle-setting-select')[_0x2b784f(0x1a0)],'timerMode':document[_0x2b784f(0xcac)]('timer-mode-select')[_0x2b784f(0x1a0)],'timerDuration':parseInt(document[_0x2b784f(0xcac)](_0x2b784f(0x5f2))[_0x2b784f(0x1a0)])||0xa,'passingScore':parseInt(document[_0x2b784f(0xcac)]('passing-score-input')['value'])||0x0,'isAdaptive':document['getElementById'](_0x2b784f(0x1f9))[_0x2b784f(0x553)],'loopUntilPass':document['getElementById'](_0x2b784f(0x661))['checked']},_0x355e47=(currentQuizData[_0x2b784f(0x8f1)]||[])['map']((_0x4f1241,_0x4b7e2e)=>{const _0x55f8b5=_0x2b784f,_0x4d17d3=document[_0x55f8b5(0xcac)]('quiz-type-select')[_0x55f8b5(0x1a0)],_0x1de00f={'id':'q_'+Date[_0x55f8b5(0xc85)]()+'_'+_0x4b7e2e,'questionText':_0x4f1241['questionText']||'','explanation':_0x4f1241[_0x55f8b5(0xb63)]||_0x55f8b5(0x6bb),'questionType':_0x4f1241[_0x55f8b5(0xb42)]||_0x4d17d3,'imageCode':_0x4f1241[_0x55f8b5(0x65a)]||null};return(_0x1de00f['questionType']===_0x55f8b5(0xb47)||_0x1de00f[_0x55f8b5(0xb42)]===_0x55f8b5(0x7cc)||_0x1de00f[_0x55f8b5(0xb42)]===_0x55f8b5(0x76a)&&_0x4f1241[_0x55f8b5(0xbd7)])&&(_0x1de00f[_0x55f8b5(0xbd7)]=_0x4f1241[_0x55f8b5(0xbd7)]||[],_0x1de00f[_0x55f8b5(0x576)]=_0x4f1241[_0x55f8b5(0x576)]!==undefined?_0x4f1241['correctAnswerIndex']:0x0),(_0x1de00f[_0x55f8b5(0xb42)]===_0x55f8b5(0x982)||_0x1de00f[_0x55f8b5(0xb42)]===_0x55f8b5(0x1ec)||_0x1de00f[_0x55f8b5(0xb42)]===_0x55f8b5(0x76a)&&_0x4f1241[_0x55f8b5(0x4a7)])&&(_0x1de00f[_0x55f8b5(0x4a7)]=_0x4f1241[_0x55f8b5(0x4a7)]||''),_0x1de00f[_0x55f8b5(0xb42)]==='true_false'&&(_0x1de00f[_0x55f8b5(0x492)]=_0x4f1241[_0x55f8b5(0x492)]===!![]),_0x1de00f[_0x55f8b5(0xb42)]===_0x55f8b5(0xc00)&&(_0x1de00f['stem']=_0x4f1241[_0x55f8b5(0x388)]||'',_0x1de00f[_0x55f8b5(0x964)]=_0x4f1241[_0x55f8b5(0x964)]||'',_0x1de00f['allResponses']=_0x4f1241[_0x55f8b5(0xa33)]||[]),_0x1de00f;}),_0x55ab5d={'topic':_0x23dd46,'quizType':currentQuizData[_0x2b784f(0x196)]||_0x2b784f(0xb47),'questions':_0x355e47,'projectId':_0x35176e,'createdBy':userId,'createdAt':new Date()[_0x2b784f(0xa3e)](),'status':_0x2b784f(0x993),'settings':_0x5875e6,'quizMode':_0x17a014?'pre-test':_0x2b784f(0xb7b),'pairedQuizId':null,'lessonPlan':null};let _0x23e468;while(!![]){_0x23e468=Math[_0x2b784f(0x3fd)](0x3e8+Math[_0x2b784f(0x53f)]()*0x2328)[_0x2b784f(0xb8f)]();const _0x1127ce=await getDoc(doc(db,'artifacts/'+appId+_0x2b784f(0x1fa),_0x23e468));if(!_0x1127ce['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x2b784f(0x1fa),_0x23e468),_0x55ab5d);if(_0x4eab14&&currentBlueprintProjectId){console[_0x2b784f(0x18c)](_0x2b784f(0xb15)+_0x23e468+_0x2b784f(0x4ef)+_0x4eab14);try{const _0x10ed8a=doc(db,_0x2b784f(0x1c4)+appId+_0x2b784f(0x8c1),currentBlueprintProjectId);await updateDoc(_0x10ed8a,{[_0x2b784f(0x382)+_0x4eab14+_0x2b784f(0x82b)]:arrayUnion(_0x23e468)});}catch(_0x4e829f){console['error'](_0x2b784f(0x173),_0x4e829f);}}currentQuizData['settings']=_0x5875e6,currentQuizData['id']=_0x23e468;const _0xbc0b9d=document[_0x2b784f(0xcac)]('generated-quiz-actions');_0xbc0b9d[_0x2b784f(0x64a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x23e468+_0x2b784f(0x2ed),document[_0x2b784f(0xcac)](_0x2b784f(0xc55))[_0x2b784f(0x36e)](_0x2b784f(0x486),()=>copyTextToClipboard(_0x23e468,'คัดลอกรหัสแล้ว!')),document['getElementById']('start-live-race-generated-btn')[_0x2b784f(0x36e)](_0x2b784f(0x486),()=>handleStartLiveRace(_0x23e468)),document['getElementById'](_0x2b784f(0x9ef))[_0x2b784f(0x36e)](_0x2b784f(0x486),()=>startPresentation(currentQuizData)),document[_0x2b784f(0xcac)]('admin-try-quiz-btn')[_0x2b784f(0x36e)](_0x2b784f(0x486),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x1ea326){console['error']('Error\x20saving\x20quiz:',_0x1ea326),showMessage(_0x2b784f(0x848));}finally{_0x2e42d4['disabled']=![],_0x2e42d4[_0x2b784f(0x64a)]=_0x2b784f(0x2a2);}}function promptForProjectAndSave(){const _0x3f475e=_0x44691e,_0x28073e=document[_0x3f475e(0xcac)](_0x3f475e(0x269)),_0x55b1a9=document[_0x3f475e(0xcac)](_0x3f475e(0x6a7)),_0x29029b=_0x28073e[_0x3f475e(0x909)]('h3'),_0xa397e2=document[_0x3f475e(0xcac)](_0x3f475e(0xa5d));_0x29029b[_0x3f475e(0x20a)]=_0x3f475e(0x749),_0xa397e2[_0x3f475e(0x20a)]=_0x3f475e(0x20c);allProjects[_0x3f475e(0x8b4)]===0x0?(_0x55b1a9[_0x3f475e(0x64a)]=_0x3f475e(0x95f),_0xa397e2[_0x3f475e(0x585)]=!![]):(_0x55b1a9[_0x3f475e(0x64a)]=allProjects[_0x3f475e(0x39a)](_0x389611=>'<option\x20value=\x22'+_0x389611['id']+'\x22>'+_0x389611['projectName']+_0x3f475e(0x61d))[_0x3f475e(0xad6)](''),_0xa397e2[_0x3f475e(0x585)]=![]);_0x28073e[_0x3f475e(0x534)][_0x3f475e(0x392)]('hidden');const _0x15fd85=()=>{const _0x35f536=_0x3f475e,_0x39e08c=_0x55b1a9[_0x35f536(0x1a0)];_0x39e08c?(currentProjectId=_0x39e08c,_0x28073e[_0x35f536(0x534)][_0x35f536(0x174)](_0x35f536(0xb2f)),saveQuiz(),_0x29029b[_0x35f536(0x20a)]=_0x35f536(0xb6f),_0xa397e2[_0x35f536(0x20a)]=_0x35f536(0xbe4),_0xa397e2[_0x35f536(0x4c9)](_0x35f536(0x486),_0x15fd85),_0xa397e2[_0x35f536(0x36e)]('click',confirmMoveQuiz)):showMessage(_0x35f536(0x49e));};_0xa397e2['removeEventListener'](_0x3f475e(0x486),confirmMoveQuiz),_0xa397e2[_0x3f475e(0x36e)]('click',_0x15fd85);}function copyTextToClipboard(_0x205d63,_0x25205c){const _0x469bde=_0x44691e,_0x36cce6=document[_0x469bde(0x5c5)](_0x469bde(0x568));_0x36cce6[_0x469bde(0x1a0)]=_0x205d63,_0x36cce6['style'][_0x469bde(0xb3d)]=_0x469bde(0x1d4),_0x36cce6[_0x469bde(0xad3)][_0x469bde(0x285)]='0',document[_0x469bde(0xa2f)][_0x469bde(0x740)](_0x36cce6),_0x36cce6['focus'](),_0x36cce6[_0x469bde(0x1eb)]();try{const _0x419b17=document[_0x469bde(0xbd2)](_0x469bde(0x44e));showMessage(_0x419b17?_0x25205c:_0x469bde(0x5d4));}catch(_0x450d51){showMessage(_0x469bde(0x5d4)),console['error'](_0x469bde(0x28e),_0x450d51);}document[_0x469bde(0xa2f)]['removeChild'](_0x36cce6);}function listenForProjectQuizzes(_0x5c4251){const _0x159c4f=_0x44691e,_0x5dbe99=collection(db,'artifacts/'+appId+_0x159c4f(0x1fa)),_0x2a6071=query(_0x5dbe99,where(_0x159c4f(0x370),'==',_0x5c4251));unsubscribeQuizzesListener=onSnapshot(_0x2a6071,async _0x4268a9=>{const _0x2dae53=_0x159c4f;allQuizzes=_0x4268a9[_0x2dae53(0xb1e)][_0x2dae53(0x39a)](_0x881ed3=>({'id':_0x881ed3['id'],..._0x881ed3[_0x2dae53(0x2a7)]()})),renderQuizzes();},_0x2cf3e5=>{const _0x584f2d=_0x159c4f;console[_0x584f2d(0x723)](_0x584f2d(0x31b),_0x2cf3e5),document['getElementById'](_0x584f2d(0xbae))[_0x584f2d(0x64a)]=_0x584f2d(0xb1a);});}async function renderQuizzes(){const _0x4a025e=_0x44691e,_0x4f6e99=document['getElementById'](_0x4a025e(0xbae)),_0x1974b7=document[_0x4a025e(0xcac)](_0x4a025e(0xab2))[_0x4a025e(0x1a0)]['toLowerCase']();let _0x33de25;currentProjectId===_0x4a025e(0x23c)?_0x33de25=starredQuizzes:_0x33de25=allQuizzes;let _0x5b0b88=_0x33de25[_0x4a025e(0x686)](_0x35facd=>_0x35facd['topic'][_0x4a025e(0x3e6)]()[_0x4a025e(0x764)](_0x1974b7));_0x5b0b88[_0x4a025e(0xa24)]((_0xbf6958,_0x10af4e)=>new Date(_0x10af4e[_0x4a025e(0xa58)])-new Date(_0xbf6958[_0x4a025e(0xa58)]));if(_0x5b0b88[_0x4a025e(0x8b4)]===0x0){_0x4f6e99[_0x4a025e(0x64a)]=_0x4a025e(0x367);return;}const _0x5d7bf3={},_0x52ef7b=_0x5b0b88[_0x4a025e(0x39a)](async _0x5d5eb4=>{const _0x1447cb=_0x4a025e,_0xf49bc4=collection(db,_0x1447cb(0x1c4)+appId+_0x1447cb(0x7c5)+_0x5d5eb4['id']+_0x1447cb(0x8c6)),_0x2ed838=await getDocs(_0xf49bc4);_0x5d7bf3[_0x5d5eb4['id']]=_0x2ed838[_0x1447cb(0x253)];});await Promise[_0x4a025e(0x2c7)](_0x52ef7b);let _0x1fafaf='';_0x5b0b88[_0x4a025e(0xc74)](_0x5d89b1=>{const _0x2e8d44=_0x4a025e,_0x5deb4a=_0x5d7bf3[_0x5d89b1['id']]||0x0,_0x324a01=_0x5d89b1['status']||'active',_0x11e330=_0x5d89b1['settings']?.[_0x2e8d44(0x700)]||'none';let _0x42eee9='',_0x7c23eb='';const _0x134b53=new Date();let _0x16a53b=_0x324a01;if(_0x324a01===_0x2e8d44(0xa1f)){const _0x2b5882=_0x5d89b1[_0x2e8d44(0x639)]?new Date(_0x5d89b1[_0x2e8d44(0x639)]):null,_0x20c607=_0x5d89b1[_0x2e8d44(0x165)]?new Date(_0x5d89b1[_0x2e8d44(0x165)]):null;if(_0x20c607&&_0x134b53>_0x20c607)_0x16a53b=_0x2e8d44(0x6b2);else _0x2b5882&&_0x134b53<_0x2b5882?_0x16a53b=_0x2e8d44(0x662):_0x16a53b=_0x2e8d44(0x993);}switch(_0x16a53b){case'inactive':_0x42eee9=_0x2e8d44(0x6ad),_0x7c23eb=_0x2e8d44(0x421);break;case _0x2e8d44(0x662):_0x42eee9=_0x2e8d44(0xcd4),_0x7c23eb='text-blue-700\x20bg-blue-100';break;case _0x2e8d44(0x993):_0x42eee9=_0x11e330!==_0x2e8d44(0xb7d)?_0x2e8d44(0xbbb):'เปิดใช้งาน',_0x7c23eb='text-green-700\x20bg-green-100';break;default:_0x42eee9='ตั้งเวลา\x20(เปิด)',_0x7c23eb='text-green-700\x20bg-green-100';break;}let _0x53e937='';const _0x4a69b6={'day':_0x2e8d44(0xc9a),'month':'2-digit','year':_0x2e8d44(0x1ee),'hour':_0x2e8d44(0xc9a),'minute':_0x2e8d44(0xc9a),'hour12':![]};if(_0x324a01===_0x2e8d44(0xa1f)){if(_0x5d89b1[_0x2e8d44(0x639)])_0x53e937+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x5d89b1[_0x2e8d44(0x639)])['toLocaleString']('th-TH',_0x4a69b6)+_0x2e8d44(0xb34);if(_0x5d89b1[_0x2e8d44(0x165)])_0x53e937+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x5d89b1['endTime'])[_0x2e8d44(0x2fc)](_0x2e8d44(0x976),_0x4a69b6)+_0x2e8d44(0xb34);}let _0x3e6a64='';if(_0x5d89b1[_0x2e8d44(0x4c8)]){const _0x279370=allQuizzes[_0x2e8d44(0xb3a)](_0x4cc125=>_0x4cc125['id']===_0x5d89b1[_0x2e8d44(0x4c8)]);if(_0x279370){let _0x3ce428,_0x416243;new Date(_0x5d89b1[_0x2e8d44(0xa58)])<new Date(_0x279370[_0x2e8d44(0xa58)])?(_0x3ce428=_0x5d89b1['id'],_0x416243=_0x279370['id']):(_0x3ce428=_0x279370['id'],_0x416243=_0x5d89b1['id']),_0x3e6a64+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x416243+_0x2e8d44(0x351)+_0x3ce428+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x5d89b1['quizMode']===_0x2e8d44(0x474)&&(_0x3e6a64+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5d89b1['id']+_0x2e8d44(0x834));if(_0x5d89b1[_0x2e8d44(0x42c)]==='pre-test'&&_0x5deb4a>0x0)_0x3e6a64+=_0x2e8d44(0xc32)+_0x5d89b1['id']+_0x2e8d44(0x659);else!_0x5d89b1[_0x2e8d44(0x4c8)]&&_0x5d89b1['quizMode']!==_0x2e8d44(0x474)&&_0x5deb4a>0x0&&(_0x3e6a64+=_0x2e8d44(0xc32)+_0x5d89b1['id']+_0x2e8d44(0x4f0));let _0x8d051e='';_0x5d89b1[_0x2e8d44(0x4c8)]?_0x8d051e=_0x2e8d44(0x612)+_0x5d89b1['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x8d051e='<button\x20data-quiz-id=\x22'+_0x5d89b1['id']+_0x2e8d44(0x448),_0x1fafaf+=_0x2e8d44(0x919)+_0x5d89b1['id']+_0x2e8d44(0x395)+_0x5d89b1['topic']+_0x2e8d44(0x81f)+_0x5d89b1['questions'][_0x2e8d44(0x8b4)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x5d89b1[_0x2e8d44(0xa58)])['toLocaleString'](_0x2e8d44(0x976))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x5deb4a+_0x2e8d44(0xa78)+_0x53e937+_0x2e8d44(0x411)+_0x7c23eb+'\x22>'+_0x42eee9+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5d89b1['id']+_0x2e8d44(0xaef)+_0x5d89b1['id']+_0x2e8d44(0x52f)+(_0x5d89b1[_0x2e8d44(0xa7c)]?'fas\x20fa-star\x20text-yellow-500':_0x2e8d44(0x7a5))+_0x2e8d44(0x31e)+_0x3e6a64+_0x2e8d44(0x5b5)+_0x5d89b1['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x5d89b1['id']+_0x2e8d44(0x5c1)+_0x5d89b1['id']+_0x2e8d44(0x477)+_0x5d89b1['id']+_0x2e8d44(0xc73)+_0x5d89b1['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5d89b1['id']+_0x2e8d44(0x4c4)+_0x5d89b1['id']+_0x2e8d44(0xba7)+_0x5d89b1['topic']+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5d89b1['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5d89b1['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x8d051e+_0x2e8d44(0xbcd)+_0x5d89b1['id']+_0x2e8d44(0x535)+_0x5d89b1['id']+_0x2e8d44(0x869)+_0x5d89b1['id']+_0x2e8d44(0x466)+_0x5d89b1['id']+_0x2e8d44(0x79b)+_0x5d89b1['id']+_0x2e8d44(0x3a4)+_0x5d89b1['id']+_0x2e8d44(0x3b1)+_0x5d89b1['id']+_0x2e8d44(0x922)+_0x5d89b1['id']+'\x22\x20data-topic=\x22'+_0x5d89b1['topic']+_0x2e8d44(0x3d4)+_0x5d89b1['id']+_0x2e8d44(0x757);}),_0x4f6e99[_0x4a025e(0x64a)]=_0x1fafaf,document[_0x4a025e(0x32a)]('.quiz-result-card')[_0x4a025e(0xc74)](_0x392c7e=>{const _0x1fc240=_0x4a025e;_0x392c7e['addEventListener'](_0x1fc240(0x486),()=>{const _0x565da8=_0x1fc240,_0x52a148=_0x392c7e[_0x565da8(0x5fd)][_0x565da8(0xae2)];showQuizDetailView(_0x52a148);});});}async function handleUnpairQuiz(_0xc713e5){const _0x787866=_0x44691e,_0x381cb8=allQuizzes['find'](_0x2b60b8=>_0x2b60b8['id']===_0xc713e5);if(!_0x381cb8||!_0x381cb8[_0x787866(0x4c8)]){showMessage(_0x787866(0x146));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?',async()=>{const _0x264c37=_0x787866;try{const _0x2a65c9=doc(db,_0x264c37(0x1c4)+appId+'/public/data/quizzes',_0xc713e5),_0x14d298=doc(db,_0x264c37(0x1c4)+appId+_0x264c37(0x1fa),_0x381cb8['pairedQuizId']),_0x46cef4=writeBatch(db);_0x46cef4[_0x264c37(0x626)](_0x2a65c9,{'pairedQuizId':null}),_0x46cef4[_0x264c37(0x626)](_0x14d298,{'pairedQuizId':null}),await _0x46cef4[_0x264c37(0xae9)](),showMessage(_0x264c37(0x90b));}catch(_0x38383b){console['error'](_0x264c37(0x98b),_0x38383b),showMessage(_0x264c37(0xcaf));}});}function formatAndPrintLessonPlan(_0x4bfe9c,_0x24fe2d){const _0x25bf18=_0x44691e,_0x323d9b=window[_0x25bf18(0xc2c)]('',_0x25bf18(0x5e9)),_0x28cc38=_0x25bf18(0xaf0)+_0x24fe2d['topic']+_0x25bf18(0x587)+_0x24fe2d[_0x25bf18(0x180)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4bfe9c[_0x25bf18(0x648)]['map'](_0x2e8460=>_0x25bf18(0xb66)+_0x2e8460+_0x25bf18(0x62a))[_0x25bf18(0xad6)]('')+_0x25bf18(0x6b9)+_0x4bfe9c['teachingContent']+_0x25bf18(0x4f7)+_0x4bfe9c['practiceProblems']['map'](_0x4fc3d9=>_0x25bf18(0x948)+_0x4fc3d9[_0x25bf18(0x4d5)]+_0x25bf18(0x638)+_0x4fc3d9[_0x25bf18(0x8d4)]+_0x25bf18(0x799))[_0x25bf18(0xad6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x323d9b['document'][_0x25bf18(0xc6c)](_0x28cc38),_0x323d9b[_0x25bf18(0xab9)]['close'](),_0x323d9b[_0x25bf18(0x48f)]=function(){setTimeout(()=>{_0x323d9b['print']();},0x3e8);};}async function handleAiFixFormula(_0x26c6c8){const _0x5958d4=_0x44691e,_0xb4c636=document[_0x5958d4(0x909)]('.question-editor-item[data-q-index=\x22'+_0x26c6c8+'\x22]');if(!_0xb4c636)return;const _0x323c9e=_0xb4c636['dataset'][_0x5958d4(0x47c)],_0x1b87f8=_0xb4c636[_0x5958d4(0x909)]('.ai-fix-formula-btn');let _0x323d83={'question':_0xb4c636[_0x5958d4(0x909)](_0x5958d4(0x568))[_0x5958d4(0x1a0)]};switch(_0x323c9e){case _0x5958d4(0xb47):_0x323d83[_0x5958d4(0xbd7)]=Array[_0x5958d4(0xb61)](_0xb4c636[_0x5958d4(0x32a)](_0x5958d4(0x366)))[_0x5958d4(0x39a)](_0x1a3e5e=>_0x1a3e5e[_0x5958d4(0x1a0)]);break;case'short_answer':_0x323d83['idealAnswer']=_0xb4c636[_0x5958d4(0x909)](_0x5958d4(0x772))[_0x5958d4(0x1a0)];break;case _0x5958d4(0xc00):_0x323d83[_0x5958d4(0x964)]=_0xb4c636[_0x5958d4(0x909)](_0x5958d4(0x3e3))['value'];break;}_0x1b87f8[_0x5958d4(0x64a)]=_0x5958d4(0x78b),_0x1b87f8[_0x5958d4(0x585)]=!![];try{const _0x852dd6=_0x5958d4(0x76b)+JSON['stringify'](_0x323d83)+_0x5958d4(0x77b),_0x50f432={'type':_0x5958d4(0xc37),'properties':{'fixedData':{'type':_0x5958d4(0xc37),'properties':{'question':{'type':_0x5958d4(0xb46)},'options':{'type':_0x5958d4(0x542),'items':{'type':'STRING'}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':'STRING'}},'required':[_0x5958d4(0x4d5)]}},'required':[_0x5958d4(0xaae)]},_0x434000=await callAnalysisApi(_0x852dd6,_0x50f432);if(_0x434000&&_0x434000[_0x5958d4(0xaae)]){const _0x42f3e9=_0x434000['fixedData'];_0xb4c636['querySelector'](_0x5958d4(0x568))[_0x5958d4(0x1a0)]=_0x42f3e9['question']||_0x323d83[_0x5958d4(0x4d5)];switch(_0x323c9e){case _0x5958d4(0xb47):_0x42f3e9[_0x5958d4(0xbd7)]&&_0x42f3e9['options'][_0x5958d4(0x8b4)]>0x0&&_0xb4c636[_0x5958d4(0x32a)](_0x5958d4(0x366))[_0x5958d4(0xc74)]((_0x521858,_0x3b2d50)=>{const _0x239e1d=_0x5958d4;_0x521858[_0x239e1d(0x1a0)]=_0x42f3e9[_0x239e1d(0xbd7)][_0x3b2d50]||_0x323d83['options'][_0x3b2d50];});break;case'short_answer':_0xb4c636['querySelector'](_0x5958d4(0x772))['value']=_0x42f3e9['idealAnswer']||_0x323d83[_0x5958d4(0x4a7)];break;case _0x5958d4(0xc00):_0xb4c636['querySelector'](_0x5958d4(0x3e3))['value']=_0x42f3e9[_0x5958d4(0x964)]||_0x323d83[_0x5958d4(0x964)];break;}if(_0x323d83[_0x5958d4(0x4d5)]!==_0x42f3e9['question'])try{const _0xa0752c=collection(db,_0x5958d4(0x1c4)+appId+'/public/data/learnedFixes');await addDoc(_0xa0752c,{'broken':_0x323d83[_0x5958d4(0x4d5)],'fixed':_0x42f3e9[_0x5958d4(0x4d5)],'createdAt':serverTimestamp()});}catch(_0x3e724d){console[_0x5958d4(0x723)]('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x3e724d);}showMessage(_0x5958d4(0x46b));}else throw new Error(_0x5958d4(0x25e));}catch(_0x486546){console['error'](_0x5958d4(0x3ca),_0x486546),showMessage(_0x5958d4(0x9aa));}finally{_0x1b87f8[_0x5958d4(0x64a)]='<i\x20class=\x22fas\x20fa-magic\x22></i>',_0x1b87f8[_0x5958d4(0x585)]=![];}}async function handleGenerateLessonPlan(_0x4ab493){const _0x2cdaca=_0x44691e;showMessage(_0x2cdaca(0x6ef));try{const _0x48ca69=doc(db,_0x2cdaca(0x1c4)+appId+_0x2cdaca(0x1fa),_0x4ab493),_0x1ee12f=await getDoc(_0x48ca69);if(!_0x1ee12f[_0x2cdaca(0x72f)]())throw new Error(_0x2cdaca(0x809));const _0x48a9ee={'id':_0x4ab493,..._0x1ee12f[_0x2cdaca(0x2a7)]()},_0x9eb951=collection(db,_0x2cdaca(0x1c4)+appId+_0x2cdaca(0x1fa),_0x4ab493,_0x2cdaca(0x667)),_0x91a743=await getDocs(_0x9eb951),_0x384b58=_0x91a743[_0x2cdaca(0xb1e)][_0x2cdaca(0x39a)](_0x4842e2=>_0x4842e2[_0x2cdaca(0x2a7)]());if(_0x384b58[_0x2cdaca(0x8b4)]===0x0)throw new Error(_0x2cdaca(0x571));const _0x40a42c=calculateItemAnalysis(_0x48a9ee,_0x384b58)[_0x2cdaca(0xc0e)],_0x42b178=calculateDistractorAnalysis(_0x48a9ee,_0x384b58),_0x5d5ae5=_0x26c756=>{const _0xbe97d3=_0x2cdaca;if(!_0x26c756)return'';return _0x26c756[_0xbe97d3(0x7ea)](/\\/g,'\x5c\x5c')[_0xbe97d3(0x7ea)](/"/g,'\x5c\x22')[_0xbe97d3(0x7ea)](/\n/g,'\x5cn');};let _0x36b725=_0x2cdaca(0xc7b);_0x48a9ee[_0x2cdaca(0x8f1)][_0x2cdaca(0xc74)]((_0x2e19b7,_0x1ca3d7)=>{const _0x302602=_0x2cdaca,_0xcca16d=_0x40a42c[_0x1ca3d7]?.['p'][_0x302602(0xc75)](0x2)||_0x302602(0x2f7),_0x149397=_0x40a42c[_0x1ca3d7]?.['r'][_0x302602(0xc75)](0x2)||'N/A',_0x3b2bd1=_0x5d5ae5(_0x2e19b7[_0x302602(0x83f)]||_0x2e19b7[_0x302602(0x388)]);_0x36b725+='-\x20ข้อ\x20'+(_0x1ca3d7+0x1)+_0x302602(0x3af)+_0xcca16d+_0x302602(0x3e7)+_0x149397+_0x302602(0xc88)+_0x3b2bd1+'\x5cn';if(_0x2e19b7[_0x302602(0xb42)]==='multiple_choice'&&_0x42b178[_0x1ca3d7]){const _0xd22e3a=_0x42b178[_0x1ca3d7],_0x1cbf8d=Object[_0x302602(0x53e)](_0xd22e3a)['filter'](_0x66e2e2=>parseInt(_0x66e2e2)!==_0x2e19b7[_0x302602(0x576)])[_0x302602(0xa24)]((_0xc1a56,_0x5bd70a)=>_0xd22e3a[_0x5bd70a][_0x302602(0x4d7)]-_0xd22e3a[_0xc1a56][_0x302602(0x4d7)])[0x0];if(_0x1cbf8d&&_0xd22e3a[_0x1cbf8d][_0x302602(0x4d7)]>0x0){const _0x15cd7a=_0x5d5ae5(_0xd22e3a[_0x1cbf8d][_0x302602(0x18b)]);_0x36b725+=_0x302602(0x6be)+_0x15cd7a+_0x302602(0xab8);}}});const _0x49b1eb=_0x2cdaca(0x8ec)+_0x48a9ee[_0x2cdaca(0x180)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x36b725+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3e1655={'type':_0x2cdaca(0xc37),'properties':{'learningGaps':{'type':'ARRAY','items':{'type':'STRING'}},'teachingContent':{'type':_0x2cdaca(0xb46)},'practiceProblems':{'type':_0x2cdaca(0x542),'items':{'type':_0x2cdaca(0xc37),'properties':{'question':{'type':_0x2cdaca(0xb46)},'solution':{'type':_0x2cdaca(0xb46)}}}}},'required':[_0x2cdaca(0x648),_0x2cdaca(0x5b8),_0x2cdaca(0xc05)]},_0x113b8f=await callAnalysisApi(_0x49b1eb,_0x3e1655);await updateDoc(_0x48ca69,{'lessonPlan':_0x113b8f});const _0x379320='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x48a9ee[_0x2cdaca(0x180)]+_0x2cdaca(0x7c1)+_0x113b8f['learningGaps'][_0x2cdaca(0x39a)](_0x3d5300=>_0x2cdaca(0xb66)+_0x3d5300+_0x2cdaca(0x62a))[_0x2cdaca(0xad6)]('')+_0x2cdaca(0xc7f)+_0x113b8f[_0x2cdaca(0x5b8)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x113b8f[_0x2cdaca(0xc05)][_0x2cdaca(0x39a)](_0x293a83=>_0x2cdaca(0x693)+_0x293a83[_0x2cdaca(0x4d5)]+_0x2cdaca(0x5fc)+_0x293a83['solution']+_0x2cdaca(0x8b0))['join']('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x2cdaca(0xcac)](_0x2cdaca(0x4fd))[_0x2cdaca(0x20a)]=_0x2cdaca(0x2a3)+_0x48a9ee[_0x2cdaca(0x180)],document[_0x2cdaca(0xcac)]('lesson-plan-content')[_0x2cdaca(0x64a)]=_0x379320,document[_0x2cdaca(0xcac)](_0x2cdaca(0xa8e))['classList'][_0x2cdaca(0x392)](_0x2cdaca(0xb2f));if(window[_0x2cdaca(0x2b2)])MathJax[_0x2cdaca(0xca5)]();messageModal[_0x2cdaca(0x534)][_0x2cdaca(0x174)](_0x2cdaca(0xb2f));}catch(_0x4910b8){console['error']('Error\x20generating\x20lesson\x20plan:',_0x4910b8),showMessage(_0x2cdaca(0x40a)+_0x4910b8[_0x2cdaca(0xca0)]);}}async function handleDuplicateQuiz(_0x1b91c8){const _0x38b4f9=_0x44691e;try{const _0x4eede3=doc(db,_0x38b4f9(0x1c4)+appId+_0x38b4f9(0x1fa),_0x1b91c8),_0x40c4f3=await getDoc(_0x4eede3);if(_0x40c4f3[_0x38b4f9(0x72f)]()){const _0x4ae29d=_0x40c4f3['data']();let _0x58bad6='',_0x556c76=_0x38b4f9(0xb7b),_0x3ab74d=null;if(_0x4ae29d[_0x38b4f9(0x42c)]===_0x38b4f9(0x474)){let _0x768210=_0x4ae29d[_0x38b4f9(0x180)][_0x38b4f9(0x7ea)](_0x38b4f9(0xc29),'')[_0x38b4f9(0x5a4)]();_0x58bad6=_0x38b4f9(0x729)+_0x768210,_0x556c76=_0x38b4f9(0x8fe),_0x3ab74d=_0x1b91c8;}else _0x58bad6='(คัดลอก)\x20'+_0x4ae29d[_0x38b4f9(0x180)];const _0xbabc6b={..._0x4ae29d,'topic':_0x58bad6,'createdAt':new Date()[_0x38b4f9(0xa3e)](),'quizMode':_0x556c76,'pairedQuizId':_0x3ab74d};let _0x5ad0c8;while(!![]){_0x5ad0c8=Math[_0x38b4f9(0x3fd)](0x3e8+Math[_0x38b4f9(0x53f)]()*0x2328)[_0x38b4f9(0xb8f)]();const _0x4832ad=await getDoc(doc(db,_0x38b4f9(0x1c4)+appId+_0x38b4f9(0x1fa),_0x5ad0c8));if(!_0x4832ad[_0x38b4f9(0x72f)]())break;}const _0x22bc0c=doc(db,_0x38b4f9(0x1c4)+appId+_0x38b4f9(0x1fa),_0x5ad0c8);await setDoc(_0x22bc0c,_0xbabc6b),_0xbabc6b[_0x38b4f9(0x42c)]===_0x38b4f9(0x8fe)&&await updateDoc(_0x4eede3,{'pairedQuizId':_0x5ad0c8}),showMessage(_0x38b4f9(0x614));}else throw new Error(_0x38b4f9(0x938));}catch(_0x43b61d){console[_0x38b4f9(0x723)](_0x38b4f9(0x2ac),_0x43b61d),showMessage(_0x38b4f9(0x9fc));}}async function handleDeleteQuiz(_0xcc7a1e,_0x9d06a1=!![]){const _0x40e72f=_0x44691e;try{const _0x511c9e=writeBatch(db),_0x3b7c97=collection(db,_0x40e72f(0x1c4)+appId+_0x40e72f(0x7c5)+_0xcc7a1e+_0x40e72f(0x8c6)),_0x215b29=await getDocs(_0x3b7c97);_0x215b29[_0x40e72f(0xc74)](_0xa97ebf=>{const _0x57eff5=_0x40e72f;_0x511c9e[_0x57eff5(0x6ce)](doc(_0x3b7c97,_0xa97ebf['id']));});const _0x35060b=doc(db,'artifacts/'+appId+_0x40e72f(0x1fa),_0xcc7a1e);_0x511c9e[_0x40e72f(0x6ce)](_0x35060b),await _0x511c9e[_0x40e72f(0xae9)]();try{console[_0x40e72f(0x18c)]('Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20'+_0xcc7a1e+_0x40e72f(0x6aa));const _0x356179=collection(db,_0x40e72f(0x1c4)+appId+'/public/data/blueprintProjects'),_0x5e412e=await getDocs(_0x356179),_0x1ae9bc=[];_0x5e412e[_0x40e72f(0xc74)](_0x196e97=>{const _0x5a4989=_0x40e72f,_0x1f6f00=_0x196e97['data'](),_0x4982b2=_0x1f6f00['topics']||{};let _0x4ac9b8=![];for(const _0x251e47 in _0x4982b2){const _0x1a5d4a=_0x4982b2[_0x251e47];if(_0x1a5d4a[_0x5a4989(0x695)]&&_0x1a5d4a[_0x5a4989(0x695)][_0x5a4989(0x764)](_0xcc7a1e)){_0x4ac9b8=!![];const _0xdb5ccb=doc(db,_0x5a4989(0x1c4)+appId+'/public/data/blueprintProjects',_0x196e97['id']),_0x10e820=updateDoc(_0xdb5ccb,{[_0x5a4989(0x382)+_0x251e47+'.linkedQuizIds']:arrayRemove(_0xcc7a1e)});_0x1ae9bc[_0x5a4989(0xa12)](_0x10e820);}}}),_0x1ae9bc[_0x40e72f(0x8b4)]>0x0&&(await Promise[_0x40e72f(0x2c7)](_0x1ae9bc),console[_0x40e72f(0x18c)]('Successfully\x20removed\x20'+_0x1ae9bc[_0x40e72f(0x8b4)]+_0x40e72f(0x482)+_0xcc7a1e+'.'));}catch(_0x5f0c02){console[_0x40e72f(0x723)](_0x40e72f(0x313),_0x5f0c02);}_0x9d06a1&&showMessage(_0x40e72f(0x157));}catch(_0x1d5e7d){console[_0x40e72f(0x723)](_0x40e72f(0x520),_0x1d5e7d),_0x9d06a1&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x5c7514){const _0x4fd1cd=_0x44691e;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x4fd1cd(0x56c));try{const _0x53debe=doc(db,'artifacts/'+appId+_0x4fd1cd(0x1fa),_0x5c7514),_0x488e36=await getDoc(_0x53debe);if(!_0x488e36['exists']()){showMessage(_0x4fd1cd(0x809));return;}const _0x5df425={'id':_0x488e36['id'],..._0x488e36[_0x4fd1cd(0x2a7)]()};currentQuizData=_0x5df425;const _0x3d7e51=doc(db,'artifacts/'+appId+_0x4fd1cd(0x6b6),_0x5df425[_0x4fd1cd(0x370)]),_0x253d0f=await getDoc(_0x3d7e51);_0x253d0f[_0x4fd1cd(0x72f)]()?(currentProjectData=_0x253d0f[_0x4fd1cd(0x2a7)](),currentProjectId=_0x5df425[_0x4fd1cd(0x370)]):(currentProjectData={'students':[]},currentProjectId=_0x5df425[_0x4fd1cd(0x370)]);document[_0x4fd1cd(0xcac)]('results-quiz-title')[_0x4fd1cd(0x20a)]=_0x5df425[_0x4fd1cd(0x180)],document[_0x4fd1cd(0xcac)]('results-quiz-id-display')['textContent']=_0x5c7514;const _0x5a3695=collection(db,_0x4fd1cd(0x1c4)+appId+_0x4fd1cd(0x1fa),_0x5c7514,_0x4fd1cd(0x667));unsubscribeSubmissionsListener=onSnapshot(_0x5a3695,_0x4b14f4=>{const _0x307847=_0x4fd1cd,_0x1dd768=_0x4b14f4[_0x307847(0xb1e)][_0x307847(0x39a)](_0xf7adfd=>({'id':_0xf7adfd['id'],..._0xf7adfd[_0x307847(0x2a7)]()}));currentSubmissions=_0x1dd768;const _0x39b854=_0x1dd768[_0x307847(0x686)](_0x52bfde=>_0x52bfde[_0x307847(0x508)]&&_0x52bfde[_0x307847(0x508)][_0x307847(0x8b4)]>0x0);renderBehaviorLog(_0x1dd768),renderAnswerGrid(currentProjectData[_0x307847(0x81b)],_0x39b854,_0x5df425),renderAnalytics(_0x5df425,_0x39b854),renderQuizResultsTable(currentProjectData[_0x307847(0x81b)],_0x1dd768,_0x5df425),renderQuizLeaderboard(_0x39b854,_0x5df425,_0x307847(0x412));}),showView(_0x4fd1cd(0xadd));}catch(_0x323107){console[_0x4fd1cd(0x723)](_0x4fd1cd(0x716),_0x323107),showMessage(_0x4fd1cd(0x9b5));}}function renderAnswerGrid(_0x39beab,_0x16a7d3,_0x4aabe1){const _0x1cc605=_0x44691e,_0x25fbcf=document[_0x1cc605(0xcac)](_0x1cc605(0x33c));if(!_0x25fbcf)return;if(!_0x39beab||_0x39beab[_0x1cc605(0x8b4)]===0x0){_0x25fbcf[_0x1cc605(0x64a)]=_0x1cc605(0x538);return;}const _0x4dfaef=_0x4aabe1[_0x1cc605(0x8f1)],_0x90bf7f=_0x16a7d3['reduce']((_0x208ab2,_0x50f3ff)=>{const _0x35e7ee=_0x1cc605;return _0x208ab2[_0x50f3ff[_0x35e7ee(0xb26)]]=_0x50f3ff,_0x208ab2;},{}),_0x53b46f=_0x469096=>String[_0x1cc605(0x163)](0x41+_0x469096),_0x1b9717=_0x547e11=>{const _0x2934c0=_0x1cc605,_0x4fe75b=_0x547e11[_0x2934c0(0xb42)]||_0x4aabe1['quizType'];switch(_0x4fe75b){case'multiple_choice':return _0x547e11[_0x2934c0(0xbd7)]&&_0x547e11[_0x2934c0(0xbd7)][_0x2934c0(0x8b4)]>_0x547e11['correctAnswerIndex']?_0x53b46f(_0x547e11['correctAnswerIndex']):'-';case _0x2934c0(0x9c3):const _0x48aff0=_0x547e11[_0x2934c0(0x492)]===!![]||String(_0x547e11[_0x2934c0(0x492)])[_0x2934c0(0x3e6)]()===_0x2934c0(0x97e);return _0x48aff0?_0x2934c0(0x51c):_0x2934c0(0x61e);case _0x2934c0(0xc00):return _0x547e11[_0x2934c0(0x964)]||'-';case _0x2934c0(0x982):return _0x2934c0(0x917);default:return'-';}},_0x509b08=(_0xe3516a,_0x2a6887)=>{const _0x3a316e=_0x1cc605;if(_0x2a6887[_0x3a316e(0x32b)]===null||_0x2a6887['answer']===undefined)return'-';const _0x1b351d=_0xe3516a['questionType']||_0x4aabe1[_0x3a316e(0x196)];switch(_0x1b351d){case'multiple_choice':const _0x2857a4=_0xe3516a['options'][_0x3a316e(0xbce)](_0x15e797=>_0x15e797===_0x2a6887['answerText']);return _0x2857a4!==-0x1?_0x53b46f(_0x2857a4):_0x2a6887[_0x3a316e(0x22d)]||'-';case _0x3a316e(0x9c3):if(_0x2a6887['answer']=='0'||_0x2a6887[_0x3a316e(0x32b)]===!![]||_0x2a6887[_0x3a316e(0x32b)]===_0x3a316e(0x97e))return _0x3a316e(0x51c);return'ไม่ใช่';default:return _0x2a6887[_0x3a316e(0x32b)];}};let _0x5f463a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4dfaef[_0x1cc605(0x39a)]((_0x4255da,_0x40a72a)=>_0x1cc605(0x997)+(_0x40a72a+0x1)+_0x1cc605(0x954))[_0x1cc605(0xad6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4dfaef[_0x1cc605(0x39a)](_0x49cb3a=>_0x1cc605(0x8f6)+_0x1b9717(_0x49cb3a)+_0x1cc605(0x8c4))[_0x1cc605(0xad6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x39beab[_0x1cc605(0xc74)](_0x126ca1=>{const _0x14baca=_0x1cc605;_0x5f463a+=_0x14baca(0x3b5),_0x5f463a+=_0x14baca(0xae7)+_0x126ca1+_0x14baca(0x8c4);const _0x22cd8a=_0x90bf7f[_0x126ca1];if(_0x22cd8a){const _0x1e135f=_0x22cd8a['attempts'][_0x22cd8a['attempts'][_0x14baca(0x8b4)]-0x1];_0x4dfaef[_0x14baca(0xc74)]((_0xb905b2,_0xb94fc7)=>{const _0x3fbbfb=_0x14baca,_0x41591d=_0x1e135f['answers']['find'](_0x17f2eb=>_0x17f2eb[_0x3fbbfb(0x384)]===_0xb905b2['id']);if(_0x41591d){let _0x43770b='';const _0xd8d308=_0x41591d[_0x3fbbfb(0x6e6)]===!![],_0x2dbacf=_0x41591d['wasConfident']===!![]||_0x41591d[_0x3fbbfb(0x759)]===_0x3fbbfb(0x213);_0x2dbacf?_0x43770b=_0xd8d308?_0x3fbbfb(0x2e1):_0x3fbbfb(0xc14):_0x43770b=_0xd8d308?_0x3fbbfb(0x310):_0x3fbbfb(0x9c2),_0x5f463a+=_0x3fbbfb(0x531)+_0x43770b+'\x22>'+_0x509b08(_0xb905b2,_0x41591d)+'</td>';}else _0x5f463a+=_0x3fbbfb(0x2ce);});}else _0x5f463a+=_0x4dfaef[_0x14baca(0x39a)](()=>_0x14baca(0x36d))[_0x14baca(0xad6)]('');_0x5f463a+=_0x14baca(0x615);}),_0x5f463a+=_0x1cc605(0xb03),_0x25fbcf['innerHTML']=_0x5f463a;}function renderQuizResultsTable(_0x340b17,_0x1be241,_0x29545e){const _0x5a6b98=_0x44691e,_0x4a6194=_0x1be241[_0x5a6b98(0xa8a)]((_0x4babba,_0x298375)=>{return _0x4babba[_0x298375['studentName']]=_0x298375,_0x4babba;},{}),_0x9c71c3=document[_0x5a6b98(0x909)](_0x5a6b98(0x41c));_0x9c71c3&&!_0x9c71c3[_0x5a6b98(0x64a)]['includes'](_0x5a6b98(0xc66))&&(_0x9c71c3[_0x5a6b98(0x64a)]+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x3a9368=document[_0x5a6b98(0xcac)](_0x5a6b98(0x979));if(!_0x340b17||_0x340b17[_0x5a6b98(0x8b4)]===0x0){_0x3a9368['innerHTML']=_0x5a6b98(0x7bc);return;}const _0x18feac=_0x29545e[_0x5a6b98(0x2f3)]===!![],_0x49c028=_0x29545e['settings']?.[_0x5a6b98(0x1bd)]??-0x1;let _0x157830='';_0x340b17[_0x5a6b98(0xc74)](_0x5ebea8=>{const _0x33c914=_0x5a6b98,_0x47bb2b=_0x4a6194[_0x5ebea8];let _0x83c384=_0x33c914(0x2ca)+(_0x18feac?'bg-amber-100\x20text-amber-800':'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x18feac?_0x33c914(0x3c5):_0x33c914(0xa96))+_0x33c914(0xbbc);if(_0x47bb2b){if(_0x47bb2b[_0x33c914(0x508)]&&_0x47bb2b[_0x33c914(0x508)][_0x33c914(0x8b4)]>0x0){let _0x3c777c=_0x18feac?_0x47bb2b['bestScore']===_0x47bb2b[_0x33c914(0x15c)]:_0x49c028!==-0x1&&_0x47bb2b[_0x33c914(0xc6a)]>=_0x49c028;const _0xbe4e96=_0x3c777c?_0x33c914(0x93d):_0x33c914(0x81c),_0x2716c4=_0x3c777c?_0x33c914(0x6d2):_0x33c914(0x27e),_0x5152a9='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0xbe4e96+'\x22>'+_0x2716c4+_0x33c914(0xbbc),_0x51317=_0x33c914(0x8cb)+(_0x47bb2b[_0x33c914(0x508)]?.[_0x33c914(0x8b4)]||0x1)+'\x20ครั้ง)</span></td>';_0x157830+=_0x33c914(0xbfe)+_0x5ebea8+_0x33c914(0x617)+_0x47bb2b[_0x33c914(0xc6a)]+'\x20/\x20'+_0x47bb2b[_0x33c914(0x15c)]+_0x33c914(0x2b8)+_0x5152a9+_0x33c914(0x7ab)+_0x83c384+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x47bb2b['firstScore']+'\x20/\x20'+_0x47bb2b[_0x33c914(0x15c)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x47bb2b[_0x33c914(0x1de)]+_0x33c914(0x868)+_0x47bb2b[_0x33c914(0x15c)]+_0x33c914(0x792)+(_0x47bb2b['points']||0x0)+_0x33c914(0x2b8)+_0x51317+_0x33c914(0x885)+new Date(_0x47bb2b[_0x33c914(0x8a0)])[_0x33c914(0x2fc)](_0x33c914(0x976))+_0x33c914(0xae4)+_0x5ebea8+_0x33c914(0xb73);}else{const _0x2e54b5=_0x33c914(0x96b);_0x157830+=_0x33c914(0x957)+_0x5ebea8+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x83c384+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2e54b5+_0x33c914(0x885)+new Date(_0x47bb2b[_0x33c914(0x929)])['toLocaleString']('th-TH')+_0x33c914(0x82f)+_0x5ebea8+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0x3ff9c4=_0x33c914(0x4ec);_0x157830+=_0x33c914(0x325)+_0x5ebea8+_0x33c914(0x344)+_0x83c384+_0x33c914(0x6f8)+_0x3ff9c4+_0x33c914(0x8bd);}}),_0x3a9368['innerHTML']=_0x157830;}async function confirmRenameQuiz(){const _0x41a1d8=_0x44691e,_0x36daf5=document['getElementById'](_0x41a1d8(0x317))[_0x41a1d8(0x1a0)][_0x41a1d8(0x5a4)]();if(!_0x36daf5){showMessage(_0x41a1d8(0xafa));return;}if(!actionTargetId)return;const _0x3eaa6e=doc(db,'artifacts/'+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x3eaa6e,{'topic':_0x36daf5}),showMessage(_0x41a1d8(0x2c0)),renameQuizModal[_0x41a1d8(0x534)][_0x41a1d8(0x174)]('hidden'),actionTargetId=null;}catch(_0x34c53b){console[_0x41a1d8(0x723)](_0x41a1d8(0x878),_0x34c53b),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x15a7b6){const _0x143642=_0x44691e;actionTargetId=_0x15a7b6;const _0x350039=document[_0x143642(0xcac)](_0x143642(0x6a7));_0x350039['innerHTML']='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x143642(0x534)][_0x143642(0x392)](_0x143642(0xb2f));try{const _0x165c94=collection(db,'artifacts/'+appId+_0x143642(0x6b6)),_0x248156=await getDocs(_0x165c94),_0x4e20bf=_0x248156[_0x143642(0xb1e)][_0x143642(0x39a)](_0x55cc0e=>({'id':_0x55cc0e['id'],..._0x55cc0e[_0x143642(0x2a7)]()})),_0x389980=_0x4e20bf['filter'](_0x4cabcf=>_0x4cabcf['id']!==currentProjectId);if(_0x389980['length']===0x0){_0x350039[_0x143642(0x64a)]=_0x143642(0xa94),document[_0x143642(0xcac)]('confirm-move-quiz-btn')[_0x143642(0x585)]=!![];return;}_0x350039[_0x143642(0x64a)]=_0x389980[_0x143642(0x39a)](_0x899253=>_0x143642(0x458)+_0x899253['id']+'\x22>'+_0x899253[_0x143642(0xc87)]+_0x143642(0x61d))[_0x143642(0xad6)](''),document[_0x143642(0xcac)](_0x143642(0xa5d))[_0x143642(0x585)]=![];}catch(_0x198f86){console['error'](_0x143642(0x1ef),_0x198f86),showMessage(_0x143642(0x25a)),moveQuizModal[_0x143642(0x534)][_0x143642(0x174)]('hidden');}}async function confirmMoveQuiz(){const _0xb9e66d=_0x44691e,_0x5925b4=document[_0xb9e66d(0xcac)](_0xb9e66d(0x6a7))['value'];if(!_0x5925b4){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x1ba9aa=doc(db,'artifacts/'+appId+_0xb9e66d(0x1fa),actionTargetId);try{await updateDoc(_0x1ba9aa,{'projectId':_0x5925b4}),showMessage(_0xb9e66d(0x9ab)),moveQuizModal[_0xb9e66d(0x534)][_0xb9e66d(0x174)](_0xb9e66d(0xb2f)),actionTargetId=null;}catch(_0x179f7b){console[_0xb9e66d(0x723)]('Error\x20moving\x20quiz:',_0x179f7b),showMessage(_0xb9e66d(0x333));}}async function handleQuizSettings(_0x19be8f){const _0x4df309=_0x44691e;actionTargetId=_0x19be8f;const _0x5d66e3=doc(db,_0x4df309(0x1c4)+appId+'/public/data/quizzes',_0x19be8f);try{const _0x4477c5=await getDoc(_0x5d66e3);if(_0x4477c5[_0x4df309(0x72f)]()){const _0x5b7bff=_0x4477c5['data'](),_0x345599=_0x5b7bff[_0x4df309(0x73a)]||{},_0x498ba0=_0x5b7bff['questions'][_0x4df309(0x8b4)];document[_0x4df309(0xcac)](_0x4df309(0x78f))[_0x4df309(0x1a0)]=_0x345599[_0x4df309(0xb4a)]||_0x4df309(0xb7d),document[_0x4df309(0xcac)]('modal-results-display-select')[_0x4df309(0x1a0)]=_0x345599[_0x4df309(0x733)]||_0x4df309(0x6cc),document['getElementById'](_0x4df309(0x281))['value']=_0x345599['timerMode']||_0x4df309(0xb7d),document[_0x4df309(0xcac)](_0x4df309(0x49a))[_0x4df309(0x1a0)]=_0x345599[_0x4df309(0x64b)]||0xa,document[_0x4df309(0xcac)]('modal-passing-score-input')[_0x4df309(0x1a0)]=_0x345599[_0x4df309(0x1bd)]||Math[_0x4df309(0x3fd)](_0x498ba0/0x2),document[_0x4df309(0xcac)]('modal-passing-score-input')[_0x4df309(0xc36)]=_0x498ba0,document['getElementById'](_0x4df309(0x7d9))[_0x4df309(0x553)]=_0x345599['isAdaptive']||![],document[_0x4df309(0xcac)](_0x4df309(0x371))[_0x4df309(0x553)]=_0x345599['loopUntilPass']||![];const _0x48fad6=_0x345599['isConfidenceScoringEnabled']||![];document['getElementById'](_0x4df309(0xb35))[_0x4df309(0x553)]=_0x48fad6,document[_0x4df309(0xcac)](_0x4df309(0x20b))[_0x4df309(0x1a0)]=_0x345599[_0x4df309(0xac0)]||'checkbox';const _0x533f3c=document['getElementById']('modal-confidence-mode-container');_0x533f3c['classList'][_0x4df309(0xa90)](_0x4df309(0xb2f),!_0x48fad6),document[_0x4df309(0xcac)](_0x4df309(0x281))[_0x4df309(0xa82)](new Event(_0x4df309(0x1d3))),quizSettingsModal[_0x4df309(0x534)]['remove'](_0x4df309(0xb2f));}else showMessage(_0x4df309(0x809));}catch(_0x2bc59d){console[_0x4df309(0x723)](_0x4df309(0xcb5),_0x2bc59d),showMessage(_0x4df309(0x3ce));}}async function confirmQuizSettings(){const _0x494b76=_0x44691e;if(!actionTargetId)return;const _0x371e19=doc(db,'artifacts/'+appId+_0x494b76(0x1fa),actionTargetId),_0x26b9fa={'shuffle':document[_0x494b76(0xcac)](_0x494b76(0x78f))[_0x494b76(0x1a0)],'resultsDisplay':document['getElementById']('modal-results-display-select')[_0x494b76(0x1a0)],'timerMode':document[_0x494b76(0xcac)](_0x494b76(0x281))[_0x494b76(0x1a0)],'timerDuration':parseInt(document['getElementById'](_0x494b76(0x49a))['value'])||0xa,'passingScore':parseInt(document[_0x494b76(0xcac)](_0x494b76(0xb68))[_0x494b76(0x1a0)])||0x0,'isAdaptive':document[_0x494b76(0xcac)](_0x494b76(0x7d9))[_0x494b76(0x553)],'loopUntilPass':document[_0x494b76(0xcac)](_0x494b76(0x371))['checked'],'isConfidenceScoringEnabled':document[_0x494b76(0xcac)](_0x494b76(0xb35))[_0x494b76(0x553)],'confidenceMode':document[_0x494b76(0xcac)](_0x494b76(0x20b))[_0x494b76(0x1a0)]};try{await updateDoc(_0x371e19,{'settings':_0x26b9fa}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x494b76(0x534)][_0x494b76(0x174)]('hidden'),actionTargetId=null;}catch(_0x505459){console['error'](_0x494b76(0xc23),_0x505459),showMessage(_0x494b76(0x742));}}async function confirmQuizStatus(){const _0x34e6f9=_0x44691e;if(!actionTargetId)return;const _0x36ebca=doc(db,_0x34e6f9(0x1c4)+appId+_0x34e6f9(0x1fa),actionTargetId),_0xa7673b=document[_0x34e6f9(0x909)]('input[name=\x22status-option\x22]:checked');if(!_0xa7673b){showMessage(_0x34e6f9(0x582));return;}const _0x33f285=_0xa7673b['value'];let _0x41cf7d={};if(_0x33f285===_0x34e6f9(0x993)||_0x33f285===_0x34e6f9(0x6b2))_0x41cf7d={'status':_0x33f285,'startTime':null,'endTime':null};else{if(_0x33f285===_0x34e6f9(0x5e0)){const _0x1209c2=document['getElementById'](_0x34e6f9(0x74f))['value'],_0x2c2098=document[_0x34e6f9(0xcac)](_0x34e6f9(0x24a))[_0x34e6f9(0x1a0)];if(!_0x1209c2&&!_0x2c2098){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x41cf7d={'status':_0x34e6f9(0xa1f),'startTime':_0x1209c2?new Date(_0x1209c2)[_0x34e6f9(0xa3e)]():null,'endTime':_0x2c2098?new Date(_0x2c2098)[_0x34e6f9(0xa3e)]():null};}}try{await updateDoc(_0x36ebca,_0x41cf7d),showMessage(_0x34e6f9(0x186)),quizStatusModal[_0x34e6f9(0x534)][_0x34e6f9(0x174)](_0x34e6f9(0xb2f)),actionTargetId=null;}catch(_0x5679c4){console[_0x34e6f9(0x723)]('Error\x20updating\x20quiz\x20status:',_0x5679c4),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x46f8eb){const _0x3be353=_0x44691e,_0x149b98=collection(db,_0x3be353(0x1c4)+appId+_0x3be353(0x945)+_0x46f8eb+_0x3be353(0x68b));unsubscribeStudentProfilesListener=onSnapshot(_0x149b98,_0x398085=>{const _0x1815b0=_0x3be353,_0xd92f31=_0x398085[_0x1815b0(0xb1e)][_0x1815b0(0x39a)](_0xc92fe3=>_0xc92fe3[_0x1815b0(0x2a7)]());renderLeaderboard(_0xd92f31,'leaderboard-table-body');},_0x203e0b=>{const _0x5b823c=_0x3be353;console[_0x5b823c(0x723)](_0x5b823c(0xb96),_0x203e0b),document[_0x5b823c(0xcac)](_0x5b823c(0x24b))['innerHTML']=_0x5b823c(0xaf4);});}function renderLeaderboard(_0x3a91db,_0x5b184d){const _0x5eb671=_0x44691e,_0x20175a=document[_0x5eb671(0xcac)](_0x5b184d);if(!_0x3a91db||_0x3a91db[_0x5eb671(0x8b4)]===0x0){_0x20175a[_0x5eb671(0x64a)]=_0x5eb671(0xa6b);return;}_0x3a91db[_0x5eb671(0xa24)]((_0x3b8e07,_0x1501df)=>{const _0xfa3bf1=_0x5eb671,_0x1fc96b=(_0x1501df[_0xfa3bf1(0x577)]||0x0)-(_0x3b8e07['totalPoints']||0x0);if(_0x1fc96b!==0x0)return _0x1fc96b;const _0x35352f=(_0x1501df[_0xfa3bf1(0x8e6)]?.['specialist']||0x0)-(_0x3b8e07['badgesCount']?.[_0xfa3bf1(0xa68)]||0x0);if(_0x35352f!==0x0)return _0x35352f;const _0x248155=(_0x1501df[_0xfa3bf1(0x8e6)]?.[_0xfa3bf1(0x56e)]||0x0)-(_0x3b8e07['badgesCount']?.['first_try_ace']||0x0);if(_0x248155!==0x0)return _0x248155;const _0x1ecc13=(_0x1501df[_0xfa3bf1(0x8e6)]?.['perfect_score']||0x0)-(_0x3b8e07[_0xfa3bf1(0x8e6)]?.[_0xfa3bf1(0x21d)]||0x0);if(_0x1ecc13!==0x0)return _0x1ecc13;const _0x4d394d=(_0x1501df['badgesCount']?.[_0xfa3bf1(0x624)]||0x0)-(_0x3b8e07[_0xfa3bf1(0x8e6)]?.['quick_thinker']||0x0);if(_0x4d394d!==0x0)return _0x4d394d;return _0x3b8e07['studentName']['localeCompare'](_0x1501df['studentName'],'th');});let _0x563c60='';_0x3a91db[_0x5eb671(0xc74)]((_0x2f231b,_0x3b0de0)=>{const _0x1d05ae=_0x5eb671,_0x41b272=_0x3b0de0+0x1,_0x2942f1=_0x2f231b[_0x1d05ae(0x8e6)]||{};let _0xa5bc58='';const _0x267d6=[_0x1d05ae(0xa68),'perfect_score',_0x1d05ae(0x56e),'quick_thinker'];_0x267d6[_0x1d05ae(0xc74)](_0x42a082=>{const _0x46a682=_0x1d05ae;if(_0x2942f1[_0x42a082]>0x0){const _0x80ee55=Object[_0x46a682(0x5a9)](BADGES)['find'](_0x22907a=>_0x22907a['id']===_0x42a082);_0x80ee55&&(_0x42a082==='specialist'?_0xa5bc58+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x80ee55['name']+_0x46a682(0xa08)+_0x80ee55[_0x46a682(0x888)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0xa5bc58+=_0x46a682(0x640)+_0x80ee55[_0x46a682(0x8c8)]+'\x20('+_0x2942f1[_0x42a082]+_0x46a682(0x7e5)+_0x80ee55[_0x46a682(0x888)]+_0x46a682(0xad9)+_0x2942f1[_0x42a082]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x563c60+=_0x1d05ae(0xc5e)+_0x41b272+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x2f231b[_0x1d05ae(0xb26)]+_0x1d05ae(0x88c)+(_0x2f231b[_0x1d05ae(0x577)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0xa5bc58||'-')+_0x1d05ae(0x37f);}),_0x20175a[_0x5eb671(0x64a)]=_0x563c60;}function displayLoopScreen(_0xd4ec83,_0x5c8149,_0x292244){const _0x42c14c=_0x44691e;let _0x7dd2b='';_0x292244!==_0x42c14c(0x3da)&&(_0x7dd2b='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0xd4ec83+_0x42c14c(0x868)+_0x5c8149+_0x42c14c(0x704));const _0xbb5d14=_0x42c14c(0x250)+_0x7dd2b+_0x42c14c(0x4e9);studentResultArea[_0x42c14c(0x64a)]=_0xbb5d14,studentResultArea['classList'][_0x42c14c(0x392)](_0x42c14c(0xb2f)),studentQuizArea[_0x42c14c(0x534)][_0x42c14c(0x174)]('hidden'),document[_0x42c14c(0xcac)](_0x42c14c(0x643))[_0x42c14c(0x36e)](_0x42c14c(0x486),()=>{const _0x157a73=_0x42c14c;studentResultArea[_0x157a73(0x534)][_0x157a73(0x174)](_0x157a73(0xb2f)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x27961b,_0x4436c3,_0x2f7b0f){const _0x1747ea=_0x44691e,_0xe39c08=document[_0x1747ea(0xcac)](_0x2f7b0f),_0x36fdb4=_0x2f7b0f===_0x1747ea(0x28a),_0x47e772=_0x4436c3['questions']['length'],_0x5a9e7f=document[_0x1747ea(0xcac)](_0x2f7b0f)[_0x1747ea(0xa54)](_0x1747ea(0x6a5));if(_0x5a9e7f&&!_0x36fdb4){const _0xa9cf53=_0x5a9e7f[_0x1747ea(0x909)]('thead');_0xa9cf53[_0x1747ea(0x64a)]=_0x1747ea(0x60e);}if(!_0x27961b||_0x27961b[_0x1747ea(0x8b4)]===0x0){_0xe39c08[_0x1747ea(0x64a)]='<tr><td\x20colspan=\x22'+(_0x36fdb4?0x6:0x8)+_0x1747ea(0x8f7);return;}const _0x53581e=[..._0x27961b];_0x53581e[_0x1747ea(0xa24)]((_0x4f8d43,_0x589599)=>{const _0x12e62b=_0x1747ea;let _0x2de357,_0x17df95;switch(quizLeaderboardSortBy){case _0x12e62b(0xb26):_0x2de357=_0x4f8d43[_0x12e62b(0xb26)]||'',_0x17df95=_0x589599[_0x12e62b(0xb26)]||'';return quizLeaderboardSortOrder===_0x12e62b(0x195)?_0x2de357[_0x12e62b(0x656)](_0x17df95,'th'):_0x17df95['localeCompare'](_0x2de357,'th');case _0x12e62b(0x433):_0x2de357=_0x4f8d43['points']||0x0,_0x17df95=_0x589599['points']||0x0;break;case'attempts':_0x2de357=_0x4f8d43['attempts']?.[_0x12e62b(0x8b4)]||0x1,_0x17df95=_0x589599[_0x12e62b(0x508)]?.[_0x12e62b(0x8b4)]||0x1;break;case _0x12e62b(0x8a0):_0x2de357=new Date(_0x4f8d43[_0x12e62b(0x8a0)]),_0x17df95=new Date(_0x589599['latestSubmittedAt']);break;case _0x12e62b(0xc6a):default:_0x2de357=_0x4f8d43[_0x12e62b(0xc6a)],_0x17df95=_0x589599[_0x12e62b(0xc6a)];break;}if(_0x2de357<_0x17df95)return quizLeaderboardSortOrder===_0x12e62b(0x195)?-0x1:0x1;if(_0x2de357>_0x17df95)return quizLeaderboardSortOrder===_0x12e62b(0x195)?0x1:-0x1;return 0x0;});const _0x1dca8b=_0x4436c3[_0x1747ea(0x2f3)]===!![],_0x3bebad=_0x4436c3[_0x1747ea(0x73a)]?.[_0x1747ea(0x1bd)]??-0x1;let _0x23dc10='';_0x53581e[_0x1747ea(0xc74)]((_0x5d6780,_0x18f0a1)=>{const _0x45dc30=_0x1747ea,_0x343e87=_0x18f0a1+0x1;let _0x3e9926=_0x45dc30(0x7f8);if(_0x1dca8b||_0x3bebad!==-0x1){let _0x3253b3=_0x1dca8b?_0x5d6780[_0x45dc30(0xc6a)]===_0x47e772:_0x5d6780['bestScore']>=_0x3bebad;const _0x3f65ff=_0x3253b3?_0x45dc30(0x93d):_0x45dc30(0x81c),_0x3c0d96=_0x3253b3?_0x45dc30(0x6d2):'ไม่ผ่าน';_0x3e9926=_0x45dc30(0x815)+_0x3f65ff+'\x22>'+_0x3c0d96+_0x45dc30(0xbbc);}const _0x4caa9a=_0x5d6780['attempts'][_0x5d6780['attempts'][_0x45dc30(0x8b4)]-0x1],_0x455a96=(_0x4caa9a[_0x45dc30(0x7e0)]||[])[_0x45dc30(0x39a)](_0x292a86=>{const _0x30ce84=_0x45dc30,_0x456a4a=Object['values'](BADGES)['find'](_0xc91402=>_0xc91402['id']===_0x292a86);return _0x456a4a?'<span\x20title=\x22'+_0x456a4a[_0x30ce84(0x8c8)]+_0x30ce84(0x732)+_0x456a4a['icon']+_0x30ce84(0x9e4):'';})[_0x45dc30(0xad6)]('');_0x23dc10+=_0x45dc30(0x3bf)+_0x343e87+_0x45dc30(0xc8e)+_0x5d6780[_0x45dc30(0xb26)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x5d6780['bestScore']+_0x45dc30(0x868)+_0x47e772+_0x45dc30(0x961)+_0x3e9926+_0x45dc30(0x256)+(_0x5d6780[_0x45dc30(0x433)]||0x0)+_0x45dc30(0x961)+(_0x36fdb4?'':_0x45dc30(0xc70)+(_0x5d6780[_0x45dc30(0x508)]?.[_0x45dc30(0x8b4)]||0x1)+_0x45dc30(0x8c4))+_0x45dc30(0xa2b)+(_0x36fdb4?'':_0x45dc30(0x44f)+new Date(_0x5d6780[_0x45dc30(0x8a0)])[_0x45dc30(0x2fc)](_0x45dc30(0x976))+_0x45dc30(0x8c4))+_0x45dc30(0x523)+(_0x455a96||'-')+_0x45dc30(0x23d);}),_0xe39c08[_0x1747ea(0x64a)]=_0x23dc10,_0x5a9e7f&&!_0x36fdb4&&_0x5a9e7f[_0x1747ea(0x32a)](_0x1747ea(0xbed))[_0x1747ea(0xc74)](_0xd342fc=>{const _0x1bf346=_0x1747ea,_0x3b9cca=_0xd342fc[_0x1bf346(0x909)](_0x1bf346(0x4b1));if(_0x3b9cca)_0x3b9cca[_0x1bf346(0x392)]();_0xd342fc['dataset']['sort']===quizLeaderboardSortBy&&(_0xd342fc[_0x1bf346(0x64a)]+=_0x1bf346(0x2fa)+(quizLeaderboardSortOrder===_0x1bf346(0x195)?'▲':'▼')+_0x1bf346(0x4d1));});}async function handleDeleteSubmission(_0x324ac6){const _0x1aaef2=_0x44691e;if(!currentQuizData||!currentQuizData['id']||!_0x324ac6){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x324ac6+_0x1aaef2(0x5f0),async()=>{const _0x197fbc=_0x1aaef2,_0x112077=currentQuizData['id'],_0x101b8b=doc(db,'artifacts/'+appId+_0x197fbc(0x7c5)+_0x112077+_0x197fbc(0x8c6),_0x324ac6);try{await deleteDoc(_0x101b8b),showMessage(_0x197fbc(0x36a)+_0x324ac6+_0x197fbc(0x478));}catch(_0x4b6096){console[_0x197fbc(0x723)](_0x197fbc(0x293),_0x4b6096),showMessage(_0x197fbc(0xb80));}});}async function handleLoadQuiz(){const _0x5bd367=_0x44691e,_0x91599d=document[_0x5bd367(0xcac)]('quiz-id-input'),_0x3a3347=_0x91599d[_0x5bd367(0x1a0)]['trim']();if(!_0x3a3347){showMessage(_0x5bd367(0x16b));return;}loadQuizBtn[_0x5bd367(0x585)]=!![],loadQuizBtn[_0x5bd367(0x64a)]=_0x5bd367(0x251);try{const _0x20e783=doc(db,_0x5bd367(0x1c4)+appId+_0x5bd367(0x1fa),_0x3a3347),_0x586d95=await getDoc(_0x20e783);if(!_0x586d95['exists']()){showMessage(_0x5bd367(0x436));return;}currentQuizData={'id':_0x586d95['id'],..._0x586d95['data']()};const _0x2443f5=currentQuizData[_0x5bd367(0x507)]||_0x5bd367(0x993),_0x5bb6fe=new Date();if(_0x2443f5===_0x5bd367(0x6b2)){showMessage(_0x5bd367(0x68f));return;}if(_0x2443f5===_0x5bd367(0xa1f)){const _0x110baf=currentQuizData[_0x5bd367(0x639)]?new Date(currentQuizData['startTime']):null,_0x233eb5=currentQuizData[_0x5bd367(0x165)]?new Date(currentQuizData['endTime']):null;if(_0x110baf&&_0x5bb6fe<_0x110baf){showMessage(_0x5bd367(0x9d5)+_0x110baf[_0x5bd367(0x2fc)](_0x5bd367(0x976),{'hour12':![]}));return;}if(_0x233eb5&&_0x5bb6fe>_0x233eb5){showMessage(_0x5bd367(0xccd));return;}}const _0x2a12cd=currentQuizData['projectId'];currentProjectId=_0x2a12cd;const _0x4f6bc7=doc(db,_0x5bd367(0x1c4)+appId+_0x5bd367(0x6b6),_0x2a12cd),_0x2a1a3a=await getDoc(_0x4f6bc7);if(!_0x2a1a3a['exists']()){showMessage(_0x5bd367(0x854));return;}const _0x4ba476=_0x2a1a3a[_0x5bd367(0x2a7)]();currentStudentProjectData=_0x4ba476,displayStudentNameSelector(_0x4ba476['students'],currentQuizData[_0x5bd367(0x180)]);}catch(_0x25ed7f){console[_0x5bd367(0x723)](_0x5bd367(0x5cd),_0x25ed7f),showMessage(_0x5bd367(0xc19));}finally{loadQuizBtn[_0x5bd367(0x585)]=![],loadQuizBtn[_0x5bd367(0x64a)]=_0x5bd367(0x5e8);}}async function handleJoinLiveGame(){const _0x35123d=_0x44691e,_0x24baf7=document[_0x35123d(0xcac)](_0x35123d(0xb82)),_0x521dd5=document['getElementById'](_0x35123d(0x9f0)),_0x483d96=document[_0x35123d(0xcac)]('confirm-join-game-btn'),_0xaef037=_0x24baf7['value'][_0x35123d(0x5a4)](),_0x286dcf=_0x521dd5['value'][_0x35123d(0x5a4)]();if(!_0xaef037||!_0x286dcf){showMessage(_0x35123d(0xa4a));return;}_0x483d96['disabled']=!![],_0x483d96[_0x35123d(0x64a)]=_0x35123d(0x3a3);try{const _0x489026=collection(db,'artifacts/'+appId+'/public/data/liveGames'),_0x602b2d=query(_0x489026,where(_0x35123d(0x3f7),'==',_0xaef037),where(_0x35123d(0x507),'in',[_0x35123d(0x9f5),_0x35123d(0x4d5)])),_0x4fdc8a=await getDocs(_0x602b2d);if(_0x4fdc8a[_0x35123d(0x99e)]){showMessage(_0x35123d(0x7fd));return;}const _0x5cdaca=_0x4fdc8a['docs'][0x0],_0x2e5d4b=_0x5cdaca[_0x35123d(0x2a7)]();currentLiveGameId=_0x5cdaca['id'];const _0x47efa2=_0x2e5d4b[_0x35123d(0xae2)],_0x3cc418=doc(db,_0x35123d(0x1c4)+appId+'/public/data/quizzes',_0x47efa2),_0x5c9c64=await getDoc(_0x3cc418);if(!_0x5c9c64[_0x35123d(0x72f)]()){showMessage(_0x35123d(0x3d8));return;}currentQuizData={'id':_0x5c9c64['id'],..._0x5c9c64[_0x35123d(0x2a7)]()};if(_0x2e5d4b['players']&&_0x2e5d4b['players'][_0x286dcf]){const _0x5561bf=_0x2e5d4b[_0x35123d(0xb3f)][_0x286dcf];if(_0x5561bf[_0x35123d(0x507)]===_0x35123d(0x6b2)){_0x483d96['innerHTML']=_0x35123d(0x473);const _0x40882f={};_0x40882f[_0x35123d(0xa14)+_0x286dcf+'.status']='active',await updateDoc(doc(db,_0x35123d(0x1c4)+appId+_0x35123d(0x68d),currentLiveGameId),_0x40882f),showView(_0x35123d(0xa2d)),currentStudentName=_0x286dcf,listenForLiveGameUpdates();return;}else{showMessage(_0x35123d(0x408));return;}}if(_0x2e5d4b[_0x35123d(0x507)]!==_0x35123d(0x9f5)){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x483d96[_0x35123d(0x64a)]=_0x35123d(0xa1a);const _0x323cd1={};_0x323cd1['players.'+_0x286dcf]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x35123d(0x993)},await updateDoc(doc(db,_0x35123d(0x1c4)+appId+'/public/data/liveGames',currentLiveGameId),_0x323cd1),currentStudentName=_0x286dcf,listenForLiveGameUpdates();}catch(_0x110a32){console[_0x35123d(0x723)](_0x35123d(0x7e7),_0x110a32),showMessage(_0x35123d(0x327));}finally{_0x483d96['disabled']=![],_0x483d96[_0x35123d(0x64a)]=_0x35123d(0x17c);}}function displayStudentNameSelector(_0x33f4a2,_0x9a4720){const _0xef4763=_0x44691e,_0x8326d1=document[_0xef4763(0xcac)](_0xef4763(0xb25));document[_0xef4763(0xcac)](_0xef4763(0x331))[_0xef4763(0x20a)]=_0xef4763(0x5f4)+_0x9a4720,!_0x33f4a2||_0x33f4a2['length']===0x0?(_0x8326d1[_0xef4763(0x64a)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0xef4763(0x585)]=!![]):(_0x8326d1[_0xef4763(0x64a)]=_0xef4763(0x4ee),_0x33f4a2[_0xef4763(0xc74)](_0x5aa382=>{const _0x540403=_0xef4763,_0x563de2=document[_0x540403(0x5c5)](_0x540403(0x451));_0x563de2[_0x540403(0x1a0)]=_0x5aa382,_0x563de2[_0x540403(0x20a)]=_0x5aa382,_0x8326d1[_0x540403(0x740)](_0x563de2);}),startQuizBtn[_0xef4763(0x585)]=![]),studentInitialView[_0xef4763(0x534)][_0xef4763(0x174)](_0xef4763(0xb2f)),studentNameSelectionView[_0xef4763(0x534)][_0xef4763(0x392)](_0xef4763(0xb2f));}function shuffleArray(_0x4286be){const _0x34f17e=_0x44691e;for(let _0x21cfcd=_0x4286be[_0x34f17e(0x8b4)]-0x1;_0x21cfcd>0x0;_0x21cfcd--){const _0x553a4e=Math['floor'](Math[_0x34f17e(0x53f)]()*(_0x21cfcd+0x1));[_0x4286be[_0x21cfcd],_0x4286be[_0x553a4e]]=[_0x4286be[_0x553a4e],_0x4286be[_0x21cfcd]];}}function getShuffledQuiz(_0x2884fd){const _0x284ce8=_0x44691e;let _0x2539d4=JSON[_0x284ce8(0x92d)](JSON[_0x284ce8(0xae8)](_0x2884fd));const _0x32c890=_0x2539d4[_0x284ce8(0x73a)]?.[_0x284ce8(0xb4a)]||'none';if(_0x32c890===_0x284ce8(0xb7d))return _0x2539d4;return(_0x32c890==='questions_only'||_0x32c890===_0x284ce8(0xad4))&&shuffleArray(_0x2539d4[_0x284ce8(0x8f1)]),(_0x32c890===_0x284ce8(0x3b9)||_0x32c890===_0x284ce8(0xad4))&&_0x2539d4['questions'][_0x284ce8(0xc74)](_0x5c842d=>{const _0x13a052=_0x284ce8,_0x12a34d=_0x5c842d[_0x13a052(0xb42)]||_0x2539d4[_0x13a052(0x196)];if(_0x5c842d['options']){let _0x5bceaa=_0x5c842d[_0x13a052(0xbd7)][_0x13a052(0x39a)]((_0x376bec,_0x8ff30a)=>({'text':_0x376bec,'isCorrect':_0x8ff30a===_0x5c842d[_0x13a052(0x576)]}));shuffleArray(_0x5bceaa),_0x5c842d[_0x13a052(0xbd7)]=_0x5bceaa[_0x13a052(0x39a)](_0x448833=>_0x448833[_0x13a052(0x18b)]),_0x5c842d[_0x13a052(0x576)]=_0x5bceaa[_0x13a052(0xbce)](_0x4625cc=>_0x4625cc[_0x13a052(0x6e6)]);}_0x12a34d==='matching_item'&&_0x5c842d[_0x13a052(0xa33)]&&shuffleArray(_0x5c842d[_0x13a052(0xa33)]);}),_0x2539d4;}function displayQuizForStudent(_0x3acf10){const _0x3feba0=_0x44691e;studentQuizArea[_0x3feba0(0x534)]['remove']('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x3acf10);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x3feba0(0x36e)](_0x3feba0(0x68e),handleFullscreenChange),document[_0x3feba0(0x36e)](_0x3feba0(0x743),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x3feba0(0x273),resetDimTimer),window[_0x3feba0(0x36e)]('mousedown',resetDimTimer),window[_0x3feba0(0x36e)](_0x3feba0(0x779),resetDimTimer),window[_0x3feba0(0x36e)](_0x3feba0(0x321),resetDimTimer),resetDimTimer());const _0x3f440b=currentDisplayedQuiz['settings']?.[_0x3feba0(0x700)]||_0x3feba0(0xb7d);if(_0x3f440b==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings'][_0x3feba0(0x64b)]);else _0x3f440b===_0x3feba0(0xc48)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x188de9=_0x44691e,_0x268161=currentDisplayedQuiz[_0x188de9(0x73a)]?.[_0x188de9(0x865)]===!![],_0x3d5785=currentDisplayedQuiz[_0x188de9(0x73a)]?.[_0x188de9(0xac0)]||_0x188de9(0xb99);let _0x594f15=_0x188de9(0x654)+currentDisplayedQuiz['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x188de9(0x87b)?_0x188de9(0x593):'')+_0x188de9(0x883);currentDisplayedQuiz[_0x188de9(0x8f1)][_0x188de9(0xc74)]((_0x4e345b,_0x21902d)=>{const _0x441122=_0x188de9,_0x47b926=_0x4e345b[_0x441122(0xb42)]||currentDisplayedQuiz[_0x441122(0x196)];_0x594f15+=_0x441122(0x190);if(_0x47b926===_0x441122(0xc00)){}else _0x594f15+=_0x441122(0x7b7)+(_0x21902d+0x1)+'.\x20'+(_0x4e345b[_0x441122(0x23f)]||_0x4e345b[_0x441122(0x83f)])+_0x441122(0xb34),_0x4e345b[_0x441122(0x65a)]&&(_0x594f15+=_0x441122(0x86c)+_0x4e345b[_0x441122(0x65a)]+_0x441122(0xbeb));_0x594f15+=_0x441122(0xa95);switch(_0x47b926){case _0x441122(0x982):_0x594f15+='<textarea\x20name=\x22question'+_0x21902d+_0x441122(0x26a);break;case'true_false':_0x594f15+=_0x441122(0x620)+_0x21902d+_0x441122(0x282)+_0x21902d+_0x441122(0x44b)+_0x21902d+'_opt0\x22>ใช่</label></div>',_0x594f15+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x21902d+_0x441122(0x72a)+_0x21902d+_0x441122(0xc39)+_0x21902d+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x441122(0xc00):_0x594f15+=_0x441122(0x29b)+_0x4e345b[_0x441122(0x388)]+_0x441122(0x80e)+_0x21902d+_0x441122(0xaed)+_0x4e345b[_0x441122(0xa33)][_0x441122(0x39a)](_0x234557=>_0x441122(0x458)+_0x234557+'\x22>'+_0x234557+_0x441122(0x61d))['join']('')+_0x441122(0x849);break;default:_0x594f15+=_0x4e345b['options'][_0x441122(0x39a)]((_0x3c3783,_0x34fcf3)=>_0x441122(0x420)+_0x21902d+'_opt'+_0x34fcf3+'\x22\x20name=\x22question'+_0x21902d+'\x22\x20value=\x22'+_0x34fcf3+_0x441122(0xb20)+_0x21902d+_0x441122(0x481)+_0x34fcf3+'\x22>'+_0x3c3783+_0x441122(0x7cd))[_0x441122(0xad6)]('');break;}_0x594f15+=_0x441122(0xbeb),_0x268161&&(_0x594f15+=_0x441122(0x2a6),_0x3d5785===_0x441122(0x7f1)?_0x594f15+=_0x441122(0xa40)+_0x21902d+_0x441122(0x3a0)+_0x21902d+_0x441122(0x972)+_0x21902d+_0x441122(0x36f)+_0x21902d+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x594f15+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence'+_0x21902d+'\x22\x20name=\x22confidence'+_0x21902d+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence'+_0x21902d+_0x441122(0x567),_0x594f15+=_0x441122(0xbeb)),_0x594f15+='</div>';}),_0x594f15+=_0x188de9(0x6cb),_0x594f15+='</form>',studentQuizArea[_0x188de9(0x64a)]=_0x594f15;if(currentMode===_0x188de9(0x87b)){const _0x3896ba=document['getElementById'](_0x188de9(0x856));if(_0x3896ba)_0x3896ba[_0x188de9(0x36e)]('click',cancelAdminTest);}const _0x3509e5=document['getElementById'](_0x188de9(0xbbd));_0x3509e5&&(_0x3509e5[_0x188de9(0x36e)](_0x188de9(0x6c8),handleSubmitQuiz),_0x3509e5['addEventListener']('click',_0x2a45ef=>{const _0x4ab0b8=_0x188de9;if(_0x2a45ef[_0x4ab0b8(0xa9f)][_0x4ab0b8(0x534)][_0x4ab0b8(0xbfc)]('confidence-choice-btn')){const _0x1afec5=_0x2a45ef[_0x4ab0b8(0xa9f)],_0x59280c=_0x1afec5[_0x4ab0b8(0x5fd)]['questionIndex'],_0x3ec321=_0x1afec5[_0x4ab0b8(0x5fd)][_0x4ab0b8(0x1a0)];document['getElementById'](_0x4ab0b8(0xaa2)+_0x59280c)[_0x4ab0b8(0x1a0)]=_0x3ec321;const _0x115183=_0x1afec5[_0x4ab0b8(0x236)];_0x115183[_0x4ab0b8(0x32a)](_0x4ab0b8(0x265))[_0x4ab0b8(0xc74)](_0x4e2082=>_0x4e2082['classList']['remove'](_0x4ab0b8(0x993))),_0x1afec5[_0x4ab0b8(0x534)]['add'](_0x4ab0b8(0x993));}}));if(window[_0x188de9(0x2b2)])window[_0x188de9(0x2b2)][_0x188de9(0xca5)]([studentQuizArea]);}async function handleSubmitQuiz(_0x139298){const _0x11586d=_0x44691e;if(_0x139298)_0x139298[_0x11586d(0x294)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x1a9be7=document[_0x11586d(0xcac)](_0x11586d(0xbbd));if(!_0x1a9be7)return;const _0xd5e9dd=currentDisplayedQuiz[_0x11586d(0x73a)]?.[_0x11586d(0x865)]===!![],_0x407a20=currentDisplayedQuiz[_0x11586d(0x73a)]?.[_0x11586d(0xac0)]||_0x11586d(0xb99);if(_0xd5e9dd&&_0x407a20===_0x11586d(0x7f1)){let _0x334a1e=!![];for(let _0x116e41=0x0;_0x116e41<currentDisplayedQuiz[_0x11586d(0x8f1)][_0x11586d(0x8b4)];_0x116e41++){const _0x36a1c4=_0x1a9be7[_0x11586d(0x909)]('#confidence-input-'+_0x116e41);if(!_0x36a1c4||_0x36a1c4['value']===''){_0x334a1e=![];break;}}if(!_0x334a1e){showMessage('กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ');return;}}const _0x57b96c=_0x1a9be7[_0x11586d(0x909)](_0x11586d(0x60d)),_0x15c0b3=currentDisplayedQuiz[_0x11586d(0x8f1)][_0x11586d(0x1a9)](_0x2c4445=>_0x2c4445['questionType']==='short_answer');_0x57b96c&&(_0x57b96c['disabled']=!![],_0x57b96c[_0x11586d(0x64a)]=_0x15c0b3?_0x11586d(0xc5a):_0x11586d(0x92e));const _0x55a6c1=new FormData(_0x1a9be7),_0x55b58e=currentDisplayedQuiz['questions'][_0x11586d(0x39a)]((_0x14c3fa,_0x59f297)=>{const _0x1e4f52=_0x11586d,_0x3575cb=_0x55a6c1[_0x1e4f52(0xcb8)]('question'+_0x59f297);let _0x5d1eec;_0x407a20===_0x1e4f52(0x7f1)?_0x5d1eec=_0x55a6c1[_0x1e4f52(0xcb8)](_0x1e4f52(0x7f4)+_0x59f297):_0x5d1eec=_0x55a6c1[_0x1e4f52(0xcb8)]('confidence'+_0x59f297)==='on';let _0x77f953=null;if(_0x3575cb!==null&&_0x3575cb!==undefined){const _0x2c1d3b=_0x14c3fa[_0x1e4f52(0xb42)]||currentDisplayedQuiz['quizType'];_0x2c1d3b===_0x1e4f52(0xb47)||_0x2c1d3b===_0x1e4f52(0x53a)?_0x77f953=parseInt(_0x3575cb):_0x77f953=_0x3575cb;}return{'answer':_0x77f953,'wasConfident':_0x5d1eec};}),_0x4d098e=currentQuizData['id'],_0x316577=doc(db,_0x11586d(0x1c4)+appId+_0x11586d(0x7c5)+_0x4d098e+_0x11586d(0x8c6),currentStudentName),_0x2e2daf=await getDoc(_0x316577),_0x50c614=_0x2e2daf['exists']()?_0x2e2daf[_0x11586d(0x2a7)]():{},_0x291e45=_0x50c614[_0x11586d(0x508)]||[];await processAndSubmitAnswers(_0x55b58e,_0x291e45);}async function gradeShortAnswerWithAI(_0x71ae8d,_0x47ba84){const _0x6b23ca=_0x44691e;if(!_0x71ae8d||!_0x47ba84)return![];try{const _0x539b33='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x71ae8d+_0x6b23ca(0x6d0)+_0x47ba84+_0x6b23ca(0x2ae),_0x1552cb={'contents':[{'role':_0x6b23ca(0x415),'parts':[{'text':_0x539b33}]}]},_0x12db7b=_0x6b23ca(0x2d6),_0x10f187=_0x6b23ca(0x794)+_0x12db7b,_0xbc5be7=await fetch(_0x10f187,{'method':_0x6b23ca(0x4af),'headers':{'Content-Type':_0x6b23ca(0xa2c)},'body':JSON[_0x6b23ca(0xae8)](_0x1552cb)});if(!_0xbc5be7['ok'])throw new Error('API\x20call\x20failed');const _0x43fee0=await _0xbc5be7[_0x6b23ca(0xb8e)](),_0x41016f=_0x43fee0[_0x6b23ca(0x31a)][0x0][_0x6b23ca(0x951)][_0x6b23ca(0x6db)][0x0][_0x6b23ca(0x18b)]['trim']()['toLowerCase']();return _0x41016f===_0x6b23ca(0x97e);}catch(_0x5ef590){return console[_0x6b23ca(0x723)]('AI\x20grading\x20failed:',_0x5ef590),![];}}async function processAndSubmitAnswers(_0x355a1e,_0x31018c){const _0x544b47=_0x44691e;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x544b47(0x4c9)](_0x544b47(0x68e),handleFullscreenChange),document['removeEventListener']('visibilitychange',handleVisibilityChange);let _0x28e318=0x0;const _0x51b30b=[],_0x11d820=currentDisplayedQuiz[_0x544b47(0x8f1)][_0x544b47(0x8b4)];let _0x5ccfa7=0x0,_0x56838c=[];const _0x2251c0=currentDisplayedQuiz[_0x544b47(0x8f1)];for(let _0x132851=0x0;_0x132851<_0x2251c0[_0x544b47(0x8b4)];_0x132851++){const _0x33b18f=_0x2251c0[_0x132851],_0x2ade77=_0x355a1e[_0x132851],_0x482ddd=_0x2ade77?_0x2ade77[_0x544b47(0x32b)]:null,_0x523dae=_0x2ade77?_0x2ade77[_0x544b47(0x759)]:null;let _0x5919cb=![],_0x321a98=0x0;if(_0x482ddd!==null&&_0x482ddd!==''){const _0x3150b3=_0x33b18f[_0x544b47(0xb42)]||currentDisplayedQuiz[_0x544b47(0x196)];switch(_0x3150b3){case _0x544b47(0xc00):_0x5919cb=_0x482ddd===_0x33b18f[_0x544b47(0x964)];break;case _0x544b47(0x9c3):const _0x442a16=_0x482ddd===!![]||_0x482ddd===_0x544b47(0x97e);_0x5919cb=_0x442a16===_0x33b18f[_0x544b47(0x492)];break;case _0x544b47(0x982):_0x5919cb=await gradeShortAnswer(_0x482ddd,_0x33b18f);break;case _0x544b47(0xb47):default:_0x5919cb=Number(_0x482ddd)===_0x33b18f[_0x544b47(0x576)];break;}}if(currentDisplayedQuiz[_0x544b47(0x73a)]?.['isConfidenceScoringEnabled']){const _0x1619a4=_0x2ade77?_0x2ade77[_0x544b47(0x759)]:null;if(_0x5919cb&&(_0x1619a4===!![]||_0x1619a4===_0x544b47(0x213)))_0x321a98=0x2;else{if(_0x5919cb)_0x321a98=0x1;else{if(!_0x5919cb&&(_0x1619a4===![]||_0x1619a4===_0x544b47(0xb36)||_0x1619a4===null))_0x321a98=0x0;else!_0x5919cb&&(_0x1619a4===!![]||_0x1619a4==='confident')&&(_0x321a98=-0x1);}}}else _0x321a98=_0x5919cb?0x1:0x0;_0x28e318+=_0x321a98;if(_0x5919cb){_0x5ccfa7++;if(_0x5ccfa7===0x3)_0x56838c[_0x544b47(0xa12)](BADGES[_0x544b47(0x271)]['id']);}else _0x5ccfa7=0x0;let _0x190c93=null;_0x33b18f[_0x544b47(0xbd7)]&&_0x482ddd!==null&&(_0x190c93=_0x33b18f[_0x544b47(0xbd7)][_0x482ddd]),_0x51b30b[_0x544b47(0xa12)]({'questionId':_0x33b18f['id'],'answer':_0x482ddd,'answerText':_0x190c93,'isCorrect':_0x5919cb,'wasConfident':_0x523dae,'pointsAwarded':_0x321a98,'originalQuestionText':_0x33b18f[_0x544b47(0x388)]||_0x33b18f[_0x544b47(0x83f)]});}const _0x1a96d5=_0x51b30b[_0x544b47(0x686)](_0x501481=>_0x501481[_0x544b47(0x6e6)])[_0x544b47(0x8b4)],_0x488e0a=currentDisplayedQuiz[_0x544b47(0x73a)]?.[_0x544b47(0x1bd)]??Math['floor'](_0x11d820/0x2);_0x1a96d5===_0x11d820&&_0x11d820>0x0&&!currentDisplayedQuiz[_0x544b47(0x2f3)]&&_0x56838c[_0x544b47(0xa12)](BADGES[_0x544b47(0x25f)]['id']);const _0x15fecf=currentDisplayedQuiz[_0x544b47(0x73a)]?.['timerMode'];if(_0x15fecf==='whole_quiz'&&quizStartTime){const _0x1dd4f7=(new Date()-quizStartTime)/0x3e8,_0x1dc27d=currentDisplayedQuiz[_0x544b47(0x73a)][_0x544b47(0x64b)]*0x3c;_0x1a96d5>=_0x488e0a&&_0x1dd4f7<_0x1dc27d/0x2&&_0x56838c[_0x544b47(0xa12)](BADGES[_0x544b47(0x240)]['id']);}_0x31018c[_0x544b47(0x8b4)]===0x0&&_0x1a96d5===_0x11d820&&_0x11d820>0x0&&_0x56838c[_0x544b47(0xa12)](BADGES[_0x544b47(0x641)]['id']);if(_0x31018c[_0x544b47(0x8b4)]>0x0){const _0xa944f3=_0x31018c[0x0][_0x544b47(0x443)];if(_0xa944f3<_0x488e0a&&_0x1a96d5>=_0x488e0a){const _0x399e35=_0x31018c['some'](_0x264b09=>(_0x264b09[_0x544b47(0x7e0)]||[])[_0x544b47(0x764)](BADGES[_0x544b47(0xbcc)]['id']));!_0x399e35&&_0x56838c[_0x544b47(0xa12)](BADGES['COMEBACK_KING']['id']);}}_0x31018c[_0x544b47(0x8b4)]===0x4&&_0x56838c['push'](BADGES[_0x544b47(0x4df)]['id']);const _0x5075d6=currentDisplayedQuiz[_0x544b47(0x73a)][_0x544b47(0x733)];if(currentMode==='admin-testing'){handleResultDisplay(_0x5075d6,_0x1a96d5,_0x28e318,_0x56838c,_0x51b30b,_0x11d820);return;}const _0x59b6d2=currentQuizData['id'],_0x285092=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x59b6d2+_0x544b47(0x8c6),currentStudentName);try{const _0x506255=[..._0x31018c],_0x19ec90={'score':_0x1a96d5,'points':_0x28e318,'badges':Array['from'](new Set(_0x56838c)),'submittedAt':new Date()[_0x544b47(0xa3e)](),'answers':_0x51b30b};_0x506255[_0x544b47(0xa12)](_0x19ec90);const _0x398045=_0x31018c[_0x544b47(0x8b4)]===0x0?_0x1a96d5:_0x31018c[0x0][_0x544b47(0x443)]||0x0,_0x3519e1=Math[_0x544b47(0xc36)](..._0x506255[_0x544b47(0x39a)](_0x2fd79a=>_0x2fd79a[_0x544b47(0x443)]));await setDoc(_0x285092,{'studentName':currentStudentName,'totalQuestions':_0x11d820,'attempts':_0x506255,'firstScore':_0x398045,'bestScore':_0x3519e1,'latestScore':_0x1a96d5,'points':_0x28e318,'latestSubmittedAt':_0x19ec90[_0x544b47(0xa7a)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x544b47(0x370)],currentStudentName),handleResultDisplay(_0x5075d6,_0x1a96d5,_0x28e318,_0x56838c,_0x51b30b,_0x11d820);}catch(_0x351709){console[_0x544b47(0x723)](_0x544b47(0x9a7),_0x351709),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x2a2ae0,_0x2860d0){const _0x321f92=_0x44691e,_0x77bff1=doc(db,_0x321f92(0x1c4)+appId+_0x321f92(0x945)+_0x2a2ae0+_0x321f92(0x68b),_0x2860d0);try{const _0x10b954=query(collection(db,_0x321f92(0x1c4)+appId+_0x321f92(0x1fa)),where(_0x321f92(0x370),'==',_0x2a2ae0)),_0x598a6c=await getDocs(_0x10b954),_0x166226=new Map(_0x598a6c[_0x321f92(0xb1e)][_0x321f92(0x39a)](_0x23e7f4=>[_0x23e7f4['id'],_0x23e7f4[_0x321f92(0x2a7)]()])),_0x571dab=Array[_0x321f92(0xb61)](_0x166226[_0x321f92(0x53e)]());await runTransaction(db,async _0x3ae3f0=>{const _0x3aeb37=_0x321f92;let _0x2c73e2=0x0;const _0x2bf5af={};let _0x4ebed8=!![],_0x6fc61f=0x0,_0x19fcb7=0x0;for(const _0x55242a of _0x571dab){const _0x1555dc=_0x166226[_0x3aeb37(0xcb8)](_0x55242a),_0x416014=doc(db,_0x3aeb37(0x1c4)+appId+_0x3aeb37(0x7c5)+_0x55242a+_0x3aeb37(0x8c6),_0x2860d0),_0x39b89c=await _0x3ae3f0[_0x3aeb37(0xcb8)](_0x416014);if(_0x39b89c[_0x3aeb37(0x72f)]()){const _0x133cc8=_0x39b89c[_0x3aeb37(0x2a7)](),_0x4bf976=_0x133cc8[_0x3aeb37(0x508)]||[];if(_0x4bf976[_0x3aeb37(0x8b4)]>0x0){const _0x5f2db0=_0x4bf976[_0x3aeb37(0xa8a)]((_0x5889c4,_0x269a42)=>{const _0x4d0d06=_0x3aeb37;if(_0x269a42[_0x4d0d06(0x443)]>_0x5889c4[_0x4d0d06(0x443)])return _0x269a42;if(_0x269a42[_0x4d0d06(0x443)]===_0x5889c4['score'])return(_0x269a42['points']||0x0)>(_0x5889c4[_0x4d0d06(0x433)]||0x0)?_0x269a42:_0x5889c4;return _0x5889c4;},{'score':-0x1,'points':-0x1});_0x5f2db0[_0x3aeb37(0x443)]>-0x1&&(_0x2c73e2+=_0x5f2db0[_0x3aeb37(0x433)]||0x0,(_0x5f2db0['badges']||[])[_0x3aeb37(0xc74)](_0x5f5615=>{_0x2bf5af[_0x5f5615]=(_0x2bf5af[_0x5f5615]||0x0)+0x1;}));}}if(_0x1555dc[_0x3aeb37(0x180)]!=='แบบทดสอบซ่อมเสริม'){_0x19fcb7++;if(_0x39b89c[_0x3aeb37(0x72f)]()){_0x6fc61f++;const _0x4fc602=_0x39b89c['data']();_0x4fc602[_0x3aeb37(0xc6a)]!==_0x4fc602['totalQuestions']&&(_0x4ebed8=![]);}else _0x4ebed8=![];}}_0x19fcb7>0x0&&_0x6fc61f===_0x19fcb7&&_0x4ebed8?_0x2bf5af['specialist']=0x1:_0x2bf5af['specialist']=0x0,_0x3ae3f0[_0x3aeb37(0xc44)](_0x77bff1,{'studentName':_0x2860d0,'totalPoints':_0x2c73e2,'unlockedBadges':Object[_0x3aeb37(0x53e)](_0x2bf5af)[_0x3aeb37(0x686)](_0x835f65=>_0x2bf5af[_0x835f65]>0x0),'badgesCount':_0x2bf5af},{'merge':!![]});});}catch(_0x291e20){console['error'](_0x321f92(0xbc4),_0x291e20),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0x322657=_0x44691e;if(!currentQuizData){showMessage(_0x322657(0xade));return;}let _0x2004b8=JSON[_0x322657(0x92d)](JSON[_0x322657(0xae8)](currentQuizData));currentMode=_0x322657(0x87b),currentStudentName=_0x322657(0x54f),adminView['classList'][_0x322657(0x174)](_0x322657(0xb2f)),studentView[_0x322657(0x534)][_0x322657(0x392)](_0x322657(0xb2f)),studentInitialView[_0x322657(0x534)]['add'](_0x322657(0xb2f)),studentNameSelectionView['classList'][_0x322657(0x174)]('hidden'),studentResultArea[_0x322657(0x534)]['add'](_0x322657(0xb2f)),studentQuizArea[_0x322657(0x534)][_0x322657(0x392)](_0x322657(0xb2f)),quizStartTime=new Date(),displayQuizForStudent(_0x2004b8);}function handleResultDisplay(_0x24c067,_0x3419fc,_0x13890b,_0x57944e,_0x18b67d,_0x31bc65){const _0x42ba4b=_0x44691e;if(_0x24c067===_0x42ba4b(0x4e8)){displaySubmissionConfirmation();return;}const _0x3ed2e5=currentDisplayedQuiz[_0x42ba4b(0x73a)]?.['passingScore']??Math[_0x42ba4b(0x3fd)](_0x31bc65/0x2),_0x254c94=currentDisplayedQuiz[_0x42ba4b(0x73a)]?.[_0x42ba4b(0x521)]??![],_0x2a4e32=currentDisplayedQuiz[_0x42ba4b(0x73a)]?.[_0x42ba4b(0x83e)]===!![],_0x417d52=_0x3419fc<_0x3ed2e5,_0x317498=_0x24c067===_0x42ba4b(0x19c)||_0x24c067==='perfect_score_status';if(_0x2a4e32&&_0x417d52&&!_0x317498){_0x24c067==='show_results_and_answers'?displayResultsWithAnswers(_0x3419fc,_0x13890b,_0x57944e,_0x18b67d,_0x31bc65,!![]):displayLoopScreen(_0x3419fc,_0x31bc65,_0x24c067);return;}if(_0x254c94&&_0x417d52){startAdaptiveFlow(_0x18b67d,_0x3419fc,_0x31bc65);return;}switch(_0x24c067){case _0x42ba4b(0x6cc):displayResultsWithAnswers(_0x3419fc,_0x13890b,_0x57944e,_0x18b67d,_0x31bc65);break;case'show_results_only':displayResultsScoreOnly(_0x3419fc,_0x13890b,_0x57944e,_0x31bc65);break;case _0x42ba4b(0x3da):displayPassFailOnly(_0x3419fc,_0x31bc65);break;case'half_mark_status':displayHalfMarkResult(_0x3419fc,_0x31bc65);break;case _0x42ba4b(0x3c8):displayPerfectScoreResult(_0x3419fc,_0x31bc65);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x237e43){const _0x1b99e2=_0x44691e;studentReadingArea[_0x1b99e2(0x64a)]=_0x1b99e2(0x9ee);const _0x412ad7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x237e43+_0x1b99e2(0x5a2)+simpleMathPrompt+_0x1b99e2(0xacb),_0x494db3={'type':_0x1b99e2(0xc37),'properties':{'questionText':{'type':_0x1b99e2(0xb46)},'options':{'type':_0x1b99e2(0x542),'items':{'type':_0x1b99e2(0xb46)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':['questionText',_0x1b99e2(0xbd7),'correctAnswerIndex',_0x1b99e2(0xb63)]},_0x516d1a={'type':_0x1b99e2(0xc37),'properties':{'topic':{'type':_0x1b99e2(0xb46)},'questions':{'type':_0x1b99e2(0x542),'items':_0x494db3}},'required':[_0x1b99e2(0x180),'questions']};try{const _0x2cdbc6=await callAnalysisApi(_0x412ad7,_0x516d1a);_0x2cdbc6[_0x1b99e2(0x2f3)]=!![],studentReadingArea[_0x1b99e2(0x534)]['add'](_0x1b99e2(0xb2f));const _0x3d09a2={...currentDisplayedQuiz[_0x1b99e2(0x73a)],'isAdaptive':![],'resultsDisplay':_0x1b99e2(0x6cc)};_0x2cdbc6[_0x1b99e2(0x73a)]=_0x3d09a2,displayQuizForStudent(_0x2cdbc6);}catch(_0x4c4345){console[_0x1b99e2(0x723)](_0x1b99e2(0x3e9),_0x4c4345),showMessage(_0x1b99e2(0xccb)),showView(_0x1b99e2(0xb07));}}function displayPassFailOnly(_0x165a2c,_0x2a63b0){const _0x146eaa=_0x44691e,_0xeae63e=currentDisplayedQuiz['settings']?.[_0x146eaa(0x1bd)]??-0x1,_0x2831be=currentDisplayedQuiz[_0x146eaa(0x2f3)]===!![];let _0x5e3347='',_0x5bfae6=![];if(_0x2831be||_0xeae63e!==-0x1){_0x5bfae6=_0x2831be?_0x165a2c===_0x2a63b0:_0x165a2c>=_0xeae63e;const _0x568927=_0x5bfae6?'bg-green-100\x20text-green-800':_0x146eaa(0x81c),_0x240fe9=_0x5bfae6?_0x146eaa(0x6d2):_0x146eaa(0x27e);_0x5e3347=_0x146eaa(0xcc2)+_0x568927+'\x22>'+_0x240fe9+_0x146eaa(0xad2);}else _0x5e3347=_0x146eaa(0x460);let _0x3168cd=_0x146eaa(0x80d)+currentStudentName+_0x146eaa(0xa0a)+_0x5e3347+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x146eaa(0x64a)]=_0x3168cd,studentResultArea[_0x146eaa(0x534)][_0x146eaa(0x392)](_0x146eaa(0xb2f)),studentQuizArea[_0x146eaa(0x534)][_0x146eaa(0x174)](_0x146eaa(0xb2f)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x5bfae6});}function cancelAdminTest(){const _0x1f55aa=_0x44691e;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x1f55aa(0x4c9)]('fullscreenchange',handleFullscreenChange),document['removeEventListener'](_0x1f55aa(0x743),handleVisibilityChange),currentMode=_0x1f55aa(0x783),studentView[_0x1f55aa(0x534)][_0x1f55aa(0x174)]('hidden'),adminView[_0x1f55aa(0x534)][_0x1f55aa(0x392)](_0x1f55aa(0xb2f)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView('project-detail');}function setupResultScreenBackButton(_0x1f79bd){const _0xf06919=_0x44691e,_0x418c07={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x1f79bd};if(_0x418c07['isLooping']){const _0x5a154e=_0xf06919(0xba5);studentResultArea['insertAdjacentHTML'](_0xf06919(0x3d5),_0x5a154e),document[_0xf06919(0xcac)](_0xf06919(0x643))[_0xf06919(0x36e)](_0xf06919(0x486),()=>{const _0x2aa70a=_0xf06919;studentResultArea[_0x2aa70a(0x534)][_0x2aa70a(0x174)](_0x2aa70a(0xb2f)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x4e025b=_0xf06919(0x211),_0x4aad21=currentMode===_0xf06919(0x87b),_0x29ee85=_0x4aad21?_0xf06919(0x24d):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x42d91b='';_0x418c07[_0xf06919(0x3f4)]&&(_0x42d91b+=_0xf06919(0x9d3));let _0x5eae50=_0x418c07[_0xf06919(0x77a)];_0x5eae50===undefined&&(_0x5eae50=_0x418c07[_0xf06919(0x443)]<_0x418c07['totalQuestions']);_0x5eae50&&(_0x42d91b+=_0xf06919(0x673));_0x42d91b+='<button\x20id=\x22'+_0x4e025b+_0xf06919(0x533)+_0x29ee85+_0xf06919(0x6a8);const _0x26f088=_0xf06919(0x280)+_0x42d91b+_0xf06919(0xbeb);studentResultArea[_0xf06919(0xa2a)](_0xf06919(0x3d5),_0x26f088),studentResultArea[_0xf06919(0x909)](_0xf06919(0x1fb))?.[_0xf06919(0x36e)](_0xf06919(0x486),handleShowStudentRankings);const _0x3c7cb7=studentResultArea['querySelector']('#retake-for-improvement-btn');_0x3c7cb7&&_0x3c7cb7[_0xf06919(0x36e)]('click',()=>{const _0x57ec60=_0xf06919;studentResultArea[_0x57ec60(0x534)]['add']('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0xf06919(0xcac)](_0x4e025b)[_0xf06919(0x36e)](_0xf06919(0x486),()=>{const _0x19c9e3=_0xf06919;_0x4aad21?(currentMode=_0x19c9e3(0x783),studentView[_0x19c9e3(0x534)]['add']('hidden'),adminView['classList']['remove'](_0x19c9e3(0xb2f)),showView('project-detail')):(showView('student'),document[_0x19c9e3(0xcac)](_0x19c9e3(0x200))[_0x19c9e3(0x1a0)]='');});}function _0x1215(){const _0x3c0bbb=['copy-quiz-id-btn','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การเรียงสับเปลี่ยน\x20(Permutation)','numQuestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','move','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','รอ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','.move-shortcut-menu-btn','incorrect','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','\x5cge','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','จัดการ','\x20หัวข้อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','ไม่พบแบบทดสอบในระบบเลย','bestScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','write','กำลังสร้างคำถามข้อ\x20','text-purple-600','ทฤษฎีบทพีทาโกรัสและการประยุกต์','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','.group','parseInline','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','forEach','toFixed','closePath','export-lesson-pdf-btn','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','.subTopic','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','สรุปผลการวิเคราะห์:\x5cn','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','getBBox','\x22\x20value=\x22false\x22\x20','contentEditable','worksheet-topic-input','warn','now','\x22\x20ให้เป็นคำถามประเภท\x20\x22','projectName','):\x20','passcode','summaryContent','original-mode-checkbox','Error\x20updating\x20project\x20color:','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','presentation-scratchpad-btn','#e21b3c','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','wakeLock','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20easy\x20version\x20quiz:','substr','</label></div>','ฟังก์ชันสัมพัทธ์\x20(rational)','parallel-default-1','2-digit','.isScored','list-view-btn','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','Error\x20adding\x20students:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','message','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','on_fire','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','highlighter-tools-group','typesetPromise','num-choices','earned-badges-container','จุด\x20เส้น\x20ระนาบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','\x20ชุด)</span>','getElementById','อนุพันธ์:\x20กฎลูกโซ่','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','บันทึกผลการเล่นเกมของ\x20','topic-bank-list','bg-green-500\x20hover:bg-green-600\x20text-white','ลบโปรเจคสำเร็จแล้ว','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','Error\x20fetching\x20quiz\x20settings:','cancel-game-start-btn','back-to-results-btn','get','.delete-file-shortcut-tab-btn','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','textarea[name=\x22team_answer\x22]','questionIndex','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','results-quiz-title','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','bank-quiz-search-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','bulk-quiz-settings-btn','input[name=\x22drill_answer\x22]:checked','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','เพิ่มปุ่มลัดใหม่','.quiz-bank-present-btn','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','จำนวนนักเรียน','แบบทดสอบนี้หมดเวลาแล้ว','.file-topic-selection-btn','tGain','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','tooltipTarget','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','Unexpected\x20API\x20response\x20structure:','รอเปิด','file-shortcut-id-input','tabId','ไม่พบข้อมูลการจับคู่','.shortcut-tab-btn','admin-dashboard','file-topics-list-container','pointerup','button','approx','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','scratchpad-controls','source_document.txt','BOOLEAN','release','additional-shortcuts-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','(คู่ขนาน)\x20','.bp-create-onet-quiz-btn','ลบแบบทดสอบสำเร็จแล้ว','อสมการเชิงเส้น','selectedTopicNames','timer-duration-label','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','totalQuestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','close-student-rankings-btn','ตารางความถี่','highlighter-tool-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20settings:','fromCharCode','currentTarget','endTime','index','add-parallel-shortcut-btn','ไม่พบข้อมูลผู้ใช้','function','q-explanation-','กรุณาป้อนรหัสแบบทดสอบ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ปรับเพิ่ม/ลดเป็นร้อยละ','Authentication\x20failed:','blur','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','actions-container-','undo-btn','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','add','.project-card-content','</select>','selected-topics-count','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','เริ่มกิจกรรม:\x20','topic','parallel-shortcut-editor-modal','Error\x20processing\x20shortcut\x20click:','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-quiz-leaderboard-tab','อัปเดตสถานะสำเร็จ','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รหัสไม่ถูกต้อง','math-topic-search-input','text','log','</h4>','slice','pen-tools-group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','shortcutIds','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','แก้ไขข้อนี้','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','asc','quizType','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','</a>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','download','\x22>จาก:\x20','half_mark_status','ท็อปฟอร์ม','.ai-content\x20td','Sync\x20Mode','value','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-image-btn','#FFFFFF','/public/data/customMathTopics','การนับ','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','บันทึกการตั้งค่าแล้ว','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','some','start-game-btn','confirm-manual-bp-btn','visibilityState','behavior-log-container','pin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isDefault','GlobalWorkerOptions','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','results_','รีเซ็ตลำดับโปรเจคแล้ว','backgroundColor','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','duration-300','passingScore','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20จุดเรียบร้อยแล้ว','bg-green-200\x20text-green-900','deltaY','red','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','artifacts/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','bp-reference-file-url','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','</span></p>','ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','AI\x20แก้ไขคำถามสำเร็จ!','กำลังสร้างแบบทดสอบ\x20\x22','bg-red-200\x20text-red-800','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','rgba(59,\x20130,\x20246,\x200.7)','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','change','fixed','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','question-analytics-container','-tab','สถิติและความน่าจะเป็น','.view-bp-lesson-btn','scratchpad-modal','\x5cle','สลับไปโหมดนักเรียน','stepByStepExamples','latestScore','stroke','ตรวจพบการออกจากหน้าจอครบ\x20','.quiz-bank-move-btn','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','mouseup','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','Error\x20updating\x20pin\x20status:','student-reading-area','บันทึกการแก้ไข','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','select','fill_in_no_choices','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','numeric','Error\x20fetching\x20projects\x20for\x20move:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','scratchpad-header','เพิ่มหัวข้อ\x20\x22','hasOwnProperty','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','results','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','sara','adaptive-quiz-checkbox','/public/data/quizzes','#view-rankings-btn','answering','ดีมาก','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','start-quiz-btn','quiz-id-input','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','save-bp-settings-btn','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','<button\x20data-id=\x22','bp-modal-include-images-checkbox','textContent','modal-confidence-mode-select','เลือกและบันทึก','ค่าสัมบูรณ์','fa-pen','manage-tab','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','back-from-results-btn','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','กำลังสร้างบทเรียน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','.bp-try-btn','เลือกและเริ่มสร้าง','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','false','หน่วยความยาวและการแปลง','perfect_score','line-through\x20text-red-700','url','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','<svg','originalTopic','ค่าเสื่อมราคา','open-blueprint-projects-btn','Error\x20opening\x20quiz\x20editor:','เนื้อหาสำหรับสอน:\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','str','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-name=\x22','answerText','cancel-bulk-quiz-settings-btn','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','.edit-hidden-parallel-shortcut-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด:**\x20เนื้อหาในส่วน\x20POINT\x20และ\x20MEMORY\x20ต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง:**\x20ตัวอย่างประกอบ\x20(blockquote)\x20ต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x20แต่ห้ามคัดลอกโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**ยึดตามปรัชญา\x20O-NET:**\x20เน้นการประยุกต์ใช้,\x20การคิดวิเคราะห์,\x20และการแก้ปัญหาหลายขั้นตอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','API\x20call\x20failed\x20with\x20status:\x20','ไม่สามารถสร้างโปรเจคได้','parentElement','shortcuts-loading-msg','start-sync-game-btn','lineWidth','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','.delete-quiz-btn','starred','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20ออกจากคลังนี้?','instructions','QUICK_THINKER','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','mean','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','date_desc','แก้ระบบสมการด้วยเมทริกซ์','จำนวนข้อ:','\x5cfrac{$1}{$2}','สุดยอด!\x20ตอบถูกทุกข้อ','tool','quiz-end-time','leaderboard-table-body','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','shadowColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','size','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','กำลังสร้างแบบทดสอบจากหัวข้อ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','scratchpad-canvas','dragstart','arrayBuffer','ไม่สามารถโหลดรายการโปรเจคได้','ร้อยละประยุกต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','AI\x20ไม่สามารถประมวลผลข้อมูลได้','PERFECT_SCORE','<br>','create-project-btn','bg-blue-500\x20hover:bg-blue-600\x20text-white','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','.confidence-choice-btn','open-global-live-btn','name_asc','gradeLevel','move-quiz-modal','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','fa-bolt\x20text-blue-500','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','#E0E7FF','แก้ไขปุ่มลัดจากไฟล์','getBoundingClientRect','pointContent','ON_FIRE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','mousemove','font-bold\x20text-green-700','toDataURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','จับคู่แบบทดสอบสำเร็จ!','บทเรียนเรื่อง:\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','summary_chart','.csv','prod','ไม่ผ่าน','cos','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','modal-timer-mode-select','_opt0\x22\x20name=\x22question','NUMBER','<h1></h1>','opacity','teacherSuggestions','Error\x20fetching\x20lesson\x20content:','add-shortcut-btn','blueprint-topics-list-container','student-quiz-leaderboard-table-body','ส่วนเบี่ยงเบนเฉลี่ย','grabbing','cursor','Copy\x20command\x20failed','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอยากมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','view-my-progress-btn','Error\x20deleting\x20submission:','preventDefault','.move-shortcut-dropdown','เกิดข้อผิดพลาดในการลบ','showInStudentDashboard','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','type','กำลังดึงไฟล์อ้างอิงจากลิงก์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','</tbody></table></div>','.edit-custom-topic-btn','<div\x20class=\x22loader\x20mx-auto\x22></div>','มุมพิเศษ\x2045°-45°-90°','กลุ่มของคุณ','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','แผนการสอน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','team','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','data','cancel-bp-settings-btn','สร้างแล้ว','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-quiz-id=\x22','Error\x20duplicating\x20quiz:','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','global-activity-modal','MathJax','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','text-red-600','null','getContext','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างใบงาน','สร้างชุดคำถามจับคู่','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20loading\x20blueprint\x20projects:','globalSettings','text-white','code','เปลี่ยนชื่อแบบทดสอบสำเร็จ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','ดีเทอร์มิแนนต์','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','\x22,\x20','ไฟล์ทั้งหมด','all','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','Error\x20listening\x20for\x20projects:','blueprint-options-container','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','ปริพันธ์จำกัด','.copy-quiz-id-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answered','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','element','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','.verification-result','370jBWKYO','แบบปรนัย\x204\x20ตัวเลือก','Error\x20confirming\x20players\x20for\x20sync\x20game:','เวกเตอร์และเมทริกซ์\x20(เสริม)','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','Failed\x20to\x20kick\x20player\x20','bg-green-400\x20text-white\x20font-bold','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','shuffleSetting','blueprint-settings-modal','ระยะเวลา\x20(วินาที):','130408LCuYVw','ฟังก์ชันเชิงเส้นและกราฟ','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','วงกลม:\x20สมการและสมบัติ','bg-black/10','smooth','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20-\x20คำตอบ:\x20','/public/data/teamQuizzes','.edit-parallel-shortcut-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','isRemedial','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','N/A','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','opacity-50','<span\x20class=\x22sort-indicator\x20ml-2\x22>','height','toLocaleString','order','ทฤษฎีบทพื้นฐานของแคลคูลัส','border-green-300\x20bg-green-50','timed','default-2','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','\x20ชุดสำเร็จ!','confirm-not-confident','close-comparison-modal-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','goto-next-question-btn','stdDev','label[for=\x22num-questions\x22]','Error\x20saving\x20shortcut:','<div\x20class=\x22space-y-4\x22>','cancel-quiz-edits-btn-footer','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','กรุณาเลือกคำตอบของกลุ่ม','bg-green-100','fileShortcutOrder','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','Error\x20during\x20blueprint\x20link\x20cleanup:','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','uid','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','rename-quiz-input','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','เกิดข้อผิดพลาดในการบันทึกลำดับ','candidates','Error\x20fetching\x20project\x20quizzes:','.topic-name-input','topic-input','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keydown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','px)\x20scale(','highlighter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','เกิดข้อผิดพลาดในการเข้าร่วมเกม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','projectOrder','querySelectorAll','answer','presentation-explanation','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','save-parallel-shortcut-btn','no-projects-msg','student-quiz-topic','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20ก่อนสร้างเนื้อหาใดๆ\x20ให้อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','math-topics-checkbox-container','getItem','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','generate-from-text-btn','การบวกทศนิยม','file-default-','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','answer-grid-container','พื้นที่วงกลม/ส่วนของวงกลม','cloneNode','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','analytics-summary-cards','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','members','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','การคูณทศนิยม','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','Error\x20joining\x20activity:','MathJax\x20re-render\x20failed:','ชนิดของข้อมูลและการเก็บข้อมูล','การแจกแจงปกติและ\x20z-score','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','สเกลและแผนที่','\x20คะแนน</span></div>','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','\x22\x20data-pre-test-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-presentation-btn','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','pop','ต้นฉบับทั้งหมด','(ก่อนเรียน)\x20','#student-quiz-leaderboard-content\x20thead','show-in-student-dashboard-checkbox','export-lesson-to-pdf-btn','ดอทโปรดักต์\x20(dot)','confirm-link-quiz-btn','<p><strong>คำตอบที่แนะนำ:</strong>\x20','กำลังเตรียมไฟล์...','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','.admin-try-quiz-list-btn','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','\x27\x20ในหัวข้อ\x20\x27','shortcut-id-input','team-player-status-grid','<button\x20data-value=\x22','input[type=\x22text\x22]','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','คณิตการเงิน/บูรณาการ','ลบผลสอบของ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','playerName','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','addEventListener','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','projectId','modal-loop-until-pass-checkbox','round','decode','point','.regenerate-question-btn','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','mouseleave','text-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-actions-view','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','.project-card-container.opacity-50','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เส้นรอบรูป','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','topics.','พบ\x20Sync\x20Game!','questionId','generate-worksheet-btn','quiz-leaderboard-table','file.txt','stem','Error\x20deleting\x20custom\x20topic:','การจัดหมู่\x20(Combination)','.save-custom-topic-btn','include-images-checkbox','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','.use-hidden-shortcut-btn','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ตรวจคะแนนใหม่\x20','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','remove','/public/data/practiceBank','comparison-chart','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','webkitRequestFullscreen','วงกลม:\x20คอร์ดและเส้นสัมผัส','promptFeedback','map','พื้นที่ใต้กราฟ/ระหว่างกราฟ','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','.group\x5c/dropdown-file','verify-answers-editor-btn','\x22\x20name=\x22confidence','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20listening\x20for\x20starred\x20quizzes:','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','\x22\x20class=\x22pin-project-btn\x20','.status','blueprint-project-manager-view','Error\x20generating\x20worksheet:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','ai-quiz-app-aefee','\x20(p=','parent','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','file.pdf','ปริมาตรรูปทรงสามมิติ','ถูกต้อง!','<tr>','modal-close-btn','หัวข้อหลักใหม่','border-red-300\x20bg-red-50','choices_only','Error\x20linking\x20quizzes:','bg-black/20','flex\x20flex-col\x20gap-2','เรขาคณิตวิเคราะห์','Group\x20Mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','checkAnswer','สอบซ่อม','ชื่อโปรเจคห้ามว่าง','Error\x20saving\x20project\x20order:','perfect_score_status','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','AI\x20Formula\x20Fix\x20Error:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','เรเดียนและการแปลงหน่วย','manual-create-blueprint-btn','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','Error\x20saving\x20file\x20shortcut:','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','parallel-shortcut-id-input','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','beforeend','จำนวนคละ','isFinished','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','bg-yellow-50','show_pass_fail_only','readAsArrayBuffer','getScreenCTM','live-race','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','dim-overlay','subTopic','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.correct-response-input','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','toLowerCase',',\x20r=','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','Remedial\x20quiz\x20generation\x20failed:','กฎของโคไซน์','Enter','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.flex.justify-between.items-center','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','additional-file-shortcuts-list','Error\x20saving\x20parallel\x20shortcut\x20config:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-pdf-btn','bp-modal-question-complexity-select','showRankings','selected-answer-index-hidden','#26890c','gamePin','next-sync-question-btn','parallel-shortcut-container','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','-options','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','floor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รายการนี้','.bp-view-analysis-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','export-compact-pdf-btn','แบบทดสอบฝึกฝนเรื่อง:\x20','p-2\x20bg-black/10\x20rounded-md','touchcancel','link-input-area','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','live-options-container','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','ฟังก์ชันยกกำลัง','shuffle-setting-select','cancel-admin-login-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','quiz-leaderboard-table-body','Error\x20verifying\x20answers:','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการนำผู้เล่นออก','กราฟฟังก์ชันตรีโกณ','requestFullscreen','API\x20Error\x20Body:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','#results-table\x20thead\x20tr','Error\x20updating\x20project\x20name:','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','#D1FAE5','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','text-red-700\x20bg-red-100','bp-modal-passing-score-input','\x5cpm','next-question-timed-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','helvetica','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','nextElementSibling','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','quizMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20creating\x20project:','.pin-project-btn','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','points','.remove-file-shortcut-from-tab-btn','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไม่พบแบบทดสอบสำหรับรหัสนี้','สาระที่\x201','Error\x20deleting\x20student:','text-indigo-600','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','test','.summary-bar-item','show-results-btn','presentation-short-answer-input','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','game-start-mode','.parallel-shortcut-btn','.bp-delete-topic-btn','score','ฮิสโตแกรม','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','timestamp','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','onerror','student-quiz-leaderboard-content','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','student-quiz-area','copy','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','การหารเศษส่วน','option','ส่งแล้ว','ตัวแปรและนิพจน์','includeImages','per-question-options','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','<option\x20value=\x22','sync-short-answer-input','q-text-','timer-mode-select','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','fullscreenElement','5009046nqAGbl','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.parallel-shortcut-tab-btn','lineCap','#DBEAFE','startsWith','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','confirm-game-start-modal','สร้างแบบทดสอบปรนัย','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','student-progress-content','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','data:application/vnd.ms-word;charset=utf-8,','bp-modal-num-choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','afterend','close-lesson-view-btn','ดอกเบี้ยอย่างง่าย','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','pre-test','rgba(79,\x2070,\x20229,\x201)','การลบทศนิยม','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20สำเร็จ','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','temp-loader-text-results','qType','274192258111','classStrengths','border-gray-200','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt','\x20link(s)\x20for\x20quiz\x20ID:\x20','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','match','analytics-tab-btn','click','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','<p\x20class=\x22','timer-container','.presentation-option','student-rankings-modal','student-name-input','pointsLastQuestion','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','onload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','devicePixelRatio','correctAnswer','strokeStyle','shortcutOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','Error\x20rendering\x20student\x20progress:','\x20ข้อ\x20','finishReason','modal-timer-duration-input','bp-modal-difficulty-level-select','innerText','msExitFullscreen','กรุณาเลือกโปรเจคที่ต้องการบันทึก','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','.bp-open-topic-bank-btn','ระยะทางและจุดกึ่งกลาง','pointercancel','select-all-topics-btn','submission','Error\x20starting\x20sync\x20game:','สร้างคำถามแบบเติมคำในช่องว่าง','idealAnswer','parallel-default-2','bg-green-100\x20font-bold','quiz-status-modal','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','AI\x20request\x20was\x20blocked.\x20Reason:\x20','.bp-live-btn','ถูก','POST','grid','.sort-indicator','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกไฟล์ก่อน','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lastIndexOf','handleGenerateAndShowLesson','autoTable','items','#FEF3C7','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','ฟังก์ชันลอการิทึม','รูปสแควร์รูท\x20(surd)','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','comparison-overall-content','back-to-student-initial-btn','.quiz-bank-item','pairedQuizId','removeEventListener','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','ควรปรับปรุง','team-quiz-topic','grid-view-btn','draggable-text','ก่อนเรียน','</span>','result','insertBefore','bp-quiz-settings-btn','question','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','total','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','\x20ตัวเลือก.\x20','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','currentQuestionIndex','hasPerfectScoreBonus','answers','export-leaderboard-word-btn','PERSEVERANCE','end-sync-game-btn','border-green-700','</body></html>','text-green-600\x20font-bold','bp-modal-quiz-type-select','ลบโปรเจค\x20\x22','ที่พิมพ์ได้\x20จำนวน\x20','.delete-file-shortcut-btn','manual_release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','clientX','leaderboard-quiz-tab-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','\x20to\x20blueprint\x20topic\x20','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกรหัสแล้ว!','ยอดเยี่ยม','parallel-test-tab','memory','keyup','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-list','touchend','-tab-content','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','scratchpad-clear-btn','lesson-plan-title','confirm-confident','add-file-shortcut-btn','\x22\x20data-target-tab-id=\x22','ผิด','API\x20Error\x20Response:','commonMistakes','.move-parallel-shortcut-dropdown','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','status','attempts','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','กรุณากรอกข้อมูลให้ครบทุกช่อง','label','flex','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','cancel-shortcut-edit-btn','parallel-shortcut-name-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','<p\x20class=\x22text-xl\x22>','reference.pdf','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','stopPropagation',')\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20game\x20results:','show-leaderboard-btn','ใช่','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','#math-topics-checkbox-container\x20input:checked','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','Error\x20deleting\x20quiz:','isAdaptive','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','bulk-results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','file-default-1','.remove-shortcut-from-tab-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','การจัดกลุ่มข้อมูล','sum','student-name-selection-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','shortcut-reference-url-input','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','dashboardConfig','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','presentation-modal','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','classList','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','responses','confirm-quiz-status-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','fill_in_the_blank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','ห.ร.ม.\x20(GCD)','lowerGroupResponders','keys','random','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','ondragover','ARRAY','fa-dumbbell\x20text-gray-700','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','สมการราก\x20(radical)','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','.shortcut-list-item','ความชันและเส้นตรง','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','ผู้ควบคุม\x20(ทดสอบ)','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','quiz-settings-modal','default-1','checked','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','.shortcut-list-item:not(.opacity-50)','splice','handleGeneratePracticeTest','.edit-hidden-file-shortcut-btn','<li\x20class=\x22','lesson-view-title','generated-quiz-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','.compare-results-btn','\x20ตอบ','เกิดข้อผิดพลาด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','ไม่ได้ตอบ','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','px,\x20','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textarea','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','qIndex','dimmed','analytics','submission-status-chart','first_try_ace','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','ยังไม่มีนักเรียนส่งงาน','file-input-area','mode','Error\x20generating\x20parallel\x20post-test:','.live-answer-btn','correctAnswerIndex','totalPoints','padStart','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','เกิดข้อผิดพลาดในการลบนักเรียน','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','matching','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','กรุณาเลือกสถานะ','quiz-editor-modal','Error\x20starting\x20game:','disabled','pointerType','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','title','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','countdown-display','lesson-view-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22my-2\x22>','จากเนื้อหาต่อไปนี้:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','bg-green-200\x20text-green-800','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','สร้างแบบทดสอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','bg-gray-50','ทฤษฎีทวินาม\x20(เบื้องต้น)','สำหรับโปรเจค:\x20','dfrac','back-to-student-home-btn','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20in\x20generating\x20from\x20files:','applicationData','Error\x20submitting\x20group\x20answer:','.ai-content\x20p','comparison-modal','<div\x20class=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','min','trim','กิจกรรมสิ้นสุดลงแล้ว','summary','hint','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','values','การแยกตัวประกอบ','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','ฟังก์ชันผกผัน','upperGroupNames','top','ownerSVGElement','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','comparison-individual-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','cancel-delete-btn','create-from-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','project-search-input','ข้อที่\x20','teachingContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','เซียนสมองไว','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20|\x20','teacherTips','blob','สมมาตร\x20(แกน/จุด)','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','ยังไม่ส่ง','createElement','className','sync','ความน่าจะเป็นแบบมีเงื่อนไข','originalQuestionText','%PDF','files','text-blue-700','Error\x20loading\x20quiz\x20for\x20student:','complexityValue','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','lesson-loader-text','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','shortcut-editor-modal','คัดลอกไม่สำเร็จ','eraser','s;\x22\x20title=\x22','**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','topicName','comparison-overall-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','file-shortcut-container','progress-project-select','rgba(239,\x2068,\x2068,\x200.9)','answeredCurrentQuestion','schedule','manual-bp-grade-level','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wheel','พื้นที่สามเหลี่ยม','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','_blank','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x22...','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','\x22\x20สำเร็จ!','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','timer-duration-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบ:\x20','เส้นตรง:\x20รูปแบบสมการ','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','การบวก','onblur','.delete-parallel-shortcut-tab-btn','</p><p><strong>เฉลย:</strong>\x20','dataset','confirm-delete-btn','topic-tab','text-red-800','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','...','submit-group-answer-btn','27411472','loader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','กำลังอ่านไฟล์อ้างอิง...','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','button[type=\x22submit\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20จาก\x20','.png','#student-project-leaderboard-content\x20thead','<button\x20data-quiz-id=\x22','after','คัดลอกแบบทดสอบสำเร็จ','</tr>','ไม่พบโปรเจคที่ต้องการลบ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','[data-topic-id]','string','.topic-actions-edit','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','</option>','ไม่ใช่','lesson-loader','<div><input\x20type=\x22radio\x22\x20id=\x22q','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','passing-score-input','quick_thinker','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','update','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','คณิตศาสตร์','curriculum','</li>','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','.quiz-settings-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','results-table-container','resize','isArray','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','พิสัย','setAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','close-additional-parallel-shortcuts-btn','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','startTime','ตอบถูก\x203\x20ข้อติดต่อกัน','input[type=\x22checkbox\x22]:checked','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','FIRST_TRY_ACE','จำนวนเต็มบวก','retake-quiz-loop-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','numPages','.pair-quiz-btn','file-shortcut-name-input','learningGaps','ยังไม่สร้าง','innerHTML','timerDuration','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาใส่ชื่อนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','#E5E7EB','ไฟล์ลัด\x202','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x22\x20data-q-type=\x22','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','fix\x20the\x20option','localeCompare','undefined','save-project-name-btn','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','imageCode','practice-topic-btn','bank-quiz-list','\x5ccdot','sync-player-list','tab_','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','loop-until-pass-checkbox','scheduled_pending','bg-yellow-100','\x22.\x20','มัธยฐาน','mode-switcher-btn','submissions','border-indigo-500\x20text-indigo-600','deg','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behaviorLog','.file-shortcut-btn[data-id=\x22','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','.shortcut-btn','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','update-old-quizzes-btn','join-group-activity-btn','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','close','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','สร้างคำถามแบบใช่/ไม่ใช่','file-shortcut-editor-modal','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','ไฟล์ลัด\x201','live-short-answer-input','enable-passcode-checkbox','projectView','\x5ctimes','bulk-confidence-scoring-checkbox','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทศนิยม\x20(ค่าประจำหลัก)','filter','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22team_answer\x22\x20value=\x22','bp-modal-shuffle-setting-select','/studentProfiles','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/liveGames','fullscreenchange','แบบทดสอบนี้ปิดใช้งานอยู่','questionStatus','Failed\x20to\x20get\x20standardized\x20topic:','shuffledQuiz','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','Re-grade\x20process\x20failed:','linkedQuizIds','submit-team-answer-btn','screen_exit','sqrt','Error\x20analyzing\x20blueprint\x20topics:','ai-quiz-app-aefee.firebasestorage.app','generated','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','No\x20player\x20data\x20to\x20save.','<button\x20data-shortcut-id=\x22','podium','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','modal-timer-duration-container','parallel-test-input-area','table','applicationHTML','move-quiz-project-select','</button>','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','\x20in\x20all\x20blueprint\x20projects.','lastAnswerIndex','[data-topic-id=\x22','ปิดใช้งาน','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','Failed\x20to\x20generate\x20practice\x20test:','leaderboard-quiz-tab-content','analytics-tab-content','inactive','removeChild','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','/public/data/projects','preTScore','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','ไม่มีคำอธิบาย','text-green-600','transparent','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','.topic-name-display','สมการเชิงเส้นตัวแปรเดียว','memoryContent','pow','ไม่พบแบบทดสอบ','Error\x20processing\x20file\x20shortcut\x20click:','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','submit','starred-project','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','show_results_and_answers','topic-bank-subtopic-name','delete','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x22.\x20Ideal\x20Answer:\x20\x22','prev-question-btn','ผ่าน','.highlighter-color-btn','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','อนุพันธ์:\x20ผลคูณ/ผลหาร','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','unshift','\x20คะแนน\x20','parts','game-start-quiz-id','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','main-correct-answer-display','lastAnswerCorrect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','translate(','MathJax\x20typeset\x20error\x20(analytics):','</div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a1.\x20\x20**ต้องสร้างโจทย์ที่เน้นการคิดวิเคราะห์\x20(Highest\x20Priority):**\x0a\x20\x20\x20\x20*\x20**เน้นการประยุกต์ใช้:**\x20โจทย์ส่วนใหญ่ต้องไม่ใช่คำถามความจำหรือคำนวณตรงๆ\x20แต่ต้อง\x20**บังคับให้ผู้เรียน**\x20ต้องคิดวิเคราะห์,\x20ประยุกต์ใช้ความรู้,\x20หรือแก้ปัญหาหลายขั้นตอน\x20(multi-step\x20reasoning)\x0a\x20\x20\x20\x20*\x20**หลีกเลี่ยงโจทย์ง่าย:**\x20**ห้ามสร้าง**\x20โจทย์ที่เป็นการคำนวณพื้นฐานในขั้นตอนเดียว\x20(เช่น\x20\x22จงหาผลลัพธ์ของ\x2015\x20x\x204\x22)\x20โดยเด็ดขาด\x0a\x20\x20\x20\x20*\x20**สถานการณ์สมจริง:**\x20โจทย์ควรอยู่ในรูปแบบของ\x20\x22โจทย์ปัญหา\x22\x20(Word\x20Problems)\x20ที่มีสถานการณ์สมมติ\x20เพื่อวัดความสามารถในการนำความรู้ไปใช้แก้ปัญหาจริง\x0a\x0a2.\x20\x20**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x0a\x20\x20\x20\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**โครงสร้าง,\x20จำนวนข้อ,\x20และรูปแบบของตอน**\x20ทั้งหมดที่คุณสร้าง\x20**ต้อง**\x20อิงตามเอกสาร\x20Test\x20Blueprint\x20**เท่านั้น**\x20และ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20การไม่ปฏิบัติตามโครงสร้างนี้ถือเป็น\x20**ความล้มเหลวของภารกิจทั้งหมด**\x20โดยไม่มีข้อยกเว้น\x0a\x20\x20\x20\x20*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20ไฟล์นี้มีไว้เพื่อเป็น\x20**แนวทางด้านสไตล์และความยาก**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**คำสั่งเด็ดขาด:\x20ห้าม\x20(DO\x20NOT)**\x20นำ\x20**จำนวนข้อ**,\x20**โครงสร้างตอน**,\x20หรือ\x20**ลำดับข้อ**\x20จากไฟล์อ้างอิงมาใช้เด็ดขาด\x20ข้อมูลเหล่านี้ต้องมาจาก\x20Test\x20Blueprint\x20เท่านั้น\x0a\x0a3.\x20\x20**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a\x20\x20\x20\x20*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','isCorrect','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','whole_quiz','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','ความเท่ากันทุกประการของสามเหลี่ยม','loader-text','.topic-category','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','print','endsWith','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-shortcut-tabs-nav','https://corsproxy.io/?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-yellow-800','student-passcode-input','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','drop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','generate-from-file-btn','/public/data/syncGames','timerMode','save-bp-reference-btn','editor-quiz-topic','moveTo','</strong></p>','\x5cneq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','open-sync-scratchpad-btn','neq','transformOrigin','.pen-size-btn','force-math-checkbox','scale','ไม่พบไฟล์\x20Test\x20Blueprint','subTopics','confidence-mode-select','restore','eraser-tool-btn','shortcuts','bp-modal-num-questions','พื้นที่ผิวรูปทรงสามมิติ','Attempting\x20to\x20save\x20game\x20results...','Error\x20showing\x20quiz\x20detail\x20view:','save-quiz-edits-btn','.quiz-bank-checkbox:checked','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','cancel-blueprint-projects-btn','mousedown','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectSort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','Error\x20deleting\x20project:','save-quiz-btn','setTransform','error','finished','ผ่านฉลุย','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','custom-math-topic-input','verify-answers-btn','(หลังเรียน)\x20','_opt1\x22\x20name=\x22question','%</span>','cancel-quiz-settings-btn','bottom','bank-tab','exists','manual-bp-content','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','\x22><i\x20class=\x22fas\x20','resultsDisplay','ความชันเส้นสัมผัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','Error\x20updating\x20old\x20quizzes:','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','settings','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','.space-y-1.pl-4','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.delete-bp-project-btn','cancel-quiz-edits-btn','appendChild','4yTybrs','เกิดข้อผิดพลาดในการบันทึก','visibilitychange','add-file-shortcut-tab-btn','circle','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ต้นฉบับ\x201','frac','เลือกโปรเจคเพื่อบันทึก','leaderboard-quiz','screen','บันทึกการตั้งค่าการแสดงผลสำเร็จ','group','scratchpad-close-btn','quiz-start-time','bg-blue-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','.file-shortcut-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-dashboard-btn','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','wasConfident','แบบเติมคำตอบ','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.ai-content\x20h3','Failed\x20to\x20generate\x20lesson:','sync-matching-select','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','rgba(255,\x20255,\x200,\x200.5)','ระบบเลขและค่าประจำหลัก','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','includes','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','setItem','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-container:not(.opacity-50)','mixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','student-team-selection-view','\x20รายการ...','close-lesson-plan-modal-footer-btn','ผู้เชี่ยวชาญ','การคูณเศษส่วน','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','.ideal-answer-input','behavior-log-tab-content','#open-additional-file-shortcuts-btn','modal-confidence-mode-container','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','touchstart','showImproveButton','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','svg','.edit-shortcut-btn','ปริมาตร/ความจุและการแปลง','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','Error\x20displaying\x20question\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','admin','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','postScore','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','.bp-unlink-quiz-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','input','font-bold\x20text-red-700\x20line-through','จำนวนและการดำเนินการ','modal-shuffle-select','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','.project-card-container[data-id]','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/preferences/main','baseVal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-200\x20text-gray-700','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่มี','auto-fix-latex-btn','cancel-manual-bp-btn','file-default-2','อัตราส่วนและสัดส่วน','Error\x20clearing\x20all\x20links:','previousElementSibling','\x20คู่\x20','binom','far\x20fa-star','focus','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.rename-quiz-btn','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','td,\x20th','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add-custom-math-topic-btn','เปลี่ยนชื่อโปรเจคสำเร็จ','Error\x20saving\x20blueprint\x20project:','delete-svg-btn','\x20คนที่ส่ง\x20ตอบถูก\x20(','rgba(79,\x2070,\x20229,\x200.8)','.quiz-bank-parallel-btn','Error\x20deleting\x20all\x20students:','mjx-container','cancel-parallel-shortcut-edit-btn','topic_','<p>','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','pathname','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','presentation-slide-container','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','กรุณาเลือกคำตอบก่อนครับ','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','เงินงวด\x20(อนุกรมเงินงวด)','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','แก้ไขสูตรคณิตศาสตร์\x20','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','ไม่ใช่\x20/\x20ผิด','/public/data/quizzes/','กำลังอัปเดตแบบทดสอบ\x20','mainTopics','https://drive.google.com/uc?export=download&id=','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','passcode-error-msg','globalCompositeOperation','fill_in_with_choices','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างใหม่','ไม่ระบุ','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','destroy','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','\x22\x20class=\x22color-palette-btn\x20','left','scores-tab-btn','modal-adaptive-quiz-checkbox','STOP','hover:bg-indigo-100','หยุดระบบจับเวลาหรี่หน้าจอ','getPage',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','badges','timer-duration-container','.tab-name-input','การลบเศษส่วน','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','</td></tr>','Error\x20joining\x20live\x20game:','.delete-custom-topic-btn','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','replace','sync-submit-btn','Failed\x20to\x20get\x20hint:','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','visible','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','manual-blueprint-modal','mandatory','.delete-hidden-parallel-shortcut-btn','text-red-500\x20hover:text-red-700','confidence','getElementsByTagName','กราฟแท่ง\x20กราฟเส้น','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','input[type=\x22radio\x22][value=\x22','[data-field=\x22subTopic\x22]','project-detail','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','onclick','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','applicationContent','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','ไม่พบข้อมูลแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','1684qVXMbX','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','pinnedProjects','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','text-red-300\x20hover:text-red-100','<div\x20class=\x22mb-3\x20topic-category\x22>','select[name=\x22question_single\x22]','.submittedAt','fa-rocket\x20text-purple-500','students','bg-red-100\x20text-red-800',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','entries','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','ลำดับเรขาคณิต\x20(GP)','Team\x20Quiz','องค์ประกอบของฟังก์ชัน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','ข้อต่อไป','check-presentation-answer-btn','.linkedQuizIds','Could\x20not\x20fetch\x20reference\x20file:','การแปลงรูปอัตลักษณ์','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','text-indigo-800','quiz-type-select','.project-card-container','question-complexity-select','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลโปรเจค','modal-timer-duration-label','bg-green-500','trail','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','\x0a---\x0a','fill','.quiz-result-card','editable-quiz-topic','loopUntilPass','questionText','ไม่สามารถเริ่มเกมได้','difficultyValue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22p-2\x20rounded-md\x20','shortcut-blueprint-url-input','.cancel-edit-topic-btn','center','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison','กรุณาตั้งชื่อแท็บใหม่:','referenceUrl','.kick-player-btn-sync','authed_project_','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','14TQbDtv','หัวข้อที่สร้างเอง','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ทำคะแนนเต็มในการทำครั้งแรก','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','Error\x20updating\x20sort\x20preference:','cancel-test-btn','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div></div></div>','block','Error\x20confirming\x20players:','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','removeItem','ส่งคำตอบ','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลำดับเลขคณิต\x20(AP)','leaderboard','correct','แผนภาพกล่อง\x20(box\x20plot)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','isConfidenceScoringEnabled','Error\x20fetching\x20student\x20rankings:','upperGroupResponders','\x20/\x20','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ondragstart','แท็บใหม่','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','manual-bp-project-name','split','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','552772wiPqGl','highlighter-size-slider','mouse','Error\x20resetting\x20project\x20order:','ตรีโกณมิติ','underline','\x22>ใช่</p>','\x5csqrt{$1}','Error\x20renaming\x20quiz:','highlighter-size-value','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','admin-testing','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','Blueprint\x202','confirm-bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','save-visibility-settings-btn','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','Error\x20listening\x20for\x20custom\x20math\x20topics:','icon','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-scoring-toggle','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','$$$1$','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bar','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','text/csv;charset=utf-8;','leq','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','referenceFileUrl','back-to-home-manual-release','bg-green-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','postTScore','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','Error\x20joining\x20sync\x20game:','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','ปุ่มลัดทั้งหมด','add-student-btn','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','latestSubmittedAt','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','Test\x20Blueprint','generate-from-parallel-test-btn','admin-password-modal','numChoices','cdot','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-team-join','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','q-image-container-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.lastAnswerCorrect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p></div>','circ','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','length','Error\x20generating\x20hybrid\x20quiz:','lesson-sections-container','bulk-shuffle-select','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-modal','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','รูปหลายเหลี่ยมและมุมภายใน','Error\x20generating\x20teaching\x20content:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอัปเดต:\x20','msRequestFullscreen','/public/data/blueprintProjects','scrollY','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','</td>','.score','/submissions','68694cBtWrc','name','ใช่\x20/\x20ถูก','parallel-default-','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','พอใช้','player-list-lobby','.start-presentation-list-btn','Blueprint\x201','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','shouldSaveResults','solution','onkeydown','NEGATIVE_INFINITY','Error\x20calling\x20Gemini\x20API:','เกิดข้อผิดพลาดในการส่งคำตอบ','additional-shortcuts-list','groups.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','ไม่มีผู้ตอบตัวเลือกนี้','ฟังก์ชันพหุนาม','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','handleGenerateQuizFromBlueprintTopic','badgesCount','ไม่สามารถโหลดข้อมูลอันดับได้','เกี่ยวกับหัวข้อ\x20\x22','เส้นจำนวน','next-drill-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','.quiz-bank-try-btn','close-comparison-modal-footer-btn','confirm-join-game-btn','save','questions','.generate-content-btn','.file-shortcut-tab-btn','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','cancel-create-project-btn','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','.move-file-shortcut-dropdown','cancel-passcode-btn','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','post-test','.draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','clear-all-links-btn','การวัด','Error\x20editing\x20topic:','ceil','อนุพันธ์:\x20กฎพื้นฐาน','ระบบอสมการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังดึงข้อมูลจากลิงก์...','querySelector','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยกเลิกการจับคู่สำเร็จ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','application/pdf','default','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','ค่าเฉลี่ย','blueprint-project-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','ยอดเยี่ยม!','Error\x20joining\x20team\x20quiz:','พิมพ์ตอบ','dragover','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','fa-crown\x20text-yellow-500','quiz','Error\x20saving\x20file\x20shortcut\x20config:','\x20ใหม่...','per-question-timer-container','.answers','<div\x20id=\x22q-image-container-','bp-project-title','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','blueprintUrl','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','คำถามดิบ:\x20\x22','save-blueprint-as-project-btn','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','กรุณาพิมพ์คำตอบของกลุ่ม','startedAt','blueprint-topics-list','sin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','parse','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','บันทึกโปรเจค\x20\x22','ลบหัวข้อสำเร็จ','width','workerSrc','link-topic-input','classWeaknesses','/questionBank','then','clearRect','Original\x20quiz\x20not\x20found','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','(เลือกแล้ว\x20','bg-green-100\x20text-green-800','touchmove','desc','project-list','project-title','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','Error\x20verifying\x20answers\x20in\x20editor:','student-progress-view','/public/data/projects/','วงรี','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','#open-additional-shortcuts-btn','export-leaderboard-image-btn','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','answer-counter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','project-passcode-input','content','timer-bar','บันทึกคำถามใหม่\x20','</th>','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','parallel-shortcuts-loading-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','กรุณาเลือกโปรเจคก่อน','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','FileReader\x20error:','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','correctResponse','ไม่พบข้อมูลหัวข้อที่จะบันทึก','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','cancel-rename-quiz-btn','เกิดข้อผิดพลาดในการโหลดโปรเจค','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','เพิ่มปุ่มลัดจากไฟล์ใหม่','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cdiv','text-yellow-300','Error\x20processing\x20parallel\x20shortcut\x20click:','อยู่ในสาระการเรียนรู้ใด:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','<p\x20class=\x22font-bold\x20text-sm\x20','lesson-view-content','#000000','th-TH','กรุณาเลือกชื่อของคุณ','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quiz-results-table-body','$1\x20\x5cfrac','กำลังสร้างแบบทดสอบ:\x20','#F59E0B','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','true','close-additional-file-shortcuts-btn','fa-fire\x20text-orange-500','.start-game-btn','short_answer','indexOf','.delete-hidden-file-shortcut-btn','หลังเรียน','cancel-export-pdf-btn','comparison-individual-content','create-project-modal','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','Error\x20unpairing\x20quizzes:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','parallelShortcutTabs','export-worksheet-pdf-btn','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','parallel-test-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','active','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','ref','manage-players-btn','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','#FEE2E2','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','empty','pen','project-passcode-modal','createElementNS','raw','Error\x20saving\x20reference\x20URL:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rows','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','Error\x20saving\x20submission:','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','additional-parallel-shortcuts-modal','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','ย้ายแบบทดสอบสำเร็จ','not-found','offset','คะแนนเต็ม!','ศูนย์','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','กฎบวกและกฎคูณ','beginPath','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','.game-start-btn','category','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','#F3E8FF','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','worksheet-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','bg-red-100','true_false','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','blueprint-input-area','lowerGroupNames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','confirm-passcode-btn','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาสร้างบทเรียนก่อน','AI\x20did\x20not\x20return\x20any\x20content.','.quiz-bank-delete-btn','shortcut_','parallel-shortcut-modal-title','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','activeGameSession','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','export-pdf-modal','jspdf','text/plain','.mb-6.p-4','ทำคะแนนได้เกินครึ่ง','\x20mb-2\x22>','team-student-list','ฐานนิยม','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','</h3>','medium','modal-message','#FCE7F3','student-result-area','\x20mx-1\x20text-lg\x22></i></span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reference_onet.pdf','generate-from-link-btn','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','quadraticCurveTo',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','results-table','text-gray-300\x20hover:text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','start-presentation-btn','nickname-input','border-indigo-400\x20ring-2\x20ring-indigo-200','Error\x20deleting\x20topic:','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lobby','Error\x20saving\x20shortcut\x20config:','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','parallelShortcutOrder','เรขาคณิต','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','.remove-parallel-shortcut-from-tab-btn','link-tab','.delete-student-btn','cancel-global-activity-btn','.delete-shortcut-btn','bp-add-topic-btn','text-content-input','.txt','clientY','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','request','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fas\x20fa-bookmark','responseSchema','export-excel-btn',';\x22\x20data-id=\x22','\x5csum','delete-all-students-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','push','ฟังก์ชันราก\x20(root)','players.','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','ondblclick','ความคล้ายของรูป','.export-pdf-list-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20pointer-events-none\x22>','targetId','reference.txt','scheduled','pen-tool-btn','groups','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','.lastAnswerIndex','sort','\x20ชุด)','fa-shield-alt\x20text-gray-600','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','textarea[name=\x22question_single\x22]','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','insertAdjacentHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','application/json','live-game','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','(^|[^\x5c\x5c])\x5cb','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','allResponses','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','กำลังอ่านและเตรียมไฟล์...','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','ความคาดหมาย\x20(Expected\x20value)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','rgba(16,\x20185,\x20129,\x200.7)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','ฟังก์ชันแบบชิ้นส่วน','toISOString','analyze-strengths-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','Error\x20regenerating\x20question\x20in\x20editor:','cancel-move-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','เส้นตรง:\x20ขนาน/ตั้งฉาก','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','scores','.sortable-header','not_generated','.color-palette-popup','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','file-shortcut-modal-title','back-to-project-btn','file-shortcuts-loading-msg','เกมสิ้นสุดลงแล้ว','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กำลังอ่านไฟล์\x20Test\x20Blueprint...','.regenerate-question-editor-btn','bg-green-200\x20text-green-900\x20font-bold','.ideal-answer-input,\x20.correct-response-input','closest','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','createdAt','bp-topic-list-container','back-to-dashboard-from-bp-btn','quiz-editor-questions-container','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','confirm-move-quiz-btn','6985GKdicc','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','\x20(สำหรับ\x20','global-quiz-search-input','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','<span\x20class=\x22font-bold\x20','webkitExitFullscreen','readAsDataURL','text-gray-400\x20hover:text-indigo-600','Error\x20adding\x20topic:','specialist','คะแนนเต็ม','ความเป็นอิสระของเหตุการณ์','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','กรุณาป้อนหัวข้อสำหรับใบงาน','leaderboard_','separate-by-content-from-file-checkbox','แก้ไขหัวข้อสำเร็จ','manage','โดเมนและเรนจ์','\x22\x20name=\x22drill_answer\x22\x20value=\x22','file-upload-input','suggestedAnswer','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','fadeStartTime','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20quiz\x20edits:','submittedAt','.use-hidden-file-shortcut-btn','isStarred','hint-btn','file-topic-input','description','text-emerald-800','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','dispatchEvent','ondrop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.live-answer-btn,\x20#live-submit-short-answer-btn','text-red-900','answerValue','generate-from-topic-btn','สลับไปโหมดผู้ควบคุม','reduce','catch','shortcutTabs','toLocaleDateString','lesson-plan-modal','```','toggle','ค.ร.น.\x20(LCM)','.ai-fix-question-btn','href','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','</div><div\x20class=\x22space-y-2\x22>','สอบปกติ','justification','Error\x20unlinking\x20quiz:','open-scratchpad-btn','.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','.bp-create-content-quiz-btn','PROMPT_PLACEHOLDER','(ไม่มีชื่อ)','target','player-count','interesting-stats-container','confidence-input-','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','quiz-leaderboard-table-container','student-initial-view','\x20กลุ่ม</p></div>','date_asc','touch','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','เกิดข้อผิดพลาดในการปักหมุด','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','blueprint-projects-modal','fixedData','Error\x20in\x20handleApiCall:','.doc','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','quiz-search-input','Error\x20saving\x20lesson\x20to\x20project:','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','lineJoin','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','\x22\x5cn','document','overallGroups','pointermove','next-question-btn','fix-lesson-latex-btn','bank-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','confidenceMode','responses.','\x22\x20สำเร็จ','text/html','/lessons','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','.edit-hidden-shortcut-btn','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','<div\x20class=\x22answer-space\x22></div>','1812249gqWEIk','พีชคณิตและฟังก์ชัน','\x0a\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','กำลังโหลดคลังข้อสอบทั้งหมด...','.delete-submission-btn','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','quiz-bank-modal','</span></div>','style','both','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','join','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','.\x20แต่ละข้อมี\x20','พบข้อสอบ\x20','quiz-results','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','ไม่พบตารางสำหรับ\x20Export','gameData','dragend','quizId','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','อสมการค่าสัมบูรณ์','Error\x20submitting\x20team\x20answer:','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','stringify','commit','getAttributeNS','outerHTML','[data-topic-container-id]','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isPinned','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','</div>\x0a</div>\x0a','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','div','การสร้างรูปด้วยวงเวียน–สันตรง','สมการตรีโกณมิติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','กรุณาใส่ชื่อใหม่','gain','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','isPasscodeEnabled','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','รากที่สองและที่สาม','.delete-parallel-shortcut-btn','</tbody></table>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไฮเพอร์โบลา','input[type=\x22checkbox\x22]','student','admin-password-input','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','every','end-team-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex-1\x22></div>','เกิดข้อผิดพลาดในการลบโปรเจค','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirmation-modal','text-indigo-700','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','Auto-linking\x20new\x20quiz\x20','parallel-shortcut-url-input','Error\x20starting\x20team\x20quiz:','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','dataIndex','touches','คะแนนเฉลี่ย','docs','live-player-management','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','.delete-svg-btn','student-name-select','studentName','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','redo-btn','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','ดอกเบี้ยทบต้น','```json','createObjectURL','trail-tool-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','hidden','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','show_results_only','lower_group_count','scores-tab-content','</p>','modal-confidence-scoring-checkbox','not_confident','parallelTestShortcutsConfig','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','fa-user-astronaut\x20text-blue-700','find','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','translate','position','Error\x20adding\x20custom\x20topic:','players','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','times','questionType','Error\x20starting\x20live\x20race:','\x20รายการสำเร็จ!','file-shortcut-url-input','STRING','multiple_choice','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','text-gray-500','shuffle','toDate','แก้ไขปุ่มลัด','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','\x20รายการ\x20สำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.move-shortcut-item','shortcut-name-input','auto','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','.toggle-actions-btn','cancel-team-selection-btn','substring','คะแนนยังไม่ถึงครึ่ง','ชื่อหัวข้อห้ามว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','confirmation-message','projectSortOrder','isScored','ไม่พบข้อมูลข้อสอบหลังเรียน','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','from','tan','explanation','ตรวจทานเฉลยเสร็จสิ้น!','topicId','<li>','/users/','modal-passing-score-input','setFont','pointer-events-none','Error\x20saving\x20visibility\x20settings:','topic-input-area','project-detail-view','difficulty-level-select','ย้ายแบบทดสอบไปโปรเจคอื่น','export-word-btn','เกิดข้อผิดพลาดในการสร้าง:\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แคลคูลัสเบื้องต้น','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','results-display-select','bg-red-500','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','pre-test-checkbox','standard','อัปเดตพฤติกรรมสำหรับ\x20','none','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','normal','เกิดข้อผิดพลาดในการลบผลสอบ','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','game-pin-input','temp-loader-results','fileShortcutsConfig','file-tab','ไม่พบข้อมูลเกม','sync-player-management','.edit-quiz-btn','#results-table','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','แผนภาพเวนน์','add-parallel-shortcut-tab-btn','.star-quiz-btn','json','toString','text-gray-700','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','.answered','ไม่สามารถบันทึกการตั้งค่าได้','blueprint-shortcut-container','.delete-project-btn','Error\x20listening\x20for\x20student\x20profiles:','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','ผู้ไม่ยอมแพ้','checkbox','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการติดดาว','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','จับคู่เพื่อเปรียบเทียบผล','.answeredCurrentQuestion','.question-editor-item','1371483kSyAGk','blueprint-upload-input','fas\x20fa-user-edit','\x22\x20จำนวน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกโปรเจค','\x22\x20data-topic=\x22','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','image/png','color','txt','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','additional-file-shortcuts-modal','project-quizzes-list','fileShortcutTabs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','blockReason','.color-palette-btn','parallel-shortcut_','default-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lesson-plan-content','confirm-team-players-btn','Error\x20during\x20deep\x20delete:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','strength-weakness-analysis-container','เปิด\x20(จับเวลา)','</span></td>','quiz-form','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','exitFullscreen','firstScore','standardTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','key','Leaderboard\x20update\x20transaction\x20failed:\x20','พื้นที่สี่เหลี่ยม','Error\x20deleting\x20shortcut:','confirm-rename-quiz-btn','ค่าความจริง/ตารางค่าความจริง','export-tutor-pdf-btn','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','reveal-answer-btn','COMEBACK_KING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','findIndex','พบ\x20Team\x20Quiz!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','results-tab-content','execCommand','tfrac','per-question-text','num-questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','options','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตัวเลือก)','</span><span\x20class=\x22font-bold\x22>','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','.move-file-shortcut-menu-btn','application','geq','การแจกแจงทวินาม\x20(พื้นฐาน)','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','close-game-final-btn','#open-additional-parallel-shortcuts-btn','.topic-selection-btn','ย้าย','generate-from-blueprint-btn','admin-view',':</span><span>','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','sync-manage-players-btn','currentMode','</div>','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','thead\x20.sortable-header','preTestId','bulk-quiz-settings-modal','confidence-scoring-checkbox','has','list','additional-parallel-shortcuts-list','.live-answer-btn,\x20#sync-submit-btn','.tab-name-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','disabled\x20bg-gray-400\x20cursor-not-allowed','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','scrollIntoView','มุมและการวัดมุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','contains','onchange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','setAttributeNS','matching_item','quiz-generation-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-dashboard-view','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','practiceProblems','text-green-800','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','comeback_king','1:274192258111:web:4120c9118229b5644dd48a','canvas','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perQuestionStats','save-game-results-checkbox','shortcutId','กรุณาใส่ชื่อโปรเจค','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','bg-red-500\x20text-white\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','\x20mr-2\x22></i>','\x22\x20name=\x22question_single\x22\x20value=\x22','/public/data/blueprintProjects/','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','generationConfig','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','live-game-view','หน่วยเวลาและการคำนวณเวลา','\x20แบบทดสอบลงในคลังสำเร็จ!','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','project-sort-select','Error\x20updating\x20quiz\x20settings:','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','file-topics-list','pointerdown','text-gray-100','กำลังค้นหากิจกรรม...','(ก่อนเรียน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','upper_group_count','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','file-shortcut_','max','OBJECT','กรุณาเลือกคำตอบ','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','เกิดข้อผิดพลาดในการอ่านไฟล์','แบบทดสอบที่ติดดาว','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','shadowBlur','topics','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22radio\x22]:checked','name_desc','cancel-quiz-bank-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','set','check-answer-btn','<p\x20class=\x22text-2xl\x22>','.group\x5c/dropdown-parallel','per_question','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','หน่วยมวล/น้ำหนักและการแปลง','display','ค่าคลาดเคลื่อนของการวัด','.edit-file-shortcut-btn','.bp-create-topic-quiz-btn','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','รูปสี่เหลี่ยมและสมบัติ'];_0x1215=function(){return _0x3c0bbb;};return _0x1215();}function displayResultsWithAnswers(_0x2ade1a,_0x4d3e10,_0x4bf19a,_0x13ff51,_0x54ec76,_0x22d077=![]){const _0x8807fd=_0x44691e,_0x491758=_0x54ec76>0x0?_0x2ade1a/_0x54ec76*0x64:0x0,_0x53f217=currentDisplayedQuiz['settings']?.[_0x8807fd(0x1bd)]??-0x1,_0x40f034=currentDisplayedQuiz[_0x8807fd(0x2f3)]===!![];let _0x1ff801='';if(_0x40f034||_0x53f217!==-0x1){let _0x4ab2f1=_0x40f034?_0x2ade1a===_0x54ec76:_0x2ade1a>=_0x53f217;const _0x4930b6=_0x4ab2f1?'bg-green-100\x20text-green-800':_0x8807fd(0x81c),_0x5328b9=_0x4ab2f1?_0x8807fd(0x6d2):'ไม่ผ่าน';_0x1ff801='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x4930b6+'\x22>'+_0x5328b9+'</p>';}let _0x5edcf5=_0x8807fd(0xbd0)+currentStudentName+_0x8807fd(0x4ca)+_0x2ade1a+_0x8807fd(0x6e9)+_0x54ec76+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1ff801+_0x8807fd(0xc6b)+_0x4d3e10+_0x8807fd(0xb81)+_0x491758[_0x8807fd(0xc75)](0x0)+_0x8807fd(0x603);currentDisplayedQuiz[_0x8807fd(0x8f1)]['forEach']((_0x6807ab,_0x127358)=>{const _0x5a8e87=_0x8807fd,_0x4f9d6a=_0x13ff51[_0x127358],_0xf88489=_0x4f9d6a['answer'],_0x3dc754=_0x4f9d6a[_0x5a8e87(0x6e6)],_0x12b49a=_0x6807ab[_0x5a8e87(0xb42)]||currentDisplayedQuiz[_0x5a8e87(0x196)];_0x5edcf5+=_0x5a8e87(0xcd2)+(_0x3dc754?_0x5a8e87(0x2ff):_0x5a8e87(0x3b8))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x127358+0x1)+'.\x20'+(_0x6807ab[_0x5a8e87(0x388)]||_0x6807ab[_0x5a8e87(0x83f)])+_0x5a8e87(0x456);switch(_0x12b49a){case'matching_item':const _0x2b66b7=_0xf88489||_0x5a8e87(0x563),_0x2c6163=_0x6807ab['correctResponse'];_0x5edcf5+=_0x5a8e87(0x795)+(!_0x3dc754?_0x5a8e87(0x21e):'')+'\x22>'+_0x2b66b7+_0x5a8e87(0x1c9);!_0x3dc754&&(_0x5edcf5+=_0x5a8e87(0xb38)+_0x2c6163+_0x5a8e87(0xb34));break;case'short_answer':_0x5edcf5+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0xf88489||'ไม่ได้ตอบ')+_0x5a8e87(0xb34),_0x5edcf5+=_0x5a8e87(0x57b)+_0x6807ab['idealAnswer']+_0x5a8e87(0xb34);break;case _0x5a8e87(0x9c3):_0x5edcf5+=_0x5a8e87(0x488)+(_0x6807ab[_0x5a8e87(0x492)]===!![]?_0x5a8e87(0x274):'')+'\x20'+(_0xf88489===_0x5a8e87(0x97e)&&!_0x3dc754?'line-through\x20text-red-700':'')+_0x5a8e87(0x876),_0x5edcf5+=_0x5a8e87(0x488)+(_0x6807ab['correctAnswer']===![]?_0x5a8e87(0x274):'')+'\x20'+(_0xf88489===_0x5a8e87(0x21b)&&!_0x3dc754?_0x5a8e87(0x21e):'')+'\x22>ไม่ใช่</p>';break;default:_0x5edcf5+=_0x6807ab[_0x5a8e87(0xbd7)][_0x5a8e87(0x39a)]((_0x11d53c,_0x239767)=>{const _0x27a838=_0x5a8e87;let _0x3c8860='',_0x34b4c0='';if(_0x239767===_0x6807ab[_0x27a838(0x576)])_0x3c8860=_0x27a838(0x274),_0x34b4c0=_0x27a838(0x7d4);else _0x239767===_0xf88489&&(_0x3c8860=_0x27a838(0x78d),_0x34b4c0=_0x27a838(0xbbe));return _0x27a838(0x5a1)+_0x3c8860+'\x22>'+_0x34b4c0+_0x11d53c+_0x27a838(0xbeb);})[_0x5a8e87(0xad6)]('');break;}_0x5edcf5+=_0x5a8e87(0x2c4)+(_0x6807ab['explanation']||_0x5a8e87(0x6bb))+_0x5a8e87(0xbeb);if(!_0x3dc754){const _0x181a8e=_0x6807ab[_0x5a8e87(0x388)]||_0x6807ab[_0x5a8e87(0x83f)];_0x5edcf5+=_0x5a8e87(0x2c9)+escape(_0x181a8e)+_0x5a8e87(0x6d5);}_0x5edcf5+='</div>';}),studentResultArea['innerHTML']=_0x5edcf5,renderEarnedBadges(_0x4bf19a,_0x8807fd(0xca7)),studentResultArea['classList'][_0x8807fd(0x392)](_0x8807fd(0xb2f)),studentQuizArea[_0x8807fd(0x534)][_0x8807fd(0x174)]('hidden'),setupResultScreenBackButton({'isLooping':_0x22d077,'score':_0x2ade1a,'totalQuestions':_0x54ec76,'showRankings':!![]});if(window[_0x8807fd(0x2b2)])window[_0x8807fd(0x2b2)][_0x8807fd(0xca5)]([studentResultArea]);}function displayResultsScoreOnly(_0x244237,_0x1bc67c,_0x58b3df,_0x264f74){const _0x48ad01=_0x44691e,_0x5bd523=_0x264f74>0x0?_0x244237/_0x264f74*0x64:0x0,_0xb1894c=currentDisplayedQuiz[_0x48ad01(0x73a)]?.['passingScore']??-0x1,_0x2356ea=currentDisplayedQuiz['isRemedial']===!![];let _0xe76459='';if(_0x2356ea||_0xb1894c!==-0x1){let _0x53c5b1=_0x2356ea?_0x244237===_0x264f74:_0x244237>=_0xb1894c;const _0x35930f=_0x53c5b1?_0x48ad01(0x93d):'bg-red-100\x20text-red-800',_0x43b65f=_0x53c5b1?'ผ่าน':_0x48ad01(0x27e);_0xe76459='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x35930f+'\x22>'+_0x43b65f+_0x48ad01(0xb34);}let _0x43391e=_0x48ad01(0x80d)+currentStudentName+_0x48ad01(0x279)+_0x244237+_0x48ad01(0x545)+_0x264f74+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xe76459+_0x48ad01(0xc6b)+_0x1bc67c+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x5bd523[_0x48ad01(0xc75)](0x0)+_0x48ad01(0xc31);studentResultArea[_0x48ad01(0x64a)]=_0x43391e,renderEarnedBadges(_0x58b3df,_0x48ad01(0xca7)),studentResultArea['classList'][_0x48ad01(0x392)]('hidden'),studentQuizArea[_0x48ad01(0x534)]['add'](_0x48ad01(0xb2f)),setupResultScreenBackButton({'score':_0x244237,'totalQuestions':_0x264f74,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0xff5dc0=_0x44691e;let _0x4d70c0=_0xff5dc0(0x785)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0xff5dc0(0x64a)]=_0x4d70c0,studentResultArea['classList'][_0xff5dc0(0x392)](_0xff5dc0(0xb2f)),studentQuizArea[_0xff5dc0(0x534)][_0xff5dc0(0x174)](_0xff5dc0(0xb2f)),document['getElementById'](_0xff5dc0(0x896))['addEventListener']('click',()=>{const _0x3b1888=_0xff5dc0;showView(_0x3b1888(0xb07)),document[_0x3b1888(0xcac)](_0x3b1888(0x200))['value']='';});}function renderEarnedBadges(_0x1fc759,_0x44d618){const _0x21a05f=_0x44691e,_0x5ebaa5=document['getElementById'](_0x44d618);if(!_0x5ebaa5||!_0x1fc759||_0x1fc759['length']===0x0)return;let _0x2605b3='';_0x1fc759[_0x21a05f(0xc74)]((_0x81a752,_0x46d911)=>{const _0x34b177=_0x21a05f,_0x463b86=Object[_0x34b177(0x5a9)](BADGES)[_0x34b177(0xb3a)](_0x42d101=>_0x42d101['id']===_0x81a752);_0x463b86&&(_0x2605b3+=_0x34b177(0x8fd)+_0x46d911*0.2+_0x34b177(0x5d6)+_0x463b86[_0x34b177(0xa7f)]+_0x34b177(0x1d5)+_0x463b86[_0x34b177(0x888)]+_0x34b177(0xcc0)+_0x463b86[_0x34b177(0x8c8)]+_0x34b177(0x9e6));}),_0x5ebaa5[_0x21a05f(0x64a)]=_0x2605b3;}function startPresentation(_0x559b20){const _0xff5e42=_0x44691e;currentQuizData=getShuffledQuiz(_0x559b20),currentPresentationSlide=0x0,presentationModal['style'][_0xff5e42(0xc4c)]=_0xff5e42(0x50d),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x49f32f=_0x44691e;document['fullscreenElement']&&document[_0x49f32f(0xbbf)](),presentationModal[_0x49f32f(0xad3)][_0x49f32f(0xc4c)]=_0x49f32f(0xb7d);}function renderPresentationSlide(_0x27353b){const _0x523df2=_0x44691e,_0x673640=document[_0x523df2(0xcac)](_0x523df2(0x7bb));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData[_0x523df2(0x8f1)][_0x27353b]){_0x673640[_0x523df2(0x64a)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x3e3804=currentQuizData['questions'][_0x27353b],_0x4da880=_0x3e3804['questionType']||currentQuizData[_0x523df2(0x196)];_0x673640[_0x523df2(0x64a)]='';let _0x527ab0=_0x523df2(0x3f1)+(_0x3e3804[_0x523df2(0x65a)]?_0x523df2(0x86c)+_0x3e3804[_0x523df2(0x65a)]+_0x523df2(0xbeb):'')+_0x523df2(0x898)+(_0x27353b+0x1)+'.\x20'+(_0x3e3804[_0x523df2(0x388)]||_0x3e3804[_0x523df2(0x83f)])+_0x523df2(0x754);switch(_0x4da880){case _0x523df2(0xc00):_0x527ab0+=_0x3e3804[_0x523df2(0xa33)][_0x523df2(0x39a)](_0x248259=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x248259+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x523df2(0xad6)]('');break;case _0x523df2(0x9c3):_0x527ab0+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x527ab0+=_0x523df2(0x969);break;case _0x523df2(0x1ec):case'short_answer':_0x527ab0+=_0x523df2(0x684);break;case _0x523df2(0x53a):case _0x523df2(0xb47):default:_0x527ab0+=_0x3e3804['options']['map']((_0x3d08d8,_0x1db1af)=>_0x523df2(0x199)+_0x1db1af+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d08d8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x523df2(0xad6)]('');break;}_0x527ab0+=_0x523df2(0x7d5)+(_0x3e3804[_0x523df2(0xb63)]||'ไม่มีคำอธิบาย')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x673640[_0x523df2(0x64a)]=_0x527ab0;if(window[_0x523df2(0x2b2)])window[_0x523df2(0x2b2)][_0x523df2(0xca5)]([_0x673640]);let _0x3e5051=[];switch(_0x4da880){case'matching_item':_0x3e5051=_0x3e3804[_0x523df2(0xa33)]||[];break;case'true_false':_0x3e5051=[_0x523df2(0x51c),_0x523df2(0x61e)];break;default:_0x3e5051=_0x3e3804['options']||[];break;}const _0x522eb2=document[_0x523df2(0xcac)](_0x523df2(0xc8f));_0x522eb2&&(_0x522eb2[_0x523df2(0x800)]=()=>{openScratchpad(_0x3e3804,_0x3e5051);});document[_0x523df2(0x32a)](_0x523df2(0x48a))['forEach'](_0x58987d=>{const _0x5374ca=_0x523df2;_0x58987d[_0x5374ca(0x36e)](_0x5374ca(0x486),_0x13af8d=>revealAnswerForPresentation(_0x27353b,_0x13af8d[_0x5374ca(0x164)]));});const _0x470773=document['getElementById'](_0x523df2(0x82a));_0x470773&&_0x470773['addEventListener'](_0x523df2(0x486),()=>checkShortAnswerForPresentation(_0x27353b)),document[_0x523df2(0xcac)]('slide-counter')['textContent']=_0x523df2(0x5b7)+(_0x27353b+0x1)+_0x523df2(0x868)+currentQuizData[_0x523df2(0x8f1)][_0x523df2(0x8b4)],document[_0x523df2(0xcac)](_0x523df2(0x6d1))[_0x523df2(0x585)]=_0x27353b===0x0,document['getElementById'](_0x523df2(0xabc))[_0x523df2(0x585)]=_0x27353b===currentQuizData[_0x523df2(0x8f1)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x44ccbd){const _0x11c30c=_0x44691e,_0x9d00a3=currentQuizData['questions'][_0x44ccbd],_0x577a70=document['getElementById'](_0x11c30c(0x43e)),_0x22964d=document['getElementById'](_0x11c30c(0x82a)),_0xe9bbd9=document[_0x11c30c(0xcac)]('presentation-ai-result'),_0x2cb976=document['getElementById'](_0x11c30c(0x32c));if(!_0x577a70||!_0x22964d||!_0xe9bbd9||!_0x2cb976)return;const _0x50632b=_0x577a70[_0x11c30c(0x1a0)][_0x11c30c(0x5a4)]();if(_0x50632b==='')return;_0x22964d[_0x11c30c(0x585)]=!![],_0x22964d[_0x11c30c(0x64a)]=_0x11c30c(0x1b9),_0x577a70[_0x11c30c(0x585)]=!![];const _0x44fc17=await gradeShortAnswer(_0x50632b,_0x9d00a3);_0x44fc17?_0xe9bbd9['innerHTML']=_0x11c30c(0x881):_0xe9bbd9[_0x11c30c(0x64a)]=_0x11c30c(0xa2e)+_0x9d00a3['idealAnswer']+')',_0xe9bbd9[_0x11c30c(0x534)]['remove'](_0x11c30c(0xb2f)),_0x2cb976[_0x11c30c(0x534)][_0x11c30c(0x392)](_0x11c30c(0xb2f)),_0x22964d[_0x11c30c(0x534)]['add'](_0x11c30c(0xb2f));}function revealAnswerForPresentation(_0xa43890,_0x19557f){const _0x4eb0c9=_0x44691e,_0x33e92a=currentQuizData[_0x4eb0c9(0x8f1)][_0xa43890],_0x2df733=_0x33e92a[_0x4eb0c9(0xb42)]||currentQuizData['quizType'];document[_0x4eb0c9(0x32a)](_0x4eb0c9(0x48a))[_0x4eb0c9(0xc74)](_0x5c3d4f=>{const _0x1090b3=_0x4eb0c9;_0x5c3d4f['disabled']=!![],_0x5c3d4f[_0x1090b3(0x534)]['remove'](_0x1090b3(0x7db));let _0x3bb905=![];if(_0x2df733===_0x1090b3(0xb47)||_0x2df733===_0x1090b3(0x53a)){const _0x28a07b=parseInt(_0x5c3d4f['dataset'][_0x1090b3(0x166)]);_0x3bb905=_0x28a07b===_0x33e92a[_0x1090b3(0x576)];}else{if(_0x2df733==='true_false'){const _0x253522=_0x5c3d4f[_0x1090b3(0x5fd)]['answer']===_0x1090b3(0x97e);_0x3bb905=_0x253522===_0x33e92a[_0x1090b3(0x492)];}else _0x2df733===_0x1090b3(0xc00)&&(_0x3bb905=_0x5c3d4f[_0x1090b3(0x20a)]['trim']()===_0x33e92a['correctResponse']);}_0x3bb905?_0x5c3d4f[_0x1090b3(0x534)][_0x1090b3(0x174)](_0x1090b3(0x837),_0x1090b3(0x2be),_0x1090b3(0x4e1)):_0x5c3d4f['classList']['add']('opacity-50');}),_0x19557f['classList']['remove']('opacity-50');let _0x35e601=![];if(_0x2df733===_0x4eb0c9(0xb47))_0x35e601=parseInt(_0x19557f[_0x4eb0c9(0x5fd)][_0x4eb0c9(0x166)])===_0x33e92a[_0x4eb0c9(0x576)];else{if(_0x2df733===_0x4eb0c9(0x9c3))_0x35e601=_0x19557f[_0x4eb0c9(0x5fd)]['answer']==='true'===_0x33e92a[_0x4eb0c9(0x492)];else _0x2df733==='matching_item'&&(_0x35e601=_0x19557f['textContent'][_0x4eb0c9(0x5a4)]()===_0x33e92a['correctResponse']);}!_0x35e601&&_0x19557f[_0x4eb0c9(0x534)][_0x4eb0c9(0x174)](_0x4eb0c9(0xb78),_0x4eb0c9(0x2be),'border-red-700'),document[_0x4eb0c9(0xcac)](_0x4eb0c9(0x32c))[_0x4eb0c9(0x534)]['remove']('hidden');}function startWholeQuizTimer(_0x584218){const _0x1b39c0=_0x44691e,_0x583b71=document[_0x1b39c0(0xcac)](_0x1b39c0(0x489));if(!_0x583b71)return;const _0x2ef842=Date[_0x1b39c0(0xc85)]()+_0x584218*0x3c*0x3e8;_0x583b71[_0x1b39c0(0x64a)]=_0x1b39c0(0x842);const _0x2d2b7c=document[_0x1b39c0(0xcac)](_0x1b39c0(0x58c));quizTimerInterval=setInterval(()=>{const _0x5cca19=_0x1b39c0,_0x5401fe=_0x2ef842-Date[_0x5cca19(0xc85)]();if(_0x5401fe<=0x0)clearInterval(quizTimerInterval),_0x2d2b7c[_0x5cca19(0x20a)]='00:00',showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x3c77e8=Math[_0x5cca19(0x3fd)](_0x5401fe/0x3e8/0x3c%0x3c)[_0x5cca19(0xb8f)]()[_0x5cca19(0x578)](0x2,'0'),_0x24360c=Math[_0x5cca19(0x3fd)](_0x5401fe/0x3e8%0x3c)[_0x5cca19(0xb8f)]()['padStart'](0x2,'0');_0x2d2b7c[_0x5cca19(0x20a)]=_0x3c77e8+':'+_0x24360c;}},0x3e8);}function renderPerQuestionView(){const _0x26a4ec=_0x44691e;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x39c7a6=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x32f461=_0x39c7a6[_0x26a4ec(0xb42)]||currentDisplayedQuiz[_0x26a4ec(0x196)],_0xe871ea=currentDisplayedQuiz[_0x26a4ec(0x73a)]?.[_0x26a4ec(0x865)]===!![];let _0x39512f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x26a4ec(0x60f)+currentDisplayedQuiz[_0x26a4ec(0x8f1)][_0x26a4ec(0x8b4)]+_0x26a4ec(0x71c)+(currentMode===_0x26a4ec(0x87b)?_0x26a4ec(0x593):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x26a4ec(0x180)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0x26a4ec(0x64a)]=_0x39512f;let _0x1a7c3b=_0x39c7a6[_0x26a4ec(0x388)]||_0x39c7a6[_0x26a4ec(0x83f)];_0x39c7a6[_0x26a4ec(0x65a)]&&(_0x1a7c3b+=_0x26a4ec(0x86c)+_0x39c7a6[_0x26a4ec(0x65a)]+_0x26a4ec(0xbeb));let _0x1e02b4='';switch(_0x32f461){case'short_answer':case _0x26a4ec(0x1ec):_0x1e02b4=_0x26a4ec(0x51f);break;case _0x26a4ec(0x9c3):_0x1e02b4=_0x26a4ec(0xa3b);break;case _0x26a4ec(0xc00):_0x1e02b4=_0x26a4ec(0x8a7)+(_0x39c7a6[_0x26a4ec(0xa33)]||[])[_0x26a4ec(0x39a)](_0x126f5d=>_0x26a4ec(0x458)+_0x126f5d+'\x22>'+_0x126f5d+'</option>')['join']('')+_0x26a4ec(0x214);break;default:_0x39c7a6['options']&&(_0x1e02b4=_0x39c7a6[_0x26a4ec(0xbd7)][_0x26a4ec(0x39a)]((_0x15475d,_0x3fe5af)=>_0x26a4ec(0x63d)+_0x3fe5af+_0x26a4ec(0xc17)+_0x3fe5af+_0x26a4ec(0x347)+_0x3fe5af+'\x22>'+_0x15475d+_0x26a4ec(0xc97))[_0x26a4ec(0xad6)](''));break;}document[_0x26a4ec(0xcac)](_0x26a4ec(0xbd4))[_0x26a4ec(0x64a)]=_0x1a7c3b,document[_0x26a4ec(0xcac)](_0x26a4ec(0x455))[_0x26a4ec(0x64a)]=_0x1e02b4;const _0x46a2b7=currentDisplayedQuiz[_0x26a4ec(0x73a)]?.[_0x26a4ec(0x865)]===!![],_0x36cc22=currentDisplayedQuiz['settings']?.[_0x26a4ec(0xac0)]||_0x26a4ec(0xb99);if(_0x46a2b7&&_0x36cc22===_0x26a4ec(0xb99)){const _0x2c3cda=_0x26a4ec(0x88d);studentQuizArea[_0x26a4ec(0x909)](_0x26a4ec(0x9d9))[_0x26a4ec(0xa2a)](_0x26a4ec(0x3d5),_0x2c3cda);}studentQuizArea[_0x26a4ec(0xa2a)]('beforeend',_0x26a4ec(0x37a)+(currentQuestionIndex===currentDisplayedQuiz[_0x26a4ec(0x8f1)][_0x26a4ec(0x8b4)]-0x1?_0x26a4ec(0x85e):'คำถามถัดไป')+_0x26a4ec(0x9c1));currentMode===_0x26a4ec(0x87b)&&document[_0x26a4ec(0xcac)]('cancel-test-btn')?.['addEventListener']('click',cancelAdminTest);document[_0x26a4ec(0xcac)](_0x26a4ec(0x424))[_0x26a4ec(0x36e)]('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x26a4ec(0x2b2)])window[_0x26a4ec(0x2b2)][_0x26a4ec(0xca5)]([studentQuizArea]);currentDisplayedQuiz[_0x26a4ec(0x73a)]?.[_0x26a4ec(0x700)]===_0x26a4ec(0xc48)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x254b68=_0x44691e,_0x34fd4b=currentDisplayedQuiz[_0x254b68(0x73a)]['timerDuration'],_0x3fb176=document[_0x254b68(0xcac)](_0x254b68(0x91e));if(!_0x3fb176)return;let _0x33a728=_0x34fd4b;_0x3fb176[_0x254b68(0x64a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x33a728+_0x254b68(0x843);const _0x11c6be=document[_0x254b68(0xcac)](_0x254b68(0x952)),_0x495e89=document['getElementById']('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x2b0c75=_0x254b68;_0x33a728--;const _0x357d30=_0x33a728/_0x34fd4b*0x64;_0x11c6be['style'][_0x2b0c75(0x931)]=_0x357d30+'%',_0x495e89[_0x2b0c75(0x20a)]=_0x33a728,_0x33a728<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x21c51e=![]){const _0x254837=_0x44691e;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x120411=null,_0x311e33=![];if(!_0x21c51e){const _0x4cfb0a=currentDisplayedQuiz[_0x254837(0x8f1)][currentQuestionIndex],_0x381c82=_0x4cfb0a[_0x254837(0xb42)]||currentDisplayedQuiz[_0x254837(0x196)];if(_0x381c82===_0x254837(0x982)||_0x381c82===_0x254837(0x1ec))_0x120411=document['querySelector'](_0x254837(0xa28))?.[_0x254837(0x1a0)]['trim']()??'';else{if(_0x381c82==='matching_item')_0x120411=document['querySelector'](_0x254837(0x818))?.[_0x254837(0x1a0)]??'';else{const _0x328e7d=document[_0x254837(0x909)]('input[name=\x22question_single\x22]:checked');_0x328e7d&&(_0x120411=_0x328e7d[_0x254837(0x1a0)]);}}if(_0x120411===null||_0x120411===''){showMessage(_0x254837(0xab4)),startPerQuestionTimer();return;}const _0x4fdf22=currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']===!![],_0x4ede7e=currentDisplayedQuiz[_0x254837(0x73a)]?.[_0x254837(0xac0)]||_0x254837(0xb99);if(_0x4fdf22&&_0x4ede7e===_0x254837(0x7f1)){document[_0x254837(0xcac)](_0x254837(0x8b9))['dataset'][_0x254837(0xbea)]=_0x254837(0x300),document[_0x254837(0xcac)](_0x254837(0x3f5))[_0x254837(0x1a0)]=_0x120411,document[_0x254837(0xcac)](_0x254837(0x8b9))[_0x254837(0x534)]['remove'](_0x254837(0xb2f));return;}const _0xaf28f4=document['getElementById']('confidence_single');_0xaf28f4&&(_0x311e33=_0xaf28f4[_0x254837(0x553)]);}const _0x2b4245={'answer':_0x120411,'wasConfident':_0x311e33};proceedToNextQuestion(_0x2b4245);}async function finalizePerQuestionQuiz(){const _0x1b65ea=_0x44691e,_0x35909d=currentDisplayedQuiz[_0x1b65ea(0x8f1)][_0x1b65ea(0x1a9)](_0x2879f2=>_0x2879f2[_0x1b65ea(0xb42)]===_0x1b65ea(0x982));_0x35909d?showMessage(_0x1b65ea(0x178)):showMessage(_0x1b65ea(0x5ab));const _0x384c76=currentQuizData['id'],_0x4b3cbb=doc(db,_0x1b65ea(0x1c4)+appId+_0x1b65ea(0x7c5)+_0x384c76+_0x1b65ea(0x8c6),currentStudentName),_0x54b0c6=await getDoc(_0x4b3cbb),_0x47b450=_0x54b0c6['exists']()?_0x54b0c6[_0x1b65ea(0x2a7)]():{},_0x25a6bc=_0x47b450['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x25a6bc);}function getResultsFilename(){const _0x15ee79=_0x44691e,_0x7e73ae=document[_0x15ee79(0xcac)](_0x15ee79(0xcc1))['textContent'][_0x15ee79(0x7ea)](/[^a-z0-9]/gi,'_')[_0x15ee79(0x3e6)]();return _0x15ee79(0x1b6)+(_0x7e73ae||_0x15ee79(0x91b));}function exportResultsAsImage(){const _0x1b1735=_0x44691e,_0x2bc68f=document['getElementById'](_0x1b1735(0x62e));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x2bc68f)[_0x1b1735(0x936)](_0x228fbe=>{const _0x36df87=_0x1b1735,_0x38a869=document['createElement']('a');_0x38a869['download']=getResultsFilename()+_0x36df87(0x610),_0x38a869[_0x36df87(0xa93)]=_0x228fbe[_0x36df87(0x275)](_0x36df87(0xba9)),_0x38a869['click'](),messageModal[_0x36df87(0x534)][_0x36df87(0x174)](_0x36df87(0xb2f));});}function exportResultsAsPDF(){const _0x16308c=_0x44691e,{jsPDF:_0x4bd3c7}=window[_0x16308c(0x9d7)],_0x39ee02=new _0x4bd3c7();_0x39ee02[_0x16308c(0xb69)](_0x16308c(0x426),_0x16308c(0xb7f)),_0x39ee02[_0x16308c(0x4be)]({'html':_0x16308c(0xb89)}),_0x39ee02['save'](getResultsFilename()+_0x16308c(0xa9a));}function exportResultsAsWord(){const _0x18588a=_0x44691e,_0x6c41c5=_0x18588a(0x252)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x18588a(0x3ee)+_0x18588a(0x6f1),_0x34f6f4=_0x18588a(0x4e2),_0x4eaa98=_0x6c41c5+document['getElementById']('results-table-container')['innerHTML']+_0x34f6f4,_0x433206=_0x18588a(0x46c)+encodeURIComponent(_0x4eaa98),_0x216771=document[_0x18588a(0x5c5)]('a');document[_0x18588a(0xa2f)][_0x18588a(0x740)](_0x216771),_0x216771[_0x18588a(0xa93)]=_0x433206,_0x216771[_0x18588a(0x19a)]=getResultsFilename()+_0x18588a(0xab0),_0x216771[_0x18588a(0x486)](),document[_0x18588a(0xa2f)][_0x18588a(0x6b3)](_0x216771);}function exportResultsAsExcel(){const _0x390fbc=_0x44691e,_0x165a65=document[_0x390fbc(0xcac)](_0x390fbc(0x9ec));let _0x4f6f6f=[];for(let _0x4c659c=0x0;_0x4c659c<_0x165a65['rows']['length'];_0x4c659c++){let _0xfbad93=[],_0x136834=_0x165a65[_0x390fbc(0x9a5)][_0x4c659c][_0x390fbc(0x32a)](_0x390fbc(0x7aa));for(let _0xb2c4ab=0x0;_0xb2c4ab<_0x136834[_0x390fbc(0x8b4)];_0xb2c4ab++){_0xfbad93[_0x390fbc(0xa12)]('\x22'+_0x136834[_0xb2c4ab]['innerText'][_0x390fbc(0x7ea)](/"/g,'\x22\x22')+'\x22');}_0x4f6f6f[_0x390fbc(0xa12)](_0xfbad93[_0x390fbc(0xad6)](','));}const _0x20afb6=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x4f6f6f[_0x390fbc(0xad6)]('\x0a')],{'type':_0x390fbc(0x892)}),_0x231a58=document[_0x390fbc(0x5c5)]('a');_0x231a58['href']=URL['createObjectURL'](_0x20afb6),_0x231a58['download']=getResultsFilename()+'.csv',_0x231a58[_0x390fbc(0x486)]();}function exportTableAsImage(_0x1243a3,_0x28f7ae){const _0x338888=_0x44691e,_0x44d6ca=document['getElementById'](_0x1243a3);if(!_0x44d6ca){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x44d6ca)[_0x338888(0x936)](_0x4ad9cb=>{const _0x370f4a=_0x338888,_0x401890=document['createElement']('a');_0x401890[_0x370f4a(0x19a)]=_0x28f7ae+_0x370f4a(0x610),_0x401890['href']=_0x4ad9cb[_0x370f4a(0x275)](_0x370f4a(0xba9)),_0x401890[_0x370f4a(0x486)](),messageModal[_0x370f4a(0x534)][_0x370f4a(0x174)]('hidden');});}function exportTableAsPDF(_0x27b7b5,_0xaed067){const _0x1ad0a5=_0x44691e,{jsPDF:_0x2da549}=window['jspdf'],_0x5e3880=new _0x2da549();_0x5e3880['setFont'](_0x1ad0a5(0x426),_0x1ad0a5(0xb7f)),_0x5e3880[_0x1ad0a5(0x4be)]({'html':'#'+_0x27b7b5}),_0x5e3880[_0x1ad0a5(0x8f0)](_0xaed067+'.pdf');}function exportTableAsWord(_0x3e7af7,_0xb89aad){const _0x4e21be=_0x44691e,_0x3cf214=document[_0x4e21be(0xcac)](_0x3e7af7);if(!_0x3cf214){showMessage(_0x4e21be(0xadf));return;}const _0x3575a6=_0x4e21be(0x252)+_0x4e21be(0xbec)+_0x4e21be(0x3ee)+_0x4e21be(0x6f1),_0x31309a=_0x4e21be(0x4e2),_0x464102=_0x3575a6+_0x3cf214[_0x4e21be(0x64a)]+_0x31309a,_0x55e33b=_0x4e21be(0x46c)+encodeURIComponent(_0x464102),_0x2073e0=document['createElement']('a');document[_0x4e21be(0xa2f)][_0x4e21be(0x740)](_0x2073e0),_0x2073e0[_0x4e21be(0xa93)]=_0x55e33b,_0x2073e0[_0x4e21be(0x19a)]=_0xb89aad+_0x4e21be(0xab0),_0x2073e0[_0x4e21be(0x486)](),document[_0x4e21be(0xa2f)][_0x4e21be(0x6b3)](_0x2073e0);}function exportTableAsExcel(_0x4b3615,_0x55e0fe){const _0x5d88a1=_0x44691e,_0xaecc99=document[_0x5d88a1(0xcac)](_0x4b3615);if(!_0xaecc99){showMessage(_0x5d88a1(0xadf));return;}let _0x5182b6=[];for(let _0xb789ec=0x0;_0xb789ec<_0xaecc99[_0x5d88a1(0x9a5)][_0x5d88a1(0x8b4)];_0xb789ec++){let _0x3bc15e=[],_0x1de9a8=_0xaecc99['rows'][_0xb789ec][_0x5d88a1(0x32a)]('td,\x20th');for(let _0x1e54b6=0x0;_0x1e54b6<_0x1de9a8[_0x5d88a1(0x8b4)];_0x1e54b6++){_0x3bc15e[_0x5d88a1(0xa12)]('\x22'+_0x1de9a8[_0x1e54b6][_0x5d88a1(0x49c)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x5182b6[_0x5d88a1(0xa12)](_0x3bc15e[_0x5d88a1(0xad6)](','));}const _0x3a5cd5=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5182b6['join']('\x0a')],{'type':_0x5d88a1(0x892)}),_0x625a8=document['createElement']('a');_0x625a8['href']=URL[_0x5d88a1(0xb2c)](_0x3a5cd5),_0x625a8[_0x5d88a1(0x19a)]=_0x55e0fe+_0x5d88a1(0x27c),_0x625a8[_0x5d88a1(0x486)]();}function renderAnalytics(_0x3c3063,_0x1d3a34){const _0x33bf61=_0x44691e,_0x31585f=_0x1d3a34['filter'](_0x3a0292=>_0x3a0292[_0x33bf61(0x1de)]!==undefined),_0x525a62=currentProjectData[_0x33bf61(0x81b)]['length'],_0x21d7e9=_0x31585f[_0x33bf61(0x8b4)],_0x33d43d=_0x525a62-_0x21d7e9,_0x355ddf=_0x525a62>0x0?_0x21d7e9/_0x525a62*0x64:0x0,_0xfe8e52=_0x31585f[_0x33bf61(0x39a)](_0x2fc3b0=>_0x2fc3b0[_0x33bf61(0x1de)]),_0x1f0eb9=_0xfe8e52[_0x33bf61(0x8b4)]>0x0?_0xfe8e52[_0x33bf61(0xa8a)]((_0x2a0f10,_0x56bd2c)=>_0x2a0f10+_0x56bd2c,0x0)/_0xfe8e52[_0x33bf61(0x8b4)]:0x0,_0x3e7851=_0x3c3063[_0x33bf61(0x8f1)][_0x33bf61(0x8b4)],_0x18853a=_0x3e7851>0x0?_0x1f0eb9/_0x3e7851*0x64:0x0,_0x5e0dd8=calculateItemAnalysis(_0x3c3063,_0x31585f),_0xf6fcce=calculateReliabilityKR20(_0x3c3063,_0x31585f,_0x5e0dd8[_0x33bf61(0xc0e)]);let _0x273766='';if(_0xf6fcce!==null){let _0x18383b='';if(_0xf6fcce>=0.9)_0x18383b=_0x33bf61(0x4f2);else{if(_0xf6fcce>=0.8)_0x18383b=_0x33bf61(0x1fd);else{if(_0xf6fcce>=0.7)_0x18383b='ดี';else{if(_0xf6fcce>=0.6)_0x18383b=_0x33bf61(0x8cd);else _0x18383b=_0x33bf61(0x4cc);}}}_0x273766=_0x33bf61(0x495)+_0xf6fcce[_0x33bf61(0xc75)](0x2)+_0x33bf61(0x8ab)+_0x18383b+_0x33bf61(0xaf8);}const _0xfa9739=document['getElementById'](_0x33bf61(0x340));_0xfa9739[_0x33bf61(0x64a)]=_0x33bf61(0x8dd)+_0x355ddf[_0x33bf61(0xc75)](0x0)+_0x33bf61(0x529)+_0x21d7e9+'/'+_0x525a62+_0x33bf61(0x963)+_0x1f0eb9[_0x33bf61(0xc75)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x18853a[_0x33bf61(0xc75)](0x0)+_0x33bf61(0x430)+(_0xfe8e52[_0x33bf61(0x8b4)]>0x0?Math[_0x33bf61(0xc36)](..._0xfe8e52):_0x33bf61(0x2f7))+_0x33bf61(0x1bb)+(_0xfe8e52['length']>0x0?Math[_0x33bf61(0x5a3)](..._0xfe8e52):_0x33bf61(0x2f7))+_0x33bf61(0x4b2)+_0x273766+'\x0a\x20\x20\x20\x20';const _0x289df2=document[_0x33bf61(0xcac)]('interesting-stats-wrapper');_0x289df2&&_0x289df2[_0x33bf61(0x392)]();const _0x23ec9d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0xfa9739[_0x33bf61(0xa2a)](_0x33bf61(0x470),_0x23ec9d);const _0x2868ca=currentProjectData[_0x33bf61(0x81b)]||[];renderSubmissionChart(_0x21d7e9,_0x33d43d,_0x31585f,_0x2868ca),renderScoreDistributionChart(_0x31585f,_0x3e7851),renderQuestionAnalytics(_0x3c3063,_0x31585f,_0x2868ca),renderInterestingStats(_0x3c3063,_0x31585f);}async function handleExportLessonPDF(){const _0x1923db=_0x44691e,_0x18f34e=document[_0x1923db(0xcac)](_0x1923db(0xbb6)),_0x12933b=document[_0x1923db(0xcac)](_0x1923db(0x4fd))[_0x1923db(0x20a)],_0x1e5463=window[_0x1923db(0xc2c)]('',_0x1923db(0x5e9)),_0x420ad9=_0x1923db(0x8aa)+_0x12933b+_0x1923db(0x5bb)+_0x18f34e[_0x1923db(0x64a)]+_0x1923db(0x9d1);_0x1e5463[_0x1923db(0xab9)][_0x1923db(0xc6c)](_0x420ad9),_0x1e5463[_0x1923db(0xab9)][_0x1923db(0x678)](),_0x1e5463[_0x1923db(0x48f)]=function(){setTimeout(()=>{_0x1e5463['print']();},0x5dc);};}function renderInterestingStats(_0x10ad49,_0x15b97d){const _0x3e9507=_0x44691e,_0x4f91fe=document['getElementById'](_0x3e9507(0xaa1));if(!_0x4f91fe)return;if(_0x15b97d['length']===0x0){_0x4f91fe[_0x3e9507(0x64a)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x204cca=_0x10ad49[_0x3e9507(0x8f1)][_0x3e9507(0x39a)]((_0x484811,_0x23db19)=>({'index':_0x23db19+0x1,'text':_0x484811[_0x3e9507(0x83f)]||_0x484811['stem'],'correct':0x0}));_0x15b97d[_0x3e9507(0xc74)](_0x5cdd03=>{const _0x272956=_0x3e9507,_0x3b38e9=_0x5cdd03['attempts'][_0x5cdd03[_0x272956(0x508)]['length']-0x1];_0x3b38e9&&_0x3b38e9[_0x272956(0x4dd)]&&_0x3b38e9['answers'][_0x272956(0xc74)](_0x5e3ab4=>{const _0x308b86=_0x272956,_0x27762f=_0x204cca[_0x308b86(0xb3a)](_0x59025d=>_0x59025d['text']===_0x5e3ab4[_0x308b86(0x5c9)]);_0x5e3ab4[_0x308b86(0x6e6)]&&_0x27762f&&_0x27762f['correct']++;});});const _0x52ef13=_0x15b97d[_0x3e9507(0x8b4)],_0x57e5d2=Math[_0x3e9507(0xc36)](..._0x204cca[_0x3e9507(0x39a)](_0x4a2e09=>_0x4a2e09['correct'])),_0x41c775=Math[_0x3e9507(0x5a3)](..._0x204cca['map'](_0x48d69a=>_0x48d69a[_0x3e9507(0x862)])),_0x3828b7=_0x204cca['filter'](_0x7b1a1c=>_0x7b1a1c[_0x3e9507(0x862)]===_0x57e5d2)[_0x3e9507(0x39a)](_0x530c24=>_0x3e9507(0x1ca)+_0x530c24[_0x3e9507(0x166)]),_0x1b6bb2=_0x204cca[_0x3e9507(0x686)](_0x6071bc=>_0x6071bc[_0x3e9507(0x862)]===_0x41c775)[_0x3e9507(0x39a)](_0x184d5d=>_0x3e9507(0x1ca)+_0x184d5d[_0x3e9507(0x166)]),_0x41bcf9=_0x15b97d['sort']((_0x4fddeb,_0x347b26)=>_0x347b26['latestScore']-_0x4fddeb[_0x3e9507(0x1de)])[_0x3e9507(0x686)]((_0x378082,_0x5cab60,_0x5aedb0)=>_0x378082[_0x3e9507(0x1de)]===_0x5aedb0[0x0][_0x3e9507(0x1de)]),_0x1c6e0c=_0x15b97d[_0x3e9507(0xa24)]((_0x5d1eeb,_0x3cd470)=>_0x5d1eeb['latestScore']-_0x3cd470['latestScore'])[_0x3e9507(0x686)]((_0x322e06,_0x54e548,_0x2e6e5f)=>_0x322e06['latestScore']===_0x2e6e5f[0x0][_0x3e9507(0x1de)]),_0x215bd6=_0x3e9507(0x561)+_0x3828b7['join'](',\x20')+_0x3e9507(0x3d2)+_0x57e5d2+'\x20/\x20'+_0x52ef13+_0x3e9507(0xa5f)+_0x1b6bb2[_0x3e9507(0xad6)](',\x20')+_0x3e9507(0x3d2)+(_0x52ef13-_0x41c775)+'\x20/\x20'+_0x52ef13+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x41bcf9[_0x3e9507(0x39a)](_0x52681e=>_0x52681e[_0x3e9507(0xb26)])[_0x3e9507(0xad6)](',\x20')+_0x3e9507(0xb40)+_0x41bcf9[0x0][_0x3e9507(0x1de)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x1c6e0c[_0x3e9507(0x39a)](_0x461f03=>_0x461f03[_0x3e9507(0xb26)])[_0x3e9507(0xad6)](',\x20')+_0x3e9507(0xb40)+_0x1c6e0c[0x0]['latestScore']+_0x3e9507(0xa4f);_0x4f91fe[_0x3e9507(0x64a)]=_0x215bd6;}function renderSubmissionChart(_0xd4eefc,_0x21df4e,_0x3b5061,_0x25b20c){const _0x551114=_0x44691e,_0x54d818=document[_0x551114(0xcac)](_0x551114(0x56d))['getContext']('2d'),_0x54f3b8=_0x3b5061['map'](_0x4a7568=>_0x4a7568[_0x551114(0xb26)]),_0x508184=_0x25b20c[_0x551114(0x686)](_0xcbadee=>!_0x54f3b8[_0x551114(0x764)](_0xcbadee));chartInstances[_0x551114(0x4a4)]&&chartInstances[_0x551114(0x4a4)][_0x551114(0x7d2)](),chartInstances[_0x551114(0x4a4)]=new Chart(_0x54d818,{'type':'doughnut','data':{'labels':[_0x551114(0x452),_0x551114(0x5c4)],'datasets':[{'data':[_0xd4eefc,_0x21df4e],'backgroundColor':['#10B981',_0x551114(0x97c)],'borderColor':['#ffffff','#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x194fcd){const _0x30e21f=_0x551114;let _0xa2695c=_0x194fcd[_0x30e21f(0x50c)]||'';return _0xa2695c&&(_0xa2695c+=':\x20'),_0xa2695c+=_0x194fcd[_0x30e21f(0x9a2)],_0xa2695c;},'afterLabel':function(_0x6dcaa9){const _0x600c7e=_0x551114;let _0x51f67f;return _0x6dcaa9[_0x600c7e(0xb1b)]===0x0?_0x51f67f=_0x54f3b8:_0x51f67f=_0x508184,_0x51f67f['length']>0x0?_0x51f67f['join']('\x0a'):_0x600c7e(0x79c);}}}}}});}function renderScoreDistributionChart(_0x510625,_0x6defc8){const _0x1ca119=_0x44691e,_0x3d0f72=document[_0x1ca119(0xcac)]('score-distribution-chart')[_0x1ca119(0x2b6)]('2d'),_0x40d2b6={};for(let _0x18e89d=0x0;_0x18e89d<=_0x6defc8;_0x18e89d++){_0x40d2b6[_0x18e89d]=0x0;}_0x510625[_0x1ca119(0xc74)](_0x7080d2=>{const _0x5bb736=_0x1ca119;_0x40d2b6[_0x7080d2['latestScore']]!==undefined&&_0x40d2b6[_0x7080d2[_0x5bb736(0x1de)]]++;}),chartInstances[_0x1ca119(0x443)]&&chartInstances[_0x1ca119(0x443)][_0x1ca119(0x7d2)](),chartInstances[_0x1ca119(0x443)]=new Chart(_0x3d0f72,{'type':_0x1ca119(0x890),'data':{'labels':Object[_0x1ca119(0x53e)](_0x40d2b6),'datasets':[{'label':_0x1ca119(0xccc),'data':Object['values'](_0x40d2b6),'backgroundColor':_0x1ca119(0x7b1),'borderColor':_0x1ca119(0x475),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x18ac0d){const _0x421dd1=_0x1ca119,_0x540a3a=_0x18ac0d['label'],_0x12f8d8=_0x510625[_0x421dd1(0x686)](_0x5a2258=>_0x5a2258['latestScore']==_0x540a3a)[_0x421dd1(0x39a)](_0x3dd22f=>_0x3dd22f[_0x421dd1(0xb26)]);return _0x12f8d8[_0x421dd1(0x8b4)]>0x0?_0x12f8d8[_0x421dd1(0xad6)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x34eb8c,_0x6362af,_0x42ab90){const _0x513a69=_0x44691e,_0x449907=document[_0x513a69(0xcac)](_0x513a69(0x1d6));if(_0x42ab90[_0x513a69(0x8b4)]===0x0){_0x449907[_0x513a69(0x64a)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x286e54=calculateItemAnalysis(_0x34eb8c,_0x6362af),_0x5ba821=calculateDistractorAnalysis(_0x34eb8c,_0x6362af);let _0x400adb='';_0x286e54[_0x513a69(0xaba)]&&(_0x400adb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x286e54[_0x513a69(0xaba)][_0x513a69(0x5ad)][_0x513a69(0x8b4)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x286e54[_0x513a69(0xaba)]['upperGroupNames']['map'](_0x35e85c=>_0x513a69(0xb66)+_0x35e85c+'</li>')[_0x513a69(0xad6)]('')+_0x513a69(0x63f)+_0x286e54[_0x513a69(0xaba)]['lowerGroupNames'][_0x513a69(0x8b4)]+_0x513a69(0xc2b)+_0x286e54['overallGroups'][_0x513a69(0x9c8)][_0x513a69(0x39a)](_0x29f23d=>_0x513a69(0xb66)+_0x29f23d+_0x513a69(0x62a))[_0x513a69(0xad6)]('')+_0x513a69(0x637));let _0x1bd8e2='';const _0x234b1e=_0x6362af[_0x513a69(0x39a)](_0x2027da=>_0x2027da[_0x513a69(0xb26)]),_0x43dcec=_0x446295=>{const _0x15b0d4=_0x513a69;if(_0x446295>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x446295>=0.6)return _0x15b0d4(0x787);if(_0x446295>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x446295>=0.2)return _0x15b0d4(0x510);return _0x15b0d4(0x2cf);},_0x3ec87f=_0x5b0ad5=>{const _0x2db08b=_0x513a69;if(_0x5b0ad5<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x5b0ad5>=0.4)return _0x2db08b(0x808);if(_0x5b0ad5>=0.3)return _0x2db08b(0x1e5);if(_0x5b0ad5>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0x2db08b(0xa27);},_0x4d80d3=_0x3bb1ca=>{const _0xa1ab42=_0x513a69,_0x499d33=_0x3bb1ca[_0xa1ab42(0xc75)](0x0);if(parseFloat(_0x499d33)===0x64)return _0xa1ab42(0xba8)+_0x499d33+'%</span>';if(_0x3bb1ca>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x499d33+_0xa1ab42(0x72b);return _0xa1ab42(0xc50)+_0x499d33+'%</span>';};_0x34eb8c[_0x513a69(0x8f1)]['forEach']((_0x115709,_0x4bcdc5)=>{const _0x479930=_0x513a69,_0x2eec05=_0x286e54[_0x479930(0xc0e)][_0x4bcdc5],_0x28e60b=_0x5ba821[_0x4bcdc5],_0x2ebfd4=_0x115709[_0x479930(0x388)]||_0x115709['questionText']||_0x115709[_0x479930(0x23f)];let _0x4937de=0x0;const _0x4c8a8c=[],_0x1d336c=[];_0x6362af[_0x479930(0xc74)](_0x569ebb=>{const _0x53f4a8=_0x479930,_0x3f9b49=_0x569ebb[_0x53f4a8(0x508)][_0x569ebb[_0x53f4a8(0x508)][_0x53f4a8(0x8b4)]-0x1];if(_0x3f9b49&&_0x3f9b49[_0x53f4a8(0x4dd)]){const _0x45be65=_0x3f9b49[_0x53f4a8(0x4dd)][_0x53f4a8(0xb3a)](_0x108836=>_0x108836[_0x53f4a8(0x5c9)]===_0x2ebfd4)??_0x3f9b49['answers'][_0x4bcdc5]??null;_0x45be65&&(_0x45be65['isCorrect']?(_0x4937de++,_0x4c8a8c[_0x53f4a8(0xa12)](_0x569ebb[_0x53f4a8(0xb26)])):_0x1d336c[_0x53f4a8(0xa12)](_0x569ebb[_0x53f4a8(0xb26)]));}});const _0x5c93f5=_0x6362af[_0x479930(0x8b4)]>0x0?_0x4937de/_0x6362af['length']*0x64:0x0,_0x3a3d2f=_0x42ab90[_0x479930(0x686)](_0x2782a7=>!_0x234b1e[_0x479930(0x764)](_0x2782a7)),_0x582a9e=_0x2eec05?_0x479930(0x971)+_0x2eec05['p']['toFixed'](0x2)+'</p><div>'+_0x43dcec(_0x2eec05['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x2eec05['r'][_0x479930(0xc75)](0x2)+'</p><div>'+_0x3ec87f(_0x2eec05['r'])+_0x479930(0x776)+_0x4d80d3(_0x5c93f5)+_0x479930(0x57e):'';let _0x13e2df='';_0x28e60b&&(_0x13e2df=_0x479930(0x2f5)+Object['keys'](_0x28e60b)[_0x479930(0x39a)](_0x4f8a2b=>{const _0x491c52=_0x479930,_0x3224bd=_0x28e60b[_0x4f8a2b],_0x20f1a2=parseInt(_0x4f8a2b)===_0x115709[_0x491c52(0x576)],_0x1f6cb1=!_0x20f1a2&&_0x3224bd[_0x491c52(0xb32)]>_0x3224bd['upper_group_count'];return'<tr\x20class=\x22'+(_0x20f1a2?_0x491c52(0x4a9):'')+_0x491c52(0x187)+(_0x20f1a2?'✔\x20':'')+_0x3224bd['text']+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x3224bd[_0x491c52(0xc2f)]+_0x491c52(0x731)+_0x3224bd[_0x491c52(0xb32)]+'\x20'+(_0x1f6cb1?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x3224bd[_0x491c52(0x4d7)]+_0x491c52(0x7e6);})[_0x479930(0xad6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x2b70f5='';_0x2eec05&&_0x2eec05[_0x479930(0x867)]&&(_0x2b70f5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x2eec05[_0x479930(0x867)][_0x479930(0x8b4)]+_0x479930(0x771)+_0x2eec05[_0x479930(0x867)][_0x479930(0x39a)](_0x14b749=>_0x479930(0xb66)+(_0x14b749[_0x479930(0x6e6)]?_0x479930(0xc9d):_0x479930(0xb19))+'\x20'+_0x14b749['name']+_0x479930(0x62a))['join']('')+_0x479930(0xacc)+_0x2eec05[_0x479930(0x53d)]['length']+_0x479930(0x771)+_0x2eec05[_0x479930(0x53d)][_0x479930(0x39a)](_0x20990e=>_0x479930(0xb66)+(_0x20990e[_0x479930(0x6e6)]?_0x479930(0xc9d):_0x479930(0xb19))+'\x20'+_0x20990e[_0x479930(0x8c8)]+_0x479930(0x62a))[_0x479930(0xad6)]('')+_0x479930(0x767)),_0x1bd8e2+=_0x479930(0x6fd)+(_0x4bcdc5+0x1)+':\x20'+_0x2ebfd4+_0x479930(0x513)+_0x582a9e+_0x479930(0x8fa)+_0x2ebfd4+_0x479930(0x621)+_0x4937de+_0x479930(0x60f)+_0x6362af[_0x479930(0x8b4)]+_0x479930(0x7b0)+_0x5c93f5['toFixed'](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x4c8a8c[_0x479930(0x8b4)]+_0x479930(0x99b)+(_0x4c8a8c[_0x479930(0x8b4)]>0x0?_0x4c8a8c[_0x479930(0xad6)](',\x20'):_0x479930(0x79c))+_0x479930(0x891)+_0x1d336c['length']+_0x479930(0x99b)+(_0x1d336c[_0x479930(0x8b4)]>0x0?_0x1d336c[_0x479930(0xad6)](',\x20'):_0x479930(0x79c))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x3a3d2f[_0x479930(0x8b4)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x3a3d2f[_0x479930(0x8b4)]>0x0?_0x3a3d2f[_0x479930(0xad6)](',\x20'):_0x479930(0x79c))+_0x479930(0x688)+_0x13e2df+_0x479930(0x5e5)+_0x2b70f5+_0x479930(0x343);}),_0x449907[_0x513a69(0x64a)]=_0x400adb+_0x1bd8e2;try{window[_0x513a69(0x2b2)]&&MathJax['typesetPromise']&&MathJax[_0x513a69(0xca5)]([_0x449907]);}catch(_0x41053c){console[_0x513a69(0x723)](_0x513a69(0x6e2),_0x41053c);}}function calculateDistractorAnalysis(_0x1d8d45,_0x3d0b2c){const _0x90279a=_0x44691e,_0x52cf51={};if(_0x3d0b2c[_0x90279a(0x8b4)]<0x2)return _0x52cf51;const _0xcd08bf=[..._0x3d0b2c][_0x90279a(0xa24)]((_0x1f3e2b,_0x31bcc8)=>{const _0x4871b7=_0x90279a,_0xf4fdfa=_0x31bcc8[_0x4871b7(0x1de)]-_0x1f3e2b[_0x4871b7(0x1de)];if(_0xf4fdfa!==0x0)return _0xf4fdfa;const _0x542e32=_0x1f3e2b['attempts']?.[_0x4871b7(0x8b4)]||0x1,_0x1a6e75=_0x31bcc8['attempts']?.['length']||0x1,_0x31b2f2=_0x542e32-_0x1a6e75;if(_0x31b2f2!==0x0)return _0x31b2f2;const _0x4c137d=new Date(_0x1f3e2b[_0x4871b7(0x8a0)]),_0x1eac4c=new Date(_0x31bcc8[_0x4871b7(0x8a0)]),_0x83c007=_0x4c137d-_0x1eac4c;if(_0x83c007!==0x0)return _0x83c007;return _0x1f3e2b[_0x4871b7(0xb26)][_0x4871b7(0x656)](_0x31bcc8[_0x4871b7(0xb26)],'th');}),_0x1c85e4=_0xcd08bf[_0x90279a(0x8b4)],_0x59a777=Math[_0x90279a(0xc36)](0x1,Math[_0x90279a(0x3fd)](_0x1c85e4*0.33)),_0x3dbf54=_0xcd08bf[_0x90279a(0x18e)](0x0,_0x59a777),_0x1f6a67=_0xcd08bf['slice'](-_0x59a777);return _0x1d8d45[_0x90279a(0x8f1)][_0x90279a(0xc74)]((_0x24367f,_0x38b0d9)=>{const _0x5a9433=_0x90279a;if(_0x24367f['questionType']!==_0x5a9433(0xb47)||!_0x24367f[_0x5a9433(0xbd7)])return;const _0x6ea002=_0x24367f['questionText'],_0x1e9551={};_0x24367f['options']['forEach']((_0x1d3875,_0xa9a2af)=>{_0x1e9551[_0xa9a2af]={'text':_0x1d3875,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0xcd08bf[_0x5a9433(0xc74)](_0x7b69e8=>{const _0x2e7bf5=_0x5a9433,_0x5bb18e=_0x7b69e8[_0x2e7bf5(0x508)][_0x7b69e8[_0x2e7bf5(0x508)]['length']-0x1],_0x2bc9c1=_0x5bb18e[_0x2e7bf5(0x4dd)]['find'](_0xb7baaa=>_0xb7baaa[_0x2e7bf5(0x5c9)]===_0x6ea002);if(_0x2bc9c1&&_0x2bc9c1[_0x2e7bf5(0x32b)]!==null){const _0x49d5c5=_0x24367f[_0x2e7bf5(0xbd7)][_0x2e7bf5(0xbce)](_0x60529=>_0x60529===_0x2bc9c1[_0x2e7bf5(0x22d)]);_0x49d5c5!==-0x1&&_0x1e9551[_0x49d5c5]&&(_0x1e9551[_0x49d5c5][_0x2e7bf5(0x4d7)]++,_0x3dbf54['includes'](_0x7b69e8)&&_0x1e9551[_0x49d5c5]['upper_group_count']++,_0x1f6a67[_0x2e7bf5(0x764)](_0x7b69e8)&&_0x1e9551[_0x49d5c5][_0x2e7bf5(0xb32)]++);}}),_0x52cf51[_0x38b0d9]=_0x1e9551;}),_0x52cf51;}function calculateReliabilityKR20(_0x399a3a,_0x4fb5fe,_0x57817e){const _0x190e69=_0x44691e,_0x1a17fe=_0x399a3a[_0x190e69(0x8f1)][_0x190e69(0x8b4)];if(_0x1a17fe<0x2||_0x4fb5fe['length']<0x2)return null;const _0x39cbf8=_0x4fb5fe['map'](_0x15afa=>_0x15afa[_0x190e69(0x1de)]),_0x2b77c1=_0x39cbf8[_0x190e69(0xa8a)]((_0x4b9110,_0x210b23)=>_0x4b9110+_0x210b23,0x0)/_0x39cbf8[_0x190e69(0x8b4)],_0x5e5eac=_0x39cbf8[_0x190e69(0x39a)](_0x3a4258=>Math[_0x190e69(0x6c2)](_0x3a4258-_0x2b77c1,0x2))[_0x190e69(0xa8a)]((_0x40c9b1,_0x2c7a3a)=>_0x40c9b1+_0x2c7a3a,0x0)/_0x39cbf8[_0x190e69(0x8b4)];if(_0x5e5eac===0x0)return null;let _0x6d3477=0x0;for(let _0x387af2=0x0;_0x387af2<_0x1a17fe;_0x387af2++){const _0x153f52=_0x57817e[_0x387af2]?.['p'];if(_0x153f52===undefined)continue;const _0x23344a=0x1-_0x153f52;_0x6d3477+=_0x153f52*_0x23344a;}if(_0x6d3477===0x0)return null;const _0x42b544=_0x1a17fe/(_0x1a17fe-0x1)*(0x1-_0x6d3477/_0x5e5eac);if(_0x42b544>0x1)return null;return _0x42b544;}async function handleAnalyzeClass(){const _0x330764=_0x44691e;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x330764(0xb72));return;}const _0xdd6c4e=collection(db,'artifacts/'+appId+_0x330764(0x7c5)+currentQuizData['id']+'/submissions'),_0x435173=await getDocs(_0xdd6c4e),_0x5a03dc=_0x435173['docs'][_0x330764(0x39a)](_0x4bc098=>_0x4bc098['data']());if(_0x5a03dc[_0x330764(0x8b4)]<0x2){showMessage(_0x330764(0x5a8));return;}const _0x40b85f=document[_0x330764(0xcac)](_0x330764(0xbba));_0x40b85f[_0x330764(0x64a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document['getElementById']('analyze-strengths-btn')[_0x330764(0x585)]=!![];const _0x586c72=_0x5a03dc[_0x330764(0x39a)]((_0x307c7d,_0x5920c8)=>{const _0xb23cd9=_0x330764,_0xc72f4a=_0x307c7d[_0xb23cd9(0x508)][_0x307c7d[_0xb23cd9(0x508)][_0xb23cd9(0x8b4)]-0x1];if(!_0xc72f4a)return'';return _0xb23cd9(0x3ad)+(_0x5920c8+0x1)+'\x20('+_0x307c7d[_0xb23cd9(0xb26)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0xc72f4a[_0xb23cd9(0x443)]+'/'+_0x307c7d[_0xb23cd9(0x15c)]+_0xb23cd9(0xbb0)+JSON[_0xb23cd9(0xae8)](_0xc72f4a['answers'])+_0xb23cd9(0xbc2);})['join'](_0x330764(0x83a)),_0x327c53=_0x330764(0xa9b)+currentQuizData[_0x330764(0x180)]+_0x330764(0xc1c)+JSON[_0x330764(0xae8)](currentQuizData[_0x330764(0x8f1)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x586c72+_0x330764(0x763),_0x396856={'type':'OBJECT','properties':{'classStrengths':{'type':'ARRAY','items':{'type':_0x330764(0xb46)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x330764(0xb46)}},'teacherSuggestions':{'type':_0x330764(0x542),'items':{'type':_0x330764(0xb46)}}},'required':[_0x330764(0x47e),_0x330764(0x934),_0x330764(0x286)]};try{const _0xd258b8=await callAnalysisApi(_0x327c53,_0x396856);displayClassAnalysis(_0xd258b8);}catch(_0x243f37){console[_0x330764(0x723)]('Error\x20during\x20class\x20analysis:',_0x243f37),_0x40b85f['innerHTML']=_0x330764(0x205)+_0x243f37[_0x330764(0xca0)]+_0x330764(0x8b0);}finally{document['getElementById'](_0x330764(0xa3f))[_0x330764(0x585)]=![];}}function displayClassAnalysis(_0x25f64b){const _0x4b2eb5=_0x44691e,_0x1420ea=document[_0x4b2eb5(0xcac)](_0x4b2eb5(0xbba));if(!_0x25f64b){_0x1420ea['innerHTML']=_0x4b2eb5(0xb30);return;}_0x1420ea['innerHTML']=_0x4b2eb5(0x1af)+_0x25f64b['classStrengths'][_0x4b2eb5(0x39a)](_0x382bc6=>'<li>'+_0x382bc6+_0x4b2eb5(0x62a))[_0x4b2eb5(0xad6)]('')+_0x4b2eb5(0x525)+_0x25f64b[_0x4b2eb5(0x934)][_0x4b2eb5(0x39a)](_0x4fd7b7=>_0x4b2eb5(0xb66)+_0x4fd7b7+'</li>')[_0x4b2eb5(0xad6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x25f64b[_0x4b2eb5(0x286)][_0x4b2eb5(0x39a)](_0x635ef9=>_0x4b2eb5(0xb66)+_0x635ef9+'</li>')[_0x4b2eb5(0xad6)]('')+_0x4b2eb5(0x6a0);}function formatAndPrintWorksheet(_0x2bb512,_0x219593){const _0x5e51c1=_0x44691e,_0x2dceac=_0x5e51c1(0x992)+_0x2bb512[_0x5e51c1(0x180)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x2bb512[_0x5e51c1(0x180)]+_0x5e51c1(0xc56)+_0x2bb512[_0x5e51c1(0x8f1)][_0x5e51c1(0x39a)]((_0x59b72f,_0x3029e4)=>_0x5e51c1(0x1c8)+(_0x3029e4+0x1)+'.\x20'+_0x59b72f['questionText']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x59b72f['imageCode']?_0x5e51c1(0x22f)+_0x59b72f['imageCode']+_0x5e51c1(0xbeb):'')+_0x5e51c1(0x42d))[_0x5e51c1(0xad6)]('')+_0x5e51c1(0x671);_0x219593['document']['write'](_0x2dceac),_0x219593[_0x5e51c1(0xab9)][_0x5e51c1(0x678)](),_0x219593[_0x5e51c1(0x48f)]=function(){setTimeout(()=>{const _0x4a5d78=_0x3aeb;_0x219593[_0x4a5d78(0x6f2)]();},0x3e8);};}async function generateWorksheet(){const _0x101789=_0x44691e,_0x3b7e41=document[_0x101789(0xcac)](_0x101789(0xc83))[_0x101789(0x1a0)]['trim']();if(!_0x3b7e41){showMessage(_0x101789(0xa6c));return;}const _0x20af27=document[_0x101789(0xcac)](_0x101789(0x70b))[_0x101789(0x553)],_0x5423d3=_0x20af27?'':_0x101789(0x628),_0x239a17=window['open']('','_blank');_0x239a17[_0x101789(0xab9)][_0x101789(0xc6c)](_0x101789(0x284));const _0x4c2294=parseInt(document[_0x101789(0xcac)](_0x101789(0xbd5))[_0x101789(0x1a0)]),_0x232a7d=document['getElementById'](_0x101789(0x38c))[_0x101789(0x553)],_0xf218e0=_0x232a7d?_0x101789(0x241):'',_0x6c718=_0x101789(0x8cc)+_0x5423d3+_0x101789(0x4e6)+_0x4c2294+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x3b7e41+_0x101789(0x4bb)+_0xf218e0+_0x101789(0x37c)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x2f0cdb={'type':'OBJECT','properties':{'topic':{'type':_0x101789(0xb46)},'questions':{'type':_0x101789(0x542),'items':{'type':_0x101789(0xc37),'properties':{'questionText':{'type':_0x101789(0xb46)},'imageCode':{'type':_0x101789(0xb46)}},'required':[_0x101789(0x83f)]}}},'required':[_0x101789(0x180),_0x101789(0x8f1)]};document[_0x101789(0xcac)](_0x101789(0x6eb))[_0x101789(0x20a)]='',document[_0x101789(0xcac)](_0x101789(0x609))[_0x101789(0x534)][_0x101789(0x392)]('hidden'),document[_0x101789(0xcac)](_0x101789(0xc01))[_0x101789(0x534)]['remove'](_0x101789(0xb2f)),generateWorksheetBtn[_0x101789(0x585)]=!![];try{const _0x32c327=await callAnalysisApi(_0x6c718,_0x2f0cdb);formatAndPrintWorksheet(_0x32c327,_0x239a17);}catch(_0x4ae200){console[_0x101789(0x723)](_0x101789(0x3ab),_0x4ae200);if(_0x239a17)_0x239a17[_0x101789(0x678)]();showMessage(_0x101789(0x2b9));}finally{document['getElementById'](_0x101789(0x609))[_0x101789(0x534)][_0x101789(0x174)](_0x101789(0xb2f)),document[_0x101789(0xcac)](_0x101789(0xc01))['classList'][_0x101789(0x174)]('hidden'),generateWorksheetBtn[_0x101789(0x585)]=![];}}async function callAnalysisApi(_0x9ce506,_0x32a9db){const _0xbc1c77=_0x44691e,_0x4811d6={'contents':[{'role':_0xbc1c77(0x415),'parts':[{'text':_0x9ce506}]}],'generationConfig':{'responseMimeType':_0xbc1c77(0xa2c),'responseSchema':_0x32a9db}},_0x19853d=_0xbc1c77(0x2d6),_0x373090='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x19853d,_0x351515=await fetch(_0x373090,{'method':_0xbc1c77(0x4af),'headers':{'Content-Type':_0xbc1c77(0xa2c)},'body':JSON[_0xbc1c77(0xae8)](_0x4811d6)});if(!_0x351515['ok'])throw new Error(_0xbc1c77(0x234)+_0x351515[_0xbc1c77(0x507)]);const _0x61ed83=await _0x351515['json']();if(_0x61ed83[_0xbc1c77(0x31a)]?.[0x0]?.[_0xbc1c77(0x951)]?.[_0xbc1c77(0x6db)]?.[0x0])return JSON[_0xbc1c77(0x92d)](_0x61ed83[_0xbc1c77(0x31a)][0x0][_0xbc1c77(0x951)]['parts'][0x0]['text']);else{let _0x5d0abe='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x61ed83[_0xbc1c77(0x399)]?.[_0xbc1c77(0xbb1)])_0x5d0abe=_0xbc1c77(0x4ac)+_0x61ed83[_0xbc1c77(0x399)]['blockReason']+'.';else _0x61ed83[_0xbc1c77(0x31a)]?.[0x0]?.[_0xbc1c77(0x499)]&&_0x61ed83[_0xbc1c77(0x31a)][0x0][_0xbc1c77(0x499)]!==_0xbc1c77(0x7da)&&(_0x5d0abe=_0xbc1c77(0xafe)+_0x61ed83['candidates'][0x0][_0xbc1c77(0x499)]+'.');console[_0xbc1c77(0x723)](_0x5d0abe,JSON[_0xbc1c77(0xae8)](_0x61ed83));throw new Error(_0x5d0abe);}}async function handleStartSyncMode(_0x447286,_0x49c06c=![]){const _0x2297a2=_0x44691e,_0x25d777=allQuizzes[_0x2297a2(0xb3a)](_0x3d7eba=>_0x3d7eba['id']===_0x447286)||allQuizzesGlobal[_0x2297a2(0xb3a)](_0x23f6fa=>_0x23f6fa['id']===_0x447286);if(!_0x25d777){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x25d777);const _0x5436a3=Math['floor'](0x3e8+Math[_0x2297a2(0x53f)]()*0x2328)[_0x2297a2(0xb8f)]();try{const _0x1a3ef7=await addDoc(collection(db,_0x2297a2(0x1c4)+appId+_0x2297a2(0x6ff)),{'quizId':_0x25d777['id'],'pin':_0x5436a3,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x49c06c,'players':{}});currentLiveGameId=_0x1a3ef7['id'],showView(_0x2297a2(0xa2d)),renderSyncLobbyView(_0x5436a3,_0x25d777[_0x2297a2(0x180)]),listenForSyncGameUpdates();}catch(_0x18b51a){console['error'](_0x2297a2(0x4a5),_0x18b51a),showMessage(_0x2297a2(0x6ae));}}function calculateFinalPodiumScores(_0x28c731){const _0x286abb=_0x44691e;if(!_0x28c731||!_0x28c731[_0x286abb(0x692)]||!_0x28c731[_0x286abb(0xb3f)])return _0x28c731[_0x286abb(0xb3f)]||{};const _0x459015=_0x28c731['shuffledQuiz'][_0x286abb(0x8f1)][_0x286abb(0x8b4)],_0x2ac04d=JSON[_0x286abb(0x92d)](JSON[_0x286abb(0xae8)](_0x28c731[_0x286abb(0xb3f)]));return Object[_0x286abb(0x5a9)](_0x2ac04d)[_0x286abb(0xc74)](_0x440230=>{const _0x4d3a36=_0x286abb,_0x4f3e75=_0x440230[_0x4d3a36(0x443)];let _0x44e7cd=_0x4f3e75,_0x3d4dc5=0x0;_0x28c731[_0x4d3a36(0x865)]&&_0x440230[_0x4d3a36(0x4dd)]&&_0x440230[_0x4d3a36(0x4dd)]['forEach'](_0x5b5b18=>{const _0x3e7dc2=_0x4d3a36;if(_0x5b5b18[_0x3e7dc2(0x6e6)]&&(_0x5b5b18[_0x3e7dc2(0x759)]===!![]||_0x5b5b18[_0x3e7dc2(0x759)]===_0x3e7dc2(0x213)))_0x3d4dc5+=0x1;else!_0x5b5b18['isCorrect']&&(_0x5b5b18[_0x3e7dc2(0x759)]===!![]||_0x5b5b18['wasConfident']==='confident')&&(_0x3d4dc5-=0x1);}),_0x44e7cd+=_0x3d4dc5,_0x459015>0x0&&_0x4f3e75===_0x459015&&(_0x44e7cd+=0x1,_0x440230['hasPerfectScoreBonus']=!![]),_0x440230[_0x4d3a36(0x443)]=_0x44e7cd;}),_0x2ac04d;}function listenForSyncGameUpdates(){const _0x2daea1=_0x44691e;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x35430c=doc(db,'artifacts/'+appId+_0x2daea1(0x6ff),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x35430c,_0x1938c9=>{const _0xacbf57=_0x2daea1;if(!_0x1938c9['exists']()){sessionStorage[_0xacbf57(0x85d)]('activeGameSession');if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0xacbf57(0x5a5));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0xacbf57(0x783)?showView('project-detail'):showView(_0xacbf57(0xb07));return;}const _0x225dca=_0x1938c9[_0xacbf57(0x2a7)]();currentMode===_0xacbf57(0x783)?updateAdminSyncView(_0x225dca):updateStudentSyncView(_0x225dca);});}function renderSyncLobbyView(_0x3fc77c,_0x13b120){const _0x40dffc=_0x44691e;liveGameView[_0x40dffc(0x64a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0x13b120+_0x40dffc(0x8d2)+_0x3fc77c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x4c4a8e=document['getElementById'](_0x40dffc(0x88b)),_0x240a22=document[_0x40dffc(0xcac)]('confidence-scoring-description');_0x4c4a8e[_0x40dffc(0x36e)]('change',()=>{const _0x50b542=_0x40dffc;_0x240a22[_0x50b542(0xad3)][_0x50b542(0xc4c)]=_0x4c4a8e[_0x50b542(0x553)]?'block':_0x50b542(0xb7d);}),document[_0x40dffc(0xcac)](_0x40dffc(0x238))[_0x40dffc(0x36e)]('click',async()=>{const _0x5cf772=_0x40dffc,_0x43e9bf=doc(db,_0x5cf772(0x1c4)+appId+_0x5cf772(0x6ff),currentLiveGameId),_0x3e04f9=document[_0x5cf772(0xcac)](_0x5cf772(0x88b))[_0x5cf772(0x553)];await updateDoc(_0x43e9bf,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x3e04f9});});}function updateAdminSyncView(_0x464a61){const _0x2af048=_0x44691e;switch(_0x464a61[_0x2af048(0x507)]){case _0x2af048(0x9f5):renderSyncLobbyView(_0x464a61['pin'],_0x464a61[_0x2af048(0x692)][_0x2af048(0x180)]);const _0x504ee4=Object[_0x2af048(0x823)](_0x464a61['players']||{})[_0x2af048(0x686)](([_0x214a83,_0x56f19b])=>_0x56f19b['status']!==_0x2af048(0x6b2));document[_0x2af048(0xcac)](_0x2af048(0xaa0))[_0x2af048(0x20a)]=_0x504ee4[_0x2af048(0x8b4)],document['getElementById'](_0x2af048(0x8ce))[_0x2af048(0x64a)]=_0x504ee4['map'](([_0x1699e9,_0x4c5f7d])=>_0x2af048(0x46e)+_0x1699e9+_0x2af048(0xaab)+_0x1699e9+_0x2af048(0x6f4))['join']('')||_0x2af048(0x9a6),document[_0x2af048(0xcac)]('start-sync-game-btn')[_0x2af048(0x585)]=_0x504ee4[_0x2af048(0x8b4)]===0x0;break;case _0x2af048(0x4d5):const _0x1756fb=Object[_0x2af048(0x5a9)](_0x464a61['players']||{})[_0x2af048(0x686)](_0xcd055=>_0xcd055['status']!==_0x2af048(0x6b2)),_0x5f0850=_0x1756fb[_0x2af048(0x686)](_0x394116=>_0x394116[_0x2af048(0x2d3)])[_0x2af048(0x8b4)],_0x33ba31=_0x5f0850===_0x1756fb[_0x2af048(0x8b4)]&&_0x1756fb[_0x2af048(0x8b4)]>0x0;if(_0x33ba31&&_0x464a61[_0x2af048(0x507)]===_0x2af048(0x4d5)){const _0x5737d0=doc(db,_0x2af048(0x1c4)+appId+_0x2af048(0x6ff),currentLiveGameId);updateDoc(_0x5737d0,{'status':_0x2af048(0x5a6)});}else{if(document['getElementById'](_0x2af048(0xb87))===null)renderAdminSyncQuestionView(_0x464a61);else{const _0x131b57=document[_0x2af048(0xcac)](_0x2af048(0x94d));_0x131b57&&(_0x131b57[_0x2af048(0x20a)]=_0x5f0850+'/'+_0x1756fb[_0x2af048(0x8b4)]);const _0x36adc0=document[_0x2af048(0xcac)](_0x2af048(0x65e));_0x36adc0&&(_0x36adc0[_0x2af048(0x64a)]=_0x1756fb[_0x2af048(0x39a)](_0xe1c95e=>{const _0x3a2475=_0x2af048,_0x272102=_0xe1c95e[_0x3a2475(0x2d3)]?_0x3a2475(0x837):'bg-gray-500',_0x1d1702=_0xe1c95e[_0x3a2475(0x2d3)]?_0x3a2475(0xa3c):_0x3a2475(0x45c);return _0x3a2475(0xcbc)+_0x272102+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1d1702+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0xe1c95e['name']+_0x3a2475(0x401)+_0xe1c95e[_0x3a2475(0x8c8)]+_0x3a2475(0x1a1);})[_0x2af048(0xad6)](''));}}break;case _0x2af048(0x5a6):const _0xe6a637=_0x464a61['currentQuestionIndex'],_0x3ad92d=_0x464a61[_0x2af048(0x692)][_0x2af048(0x8f1)][_0xe6a637];renderSyncSummaryView(_0x464a61,_0x3ad92d,!![]);break;case _0x2af048(0x1f6):renderAdminSyncDashboard(_0x464a61,!![]);break;case _0x2af048(0x69f):_0x464a61[_0x2af048(0x8d3)]&&saveGameResultsAsSubmissions(_0x464a61);sessionStorage['removeItem'](_0x2af048(0x9d2));const _0x20981e=calculateFinalPodiumScores(_0x464a61);showPodiumView(_0x20981e,'sync');break;}}function renderAdminSyncQuestionView(_0x222b2f){const _0x4cc9ab=_0x44691e,_0x5cbf1a=_0x222b2f[_0x4cc9ab(0x4db)],_0x3fd5dd=_0x222b2f[_0x4cc9ab(0x692)][_0x4cc9ab(0x8f1)][_0x5cbf1a],_0x92d965=_0x222b2f['shuffledQuiz'][_0x4cc9ab(0x8f1)][_0x4cc9ab(0x8b4)],_0x9f2a5a=Object['values'](_0x222b2f[_0x4cc9ab(0xb3f)]||{})[_0x4cc9ab(0x686)](_0x3b9203=>_0x3b9203[_0x4cc9ab(0x507)]!=='inactive'),_0x4b72a9=_0x9f2a5a[_0x4cc9ab(0x686)](_0x263726=>_0x263726[_0x4cc9ab(0x2d3)])[_0x4cc9ab(0x8b4)],_0x3ccf9f=_0x4b72a9===_0x9f2a5a['length']&&_0x9f2a5a[_0x4cc9ab(0x8b4)]>0x0,_0x56c9dd=(_0x3fd5dd['options']||[])[_0x4cc9ab(0x39a)](_0x292c04=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0x292c04+'</div>')[_0x4cc9ab(0xad6)]('');liveGameView['innerHTML']=_0x4cc9ab(0x2d5)+(_0x5cbf1a+0x1)+_0x4cc9ab(0x868)+_0x92d965+_0x4cc9ab(0x2c1)+_0x4b72a9+'/'+_0x9f2a5a[_0x4cc9ab(0x8b4)]+_0x4cc9ab(0x6ed)+_0x3fd5dd[_0x4cc9ab(0x83f)]+_0x4cc9ab(0x679)+_0x56c9dd+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20'+(!_0x3ccf9f?_0x4cc9ab(0x585):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0x4cc9ab(0x2b2)])MathJax[_0x4cc9ab(0xca5)]();document[_0x4cc9ab(0xcac)]('show-results-btn')['addEventListener'](_0x4cc9ab(0x486),async()=>{const _0x4bc383=_0x4cc9ab,_0x5f2e0a=doc(db,_0x4bc383(0x1c4)+appId+_0x4bc383(0x6ff),currentLiveGameId);await updateDoc(_0x5f2e0a,{'status':_0x4bc383(0x1f6)});}),document['getElementById']('open-sync-scratchpad-btn')[_0x4cc9ab(0x800)]=()=>{const _0x5e7fce=_0x4cc9ab;openScratchpad(_0x3fd5dd,_0x3fd5dd[_0x5e7fce(0xbd7)]||[]);},document[_0x4cc9ab(0xcac)](_0x4cc9ab(0xbe9))[_0x4cc9ab(0x36e)](_0x4cc9ab(0x486),()=>{const _0x5a68e1=_0x4cc9ab;document['getElementById']('sync-player-management')[_0x5a68e1(0x534)][_0x5a68e1(0xa90)](_0x5a68e1(0xb2f));});}function renderSyncLeaderboardView(_0x1a4347,_0x25b31b){const _0x56ba87=_0x44691e,_0x340863=Object[_0x56ba87(0x5a9)](_0x1a4347[_0x56ba87(0xb3f)]||{});_0x340863[_0x56ba87(0xa24)]((_0x2e626,_0x4038d2)=>_0x4038d2['score']-_0x2e626['score']);const _0x25e40a=_0x340863['slice'](0x0,0x5);let _0x1dea79='';if(_0x25b31b){const _0x439728=_0x1a4347[_0x56ba87(0x4db)]>=_0x1a4347['shuffledQuiz'][_0x56ba87(0x8f1)][_0x56ba87(0x8b4)]-0x1;_0x1dea79=_0x56ba87(0x1a6)+(_0x439728?'ดูผลสรุปสุดท้าย':'ข้อต่อไป')+_0x56ba87(0xcbf);}else _0x1dea79=_0x56ba87(0x227);liveGameView[_0x56ba87(0x64a)]=_0x56ba87(0x9c4)+_0x25e40a[_0x56ba87(0x39a)]((_0x32d5dd,_0x578055)=>_0x56ba87(0xaac)+(_0x578055+0x1)+'.\x20'+_0x32d5dd[_0x56ba87(0x8c8)]+_0x56ba87(0xbda)+_0x32d5dd[_0x56ba87(0x443)]+_0x56ba87(0xad2))[_0x56ba87(0xad6)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1dea79+_0x56ba87(0x409),_0x25b31b&&document[_0x56ba87(0xcac)](_0x56ba87(0x3f8))[_0x56ba87(0x36e)]('click',async()=>{const _0x167a04=_0x56ba87,_0x3d284f=doc(db,_0x167a04(0x1c4)+appId+'/public/data/syncGames',currentLiveGameId),_0x790b5f=_0x1a4347[_0x167a04(0x4db)]+0x1;if(_0x790b5f<_0x1a4347[_0x167a04(0x692)][_0x167a04(0x8f1)][_0x167a04(0x8b4)]){const _0x596fe1={};Object[_0x167a04(0x53e)](_0x1a4347[_0x167a04(0xb3f)])['forEach'](_0x10b52e=>{const _0x2ac0d7=_0x167a04;_0x596fe1[_0x2ac0d7(0xa14)+_0x10b52e+_0x2ac0d7(0xb92)]=![];}),await updateDoc(_0x3d284f,{..._0x596fe1,'status':'question','currentQuestionIndex':_0x790b5f,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x3d284f,{'status':_0x167a04(0x69f)});});}async function handleJoinSyncGame(){const _0x472762=_0x44691e,_0x4401ec=prompt(_0x472762(0x8e0));if(!_0x4401ec||_0x4401ec[_0x472762(0x5a4)]()[_0x472762(0x8b4)]!==0x2){showMessage(_0x472762(0x189));return;}try{const _0x19a223=collection(db,_0x472762(0x1c4)+appId+_0x472762(0x6ff)),_0x10a02b=query(_0x19a223,where(_0x472762(0x1ae),'==',_0x4401ec[_0x472762(0x5a4)]()),where(_0x472762(0x507),'==','lobby')),_0x141e74=await getDocs(_0x10a02b);if(_0x141e74[_0x472762(0x99e)]){showMessage(_0x472762(0x2cd));return;}const _0x173765=_0x141e74['docs'][0x0];currentLiveGameId=_0x173765['id'];const _0x45eefc=_0x173765['data'](),_0x364dbe=doc(db,_0x472762(0x1c4)+appId+_0x472762(0x1fa),_0x45eefc[_0x472762(0xae2)]),_0xacfa37=await getDoc(_0x364dbe);if(!_0xacfa37[_0x472762(0x72f)]())throw new Error(_0x472762(0x839));const _0xf579b8=_0xacfa37[_0x472762(0x2a7)](),_0x481447=doc(db,_0x472762(0x1c4)+appId+_0x472762(0x6b6),_0xf579b8[_0x472762(0x370)]),_0x1e51e5=await getDoc(_0x481447);if(!_0x1e51e5['exists']())throw new Error(_0x472762(0x835));currentQuizData=_0x45eefc[_0x472762(0x692)];const _0x4721ca=_0x1e51e5[_0x472762(0x2a7)]();showView(_0x472762(0x8a8)),showTeamPlayerSelection(_0x4721ca[_0x472762(0x81b)],_0xf579b8[_0x472762(0x180)]);const _0x2fdc4f=document[_0x472762(0xcac)]('confirm-team-players-btn');_0x2fdc4f['onclick']=confirmAndJoinSyncGame;}catch(_0x4f212f){console[_0x472762(0x723)](_0x472762(0x89b),_0x4f212f),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4f212f['message']);}}function updateStudentSyncView(_0x1f1f63){const _0x4e7e63=_0x44691e,_0x5b74b2=_0x1f1f63[_0x4e7e63(0xb3f)][localTeamPlayers[0x0]];switch(_0x1f1f63[_0x4e7e63(0x507)]){case'lobby':showView('live-game'),liveGameView['innerHTML']=_0x4e7e63(0xac7);break;case _0x4e7e63(0x4d5):const _0x23f35a=localTeamPlayers[_0x4e7e63(0xb0c)](_0x38b447=>_0x1f1f63[_0x4e7e63(0xb3f)][_0x38b447]?.[_0x4e7e63(0x2d3)]===!![]);_0x23f35a?liveGameView[_0x4e7e63(0x64a)]=_0x4e7e63(0xc53):renderStudentSyncQuestionView(_0x1f1f63);break;case _0x4e7e63(0x5a6):liveGameView[_0x4e7e63(0x64a)]=_0x4e7e63(0xc2d);break;case'results':localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x1f1f63);break;case'podium':releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x4e7e63(0x4c9)](_0x4e7e63(0x68e),handleFullscreenChange),document[_0x4e7e63(0x4c9)](_0x4e7e63(0x743),handleVisibilityChange),sessionStorage[_0x4e7e63(0x85d)](_0x4e7e63(0x9d2));const _0x531a86=calculateFinalPodiumScores(_0x1f1f63);showPodiumView(_0x531a86,_0x4e7e63(0x5c7));break;}}function renderStudentSyncResultsView(_0x4125d4){const _0x27717e=_0x44691e,_0x561365=localTeamPlayers[_0x27717e(0x39a)](_0x4c93ee=>_0x4125d4[_0x27717e(0xb3f)][_0x4c93ee])['filter'](Boolean);_0x561365[_0x27717e(0xa24)]((_0x1f2504,_0x535f14)=>(_0x535f14[_0x27717e(0x443)]||0x0)-(_0x1f2504[_0x27717e(0x443)]||0x0));const _0x231a54=_0x4125d4[_0x27717e(0x4db)]>=_0x4125d4['shuffledQuiz'][_0x27717e(0x8f1)][_0x27717e(0x8b4)]-0x1;let _0x5965fe='';_0x231a54?_0x5965fe=_0x27717e(0xb7e):_0x5965fe=_0x27717e(0x1f1);const _0x577211='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x561365[_0x27717e(0x39a)]((_0x27e0e4,_0x189fea)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x189fea+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x27e0e4[_0x27717e(0x8c8)]+_0x27717e(0x8a9)+_0x27e0e4[_0x27717e(0x443)]+_0x27717e(0x9f4))[_0x27717e(0xad6)]('')+_0x27717e(0x66b)+_0x5965fe+'\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x27717e(0x64a)]=_0x577211;}function renderStudentSyncQuestionView(_0x73943c){const _0x5e6891=_0x44691e;while(localPlayerTurnIndex<localTeamPlayers[_0x5e6891(0x8b4)]&&_0x73943c['players'][localTeamPlayers[localPlayerTurnIndex]]?.['answered']===!![]){localPlayerTurnIndex++;}const _0x9f9757=localTeamPlayers[localPlayerTurnIndex];if(!_0x9f9757)return;const _0x5bdf06=_0x73943c[_0x5e6891(0x4db)],_0x5adabd=_0x73943c[_0x5e6891(0x692)]['questions'][_0x5e6891(0x8b4)],_0x28da4e=_0x73943c[_0x5e6891(0x692)][_0x5e6891(0x8f1)][_0x5bdf06],_0x424cf2=_0x28da4e['questionType']||_0x73943c['shuffledQuiz'][_0x5e6891(0x196)];let _0x106f22='',_0x2d0542=![];switch(_0x424cf2){case'true_false':_0x106f22=_0x5e6891(0x25c);break;case _0x5e6891(0x982):case _0x5e6891(0x1ec):_0x2d0542=!![],_0x106f22=_0x5e6891(0xb0e);break;case _0x5e6891(0xc00):_0x2d0542=!![],_0x106f22=_0x5e6891(0x66d)+(_0x28da4e[_0x5e6891(0xa33)]||[])['map'](_0x274319=>_0x5e6891(0x458)+_0x274319+'\x22>'+_0x274319+'</option>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x5e6891(0xb47):default:_0x106f22=(_0x28da4e[_0x5e6891(0xbd7)]||[])[_0x5e6891(0x39a)]((_0x229980,_0x1774b9)=>_0x5e6891(0x365)+_0x1774b9+_0x5e6891(0x3df)+_0x229980+_0x5e6891(0x6a8))[_0x5e6891(0xad6)]('');break;}liveGameView['innerHTML']=_0x5e6891(0x782)+(_0x5bdf06+0x1)+_0x5e6891(0x868)+_0x5adabd+_0x5e6891(0xa06)+_0x9f9757+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x28da4e[_0x5e6891(0x83f)]||_0x28da4e[_0x5e6891(0x388)])+_0x5e6891(0xb91)+_0x106f22+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(window[_0x5e6891(0x2b2)])MathJax[_0x5e6891(0xca5)]();function _0x591d92(_0x21eb84,_0x463cc0,_0x30ce18,_0x18f61e){const _0x5f5c08=_0x5e6891,_0x55dcf1=_0x30ce18[_0x5f5c08(0x865)]===!![];if(_0x55dcf1){document[_0x5f5c08(0xcac)](_0x5f5c08(0x8b9))[_0x5f5c08(0x5fd)][_0x5f5c08(0xbea)]=_0x5f5c08(0x5c7);const _0x5accc7=document[_0x5f5c08(0xcac)](_0x5f5c08(0x3f5));_0x5accc7['dataset']['answerValue']=_0x21eb84,_0x5accc7[_0x5f5c08(0x5fd)][_0x5f5c08(0x4d5)]=JSON[_0x5f5c08(0xae8)](_0x463cc0),_0x5accc7['dataset'][_0x5f5c08(0xae0)]=JSON['stringify'](_0x30ce18),_0x5accc7[_0x5f5c08(0x5fd)]['playerName']=_0x18f61e,document[_0x5f5c08(0xcac)](_0x5f5c08(0x8b9))['classList'][_0x5f5c08(0x392)]('hidden');}else handleSyncAnswerSubmit(_0x21eb84,_0x463cc0,_0x30ce18,_0x18f61e,![]);}_0x2d0542?document[_0x5e6891(0xcac)](_0x5e6891(0x7eb))['addEventListener'](_0x5e6891(0x486),()=>{const _0x1966a7=_0x5e6891,_0x58221d=document[_0x1966a7(0xcac)](_0x1966a7(0x459))||document['getElementById'](_0x1966a7(0x75e));if(_0x58221d[_0x1966a7(0x1a0)][_0x1966a7(0x5a4)]()===''){showMessage(_0x1966a7(0x6b4));return;}_0x591d92(_0x58221d['value'],_0x28da4e,_0x73943c,_0x9f9757);}):document[_0x5e6891(0x32a)]('.live-answer-btn')[_0x5e6891(0xc74)](_0x528201=>{const _0x9ffeb=_0x5e6891;_0x528201['addEventListener'](_0x9ffeb(0x486),()=>{const _0x57d626=_0x9ffeb;_0x591d92(_0x528201['dataset'][_0x57d626(0x1a0)],_0x28da4e,_0x73943c,_0x9f9757);});});}async function handleSyncAnswerSubmit(_0x3b1f05,_0x430939,_0x4b8936,_0x4214ee,_0x28a1dc){const _0x212414=_0x44691e;document['querySelectorAll'](_0x212414(0xbf4))['forEach'](_0x2e05c9=>_0x2e05c9[_0x212414(0x585)]=!![]);const _0x186bba=_0x430939['questionType']||_0x4b8936[_0x212414(0x692)][_0x212414(0x196)];let _0xb8c47c=![],_0x372849=_0x3b1f05;switch(_0x186bba){case _0x212414(0x9c3):const _0x19f214=parseInt(_0x3b1f05),_0x2ca757=_0x430939[_0x212414(0x492)]===!![]||String(_0x430939[_0x212414(0x492)])[_0x212414(0x3e6)]()==='true';_0xb8c47c=_0x19f214===0x0&&_0x2ca757||_0x19f214===0x1&&!_0x2ca757,_0x372849=_0x19f214===0x0?_0x212414(0x8c9):_0x212414(0x7c4);break;case'short_answer':case'fill_in_no_choices':_0xb8c47c=await gradeShortAnswer(_0x3b1f05,_0x430939);break;case _0x212414(0xc00):_0xb8c47c=_0x3b1f05===_0x430939[_0x212414(0x964)];break;case _0x212414(0xb47):default:const _0x4c40cf=parseInt(_0x3b1f05);_0xb8c47c=_0x4c40cf===_0x430939[_0x212414(0x576)];_0x430939[_0x212414(0xbd7)]&&_0x430939['options'][_0x4c40cf]&&(_0x372849=_0x430939[_0x212414(0xbd7)][_0x4c40cf]);break;}const _0x46eb3d=_0xb8c47c?0x1:0x0,_0x987dc1=doc(db,_0x212414(0x1c4)+appId+_0x212414(0x6ff),currentLiveGameId),_0x5b967c={};_0x5b967c[_0x212414(0xa14)+_0x4214ee+_0x212414(0x8c5)]=increment(_0x46eb3d),_0x5b967c[_0x212414(0xa14)+_0x4214ee+_0x212414(0xb92)]=!![];let _0x3356fb=null;(_0x186bba===_0x212414(0xb47)||_0x186bba==='true_false'||_0x186bba===_0x212414(0x7cc))&&(_0x3356fb=parseInt(_0x3b1f05));_0x5b967c[_0x212414(0xa14)+_0x4214ee+_0x212414(0xa23)]=_0x3356fb;const _0x3fc945={'questionIndex':_0x4b8936[_0x212414(0x4db)],'questionId':_0x430939['id'],'answer':_0x3b1f05,'answerText':_0x372849,'isCorrect':_0xb8c47c,'originalQuestionText':_0x430939[_0x212414(0x83f)]||_0x430939[_0x212414(0x388)],'wasConfident':_0x28a1dc};_0x5b967c[_0x212414(0xa14)+_0x4214ee+_0x212414(0x91f)]=arrayUnion(_0x3fc945),await updateDoc(_0x987dc1,_0x5b967c);}initialize();
