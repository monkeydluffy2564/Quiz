const _0x569b7c=_0x1447;(function(_0x3b2006,_0x59fbe0){const _0x2cbe06=_0x1447,_0x2e1036=_0x3b2006();while(!![]){try{const _0x3903b6=-parseInt(_0x2cbe06(0x317))/0x1*(parseInt(_0x2cbe06(0xc2f))/0x2)+parseInt(_0x2cbe06(0x716))/0x3*(-parseInt(_0x2cbe06(0x649))/0x4)+parseInt(_0x2cbe06(0x80f))/0x5*(parseInt(_0x2cbe06(0xbb2))/0x6)+-parseInt(_0x2cbe06(0x47b))/0x7*(parseInt(_0x2cbe06(0xb5a))/0x8)+parseInt(_0x2cbe06(0xa43))/0x9+parseInt(_0x2cbe06(0x4e9))/0xa+parseInt(_0x2cbe06(0xafe))/0xb*(-parseInt(_0x2cbe06(0x6ba))/0xc);if(_0x3903b6===_0x59fbe0)break;else _0x2e1036['push'](_0x2e1036['shift']());}catch(_0x6998b3){_0x2e1036['push'](_0x2e1036['shift']());}}}(_0x4cf9,0x2b3e9));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x569b7c(0x606),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId='all',parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x569b7c(0x606),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x38c390=_0x569b7c;if(_0x38c390(0xcea)in navigator)try{wakeLock=await navigator[_0x38c390(0xcea)][_0x38c390(0x82d)](_0x38c390(0x860)),console[_0x38c390(0x2fa)](_0x38c390(0x64d)),wakeLock[_0x38c390(0x79b)](_0x38c390(0xb9a),()=>{console['log']('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0xffcec2){console[_0x38c390(0x728)]('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0xffcec2[_0x38c390(0x5bd)]+',\x20'+_0xffcec2['message']);}else console[_0x38c390(0x60f)]('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x4c08a6=_0x569b7c;wakeLock!==null&&(await wakeLock[_0x4c08a6(0xb9a)](),wakeLock=null,console[_0x4c08a6(0x2fa)](_0x4c08a6(0x739)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x543868=_0x569b7c;if(dimTimer)clearTimeout(dimTimer);document[_0x543868(0x937)][_0x543868(0x396)][_0x543868(0x76f)](_0x543868(0xc1e)),dimTimer=setTimeout(()=>{const _0x2be1a9=_0x543868;document[_0x2be1a9(0x937)]['classList'][_0x2be1a9(0x46b)]('dimmed'),console[_0x2be1a9(0x2fa)](_0x2be1a9(0x9e4));},inactivityTime);}function stopDimTimer(){const _0x318280=_0x569b7c;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x318280(0x396)][_0x318280(0x76f)]('dimmed'),window['removeEventListener']('mousemove',resetDimTimer),window[_0x318280(0xd44)](_0x318280(0xaab),resetDimTimer),window[_0x318280(0xd44)](_0x318280(0xae4),resetDimTimer),window[_0x318280(0xd44)](_0x318280(0x4a5),resetDimTimer),console[_0x318280(0x2fa)]('หยุดระบบจับเวลาหรี่หน้าจอ');}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x585c4e,_0x114cac=![]){const _0x3fbcb5=_0x569b7c,_0x5b4a73=allQuizzes[_0x3fbcb5(0xd14)](_0x1a847a=>_0x1a847a['id']===_0x585c4e)||allQuizzesGlobal[_0x3fbcb5(0xd14)](_0x354daf=>_0x354daf['id']===_0x585c4e);if(!_0x5b4a73){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x5b4a73);const _0x233327=Math[_0x3fbcb5(0xc71)](0x3e8+Math['random']()*0x2328)[_0x3fbcb5(0xae2)]();try{const _0x2706ed=await addDoc(collection(db,_0x3fbcb5(0x25b)+appId+_0x3fbcb5(0x75a)),{'quizId':_0x5b4a73['id'],'projectId':_0x5b4a73[_0x3fbcb5(0xadc)],'status':_0x3fbcb5(0x3e1),'pin':_0x233327,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x114cac});currentTeamQuizId=_0x2706ed['id'],showView(_0x3fbcb5(0x532)),renderAdminTeamQuizDashboard(_0x233327,_0x5b4a73[_0x3fbcb5(0xaf8)]),listenForTeamQuizUpdates();}catch(_0x2a14d0){console[_0x3fbcb5(0x728)]('Error\x20starting\x20team\x20quiz:',_0x2a14d0),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x3ca100,_0x2497b7,_0x117357=_0x569b7c(0xcd2)){const _0x15caf7=_0x569b7c,_0x220fcc=_0x117357==='group'?_0x15caf7(0x2d4):_0x15caf7(0xd3c);liveGameView[_0x15caf7(0xa5b)]=_0x15caf7(0xa77)+_0x220fcc+':\x20'+_0x2497b7+_0x15caf7(0xc94)+_0x3ca100+_0x15caf7(0xd48),document[_0x15caf7(0xca0)](_0x15caf7(0x52b))[_0x15caf7(0x79b)](_0x15caf7(0xd52),async()=>{const _0xcc4581=_0x15caf7;showConfirmation(_0xcc4581(0x27e),async()=>{const _0x16ac26=_0xcc4581;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x16ac26(0x25b)+appId+_0x16ac26(0x75a),currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0x38a45e=_0x569b7c;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0xd77d8a=doc(db,_0x38a45e(0x25b)+appId+_0x38a45e(0x75a),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0xd77d8a,_0x165c22=>{const _0x139ff8=_0x38a45e;if(!_0x165c22[_0x139ff8(0x6c9)]()){sessionStorage[_0x139ff8(0x4f3)](_0x139ff8(0xc0b));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x139ff8(0x786));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x139ff8(0x42a)?showView('project-detail'):showView(_0x139ff8(0xa9a));return;}const _0x549618=_0x165c22[_0x139ff8(0x7f5)]();if(currentMode===_0x139ff8(0x42a)){if(_0x549618[_0x139ff8(0x3c3)]===_0x139ff8(0x449)&&_0x549618['status']!==_0x139ff8(0xa09)&&_0x549618[_0x139ff8(0xc81)]!=='finished'){const _0x57f585=Object[_0x139ff8(0x224)](_0x549618[_0x139ff8(0xaaa)]||{});if(_0x57f585[_0x139ff8(0xcda)]>0x0){const _0xe7c235=_0x57f585[_0x139ff8(0x51a)](_0x57cb5b=>_0x57cb5b[_0x139ff8(0x8c9)]===!![]);_0xe7c235&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x549618);}else{if(_0x549618[_0x139ff8(0xc81)]==='podium'||_0x549618[_0x139ff8(0xc81)]===_0x139ff8(0x1e0)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x549618['mode']==='group'){const _0x203963=_0x549618[_0x139ff8(0xaaa)][userId];(!_0x203963||!_0x203963[_0x139ff8(0x8c9)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x50de08){const _0x2dfab9=_0x569b7c;console[_0x2dfab9(0x2fa)](_0x2dfab9(0x656));const _0x5c9786=doc(db,_0x2dfab9(0x25b)+appId+'/public/data/teamQuizzes',_0x50de08);try{const _0x513c15=await getDoc(_0x5c9786);if(_0x513c15[_0x2dfab9(0x6c9)]()){const _0xe137fd=_0x513c15[_0x2dfab9(0x7f5)]();_0xe137fd['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0xe137fd);}await updateDoc(_0x5c9786,{'status':_0x2dfab9(0xa09)});}catch(_0x5c63b6){console[_0x2dfab9(0x728)](_0x2dfab9(0xc6d),_0x5c63b6);}}function updateAdminTeamDashboard(_0x316f50){const _0x4d118e=_0x569b7c,_0xe15139=document[_0x4d118e(0xca0)](_0x4d118e(0x200));if(!_0xe15139)return;const _0x2b130b=_0x316f50[_0x4d118e(0x3c3)]||_0x4d118e(0xcd2),_0x1beb11=currentQuizData[_0x4d118e(0x981)]['length'];if(_0x2b130b===_0x4d118e(0x449)){const _0x2d23d9=Object[_0x4d118e(0x224)](_0x316f50['groups']||{});if(_0x2d23d9[_0x4d118e(0xcda)]===0x0){_0xe15139['innerHTML']=_0x4d118e(0x1b9);return;}const _0x4ba526=[..._0x2d23d9][_0x4d118e(0x64b)]((_0x34bee7,_0x3f465f)=>_0x3f465f['score']-_0x34bee7['score']),_0xbd1b97=_0x4ba526['map']((_0x2c4350,_0x2f8dc8)=>{const _0x547430=_0x4d118e,_0x322b1d=_0x2c4350[_0x547430(0x686)]?.[_0x547430(0xcda)]||0x0;return _0x547430(0x41d)+(_0x2f8dc8+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0x2c4350[_0x547430(0x432)]['join'](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0x322b1d+'/'+_0x1beb11+_0x547430(0x788)+_0x2c4350[_0x547430(0x9f4)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4d118e(0xcbb)](''),_0x3d6efe=currentQuizData[_0x4d118e(0x981)][_0x4d118e(0xc3d)]((_0x934836,_0x230312)=>{const _0x599481=_0x4d118e;let _0x4908af=0x0,_0x22f2ec=0x0;_0x2d23d9[_0x599481(0xb32)](_0x442367=>{const _0x465ebf=_0x599481,_0x4fe6cd=_0x442367[_0x465ebf(0x686)]?.[_0x465ebf(0xd14)](_0x45ae6c=>_0x45ae6c[_0x465ebf(0x87c)]===_0x230312);if(_0x4fe6cd){_0x22f2ec++;if(_0x4fe6cd['isCorrect'])_0x4908af++;}});const _0x423362=_0x22f2ec>0x0&&_0x22f2ec===_0x2d23d9[_0x599481(0xcda)],_0x46984b=_0x423362?_0x599481(0x9c0):_0x599481(0xb9b),_0x45d488=_0x423362?_0x599481(0x4bd):'';return _0x599481(0x8fc)+_0x46984b+_0x599481(0x78b)+(_0x230312+0x1)+_0x599481(0x78c)+_0x45d488+_0x599481(0xabc)+_0x4908af+'/'+_0x2d23d9[_0x599481(0xcda)]+_0x599481(0xa22);})[_0x4d118e(0xcbb)]('');_0xe15139[_0x4d118e(0xa5b)]=_0x4d118e(0x34f)+_0xbd1b97+_0x4d118e(0xbe3)+_0x3d6efe+_0x4d118e(0xcd1);return;}const _0x766e8=_0x316f50[_0x4d118e(0x5fe)]||{},_0x4230fb=Object[_0x4d118e(0x65a)](_0x766e8);if(_0x4230fb['length']===0x0){_0xe15139[_0x4d118e(0xa5b)]=_0x4d118e(0x7ce);return;}const _0xd98e5c=_0x4230fb[_0x4d118e(0xc3d)](_0x5de6f2=>({'name':_0x5de6f2,'score':_0x766e8[_0x5de6f2]['score']||0x0}))[_0x4d118e(0x64b)]((_0x405012,_0xeae640)=>_0xeae640[_0x4d118e(0x9f4)]-_0x405012[_0x4d118e(0x9f4)]),_0x182b42=_0xd98e5c[_0x4d118e(0xc3d)](_0x468701=>{const _0x218664=_0x4d118e,_0x498381=_0x766e8[_0x468701[_0x218664(0x5bd)]]?.[_0x218664(0x686)]?.[_0x218664(0xcda)]||0x0,_0x52eebe=Math['ceil'](_0x1beb11/_0x4230fb[_0x218664(0xcda)]);return _0x218664(0x2b6)+_0x468701[_0x218664(0x5bd)]+_0x218664(0x595)+_0x498381+'/'+_0x52eebe+_0x218664(0xb28)+_0x468701[_0x218664(0x9f4)]+_0x218664(0x756);})['join'](''),_0x4ba392=_0x4230fb[_0x4d118e(0x5c5)]((_0xbe10a4,_0xd28aed)=>_0xbe10a4+(_0x766e8[_0xd28aed]['answers']?.[_0x4d118e(0xcda)]||0x0),0x0),_0x53e17a=currentQuizData[_0x4d118e(0x981)]['map']((_0x3654f3,_0x3059b5)=>{const _0x1b3c5e=_0x4d118e;let _0x348231=null,_0x65ad3b=null;for(const _0x2683e0 of _0x4230fb){const _0x18edce=_0x766e8[_0x2683e0][_0x1b3c5e(0x686)]?.[_0x1b3c5e(0xd14)](_0x36fd5d=>_0x36fd5d[_0x1b3c5e(0x87c)]===_0x3059b5);if(_0x18edce){_0x348231=_0x18edce,_0x65ad3b=_0x2683e0;break;}}const _0x1de026=!!_0x348231,_0x430b0f=_0x1de026&&_0x348231[_0x1b3c5e(0x280)],_0x4d33b8=(Math[_0x1b3c5e(0xc71)](_0x3059b5/_0x4230fb[_0x1b3c5e(0xcda)])+0x1)*_0x4230fb['length'],_0x122bcf=_0x4ba392>=_0x4d33b8,_0x131c72=_0x122bcf?_0x1b3c5e(0xbc6):'bg-black/10',_0x349d80=_0x122bcf?_0x1b3c5e(0x4bd):'';let _0x51f3f4=_0x1b3c5e(0xa0f);return _0x1de026&&(_0x51f3f4=_0x65ad3b+_0x1b3c5e(0xcc6)+(_0x430b0f?_0x1b3c5e(0x344):_0x1b3c5e(0x883))),'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x131c72+_0x1b3c5e(0x78b)+(_0x3059b5+0x1)+_0x1b3c5e(0x78c)+_0x349d80+_0x1b3c5e(0x470)+_0x51f3f4+_0x1b3c5e(0x4c2);})['join']('');_0xe15139[_0x4d118e(0xa5b)]=_0x4d118e(0x773)+_0x182b42+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x53e17a+_0x4d118e(0xcd1);}async function handleJoinTeamQuiz(){const _0x2aa761=_0x569b7c,_0x25472e=prompt(_0x2aa761(0x207));if(!_0x25472e||_0x25472e[_0x2aa761(0xc9e)]()['length']!==0x4){showMessage(_0x2aa761(0x7d9));return;}try{const _0x3933f8=collection(db,_0x2aa761(0x25b)+appId+'/public/data/teamQuizzes'),_0x220f78=query(_0x3933f8,where(_0x2aa761(0x7a6),'==',_0x25472e[_0x2aa761(0xc9e)]()),where('status','==',_0x2aa761(0x3e1))),_0x52cc03=await getDocs(_0x220f78);if(_0x52cc03[_0x2aa761(0xcc9)]){showMessage(_0x2aa761(0x5c3));return;}const _0x5b552f=_0x52cc03['docs'][0x0];currentTeamQuizId=_0x5b552f['id'];const _0x54bc10=_0x5b552f['data'](),_0x1afdab=doc(db,_0x2aa761(0x25b)+appId+_0x2aa761(0x1bf),_0x54bc10[_0x2aa761(0xadc)]),_0x23467d=doc(db,_0x2aa761(0x25b)+appId+_0x2aa761(0x72c),_0x54bc10['quizId']),[_0x58990f,_0x5d5c45]=await Promise[_0x2aa761(0x606)]([getDoc(_0x1afdab),getDoc(_0x23467d)]);if(!_0x58990f[_0x2aa761(0x6c9)]()||!_0x5d5c45[_0x2aa761(0x6c9)]())throw new Error(_0x2aa761(0xd26));currentQuizData=getShuffledQuiz({'id':_0x5d5c45['id'],..._0x5d5c45[_0x2aa761(0x7f5)]()});const _0x528707=_0x58990f[_0x2aa761(0x7f5)]();showTeamPlayerSelection(_0x528707['students'],currentQuizData[_0x2aa761(0xaf8)]);}catch(_0x911cd3){console[_0x2aa761(0x728)](_0x2aa761(0x683),_0x911cd3),showMessage(_0x2aa761(0xc90)+_0x911cd3[_0x2aa761(0x7d7)]);}}async function handleJoinGroupActivity(){const _0x376d2d=_0x569b7c,_0x8345a0=prompt(_0x376d2d(0x1fa));if(!_0x8345a0||_0x8345a0[_0x376d2d(0xc9e)]()[_0x376d2d(0xcda)]!==0x4){showMessage(_0x376d2d(0x98b));return;}const _0x1d6fb8=_0x8345a0[_0x376d2d(0xc9e)]();showMessage(_0x376d2d(0x53b));try{const _0x340c46=collection(db,'artifacts/'+appId+'/public/data/teamQuizzes'),_0x308e65=query(_0x340c46,where('pin','==',_0x1d6fb8),where('status','==',_0x376d2d(0x3e1))),_0x39246e=await getDocs(_0x308e65);if(!_0x39246e[_0x376d2d(0xcc9)]){console['log'](_0x376d2d(0xc78)),await proceedWithTeamQuizJoin(_0x39246e[_0x376d2d(0x53c)][0x0]);return;}const _0x55fbf0=collection(db,'artifacts/'+appId+'/public/data/syncGames'),_0x8c0b84=query(_0x55fbf0,where('pin','==',_0x1d6fb8),where(_0x376d2d(0xc81),'==','lobby')),_0x4f0fd4=await getDocs(_0x8c0b84);if(!_0x4f0fd4[_0x376d2d(0xcc9)]){console[_0x376d2d(0x2fa)](_0x376d2d(0x704)),await proceedWithSyncQuizJoin(_0x4f0fd4[_0x376d2d(0x53c)][0x0]);return;}showMessage(_0x376d2d(0xb0b));}catch(_0x257aad){console[_0x376d2d(0x728)](_0x376d2d(0x212),_0x257aad),showMessage(_0x376d2d(0x5a9)+_0x257aad['message']);}}async function proceedWithTeamQuizJoin(_0x5f0c0d){const _0xd96727=_0x569b7c;currentTeamQuizId=_0x5f0c0d['id'];const _0x469a86=_0x5f0c0d[_0xd96727(0x7f5)](),_0x434417=doc(db,_0xd96727(0x25b)+appId+_0xd96727(0x1bf),_0x469a86[_0xd96727(0xadc)]),_0x26cb46=doc(db,_0xd96727(0x25b)+appId+_0xd96727(0x72c),_0x469a86[_0xd96727(0xacf)]),[_0x364f11,_0x3f3d2f]=await Promise[_0xd96727(0x606)]([getDoc(_0x434417),getDoc(_0x26cb46)]);if(!_0x364f11['exists']()||!_0x3f3d2f['exists']())throw new Error(_0xd96727(0xd26));currentQuizData=getShuffledQuiz({'id':_0x3f3d2f['id'],..._0x3f3d2f[_0xd96727(0x7f5)]()}),showTeamPlayerSelection(_0x364f11[_0xd96727(0x7f5)]()[_0xd96727(0x9bf)],currentQuizData[_0xd96727(0xaf8)],_0x469a86['mode']||_0xd96727(0xcd2)),messageModal[_0xd96727(0x396)][_0xd96727(0x46b)](_0xd96727(0xb23));}async function proceedWithSyncQuizJoin(_0x4c32b3){const _0xa73d21=_0x569b7c;currentLiveGameId=_0x4c32b3['id'];const _0x12105b=_0x4c32b3[_0xa73d21(0x7f5)](),_0x4d3d8e=doc(db,_0xa73d21(0x25b)+appId+_0xa73d21(0x72c),_0x12105b[_0xa73d21(0xacf)]),_0x1b674b=await getDoc(_0x4d3d8e);if(!_0x1b674b['exists']())throw new Error(_0xa73d21(0x4f6));const _0x180bf4=_0x1b674b[_0xa73d21(0x7f5)](),_0x36461e=doc(db,'artifacts/'+appId+_0xa73d21(0x1bf),_0x180bf4[_0xa73d21(0xadc)]),_0x28e3f2=await getDoc(_0x36461e);if(!_0x28e3f2[_0xa73d21(0x6c9)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x12105b[_0xa73d21(0x495)],showView(_0xa73d21(0x64c)),showTeamPlayerSelection(_0x28e3f2[_0xa73d21(0x7f5)]()[_0xa73d21(0x9bf)],_0x180bf4[_0xa73d21(0xaf8)],_0xa73d21(0x6c1)),document[_0xa73d21(0xca0)]('confirm-team-players-btn')[_0xa73d21(0xbe8)]=confirmAndJoinSyncGame,messageModal['classList'][_0xa73d21(0x46b)](_0xa73d21(0xb23));}function getCleanApplicationHTML(){const _0x32acb3=_0x569b7c,_0x29f295=document[_0x32acb3(0xca0)](_0x32acb3(0x689));if(!_0x29f295)return'';const _0x10b54c=_0x29f295[_0x32acb3(0x355)](!![]);return _0x10b54c[_0x32acb3(0x31c)](_0x32acb3(0x240))[_0x32acb3(0xb32)](_0x5bc2a7=>{const _0xc4d26c=_0x32acb3;_0x5bc2a7[_0xc4d26c(0x396)]['remove']('correct',_0xc4d26c(0xbbb)),_0x5bc2a7[_0xc4d26c(0x7b4)]=![];}),_0x10b54c[_0x32acb3(0xa5b)];}function showTeamPlayerSelection(_0x47d091,_0x3d16f3,_0x392f5f=_0x569b7c(0xcd2)){const _0x56ba64=_0x569b7c;studentInitialView[_0x56ba64(0x396)]['add']('hidden'),studentJoinGameView[_0x56ba64(0x396)][_0x56ba64(0x46b)](_0x56ba64(0xb23)),document[_0x56ba64(0xca0)](_0x56ba64(0xa86))[_0x56ba64(0x396)]['remove'](_0x56ba64(0xb23));let _0x4b5c88=_0x56ba64(0xd3c);if(_0x392f5f===_0x56ba64(0x449))_0x4b5c88=_0x56ba64(0x2d4);else _0x392f5f===_0x56ba64(0x6c1)&&(_0x4b5c88=_0x56ba64(0x941));document['getElementById']('team-quiz-topic')[_0x56ba64(0x8a5)]=_0x4b5c88+':\x20'+_0x3d16f3;const _0x520f88=document[_0x56ba64(0xca0)](_0x56ba64(0xb4f));if(!_0x47d091||_0x47d091[_0x56ba64(0xcda)]===0x0){_0x520f88[_0x56ba64(0xa5b)]=_0x56ba64(0x628),document[_0x56ba64(0xca0)]('confirm-team-players-btn')[_0x56ba64(0x7b4)]=!![];return;}_0x520f88[_0x56ba64(0xa5b)]=_0x47d091[_0x56ba64(0xc3d)](_0x51303e=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x51303e+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x51303e+_0x56ba64(0x386))[_0x56ba64(0xcbb)](''),document[_0x56ba64(0xca0)](_0x56ba64(0x997))['disabled']=![];}async function confirmAndStartTeamQuiz(){const _0x219356=_0x569b7c,_0x57906d=Array[_0x219356(0x95b)](document[_0x219356(0x31c)](_0x219356(0xd12)))['map'](_0x3bf0d7=>_0x3bf0d7[_0x219356(0xb85)]);if(_0x57906d[_0x219356(0xcda)]===0x0){showMessage(_0x219356(0x1ec));return;}localTeamPlayers=_0x57906d,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x4a6739=doc(db,_0x219356(0x25b)+appId+'/public/data/teamQuizzes',currentTeamQuizId);try{const _0x1f8293=await getDoc(_0x4a6739);if(!_0x1f8293['exists']())throw new Error(_0x219356(0x7bc));const _0x290912=_0x1f8293['data']();if(_0x290912[_0x219356(0x3c3)]===_0x219356(0x449)){const _0x3342c0={[_0x219356(0xbea)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x4a6739,_0x3342c0);}else{const _0x56959e=_0x290912[_0x219356(0x5fe)]||{};localTeamPlayers['forEach'](_0x5a7b0f=>{!_0x56959e[_0x5a7b0f]&&(_0x56959e[_0x5a7b0f]={'score':0x0,'answers':[]});}),await updateDoc(_0x4a6739,{'responses':_0x56959e});}document['getElementById'](_0x219356(0xa86))[_0x219356(0x396)][_0x219356(0x46b)]('hidden'),renderTeamQuizQuestion();const _0x1f0a39={'gameId':currentTeamQuizId,'mode':_0x290912[_0x219356(0x3c3)]||_0x219356(0xcd2),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem']('activeGameSession',JSON[_0x219356(0x25e)](_0x1f0a39)),listenForTeamQuizUpdates();}catch(_0x30bd3b){console[_0x219356(0x728)](_0x219356(0xb07),_0x30bd3b),showMessage(_0x219356(0xabe));}}async function renderTeamQuizQuestion(){const _0x4cfa32=_0x569b7c;if(localQuestionIndex>=currentQuizData[_0x4cfa32(0x981)][_0x4cfa32(0xcda)]){displayTeamQuizFinalResults();return;}const _0x313274=currentQuizData[_0x4cfa32(0x981)][localQuestionIndex],_0x35653f=localTeamPlayers[localPlayerIndex],_0x53d3c9=_0x313274[_0x4cfa32(0x879)]||currentQuizData[_0x4cfa32(0x5c7)];let _0x3fe2ec=_0x313274['stem']||_0x313274[_0x4cfa32(0x332)],_0x343054='';switch(_0x53d3c9){case _0x4cfa32(0x27b):case'fill_in_with_choices':_0x343054=_0x313274['options'][_0x4cfa32(0xc3d)]((_0x5b07d8,_0x17489c)=>_0x4cfa32(0x387)+_0x17489c+_0x4cfa32(0xb37)+_0x17489c+_0x4cfa32(0x834)+_0x17489c+'\x22>'+_0x5b07d8+_0x4cfa32(0xcca))['join']('');break;case _0x4cfa32(0xa08):_0x343054=_0x4cfa32(0x6b3);break;case _0x4cfa32(0x934):case _0x4cfa32(0xcf8):_0x343054=_0x4cfa32(0xba8);break;case _0x4cfa32(0x489):_0x343054='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x313274[_0x4cfa32(0x1db)]['map'](_0x5e664d=>'<option\x20value=\x22'+_0x5e664d+'\x22>'+_0x5e664d+_0x4cfa32(0xaed))[_0x4cfa32(0xcbb)]('')+_0x4cfa32(0x5cd);break;default:_0x343054=_0x4cfa32(0x34b);break;}studentQuizArea[_0x4cfa32(0xa5b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x4cfa32(0x981)][_0x4cfa32(0xcda)]+_0x4cfa32(0xaea)+_0x35653f+_0x4cfa32(0x374)+(localQuestionIndex+0x1)+'.\x20'+_0x3fe2ec+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x313274[_0x4cfa32(0x456)]?_0x4cfa32(0x3ff)+_0x313274[_0x4cfa32(0x456)]+_0x4cfa32(0x3f0):'')+_0x4cfa32(0x96d)+_0x343054+_0x4cfa32(0xa06),studentQuizArea['classList'][_0x4cfa32(0x76f)](_0x4cfa32(0xb23));if(window[_0x4cfa32(0x858)])MathJax[_0x4cfa32(0x5cc)]([studentQuizArea]);document[_0x4cfa32(0xca0)](_0x4cfa32(0xa5d))['addEventListener'](_0x4cfa32(0xd52),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x3fd545=_0x569b7c,_0x12198b=currentQuizData['questions'][localQuestionIndex],_0x294417=_0x12198b['questionType']||currentQuizData[_0x3fd545(0x5c7)];let _0x48c585=null,_0x5c6ef8=![];if(_0x294417===_0x3fd545(0x934)||_0x294417===_0x3fd545(0xcf8)){const _0x26e198=document[_0x3fd545(0xb90)](_0x3fd545(0xa30));if(!_0x26e198||!_0x26e198[_0x3fd545(0xb85)][_0x3fd545(0xc9e)]()){showMessage(_0x3fd545(0x3ca));return;}_0x48c585=_0x26e198[_0x3fd545(0xb85)]['trim'](),_0x5c6ef8=await gradeShortAnswer(_0x48c585,_0x12198b);}else{const _0x372810=document[_0x3fd545(0xb90)](_0x3fd545(0x87f));if(!_0x372810||_0x372810[_0x3fd545(0xb85)]===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0x48c585=_0x372810['value'];switch(_0x294417){case _0x3fd545(0xa08):_0x5c6ef8=_0x48c585===_0x3fd545(0x6c7)===_0x12198b[_0x3fd545(0x69f)];break;case _0x3fd545(0x489):_0x5c6ef8=_0x48c585===_0x12198b[_0x3fd545(0x863)];break;default:_0x5c6ef8=parseInt(_0x48c585)===_0x12198b[_0x3fd545(0x481)];break;}}const _0x4f9903={'questionIndex':localQuestionIndex,'isCorrect':_0x5c6ef8},_0x13ca20=userId,_0x4da99a={['groups.'+_0x13ca20+_0x3fd545(0xc8d)]:arrayUnion(_0x4f9903)};_0x5c6ef8&&(_0x4da99a[_0x3fd545(0xbea)+_0x13ca20+_0x3fd545(0x7b0)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x4da99a),localQuestionIndex++,localQuestionIndex>=currentQuizData['questions'][_0x3fd545(0xcda)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x116311){console[_0x3fd545(0x728)](_0x3fd545(0x54f),_0x116311),showMessage(_0x3fd545(0x829));}}async function handleTeamAnswerSubmit(){const _0x5997c8=_0x569b7c,_0x3eefed=await getDoc(doc(db,'artifacts/'+appId+_0x5997c8(0x75a),currentTeamQuizId));if(!_0x3eefed[_0x5997c8(0x6c9)]())return;const _0x287dc8=_0x3eefed['data']();if(_0x287dc8[_0x5997c8(0x3c3)]===_0x5997c8(0x449)){handleGroupAnswerSubmit();return;}const _0x30b4a5=localTeamPlayers[localPlayerIndex],_0x57f5ba=currentQuizData[_0x5997c8(0x981)][localQuestionIndex],_0x40ed20=_0x57f5ba[_0x5997c8(0x879)]||currentQuizData[_0x5997c8(0x5c7)];let _0x24b7b1=null,_0x43f331=![];if(_0x40ed20===_0x5997c8(0x934)||_0x40ed20===_0x5997c8(0xcf8)){const _0x85fe28=document['querySelector'](_0x5997c8(0xa30));if(!_0x85fe28||!_0x85fe28['value'][_0x5997c8(0xc9e)]()){showMessage(_0x5997c8(0x675));return;}_0x24b7b1=_0x85fe28[_0x5997c8(0xb85)][_0x5997c8(0xc9e)](),_0x43f331=await gradeShortAnswer(_0x24b7b1,_0x57f5ba);}else{const _0x1f90b9=document[_0x5997c8(0xb90)](_0x5997c8(0x87f));if(!_0x1f90b9||_0x1f90b9[_0x5997c8(0xb85)]===''){showMessage(_0x5997c8(0x958));return;}_0x24b7b1=_0x1f90b9['value'];switch(_0x40ed20){case'true_false':_0x43f331=_0x24b7b1==='true'===_0x57f5ba[_0x5997c8(0x69f)];break;case _0x5997c8(0x489):_0x43f331=_0x24b7b1===_0x57f5ba['correctResponse'];break;default:_0x43f331=parseInt(_0x24b7b1)===_0x57f5ba[_0x5997c8(0x481)];break;}}const _0xe4e5f7={'questionIndex':localQuestionIndex,'isCorrect':_0x43f331,'answerValue':_0x24b7b1},_0x2daad3={[_0x5997c8(0x2ac)+_0x30b4a5+'.answers']:arrayUnion(_0xe4e5f7)};_0x43f331&&(_0x2daad3[_0x5997c8(0x2ac)+_0x30b4a5+_0x5997c8(0x7b0)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0x5997c8(0x75a),currentTeamQuizId),_0x2daad3),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x5997c8(0xcda)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x165115){console[_0x5997c8(0x728)]('Error\x20submitting\x20team\x20answer:',_0x165115),showMessage(_0x5997c8(0x829));}}async function displayTeamQuizFinalResults(){const _0x232954=_0x569b7c;studentQuizArea[_0x232954(0x396)][_0x232954(0x46b)](_0x232954(0xb23)),studentResultArea[_0x232954(0x396)][_0x232954(0x76f)](_0x232954(0xb23));const _0x262acd=doc(db,_0x232954(0x25b)+appId+_0x232954(0x75a),currentTeamQuizId),_0x38e2da=await getDoc(_0x262acd);if(!_0x38e2da[_0x232954(0x6c9)]()){studentResultArea['innerHTML']=_0x232954(0x3de);return;}const _0x4ec130=_0x38e2da[_0x232954(0x7f5)]();let _0x534b83=[];const _0x1fb3e0=_0x4ec130['mode']||_0x232954(0xcd2);if(_0x1fb3e0===_0x232954(0x449)){const _0x2bc9f0=_0x4ec130[_0x232954(0xaaa)][userId];_0x2bc9f0?_0x534b83=[{'name':_0x232954(0xbb4)+localTeamPlayers['join'](',\x20'),'score':_0x2bc9f0['score']||0x0}]:_0x534b83=[{'name':_0x232954(0x410),'score':_0x232954(0xbac)}];}else _0x534b83=localTeamPlayers[_0x232954(0xc3d)](_0xd3f4c7=>({'name':_0xd3f4c7,'score':_0x4ec130[_0x232954(0x5fe)][_0xd3f4c7]?.['score']||0x0}))[_0x232954(0x64b)]((_0x100d62,_0x1c25a7)=>_0x1c25a7[_0x232954(0x9f4)]-_0x100d62['score']);studentResultArea[_0x232954(0xa5b)]=_0x232954(0x289)+_0x534b83['map'](_0x15518c=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x15518c[_0x232954(0x5bd)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x15518c[_0x232954(0x9f4)]+_0x232954(0x31e))[_0x232954(0xcbb)]('')+_0x232954(0xab2),sessionStorage[_0x232954(0x4f3)]('activeGameSession'),currentMode===_0x232954(0x42a)&&currentTeamQuizId&&setTimeout(()=>{const _0x50360f=_0x232954;deleteDoc(doc(db,_0x50360f(0x25b)+appId+_0x50360f(0x75a),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':_0x569b7c(0x9df),'name':'การนับ'},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0x9ba)},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0x1fc)},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0xb34)},{'category':_0x569b7c(0x9df),'name':'การบวก'},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0x597)},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0x2fb)},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0x47d)},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มบวก'},{'category':_0x569b7c(0x9df),'name':'จำนวนเต็มลบ'},{'category':_0x569b7c(0x9df),'name':'ศูนย์'},{'category':'จำนวนและการดำเนินการ','name':_0x569b7c(0x8fb)},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0x1e1)},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0xd20)},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0x82f)},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0x5ef)},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0x5c1)},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0x2da)},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0x67f)},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0x57f)},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0x88a)},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0x732)},{'category':_0x569b7c(0x9df),'name':'การหารเศษส่วน'},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0x895)},{'category':'จำนวนและการดำเนินการ','name':_0x569b7c(0xbf1)},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0x885)},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0x217)},{'category':'จำนวนและการดำเนินการ','name':'การคูณทศนิยม'},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0x668)},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0x30d)},{'category':'จำนวนและการดำเนินการ','name':_0x569b7c(0x77c)},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0x6be)},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0xb9f)},{'category':'จำนวนและการดำเนินการ','name':_0x569b7c(0x862)},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0x8ec)},{'category':_0x569b7c(0x9df),'name':_0x569b7c(0x9b7)},{'category':'จำนวนและการดำเนินการ','name':_0x569b7c(0xd3a)},{'category':'การวัด','name':_0x569b7c(0xc60)},{'category':'การวัด','name':_0x569b7c(0x9c5)},{'category':_0x569b7c(0x823),'name':_0x569b7c(0xada)},{'category':'การวัด','name':_0x569b7c(0x7ac)},{'category':_0x569b7c(0x823),'name':_0x569b7c(0x891)},{'category':'การวัด','name':_0x569b7c(0xb01)},{'category':_0x569b7c(0x823),'name':'พื้นที่สี่เหลี่ยม'},{'category':_0x569b7c(0x823),'name':_0x569b7c(0x9af)},{'category':_0x569b7c(0x823),'name':_0x569b7c(0x700)},{'category':'การวัด','name':_0x569b7c(0x52a)},{'category':_0x569b7c(0x823),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x569b7c(0x823),'name':'มุมและการวัดมุม'},{'category':_0x569b7c(0x823),'name':'สเกลและแผนที่'},{'category':_0x569b7c(0x823),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x569b7c(0x22c),'name':_0x569b7c(0xc25)},{'category':'เรขาคณิต','name':_0x569b7c(0x590)},{'category':_0x569b7c(0x22c),'name':_0x569b7c(0x725)},{'category':_0x569b7c(0x22c),'name':_0x569b7c(0x9af)},{'category':_0x569b7c(0x22c),'name':_0x569b7c(0x92d)},{'category':'เรขาคณิต','name':_0x569b7c(0xa2c)},{'category':_0x569b7c(0x22c),'name':_0x569b7c(0xb53)},{'category':'เรขาคณิต','name':_0x569b7c(0xc30)},{'category':_0x569b7c(0x22c),'name':_0x569b7c(0xd47)},{'category':_0x569b7c(0x22c),'name':_0x569b7c(0x2d5)},{'category':_0x569b7c(0x22c),'name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':'เรขาคณิต','name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':_0x569b7c(0x22c),'name':_0x569b7c(0x9fb)},{'category':_0x569b7c(0x22c),'name':_0x569b7c(0x34e)},{'category':_0x569b7c(0x22c),'name':_0x569b7c(0x955)},{'category':_0x569b7c(0x6f2),'name':_0x569b7c(0x464)},{'category':_0x569b7c(0x6f2),'name':_0x569b7c(0xa95)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x569b7c(0x5f7)},{'category':_0x569b7c(0x6f2),'name':_0x569b7c(0x696)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0x569b7c(0x6f2),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0x569b7c(0x6f2),'name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':_0x569b7c(0x6f2),'name':_0x569b7c(0x6bb)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการค่าสัมบูรณ์'},{'category':_0x569b7c(0x6f2),'name':_0x569b7c(0x735)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x569b7c(0xb76)},{'category':_0x569b7c(0x6f2),'name':_0x569b7c(0x919)},{'category':_0x569b7c(0x6f2),'name':'สมการลอการิทึม'},{'category':_0x569b7c(0x6f2),'name':_0x569b7c(0x7a9)},{'category':'พีชคณิตและฟังก์ชัน','name':'อสมการค่าสัมบูรณ์'},{'category':_0x569b7c(0x6f2),'name':_0x569b7c(0x5ed)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x569b7c(0x358)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x569b7c(0xb63)},{'category':_0x569b7c(0x6f2),'name':_0x569b7c(0x7a2)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x569b7c(0xd25)},{'category':_0x569b7c(0x6f2),'name':_0x569b7c(0x24d)},{'category':_0x569b7c(0x6f2),'name':_0x569b7c(0x993)},{'category':_0x569b7c(0x6f2),'name':_0x569b7c(0x3a9)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x569b7c(0x5d6)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x569b7c(0xbe0)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x569b7c(0xaac)},{'category':_0x569b7c(0x6f2),'name':_0x569b7c(0x31a)},{'category':_0x569b7c(0x6f2),'name':_0x569b7c(0x5b7)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันยกกำลัง'},{'category':_0x569b7c(0x6f2),'name':_0x569b7c(0xc69)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x569b7c(0x971)},{'category':'พีชคณิตและฟังก์ชัน','name':'ลำดับเรขาคณิต\x20(GP)'},{'category':_0x569b7c(0x6f2),'name':_0x569b7c(0x84f)},{'category':_0x569b7c(0x6f2),'name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':'พีชคณิตและฟังก์ชัน','name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x569b7c(0x2dc),'name':_0x569b7c(0xa18)},{'category':_0x569b7c(0x2dc),'name':_0x569b7c(0xbb9)},{'category':_0x569b7c(0x2dc),'name':_0x569b7c(0x5b1)},{'category':_0x569b7c(0x2dc),'name':_0x569b7c(0x7da)},{'category':'เรขาคณิตวิเคราะห์','name':_0x569b7c(0x4b2)},{'category':_0x569b7c(0x2dc),'name':_0x569b7c(0x422)},{'category':_0x569b7c(0x2dc),'name':_0x569b7c(0x253)},{'category':'เรขาคณิตวิเคราะห์','name':_0x569b7c(0xd41)},{'category':_0x569b7c(0x2dc),'name':_0x569b7c(0x64f)},{'category':_0x569b7c(0xc6e),'name':_0x569b7c(0xcdd)},{'category':_0x569b7c(0xc6e),'name':_0x569b7c(0x3b7)},{'category':_0x569b7c(0xc6e),'name':_0x569b7c(0x3fa)},{'category':'ตรีโกณมิติ','name':_0x569b7c(0x7a4)},{'category':_0x569b7c(0xc6e),'name':_0x569b7c(0xa8e)},{'category':'ตรีโกณมิติ','name':_0x569b7c(0x35e)},{'category':_0x569b7c(0xc6e),'name':_0x569b7c(0x4ac)},{'category':_0x569b7c(0xc6e),'name':_0x569b7c(0x8a8)},{'category':_0x569b7c(0xc6e),'name':_0x569b7c(0x402)},{'category':_0x569b7c(0xc6e),'name':_0x569b7c(0x847)},{'category':_0x569b7c(0xc6e),'name':_0x569b7c(0x4a4)},{'category':_0x569b7c(0x54e),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':'สถิติและความน่าจะเป็น','name':_0x569b7c(0x7f4)},{'category':_0x569b7c(0x54e),'name':_0x569b7c(0x57d)},{'category':_0x569b7c(0x54e),'name':_0x569b7c(0xd05)},{'category':'สถิติและความน่าจะเป็น','name':_0x569b7c(0x585)},{'category':_0x569b7c(0x54e),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x569b7c(0x54e),'name':_0x569b7c(0xc2d)},{'category':_0x569b7c(0x54e),'name':_0x569b7c(0x216)},{'category':'สถิติและความน่าจะเป็น','name':_0x569b7c(0xb91)},{'category':_0x569b7c(0x54e),'name':_0x569b7c(0x3c7)},{'category':_0x569b7c(0x54e),'name':_0x569b7c(0x615)},{'category':_0x569b7c(0x54e),'name':'ความแปรปรวน'},{'category':_0x569b7c(0x54e),'name':_0x569b7c(0x1bc)},{'category':_0x569b7c(0x54e),'name':_0x569b7c(0xc27)},{'category':'สถิติและความน่าจะเป็น','name':_0x569b7c(0xca4)},{'category':_0x569b7c(0x54e),'name':_0x569b7c(0xd34)},{'category':_0x569b7c(0x54e),'name':_0x569b7c(0xba2)},{'category':'สถิติและความน่าจะเป็น','name':_0x569b7c(0x3e9)},{'category':'สถิติและความน่าจะเป็น','name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':_0x569b7c(0x54e),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':'สถิติและความน่าจะเป็น','name':_0x569b7c(0x7a8)},{'category':'สถิติและความน่าจะเป็น','name':_0x569b7c(0x2b1)},{'category':_0x569b7c(0x54e),'name':_0x569b7c(0x99f)},{'category':_0x569b7c(0x54e),'name':_0x569b7c(0x4a2)},{'category':_0x569b7c(0x71d),'name':'ลิมิต'},{'category':'แคลคูลัสเบื้องต้น','name':_0x569b7c(0x504)},{'category':'แคลคูลัสเบื้องต้น','name':_0x569b7c(0x85d)},{'category':_0x569b7c(0x71d),'name':_0x569b7c(0x6cb)},{'category':_0x569b7c(0x71d),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0x569b7c(0x71d),'name':_0x569b7c(0xc9b)},{'category':_0x569b7c(0x71d),'name':'ความชันเส้นสัมผัส'},{'category':_0x569b7c(0x71d),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':_0x569b7c(0x71d),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x569b7c(0x71d),'name':_0x569b7c(0xa79)},{'category':_0x569b7c(0x71d),'name':_0x569b7c(0xb10)},{'category':_0x569b7c(0x71d),'name':_0x569b7c(0x2d0)},{'category':_0x569b7c(0x71d),'name':_0x569b7c(0xc32)},{'category':_0x569b7c(0xbbe),'name':_0x569b7c(0x4c0)},{'category':_0x569b7c(0xbbe),'name':_0x569b7c(0x32c)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':_0x569b7c(0xbbe),'name':_0x569b7c(0x98a)},{'category':_0x569b7c(0xbbe),'name':_0x569b7c(0x8e8)},{'category':_0x569b7c(0xbbe),'name':_0x569b7c(0x58a)},{'category':_0x569b7c(0xbbe),'name':_0x569b7c(0x437)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x569b7c(0x9c7)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x569b7c(0x227)},{'category':_0x569b7c(0x1e8),'name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':_0x569b7c(0x1e8),'name':'ค่าเสื่อมราคา'},{'category':'คณิตการเงิน/บูรณาการ','name':'ร้อยละประยุกต์'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x569b7c(0x56d)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x569b7c(0x949)},{'category':_0x569b7c(0x667),'name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x44cd35=_0x569b7c,_0x3331d8=document[_0x44cd35(0xca0)](_0x44cd35(0x555));if(!_0x3331d8)return;const _0x443ba4=allMathTopics,_0x307e11=customMathTopics[_0x44cd35(0xc3d)](_0x2f50a7=>({'id':_0x2f50a7['id'],'category':_0x44cd35(0xca5),'name':_0x2f50a7[_0x44cd35(0x5bd)]})),_0x36a54a=[..._0x443ba4,..._0x307e11],_0xd8a23f=_0x36a54a[_0x44cd35(0x5c5)]((_0x2c6284,_0x1cb524)=>{const _0x4bece6=_0x44cd35;return!_0x2c6284[_0x1cb524[_0x4bece6(0x979)]]&&(_0x2c6284[_0x1cb524['category']]=[]),_0x2c6284[_0x1cb524['category']][_0x4bece6(0xae7)](_0x1cb524),_0x2c6284;},{});let _0xdaca1b='';const _0x250873=[_0x44cd35(0xca5),...Object[_0x44cd35(0x65a)](_0xd8a23f)[_0x44cd35(0x959)](_0xc16d84=>_0xc16d84!=='หัวข้อที่สร้างเอง')];for(const _0xd4fc3d of _0x250873){if(_0xd8a23f[_0xd4fc3d]){const _0x28394c=_0xd4fc3d===_0x44cd35(0xca5),_0x4050e6=_0x28394c?'fas\x20fa-user-edit':_0x44cd35(0xaeb),_0x39bb01=_0x28394c?_0x44cd35(0x97f):'text-indigo-700';_0xdaca1b+=_0x44cd35(0xb8a),_0xdaca1b+=_0x44cd35(0x433)+_0x39bb01+_0x44cd35(0x818)+_0x4050e6+_0x44cd35(0x635)+_0xd4fc3d+_0x44cd35(0xb3a),_0xd8a23f[_0xd4fc3d]['forEach'](_0x1cac37=>{const _0x1519f3=_0x44cd35,_0x479774=!!_0x1cac37['id'],_0x41c36b=_0x479774?_0x1519f3(0xb44)+_0x1cac37['id']+_0x1519f3(0x259)+_0x1cac37['id']+_0x1519f3(0x9c1)+_0x1cac37['id']+_0x1519f3(0xd18)+_0x1cac37['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0xdaca1b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x1cac37['id']||'')+_0x1519f3(0xc88)+_0x1cac37[_0x1519f3(0x5bd)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x1cac37['name']+_0x1519f3(0xb18)+(_0x479774?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x1cac37[_0x1519f3(0x5bd)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x41c36b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xdaca1b+=_0x44cd35(0x3f0);}}_0x3331d8[_0x44cd35(0xa5b)]=_0xdaca1b||_0x44cd35(0x968),_0x3331d8[_0x44cd35(0xd44)](_0x44cd35(0x6a2),updateSelectedTopicsCount),_0x3331d8[_0x44cd35(0x79b)](_0x44cd35(0x6a2),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x589c8c,_0x2a2c2d){const _0x1c173c=_0x569b7c;if(!_0x589c8c||!_0x2a2c2d[_0x1c173c(0xc9e)]()){showMessage(_0x1c173c(0xb92));return;}try{const _0x14dd4c=doc(db,'artifacts/'+appId+_0x1c173c(0x409),_0x589c8c);await updateDoc(_0x14dd4c,{'name':_0x2a2c2d[_0x1c173c(0xc9e)]()}),showMessage(_0x1c173c(0x6df));}catch(_0x139fee){console[_0x1c173c(0x728)]('Error\x20updating\x20custom\x20topic:',_0x139fee),showMessage(_0x1c173c(0x9e0));}}function toggleTopicEditMode(_0x1c1b55,_0x4cd539){const _0x5e48b7=_0x569b7c;if(!_0x1c1b55)return;const _0x1a9d24=_0x1c1b55[_0x5e48b7(0xb90)](_0x5e48b7(0x652)),_0x3e0d89=_0x1c1b55[_0x5e48b7(0xb90)](_0x5e48b7(0x5e6)),_0x5b7483=_0x1c1b55[_0x5e48b7(0xb90)]('.topic-actions-view'),_0x311e5d=_0x1c1b55['querySelector'](_0x5e48b7(0x29f));_0x1a9d24['classList'][_0x5e48b7(0x51b)](_0x5e48b7(0xb23),_0x4cd539),_0x3e0d89[_0x5e48b7(0x396)][_0x5e48b7(0x51b)](_0x5e48b7(0xb23),!_0x4cd539),_0x5b7483[_0x5e48b7(0x396)][_0x5e48b7(0x51b)](_0x5e48b7(0xb23),_0x4cd539),_0x311e5d[_0x5e48b7(0x396)]['toggle']('hidden',!_0x4cd539),_0x4cd539&&(_0x3e0d89['focus'](),_0x3e0d89[_0x5e48b7(0xc3a)]());}async function handleStartLiveRace(_0x3bdc16){const _0x533b7c=_0x569b7c;let _0x4b350a=allQuizzes[_0x533b7c(0xd14)](_0x8e3571=>_0x8e3571['id']===_0x3bdc16);if(!_0x4b350a){const _0x478b73=doc(db,_0x533b7c(0x25b)+appId+'/public/data/quizzes',_0x3bdc16),_0x4c8cae=await getDoc(_0x478b73);if(!_0x4c8cae[_0x533b7c(0x6c9)]()){showMessage(_0x533b7c(0x4f6));return;}_0x4b350a={'id':_0x4c8cae['id'],..._0x4c8cae['data']()};}const _0x584e34=getShuffledQuiz(_0x4b350a);currentQuizData=_0x584e34;const _0x19aff1=_0x4b350a[_0x533b7c(0xadc)]||currentProjectId||null,_0x1e5b55=Math[_0x533b7c(0xc71)](0x3e8+Math[_0x533b7c(0x7ff)]()*0x2328)[_0x533b7c(0xae2)]();currentLiveGamePin=_0x1e5b55;try{const _0x13f93c=await addDoc(collection(db,_0x533b7c(0x25b)+appId+_0x533b7c(0x9e1)),{'quizId':_0x3bdc16,'projectId':_0x19aff1,'status':_0x533b7c(0x3e1),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x1e5b55,'createdAt':serverTimestamp(),'shuffledQuiz':_0x584e34});currentLiveGameId=_0x13f93c['id'],showAdminLobbyView(_0x1e5b55,_0x4b350a[_0x533b7c(0xaf8)]),listenForLiveGameUpdates();}catch(_0x5a7303){console[_0x533b7c(0x728)](_0x533b7c(0xc7a),_0x5a7303),showMessage(_0x533b7c(0x1c9));}}function updateSelectedTopicsCount(){const _0x402da4=_0x569b7c,_0xa1e901=document[_0x402da4(0xca0)](_0x402da4(0x555)),_0x162f58=_0xa1e901[_0x402da4(0x31c)](_0x402da4(0x5a1))[_0x402da4(0xcda)],_0x4c7fcd=document[_0x402da4(0xca0)](_0x402da4(0x7ba));_0x162f58>0x0?_0x4c7fcd[_0x402da4(0x8a5)]=_0x402da4(0x475)+_0x162f58+_0x402da4(0xa24):_0x4c7fcd['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x569b7c(0xa9a),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x569b7c(0x7c9),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor='rgba(255,\x20255,\x200,\x200.5)',scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x569b7c(0x799),scratchpadPenColor=_0x569b7c(0x621),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x2e3cc1,_0x117190){const _0x2a6b34=_0x569b7c;return Math[_0x2a6b34(0x8f7)](Math['pow'](_0x2e3cc1['x']-_0x117190['x'],0x2)+Math[_0x2a6b34(0xcb7)](_0x2e3cc1['y']-_0x117190['y'],0x2));}function getMidpoint(_0x3ac8f6,_0x7aa2c2){return{'x':(_0x3ac8f6['x']+_0x7aa2c2['x'])/0x2,'y':(_0x3ac8f6['y']+_0x7aa2c2['y'])/0x2};}function getTransformedPoint(_0x1b31e1,_0x30eea7){return{'x':(_0x1b31e1-scratchpadOffset['x'])/scratchpadScale,'y':(_0x30eea7-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x2ec4a0=_0x569b7c;if(!scratchpadCtx)return;const _0x177106=scratchpadCtx[_0x2ec4a0(0x727)],_0x51b6ee=window[_0x2ec4a0(0x279)]||0x1,_0x3dd616=document['getElementById'](_0x2ec4a0(0x371));_0x3dd616&&(_0x3dd616[_0x2ec4a0(0x7fc)]['transformOrigin']=_0x2ec4a0(0x973),_0x3dd616[_0x2ec4a0(0x7fc)]['transform']='translate('+scratchpadOffset['x']+_0x2ec4a0(0x855)+scratchpadOffset['y']+'px)\x20scale('+scratchpadScale+')'),scratchpadCtx[_0x2ec4a0(0x9f6)](),scratchpadCtx['setTransform'](_0x51b6ee,0x0,0x0,_0x51b6ee,0x0,0x0),scratchpadCtx['clearRect'](0x0,0x0,_0x177106['width'],_0x177106[_0x2ec4a0(0x313)]),scratchpadCtx['restore'](),scratchpadCtx[_0x2ec4a0(0x9f6)](),scratchpadCtx[_0x2ec4a0(0xaa8)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x2ec4a0(0x898)](scratchpadScale,scratchpadScale),strokes['forEach'](_0x2b4e3c=>{drawStroke(_0x2b4e3c);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x2ec4a0(0x213)]();}function renderGroupModeQuestion(){const _0x4c79de=_0x569b7c;if(localQuestionIndex>=currentQuizData['questions'][_0x4c79de(0xcda)]){displayTeamQuizFinalResults();return;}const _0x1ae3d8=currentQuizData[_0x4c79de(0x981)][localQuestionIndex],_0x4af0af=_0x1ae3d8[_0x4c79de(0x879)]||currentQuizData['quizType'];let _0x4a9376=_0x1ae3d8[_0x4c79de(0x73f)]||_0x1ae3d8[_0x4c79de(0x332)],_0x441ff4='';switch(_0x4af0af){case _0x4c79de(0x27b):case _0x4c79de(0xa44):_0x441ff4=_0x1ae3d8[_0x4c79de(0xb7c)][_0x4c79de(0xc3d)]((_0x34d371,_0x4d201c)=>_0x4c79de(0x387)+_0x4d201c+_0x4c79de(0xb37)+_0x4d201c+_0x4c79de(0x834)+_0x4d201c+'\x22>'+_0x34d371+'</label></div>')[_0x4c79de(0xcbb)]('');break;case'true_false':_0x441ff4='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0x4c79de(0x934):case _0x4c79de(0xcf8):_0x441ff4=_0x4c79de(0x3ad);break;case _0x4c79de(0x489):_0x441ff4='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x1ae3d8[_0x4c79de(0x1db)][_0x4c79de(0xc3d)](_0x441144=>_0x4c79de(0x2df)+_0x441144+'\x22>'+_0x441144+_0x4c79de(0xaed))['join']('')+_0x4c79de(0x5cd);break;default:_0x441ff4='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x4c79de(0xa5b)]=_0x4c79de(0xcd3)+(localQuestionIndex+0x1)+_0x4c79de(0xb05)+currentQuizData['questions'][_0x4c79de(0xcda)]+_0x4c79de(0x96a)+localTeamPlayers[_0x4c79de(0xcbb)](',\x20')+_0x4c79de(0x374)+(localQuestionIndex+0x1)+'.\x20'+_0x4a9376+_0x4c79de(0x96b)+(_0x1ae3d8['imageCode']?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1ae3d8['imageCode']+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x441ff4+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x4c79de(0x396)][_0x4c79de(0x76f)](_0x4c79de(0xb23));if(window[_0x4c79de(0x858)])MathJax['typesetPromise']([studentQuizArea]);document['getElementById']('submit-group-answer-btn')[_0x4c79de(0x79b)](_0x4c79de(0xd52),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x4280d6,_0x3ece4b=null,_0x5c944d,_0x4bb496=null,_0x4f55da=![],_0x113757=null){const _0x319a06=_0x569b7c,_0x1d4760=document['getElementById'](_0x319a06(0x366));_0x1d4760&&_0x1d4760['scrollIntoView']({'behavior':_0x319a06(0xd10),'block':_0x319a06(0x708)}),generateQuiz(_0x4280d6,_0x3ece4b,null,_0x113757,!![],_0x5c944d,_0x4bb496,_0x4f55da);}function handleGenerateAndShowLesson(_0xba935f,_0x1b9ee9){const _0xfd0708=_0x569b7c,_0x3b1779=document[_0xfd0708(0xca0)]('lesson-view-modal'),_0x25dee6=document[_0xfd0708(0xca0)](_0xfd0708(0xa94)),_0x2a135c=document[_0xfd0708(0xca0)](_0xfd0708(0x5b6)),_0xfdb6b6=document[_0xfd0708(0xca0)](_0xfd0708(0x609));[_0xfd0708(0x93c),_0xfd0708(0xc6a),_0xfd0708(0x689),'summaryContent']['forEach'](_0x579bff=>{const _0x325de8=_0xfd0708,_0xf07172=document[_0x325de8(0xca0)](_0x579bff)[_0x325de8(0xd2f)];_0xf07172&&(_0xf07172[_0x325de8(0x7fc)][_0x325de8(0x71f)]=_0x325de8(0x845));}),_0x25dee6[_0xfd0708(0x8a5)]=_0xfd0708(0x28e)+_0xba935f,_0xfdb6b6['classList'][_0xfd0708(0x46b)](_0xfd0708(0xb23)),_0x2a135c[_0xfd0708(0x396)][_0xfd0708(0x76f)](_0xfd0708(0xb23)),_0x3b1779[_0xfd0708(0x396)]['remove'](_0xfd0708(0xb23)),generateLesson(_0xba935f,_0x1b9ee9)[_0xfd0708(0x7c1)](_0x1483cb=>{const _0x5f2165=_0xfd0708;console['error'](_0x5f2165(0x655),_0x1483cb),showMessage(_0x5f2165(0x373)),_0x3b1779[_0x5f2165(0x396)][_0x5f2165(0x46b)](_0x5f2165(0xb23));});}function handlePointerDown(_0x5ca4f2){const _0x52ab05=_0x569b7c;_0x5ca4f2[_0x52ab05(0x631)]();const _0x5e309d=scratchpadCtx[_0x52ab05(0x727)],_0x31e218=_0x5e309d[_0x52ab05(0x815)](),_0x2e7db3=_0x5ca4f2[_0x52ab05(0xb51)]||(_0x5ca4f2['touches']?_0x52ab05(0x730):_0x52ab05(0x924));if(_0x2e7db3===_0x52ab05(0x799)||_0x2e7db3===_0x52ab05(0x924)){if(_0x5ca4f2['pointerType']===_0x52ab05(0x924)&&_0x5ca4f2['button']!==0x0){_0x5ca4f2[_0x52ab05(0x654)]===0x1&&(isMousePanning=!![],panStart={'x':_0x5ca4f2[_0x52ab05(0x840)],'y':_0x5ca4f2[_0x52ab05(0x8cb)]},_0x5e309d['style'][_0x52ab05(0xc47)]=_0x52ab05(0xc80));return;}activeTool===_0x52ab05(0x932)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x54c25b=getTransformedPoint(_0x5ca4f2[_0x52ab05(0x840)]-_0x31e218['left'],_0x5ca4f2['clientY']-_0x31e218[_0x52ab05(0xbb0)]);let _0x112705={'tool':activeTool,'points':[_0x54c25b]};if(activeTool===_0x52ab05(0xaaf))_0x112705[_0x52ab05(0x55c)]=scratchpadHighlighterColor,_0x112705['size']=scratchpadHighlighterSize;else activeTool===_0x52ab05(0x932)?(_0x112705['color']=scratchpadPenColor,_0x112705[_0x52ab05(0x697)]=scratchpadPenSize):(_0x112705['color']=scratchpadPenColor,_0x112705[_0x52ab05(0x697)]=scratchpadPenSize);currentStroke=_0x112705;}else _0x5ca4f2[_0x52ab05(0x8f1)]&&(_0x5ca4f2[_0x52ab05(0x8f1)][_0x52ab05(0xcda)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x5ca4f2[_0x52ab05(0x8f1)][0x0][_0x52ab05(0x840)],'y':_0x5ca4f2[_0x52ab05(0x8f1)][0x0][_0x52ab05(0x8cb)]},{'x':_0x5ca4f2[_0x52ab05(0x8f1)][0x1][_0x52ab05(0x840)],'y':_0x5ca4f2[_0x52ab05(0x8f1)][0x1][_0x52ab05(0x8cb)]}),initialPinchDistance=getDistance({'x':_0x5ca4f2['touches'][0x0][_0x52ab05(0x840)],'y':_0x5ca4f2[_0x52ab05(0x8f1)][0x0][_0x52ab05(0x8cb)]},{'x':_0x5ca4f2[_0x52ab05(0x8f1)][0x1][_0x52ab05(0x840)],'y':_0x5ca4f2[_0x52ab05(0x8f1)][0x1]['clientY']})));}function animateTrail(){const _0x4e8f9e=_0x569b7c,_0x4430a0=Date[_0x4e8f9e(0x721)]();let _0x3fdd89=![];for(let _0x4cb95a=strokes[_0x4e8f9e(0xcda)]-0x1;_0x4cb95a>=0x0;_0x4cb95a--){const _0x241828=strokes[_0x4cb95a];if(_0x241828[_0x4e8f9e(0x6f6)]===_0x4e8f9e(0x932)&&_0x241828[_0x4e8f9e(0xaee)]){const _0x100900=_0x4430a0-_0x241828[_0x4e8f9e(0xaee)];_0x100900>=TRAIL_DURATION?strokes['splice'](_0x4cb95a,0x1):(_0x241828[_0x4e8f9e(0x79c)]=0x1-_0x100900/TRAIL_DURATION,_0x3fdd89=!![]);}}redrawScratchpad(),_0x3fdd89?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x2d2b34){const _0x5db33f=_0x569b7c;if(!_0x2d2b34||_0x2d2b34[_0x5db33f(0x46f)][_0x5db33f(0xcda)]<0x1)return;scratchpadCtx[_0x5db33f(0x9f6)](),scratchpadCtx[_0x5db33f(0x9a8)]='round',scratchpadCtx[_0x5db33f(0x1be)]=_0x5db33f(0xc99);if(_0x2d2b34[_0x5db33f(0x6f6)]===_0x5db33f(0x932)){const _0x174985=_0x2d2b34[_0x5db33f(0x697)]/scratchpadScale;scratchpadCtx['globalAlpha']=_0x2d2b34['opacity']??0x1,scratchpadCtx['shadowColor']=_0x5db33f(0x8f6),scratchpadCtx[_0x5db33f(0xc22)]=_0x174985*0x3,scratchpadCtx[_0x5db33f(0xcae)]=_0x5db33f(0x928),scratchpadCtx[_0x5db33f(0xafc)]=_0x174985*2.5,scratchpadCtx[_0x5db33f(0x23c)](),scratchpadCtx['moveTo'](_0x2d2b34['points'][0x0]['x'],_0x2d2b34[_0x5db33f(0x46f)][0x0]['y']);for(let _0x493da5=0x1;_0x493da5<_0x2d2b34['points'][_0x5db33f(0xcda)]-0x1;_0x493da5++){const _0x279a63=getMidpoint(_0x2d2b34[_0x5db33f(0x46f)][_0x493da5],_0x2d2b34[_0x5db33f(0x46f)][_0x493da5+0x1]);scratchpadCtx['quadraticCurveTo'](_0x2d2b34[_0x5db33f(0x46f)][_0x493da5]['x'],_0x2d2b34[_0x5db33f(0x46f)][_0x493da5]['y'],_0x279a63['x'],_0x279a63['y']);}scratchpadCtx[_0x5db33f(0x580)](),scratchpadCtx[_0x5db33f(0x793)]=_0x5db33f(0x65e),scratchpadCtx[_0x5db33f(0xc22)]=0x0,scratchpadCtx[_0x5db33f(0xcae)]=_0x5db33f(0xa45),scratchpadCtx['lineWidth']=_0x174985,scratchpadCtx[_0x5db33f(0x580)](),scratchpadCtx[_0x5db33f(0x255)]();}else{if(_0x2d2b34['tool']===_0x5db33f(0xaaf)){scratchpadCtx['globalCompositeOperation']='multiply',scratchpadCtx['strokeStyle']=_0x2d2b34[_0x5db33f(0x55c)],scratchpadCtx[_0x5db33f(0xafc)]=_0x2d2b34[_0x5db33f(0x697)],scratchpadCtx[_0x5db33f(0x23c)](),scratchpadCtx[_0x5db33f(0x85a)](_0x2d2b34[_0x5db33f(0x46f)][0x0]['x'],_0x2d2b34[_0x5db33f(0x46f)][0x0]['y']);for(let _0x59c1c2=0x1;_0x59c1c2<_0x2d2b34[_0x5db33f(0x46f)][_0x5db33f(0xcda)]-0x1;_0x59c1c2++){const _0x5c07d1=getMidpoint(_0x2d2b34['points'][_0x59c1c2],_0x2d2b34['points'][_0x59c1c2+0x1]);scratchpadCtx[_0x5db33f(0x41b)](_0x2d2b34['points'][_0x59c1c2]['x'],_0x2d2b34[_0x5db33f(0x46f)][_0x59c1c2]['y'],_0x5c07d1['x'],_0x5c07d1['y']);}scratchpadCtx[_0x5db33f(0x580)](),scratchpadCtx[_0x5db33f(0x255)]();}else{scratchpadCtx[_0x5db33f(0x797)]=_0x2d2b34[_0x5db33f(0x6f6)]===_0x5db33f(0x96e)?_0x5db33f(0x988):_0x5db33f(0xb1a),scratchpadCtx['strokeStyle']=_0x2d2b34['color'],scratchpadCtx['lineWidth']=_0x2d2b34['size'],scratchpadCtx[_0x5db33f(0x23c)](),scratchpadCtx[_0x5db33f(0x85a)](_0x2d2b34['points'][0x0]['x'],_0x2d2b34['points'][0x0]['y']);for(let _0x5925f3=0x1;_0x5925f3<_0x2d2b34['points'][_0x5db33f(0xcda)]-0x1;_0x5925f3++){const _0x44caee=getMidpoint(_0x2d2b34['points'][_0x5925f3],_0x2d2b34[_0x5db33f(0x46f)][_0x5925f3+0x1]);scratchpadCtx[_0x5db33f(0x41b)](_0x2d2b34[_0x5db33f(0x46f)][_0x5925f3]['x'],_0x2d2b34[_0x5db33f(0x46f)][_0x5925f3]['y'],_0x44caee['x'],_0x44caee['y']);}scratchpadCtx[_0x5db33f(0x580)](),scratchpadCtx[_0x5db33f(0x255)]();}}scratchpadCtx['restore']();}function handlePointerMove(_0x4dfb45){const _0x3bc238=_0x569b7c;_0x4dfb45[_0x3bc238(0x631)]();const _0x2a31b3=scratchpadCtx['canvas'],_0x3fb059=_0x2a31b3['getBoundingClientRect']();if(_0x4dfb45[_0x3bc238(0x8f1)]){if(_0x4dfb45['touches'][_0x3bc238(0xcda)]===0x1&&isDrawingOnScratchpad){const _0x1837f1=getTransformedPoint(_0x4dfb45[_0x3bc238(0x8f1)][0x0][_0x3bc238(0x840)]-_0x3fb059[_0x3bc238(0x742)],_0x4dfb45['touches'][0x0][_0x3bc238(0x8cb)]-_0x3fb059[_0x3bc238(0xbb0)]);currentStroke[_0x3bc238(0x46f)][_0x3bc238(0xae7)](_0x1837f1),redrawScratchpad();}else{if(_0x4dfb45[_0x3bc238(0x8f1)][_0x3bc238(0xcda)]===0x2&&isPanning){const _0x34deb8=getDistance({'x':_0x4dfb45['touches'][0x0][_0x3bc238(0x840)],'y':_0x4dfb45[_0x3bc238(0x8f1)][0x0][_0x3bc238(0x8cb)]},{'x':_0x4dfb45[_0x3bc238(0x8f1)][0x1][_0x3bc238(0x840)],'y':_0x4dfb45[_0x3bc238(0x8f1)][0x1][_0x3bc238(0x8cb)]}),_0x90d63d=getMidpoint({'x':_0x4dfb45[_0x3bc238(0x8f1)][0x0][_0x3bc238(0x840)],'y':_0x4dfb45[_0x3bc238(0x8f1)][0x0]['clientY']},{'x':_0x4dfb45[_0x3bc238(0x8f1)][0x1][_0x3bc238(0x840)],'y':_0x4dfb45['touches'][0x1][_0x3bc238(0x8cb)]}),_0x11e58f=_0x34deb8/ initialPinchDistance,_0x42cfac=Math[_0x3bc238(0x710)](Math['max'](scratchpadScale*_0x11e58f,MIN_SCALE),MAX_SCALE),_0x2f857a=_0x90d63d['x']-panStart['x'],_0x79878=_0x90d63d['y']-panStart['y'];scratchpadOffset['x']=_0x90d63d['x']-(_0x90d63d['x']-scratchpadOffset['x'])*(_0x42cfac/scratchpadScale),scratchpadOffset['y']=_0x90d63d['y']-(_0x90d63d['y']-scratchpadOffset['y'])*(_0x42cfac/scratchpadScale),scratchpadOffset['x']+=_0x2f857a,scratchpadOffset['y']+=_0x79878,scratchpadScale=_0x42cfac,initialPinchDistance=_0x34deb8,panStart=_0x90d63d,redrawScratchpad();}}}else{if(isMousePanning){const _0x43cbf8=_0x4dfb45[_0x3bc238(0x840)]-panStart['x'],_0x25133d=_0x4dfb45[_0x3bc238(0x8cb)]-panStart['y'];scratchpadOffset['x']+=_0x43cbf8,scratchpadOffset['y']+=_0x25133d,panStart={'x':_0x4dfb45[_0x3bc238(0x840)],'y':_0x4dfb45[_0x3bc238(0x8cb)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x1fa5e8=getTransformedPoint(_0x4dfb45[_0x3bc238(0x840)]-_0x3fb059[_0x3bc238(0x742)],_0x4dfb45[_0x3bc238(0x8cb)]-_0x3fb059['top']);currentStroke['points']['push'](_0x1fa5e8),redrawScratchpad();}}}}function handlePointerUp(_0x3368da){const _0x3295a1=_0x569b7c;_0x3368da[_0x3295a1(0x631)]();const _0x43ffb9=scratchpadCtx[_0x3295a1(0x727)];isMousePanning&&(isMousePanning=![],_0x43ffb9[_0x3295a1(0x7fc)][_0x3295a1(0xc47)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x3295a1(0x46f)][_0x3295a1(0xcda)]>0x1&&(strokes[_0x3295a1(0xae7)](currentStroke),currentStroke['tool']===_0x3295a1(0x932)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0xb604a0=_0x3295a1,_0x553ae2=strokes[_0xb604a0(0x959)](_0xe5d06e=>_0xe5d06e[_0xb604a0(0x6f6)]===_0xb604a0(0x932)&&!_0xe5d06e['fadeStartTime']);if(_0x553ae2[_0xb604a0(0xcda)]>0x0){const _0x337984=Date[_0xb604a0(0x721)]();_0x553ae2[_0xb604a0(0xb32)](_0x26d45b=>_0x26d45b[_0xb604a0(0xaee)]=_0x337984),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x56b033){const _0x186731=_0x569b7c;_0x56b033[_0x186731(0x631)]();const _0x5bd769=_0x56b033[_0x186731(0xa23)]*-0.005,_0x54a3a7=Math[_0x186731(0x710)](Math[_0x186731(0x557)](scratchpadScale+_0x5bd769,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x56b033[_0x186731(0x840)]-(_0x56b033[_0x186731(0x840)]-scratchpadOffset['x'])*(_0x54a3a7/scratchpadScale),scratchpadOffset['y']=_0x56b033[_0x186731(0x8cb)]-(_0x56b033['clientY']-scratchpadOffset['y'])*(_0x54a3a7/scratchpadScale),scratchpadScale=_0x54a3a7,redrawScratchpad();}function undo(){const _0x2cd8c5=_0x569b7c;strokes[_0x2cd8c5(0xcda)]>0x0&&(redoStrokes[_0x2cd8c5(0xae7)](strokes[_0x2cd8c5(0xc33)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x36b5c0=_0x569b7c;redoStrokes[_0x36b5c0(0xcda)]>0x0&&(strokes['push'](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x20d837=_0x569b7c;document[_0x20d837(0xca0)](_0x20d837(0xd3d))[_0x20d837(0x7b4)]=strokes[_0x20d837(0xcda)]===0x0,document[_0x20d837(0xca0)](_0x20d837(0x258))[_0x20d837(0x7b4)]=redoStrokes['length']===0x0;}function openScratchpad(_0xffaed8,_0x43009d){const _0x1c7c16=_0x569b7c,_0x393529=document[_0x1c7c16(0xca0)](_0x1c7c16(0x398)),_0x16724f=document[_0x1c7c16(0xca0)]('scratchpad-question'),_0x351a9f=document[_0x1c7c16(0xca0)]('scratchpad-options'),_0x16a016=document['getElementById'](_0x1c7c16(0x776));_0x16724f[_0x1c7c16(0xa5b)]=_0xffaed8[_0x1c7c16(0x73f)]||_0xffaed8[_0x1c7c16(0x332)],_0x351a9f[_0x1c7c16(0xa5b)]=_0x43009d['map']((_0x2c2f67,_0xf9f9b2)=>_0x1c7c16(0x3c1)+String[_0x1c7c16(0x87b)](0x41+_0xf9f9b2)+'.\x20'+_0x2c2f67+_0x1c7c16(0x3f0))[_0x1c7c16(0xcbb)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x393529[_0x1c7c16(0x396)][_0x1c7c16(0x76f)]('hidden'),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x1c7c16(0x858)])MathJax[_0x1c7c16(0x5cc)]([_0x16724f,_0x351a9f]);}function openBlueprintQuizSettings(){const _0x19821a=_0x569b7c,_0x4fc464=document[_0x19821a(0xca0)](_0x19821a(0x9b6)),_0x3ff71f=blueprintPageSettings||(currentProjectData?currentProjectData['settings']:{})||{};document[_0x19821a(0xca0)]('bp-modal-quiz-type-select')['value']=_0x3ff71f[_0x19821a(0x5c7)]||document['getElementById'](_0x19821a(0x701))[_0x19821a(0xb85)],document[_0x19821a(0xca0)]('bp-modal-difficulty-level-select')[_0x19821a(0xa5b)]=document[_0x19821a(0xca0)](_0x19821a(0x8d4))[_0x19821a(0xa5b)],document[_0x19821a(0xca0)](_0x19821a(0xa32))[_0x19821a(0xb85)]=_0x3ff71f[_0x19821a(0x239)]||document[_0x19821a(0xca0)](_0x19821a(0x8d4))[_0x19821a(0xb85)],document[_0x19821a(0xca0)](_0x19821a(0xc1b))['innerHTML']=document[_0x19821a(0xca0)](_0x19821a(0x658))[_0x19821a(0xa5b)],document[_0x19821a(0xca0)](_0x19821a(0xc1b))[_0x19821a(0xb85)]=_0x3ff71f[_0x19821a(0x32a)]||document['getElementById'](_0x19821a(0x658))[_0x19821a(0xb85)],document[_0x19821a(0xca0)](_0x19821a(0x6ec))['value']=_0x3ff71f[_0x19821a(0xc5c)]||document[_0x19821a(0xca0)]('num-questions')[_0x19821a(0xb85)],document[_0x19821a(0xca0)](_0x19821a(0x514))[_0x19821a(0xb85)]=_0x3ff71f[_0x19821a(0x960)]||document[_0x19821a(0xca0)]('passing-score-input')['value'],document[_0x19821a(0xca0)](_0x19821a(0x990))[_0x19821a(0xb85)]=_0x3ff71f[_0x19821a(0xd02)]||document[_0x19821a(0xca0)]('num-choices')[_0x19821a(0xb85)],document['getElementById'](_0x19821a(0xa17))['value']=_0x3ff71f[_0x19821a(0x3d2)]||document[_0x19821a(0xca0)]('shuffle-setting-select')['value'],document['getElementById'](_0x19821a(0xa10))[_0x19821a(0x397)]=_0x3ff71f[_0x19821a(0x365)]||document['getElementById'](_0x19821a(0x84c))[_0x19821a(0x397)],_0x4fc464[_0x19821a(0x396)]['remove'](_0x19821a(0xb23));}function handleSaveBlueprintPageSettings(){const _0x10f396=_0x569b7c;blueprintPageSettings={'quizType':document[_0x10f396(0xca0)](_0x10f396(0xbde))[_0x10f396(0xb85)],'difficultyValue':document[_0x10f396(0xca0)]('bp-modal-difficulty-level-select')['value'],'complexityValue':document[_0x10f396(0xca0)](_0x10f396(0xc1b))[_0x10f396(0xb85)],'numQuestions':document['getElementById'](_0x10f396(0x6ec))[_0x10f396(0xb85)],'passingScore':document[_0x10f396(0xca0)](_0x10f396(0x514))[_0x10f396(0xb85)],'numChoices':document[_0x10f396(0xca0)](_0x10f396(0x990))[_0x10f396(0xb85)],'shuffle':document[_0x10f396(0xca0)]('bp-modal-shuffle-setting-select')[_0x10f396(0xb85)],'includeImages':document[_0x10f396(0xca0)](_0x10f396(0xa10))[_0x10f396(0x397)]},showMessage(_0x10f396(0x9cd)),document['getElementById'](_0x10f396(0x9b6))[_0x10f396(0x396)][_0x10f396(0x46b)](_0x10f396(0xb23));}function listenForParallelTestShortcuts(){const _0x18875f=_0x569b7c,_0x14f0e9=doc(db,'globalSettings',_0x18875f(0x312));onSnapshot(_0x14f0e9,_0x2c8c57=>{const _0x59840a=_0x18875f;let _0xa36df2=[],_0x2358bc=[],_0x4c000f={};if(_0x2c8c57['exists']()){const _0xd07d73=_0x2c8c57[_0x59840a(0x7f5)]();_0xa36df2=_0xd07d73[_0x59840a(0x688)]||[],_0x2358bc=_0xd07d73['parallelShortcutTabs']||[],_0x4c000f=_0xd07d73['parallelShortcutOrder']||{};}!_0x2358bc[_0x59840a(0xd14)](_0x3c1c32=>_0x3c1c32['id']===_0x59840a(0x606))&&_0x2358bc[_0x59840a(0x884)]({'id':_0x59840a(0x606),'name':_0x59840a(0xb22),'isDefault':!![]}),!_0xa36df2[_0x59840a(0xd14)](_0x390782=>_0x390782['id']===_0x59840a(0x488))&&_0xa36df2[_0x59840a(0x884)]({'id':_0x59840a(0x488),'name':_0x59840a(0xa83),'url':'','isDefault':!![]}),!_0xa36df2[_0x59840a(0xd14)](_0x39fc0e=>_0x39fc0e['id']===_0x59840a(0xcf4))&&_0xa36df2[_0x59840a(0x884)]({'id':'parallel-default-2','name':_0x59840a(0x2d7),'url':'','isDefault':!![]}),parallelTestShortcuts=_0xa36df2,parallelShortcutTabs=_0x2358bc,parallelShortcutOrder=_0x4c000f,renderParallelTestShortcuts(),!document[_0x59840a(0xca0)](_0x59840a(0x6c0))['classList'][_0x59840a(0x1d0)](_0x59840a(0xb23))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x496971=_0x569b7c,_0xa876f9=doc(db,'globalSettings','parallelTestShortcutsConfig');try{await setDoc(_0xa876f9,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x579b9f){console[_0x496971(0x728)](_0x496971(0x77b),_0x579b9f);}}function renderAdditionalParallelShortcutsModal(){const _0x3fbcf7=_0x569b7c,_0x45c260=document['getElementById']('parallel-shortcut-tabs-nav'),_0x4be0a2=document[_0x3fbcf7(0xca0)]('additional-parallel-shortcuts-list');if(!_0x45c260||!_0x4be0a2)return;_0x45c260[_0x3fbcf7(0xa5b)]=parallelShortcutTabs[_0x3fbcf7(0xc3d)](_0xdafa9c=>{const _0x111e5a=_0x3fbcf7,_0x3cfb43=_0xdafa9c['id']===activeParallelShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0xdafa9c['id']+_0x111e5a(0xbc0)+(_0x3cfb43?_0x111e5a(0xa50):_0x111e5a(0x91d))+_0x111e5a(0x69b)+_0xdafa9c[_0x111e5a(0x5bd)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0xdafa9c[_0x111e5a(0x5bd)]+_0x111e5a(0x7eb)+(!_0xdafa9c['isDefault']?'<button\x20data-tab-id=\x22'+_0xdafa9c['id']+_0x111e5a(0x6dd):'')+_0x111e5a(0x6fa);})['join']('');const _0x519f4b=parallelShortcutTabs[_0x3fbcf7(0xd14)](_0x552b9f=>_0x552b9f['id']===activeParallelShortcutTabId);let _0x528701=_0x519f4b?.['isDefault']?[...parallelTestShortcuts]:parallelTestShortcuts['filter'](_0x402232=>(_0x519f4b?.[_0x3fbcf7(0x8d0)]||[])[_0x3fbcf7(0x771)](_0x402232['id']));const _0x1c98c9=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x528701[_0x3fbcf7(0x64b)]((_0x2a8593,_0x576618)=>{const _0x396a10=_0x1c98c9['indexOf'](_0x2a8593['id']),_0x4d215e=_0x1c98c9['indexOf'](_0x576618['id']);return(_0x396a10===-0x1?Infinity:_0x396a10)-(_0x4d215e===-0x1?Infinity:_0x4d215e);}),_0x4be0a2['innerHTML']=_0x528701['map'](_0x29c1cc=>{const _0x5765b5=_0x3fbcf7,_0x51cb5e=_0x29c1cc['url']?'🔁':'🔗',_0x62b267=parallelShortcutTabs[_0x5765b5(0x959)](_0x5ae735=>!_0x5ae735[_0x5765b5(0x7dc)]),_0x11dfc7=_0x519f4b['isDefault']&&_0x62b267['length']>0x0?_0x5765b5(0xd4f)+_0x62b267[_0x5765b5(0xc3d)](_0x3afdf6=>_0x5765b5(0xd55)+_0x29c1cc['id']+_0x5765b5(0x9ad)+_0x3afdf6['id']+'\x22>'+_0x3afdf6[_0x5765b5(0x5bd)]+_0x5765b5(0x8fd))[_0x5765b5(0xcbb)]('')+_0x5765b5(0x333):'';return _0x5765b5(0x2c6)+_0x29c1cc['id']+_0x5765b5(0xcb2)+_0x51cb5e+'\x20'+_0x29c1cc['name']+_0x5765b5(0xc6b)+_0x29c1cc['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x29c1cc['id']+_0x5765b5(0x4b3)+(!_0x29c1cc['isDefault']?_0x5765b5(0x361)+_0x29c1cc['id']+_0x5765b5(0x53d):'')+_0x5765b5(0x5b5)+(!_0x519f4b[_0x5765b5(0x7dc)]?_0x5765b5(0x748)+_0x29c1cc['id']+_0x5765b5(0x903):'')+_0x5765b5(0x5b5)+_0x11dfc7+_0x5765b5(0xbf2);})[_0x3fbcf7(0xcbb)]('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0xe34357=_0x569b7c;document[_0xe34357(0x31c)](_0xe34357(0xb3f))[_0xe34357(0xb32)](_0x585b80=>{const _0x28a5ee=_0xe34357;_0x585b80[_0x28a5ee(0xbe8)]=_0x2bba1f=>{const _0x55168e=_0x28a5ee;activeParallelShortcutTabId=_0x2bba1f[_0x55168e(0x99a)]['dataset'][_0x55168e(0x817)],renderAdditionalParallelShortcutsModal();},_0x585b80[_0x28a5ee(0x7aa)]=_0x5ad6d1=>{const _0x2aa6c8=_0x28a5ee,_0x3e0f2e=_0x5ad6d1[_0x2aa6c8(0x99a)]['querySelector']('.tab-name-input');_0x5ad6d1['currentTarget']['querySelector'](_0x2aa6c8(0x5fa))[_0x2aa6c8(0x396)]['add']('hidden'),_0x3e0f2e[_0x2aa6c8(0x396)]['remove'](_0x2aa6c8(0xb23)),_0x3e0f2e[_0x2aa6c8(0x56f)](),_0x3e0f2e['select']();};}),document[_0xe34357(0x31c)](_0xe34357(0x7e7))[_0xe34357(0xb32)](_0x2e47f2=>{const _0x12c7f4=_0xe34357,_0x66d0da=()=>{const _0x64f809=_0x1447,_0x306e1a=_0x2e47f2[_0x64f809(0xa9f)](_0x64f809(0xb3f))[_0x64f809(0x507)][_0x64f809(0x817)],_0x130fec=parallelShortcutTabs[_0x64f809(0xd14)](_0x1f298b=>_0x1f298b['id']===_0x306e1a);_0x130fec&&(_0x130fec[_0x64f809(0x5bd)]=_0x2e47f2[_0x64f809(0xb85)][_0x64f809(0xc9e)]()||_0x130fec[_0x64f809(0x5bd)],saveParallelShortcutConfig());};_0x2e47f2['onblur']=_0x66d0da,_0x2e47f2[_0x12c7f4(0x777)]=_0x28cc80=>{const _0x2aeea1=_0x12c7f4;if(_0x28cc80[_0x2aeea1(0x9c4)]==='Enter')_0x2e47f2[_0x2aeea1(0xd09)]();};}),document[_0xe34357(0x31c)]('.delete-parallel-shortcut-tab-btn')['forEach'](_0x3374da=>_0x3374da['onclick']=_0x1b1c3f=>{const _0x2c6c77=_0xe34357,_0x481491=_0x1b1c3f[_0x2c6c77(0x99a)]['dataset']['tabId'];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{parallelShortcutTabs=parallelShortcutTabs['filter'](_0xde507c=>_0xde507c['id']!==_0x481491),delete parallelShortcutOrder[_0x481491];if(activeParallelShortcutTabId===_0x481491)activeParallelShortcutTabId='all';saveParallelShortcutConfig();});}),document[_0xe34357(0x31c)](_0xe34357(0xa6c))[_0xe34357(0xb32)](_0x4e3e8d=>_0x4e3e8d[_0xe34357(0xbe8)]=_0x23b721=>{const _0x48a5ec=_0xe34357;_0x23b721[_0x48a5ec(0x631)]();const {shortcutId:_0x3f7149,targetTabId:_0x2e65c5}=_0x23b721[_0x48a5ec(0x99a)][_0x48a5ec(0x507)],_0x346a7d=parallelShortcutTabs[_0x48a5ec(0xd14)](_0x37f340=>_0x37f340['id']===_0x2e65c5);_0x346a7d&&!_0x346a7d[_0x48a5ec(0x8d0)][_0x48a5ec(0x771)](_0x3f7149)&&(_0x346a7d[_0x48a5ec(0x8d0)][_0x48a5ec(0xae7)](_0x3f7149),saveParallelShortcutConfig());}),document[_0xe34357(0x31c)]('.remove-parallel-shortcut-from-tab-btn')['forEach'](_0x5b21d9=>_0x5b21d9[_0xe34357(0xbe8)]=_0x4dd8d6=>{const _0x2773db=_0xe34357,_0x32ae33=_0x4dd8d6[_0x2773db(0x99a)][_0x2773db(0x507)]['shortcutId'],_0x5b33f8=parallelShortcutTabs[_0x2773db(0xd14)](_0x525f80=>_0x525f80['id']===activeParallelShortcutTabId);_0x5b33f8&&!_0x5b33f8[_0x2773db(0x7dc)]&&(_0x5b33f8[_0x2773db(0x8d0)]=_0x5b33f8[_0x2773db(0x8d0)]['filter'](_0x56db4c=>_0x56db4c!==_0x32ae33),saveParallelShortcutConfig());}),document['querySelectorAll'](_0xe34357(0xa6e))[_0xe34357(0xb32)](_0x51a688=>_0x51a688[_0xe34357(0xbe8)]=_0x1a3e5e=>{const _0x4e0bc8=_0xe34357;_0x1a3e5e['stopPropagation']();const _0x551388=_0x1a3e5e['currentTarget'][_0x4e0bc8(0x2e3)];document[_0x4e0bc8(0x31c)](_0x4e0bc8(0x206))[_0x4e0bc8(0xb32)](_0x505c3b=>_0x505c3b[_0x4e0bc8(0x396)][_0x4e0bc8(0x46b)](_0x4e0bc8(0xb23))),_0x551388[_0x4e0bc8(0x396)][_0x4e0bc8(0x76f)](_0x4e0bc8(0xb23));});const _0x38b9e0=document[_0xe34357(0xca0)](_0xe34357(0xba5));let _0x52d42c=null;_0x38b9e0[_0xe34357(0x465)]=_0x3aa5b9=>{const _0x302229=_0xe34357;_0x52d42c=_0x3aa5b9[_0x302229(0xbe5)][_0x302229(0xa9f)](_0x302229(0x2e2));if(_0x52d42c)setTimeout(()=>_0x52d42c[_0x302229(0x396)][_0x302229(0x46b)]('opacity-50'),0x0);},_0x38b9e0[_0xe34357(0x459)]=()=>{const _0x224d60=_0xe34357;_0x52d42c&&(_0x52d42c['classList']['remove'](_0x224d60(0xbbc)),_0x52d42c=null);},_0x38b9e0[_0xe34357(0xab1)]=_0x2081fa=>{_0x2081fa['preventDefault']();},_0x38b9e0[_0xe34357(0x294)]=_0x1a41f7=>{const _0x5ca87c=_0xe34357;_0x1a41f7[_0x5ca87c(0x631)]();if(_0x52d42c){const _0xd7a9c9=[..._0x38b9e0['querySelectorAll'](_0x5ca87c(0x7e6))][_0x5ca87c(0x5c5)]((_0x5c4aff,_0x342ad8)=>{const _0x2950f5=_0x5ca87c,_0x4d14c1=_0x342ad8['getBoundingClientRect'](),_0x4780f3=_0x1a41f7[_0x2950f5(0x8cb)]-_0x4d14c1[_0x2950f5(0xbb0)]-_0x4d14c1[_0x2950f5(0x313)]/0x2;return _0x4780f3<0x0&&_0x4780f3>_0x5c4aff['offset']?{'offset':_0x4780f3,'element':_0x342ad8}:_0x5c4aff;},{'offset':Number['NEGATIVE_INFINITY']})['element'];_0xd7a9c9==null?_0x38b9e0[_0x5ca87c(0xac6)](_0x52d42c):_0x38b9e0[_0x5ca87c(0x4b5)](_0x52d42c,_0xd7a9c9);const _0x4c52f8=[..._0x38b9e0[_0x5ca87c(0x31c)](_0x5ca87c(0x2e2))][_0x5ca87c(0xc3d)](_0xbd8560=>_0xbd8560[_0x5ca87c(0x507)][_0x5ca87c(0x9db)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x4c52f8,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x173d17=_0x569b7c,_0x2f4347=prompt(_0x173d17(0x2f9),'แท็บใหม่');_0x2f4347&&_0x2f4347['trim']()&&(parallelShortcutTabs[_0x173d17(0xae7)]({'id':_0x173d17(0xbb8)+Date[_0x173d17(0x721)](),'name':_0x2f4347[_0x173d17(0xc9e)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x15a447=_0x569b7c,_0x2968cd=document['getElementById'](_0x15a447(0x29a)),_0x2249a4=document['getElementById'](_0x15a447(0xba5)),_0x3a0975=document[_0x15a447(0xca0)](_0x15a447(0x6d4));if(_0x3a0975)_0x3a0975[_0x15a447(0x396)][_0x15a447(0x46b)](_0x15a447(0xb23));if(!_0x2968cd||!_0x2249a4)return;const _0x5b7a63=parallelTestShortcuts['slice'](0x0,0x4),_0x5bbebc=parallelTestShortcuts['slice'](0x4);_0x2968cd[_0x15a447(0xa5b)]=_0x5b7a63[_0x15a447(0xc3d)](_0x4f0c57=>{const _0x1d536d=_0x15a447,_0x3faf4a=_0x4f0c57[_0x1d536d(0xd57)]&&_0x4f0c57['url'][_0x1d536d(0xc9e)]()!=='',_0x2dc1b7=_0x3faf4a?_0x1d536d(0xc9a):_0x1d536d(0x842),_0x49828a=_0x3faf4a?'🔁':'🔗',_0x5daa89=!_0x4f0c57[_0x1d536d(0x7dc)]?_0x1d536d(0x361)+_0x4f0c57['id']+_0x1d536d(0x30e):'';return _0x1d536d(0x764)+_0x4f0c57['id']+_0x1d536d(0x250)+_0x2dc1b7+_0x1d536d(0x2bf)+_0x49828a+'\x20'+_0x4f0c57['name']+_0x1d536d(0xa1a)+_0x4f0c57['id']+_0x1d536d(0x48c)+_0x5daa89+_0x1d536d(0x360);})[_0x15a447(0xcbb)](''),_0x5bbebc[_0x15a447(0xcda)]>0x0&&(_0x2968cd[_0x15a447(0xa5b)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x5bbebc[_0x15a447(0xcda)]>0x0?_0x2249a4[_0x15a447(0xa5b)]=_0x5bbebc[_0x15a447(0xc3d)](_0x548597=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+(_0x548597['url']?'🔁':'🔗')+'\x20'+_0x548597[_0x15a447(0x5bd)]+_0x15a447(0xc45)+_0x548597['id']+_0x15a447(0x74e)+_0x548597['id']+_0x15a447(0x7f9)+(!_0x548597[_0x15a447(0x7dc)]?_0x15a447(0x361)+_0x548597['id']+_0x15a447(0x53d):'')+_0x15a447(0x67c))['join'](''):_0x2249a4['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openParallelTestShortcutEditor(_0x29952c=null){const _0x379815=_0x569b7c,_0x2fa469=document[_0x379815(0xca0)]('parallel-shortcut-editor-modal'),_0x25f464=document['getElementById'](_0x379815(0x379)),_0x53a044=document['getElementById'](_0x379815(0xa73)),_0xa686d6=document['getElementById']('parallel-shortcut-name-input'),_0x58dc41=document[_0x379815(0xca0)](_0x379815(0x8e5));if(_0x29952c){const _0x3e6d4d=parallelTestShortcuts[_0x379815(0xd14)](_0x3f553f=>_0x3f553f['id']===_0x29952c);if(!_0x3e6d4d)return;_0x25f464[_0x379815(0x8a5)]=_0x379815(0xb1d),_0x53a044[_0x379815(0xb85)]=_0x3e6d4d['id'],_0xa686d6[_0x379815(0xb85)]=_0x3e6d4d[_0x379815(0x5bd)],_0x58dc41[_0x379815(0xb85)]=_0x3e6d4d[_0x379815(0xd57)]||'';}else _0x25f464['textContent']=_0x379815(0x78f),_0x53a044[_0x379815(0xb85)]='',_0xa686d6[_0x379815(0xb85)]='',_0x58dc41[_0x379815(0xb85)]='';_0x2fa469[_0x379815(0x396)][_0x379815(0x76f)](_0x379815(0xb23));}async function saveParallelTestShortcutChanges(){const _0x1d7280=_0x569b7c,_0x4f989f=document[_0x1d7280(0xca0)](_0x1d7280(0xa73))[_0x1d7280(0xb85)],_0x36cd18=document[_0x1d7280(0xca0)](_0x1d7280(0xd4a))[_0x1d7280(0xb85)][_0x1d7280(0xc9e)](),_0x321607=document['getElementById'](_0x1d7280(0x8e5))[_0x1d7280(0xb85)][_0x1d7280(0xc9e)]();if(!_0x36cd18){showMessage(_0x1d7280(0xbe1));return;}const _0x22859f={'id':_0x4f989f||_0x1d7280(0x91f)+Date[_0x1d7280(0x721)](),'name':_0x36cd18,'url':_0x321607,'isDefault':_0x4f989f[_0x1d7280(0x59b)]('parallel-default-')};let _0x3bf988;_0x4f989f?_0x3bf988=parallelTestShortcuts['map'](_0x17e24f=>_0x17e24f['id']===_0x4f989f?_0x22859f:_0x17e24f):_0x3bf988=[...parallelTestShortcuts,_0x22859f];try{const _0x50ec77=doc(db,'globalSettings',_0x1d7280(0x312));await setDoc(_0x50ec77,{'shortcuts':_0x3bf988},{'merge':!![]}),document[_0x1d7280(0xca0)]('parallel-shortcut-editor-modal')[_0x1d7280(0x396)]['add'](_0x1d7280(0xb23));}catch(_0x4c2fa9){console[_0x1d7280(0x728)]('Error\x20saving\x20parallel\x20shortcut:',_0x4c2fa9),showMessage(_0x1d7280(0xb83));}}async function handleParallelTestShortcutClick(_0x1b2143){const _0x552dc9=_0x569b7c,_0x4f0764=parallelTestShortcuts['find'](_0x516083=>_0x516083['id']===_0x1b2143);if(!_0x4f0764)return;if(!_0x4f0764[_0x552dc9(0xd57)]||_0x4f0764[_0x552dc9(0xd57)]['trim']()===''){openParallelTestShortcutEditor(_0x1b2143);return;}const _0x24b406=document['getElementById'](_0x552dc9(0x826)),_0x20d30f=document['getElementById'](_0x552dc9(0x547));document['getElementById'](_0x552dc9(0x366))['classList'][_0x552dc9(0x76f)](_0x552dc9(0xb23)),document[_0x552dc9(0xca0)]('generated-quiz-container')[_0x552dc9(0xa5b)]='',_0x24b406[_0x552dc9(0x396)][_0x552dc9(0x76f)](_0x552dc9(0xb23)),_0x20d30f['textContent']=_0x552dc9(0x3d8);try{let _0x4e3fe1;_0x4f0764[_0x552dc9(0xd57)]['toLowerCase']()['includes'](_0x552dc9(0x762))?_0x4e3fe1=_0x552dc9(0xa7b):_0x4e3fe1='source_document.pdf';const _0x36308d=await fetchFileFromUrl(_0x4f0764['url'],_0x4e3fe1);await handleGenerateParallelTest(_0x36308d);}catch(_0x4905aa){console[_0x552dc9(0x728)]('Error\x20processing\x20parallel\x20shortcut\x20click:',_0x4905aa),showMessage(_0x552dc9(0xc90)+_0x4905aa[_0x552dc9(0x7d7)]),_0x24b406[_0x552dc9(0x396)][_0x552dc9(0x46b)](_0x552dc9(0xb23));}}function initializeScratchpadCanvas(){const _0x1bd6c0=_0x569b7c,_0x42670e=document[_0x1bd6c0(0xca0)](_0x1bd6c0(0xaad)),_0x5e57af=document[_0x1bd6c0(0xb90)](_0x1bd6c0(0x304));if(!_0x42670e||!_0x5e57af)return;scratchpadCtx=_0x42670e[_0x1bd6c0(0x9ec)]('2d',{'willReadFrequently':!![]});const _0x4baad4=window['devicePixelRatio']||0x1,_0x15b7e6=_0x5e57af[_0x1bd6c0(0x815)]();_0x42670e['width']=_0x15b7e6[_0x1bd6c0(0x8d5)]*_0x4baad4,_0x42670e[_0x1bd6c0(0x313)]=_0x15b7e6[_0x1bd6c0(0x313)]*_0x4baad4,_0x42670e[_0x1bd6c0(0x7fc)]['width']=_0x15b7e6['width']+'px',_0x42670e[_0x1bd6c0(0x7fc)][_0x1bd6c0(0x313)]=_0x15b7e6[_0x1bd6c0(0x313)]+'px',scratchpadCtx['scale'](_0x4baad4,_0x4baad4),scratchpadCtx[_0x1bd6c0(0x9a8)]=_0x1bd6c0(0xc99),scratchpadCtx['lineCap']=_0x1bd6c0(0xc99),_0x42670e[_0x1bd6c0(0xd44)](_0x1bd6c0(0x3e5),handlePointerDown),_0x42670e[_0x1bd6c0(0xd44)](_0x1bd6c0(0x61c),handlePointerMove),_0x42670e[_0x1bd6c0(0xd44)]('pointerup',handlePointerUp),_0x42670e[_0x1bd6c0(0xd44)](_0x1bd6c0(0xac4),handlePointerUp),_0x42670e[_0x1bd6c0(0xd44)](_0x1bd6c0(0xcf6),handleWheel),_0x42670e[_0x1bd6c0(0xd44)](_0x1bd6c0(0xae4),handlePointerDown),_0x42670e['removeEventListener'](_0x1bd6c0(0x782),handlePointerMove),_0x42670e[_0x1bd6c0(0xd44)]('touchend',handlePointerUp),_0x42670e[_0x1bd6c0(0x79b)]('pointerdown',handlePointerDown),_0x42670e[_0x1bd6c0(0x79b)](_0x1bd6c0(0x61c),handlePointerMove),_0x42670e[_0x1bd6c0(0x79b)](_0x1bd6c0(0x445),handlePointerUp),_0x42670e[_0x1bd6c0(0x79b)](_0x1bd6c0(0xac4),handlePointerUp),_0x42670e[_0x1bd6c0(0x79b)]('wheel',handleWheel,{'passive':![]}),_0x42670e[_0x1bd6c0(0x79b)](_0x1bd6c0(0xae4),handlePointerDown,{'passive':![]}),_0x42670e[_0x1bd6c0(0x79b)]('touchmove',handlePointerMove,{'passive':![]}),_0x42670e[_0x1bd6c0(0x79b)](_0x1bd6c0(0xd23),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x4ca1f7=_0x569b7c,_0xdac662=document[_0x4ca1f7(0xca0)](_0x4ca1f7(0x398)),_0xdaf820=document['getElementById'](_0x4ca1f7(0x776));_0xdaf820[_0x4ca1f7(0xa5b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>'+scratchpadHighlighterSize+_0x4ca1f7(0x594);const _0x5a36c6=document['getElementById']('pen-tool-btn'),_0x4fa881=document['getElementById'](_0x4ca1f7(0xba6)),_0x586ebc=document[_0x4ca1f7(0xca0)](_0x4ca1f7(0x314)),_0x5216d9=document[_0x4ca1f7(0xca0)](_0x4ca1f7(0x8e0)),_0x500035=document[_0x4ca1f7(0xca0)](_0x4ca1f7(0x5e8)),_0x1004d1=document['getElementById'](_0x4ca1f7(0x62f)),_0x20c9f6=[_0x5a36c6,_0x4fa881,_0x586ebc,_0x5216d9];document['getElementById'](_0x4ca1f7(0x940))[_0x4ca1f7(0x79b)](_0x4ca1f7(0xd52),()=>_0xdac662[_0x4ca1f7(0x396)]['add']('hidden')),document[_0x4ca1f7(0xca0)](_0x4ca1f7(0x741))[_0x4ca1f7(0x79b)](_0x4ca1f7(0xd52),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById'](_0x4ca1f7(0x848))[_0x4ca1f7(0x79b)]('click',()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x4ca1f7(0xca0)](_0x4ca1f7(0xd3d))[_0x4ca1f7(0x79b)](_0x4ca1f7(0xd52),undo),document[_0x4ca1f7(0xca0)](_0x4ca1f7(0x258))['addEventListener'](_0x4ca1f7(0xd52),redo);const _0x56303d=_0x159eb9=>{const _0x4a5333=_0x4ca1f7;_0x20c9f6[_0x4a5333(0xb32)](_0x96eb0a=>_0x96eb0a[_0x4a5333(0x396)][_0x4a5333(0x76f)](_0x4a5333(0x88e))),_0x159eb9[_0x4a5333(0x396)][_0x4a5333(0x46b)]('active');const _0x3f8907=_0x159eb9===_0x5216d9;_0x500035['classList']['toggle'](_0x4a5333(0xb23),_0x3f8907),_0x1004d1[_0x4a5333(0x396)]['toggle'](_0x4a5333(0xb23),!_0x3f8907);};_0x5a36c6[_0x4ca1f7(0x79b)](_0x4ca1f7(0xd52),()=>{const _0x55a69a=_0x4ca1f7;activeTool=_0x55a69a(0x799),_0x56303d(_0x5a36c6);}),_0x4fa881['addEventListener']('click',()=>{const _0x330dce=_0x4ca1f7;activeTool=_0x330dce(0x96e),_0x56303d(_0x4fa881);}),_0x586ebc[_0x4ca1f7(0x79b)](_0x4ca1f7(0xd52),()=>{const _0x1e975a=_0x4ca1f7;activeTool=_0x1e975a(0x932),_0x56303d(_0x586ebc);}),_0x5216d9['addEventListener'](_0x4ca1f7(0xd52),()=>{const _0x40a76e=_0x4ca1f7;activeTool=_0x40a76e(0xaaf),_0x56303d(_0x5216d9);}),_0x500035[_0x4ca1f7(0x31c)](_0x4ca1f7(0xa66))['forEach'](_0x455ac0=>{const _0xc0915a=_0x4ca1f7;_0x455ac0[_0xc0915a(0x79b)](_0xc0915a(0xd52),_0x2edd8d=>{const _0x13bd9c=_0xc0915a;scratchpadPenSize=parseInt(_0x2edd8d[_0x13bd9c(0xbe5)]['dataset']['size'],0xa),_0x500035['querySelectorAll'](_0x13bd9c(0xa66))[_0x13bd9c(0xb32)](_0x53c074=>_0x53c074['classList'][_0x13bd9c(0x76f)]('active')),_0x2edd8d['target']['classList'][_0x13bd9c(0x46b)](_0x13bd9c(0x88e));});}),_0x500035['querySelectorAll']('.pen-color-btn')['forEach'](_0x15688c=>{const _0x12e28a=_0x4ca1f7;_0x15688c[_0x12e28a(0x79b)](_0x12e28a(0xd52),_0xa2b429=>{const _0x5c83a7=_0x12e28a;scratchpadPenColor=_0xa2b429[_0x5c83a7(0xbe5)][_0x5c83a7(0x507)][_0x5c83a7(0x55c)],_0x500035[_0x5c83a7(0x31c)](_0x5c83a7(0x632))[_0x5c83a7(0xb32)](_0x5cd892=>_0x5cd892[_0x5c83a7(0x396)][_0x5c83a7(0x76f)](_0x5c83a7(0x88e))),_0xa2b429[_0x5c83a7(0xbe5)][_0x5c83a7(0x396)][_0x5c83a7(0x46b)](_0x5c83a7(0x88e));});}),_0x1004d1[_0x4ca1f7(0x31c)]('.highlighter-color-btn')['forEach'](_0x5346fd=>{const _0xd54ef7=_0x4ca1f7;_0x5346fd[_0xd54ef7(0x79b)]('click',_0x29d502=>{const _0x5d261b=_0xd54ef7;scratchpadHighlighterColor=_0x29d502[_0x5d261b(0xbe5)][_0x5d261b(0x507)]['color'],_0x1004d1[_0x5d261b(0x31c)](_0x5d261b(0x591))['forEach'](_0x19d343=>_0x19d343[_0x5d261b(0x396)][_0x5d261b(0x76f)](_0x5d261b(0x88e))),_0x29d502['target'][_0x5d261b(0x396)][_0x5d261b(0x46b)]('active');});});const _0x4c6186=document[_0x4ca1f7(0xca0)](_0x4ca1f7(0xbd7)),_0x519487=document[_0x4ca1f7(0xca0)](_0x4ca1f7(0x452));_0x4c6186['addEventListener'](_0x4ca1f7(0x5ca),_0x28d686=>{const _0x54deb8=_0x4ca1f7,_0x32ec20=parseInt(_0x28d686[_0x54deb8(0xbe5)][_0x54deb8(0xb85)],0xa);scratchpadHighlighterSize=_0x32ec20,_0x519487[_0x54deb8(0x8a5)]=_0x32ec20;}),window[_0x4ca1f7(0x79b)](_0x4ca1f7(0x9d0),()=>{const _0x39be33=_0x4ca1f7;!_0xdac662[_0x39be33(0x396)][_0x39be33(0x1d0)](_0x39be33(0xb23))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x569b7c(0x925),'name':_0x569b7c(0x404),'description':_0x569b7c(0x511),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':'quick_thinker','name':_0x569b7c(0xbee),'description':_0x569b7c(0xcfb),'icon':_0x569b7c(0xb9d)},'ON_FIRE':{'id':_0x569b7c(0x94f),'name':'ท็อปฟอร์ม','description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x569b7c(0x707)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':_0x569b7c(0x535),'description':_0x569b7c(0x678),'icon':_0x569b7c(0x84a)},'COMEBACK_KING':{'id':'comeback_king','name':_0x569b7c(0x81b),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x569b7c(0x49e)},'SPECIALIST':{'id':'specialist','name':_0x569b7c(0x1c3),'description':_0x569b7c(0x248),'icon':_0x569b7c(0xd0e)},'PERSEVERANCE':{'id':'perseverance','name':_0x569b7c(0x99d),'description':_0x569b7c(0x3af),'icon':_0x569b7c(0x2ab)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':_0x569b7c(0x3a7),'projectId':'ai-quiz-app-aefee','storageBucket':_0x569b7c(0x367),'messagingSenderId':_0x569b7c(0xd4b),'appId':_0x569b7c(0x226),'measurementId':_0x569b7c(0x7fb)},appId=typeof __app_id!=='undefined'?__app_id:'ai-quiz-generator-v3',adminView=document[_0x569b7c(0xca0)]('admin-view'),studentView=document['getElementById']('student-view'),projectDashboardView=document[_0x569b7c(0xca0)](_0x569b7c(0xd11)),projectDetailView=document[_0x569b7c(0xca0)](_0x569b7c(0x6a5)),quizResultsView=document[_0x569b7c(0xca0)](_0x569b7c(0x743)),projectList=document[_0x569b7c(0xca0)]('project-list'),noProjectsMsg=document['getElementById'](_0x569b7c(0x498)),projectTitle=document['getElementById'](_0x569b7c(0xb94)),projectIdDisplay=document[_0x569b7c(0xca0)]('project-id-display'),studentList=document[_0x569b7c(0xca0)]('student-list'),messageModal=document[_0x569b7c(0xca0)](_0x569b7c(0x722)),modalMessage=document['getElementById']('modal-message'),createProjectModal=document[_0x569b7c(0xca0)](_0x569b7c(0xbb7)),adminPasswordModal=document[_0x569b7c(0xca0)]('admin-password-modal'),confirmationModal=document[_0x569b7c(0xca0)]('confirmation-modal'),userIdDisplay=document[_0x569b7c(0xca0)](_0x569b7c(0x4d3)),topicTab=document[_0x569b7c(0xca0)](_0x569b7c(0x4fe)),textTab=document[_0x569b7c(0xca0)]('text-tab'),topicInputArea=document[_0x569b7c(0xca0)]('topic-input-area'),textInputArea=document[_0x569b7c(0xca0)](_0x569b7c(0xbc7)),manageTab=document[_0x569b7c(0xca0)](_0x569b7c(0x443)),resultsTab=document[_0x569b7c(0xca0)](_0x569b7c(0x401)),leaderboardTab=document[_0x569b7c(0xca0)]('leaderboard-tab'),manageTabContent=document[_0x569b7c(0xca0)]('manage-tab-content'),resultsTabContent=document['getElementById'](_0x569b7c(0x395)),leaderboardTabContent=document[_0x569b7c(0xca0)](_0x569b7c(0x8d6)),projectQuizzesList=document['getElementById'](_0x569b7c(0x43a)),fileTab=document[_0x569b7c(0xca0)]('file-tab'),fileInputArea=document[_0x569b7c(0xca0)](_0x569b7c(0x291)),fileUploadInput=document[_0x569b7c(0xca0)](_0x569b7c(0x1ff)),worksheetTab=document['getElementById'](_0x569b7c(0x261)),worksheetInputArea=document[_0x569b7c(0xca0)](_0x569b7c(0x578)),generateWorksheetBtn=document[_0x569b7c(0xca0)](_0x569b7c(0x242)),studentInitialView=document[_0x569b7c(0xca0)](_0x569b7c(0x2a5)),studentNameSelectionView=document['getElementById'](_0x569b7c(0xa51)),studentQuizArea=document['getElementById'](_0x569b7c(0xbf8)),studentResultArea=document['getElementById'](_0x569b7c(0x517)),studentReadingArea=document['getElementById']('student-reading-area'),loadQuizBtn=document['getElementById'](_0x569b7c(0xd16)),startQuizBtn=document[_0x569b7c(0xca0)](_0x569b7c(0x3a8)),studentJoinGameView=document[_0x569b7c(0xca0)]('student-join-game-view'),presentationModal=document['getElementById']('presentation-modal'),renameQuizModal=document['getElementById'](_0x569b7c(0x70c)),moveQuizModal=document['getElementById']('move-quiz-modal'),quizSettingsModal=document[_0x569b7c(0xca0)](_0x569b7c(0xb84)),quizStatusModal=document[_0x569b7c(0xca0)]('quiz-status-modal'),liveGameView=document[_0x569b7c(0xca0)]('live-game-view');function handleFixLessonLatex(){const _0x37420d=_0x569b7c,_0x223a7c=document[_0x37420d(0xca0)](_0x37420d(0xbab));if(!_0x223a7c){showMessage(_0x37420d(0x67b));return;}const _0x4d3b00=_0x223a7c[_0x37420d(0x31c)]([_0x37420d(0x1f8),_0x37420d(0xcc7),'.ai-content\x20blockquote',_0x37420d(0x7ed),_0x37420d(0x76d)][_0x37420d(0xcbb)](','));let _0x2d43bc=0x0;const _0x43469e=_0x412d4c=>_0x412d4c[_0x37420d(0x8a5)]||'',_0x5df1d6=(_0x306723,_0x11e610)=>{const _0x51fb40=_0x37420d;if(_0x306723[_0x51fb40(0xb90)]&&_0x306723[_0x51fb40(0xb90)]('mjx-container'))return;_0x306723[_0x51fb40(0x8a5)]=_0x11e610;},_0x4dd122=_0x399872=>_0x399872[_0x37420d(0xa12)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x37420d(0xa12)](/\r\n?/g,'\x0a'),_0xc71377=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x213686=_0x2a2d2f=>{const _0x179438=_0x37420d;let _0x132ca5=_0x2a2d2f[_0x179438(0xc9e)]();const _0x280be6=['frac',_0x179438(0xd1d),_0x179438(0x9e7),_0x179438(0x8f7),_0x179438(0xc91),_0x179438(0x7d3),'cdot',_0x179438(0x869),_0x179438(0x9d4),_0x179438(0xb61),'le','ge',_0x179438(0x284),'pm',_0x179438(0x813),_0x179438(0x651),_0x179438(0xadd),_0x179438(0x2d1),_0x179438(0x2fa),'ln',_0x179438(0x3be),_0x179438(0x908),_0x179438(0x48e),_0x179438(0x742),'right',_0x179438(0x933),_0x179438(0x7cd),'circ',_0x179438(0x9b2)];_0x280be6[_0x179438(0xb32)](_0x5c7ed3=>{const _0x41a9d6=_0x179438;_0x132ca5=_0x132ca5[_0x41a9d6(0xa12)](new RegExp(_0x41a9d6(0x731)+_0x5c7ed3+'\x5cb','g'),(_0x1197f9,_0x8f4fe1)=>_0x8f4fe1+'\x5c'+_0x5c7ed3);});const _0x3f8a8d=[[/×/g,_0x179438(0x6f7)],[/·/g,'\x5ccdot'],[/÷/g,_0x179438(0x457)],[/≤/g,'\x5cle'],[/≥/g,_0x179438(0x6bd)],[/≠/g,'\x5cneq'],[/±/g,_0x179438(0x42f)],[/∑/g,'\x5csum'],[/−/g,'-']];return _0x3f8a8d[_0x179438(0xb32)](([_0x58753c,_0x9efcc9])=>{const _0x293b1a=_0x179438;_0x132ca5=_0x132ca5[_0x293b1a(0xa12)](_0x58753c,_0x9efcc9);}),_0x132ca5=_0x132ca5['replace'](/√\s*([A-Za-z0-9]+)/g,_0x179438(0x1d3)),_0x132ca5=_0x132ca5[_0x179438(0xa12)](/(\d+)\s*%/g,'$1\x5c%'),_0x132ca5;},_0x51aaac=_0x4fa98c=>{const _0x352e33=_0x37420d;if(/\$|\\\(|\\\[/[_0x352e33(0x74d)](_0x4fa98c))return _0x4fa98c;if(!_0xc71377[_0x352e33(0x74d)](_0x4fa98c))return _0x4fa98c;const _0x3a173f=_0x4fa98c[_0x352e33(0x86c)](/^\s*/)[0x0],_0x4ea2b8=_0x4fa98c['match'](/\s*$/)[0x0],_0x50943d=_0x4fa98c[_0x352e33(0xc9e)]();return _0x3a173f+'$'+_0x213686(_0x50943d)+'$'+_0x4ea2b8;};_0x4d3b00['forEach'](_0x1e90d1=>{const _0x55e56e=_0x37420d,_0x30e74e=_0x43469e(_0x1e90d1);let _0x5d9d6c=_0x4dd122(_0x30e74e);_0x5d9d6c=_0x5d9d6c['replace'](/\$([^$]*?)\$/g,(_0x7017ef,_0x27cd69)=>'$'+_0x213686(_0x27cd69)+'$');const _0x6148fd=_0x5d9d6c['split'](/(\s+)/),_0x3e0563=_0x6148fd['map'](_0x10a13c=>{const _0x213eda=_0x1447;if(/\s+/[_0x213eda(0x74d)](_0x10a13c))return _0x10a13c;return _0x51aaac(_0x10a13c);});_0x5d9d6c=_0x3e0563[_0x55e56e(0xcbb)](''),_0x5d9d6c!==_0x30e74e&&(_0x5df1d6(_0x1e90d1,_0x5d9d6c),_0x2d43bc++);});if(_0x2d43bc>0x0){showMessage('แก้ไขสูตรคณิตศาสตร์\x20'+_0x2d43bc+_0x37420d(0xc98));try{window[_0x37420d(0x858)]&&MathJax[_0x37420d(0x5cc)]&&MathJax[_0x37420d(0x5cc)]([_0x223a7c]);}catch(_0x5be93f){console[_0x37420d(0x728)](_0x37420d(0x9b1),_0x5be93f);}}else showMessage('ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม');}function handleAutoFixLatex(){const _0x45a253=_0x569b7c,_0x33e453=document[_0x45a253(0xca0)](_0x45a253(0x719))||document,_0x3adaad=_0x33e453[_0x45a253(0x31c)]('textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li');let _0x24cabe=0x0;const _0x119a7a=_0x4c4891=>_0x45a253(0xb85)in _0x4c4891?String(_0x4c4891[_0x45a253(0xb85)]):_0x4c4891['innerText']!==undefined?_0x4c4891[_0x45a253(0xc07)]:_0x4c4891['textContent']||'',_0x4d99b9=(_0x31e15f,_0x1a76fe)=>{const _0x153b92=_0x45a253;if(_0x153b92(0xb85)in _0x31e15f){_0x31e15f[_0x153b92(0xb85)]=_0x1a76fe;return;}if(_0x31e15f[_0x153b92(0xb90)]&&_0x31e15f[_0x153b92(0xb90)](_0x153b92(0x650)))return;if(_0x31e15f[_0x153b92(0xc07)]!==undefined)_0x31e15f[_0x153b92(0xc07)]=_0x1a76fe;else _0x31e15f['textContent']=_0x1a76fe;},_0x1739ae=_0x5a578b=>_0x5a578b[_0x45a253(0xa12)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x45a253(0xa12)](/\r\n?/g,'\x0a'),_0x3b7470=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x8f5e8b=_0x2a4903=>{const _0x485d47=_0x45a253;let _0x32d26b=_0x2a4903[_0x485d47(0xc9e)]();_0x32d26b=_0x32d26b[_0x485d47(0xa12)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x485d47(0xd32)),_0x32d26b=_0x32d26b[_0x485d47(0xa12)](/\bfrac(\d)(\d)/g,_0x485d47(0xd32));const _0x20d65c=[_0x485d47(0xa93),'sqrt','times',_0x485d47(0x3a1),'div',_0x485d47(0x9d4),_0x485d47(0xb61),_0x485d47(0x284),'pm','sin',_0x485d47(0xadd),'tan',_0x485d47(0x2fa),'ln'];_0x20d65c[_0x485d47(0xb32)](_0xcdd5be=>{const _0x4cb349=_0x485d47;_0x32d26b=_0x32d26b[_0x4cb349(0xa12)](new RegExp(_0x4cb349(0x731)+_0xcdd5be+'\x5cb','g'),(_0x3b22cb,_0x416688)=>_0x416688+'\x5c'+_0xcdd5be);});const _0x51ce56=[[/×/g,_0x485d47(0x6f7)],[/·/g,_0x485d47(0x5f3)],[/÷/g,'\x5cdiv'],[/≤/g,_0x485d47(0x3ed)],[/≥/g,_0x485d47(0x6bd)],[/≠/g,_0x485d47(0xac1)],[/±/g,_0x485d47(0x42f)]];return _0x51ce56['forEach'](([_0x2ab5db,_0x5452a3])=>{const _0x2390af=_0x485d47;_0x32d26b=_0x32d26b[_0x2390af(0xa12)](_0x2ab5db,_0x5452a3);}),_0x32d26b;},_0x35d0a4=_0x416a67=>{const _0x594149=_0x45a253;if(/\$|\\\(|\\\[/[_0x594149(0x74d)](_0x416a67))return _0x416a67;if(!_0x3b7470['test'](_0x416a67))return _0x416a67;const _0x4076a0=_0x416a67[_0x594149(0x86c)](/^\s*/)[0x0],_0x26da1b=_0x416a67['match'](/\s*$/)[0x0],_0xce17fe=_0x416a67['trim']();return _0x4076a0+'$'+_0x8f5e8b(_0xce17fe)+'$'+_0x26da1b;};_0x3adaad[_0x45a253(0xb32)](_0x3727f7=>{const _0x10908a=_0x45a253,_0x54253a=_0x119a7a(_0x3727f7);let _0x567b19=_0x1739ae(_0x54253a);_0x567b19=_0x567b19[_0x10908a(0xa12)](/\$([^$]*?)\$/g,(_0x5d5881,_0x43b767)=>'$'+_0x8f5e8b(_0x43b767)+'$');const _0xa3c892=_0x567b19[_0x10908a(0x600)](/(\s+)/),_0x2ce52f=_0xa3c892['map'](_0x3ca52d=>/\s+/[_0x10908a(0x74d)](_0x3ca52d)?_0x3ca52d:_0x35d0a4(_0x3ca52d));_0x567b19=_0x2ce52f[_0x10908a(0xcbb)](''),_0x567b19!==_0x54253a&&(_0x4d99b9(_0x3727f7,_0x567b19),_0x24cabe++);});if(_0x24cabe>0x0){showMessage(_0x45a253(0x79e)+_0x24cabe+_0x45a253(0xa88));try{if(window[_0x45a253(0x858)]&&MathJax['typesetPromise'])MathJax[_0x45a253(0x5cc)]();}catch(_0x500237){}}else showMessage(_0x45a253(0x2a1));}async function listenForCustomMathTopics(){const _0x96e390=collection(db,'artifacts/'+appId+'/public/data/customMathTopics');onSnapshot(_0x96e390,_0x46bbb8=>{const _0x52cc4f=_0x1447;customMathTopics=_0x46bbb8[_0x52cc4f(0x53c)][_0x52cc4f(0xc3d)](_0x25960f=>({'id':_0x25960f['id'],..._0x25960f[_0x52cc4f(0x7f5)]()})),renderTopicCheckboxes();},_0x16d127=>{const _0x57c41e=_0x1447;console[_0x57c41e(0x728)](_0x57c41e(0x4af),_0x16d127);});}function handleSelectAllTopics(){const _0x12f6f2=_0x569b7c,_0x3ace9b=document[_0x12f6f2(0xca0)](_0x12f6f2(0x555)),_0x2fd5c8=_0x3ace9b[_0x12f6f2(0x31c)]('input[type=\x22checkbox\x22]');_0x2fd5c8[_0x12f6f2(0xb32)](_0x45c425=>{_0x45c425['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x16ea49=_0x569b7c,_0x5ad9d1=document[_0x16ea49(0xca0)]('math-topics-checkbox-container'),_0x1085d1=_0x5ad9d1[_0x16ea49(0x31c)](_0x16ea49(0xac8));_0x1085d1[_0x16ea49(0xb32)](_0x7598cc=>{_0x7598cc['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x9123dc){const _0x2cf2f6=_0x569b7c;if(!_0x9123dc)return;try{const _0xea1bc5=doc(db,_0x2cf2f6(0x25b)+appId+_0x2cf2f6(0x409),_0x9123dc);await deleteDoc(_0xea1bc5),showMessage('ลบหัวข้อสำเร็จ');}catch(_0xd3a056){console[_0x2cf2f6(0x728)](_0x2cf2f6(0x5d5),_0xd3a056),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x21a841=_0x569b7c,_0x52c956=document[_0x21a841(0xca0)](_0x21a841(0x2e9)),_0x553b4f=_0x52c956[_0x21a841(0xb85)]['trim']();if(!_0x553b4f){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x21a841(0xcf2));return;}try{const _0x49d035=collection(db,_0x21a841(0x25b)+appId+'/public/data/customMathTopics');await addDoc(_0x49d035,{'name':_0x553b4f,'createdAt':serverTimestamp()}),_0x52c956[_0x21a841(0xb85)]='',showMessage(_0x21a841(0xc8a)+_0x553b4f+_0x21a841(0x9cc));}catch(_0x3bd6c7){console['error'](_0x21a841(0x8aa),_0x3bd6c7),showMessage(_0x21a841(0x9b8));}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x379145=_0x1447,_0xbf5477=document['getElementById']('loader'),_0x5325b1=document[_0x379145(0xca0)]('loader-text'),_0x182700=_0x5325b1[_0x379145(0x8a5)];_0xbf5477[_0x379145(0x396)][_0x379145(0x76f)](_0x379145(0xb23)),_0x5325b1['textContent']=_0x379145(0x3df);try{const _0x7b6327=collection(db,_0x379145(0x25b)+appId+_0x379145(0x72c)),_0x994a31=await getDocs(_0x7b6327);if(_0x994a31[_0x379145(0xcc9)]){showMessage(_0x379145(0x646));return;}const _0x267440=writeBatch(db);let _0xa93716=0x0;_0x994a31[_0x379145(0xb32)](_0x41315=>{const _0xf84c0f=_0x379145,_0x10f1ae=_0x41315[_0xf84c0f(0x7f5)](),_0x1ce361=_0x41315['id'];if(_0x10f1ae['questions']&&_0x10f1ae[_0xf84c0f(0x981)][_0xf84c0f(0xcda)]>0x0&&!_0x10f1ae['questions'][0x0][_0xf84c0f(0x755)]('id')){console[_0xf84c0f(0x2fa)]('พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20'+_0x1ce361+'\x20('+_0x10f1ae['topic']+')'),_0xa93716++;const _0x58770b=_0x10f1ae['questions'][_0xf84c0f(0xc3d)]((_0x228ff9,_0x8ad12a)=>{const _0x5521a1=_0xf84c0f;return{..._0x228ff9,'id':_0x228ff9['id']||'q_'+Date[_0x5521a1(0x721)]()+'_'+_0x1ce361+'_'+_0x8ad12a};}),_0x1ccfeb=doc(db,_0xf84c0f(0x25b)+appId+_0xf84c0f(0x72c),_0x1ce361);_0x267440[_0xf84c0f(0x3bb)](_0x1ccfeb,{'questions':_0x58770b});}}),_0xa93716>0x0?(_0x5325b1['textContent']=_0x379145(0xc65)+_0xa93716+_0x379145(0x910),await _0x267440[_0x379145(0xad5)](),showMessage(_0x379145(0x50a)+_0xa93716+'\x20รายการสำเร็จ!')):showMessage(_0x379145(0x4a3));}catch(_0x58a89a){console['error'](_0x379145(0x7e9),_0x58a89a),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0x58a89a[_0x379145(0x7d7)]);}finally{_0xbf5477[_0x379145(0x396)][_0x379145(0x46b)](_0x379145(0xb23)),_0x5325b1['textContent']=_0x182700;}});}async function handleBulkUpdateQuizSettings(){const _0x10d653=_0x569b7c,_0xfc8439={'shuffle':document['getElementById'](_0x10d653(0xce7))[_0x10d653(0xb85)],'resultsDisplay':document[_0x10d653(0xca0)](_0x10d653(0x232))[_0x10d653(0xb85)],'loopUntilPass':document[_0x10d653(0xca0)](_0x10d653(0x6e4))['checked'],'isConfidenceScoringEnabled':document['getElementById'](_0x10d653(0xd0c))[_0x10d653(0x397)],'confidenceMode':document['getElementById'](_0x10d653(0x28b))[_0x10d653(0xb85)]};try{showMessage(_0x10d653(0xa39));const _0x154eda=await getDocs(collection(db,_0x10d653(0x25b)+appId+_0x10d653(0x72c))),_0x34d858=_0x154eda[_0x10d653(0x53c)][_0x10d653(0xc3d)](_0x3289a2=>({'id':_0x3289a2['id'],'data':_0x3289a2[_0x10d653(0x7f5)]()})),_0x246339=_0x34d858[_0x10d653(0xcda)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0x246339+_0x10d653(0x71c),async()=>{const _0x4392f4=_0x10d653,_0x3dc80c=document[_0x4392f4(0xca0)](_0x4392f4(0xb4e));_0x3dc80c[_0x4392f4(0x7b4)]=!![],_0x3dc80c[_0x4392f4(0xa5b)]=_0x4392f4(0x45a);try{const _0x52b273=writeBatch(db);_0x34d858[_0x4392f4(0xb32)](_0x30d84b=>{const _0x5f11da=_0x4392f4,_0x17f6fb=doc(db,'artifacts/'+appId+_0x5f11da(0x72c),_0x30d84b['id']),_0x833f67={..._0x30d84b[_0x5f11da(0x7f5)]['settings']||{},..._0xfc8439};_0x52b273['update'](_0x17f6fb,{'settings':_0x833f67});}),await _0x52b273['commit'](),document[_0x4392f4(0xca0)](_0x4392f4(0x69e))[_0x4392f4(0x396)][_0x4392f4(0x46b)]('hidden'),showMessage(_0x4392f4(0x96c)+_0x246339+_0x4392f4(0x8e6));}catch(_0x2b6c94){console['error']('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x2b6c94),showMessage(_0x4392f4(0x8de));}finally{_0x3dc80c['disabled']=![],_0x3dc80c['innerHTML']='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x1c1bee){console[_0x10d653(0x728)]('Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:',_0x1c1bee),showMessage(_0x10d653(0x7b7));}}async function handleSaveProjectName(){const _0x52d69a=_0x569b7c,_0x55adc9=document[_0x52d69a(0xca0)]('project-title'),_0xe1cf67=document[_0x52d69a(0xca0)]('save-project-name-btn'),_0x1254cb=_0x55adc9[_0x52d69a(0x8a5)][_0x52d69a(0xc9e)]();if(!_0x1254cb||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x55adc9[_0x52d69a(0x8a5)]=currentProjectData[_0x52d69a(0x8af)];return;}_0xe1cf67['disabled']=!![],_0xe1cf67[_0x52d69a(0xa5b)]=_0x52d69a(0xa3f);try{const _0x25cd41=doc(db,_0x52d69a(0x25b)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x25cd41,{'projectName':_0x1254cb}),currentProjectData&&(currentProjectData[_0x52d69a(0x8af)]=_0x1254cb),showMessage(_0x52d69a(0x43b));}catch(_0x257a3a){console['error'](_0x52d69a(0x38b),_0x257a3a),showMessage(_0x52d69a(0xb83)),_0x55adc9[_0x52d69a(0x8a5)]=currentProjectData[_0x52d69a(0x8af)];}finally{_0xe1cf67[_0x52d69a(0x396)][_0x52d69a(0x46b)](_0x52d69a(0xb23)),_0xe1cf67[_0x52d69a(0x7b4)]=![],_0xe1cf67[_0x52d69a(0xa5b)]=_0x52d69a(0x3aa);}}function handleGeneratePracticeTest(_0x3be6c5,_0x4bf898){const _0x2080ef=_0x569b7c,_0x7e5d9f=document[_0x2080ef(0xca0)]('lesson-view-modal'),_0x545280=document['getElementById']('lesson-view-title'),_0x1ce42e=document[_0x2080ef(0xca0)]('lesson-loader'),_0x47b633=document['getElementById'](_0x2080ef(0x609));_0x545280[_0x2080ef(0x8a5)]=_0x2080ef(0x70f)+_0x3be6c5,_0x47b633[_0x2080ef(0x396)][_0x2080ef(0x46b)]('hidden'),_0x1ce42e['classList']['remove']('hidden'),_0x7e5d9f[_0x2080ef(0x396)]['remove'](_0x2080ef(0xb23)),generatePracticeTest(_0x3be6c5,_0x4bf898)[_0x2080ef(0x7c1)](_0x4795da=>{const _0x501b6b=_0x2080ef;console['error'](_0x501b6b(0x292),_0x4795da),showMessage(_0x501b6b(0x241)),_0x7e5d9f[_0x501b6b(0x396)][_0x501b6b(0x46b)](_0x501b6b(0xb23));});}async function generatePracticeTest(_0x489f4a,_0x20d62a){const _0xab046f=_0x569b7c;[_0xab046f(0x93c),_0xab046f(0xc6a),'applicationContent','summaryContent'][_0xab046f(0xb32)](_0x4f2fb6=>{const _0x9bfebf=_0xab046f,_0x5c912f=document[_0x9bfebf(0xca0)](_0x4f2fb6)['parentElement'];_0x5c912f&&(_0x5c912f[_0x9bfebf(0x7fc)][_0x9bfebf(0x71f)]=_0x9bfebf(0x9d3));});try{const _0x55d5f9=_0xab046f(0x7d6),_0x23545b=_0xab046f(0x285)+_0x20d62a+_0xab046f(0x27a)+_0x489f4a+_0xab046f(0x565),_0x500abd=await callGemini(_0x23545b,!![]),_0x34db7d=document[_0xab046f(0xca0)]('lesson-view-title'),_0x196c24=document[_0xab046f(0xca0)]('lesson-loader'),_0x1b80e6=document[_0xab046f(0xca0)](_0xab046f(0x609)),_0x367c3a=document[_0xab046f(0xca0)](_0xab046f(0x689))[_0xab046f(0xd2f)];_0x34db7d[_0xab046f(0xc07)]=_0xab046f(0x8d3)+_0x489f4a[_0xab046f(0xa12)](/•\s/g,'')+'\x20(สำหรับ\x20'+_0x20d62a+')',currentApplicationData=JSON[_0xab046f(0x608)](_0x500abd);const _0xf3e86f=document[_0xab046f(0xca0)](_0xab046f(0x689));_0xf3e86f[_0xab046f(0xa5b)]=currentApplicationData['map']((_0x1827d4,_0x27b649)=>_0xab046f(0x483)+(_0x27b649+0x1)+'.\x20'+marked[_0xab046f(0x3f3)](_0x1827d4[_0xab046f(0x215)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x27b649+_0xab046f(0xc4a)+_0x1827d4['options'][_0xab046f(0xc3d)]((_0x3f9e87,_0x288002)=>_0xab046f(0x83a)+_0x27b649+',\x20'+_0x288002+_0xab046f(0x9fd)+String[_0xab046f(0x87b)](0x61+_0x288002)+'.\x20'+marked[_0xab046f(0x3f3)](_0x3f9e87)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xab046f(0xcbb)]('')+_0xab046f(0x67c))[_0xab046f(0xcbb)](''),window['MathJax']&&MathJax[_0xab046f(0x5cc)]([_0xf3e86f]),_0x367c3a&&(_0x367c3a[_0xab046f(0x7fc)][_0xab046f(0x71f)]=_0xab046f(0x845)),_0x196c24[_0xab046f(0x396)][_0xab046f(0x46b)]('hidden'),_0x1b80e6['classList'][_0xab046f(0x76f)](_0xab046f(0xb23));}catch(_0x546225){console['error'](_0x546225);throw _0x546225;}}async function callGemini(_0x19732a,_0x41b807=![]){const _0x1dc48f=_0x569b7c,_0x15bcc5=_0x1dc48f(0x9bc),_0x3b6eca=_0x1dc48f(0x82c)+_0x15bcc5,_0x5198a9={'contents':[{'parts':[{'text':_0x19732a}]}]};_0x41b807&&(_0x5198a9['generationConfig']={'responseMimeType':_0x1dc48f(0x828)},_0x19732a[_0x1dc48f(0x771)](_0x1dc48f(0xbc4))?_0x5198a9['generationConfig'][_0x1dc48f(0xd08)]={'type':'OBJECT','properties':{'gradeLevel':{'type':_0x1dc48f(0xb67)},'curriculum':{'type':_0x1dc48f(0x7c4),'items':{'type':'OBJECT','properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0x1dc48f(0x7c4),'items':{'type':_0x1dc48f(0xbcd),'properties':{'topicName':{'type':_0x1dc48f(0xb67)},'subTopics':{'type':_0x1dc48f(0x7c4),'items':{'type':_0x1dc48f(0xb67)}}},'required':['topicName',_0x1dc48f(0xb88)]}}},'required':[_0x1dc48f(0xa2d),'mainTopics']}}},'required':['gradeLevel',_0x1dc48f(0x230)]}:_0x5198a9[_0x1dc48f(0x4db)][_0x1dc48f(0xd08)]={'type':_0x1dc48f(0x7c4),'items':{'type':_0x1dc48f(0xbcd),'properties':{'question':{'type':_0x1dc48f(0xb67)},'options':{'type':_0x1dc48f(0x7c4),'items':{'type':'STRING'}},'answer':{'type':_0x1dc48f(0x911)}},'required':[_0x1dc48f(0x215),'options',_0x1dc48f(0xc52)]}});try{const _0x222638=await fetch(_0x3b6eca,{'method':_0x1dc48f(0x938),'headers':{'Content-Type':_0x1dc48f(0x828)},'body':JSON[_0x1dc48f(0x25e)](_0x5198a9)});if(!_0x222638['ok']){const _0x1ef6eb=await _0x222638['text']();console['error'](_0x1dc48f(0x556),_0x1ef6eb);throw new Error(_0x1dc48f(0x201)+_0x222638[_0x1dc48f(0xc81)]);}const _0x11b15c=await _0x222638[_0x1dc48f(0xc67)]();if(_0x11b15c['candidates']&&_0x11b15c['candidates'][0x0][_0x1dc48f(0x893)]&&_0x11b15c['candidates'][0x0][_0x1dc48f(0x893)][_0x1dc48f(0x6fc)][0x0])return _0x11b15c['candidates'][0x0][_0x1dc48f(0x893)]['parts'][0x0][_0x1dc48f(0xc91)];else{console[_0x1dc48f(0x728)](_0x1dc48f(0xd5b),_0x11b15c);if(_0x11b15c['candidates']&&_0x11b15c[_0x1dc48f(0x7ec)][0x0][_0x1dc48f(0xd58)]===_0x1dc48f(0xbdb))return JSON[_0x1dc48f(0x25e)]({'error':_0x1dc48f(0x629)});throw new Error(_0x1dc48f(0x70a));}}catch(_0x152326){console[_0x1dc48f(0x728)](_0x1dc48f(0x5bb),_0x152326);throw _0x152326;}}async function generateLesson(_0x2273ba=null,_0xe77e37=null){const _0x4f8c67=_0x569b7c,_0xc61ea6=_0x2273ba,_0x4ad139=_0xe77e37||_0x4f8c67(0xb4c),_0x7e095f=document['getElementById'](_0x4f8c67(0x5b6)),_0xd07aa1=document[_0x4f8c67(0xca0)]('lesson-loader-text');_0xd07aa1[_0x4f8c67(0x8a5)]=_0x4f8c67(0x233)+_0xc61ea6+'\x22...';try{let _0x379031=[];const _0x403222=document[_0x4f8c67(0xca0)](_0x4f8c67(0x7fa))?.[_0x4f8c67(0xb85)][_0x4f8c67(0xc9e)]();if(_0x403222)try{_0xd07aa1[_0x4f8c67(0x8a5)]=_0x4f8c67(0x6da);const _0x586ebe=await fetchFileFromUrl(_0x403222,_0x4f8c67(0xbc8)),_0x5ca938=await new Promise((_0x586e27,_0x49d3d0)=>{const _0x2f24d3=_0x4f8c67,_0xeb1959=new FileReader();_0xeb1959[_0x2f24d3(0xa8c)](_0x586ebe),_0xeb1959[_0x2f24d3(0xab5)]=()=>_0x586e27(_0xeb1959[_0x2f24d3(0x5d4)][_0x2f24d3(0x600)](',')[0x1]),_0xeb1959[_0x2f24d3(0x4c9)]=_0x49d3d0;});_0x379031[_0x4f8c67(0xae7)]({'inlineData':{'mimeType':_0x586ebe[_0x4f8c67(0x8df)],'data':_0x5ca938}});}catch(_0x129494){console[_0x4f8c67(0x728)](_0x4f8c67(0x766),_0x129494),showMessage(_0x4f8c67(0x473));}const _0x2bae34=_0x4f8c67(0xc28)+_0xc61ea6+_0x4f8c67(0x62a)+_0xc61ea6+_0x4f8c67(0x576);_0xd07aa1[_0x4f8c67(0x8a5)]=_0x4f8c67(0x233)+_0xc61ea6+_0x4f8c67(0x35c);const _0x443f46=_0x4f8c67(0x6a1)+_0x4ad139+'\x27\x20ในหัวข้อ\x20\x27'+_0xc61ea6+_0x4f8c67(0x68b)+_0x2bae34+'.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art',_0x365d86=_0x4f8c67(0x8cd)+_0xc61ea6+_0x4f8c67(0x97a)+_0x4ad139+_0x4f8c67(0x9b4)+_0x2bae34+'.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX',_0x4cb180=_0x4f8c67(0x285)+_0x4ad139+_0x4f8c67(0x27a)+_0xc61ea6+'\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20'+_0x2bae34+'.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x398810=_0x4f8c67(0x821)+_0xc61ea6+_0x4f8c67(0x352)+_0x4ad139+_0x4f8c67(0xa67)+_0x2bae34+'.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ',_0x299289={'type':'ARRAY','items':{'type':'OBJECT','properties':{'question':{'type':_0x4f8c67(0xb67)},'options':{'type':'ARRAY','items':{'type':_0x4f8c67(0xb67)}},'answer':{'type':_0x4f8c67(0x911)}},'required':[_0x4f8c67(0x215),_0x4f8c67(0xb7c),_0x4f8c67(0xc52)]}},[_0x599f7b,_0x41466d,_0x4e9fb4,_0xb24abd]=await Promise[_0x4f8c67(0x606)]([handleApiCall([{'text':_0x443f46},..._0x379031],'...',null,null,![]),handleApiCall([{'text':_0x365d86},..._0x379031],_0x4f8c67(0xa61),null,null,![]),handleApiCall([{'text':_0x4cb180},..._0x379031],_0x4f8c67(0xa61),_0x299289,null,![]),handleApiCall([{'text':_0x398810},..._0x379031],_0x4f8c67(0xa61),null,null,![])]),_0xcbd585=JSON['stringify'](_0x4e9fb4||[]),_0x3dc7c0=document[_0x4f8c67(0xca0)](_0x4f8c67(0xa94)),_0x4970d5=document['getElementById'](_0x4f8c67(0x609));_0x3dc7c0[_0x4f8c67(0xc07)]=_0x4f8c67(0x368)+_0xc61ea6[_0x4f8c67(0xa12)](/•\\s/g,'')+'\x20(สำหรับ\x20'+_0x4ad139+')',[_0x4f8c67(0x93c),_0x4f8c67(0xc6a),_0x4f8c67(0x97c)][_0x4f8c67(0xb32)](_0x1998b1=>{const _0x8e3b27=_0x4f8c67;document[_0x8e3b27(0xca0)](_0x1998b1)['innerHTML']='';}),document['getElementById']('pointContent')[_0x4f8c67(0xa5b)]=_0x599f7b?marked['parse'](_0x599f7b):_0x4f8c67(0x5af),document[_0x4f8c67(0xca0)](_0x4f8c67(0xc6a))[_0x4f8c67(0xa5b)]=_0x41466d?marked[_0x4f8c67(0x608)](_0x41466d):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document[_0x4f8c67(0xca0)](_0x4f8c67(0x97c))[_0x4f8c67(0xa5b)]=_0xb24abd?marked[_0x4f8c67(0x608)](_0xb24abd):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',currentApplicationData=JSON[_0x4f8c67(0x608)](_0xcbd585);const _0x3a9187=document[_0x4f8c67(0xca0)](_0x4f8c67(0x689));_0x3a9187[_0x4f8c67(0xa5b)]=(currentApplicationData||[])[_0x4f8c67(0xc3d)]((_0x348a85,_0x288104)=>_0x4f8c67(0x483)+(_0x288104+0x1)+'.\x20'+marked[_0x4f8c67(0x3f3)](_0x348a85['question']||'')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x288104+_0x4f8c67(0xc4a)+(_0x348a85[_0x4f8c67(0xb7c)]||[])[_0x4f8c67(0xc3d)]((_0x56ed42,_0x2565f1)=>_0x4f8c67(0x83a)+_0x288104+',\x20'+_0x2565f1+_0x4f8c67(0x9fd)+String[_0x4f8c67(0x87b)](0x61+_0x2565f1)+'.\x20'+marked[_0x4f8c67(0x3f3)](_0x56ed42||'')+_0x4f8c67(0x28c))['join']('')+_0x4f8c67(0x67c))[_0x4f8c67(0xcbb)]('')||_0x4f8c67(0xa64),window[_0x4f8c67(0x858)]&&MathJax[_0x4f8c67(0x5cc)]([_0x4970d5]),_0x7e095f['classList']['add'](_0x4f8c67(0xb23)),_0x4970d5[_0x4f8c67(0x396)]['remove'](_0x4f8c67(0xb23));}catch(_0x19384a){console['error'](_0x19384a);throw _0x19384a;}}function checkAnswer(_0x2765d1,_0x2a3efd){const _0x35c15c=_0x569b7c,_0x1d1fb6=currentApplicationData[_0x2765d1],_0x11b6d3=document[_0x35c15c(0xca0)]('q'+_0x2765d1+_0x35c15c(0x956)),_0x52c757=_0x11b6d3[_0x35c15c(0xcef)](_0x35c15c(0x654));for(let _0x22c1b4 of _0x52c757){_0x22c1b4[_0x35c15c(0x7b4)]=!![];}_0x2a3efd===_0x1d1fb6[_0x35c15c(0xc52)]?_0x52c757[_0x2a3efd][_0x35c15c(0x396)][_0x35c15c(0x46b)]('correct'):(_0x52c757[_0x2a3efd][_0x35c15c(0x396)][_0x35c15c(0x46b)](_0x35c15c(0xbbb)),_0x52c757[_0x1d1fb6[_0x35c15c(0xc52)]][_0x35c15c(0x396)][_0x35c15c(0x46b)](_0x35c15c(0xa80)));}window['handleGenerateAndShowLesson']=handleGenerateAndShowLesson,window[_0x569b7c(0x448)]=checkAnswer,window[_0x569b7c(0x263)]=handleGeneratePracticeTest,window[_0x569b7c(0x3c2)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0xd7dc75=_0x569b7c;try{const _0x1bd257=initializeApp(firebaseConfig);db=getFirestore(_0x1bd257),auth=getAuth(_0x1bd257),setupAuthListener(),setupEventListeners(),showView(_0xd7dc75(0xa9a)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x12dde8){console[_0xd7dc75(0x728)]('Firebase\x20initialization\x20failed:',_0x12dde8),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x5f6f46=_0x569b7c,_0x4dfbe9=document[_0x5f6f46(0xca0)]('quiz-editor-modal');if(!_0x4dfbe9)return;const _0x3c9e41=document[_0x5f6f46(0xca0)](_0x5f6f46(0x6db));_0x3c9e41['disabled']=!![],_0x3c9e41[_0x5f6f46(0xa5b)]=_0x5f6f46(0x82b);try{const _0x27b359=_0x4dfbe9[_0x5f6f46(0x31c)](_0x5f6f46(0x805)),_0xb1b24c=Array['from'](_0x27b359)[_0x5f6f46(0xc3d)]((_0x1f177c,_0x332148)=>{const _0x3be616=_0x5f6f46,_0x51e052=_0x1f177c[_0x3be616(0x507)][_0x3be616(0x3db)],_0x2cff8e=_0x1f177c['querySelector']('textarea')[_0x3be616(0xb85)];let _0x282aeb=null,_0x5612b9='';switch(_0x51e052){case _0x3be616(0x27b):const _0x4504ed=_0x1f177c[_0x3be616(0x31c)](_0x3be616(0x9ed));_0x282aeb=Array[_0x3be616(0x95b)](_0x4504ed)[_0x3be616(0xc3d)](_0x1c245f=>_0x1c245f[_0x3be616(0xb85)]);const _0x44b4f7=_0x1f177c[_0x3be616(0xb90)](_0x3be616(0x1d9));_0x44b4f7&&(_0x5612b9=_0x282aeb[parseInt(_0x44b4f7[_0x3be616(0xb85)])]);break;case _0x3be616(0x934):_0x5612b9=_0x1f177c[_0x3be616(0xb90)](_0x3be616(0x9c9))[_0x3be616(0xb85)];break;case'true_false':const _0x2085be=_0x1f177c[_0x3be616(0xb90)](_0x3be616(0x1d9));_0x5612b9=_0x2085be?_0x2085be[_0x3be616(0xb85)]:'';break;case _0x3be616(0x489):_0x5612b9=_0x1f177c[_0x3be616(0xb90)](_0x3be616(0xa78))['value'];break;}return{'question':_0x2cff8e,'options':_0x282aeb,'proposedAnswer':_0x5612b9};}),_0xf34266=_0x5f6f46(0x4c7)+JSON[_0x5f6f46(0x25e)](_0xb1b24c)+_0x5f6f46(0xa25),_0x17d94a={'type':_0x5f6f46(0x7c4),'items':{'type':_0x5f6f46(0xbcd),'properties':{'questionIndex':{'type':_0x5f6f46(0x911)},'isCorrect':{'type':_0x5f6f46(0xc31)},'justification':{'type':_0x5f6f46(0xb67)},'suggestedAnswer':{'type':_0x5f6f46(0xb67)}},'required':[_0x5f6f46(0x87c),_0x5f6f46(0x280),_0x5f6f46(0xb8d)]}},_0x2f4955=await callAnalysisApi(_0xf34266,{'type':'OBJECT','properties':{'result':_0x17d94a},'required':[_0x5f6f46(0x5d4)]});displayVerificationResultsInEditor(_0x2f4955[_0x5f6f46(0x5d4)]);}catch(_0x1ae98f){console['error'](_0x5f6f46(0x7ef),_0x1ae98f),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x3c9e41['disabled']=![],_0x3c9e41[_0x5f6f46(0xa5b)]=_0x5f6f46(0x822);}}function displayVerificationResultsInEditor(_0x30a319){const _0x4cbf3c=_0x569b7c;_0x30a319['forEach'](_0x2ba3c1=>{const _0x4c7d00=_0x1447,_0x593c8c=document[_0x4c7d00(0xb90)](_0x4c7d00(0xd4e)+_0x2ba3c1[_0x4c7d00(0x87c)]+'\x22]');if(!_0x593c8c)return;const _0x5ca045=_0x593c8c[_0x4c7d00(0xb90)](_0x4c7d00(0x33b));if(_0x5ca045)_0x5ca045[_0x4c7d00(0x76f)]();let _0x5cb582='';if(_0x2ba3c1[_0x4c7d00(0x280)])_0x5cb582=_0x4c7d00(0x7ee);else{const _0x2836fa=_0x2ba3c1['suggestedAnswer']?_0x4c7d00(0x47a):'';_0x5cb582=_0x4c7d00(0x325)+_0x2836fa+_0x4c7d00(0x803)+_0x2ba3c1[_0x4c7d00(0xb8d)]+_0x4c7d00(0xc5b)+(_0x2ba3c1['suggestedAnswer']?_0x4c7d00(0x758)+_0x2ba3c1[_0x4c7d00(0x87e)]+_0x4c7d00(0xb3a):'')+_0x4c7d00(0x305);}_0x593c8c[_0x4c7d00(0xad1)](_0x4c7d00(0x265),_0x5cb582);if(!_0x2ba3c1[_0x4c7d00(0x280)]&&_0x2ba3c1['suggestedAnswer']){const _0x45fd77=_0x593c8c[_0x4c7d00(0x507)][_0x4c7d00(0x3db)],_0x3c35f3=_0x1d6796=>{const _0x4621b6=_0x4c7d00;if(!_0x1d6796)return;_0x1d6796['classList'][_0x4621b6(0x46b)](_0x4621b6(0x2b7),_0x4621b6(0x9ea),'duration-300'),setTimeout(()=>{const _0x224e24=_0x4621b6;_0x1d6796[_0x224e24(0x396)][_0x224e24(0x76f)](_0x224e24(0x2b7));},0x9c4);};if(_0x45fd77==='multiple_choice'){const _0x4876ce=Array[_0x4c7d00(0x95b)](_0x593c8c['querySelectorAll'](_0x4c7d00(0x9ed))),_0x3fa27a=_0x4876ce['findIndex'](_0x6c76ec=>_0x6c76ec[_0x4c7d00(0xb85)][_0x4c7d00(0xc9e)]()[_0x4c7d00(0x38f)]()===_0x2ba3c1[_0x4c7d00(0x87e)][_0x4c7d00(0xc9e)]()[_0x4c7d00(0x38f)]());if(_0x3fa27a!==-0x1){const _0x5794df=_0x593c8c['querySelector'](_0x4c7d00(0x753)+_0x3fa27a+'\x22]');_0x5794df&&(_0x5794df[_0x4c7d00(0x397)]=!![],_0x3c35f3(_0x5794df[_0x4c7d00(0xa9f)](_0x4c7d00(0x869))));}}else{if(_0x45fd77===_0x4c7d00(0x934)||_0x45fd77===_0x4c7d00(0x489)){const _0x12dc08=_0x593c8c[_0x4c7d00(0xb90)](_0x4c7d00(0x9e3));_0x12dc08&&(_0x12dc08[_0x4c7d00(0xb85)]=_0x2ba3c1[_0x4c7d00(0x87e)],_0x3c35f3(_0x12dc08));}else{if(_0x45fd77===_0x4c7d00(0xa08)){const _0x22b0a7=_0x2ba3c1[_0x4c7d00(0x87e)][_0x4c7d00(0xc9e)]()[_0x4c7d00(0x38f)](),_0x1e5c3c=_0x593c8c['querySelector'](_0x4c7d00(0x753)+_0x22b0a7+'\x22]');_0x1e5c3c&&(_0x1e5c3c['checked']=!![],_0x3c35f3(_0x1e5c3c['closest'](_0x4c7d00(0x869))));}}}}}),showMessage(_0x4cbf3c(0x382));}async function handleVerifyAnswers(){const _0x250eca=_0x569b7c;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x250eca(0xb5b));return;}const _0x3b4b20=document['getElementById']('verify-answers-btn');_0x3b4b20[_0x250eca(0x7b4)]=!![],_0x3b4b20[_0x250eca(0xa5b)]=_0x250eca(0x82b);try{const _0xe7673b=currentQuizData[_0x250eca(0x981)][_0x250eca(0xc3d)]((_0x323a17,_0x40e7f0)=>{const _0x4c86fd=_0x250eca;let _0x442bf3='';const _0x1c354c=_0x323a17[_0x4c86fd(0x879)]||currentQuizData['quizType'];switch(_0x1c354c){case _0x4c86fd(0x27b):_0x442bf3=_0x323a17[_0x4c86fd(0xb7c)][_0x323a17[_0x4c86fd(0x481)]];break;case _0x4c86fd(0x934):_0x442bf3=_0x323a17[_0x4c86fd(0x8ca)];break;case'true_false':_0x442bf3=_0x323a17['correctAnswer'][_0x4c86fd(0xae2)]();break;case _0x4c86fd(0x489):_0x442bf3=_0x323a17['correctResponse'];break;}return{'question':_0x323a17[_0x4c86fd(0x73f)]||_0x323a17[_0x4c86fd(0x332)],'options':_0x323a17[_0x4c86fd(0xb7c)]||null,'proposedAnswer':_0x442bf3};}),_0x32e254='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x250eca(0x25e)](_0xe7673b)+_0x250eca(0x346),_0x57d86b={'type':_0x250eca(0x7c4),'items':{'type':_0x250eca(0xbcd),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x250eca(0xc31)},'justification':{'type':_0x250eca(0xb67)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x250eca(0x87c),'isCorrect','justification']}},_0x2239d6=await callAnalysisApi(_0x32e254,{'type':_0x250eca(0xbcd),'properties':{'result':_0x57d86b},'required':[_0x250eca(0x5d4)]});displayVerificationResults(_0x2239d6[_0x250eca(0x5d4)]);}catch(_0x1bbad3){console[_0x250eca(0x728)](_0x250eca(0x3f1),_0x1bbad3),showMessage(_0x250eca(0x412));}finally{_0x3b4b20[_0x250eca(0x7b4)]=![],_0x3b4b20[_0x250eca(0xa5b)]=_0x250eca(0x493);}}function displayVerificationResults(_0x4a40a6){_0x4a40a6['forEach'](_0x4a0c08=>{const _0x39a6=_0x1447,_0x50c91f=document[_0x39a6(0xb90)]('div[data-question-index=\x22'+_0x4a0c08['questionIndex']+'\x22]');if(_0x50c91f){const _0x54918a=_0x50c91f[_0x39a6(0xb90)](_0x39a6(0x91c));if(_0x54918a)_0x54918a[_0x39a6(0x76f)]();let _0x529322='';_0x4a0c08[_0x39a6(0x280)]?_0x529322=_0x39a6(0xccb):_0x529322=_0x39a6(0x779)+_0x4a0c08[_0x39a6(0xb8d)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4a0c08[_0x39a6(0x87e)]?_0x39a6(0x758)+_0x4a0c08[_0x39a6(0x87e)]+_0x39a6(0xb3a):'')+_0x39a6(0x2eb),_0x50c91f[_0x39a6(0xad1)]('beforeend',_0x529322);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x556fd6,_0x379042){const _0x45781c=_0x569b7c,_0x3016e5=String(_0x556fd6)[_0x45781c(0xa12)](',','.')['replace'](/[^\d.-]/g,'')[_0x45781c(0xc9e)](),_0x338026=String(_0x379042)[_0x45781c(0xa12)](',','.')[_0x45781c(0xa12)](/[^\d.-]/g,'')[_0x45781c(0xc9e)]();if(_0x3016e5===''||_0x338026==='')return![];const _0x3dc508=parseFloat(_0x3016e5),_0x66d096=parseFloat(_0x338026);if(isNaN(_0x3dc508)||isNaN(_0x66d096))return![];return Math[_0x45781c(0x8dd)](_0x3dc508-_0x66d096)<0.001;}function isPotentiallyNumeric(_0x44fe5d){const _0x35cc64=_0x569b7c;if(typeof _0x44fe5d!==_0x35cc64(0x90f)&&typeof _0x44fe5d!==_0x35cc64(0x3c8))return![];const _0x44a7f9=String(_0x44fe5d)['replace'](',','.')[_0x35cc64(0xc9e)]();return _0x44a7f9!==''&&!isNaN(parseFloat(_0x44a7f9))&&isFinite(_0x44a7f9);}async function gradeShortAnswer(_0x4dbbfd,_0x393da2){const _0x458971=_0x569b7c,_0x367dcd=_0x393da2[_0x458971(0x8ca)],_0x4f70ea=String(_0x4dbbfd)[_0x458971(0xa12)](/\$/g,'')[_0x458971(0xc9e)](),_0x2dfd8d=String(_0x367dcd)['replace'](/\$/g,'')[_0x458971(0xc9e)]();if(_0x4f70ea['toLowerCase']()===_0x2dfd8d[_0x458971(0x38f)]())return!![];if(isPotentiallyNumeric(_0x4f70ea)&&isPotentiallyNumeric(_0x2dfd8d)){if(compareNumericalAnswers(_0x4f70ea,_0x2dfd8d))return!![];}return console[_0x458971(0x2fa)](_0x458971(0x9f5)),await gradeShortAnswerWithAI(_0x4dbbfd,_0x367dcd);}async function revealAnswerForAdmin(_0xa598cb,_0x4e810e){const _0x21b4c1=_0x569b7c,_0x338bf9=doc(db,'artifacts/'+appId+_0x21b4c1(0x9e1),currentLiveGameId);await updateDoc(_0x338bf9,{'questionStatus':_0x21b4c1(0x7ea)});}function showTop5LeaderboardView(_0x2a205e){const _0x5b2ed8=_0x569b7c,_0x4983d7=Object[_0x5b2ed8(0x224)](_0x2a205e[_0x5b2ed8(0x3fc)]||{})[_0x5b2ed8(0x959)](_0x186852=>_0x186852['status']===_0x5b2ed8(0x88e));_0x4983d7[_0x5b2ed8(0x64b)]((_0x476236,_0x133752)=>_0x133752[_0x5b2ed8(0x9f4)]-_0x476236['score']);const _0xb1934f=_0x4983d7['slice'](0x0,0x5),_0x3ee4e9=_0x5b2ed8(0x7c7)+_0xb1934f['map']((_0x512294,_0x161802)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x161802+0x1)+'.\x20'+(_0x512294['name']||Object[_0x5b2ed8(0x65a)](_0x2a205e[_0x5b2ed8(0x3fc)])[_0x5b2ed8(0xd14)](_0x4ec70f=>_0x2a205e[_0x5b2ed8(0x3fc)][_0x4ec70f]===_0x512294))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+_0x512294[_0x5b2ed8(0x9f4)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5b2ed8(0xcbb)]('')+_0x5b2ed8(0x639)+(_0x2a205e[_0x5b2ed8(0x720)]+0x1===currentQuizData[_0x5b2ed8(0x981)]['length']?_0x5b2ed8(0x37c):_0x5b2ed8(0x3ae))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x3ee4e9,document['getElementById'](_0x5b2ed8(0x6b1))[_0x5b2ed8(0x79b)](_0x5b2ed8(0xd52),async()=>{const _0xc69d0=_0x5b2ed8,_0x2f392e=doc(db,_0xc69d0(0x25b)+appId+_0xc69d0(0x9e1),currentLiveGameId),_0x569c58=_0x2a205e[_0xc69d0(0x720)]+0x1;if(_0x569c58<currentQuizData[_0xc69d0(0x981)]['length']){const _0x5cda7e={'currentQuestionIndex':_0x569c58,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0xc69d0(0x7cb)};Object[_0xc69d0(0x65a)](_0x2a205e[_0xc69d0(0x3fc)])[_0xc69d0(0xb32)](_0x35518d=>{const _0x25a862=_0xc69d0;_0x5cda7e[_0x25a862(0x5c8)+_0x35518d+_0x25a862(0x472)]=![];}),await updateDoc(_0x2f392e,_0x5cda7e);}else await updateDoc(_0x2f392e,{'status':_0xc69d0(0xa09)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x2835d1=>{const _0x4cfbf9=_0x1447;if(_0x2835d1){userId=_0x2835d1[_0x4cfbf9(0xbb3)],userIdDisplay[_0x4cfbf9(0x8a5)]=userId;const _0x3c76a0=await loadUserPreferences();_0x3c76a0[_0x4cfbf9(0xcde)]&&(document[_0x4cfbf9(0xca0)](_0x4cfbf9(0x303))[_0x4cfbf9(0xb85)]=_0x3c76a0['projectSortOrder']);globalDashboardSettings[_0x4cfbf9(0x6bf)]=_0x3c76a0[_0x4cfbf9(0x6bf)]||_0x4cfbf9(0xa07);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x344199,_0x40443b){const _0x531d54=_0x569b7c;if(!userId)return;try{const _0x6fe1f6=doc(db,'artifacts/'+appId+_0x531d54(0x3a0)+userId+_0x531d54(0xc42)),_0x432576={};_0x432576[_0x344199]=_0x40443b,await setDoc(_0x6fe1f6,_0x432576,{'merge':!![]});}catch(_0x2d7179){console[_0x531d54(0x728)](_0x531d54(0xb12),_0x2d7179);}}async function loadUserPreferences(){const _0x6b20cc=_0x569b7c;if(!userId)return{};try{const _0x100f83=doc(db,_0x6b20cc(0x25b)+appId+_0x6b20cc(0x3a0)+userId+_0x6b20cc(0xc42)),_0x68afdc=await getDoc(_0x100f83);if(_0x68afdc[_0x6b20cc(0x6c9)]())return _0x68afdc[_0x6b20cc(0x7f5)]();return{};}catch(_0x4cc793){return console[_0x6b20cc(0x728)](_0x6b20cc(0x8ad),_0x4cc793),{};}}function parseIndentedBlueprint(_0x1393fe){const _0xe5e7df=_0x569b7c,_0x3bf5ce=_0x1393fe[_0xe5e7df(0x600)]('\x0a')[_0xe5e7df(0x959)](_0x2330bc=>_0x2330bc[_0xe5e7df(0xc9e)]()!==''),_0x36d3b6=[];let _0x10bbd6=null,_0x265807=null;return _0x3bf5ce[_0xe5e7df(0xb32)](_0x4cc633=>{const _0x12e943=_0xe5e7df,_0x1faa8a=_0x4cc633[_0x12e943(0x86c)](/^\s*/)[0x0][_0x12e943(0xcda)],_0x556dca=_0x4cc633[_0x12e943(0xc9e)]();if(_0x1faa8a===0x0)_0x10bbd6={'sara':_0x556dca,'mainTopics':[]},_0x36d3b6['push'](_0x10bbd6),_0x265807=null;else{if(_0x1faa8a>0x0&&_0x1faa8a<0x8&&_0x10bbd6)_0x265807={'topicName':_0x556dca,'subTopics':[]},_0x10bbd6[_0x12e943(0x89b)]['push'](_0x265807);else _0x1faa8a>=0x8&&_0x265807&&_0x265807[_0x12e943(0xb88)][_0x12e943(0xae7)](_0x556dca);}}),{'curriculum':_0x36d3b6};}async function handleManualBlueprintSave(){const _0x869b6=_0x569b7c,_0x3fff2f=document[_0x869b6(0xca0)](_0x869b6(0x235))[_0x869b6(0xb85)][_0x869b6(0xc9e)](),_0x110a1d=document[_0x869b6(0xca0)]('manual-bp-grade-level')['value'][_0x869b6(0xc9e)](),_0x538436=document[_0x869b6(0xca0)](_0x869b6(0xb82))[_0x869b6(0xb85)];if(!_0x3fff2f||!_0x110a1d||!_0x538436){showMessage(_0x869b6(0x4e7));return;}const _0xe8ba57=parseIndentedBlueprint(_0x538436);if(!_0xe8ba57[_0x869b6(0x230)]||_0xe8ba57[_0x869b6(0x230)][_0x869b6(0xcda)]===0x0){showMessage('ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้');return;}const _0x231138={};let _0x5645e4=0x0;_0xe8ba57['curriculum'][_0x869b6(0xb32)](_0x288d79=>{const _0xe294ec=_0x869b6;_0x288d79[_0xe294ec(0x89b)][_0xe294ec(0xb32)](_0x43d5bf=>{const _0x27f56e=_0xe294ec;_0x43d5bf[_0x27f56e(0xb88)][_0x27f56e(0xb32)](_0x538428=>{const _0x543f6b=_0x27f56e,_0x22297c=_0x543f6b(0x316)+Date[_0x543f6b(0x721)]()+Math[_0x543f6b(0x7ff)]()[_0x543f6b(0xae2)](0x24)['substr'](0x2,0x9);_0x231138[_0x22297c]={'sara':_0x288d79['sara'],'mainTopic':_0x43d5bf[_0x543f6b(0x638)],'subTopic':_0x538428,'status':'not_generated','lessonContent':null,'order':_0x5645e4++};});});});try{const _0x1c8080=collection(db,_0x869b6(0x25b)+appId+_0x869b6(0x8a2));await addDoc(_0x1c8080,{'projectName':_0x3fff2f,'gradeLevel':_0x110a1d,'topics':_0x231138,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x3fff2f+_0x869b6(0xbd3)),document[_0x869b6(0xca0)](_0x869b6(0x634))[_0x869b6(0x396)][_0x869b6(0x46b)](_0x869b6(0xb23));}catch(_0x56c4dc){console[_0x869b6(0x728)](_0x869b6(0xb2a),_0x56c4dc),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}function handleClearAllLinksForTopic(_0x1392aa){const _0x3b69b6=_0x569b7c;showConfirmation(_0x3b69b6(0x663),async()=>{const _0x41c7ce=_0x3b69b6;try{const _0x39fde4=doc(db,_0x41c7ce(0x25b)+appId+_0x41c7ce(0x8a2),currentBlueprintProjectId);await updateDoc(_0x39fde4,{[_0x41c7ce(0x22a)+_0x1392aa+_0x41c7ce(0xb50)]:[]}),showMessage(_0x41c7ce(0x23d)),openTopicQuizBank(_0x1392aa),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4a22a4){console[_0x41c7ce(0x728)](_0x41c7ce(0xcbc),_0x4a22a4),showMessage(_0x41c7ce(0x681));}});}function showPodiumView(_0x167ae2,_0x55d4af='live-race'){const _0x564f34=_0x569b7c,_0x3af2a8=Object[_0x564f34(0x76b)](_0x167ae2)['map'](([_0x7fdd57,_0x330084])=>({'name':_0x7fdd57,'score':_0x330084[_0x564f34(0x9f4)]||0x0,'badges':_0x330084[_0x564f34(0x8c3)]||[],'hasPerfectScoreBonus':_0x330084['hasPerfectScoreBonus']||![]}));_0x3af2a8[_0x564f34(0x64b)]((_0x4a3637,_0x3abe34)=>{const _0x1a352a=_0x564f34,_0x2c711a=_0x3abe34[_0x1a352a(0x9f4)]-_0x4a3637[_0x1a352a(0x9f4)];if(_0x2c711a!==0x0)return _0x2c711a;return(_0x3abe34[_0x1a352a(0x8c3)]['length']||0x0)-(_0x4a3637['badges']['length']||0x0);});const _0x226a9f=_0x5326be=>{const _0x5e508e=_0x564f34;if(!_0x5326be||_0x5326be[_0x5e508e(0xcda)]===0x0)return'';const _0x895eff={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x5326be[_0x5e508e(0xc3d)](_0x3d1276=>_0x895eff[_0x3d1276]||'')[_0x5e508e(0xcbb)]('')+_0x5e508e(0x3f0);},_0x4e735d=_0x3af2a8['slice'](0x3),_0x64c7ba=_0x4e735d[_0x564f34(0xcda)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e735d['map']((_0x2650d4,_0x5ad18d)=>{const _0x502661=_0x564f34,_0x2200ac=_0x2650d4[_0x502661(0x2b3)]?_0x502661(0x26b):'';return _0x502661(0xa41)+(_0x5ad18d+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x2650d4[_0x502661(0x5bd)]+_0x502661(0x89a)+_0x2650d4[_0x502661(0x9f4)]+_0x502661(0x353)+_0x2200ac+_0x502661(0x8e9);})[_0x564f34(0xcbb)]('')+_0x564f34(0x349):'',_0x4763f3=_0x564f34(0x795)+(_0x3af2a8[0x1]?_0x564f34(0xaca)+_0x3af2a8[0x1][_0x564f34(0x5bd)]+'</p>'+_0x226a9f(_0x3af2a8[0x1][_0x564f34(0x8c3)])+_0x564f34(0x30f)+_0x3af2a8[0x1][_0x564f34(0x9f4)]+_0x564f34(0x353)+(_0x3af2a8[0x1][_0x564f34(0x2b3)]?_0x564f34(0x1ba):'')+_0x564f34(0x1e4):_0x564f34(0xba0))+_0x564f34(0x8a3)+(_0x3af2a8[0x0]?_0x564f34(0x1d1)+_0x3af2a8[0x0][_0x564f34(0x5bd)]+_0x564f34(0xb3a)+_0x226a9f(_0x3af2a8[0x0][_0x564f34(0x8c3)])+_0x564f34(0x50b)+_0x3af2a8[0x0][_0x564f34(0x9f4)]+_0x564f34(0x353)+(_0x3af2a8[0x0]['hasPerfectScoreBonus']?_0x564f34(0x1ba):'')+'</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>':_0x564f34(0xba0))+_0x564f34(0x8a3)+(_0x3af2a8[0x2]?_0x564f34(0x434)+_0x3af2a8[0x2]['name']+_0x564f34(0xb3a)+_0x226a9f(_0x3af2a8[0x2][_0x564f34(0x8c3)])+_0x564f34(0x30f)+_0x3af2a8[0x2][_0x564f34(0x9f4)]+_0x564f34(0x353)+(_0x3af2a8[0x2][_0x564f34(0x2b3)]?_0x564f34(0x1ba):'')+_0x564f34(0x7e4):_0x564f34(0xba0))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x64c7ba+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x564f34(0x42a)?'<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>':'<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>')+_0x564f34(0x8a7);liveGameView[_0x564f34(0xa5b)]=_0x4763f3,currentMode===_0x564f34(0x42a)&&document[_0x564f34(0xca0)](_0x564f34(0x3e6))[_0x564f34(0x79b)](_0x564f34(0xd52),async()=>{const _0x30b321=_0x564f34;let _0x48730c;_0x55d4af===_0x30b321(0x6c1)?_0x48730c=doc(db,_0x30b321(0x25b)+appId+'/public/data/syncGames',currentLiveGameId):_0x48730c=doc(db,'artifacts/'+appId+_0x30b321(0x9e1),currentLiveGameId),await deleteDoc(_0x48730c);});}function renderSyncSummaryView(_0x4b71d9,_0x2d0623,_0x3fe373){const _0xed6ad4=_0x569b7c,_0x4b36b9=Object['values'](_0x4b71d9['players']||{}),_0x38a9bc=_0x2d0623[_0xed6ad4(0x879)]||_0x4b71d9[_0xed6ad4(0x495)][_0xed6ad4(0x5c7)];let _0x34e3d3=[];_0x38a9bc===_0xed6ad4(0xa08)?_0x34e3d3=['ใช่\x20/\x20ถูก',_0xed6ad4(0x3fe)]:_0x34e3d3=_0x2d0623[_0xed6ad4(0xb7c)]||[];const _0xa7ae6=new Array(_0x34e3d3[_0xed6ad4(0xcda)])[_0xed6ad4(0x781)](0x0),_0x2df2b6={};_0x34e3d3['forEach']((_0x541e22,_0xd8aab5)=>{_0x2df2b6[_0xd8aab5]=[];}),Object['entries'](_0x4b71d9[_0xed6ad4(0x3fc)]||{})['forEach'](([_0x485c2c,_0x490d8b])=>{const _0x430631=_0xed6ad4;if(_0x490d8b[_0x430631(0xc81)]!==_0x430631(0x6e6)&&_0x490d8b[_0x430631(0xb1b)]!==undefined&&_0x490d8b[_0x430631(0xb1b)]!==null){const _0x368c83=_0x490d8b[_0x430631(0xb1b)];_0x2df2b6[_0x368c83]!==undefined&&(_0x2df2b6[_0x368c83][_0x430631(0xae7)](_0x485c2c),_0xa7ae6[_0x368c83]++);}});let _0x409924='';_0x3fe373?_0x409924='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':_0x409924=_0xed6ad4(0xd1e);const _0x9345fa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>'+_0x2d0623['questionText']+_0xed6ad4(0xb5d)+_0xa7ae6[_0xed6ad4(0xc3d)]((_0x3ec1ca,_0x307f98)=>{const _0x56df9d=_0xed6ad4,_0x9aea8=_0x2df2b6[_0x307f98][_0x56df9d(0xcda)]>0x0?_0x2df2b6[_0x307f98][_0x56df9d(0xcbb)](',\x20'):_0x56df9d(0xca6),_0x845e67=_0x56df9d(0x221);return _0x56df9d(0xc6c)+_0x3ec1ca+_0x56df9d(0x643)+_0x845e67+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x307f98+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x34e3d3[_0x307f98]+_0x56df9d(0x1fe)+_0x307f98+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x9aea8+_0x56df9d(0xced);})[_0xed6ad4(0xcbb)]('')+_0xed6ad4(0x3da)+_0x409924+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0xed6ad4(0xa5b)]=_0x9345fa;if(window['MathJax'])MathJax[_0xed6ad4(0x5cc)]();_0x3fe373&&(document[_0xed6ad4(0xca0)](_0xed6ad4(0xcb0))[_0xed6ad4(0x79b)](_0xed6ad4(0xd52),async()=>{const _0x46d51a=_0xed6ad4,_0x180808=doc(db,'artifacts/'+appId+_0x46d51a(0x1f4),currentLiveGameId);await updateDoc(_0x180808,{'status':'results'});}),document[_0xed6ad4(0xca0)]('open-sync-scratchpad-btn')[_0xed6ad4(0xbe8)]=()=>{openScratchpad(_0x2d0623,_0x34e3d3);});}async function handleShowStudentRankings(){const _0x13cfe2=_0x569b7c,_0x5ce3f8=document[_0x13cfe2(0xb90)](_0x13cfe2(0xbfd));_0x5ce3f8&&(_0x5ce3f8[_0x13cfe2(0xa5b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x2e5e6a=document[_0x13cfe2(0xb90)](_0x13cfe2(0x5ae));_0x2e5e6a&&(_0x2e5e6a['innerHTML']=_0x13cfe2(0xa74));const _0x1f486a=document[_0x13cfe2(0xca0)]('student-rankings-modal');_0x1f486a[_0x13cfe2(0x396)][_0x13cfe2(0x76f)]('hidden'),document[_0x13cfe2(0xca0)](_0x13cfe2(0xbfe))[_0x13cfe2(0xbe8)]=()=>_0x1f486a[_0x13cfe2(0x396)][_0x13cfe2(0x46b)]('hidden');const _0x15954f=document[_0x13cfe2(0xca0)](_0x13cfe2(0x51c)),_0x176133=document[_0x13cfe2(0xca0)](_0x13cfe2(0x39b)),_0x114d06=document[_0x13cfe2(0xca0)](_0x13cfe2(0x1c6)),_0x4d5d34=document['getElementById']('student-project-leaderboard-content');_0x15954f[_0x13cfe2(0xbe8)]=()=>{const _0x7933fd=_0x13cfe2;_0x15954f[_0x7933fd(0x396)][_0x7933fd(0x46b)](_0x7933fd(0x88e)),_0x176133[_0x7933fd(0x396)][_0x7933fd(0x76f)](_0x7933fd(0x88e)),_0x114d06[_0x7933fd(0x396)][_0x7933fd(0x76f)]('hidden'),_0x4d5d34[_0x7933fd(0x396)]['add'](_0x7933fd(0xb23));},_0x176133[_0x13cfe2(0xbe8)]=()=>{const _0x175a5c=_0x13cfe2;_0x176133[_0x175a5c(0x396)]['add'](_0x175a5c(0x88e)),_0x15954f[_0x175a5c(0x396)]['remove']('active'),_0x4d5d34[_0x175a5c(0x396)][_0x175a5c(0x76f)](_0x175a5c(0xb23)),_0x114d06[_0x175a5c(0x396)][_0x175a5c(0x46b)]('hidden');};try{const _0xc2e8a7=collection(db,'artifacts/'+appId+_0x13cfe2(0x6f0)+currentQuizData['id']+_0x13cfe2(0x1ee)),_0x25b9e5=await getDocs(_0xc2e8a7),_0x2c9715=_0x25b9e5[_0x13cfe2(0x53c)][_0x13cfe2(0xc3d)](_0x2b05c6=>_0x2b05c6[_0x13cfe2(0x7f5)]());renderQuizLeaderboard(_0x2c9715,currentQuizData,_0x13cfe2(0x684));const _0xbc0cc2=collection(db,_0x13cfe2(0x25b)+appId+'/public/data/projects/'+currentQuizData['projectId']+'/studentProfiles'),_0x59a3d1=await getDocs(_0xbc0cc2),_0x41fa02=_0x59a3d1[_0x13cfe2(0x53c)][_0x13cfe2(0xc3d)](_0x50e638=>_0x50e638['data']());renderLeaderboard(_0x41fa02,_0x13cfe2(0x75e));}catch(_0x1b4b67){console[_0x13cfe2(0x728)](_0x13cfe2(0x4de),_0x1b4b67),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x5bc96a){const _0x12702d=_0x569b7c,_0x56561d=_0x5bc96a[_0x12702d(0x99a)],_0x179a14=_0x56561d[_0x12702d(0x507)][_0x12702d(0xbc5)],_0x2932d8=currentQuizData[_0x12702d(0x981)][_0x179a14];if(!userId){showMessage(_0x12702d(0x936));return;}try{const _0x1f6d10={..._0x2932d8,'originalTopic':currentQuizData[_0x12702d(0xaf8)],'savedAt':serverTimestamp()},_0x3693ad=collection(db,'artifacts/'+appId+_0x12702d(0x3a0)+userId+'/questionBank');await addDoc(_0x3693ad,_0x1f6d10),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x56561d[_0x12702d(0x396)][_0x12702d(0x76f)]('text-purple-600'),_0x56561d[_0x12702d(0x396)][_0x12702d(0x46b)]('text-green-600'),_0x56561d[_0x12702d(0x7b4)]=!![];}catch(_0x5d402a){console[_0x12702d(0x728)]('Error\x20saving\x20to\x20question\x20bank:',_0x5d402a),showMessage(_0x12702d(0xb83));}}async function selectProjectAndGenerateBlueprintQuiz(_0x38ac0a,_0xc8f093=null,_0x506ee9=null,_0x523842=![]){const _0x19091c=_0x569b7c;cameFromBlueprint=!![];const _0x559b6f=document[_0x19091c(0xca0)]('bp-reference-file-url')?.[_0x19091c(0xb85)][_0x19091c(0xc9e)]();let _0x12c62c=null;if(_0x559b6f){showMessage(_0x19091c(0x6da));try{const _0x204f60=await fetchFileFromUrl(_0x559b6f,_0x19091c(0xbc8)),_0x21b7e=await new Promise((_0x1e2866,_0x5cbab2)=>{const _0x35b6a9=_0x19091c,_0x5b3d28=new FileReader();_0x5b3d28[_0x35b6a9(0xa8c)](_0x204f60),_0x5b3d28[_0x35b6a9(0xab5)]=()=>_0x1e2866(_0x5b3d28[_0x35b6a9(0x5d4)][_0x35b6a9(0x600)](',')[0x1]),_0x5b3d28[_0x35b6a9(0x4c9)]=_0x5cbab2;});_0x12c62c=[{'inlineData':{'mimeType':_0x204f60[_0x19091c(0x8df)],'data':_0x21b7e}}],messageModal[_0x19091c(0x396)][_0x19091c(0x46b)](_0x19091c(0xb23));}catch(_0x181e31){console['error'](_0x19091c(0xa6f),_0x181e31),showMessage('ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ');}}const _0x6c96ab=document['getElementById']('move-quiz-modal'),_0x56b236=document[_0x19091c(0xca0)](_0x19091c(0xa1e)),_0x278c26=_0x6c96ab[_0x19091c(0xb90)]('h3'),_0xb2d7f4=document[_0x19091c(0xca0)]('confirm-move-quiz-btn'),_0x3637f5=document['getElementById'](_0x19091c(0x6e7));_0x278c26[_0x19091c(0x8a5)]=_0x19091c(0x24a),_0xb2d7f4[_0x19091c(0x8a5)]=_0x19091c(0x39d),_0xb2d7f4[_0x19091c(0x7b4)]=!![];allProjects['length']===0x0?_0x56b236[_0x19091c(0xa5b)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x56b236[_0x19091c(0xa5b)]=_0x19091c(0xc9d)+allProjects[_0x19091c(0xc3d)](_0x3afbe9=>_0x19091c(0x2df)+_0x3afbe9['id']+'\x22>'+_0x3afbe9[_0x19091c(0x8af)]+'</option>')['join'](''),_0xb2d7f4[_0x19091c(0x7b4)]=![]);_0x6c96ab[_0x19091c(0x396)][_0x19091c(0x76f)](_0x19091c(0xb23));const _0x21935e=async()=>{const _0x1c32a=_0x19091c,_0x563d42=_0x56b236[_0x1c32a(0xb85)];if(!_0x563d42){showMessage(_0x1c32a(0x64e));return;}_0x6c96ab['classList'][_0x1c32a(0x46b)]('hidden'),document[_0x1c32a(0xca0)](_0x1c32a(0x44d))[_0x1c32a(0x396)][_0x1c32a(0x46b)](_0x1c32a(0xb23)),await loadProjectDetails(_0x563d42),showView(_0x1c32a(0x969)),handleGenerateQuizFromBlueprintTopic(_0x38ac0a,_0xc8f093,_0x563d42,_0x506ee9,_0x523842,_0x12c62c),_0x1470d6();},_0x1470d6=()=>{const _0x25cf60=_0x19091c;_0x278c26['textContent']=_0x25cf60(0x326),_0xb2d7f4[_0x25cf60(0x8a5)]=_0x25cf60(0x83d),_0xb2d7f4[_0x25cf60(0xd44)](_0x25cf60(0xd52),_0x21935e),_0x3637f5[_0x25cf60(0xd44)](_0x25cf60(0xd52),_0x1470d6),_0xb2d7f4[_0x25cf60(0x79b)](_0x25cf60(0xd52),confirmMoveQuiz);};_0xb2d7f4[_0x19091c(0xd44)](_0x19091c(0xd52),confirmMoveQuiz),_0xb2d7f4['addEventListener'](_0x19091c(0xd52),_0x21935e),_0x3637f5[_0x19091c(0x79b)](_0x19091c(0xd52),_0x1470d6);}function listenForStarredQuizzes(){const _0x16d9d2=_0x569b7c;if(!userId)return;const _0x46825b=collection(db,_0x16d9d2(0x25b)+appId+_0x16d9d2(0x72c)),_0x5cab1a=query(_0x46825b,where(_0x16d9d2(0x25c),'==',!![]));onSnapshot(_0x5cab1a,_0x553af6=>{const _0x84262b=_0x16d9d2;starredQuizzes=_0x553af6[_0x84262b(0x53c)][_0x84262b(0xc3d)](_0x4815ac=>({'id':_0x4815ac['id'],..._0x4815ac['data']()})),currentProjectId===_0x84262b(0x945)?renderQuizzes():renderProjects();},_0x3afb71=>{const _0x5e9b62=_0x16d9d2;console['error'](_0x5e9b62(0x7a3),_0x3afb71);});}function listenForFileShortcuts(){const _0x2527cc=_0x569b7c,_0x128c4f=doc(db,_0x2527cc(0x687),_0x2527cc(0xb21));onSnapshot(_0x128c4f,_0x128e3e=>{const _0x359984=_0x2527cc;let _0x468679=[],_0x58e6e4=[],_0x1f5c2b={};if(_0x128e3e[_0x359984(0x6c9)]()){const _0x25a286=_0x128e3e[_0x359984(0x7f5)]();_0x468679=_0x25a286['shortcuts']||[],_0x58e6e4=_0x25a286['fileShortcutTabs']||[],_0x1f5c2b=_0x25a286[_0x359984(0xaf4)]||{};}!_0x58e6e4[_0x359984(0xd14)](_0x22eff0=>_0x22eff0['id']===_0x359984(0x606))&&_0x58e6e4[_0x359984(0x884)]({'id':_0x359984(0x606),'name':'ไฟล์ทั้งหมด','isDefault':!![]}),!_0x468679[_0x359984(0xd14)](_0x5795d3=>_0x5795d3['id']===_0x359984(0x5c6))&&_0x468679[_0x359984(0x884)]({'id':_0x359984(0x5c6),'name':'ไฟล์ลัด\x201','url':'','isDefault':!![]}),!_0x468679['find'](_0x53187c=>_0x53187c['id']===_0x359984(0x36a))&&_0x468679[_0x359984(0x884)]({'id':'file-default-2','name':_0x359984(0xd1b),'url':'','isDefault':!![]}),fileShortcuts=_0x468679,fileShortcutTabs=_0x58e6e4,fileShortcutOrder=_0x1f5c2b,renderFileShortcuts(),!document[_0x359984(0xca0)](_0x359984(0x271))[_0x359984(0x396)][_0x359984(0x1d0)](_0x359984(0xb23))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x5de662=_0x569b7c,_0x10adb5=doc(db,'globalSettings',_0x5de662(0xb21));try{await setDoc(_0x10adb5,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x1cdab1){console[_0x5de662(0x728)]('Error\x20saving\x20file\x20shortcut\x20config:',_0x1cdab1);}}function renderAdditionalFileShortcutsModal(){const _0x408641=_0x569b7c,_0x3bb8c2=document['getElementById'](_0x408641(0x4bb)),_0x1c5451=document['getElementById'](_0x408641(0xc68));if(!_0x3bb8c2||!_0x1c5451)return;_0x3bb8c2[_0x408641(0xa5b)]=fileShortcutTabs['map'](_0x25f115=>{const _0x803be1=_0x408641,_0x2b94b8=_0x25f115['id']===activeFileShortcutTabId;return _0x803be1(0x6ad)+_0x25f115['id']+'\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x2b94b8?_0x803be1(0xa50):_0x803be1(0x91d))+_0x803be1(0x69b)+_0x25f115[_0x803be1(0x5bd)]+_0x803be1(0x622)+_0x25f115[_0x803be1(0x5bd)]+_0x803be1(0x7eb)+(!_0x25f115[_0x803be1(0x7dc)]?_0x803be1(0xaa3)+_0x25f115['id']+_0x803be1(0x669):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x408641(0xcbb)]('');const _0x159412=fileShortcutTabs[_0x408641(0xd14)](_0x11e9ac=>_0x11e9ac['id']===activeFileShortcutTabId);let _0x5b7602=_0x159412?.[_0x408641(0x7dc)]?[...fileShortcuts]:fileShortcuts[_0x408641(0x959)](_0x5eb864=>(_0x159412?.[_0x408641(0x8d0)]||[])[_0x408641(0x771)](_0x5eb864['id']));const _0x41a6b2=fileShortcutOrder[activeFileShortcutTabId]||[];_0x5b7602[_0x408641(0x64b)]((_0x366e53,_0x3bb331)=>{const _0x5c49cb=_0x408641,_0x1dc6a8=_0x41a6b2[_0x5c49cb(0xa40)](_0x366e53['id']),_0x1388d8=_0x41a6b2[_0x5c49cb(0xa40)](_0x3bb331['id']);return(_0x1dc6a8===-0x1?Infinity:_0x1dc6a8)-(_0x1388d8===-0x1?Infinity:_0x1388d8);}),_0x1c5451[_0x408641(0xa5b)]=_0x5b7602[_0x408641(0xc3d)](_0x2426c5=>{const _0x3b34c8=_0x408641,_0x60b9ea=_0x2426c5['url']?'📄':'🔗',_0xff1fe9=fileShortcutTabs['filter'](_0x4c91bb=>!_0x4c91bb[_0x3b34c8(0x7dc)]),_0x12de05=_0x159412['isDefault']&&_0xff1fe9[_0x3b34c8(0xcda)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xff1fe9[_0x3b34c8(0xc3d)](_0x7bd241=>_0x3b34c8(0xd45)+_0x2426c5['id']+_0x3b34c8(0x9ad)+_0x7bd241['id']+'\x22>'+_0x7bd241[_0x3b34c8(0x5bd)]+_0x3b34c8(0x8fd))[_0x3b34c8(0xcbb)]('')+_0x3b34c8(0x333):'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x2426c5['id']+_0x3b34c8(0x983)+_0x60b9ea+'\x20'+_0x2426c5[_0x3b34c8(0x5bd)]+_0x3b34c8(0xc6b)+_0x2426c5['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2426c5['id']+_0x3b34c8(0xbcc)+(!_0x2426c5['isDefault']?_0x3b34c8(0x361)+_0x2426c5['id']+_0x3b34c8(0x967):'')+_0x3b34c8(0x5b5)+(!_0x159412[_0x3b34c8(0x7dc)]?_0x3b34c8(0x748)+_0x2426c5['id']+'\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12de05+_0x3b34c8(0xbf2);})['join']('')||_0x408641(0xc09),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x39593a=_0x569b7c;document[_0x39593a(0x31c)](_0x39593a(0x660))[_0x39593a(0xb32)](_0x3b7992=>{const _0x1ba18d=_0x39593a;_0x3b7992[_0x1ba18d(0xbe8)]=_0x4ee6f6=>{const _0x1a016f=_0x1ba18d;activeFileShortcutTabId=_0x4ee6f6[_0x1a016f(0x99a)][_0x1a016f(0x507)][_0x1a016f(0x817)],renderAdditionalFileShortcutsModal();},_0x3b7992[_0x1ba18d(0x7aa)]=_0x1bac9b=>{const _0x2572cc=_0x1ba18d,_0x23f4f9=_0x1bac9b[_0x2572cc(0x99a)][_0x2572cc(0xb90)](_0x2572cc(0x2e0));_0x1bac9b[_0x2572cc(0x99a)][_0x2572cc(0xb90)](_0x2572cc(0x5fa))[_0x2572cc(0x396)][_0x2572cc(0x46b)](_0x2572cc(0xb23)),_0x23f4f9[_0x2572cc(0x396)][_0x2572cc(0x76f)](_0x2572cc(0xb23)),_0x23f4f9['focus'](),_0x23f4f9[_0x2572cc(0xc3a)]();};}),document[_0x39593a(0x31c)]('#file-shortcut-tabs-nav\x20.tab-name-input')['forEach'](_0x312c08=>{const _0x5e2574=_0x39593a,_0x288720=()=>{const _0x3cf415=_0x1447,_0xad20bd=_0x312c08['closest'](_0x3cf415(0x660))[_0x3cf415(0x507)][_0x3cf415(0x817)],_0x512d91=fileShortcutTabs[_0x3cf415(0xd14)](_0x20c838=>_0x20c838['id']===_0xad20bd);_0x512d91&&(_0x512d91['name']=_0x312c08[_0x3cf415(0xb85)][_0x3cf415(0xc9e)]()||_0x512d91['name'],saveFileShortcutConfig());};_0x312c08[_0x5e2574(0xb36)]=_0x288720,_0x312c08['onkeydown']=_0x4b7a67=>{const _0x226483=_0x5e2574;if(_0x4b7a67[_0x226483(0x9c4)]===_0x226483(0xa65))_0x312c08[_0x226483(0xd09)]();};}),document[_0x39593a(0x31c)](_0x39593a(0xb5c))[_0x39593a(0xb32)](_0xaf7594=>_0xaf7594[_0x39593a(0xbe8)]=_0x16ef05=>{const _0x5124dd=_0x39593a,_0x4bc82d=_0x16ef05[_0x5124dd(0x99a)]['dataset'][_0x5124dd(0x817)];showConfirmation(_0x5124dd(0x3eb),()=>{const _0x5e33b7=_0x5124dd;fileShortcutTabs=fileShortcutTabs['filter'](_0x41da45=>_0x41da45['id']!==_0x4bc82d),delete fileShortcutOrder[_0x4bc82d];if(activeFileShortcutTabId===_0x4bc82d)activeFileShortcutTabId=_0x5e33b7(0x606);saveFileShortcutConfig();});}),document[_0x39593a(0x31c)](_0x39593a(0x4dd))[_0x39593a(0xb32)](_0x564f1e=>_0x564f1e[_0x39593a(0xbe8)]=_0x2922c2=>{const _0xadd6f2=_0x39593a;_0x2922c2['preventDefault']();const {shortcutId:_0xf8be00,targetTabId:_0xda8c74}=_0x2922c2['currentTarget']['dataset'],_0x560040=fileShortcutTabs[_0xadd6f2(0xd14)](_0x4da99c=>_0x4da99c['id']===_0xda8c74);_0x560040&&!_0x560040[_0xadd6f2(0x8d0)]['includes'](_0xf8be00)&&(_0x560040[_0xadd6f2(0x8d0)][_0xadd6f2(0xae7)](_0xf8be00),saveFileShortcutConfig());}),document[_0x39593a(0x31c)](_0x39593a(0x46d))[_0x39593a(0xb32)](_0x14f30f=>_0x14f30f['onclick']=_0x46a717=>{const _0x258ecc=_0x39593a,_0x5cad9f=_0x46a717[_0x258ecc(0x99a)][_0x258ecc(0x507)][_0x258ecc(0x9db)],_0x267b8b=fileShortcutTabs[_0x258ecc(0xd14)](_0xea38a8=>_0xea38a8['id']===activeFileShortcutTabId);_0x267b8b&&!_0x267b8b[_0x258ecc(0x7dc)]&&(_0x267b8b[_0x258ecc(0x8d0)]=_0x267b8b[_0x258ecc(0x8d0)][_0x258ecc(0x959)](_0x1303b1=>_0x1303b1!==_0x5cad9f),saveFileShortcutConfig());}),document[_0x39593a(0x31c)](_0x39593a(0x63f))[_0x39593a(0xb32)](_0x7224ac=>_0x7224ac['onclick']=_0x2dd4a9=>{const _0x58df61=_0x39593a;_0x2dd4a9['stopPropagation']();const _0xd8cca1=_0x2dd4a9['currentTarget'][_0x58df61(0x2e3)];document[_0x58df61(0x31c)]('.move-file-shortcut-dropdown')[_0x58df61(0xb32)](_0x65f119=>_0x65f119[_0x58df61(0x396)][_0x58df61(0x46b)]('hidden')),_0xd8cca1[_0x58df61(0x396)][_0x58df61(0x76f)]('hidden');});const _0x5507f6=document[_0x39593a(0xca0)](_0x39593a(0xc68));let _0x22af67=null;_0x5507f6['ondragstart']=_0x319333=>{const _0x5afce9=_0x39593a;_0x22af67=_0x319333[_0x5afce9(0xbe5)]['closest'](_0x5afce9(0x2e2));if(_0x22af67)setTimeout(()=>_0x22af67[_0x5afce9(0x396)][_0x5afce9(0x46b)](_0x5afce9(0xbbc)),0x0);},_0x5507f6[_0x39593a(0x459)]=()=>{const _0x507654=_0x39593a;_0x22af67&&(_0x22af67[_0x507654(0x396)][_0x507654(0x76f)]('opacity-50'),_0x22af67=null);},_0x5507f6[_0x39593a(0xab1)]=_0x104362=>{const _0x414958=_0x39593a;_0x104362[_0x414958(0x631)]();},_0x5507f6[_0x39593a(0x294)]=_0x108f1e=>{const _0x22f03b=_0x39593a;_0x108f1e[_0x22f03b(0x631)]();if(_0x22af67){const _0x4b6c62=[..._0x5507f6[_0x22f03b(0x31c)](_0x22f03b(0x7e6))][_0x22f03b(0x5c5)]((_0x27c19d,_0x1459a2)=>{const _0xa54ba1=_0x22f03b,_0x88ebb2=_0x1459a2[_0xa54ba1(0x815)](),_0x337027=_0x108f1e[_0xa54ba1(0x8cb)]-_0x88ebb2[_0xa54ba1(0xbb0)]-_0x88ebb2[_0xa54ba1(0x313)]/0x2;return _0x337027<0x0&&_0x337027>_0x27c19d[_0xa54ba1(0x28d)]?{'offset':_0x337027,'element':_0x1459a2}:_0x27c19d;},{'offset':Number['NEGATIVE_INFINITY']})[_0x22f03b(0x963)];_0x4b6c62==null?_0x5507f6[_0x22f03b(0xac6)](_0x22af67):_0x5507f6[_0x22f03b(0x4b5)](_0x22af67,_0x4b6c62);const _0x27586d=[..._0x5507f6[_0x22f03b(0x31c)](_0x22f03b(0x2e2))][_0x22f03b(0xc3d)](_0x230566=>_0x230566['dataset'][_0x22f03b(0x9db)]);fileShortcutOrder[activeFileShortcutTabId]=_0x27586d,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x16696f=_0x569b7c,_0x2a377e=prompt(_0x16696f(0x2f9),_0x16696f(0xcd9));_0x2a377e&&_0x2a377e[_0x16696f(0xc9e)]()&&(fileShortcutTabs['push']({'id':'tab_'+Date[_0x16696f(0x721)](),'name':_0x2a377e[_0x16696f(0xc9e)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x3d451a=_0x569b7c,_0x470939=document[_0x3d451a(0xca0)](_0x3d451a(0xb30)),_0x4bbd1b=document[_0x3d451a(0xca0)]('additional-file-shortcuts-list'),_0x4a5bd5=document[_0x3d451a(0xca0)]('file-shortcuts-loading-msg');if(_0x4a5bd5)_0x4a5bd5[_0x3d451a(0x396)]['add']('hidden');if(!_0x470939||!_0x4bbd1b)return;const _0x349baa=fileShortcuts[_0x3d451a(0x3f5)](0x0,0x4),_0xfa484d=fileShortcuts[_0x3d451a(0x3f5)](0x4);_0x470939[_0x3d451a(0xa5b)]=_0x349baa['map'](_0x1b614f=>{const _0x556d89=_0x3d451a,_0x4c9ad3=_0x1b614f[_0x556d89(0xd57)]&&_0x1b614f[_0x556d89(0xd57)]['trim']()!=='',_0x3520ff=selectedFile&&selectedFile['shortcutId']===_0x1b614f['id'];let _0x43b78a='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x1cc704='🔗';if(_0x3520ff)_0x43b78a=_0x556d89(0x3f6),_0x1cc704=_0x556d89(0x9fa);else _0x4c9ad3&&(_0x43b78a=_0x556d89(0xaf2),_0x1cc704='📄');const _0x35fa9d=!_0x1b614f[_0x556d89(0x7dc)]?_0x556d89(0x361)+_0x1b614f['id']+'\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x556d89(0x764)+_0x1b614f['id']+_0x556d89(0x4aa)+_0x43b78a+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>'+_0x1cc704+_0x556d89(0x4bc)+_0x1b614f['name']+_0x556d89(0xb6b)+_0x1b614f['id']+_0x556d89(0xbd1)+_0x35fa9d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3d451a(0xcbb)](''),_0xfa484d['length']>0x0&&(_0x470939[_0x3d451a(0xa5b)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0xfa484d['length']>0x0?_0x4bbd1b[_0x3d451a(0xa5b)]=_0xfa484d[_0x3d451a(0xc3d)](_0x34cf90=>_0x3d451a(0x9fe)+(_0x34cf90[_0x3d451a(0xd57)]?'📄':'🔗')+'\x20'+_0x34cf90[_0x3d451a(0x5bd)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x34cf90['id']+_0x3d451a(0x45b)+_0x34cf90['id']+_0x3d451a(0x40a)+(!_0x34cf90[_0x3d451a(0x7dc)]?_0x3d451a(0x361)+_0x34cf90['id']+_0x3d451a(0x967):'')+_0x3d451a(0x67c))[_0x3d451a(0xcbb)](''):_0x4bbd1b[_0x3d451a(0xa5b)]=_0x3d451a(0x276);}function openFileShortcutEditor(_0x54c4a8=null){const _0x2a3ff8=_0x569b7c,_0x18b3b6=document['getElementById']('file-shortcut-editor-modal'),_0x5e2417=document['getElementById'](_0x2a3ff8(0xd21)),_0x2c9e7e=document['getElementById']('file-shortcut-id-input'),_0x2d71ec=document[_0x2a3ff8(0xca0)](_0x2a3ff8(0xbd8)),_0x344a18=document[_0x2a3ff8(0xca0)](_0x2a3ff8(0x471));if(_0x54c4a8){const _0x48a788=fileShortcuts[_0x2a3ff8(0xd14)](_0x3d1df7=>_0x3d1df7['id']===_0x54c4a8);if(!_0x48a788)return;_0x5e2417[_0x2a3ff8(0x8a5)]='แก้ไขปุ่มลัดจากไฟล์',_0x2c9e7e[_0x2a3ff8(0xb85)]=_0x48a788['id'],_0x2d71ec['value']=_0x48a788[_0x2a3ff8(0x5bd)],_0x344a18[_0x2a3ff8(0xb85)]=_0x48a788['url']||'';}else _0x5e2417['textContent']=_0x2a3ff8(0x2cd),_0x2c9e7e[_0x2a3ff8(0xb85)]='',_0x2d71ec[_0x2a3ff8(0xb85)]='',_0x344a18['value']='';_0x18b3b6[_0x2a3ff8(0x396)][_0x2a3ff8(0x76f)]('hidden');}async function saveFileShortcutChanges(){const _0x1cb6c0=_0x569b7c,_0x479f66=document[_0x1cb6c0(0xca0)](_0x1cb6c0(0xc12))[_0x1cb6c0(0xb85)],_0x176b14=document[_0x1cb6c0(0xca0)]('file-shortcut-name-input')[_0x1cb6c0(0xb85)][_0x1cb6c0(0xc9e)](),_0x44b542=document[_0x1cb6c0(0xca0)](_0x1cb6c0(0x471))['value'][_0x1cb6c0(0xc9e)]();if(!_0x176b14){showMessage(_0x1cb6c0(0xbe1));return;}const _0x18fb73={'id':_0x479f66||_0x1cb6c0(0x236)+Date[_0x1cb6c0(0x721)](),'name':_0x176b14,'url':_0x44b542,'isDefault':_0x479f66[_0x1cb6c0(0x59b)](_0x1cb6c0(0xbf5))};let _0x456b46;_0x479f66?_0x456b46=fileShortcuts['map'](_0x438ddd=>_0x438ddd['id']===_0x479f66?_0x18fb73:_0x438ddd):_0x456b46=[...fileShortcuts,_0x18fb73];try{const _0x44d7d1=doc(db,_0x1cb6c0(0x687),_0x1cb6c0(0xb21));await setDoc(_0x44d7d1,{'shortcuts':_0x456b46},{'merge':!![]}),document[_0x1cb6c0(0xca0)](_0x1cb6c0(0x1e7))[_0x1cb6c0(0x396)]['add'](_0x1cb6c0(0xb23));}catch(_0x2a777d){console[_0x1cb6c0(0x728)](_0x1cb6c0(0x6b0),_0x2a777d),showMessage(_0x1cb6c0(0xb83));}}async function handleFileShortcutClick(_0x4e99ba){const _0x358a19=_0x569b7c,_0x591feb=fileShortcuts['find'](_0x37dd5c=>_0x37dd5c['id']===_0x4e99ba);if(!_0x591feb)return;if(!_0x591feb[_0x358a19(0xd57)]||_0x591feb['url'][_0x358a19(0xc9e)]()===''){openFileShortcutEditor(_0x4e99ba);return;}const _0x489530=document[_0x358a19(0xb90)](_0x358a19(0xa72)+_0x4e99ba+'\x22]');if(_0x489530){const _0x589bd2=_0x489530['innerHTML'];_0x489530[_0x358a19(0xa5b)]=_0x358a19(0x1c1),_0x489530[_0x358a19(0x7b4)]=!![];}document[_0x358a19(0x31c)]('.file-shortcut-btn')[_0x358a19(0xb32)](_0x1c6440=>{const _0x1aa951=_0x358a19;if(_0x1c6440[_0x1aa951(0x507)]['id']!==_0x4e99ba)_0x1c6440[_0x1aa951(0x396)][_0x1aa951(0x46b)](_0x1aa951(0xbbc),_0x1aa951(0x792));});try{const _0x49ec24=new URL(_0x591feb['url'])[_0x358a19(0x8c7)],_0x39fe44=_0x49ec24['substring'](_0x49ec24['lastIndexOf']('/')+0x1)||(_0x591feb[_0x358a19(0xd57)][_0x358a19(0x771)](_0x358a19(0x762))?_0x358a19(0x1d2):_0x358a19(0x5d9)),_0x50b936=await fetchFileFromUrl(_0x591feb['url'],_0x39fe44);_0x50b936[_0x358a19(0x9db)]=_0x4e99ba,selectedFile=_0x50b936,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x358a19(0xca0)](_0x358a19(0x291))[_0x358a19(0xc51)]({'behavior':_0x358a19(0xd10),'block':_0x358a19(0x708)});}catch(_0x37fd63){console[_0x358a19(0x728)](_0x358a19(0x564),_0x37fd63),showMessage(_0x358a19(0x947)+_0x37fd63[_0x358a19(0x7d7)]),renderFileShortcuts();}finally{document[_0x358a19(0x31c)](_0x358a19(0x6a8))[_0x358a19(0xb32)](_0x2b4aac=>{const _0x4bc923=_0x358a19;_0x2b4aac[_0x4bc923(0x396)][_0x4bc923(0x76f)](_0x4bc923(0xbbc),_0x4bc923(0x792)),_0x2b4aac['disabled']=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x3f4d84=_0x569b7c;if(allQuizzesGlobal['length']>0x0)return;console['log'](_0x3f4d84(0xb3c)),showMessage(_0x3f4d84(0x229));try{const _0x35e168=await getDocs(collection(db,_0x3f4d84(0x25b)+appId+_0x3f4d84(0x72c)));allQuizzesGlobal=_0x35e168[_0x3f4d84(0x53c)][_0x3f4d84(0xc3d)](_0x1d4738=>({'id':_0x1d4738['id'],..._0x1d4738[_0x3f4d84(0x7f5)]()})),console[_0x3f4d84(0x2fa)]('Loaded\x20'+allQuizzesGlobal[_0x3f4d84(0xcda)]+_0x3f4d84(0xb7f)),messageModal[_0x3f4d84(0x396)][_0x3f4d84(0x46b)]('hidden');}catch(_0x5b9e66){console[_0x3f4d84(0x728)](_0x3f4d84(0xb17),_0x5b9e66),messageModal[_0x3f4d84(0x396)][_0x3f4d84(0x46b)](_0x3f4d84(0xb23));throw new Error(_0x3f4d84(0x3a6));}}function exportQuizAsWorksheetPDF(){const _0x245650=_0x569b7c;if(!currentQuizData||!currentQuizData[_0x245650(0x981)]){showMessage(_0x245650(0xa6a));return;}const _0x4fb12f=currentQuizData,_0x32cddb=window[_0x245650(0x275)]('',_0x245650(0x812)),_0x2daeea=_0x2852b8=>String[_0x245650(0x87b)](0x41+_0x2852b8),_0x5aaaac=_0x245650(0xc0d)+_0x4fb12f['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x4fb12f['topic']+_0x245650(0x5f1)+_0x4fb12f[_0x245650(0x981)][_0x245650(0xc3d)]((_0x51d411,_0x43b6da)=>{const _0x50d0e9=_0x245650;let _0x15bcdb='';const _0x5815d8=_0x51d411[_0x50d0e9(0x879)]||_0x4fb12f[_0x50d0e9(0x5c7)];switch(_0x5815d8){case _0x50d0e9(0x27b):case'fill_in_with_choices':_0x15bcdb=_0x50d0e9(0x65d)+_0x51d411['options']['map']((_0xa34f63,_0x3d9993)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x2daeea(_0x3d9993)+'.\x20'+_0xa34f63+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](_0x50d0e9(0x528))+'</div>';break;case _0x50d0e9(0xa08):_0x15bcdb=_0x50d0e9(0xcba);break;default:_0x15bcdb=_0x50d0e9(0xa49);break;}return _0x50d0e9(0x9d6)+(_0x43b6da+0x1)+_0x50d0e9(0x8b4)+(_0x51d411[_0x50d0e9(0x73f)]||_0x51d411['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x51d411[_0x50d0e9(0x456)]?'<div\x20class=\x22my-2\x22>'+_0x51d411[_0x50d0e9(0x456)]+_0x50d0e9(0x3f0):'')+_0x50d0e9(0x616)+_0x15bcdb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x245650(0xcbb)]('')+_0x245650(0xd33);_0x32cddb[_0x245650(0x3dc)][_0x245650(0xace)](_0x5aaaac),_0x32cddb[_0x245650(0x3dc)][_0x245650(0x350)](),_0x32cddb[_0x245650(0xab5)]=function(){setTimeout(()=>{const _0xb6d0c1=_0x1447;_0x32cddb[_0xb6d0c1(0xb71)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0xa3077b=_0x569b7c;if(!currentQuizData||!currentQuizData[_0xa3077b(0x981)]){showMessage(_0xa3077b(0xa6a));return;}const _0x3caf38=currentQuizData,_0x8d5d44=window[_0xa3077b(0x275)]('',_0xa3077b(0x812)),_0x64ea2d=_0x5715bb=>String[_0xa3077b(0x87b)](0x41+_0x5715bb),_0x19774b=_0xa3077b(0x3ab)+_0x3caf38[_0xa3077b(0xaf8)]+_0xa3077b(0xce5)+_0x3caf38[_0xa3077b(0x981)][_0xa3077b(0xc3d)]((_0x6b8013,_0x1bd965)=>{const _0x32324d=_0xa3077b;let _0x2973f1='';const _0x146e8d=_0x6b8013[_0x32324d(0x879)]||_0x3caf38[_0x32324d(0x5c7)];switch(_0x146e8d){case _0x32324d(0x27b):case _0x32324d(0xa44):_0x2973f1=_0x32324d(0xbe7)+_0x6b8013[_0x32324d(0xb7c)][_0x32324d(0xc3d)]((_0x532768,_0x24cd4e)=>_0x32324d(0x3bc)+_0x64ea2d(_0x24cd4e)+'.\x20'+_0x532768+_0x32324d(0x8b9))[_0x32324d(0xcbb)]('<br>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x32324d(0xa08):_0x2973f1=_0x32324d(0x43c);break;default:_0x2973f1='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x3caf38[_0x32324d(0xaf8)]+_0x32324d(0x868)+(_0x1bd965+0x1)+_0x32324d(0xbec)+(_0x6b8013[_0x32324d(0x73f)]||_0x6b8013[_0x32324d(0x332)])+_0x32324d(0x586)+(_0x6b8013[_0x32324d(0x456)]?_0x32324d(0x524)+_0x6b8013[_0x32324d(0x456)]+'</div>':'')+_0x32324d(0x616)+_0x2973f1+_0x32324d(0x93f);})[_0xa3077b(0xcbb)]('')+_0xa3077b(0x73c);_0x8d5d44['document'][_0xa3077b(0xace)](_0x19774b),_0x8d5d44[_0xa3077b(0x3dc)][_0xa3077b(0x350)](),_0x8d5d44['onload']=function(){setTimeout(()=>{const _0x54cb32=_0x1447;_0x8d5d44[_0x54cb32(0xb71)]();},0x5dc);};}async function handleToggleStarQuiz(_0x322f11){const _0x58bcf6=_0x569b7c,_0x45f404=doc(db,_0x58bcf6(0x25b)+appId+_0x58bcf6(0x72c),_0x322f11);try{const _0x5ace85=await getDoc(_0x45f404);if(_0x5ace85['exists']()){const _0x1ebe69=_0x5ace85[_0x58bcf6(0x7f5)]()[_0x58bcf6(0x25c)]||![];await updateDoc(_0x45f404,{'isStarred':!_0x1ebe69});}}catch(_0x4537ae){console['error'](_0x58bcf6(0x7ae),_0x4537ae),showMessage(_0x58bcf6(0xc06));}}async function displayQuestionBank(){const _0x141e15=_0x569b7c,_0x4e954a=document[_0x141e15(0xca0)]('bank-input-area');_0x4e954a[_0x141e15(0xa5b)]=_0x141e15(0x3b4);try{const _0x1f0cab=collection(db,'artifacts/'+appId+_0x141e15(0x3a0)+userId+_0x141e15(0x5f9)),_0x359a94=query(_0x1f0cab),_0x5d4bcd=await getDocs(_0x359a94);if(_0x5d4bcd[_0x141e15(0xcc9)]){_0x4e954a[_0x141e15(0xa5b)]=_0x141e15(0xce9);return;}let _0x2f9bd3=_0x5d4bcd['docs'][_0x141e15(0xc3d)](_0x33dda4=>{const _0x1f2e2b=_0x141e15,_0x1cecba=_0x33dda4['data'](),_0x447c17=_0x33dda4['id'];return _0x1f2e2b(0x2dd)+JSON[_0x1f2e2b(0x25e)](_0x1cecba)+_0x1f2e2b(0x98f)+(_0x1cecba[_0x1f2e2b(0x332)]||_0x1cecba[_0x1f2e2b(0x73f)])+_0x1f2e2b(0xce8)+_0x1cecba[_0x1f2e2b(0x853)]+_0x1f2e2b(0xa05);})[_0x141e15(0xcbb)]('');_0x4e954a[_0x141e15(0xa5b)]=_0x141e15(0x598)+_0x2f9bd3+_0x141e15(0x75c),document[_0x141e15(0xca0)]('create-from-bank-btn')[_0x141e15(0x79b)](_0x141e15(0xd52),createQuizFromBank);}catch(_0x2487f9){console[_0x141e15(0x728)](_0x141e15(0xc5d),_0x2487f9),_0x4e954a['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}async function handleExportLessonToPDF(){const _0x10f7db=_0x569b7c,_0x1cb52a=document[_0x10f7db(0xca0)](_0x10f7db(0x609)),_0x5321b2=document['getElementById'](_0x10f7db(0xa94))[_0x10f7db(0x8a5)]||_0x10f7db(0x6ae);if(!_0x1cb52a){showMessage(_0x10f7db(0x270));return;}const _0x1452cc=window[_0x10f7db(0x275)]('',_0x10f7db(0x812)),_0x353015=_0x10f7db(0x3cb)+_0x5321b2+_0x10f7db(0x8bc)+_0x5321b2+_0x10f7db(0x58f)+_0x1cb52a[_0x10f7db(0xa5b)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x1452cc['document']['write'](_0x353015),_0x1452cc[_0x10f7db(0x3dc)][_0x10f7db(0x350)](),_0x1452cc[_0x10f7db(0xab5)]=function(){setTimeout(()=>{const _0x2ebe17=_0x1447;_0x1452cc[_0x2ebe17(0xb71)]();},0x7d0);};}function showAdminLiveQuestionView(_0x5b0430,_0x42b054,_0x3faf8d){const _0x492a33=_0x569b7c,_0x348387=_0x5b0430['questionType']||currentQuizData[_0x492a33(0x5c7)];let _0x1fec41='';if(_0x348387==='multiple_choice'||_0x348387===_0x492a33(0xa08)){const _0x247941=_0x348387==='true_false'?[_0x492a33(0x7f7),_0x492a33(0x82e)]:_0x5b0430[_0x492a33(0xb7c)],_0x25134c=_0x348387==='true_false'?_0x5b0430[_0x492a33(0x69f)]?0x0:0x1:_0x5b0430[_0x492a33(0x481)];_0x1fec41=_0x247941[_0x492a33(0xc3d)]((_0x4f9750,_0x4a61b3)=>_0x492a33(0x4e0)+(_0x4a61b3===_0x25134c)+_0x492a33(0xa15)+_0x4f9750+_0x492a33(0x360))[_0x492a33(0xcbb)]('');}else{if(_0x348387===_0x492a33(0x489)){const _0x250609=_0x5b0430[_0x492a33(0x1db)]||[];_0x1fec41=_0x250609['map'](_0x2291ae=>_0x492a33(0x4e0)+(_0x2291ae===_0x5b0430[_0x492a33(0x863)])+_0x492a33(0xa15)+_0x2291ae+_0x492a33(0x360))[_0x492a33(0xcbb)]('');}}const _0x268d77=_0x5b0430[_0x492a33(0x73f)]||_0x5b0430[_0x492a33(0x332)],_0x20dd8a=_0x492a33(0xa7c)+(_0x42b054+0x1)+_0x492a33(0xb05)+_0x3faf8d+_0x492a33(0xb68)+currentLiveGamePin+_0x492a33(0x43e)+_0x268d77+_0x492a33(0x300)+_0x1fec41+_0x492a33(0xb54);liveGameView[_0x492a33(0xa5b)]=_0x20dd8a,window[_0x492a33(0x858)]&&MathJax[_0x492a33(0x5cc)]&&MathJax[_0x492a33(0x5cc)]([liveGameView]),document[_0x492a33(0xca0)]('reveal-answer-btn')[_0x492a33(0x79b)](_0x492a33(0xd52),()=>revealAnswerForAdmin(_0x42b054,_0x3faf8d)),document[_0x492a33(0xca0)]('end-game-btn')[_0x492a33(0x79b)](_0x492a33(0xd52),async()=>{const _0xc3d1e7=_0x492a33;showConfirmation(_0xc3d1e7(0x6d9),async()=>{const _0x793faa=_0xc3d1e7,_0x1570ef=doc(db,_0x793faa(0x25b)+appId+_0x793faa(0x9e1),currentLiveGameId);await updateDoc(_0x1570ef,{'status':_0x793faa(0xa09)});});}),document[_0x492a33(0xca0)]('manage-players-btn')['addEventListener']('click',()=>{const _0x980061=_0x492a33;document[_0x980061(0xca0)](_0x980061(0x4a6))[_0x980061(0x396)]['toggle'](_0x980061(0xb23));});}function promptForProjectBeforeGenerating(_0x334804){const _0x50256d=_0x569b7c,_0x387bde=document[_0x50256d(0xca0)](_0x50256d(0x8fa)),_0x300c0a=document['getElementById']('move-quiz-project-select'),_0x33dafe=_0x387bde[_0x50256d(0xb90)]('h3'),_0x24b476=document[_0x50256d(0xca0)](_0x50256d(0xbae)),_0x5ac4ec=document[_0x50256d(0xca0)]('cancel-move-quiz-btn');_0x33dafe['textContent']=_0x50256d(0x24a),_0x24b476[_0x50256d(0x8a5)]='เลือกและเริ่มสร้าง',_0x24b476['disabled']=!![];allProjects[_0x50256d(0xcda)]===0x0?_0x300c0a['innerHTML']='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x300c0a['innerHTML']=_0x50256d(0xc9d)+allProjects[_0x50256d(0xc3d)](_0x324536=>'<option\x20value=\x22'+_0x324536['id']+'\x22>'+_0x324536['projectName']+_0x50256d(0xaed))['join'](''),_0x24b476[_0x50256d(0x7b4)]=![]);_0x387bde[_0x50256d(0x396)][_0x50256d(0x76f)](_0x50256d(0xb23));const _0x165e47=async()=>{const _0x51987d=_0x50256d,_0x39d1d8=_0x300c0a[_0x51987d(0xb85)];if(!_0x39d1d8){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x387bde['classList'][_0x51987d(0x46b)]('hidden'),await loadProjectDetails(_0x39d1d8),showView(_0x51987d(0x969)),handleGenerateQuizFromBlueprintTopic(_0x334804),_0x3fd154();},_0x3fd154=()=>{const _0x228b8e=_0x50256d;_0x33dafe[_0x228b8e(0x8a5)]=_0x228b8e(0x326),_0x24b476[_0x228b8e(0x8a5)]=_0x228b8e(0x83d),_0x24b476[_0x228b8e(0xd44)]('click',_0x165e47),_0x5ac4ec[_0x228b8e(0xd44)]('click',_0x3fd154),_0x24b476[_0x228b8e(0x79b)]('click',confirmMoveQuiz);};_0x24b476[_0x50256d(0xd44)](_0x50256d(0xd52),confirmMoveQuiz),_0x24b476['addEventListener'](_0x50256d(0xd52),_0x165e47),_0x5ac4ec[_0x50256d(0x79b)](_0x50256d(0xd52),_0x3fd154);}function showStudentLiveQuestionView(_0x336818,_0x5766f7,_0x48a891){const _0x43f6ed=_0x569b7c,_0x31924b=_0x336818['questionType']||currentQuizData[_0x43f6ed(0x5c7)];let _0x46647e='';if(_0x31924b==='multiple_choice'||_0x31924b===_0x43f6ed(0xa08)){const _0x47fc24=_0x31924b===_0x43f6ed(0xa08)?[_0x43f6ed(0x7f7),_0x43f6ed(0x82e)]:_0x336818[_0x43f6ed(0xb7c)];_0x46647e=_0x47fc24[_0x43f6ed(0xc3d)]((_0x383217,_0x2a25c1)=>_0x43f6ed(0x86b)+_0x2a25c1+_0x43f6ed(0x6e8)+_0x383217+_0x43f6ed(0x605))[_0x43f6ed(0xcbb)]('');}else{if(_0x31924b===_0x43f6ed(0x489)){const _0x2aa263=_0x336818[_0x43f6ed(0x1db)]||[];_0x46647e=_0x2aa263[_0x43f6ed(0xc3d)]((_0x3d52b2,_0x51a2ab)=>_0x43f6ed(0x86b)+_0x51a2ab+_0x43f6ed(0x6e8)+_0x3d52b2+_0x43f6ed(0x605))[_0x43f6ed(0xcbb)]('');}else _0x31924b===_0x43f6ed(0x934)&&(_0x46647e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x53347d=_0x336818[_0x43f6ed(0x73f)]||_0x336818['questionText'],_0x34633b=_0x43f6ed(0x9f9)+(_0x5766f7+0x1)+'\x20/\x20'+_0x48a891+_0x43f6ed(0x9aa)+_0x53347d+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x46647e+_0x43f6ed(0x593);liveGameView[_0x43f6ed(0xa5b)]=_0x34633b;window[_0x43f6ed(0x858)]&&MathJax[_0x43f6ed(0x5cc)]&&MathJax[_0x43f6ed(0x5cc)]([liveGameView]);const _0x381478=document[_0x43f6ed(0xca0)](_0x43f6ed(0x516));_0x381478&&_0x381478[_0x43f6ed(0x79b)](_0x43f6ed(0xd52),()=>{const _0x510c43=_0x43f6ed,_0x52ea57=document[_0x510c43(0xca0)](_0x510c43(0xa16))['value'];handleLiveAnswer(_0x52ea57,_0x336818);}),document[_0x43f6ed(0xca0)](_0x43f6ed(0x4f1))[_0x43f6ed(0x79b)](_0x43f6ed(0xd52),_0x2c6baa=>{const _0x3e3f0d=_0x43f6ed,_0x235b7f=_0x2c6baa[_0x3e3f0d(0xbe5)][_0x3e3f0d(0xa9f)](_0x3e3f0d(0x6c4));if(_0x235b7f){const _0x110b9d=parseInt(_0x235b7f['dataset'][_0x3e3f0d(0xbc5)]);handleLiveAnswer(_0x110b9d,_0x336818);}});}function listenForBlueprintShortcuts(){const _0x4192e6=_0x569b7c,_0x3c5d50=doc(db,'globalSettings',_0x4192e6(0xd59));onSnapshot(_0x3c5d50,_0x21a93f=>{const _0x5e01dd=_0x4192e6;let _0x2ff5a8=[],_0x5c981f=[],_0x480110={};if(_0x21a93f['exists']()){const _0x1d84d5=_0x21a93f['data']();_0x2ff5a8=_0x1d84d5[_0x5e01dd(0x613)]||[],_0x5c981f=_0x1d84d5[_0x5e01dd(0x70e)]||[],_0x480110=_0x1d84d5[_0x5e01dd(0x4b4)]||{};}!_0x5c981f[_0x5e01dd(0xd14)](_0x44cdea=>_0x44cdea['id']==='all')&&_0x5c981f[_0x5e01dd(0x884)]({'id':'all','name':_0x5e01dd(0x295),'isDefault':!![]}),!_0x2ff5a8[_0x5e01dd(0xd14)](_0x554295=>_0x554295['id']==='default-1')&&_0x2ff5a8['unshift']({'id':_0x5e01dd(0x482),'name':_0x5e01dd(0x2a8),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x2ff5a8[_0x5e01dd(0xd14)](_0x5b10ad=>_0x5b10ad['id']===_0x5e01dd(0x6ab))&&_0x2ff5a8[_0x5e01dd(0x884)]({'id':_0x5e01dd(0x6ab),'name':'Blueprint\x202','blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x2ff5a8,shortcutTabs=_0x5c981f,shortcutOrder=_0x480110,renderBlueprintShortcuts(),!document[_0x5e01dd(0xca0)](_0x5e01dd(0xb81))[_0x5e01dd(0x396)][_0x5e01dd(0x1d0)](_0x5e01dd(0xb23))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x20296b=_0x569b7c,_0xc557d6=document[_0x20296b(0xca0)](_0x20296b(0x3ea)),_0x4eb69b=document[_0x20296b(0xca0)](_0x20296b(0x819));if(!_0xc557d6||!_0x4eb69b)return;_0xc557d6[_0x20296b(0xa5b)]=shortcutTabs['map'](_0x30b4ba=>{const _0x408df4=_0x20296b,_0x368ed7=_0x30b4ba['id']===activeShortcutTabId,_0x35fb39=_0x408df4(0xa50),_0x496587=_0x408df4(0x91d);return _0x408df4(0x544)+_0x30b4ba['id']+'\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x368ed7?_0x35fb39:_0x496587)+_0x408df4(0x9f1)+_0x30b4ba['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x30b4ba[_0x408df4(0x5bd)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x30b4ba[_0x408df4(0x7dc)]?_0x408df4(0x9c6)+_0x30b4ba['id']+_0x408df4(0x5f5):'')+_0x408df4(0x360);})[_0x20296b(0xcbb)]('');const _0x264bbe=shortcutTabs[_0x20296b(0xd14)](_0x38b19d=>_0x38b19d['id']===activeShortcutTabId);let _0x2a3b4b=[];if(_0x264bbe){if(_0x264bbe[_0x20296b(0x7dc)])_0x2a3b4b=[...blueprintShortcuts];else{const _0x8d845b=_0x264bbe[_0x20296b(0x8d0)]||[];_0x2a3b4b=blueprintShortcuts[_0x20296b(0x959)](_0x3fd326=>_0x8d845b[_0x20296b(0x771)](_0x3fd326['id']));}}const _0x4bcbf4=shortcutOrder[activeShortcutTabId]||[];_0x2a3b4b[_0x20296b(0x64b)]((_0x4b5196,_0xa55f6b)=>{const _0x170142=_0x20296b,_0x350e7f=_0x4bcbf4[_0x170142(0xa40)](_0x4b5196['id']),_0x6b72ff=_0x4bcbf4[_0x170142(0xa40)](_0xa55f6b['id']);if(_0x350e7f===-0x1)return 0x1;if(_0x6b72ff===-0x1)return-0x1;return _0x350e7f-_0x6b72ff;}),_0x4eb69b[_0x20296b(0xa5b)]=_0x2a3b4b['length']>0x0?_0x2a3b4b['map'](_0xe31319=>{const _0x314578=_0x20296b;let _0x1458cd='🧩';if(_0xe31319[_0x314578(0x5d0)]&&_0xe31319[_0x314578(0xcdc)])_0x1458cd='📗';else{if(_0xe31319['blueprintUrl'])_0x1458cd='📘';}const _0x857f2e=shortcutTabs[_0x314578(0x959)](_0x39cb5e=>!_0x39cb5e[_0x314578(0x7dc)]),_0x3bcf1c=_0x264bbe[_0x314578(0x7dc)]&&_0x857f2e['length']>0x0?_0x314578(0x80d)+_0x857f2e[_0x314578(0xc3d)](_0x5d32e4=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0xe31319['id']+'\x22\x20data-target-tab-id=\x22'+_0x5d32e4['id']+'\x22>'+_0x5d32e4[_0x314578(0x5bd)]+_0x314578(0xb6e))[_0x314578(0xcbb)]('')+_0x314578(0xaf0):'';return _0x314578(0xd0b)+_0xe31319['id']+_0x314578(0xad7)+_0x1458cd+'\x20'+_0xe31319[_0x314578(0x5bd)]+_0x314578(0x7f0)+_0xe31319['id']+_0x314578(0x372)+_0xe31319['id']+_0x314578(0x8ab)+(!_0xe31319[_0x314578(0x7dc)]?_0x314578(0x361)+_0xe31319['id']+_0x314578(0xbcf):'')+_0x314578(0x6a4)+(!_0x264bbe['isDefault']?'<button\x20data-shortcut-id=\x22'+_0xe31319['id']+_0x314578(0x1cf):'')+_0x314578(0x6a4)+_0x3bcf1c+_0x314578(0xc86);})[_0x20296b(0xcbb)](''):_0x20296b(0xc09),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x641342=_0x569b7c;document['querySelectorAll'](_0x641342(0xbf3))[_0x641342(0xb32)](_0x488026=>{const _0xf80369=_0x641342;_0x488026[_0xf80369(0x79b)](_0xf80369(0xd52),_0x1b94b4=>{const _0x55f126=_0xf80369;activeShortcutTabId=_0x1b94b4[_0x55f126(0x99a)][_0x55f126(0x507)][_0x55f126(0x817)],renderAdditionalShortcutsModal();}),_0x488026[_0xf80369(0x79b)](_0xf80369(0xc34),_0x533b87=>{const _0x3ca546=_0xf80369,_0x1fcf2b=_0x533b87[_0x3ca546(0x99a)];_0x1fcf2b[_0x3ca546(0xb90)](_0x3ca546(0x5fa))['classList']['add'](_0x3ca546(0xb23));const _0x29c280=_0x1fcf2b[_0x3ca546(0xb90)](_0x3ca546(0x2e0));_0x29c280['classList'][_0x3ca546(0x76f)](_0x3ca546(0xb23)),_0x29c280[_0x3ca546(0x56f)](),_0x29c280[_0x3ca546(0xc3a)]();});}),document[_0x641342(0x31c)]('.tab-name-input')[_0x641342(0xb32)](_0x30915c=>{const _0x17cbb6=_0x641342,_0x247359=()=>{const _0x5b84ee=_0x1447,_0x34b071=_0x30915c[_0x5b84ee(0xa9f)](_0x5b84ee(0xbf3))[_0x5b84ee(0x507)][_0x5b84ee(0x817)];handleRenameShortcutTab(_0x34b071,_0x30915c['value']);};_0x30915c[_0x17cbb6(0x79b)](_0x17cbb6(0xd09),_0x247359),_0x30915c[_0x17cbb6(0x79b)](_0x17cbb6(0x4a5),_0x385054=>{const _0x1868bf=_0x17cbb6;if(_0x385054[_0x1868bf(0x9c4)]===_0x1868bf(0xa65))_0x30915c['blur']();});}),document[_0x641342(0x31c)](_0x641342(0x8e4))[_0x641342(0xb32)](_0x29dd10=>{const _0x16ed60=_0x641342;_0x29dd10['addEventListener'](_0x16ed60(0xd52),_0x5cf6a9=>handleDeleteShortcutTab(_0x5cf6a9[_0x16ed60(0x99a)][_0x16ed60(0x507)]['tabId']));}),document[_0x641342(0x31c)](_0x641342(0x462))[_0x641342(0xb32)](_0xb25f30=>{const _0x5127eb=_0x641342;_0xb25f30[_0x5127eb(0x79b)](_0x5127eb(0xd52),_0x240489=>{const _0x39a090=_0x5127eb;_0x240489[_0x39a090(0x631)]();const {shortcutId:_0x1f187f,targetTabId:_0x133e10}=_0x240489[_0x39a090(0x99a)][_0x39a090(0x507)];handleMoveShortcutToTab(_0x1f187f,_0x133e10);});}),document[_0x641342(0x31c)]('.remove-shortcut-from-tab-btn')[_0x641342(0xb32)](_0x3dffff=>{_0x3dffff['addEventListener']('click',_0x1a49b2=>{const _0xcac84a=_0x1447;handleRemoveShortcutFromTab(_0x1a49b2[_0xcac84a(0x99a)][_0xcac84a(0x507)][_0xcac84a(0x9db)],activeShortcutTabId);});});const _0x307ab7=document[_0x641342(0xca0)](_0x641342(0x819));_0x307ab7[_0x641342(0x31c)]('.use-hidden-shortcut-btn')['forEach'](_0x5b7862=>{const _0x320267=_0x641342;_0x5b7862[_0x320267(0x79b)](_0x320267(0xd52),()=>{const _0x5ba3ce=_0x320267;document['getElementById'](_0x5ba3ce(0xb81))[_0x5ba3ce(0x396)][_0x5ba3ce(0x46b)](_0x5ba3ce(0xb23)),handleShortcutClick(_0x5b7862[_0x5ba3ce(0x507)]['id']);});});let _0x1fa6f2=null;_0x307ab7[_0x641342(0x79b)](_0x641342(0x37a),_0x5d1922=>{const _0x41975e=_0x641342;_0x1fa6f2=_0x5d1922[_0x41975e(0xbe5)][_0x41975e(0xa9f)](_0x41975e(0x2e2)),_0x1fa6f2&&setTimeout(()=>_0x1fa6f2[_0x41975e(0x396)][_0x41975e(0x46b)]('opacity-50'),0x0);}),_0x307ab7[_0x641342(0x79b)](_0x641342(0xcf9),()=>{const _0x2d1c1f=_0x641342;_0x1fa6f2&&(_0x1fa6f2[_0x2d1c1f(0x396)][_0x2d1c1f(0x76f)](_0x2d1c1f(0xbbc)),_0x1fa6f2=null);}),_0x307ab7[_0x641342(0x79b)](_0x641342(0x787),_0x554d20=>{const _0x1f0ef7=_0x641342;_0x554d20[_0x1f0ef7(0x631)]();const _0x1b54cc=[..._0x307ab7[_0x1f0ef7(0x31c)](_0x1f0ef7(0x7e6))][_0x1f0ef7(0x5c5)]((_0x507bfd,_0x53a4b1)=>{const _0x552f0d=_0x1f0ef7,_0x4841cc=_0x53a4b1[_0x552f0d(0x815)](),_0x5b4818=_0x554d20[_0x552f0d(0x8cb)]-_0x4841cc[_0x552f0d(0xbb0)]-_0x4841cc[_0x552f0d(0x313)]/0x2;return _0x5b4818<0x0&&_0x5b4818>_0x507bfd[_0x552f0d(0x28d)]?{'offset':_0x5b4818,'element':_0x53a4b1}:_0x507bfd;},{'offset':Number['NEGATIVE_INFINITY']})[_0x1f0ef7(0x963)];_0x1b54cc==null?_0x307ab7[_0x1f0ef7(0xac6)](_0x1fa6f2):_0x307ab7[_0x1f0ef7(0x4b5)](_0x1fa6f2,_0x1b54cc);}),_0x307ab7[_0x641342(0x79b)](_0x641342(0x321),_0x42cec5=>{const _0x37751b=_0x641342;_0x42cec5[_0x37751b(0x631)]();if(_0x1fa6f2){const _0x5b6c56=[..._0x307ab7['querySelectorAll'](_0x37751b(0x2e2))][_0x37751b(0xc3d)](_0x4885dc=>_0x4885dc[_0x37751b(0x507)]['shortcutId']);handleShortcutOrderChange(activeShortcutTabId,_0x5b6c56);}}),document[_0x641342(0x31c)](_0x641342(0x20d))[_0x641342(0xb32)](_0x184fbc=>{const _0x27dd8d=_0x641342;_0x184fbc[_0x27dd8d(0x79b)](_0x27dd8d(0xd52),_0x1d6c1f=>{const _0x2937bd=_0x27dd8d;_0x1d6c1f['stopPropagation']();const _0x52b726=_0x1d6c1f[_0x2937bd(0x99a)][_0x2937bd(0x2e3)],_0x2cd8f5=_0x52b726['classList'][_0x2937bd(0x1d0)](_0x2937bd(0xb23));document['querySelectorAll'](_0x2937bd(0x4c3))[_0x2937bd(0xb32)](_0x28f756=>_0x28f756[_0x2937bd(0x396)][_0x2937bd(0x46b)](_0x2937bd(0xb23))),_0x2cd8f5&&_0x52b726[_0x2937bd(0x396)][_0x2937bd(0x76f)]('hidden');});});}document[_0x569b7c(0x79b)](_0x569b7c(0xd52),_0x2695a0=>{const _0x4cd6f2=_0x569b7c;!_0x2695a0[_0x4cd6f2(0xbe5)][_0x4cd6f2(0xa9f)](_0x4cd6f2(0x2a2))&&document[_0x4cd6f2(0x31c)](_0x4cd6f2(0x4c3))['forEach'](_0x21f74d=>_0x21f74d[_0x4cd6f2(0x396)][_0x4cd6f2(0x46b)](_0x4cd6f2(0xb23)));});async function saveShortcutConfig(){const _0x43dc9e=_0x569b7c,_0x28ec4e=doc(db,_0x43dc9e(0x687),_0x43dc9e(0xd59));try{await setDoc(_0x28ec4e,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x48b43d){console['error'](_0x43dc9e(0x4b0),_0x48b43d);}}async function handleAddShortcutTab(){const _0x344a25=_0x569b7c,_0xffdd52=prompt(_0x344a25(0x2f9),_0x344a25(0xcd9));if(!_0xffdd52||_0xffdd52[_0x344a25(0xc9e)]()==='')return;shortcutTabs[_0x344a25(0xae7)]({'id':'tab_'+Date['now'](),'name':_0xffdd52[_0x344a25(0xc9e)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x464477,_0x4db983){const _0x3a6161=_0x569b7c,_0x199a8f=shortcutTabs['find'](_0x1def9c=>_0x1def9c['id']===_0x464477);_0x199a8f&&_0x4db983[_0x3a6161(0xc9e)]()!==''&&(_0x199a8f['name']=_0x4db983[_0x3a6161(0xc9e)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0xa6cf7b){const _0x5194c4=_0x569b7c,_0x3ff101=shortcutTabs['find'](_0x3eb916=>_0x3eb916['id']===_0xa6cf7b);_0x3ff101&&!_0x3ff101[_0x5194c4(0x7dc)]&&showConfirmation(_0x5194c4(0xb1c)+_0x3ff101[_0x5194c4(0x5bd)]+_0x5194c4(0xce3),async()=>{const _0x11b9e3=_0x5194c4;shortcutTabs=shortcutTabs['filter'](_0x3f9267=>_0x3f9267['id']!==_0xa6cf7b),delete shortcutOrder[_0xa6cf7b];if(activeShortcutTabId===_0xa6cf7b)activeShortcutTabId=_0x11b9e3(0x606);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x46d5f9,_0x580c46){const _0x26e00f=_0x569b7c,_0x3a5ede=shortcutTabs[_0x26e00f(0xd14)](_0xe9824a=>_0xe9824a['id']===_0x580c46);_0x3a5ede&&!_0x3a5ede['shortcutIds']['includes'](_0x46d5f9)&&(_0x3a5ede[_0x26e00f(0x8d0)][_0x26e00f(0xae7)](_0x46d5f9),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x5d6536,_0x59b320){const _0x3c717f=_0x569b7c,_0x570a0e=shortcutTabs[_0x3c717f(0xd14)](_0x50208a=>_0x50208a['id']===_0x59b320);_0x570a0e&&!_0x570a0e[_0x3c717f(0x7dc)]&&(_0x570a0e[_0x3c717f(0x8d0)]=_0x570a0e[_0x3c717f(0x8d0)][_0x3c717f(0x959)](_0x3d862a=>_0x3d862a!==_0x5d6536),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x2f5537,_0x587d6e){shortcutOrder[_0x2f5537]=_0x587d6e,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x17f22a=_0x569b7c,_0x17ccf8=document['getElementById']('blueprint-shortcut-container'),_0x4134fb=document['getElementById'](_0x17f22a(0x819)),_0x59b116=document[_0x17f22a(0xca0)](_0x17f22a(0xc08));_0x59b116&&_0x59b116[_0x17f22a(0x396)][_0x17f22a(0x46b)](_0x17f22a(0xb23));if(!_0x17ccf8||!_0x4134fb)return;const _0x5eec24=blueprintShortcuts[_0x17f22a(0x3f5)](0x0,0x4),_0x1c0405=blueprintShortcuts[_0x17f22a(0x3f5)](0x4);_0x17ccf8[_0x17f22a(0xa5b)]=_0x5eec24[_0x17f22a(0xc3d)](_0x268510=>{const _0x4e7890=_0x17f22a;let _0x24bca0='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x464c08='🧩';if(_0x268510[_0x4e7890(0x5d0)]&&_0x268510[_0x4e7890(0xcdc)])_0x24bca0=_0x4e7890(0x751),_0x464c08='📗';else _0x268510['blueprintUrl']&&(_0x24bca0=_0x4e7890(0xaf2),_0x464c08='📘');const _0x3c284a=!_0x268510['isDefault']?_0x4e7890(0x361)+_0x268510['id']+_0x4e7890(0x339):'';return _0x4e7890(0x764)+_0x268510['id']+_0x4e7890(0x3b0)+_0x24bca0+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x464c08+'\x20'+_0x268510[_0x4e7890(0x5bd)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x268510['id']+_0x4e7890(0x939)+_0x3c284a+_0x4e7890(0x360);})[_0x17f22a(0xcbb)](''),_0x1c0405[_0x17f22a(0xcda)]>0x0&&(_0x17ccf8['innerHTML']+=_0x17f22a(0x691)),_0x1c0405[_0x17f22a(0xcda)]>0x0?_0x4134fb['innerHTML']=_0x1c0405[_0x17f22a(0xc3d)](_0x4e5d47=>{const _0x450380=_0x17f22a;let _0x5a4229='🧩';if(_0x4e5d47['blueprintUrl']&&_0x4e5d47[_0x450380(0xcdc)])_0x5a4229='📗';else _0x4e5d47[_0x450380(0x5d0)]&&(_0x5a4229='📘');return _0x450380(0x917)+_0x5a4229+'\x20'+_0x4e5d47['name']+_0x450380(0x7f0)+_0x4e5d47['id']+_0x450380(0x372)+_0x4e5d47['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4e5d47[_0x450380(0x7dc)]?_0x450380(0x361)+_0x4e5d47['id']+_0x450380(0xbcf):'')+_0x450380(0x2a3);})[_0x17f22a(0xcbb)](''):_0x4134fb[_0x17f22a(0xa5b)]=_0x17f22a(0x276);}function getMimeTypeFromFilename(_0x8491ad){const _0xa9cef0=_0x569b7c,_0x22b975=_0x8491ad['split']('.')[_0xa9cef0(0xc33)]()[_0xa9cef0(0x38f)]();switch(_0x22b975){case _0xa9cef0(0x6f8):return _0xa9cef0(0x7db);case _0xa9cef0(0x2de):return _0xa9cef0(0xaa6);default:return'application/pdf';}}function openShortcutEditor(_0x356284=null){const _0x20774d=_0x569b7c,_0xfa3e6c=document[_0x20774d(0xca0)](_0x20774d(0xa7f)),_0x267264=document[_0x20774d(0xca0)](_0x20774d(0xb49)),_0x561caa=document[_0x20774d(0xca0)](_0x20774d(0x60c)),_0x35f455=document[_0x20774d(0xca0)]('shortcut-name-input'),_0x57c15c=document[_0x20774d(0xca0)](_0x20774d(0x2aa)),_0x268634=document[_0x20774d(0xca0)](_0x20774d(0xc76));if(_0x356284){const _0x48cafc=blueprintShortcuts[_0x20774d(0xd14)](_0x1924fe=>_0x1924fe['id']===_0x356284);if(!_0x48cafc)return;_0x267264[_0x20774d(0x8a5)]='แก้ไขปุ่มลัด',_0x561caa[_0x20774d(0xb85)]=_0x48cafc['id'],_0x35f455[_0x20774d(0xb85)]=_0x48cafc[_0x20774d(0x5bd)],_0x57c15c[_0x20774d(0xb85)]=_0x48cafc[_0x20774d(0x5d0)]||'',_0x268634[_0x20774d(0xb85)]=_0x48cafc[_0x20774d(0xcdc)]||'';}else _0x267264[_0x20774d(0x8a5)]=_0x20774d(0xbaa),_0x561caa[_0x20774d(0xb85)]='',_0x35f455['value']='',_0x57c15c[_0x20774d(0xb85)]='',_0x268634[_0x20774d(0xb85)]='';_0xfa3e6c[_0x20774d(0x396)][_0x20774d(0x76f)](_0x20774d(0xb23));}async function saveShortcutChanges(){const _0xca97cf=_0x569b7c,_0x5790f2=document[_0xca97cf(0xca0)](_0xca97cf(0x60c))[_0xca97cf(0xb85)],_0x50d182=document['getElementById']('shortcut-name-input')[_0xca97cf(0xb85)]['trim'](),_0x58118a=document[_0xca97cf(0xca0)](_0xca97cf(0x2aa))[_0xca97cf(0xb85)][_0xca97cf(0xc9e)]();if(!_0x50d182||!_0x58118a){showMessage(_0xca97cf(0x3f4));return;}const _0x2c5ad6={'id':_0x5790f2||_0xca97cf(0xc1a)+Date[_0xca97cf(0x721)](),'name':_0x50d182,'blueprintUrl':_0x58118a,'referenceUrl':document[_0xca97cf(0xca0)](_0xca97cf(0xc76))[_0xca97cf(0xb85)]['trim'](),'isDefault':_0x5790f2[_0xca97cf(0x59b)](_0xca97cf(0x726))};let _0x2ff2f0;_0x5790f2?_0x2ff2f0=blueprintShortcuts['map'](_0x527cd6=>_0x527cd6['id']===_0x5790f2?_0x2c5ad6:_0x527cd6):_0x2ff2f0=[...blueprintShortcuts,_0x2c5ad6];try{const _0x2254ce=doc(db,'globalSettings',_0xca97cf(0xd59));await setDoc(_0x2254ce,{'blueprintShortcuts':_0x2ff2f0},{'merge':!![]}),document['getElementById'](_0xca97cf(0xa7f))[_0xca97cf(0x396)]['add'](_0xca97cf(0xb23));}catch(_0x155b22){console[_0xca97cf(0x728)](_0xca97cf(0x62c),_0x155b22),showMessage(_0xca97cf(0xb83));}}async function handleShortcutClick(_0x4f36f7){const _0x2b41d4=_0x569b7c,_0x2e25eb=blueprintShortcuts[_0x2b41d4(0xd14)](_0xfd9f4=>_0xfd9f4['id']===_0x4f36f7);if(!_0x2e25eb||!_0x2e25eb[_0x2b41d4(0x5d0)])return;document[_0x2b41d4(0xca0)](_0x2b41d4(0x425))[_0x2b41d4(0x396)][_0x2b41d4(0x46b)](_0x2b41d4(0xb23)),document[_0x2b41d4(0xca0)](_0x2b41d4(0xbe2))[_0x2b41d4(0x7b4)]=!![];const _0x5a849e=document[_0x2b41d4(0xca0)]('loader'),_0x1bce06=document[_0x2b41d4(0xca0)](_0x2b41d4(0x547));document['getElementById'](_0x2b41d4(0x366))[_0x2b41d4(0x396)][_0x2b41d4(0x76f)](_0x2b41d4(0xb23)),document[_0x2b41d4(0xca0)](_0x2b41d4(0x91e))['innerHTML']='',_0x5a849e[_0x2b41d4(0x396)][_0x2b41d4(0x76f)]('hidden');try{_0x1bce06[_0x2b41d4(0x8a5)]='กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...';const _0x348f66=await fetchFileFromUrl(_0x2e25eb[_0x2b41d4(0x5d0)],_0x2b41d4(0xce0));let _0x767fa6=null;if(_0x2e25eb['referenceUrl']){_0x1bce06[_0x2b41d4(0x8a5)]=_0x2b41d4(0x72f);const _0x16ef67=_0x2e25eb['referenceUrl']['toLowerCase']()[_0x2b41d4(0x4a1)]('.txt')?'reference.txt':_0x2b41d4(0x3a5);_0x767fa6=await fetchFileFromUrl(_0x2e25eb[_0x2b41d4(0xcdc)],_0x16ef67);}await handleGenerateFromBlueprintWithFiles(_0x348f66,_0x767fa6);}catch(_0x4a5b8f){console[_0x2b41d4(0x728)](_0x2b41d4(0xc4f),_0x4a5b8f),showMessage(_0x2b41d4(0xc90)+_0x4a5b8f[_0x2b41d4(0x7d7)]),_0x5a849e['classList'][_0x2b41d4(0x46b)](_0x2b41d4(0xb23));}}function getDirectDownloadUrl(_0x5c15e9){const _0x20b16a=_0x569b7c,_0x15c183=_0x5c15e9[_0x20b16a(0x86c)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x15c183&&_0x15c183[0x1])return _0x20b16a(0x8b2)+_0x15c183[0x1];return _0x5c15e9;}async function fetchFileFromUrl(_0x431d57,_0x5e32c3){const _0x3d4f32=_0x569b7c,_0x277f2a=getDirectDownloadUrl(_0x431d57),_0x24a06c='https://corsproxy.io/?'+encodeURIComponent(_0x277f2a),_0x190f37=await fetch(_0x24a06c);if(!_0x190f37['ok'])throw new Error('ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20'+_0x190f37[_0x3d4f32(0xc81)]+')');const _0x4be398=await _0x190f37[_0x3d4f32(0x87a)](),_0x4b8c6d=await new Promise((_0x4dbf88,_0x3f57ed)=>{const _0x35210e=_0x3d4f32,_0x3b8979=new FileReader();_0x3b8979[_0x35210e(0x219)]=()=>_0x4dbf88(new Uint8Array(_0x3b8979['result'])),_0x3b8979[_0x35210e(0x4c9)]=_0x3f57ed,_0x3b8979['readAsArrayBuffer'](_0x4be398[_0x35210e(0x3f5)](0x0,0x4));});let _0x47a487='';const _0xbc72c3=new TextDecoder()[_0x3d4f32(0x94d)](_0x4b8c6d);return _0xbc72c3==='%PDF'?(_0x47a487='application/pdf',console[_0x3d4f32(0x2fa)](_0x3d4f32(0x2a6))):(_0x47a487='text/plain',console[_0x3d4f32(0x2fa)](_0x3d4f32(0xb09))),new File([_0x4be398],_0x5e32c3,{'type':_0x47a487});}async function handleGenerateFromBlueprintWithFiles(_0x59e717,_0x16f7a9=null){const _0x213aba=_0x569b7c;if(!_0x59e717){showMessage(_0x213aba(0x9ae));return;}const _0x115df1=document['getElementById'](_0x213aba(0x826)),_0x34e040=document[_0x213aba(0xca0)](_0x213aba(0x547));_0x115df1[_0x213aba(0x396)][_0x213aba(0x76f)]('hidden'),document[_0x213aba(0xca0)](_0x213aba(0x366))[_0x213aba(0x396)][_0x213aba(0x76f)](_0x213aba(0xb23)),document[_0x213aba(0xca0)](_0x213aba(0x91e))[_0x213aba(0xa5b)]='';try{_0x34e040[_0x213aba(0x8a5)]=_0x213aba(0x3c9);const _0x17ffff=await new Promise((_0x4fb9ea,_0x2ff3a5)=>{const _0x4d7328=_0x213aba,_0x1f2aac=new FileReader();_0x1f2aac[_0x4d7328(0xa8c)](_0x59e717),_0x1f2aac['onload']=()=>_0x4fb9ea(_0x1f2aac[_0x4d7328(0x5d4)][_0x4d7328(0x600)](',')[0x1]),_0x1f2aac[_0x4d7328(0x4c9)]=_0x2ff3a5;}),_0x33ce25=[];if(_0x16f7a9){_0x34e040[_0x213aba(0x8a5)]=_0x213aba(0x7f6);const _0x13d4ec=await _0x16f7a9[_0x213aba(0xc91)]();_0x33ce25[_0x213aba(0xae7)]({'text':_0x213aba(0x71b)+_0x13d4ec});}const _0x5244f0=[{'text':_0x213aba(0xa61)},{'inlineData':{'mimeType':_0x59e717['type'],'data':_0x17ffff}},..._0x33ce25];await handleGenerateFromBlueprint(_0x5244f0);}catch(_0x4fbfe1){console['error'](_0x213aba(0xbca),_0x4fbfe1),showMessage(_0x213aba(0xc90)+_0x4fbfe1[_0x213aba(0x7d7)]),_0x115df1[_0x213aba(0x396)][_0x213aba(0x46b)](_0x213aba(0xb23));}}async function handleLiveAnswer(_0x4ae82e,_0x151ff2){const _0x3156d4=_0x569b7c;document[_0x3156d4(0x31c)](_0x3156d4(0x530))[_0x3156d4(0xb32)](_0x2747a7=>_0x2747a7[_0x3156d4(0x7b4)]=!![]);const _0x587af5=_0x151ff2[_0x3156d4(0x879)]||currentQuizData[_0x3156d4(0x5c7)];let _0x2826df=![],_0x1062c4=_0x4ae82e;if(_0x587af5==='short_answer'){const _0x3c5549=(_0x4ae82e||'')['toString']();_0x2826df=await gradeShortAnswer(_0x3c5549,_0x151ff2);}else{if(_0x587af5===_0x3156d4(0x27b))_0x2826df=_0x4ae82e===_0x151ff2[_0x3156d4(0x481)];else{if(_0x587af5==='true_false'){const _0xe7f046=_0x151ff2[_0x3156d4(0x69f)];_0x2826df=_0x4ae82e===0x0&&_0xe7f046||_0x4ae82e===0x1&&!_0xe7f046;}else{if(_0x587af5==='matching_item'){const _0x357734=_0x151ff2[_0x3156d4(0x1db)][_0x4ae82e];_0x2826df=_0x357734===_0x151ff2['correctResponse'],_0x1062c4=_0x357734;}}}}const _0x45f35d=doc(db,_0x3156d4(0x25b)+appId+_0x3156d4(0x9e1),currentLiveGameId),_0x4a5254={};_0x4a5254[_0x3156d4(0x5c8)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x4a5254['players.'+currentStudentName+_0x3156d4(0x543)]=_0x2826df,_0x4a5254[_0x3156d4(0x5c8)+currentStudentName+'.lastAnswerIndex']=_0x587af5===_0x3156d4(0x934)||_0x587af5===_0x3156d4(0x489)?null:_0x4ae82e,_0x4a5254[_0x3156d4(0x5c8)+currentStudentName+_0x3156d4(0x2c1)]=_0x1062c4,_0x4a5254['players.'+currentStudentName+_0x3156d4(0x8ba)]=serverTimestamp(),_0x4a5254[_0x3156d4(0x5c8)+currentStudentName+_0x3156d4(0x363)]=![],await updateDoc(_0x45f35d,_0x4a5254),liveGameView['innerHTML']=_0x3156d4(0x7de);}function showAdminSummaryView(_0x6e7f98,_0xe1b587){const _0x18e477=_0x569b7c,_0x177d3a=Object['values'](_0x6e7f98[_0x18e477(0x3fc)]||{}),_0x4eb529=_0xe1b587[_0x18e477(0x879)]||currentQuizData[_0x18e477(0x5c7)],_0x1c81c9=_0x4eb529===_0x18e477(0xa08)?[_0x18e477(0x7f7),_0x18e477(0x82e)]:_0xe1b587[_0x18e477(0xb7c)]||_0xe1b587['allResponses']||[],_0x15c2b2={},_0x59933a=new Array(_0x1c81c9[_0x18e477(0xcda)])['fill'](0x0);_0x1c81c9[_0x18e477(0xb32)]((_0x5d2e89,_0xf5fed8)=>{_0x15c2b2[_0xf5fed8]=[];}),Object[_0x18e477(0x76b)](_0x6e7f98[_0x18e477(0x3fc)]||{})[_0x18e477(0xb32)](([_0x210167,_0x3e47fa])=>{const _0x53156d=_0x18e477;if(_0x3e47fa[_0x53156d(0xc81)]===_0x53156d(0x88e)&&_0x3e47fa[_0x53156d(0xb1b)]!==undefined){const _0x3928a9=_0x3e47fa[_0x53156d(0xb1b)];_0x15c2b2[_0x3928a9]&&(_0x15c2b2[_0x3928a9]['push'](_0x210167),_0x59933a[_0x3928a9]++);}});const _0x3ea725=Math[_0x18e477(0x557)](..._0x59933a,0x1),_0x93bdb4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0xe1b587[_0x18e477(0x73f)]||_0xe1b587[_0x18e477(0x332)])+_0x18e477(0x80c)+_0x59933a[_0x18e477(0xc3d)]((_0x156f1e,_0x13ed22)=>{const _0xffed6c=_0x18e477,_0x2b0856=_0x15c2b2[_0x13ed22]['length']>0x0?_0x15c2b2[_0x13ed22]['join'](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้';let _0x4bc650=![];if(_0x4eb529===_0xffed6c(0x27b))_0x4bc650=_0x13ed22===_0xe1b587['correctAnswerIndex'];else{if(_0x4eb529===_0xffed6c(0xa08)){const _0x236506=_0xe1b587[_0xffed6c(0x69f)];_0x4bc650=_0x236506&&_0x13ed22===0x0||!_0x236506&&_0x13ed22===0x1;}else _0x4eb529===_0xffed6c(0x489)&&(_0x4bc650=_0x1c81c9[_0x13ed22]===_0xe1b587[_0xffed6c(0x863)]);}const _0x5b6e0d=_0x4bc650?_0xffed6c(0x830):_0xffed6c(0x8b6);return _0xffed6c(0x4d4)+_0x156f1e+_0xffed6c(0x50c)+_0x5b6e0d+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x13ed22+_0xffed6c(0x84b)+_0x1c81c9[_0x13ed22]+_0xffed6c(0x1fe)+_0x13ed22+_0xffed6c(0x49f)+_0x2b0856+_0xffed6c(0xced);})[_0x18e477(0xcbb)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x93bdb4;if(window['MathJax'])MathJax['typesetPromise']();document[_0x18e477(0xca0)]('show-leaderboard-btn')[_0x18e477(0x79b)](_0x18e477(0xd52),async()=>{const _0x2a3497=_0x18e477,_0x459979=doc(db,'artifacts/'+appId+_0x2a3497(0x9e1),currentLiveGameId);await updateDoc(_0x459979,{'questionStatus':_0x2a3497(0x744)});}),document[_0x18e477(0xca0)](_0x18e477(0x282))['addEventListener'](_0x18e477(0xd52),()=>{openScratchpad(_0xe1b587,_0x1c81c9);});}function showPlayerSummaryView(_0x2e6930,_0x35dda5){const _0x36a734=_0x569b7c,_0x17aace=Object[_0x36a734(0x224)](_0x2e6930['players']||{}),_0x55b009=_0x2e6930['players'][_0x35dda5],_0x3a74cb=_0x17aace['filter'](_0x234e01=>_0x234e01[_0x36a734(0xc81)]==='active')['sort']((_0x538732,_0x5bc2be)=>_0x5bc2be[_0x36a734(0x9f4)]-_0x538732[_0x36a734(0x9f4)]),_0x3e9362=_0x3a74cb['findIndex'](_0xc724fd=>_0xc724fd===_0x55b009)+0x1,_0xfeefc0=_0x55b009[_0x36a734(0x7c8)]?'ถูกต้อง!':_0x36a734(0x883),_0x4dda6b=_0x55b009['lastAnswerCorrect']?_0x36a734(0xa6d):_0x36a734(0xcaa),_0x3c4a19=_0x55b009['pointsLastQuestion']||0x0,_0x3a2352=_0x36a734(0x873),_0x252f6e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x3a2352+_0x36a734(0xafb)+_0x4dda6b+_0x36a734(0x769)+_0xfeefc0+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x3c4a19+_0x36a734(0x833)+(_0x3e9362>0x0?_0x3e9362:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x36a734(0xa5b)]=_0x252f6e;}function createQuizFromBank(){const _0x44839d=_0x569b7c,_0x3db239=document['querySelectorAll'](_0x44839d(0x6a6));if(_0x3db239[_0x44839d(0xcda)]===0x0){showMessage(_0x44839d(0xa03));return;}const _0x2fb5b0=[];_0x3db239[_0x44839d(0xb32)](_0x4efffe=>{const _0x3b23dc=_0x44839d;_0x2fb5b0[_0x3b23dc(0xae7)](JSON['parse'](_0x4efffe[_0x3b23dc(0xb85)]));});const _0x5ca57e={'topic':_0x44839d(0x506),'questions':_0x2fb5b0};displayGeneratedQuiz(_0x5ca57e);}function showAdminLobbyView(_0xb58b5f,_0x1e4e81){const _0x2fc5db=_0x569b7c;showView(_0x2fc5db(0x532));const _0xb8ddd4=_0x2fc5db(0x2f8)+_0x1e4e81+_0x2fc5db(0xc94)+_0xb58b5f+_0x2fc5db(0x7d0);liveGameView[_0x2fc5db(0xa5b)]=_0xb8ddd4,document['getElementById'](_0x2fc5db(0xd54))[_0x2fc5db(0x79b)]('click',async()=>{const _0x4d25ac=_0x2fc5db;if(!currentQuizData||!currentQuizData[_0x4d25ac(0x981)]||currentQuizData[_0x4d25ac(0x981)][_0x4d25ac(0xcda)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x87969b=doc(db,_0x4d25ac(0x25b)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x87969b,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x4ec7e8=currentQuizData[_0x4d25ac(0x981)][0x0],_0x241906=currentQuizData[_0x4d25ac(0x981)]['length'];showAdminLiveQuestionView(_0x4ec7e8,0x0,_0x241906);}catch(_0x62a1ce){console[_0x4d25ac(0x728)](_0x4d25ac(0x310),_0x62a1ce),showMessage(_0x4d25ac(0x33d));}});}async function openQuizBankModal(){const _0x9fef78=_0x569b7c;if(allQuizzesGlobal[_0x9fef78(0xcda)]===0x0){const _0x4d1a43=await getDocs(collection(db,_0x9fef78(0x25b)+appId+_0x9fef78(0x72c)));allQuizzesGlobal=_0x4d1a43[_0x9fef78(0x53c)][_0x9fef78(0xc3d)](_0x27e397=>({'id':_0x27e397['id'],..._0x27e397['data']()}));}renderQuizBankList(''),document[_0x9fef78(0xca0)](_0x9fef78(0x6af))['classList'][_0x9fef78(0x76f)](_0x9fef78(0xb23));}function renderQuizBankList(_0x34f695='',_0x534ae9=![]){const _0xfa83ad=_0x569b7c,_0x7ad757=document[_0xfa83ad(0xca0)]('bank-quiz-list'),_0x27c13c=_0x34f695[_0xfa83ad(0x38f)]()[_0xfa83ad(0xc9e)](),_0x2065b2=allQuizzesGlobal[_0xfa83ad(0xc3d)](_0x50ad2d=>({..._0x50ad2d,'projectName':allProjects[_0xfa83ad(0xd14)](_0x5be23f=>_0x5be23f['id']===_0x50ad2d[_0xfa83ad(0xadc)])?.[_0xfa83ad(0x8af)]||_0xfa83ad(0xbac)}))[_0xfa83ad(0x959)](_0x4522e9=>(_0x4522e9[_0xfa83ad(0xaf8)]||'')[_0xfa83ad(0x38f)]()[_0xfa83ad(0x771)](_0x27c13c)||(_0x4522e9[_0xfa83ad(0x8af)]||'')[_0xfa83ad(0x38f)]()[_0xfa83ad(0x771)](_0x27c13c)||_0x4522e9['id'][_0xfa83ad(0xae2)]()[_0xfa83ad(0x771)](_0x27c13c));document[_0xfa83ad(0xca0)]('quiz-bank-count')['textContent']='('+_0x2065b2[_0xfa83ad(0xcda)]+_0xfa83ad(0x44c),_0x7ad757[_0xfa83ad(0xa5b)]=_0x2065b2['length']?_0x2065b2[_0xfa83ad(0xc3d)](_0x4e5c83=>{const _0x27c849=_0xfa83ad,_0x469d85=!_0x534ae9?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4e5c83['id']+_0x27c849(0x912)+_0x4e5c83['id']+_0x27c849(0xcaf)+_0x4e5c83['id']+_0x27c849(0xb97)+_0x4e5c83['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4e5c83['id']+_0x27c849(0xbb6)+_0x4e5c83['id']+_0x27c849(0x624)+_0x4e5c83[_0x27c849(0xaf8)]+_0x27c849(0xb2e):'';return _0x27c849(0xba3)+_0x4e5c83['id']+'\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x4e5c83[_0x27c849(0xaf8)]||_0x27c849(0x6fe))+_0x27c849(0x3d0)+(_0x4e5c83[_0x27c849(0x981)]?.['length']||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x4e5c83['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x4e5c83['id']+_0x27c849(0x836)+_0x469d85+_0x27c849(0x426);})[_0xfa83ad(0xcbb)](''):_0xfa83ad(0xc4c),!_0x534ae9&&(_0x7ad757[_0xfa83ad(0x31c)](_0xfa83ad(0xa75))[_0xfa83ad(0xb32)](_0x11f6f7=>{const _0x2717ec=_0xfa83ad;_0x11f6f7[_0x2717ec(0x79b)](_0x2717ec(0xd52),()=>{const _0x50022a=_0x2717ec,_0x25f9c4=_0x11f6f7['dataset']['id'];document[_0x50022a(0xca0)](_0x50022a(0x6af))[_0x50022a(0x396)][_0x50022a(0x46b)](_0x50022a(0xb23)),showQuizDetailView(_0x25f9c4);});}),_0x7ad757[_0xfa83ad(0x31c)]('.quiz-bank-try-btn')[_0xfa83ad(0xb32)](_0x5cee27=>{const _0x18f03f=_0xfa83ad;_0x5cee27[_0x18f03f(0x79b)](_0x18f03f(0xd52),_0x2dc80c=>{const _0xc0fe1e=_0x18f03f;_0x2dc80c[_0xc0fe1e(0x76c)]();const _0x2cbff4=_0x5cee27[_0xc0fe1e(0x507)]['id'],_0x55c489=allQuizzesGlobal[_0xc0fe1e(0xd14)](_0x198ea6=>_0x198ea6['id']===_0x2cbff4);_0x55c489?(currentQuizData=_0x55c489,document[_0xc0fe1e(0xca0)](_0xc0fe1e(0x6af))['classList'][_0xc0fe1e(0x46b)](_0xc0fe1e(0xb23)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x7ad757[_0xfa83ad(0x31c)](_0xfa83ad(0x287))[_0xfa83ad(0xb32)](_0x4928fe=>{const _0x4021c3=_0xfa83ad;_0x4928fe[_0x4021c3(0x79b)]('click',_0x265f93=>{const _0xc88fd9=_0x4021c3;_0x265f93['stopPropagation']();const _0x126b87=_0x4928fe[_0xc88fd9(0x507)]['id'],_0xa5a5d2=allQuizzesGlobal['find'](_0x24ae46=>_0x24ae46['id']===_0x126b87);_0xa5a5d2?(document[_0xc88fd9(0xca0)](_0xc88fd9(0x6af))[_0xc88fd9(0x396)][_0xc88fd9(0x46b)]('hidden'),handleGenerateParallelFromBank(_0xa5a5d2)):showMessage(_0xc88fd9(0x4f6));});}),_0x7ad757[_0xfa83ad(0x31c)](_0xfa83ad(0x5df))['forEach'](_0x2ba7f9=>{const _0x45d170=_0xfa83ad;_0x2ba7f9[_0x45d170(0x79b)]('click',_0x1dee01=>{const _0x57d027=_0x45d170;_0x1dee01[_0x57d027(0x76c)]();const _0x51b682=_0x2ba7f9['dataset']['id'],_0x38d477=allQuizzesGlobal['find'](_0x3d42c5=>_0x3d42c5['id']===_0x51b682);_0x38d477?(document[_0x57d027(0xca0)]('quiz-bank-modal')[_0x57d027(0x396)][_0x57d027(0x46b)](_0x57d027(0xb23)),startPresentation(_0x38d477)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x7ad757[_0xfa83ad(0x31c)](_0xfa83ad(0xd30))[_0xfa83ad(0xb32)](_0x4bcef2=>{const _0x33cf46=_0xfa83ad;_0x4bcef2[_0x33cf46(0x79b)]('click',_0x470216=>{const _0x53da21=_0x33cf46;_0x470216[_0x53da21(0x76c)]();const _0x4e95f8=_0x4bcef2['dataset']['id'];document[_0x53da21(0xca0)](_0x53da21(0x6af))['classList'][_0x53da21(0x46b)](_0x53da21(0xb23)),handleMoveQuiz(_0x4e95f8);});}),_0x7ad757[_0xfa83ad(0x31c)]('.quiz-bank-settings-btn')[_0xfa83ad(0xb32)](_0x2a3b7e=>{const _0x4ad730=_0xfa83ad;_0x2a3b7e[_0x4ad730(0x79b)]('click',_0xf335d5=>{const _0xbb3e38=_0x4ad730;_0xf335d5[_0xbb3e38(0x76c)]();const _0x1441f4=_0x2a3b7e[_0xbb3e38(0x507)]['id'];document[_0xbb3e38(0xca0)]('quiz-bank-modal')[_0xbb3e38(0x396)][_0xbb3e38(0x46b)](_0xbb3e38(0xb23)),handleQuizSettings(_0x1441f4);});}),_0x7ad757[_0xfa83ad(0x31c)](_0xfa83ad(0x306))[_0xfa83ad(0xb32)](_0x3c865c=>{const _0x1d4d16=_0xfa83ad;_0x3c865c[_0x1d4d16(0x79b)](_0x1d4d16(0xd52),_0x17e243=>{const _0x3bdf96=_0x1d4d16;_0x17e243['stopPropagation']();const _0x2c4167=_0x3c865c[_0x3bdf96(0x507)]['id'],_0x543abd=_0x3c865c['dataset'][_0x3bdf96(0xaf8)];showConfirmation(_0x3bdf96(0x29c)+_0x543abd+_0x3bdf96(0x8dc),()=>handleDeleteQuiz(_0x2c4167));});}));}async function handleCompareResults(_0x5c9aa3,_0x131377){const _0x1ff99d=_0x569b7c,_0x2662df=document[_0x1ff99d(0xca0)]('comparison-modal'),_0x3a96cf=document[_0x1ff99d(0xca0)]('comparison-overall-content'),_0xa59c95=document[_0x1ff99d(0xca0)](_0x1ff99d(0x607));document[_0x1ff99d(0xca0)](_0x1ff99d(0x49a))[_0x1ff99d(0x396)][_0x1ff99d(0x46b)](_0x1ff99d(0x88e)),document[_0x1ff99d(0xca0)](_0x1ff99d(0x9b0))[_0x1ff99d(0x396)]['remove'](_0x1ff99d(0x88e)),_0x3a96cf[_0x1ff99d(0x396)][_0x1ff99d(0x76f)](_0x1ff99d(0xb23)),_0xa59c95['classList'][_0x1ff99d(0x46b)]('hidden'),_0x3a96cf['innerHTML']=_0x1ff99d(0x3b4),_0xa59c95['innerHTML']='',_0x2662df[_0x1ff99d(0x396)][_0x1ff99d(0x76f)]('hidden');try{const _0x4bae29=doc(db,'artifacts/'+appId+_0x1ff99d(0x72c),_0x5c9aa3),_0x453e75=await getDoc(_0x4bae29);if(!_0x453e75['exists']())throw new Error(_0x1ff99d(0xc11));const _0x432290=_0x453e75[_0x1ff99d(0x7f5)](),_0x5dcf61=_0x432290[_0x1ff99d(0x981)][_0x1ff99d(0xcda)],_0x4e4e3e=collection(db,_0x1ff99d(0x25b)+appId+_0x1ff99d(0x6f0)+_0x131377+_0x1ff99d(0x1ee)),_0x5e87b5=collection(db,_0x1ff99d(0x25b)+appId+_0x1ff99d(0x6f0)+_0x5c9aa3+'/submissions'),[_0x461656,_0x21128f]=await Promise['all']([getDocs(_0x4e4e3e),getDocs(_0x5e87b5)]),_0x30608f=_0x461656['docs'][_0x1ff99d(0xc3d)](_0x6401e0=>_0x6401e0['data']()),_0x12c3a5=_0x21128f[_0x1ff99d(0x53c)]['map'](_0x3aa899=>_0x3aa899['data']()),_0x63e7c0=_0x30608f['map'](_0x56b4a6=>_0x56b4a6['latestScore']),_0x4556e3=_0x12c3a5[_0x1ff99d(0xc3d)](_0x21d828=>_0x21d828['latestScore']),_0x10afca=calculateMeanAndStdDev(_0x63e7c0),_0x719553=calculateMeanAndStdDev(_0x4556e3),_0x502190=_0x10afca[_0x1ff99d(0x463)],_0x5ed8ce=_0x719553[_0x1ff99d(0x463)],_0x1c63c5=_0x5ed8ce-_0x502190;let _0x11403f=_0x1ff99d(0x28f)+_0x502190[_0x1ff99d(0x551)](0x2)+_0x1ff99d(0xa2e)+_0x5ed8ce[_0x1ff99d(0x551)](0x2)+_0x1ff99d(0xb7a)+(_0x1c63c5>=0x0?_0x1ff99d(0xcf5):'bg-red-100')+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x1c63c5>=0x0?_0x1ff99d(0xaba):_0x1ff99d(0xcb1))+_0x1ff99d(0x400)+(_0x1c63c5>=0x0?_0x1ff99d(0x894):_0x1ff99d(0x35d))+'\x22>'+(_0x1c63c5>=0x0?'+':'')+_0x1c63c5[_0x1ff99d(0x551)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x3a96cf[_0x1ff99d(0xa5b)]=_0x11403f;const _0x182f95=document[_0x1ff99d(0xca0)](_0x1ff99d(0x9ff))['getContext']('2d');if(chartInstances[_0x1ff99d(0x89e)])chartInstances[_0x1ff99d(0x89e)][_0x1ff99d(0x2ec)]();chartInstances[_0x1ff99d(0x89e)]=new Chart(_0x182f95,{'type':_0x1ff99d(0x66e),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':'ก่อนเรียน','data':[_0x502190],'backgroundColor':_0x1ff99d(0x7e3)},{'label':_0x1ff99d(0x307),'data':[_0x5ed8ce],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x5dcf61}}}});const _0x4c0589=currentProjectData['students']||[],_0x513ea9=_0x4c0589[_0x1ff99d(0xc3d)](_0x5a9de4=>{const _0x2ffb07=_0x1ff99d,_0x4f9b2f=_0x30608f[_0x2ffb07(0xd14)](_0x2bab13=>_0x2bab13[_0x2ffb07(0x972)]===_0x5a9de4),_0x36a29c=_0x12c3a5['find'](_0x47917a=>_0x47917a[_0x2ffb07(0x972)]===_0x5a9de4),_0x43e008=_0x4f9b2f?_0x4f9b2f['latestScore']:null,_0x461deb=_0x36a29c?_0x36a29c[_0x2ffb07(0x477)]:null,_0x2cbc86=_0x43e008!==null&&_0x461deb!==null?_0x461deb-_0x43e008:null,_0x470da5=_0x43e008!==null?calculateZScore(_0x43e008,_0x10afca[_0x2ffb07(0x463)],_0x10afca[_0x2ffb07(0x468)]):null,_0x96653e=_0x461deb!==null?calculateZScore(_0x461deb,_0x719553['mean'],_0x719553[_0x2ffb07(0x468)]):null,_0x907770=_0x470da5!==null?calculateTScore(_0x470da5):null,_0x27935a=_0x96653e!==null?calculateTScore(_0x96653e):null,_0x4ae5ad=_0x907770!==null&&_0x27935a!==null?_0x27935a-_0x907770:null;return{'name':_0x5a9de4,'preScore':_0x43e008,'postScore':_0x461deb,'gain':_0x2cbc86,'preTScore':_0x907770,'postTScore':_0x27935a,'tGain':_0x4ae5ad};});renderIndividualComparisonTable(_0x513ea9,_0xa59c95);}catch(_0x519d04){console[_0x1ff99d(0x728)](_0x1ff99d(0x93b),_0x519d04),_0x3a96cf[_0x1ff99d(0xa5b)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}async function saveBlueprintProject(){const _0x34dddb=_0x569b7c;if(!extractedBlueprintData||!extractedBlueprintData[_0x34dddb(0x230)]){showMessage(_0x34dddb(0x4f7));return;}const _0x19b0a0=prompt(_0x34dddb(0xd40),_0x34dddb(0x8a0));if(!_0x19b0a0||_0x19b0a0[_0x34dddb(0xc9e)]()==='')return;const _0x251128={};extractedBlueprintData[_0x34dddb(0x230)][_0x34dddb(0xb32)](_0x546c1b=>{const _0x3f1222=_0x34dddb;_0x546c1b['mainTopics'][_0x3f1222(0xb32)](_0x1f8562=>{const _0x1e51c3=_0x3f1222;_0x1f8562[_0x1e51c3(0xb88)][_0x1e51c3(0xb32)](_0x1cf08c=>{const _0x54ed89=_0x1e51c3,_0x2255ff='topic_'+Date[_0x54ed89(0x721)]()+Math[_0x54ed89(0x7ff)]()['toString'](0x24)['substr'](0x2,0x9);_0x251128[_0x2255ff]={'sara':_0x546c1b[_0x54ed89(0xa2d)],'mainTopic':_0x1f8562[_0x54ed89(0x638)],'subTopic':_0x1cf08c,'status':'not_generated','lessonContent':null};});});});try{const _0x558d4d=collection(db,_0x34dddb(0x25b)+appId+_0x34dddb(0x8a2));await addDoc(_0x558d4d,{'projectName':_0x19b0a0['trim'](),'gradeLevel':extractedBlueprintData[_0x34dddb(0xa0e)],'topics':_0x251128,'createdAt':serverTimestamp()}),showMessage(_0x34dddb(0x262)+_0x19b0a0[_0x34dddb(0xc9e)]()+'\x22\x20สำเร็จ!'),document[_0x34dddb(0xca0)](_0x34dddb(0x75d))[_0x34dddb(0x396)][_0x34dddb(0x46b)]('hidden');}catch(_0x2aad69){console['error'](_0x34dddb(0x5c4),_0x2aad69),showMessage(_0x34dddb(0x7f2));}}async function showBlueprintProjects(){const _0x3c4666=_0x569b7c,_0x357c21=document['getElementById']('blueprint-projects-modal'),_0x5087f7=document[_0x3c4666(0xca0)](_0x3c4666(0x715));_0x5087f7[_0x3c4666(0xa5b)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>',_0x357c21['classList'][_0x3c4666(0x76f)](_0x3c4666(0xb23));try{const _0x166d8b=collection(db,_0x3c4666(0x25b)+appId+_0x3c4666(0x8a2)),_0x4396e6=await getDocs(_0x166d8b);if(_0x4396e6[_0x3c4666(0xcc9)]){_0x5087f7[_0x3c4666(0xa5b)]=_0x3c4666(0x3b6);return;}const _0x410456=_0x4396e6[_0x3c4666(0x53c)][_0x3c4666(0xc3d)](_0x38c1e1=>({'id':_0x38c1e1['id'],..._0x38c1e1[_0x3c4666(0x7f5)]()}));_0x410456['sort']((_0x29084f,_0x248bae)=>_0x29084f['projectName'][_0x3c4666(0x8a1)](_0x248bae[_0x3c4666(0x8af)],'th')),_0x5087f7['innerHTML']=_0x410456[_0x3c4666(0xc3d)](_0x480f77=>_0x3c4666(0x3b2)+_0x480f77[_0x3c4666(0x8af)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x480f77[_0x3c4666(0xa0e)]+_0x3c4666(0xb89)+Object[_0x3c4666(0x65a)](_0x480f77[_0x3c4666(0xb58)])[_0x3c4666(0xcda)]+_0x3c4666(0xa0c)+_0x480f77['id']+_0x3c4666(0x8d1)+_0x480f77['id']+_0x3c4666(0x9a6))[_0x3c4666(0xcbb)]('');}catch(_0x1efc77){console[_0x3c4666(0x728)](_0x3c4666(0x45c),_0x1efc77),_0x5087f7[_0x3c4666(0xa5b)]=_0x3c4666(0x36c);}}async function displayBlueprintProjectManager(_0x37900f){const _0x1b6ea8=_0x569b7c;currentBlueprintProjectId=_0x37900f,document[_0x1b6ea8(0xca0)]('blueprint-projects-modal')[_0x1b6ea8(0x396)][_0x1b6ea8(0x46b)]('hidden'),showView(_0x1b6ea8(0x54c)),projectDashboardView[_0x1b6ea8(0x396)]['add'](_0x1b6ea8(0xb23));const _0x1253ea=document[_0x1b6ea8(0xca0)](_0x1b6ea8(0x44d));_0x1253ea['classList'][_0x1b6ea8(0x76f)](_0x1b6ea8(0xb23)),document[_0x1b6ea8(0xca0)]('bp-topic-list-container')[_0x1b6ea8(0xa5b)]=_0x1b6ea8(0x3b4);try{const _0x2ad52c=doc(db,_0x1b6ea8(0x25b)+appId+_0x1b6ea8(0x8a2),_0x37900f),_0xfab24=await getDoc(_0x2ad52c);if(!_0xfab24[_0x1b6ea8(0x6c9)]())throw new Error('ไม่พบโปรเจค');const _0x1d85c0={'id':_0xfab24['id'],..._0xfab24['data']()};document[_0x1b6ea8(0xca0)](_0x1b6ea8(0x6d1))[_0x1b6ea8(0x8a5)]=_0x1d85c0[_0x1b6ea8(0x8af)],document[_0x1b6ea8(0xca0)](_0x1b6ea8(0x7fa))[_0x1b6ea8(0xb85)]=_0x1d85c0['referenceFileUrl']||'',renderBlueprintTopicManager(_0x1d85c0);}catch(_0x1f9501){console[_0x1b6ea8(0x728)](_0x1b6ea8(0x832),_0x1f9501),showMessage(_0x1f9501['message']),showView(_0x1b6ea8(0x54c));}}function renderBlueprintTopicManager(_0xacb576){const _0x965e1e=_0x569b7c,_0x3eb977=document['getElementById']('bp-topic-list-container'),_0x40d3b2=_0xacb576[_0x965e1e(0xb58)]||{};if(Object[_0x965e1e(0x65a)](_0x40d3b2)[_0x965e1e(0xcda)]===0x0){_0x3eb977[_0x965e1e(0xa5b)]=_0x965e1e(0xd4d);return;}const _0x361eaf=Object[_0x965e1e(0x76b)](_0x40d3b2)[_0x965e1e(0xc3d)](([_0x1cada0,_0x275976])=>({'id':_0x1cada0,..._0x275976}))[_0x965e1e(0x64b)]((_0x216e57,_0x8ebe6a)=>(_0x216e57['order']??Infinity)-(_0x8ebe6a[_0x965e1e(0x772)]??Infinity)),_0x19dff5={};_0x361eaf[_0x965e1e(0xb32)](_0x2f302=>{const _0x110e6a=_0x965e1e,{sara:_0x29dee5,mainTopic:_0x508304}=_0x2f302;!_0x19dff5[_0x29dee5]&&(_0x19dff5[_0x29dee5]={}),!_0x19dff5[_0x29dee5][_0x508304]&&(_0x19dff5[_0x29dee5][_0x508304]=[]),_0x19dff5[_0x29dee5][_0x508304][_0x110e6a(0xae7)](_0x2f302);});let _0x1743b2='';for(const _0x4b8b5a in _0x19dff5){_0x1743b2+='<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x4b8b5a+_0x965e1e(0xa36);for(const _0x4a5bee in _0x19dff5[_0x4b8b5a]){_0x1743b2+=_0x965e1e(0x9ca)+_0x4a5bee+_0x965e1e(0x79a),_0x19dff5[_0x4b8b5a][_0x4a5bee]['forEach'](_0x4a6c95=>{const _0x2c8b47=_0x965e1e,_0x3f17c0=_0x4a6c95['id'],_0x4e08dc=_0x4a6c95[_0x2c8b47(0x67e)]||[],_0x33b923=_0x4e08dc['length']>0x0,_0x1facda=_0x4a6c95[_0x2c8b47(0xc81)]===_0x2c8b47(0xcd0);let _0x5726ab='';_0x33b923?_0x5726ab='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20('+_0x4e08dc[_0x2c8b47(0xcda)]+_0x2c8b47(0x916):_0x5726ab='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+(_0x1facda?'bg-green-200\x20text-green-800':_0x2c8b47(0x5c9))+'\x22>'+(_0x1facda?_0x2c8b47(0x5cb):'ยังไม่สร้าง')+_0x2c8b47(0x8b9);const _0x3a3edb=!_0x1facda?_0x2c8b47(0x9de):'',_0x782b2f=!_0x1facda?_0x2c8b47(0x59e):'';let _0x6e57d6=_0x1facda?_0x2c8b47(0x4e8):_0x2c8b47(0x619);_0x1743b2+=_0x2c8b47(0xa20)+_0x3f17c0+_0x2c8b47(0x807)+_0x4a6c95[_0x2c8b47(0x214)]+_0x2c8b47(0x1f6)+_0x5726ab+_0x2c8b47(0x2af)+_0x3a3edb+_0x2c8b47(0x6a9)+_0x782b2f+_0x2c8b47(0x9b9)+_0x6e57d6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1743b2+=_0x965e1e(0x286);}_0x1743b2+=_0x965e1e(0x3f0);}_0x3eb977[_0x965e1e(0xa5b)]=_0x1743b2;}async function handleDeepDeleteBlueprintProject(_0x489097){const _0x3311ae=_0x569b7c,_0x2e8081=doc(db,_0x3311ae(0x25b)+appId+_0x3311ae(0x8a2),_0x489097),_0x28a5d8=await getDoc(_0x2e8081);if(!_0x28a5d8[_0x3311ae(0x6c9)]()){showMessage(_0x3311ae(0x4fa));return;}const _0xa18727=_0x28a5d8[_0x3311ae(0x7f5)]()[_0x3311ae(0x8af)];showConfirmation(_0x3311ae(0x60e)+_0xa18727+'\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!',async()=>{const _0x1791e7=_0x3311ae;showMessage(_0x1791e7(0x389));try{const _0x3614db=writeBatch(db),_0x32c6c9=_0x28a5d8[_0x1791e7(0x7f5)](),_0x404d61=_0x32c6c9[_0x1791e7(0xb58)]||{};for(const _0x369b20 in _0x404d61){const _0x51eccc=doc(db,_0x1791e7(0x25b)+appId+'/public/data/blueprintProjects/'+_0x489097+'/lessons',_0x369b20);_0x3614db['delete'](_0x51eccc);}const _0x14b0ae=new Set();for(const _0x3826e2 in _0x404d61){_0x404d61[_0x3826e2][_0x1791e7(0x67e)]&&_0x404d61[_0x3826e2]['linkedQuizIds']['forEach'](_0x40fc2f=>_0x14b0ae[_0x1791e7(0x46b)](_0x40fc2f));}for(const _0x1dea51 of _0x14b0ae){await handleDeleteQuiz(_0x1dea51,![]);}_0x3614db[_0x1791e7(0x81e)](_0x2e8081),await _0x3614db[_0x1791e7(0xad5)](),showMessage(_0x1791e7(0x695)+_0xa18727+_0x1791e7(0x505)),showBlueprintProjects();}catch(_0x1304c8){console[_0x1791e7(0x728)](_0x1791e7(0xba9),_0x1304c8),showMessage(_0x1791e7(0xabb));}});}async function openTopicQuizBank(_0x21ce5b){const _0x4cd69a=_0x569b7c,_0x54c83d=document['getElementById']('topic-quiz-bank-modal'),_0x15e4a0=document[_0x4cd69a(0xca0)](_0x4cd69a(0x24b)),_0x44713c=document[_0x4cd69a(0xca0)]('clear-all-links-btn');try{await ensureGlobalQuizzesLoaded();const _0x218d65=doc(db,_0x4cd69a(0x25b)+appId+_0x4cd69a(0x8a2),currentBlueprintProjectId),_0x1116ff=await getDoc(_0x218d65);if(!_0x1116ff['exists']())return;const _0x556e1d=_0x1116ff[_0x4cd69a(0x7f5)](),_0x3962d8=_0x556e1d[_0x4cd69a(0xb58)][_0x21ce5b];document[_0x4cd69a(0xca0)](_0x4cd69a(0x1df))[_0x4cd69a(0x8a5)]=_0x3962d8['subTopic'];const _0x1a0c44=_0x3962d8['linkedQuizIds']||[];_0x44713c['classList']['toggle'](_0x4cd69a(0xb23),_0x1a0c44[_0x4cd69a(0xcda)]===0x0),_0x44713c[_0x4cd69a(0xbe8)]=()=>handleClearAllLinksForTopic(_0x21ce5b);if(_0x1a0c44[_0x4cd69a(0xcda)]===0x0)_0x15e4a0[_0x4cd69a(0xa5b)]=_0x4cd69a(0x44e);else{const _0x4d037c=allQuizzesGlobal[_0x4cd69a(0x959)](_0x506c2f=>_0x1a0c44[_0x4cd69a(0x771)](_0x506c2f['id']));_0x15e4a0[_0x4cd69a(0xa5b)]=_0x4d037c[_0x4cd69a(0xc3d)](_0x41d5c7=>_0x4cd69a(0xc4d)+_0x41d5c7['id']+_0x4cd69a(0xc6f)+_0x41d5c7[_0x4cd69a(0xaf8)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20'+_0x41d5c7['id']+'\x20|\x20'+_0x41d5c7['questions'][_0x4cd69a(0xcda)]+_0x4cd69a(0xc01)+_0x41d5c7['id']+_0x4cd69a(0x61f)+_0x41d5c7['id']+_0x4cd69a(0x6e1)+_0x41d5c7['id']+_0x4cd69a(0x95d)+_0x41d5c7['id']+_0x4cd69a(0xd43)+_0x41d5c7['id']+_0x4cd69a(0x7b3)+_0x41d5c7['id']+_0x4cd69a(0x26c)+_0x21ce5b+_0x4cd69a(0x2a0)+_0x41d5c7['id']+_0x4cd69a(0xd17))[_0x4cd69a(0xcbb)]('');}document['getElementById'](_0x4cd69a(0x283))[_0x4cd69a(0xbe8)]=()=>{openQuizSelectorForBlueprint(_0x21ce5b);},document[_0x4cd69a(0xca0)](_0x4cd69a(0x790))[_0x4cd69a(0xbe8)]=()=>_0x54c83d[_0x4cd69a(0x396)]['add'](_0x4cd69a(0xb23)),_0x54c83d[_0x4cd69a(0x396)][_0x4cd69a(0x76f)](_0x4cd69a(0xb23));}catch(_0x58937c){showMessage(_0x58937c[_0x4cd69a(0x7d7)]);}}async function openQuizSelectorForBlueprint(_0x3a3476){const _0x4185cd=_0x569b7c,_0x37bad2=document['getElementById'](_0x4185cd(0x6af)),_0x45c9dc=document['getElementById']('topic-quiz-bank-modal');_0x45c9dc[_0x4185cd(0x396)][_0x4185cd(0x46b)](_0x4185cd(0xb23)),document[_0x4185cd(0xca0)]('confirm-link-quiz-btn')?.[_0x4185cd(0x76f)]();const _0x7bc8bc=document[_0x4185cd(0x827)]('button');_0x7bc8bc['id']=_0x4185cd(0x455),_0x7bc8bc['className']='bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400',_0x7bc8bc[_0x4185cd(0x8a5)]=_0x4185cd(0x3e0),_0x7bc8bc[_0x4185cd(0x7b4)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x37bad2[_0x4185cd(0x396)][_0x4185cd(0x76f)](_0x4185cd(0xb23)),renderQuizBankListForMultiSelect(''),document[_0x4185cd(0xca0)](_0x4185cd(0x767))['style'][_0x4185cd(0x71f)]=_0x4185cd(0x9d3),_0x37bad2[_0x4185cd(0xb90)](_0x4185cd(0x98c))[_0x4185cd(0xac6)](_0x7bc8bc);const _0x12c08d=(_0x57b1eb=![])=>{const _0x22c1b3=_0x4185cd;_0x37bad2[_0x22c1b3(0x396)][_0x22c1b3(0x46b)](_0x22c1b3(0xb23)),document['getElementById'](_0x22c1b3(0x767))['style']['display']=_0x22c1b3(0x7d2),_0x7bc8bc[_0x22c1b3(0x76f)](),_0x57b1eb&&openTopicQuizBank(_0x3a3476);};_0x7bc8bc['onclick']=async()=>{const _0x55fdb5=_0x4185cd,_0x187914=Array[_0x55fdb5(0x95b)](document[_0x55fdb5(0x31c)](_0x55fdb5(0xaa1)))[_0x55fdb5(0xc3d)](_0x2a1285=>_0x2a1285[_0x55fdb5(0xb85)]);if(_0x187914[_0x55fdb5(0xcda)]===0x0)return;try{const _0x3caf7a=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x4ce846=(await getDoc(_0x3caf7a))[_0x55fdb5(0x7f5)](),_0x36e92c=_0x4ce846[_0x55fdb5(0xb58)][_0x3a3476][_0x55fdb5(0x67e)]||[],_0xb6b68a=[...new Set([..._0x36e92c,..._0x187914])];await updateDoc(_0x3caf7a,{[_0x55fdb5(0x22a)+_0x3a3476+_0x55fdb5(0xb50)]:_0xb6b68a}),showMessage('เพิ่ม\x20'+_0x187914['length']+_0x55fdb5(0x27d)),_0x12c08d(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x153f68){console[_0x55fdb5(0x728)](_0x55fdb5(0x392),_0x153f68);}},document[_0x4185cd(0xca0)](_0x4185cd(0xc85))[_0x4185cd(0xbe8)]=()=>_0x12c08d(!![]);}catch(_0x75c4db){showMessage(_0x75c4db[_0x4185cd(0x7d7)]),_0x45c9dc['classList'][_0x4185cd(0x76f)](_0x4185cd(0xb23));}}function handleClearLinkedQuiz(_0x32add5){const _0x1de49a=_0x569b7c;showConfirmation(_0x1de49a(0x6eb),async()=>{const _0x30f204=_0x1de49a;try{const _0x5d1414=doc(db,_0x30f204(0x25b)+appId+_0x30f204(0x8a2),currentBlueprintProjectId);await updateDoc(_0x5d1414,{[_0x30f204(0x22a)+_0x32add5+'.linkedQuizId']:deleteField()}),showMessage(_0x30f204(0xa5f)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1268ac){console[_0x30f204(0x728)](_0x30f204(0x90d),_0x1268ac),showMessage(_0x30f204(0xc3f));}});}async function addTopicToProject(){const _0x3912a5=_0x569b7c,_0x5b702a=prompt(_0x3912a5(0x5a7));if(!_0x5b702a||_0x5b702a[_0x3912a5(0xc9e)]()==='')return;const _0x5b9cd7=prompt(_0x3912a5(0x965),_0x3912a5(0xc7f)),_0x1dd54d=prompt(_0x3912a5(0x4ed),_0x3912a5(0x519)),_0x2aeeff='topic_'+Date[_0x3912a5(0x721)]()+Math[_0x3912a5(0x7ff)]()[_0x3912a5(0xae2)](0x24)[_0x3912a5(0x89f)](0x2,0x9),_0x2af96c={'sara':_0x5b9cd7,'mainTopic':_0x1dd54d,'subTopic':_0x5b702a[_0x3912a5(0xc9e)](),'status':_0x3912a5(0x1ef),'lessonContent':null};try{const _0xf47b71=doc(db,_0x3912a5(0x25b)+appId+_0x3912a5(0x8a2),currentBlueprintProjectId);await updateDoc(_0xf47b71,{['topics.'+_0x2aeeff]:_0x2af96c}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xbf5742){console[_0x3912a5(0x728)](_0x3912a5(0x364),_0xbf5742),showMessage(_0x3912a5(0x522));}}async function editTopicInProject(_0x47a245){const _0x37fcf8=_0x569b7c,_0x518d8c=document[_0x37fcf8(0xb90)](_0x37fcf8(0xcc4)+_0x47a245+'\x22]'),_0x47fbf3=_0x518d8c[_0x37fcf8(0xb90)](_0x37fcf8(0x329)),_0x252abb=_0x47fbf3[_0x37fcf8(0x8a5)],_0x29722b=prompt(_0x37fcf8(0xc2b),_0x252abb);if(!_0x29722b||_0x29722b[_0x37fcf8(0xc9e)]()===''||_0x29722b[_0x37fcf8(0xc9e)]()===_0x252abb)return;try{const _0x1d64e1=doc(db,_0x37fcf8(0x25b)+appId+_0x37fcf8(0x8a2),currentBlueprintProjectId);await updateDoc(_0x1d64e1,{[_0x37fcf8(0x22a)+_0x47a245+_0x37fcf8(0xcb3)]:_0x29722b['trim']()}),_0x47fbf3[_0x37fcf8(0x8a5)]=_0x29722b[_0x37fcf8(0xc9e)](),showMessage(_0x37fcf8(0x6df));}catch(_0x23c0df){console[_0x37fcf8(0x728)](_0x37fcf8(0xa97),_0x23c0df),showMessage(_0x37fcf8(0xd49));}}async function deleteTopicFromProject(_0xa648b0){const _0x562885=_0x569b7c;if(!confirm(_0x562885(0x26d)))return;try{const _0x3ceebd=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x3ceebd,{[_0x562885(0x22a)+_0xa648b0]:deleteField()}),document[_0x562885(0xb90)](_0x562885(0xcc4)+_0xa648b0+'\x22]')[_0x562885(0x76f)](),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x59bb94){console['error']('Error\x20deleting\x20topic:',_0x59bb94),showMessage(_0x562885(0xd35));}}async function generateAndSaveLessonForBlueprint(_0x25daca,_0x5e683c,_0x1ff858){handleGenerateAndShowLesson(_0x5e683c,_0x1ff858);const _0x2cc107=setInterval(async()=>{const _0x54be7d=_0x1447,_0x34a5b1=document[_0x54be7d(0xca0)](_0x54be7d(0x211)),_0x5b069e=_0x34a5b1[_0x54be7d(0x396)][_0x54be7d(0x1d0)](_0x54be7d(0xb23));if(_0x5b069e){clearInterval(_0x2cc107);if(currentApplicationData&&currentApplicationData['length']>0x0){const _0x45245e={'point':document[_0x54be7d(0xca0)](_0x54be7d(0x93c))['innerHTML'],'memory':document[_0x54be7d(0xca0)](_0x54be7d(0xc6a))[_0x54be7d(0xa5b)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x54be7d(0xca0)](_0x54be7d(0x97c))[_0x54be7d(0xa5b)]};try{const _0x4258b2=doc(db,'artifacts/'+appId+_0x54be7d(0x8a2),currentBlueprintProjectId),_0x3dfc9b=doc(db,_0x54be7d(0x25b)+appId+_0x54be7d(0x8e1)+currentBlueprintProjectId+_0x54be7d(0xca7),_0x25daca),_0x2d709b=writeBatch(db);_0x2d709b[_0x54be7d(0xa6b)](_0x3dfc9b,{'content':_0x45245e}),_0x2d709b[_0x54be7d(0x3bb)](_0x4258b2,{[_0x54be7d(0x22a)+_0x25daca+_0x54be7d(0x341)]:_0x54be7d(0xcd0)}),await _0x2d709b[_0x54be7d(0xad5)](),console[_0x54be7d(0x2fa)](_0x54be7d(0x5cf)+_0x25daca+_0x54be7d(0x3e8)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x26ee1a){console[_0x54be7d(0x728)](_0x54be7d(0x5b8),_0x26ee1a);}}}},0x3e8);}function displayHalfMarkResult(_0x5d7570,_0x37c221){const _0x462384=_0x569b7c,_0x20a9a2=_0x5d7570>=_0x37c221/0x2,_0x15326e=_0x20a9a2?'bg-green-100':_0x462384(0x824),_0x3d119c=_0x20a9a2?_0x462384(0x6d2):_0x462384(0x486),_0x3c9cef=_0x20a9a2?'text-green-800':_0x462384(0xcb1),_0x138a20=_0x20a9a2?_0x462384(0xc56):_0x462384(0x875),_0x52f4e5=_0x20a9a2?'ยอดเยี่ยม!':_0x462384(0xcc1);let _0x5b5abd=_0x462384(0x21d)+_0x15326e+_0x462384(0xcc0)+_0x3d119c+_0x462384(0xa04)+_0x3c9cef+'\x20mb-2\x22>'+_0x138a20+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x52f4e5+_0x462384(0x34c);studentResultArea[_0x462384(0xa5b)]=_0x5b5abd,studentResultArea[_0x462384(0x396)][_0x462384(0x76f)](_0x462384(0xb23)),studentQuizArea[_0x462384(0x396)][_0x462384(0x46b)](_0x462384(0xb23)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x20a9a2});}function displayPerfectScoreResult(_0x1d0812,_0x198f8f){const _0x254bf5=_0x569b7c,_0x1d0e1d=_0x1d0812===_0x198f8f,_0x28245f=_0x1d0e1d?'bg-yellow-100':_0x254bf5(0x334),_0x4fb658=_0x1d0e1d?_0x254bf5(0xa4f):'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x3f1d71=_0x1d0e1d?_0x254bf5(0xa5e):_0x254bf5(0x723),_0x249401=_0x1d0e1d?_0x254bf5(0x977):_0x254bf5(0x8c4),_0x6729f9=_0x1d0e1d?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x254bf5(0x625);let _0x128efb=_0x254bf5(0x21d)+_0x28245f+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4fb658+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x3f1d71+_0x254bf5(0xccc)+_0x249401+_0x254bf5(0x237)+_0x6729f9+_0x254bf5(0x34c);studentResultArea[_0x254bf5(0xa5b)]=_0x128efb,studentResultArea[_0x254bf5(0x396)][_0x254bf5(0x76f)]('hidden'),studentQuizArea[_0x254bf5(0x396)][_0x254bf5(0x46b)]('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x1d0812,'totalQuestions':_0x198f8f});}function renderIndividualComparisonTable(_0x133f5e,_0x2e6a1c){const _0x2b64cc=_0x569b7c;_0x133f5e[_0x2b64cc(0x64b)]((_0x5f1f32,_0x4caa72)=>(_0x4caa72[_0x2b64cc(0x5d2)]??-Infinity)-(_0x5f1f32[_0x2b64cc(0x5d2)]??-Infinity));let _0x2d7147=_0x2b64cc(0x23f);_0x133f5e[_0x2b64cc(0xcda)]===0x0?_0x2d7147+=_0x2b64cc(0x2d2):_0x133f5e[_0x2b64cc(0xb32)]((_0x23583d,_0x2bd00a)=>{const _0x26723e=_0x2b64cc;let _0x4330c7='-',_0x7189='';if(_0x23583d[_0x26723e(0x451)]!==null){const _0x720653=_0x23583d[_0x26723e(0x451)]>0x0?'text-green-600':_0x23583d['gain']<0x0?_0x26723e(0x74f):_0x26723e(0x5ab),_0x1cd00=_0x23583d[_0x26723e(0x451)]>0x0?'+':'';_0x4330c7=_0x26723e(0x356)+_0x720653+'\x22>'+_0x1cd00+_0x23583d[_0x26723e(0x451)]+_0x26723e(0x8b9);if(_0x23583d[_0x26723e(0x451)]>0x0)_0x7189=_0x26723e(0xd0a);else _0x23583d[_0x26723e(0x451)]<0x0?_0x7189=_0x26723e(0x4be):_0x7189=_0x26723e(0x1da);}let _0x4b5372='-';if(_0x23583d['tGain']!==null){const _0x53e96e=_0x23583d[_0x26723e(0x5d2)]>0x0?_0x26723e(0x913):_0x23583d[_0x26723e(0x5d2)]<0x0?'text-red-600':_0x26723e(0x5ab),_0x4ba7e0=_0x23583d[_0x26723e(0x5d2)]>0x0?'+':'';_0x4b5372=_0x26723e(0x356)+_0x53e96e+'\x22>'+_0x4ba7e0+_0x23583d[_0x26723e(0x5d2)][_0x26723e(0x551)](0x2)+_0x26723e(0x8b9);}_0x2d7147+=_0x26723e(0xab7)+(_0x2bd00a+0x1)+_0x26723e(0x320)+_0x23583d[_0x26723e(0x5bd)]+_0x26723e(0x96f)+(_0x23583d[_0x26723e(0xb86)]??'-')+_0x26723e(0x81f)+(_0x23583d['postScore']??'-')+_0x26723e(0x96f)+_0x4330c7+_0x26723e(0x93a)+_0x7189+_0x26723e(0x66d)+(_0x23583d[_0x26723e(0x985)]?.[_0x26723e(0x551)](0x2)??'-')+_0x26723e(0xa81)+(_0x23583d['postTScore']?.[_0x26723e(0x551)](0x2)??'-')+_0x26723e(0x96f)+_0x4b5372+_0x26723e(0x430);}),_0x2d7147+=_0x2b64cc(0xd19),_0x2e6a1c[_0x2b64cc(0xa5b)]=_0x2d7147;}function handleRenameQuiz(_0x271296,_0x588f07){const _0x439876=_0x569b7c;actionTargetId=_0x271296,document[_0x439876(0xca0)](_0x439876(0x692))[_0x439876(0xb85)]=_0x588f07,renameQuizModal['classList'][_0x439876(0x76f)]('hidden');}function setupComparisonModalTabs(){const _0x43d318=_0x569b7c,_0xfa14ec=document['getElementById'](_0x43d318(0x49a)),_0x3867da=document[_0x43d318(0xca0)](_0x43d318(0x9b0)),_0x39dc37=document[_0x43d318(0xca0)](_0x43d318(0x47c)),_0x5ebe59=document[_0x43d318(0xca0)](_0x43d318(0x607));_0xfa14ec[_0x43d318(0x79b)](_0x43d318(0xd52),()=>{const _0x338b40=_0x43d318;_0xfa14ec[_0x338b40(0x396)][_0x338b40(0x46b)]('active'),_0x3867da[_0x338b40(0x396)][_0x338b40(0x76f)]('active'),_0x39dc37[_0x338b40(0x396)][_0x338b40(0x76f)](_0x338b40(0xb23)),_0x5ebe59['classList']['add']('hidden');}),_0x3867da[_0x43d318(0x79b)](_0x43d318(0xd52),()=>{const _0x4601b4=_0x43d318;_0x3867da[_0x4601b4(0x396)][_0x4601b4(0x46b)]('active'),_0xfa14ec[_0x4601b4(0x396)][_0x4601b4(0x76f)](_0x4601b4(0x88e)),_0x5ebe59[_0x4601b4(0x396)]['remove'](_0x4601b4(0xb23)),_0x39dc37[_0x4601b4(0x396)][_0x4601b4(0x46b)](_0x4601b4(0xb23));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x2ccc6e=_0x569b7c;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x1a1ce4=doc(db,_0x2ccc6e(0x25b)+appId+_0x2ccc6e(0x9e1),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x1a1ce4,_0x4a4820=>{const _0x36e862=_0x2ccc6e;if(!_0x4a4820[_0x36e862(0x6c9)]()){showMessage('เกมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x36e862(0x42a)?showView(_0x36e862(0x969)):showView(_0x36e862(0xa9a));return;}const _0xaf8361=_0x4a4820[_0x36e862(0x7f5)]();_0xaf8361['shuffledQuiz']&&(currentQuizData=_0xaf8361[_0x36e862(0x495)]);!currentQuizData&&_0xaf8361[_0x36e862(0xacf)]&&((async()=>{const _0x259f9f=_0x36e862;try{const _0x4288ca=doc(db,'artifacts/'+appId+_0x259f9f(0x72c),_0xaf8361[_0x259f9f(0xacf)]),_0x491429=await getDoc(_0x4288ca);_0x491429[_0x259f9f(0x6c9)]()&&(currentQuizData={'id':_0x491429['id'],..._0x491429[_0x259f9f(0x7f5)]()});}catch(_0x4219ce){console[_0x259f9f(0x728)](_0x259f9f(0xa3a),_0x4219ce);}})());switch(_0xaf8361[_0x36e862(0xc81)]){case'lobby':if(currentMode===_0x36e862(0x42a)){const _0xc8afb5=_0xaf8361[_0x36e862(0x3fc)]?Object[_0x36e862(0x76b)](_0xaf8361['players']):[],_0x36a077=_0xc8afb5[_0x36e862(0x959)](([_0x1cf1a7,_0x2efd03])=>_0x2efd03[_0x36e862(0xc81)]===_0x36e862(0x88e)),_0x5c2b79=document[_0x36e862(0xca0)](_0x36e862(0x9c2));if(_0x5c2b79)_0x5c2b79[_0x36e862(0x8a5)]=_0x36a077[_0x36e862(0xcda)];const _0x2d6bb6=document[_0x36e862(0xca0)]('player-list-lobby');_0x2d6bb6&&(_0x2d6bb6[_0x36e862(0xa5b)]=_0x36a077[_0x36e862(0xc3d)](([_0x519f59,_0x42779e])=>_0x36e862(0x706)+_0x519f59+_0x36e862(0x301)+_0x519f59+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x36e862(0xcbb)](''));const _0x33e68f=document[_0x36e862(0xca0)]('start-game-btn');_0x33e68f&&(_0x33e68f[_0x36e862(0x7b4)]=_0x36a077['length']===0x0);}else showView(_0x36e862(0x532)),liveGameView['innerHTML']='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+_0x36e862(0x208);break;case _0x36e862(0x215):const _0x253e27=_0xaf8361['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x36e862(0x981)][_0x253e27]){const _0x17933a=currentQuizData[_0x36e862(0x981)][_0x253e27],_0x3aa543=_0xaf8361[_0x36e862(0x902)]||'answering';switch(_0x3aa543){case _0x36e862(0x7ea):currentMode===_0x36e862(0x42a)?showAdminSummaryView(_0xaf8361,_0x17933a):showPlayerSummaryView(_0xaf8361,currentStudentName);break;case'leaderboard':currentMode==='admin'&&showTop5LeaderboardView(_0xaf8361);break;case _0x36e862(0x7cb):default:if(currentMode===_0x36e862(0x42a)){const _0x271a1e=writeBatch(db);let _0x1e95db=![];Object[_0x36e862(0x76b)](_0xaf8361['players'])['forEach'](([_0x5cab17,_0x4800ef])=>{const _0x103e7d=_0x36e862;if(_0x4800ef[_0x103e7d(0xc81)]==='active'&&_0x4800ef[_0x103e7d(0x26f)]&&!_0x4800ef[_0x103e7d(0xbef)]){_0x1e95db=!![];const _0x26698e=_0x4800ef['submittedAt'][_0x103e7d(0x68f)]()-_0xaf8361[_0x103e7d(0x2c7)][_0x103e7d(0x68f)]();let _0x29ab04=0x0;if(_0x4800ef[_0x103e7d(0x7c8)]){const _0x2732c6=0x3e8,_0x2bedf2=0x1f4,_0x408da3=0x4e20;let _0x4534a5=_0x26698e/_0x408da3;if(_0x4534a5>0x1)_0x4534a5=0x1;const _0x50a05c=Math[_0x103e7d(0xc99)](_0x4534a5*_0x2bedf2);_0x29ab04=_0x2732c6-_0x50a05c;}const _0x436999=doc(db,_0x103e7d(0x25b)+appId+'/public/data/liveGames',currentLiveGameId);_0x271a1e[_0x103e7d(0x3bb)](_0x436999,{[_0x103e7d(0x5c8)+_0x5cab17+_0x103e7d(0x7b0)]:increment(_0x29ab04),[_0x103e7d(0x5c8)+_0x5cab17+_0x103e7d(0xa5a)]:_0x29ab04,[_0x103e7d(0x5c8)+_0x5cab17+'.isScored']:!![]});}});_0x1e95db&&_0x271a1e[_0x36e862(0xad5)]()[_0x36e862(0x7c1)](_0x1d6075=>console[_0x36e862(0x728)](_0x36e862(0xcbd),_0x1d6075));lastRenderedAdminQuestionIndex!==_0x253e27&&(showAdminLiveQuestionView(_0x17933a,_0x253e27,currentQuizData['questions'][_0x36e862(0xcda)]),lastRenderedAdminQuestionIndex=_0x253e27);const _0x7baa9c=_0xaf8361[_0x36e862(0x3fc)]||{},_0x1c58b2=Object[_0x36e862(0x224)](_0x7baa9c)[_0x36e862(0x959)](_0x15775b=>_0x15775b[_0x36e862(0xc81)]==='active'),_0x129951=_0x1c58b2['length'],_0x4ec27d=_0x1c58b2['filter'](_0x3bf6b5=>_0x3bf6b5['answeredCurrentQuestion']===!![])['length'],_0x3d9551=document[_0x36e862(0xca0)](_0x36e862(0x549));if(_0x3d9551)_0x3d9551[_0x36e862(0x8a5)]=_0x4ec27d+'/'+_0x129951;const _0x3d6fd5=document[_0x36e862(0xca0)](_0x36e862(0x559));if(_0x3d6fd5){let _0x542559=Object[_0x36e862(0x76b)](_0x7baa9c)['filter'](([_0x5c395a,_0x3f27b9])=>_0x3f27b9[_0x36e862(0xc81)]===_0x36e862(0x88e))[_0x36e862(0xc3d)](([_0x1555dc,_0x124aef])=>{const _0x53b20f=_0x36e862,_0x5ac5e8=_0x124aef[_0x53b20f(0x991)]===!![],_0x4a51b5=_0x5ac5e8?_0x53b20f(0xa6d):_0x53b20f(0x57a),_0x27879e=_0x5ac5e8?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x53b20f(0x461);return _0x53b20f(0x327)+_0x4a51b5+_0x53b20f(0x4ad)+_0x27879e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1555dc+_0x53b20f(0x95f)+_0x1555dc+_0x53b20f(0x886);})['join']('');_0x3d6fd5[_0x36e862(0xa5b)]=_0x542559||_0x36e862(0xcc5);}_0x129951>0x0&&_0x4ec27d===_0x129951&&revealAnswerForAdmin(_0x253e27,currentQuizData[_0x36e862(0x981)][_0x36e862(0xcda)]);}else{const _0x53d266=_0xaf8361['players'][currentStudentName];_0x53d266&&!_0x53d266['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x17933a,_0x253e27,currentQuizData['questions'][_0x36e862(0xcda)]);}break;}}break;case'podium':showPodiumView(_0xaf8361['players'],_0x36e862(0xb26));break;}});}async function openGlobalActivityModal(){const _0x5bae15=_0x569b7c;if(allQuizzesGlobal[_0x5bae15(0xcda)]===0x0){const _0x38dd0c=await getDocs(collection(db,_0x5bae15(0x25b)+appId+_0x5bae15(0x72c)));allQuizzesGlobal=_0x38dd0c[_0x5bae15(0x53c)][_0x5bae15(0xc3d)](_0x16a797=>({'id':_0x16a797['id'],..._0x16a797[_0x5bae15(0x7f5)]()}));}renderGlobalActivityList(''),document[_0x5bae15(0xca0)]('global-activity-modal')['classList']['remove'](_0x5bae15(0xb23));}function renderGlobalActivityList(_0x36268b=''){const _0x4dd85c=_0x569b7c,_0x4e792e=document[_0x4dd85c(0xca0)](_0x4dd85c(0x54d)),_0x911540=_0x36268b[_0x4dd85c(0x38f)]()[_0x4dd85c(0xc9e)](),_0x1bab85=allQuizzesGlobal[_0x4dd85c(0xc3d)](_0x14b8d0=>({..._0x14b8d0,'projectName':allProjects[_0x4dd85c(0xd14)](_0xe15ce6=>_0xe15ce6['id']===_0x14b8d0['projectId'])?.[_0x4dd85c(0x8af)]||_0x4dd85c(0xbac)}))[_0x4dd85c(0x959)](_0x4052e1=>(_0x4052e1[_0x4dd85c(0xaf8)]||'')[_0x4dd85c(0x38f)]()['includes'](_0x911540)||(_0x4052e1['projectName']||'')[_0x4dd85c(0x38f)]()[_0x4dd85c(0x771)](_0x911540));document[_0x4dd85c(0xca0)](_0x4dd85c(0x542))[_0x4dd85c(0x8a5)]='('+_0x1bab85[_0x4dd85c(0xcda)]+_0x4dd85c(0x44c),_0x4e792e[_0x4dd85c(0xa5b)]=_0x1bab85[_0x4dd85c(0xcda)]?_0x1bab85[_0x4dd85c(0xc3d)](_0x24969f=>_0x4dd85c(0xb80)+(_0x24969f[_0x4dd85c(0xaf8)]||'(ไม่มีชื่อ)')+_0x4dd85c(0x814)+(_0x24969f[_0x4dd85c(0x981)]?.['length']||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x24969f[_0x4dd85c(0x8af)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x24969f['id']+_0x4dd85c(0x604)+_0x24969f['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x24969f['id']+_0x4dd85c(0x702)+_0x24969f['id']+_0x4dd85c(0x40e))['join'](''):_0x4dd85c(0xc4c);}async function handleKickPlayer(_0x5d4159){const _0x1c60af=_0x569b7c;if(!currentLiveGameId||!_0x5d4159)return;const _0x2eab88=doc(db,_0x1c60af(0x25b)+appId+_0x1c60af(0x9e1),currentLiveGameId),_0x543f87={};_0x543f87[_0x1c60af(0x5c8)+_0x5d4159+'.status']=_0x1c60af(0x6e6);try{await updateDoc(_0x2eab88,_0x543f87);}catch(_0x2aff60){console[_0x1c60af(0x728)](_0x1c60af(0x7c0)+_0x5d4159+':',_0x2aff60),showMessage(_0x1c60af(0x637));}}async function authenticateUser(){const _0x52729a=_0x569b7c;try{typeof __initial_auth_token!==_0x52729a(0xcb6)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x2cb99f){console[_0x52729a(0x728)](_0x52729a(0xaf6),_0x2cb99f),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x4d566c){const _0x56c8d2=_0x569b7c;adminView[_0x56c8d2(0x396)][_0x56c8d2(0x46b)](_0x56c8d2(0xb23)),studentView[_0x56c8d2(0x396)]['add'](_0x56c8d2(0xb23)),projectDashboardView[_0x56c8d2(0x396)][_0x56c8d2(0x46b)](_0x56c8d2(0xb23)),projectDetailView[_0x56c8d2(0x396)][_0x56c8d2(0x46b)]('hidden'),quizResultsView[_0x56c8d2(0x396)][_0x56c8d2(0x46b)](_0x56c8d2(0xb23)),liveGameView[_0x56c8d2(0x396)][_0x56c8d2(0x46b)]('hidden'),document[_0x56c8d2(0xca0)](_0x56c8d2(0x44d))[_0x56c8d2(0x396)][_0x56c8d2(0x46b)](_0x56c8d2(0xb23)),studentInitialView[_0x56c8d2(0x396)][_0x56c8d2(0x46b)]('hidden'),studentJoinGameView[_0x56c8d2(0x396)][_0x56c8d2(0x46b)](_0x56c8d2(0xb23)),studentNameSelectionView[_0x56c8d2(0x396)][_0x56c8d2(0x46b)](_0x56c8d2(0xb23)),studentQuizArea['classList'][_0x56c8d2(0x46b)](_0x56c8d2(0xb23)),studentResultArea[_0x56c8d2(0x396)][_0x56c8d2(0x46b)](_0x56c8d2(0xb23)),studentReadingArea['classList'][_0x56c8d2(0x46b)]('hidden');const _0x530568=document['getElementById'](_0x56c8d2(0xa86)),_0xe24b09=document[_0x56c8d2(0xca0)](_0x56c8d2(0x66c));if(_0x530568)_0x530568[_0x56c8d2(0x396)]['add']('hidden');if(_0xe24b09)_0xe24b09[_0x56c8d2(0x396)][_0x56c8d2(0x46b)](_0x56c8d2(0xb23));switch(_0x4d566c){case _0x56c8d2(0x54c):adminView['classList']['remove']('hidden'),projectDashboardView[_0x56c8d2(0x396)][_0x56c8d2(0x76f)](_0x56c8d2(0xb23));break;case _0x56c8d2(0x969):adminView[_0x56c8d2(0x396)][_0x56c8d2(0x76f)](_0x56c8d2(0xb23)),projectDetailView[_0x56c8d2(0x396)]['remove']('hidden');break;case _0x56c8d2(0xca9):adminView[_0x56c8d2(0x396)][_0x56c8d2(0x76f)]('hidden'),quizResultsView[_0x56c8d2(0x396)][_0x56c8d2(0x76f)](_0x56c8d2(0xb23));break;case'student':studentView[_0x56c8d2(0x396)][_0x56c8d2(0x76f)](_0x56c8d2(0xb23)),studentInitialView[_0x56c8d2(0x396)][_0x56c8d2(0x76f)]('hidden');break;case _0x56c8d2(0x532):liveGameView[_0x56c8d2(0x396)][_0x56c8d2(0x76f)](_0x56c8d2(0xb23));break;case _0x56c8d2(0x64c):studentView['classList'][_0x56c8d2(0x76f)]('hidden');if(_0x530568)_0x530568[_0x56c8d2(0x396)][_0x56c8d2(0x76f)]('hidden');break;case _0x56c8d2(0xcbe):studentView[_0x56c8d2(0x396)][_0x56c8d2(0x76f)](_0x56c8d2(0xb23));if(_0xe24b09)_0xe24b09['classList'][_0x56c8d2(0x76f)](_0x56c8d2(0xb23));break;default:studentView['classList'][_0x56c8d2(0x76f)](_0x56c8d2(0xb23)),studentInitialView[_0x56c8d2(0x396)][_0x56c8d2(0x76f)](_0x56c8d2(0xb23));break;}}function showJoinGameView(){const _0xaed1b8=_0x569b7c;studentInitialView['classList'][_0xaed1b8(0x46b)](_0xaed1b8(0xb23)),studentJoinGameView[_0xaed1b8(0x396)][_0xaed1b8(0x76f)](_0xaed1b8(0xb23));}async function handleSaveVisibilitySettings(){const _0x3111be=_0x569b7c;if(!currentProjectId)return;const _0x217995=doc(db,_0x3111be(0x25b)+appId+_0x3111be(0x1bf),currentProjectId);try{await updateDoc(_0x217995,{'settings.showInStudentDashboard':document[_0x3111be(0xca0)]('show-in-student-dashboard-checkbox')[_0x3111be(0x397)],'settings.isPasscodeEnabled':document[_0x3111be(0xca0)](_0x3111be(0x8e3))['checked'],'settings.passcode':document[_0x3111be(0xca0)]('project-passcode-input')[_0x3111be(0xb85)][_0x3111be(0xc9e)]()}),showMessage(_0x3111be(0x315));}catch(_0x42ed90){console[_0x3111be(0x728)](_0x3111be(0x3e7),_0x42ed90),showMessage(_0x3111be(0xb83));}}function setupEventListeners(){const _0x21ddec=_0x569b7c;document[_0x21ddec(0xca0)](_0x21ddec(0x22e))[_0x21ddec(0x79b)]('click',async()=>{const _0x2bc759=_0x21ddec;if(!currentBlueprintProjectId)return;const _0x4a5cd6=document[_0x2bc759(0xca0)](_0x2bc759(0x7fa))['value']['trim'](),_0x219e69=doc(db,_0x2bc759(0x25b)+appId+_0x2bc759(0x8a2),currentBlueprintProjectId);try{await updateDoc(_0x219e69,{'referenceFileUrl':_0x4a5cd6}),showMessage(_0x2bc759(0xa53));}catch(_0x7c58ee){console[_0x2bc759(0x728)](_0x2bc759(0x870),_0x7c58ee),showMessage(_0x2bc759(0xb83));}}),document[_0x21ddec(0xca0)]('add-parallel-shortcut-tab-btn')['addEventListener'](_0x21ddec(0xd52),handleAddParallelShortcutTab),document[_0x21ddec(0xca0)](_0x21ddec(0x641))['addEventListener'](_0x21ddec(0xd52),_0x294b77=>{const _0x46ac4c=_0x21ddec;_0x294b77[_0x46ac4c(0xbe5)][_0x46ac4c(0xa9f)]('#open-additional-parallel-shortcuts-btn')&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document['getElementById']('additional-parallel-shortcuts-modal')['classList'][_0x46ac4c(0x76f)]('hidden'));}),document['getElementById'](_0x21ddec(0x378))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0x1feb1c=_0x21ddec;document['getElementById'](_0x1feb1c(0x6c0))[_0x1feb1c(0x396)][_0x1feb1c(0x46b)](_0x1feb1c(0xb23));}),document[_0x21ddec(0x79b)]('click',_0x1824f8=>{const _0xd6abfc=_0x21ddec;!_0x1824f8[_0xd6abfc(0xbe5)][_0xd6abfc(0xa9f)](_0xd6abfc(0x7bd))&&document[_0xd6abfc(0x31c)](_0xd6abfc(0x206))[_0xd6abfc(0xb32)](_0x596d02=>_0x596d02[_0xd6abfc(0x396)][_0xd6abfc(0x46b)](_0xd6abfc(0xb23)));}),document['getElementById'](_0x21ddec(0x61d))[_0x21ddec(0x79b)]('click',handleAddFileShortcutTab),document['getElementById'](_0x21ddec(0x291))[_0x21ddec(0x79b)](_0x21ddec(0xd52),_0x334f92=>{const _0xbb3bc3=_0x21ddec;_0x334f92[_0xbb3bc3(0xbe5)][_0xbb3bc3(0xa9f)]('#open-additional-file-shortcuts-btn')&&(activeFileShortcutTabId=_0xbb3bc3(0x606),renderAdditionalFileShortcutsModal(),document['getElementById'](_0xbb3bc3(0x271))[_0xbb3bc3(0x396)]['remove'](_0xbb3bc3(0xb23)));}),document[_0x21ddec(0xca0)](_0x21ddec(0x9a5))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0x18f743=_0x21ddec;document[_0x18f743(0xca0)](_0x18f743(0x271))[_0x18f743(0x396)][_0x18f743(0x46b)]('hidden');}),document[_0x21ddec(0x79b)](_0x21ddec(0xd52),_0x4da529=>{const _0x56d5d9=_0x21ddec;!_0x4da529[_0x56d5d9(0xbe5)][_0x56d5d9(0xa9f)](_0x56d5d9(0xbd2))&&document[_0x56d5d9(0x31c)](_0x56d5d9(0x479))[_0x56d5d9(0xb32)](_0x4fac2e=>_0x4fac2e['classList']['add'](_0x56d5d9(0xb23)));}),document[_0x21ddec(0xca0)](_0x21ddec(0x6e9))[_0x21ddec(0x79b)](_0x21ddec(0xd52),handleAddShortcutTab),document[_0x21ddec(0xca0)](_0x21ddec(0x29a))[_0x21ddec(0x79b)]('click',_0x4fa5c1=>{const _0x173d66=_0x21ddec,_0x175fd8=_0x4fa5c1[_0x173d66(0xbe5)][_0x173d66(0xa9f)](_0x173d66(0x8ff)),_0x5cc284=_0x4fa5c1[_0x173d66(0xbe5)]['closest'](_0x173d66(0xc26)),_0x2c71fe=_0x4fa5c1['target'][_0x173d66(0xa9f)](_0x173d66(0x992));if(_0x5cc284)openParallelTestShortcutEditor(_0x5cc284[_0x173d66(0x507)]['id']);else{if(_0x2c71fe){const _0xb8576c=_0x2c71fe[_0x173d66(0x507)]['id'];showConfirmation(_0x173d66(0xba7),async()=>{const _0x48ef6b=_0x173d66,_0x5962f3=parallelTestShortcuts['filter'](_0x36ed25=>_0x36ed25['id']!==_0xb8576c),_0x141e67=doc(db,_0x48ef6b(0x687),_0x48ef6b(0x312));await setDoc(_0x141e67,{'shortcuts':_0x5962f3},{'merge':!![]});});}else _0x175fd8&&handleParallelTestShortcutClick(_0x175fd8[_0x173d66(0x507)]['id']);}}),document['getElementById'](_0x21ddec(0x4b1))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>openParallelTestShortcutEditor(null)),document['getElementById'](_0x21ddec(0x5a0))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0x5d024f=_0x21ddec;document[_0x5d024f(0xca0)](_0x5d024f(0xac2))[_0x5d024f(0x396)][_0x5d024f(0x46b)]('hidden');}),document[_0x21ddec(0xca0)](_0x21ddec(0xb25))[_0x21ddec(0x79b)](_0x21ddec(0xd52),saveParallelTestShortcutChanges),document['getElementById']('parallel-test-input-area')[_0x21ddec(0x79b)](_0x21ddec(0xd52),_0x34bd02=>{const _0x4bcdc7=_0x21ddec;_0x34bd02['target'][_0x4bcdc7(0xa9f)](_0x4bcdc7(0x7d5))&&document['getElementById'](_0x4bcdc7(0x6c0))[_0x4bcdc7(0x396)][_0x4bcdc7(0x76f)](_0x4bcdc7(0xb23));}),document[_0x21ddec(0xca0)]('close-additional-parallel-shortcuts-btn')[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0x3ea75a=_0x21ddec;document[_0x3ea75a(0xca0)](_0x3ea75a(0x6c0))['classList']['add'](_0x3ea75a(0xb23));}),document['getElementById'](_0x21ddec(0xba5))[_0x21ddec(0x79b)](_0x21ddec(0xd52),_0x2d6734=>{const _0x274c99=_0x21ddec,_0x1562e0=document['getElementById'](_0x274c99(0x6c0)),_0x5aea9e=_0x2d6734[_0x274c99(0xbe5)][_0x274c99(0xa9f)](_0x274c99(0x4ba)),_0x51e1b1=_0x2d6734['target'][_0x274c99(0xa9f)]('.edit-hidden-parallel-shortcut-btn'),_0x3065ed=_0x2d6734['target'][_0x274c99(0xa9f)](_0x274c99(0xc1f));if(_0x5aea9e)_0x1562e0[_0x274c99(0x396)][_0x274c99(0x46b)](_0x274c99(0xb23)),handleParallelTestShortcutClick(_0x5aea9e[_0x274c99(0x507)]['id']);else{if(_0x51e1b1)_0x1562e0['classList'][_0x274c99(0x46b)](_0x274c99(0xb23)),openParallelTestShortcutEditor(_0x51e1b1[_0x274c99(0x507)]['id']);else{if(_0x3065ed){const _0x4f1492=_0x3065ed[_0x274c99(0x507)]['id'];showConfirmation(_0x274c99(0xba7),async()=>{const _0x413a10=_0x274c99,_0x47f527=parallelTestShortcuts[_0x413a10(0x959)](_0x596c87=>_0x596c87['id']!==_0x4f1492),_0x374e76=doc(db,_0x413a10(0x687),_0x413a10(0x312));await setDoc(_0x374e76,{'shortcuts':_0x47f527},{'merge':!![]});});}}}}),document['getElementById']('file-shortcut-container')['addEventListener'](_0x21ddec(0xd52),_0x1bb52e=>{const _0x4425cc=_0x21ddec,_0x2fa50d=_0x1bb52e[_0x4425cc(0xbe5)][_0x4425cc(0xa9f)](_0x4425cc(0x6a8)),_0x5b88d9=_0x1bb52e[_0x4425cc(0xbe5)]['closest'](_0x4425cc(0xa60)),_0x44ad16=_0x1bb52e[_0x4425cc(0xbe5)][_0x4425cc(0xa9f)](_0x4425cc(0x839));if(_0x5b88d9)openFileShortcutEditor(_0x5b88d9['dataset']['id']);else{if(_0x44ad16){const _0x3be2cb=_0x44ad16[_0x4425cc(0x507)]['id'];showConfirmation(_0x4425cc(0xba7),async()=>{const _0x34aba5=_0x4425cc,_0x1efcaa=fileShortcuts[_0x34aba5(0x959)](_0xdcbfc7=>_0xdcbfc7['id']!==_0x3be2cb),_0xdb1af7=doc(db,_0x34aba5(0x687),'fileShortcutsConfig');await setDoc(_0xdb1af7,{'shortcuts':_0x1efcaa},{'merge':!![]});});}else _0x2fa50d&&handleFileShortcutClick(_0x2fa50d['dataset']['id']);}}),document['getElementById']('add-file-shortcut-btn')['addEventListener'](_0x21ddec(0xd52),()=>openFileShortcutEditor(null)),document[_0x21ddec(0xca0)](_0x21ddec(0xa62))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0x13d4a8=_0x21ddec;document[_0x13d4a8(0xca0)](_0x13d4a8(0x1e7))['classList'][_0x13d4a8(0x46b)](_0x13d4a8(0xb23));}),document[_0x21ddec(0xca0)](_0x21ddec(0xa11))[_0x21ddec(0x79b)]('click',saveFileShortcutChanges),document[_0x21ddec(0xca0)](_0x21ddec(0x291))['addEventListener'](_0x21ddec(0xd52),_0x564505=>{const _0x23f60e=_0x21ddec;_0x564505[_0x23f60e(0xbe5)][_0x23f60e(0xa9f)](_0x23f60e(0x810))&&document[_0x23f60e(0xca0)](_0x23f60e(0x271))[_0x23f60e(0x396)][_0x23f60e(0x76f)](_0x23f60e(0xb23));}),document[_0x21ddec(0xca0)](_0x21ddec(0x9a5))['addEventListener']('click',()=>{const _0x46e595=_0x21ddec;document['getElementById'](_0x46e595(0x271))[_0x46e595(0x396)][_0x46e595(0x46b)]('hidden');}),document[_0x21ddec(0xca0)](_0x21ddec(0xc68))[_0x21ddec(0x79b)](_0x21ddec(0xd52),_0x334832=>{const _0x2ca201=_0x21ddec,_0x1a1cae=document['getElementById'](_0x2ca201(0x271)),_0x2d3fcd=_0x334832[_0x2ca201(0xbe5)][_0x2ca201(0xa9f)](_0x2ca201(0x85c)),_0x5642fc=_0x334832[_0x2ca201(0xbe5)]['closest']('.edit-hidden-file-shortcut-btn'),_0x37ebf7=_0x334832[_0x2ca201(0xbe5)]['closest'](_0x2ca201(0xaf5));if(_0x2d3fcd)_0x1a1cae[_0x2ca201(0x396)][_0x2ca201(0x46b)](_0x2ca201(0xb23)),handleFileShortcutClick(_0x2d3fcd[_0x2ca201(0x507)]['id']);else{if(_0x5642fc)_0x1a1cae[_0x2ca201(0x396)][_0x2ca201(0x46b)](_0x2ca201(0xb23)),openFileShortcutEditor(_0x5642fc['dataset']['id']);else{if(_0x37ebf7){const _0x143fb5=_0x37ebf7[_0x2ca201(0x507)]['id'];showConfirmation(_0x2ca201(0xba7),async()=>{const _0x320dc3=_0x2ca201,_0x4f1146=fileShortcuts['filter'](_0x548a3c=>_0x548a3c['id']!==_0x143fb5),_0x1edccb=doc(db,_0x320dc3(0x687),_0x320dc3(0xb21));await setDoc(_0x1edccb,{'shortcuts':_0x4f1146},{'merge':!![]});});}}}}),document[_0x21ddec(0xca0)](_0x21ddec(0x48d))[_0x21ddec(0x79b)](_0x21ddec(0xd52),_0x453a10=>{const _0x456f02=_0x21ddec;_0x453a10[_0x456f02(0xbe5)][_0x456f02(0xa9f)](_0x456f02(0x86e))&&(activeShortcutTabId=_0x456f02(0x606),renderAdditionalShortcutsModal(),document[_0x456f02(0xca0)](_0x456f02(0xb81))[_0x456f02(0x396)][_0x456f02(0x76f)](_0x456f02(0xb23)));}),document[_0x21ddec(0xca0)](_0x21ddec(0x69a))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0x25020f=_0x21ddec;document[_0x25020f(0xca0)](_0x25020f(0xb81))['classList'][_0x25020f(0x46b)](_0x25020f(0xb23));}),document[_0x21ddec(0xca0)](_0x21ddec(0x819))[_0x21ddec(0x79b)]('click',_0x427c54=>{const _0x1ee8a9=_0x21ddec,_0x68c240=_0x427c54[_0x1ee8a9(0xbe5)][_0x1ee8a9(0xa9f)]('.use-hidden-shortcut-btn'),_0x2f69d5=_0x427c54['target'][_0x1ee8a9(0xa9f)](_0x1ee8a9(0x8d7)),_0x8baf15=_0x427c54[_0x1ee8a9(0xbe5)]['closest'](_0x1ee8a9(0x3cf)),_0x291408=document['getElementById'](_0x1ee8a9(0xb81));if(_0x68c240)_0x291408[_0x1ee8a9(0x396)][_0x1ee8a9(0x46b)](_0x1ee8a9(0xb23)),handleShortcutClick(_0x68c240['dataset']['id']);else{if(_0x2f69d5)_0x291408[_0x1ee8a9(0x396)]['add'](_0x1ee8a9(0xb23)),openShortcutEditor(_0x2f69d5['dataset']['id']);else{if(_0x8baf15){const _0x3f24e2=_0x8baf15[_0x1ee8a9(0x507)]['id'],_0x42aa5a=blueprintShortcuts[_0x1ee8a9(0xd14)](_0x24e82f=>_0x24e82f['id']===_0x3f24e2)?.[_0x1ee8a9(0x5bd)];showConfirmation(_0x1ee8a9(0x5ea)+_0x42aa5a+'\x22?',async()=>{const _0x225e16=_0x1ee8a9,_0x5b1e9b=blueprintShortcuts[_0x225e16(0x959)](_0x2a39b0=>_0x2a39b0['id']!==_0x3f24e2);try{const _0x486383=doc(db,_0x225e16(0x687),_0x225e16(0xd59));await setDoc(_0x486383,{'blueprintShortcuts':_0x5b1e9b},{'merge':!![]});}catch(_0xafd876){console['error'](_0x225e16(0x322),_0xafd876);}});}}}}),document[_0x21ddec(0xca0)](_0x21ddec(0xacb))[_0x21ddec(0x79b)](_0x21ddec(0xd52),_0x376d7c=>{const _0x56c201=_0x21ddec,_0x1c6984=_0x376d7c[_0x56c201(0xbe5)][_0x56c201(0xa9f)](_0x56c201(0x617)),_0x32b079=_0x376d7c[_0x56c201(0xbe5)][_0x56c201(0xa9f)]('.edit-shortcut-btn'),_0x4e8608=_0x376d7c[_0x56c201(0xbe5)][_0x56c201(0xa9f)](_0x56c201(0x1f0));if(_0x32b079)openShortcutEditor(_0x32b079[_0x56c201(0x507)]['id']);else{if(_0x4e8608){const _0x336493=_0x4e8608[_0x56c201(0x507)]['id'],_0x58ab15=blueprintShortcuts[_0x56c201(0xd14)](_0xc3d6c3=>_0xc3d6c3['id']===_0x336493)?.[_0x56c201(0x5bd)];showConfirmation(_0x56c201(0x5ea)+_0x58ab15+'\x22?',async()=>{const _0x25676c=_0x56c201,_0xbb50bd=blueprintShortcuts[_0x25676c(0x959)](_0x4b7c3b=>_0x4b7c3b['id']!==_0x336493);try{const _0x338fdd=doc(db,_0x25676c(0x687),'dashboardConfig');await setDoc(_0x338fdd,{'blueprintShortcuts':_0xbb50bd},{'merge':!![]});}catch(_0x1d088c){console[_0x25676c(0x728)]('Error\x20deleting\x20shortcut:',_0x1d088c);}});}else _0x1c6984&&handleShortcutClick(_0x1c6984[_0x56c201(0x507)]['id']);}}),document[_0x21ddec(0xca0)](_0x21ddec(0xd29))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>openShortcutEditor(null)),document['getElementById'](_0x21ddec(0x4c1))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0x1c565b=_0x21ddec;document[_0x1c565b(0xca0)](_0x1c565b(0xa7f))[_0x1c565b(0x396)][_0x1c565b(0x46b)](_0x1c565b(0xb23));}),document['getElementById']('save-shortcut-btn')[_0x21ddec(0x79b)](_0x21ddec(0xd52),saveShortcutChanges),document[_0x21ddec(0xca0)](_0x21ddec(0xbe2))[_0x21ddec(0x79b)](_0x21ddec(0xd52),async()=>{const _0x18b6bf=_0x21ddec,_0xfd261c=document['getElementById'](_0x18b6bf(0x6b9)),_0x5075ac=document['getElementById'](_0x18b6bf(0x682));_0xfd261c[_0x18b6bf(0x935)][_0x18b6bf(0xcda)]>0x0?await handleGenerateFromBlueprintWithFiles(_0xfd261c[_0x18b6bf(0x935)][0x0],_0x5075ac['files'][0x0]||null):showMessage('กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด');}),document[_0x21ddec(0xca0)]('topic-quiz-bank-modal')[_0x21ddec(0x79b)]('click',async _0x4e2db9=>{const _0x100e4b=_0x21ddec,_0x43c498=document['getElementById'](_0x100e4b(0x436)),_0x301f16=_0x4e2db9[_0x100e4b(0xbe5)][_0x100e4b(0xa9f)](_0x100e4b(0x521)),_0x21f8b7=_0x4e2db9[_0x100e4b(0xbe5)][_0x100e4b(0xa9f)](_0x100e4b(0x34d)),_0x3471d5=_0x4e2db9['target'][_0x100e4b(0xa9f)](_0x100e4b(0x957)),_0x432c3f=_0x4e2db9[_0x100e4b(0xbe5)][_0x100e4b(0xa9f)](_0x100e4b(0x3b1)),_0x84dd1d=_0x4e2db9[_0x100e4b(0xbe5)]['closest'](_0x100e4b(0x21a)),_0x4323a6=_0x4e2db9[_0x100e4b(0xbe5)][_0x100e4b(0xa9f)](_0x100e4b(0x234));if(_0x301f16){cameFromBlueprint=!![];const _0x5c0292=_0x301f16['dataset'][_0x100e4b(0xacf)];showQuizDetailView(_0x5c0292),_0x43c498[_0x100e4b(0x396)]['add']('hidden');}else{if(_0x21f8b7){const _0x7852ca=_0x21f8b7[_0x100e4b(0x507)][_0x100e4b(0x3b9)],_0x8f11a4=_0x21f8b7[_0x100e4b(0x507)]['quizId'],_0x3aa6fb=allQuizzesGlobal[_0x100e4b(0xd14)](_0x55ef97=>_0x55ef97['id']===_0x8f11a4),_0x1347da=_0x3aa6fb?_0x3aa6fb[_0x100e4b(0xaf8)]:_0x100e4b(0x923);showConfirmation(_0x100e4b(0x415)+_0x1347da+_0x100e4b(0xadf),async()=>{const _0xa46b7c=_0x100e4b;try{const _0x2f3650=doc(db,_0xa46b7c(0x25b)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x2f3650,{['topics.'+_0x7852ca+_0xa46b7c(0xb50)]:arrayRemove(_0x8f11a4)}),showMessage('นำแบบทดสอบออกจากคลังนี้แล้ว'),openTopicQuizBank(_0x7852ca),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x639447){console['error']('Error\x20unlinking\x20quiz:',_0x639447),showMessage(_0xa46b7c(0xa71));}});}else{if(_0x3471d5){cameFromBlueprint=!![];const _0x39ee41=_0x3471d5[_0x100e4b(0x507)]['quizId'],_0x351ef1=allQuizzesGlobal['find'](_0x4e5bb5=>_0x4e5bb5['id']===_0x39ee41);_0x351ef1&&(startPresentation(_0x351ef1),_0x43c498['classList'][_0x100e4b(0x46b)](_0x100e4b(0xb23)));}else{if(_0x432c3f){cameFromBlueprint=!![];const _0xd6ac7=_0x432c3f[_0x100e4b(0x507)][_0x100e4b(0xacf)],_0x4d93b6=allQuizzesGlobal['find'](_0xde3b1=>_0xde3b1['id']===_0xd6ac7);_0x4d93b6&&(currentQuizData=_0x4d93b6,startAdminTest(),_0x43c498[_0x100e4b(0x396)]['add'](_0x100e4b(0xb23)));}else{if(_0x84dd1d)cameFromBlueprint=!![],handleStartLiveRace(_0x84dd1d[_0x100e4b(0x507)][_0x100e4b(0xacf)]),_0x43c498[_0x100e4b(0x396)][_0x100e4b(0x46b)](_0x100e4b(0xb23));else{if(_0x4323a6){cameFromBlueprint=!![];const _0x4529bd=_0x4323a6[_0x100e4b(0x507)][_0x100e4b(0xacf)],_0x5162d8=_0x4323a6[_0x100e4b(0x507)][_0x100e4b(0x3c3)],_0xba4954=allQuizzesGlobal[_0x100e4b(0xd14)](_0x1d9228=>_0x1d9228['id']===_0x4529bd);_0xba4954&&(showGameStartConfirmationModal(_0x4529bd,_0x5162d8,_0xba4954[_0x100e4b(0xaf8)]),_0x43c498['classList'][_0x100e4b(0x46b)]('hidden'));}}}}}}}),document['getElementById'](_0x21ddec(0xc5f))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0xe4c30d=_0x21ddec;document[_0xe4c30d(0xca0)](_0xe4c30d(0x634))['classList']['remove'](_0xe4c30d(0xb23)),document[_0xe4c30d(0xca0)]('manual-bp-project-name')[_0xe4c30d(0xb85)]='',document['getElementById'](_0xe4c30d(0x3cc))[_0xe4c30d(0xb85)]='',document[_0xe4c30d(0xca0)](_0xe4c30d(0xb82))[_0xe4c30d(0xb85)]='';}),document['getElementById'](_0x21ddec(0x424))['addEventListener'](_0x21ddec(0xd52),()=>{const _0x2161bf=_0x21ddec;document[_0x2161bf(0xca0)](_0x2161bf(0x634))[_0x2161bf(0x396)][_0x2161bf(0x46b)](_0x2161bf(0xb23));}),document['getElementById'](_0x21ddec(0x642))[_0x21ddec(0x79b)](_0x21ddec(0xd52),handleManualBlueprintSave),document[_0x21ddec(0xca0)](_0x21ddec(0xc0c))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>document[_0x21ddec(0xca0)](_0x21ddec(0x9b6))[_0x21ddec(0x396)][_0x21ddec(0x46b)](_0x21ddec(0xb23))),document[_0x21ddec(0xca0)](_0x21ddec(0xca8))['addEventListener']('click',handleSaveBlueprintPageSettings),document[_0x21ddec(0xca0)](_0x21ddec(0x41c))[_0x21ddec(0x79b)](_0x21ddec(0xd52),openBlueprintQuizSettings),document[_0x21ddec(0xca0)](_0x21ddec(0x75d))['addEventListener'](_0x21ddec(0xd52),saveBlueprintProject),document['getElementById'](_0x21ddec(0x2d8))[_0x21ddec(0x79b)](_0x21ddec(0xd52),showBlueprintProjects),document[_0x21ddec(0xca0)](_0x21ddec(0xac0))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0x42edbe=_0x21ddec;document['getElementById'](_0x42edbe(0xd36))['classList'][_0x42edbe(0x46b)](_0x42edbe(0xb23));}),document[_0x21ddec(0xca0)](_0x21ddec(0x715))[_0x21ddec(0x79b)](_0x21ddec(0xd52),_0x3288c9=>{const _0x205a3b=_0x21ddec,_0x11b5f3=_0x3288c9[_0x205a3b(0xbe5)][_0x205a3b(0xa9f)]('.open-bp-project-btn'),_0x3c3c88=_0x3288c9['target'][_0x205a3b(0xa9f)]('.delete-bp-project-btn');if(_0x11b5f3)displayBlueprintProjectManager(_0x11b5f3[_0x205a3b(0x507)]['id']);else _0x3c3c88&&handleDeepDeleteBlueprintProject(_0x3c3c88['dataset']['id']);}),document[_0x21ddec(0xca0)](_0x21ddec(0x69c))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0x2faf2e=_0x21ddec;currentBlueprintProjectId=null,currentProjectId=null,document[_0x2faf2e(0xca0)]('blueprint-project-manager-view')[_0x2faf2e(0x396)][_0x2faf2e(0x46b)]('hidden'),showView(_0x2faf2e(0x54c));}),document[_0x21ddec(0xca0)]('bp-add-topic-btn')[_0x21ddec(0x79b)](_0x21ddec(0xd52),addTopicToProject),document['getElementById'](_0x21ddec(0x29b))[_0x21ddec(0x79b)](_0x21ddec(0xd52),async _0x41c42b=>{const _0x1d6e03=_0x21ddec,_0x56b415=_0x41c42b[_0x1d6e03(0xbe5)]['closest'](_0x1d6e03(0xcf1));if(!_0x56b415)return;const _0x3e896e=_0x56b415[_0x1d6e03(0x507)][_0x1d6e03(0x3b9)],_0x26d79f=_0x41c42b[_0x1d6e03(0xbe5)][_0x1d6e03(0xa9f)](_0x1d6e03(0x72d)),_0x3f8aed=_0x41c42b[_0x1d6e03(0xbe5)][_0x1d6e03(0xa9f)](_0x1d6e03(0x562)),_0x4dc860=_0x41c42b[_0x1d6e03(0xbe5)][_0x1d6e03(0xa9f)](_0x1d6e03(0xcb5)),_0x1dd884=_0x41c42b['target'][_0x1d6e03(0xa9f)](_0x1d6e03(0x5b0)),_0x2374a3=_0x41c42b[_0x1d6e03(0xbe5)][_0x1d6e03(0xa9f)]('.view-bp-lesson-btn'),_0x513fa8=_0x41c42b['target'][_0x1d6e03(0xa9f)](_0x1d6e03(0x7df)),_0xba0cbb=_0x41c42b[_0x1d6e03(0xbe5)][_0x1d6e03(0xa9f)]('.bp-edit-topic-btn'),_0x1c3bee=_0x41c42b[_0x1d6e03(0xbe5)][_0x1d6e03(0xa9f)](_0x1d6e03(0x33a)),_0x12d2fb=_0x306362=>{const _0x3cc97a=_0x1d6e03,_0x2cf41d=_0x306362[_0x3cc97a(0xb90)](_0x3cc97a(0x329))['textContent'][_0x3cc97a(0xc9e)](),_0x13687d=_0x306362[_0x3cc97a(0xa9f)](_0x3cc97a(0x4f8))[_0x3cc97a(0x703)],_0x4befe3=_0x13687d?_0x13687d[_0x3cc97a(0x8a5)]['trim']():'';return _0x4befe3+':\x20'+_0x2cf41d;};if(_0x1dd884)openTopicQuizBank(_0x3e896e);else{if(_0x26d79f){const _0x238d59=_0x12d2fb(_0x56b415);selectProjectAndGenerateBlueprintQuiz(_0x238d59,null,_0x3e896e,!![]);}else{if(_0x3f8aed){const _0x6b0ce5=_0x12d2fb(_0x56b415);try{const _0x20bbde=doc(db,_0x1d6e03(0x25b)+appId+_0x1d6e03(0x8e1)+currentBlueprintProjectId+'/lessons',_0x3e896e),_0x4f4d49=await getDoc(_0x20bbde);if(_0x4f4d49[_0x1d6e03(0x6c9)]()){const _0x2187c9=_0x4f4d49[_0x1d6e03(0x7f5)]()[_0x1d6e03(0x893)],_0x278028=document[_0x1d6e03(0x827)]('div'),_0x4da84b=_0x3a32b9=>{const _0x5b3ded=_0x1d6e03;if(!_0x3a32b9)return'';return _0x278028[_0x5b3ded(0xa5b)]=_0x3a32b9,_0x278028[_0x5b3ded(0x8a5)]||_0x278028[_0x5b3ded(0xc07)]||'';},_0x23f99a=(_0x4da84b(_0x2187c9[_0x1d6e03(0x2f2)])+'\x20'+_0x4da84b(_0x2187c9[_0x1d6e03(0x52f)])+'\x20'+_0x4da84b(_0x2187c9[_0x1d6e03(0x526)]))[_0x1d6e03(0xc9e)]();selectProjectAndGenerateBlueprintQuiz(_0x6b0ce5,_0x23f99a,_0x3e896e,![]);}else showMessage('ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้');}catch(_0x22bbc4){console[_0x1d6e03(0x728)](_0x1d6e03(0x4ea),_0x22bbc4),showMessage('เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ');}}else{if(_0x4dc860){const _0xc32e30=_0x12d2fb(_0x56b415);selectProjectAndGenerateBlueprintQuiz(_0xc32e30,null,_0x3e896e,![]);}else{if(_0x2374a3){const _0x2ded5f=doc(db,_0x1d6e03(0x25b)+appId+_0x1d6e03(0x8a2),currentBlueprintProjectId),_0x58fe93=await getDoc(_0x2ded5f);if(_0x58fe93[_0x1d6e03(0x6c9)]()){const _0x549561=_0x58fe93[_0x1d6e03(0x7f5)](),_0x3e5f93=_0x549561[_0x1d6e03(0xb58)][_0x3e896e];if(_0x3e5f93&&_0x3e5f93[_0x1d6e03(0xc81)]===_0x1d6e03(0xcd0))try{const _0x49808a=doc(db,_0x1d6e03(0x25b)+appId+_0x1d6e03(0x8e1)+currentBlueprintProjectId+_0x1d6e03(0xca7),_0x3e896e),_0x33f48a=await getDoc(_0x49808a);if(_0x33f48a[_0x1d6e03(0x6c9)]()){const _0x4cd481=_0x33f48a[_0x1d6e03(0x7f5)]()['content'];document[_0x1d6e03(0xca0)](_0x1d6e03(0xa94))[_0x1d6e03(0x8a5)]=_0x1d6e03(0x368)+_0x12d2fb(_0x56b415),document[_0x1d6e03(0xca0)]('pointContent')['innerHTML']=_0x4cd481[_0x1d6e03(0x2f2)],document[_0x1d6e03(0xca0)](_0x1d6e03(0xc6a))[_0x1d6e03(0xa5b)]=_0x4cd481[_0x1d6e03(0x52f)],document[_0x1d6e03(0xca0)](_0x1d6e03(0x97c))['innerHTML']=_0x4cd481['summary'];const _0x579b4f=document[_0x1d6e03(0xca0)](_0x1d6e03(0x689));_0x4cd481[_0x1d6e03(0x5b3)]?(currentApplicationData=_0x4cd481[_0x1d6e03(0x5b3)],_0x579b4f['innerHTML']=currentApplicationData[_0x1d6e03(0xc3d)]((_0x3e8dba,_0x5ca954)=>'<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>'+(_0x5ca954+0x1)+'.\x20'+marked['parseInline'](_0x3e8dba[_0x1d6e03(0x215)])+_0x1d6e03(0x79f)+_0x5ca954+_0x1d6e03(0x299)+_0x3e8dba[_0x1d6e03(0xb7c)][_0x1d6e03(0xc3d)]((_0x99f484,_0x1f0029)=>'<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x5ca954+',\x20'+_0x1f0029+_0x1d6e03(0x9fd)+String['fromCharCode'](0x61+_0x1f0029)+'.\x20'+marked[_0x1d6e03(0x3f3)](_0x99f484)+'</button>')[_0x1d6e03(0xcbb)]('')+_0x1d6e03(0x286))[_0x1d6e03(0xcbb)]('')):(currentApplicationData=[],_0x579b4f[_0x1d6e03(0xa5b)]=_0x4cd481[_0x1d6e03(0x831)]||_0x4cd481['application']),document[_0x1d6e03(0xca0)](_0x1d6e03(0x5b6))[_0x1d6e03(0x396)][_0x1d6e03(0x46b)]('hidden'),document[_0x1d6e03(0xca0)](_0x1d6e03(0x609))[_0x1d6e03(0x396)][_0x1d6e03(0x76f)](_0x1d6e03(0xb23)),document[_0x1d6e03(0xca0)](_0x1d6e03(0x211))[_0x1d6e03(0x396)]['remove'](_0x1d6e03(0xb23)),window[_0x1d6e03(0x858)]&&MathJax['typesetPromise']([document['getElementById'](_0x1d6e03(0xbab))]);}else showMessage('ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)');}catch(_0xf9163d){console['error']('Error\x20fetching\x20lesson\x20content:',_0xf9163d),showMessage(_0x1d6e03(0x9b3));}else showMessage(_0x1d6e03(0x2fc));}}else{if(_0x513fa8){const _0x551ab2=_0x12d2fb(_0x56b415),_0xfedda1=doc(db,_0x1d6e03(0x25b)+appId+_0x1d6e03(0x8a2),currentBlueprintProjectId),_0x2bbffb=await getDoc(_0xfedda1);if(_0x2bbffb['exists']()){const _0x4f15fd=_0x2bbffb[_0x1d6e03(0x7f5)]();generateAndSaveLessonForBlueprint(_0x3e896e,_0x551ab2,_0x4f15fd['gradeLevel']);}}else{if(_0xba0cbb)editTopicInProject(_0x3e896e);else _0x1c3bee&&deleteTopicFromProject(_0x3e896e);}}}}}}}),document['getElementById'](_0x21ddec(0x878))['addEventListener'](_0x21ddec(0xd52),handleFixLessonLatex),document[_0x21ddec(0xca0)](_0x21ddec(0xa1c))['addEventListener']('click',handleExportLessonToPDF),document['getElementById']('close-lesson-view-btn')[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0x51fce8=_0x21ddec;document[_0x51fce8(0xca0)](_0x51fce8(0x211))[_0x51fce8(0x396)][_0x51fce8(0x46b)]('hidden');});const _0x4d2bdd=document[_0x21ddec(0xca0)](_0x21ddec(0xd0c)),_0x5b4ac4=document[_0x21ddec(0xca0)](_0x21ddec(0x2e8));_0x4d2bdd[_0x21ddec(0x79b)](_0x21ddec(0x6a2),()=>{const _0x911b81=_0x21ddec;_0x5b4ac4[_0x911b81(0x396)][_0x911b81(0x51b)](_0x911b81(0xb23),!_0x4d2bdd[_0x911b81(0x397)]);});const _0x1b4205=document[_0x21ddec(0xca0)](_0x21ddec(0xa7a)),_0x2b8d54=document['getElementById']('confidence-mode-container');_0x1b4205[_0x21ddec(0x79b)](_0x21ddec(0x6a2),()=>{const _0x4c0ab9=_0x21ddec;_0x2b8d54[_0x4c0ab9(0x396)][_0x4c0ab9(0x51b)](_0x4c0ab9(0xb23),!_0x1b4205[_0x4c0ab9(0x397)]);});const _0x52e3b3=document['getElementById'](_0x21ddec(0x58c)),_0xed49d1=document[_0x21ddec(0xca0)](_0x21ddec(0x7b1));_0x52e3b3['addEventListener'](_0x21ddec(0x6a2),()=>{const _0x482928=_0x21ddec;_0xed49d1[_0x482928(0x396)][_0x482928(0x51b)](_0x482928(0xb23),!_0x52e3b3[_0x482928(0x397)]);});const _0x1cbe55=document[_0x21ddec(0xca0)](_0x21ddec(0x1e3)),_0x57963c=async _0x2d4aac=>{const _0x1b4eb6=_0x21ddec,_0x5df30b=document[_0x1b4eb6(0xca0)]('confidence-modal'),_0x213404=_0x5df30b['dataset'][_0x1b4eb6(0xb42)],_0xe647d0=document['getElementById'](_0x1b4eb6(0x48b));_0x5df30b['classList'][_0x1b4eb6(0x46b)](_0x1b4eb6(0xb23));if(_0x213404===_0x1b4eb6(0x93e)){const _0x4446c4=_0xe647d0['value'],_0x1c8180={'answer':_0x4446c4,'wasConfident':_0x2d4aac};proceedToNextQuestion(_0x1c8180);}else{if(_0x213404===_0x1b4eb6(0x6c1)){const _0x46ffa4=_0xe647d0[_0x1b4eb6(0x507)]['answerValue'],_0x183b4a=JSON[_0x1b4eb6(0x608)](_0xe647d0[_0x1b4eb6(0x507)][_0x1b4eb6(0x215)]),_0x13ecf3=JSON[_0x1b4eb6(0x608)](_0xe647d0[_0x1b4eb6(0x507)]['gameData']),_0xa1b033=_0xe647d0[_0x1b4eb6(0x507)][_0x1b4eb6(0x859)];handleSyncAnswerSubmit(_0x46ffa4,_0x183b4a,_0x13ecf3,_0xa1b033,_0x2d4aac);}}_0x5df30b[_0x1b4eb6(0x507)]['currentMode']='';};document[_0x21ddec(0xca0)](_0x21ddec(0xc59))['addEventListener'](_0x21ddec(0xd52),()=>_0x57963c(!![])),document[_0x21ddec(0xca0)]('confirm-not-confident')['addEventListener'](_0x21ddec(0xd52),()=>_0x57963c(![])),liveGameView[_0x21ddec(0x79b)]('click',_0x3fab68=>{const _0x286b6b=_0x21ddec,_0x1431c8=_0x3fab68[_0x286b6b(0xbe5)][_0x286b6b(0xa9f)](_0x286b6b(0x46e));if(_0x1431c8){const _0x12f936=_0x1431c8[_0x286b6b(0x507)][_0x286b6b(0x859)];_0x12f936&&handleKickPlayerSync(_0x12f936);}});const _0x22315c=document[_0x21ddec(0xca0)]('confirm-game-start-btn'),_0x217a62=document[_0x21ddec(0xca0)](_0x21ddec(0x540));_0x217a62[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0x3bdae7=_0x21ddec;document[_0x3bdae7(0xca0)](_0x3bdae7(0x927))[_0x3bdae7(0x396)][_0x3bdae7(0x46b)](_0x3bdae7(0xb23));}),_0x22315c[_0x21ddec(0x79b)]('click',()=>{const _0x118a08=_0x21ddec,_0x57fb18=document[_0x118a08(0xca0)](_0x118a08(0xa91))[_0x118a08(0xb85)],_0xd1caa0=document[_0x118a08(0xca0)](_0x118a08(0x9a4))[_0x118a08(0xb85)],_0x3a573a=document[_0x118a08(0xca0)](_0x118a08(0xccd))['checked'];document[_0x118a08(0xca0)](_0x118a08(0x927))[_0x118a08(0x396)][_0x118a08(0x46b)](_0x118a08(0xb23));switch(_0xd1caa0){case'live-race':handleStartLiveRace(_0x57fb18,_0x3a573a);break;case _0x118a08(0xcd2):handleStartTeamQuiz(_0x57fb18,_0x3a573a);break;case'group':handleStartGroupMode(_0x57fb18,_0x3a573a);break;case _0x118a08(0x6c1):handleStartSyncMode(_0x57fb18,_0x3a573a);break;}}),document[_0x21ddec(0xca0)]('join-group-activity-btn')[_0x21ddec(0x79b)]('click',handleJoinGroupActivity),liveGameView[_0x21ddec(0x79b)](_0x21ddec(0xd52),_0xfddf0b=>{const _0x5a4dc9=_0x21ddec,_0x11881b=_0xfddf0b[_0x5a4dc9(0xbe5)][_0x5a4dc9(0xa9f)]('.summary-bar-item');document[_0x5a4dc9(0x31c)](_0x5a4dc9(0x5b9))[_0x5a4dc9(0xb32)](_0x389895=>{const _0x481a87=_0x5a4dc9;(!_0x11881b||_0x389895['id']!==_0x11881b['dataset'][_0x481a87(0x4e4)])&&_0x389895[_0x481a87(0x396)][_0x481a87(0x76f)](_0x481a87(0x861));});if(!_0x11881b)return;const _0x3acb4c=_0x11881b[_0x5a4dc9(0x507)][_0x5a4dc9(0x4e4)],_0x5462ee=document[_0x5a4dc9(0xca0)](_0x3acb4c);_0x5462ee&&_0x5462ee['classList']['toggle'](_0x5a4dc9(0x861));}),liveGameView[_0x21ddec(0x79b)](_0x21ddec(0xd52),_0x1b78fd=>{const _0x3c59ca=_0x21ddec;if(_0x1b78fd[_0x3c59ca(0xbe5)]['classList'][_0x3c59ca(0x1d0)]('kick-player-btn')){const _0xbc58f1=_0x1b78fd['target'][_0x3c59ca(0x507)][_0x3c59ca(0x859)];_0xbc58f1&&handleKickPlayer(_0xbc58f1);}}),document[_0x21ddec(0xca0)](_0x21ddec(0xb94))[_0x21ddec(0x79b)](_0x21ddec(0x56f),()=>document[_0x21ddec(0xca0)](_0x21ddec(0x961))['classList'][_0x21ddec(0x76f)](_0x21ddec(0xb23))),document[_0x21ddec(0xca0)](_0x21ddec(0x961))[_0x21ddec(0x79b)](_0x21ddec(0xd52),handleSaveProjectName),document['getElementById'](_0x21ddec(0xb94))[_0x21ddec(0x79b)](_0x21ddec(0x4a5),_0x31eaa0=>{const _0x3bdf00=_0x21ddec;_0x31eaa0[_0x3bdf00(0x9c4)]===_0x3bdf00(0xa65)&&(_0x31eaa0[_0x3bdf00(0x631)](),_0x31eaa0[_0x3bdf00(0xbe5)][_0x3bdf00(0xd09)](),handleSaveProjectName());}),document[_0x21ddec(0xca0)](_0x21ddec(0x767))['addEventListener'](_0x21ddec(0xd52),()=>{const _0x1f3894=_0x21ddec;document[_0x1f3894(0xca0)](_0x1f3894(0x69e))[_0x1f3894(0x396)][_0x1f3894(0x76f)]('hidden');}),document[_0x21ddec(0xca0)](_0x21ddec(0xbf7))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0x2cc194=_0x21ddec;document[_0x2cc194(0xca0)]('bulk-quiz-settings-modal')[_0x2cc194(0x396)][_0x2cc194(0x46b)]('hidden');}),document['getElementById'](_0x21ddec(0xb4e))[_0x21ddec(0x79b)](_0x21ddec(0xd52),handleBulkUpdateQuizSettings),document[_0x21ddec(0xca0)](_0x21ddec(0x491))[_0x21ddec(0x79b)](_0x21ddec(0xd52),handleModeSwitch),document[_0x21ddec(0xca0)](_0x21ddec(0xbf0))[_0x21ddec(0x79b)]('click',handleUpdateOldQuizzes),document[_0x21ddec(0xca0)](_0x21ddec(0x40b))['addEventListener'](_0x21ddec(0xd52),handleResetProjectOrder),document['getElementById'](_0x21ddec(0xc03))[_0x21ddec(0x79b)](_0x21ddec(0xd52),handleSaveVisibilitySettings),document[_0x21ddec(0xca0)]('add-custom-math-topic-btn')[_0x21ddec(0x79b)](_0x21ddec(0xd52),handleAddCustomMathTopic),document[_0x21ddec(0xca0)](_0x21ddec(0x645))['addEventListener'](_0x21ddec(0xd52),handleSelectAllTopics),document[_0x21ddec(0xca0)](_0x21ddec(0x2c3))[_0x21ddec(0x79b)](_0x21ddec(0xd52),handleDeselectAllTopics),document[_0x21ddec(0xca0)]('back-to-dashboard-btn')[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}}),document[_0x21ddec(0xca0)]('back-to-project-btn')['addEventListener'](_0x21ddec(0xd52),()=>{const _0x4d3af5=_0x21ddec;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x4d3af5(0x969));}}),document[_0x21ddec(0xca0)](_0x21ddec(0x383))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0xd0c795=_0x21ddec;showView(_0xd0c795(0x54c));}),document[_0x21ddec(0xca0)]('modal-close-btn')['addEventListener'](_0x21ddec(0xd52),()=>{const _0x2da82a=_0x21ddec;messageModal[_0x2da82a(0x396)]['add'](_0x2da82a(0xb23)),typeof modalConfirmAction===_0x2da82a(0xd53)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x21ddec(0xca0)](_0x21ddec(0x37d))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>createProjectModal[_0x21ddec(0x396)]['remove'](_0x21ddec(0xb23))),document[_0x21ddec(0xca0)](_0x21ddec(0x460))['addEventListener'](_0x21ddec(0xd52),()=>createProjectModal['classList'][_0x21ddec(0x46b)]('hidden')),document[_0x21ddec(0xca0)]('cancel-admin-login-btn')[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>adminPasswordModal['classList'][_0x21ddec(0x46b)](_0x21ddec(0xb23))),document['getElementById'](_0x21ddec(0x8c5))[_0x21ddec(0x79b)](_0x21ddec(0xd52),handleAdminLogin),document[_0x21ddec(0xca0)](_0x21ddec(0x2b5))[_0x21ddec(0x79b)]('keyup',_0xa49509=>{const _0x4845c2=_0x21ddec;if(_0xa49509[_0x4845c2(0x9c4)]===_0x4845c2(0xa65))handleAdminLogin();}),document[_0x21ddec(0xca0)](_0x21ddec(0x9cb))['addEventListener'](_0x21ddec(0xd52),()=>{const _0x5b6f9f=_0x21ddec;confirmationModal[_0x5b6f9f(0x396)][_0x5b6f9f(0x46b)](_0x5b6f9f(0xb23)),confirmAction=null;}),document[_0x21ddec(0xca0)]('confirm-delete-btn')[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0x38856a=_0x21ddec;confirmAction&&confirmAction(),confirmationModal[_0x38856a(0x396)]['add'](_0x38856a(0xb23)),confirmAction=null;}),document[_0x21ddec(0xca0)](_0x21ddec(0xc8c))[_0x21ddec(0x79b)]('click',()=>renameQuizModal[_0x21ddec(0x396)][_0x21ddec(0x46b)](_0x21ddec(0xb23))),document[_0x21ddec(0xca0)]('confirm-rename-quiz-btn')[_0x21ddec(0x79b)](_0x21ddec(0xd52),confirmRenameQuiz),document[_0x21ddec(0xca0)](_0x21ddec(0x6e7))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>moveQuizModal['classList'][_0x21ddec(0x46b)]('hidden')),document['getElementById'](_0x21ddec(0xbae))[_0x21ddec(0x79b)]('click',confirmMoveQuiz),document['getElementById'](_0x21ddec(0x20e))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>quizSettingsModal[_0x21ddec(0x396)][_0x21ddec(0x46b)](_0x21ddec(0xb23))),document[_0x21ddec(0xca0)](_0x21ddec(0x835))['addEventListener'](_0x21ddec(0xd52),confirmQuizSettings),document[_0x21ddec(0xca0)](_0x21ddec(0x964))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>quizStatusModal[_0x21ddec(0x396)][_0x21ddec(0x46b)](_0x21ddec(0xb23))),document[_0x21ddec(0xca0)](_0x21ddec(0x476))['addEventListener'](_0x21ddec(0xd52),confirmQuizStatus);const _0x2d1cb6=document[_0x21ddec(0xca0)]('export-pdf-modal');document[_0x21ddec(0xca0)](_0x21ddec(0x5ac))['addEventListener']('click',()=>{const _0x61678=_0x21ddec;_0x2d1cb6[_0x61678(0x396)]['add']('hidden');}),document['getElementById'](_0x21ddec(0x8d2))[_0x21ddec(0x79b)]('click',async()=>{const _0x108b14=_0x21ddec,_0x527595=allQuizzes[_0x108b14(0xd14)](_0x4747e6=>_0x4747e6['id']===actionTargetId);_0x527595?(currentQuizData=_0x527595,exportQuizAsWorksheetPDF()):showMessage(_0x108b14(0x4f6)),_0x2d1cb6[_0x108b14(0x396)][_0x108b14(0x46b)](_0x108b14(0xb23));}),document['getElementById']('export-tutor-pdf-btn')['addEventListener'](_0x21ddec(0xd52),async()=>{const _0x281c2d=_0x21ddec,_0x3cd18f=allQuizzes[_0x281c2d(0xd14)](_0x28f569=>_0x28f569['id']===actionTargetId);_0x3cd18f?(currentQuizData=_0x3cd18f,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x2d1cb6['classList'][_0x281c2d(0x46b)](_0x281c2d(0xb23));});const _0x500da8=document[_0x21ddec(0xca0)](_0x21ddec(0x796));_0x500da8[_0x21ddec(0xa5b)]=_0x21ddec(0xb40),_0x500da8[_0x21ddec(0x79b)](_0x21ddec(0xd52),openGlobalActivityModal),document[_0x21ddec(0xca0)]('cancel-global-activity-btn')[_0x21ddec(0x79b)]('click',()=>{const _0x46eb07=_0x21ddec;document[_0x46eb07(0xca0)](_0x46eb07(0x94a))[_0x46eb07(0x396)][_0x46eb07(0x46b)](_0x46eb07(0xb23));}),document[_0x21ddec(0xca0)]('global-quiz-search-input')['addEventListener'](_0x21ddec(0x5ca),_0x50b2e5=>{const _0x19621c=_0x21ddec;renderGlobalActivityList(_0x50b2e5[_0x19621c(0xbe5)]['value']);}),document[_0x21ddec(0xca0)](_0x21ddec(0x54d))[_0x21ddec(0x79b)](_0x21ddec(0xd52),_0x394e6b=>{const _0x2a5df7=_0x21ddec,_0x4d9bcd=_0x394e6b['target']['closest'](_0x2a5df7(0x3ac));if(!_0x4d9bcd)return;const _0x53be8c=_0x4d9bcd[_0x2a5df7(0x507)]['id'],_0x3e02e8=_0x4d9bcd['dataset']['mode'],_0x4c20ed=allQuizzesGlobal[_0x2a5df7(0xd14)](_0x7c5a6c=>_0x7c5a6c['id']===_0x53be8c);_0x4c20ed&&(document[_0x2a5df7(0xca0)](_0x2a5df7(0x94a))['classList'][_0x2a5df7(0x46b)](_0x2a5df7(0xb23)),_0x3e02e8===_0x2a5df7(0xb26)?handleStartLiveRace(_0x53be8c):showGameStartConfirmationModal(_0x53be8c,_0x3e02e8,_0x4c20ed[_0x2a5df7(0xaf8)]));}),document[_0x21ddec(0xca0)](_0x21ddec(0x857))[_0x21ddec(0x79b)](_0x21ddec(0x5ca),renderProjects),document[_0x21ddec(0xca0)](_0x21ddec(0x303))['addEventListener'](_0x21ddec(0x6a2),async()=>{const _0x397cea=_0x21ddec,_0x5047b0=document[_0x397cea(0xca0)](_0x397cea(0x303))['value'],_0x5a7b46=doc(db,'globalSettings',_0x397cea(0xd59));try{await setDoc(_0x5a7b46,{'projectSort':_0x5047b0},{'merge':!![]});}catch(_0xb3ac19){console[_0x397cea(0x728)](_0x397cea(0x91b),_0xb3ac19),showMessage(_0x397cea(0x784));}}),document[_0x21ddec(0xca0)](_0x21ddec(0x281))[_0x21ddec(0x79b)]('input',renderQuizzes),document[_0x21ddec(0xca0)](_0x21ddec(0x440))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0x32dddf=_0x21ddec;globalDashboardSettings[_0x32dddf(0x6bf)]=_0x32dddf(0xa07),saveUserPreference(_0x32dddf(0x6bf),'grid'),renderProjects();}),document[_0x21ddec(0xca0)](_0x21ddec(0x86d))['addEventListener'](_0x21ddec(0xd52),()=>{const _0x51ac9a=_0x21ddec;globalDashboardSettings[_0x51ac9a(0x6bf)]=_0x51ac9a(0x8b8),saveUserPreference('projectView',_0x51ac9a(0x8b8)),renderProjects();}),manageTab[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>switchProjectTab('manage')),resultsTab[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>switchProjectTab(_0x21ddec(0x6c6))),leaderboardTab[_0x21ddec(0x79b)]('click',()=>switchProjectTab(_0x21ddec(0x744))),document[_0x21ddec(0xca0)]('analytics-tab-btn')[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>switchQuizDetailTab(_0x21ddec(0xd1a))),document[_0x21ddec(0xca0)](_0x21ddec(0x42c))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>switchQuizDetailTab('scores')),document['getElementById']('leaderboard-quiz-tab-btn')['addEventListener'](_0x21ddec(0xd52),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x21ddec(0xca0)](_0x21ddec(0x6aa))['addEventListener'](_0x21ddec(0xd52),()=>switchQuizDetailTab('behavior-log')),document[_0x21ddec(0xca0)]('analyze-strengths-btn')[_0x21ddec(0x79b)](_0x21ddec(0xd52),handleAnalyzeClass),generateWorksheetBtn[_0x21ddec(0x79b)](_0x21ddec(0xd52),generateWorksheet);const _0xe34dde=document[_0x21ddec(0xca0)](_0x21ddec(0x4fc)),_0x564cbd=document['getElementById'](_0x21ddec(0xaa2)),_0x1b1d11=document[_0x21ddec(0xca0)](_0x21ddec(0x1ed)),_0x54c6af=document['getElementById'](_0x21ddec(0x48d)),_0x1fd594=document[_0x21ddec(0xca0)](_0x21ddec(0x2e4)),_0x13fbb0=document[_0x21ddec(0xca0)]('parallel-test-input-area');topicTab['addEventListener']('click',()=>{const _0x29a860=_0x21ddec;topicTab[_0x29a860(0x396)][_0x29a860(0x46b)]('active'),textTab[_0x29a860(0x396)][_0x29a860(0x76f)](_0x29a860(0x88e)),fileTab[_0x29a860(0x396)][_0x29a860(0x76f)]('active'),worksheetTab[_0x29a860(0x396)][_0x29a860(0x76f)](_0x29a860(0x88e));if(_0xe34dde)_0xe34dde[_0x29a860(0x396)][_0x29a860(0x76f)](_0x29a860(0x88e));if(_0x1b1d11)_0x1b1d11['classList'][_0x29a860(0x76f)](_0x29a860(0x88e));if(_0x1fd594)_0x1fd594[_0x29a860(0x396)][_0x29a860(0x76f)](_0x29a860(0x88e));topicInputArea[_0x29a860(0x396)][_0x29a860(0x76f)](_0x29a860(0xb23)),textInputArea[_0x29a860(0x396)]['add']('hidden'),fileInputArea['classList'][_0x29a860(0x46b)](_0x29a860(0xb23)),worksheetInputArea[_0x29a860(0x396)][_0x29a860(0x46b)]('hidden');if(_0x564cbd)_0x564cbd[_0x29a860(0x396)][_0x29a860(0x46b)](_0x29a860(0xb23));if(_0x54c6af)_0x54c6af[_0x29a860(0x396)]['add']('hidden');if(_0x13fbb0)_0x13fbb0['classList'][_0x29a860(0x46b)](_0x29a860(0xb23));}),textTab[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0x44591e=_0x21ddec;textTab[_0x44591e(0x396)][_0x44591e(0x46b)](_0x44591e(0x88e)),topicTab[_0x44591e(0x396)][_0x44591e(0x76f)](_0x44591e(0x88e)),fileTab[_0x44591e(0x396)][_0x44591e(0x76f)](_0x44591e(0x88e)),worksheetTab[_0x44591e(0x396)][_0x44591e(0x76f)](_0x44591e(0x88e));if(_0xe34dde)_0xe34dde['classList'][_0x44591e(0x76f)]('active');if(_0x1b1d11)_0x1b1d11['classList'][_0x44591e(0x76f)]('active');if(_0x1fd594)_0x1fd594['classList'][_0x44591e(0x76f)](_0x44591e(0x88e));textInputArea[_0x44591e(0x396)][_0x44591e(0x76f)](_0x44591e(0xb23)),topicInputArea[_0x44591e(0x396)]['add'](_0x44591e(0xb23)),fileInputArea[_0x44591e(0x396)][_0x44591e(0x46b)](_0x44591e(0xb23)),worksheetInputArea[_0x44591e(0x396)]['add'](_0x44591e(0xb23));if(_0x564cbd)_0x564cbd[_0x44591e(0x396)]['add']('hidden');if(_0x54c6af)_0x54c6af[_0x44591e(0x396)][_0x44591e(0x46b)]('hidden');if(_0x13fbb0)_0x13fbb0[_0x44591e(0x396)]['add'](_0x44591e(0xb23));}),fileTab['addEventListener'](_0x21ddec(0xd52),()=>{const _0x179367=_0x21ddec;fileTab[_0x179367(0x396)]['add'](_0x179367(0x88e)),topicTab['classList'][_0x179367(0x76f)]('active'),textTab[_0x179367(0x396)][_0x179367(0x76f)](_0x179367(0x88e)),worksheetTab[_0x179367(0x396)][_0x179367(0x76f)](_0x179367(0x88e));if(_0xe34dde)_0xe34dde[_0x179367(0x396)]['remove']('active');if(_0x1b1d11)_0x1b1d11[_0x179367(0x396)][_0x179367(0x76f)](_0x179367(0x88e));if(_0x1fd594)_0x1fd594[_0x179367(0x396)]['remove'](_0x179367(0x88e));fileInputArea[_0x179367(0x396)][_0x179367(0x76f)](_0x179367(0xb23)),topicInputArea[_0x179367(0x396)]['add'](_0x179367(0xb23)),textInputArea[_0x179367(0x396)][_0x179367(0x46b)](_0x179367(0xb23)),worksheetInputArea[_0x179367(0x396)][_0x179367(0x46b)](_0x179367(0xb23));if(_0x564cbd)_0x564cbd[_0x179367(0x396)][_0x179367(0x46b)](_0x179367(0xb23));if(_0x54c6af)_0x54c6af['classList'][_0x179367(0x46b)]('hidden');if(_0x13fbb0)_0x13fbb0[_0x179367(0x396)][_0x179367(0x46b)](_0x179367(0xb23));}),worksheetTab[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0x39a9e7=_0x21ddec;worksheetTab[_0x39a9e7(0x396)]['add'](_0x39a9e7(0x88e)),topicTab[_0x39a9e7(0x396)][_0x39a9e7(0x76f)](_0x39a9e7(0x88e)),textTab[_0x39a9e7(0x396)][_0x39a9e7(0x76f)](_0x39a9e7(0x88e)),fileTab[_0x39a9e7(0x396)][_0x39a9e7(0x76f)](_0x39a9e7(0x88e));if(_0xe34dde)_0xe34dde[_0x39a9e7(0x396)]['remove'](_0x39a9e7(0x88e));if(_0x1b1d11)_0x1b1d11[_0x39a9e7(0x396)][_0x39a9e7(0x76f)]('active');if(_0x1fd594)_0x1fd594[_0x39a9e7(0x396)][_0x39a9e7(0x76f)](_0x39a9e7(0x88e));worksheetInputArea[_0x39a9e7(0x396)][_0x39a9e7(0x76f)]('hidden'),topicInputArea[_0x39a9e7(0x396)][_0x39a9e7(0x46b)](_0x39a9e7(0xb23)),textInputArea[_0x39a9e7(0x396)][_0x39a9e7(0x46b)]('hidden'),fileInputArea[_0x39a9e7(0x396)][_0x39a9e7(0x46b)]('hidden');if(_0x564cbd)_0x564cbd[_0x39a9e7(0x396)][_0x39a9e7(0x46b)](_0x39a9e7(0xb23));if(_0x54c6af)_0x54c6af[_0x39a9e7(0x396)][_0x39a9e7(0x46b)]('hidden');if(_0x13fbb0)_0x13fbb0[_0x39a9e7(0x396)]['add'](_0x39a9e7(0xb23));});const _0xe67a90=document[_0x21ddec(0xca0)]('bank-tab'),_0x1df53f=document[_0x21ddec(0xca0)](_0x21ddec(0x7d1));_0xe67a90&&_0xe67a90['addEventListener'](_0x21ddec(0xd52),()=>{const _0x218288=_0x21ddec;topicTab[_0x218288(0x396)][_0x218288(0x76f)](_0x218288(0x88e)),textTab[_0x218288(0x396)]['remove'](_0x218288(0x88e)),fileTab[_0x218288(0x396)][_0x218288(0x76f)](_0x218288(0x88e)),worksheetTab[_0x218288(0x396)][_0x218288(0x76f)](_0x218288(0x88e));if(_0xe34dde)_0xe34dde[_0x218288(0x396)][_0x218288(0x76f)](_0x218288(0x88e));if(_0x1b1d11)_0x1b1d11[_0x218288(0x396)][_0x218288(0x76f)]('active');if(_0x1fd594)_0x1fd594['classList'][_0x218288(0x76f)](_0x218288(0x88e));_0xe67a90[_0x218288(0x396)][_0x218288(0x46b)](_0x218288(0x88e)),topicInputArea['classList'][_0x218288(0x46b)]('hidden'),textInputArea[_0x218288(0x396)]['add'](_0x218288(0xb23)),fileInputArea[_0x218288(0x396)][_0x218288(0x46b)](_0x218288(0xb23)),worksheetInputArea[_0x218288(0x396)]['add'](_0x218288(0xb23));if(_0x564cbd)_0x564cbd[_0x218288(0x396)][_0x218288(0x46b)](_0x218288(0xb23));if(_0x54c6af)_0x54c6af[_0x218288(0x396)][_0x218288(0x46b)](_0x218288(0xb23));if(_0x13fbb0)_0x13fbb0['classList'][_0x218288(0x46b)](_0x218288(0xb23));_0x1df53f[_0x218288(0x396)][_0x218288(0x76f)](_0x218288(0xb23)),displayQuestionBank();});_0xe34dde&&(_0xe34dde[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0x309aae=_0x21ddec;_0xe34dde['classList'][_0x309aae(0x46b)](_0x309aae(0x88e)),topicTab[_0x309aae(0x396)][_0x309aae(0x76f)](_0x309aae(0x88e)),textTab[_0x309aae(0x396)][_0x309aae(0x76f)](_0x309aae(0x88e)),fileTab[_0x309aae(0x396)][_0x309aae(0x76f)](_0x309aae(0x88e)),worksheetTab[_0x309aae(0x396)][_0x309aae(0x76f)](_0x309aae(0x88e));if(_0x1b1d11)_0x1b1d11['classList'][_0x309aae(0x76f)](_0x309aae(0x88e));if(_0x1fd594)_0x1fd594[_0x309aae(0x396)]['remove'](_0x309aae(0x88e));_0x564cbd[_0x309aae(0x396)][_0x309aae(0x76f)](_0x309aae(0xb23)),topicInputArea[_0x309aae(0x396)][_0x309aae(0x46b)](_0x309aae(0xb23)),textInputArea[_0x309aae(0x396)][_0x309aae(0x46b)](_0x309aae(0xb23)),fileInputArea['classList']['add']('hidden'),worksheetInputArea[_0x309aae(0x396)][_0x309aae(0x46b)](_0x309aae(0xb23));if(_0x54c6af)_0x54c6af[_0x309aae(0x396)][_0x309aae(0x46b)](_0x309aae(0xb23));if(_0x13fbb0)_0x13fbb0[_0x309aae(0x396)][_0x309aae(0x46b)](_0x309aae(0xb23));}),document[_0x21ddec(0xca0)](_0x21ddec(0x929))[_0x21ddec(0x79b)](_0x21ddec(0xd52),handleGenerateFromLink));_0x1b1d11&&_0x1b1d11[_0x21ddec(0x79b)]('click',()=>{const _0x8fdb88=_0x21ddec;_0x1b1d11[_0x8fdb88(0x396)][_0x8fdb88(0x46b)](_0x8fdb88(0x88e)),topicTab[_0x8fdb88(0x396)][_0x8fdb88(0x76f)](_0x8fdb88(0x88e)),textTab[_0x8fdb88(0x396)][_0x8fdb88(0x76f)]('active'),fileTab['classList'][_0x8fdb88(0x76f)]('active'),worksheetTab[_0x8fdb88(0x396)]['remove']('active');if(_0xe34dde)_0xe34dde['classList'][_0x8fdb88(0x76f)](_0x8fdb88(0x88e));if(_0xe67a90)_0xe67a90[_0x8fdb88(0x396)][_0x8fdb88(0x76f)]('active');if(_0x1fd594)_0x1fd594[_0x8fdb88(0x396)][_0x8fdb88(0x76f)](_0x8fdb88(0x88e));_0x54c6af[_0x8fdb88(0x396)][_0x8fdb88(0x76f)](_0x8fdb88(0xb23)),topicInputArea['classList']['add'](_0x8fdb88(0xb23)),textInputArea[_0x8fdb88(0x396)][_0x8fdb88(0x46b)](_0x8fdb88(0xb23)),fileInputArea[_0x8fdb88(0x396)][_0x8fdb88(0x46b)](_0x8fdb88(0xb23)),worksheetInputArea[_0x8fdb88(0x396)]['add']('hidden');if(_0x564cbd)_0x564cbd[_0x8fdb88(0x396)][_0x8fdb88(0x46b)](_0x8fdb88(0xb23));if(_0x1df53f)_0x1df53f['classList']['add'](_0x8fdb88(0xb23));if(_0x13fbb0)_0x13fbb0[_0x8fdb88(0x396)][_0x8fdb88(0x46b)](_0x8fdb88(0xb23));});_0x1fd594&&_0x1fd594[_0x21ddec(0x79b)]('click',()=>{const _0x53f3f5=_0x21ddec;_0x1fd594[_0x53f3f5(0x396)][_0x53f3f5(0x46b)](_0x53f3f5(0x88e)),topicTab[_0x53f3f5(0x396)]['remove'](_0x53f3f5(0x88e)),textTab[_0x53f3f5(0x396)][_0x53f3f5(0x76f)](_0x53f3f5(0x88e)),fileTab['classList'][_0x53f3f5(0x76f)]('active'),worksheetTab[_0x53f3f5(0x396)][_0x53f3f5(0x76f)]('active');if(_0xe34dde)_0xe34dde[_0x53f3f5(0x396)]['remove'](_0x53f3f5(0x88e));if(_0x1b1d11)_0x1b1d11['classList'][_0x53f3f5(0x76f)](_0x53f3f5(0x88e));if(_0xe67a90)_0xe67a90[_0x53f3f5(0x396)][_0x53f3f5(0x76f)](_0x53f3f5(0x88e));_0x13fbb0[_0x53f3f5(0x396)]['remove'](_0x53f3f5(0xb23)),topicInputArea[_0x53f3f5(0x396)]['add'](_0x53f3f5(0xb23)),textInputArea[_0x53f3f5(0x396)][_0x53f3f5(0x46b)]('hidden'),fileInputArea['classList'][_0x53f3f5(0x46b)](_0x53f3f5(0xb23)),worksheetInputArea[_0x53f3f5(0x396)]['add'](_0x53f3f5(0xb23));if(_0x564cbd)_0x564cbd['classList']['add'](_0x53f3f5(0xb23));if(_0x54c6af)_0x54c6af[_0x53f3f5(0x396)]['add'](_0x53f3f5(0xb23));if(_0x1df53f)_0x1df53f[_0x53f3f5(0x396)][_0x53f3f5(0x46b)](_0x53f3f5(0xb23));});const _0xb91061=document[_0x21ddec(0xca0)](_0x21ddec(0x6b9)),_0xfece18=document[_0x21ddec(0xca0)](_0x21ddec(0xbe2));if(_0xb91061){const _0x42f08f=document[_0x21ddec(0xca0)]('blueprint-upload-input'),_0x459496=document[_0x21ddec(0xca0)](_0x21ddec(0xbe2)),_0x23f9e4=document['getElementById'](_0x21ddec(0x425)),_0x49c93c=document['getElementById'](_0x21ddec(0x896)),_0x365fe8=document['getElementById'](_0x21ddec(0xb46)),_0x4a4384=document[_0x21ddec(0xca0)](_0x21ddec(0x26a));_0x42f08f&&_0x42f08f[_0x21ddec(0x79b)](_0x21ddec(0x6a2),async _0x5e0935=>{const _0x1f23d8=_0x21ddec;_0x23f9e4[_0x1f23d8(0x396)][_0x1f23d8(0x46b)](_0x1f23d8(0xb23)),_0x365fe8[_0x1f23d8(0x396)][_0x1f23d8(0x46b)](_0x1f23d8(0xb23)),_0x49c93c[_0x1f23d8(0x397)]=![],_0x459496[_0x1f23d8(0x7b4)]=!![];const _0x2ae02f=_0x5e0935['target'][_0x1f23d8(0x935)][0x0];if(_0x2ae02f){_0x459496[_0x1f23d8(0x7b4)]=![];try{const _0x1df338=await extractTextFromPdf(_0x2ae02f);await analyzeBlueprintForTopics(_0x1df338);}catch(_0x148b58){showMessage(_0x1f23d8(0x2e7)),_0x23f9e4[_0x1f23d8(0x396)][_0x1f23d8(0x46b)](_0x1f23d8(0xb23));}}}),_0x49c93c&&_0x49c93c[_0x21ddec(0x79b)](_0x21ddec(0x6a2),_0x51e56f=>{const _0x3eca86=_0x21ddec,_0x7e44bd=_0x51e56f[_0x3eca86(0xbe5)][_0x3eca86(0x397)];_0x365fe8[_0x3eca86(0x396)][_0x3eca86(0x51b)]('hidden',!_0x7e44bd),_0x459496[_0x3eca86(0x7b4)]=_0x7e44bd;}),_0x4a4384&&(_0x4a4384&&_0x4a4384['addEventListener'](_0x21ddec(0xd52),_0x4964ae=>{const _0x2a29db=_0x21ddec,_0x433b7a=_0x4964ae[_0x2a29db(0xbe5)]['closest'](_0x2a29db(0x84d)),_0x2e6379=_0x4964ae['target'][_0x2a29db(0xa9f)](_0x2a29db(0x714));if(_0x433b7a){const _0x189e5f=unescape(_0x433b7a[_0x2a29db(0x507)]['topic']);generateQuizForSingleTopic(_0x189e5f);}else{if(_0x2e6379){const _0x3a698d=unescape(_0x2e6379[_0x2a29db(0x507)][_0x2a29db(0xaf8)]);handleGenerateTeachingContent(_0x3a698d);}}}));}_0xfece18&&_0xfece18[_0x21ddec(0x79b)](_0x21ddec(0xd52),handleGenerateFromBlueprint);const _0x29ea58=document['getElementById']('parallel-test-upload-input'),_0x2ead30=document[_0x21ddec(0xca0)](_0x21ddec(0xc20));_0x29ea58&&_0x29ea58[_0x21ddec(0x79b)]('change',_0x46dede=>{const _0x5cafa3=_0x21ddec;_0x2ead30[_0x5cafa3(0x7b4)]=_0x46dede[_0x5cafa3(0xbe5)][_0x5cafa3(0x935)][_0x5cafa3(0xcda)]===0x0;});_0x2ead30&&_0x2ead30[_0x21ddec(0x79b)]('click',()=>{handleGenerateParallelTest();});loadQuizBtn[_0x21ddec(0x79b)](_0x21ddec(0xd52),handleLoadQuiz),startQuizBtn['addEventListener']('click',async()=>{const _0x4b611c=_0x21ddec,_0x2e2016=document[_0x4b611c(0xca0)]('student-name-select');currentStudentName=_0x2e2016[_0x4b611c(0xb85)];if(!currentStudentName){showMessage(_0x4b611c(0x37f));return;}try{const _0x19be76=currentQuizData['id'],_0x2e4efb=doc(db,_0x4b611c(0x25b)+appId+_0x4b611c(0x6f0)+_0x19be76+_0x4b611c(0x1ee),currentStudentName),_0x1e2eff=await getDoc(_0x2e4efb);!_0x1e2eff['exists']()?await setDoc(_0x2e4efb,{'studentName':currentStudentName,'startedAt':new Date()[_0x4b611c(0x9bb)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x2e4efb,{'startedAt':new Date()['toISOString']()});}catch(_0x133981){console['error'](_0x4b611c(0x90e),_0x133981),showMessage(_0x4b611c(0xb9c));return;}studentNameSelectionView[_0x4b611c(0x396)][_0x4b611c(0x46b)](_0x4b611c(0xb23)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x21ddec(0xca0)](_0x21ddec(0x6cc))[_0x21ddec(0x79b)]('click',showJoinGameView),document['getElementById'](_0x21ddec(0x3b5))['addEventListener'](_0x21ddec(0xd52),handleJoinLiveGame),document['getElementById'](_0x21ddec(0x5dc))['addEventListener'](_0x21ddec(0xd52),()=>showView(_0x21ddec(0xa9a)));const _0x5a9640=()=>{const _0x2e3e65=_0x21ddec,_0x5453d0=document['getElementById']('results-quiz-title')[_0x2e3e65(0x8a5)][_0x2e3e65(0xa12)](/[^a-z0-9]/gi,'_')[_0x2e3e65(0x38f)]();return _0x2e3e65(0xb55)+(_0x5453d0||'quiz');},_0x369fc4=document['getElementById'](_0x21ddec(0x7b8));_0x369fc4&&_0x369fc4['addEventListener'](_0x21ddec(0x5ca),_0x420657=>{const _0x19ae9d=_0x21ddec,_0x354b41=_0x420657[_0x19ae9d(0xbe5)][_0x19ae9d(0xb85)][_0x19ae9d(0x38f)]()[_0x19ae9d(0xc9e)](),_0x12317a=document['getElementById'](_0x19ae9d(0x555)),_0x5f3bce=_0x12317a['querySelectorAll'](_0x19ae9d(0x9fc));_0x5f3bce['forEach'](_0x564760=>{const _0x1a936e=_0x19ae9d;let _0x3a0d2a=![];const _0x436d65=_0x564760['querySelectorAll'](_0x1a936e(0x2ff));_0x436d65[_0x1a936e(0xb32)](_0x58c29e=>{const _0x46c4d3=_0x1a936e,_0x1e4c47=_0x58c29e[_0x46c4d3(0xb90)](_0x46c4d3(0x652))[_0x46c4d3(0x8a5)][_0x46c4d3(0x38f)]();_0x1e4c47[_0x46c4d3(0x771)](_0x354b41)?(_0x58c29e[_0x46c4d3(0x7fc)][_0x46c4d3(0x71f)]=_0x46c4d3(0x7d2),_0x3a0d2a=!![]):_0x58c29e[_0x46c4d3(0x7fc)][_0x46c4d3(0x71f)]=_0x46c4d3(0x9d3);}),_0x3a0d2a?_0x564760[_0x1a936e(0x7fc)]['display']=_0x1a936e(0x845):_0x564760[_0x1a936e(0x7fc)][_0x1a936e(0x71f)]='none';});});document[_0x21ddec(0xca0)](_0x21ddec(0xaf7))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>exportTableAsImage(_0x21ddec(0x496),_0x5a9640())),document[_0x21ddec(0xca0)](_0x21ddec(0x1f5))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>exportTableAsPDF('results-table',_0x5a9640())),document[_0x21ddec(0xca0)](_0x21ddec(0xc23))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>exportTableAsWord('results-table-container',_0x5a9640())),document['getElementById']('export-excel-btn')[_0x21ddec(0x79b)]('click',()=>exportTableAsExcel(_0x21ddec(0xca3),_0x5a9640()));const _0x587691=()=>{const _0x1e5bfb=_0x21ddec,_0x3703d2=document[_0x1e5bfb(0xca0)](_0x1e5bfb(0xc3b))[_0x1e5bfb(0x8a5)][_0x1e5bfb(0xa12)](/[^a-z0-9]/gi,'_')[_0x1e5bfb(0x38f)]();return _0x1e5bfb(0xb04)+(_0x3703d2||'quiz');};document['getElementById']('export-leaderboard-image-btn')[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>exportTableAsImage(_0x21ddec(0xb69),_0x587691())),document['getElementById']('export-leaderboard-pdf-btn')[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>exportTableAsPDF(_0x21ddec(0x67a),_0x587691())),document[_0x21ddec(0xca0)](_0x21ddec(0x2f4))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>exportTableAsWord(_0x21ddec(0xb69),_0x587691())),document['getElementById']('export-leaderboard-excel-btn')['addEventListener'](_0x21ddec(0xd52),()=>exportTableAsExcel(_0x21ddec(0x67a),_0x587691())),projectQuizzesList[_0x21ddec(0x79b)](_0x21ddec(0xd52),async _0x7753d=>{const _0x2f397d=_0x21ddec,_0x244714=_0x7753d[_0x2f397d(0xbe5)][_0x2f397d(0xa9f)]('.quiz-result-card'),_0x4231b3=_0x7753d[_0x2f397d(0xbe5)]['closest'](_0x2f397d(0x5e7)),_0x46f630=_0x7753d[_0x2f397d(0xbe5)]['closest'](_0x2f397d(0x801)),_0x504ef9=_0x7753d[_0x2f397d(0xbe5)]['closest'](_0x2f397d(0x4d6)),_0xe9160f=_0x7753d[_0x2f397d(0xbe5)][_0x2f397d(0xa9f)](_0x2f397d(0x545)),_0xe8039b=_0x7753d['target'][_0x2f397d(0xa9f)](_0x2f397d(0xd2d)),_0x3f73b6=_0x7753d['target'][_0x2f397d(0xa9f)]('.edit-quiz-btn'),_0x2c330c=_0x7753d['target'][_0x2f397d(0xa9f)](_0x2f397d(0xc48)),_0x498b72=_0x7753d['target'][_0x2f397d(0xa9f)]('.duplicate-quiz-btn'),_0x20f03c=_0x7753d['target']['closest']('.rename-quiz-btn'),_0x103b51=_0x7753d[_0x2f397d(0xbe5)][_0x2f397d(0xa9f)](_0x2f397d(0xc36)),_0x2280fc=_0x7753d[_0x2f397d(0xbe5)][_0x2f397d(0xa9f)](_0x2f397d(0x976)),_0x4cc59c=_0x7753d[_0x2f397d(0xbe5)][_0x2f397d(0xa9f)](_0x2f397d(0x6a3)),_0x1269f2=_0x7753d['target'][_0x2f397d(0xa9f)](_0x2f397d(0x405)),_0xffc59f=_0x7753d['target'][_0x2f397d(0xa9f)](_0x2f397d(0x921)),_0x247b77=_0x7753d[_0x2f397d(0xbe5)][_0x2f397d(0xa9f)](_0x2f397d(0xc63)),_0x11a2de=_0x7753d[_0x2f397d(0xbe5)]['closest'](_0x2f397d(0x51d)),_0x378608=_0x7753d[_0x2f397d(0xbe5)][_0x2f397d(0xa9f)](_0x2f397d(0x671)),_0x4932a1=_0x7753d[_0x2f397d(0xbe5)][_0x2f397d(0xa9f)](_0x2f397d(0x68e)),_0x1a2063=_0x7753d[_0x2f397d(0xbe5)][_0x2f397d(0xa9f)](_0x2f397d(0x7b2)),_0x217adb=_0x7753d[_0x2f397d(0xbe5)][_0x2f397d(0xa9f)]('.generate-easy-version-btn'),_0x2119b2=_0x7753d[_0x2f397d(0xbe5)][_0x2f397d(0xa9f)](_0x2f397d(0x8c6)),_0x6e1414=_0x7753d[_0x2f397d(0xbe5)][_0x2f397d(0xa9f)](_0x2f397d(0x718));if(_0x2119b2){const _0x315e02=_0x2119b2['dataset'][_0x2f397d(0xacf)],_0x5dcadf=_0x2119b2[_0x2f397d(0x507)][_0x2f397d(0x3c3)],_0x5a82b2=allQuizzes[_0x2f397d(0xd14)](_0x5700e6=>_0x5700e6['id']===_0x315e02);_0x5a82b2&&showGameStartConfirmationModal(_0x315e02,_0x5dcadf,_0x5a82b2[_0x2f397d(0xaf8)]);}else{if(_0x6e1414){const _0x2ff1f2=_0x6e1414[_0x2f397d(0x507)][_0x2f397d(0xacf)];handleStartLiveRace(_0x2ff1f2);}else{if(_0x1a2063){const _0x4f2782=_0x1a2063['dataset']['quizId'],_0x1d436c=document[_0x2f397d(0xca0)](_0x2f397d(0xb7d)+_0x4f2782);_0x1d436c&&_0x1d436c[_0x2f397d(0x396)][_0x2f397d(0x51b)](_0x2f397d(0xb23));}else{if(_0x4231b3){const _0x11cdb3=_0x4231b3[_0x2f397d(0x507)][_0x2f397d(0xacf)],_0x320440=allQuizzes[_0x2f397d(0xd14)](_0x11d47=>_0x11d47['id']===_0x11cdb3);_0x320440&&handleGenerateParallelPostTest(_0x320440);}else{if(_0x46f630)handleCompareResults(_0x46f630[_0x2f397d(0x507)]['quizId'],_0x46f630['dataset']['preTestId']);else{if(_0x504ef9){const _0x37d93c=_0x504ef9[_0x2f397d(0x507)][_0x2f397d(0xacf)],_0x5b4a76=allQuizzes[_0x2f397d(0xd14)](_0x33449d=>_0x33449d['id']===_0x37d93c);_0x5b4a76&&_0x5b4a76[_0x2f397d(0x563)]?(displayLessonPlan(_0x5b4a76['lessonPlan'],_0x5b4a76),showConfirmation(_0x2f397d(0x347),()=>handleGenerateLessonPlan(_0x37d93c)),document[_0x2f397d(0xca0)](_0x2f397d(0x42b))[_0x2f397d(0xb90)]('h3')[_0x2f397d(0x8a5)]=_0x2f397d(0x499),document['getElementById']('confirm-delete-btn')[_0x2f397d(0x8a5)]=_0x2f397d(0xb2c)):handleGenerateLessonPlan(_0x37d93c);}else{if(_0xe9160f)handleToggleStarQuiz(_0xe9160f[_0x2f397d(0x507)][_0x2f397d(0xacf)]);else{if(_0xe8039b)copyTextToClipboard(_0xe8039b['dataset'][_0x2f397d(0xacf)],_0x2f397d(0x5f8));else{if(_0x3f73b6)handleOpenQuizEditor(_0x3f73b6[_0x2f397d(0x507)]['quizId']);else{if(_0x2c330c)handleQuizSettings(_0x2c330c[_0x2f397d(0x507)][_0x2f397d(0xacf)]);else{if(_0x498b72)handleDuplicateQuiz(_0x498b72['dataset']['quizId']);else{if(_0x20f03c)handleRenameQuiz(_0x20f03c[_0x2f397d(0x507)][_0x2f397d(0xacf)],_0x20f03c[_0x2f397d(0x507)]['topic']);else{if(_0x103b51){const _0x30d8d1=_0x103b51[_0x2f397d(0x507)][_0x2f397d(0xacf)],_0x1f76fa=allQuizzes[_0x2f397d(0xd14)](_0x2bef85=>_0x2bef85['id']===_0x30d8d1);_0x1f76fa&&handleGenerateParallelFromBank(_0x1f76fa);}else{if(_0x2280fc)handleMoveQuiz(_0x2280fc[_0x2f397d(0x507)]['quizId']);else{if(_0x4cc59c)handleManualQuizPairing(_0x4cc59c[_0x2f397d(0x507)][_0x2f397d(0xacf)]);else{if(_0x1269f2)handleUnpairQuiz(_0x1269f2[_0x2f397d(0x507)][_0x2f397d(0xacf)]);else{if(_0xffc59f){const _0x12ee05=_0xffc59f[_0x2f397d(0x507)][_0x2f397d(0xacf)],_0x5a81a8=allQuizzes[_0x2f397d(0xd14)](_0x3bc04e=>_0x3bc04e['id']===_0x12ee05);if(_0x5a81a8)startPresentation(_0x5a81a8);}else{if(_0x247b77){const _0x3a1329=_0x247b77['dataset'][_0x2f397d(0xacf)],_0x6b7dd8=allQuizzes[_0x2f397d(0xd14)](_0x3b17f2=>_0x3b17f2['id']===_0x3a1329);_0x6b7dd8&&(currentQuizData=_0x6b7dd8,startAdminTest());}else{if(_0x11a2de)actionTargetId=_0x11a2de[_0x2f397d(0x507)][_0x2f397d(0xacf)],document[_0x2f397d(0xca0)]('export-pdf-modal')[_0x2f397d(0x396)][_0x2f397d(0x76f)](_0x2f397d(0xb23));else{if(_0x378608)showConfirmation(_0x2f397d(0x29c)+_0x378608['dataset'][_0x2f397d(0xaf8)]+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x378608[_0x2f397d(0x507)][_0x2f397d(0xacf)]));else{if(_0x4932a1)handleQuizStatus(_0x4932a1[_0x2f397d(0x507)][_0x2f397d(0xacf)]);else{if(_0x217adb)handleGenerateEasyVersionQuiz(_0x217adb['dataset'][_0x2f397d(0xacf)]);else _0x244714&&showQuizDetailView(_0x244714[_0x2f397d(0x507)][_0x2f397d(0xacf)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x21ddec(0xca0)](_0x21ddec(0x411))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>showView('student')),document[_0x21ddec(0xca0)](_0x21ddec(0x997))[_0x21ddec(0x79b)]('click',confirmAndStartTeamQuiz),document['getElementById'](_0x21ddec(0x67a))['querySelector'](_0x21ddec(0x841))[_0x21ddec(0x79b)](_0x21ddec(0xd52),_0x424aed=>{const _0x19c05d=_0x21ddec,_0x1adea3=_0x424aed[_0x19c05d(0xbe5)][_0x19c05d(0xa9f)](_0x19c05d(0x39e));if(!_0x1adea3||!_0x1adea3['dataset'][_0x19c05d(0x64b)])return;const _0x41a7c2=_0x1adea3['dataset'][_0x19c05d(0x64b)];if(quizLeaderboardSortBy===_0x41a7c2)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x19c05d(0x89c):'asc';else{quizLeaderboardSortBy=_0x41a7c2;const _0x5e16db=['studentName'];quizLeaderboardSortOrder=_0x5e16db[_0x19c05d(0x771)](_0x41a7c2)?'asc':_0x19c05d(0x89c);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x19c05d(0x791));}),document[_0x21ddec(0xca0)](_0x21ddec(0x8c0))['addEventListener'](_0x21ddec(0xd52),closePresentation),document[_0x21ddec(0xca0)](_0x21ddec(0x3c6))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x21ddec(0xca0)](_0x21ddec(0x948))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0x2f931b=_0x21ddec;currentQuizData[_0x2f931b(0x981)]&&currentPresentationSlide<currentQuizData[_0x2f931b(0x981)]['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x21ddec(0x79b)](_0x21ddec(0x97e),()=>{const _0x4e3895=_0x21ddec;!document[_0x4e3895(0x693)]&&(presentationModal['style'][_0x4e3895(0x71f)]='none');}),document[_0x21ddec(0xca0)](_0x21ddec(0x6b8))[_0x21ddec(0x79b)](_0x21ddec(0xd52),handleDeleteAllStudents),studentList['addEventListener'](_0x21ddec(0xd52),_0xd21700=>{const _0x95bba9=_0x21ddec,_0x304f48=_0xd21700[_0x95bba9(0xbe5)][_0x95bba9(0xa9f)](_0x95bba9(0xbeb));if(_0x304f48){const _0x5b68ce=_0x304f48['dataset'][_0x95bba9(0x972)];handleDeleteStudent(_0x5b68ce);}}),document[_0x21ddec(0xca0)]('generate-from-file-btn')['addEventListener'](_0x21ddec(0xd52),handleGenerateFromFileClick),fileUploadInput[_0x21ddec(0x79b)](_0x21ddec(0x6a2),_0x592324=>{const _0x3ebeaf=_0x21ddec,_0x2f34e9=_0x592324[_0x3ebeaf(0xbe5)][_0x3ebeaf(0x935)][0x0],_0x50f27c=document['getElementById'](_0x3ebeaf(0x618)),_0x241b6c=document['getElementById'](_0x3ebeaf(0x266)),_0x505d56=document[_0x3ebeaf(0xca0)](_0x3ebeaf(0x5ad));_0x2f34e9?(selectedFile=_0x2f34e9,_0x505d56[_0x3ebeaf(0x397)]?(_0x50f27c['disabled']=!![],analyzeFileForTopics(_0x2f34e9)):(_0x50f27c[_0x3ebeaf(0x7b4)]=![],_0x241b6c['classList']['add'](_0x3ebeaf(0xb23)))):(selectedFile=null,_0x50f27c[_0x3ebeaf(0x7b4)]=!![],_0x241b6c[_0x3ebeaf(0x396)][_0x3ebeaf(0x46b)]('hidden'));}),document[_0x21ddec(0xca0)](_0x21ddec(0x5ad))[_0x21ddec(0x79b)](_0x21ddec(0x6a2),_0x89ccc6=>{const _0x34a8ba=_0x21ddec,_0x43ac74=_0x89ccc6[_0x34a8ba(0xbe5)][_0x34a8ba(0x397)],_0x525e4e=document['getElementById']('generate-from-file-btn'),_0x51b41b=document['getElementById'](_0x34a8ba(0x266));_0x43ac74?(_0x525e4e['disabled']=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x51b41b[_0x34a8ba(0x396)][_0x34a8ba(0x76f)](_0x34a8ba(0xb23)),document[_0x34a8ba(0xca0)](_0x34a8ba(0x83f))[_0x34a8ba(0xa5b)]=_0x34a8ba(0x918))):(_0x51b41b[_0x34a8ba(0x396)]['add']('hidden'),_0x525e4e[_0x34a8ba(0x7b4)]=!selectedFile);}),document[_0x21ddec(0xca0)]('file-topics-list-container')['addEventListener'](_0x21ddec(0xd52),_0x200d51=>{const _0x5c38a2=_0x21ddec,_0x5ae741=_0x200d51[_0x5c38a2(0xbe5)][_0x5c38a2(0xa9f)](_0x5c38a2(0x8d8)),_0x2ef5f0=_0x200d51['target'][_0x5c38a2(0xa9f)]('.generate-content-btn');if(_0x5ae741){const _0x3f9e09=unescape(_0x5ae741[_0x5c38a2(0x507)]['topic']);generateHybridQuizForTopic(_0x3f9e09);}else{if(_0x2ef5f0){const _0x4ee395=unescape(_0x2ef5f0[_0x5c38a2(0x507)][_0x5c38a2(0xaf8)]),_0xb3a5a9=document[_0x5c38a2(0xca0)](_0x5c38a2(0x8d4))[_0x5c38a2(0xb85)];handleGenerateAndShowLesson(_0x4ee395,_0xb3a5a9);}}}),document['getElementById'](_0x21ddec(0x99e))[_0x21ddec(0x79b)](_0x21ddec(0x6a2),_0x166323=>{const _0x17faa1=_0x21ddec,_0x47df12=document['getElementById']('timer-duration-container'),_0x10ac45=document[_0x17faa1(0xca0)](_0x17faa1(0xb3d)),_0x193396=document[_0x17faa1(0xca0)](_0x17faa1(0x871));_0x166323[_0x17faa1(0xbe5)]['value']===_0x17faa1(0x9d3)?_0x47df12[_0x17faa1(0x396)][_0x17faa1(0x46b)](_0x17faa1(0xb23)):(_0x47df12[_0x17faa1(0x396)][_0x17faa1(0x76f)](_0x17faa1(0xb23)),_0x166323[_0x17faa1(0xbe5)][_0x17faa1(0xb85)]===_0x17faa1(0xc39)?(_0x10ac45['textContent']='ระยะเวลา\x20(นาที):',_0x193396['value']='10'):(_0x10ac45['textContent']=_0x17faa1(0x4e3),_0x193396[_0x17faa1(0xb85)]='30'));}),document[_0x21ddec(0xca0)](_0x21ddec(0x701))[_0x21ddec(0x79b)](_0x21ddec(0x6a2),_0x158644=>{const _0x44edea=_0x21ddec,_0x44a4c3=document['getElementById']('num-choices-container'),_0x15d0aa=_0x158644[_0x44edea(0xbe5)][_0x44edea(0xb85)],_0x235072=document[_0x44edea(0xb90)](_0x44edea(0x7b9)),_0x5cb709=document['getElementById'](_0x44edea(0x74b)),_0x381028=document[_0x44edea(0xca0)](_0x44edea(0x5a2));_0x15d0aa===_0x44edea(0x2ca)?_0x235072[_0x44edea(0x8a5)]=_0x44edea(0xb45):_0x235072['textContent']='จำนวนข้อ:',_0x15d0aa===_0x44edea(0x27b)||_0x15d0aa===_0x44edea(0xa44)||_0x15d0aa===_0x44edea(0xc5e)?_0x44a4c3[_0x44edea(0x396)][_0x44edea(0x76f)](_0x44edea(0xb23)):_0x44a4c3[_0x44edea(0x396)][_0x44edea(0x46b)](_0x44edea(0xb23)),_0x5cb709[_0x44edea(0x557)]=_0x381028['value'];}),document[_0x21ddec(0xca0)](_0x21ddec(0x5a2))[_0x21ddec(0x79b)](_0x21ddec(0x5ca),_0x495407=>{const _0x2c049c=_0x21ddec;document[_0x2c049c(0xca0)](_0x2c049c(0x74b))['max']=_0x495407[_0x2c049c(0xbe5)][_0x2c049c(0xb85)];}),document['getElementById'](_0x21ddec(0xbc1))[_0x21ddec(0x79b)]('change',_0xeff33=>{const _0x46e925=_0x21ddec,_0x4c84ad=document[_0x46e925(0xca0)](_0x46e925(0x760)),_0x123e36=document[_0x46e925(0xca0)](_0x46e925(0xa21)),_0x26847b=document['getElementById'](_0x46e925(0xaa4));_0xeff33[_0x46e925(0xbe5)]['value']==='none'?_0x4c84ad[_0x46e925(0x396)][_0x46e925(0x46b)]('hidden'):(_0x4c84ad[_0x46e925(0x396)][_0x46e925(0x76f)]('hidden'),_0xeff33[_0x46e925(0xbe5)][_0x46e925(0xb85)]===_0x46e925(0xc39)?_0x123e36[_0x46e925(0x8a5)]='ระยะเวลา\x20(นาที):':_0x123e36[_0x46e925(0x8a5)]=_0x46e925(0x4e3));}),document[_0x21ddec(0xca0)](_0x21ddec(0xb16))[_0x21ddec(0x79b)]('click',()=>{const _0x5f24fd=_0x21ddec;document[_0x5f24fd(0xca0)]('quiz-editor-modal')['classList'][_0x5f24fd(0x46b)](_0x5f24fd(0xb23));}),document[_0x21ddec(0xca0)](_0x21ddec(0x1c7))['addEventListener'](_0x21ddec(0xd52),()=>{const _0x3100e2=_0x21ddec;document[_0x3100e2(0xca0)](_0x3100e2(0xc8f))[_0x3100e2(0x396)][_0x3100e2(0x46b)](_0x3100e2(0xb23));}),document[_0x21ddec(0xca0)](_0x21ddec(0x6db))[_0x21ddec(0x79b)](_0x21ddec(0xd52),handleVerifyAnswersInEditor),document[_0x21ddec(0xca0)](_0x21ddec(0x765))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0x34c8f4=_0x21ddec;document[_0x34c8f4(0xca0)](_0x34c8f4(0xc8f))[_0x34c8f4(0x396)][_0x34c8f4(0x46b)](_0x34c8f4(0xb23)),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document['getElementById'](_0x21ddec(0xc29))[_0x21ddec(0x79b)](_0x21ddec(0xd52),handleAutoFixLatex);const _0x986810=document[_0x21ddec(0xca0)](_0x21ddec(0x719));_0x986810&&_0x986810[_0x21ddec(0x79b)]('click',_0x47b15c=>{const _0x15d195=_0x21ddec,_0xe34131=_0x47b15c['target']['closest'](_0x15d195(0x30a)),_0x271700=_0x47b15c[_0x15d195(0xbe5)][_0x15d195(0xa9f)](_0x15d195(0x63b));if(_0xe34131){const _0x5bbd9d=_0xe34131[_0x15d195(0xa9f)](_0x15d195(0x805)),_0x283c03=parseInt(_0x5bbd9d[_0x15d195(0x507)][_0x15d195(0x6a7)],0xa);handleRegenerateQuestionInEditor(_0x283c03);}else{if(_0x271700){const _0x127a4b=_0x271700['closest'](_0x15d195(0x805)),_0x546303=parseInt(_0x127a4b['dataset'][_0x15d195(0x6a7)],0xa);handleAiFixFormula(_0x546303);}}});document['getElementById'](_0x21ddec(0x442))[_0x21ddec(0x79b)](_0x21ddec(0xd52),openQuizBankModal),document['getElementById'](_0x21ddec(0xc85))[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0x27682f=_0x21ddec;document[_0x27682f(0xca0)]('quiz-bank-modal')['classList'][_0x27682f(0x46b)](_0x27682f(0xb23));}),document[_0x21ddec(0xca0)]('bank-quiz-search-input')['addEventListener'](_0x21ddec(0x5ca),_0x8c8021=>renderQuizBankList(_0x8c8021[_0x21ddec(0xbe5)][_0x21ddec(0xb85)]));const _0x271225=document['getElementById']('math-topics-checkbox-container');if(_0x271225){let _0x121faa=null;_0x271225[_0x21ddec(0x79b)](_0x21ddec(0xd52),_0x5e26c2=>{const _0x565626=_0x21ddec,_0x42a09b=_0x5e26c2['target'],_0x4c9dab=_0x42a09b[_0x565626(0xa9f)](_0x565626(0x876)),_0x327a88=_0x42a09b[_0x565626(0xa9f)](_0x565626(0x5b2)),_0x16fc06=_0x42a09b['closest'](_0x565626(0x9d8)),_0x2e9ba2=_0x42a09b['closest'](_0x565626(0x738));if(_0x327a88){_0x5e26c2[_0x565626(0x631)]();const _0x6fa32c=_0x327a88[_0x565626(0x507)]['id'],_0xaad90f=_0x327a88[_0x565626(0xa9f)](_0x565626(0xc41))[_0x565626(0xb90)]('.topic-name-display')['textContent'];showConfirmation(_0x565626(0xbe6)+_0xaad90f+'\x22?',()=>handleDeleteCustomTopic(_0x6fa32c));}else{if(_0x4c9dab){_0x5e26c2[_0x565626(0x631)]();_0x121faa&&toggleTopicEditMode(_0x121faa,![]);const _0x13d2ae=_0x4c9dab[_0x565626(0xa9f)](_0x565626(0xab8));_0x121faa=_0x13d2ae,toggleTopicEditMode(_0x13d2ae,!![]);}else{if(_0x16fc06){_0x5e26c2['preventDefault']();const _0x265b48=_0x16fc06[_0x565626(0x507)]['id'],_0x35b6e1=_0x16fc06[_0x565626(0xa9f)](_0x565626(0xab8)),_0x509bc7=_0x35b6e1[_0x565626(0xb90)](_0x565626(0x5e6))['value'];handleUpdateCustomTopic(_0x265b48,_0x509bc7),_0x121faa=null;}else{if(_0x2e9ba2){_0x5e26c2[_0x565626(0x631)]();const _0x388705=_0x2e9ba2[_0x565626(0xa9f)](_0x565626(0xab8));toggleTopicEditMode(_0x388705,![]),_0x121faa=null;}}}}}),document[_0x21ddec(0xca0)]('close-lesson-plan-modal-btn')[_0x21ddec(0x79b)](_0x21ddec(0xd52),()=>{const _0x1953e7=_0x21ddec;document[_0x1953e7(0xca0)](_0x1953e7(0x657))['classList']['add'](_0x1953e7(0xb23));}),document['getElementById'](_0x21ddec(0x2bc))[_0x21ddec(0x79b)]('click',()=>{const _0x4dd170=_0x21ddec;document[_0x4dd170(0xca0)](_0x4dd170(0x657))[_0x4dd170(0x396)][_0x4dd170(0x46b)]('hidden');}),document['getElementById']('export-lesson-pdf-btn')['addEventListener'](_0x21ddec(0xd52),handleExportLessonPDF);}document[_0x21ddec(0xca0)](_0x21ddec(0x4a8))[_0x21ddec(0x79b)]('click',()=>{const _0x2cd754=_0x21ddec;document['getElementById']('comparison-modal')[_0x2cd754(0x396)][_0x2cd754(0x46b)]('hidden');}),document[_0x21ddec(0xca0)]('close-comparison-modal-footer-btn')[_0x21ddec(0x79b)]('click',()=>{const _0x569808=_0x21ddec;document['getElementById'](_0x569808(0x5fc))[_0x569808(0x396)][_0x569808(0x46b)]('hidden');}),setupComparisonModalTabs(),document['body']['addEventListener']('click',function(_0x5b6d25){const _0x231bd3=_0x21ddec;if(_0x5b6d25['target'][_0x231bd3(0x396)]['contains'](_0x231bd3(0x851))){const _0x296539=unescape(_0x5b6d25[_0x231bd3(0xbe5)][_0x231bd3(0x507)][_0x231bd3(0xaf8)]);startSkillPractice(_0x296539);}}),document[_0x21ddec(0xca0)](_0x21ddec(0xa96))['addEventListener'](_0x21ddec(0xd52),_0x28e970=>{const _0x50e215=_0x21ddec,_0x50cee1=_0x28e970[_0x50e215(0xbe5)][_0x50e215(0xa9f)](_0x50e215(0x998));if(_0x50cee1){const _0x224a5e=_0x50cee1[_0x50e215(0x507)]['studentName'];handleDeleteSubmission(_0x224a5e);}});}async function handleStartGroupMode(_0x5ba975,_0x94645c=![]){const _0x3a7588=_0x569b7c,_0x36b585=allQuizzes['find'](_0x681111=>_0x681111['id']===_0x5ba975)||allQuizzesGlobal[_0x3a7588(0xd14)](_0x224f9d=>_0x224f9d['id']===_0x5ba975);if(!_0x36b585){showMessage(_0x3a7588(0x4f6));return;}currentQuizData=getShuffledQuiz(_0x36b585);const _0x38088e=Math['floor'](0x3e8+Math[_0x3a7588(0x7ff)]()*0x2328)[_0x3a7588(0xae2)]();try{const _0x562ff3=await addDoc(collection(db,_0x3a7588(0x25b)+appId+_0x3a7588(0x75a)),{'quizId':_0x36b585['id'],'projectId':_0x36b585['projectId'],'status':_0x3a7588(0x3e1),'pin':_0x38088e,'mode':_0x3a7588(0x449),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x94645c});currentTeamQuizId=_0x562ff3['id'],showView(_0x3a7588(0x532)),renderAdminTeamQuizDashboard(_0x38088e,_0x36b585[_0x3a7588(0xaf8)],'group'),listenForTeamQuizUpdates();}catch(_0x4f1bfe){console['error'](_0x3a7588(0x670),_0x4f1bfe),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0x511dd3=_0x569b7c;studentInitialView[_0x511dd3(0x396)][_0x511dd3(0x46b)](_0x511dd3(0xb23)),document[_0x511dd3(0xca0)](_0x511dd3(0x66c))['classList'][_0x511dd3(0x76f)](_0x511dd3(0xb23));const _0x20555e=document[_0x511dd3(0xca0)]('progress-project-select'),_0x39c5d6=document[_0x511dd3(0xca0)]('progress-student-select'),_0x30b243=document[_0x511dd3(0xca0)]('student-progress-content');_0x30b243[_0x511dd3(0xa5b)]=_0x511dd3(0x99c),_0x39c5d6[_0x511dd3(0xa5b)]=_0x511dd3(0x780),_0x39c5d6[_0x511dd3(0x7b4)]=!![],_0x20555e['innerHTML']=_0x511dd3(0x80e);if(allProjects[_0x511dd3(0xcda)]===0x0){const _0x25a38e=collection(db,_0x511dd3(0x25b)+appId+_0x511dd3(0x1bf)),_0x1237d6=await getDocs(_0x25a38e);allProjects=_0x1237d6['docs'][_0x511dd3(0xc3d)](_0x2c51c3=>({'id':_0x2c51c3['id'],..._0x2c51c3['data']()}));}const _0x49d1b5=allProjects[_0x511dd3(0x959)](_0x3b473c=>_0x3b473c[_0x511dd3(0x3ee)]?.['showInStudentDashboard']!==![]);_0x49d1b5[_0x511dd3(0x64b)]((_0x245ce9,_0x598f43)=>_0x245ce9[_0x511dd3(0x8af)][_0x511dd3(0x8a1)](_0x598f43[_0x511dd3(0x8af)],'th')),_0x20555e[_0x511dd3(0xa5b)]=_0x511dd3(0xc9d)+_0x49d1b5[_0x511dd3(0xc3d)](_0x5273a7=>'<option\x20value=\x22'+_0x5273a7['id']+'\x22>'+_0x5273a7[_0x511dd3(0x8af)]+_0x511dd3(0xaed))[_0x511dd3(0xcbb)](''),_0x20555e[_0x511dd3(0x22b)]=()=>{const _0x574ae9=_0x511dd3,_0x3e7e81=_0x39c5d6[_0x574ae9(0xb85)],_0x54c02b=_0x20555e[_0x574ae9(0xb85)];_0x39c5d6['disabled']=!![],_0x39c5d6[_0x574ae9(0xa5b)]=_0x574ae9(0x780),_0x30b243[_0x574ae9(0xa5b)]=_0x574ae9(0x24e);if(!_0x54c02b)return;const _0x5ab6c4=allProjects[_0x574ae9(0xd14)](_0x163906=>_0x163906['id']===_0x54c02b);if(!_0x5ab6c4||!_0x5ab6c4[_0x574ae9(0x9bf)])return;const _0x7758fd=()=>{const _0x1f40dc=_0x574ae9;_0x39c5d6[_0x1f40dc(0xa5b)]=_0x1f40dc(0x780)+_0x5ab6c4[_0x1f40dc(0x9bf)][_0x1f40dc(0xc3d)](_0x2bcef6=>_0x1f40dc(0x2df)+_0x2bcef6+'\x22>'+_0x2bcef6+_0x1f40dc(0xaed))[_0x1f40dc(0xcbb)](''),_0x39c5d6[_0x1f40dc(0x7b4)]=![];const _0x213263=Array[_0x1f40dc(0x95b)](_0x39c5d6[_0x1f40dc(0xb7c)])[_0x1f40dc(0xc3d)](_0x52b1d9=>_0x52b1d9[_0x1f40dc(0xb85)]);if(_0x3e7e81&&_0x213263['includes'](_0x3e7e81))_0x39c5d6['value']=_0x3e7e81,_0x39c5d6[_0x1f40dc(0x4f4)](new Event(_0x1f40dc(0x6a2)));else _0x5ab6c4[_0x1f40dc(0x9bf)][_0x1f40dc(0xcda)]===0x1&&(_0x39c5d6['value']=_0x5ab6c4['students'][0x0],_0x39c5d6[_0x1f40dc(0x4f4)](new Event(_0x1f40dc(0x6a2))));};if(_0x5ab6c4[_0x574ae9(0x3ee)]?.[_0x574ae9(0x994)]){if(sessionStorage['getItem'](_0x574ae9(0x5b4)+_0x54c02b)===_0x574ae9(0x6c7)){_0x7758fd();return;}const _0x21c1ea=document[_0x574ae9(0xca0)](_0x574ae9(0x2c0)),_0xb9f199=document['getElementById']('confirm-passcode-btn'),_0x2635ac=document[_0x574ae9(0xca0)](_0x574ae9(0x7f8)),_0x442c9d=document['getElementById'](_0x574ae9(0xbdf)),_0x38df94=document[_0x574ae9(0xca0)](_0x574ae9(0x951));document[_0x574ae9(0xca0)]('passcode-prompt-message')['textContent']=_0x574ae9(0x7c2)+_0x5ab6c4[_0x574ae9(0x8af)],_0x442c9d['value']='',_0x38df94['classList'][_0x574ae9(0x46b)]('hidden'),_0x21c1ea[_0x574ae9(0x396)][_0x574ae9(0x76f)](_0x574ae9(0xb23));const _0x2b39ef=()=>{const _0x2bb3b3=_0x574ae9,_0x1de4c2=_0x442c9d[_0x2bb3b3(0xb85)][_0x2bb3b3(0xc9e)]();_0x1de4c2===_0x5ab6c4[_0x2bb3b3(0x3ee)]['passcode']?(sessionStorage[_0x2bb3b3(0x1f9)](_0x2bb3b3(0x5b4)+_0x54c02b,_0x2bb3b3(0x6c7)),_0x21c1ea[_0x2bb3b3(0x396)][_0x2bb3b3(0x46b)](_0x2bb3b3(0xb23)),_0x7758fd(),_0xb9f199[_0x2bb3b3(0xd44)](_0x2bb3b3(0xd52),_0x2b39ef)):_0x38df94['classList'][_0x2bb3b3(0x76f)]('hidden');};_0xb9f199[_0x574ae9(0xbe8)]=_0x2b39ef,_0x2635ac[_0x574ae9(0xbe8)]=()=>{const _0x28feae=_0x574ae9;_0x21c1ea[_0x28feae(0x396)][_0x28feae(0x46b)](_0x28feae(0xb23)),_0x20555e[_0x28feae(0xb85)]='',_0xb9f199['removeEventListener'](_0x28feae(0xd52),_0x2b39ef);};}else _0x7758fd();},_0x39c5d6[_0x511dd3(0x22b)]=()=>{const _0x4e6253=_0x511dd3,_0x16deaf=_0x20555e[_0x4e6253(0xb85)],_0x52050a=_0x39c5d6[_0x4e6253(0xb85)];_0x16deaf&&_0x52050a&&renderStudentProgressDashboard(_0x16deaf,_0x52050a);};}async function confirmAndJoinSyncGame(){const _0x3dff9b=_0x569b7c,_0x3b957f=Array[_0x3dff9b(0x95b)](document[_0x3dff9b(0x31c)](_0x3dff9b(0xd12)))[_0x3dff9b(0xc3d)](_0x20fa4a=>_0x20fa4a[_0x3dff9b(0xb85)]);if(_0x3b957f[_0x3dff9b(0xcda)]===0x0){showMessage(_0x3dff9b(0x1ec));return;}localTeamPlayers=_0x3b957f,localPlayerTurnIndex=0x0;const _0x4041d6=doc(db,_0x3dff9b(0x25b)+appId+_0x3dff9b(0x1f4),currentLiveGameId);try{const _0x1964bd={};_0x3b957f['forEach'](_0x21d997=>{const _0x16d7fc=_0x3dff9b;_0x1964bd[_0x16d7fc(0x5c8)+_0x21d997]={'name':_0x21d997,'score':0x0,'answered':![],'status':'active'};}),await updateDoc(_0x4041d6,_0x1964bd),document[_0x3dff9b(0xca0)](_0x3dff9b(0xa86))[_0x3dff9b(0x396)][_0x3dff9b(0x46b)](_0x3dff9b(0xb23)),currentStudentName=_0x3b957f[0x0],listenForSyncGameUpdates();const _0x20349a={'gameId':currentLiveGameId,'mode':'sync','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x3dff9b(0x1f9)](_0x3dff9b(0xc0b),JSON['stringify'](_0x20349a)),currentMode!==_0x3dff9b(0x901)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x3dff9b(0x79b)]('fullscreenchange',handleFullscreenChange),document[_0x3dff9b(0x79b)](_0x3dff9b(0xa99),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x3dff9b(0x664),resetDimTimer),window[_0x3dff9b(0x79b)]('mousedown',resetDimTimer),window['addEventListener'](_0x3dff9b(0xae4),resetDimTimer),window['addEventListener']('keydown',resetDimTimer),resetDimTimer());}catch(_0xef5bf8){console[_0x3dff9b(0x728)](_0x3dff9b(0x864),_0xef5bf8),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function resumeActiveGameSession(){const _0x226ea1=_0x569b7c,_0x1acf82=sessionStorage[_0x226ea1(0xb03)](_0x226ea1(0xc0b));if(!_0x1acf82)return;const _0x4d4cdb=JSON[_0x226ea1(0x608)](_0x1acf82),{gameId:_0x12e72e,mode:_0x2a7ee7,players:_0x2ae4ee,turnIndex:_0x68ad64}=_0x4d4cdb;try{let _0x213c5c,_0x4be4e2;_0x2a7ee7===_0x226ea1(0x6c1)?_0x213c5c=doc(db,'artifacts/'+appId+_0x226ea1(0x1f4),_0x12e72e):_0x213c5c=doc(db,_0x226ea1(0x25b)+appId+_0x226ea1(0x75a),_0x12e72e);_0x4be4e2=await getDoc(_0x213c5c);if(!_0x4be4e2[_0x226ea1(0x6c9)]()||_0x4be4e2['data']()[_0x226ea1(0xc81)]==='finished'||_0x4be4e2[_0x226ea1(0x7f5)]()[_0x226ea1(0xc81)]===_0x226ea1(0xa09)){sessionStorage['removeItem'](_0x226ea1(0xc0b));return;}console[_0x226ea1(0x2fa)]('กำลังกลับเข้าสู่เกม\x20'+_0x2a7ee7+_0x226ea1(0x4da)+_0x12e72e+')'),localTeamPlayers=_0x2ae4ee,localPlayerTurnIndex=_0x68ad64;if(_0x2a7ee7===_0x226ea1(0x6c1))currentLiveGameId=_0x12e72e,currentStudentName=_0x2ae4ee[0x0],showView(_0x226ea1(0x532)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x12e72e;const _0xa6d41a=_0x4be4e2['data'](),_0x2bc9a4=doc(db,_0x226ea1(0x25b)+appId+_0x226ea1(0x72c),_0xa6d41a[_0x226ea1(0xacf)]),_0x5808d9=await getDoc(_0x2bc9a4);_0x5808d9[_0x226ea1(0x6c9)]()&&(currentQuizData=getShuffledQuiz({'id':_0x5808d9['id'],..._0x5808d9[_0x226ea1(0x7f5)]()}),showView(_0x226ea1(0xa9a)),studentInitialView[_0x226ea1(0x396)][_0x226ea1(0x46b)](_0x226ea1(0xb23)),renderTeamQuizQuestion());}}catch(_0x2a0053){console[_0x226ea1(0x728)](_0x226ea1(0x318),_0x2a0053),sessionStorage['removeItem'](_0x226ea1(0xc0b));}}function activateFileInputAreaWithLoadedFile(){const _0x38b64d=_0x569b7c,_0x495e0a=document[_0x38b64d(0xca0)](_0x38b64d(0x618)),_0x238f55=document[_0x38b64d(0xca0)](_0x38b64d(0x266)),_0x16f4d3=document[_0x38b64d(0xca0)](_0x38b64d(0x5ad));selectedFile?_0x16f4d3[_0x38b64d(0x397)]?(_0x495e0a[_0x38b64d(0x7b4)]=!![],analyzeFileForTopics(selectedFile)):(_0x495e0a[_0x38b64d(0x7b4)]=![],_0x238f55[_0x38b64d(0x396)][_0x38b64d(0x46b)](_0x38b64d(0xb23))):(_0x495e0a[_0x38b64d(0x7b4)]=!![],_0x238f55['classList'][_0x38b64d(0x46b)](_0x38b64d(0xb23)));}async function handleKickPlayerSync(_0x1e0651){const _0x413ef4=_0x569b7c;if(!currentLiveGameId||!_0x1e0651)return;const _0x198d9c=doc(db,_0x413ef4(0x25b)+appId+_0x413ef4(0x1f4),currentLiveGameId),_0x17a743={};_0x17a743[_0x413ef4(0x5c8)+_0x1e0651+_0x413ef4(0x341)]=_0x413ef4(0x6e6);try{await updateDoc(_0x198d9c,_0x17a743);}catch(_0x57118c){console['error']('Failed\x20to\x20kick\x20player\x20'+_0x1e0651+_0x413ef4(0x1d5),_0x57118c),showMessage(_0x413ef4(0x637));}}async function renderStudentProgressDashboard(_0x326f5b,_0x79297b){const _0x19637b=_0x569b7c,_0x2ba22b=document[_0x19637b(0xca0)](_0x19637b(0x414));_0x2ba22b[_0x19637b(0xa5b)]=_0x19637b(0x3b4);try{const _0x24bee0=collection(db,_0x19637b(0x25b)+appId+_0x19637b(0x72c)),_0x15ca80=query(_0x24bee0,where(_0x19637b(0xadc),'==',_0x326f5b)),_0x1b2021=await getDocs(_0x15ca80),_0xfd6af6=_0x1b2021[_0x19637b(0x53c)][_0x19637b(0xc3d)](_0x2c7ec8=>({'id':_0x2c7ec8['id'],..._0x2c7ec8[_0x19637b(0x7f5)]()})),_0x3842ba=_0xfd6af6[_0x19637b(0xc3d)](_0x77ece3=>getDoc(doc(db,_0x19637b(0x25b)+appId+'/public/data/quizzes/'+_0x77ece3['id']+'/submissions',_0x79297b))),_0x2bb793=await Promise[_0x19637b(0x606)](_0x3842ba),_0xd27aa9=_0x2bb793[_0x19637b(0x959)](_0xa90834=>_0xa90834[_0x19637b(0x6c9)]())[_0x19637b(0xc3d)](_0x320c27=>({'quizId':_0x320c27[_0x19637b(0xcd7)][_0x19637b(0x254)][_0x19637b(0x254)]['id'],..._0x320c27['data']()}));if(_0xd27aa9['length']===0x0){_0x2ba22b[_0x19637b(0xa5b)]=_0x19637b(0x673);return;}let _0x338720=_0x19637b(0xd42);_0xd27aa9[_0x19637b(0xb32)](_0x208696=>{const _0x12395f=_0x19637b,_0x444f82=_0xfd6af6[_0x12395f(0xd14)](_0x585da3=>_0x585da3['id']===_0x208696[_0x12395f(0xacf)]),_0x4de1a0=_0x444f82[_0x12395f(0x3ee)]?.[_0x12395f(0x209)]||_0x12395f(0xcf7),_0x39dd5c=_0x444f82[_0x12395f(0x3ee)]?.[_0x12395f(0x960)]??0x0,_0x90ac2b=_0x208696[_0x12395f(0x7c9)]>=_0x39dd5c;let _0x6abf49='',_0x3515ea=_0x12395f(0x7a0);switch(_0x4de1a0){case _0x12395f(0xcf7):case _0x12395f(0x5e2):_0x3515ea=_0x90ac2b?'bg-green-50':_0x12395f(0x989),_0x6abf49=_0x12395f(0x601)+(_0x90ac2b?_0x12395f(0x2b8):_0x12395f(0x1ce))+'\x22>'+_0x208696['bestScore']+'\x20/\x20'+_0x208696[_0x12395f(0x7cc)]+_0x12395f(0xae6)+(_0x90ac2b?_0x12395f(0xb79):'bg-red-200\x20text-red-800')+'\x22>'+(_0x90ac2b?_0x12395f(0x636):_0x12395f(0xb00))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x12395f(0x385):_0x3515ea=_0x90ac2b?_0x12395f(0x2db):_0x12395f(0x989),_0x6abf49=_0x12395f(0x45e)+(_0x90ac2b?'bg-green-200\x20text-green-800':_0x12395f(0x4e6))+'\x22>'+(_0x90ac2b?_0x12395f(0x636):_0x12395f(0xb00))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x12395f(0x573):_0x3515ea=_0x12395f(0x435),_0x6abf49=_0x12395f(0x8eb);break;}_0x338720+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x3515ea+_0x12395f(0xcdf)+_0x444f82['topic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x208696[_0x12395f(0xc14)][_0x12395f(0xcda)]+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x208696[_0x12395f(0xd3b)])[_0x12395f(0x9dc)]('th-TH')+_0x12395f(0x423)+_0x6abf49+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x338720+=_0x19637b(0x3f0),_0x2ba22b[_0x19637b(0xa5b)]=_0x338720;}catch(_0x47f4b0){console[_0x19637b(0x728)](_0x19637b(0x56b),_0x47f4b0),_0x2ba22b[_0x19637b(0xa5b)]=_0x19637b(0x46c);}}function renderQuizBankListForMultiSelect(_0x2fd15e=''){const _0x2e5df3=_0x569b7c,_0x1e5d3b=document[_0x2e5df3(0xca0)]('bank-quiz-list'),_0x362cb7=_0x2fd15e['toLowerCase']()[_0x2e5df3(0xc9e)](),_0x37871c=allQuizzesGlobal[_0x2e5df3(0xc3d)](_0x2509c6=>({..._0x2509c6,'projectName':allProjects[_0x2e5df3(0xd14)](_0x3d567d=>_0x3d567d['id']===_0x2509c6[_0x2e5df3(0xadc)])?.[_0x2e5df3(0x8af)]||_0x2e5df3(0xbac)}))[_0x2e5df3(0x959)](_0x5857c2=>(_0x5857c2[_0x2e5df3(0xaf8)]||'')[_0x2e5df3(0x38f)]()[_0x2e5df3(0x771)](_0x362cb7)||(_0x5857c2[_0x2e5df3(0x8af)]||'')[_0x2e5df3(0x38f)]()[_0x2e5df3(0x771)](_0x362cb7)||_0x5857c2['id'][_0x2e5df3(0xae2)]()[_0x2e5df3(0x771)](_0x362cb7));_0x1e5d3b[_0x2e5df3(0xa5b)]=_0x37871c[_0x2e5df3(0xcda)]?_0x37871c['map'](_0x9de422=>_0x2e5df3(0x311)+_0x9de422['id']+_0x2e5df3(0x4d8)+(_0x9de422[_0x2e5df3(0xaf8)]||_0x2e5df3(0x6fe))+_0x2e5df3(0x9dd)+_0x9de422[_0x2e5df3(0x8af)]+_0x2e5df3(0xa3e)+_0x9de422['id']+_0x2e5df3(0x90a))[_0x2e5df3(0xcbb)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x1e5d3b[_0x2e5df3(0x22b)]=()=>{const _0x19b1e4=_0x2e5df3,_0x88765b=document[_0x19b1e4(0xb90)](_0x19b1e4(0xaa1));document[_0x19b1e4(0xca0)](_0x19b1e4(0x455))[_0x19b1e4(0x7b4)]=!_0x88765b;};}function setupStudentProgressListeners(){const _0x2d7f8a=_0x569b7c;document['getElementById']('view-my-progress-btn')[_0x2d7f8a(0x79b)]('click',showStudentProgressView),document[_0x2d7f8a(0xca0)]('back-to-student-home-btn')[_0x2d7f8a(0x79b)]('click',()=>{const _0x6967be=_0x2d7f8a;document[_0x6967be(0xca0)](_0x6967be(0x66c))[_0x6967be(0x396)][_0x6967be(0x46b)]('hidden'),document['getElementById']('student-initial-view')[_0x6967be(0x396)][_0x6967be(0x76f)](_0x6967be(0xb23));});}async function startSkillPractice(_0x51a592){const _0x58c0a9=_0x569b7c;studentResultArea[_0x58c0a9(0x396)]['add'](_0x58c0a9(0xb23)),studentQuizArea[_0x58c0a9(0xa5b)]=_0x58c0a9(0x8fe),studentQuizArea[_0x58c0a9(0x396)][_0x58c0a9(0x76f)]('hidden');try{const _0x17a936=await getStandardizedTopic(_0x51a592);console[_0x58c0a9(0x2fa)](_0x58c0a9(0x1e5)+_0x51a592+_0x58c0a9(0x627)+_0x17a936+'\x22'),studentQuizArea[_0x58c0a9(0xb90)]('p')[_0x58c0a9(0x8a5)]=_0x58c0a9(0x640)+_0x17a936+_0x58c0a9(0x35c);const _0x4cf14d=collection(db,'artifacts/'+appId+_0x58c0a9(0xac7)),_0x270140=query(_0x4cf14d,where(_0x58c0a9(0xaf8),'==',_0x17a936)),_0x30a757=await getDocs(_0x270140);if(_0x30a757[_0x58c0a9(0x53c)][_0x58c0a9(0xcda)]>=0x3){console[_0x58c0a9(0x2fa)](_0x58c0a9(0x9e8)+_0x30a757[_0x58c0a9(0x53c)][_0x58c0a9(0xcda)]+_0x58c0a9(0x34a)+_0x17a936+_0x58c0a9(0xc02));let _0x2616f4=_0x30a757[_0x58c0a9(0x53c)][_0x58c0a9(0xc3d)](_0x32d115=>_0x32d115[_0x58c0a9(0x7f5)]());shuffleArray(_0x2616f4);const _0x296295={'topic':_0x17a936,'questions':_0x2616f4[_0x58c0a9(0x3f5)](0x0,0x3)};displaySkillPracticeDrill(_0x296295);}else{console[_0x58c0a9(0x2fa)](_0x58c0a9(0xcfd)+_0x17a936+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x3e79a8=await generatePracticeQuestions(_0x17a936);await saveDrillToPracticeBank(_0x3e79a8,_0x17a936),displaySkillPracticeDrill(_0x3e79a8);}}catch(_0x4ab7c9){console[_0x58c0a9(0x728)](_0x58c0a9(0xd51),_0x4ab7c9),showMessage(_0x58c0a9(0x8ee)),studentQuizArea['classList'][_0x58c0a9(0x46b)](_0x58c0a9(0xb23)),studentResultArea['classList'][_0x58c0a9(0x76f)](_0x58c0a9(0xb23));}}async function saveDrillToPracticeBank(_0x5978d0,_0x126ef5){const _0x319261=_0x569b7c,_0x18bc6a=collection(db,_0x319261(0x25b)+appId+_0x319261(0xac7)),_0x104e4a=writeBatch(db);_0x5978d0['questions'][_0x319261(0xb32)](_0x50c062=>{const _0x3b8405=_0x319261,_0x2d1361=doc(_0x18bc6a);_0x104e4a[_0x3b8405(0xa6b)](_0x2d1361,{'topic':_0x126ef5,'questionText':_0x50c062[_0x3b8405(0x332)],'options':_0x50c062[_0x3b8405(0xb7c)],'correctAnswerIndex':_0x50c062['correctAnswerIndex'],'explanation':_0x50c062[_0x3b8405(0x420)],'createdAt':serverTimestamp()});});try{await _0x104e4a[_0x319261(0xad5)](),console[_0x319261(0x2fa)](_0x319261(0x7a7)+_0x5978d0[_0x319261(0x981)][_0x319261(0xcda)]+_0x319261(0x4d7));}catch(_0x44837f){console['error'](_0x319261(0xc70),_0x44837f);}}function _0x1447(_0x97fd32,_0x15375c){const _0x4cf954=_0x4cf9();return _0x1447=function(_0x1447bb,_0x520c77){_0x1447bb=_0x1447bb-0x1b9;let _0x58362d=_0x4cf954[_0x1447bb];return _0x58362d;},_0x1447(_0x97fd32,_0x15375c);}async function getStandardizedTopic(_0x3dab66){const _0x14d5c7=_0x569b7c,_0x542949=_0x14d5c7(0x9e6)+_0x3dab66+_0x14d5c7(0x92c),_0xe76389={'type':'OBJECT','properties':{'standardTopic':{'type':_0x14d5c7(0xb67)}},'required':[_0x14d5c7(0x737)]};try{const _0x4a65ba=await callAnalysisApi(_0x542949,_0xe76389);return _0x4a65ba['standardTopic'];}catch(_0xb4f22c){return console[_0x14d5c7(0x728)]('Failed\x20to\x20get\x20standardized\x20topic:',_0xb4f22c),_0x3dab66;}}async function handleGenerateEasyVersionQuiz(_0x14b716){const _0x2b2ea6=_0x569b7c,_0x1d38af=document[_0x2b2ea6(0xca0)](_0x2b2ea6(0x395)),_0x24f0c1=document['getElementById'](_0x2b2ea6(0x43a));_0x24f0c1[_0x2b2ea6(0x396)][_0x2b2ea6(0x46b)](_0x2b2ea6(0xb23));const _0x4de063=_0x2b2ea6(0xcb8);_0x1d38af['insertAdjacentHTML'](_0x2b2ea6(0x265),_0x4de063);try{const _0x402384=allQuizzes['find'](_0x88a674=>_0x88a674['id']===_0x14b716);if(!_0x402384)throw new Error(_0x2b2ea6(0xa02));const _0x4fb3e5=_0x2b2ea6(0x633)+JSON[_0x2b2ea6(0x25e)](_0x402384[_0x2b2ea6(0x981)])+_0x2b2ea6(0x2b9),_0x20be91={'type':_0x2b2ea6(0xbcd),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x2b2ea6(0xb67)},'options':{'type':_0x2b2ea6(0x7c4),'items':{'type':_0x2b2ea6(0xb67)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2b2ea6(0xb67)},'imageCode':{'type':_0x2b2ea6(0xb67)}},'required':[_0x2b2ea6(0x332),_0x2b2ea6(0x879),_0x2b2ea6(0x420)]},_0x126989={'type':_0x2b2ea6(0xbcd),'properties':{'questions':{'type':_0x2b2ea6(0x7c4),'items':_0x20be91}},'required':[_0x2b2ea6(0x981)]},_0x4bf24a=await callAnalysisApi(_0x4fb3e5,_0x126989);_0x4bf24a&&_0x4bf24a[_0x2b2ea6(0x981)]&&_0x4bf24a[_0x2b2ea6(0x981)][_0x2b2ea6(0xb32)](_0x5dd079=>{const _0x3dee79=_0x2b2ea6;if(_0x5dd079['hasOwnProperty'](_0x3dee79(0x456))){const _0x34bced=String(_0x5dd079[_0x3dee79(0x456)])[_0x3dee79(0xc9e)]();(_0x34bced===''||_0x34bced[_0x3dee79(0x38f)]()===_0x3dee79(0x264)||!_0x34bced[_0x3dee79(0x59b)]('<svg'))&&delete _0x5dd079[_0x3dee79(0x456)];}});if(!_0x4bf24a||!_0x4bf24a[_0x2b2ea6(0x981)]||_0x4bf24a[_0x2b2ea6(0x981)][_0x2b2ea6(0xcda)]===0x0)throw new Error(_0x2b2ea6(0x3e3));const _0x211316=_0x4bf24a[_0x2b2ea6(0x981)][_0x2b2ea6(0xc3d)]((_0x463930,_0x4bdcb0)=>({..._0x463930,'id':'q_'+Date[_0x2b2ea6(0x721)]()+'_'+_0x4bdcb0})),_0x9ac0dd={'projectId':_0x402384['projectId'],'quizType':_0x402384[_0x2b2ea6(0x5c7)],'settings':_0x402384[_0x2b2ea6(0x3ee)],'createdBy':_0x402384[_0x2b2ea6(0x296)],'status':_0x2b2ea6(0x88e),'topic':_0x2b2ea6(0x2ee)+_0x402384[_0x2b2ea6(0xaf8)],'questions':_0x211316,'createdAt':new Date()[_0x2b2ea6(0x9bb)](),'quizMode':'standard','pairedQuizId':null};let _0x30fc50;while(!![]){_0x30fc50=Math['floor'](0x3e8+Math[_0x2b2ea6(0x7ff)]()*0x2328)[_0x2b2ea6(0xae2)]();const _0x5c7204=await getDoc(doc(db,_0x2b2ea6(0x25b)+appId+'/public/data/quizzes',_0x30fc50));if(!_0x5c7204[_0x2b2ea6(0x6c9)]())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x30fc50),_0x9ac0dd),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x167039){console[_0x2b2ea6(0x728)](_0x2b2ea6(0xb6f),_0x167039),showMessage(_0x2b2ea6(0xc90)+_0x167039[_0x2b2ea6(0x7d7)]);}finally{const _0x4cd08a=document[_0x2b2ea6(0xca0)](_0x2b2ea6(0x2b4));_0x4cd08a&&_0x4cd08a[_0x2b2ea6(0x76f)](),_0x24f0c1[_0x2b2ea6(0x396)][_0x2b2ea6(0x76f)](_0x2b2ea6(0xb23));}}async function generatePracticeQuestions(_0x2ee0da){const _0x154094=_0x569b7c,_0x20fdbc=_0x154094(0xb19)+_0x2ee0da+_0x154094(0x6b4)+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x416e38={'type':_0x154094(0xbcd),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x154094(0x7c4),'items':{'type':_0x154094(0xb67)}},'correctAnswerIndex':{'type':_0x154094(0x911)},'explanation':{'type':_0x154094(0xb67)}},'required':[_0x154094(0x332),'options',_0x154094(0x481),_0x154094(0x420)]},_0x2a0e4b={'type':_0x154094(0xbcd),'properties':{'topic':{'type':_0x154094(0xb67)},'questions':{'type':'ARRAY','items':_0x416e38}},'required':['topic','questions']};return await callAnalysisApi(_0x20fdbc,_0x2a0e4b);}function displayLessonPlan(_0x2d1688,_0x174280){const _0x5c9fbf=_0x569b7c,_0x167c00='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x174280[_0x5c9fbf(0xaf8)]+_0x5c9fbf(0x65f)+_0x2d1688[_0x5c9fbf(0xa9e)][_0x5c9fbf(0xc3d)](_0x542449=>_0x5c9fbf(0x9a9)+_0x542449+_0x5c9fbf(0x644))[_0x5c9fbf(0xcbb)]('')+_0x5c9fbf(0x4eb)+_0x2d1688[_0x5c9fbf(0xb43)]+_0x5c9fbf(0x202)+_0x2d1688['practiceProblems'][_0x5c9fbf(0xc3d)](_0x4b10de=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x4b10de['question']+_0x5c9fbf(0x9a2)+_0x4b10de['solution']+'</p></div>')[_0x5c9fbf(0xcbb)]('')+_0x5c9fbf(0xb6a);document['getElementById'](_0x5c9fbf(0xbb1))[_0x5c9fbf(0x8a5)]=_0x5c9fbf(0x38a)+_0x174280[_0x5c9fbf(0xaf8)],document['getElementById'](_0x5c9fbf(0x22f))['innerHTML']=_0x167c00,document[_0x5c9fbf(0xca0)]('lesson-plan-modal')[_0x5c9fbf(0x396)]['remove']('hidden');if(window[_0x5c9fbf(0x858)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0xcb1925){let _0x31f0e2=0x0;const _0x3026d2=_0xcb1925['questions'],_0x16d61b=()=>{const _0x3c7581=_0x1447,_0x2fa667=_0x3026d2[_0x31f0e2],_0x3644a7=_0x3c7581(0x6b2)+(_0x31f0e2+0x1)+_0x3c7581(0xb05)+_0x3026d2['length']+_0x3c7581(0x6f1)+_0x2fa667['questionText']+_0x3c7581(0x574)+_0x2fa667[_0x3c7581(0xb7c)]['map']((_0x1d90f6,_0x43cab0)=>_0x3c7581(0x84e)+_0x43cab0+_0x3c7581(0x962)+_0x43cab0+_0x3c7581(0x7d4)+_0x43cab0+'\x22>'+_0x1d90f6+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3c7581(0xcbb)]('')+_0x3c7581(0xb08);studentQuizArea[_0x3c7581(0xa5b)]=_0x3644a7;if(window[_0x3c7581(0x858)])MathJax['typesetPromise']([studentQuizArea]);document['getElementById'](_0x3c7581(0xd15))[_0x3c7581(0x79b)]('click',async()=>{const _0x81115d=await getHintForQuestion(_0x2fa667['questionText']);showMessage(_0x81115d);}),document[_0x3c7581(0xca0)](_0x3c7581(0xb5f))['addEventListener'](_0x3c7581(0xd52),()=>{const _0x5d7a5b=_0x3c7581,_0x77c0b5=document['querySelector'](_0x5d7a5b(0x620));if(!_0x77c0b5){showMessage(_0x5d7a5b(0xd28));return;}const _0x29740d=document[_0x5d7a5b(0xca0)](_0x5d7a5b(0x5db)),_0xf3e5ab=parseInt(_0x77c0b5['value'])===_0x2fa667[_0x5d7a5b(0x481)];_0xf3e5ab?(_0x29740d[_0x5d7a5b(0x55d)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x29740d[_0x5d7a5b(0xa5b)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x2fa667[_0x5d7a5b(0x420)]):(_0x29740d['className']=_0x5d7a5b(0x41e),_0x29740d[_0x5d7a5b(0xa5b)]=_0x5d7a5b(0xad9)+_0x2fa667[_0x5d7a5b(0x420)]);_0x29740d[_0x5d7a5b(0x396)][_0x5d7a5b(0x76f)]('hidden');if(window[_0x5d7a5b(0x858)])MathJax[_0x5d7a5b(0x5cc)]([_0x29740d]);document[_0x5d7a5b(0xca0)](_0x5d7a5b(0xb5f))[_0x5d7a5b(0x396)][_0x5d7a5b(0x46b)](_0x5d7a5b(0xb23)),document[_0x5d7a5b(0xca0)](_0x5d7a5b(0xd15))[_0x5d7a5b(0x396)][_0x5d7a5b(0x46b)]('hidden'),document[_0x5d7a5b(0xca0)](_0x5d7a5b(0x6ac))[_0x5d7a5b(0x396)]['remove'](_0x5d7a5b(0xb23));}),document['getElementById'](_0x3c7581(0x6ac))[_0x3c7581(0x79b)]('click',()=>{const _0x12e1f3=_0x3c7581;_0x31f0e2++,_0x31f0e2<_0x3026d2[_0x12e1f3(0xcda)]?_0x16d61b():(studentQuizArea[_0x12e1f3(0xa5b)]=_0x12e1f3(0x223),document[_0x12e1f3(0xca0)](_0x12e1f3(0x205))[_0x12e1f3(0x79b)](_0x12e1f3(0xd52),()=>{const _0x506ecc=_0x12e1f3;studentQuizArea[_0x506ecc(0x396)][_0x506ecc(0x46b)]('hidden'),studentResultArea['classList'][_0x506ecc(0x76f)](_0x506ecc(0xb23));}));});};_0x16d61b();}async function getHintForQuestion(_0x4a67d8){const _0x3dabe6=_0x569b7c,_0x432a39=_0x3dabe6(0x1ca)+_0x4a67d8+_0x3dabe6(0x37e),_0x4bc838={'type':'OBJECT','properties':{'hint':{'type':_0x3dabe6(0xb67)}},'required':[_0x3dabe6(0x2ae)]};try{const _0x4fa06f=await callAnalysisApi(_0x432a39,_0x4bc838);return _0x4fa06f['hint'];}catch(_0x2dffaa){return console[_0x3dabe6(0x728)](_0x3dabe6(0x8c8),_0x2dffaa),_0x3dabe6(0x9ce);}}async function extractTextFromPdf(_0x3a76dd){const _0x4afb2f=_0x569b7c;pdfjsLib['GlobalWorkerOptions'][_0x4afb2f(0xce4)]=_0x4afb2f(0xa4e);const _0xf24f27=await _0x3a76dd[_0x4afb2f(0x5ce)](),_0x339a2a=await pdfjsLib['getDocument'](_0xf24f27)[_0x4afb2f(0xc93)],_0x1ba6ea=_0x339a2a[_0x4afb2f(0xc15)];let _0x1bd9a6='';for(let _0x4c1611=0x1;_0x4c1611<=_0x1ba6ea;_0x4c1611++){const _0x2c319b=await _0x339a2a[_0x4afb2f(0x501)](_0x4c1611),_0x327894=await _0x2c319b[_0x4afb2f(0x5e5)](),_0x17a18b=_0x327894[_0x4afb2f(0x40c)][_0x4afb2f(0xc3d)](_0x47c7c3=>_0x47c7c3['str'])[_0x4afb2f(0xcbb)]('\x20');_0x1bd9a6+=_0x17a18b+'\x0a\x0a';}return _0x1bd9a6;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x2a5b43){const _0x40689d=_0x569b7c,_0x5bba3d=document[_0x40689d(0xca0)]('blueprint-options-container'),_0x108230=document['getElementById']('blueprint-topics-list'),_0x13214c=document[_0x40689d(0xca0)]('save-blueprint-as-project-btn');_0x5bba3d['classList'][_0x40689d(0x76f)]('hidden'),_0x108230['innerHTML']=_0x40689d(0xa82),_0x13214c[_0x40689d(0x396)][_0x40689d(0x46b)]('hidden');try{const _0x1f703f='วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22'+_0x2a5b43+_0x40689d(0xb98),_0x58f375={'type':_0x40689d(0xbcd),'properties':{'gradeLevel':{'type':_0x40689d(0xb67)},'curriculum':{'type':_0x40689d(0x7c4),'items':{'type':_0x40689d(0xbcd),'properties':{'sara':{'type':_0x40689d(0xb67)},'mainTopics':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'topicName':{'type':_0x40689d(0xb67)},'subTopics':{'type':_0x40689d(0x7c4),'items':{'type':_0x40689d(0xb67)}}},'required':['topicName',_0x40689d(0xb88)]}}},'required':['sara',_0x40689d(0x89b)]}}},'required':[_0x40689d(0xa0e),_0x40689d(0x230)]},_0x2de0bc=await callAnalysisApi(_0x1f703f,_0x58f375);if(_0x2de0bc&&_0x2de0bc[_0x40689d(0x230)])extractedBlueprintData=_0x2de0bc,renderBlueprintTopics(_0x2de0bc),_0x13214c[_0x40689d(0x396)][_0x40689d(0x76f)](_0x40689d(0xb23));else throw new Error(_0x40689d(0x865));}catch(_0x1b663b){console[_0x40689d(0x728)](_0x40689d(0xd4c),_0x1b663b),_0x108230[_0x40689d(0xa5b)]=_0x40689d(0x3d6);}}function renderBlueprintTopics(_0x2584c2){const _0x1a9242=_0x569b7c,_0x15740b=document[_0x1a9242(0xca0)](_0x1a9242(0x26a)),_0x1efd0d=_0x2584c2[_0x1a9242(0xa0e)],_0x48eb7d=_0x1a9242(0x914)+_0x1efd0d+'</h3>';let _0x427477='';_0x2584c2[_0x1a9242(0x230)][_0x1a9242(0xb32)](_0x38cdcd=>{const _0x529d30=_0x1a9242;_0x427477+=_0x529d30(0x3bd)+_0x38cdcd[_0x529d30(0xa2d)]+_0x529d30(0xa36),_0x38cdcd[_0x529d30(0x89b)][_0x529d30(0xb32)](_0x291381=>{const _0x34579f=_0x529d30;_0x427477+=_0x34579f(0x513)+_0x291381[_0x34579f(0x638)]+'</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x291381['subTopics'][_0x34579f(0xb32)](_0x5a74f3=>{const _0x333da1=_0x34579f;_0x427477+='\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27'+_0x5a74f3['replace'](/'/g,'\x5c\x27')+_0x333da1(0x711)+_0x1efd0d[_0x333da1(0xa12)](/'/g,'\x5c\x27')+_0x333da1(0x52c)+_0x5a74f3+_0x333da1(0x247)+_0x5a74f3[_0x333da1(0xa12)](/'/g,'\x5c\x27')+_0x333da1(0x228);}),_0x427477+=_0x34579f(0x286);}),_0x427477+=_0x529d30(0x3f0);}),_0x15740b[_0x1a9242(0xa5b)]=_0x48eb7d+_0x427477;}async function handleGenerateTeachingContent(_0x5c0252){const _0x13be77=_0x569b7c,_0x2e61dc=document[_0x13be77(0xca0)](_0x13be77(0x657)),_0x456545=document[_0x13be77(0xca0)](_0x13be77(0x22f));document['getElementById']('lesson-plan-title')[_0x13be77(0x8a5)]='กำลังสร้างเนื้อหา:\x20'+_0x5c0252,_0x456545[_0x13be77(0xa5b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x2e61dc[_0x13be77(0x396)][_0x13be77(0x76f)](_0x13be77(0xb23));try{const _0x1bc9bd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22'+_0x5c0252+_0x13be77(0x25a),_0x248d96={'type':_0x13be77(0xbcd),'properties':{'keyConcepts':{'type':_0x13be77(0x7c4),'items':{'type':_0x13be77(0xb67)}},'commonMistakes':{'type':_0x13be77(0x7c4),'items':{'type':_0x13be77(0xb67)}},'stepByStepExamples':{'type':_0x13be77(0x7c4),'items':{'type':'OBJECT','properties':{'question':{'type':_0x13be77(0xb67)},'solution':{'type':_0x13be77(0xb67)}},'required':[_0x13be77(0x215),'solution']}},'teacherTips':{'type':'ARRAY','items':{'type':'STRING'}}},'required':[_0x13be77(0x763),_0x13be77(0x867),'stepByStepExamples',_0x13be77(0x9bd)]},_0x48cae8=await callAnalysisApi(_0x1bc9bd,_0x248d96);displayTeachingContent(_0x48cae8,_0x5c0252);}catch(_0x4ad1b8){console[_0x13be77(0x728)](_0x13be77(0x717),_0x4ad1b8),_0x456545[_0x13be77(0xa5b)]='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0x4ad1b8[_0x13be77(0x7d7)]+_0x13be77(0xb3a);}}function displayTeachingContent(_0x2d7b55,_0x2a277d){const _0x13275e=_0x569b7c,_0x63431d=document['getElementById'](_0x13275e(0x22f));document[_0x13275e(0xca0)](_0x13275e(0xbb1))[_0x13275e(0x8a5)]=_0x13275e(0xb52)+_0x2a277d;const _0x2aad44=_0x13275e(0x1f1)+_0x2d7b55['keyConcepts'][_0x13275e(0xc3d)](_0x2986a5=>'<li>'+_0x2986a5+_0x13275e(0x644))[_0x13275e(0xcbb)]('')+_0x13275e(0xb11)+_0x2d7b55[_0x13275e(0x867)][_0x13275e(0xc3d)](_0x4115b9=>'<li>'+_0x4115b9+_0x13275e(0x644))[_0x13275e(0xcbb)]('')+_0x13275e(0x92a)+_0x2d7b55[_0x13275e(0xb24)][_0x13275e(0xc3d)](_0x41f9a3=>_0x13275e(0x204)+_0x41f9a3[_0x13275e(0x215)]+_0x13275e(0x2c5)+_0x41f9a3[_0x13275e(0xb8f)]+_0x13275e(0x6cd))[_0x13275e(0xcbb)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x2d7b55['teacherTips'][_0x13275e(0xc3d)](_0x279564=>_0x13275e(0x9a9)+_0x279564+_0x13275e(0x644))[_0x13275e(0xcbb)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x63431d[_0x13275e(0xa5b)]=_0x2aad44;if(window[_0x13275e(0x858)])MathJax[_0x13275e(0x5cc)]([_0x63431d]);}async function generateQuizForSingleTopic(_0x44e7f3){const _0xc0b5ae=_0x569b7c;console[_0xc0b5ae(0x2fa)](_0xc0b5ae(0xac9)+_0x44e7f3+'\x22');const _0x1e213e=document[_0xc0b5ae(0xca0)](_0xc0b5ae(0x682)),_0x3b1615=_0x1e213e[_0xc0b5ae(0x935)][_0xc0b5ae(0xcda)]>0x0?_0x1e213e[_0xc0b5ae(0x935)][0x0]:null;let _0x2c4dcb=null;if(_0x3b1615)try{const _0xc14fb0=new FileReader();_0xc14fb0['readAsDataURL'](_0x3b1615);const _0x2edbf5=await new Promise((_0x358427,_0x32ce40)=>{const _0x254f23=_0xc0b5ae;_0xc14fb0[_0x254f23(0xab5)]=()=>_0x358427(_0xc14fb0[_0x254f23(0x5d4)]['split'](',')[0x1]),_0xc14fb0[_0x254f23(0x4c9)]=_0xe5b21d=>_0x32ce40(_0xe5b21d);});_0x2c4dcb=[{'inlineData':{'mimeType':_0x3b1615[_0xc0b5ae(0x8df)],'data':_0x2edbf5}}];}catch(_0x2a31d6){console[_0xc0b5ae(0x728)]('Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:',_0x2a31d6),showMessage(_0xc0b5ae(0x43f));return;}generateQuiz(_0x44e7f3,null,null,_0x2c4dcb,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x4fcf58=null){const _0x181bcf=_0x569b7c,_0x242765=document[_0x181bcf(0xca0)](_0x181bcf(0x826)),_0x26e185=document[_0x181bcf(0xca0)]('loader-text');let _0x1080e6;if(_0x4fcf58)_0x1080e6=_0x4fcf58;else{const _0x4c2847=document[_0x181bcf(0xca0)](_0x181bcf(0x6b9)),_0x102116=_0x4c2847[_0x181bcf(0x935)][0x0];if(!_0x102116){showMessage(_0x181bcf(0x340));return;}_0x26e185[_0x181bcf(0x8a5)]='กำลังเตรียมไฟล์...';const _0x3d5725=await new Promise((_0x4ebd45,_0x3f0412)=>{const _0x3afdd5=_0x181bcf,_0x225af4=new FileReader();_0x225af4['readAsDataURL'](_0x102116),_0x225af4[_0x3afdd5(0xab5)]=()=>_0x4ebd45(_0x225af4[_0x3afdd5(0x5d4)][_0x3afdd5(0x600)](',')[0x1]),_0x225af4[_0x3afdd5(0x4c9)]=_0x3f0412;});_0x1080e6=[{'text':_0x181bcf(0xbd0)},{'inlineData':{'mimeType':_0x102116[_0x181bcf(0x8df)],'data':_0x3d5725}}];}const _0x5636fe=_0x181bcf(0x8e2),_0x197aa8=_0x181bcf(0x50e),_0x1659a3=_0x181bcf(0xcd4),_0x408058={'type':_0x181bcf(0xbcd),'properties':{'questionText':{'type':_0x181bcf(0xb67)},'questionType':{'type':_0x181bcf(0xb67),'enum':[_0x181bcf(0x27b),_0x181bcf(0x934),_0x181bcf(0xa08),_0x181bcf(0x489)]},'options':{'type':_0x181bcf(0x7c4),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x181bcf(0x911)},'idealAnswer':{'type':_0x181bcf(0xb67)},'correctAnswer':{'type':_0x181bcf(0xc31)},'explanation':{'type':_0x181bcf(0xb67)},'imageCode':{'type':'STRING'}},'required':[_0x181bcf(0x879),'explanation']},_0x597864={'type':_0x181bcf(0xbcd),'properties':{'topic':{'type':_0x181bcf(0xb67)},'questions':{'type':_0x181bcf(0x7c4),'items':_0x408058}},'required':[_0x181bcf(0xaf8),_0x181bcf(0x981)]};_0x1080e6[0x0][_0x181bcf(0xc91)]=_0x1659a3,await handleApiCall(_0x1080e6,'AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...',_0x597864);}function proceedToNextQuestion(_0x2050b8){const _0x1e60d1=_0x569b7c;studentAnswersPerQuestion[_0x1e60d1(0xae7)](_0x2050b8),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x1e60d1(0x981)][_0x1e60d1(0xcda)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x15ec63,_0x370ab7){const _0x22e43f=_0x569b7c,_0x4eb2fb=Object[_0x22e43f(0x224)](_0x15ec63[_0x22e43f(0x3fc)]||{}),_0x175c10=_0x4eb2fb[_0x22e43f(0xcda)],_0x434c6f=[..._0x4eb2fb][_0x22e43f(0x64b)]((_0x2c891c,_0x1aa620)=>_0x1aa620[_0x22e43f(0x9f4)]-_0x2c891c['score']),_0x2f5ff1=_0x15ec63['currentQuestionIndex'];let _0x1e33d6='';const _0x2bec33=_0x15ec63['shuffledQuiz']['questions'],_0x4c3f01=_0x2bec33[_0x2f5ff1],_0x584e53=_0x31ad82=>String[_0x22e43f(0x87b)](0x41+_0x31ad82);let _0x14b7e0='',_0x14075e='';if(_0x4c3f01){const _0x41b7df=_0x4c3f01[_0x22e43f(0x879)]||_0x15ec63[_0x22e43f(0x495)][_0x22e43f(0x5c7)];if(_0x41b7df==='multiple_choice'&&_0x4c3f01[_0x22e43f(0xb7c)]&&_0x4c3f01['correctAnswerIndex']!==undefined){const _0xfee401=_0x4c3f01[_0x22e43f(0x481)];_0x14b7e0=_0x4c3f01[_0x22e43f(0xb7c)][_0xfee401],_0x14075e=_0x584e53(_0xfee401)+'.';}else{if(_0x41b7df===_0x22e43f(0xa08)){const _0x17b6b9=_0x4c3f01['correctAnswer']===!![]||String(_0x4c3f01[_0x22e43f(0x69f)])[_0x22e43f(0x38f)]()===_0x22e43f(0x6c7);_0x17b6b9?(_0x14b7e0=_0x22e43f(0xba4),_0x14075e='ก.'):(_0x14b7e0='ไม่ใช่\x20/\x20ผิด',_0x14075e='ข.');}else{if(_0x41b7df==='matching_item')_0x14b7e0=_0x4c3f01['correctResponse']||'-',_0x14075e='';else _0x41b7df===_0x22e43f(0x934)&&(_0x14b7e0=_0x4c3f01[_0x22e43f(0x8ca)]||'-',_0x14075e='');}}}_0x14b7e0&&(_0x1e33d6=_0x22e43f(0x5d3)+(_0x2f5ff1+0x1)+_0x22e43f(0x238)+_0x14075e+'\x20'+_0x14b7e0+_0x22e43f(0x21e));const _0x61dd1b=_0x434c6f[_0x22e43f(0xc3d)](_0x354717=>{const _0x56ba52=_0x22e43f;let _0x90f71a=![];if(_0x354717[_0x56ba52(0x686)]&&_0x2f5ff1!==-0x1){const _0x3aaeab=_0x354717['answers'][_0x56ba52(0xd14)](_0x4818cd=>_0x4818cd[_0x56ba52(0x87c)]===_0x2f5ff1);_0x3aaeab&&_0x3aaeab[_0x56ba52(0x280)]&&(_0x90f71a=!![]);}const _0x5d9bbd=_0x90f71a?'bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg':_0x56ba52(0xad0);return _0x56ba52(0x348)+_0x5d9bbd+'\x22><span>'+_0x354717[_0x56ba52(0x5bd)]+_0x56ba52(0x97b)+_0x354717[_0x56ba52(0x9f4)]+_0x56ba52(0x756);})[_0x22e43f(0xcbb)](''),_0x43ea1e=_0x2bec33[_0x22e43f(0xc3d)]((_0x115a29,_0x14f694)=>{const _0x11002d=_0x22e43f,_0x32901b=_0x4eb2fb[_0x11002d(0x959)](_0x46fb5a=>_0x46fb5a[_0x11002d(0x686)]&&_0x46fb5a[_0x11002d(0x686)][_0x11002d(0xd14)](_0x5edfe3=>_0x5edfe3['questionIndex']===_0x14f694&&_0x5edfe3[_0x11002d(0x280)]))[_0x11002d(0xcda)],_0x2e6576=_0x14f694===_0x2f5ff1,_0xbebd8b=_0x2e6576?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':_0x11002d(0x754);return _0x11002d(0x872)+_0xbebd8b+_0x11002d(0x251)+(_0x14f694+0x1)+_0x11002d(0x59d)+_0x32901b+'\x20/\x20'+_0x175c10+'\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('');let _0x5d3e97='',_0x52c12b='';if(_0x370ab7){const _0x1dd4fe=_0x15ec63['currentQuestionIndex']>=_0x2bec33[_0x22e43f(0xcda)]-0x1;_0x5d3e97='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>'+(_0x1dd4fe?_0x22e43f(0x5fd):_0x22e43f(0x3ae))+_0x22e43f(0x6de),_0x52c12b=_0x22e43f(0x336);}const _0x367807=_0x22e43f(0x920)+_0x15ec63[_0x22e43f(0x495)][_0x22e43f(0xaf8)]+_0x22e43f(0xbff)+_0x52c12b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e33d6+_0x22e43f(0xd46)+(_0x61dd1b||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+_0x22e43f(0x33e)+_0x43ea1e+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x370ab7?_0x22e43f(0xb48)+_0x5d3e97+_0x22e43f(0x3f0):'')+_0x22e43f(0xc74);liveGameView[_0x22e43f(0xa5b)]=_0x367807;if(window[_0x22e43f(0x858)]){const _0x395d9d=document[_0x22e43f(0xca0)](_0x22e43f(0xccf));_0x395d9d&&MathJax[_0x22e43f(0x5cc)]([_0x395d9d]);}if(_0x370ab7){document[_0x22e43f(0xca0)](_0x22e43f(0xb47))[_0x22e43f(0xbe8)]=async()=>{const _0x540558=_0x22e43f,_0x2e97e7=doc(db,_0x540558(0x25b)+appId+_0x540558(0x1f4),currentLiveGameId),_0x546b93=_0x15ec63[_0x540558(0x720)]+0x1;if(_0x546b93<_0x2bec33['length']){const _0x33ed68={};Object[_0x540558(0x65a)](_0x15ec63[_0x540558(0x3fc)])['forEach'](_0xd086f9=>{const _0x59615b=_0x540558;_0x33ed68[_0x59615b(0x5c8)+_0xd086f9+_0x59615b(0x7e8)]=![],_0x33ed68[_0x59615b(0x5c8)+_0xd086f9+_0x59615b(0x92e)]=null;}),await updateDoc(_0x2e97e7,{..._0x33ed68,'status':_0x540558(0x215),'currentQuestionIndex':_0x546b93,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x2e97e7,{'status':'podium'});};const _0x29ddf2=document[_0x22e43f(0xca0)](_0x22e43f(0xc79));_0x29ddf2&&(_0x29ddf2[_0x22e43f(0xbe8)]=()=>{const _0x53c751=_0x22e43f;showConfirmation(_0x53c751(0x6d9),async()=>{const _0x4dbc1a=_0x53c751,_0x1059c4=doc(db,_0x4dbc1a(0x25b)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x1059c4,{'status':_0x4dbc1a(0xa09)});});});}}async function handleGenerateParallelFromBank(_0x1e9598){const _0xd4582=_0x569b7c,_0x77f942=document[_0xd4582(0xca0)]('results-tab-content'),_0x3f693b=document[_0xd4582(0xca0)](_0xd4582(0x43a));_0x3f693b['classList'][_0xd4582(0x46b)](_0xd4582(0xb23));const _0x42f879='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x1e9598[_0xd4582(0xaf8)]+_0xd4582(0x406);_0x77f942['insertAdjacentHTML'](_0xd4582(0x265),_0x42f879);const _0x51f4bc=document[_0xd4582(0xca0)](_0xd4582(0xbfc));try{const _0x508d99=_0x1e9598[_0xd4582(0x981)][_0xd4582(0xc3d)]((_0x131cd9,_0x5a0692)=>{const _0x3291d7=_0xd4582;let _0x57cc00=_0x5a0692+0x1+'.\x20'+(_0x131cd9[_0x3291d7(0x332)]||_0x131cd9['stem'])+'\x0a';if(_0x131cd9[_0x3291d7(0xb7c)])_0x57cc00+=_0x131cd9[_0x3291d7(0xb7c)][_0x3291d7(0xc3d)]((_0x2b5bcc,_0x24e04f)=>_0x3291d7(0xbd6)+(_0x24e04f===_0x131cd9[_0x3291d7(0x481)]?_0x3291d7(0x9ef):'')+'\x20'+_0x2b5bcc)[_0x3291d7(0xcbb)]('\x0a');else _0x131cd9[_0x3291d7(0x8ca)]&&(_0x57cc00+=_0x3291d7(0x351)+_0x131cd9[_0x3291d7(0x8ca)]);return _0x57cc00;})[_0xd4582(0xcbb)]('\x0a\x0a');_0x51f4bc[_0xd4582(0x8a5)]=_0xd4582(0xc1d);const _0x27b020='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x1e9598[_0xd4582(0xaf8)]+_0xd4582(0xc54)+_0x508d99+_0xd4582(0x587)+simpleMathPrompt+_0xd4582(0x83c),_0x1b8f5a={'type':_0xd4582(0xbcd),'properties':{'questionText':{'type':_0xd4582(0xb67)},'questionType':{'type':_0xd4582(0xb67),'enum':[_0xd4582(0x27b),_0xd4582(0x934),_0xd4582(0xa08),_0xd4582(0x489)]},'options':{'type':_0xd4582(0x7c4),'items':{'type':_0xd4582(0xb67)}},'correctAnswerIndex':{'type':_0xd4582(0x911)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0xd4582(0xc31)},'stem':{'type':_0xd4582(0xb67)},'correctResponse':{'type':_0xd4582(0xb67)},'allResponses':{'type':_0xd4582(0x7c4),'items':{'type':'STRING'}},'explanation':{'type':_0xd4582(0xb67)},'imageCode':{'type':_0xd4582(0xb67)}},'required':[_0xd4582(0x879),_0xd4582(0x420)]},_0x493f7f={'type':_0xd4582(0xbcd),'properties':{'topic':{'type':_0xd4582(0xb67)},'questions':{'type':'ARRAY','items':_0x1b8f5a}},'required':[_0xd4582(0xaf8),_0xd4582(0x981)]},_0x364fbc=await callAnalysisApi(_0x27b020,_0x493f7f),_0x297da5=_0x364fbc[_0xd4582(0x981)]['map']((_0x21a731,_0x26aeee)=>({..._0x21a731,'id':'q_'+Date[_0xd4582(0x721)]()+'_'+_0x26aeee})),_0x4aa67c=_0xd4582(0x28a)+_0x1e9598[_0xd4582(0xaf8)],_0xe85edd={'topic':_0x4aa67c,'questions':_0x297da5,'quizType':_0x1e9598['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0xd4582(0x9bb)](),'status':_0xd4582(0x88e),'settings':_0x1e9598[_0xd4582(0x3ee)],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x5940b4;while(!![]){_0x5940b4=Math['floor'](0x3e8+Math[_0xd4582(0x7ff)]()*0x2328)[_0xd4582(0xae2)]();const _0x32de37=await getDoc(doc(db,_0xd4582(0x25b)+appId+'/public/data/quizzes',_0x5940b4));if(!_0x32de37[_0xd4582(0x6c9)]())break;}await setDoc(doc(db,_0xd4582(0x25b)+appId+'/public/data/quizzes',_0x5940b4),_0xe85edd),showMessage(_0xd4582(0x256));}catch(_0x5c419e){console[_0xd4582(0x728)](_0xd4582(0x359),_0x5c419e),showMessage(_0xd4582(0xc90)+_0x5c419e[_0xd4582(0x7d7)]);}finally{const _0x248cc8=document['getElementById']('temp-loader-results');_0x248cc8&&_0x248cc8[_0xd4582(0x76f)](),_0x3f693b[_0xd4582(0x396)][_0xd4582(0x76f)](_0xd4582(0xb23));}}async function handleGenerateParallelPostTest(_0x4ef19e){const _0x1d1197=_0x569b7c,_0x4b9512=document[_0x1d1197(0xca0)](_0x1d1197(0x395)),_0x5c6838=document[_0x1d1197(0xca0)](_0x1d1197(0x43a));_0x5c6838[_0x1d1197(0x396)]['add'](_0x1d1197(0xb23));const _0x467327=_0x1d1197(0x888);_0x4b9512[_0x1d1197(0xad1)](_0x1d1197(0x265),_0x467327);try{const _0x5c0fb6=_0x4ef19e['questions'][_0x1d1197(0xc3d)]((_0x3d5f73,_0x4fcbf1)=>{const _0x46c1b4=_0x1d1197;let _0x62f1d4=_0x4fcbf1+0x1+'.\x20'+(_0x3d5f73['questionText']||_0x3d5f73[_0x46c1b4(0x73f)]);if(_0x3d5f73[_0x46c1b4(0xb7c)])_0x62f1d4+=_0x46c1b4(0x6ca)+_0x3d5f73['options'][_0x46c1b4(0xcbb)](',\x20');return _0x62f1d4;})[_0x1d1197(0xcbb)]('\x0a\x0a'),_0x549fbf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x4ef19e['topic']+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c0fb6+_0x1d1197(0x7fd)+simpleMathPrompt+_0x1d1197(0x83c),_0x3775b1={'type':_0x1d1197(0xbcd),'properties':{'topic':{'type':_0x1d1197(0xb67)},'questions':{'type':_0x1d1197(0x7c4),'items':{'type':_0x1d1197(0xbcd),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x1d1197(0xb67)},'options':{'type':_0x1d1197(0x7c4),'items':{'type':_0x1d1197(0xb67)}},'correctAnswerIndex':{'type':_0x1d1197(0x911)},'idealAnswer':{'type':_0x1d1197(0xb67)},'explanation':{'type':_0x1d1197(0xb67)}},'required':[_0x1d1197(0x332),_0x1d1197(0x420)]}}},'required':[_0x1d1197(0xaf8),_0x1d1197(0x981)]},_0x20162c=await callAnalysisApi(_0x549fbf,_0x3775b1),_0xd8d3c9=_0x4ef19e[_0x1d1197(0xaf8)][_0x1d1197(0xa12)](_0x1d1197(0x31f),'')[_0x1d1197(0xc9e)](),_0x8cc002='(หลังเรียน)\x20'+_0xd8d3c9,_0x2d1ec0={..._0x20162c,'topic':_0x8cc002,'quizType':_0x4ef19e[_0x1d1197(0x5c7)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x1d1197(0x9bb)](),'status':_0x1d1197(0x88e),'settings':_0x4ef19e[_0x1d1197(0x3ee)],'quizMode':_0x1d1197(0x492),'pairedQuizId':_0x4ef19e['id']};let _0x4c970c;while(!![]){_0x4c970c=Math[_0x1d1197(0xc71)](0x3e8+Math['random']()*0x2328)[_0x1d1197(0xae2)]();const _0x46899e=await getDoc(doc(db,_0x1d1197(0x25b)+appId+_0x1d1197(0x72c),_0x4c970c));if(!_0x46899e['exists']())break;}await setDoc(doc(db,_0x1d1197(0x25b)+appId+_0x1d1197(0x72c),_0x4c970c),_0x2d1ec0);const _0x3ffe98=doc(db,_0x1d1197(0x25b)+appId+_0x1d1197(0x72c),_0x4ef19e['id']);await updateDoc(_0x3ffe98,{'pairedQuizId':_0x4c970c}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x20528b){console['error'](_0x1d1197(0x999),_0x20528b),showMessage('เกิดข้อผิดพลาด:\x20'+_0x20528b[_0x1d1197(0x7d7)]);}finally{const _0x2ba9b0=document['getElementById'](_0x1d1197(0x2b4));if(_0x2ba9b0)_0x2ba9b0['remove']();_0x5c6838[_0x1d1197(0x396)]['remove']('hidden');}}async function handleGenerateParallelTest(_0x340e72=null){const _0x27e620=_0x569b7c;let _0x4c69da=_0x340e72;if(!_0x4c69da){const _0x4351b6=document[_0x27e620(0xca0)](_0x27e620(0x73b));_0x4351b6['files'][_0x27e620(0xcda)]>0x0&&(_0x4c69da=_0x4351b6[_0x27e620(0x935)][0x0]);}if(!_0x4c69da){showMessage(_0x27e620(0x4cd));return;}const _0x519e3b=document[_0x27e620(0xca0)](_0x27e620(0x826)),_0x296e73=document[_0x27e620(0xca0)](_0x27e620(0x547)),_0x4083ad=document[_0x27e620(0xca0)]('generated-quiz-container'),_0x4cb85f=document['getElementById'](_0x27e620(0xc20));_0x4cb85f[_0x27e620(0x7b4)]=!![],document[_0x27e620(0xca0)](_0x27e620(0x366))[_0x27e620(0x396)][_0x27e620(0x76f)](_0x27e620(0xb23)),_0x4083ad['innerHTML']='',_0x519e3b[_0x27e620(0x396)]['remove'](_0x27e620(0xb23)),_0x296e73[_0x27e620(0x8a5)]='กำลังอ่านและเตรียมไฟล์ต้นฉบับ...';const _0x2c59da=new FileReader();_0x2c59da['readAsDataURL'](_0x4c69da),_0x2c59da[_0x27e620(0xab5)]=async()=>{const _0x5c585c=_0x27e620;try{const _0x30972e=_0x2c59da[_0x5c585c(0x5d4)][_0x5c585c(0x600)](',')[0x1],_0x57658e=_0x4c69da[_0x5c585c(0x8df)];_0x296e73[_0x5c585c(0x8a5)]='วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x4c406b=document['getElementById'](_0x5c585c(0x84c))[_0x5c585c(0x397)],_0x3200c1=_0x4c406b?_0x5c585c(0x98d):'',_0x45d995=_0x5c585c(0xc40),_0x4eaef2={'type':'OBJECT','properties':{'questionText':{'type':_0x5c585c(0xb67)},'questionType':{'type':_0x5c585c(0xb67),'enum':[_0x5c585c(0x27b),_0x5c585c(0x934)]},'options':{'type':_0x5c585c(0x7c4),'items':{'type':_0x5c585c(0xb67)}},'correctAnswerIndex':{'type':_0x5c585c(0x911)},'idealAnswer':{'type':_0x5c585c(0xb67)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5c585c(0xb67)}},'required':[_0x5c585c(0x332),_0x5c585c(0x879),_0x5c585c(0x420)]},_0x10a75f={'type':_0x5c585c(0xbcd),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x5c585c(0x7c4),'items':_0x4eaef2}},'required':[_0x5c585c(0xaf8),_0x5c585c(0x981)]},_0x35c852=[{'text':_0x45d995},{'inlineData':{'mimeType':_0x57658e,'data':_0x30972e}}];await handleApiCall(_0x35c852,_0x5c585c(0x9d9),_0x10a75f);}catch(_0x3c02fe){console[_0x5c585c(0x728)](_0x5c585c(0x3f9),_0x3c02fe),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3c02fe[_0x5c585c(0x7d7)]),_0x4083ad['innerHTML']=_0x5c585c(0xab4);}finally{_0x519e3b[_0x5c585c(0x396)][_0x5c585c(0x46b)](_0x5c585c(0xb23)),_0x4cb85f['disabled']=![];}},_0x2c59da[_0x27e620(0x4c9)]=_0x391452=>{const _0x3664a0=_0x27e620;console[_0x3664a0(0x728)]('FileReader\x20error:',_0x391452),showMessage(_0x3664a0(0x416)),_0x519e3b[_0x3664a0(0x396)][_0x3664a0(0x46b)](_0x3664a0(0xb23)),_0x4cb85f[_0x3664a0(0x7b4)]=![];};}async function handleRegenerateQuestionInEditor(_0x410d1e){const _0x582aba=_0x569b7c;if(currentEditingQuizData===null)return;const _0x13d49e=document['querySelector'](_0x582aba(0xd4e)+_0x410d1e+'\x22]');_0x13d49e&&(_0x13d49e[_0x582aba(0xa5b)]=_0x582aba(0xc3c));const _0x457c26=currentEditingQuizData[_0x582aba(0x981)][_0x410d1e],_0x49a336=currentEditingQuizData[_0x582aba(0xaf8)],_0x37f763=_0x457c26[_0x582aba(0x879)],_0x153f1c={'type':_0x582aba(0xbcd),'properties':{'questionText':{'type':_0x582aba(0xb67)},'options':{'type':'ARRAY','items':{'type':_0x582aba(0xb67)}},'correctAnswerIndex':{'type':_0x582aba(0x911)},'explanation':{'type':_0x582aba(0xb67)}},'required':['questionText',_0x582aba(0xb7c),_0x582aba(0x481),'explanation']},_0x48de6c={'type':_0x582aba(0xbcd),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x582aba(0xb67)},'explanation':{'type':_0x582aba(0xb67)}},'required':[_0x582aba(0x332),_0x582aba(0x8ca),_0x582aba(0x420)]};let _0x5f54ba,_0x4368d3='';_0x37f763===_0x582aba(0x27b)?(_0x5f54ba=_0x153f1c,_0x4368d3=_0x582aba(0x6cf)):(_0x5f54ba=_0x48de6c,_0x4368d3=_0x582aba(0x952));const _0x1824c6=_0x582aba(0xcfc)+_0x49a336+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x4368d3+_0x582aba(0x724)+(_0x457c26[_0x582aba(0x332)]||_0x457c26[_0x582aba(0x73f)])+_0x582aba(0x27f)+simpleMathPrompt;try{const _0x2ab83c=await callAnalysisApi(_0x1824c6,_0x5f54ba);currentEditingQuizData[_0x582aba(0x981)][_0x410d1e]={..._0x457c26,..._0x2ab83c},renderQuizEditor(currentEditingQuizData);}catch(_0x2649d5){console[_0x582aba(0x728)](_0x582aba(0x65c),_0x2649d5),showMessage(_0x582aba(0x537)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x1a6da6=_0x569b7c,_0x99ee8b=document[_0x1a6da6(0xca0)]('mode-switcher-btn');currentMode===_0x1a6da6(0xa9a)?(adminPasswordModal[_0x1a6da6(0x396)][_0x1a6da6(0x76f)]('hidden'),document['getElementById'](_0x1a6da6(0x2b5))[_0x1a6da6(0x56f)]()):(currentMode=_0x1a6da6(0xa9a),_0x99ee8b['innerHTML']=_0x1a6da6(0x97d),_0x99ee8b['title']=_0x1a6da6(0xa90),showView('student'));}function handleAdminLogin(){const _0x14e5fb=_0x569b7c,_0x26dc84=document['getElementById']('admin-password-input'),_0x24a2f6=document[_0x14e5fb(0xca0)](_0x14e5fb(0x95e));if(_0x26dc84[_0x14e5fb(0xb85)]===_0x14e5fb(0x582)){adminPasswordModal[_0x14e5fb(0x396)][_0x14e5fb(0x46b)](_0x14e5fb(0xb23)),_0x26dc84[_0x14e5fb(0xb85)]='',_0x24a2f6['classList']['add'](_0x14e5fb(0xb23)),currentMode=_0x14e5fb(0x42a);const _0x4ef720=document[_0x14e5fb(0xca0)](_0x14e5fb(0x491));_0x4ef720['innerHTML']='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x4ef720[_0x14e5fb(0x5a5)]=_0x14e5fb(0x943),showView(_0x14e5fb(0x54c));}else _0x24a2f6[_0x14e5fb(0x396)]['remove'](_0x14e5fb(0xb23)),_0x26dc84[_0x14e5fb(0xb85)]='';}function switchProjectTab(_0x234a62){const _0x41abb9=_0x569b7c;[_0x41abb9(0xae1),'results',_0x41abb9(0x744)][_0x41abb9(0xb32)](_0x20acf0=>{const _0x1fdfe1=_0x41abb9;document['getElementById'](_0x20acf0+_0x1fdfe1(0x429))['classList'][_0x1fdfe1(0x76f)](_0x1fdfe1(0x88e)),document[_0x1fdfe1(0xca0)](_0x20acf0+_0x1fdfe1(0x897))['classList'][_0x1fdfe1(0x46b)](_0x1fdfe1(0xb23));}),document[_0x41abb9(0xca0)](_0x234a62+_0x41abb9(0x429))[_0x41abb9(0x396)][_0x41abb9(0x46b)](_0x41abb9(0x88e)),document[_0x41abb9(0xca0)](_0x234a62+_0x41abb9(0x897))[_0x41abb9(0x396)][_0x41abb9(0x76f)]('hidden');}function switchQuizDetailTab(_0x6d280a){const _0x18e230=_0x569b7c,_0x25c670={'analytics':{'btn':_0x18e230(0xacc),'content':_0x18e230(0x2ea)},'scores':{'btn':_0x18e230(0x42c),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0x18e230(0x30c),'content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0x18e230(0x6aa),'content':_0x18e230(0xa3b)}};for(const _0x3d58dc in _0x25c670){document[_0x18e230(0xca0)](_0x25c670[_0x3d58dc][_0x18e230(0xb78)])[_0x18e230(0x396)][_0x18e230(0x76f)](_0x18e230(0x88e)),document['getElementById'](_0x25c670[_0x3d58dc][_0x18e230(0x893)])[_0x18e230(0x396)][_0x18e230(0x46b)](_0x18e230(0xb23));}document[_0x18e230(0xca0)](_0x25c670[_0x6d280a]['btn'])[_0x18e230(0x396)][_0x18e230(0x46b)](_0x18e230(0x88e)),document[_0x18e230(0xca0)](_0x25c670[_0x6d280a]['content'])[_0x18e230(0x396)][_0x18e230(0x76f)]('hidden');}function showMessage(_0x436843,_0x404ab6=null){const _0x5e541c=_0x569b7c;modalMessage['textContent']=_0x436843,modalConfirmAction=_0x404ab6,messageModal[_0x5e541c(0x396)][_0x5e541c(0x76f)]('hidden');}function showConfirmation(_0x34ff08,_0x29554f){const _0x249b9c=_0x569b7c;document[_0x249b9c(0xca0)](_0x249b9c(0x694))[_0x249b9c(0x8a5)]=_0x34ff08,document[_0x249b9c(0xca0)](_0x249b9c(0x42b))[_0x249b9c(0xb90)]('h3')[_0x249b9c(0x8a5)]=_0x249b9c(0x480),confirmAction=_0x29554f,confirmationModal['classList']['remove']('hidden');}function listenForProjects(){const _0x5962ce=_0x569b7c,_0xaba760=doc(db,_0x5962ce(0x687),_0x5962ce(0xd59));onSnapshot(_0xaba760,_0x4ebaa3=>{const _0x5779ff=_0x5962ce;if(_0x4ebaa3['exists']()){const _0xdf810d=_0x4ebaa3[_0x5779ff(0x7f5)]();globalDashboardSettings[_0x5779ff(0x1e9)]=_0xdf810d[_0x5779ff(0x1e9)]||_0x5779ff(0x510),globalDashboardSettings['pinnedProjects']=_0xdf810d[_0x5779ff(0x5be)]||[],globalDashboardSettings['projectOrder']=_0xdf810d[_0x5779ff(0x1f7)]||[];}allProjects[_0x5779ff(0xcda)]>0x0&&renderProjects();});const _0x416e7d=collection(db,'artifacts/'+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x416e7d,_0x404f9b=>{const _0x2472ad=_0x5962ce;allProjects=_0x404f9b[_0x2472ad(0x53c)][_0x2472ad(0xc3d)](_0x400b57=>({'id':_0x400b57['id'],..._0x400b57['data']()})),renderProjects();},_0x298d18=>{const _0x5a27dd=_0x5962ce;console['error'](_0x5a27dd(0xa4a),_0x298d18),showMessage(_0x5a27dd(0x584));});}function showColorPalette(_0xcf5521,_0x41c30f){const _0x477fd3=_0x569b7c;document['querySelectorAll'](_0x477fd3(0x515))[_0x477fd3(0xb32)](_0x58d357=>_0x58d357['remove']());const _0x295b9d=[_0x477fd3(0xa45),_0x477fd3(0xb4d),'#FEF3C7','#D1FAE5',_0x477fd3(0x3d1),'#E0E7FF',_0x477fd3(0x83b),_0x477fd3(0x4c5),_0x477fd3(0x290)],_0x1cce14=document[_0x477fd3(0x827)]('div');_0x1cce14['className']=_0x477fd3(0xb65),_0x295b9d[_0x477fd3(0xb32)](_0x110e58=>{const _0x1226ff=_0x477fd3,_0x25959b=document['createElement']('div');_0x25959b[_0x1226ff(0x55d)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x25959b[_0x1226ff(0x7fc)]['backgroundColor']=_0x110e58,_0x25959b[_0x1226ff(0x79b)](_0x1226ff(0xd52),()=>{const _0x2f0034=_0x1226ff;handleProjectColorChange(_0x41c30f,_0x110e58),_0x1cce14[_0x2f0034(0x76f)]();}),_0x1cce14[_0x1226ff(0xac6)](_0x25959b);}),document['body'][_0x477fd3(0xac6)](_0x1cce14);const _0x2dfa65=_0xcf5521['getBoundingClientRect']();_0x1cce14[_0x477fd3(0x7fc)][_0x477fd3(0xbb0)]=_0x2dfa65[_0x477fd3(0x2bd)]+window[_0x477fd3(0x877)]+'px',_0x1cce14[_0x477fd3(0x7fc)][_0x477fd3(0x742)]=_0x2dfa65[_0x477fd3(0x742)]+window[_0x477fd3(0x6c2)]-_0x1cce14[_0x477fd3(0xc2e)]/0x2+'px';}async function handleProjectColorChange(_0x75f327,_0x45d934){const _0xe5c97d=_0x569b7c,_0x1d3936=doc(db,_0xe5c97d(0x25b)+appId+_0xe5c97d(0x1bf),_0x75f327);try{await updateDoc(_0x1d3936,{'color':_0x45d934});}catch(_0x1ed2e5){console[_0xe5c97d(0x728)](_0xe5c97d(0xad3),_0x1ed2e5),showMessage(_0xe5c97d(0x59f));}}async function renderProjects(){const _0x12c8c7=_0x569b7c,_0xd8faa8=globalDashboardSettings['projectSort']||_0x12c8c7(0x510),_0xd216da=new Set(globalDashboardSettings[_0x12c8c7(0x5be)]||[]),_0x422cb1=globalDashboardSettings[_0x12c8c7(0x6bf)]||'grid',_0x32d283=document[_0x12c8c7(0xca0)](_0x12c8c7(0x440)),_0x5390bd=document[_0x12c8c7(0xca0)]('list-view-btn');_0x32d283[_0x12c8c7(0x396)][_0x12c8c7(0x51b)](_0x12c8c7(0x88e),_0x422cb1===_0x12c8c7(0xa07)),_0x5390bd[_0x12c8c7(0x396)][_0x12c8c7(0x51b)](_0x12c8c7(0x88e),_0x422cb1===_0x12c8c7(0x8b8)),document['getElementById'](_0x12c8c7(0x303))[_0x12c8c7(0xb85)]=_0xd8faa8;const _0x15b169=document[_0x12c8c7(0xca0)](_0x12c8c7(0x857))[_0x12c8c7(0xb85)][_0x12c8c7(0x38f)]();let _0x47ba3c=allProjects['filter'](_0x503a07=>_0x503a07[_0x12c8c7(0x8af)]['toLowerCase']()[_0x12c8c7(0x771)](_0x15b169));const _0x399fc4=_0x47ba3c[_0x12c8c7(0x959)](_0x23c1ce=>_0xd216da['has'](_0x23c1ce['id'])),_0x31fa20=_0x47ba3c[_0x12c8c7(0x959)](_0x247a74=>!_0xd216da[_0x12c8c7(0x94e)](_0x247a74['id'])),_0x1f181e=(_0x1a63c7,_0x37eced)=>{const _0x4abce6=_0x12c8c7;switch(_0xd8faa8){case _0x4abce6(0x7e0):return _0x1a63c7[_0x4abce6(0x8af)][_0x4abce6(0x8a1)](_0x37eced[_0x4abce6(0x8af)],'th');case _0x4abce6(0x4bf):return _0x37eced[_0x4abce6(0x8af)][_0x4abce6(0x8a1)](_0x1a63c7[_0x4abce6(0x8af)],'th');case _0x4abce6(0x970):return new Date(_0x1a63c7[_0x4abce6(0xad2)])-new Date(_0x37eced['createdAt']);default:return new Date(_0x37eced[_0x4abce6(0xad2)])-new Date(_0x1a63c7['createdAt']);}};_0x399fc4['sort'](_0x1f181e),_0x31fa20[_0x12c8c7(0x64b)](_0x1f181e);const _0x597dd8=[..._0x399fc4,..._0x31fa20],_0x2a857e=globalDashboardSettings[_0x12c8c7(0x1f7)]||[];_0x2a857e[_0x12c8c7(0xcda)]>0x0&&_0x422cb1===_0x12c8c7(0xa07)&&_0x597dd8['sort']((_0x49f962,_0x17e359)=>{const _0xbe2771=_0x12c8c7,_0x56b11c=_0x2a857e[_0xbe2771(0xa40)](_0x49f962['id']),_0x5bb8e8=_0x2a857e[_0xbe2771(0xa40)](_0x17e359['id']);if(_0x56b11c===-0x1)return 0x1;if(_0x5bb8e8===-0x1)return-0x1;return _0x56b11c-_0x5bb8e8;});const _0xb0495c={};await Promise[_0x12c8c7(0x606)](_0x597dd8['map'](async _0x40006c=>{const _0x51ce64=_0x12c8c7,_0x12c93c=query(collection(db,_0x51ce64(0x25b)+appId+_0x51ce64(0x72c)),where(_0x51ce64(0xadc),'==',_0x40006c['id'])),_0x3e8d47=await getDocs(_0x12c93c);_0xb0495c[_0x40006c['id']]=_0x3e8d47[_0x51ce64(0x697)];}));const _0x58b089=document[_0x12c8c7(0xca0)](_0x12c8c7(0x75b));let _0xc9c060='';if(_0x422cb1===_0x12c8c7(0xa07)){_0x58b089['className']=_0x12c8c7(0x3d3);if(starredQuizzes[_0x12c8c7(0xcda)]>0x0&&_0x15b169===''){const _0x4a06db=starredQuizzes['map'](_0xe8e139=>{const _0x220d3f=_0x12c8c7,_0x102dd1=allProjects[_0x220d3f(0xd14)](_0x23f05c=>_0x23f05c['id']===_0xe8e139[_0x220d3f(0xadc)]);return{..._0xe8e139,'projectName':_0x102dd1?_0x102dd1[_0x220d3f(0x8af)]:'N/A'};});_0xc9c060+=_0x12c8c7(0x467)+_0x4a06db[_0x12c8c7(0xc3d)](_0x353d35=>_0x12c8c7(0x5f2)+_0x353d35[_0x12c8c7(0xaf8)]+'\x22>'+_0x353d35[_0x12c8c7(0xaf8)]+_0x12c8c7(0x32e)+_0x353d35[_0x12c8c7(0x8af)]+_0x12c8c7(0x7be)+_0x353d35[_0x12c8c7(0x8af)]+_0x12c8c7(0xaf1))[_0x12c8c7(0xcbb)]('')+_0x12c8c7(0xabf)+starredQuizzes[_0x12c8c7(0xcda)]+_0x12c8c7(0xd1c);}_0x597dd8[_0x12c8c7(0xb32)](_0x518178=>{const _0x4023ab=_0x12c8c7,_0xd659ef=_0xb0495c[_0x518178['id']]??0x0,_0x4a63ae=_0xd216da['has'](_0x518178['id']),_0x518f6b=_0x518178[_0x4023ab(0x55c)]||_0x4023ab(0xa45),_0x5e71a7=parseInt(_0x518f6b[_0x4023ab(0x1fd)](0x1,0x3),0x10)*0.299+parseInt(_0x518f6b[_0x4023ab(0x1fd)](0x3,0x5),0x10)*0.587+parseInt(_0x518f6b[_0x4023ab(0x1fd)](0x5,0x7),0x10)*0.114<0xba,_0x90f782=_0x5e71a7?_0x4023ab(0x554):_0x4023ab(0xd56),_0x47ad99=_0x5e71a7?_0x4023ab(0xd2a):_0x4023ab(0x5ab);_0xc9c060+=_0x4023ab(0x72a)+(_0x4a63ae?_0x4023ab(0x94b):_0x4023ab(0x3ba))+_0x4023ab(0x61e)+_0x518f6b+';\x22\x20data-id=\x22'+_0x518178['id']+_0x4023ab(0x70d)+_0x518178['id']+_0x4023ab(0xbdd)+(_0x5e71a7?_0x4023ab(0xc5a):'text-gray-400\x20hover:text-indigo-600')+_0x4023ab(0x210)+_0x518178['id']+_0x4023ab(0x2ad)+(_0x5e71a7?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x4a63ae?_0x5e71a7?'text-yellow-300':_0x4023ab(0xa54):'')+_0x4023ab(0xc4b)+_0x518178['id']+_0x4023ab(0x612)+_0x90f782+'\x20pointer-events-none\x22>'+_0x518178[_0x4023ab(0x8af)]+_0x4023ab(0xcb9)+_0x47ad99+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x518178[_0x4023ab(0xad2)])['toLocaleDateString'](_0x4023ab(0x2fe))+_0x4023ab(0x7c6)+(_0x5e71a7?'text-gray-100':'text-gray-700')+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0xd659ef+_0x4023ab(0xb41)+_0x518178['id']+_0x4023ab(0xa57)+_0x518178[_0x4023ab(0x8af)]+_0x4023ab(0xac3)+(_0x5e71a7?_0x4023ab(0x5e9):_0x4023ab(0x362))+_0x4023ab(0x41f);});}else _0x58b089[_0x12c8c7(0x55d)]=_0x12c8c7(0x4ca),starredQuizzes[_0x12c8c7(0xcda)]>0x0&&_0x15b169===''&&(_0xc9c060+=_0x12c8c7(0x39f)+starredQuizzes[_0x12c8c7(0xcda)]+_0x12c8c7(0xd1f)),_0xc9c060+=_0x12c8c7(0x8b1),_0x597dd8[_0x12c8c7(0xb32)](_0x545c58=>{const _0xe2edc=_0x12c8c7,_0x459b8c=_0xb0495c[_0x545c58['id']]??0x0,_0x477a58=_0xd216da['has'](_0x545c58['id']);_0xc9c060+=_0xe2edc(0x558)+(_0x545c58[_0xe2edc(0x55c)]||'#E5E7EB')+_0xe2edc(0xb64)+_0x545c58['id']+_0xe2edc(0x5fb)+_0x545c58[_0xe2edc(0x8af)]+_0xe2edc(0x909)+_0x459b8c+_0xe2edc(0x9f2)+new Date(_0x545c58['createdAt'])[_0xe2edc(0xc66)](_0xe2edc(0x2fe))+_0xe2edc(0xce1)+_0x545c58['id']+_0xe2edc(0xc4e)+(_0x477a58?_0xe2edc(0xa54):'')+_0xe2edc(0xb1e)+_0x545c58['id']+'\x22\x20data-name=\x22'+_0x545c58[_0xe2edc(0x8af)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList[_0x12c8c7(0xa5b)]=_0xc9c060,noProjectsMsg[_0x12c8c7(0x396)][_0x12c8c7(0x51b)]('hidden',_0xc9c060[_0x12c8c7(0xcda)]>0x0);}document[_0x569b7c(0xca0)]('confirm-create-project-btn')[_0x569b7c(0x79b)](_0x569b7c(0xd52),async()=>{const _0x3c4c13=_0x569b7c,_0x1ee678=document[_0x3c4c13(0xca0)](_0x3c4c13(0xd07)),_0x4fd902=_0x1ee678['value'][_0x3c4c13(0xc9e)]();if(!_0x4fd902){showMessage(_0x3c4c13(0x20a));return;}try{const _0x107f03=doc(collection(db,_0x3c4c13(0x25b)+appId+_0x3c4c13(0x1bf)));await setDoc(_0x107f03,{'projectName':_0x4fd902,'students':[],'settings':{'resultsDisplay':_0x3c4c13(0xcf7),'shuffleSetting':_0x3c4c13(0x9d3),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x3c4c13(0x9d3),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x3c4c13(0x9bb)]()}),_0x1ee678[_0x3c4c13(0xb85)]='',createProjectModal['classList'][_0x3c4c13(0x46b)](_0x3c4c13(0xb23)),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x20546a){console[_0x3c4c13(0x728)](_0x3c4c13(0x394),_0x20546a),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x569b7c(0x79b)](_0x569b7c(0xd52),async _0xe9b981=>{const _0x1e47f7=_0x569b7c,_0x259777=_0xe9b981[_0x1e47f7(0xbe5)][_0x1e47f7(0xa9f)](_0x1e47f7(0x746)),_0x5bfeae=_0xe9b981[_0x1e47f7(0xbe5)][_0x1e47f7(0xa9f)](_0x1e47f7(0x889)),_0x116c4b=_0xe9b981[_0x1e47f7(0xbe5)]['closest']('.pin-project-btn'),_0x5f0f76=_0xe9b981['target'][_0x1e47f7(0xa9f)](_0x1e47f7(0xbc9));if(_0x116c4b){const _0x5924e2=_0x116c4b['dataset']['id'],_0xe993d8=doc(db,_0x1e47f7(0x687),_0x1e47f7(0xd59)),_0x5ecb80=globalDashboardSettings['pinnedProjects'];let _0x382a63;_0x5ecb80['includes'](_0x5924e2)?_0x382a63=_0x5ecb80[_0x1e47f7(0x959)](_0x36bd20=>_0x36bd20!==_0x5924e2):_0x382a63=[..._0x5ecb80,_0x5924e2];try{await setDoc(_0xe993d8,{'pinnedProjects':_0x382a63},{'merge':!![]});}catch(_0x5dc286){console[_0x1e47f7(0x728)](_0x1e47f7(0xadb),_0x5dc286),showMessage(_0x1e47f7(0xca1));}}else{if(_0x5f0f76){const _0x1d584a=_0x5f0f76['dataset']['id'];showColorPalette(_0x5f0f76,_0x1d584a);}else{if(_0x259777){const _0x69d2b9=_0x259777[_0x1e47f7(0x507)]['id'];_0x69d2b9===_0x1e47f7(0xa31)?showStarredProjectView():(currentProjectId=_0x69d2b9,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x5bfeae){const _0x13cab6=_0x5bfeae[_0x1e47f7(0x507)]['id'],_0x5f3691=_0x5bfeae['dataset'][_0x1e47f7(0x5bd)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x5f3691+_0x1e47f7(0xa7e),()=>handleDeleteProject(_0x13cab6));}}}}}),projectList[_0x569b7c(0x79b)](_0x569b7c(0x37a),_0x288e56=>{const _0x425ba5=_0x569b7c,_0xa2ab23=_0x288e56[_0x425ba5(0xbe5)][_0x425ba5(0xa9f)](_0x425ba5(0x5f0));_0xa2ab23&&_0xa2ab23[_0x425ba5(0x396)]['add'](_0x425ba5(0xbbc));}),projectList[_0x569b7c(0x79b)]('dragend',_0x1e9b9a=>{const _0x506e96=_0x569b7c,_0x34127f=_0x1e9b9a[_0x506e96(0xbe5)][_0x506e96(0xa9f)](_0x506e96(0x5f0));_0x34127f&&_0x34127f[_0x506e96(0x396)]['remove'](_0x506e96(0xbbc));}),projectList['addEventListener'](_0x569b7c(0x787),_0x2ee6cd=>{const _0x264f2d=_0x569b7c;_0x2ee6cd['preventDefault']();const _0x43ce9a=document['querySelector'](_0x264f2d(0x390));if(!_0x43ce9a)return;const _0x24c2a5=getDragAfterElement(projectList,_0x2ee6cd['clientY']);_0x24c2a5==null?projectList[_0x264f2d(0xac6)](_0x43ce9a):projectList[_0x264f2d(0x4b5)](_0x43ce9a,_0x24c2a5);}),projectList[_0x569b7c(0x79b)](_0x569b7c(0x321),_0x1d07f4=>{const _0x54d441=_0x569b7c;_0x1d07f4[_0x54d441(0x631)]();const _0x4e947d=[...projectList[_0x54d441(0x31c)](_0x54d441(0xcee))][_0x54d441(0xc3d)](_0x51581d=>_0x51581d[_0x54d441(0x507)]['id']);saveProjectOrder(_0x4e947d);});function renderBehaviorLog(_0x4bcbbf){const _0xcedf15=_0x569b7c,_0x49ee63=document[_0xcedf15(0xca0)](_0xcedf15(0x77f));if(!_0x49ee63)return;const _0x250067=_0x4bcbbf[_0xcedf15(0x959)](_0x340b1c=>_0x340b1c[_0xcedf15(0xa8d)]&&_0x340b1c['behaviorLog']['length']>0x0);if(_0x250067[_0xcedf15(0xcda)]===0x0){_0x49ee63[_0xcedf15(0xa5b)]=_0xcedf15(0x50d);return;}let _0x43c48e='';_0x250067[_0xcedf15(0xb32)](_0x577b64=>{const _0x428031=_0xcedf15;_0x43c48e+=_0x428031(0x5d8)+_0x577b64['studentName']+_0x428031(0x6ff),_0x577b64[_0x428031(0xa8d)][_0x428031(0x64b)]((_0x6cd8a9,_0x34b3d6)=>new Date(_0x34b3d6[_0x428031(0x577)])-new Date(_0x6cd8a9[_0x428031(0x577)]))[_0x428031(0xb32)](_0x4e2c52=>{const _0x236f01=_0x428031,_0x4aef12=new Date(_0x4e2c52[_0x236f01(0x577)])[_0x236f01(0xc66)]('th-TH',{'dateStyle':_0x236f01(0xc55),'timeStyle':_0x236f01(0x653)});_0x43c48e+=_0x236f01(0x6b5)+_0x4e2c52[_0x236f01(0x2b0)]+_0x236f01(0x25f)+_0x4aef12+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x43c48e+=_0x428031(0x67c);}),_0x49ee63[_0xcedf15(0xa5b)]=_0x43c48e;}function getDragAfterElement(_0x107e9e,_0x37e467){const _0x605364=_0x569b7c,_0x4d2550=[..._0x107e9e[_0x605364(0x31c)](_0x605364(0x218))];return _0x4d2550['reduce']((_0x243528,_0x2c0015)=>{const _0x393d1b=_0x605364,_0x3fc7ae=_0x2c0015['getBoundingClientRect'](),_0x29e8a9=_0x37e467-_0x3fc7ae['top']-_0x3fc7ae[_0x393d1b(0x313)]/0x2;return _0x29e8a9<0x0&&_0x29e8a9>_0x243528['offset']?{'offset':_0x29e8a9,'element':_0x2c0015}:_0x243528;},{'offset':Number[_0x605364(0x38e)]})[_0x605364(0x963)];}async function saveProjectOrder(_0x1e15d9){const _0x4da9bf=_0x569b7c,_0x1799a7=doc(db,'globalSettings',_0x4da9bf(0xd59));try{await setDoc(_0x1799a7,{'projectOrder':_0x1e15d9},{'merge':!![]});}catch(_0x232436){console[_0x4da9bf(0x728)](_0x4da9bf(0x749),_0x232436),showMessage(_0x4da9bf(0xa2a));}}async function logBehaviorEvent(_0x432b14,_0x1e8c6a={}){const _0x52fe7a=_0x569b7c;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x52fe7a(0x60f)](_0x52fe7a(0x882));return;}const _0x392ce5=doc(db,_0x52fe7a(0x25b)+appId+'/public/data/quizzes/'+currentQuizData['id']+'/submissions',currentStudentName),_0x29f489={'event':_0x432b14,'timestamp':new Date()[_0x52fe7a(0x9bb)](),..._0x1e8c6a};try{await updateDoc(_0x392ce5,{'behaviorLog':arrayUnion(_0x29f489)}),console[_0x52fe7a(0x2fa)](_0x52fe7a(0x73a)+currentStudentName+_0x52fe7a(0x3e8));}catch(_0x406259){_0x406259[_0x52fe7a(0xa76)]===_0x52fe7a(0x245)?console[_0x52fe7a(0x60f)](_0x52fe7a(0x73d)+currentStudentName+_0x52fe7a(0x5dd)):console[_0x52fe7a(0x728)](_0x52fe7a(0x35b),_0x406259);}}function calculateMeanAndStdDev(_0x288417){const _0x5b4e2f=_0x569b7c;if(_0x288417['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x44ba9a=_0x288417[_0x5b4e2f(0x5c5)]((_0x59f89f,_0x32fdf2)=>_0x59f89f+_0x32fdf2,0x0)/_0x288417['length'];if(_0x288417['length']===0x1)return{'mean':_0x44ba9a,'stdDev':0x0};const _0x528904=Math[_0x5b4e2f(0x8f7)](_0x288417[_0x5b4e2f(0xc3d)](_0x1b640d=>Math['pow'](_0x1b640d-_0x44ba9a,0x2))[_0x5b4e2f(0x5c5)]((_0x10df9d,_0x273e27)=>_0x10df9d+_0x273e27,0x0)/(_0x288417['length']-0x1));return{'mean':_0x44ba9a,'stdDev':_0x528904};}function calculateZScore(_0x3688f7,_0x93fd97,_0x303033){if(_0x303033===0x0)return 0x0;return(_0x3688f7-_0x93fd97)/_0x303033;}function calculateTScore(_0x24a525){return 0xa*_0x24a525+0x32;}function showStarredProjectView(){const _0xaf5fbf=_0x569b7c;currentProjectId='starred',currentProjectData=null,projectTitle['textContent']=_0xaf5fbf(0x78a),projectIdDisplay[_0xaf5fbf(0x8a5)]='pinned-items',showView('project-detail'),manageTab['classList'][_0xaf5fbf(0x46b)](_0xaf5fbf(0xb23)),leaderboardTab[_0xaf5fbf(0x396)][_0xaf5fbf(0x46b)]('hidden'),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x4c0455){const _0x5d3ef4=_0x569b7c,_0x749762=doc(db,_0x5d3ef4(0x25b)+appId+_0x5d3ef4(0x1bf),_0x4c0455),_0x6e836f=await getDoc(_0x749762);if(_0x6e836f[_0x5d3ef4(0x6c9)]()){manageTab[_0x5d3ef4(0x396)][_0x5d3ef4(0x76f)]('hidden'),leaderboardTab[_0x5d3ef4(0x396)][_0x5d3ef4(0x76f)](_0x5d3ef4(0xb23)),currentProjectData=_0x6e836f[_0x5d3ef4(0x7f5)](),projectTitle[_0x5d3ef4(0x8a5)]=currentProjectData[_0x5d3ef4(0x8af)],projectIdDisplay[_0x5d3ef4(0x8a5)]=_0x4c0455;const _0x3f3cc1=currentProjectData[_0x5d3ef4(0x3ee)]||{};document[_0x5d3ef4(0xca0)]('shuffle-setting-select')[_0x5d3ef4(0xb85)]=_0x3f3cc1[_0x5d3ef4(0x490)]||_0x5d3ef4(0x9d3);const _0x4e40ee=document['getElementById']('show-in-student-dashboard-checkbox');_0x4e40ee[_0x5d3ef4(0x397)]=_0x3f3cc1[_0x5d3ef4(0xbd9)]!==![];const _0x565951=document[_0x5d3ef4(0xca0)](_0x5d3ef4(0x8e3)),_0x351ac0=document['getElementById'](_0x5d3ef4(0xb3e)),_0x293ea5=document[_0x5d3ef4(0xca0)](_0x5d3ef4(0x20b)),_0x2c33fe=_0x3f3cc1['isPasscodeEnabled']||![];_0x565951[_0x5d3ef4(0x397)]=_0x2c33fe,_0x293ea5['value']=_0x3f3cc1[_0x5d3ef4(0x539)]||'',_0x351ac0[_0x5d3ef4(0x396)]['toggle'](_0x5d3ef4(0xb23),!_0x2c33fe),_0x565951['onchange']=()=>{const _0x2229c9=_0x5d3ef4;_0x351ac0[_0x2229c9(0x396)][_0x2229c9(0x51b)]('hidden',!_0x565951['checked']);},document['getElementById']('confidence-scoring-checkbox')[_0x5d3ef4(0x397)]=_0x3f3cc1[_0x5d3ef4(0x80b)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x4c0455),listenForProjectQuizzes(_0x4c0455),listenForStudentProfiles(_0x4c0455);}else showMessage(_0x5d3ef4(0xb0c)),showView(_0x5d3ef4(0x54c));}async function handleResetProjectOrder(){const _0x64d7e2=_0x569b7c,_0x45154e=doc(db,'globalSettings',_0x64d7e2(0xd59));try{await setDoc(_0x45154e,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x64d7e2(0x72b));}catch(_0x48680b){console[_0x64d7e2(0x728)]('Error\x20resetting\x20project\x20order:',_0x48680b),showMessage(_0x64d7e2(0x9c8));}}async function handleTogglePinProject(_0x203cf5){const _0x2cc33c=_0x569b7c;if(!_0x203cf5)return;const _0x12048d=doc(db,'artifacts/'+appId+_0x2cc33c(0x1bf),_0x203cf5);try{const _0x1ab5a5=await getDoc(_0x12048d);if(_0x1ab5a5[_0x2cc33c(0x6c9)]()){const _0x55e7c1=_0x1ab5a5['data']()[_0x2cc33c(0xb6c)]||![];await updateDoc(_0x12048d,{'isPinned':!_0x55e7c1});}}catch(_0x1ac373){console[_0x2cc33c(0x728)](_0x2cc33c(0x906),_0x1ac373),showMessage(_0x2cc33c(0xca1));}}async function handleDeleteProject(_0xc04829){const _0x2ac15c=_0x569b7c;try{const _0x2b7fad=writeBatch(db),_0x3c0c18=collection(db,'artifacts/'+appId+_0x2ac15c(0x72c)),_0x45a9e7=query(_0x3c0c18,where('projectId','==',_0xc04829)),_0xa100c8=await getDocs(_0x45a9e7);for(const _0x12166d of _0xa100c8[_0x2ac15c(0x53c)]){const _0x49ce87=collection(db,_0x2ac15c(0x25b)+appId+'/public/data/quizzes/'+_0x12166d['id']+_0x2ac15c(0x1ee)),_0xd87d8c=await getDocs(_0x49ce87);_0xd87d8c[_0x2ac15c(0xb32)](_0x1a8d80=>{const _0x23ed93=_0x2ac15c;_0x2b7fad[_0x23ed93(0x81e)](_0x1a8d80[_0x23ed93(0xcd7)]);}),_0x2b7fad[_0x2ac15c(0x81e)](_0x12166d['ref']);}const _0x235ff4=collection(db,'artifacts/'+appId+_0x2ac15c(0xbcb)+_0xc04829+_0x2ac15c(0x561)),_0x1bba3a=await getDocs(_0x235ff4);_0x1bba3a[_0x2ac15c(0xb32)](_0x1cfffd=>{const _0x336f78=_0x2ac15c;_0x2b7fad[_0x336f78(0x81e)](_0x1cfffd[_0x336f78(0xcd7)]);});const _0x3f301f=doc(db,_0x2ac15c(0x25b)+appId+_0x2ac15c(0x1bf),_0xc04829);_0x2b7fad[_0x2ac15c(0x81e)](_0x3f301f),await _0x2b7fad[_0x2ac15c(0xad5)](),showMessage(_0x2ac15c(0x1c5)),showView(_0x2ac15c(0x54c));}catch(_0x2db958){console[_0x2ac15c(0x728)](_0x2ac15c(0x222),_0x2db958),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document['getElementById']('save-settings-btn')[_0x569b7c(0x79b)]('click',async()=>{const _0x304420=_0x569b7c;if(!currentProjectId)return;const _0x1c8d84={'defaultNumQuestions':parseInt(document[_0x304420(0xca0)](_0x304420(0x5a2))[_0x304420(0xb85)]),'defaultNumChoices':parseInt(document[_0x304420(0xca0)](_0x304420(0x6a0))[_0x304420(0xb85)]),'defaultPassingScore':parseInt(document[_0x304420(0xca0)]('passing-score-input')[_0x304420(0xb85)]),'resultsDisplay':document[_0x304420(0xca0)]('results-display-select')[_0x304420(0xb85)],'shuffleSetting':document[_0x304420(0xca0)](_0x304420(0xa85))[_0x304420(0xb85)],'timerMode':document[_0x304420(0xca0)]('timer-mode-select')[_0x304420(0xb85)],'timerDuration':parseInt(document[_0x304420(0xca0)](_0x304420(0x871))[_0x304420(0xb85)]),'isConfidenceScoringEnabled':document[_0x304420(0xca0)](_0x304420(0xa7a))[_0x304420(0x397)],'confidenceMode':document['getElementById'](_0x304420(0x802))[_0x304420(0xb85)]};try{const _0x2988a5=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x2988a5,{'settings':_0x1c8d84}),showMessage(_0x304420(0x63a));}catch(_0x2c82cf){console[_0x304420(0x728)](_0x304420(0x5bc),_0x2c82cf),showMessage(_0x304420(0x277));}});function listenForStudents(_0x5cac18){const _0x1bf433=_0x569b7c,_0x34d604=doc(db,_0x1bf433(0x25b)+appId+_0x1bf433(0x1bf),_0x5cac18);unsubscribeStudentsListener=onSnapshot(_0x34d604,_0xe1744e=>{const _0x7d6a0c=_0x1bf433;if(_0xe1744e[_0x7d6a0c(0x6c9)]()){const _0x46c6cc=_0xe1744e[_0x7d6a0c(0x7f5)]();currentProjectData=_0x46c6cc,renderStudentList(_0x46c6cc[_0x7d6a0c(0x9bf)]||[]);}});}function renderStudentList(_0x424840){const _0x37ba0f=_0x569b7c,_0x3fe127=document[_0x37ba0f(0xca0)](_0x37ba0f(0x6b8));_0x424840[_0x37ba0f(0xcda)]===0x0?(studentList[_0x37ba0f(0xa5b)]=_0x37ba0f(0xaf3),_0x3fe127[_0x37ba0f(0x396)][_0x37ba0f(0x46b)](_0x37ba0f(0xb23))):(studentList[_0x37ba0f(0xa5b)]=_0x424840['map'](_0x3c0589=>_0x37ba0f(0x6bc)+_0x3c0589+_0x37ba0f(0xa3c)+_0x3c0589+_0x37ba0f(0x38d))[_0x37ba0f(0xcbb)](''),_0x3fe127[_0x37ba0f(0x396)][_0x37ba0f(0x76f)](_0x37ba0f(0xb23)));}document[_0x569b7c(0xca0)](_0x569b7c(0xcff))['addEventListener'](_0x569b7c(0xd52),async()=>{const _0x212577=_0x569b7c;if(!currentProjectId)return;const _0x3c3b21=document[_0x212577(0xca0)](_0x212577(0x2cc)),_0x542e25=_0x3c3b21[_0x212577(0xb85)][_0x212577(0xc9e)]();if(!_0x542e25){showMessage(_0x212577(0xb02));return;}const _0x59c9d1=_0x542e25[_0x212577(0x600)]('\x0a')[_0x212577(0xc3d)](_0x70af76=>_0x70af76[_0x212577(0xc9e)]())[_0x212577(0x959)](_0x313dd9=>_0x313dd9);if(_0x59c9d1[_0x212577(0xcda)]===0x0)return;try{const _0x509f6f=doc(db,'artifacts/'+appId+_0x212577(0x1bf),currentProjectId),_0x8a5554=await getDoc(_0x509f6f);if(_0x8a5554[_0x212577(0x6c9)]()){const _0x1e775c=_0x8a5554[_0x212577(0x7f5)]()[_0x212577(0x9bf)]||[],_0x15e369=[...new Set([..._0x1e775c,..._0x59c9d1])];await updateDoc(_0x509f6f,{'students':_0x15e369}),_0x3c3b21[_0x212577(0xb85)]='';}}catch(_0x11c239){console[_0x212577(0x728)](_0x212577(0x40f),_0x11c239),showMessage(_0x212577(0xcdb));}});async function handleManualQuizPairing(_0xd516e){const _0x408741=_0x569b7c,_0x3821f7=document[_0x408741(0xca0)]('move-quiz-modal'),_0x56bc13=document[_0x408741(0xca0)](_0x408741(0xa1e)),_0xa4000d=_0x3821f7[_0x408741(0xb90)]('h3'),_0x41a048=document[_0x408741(0xca0)](_0x408741(0xbae)),_0x31917c=document[_0x408741(0xca0)](_0x408741(0x6e7));_0xa4000d['textContent']=_0x408741(0xc61),_0x56bc13[_0x408741(0xa5b)]='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x41a048[_0x408741(0x8a5)]=_0x408741(0xb73),_0x3821f7['classList'][_0x408741(0x76f)](_0x408741(0xb23));const _0x246f75=allQuizzes[_0x408741(0x959)](_0x33f4f9=>_0x33f4f9['id']!==_0xd516e);_0x246f75['length']===0x0?(_0x56bc13[_0x408741(0xa5b)]=_0x408741(0x49b),_0x41a048[_0x408741(0x7b4)]=!![]):(_0x56bc13['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x246f75['map'](_0x3070e0=>_0x408741(0x2df)+_0x3070e0['id']+'\x22>'+_0x3070e0[_0x408741(0xaf8)]+'</option>')['join'](''),_0x41a048[_0x408741(0x7b4)]=![]);const _0x52203d=async()=>{const _0x5c578d=_0x408741,_0xc443e8=_0x56bc13[_0x5c578d(0xb85)];if(!_0xc443e8){showMessage(_0x5c578d(0x846));return;}_0x41a048['disabled']=!![],_0x41a048[_0x5c578d(0x8a5)]=_0x5c578d(0x852);try{const _0x17ca96=doc(db,_0x5c578d(0x25b)+appId+_0x5c578d(0x72c),_0xd516e),_0x175422=doc(db,'artifacts/'+appId+_0x5c578d(0x72c),_0xc443e8),_0x3301c7=writeBatch(db);_0x3301c7[_0x5c578d(0x3bb)](_0x17ca96,{'pairedQuizId':_0xc443e8}),_0x3301c7[_0x5c578d(0x3bb)](_0x175422,{'pairedQuizId':_0xd516e}),await _0x3301c7[_0x5c578d(0xad5)](),showMessage(_0x5c578d(0x4f5)),_0x3821f7[_0x5c578d(0x396)][_0x5c578d(0x46b)](_0x5c578d(0xb23));}catch(_0x3f58cf){console[_0x5c578d(0x728)](_0x5c578d(0xae9),_0x3f58cf),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0xa4000d[_0x5c578d(0x8a5)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x41a048[_0x5c578d(0x8a5)]=_0x5c578d(0x83d),_0x41a048['disabled']=![],_0x41a048[_0x5c578d(0xd44)](_0x5c578d(0xd52),_0x52203d),_0x31917c['removeEventListener']('click',_0x165130);}},_0x165130=()=>{const _0x51c8e5=_0x408741;_0x3821f7['classList'][_0x51c8e5(0x46b)]('hidden'),_0xa4000d[_0x51c8e5(0x8a5)]=_0x51c8e5(0x326),_0x41a048[_0x51c8e5(0x8a5)]=_0x51c8e5(0x83d),_0x41a048[_0x51c8e5(0xd44)]('click',_0x52203d),_0x31917c[_0x51c8e5(0xd44)]('click',_0x165130);};_0x41a048[_0x408741(0x79b)](_0x408741(0xd52),_0x52203d),_0x31917c[_0x408741(0x79b)](_0x408741(0xd52),_0x165130);}function handleDeleteStudent(_0x367833){const _0x95cd01=_0x569b7c;showConfirmation(_0x95cd01(0x7e1)+_0x367833+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x25bc3f=_0x95cd01;if(!currentProjectId||!currentProjectData)return;const _0x4dcc60=currentProjectData['students']['filter'](_0x1d025e=>_0x1d025e!==_0x367833);try{const _0xdbc77a=doc(db,_0x25bc3f(0x25b)+appId+'/public/data/projects',currentProjectId),_0x119ea4=doc(db,_0x25bc3f(0x25b)+appId+_0x25bc3f(0xbcb)+currentProjectId+'/studentProfiles',_0x367833),_0x3813d8=writeBatch(db);_0x3813d8[_0x25bc3f(0x3bb)](_0xdbc77a,{'students':_0x4dcc60}),_0x3813d8[_0x25bc3f(0x81e)](_0x119ea4),await _0x3813d8[_0x25bc3f(0xad5)]();}catch(_0xc1a8d6){console['error'](_0x25bc3f(0xb62),_0xc1a8d6),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0xd323ee=_0x1447;if(!currentProjectId)return;try{const _0x443e26=doc(db,_0xd323ee(0x25b)+appId+_0xd323ee(0x1bf),currentProjectId),_0x33815b=collection(db,'artifacts/'+appId+_0xd323ee(0xbcb)+currentProjectId+_0xd323ee(0x561)),_0x3f1f4b=await getDocs(_0x33815b),_0x42e492=writeBatch(db);_0x42e492['update'](_0x443e26,{'students':[]}),_0x3f1f4b[_0xd323ee(0xb32)](_0x35c0ed=>_0x42e492[_0xd323ee(0x81e)](_0x35c0ed[_0xd323ee(0xcd7)])),await _0x42e492[_0xd323ee(0xad5)]();}catch(_0x41fdeb){console[_0xd323ee(0x728)](_0xd323ee(0xa14),_0x41fdeb),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x3d2c0f){const _0x3d264d=_0x569b7c,_0x32b13c=document[_0x3d264d(0xca0)](_0x3d264d(0x266)),_0x39e6d8=document[_0x3d264d(0xca0)]('file-topics-list');_0x32b13c[_0x3d264d(0x396)][_0x3d264d(0x76f)](_0x3d264d(0xb23)),_0x39e6d8['innerHTML']=_0x3d264d(0x446);try{const _0x5ac8b4=new FileReader();_0x5ac8b4[_0x3d264d(0xa8c)](_0x3d2c0f),await new Promise((_0x170e1a,_0x5ef2aa)=>{const _0x296a39=_0x3d264d;_0x5ac8b4[_0x296a39(0xab5)]=()=>{const _0x1a34d1=_0x296a39;fileDataBase64=_0x5ac8b4[_0x1a34d1(0x5d4)][_0x1a34d1(0x600)](',')[0x1],fileMimeType=_0x3d2c0f[_0x1a34d1(0x8df)],_0x170e1a();},_0x5ac8b4[_0x296a39(0x4c9)]=_0xebf257=>_0x5ef2aa(_0xebf257);});if(!fileDataBase64)throw new Error(_0x3d264d(0x6dc));const _0xb4fc49=_0x3d264d(0x375),_0x11c3bc={'type':'OBJECT','properties':{'topics':{'type':'ARRAY','items':{'type':_0x3d264d(0xb67)}}},'required':[_0x3d264d(0xb58)]},_0x3f63e0=[{'text':_0xb4fc49},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x1e5706=await handleApiCall(_0x3f63e0,_0x3d264d(0x319),_0x11c3bc,null,![]);if(_0x1e5706&&_0x1e5706['topics'])extractedFileTopics=_0x1e5706[_0x3d264d(0xb58)],renderFileTopics();else throw new Error(_0x3d264d(0x203));}catch(_0x27b112){console[_0x3d264d(0x728)](_0x3d264d(0x4ce),_0x27b112),_0x39e6d8[_0x3d264d(0xa5b)]=_0x3d264d(0x6d7)+_0x27b112[_0x3d264d(0x7d7)]+_0x3d264d(0xb3a);}}function renderFileTopics(){const _0x418ed7=_0x569b7c,_0x28aee9=document[_0x418ed7(0xca0)](_0x418ed7(0x83f));if(extractedFileTopics[_0x418ed7(0xcda)]===0x0){_0x28aee9[_0x418ed7(0xa5b)]=_0x418ed7(0x806);return;}_0x28aee9[_0x418ed7(0xa5b)]=extractedFileTopics[_0x418ed7(0xc3d)](_0x43a040=>_0x418ed7(0x8c1)+_0x43a040+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x43a040)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x43a040)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x418ed7(0xcbb)]('');}async function generateHybridQuizForTopic(_0x366c9b){const _0x2dcc69=_0x569b7c,_0x341eb8=parseInt(document['getElementById']('num-questions')['value'],0xa),_0x19052f=document[_0x2dcc69(0xca0)](_0x2dcc69(0x701))[_0x2dcc69(0xb85)],_0x268ea6=document[_0x2dcc69(0xca0)](_0x2dcc69(0x6a0))[_0x2dcc69(0xb85)],_0x5c8d79=document[_0x2dcc69(0xca0)]('include-images-checkbox')[_0x2dcc69(0x397)],_0x756471=_0x5c8d79?_0x2dcc69(0x6d0):_0x2dcc69(0xa19);let _0x39850a='',_0x58c3f1;const _0x105ae2={'type':_0x2dcc69(0xbcd),'properties':{'questionText':{'type':_0x2dcc69(0xb67)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2dcc69(0x911)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0x2dcc69(0xb7c),_0x2dcc69(0x481),'explanation']},_0x525966={'type':_0x2dcc69(0xbcd),'properties':{'questionText':{'type':_0x2dcc69(0xb67)},'correctAnswer':{'type':_0x2dcc69(0xc31)},'explanation':{'type':_0x2dcc69(0xb67)},'imageCode':{'type':'STRING'}},'required':[_0x2dcc69(0x332),_0x2dcc69(0x69f),'explanation']},_0x40b407={'type':_0x2dcc69(0xbcd),'properties':{'questionText':{'type':_0x2dcc69(0xb67)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2dcc69(0xb67)}},'required':['questionText',_0x2dcc69(0x8ca),_0x2dcc69(0x420)]},_0x215a24={'type':_0x2dcc69(0xbcd),'properties':{'questionType':{'type':_0x2dcc69(0xb67),'enum':[_0x2dcc69(0x489)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x2dcc69(0xb67)},'allResponses':{'type':_0x2dcc69(0x7c4),'items':{'type':_0x2dcc69(0xb67)}},'explanation':{'type':_0x2dcc69(0xb67)},'imageCode':{'type':_0x2dcc69(0xb67)}},'required':['questionType',_0x2dcc69(0x73f),'correctResponse',_0x2dcc69(0x1db),_0x2dcc69(0x420)]};switch(_0x19052f){case _0x2dcc69(0x27b):_0x39850a=_0x2dcc69(0x7fe)+_0x268ea6+_0x2dcc69(0x438),_0x58c3f1=_0x105ae2;break;case _0x2dcc69(0xa08):_0x39850a=_0x2dcc69(0x2d6),_0x58c3f1=_0x525966;break;case _0x2dcc69(0xcf8):_0x39850a=_0x2dcc69(0x518),_0x58c3f1=_0x40b407;break;case _0x2dcc69(0x2ca):_0x39850a=_0x2dcc69(0x729),_0x58c3f1=_0x215a24;break;case'fill_in_with_choices':_0x39850a=_0x2dcc69(0x3c4)+_0x268ea6+_0x2dcc69(0x438),_0x58c3f1=_0x105ae2;break;default:_0x39850a='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x268ea6+'\x20ตัวเลือก)',_0x58c3f1=_0x105ae2;break;}const _0x430715=_0x2dcc69(0x856),_0x3dc455=document[_0x2dcc69(0xca0)](_0x2dcc69(0x826)),_0x14fda2=document['getElementById']('loader-text'),_0x7eadb5=document[_0x2dcc69(0xca0)]('generated-quiz-container');document['getElementById'](_0x2dcc69(0x366))[_0x2dcc69(0x396)]['remove'](_0x2dcc69(0xb23)),_0x7eadb5[_0x2dcc69(0xa5b)]='',_0x3dc455['classList'][_0x2dcc69(0x76f)]('hidden'),_0x14fda2['textContent']='AI\x20กำลังสร้างแบบทดสอบ\x20\x22'+_0x366c9b+_0x2dcc69(0x7bf)+_0x341eb8+_0x2dcc69(0xa42);try{const _0x4b607c=_0x2dcc69(0x8bf),_0x4cb1b=_0x2dcc69(0xa9c)+_0x366c9b+'\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20'+_0x341eb8+'\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22'+_0x366c9b+_0x2dcc69(0x60a)+_0x341eb8+'\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20'+_0x756471+_0x2dcc69(0xbce)+_0x39850a+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x430715+'**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b607c+_0x2dcc69(0x1d8)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2c45ff={'type':'OBJECT','properties':{'topic':{'type':_0x2dcc69(0xb67)},'questions':{'type':'ARRAY','items':_0x58c3f1}},'required':[_0x2dcc69(0xaf8),'questions']},_0x544a44=[{'text':_0x4cb1b},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x544a44,'กำลังสร้างแบบทดสอบ\x20\x22'+_0x366c9b+'\x22...',_0x2c45ff);}catch(_0x24e5bb){console[_0x2dcc69(0x728)](_0x2dcc69(0xcd6),_0x24e5bb),showMessage(_0x2dcc69(0xc90)+_0x24e5bb[_0x2dcc69(0x7d7)]),_0x7eadb5[_0x2dcc69(0xa5b)]=_0x2dcc69(0xb74);}finally{_0x3dc455[_0x2dcc69(0x396)]['add']('hidden');}}async function handleGenerateFromFileClick(){const _0x285165=_0x569b7c;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x503fc7=document['getElementById'](_0x285165(0x826)),_0x61b6d8=document[_0x285165(0xca0)](_0x285165(0x547)),_0x45e170=document[_0x285165(0xca0)](_0x285165(0x91e)),_0x459f61=document['getElementById'](_0x285165(0x618));_0x459f61['disabled']=!![],document['getElementById']('quiz-generation-area')[_0x285165(0x396)][_0x285165(0x76f)](_0x285165(0xb23)),_0x45e170[_0x285165(0xa5b)]='',_0x503fc7[_0x285165(0x396)][_0x285165(0x76f)]('hidden'),_0x61b6d8['textContent']=_0x285165(0x804);try{const _0x51f787=await new Promise((_0x37c993,_0x40f5fc)=>{const _0x462518=_0x285165,_0x50a9b3=new FileReader();_0x50a9b3[_0x462518(0xa8c)](selectedFile),_0x50a9b3[_0x462518(0xab5)]=()=>_0x37c993(_0x50a9b3[_0x462518(0x5d4)][_0x462518(0x600)](',')[0x1]),_0x50a9b3[_0x462518(0x4c9)]=_0x6ad994=>_0x40f5fc(_0x6ad994);});await generateQuizFromFile(selectedFile[_0x285165(0x8df)],_0x51f787);}catch(_0x23e27b){console['error'](_0x285165(0x474),_0x23e27b),showMessage('เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20'+_0x23e27b['message']),_0x503fc7[_0x285165(0x396)][_0x285165(0x46b)]('hidden'),_0x459f61[_0x285165(0x7b4)]=![];}}function autoFormatMath(_0x47f9a3){const _0x1a95b6=_0x569b7c;if(typeof _0x47f9a3!==_0x1a95b6(0x90f)||!_0x47f9a3)return _0x47f9a3;const _0x4b4b74=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x5f3dab=_0x47f9a3['replace'](_0x4b4b74,_0x52bf67=>{const _0x570e95=_0x1a95b6;return'$'+_0x52bf67[_0x570e95(0xc9e)]()+'$';});return _0x5f3dab;}function sanitizeQuizData(_0x4230ed){const _0x5a6be7=_0x569b7c;if(!_0x4230ed||!_0x4230ed['questions'])return _0x4230ed;const _0xc95c9e={'imes':_0x5a6be7(0x6f7),'div':'\x5cdiv'},_0x1ee738=_0x5d0101=>{const _0x127a5f=_0x5a6be7;if(typeof _0x5d0101!==_0x127a5f(0x90f))return _0x5d0101;let _0x189ac1=_0x5d0101;for(const [_0x431b16,_0xd3438b]of Object[_0x127a5f(0x76b)](_0xc95c9e)){const _0x18c4bd=new RegExp('\x5cb'+_0x431b16+'\x5cb','g');_0x189ac1=_0x189ac1['replace'](_0x18c4bd,_0xd3438b);}return _0x189ac1=_0x189ac1[_0x127a5f(0xa12)](/\\\//g,_0x127a5f(0x457)),_0x189ac1=_0x189ac1[_0x127a5f(0xa12)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x127a5f(0x457))[_0x127a5f(0xa12)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x127a5f(0xa12)](/÷/g,_0x127a5f(0x457))[_0x127a5f(0xa12)](/×/g,_0x127a5f(0x6f7)),_0x189ac1=_0x189ac1[_0x127a5f(0xa12)](/(\d)(\\frac)/g,_0x127a5f(0x6f5)),_0x189ac1=autoFormatMath(_0x189ac1),_0x189ac1;};return _0x4230ed[_0x5a6be7(0xaf8)]&&(_0x4230ed[_0x5a6be7(0xaf8)]=_0x1ee738(_0x4230ed[_0x5a6be7(0xaf8)])),_0x4230ed['questions'][_0x5a6be7(0xb32)](_0x11f9c1=>{const _0x369083=_0x5a6be7;_0x11f9c1[_0x369083(0x332)]=_0x1ee738(_0x11f9c1[_0x369083(0x332)]),_0x11f9c1[_0x369083(0xb7c)]&&(_0x11f9c1[_0x369083(0xb7c)]=_0x11f9c1[_0x369083(0xb7c)][_0x369083(0xc3d)](_0x1ee738)),_0x11f9c1[_0x369083(0x420)]&&(_0x11f9c1[_0x369083(0x420)]=_0x1ee738(_0x11f9c1[_0x369083(0x420)])),_0x11f9c1[_0x369083(0x73f)]&&(_0x11f9c1['stem']=_0x1ee738(_0x11f9c1[_0x369083(0x73f)])),_0x11f9c1[_0x369083(0x863)]&&(_0x11f9c1['correctResponse']=_0x1ee738(_0x11f9c1[_0x369083(0x863)])),_0x11f9c1[_0x369083(0x1db)]&&(_0x11f9c1[_0x369083(0x1db)]=_0x11f9c1[_0x369083(0x1db)]['map'](_0x1ee738));}),_0x4230ed;}const simpleMathPrompt=_0x569b7c(0x662);async function handleGenerateFromLink(){const _0x5568ca=_0x569b7c,_0x31fe55=document['getElementById']('link-url-input'),_0x4c9072=document[_0x5568ca(0xca0)](_0x5568ca(0xd31)),_0x5ea118=_0x31fe55[_0x5568ca(0xb85)]['trim'](),_0x200ee9=_0x4c9072['value'][_0x5568ca(0xc9e)]();if(!_0x5ea118){showMessage(_0x5568ca(0x55f));return;}const _0x2a380b=document[_0x5568ca(0xca0)](_0x5568ca(0x826)),_0x1b8167=document['getElementById']('loader-text'),_0x4dac72=document[_0x5568ca(0xca0)](_0x5568ca(0x91e)),_0x4c08b3=document[_0x5568ca(0xca0)](_0x5568ca(0x929));document[_0x5568ca(0xca0)](_0x5568ca(0x366))[_0x5568ca(0x396)][_0x5568ca(0x76f)](_0x5568ca(0xb23)),_0x4dac72[_0x5568ca(0xa5b)]='',_0x2a380b[_0x5568ca(0x396)]['remove'](_0x5568ca(0xb23)),_0x1b8167[_0x5568ca(0x8a5)]=_0x5568ca(0xcd8),_0x4c08b3['disabled']=!![];try{const _0x4b7450=_0x5568ca(0x95c)+encodeURIComponent(_0x5ea118),_0x487b85=await fetch(_0x4b7450);if(!_0x487b85['ok'])throw new Error(_0x5568ca(0x78e)+_0x487b85[_0x5568ca(0xc81)]+')');const _0x3bf847=await _0x487b85[_0x5568ca(0xc91)](),_0x59a48e=extractTextFromHtml(_0x3bf847);if(!_0x59a48e||_0x59a48e[_0x5568ca(0xcda)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x200ee9,_0x59a48e);}catch(_0x2e59cb){console[_0x5568ca(0x728)](_0x5568ca(0x9ac),_0x2e59cb),showMessage(_0x5568ca(0xc90)+_0x2e59cb[_0x5568ca(0x7d7)]),_0x4dac72[_0x5568ca(0xa5b)]=_0x5568ca(0xc7e);}finally{_0x2a380b[_0x5568ca(0x396)]['add'](_0x5568ca(0xb23)),_0x4c08b3[_0x5568ca(0x7b4)]=![];}}function extractTextFromHtml(_0x3231b7){const _0x33a4e9=_0x569b7c,_0x1d05a9=new DOMParser()['parseFromString'](_0x3231b7,_0x33a4e9(0x444));return _0x1d05a9[_0x33a4e9(0x31c)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')['forEach'](_0x4647c1=>_0x4647c1['remove']()),_0x1d05a9[_0x33a4e9(0x937)][_0x33a4e9(0x8a5)]||'';}document[_0x569b7c(0xca0)]('generate-from-topic-btn')['addEventListener'](_0x569b7c(0xd52),()=>{const _0x44df36=_0x569b7c,_0x22a3ec=document[_0x44df36(0xca0)](_0x44df36(0x2ed))[_0x44df36(0xb85)]['trim']();generateQuiz(_0x22a3ec,null);}),document[_0x569b7c(0xca0)]('generate-from-text-btn')[_0x569b7c(0x79b)](_0x569b7c(0xd52),()=>{const _0x145e0f=_0x569b7c,_0x7dd421=document[_0x145e0f(0xca0)](_0x145e0f(0x64a))[_0x145e0f(0xb85)][_0x145e0f(0xc9e)]();if(!_0x7dd421){showMessage(_0x145e0f(0x458));return;}const _0x2ee064=document[_0x145e0f(0xca0)](_0x145e0f(0x2ed))[_0x145e0f(0xb85)]['trim']();generateQuiz(_0x2ee064,_0x7dd421);});async function generateQuiz(_0x1719f8,_0x41ed15,_0x432f0=null,_0x2194a5=null,_0x75f83e=![],_0x575006=null,_0x20cd63=null,_0x12a641=![]){const _0x3eb83b=_0x569b7c;let _0x59c711={};if(_0x75f83e&&blueprintPageSettings)_0x59c711=blueprintPageSettings;else{const _0x879979=document[_0x3eb83b(0x31c)](_0x3eb83b(0x323));_0x59c711={'quizType':document[_0x3eb83b(0xca0)](_0x3eb83b(0x701))[_0x3eb83b(0xb85)],'numQuestions':document[_0x3eb83b(0xca0)](_0x3eb83b(0x5a2))['value'],'numChoices':document[_0x3eb83b(0xca0)](_0x3eb83b(0x6a0))['value'],'includeImages':document['getElementById']('include-images-checkbox')[_0x3eb83b(0x397)],'isNormalTopic':document[_0x3eb83b(0xca0)](_0x3eb83b(0x55e))[_0x3eb83b(0x397)],'difficultyValue':document[_0x3eb83b(0xca0)]('difficulty-level-select')[_0x3eb83b(0xb85)],'complexityValue':document[_0x3eb83b(0xca0)](_0x3eb83b(0x658))[_0x3eb83b(0xb85)],'selectedTopicNames':Array[_0x3eb83b(0x95b)](_0x879979)['map'](_0x39827a=>_0x39827a['value'])};}const _0x45461d=_0x59c711[_0x3eb83b(0x413)]?'':_0x3eb83b(0x485),_0x2fca25=_0x59c711[_0x3eb83b(0x239)]!==_0x3eb83b(0x581)?_0x3eb83b(0x2c4)+_0x59c711[_0x3eb83b(0x239)]+'\x22':'',_0x29803e=_0x59c711['complexityValue']!=='mixed'?_0x3eb83b(0xcab)+_0x59c711['complexityValue']+_0x3eb83b(0xd00):'';let _0x387edd='';_0x59c711[_0x3eb83b(0xba1)]&&_0x59c711[_0x3eb83b(0xba1)]['length']>0x0&&(_0x387edd='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x59c711[_0x3eb83b(0xba1)]['join'](',\x20')+'.');let _0x1b6f95='';_0x2194a5&&(_0x1b6f95='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x7ef26e='',_0x1e5ed1='',_0x29e02a,_0x5883ae=_0x3eb83b(0x849)+_0x1719f8+'\x22';if(!_0x1719f8&&_0x41ed15)_0x5883ae=_0x3eb83b(0xbfa);else!_0x1719f8&&!_0x41ed15&&(_0x5883ae=_0x3eb83b(0x752));const _0x440e75={'type':_0x3eb83b(0xbcd),'properties':{'questionText':{'type':_0x3eb83b(0xb67)},'options':{'type':_0x3eb83b(0x7c4),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x3eb83b(0x911)},'explanation':{'type':_0x3eb83b(0xb67)},'imageCode':{'type':_0x3eb83b(0xb67)}},'required':['questionText',_0x3eb83b(0xb7c),_0x3eb83b(0x481),_0x3eb83b(0x420)]},_0x4bb03e={'type':'OBJECT','properties':{'questionText':{'type':_0x3eb83b(0xb67)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x3eb83b(0xb67)},'imageCode':{'type':'STRING'}},'required':[_0x3eb83b(0x332),'idealAnswer',_0x3eb83b(0x420)]},_0x4674a1={'type':_0x3eb83b(0xbcd),'properties':{'questionText':{'type':_0x3eb83b(0xb67)},'questionType':{'type':_0x3eb83b(0xb67),'enum':[_0x3eb83b(0x27b),'short_answer']},'options':{'type':_0x3eb83b(0x7c4),'items':{'type':_0x3eb83b(0xb67)}},'correctAnswerIndex':{'type':_0x3eb83b(0x911)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x3eb83b(0xb67)},'imageCode':{'type':'STRING'}},'required':[_0x3eb83b(0x332),'questionType',_0x3eb83b(0x420)]},_0x40682d={'type':'OBJECT','properties':{'questionText':{'type':_0x3eb83b(0xb67)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x3eb83b(0xb67)},'imageCode':{'type':_0x3eb83b(0xb67)}},'required':[_0x3eb83b(0x332),_0x3eb83b(0x69f),_0x3eb83b(0x420)]},_0x474ead={'type':_0x3eb83b(0xbcd),'properties':{'questionType':{'type':'STRING','enum':[_0x3eb83b(0x489)]},'stem':{'type':_0x3eb83b(0xb67)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x3eb83b(0x7c4),'items':{'type':_0x3eb83b(0xb67)}},'explanation':{'type':_0x3eb83b(0xb67)},'imageCode':{'type':_0x3eb83b(0xb67)}},'required':[_0x3eb83b(0x879),'stem',_0x3eb83b(0x863),_0x3eb83b(0x1db),_0x3eb83b(0x420)]};let _0x4cfd17;if(_0x432f0!==null){const _0x6da878=currentQuizData['questions'][_0x432f0][_0x3eb83b(0x879)],_0x1004c7=_0x59c711[_0x3eb83b(0x365)]?_0x3eb83b(0x99b):'';_0x7ef26e=_0x3eb83b(0xae3)+_0x5883ae+'\x20'+_0x387edd+'\x20'+_0x2fca25+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x1004c7+'\x20'+simpleMathPrompt;if(_0x6da878===_0x3eb83b(0x27b))_0x29e02a=_0x440e75;else{if(_0x6da878===_0x3eb83b(0x489))_0x29e02a={'type':'OBJECT','properties':{'questionType':{'type':_0x3eb83b(0xb67),'enum':[_0x3eb83b(0x489)]},'stem':{'type':_0x3eb83b(0xb67)},'correctResponse':{'type':_0x3eb83b(0xb67)},'explanation':{'type':_0x3eb83b(0xb67)},'imageCode':{'type':_0x3eb83b(0xb67)}},'required':['questionType','stem',_0x3eb83b(0x863),_0x3eb83b(0x420)]};else _0x29e02a=_0x4bb03e;}_0x4cfd17=_0x29e02a;}else{const _0x418d85=_0x59c711[_0x3eb83b(0x365)]?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x59c711[_0x3eb83b(0x5c7)]){case'multiple_choice':_0x7ef26e='สร้างแบบทดสอบปรนัย'+_0x45461d+'\x20'+_0x59c711[_0x3eb83b(0xc5c)]+_0x3eb83b(0x5a6)+_0x5883ae+'\x20'+_0x387edd+'\x20'+_0x2fca25+'\x20'+_0x29803e+'\x20'+_0x1b6f95+_0x3eb83b(0x3d4)+_0x59c711[_0x3eb83b(0xd02)]+_0x3eb83b(0x3e4)+_0x418d85+'\x20'+simpleMathPrompt,_0x29e02a=_0x440e75;break;case _0x3eb83b(0xa44):_0x7ef26e=_0x3eb83b(0xae8)+_0x45461d+'\x20'+_0x59c711[_0x3eb83b(0xc5c)]+_0x3eb83b(0x5a6)+_0x5883ae+'\x20'+_0x387edd+'\x20'+_0x2fca25+'\x20'+_0x29803e+'\x20'+_0x1b6f95+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x59c711[_0x3eb83b(0xd02)]+_0x3eb83b(0x4f2)+_0x418d85+'\x20'+simpleMathPrompt,_0x29e02a=_0x440e75;break;case _0x3eb83b(0xcf8):_0x7ef26e='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x45461d+'\x20'+_0x59c711[_0x3eb83b(0xc5c)]+_0x3eb83b(0x5a6)+_0x5883ae+'\x20'+_0x387edd+'\x20'+_0x2fca25+'\x20'+_0x29803e+'\x20'+_0x1b6f95+_0x3eb83b(0x88c)+_0x418d85+'\x20'+simpleMathPrompt,_0x29e02a=_0x4bb03e;break;case'mixed':_0x7ef26e=_0x3eb83b(0xaa5)+_0x45461d+'\x20'+_0x59c711[_0x3eb83b(0xc5c)]+_0x3eb83b(0x5a6)+_0x5883ae+'\x20'+_0x387edd+'\x20'+_0x2fca25+'\x20'+_0x29803e+'\x20'+_0x1b6f95+_0x3eb83b(0x24f)+_0x59c711[_0x3eb83b(0xd02)]+'\x20ตัวเลือก.\x20'+_0x418d85+'\x20'+simpleMathPrompt+'.',_0x29e02a=_0x4674a1;break;case _0x3eb83b(0xa08):_0x7ef26e='สร้างคำถามแบบใช่/ไม่ใช่'+_0x45461d+'\x20'+_0x59c711[_0x3eb83b(0xc5c)]+_0x3eb83b(0x5a6)+_0x5883ae+'\x20'+_0x387edd+'\x20'+_0x2fca25+'\x20'+_0x29803e+'\x20'+_0x1b6f95+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x418d85+'\x20'+simpleMathPrompt,_0x29e02a=_0x40682d;break;case _0x3eb83b(0x2ca):_0x7ef26e='สร้างชุดคำถามจับคู่'+_0x45461d+'\x20'+_0x59c711['numQuestions']+_0x3eb83b(0x1e2)+_0x5883ae+'\x20'+_0x387edd+'\x20'+_0x2fca25+'\x20'+_0x29803e+'\x20'+_0x1b6f95+_0x3eb83b(0x79d)+_0x418d85+'\x20'+simpleMathPrompt,_0x29e02a=_0x474ead;break;}_0x4cfd17={'type':_0x3eb83b(0xbcd),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3eb83b(0x7c4),'items':_0x29e02a}},'required':[_0x3eb83b(0xaf8),_0x3eb83b(0x981)]};}const _0x46916b=_0x3eb83b(0x6c8);_0x41ed15?(_0x12a641?_0x7ef26e=_0x3eb83b(0x88b)+_0x41ed15+_0x3eb83b(0x775)+_0x7ef26e+_0x46916b:_0x7ef26e=_0x3eb83b(0x88b)+_0x41ed15+_0x3eb83b(0x775)+_0x7ef26e,_0x1e5ed1=_0x3eb83b(0x672)):(_0x12a641&&(_0x7ef26e+=_0x46916b),_0x1e5ed1=_0x3eb83b(0x572));let _0x204a87;return _0x2194a5?(_0x204a87=[{'text':_0x7ef26e},..._0x2194a5],_0x1e5ed1=_0x3eb83b(0x268)):_0x204a87=_0x7ef26e,handleApiCall(_0x204a87,_0x1e5ed1,_0x4cfd17,_0x432f0,!![],_0x575006,_0x20cd63);}async function generateQuizFromFile(_0x356257,_0x266a58){const _0x1d7d72=_0x569b7c,_0x3f1705=document[_0x1d7d72(0xca0)](_0x1d7d72(0x36d))['value'][_0x1d7d72(0xc9e)](),_0x2dd7a6=document[_0x1d7d72(0xca0)]('quiz-type-select')[_0x1d7d72(0xb85)],_0x353ddc=document[_0x1d7d72(0xca0)]('num-questions')[_0x1d7d72(0xb85)],_0x4a1a6e=document[_0x1d7d72(0xca0)](_0x1d7d72(0x6a0))[_0x1d7d72(0xb85)],_0x8580d5=document[_0x1d7d72(0xca0)](_0x1d7d72(0x84c))[_0x1d7d72(0x397)],_0x401484=document[_0x1d7d72(0xca0)](_0x1d7d72(0x55e))[_0x1d7d72(0x397)],_0xfc0e6a=_0x401484?'':'คณิตศาสตร์',_0xe5fcfd=document[_0x1d7d72(0xca0)](_0x1d7d72(0x53a))[_0x1d7d72(0x397)];let _0x4ae931='',_0x1384c4;const _0x19d931=_0x8580d5?_0x1d7d72(0xa58):'';if(_0xe5fcfd)_0x4ae931='\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a'+_0x19d931+'\x0a'+simpleMathPrompt+'\x0a',_0x1384c4={'type':_0x1d7d72(0xbcd),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x1d7d72(0x27b),_0x1d7d72(0x934),_0x1d7d72(0xa08),_0x1d7d72(0x489)]},'options':{'type':_0x1d7d72(0x7c4),'items':{'type':_0x1d7d72(0xb67)}},'correctAnswerIndex':{'type':_0x1d7d72(0x911)},'idealAnswer':{'type':_0x1d7d72(0xb67)},'correctAnswer':{'type':_0x1d7d72(0xc31)},'stem':{'type':_0x1d7d72(0xb67)},'correctResponse':{'type':_0x1d7d72(0xb67)},'allResponses':{'type':_0x1d7d72(0x7c4),'items':{'type':'STRING'}},'explanation':{'type':_0x1d7d72(0xb67)},'imageCode':{'type':_0x1d7d72(0xb67)}},'required':[_0x1d7d72(0x879),_0x1d7d72(0x420)]};else{let _0xcd176=_0x1d7d72(0x849)+_0x3f1705+'\x22';!_0x3f1705&&(_0xcd176=_0x1d7d72(0xb99));switch(_0x2dd7a6){case'multiple_choice':_0x4ae931=_0x1d7d72(0x2f0)+_0xfc0e6a+'\x20'+_0x353ddc+_0x1d7d72(0x5a6)+_0xcd176+_0x1d7d72(0x3d4)+_0x4a1a6e+_0x1d7d72(0x3e4)+_0x19d931+'\x20'+simpleMathPrompt,_0x1384c4={'type':_0x1d7d72(0xbcd),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x1d7d72(0xb67)}},'correctAnswerIndex':{'type':_0x1d7d72(0x911)},'explanation':{'type':_0x1d7d72(0xb67)},'imageCode':{'type':_0x1d7d72(0xb67)}},'required':[_0x1d7d72(0x332),_0x1d7d72(0xb7c),'correctAnswerIndex',_0x1d7d72(0x420)]};break;case _0x1d7d72(0xa44):_0x4ae931='สร้างคำถามแบบเติมคำในช่องว่าง'+_0xfc0e6a+'\x20'+_0x353ddc+_0x1d7d72(0x5a6)+_0xcd176+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x4a1a6e+_0x1d7d72(0x4f2)+_0x19d931+'\x20'+simpleMathPrompt,_0x1384c4={'type':_0x1d7d72(0xbcd),'properties':{'questionText':{'type':_0x1d7d72(0xb67)},'options':{'type':_0x1d7d72(0x7c4),'items':{'type':_0x1d7d72(0xb67)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x1d7d72(0x332),_0x1d7d72(0xb7c),'correctAnswerIndex',_0x1d7d72(0x420)]};break;case _0x1d7d72(0xcf8):_0x4ae931=_0x1d7d72(0xae8)+_0xfc0e6a+'\x20'+_0x353ddc+'\x20ข้อ\x20'+_0xcd176+_0x1d7d72(0x61b)+_0x19d931+'\x20'+simpleMathPrompt,_0x1384c4={'type':'OBJECT','properties':{'questionText':{'type':_0x1d7d72(0xb67)},'idealAnswer':{'type':_0x1d7d72(0xb67)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1d7d72(0xb67)}},'required':['questionText',_0x1d7d72(0x8ca),'explanation']};break;case _0x1d7d72(0xc5e):_0x4ae931='สร้างแบบทดสอบ'+_0xfc0e6a+'\x20'+_0x353ddc+_0x1d7d72(0x5a6)+_0xcd176+_0x1d7d72(0x54b)+_0x4a1a6e+_0x1d7d72(0x984)+_0x19d931+'\x20'+simpleMathPrompt+_0x1d7d72(0x302),_0x1384c4={'type':_0x1d7d72(0xbcd),'properties':{'questionText':{'type':_0x1d7d72(0xb67)},'questionType':{'type':_0x1d7d72(0xb67),'enum':[_0x1d7d72(0x27b),_0x1d7d72(0x934)]},'options':{'type':_0x1d7d72(0x7c4),'items':{'type':_0x1d7d72(0xb67)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x1d7d72(0xb67)},'explanation':{'type':_0x1d7d72(0xb67)},'imageCode':{'type':'STRING'}},'required':[_0x1d7d72(0x332),'questionType','explanation']};break;case _0x1d7d72(0xa08):_0x4ae931=_0x1d7d72(0xc87)+_0xfc0e6a+'\x20'+_0x353ddc+_0x1d7d72(0x5a6)+_0xcd176+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x19d931+'\x20'+simpleMathPrompt,_0x1384c4={'type':_0x1d7d72(0xbcd),'properties':{'questionText':{'type':_0x1d7d72(0xb67)},'correctAnswer':{'type':_0x1d7d72(0xc31)},'explanation':{'type':_0x1d7d72(0xb67)},'imageCode':{'type':_0x1d7d72(0xb67)}},'required':['questionText',_0x1d7d72(0x69f),_0x1d7d72(0x420)]};break;case _0x1d7d72(0x2ca):_0x4ae931=_0x1d7d72(0x553)+_0xfc0e6a+'\x20'+_0x353ddc+_0x1d7d72(0x1e2)+_0xcd176+_0x1d7d72(0x610)+_0x353ddc+_0x1d7d72(0x915)+_0x19d931+'\x20'+simpleMathPrompt,_0x1384c4={'type':_0x1d7d72(0xbcd),'properties':{'questionType':{'type':_0x1d7d72(0xb67),'enum':[_0x1d7d72(0x489)]},'stem':{'type':_0x1d7d72(0xb67)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x1d7d72(0x7c4),'items':{'type':_0x1d7d72(0xb67)}},'explanation':{'type':_0x1d7d72(0xb67)},'imageCode':{'type':_0x1d7d72(0xb67)}},'required':[_0x1d7d72(0x879),_0x1d7d72(0x73f),_0x1d7d72(0x863),_0x1d7d72(0x1db),'explanation']};break;}}const _0x47a2c5={'type':'OBJECT','properties':{'topic':{'type':_0x1d7d72(0xb67)},'questions':{'type':_0x1d7d72(0x7c4),'items':_0x1384c4}},'required':[_0x1d7d72(0xaf8),'questions']},_0x1af112=_0x1d7d72(0x35a)+_0x4ae931,_0x6120e5={'contents':[{'parts':[{'text':_0x1af112},{'inlineData':{'mimeType':_0x356257,'data':_0x266a58}}]}],'generationConfig':{'responseMimeType':_0x1d7d72(0x828),'responseSchema':_0x47a2c5}};return handleApiCall(_0x6120e5['contents'][0x0]['parts'],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x47a2c5);}async function handleApiCall(_0x537ae8,_0xf53a91,_0x472908,_0x42b50e=null,_0x2efe0e=!![],_0x313cf8=null,_0x22d47b=null){const _0x37126a=_0x569b7c,_0x5d7c25=document[_0x37126a(0xca0)](_0x37126a(0x366)),_0x18d09c=document[_0x37126a(0xca0)](_0x37126a(0x826)),_0x1183f8=document[_0x37126a(0xca0)](_0x37126a(0x547)),_0x163979=document['getElementById'](_0x37126a(0x91e));_0x5d7c25[_0x37126a(0x396)][_0x37126a(0x76f)](_0x37126a(0xb23));_0x42b50e===null&&_0x2efe0e&&(_0x163979[_0x37126a(0xa5b)]='');_0x18d09c['classList'][_0x37126a(0x76f)](_0x37126a(0xb23)),_0x1183f8[_0x37126a(0x8a5)]=_0xf53a91,document[_0x37126a(0xca0)](_0x37126a(0x77d))['disabled']=!![],document[_0x37126a(0xca0)](_0x37126a(0x71e))['disabled']=!![],document[_0x37126a(0xca0)]('generate-from-link-btn')[_0x37126a(0x7b4)]=!![];const _0x5b6a51=document[_0x37126a(0xca0)](_0x37126a(0x618));if(_0x5b6a51)_0x5b6a51[_0x37126a(0x7b4)]=!![];const _0x8e9553=document[_0x37126a(0xca0)](_0x37126a(0xbe2));if(_0x8e9553)_0x8e9553[_0x37126a(0x7b4)]=!![];const _0x40f049=document['getElementById'](_0x37126a(0xc20));if(_0x40f049)_0x40f049[_0x37126a(0x7b4)]=!![];try{const _0x2561c1=Array[_0x37126a(0xc7b)](_0x537ae8)?_0x537ae8:[{'text':_0x537ae8}],_0x31edcb={'contents':[{'role':_0x37126a(0x811),'parts':_0x2561c1}]};_0x472908&&(_0x31edcb[_0x37126a(0x4db)]={'responseMimeType':_0x37126a(0x828),'responseSchema':_0x472908});const _0x2cb087=_0x37126a(0x9bc),_0x3f95ff=_0x37126a(0x82c)+_0x2cb087,_0x522fbb=await fetch(_0x3f95ff,{'method':_0x37126a(0x938),'headers':{'Content-Type':_0x37126a(0x828)},'body':JSON['stringify'](_0x31edcb)});if(!_0x522fbb['ok']){const _0x1df701=await _0x522fbb[_0x37126a(0xc91)]();console[_0x37126a(0x728)](_0x37126a(0xae0),_0x1df701);throw new Error(_0x37126a(0x201)+_0x522fbb[_0x37126a(0xc81)]);}const _0x3584af=await _0x522fbb['json']();if(!_0x3584af[_0x37126a(0x7ec)]||_0x3584af[_0x37126a(0x7ec)]['length']===0x0){let _0x5d7921='AI\x20did\x20not\x20return\x20any\x20content.';return _0x3584af[_0x37126a(0xbaf)]?.[_0x37126a(0x854)]&&(_0x5d7921=_0x37126a(0x6b7)+_0x3584af[_0x37126a(0xbaf)][_0x37126a(0x854)]+'.'),console[_0x37126a(0x728)](_0x5d7921,JSON[_0x37126a(0x25e)](_0x3584af)),null;}const _0x5cd0b2=_0x3584af['candidates'][0x0][_0x37126a(0x893)][_0x37126a(0x6fc)][0x0]['text'];if(_0x472908){let _0x357642=_0x5cd0b2;if(_0x357642[_0x37126a(0x59b)](_0x37126a(0xc24)))_0x357642=_0x357642[_0x37126a(0x1fd)](0x7,_0x357642[_0x37126a(0xcda)]-0x3)[_0x37126a(0xc9e)]();else _0x357642[_0x37126a(0x59b)](_0x37126a(0x67d))&&(_0x357642=_0x357642['substring'](0x3,_0x357642['length']-0x3)[_0x37126a(0xc9e)]());let _0x180b6d=JSON[_0x37126a(0x608)](_0x357642);if(_0x2efe0e){if(_0x42b50e!==null){}else currentQuizData=_0x180b6d,displayGeneratedQuiz(currentQuizData,_0x313cf8,_0x22d47b);}return _0x180b6d;}else return _0x5cd0b2;}catch(_0x55a92a){console[_0x37126a(0x728)](_0x37126a(0x2a4),_0x55a92a),showMessage(_0x37126a(0xd5a)+_0x55a92a[_0x37126a(0x7d7)]);_0x2efe0e&&(_0x163979[_0x37126a(0xa5b)]=_0x37126a(0x68d));throw _0x55a92a;}finally{_0x18d09c[_0x37126a(0x396)][_0x37126a(0x46b)](_0x37126a(0xb23)),document[_0x37126a(0xca0)]('generate-from-topic-btn')[_0x37126a(0x7b4)]=![],document[_0x37126a(0xca0)]('generate-from-text-btn')['disabled']=![],document['getElementById'](_0x37126a(0x929))['disabled']=![];if(_0x5b6a51)_0x5b6a51['disabled']=![];if(_0x8e9553)_0x8e9553[_0x37126a(0x7b4)]=![];if(_0x40f049)_0x40f049[_0x37126a(0x7b4)]=![];}}function exitFullscreen(){const _0xefd277=_0x569b7c;if(document[_0xefd277(0x293)])document[_0xefd277(0x293)]()[_0xefd277(0x7c1)](_0x33a0c7=>console[_0xefd277(0x728)](_0x33a0c7));else{if(document[_0xefd277(0x8b7)])document[_0xefd277(0x8b7)]();else document['msExitFullscreen']&&document[_0xefd277(0x603)]();}}function enterFullscreen(){const _0x22b2f8=_0x569b7c,_0x58ae2b=document[_0x22b2f8(0x520)];if(_0x58ae2b[_0x22b2f8(0x39c)])_0x58ae2b[_0x22b2f8(0x39c)]()[_0x22b2f8(0x7c1)](_0x5791e3=>{const _0x3ac434=_0x22b2f8;console[_0x3ac434(0x728)](_0x3ac434(0xbba)+_0x5791e3[_0x3ac434(0x7d7)]+'\x20('+_0x5791e3[_0x3ac434(0x5bd)]+')');});else{if(_0x58ae2b[_0x22b2f8(0x5f4)])_0x58ae2b[_0x22b2f8(0x5f4)]();else _0x58ae2b[_0x22b2f8(0x3a3)]&&_0x58ae2b[_0x22b2f8(0x3a3)]();}}function handleCheatingEvent(){const _0x4880ce=_0x569b7c;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x4880ce(0xb77),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x4880ce(0x533)+maxCheatAttempts+_0x4880ce(0x399)),document['getElementById'](_0x4880ce(0x566))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x4880ce(0xd44)](_0x4880ce(0xa99),handleVisibilityChange),document[_0x4880ce(0xd44)](_0x4880ce(0x97e),handleFullscreenChange)):showMessage(_0x4880ce(0x2a9)+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x488a1a=_0x569b7c;if(currentMode==='admin-testing'||!isQuizActive)return;if(document['visibilityState']==='hidden')handleCheatingEvent();else document[_0x488a1a(0xcec)]===_0x488a1a(0x861)&&(console[_0x488a1a(0x2fa)](_0x488a1a(0xaec)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x1e3787=_0x569b7c;if(currentMode===_0x1e3787(0x901)||!isQuizActive)return;!document[_0x1e3787(0x693)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x2159e7,_0x39de03=null,_0x2d48df=null){const _0x3097be=_0x569b7c,_0x144a8e=document[_0x3097be(0xca0)](_0x3097be(0x91e));let _0xafa99e='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x2159e7[_0x3097be(0xaf8)]+_0x3097be(0x6b6);_0x2159e7[_0x3097be(0x981)][_0x3097be(0xb32)]((_0x587735,_0x4ac974)=>{const _0x1a3f6d=_0x3097be;!_0x587735['id']&&(_0x587735['id']='q_'+Date[_0x1a3f6d(0x721)]()+'_'+_0x4ac974);const _0x2019fd=_0x587735[_0x1a3f6d(0x879)]||_0x2159e7['quizType'];_0xafa99e+=_0x1a3f6d(0x431)+_0x4ac974+_0x1a3f6d(0xb7b)+_0x4ac974+_0x1a3f6d(0x500)+_0x4ac974+_0x1a3f6d(0x9cf);switch(_0x2019fd){case'matching_item':_0xafa99e+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x4ac974+'\x22>'+(_0x4ac974+0x1)+'.\x20'+_0x587735[_0x1a3f6d(0x73f)]+_0x1a3f6d(0xb3a);_0x587735['imageCode']&&(_0xafa99e+=_0x1a3f6d(0x2ef)+_0x4ac974+_0x1a3f6d(0x7a1)+_0x587735[_0x1a3f6d(0x456)]+'</div>');_0xafa99e+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x4ac974+'\x22>'+_0x587735['correctResponse']+_0x1a3f6d(0xceb),_0xafa99e+=_0x1a3f6d(0x46a)+_0x4ac974+'\x22>'+_0x587735[_0x1a3f6d(0x420)]+_0x1a3f6d(0xceb);break;case'short_answer':_0xafa99e+=_0x1a3f6d(0x2c9)+_0x4ac974+'\x22>'+(_0x4ac974+0x1)+'.\x20'+_0x587735[_0x1a3f6d(0x332)]+_0x1a3f6d(0xb3a);_0x587735[_0x1a3f6d(0x456)]&&(_0xafa99e+='<div\x20id=\x22q-image-container-'+_0x4ac974+_0x1a3f6d(0x7a1)+_0x587735[_0x1a3f6d(0x456)]+_0x1a3f6d(0x3f0));_0xafa99e+=_0x1a3f6d(0x9da)+_0x4ac974+'\x22>'+_0x587735[_0x1a3f6d(0x8ca)]+'</span></div>',_0xafa99e+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x4ac974+'\x22>'+_0x587735[_0x1a3f6d(0x420)]+_0x1a3f6d(0xceb);break;case'true_false':_0xafa99e+=_0x1a3f6d(0x2c9)+_0x4ac974+'\x22>'+(_0x4ac974+0x1)+'.\x20'+_0x587735[_0x1a3f6d(0x332)]+'</p>';_0x587735['imageCode']&&(_0xafa99e+='<div\x20id=\x22q-image-container-'+_0x4ac974+_0x1a3f6d(0x7a1)+_0x587735[_0x1a3f6d(0x456)]+_0x1a3f6d(0x3f0));_0xafa99e+=_0x1a3f6d(0x417)+(_0x587735[_0x1a3f6d(0x69f)]===!![]?'text-green-600\x20font-bold':'')+_0x1a3f6d(0xaa0)+(_0x587735[_0x1a3f6d(0x69f)]===![]?_0x1a3f6d(0xb29):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0xafa99e+=_0x1a3f6d(0x46a)+_0x4ac974+'\x22>'+_0x587735['explanation']+_0x1a3f6d(0xceb);break;case _0x1a3f6d(0x9be):case'multiple_choice':default:_0xafa99e+=_0x1a3f6d(0x2c9)+_0x4ac974+'\x22>'+(_0x4ac974+0x1)+'.\x20'+_0x587735[_0x1a3f6d(0x332)]+_0x1a3f6d(0xb3a);_0x587735[_0x1a3f6d(0x456)]&&(_0xafa99e+=_0x1a3f6d(0x2ef)+_0x4ac974+_0x1a3f6d(0x7a1)+_0x587735[_0x1a3f6d(0x456)]+_0x1a3f6d(0x3f0));_0xafa99e+=_0x1a3f6d(0x8e7)+_0x4ac974+_0x1a3f6d(0x244)+(_0x587735[_0x1a3f6d(0xb7c)]||[])[_0x1a3f6d(0xc3d)]((_0x2b8bc3,_0x1566b5)=>'<li\x20class=\x22'+(_0x1566b5===_0x587735['correctAnswerIndex']?'text-green-600\x20font-bold':'')+'\x22>'+_0x2b8bc3+_0x1a3f6d(0x644))[_0x1a3f6d(0xcbb)]('')+_0x1a3f6d(0xab3),_0xafa99e+=_0x1a3f6d(0x46a)+_0x4ac974+'\x22>'+_0x587735[_0x1a3f6d(0x420)]+_0x1a3f6d(0xceb);break;}_0xafa99e+=_0x1a3f6d(0x3f0);}),_0xafa99e+=_0x3097be(0x494),_0x144a8e[_0x3097be(0xa5b)]=_0xafa99e,document['querySelectorAll'](_0x3097be(0x5d7))[_0x3097be(0xb32)](_0x14fce9=>_0x14fce9[_0x3097be(0x79b)](_0x3097be(0xd52),handleEditQuestion)),document[_0x3097be(0x31c)](_0x3097be(0x57e))['forEach'](_0x386ea0=>_0x386ea0[_0x3097be(0x79b)]('click',handleRegenerateQuestion)),document['getElementById'](_0x3097be(0xc13))[_0x3097be(0x79b)](_0x3097be(0xd52),exportQuizAsWorksheetPDF),document[_0x3097be(0xca0)](_0x3097be(0xa2b))[_0x3097be(0x79b)](_0x3097be(0xd52),handleVerifyAnswers);const _0x3c293d=document[_0x3097be(0xca0)](_0x3097be(0x534));if(_0x3c293d){const _0x5ce77d=_0x39de03||currentProjectId;_0x3c293d[_0x3097be(0x79b)](_0x3097be(0xd52),()=>saveQuiz(_0x5ce77d,_0x2d48df));}if(window[_0x3097be(0x858)])window[_0x3097be(0x858)]['typesetPromise']([_0x144a8e]);}function handleRegenerateQuestion(_0x1e35e0){const _0x42e6d7=_0x569b7c,_0x1bb67c=_0x1e35e0[_0x42e6d7(0x99a)]['dataset'][_0x42e6d7(0xbc5)],_0x577380=currentQuizData['topic'];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x1bb67c)+0x1)+_0x42e6d7(0x2ba)),generateQuiz(_0x577380,null,parseInt(_0x1bb67c));}function getPointerPosition(_0x2c6f5a,_0x3c1eaa){const _0x412571=_0x569b7c,_0x38e341=_0x2c6f5a[_0x412571(0x51f)]();let _0x32324a,_0x360559;return _0x3c1eaa[_0x412571(0x8f1)]&&_0x3c1eaa['touches']['length']>0x0?(_0x32324a=_0x3c1eaa['touches'][0x0][_0x412571(0x840)],_0x360559=_0x3c1eaa['touches'][0x0]['clientY']):(_0x32324a=_0x3c1eaa[_0x412571(0x840)],_0x360559=_0x3c1eaa[_0x412571(0x8cb)]),{'x':(_0x32324a-_0x38e341['e'])/_0x38e341['a'],'y':(_0x360559-_0x38e341['f'])/_0x38e341['d']};}function startDrag(_0x11da56){const _0x12a5b4=_0x569b7c;_0x11da56[_0x12a5b4(0x8df)]==='touchstart'&&_0x11da56[_0x12a5b4(0x631)]();const _0x5628f6=_0x11da56[_0x12a5b4(0xbe5)][_0x12a5b4(0xa9f)]('.draggable-text');if(_0x5628f6){draggedSvgElement=_0x5628f6;const _0x54e723=draggedSvgElement[_0x12a5b4(0xafd)],_0x2887c5=getPointerPosition(_0x54e723,_0x11da56);svgOffset['x']=_0x2887c5['x']-parseFloat(draggedSvgElement[_0x12a5b4(0x966)](null,'x')),svgOffset['y']=_0x2887c5['y']-parseFloat(draggedSvgElement[_0x12a5b4(0x966)](null,'y'));}}function calculateItemAnalysis(_0x1c5c1c,_0x1efaa1){const _0x5af723=_0x569b7c,_0x2ad18b={};if(_0x1efaa1[_0x5af723(0xcda)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x278bff=[..._0x1efaa1][_0x5af723(0x64b)]((_0x9e0a55,_0x2b2185)=>{const _0x3ea422=_0x5af723,_0xbea743=_0x2b2185[_0x3ea422(0x477)]-_0x9e0a55[_0x3ea422(0x477)];if(_0xbea743!==0x0)return _0xbea743;const _0x44f739=_0x9e0a55[_0x3ea422(0xc14)]?.[_0x3ea422(0xcda)]||0x1,_0x184594=_0x2b2185[_0x3ea422(0xc14)]?.[_0x3ea422(0xcda)]||0x1,_0x4448c9=_0x44f739-_0x184594;if(_0x4448c9!==0x0)return _0x4448c9;const _0x2aa511=new Date(_0x9e0a55[_0x3ea422(0xd3b)]),_0x2dcc7c=new Date(_0x2b2185[_0x3ea422(0xd3b)]),_0x18628e=_0x2aa511-_0x2dcc7c;if(_0x18628e!==0x0)return _0x18628e;return _0x9e0a55['studentName'][_0x3ea422(0x8a1)](_0x2b2185[_0x3ea422(0x972)],'th');}),_0x49ca5b=_0x278bff[_0x5af723(0xcda)],_0xa7657a=Math[_0x5af723(0x557)](0x1,Math[_0x5af723(0xc71)](_0x49ca5b*0.33));if(_0xa7657a===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x9faf59=_0x278bff[_0x5af723(0x3f5)](0x0,_0xa7657a),_0x515409=_0x278bff['slice'](-_0xa7657a),_0x715e12=_0x9faf59[_0x5af723(0xc3d)](_0x652a11=>_0x652a11[_0x5af723(0x972)]),_0x833934=_0x515409[_0x5af723(0xc3d)](_0x3d45b9=>_0x3d45b9['studentName']);return _0x1c5c1c['questions'][_0x5af723(0xb32)]((_0xabe4ec,_0x2e7dfb)=>{const _0x820c7=_0x5af723,_0x2e8b66=_0xabe4ec[_0x820c7(0x73f)]||_0xabe4ec[_0x820c7(0x332)];let _0x1cd9bd=0x0,_0x1a19cb=0x0,_0x3f708b=0x0;const _0x2ef5c6=[],_0x48b42f=[];_0x9faf59[_0x820c7(0xb32)](_0x502ff1=>{const _0x26188f=_0x820c7,_0x42a141=_0x502ff1[_0x26188f(0xc14)][_0x502ff1[_0x26188f(0xc14)][_0x26188f(0xcda)]-0x1],_0x15a139=_0x42a141[_0x26188f(0x686)][_0x26188f(0xd14)](_0x173a5b=>_0x173a5b[_0x26188f(0xc19)]===_0x2e8b66);_0x2ef5c6['push']({'name':_0x502ff1[_0x26188f(0x972)],'isCorrect':_0x15a139?_0x15a139[_0x26188f(0x280)]:![]}),_0x15a139&&_0x15a139[_0x26188f(0x280)]&&_0x1a19cb++;}),_0x515409['forEach'](_0x1907dd=>{const _0x183d18=_0x820c7,_0x34be66=_0x1907dd[_0x183d18(0xc14)][_0x1907dd[_0x183d18(0xc14)][_0x183d18(0xcda)]-0x1],_0x1cd9cd=_0x34be66[_0x183d18(0x686)][_0x183d18(0xd14)](_0x1b2609=>_0x1b2609[_0x183d18(0xc19)]===_0x2e8b66);_0x48b42f[_0x183d18(0xae7)]({'name':_0x1907dd[_0x183d18(0x972)],'isCorrect':_0x1cd9cd?_0x1cd9cd[_0x183d18(0x280)]:![]}),_0x1cd9cd&&_0x1cd9cd[_0x183d18(0x280)]&&_0x3f708b++;}),_0x1efaa1[_0x820c7(0xb32)](_0x5506a7=>{const _0x4ff0d1=_0x820c7,_0x6c1e66=_0x5506a7['attempts'][_0x5506a7[_0x4ff0d1(0xc14)][_0x4ff0d1(0xcda)]-0x1],_0x59b82a=_0x6c1e66[_0x4ff0d1(0x686)][_0x4ff0d1(0xd14)](_0x37890c=>_0x37890c[_0x4ff0d1(0xc19)]===_0x2e8b66);_0x59b82a&&_0x59b82a[_0x4ff0d1(0x280)]&&_0x1cd9bd++;});const _0xf809f8=_0x49ca5b>0x0?_0x1cd9bd/_0x49ca5b:0x0,_0x1590fc=_0xa7657a>0x0?_0x1a19cb/_0xa7657a-_0x3f708b/_0xa7657a:0x0;_0x2ad18b[_0x2e7dfb]={'p':_0xf809f8,'r':_0x1590fc,'upperGroupResponders':_0x2ef5c6,'lowerGroupResponders':_0x48b42f};}),{'perQuestionStats':_0x2ad18b,'overallGroups':{'upperGroupNames':_0x715e12,'lowerGroupNames':_0x833934}};}function drag(_0x4a51db){const _0x578406=_0x569b7c;if(draggedSvgElement){_0x4a51db[_0x578406(0x631)]();const _0x2017f3=draggedSvgElement[_0x578406(0xafd)],_0x16ff75=getPointerPosition(_0x2017f3,_0x4a51db),_0x595787=_0x2017f3['viewBox'][_0x578406(0x3cd)];let _0x2874df=_0x16ff75['x']-svgOffset['x'],_0x5ee6f1=_0x16ff75['y']-svgOffset['y'];const _0x3bd442=draggedSvgElement[_0x578406(0x712)]();_0x2874df=Math[_0x578406(0x557)](_0x595787['x'],Math[_0x578406(0x710)](_0x2874df,_0x595787['x']+_0x595787[_0x578406(0x8d5)]-_0x3bd442[_0x578406(0x8d5)])),_0x5ee6f1=Math['max'](_0x595787['y'],Math['min'](_0x5ee6f1,_0x595787['y']+_0x595787[_0x578406(0x313)]-_0x3bd442[_0x578406(0x313)])),draggedSvgElement['setAttributeNS'](null,'x',_0x2874df),draggedSvgElement[_0x578406(0x9a1)](null,'y',_0x5ee6f1);}}function endDrag(_0x261ed3){draggedSvgElement=null;}function handleSvgEditClick(_0x2d94ba){const _0x1027bb=_0x569b7c;if(_0x2d94ba[_0x1027bb(0xbe5)]['classList'][_0x1027bb(0x1d0)]('delete-svg-btn')){const _0xc16e43=_0x2d94ba[_0x1027bb(0xbe5)][_0x1027bb(0x507)]['targetId'],_0x4ea2f0=_0x2d94ba['currentTarget'],_0x1b74a8=_0x4ea2f0[_0x1027bb(0xb90)]('#'+_0xc16e43);_0x1b74a8&&_0x1b74a8[_0x1027bb(0x76f)](),_0x2d94ba['target']['remove']();}}function handleEditQuestion(_0x37a2b2){const _0x384c15=_0x569b7c,_0x479f39=_0x37a2b2['currentTarget'],_0x4d3455=_0x479f39[_0x384c15(0x507)][_0x384c15(0xbc5)],_0x41959c=currentQuizData[_0x384c15(0x981)][_0x4d3455],_0x1c2e8b=document[_0x384c15(0xca0)]('q-text-'+_0x4d3455),_0x5190b6=document[_0x384c15(0xca0)](_0x384c15(0x1dc)+_0x4d3455),_0x18d7a4=document[_0x384c15(0xca0)](_0x384c15(0x4cb)+_0x4d3455);if(_0x479f39[_0x384c15(0xa5b)][_0x384c15(0x771)](_0x384c15(0xbf4))){_0x479f39[_0x384c15(0xa5b)]=_0x384c15(0x330),_0x479f39[_0x384c15(0x5a5)]=_0x384c15(0xb13);if(_0x1c2e8b)_0x1c2e8b['contentEditable']=!![];if(_0x5190b6)_0x5190b6[_0x384c15(0x76a)]=!![];if(_0x18d7a4){const _0x37aa22=_0x18d7a4[_0x384c15(0xb90)](_0x384c15(0x63e));if(_0x37aa22){const _0x262d0e=_0x37aa22[_0x384c15(0x31c)]('text');_0x262d0e['forEach']((_0x5dd283,_0xed3754)=>{const _0x4a8670=_0x384c15,_0x408861='editable-text-'+_0x4d3455+'-'+_0xed3754;_0x5dd283['id']=_0x408861,_0x5dd283[_0x4a8670(0x396)][_0x4a8670(0x46b)](_0x4a8670(0xd0d)),_0x5dd283[_0x4a8670(0x7fc)]['cursor']='move';const _0x5362a9=document[_0x4a8670(0x466)](_0x4a8670(0x9a0),_0x4a8670(0x4b8)),_0xd41ecd=_0x5dd283[_0x4a8670(0x712)]();_0x5362a9[_0x4a8670(0xc9c)]('cx',String(_0xd41ecd['x']+_0xd41ecd[_0x4a8670(0x8d5)]+0x5)),_0x5362a9[_0x4a8670(0xc9c)]('cy',String(_0xd41ecd['y']+_0xd41ecd[_0x4a8670(0x313)]/0x2-0x5)),_0x5362a9[_0x4a8670(0xc9c)]('r','5'),_0x5362a9[_0x4a8670(0xc9c)](_0x4a8670(0x781),'red'),_0x5362a9[_0x4a8670(0xc9c)](_0x4a8670(0x982),'delete-svg-btn'),_0x5362a9[_0x4a8670(0x507)]['targetId']=_0x408861,_0x5dd283[_0x4a8670(0xbb5)](_0x5362a9);}),_0x37aa22[_0x384c15(0x79b)](_0x384c15(0xaab),startDrag),_0x37aa22['addEventListener'](_0x384c15(0x664),drag),_0x37aa22['addEventListener'](_0x384c15(0x20f),endDrag),_0x37aa22['addEventListener'](_0x384c15(0x9ee),endDrag),_0x37aa22[_0x384c15(0x79b)](_0x384c15(0xae4),startDrag,{'passive':![]}),_0x37aa22['addEventListener']('touchmove',drag,{'passive':![]}),_0x37aa22['addEventListener'](_0x384c15(0xd23),endDrag),_0x37aa22[_0x384c15(0x79b)](_0x384c15(0x4e2),endDrag),_0x37aa22[_0x384c15(0x79b)](_0x384c15(0xd52),handleSvgEditClick);}}if(_0x1c2e8b)_0x1c2e8b[_0x384c15(0x56f)]();}else{_0x479f39[_0x384c15(0xa5b)]=_0x384c15(0xbfb),_0x479f39['title']=_0x384c15(0x866);if(_0x1c2e8b){_0x1c2e8b[_0x384c15(0x76a)]=![];const _0x44468f=_0x41959c['questionType']||currentQuizData[_0x384c15(0x5c7)];_0x44468f===_0x384c15(0x489)?_0x41959c[_0x384c15(0x73f)]=_0x1c2e8b[_0x384c15(0xc07)][_0x384c15(0x1fd)](_0x1c2e8b[_0x384c15(0xc07)][_0x384c15(0xa40)]('.')+0x2)[_0x384c15(0xc9e)]():_0x41959c['questionText']=_0x1c2e8b[_0x384c15(0xc07)][_0x384c15(0x1fd)](_0x1c2e8b[_0x384c15(0xc07)]['indexOf']('.')+0x2)[_0x384c15(0xc9e)]();}_0x5190b6&&(_0x5190b6[_0x384c15(0x76a)]=![],_0x41959c['explanation']=_0x5190b6['innerText']);if(_0x18d7a4){const _0x47ccca=_0x18d7a4['querySelector'](_0x384c15(0x63e));if(_0x47ccca){const _0x43f2ee=_0x47ccca[_0x384c15(0x355)](!![]);_0x43f2ee[_0x384c15(0x31c)](_0x384c15(0x6ed))['forEach'](_0x2687a0=>_0x2687a0[_0x384c15(0x76f)]()),_0x43f2ee[_0x384c15(0x31c)](_0x384c15(0x7b6))['forEach'](_0x4dbd3b=>{const _0x2da910=_0x384c15;_0x4dbd3b[_0x2da910(0x396)]['remove'](_0x2da910(0xd0d)),_0x4dbd3b[_0x2da910(0x7fc)]['cursor']=_0x2da910(0x1c2),_0x4dbd3b[_0x2da910(0x2f1)]('id');}),_0x41959c[_0x384c15(0x456)]=_0x43f2ee[_0x384c15(0x41a)],_0x47ccca[_0x384c15(0xd44)](_0x384c15(0xaab),startDrag),_0x47ccca['removeEventListener'](_0x384c15(0x664),drag),_0x47ccca[_0x384c15(0xd44)](_0x384c15(0x20f),endDrag),_0x47ccca[_0x384c15(0xd44)](_0x384c15(0x9ee),endDrag),_0x47ccca['removeEventListener'](_0x384c15(0xae4),startDrag),_0x47ccca[_0x384c15(0xd44)](_0x384c15(0x782),drag),_0x47ccca['removeEventListener']('touchend',endDrag),_0x47ccca[_0x384c15(0xd44)]('touchcancel',endDrag),_0x47ccca[_0x384c15(0xd44)](_0x384c15(0xd52),handleSvgEditClick),_0x47ccca['querySelectorAll'](_0x384c15(0x6ed))[_0x384c15(0xb32)](_0x172b93=>_0x172b93[_0x384c15(0x76f)]()),_0x47ccca[_0x384c15(0x31c)]('.draggable-text')[_0x384c15(0xb32)](_0x4cb94a=>{const _0x4c1fc8=_0x384c15;_0x4cb94a[_0x4c1fc8(0x396)]['remove'](_0x4c1fc8(0xd0d)),_0x4cb94a[_0x4c1fc8(0x7fc)][_0x4c1fc8(0xc47)]=_0x4c1fc8(0x1c2);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x3a8ad1){const _0x2b0042=_0x569b7c,_0x263b5e=document[_0x2b0042(0xca0)]('quiz-editor-modal'),_0x1d8936=document[_0x2b0042(0xca0)](_0x2b0042(0x719));_0x1d8936[_0x2b0042(0xa5b)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x263b5e['classList'][_0x2b0042(0x76f)](_0x2b0042(0xb23));try{const _0x400d32=doc(db,_0x2b0042(0x25b)+appId+_0x2b0042(0x72c),_0x3a8ad1),_0x4045bc=await getDoc(_0x400d32);if(!_0x4045bc[_0x2b0042(0x6c9)]())throw new Error(_0x2b0042(0x599));currentEditingQuizData={'id':_0x3a8ad1,..._0x4045bc[_0x2b0042(0x7f5)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x520d8e){console[_0x2b0042(0x728)](_0x2b0042(0x570),_0x520d8e),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x263b5e['classList'][_0x2b0042(0x46b)](_0x2b0042(0xb23));}}function renderQuizEditor(_0x2af33f){const _0x1faae7=_0x569b7c;document[_0x1faae7(0xca0)](_0x1faae7(0x5ee))[_0x1faae7(0xb85)]=_0x2af33f[_0x1faae7(0xaf8)];const _0x20a510=document['getElementById'](_0x1faae7(0x719));let _0x5139a7=_0x2af33f[_0x1faae7(0x981)][_0x1faae7(0xc3d)]((_0x962651,_0x59689a)=>{const _0x59ec3c=_0x1faae7;let _0x48ad68='';const _0x2f51df=_0x962651[_0x59ec3c(0x879)]||_0x2af33f[_0x59ec3c(0x5c7)];switch(_0x2f51df){case'multiple_choice':const _0x2245ff=(_0x962651['options']||[])['map']((_0x58f3b1,_0x3857f6)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x59689a+_0x59ec3c(0x92b)+_0x3857f6+'\x22\x20'+(_0x3857f6===_0x962651[_0x59ec3c(0x481)]?_0x59ec3c(0x397):'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x58f3b1+_0x59ec3c(0x9d7))[_0x59ec3c(0xcbb)]('');_0x48ad68=_0x59ec3c(0x298)+_0x2245ff+_0x59ec3c(0x666);break;case _0x59ec3c(0x934):_0x48ad68='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x962651[_0x59ec3c(0x8ca)]||'')+_0x59ec3c(0xa84);break;case _0x59ec3c(0xa08):_0x48ad68=_0x59ec3c(0xc18)+_0x59689a+'\x22\x20value=\x22true\x22\x20'+(_0x962651[_0x59ec3c(0x69f)]===!![]?_0x59ec3c(0x397):'')+_0x59ec3c(0xb57)+_0x59689a+_0x59ec3c(0x343)+(_0x962651[_0x59ec3c(0x69f)]===![]?_0x59ec3c(0x397):'')+_0x59ec3c(0x1c8);break;case'matching_item':_0x48ad68=_0x59ec3c(0x546)+(_0x962651[_0x59ec3c(0x863)]||'')+_0x59ec3c(0x257);break;}const _0x702b92=_0x962651[_0x59ec3c(0x332)]||_0x962651[_0x59ec3c(0x73f)]||'';return _0x59ec3c(0x2fd)+_0x59689a+_0x59ec3c(0x820)+_0x2f51df+_0x59ec3c(0x892)+(_0x59689a+0x1)+'\x20('+_0x2f51df+_0x59ec3c(0x698)+_0x702b92+_0x59ec3c(0xc7d)+_0x48ad68+'</div>\x0a</div>\x0a';})[_0x1faae7(0xcbb)]('');_0x20a510['innerHTML']=_0x5139a7,_0x20a510[_0x1faae7(0x31c)](_0x1faae7(0x4b9))[_0x1faae7(0xb32)](_0x5eba2d=>{const _0x5ea18f=_0x1faae7;_0x5eba2d[_0x5ea18f(0x79b)](_0x5ea18f(0xd52),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x1e5075){const _0x4c8ec3=_0x569b7c,_0x3dbcd2=_0x1e5075['currentTarget'],_0x5df1f4=_0x3dbcd2['closest'](_0x4c8ec3(0x805));if(!_0x5df1f4)return;const _0x20d8df=parseInt(_0x5df1f4['dataset']['qIndex'],0xa);if(isNaN(_0x20d8df)||!currentEditingQuizData[_0x4c8ec3(0x981)][_0x20d8df]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x17d545=currentEditingQuizData['questions'][_0x20d8df];_0x3dbcd2[_0x4c8ec3(0xa5b)]=_0x4c8ec3(0xa3f),_0x3dbcd2[_0x4c8ec3(0x7b4)]=!![];const _0x412a33=_0x4c8ec3(0x75f)+JSON['stringify'](_0x17d545)+_0x4c8ec3(0x48a);let _0x1c5144;const _0x3afacd=_0x17d545[_0x4c8ec3(0x879)]||currentEditingQuizData['quizType'];switch(_0x3afacd){case _0x4c8ec3(0x934):_0x1c5144={'type':_0x4c8ec3(0xbcd),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x4c8ec3(0xb67)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4c8ec3(0xb67)}},'required':['questionText',_0x4c8ec3(0x8ca),_0x4c8ec3(0x420)]};break;case _0x4c8ec3(0x27b):default:_0x1c5144={'type':'OBJECT','properties':{'questionText':{'type':_0x4c8ec3(0xb67)},'options':{'type':_0x4c8ec3(0x7c4),'items':{'type':_0x4c8ec3(0xb67)}},'correctAnswerIndex':{'type':_0x4c8ec3(0x911)},'explanation':{'type':_0x4c8ec3(0xb67)},'imageCode':{'type':_0x4c8ec3(0xb67)}},'required':[_0x4c8ec3(0x332),_0x4c8ec3(0xb7c),_0x4c8ec3(0x481),_0x4c8ec3(0x420)]};break;}try{let _0x3e60a1=await callAnalysisApi(_0x412a33,_0x1c5144);_0x3e60a1['options']&&Array[_0x4c8ec3(0xc7b)](_0x3e60a1[_0x4c8ec3(0xb7c)])&&(_0x3e60a1['options']=_0x3e60a1[_0x4c8ec3(0xb7c)][_0x4c8ec3(0xc3d)](_0x29d092=>typeof _0x29d092==='string'?_0x29d092[_0x4c8ec3(0xa12)](/S(\s*[\d_]+?\s*)S/g,_0x4c8ec3(0x4f9)):_0x29d092)),_0x17d545[_0x4c8ec3(0x456)]&&_0x17d545[_0x4c8ec3(0x456)][_0x4c8ec3(0x771)](_0x4c8ec3(0x4f0))&&(_0x3e60a1[_0x4c8ec3(0x456)]=''),currentEditingQuizData['questions'][_0x20d8df]={..._0x17d545,..._0x3e60a1},renderQuizEditor(currentEditingQuizData),showMessage(_0x4c8ec3(0x278));}catch(_0x20d035){console[_0x4c8ec3(0x728)]('AI\x20Fix\x20Error:',_0x20d035),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x5138ba=_0x569b7c,_0x4d8480=document['getElementById']('save-quiz-edits-btn');_0x4d8480[_0x5138ba(0x7b4)]=!![],_0x4d8480[_0x5138ba(0xa5b)]=_0x5138ba(0xc05);try{const _0xb1f4a2=document[_0x5138ba(0xca0)]('editor-quiz-topic')[_0x5138ba(0xb85)],_0x22b08d=document[_0x5138ba(0x31c)](_0x5138ba(0x805));let _0x1f8d5a=[];const _0x1c7a91=Array[_0x5138ba(0x95b)](_0x22b08d)[_0x5138ba(0xc3d)]((_0xaab4bd,_0x1f1512)=>{const _0x19ebc=_0x5138ba,_0x15eef5=_0xaab4bd[_0x19ebc(0x507)][_0x19ebc(0x3db)],_0x55e594=_0xaab4bd['querySelector'](_0x19ebc(0x5e1))[_0x19ebc(0xb85)][_0x19ebc(0xa12)](/\n/g,_0x19ebc(0x528));let _0x327b9a={'questionType':_0x15eef5};const _0xbafa32=currentEditingQuizData[_0x19ebc(0x981)][_0x1f1512];switch(_0x15eef5){case _0x19ebc(0x27b):_0x327b9a[_0x19ebc(0x332)]=_0x55e594;const _0x434ac2=_0xaab4bd[_0x19ebc(0x31c)](_0x19ebc(0x9ed));_0x327b9a['options']=Array[_0x19ebc(0x95b)](_0x434ac2)[_0x19ebc(0xc3d)](_0x127e77=>_0x127e77['value']);const _0x42a4d0=_0xaab4bd[_0x19ebc(0xb90)](_0x19ebc(0x1d9));_0x327b9a[_0x19ebc(0x481)]=_0x42a4d0?parseInt(_0x42a4d0['value']):0x0;break;case _0x19ebc(0x934):_0x327b9a['questionText']=_0x55e594,_0x327b9a[_0x19ebc(0x8ca)]=_0xaab4bd[_0x19ebc(0xb90)](_0x19ebc(0x9c9))[_0x19ebc(0xb85)];break;case'true_false':_0x327b9a['questionText']=_0x55e594;const _0x37854e=_0xaab4bd[_0x19ebc(0xb90)]('input[type=\x22radio\x22]:checked');_0x327b9a['correctAnswer']=_0x37854e?_0x37854e['value']==='true':!![];break;case _0x19ebc(0x489):_0x327b9a[_0x19ebc(0x73f)]=_0x55e594;const _0x11ad3b=_0xaab4bd[_0x19ebc(0xb90)](_0x19ebc(0xa78));_0x327b9a['correctResponse']=_0x11ad3b?_0x11ad3b[_0x19ebc(0xb85)]:'',_0x1f8d5a[_0x19ebc(0xae7)](_0x327b9a[_0x19ebc(0x863)]);break;default:_0x327b9a[_0x19ebc(0x332)]=_0x55e594;break;}return{..._0xbafa32,..._0x327b9a};});_0x1f8d5a[_0x5138ba(0xcda)]>0x0&&_0x1c7a91['forEach'](_0x4ad84d=>{const _0x1f2bd6=_0x5138ba;_0x4ad84d['questionType']===_0x1f2bd6(0x489)&&(_0x4ad84d['allResponses']=_0x1f8d5a);});const _0x23e9fe=currentEditingQuizData['id'],_0x4f1689=doc(db,_0x5138ba(0x25b)+appId+'/public/data/quizzes',_0x23e9fe);await updateDoc(_0x4f1689,{'topic':_0xb1f4a2,'questions':_0x1c7a91}),document[_0x5138ba(0xca0)](_0x5138ba(0xc8f))['classList']['add'](_0x5138ba(0xb23)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x23e9fe));}catch(_0x532a9e){console[_0x5138ba(0x728)]('Error\x20saving\x20quiz\x20edits:',_0x532a9e),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x4d8480['disabled']=![],_0x4d8480[_0x5138ba(0xa5b)]=_0x5138ba(0x52d);}}async function initiateReGradeProcess(_0x5c5b1a){const _0x452249=_0x569b7c;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x5b54c0=doc(db,_0x452249(0x25b)+appId+_0x452249(0x72c),_0x5c5b1a),_0x57d073=await getDoc(_0x5b54c0);if(!_0x57d073[_0x452249(0x6c9)]())throw new Error(_0x452249(0x4f6));const _0x4b4b2c={'id':_0x5c5b1a,..._0x57d073['data']()},_0x498aa8=collection(db,_0x452249(0x25b)+appId+'/public/data/quizzes',_0x5c5b1a,_0x452249(0x926)),_0x500c35=await getDocs(_0x498aa8);if(_0x500c35[_0x452249(0xcc9)]){showMessage(_0x452249(0x677));return;}const _0x34547c=_0x500c35[_0x452249(0x53c)]['map'](_0x5068dc=>reGradeSingleSubmission(_0x5068dc,_0x4b4b2c));await Promise[_0x452249(0x606)](_0x34547c);if(_0x4b4b2c[_0x452249(0xadc)]){const _0x572234=doc(db,_0x452249(0x25b)+appId+_0x452249(0x1bf),_0x4b4b2c['projectId']),_0x4d6afd=await getDoc(_0x572234);if(_0x4d6afd[_0x452249(0x6c9)]()&&_0x4d6afd[_0x452249(0x7f5)]()[_0x452249(0x9bf)]){const _0x3214b2=_0x4d6afd[_0x452249(0x7f5)]()[_0x452249(0x9bf)]['map'](_0x5c02dc=>updateStudentProfile(_0x4b4b2c['projectId'],_0x5c02dc));await Promise[_0x452249(0x606)](_0x3214b2);}}showMessage(_0x452249(0x68c)+_0x500c35['size']+_0x452249(0x441));}catch(_0xa92a89){console[_0x452249(0x728)](_0x452249(0xcad),_0xa92a89),showMessage(_0x452249(0xa89)+_0xa92a89['message']);}}async function reGradeSingleSubmission(_0x392e58,_0xf2a297){const _0x29306e=_0x569b7c,_0x5a63c1=_0x392e58['data'](),_0x3f09f4=_0x5a63c1[_0x29306e(0x972)],_0x300265=_0x5a63c1[_0x29306e(0xc14)]||[],_0x26228c=[];for(const _0x4e50ab of _0x300265){let _0x2bf467=0x0,_0x518c08=[],_0x5162f1=0x0;const _0x188f7e=[];for(const _0x403847 of _0x4e50ab[_0x29306e(0x686)]){let _0xaa9a68;_0x403847[_0x29306e(0x9c3)]&&(_0xaa9a68=_0xf2a297[_0x29306e(0x981)][_0x29306e(0xd14)](_0x1b970e=>_0x1b970e['id']===_0x403847[_0x29306e(0x9c3)]));!_0xaa9a68&&_0x403847[_0x29306e(0xc19)]&&(_0xaa9a68=_0xf2a297[_0x29306e(0x981)][_0x29306e(0xd14)](_0x51d1fa=>(_0x51d1fa['stem']||_0x51d1fa[_0x29306e(0x332)])===_0x403847[_0x29306e(0xc19)]));let _0x5995eb=![];if(_0xaa9a68){const _0x226030=_0xaa9a68[_0x29306e(0x879)]||_0xf2a297[_0x29306e(0x5c7)];switch(_0x226030){case _0x29306e(0x27b):if(_0xaa9a68[_0x29306e(0xb7c)]&&_0xaa9a68[_0x29306e(0x481)]<_0xaa9a68[_0x29306e(0xb7c)]['length']){const _0x2a5ffd=_0xaa9a68[_0x29306e(0xb7c)][_0xaa9a68['correctAnswerIndex']];_0x5995eb=_0x403847[_0x29306e(0x29e)]===_0x2a5ffd;}break;case _0x29306e(0xa08):const _0x29eac4=_0x403847[_0x29306e(0xc52)]===!![]||_0x403847[_0x29306e(0xc52)]===_0x29306e(0x6c7);_0x5995eb=_0x29eac4===_0xaa9a68[_0x29306e(0x69f)];break;case _0x29306e(0x489):_0x5995eb=_0x403847[_0x29306e(0xc52)]===_0xaa9a68['correctResponse'];break;case _0x29306e(0x934):_0x5995eb=await gradeShortAnswer(_0x403847[_0x29306e(0xc52)],_0xaa9a68);break;default:_0x5995eb=_0x403847['isCorrect'];break;}}if(_0x5995eb){_0x2bf467++,_0x5162f1++;if(_0x5162f1===0x3)_0x518c08[_0x29306e(0xae7)](BADGES[_0x29306e(0x798)]['id']);}else _0x5162f1=0x0;_0x188f7e[_0x29306e(0xae7)]({..._0x403847,'isCorrect':_0x5995eb});}let _0x1f4636=_0x2bf467*0xa;_0x2bf467===_0xf2a297[_0x29306e(0x981)][_0x29306e(0xcda)]&&(_0x1f4636+=0x32,_0x518c08['push'](BADGES[_0x29306e(0x9a3)]['id'])),_0x26228c[_0x29306e(0xae7)]({..._0x4e50ab,'score':_0x2bf467,'points':_0x1f4636,'badges':Array['from'](new Set(_0x518c08)),'answers':_0x188f7e});}const _0x32842a=_0x26228c[_0x29306e(0xcda)]>0x0?_0x26228c[0x0][_0x29306e(0x9f4)]:0x0,_0x59015f=Math[_0x29306e(0x557)](..._0x26228c['map'](_0x33ef22=>_0x33ef22[_0x29306e(0x9f4)])),_0x921373=_0x26228c[_0x29306e(0xcda)]>0x0?_0x26228c[_0x26228c[_0x29306e(0xcda)]-0x1]['score']:0x0,_0x2654e8=_0x26228c[_0x29306e(0xcda)]>0x0?_0x26228c[_0x26228c[_0x29306e(0xcda)]-0x1]['points']:0x0,_0x9063a=doc(db,_0x29306e(0x25b)+appId+'/public/data/quizzes/'+_0xf2a297['id']+_0x29306e(0x1ee),_0x3f09f4);await updateDoc(_0x9063a,{'attempts':_0x26228c,'firstScore':_0x32842a,'bestScore':_0x59015f,'latestScore':_0x921373,'points':_0x2654e8});}function cleanupQuizOptions(_0x36d86d){const _0x25c388=_0x569b7c,_0x4801c9=(_0x149ac1,_0x499e33)=>_0x499e33===0x0?_0x149ac1:_0x4801c9(_0x499e33,_0x149ac1%_0x499e33),_0x50d521=_0x1ca287=>{const _0x55b884=_0x1447;if(typeof _0x1ca287!==_0x55b884(0x90f))return null;_0x1ca287=_0x1ca287[_0x55b884(0xc9e)]();const _0x344653=_0x1ca287[_0x55b884(0x600)](/[ /]/)[_0x55b884(0x959)](_0x562e71=>_0x562e71!=='');if(_0x344653[_0x55b884(0xcda)]===0x3)return parseInt(_0x344653[0x0])+parseInt(_0x344653[0x1])/parseInt(_0x344653[0x2]);else{if(_0x344653[_0x55b884(0xcda)]===0x2)return parseInt(_0x344653[0x0])/parseInt(_0x344653[0x1]);else{if(_0x344653[_0x55b884(0xcda)]===0x1&&!isNaN(_0x344653[0x0]))return parseFloat(_0x344653[0x0]);}}return null;},_0x5611de=_0x49e3e8=>{const _0x1cdc03=_0x1447;if(typeof _0x49e3e8!==_0x1cdc03(0x90f))return _0x49e3e8;const _0x93bdf9=_0x49e3e8['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x93bdf9){const _0x34395f=parseInt(_0x93bdf9[0x1]);let _0x10b610=parseInt(_0x93bdf9[0x2]),_0x4de4c4=parseInt(_0x93bdf9[0x3]);const _0x3a7c73=_0x4801c9(_0x10b610,_0x4de4c4);_0x10b610/=_0x3a7c73,_0x4de4c4/=_0x3a7c73;if(_0x4de4c4===0x1)return(_0x34395f+_0x10b610)[_0x1cdc03(0xae2)]();return _0x34395f+'\x20'+_0x10b610+'/'+_0x4de4c4;}return _0x49e3e8;};return _0x36d86d&&_0x36d86d['questions']&&_0x36d86d[_0x25c388(0x981)]['forEach'](_0x7bfc6=>{const _0x22b280=_0x25c388;if(_0x7bfc6[_0x22b280(0x879)]==='multiple_choice'&&_0x7bfc6[_0x22b280(0xb7c)]){const _0x10ac73=new Map(),_0x542fee=_0x7bfc6[_0x22b280(0xb7c)][_0x7bfc6[_0x22b280(0x481)]];_0x7bfc6[_0x22b280(0xb7c)][_0x22b280(0xb32)](_0x28deda=>{const _0x4f6622=_0x22b280,_0xef95e4=_0x5611de(_0x28deda),_0x521718=_0x50d521(_0xef95e4);_0x521718!==null&&!_0x10ac73[_0x4f6622(0x94e)](_0x521718)&&_0x10ac73[_0x4f6622(0xa6b)](_0x521718,_0xef95e4);}),_0x7bfc6[_0x22b280(0xb7c)]=Array[_0x22b280(0x95b)](_0x10ac73[_0x22b280(0x224)]());const _0x1db450=_0x7bfc6[_0x22b280(0xb7c)][_0x22b280(0x5a3)](_0x1841fb=>_0x1841fb===_0x5611de(_0x542fee));_0x7bfc6[_0x22b280(0x481)]=_0x1db450!==-0x1?_0x1db450:0x0;}}),_0x36d86d;}function showGameStartConfirmationModal(_0x4d1b79,_0x3dd7e9,_0x12a771){const _0x476c91=_0x569b7c,_0x43b5cc=document['getElementById'](_0x476c91(0x927));document[_0x476c91(0xca0)]('game-start-modal-title')[_0x476c91(0x8a5)]=_0x476c91(0x975)+_0x12a771,document[_0x476c91(0xca0)]('game-start-quiz-id')[_0x476c91(0xb85)]=_0x4d1b79,document[_0x476c91(0xca0)](_0x476c91(0x9a4))['value']=_0x3dd7e9,document['getElementById'](_0x476c91(0xccd))[_0x476c91(0x397)]=!![],_0x43b5cc['classList'][_0x476c91(0x76f)](_0x476c91(0xb23));}async function saveGameResultsAsSubmissions(_0x178f8c){const _0x5d75a0=_0x569b7c;console[_0x5d75a0(0x2fa)]('Attempting\x20to\x20save\x20game\x20results...',_0x178f8c);const _0x178e5d=_0x178f8c['quizId'];let _0x39c91d=[];if(_0x178f8c[_0x5d75a0(0x3fc)])_0x39c91d=Object['entries'](_0x178f8c[_0x5d75a0(0x3fc)])[_0x5d75a0(0xc3d)](([_0x135684,_0xe881b])=>({'name':_0x135684,..._0xe881b}));else{if(_0x178f8c[_0x5d75a0(0xaaa)])Object[_0x5d75a0(0x224)](_0x178f8c[_0x5d75a0(0xaaa)])[_0x5d75a0(0xb32)](_0x31e0fa=>{const _0x162f93=_0x5d75a0;_0x31e0fa[_0x162f93(0x432)][_0x162f93(0xb32)](_0x1d6ba6=>{const _0xb4616f=_0x162f93;_0x39c91d[_0xb4616f(0xae7)]({'name':_0x1d6ba6,'score':_0x31e0fa[_0xb4616f(0x9f4)],'answers':_0x31e0fa['answers']});});});else _0x178f8c['responses']&&Object['entries'](_0x178f8c[_0x5d75a0(0x5fe)])[_0x5d75a0(0xb32)](([_0x11c444,_0x853eff])=>{const _0x145436=_0x5d75a0;_0x39c91d[_0x145436(0xae7)]({'name':_0x11c444,..._0x853eff});});}if(_0x39c91d[_0x5d75a0(0xcda)]===0x0){console['log']('No\x20player\x20data\x20to\x20save.');return;}const _0x344996=_0x178f8c['shuffledQuiz']?.[_0x5d75a0(0x981)]['length']||currentQuizData['questions'][_0x5d75a0(0xcda)],_0x3895a=writeBatch(db);for(const _0x3a0ace of _0x39c91d){const _0x43850e=doc(db,'artifacts/'+appId+_0x5d75a0(0x6f0)+_0x178e5d+_0x5d75a0(0x1ee),_0x3a0ace[_0x5d75a0(0x5bd)]),_0x18d4c2=(_0x3a0ace[_0x5d75a0(0x686)]||[])[_0x5d75a0(0x959)](_0x589e33=>_0x589e33[_0x5d75a0(0x280)])[_0x5d75a0(0xcda)];let _0xd6db37=_0x18d4c2;_0x178f8c[_0x5d75a0(0x80b)]&&_0x3a0ace['answers']&&_0x3a0ace[_0x5d75a0(0x686)][_0x5d75a0(0xb32)](_0x2e0616=>{const _0x312aa0=_0x5d75a0;if(_0x2e0616[_0x312aa0(0x280)]&&(_0x2e0616[_0x312aa0(0xa70)]===!![]||_0x2e0616[_0x312aa0(0xa70)]===_0x312aa0(0x768)))_0xd6db37+=0x1;else!_0x2e0616[_0x312aa0(0x280)]&&(_0x2e0616['wasConfident']===!![]||_0x2e0616[_0x312aa0(0xa70)]===_0x312aa0(0x768))&&(_0xd6db37-=0x1);});_0x344996>0x0&&_0x18d4c2===_0x344996&&(_0xd6db37+=0x1);const _0x483488={'score':_0x18d4c2,'points':_0xd6db37,'badges':_0x3a0ace['badges']||[],'submittedAt':new Date()[_0x5d75a0(0x9bb)](),'answers':(_0x3a0ace['answers']||[])['map'](_0xac3647=>({'questionId':_0xac3647[_0x5d75a0(0x9c3)],'answer':_0xac3647[_0x5d75a0(0xc52)],'answerText':_0xac3647['answerText'],'isCorrect':_0xac3647['isCorrect'],'originalQuestionText':_0xac3647[_0x5d75a0(0xc19)],'wasConfident':_0xac3647[_0x5d75a0(0xa70)]}))},_0x3457d2=await getDoc(_0x43850e),_0x14139f=_0x3457d2[_0x5d75a0(0x6c9)]()?_0x3457d2[_0x5d75a0(0x7f5)]():{},_0x4c5cf3=_0x14139f['bestScore']||0x0,_0x2a390f=_0x14139f[_0x5d75a0(0xc14)]||[],_0x561682={'studentName':_0x3a0ace[_0x5d75a0(0x5bd)],'totalQuestions':_0x344996,'attempts':arrayUnion(_0x483488),'latestScore':_0x18d4c2,'points':_0xd6db37,'latestSubmittedAt':_0x483488['submittedAt'],'bestScore':Math[_0x5d75a0(0x557)](_0x4c5cf3,_0x18d4c2),'firstScore':_0x2a390f[_0x5d75a0(0xcda)]===0x0?_0x18d4c2:_0x14139f['firstScore']||0x0};_0x3895a[_0x5d75a0(0xa6b)](_0x43850e,_0x561682,{'merge':!![]});}try{await _0x3895a[_0x5d75a0(0xad5)](),showMessage(_0x5d75a0(0xd24)+_0x39c91d['length']+_0x5d75a0(0x82a));const _0x14ed39=_0x178f8c[_0x5d75a0(0x495)]?.['projectId']||currentQuizData?.[_0x5d75a0(0xadc)]||currentProjectId;if(_0x14ed39){const _0x2fb4a5=[...new Set(_0x39c91d['map'](_0x14329b=>_0x14329b[_0x5d75a0(0x5bd)]))];for(const _0xd991b5 of _0x2fb4a5){await updateStudentProfile(_0x14ed39,_0xd991b5);}}}catch(_0x2e882a){console[_0x5d75a0(0x728)]('Error\x20saving\x20game\x20results:',_0x2e882a),showMessage(_0x5d75a0(0x661));}}async function saveQuiz(_0x829012=null,_0x43572e=null){const _0x1369e7=_0x569b7c,_0x54eb41=_0x829012||currentProjectId;if(!_0x54eb41){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x1369e7(0x981)]||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x4b92d3=document[_0x1369e7(0xca0)]('save-quiz-btn');_0x4b92d3['disabled']=!![],_0x4b92d3[_0x1369e7(0xa5b)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x3e426c=document['getElementById'](_0x1369e7(0x7c5))[_0x1369e7(0x397)];let _0x1bb185=document[_0x1369e7(0xca0)](_0x1369e7(0xb4b))['innerText'][_0x1369e7(0xc9e)]();_0x3e426c&&!_0x1bb185[_0x1369e7(0x59b)](_0x1369e7(0x31f))&&(_0x1bb185=_0x1369e7(0x36e)+_0x1bb185);try{const _0x5c59e8={'resultsDisplay':document[_0x1369e7(0xca0)](_0x1369e7(0xb2d))['value'],'shuffle':document['getElementById']('shuffle-setting-select')[_0x1369e7(0xb85)],'timerMode':document[_0x1369e7(0xca0)](_0x1369e7(0x99e))['value'],'timerDuration':parseInt(document['getElementById']('timer-duration-input')[_0x1369e7(0xb85)])||0xa,'passingScore':parseInt(document[_0x1369e7(0xca0)](_0x1369e7(0x74b))[_0x1369e7(0xb85)])||0x0,'isAdaptive':document[_0x1369e7(0xca0)](_0x1369e7(0xa29))[_0x1369e7(0x397)],'loopUntilPass':document['getElementById'](_0x1369e7(0xa4d))[_0x1369e7(0x397)]},_0x226e61=(currentQuizData[_0x1369e7(0x981)]||[])['map']((_0x1e8e8d,_0x48533d)=>{const _0x2a3304=_0x1369e7,_0x4028fe=document[_0x2a3304(0xca0)](_0x2a3304(0x701))[_0x2a3304(0xb85)],_0x4158bf={'id':'q_'+Date[_0x2a3304(0x721)]()+'_'+_0x48533d,'questionText':_0x1e8e8d['questionText']||'','explanation':_0x1e8e8d[_0x2a3304(0x420)]||'ไม่มีคำอธิบาย','questionType':_0x1e8e8d[_0x2a3304(0x879)]||_0x4028fe,'imageCode':_0x1e8e8d[_0x2a3304(0x456)]||null};return(_0x4158bf[_0x2a3304(0x879)]===_0x2a3304(0x27b)||_0x4158bf['questionType']===_0x2a3304(0xa44)||_0x4158bf[_0x2a3304(0x879)]==='mixed'&&_0x1e8e8d[_0x2a3304(0xb7c)])&&(_0x4158bf[_0x2a3304(0xb7c)]=_0x1e8e8d[_0x2a3304(0xb7c)]||[],_0x4158bf[_0x2a3304(0x481)]=_0x1e8e8d['correctAnswerIndex']!==undefined?_0x1e8e8d[_0x2a3304(0x481)]:0x0),(_0x4158bf[_0x2a3304(0x879)]===_0x2a3304(0x934)||_0x4158bf[_0x2a3304(0x879)]===_0x2a3304(0xcf8)||_0x4158bf['questionType']===_0x2a3304(0xc5e)&&_0x1e8e8d[_0x2a3304(0x8ca)])&&(_0x4158bf[_0x2a3304(0x8ca)]=_0x1e8e8d[_0x2a3304(0x8ca)]||''),_0x4158bf['questionType']===_0x2a3304(0xa08)&&(_0x4158bf['correctAnswer']=_0x1e8e8d[_0x2a3304(0x69f)]===!![]),_0x4158bf[_0x2a3304(0x879)]===_0x2a3304(0x489)&&(_0x4158bf['stem']=_0x1e8e8d['stem']||'',_0x4158bf[_0x2a3304(0x863)]=_0x1e8e8d['correctResponse']||'',_0x4158bf[_0x2a3304(0x1db)]=_0x1e8e8d[_0x2a3304(0x1db)]||[]),_0x4158bf;}),_0x51e39a={'topic':_0x1bb185,'quizType':currentQuizData[_0x1369e7(0x5c7)]||_0x1369e7(0x27b),'questions':_0x226e61,'projectId':_0x54eb41,'createdBy':userId,'createdAt':new Date()[_0x1369e7(0x9bb)](),'status':'active','settings':_0x5c59e8,'quizMode':_0x3e426c?_0x1369e7(0x225):_0x1369e7(0xade),'pairedQuizId':null,'lessonPlan':null};let _0x32cf25;while(!![]){_0x32cf25=Math[_0x1369e7(0xc71)](0x3e8+Math[_0x1369e7(0x7ff)]()*0x2328)['toString']();const _0x1f438d=await getDoc(doc(db,_0x1369e7(0x25b)+appId+'/public/data/quizzes',_0x32cf25));if(!_0x1f438d[_0x1369e7(0x6c9)]())break;}await setDoc(doc(db,_0x1369e7(0x25b)+appId+'/public/data/quizzes',_0x32cf25),_0x51e39a);if(_0x43572e&&currentBlueprintProjectId){console[_0x1369e7(0x2fa)](_0x1369e7(0x3a4)+_0x32cf25+_0x1369e7(0x2be)+_0x43572e);try{const _0x3d4f2a=doc(db,_0x1369e7(0x25b)+appId+_0x1369e7(0x8a2),currentBlueprintProjectId);await updateDoc(_0x3d4f2a,{[_0x1369e7(0x22a)+_0x43572e+_0x1369e7(0xb50)]:arrayUnion(_0x32cf25)});}catch(_0x3bfa39){console[_0x1369e7(0x728)](_0x1369e7(0x7af),_0x3bfa39);}}currentQuizData[_0x1369e7(0x3ee)]=_0x5c59e8,currentQuizData['id']=_0x32cf25;const _0x9a3963=document['getElementById'](_0x1369e7(0x2ce));_0x9a3963['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x32cf25+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document['getElementById']('copy-quiz-id-btn')[_0x1369e7(0x79b)]('click',()=>copyTextToClipboard(_0x32cf25,'คัดลอกรหัสแล้ว!')),document[_0x1369e7(0xca0)]('start-live-race-generated-btn')['addEventListener'](_0x1369e7(0xd52),()=>handleStartLiveRace(_0x32cf25)),document[_0x1369e7(0xca0)](_0x1369e7(0x8f8))[_0x1369e7(0x79b)](_0x1369e7(0xd52),()=>startPresentation(currentQuizData)),document['getElementById']('admin-try-quiz-btn')[_0x1369e7(0x79b)]('click',startAdminTest),showMessage(_0x1369e7(0xa1d));}catch(_0x232034){console[_0x1369e7(0x728)](_0x1369e7(0x85e),_0x232034),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ');}finally{_0x4b92d3[_0x1369e7(0x7b4)]=![],_0x4b92d3[_0x1369e7(0xa5b)]=_0x1369e7(0x1f3);}}function promptForProjectAndSave(){const _0x4914ad=_0x569b7c,_0x17a4f2=document['getElementById']('move-quiz-modal'),_0x5e1f35=document[_0x4914ad(0xca0)](_0x4914ad(0xa1e)),_0x3d9519=_0x17a4f2['querySelector']('h3'),_0x200415=document[_0x4914ad(0xca0)](_0x4914ad(0xbae));_0x3d9519[_0x4914ad(0x8a5)]='เลือกโปรเจคเพื่อบันทึก',_0x200415[_0x4914ad(0x8a5)]=_0x4914ad(0x794);allProjects[_0x4914ad(0xcda)]===0x0?(_0x5e1f35[_0x4914ad(0xa5b)]=_0x4914ad(0x946),_0x200415[_0x4914ad(0x7b4)]=!![]):(_0x5e1f35[_0x4914ad(0xa5b)]=allProjects[_0x4914ad(0xc3d)](_0x33ee52=>_0x4914ad(0x2df)+_0x33ee52['id']+'\x22>'+_0x33ee52['projectName']+_0x4914ad(0xaed))['join'](''),_0x200415[_0x4914ad(0x7b4)]=![]);_0x17a4f2['classList'][_0x4914ad(0x76f)](_0x4914ad(0xb23));const _0x294459=()=>{const _0x51a2f2=_0x4914ad,_0x5065f7=_0x5e1f35[_0x51a2f2(0xb85)];_0x5065f7?(currentProjectId=_0x5065f7,_0x17a4f2['classList'][_0x51a2f2(0x46b)]('hidden'),saveQuiz(),_0x3d9519[_0x51a2f2(0x8a5)]=_0x51a2f2(0x326),_0x200415['textContent']=_0x51a2f2(0x83d),_0x200415[_0x51a2f2(0xd44)](_0x51a2f2(0xd52),_0x294459),_0x200415[_0x51a2f2(0x79b)](_0x51a2f2(0xd52),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x200415['removeEventListener'](_0x4914ad(0xd52),confirmMoveQuiz),_0x200415['addEventListener'](_0x4914ad(0xd52),_0x294459);}function _0x4cf9(){const _0xc866f9=['</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','isPinned','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20easy\x20version\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','print','teacherSuggestions','ยืนยันการจับคู่','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','สมการราก\x20(radical)','screen_exit','btn','bg-green-200\x20text-green-800','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','options','actions-container-','submission-status-chart','\x20quizzes\x20into\x20global\x20cache.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','additional-shortcuts-modal','manual-bp-content','เกิดข้อผิดพลาดในการบันทึก','quiz-settings-modal','value','preScore','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','subTopics','\x20|\x20','<div\x20class=\x22mb-3\x20topic-category\x22>','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','countdown-display','justification','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','solution','querySelector','ฐานนิยม','ชื่อหัวข้อห้ามว่าง','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','project-title','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','release','bg-black/10','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','fa-bolt\x20text-blue-500','confidence_single','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','<div\x20class=\x22flex-1\x22></div>','selectedTopicNames','กฎบวกและกฎคูณ','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','ใช่\x20/\x20ถูก','additional-parallel-shortcuts-list','eraser-tool-btn','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','Error\x20during\x20deep\x20delete:','เพิ่มปุ่มลัดใหม่','lesson-view-content','N/A','first_try_ace','confirm-move-quiz-btn','promptFeedback','top','lesson-plan-title','936yLyJIr','uid','กลุ่ม:\x20','after','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','create-project-modal','tab_','ความชันและเส้นตรง','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','incorrect','opacity-50','<tr\x20class=\x22','เวกเตอร์และเมทริกซ์\x20(เสริม)','sync-player-list','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','modal-timer-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','Test\x20Blueprint','index','bg-green-200\x20text-green-900','text-input-area','reference_onet.pdf','.color-palette-btn','Error\x20in\x20generating\x20from\x20files:','/public/data/projects/','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','OBJECT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','PROMPT_PLACEHOLDER','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.group\x5c/dropdown-file','\x22\x20สำเร็จ!','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','เปิด\x20(จับเวลา)','\x20\x20\x20-\x20','highlighter-size-slider','file-shortcut-name-input','showInStudentDashboard','\x22\x20name=\x22question_single\x22\x20value=\x22','SAFETY','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','\x22\x20class=\x22color-palette-btn\x20','bp-modal-quiz-type-select','student-passcode-input','ฟังก์ชันสัมพัทธ์\x20(rational)','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','generate-from-blueprint-btn','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','target','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','onclick','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','groups.','.delete-student-btn','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','lowerGroupResponders','เซียนสมองไว','isScored','update-old-quizzes-btn','ทศนิยม\x20(ค่าประจำหลัก)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.shortcut-tab-btn','fa-pen','file-default-','Leaderboard\x20update\x20transaction\x20failed:\x20','cancel-bulk-quiz-settings-btn','student-quiz-area','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','<i\x20class=\x22fas\x20fa-pen\x22></i>','temp-loader-text-results','#student-quiz-leaderboard-content\x20thead','close-student-rankings-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Copy\x20command\x20failed','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','save-visibility-settings-btn','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','เกิดข้อผิดพลาดในการติดดาว','innerText','shortcuts-loading-msg','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','activeGameSession','cancel-bp-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','start-sync-game-btn','เปิดใช้งาน','bg-green-100','ไม่พบข้อมูลข้อสอบหลังเรียน','file-shortcut-id-input','export-worksheet-pdf-btn','attempts','numPages','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','originalQuestionText','shortcut_','bp-modal-question-complexity-select','false','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','dimmed','.delete-hidden-parallel-shortcut-btn','generate-from-parallel-test-btn','ปิดใช้งาน','shadowBlur','export-word-btn','```json','จุด\x20เส้น\x20ระนาบ','.edit-parallel-shortcut-btn','การแจกแจงปกติและ\x20z-score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','auto-fix-latex-btn','label','แก้ไขชื่อหัวข้อย่อย:','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','ค่าเฉลี่ย','offsetWidth','3886GHRHqN','รูปหลายเหลี่ยมและมุมภายใน','BOOLEAN','พื้นที่ใต้กราฟ/ระหว่างกราฟ','pop','dblclick','ข้อที่\x20','.parallel-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-results-display-select','whole_quiz','select','results-quiz-title','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','map','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','.group','/preferences/main','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','#F59E0B','cursor','.quiz-settings-btn','#ffffff','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','Error\x20processing\x20shortcut\x20click:','copy','scrollIntoView','answer','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','short','ทำคะแนนได้เกินครึ่ง','Error\x20renaming\x20quiz:','เกิดข้อผิดพลาดในการอัปเดตสถานะ','confirm-confident','text-gray-300\x20hover:text-white','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','numQuestions','Error\x20displaying\x20question\x20bank:','mixed','manual-create-blueprint-btn','หน่วยความยาวและการแปลง','จับคู่เพื่อเปรียบเทียบผล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.admin-try-quiz-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','กำลังอัปเดตแบบทดสอบ\x20','toLocaleString','json','additional-file-shortcuts-list','ฟังก์ชันลอการิทึม','memoryContent','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','Failed\x20to\x20end\x20group\x20mode\x20game:','ตรีโกณมิติ','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','Error\x20saving\x20questions\x20to\x20practice\x20bank:','floor','student-name-select','fixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','border-green-300\x20bg-green-50','shortcut-reference-url-input','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','พบ\x20Team\x20Quiz!','end-sync-game-btn','Error\x20starting\x20live\x20race:','isArray','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','สาระที่\x201','grabbing','status','ยังไม่มีนักเรียนส่งงาน','Error\x20moving\x20quiz:','font-bold\x20text-green-700','cancel-quiz-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สร้างคำถามแบบใช่/ไม่ใช่','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','createObjectURL','เพิ่มหัวข้อ\x20\x22','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-rename-quiz-btn','.answers','quick_thinker','quiz-editor-modal','เกิดข้อผิดพลาด:\x20','text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','promise','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','ลบผลสอบของ\x20','Original\x20quiz\x20not\x20found','แบบทดสอบนี้หมดเวลาแล้ว','\x20จุดเรียบร้อยแล้ว','round','bg-teal-500\x20hover:bg-teal-600\x20text-white','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','setAttribute','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','trim','_opt0\x22>ใช่</label></div>','getElementById','เกิดข้อผิดพลาดในการปักหมุด','Error\x20generating\x20lesson\x20plan:','results-table','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','หัวข้อที่สร้างเอง','ไม่มีผู้ตอบตัวเลือกนี้','/lessons','save-bp-settings-btn','quiz-results','bg-red-500','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','Re-grade\x20process\x20failed:','strokeStyle','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','show-results-btn','text-red-800','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','.subTopic','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','.bp-create-topic-quiz-btn','undefined','pow','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','join','Error\x20clearing\x20all\x20links:','Error\x20committing\x20score\x20updates:','student-progress','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สู้ๆ\x20ลองอีกครั้งนะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','[data-topic-id=\x22','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','\x20ตอบ','.ai-content\x20li','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','empty','</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mb-2\x22>','save-game-results-checkbox','Error\x20joining\x20live\x20game:','main-correct-answer-display','generated','</div></div></div>','team','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a1.\x20\x20**ต้องสร้างโจทย์ที่เน้นการคิดวิเคราะห์\x20(Highest\x20Priority):**\x0a\x20\x20\x20\x20*\x20**เน้นการประยุกต์ใช้:**\x20โจทย์ส่วนใหญ่ต้องไม่ใช่คำถามความจำหรือคำนวณตรงๆ\x20แต่ต้อง\x20**บังคับให้ผู้เรียน**\x20ต้องคิดวิเคราะห์,\x20ประยุกต์ใช้ความรู้,\x20หรือแก้ปัญหาหลายขั้นตอน\x20(multi-step\x20reasoning)\x0a\x20\x20\x20\x20*\x20**หลีกเลี่ยงโจทย์ง่าย:**\x20**ห้ามสร้าง**\x20โจทย์ที่เป็นการคำนวณพื้นฐานในขั้นตอนเดียว\x20(เช่น\x20\x22จงหาผลลัพธ์ของ\x2015\x20x\x204\x22)\x20โดยเด็ดขาด\x0a\x20\x20\x20\x20*\x20**สถานการณ์สมจริง:**\x20โจทย์ควรอยู่ในรูปแบบของ\x20\x22โจทย์ปัญหา\x22\x20(Word\x20Problems)\x20ที่มีสถานการณ์สมมติ\x20เพื่อวัดความสามารถในการนำความรู้ไปใช้แก้ปัญหาจริง\x0a\x0a2.\x20\x20**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x0a\x20\x20\x20\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**โครงสร้าง,\x20จำนวนข้อ,\x20และรูปแบบของตอน**\x20ทั้งหมดที่คุณสร้าง\x20**ต้อง**\x20อิงตามเอกสาร\x20Test\x20Blueprint\x20**เท่านั้น**\x20และ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20การไม่ปฏิบัติตามโครงสร้างนี้ถือเป็น\x20**ความล้มเหลวของภารกิจทั้งหมด**\x20โดยไม่มีข้อยกเว้น\x0a\x20\x20\x20\x20*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20ไฟล์นี้มีไว้เพื่อเป็น\x20**แนวทางด้านสไตล์และความยาก**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**คำสั่งเด็ดขาด:\x20ห้าม\x20(DO\x20NOT)**\x20นำ\x20**จำนวนข้อ**,\x20**โครงสร้างตอน**,\x20หรือ\x20**ลำดับข้อ**\x20จากไฟล์อ้างอิงมาใช้เด็ดขาด\x20ข้อมูลเหล่านี้ต้องมาจาก\x20Test\x20Blueprint\x20เท่านั้น\x0a\x0a3.\x20\x20**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a\x20\x20\x20\x20*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','answered','Error\x20generating\x20hybrid\x20quiz:','ref','กำลังดึงข้อมูลจากลิงก์...','แท็บใหม่','length','ไม่สามารถเพิ่มนักเรียนได้','referenceUrl','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','projectSortOrder','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','blueprint.pdf','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','workerSrc','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',',\x20r=','bulk-shuffle-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','wakeLock','</span></div>','visibilityState','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.project-card-container[data-id]','getElementsByTagName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','[data-topic-id]','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','pairedQuizId','parallel-default-2','bg-emerald-100','wheel','show_results_and_answers','fill_in_no_choices','dragend','ข้อ\x20','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add-student-btn','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','numChoices','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','กราฟแท่ง\x20กราฟเส้น','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','project-name-input','responseSchema','blur','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','bulk-confidence-scoring-checkbox','draggable-text','fa-user-astronaut\x20text-blue-700','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','smooth','project-dashboard-view','input[name=\x22team_player\x22]:checked','table','find','hint-btn','load-quiz-btn','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</tbody></table></div>','analytics','ไฟล์ลัด\x202','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','dfrac','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ตัวประกอบและตัวประกอบเฉพาะ','file-shortcut-modal-title','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','touchend','บันทึกผลการเล่นเกมของ\x20','ฟังก์ชันผกผัน','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','bg-red-100\x20text-red-800','กรุณาเลือกคำตอบก่อนครับ','add-shortcut-btn','text-gray-200','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.copy-quiz-id-list-btn','far\x20fa-star','parentElement','.quiz-bank-move-btn','link-topic-input','\x5cfrac{$1}{$2}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','เกิดข้อผิดพลาดในการลบ','blueprint-projects-modal','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','mandatory','สัญกรณ์วิทยาศาสตร์','latestSubmittedAt','Team\x20Quiz','undo-btn','ไม่ได้ตอบ','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','วงรี','<div\x20class=\x22space-y-4\x22>','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','removeEventListener','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','วงกลม:\x20คอร์ดและเส้นสัมผัส','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการแก้ไข','parallel-shortcut-name-input','274192258111','Error\x20analyzing\x20blueprint\x20topics:','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','.question-editor-item[data-q-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','click','function','start-game-btn','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','text-indigo-800','url','finishReason','dashboardConfig','เกิดข้อผิดพลาดในการสร้าง:\x20','Unexpected\x20API\x20response\x20structure:','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','เกิดข้อผิดพลาดในการสร้างใบงาน','ส่วนเบี่ยงเบนมาตรฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineCap','/public/data/projects','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','default','ผู้เชี่ยวชาญ','ยังไม่ส่ง','ลบโปรเจคสำเร็จแล้ว','student-quiz-leaderboard-content','cancel-quiz-edits-btn-footer','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างห้องเกม','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','ไม่สามารถโหลดรายการโปรเจคได้','bg-green-100\x20text-green-800','asc','text-red-700','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','contains','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','file.txt','\x5csqrt{$1}','modal-confidence-mode-select','\x20from\x20sync\x20game:','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','AI\x20ไม่สามารถประมวลผลข้อมูลได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22radio\x22]:checked','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','allResponses','q-explanation-','modal-shuffle-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','topic-bank-subtopic-name','finished','เส้นจำนวน','\x20คู่\x20','confidence-modal','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','คำถามดิบ:\x20\x22','sync-matching-select','file-shortcut-editor-modal','คณิตการเงิน/บูรณาการ','projectSort','.mb-6.p-4','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','blueprint-tab','/submissions','not_generated','.delete-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','/public/data/syncGames','export-pdf-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectOrder','.ai-content\x20p','setItem','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','การปัดเศษและประมาณค่า','substring','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','file-upload-input','team-player-status-grid','API\x20call\x20failed\x20with\x20status:\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','back-to-results-btn','.move-parallel-shortcut-dropdown','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','resultsDisplay','กรุณาใส่ชื่อโปรเจค','project-passcode-input','#results-table\x20thead\x20tr','.move-shortcut-menu-btn','cancel-quiz-settings-btn','mouseup','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','lesson-view-modal','Error\x20joining\x20activity:','restore','subTopic','question','มัธยฐาน','การลบทศนิยม','.project-card-container:not(.opacity-50)','onloadend','.bp-live-btn','option','Error\x20during\x20blueprint\x20link\x20cleanup:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','button[type=\x22submit\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','#6366F1','Error\x20deleting\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','values','pre-test','1:274192258111:web:4120c9118229b5644dd48a','ดอกเบี้ยทบต้น','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','กำลังโหลดคลังข้อสอบทั้งหมด...','topics.','onchange','เรขาคณิต','หมดเวลาสำหรับข้อนี้!','save-bp-reference-btn','lesson-plan-content','curriculum','ตั้งเวลา\x20(เปิด)','bulk-results-display-select','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','.bp-game-btn','manual-bp-project-name','file-shortcut_','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','difficultyValue','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','beginPath','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','quiz-id-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','.application-options\x20button','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','generate-worksheet-btn','_opt0\x22\x20name=\x22question','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','not-found','Error\x20during\x20class\x20analysis:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','topic-bank-list','hover:bg-indigo-100','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','</form>','พาราโบลา','parent','closePath','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','redo-btn','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','artifacts/','isStarred','ไม่พบตารางสำหรับ\x20Export','stringify',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','worksheet-tab','บันทึกโปรเจค\x20\x22','handleGeneratePracticeTest','null','beforeend','file-topics-list-container','คะแนน','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','blueprint-topics-list','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','bg-blue-100\x20text-blue-800','submittedAt','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','additional-file-shortcuts-modal','timerMode','หมดเวลา!\x20กำลังส่งคำตอบ...','rows','open','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','ไม่สามารถบันทึกการตั้งค่าได้','AI\x20แก้ไขคำถามสำเร็จ!','devicePixelRatio','\x27\x20ในหัวข้อ\x20\x27','multiple_choice','Successfully\x20removed\x20','\x20แบบทดสอบลงในคลังสำเร็จ!','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','\x22.\x20','isCorrect','quiz-search-input','open-scratchpad-btn','add-from-global-bank-btn','neq','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','</div></div>','.quiz-bank-parallel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(คู่ขนาน)\x20','bulk-confidence-mode-select','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','offset','กำลังสร้างบทเรียน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','#E5E7EB','file-input-area','Failed\x20to\x20generate\x20practice\x20test:','exitFullscreen','ondrop','ปุ่มลัดทั้งหมด','createdBy','doughnut','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','-options\x22>','parallel-shortcut-container','bp-topic-list-container','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','answerText','.topic-actions-edit','\x22\x20data-quiz-id=\x22','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','.group\x5c/dropdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20in\x20handleApiCall:','student-initial-view','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','rgba(79,\x2070,\x20229,\x200.8)','Blueprint\x201','คำเตือน\x20(','shortcut-blueprint-url-input','fa-dumbbell\x20text-gray-700','responses.','\x22\x20class=\x22pin-project-btn\x20','hint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','attemptNumber','การจัดหมู่\x20(Combination)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','hasPerfectScoreBonus','temp-loader-results','admin-password-input','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','bg-green-200','text-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ใหม่...','ไม่พบข้อมูลการจับคู่','close-lesson-plan-modal-footer-btn','bottom','\x20to\x20blueprint\x20topic\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','project-passcode-modal','.lastAnswerValue','ยกเลิกการจับคู่สำเร็จ','deselect-all-topics-btn','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','questionDisplayedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','matching','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student-name-input','เพิ่มปุ่มลัดจากไฟล์ใหม่','generated-quiz-actions','player-list-lobby','ทฤษฎีบทพื้นฐานของแคลคูลัส','tan','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','Group\x20Mode','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','ต้นฉบับ\x202','open-blueprint-projects-btn','lower_group_count','อัตราและอัตราหน่วย','bg-green-50','เรขาคณิตวิเคราะห์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','txt','<option\x20value=\x22','.tab-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','.shortcut-list-item','nextElementSibling','parallel-test-tab','td,\x20th','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','bulk-confidence-mode-container','custom-math-topic-input','analytics-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','destroy','topic-input','(ฉบับง่าย)\x20','<div\x20id=\x22q-image-container-','สร้างแบบทดสอบปรนัย','removeAttribute','point','\x22><i\x20class=\x22fas\x20','export-leaderboard-word-btn','execCommand','image/png','earned-badges-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','กรุณาตั้งชื่อแท็บใหม่:','log','การคูณ','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','th-TH','.topic-row','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','project-sort-select','.scratchpad-content-wrapper','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.quiz-bank-delete-btn','หลังเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','.regenerate-question-editor-btn','(หลังเรียน)\x20','leaderboard-quiz-tab-btn','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','<p\x20class=\x22text-xl\x22>','Error\x20starting\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','parallelTestShortcutsConfig','height','trail-tool-btn','บันทึกการตั้งค่าการแสดงผลสำเร็จ','topic_','52WKicHq','Failed\x20to\x20resume\x20game\x20session:','กำลังวิเคราะห์หัวข้อ...','ฟังก์ชันค่าสัมบูรณ์','\x22\x20name=\x22confidence','querySelectorAll','PERSEVERANCE','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ก่อนเรียน)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','drop','Error\x20deleting\x20shortcut:','#math-topics-checkbox-container\x20input:checked','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','ย้ายแบบทดสอบไปโปรเจคอื่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','[data-field=\x22subTopic\x22]','complexityValue','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','ดอทโปรดักต์\x20(dot)','bg-amber-100\x20text-amber-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','STOP','<i\x20class=\x22fas\x20fa-save\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','questionText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bg-blue-100','FIRST_TRY_ACE','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','Invalid\x20response\x20structure\x20from\x20AI.','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','.bp-delete-topic-btn','.verification-result-editor','toDataURL','ไม่สามารถเริ่มเกมได้','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','.status','<button\x20id=\x22','\x22\x20value=\x22false\x22\x20','ถูก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.bp-unlink-quiz-btn','การสร้างรูปด้วยวงเวียน–สันตรง','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','close','\x20\x20\x20-\x20คำตอบ:\x20','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','\x20คะแนน\x20','<div\x20class=\x22','cloneNode','<span\x20class=\x22font-bold\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','Error\x20generating\x20parallel\x20test\x20from\x20bank:','จากไฟล์ที่แนบมานี้,\x20','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','\x22...','text-red-900','กฎของโคไซน์','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20data-id=\x22','text-red-500\x20hover:text-red-700','.isScored','Error\x20adding\x20topic:','includeImages','quiz-generation-area','ai-quiz-app-aefee.firebasestorage.app','บทเรียนเรื่อง:\x20','):\x20','file-default-2','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','file-topic-input','(ก่อนเรียน)\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','upper_group_count','scratchpad-header','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','gamePin','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','close-additional-parallel-shortcuts-btn','parallel-shortcut-modal-title','dragstart','\x20</div>\x0a\x20\x20\x20\x20','สรุปผลสุดท้าย','create-project-btn','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','กรุณาเลือกชื่อของคุณ','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','bg-green-400\x20text-white\x20font-bold','ตรวจทานเฉลยเสร็จสิ้น!','back-to-dashboard-from-results-btn','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','show_pass_fail_only','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','แผนการสอน:\x20','Error\x20updating\x20project\x20name:','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','NEGATIVE_INFINITY','toLowerCase','.project-card-container.opacity-50','not_confident','Error\x20linking\x20quizzes:','\x22\x20data-pre-test-id=\x22','Error\x20creating\x20project:','results-tab-content','classList','checked','scratchpad-modal','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','student-project-leaderboard-tab','requestFullscreen','เลือกและเริ่มสร้าง','.sortable-header','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','/users/','cdot','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','msRequestFullscreen','Auto-linking\x20new\x20quiz\x20','reference.pdf','ไม่สามารถโหลดคลังข้อสอบได้','ai-quiz-app-aefee.firebaseapp.com','start-quiz-btn','ฟังก์ชันกำลังสองและกราฟ','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','.game-start-btn','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','ข้อต่อไป','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','.bp-try-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22loader\x20mx-auto\x22></div>','confirm-join-game-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','มุมพิเศษ\x2030°-60°-90°','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','topicId','border-gray-200','update','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','sum','<i\x20class=\x22fas\x20fa-magic\x22></i>','เกิดข้อผิดพลาดในการลบแบบทดสอบ','<div>','handleGenerateQuizFromBlueprintTopic','mode','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','พิมพ์ตอบ','prev-question-btn','พิสัย','number','กำลังอ่านไฟล์\x20Test\x20Blueprint...','กรุณาพิมพ์คำตอบของกลุ่ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','manual-bp-grade-level','baseVal','.sort-indicator','.delete-hidden-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','#DBEAFE','shuffle','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','.\x20แต่ละข้อมี\x20','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','submission','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','qType','document','sync-player-management','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','กำลังสแกนหาแบบทดสอบเก่า...','เพิ่มรายการที่เลือก','lobby','badgesCount','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','pointerdown','close-game-final-btn','Error\x20saving\x20visibility\x20settings:','\x20สำเร็จ','แผนภาพเวนน์','shortcut-tabs-nav','คุณแน่ใจว่าต้องการลบแท็บนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x5cle','settings','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','</div>','Error\x20verifying\x20answers:','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','parseInline','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','slice','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','Error\x20generating\x20from\x20parallel\x20test\x20file:','มุมพิเศษ\x2045°-45°-90°','</th>','players','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','ไม่ใช่\x20/\x20ผิด','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','results-tab','สมการตรีโกณมิติ','strength-weakness-analysis-container','คะแนนเต็ม','.unpair-quiz-btn','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','/public/data/customMathTopics','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reset-project-order-btn','items','answer-grid-container','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','Error\x20adding\x20students:','กลุ่มของคุณ','cancel-team-selection-btn','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','isNormalTopic','student-progress-content','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','เกิดข้อผิดพลาดในการอ่านไฟล์','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','worksheet-topic-input','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','outerHTML','quadraticCurveTo','bp-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','explanation','ผู้ควบคุม\x20(ทดสอบ)','วงกลม:\x20สมการและสมบัติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-manual-bp-btn','blueprint-options-container','\x0a\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','.live-answer-btn,\x20#sync-submit-btn','-tab','admin','confirmation-modal','scores-tab-btn','2-digit','</body></html>','\x5cpm','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','members','<p\x20class=\x22font-bold\x20text-sm\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','bg-yellow-50','topic-quiz-bank-modal','แก้ระบบสมการด้วยเมทริกซ์','\x20ตัวเลือก)','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','project-quizzes-list','เปลี่ยนชื่อโปรเจคสำเร็จ','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','grid-view-btn','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','open-quiz-bank-btn','manage-tab','text/html','pointerup','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','checkAnswer','group','results-quiz-id-display','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด)','blueprint-project-manager-view','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','afterend','upperGroupResponders','gain','highlighter-size-value','endTime','textarea[name=\x22question_single\x22]','confirm-link-quiz-btn','imageCode','\x5cdiv','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','ondragend','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20loading\x20blueprint\x20projects:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','\x20ครั้ง)</span></td>','cancel-create-project-btn','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','.move-shortcut-item','mean','ตัวแปรและนิพจน์','ondragstart','createElementNS','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stdDev','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','add','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','.remove-file-shortcut-from-tab-btn','.kick-player-btn-sync','points','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','file-shortcut-url-input','.answeredCurrentQuestion','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','Error\x20processing\x20file\x20for\x20AI:','(เลือกแล้ว\x20','confirm-quiz-status-btn','latestScore','quiz','.move-file-shortcut-dropdown','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','282401TkrNWq','comparison-overall-content','การหาร','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','Error\x20showing\x20quiz\x20detail\x20view:','ยืนยันการกระทำ','correctAnswerIndex','default-1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','คณิตศาสตร์','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','parallel-default-1','matching_item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','selected-answer-index-hidden','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-input-area','binom','#confidence-input-','shuffleSetting','mode-switcher-btn','post-test','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','shuffledQuiz','results-table-container','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','no-projects-msg','แผนการสอน','comparison-overall-tab','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','half_mark_status','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','fa-shield-alt\x20text-gray-600','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shouldSaveResults','endsWith','ความคาดหมาย\x20(Expected\x20value)','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','keydown','live-player-management','scheduled_pending','close-comparison-modal-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','<p>','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p><div>','Error\x20listening\x20for\x20custom\x20math\x20topics:','Error\x20saving\x20shortcut\x20config:','add-parallel-shortcut-btn','ระยะจากจุดถึงเส้นตรง','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcutOrder','insertBefore','upperGroupNames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','circle','.ai-fix-question-btn','.use-hidden-parallel-shortcut-btn','file-shortcut-tabs-nav','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','name_desc','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','cancel-shortcut-edit-btn','</p></div>','.move-shortcut-dropdown','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#FCE7F3','showRankings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','onerror','flex\x20flex-col\x20gap-2','q-image-container-','border-red-700','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','Error\x20analyzing\x20file\x20for\x20topics:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','ส่งแล้ว','รอเปิด','practiceProblems','user-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','คัดลอกไม่สำเร็จ','.generate-lesson-btn','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','</span></td>','\x20(ID:\x20','generationConfig','Error\x20saving\x20submission:','.move-file-shortcut-item','Error\x20fetching\x20student\x20rankings:','description','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','touchcancel','ระยะเวลา\x20(วินาที):','tooltipTarget','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','bg-red-200\x20text-red-800','กรุณากรอกข้อมูลให้ครบทุกช่อง','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','1665360OnVGzI','Error\x20preparing\x20content\x20quiz:','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','อยู่ในหัวข้อหลักใด:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','s;\x22\x20title=\x22','fix\x20the\x20option','live-options-container','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','removeItem','dispatchEvent','จับคู่แบบทดสอบสำเร็จ!','ไม่พบข้อมูลแบบทดสอบ','ไม่พบข้อมูลหัวข้อที่จะบันทึก','.space-y-1.pl-4','$$$1$','ไม่พบโปรเจคที่ต้องการลบ','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','link-tab','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','topic-tab','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','getPage','gameData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','ความต่อเนื่อง','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','แบบทดสอบจากคลังส่วนตัว','dataset','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','</td></tr>','อัปเดตแบบทดสอบเก่า\x20','<p\x20class=\x22text-2xl\x22>','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','Error\x20fetching\x20quiz\x20settings:','date_desc','ตอบถูกทุกข้อในแบบทดสอบนี้','confidenceMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','bp-modal-passing-score-input','.color-palette-popup','live-submit-short-answer-btn','student-result-area','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','หัวข้อหลักใหม่','every','toggle','student-quiz-leaderboard-tab','.export-pdf-list-btn','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','getScreenCTM','documentElement','.bp-view-analysis-btn','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-6\x22>','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','summary','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','<br>','nickname-input','พื้นที่ผิวรูปทรงสามมิติ','end-team-quiz-btn','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','จัดการ','memory','.live-answer-btn,\x20#live-submit-short-answer-btn','input[name=\x22question_single\x22]:checked','live-game','ตรวจพบการออกจากหน้าจอครบ\x20','save-quiz-btn','ผ่านฉลุย','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','</td>','passcode','original-mode-checkbox','กำลังค้นหากิจกรรม...','docs','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','ควรปรับปรุง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','cancel-game-start-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','global-quiz-count','.lastAnswerCorrect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','.star-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','loader-text','sync-manage-players-btn','answer-counter','เกิดข้อผิดพลาดในการลบผลสอบ',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','admin-dashboard','global-activity-quiz-list','สถิติและความน่าจะเป็น','Error\x20submitting\x20group\x20answer:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','toFixed','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','สร้างชุดคำถามจับคู่','text-white','math-topics-checkbox-container','API\x20Error\x20Body:','max','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','live-player-list','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','lowerGroupNames','color','className','force-math-checkbox','กรุณาวาง\x20URL\x20ของบทความก่อน','Error\x20duplicating\x20quiz:','/studentProfiles','.bp-create-content-quiz-btn','lessonPlan','Error\x20processing\x20file\x20shortcut\x20click:','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','quiz-form','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-short-answer-input','numeric','Error\x20rendering\x20student\x20progress:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ค่าความจริง/ตารางค่าความจริง','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','focus','Error\x20opening\x20quiz\x20editor:','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','กำลังสร้างแบบทดสอบจากหัวข้อ...','manual_release','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','QUICK_THINKER','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด:**\x20เนื้อหาในส่วน\x20POINT\x20และ\x20MEMORY\x20ต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง:**\x20ตัวอย่างประกอบ\x20(blockquote)\x20ต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x20แต่ห้ามคัดลอกโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**ยึดตามปรัชญา\x20O-NET:**\x20เน้นการประยุกต์ใช้,\x20การคิดวิเคราะห์,\x20และการแก้ปัญหาหลายขั้นตอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','timestamp','worksheet-input-area','\x22\x20name=\x22question','bg-gray-500','submit','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','ตารางความถี่','.regenerate-question-btn','การบวกเศษส่วน','stroke','auto','27411472','กำลังสร้างรูปภาพ...','เกิดข้อผิดพลาดในการโหลดโปรเจค','ฮิสโตแกรม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','totalPoints','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','ดีเทอร์มิแนนต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','modal-confidence-scoring-checkbox','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความสัมพันธ์ของมุม','.highlighter-color-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','การลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','ไม่พบแบบทดสอบ','<option>กำลังโหลดโปรเจค...</option>','startsWith','\x20in\x20all\x20blueprint\x20projects.',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','กรุณาสร้างบทเรียนก่อน','เกิดข้อผิดพลาดในการเปลี่ยนสี','cancel-parallel-shortcut-edit-btn','input[type=\x22checkbox\x22]:checked','num-questions','findIndex','perQuestionStats','title','\x20ข้อ\x20','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','showImproveButton','text-gray-500','cancel-export-pdf-btn','separate-by-content-from-file-checkbox','#student-project-leaderboard-content\x20thead','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','.bp-open-topic-bank-btn','เส้นตรง:\x20รูปแบบสมการ','.delete-custom-topic-btn','applicationData','authed_project_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-loader','ฟังก์ชันแบบชิ้นส่วน','Error\x20saving\x20lesson\x20to\x20project:','.live-summary-tooltip.visible','จำนวนนักเรียน','Error\x20calling\x20Gemini\x20API:','Error\x20saving\x20settings:','name','pinnedProjects','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','อัตราส่วนและสัดส่วน','retake-quiz-loop-btn','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','Error\x20saving\x20blueprint\x20project:','reduce','file-default-1','quizType','players.','bg-gray-200\x20text-gray-700','input','สร้างแล้ว','typesetPromise','</select>','arrayBuffer','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','blueprintUrl','.confidence-choice-btn','tGain','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','result','Error\x20deleting\x20custom\x20topic:','ฟังก์ชันพหุนาม','.edit-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','file.pdf','<span\x20class=\x22sort-indicator\x20ml-2\x22>','drill-feedback','back-to-student-initial-btn','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','ไม่มีคำอธิบาย','.quiz-bank-present-btn','modal-adaptive-quiz-checkbox','textarea','show_results_only','00:00','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','getTextContent','.topic-name-input','.generate-post-test-btn','pen-tools-group','text-red-300\x20hover:text-red-100','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','Error\x20unpairing\x20quizzes:','instructions','ระบบอสมการ','editor-quiz-topic','ค.ร.น.\x20(LCM)','.project-card-container','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','\x5ccdot','webkitRequestFullscreen','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','คัดลอกรหัสแล้ว!','/questionBank','.tab-name-display','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','comparison-modal','ดูผลสรุปสุดท้าย','responses','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','split','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','msExitFullscreen','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','all','comparison-individual-content','parse','lesson-sections-container','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','shortcut-id-input','some','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','warn','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','schedule','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','blueprintShortcuts','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','ส่วนเบี่ยงเบนเฉลี่ย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.shortcut-btn','generate-from-file-btn','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','COMEBACK_KING','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','pointermove','add-file-shortcut-tab-btn','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','input[name=\x22drill_answer\x22]:checked','#000000','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20data-topic=\x22','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','line-through\x20text-red-700','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20ก่อนสร้างเนื้อหาใดๆ\x20ให้อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','modal-loop-until-pass-checkbox','Error\x20saving\x20shortcut:','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','#10B981','highlighter-tools-group','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','preventDefault','.pen-color-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','manual-blueprint-modal','\x20mr-2\x22></i>','ผ่าน','เกิดข้อผิดพลาดในการนำผู้เล่นออก','topicName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการตั้งค่าแล้ว','.ai-fix-formula-btn','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','text/csv;charset=utf-8;','svg','.move-file-shortcut-menu-btn','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','parallel-test-input-area','confirm-manual-bp-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','</li>','select-all-topics-btn','ไม่พบแบบทดสอบในระบบเลย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','fas\x20fa-star\x20text-yellow-500','20bOotJm','text-content-input','sort','student-team-join','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','กรุณาเลือกโปรเจคก่อน','ไฮเพอร์โบลา','mjx-container','sin','.topic-name-display','medium','button','Failed\x20to\x20generate\x20lesson:','All\x20groups\x20have\x20finished.\x20Ending\x20game.','lesson-plan-modal','question-complexity-select','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','keys','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','Error\x20regenerating\x20question\x20in\x20editor:','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','transparent','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','.file-shortcut-tab-btn','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','mousemove','\x22>ใช่</p>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','การหารทศนิยม','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','href','Error\x20deleting\x20submission:','student-progress-view','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20group\x20quiz:','.delete-quiz-btn','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','อัปเดตสถานะสำเร็จ','กรุณาพิมพ์คำตอบ','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','ทำคะแนนเต็มในการทำครั้งแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','```','linkedQuizIds','เศษส่วน\x20(ย่อ/ขยาย)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','reference-pdf-upload','Error\x20joining\x20team\x20quiz:','student-quiz-leaderboard-table-body','_opt1\x22\x20name=\x22question','answers','globalSettings','shortcuts','applicationContent','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','ตรวจคะแนนใหม่\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','.quiz-status-btn','toDate','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','rename-quiz-input','fullscreenElement','confirmation-message','ลบโปรเจค\x20\x22','การแยกตัวประกอบ','size','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','close-additional-shortcuts-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','back-to-dashboard-from-bp-btn','classWeaknesses','bulk-quiz-settings-modal','correctAnswer','num-choices','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','change','.pair-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-detail-view','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','qIndex','.file-shortcut-btn','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','behavior-log-tab-btn','default-2','next-drill-btn','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','บทเรียน','quiz-bank-modal','Error\x20saving\x20file\x20shortcut:','goto-next-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','</h3>','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','delete-all-students-btn','blueprint-upload-input','28332VkEQnQ','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x5cge','ปรับเพิ่ม/ลดเป็นร้อยละ','projectView','additional-parallel-shortcuts-modal','sync','scrollX','%</span>','.live-answer-btn','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','results','true','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอยากมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','exists','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','อนุพันธ์:\x20กฎลูกโซ่','join-live-game-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','choices_only','แบบปรนัย\x204\x20ตัวเลือก','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','bp-project-title','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','padStart','parallel-shortcuts-loading-msg','presentation-slide-container','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','verify-answers-editor-btn','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','แก้ไขหัวข้อสำเร็จ','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','perfect_score_status','bulk-loop-until-pass-checkbox','\x20จาก\x20','inactive','cancel-move-quiz-btn','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add-shortcut-tab-btn','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','bp-modal-num-questions','.delete-svg-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','interesting-stats-wrapper','/public/data/quizzes/','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','พีชคณิตและฟังก์ชัน','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1\x20\x5cfrac','tool','\x5ctimes','pdf','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','parts','question-analytics-container','(ไม่มีชื่อ)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่วงกลม/ส่วนของวงกลม','quiz-type-select','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','previousElementSibling','พบ\x20Sync\x20Game!','specialist','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','fa-fire\x20text-orange-500','center','next-question-timed-btn','Invalid\x20response\x20structure\x20from\x20API.','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rename-quiz-modal','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','shortcutTabs','กำลังสร้างแบบทดสอบ:\x20','min','\x27,\x20\x27','getBBox','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','.generate-content-btn','blueprint-project-list','52218aNvZeT','Error\x20generating\x20teaching\x20content:','.start-live-race-btn','quiz-editor-questions-container','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','แคลคูลัสเบื้องต้น','generate-from-text-btn','display','currentQuestionIndex','now','message-modal','text-blue-800','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','สามเหลี่ยม\x20(ชนิด/สมบัติ)','default-','canvas','error','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','รีเซ็ตลำดับโปรเจคแล้ว','/public/data/quizzes','.bp-create-onet-quiz-btn','dataIndex','กำลังดึงไฟล์อ้างอิงจากลิงก์...','touch','(^|[^\x5c\x5c])\x5cb','การคูณเศษส่วน','text-blue-700\x20bg-blue-100','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','สมการเหตุผล\x20(rational)','isRemedial','standardTopic','.cancel-edit-topic-btn','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','อัปเดตพฤติกรรมสำหรับ\x20','parallel-test-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','ไม่พบเอกสารการส่งงานของ\x20','\x22>ไม่ใช่</p>','stem','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','reset-view-btn','left','quiz-results-view','leaderboard','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-content','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<button\x20data-shortcut-id=\x22','Error\x20saving\x20project\x20order:','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passing-score-input','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','test','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','text-red-600','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','bg-green-500\x20hover:bg-green-600\x20text-white','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','input[type=\x22radio\x22][value=\x22','p-2\x20bg-black/10\x20rounded-md','hasOwnProperty','\x20คะแนน</span></div>','<button\x20data-quiz-id=\x22','<p><strong>คำตอบที่แนะนำ:</strong>\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','/public/data/teamQuizzes','project-list','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','save-blueprint-as-project-btn','student-project-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','modal-timer-duration-container','timer-container','.txt','keyConcepts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','save-quiz-edits-btn','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','bulk-quiz-settings-btn','confident','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','contentEditable','entries','stopPropagation','.ai-content\x20h3','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','remove','quiz-start-time','includes','order','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','\x22,\x20','scratchpad-controls','onkeydown','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','<span\x20title=\x22','Error\x20saving\x20parallel\x20shortcut\x20config:','ร้อยละพื้นฐาน','generate-from-topic-btn','confidence-scoring-toggle','behavior-log-container','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','fill','touchmove','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','กิจกรรมสิ้นสุดลงแล้ว','dragover','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','แบบทดสอบที่ติดดาว','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20',':</span><span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','close-topic-bank-btn','quiz-leaderboard-table-body','pointer-events-none','shadowColor','เลือกและบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open-global-live-btn','globalCompositeOperation','ON_FIRE','pen','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','addEventListener','opacity','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','bg-gray-50','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','องค์ประกอบของฟังก์ชัน','Error\x20listening\x20for\x20starred\x20quizzes:','เรเดียนและการแปลงหน่วย','classStrengths','pin','บันทึกคำถามใหม่\x20','การเรียงสับเปลี่ยน\x20(Permutation)','อสมการเชิงเส้น','ondblclick','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','ปริมาตร/ความจุและการแปลง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','Error\x20toggling\x20star\x20status:','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','.score','modal-confidence-mode-container','.toggle-actions-btn','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','disabled','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.draggable-text','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','math-topic-search-input','label[for=\x22num-questions\x22]','selected-topics-count','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','ไม่พบข้อมูลเกม','.group\x5c/dropdown-parallel','\x22>จาก:\x20','\x22\x20จำนวน\x20','Failed\x20to\x20kick\x20player\x20','catch','สำหรับโปรเจค:\x20','per_question','ARRAY','pre-test-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lastAnswerCorrect','bestScore','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','answering','totalQuestions','underline','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bank-input-area','flex','times','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','#open-additional-parallel-shortcuts-btn','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','message','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','รหัสไม่ถูกต้อง','เส้นตรง:\x20ขนาน/ตั้งฉาก','application/pdf','isDefault','rgba(79,\x2070,\x20229,\x201)','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','.bp-generate-lesson-btn','name_asc','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','rgba(59,\x20130,\x20246,\x200.7)','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.shortcut-list-item:not(.opacity-50)','#parallel-shortcut-tabs-nav\x20.tab-name-input','.answered','Error\x20updating\x20old\x20quizzes:','summary_chart','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','candidates','.ai-content\x20td','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20verifying\x20answers\x20in\x20editor:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','เกิดข้อผิดพลาดในการบันทึกโปรเจค','per-q-countdown','การจัดกลุ่มข้อมูล','data','กำลังอ่านไฟล์อ้างอิง...','ใช่','cancel-passcode-btn','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-reference-file-url','G-V90KRM0L63','style','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','random','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','.compare-results-btn','confidence-mode-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','กำลังอ่านและเตรียมไฟล์...','.question-editor-item','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','isConfidenceScoringEnabled','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>กำลังโหลด...</option>','5165RUHtDh','#open-additional-file-shortcuts-btn','user','_blank','approx','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','getBoundingClientRect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','tabId','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','additional-shortcuts-list','quizMode','ราชาคัมแบ็ก','</div><div\x20class=\x22space-y-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','delete','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','\x22\x20data-q-type=\x22','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','การวัด','bg-red-100','open-sync-scratchpad-btn','loader','createElement','application/json','เกิดข้อผิดพลาดในการส่งคำตอบ','\x20รายการ\x20สำเร็จ!','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','request','ไม่ใช่','ห.ร.ม.\x20(GCD)','#26890c','applicationHTML','Error\x20displaying\x20blueprint\x20project:','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','confirm-quiz-settings-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','back-to-home-manual-release','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','.delete-file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','#F3E8FF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ย้าย','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','file-topics-list','clientX','thead','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','\x20(p=','block','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','กราฟฟังก์ชันตรีโกณ','scratchpad-clear-btn','เกี่ยวกับหัวข้อ\x20\x22','fa-rocket\x20text-purple-500','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','include-images-checkbox','.topic-selection-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','ผลรวมอนุกรม\x20(Σ)','presentation-short-answer-input','practice-topic-btn','กำลังจับคู่...','originalTopic','blockReason','px,\x20','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','project-search-input','MathJax','playerName','moveTo','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','.use-hidden-file-shortcut-btn','อนุพันธ์:\x20กฎพื้นฐาน','Error\x20saving\x20quiz:','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','screen','visible','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','correctResponse','Error\x20confirming\x20players\x20for\x20sync\x20game:','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','แก้ไขข้อนี้','commonMistakes','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','div','get','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','match','list-view-btn','#open-additional-shortcuts-btn','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','Error\x20saving\x20reference\x20URL:','timer-duration-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คะแนนยังไม่ถึงครึ่ง','.edit-custom-topic-btn','scrollY','fix-lesson-latex-btn','questionType','blob','fromCharCode','questionIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','suggestedAnswer','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','ผิด','unshift','การบวกทศนิยม','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.delete-project-btn','การลบเศษส่วน','จากเนื้อหาต่อไปนี้:\x20\x22','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','active','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเข้าร่วมเกม','อุณหภูมิและการแปลง','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','content','text-emerald-900','จำนวนคละ','separate-by-content-checkbox','-tab-content','scale','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','mainTopics','desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','comparison','substr','Blueprint\x20O-NET\x20ป.6','localeCompare','/public/data/blueprintProjects','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','textContent','isLooping','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','การแปลงรูปอัตลักษณ์','ดีมาก','Error\x20adding\x20custom\x20topic:','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','Error\x20loading\x20user\x20preferences:','พอใช้','projectName','ไม่มี','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','https://drive.google.com/uc?export=download&id=','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','#e21b3c','webkitExitFullscreen','list','</span>','.submittedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','สรุปผลการวิเคราะห์:\x5cn','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','close-presentation-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','jspdf','badges','ยังไม่เต็มนะ','confirm-admin-login-btn','.start-game-btn','pathname','Failed\x20to\x20get\x20hint:','isFinished','idealAnswer','clientY','bg-green-100\x20font-bold','สำหรับหัวข้อ\x20\x27','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','shortcutIds','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','export-compact-pdf-btn','แบบทดสอบฝึกฝนเรื่อง:\x20','difficulty-level-select','width','leaderboard-tab-content','.edit-hidden-shortcut-btn','.file-topic-selection-btn','แบบทดสอบ:\x20','Error\x20fetching\x20projects\x20for\x20move:','คัดลอกแบบทดสอบสำเร็จ','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','abs','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','type','highlighter-tool-btn','/public/data/blueprintProjects/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20','enable-passcode-checkbox','.delete-shortcut-tab-btn','parallel-shortcut-url-input','\x20ชุดสำเร็จ!','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','อินเวอร์สของเมทริกซ์','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รากที่สองและที่สาม','text-green-700\x20bg-green-100','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','Error\x20listening\x20for\x20student\x20profiles:','touches','ย้ายแบบทดสอบสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','<tr>','rgba(239,\x2068,\x2068,\x200.9)','sqrt','start-presentation-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','move-quiz-modal','ค่าสัมบูรณ์','<div\x20class=\x22p-2\x20rounded-md\x20','</a>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','admin-testing','questionStatus','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','autoTable','then','Error\x20toggling\x20pin\x20status:','Remedial\x20quiz\x20generation\x20failed:','prod','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20clearing\x20linked\x20quiz:','Failed\x20to\x20create/update\x20submission\x20record:','string','\x20รายการ...','NUMBER','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','text-green-600','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','\x20ชุด)</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','สมการยกกำลัง','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','Error\x20updating\x20sort\x20preference:','.verification-result','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','generated-quiz-container','parallel-shortcut_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','.start-presentation-list-btn','.pdf','รายการนี้','mouse','perfect_score','submissions','confirm-game-start-modal','rgba(239,\x2068,\x2068,\x200.7)','generate-from-link-btn','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','\x22\x20value=\x22','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','ความเท่ากันทุกประการของสามเหลี่ยม','.lastAnswerIndex','\x20\x0a\x20\x20\x20\x20','<tr><td\x20colspan=\x22','ยอดเยี่ยม','trail','overline','short_answer','files','ไม่พบข้อมูลผู้ใช้','body','POST','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','Error\x20comparing\x20results:','pointContent','per-question-timer-container','timed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-close-btn','Sync\x20Mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สลับไปโหมดนักเรียน','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','starred','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','next-question-btn','รูปแบบการให้เหตุผล','global-activity-modal','border-indigo-400\x20ring-2\x20ring-indigo-200','.csv','decode','has','on_fire','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','passcode-error-msg','แบบเติมคำตอบ','<button\x20data-value=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','ทฤษฎีบทพีทาโกรัสและการประยุกต์','-options','.bp-present-btn','กรุณาเลือกคำตอบ','filter','กรุณาเลือกโปรเจคปลายทาง','from','https://corsproxy.io/?','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','password-error-msg','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','passingScore','save-project-name-btn','\x22\x20name=\x22drill_answer\x22\x20value=\x22','element','cancel-quiz-status-btn','อยู่ในสาระการเรียนรู้ใด:','getAttributeNS','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','project-detail','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัปเดตการตั้งค่าของแบบทดสอบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','eraser','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','date_asc','ลำดับเลขคณิต\x20(AP)','studentName','0\x200','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เริ่มกิจกรรม:\x20','.move-quiz-btn','คะแนนเต็ม!','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','category','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','</span><span\x20class=\x22font-bold\x22>','summaryContent','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','fullscreenchange','text-blue-700','timerDuration','questions','class','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','preTScore','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','destination-out','bg-red-50','เมทริกซ์:\x20บวก/คูณ','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','.flex.justify-between.items-center','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','text-red-700\x20bg-red-100','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','bp-modal-num-choices','answeredCurrentQuestion','.delete-parallel-shortcut-btn','ฟังก์ชันเชิงเส้นและกราฟ','isPasscodeEnabled','สอบซ่อม','presentation-explanation','confirm-team-players-btn','.delete-submission-btn','Error\x20generating\x20parallel\x20post-test:','currentTarget','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','ผู้ไม่ยอมแพ้','timer-mode-select','การแจกแจงทวินาม\x20(พื้นฐาน)','http://www.w3.org/2000/svg','setAttributeNS','</p><p><strong>เฉลย:</strong>\x20','PERFECT_SCORE','game-start-mode','close-additional-file-shortcuts-btn','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','lineJoin','<li>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20from\x20link:','\x22\x20data-target-tab-id=\x22','ไม่พบไฟล์\x20Test\x20Blueprint','พื้นที่สามเหลี่ยม','comparison-individual-tab','MathJax\x20re-render\x20failed:','deg','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','blueprint-settings-modal','รูปสแควร์รูท\x20(surd)','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระบบเลขและค่าประจำหลัก','toISOString','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','teacherTips','fill_in_the_blank','students','bg-green-200\x20text-green-900\x20font-bold','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','player-count','questionId','key','หน่วยมวล/น้ำหนักและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','ดอกเบี้ยอย่างง่าย','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','.ideal-answer-input','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','cancel-delete-btn','\x22\x20สำเร็จ','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','resize','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','per-question-options','none','leq','quiz-results-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.save-custom-topic-btn','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','shortcutId','toLocaleDateString','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','disabled\x20bg-gray-400\x20cursor-not-allowed','จำนวนและการดำเนินการ','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','/public/data/liveGames','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','.ideal-answer-input,\x20.correct-response-input','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','loopUntilPass','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','tfrac','พบข้อสอบ\x20','removeChild','transition-all','modal-passing-score-input','getContext','input[type=\x22text\x22]','mouseleave','[*]','Error\x20loading\x20quiz\x20for\x20student:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','score','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','save','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','thead\x20.sortable-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','สมมาตร\x20(แกน/จุด)','.topic-category',')\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','comparison-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','helvetica','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','grid','true_false','podium','checkbox','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','gradeLevel','รอ...','bp-modal-include-images-checkbox','save-file-shortcut-btn','replace','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','Error\x20deleting\x20all\x20students:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-short-answer-input','bp-modal-shuffle-setting-select','ระยะทางและจุดกึ่งกลาง','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','export-lesson-to-pdf-btn','บันทึกแบบทดสอบสำเร็จแล้ว!','move-quiz-project-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','modal-timer-duration-label','\x20กลุ่ม</p></div>','deltaY','\x20หัวข้อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20quiz\x20settings:','input[name=\x22status-option\x22]:checked','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','adaptive-quiz-checkbox','เกิดข้อผิดพลาดในการบันทึกลำดับ','verify-answers-btn','ความคล้ายของรูป','sara','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','textarea[name=\x22team_answer\x22]','starred-project','bp-modal-difficulty-level-select','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-input-','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','</h4>','กรุณาป้อนรหัสแบบทดสอบ','font-bold\x20text-red-700\x20line-through','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','behavior-log-tab-content','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20|\x20ID:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','indexOf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x20ข้อ...','2827440QCCHdW','fill_in_with_choices','#FFFFFF','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','<div\x20class=\x22answer-space\x22></div>','Error\x20listening\x20for\x20projects:','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','_opt1\x22>ไม่ใช่</label></div>','loop-until-pass-checkbox','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','border-indigo-500\x20text-indigo-600','student-name-selection-view','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','text-indigo-600','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x22\x20data-name=\x22','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','.doc','.pointsLastQuestion','innerHTML','บันทึกการตั้งค่าสำเร็จ','submit-team-answer-btn','text-yellow-800','ยกเลิกการเชื่อมโยงสำเร็จ','.edit-file-shortcut-btn','...','cancel-file-shortcut-edit-btn','AI\x20request\x20was\x20blocked.\x20Reason:\x20','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','Enter','.pen-size-btn','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','icon','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','set','.move-parallel-shortcut-item','bg-green-500','.move-parallel-shortcut-menu-btn','Could\x20not\x20fetch\x20reference\x20file:','wasConfident','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','.file-shortcut-btn[data-id=\x22','parallel-shortcut-id-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','.quiz-bank-item','code','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','.correct-response-input','ปริพันธ์ไม่จำกัด','confidence-scoring-checkbox','source_document.txt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','shortcut-editor-modal','correct','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','ต้นฉบับ\x201','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shuffle-setting-select','student-team-selection-view','.presentation-option','\x20จุด','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','data:application/vnd.ms-word;charset=utf-8,','กรุณาป้อนหัวข้อสำหรับใบงาน','readAsDataURL','behaviorLog','กฎของไซน์','แบบทดสอบนี้ปิดใช้งานอยู่','สลับไปโหมดผู้ควบคุม','game-start-quiz-id','normal','frac','lesson-view-title','การกระจายและการจัดหมู่','scores-tab-content','Error\x20editing\x20topic:','สอบปกติ','visibilitychange','student','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','learningGaps','closest','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','.quiz-bank-checkbox:checked','link-input-area','<button\x20data-tab-id=\x22','modal-timer-duration-input','สร้างแบบทดสอบ','text/plain','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','translate','ลบแบบทดสอบสำเร็จแล้ว','groups','mousedown','ฟังก์ชันราก\x20(root)','scratchpad-canvas','Error\x20deleting\x20quiz:','highlighter','presentation-scratchpad-btn','ondragover','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','onload','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','[data-topic-container-id]','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','text-emerald-800','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','fixedData','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','cancel-blueprint-projects-btn','\x5cneq','parallel-shortcut-editor-modal','\x22\x20class=\x22delete-project-btn\x20','pointercancel','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','appendChild','/public/data/practiceBank','input[type=\x22checkbox\x22]','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','blueprint-shortcut-container','analytics-tab-btn','setFont','write','quizId','bg-black/20','insertAdjacentHTML','createdAt','Error\x20updating\x20project\x20color:','scheduled','commit','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','หน่วยเวลาและการคำนวณเวลา','Error\x20updating\x20pin\x20status:','projectId','cos','standard','\x22\x20ออกจากคลังนี้?','API\x20Error\x20Response:','manage','toString','สร้างคำถามใหม่\x201\x20ข้อ\x20','touchstart','Error\x20fetching\x20project\x20quizzes:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','push','สร้างคำถามแบบเติมคำในช่องว่าง','Error\x20pairing\x20quizzes:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','fas\x20fa-bookmark','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','</option>','fadeStartTime','select[name=\x22question_single\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-blue-500\x20hover:bg-blue-600\x20text-white','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','fileShortcutOrder','.delete-hidden-file-shortcut-btn','Authentication\x20failed:','export-image-btn','topic','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','slide-counter','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','lineWidth','ownerSVGElement','913rUPTvG','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','ไม่ผ่าน','เส้นรอบรูป','กรุณาใส่ชื่อนักเรียน','getItem','leaderboard_','\x20/\x20','total','Error\x20confirming\x20players:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','startTime','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','ไม่พบโปรเจค','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','ปริพันธ์จำกัด','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','Error\x20saving\x20user\x20preference:','บันทึกการแก้ไข','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','<p\x20class=\x22','cancel-quiz-edits-btn','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','source-over','lastAnswerIndex','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','fileShortcutsConfig','ต้นฉบับทั้งหมด','hidden','stepByStepExamples','save-parallel-shortcut-btn','live-race','<h1></h1>','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','text-green-600\x20font-bold','Error\x20saving\x20manual\x20blueprint\x20project:','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','สร้างใหม่','results-display-select','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','file-shortcut-container','ที่พิมพ์ได้\x20จำนวน\x20','forEach','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','ลำดับการดำเนินการ\x20(PEMDAS)','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','onblur','\x22\x20name=\x22team_answer\x22\x20value=\x22','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','download','</p>','isAdaptive','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','timer-duration-label','passcode-input-container','.parallel-shortcut-tab-btn','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','currentMode','teachingContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','จำนวนคู่:','blueprint-topics-list-container','next-sync-question-btn','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','shortcut-modal-title','คำถามถัดไป','editable-quiz-topic','ไม่ระบุ','#FEE2E2','confirm-bulk-quiz-settings-btn','team-student-list','.linkedQuizIds','pointerType','เนื้อหาสำหรับสอน:\x20','รูปสี่เหลี่ยมและสมบัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','results_','position','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','topics','cancel-test-btn','16WmdJDc','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','.delete-file-shortcut-tab-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','check-answer-btn','check-presentation-answer-btn','geq','Error\x20deleting\x20student:','โดเมนและเรนจ์','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','overallGroups','STRING','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','quiz-leaderboard-table-container','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>'];_0x4cf9=function(){return _0xc866f9;};return _0x4cf9();}function copyTextToClipboard(_0x4a90f1,_0x24d057){const _0x4a24ba=_0x569b7c,_0xebdf43=document[_0x4a24ba(0x827)](_0x4a24ba(0x5e1));_0xebdf43[_0x4a24ba(0xb85)]=_0x4a90f1,_0xebdf43[_0x4a24ba(0x7fc)][_0x4a24ba(0xb56)]=_0x4a24ba(0xc73),_0xebdf43['style']['opacity']='0',document[_0x4a24ba(0x937)][_0x4a24ba(0xac6)](_0xebdf43),_0xebdf43[_0x4a24ba(0x56f)](),_0xebdf43[_0x4a24ba(0xc3a)]();try{const _0x1664ee=document[_0x4a24ba(0x2f5)](_0x4a24ba(0xc50));showMessage(_0x1664ee?_0x24d057:_0x4a24ba(0x4d5));}catch(_0x36a703){showMessage('คัดลอกไม่สำเร็จ'),console[_0x4a24ba(0x728)](_0x4a24ba(0xc00),_0x36a703);}document['body'][_0x4a24ba(0x9e9)](_0xebdf43);}function listenForProjectQuizzes(_0x4123be){const _0x5b87d4=_0x569b7c,_0x7aca34=collection(db,_0x5b87d4(0x25b)+appId+_0x5b87d4(0x72c)),_0x1aa760=query(_0x7aca34,where('projectId','==',_0x4123be));unsubscribeQuizzesListener=onSnapshot(_0x1aa760,async _0x4d0441=>{const _0x55f29f=_0x5b87d4;allQuizzes=_0x4d0441[_0x55f29f(0x53c)]['map'](_0x3ad0b9=>({'id':_0x3ad0b9['id'],..._0x3ad0b9[_0x55f29f(0x7f5)]()})),renderQuizzes();},_0x2e7832=>{const _0x17f8d8=_0x5b87d4;console[_0x17f8d8(0x728)](_0x17f8d8(0xae5),_0x2e7832),document['getElementById'](_0x17f8d8(0x43a))[_0x17f8d8(0xa5b)]=_0x17f8d8(0xab9);});}async function renderQuizzes(){const _0x46f4b7=_0x569b7c,_0x581f32=document[_0x46f4b7(0xca0)](_0x46f4b7(0x43a)),_0x301bf9=document[_0x46f4b7(0xca0)](_0x46f4b7(0x281))[_0x46f4b7(0xb85)][_0x46f4b7(0x38f)]();let _0x30c57e;currentProjectId===_0x46f4b7(0x945)?_0x30c57e=starredQuizzes:_0x30c57e=allQuizzes;let _0x30ef53=_0x30c57e[_0x46f4b7(0x959)](_0xce784a=>_0xce784a[_0x46f4b7(0xaf8)][_0x46f4b7(0x38f)]()['includes'](_0x301bf9));_0x30ef53['sort']((_0x4e8c94,_0xe365d7)=>new Date(_0xe365d7[_0x46f4b7(0xad2)])-new Date(_0x4e8c94[_0x46f4b7(0xad2)]));if(_0x30ef53[_0x46f4b7(0xcda)]===0x0){_0x581f32[_0x46f4b7(0xa5b)]=_0x46f4b7(0xa35);return;}const _0x2f3a9a={},_0x2d0b18=_0x30ef53[_0x46f4b7(0xc3d)](async _0x2a1e17=>{const _0x12a115=_0x46f4b7,_0x45e287=collection(db,'artifacts/'+appId+_0x12a115(0x6f0)+_0x2a1e17['id']+_0x12a115(0x1ee)),_0x381644=await getDocs(_0x45e287);_0x2f3a9a[_0x2a1e17['id']]=_0x381644[_0x12a115(0x697)];});await Promise[_0x46f4b7(0x606)](_0x2d0b18);let _0x15b4ed='';_0x30ef53['forEach'](_0x14c162=>{const _0x510eeb=_0x46f4b7,_0x104253=_0x2f3a9a[_0x14c162['id']]||0x0,_0x5d8264=_0x14c162['status']||_0x510eeb(0x88e),_0x35aeca=_0x14c162[_0x510eeb(0x3ee)]?.[_0x510eeb(0x272)]||_0x510eeb(0x9d3);let _0x460ba1='',_0xb3c1af='';const _0x4784ef=new Date();let _0x507e68=_0x5d8264;if(_0x5d8264==='scheduled'){const _0x429a36=_0x14c162[_0x510eeb(0xb0a)]?new Date(_0x14c162[_0x510eeb(0xb0a)]):null,_0x3afae5=_0x14c162[_0x510eeb(0x453)]?new Date(_0x14c162[_0x510eeb(0x453)]):null;if(_0x3afae5&&_0x4784ef>_0x3afae5)_0x507e68='inactive';else _0x429a36&&_0x4784ef<_0x429a36?_0x507e68=_0x510eeb(0x4a7):_0x507e68=_0x510eeb(0x88e);}switch(_0x507e68){case _0x510eeb(0x6e6):_0x460ba1=_0x510eeb(0xc21),_0xb3c1af=_0x510eeb(0x98e);break;case'scheduled_pending':_0x460ba1=_0x510eeb(0x4d1),_0xb3c1af=_0x510eeb(0x733);break;case'active':_0x460ba1=_0x35aeca!==_0x510eeb(0x9d3)?_0x510eeb(0xbd5):_0x510eeb(0xc0f),_0xb3c1af=_0x510eeb(0x8ed);break;default:_0x460ba1=_0x510eeb(0x231),_0xb3c1af=_0x510eeb(0x8ed);break;}let _0x3099ec='';const _0x75d83d={'day':_0x510eeb(0x42d),'month':_0x510eeb(0x42d),'year':_0x510eeb(0x56a),'hour':_0x510eeb(0x42d),'minute':'2-digit','hour12':![]};if(_0x5d8264===_0x510eeb(0xad4)){if(_0x14c162[_0x510eeb(0xb0a)])_0x3099ec+=_0x510eeb(0xbd4)+new Date(_0x14c162[_0x510eeb(0xb0a)])[_0x510eeb(0xc66)](_0x510eeb(0x2fe),_0x75d83d)+_0x510eeb(0xb3a);if(_0x14c162[_0x510eeb(0x453)])_0x3099ec+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x14c162[_0x510eeb(0x453)])['toLocaleString'](_0x510eeb(0x2fe),_0x75d83d)+_0x510eeb(0xb3a);}let _0x216860='';if(_0x14c162['pairedQuizId']){const _0x78ad1c=allQuizzes[_0x510eeb(0xd14)](_0x5c8bc7=>_0x5c8bc7['id']===_0x14c162[_0x510eeb(0xcf3)]);if(_0x78ad1c){let _0xc37872,_0x3f1f08;new Date(_0x14c162[_0x510eeb(0xad2)])<new Date(_0x78ad1c[_0x510eeb(0xad2)])?(_0xc37872=_0x14c162['id'],_0x3f1f08=_0x78ad1c['id']):(_0xc37872=_0x78ad1c['id'],_0x3f1f08=_0x14c162['id']),_0x216860+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3f1f08+_0x510eeb(0x393)+_0xc37872+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x14c162['quizMode']===_0x510eeb(0x225)&&(_0x216860+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x14c162['id']+_0x510eeb(0xd37));if(_0x14c162[_0x510eeb(0x81a)]===_0x510eeb(0x225)&&_0x104253>0x0)_0x216860+=_0x510eeb(0xbc2)+_0x14c162['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0x14c162[_0x510eeb(0xcf3)]&&_0x14c162[_0x510eeb(0x81a)]!==_0x510eeb(0x225)&&_0x104253>0x0&&(_0x216860+=_0x510eeb(0xbc2)+_0x14c162['id']+_0x510eeb(0x7e5));let _0x57f401='';_0x14c162['pairedQuizId']?_0x57f401=_0x510eeb(0x757)+_0x14c162['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x57f401=_0x510eeb(0x757)+_0x14c162['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0x15b4ed+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x14c162['id']+_0x510eeb(0x7ad)+_0x14c162[_0x510eeb(0xaf8)]+_0x510eeb(0x249)+_0x14c162['questions']['length']+_0x510eeb(0x3a2)+new Date(_0x14c162[_0x510eeb(0xad2)])[_0x510eeb(0xc66)](_0x510eeb(0x2fe))+_0x510eeb(0x32b)+_0x104253+_0x510eeb(0x880)+_0x3099ec+_0x510eeb(0x503)+_0xb3c1af+'\x22>'+_0x460ba1+_0x510eeb(0x8ea)+_0x14c162['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x14c162['id']+_0x510eeb(0x525)+(_0x14c162['isStarred']?_0x510eeb(0x648):_0x510eeb(0xd2e))+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x216860+_0x510eeb(0x53f)+_0x14c162['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x14c162['id']+_0x510eeb(0x6f3)+_0x14c162['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x14c162['id']+_0x510eeb(0x8cf)+_0x14c162['id']+_0x510eeb(0x630)+_0x14c162['id']+_0x510eeb(0x38c)+_0x14c162['id']+_0x510eeb(0x624)+_0x14c162[_0x510eeb(0xaf8)]+_0x510eeb(0x4c8)+_0x14c162['id']+_0x510eeb(0xd22)+_0x14c162['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x57f401+_0x510eeb(0x4a9)+_0x14c162['id']+_0x510eeb(0x3f7)+_0x14c162['id']+_0x510eeb(0x324)+_0x14c162['id']+_0x510eeb(0xa9b)+_0x14c162['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x14c162['id']+_0x510eeb(0x39a)+_0x14c162['id']+_0x510eeb(0x747)+_0x14c162['id']+_0x510eeb(0xd2c)+_0x14c162['id']+_0x510eeb(0x624)+_0x14c162[_0x510eeb(0xaf8)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0x14c162['id']+_0x510eeb(0xbe9);}),_0x581f32[_0x46f4b7(0xa5b)]=_0x15b4ed,document[_0x46f4b7(0x31c)]('.quiz-result-card')[_0x46f4b7(0xb32)](_0x56f904=>{const _0x52dd26=_0x46f4b7;_0x56f904[_0x52dd26(0x79b)](_0x52dd26(0xd52),()=>{const _0x3fada3=_0x52dd26,_0xfd8e8b=_0x56f904[_0x3fada3(0x507)][_0x3fada3(0xacf)];showQuizDetailView(_0xfd8e8b);});});}async function handleUnpairQuiz(_0x2f2a85){const _0x5dc36a=_0x569b7c,_0x5d5e82=allQuizzes[_0x5dc36a(0xd14)](_0x155f1a=>_0x155f1a['id']===_0x2f2a85);if(!_0x5d5e82||!_0x5d5e82[_0x5dc36a(0xcf3)]){showMessage(_0x5dc36a(0x2bb));return;}showConfirmation(_0x5dc36a(0xb75),async()=>{const _0x153ad5=_0x5dc36a;try{const _0x4824f5=doc(db,'artifacts/'+appId+_0x153ad5(0x72c),_0x2f2a85),_0x49d7bc=doc(db,_0x153ad5(0x25b)+appId+'/public/data/quizzes',_0x5d5e82[_0x153ad5(0xcf3)]),_0x251f76=writeBatch(db);_0x251f76['update'](_0x4824f5,{'pairedQuizId':null}),_0x251f76[_0x153ad5(0x3bb)](_0x49d7bc,{'pairedQuizId':null}),await _0x251f76['commit'](),showMessage(_0x153ad5(0x2c2));}catch(_0x3bbe52){console[_0x153ad5(0x728)](_0x153ad5(0x5eb),_0x3bbe52),showMessage(_0x153ad5(0x497));}});}function formatAndPrintLessonPlan(_0x296e71,_0x4b2bac){const _0x3b265c=_0x569b7c,_0x2452c7=window[_0x3b265c(0x275)]('',_0x3b265c(0x812)),_0xf4c2ef=_0x3b265c(0x87d)+_0x4b2bac['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x4b2bac[_0x3b265c(0xaf8)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x296e71[_0x3b265c(0xa9e)]['map'](_0x3216f1=>_0x3b265c(0x9a9)+_0x3216f1+_0x3b265c(0x644))[_0x3b265c(0xcbb)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x296e71[_0x3b265c(0xb43)]+_0x3b265c(0x592)+_0x296e71[_0x3b265c(0x4d2)][_0x3b265c(0xc3d)](_0xe4d66f=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0xe4d66f[_0x3b265c(0x215)]+_0x3b265c(0x331)+_0xe4d66f[_0x3b265c(0xb8f)]+_0x3b265c(0x8ce))[_0x3b265c(0xcbb)]('')+_0x3b265c(0x6e2);_0x2452c7[_0x3b265c(0x3dc)][_0x3b265c(0xace)](_0xf4c2ef),_0x2452c7[_0x3b265c(0x3dc)][_0x3b265c(0x350)](),_0x2452c7[_0x3b265c(0xab5)]=function(){setTimeout(()=>{const _0x48e4a2=_0x1447;_0x2452c7[_0x48e4a2(0xb71)]();},0x3e8);};}async function handleAiFixFormula(_0x243559){const _0x416aff=_0x569b7c,_0x21a1ec=document[_0x416aff(0xb90)]('.question-editor-item[data-q-index=\x22'+_0x243559+'\x22]');if(!_0x21a1ec)return;const _0x55d834=_0x21a1ec['dataset'][_0x416aff(0x3db)],_0x1b4fdf=_0x21a1ec['querySelector'](_0x416aff(0x63b));let _0x1fe0b7={'question':_0x21a1ec[_0x416aff(0xb90)](_0x416aff(0x5e1))[_0x416aff(0xb85)]};switch(_0x55d834){case _0x416aff(0x27b):_0x1fe0b7[_0x416aff(0xb7c)]=Array[_0x416aff(0x95b)](_0x21a1ec['querySelectorAll'](_0x416aff(0x9ed)))[_0x416aff(0xc3d)](_0x56d9fe=>_0x56d9fe['value']);break;case _0x416aff(0x934):_0x1fe0b7[_0x416aff(0x8ca)]=_0x21a1ec[_0x416aff(0xb90)]('.ideal-answer-input')[_0x416aff(0xb85)];break;case _0x416aff(0x489):_0x1fe0b7[_0x416aff(0x863)]=_0x21a1ec['querySelector']('.correct-response-input')[_0x416aff(0xb85)];break;}_0x1b4fdf['innerHTML']=_0x416aff(0xa3f),_0x1b4fdf[_0x416aff(0x7b4)]=!![];try{const _0x18f0b5=_0x416aff(0xa00)+JSON[_0x416aff(0x25e)](_0x1fe0b7)+_0x416aff(0x2cb),_0x5a5b0d={'type':_0x416aff(0xbcd),'properties':{'fixedData':{'type':_0x416aff(0xbcd),'properties':{'question':{'type':_0x416aff(0xb67)},'options':{'type':_0x416aff(0x7c4),'items':{'type':_0x416aff(0xb67)}},'idealAnswer':{'type':_0x416aff(0xb67)},'correctResponse':{'type':_0x416aff(0xb67)}},'required':[_0x416aff(0x215)]}},'required':[_0x416aff(0xabd)]},_0xb8150=await callAnalysisApi(_0x18f0b5,_0x5a5b0d);if(_0xb8150&&_0xb8150[_0x416aff(0xabd)]){const _0x24f9be=_0xb8150['fixedData'];_0x21a1ec[_0x416aff(0xb90)](_0x416aff(0x5e1))[_0x416aff(0xb85)]=_0x24f9be[_0x416aff(0x215)]||_0x1fe0b7[_0x416aff(0x215)];switch(_0x55d834){case _0x416aff(0x27b):_0x24f9be[_0x416aff(0xb7c)]&&_0x24f9be[_0x416aff(0xb7c)][_0x416aff(0xcda)]>0x0&&_0x21a1ec[_0x416aff(0x31c)](_0x416aff(0x9ed))[_0x416aff(0xb32)]((_0x2db538,_0x4f6694)=>{const _0x44fd16=_0x416aff;_0x2db538[_0x44fd16(0xb85)]=_0x24f9be['options'][_0x4f6694]||_0x1fe0b7[_0x44fd16(0xb7c)][_0x4f6694];});break;case _0x416aff(0x934):_0x21a1ec[_0x416aff(0xb90)]('.ideal-answer-input')[_0x416aff(0xb85)]=_0x24f9be[_0x416aff(0x8ca)]||_0x1fe0b7[_0x416aff(0x8ca)];break;case _0x416aff(0x489):_0x21a1ec[_0x416aff(0xb90)](_0x416aff(0xa78))[_0x416aff(0xb85)]=_0x24f9be['correctResponse']||_0x1fe0b7[_0x416aff(0x863)];break;}if(_0x1fe0b7['question']!==_0x24f9be[_0x416aff(0x215)])try{const _0x14fa91=collection(db,_0x416aff(0x25b)+appId+'/public/data/learnedFixes');await addDoc(_0x14fa91,{'broken':_0x1fe0b7[_0x416aff(0x215)],'fixed':_0x24f9be[_0x416aff(0x215)],'createdAt':serverTimestamp()});}catch(_0x397176){console[_0x416aff(0x728)](_0x416aff(0xc04),_0x397176);}showMessage(_0x416aff(0xd2b));}else throw new Error(_0x416aff(0x1d7));}catch(_0x186acf){console['error']('AI\x20Formula\x20Fix\x20Error:',_0x186acf),showMessage(_0x416aff(0x8ef));}finally{_0x1b4fdf[_0x416aff(0xa5b)]=_0x416aff(0x3bf),_0x1b4fdf[_0x416aff(0x7b4)]=![];}}async function handleGenerateLessonPlan(_0xc5f564){const _0x546c3f=_0x569b7c;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x207782=doc(db,_0x546c3f(0x25b)+appId+'/public/data/quizzes',_0xc5f564),_0x943e2f=await getDoc(_0x207782);if(!_0x943e2f['exists']())throw new Error(_0x546c3f(0x4f6));const _0x2fa359={'id':_0xc5f564,..._0x943e2f[_0x546c3f(0x7f5)]()},_0x544582=collection(db,_0x546c3f(0x25b)+appId+_0x546c3f(0x72c),_0xc5f564,_0x546c3f(0x926)),_0x4ea930=await getDocs(_0x544582),_0x8c14ce=_0x4ea930[_0x546c3f(0x53c)][_0x546c3f(0xc3d)](_0x68355d=>_0x68355d['data']());if(_0x8c14ce['length']===0x0)throw new Error(_0x546c3f(0xc82));const _0x31ba95=calculateItemAnalysis(_0x2fa359,_0x8c14ce)['perQuestionStats'],_0x2c1fe2=calculateDistractorAnalysis(_0x2fa359,_0x8c14ce),_0x1d3bfc=_0x2f4eab=>{const _0xeed4a5=_0x546c3f;if(!_0x2f4eab)return'';return _0x2f4eab[_0xeed4a5(0xa12)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0xeed4a5(0xa12)](/\n/g,'\x5cn');};let _0xbce19b=_0x546c3f(0x8be);_0x2fa359[_0x546c3f(0x981)][_0x546c3f(0xb32)]((_0x2c50f4,_0x38c63f)=>{const _0x3a2569=_0x546c3f,_0x29fb9c=_0x31ba95[_0x38c63f]?.['p']['toFixed'](0x2)||_0x3a2569(0xbac),_0x39da07=_0x31ba95[_0x38c63f]?.['r'][_0x3a2569(0x551)](0x2)||_0x3a2569(0xbac),_0x4bb2a5=_0x1d3bfc(_0x2c50f4[_0x3a2569(0x332)]||_0x2c50f4['stem']);_0xbce19b+='-\x20ข้อ\x20'+(_0x38c63f+0x1)+_0x3a2569(0x844)+_0x29fb9c+_0x3a2569(0xce6)+_0x39da07+_0x3a2569(0x369)+_0x4bb2a5+'\x5cn';if(_0x2c50f4[_0x3a2569(0x879)]===_0x3a2569(0x27b)&&_0x2c1fe2[_0x38c63f]){const _0x448dec=_0x2c1fe2[_0x38c63f],_0xa70f6=Object[_0x3a2569(0x65a)](_0x448dec)[_0x3a2569(0x959)](_0x151395=>parseInt(_0x151395)!==_0x2c50f4[_0x3a2569(0x481)])[_0x3a2569(0x64b)]((_0x21113a,_0x31f0e4)=>_0x448dec[_0x31f0e4][_0x3a2569(0xb06)]-_0x448dec[_0x21113a][_0x3a2569(0xb06)])[0x0];if(_0xa70f6&&_0x448dec[_0xa70f6][_0x3a2569(0xb06)]>0x0){const _0x3162d6=_0x1d3bfc(_0x448dec[_0xa70f6]['text']);_0xbce19b+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x3162d6+'\x22\x5cn';}}});const _0x205144=_0x546c3f(0x6fb)+_0x2fa359['topic']+_0x546c3f(0xc8b)+_0xbce19b+_0x546c3f(0x942),_0x19c6c6={'type':_0x546c3f(0xbcd),'properties':{'learningGaps':{'type':_0x546c3f(0x7c4),'items':{'type':_0x546c3f(0xb67)}},'teachingContent':{'type':_0x546c3f(0xb67)},'practiceProblems':{'type':'ARRAY','items':{'type':_0x546c3f(0xbcd),'properties':{'question':{'type':_0x546c3f(0xb67)},'solution':{'type':_0x546c3f(0xb67)}}}}},'required':['learningGaps',_0x546c3f(0xb43),_0x546c3f(0x4d2)]},_0x7241a0=await callAnalysisApi(_0x205144,_0x19c6c6);await updateDoc(_0x207782,{'lessonPlan':_0x7241a0});const _0x2f966e=_0x546c3f(0xc64)+_0x2fa359['topic']+_0x546c3f(0x4e1)+_0x7241a0[_0x546c3f(0xa9e)][_0x546c3f(0xc3d)](_0x436506=>_0x546c3f(0x9a9)+_0x436506+_0x546c3f(0x644))[_0x546c3f(0xcbb)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x7241a0[_0x546c3f(0xb43)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x7241a0[_0x546c3f(0x4d2)][_0x546c3f(0xc3d)](_0x24babc=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x24babc['question']+'</p><p><strong>เฉลย:</strong>\x20'+_0x24babc[_0x546c3f(0xb8f)]+_0x546c3f(0x4c2))['join']('')+_0x546c3f(0x33f);document[_0x546c3f(0xca0)](_0x546c3f(0xbb1))[_0x546c3f(0x8a5)]=_0x546c3f(0x38a)+_0x2fa359['topic'],document['getElementById'](_0x546c3f(0x22f))['innerHTML']=_0x2f966e,document[_0x546c3f(0xca0)](_0x546c3f(0x657))[_0x546c3f(0x396)][_0x546c3f(0x76f)](_0x546c3f(0xb23));if(window['MathJax'])MathJax[_0x546c3f(0x5cc)]();messageModal['classList'][_0x546c3f(0x46b)]('hidden');}catch(_0x5b5f7a){console[_0x546c3f(0x728)](_0x546c3f(0xca2),_0x5b5f7a),showMessage(_0x546c3f(0xc90)+_0x5b5f7a[_0x546c3f(0x7d7)]);}}async function handleDuplicateQuiz(_0x1a1529){const _0x1e9fda=_0x569b7c;try{const _0x198022=doc(db,'artifacts/'+appId+_0x1e9fda(0x72c),_0x1a1529),_0x2abc34=await getDoc(_0x198022);if(_0x2abc34[_0x1e9fda(0x6c9)]()){const _0x19f903=_0x2abc34[_0x1e9fda(0x7f5)]();let _0x36d329='',_0x27b122='standard',_0x93d4fa=null;if(_0x19f903[_0x1e9fda(0x81a)]===_0x1e9fda(0x225)){let _0x4cc90c=_0x19f903[_0x1e9fda(0xaf8)][_0x1e9fda(0xa12)]('(ก่อนเรียน)','')['trim']();_0x36d329=_0x1e9fda(0x30b)+_0x4cc90c,_0x27b122='post-test',_0x93d4fa=_0x1a1529;}else _0x36d329='(คัดลอก)\x20'+_0x19f903['topic'];const _0x55da06={..._0x19f903,'topic':_0x36d329,'createdAt':new Date()[_0x1e9fda(0x9bb)](),'quizMode':_0x27b122,'pairedQuizId':_0x93d4fa};let _0x2429b7;while(!![]){_0x2429b7=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x1e9fda(0xae2)]();const _0x583d75=await getDoc(doc(db,_0x1e9fda(0x25b)+appId+_0x1e9fda(0x72c),_0x2429b7));if(!_0x583d75[_0x1e9fda(0x6c9)]())break;}const _0xc62d27=doc(db,_0x1e9fda(0x25b)+appId+_0x1e9fda(0x72c),_0x2429b7);await setDoc(_0xc62d27,_0x55da06),_0x55da06['quizMode']==='post-test'&&await updateDoc(_0x198022,{'pairedQuizId':_0x2429b7}),showMessage(_0x1e9fda(0x8db));}else throw new Error(_0x1e9fda(0xc96));}catch(_0x42f887){console[_0x1e9fda(0x728)](_0x1e9fda(0x560),_0x42f887),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x42e669,_0x121d90=!![]){const _0x59dac2=_0x569b7c;try{const _0x559a9b=writeBatch(db),_0x2e8127=collection(db,_0x59dac2(0x25b)+appId+_0x59dac2(0x6f0)+_0x42e669+_0x59dac2(0x1ee)),_0x21c9c7=await getDocs(_0x2e8127);_0x21c9c7[_0x59dac2(0xb32)](_0x4a10c2=>{const _0x304894=_0x59dac2;_0x559a9b[_0x304894(0x81e)](doc(_0x2e8127,_0x4a10c2['id']));});const _0xbe04a9=doc(db,_0x59dac2(0x25b)+appId+_0x59dac2(0x72c),_0x42e669);_0x559a9b['delete'](_0xbe04a9),await _0x559a9b['commit']();try{console[_0x59dac2(0x2fa)]('Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20'+_0x42e669+_0x59dac2(0x59c));const _0x1a48cc=collection(db,_0x59dac2(0x25b)+appId+'/public/data/blueprintProjects'),_0x3d0457=await getDocs(_0x1a48cc),_0x12b845=[];_0x3d0457[_0x59dac2(0xb32)](_0x59a2ad=>{const _0x1d4ad8=_0x59dac2,_0x1e4d5e=_0x59a2ad[_0x1d4ad8(0x7f5)](),_0x318e00=_0x1e4d5e['topics']||{};let _0x3490bd=![];for(const _0x1c72b0 in _0x318e00){const _0x108656=_0x318e00[_0x1c72b0];if(_0x108656[_0x1d4ad8(0x67e)]&&_0x108656[_0x1d4ad8(0x67e)][_0x1d4ad8(0x771)](_0x42e669)){_0x3490bd=!![];const _0x2f0520=doc(db,'artifacts/'+appId+_0x1d4ad8(0x8a2),_0x59a2ad['id']),_0x2b82f6=updateDoc(_0x2f0520,{[_0x1d4ad8(0x22a)+_0x1c72b0+'.linkedQuizIds']:arrayRemove(_0x42e669)});_0x12b845[_0x1d4ad8(0xae7)](_0x2b82f6);}}}),_0x12b845[_0x59dac2(0xcda)]>0x0&&(await Promise[_0x59dac2(0x606)](_0x12b845),console[_0x59dac2(0x2fa)](_0x59dac2(0x27c)+_0x12b845[_0x59dac2(0xcda)]+'\x20link(s)\x20for\x20quiz\x20ID:\x20'+_0x42e669+'.'));}catch(_0x2ec57e){console['error'](_0x59dac2(0x21c),_0x2ec57e);}_0x121d90&&showMessage(_0x59dac2(0xaa9));}catch(_0x6d7e3e){console[_0x59dac2(0x728)](_0x59dac2(0xaae),_0x6d7e3e),_0x121d90&&showMessage(_0x59dac2(0x3c0));}}async function showQuizDetailView(_0x9a8a80){const _0x5e2f98=_0x569b7c;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x5e2f98(0xd1a));try{const _0x20df80=doc(db,_0x5e2f98(0x25b)+appId+'/public/data/quizzes',_0x9a8a80),_0x5eb0cc=await getDoc(_0x20df80);if(!_0x5eb0cc[_0x5e2f98(0x6c9)]()){showMessage(_0x5e2f98(0x4f6));return;}const _0x1c660d={'id':_0x5eb0cc['id'],..._0x5eb0cc[_0x5e2f98(0x7f5)]()};currentQuizData=_0x1c660d;const _0x22eea2=doc(db,_0x5e2f98(0x25b)+appId+_0x5e2f98(0x1bf),_0x1c660d[_0x5e2f98(0xadc)]),_0x41072f=await getDoc(_0x22eea2);_0x41072f[_0x5e2f98(0x6c9)]()?(currentProjectData=_0x41072f[_0x5e2f98(0x7f5)](),currentProjectId=_0x1c660d[_0x5e2f98(0xadc)]):(currentProjectData={'students':[]},currentProjectId=_0x1c660d[_0x5e2f98(0xadc)]);document[_0x5e2f98(0xca0)]('results-quiz-title')[_0x5e2f98(0x8a5)]=_0x1c660d[_0x5e2f98(0xaf8)],document[_0x5e2f98(0xca0)](_0x5e2f98(0x44a))[_0x5e2f98(0x8a5)]=_0x9a8a80;const _0x49dfbe=collection(db,_0x5e2f98(0x25b)+appId+_0x5e2f98(0x72c),_0x9a8a80,_0x5e2f98(0x926));unsubscribeSubmissionsListener=onSnapshot(_0x49dfbe,_0x2c9886=>{const _0x46c832=_0x5e2f98,_0x3a7fbb=_0x2c9886[_0x46c832(0x53c)][_0x46c832(0xc3d)](_0x57b1bc=>({'id':_0x57b1bc['id'],..._0x57b1bc['data']()}));currentSubmissions=_0x3a7fbb;const _0x20421e=_0x3a7fbb['filter'](_0x36ea9c=>_0x36ea9c[_0x46c832(0xc14)]&&_0x36ea9c['attempts']['length']>0x0);renderBehaviorLog(_0x3a7fbb),renderAnswerGrid(currentProjectData[_0x46c832(0x9bf)],_0x20421e,_0x1c660d),renderAnalytics(_0x1c660d,_0x20421e),renderQuizResultsTable(currentProjectData[_0x46c832(0x9bf)],_0x3a7fbb,_0x1c660d),renderQuizLeaderboard(_0x20421e,_0x1c660d,'quiz-leaderboard-table-body');}),showView(_0x5e2f98(0xca9));}catch(_0x434bc6){console[_0x5e2f98(0x728)](_0x5e2f98(0x47f),_0x434bc6),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x2a4bc8,_0x214bff,_0x4b8ad2){const _0x2033f4=_0x569b7c,_0x4a0901=document[_0x2033f4(0xca0)](_0x2033f4(0x40d));if(!_0x4a0901)return;if(!_0x2a4bc8||_0x2a4bc8[_0x2033f4(0xcda)]===0x0){_0x4a0901[_0x2033f4(0xa5b)]=_0x2033f4(0x43d);return;}const _0x3c6a4a=_0x4b8ad2[_0x2033f4(0x981)],_0x43f62f=_0x214bff[_0x2033f4(0x5c5)]((_0x184d14,_0x383fef)=>{const _0x247575=_0x2033f4;return _0x184d14[_0x383fef[_0x247575(0x972)]]=_0x383fef,_0x184d14;},{}),_0x2c9be8=_0x43110d=>String['fromCharCode'](0x41+_0x43110d),_0x19f185=_0x18338d=>{const _0x51c9d4=_0x2033f4,_0xb405d7=_0x18338d[_0x51c9d4(0x879)]||_0x4b8ad2['quizType'];switch(_0xb405d7){case'multiple_choice':return _0x18338d['options']&&_0x18338d[_0x51c9d4(0xb7c)][_0x51c9d4(0xcda)]>_0x18338d[_0x51c9d4(0x481)]?_0x2c9be8(_0x18338d[_0x51c9d4(0x481)]):'-';case _0x51c9d4(0xa08):const _0x3e2259=_0x18338d[_0x51c9d4(0x69f)]===!![]||String(_0x18338d[_0x51c9d4(0x69f)])['toLowerCase']()===_0x51c9d4(0x6c7);return _0x3e2259?'ใช่':_0x51c9d4(0x82e);case _0x51c9d4(0x489):return _0x18338d[_0x51c9d4(0x863)]||'-';case _0x51c9d4(0x934):return _0x51c9d4(0x3c5);default:return'-';}},_0x384104=(_0xfd6d5b,_0x47c0b9)=>{const _0xa6e2f2=_0x2033f4;if(_0x47c0b9[_0xa6e2f2(0xc52)]===null||_0x47c0b9[_0xa6e2f2(0xc52)]===undefined)return'-';const _0x560b23=_0xfd6d5b['questionType']||_0x4b8ad2['quizType'];switch(_0x560b23){case _0xa6e2f2(0x27b):const _0x1379d0=_0xfd6d5b[_0xa6e2f2(0xb7c)][_0xa6e2f2(0x5a3)](_0x4ba401=>_0x4ba401===_0x47c0b9['answerText']);return _0x1379d0!==-0x1?_0x2c9be8(_0x1379d0):_0x47c0b9['answerText']||'-';case _0xa6e2f2(0xa08):if(_0x47c0b9[_0xa6e2f2(0xc52)]=='0'||_0x47c0b9['answer']===!![]||_0x47c0b9['answer']==='true')return _0xa6e2f2(0x7f7);return _0xa6e2f2(0x82e);default:return _0x47c0b9[_0xa6e2f2(0xc52)];}};let _0x1bd92e=_0x2033f4(0x2c8)+_0x3c6a4a[_0x2033f4(0xc3d)]((_0x1e0e76,_0x593b6d)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x593b6d+0x1)+_0x2033f4(0x3fb))[_0x2033f4(0xcbb)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3c6a4a[_0x2033f4(0xc3d)](_0x2fc989=>_0x2033f4(0xbc3)+_0x19f185(_0x2fc989)+'</td>')['join']('')+_0x2033f4(0x9b5);_0x2a4bc8[_0x2033f4(0xb32)](_0x20452e=>{const _0x4a5112=_0x2033f4;_0x1bd92e+=_0x4a5112(0x8f5),_0x1bd92e+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x20452e+'</td>';const _0x41a312=_0x43f62f[_0x20452e];if(_0x41a312){const _0xaba995=_0x41a312[_0x4a5112(0xc14)][_0x41a312['attempts'][_0x4a5112(0xcda)]-0x1];_0x3c6a4a[_0x4a5112(0xb32)]((_0x253e53,_0x1b8322)=>{const _0x573ae4=_0x4a5112,_0x5e989b=_0xaba995[_0x573ae4(0x686)][_0x573ae4(0xd14)](_0x483e0e=>_0x483e0e['questionId']===_0x253e53['id']);if(_0x5e989b){let _0x2326dd='';const _0x2f4c95=_0x5e989b[_0x573ae4(0x280)]===!![],_0x9c02ad=_0x5e989b[_0x573ae4(0xa70)]===!![]||_0x5e989b[_0x573ae4(0xa70)]===_0x573ae4(0x768);_0x9c02ad?_0x2326dd=_0x2f4c95?_0x573ae4(0x381):'bg-red-500\x20text-white\x20font-bold':_0x2326dd=_0x2f4c95?_0x573ae4(0xc10):'bg-red-100',_0x1bd92e+=_0x573ae4(0x9f7)+_0x2326dd+'\x22>'+_0x384104(_0x253e53,_0x5e989b)+_0x573ae4(0x538);}else _0x1bd92e+=_0x573ae4(0x337);});}else _0x1bd92e+=_0x3c6a4a[_0x4a5112(0xc3d)](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x4a5112(0xcbb)]('');_0x1bd92e+='</tr>';}),_0x1bd92e+='</tbody></table>',_0x4a0901['innerHTML']=_0x1bd92e;}function renderQuizResultsTable(_0x1e169f,_0x3e0b9e,_0xf5ab22){const _0x12eb14=_0x569b7c,_0x1d59aa=_0x3e0b9e[_0x12eb14(0x5c5)]((_0x41d5ac,_0x1332b8)=>{const _0x4c9b95=_0x12eb14;return _0x41d5ac[_0x1332b8[_0x4c9b95(0x972)]]=_0x1332b8,_0x41d5ac;},{}),_0x491096=document['querySelector'](_0x12eb14(0x20c));_0x491096&&!_0x491096['innerHTML']['includes'](_0x12eb14(0x52e))&&(_0x491096[_0x12eb14(0xa5b)]+=_0x12eb14(0xb2f));const _0x312235=document[_0x12eb14(0xca0)](_0x12eb14(0x9d5));if(!_0x1e169f||_0x1e169f[_0x12eb14(0xcda)]===0x0){_0x312235[_0x12eb14(0xa5b)]=_0x12eb14(0xb0f);return;}const _0x15013b=_0xf5ab22[_0x12eb14(0x736)]===!![],_0x27dcad=_0xf5ab22[_0x12eb14(0x3ee)]?.[_0x12eb14(0x960)]??-0x1;let _0x54b157='';_0x1e169f[_0x12eb14(0xb32)](_0x59b441=>{const _0x545080=_0x12eb14,_0x1a64c0=_0x1d59aa[_0x59b441];let _0x3dfa94=_0x545080(0xc53)+(_0x15013b?_0x545080(0x32d):_0x545080(0x26e))+'\x22>'+(_0x15013b?_0x545080(0x995):_0x545080(0xa98))+_0x545080(0x4d9);if(_0x1a64c0){if(_0x1a64c0[_0x545080(0xc14)]&&_0x1a64c0[_0x545080(0xc14)][_0x545080(0xcda)]>0x0){let _0x1ca7e3=_0x15013b?_0x1a64c0['bestScore']===_0x1a64c0[_0x545080(0x7cc)]:_0x27dcad!==-0x1&&_0x1a64c0[_0x545080(0x7c9)]>=_0x27dcad;const _0x33dce4=_0x1ca7e3?'bg-green-100\x20text-green-800':_0x545080(0xd27),_0x61b350=_0x1ca7e3?_0x545080(0x636):_0x545080(0xb00),_0x21895a='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x33dce4+'\x22>'+_0x61b350+_0x545080(0x4d9),_0x4f022f=_0x545080(0x68a)+(_0x1a64c0[_0x545080(0xc14)]?.[_0x545080(0xcda)]||0x1)+_0x545080(0x45f);_0x54b157+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x59b441+_0x545080(0xb5e)+_0x1a64c0['bestScore']+_0x545080(0xb05)+_0x1a64c0[_0x545080(0x7cc)]+_0x545080(0xa33)+_0x21895a+_0x545080(0x345)+_0x3dfa94+_0x545080(0xc92)+_0x1a64c0['firstScore']+_0x545080(0xb05)+_0x1a64c0[_0x545080(0x7cc)]+_0x545080(0x7ab)+_0x1a64c0[_0x545080(0x477)]+_0x545080(0xb05)+_0x1a64c0[_0x545080(0x7cc)]+_0x545080(0x986)+(_0x1a64c0['points']||0x0)+_0x545080(0xa33)+_0x4f022f+_0x545080(0x647)+new Date(_0x1a64c0[_0x545080(0xd3b)])[_0x545080(0xc66)](_0x545080(0x2fe))+_0x545080(0xa55)+_0x59b441+_0x545080(0x745);}else{const _0xe884e1=_0x545080(0xcb4);_0x54b157+=_0x545080(0x60b)+_0x59b441+_0x545080(0xb6d)+_0x3dfa94+_0x545080(0xc37)+_0xe884e1+_0x545080(0x647)+new Date(_0x1a64c0['startedAt'])['toLocaleString'](_0x545080(0x2fe))+_0x545080(0xb8e)+_0x59b441+_0x545080(0x745);}}else{const _0x5004bf=_0x545080(0x5ff);_0x54b157+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x59b441+_0x545080(0xb0d)+_0x3dfa94+_0x545080(0x679)+_0x5004bf+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x312235[_0x12eb14(0xa5b)]=_0x54b157;}async function confirmRenameQuiz(){const _0x22196d=_0x569b7c,_0x536531=document[_0x22196d(0xca0)](_0x22196d(0x692))[_0x22196d(0xb85)][_0x22196d(0xc9e)]();if(!_0x536531){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x37b035=doc(db,_0x22196d(0x25b)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x37b035,{'topic':_0x536531}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal['classList'][_0x22196d(0x46b)]('hidden'),actionTargetId=null;}catch(_0x24f309){console[_0x22196d(0x728)](_0x22196d(0xc57),_0x24f309),showMessage(_0x22196d(0x4ff));}}async function handleMoveQuiz(_0x197a42){const _0x5ba43e=_0x569b7c;actionTargetId=_0x197a42;const _0x411660=document['getElementById']('move-quiz-project-select');_0x411660[_0x5ba43e(0xa5b)]=_0x5ba43e(0x59a),moveQuizModal[_0x5ba43e(0x396)]['remove']('hidden');try{const _0x4cf3c9=collection(db,_0x5ba43e(0x25b)+appId+'/public/data/projects'),_0x16192a=await getDocs(_0x4cf3c9),_0xadfcdd=_0x16192a[_0x5ba43e(0x53c)][_0x5ba43e(0xc3d)](_0x1973ef=>({'id':_0x1973ef['id'],..._0x1973ef[_0x5ba43e(0x7f5)]()})),_0x217063=_0xadfcdd[_0x5ba43e(0x959)](_0x125807=>_0x125807['id']!==currentProjectId);if(_0x217063[_0x5ba43e(0xcda)]===0x0){_0x411660[_0x5ba43e(0xa5b)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x5ba43e(0xca0)](_0x5ba43e(0xbae))['disabled']=!![];return;}_0x411660[_0x5ba43e(0xa5b)]=_0x217063[_0x5ba43e(0xc3d)](_0x21cd80=>_0x5ba43e(0x2df)+_0x21cd80['id']+'\x22>'+_0x21cd80['projectName']+'</option>')[_0x5ba43e(0xcbb)](''),document[_0x5ba43e(0xca0)]('confirm-move-quiz-btn')[_0x5ba43e(0x7b4)]=![];}catch(_0x5646d5){console[_0x5ba43e(0x728)](_0x5ba43e(0x8da),_0x5646d5),showMessage(_0x5ba43e(0x1cb)),moveQuizModal[_0x5ba43e(0x396)][_0x5ba43e(0x46b)](_0x5ba43e(0xb23));}}async function confirmMoveQuiz(){const _0xac87a9=_0x569b7c,_0x577087=document['getElementById']('move-quiz-project-select')[_0xac87a9(0xb85)];if(!_0x577087){showMessage(_0xac87a9(0x95a));return;}if(!actionTargetId)return;const _0x5693ce=doc(db,_0xac87a9(0x25b)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x5693ce,{'projectId':_0x577087}),showMessage(_0xac87a9(0x8f2)),moveQuizModal[_0xac87a9(0x396)][_0xac87a9(0x46b)](_0xac87a9(0xb23)),actionTargetId=null;}catch(_0x107823){console['error'](_0xac87a9(0xc83),_0x107823),showMessage(_0xac87a9(0xb2b));}}async function handleQuizSettings(_0x53bf8b){const _0x592b7f=_0x569b7c;actionTargetId=_0x53bf8b;const _0x15b270=doc(db,_0x592b7f(0x25b)+appId+_0x592b7f(0x72c),_0x53bf8b);try{const _0x208eda=await getDoc(_0x15b270);if(_0x208eda[_0x592b7f(0x6c9)]()){const _0x316967=_0x208eda[_0x592b7f(0x7f5)](),_0x4236a0=_0x316967[_0x592b7f(0x3ee)]||{},_0x3b4acd=_0x316967[_0x592b7f(0x981)][_0x592b7f(0xcda)];document[_0x592b7f(0xca0)]('modal-shuffle-select')['value']=_0x4236a0['shuffle']||'none',document[_0x592b7f(0xca0)](_0x592b7f(0xc38))[_0x592b7f(0xb85)]=_0x4236a0[_0x592b7f(0x209)]||_0x592b7f(0xcf7),document['getElementById']('modal-timer-mode-select')[_0x592b7f(0xb85)]=_0x4236a0['timerMode']||_0x592b7f(0x9d3),document[_0x592b7f(0xca0)](_0x592b7f(0xaa4))[_0x592b7f(0xb85)]=_0x4236a0[_0x592b7f(0x980)]||0xa,document[_0x592b7f(0xca0)](_0x592b7f(0x9eb))[_0x592b7f(0xb85)]=_0x4236a0[_0x592b7f(0x960)]||Math[_0x592b7f(0xc71)](_0x3b4acd/0x2),document[_0x592b7f(0xca0)]('modal-passing-score-input')[_0x592b7f(0x557)]=_0x3b4acd,document[_0x592b7f(0xca0)](_0x592b7f(0x5e0))[_0x592b7f(0x397)]=_0x4236a0[_0x592b7f(0xb3b)]||![],document[_0x592b7f(0xca0)]('modal-loop-until-pass-checkbox')[_0x592b7f(0x397)]=_0x4236a0[_0x592b7f(0x9e5)]||![];const _0x30740d=_0x4236a0['isConfidenceScoringEnabled']||![];document[_0x592b7f(0xca0)](_0x592b7f(0x58c))['checked']=_0x30740d,document[_0x592b7f(0xca0)](_0x592b7f(0x1d4))[_0x592b7f(0xb85)]=_0x4236a0[_0x592b7f(0x512)]||_0x592b7f(0xa0a);const _0x24b6ed=document['getElementById']('modal-confidence-mode-container');_0x24b6ed['classList']['toggle'](_0x592b7f(0xb23),!_0x30740d),document[_0x592b7f(0xca0)]('modal-timer-mode-select')[_0x592b7f(0x4f4)](new Event(_0x592b7f(0x6a2))),quizSettingsModal[_0x592b7f(0x396)]['remove'](_0x592b7f(0xb23));}else showMessage(_0x592b7f(0x4f6));}catch(_0x4a8e36){console[_0x592b7f(0x728)](_0x592b7f(0x50f),_0x4a8e36),showMessage(_0x592b7f(0x469));}}async function confirmQuizSettings(){const _0x4e058a=_0x569b7c;if(!actionTargetId)return;const _0x1a982c=doc(db,_0x4e058a(0x25b)+appId+_0x4e058a(0x72c),actionTargetId),_0x31d74f={'shuffle':document[_0x4e058a(0xca0)](_0x4e058a(0x1dd))[_0x4e058a(0xb85)],'resultsDisplay':document[_0x4e058a(0xca0)](_0x4e058a(0xc38))[_0x4e058a(0xb85)],'timerMode':document[_0x4e058a(0xca0)](_0x4e058a(0xbc1))[_0x4e058a(0xb85)],'timerDuration':parseInt(document[_0x4e058a(0xca0)](_0x4e058a(0xaa4))['value'])||0xa,'passingScore':parseInt(document[_0x4e058a(0xca0)]('modal-passing-score-input')[_0x4e058a(0xb85)])||0x0,'isAdaptive':document[_0x4e058a(0xca0)](_0x4e058a(0x5e0))[_0x4e058a(0x397)],'loopUntilPass':document[_0x4e058a(0xca0)](_0x4e058a(0x62b))[_0x4e058a(0x397)],'isConfidenceScoringEnabled':document[_0x4e058a(0xca0)](_0x4e058a(0x58c))['checked'],'confidenceMode':document[_0x4e058a(0xca0)]('modal-confidence-mode-select')[_0x4e058a(0xb85)]};try{await updateDoc(_0x1a982c,{'settings':_0x31d74f}),showMessage(_0x4e058a(0xa5c)),quizSettingsModal[_0x4e058a(0x396)]['add']('hidden'),actionTargetId=null;}catch(_0x1bbf42){console[_0x4e058a(0x728)](_0x4e058a(0xa26),_0x1bbf42),showMessage(_0x4e058a(0xb83));}}async function confirmQuizStatus(){const _0x49b06c=_0x569b7c;if(!actionTargetId)return;const _0x4eef4c=doc(db,_0x49b06c(0x25b)+appId+_0x49b06c(0x72c),actionTargetId),_0xc93727=document[_0x49b06c(0xb90)](_0x49b06c(0xa27));if(!_0xc93727){showMessage('กรุณาเลือกสถานะ');return;}const _0x1fd3a8=_0xc93727['value'];let _0x9539f2={};if(_0x1fd3a8===_0x49b06c(0x88e)||_0x1fd3a8===_0x49b06c(0x6e6))_0x9539f2={'status':_0x1fd3a8,'startTime':null,'endTime':null};else{if(_0x1fd3a8===_0x49b06c(0x611)){const _0x49beec=document[_0x49b06c(0xca0)](_0x49b06c(0x770))[_0x49b06c(0xb85)],_0x5612e5=document[_0x49b06c(0xca0)]('quiz-end-time')[_0x49b06c(0xb85)];if(!_0x49beec&&!_0x5612e5){showMessage(_0x49b06c(0x740));return;}_0x9539f2={'status':_0x49b06c(0xad4),'startTime':_0x49beec?new Date(_0x49beec)[_0x49b06c(0x9bb)]():null,'endTime':_0x5612e5?new Date(_0x5612e5)[_0x49b06c(0x9bb)]():null};}}try{await updateDoc(_0x4eef4c,_0x9539f2),showMessage(_0x49b06c(0x674)),quizStatusModal[_0x49b06c(0x396)][_0x49b06c(0x46b)](_0x49b06c(0xb23)),actionTargetId=null;}catch(_0x3583a4){console[_0x49b06c(0x728)]('Error\x20updating\x20quiz\x20status:',_0x3583a4),showMessage(_0x49b06c(0xc58));}}function listenForStudentProfiles(_0x5986a2){const _0x42a031=_0x569b7c,_0x4b216d=collection(db,_0x42a031(0x25b)+appId+'/public/data/projects/'+_0x5986a2+_0x42a031(0x561));unsubscribeStudentProfilesListener=onSnapshot(_0x4b216d,_0x28d2a1=>{const _0x36fb09=_0x42a031,_0x5871db=_0x28d2a1[_0x36fb09(0x53c)]['map'](_0x226933=>_0x226933[_0x36fb09(0x7f5)]());renderLeaderboard(_0x5871db,'leaderboard-table-body');},_0x5a118b=>{const _0x3c65eb=_0x42a031;console['error'](_0x3c65eb(0x8f0),_0x5a118b),document[_0x3c65eb(0xca0)](_0x3c65eb(0x887))[_0x3c65eb(0xa5b)]=_0x3c65eb(0xb0e);});}function renderLeaderboard(_0x1805e2,_0x2f02ad){const _0x49203f=_0x569b7c,_0x2531c1=document[_0x49203f(0xca0)](_0x2f02ad);if(!_0x1805e2||_0x1805e2[_0x49203f(0xcda)]===0x0){_0x2531c1[_0x49203f(0xa5b)]=_0x49203f(0x571);return;}_0x1805e2[_0x49203f(0x64b)]((_0xc9175,_0x5684b1)=>{const _0x45d0b3=_0x49203f,_0x2be44b=(_0x5684b1[_0x45d0b3(0x588)]||0x0)-(_0xc9175[_0x45d0b3(0x588)]||0x0);if(_0x2be44b!==0x0)return _0x2be44b;const _0x111194=(_0x5684b1[_0x45d0b3(0x3e2)]?.[_0x45d0b3(0x705)]||0x0)-(_0xc9175[_0x45d0b3(0x3e2)]?.['specialist']||0x0);if(_0x111194!==0x0)return _0x111194;const _0x5e1aef=(_0x5684b1[_0x45d0b3(0x3e2)]?.[_0x45d0b3(0xbad)]||0x0)-(_0xc9175[_0x45d0b3(0x3e2)]?.[_0x45d0b3(0xbad)]||0x0);if(_0x5e1aef!==0x0)return _0x5e1aef;const _0xa9d59f=(_0x5684b1[_0x45d0b3(0x3e2)]?.[_0x45d0b3(0x925)]||0x0)-(_0xc9175[_0x45d0b3(0x3e2)]?.[_0x45d0b3(0x925)]||0x0);if(_0xa9d59f!==0x0)return _0xa9d59f;const _0x534890=(_0x5684b1[_0x45d0b3(0x3e2)]?.[_0x45d0b3(0xc8e)]||0x0)-(_0xc9175[_0x45d0b3(0x3e2)]?.['quick_thinker']||0x0);if(_0x534890!==0x0)return _0x534890;return _0xc9175['studentName'][_0x45d0b3(0x8a1)](_0x5684b1[_0x45d0b3(0x972)],'th');});let _0x381bfe='';_0x1805e2[_0x49203f(0xb32)]((_0x1e6432,_0x2945f4)=>{const _0x53bc80=_0x49203f,_0x2c97d5=_0x2945f4+0x1,_0x2dceaf=_0x1e6432[_0x53bc80(0x3e2)]||{};let _0x5221b0='';const _0x367f6f=['specialist',_0x53bc80(0x925),_0x53bc80(0xbad),_0x53bc80(0xc8e)];_0x367f6f['forEach'](_0x5261f3=>{const _0x5dd7d2=_0x53bc80;if(_0x2dceaf[_0x5261f3]>0x0){const _0xf9c4f4=Object[_0x5dd7d2(0x224)](BADGES)[_0x5dd7d2(0xd14)](_0x1dbf9f=>_0x1dbf9f['id']===_0x5261f3);_0xf9c4f4&&(_0x5261f3===_0x5dd7d2(0x705)?_0x5221b0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0xf9c4f4[_0x5dd7d2(0x5bd)]+_0x5dd7d2(0xa56)+_0xf9c4f4['icon']+_0x5dd7d2(0x74a):_0x5221b0+=_0x5dd7d2(0x1de)+_0xf9c4f4['name']+'\x20('+_0x2dceaf[_0x5261f3]+_0x5dd7d2(0x86f)+_0xf9c4f4[_0x5dd7d2(0xa68)]+_0x5dd7d2(0x91a)+_0x2dceaf[_0x5261f3]+_0x5dd7d2(0x45d));}}),_0x381bfe+=_0x53bc80(0x1c0)+_0x2c97d5+_0x53bc80(0xbe4)+_0x1e6432[_0x53bc80(0x972)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x1e6432['totalPoints']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x5221b0||'-')+_0x53bc80(0x4c4);}),_0x2531c1[_0x49203f(0xa5b)]=_0x381bfe;}function displayLoopScreen(_0x53f9e2,_0x34e59c,_0x409efe){const _0x4455c6=_0x569b7c;let _0x766618='';_0x409efe!==_0x4455c6(0x385)&&(_0x766618=_0x4455c6(0xc7c)+_0x53f9e2+_0x4455c6(0xb05)+_0x34e59c+'</strong></p>');const _0x2c6cdd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x766618+_0x4455c6(0xc44);studentResultArea[_0x4455c6(0xa5b)]=_0x2c6cdd,studentResultArea[_0x4455c6(0x396)][_0x4455c6(0x76f)]('hidden'),studentQuizArea[_0x4455c6(0x396)][_0x4455c6(0x46b)](_0x4455c6(0xb23)),document[_0x4455c6(0xca0)](_0x4455c6(0x5c2))[_0x4455c6(0x79b)](_0x4455c6(0xd52),()=>{const _0x3d0f82=_0x4455c6;studentResultArea[_0x3d0f82(0x396)][_0x3d0f82(0x46b)](_0x3d0f82(0xb23)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0xbf1325,_0x3eacf1,_0x56c549){const _0x1e6808=_0x569b7c,_0x3e98a7=document[_0x1e6808(0xca0)](_0x56c549),_0x179492=_0x56c549===_0x1e6808(0x684),_0x1e2a9f=_0x3eacf1['questions'][_0x1e6808(0xcda)],_0x37d109=document[_0x1e6808(0xca0)](_0x56c549)[_0x1e6808(0xa9f)](_0x1e6808(0xd13));if(_0x37d109&&!_0x179492){const _0x50d2fa=_0x37d109[_0x1e6808(0xb90)](_0x1e6808(0x841));_0x50d2fa[_0x1e6808(0xa5b)]=_0x1e6808(0x78d);}if(!_0xbf1325||_0xbf1325['length']===0x0){_0x3e98a7[_0x1e6808(0xa5b)]=_0x1e6808(0x930)+(_0x179492?0x6:0x8)+_0x1e6808(0xd06);return;}const _0x784c78=[..._0xbf1325];_0x784c78[_0x1e6808(0x64b)]((_0x59dd2e,_0x422f74)=>{const _0x40ae48=_0x1e6808;let _0x401063,_0x3ca70a;switch(quizLeaderboardSortBy){case _0x40ae48(0x972):_0x401063=_0x59dd2e['studentName']||'',_0x3ca70a=_0x422f74[_0x40ae48(0x972)]||'';return quizLeaderboardSortOrder===_0x40ae48(0x1cd)?_0x401063[_0x40ae48(0x8a1)](_0x3ca70a,'th'):_0x3ca70a[_0x40ae48(0x8a1)](_0x401063,'th');case'points':_0x401063=_0x59dd2e[_0x40ae48(0x46f)]||0x0,_0x3ca70a=_0x422f74[_0x40ae48(0x46f)]||0x0;break;case _0x40ae48(0xc14):_0x401063=_0x59dd2e[_0x40ae48(0xc14)]?.[_0x40ae48(0xcda)]||0x1,_0x3ca70a=_0x422f74[_0x40ae48(0xc14)]?.[_0x40ae48(0xcda)]||0x1;break;case _0x40ae48(0xd3b):_0x401063=new Date(_0x59dd2e[_0x40ae48(0xd3b)]),_0x3ca70a=new Date(_0x422f74[_0x40ae48(0xd3b)]);break;case _0x40ae48(0x7c9):default:_0x401063=_0x59dd2e[_0x40ae48(0x7c9)],_0x3ca70a=_0x422f74[_0x40ae48(0x7c9)];break;}if(_0x401063<_0x3ca70a)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x401063>_0x3ca70a)return quizLeaderboardSortOrder===_0x40ae48(0x1cd)?0x1:-0x1;return 0x0;});const _0x4e4154=_0x3eacf1[_0x1e6808(0x736)]===!![],_0x508c73=_0x3eacf1[_0x1e6808(0x3ee)]?.[_0x1e6808(0x960)]??-0x1;let _0x47eb40='';_0x784c78[_0x1e6808(0xb32)]((_0x2c319e,_0x4c48e9)=>{const _0x3f89de=_0x1e6808,_0x27af0a=_0x4c48e9+0x1;let _0xcca236='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x4e4154||_0x508c73!==-0x1){let _0x26ddd2=_0x4e4154?_0x2c319e['bestScore']===_0x1e2a9f:_0x2c319e['bestScore']>=_0x508c73;const _0x10a34c=_0x26ddd2?'bg-green-100\x20text-green-800':_0x3f89de(0xd27),_0x2d3f3e=_0x26ddd2?_0x3f89de(0x636):_0x3f89de(0xb00);_0xcca236=_0x3f89de(0x954)+_0x10a34c+'\x22>'+_0x2d3f3e+_0x3f89de(0x4d9);}const _0xd189ee=_0x2c319e[_0x3f89de(0xc14)][_0x2c319e[_0x3f89de(0xc14)]['length']-0x1],_0x2a6098=(_0xd189ee[_0x3f89de(0x8c3)]||[])['map'](_0x19237c=>{const _0xe2ab76=_0x3f89de,_0x44b592=Object[_0xe2ab76(0x224)](BADGES)['find'](_0x4292bd=>_0x4292bd['id']===_0x19237c);return _0x44b592?_0xe2ab76(0x77a)+_0x44b592['name']+_0xe2ab76(0x2f3)+_0x44b592[_0xe2ab76(0xa68)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})['join']('');_0x47eb40+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x27af0a+_0x3f89de(0xad6)+_0x2c319e[_0x3f89de(0x972)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x2c319e[_0x3f89de(0x7c9)]+_0x3f89de(0xb05)+_0x1e2a9f+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xcca236+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x2c319e[_0x3f89de(0x46f)]||0x0)+_0x3f89de(0x974)+(_0x179492?'':_0x3f89de(0xa46)+(_0x2c319e['attempts']?.['length']||0x1)+_0x3f89de(0x538))+_0x3f89de(0x8a3)+(_0x179492?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x2c319e[_0x3f89de(0xd3b)])[_0x3f89de(0xc66)](_0x3f89de(0x2fe))+_0x3f89de(0x538))+_0x3f89de(0x58b)+(_0x2a6098||'-')+_0x3f89de(0x4ee);}),_0x3e98a7['innerHTML']=_0x47eb40,_0x37d109&&!_0x179492&&_0x37d109['querySelectorAll'](_0x1e6808(0x9f8))[_0x1e6808(0xb32)](_0x5913c1=>{const _0x55fb70=_0x1e6808,_0x2c7444=_0x5913c1[_0x55fb70(0xb90)](_0x55fb70(0x3ce));if(_0x2c7444)_0x2c7444['remove']();_0x5913c1['dataset'][_0x55fb70(0x64b)]===quizLeaderboardSortBy&&(_0x5913c1[_0x55fb70(0xa5b)]+=_0x55fb70(0x5da)+(quizLeaderboardSortOrder===_0x55fb70(0x1cd)?'▲':'▼')+_0x55fb70(0x8b9));});}async function handleDeleteSubmission(_0x45e5d7){const _0x78f654=_0x569b7c;if(!currentQuizData||!currentQuizData['id']||!_0x45e5d7){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x78f654(0xc77)+_0x45e5d7+_0x78f654(0x65b),async()=>{const _0x57ddcb=_0x78f654,_0x4670ef=currentQuizData['id'],_0x42fee=doc(db,_0x57ddcb(0x25b)+appId+_0x57ddcb(0x6f0)+_0x4670ef+_0x57ddcb(0x1ee),_0x45e5d7);try{await deleteDoc(_0x42fee),showMessage(_0x57ddcb(0xc95)+_0x45e5d7+'\x20สำเร็จ');}catch(_0x52d974){console[_0x57ddcb(0x728)](_0x57ddcb(0x66b),_0x52d974),showMessage(_0x57ddcb(0x54a));}});}async function handleLoadQuiz(){const _0x1753c9=_0x569b7c,_0xd35bfe=document['getElementById'](_0x1753c9(0x23e)),_0x157acc=_0xd35bfe[_0x1753c9(0xb85)][_0x1753c9(0xc9e)]();if(!_0x157acc){showMessage(_0x1753c9(0xa37));return;}loadQuizBtn[_0x1753c9(0x7b4)]=!![],loadQuizBtn['innerHTML']=_0x1753c9(0x8b5);try{const _0x50b34c=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x157acc),_0x564b21=await getDoc(_0x50b34c);if(!_0x564b21[_0x1753c9(0x6c9)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x564b21['id'],..._0x564b21[_0x1753c9(0x7f5)]()};const _0x31eaa5=currentQuizData['status']||_0x1753c9(0x88e),_0x160e37=new Date();if(_0x31eaa5===_0x1753c9(0x6e6)){showMessage(_0x1753c9(0xa8f));return;}if(_0x31eaa5==='scheduled'){const _0x50640d=currentQuizData[_0x1753c9(0xb0a)]?new Date(currentQuizData[_0x1753c9(0xb0a)]):null,_0x5bb90f=currentQuizData[_0x1753c9(0x453)]?new Date(currentQuizData[_0x1753c9(0x453)]):null;if(_0x50640d&&_0x160e37<_0x50640d){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x50640d[_0x1753c9(0xc66)](_0x1753c9(0x2fe),{'hour12':![]}));return;}if(_0x5bb90f&&_0x160e37>_0x5bb90f){showMessage(_0x1753c9(0xc97));return;}}const _0x16d98d=currentQuizData[_0x1753c9(0xadc)];currentProjectId=_0x16d98d;const _0x40cc6d=doc(db,_0x1753c9(0x25b)+appId+_0x1753c9(0x1bf),_0x16d98d),_0x1b95cf=await getDoc(_0x40cc6d);if(!_0x1b95cf[_0x1753c9(0x6c9)]()){showMessage(_0x1753c9(0x269));return;}const _0x4c3334=_0x1b95cf['data']();currentStudentProjectData=_0x4c3334,displayStudentNameSelector(_0x4c3334['students'],currentQuizData['topic']);}catch(_0xad140b){console[_0x1753c9(0x728)](_0x1753c9(0x9f0),_0xad140b),showMessage(_0x1753c9(0x552));}finally{loadQuizBtn[_0x1753c9(0x7b4)]=![],loadQuizBtn[_0x1753c9(0xa5b)]=_0x1753c9(0x74c);}}async function handleJoinLiveGame(){const _0x4bd8b3=_0x569b7c,_0x21bc51=document['getElementById']('game-pin-input'),_0x346c00=document[_0x4bd8b3(0xca0)](_0x4bd8b3(0x529)),_0x4e2da1=document[_0x4bd8b3(0xca0)](_0x4bd8b3(0x3b5)),_0x28f21a=_0x21bc51['value'][_0x4bd8b3(0xc9e)](),_0x10d6d1=_0x346c00[_0x4bd8b3(0xb85)][_0x4bd8b3(0xc9e)]();if(!_0x28f21a||!_0x10d6d1){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x4e2da1[_0x4bd8b3(0x7b4)]=!![],_0x4e2da1[_0x4bd8b3(0xa5b)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0x3b22b4=collection(db,_0x4bd8b3(0x25b)+appId+'/public/data/liveGames'),_0x294a05=query(_0x3b22b4,where(_0x4bd8b3(0x376),'==',_0x28f21a),where(_0x4bd8b3(0xc81),'in',[_0x4bd8b3(0x3e1),_0x4bd8b3(0x215)])),_0x377ccc=await getDocs(_0x294a05);if(_0x377ccc[_0x4bd8b3(0xcc9)]){showMessage(_0x4bd8b3(0x659));return;}const _0x3bd486=_0x377ccc[_0x4bd8b3(0x53c)][0x0],_0x50945f=_0x3bd486['data']();currentLiveGameId=_0x3bd486['id'];const _0x37c1fe=_0x50945f['quizId'],_0x296829=doc(db,_0x4bd8b3(0x25b)+appId+_0x4bd8b3(0x72c),_0x37c1fe),_0x954429=await getDoc(_0x296829);if(!_0x954429['exists']()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x954429['id'],..._0x954429[_0x4bd8b3(0x7f5)]()};if(_0x50945f[_0x4bd8b3(0x3fc)]&&_0x50945f[_0x4bd8b3(0x3fc)][_0x10d6d1]){const _0x4895d3=_0x50945f[_0x4bd8b3(0x3fc)][_0x10d6d1];if(_0x4895d3['status']==='inactive'){_0x4e2da1[_0x4bd8b3(0xa5b)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0x446dcf={};_0x446dcf[_0x4bd8b3(0x5c8)+_0x10d6d1+'.status']=_0x4bd8b3(0x88e),await updateDoc(doc(db,_0x4bd8b3(0x25b)+appId+_0x4bd8b3(0x9e1),currentLiveGameId),_0x446dcf),showView(_0x4bd8b3(0x532)),currentStudentName=_0x10d6d1,listenForLiveGameUpdates();return;}else{showMessage(_0x4bd8b3(0x6d8));return;}}if(_0x50945f[_0x4bd8b3(0xc81)]!==_0x4bd8b3(0x3e1)){showMessage(_0x4bd8b3(0x29d));return;}_0x4e2da1['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0x274aae={};_0x274aae['players.'+_0x10d6d1]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x4bd8b3(0x88e)},await updateDoc(doc(db,_0x4bd8b3(0x25b)+appId+_0x4bd8b3(0x9e1),currentLiveGameId),_0x274aae),currentStudentName=_0x10d6d1,listenForLiveGameUpdates();}catch(_0x5d7b18){console['error'](_0x4bd8b3(0xcce),_0x5d7b18),showMessage(_0x4bd8b3(0x890));}finally{_0x4e2da1['disabled']=![],_0x4e2da1[_0x4bd8b3(0xa5b)]=_0x4bd8b3(0x447);}}function displayStudentNameSelector(_0x1d26fd,_0x16cf62){const _0x2bd06b=_0x569b7c,_0x12c82c=document['getElementById'](_0x2bd06b(0xc72));document[_0x2bd06b(0xca0)]('student-quiz-topic')['textContent']=_0x2bd06b(0x8d9)+_0x16cf62,!_0x1d26fd||_0x1d26fd[_0x2bd06b(0xcda)]===0x0?(_0x12c82c[_0x2bd06b(0xa5b)]=_0x2bd06b(0x800),startQuizBtn['disabled']=!![]):(_0x12c82c[_0x2bd06b(0xa5b)]=_0x2bd06b(0xa0d),_0x1d26fd[_0x2bd06b(0xb32)](_0x24d0f5=>{const _0x1db226=_0x2bd06b,_0x33b51c=document[_0x1db226(0x827)](_0x1db226(0x21b));_0x33b51c[_0x1db226(0xb85)]=_0x24d0f5,_0x33b51c[_0x1db226(0x8a5)]=_0x24d0f5,_0x12c82c[_0x1db226(0xac6)](_0x33b51c);}),startQuizBtn[_0x2bd06b(0x7b4)]=![]),studentInitialView[_0x2bd06b(0x396)][_0x2bd06b(0x46b)](_0x2bd06b(0xb23)),studentNameSelectionView[_0x2bd06b(0x396)]['remove'](_0x2bd06b(0xb23));}function shuffleArray(_0xf7c7a6){const _0x3fec64=_0x569b7c;for(let _0x5a5e36=_0xf7c7a6['length']-0x1;_0x5a5e36>0x0;_0x5a5e36--){const _0x565357=Math[_0x3fec64(0xc71)](Math[_0x3fec64(0x7ff)]()*(_0x5a5e36+0x1));[_0xf7c7a6[_0x5a5e36],_0xf7c7a6[_0x565357]]=[_0xf7c7a6[_0x565357],_0xf7c7a6[_0x5a5e36]];}}function getShuffledQuiz(_0x144d19){const _0x258fd6=_0x569b7c;let _0x51fe0d=JSON[_0x258fd6(0x608)](JSON[_0x258fd6(0x25e)](_0x144d19));const _0x566fb2=_0x51fe0d['settings']?.[_0x258fd6(0x3d2)]||'none';if(_0x566fb2===_0x258fd6(0x9d3))return _0x51fe0d;return(_0x566fb2==='questions_only'||_0x566fb2==='both')&&shuffleArray(_0x51fe0d['questions']),(_0x566fb2===_0x258fd6(0x6ce)||_0x566fb2==='both')&&_0x51fe0d[_0x258fd6(0x981)]['forEach'](_0x1348de=>{const _0x53aa38=_0x258fd6,_0x342cae=_0x1348de[_0x53aa38(0x879)]||_0x51fe0d[_0x53aa38(0x5c7)];if(_0x1348de['options']){let _0x2929da=_0x1348de[_0x53aa38(0xb7c)][_0x53aa38(0xc3d)]((_0x2d4c59,_0x5dbb4c)=>({'text':_0x2d4c59,'isCorrect':_0x5dbb4c===_0x1348de['correctAnswerIndex']}));shuffleArray(_0x2929da),_0x1348de[_0x53aa38(0xb7c)]=_0x2929da[_0x53aa38(0xc3d)](_0x5c4a19=>_0x5c4a19[_0x53aa38(0xc91)]),_0x1348de[_0x53aa38(0x481)]=_0x2929da[_0x53aa38(0x5a3)](_0x4402a3=>_0x4402a3['isCorrect']);}_0x342cae===_0x53aa38(0x489)&&_0x1348de[_0x53aa38(0x1db)]&&shuffleArray(_0x1348de[_0x53aa38(0x1db)]);}),_0x51fe0d;}function displayQuizForStudent(_0x953e61){const _0xf819b0=_0x569b7c;studentQuizArea[_0xf819b0(0x396)][_0xf819b0(0x76f)](_0xf819b0(0xb23)),currentDisplayedQuiz=getShuffledQuiz(_0x953e61);currentMode!==_0xf819b0(0x901)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0xf819b0(0x79b)](_0xf819b0(0x97e),handleFullscreenChange),document['addEventListener']('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0xf819b0(0x79b)]('mousemove',resetDimTimer),window[_0xf819b0(0x79b)](_0xf819b0(0xaab),resetDimTimer),window[_0xf819b0(0x79b)](_0xf819b0(0xae4),resetDimTimer),window['addEventListener'](_0xf819b0(0x4a5),resetDimTimer),resetDimTimer());const _0x1ef9d5=currentDisplayedQuiz[_0xf819b0(0x3ee)]?.[_0xf819b0(0x272)]||_0xf819b0(0x9d3);if(_0x1ef9d5==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0xf819b0(0x3ee)]['timerDuration']);else _0x1ef9d5===_0xf819b0(0x7c3)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x4f26b0=_0x569b7c,_0x5f433f=currentDisplayedQuiz[_0x4f26b0(0x3ee)]?.[_0x4f26b0(0x80b)]===!![],_0x410f77=currentDisplayedQuiz[_0x4f26b0(0x3ee)]?.[_0x4f26b0(0x512)]||_0x4f26b0(0xa0a);let _0x5cc888=_0x4f26b0(0x288)+currentDisplayedQuiz[_0x4f26b0(0xaf8)]+_0x4f26b0(0x6e0)+(currentMode==='admin-testing'?_0x4f26b0(0x1eb):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x4f26b0(0x981)][_0x4f26b0(0xb32)]((_0x293230,_0x158681)=>{const _0x27d3f1=_0x4f26b0,_0xccb2c5=_0x293230[_0x27d3f1(0x879)]||currentDisplayedQuiz[_0x27d3f1(0x5c7)];_0x5cc888+=_0x27d3f1(0x328);if(_0xccb2c5===_0x27d3f1(0x489)){}else _0x5cc888+=_0x27d3f1(0x4ab)+(_0x158681+0x1)+'.\x20'+(_0x293230['instructions']||_0x293230[_0x27d3f1(0x332)])+_0x27d3f1(0xb3a),_0x293230[_0x27d3f1(0x456)]&&(_0x5cc888+=_0x27d3f1(0x3ff)+_0x293230[_0x27d3f1(0x456)]+_0x27d3f1(0x3f0));_0x5cc888+=_0x27d3f1(0x81c);switch(_0xccb2c5){case _0x27d3f1(0x934):_0x5cc888+='<textarea\x20name=\x22question'+_0x158681+_0x27d3f1(0xa1b);break;case'true_false':_0x5cc888+=_0x27d3f1(0x71a)+_0x158681+_0x27d3f1(0x243)+_0x158681+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x158681+_0x27d3f1(0xc9f),_0x5cc888+=_0x27d3f1(0x71a)+_0x158681+_0x27d3f1(0x685)+_0x158681+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x158681+_0x27d3f1(0xa4c);break;case _0x27d3f1(0x489):_0x5cc888+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+_0x293230[_0x27d3f1(0x73f)]+_0x27d3f1(0x36f)+_0x158681+_0x27d3f1(0xc16)+_0x293230[_0x27d3f1(0x1db)][_0x27d3f1(0xc3d)](_0x37e034=>_0x27d3f1(0x2df)+_0x37e034+'\x22>'+_0x37e034+_0x27d3f1(0xaed))['join']('')+_0x27d3f1(0xc3e);break;default:_0x5cc888+=_0x293230[_0x27d3f1(0xb7c)][_0x27d3f1(0xc3d)]((_0x25ad97,_0x5eea35)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x158681+'_opt'+_0x5eea35+_0x27d3f1(0x579)+_0x158681+'\x22\x20value=\x22'+_0x5eea35+_0x27d3f1(0x380)+_0x158681+_0x27d3f1(0x5f6)+_0x5eea35+'\x22>'+_0x25ad97+_0x27d3f1(0xac5))[_0x27d3f1(0xcbb)]('');break;}_0x5cc888+=_0x27d3f1(0x3f0),_0x5f433f&&(_0x5cc888+=_0x27d3f1(0x76e),_0x410f77===_0x27d3f1(0xd39)?_0x5cc888+=_0x27d3f1(0xa2f)+_0x158681+_0x27d3f1(0x31b)+_0x158681+_0x27d3f1(0xc0a)+_0x158681+_0x27d3f1(0xa9d)+_0x158681+_0x27d3f1(0x3d5):_0x5cc888+=_0x27d3f1(0x5c0)+_0x158681+'\x22\x20name=\x22confidence'+_0x158681+_0x27d3f1(0xb87)+_0x158681+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5cc888+=_0x27d3f1(0x3f0)),_0x5cc888+='</div>';}),_0x5cc888+=_0x4f26b0(0x56e),_0x5cc888+=_0x4f26b0(0x252),studentQuizArea[_0x4f26b0(0xa5b)]=_0x5cc888;if(currentMode===_0x4f26b0(0x901)){const _0x129b92=document[_0x4f26b0(0xca0)](_0x4f26b0(0xb59));if(_0x129b92)_0x129b92[_0x4f26b0(0x79b)](_0x4f26b0(0xd52),cancelAdminTest);}const _0x3d527f=document[_0x4f26b0(0xca0)](_0x4f26b0(0x566));_0x3d527f&&(_0x3d527f[_0x4f26b0(0x79b)](_0x4f26b0(0x57b),handleSubmitQuiz),_0x3d527f[_0x4f26b0(0x79b)](_0x4f26b0(0xd52),_0x5b0b24=>{const _0x15f77f=_0x4f26b0;if(_0x5b0b24[_0x15f77f(0xbe5)][_0x15f77f(0x396)][_0x15f77f(0x1d0)]('confidence-choice-btn')){const _0x165a8e=_0x5b0b24[_0x15f77f(0xbe5)],_0x197cf8=_0x165a8e[_0x15f77f(0x507)][_0x15f77f(0x87c)],_0x7c08f0=_0x165a8e['dataset'][_0x15f77f(0xb85)];document['getElementById'](_0x15f77f(0xa34)+_0x197cf8)[_0x15f77f(0xb85)]=_0x7c08f0;const _0x2bba22=_0x165a8e[_0x15f77f(0xd2f)];_0x2bba22['querySelectorAll'](_0x15f77f(0x5d1))['forEach'](_0x2eaa38=>_0x2eaa38['classList'][_0x15f77f(0x76f)](_0x15f77f(0x88e))),_0x165a8e['classList'][_0x15f77f(0x46b)](_0x15f77f(0x88e));}}));if(window[_0x4f26b0(0x858)])window[_0x4f26b0(0x858)][_0x4f26b0(0x5cc)]([studentQuizArea]);}async function handleSubmitQuiz(_0x30240c){const _0x2192a8=_0x569b7c;if(_0x30240c)_0x30240c[_0x2192a8(0x631)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x12bea6=document[_0x2192a8(0xca0)](_0x2192a8(0x566));if(!_0x12bea6)return;const _0xa488b8=currentDisplayedQuiz['settings']?.[_0x2192a8(0x80b)]===!![],_0x150484=currentDisplayedQuiz[_0x2192a8(0x3ee)]?.[_0x2192a8(0x512)]||'checkbox';if(_0xa488b8&&_0x150484===_0x2192a8(0xd39)){let _0x3ac0a1=!![];for(let _0x5759be=0x0;_0x5759be<currentDisplayedQuiz[_0x2192a8(0x981)][_0x2192a8(0xcda)];_0x5759be++){const _0x4722ae=_0x12bea6[_0x2192a8(0xb90)](_0x2192a8(0x48f)+_0x5759be);if(!_0x4722ae||_0x4722ae[_0x2192a8(0xb85)]===''){_0x3ac0a1=![];break;}}if(!_0x3ac0a1){showMessage(_0x2192a8(0x614));return;}}const _0x2ad1b2=_0x12bea6[_0x2192a8(0xb90)](_0x2192a8(0x21f)),_0xaf476b=currentDisplayedQuiz[_0x2192a8(0x981)][_0x2192a8(0x60d)](_0x230720=>_0x230720[_0x2192a8(0x879)]===_0x2192a8(0x934));_0x2ad1b2&&(_0x2ad1b2[_0x2192a8(0x7b4)]=!![],_0x2ad1b2[_0x2192a8(0xa5b)]=_0xaf476b?_0x2192a8(0x7ca):'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x5c00b2=new FormData(_0x12bea6),_0x4c5139=currentDisplayedQuiz[_0x2192a8(0x981)][_0x2192a8(0xc3d)]((_0x518731,_0x425eeb)=>{const _0x407573=_0x2192a8,_0x2892cc=_0x5c00b2['get'](_0x407573(0x215)+_0x425eeb);let _0x3f53c2;_0x150484===_0x407573(0xd39)?_0x3f53c2=_0x5c00b2['get'](_0x407573(0xd50)+_0x425eeb):_0x3f53c2=_0x5c00b2[_0x407573(0x86a)](_0x407573(0xd50)+_0x425eeb)==='on';let _0x4deb97=null;if(_0x2892cc!==null&&_0x2892cc!==undefined){const _0x1d8472=_0x518731[_0x407573(0x879)]||currentDisplayedQuiz[_0x407573(0x5c7)];_0x1d8472===_0x407573(0x27b)||_0x1d8472===_0x407573(0x9be)?_0x4deb97=parseInt(_0x2892cc):_0x4deb97=_0x2892cc;}return{'answer':_0x4deb97,'wasConfident':_0x3f53c2};}),_0x236e2c=currentQuizData['id'],_0x50928c=doc(db,_0x2192a8(0x25b)+appId+_0x2192a8(0x6f0)+_0x236e2c+'/submissions',currentStudentName),_0x5e3564=await getDoc(_0x50928c),_0x4eea7e=_0x5e3564[_0x2192a8(0x6c9)]()?_0x5e3564[_0x2192a8(0x7f5)]():{},_0x11cd68=_0x4eea7e[_0x2192a8(0xc14)]||[];await processAndSubmitAnswers(_0x4c5139,_0x11cd68);}async function gradeShortAnswerWithAI(_0x3f5dfc,_0x2c10ff){const _0x121d6b=_0x569b7c;if(!_0x3f5dfc||!_0x2c10ff)return![];try{const _0xb6add5=_0x121d6b(0xd38)+_0x3f5dfc+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x2c10ff+_0x121d6b(0x785),_0x4df3a2={'contents':[{'role':'user','parts':[{'text':_0xb6add5}]}]},_0x43758d=_0x121d6b(0x9bc),_0x4bc93e='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x43758d,_0x4448d2=await fetch(_0x4bc93e,{'method':_0x121d6b(0x938),'headers':{'Content-Type':_0x121d6b(0x828)},'body':JSON[_0x121d6b(0x25e)](_0x4df3a2)});if(!_0x4448d2['ok'])throw new Error('API\x20call\x20failed');const _0xbd7796=await _0x4448d2[_0x121d6b(0xc67)](),_0x9fffc9=_0xbd7796[_0x121d6b(0x7ec)][0x0]['content'][_0x121d6b(0x6fc)][0x0][_0x121d6b(0xc91)][_0x121d6b(0xc9e)]()[_0x121d6b(0x38f)]();return _0x9fffc9===_0x121d6b(0x6c7);}catch(_0x4eb96a){return console[_0x121d6b(0x728)]('AI\x20grading\x20failed:',_0x4eb96a),![];}}async function processAndSubmitAnswers(_0x29f548,_0x55d1a7){const _0xd1b380=_0x569b7c;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0xd1b380(0xd44)](_0xd1b380(0x97e),handleFullscreenChange),document[_0xd1b380(0xd44)](_0xd1b380(0xa99),handleVisibilityChange);let _0xfe9f85=0x0;const _0x51c4a8=[],_0x23c0a7=currentDisplayedQuiz['questions'][_0xd1b380(0xcda)];let _0x12a05f=0x0,_0x4a05f4=[];const _0x2f08ed=currentDisplayedQuiz[_0xd1b380(0x981)];for(let _0x46858f=0x0;_0x46858f<_0x2f08ed[_0xd1b380(0xcda)];_0x46858f++){const _0x4aa1bc=_0x2f08ed[_0x46858f],_0x42e7bd=_0x29f548[_0x46858f],_0x458764=_0x42e7bd?_0x42e7bd[_0xd1b380(0xc52)]:null,_0x92e452=_0x42e7bd?_0x42e7bd['wasConfident']:null;let _0x4623cf=![],_0x4afc03=0x0;if(_0x458764!==null&&_0x458764!==''){const _0x212f6f=_0x4aa1bc[_0xd1b380(0x879)]||currentDisplayedQuiz[_0xd1b380(0x5c7)];switch(_0x212f6f){case _0xd1b380(0x489):_0x4623cf=_0x458764===_0x4aa1bc[_0xd1b380(0x863)];break;case _0xd1b380(0xa08):const _0x23772f=_0x458764===!![]||_0x458764===_0xd1b380(0x6c7);_0x4623cf=_0x23772f===_0x4aa1bc[_0xd1b380(0x69f)];break;case'short_answer':_0x4623cf=await gradeShortAnswer(_0x458764,_0x4aa1bc);break;case _0xd1b380(0x27b):default:_0x4623cf=Number(_0x458764)===_0x4aa1bc['correctAnswerIndex'];break;}}if(currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']){const _0x199a69=_0x42e7bd?_0x42e7bd['wasConfident']:null;if(_0x4623cf&&(_0x199a69===!![]||_0x199a69==='confident'))_0x4afc03=0x2;else{if(_0x4623cf)_0x4afc03=0x1;else{if(!_0x4623cf&&(_0x199a69===![]||_0x199a69===_0xd1b380(0x391)||_0x199a69===null))_0x4afc03=0x0;else!_0x4623cf&&(_0x199a69===!![]||_0x199a69===_0xd1b380(0x768))&&(_0x4afc03=-0x1);}}}else _0x4afc03=_0x4623cf?0x1:0x0;_0xfe9f85+=_0x4afc03;if(_0x4623cf){_0x12a05f++;if(_0x12a05f===0x3)_0x4a05f4['push'](BADGES[_0xd1b380(0x798)]['id']);}else _0x12a05f=0x0;let _0x3bbf6d=null;_0x4aa1bc[_0xd1b380(0xb7c)]&&_0x458764!==null&&(_0x3bbf6d=_0x4aa1bc[_0xd1b380(0xb7c)][_0x458764]),_0x51c4a8[_0xd1b380(0xae7)]({'questionId':_0x4aa1bc['id'],'answer':_0x458764,'answerText':_0x3bbf6d,'isCorrect':_0x4623cf,'wasConfident':_0x92e452,'pointsAwarded':_0x4afc03,'originalQuestionText':_0x4aa1bc[_0xd1b380(0x73f)]||_0x4aa1bc[_0xd1b380(0x332)]});}const _0x44b315=_0x51c4a8['filter'](_0x55ade5=>_0x55ade5[_0xd1b380(0x280)])[_0xd1b380(0xcda)],_0x318292=currentDisplayedQuiz[_0xd1b380(0x3ee)]?.[_0xd1b380(0x960)]??Math['floor'](_0x23c0a7/0x2);_0x44b315===_0x23c0a7&&_0x23c0a7>0x0&&!currentDisplayedQuiz['isRemedial']&&_0x4a05f4[_0xd1b380(0xae7)](BADGES['PERFECT_SCORE']['id']);const _0x721db3=currentDisplayedQuiz[_0xd1b380(0x3ee)]?.[_0xd1b380(0x272)];if(_0x721db3==='whole_quiz'&&quizStartTime){const _0x25f705=(new Date()-quizStartTime)/0x3e8,_0x55e6d5=currentDisplayedQuiz[_0xd1b380(0x3ee)][_0xd1b380(0x980)]*0x3c;_0x44b315>=_0x318292&&_0x25f705<_0x55e6d5/0x2&&_0x4a05f4[_0xd1b380(0xae7)](BADGES[_0xd1b380(0x575)]['id']);}_0x55d1a7[_0xd1b380(0xcda)]===0x0&&_0x44b315===_0x23c0a7&&_0x23c0a7>0x0&&_0x4a05f4[_0xd1b380(0xae7)](BADGES[_0xd1b380(0x335)]['id']);if(_0x55d1a7['length']>0x0){const _0x36f1f4=_0x55d1a7[0x0][_0xd1b380(0x9f4)];if(_0x36f1f4<_0x318292&&_0x44b315>=_0x318292){const _0x231390=_0x55d1a7['some'](_0x1eb010=>(_0x1eb010['badges']||[])[_0xd1b380(0x771)](BADGES['COMEBACK_KING']['id']));!_0x231390&&_0x4a05f4[_0xd1b380(0xae7)](BADGES[_0xd1b380(0x61a)]['id']);}}_0x55d1a7[_0xd1b380(0xcda)]===0x4&&_0x4a05f4[_0xd1b380(0xae7)](BADGES[_0xd1b380(0x31d)]['id']);const _0x701d5b=currentDisplayedQuiz[_0xd1b380(0x3ee)]['resultsDisplay'];if(currentMode===_0xd1b380(0x901)){handleResultDisplay(_0x701d5b,_0x44b315,_0xfe9f85,_0x4a05f4,_0x51c4a8,_0x23c0a7);return;}const _0x3e8922=currentQuizData['id'],_0x55038e=doc(db,_0xd1b380(0x25b)+appId+_0xd1b380(0x6f0)+_0x3e8922+_0xd1b380(0x1ee),currentStudentName);try{const _0x6c7895=[..._0x55d1a7],_0x1b2aef={'score':_0x44b315,'points':_0xfe9f85,'badges':Array[_0xd1b380(0x95b)](new Set(_0x4a05f4)),'submittedAt':new Date()['toISOString'](),'answers':_0x51c4a8};_0x6c7895[_0xd1b380(0xae7)](_0x1b2aef);const _0x20ffb7=_0x55d1a7[_0xd1b380(0xcda)]===0x0?_0x44b315:_0x55d1a7[0x0][_0xd1b380(0x9f4)]||0x0,_0xafd010=Math[_0xd1b380(0x557)](..._0x6c7895[_0xd1b380(0xc3d)](_0x1a5e06=>_0x1a5e06[_0xd1b380(0x9f4)]));await setDoc(_0x55038e,{'studentName':currentStudentName,'totalQuestions':_0x23c0a7,'attempts':_0x6c7895,'firstScore':_0x20ffb7,'bestScore':_0xafd010,'latestScore':_0x44b315,'points':_0xfe9f85,'latestSubmittedAt':_0x1b2aef[_0xd1b380(0x26f)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0xd1b380(0xadc)],currentStudentName),handleResultDisplay(_0x701d5b,_0x44b315,_0xfe9f85,_0x4a05f4,_0x51c4a8,_0x23c0a7);}catch(_0x18ae4a){console[_0xd1b380(0x728)](_0xd1b380(0x4dc),_0x18ae4a),showMessage(_0xd1b380(0x8ac));}}async function updateStudentProfile(_0x3e8180,_0x12af7e){const _0x5ad445=_0x569b7c,_0x4e8655=doc(db,_0x5ad445(0x25b)+appId+'/public/data/projects/'+_0x3e8180+'/studentProfiles',_0x12af7e);try{const _0x56497b=query(collection(db,_0x5ad445(0x25b)+appId+'/public/data/quizzes'),where(_0x5ad445(0xadc),'==',_0x3e8180)),_0x111409=await getDocs(_0x56497b),_0x221f30=new Map(_0x111409[_0x5ad445(0x53c)][_0x5ad445(0xc3d)](_0x277ada=>[_0x277ada['id'],_0x277ada[_0x5ad445(0x7f5)]()])),_0x189976=Array[_0x5ad445(0x95b)](_0x221f30[_0x5ad445(0x65a)]());await runTransaction(db,async _0x3ac096=>{const _0x45fe66=_0x5ad445;let _0x2a8868=0x0;const _0x4d6cb2={};let _0x5666c9=!![],_0x328616=0x0,_0x1acd9c=0x0;for(const _0x27433e of _0x189976){const _0x2ffe1a=_0x221f30[_0x45fe66(0x86a)](_0x27433e),_0x5562f1=doc(db,_0x45fe66(0x25b)+appId+_0x45fe66(0x6f0)+_0x27433e+_0x45fe66(0x1ee),_0x12af7e),_0x32b288=await _0x3ac096[_0x45fe66(0x86a)](_0x5562f1);if(_0x32b288[_0x45fe66(0x6c9)]()){const _0x98244=_0x32b288[_0x45fe66(0x7f5)](),_0x1e5052=_0x98244[_0x45fe66(0xc14)]||[];if(_0x1e5052['length']>0x0){const _0x1f4533=_0x1e5052[_0x45fe66(0x5c5)]((_0x2b7d99,_0x457395)=>{const _0x73bf3a=_0x45fe66;if(_0x457395[_0x73bf3a(0x9f4)]>_0x2b7d99['score'])return _0x457395;if(_0x457395[_0x73bf3a(0x9f4)]===_0x2b7d99[_0x73bf3a(0x9f4)])return(_0x457395[_0x73bf3a(0x46f)]||0x0)>(_0x2b7d99[_0x73bf3a(0x46f)]||0x0)?_0x457395:_0x2b7d99;return _0x2b7d99;},{'score':-0x1,'points':-0x1});_0x1f4533[_0x45fe66(0x9f4)]>-0x1&&(_0x2a8868+=_0x1f4533['points']||0x0,(_0x1f4533['badges']||[])[_0x45fe66(0xb32)](_0xc8ef0a=>{_0x4d6cb2[_0xc8ef0a]=(_0x4d6cb2[_0xc8ef0a]||0x0)+0x1;}));}}if(_0x2ffe1a[_0x45fe66(0xaf8)]!=='แบบทดสอบซ่อมเสริม'){_0x1acd9c++;if(_0x32b288[_0x45fe66(0x6c9)]()){_0x328616++;const _0x2b889d=_0x32b288[_0x45fe66(0x7f5)]();_0x2b889d[_0x45fe66(0x7c9)]!==_0x2b889d[_0x45fe66(0x7cc)]&&(_0x5666c9=![]);}else _0x5666c9=![];}}_0x1acd9c>0x0&&_0x328616===_0x1acd9c&&_0x5666c9?_0x4d6cb2[_0x45fe66(0x705)]=0x1:_0x4d6cb2[_0x45fe66(0x705)]=0x0,_0x3ac096[_0x45fe66(0xa6b)](_0x4e8655,{'studentName':_0x12af7e,'totalPoints':_0x2a8868,'unlockedBadges':Object[_0x45fe66(0x65a)](_0x4d6cb2)[_0x45fe66(0x959)](_0x4a13b0=>_0x4d6cb2[_0x4a13b0]>0x0),'badgesCount':_0x4d6cb2},{'merge':!![]});});}catch(_0x8a73ce){console[_0x5ad445(0x728)](_0x5ad445(0xbf6),_0x8a73ce),showMessage(_0x5ad445(0x85b));}}function startAdminTest(){const _0x14d56b=_0x569b7c;if(!currentQuizData){showMessage(_0x14d56b(0xa48));return;}let _0x447619=JSON[_0x14d56b(0x608)](JSON['stringify'](currentQuizData));currentMode=_0x14d56b(0x901),currentStudentName=_0x14d56b(0x421),adminView['classList'][_0x14d56b(0x46b)](_0x14d56b(0xb23)),studentView['classList']['remove'](_0x14d56b(0xb23)),studentInitialView[_0x14d56b(0x396)]['add'](_0x14d56b(0xb23)),studentNameSelectionView[_0x14d56b(0x396)][_0x14d56b(0x46b)](_0x14d56b(0xb23)),studentResultArea[_0x14d56b(0x396)][_0x14d56b(0x46b)](_0x14d56b(0xb23)),studentQuizArea[_0x14d56b(0x396)][_0x14d56b(0x76f)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0x447619);}function handleResultDisplay(_0x41fa16,_0xf2e93e,_0x4edebb,_0x134c3b,_0x18ca7d,_0x52fa94){const _0x26aead=_0x569b7c;if(_0x41fa16===_0x26aead(0x573)){displaySubmissionConfirmation();return;}const _0x26a48c=currentDisplayedQuiz[_0x26aead(0x3ee)]?.[_0x26aead(0x960)]??Math[_0x26aead(0xc71)](_0x52fa94/0x2),_0x44fa1e=currentDisplayedQuiz[_0x26aead(0x3ee)]?.[_0x26aead(0xb3b)]??![],_0x503878=currentDisplayedQuiz[_0x26aead(0x3ee)]?.[_0x26aead(0x9e5)]===!![],_0x1d7506=_0xf2e93e<_0x26a48c,_0x496dc0=_0x41fa16===_0x26aead(0x49c)||_0x41fa16===_0x26aead(0x6e3);if(_0x503878&&_0x1d7506&&!_0x496dc0){_0x41fa16===_0x26aead(0xcf7)?displayResultsWithAnswers(_0xf2e93e,_0x4edebb,_0x134c3b,_0x18ca7d,_0x52fa94,!![]):displayLoopScreen(_0xf2e93e,_0x52fa94,_0x41fa16);return;}if(_0x44fa1e&&_0x1d7506){startAdaptiveFlow(_0x18ca7d,_0xf2e93e,_0x52fa94);return;}switch(_0x41fa16){case _0x26aead(0xcf7):displayResultsWithAnswers(_0xf2e93e,_0x4edebb,_0x134c3b,_0x18ca7d,_0x52fa94);break;case _0x26aead(0x5e2):displayResultsScoreOnly(_0xf2e93e,_0x4edebb,_0x134c3b,_0x52fa94);break;case _0x26aead(0x385):displayPassFailOnly(_0xf2e93e,_0x52fa94);break;case _0x26aead(0x49c):displayHalfMarkResult(_0xf2e93e,_0x52fa94);break;case _0x26aead(0x6e3):displayPerfectScoreResult(_0xf2e93e,_0x52fa94);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x46a25f){const _0x1a434b=_0x569b7c;studentReadingArea[_0x1a434b(0xa5b)]=_0x1a434b(0x89d);const _0x475bbe=_0x1a434b(0x388)+_0x46a25f+_0x1a434b(0x419)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x495712={'type':_0x1a434b(0xbcd),'properties':{'questionText':{'type':_0x1a434b(0xb67)},'options':{'type':_0x1a434b(0x7c4),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1a434b(0x911)},'explanation':{'type':_0x1a434b(0xb67)}},'required':[_0x1a434b(0x332),'options',_0x1a434b(0x481),'explanation']},_0x2e58b8={'type':_0x1a434b(0xbcd),'properties':{'topic':{'type':_0x1a434b(0xb67)},'questions':{'type':'ARRAY','items':_0x495712}},'required':[_0x1a434b(0xaf8),_0x1a434b(0x981)]};try{const _0xfca05f=await callAnalysisApi(_0x475bbe,_0x2e58b8);_0xfca05f[_0x1a434b(0x736)]=!![],studentReadingArea[_0x1a434b(0x396)][_0x1a434b(0x46b)]('hidden');const _0x24834f={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x1a434b(0xcf7)};_0xfca05f[_0x1a434b(0x3ee)]=_0x24834f,displayQuizForStudent(_0xfca05f);}catch(_0x5273b){console['error'](_0x1a434b(0x907),_0x5273b),showMessage(_0x1a434b(0x83e)),showView(_0x1a434b(0xa9a));}}function displayPassFailOnly(_0x3407b9,_0x18d4ef){const _0x4255be=_0x569b7c,_0x5394c2=currentDisplayedQuiz['settings']?.[_0x4255be(0x960)]??-0x1,_0x4b957a=currentDisplayedQuiz[_0x4255be(0x736)]===!![];let _0xa02d2d='',_0x22dc7f=![];if(_0x4b957a||_0x5394c2!==-0x1){_0x22dc7f=_0x4b957a?_0x3407b9===_0x18d4ef:_0x3407b9>=_0x5394c2;const _0x4cc162=_0x22dc7f?_0x4255be(0x1cc):_0x4255be(0xd27),_0x273485=_0x22dc7f?_0x4255be(0x636):_0x4255be(0xb00);_0xa02d2d=_0x4255be(0xb8b)+_0x4cc162+'\x22>'+_0x273485+'</span></div>';}else _0xa02d2d=_0x4255be(0x699);let _0xb606e3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x4255be(0x35f)+_0xa02d2d+_0x4255be(0xc74);studentResultArea['innerHTML']=_0xb606e3,studentResultArea[_0x4255be(0x396)][_0x4255be(0x76f)](_0x4255be(0xb23)),studentQuizArea[_0x4255be(0x396)][_0x4255be(0x46b)](_0x4255be(0xb23)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x22dc7f});}function cancelAdminTest(){const _0x335767=_0x569b7c;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x335767(0xd44)]('fullscreenchange',handleFullscreenChange),document['removeEventListener'](_0x335767(0xa99),handleVisibilityChange),currentMode='admin',studentView[_0x335767(0x396)][_0x335767(0x46b)]('hidden'),adminView[_0x335767(0x396)]['remove'](_0x335767(0xb23)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x335767(0x969));}function setupResultScreenBackButton(_0x446c37){const _0x3a8051=_0x569b7c,_0x3a50ae={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x446c37};if(_0x3a50ae[_0x3a8051(0x8a6)]){const _0x466e13=_0x3a8051(0x56c);studentResultArea[_0x3a8051(0xad1)](_0x3a8051(0x265),_0x466e13),document[_0x3a8051(0xca0)](_0x3a8051(0x5c2))[_0x3a8051(0x79b)]('click',()=>{const _0x297e30=_0x3a8051;studentResultArea[_0x297e30(0x396)][_0x297e30(0x46b)](_0x297e30(0xb23)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x2801f9='back-from-results-btn',_0x277dc6=currentMode==='admin-testing',_0x280ccf=_0x277dc6?_0x3a8051(0xaf9):_0x3a8051(0x1f2);let _0x1fba71='';_0x3a50ae[_0x3a8051(0x4c6)]&&(_0x1fba71+=_0x3a8051(0x4ec));let _0x29aa19=_0x3a50ae[_0x3a8051(0x5aa)];_0x29aa19===undefined&&(_0x29aa19=_0x3a50ae['score']<_0x3a50ae[_0x3a8051(0x7cc)]);_0x29aa19&&(_0x1fba71+=_0x3a8051(0x6c5));_0x1fba71+=_0x3a8051(0x342)+_0x2801f9+_0x3a8051(0xa0b)+_0x280ccf+_0x3a8051(0xb1f);const _0x2ba7f3=_0x3a8051(0x36b)+_0x1fba71+_0x3a8051(0x3f0);studentResultArea[_0x3a8051(0xad1)](_0x3a8051(0x265),_0x2ba7f3),studentResultArea[_0x3a8051(0xb90)]('#view-rankings-btn')?.[_0x3a8051(0x79b)](_0x3a8051(0xd52),handleShowStudentRankings);const _0x4c7c06=studentResultArea[_0x3a8051(0xb90)]('#retake-for-improvement-btn');_0x4c7c06&&_0x4c7c06[_0x3a8051(0x79b)](_0x3a8051(0xd52),()=>{const _0x548f1b=_0x3a8051;studentResultArea[_0x548f1b(0x396)][_0x548f1b(0x46b)](_0x548f1b(0xb23)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x3a8051(0xca0)](_0x2801f9)[_0x3a8051(0x79b)](_0x3a8051(0xd52),()=>{const _0x4c41be=_0x3a8051;_0x277dc6?(currentMode=_0x4c41be(0x42a),studentView['classList'][_0x4c41be(0x46b)]('hidden'),adminView[_0x4c41be(0x396)]['remove']('hidden'),showView(_0x4c41be(0x969))):(showView(_0x4c41be(0xa9a)),document[_0x4c41be(0xca0)](_0x4c41be(0x23e))[_0x4c41be(0xb85)]='');});}function displayResultsWithAnswers(_0x591334,_0x104bcb,_0x525697,_0xcff9f2,_0x28efaf,_0x5eccf7=![]){const _0x7f72de=_0x569b7c,_0x31de3a=_0x28efaf>0x0?_0x591334/_0x28efaf*0x64:0x0,_0x2f0328=currentDisplayedQuiz[_0x7f72de(0x3ee)]?.[_0x7f72de(0x960)]??-0x1,_0x2586ce=currentDisplayedQuiz[_0x7f72de(0x736)]===!![];let _0x416a0f='';if(_0x2586ce||_0x2f0328!==-0x1){let _0x5da294=_0x2586ce?_0x591334===_0x28efaf:_0x591334>=_0x2f0328;const _0x56f281=_0x5da294?_0x7f72de(0x1cc):_0x7f72de(0xd27),_0x18a6de=_0x5da294?_0x7f72de(0x636):_0x7f72de(0xb00);_0x416a0f=_0x7f72de(0x4fb)+_0x56f281+'\x22>'+_0x18a6de+'</p>';}let _0x48b332=_0x7f72de(0x7cf)+currentStudentName+_0x7f72de(0x8a4)+_0x591334+_0x7f72de(0x23a)+_0x28efaf+_0x7f72de(0xc43)+_0x416a0f+_0x7f72de(0x7f1)+_0x104bcb+_0x7f72de(0xaa7)+_0x31de3a['toFixed'](0x0)+_0x7f72de(0x783);currentDisplayedQuiz[_0x7f72de(0x981)][_0x7f72de(0xb32)]((_0x31766b,_0x1aac20)=>{const _0x8a62c9=_0x7f72de,_0x57686a=_0xcff9f2[_0x1aac20],_0x3c7f23=_0x57686a[_0x8a62c9(0xc52)],_0x1defd6=_0x57686a[_0x8a62c9(0x280)],_0x2e9d45=_0x31766b[_0x8a62c9(0x879)]||currentDisplayedQuiz[_0x8a62c9(0x5c7)];_0x48b332+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x1defd6?_0x8a62c9(0xc75):'border-red-300\x20bg-red-50')+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x1aac20+0x1)+'.\x20'+(_0x31766b['stem']||_0x31766b['questionText'])+_0x8a62c9(0x85f);switch(_0x2e9d45){case _0x8a62c9(0x489):const _0xea1adf=_0x3c7f23||_0x8a62c9(0xd3e),_0x1680d0=_0x31766b[_0x8a62c9(0x863)];_0x48b332+=_0x8a62c9(0xb14)+(!_0x1defd6?_0x8a62c9(0x626):'')+'\x22>'+_0xea1adf+'</span></p>';!_0x1defd6&&(_0x48b332+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x1680d0+_0x8a62c9(0xb3a));break;case'short_answer':_0x48b332+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x3c7f23||_0x8a62c9(0xd3e))+'</p>',_0x48b332+=_0x8a62c9(0x7bb)+_0x31766b[_0x8a62c9(0x8ca)]+'</p>';break;case _0x8a62c9(0xa08):_0x48b332+=_0x8a62c9(0xb15)+(_0x31766b[_0x8a62c9(0x69f)]===!![]?_0x8a62c9(0xc84):'')+'\x20'+(_0x3c7f23===_0x8a62c9(0x6c7)&&!_0x1defd6?'line-through\x20text-red-700':'')+_0x8a62c9(0x665),_0x48b332+=_0x8a62c9(0xb15)+(_0x31766b[_0x8a62c9(0x69f)]===![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x3c7f23===_0x8a62c9(0xc1c)&&!_0x1defd6?_0x8a62c9(0x626):'')+_0x8a62c9(0x73e);break;default:_0x48b332+=_0x31766b[_0x8a62c9(0xb7c)][_0x8a62c9(0xc3d)]((_0x1f7514,_0xea4f39)=>{const _0x1ea6c4=_0x8a62c9;let _0xcd433='',_0x155783='';if(_0xea4f39===_0x31766b['correctAnswerIndex'])_0xcd433=_0x1ea6c4(0xc84),_0x155783='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0xea4f39===_0x3c7f23&&(_0xcd433=_0x1ea6c4(0xa38),_0x155783=_0x1ea6c4(0x676));return _0x1ea6c4(0x354)+_0xcd433+'\x22>'+_0x155783+_0x1f7514+_0x1ea6c4(0x3f0);})[_0x8a62c9(0xcbb)]('');break;}_0x48b332+=_0x8a62c9(0x881)+(_0x31766b[_0x8a62c9(0x420)]||_0x8a62c9(0x5de))+_0x8a62c9(0x3f0);if(!_0x1defd6){const _0x976291=_0x31766b['stem']||_0x31766b[_0x8a62c9(0x332)];_0x48b332+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0x976291)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x48b332+=_0x8a62c9(0x3f0);}),studentResultArea['innerHTML']=_0x48b332,renderEarnedBadges(_0x525697,_0x7f72de(0x2f7)),studentResultArea[_0x7f72de(0x396)]['remove'](_0x7f72de(0xb23)),studentQuizArea[_0x7f72de(0x396)][_0x7f72de(0x46b)]('hidden'),setupResultScreenBackButton({'isLooping':_0x5eccf7,'score':_0x591334,'totalQuestions':_0x28efaf,'showRankings':!![]});if(window[_0x7f72de(0x858)])window['MathJax'][_0x7f72de(0x5cc)]([studentResultArea]);}function displayResultsScoreOnly(_0x1ed492,_0x30c172,_0x1bcb8b,_0xd69ca2){const _0x45bda6=_0x569b7c,_0x151bc0=_0xd69ca2>0x0?_0x1ed492/_0xd69ca2*0x64:0x0,_0xc47e26=currentDisplayedQuiz[_0x45bda6(0x3ee)]?.[_0x45bda6(0x960)]??-0x1,_0x44c5b8=currentDisplayedQuiz[_0x45bda6(0x736)]===!![];let _0x35d19c='';if(_0x44c5b8||_0xc47e26!==-0x1){let _0x3b3461=_0x44c5b8?_0x1ed492===_0xd69ca2:_0x1ed492>=_0xc47e26;const _0x4328a6=_0x3b3461?'bg-green-100\x20text-green-800':_0x45bda6(0xd27),_0x50be83=_0x3b3461?_0x45bda6(0x636):'ไม่ผ่าน';_0x35d19c=_0x45bda6(0x4fb)+_0x4328a6+'\x22>'+_0x50be83+'</p>';}let _0x4af920='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x45bda6(0x596)+_0x1ed492+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0xd69ca2+_0x45bda6(0xc43)+_0x35d19c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x30c172+_0x45bda6(0x88d)+_0x151bc0['toFixed'](0x0)+_0x45bda6(0x978);studentResultArea[_0x45bda6(0xa5b)]=_0x4af920,renderEarnedBadges(_0x1bcb8b,_0x45bda6(0x2f7)),studentResultArea[_0x45bda6(0x396)][_0x45bda6(0x76f)]('hidden'),studentQuizArea[_0x45bda6(0x396)][_0x45bda6(0x46b)](_0x45bda6(0xb23)),setupResultScreenBackButton({'score':_0x1ed492,'totalQuestions':_0xd69ca2,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x3989d7=_0x569b7c;let _0x4ebd9c=_0x3989d7(0x9f3)+currentStudentName+_0x3989d7(0x541);studentResultArea[_0x3989d7(0xa5b)]=_0x4ebd9c,studentResultArea[_0x3989d7(0x396)]['remove'](_0x3989d7(0xb23)),studentQuizArea[_0x3989d7(0x396)][_0x3989d7(0x46b)](_0x3989d7(0xb23)),document[_0x3989d7(0xca0)](_0x3989d7(0x837))[_0x3989d7(0x79b)](_0x3989d7(0xd52),()=>{const _0x28083b=_0x3989d7;showView(_0x28083b(0xa9a)),document['getElementById'](_0x28083b(0x23e))[_0x28083b(0xb85)]='';});}function renderEarnedBadges(_0x299974,_0x592bca){const _0x1603d1=_0x569b7c,_0x1ddee1=document[_0x1603d1(0xca0)](_0x592bca);if(!_0x1ddee1||!_0x299974||_0x299974['length']===0x0)return;let _0x426611='';_0x299974[_0x1603d1(0xb32)]((_0x327d24,_0x428d0b)=>{const _0x285c51=_0x1603d1,_0x5d0726=Object[_0x285c51(0x224)](BADGES)['find'](_0x42d82e=>_0x42d82e['id']===_0x327d24);_0x5d0726&&(_0x426611+=_0x285c51(0xcf0)+_0x428d0b*0.2+_0x285c51(0x4ef)+_0x5d0726[_0x285c51(0x4df)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x5d0726[_0x285c51(0xa68)]+_0x285c51(0xa47)+_0x5d0726[_0x285c51(0x5bd)]+_0x285c51(0x8b3));}),_0x1ddee1[_0x1603d1(0xa5b)]=_0x426611;}function startPresentation(_0x1466de){const _0x8cb96d=_0x569b7c;currentQuizData=getShuffledQuiz(_0x1466de),currentPresentationSlide=0x0,presentationModal[_0x8cb96d(0x7fc)]['display']=_0x8cb96d(0x7d2),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x1320b6=_0x569b7c;document[_0x1320b6(0x693)]&&document['exitFullscreen'](),presentationModal[_0x1320b6(0x7fc)][_0x1320b6(0x71f)]=_0x1320b6(0x9d3);}function renderPresentationSlide(_0x2243c7){const _0x57d257=_0x569b7c,_0x2b4e76=document['getElementById'](_0x57d257(0x6d5));if(!currentQuizData||!currentQuizData[_0x57d257(0x981)]||!currentQuizData[_0x57d257(0x981)][_0x2243c7]){_0x2b4e76[_0x57d257(0xa5b)]=_0x57d257(0x427);return;}const _0xc87bfb=currentQuizData[_0x57d257(0x981)][_0x2243c7],_0x33754b=_0xc87bfb[_0x57d257(0x879)]||currentQuizData['quizType'];_0x2b4e76['innerHTML']='';let _0x5ee853=_0x57d257(0x9ab)+(_0xc87bfb[_0x57d257(0x456)]?_0x57d257(0x3ff)+_0xc87bfb[_0x57d257(0x456)]+_0x57d257(0x3f0):'')+_0x57d257(0x816)+(_0x2243c7+0x1)+'.\x20'+(_0xc87bfb[_0x57d257(0x73f)]||_0xc87bfb[_0x57d257(0x332)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x33754b){case _0x57d257(0x489):_0x5ee853+=_0xc87bfb[_0x57d257(0x1db)][_0x57d257(0xc3d)](_0x23449d=>_0x57d257(0xc62)+_0x23449d+_0x57d257(0x90c))[_0x57d257(0xcbb)]('');break;case _0x57d257(0xa08):_0x5ee853+=_0x57d257(0x789),_0x5ee853+=_0x57d257(0xce2);break;case _0x57d257(0xcf8):case _0x57d257(0x934):_0x5ee853+=_0x57d257(0x523);break;case _0x57d257(0x9be):case _0x57d257(0x27b):default:_0x5ee853+=_0xc87bfb[_0x57d257(0xb7c)]['map']((_0x264b23,_0xa2038e)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0xa2038e+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x264b23+_0x57d257(0x90c))[_0x57d257(0xcbb)]('');break;}_0x5ee853+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0xc87bfb['explanation']||_0x57d257(0x5de))+_0x57d257(0x899),_0x2b4e76[_0x57d257(0xa5b)]=_0x5ee853;if(window['MathJax'])window[_0x57d257(0x858)][_0x57d257(0x5cc)]([_0x2b4e76]);let _0x359623=[];switch(_0x33754b){case _0x57d257(0x489):_0x359623=_0xc87bfb[_0x57d257(0x1db)]||[];break;case _0x57d257(0xa08):_0x359623=[_0x57d257(0x7f7),_0x57d257(0x82e)];break;default:_0x359623=_0xc87bfb['options']||[];break;}const _0x53a5c4=document[_0x57d257(0xca0)](_0x57d257(0xab0));_0x53a5c4&&(_0x53a5c4[_0x57d257(0xbe8)]=()=>{openScratchpad(_0xc87bfb,_0x359623);});document['querySelectorAll'](_0x57d257(0xa87))[_0x57d257(0xb32)](_0x5bae7e=>{const _0x4fee29=_0x57d257;_0x5bae7e[_0x4fee29(0x79b)](_0x4fee29(0xd52),_0x53a7a4=>revealAnswerForPresentation(_0x2243c7,_0x53a7a4['currentTarget']));});const _0x33b82a=document[_0x57d257(0xca0)]('check-presentation-answer-btn');_0x33b82a&&_0x33b82a[_0x57d257(0x79b)](_0x57d257(0xd52),()=>checkShortAnswerForPresentation(_0x2243c7)),document[_0x57d257(0xca0)](_0x57d257(0xafa))[_0x57d257(0x8a5)]=_0x57d257(0xc35)+(_0x2243c7+0x1)+_0x57d257(0xb05)+currentQuizData[_0x57d257(0x981)][_0x57d257(0xcda)],document[_0x57d257(0xca0)]('prev-question-btn')[_0x57d257(0x7b4)]=_0x2243c7===0x0,document['getElementById'](_0x57d257(0x948))[_0x57d257(0x7b4)]=_0x2243c7===currentQuizData['questions'][_0x57d257(0xcda)]-0x1;}async function checkShortAnswerForPresentation(_0x5181b3){const _0x439be0=_0x569b7c,_0x57ce54=currentQuizData[_0x439be0(0x981)][_0x5181b3],_0x538ba5=document[_0x439be0(0xca0)](_0x439be0(0x850)),_0x19e4a7=document['getElementById'](_0x439be0(0xb60)),_0x3c6390=document[_0x439be0(0xca0)]('presentation-ai-result'),_0x49ab9c=document[_0x439be0(0xca0)](_0x439be0(0x996));if(!_0x538ba5||!_0x19e4a7||!_0x3c6390||!_0x49ab9c)return;const _0x4d291d=_0x538ba5['value'][_0x439be0(0xc9e)]();if(_0x4d291d==='')return;_0x19e4a7[_0x439be0(0x7b4)]=!![],_0x19e4a7[_0x439be0(0xa5b)]=_0x439be0(0xa28),_0x538ba5['disabled']=!![];const _0x45ba01=await gradeShortAnswer(_0x4d291d,_0x57ce54);_0x45ba01?_0x3c6390[_0x439be0(0xa5b)]=_0x439be0(0x2e6):_0x3c6390[_0x439be0(0xa5b)]=_0x439be0(0x944)+_0x57ce54[_0x439be0(0x8ca)]+')',_0x3c6390[_0x439be0(0x396)][_0x439be0(0x76f)]('hidden'),_0x49ab9c[_0x439be0(0x396)]['remove'](_0x439be0(0xb23)),_0x19e4a7[_0x439be0(0x396)][_0x439be0(0x46b)]('hidden');}function revealAnswerForPresentation(_0x35a20c,_0x5e7352){const _0x714c91=_0x569b7c,_0x512220=currentQuizData[_0x714c91(0x981)][_0x35a20c],_0x41cd13=_0x512220[_0x714c91(0x879)]||currentQuizData[_0x714c91(0x5c7)];document[_0x714c91(0x31c)](_0x714c91(0xa87))['forEach'](_0x1f1a5a=>{const _0xe9f6ad=_0x714c91;_0x1f1a5a[_0xe9f6ad(0x7b4)]=!![],_0x1f1a5a[_0xe9f6ad(0x396)][_0xe9f6ad(0x76f)](_0xe9f6ad(0x24c));let _0x446c1f=![];if(_0x41cd13===_0xe9f6ad(0x27b)||_0x41cd13===_0xe9f6ad(0x9be)){const _0x5f0aeb=parseInt(_0x1f1a5a[_0xe9f6ad(0x507)][_0xe9f6ad(0xbc5)]);_0x446c1f=_0x5f0aeb===_0x512220['correctAnswerIndex'];}else{if(_0x41cd13===_0xe9f6ad(0xa08)){const _0x51dfb6=_0x1f1a5a[_0xe9f6ad(0x507)][_0xe9f6ad(0xc52)]==='true';_0x446c1f=_0x51dfb6===_0x512220['correctAnswer'];}else _0x41cd13===_0xe9f6ad(0x489)&&(_0x446c1f=_0x1f1a5a[_0xe9f6ad(0x8a5)][_0xe9f6ad(0xc9e)]()===_0x512220[_0xe9f6ad(0x863)]);}_0x446c1f?_0x1f1a5a[_0xe9f6ad(0x396)]['add']('bg-green-500',_0xe9f6ad(0x554),'border-green-700'):_0x1f1a5a['classList'][_0xe9f6ad(0x46b)](_0xe9f6ad(0xbbc));}),_0x5e7352[_0x714c91(0x396)][_0x714c91(0x76f)](_0x714c91(0xbbc));let _0x28fd2a=![];if(_0x41cd13===_0x714c91(0x27b))_0x28fd2a=parseInt(_0x5e7352[_0x714c91(0x507)][_0x714c91(0xbc5)])===_0x512220[_0x714c91(0x481)];else{if(_0x41cd13===_0x714c91(0xa08))_0x28fd2a=_0x5e7352[_0x714c91(0x507)][_0x714c91(0xc52)]===_0x714c91(0x6c7)===_0x512220[_0x714c91(0x69f)];else _0x41cd13===_0x714c91(0x489)&&(_0x28fd2a=_0x5e7352[_0x714c91(0x8a5)][_0x714c91(0xc9e)]()===_0x512220[_0x714c91(0x863)]);}!_0x28fd2a&&_0x5e7352[_0x714c91(0x396)]['add'](_0x714c91(0xcaa),_0x714c91(0x554),_0x714c91(0x4cc)),document[_0x714c91(0xca0)]('presentation-explanation')[_0x714c91(0x396)]['remove']('hidden');}function startWholeQuizTimer(_0x90c3ed){const _0x58b9ba=_0x569b7c,_0x5a65cc=document[_0x58b9ba(0xca0)](_0x58b9ba(0x761));if(!_0x5a65cc)return;const _0x1840d0=Date[_0x58b9ba(0x721)]()+_0x90c3ed*0x3c*0x3e8;_0x5a65cc[_0x58b9ba(0xa5b)]=_0x58b9ba(0xcc8);const _0x59d1cf=document[_0x58b9ba(0xca0)](_0x58b9ba(0xb8c));quizTimerInterval=setInterval(()=>{const _0x58b9f3=_0x58b9ba,_0x4da3a9=_0x1840d0-Date[_0x58b9f3(0x721)]();if(_0x4da3a9<=0x0)clearInterval(quizTimerInterval),_0x59d1cf['textContent']=_0x58b9f3(0x5e3),showMessage(_0x58b9f3(0x273)),handleSubmitQuiz(null);else{const _0x519c04=Math[_0x58b9f3(0xc71)](_0x4da3a9/0x3e8/0x3c%0x3c)[_0x58b9f3(0xae2)]()['padStart'](0x2,'0'),_0x54de9d=Math['floor'](_0x4da3a9/0x3e8%0x3c)['toString']()[_0x58b9f3(0x6d3)](0x2,'0');_0x59d1cf[_0x58b9f3(0x8a5)]=_0x519c04+':'+_0x54de9d;}},0x3e8);}function renderPerQuestionView(){const _0x5596f0=_0x569b7c;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x223d3e=currentDisplayedQuiz[_0x5596f0(0x981)][currentQuestionIndex],_0x100fa1=_0x223d3e[_0x5596f0(0x879)]||currentDisplayedQuiz[_0x5596f0(0x5c7)],_0x143968=currentDisplayedQuiz[_0x5596f0(0x3ee)]?.[_0x5596f0(0x80b)]===!![];let _0x3a8ad0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x5596f0(0x6e5)+currentDisplayedQuiz[_0x5596f0(0x981)][_0x5596f0(0xcda)]+_0x5596f0(0xbf9)+(currentMode===_0x5596f0(0x901)?_0x5596f0(0x1eb):'')+_0x5596f0(0x81d)+currentDisplayedQuiz[_0x5596f0(0xaf8)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0x5596f0(0xa5b)]=_0x3a8ad0;let _0x2af043=_0x223d3e['stem']||_0x223d3e[_0x5596f0(0x332)];_0x223d3e['imageCode']&&(_0x2af043+=_0x5596f0(0x3ff)+_0x223d3e[_0x5596f0(0x456)]+_0x5596f0(0x3f0));let _0x1e246c='';switch(_0x100fa1){case _0x5596f0(0x934):case _0x5596f0(0xcf8):_0x1e246c=_0x5596f0(0x23b);break;case _0x5596f0(0xa08):_0x1e246c=_0x5596f0(0x3f8);break;case'matching_item':_0x1e246c='<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x223d3e[_0x5596f0(0x1db)]||[])['map'](_0x4650d9=>_0x5596f0(0x2df)+_0x4650d9+'\x22>'+_0x4650d9+_0x5596f0(0xaed))[_0x5596f0(0xcbb)]('')+_0x5596f0(0x90b);break;default:_0x223d3e[_0x5596f0(0xb7c)]&&(_0x1e246c=_0x223d3e[_0x5596f0(0xb7c)][_0x5596f0(0xc3d)]((_0x4f994f,_0x5c3f49)=>_0x5596f0(0x57c)+_0x5c3f49+_0x5596f0(0xbda)+_0x5c3f49+_0x5596f0(0x536)+_0x5c3f49+'\x22>'+_0x4f994f+_0x5596f0(0xcca))[_0x5596f0(0xcbb)](''));break;}document[_0x5596f0(0xca0)]('per-question-text')[_0x5596f0(0xa5b)]=_0x2af043,document[_0x5596f0(0xca0)](_0x5596f0(0x9d2))['innerHTML']=_0x1e246c;const _0x539ea6=currentDisplayedQuiz['settings']?.[_0x5596f0(0x80b)]===!![],_0x1a8ed4=currentDisplayedQuiz[_0x5596f0(0x3ee)]?.['confidenceMode']||_0x5596f0(0xa0a);if(_0x539ea6&&_0x1a8ed4===_0x5596f0(0xa0a)){const _0x403b08=_0x5596f0(0x220);studentQuizArea['querySelector'](_0x5596f0(0x1ea))[_0x5596f0(0xad1)](_0x5596f0(0x265),_0x403b08);}studentQuizArea[_0x5596f0(0xad1)](_0x5596f0(0x265),_0x5596f0(0x260)+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x5596f0(0xcda)]-0x1?'ส่งคำตอบ':_0x5596f0(0xb4a))+_0x5596f0(0x8f3));currentMode===_0x5596f0(0x901)&&document[_0x5596f0(0xca0)](_0x5596f0(0xb59))?.[_0x5596f0(0x79b)]('click',cancelAdminTest);document['getElementById'](_0x5596f0(0x709))[_0x5596f0(0x79b)](_0x5596f0(0xd52),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window['MathJax'][_0x5596f0(0x5cc)]([studentQuizArea]);currentDisplayedQuiz[_0x5596f0(0x3ee)]?.['timerMode']===_0x5596f0(0x7c3)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x3352bb=_0x569b7c,_0x2fbd92=currentDisplayedQuiz[_0x3352bb(0x3ee)][_0x3352bb(0x980)],_0x4f31e2=document['getElementById'](_0x3352bb(0x93d));if(!_0x4f31e2)return;let _0x4b40c7=_0x2fbd92;_0x4f31e2['innerHTML']=_0x3352bb(0x680)+_0x4b40c7+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0xb7e3c6=document[_0x3352bb(0xca0)]('timer-bar'),_0x2502d4=document['getElementById'](_0x3352bb(0x7f3));perQuestionTimerInterval=setInterval(()=>{const _0x334afe=_0x3352bb;_0x4b40c7--;const _0x48cfe8=_0x4b40c7/_0x2fbd92*0x64;_0xb7e3c6[_0x334afe(0x7fc)][_0x334afe(0x8d5)]=_0x48cfe8+'%',_0x2502d4[_0x334afe(0x8a5)]=_0x4b40c7,_0x4b40c7<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x334afe(0x22d)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x5853db=![]){const _0x2f3c27=_0x569b7c;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x221376=null,_0x3259c3=![];if(!_0x5853db){const _0x2b06d5=currentDisplayedQuiz[_0x2f3c27(0x981)][currentQuestionIndex],_0x419c7a=_0x2b06d5[_0x2f3c27(0x879)]||currentDisplayedQuiz[_0x2f3c27(0x5c7)];if(_0x419c7a===_0x2f3c27(0x934)||_0x419c7a===_0x2f3c27(0xcf8))_0x221376=document[_0x2f3c27(0xb90)](_0x2f3c27(0x454))?.[_0x2f3c27(0xb85)][_0x2f3c27(0xc9e)]()??'';else{if(_0x419c7a==='matching_item')_0x221376=document[_0x2f3c27(0xb90)](_0x2f3c27(0xaef))?.[_0x2f3c27(0xb85)]??'';else{const _0x278bbb=document[_0x2f3c27(0xb90)](_0x2f3c27(0x531));_0x278bbb&&(_0x221376=_0x278bbb[_0x2f3c27(0xb85)]);}}if(_0x221376===null||_0x221376===''){showMessage(_0x2f3c27(0xb35)),startPerQuestionTimer();return;}const _0xf647b9=currentDisplayedQuiz[_0x2f3c27(0x3ee)]?.[_0x2f3c27(0x80b)]===!![],_0xe1edee=currentDisplayedQuiz[_0x2f3c27(0x3ee)]?.['confidenceMode']||_0x2f3c27(0xa0a);if(_0xf647b9&&_0xe1edee===_0x2f3c27(0xd39)){document['getElementById'](_0x2f3c27(0x1e3))[_0x2f3c27(0x507)]['currentMode']=_0x2f3c27(0x93e),document['getElementById']('selected-answer-index-hidden')['value']=_0x221376,document[_0x2f3c27(0xca0)](_0x2f3c27(0x1e3))[_0x2f3c27(0x396)][_0x2f3c27(0x76f)](_0x2f3c27(0xb23));return;}const _0x49231b=document['getElementById'](_0x2f3c27(0xb9e));_0x49231b&&(_0x3259c3=_0x49231b[_0x2f3c27(0x397)]);}const _0x5f5099={'answer':_0x221376,'wasConfident':_0x3259c3};proceedToNextQuestion(_0x5f5099);}async function finalizePerQuestionQuiz(){const _0x37f986=_0x569b7c,_0x174070=currentDisplayedQuiz['questions'][_0x37f986(0x60d)](_0x4a66cf=>_0x4a66cf['questionType']===_0x37f986(0x934));_0x174070?showMessage(_0x37f986(0x589)):showMessage(_0x37f986(0xb95));const _0x4bf225=currentQuizData['id'],_0x58f3a9=doc(db,'artifacts/'+appId+_0x37f986(0x6f0)+_0x4bf225+_0x37f986(0x1ee),currentStudentName),_0x232667=await getDoc(_0x58f3a9),_0x1f4f88=_0x232667['exists']()?_0x232667[_0x37f986(0x7f5)]():{},_0x30ff37=_0x1f4f88['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x30ff37);}function getResultsFilename(){const _0x16d414=_0x569b7c,_0xce881b=document['getElementById'](_0x16d414(0xc3b))['textContent'][_0x16d414(0xa12)](/[^a-z0-9]/gi,'_')[_0x16d414(0x38f)]();return _0x16d414(0xb55)+(_0xce881b||_0x16d414(0x478));}function exportResultsAsImage(){const _0x2853c4=_0x569b7c,_0x4f70a2=document[_0x2853c4(0xca0)](_0x2853c4(0x496));showMessage(_0x2853c4(0x583)),html2canvas(_0x4f70a2)[_0x2853c4(0x905)](_0x52b66d=>{const _0x3ec324=_0x2853c4,_0x5268c8=document[_0x3ec324(0x827)]('a');_0x5268c8[_0x3ec324(0xb39)]=getResultsFilename()+'.png',_0x5268c8[_0x3ec324(0x66a)]=_0x52b66d[_0x3ec324(0x33c)](_0x3ec324(0x2f6)),_0x5268c8[_0x3ec324(0xd52)](),messageModal[_0x3ec324(0x396)][_0x3ec324(0x46b)]('hidden');});}function exportResultsAsPDF(){const _0xd9cbfe=_0x569b7c,{jsPDF:_0x46de89}=window[_0xd9cbfe(0x8c2)],_0x1d73fd=new _0x46de89();_0x1d73fd[_0xd9cbfe(0xacd)](_0xd9cbfe(0xa01),_0xd9cbfe(0xa92)),_0x1d73fd['autoTable']({'html':'#results-table'}),_0x1d73fd['save'](getResultsFilename()+_0xd9cbfe(0x922));}function exportResultsAsWord(){const _0x1d5521=_0x569b7c,_0x5e44ce=_0x1d5521(0x51e)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x54ead5='</body></html>',_0x30d51c=_0x5e44ce+document['getElementById'](_0x1d5521(0x496))['innerHTML']+_0x54ead5,_0x26ba45=_0x1d5521(0xa8a)+encodeURIComponent(_0x30d51c),_0x402ce0=document[_0x1d5521(0x827)]('a');document[_0x1d5521(0x937)]['appendChild'](_0x402ce0),_0x402ce0['href']=_0x26ba45,_0x402ce0[_0x1d5521(0xb39)]=getResultsFilename()+_0x1d5521(0xa59),_0x402ce0['click'](),document['body'][_0x1d5521(0x9e9)](_0x402ce0);}function exportResultsAsExcel(){const _0x4e32f1=_0x569b7c,_0x5774e8=document['getElementById'](_0x4e32f1(0xca3));let _0x14f355=[];for(let _0x243259=0x0;_0x243259<_0x5774e8[_0x4e32f1(0x274)][_0x4e32f1(0xcda)];_0x243259++){let _0x121aee=[],_0xa42f03=_0x5774e8[_0x4e32f1(0x274)][_0x243259][_0x4e32f1(0x31c)](_0x4e32f1(0x2e5));for(let _0x52d954=0x0;_0x52d954<_0xa42f03[_0x4e32f1(0xcda)];_0x52d954++){_0x121aee[_0x4e32f1(0xae7)]('\x22'+_0xa42f03[_0x52d954][_0x4e32f1(0xc07)][_0x4e32f1(0xa12)](/"/g,'\x22\x22')+'\x22');}_0x14f355[_0x4e32f1(0xae7)](_0x121aee['join'](','));}const _0x3f86cb=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x14f355[_0x4e32f1(0xcbb)]('\x0a')],{'type':_0x4e32f1(0x63d)}),_0x1fc5d3=document[_0x4e32f1(0x827)]('a');_0x1fc5d3[_0x4e32f1(0x66a)]=URL[_0x4e32f1(0xc89)](_0x3f86cb),_0x1fc5d3['download']=getResultsFilename()+_0x4e32f1(0x94c),_0x1fc5d3[_0x4e32f1(0xd52)]();}function exportTableAsImage(_0x2f733e,_0x306f1e){const _0x32055c=_0x569b7c,_0x5f1c9d=document[_0x32055c(0xca0)](_0x2f733e);if(!_0x5f1c9d){showMessage(_0x32055c(0x25d));return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x5f1c9d)[_0x32055c(0x905)](_0x1dd04e=>{const _0x34f42a=_0x32055c,_0x2d372d=document[_0x34f42a(0x827)]('a');_0x2d372d[_0x34f42a(0xb39)]=_0x306f1e+'.png',_0x2d372d['href']=_0x1dd04e[_0x34f42a(0x33c)](_0x34f42a(0x2f6)),_0x2d372d[_0x34f42a(0xd52)](),messageModal[_0x34f42a(0x396)][_0x34f42a(0x46b)](_0x34f42a(0xb23));});}function exportTableAsPDF(_0x5e1185,_0xe8cd46){const _0x4b5717=_0x569b7c,{jsPDF:_0x4d8f4e}=window['jspdf'],_0x81e12=new _0x4d8f4e();_0x81e12[_0x4b5717(0xacd)](_0x4b5717(0xa01),_0x4b5717(0xa92)),_0x81e12[_0x4b5717(0x904)]({'html':'#'+_0x5e1185}),_0x81e12[_0x4b5717(0x9f6)](_0xe8cd46+_0x4b5717(0x922));}function exportTableAsWord(_0x1f1f56,_0x3a0155){const _0x425b19=_0x569b7c,_0x4f3369=document[_0x425b19(0xca0)](_0x1f1f56);if(!_0x4f3369){showMessage(_0x425b19(0x25d));return;}const _0x16557e=_0x425b19(0x51e)+_0x425b19(0x49d)+_0x425b19(0x439)+_0x425b19(0x3ef),_0x295069=_0x425b19(0x42e),_0x239f8c=_0x16557e+_0x4f3369[_0x425b19(0xa5b)]+_0x295069,_0x3b5c24=_0x425b19(0xa8a)+encodeURIComponent(_0x239f8c),_0x26c4c=document[_0x425b19(0x827)]('a');document[_0x425b19(0x937)]['appendChild'](_0x26c4c),_0x26c4c[_0x425b19(0x66a)]=_0x3b5c24,_0x26c4c[_0x425b19(0xb39)]=_0x3a0155+_0x425b19(0xa59),_0x26c4c[_0x425b19(0xd52)](),document[_0x425b19(0x937)][_0x425b19(0x9e9)](_0x26c4c);}function exportTableAsExcel(_0x2e0d5d,_0x305d60){const _0x185016=_0x569b7c,_0x1e4431=document[_0x185016(0xca0)](_0x2e0d5d);if(!_0x1e4431){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x18ad15=[];for(let _0x315eb6=0x0;_0x315eb6<_0x1e4431[_0x185016(0x274)][_0x185016(0xcda)];_0x315eb6++){let _0x498fb7=[],_0x2656d8=_0x1e4431[_0x185016(0x274)][_0x315eb6][_0x185016(0x31c)]('td,\x20th');for(let _0xd92718=0x0;_0xd92718<_0x2656d8['length'];_0xd92718++){_0x498fb7[_0x185016(0xae7)]('\x22'+_0x2656d8[_0xd92718][_0x185016(0xc07)][_0x185016(0xa12)](/"/g,'\x22\x22')+'\x22');}_0x18ad15[_0x185016(0xae7)](_0x498fb7[_0x185016(0xcbb)](','));}const _0x59f8ff=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x18ad15[_0x185016(0xcbb)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x2647b3=document[_0x185016(0x827)]('a');_0x2647b3[_0x185016(0x66a)]=URL[_0x185016(0xc89)](_0x59f8ff),_0x2647b3[_0x185016(0xb39)]=_0x305d60+_0x185016(0x94c),_0x2647b3['click']();}function renderAnalytics(_0x31bebd,_0x3452c9){const _0x30266f=_0x569b7c,_0x589ade=_0x3452c9['filter'](_0x34953e=>_0x34953e[_0x30266f(0x477)]!==undefined),_0x28c7c9=currentProjectData[_0x30266f(0x9bf)]['length'],_0x5aed92=_0x589ade['length'],_0x1354ec=_0x28c7c9-_0x5aed92,_0x43b9d1=_0x28c7c9>0x0?_0x5aed92/_0x28c7c9*0x64:0x0,_0x5a51e7=_0x589ade['map'](_0x30feb9=>_0x30feb9[_0x30266f(0x477)]),_0x1ee98e=_0x5a51e7['length']>0x0?_0x5a51e7[_0x30266f(0x5c5)]((_0x48cb09,_0x273665)=>_0x48cb09+_0x273665,0x0)/_0x5a51e7[_0x30266f(0xcda)]:0x0,_0x19be68=_0x31bebd[_0x30266f(0x981)][_0x30266f(0xcda)],_0x5a2ba7=_0x19be68>0x0?_0x1ee98e/_0x19be68*0x64:0x0,_0x5cf4cb=calculateItemAnalysis(_0x31bebd,_0x589ade),_0x463eea=calculateReliabilityKR20(_0x31bebd,_0x589ade,_0x5cf4cb[_0x30266f(0x5a4)]);let _0x1ae044='';if(_0x463eea!==null){let _0x491fbd='';if(_0x463eea>=0.9)_0x491fbd=_0x30266f(0x931);else{if(_0x463eea>=0.8)_0x491fbd=_0x30266f(0x8a9);else{if(_0x463eea>=0.7)_0x491fbd='ดี';else{if(_0x463eea>=0.6)_0x491fbd=_0x30266f(0x8ae);else _0x491fbd=_0x30266f(0x53e);}}}_0x1ae044=_0x30266f(0x308)+_0x463eea['toFixed'](0x2)+_0x30266f(0xcac)+_0x491fbd+_0x30266f(0x7b5);}const _0x549bb8=document[_0x30266f(0xca0)]('analytics-summary-cards');_0x549bb8[_0x30266f(0xa5b)]=_0x30266f(0x602)+_0x43b9d1[_0x30266f(0x551)](0x0)+_0x30266f(0x950)+_0x5aed92+'/'+_0x28c7c9+_0x30266f(0x484)+_0x1ee98e[_0x30266f(0x551)](0x2)+_0x30266f(0xa1f)+_0x5a2ba7[_0x30266f(0x551)](0x0)+_0x30266f(0x8f4)+(_0x5a51e7[_0x30266f(0xcda)]>0x0?Math[_0x30266f(0x557)](..._0x5a51e7):_0x30266f(0xbac))+_0x30266f(0x6f9)+(_0x5a51e7[_0x30266f(0xcda)]>0x0?Math['min'](..._0x5a51e7):_0x30266f(0xbac))+_0x30266f(0x836)+_0x1ae044+'\x0a\x20\x20\x20\x20';const _0x269cef=document[_0x30266f(0xca0)](_0x30266f(0x6ef));_0x269cef&&_0x269cef[_0x30266f(0x76f)]();const _0x13330d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x549bb8[_0x30266f(0xad1)](_0x30266f(0x44f),_0x13330d);const _0x11dbc6=currentProjectData[_0x30266f(0x9bf)]||[];renderSubmissionChart(_0x5aed92,_0x1354ec,_0x589ade,_0x11dbc6),renderScoreDistributionChart(_0x589ade,_0x19be68),renderQuestionAnalytics(_0x31bebd,_0x589ade,_0x11dbc6),renderInterestingStats(_0x31bebd,_0x589ade);}async function handleExportLessonPDF(){const _0x3a658e=_0x569b7c,_0x4ad693=document[_0x3a658e(0xca0)]('lesson-plan-content'),_0x3c7738=document[_0x3a658e(0xca0)](_0x3a658e(0xbb1))['textContent'],_0x43a725=window[_0x3a658e(0x275)]('',_0x3a658e(0x812)),_0x37d54e=_0x3a658e(0x3cb)+_0x3c7738+_0x3a658e(0xad8)+_0x4ad693[_0x3a658e(0xa5b)]+_0x3a658e(0xa52);_0x43a725['document'][_0x3a658e(0xace)](_0x37d54e),_0x43a725['document'][_0x3a658e(0x350)](),_0x43a725[_0x3a658e(0xab5)]=function(){setTimeout(()=>{const _0x3a730b=_0x1447;_0x43a725[_0x3a730b(0xb71)]();},0x5dc);};}function renderInterestingStats(_0x349b2a,_0x25e770){const _0x4b5a9a=_0x569b7c,_0x40f9b8=document[_0x4b5a9a(0xca0)]('interesting-stats-container');if(!_0x40f9b8)return;if(_0x25e770['length']===0x0){_0x40f9b8['innerHTML']=_0x4b5a9a(0x6d6);return;}const _0x3080ec=_0x349b2a[_0x4b5a9a(0x981)][_0x4b5a9a(0xc3d)]((_0x2a9a69,_0x1bb5af)=>({'index':_0x1bb5af+0x1,'text':_0x2a9a69[_0x4b5a9a(0x332)]||_0x2a9a69[_0x4b5a9a(0x73f)],'correct':0x0}));_0x25e770[_0x4b5a9a(0xb32)](_0x316783=>{const _0x4ea615=_0x4b5a9a,_0x28ee5f=_0x316783[_0x4ea615(0xc14)][_0x316783['attempts'][_0x4ea615(0xcda)]-0x1];_0x28ee5f&&_0x28ee5f[_0x4ea615(0x686)]&&_0x28ee5f[_0x4ea615(0x686)][_0x4ea615(0xb32)](_0x1cf8a3=>{const _0xf60c87=_0x4ea615,_0x3fd820=_0x3080ec['find'](_0x192616=>_0x192616[_0xf60c87(0xc91)]===_0x1cf8a3[_0xf60c87(0xc19)]);_0x1cf8a3[_0xf60c87(0x280)]&&_0x3fd820&&_0x3fd820[_0xf60c87(0xa80)]++;});});const _0x2048d7=_0x25e770[_0x4b5a9a(0xcda)],_0x91370b=Math['max'](..._0x3080ec[_0x4b5a9a(0xc3d)](_0x48bb47=>_0x48bb47[_0x4b5a9a(0xa80)])),_0x9e0b24=Math['min'](..._0x3080ec[_0x4b5a9a(0xc3d)](_0x3a8aa3=>_0x3a8aa3[_0x4b5a9a(0xa80)])),_0x84962d=_0x3080ec[_0x4b5a9a(0x959)](_0x67c384=>_0x67c384[_0x4b5a9a(0xa80)]===_0x91370b)[_0x4b5a9a(0xc3d)](_0x34c2f7=>_0x4b5a9a(0xcfa)+_0x34c2f7[_0x4b5a9a(0xbc5)]),_0x28ecb4=_0x3080ec[_0x4b5a9a(0x959)](_0x3fb63b=>_0x3fb63b[_0x4b5a9a(0xa80)]===_0x9e0b24)[_0x4b5a9a(0xc3d)](_0x5ed457=>_0x4b5a9a(0xcfa)+_0x5ed457['index']),_0x428d51=_0x25e770[_0x4b5a9a(0x64b)]((_0x29351c,_0xf2a363)=>_0xf2a363[_0x4b5a9a(0x477)]-_0x29351c[_0x4b5a9a(0x477)])[_0x4b5a9a(0x959)]((_0x2ca714,_0x407a9a,_0x1d1c28)=>_0x2ca714[_0x4b5a9a(0x477)]===_0x1d1c28[0x0][_0x4b5a9a(0x477)]),_0x42875e=_0x25e770[_0x4b5a9a(0x64b)]((_0xf2a910,_0x30c655)=>_0xf2a910[_0x4b5a9a(0x477)]-_0x30c655['latestScore'])['filter']((_0x15717,_0x1b624d,_0x5ac44f)=>_0x15717[_0x4b5a9a(0x477)]===_0x5ac44f[0x0][_0x4b5a9a(0x477)]),_0x4ad983=_0x4b5a9a(0x5a8)+_0x84962d[_0x4b5a9a(0xcbb)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x91370b+_0x4b5a9a(0xb05)+_0x2048d7+_0x4b5a9a(0x7d8)+_0x28ecb4[_0x4b5a9a(0xcbb)](',\x20')+_0x4b5a9a(0x5e4)+(_0x2048d7-_0x9e0b24)+_0x4b5a9a(0xb05)+_0x2048d7+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x428d51[_0x4b5a9a(0xc3d)](_0xfb8dfa=>_0xfb8dfa[_0x4b5a9a(0x972)])[_0x4b5a9a(0xcbb)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x428d51[0x0][_0x4b5a9a(0x477)]+_0x4b5a9a(0x5bf)+_0x42875e[_0x4b5a9a(0xc3d)](_0xfba588=>_0xfba588[_0x4b5a9a(0x972)])[_0x4b5a9a(0xcbb)](',\x20')+_0x4b5a9a(0x550)+_0x42875e[0x0][_0x4b5a9a(0x477)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x40f9b8[_0x4b5a9a(0xa5b)]=_0x4ad983;}function renderSubmissionChart(_0x5ccd2c,_0x3e138f,_0x2af2e7,_0x3ba7a2){const _0x4e2e22=_0x569b7c,_0x29e8f1=document['getElementById'](_0x4e2e22(0xb7e))[_0x4e2e22(0x9ec)]('2d'),_0x2246f8=_0x2af2e7[_0x4e2e22(0xc3d)](_0x506057=>_0x506057[_0x4e2e22(0x972)]),_0x484930=_0x3ba7a2['filter'](_0x27010c=>!_0x2246f8[_0x4e2e22(0x771)](_0x27010c));chartInstances[_0x4e2e22(0x3d7)]&&chartInstances[_0x4e2e22(0x3d7)][_0x4e2e22(0x2ec)](),chartInstances[_0x4e2e22(0x3d7)]=new Chart(_0x29e8f1,{'type':_0x4e2e22(0x297),'data':{'labels':[_0x4e2e22(0x4d0),_0x4e2e22(0x1c4)],'datasets':[{'data':[_0x5ccd2c,_0x3e138f],'backgroundColor':[_0x4e2e22(0x62e),_0x4e2e22(0xc46)],'borderColor':['#ffffff',_0x4e2e22(0xc49)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x4a7f01){const _0x5aee46=_0x4e2e22;let _0x313743=_0x4a7f01[_0x5aee46(0xc2a)]||'';return _0x313743&&(_0x313743+=':\x20'),_0x313743+=_0x4a7f01['raw'],_0x313743;},'afterLabel':function(_0x46a806){const _0x5c613c=_0x4e2e22;let _0x2a2a5a;return _0x46a806[_0x5c613c(0x72e)]===0x0?_0x2a2a5a=_0x2246f8:_0x2a2a5a=_0x484930,_0x2a2a5a[_0x5c613c(0xcda)]>0x0?_0x2a2a5a[_0x5c613c(0xcbb)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x152fe0,_0x1e7d71){const _0x19410c=_0x569b7c,_0x431f43=document[_0x19410c(0xca0)]('score-distribution-chart')[_0x19410c(0x9ec)]('2d'),_0x2b527c={};for(let _0xbfc489=0x0;_0xbfc489<=_0x1e7d71;_0xbfc489++){_0x2b527c[_0xbfc489]=0x0;}_0x152fe0['forEach'](_0x48c5f4=>{const _0x5b8889=_0x19410c;_0x2b527c[_0x48c5f4[_0x5b8889(0x477)]]!==undefined&&_0x2b527c[_0x48c5f4[_0x5b8889(0x477)]]++;}),chartInstances[_0x19410c(0x9f4)]&&chartInstances[_0x19410c(0x9f4)][_0x19410c(0x2ec)](),chartInstances[_0x19410c(0x9f4)]=new Chart(_0x431f43,{'type':'bar','data':{'labels':Object['keys'](_0x2b527c),'datasets':[{'label':_0x19410c(0x5ba),'data':Object[_0x19410c(0x224)](_0x2b527c),'backgroundColor':_0x19410c(0x2a7),'borderColor':_0x19410c(0x7dd),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x19410c(0x267)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x3bf1a2){const _0x1900aa=_0x19410c,_0x4f59d9=_0x3bf1a2[_0x1900aa(0xc2a)],_0x9de01=_0x152fe0['filter'](_0x22674f=>_0x22674f[_0x1900aa(0x477)]==_0x4f59d9)[_0x1900aa(0xc3d)](_0x81bfad=>_0x81bfad[_0x1900aa(0x972)]);return _0x9de01[_0x1900aa(0xcda)]>0x0?_0x9de01['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x33220c,_0x215b75,_0x204e2d){const _0x1c6168=_0x569b7c,_0x43a50b=document[_0x1c6168(0xca0)](_0x1c6168(0x6fd));if(_0x204e2d[_0x1c6168(0xcda)]===0x0){_0x43a50b[_0x1c6168(0xa5b)]=_0x1c6168(0x759);return;}const _0x2bd63c=calculateItemAnalysis(_0x33220c,_0x215b75),_0x5b959d=calculateDistractorAnalysis(_0x33220c,_0x215b75);let _0x3f5e9b='';_0x2bd63c[_0x1c6168(0xb66)]&&(_0x3f5e9b=_0x1c6168(0x3ec)+_0x2bd63c[_0x1c6168(0xb66)][_0x1c6168(0x4b6)][_0x1c6168(0xcda)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2bd63c[_0x1c6168(0xb66)][_0x1c6168(0x4b6)][_0x1c6168(0xc3d)](_0x89889=>_0x1c6168(0x9a9)+_0x89889+'</li>')[_0x1c6168(0xcbb)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x2bd63c['overallGroups'][_0x1c6168(0x55b)]['length']+_0x1c6168(0xab6)+_0x2bd63c['overallGroups'][_0x1c6168(0x55b)][_0x1c6168(0xc3d)](_0x1332ff=>_0x1c6168(0x9a9)+_0x1332ff+_0x1c6168(0x644))['join']('')+_0x1c6168(0x8bb));let _0x4fb141='';const _0x136bf4=_0x215b75[_0x1c6168(0xc3d)](_0x1b599c=>_0x1b599c[_0x1c6168(0x972)]),_0x209136=_0x2d6dab=>{const _0x78651e=_0x1c6168;if(_0x2d6dab>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x2d6dab>=0.6)return _0x78651e(0xd04);if(_0x2d6dab>=0.4)return _0x78651e(0x527);if(_0x2d6dab>=0.2)return _0x78651e(0x690);return _0x78651e(0xa13);},_0x447e1b=_0x12b71b=>{const _0x2ced65=_0x1c6168;if(_0x12b71b<0x0)return _0x2ced65(0x734);if(_0x12b71b>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x12b71b>=0.3)return _0x2ced65(0x47e);if(_0x12b71b>=0.2)return _0x2ced65(0x309);return _0x2ced65(0x808);},_0x59397f=_0x4edda4=>{const _0x843d25=_0x1c6168,_0x348293=_0x4edda4[_0x843d25(0x551)](0x0);if(parseFloat(_0x348293)===0x64)return _0x843d25(0xd03)+_0x348293+_0x843d25(0x6c3);if(_0x4edda4>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x348293+'%</span>';return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x348293+_0x843d25(0x6c3);};_0x33220c[_0x1c6168(0x981)][_0x1c6168(0xb32)]((_0x160fe8,_0x144ca1)=>{const _0x2d7dd0=_0x1c6168,_0x3029fd=_0x2bd63c[_0x2d7dd0(0x5a4)][_0x144ca1],_0x52becb=_0x5b959d[_0x144ca1],_0x500a1d=_0x160fe8['stem']||_0x160fe8[_0x2d7dd0(0x332)]||_0x160fe8[_0x2d7dd0(0x5ec)];let _0x2143c8=0x0;const _0x4b1ca4=[],_0x36e338=[];_0x215b75[_0x2d7dd0(0xb32)](_0x3eb534=>{const _0x5e176d=_0x2d7dd0,_0x51b2a6=_0x3eb534[_0x5e176d(0xc14)][_0x3eb534['attempts']['length']-0x1];if(_0x51b2a6&&_0x51b2a6[_0x5e176d(0x686)]){const _0xdd8383=_0x51b2a6[_0x5e176d(0x686)][_0x5e176d(0xd14)](_0x22cab4=>_0x22cab4['originalQuestionText']===_0x500a1d)??_0x51b2a6['answers'][_0x144ca1]??null;_0xdd8383&&(_0xdd8383[_0x5e176d(0x280)]?(_0x2143c8++,_0x4b1ca4[_0x5e176d(0xae7)](_0x3eb534[_0x5e176d(0x972)])):_0x36e338[_0x5e176d(0xae7)](_0x3eb534[_0x5e176d(0x972)]));}});const _0x5dea3d=_0x215b75[_0x2d7dd0(0xcda)]>0x0?_0x2143c8/_0x215b75[_0x2d7dd0(0xcda)]*0x64:0x0,_0x409159=_0x204e2d['filter'](_0x466057=>!_0x136bf4[_0x2d7dd0(0x771)](_0x466057)),_0x25e371=_0x3029fd?_0x2d7dd0(0x900)+_0x3029fd['p'][_0x2d7dd0(0x551)](0x2)+_0x2d7dd0(0x4ae)+_0x209136(_0x3029fd['p'])+_0x2d7dd0(0xa4b)+_0x3029fd['r']['toFixed'](0x2)+_0x2d7dd0(0x4ae)+_0x447e1b(_0x3029fd['r'])+_0x2d7dd0(0xd01)+_0x59397f(_0x5dea3d)+_0x2d7dd0(0x6ee):'';let _0x435b78='';_0x52becb&&(_0x435b78=_0x2d7dd0(0xb20)+Object[_0x2d7dd0(0x65a)](_0x52becb)['map'](_0x29185e=>{const _0xe4c6ec=_0x2d7dd0,_0x3f1b3b=_0x52becb[_0x29185e],_0x3cdd0f=parseInt(_0x29185e)===_0x160fe8[_0xe4c6ec(0x481)],_0x2bbdce=!_0x3cdd0f&&_0x3f1b3b[_0xe4c6ec(0x2d9)]>_0x3f1b3b['upper_group_count'];return _0xe4c6ec(0xbbd)+(_0x3cdd0f?_0xe4c6ec(0x8cc):'')+_0xe4c6ec(0x55a)+(_0x3cdd0f?'✔\x20':'')+_0x3f1b3b['text']+_0xe4c6ec(0x1d6)+_0x3f1b3b[_0xe4c6ec(0x370)]+_0xe4c6ec(0x1d6)+_0x3f1b3b[_0xe4c6ec(0x2d9)]+'\x20'+(_0x2bbdce?'👍':'')+_0xe4c6ec(0x1d6)+_0x3f1b3b[_0xe4c6ec(0xb06)]+_0xe4c6ec(0x509);})[_0x2d7dd0(0xcbb)]('')+_0x2d7dd0(0x408));let _0x5d78ba='';_0x3029fd&&_0x3029fd['upperGroupResponders']&&(_0x5d78ba=_0x2d7dd0(0xa7d)+_0x3029fd[_0x2d7dd0(0x450)][_0x2d7dd0(0xcda)]+_0x2d7dd0(0x8bd)+_0x3029fd[_0x2d7dd0(0x450)]['map'](_0x10c720=>_0x2d7dd0(0x9a9)+(_0x10c720[_0x2d7dd0(0x280)]?_0x2d7dd0(0x9d1):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x10c720[_0x2d7dd0(0x5bd)]+_0x2d7dd0(0x644))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x3029fd[_0x2d7dd0(0xbed)][_0x2d7dd0(0xcda)]+_0x2d7dd0(0x8bd)+_0x3029fd[_0x2d7dd0(0xbed)][_0x2d7dd0(0xc3d)](_0x1bce98=>_0x2d7dd0(0x9a9)+(_0x1bce98[_0x2d7dd0(0x280)]?_0x2d7dd0(0x9d1):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x1bce98[_0x2d7dd0(0x5bd)]+'</li>')[_0x2d7dd0(0xcbb)]('')+_0x2d7dd0(0xcc3)),_0x4fb141+=_0x2d7dd0(0x843)+(_0x144ca1+0x1)+':\x20'+_0x500a1d+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x25e371+_0x2d7dd0(0xd0f)+_0x500a1d+_0x2d7dd0(0x778)+_0x2143c8+_0x2d7dd0(0x6e5)+_0x215b75[_0x2d7dd0(0xcda)]+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x5dea3d['toFixed'](0x0)+_0x2d7dd0(0xbdc)+_0x4b1ca4[_0x2d7dd0(0xcda)]+_0x2d7dd0(0x6ea)+(_0x4b1ca4['length']>0x0?_0x4b1ca4[_0x2d7dd0(0xcbb)](',\x20'):_0x2d7dd0(0x8b0))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x36e338['length']+_0x2d7dd0(0x6ea)+(_0x36e338[_0x2d7dd0(0xcda)]>0x0?_0x36e338['join'](',\x20'):_0x2d7dd0(0x8b0))+_0x2d7dd0(0x809)+_0x409159['length']+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x409159[_0x2d7dd0(0xcda)]>0x0?_0x409159['join'](',\x20'):_0x2d7dd0(0x8b0))+_0x2d7dd0(0x568)+_0x435b78+_0x2d7dd0(0x6a4)+_0x5d78ba+_0x2d7dd0(0x88f);}),_0x43a50b[_0x1c6168(0xa5b)]=_0x3f5e9b+_0x4fb141;try{window[_0x1c6168(0x858)]&&MathJax['typesetPromise']&&MathJax[_0x1c6168(0x5cc)]([_0x43a50b]);}catch(_0x4d631d){console[_0x1c6168(0x728)]('MathJax\x20typeset\x20error\x20(analytics):',_0x4d631d);}}function calculateDistractorAnalysis(_0x11c981,_0x10c18b){const _0x493853=_0x569b7c,_0x2f1ce3={};if(_0x10c18b[_0x493853(0xcda)]<0x2)return _0x2f1ce3;const _0x73be9a=[..._0x10c18b][_0x493853(0x64b)]((_0x43592e,_0x13f1cd)=>{const _0x5812c0=_0x493853,_0x30a604=_0x13f1cd[_0x5812c0(0x477)]-_0x43592e['latestScore'];if(_0x30a604!==0x0)return _0x30a604;const _0x4f10b1=_0x43592e[_0x5812c0(0xc14)]?.[_0x5812c0(0xcda)]||0x1,_0x210d61=_0x13f1cd[_0x5812c0(0xc14)]?.[_0x5812c0(0xcda)]||0x1,_0x4ac835=_0x4f10b1-_0x210d61;if(_0x4ac835!==0x0)return _0x4ac835;const _0x35ddfa=new Date(_0x43592e[_0x5812c0(0xd3b)]),_0x2df953=new Date(_0x13f1cd[_0x5812c0(0xd3b)]),_0x37a88f=_0x35ddfa-_0x2df953;if(_0x37a88f!==0x0)return _0x37a88f;return _0x43592e[_0x5812c0(0x972)][_0x5812c0(0x8a1)](_0x13f1cd[_0x5812c0(0x972)],'th');}),_0x3002dc=_0x73be9a[_0x493853(0xcda)],_0x86f457=Math[_0x493853(0x557)](0x1,Math[_0x493853(0xc71)](_0x3002dc*0.33)),_0x14e8c6=_0x73be9a[_0x493853(0x3f5)](0x0,_0x86f457),_0x59cca1=_0x73be9a[_0x493853(0x3f5)](-_0x86f457);return _0x11c981['questions'][_0x493853(0xb32)]((_0x3f8af4,_0x13914f)=>{const _0x35b74d=_0x493853;if(_0x3f8af4['questionType']!==_0x35b74d(0x27b)||!_0x3f8af4['options'])return;const _0x3fd8d8=_0x3f8af4['questionText'],_0x3e9fbb={};_0x3f8af4[_0x35b74d(0xb7c)][_0x35b74d(0xb32)]((_0x29161b,_0x387d1d)=>{_0x3e9fbb[_0x387d1d]={'text':_0x29161b,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x73be9a['forEach'](_0x1d9e5f=>{const _0x4f07ec=_0x35b74d,_0x172a98=_0x1d9e5f[_0x4f07ec(0xc14)][_0x1d9e5f[_0x4f07ec(0xc14)][_0x4f07ec(0xcda)]-0x1],_0x18f774=_0x172a98['answers']['find'](_0xd1c607=>_0xd1c607[_0x4f07ec(0xc19)]===_0x3fd8d8);if(_0x18f774&&_0x18f774[_0x4f07ec(0xc52)]!==null){const _0x10ae2c=_0x3f8af4[_0x4f07ec(0xb7c)][_0x4f07ec(0x5a3)](_0x1647e1=>_0x1647e1===_0x18f774['answerText']);_0x10ae2c!==-0x1&&_0x3e9fbb[_0x10ae2c]&&(_0x3e9fbb[_0x10ae2c][_0x4f07ec(0xb06)]++,_0x14e8c6['includes'](_0x1d9e5f)&&_0x3e9fbb[_0x10ae2c][_0x4f07ec(0x370)]++,_0x59cca1[_0x4f07ec(0x771)](_0x1d9e5f)&&_0x3e9fbb[_0x10ae2c][_0x4f07ec(0x2d9)]++);}}),_0x2f1ce3[_0x13914f]=_0x3e9fbb;}),_0x2f1ce3;}function calculateReliabilityKR20(_0x5c70df,_0x178695,_0x442b29){const _0x216fa6=_0x569b7c,_0x3e878f=_0x5c70df['questions'][_0x216fa6(0xcda)];if(_0x3e878f<0x2||_0x178695[_0x216fa6(0xcda)]<0x2)return null;const _0x2a0c42=_0x178695[_0x216fa6(0xc3d)](_0x2d5714=>_0x2d5714[_0x216fa6(0x477)]),_0x1ee11=_0x2a0c42[_0x216fa6(0x5c5)]((_0x815c05,_0x548849)=>_0x815c05+_0x548849,0x0)/_0x2a0c42['length'],_0x389d97=_0x2a0c42[_0x216fa6(0xc3d)](_0x57224e=>Math[_0x216fa6(0xcb7)](_0x57224e-_0x1ee11,0x2))[_0x216fa6(0x5c5)]((_0x22b33c,_0x1c1701)=>_0x22b33c+_0x1c1701,0x0)/_0x2a0c42[_0x216fa6(0xcda)];if(_0x389d97===0x0)return null;let _0x5bb57a=0x0;for(let _0x13b40e=0x0;_0x13b40e<_0x3e878f;_0x13b40e++){const _0x40475a=_0x442b29[_0x13b40e]?.['p'];if(_0x40475a===undefined)continue;const _0x3a4fa4=0x1-_0x40475a;_0x5bb57a+=_0x40475a*_0x3a4fa4;}if(_0x5bb57a===0x0)return null;const _0x3ec843=_0x3e878f/(_0x3e878f-0x1)*(0x1-_0x5bb57a/_0x389d97);if(_0x3ec843>0x1)return null;return _0x3ec843;}async function handleAnalyzeClass(){const _0x2fbcc7=_0x569b7c;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x2c4c0f=collection(db,_0x2fbcc7(0x25b)+appId+_0x2fbcc7(0x6f0)+currentQuizData['id']+'/submissions'),_0x58bdec=await getDocs(_0x2c4c0f),_0x4060a0=_0x58bdec[_0x2fbcc7(0x53c)]['map'](_0x256dbb=>_0x256dbb['data']());if(_0x4060a0['length']<0x2){showMessage(_0x2fbcc7(0x4e5));return;}const _0x88fae8=document['getElementById'](_0x2fbcc7(0x403));_0x88fae8[_0x2fbcc7(0xa5b)]=_0x2fbcc7(0x874),document['getElementById']('analyze-strengths-btn')['disabled']=!![];const _0x346e26=_0x4060a0[_0x2fbcc7(0xc3d)]((_0x390032,_0x1a1b81)=>{const _0x2e453d=_0x2fbcc7,_0x5c50a6=_0x390032['attempts'][_0x390032[_0x2e453d(0xc14)][_0x2e453d(0xcda)]-0x1];if(!_0x5c50a6)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x1a1b81+0x1)+'\x20('+_0x390032[_0x2e453d(0x972)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x5c50a6[_0x2e453d(0x9f4)]+'/'+_0x390032['totalQuestions']+_0x2e453d(0x567)+JSON['stringify'](_0x5c50a6[_0x2e453d(0x686)])+_0x2e453d(0x83c);})[_0x2fbcc7(0xcbb)]('\x0a---\x0a'),_0x41ddab=_0x2fbcc7(0x4cf)+currentQuizData[_0x2fbcc7(0xaf8)]+_0x2fbcc7(0x3f2)+JSON[_0x2fbcc7(0x25e)](currentQuizData[_0x2fbcc7(0x981)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x346e26+_0x2fbcc7(0x508),_0x5f5c5e={'type':_0x2fbcc7(0xbcd),'properties':{'classStrengths':{'type':'ARRAY','items':{'type':_0x2fbcc7(0xb67)}},'classWeaknesses':{'type':_0x2fbcc7(0x7c4),'items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x2fbcc7(0x7c4),'items':{'type':_0x2fbcc7(0xb67)}}},'required':['classStrengths',_0x2fbcc7(0x69d),'teacherSuggestions']};try{const _0xcaa16c=await callAnalysisApi(_0x41ddab,_0x5f5c5e);displayClassAnalysis(_0xcaa16c);}catch(_0xd53932){console[_0x2fbcc7(0x728)](_0x2fbcc7(0x246),_0xd53932),_0x88fae8[_0x2fbcc7(0xa5b)]=_0x2fbcc7(0x62d)+_0xd53932[_0x2fbcc7(0x7d7)]+_0x2fbcc7(0x4c2);}finally{document[_0x2fbcc7(0xca0)]('analyze-strengths-btn')[_0x2fbcc7(0x7b4)]=![];}}function displayClassAnalysis(_0x3b9867){const _0x37a96a=_0x569b7c,_0x88f19a=document[_0x37a96a(0xca0)]('strength-weakness-analysis-container');if(!_0x3b9867){_0x88f19a['innerHTML']=_0x37a96a(0x4fd);return;}_0x88f19a[_0x37a96a(0xa5b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b9867[_0x37a96a(0x7a5)][_0x37a96a(0xc3d)](_0x3683c5=>_0x37a96a(0x9a9)+_0x3683c5+_0x37a96a(0x644))[_0x37a96a(0xcbb)]('')+_0x37a96a(0xa69)+_0x3b9867[_0x37a96a(0x69d)][_0x37a96a(0xc3d)](_0x3bbe7d=>_0x37a96a(0x9a9)+_0x3bbe7d+_0x37a96a(0x644))[_0x37a96a(0xcbb)]('')+_0x37a96a(0xcc2)+_0x3b9867[_0x37a96a(0xb72)][_0x37a96a(0xc3d)](_0x3edef1=>'<li>'+_0x3edef1+_0x37a96a(0x644))[_0x37a96a(0xcbb)]('')+_0x37a96a(0x8f9);}function formatAndPrintWorksheet(_0x25b0a1,_0x150307){const _0x40009e=_0x569b7c,_0x49d3b8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x25b0a1[_0x40009e(0xaf8)]+_0x40009e(0x80a)+_0x25b0a1[_0x40009e(0xaf8)]+_0x40009e(0x70b)+_0x25b0a1[_0x40009e(0x981)]['map']((_0x4ded9f,_0x1c13fc)=>_0x40009e(0x2b2)+(_0x1c13fc+0x1)+'.\x20'+_0x4ded9f['questionText']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4ded9f[_0x40009e(0x456)]?_0x40009e(0xb33)+_0x4ded9f[_0x40009e(0x456)]+_0x40009e(0x3f0):'')+_0x40009e(0x1bd))[_0x40009e(0xcbb)]('')+_0x40009e(0xd33);_0x150307[_0x40009e(0x3dc)][_0x40009e(0xace)](_0x49d3b8),_0x150307[_0x40009e(0x3dc)][_0x40009e(0x350)](),_0x150307['onload']=function(){setTimeout(()=>{const _0x48aa94=_0x1447;_0x150307[_0x48aa94(0xb71)]();},0x3e8);};}async function generateWorksheet(){const _0x544e07=_0x569b7c,_0x190697=document[_0x544e07(0xca0)](_0x544e07(0x418))[_0x544e07(0xb85)][_0x544e07(0xc9e)]();if(!_0x190697){showMessage(_0x544e07(0xa8b));return;}const _0x5e630c=document[_0x544e07(0xca0)](_0x544e07(0x55e))[_0x544e07(0x397)],_0x29433a=_0x5e630c?'':'คณิตศาสตร์',_0x4a2a35=window[_0x544e07(0x275)]('','_blank');_0x4a2a35[_0x544e07(0x3dc)]['write'](_0x544e07(0xb27));const _0x246aad=parseInt(document[_0x544e07(0xca0)]('num-questions')[_0x544e07(0xb85)]),_0x5ce6d7=document['getElementById'](_0x544e07(0x84c))[_0x544e07(0x397)],_0x11cfa3=_0x5ce6d7?_0x544e07(0x3fd):'',_0xd05266=_0x544e07(0x3d9)+_0x29433a+_0x544e07(0xb31)+_0x246aad+_0x544e07(0x63c)+_0x190697+_0x544e07(0x487)+_0x11cfa3+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x544e07(0x92f),_0x8d8a1c={'type':'OBJECT','properties':{'topic':{'type':_0x544e07(0xb67)},'questions':{'type':_0x544e07(0x7c4),'items':{'type':_0x544e07(0xbcd),'properties':{'questionText':{'type':_0x544e07(0xb67)},'imageCode':{'type':_0x544e07(0xb67)}},'required':['questionText']}}},'required':['topic','questions']};document[_0x544e07(0xca0)]('loader-text')[_0x544e07(0x8a5)]='',document['getElementById']('loader')[_0x544e07(0x396)][_0x544e07(0x76f)]('hidden'),document[_0x544e07(0xca0)]('quiz-generation-area')[_0x544e07(0x396)][_0x544e07(0x76f)](_0x544e07(0xb23)),generateWorksheetBtn[_0x544e07(0x7b4)]=!![];try{const _0x2b2ff2=await callAnalysisApi(_0xd05266,_0x8d8a1c);formatAndPrintWorksheet(_0x2b2ff2,_0x4a2a35);}catch(_0x24e96b){console[_0x544e07(0x728)]('Error\x20generating\x20worksheet:',_0x24e96b);if(_0x4a2a35)_0x4a2a35['close']();showMessage(_0x544e07(0x1bb));}finally{document[_0x544e07(0xca0)]('loader')[_0x544e07(0x396)][_0x544e07(0x46b)](_0x544e07(0xb23)),document['getElementById'](_0x544e07(0x366))[_0x544e07(0x396)]['add'](_0x544e07(0xb23)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x563db1,_0x48ae7a){const _0x3bd21b=_0x569b7c,_0x3d0de1={'contents':[{'role':'user','parts':[{'text':_0x563db1}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x48ae7a}},_0x3b188c=_0x3bd21b(0x9bc),_0xe45f86=_0x3bd21b(0x82c)+_0x3b188c,_0x1e481b=await fetch(_0xe45f86,{'method':'POST','headers':{'Content-Type':_0x3bd21b(0x828)},'body':JSON['stringify'](_0x3d0de1)});if(!_0x1e481b['ok'])throw new Error(_0x3bd21b(0x201)+_0x1e481b[_0x3bd21b(0xc81)]);const _0x2949f2=await _0x1e481b[_0x3bd21b(0xc67)]();if(_0x2949f2[_0x3bd21b(0x7ec)]?.[0x0]?.[_0x3bd21b(0x893)]?.[_0x3bd21b(0x6fc)]?.[0x0])return JSON['parse'](_0x2949f2[_0x3bd21b(0x7ec)][0x0][_0x3bd21b(0x893)][_0x3bd21b(0x6fc)][0x0][_0x3bd21b(0xc91)]);else{let _0x15c5ec=_0x3bd21b(0x338);if(_0x2949f2[_0x3bd21b(0xbaf)]?.['blockReason'])_0x15c5ec=_0x3bd21b(0xa63)+_0x2949f2[_0x3bd21b(0xbaf)]['blockReason']+'.';else _0x2949f2['candidates']?.[0x0]?.[_0x3bd21b(0xd58)]&&_0x2949f2[_0x3bd21b(0x7ec)][0x0][_0x3bd21b(0xd58)]!==_0x3bd21b(0x32f)&&(_0x15c5ec=_0x3bd21b(0x9a7)+_0x2949f2[_0x3bd21b(0x7ec)][0x0]['finishReason']+'.');console[_0x3bd21b(0x728)](_0x15c5ec,JSON[_0x3bd21b(0x25e)](_0x2949f2));throw new Error(_0x15c5ec);}}async function handleStartSyncMode(_0x4bae73,_0x21aaef=![]){const _0x155453=_0x569b7c,_0x51a30e=allQuizzes['find'](_0x35ddaa=>_0x35ddaa['id']===_0x4bae73)||allQuizzesGlobal[_0x155453(0xd14)](_0x18c006=>_0x18c006['id']===_0x4bae73);if(!_0x51a30e){showMessage(_0x155453(0x4f6));return;}currentQuizData=getShuffledQuiz(_0x51a30e);const _0x279425=Math['floor'](0x3e8+Math['random']()*0x2328)['toString']();try{const _0x23f7fa=await addDoc(collection(db,'artifacts/'+appId+_0x155453(0x1f4)),{'quizId':_0x51a30e['id'],'pin':_0x279425,'status':_0x155453(0x3e1),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x21aaef,'players':{}});currentLiveGameId=_0x23f7fa['id'],showView('live-game'),renderSyncLobbyView(_0x279425,_0x51a30e[_0x155453(0xaf8)]),listenForSyncGameUpdates();}catch(_0x252cff){console[_0x155453(0x728)]('Error\x20starting\x20sync\x20game:',_0x252cff),showMessage(_0x155453(0x750));}}function calculateFinalPodiumScores(_0xba930e){const _0x5091a8=_0x569b7c;if(!_0xba930e||!_0xba930e[_0x5091a8(0x495)]||!_0xba930e[_0x5091a8(0x3fc)])return _0xba930e['players']||{};const _0x5c844c=_0xba930e[_0x5091a8(0x495)]['questions'][_0x5091a8(0xcda)],_0x3db5c=JSON[_0x5091a8(0x608)](JSON[_0x5091a8(0x25e)](_0xba930e[_0x5091a8(0x3fc)]));return Object[_0x5091a8(0x224)](_0x3db5c)[_0x5091a8(0xb32)](_0x13a7ff=>{const _0x43b81e=_0x5091a8,_0x254e1a=_0x13a7ff[_0x43b81e(0x9f4)];let _0x594771=_0x254e1a,_0x41fb53=0x0;_0xba930e[_0x43b81e(0x80b)]&&_0x13a7ff['answers']&&_0x13a7ff['answers'][_0x43b81e(0xb32)](_0x1c6c03=>{const _0x4244e1=_0x43b81e;if(_0x1c6c03[_0x4244e1(0x280)]&&(_0x1c6c03[_0x4244e1(0xa70)]===!![]||_0x1c6c03[_0x4244e1(0xa70)]===_0x4244e1(0x768)))_0x41fb53+=0x1;else!_0x1c6c03[_0x4244e1(0x280)]&&(_0x1c6c03[_0x4244e1(0xa70)]===!![]||_0x1c6c03[_0x4244e1(0xa70)]===_0x4244e1(0x768))&&(_0x41fb53-=0x1);}),_0x594771+=_0x41fb53,_0x5c844c>0x0&&_0x254e1a===_0x5c844c&&(_0x594771+=0x1,_0x13a7ff[_0x43b81e(0x2b3)]=!![]),_0x13a7ff[_0x43b81e(0x9f4)]=_0x594771;}),_0x3db5c;}function listenForSyncGameUpdates(){const _0xe0d7b8=_0x569b7c;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x75aed9=doc(db,_0xe0d7b8(0x25b)+appId+_0xe0d7b8(0x1f4),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x75aed9,_0x65e15d=>{const _0x3ab94f=_0xe0d7b8;if(!_0x65e15d[_0x3ab94f(0x6c9)]()){sessionStorage[_0x3ab94f(0x4f3)](_0x3ab94f(0xc0b));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x3ab94f(0x786));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x3ab94f(0x42a)?showView(_0x3ab94f(0x969)):showView('student');return;}const _0x1597f1=_0x65e15d[_0x3ab94f(0x7f5)]();currentMode==='admin'?updateAdminSyncView(_0x1597f1):updateStudentSyncView(_0x1597f1);});}function renderSyncLobbyView(_0x568181,_0x312f1a){const _0x40e42d=_0x569b7c;liveGameView[_0x40e42d(0xa5b)]=_0x40e42d(0x407)+_0x312f1a+_0x40e42d(0xc94)+_0x568181+_0x40e42d(0x3b3);const _0x5679e7=document['getElementById'](_0x40e42d(0x77e)),_0x132ec6=document[_0x40e42d(0xca0)]('confidence-scoring-description');_0x5679e7[_0x40e42d(0x79b)]('change',()=>{const _0x330186=_0x40e42d;_0x132ec6[_0x330186(0x7fc)][_0x330186(0x71f)]=_0x5679e7[_0x330186(0x397)]?'block':_0x330186(0x9d3);}),document['getElementById'](_0x40e42d(0xc0e))[_0x40e42d(0x79b)](_0x40e42d(0xd52),async()=>{const _0x5c3577=_0x40e42d,_0x2229ee=doc(db,_0x5c3577(0x25b)+appId+_0x5c3577(0x1f4),currentLiveGameId),_0x1ab09f=document['getElementById']('confidence-scoring-toggle')[_0x5c3577(0x397)];await updateDoc(_0x2229ee,{'status':_0x5c3577(0x215),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x1ab09f});});}function updateAdminSyncView(_0x3d0236){const _0x54107c=_0x569b7c;switch(_0x3d0236[_0x54107c(0xc81)]){case'lobby':renderSyncLobbyView(_0x3d0236[_0x54107c(0x7a6)],_0x3d0236['shuffledQuiz'][_0x54107c(0xaf8)]);const _0x438c53=Object[_0x54107c(0x76b)](_0x3d0236[_0x54107c(0x3fc)]||{})[_0x54107c(0x959)](([_0xecbd2,_0x210003])=>_0x210003[_0x54107c(0xc81)]!==_0x54107c(0x6e6));document['getElementById'](_0x54107c(0x9c2))[_0x54107c(0x8a5)]=_0x438c53[_0x54107c(0xcda)],document[_0x54107c(0xca0)](_0x54107c(0x2cf))['innerHTML']=_0x438c53[_0x54107c(0xc3d)](([_0x2847bd,_0x3a2535])=>_0x54107c(0x1fb)+_0x2847bd+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x2847bd+_0x54107c(0xcbf))[_0x54107c(0xcbb)]('')||'<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>',document[_0x54107c(0xca0)](_0x54107c(0xc0e))['disabled']=_0x438c53[_0x54107c(0xcda)]===0x0;break;case _0x54107c(0x215):const _0x444786=Object[_0x54107c(0x224)](_0x3d0236[_0x54107c(0x3fc)]||{})[_0x54107c(0x959)](_0x1333d6=>_0x1333d6[_0x54107c(0xc81)]!=='inactive'),_0x57976c=_0x444786[_0x54107c(0x959)](_0x291aad=>_0x291aad[_0x54107c(0xcd5)])[_0x54107c(0xcda)],_0x40697d=_0x57976c===_0x444786[_0x54107c(0xcda)]&&_0x444786[_0x54107c(0xcda)]>0x0;if(_0x40697d&&_0x3d0236[_0x54107c(0xc81)]===_0x54107c(0x215)){const _0x182ca4=doc(db,_0x54107c(0x25b)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x182ca4,{'status':_0x54107c(0x526)});}else{if(document['getElementById']('sync-player-management')===null)renderAdminSyncQuestionView(_0x3d0236);else{const _0x28ec1a=document[_0x54107c(0xca0)](_0x54107c(0x549));_0x28ec1a&&(_0x28ec1a['textContent']=_0x57976c+'/'+_0x444786[_0x54107c(0xcda)]);const _0x2493d1=document[_0x54107c(0xca0)](_0x54107c(0xbbf));_0x2493d1&&(_0x2493d1[_0x54107c(0xa5b)]=_0x444786[_0x54107c(0xc3d)](_0x4fe109=>{const _0x12afdb=_0x54107c,_0x2fca75=_0x4fe109[_0x12afdb(0xcd5)]?_0x12afdb(0xa6d):_0x12afdb(0x57a),_0x4b3c1f=_0x4fe109[_0x12afdb(0xcd5)]?_0x12afdb(0x9fa):_0x12afdb(0x461);return _0x12afdb(0x2e1)+_0x2fca75+_0x12afdb(0xa3d)+_0x4b3c1f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4fe109[_0x12afdb(0x5bd)]+_0x12afdb(0xaff)+_0x4fe109[_0x12afdb(0x5bd)]+_0x12afdb(0xcfe);})[_0x54107c(0xcbb)](''));}}break;case'summary':const _0x471646=_0x3d0236[_0x54107c(0x720)],_0x517571=_0x3d0236['shuffledQuiz'][_0x54107c(0x981)][_0x471646];renderSyncSummaryView(_0x3d0236,_0x517571,!![]);break;case'results':renderAdminSyncDashboard(_0x3d0236,!![]);break;case _0x54107c(0xa09):_0x3d0236[_0x54107c(0x4a0)]&&saveGameResultsAsSubmissions(_0x3d0236);sessionStorage[_0x54107c(0x4f3)](_0x54107c(0xc0b));const _0x4b5d18=calculateFinalPodiumScores(_0x3d0236);showPodiumView(_0x4b5d18,'sync');break;}}function renderAdminSyncQuestionView(_0x432aea){const _0x1395be=_0x569b7c,_0x25e330=_0x432aea[_0x1395be(0x720)],_0x40fbc4=_0x432aea[_0x1395be(0x495)][_0x1395be(0x981)][_0x25e330],_0x125387=_0x432aea[_0x1395be(0x495)]['questions']['length'],_0x1555eb=Object[_0x1395be(0x224)](_0x432aea[_0x1395be(0x3fc)]||{})[_0x1395be(0x959)](_0x37d753=>_0x37d753[_0x1395be(0xc81)]!==_0x1395be(0x6e6)),_0xe86691=_0x1555eb[_0x1395be(0x959)](_0x318614=>_0x318614[_0x1395be(0xcd5)])[_0x1395be(0xcda)],_0x1ddb50=_0xe86691===_0x1555eb[_0x1395be(0xcda)]&&_0x1555eb['length']>0x0,_0x750c58=(_0x40fbc4[_0x1395be(0xb7c)]||[])[_0x1395be(0xc3d)](_0x430465=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0x430465+_0x1395be(0x3f0))[_0x1395be(0xcbb)]('');liveGameView['innerHTML']=_0x1395be(0xb70)+(_0x25e330+0x1)+_0x1395be(0xb05)+_0x125387+_0x1395be(0x838)+_0xe86691+'/'+_0x1555eb[_0x1395be(0xcda)]+_0x1395be(0xb96)+_0x40fbc4[_0x1395be(0x332)]+_0x1395be(0xc17)+_0x750c58+_0x1395be(0x357)+(!_0x1ddb50?_0x1395be(0x7b4):'')+_0x1395be(0x987);if(window[_0x1395be(0x858)])MathJax['typesetPromise']();document[_0x1395be(0xca0)](_0x1395be(0xcb0))['addEventListener'](_0x1395be(0xd52),async()=>{const _0x17d01c=_0x1395be,_0x4a047a=doc(db,_0x17d01c(0x25b)+appId+_0x17d01c(0x1f4),currentLiveGameId);await updateDoc(_0x4a047a,{'status':_0x17d01c(0x6c6)});}),document[_0x1395be(0xca0)](_0x1395be(0x825))[_0x1395be(0xbe8)]=()=>{const _0x3ca5ce=_0x1395be;openScratchpad(_0x40fbc4,_0x40fbc4[_0x3ca5ce(0xb7c)]||[]);},document['getElementById'](_0x1395be(0x548))['addEventListener']('click',()=>{const _0x3cf15f=_0x1395be;document['getElementById'](_0x3cf15f(0x3dd))[_0x3cf15f(0x396)][_0x3cf15f(0x51b)]('hidden');});}function renderSyncLeaderboardView(_0x1aa285,_0x407bb9){const _0x37db72=_0x569b7c,_0xb7ea3b=Object[_0x37db72(0x224)](_0x1aa285['players']||{});_0xb7ea3b[_0x37db72(0x64b)]((_0x4d2d87,_0xbc5941)=>_0xbc5941[_0x37db72(0x9f4)]-_0x4d2d87['score']);const _0x2de537=_0xb7ea3b[_0x37db72(0x3f5)](0x0,0x5);let _0x1c6092='';if(_0x407bb9){const _0x78207d=_0x1aa285[_0x37db72(0x720)]>=_0x1aa285[_0x37db72(0x495)]['questions'][_0x37db72(0xcda)]-0x1;_0x1c6092='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0x78207d?_0x37db72(0x5fd):_0x37db72(0x3ae))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';}else _0x1c6092=_0x37db72(0x713);liveGameView[_0x37db72(0xa5b)]=_0x37db72(0x2d3)+_0x2de537[_0x37db72(0xc3d)]((_0xcdf592,_0xd9046e)=>_0x37db72(0x7e2)+(_0xd9046e+0x1)+'.\x20'+_0xcdf592[_0x37db72(0x5bd)]+_0x37db72(0x97b)+_0xcdf592[_0x37db72(0x9f4)]+'</span></div>')[_0x37db72(0xcbb)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c6092+_0x37db72(0xc74),_0x407bb9&&document[_0x37db72(0xca0)](_0x37db72(0xb47))[_0x37db72(0x79b)]('click',async()=>{const _0x8baeb9=_0x37db72,_0xf61729=doc(db,_0x8baeb9(0x25b)+appId+_0x8baeb9(0x1f4),currentLiveGameId),_0xb1e46b=_0x1aa285[_0x8baeb9(0x720)]+0x1;if(_0xb1e46b<_0x1aa285['shuffledQuiz']['questions']['length']){const _0x57ebfc={};Object[_0x8baeb9(0x65a)](_0x1aa285[_0x8baeb9(0x3fc)])[_0x8baeb9(0xb32)](_0x4149b3=>{_0x57ebfc['players.'+_0x4149b3+'.answered']=![];}),await updateDoc(_0xf61729,{..._0x57ebfc,'status':_0x8baeb9(0x215),'currentQuestionIndex':_0xb1e46b,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0xf61729,{'status':_0x8baeb9(0xa09)});});}async function handleJoinSyncGame(){const _0x13675f=_0x569b7c,_0xbcac9=prompt(_0x13675f(0x377));if(!_0xbcac9||_0xbcac9[_0x13675f(0xc9e)]()[_0x13675f(0xcda)]!==0x2){showMessage(_0x13675f(0x7d9));return;}try{const _0x37ad98=collection(db,_0x13675f(0x25b)+appId+_0x13675f(0x1f4)),_0x1815d1=query(_0x37ad98,where(_0x13675f(0x7a6),'==',_0xbcac9[_0x13675f(0xc9e)]()),where('status','==',_0x13675f(0x3e1))),_0x2bb70b=await getDocs(_0x1815d1);if(_0x2bb70b[_0x13675f(0xcc9)]){showMessage(_0x13675f(0xd3f));return;}const _0x27755=_0x2bb70b[_0x13675f(0x53c)][0x0];currentLiveGameId=_0x27755['id'];const _0x4d5051=_0x27755[_0x13675f(0x7f5)](),_0x50122d=doc(db,_0x13675f(0x25b)+appId+_0x13675f(0x72c),_0x4d5051[_0x13675f(0xacf)]),_0x569a6e=await getDoc(_0x50122d);if(!_0x569a6e[_0x13675f(0x6c9)]())throw new Error(_0x13675f(0x774));const _0x2d1553=_0x569a6e[_0x13675f(0x7f5)](),_0x9c183=doc(db,'artifacts/'+appId+_0x13675f(0x1bf),_0x2d1553['projectId']),_0x19e4df=await getDoc(_0x9c183);if(!_0x19e4df[_0x13675f(0x6c9)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x4d5051[_0x13675f(0x495)];const _0x2f05fb=_0x19e4df['data']();showView(_0x13675f(0x64c)),showTeamPlayerSelection(_0x2f05fb['students'],_0x2d1553['topic']);const _0x10f7d9=document[_0x13675f(0xca0)](_0x13675f(0x997));_0x10f7d9[_0x13675f(0xbe8)]=confirmAndJoinSyncGame;}catch(_0x51be4c){console['error']('Error\x20joining\x20sync\x20game:',_0x51be4c),showMessage(_0x13675f(0xc90)+_0x51be4c[_0x13675f(0x7d7)]);}}function updateStudentSyncView(_0x5db5e9){const _0x179534=_0x569b7c,_0x4a44d0=_0x5db5e9[_0x179534(0x3fc)][localTeamPlayers[0x0]];switch(_0x5db5e9[_0x179534(0xc81)]){case'lobby':showView('live-game'),liveGameView[_0x179534(0xa5b)]=_0x179534(0xb38);break;case _0x179534(0x215):const _0x59a30c=localTeamPlayers['every'](_0x27dca1=>_0x5db5e9[_0x179534(0x3fc)][_0x27dca1]?.['answered']===!![]);_0x59a30c?liveGameView[_0x179534(0xa5b)]=_0x179534(0x58e):renderStudentSyncQuestionView(_0x5db5e9);break;case _0x179534(0x526):liveGameView[_0x179534(0xa5b)]=_0x179534(0x4b7);break;case _0x179534(0x6c6):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x5db5e9);break;case _0x179534(0xa09):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x179534(0xd44)](_0x179534(0x97e),handleFullscreenChange),document[_0x179534(0xd44)]('visibilitychange',handleVisibilityChange),sessionStorage[_0x179534(0x4f3)]('activeGameSession');const _0x5d64de=calculateFinalPodiumScores(_0x5db5e9);showPodiumView(_0x5d64de,'sync');break;}}function renderStudentSyncResultsView(_0x3abb57){const _0x23021b=_0x569b7c,_0x3fd596=localTeamPlayers['map'](_0x23aac4=>_0x3abb57['players'][_0x23aac4])[_0x23021b(0x959)](Boolean);_0x3fd596[_0x23021b(0x64b)]((_0x2830f6,_0x3a579c)=>(_0x3a579c[_0x23021b(0x9f4)]||0x0)-(_0x2830f6[_0x23021b(0x9f4)]||0x0));const _0x203a12=_0x3abb57['currentQuestionIndex']>=_0x3abb57[_0x23021b(0x495)][_0x23021b(0x981)]['length']-0x1;let _0x1560db='';_0x203a12?_0x1560db=_0x23021b(0x384):_0x1560db=_0x23021b(0xc2c);const _0xf7076=_0x23021b(0x6f4)+_0x3fd596[_0x23021b(0xc3d)]((_0x51a296,_0x55007c)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x55007c+0x1)+_0x23021b(0x623)+_0x51a296['name']+_0x23021b(0x89a)+_0x51a296['score']+_0x23021b(0x31e))[_0x23021b(0xcbb)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1560db+_0x23021b(0x37b);liveGameView['innerHTML']=_0xf7076;}function renderStudentSyncQuestionView(_0x3a2ead){const _0xd3b792=_0x569b7c;while(localPlayerTurnIndex<localTeamPlayers[_0xd3b792(0xcda)]&&_0x3a2ead[_0xd3b792(0x3fc)][localTeamPlayers[localPlayerTurnIndex]]?.[_0xd3b792(0xcd5)]===!![]){localPlayerTurnIndex++;}const _0xcacf1d=localTeamPlayers[localPlayerTurnIndex];if(!_0xcacf1d)return;const _0x5ab8b6=_0x3a2ead[_0xd3b792(0x720)],_0x3a6a7f=_0x3a2ead[_0xd3b792(0x495)]['questions'][_0xd3b792(0xcda)],_0x6264d1=_0x3a2ead['shuffledQuiz'][_0xd3b792(0x981)][_0x5ab8b6],_0x17f28d=_0x6264d1['questionType']||_0x3a2ead[_0xd3b792(0x495)][_0xd3b792(0x5c7)];let _0xfaf62='',_0x56c7c8=![];switch(_0x17f28d){case'true_false':_0xfaf62=_0xd3b792(0x66f);break;case _0xd3b792(0x934):case'fill_in_no_choices':_0x56c7c8=!![],_0xfaf62='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'matching_item':_0x56c7c8=!![],_0xfaf62='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x6264d1[_0xd3b792(0x1db)]||[])[_0xd3b792(0xc3d)](_0x253a43=>_0xd3b792(0x2df)+_0x253a43+'\x22>'+_0x253a43+_0xd3b792(0xaed))[_0xd3b792(0xcbb)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0xd3b792(0x27b):default:_0xfaf62=(_0x6264d1[_0xd3b792(0xb7c)]||[])[_0xd3b792(0xc3d)]((_0x210cb0,_0xaad442)=>_0xd3b792(0x953)+_0xaad442+_0xd3b792(0xb93)+_0x210cb0+_0xd3b792(0xb1f))[_0xd3b792(0xcbb)]('');break;}liveGameView[_0xd3b792(0xa5b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x5ab8b6+0x1)+_0xd3b792(0xb05)+_0x3a6a7f+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20'+_0xcacf1d+_0xd3b792(0x3b8)+(_0x6264d1[_0xd3b792(0x332)]||_0x6264d1[_0xd3b792(0x73f)])+_0xd3b792(0x58d)+_0xfaf62+_0xd3b792(0x44b);if(window[_0xd3b792(0x858)])MathJax[_0xd3b792(0x5cc)]();function _0x41ccb0(_0x51b492,_0x49a516,_0x3f058d,_0x6f79ac){const _0x36df24=_0xd3b792,_0xbab5ac=_0x3f058d[_0x36df24(0x80b)]===!![];if(_0xbab5ac){document['getElementById'](_0x36df24(0x1e3))[_0x36df24(0x507)][_0x36df24(0xb42)]=_0x36df24(0x6c1);const _0x15a64f=document['getElementById'](_0x36df24(0x48b));_0x15a64f['dataset']['answerValue']=_0x51b492,_0x15a64f[_0x36df24(0x507)][_0x36df24(0x215)]=JSON[_0x36df24(0x25e)](_0x49a516),_0x15a64f[_0x36df24(0x507)][_0x36df24(0x502)]=JSON[_0x36df24(0x25e)](_0x3f058d),_0x15a64f[_0x36df24(0x507)]['playerName']=_0x6f79ac,document['getElementById']('confidence-modal')[_0x36df24(0x396)][_0x36df24(0x76f)](_0x36df24(0xb23));}else handleSyncAnswerSubmit(_0x51b492,_0x49a516,_0x3f058d,_0x6f79ac,![]);}_0x56c7c8?document[_0xd3b792(0xca0)]('sync-submit-btn')[_0xd3b792(0x79b)](_0xd3b792(0xd52),()=>{const _0x2f097c=_0xd3b792,_0x228225=document[_0x2f097c(0xca0)](_0x2f097c(0x569))||document[_0x2f097c(0xca0)](_0x2f097c(0x1e6));if(_0x228225[_0x2f097c(0xb85)][_0x2f097c(0xc9e)]()===''){showMessage(_0x2f097c(0x9e2));return;}_0x41ccb0(_0x228225[_0x2f097c(0xb85)],_0x6264d1,_0x3a2ead,_0xcacf1d);}):document[_0xd3b792(0x31c)](_0xd3b792(0x6c4))[_0xd3b792(0xb32)](_0x591a24=>{const _0x1a0f01=_0xd3b792;_0x591a24[_0x1a0f01(0x79b)](_0x1a0f01(0xd52),()=>{const _0x1fc611=_0x1a0f01;_0x41ccb0(_0x591a24[_0x1fc611(0x507)][_0x1fc611(0xb85)],_0x6264d1,_0x3a2ead,_0xcacf1d);});});}async function handleSyncAnswerSubmit(_0x316b72,_0xbb6506,_0x3b7165,_0x10a611,_0x4d30d7){const _0x3fb7c4=_0x569b7c;document[_0x3fb7c4(0x31c)](_0x3fb7c4(0x428))[_0x3fb7c4(0xb32)](_0x548ead=>_0x548ead[_0x3fb7c4(0x7b4)]=!![]);const _0x2d185f=_0xbb6506[_0x3fb7c4(0x879)]||_0x3b7165['shuffledQuiz'][_0x3fb7c4(0x5c7)];let _0x199494=![],_0x24db59=_0x316b72;switch(_0x2d185f){case'true_false':const _0x30c743=parseInt(_0x316b72),_0x41f46c=_0xbb6506[_0x3fb7c4(0x69f)]===!![]||String(_0xbb6506[_0x3fb7c4(0x69f)])[_0x3fb7c4(0x38f)]()===_0x3fb7c4(0x6c7);_0x199494=_0x30c743===0x0&&_0x41f46c||_0x30c743===0x1&&!_0x41f46c,_0x24db59=_0x30c743===0x0?'ใช่\x20/\x20ถูก':'ไม่ใช่\x20/\x20ผิด';break;case _0x3fb7c4(0x934):case'fill_in_no_choices':_0x199494=await gradeShortAnswer(_0x316b72,_0xbb6506);break;case _0x3fb7c4(0x489):_0x199494=_0x316b72===_0xbb6506['correctResponse'];break;case _0x3fb7c4(0x27b):default:const _0xca7dda=parseInt(_0x316b72);_0x199494=_0xca7dda===_0xbb6506[_0x3fb7c4(0x481)];_0xbb6506[_0x3fb7c4(0xb7c)]&&_0xbb6506[_0x3fb7c4(0xb7c)][_0xca7dda]&&(_0x24db59=_0xbb6506[_0x3fb7c4(0xb7c)][_0xca7dda]);break;}const _0x59d51b=_0x199494?0x1:0x0,_0x10ece0=doc(db,_0x3fb7c4(0x25b)+appId+_0x3fb7c4(0x1f4),currentLiveGameId),_0x17bc69={};_0x17bc69[_0x3fb7c4(0x5c8)+_0x10a611+_0x3fb7c4(0x7b0)]=increment(_0x59d51b),_0x17bc69[_0x3fb7c4(0x5c8)+_0x10a611+_0x3fb7c4(0x7e8)]=!![];let _0x107696=null;(_0x2d185f==='multiple_choice'||_0x2d185f==='true_false'||_0x2d185f===_0x3fb7c4(0xa44))&&(_0x107696=parseInt(_0x316b72));_0x17bc69['players.'+_0x10a611+_0x3fb7c4(0x92e)]=_0x107696;const _0x57ec07={'questionIndex':_0x3b7165[_0x3fb7c4(0x720)],'questionId':_0xbb6506['id'],'answer':_0x316b72,'answerText':_0x24db59,'isCorrect':_0x199494,'originalQuestionText':_0xbb6506[_0x3fb7c4(0x332)]||_0xbb6506['stem'],'wasConfident':_0x4d30d7};_0x17bc69['players.'+_0x10a611+_0x3fb7c4(0xc8d)]=arrayUnion(_0x57ec07),await updateDoc(_0x10ece0,_0x17bc69);}initialize();
