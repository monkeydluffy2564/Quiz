const _0x3a9af3=_0x4d75;(function(_0x5a8c45,_0x3bfeb8){const _0xb30651=_0x4d75,_0x22731d=_0x5a8c45();while(!![]){try{const _0x58e267=-parseInt(_0xb30651(0x503))/0x1+parseInt(_0xb30651(0x4d1))/0x2+-parseInt(_0xb30651(0x1bc))/0x3+parseInt(_0xb30651(0x499))/0x4+-parseInt(_0xb30651(0x216))/0x5+parseInt(_0xb30651(0x425))/0x6+parseInt(_0xb30651(0x209))/0x7*(parseInt(_0xb30651(0x449))/0x8);if(_0x58e267===_0x3bfeb8)break;else _0x22731d['push'](_0x22731d['shift']());}catch(_0x1a29d4){_0x22731d['push'](_0x22731d['shift']());}}}(_0xe68c,0x5eccf));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let db,auth,userId,currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x3a9af3(0x4ca),quizLeaderboardSortOrder=_0x3a9af3(0x391),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x3a9af3(0x1b7),'name':'คะแนนเต็ม','description':_0x3a9af3(0x266),'icon':_0x3a9af3(0x4a9)},'QUICK_THINKER':{'id':_0x3a9af3(0x379),'name':_0x3a9af3(0x258),'description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':_0x3a9af3(0x1a0)},'ON_FIRE':{'id':'on_fire','name':_0x3a9af3(0x370),'description':_0x3a9af3(0x43a),'icon':_0x3a9af3(0x517)},'FIRST_TRY_ACE':{'id':_0x3a9af3(0x259),'name':_0x3a9af3(0x1ef),'description':_0x3a9af3(0x4e3),'icon':_0x3a9af3(0x413)},'COMEBACK_KING':{'id':'comeback_king','name':_0x3a9af3(0x387),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x3a9af3(0xcd)},'SPECIALIST':{'id':_0x3a9af3(0x2a0),'name':_0x3a9af3(0x1fb),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x3a9af3(0x479)},'PERSEVERANCE':{'id':_0x3a9af3(0xc0),'name':_0x3a9af3(0x36c),'description':_0x3a9af3(0x2fe),'icon':_0x3a9af3(0x4e0)}},firebaseConfig={'apiKey':_0x3a9af3(0x257),'authDomain':_0x3a9af3(0x4db),'projectId':'ai-quiz-app-aefee','storageBucket':'ai-quiz-app-aefee.appspot.com','messagingSenderId':_0x3a9af3(0x1ca),'appId':_0x3a9af3(0x42b),'measurementId':_0x3a9af3(0x279)},appId=typeof __app_id!==_0x3a9af3(0x1e8)?__app_id:'ai-quiz-generator-v3',adminView=document['getElementById'](_0x3a9af3(0x287)),studentView=document[_0x3a9af3(0x353)](_0x3a9af3(0x4ee)),projectDashboardView=document[_0x3a9af3(0x353)](_0x3a9af3(0x36f)),projectDetailView=document['getElementById']('project-detail-view'),quizResultsView=document['getElementById'](_0x3a9af3(0x3ea)),projectList=document['getElementById'](_0x3a9af3(0x1fa)),noProjectsMsg=document[_0x3a9af3(0x353)](_0x3a9af3(0xc4)),projectTitle=document['getElementById']('project-title'),projectIdDisplay=document[_0x3a9af3(0x353)]('project-id-display'),studentList=document[_0x3a9af3(0x353)]('student-list'),messageModal=document[_0x3a9af3(0x353)](_0x3a9af3(0x4d3)),modalMessage=document[_0x3a9af3(0x353)]('modal-message'),createProjectModal=document[_0x3a9af3(0x353)](_0x3a9af3(0x21d)),adminPasswordModal=document[_0x3a9af3(0x353)]('admin-password-modal'),confirmationModal=document[_0x3a9af3(0x353)]('confirmation-modal'),userIdDisplay=document[_0x3a9af3(0x353)]('user-id-display'),topicTab=document[_0x3a9af3(0x353)](_0x3a9af3(0x3ed)),textTab=document[_0x3a9af3(0x353)](_0x3a9af3(0x2a5)),topicInputArea=document[_0x3a9af3(0x353)](_0x3a9af3(0x535)),textInputArea=document['getElementById'](_0x3a9af3(0x4d6)),manageTab=document['getElementById']('manage-tab'),resultsTab=document[_0x3a9af3(0x353)](_0x3a9af3(0x1b0)),leaderboardTab=document['getElementById']('leaderboard-tab'),manageTabContent=document['getElementById'](_0x3a9af3(0x1f0)),resultsTabContent=document[_0x3a9af3(0x353)](_0x3a9af3(0x2e6)),leaderboardTabContent=document[_0x3a9af3(0x353)](_0x3a9af3(0x11b)),projectQuizzesList=document['getElementById'](_0x3a9af3(0xf9)),fileTab=document['getElementById'](_0x3a9af3(0x3ba)),fileInputArea=document[_0x3a9af3(0x353)](_0x3a9af3(0x205)),fileUploadInput=document[_0x3a9af3(0x353)]('file-upload-input'),worksheetTab=document[_0x3a9af3(0x353)]('worksheet-tab'),worksheetInputArea=document['getElementById'](_0x3a9af3(0x41a)),generateWorksheetBtn=document[_0x3a9af3(0x353)](_0x3a9af3(0x20d)),studentInitialView=document[_0x3a9af3(0x353)]('student-initial-view'),studentNameSelectionView=document['getElementById'](_0x3a9af3(0x4b3)),studentQuizArea=document['getElementById'](_0x3a9af3(0x14c)),studentResultArea=document[_0x3a9af3(0x353)](_0x3a9af3(0xad)),studentReadingArea=document[_0x3a9af3(0x353)]('student-reading-area'),loadQuizBtn=document['getElementById'](_0x3a9af3(0x28f)),startQuizBtn=document['getElementById'](_0x3a9af3(0x284)),studentJoinGameView=document[_0x3a9af3(0x353)](_0x3a9af3(0x4ff)),presentationModal=document['getElementById'](_0x3a9af3(0x38a)),renameQuizModal=document['getElementById'](_0x3a9af3(0x243)),moveQuizModal=document[_0x3a9af3(0x353)]('move-quiz-modal'),quizSettingsModal=document[_0x3a9af3(0x353)](_0x3a9af3(0xdf)),quizStatusModal=document[_0x3a9af3(0x353)](_0x3a9af3(0x221)),liveGameView=document[_0x3a9af3(0x353)](_0x3a9af3(0x4bf));async function initialize(){const _0x26646a=_0x3a9af3;try{const _0x3c5d86=initializeApp(firebaseConfig);db=getFirestore(_0x3c5d86),auth=getAuth(_0x3c5d86),setupAuthListener(),setupEventListeners(),showView('student');}catch(_0x24e4bb){console['error'](_0x26646a(0xd0),_0x24e4bb),showMessage(_0x26646a(0x480));}}function compareNumericalAnswers(_0xf54ec,_0x10d9d9){const _0x10e6d7=_0x3a9af3,_0x32fde7=String(_0xf54ec)['replace'](',','.')[_0x10e6d7(0x16c)](/[^\d.-]/g,'')['trim'](),_0xf05ac7=String(_0x10d9d9)[_0x10e6d7(0x16c)](',','.')[_0x10e6d7(0x16c)](/[^\d.-]/g,'')[_0x10e6d7(0x31f)]();if(_0x32fde7===''||_0xf05ac7==='')return![];const _0x2247df=parseFloat(_0x32fde7),_0x4c8976=parseFloat(_0xf05ac7);if(isNaN(_0x2247df)||isNaN(_0x4c8976))return![];return Math[_0x10e6d7(0x1aa)](_0x2247df-_0x4c8976)<0.001;}async function gradeShortAnswer(_0x2bde24,_0x30c6da){const _0x4f80d=_0x3a9af3,_0x21cb04=_0x30c6da[_0x4f80d(0x306)];if(String(_0x2bde24)[_0x4f80d(0x31f)]()['toLowerCase']()===String(_0x21cb04)[_0x4f80d(0x31f)]()[_0x4f80d(0x41b)]())return!![];if(compareNumericalAnswers(_0x2bde24,_0x21cb04))return!![];return console[_0x4f80d(0x308)](_0x4f80d(0x151)),await gradeShortAnswerWithAI(_0x2bde24,_0x21cb04);}async function revealAnswerForAdmin(_0x1dbdad,_0x5125cf){const _0x5c4b09=_0x3a9af3;if(document[_0x5c4b09(0x353)](_0x5c4b09(0x267)))return;const _0xdc2151=doc(db,_0x5c4b09(0x372)+appId+_0x5c4b09(0x2e2),currentLiveGameId);await updateDoc(_0xdc2151,{'questionStatus':_0x5c4b09(0x30d)});const _0x51f24b=liveGameView[_0x5c4b09(0x3da)](_0x5c4b09(0x293));_0x51f24b&&(_0x51f24b[_0x5c4b09(0x500)][_0x5c4b09(0x1a7)](_0x5c4b09(0x30b)),_0x51f24b[_0x5c4b09(0x500)]['add']('bg-green-300','text-green-900',_0x5c4b09(0x404),_0x5c4b09(0x3fb),'border-green-500'),_0x51f24b[_0x5c4b09(0x416)]=_0x5c4b09(0x176)+_0x51f24b['innerHTML']);const _0x2dfa7a=document[_0x5c4b09(0x353)](_0x5c4b09(0x528));_0x2dfa7a&&(_0x2dfa7a['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1dbdad+0x1===_0x5125cf?_0x5c4b09(0x222):'ข้อต่อไป')+_0x5c4b09(0xb7),document[_0x5c4b09(0x353)](_0x5c4b09(0x267))[_0x5c4b09(0x22f)](_0x5c4b09(0xdc),async()=>{const _0x5542eb=_0x5c4b09,_0x220dc5=doc(db,_0x5542eb(0x372)+appId+'/public/data/liveGames',currentLiveGameId),_0x40dd58=await getDoc(_0x220dc5);if(!_0x40dd58[_0x5542eb(0x263)]())return;const _0x3c06f2=_0x40dd58[_0x5542eb(0x526)](),_0x45911d={};if(_0x3c06f2[_0x5542eb(0x2d1)])for(const _0x4d8d43 in _0x3c06f2['players']){_0x45911d[_0x5542eb(0x46a)+_0x4d8d43+'.answeredCurrentQuestion']=![];}const _0x3b9d5c=_0x1dbdad+0x1;_0x3b9d5c<_0x5125cf?(_0x45911d['currentQuestionIndex']=_0x3b9d5c,_0x45911d[_0x5542eb(0x34f)]=serverTimestamp(),_0x45911d[_0x5542eb(0xb8)]=_0x5542eb(0x3e8),await updateDoc(_0x220dc5,_0x45911d)):await updateDoc(_0x220dc5,{'status':_0x5542eb(0x422)});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x2b5ac5=>{const _0x64ba46=_0x4d75;if(_0x2b5ac5){userId=_0x2b5ac5[_0x64ba46(0x400)],userIdDisplay[_0x64ba46(0x38e)]=userId;if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes();}else await authenticateUser();});}function showPodiumView(_0x536ccf){const _0x1175c4=_0x3a9af3,_0x17f2c2=Object[_0x1175c4(0x147)](_0x536ccf)[_0x1175c4(0x1d6)](([_0x5c963e,_0x2d469e])=>({'name':_0x5c963e,'score':_0x2d469e[_0x1175c4(0x294)]||0x0,'badges':_0x2d469e[_0x1175c4(0x519)]||[]}));_0x17f2c2[_0x1175c4(0x241)]((_0xa3f9d3,_0x4d72fd)=>{const _0x157ff3=_0x1175c4,_0x3db9a3=_0x4d72fd[_0x157ff3(0x294)]-_0xa3f9d3[_0x157ff3(0x294)];if(_0x3db9a3!==0x0)return _0x3db9a3;return(_0x4d72fd[_0x157ff3(0x519)][_0x157ff3(0x2ef)]||0x0)-(_0xa3f9d3[_0x157ff3(0x519)][_0x157ff3(0x2ef)]||0x0);});const _0x1ea640=_0x426d44=>{const _0x6e674=_0x1175c4;if(!_0x426d44||_0x426d44[_0x6e674(0x2ef)]===0x0)return'';const _0x42a1b9={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x6e674(0x3cb)+_0x426d44[_0x6e674(0x1d6)](_0x802d39=>_0x42a1b9[_0x802d39]||'')[_0x6e674(0x4df)]('')+_0x6e674(0x25b);},_0x4077ec=_0x17f2c2[_0x1175c4(0x3e9)](0x3),_0x5bbafe=_0x4077ec[_0x1175c4(0x2ef)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4077ec[_0x1175c4(0x1d6)]((_0x75fd3,_0x294aae)=>_0x1175c4(0x515)+(_0x294aae+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x75fd3[_0x1175c4(0x37f)]+_0x1175c4(0x40a)+_0x75fd3[_0x1175c4(0x294)]+_0x1175c4(0x2f0))[_0x1175c4(0x4df)]('')+_0x1175c4(0x160):'',_0x5c7d3d=_0x1175c4(0x1e1)+(_0x17f2c2[0x1]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x17f2c2[0x1][_0x1175c4(0x37f)]+_0x1175c4(0x28e)+_0x1ea640(_0x17f2c2[0x1]['badges'])+_0x1175c4(0x371)+_0x17f2c2[0x1][_0x1175c4(0x294)]+_0x1175c4(0x13f):_0x1175c4(0x537))+_0x1175c4(0x182)+(_0x17f2c2[0x0]?_0x1175c4(0x24f)+_0x17f2c2[0x0][_0x1175c4(0x37f)]+_0x1175c4(0x28e)+_0x1ea640(_0x17f2c2[0x0][_0x1175c4(0x519)])+_0x1175c4(0x4ae)+_0x17f2c2[0x0]['score']+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x1175c4(0x537))+_0x1175c4(0x182)+(_0x17f2c2[0x2]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x17f2c2[0x2]['name']+_0x1175c4(0x28e)+_0x1ea640(_0x17f2c2[0x2][_0x1175c4(0x519)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x17f2c2[0x2][_0x1175c4(0x294)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'<div\x20class=\x22flex-1\x22></div>')+_0x1175c4(0x4c1)+_0x5bbafe+_0x1175c4(0x148)+(currentMode===_0x1175c4(0x2d3)?_0x1175c4(0x41e):_0x1175c4(0x47d))+_0x1175c4(0x29c);liveGameView[_0x1175c4(0x416)]=_0x5c7d3d,currentMode===_0x1175c4(0x2d3)&&document['getElementById'](_0x1175c4(0x4b6))[_0x1175c4(0x22f)](_0x1175c4(0xdc),async()=>{const _0x44fa93=_0x1175c4,_0x456975=doc(db,'artifacts/'+appId+_0x44fa93(0x2e2),currentLiveGameId);await deleteDoc(_0x456975),showView('admin-dashboard');});}async function handleStartLiveRace(_0x3eac54){const _0x28058=_0x3a9af3;let _0x463422=allQuizzes[_0x28058(0x307)](_0x5c032e=>_0x5c032e['id']===_0x3eac54);if(!_0x463422){const _0x15db0f=doc(db,_0x28058(0x372)+appId+_0x28058(0x31b),_0x3eac54),_0x15c8ea=await getDoc(_0x15db0f);if(!_0x15c8ea[_0x28058(0x263)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x463422={'id':_0x15c8ea['id'],..._0x15c8ea[_0x28058(0x526)]()};}currentQuizData=getShuffledQuiz(_0x463422);const _0x25ee89=_0x463422[_0x28058(0x4c3)]||currentProjectId||null,_0x553ca7=Math[_0x28058(0x46b)](0x3e8+Math[_0x28058(0x27a)]()*0x2328)[_0x28058(0x4f6)]();currentLiveGamePin=_0x553ca7;try{const _0x51e85b=await addDoc(collection(db,_0x28058(0x372)+appId+_0x28058(0x2e2)),{'quizId':_0x3eac54,'projectId':_0x25ee89,'status':_0x28058(0x4ea),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x553ca7,'createdAt':serverTimestamp()});currentLiveGameId=_0x51e85b['id'],showAdminLobbyView(_0x553ca7,_0x463422[_0x28058(0x107)]),listenForLiveGameUpdates();}catch(_0x5c3554){console['error'](_0x28058(0xdb),_0x5c3554),showMessage(_0x28058(0x482));}}async function handleShowStudentRankings(){const _0x9a0c6d=_0x3a9af3,_0x49a921=document['querySelector'](_0x9a0c6d(0x177));_0x49a921&&(_0x49a921[_0x9a0c6d(0x416)]=_0x9a0c6d(0x2dc));const _0x10caa7=document[_0x9a0c6d(0x3da)](_0x9a0c6d(0x2e7));_0x10caa7&&(_0x10caa7[_0x9a0c6d(0x416)]=_0x9a0c6d(0x10d));const _0x2fec1f=document[_0x9a0c6d(0x353)](_0x9a0c6d(0xe0));_0x2fec1f[_0x9a0c6d(0x500)][_0x9a0c6d(0x1a7)](_0x9a0c6d(0x398)),document[_0x9a0c6d(0x353)]('close-student-rankings-btn')['onclick']=()=>_0x2fec1f[_0x9a0c6d(0x500)][_0x9a0c6d(0x40d)](_0x9a0c6d(0x398));const _0x355b36=document['getElementById'](_0x9a0c6d(0x531)),_0x1b2b43=document[_0x9a0c6d(0x353)]('student-project-leaderboard-tab'),_0x503dea=document[_0x9a0c6d(0x353)]('student-quiz-leaderboard-content'),_0x5a3421=document[_0x9a0c6d(0x353)](_0x9a0c6d(0xb0));_0x355b36['onclick']=()=>{const _0xca032d=_0x9a0c6d;_0x355b36[_0xca032d(0x500)][_0xca032d(0x40d)](_0xca032d(0x438)),_0x1b2b43[_0xca032d(0x500)][_0xca032d(0x1a7)]('active'),_0x503dea[_0xca032d(0x500)][_0xca032d(0x1a7)]('hidden'),_0x5a3421[_0xca032d(0x500)][_0xca032d(0x40d)](_0xca032d(0x398));},_0x1b2b43[_0x9a0c6d(0x494)]=()=>{const _0x25cc7c=_0x9a0c6d;_0x1b2b43[_0x25cc7c(0x500)][_0x25cc7c(0x40d)](_0x25cc7c(0x438)),_0x355b36['classList'][_0x25cc7c(0x1a7)](_0x25cc7c(0x438)),_0x5a3421['classList']['remove'](_0x25cc7c(0x398)),_0x503dea[_0x25cc7c(0x500)]['add'](_0x25cc7c(0x398));};try{const _0x708d8=collection(db,_0x9a0c6d(0x372)+appId+_0x9a0c6d(0x314)+currentQuizData['id']+_0x9a0c6d(0x382)),_0x38bcfd=await getDocs(_0x708d8),_0x3a2d41=_0x38bcfd[_0x9a0c6d(0x48c)][_0x9a0c6d(0x1d6)](_0x1c86d9=>_0x1c86d9[_0x9a0c6d(0x526)]());renderQuizLeaderboard(_0x3a2d41,currentQuizData,_0x9a0c6d(0x1a8));const _0x3c7038=collection(db,_0x9a0c6d(0x372)+appId+_0x9a0c6d(0x51b)+currentQuizData['projectId']+_0x9a0c6d(0x520)),_0x5eaef3=await getDocs(_0x3c7038),_0x5398b3=_0x5eaef3[_0x9a0c6d(0x48c)][_0x9a0c6d(0x1d6)](_0x167798=>_0x167798[_0x9a0c6d(0x526)]());renderLeaderboard(_0x5398b3,'student-project-leaderboard-table-body');}catch(_0x34ddfd){console[_0x9a0c6d(0x4f7)](_0x9a0c6d(0x178),_0x34ddfd),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x5e11bc){const _0x1b7be7=_0x3a9af3,_0x3b9a78=_0x5e11bc[_0x1b7be7(0x1d7)],_0x1fe34b=_0x3b9a78['dataset'][_0x1b7be7(0x285)],_0x27c871=currentQuizData[_0x1b7be7(0x28c)][_0x1fe34b];if(!userId){showMessage(_0x1b7be7(0xe6));return;}try{const _0x2dfe13={..._0x27c871,'originalTopic':currentQuizData[_0x1b7be7(0x107)],'savedAt':serverTimestamp()},_0x531faa=collection(db,'artifacts/'+appId+_0x1b7be7(0x3d9)+userId+_0x1b7be7(0x181));await addDoc(_0x531faa,_0x2dfe13),showMessage(_0x1b7be7(0x15e)),_0x3b9a78[_0x1b7be7(0x500)][_0x1b7be7(0x1a7)](_0x1b7be7(0x3b3)),_0x3b9a78['classList'][_0x1b7be7(0x40d)](_0x1b7be7(0x312)),_0x3b9a78['disabled']=!![];}catch(_0x45ac67){console[_0x1b7be7(0x4f7)](_0x1b7be7(0x208),_0x45ac67),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function listenForStarredQuizzes(){const _0x399c5f=_0x3a9af3;if(!userId)return;const _0x18dd94=collection(db,_0x399c5f(0x372)+appId+_0x399c5f(0x31b)),_0x111670=query(_0x18dd94,where(_0x399c5f(0x470),'==',!![]));onSnapshot(_0x111670,_0xb52c98=>{const _0x1c9924=_0x399c5f;starredQuizzes=_0xb52c98[_0x1c9924(0x48c)][_0x1c9924(0x1d6)](_0x3bb43e=>({'id':_0x3bb43e['id'],..._0x3bb43e['data']()})),renderProjects();},_0x5e78db=>{const _0x4f9090=_0x399c5f;console[_0x4f9090(0x4f7)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x5e78db);});}async function handleToggleStarQuiz(_0x56fbe0){const _0x491645=_0x3a9af3,_0x2697b7=doc(db,_0x491645(0x372)+appId+_0x491645(0x31b),_0x56fbe0);try{const _0x232814=await getDoc(_0x2697b7);if(_0x232814[_0x491645(0x263)]()){const _0x1a9ce2=_0x232814[_0x491645(0x526)]()['isStarred']||![];await updateDoc(_0x2697b7,{'isStarred':!_0x1a9ce2});}}catch(_0x22f51a){console[_0x491645(0x4f7)]('Error\x20toggling\x20star\x20status:',_0x22f51a),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x271f29=_0x3a9af3,_0x18aa6e=document['getElementById'](_0x271f29(0x355));_0x18aa6e[_0x271f29(0x416)]=_0x271f29(0x448);try{const _0x293c78=collection(db,_0x271f29(0x372)+appId+'/users/'+userId+_0x271f29(0x181)),_0x565467=query(_0x293c78),_0x2a5246=await getDocs(_0x565467);if(_0x2a5246[_0x271f29(0xe3)]){_0x18aa6e['innerHTML']=_0x271f29(0x395);return;}let _0x3fe64d=_0x2a5246[_0x271f29(0x48c)][_0x271f29(0x1d6)](_0x432538=>{const _0x4b995c=_0x271f29,_0x485b21=_0x432538[_0x4b995c(0x526)](),_0x5df079=_0x432538['id'];return _0x4b995c(0x30e)+JSON[_0x4b995c(0x434)](_0x485b21)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x485b21[_0x4b995c(0x23e)]||_0x485b21[_0x4b995c(0x461)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x485b21[_0x4b995c(0x4c0)]+_0x4b995c(0x1bf);})[_0x271f29(0x4df)]('');_0x18aa6e[_0x271f29(0x416)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x3fe64d+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x271f29(0x353)](_0x271f29(0x406))[_0x271f29(0x22f)]('click',createQuizFromBank);}catch(_0x2257ec){console[_0x271f29(0x4f7)](_0x271f29(0x43e),_0x2257ec),_0x18aa6e[_0x271f29(0x416)]=_0x271f29(0x13c);}}function showAdminLiveQuestionView(_0xdaefd7,_0x5bb90f,_0x2a889b){const _0x26ed23=_0x3a9af3,_0x5354db=_0xdaefd7[_0x26ed23(0x518)]||currentQuizData['quizType'];let _0x4e9ffa='';if(_0x5354db===_0x26ed23(0x19c)||_0x5354db===_0x26ed23(0x4e6)){const _0x337e81=_0x5354db===_0x26ed23(0x4e6)?[_0x26ed23(0x2a9),_0x26ed23(0x188)]:_0xdaefd7[_0x26ed23(0x350)],_0x154b31=_0x5354db===_0x26ed23(0x4e6)?_0xdaefd7[_0x26ed23(0x117)]?0x0:0x1:_0xdaefd7[_0x26ed23(0x193)];_0x4e9ffa=_0x337e81[_0x26ed23(0x1d6)]((_0x284b46,_0x4ad9b1)=>_0x26ed23(0x2c6)+(_0x4ad9b1===_0x154b31)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x284b46+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}else{if(_0x5354db===_0x26ed23(0x2c0)){const _0x477445=_0xdaefd7[_0x26ed23(0x512)]||[];_0x4e9ffa=_0x477445[_0x26ed23(0x1d6)](_0x424c3f=>_0x26ed23(0x2c6)+(_0x424c3f===_0xdaefd7['correctResponse'])+_0x26ed23(0x44d)+_0x424c3f+_0x26ed23(0x26e))['join']('');}}const _0x5f49d6=_0xdaefd7[_0x26ed23(0x461)]||_0xdaefd7['questionText'],_0x387a01=_0x26ed23(0x363)+(_0x5bb90f+0x1)+_0x26ed23(0x3fe)+_0x2a889b+_0x26ed23(0xcb)+_0x5f49d6+_0x26ed23(0x3c2)+_0x4e9ffa+_0x26ed23(0x32a);liveGameView[_0x26ed23(0x416)]=_0x387a01;window[_0x26ed23(0xbb)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([liveGameView]);const _0x1d737a=document['getElementById'](_0x26ed23(0x528));document[_0x26ed23(0x353)](_0x26ed23(0x453))['addEventListener'](_0x26ed23(0xdc),async()=>{const _0xb6078d=_0x26ed23,_0x4b9a7b=doc(db,_0xb6078d(0x372)+appId+_0xb6078d(0x2e2),currentLiveGameId);await updateDoc(_0x4b9a7b,{'questionStatus':_0xb6078d(0x30d)});const _0xf4c5d2=liveGameView['querySelector'](_0xb6078d(0x293));_0xf4c5d2&&(_0xf4c5d2[_0xb6078d(0x500)]['remove'](_0xb6078d(0x30b)),_0xf4c5d2[_0xb6078d(0x500)][_0xb6078d(0x40d)](_0xb6078d(0x440),'text-green-900',_0xb6078d(0x404),_0xb6078d(0x3fb),_0xb6078d(0x4f0)),_0xf4c5d2[_0xb6078d(0x416)]=_0xb6078d(0x176)+_0xf4c5d2['innerHTML']),_0x1d737a[_0xb6078d(0x416)]=_0xb6078d(0x2f2)+(_0x5bb90f+0x1===_0x2a889b?_0xb6078d(0x222):'ข้อต่อไป')+_0xb6078d(0xb7),document[_0xb6078d(0x353)](_0xb6078d(0x267))[_0xb6078d(0x22f)](_0xb6078d(0xdc),async()=>{const _0x320448=_0xb6078d,_0x477f83=doc(db,_0x320448(0x372)+appId+_0x320448(0x2e2),currentLiveGameId),_0x103b85=await getDoc(_0x477f83);if(!_0x103b85[_0x320448(0x263)]())return;const _0x44dbd2=_0x103b85[_0x320448(0x526)](),_0x4db0c6={};if(_0x44dbd2[_0x320448(0x2d1)])for(const _0x1a3f5d in _0x44dbd2[_0x320448(0x2d1)]){_0x4db0c6[_0x320448(0x46a)+_0x1a3f5d+_0x320448(0x42d)]=![];}const _0x2c3bb0=_0x5bb90f+0x1;_0x2c3bb0<_0x2a889b?(_0x4db0c6[_0x320448(0x23c)]=_0x2c3bb0,_0x4db0c6[_0x320448(0x34f)]=serverTimestamp(),_0x4db0c6[_0x320448(0xb8)]=_0x320448(0x3e8),await updateDoc(_0x477f83,_0x4db0c6)):await updateDoc(_0x477f83,{'status':_0x320448(0x422)});});}),document[_0x26ed23(0x353)]('end-game-btn')['addEventListener'](_0x26ed23(0xdc),async()=>{const _0x36fad7=_0x26ed23,_0x2023ec=doc(db,_0x36fad7(0x372)+appId+_0x36fad7(0x2e2),currentLiveGameId);await deleteDoc(_0x2023ec),showView(_0x36fad7(0xfd));});}function showStudentLiveQuestionView(_0x394ae7,_0x279106,_0x28039e){const _0x29e25e=_0x3a9af3,_0x24eb29=_0x394ae7[_0x29e25e(0x518)]||currentQuizData[_0x29e25e(0x47b)];let _0x12f1ed='';if(_0x24eb29==='multiple_choice'||_0x24eb29===_0x29e25e(0x4e6)){const _0x237c2f=_0x24eb29==='true_false'?[_0x29e25e(0x2a9),_0x29e25e(0x188)]:_0x394ae7[_0x29e25e(0x350)];_0x12f1ed=_0x237c2f[_0x29e25e(0x1d6)]((_0x5cc11e,_0xda810e)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0xda810e+_0x29e25e(0x4c2)+_0x5cc11e+_0x29e25e(0x3b5))[_0x29e25e(0x4df)]('');}else{if(_0x24eb29==='matching_item'){const _0x36db90=_0x394ae7[_0x29e25e(0x512)]||[];_0x12f1ed=_0x36db90[_0x29e25e(0x1d6)]((_0x17e398,_0x425fbe)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x425fbe+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x17e398+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x29e25e(0x4df)]('');}else _0x24eb29===_0x29e25e(0x10f)&&(_0x12f1ed=_0x29e25e(0x327));}const _0x6d61b3=_0x394ae7[_0x29e25e(0x461)]||_0x394ae7[_0x29e25e(0x23e)],_0xc824ca=_0x29e25e(0x3a7)+(_0x279106+0x1)+'\x20/\x20'+_0x28039e+_0x29e25e(0x463)+_0x6d61b3+_0x29e25e(0xfe)+_0x12f1ed+_0x29e25e(0x1e3);liveGameView[_0x29e25e(0x416)]=_0xc824ca;window['MathJax']&&MathJax[_0x29e25e(0x4b5)]&&MathJax[_0x29e25e(0x4b5)]([liveGameView]);const _0x3896f8=document[_0x29e25e(0x353)](_0x29e25e(0x2aa));_0x3896f8&&_0x3896f8[_0x29e25e(0x22f)](_0x29e25e(0xdc),()=>{const _0x45b576=_0x29e25e,_0x255e20=document[_0x45b576(0x353)](_0x45b576(0x4b8))[_0x45b576(0x485)];handleLiveAnswer(_0x255e20,_0x394ae7);}),document[_0x29e25e(0x353)](_0x29e25e(0x313))[_0x29e25e(0x22f)](_0x29e25e(0xdc),_0x1755b8=>{const _0x43258c=_0x29e25e,_0x5d1078=_0x1755b8[_0x43258c(0x15b)][_0x43258c(0x345)](_0x43258c(0x272));if(_0x5d1078){const _0x2b717d=parseInt(_0x5d1078[_0x43258c(0x3e2)][_0x43258c(0x285)]);handleLiveAnswer(_0x2b717d,_0x394ae7);}});}async function handleLiveAnswer(_0x266c91,_0x19e236){const _0x20fa78=_0x3a9af3;document[_0x20fa78(0x1b4)](_0x20fa78(0x206))[_0x20fa78(0x46f)](_0xd8649d=>_0xd8649d[_0x20fa78(0x1b2)]=!![]);const _0x2b8eac=_0x19e236['questionType']||currentQuizData[_0x20fa78(0x47b)];let _0x142869=![];if(_0x2b8eac===_0x20fa78(0x10f)){const _0x58c2e1=(_0x266c91||'')[_0x20fa78(0x4f6)]();_0x142869=await gradeShortAnswer(_0x58c2e1,_0x19e236);}else{if(_0x2b8eac===_0x20fa78(0x19c))_0x142869=_0x266c91===_0x19e236[_0x20fa78(0x193)];else{if(_0x2b8eac===_0x20fa78(0x4e6)){const _0x166fa6=_0x19e236['correctAnswer'];_0x142869=_0x266c91===0x0&&_0x166fa6||_0x266c91===0x1&&!_0x166fa6;}else{if(_0x2b8eac==='matching_item'){const _0x4adb08=_0x19e236[_0x20fa78(0x512)][_0x266c91];_0x142869=_0x4adb08===_0x19e236[_0x20fa78(0x1e7)];}}}}const _0x18c986=doc(db,_0x20fa78(0x372)+appId+_0x20fa78(0x2e2),currentLiveGameId),_0x1e2a9c=await getDoc(_0x18c986);if(!_0x1e2a9c[_0x20fa78(0x263)]())return;const _0x4a4e4c=_0x1e2a9c[_0x20fa78(0x526)](),_0x34ed4e=_0x4a4e4c[_0x20fa78(0x2d1)][currentStudentName];let _0x2fc6bb=_0x34ed4e['badges']||[],_0x68db1f=_0x34ed4e[_0x20fa78(0x26b)]||0x0;const _0x3fb48b={};let _0x101714=0x0;if(_0x4a4e4c['questionDisplayedAt']){const _0x481532=_0x4a4e4c[_0x20fa78(0x34f)][_0x20fa78(0x38f)](),_0x45d324=new Date()-_0x481532;if(_0x142869){const _0x278cc5=0x3e8,_0x452ae1=0x1f4,_0x6d2272=0x4e20;let _0xc5a0cd=_0x45d324/_0x6d2272;if(_0xc5a0cd>0x1)_0xc5a0cd=0x1;const _0x596330=Math['round'](_0xc5a0cd*_0x452ae1);_0x101714=_0x278cc5-_0x596330,_0x45d324<=0x1388&&!_0x2fc6bb[_0x20fa78(0x129)](_0x20fa78(0x379))&&_0x2fc6bb['push'](_0x20fa78(0x379));}}_0x142869?(_0x68db1f++,_0x68db1f===0x3&&!_0x2fc6bb[_0x20fa78(0x129)](_0x20fa78(0x33e))&&(_0x2fc6bb[_0x20fa78(0x204)]('on_fire'),_0x68db1f=0x0)):_0x68db1f=0x0,_0x142869&&(_0x3fb48b[_0x20fa78(0x46a)+currentStudentName+'.score']=increment(_0x101714)),_0x3fb48b['players.'+currentStudentName+_0x20fa78(0x21c)]=_0x2fc6bb,_0x3fb48b[_0x20fa78(0x46a)+currentStudentName+'.correctStreak']=_0x68db1f,_0x3fb48b[_0x20fa78(0x46a)+currentStudentName+_0x20fa78(0x42d)]=!![],_0x3fb48b[_0x20fa78(0x46a)+currentStudentName+_0x20fa78(0x1cb)]=_0x142869,_0x3fb48b['players.'+currentStudentName+_0x20fa78(0x51e)]=_0x101714,await updateDoc(_0x18c986,_0x3fb48b),liveGameView[_0x20fa78(0x416)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function createQuizFromBank(){const _0x451cde=_0x3a9af3,_0x221f20=document[_0x451cde(0x1b4)](_0x451cde(0x286));if(_0x221f20[_0x451cde(0x2ef)]===0x0){showMessage(_0x451cde(0x3ce));return;}const _0x371b4b=[];_0x221f20[_0x451cde(0x46f)](_0x33a622=>{const _0x423595=_0x451cde;_0x371b4b[_0x423595(0x204)](JSON[_0x423595(0x40e)](_0x33a622[_0x423595(0x485)]));});const _0x58fdab={'topic':_0x451cde(0x13b),'questions':_0x371b4b};displayGeneratedQuiz(_0x58fdab);}function showAdminLobbyView(_0x4f78ce,_0x18e936){const _0x28225c=_0x3a9af3;showView(_0x28225c(0x3ec));const _0x27bf81='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x18e936+_0x28225c(0x2c5)+_0x4f78ce+_0x28225c(0xc8);liveGameView[_0x28225c(0x416)]=_0x27bf81,document[_0x28225c(0x353)](_0x28225c(0x19d))[_0x28225c(0x22f)]('click',async()=>{const _0xa40354=_0x28225c;if(!currentQuizData||!currentQuizData[_0xa40354(0x28c)]||currentQuizData['questions']['length']===0x0){showMessage(_0xa40354(0x120));return;}try{const _0x194f3a=doc(db,'artifacts/'+appId+_0xa40354(0x2e2),currentLiveGameId);await updateDoc(_0x194f3a,{'status':_0xa40354(0x3d4),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x3be834=currentQuizData[_0xa40354(0x28c)][0x0],_0x57a25d=currentQuizData['questions'][_0xa40354(0x2ef)];showAdminLiveQuestionView(_0x3be834,0x0,_0x57a25d);}catch(_0x25daa3){console[_0xa40354(0x4f7)](_0xa40354(0x2f7),_0x25daa3),showMessage(_0xa40354(0xda));}});}async function openGlobalLiveModal(){const _0x4c25e5=_0x3a9af3;if(allQuizzesGlobal['length']===0x0){const _0x53cafa=await getDocs(collection(db,_0x4c25e5(0x372)+appId+_0x4c25e5(0x31b)));allQuizzesGlobal=_0x53cafa[_0x4c25e5(0x48c)]['map'](_0x1aa569=>({'id':_0x1aa569['id'],..._0x1aa569[_0x4c25e5(0x526)]()}));}renderGlobalQuizList(''),document[_0x4c25e5(0x353)](_0x4c25e5(0x22e))['classList']['remove'](_0x4c25e5(0x398));}function renderGlobalQuizList(_0x25f153=''){const _0x12c40f=_0x3a9af3,_0x223987=document[_0x12c40f(0x353)](_0x12c40f(0x433)),_0x194a28=_0x25f153[_0x12c40f(0x41b)]()['trim'](),_0x35b5c1=allQuizzesGlobal[_0x12c40f(0x1d6)](_0x5399e0=>({..._0x5399e0,'projectName':allProjects[_0x12c40f(0x307)](_0x2e4273=>_0x2e4273['id']===_0x5399e0[_0x12c40f(0x4c3)])?.['projectName']||_0x5399e0[_0x12c40f(0x4c3)]}))['filter'](_0x36842f=>(_0x36842f['topic']||'')[_0x12c40f(0x41b)]()[_0x12c40f(0x129)](_0x194a28)||(_0x36842f[_0x12c40f(0x368)]||'')['toLowerCase']()[_0x12c40f(0x129)](_0x194a28));_0x223987[_0x12c40f(0x416)]=_0x35b5c1['length']?_0x35b5c1[_0x12c40f(0x1d6)](_0x34aa3e=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x34aa3e['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20'+(_0x34aa3e[_0x12c40f(0x107)]||_0x12c40f(0x23d))+_0x12c40f(0x290)+(_0x34aa3e[_0x12c40f(0x28c)]?.[_0x12c40f(0x2ef)]||0x0)+_0x12c40f(0xb1)+_0x34aa3e['projectName']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20')[_0x12c40f(0x4df)](''):'<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',selectedGlobalQuizId=null,document['getElementById']('confirm-global-live-btn')['disabled']=!![],_0x223987[_0x12c40f(0x1b4)](_0x12c40f(0x49e))['forEach'](_0x4cd7aa=>{const _0x78b81e=_0x12c40f;_0x4cd7aa[_0x78b81e(0x22f)](_0x78b81e(0xdc),()=>{const _0x1ff0e5=_0x78b81e;selectedGlobalQuizId=_0x4cd7aa[_0x1ff0e5(0x3e2)]['id'],_0x223987[_0x1ff0e5(0x1b4)](_0x1ff0e5(0x340))[_0x1ff0e5(0x46f)](_0x3d7283=>_0x3d7283[_0x1ff0e5(0x500)][_0x1ff0e5(0x1a7)](_0x1ff0e5(0x1c8),_0x1ff0e5(0x2ce),_0x1ff0e5(0x2a2))),_0x4cd7aa[_0x1ff0e5(0x500)][_0x1ff0e5(0x40d)]('bg-purple-50',_0x1ff0e5(0x2ce),_0x1ff0e5(0x2a2)),document[_0x1ff0e5(0x353)](_0x1ff0e5(0x2f1))[_0x1ff0e5(0x1b2)]=![];});});}function listenForLiveGameUpdates(){const _0x29a055=_0x3a9af3;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x622025=doc(db,_0x29a055(0x372)+appId+_0x29a055(0x2e2),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x622025,_0x477560=>{const _0x5052ae=_0x29a055;if(!_0x477560[_0x5052ae(0x263)]()){showMessage(_0x5052ae(0x303)),showView(currentMode);return;}const _0x3ea911=_0x477560[_0x5052ae(0x526)]();!currentQuizData&&_0x3ea911['quizId']&&((async()=>{const _0x44ad2f=_0x5052ae;try{const _0x729543=doc(db,_0x44ad2f(0x372)+appId+_0x44ad2f(0x31b),_0x3ea911[_0x44ad2f(0x37c)]),_0x1b50c0=await getDoc(_0x729543);_0x1b50c0[_0x44ad2f(0x263)]()&&(currentQuizData={'id':_0x1b50c0['id'],..._0x1b50c0[_0x44ad2f(0x526)]()});}catch(_0x369961){console[_0x44ad2f(0x4f7)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x369961);}})());switch(_0x3ea911[_0x5052ae(0x465)]){case _0x5052ae(0x4ea):if(currentMode===_0x5052ae(0x2d3)){const _0x82e841=_0x3ea911['players']?Object[_0x5052ae(0x1a2)](_0x3ea911[_0x5052ae(0x2d1)]):[];document[_0x5052ae(0x353)](_0x5052ae(0x4e1))[_0x5052ae(0x38e)]=_0x82e841[_0x5052ae(0x2ef)],document[_0x5052ae(0x353)](_0x5052ae(0x27c))[_0x5052ae(0x416)]=_0x82e841[_0x5052ae(0x1d6)](_0x162c64=>_0x5052ae(0x109)+_0x162c64+'</span>')[_0x5052ae(0x4df)]('');const _0x2c61d0=document['getElementById']('start-game-btn');_0x2c61d0&&(_0x2c61d0['disabled']=_0x82e841[_0x5052ae(0x2ef)]===0x0);}else showView(_0x5052ae(0x3ec)),liveGameView[_0x5052ae(0x416)]=_0x5052ae(0x4cd)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case'question':const _0x4e45f2=_0x3ea911[_0x5052ae(0x23c)];if(currentQuizData&&currentQuizData[_0x5052ae(0x28c)][_0x4e45f2]){const _0x367665=currentQuizData['questions'][_0x4e45f2],_0x4d1240=currentQuizData['questions'][_0x5052ae(0x2ef)];if(currentMode===_0x5052ae(0x2d3)){lastRenderedAdminQuestionIndex!==_0x4e45f2&&(showAdminLiveQuestionView(_0x367665,_0x4e45f2,_0x4d1240),lastRenderedAdminQuestionIndex=_0x4e45f2);const _0x2c5da8=document[_0x5052ae(0x353)]('answer-counter');if(_0x2c5da8&&_0x3ea911[_0x5052ae(0x2d1)]){const _0x1a1e8b=Object[_0x5052ae(0x1a2)](_0x3ea911[_0x5052ae(0x2d1)])[_0x5052ae(0x2ef)],_0xb3cd6=Object[_0x5052ae(0x508)](_0x3ea911[_0x5052ae(0x2d1)])[_0x5052ae(0x421)](_0x4baea1=>_0x4baea1[_0x5052ae(0x3bc)]===!![])['length'];_0x2c5da8[_0x5052ae(0x38e)]=_0xb3cd6+'/'+_0x1a1e8b,_0x1a1e8b>0x0&&_0xb3cd6===_0x1a1e8b&&_0x3ea911[_0x5052ae(0xb8)]!==_0x5052ae(0x30d)&&revealAnswerForAdmin(_0x4e45f2,_0x4d1240);}}else{const _0x56c98d=_0x3ea911[_0x5052ae(0x2d1)][currentStudentName];if(_0x3ea911[_0x5052ae(0xb8)]===_0x5052ae(0x30d)){if(_0x56c98d[_0x5052ae(0x3bc)]){const _0x1b5266=_0x56c98d[_0x5052ae(0x386)],_0xded821=_0x56c98d[_0x5052ae(0x169)]||0x0,_0x5cce50=_0x1b5266?_0x5052ae(0x1c0)+_0xded821+'\x20คะแนน':'คำตอบผิด';liveGameView[_0x5052ae(0x416)]=_0x5052ae(0x12d)+_0x5cce50+_0x5052ae(0x2d4);}else liveGameView[_0x5052ae(0x416)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>';}else!_0x56c98d['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x367665,_0x4e45f2,_0x4d1240);}}break;case _0x5052ae(0x422):showPodiumView(_0x3ea911[_0x5052ae(0x2d1)]);break;}});}async function authenticateUser(){const _0x2ae144=_0x3a9af3;try{typeof __initial_auth_token!==_0x2ae144(0x1e8)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x5aa9e6){console['error']('Authentication\x20failed:',_0x5aa9e6),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x33dfd0){const _0x59c165=_0x3a9af3,_0x458245=[_0x59c165(0x287),_0x59c165(0x4ee),_0x59c165(0x36f),_0x59c165(0x321),_0x59c165(0x3ea),_0x59c165(0x4bf)];_0x458245[_0x59c165(0x46f)](_0x55e150=>document[_0x59c165(0x353)](_0x55e150)?.['classList'][_0x59c165(0x40d)]('hidden'));if(_0x33dfd0===_0x59c165(0xfd))adminView[_0x59c165(0x500)][_0x59c165(0x1a7)](_0x59c165(0x398)),projectDashboardView[_0x59c165(0x500)]['remove'](_0x59c165(0x398));else{if(_0x33dfd0===_0x59c165(0x2e5))studentView[_0x59c165(0x500)][_0x59c165(0x1a7)](_0x59c165(0x398)),studentInitialView[_0x59c165(0x500)][_0x59c165(0x1a7)]('hidden'),studentNameSelectionView['classList'][_0x59c165(0x40d)](_0x59c165(0x398)),studentQuizArea[_0x59c165(0x500)]['add'](_0x59c165(0x398)),studentResultArea[_0x59c165(0x500)][_0x59c165(0x40d)]('hidden'),studentReadingArea[_0x59c165(0x500)]['add'](_0x59c165(0x398)),studentJoinGameView[_0x59c165(0x500)][_0x59c165(0x40d)](_0x59c165(0x398));else{if(_0x33dfd0===_0x59c165(0x1b8))adminView[_0x59c165(0x500)][_0x59c165(0x1a7)](_0x59c165(0x398)),projectDetailView['classList'][_0x59c165(0x1a7)](_0x59c165(0x398));else{if(_0x33dfd0===_0x59c165(0x457))adminView['classList'][_0x59c165(0x1a7)]('hidden'),quizResultsView[_0x59c165(0x500)][_0x59c165(0x1a7)](_0x59c165(0x398));else _0x33dfd0===_0x59c165(0x3ec)&&liveGameView[_0x59c165(0x500)][_0x59c165(0x1a7)](_0x59c165(0x398));}}}}function showJoinGameView(){const _0x4e01cc=_0x3a9af3;studentInitialView['classList'][_0x4e01cc(0x40d)](_0x4e01cc(0x398)),studentJoinGameView[_0x4e01cc(0x500)][_0x4e01cc(0x1a7)](_0x4e01cc(0x398));}function setupEventListeners(){const _0x57425c=_0x3a9af3;document['getElementById']('mode-switcher-btn')['addEventListener']('click',handleModeSwitch),document[_0x57425c(0x353)](_0x57425c(0xba))[_0x57425c(0x22f)](_0x57425c(0xdc),()=>{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}),document['getElementById'](_0x57425c(0x48a))[_0x57425c(0x22f)](_0x57425c(0xdc),()=>{const _0xa62529=_0x57425c;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0xa62529(0x1b8));}),document[_0x57425c(0x353)](_0x57425c(0x455))[_0x57425c(0x22f)](_0x57425c(0xdc),()=>{const _0x35ff51=_0x57425c;showView(_0x35ff51(0xfd));}),document[_0x57425c(0x353)](_0x57425c(0x2c1))[_0x57425c(0x22f)](_0x57425c(0xdc),()=>messageModal[_0x57425c(0x500)]['add']('hidden')),document[_0x57425c(0x353)](_0x57425c(0x1f7))['addEventListener'](_0x57425c(0xdc),()=>createProjectModal[_0x57425c(0x500)]['remove'](_0x57425c(0x398))),document[_0x57425c(0x353)](_0x57425c(0x385))[_0x57425c(0x22f)](_0x57425c(0xdc),()=>createProjectModal[_0x57425c(0x500)][_0x57425c(0x40d)](_0x57425c(0x398))),document[_0x57425c(0x353)](_0x57425c(0x513))['addEventListener'](_0x57425c(0xdc),()=>adminPasswordModal['classList'][_0x57425c(0x40d)](_0x57425c(0x398))),document[_0x57425c(0x353)](_0x57425c(0x226))[_0x57425c(0x22f)](_0x57425c(0xdc),handleAdminLogin),document[_0x57425c(0x353)](_0x57425c(0x4f3))['addEventListener'](_0x57425c(0x49b),_0x2e22a1=>{const _0x4db193=_0x57425c;if(_0x2e22a1[_0x4db193(0x2ea)]==='Enter')handleAdminLogin();}),document[_0x57425c(0x353)]('cancel-delete-btn')[_0x57425c(0x22f)](_0x57425c(0xdc),()=>{const _0x590fa8=_0x57425c;confirmationModal[_0x590fa8(0x500)][_0x590fa8(0x40d)](_0x590fa8(0x398)),confirmAction=null;}),document[_0x57425c(0x353)](_0x57425c(0x29f))[_0x57425c(0x22f)](_0x57425c(0xdc),()=>{const _0x42d0d5=_0x57425c;confirmAction&&confirmAction(),confirmationModal[_0x42d0d5(0x500)][_0x42d0d5(0x40d)](_0x42d0d5(0x398)),confirmAction=null;}),document['getElementById'](_0x57425c(0x37d))[_0x57425c(0x22f)](_0x57425c(0xdc),()=>renameQuizModal[_0x57425c(0x500)][_0x57425c(0x40d)](_0x57425c(0x398))),document['getElementById']('confirm-rename-quiz-btn')[_0x57425c(0x22f)](_0x57425c(0xdc),confirmRenameQuiz),document['getElementById'](_0x57425c(0x4ba))[_0x57425c(0x22f)](_0x57425c(0xdc),()=>moveQuizModal['classList']['add'](_0x57425c(0x398))),document[_0x57425c(0x353)](_0x57425c(0x2d9))[_0x57425c(0x22f)]('click',confirmMoveQuiz),document['getElementById']('cancel-quiz-settings-btn')[_0x57425c(0x22f)](_0x57425c(0xdc),()=>quizSettingsModal[_0x57425c(0x500)][_0x57425c(0x40d)]('hidden')),document[_0x57425c(0x353)](_0x57425c(0x2b8))[_0x57425c(0x22f)](_0x57425c(0xdc),confirmQuizSettings),document[_0x57425c(0x353)](_0x57425c(0x183))[_0x57425c(0x22f)](_0x57425c(0xdc),()=>quizStatusModal[_0x57425c(0x500)][_0x57425c(0x40d)](_0x57425c(0x398))),document[_0x57425c(0x353)](_0x57425c(0x4cb))['addEventListener'](_0x57425c(0xdc),confirmQuizStatus),document[_0x57425c(0x353)](_0x57425c(0xce))[_0x57425c(0x22f)](_0x57425c(0xdc),openGlobalLiveModal),document[_0x57425c(0x353)]('cancel-global-live-btn')[_0x57425c(0x22f)]('click',()=>{const _0x789e77=_0x57425c;document['getElementById']('global-live-game-modal')['classList'][_0x789e77(0x40d)]('hidden'),selectedGlobalQuizId=null;}),document['getElementById']('global-quiz-search-input')[_0x57425c(0x22f)](_0x57425c(0x333),_0x18b4ca=>renderGlobalQuizList(_0x18b4ca[_0x57425c(0x15b)][_0x57425c(0x485)])),document[_0x57425c(0x353)](_0x57425c(0x2f1))[_0x57425c(0x22f)](_0x57425c(0xdc),()=>{const _0x511ea7=_0x57425c,_0x450911=selectedGlobalQuizId;if(!_0x450911)return;document[_0x511ea7(0x353)](_0x511ea7(0x22e))['classList'][_0x511ea7(0x40d)](_0x511ea7(0x398)),handleStartLiveRace(_0x450911);}),document[_0x57425c(0x353)](_0x57425c(0x225))[_0x57425c(0x22f)](_0x57425c(0x333),renderProjects),document[_0x57425c(0x353)](_0x57425c(0x49a))[_0x57425c(0x22f)]('change',renderProjects),document[_0x57425c(0x353)](_0x57425c(0x2ff))['addEventListener']('input',renderQuizzes),manageTab['addEventListener']('click',()=>switchProjectTab(_0x57425c(0xf3))),resultsTab['addEventListener'](_0x57425c(0xdc),()=>switchProjectTab(_0x57425c(0x2c4))),leaderboardTab[_0x57425c(0x22f)](_0x57425c(0xdc),()=>switchProjectTab(_0x57425c(0x14b))),document[_0x57425c(0x353)](_0x57425c(0x2d0))[_0x57425c(0x22f)]('click',()=>switchQuizDetailTab(_0x57425c(0x21b))),document[_0x57425c(0x353)](_0x57425c(0x522))[_0x57425c(0x22f)](_0x57425c(0xdc),()=>switchQuizDetailTab(_0x57425c(0x2f4))),document['getElementById'](_0x57425c(0x36b))[_0x57425c(0x22f)](_0x57425c(0xdc),()=>switchQuizDetailTab(_0x57425c(0x33a))),document[_0x57425c(0x353)](_0x57425c(0x138))[_0x57425c(0x22f)](_0x57425c(0xdc),handleAnalyzeClass),generateWorksheetBtn[_0x57425c(0x22f)]('click',generateWorksheet);const _0x1fc656=document['getElementById'](_0x57425c(0x377)),_0x123287=document[_0x57425c(0x353)](_0x57425c(0x159));topicTab['addEventListener'](_0x57425c(0xdc),()=>{const _0x470204=_0x57425c;topicTab[_0x470204(0x500)][_0x470204(0x40d)](_0x470204(0x438)),textTab['classList']['remove'](_0x470204(0x438)),fileTab[_0x470204(0x500)]['remove'](_0x470204(0x438)),worksheetTab['classList'][_0x470204(0x1a7)](_0x470204(0x438));if(_0x1fc656)_0x1fc656[_0x470204(0x500)][_0x470204(0x1a7)]('active');topicInputArea['classList'][_0x470204(0x1a7)]('hidden'),textInputArea['classList'][_0x470204(0x40d)](_0x470204(0x398)),fileInputArea['classList'][_0x470204(0x40d)]('hidden'),worksheetInputArea[_0x470204(0x500)][_0x470204(0x40d)](_0x470204(0x398));if(_0x123287)_0x123287[_0x470204(0x500)][_0x470204(0x40d)](_0x470204(0x398));}),textTab[_0x57425c(0x22f)](_0x57425c(0xdc),()=>{const _0x4404ab=_0x57425c;textTab[_0x4404ab(0x500)][_0x4404ab(0x40d)](_0x4404ab(0x438)),topicTab[_0x4404ab(0x500)][_0x4404ab(0x1a7)]('active'),fileTab[_0x4404ab(0x500)]['remove'](_0x4404ab(0x438)),worksheetTab[_0x4404ab(0x500)]['remove'](_0x4404ab(0x438));if(_0x1fc656)_0x1fc656[_0x4404ab(0x500)][_0x4404ab(0x1a7)](_0x4404ab(0x438));textInputArea[_0x4404ab(0x500)]['remove'](_0x4404ab(0x398)),topicInputArea[_0x4404ab(0x500)][_0x4404ab(0x40d)]('hidden'),fileInputArea['classList'][_0x4404ab(0x40d)](_0x4404ab(0x398)),worksheetInputArea[_0x4404ab(0x500)][_0x4404ab(0x40d)](_0x4404ab(0x398));if(_0x123287)_0x123287[_0x4404ab(0x500)][_0x4404ab(0x40d)](_0x4404ab(0x398));}),fileTab[_0x57425c(0x22f)]('click',()=>{const _0x1f8812=_0x57425c;fileTab[_0x1f8812(0x500)]['add'](_0x1f8812(0x438)),topicTab[_0x1f8812(0x500)][_0x1f8812(0x1a7)]('active'),textTab[_0x1f8812(0x500)][_0x1f8812(0x1a7)]('active'),worksheetTab[_0x1f8812(0x500)][_0x1f8812(0x1a7)](_0x1f8812(0x438));if(_0x1fc656)_0x1fc656[_0x1f8812(0x500)][_0x1f8812(0x1a7)](_0x1f8812(0x438));fileInputArea[_0x1f8812(0x500)][_0x1f8812(0x1a7)](_0x1f8812(0x398)),topicInputArea[_0x1f8812(0x500)][_0x1f8812(0x40d)](_0x1f8812(0x398)),textInputArea[_0x1f8812(0x500)][_0x1f8812(0x40d)](_0x1f8812(0x398)),worksheetInputArea[_0x1f8812(0x500)][_0x1f8812(0x40d)](_0x1f8812(0x398));if(_0x123287)_0x123287[_0x1f8812(0x500)][_0x1f8812(0x40d)](_0x1f8812(0x398));}),worksheetTab['addEventListener'](_0x57425c(0xdc),()=>{const _0x1d2772=_0x57425c;worksheetTab[_0x1d2772(0x500)][_0x1d2772(0x40d)](_0x1d2772(0x438)),topicTab[_0x1d2772(0x500)]['remove'](_0x1d2772(0x438)),textTab[_0x1d2772(0x500)][_0x1d2772(0x1a7)]('active'),fileTab['classList'][_0x1d2772(0x1a7)]('active');if(_0x1fc656)_0x1fc656[_0x1d2772(0x500)]['remove'](_0x1d2772(0x438));worksheetInputArea[_0x1d2772(0x500)]['remove'](_0x1d2772(0x398)),topicInputArea[_0x1d2772(0x500)][_0x1d2772(0x40d)](_0x1d2772(0x398)),textInputArea['classList'][_0x1d2772(0x40d)](_0x1d2772(0x398)),fileInputArea['classList'][_0x1d2772(0x40d)](_0x1d2772(0x398));if(_0x123287)_0x123287[_0x1d2772(0x500)]['add'](_0x1d2772(0x398));});const _0x5859e0=document[_0x57425c(0x353)](_0x57425c(0x45c)),_0xa66069=document[_0x57425c(0x353)](_0x57425c(0x355));_0x5859e0&&_0x5859e0[_0x57425c(0x22f)](_0x57425c(0xdc),()=>{const _0x414492=_0x57425c;topicTab[_0x414492(0x500)][_0x414492(0x1a7)](_0x414492(0x438)),textTab[_0x414492(0x500)][_0x414492(0x1a7)](_0x414492(0x438)),fileTab[_0x414492(0x500)][_0x414492(0x1a7)]('active'),worksheetTab[_0x414492(0x500)][_0x414492(0x1a7)]('active');if(_0x1fc656)_0x1fc656[_0x414492(0x500)][_0x414492(0x1a7)](_0x414492(0x438));_0x5859e0[_0x414492(0x500)]['add'](_0x414492(0x438)),topicInputArea[_0x414492(0x500)][_0x414492(0x40d)](_0x414492(0x398)),textInputArea['classList']['add'](_0x414492(0x398)),fileInputArea[_0x414492(0x500)][_0x414492(0x40d)](_0x414492(0x398)),worksheetInputArea[_0x414492(0x500)]['add'](_0x414492(0x398));if(_0x123287)_0x123287[_0x414492(0x500)][_0x414492(0x40d)](_0x414492(0x398));_0xa66069[_0x414492(0x500)]['remove'](_0x414492(0x398)),displayQuestionBank();});_0x1fc656&&(_0x1fc656[_0x57425c(0x22f)]('click',()=>{const _0x1b74e6=_0x57425c;topicTab[_0x1b74e6(0x500)][_0x1b74e6(0x1a7)](_0x1b74e6(0x438)),textTab[_0x1b74e6(0x500)][_0x1b74e6(0x1a7)](_0x1b74e6(0x438)),fileTab[_0x1b74e6(0x500)][_0x1b74e6(0x1a7)](_0x1b74e6(0x438)),worksheetTab[_0x1b74e6(0x500)][_0x1b74e6(0x1a7)](_0x1b74e6(0x438)),_0x1fc656[_0x1b74e6(0x500)][_0x1b74e6(0x40d)]('active'),topicInputArea[_0x1b74e6(0x500)][_0x1b74e6(0x40d)](_0x1b74e6(0x398)),textInputArea[_0x1b74e6(0x500)][_0x1b74e6(0x40d)]('hidden'),fileInputArea[_0x1b74e6(0x500)][_0x1b74e6(0x40d)]('hidden'),worksheetInputArea['classList'][_0x1b74e6(0x40d)](_0x1b74e6(0x398)),_0x123287[_0x1b74e6(0x500)][_0x1b74e6(0x1a7)]('hidden');}),document['getElementById']('generate-from-link-btn')[_0x57425c(0x22f)]('click',handleGenerateFromLink));loadQuizBtn[_0x57425c(0x22f)](_0x57425c(0xdc),handleLoadQuiz),startQuizBtn[_0x57425c(0x22f)]('click',()=>{const _0x250de1=_0x57425c,_0x421a8e=document[_0x250de1(0x353)](_0x250de1(0x157));currentStudentName=_0x421a8e['value'];if(!currentStudentName){showMessage(_0x250de1(0x27e));return;}studentNameSelectionView[_0x250de1(0x500)][_0x250de1(0x40d)](_0x250de1(0x398)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x57425c(0x353)](_0x57425c(0x43f))['addEventListener'](_0x57425c(0xdc),showJoinGameView),document[_0x57425c(0x353)]('confirm-join-game-btn')[_0x57425c(0x22f)](_0x57425c(0xdc),handleJoinLiveGame),document[_0x57425c(0x353)](_0x57425c(0x2fb))[_0x57425c(0x22f)]('click',()=>showView(_0x57425c(0x2e5)));const _0x59429f=()=>{const _0x10e337=_0x57425c,_0x77838d=document['getElementById']('results-quiz-title')[_0x10e337(0x38e)]['replace'](/[^a-z0-9]/gi,'_')[_0x10e337(0x41b)]();return _0x10e337(0x137)+(_0x77838d||_0x10e337(0x11a));};document[_0x57425c(0x353)](_0x57425c(0x497))[_0x57425c(0x22f)]('click',()=>exportTableAsImage(_0x57425c(0x52b),_0x59429f())),document[_0x57425c(0x353)]('export-pdf-btn')[_0x57425c(0x22f)]('click',()=>exportTableAsPDF(_0x57425c(0xd7),_0x59429f())),document[_0x57425c(0x353)]('export-word-btn')[_0x57425c(0x22f)]('click',()=>exportTableAsWord(_0x57425c(0x52b),_0x59429f())),document[_0x57425c(0x353)](_0x57425c(0x417))[_0x57425c(0x22f)]('click',()=>exportTableAsExcel(_0x57425c(0xd7),_0x59429f()));const _0x35017a=()=>{const _0x241b00=_0x57425c,_0x262d47=document[_0x241b00(0x353)](_0x241b00(0x428))['textContent'][_0x241b00(0x16c)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x241b00(0x502)+(_0x262d47||_0x241b00(0x11a));};document['getElementById'](_0x57425c(0x33c))[_0x57425c(0x22f)](_0x57425c(0xdc),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x35017a())),document['getElementById'](_0x57425c(0x288))[_0x57425c(0x22f)]('click',()=>exportTableAsPDF(_0x57425c(0x2b7),_0x35017a())),document[_0x57425c(0x353)](_0x57425c(0x1dc))[_0x57425c(0x22f)](_0x57425c(0xdc),()=>exportTableAsWord(_0x57425c(0x2b9),_0x35017a())),document[_0x57425c(0x353)](_0x57425c(0x144))['addEventListener'](_0x57425c(0xdc),()=>exportTableAsExcel(_0x57425c(0x2b7),_0x35017a())),projectQuizzesList[_0x57425c(0x22f)]('click',async _0x51e89e=>{const _0x318457=_0x57425c,_0x2f6462=_0x51e89e[_0x318457(0x15b)][_0x318457(0x345)](_0x318457(0x262)),_0x158a8d=_0x51e89e[_0x318457(0x15b)]['closest'](_0x318457(0x298)),_0x30639=_0x51e89e[_0x318457(0x15b)]['closest'](_0x318457(0x3e5)),_0x2d505e=_0x51e89e[_0x318457(0x15b)][_0x318457(0x345)](_0x318457(0xbf)),_0x217b57=_0x51e89e['target']['closest']('.admin-try-quiz-list-btn'),_0x16944f=_0x51e89e[_0x318457(0x15b)][_0x318457(0x345)]('.rename-quiz-btn'),_0x4287f7=_0x51e89e['target'][_0x318457(0x345)](_0x318457(0x2ed)),_0x495613=_0x51e89e[_0x318457(0x15b)][_0x318457(0x345)](_0x318457(0x43c)),_0x31299f=_0x51e89e['target']['closest'](_0x318457(0x185)),_0x545b0c=_0x51e89e['target'][_0x318457(0x345)](_0x318457(0x51f)),_0x31b492=_0x51e89e[_0x318457(0x15b)]['closest'](_0x318457(0x52c)),_0xab4c83=_0x51e89e[_0x318457(0x15b)]['closest'](_0x318457(0xd8));if(_0xab4c83){const _0xfd960f=_0xab4c83[_0x318457(0x3e2)][_0x318457(0x37c)];handleOpenQuizEditor(_0xfd960f);}else{if(_0x2f6462){const _0x5a7718=_0x2f6462[_0x318457(0x3e2)][_0x318457(0x37c)];handleToggleStarQuiz(_0x5a7718);}else{if(_0x31b492){const _0x2cc16a=_0x31b492['dataset'][_0x318457(0x37c)];handleStartLiveRace(_0x2cc16a);}else{if(_0x158a8d){const _0x3e27da=_0x158a8d[_0x318457(0x3e2)][_0x318457(0x37c)],_0x433eac=_0x158a8d[_0x318457(0x3e2)][_0x318457(0x107)];showConfirmation(_0x318457(0x242)+_0x433eac+'\x22?\x20ผลการส่งงานทั้งหมดของแบบทดสอบนี้จะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x3e27da));}else{if(_0x30639){const _0xf2fd93=_0x30639[_0x318457(0x3e2)]['quizId'];copyTextToClipboard(_0xf2fd93,'คัดลอกรหัสแล้ว!');}else{if(_0x2d505e){const _0x492daa=_0x2d505e['dataset'][_0x318457(0x37c)],_0x114c78=doc(db,_0x318457(0x372)+appId+_0x318457(0x31b),_0x492daa),_0x34e6ba=await getDoc(_0x114c78);if(_0x34e6ba[_0x318457(0x263)]()){const _0x34eac2=sanitizeQuizData({'id':_0x34e6ba['id'],..._0x34e6ba[_0x318457(0x526)]()});startPresentation(_0x34eac2);}else showMessage(_0x318457(0x261));}else{if(_0x217b57){const _0x9723a3=_0x217b57[_0x318457(0x3e2)]['quizId'],_0x457900=doc(db,'artifacts/'+appId+_0x318457(0x31b),_0x9723a3),_0x53ea52=await getDoc(_0x457900);_0x53ea52[_0x318457(0x263)]()?(currentQuizData=sanitizeQuizData({'id':_0x53ea52['id'],..._0x53ea52[_0x318457(0x526)]()}),startAdminTest()):showMessage(_0x318457(0x261));}else{if(_0x16944f){const _0x5b9ec1=_0x16944f[_0x318457(0x3e2)][_0x318457(0x37c)],_0x3de108=_0x16944f['dataset'][_0x318457(0x107)];handleRenameQuiz(_0x5b9ec1,_0x3de108);}else{if(_0x4287f7){const _0x161373=_0x4287f7['dataset']['quizId'];handleMoveQuiz(_0x161373);}else{if(_0x495613){const _0x42ffc4=_0x495613[_0x318457(0x3e2)]['quizId'];handleQuizSettings(_0x42ffc4);}else{if(_0x31299f){const _0x37294f=_0x31299f[_0x318457(0x3e2)][_0x318457(0x37c)];handleQuizStatus(_0x37294f);}else{if(_0x545b0c){const _0x4575c3=_0x545b0c[_0x318457(0x3e2)]['quizId'];handleDuplicateQuiz(_0x4575c3);}}}}}}}}}}}}}),document[_0x57425c(0x353)](_0x57425c(0x2b7))['querySelector'](_0x57425c(0x361))[_0x57425c(0x22f)](_0x57425c(0xdc),_0x3f2399=>{const _0x293be4=_0x57425c,_0x43e547=_0x3f2399['target'][_0x293be4(0x345)](_0x293be4(0x3e1));if(!_0x43e547||!_0x43e547[_0x293be4(0x3e2)]['sort'])return;const _0x4658ae=_0x43e547['dataset'][_0x293be4(0x241)];if(quizLeaderboardSortBy===_0x4658ae)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x293be4(0x1f5)?_0x293be4(0x391):_0x293be4(0x1f5);else{quizLeaderboardSortBy=_0x4658ae;const _0x90b1fc=[_0x293be4(0x292)];quizLeaderboardSortOrder=_0x90b1fc[_0x293be4(0x129)](_0x4658ae)?_0x293be4(0x1f5):_0x293be4(0x391);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x293be4(0x4fc));}),document[_0x57425c(0x353)]('close-presentation-btn')[_0x57425c(0x22f)](_0x57425c(0xdc),closePresentation),document[_0x57425c(0x353)]('prev-question-btn')[_0x57425c(0x22f)](_0x57425c(0xdc),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x57425c(0x36d))[_0x57425c(0x22f)]('click',()=>{const _0x4c7778=_0x57425c;currentQuizData[_0x4c7778(0x28c)]&&currentPresentationSlide<currentQuizData['questions'][_0x4c7778(0x2ef)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x57425c(0x22f)]('fullscreenchange',()=>{const _0x469d80=_0x57425c;!document[_0x469d80(0x4c4)]&&(presentationModal[_0x469d80(0x335)][_0x469d80(0x3bd)]='none');}),document['getElementById']('delete-all-students-btn')[_0x57425c(0x22f)](_0x57425c(0xdc),handleDeleteAllStudents),studentList[_0x57425c(0x22f)]('click',_0x1b0aea=>{const _0x5a29f8=_0x57425c,_0x3abd58=_0x1b0aea[_0x5a29f8(0x15b)][_0x5a29f8(0x345)]('.delete-student-btn');if(_0x3abd58){const _0x3444df=_0x3abd58['dataset']['studentName'];handleDeleteStudent(_0x3444df);}}),fileUploadInput[_0x57425c(0x22f)](_0x57425c(0x247),handleFileUpload),document[_0x57425c(0x353)](_0x57425c(0x4ec))[_0x57425c(0x22f)](_0x57425c(0x247),_0x396f0b=>{const _0xdf703a=_0x57425c,_0x11b414=document[_0xdf703a(0x353)](_0xdf703a(0x23a)),_0x23d605=document['getElementById'](_0xdf703a(0x1bb)),_0x18ab8e=document[_0xdf703a(0x353)](_0xdf703a(0xb5));_0x396f0b[_0xdf703a(0x15b)][_0xdf703a(0x485)]===_0xdf703a(0x1ff)?_0x11b414[_0xdf703a(0x500)]['add'](_0xdf703a(0x398)):(_0x11b414[_0xdf703a(0x500)][_0xdf703a(0x1a7)]('hidden'),_0x396f0b[_0xdf703a(0x15b)][_0xdf703a(0x485)]===_0xdf703a(0x149)?(_0x23d605[_0xdf703a(0x38e)]=_0xdf703a(0x305),_0x18ab8e['value']='10'):(_0x23d605['textContent']='ระยะเวลา\x20(วินาที):',_0x18ab8e[_0xdf703a(0x485)]='30'));}),document['getElementById']('quiz-type-select')[_0x57425c(0x22f)]('change',_0x22cde0=>{const _0x4d5ef2=_0x57425c,_0x49e062=document[_0x4d5ef2(0x353)](_0x4d5ef2(0x19e)),_0x2e9e5=_0x22cde0['target'][_0x4d5ef2(0x485)],_0x1df8b6=document[_0x4d5ef2(0x3da)](_0x4d5ef2(0x458)),_0x665bd4=document[_0x4d5ef2(0x353)](_0x4d5ef2(0x4f1)),_0x4f7626=document['getElementById'](_0x4d5ef2(0x331));_0x2e9e5==='matching'?_0x1df8b6[_0x4d5ef2(0x38e)]=_0x4d5ef2(0x1fe):_0x1df8b6[_0x4d5ef2(0x38e)]='จำนวนข้อ:',_0x2e9e5===_0x4d5ef2(0x19c)||_0x2e9e5===_0x4d5ef2(0x2f8)||_0x2e9e5===_0x4d5ef2(0x2bc)?_0x49e062[_0x4d5ef2(0x500)][_0x4d5ef2(0x1a7)](_0x4d5ef2(0x398)):_0x49e062['classList']['add']('hidden'),_0x665bd4[_0x4d5ef2(0x23b)]=_0x4f7626[_0x4d5ef2(0x485)];}),document[_0x57425c(0x353)](_0x57425c(0x331))[_0x57425c(0x22f)](_0x57425c(0x333),_0x197454=>{const _0x352209=_0x57425c;document[_0x352209(0x353)](_0x352209(0x4f1))[_0x352209(0x23b)]=_0x197454[_0x352209(0x15b)][_0x352209(0x485)];}),document[_0x57425c(0x353)](_0x57425c(0x4a5))[_0x57425c(0x22f)](_0x57425c(0x247),_0x49837c=>{const _0x230360=_0x57425c,_0xa5e4f2=document[_0x230360(0x353)]('modal-timer-duration-container'),_0x27b947=document['getElementById'](_0x230360(0x24e)),_0x378072=document[_0x230360(0x353)](_0x230360(0x20b));_0x49837c[_0x230360(0x15b)][_0x230360(0x485)]==='none'?_0xa5e4f2['classList'][_0x230360(0x40d)]('hidden'):(_0xa5e4f2[_0x230360(0x500)]['remove'](_0x230360(0x398)),_0x49837c['target'][_0x230360(0x485)]==='whole_quiz'?_0x27b947[_0x230360(0x38e)]=_0x230360(0x305):_0x27b947['textContent']='ระยะเวลา\x20(วินาที):');}),document[_0x57425c(0x353)](_0x57425c(0x1bd))[_0x57425c(0x22f)](_0x57425c(0xdc),()=>{const _0x21dd9c=_0x57425c;document[_0x21dd9c(0x353)]('quiz-editor-modal')[_0x21dd9c(0x500)][_0x21dd9c(0x40d)]('hidden');}),document[_0x57425c(0x353)](_0x57425c(0x18c))[_0x57425c(0x22f)](_0x57425c(0xdc),()=>{const _0x14a29e=_0x57425c;document[_0x14a29e(0x353)](_0x14a29e(0x339))[_0x14a29e(0x500)][_0x14a29e(0x40d)](_0x14a29e(0x398));}),document[_0x57425c(0x353)]('save-quiz-edits-btn')[_0x57425c(0x22f)](_0x57425c(0xdc),()=>{const _0x3e6b01=_0x57425c;document[_0x3e6b01(0x353)](_0x3e6b01(0x339))[_0x3e6b01(0x500)][_0x3e6b01(0x40d)](_0x3e6b01(0x398)),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);});}function handleModeSwitch(){const _0x2dd96c=_0x3a9af3,_0xf8bde3=document[_0x2dd96c(0x353)](_0x2dd96c(0xe9));currentMode===_0x2dd96c(0x2e5)?(adminPasswordModal[_0x2dd96c(0x500)]['remove'](_0x2dd96c(0x398)),document[_0x2dd96c(0x353)]('admin-password-input')['focus']()):(currentMode=_0x2dd96c(0x2e5),_0xf8bde3[_0x2dd96c(0x416)]=_0x2dd96c(0x256),_0xf8bde3[_0x2dd96c(0x4c6)]='สลับไปโหมดผู้ควบคุม',showView('student'));}function handleAdminLogin(){const _0x273a3d=_0x3a9af3,_0x2085b3=document[_0x273a3d(0x353)](_0x273a3d(0x4f3)),_0x11d1ed=document[_0x273a3d(0x353)]('password-error-msg');if(_0x2085b3[_0x273a3d(0x485)]===_0x273a3d(0x2fa)){adminPasswordModal[_0x273a3d(0x500)][_0x273a3d(0x40d)](_0x273a3d(0x398)),_0x2085b3['value']='',_0x11d1ed['classList'][_0x273a3d(0x40d)](_0x273a3d(0x398)),currentMode='admin';const _0x2b9b91=document[_0x273a3d(0x353)]('mode-switcher-btn');_0x2b9b91[_0x273a3d(0x416)]=_0x273a3d(0x26c),_0x2b9b91[_0x273a3d(0x4c6)]='สลับไปโหมดนักเรียน',showView('admin-dashboard');}else _0x11d1ed[_0x273a3d(0x500)][_0x273a3d(0x1a7)](_0x273a3d(0x398)),_0x2085b3[_0x273a3d(0x485)]='';}function switchProjectTab(_0x54c31e){const _0x5094eb=_0x3a9af3;[_0x5094eb(0xf3),_0x5094eb(0x2c4),_0x5094eb(0x14b)][_0x5094eb(0x46f)](_0x5cb411=>{const _0x3811c3=_0x5094eb;document[_0x3811c3(0x353)](_0x5cb411+'-tab')[_0x3811c3(0x500)]['remove'](_0x3811c3(0x438)),document[_0x3811c3(0x353)](_0x5cb411+_0x3811c3(0x2ac))[_0x3811c3(0x500)][_0x3811c3(0x40d)](_0x3811c3(0x398));}),document[_0x5094eb(0x353)](_0x54c31e+_0x5094eb(0x441))[_0x5094eb(0x500)]['add']('active'),document['getElementById'](_0x54c31e+'-tab-content')[_0x5094eb(0x500)][_0x5094eb(0x1a7)](_0x5094eb(0x398));}function switchQuizDetailTab(_0x31b571){const _0x3d6b3c=_0x3a9af3,_0x20a59d={'analytics':{'btn':'analytics-tab-btn','content':'analytics-tab-content'},'scores':{'btn':_0x3d6b3c(0x522),'content':_0x3d6b3c(0x42c)},'leaderboard-quiz':{'btn':_0x3d6b3c(0x36b),'content':_0x3d6b3c(0x44a)}};for(const _0x53edfc in _0x20a59d){document[_0x3d6b3c(0x353)](_0x20a59d[_0x53edfc][_0x3d6b3c(0x3f7)])[_0x3d6b3c(0x500)][_0x3d6b3c(0x1a7)](_0x3d6b3c(0x438)),document['getElementById'](_0x20a59d[_0x53edfc][_0x3d6b3c(0x165)])[_0x3d6b3c(0x500)][_0x3d6b3c(0x40d)](_0x3d6b3c(0x398));}document[_0x3d6b3c(0x353)](_0x20a59d[_0x31b571][_0x3d6b3c(0x3f7)])['classList'][_0x3d6b3c(0x40d)](_0x3d6b3c(0x438)),document[_0x3d6b3c(0x353)](_0x20a59d[_0x31b571]['content'])['classList']['remove']('hidden');}function showMessage(_0x32162e){const _0x43d444=_0x3a9af3;modalMessage[_0x43d444(0x38e)]=_0x32162e,messageModal[_0x43d444(0x500)][_0x43d444(0x1a7)](_0x43d444(0x398));}function showConfirmation(_0x1525ed,_0x5949d6){const _0x1227b0=_0x3a9af3;document[_0x1227b0(0x353)]('confirmation-message')[_0x1227b0(0x38e)]=_0x1525ed,document[_0x1227b0(0x353)](_0x1227b0(0x22c))[_0x1227b0(0x3da)]('h3')[_0x1227b0(0x38e)]='ยืนยันการกระทำ',confirmAction=_0x5949d6,confirmationModal[_0x1227b0(0x500)]['remove'](_0x1227b0(0x398));}function listenForProjects(){const _0x39d519=_0x3a9af3,_0x28ba39=collection(db,_0x39d519(0x372)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x28ba39,_0x386869=>{const _0x28887f=_0x39d519;allProjects=_0x386869['docs'][_0x28887f(0x1d6)](_0x43516f=>({'id':_0x43516f['id'],..._0x43516f['data']()})),renderProjects();},_0x81eed=>{const _0x4fdc9a=_0x39d519;console[_0x4fdc9a(0x4f7)](_0x4fdc9a(0x235),_0x81eed),showMessage(_0x4fdc9a(0x180));});}async function renderProjects(){const _0x3dfb89=_0x3a9af3,_0x556c3b=document[_0x3dfb89(0x353)](_0x3dfb89(0x225))[_0x3dfb89(0x485)][_0x3dfb89(0x41b)](),_0x3191ca=document[_0x3dfb89(0x353)](_0x3dfb89(0x49a))[_0x3dfb89(0x485)];let _0x4574f2=allProjects[_0x3dfb89(0x421)](_0x141e61=>_0x141e61[_0x3dfb89(0x368)]['toLowerCase']()['includes'](_0x556c3b));_0x4574f2[_0x3dfb89(0x241)]((_0x33363b,_0x925862)=>{const _0x4e7c8c=_0x3dfb89;switch(_0x3191ca){case'name_asc':return _0x33363b['projectName'][_0x4e7c8c(0x1be)](_0x925862['projectName'],'th');case _0x4e7c8c(0x3f2):return _0x925862[_0x4e7c8c(0x368)][_0x4e7c8c(0x1be)](_0x33363b['projectName'],'th');case _0x4e7c8c(0x472):return new Date(_0x33363b[_0x4e7c8c(0x3a8)])-new Date(_0x925862[_0x4e7c8c(0x3a8)]);case _0x4e7c8c(0x1dd):default:return new Date(_0x925862[_0x4e7c8c(0x3a8)])-new Date(_0x33363b[_0x4e7c8c(0x3a8)]);}});const _0x3bfb1d={};await Promise[_0x3dfb89(0x246)](_0x4574f2['map'](async _0x235324=>{const _0x27b241=_0x3dfb89,_0x1193da=query(collection(db,_0x27b241(0x372)+appId+_0x27b241(0x31b)),where(_0x27b241(0x4c3),'==',_0x235324['id'])),_0x4130b5=await getDocs(_0x1193da);_0x3bfb1d[_0x235324['id']]=_0x4130b5[_0x27b241(0x473)];}));let _0x359d02='';starredQuizzes[_0x3dfb89(0x2ef)]>0x0&&(_0x359d02+=_0x3dfb89(0x187)+starredQuizzes[_0x3dfb89(0x2ef)]+_0x3dfb89(0x14a)),_0x4574f2[_0x3dfb89(0x46f)](_0x2f8d49=>{const _0x568f4b=_0x3dfb89,_0x387ba8=_0x3bfb1d[_0x2f8d49['id']]??0x0;_0x359d02+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-white\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20border-gray-200\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22'+_0x2f8d49['id']+_0x568f4b(0x2fc)+_0x2f8d49[_0x568f4b(0x368)]+_0x568f4b(0x26d)+new Date(_0x2f8d49['createdAt'])[_0x568f4b(0x2a3)]('th-TH')+_0x568f4b(0x249)+_0x387ba8+_0x568f4b(0xf7)+_0x2f8d49['id']+_0x568f4b(0xe8)+_0x2f8d49[_0x568f4b(0x368)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20p-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),projectList[_0x3dfb89(0x416)]=_0x359d02,noProjectsMsg[_0x3dfb89(0x500)][_0x3dfb89(0x175)](_0x3dfb89(0x398),_0x359d02[_0x3dfb89(0x2ef)]>0x0);}document['getElementById'](_0x3a9af3(0x415))[_0x3a9af3(0x22f)]('click',async()=>{const _0x522099=_0x3a9af3,_0x27cc8c=document[_0x522099(0x353)]('project-name-input'),_0x422b27=_0x27cc8c['value'][_0x522099(0x31f)]();if(!_0x422b27){showMessage(_0x522099(0xf5));return;}try{const _0x1cc05f=doc(collection(db,_0x522099(0x372)+appId+_0x522099(0x320)));await setDoc(_0x1cc05f,{'projectName':_0x422b27,'students':[],'settings':{'resultsDisplay':_0x522099(0x1da),'shuffleSetting':_0x522099(0x1ff),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x27cc8c[_0x522099(0x485)]='',createProjectModal[_0x522099(0x500)][_0x522099(0x40d)](_0x522099(0x398)),showMessage(_0x522099(0x13d));}catch(_0x2934f3){console['error']('Error\x20creating\x20project:',_0x2934f3),showMessage(_0x522099(0x184));}}),projectList['addEventListener'](_0x3a9af3(0xdc),async _0x33f729=>{const _0x459834=_0x3a9af3,_0x48fbac=_0x33f729[_0x459834(0x15b)][_0x459834(0x345)](_0x459834(0x45e)),_0x2e0b18=_0x33f729['target'][_0x459834(0x345)](_0x459834(0x334));if(_0x48fbac){const _0x796142=_0x48fbac[_0x459834(0x3e2)]['id'];_0x796142===_0x459834(0x3b8)?showStarredProjectView():(currentProjectId=_0x796142,await loadProjectDetails(currentProjectId),showView(_0x459834(0x1b8)));}else{if(_0x2e0b18){const _0x18aa2a=_0x2e0b18[_0x459834(0x3e2)]['id'],_0x3e5413=_0x2e0b18[_0x459834(0x3e2)][_0x459834(0x37f)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x3e5413+'\x22?\x20ข้อมูลทั้งหมดในโปรเจคนี้\x20(รวมถึงแบบทดสอบและผลการส่งงาน)\x20จะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x18aa2a));}}});function showStarredProjectView(){const _0x14898f=_0x3a9af3;currentProjectId=_0x14898f(0x3aa),currentProjectData=null,projectTitle[_0x14898f(0x38e)]=_0x14898f(0x126),projectIdDisplay['textContent']=_0x14898f(0x143),showView('project-detail'),manageTab[_0x14898f(0x500)][_0x14898f(0x40d)](_0x14898f(0x398)),leaderboardTab['classList']['add'](_0x14898f(0x398)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x5d21b5){const _0x1b25b2=_0x3a9af3,_0x432bd6=doc(db,_0x1b25b2(0x372)+appId+_0x1b25b2(0x320),_0x5d21b5),_0x15b3ee=await getDoc(_0x432bd6);if(_0x15b3ee['exists']()){manageTab[_0x1b25b2(0x500)][_0x1b25b2(0x1a7)](_0x1b25b2(0x398)),leaderboardTab[_0x1b25b2(0x500)][_0x1b25b2(0x1a7)]('hidden'),currentProjectData=_0x15b3ee['data'](),projectTitle[_0x1b25b2(0x38e)]=currentProjectData[_0x1b25b2(0x368)],projectIdDisplay[_0x1b25b2(0x38e)]=_0x5d21b5;const _0x40f269=currentProjectData[_0x1b25b2(0xf2)]||{};document[_0x1b25b2(0x353)](_0x1b25b2(0x331))['value']=_0x40f269[_0x1b25b2(0x264)]||0x5,document[_0x1b25b2(0x353)]('num-choices')['value']=_0x40f269['defaultNumChoices']||0x4,document[_0x1b25b2(0x353)](_0x1b25b2(0x4f1))[_0x1b25b2(0x485)]=_0x40f269[_0x1b25b2(0x4a7)]||Math[_0x1b25b2(0x46b)]((_0x40f269['defaultNumQuestions']||0x5)/0x2),document[_0x1b25b2(0x353)](_0x1b25b2(0x4f1))[_0x1b25b2(0x23b)]=_0x40f269[_0x1b25b2(0x264)]||0x5,document[_0x1b25b2(0x353)]('results-display-select')[_0x1b25b2(0x485)]=_0x40f269['resultsDisplay']||_0x1b25b2(0x1da),document['getElementById'](_0x1b25b2(0x4d9))[_0x1b25b2(0x485)]=_0x40f269[_0x1b25b2(0x4d2)]||_0x1b25b2(0x1ff);const _0x35e5ba=_0x40f269[_0x1b25b2(0x152)]||'none',_0x146cd7=_0x40f269[_0x1b25b2(0x248)]||0xa,_0x352299=document[_0x1b25b2(0x353)]('timer-mode-select'),_0x1f07cf=document['getElementById'](_0x1b25b2(0x23a)),_0x4fca74=document[_0x1b25b2(0x353)](_0x1b25b2(0xb5));_0x352299[_0x1b25b2(0x485)]=_0x35e5ba,_0x4fca74[_0x1b25b2(0x485)]=_0x146cd7;_0x35e5ba===_0x1b25b2(0x1ff)?_0x1f07cf[_0x1b25b2(0x500)][_0x1b25b2(0x40d)](_0x1b25b2(0x398)):_0x1f07cf[_0x1b25b2(0x500)][_0x1b25b2(0x1a7)]('hidden');_0x352299[_0x1b25b2(0x135)](new Event(_0x1b25b2(0x247)));if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x5d21b5),listenForProjectQuizzes(_0x5d21b5),listenForStudentProfiles(_0x5d21b5);}else showMessage(_0x1b25b2(0x3b0)),showView(_0x1b25b2(0xfd));}async function handleDeleteProject(_0x3463f7){const _0x5c898c=_0x3a9af3;try{const _0x5c23e2=writeBatch(db),_0xaf7b2a=collection(db,_0x5c898c(0x372)+appId+_0x5c898c(0x31b)),_0xbc8c8b=query(_0xaf7b2a,where('projectId','==',_0x3463f7)),_0x45a97b=await getDocs(_0xbc8c8b);for(const _0x3b5a2f of _0x45a97b[_0x5c898c(0x48c)]){const _0x348243=collection(db,_0x5c898c(0x372)+appId+'/public/data/quizzes/'+_0x3b5a2f['id']+_0x5c898c(0x382)),_0x5d585f=await getDocs(_0x348243);_0x5d585f['forEach'](_0x1c9920=>{const _0x3ab344=_0x5c898c;_0x5c23e2[_0x3ab344(0x192)](_0x1c9920['ref']);}),_0x5c23e2[_0x5c898c(0x192)](_0x3b5a2f[_0x5c898c(0x1e6)]);}const _0x56994b=collection(db,'artifacts/'+appId+'/public/data/projects/'+_0x3463f7+_0x5c898c(0x520)),_0xdd0b97=await getDocs(_0x56994b);_0xdd0b97[_0x5c898c(0x46f)](_0x460731=>{const _0x1c6714=_0x5c898c;_0x5c23e2[_0x1c6714(0x192)](_0x460731[_0x1c6714(0x1e6)]);});const _0x4e29d7=doc(db,'artifacts/'+appId+_0x5c898c(0x320),_0x3463f7);_0x5c23e2[_0x5c898c(0x192)](_0x4e29d7),await _0x5c23e2[_0x5c898c(0x475)](),showMessage(_0x5c898c(0x280)),showView(_0x5c898c(0xfd));}catch(_0x4c972e){console['error']('Error\x20deleting\x20project:',_0x4c972e),showMessage(_0x5c898c(0x324));}}document['getElementById'](_0x3a9af3(0x47f))['addEventListener']('click',async()=>{const _0x3282a3=_0x3a9af3;if(!currentProjectId)return;const _0x4900ad={'defaultNumQuestions':parseInt(document['getElementById'](_0x3282a3(0x331))['value']),'defaultNumChoices':parseInt(document[_0x3282a3(0x353)]('num-choices')['value']),'defaultPassingScore':parseInt(document[_0x3282a3(0x353)](_0x3282a3(0x4f1))[_0x3282a3(0x485)]),'resultsDisplay':document[_0x3282a3(0x353)](_0x3282a3(0x111))[_0x3282a3(0x485)],'shuffleSetting':document[_0x3282a3(0x353)](_0x3282a3(0x4d9))[_0x3282a3(0x485)],'timerMode':document[_0x3282a3(0x353)](_0x3282a3(0x4ec))[_0x3282a3(0x485)],'timerDuration':parseInt(document['getElementById'](_0x3282a3(0xb5))[_0x3282a3(0x485)])};try{const _0x5ce137=doc(db,_0x3282a3(0x372)+appId+_0x3282a3(0x320),currentProjectId);await updateDoc(_0x5ce137,{'settings':_0x4900ad}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x27e328){console['error']('Error\x20saving\x20settings:',_0x27e328),showMessage(_0x3282a3(0x3c7));}});function listenForStudents(_0x2249b2){const _0x1e1ac9=_0x3a9af3,_0x365388=doc(db,_0x1e1ac9(0x372)+appId+_0x1e1ac9(0x320),_0x2249b2);unsubscribeStudentsListener=onSnapshot(_0x365388,_0x55f8d5=>{const _0x15152c=_0x1e1ac9;if(_0x55f8d5[_0x15152c(0x263)]()){const _0x452b7e=_0x55f8d5['data']();currentProjectData=_0x452b7e,renderStudentList(_0x452b7e[_0x15152c(0x35b)]||[]);}});}function renderStudentList(_0x4b8927){const _0xa0f94d=_0x3a9af3,_0x1f82a3=document['getElementById'](_0xa0f94d(0x116));_0x4b8927['length']===0x0?(studentList[_0xa0f94d(0x416)]=_0xa0f94d(0x16d),_0x1f82a3[_0xa0f94d(0x500)][_0xa0f94d(0x40d)]('hidden')):(studentList[_0xa0f94d(0x416)]=_0x4b8927[_0xa0f94d(0x1d6)](_0x424016=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x424016+_0xa0f94d(0x529)+_0x424016+_0xa0f94d(0x504))[_0xa0f94d(0x4df)](''),_0x1f82a3['classList'][_0xa0f94d(0x1a7)](_0xa0f94d(0x398)));}document[_0x3a9af3(0x353)](_0x3a9af3(0x2da))[_0x3a9af3(0x22f)](_0x3a9af3(0xdc),async()=>{const _0x13cad5=_0x3a9af3;if(!currentProjectId)return;const _0x255095=document['getElementById'](_0x13cad5(0x52d)),_0x5b8f11=_0x255095[_0x13cad5(0x485)][_0x13cad5(0x31f)]();if(!_0x5b8f11){showMessage(_0x13cad5(0x4c5));return;}const _0x4b9c79=_0x5b8f11[_0x13cad5(0x41c)]('\x0a')[_0x13cad5(0x1d6)](_0x2e35ac=>_0x2e35ac[_0x13cad5(0x31f)]())[_0x13cad5(0x421)](_0xf14cb2=>_0xf14cb2);if(_0x4b9c79['length']===0x0)return;try{const _0x14d432=doc(db,_0x13cad5(0x372)+appId+_0x13cad5(0x320),currentProjectId),_0x16c9b3=await getDoc(_0x14d432);if(_0x16c9b3[_0x13cad5(0x263)]()){const _0x4702df=_0x16c9b3[_0x13cad5(0x526)]()[_0x13cad5(0x35b)]||[],_0x329a25=[...new Set([..._0x4702df,..._0x4b9c79])];await updateDoc(_0x14d432,{'students':_0x329a25}),_0x255095[_0x13cad5(0x485)]='';}}catch(_0x19993f){console[_0x13cad5(0x4f7)](_0x13cad5(0x337),_0x19993f),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});function handleDeleteStudent(_0x2f3f6b){const _0x1e5bcd=_0x3a9af3;showConfirmation(_0x1e5bcd(0x4f2)+_0x2f3f6b+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x188df7=_0x1e5bcd;if(!currentProjectId||!currentProjectData)return;const _0x214857=currentProjectData['students']['filter'](_0x3642d=>_0x3642d!==_0x2f3f6b);try{const _0x319119=doc(db,_0x188df7(0x372)+appId+'/public/data/projects',currentProjectId),_0x5ca3e2=doc(db,_0x188df7(0x372)+appId+_0x188df7(0x51b)+currentProjectId+_0x188df7(0x520),_0x2f3f6b),_0x51c506=writeBatch(db);_0x51c506[_0x188df7(0x24d)](_0x319119,{'students':_0x214857}),_0x51c506[_0x188df7(0x192)](_0x5ca3e2),await _0x51c506[_0x188df7(0x475)]();}catch(_0x1ca64b){console[_0x188df7(0x4f7)](_0x188df7(0x2e0),_0x1ca64b),showMessage(_0x188df7(0x179));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x3115ee=_0x4d75;if(!currentProjectId)return;try{const _0x14d4cc=doc(db,_0x3115ee(0x372)+appId+'/public/data/projects',currentProjectId),_0x121f9b=collection(db,_0x3115ee(0x372)+appId+'/public/data/projects/'+currentProjectId+_0x3115ee(0x520)),_0x22aba5=await getDocs(_0x121f9b),_0x17d061=writeBatch(db);_0x17d061[_0x3115ee(0x24d)](_0x14d4cc,{'students':[]}),_0x22aba5[_0x3115ee(0x46f)](_0xaf21a3=>_0x17d061['delete'](_0xaf21a3[_0x3115ee(0x1e6)])),await _0x17d061[_0x3115ee(0x475)]();}catch(_0x5cbf26){console['error']('Error\x20deleting\x20all\x20students:',_0x5cbf26),showMessage(_0x3115ee(0x3d6));}});}async function handleFileUpload(_0x35feb8){const _0x59f184=_0x3a9af3,_0x50fb50=_0x35feb8[_0x59f184(0x15b)]['files'][0x0];if(!_0x50fb50)return;if(_0x50fb50[_0x59f184(0x316)]!==_0x59f184(0x17c)&&!_0x50fb50[_0x59f184(0x37f)][_0x59f184(0x3d1)](_0x59f184(0x3f5))){showMessage(_0x59f184(0xed)),_0x35feb8[_0x59f184(0x15b)][_0x59f184(0x485)]='';return;}const _0x4fd716=document['getElementById'](_0x59f184(0x505)),_0x33f5f9=document['getElementById'](_0x59f184(0x227)),_0x4813dc=document[_0x59f184(0x353)](_0x59f184(0xbe));document[_0x59f184(0x353)](_0x59f184(0x436))['classList'][_0x59f184(0x1a7)]('hidden'),_0x4813dc['innerHTML']='',_0x4fd716[_0x59f184(0x500)][_0x59f184(0x1a7)](_0x59f184(0x398)),_0x33f5f9[_0x59f184(0x38e)]='กำลังอ่านและเตรียมไฟล์...';const _0x489c44=new FileReader();_0x489c44['readAsDataURL'](_0x50fb50),_0x489c44[_0x59f184(0x105)]=async()=>{const _0x51c17c=_0x59f184;try{const _0x9cc222=_0x489c44[_0x51c17c(0x4a1)][_0x51c17c(0x41c)](',')[0x1],_0x54927a=_0x50fb50[_0x51c17c(0x316)];await generateQuizFromFile(_0x54927a,_0x9cc222);}catch(_0x17fbb8){console['error'](_0x51c17c(0x4d0),_0x17fbb8),showMessage(_0x51c17c(0x34a)+_0x17fbb8[_0x51c17c(0x39b)]),_0x4fd716[_0x51c17c(0x500)][_0x51c17c(0x40d)](_0x51c17c(0x398));}finally{_0x35feb8[_0x51c17c(0x15b)]['value']='';}},_0x489c44['onerror']=_0x3c13e4=>{const _0x4c252e=_0x59f184;console[_0x4c252e(0x4f7)]('FileReader\x20error:',_0x3c13e4),showMessage(_0x4c252e(0x115)),_0x4fd716['classList'][_0x4c252e(0x40d)](_0x4c252e(0x398));};}function autoFormatMath(_0x3f6bed){const _0x1685ef=_0x3a9af3;if(typeof _0x3f6bed!==_0x1685ef(0x4bc)||!_0x3f6bed)return _0x3f6bed;const _0x385df2=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x491546=_0x3f6bed[_0x1685ef(0x16c)](_0x385df2,_0x52c00b=>{const _0x1c28ee=_0x1685ef;return'$'+_0x52c00b[_0x1c28ee(0x31f)]()+'$';});return _0x491546;}function sanitizeQuizData(_0xdb1d30){const _0x3757b4=_0x3a9af3;if(!_0xdb1d30||!_0xdb1d30['questions'])return _0xdb1d30;const _0x3a575e={'imes':_0x3757b4(0x166),'div':_0x3757b4(0x25e)},_0x2d39a0=_0x201091=>{const _0x24d9cf=_0x3757b4;if(typeof _0x201091!==_0x24d9cf(0x4bc))return _0x201091;let _0x1b1f2a=_0x201091;for(const [_0x1991c9,_0xcdb076]of Object[_0x24d9cf(0x147)](_0x3a575e)){const _0x4fa7ee=new RegExp('\x5cb'+_0x1991c9+'\x5cb','g');_0x1b1f2a=_0x1b1f2a[_0x24d9cf(0x16c)](_0x4fa7ee,_0xcdb076);}return _0x1b1f2a=autoFormatMath(_0x1b1f2a),_0x1b1f2a;};return _0xdb1d30[_0x3757b4(0x107)]&&(_0xdb1d30['topic']=_0x2d39a0(_0xdb1d30[_0x3757b4(0x107)])),_0xdb1d30[_0x3757b4(0x28c)][_0x3757b4(0x46f)](_0x35d16e=>{const _0x10e84c=_0x3757b4;_0x35d16e[_0x10e84c(0x23e)]=_0x2d39a0(_0x35d16e[_0x10e84c(0x23e)]),_0x35d16e[_0x10e84c(0x350)]&&(_0x35d16e[_0x10e84c(0x350)]=_0x35d16e[_0x10e84c(0x350)][_0x10e84c(0x1d6)](_0x2d39a0)),_0x35d16e['explanation']&&(_0x35d16e[_0x10e84c(0x128)]=_0x2d39a0(_0x35d16e[_0x10e84c(0x128)])),_0x35d16e[_0x10e84c(0x461)]&&(_0x35d16e[_0x10e84c(0x461)]=_0x2d39a0(_0x35d16e[_0x10e84c(0x461)])),_0x35d16e['correctResponse']&&(_0x35d16e['correctResponse']=_0x2d39a0(_0x35d16e['correctResponse'])),_0x35d16e[_0x10e84c(0x512)]&&(_0x35d16e[_0x10e84c(0x512)]=_0x35d16e[_0x10e84c(0x512)][_0x10e84c(0x1d6)](_0x2d39a0));}),_0xdb1d30;}const mathPromptInstruction='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว\x20ตัวอย่างเช่น\x20\x27ผลลัพธ์ของ\x20$3^2\x20\x5ctimes\x203^4$\x20คืออะไร\x27\x20หรือ\x20\x27คำตอบคือ\x20$3^{2+4}\x20=\x203^6$\x27\x20กฎเพิ่มเติม:\x201.\x20ใช้\x20`\x5ctimes`\x20สำหรับการคูณ\x20และ\x20`\x5cdiv`\x20สำหรับการหารเสมอ\x20ห้ามใช้คำอื่น\x202.\x20ตรวจสอบให้แน่ใจว่าวงเล็บปีกกา\x20`{}`\x20ทั้งหมดมีการเปิดและปิดที่ถูกต้อง\x203.\x20ห้ามใส่เครื่องหมายดอลลาร์ซ้อนกันหรือครอบแต่ละสัญลักษณ์เด็ดขาด\x20ให้ครอบทั้งนิพจน์เท่านั้น\x204.\x20สิ่งสำคัญที่สุด:\x20ก่อนจะจบการสร้างคำตอบ\x20ให้ตรวจสอบทุกครั้งว่านิพจน์คณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$...$\x20เรียบร้อยแล้ว';async function handleGenerateFromLink(){const _0x161c1b=_0x3a9af3,_0x78c020=document[_0x161c1b(0x353)]('link-url-input'),_0x56697c=document['getElementById'](_0x161c1b(0x447)),_0x4df4e5=_0x78c020['value'][_0x161c1b(0x31f)](),_0x41945d=_0x56697c[_0x161c1b(0x485)][_0x161c1b(0x31f)]();if(!_0x4df4e5){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x1f716a=document[_0x161c1b(0x353)]('loader'),_0x4a3b6f=document['getElementById']('loader-text'),_0x3e4d0e=document[_0x161c1b(0x353)](_0x161c1b(0xbe)),_0x4e03d7=document['getElementById'](_0x161c1b(0x378));document[_0x161c1b(0x353)](_0x161c1b(0x436))['classList'][_0x161c1b(0x1a7)]('hidden'),_0x3e4d0e[_0x161c1b(0x416)]='',_0x1f716a[_0x161c1b(0x500)][_0x161c1b(0x1a7)]('hidden'),_0x4a3b6f[_0x161c1b(0x38e)]='กำลังดึงข้อมูลจากลิงก์...',_0x4e03d7['disabled']=!![];try{const _0x179b59=_0x161c1b(0x1cc)+encodeURIComponent(_0x4df4e5),_0x2ec19c=await fetch(_0x179b59);if(!_0x2ec19c['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x2ec19c[_0x161c1b(0x465)]+')');const _0x11b9a1=await _0x2ec19c[_0x161c1b(0x4c7)](),_0x469176=extractTextFromHtml(_0x11b9a1);if(!_0x469176||_0x469176[_0x161c1b(0x2ef)]<0x64)throw new Error(_0x161c1b(0x40f));await generateQuiz(_0x41945d,_0x469176);}catch(_0x2ac7d2){console[_0x161c1b(0x4f7)](_0x161c1b(0x354),_0x2ac7d2),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2ac7d2[_0x161c1b(0x39b)]),_0x3e4d0e[_0x161c1b(0x416)]=_0x161c1b(0x4bd);}finally{_0x1f716a['classList']['add']('hidden'),_0x4e03d7[_0x161c1b(0x1b2)]=![];}}function extractTextFromHtml(_0xd2c6f4){const _0x6f3ef2=_0x3a9af3,_0x17d96d=new DOMParser()['parseFromString'](_0xd2c6f4,_0x6f3ef2(0x201));return _0x17d96d[_0x6f3ef2(0x1b4)](_0x6f3ef2(0x3c8))[_0x6f3ef2(0x46f)](_0x40e706=>_0x40e706[_0x6f3ef2(0x1a7)]()),_0x17d96d[_0x6f3ef2(0x194)]['textContent']||'';}document[_0x3a9af3(0x353)](_0x3a9af3(0x297))[_0x3a9af3(0x22f)]('click',()=>{const _0x131573=_0x3a9af3,_0x50d338=document['getElementById'](_0x131573(0x31c))[_0x131573(0x485)][_0x131573(0x31f)]();if(!_0x50d338){showMessage('กรุณาป้อนหัวข้อก่อน');return;}generateQuiz(_0x50d338,null);}),document[_0x3a9af3(0x353)]('generate-from-text-btn')[_0x3a9af3(0x22f)](_0x3a9af3(0xdc),()=>{const _0x5afccc=_0x3a9af3,_0x340233=document[_0x5afccc(0x353)]('text-content-input')[_0x5afccc(0x485)][_0x5afccc(0x31f)]();if(!_0x340233){showMessage(_0x5afccc(0x4f4));return;}generateQuiz(null,_0x340233);});async function generateQuiz(_0x54f6a3,_0x123844,_0x1024ad=null){const _0x5a0ef5=_0x3a9af3,_0x566113=document[_0x5a0ef5(0x353)](_0x5a0ef5(0x456))[_0x5a0ef5(0x2a1)],_0x2696b5=document[_0x5a0ef5(0x353)](_0x5a0ef5(0x33d))[_0x5a0ef5(0x485)],_0x138691=document[_0x5a0ef5(0x353)](_0x5a0ef5(0x331))[_0x5a0ef5(0x485)],_0x4273eb=document['getElementById']('num-choices')['value'];let _0x2bfe94='',_0x25cdd8='',_0x3a1023,_0x407393=_0x5a0ef5(0x174)+_0x54f6a3+'\x22';if(!_0x54f6a3&&_0x123844)_0x407393=_0x5a0ef5(0x4b1);else!_0x54f6a3&&!_0x123844&&(_0x407393=_0x5a0ef5(0x25a));const _0x4a4e5d={'type':'OBJECT','properties':{'questionText':{'type':_0x5a0ef5(0x2f9)},'options':{'type':_0x5a0ef5(0x17d),'items':{'type':_0x5a0ef5(0x2f9)}},'correctAnswerIndex':{'type':_0x5a0ef5(0xee)},'explanation':{'type':_0x5a0ef5(0x2f9)},'imageCode':{'type':'STRING'}},'required':[_0x5a0ef5(0x23e),_0x5a0ef5(0x350),'correctAnswerIndex',_0x5a0ef5(0x128)]},_0x5d896c={'type':_0x5a0ef5(0x214),'properties':{'questionText':{'type':_0x5a0ef5(0x2f9)},'idealAnswer':{'type':_0x5a0ef5(0x2f9)},'explanation':{'type':_0x5a0ef5(0x2f9)},'imageCode':{'type':_0x5a0ef5(0x2f9)}},'required':[_0x5a0ef5(0x23e),_0x5a0ef5(0x306),'explanation']},_0x4ca1e8={'type':_0x5a0ef5(0x214),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':['multiple_choice',_0x5a0ef5(0x10f)]},'options':{'type':_0x5a0ef5(0x17d),'items':{'type':_0x5a0ef5(0x2f9)}},'correctAnswerIndex':{'type':_0x5a0ef5(0xee)},'idealAnswer':{'type':_0x5a0ef5(0x2f9)},'explanation':{'type':_0x5a0ef5(0x2f9)},'imageCode':{'type':_0x5a0ef5(0x2f9)}},'required':[_0x5a0ef5(0x23e),'questionType',_0x5a0ef5(0x128)]},_0x1a5a1f={'type':_0x5a0ef5(0x214),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x5a0ef5(0x2f9)},'imageCode':{'type':_0x5a0ef5(0x2f9)}},'required':[_0x5a0ef5(0x23e),_0x5a0ef5(0x117),_0x5a0ef5(0x128)]},_0xf724fc={'type':_0x5a0ef5(0x214),'properties':{'questionType':{'type':_0x5a0ef5(0x2f9),'enum':[_0x5a0ef5(0x2c0)]},'stem':{'type':_0x5a0ef5(0x2f9)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x5a0ef5(0x17d),'items':{'type':_0x5a0ef5(0x2f9)}},'explanation':{'type':_0x5a0ef5(0x2f9)},'imageCode':{'type':_0x5a0ef5(0x2f9)}},'required':[_0x5a0ef5(0x518),_0x5a0ef5(0x461),_0x5a0ef5(0x1e7),_0x5a0ef5(0x512),_0x5a0ef5(0x128)]};let _0x1cc68b;if(_0x1024ad!==null){const _0x461d62=currentQuizData[_0x5a0ef5(0x28c)][_0x1024ad][_0x5a0ef5(0x518)],_0x796f6e=_0x566113?_0x5a0ef5(0x224):'';if(_0x461d62===_0x5a0ef5(0x19c))_0x2bfe94=_0x5a0ef5(0x383)+_0x407393+_0x5a0ef5(0x3a3)+_0x4273eb+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x796f6e+'\x20'+mathPromptInstruction,_0x3a1023=_0x4a4e5d;else _0x461d62===_0x5a0ef5(0x2c0)?(_0x2bfe94=_0x5a0ef5(0x2a7)+_0x407393+_0x5a0ef5(0x48b)+_0x796f6e+'\x20'+mathPromptInstruction,_0x3a1023={'type':_0x5a0ef5(0x214),'properties':{'questionType':{'type':_0x5a0ef5(0x2f9),'enum':[_0x5a0ef5(0x2c0)]},'stem':{'type':_0x5a0ef5(0x2f9)},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x5a0ef5(0x2f9)},'imageCode':{'type':_0x5a0ef5(0x2f9)}},'required':[_0x5a0ef5(0x518),_0x5a0ef5(0x461),_0x5a0ef5(0x1e7),_0x5a0ef5(0x128)]}):(_0x2bfe94=_0x5a0ef5(0x34b)+_0x407393+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x796f6e+'\x20'+mathPromptInstruction,_0x3a1023=_0x5d896c);_0x1cc68b=_0x3a1023;}else{const _0x34a7ab=_0x566113?_0x5a0ef5(0x10a):'';switch(_0x2696b5){case _0x5a0ef5(0x19c):_0x2bfe94=_0x5a0ef5(0x302)+_0x138691+_0x5a0ef5(0x276)+_0x407393+_0x5a0ef5(0x299)+_0x4273eb+_0x5a0ef5(0x23f)+_0x34a7ab+'\x20'+mathPromptInstruction,_0x3a1023=_0x4a4e5d;break;case _0x5a0ef5(0x2f8):_0x2bfe94=_0x5a0ef5(0x29a)+_0x138691+'\x20ข้อ\x20'+_0x407393+_0x5a0ef5(0x122)+_0x4273eb+_0x5a0ef5(0x20a)+_0x34a7ab+'\x20'+mathPromptInstruction,_0x3a1023=_0x4a4e5d;break;case'fill_in_no_choices':_0x2bfe94=_0x5a0ef5(0x29a)+_0x138691+_0x5a0ef5(0x276)+_0x407393+_0x5a0ef5(0x15c)+_0x34a7ab+'\x20'+mathPromptInstruction,_0x3a1023=_0x5d896c;break;case _0x5a0ef5(0x2bc):_0x2bfe94=_0x5a0ef5(0x275)+_0x138691+_0x5a0ef5(0x276)+_0x407393+_0x5a0ef5(0x323)+_0x4273eb+'\x20ตัวเลือก.\x20'+_0x34a7ab+'\x20'+mathPromptInstruction+_0x5a0ef5(0x509),_0x3a1023=_0x4ca1e8;break;case _0x5a0ef5(0x4e6):_0x2bfe94=_0x5a0ef5(0x220)+_0x138691+_0x5a0ef5(0x276)+_0x407393+_0x5a0ef5(0x332)+_0x34a7ab+'\x20'+mathPromptInstruction,_0x3a1023=_0x1a5a1f;break;case'matching':_0x2bfe94=_0x5a0ef5(0x437)+_0x138691+'\x20คู่\x20'+_0x407393+_0x5a0ef5(0x3d0)+_0x138691+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x34a7ab+'\x20'+mathPromptInstruction,_0x3a1023=_0xf724fc;break;}_0x1cc68b={'type':'OBJECT','properties':{'topic':{'type':_0x5a0ef5(0x2f9)},'questions':{'type':_0x5a0ef5(0x17d),'items':_0x3a1023}},'required':['topic','questions']};}return _0x123844?(_0x2bfe94=_0x5a0ef5(0x396)+_0x123844+_0x5a0ef5(0x39f)+_0x2bfe94,_0x25cdd8=_0x5a0ef5(0x483)):_0x25cdd8=_0x5a0ef5(0x474),handleApiCall(_0x2bfe94,_0x25cdd8,_0x1cc68b,_0x1024ad);}async function generateQuizFromFile(_0x50ff31,_0x5702c7){const _0x41bffe=_0x3a9af3,_0x2a5031=document[_0x41bffe(0x353)]('quiz-type-select')['value'],_0x2f2e13=document[_0x41bffe(0x353)]('num-questions')[_0x41bffe(0x485)],_0x1c64fb=document[_0x41bffe(0x353)](_0x41bffe(0x3a2))[_0x41bffe(0x485)],_0x424c8d=document[_0x41bffe(0x353)](_0x41bffe(0x456))[_0x41bffe(0x2a1)];let _0x399251='',_0x2094a5;const _0x386106=_0x424c8d?_0x41bffe(0x10a):'';switch(_0x2a5031){case _0x41bffe(0x19c):_0x399251='สร้างแบบทดสอบปรนัย\x20'+_0x2f2e13+_0x41bffe(0x173)+_0x1c64fb+_0x41bffe(0x23f)+_0x386106+'\x20'+mathPromptInstruction,_0x2094a5={'type':'OBJECT','properties':{'questionText':{'type':_0x41bffe(0x2f9)},'options':{'type':_0x41bffe(0x17d),'items':{'type':_0x41bffe(0x2f9)}},'correctAnswerIndex':{'type':_0x41bffe(0xee)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x41bffe(0x2f9)}},'required':[_0x41bffe(0x23e),_0x41bffe(0x350),'correctAnswerIndex',_0x41bffe(0x128)]};break;case _0x41bffe(0x2f8):_0x399251=_0x41bffe(0x29a)+_0x2f2e13+'\x20ข้อ.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x1c64fb+_0x41bffe(0x20a)+_0x386106+'\x20'+mathPromptInstruction,_0x2094a5={'type':_0x41bffe(0x214),'properties':{'questionText':{'type':_0x41bffe(0x2f9)},'options':{'type':'ARRAY','items':{'type':_0x41bffe(0x2f9)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x41bffe(0x2f9)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x41bffe(0x350),_0x41bffe(0x193),_0x41bffe(0x128)]};break;case'fill_in_no_choices':_0x399251=_0x41bffe(0x29a)+_0x2f2e13+_0x41bffe(0x150)+_0x386106+'\x20'+mathPromptInstruction,_0x2094a5={'type':'OBJECT','properties':{'questionText':{'type':_0x41bffe(0x2f9)},'idealAnswer':{'type':_0x41bffe(0x2f9)},'explanation':{'type':_0x41bffe(0x2f9)},'imageCode':{'type':'STRING'}},'required':['questionText','idealAnswer',_0x41bffe(0x128)]};break;case _0x41bffe(0x2bc):_0x399251=_0x41bffe(0x275)+_0x2f2e13+_0x41bffe(0x197)+_0x1c64fb+_0x41bffe(0x1ac)+_0x386106+'\x20'+mathPromptInstruction+_0x41bffe(0x509),_0x2094a5={'type':_0x41bffe(0x214),'properties':{'questionText':{'type':_0x41bffe(0x2f9)},'questionType':{'type':_0x41bffe(0x2f9),'enum':[_0x41bffe(0x19c),_0x41bffe(0x10f)]},'options':{'type':'ARRAY','items':{'type':_0x41bffe(0x2f9)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x41bffe(0x2f9)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0x41bffe(0x518),_0x41bffe(0x128)]};break;case _0x41bffe(0x4e6):_0x399251=_0x41bffe(0x220)+_0x2f2e13+_0x41bffe(0x492)+_0x386106+'\x20'+mathPromptInstruction,_0x2094a5={'type':_0x41bffe(0x214),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x41bffe(0x10b)},'explanation':{'type':_0x41bffe(0x2f9)},'imageCode':{'type':_0x41bffe(0x2f9)}},'required':[_0x41bffe(0x23e),_0x41bffe(0x117),_0x41bffe(0x128)]};break;case _0x41bffe(0x3e0):_0x399251=_0x41bffe(0x437)+_0x2f2e13+_0x41bffe(0xeb)+_0x2f2e13+_0x41bffe(0x401)+_0x386106+'\x20'+mathPromptInstruction,_0x2094a5={'type':_0x41bffe(0x214),'properties':{'questionType':{'type':_0x41bffe(0x2f9),'enum':[_0x41bffe(0x2c0)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x41bffe(0x2f9)},'allResponses':{'type':_0x41bffe(0x17d),'items':{'type':_0x41bffe(0x2f9)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x41bffe(0x2f9)}},'required':[_0x41bffe(0x518),_0x41bffe(0x461),_0x41bffe(0x1e7),_0x41bffe(0x512),_0x41bffe(0x128)]};break;}const _0x4841e9={'type':_0x41bffe(0x214),'properties':{'topic':{'type':_0x41bffe(0x2f9)},'questions':{'type':'ARRAY','items':_0x2094a5}},'required':[_0x41bffe(0x107),_0x41bffe(0x28c)]},_0x35b656=_0x41bffe(0x42e)+_0x399251,_0x100379={'contents':[{'parts':[{'text':_0x35b656},{'inlineData':{'mimeType':_0x50ff31,'data':_0x5702c7}}]}],'generationConfig':{'responseMimeType':_0x41bffe(0x20c),'responseSchema':_0x4841e9}};return handleApiCall(_0x100379[_0x41bffe(0x534)][0x0][_0x41bffe(0x319)],_0x41bffe(0x4a6),_0x4841e9);}async function handleApiCall(_0x1365b5,_0x1e90c9,_0x393dd3,_0x3691dc=null){const _0x56ba19=_0x3a9af3,_0x2bbf2d=document[_0x56ba19(0x353)](_0x56ba19(0x436)),_0x39abcd=document[_0x56ba19(0x353)](_0x56ba19(0x505)),_0x228c3e=document['getElementById'](_0x56ba19(0x227)),_0x42d274=document[_0x56ba19(0x353)]('generated-quiz-container');_0x2bbf2d[_0x56ba19(0x500)][_0x56ba19(0x1a7)]('hidden');_0x3691dc===null&&(_0x42d274['innerHTML']='');_0x39abcd[_0x56ba19(0x500)][_0x56ba19(0x1a7)]('hidden'),_0x228c3e[_0x56ba19(0x38e)]=_0x1e90c9,document['getElementById'](_0x56ba19(0x297))[_0x56ba19(0x1b2)]=!![],document[_0x56ba19(0x353)](_0x56ba19(0x44c))['disabled']=!![],document[_0x56ba19(0x353)](_0x56ba19(0x378))[_0x56ba19(0x1b2)]=!![];try{const _0x2dff5f={'responseMimeType':_0x56ba19(0x20c),'responseSchema':_0x393dd3},_0x365042=Array[_0x56ba19(0x2c7)](_0x1365b5)?_0x1365b5:[{'text':_0x1365b5}],_0x3f71cc={'contents':[{'role':'user','parts':_0x365042}],'generationConfig':_0x2dff5f},_0x40ee7a='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x43fdd2=_0x56ba19(0x47e)+_0x40ee7a,_0x578f8f=await fetch(_0x43fdd2,{'method':'POST','headers':{'Content-Type':_0x56ba19(0x20c)},'body':JSON[_0x56ba19(0x434)](_0x3f71cc)});if(!_0x578f8f['ok'])throw new Error(_0x56ba19(0x1b3)+_0x578f8f[_0x56ba19(0x465)]);const _0xed51e6=await _0x578f8f[_0x56ba19(0x4a3)]();if(_0xed51e6[_0x56ba19(0x469)]?.[0x0]?.[_0x56ba19(0x165)]?.[_0x56ba19(0x319)]?.[0x0]){let _0x55db21=_0xed51e6['candidates'][0x0][_0x56ba19(0x165)][_0x56ba19(0x319)][0x0][_0x56ba19(0x4c7)],_0x5d1c2d;try{if(_0x55db21[_0x56ba19(0x22b)]('```json'))_0x55db21=_0x55db21[_0x56ba19(0x533)](0x7,_0x55db21[_0x56ba19(0x2ef)]-0x3)[_0x56ba19(0x31f)]();else _0x55db21[_0x56ba19(0x22b)](_0x56ba19(0x4bb))&&(_0x55db21=_0x55db21[_0x56ba19(0x533)](0x3,_0x55db21['length']-0x3)[_0x56ba19(0x31f)]());_0x5d1c2d=JSON['parse'](_0x55db21);}catch(_0x5cb7d8){console['error']('Failed\x20to\x20parse\x20JSON\x20from\x20AI',_0x5cb7d8,_0x55db21);throw new Error(_0x56ba19(0x162));}if(_0x3691dc!==null){if(_0x5d1c2d[_0x56ba19(0x518)]===_0x56ba19(0x2c0)){const _0x4a5a0a=currentQuizData[_0x56ba19(0x28c)][_0x56ba19(0x1d6)](_0x61c7ca=>_0x61c7ca[_0x56ba19(0x1e7)]);_0x5d1c2d[_0x56ba19(0x512)]=_0x4a5a0a;const _0x45ba29=currentQuizData[_0x56ba19(0x28c)][_0x3691dc]['correctResponse'],_0x2dcfb4=_0x4a5a0a['indexOf'](_0x45ba29);_0x2dcfb4>-0x1&&(_0x4a5a0a[_0x2dcfb4]=_0x5d1c2d[_0x56ba19(0x1e7)]),currentQuizData[_0x56ba19(0x28c)][_0x56ba19(0x46f)](_0x1ea564=>{const _0xca2e44=_0x56ba19;if(_0x1ea564['questionType']===_0xca2e44(0x2c0))_0x1ea564[_0xca2e44(0x512)]=_0x4a5a0a;});}currentQuizData['questions'][_0x3691dc]=_0x5d1c2d,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=sanitizeQuizData(_0x5d1c2d);const _0x2ee84e=document['getElementById'](_0x56ba19(0x33d))[_0x56ba19(0x485)];currentQuizData['quizType']=_0x2ee84e,currentQuizData['questions']&&currentQuizData[_0x56ba19(0x28c)][_0x56ba19(0x46f)](_0x30d605=>{const _0x116b43=_0x56ba19;if(!_0x30d605[_0x116b43(0x518)]){if(_0x2ee84e===_0x116b43(0x2f8))_0x30d605[_0x116b43(0x518)]=_0x116b43(0x19c);else _0x2ee84e==='fill_in_no_choices'?_0x30d605[_0x116b43(0x518)]=_0x116b43(0x10f):_0x30d605[_0x116b43(0x518)]=_0x2ee84e;}}),displayGeneratedQuiz(currentQuizData);}}else{console['error'](_0x56ba19(0x405),JSON['stringify'](_0xed51e6));throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}}catch(_0x29f30e){console[_0x56ba19(0x4f7)](_0x56ba19(0x4d8),_0x29f30e),showMessage(_0x56ba19(0x3fa)),_0x3691dc===null&&(_0x42d274[_0x56ba19(0x416)]=_0x56ba19(0x468));}finally{_0x39abcd[_0x56ba19(0x500)][_0x56ba19(0x40d)](_0x56ba19(0x398)),document[_0x56ba19(0x353)](_0x56ba19(0x297))[_0x56ba19(0x1b2)]=![],document[_0x56ba19(0x353)](_0x56ba19(0x44c))[_0x56ba19(0x1b2)]=![],document[_0x56ba19(0x353)](_0x56ba19(0x378))['disabled']=![];}}function displayGeneratedQuiz(_0x139429){const _0x2784be=_0x3a9af3,_0x4cf3b3=document['getElementById'](_0x2784be(0xbe));let _0x5af28c=_0x2784be(0x45f)+_0x139429[_0x2784be(0x107)]+_0x2784be(0x3bf);_0x139429[_0x2784be(0x28c)][_0x2784be(0x46f)]((_0x388da2,_0x260bde)=>{const _0xdd250d=_0x2784be,_0x13e22f=_0x388da2[_0xdd250d(0x518)]||_0x139429[_0xdd250d(0x47b)];_0x5af28c+=_0xdd250d(0x532)+_0x260bde+_0xdd250d(0x27d)+_0x260bde+_0xdd250d(0x32d)+_0x260bde+_0xdd250d(0x274);switch(_0x13e22f){case _0xdd250d(0x2c0):_0x5af28c+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x260bde+'\x22>'+(_0x260bde+0x1)+'.\x20'+_0x388da2[_0xdd250d(0x461)]+_0xdd250d(0x1ea);_0x388da2[_0xdd250d(0x1ed)]&&(_0x5af28c+='<div\x20id=\x22q-image-container-'+_0x260bde+_0xdd250d(0x2cc)+_0x388da2[_0xdd250d(0x1ed)]+_0xdd250d(0x25b));_0x5af28c+=_0xdd250d(0x4b2)+_0x260bde+'\x22>'+_0x388da2[_0xdd250d(0x1e7)]+_0xdd250d(0x15f),_0x5af28c+=_0xdd250d(0x1d5)+_0x260bde+'\x22>'+_0x388da2[_0xdd250d(0x128)]+_0xdd250d(0x15f);break;case _0xdd250d(0x10f):_0x5af28c+=_0xdd250d(0x244)+_0x260bde+'\x22>'+(_0x260bde+0x1)+'.\x20'+_0x388da2[_0xdd250d(0x23e)]+_0xdd250d(0x1ea);_0x388da2['imageCode']&&(_0x5af28c+=_0xdd250d(0x471)+_0x260bde+_0xdd250d(0x2cc)+_0x388da2[_0xdd250d(0x1ed)]+_0xdd250d(0x25b));_0x5af28c+=_0xdd250d(0xf0)+_0x260bde+'\x22>'+_0x388da2['idealAnswer']+_0xdd250d(0x15f),_0x5af28c+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x260bde+'\x22>'+_0x388da2[_0xdd250d(0x128)]+_0xdd250d(0x15f);break;case _0xdd250d(0x4e6):_0x5af28c+=_0xdd250d(0x244)+_0x260bde+'\x22>'+(_0x260bde+0x1)+'.\x20'+_0x388da2['questionText']+'</p>';_0x388da2[_0xdd250d(0x1ed)]&&(_0x5af28c+=_0xdd250d(0x471)+_0x260bde+_0xdd250d(0x2cc)+_0x388da2['imageCode']+_0xdd250d(0x25b));_0x5af28c+=_0xdd250d(0x238)+(_0x388da2['correctAnswer']===!![]?'text-green-600\x20font-bold':'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x388da2[_0xdd250d(0x117)]===![]?_0xdd250d(0x186):'')+_0xdd250d(0x360),_0x5af28c+=_0xdd250d(0x1d5)+_0x260bde+'\x22>'+_0x388da2[_0xdd250d(0x128)]+_0xdd250d(0x15f);break;case _0xdd250d(0x106):case'multiple_choice':default:_0x5af28c+=_0xdd250d(0x244)+_0x260bde+'\x22>'+(_0x260bde+0x1)+'.\x20'+_0x388da2[_0xdd250d(0x23e)]+_0xdd250d(0x1ea);_0x388da2[_0xdd250d(0x1ed)]&&(_0x5af28c+=_0xdd250d(0x471)+_0x260bde+_0xdd250d(0x2cc)+_0x388da2[_0xdd250d(0x1ed)]+'</div>');_0x5af28c+=_0xdd250d(0x3ef)+_0x260bde+_0xdd250d(0x167)+_0x388da2[_0xdd250d(0x350)][_0xdd250d(0x1d6)]((_0x5bcd6d,_0x380fde)=>_0xdd250d(0x108)+(_0x380fde===_0x388da2[_0xdd250d(0x193)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x5bcd6d+_0xdd250d(0x260))['join']('')+_0xdd250d(0x4ab),_0x5af28c+=_0xdd250d(0x1d5)+_0x260bde+'\x22>'+_0x388da2[_0xdd250d(0x128)]+_0xdd250d(0x15f);break;}_0x5af28c+=_0xdd250d(0x25b);}),_0x5af28c+=_0x2784be(0x231),_0x4cf3b3[_0x2784be(0x416)]=_0x5af28c,document['querySelectorAll']('.edit-question-btn')[_0x2784be(0x46f)](_0x284a72=>_0x284a72[_0x2784be(0x22f)](_0x2784be(0xdc),handleEditQuestion)),document[_0x2784be(0x1b4)](_0x2784be(0x233))[_0x2784be(0x46f)](_0x421daf=>_0x421daf[_0x2784be(0x22f)]('click',handleRegenerateQuestion)),document[_0x2784be(0x1b4)](_0x2784be(0x2c3))[_0x2784be(0x46f)](_0x5a7159=>_0x5a7159[_0x2784be(0x22f)](_0x2784be(0xdc),handleSaveToBank)),document[_0x2784be(0x353)](_0x2784be(0x523))[_0x2784be(0x22f)](_0x2784be(0xdc),saveQuiz);if(window[_0x2784be(0xbb)])window[_0x2784be(0xbb)][_0x2784be(0x4b5)]([_0x4cf3b3]);}function handleRegenerateQuestion(_0x362285){const _0x9d3a15=_0x3a9af3,_0x207fbb=_0x362285[_0x9d3a15(0x1d7)]['dataset'][_0x9d3a15(0x285)],_0x1d2312=currentQuizData['topic'];showMessage(_0x9d3a15(0x352)+(parseInt(_0x207fbb)+0x1)+_0x9d3a15(0x476)),generateQuiz(_0x1d2312,null,parseInt(_0x207fbb));}function getPointerPosition(_0x3d5c0f,_0x4045bb){const _0x7c4446=_0x3a9af3,_0x3f0409=_0x3d5c0f[_0x7c4446(0x20e)]();let _0x31d1b8,_0x40d44e;return _0x4045bb[_0x7c4446(0x50c)]&&_0x4045bb[_0x7c4446(0x50c)][_0x7c4446(0x2ef)]>0x0?(_0x31d1b8=_0x4045bb[_0x7c4446(0x50c)][0x0][_0x7c4446(0xdd)],_0x40d44e=_0x4045bb[_0x7c4446(0x50c)][0x0]['clientY']):(_0x31d1b8=_0x4045bb[_0x7c4446(0xdd)],_0x40d44e=_0x4045bb[_0x7c4446(0x414)]),{'x':(_0x31d1b8-_0x3f0409['e'])/_0x3f0409['a'],'y':(_0x40d44e-_0x3f0409['f'])/_0x3f0409['d']};}function startDrag(_0x3805b1){const _0x36ef45=_0x3a9af3;_0x3805b1[_0x36ef45(0x316)]===_0x36ef45(0xd3)&&_0x3805b1[_0x36ef45(0x41f)]();const _0x4a3c19=_0x3805b1[_0x36ef45(0x15b)]['closest']('.draggable-text');if(_0x4a3c19){draggedSvgElement=_0x4a3c19;const _0x21d046=draggedSvgElement[_0x36ef45(0x33b)],_0x42bfef=getPointerPosition(_0x21d046,_0x3805b1);svgOffset['x']=_0x42bfef['x']-parseFloat(draggedSvgElement[_0x36ef45(0x295)](null,'x')),svgOffset['y']=_0x42bfef['y']-parseFloat(draggedSvgElement[_0x36ef45(0x295)](null,'y'));}}function _0xe68c(){const _0xf5105e=['thead','.doc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','createObjectURL','Original\x20quiz\x20not\x20found','input[type=\x22text\x22]','fa-pen','projectName','th-TH','input[type=\x22radio\x22]:checked','leaderboard-quiz-tab-btn','ผู้ไม่ยอมแพ้','next-question-btn','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','project-dashboard-view','ท็อปฟอร์ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','artifacts/','rows','เปิด\x20(จับเวลา)','.png','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','link-tab','generate-from-link-btn','quick_thinker','</span></td>','execCommand','quizId','cancel-rename-quiz-btn','line-through\x20text-red-700','name','touchmove','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','/submissions','สร้างแบบทดสอบปรนัย\x201\x20ข้อ\x20','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก','cancel-create-project-btn','lastAnswerCorrect','ราชาคัมแบ็ก','insertAdjacentHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','presentation-modal','\x22\x20data-topic=\x22','per-question-text','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','textContent','toDate','Leaderboard\x20update\x20transaction\x20failed:\x20','desc','_opt0\x22>ใช่</label></div>','show_pass_fail_only','setAttribute','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','จากเนื้อหาต่อไปนี้:\x20\x22','submissions','hidden','Error\x20fetching\x20quiz\x20settings:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','message','Error\x20joining\x20live\x20game:','gamePin','<textarea\x20name=\x22question','\x22,\x20','เกิดข้อผิดพลาดในการเข้าร่วมเกม','</td>','num-choices','.\x20ให้มี\x20','%\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','createdAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','starred','contains','แบบทดสอบ:\x20','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','ไม่พบแบบทดสอบ','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่พบโปรเจค','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','score-distribution-chart','text-purple-600','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลข้างต้น\x20โปรดสรุปเนื้อหาสำคัญเพื่อสอนซ่อมเสริมนักเรียนคนนี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้อธิบายด้วยภาษาที่เข้าใจง่าย\x20เป็นกันเอง\x20เหมือนติวเตอร์ใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20สรุปมาเป็นย่อหน้าเดียวหรือสองย่อหน้าสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22remedialContent\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','starred-project','</form>','file-tab','ไม่มีคำอธิบาย','answeredCurrentQuestion','display','AI\x20กำลังสร้างใบงาน...','</h3>','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','ข้อที่\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','some','normal','.draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถบันทึกการตั้งค่าได้','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','คัดลอกแบบทดสอบสำเร็จ','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','beforeend','Remedial\x20quiz\x20generation\x20failed:','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','firstScore','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','endsWith','<div><input\x20type=\x22radio\x22\x20id=\x22q','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','question','mouseleave','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','touchcancel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/users/','querySelector','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.question-editor-item','<p\x20class=\x22','data:application/vnd.ms-word;charset=utf-8,','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','matching','.sortable-header','dataset','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22status-option\x22]','.copy-quiz-id-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','fill_in_no_choices','answering','slice','quiz-results-view','\x0a---\x0a','live-game','topic-tab','back-from-results-btn','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','print','indexOf','name_desc','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','.docx','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','btn','\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','mousemove','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','border-4','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','\x20/\x20','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','uid','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','font-bold','Invalid\x20response\x20structure\x20from\x20AI:','create-from-bank-btn','generated-quiz-actions','start-presentation-btn','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','add','parse','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','adaptive-quiz-checkbox','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','fa-rocket\x20text-purple-500','clientY','confirm-create-project-btn','innerHTML','export-excel-btn','presentation-ai-result','getContext','worksheet-input-area','toLowerCase','split','#ffffff','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','preventDefault','คัดลอกไม่สำเร็จ','filter','podium','select','bar','4547892puWgBU','อัปเดตสถานะสำเร็จ','text-blue-700\x20bg-blue-100','results-quiz-title','bg-green-500','_opt','1:274192258111:web:4120c9118229b5644dd48a','scores-tab-content','.answeredCurrentQuestion','จากไฟล์ที่แนบมานี้,\x20','กรุณาใส่ชื่อใหม่','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20title=\x22','global-quiz-list','stringify','แบบทดสอบนี้หมดเวลาแล้ว','quiz-generation-area','สร้างชุดคำถามจับคู่\x20','active','2-digit','ตอบถูก\x203\x20ข้อติดต่อกัน','Error\x20listening\x20for\x20student\x20profiles:','.quiz-settings-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','Error\x20displaying\x20question\x20bank:','join-live-game-btn','bg-green-300','-tab','toDataURL','modal-passing-score-input','raw','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','link-topic-input','<div\x20class=\x22loader\x20mx-auto\x22></div>','234376ZvRavg','leaderboard-quiz-tab-content','flex','generate-from-text-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-200\x20text-red-800','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','toLocaleString','reveal-answer-btn','isCorrect','back-to-dashboard-from-results-btn','include-images-checkbox','quiz-results','label[for=\x22num-questions\x22]','false','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x22><i\x20class=\x22fas\x20','bank-tab','both','.project-card-content','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','table','stem','badgesCount','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','start-remedial-quiz-btn','status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','หมดเวลาสำหรับข้อนี้!','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','candidates','players.','floor','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนรหัสแบบทดสอบ','forEach','isStarred','<div\x20id=\x22q-image-container-','date_asc','size','กำลังสร้างแบบทดสอบจากหัวข้อ...','commit','\x20ใหม่...','next-question-timed-btn','label','fa-user-astronaut\x20text-blue-700','Error\x20fetching\x20projects\x20for\x20move:','quizType','fill','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','save-settings-btn','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','createElement','เกิดข้อผิดพลาดในการสร้างห้องเกม','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','.pdf','value','from','#F59E0B','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','red','back-to-project-btn','\x20สร้างคำถามจับคู่\x201\x20ข้อ\x20(1\x20คู่)\x20ที่อยู่ในหมวดหมู่เดียวกันกับคำถามเดิม\x20แต่ต้องแตกต่างออกไป.\x20รูปแบบคือ:\x20stem,\x20correctResponse,\x20และ\x20explanation.\x20','docs','nickname-input','innerText','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','Error\x20updating\x20quiz\x20settings:','AI\x20request\x20was\x20blocked.\x20Reason:\x20','\x20ข้อ.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','appendChild','onclick','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','STOP','export-image-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','365972xLxuOX','project-sort-select','keyup','get','editable-text-','button[data-id]','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','result','quiz-start-time','json','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','modal-timer-mode-select','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','defaultPassingScore','กรุณาเลือกสถานะ','fa-crown\x20text-yellow-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','<div\x20class=\x22','เกิดข้อผิดพลาดในการบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','then','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','student-name-selection-view','q-explanation-','typesetPromise','close-game-final-btn','schedule','live-short-answer-input','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22','cancel-move-quiz-btn','```','string','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','mouseup','live-game-view','originalTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectId','fullscreenElement','กรุณาใส่ชื่อนักเรียน','title','text','Error\x20moving\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','bestScore','confirm-quiz-status-btn','คะแนน','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','<li>','border-red-300\x20bg-red-50','Error\x20processing\x20file\x20for\x20AI:','385548KQfqxl','shuffleSetting','message-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','text-input-area','\x20คน):</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','Error\x20generating\x20quiz:','shuffle-setting-select','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','ai-quiz-app-aefee.firebaseapp.com','submit','Error\x20fetching\x20quiz\x20status:','autoTable','join','fa-dumbbell\x20text-gray-700','player-count','แก้ไขข้อนี้','ทำคะแนนเต็มในการทำครั้งแรก','PERFECT_SCORE','show_results_only','true_false','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','ย้ายแบบทดสอบสำเร็จ','lobby','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','timer-mode-select','strength-weakness-analysis-container','student-view','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','border-green-500','passing-score-input','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','admin-password-input','กรุณาวางเนื้อหาก่อน','bottom','toString','error','dataIndex','doughnut','http://www.w3.org/2000/svg','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quiz-leaderboard-table-body','quiz-status-options','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','student-join-game-view','classList','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','leaderboard_','122910ViPHLG','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loader','สอบซ่อม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','values','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','open','classStrengths','touches','\x0a\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนหนึ่งทำแบบทดสอบเรื่อง\x20\x22','originalQuestion','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','scheduled','allResponses','cancel-admin-login-btn','createElementNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','user','fa-fire\x20text-orange-500','questionType','badges','เกิดข้อผิดพลาดในการสร้างใบงาน','/public/data/projects/','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','fixed','.pointsLastQuestion','.duplicate-quiz-btn','/studentProfiles','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','scores-tab-btn','save-quiz-btn','\x22\x20value=\x22true\x22\x20','Error\x20deleting\x20quiz:','data','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','admin-action-buttons','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','results-quiz-id-display','results-table-container','.start-live-race-btn','student-name-input','<span\x20class=\x22sort-indicator\x20ml-2\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','manual_release','student-quiz-leaderboard-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','substring','contents','topic-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงานที่พิมพ์ได้\x20จำนวน\x20','<div\x20class=\x22flex-1\x22></div>','\x22.\x20Ideal\x20Answer:\x20\x22','thead\x20.sortable-header','student-result-area','<option>กำลังโหลดโปรเจค...</option>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','student-project-leaderboard-content','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','Error\x20renaming\x20quiz:','question-analytics-container','game-pin-input','timer-duration-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionStatus','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','back-to-dashboard-btn','MathJax','ผ่าน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','generated-quiz-container','.start-presentation-list-btn','perseverance','worksheet-topic-input','<option\x20value=\x22','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','no-projects-msg','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','instructions','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','_blank','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','fa-shield-alt\x20text-gray-600','open-global-live-btn','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','Firebase\x20initialization\x20failed:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','s;\x22\x20title=\x22','touchstart','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-schedule-end-container','results-table','.edit-quiz-btn','text-white','ไม่สามารถเริ่มเกมได้','Error\x20starting\x20live\x20race:','click','clientX','Error\x20fetching\x20project\x20quizzes:','quiz-settings-modal','student-rankings-modal','admin-testing','height','empty','true','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลผู้ใช้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','\x22\x20data-name=\x22','mode-switcher-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','\x20คู่.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','min','รูปแบบไฟล์ไม่รองรับ\x20กรุณาเลือก\x20PDF\x20หรือ\x20.docx','NUMBER','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','</option>','settings','manage','latestScore','กรุณาใส่ชื่อโปรเจค','#10B981','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','classWeaknesses','project-quizzes-list','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toISOString','delete-svg-btn','admin-dashboard','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','font-bold\x20text-green-700','attempts','move-quiz-project-select','onload','fill_in_the_blank','topic','<li\x20class=\x22','<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','BOOLEAN','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','short_answer','font-bold\x20text-red-700\x20line-through','results-display-select','จำนวนนักเรียน','ตั้งเวลา\x20(เปิด)','originalQuestionText','เกิดข้อผิดพลาดในการอ่านไฟล์','delete-all-students-btn','correctAnswer','document','\x20คนที่ส่ง\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','quiz','leaderboard-tab-content','inactive','ไม่สามารถโหลดรายการโปรเจคได้','check-presentation-answer-btn','baseVal','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','</span></p>','countdown-display','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x09\x09\x09\x09\x09\x09\x09\x20<button\x20data-quiz-id=\x22','แบบทดสอบที่ติดดาว','ลบแบบทดสอบสำเร็จแล้ว','explanation','includes','00:00','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','mousedown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-6\x20bg-amber-50\x20border-l-4\x20border-amber-400\x20rounded-r-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20text-amber-800\x22>ทบทวนก่อนไปต่อนะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x20text-gray-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','quiz-editor-questions-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','dispatchEvent','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','results_','analyze-strengths-btn','save','.quiz-result-card','แบบทดสอบจากคลังส่วนตัว','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','สร้างโปรเจคสำเร็จ!','\x22\x20value=\x22false\x22\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','icon','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบถูก\x20','pinned-items','export-leaderboard-excel-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','svg','entries','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','whole_quiz','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x20h-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard','student-quiz-area','isRemedial','AI\x20grading\x20failed:','numeric','\x20ข้อ.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','timerMode','endTime','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fas\x20fa-star\x20text-yellow-500','per-question-timer-container','student-name-select','ปิดใช้งาน','link-input-area','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','target','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','\x20จาก\x20','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','</span></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ideal-answer-input','Invalid\x20response\x20structure\x20from\x20AI.','.delete-svg-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-sm\x22>','content','\x5ctimes','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่ส่ง','pointsLastQuestion','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','replace','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','removeEventListener','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','timer-container','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ.\x20แต่ละข้อมี\x20','เกี่ยวกับหัวข้อ\x20\x22','toggle','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','#student-quiz-leaderboard-content\x20thead','Error\x20fetching\x20student\x20rankings:','เกิดข้อผิดพลาดในการลบนักเรียน','\x22>ไม่ใช่</p>','destroy','application/pdf','ARRAY','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-remedial-quiz-btn\x22\x20class=\x22mt-4\x20bg-indigo-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เข้าใจแล้ว\x20ลองอีกครั้ง!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','เกิดข้อผิดพลาดในการโหลดโปรเจค','/questionBank','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-status-btn','ไม่สามารถสร้างโปรเจคได้','.quiz-status-btn','text-green-600\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-indigo-50\x20border-indigo-200\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22starred-project\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>แบบทดสอบที่ติดดาว\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-400\x22></i></h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>ทางลัดสำหรับแบบทดสอบที่ใช้บ่อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','ไม่ใช่','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','<p><strong>คำตอบของคุณ:</strong>\x20','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x20ml-auto\x22\x20title=\x22ลบแบบทดสอบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-edits-btn-footer','.sort-indicator','shuffle','default','modal-shuffle-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','delete','correctAnswerIndex','body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x20ข้อ,\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','blockReason','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','multiple_choice','start-game-btn','num-choices-container','\x22\x20name=\x22question','fa-bolt\x20text-blue-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','keys','remedialContent','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','remove','student-quiz-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์จุดอ่อนและสร้างเนื้อหาทบทวนให้คุณโดยเฉพาะ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','abs','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตัวเลือก.\x20','quiz-id-input','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','results-tab','questions_only','disabled','API\x20call\x20failed\x20with\x20status:\x20','querySelectorAll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perfect_score','project-detail','image/png','POST','timer-duration-label','2241192yhWoFr','cancel-quiz-edits-btn','localeCompare','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำตอบถูกต้อง!\x20+','description','move','กรุณาป้อนหัวข้อสำหรับใบงาน','#per-question-options\x20select','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setFont','bg-purple-50','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','274192258111','.lastAnswerCorrect','https://corsproxy.io/?','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','หมดเวลา!\x20กำลังส่งคำตอบ...','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','set','<br>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','map','currentTarget','PERSEVERANCE','เกิดข้อผิดพลาดในการสร้างเนื้อหาทบทวน','show_results_and_answers','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','export-leaderboard-word-btn','date_desc','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-red-700','class','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-red-700\x20bg-red-100','touchend','ref','correctResponse','undefined','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','</body></html>','imageCode','ผู้ควบคุม\x20(ทดสอบ)','ผ่านฉลุย','manage-tab-content','Error\x20saving\x20submission:','cursor','reduce','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','asc','download','create-project-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','qType','project-list','ผู้เชี่ยวชาญ','startTime','padStart','จำนวนคู่:','none','passingScore','text/html','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','outerHTML','push','file-input-area','.live-answer-btn,\x20#live-submit-short-answer-btn','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','Error\x20saving\x20to\x20question\x20bank:','147LrEWSP','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','modal-timer-duration-input','application/json','generate-worksheet-btn','getScreenCTM','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','OBJECT','#results-table','1996045rBaIAa','findIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','copy','analytics','.badges','create-project-modal','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','สร้างคำถามแบบใช่/ไม่ใช่\x20','quiz-status-modal','ดูสรุปผล','href','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','project-search-input','confirm-admin-login-btn','loader-text','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','totalQuestions','startsWith','confirmation-modal','bg-blue-100\x20text-blue-800','global-live-game-modal','addEventListener','finishReason','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','_opt1\x22\x20name=\x22question','.regenerate-question-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x20\x20\x20\x20','Error\x20listening\x20for\x20projects:','bg-green-100\x20text-green-800','jspdf','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','scheduled_pending','timer-duration-container','max','currentQuestionIndex','(ไม่มีชื่อ)','questionText','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','removeAttribute','sort','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','rename-quiz-modal','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','COMEBACK_KING','all','change','timerDuration','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','resultsDisplay','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','update','modal-timer-duration-label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toFixed','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดสถานะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','ไม่พบตารางสำหรับ\x20Export','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','เซียนสมองไว','first_try_ace','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','</div>','hover:bg-indigo-100','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cdiv','latestSubmittedAt','</li>','ไม่พบข้อมูลแบบทดสอบ','.star-quiz-btn','exists','defaultNumQuestions','บันทึกการแก้ไข','ตอบถูกทุกข้อในแบบทดสอบนี้','next-live-question-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','answers','เปลี่ยนชื่อแบบทดสอบสำเร็จ','correctStreak','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Adaptive\x20flow\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20','.live-answer-btn','<i\x20class=\x22fas\x20fa-pen\x22></i>','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบ\x20','\x20ข้อ\x20','viewBox','#per-question-options\x20textarea','G-V90KRM0L63','random','modal-results-display-select','player-list-lobby','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','กรุณาเลือกชื่อของคุณ','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','ลบโปรเจคสำเร็จแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submission-status-chart','Copy\x20command\x20failed','start-quiz-btn','index','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','admin-view','export-leaderboard-pdf-btn','<p>','promptFeedback','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','questions','Error\x20during\x20class\x20analysis:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','load-quiz-btn','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','removeChild','studentName','[data-is-correct=\x22true\x22]','score','getAttributeNS','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','generate-from-topic-btn','.delete-quiz-btn','.\x20แต่ละข้อมี\x20','สร้างคำถามแบบเติมคำในช่องว่าง\x20','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่งแล้ว','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-delete-btn','specialist','checked','ring-purple-400','toLocaleDateString','ไม่ได้ตอบ','text-tab','focus','จากหัวข้อ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','ใช่','live-submit-short-answer-btn','cancel-test-btn','-tab-content','points','กำลังสร้างรูปภาพ...','totalPoints','slide-counter','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','back-to-home-manual-release','now','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','Error\x20saving\x20quiz\x20edits:','draggable-text','quiz-leaderboard-table','confirm-quiz-settings-btn','quiz-leaderboard-table-container','ไม่มี','contentEditable','mixed','_opt0\x22\x20name=\x22question','submittedAt','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','matching_item','modal-close-btn','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','.save-to-bank-btn','results','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','isArray','width','Error\x20opening\x20quiz\x20editor:','helvetica','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','border-green-700','ring-2','ไม่ผ่าน','analytics-tab-btn','players','text-green-700\x20bg-green-100','admin','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','\x22>ใช่</p>','confirm-move-quiz-btn','add-student-btn','text/csv;charset=utf-8;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','close','write','far\x20fa-star','Error\x20deleting\x20student:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','/public/data/liveGames','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','student','results-tab-content','#student-project-leaderboard-content\x20thead','copy-quiz-id-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','key','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','.move-quiz-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','length','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-global-live-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เปิดใช้งาน','scores','presentation-explanation','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','Error\x20starting\x20game:','fill_in_with_choices','STRING','2741','back-to-student-initial-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','quiz-search-input','cloneNode','border-green-300\x20bg-green-50','สร้างแบบทดสอบปรนัย\x20','เกมสิ้นสุดลงแล้ว','บันทึกการตั้งค่าสำเร็จ','ระยะเวลา\x20(นาที):','idealAnswer','find','log','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','bg-white/30','บันทึกการแก้ไขสำเร็จ','revealed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</label>\x0a\x20\x20\x20\x20</div>\x0a','text-green-600','live-options-container','/public/data/quizzes/','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','type','submission','isAdaptive','parts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/quizzes','topic-input','targetId','Error\x20duplicating\x20quiz:','trim','/public/data/projects','project-detail-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','เกิดข้อผิดพลาดในการลบโปรเจค','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','quiz-schedule-start-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-adaptive-quiz-checkbox','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span></p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','analytics-summary-cards','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','setAttributeNS','per-q-countdown','Error\x20generating\x20worksheet:','num-questions','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','input','.delete-project-btn','style','ส่งคำตอบ','Error\x20adding\x20students:','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค','quiz-editor-modal','leaderboard-quiz','ownerSVGElement','export-leaderboard-image-btn','quiz-type-select','on_fire','choices_only','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สอบปกติ','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','เกิดข้อผิดพลาดในการอัปเดตสถานะ','closest','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','quiz-form','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','สร้างคำถามแบบเติมคำในช่องว่าง\x201\x20ข้อ\x20','opacity-50','\x20ครั้ง)</span></td>','.csv','questionDisplayedAt','options','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','กำลังสร้างคำถามข้อ\x20','getElementById','Error\x20generating\x20from\x20link:','bank-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-end\x20flex-wrap\x20gap-2\x20mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</div><div\x20class=\x22space-y-2\x22>','students','student-quiz-topic','กรุณาเลือกโปรเจคปลายทาง','input[name=\x22status-option\x22]:checked','bg-red-100\x20text-red-800','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'];_0xe68c=function(){return _0xf5105e;};return _0xe68c();}function drag(_0x511ae9){const _0x179959=_0x3a9af3;if(draggedSvgElement){_0x511ae9[_0x179959(0x41f)]();const _0x178538=draggedSvgElement['ownerSVGElement'],_0x49bd2e=getPointerPosition(_0x178538,_0x511ae9),_0x120f91=_0x178538[_0x179959(0x277)][_0x179959(0x11f)];let _0x2dd61b=_0x49bd2e['x']-svgOffset['x'],_0x59e770=_0x49bd2e['y']-svgOffset['y'];const _0x269dac=draggedSvgElement['getBBox']();_0x2dd61b=Math['max'](_0x120f91['x'],Math[_0x179959(0xec)](_0x2dd61b,_0x120f91['x']+_0x120f91[_0x179959(0x2c8)]-_0x269dac[_0x179959(0x2c8)])),_0x59e770=Math[_0x179959(0x23b)](_0x120f91['y'],Math[_0x179959(0xec)](_0x59e770,_0x120f91['y']+_0x120f91[_0x179959(0xe2)]-_0x269dac[_0x179959(0xe2)])),draggedSvgElement[_0x179959(0x32e)](null,'x',_0x2dd61b),draggedSvgElement['setAttributeNS'](null,'y',_0x59e770);}}function endDrag(_0x2787e6){draggedSvgElement=null;}function handleSvgEditClick(_0x227e82){const _0x569de0=_0x3a9af3;if(_0x227e82[_0x569de0(0x15b)][_0x569de0(0x500)][_0x569de0(0x3ab)](_0x569de0(0xfc))){const _0x227bb0=_0x227e82[_0x569de0(0x15b)][_0x569de0(0x3e2)][_0x569de0(0x31d)],_0x28aa06=_0x227e82[_0x569de0(0x1d7)],_0x29c881=_0x28aa06[_0x569de0(0x3da)]('#'+_0x227bb0);_0x29c881&&_0x29c881[_0x569de0(0x1a7)](),_0x227e82['target'][_0x569de0(0x1a7)]();}}function handleEditQuestion(_0x45b0a5){const _0x34a4dd=_0x3a9af3,_0x32c9fa=_0x45b0a5[_0x34a4dd(0x1d7)],_0x4eed09=_0x32c9fa[_0x34a4dd(0x3e2)][_0x34a4dd(0x285)],_0x2ddf24=currentQuizData[_0x34a4dd(0x28c)][_0x4eed09],_0x3cc18c=document[_0x34a4dd(0x353)]('q-text-'+_0x4eed09),_0x5b9b2=document[_0x34a4dd(0x353)](_0x34a4dd(0x4b4)+_0x4eed09),_0x2669fd=document[_0x34a4dd(0x353)]('q-image-container-'+_0x4eed09);if(_0x32c9fa[_0x34a4dd(0x416)]['includes'](_0x34a4dd(0x367))){_0x32c9fa['innerHTML']='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x32c9fa[_0x34a4dd(0x4c6)]=_0x34a4dd(0x265);if(_0x3cc18c)_0x3cc18c[_0x34a4dd(0x2bb)]=!![];if(_0x5b9b2)_0x5b9b2['contentEditable']=!![];if(_0x2669fd){const _0x3fe998=_0x2669fd[_0x34a4dd(0x3da)]('svg');if(_0x3fe998){const _0x22a806=_0x3fe998[_0x34a4dd(0x1b4)](_0x34a4dd(0x4c7));_0x22a806[_0x34a4dd(0x46f)]((_0x4f0f72,_0x196508)=>{const _0x170702=_0x34a4dd,_0x37de48=_0x170702(0x49d)+_0x4eed09+'-'+_0x196508;_0x4f0f72['id']=_0x37de48,_0x4f0f72[_0x170702(0x500)][_0x170702(0x40d)](_0x170702(0x2b6)),_0x4f0f72[_0x170702(0x335)][_0x170702(0x1f2)]=_0x170702(0x1c2);const _0x4d1c01=document[_0x170702(0x514)](_0x170702(0x4fa),'circle'),_0x214739=_0x4f0f72['getBBox']();_0x4d1c01[_0x170702(0x394)]('cx',String(_0x214739['x']+_0x214739[_0x170702(0x2c8)]+0x5)),_0x4d1c01[_0x170702(0x394)]('cy',String(_0x214739['y']+_0x214739['height']/0x2-0x5)),_0x4d1c01[_0x170702(0x394)]('r','5'),_0x4d1c01[_0x170702(0x394)](_0x170702(0x47c),_0x170702(0x489)),_0x4d1c01[_0x170702(0x394)](_0x170702(0x1e0),'delete-svg-btn'),_0x4d1c01[_0x170702(0x3e2)][_0x170702(0x31d)]=_0x37de48,_0x4f0f72['after'](_0x4d1c01);}),_0x3fe998[_0x34a4dd(0x22f)](_0x34a4dd(0x12e),startDrag),_0x3fe998[_0x34a4dd(0x22f)](_0x34a4dd(0x3f9),drag),_0x3fe998[_0x34a4dd(0x22f)](_0x34a4dd(0x4be),endDrag),_0x3fe998[_0x34a4dd(0x22f)](_0x34a4dd(0x3d5),endDrag),_0x3fe998[_0x34a4dd(0x22f)](_0x34a4dd(0xd3),startDrag,{'passive':![]}),_0x3fe998[_0x34a4dd(0x22f)]('touchmove',drag,{'passive':![]}),_0x3fe998[_0x34a4dd(0x22f)](_0x34a4dd(0x1e5),endDrag),_0x3fe998[_0x34a4dd(0x22f)](_0x34a4dd(0x3d7),endDrag),_0x3fe998[_0x34a4dd(0x22f)](_0x34a4dd(0xdc),handleSvgEditClick);}}if(_0x3cc18c)_0x3cc18c[_0x34a4dd(0x2a6)]();}else{_0x32c9fa['innerHTML']=_0x34a4dd(0x273),_0x32c9fa[_0x34a4dd(0x4c6)]=_0x34a4dd(0x4e2);if(_0x3cc18c){_0x3cc18c[_0x34a4dd(0x2bb)]=![];const _0x257633=_0x2ddf24[_0x34a4dd(0x518)]||currentQuizData[_0x34a4dd(0x47b)];_0x257633===_0x34a4dd(0x2c0)?_0x2ddf24['stem']=_0x3cc18c[_0x34a4dd(0x48e)][_0x34a4dd(0x533)](_0x3cc18c[_0x34a4dd(0x48e)][_0x34a4dd(0x3f1)]('.')+0x2)['trim']():_0x2ddf24[_0x34a4dd(0x23e)]=_0x3cc18c[_0x34a4dd(0x48e)][_0x34a4dd(0x533)](_0x3cc18c[_0x34a4dd(0x48e)]['indexOf']('.')+0x2)['trim']();}_0x5b9b2&&(_0x5b9b2['contentEditable']=![],_0x2ddf24[_0x34a4dd(0x128)]=_0x5b9b2[_0x34a4dd(0x48e)]);if(_0x2669fd){const _0x59d8b7=_0x2669fd[_0x34a4dd(0x3da)](_0x34a4dd(0x146));if(_0x59d8b7){const _0x57c68b=_0x59d8b7[_0x34a4dd(0x300)](!![]);_0x57c68b['querySelectorAll']('.delete-svg-btn')[_0x34a4dd(0x46f)](_0x5d2c60=>_0x5d2c60[_0x34a4dd(0x1a7)]()),_0x57c68b[_0x34a4dd(0x1b4)]('.draggable-text')[_0x34a4dd(0x46f)](_0x304ec1=>{const _0x1d99ba=_0x34a4dd;_0x304ec1[_0x1d99ba(0x500)][_0x1d99ba(0x1a7)](_0x1d99ba(0x2b6)),_0x304ec1['style']['cursor']=_0x1d99ba(0x18f),_0x304ec1[_0x1d99ba(0x240)]('id');}),_0x2ddf24['imageCode']=_0x57c68b[_0x34a4dd(0x203)],_0x59d8b7[_0x34a4dd(0x16f)]('mousedown',startDrag),_0x59d8b7[_0x34a4dd(0x16f)](_0x34a4dd(0x3f9),drag),_0x59d8b7[_0x34a4dd(0x16f)]('mouseup',endDrag),_0x59d8b7[_0x34a4dd(0x16f)](_0x34a4dd(0x3d5),endDrag),_0x59d8b7['removeEventListener'](_0x34a4dd(0xd3),startDrag),_0x59d8b7['removeEventListener'](_0x34a4dd(0x380),drag),_0x59d8b7['removeEventListener'](_0x34a4dd(0x1e5),endDrag),_0x59d8b7[_0x34a4dd(0x16f)]('touchcancel',endDrag),_0x59d8b7['removeEventListener'](_0x34a4dd(0xdc),handleSvgEditClick),_0x59d8b7['querySelectorAll'](_0x34a4dd(0x163))[_0x34a4dd(0x46f)](_0x3c1fae=>_0x3c1fae[_0x34a4dd(0x1a7)]()),_0x59d8b7[_0x34a4dd(0x1b4)](_0x34a4dd(0x3c5))['forEach'](_0x4b9f93=>{const _0xa1237a=_0x34a4dd;_0x4b9f93['classList'][_0xa1237a(0x1a7)](_0xa1237a(0x2b6)),_0x4b9f93['style'][_0xa1237a(0x1f2)]=_0xa1237a(0x18f);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x5d2947){const _0x48b684=_0x3a9af3,_0x121222=document[_0x48b684(0x353)](_0x48b684(0x339)),_0x55b242=document[_0x48b684(0x353)](_0x48b684(0x133));_0x55b242['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x121222[_0x48b684(0x500)][_0x48b684(0x1a7)](_0x48b684(0x398));try{const _0x4fcfb1=doc(db,_0x48b684(0x372)+appId+_0x48b684(0x31b),_0x5d2947),_0xdb437=await getDoc(_0x4fcfb1);if(!_0xdb437['exists']())throw new Error(_0x48b684(0x3ae));currentEditingQuizData={'id':_0x5d2947,..._0xdb437[_0x48b684(0x526)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x1288c8){console[_0x48b684(0x4f7)](_0x48b684(0x2c9),_0x1288c8),showMessage(_0x48b684(0x1a5)),_0x121222['classList'][_0x48b684(0x40d)](_0x48b684(0x398));}}function renderQuizEditor(_0x57bce2){const _0x5260a4=_0x3a9af3;document[_0x5260a4(0x353)]('editor-quiz-topic')[_0x5260a4(0x485)]=_0x57bce2[_0x5260a4(0x107)];const _0x1ebfc3=document[_0x5260a4(0x353)](_0x5260a4(0x133));let _0x5b7f68=_0x57bce2[_0x5260a4(0x28c)]['map']((_0x187739,_0x41cfe0)=>{const _0x312068=_0x5260a4;let _0x4cc114='';const _0x2cacb8=_0x187739[_0x312068(0x518)]||_0x57bce2[_0x312068(0x47b)];switch(_0x2cacb8){case _0x312068(0x19c):const _0x545556=(_0x187739[_0x312068(0x350)]||[])[_0x312068(0x1d6)]((_0x57d01e,_0x25d023)=>_0x312068(0x45a)+_0x41cfe0+_0x312068(0x3a6)+_0x25d023+'\x22\x20'+(_0x25d023===_0x187739['correctAnswerIndex']?_0x312068(0x2a1):'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x57d01e+_0x312068(0x1c6))[_0x312068(0x4df)]('');_0x4cc114=_0x312068(0x101)+_0x545556+_0x312068(0x39a);break;case _0x312068(0x10f):_0x4cc114=_0x312068(0x218)+(_0x187739[_0x312068(0x306)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x312068(0x4e6):_0x4cc114='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x41cfe0+_0x312068(0x524)+(_0x187739[_0x312068(0x117)]===!![]?_0x312068(0x2a1):'')+_0x312068(0x4fe)+_0x41cfe0+_0x312068(0x13e)+(_0x187739['correctAnswer']===![]?_0x312068(0x2a1):'')+_0x312068(0x25d);break;case _0x312068(0x2c0):_0x4cc114=_0x312068(0x2b4)+(_0x187739['correctResponse']||'')+_0x312068(0x1de);break;}const _0x2dbb39=_0x187739[_0x312068(0x23e)]||_0x187739[_0x312068(0x461)]||'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x22\x20data-q-type=\x22'+_0x2cacb8+_0x312068(0x3f3)+(_0x41cfe0+0x1)+'\x20('+_0x2cacb8+_0x312068(0x358)+_0x2dbb39+_0x312068(0x376)+_0x4cc114+_0x312068(0x46d);})['join']('');_0x1ebfc3[_0x5260a4(0x416)]=_0x5b7f68;}async function handleSaveChanges(){const _0x2e98d4=_0x3a9af3,_0x592126=document[_0x2e98d4(0x353)]('save-quiz-edits-btn');_0x592126[_0x2e98d4(0x1b2)]=!![],_0x592126[_0x2e98d4(0x416)]=_0x2e98d4(0x145);try{const _0x561d51=document['getElementById']('editor-quiz-topic')[_0x2e98d4(0x485)],_0x91fb76=document[_0x2e98d4(0x1b4)](_0x2e98d4(0x3dc));let _0x4e6e62=[];const _0x494b60=Array[_0x2e98d4(0x486)](_0x91fb76)[_0x2e98d4(0x1d6)]((_0x3606cf,_0x1e9a27)=>{const _0x3cd03c=_0x2e98d4,_0x1de6f7=_0x3606cf[_0x3cd03c(0x3e2)][_0x3cd03c(0x1f9)],_0x5b90e6=_0x3606cf[_0x3cd03c(0x3da)]('textarea')['value'];let _0x3a700d={'questionType':_0x1de6f7};const _0x495586=currentEditingQuizData[_0x3cd03c(0x28c)][_0x1e9a27];switch(_0x1de6f7){case'multiple_choice':_0x3a700d['questionText']=_0x5b90e6;const _0x5e6ac6=_0x3606cf[_0x3cd03c(0x1b4)](_0x3cd03c(0x366));_0x3a700d[_0x3cd03c(0x350)]=Array[_0x3cd03c(0x486)](_0x5e6ac6)[_0x3cd03c(0x1d6)](_0x3a6fc4=>_0x3a6fc4[_0x3cd03c(0x485)]);const _0x1c896f=_0x3606cf[_0x3cd03c(0x3da)](_0x3cd03c(0x36a));_0x3a700d['correctAnswerIndex']=_0x1c896f?parseInt(_0x1c896f[_0x3cd03c(0x485)]):0x0;break;case'short_answer':_0x3a700d[_0x3cd03c(0x23e)]=_0x5b90e6,_0x3a700d[_0x3cd03c(0x306)]=_0x3606cf[_0x3cd03c(0x3da)](_0x3cd03c(0x161))[_0x3cd03c(0x485)];break;case _0x3cd03c(0x4e6):_0x3a700d[_0x3cd03c(0x23e)]=_0x5b90e6;const _0x37898d=_0x3606cf[_0x3cd03c(0x3da)](_0x3cd03c(0x36a));_0x3a700d[_0x3cd03c(0x117)]=_0x37898d?_0x37898d[_0x3cd03c(0x485)]==='true':!![];break;case _0x3cd03c(0x2c0):_0x3a700d[_0x3cd03c(0x461)]=_0x5b90e6;const _0x2e5e0f=_0x3606cf[_0x3cd03c(0x3da)]('.correct-response-input');_0x3a700d['correctResponse']=_0x2e5e0f?_0x2e5e0f[_0x3cd03c(0x485)]:'',_0x4e6e62[_0x3cd03c(0x204)](_0x3a700d[_0x3cd03c(0x1e7)]);break;default:_0x3a700d['questionText']=_0x5b90e6;break;}return{..._0x495586,..._0x3a700d};});_0x4e6e62[_0x2e98d4(0x2ef)]>0x0&&_0x494b60['forEach'](_0x575ebe=>{const _0x12d0f3=_0x2e98d4;_0x575ebe[_0x12d0f3(0x518)]===_0x12d0f3(0x2c0)&&(_0x575ebe[_0x12d0f3(0x512)]=_0x4e6e62);});const _0x1d27df=doc(db,_0x2e98d4(0x372)+appId+'/public/data/quizzes',currentEditingQuizData['id']);await updateDoc(_0x1d27df,{'topic':_0x561d51,'questions':_0x494b60}),showMessage(_0x2e98d4(0x30c)),document[_0x2e98d4(0x353)](_0x2e98d4(0x339))['classList'][_0x2e98d4(0x40d)]('hidden');}catch(_0x44f12e){console[_0x2e98d4(0x4f7)](_0x2e98d4(0x2b5),_0x44f12e),showMessage(_0x2e98d4(0x4ad));}finally{_0x592126[_0x2e98d4(0x1b2)]=![],_0x592126[_0x2e98d4(0x416)]=_0x2e98d4(0x40c);}}async function saveQuiz(){const _0x492848=_0x3a9af3;if(!currentQuizData||!currentQuizData[_0x492848(0x28c)]||!userId||!currentProjectId){showMessage(_0x492848(0x4d5));return;}const _0x134e0b=document[_0x492848(0x353)](_0x492848(0x523));_0x134e0b[_0x492848(0x1b2)]=!![],_0x134e0b['innerHTML']=_0x492848(0x145),currentQuizData['topic']=document[_0x492848(0x353)]('editable-quiz-topic')[_0x492848(0x48e)];try{const _0x154c9a={'resultsDisplay':document[_0x492848(0x353)](_0x492848(0x111))['value'],'shuffle':document['getElementById']('shuffle-setting-select')[_0x492848(0x485)],'timerMode':document['getElementById']('timer-mode-select')[_0x492848(0x485)],'timerDuration':parseInt(document['getElementById'](_0x492848(0xb5))[_0x492848(0x485)])||0xa,'passingScore':parseInt(document[_0x492848(0x353)]('passing-score-input')[_0x492848(0x485)])||0x0,'passingScore':parseInt(document['getElementById'](_0x492848(0x4f1))[_0x492848(0x485)])||0x0,'isAdaptive':document[_0x492848(0x353)](_0x492848(0x410))[_0x492848(0x2a1)]},_0x4fce4a=(currentQuizData[_0x492848(0x28c)]||[])[_0x492848(0x1d6)](_0x4d3221=>{const _0x2da94f=_0x492848,_0x17a34e=document['getElementById'](_0x2da94f(0x33d))[_0x2da94f(0x485)],_0x55e582={'questionText':_0x4d3221['questionText']||'','explanation':_0x4d3221[_0x2da94f(0x128)]||_0x2da94f(0x3bb),'questionType':_0x4d3221[_0x2da94f(0x518)]||_0x17a34e,'imageCode':_0x4d3221[_0x2da94f(0x1ed)]||null};return(_0x55e582[_0x2da94f(0x518)]===_0x2da94f(0x19c)||_0x55e582[_0x2da94f(0x518)]===_0x2da94f(0x2f8)||_0x55e582[_0x2da94f(0x518)]==='mixed'&&_0x4d3221[_0x2da94f(0x350)])&&(_0x55e582[_0x2da94f(0x350)]=_0x4d3221[_0x2da94f(0x350)]||[],_0x55e582[_0x2da94f(0x193)]=_0x4d3221[_0x2da94f(0x193)]!==undefined?_0x4d3221['correctAnswerIndex']:0x0),(_0x55e582[_0x2da94f(0x518)]==='short_answer'||_0x55e582['questionType']===_0x2da94f(0x3e7)||_0x55e582['questionType']==='mixed'&&_0x4d3221['idealAnswer'])&&(_0x55e582['idealAnswer']=_0x4d3221['idealAnswer']||''),_0x55e582[_0x2da94f(0x518)]===_0x2da94f(0x4e6)&&(_0x55e582[_0x2da94f(0x117)]=_0x4d3221[_0x2da94f(0x117)]===!![]),_0x55e582[_0x2da94f(0x518)]==='matching_item'&&(_0x55e582[_0x2da94f(0x461)]=_0x4d3221[_0x2da94f(0x461)]||'',_0x55e582[_0x2da94f(0x1e7)]=_0x4d3221['correctResponse']||'',_0x55e582[_0x2da94f(0x512)]=_0x4d3221[_0x2da94f(0x512)]||[]),_0x55e582;}),_0x539fbb={'topic':currentQuizData[_0x492848(0x107)]||'แบบทดสอบไม่มีชื่อ','quizType':currentQuizData[_0x492848(0x47b)]||_0x492848(0x19c),'questions':_0x4fce4a,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x492848(0xfb)](),'status':_0x492848(0x438),'settings':_0x154c9a};let _0x16480b;while(!![]){_0x16480b=Math[_0x492848(0x46b)](0x3e8+Math[_0x492848(0x27a)]()*0x2328)[_0x492848(0x4f6)]();const _0x4678fa=await getDoc(doc(db,_0x492848(0x372)+appId+_0x492848(0x31b),_0x16480b));if(!_0x4678fa[_0x492848(0x263)]())break;}await setDoc(doc(db,_0x492848(0x372)+appId+'/public/data/quizzes',_0x16480b),_0x539fbb),currentQuizData['settings']=_0x154c9a,currentQuizData['id']=_0x16480b;const _0x55f9b8=document[_0x492848(0x353)](_0x492848(0x407));_0x55f9b8[_0x492848(0x416)]=_0x492848(0x196)+_0x16480b+_0x492848(0x29b),document[_0x492848(0x353)](_0x492848(0x2e8))[_0x492848(0x22f)](_0x492848(0xdc),()=>copyTextToClipboard(_0x16480b,'คัดลอกรหัสแล้ว!')),document[_0x492848(0x353)]('start-live-race-generated-btn')[_0x492848(0x22f)](_0x492848(0xdc),()=>handleStartLiveRace(_0x16480b)),document[_0x492848(0x353)](_0x492848(0x408))['addEventListener'](_0x492848(0xdc),()=>startPresentation(currentQuizData)),document[_0x492848(0x353)]('admin-try-quiz-btn')[_0x492848(0x22f)](_0x492848(0xdc),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x4c0c4c){console['error']('Error\x20saving\x20quiz:',_0x4c0c4c),showMessage(_0x492848(0x451)),_0x134e0b[_0x492848(0x1b2)]=![],_0x134e0b[_0x492848(0x416)]=_0x492848(0x2ec);}}function copyTextToClipboard(_0x28296b,_0x5a90ba){const _0x2706cb=_0x3a9af3,_0x948248=document[_0x2706cb(0x481)]('textarea');_0x948248[_0x2706cb(0x485)]=_0x28296b,_0x948248['style']['position']=_0x2706cb(0x51d),_0x948248[_0x2706cb(0x335)]['opacity']='0',document[_0x2706cb(0x194)][_0x2706cb(0x493)](_0x948248),_0x948248['focus'](),_0x948248[_0x2706cb(0x423)]();try{const _0x1f7258=document[_0x2706cb(0x37b)](_0x2706cb(0x21a));showMessage(_0x1f7258?_0x5a90ba:_0x2706cb(0x420));}catch(_0x4fa33c){showMessage(_0x2706cb(0x420)),console[_0x2706cb(0x4f7)](_0x2706cb(0x283),_0x4fa33c);}document[_0x2706cb(0x194)][_0x2706cb(0x291)](_0x948248);}function listenForProjectQuizzes(_0x25d48d){const _0x2ba38b=_0x3a9af3,_0x17ca2b=collection(db,_0x2ba38b(0x372)+appId+'/public/data/quizzes'),_0x11f0d1=query(_0x17ca2b,where(_0x2ba38b(0x4c3),'==',_0x25d48d));unsubscribeQuizzesListener=onSnapshot(_0x11f0d1,async _0x10310e=>{const _0x54f11d=_0x2ba38b;allQuizzes=_0x10310e[_0x54f11d(0x48c)][_0x54f11d(0x1d6)](_0x5af632=>({'id':_0x5af632['id'],..._0x5af632[_0x54f11d(0x526)]()})),renderQuizzes();},_0x30676e=>{const _0x53b39b=_0x2ba38b;console['error'](_0x53b39b(0xde),_0x30676e),document['getElementById']('project-quizzes-list')[_0x53b39b(0x416)]=_0x53b39b(0x49f);});}async function renderQuizzes(){const _0x38cdf6=_0x3a9af3,_0x3023c2=document[_0x38cdf6(0x353)](_0x38cdf6(0xf9)),_0x33e1a1=document['getElementById'](_0x38cdf6(0x2ff))[_0x38cdf6(0x485)][_0x38cdf6(0x41b)]();let _0x27d29f;currentProjectId===_0x38cdf6(0x3aa)?_0x27d29f=starredQuizzes:_0x27d29f=allQuizzes;let _0x153fd1=_0x27d29f[_0x38cdf6(0x421)](_0x9ff205=>_0x9ff205[_0x38cdf6(0x107)][_0x38cdf6(0x41b)]()[_0x38cdf6(0x129)](_0x33e1a1));_0x153fd1[_0x38cdf6(0x241)]((_0x14bb8f,_0x107346)=>new Date(_0x107346[_0x38cdf6(0x3a8)])-new Date(_0x14bb8f[_0x38cdf6(0x3a8)]));if(_0x153fd1[_0x38cdf6(0x2ef)]===0x0){_0x3023c2[_0x38cdf6(0x416)]=_0x38cdf6(0x347);return;}const _0x79a5dc={},_0x539da6=_0x153fd1[_0x38cdf6(0x1d6)](async _0x29fbf=>{const _0x3786b1=_0x38cdf6,_0x242a06=collection(db,'artifacts/'+appId+_0x3786b1(0x314)+_0x29fbf['id']+_0x3786b1(0x382)),_0x337b26=await getDocs(_0x242a06);_0x79a5dc[_0x29fbf['id']]=_0x337b26['size'];});await Promise['all'](_0x539da6);let _0x3f79df='';_0x153fd1[_0x38cdf6(0x46f)](_0x2d10d8=>{const _0x53b6f6=_0x38cdf6,_0x33c68a=_0x79a5dc[_0x2d10d8['id']]||0x0,_0x1f8e8a=_0x2d10d8[_0x53b6f6(0x465)]||_0x53b6f6(0x438),_0x5b1541=_0x2d10d8[_0x53b6f6(0xf2)]?.[_0x53b6f6(0x152)]||_0x53b6f6(0x1ff);let _0x1aa648='',_0x1ae7c3='';const _0x12ae56=new Date();let _0x54fc0b=_0x1f8e8a;if(_0x1f8e8a===_0x53b6f6(0x511)){const _0x1e27b2=_0x2d10d8[_0x53b6f6(0x1fc)]?new Date(_0x2d10d8[_0x53b6f6(0x1fc)]):null,_0x44809f=_0x2d10d8[_0x53b6f6(0x153)]?new Date(_0x2d10d8['endTime']):null;if(_0x44809f&&_0x12ae56>_0x44809f)_0x54fc0b=_0x53b6f6(0x11c);else _0x1e27b2&&_0x12ae56<_0x1e27b2?_0x54fc0b='scheduled_pending':_0x54fc0b=_0x53b6f6(0x438);}switch(_0x54fc0b){case'inactive':_0x1aa648=_0x53b6f6(0x158),_0x1ae7c3=_0x53b6f6(0x1e4);break;case _0x53b6f6(0x239):_0x1aa648='รอเปิด',_0x1ae7c3=_0x53b6f6(0x427);break;case _0x53b6f6(0x438):_0x1aa648=_0x5b1541!==_0x53b6f6(0x1ff)?_0x53b6f6(0x374):_0x53b6f6(0x2f3),_0x1ae7c3=_0x53b6f6(0x2d2);break;default:_0x1aa648=_0x53b6f6(0x113),_0x1ae7c3='text-green-700\x20bg-green-100';}let _0x153245='';const _0x3b7dc5={'day':_0x53b6f6(0x439),'month':_0x53b6f6(0x439),'year':_0x53b6f6(0x14f),'hour':_0x53b6f6(0x439),'minute':_0x53b6f6(0x439),'hour12':![]};_0x1f8e8a==='scheduled'&&(_0x2d10d8[_0x53b6f6(0x1fc)]&&(_0x153245+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x2d10d8[_0x53b6f6(0x1fc)])[_0x53b6f6(0x452)]('th-TH',_0x3b7dc5)+'</p>'),_0x2d10d8[_0x53b6f6(0x153)]&&(_0x153245+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x2d10d8[_0x53b6f6(0x153)])[_0x53b6f6(0x452)](_0x53b6f6(0x369),_0x3b7dc5)+'</p>')),_0x3f79df+=_0x53b6f6(0x2e1)+_0x2d10d8['id']+_0x53b6f6(0x2d5)+_0x2d10d8[_0x53b6f6(0x107)]+_0x53b6f6(0x2f6)+_0x2d10d8[_0x53b6f6(0x28c)][_0x53b6f6(0x2ef)]+_0x53b6f6(0x32b)+new Date(_0x2d10d8['createdAt'])[_0x53b6f6(0x452)]('th-TH')+_0x53b6f6(0x164)+_0x33c68a+_0x53b6f6(0x1f8)+_0x153245+_0x53b6f6(0x2e4)+_0x1ae7c3+'\x22>'+_0x1aa648+_0x53b6f6(0x310)+_0x2d10d8['id']+_0x53b6f6(0x359)+_0x2d10d8['id']+_0x53b6f6(0x4b9)+(_0x2d10d8[_0x53b6f6(0x470)]?_0x53b6f6(0x155):_0x53b6f6(0x2df))+_0x53b6f6(0x3f8)+_0x2d10d8['id']+_0x53b6f6(0x3af)+_0x2d10d8['id']+_0x53b6f6(0x38b)+_0x2d10d8[_0x53b6f6(0x107)]+_0x53b6f6(0x125)+_0x2d10d8['id']+_0x53b6f6(0x412)+_0x2d10d8['id']+_0x53b6f6(0x1a6)+_0x2d10d8['id']+_0x53b6f6(0xd4)+_0x2d10d8['id']+_0x53b6f6(0x4fb)+_0x2d10d8['id']+_0x53b6f6(0x24b)+_0x2d10d8['id']+_0x53b6f6(0x3ff)+_0x2d10d8['id']+_0x53b6f6(0x16e)+_0x2d10d8['id']+_0x53b6f6(0x38b)+_0x2d10d8[_0x53b6f6(0x107)]+_0x53b6f6(0x18b);}),_0x3023c2['innerHTML']=_0x3f79df,document[_0x38cdf6(0x1b4)](_0x38cdf6(0x13a))[_0x38cdf6(0x46f)](_0x3dfb69=>{const _0x5e5341=_0x38cdf6;_0x3dfb69['addEventListener'](_0x5e5341(0xdc),()=>{const _0x249e29=_0x5e5341,_0xf32d7a=_0x3dfb69['dataset'][_0x249e29(0x37c)];showQuizDetailView(_0xf32d7a);});});}async function handleDuplicateQuiz(_0x345e75){const _0x3c66b1=_0x3a9af3;try{const _0x31817e=doc(db,'artifacts/'+appId+_0x3c66b1(0x31b),_0x345e75),_0x2bbd30=await getDoc(_0x31817e);if(_0x2bbd30[_0x3c66b1(0x263)]()){const _0x50154e=_0x2bbd30[_0x3c66b1(0x526)](),_0x5f3625={..._0x50154e,'topic':'(คัดลอก)\x20'+_0x50154e[_0x3c66b1(0x107)],'createdAt':new Date()[_0x3c66b1(0xfb)]()};await addDoc(collection(db,'artifacts/'+appId+_0x3c66b1(0x31b)),_0x5f3625),showMessage(_0x3c66b1(0x3c9));}else throw new Error(_0x3c66b1(0x365));}catch(_0xdee915){console[_0x3c66b1(0x4f7)](_0x3c66b1(0x31e),_0xdee915),showMessage(_0x3c66b1(0x1d4));}}async function handleDeleteQuiz(_0x3a7c0b,_0x3a6af5=!![]){const _0x511de1=_0x3a9af3;try{const _0x490316=writeBatch(db),_0x133023=collection(db,_0x511de1(0x372)+appId+'/public/data/quizzes/'+_0x3a7c0b+'/submissions'),_0x1ed7a6=await getDocs(_0x133023);_0x1ed7a6['forEach'](_0x105380=>{const _0x4374e6=_0x511de1;_0x490316[_0x4374e6(0x192)](doc(_0x133023,_0x105380['id']));});const _0x10c25e=doc(db,_0x511de1(0x372)+appId+_0x511de1(0x31b),_0x3a7c0b);_0x490316[_0x511de1(0x192)](_0x10c25e),await _0x490316[_0x511de1(0x475)](),_0x3a6af5&&showMessage(_0x511de1(0x127));}catch(_0x30435f){console[_0x511de1(0x4f7)](_0x511de1(0x525),_0x30435f),_0x3a6af5&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x36be9f){const _0x10832b=_0x3a9af3;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x10832b(0x21b));try{const _0x14ee58=doc(db,_0x10832b(0x372)+appId+_0x10832b(0x31b),_0x36be9f),_0x6a5b0f=await getDoc(_0x14ee58);if(!_0x6a5b0f[_0x10832b(0x263)]()){showMessage(_0x10832b(0x261));return;}const _0x574fe9={'id':_0x6a5b0f['id'],..._0x6a5b0f[_0x10832b(0x526)]()};currentQuizData=_0x574fe9;const _0x1d1856=doc(db,'artifacts/'+appId+_0x10832b(0x320),_0x574fe9[_0x10832b(0x4c3)]),_0x2cbab6=await getDoc(_0x1d1856);_0x2cbab6[_0x10832b(0x263)]()?(currentProjectData=_0x2cbab6[_0x10832b(0x526)](),currentProjectId=_0x574fe9[_0x10832b(0x4c3)]):(currentProjectData={'students':[]},currentProjectId=_0x574fe9[_0x10832b(0x4c3)]);document[_0x10832b(0x353)](_0x10832b(0x428))[_0x10832b(0x38e)]=_0x574fe9[_0x10832b(0x107)],document[_0x10832b(0x353)](_0x10832b(0x52a))['textContent']=_0x36be9f;const _0x813f37=collection(db,_0x10832b(0x372)+appId+_0x10832b(0x31b),_0x36be9f,_0x10832b(0x397));unsubscribeSubmissionsListener=onSnapshot(_0x813f37,_0x5903e2=>{const _0x3fd6d7=_0x10832b,_0x2da204=_0x5903e2[_0x3fd6d7(0x48c)][_0x3fd6d7(0x1d6)](_0xafab3c=>({'id':_0xafab3c['id'],..._0xafab3c['data']()}));currentSubmissions=_0x2da204,renderAnalytics(_0x574fe9,_0x2da204),renderQuizResultsTable(currentProjectData[_0x3fd6d7(0x35b)],_0x2da204,_0x574fe9),renderQuizLeaderboard(_0x2da204,_0x574fe9,'quiz-leaderboard-table-body');}),showView(_0x10832b(0x457));}catch(_0x36f4df){console[_0x10832b(0x4f7)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x36f4df),showMessage(_0x10832b(0x357));}}function renderQuizResultsTable(_0x5b2aa4,_0x4db6bf,_0x3cfbe4){const _0x3f0c4f=_0x3a9af3,_0x1b26f0=_0x4db6bf['reduce']((_0x2650c3,_0x27629f)=>{return _0x2650c3[_0x27629f['studentName']]=_0x27629f,_0x2650c3;},{}),_0x56ed8a=document[_0x3f0c4f(0x353)]('quiz-results-table-body');if(!_0x5b2aa4||_0x5b2aa4['length']===0x0){_0x56ed8a[_0x3f0c4f(0x416)]=_0x3f0c4f(0x21f);return;}const _0xc275e5=_0x3cfbe4[_0x3f0c4f(0x14d)]===!![],_0x50eef6=_0x3cfbe4['settings']?.[_0x3f0c4f(0x200)]??-0x1;let _0x2b23d7='';_0x5b2aa4[_0x3f0c4f(0x46f)](_0x3b1622=>{const _0x5aa768=_0x3f0c4f,_0x2eea1d=_0x1b26f0[_0x3b1622];let _0x1084ee=_0x5aa768(0x20f),_0x3d0737=_0x5aa768(0x329)+(_0xc275e5?'bg-amber-100\x20text-amber-800':_0x5aa768(0x22d))+'\x22>'+(_0xc275e5?_0x5aa768(0x506):_0x5aa768(0x342))+_0x5aa768(0x37a);if(_0x2eea1d){let _0x418f62;_0xc275e5?_0x418f62=_0x2eea1d[_0x5aa768(0x4ca)]===_0x2eea1d[_0x5aa768(0x22a)]:_0x418f62=_0x50eef6!==-0x1&&_0x2eea1d[_0x5aa768(0x4ca)]>=_0x50eef6;if(_0xc275e5||_0x50eef6!==-0x1){const _0x4b0687=_0x418f62?_0x5aa768(0x236):_0x5aa768(0x35f),_0x2472df=_0x418f62?_0x5aa768(0xbc):_0x5aa768(0x2cf);_0x1084ee=_0x5aa768(0x343)+_0x4b0687+'\x22>'+_0x2472df+_0x5aa768(0x37a);}const _0x329ed6=_0x5aa768(0x2eb)+(_0x2eea1d['attempts']?.[_0x5aa768(0x2ef)]||0x1)+_0x5aa768(0x34d);_0x2b23d7+=_0x5aa768(0x10c)+_0x3b1622+_0x5aa768(0x198)+_0x2eea1d['bestScore']+'\x20/\x20'+_0x2eea1d[_0x5aa768(0x22a)]+_0x5aa768(0x3df)+_0x1084ee+_0x5aa768(0x31a)+_0x3d0737+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x2eea1d[_0x5aa768(0x3cf)]+_0x5aa768(0x3fe)+_0x2eea1d[_0x5aa768(0x22a)]+_0x5aa768(0x121)+_0x2eea1d[_0x5aa768(0xf4)]+_0x5aa768(0x507)+(_0x2eea1d['points']||0x0)+_0x5aa768(0x3df)+_0x329ed6+_0x5aa768(0x322)+new Date(_0x2eea1d[_0x5aa768(0x25f)])[_0x5aa768(0x452)](_0x5aa768(0x369))+_0x5aa768(0x3e3);}else{const _0x4ef892=_0x5aa768(0x296);_0x2b23d7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x3b1622+_0x5aa768(0x16b)+_0x3d0737+_0x5aa768(0xd5)+_0x4ef892+_0x5aa768(0x3b7);}}),_0x56ed8a[_0x3f0c4f(0x416)]=_0x2b23d7;}function handleRenameQuiz(_0x523a7e,_0x8f0415){const _0x2ef3c1=_0x3a9af3;actionTargetId=_0x523a7e,document['getElementById']('rename-quiz-input')[_0x2ef3c1(0x485)]=_0x8f0415,renameQuizModal[_0x2ef3c1(0x500)]['remove'](_0x2ef3c1(0x398));}async function confirmRenameQuiz(){const _0x1601c5=_0x3a9af3,_0x4c2dc5=document[_0x1601c5(0x353)]('rename-quiz-input')[_0x1601c5(0x485)]['trim']();if(!_0x4c2dc5){showMessage(_0x1601c5(0x42f));return;}if(!actionTargetId)return;const _0x3c0365=doc(db,_0x1601c5(0x372)+appId+_0x1601c5(0x31b),actionTargetId);try{await updateDoc(_0x3c0365,{'topic':_0x4c2dc5}),showMessage(_0x1601c5(0x26a)),renameQuizModal[_0x1601c5(0x500)][_0x1601c5(0x40d)]('hidden'),actionTargetId=null;}catch(_0x1220a0){console['error'](_0x1601c5(0xb2),_0x1220a0),showMessage(_0x1601c5(0x3fc));}}async function handleMoveQuiz(_0x5b59e1){const _0x45ffd8=_0x3a9af3;actionTargetId=_0x5b59e1;const _0x537a99=document[_0x45ffd8(0x353)](_0x45ffd8(0x104));_0x537a99[_0x45ffd8(0x416)]=_0x45ffd8(0xae),moveQuizModal[_0x45ffd8(0x500)]['remove'](_0x45ffd8(0x398));try{const _0x3947c6=collection(db,_0x45ffd8(0x372)+appId+'/public/data/projects'),_0x4683e2=await getDocs(_0x3947c6),_0x56c1b2=_0x4683e2[_0x45ffd8(0x48c)]['map'](_0x4b2430=>({'id':_0x4b2430['id'],..._0x4b2430[_0x45ffd8(0x526)]()})),_0x503009=_0x56c1b2[_0x45ffd8(0x421)](_0x3e062d=>_0x3e062d['id']!==currentProjectId);if(_0x503009[_0x45ffd8(0x2ef)]===0x0){_0x537a99[_0x45ffd8(0x416)]=_0x45ffd8(0x527),document['getElementById'](_0x45ffd8(0x2d9))[_0x45ffd8(0x1b2)]=!![];return;}_0x537a99[_0x45ffd8(0x416)]=_0x503009[_0x45ffd8(0x1d6)](_0x5b1815=>'<option\x20value=\x22'+_0x5b1815['id']+'\x22>'+_0x5b1815[_0x45ffd8(0x368)]+_0x45ffd8(0xf1))['join'](''),document['getElementById'](_0x45ffd8(0x2d9))[_0x45ffd8(0x1b2)]=![];}catch(_0x6d2bd9){console[_0x45ffd8(0x4f7)](_0x45ffd8(0x47a),_0x6d2bd9),showMessage(_0x45ffd8(0x11d)),moveQuizModal[_0x45ffd8(0x500)][_0x45ffd8(0x40d)](_0x45ffd8(0x398));}}async function confirmMoveQuiz(){const _0x5eefe7=_0x3a9af3,_0x1f1e0e=document['getElementById'](_0x5eefe7(0x104))['value'];if(!_0x1f1e0e){showMessage(_0x5eefe7(0x35d));return;}if(!actionTargetId)return;const _0x3e5038=doc(db,_0x5eefe7(0x372)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x3e5038,{'projectId':_0x1f1e0e}),showMessage(_0x5eefe7(0x4e9)),moveQuizModal[_0x5eefe7(0x500)]['add'](_0x5eefe7(0x398)),actionTargetId=null;}catch(_0x510425){console[_0x5eefe7(0x4f7)](_0x5eefe7(0x4c8),_0x510425),showMessage(_0x5eefe7(0x36e));}}async function handleQuizSettings(_0x294354){const _0x33792d=_0x3a9af3;actionTargetId=_0x294354;const _0x3bef03=doc(db,_0x33792d(0x372)+appId+_0x33792d(0x31b),_0x294354);try{const _0x30e72a=await getDoc(_0x3bef03);if(_0x30e72a['exists']()){const _0x2279a8=_0x30e72a[_0x33792d(0x526)](),_0x2ecefc=_0x2279a8[_0x33792d(0xf2)]||{},_0x3d6485=_0x2279a8['questions']['length'];document[_0x33792d(0x353)](_0x33792d(0x190))[_0x33792d(0x485)]=_0x2ecefc[_0x33792d(0x18e)]||_0x33792d(0x1ff),document[_0x33792d(0x353)]('modal-results-display-select')['value']=_0x2ecefc[_0x33792d(0x24a)]||'show_results_and_answers',document[_0x33792d(0x353)](_0x33792d(0x4a5))['value']=_0x2ecefc[_0x33792d(0x152)]||_0x33792d(0x1ff),document['getElementById'](_0x33792d(0x20b))[_0x33792d(0x485)]=_0x2ecefc[_0x33792d(0x248)]||0xa,document['getElementById']('modal-passing-score-input')['value']=_0x2ecefc['passingScore']||Math[_0x33792d(0x46b)](_0x3d6485/0x2),document[_0x33792d(0x353)](_0x33792d(0x443))[_0x33792d(0x23b)]=_0x3d6485,document[_0x33792d(0x353)](_0x33792d(0x328))[_0x33792d(0x2a1)]=_0x2ecefc[_0x33792d(0x318)]||![],document[_0x33792d(0x353)](_0x33792d(0x4a5))['dispatchEvent'](new Event(_0x33792d(0x247))),quizSettingsModal['classList'][_0x33792d(0x1a7)]('hidden');}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x255a98){console[_0x33792d(0x4f7)](_0x33792d(0x399),_0x255a98),showMessage(_0x33792d(0x409));}}async function confirmQuizSettings(){const _0xbdea4=_0x3a9af3;if(!actionTargetId)return;const _0x57a4cd=doc(db,_0xbdea4(0x372)+appId+'/public/data/quizzes',actionTargetId),_0x11542c={'shuffle':document[_0xbdea4(0x353)](_0xbdea4(0x190))[_0xbdea4(0x485)],'resultsDisplay':document['getElementById'](_0xbdea4(0x27b))[_0xbdea4(0x485)],'timerMode':document[_0xbdea4(0x353)](_0xbdea4(0x4a5))['value'],'timerDuration':parseInt(document[_0xbdea4(0x353)](_0xbdea4(0x20b))[_0xbdea4(0x485)])||0xa,'passingScore':parseInt(document[_0xbdea4(0x353)]('modal-passing-score-input')[_0xbdea4(0x485)])||0x0,'passingScore':parseInt(document[_0xbdea4(0x353)](_0xbdea4(0x443))[_0xbdea4(0x485)])||0x0,'isAdaptive':document['getElementById'](_0xbdea4(0x328))[_0xbdea4(0x2a1)]};try{await updateDoc(_0x57a4cd,{'settings':_0x11542c}),showMessage(_0xbdea4(0x304)),quizSettingsModal['classList'][_0xbdea4(0x40d)](_0xbdea4(0x398)),actionTargetId=null;}catch(_0x3a6d5e){console[_0xbdea4(0x4f7)](_0xbdea4(0x490),_0x3a6d5e),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleQuizStatus(_0x56a2cd){const _0x59995d=_0x3a9af3;actionTargetId=_0x56a2cd;const _0x5ca3e5=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x56a2cd);try{const _0x8d87a6=await getDoc(_0x5ca3e5);if(_0x8d87a6[_0x59995d(0x263)]()){const _0x1929ed=_0x8d87a6[_0x59995d(0x526)](),_0x103201=_0x1929ed[_0x59995d(0x465)]||_0x59995d(0x438),_0x53712d=document[_0x59995d(0x353)](_0x59995d(0x4fd)),_0xde1207=document['getElementById'](_0x59995d(0x326)),_0x5c574a=document[_0x59995d(0x353)](_0x59995d(0xd6));let _0x2aa0a7=_0x59995d(0x254)+(_0x103201===_0x59995d(0x438)?'checked':'')+_0x59995d(0xcf)+(_0x103201==='inactive'?_0x59995d(0x2a1):'')+_0x59995d(0x1db)+(_0x103201===_0x59995d(0x511)?'checked':'')+_0x59995d(0x250);_0x53712d[_0x59995d(0x416)]=_0x2aa0a7;const _0x1c12f0=_0x103201===_0x59995d(0x511);_0xde1207[_0x59995d(0x500)][_0x59995d(0x175)]('hidden',!_0x1c12f0),_0x5c574a['classList'][_0x59995d(0x175)]('hidden',!_0x1c12f0),document[_0x59995d(0x353)]('quiz-start-time')[_0x59995d(0x485)]=_0x1929ed[_0x59995d(0x1fc)]?_0x1929ed[_0x59995d(0x1fc)][_0x59995d(0x533)](0x0,0x10):'',document['getElementById']('quiz-end-time')[_0x59995d(0x485)]=_0x1929ed['endTime']?_0x1929ed[_0x59995d(0x153)][_0x59995d(0x533)](0x0,0x10):'',_0x53712d[_0x59995d(0x1b4)](_0x59995d(0x3e4))[_0x59995d(0x46f)](_0x5d625f=>{const _0x17386e=_0x59995d;_0x5d625f['addEventListener'](_0x17386e(0x247),_0x248635=>{const _0x5d5d09=_0x17386e,_0x21afc8=_0x248635[_0x5d5d09(0x15b)][_0x5d5d09(0x485)]===_0x5d5d09(0x4b7);_0xde1207[_0x5d5d09(0x500)]['toggle'](_0x5d5d09(0x398),!_0x21afc8),_0x5c574a[_0x5d5d09(0x500)][_0x5d5d09(0x175)](_0x5d5d09(0x398),!_0x21afc8);});}),quizStatusModal['classList']['remove'](_0x59995d(0x398));}}catch(_0x252a5f){console[_0x59995d(0x4f7)](_0x59995d(0x4dd),_0x252a5f),showMessage(_0x59995d(0x253));}}async function confirmQuizStatus(){const _0x494718=_0x3a9af3;if(!actionTargetId)return;const _0x496258=doc(db,_0x494718(0x372)+appId+_0x494718(0x31b),actionTargetId),_0x217ae3=document[_0x494718(0x3da)](_0x494718(0x35e));if(!_0x217ae3){showMessage(_0x494718(0x4a8));return;}const _0x211d0b=_0x217ae3['value'];let _0x217618={};if(_0x211d0b===_0x494718(0x438)||_0x211d0b===_0x494718(0x11c))_0x217618={'status':_0x211d0b,'startTime':null,'endTime':null};else{if(_0x211d0b===_0x494718(0x4b7)){const _0x59a128=document[_0x494718(0x353)](_0x494718(0x4a2))[_0x494718(0x485)],_0x2953c2=document[_0x494718(0x353)]('quiz-end-time')[_0x494718(0x485)];if(!_0x59a128&&!_0x2953c2){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x217618={'status':_0x494718(0x511),'startTime':_0x59a128?new Date(_0x59a128)[_0x494718(0xfb)]():null,'endTime':_0x2953c2?new Date(_0x2953c2)['toISOString']():null};}}try{await updateDoc(_0x496258,_0x217618),showMessage(_0x494718(0x426)),quizStatusModal[_0x494718(0x500)]['add'](_0x494718(0x398)),actionTargetId=null;}catch(_0x5242ea){console[_0x494718(0x4f7)]('Error\x20updating\x20quiz\x20status:',_0x5242ea),showMessage(_0x494718(0x344));}}function listenForStudentProfiles(_0x32e91d){const _0x18ac81=_0x3a9af3,_0x24918f=collection(db,_0x18ac81(0x372)+appId+'/public/data/projects/'+_0x32e91d+_0x18ac81(0x520));unsubscribeStudentProfilesListener=onSnapshot(_0x24918f,_0x27b807=>{const _0x4e7324=_0x18ac81,_0x39ff8b=_0x27b807[_0x4e7324(0x48c)][_0x4e7324(0x1d6)](_0x107b35=>_0x107b35['data']());renderLeaderboard(_0x39ff8b,'leaderboard-table-body');},_0x544907=>{const _0x4ddc9a=_0x18ac81;console[_0x4ddc9a(0x4f7)](_0x4ddc9a(0x43b),_0x544907),document[_0x4ddc9a(0x353)](_0x4ddc9a(0x3b6))['innerHTML']='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x19261e,_0x3511fc){const _0x2d5d6b=_0x3a9af3,_0x1a1173=document[_0x2d5d6b(0x353)](_0x3511fc);if(!_0x19261e||_0x19261e[_0x2d5d6b(0x2ef)]===0x0){_0x1a1173[_0x2d5d6b(0x416)]=_0x2d5d6b(0x50f);return;}_0x19261e[_0x2d5d6b(0x241)]((_0x5e52aa,_0x3e6a67)=>{const _0x22bc9f=_0x2d5d6b,_0x45ed8b=(_0x3e6a67[_0x22bc9f(0x2af)]||0x0)-(_0x5e52aa[_0x22bc9f(0x2af)]||0x0);if(_0x45ed8b!==0x0)return _0x45ed8b;const _0x247066=(_0x3e6a67['badgesCount']?.[_0x22bc9f(0x2a0)]||0x0)-(_0x5e52aa[_0x22bc9f(0x462)]?.['specialist']||0x0);if(_0x247066!==0x0)return _0x247066;const _0x5aa414=(_0x3e6a67[_0x22bc9f(0x462)]?.[_0x22bc9f(0x259)]||0x0)-(_0x5e52aa['badgesCount']?.[_0x22bc9f(0x259)]||0x0);if(_0x5aa414!==0x0)return _0x5aa414;const _0x26c8f7=(_0x3e6a67[_0x22bc9f(0x462)]?.[_0x22bc9f(0x1b7)]||0x0)-(_0x5e52aa[_0x22bc9f(0x462)]?.[_0x22bc9f(0x1b7)]||0x0);if(_0x26c8f7!==0x0)return _0x26c8f7;const _0x3d9a30=(_0x3e6a67[_0x22bc9f(0x462)]?.['quick_thinker']||0x0)-(_0x5e52aa['badgesCount']?.[_0x22bc9f(0x379)]||0x0);if(_0x3d9a30!==0x0)return _0x3d9a30;return _0x5e52aa[_0x22bc9f(0x292)][_0x22bc9f(0x1be)](_0x3e6a67[_0x22bc9f(0x292)],'th');});let _0x439eea='';_0x19261e[_0x2d5d6b(0x46f)]((_0x3387b6,_0x56887d)=>{const _0x152d0f=_0x2d5d6b,_0x13e75b=_0x56887d+0x1,_0x55415f=_0x3387b6[_0x152d0f(0x462)]||{};let _0x285905='';const _0x5af69f=['specialist',_0x152d0f(0x1b7),_0x152d0f(0x259),'quick_thinker'];_0x5af69f[_0x152d0f(0x46f)](_0x1e9895=>{const _0x1c2db3=_0x152d0f;if(_0x55415f[_0x1e9895]>0x0){const _0x5f1bd6=Object['values'](BADGES)[_0x1c2db3(0x307)](_0x559650=>_0x559650['id']===_0x1e9895);_0x5f1bd6&&(_0x1e9895===_0x1c2db3(0x2a0)?_0x285905+=_0x1c2db3(0xea)+_0x5f1bd6['name']+_0x1c2db3(0x48f)+_0x5f1bd6[_0x1c2db3(0x141)]+_0x1c2db3(0x29e):_0x285905+=_0x1c2db3(0xea)+_0x5f1bd6['name']+'\x20('+_0x55415f[_0x1e9895]+_0x1c2db3(0x3f4)+_0x5f1bd6['icon']+_0x1c2db3(0x1d2)+_0x55415f[_0x1e9895]+_0x1c2db3(0x16a));}}),_0x439eea+=_0x152d0f(0x466)+_0x13e75b+_0x152d0f(0x3db)+_0x3387b6[_0x152d0f(0x292)]+_0x152d0f(0x170)+(_0x3387b6['totalPoints']||0x0)+_0x152d0f(0x3db)+(_0x285905||'-')+_0x152d0f(0x154);}),_0x1a1173[_0x2d5d6b(0x416)]=_0x439eea;}function renderQuizLeaderboard(_0x29dd2d,_0x1e317b,_0x523d1a){const _0x26c4e0=_0x3a9af3,_0x2af00c=document[_0x26c4e0(0x353)](_0x523d1a),_0x3dca83=_0x523d1a===_0x26c4e0(0x1a8),_0x58cf57=_0x1e317b['questions'][_0x26c4e0(0x2ef)],_0x237a25=document[_0x26c4e0(0x353)](_0x523d1a)['closest'](_0x26c4e0(0x460));if(_0x237a25&&!_0x3dca83){const _0x3da866=_0x237a25['querySelector'](_0x26c4e0(0x361));_0x3da866[_0x26c4e0(0x416)]=_0x26c4e0(0x2e9);}if(!_0x29dd2d||_0x29dd2d[_0x26c4e0(0x2ef)]===0x0){_0x2af00c['innerHTML']='<tr><td\x20colspan=\x22'+(_0x3dca83?0x6:0x8)+_0x26c4e0(0xb9);return;}const _0x1f7fa7=[..._0x29dd2d];_0x1f7fa7['sort']((_0x1d61b6,_0x22b802)=>{const _0x53e737=_0x26c4e0;let _0x528f0d,_0x11d29e;switch(quizLeaderboardSortBy){case _0x53e737(0x292):_0x528f0d=_0x1d61b6['studentName']||'',_0x11d29e=_0x22b802[_0x53e737(0x292)]||'';return quizLeaderboardSortOrder==='asc'?_0x528f0d[_0x53e737(0x1be)](_0x11d29e,'th'):_0x11d29e['localeCompare'](_0x528f0d,'th');case _0x53e737(0x2ad):_0x528f0d=_0x1d61b6[_0x53e737(0x2ad)]||0x0,_0x11d29e=_0x22b802[_0x53e737(0x2ad)]||0x0;break;case _0x53e737(0x103):_0x528f0d=_0x1d61b6['attempts']?.['length']||0x1,_0x11d29e=_0x22b802[_0x53e737(0x103)]?.[_0x53e737(0x2ef)]||0x1;break;case _0x53e737(0x25f):_0x528f0d=new Date(_0x1d61b6[_0x53e737(0x25f)]),_0x11d29e=new Date(_0x22b802['latestSubmittedAt']);break;case _0x53e737(0x4ca):default:_0x528f0d=_0x1d61b6['bestScore'],_0x11d29e=_0x22b802[_0x53e737(0x4ca)];break;}if(_0x528f0d<_0x11d29e)return quizLeaderboardSortOrder===_0x53e737(0x1f5)?-0x1:0x1;if(_0x528f0d>_0x11d29e)return quizLeaderboardSortOrder===_0x53e737(0x1f5)?0x1:-0x1;return 0x0;});const _0x30e98e=_0x1e317b[_0x26c4e0(0x14d)]===!![],_0x237b0e=_0x1e317b[_0x26c4e0(0xf2)]?.[_0x26c4e0(0x200)]??-0x1;let _0x58cecc='';_0x1f7fa7[_0x26c4e0(0x46f)]((_0x48750d,_0xe9e22a)=>{const _0xb65af7=_0x26c4e0,_0x6f948e=_0xe9e22a+0x1;let _0x434ef6='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x30e98e||_0x237b0e!==-0x1){let _0x3f77a5=_0x30e98e?_0x48750d[_0xb65af7(0x4ca)]===_0x58cf57:_0x48750d[_0xb65af7(0x4ca)]>=_0x237b0e;const _0x361437=_0x3f77a5?_0xb65af7(0x236):_0xb65af7(0x35f),_0x3de700=_0x3f77a5?_0xb65af7(0xbc):'ไม่ผ่าน';_0x434ef6='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x361437+'\x22>'+_0x3de700+_0xb65af7(0x37a);}const _0x611adf=_0x48750d[_0xb65af7(0x103)][_0x48750d[_0xb65af7(0x103)][_0xb65af7(0x2ef)]-0x1],_0x3ecd44=(_0x611adf[_0xb65af7(0x519)]||[])[_0xb65af7(0x1d6)](_0x18d4a4=>{const _0x33a28c=_0xb65af7,_0x2dc417=Object[_0x33a28c(0x508)](BADGES)['find'](_0x7bf94c=>_0x7bf94c['id']===_0x18d4a4);return _0x2dc417?_0x33a28c(0x432)+_0x2dc417[_0x33a28c(0x37f)]+_0x33a28c(0x45b)+_0x2dc417[_0x33a28c(0x141)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0xb65af7(0x4df)]('');_0x58cecc+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x6f948e+_0xb65af7(0xcc)+_0x48750d[_0xb65af7(0x292)]+_0xb65af7(0xc7)+_0x48750d[_0xb65af7(0x4ca)]+'\x20/\x20'+_0x58cf57+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x434ef6+_0xb65af7(0x356)+(_0x48750d['points']||0x0)+_0xb65af7(0x2e3)+(_0x3dca83?'':_0xb65af7(0x411)+(_0x48750d[_0xb65af7(0x103)]?.[_0xb65af7(0x2ef)]||0x1)+_0xb65af7(0x3a1))+_0xb65af7(0x281)+(_0x3dca83?'':_0xb65af7(0x43d)+new Date(_0x48750d[_0xb65af7(0x25f)])['toLocaleString']('th-TH')+_0xb65af7(0x3a1))+_0xb65af7(0x1af)+(_0x3ecd44||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2af00c[_0x26c4e0(0x416)]=_0x58cecc,_0x237a25&&!_0x3dca83&&_0x237a25[_0x26c4e0(0x1b4)](_0x26c4e0(0x539))[_0x26c4e0(0x46f)](_0x39ceb4=>{const _0x4f35f7=_0x26c4e0,_0x1fceef=_0x39ceb4[_0x4f35f7(0x3da)](_0x4f35f7(0x18d));if(_0x1fceef)_0x1fceef['remove']();_0x39ceb4[_0x4f35f7(0x3e2)][_0x4f35f7(0x241)]===quizLeaderboardSortBy&&(_0x39ceb4['innerHTML']+=_0x4f35f7(0x52e)+(quizLeaderboardSortOrder===_0x4f35f7(0x1f5)?'▲':'▼')+'</span>');});}async function handleLoadQuiz(){const _0x1db6d5=_0x3a9af3,_0x557d4d=document[_0x1db6d5(0x353)]('quiz-id-input'),_0x1f131a=_0x557d4d[_0x1db6d5(0x485)][_0x1db6d5(0x31f)]();if(!_0x1f131a){showMessage(_0x1db6d5(0x46e));return;}loadQuizBtn['disabled']=!![],loadQuizBtn['innerHTML']=_0x1db6d5(0x52f);try{const _0x20a87a=doc(db,'artifacts/'+appId+_0x1db6d5(0x31b),_0x1f131a),_0x4e5777=await getDoc(_0x20a87a);if(!_0x4e5777['exists']()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData=sanitizeQuizData({'id':_0x4e5777['id'],..._0x4e5777[_0x1db6d5(0x526)]()});const _0x5beb67=currentQuizData['status']||_0x1db6d5(0x438),_0x52232a=new Date();if(_0x5beb67===_0x1db6d5(0x11c)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x5beb67===_0x1db6d5(0x511)){const _0x5d64c7=currentQuizData[_0x1db6d5(0x1fc)]?new Date(currentQuizData[_0x1db6d5(0x1fc)]):null,_0x3af38d=currentQuizData[_0x1db6d5(0x153)]?new Date(currentQuizData['endTime']):null;if(_0x5d64c7&&_0x52232a<_0x5d64c7){showMessage(_0x1db6d5(0x1cf)+_0x5d64c7[_0x1db6d5(0x452)](_0x1db6d5(0x369),{'hour12':![]}));return;}if(_0x3af38d&&_0x52232a>_0x3af38d){showMessage(_0x1db6d5(0x435));return;}}const _0x3dab75=currentQuizData[_0x1db6d5(0x4c3)];currentProjectId=_0x3dab75;const _0xcba3d7=doc(db,_0x1db6d5(0x372)+appId+'/public/data/projects',_0x3dab75),_0x462def=await getDoc(_0xcba3d7);if(!_0x462def['exists']()){showMessage(_0x1db6d5(0x3ad));return;}const _0x2e0cd4=_0x462def['data']();currentStudentProjectData=_0x2e0cd4,displayStudentNameSelector(_0x2e0cd4[_0x1db6d5(0x35b)],currentQuizData[_0x1db6d5(0x107)]);}catch(_0x86d7a2){console[_0x1db6d5(0x4f7)]('Error\x20loading\x20quiz\x20for\x20student:',_0x86d7a2),showMessage(_0x1db6d5(0x446));}finally{loadQuizBtn[_0x1db6d5(0x1b2)]=![],loadQuizBtn[_0x1db6d5(0x416)]=_0x1db6d5(0x3ca);}}async function handleJoinLiveGame(){const _0x308482=_0x3a9af3,_0x40fa90=document[_0x308482(0x353)](_0x308482(0xb4)),_0x4b877d=document[_0x308482(0x353)](_0x308482(0x48d)),_0x250a1f=document[_0x308482(0x353)]('confirm-join-game-btn'),_0x485bcf=_0x40fa90[_0x308482(0x485)]['trim'](),_0x1fa4c2=_0x4b877d[_0x308482(0x485)][_0x308482(0x31f)]();if(!_0x485bcf||!_0x1fa4c2){showMessage(_0x308482(0x510));return;}_0x250a1f[_0x308482(0x1b2)]=!![],_0x250a1f[_0x308482(0x416)]=_0x308482(0x2ee);try{const _0x2fb195=collection(db,_0x308482(0x372)+appId+_0x308482(0x2e2)),_0x4154f6=query(_0x2fb195,where(_0x308482(0x39d),'==',_0x485bcf),where(_0x308482(0x465),'==',_0x308482(0x4ea))),_0x2a81ee=await getDocs(_0x4154f6);if(_0x2a81ee['empty']){showMessage(_0x308482(0x351));return;}const _0x156a8a=_0x2a81ee[_0x308482(0x48c)][0x0],_0x371857=_0x156a8a[_0x308482(0x526)]();currentLiveGameId=_0x156a8a['id'];const _0x3c42fe=_0x371857[_0x308482(0x37c)],_0x261416=doc(db,_0x308482(0x372)+appId+'/public/data/quizzes',_0x3c42fe),_0x228e5b=await getDoc(_0x261416);if(!_0x228e5b['exists']()){showMessage(_0x308482(0x430));return;}currentQuizData=sanitizeQuizData({'id':_0x228e5b['id'],..._0x228e5b['data']()});if(_0x371857['players']&&_0x371857[_0x308482(0x2d1)][_0x1fa4c2]){showMessage(_0x308482(0x12c));return;}const _0x21bb0b={};_0x21bb0b[_0x308482(0x46a)+_0x1fa4c2]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,_0x308482(0x372)+appId+_0x308482(0x2e2),currentLiveGameId),_0x21bb0b),currentStudentName=_0x1fa4c2,listenForLiveGameUpdates();}catch(_0x3d3e71){console[_0x308482(0x4f7)](_0x308482(0x39c),_0x3d3e71),showMessage(_0x308482(0x3a0));}finally{_0x250a1f[_0x308482(0x1b2)]=![],_0x250a1f[_0x308482(0x416)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0xce4c76,_0x39f03a){const _0x6c58a7=_0x3a9af3,_0x3e110b=document['getElementById'](_0x6c58a7(0x157));document[_0x6c58a7(0x353)](_0x6c58a7(0x35c))['textContent']=_0x6c58a7(0x3ac)+_0x39f03a,!_0xce4c76||_0xce4c76['length']===0x0?(_0x3e110b['innerHTML']='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn['disabled']=!![]):(_0x3e110b[_0x6c58a7(0x416)]=_0x6c58a7(0x46c),_0xce4c76[_0x6c58a7(0x46f)](_0x382d00=>{const _0x3d6997=_0x6c58a7,_0x5fc430=document[_0x3d6997(0x481)]('option');_0x5fc430[_0x3d6997(0x485)]=_0x382d00,_0x5fc430[_0x3d6997(0x38e)]=_0x382d00,_0x3e110b[_0x3d6997(0x493)](_0x5fc430);}),startQuizBtn[_0x6c58a7(0x1b2)]=![]),studentInitialView[_0x6c58a7(0x500)][_0x6c58a7(0x40d)](_0x6c58a7(0x398)),studentNameSelectionView['classList']['remove'](_0x6c58a7(0x398));}function shuffleArray(_0x3e02f6){const _0x1a820d=_0x3a9af3;for(let _0x3c343f=_0x3e02f6[_0x1a820d(0x2ef)]-0x1;_0x3c343f>0x0;_0x3c343f--){const _0x33c2ac=Math[_0x1a820d(0x46b)](Math[_0x1a820d(0x27a)]()*(_0x3c343f+0x1));[_0x3e02f6[_0x3c343f],_0x3e02f6[_0x33c2ac]]=[_0x3e02f6[_0x33c2ac],_0x3e02f6[_0x3c343f]];}}function getShuffledQuiz(_0x300967){const _0x14871a=_0x3a9af3;let _0x36f353=JSON[_0x14871a(0x40e)](JSON[_0x14871a(0x434)](_0x300967));const _0x52f044=_0x36f353[_0x14871a(0xf2)]?.[_0x14871a(0x18e)]||'none';if(_0x52f044===_0x14871a(0x1ff))return _0x36f353;return(_0x52f044===_0x14871a(0x1b1)||_0x52f044===_0x14871a(0x45d))&&shuffleArray(_0x36f353[_0x14871a(0x28c)]),(_0x52f044===_0x14871a(0x33f)||_0x52f044==='both')&&_0x36f353[_0x14871a(0x28c)][_0x14871a(0x46f)](_0x4078b8=>{const _0x15f72d=_0x14871a,_0x587672=_0x4078b8[_0x15f72d(0x518)]||_0x36f353[_0x15f72d(0x47b)];if(_0x4078b8[_0x15f72d(0x350)]){let _0x18d0c5=_0x4078b8['options'][_0x15f72d(0x1d6)]((_0x5ad6fc,_0x21fa5d)=>({'text':_0x5ad6fc,'isCorrect':_0x21fa5d===_0x4078b8[_0x15f72d(0x193)]}));shuffleArray(_0x18d0c5),_0x4078b8[_0x15f72d(0x350)]=_0x18d0c5[_0x15f72d(0x1d6)](_0x2b1b1a=>_0x2b1b1a[_0x15f72d(0x4c7)]),_0x4078b8[_0x15f72d(0x193)]=_0x18d0c5[_0x15f72d(0x217)](_0x61e55a=>_0x61e55a['isCorrect']);}_0x587672==='matching_item'&&_0x4078b8[_0x15f72d(0x512)]&&shuffleArray(_0x4078b8['allResponses']);}),_0x36f353;}function displayQuizForStudent(_0x3a0581){const _0x1ce8a7=_0x3a9af3;studentQuizArea['classList'][_0x1ce8a7(0x1a7)](_0x1ce8a7(0x398)),currentDisplayedQuiz=getShuffledQuiz(_0x3a0581);const _0xcf5139=currentDisplayedQuiz['settings']?.[_0x1ce8a7(0x152)]||_0x1ce8a7(0x1ff);if(_0xcf5139===_0x1ce8a7(0x149))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings'][_0x1ce8a7(0x248)]);else _0xcf5139==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x482cfe=_0x3a9af3;let _0x1ae74e=_0x482cfe(0x1a1)+currentDisplayedQuiz[_0x482cfe(0x107)]+_0x482cfe(0xe5)+(currentMode===_0x482cfe(0xe1)?_0x482cfe(0xca):'')+_0x482cfe(0x202);currentDisplayedQuiz[_0x482cfe(0x28c)]['forEach']((_0x1ac836,_0x314463)=>{const _0x33f115=_0x482cfe,_0x3a91f8=_0x1ac836['questionType']||currentDisplayedQuiz['quizType'];_0x1ae74e+=_0x33f115(0x3c6);_0x3a91f8===_0x33f115(0x2c0)?_0x1ae74e+=_0x33f115(0x403)+(_0x314463+0x1)+'.\x20'+_0x1ac836['stem']+_0x33f115(0xaf)+_0x314463+_0x33f115(0x1ab)+_0x1ac836['allResponses']['map'](_0x4ec0ff=>_0x33f115(0xc2)+_0x4ec0ff+'\x22>'+_0x4ec0ff+_0x33f115(0xf1))['join']('')+_0x33f115(0x130):(_0x1ae74e+=_0x33f115(0x289)+(_0x314463+0x1)+'.\x20'+(_0x1ac836[_0x33f115(0xc6)]||_0x1ac836[_0x33f115(0x23e)])+_0x33f115(0x1ea),_0x1ac836[_0x33f115(0x1ed)]&&(_0x1ae74e+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1ac836[_0x33f115(0x1ed)]+'</div>'));_0x1ae74e+=_0x33f115(0x35a);switch(_0x3a91f8){case _0x33f115(0x10f):_0x1ae74e+=_0x33f115(0x39e)+_0x314463+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x33f115(0x4e6):_0x1ae74e+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x314463+_0x33f115(0x2bd)+_0x314463+_0x33f115(0x30f)+_0x314463+_0x33f115(0x392),_0x1ae74e+=_0x33f115(0x3d2)+_0x314463+_0x33f115(0x232)+_0x314463+_0x33f115(0x10e)+_0x314463+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x33f115(0x2c0):break;case'fill_in_the_blank':case'multiple_choice':default:_0x1ae74e+=_0x1ac836[_0x33f115(0x350)][_0x33f115(0x1d6)]((_0x4f03b3,_0x33d19c)=>_0x33f115(0x4eb)+_0x314463+'_opt'+_0x33d19c+_0x33f115(0x19f)+_0x314463+_0x33f115(0x3a6)+_0x33d19c+_0x33f115(0x402)+_0x314463+_0x33f115(0x42a)+_0x33d19c+'\x22>'+_0x4f03b3+_0x33f115(0x311))[_0x33f115(0x4df)]('');break;}_0x1ae74e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1ae74e+=_0x482cfe(0x38d),_0x1ae74e+=_0x482cfe(0x3b9),studentQuizArea[_0x482cfe(0x416)]=_0x1ae74e;if(currentMode===_0x482cfe(0xe1)){const _0x417a14=document[_0x482cfe(0x353)](_0x482cfe(0x2ab));if(_0x417a14)_0x417a14[_0x482cfe(0x22f)]('click',cancelAdminTest);}document[_0x482cfe(0x353)](_0x482cfe(0x348))[_0x482cfe(0x22f)](_0x482cfe(0x4dc),handleSubmitQuiz);if(window[_0x482cfe(0xbb)])window[_0x482cfe(0xbb)][_0x482cfe(0x4b5)]([studentQuizArea]);}async function handleSubmitQuiz(_0x5e606a){const _0x4e5508=_0x3a9af3;if(_0x5e606a)_0x5e606a[_0x4e5508(0x41f)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x144079=document[_0x4e5508(0x353)](_0x4e5508(0x348));if(!_0x144079)return;const _0x440f43=_0x144079[_0x4e5508(0x3da)]('button[type=\x22submit\x22]'),_0x5ef9a4=currentDisplayedQuiz[_0x4e5508(0x28c)][_0x4e5508(0x3c3)](_0x1cfc57=>_0x1cfc57['questionType']===_0x4e5508(0x10f));_0x440f43&&(_0x440f43['disabled']=!![],_0x5ef9a4?_0x440f43['innerHTML']=_0x4e5508(0x199):_0x440f43[_0x4e5508(0x416)]=_0x4e5508(0x1c5));const _0x17c837=new FormData(_0x144079),_0x5b5854=currentDisplayedQuiz[_0x4e5508(0x28c)][_0x4e5508(0x1d6)]((_0x3ec2cf,_0x42ebf2)=>{const _0x47b679=_0x4e5508,_0x5000f8=_0x3ec2cf[_0x47b679(0x518)]||currentDisplayedQuiz[_0x47b679(0x47b)],_0x1f53ba=_0x17c837[_0x47b679(0x49c)](_0x47b679(0x3d4)+_0x42ebf2);if(_0x1f53ba!==null&&_0x1f53ba!==undefined){if(_0x5000f8===_0x47b679(0x19c)||_0x5000f8==='fill_in_the_blank')return parseInt(_0x1f53ba);return _0x1f53ba;}return null;}),_0x5b9c4b=currentQuizData['id'],_0x111f3d=doc(db,_0x4e5508(0x372)+appId+_0x4e5508(0x314)+_0x5b9c4b+_0x4e5508(0x382),currentStudentName),_0x5b3b9e=await getDoc(_0x111f3d),_0x183d8e=_0x5b3b9e[_0x4e5508(0x263)]()?_0x5b3b9e[_0x4e5508(0x526)]():{},_0x2b3ee9=_0x183d8e[_0x4e5508(0x103)]||[];await processAndSubmitAnswers(_0x5b5854,_0x2b3ee9);}async function gradeShortAnswerWithAI(_0x20792f,_0xfd582c){const _0x355630=_0x3a9af3;if(!_0x20792f||!_0xfd582c)return![];try{const _0x3c982a=_0x355630(0x501)+_0x20792f+_0x355630(0x538)+_0xfd582c+_0x355630(0x495),_0x4af05f={'contents':[{'role':_0x355630(0x516),'parts':[{'text':_0x3c982a}]}]},_0x577067=_0x355630(0x346),_0x228577=_0x355630(0x47e)+_0x577067,_0x43efce=await fetch(_0x228577,{'method':_0x355630(0x1ba),'headers':{'Content-Type':_0x355630(0x20c)},'body':JSON[_0x355630(0x434)](_0x4af05f)});if(!_0x43efce['ok'])throw new Error('API\x20call\x20failed');const _0x2ef85d=await _0x43efce[_0x355630(0x4a3)](),_0x5b3861=_0x2ef85d[_0x355630(0x469)][0x0][_0x355630(0x165)]['parts'][0x0]['text']['trim']()['toLowerCase']();return _0x5b3861===_0x355630(0xe4);}catch(_0x2f8a1b){return console[_0x355630(0x4f7)](_0x355630(0x14e),_0x2f8a1b),![];}}async function processAndSubmitAnswers(_0x26fe5b,_0xb7d4dc){const _0x38a231=_0x3a9af3;let _0x7f21f4=0x0,_0x4b6e97=0x0,_0x3ede30=[];const _0x4a1b4d=[],_0x1e9b8a=currentDisplayedQuiz[_0x38a231(0x28c)][_0x38a231(0x2ef)];let _0x1e6525=0x0;const _0x147332=currentDisplayedQuiz['questions'];for(let _0x35cfd7=0x0;_0x35cfd7<_0x147332[_0x38a231(0x2ef)];_0x35cfd7++){const _0x5ee200=_0x147332[_0x35cfd7],_0x461d87=_0x26fe5b[_0x35cfd7],_0x3229ae=_0x5ee200['questionType']||currentDisplayedQuiz[_0x38a231(0x47b)];let _0x439a94=![];if(_0x461d87!==null&&_0x461d87!=='')switch(_0x3229ae){case _0x38a231(0x2c0):_0x439a94=_0x461d87===_0x5ee200[_0x38a231(0x1e7)];break;case _0x38a231(0x4e6):const _0x243e12=_0x461d87===!![]||_0x461d87===_0x38a231(0xe4);_0x439a94=_0x243e12===_0x5ee200[_0x38a231(0x117)];break;case _0x38a231(0x106):case _0x38a231(0x19c):default:_0x439a94=Number(_0x461d87)===_0x5ee200[_0x38a231(0x193)];break;case _0x38a231(0x10f):_0x439a94=await gradeShortAnswer(_0x461d87,_0x5ee200);break;}_0x439a94?(_0x7f21f4++,_0x1e6525++,_0x1e6525===0x3&&(_0x3ede30[_0x38a231(0x204)](BADGES['ON_FIRE']['id']),_0x1e6525=0x0)):_0x1e6525=0x0,_0x4a1b4d[_0x38a231(0x204)]({'answer':_0x461d87,'isCorrect':_0x439a94,'originalQuestionText':_0x5ee200['stem']||_0x5ee200[_0x38a231(0x23e)]});}_0x4b6e97=_0x7f21f4*0xa;_0x7f21f4===_0x1e9b8a&&_0x1e9b8a>0x0&&!currentDisplayedQuiz[_0x38a231(0x14d)]&&(_0x4b6e97+=0x32,_0x3ede30[_0x38a231(0x204)](BADGES[_0x38a231(0x4e4)]['id']));const _0x5b2772=currentDisplayedQuiz['settings']?.[_0x38a231(0x200)]??Math['floor'](_0x1e9b8a/0x2),_0x208fd5=currentDisplayedQuiz['settings']?.['timerMode'];if(_0x208fd5==='whole_quiz'&&quizStartTime){const _0x4bee96=(new Date()-quizStartTime)/0x3e8,_0xe56a04=currentDisplayedQuiz[_0x38a231(0xf2)][_0x38a231(0x248)]*0x3c;_0x7f21f4>=_0x5b2772&&_0x4bee96<_0xe56a04/0x2&&(_0x4b6e97+=0x14,_0x3ede30[_0x38a231(0x204)](BADGES['QUICK_THINKER']['id']));}_0xb7d4dc[_0x38a231(0x2ef)]===0x0&&_0x7f21f4===_0x1e9b8a&&_0x1e9b8a>0x0&&_0x3ede30['push'](BADGES['FIRST_TRY_ACE']['id']);if(_0xb7d4dc['length']>0x0){const _0x2df428=_0xb7d4dc[0x0]['score'];if(_0x2df428<_0x5b2772&&_0x7f21f4>=_0x5b2772){const _0x521eee=_0xb7d4dc[_0x38a231(0x3c3)](_0x4bfe78=>(_0x4bfe78[_0x38a231(0x519)]||[])['includes'](BADGES[_0x38a231(0x245)]['id']));!_0x521eee&&_0x3ede30[_0x38a231(0x204)](BADGES[_0x38a231(0x245)]['id']);}}_0xb7d4dc['length']===0x4&&_0x3ede30['push'](BADGES[_0x38a231(0x1d8)]['id']);const _0x2ae7af=currentDisplayedQuiz['settings'][_0x38a231(0x24a)];if(currentMode==='admin-testing'){handleResultDisplay(_0x2ae7af,_0x7f21f4,_0x4b6e97,_0x3ede30,_0x4a1b4d,_0x1e9b8a);return;}const _0x288899=currentQuizData['id'],_0x5cb461=doc(db,_0x38a231(0x372)+appId+'/public/data/quizzes/'+_0x288899+'/submissions',currentStudentName);try{const _0x5e953b=[..._0xb7d4dc],_0x15f29b={'score':_0x7f21f4,'points':_0x4b6e97,'badges':_0x3ede30,'submittedAt':new Date()[_0x38a231(0xfb)](),'answers':_0x4a1b4d};_0x5e953b[_0x38a231(0x204)](_0x15f29b);const _0x4dcd8a=_0x5e953b[0x0][_0x38a231(0x294)],_0x8320cd=Math['max'](..._0x5e953b['map'](_0x2ac034=>_0x2ac034['score'])),_0x1bcfe5=_0x7f21f4,_0x25376e=_0x15f29b[_0x38a231(0x2be)];await setDoc(_0x5cb461,{'studentName':currentStudentName,'totalQuestions':_0x1e9b8a,'attempts':_0x5e953b,'firstScore':_0x4dcd8a,'bestScore':_0x8320cd,'latestScore':_0x1bcfe5,'points':_0x4b6e97,'latestSubmittedAt':_0x25376e}),await updateStudentProfile(currentQuizData[_0x38a231(0x4c3)],currentStudentName),handleResultDisplay(_0x2ae7af,_0x7f21f4,_0x4b6e97,_0x3ede30,_0x4a1b4d,_0x1e9b8a);}catch(_0xdab4c5){console[_0x38a231(0x4f7)](_0x38a231(0x1f1),_0xdab4c5),showMessage(_0x38a231(0x4e8));}}async function updateStudentProfile(_0xc9962e,_0x47672f){const _0x3116be=_0x3a9af3,_0x161015=doc(db,_0x3116be(0x372)+appId+_0x3116be(0x51b)+_0xc9962e+_0x3116be(0x520),_0x47672f);try{const _0x1e5daa=query(collection(db,_0x3116be(0x372)+appId+_0x3116be(0x31b)),where(_0x3116be(0x4c3),'==',_0xc9962e)),_0x3a2311=await getDocs(_0x1e5daa),_0x158bb1=new Map(_0x3a2311[_0x3116be(0x48c)][_0x3116be(0x1d6)](_0x8fea6b=>[_0x8fea6b['id'],_0x8fea6b[_0x3116be(0x526)]()])),_0x3f3b77=Array[_0x3116be(0x486)](_0x158bb1[_0x3116be(0x1a2)]());await runTransaction(db,async _0xe64cf9=>{const _0x4a377f=_0x3116be;let _0x4417db=0x0;const _0x5e366a={};let _0x57fd06=!![],_0x3a6282=0x0,_0x2c95ec=0x0;for(const _0x5f43e2 of _0x3f3b77){const _0xf9501=_0x158bb1[_0x4a377f(0x49c)](_0x5f43e2),_0x434c53=doc(db,_0x4a377f(0x372)+appId+_0x4a377f(0x314)+_0x5f43e2+'/submissions',_0x47672f),_0x2bd081=await _0xe64cf9[_0x4a377f(0x49c)](_0x434c53);if(_0x2bd081['exists']()){const _0x1c43e5=_0x2bd081[_0x4a377f(0x526)](),_0x2c528b=_0x1c43e5[_0x4a377f(0x103)]||[];if(_0x2c528b[_0x4a377f(0x2ef)]>0x0){const _0x41a174=_0x2c528b[_0x4a377f(0x1f3)]((_0x4679e4,_0x202560)=>{const _0x4f0ef0=_0x4a377f;if(_0x202560[_0x4f0ef0(0x294)]>_0x4679e4[_0x4f0ef0(0x294)])return _0x202560;if(_0x202560[_0x4f0ef0(0x294)]===_0x4679e4[_0x4f0ef0(0x294)])return(_0x202560[_0x4f0ef0(0x2ad)]||0x0)>(_0x4679e4[_0x4f0ef0(0x2ad)]||0x0)?_0x202560:_0x4679e4;return _0x4679e4;},{'score':-0x1,'points':-0x1});_0x41a174[_0x4a377f(0x294)]>-0x1&&(_0x4417db+=_0x41a174[_0x4a377f(0x2ad)]||0x0,(_0x41a174[_0x4a377f(0x519)]||[])['forEach'](_0x4e08cd=>{_0x5e366a[_0x4e08cd]=(_0x5e366a[_0x4e08cd]||0x0)+0x1;}));}}if(_0xf9501[_0x4a377f(0x107)]!=='แบบทดสอบซ่อมเสริม'){_0x2c95ec++;if(_0x2bd081[_0x4a377f(0x263)]()){_0x3a6282++;const _0x248916=_0x2bd081['data']();_0x248916[_0x4a377f(0x4ca)]!==_0x248916[_0x4a377f(0x22a)]&&(_0x57fd06=![]);}else _0x57fd06=![];}}_0x2c95ec>0x0&&_0x3a6282===_0x2c95ec&&_0x57fd06?_0x5e366a[_0x4a377f(0x2a0)]=0x1:_0x5e366a[_0x4a377f(0x2a0)]=0x0,_0xe64cf9[_0x4a377f(0x1d0)](_0x161015,{'studentName':_0x47672f,'totalPoints':_0x4417db,'unlockedBadges':Object[_0x4a377f(0x1a2)](_0x5e366a)[_0x4a377f(0x421)](_0x4c1f9c=>_0x5e366a[_0x4c1f9c]>0x0),'badgesCount':_0x5e366a},{'merge':!![]});});}catch(_0x423011){console['error'](_0x3116be(0x390),_0x423011),showMessage(_0x3116be(0x4da));}}function startAdminTest(){const _0x321e28=_0x3a9af3;if(!currentQuizData){showMessage(_0x321e28(0x2fd));return;}let _0x34cea4=JSON[_0x321e28(0x40e)](JSON['stringify'](currentQuizData));currentMode='admin-testing',currentStudentName=_0x321e28(0x1ee),adminView[_0x321e28(0x500)][_0x321e28(0x40d)](_0x321e28(0x398)),studentView['classList'][_0x321e28(0x1a7)](_0x321e28(0x398)),studentInitialView['classList'][_0x321e28(0x40d)](_0x321e28(0x398)),studentNameSelectionView[_0x321e28(0x500)][_0x321e28(0x40d)](_0x321e28(0x398)),studentResultArea[_0x321e28(0x500)][_0x321e28(0x40d)](_0x321e28(0x398)),studentQuizArea[_0x321e28(0x500)]['remove']('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0x34cea4);}function handleResultDisplay(_0x2c7eb5,_0x3567d0,_0x40e99d,_0x34122d,_0xdf5274,_0x3a37ce){const _0x32b2c3=_0x3a9af3,_0x82b25d=currentDisplayedQuiz[_0x32b2c3(0xf2)]?.['passingScore']??Math[_0x32b2c3(0x46b)](_0x3a37ce/0x2),_0x233540=currentDisplayedQuiz['settings']?.[_0x32b2c3(0x318)]??![];if(_0x233540&&_0x3567d0<_0x82b25d){startAdaptiveFlow(_0xdf5274,_0x3567d0,_0x3a37ce);return;}switch(_0x2c7eb5){case'show_results_and_answers':displayResultsWithAnswers(_0x3567d0,_0x40e99d,_0x34122d,_0xdf5274,_0x3a37ce);break;case _0x32b2c3(0x4e5):displayResultsScoreOnly(_0x3567d0,_0x40e99d,_0x34122d,_0x3a37ce);break;case _0x32b2c3(0x393):displayPassFailOnly(_0x3567d0,_0x3a37ce);break;case _0x32b2c3(0x530):default:displaySubmissionConfirmation();break;}}async function startAdaptiveFlow(_0x5dd27f,_0x4fda8b,_0x24ee3f){const _0x265cba=_0x3a9af3,_0x5debbc=_0x5dd27f[_0x265cba(0x1d6)]((_0xbd562a,_0x401a1b)=>({..._0xbd562a,'originalQuestion':currentDisplayedQuiz[_0x265cba(0x28c)][_0x401a1b]}))[_0x265cba(0x421)](_0x2140e0=>!_0x2140e0[_0x265cba(0x454)]&&_0x2140e0[_0x265cba(0x50e)]['explanation'])[_0x265cba(0x1d6)](_0x1efda4=>'-\x20'+_0x1efda4[_0x265cba(0x50e)][_0x265cba(0x128)])[_0x265cba(0x4df)]('\x0a');if(!_0x5debbc){displayResultsScoreOnly(_0x4fda8b,0x0,[],_0x24ee3f);return;}studentQuizArea[_0x265cba(0x500)][_0x265cba(0x40d)](_0x265cba(0x398)),studentReadingArea['classList'][_0x265cba(0x1a7)](_0x265cba(0x398)),studentReadingArea[_0x265cba(0x416)]=_0x265cba(0x1a9);const _0x48fe6f=_0x265cba(0x50d)+currentDisplayedQuiz[_0x265cba(0x107)]+'\x22\x20ไม่ผ่าน\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือคำอธิบายจากข้อที่นักเรียนตอบผิด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5debbc+_0x265cba(0x3b4),_0x195a12={'type':_0x265cba(0x214),'properties':{'remedialContent':{'type':_0x265cba(0x2f9)}},'required':[_0x265cba(0x1a3)]};try{const _0x37f29d=await callAnalysisApi(_0x48fe6f,_0x195a12),_0x112bfc=_0x37f29d[_0x265cba(0x1a3)];studentReadingArea[_0x265cba(0x416)]=_0x265cba(0x12f)+_0x112bfc['replace'](/\n/g,_0x265cba(0x1d1))+_0x265cba(0x17e),document[_0x265cba(0x353)](_0x265cba(0x464))[_0x265cba(0x22f)](_0x265cba(0xdc),()=>generateRemedialQuiz(_0x5debbc));}catch(_0x38a02b){console[_0x265cba(0x4f7)](_0x265cba(0x26f),_0x38a02b),showMessage(_0x265cba(0x1d9)),displayResultsScoreOnly(_0x4fda8b,0x0,[],_0x24ee3f);}}async function generateRemedialQuiz(_0x17cc87){const _0x4cf9f5=_0x3a9af3;studentReadingArea['innerHTML']=_0x4cf9f5(0x4d4);const _0x2f7e41='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x17cc87+_0x4cf9f5(0x234),_0x31dc1c={'type':_0x4cf9f5(0x214),'properties':{'questionText':{'type':_0x4cf9f5(0x2f9)},'options':{'type':_0x4cf9f5(0x17d),'items':{'type':_0x4cf9f5(0x2f9)}},'correctAnswerIndex':{'type':_0x4cf9f5(0xee)},'explanation':{'type':'STRING'}},'required':['questionText',_0x4cf9f5(0x350),_0x4cf9f5(0x193),_0x4cf9f5(0x128)]},_0x14cf1e={'type':_0x4cf9f5(0x214),'properties':{'topic':{'type':_0x4cf9f5(0x2f9)},'questions':{'type':_0x4cf9f5(0x17d),'items':_0x31dc1c}},'required':[_0x4cf9f5(0x107),_0x4cf9f5(0x28c)]};try{const _0x195ca0=await callAnalysisApi(_0x2f7e41,_0x14cf1e);_0x195ca0['isRemedial']=!![],studentReadingArea[_0x4cf9f5(0x500)][_0x4cf9f5(0x40d)](_0x4cf9f5(0x398));const _0x32378a={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x4cf9f5(0x1da)};_0x195ca0[_0x4cf9f5(0xf2)]=_0x32378a,displayQuizForStudent(_0x195ca0);}catch(_0x565404){console['error'](_0x4cf9f5(0x3cd),_0x565404),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x4cf9f5(0x2e5));}}function displayPassFailOnly(_0x5436ac,_0x5229fb){const _0x4c8326=_0x3a9af3,_0x203968=currentDisplayedQuiz[_0x4c8326(0xf2)]?.[_0x4c8326(0x200)]??-0x1,_0x5e3029=currentDisplayedQuiz[_0x4c8326(0x14d)]===!![];let _0x21997b='';if(_0x5e3029||_0x203968!==-0x1){let _0x317b42;_0x5e3029?_0x317b42=_0x5436ac===_0x5229fb:_0x317b42=_0x5436ac>=_0x203968;const _0x18a807=_0x317b42?_0x4c8326(0x236):_0x4c8326(0x35f),_0x305ef3=_0x317b42?'ผ่าน':'ไม่ผ่าน';_0x21997b='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x18a807+'\x22>'+_0x305ef3+_0x4c8326(0x15f);}else _0x21997b=_0x4c8326(0x228);let _0x1c4ceb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x4c8326(0x21e)+_0x21997b+_0x4c8326(0x29c);studentResultArea[_0x4c8326(0x416)]=_0x1c4ceb,studentResultArea['classList'][_0x4c8326(0x1a7)](_0x4c8326(0x398)),studentQuizArea[_0x4c8326(0x500)][_0x4c8326(0x40d)]('hidden');const _0x3df5a8='back-from-results-btn',_0x544751=currentMode==='admin-testing',_0x27ac14=_0x544751?_0x4c8326(0x338):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก',_0x5d2580=_0x4c8326(0x1b5)+_0x3df5a8+'\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x27ac14+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x4c8326(0x388)](_0x4c8326(0x3cc),_0x5d2580),document[_0x4c8326(0x353)](_0x3df5a8)[_0x4c8326(0x22f)](_0x4c8326(0xdc),()=>{const _0x206551=_0x4c8326;_0x544751?(currentMode=_0x206551(0x2d3),studentView[_0x206551(0x500)]['add'](_0x206551(0x398)),adminView['classList'][_0x206551(0x1a7)](_0x206551(0x398)),showView('project-detail')):(showView(_0x206551(0x2e5)),document['getElementById'](_0x206551(0x1ad))[_0x206551(0x485)]='');});}function cancelAdminTest(){const _0x302763=_0x3a9af3;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);currentMode='admin',studentView['classList'][_0x302763(0x40d)](_0x302763(0x398)),adminView[_0x302763(0x500)][_0x302763(0x1a7)](_0x302763(0x398)),showView(_0x302763(0x1b8));}function setupResultScreenBackButton(){const _0x2a21af=_0x3a9af3,_0x2d544d=_0x2a21af(0x3ee),_0x2e0be7=currentMode===_0x2a21af(0xe1),_0x346230=_0x2e0be7?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค':_0x2a21af(0x384),_0x1ca38a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22'+_0x2d544d+_0x2a21af(0x3b1)+_0x346230+_0x2a21af(0x1f4);studentResultArea[_0x2a21af(0x388)]('beforeend',_0x1ca38a),studentResultArea['querySelector']('#view-rankings-btn')[_0x2a21af(0x22f)](_0x2a21af(0xdc),handleShowStudentRankings),document[_0x2a21af(0x353)](_0x2d544d)[_0x2a21af(0x22f)](_0x2a21af(0xdc),()=>{const _0x51e205=_0x2a21af;_0x2e0be7?(currentMode=_0x51e205(0x2d3),studentView[_0x51e205(0x500)][_0x51e205(0x40d)](_0x51e205(0x398)),adminView['classList'][_0x51e205(0x1a7)](_0x51e205(0x398)),showView(_0x51e205(0x1b8))):(showView(_0x51e205(0x2e5)),document[_0x51e205(0x353)](_0x51e205(0x1ad))['value']='');});}function displayResultsWithAnswers(_0x4b794c,_0x58a56d,_0x3927cb,_0x1b8cd8,_0x2340c8){const _0x540e7d=_0x3a9af3,_0x4aa026=_0x2340c8>0x0?_0x4b794c/_0x2340c8*0x64:0x0,_0x3c7093=currentDisplayedQuiz[_0x540e7d(0xf2)]?.[_0x540e7d(0x200)]??-0x1,_0x455963=currentDisplayedQuiz[_0x540e7d(0x14d)]===!![];let _0x1bb6a3='';if(_0x455963||_0x3c7093!==-0x1){let _0xf8e822=_0x455963?_0x4b794c===_0x2340c8:_0x4b794c>=_0x3c7093;const _0x2d4c5c=_0xf8e822?_0x540e7d(0x236):_0x540e7d(0x35f),_0x486e45=_0xf8e822?_0x540e7d(0xbc):_0x540e7d(0x2cf);_0x1bb6a3=_0x540e7d(0x325)+_0x2d4c5c+'\x22>'+_0x486e45+_0x540e7d(0x1ea);}let _0x29470b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x4b794c+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x2340c8+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1bb6a3+_0x540e7d(0x134)+_0x58a56d+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x4aa026[_0x540e7d(0x251)](0x0)+_0x540e7d(0x28b);currentDisplayedQuiz[_0x540e7d(0x28c)][_0x540e7d(0x46f)]((_0x103484,_0x269564)=>{const _0x410837=_0x540e7d,_0x3edd72=_0x1b8cd8[_0x269564],_0x554b1c=_0x3edd72[_0x410837(0xff)],_0x21a816=_0x3edd72[_0x410837(0x454)],_0x15e6c6=_0x103484['questionType']||currentDisplayedQuiz['quizType'];_0x29470b+=_0x410837(0x191)+(_0x21a816?_0x410837(0x301):_0x410837(0x4cf))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x269564+0x1)+'.\x20'+(_0x103484[_0x410837(0x461)]||_0x103484[_0x410837(0x23e)])+_0x410837(0x1d3);switch(_0x15e6c6){case'matching_item':const _0x51b821=_0x554b1c||'ไม่ได้ตอบ',_0x207b07=_0x103484['correctResponse'];_0x29470b+=_0x410837(0x212)+(!_0x21a816?_0x410837(0x37e):'')+'\x22>'+_0x51b821+_0x410837(0x123);!_0x21a816&&(_0x29470b+=_0x410837(0x4ef)+_0x207b07+_0x410837(0x1ea));break;case'short_answer':_0x29470b+=_0x410837(0x18a)+(_0x554b1c||_0x410837(0x2a4))+_0x410837(0x1ea),_0x29470b+=_0x410837(0x315)+_0x103484[_0x410837(0x306)]+'</p>';break;case'true_false':_0x29470b+='<p\x20class=\x22'+(_0x103484[_0x410837(0x117)]===!![]?_0x410837(0x102):'')+'\x20'+(_0x554b1c===_0x410837(0xe4)&&!_0x21a816?'line-through\x20text-red-700':'')+_0x410837(0x2d8),_0x29470b+=_0x410837(0x3dd)+(_0x103484['correctAnswer']===![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x554b1c===_0x410837(0x459)&&!_0x21a816?'line-through\x20text-red-700':'')+_0x410837(0x17a);break;case _0x410837(0x106):case _0x410837(0x19c):default:_0x29470b+=_0x103484[_0x410837(0x350)]['map']((_0x2fc87e,_0x44daaa)=>{const _0xadb578=_0x410837;let _0x14a067='',_0x107a44='';if(_0x44daaa===_0x103484[_0xadb578(0x193)])_0x14a067=_0xadb578(0x102),_0x107a44=_0xadb578(0xef);else _0x44daaa===_0x554b1c&&(_0x14a067=_0xadb578(0x110),_0x107a44=_0xadb578(0x24c));return _0xadb578(0x4ac)+_0x14a067+'\x22>'+_0x107a44+_0x2fc87e+'</div>';})[_0x410837(0x4df)]('');break;}_0x29470b+=_0x410837(0x3e6)+(_0x103484[_0x410837(0x128)]||_0x410837(0x3bb))+_0x410837(0xb6);}),studentResultArea[_0x540e7d(0x416)]=_0x29470b,renderEarnedBadges(_0x3927cb,'earned-badges-container'),studentResultArea['classList'][_0x540e7d(0x1a7)]('hidden'),studentQuizArea[_0x540e7d(0x500)]['add'](_0x540e7d(0x398)),setupResultScreenBackButton();if(window[_0x540e7d(0xbb)])window[_0x540e7d(0xbb)]['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0xef6ac,_0x3405ac,_0x32a2f9,_0xd4be9b){const _0x153157=_0x3a9af3,_0x7e08f7=_0xd4be9b>0x0?_0xef6ac/_0xd4be9b*0x64:0x0,_0x316e7a=currentDisplayedQuiz[_0x153157(0xf2)]?.['passingScore']??-0x1,_0x1d2255=currentDisplayedQuiz[_0x153157(0x14d)]===!![];let _0xc4edc1='';if(_0x1d2255||_0x316e7a!==-0x1){let _0xec0e71;_0x1d2255?_0xec0e71=_0xef6ac===_0xd4be9b:_0xec0e71=_0xef6ac>=_0x316e7a;const _0x157ace=_0xec0e71?_0x153157(0x236):_0x153157(0x35f),_0x5364c3=_0xec0e71?_0x153157(0xbc):_0x153157(0x2cf);_0xc4edc1=_0x153157(0x325)+_0x157ace+'\x22>'+_0x5364c3+_0x153157(0x1ea);}let _0x19aef0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0xef6ac+_0x153157(0x521)+_0xd4be9b+_0x153157(0x1c9)+_0xc4edc1+_0x153157(0x134)+_0x3405ac+_0x153157(0x4af)+_0x7e08f7['toFixed'](0x0)+_0x153157(0xc3);studentResultArea[_0x153157(0x416)]=_0x19aef0,renderEarnedBadges(_0x32a2f9,'earned-badges-container'),studentResultArea[_0x153157(0x500)][_0x153157(0x1a7)](_0x153157(0x398)),studentQuizArea[_0x153157(0x500)][_0x153157(0x40d)]('hidden'),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x379726=_0x3a9af3;let _0x5df078=_0x379726(0x2cb)+currentStudentName+_0x379726(0x1e9);studentResultArea['innerHTML']=_0x5df078,studentResultArea[_0x379726(0x500)][_0x379726(0x1a7)](_0x379726(0x398)),studentQuizArea[_0x379726(0x500)][_0x379726(0x40d)](_0x379726(0x398)),document['getElementById'](_0x379726(0x2b2))[_0x379726(0x22f)](_0x379726(0xdc),()=>{const _0x4000b7=_0x379726;showView(_0x4000b7(0x2e5)),document[_0x4000b7(0x353)]('quiz-id-input')[_0x4000b7(0x485)]='';});}function renderEarnedBadges(_0x590d2b,_0x51170d){const _0x1a7932=_0x3a9af3,_0x1688eb=document[_0x1a7932(0x353)](_0x51170d);if(!_0x1688eb||!_0x590d2b||_0x590d2b[_0x1a7932(0x2ef)]===0x0)return;let _0x33715d='';_0x590d2b['forEach']((_0x5062e8,_0x19d1de)=>{const _0x47e580=_0x1a7932,_0x4b55e0=Object[_0x47e580(0x508)](BADGES)[_0x47e580(0x307)](_0x3ec337=>_0x3ec337['id']===_0x5062e8);_0x4b55e0&&(_0x33715d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x19d1de*0.2+_0x47e580(0xd2)+_0x4b55e0[_0x47e580(0x1c1)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x4b55e0[_0x47e580(0x141)]+_0x47e580(0x1ae)+_0x4b55e0[_0x47e580(0x37f)]+_0x47e580(0x2bf));}),_0x1688eb[_0x1a7932(0x416)]=_0x33715d;}function startPresentation(_0x5e928d){const _0x898e81=_0x3a9af3;currentQuizData=getShuffledQuiz(_0x5e928d),currentPresentationSlide=0x0,presentationModal[_0x898e81(0x335)]['display']=_0x898e81(0x44b),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x56970b=_0x3a9af3;document['fullscreenElement']&&document['exitFullscreen'](),presentationModal[_0x56970b(0x335)][_0x56970b(0x3bd)]=_0x56970b(0x1ff);}function renderPresentationSlide(_0x1abc9b){const _0x53674c=_0x3a9af3,_0x4db9b4=document[_0x53674c(0x353)]('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0x53674c(0x28c)]||!currentQuizData[_0x53674c(0x28c)][_0x1abc9b]){_0x4db9b4[_0x53674c(0x416)]=_0x53674c(0x213);return;}const _0x3ff58a=currentQuizData['questions'][_0x1abc9b],_0x1d6794=_0x3ff58a['questionType']||currentQuizData[_0x53674c(0x47b)];_0x4db9b4['innerHTML']='';let _0x1a04e4=_0x53674c(0x270)+(_0x3ff58a['imageCode']?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3ff58a[_0x53674c(0x1ed)]+_0x53674c(0x25b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>'+(_0x1abc9b+0x1)+'.\x20'+(_0x3ff58a[_0x53674c(0x461)]||_0x3ff58a[_0x53674c(0x23e)])+_0x53674c(0x252);switch(_0x1d6794){case _0x53674c(0x2c0):_0x1a04e4+=_0x3ff58a[_0x53674c(0x512)][_0x53674c(0x1d6)](_0x524387=>_0x53674c(0x44f)+_0x524387+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;case _0x53674c(0x4e6):_0x1a04e4+=_0x53674c(0x381),_0x1a04e4+=_0x53674c(0x189);break;case _0x53674c(0x3e7):case _0x53674c(0x10f):_0x1a04e4+=_0x53674c(0x211);break;case _0x53674c(0x106):case _0x53674c(0x19c):default:_0x1a04e4+=_0x3ff58a['options'][_0x53674c(0x1d6)]((_0x1430e7,_0x34b7a6)=>_0x53674c(0x30a)+_0x34b7a6+_0x53674c(0x172)+_0x1430e7+_0x53674c(0x341))['join']('');break;}_0x1a04e4+=_0x53674c(0x210)+(_0x3ff58a['explanation']||_0x53674c(0x3bb))+_0x53674c(0x160),_0x4db9b4[_0x53674c(0x416)]=_0x1a04e4;if(window[_0x53674c(0xbb)])window[_0x53674c(0xbb)][_0x53674c(0x4b5)]([_0x4db9b4]);document[_0x53674c(0x1b4)]('.presentation-option')['forEach'](_0x42826c=>{const _0x1d5e9f=_0x53674c;_0x42826c[_0x1d5e9f(0x22f)]('click',_0x2a8cc6=>revealAnswerForPresentation(_0x1abc9b,_0x2a8cc6[_0x1d5e9f(0x1d7)]));});const _0x3cf607=document[_0x53674c(0x353)](_0x53674c(0x11e));_0x3cf607&&_0x3cf607[_0x53674c(0x22f)](_0x53674c(0xdc),()=>checkShortAnswerForPresentation(_0x1abc9b)),document[_0x53674c(0x353)](_0x53674c(0x2b0))['textContent']=_0x53674c(0x3c1)+(_0x1abc9b+0x1)+_0x53674c(0x3fe)+currentQuizData[_0x53674c(0x28c)]['length'],document['getElementById']('prev-question-btn')[_0x53674c(0x1b2)]=_0x1abc9b===0x0,document['getElementById'](_0x53674c(0x36d))['disabled']=_0x1abc9b===currentQuizData[_0x53674c(0x28c)][_0x53674c(0x2ef)]-0x1;}async function checkShortAnswerForPresentation(_0x2538f8){const _0x2b24c1=_0x3a9af3,_0x4a2a7d=currentQuizData[_0x2b24c1(0x28c)][_0x2538f8],_0x43f37a=document[_0x2b24c1(0x353)]('presentation-short-answer-input'),_0x35f78c=document[_0x2b24c1(0x353)](_0x2b24c1(0x11e)),_0x29a2a7=document[_0x2b24c1(0x353)](_0x2b24c1(0x418)),_0x2f145e=document['getElementById'](_0x2b24c1(0x2f5));if(!_0x43f37a||!_0x35f78c||!_0x29a2a7||!_0x2f145e)return;const _0x33421d=_0x43f37a['value']['trim']();if(_0x33421d==='')return;_0x35f78c[_0x2b24c1(0x1b2)]=!![],_0x35f78c['innerHTML']=_0x2b24c1(0x1a4),_0x43f37a[_0x2b24c1(0x1b2)]=!![];const _0x4e28d5=await gradeShortAnswer(_0x33421d,_0x4a2a7d);_0x4e28d5?_0x29a2a7['innerHTML']='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x29a2a7[_0x2b24c1(0x416)]=_0x2b24c1(0x207)+_0x4a2a7d[_0x2b24c1(0x306)]+')',_0x29a2a7[_0x2b24c1(0x500)][_0x2b24c1(0x1a7)](_0x2b24c1(0x398)),_0x2f145e[_0x2b24c1(0x500)][_0x2b24c1(0x1a7)](_0x2b24c1(0x398)),_0x35f78c['classList'][_0x2b24c1(0x40d)]('hidden');}function revealAnswerForPresentation(_0x5a8a40,_0x12a55b){const _0x2edcb2=_0x3a9af3,_0x98f18=currentQuizData[_0x2edcb2(0x28c)][_0x5a8a40],_0x4f5706=_0x98f18[_0x2edcb2(0x518)]||currentQuizData[_0x2edcb2(0x47b)];document[_0x2edcb2(0x1b4)]('.presentation-option')['forEach'](_0x27adf9=>{const _0x47eecb=_0x2edcb2;_0x27adf9['disabled']=!![],_0x27adf9[_0x47eecb(0x500)]['remove'](_0x47eecb(0x25c));let _0x290bc1=![];if(_0x4f5706===_0x47eecb(0x19c)||_0x4f5706===_0x47eecb(0x106)){const _0xcc8b65=parseInt(_0x27adf9['dataset'][_0x47eecb(0x285)]);_0x290bc1=_0xcc8b65===_0x98f18[_0x47eecb(0x193)];}else{if(_0x4f5706===_0x47eecb(0x4e6)){const _0x4ad557=_0x27adf9[_0x47eecb(0x3e2)]['answer']===_0x47eecb(0xe4);_0x290bc1=_0x4ad557===_0x98f18[_0x47eecb(0x117)];}else _0x4f5706===_0x47eecb(0x2c0)&&(_0x290bc1=_0x27adf9['textContent'][_0x47eecb(0x31f)]()===_0x98f18['correctResponse']);}_0x290bc1?_0x27adf9[_0x47eecb(0x500)][_0x47eecb(0x40d)](_0x47eecb(0x429),_0x47eecb(0xd9),_0x47eecb(0x2cd)):_0x27adf9['classList'][_0x47eecb(0x40d)](_0x47eecb(0x34c));}),_0x12a55b['classList'][_0x2edcb2(0x1a7)]('opacity-50');let _0x332063=![];if(_0x4f5706===_0x2edcb2(0x19c))_0x332063=parseInt(_0x12a55b[_0x2edcb2(0x3e2)][_0x2edcb2(0x285)])===_0x98f18[_0x2edcb2(0x193)];else{if(_0x4f5706===_0x2edcb2(0x4e6))_0x332063=_0x12a55b[_0x2edcb2(0x3e2)][_0x2edcb2(0xff)]===_0x2edcb2(0xe4)===_0x98f18[_0x2edcb2(0x117)];else _0x4f5706==='matching_item'&&(_0x332063=_0x12a55b['textContent'][_0x2edcb2(0x31f)]()===_0x98f18[_0x2edcb2(0x1e7)]);}!_0x332063&&_0x12a55b[_0x2edcb2(0x500)][_0x2edcb2(0x40d)]('bg-red-500',_0x2edcb2(0xd9),_0x2edcb2(0x1df)),document[_0x2edcb2(0x353)](_0x2edcb2(0x2f5))[_0x2edcb2(0x500)][_0x2edcb2(0x1a7)](_0x2edcb2(0x398));}function startWholeQuizTimer(_0x422579){const _0x1fde5d=_0x3a9af3,_0x549f89=document[_0x1fde5d(0x353)](_0x1fde5d(0x171));if(!_0x549f89)return;const _0x2ebcd7=Date['now']()+_0x422579*0x3c*0x3e8;_0x549f89[_0x1fde5d(0x416)]=_0x1fde5d(0x3a9);const _0x13499b=document[_0x1fde5d(0x353)](_0x1fde5d(0x124));quizTimerInterval=setInterval(()=>{const _0x2be222=_0x1fde5d,_0x4147b0=_0x2ebcd7-Date[_0x2be222(0x2b3)]();if(_0x4147b0<=0x0)clearInterval(quizTimerInterval),_0x13499b[_0x2be222(0x38e)]=_0x2be222(0x12a),showMessage(_0x2be222(0x1ce)),handleSubmitQuiz(null);else{const _0x4f90a1=Math['floor'](_0x4147b0/0x3e8/0x3c%0x3c)[_0x2be222(0x4f6)]()[_0x2be222(0x1fd)](0x2,'0'),_0x45fe41=Math[_0x2be222(0x46b)](_0x4147b0/0x3e8%0x3c)[_0x2be222(0x4f6)]()[_0x2be222(0x1fd)](0x2,'0');_0x13499b[_0x2be222(0x38e)]=_0x4f90a1+':'+_0x45fe41;}},0x3e8);}function renderPerQuestionView(){const _0x1b8e6b=_0x3a9af3;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x3cdedb=currentDisplayedQuiz[_0x1b8e6b(0x28c)][currentQuestionIndex],_0x4730d8=_0x3cdedb[_0x1b8e6b(0x518)]||currentDisplayedQuiz[_0x1b8e6b(0x47b)];let _0xebceb8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x1b8e6b(0x15d)+currentDisplayedQuiz[_0x1b8e6b(0x28c)][_0x1b8e6b(0x2ef)]+_0x1b8e6b(0xd1)+(currentMode==='admin-testing'?_0x1b8e6b(0xca):'')+_0x1b8e6b(0x100)+currentDisplayedQuiz[_0x1b8e6b(0x107)]+_0x1b8e6b(0x4e7)+(currentQuestionIndex===currentDisplayedQuiz[_0x1b8e6b(0x28c)][_0x1b8e6b(0x2ef)]-0x1?_0x1b8e6b(0x336):'คำถามถัดไป')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20';studentQuizArea['innerHTML']=_0xebceb8;let _0x4df034='',_0x533d72='';switch(_0x4730d8){case _0x1b8e6b(0x2c0):_0x4df034=currentQuestionIndex+0x1+'.\x20'+_0x3cdedb[_0x1b8e6b(0x461)],_0x533d72=_0x1b8e6b(0x431)+_0x3cdedb['allResponses']['map'](_0xa73d02=>'<option\x20value=\x22'+_0xa73d02+'\x22>'+_0xa73d02+_0x1b8e6b(0xf1))[_0x1b8e6b(0x4df)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x1b8e6b(0x4e6):_0x4df034=currentQuestionIndex+0x1+'.\x20'+_0x3cdedb[_0x1b8e6b(0x23e)],_0x533d72='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x1b8e6b(0x10f):case _0x1b8e6b(0x3e7):_0x4df034=currentQuestionIndex+0x1+'.\x20'+_0x3cdedb[_0x1b8e6b(0x23e)],_0x533d72=_0x1b8e6b(0x17f);break;case'multiple_choice':case _0x1b8e6b(0x2f8):default:_0x4df034=currentQuestionIndex+0x1+'.\x20'+_0x3cdedb[_0x1b8e6b(0x23e)],_0x533d72=_0x3cdedb[_0x1b8e6b(0x350)][_0x1b8e6b(0x1d6)]((_0xf7307e,_0x773ab6)=>_0x1b8e6b(0x195)+_0x773ab6+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x773ab6+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt'+_0x773ab6+'\x22>'+_0xf7307e+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1b8e6b(0x4df)]('');break;}_0x3cdedb[_0x1b8e6b(0x1ed)]&&(_0x4df034+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3cdedb[_0x1b8e6b(0x1ed)]+'</div>');document[_0x1b8e6b(0x353)](_0x1b8e6b(0x38c))[_0x1b8e6b(0x416)]=_0x4df034,document[_0x1b8e6b(0x353)]('per-question-options')[_0x1b8e6b(0x416)]=_0x533d72;if(currentMode===_0x1b8e6b(0xe1)){const _0x7bb0cd=document[_0x1b8e6b(0x353)](_0x1b8e6b(0x2ab));if(_0x7bb0cd)_0x7bb0cd['addEventListener'](_0x1b8e6b(0xdc),cancelAdminTest);}document[_0x1b8e6b(0x353)](_0x1b8e6b(0x477))['addEventListener']('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x1b8e6b(0xbb)])window[_0x1b8e6b(0xbb)][_0x1b8e6b(0x4b5)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x410b83=_0x3a9af3,_0x5e1df0=currentDisplayedQuiz[_0x410b83(0xf2)][_0x410b83(0x248)],_0xbe7872=document[_0x410b83(0x353)](_0x410b83(0x156));if(!_0xbe7872)return;let _0x1ae8ea=_0x5e1df0;_0xbe7872[_0x410b83(0x416)]=_0x410b83(0x389)+_0x1ae8ea+_0x410b83(0xfa);const _0x45d18b=document['getElementById']('timer-bar'),_0x30f061=document[_0x410b83(0x353)](_0x410b83(0x32f));perQuestionTimerInterval=setInterval(()=>{const _0x4ad24e=_0x410b83;_0x1ae8ea--;const _0x54a640=_0x1ae8ea/_0x5e1df0*0x64;_0x45d18b['style']['width']=_0x54a640+'%',_0x30f061[_0x4ad24e(0x38e)]=_0x1ae8ea,_0x1ae8ea<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x4ad24e(0x467)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x4215c1=![]){const _0x56e327=_0x3a9af3;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x5de0e1=null;if(!_0x4215c1){const _0xafa983=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x581fbf=_0xafa983[_0x56e327(0x518)]||currentDisplayedQuiz[_0x56e327(0x47b)];if(_0x581fbf==='short_answer'||_0x581fbf===_0x56e327(0x3e7)){const _0x2c0424=document[_0x56e327(0x3da)](_0x56e327(0x278));_0x5de0e1=_0x2c0424?_0x2c0424[_0x56e327(0x485)]['trim']():'';}else{if(_0x581fbf===_0x56e327(0x2c0)){const _0x124618=document[_0x56e327(0x3da)](_0x56e327(0x1c4));_0x5de0e1=_0x124618?_0x124618[_0x56e327(0x485)]:'';}else{const _0x1cc9d3=document['querySelector']('input[name=\x22question_single\x22]:checked');if(_0x1cc9d3){const _0x5a3011=_0x1cc9d3['value'];_0x5de0e1=!isNaN(parseInt(_0x5a3011,0xa))&&_0x5a3011[_0x56e327(0x31f)]()!==''?parseInt(_0x5a3011,0xa):_0x5a3011;}}}}studentAnswersPerQuestion[_0x56e327(0x204)](_0x5de0e1),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x56e327(0x2ef)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x33cf5a=_0x3a9af3,_0x38b20d=currentDisplayedQuiz[_0x33cf5a(0x28c)]['some'](_0x4b6fbc=>_0x4b6fbc[_0x33cf5a(0x518)]==='short_answer');_0x38b20d?showMessage(_0x33cf5a(0x4a0)):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x25731a=currentQuizData['id'],_0x401897=doc(db,'artifacts/'+appId+_0x33cf5a(0x314)+_0x25731a+'/submissions',currentStudentName),_0x55174a=await getDoc(_0x401897),_0x260055=_0x55174a[_0x33cf5a(0x263)]()?_0x55174a[_0x33cf5a(0x526)]():{},_0x4a64c3=_0x260055[_0x33cf5a(0x103)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x4a64c3);}function getResultsFilename(){const _0x4710bc=_0x3a9af3,_0x1038cd=document[_0x4710bc(0x353)](_0x4710bc(0x428))[_0x4710bc(0x38e)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x4710bc(0x137)+(_0x1038cd||_0x4710bc(0x11a));}function exportResultsAsImage(){const _0x187b84=_0x3a9af3,_0x2ca676=document['getElementById'](_0x187b84(0x52b));showMessage(_0x187b84(0x2ae)),html2canvas(_0x2ca676)['then'](_0x435f59=>{const _0x457488=_0x187b84,_0x3796f7=document[_0x457488(0x481)]('a');_0x3796f7[_0x457488(0x1f6)]=getResultsFilename()+'.png',_0x3796f7['href']=_0x435f59[_0x457488(0x442)](_0x457488(0x1b9)),_0x3796f7[_0x457488(0xdc)](),messageModal[_0x457488(0x500)][_0x457488(0x40d)](_0x457488(0x398));});}function exportResultsAsPDF(){const _0x3fd7cb=_0x3a9af3,{jsPDF:_0x19fe5e}=window[_0x3fd7cb(0x237)],_0x24bf7d=new _0x19fe5e();_0x24bf7d[_0x3fd7cb(0x1c7)](_0x3fd7cb(0x2ca),_0x3fd7cb(0x3c4)),_0x24bf7d['autoTable']({'html':_0x3fd7cb(0x215)}),_0x24bf7d['save'](getResultsFilename()+_0x3fd7cb(0x484));}function exportResultsAsWord(){const _0x4100f5=_0x3a9af3,_0x50b60f=_0x4100f5(0x3c0)+_0x4100f5(0x4a4)+_0x4100f5(0x1cd)+_0x4100f5(0x2b1),_0x2de507=_0x4100f5(0x1ec),_0x16ef66=_0x50b60f+document[_0x4100f5(0x353)](_0x4100f5(0x52b))['innerHTML']+_0x2de507,_0x174ac6=_0x4100f5(0x3de)+encodeURIComponent(_0x16ef66),_0x30db43=document[_0x4100f5(0x481)]('a');document[_0x4100f5(0x194)][_0x4100f5(0x493)](_0x30db43),_0x30db43[_0x4100f5(0x223)]=_0x174ac6,_0x30db43[_0x4100f5(0x1f6)]=getResultsFilename()+'.doc',_0x30db43[_0x4100f5(0xdc)](),document[_0x4100f5(0x194)][_0x4100f5(0x291)](_0x30db43);}function exportResultsAsExcel(){const _0x26223a=_0x3a9af3,_0x2da29b=document[_0x26223a(0x353)](_0x26223a(0xd7));let _0x1065e6=[];for(let _0x5347ef=0x0;_0x5347ef<_0x2da29b['rows'][_0x26223a(0x2ef)];_0x5347ef++){let _0x186a9d=[],_0x263aca=_0x2da29b[_0x26223a(0x373)][_0x5347ef][_0x26223a(0x1b4)]('td,\x20th');for(let _0x2e5662=0x0;_0x2e5662<_0x263aca['length'];_0x2e5662++){_0x186a9d[_0x26223a(0x204)]('\x22'+_0x263aca[_0x2e5662]['innerText'][_0x26223a(0x16c)](/"/g,'\x22\x22')+'\x22');}_0x1065e6[_0x26223a(0x204)](_0x186a9d[_0x26223a(0x4df)](','));}const _0x3577de=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1065e6[_0x26223a(0x4df)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x5f4d63=document['createElement']('a');_0x5f4d63['href']=URL['createObjectURL'](_0x3577de),_0x5f4d63['download']=getResultsFilename()+_0x26223a(0x34e),_0x5f4d63[_0x26223a(0xdc)]();}function exportTableAsImage(_0xb5b80a,_0x452070){const _0x2e664a=_0x3a9af3,_0x3d6b89=document[_0x2e664a(0x353)](_0xb5b80a);if(!_0x3d6b89){showMessage(_0x2e664a(0x255));return;}showMessage(_0x2e664a(0x2ae)),html2canvas(_0x3d6b89)[_0x2e664a(0x4b0)](_0x10b843=>{const _0x36d06c=_0x2e664a,_0x1aa411=document['createElement']('a');_0x1aa411['download']=_0x452070+_0x36d06c(0x375),_0x1aa411['href']=_0x10b843[_0x36d06c(0x442)]('image/png'),_0x1aa411[_0x36d06c(0xdc)](),messageModal[_0x36d06c(0x500)][_0x36d06c(0x40d)](_0x36d06c(0x398));});}function exportTableAsPDF(_0xf8f15,_0xeea155){const _0x53abe5=_0x3a9af3,{jsPDF:_0x2b06e4}=window[_0x53abe5(0x237)],_0x338fc2=new _0x2b06e4();_0x338fc2['setFont'](_0x53abe5(0x2ca),'normal'),_0x338fc2[_0x53abe5(0x4de)]({'html':'#'+_0xf8f15}),_0x338fc2[_0x53abe5(0x139)](_0xeea155+_0x53abe5(0x484));}function exportTableAsWord(_0x55bca5,_0x473695){const _0x3cdc31=_0x3a9af3,_0x5208fc=document[_0x3cdc31(0x353)](_0x55bca5);if(!_0x5208fc){showMessage(_0x3cdc31(0x255));return;}const _0xe5c31d='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x3cdc31(0x4a4)+_0x3cdc31(0x1cd)+_0x3cdc31(0x2b1),_0x2d2779=_0x3cdc31(0x1ec),_0x5354c4=_0xe5c31d+_0x5208fc[_0x3cdc31(0x416)]+_0x2d2779,_0x50ce6c=_0x3cdc31(0x3de)+encodeURIComponent(_0x5354c4),_0x43fe41=document[_0x3cdc31(0x481)]('a');document[_0x3cdc31(0x194)][_0x3cdc31(0x493)](_0x43fe41),_0x43fe41[_0x3cdc31(0x223)]=_0x50ce6c,_0x43fe41[_0x3cdc31(0x1f6)]=_0x473695+_0x3cdc31(0x362),_0x43fe41[_0x3cdc31(0xdc)](),document[_0x3cdc31(0x194)]['removeChild'](_0x43fe41);}function _0x4d75(_0x5c3680,_0x44ff71){const _0xe68c7a=_0xe68c();return _0x4d75=function(_0x4d759d,_0x259f89){_0x4d759d=_0x4d759d-0xad;let _0xa53bdf=_0xe68c7a[_0x4d759d];return _0xa53bdf;},_0x4d75(_0x5c3680,_0x44ff71);}function exportTableAsExcel(_0x24ea4d,_0x1ef413){const _0x24347d=_0x3a9af3,_0x2ea8fc=document[_0x24347d(0x353)](_0x24ea4d);if(!_0x2ea8fc){showMessage(_0x24347d(0x255));return;}let _0x329b11=[];for(let _0x37cfd3=0x0;_0x37cfd3<_0x2ea8fc[_0x24347d(0x373)]['length'];_0x37cfd3++){let _0x1686ba=[],_0x24d0fb=_0x2ea8fc[_0x24347d(0x373)][_0x37cfd3]['querySelectorAll']('td,\x20th');for(let _0x38472f=0x0;_0x38472f<_0x24d0fb['length'];_0x38472f++){_0x1686ba['push']('\x22'+_0x24d0fb[_0x38472f][_0x24347d(0x48e)][_0x24347d(0x16c)](/"/g,'\x22\x22')+'\x22');}_0x329b11['push'](_0x1686ba[_0x24347d(0x4df)](','));}const _0x21383a=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x329b11['join']('\x0a')],{'type':_0x24347d(0x2db)}),_0x19978c=document['createElement']('a');_0x19978c[_0x24347d(0x223)]=URL[_0x24347d(0x364)](_0x21383a),_0x19978c[_0x24347d(0x1f6)]=_0x1ef413+_0x24347d(0x34e),_0x19978c[_0x24347d(0xdc)]();}function renderAnalytics(_0x38c4a4,_0x26715c){const _0x45fd69=_0x3a9af3,_0x1325bc=currentProjectData[_0x45fd69(0x35b)][_0x45fd69(0x2ef)],_0x718375=_0x26715c[_0x45fd69(0x2ef)],_0xd42d3e=_0x1325bc-_0x718375,_0x1c8f7a=_0x1325bc>0x0?_0x718375/_0x1325bc*0x64:0x0,_0x467021=_0x26715c[_0x45fd69(0x1d6)](_0x1d137b=>_0x1d137b[_0x45fd69(0xf4)]),_0x4527f2=_0x467021['length']>0x0?_0x467021['reduce']((_0x44f0d0,_0x31089b)=>_0x44f0d0+_0x31089b,0x0)/_0x467021[_0x45fd69(0x2ef)]:0x0,_0x14c6b9=_0x38c4a4['questions'][_0x45fd69(0x2ef)],_0x5934cd=_0x14c6b9>0x0?_0x4527f2/_0x14c6b9*0x64:0x0,_0x4f2b71=document[_0x45fd69(0x353)](_0x45fd69(0x32c));_0x4f2b71[_0x45fd69(0x416)]=_0x45fd69(0xbd)+_0x1c8f7a['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x718375+'/'+_0x1325bc+_0x45fd69(0x2d7)+_0x4527f2[_0x45fd69(0x251)](0x2)+_0x45fd69(0x445)+_0x5934cd['toFixed'](0x0)+_0x45fd69(0x1e2)+(_0x467021[_0x45fd69(0x2ef)]>0x0?Math[_0x45fd69(0x23b)](..._0x467021):'N/A')+_0x45fd69(0x2a8)+(_0x467021['length']>0x0?Math[_0x45fd69(0xec)](..._0x467021):'N/A')+_0x45fd69(0x1b6);const _0x107e69=currentProjectData[_0x45fd69(0x35b)]||[];renderSubmissionChart(_0x718375,_0xd42d3e,_0x26715c,_0x107e69),renderScoreDistributionChart(_0x26715c,_0x14c6b9),renderQuestionAnalytics(_0x38c4a4,_0x26715c,_0x107e69);}function renderSubmissionChart(_0x235c61,_0x5b3409,_0x2b630c,_0x606cba){const _0x52d6de=_0x3a9af3,_0x5e4312=document[_0x52d6de(0x353)](_0x52d6de(0x282))[_0x52d6de(0x419)]('2d'),_0x5acc47=_0x2b630c[_0x52d6de(0x1d6)](_0x54df2f=>_0x54df2f[_0x52d6de(0x292)]),_0x41c712=_0x606cba[_0x52d6de(0x421)](_0x1afa77=>!_0x5acc47['includes'](_0x1afa77));chartInstances[_0x52d6de(0x317)]&&chartInstances[_0x52d6de(0x317)][_0x52d6de(0x17b)](),chartInstances[_0x52d6de(0x317)]=new Chart(_0x5e4312,{'type':_0x52d6de(0x4f9),'data':{'labels':[_0x52d6de(0x29d),_0x52d6de(0x168)],'datasets':[{'data':[_0x235c61,_0x5b3409],'backgroundColor':[_0x52d6de(0xf6),_0x52d6de(0x487)],'borderColor':[_0x52d6de(0x41d),_0x52d6de(0x41d)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x52d6de(0x4f5)},'tooltip':{'callbacks':{'label':function(_0x22de41){const _0x22417d=_0x52d6de;let _0x41a688=_0x22de41['label']||'';return _0x41a688&&(_0x41a688+=':\x20'),_0x41a688+=_0x22de41[_0x22417d(0x444)],_0x41a688;},'afterLabel':function(_0x5e1d5c){const _0x1b3940=_0x52d6de;let _0x3235c1;return _0x5e1d5c[_0x1b3940(0x4f8)]===0x0?_0x3235c1=_0x5acc47:_0x3235c1=_0x41c712,_0x3235c1['length']>0x0?_0x3235c1[_0x1b3940(0x4df)]('\x0a'):_0x1b3940(0x2ba);}}}}}});}function renderScoreDistributionChart(_0x426ce4,_0x1914b7){const _0x46514d=_0x3a9af3,_0x49a437=document[_0x46514d(0x353)](_0x46514d(0x3b2))[_0x46514d(0x419)]('2d'),_0x4fd712={};for(let _0x3017bb=0x0;_0x3017bb<=_0x1914b7;_0x3017bb++){_0x4fd712[_0x3017bb]=0x0;}_0x426ce4['forEach'](_0x4a0e38=>{const _0x784ea3=_0x46514d;_0x4fd712[_0x4a0e38[_0x784ea3(0xf4)]]!==undefined&&_0x4fd712[_0x4a0e38[_0x784ea3(0xf4)]]++;}),chartInstances[_0x46514d(0x294)]&&chartInstances[_0x46514d(0x294)][_0x46514d(0x17b)](),chartInstances[_0x46514d(0x294)]=new Chart(_0x49a437,{'type':_0x46514d(0x424),'data':{'labels':Object[_0x46514d(0x1a2)](_0x4fd712),'datasets':[{'label':_0x46514d(0x112),'data':Object[_0x46514d(0x508)](_0x4fd712),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x46514d(0x4cc)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x1b5e5b){const _0x59e2bd=_0x46514d,_0x26aaa7=_0x1b5e5b[_0x59e2bd(0x478)],_0x4c4f52=_0x426ce4['filter'](_0x5655a6=>_0x5655a6['latestScore']==_0x26aaa7)['map'](_0x3e6f78=>_0x3e6f78[_0x59e2bd(0x292)]);return _0x4c4f52[_0x59e2bd(0x2ef)]>0x0?_0x4c4f52[_0x59e2bd(0x4df)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x532da3,_0x47c71d,_0x3fafa0){const _0x2da4e7=_0x3a9af3,_0x266c14=document[_0x2da4e7(0x353)](_0x2da4e7(0xb3));if(_0x3fafa0[_0x2da4e7(0x2ef)]===0x0){_0x266c14[_0x2da4e7(0x416)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}let _0x4fd4a8='';const _0x166939=_0x47c71d[_0x2da4e7(0x1d6)](_0xc0cc3=>_0xc0cc3['studentName']);_0x532da3[_0x2da4e7(0x28c)][_0x2da4e7(0x46f)]((_0x2aaefc,_0x1815ae)=>{const _0x458335=_0x2da4e7;let _0x30b75d=0x0;const _0x453d93=[],_0x12b466=[],_0x2caf99=_0x2aaefc[_0x458335(0x461)]||_0x2aaefc[_0x458335(0x23e)]||_0x2aaefc[_0x458335(0xc6)];_0x47c71d['forEach'](_0x313f7b=>{const _0x1ac883=_0x458335,_0x1a8704=_0x313f7b[_0x1ac883(0x103)][_0x313f7b[_0x1ac883(0x103)][_0x1ac883(0x2ef)]-0x1];if(_0x1a8704&&_0x1a8704['answers']){const _0x249eac=_0x1a8704['answers']['find'](_0x429fe2=>_0x429fe2[_0x1ac883(0x114)]===_0x2caf99);_0x249eac&&(_0x249eac[_0x1ac883(0x454)]?(_0x30b75d++,_0x453d93[_0x1ac883(0x204)](_0x313f7b[_0x1ac883(0x292)])):_0x12b466['push'](_0x313f7b['studentName']));}});const _0x1f1cb6=_0x3fafa0['filter'](_0x1e7785=>!_0x166939[_0x458335(0x129)](_0x1e7785)),_0x43075b=_0x47c71d[_0x458335(0x2ef)]>0x0?_0x30b75d/_0x47c71d[_0x458335(0x2ef)]*0x64:0x0;_0x4fd4a8+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3/4\x20truncate\x22>ข้อ\x20'+(_0x1815ae+0x1)+':\x20'+_0x2caf99+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20px-2\x20py-1\x20rounded\x20'+(_0x43075b>=0x46?'bg-green-200\x20text-green-800':_0x43075b>=0x28?'bg-yellow-200\x20text-yellow-800':_0x458335(0x450))+_0x458335(0x142)+_0x43075b[_0x458335(0x251)](0x0)+_0x458335(0x3a4)+_0x2caf99+_0x458335(0x136)+_0x30b75d+_0x458335(0x15d)+_0x47c71d[_0x458335(0x2ef)]+_0x458335(0x119)+_0x453d93[_0x458335(0x2ef)]+'\x20คน):</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x453d93['length']>0x0?_0x453d93[_0x458335(0x4df)](',\x20'):_0x458335(0x2ba))+_0x458335(0x15a)+_0x12b466[_0x458335(0x2ef)]+_0x458335(0x4d7)+(_0x12b466[_0x458335(0x2ef)]>0x0?_0x12b466[_0x458335(0x4df)](',\x20'):'ไม่มี')+_0x458335(0xe7)+_0x1f1cb6['length']+_0x458335(0x4d7)+(_0x1f1cb6['length']>0x0?_0x1f1cb6[_0x458335(0x4df)](',\x20'):'ไม่มี')+_0x458335(0x140);}),_0x266c14[_0x2da4e7(0x416)]=_0x4fd4a8;try{window[_0x2da4e7(0xbb)]&&MathJax[_0x2da4e7(0x4b5)]&&MathJax[_0x2da4e7(0x4b5)]([_0x266c14]);}catch(_0x28ac53){console[_0x2da4e7(0x4f7)]('MathJax\x20typeset\x20error\x20(analytics):',_0x28ac53);}}async function handleAnalyzeClass(){const _0x3a306b=_0x3a9af3;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x596df1=collection(db,_0x3a306b(0x372)+appId+_0x3a306b(0x314)+currentQuizData['id']+_0x3a306b(0x382)),_0x1242d0=await getDocs(_0x596df1),_0x1fd0f9=_0x1242d0[_0x3a306b(0x48c)][_0x3a306b(0x1d6)](_0x2109c2=>_0x2109c2[_0x3a306b(0x526)]());if(_0x1fd0f9[_0x3a306b(0x2ef)]<0x2){showMessage(_0x3a306b(0xc5));return;}const _0x24d0a3=document[_0x3a306b(0x353)](_0x3a306b(0x4ed));_0x24d0a3[_0x3a306b(0x416)]=_0x3a306b(0x488),document[_0x3a306b(0x353)]('analyze-strengths-btn')['disabled']=!![];const _0x58685d=_0x1fd0f9[_0x3a306b(0x1d6)]((_0x1a8427,_0x5c23de)=>{const _0x66809d=_0x3a306b,_0x37b045=_0x1a8427[_0x66809d(0x103)][_0x1a8427[_0x66809d(0x103)][_0x66809d(0x2ef)]-0x1];if(!_0x37b045)return'';return _0x66809d(0x2d6)+(_0x5c23de+0x1)+'\x20('+_0x1a8427[_0x66809d(0x292)]+_0x66809d(0x3d3)+_0x37b045[_0x66809d(0x294)]+'/'+_0x1a8427[_0x66809d(0x22a)]+_0x66809d(0x3f6)+JSON[_0x66809d(0x434)](_0x37b045[_0x66809d(0x269)])+_0x66809d(0x40b);})[_0x3a306b(0x4df)](_0x3a306b(0x3eb)),_0x57932a=_0x3a306b(0x132)+currentQuizData[_0x3a306b(0x107)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON[_0x3a306b(0x434)](currentQuizData[_0x3a306b(0x28c)])+_0x3a306b(0x268)+_0x58685d+_0x3a306b(0x349),_0x1b9502={'type':'OBJECT','properties':{'classStrengths':{'type':_0x3a306b(0x17d),'items':{'type':'STRING'}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x3a306b(0x2f9)}},'teacherSuggestions':{'type':_0x3a306b(0x17d),'items':{'type':_0x3a306b(0x2f9)}}},'required':['classStrengths',_0x3a306b(0xf8),'teacherSuggestions']};try{const _0x2d1016=await callAnalysisApi(_0x57932a,_0x1b9502);displayClassAnalysis(_0x2d1016);}catch(_0x2e3f88){console[_0x3a306b(0x4f7)](_0x3a306b(0x28d),_0x2e3f88),_0x24d0a3[_0x3a306b(0x416)]=_0x3a306b(0x2c2)+_0x2e3f88[_0x3a306b(0x39b)]+_0x3a306b(0x131);}finally{document['getElementById']('analyze-strengths-btn')[_0x3a306b(0x1b2)]=![];}}function displayClassAnalysis(_0x4d76ff){const _0x804b03=_0x3a9af3,_0x4bfbdd=document[_0x804b03(0x353)](_0x804b03(0x4ed));if(!_0x4d76ff){_0x4bfbdd[_0x804b03(0x416)]=_0x804b03(0x3fd);return;}_0x4bfbdd[_0x804b03(0x416)]=_0x804b03(0x498)+_0x4d76ff[_0x804b03(0x50b)][_0x804b03(0x1d6)](_0x53008a=>'<li>'+_0x53008a+_0x804b03(0x260))[_0x804b03(0x4df)]('')+_0x804b03(0x309)+_0x4d76ff[_0x804b03(0xf8)][_0x804b03(0x1d6)](_0x103172=>_0x804b03(0x4ce)+_0x103172+_0x804b03(0x260))[_0x804b03(0x4df)]('')+_0x804b03(0x3d8)+_0x4d76ff['teacherSuggestions']['map'](_0x2471a2=>_0x804b03(0x4ce)+_0x2471a2+_0x804b03(0x260))['join']('')+_0x804b03(0x4aa);}function formatAndPrintWorksheet(_0x4be615,_0x341f2c){const _0x2bcd71=_0x3a9af3,_0x3f3b07=_0x2bcd71(0x4c9)+_0x4be615[_0x2bcd71(0x107)]+_0x2bcd71(0x229)+_0x4be615[_0x2bcd71(0x107)]+_0x2bcd71(0x19b)+_0x4be615[_0x2bcd71(0x28c)]['map']((_0x4f5479,_0x3df4aa)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x3df4aa+0x1)+'.\x20'+_0x4f5479['questionText']+_0x2bcd71(0x44e)+(_0x4f5479['imageCode']?_0x2bcd71(0x12b)+_0x4f5479['imageCode']+_0x2bcd71(0x25b):'')+_0x2bcd71(0x3a5))[_0x2bcd71(0x4df)]('')+_0x2bcd71(0x219);_0x341f2c['document'][_0x2bcd71(0x2de)](_0x3f3b07),_0x341f2c[_0x2bcd71(0x118)][_0x2bcd71(0x2dd)](),_0x341f2c[_0x2bcd71(0x105)]=function(){const _0x580c30=_0x2bcd71;_0x341f2c[_0x580c30(0x3f0)]();};}async function generateWorksheet(){const _0x5c03b8=_0x3a9af3,_0x331e49=document[_0x5c03b8(0x353)](_0x5c03b8(0xc1))[_0x5c03b8(0x485)][_0x5c03b8(0x31f)]();if(!_0x331e49){showMessage(_0x5c03b8(0x1c3));return;}const _0x4cf071=window[_0x5c03b8(0x50a)]('',_0x5c03b8(0xc9));_0x4cf071[_0x5c03b8(0x118)][_0x5c03b8(0x2de)]('<h1></h1>');const _0x5cbdeb=parseInt(document[_0x5c03b8(0x353)](_0x5c03b8(0x331))[_0x5c03b8(0x485)]),_0x380828=document['getElementById'](_0x5c03b8(0x456))[_0x5c03b8(0x2a1)],_0x18dada=_0x380828?_0x5c03b8(0x51c):'',_0x5a6646=_0x5c03b8(0x536)+_0x5cbdeb+_0x5c03b8(0x27f)+_0x331e49+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18dada+_0x5c03b8(0x271),_0x45171a={'type':_0x5c03b8(0x214),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':{'type':_0x5c03b8(0x214),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x5c03b8(0x2f9)}},'required':['questionText']}}},'required':[_0x5c03b8(0x107),_0x5c03b8(0x28c)]};document[_0x5c03b8(0x353)](_0x5c03b8(0x227))['textContent']=_0x5c03b8(0x3be),document[_0x5c03b8(0x353)]('loader')[_0x5c03b8(0x500)][_0x5c03b8(0x1a7)](_0x5c03b8(0x398)),document[_0x5c03b8(0x353)](_0x5c03b8(0x436))[_0x5c03b8(0x500)][_0x5c03b8(0x1a7)]('hidden'),generateWorksheetBtn[_0x5c03b8(0x1b2)]=!![];try{const _0x138388=await callAnalysisApi(_0x5a6646,_0x45171a);formatAndPrintWorksheet(_0x138388,_0x4cf071);}catch(_0x34db91){console['error'](_0x5c03b8(0x330),_0x34db91);if(_0x4cf071)_0x4cf071[_0x5c03b8(0x2dd)]();showMessage(_0x5c03b8(0x51a));}finally{document[_0x5c03b8(0x353)]('loader')[_0x5c03b8(0x500)][_0x5c03b8(0x40d)](_0x5c03b8(0x398)),document['getElementById'](_0x5c03b8(0x436))['classList'][_0x5c03b8(0x40d)](_0x5c03b8(0x398)),generateWorksheetBtn[_0x5c03b8(0x1b2)]=![];}}async function callAnalysisApi(_0x4cb931,_0x514d9e){const _0x3138f9=_0x3a9af3,_0x206cfd={'contents':[{'role':_0x3138f9(0x516),'parts':[{'text':_0x4cb931}]}],'generationConfig':{'responseMimeType':_0x3138f9(0x20c),'responseSchema':_0x514d9e}},_0x374f81=_0x3138f9(0x346),_0x17705d='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x374f81,_0x3117a8=await fetch(_0x17705d,{'method':_0x3138f9(0x1ba),'headers':{'Content-Type':_0x3138f9(0x20c)},'body':JSON[_0x3138f9(0x434)](_0x206cfd)});if(!_0x3117a8['ok'])throw new Error(_0x3138f9(0x1b3)+_0x3117a8['status']);const _0x4b35c5=await _0x3117a8[_0x3138f9(0x4a3)]();if(_0x4b35c5[_0x3138f9(0x469)]?.[0x0]?.[_0x3138f9(0x165)]?.[_0x3138f9(0x319)]?.[0x0])return JSON[_0x3138f9(0x40e)](_0x4b35c5[_0x3138f9(0x469)][0x0][_0x3138f9(0x165)]['parts'][0x0]['text']);else{let _0x2efc1e=_0x3138f9(0x162);if(_0x4b35c5[_0x3138f9(0x28a)]?.[_0x3138f9(0x19a)])_0x2efc1e=_0x3138f9(0x491)+_0x4b35c5[_0x3138f9(0x28a)][_0x3138f9(0x19a)]+'.';else _0x4b35c5[_0x3138f9(0x469)]?.[0x0]?.['finishReason']&&_0x4b35c5[_0x3138f9(0x469)][0x0]['finishReason']!==_0x3138f9(0x496)&&(_0x2efc1e=_0x3138f9(0x1eb)+_0x4b35c5[_0x3138f9(0x469)][0x0][_0x3138f9(0x230)]+'.');console[_0x3138f9(0x4f7)](_0x2efc1e,JSON[_0x3138f9(0x434)](_0x4b35c5));throw new Error(_0x2efc1e);}}initialize();
