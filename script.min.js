const _0x13d91b=_0x28c2;(function(_0x44586e,_0xd545bf){const _0x560d70=_0x28c2,_0x4c1cec=_0x44586e();while(!![]){try{const _0x2fe2f8=-parseInt(_0x560d70(0x10b))/0x1+parseInt(_0x560d70(0x747))/0x2+-parseInt(_0x560d70(0x708))/0x3+parseInt(_0x560d70(0xdd0))/0x4+parseInt(_0x560d70(0x16b))/0x5*(parseInt(_0x560d70(0x469))/0x6)+-parseInt(_0x560d70(0x67d))/0x7*(parseInt(_0x560d70(0x71f))/0x8)+parseInt(_0x560d70(0x5ed))/0x9;if(_0x2fe2f8===_0xd545bf)break;else _0x4c1cec['push'](_0x4c1cec['shift']());}catch(_0x4146e8){_0x4c1cec['push'](_0x4c1cec['shift']());}}}(_0x1454,0x1accc));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x13d91b(0x2c4),_0x13d91b(0x8bb),'เทพทรู',_0x13d91b(0xa79),'นกฮูกกลางวัน',_0x13d91b(0x884),_0x13d91b(0x3b8),_0x13d91b(0xd63),_0x13d91b(0x25e),_0x13d91b(0xa0b),_0x13d91b(0xc71),_0x13d91b(0xc9d),'เงาปริศนา',_0x13d91b(0xbf0),'อัศวินรัตติกาล',_0x13d91b(0xd7d),'นินจาชาเขียว',_0x13d91b(0x999),'โจรสลัดอวกาศ',_0x13d91b(0x826),_0x13d91b(0xa4d),_0x13d91b(0x228),_0x13d91b(0x5ec),_0x13d91b(0xa99),_0x13d91b(0xdae),_0x13d91b(0x125),'กระต่ายตื่นตูม',_0x13d91b(0x64a),_0x13d91b(0xcb0),_0x13d91b(0xd2e),_0x13d91b(0x9c9),_0x13d91b(0x902),_0x13d91b(0xcb1),_0x13d91b(0x23c),'ยูทูปเบอร์ฝึกหัด',_0x13d91b(0x348),'เศรษฐีดูไบ',_0x13d91b(0x90c),_0x13d91b(0x44b),_0x13d91b(0x26d),'กาแฟขม','ชาไข่มุก',_0x13d91b(0x7ba),_0x13d91b(0x1e0),'ไอติมทอด',_0x13d91b(0x650),_0x13d91b(0x172),_0x13d91b(0xb8f),_0x13d91b(0x4aa),'ลาเต้ไม่หวาน',_0x13d91b(0xa24),_0x13d91b(0x761),'ออฟฟิศซินโดรม',_0x13d91b(0x7b8),_0x13d91b(0x409),'แบตหมด','เน็ตช้า','โหลดนาน',_0x13d91b(0x7de),'กองดอง',_0x13d91b(0x660),_0x13d91b(0xd8b),_0x13d91b(0x84c),_0x13d91b(0x5ee),_0x13d91b(0x418),_0x13d91b(0x27d),_0x13d91b(0xd7a),_0x13d91b(0x3d1),_0x13d91b(0xdad),_0x13d91b(0xccc),_0x13d91b(0xb94),'ช่างภาพ',_0x13d91b(0x2a5),'ศิลปิน',_0x13d91b(0xc1c),'นักเขียน',_0x13d91b(0x822),_0x13d91b(0xcfe),'นักกีฬา','ครูใหญ่',_0x13d91b(0x7c8),'ปล่อยพลัง','แปลงร่าง',_0x13d91b(0x993),_0x13d91b(0xc1e),'คาถาแยกเงาพันร่าง','ธอร์ค้อนบิน','ไอรอนแมน',_0x13d91b(0x841),_0x13d91b(0xb15),_0x13d91b(0xa2d),_0x13d91b(0x718),_0x13d91b(0x9dd),_0x13d91b(0x44a),_0x13d91b(0x2bf),_0x13d91b(0x2c9),_0x13d91b(0xc73),'คนคุย',_0x13d91b(0xb16),_0x13d91b(0x137)];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x13d91b(0x1e8),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x13d91b(0x1e8),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x13d91b(0x1e8),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x3ae951=_0x13d91b;if(_0x3ae951(0xe0d)in navigator)try{wakeLock=await navigator['wakeLock'][_0x3ae951(0x8e3)](_0x3ae951(0xad2)),console[_0x3ae951(0xcf6)](_0x3ae951(0x2e6)),wakeLock[_0x3ae951(0xc2d)]('release',()=>{const _0x399d77=_0x3ae951;console[_0x399d77(0xcf6)](_0x399d77(0x894));});}catch(_0x541883){console[_0x3ae951(0x689)](_0x3ae951(0xb0d)+_0x541883['name']+',\x20'+_0x541883[_0x3ae951(0xbd0)]);}else console[_0x3ae951(0xaa0)](_0x3ae951(0xbcd));},releaseWakeLock=async()=>{const _0x1b175f=_0x13d91b;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console['log'](_0x1b175f(0x261)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x37c982=_0x13d91b;if(!document[_0x37c982(0x556)][_0x37c982(0x734)]['contains'](_0x37c982(0x559))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x391d11=_0x37c982;document['body'][_0x391d11(0x734)]['add'](_0x391d11(0x559)),console[_0x391d11(0xcf6)](_0x391d11(0xd4a));},inactivityTime);}}function wakeUpScreen(_0x323064){const _0x14cc95=_0x13d91b;_0x323064&&(_0x323064[_0x14cc95(0x8cc)](),_0x323064[_0x14cc95(0x452)]());document[_0x14cc95(0x556)][_0x14cc95(0x734)][_0x14cc95(0x5cf)](_0x14cc95(0x559));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x5e4071=_0x14cc95;document['body']['classList'][_0x5e4071(0x459)](_0x5e4071(0x559));},inactivityTime);}function stopDimTimer(){const _0xf734d=_0x13d91b;if(dimTimer)clearTimeout(dimTimer);document[_0xf734d(0x556)]['classList'][_0xf734d(0x5cf)](_0xf734d(0x559)),window[_0xf734d(0x124)](_0xf734d(0xb35),resetDimTimer),window[_0xf734d(0x124)](_0xf734d(0x6ba),resetDimTimer),window[_0xf734d(0x124)](_0xf734d(0x3b3),resetDimTimer),window[_0xf734d(0x124)](_0xf734d(0xb04),resetDimTimer),console[_0xf734d(0xcf6)](_0xf734d(0xa75));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x26e9b0,_0x36d36=![]){const _0x5bdba4=_0x13d91b,_0x307eed=allQuizzes[_0x5bdba4(0xa3d)](_0x2d7036=>_0x2d7036['id']===_0x26e9b0)||allQuizzesGlobal['find'](_0x23b1f1=>_0x23b1f1['id']===_0x26e9b0);if(!_0x307eed){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x307eed);const _0x326179=Math[_0x5bdba4(0x8e9)](0x3e8+Math[_0x5bdba4(0x29d)]()*0x2328)[_0x5bdba4(0xda1)]();try{const _0x1ec689=await addDoc(collection(db,_0x5bdba4(0x54a)+appId+_0x5bdba4(0x6ca)),{'quizId':_0x307eed['id'],'projectId':_0x307eed['projectId'],'status':_0x5bdba4(0xa3e),'pin':_0x326179,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x36d36});currentTeamQuizId=_0x1ec689['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x326179,_0x307eed[_0x5bdba4(0xdf4)]),listenForTeamQuizUpdates();}catch(_0x4bb63e){console[_0x5bdba4(0x689)](_0x5bdba4(0x466),_0x4bb63e),showMessage(_0x5bdba4(0x769));}}function renderAdminTeamQuizDashboard(_0x391b76,_0x3d2b3e,_0x63f5b9=_0x13d91b(0xdbf)){const _0x445392=_0x13d91b,_0x3095f4=_0x63f5b9==='group'?_0x445392(0x102):'Team\x20Quiz';liveGameView['innerHTML']=_0x445392(0xe1b)+_0x3095f4+':\x20'+_0x3d2b3e+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x391b76+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x445392(0x916)]('end-team-quiz-btn')[_0x445392(0xc2d)](_0x445392(0xab7),async()=>{const _0x11a9f4=_0x445392;showConfirmation(_0x11a9f4(0x989),async()=>{const _0x4a1a87=_0x11a9f4;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x4a1a87(0x54a)+appId+_0x4a1a87(0x6ca),currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0xd478d9=_0x13d91b;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x2f1ba5=doc(db,_0xd478d9(0x54a)+appId+_0xd478d9(0x6ca),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x2f1ba5,_0x2e176b=>{const _0x4f0ae3=_0xd478d9;if(!_0x2e176b[_0x4f0ae3(0x5fd)]()){sessionStorage[_0x4f0ae3(0x6dd)]('activeGameSession');if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x4f0ae3(0x1e4)?showView(_0x4f0ae3(0x560)):showView(_0x4f0ae3(0xdd4));return;}const _0x3cfcaf=_0x2e176b[_0x4f0ae3(0xaf3)]();if(currentMode==='admin'){if(_0x3cfcaf['mode']===_0x4f0ae3(0x97e)&&_0x3cfcaf[_0x4f0ae3(0x127)]!==_0x4f0ae3(0x94a)&&_0x3cfcaf[_0x4f0ae3(0x127)]!==_0x4f0ae3(0x977)){const _0x4fe854=Object[_0x4f0ae3(0x3ff)](_0x3cfcaf['groups']||{});if(_0x4fe854[_0x4f0ae3(0x3d7)]>0x0){const _0x54ba35=_0x4fe854['every'](_0x5c4e2b=>_0x5c4e2b[_0x4f0ae3(0x3d8)]===!![]);_0x54ba35&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x3cfcaf);}else{if(_0x3cfcaf[_0x4f0ae3(0x127)]===_0x4f0ae3(0x94a)||_0x3cfcaf[_0x4f0ae3(0x127)]===_0x4f0ae3(0x977)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x3cfcaf[_0x4f0ae3(0x223)]==='group'){const _0x540c1b=_0x3cfcaf[_0x4f0ae3(0x25f)][userId];(!_0x540c1b||!_0x540c1b[_0x4f0ae3(0x3d8)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x4d820d){const _0x689c4f=_0x13d91b;console['log'](_0x689c4f(0x988));const _0x5f098f=doc(db,_0x689c4f(0x54a)+appId+'/public/data/teamQuizzes',_0x4d820d);try{const _0x2ef235=await getDoc(_0x5f098f);if(_0x2ef235[_0x689c4f(0x5fd)]()){const _0x3d383e=_0x2ef235['data']();_0x3d383e['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0x3d383e);}await updateDoc(_0x5f098f,{'status':_0x689c4f(0x94a)});}catch(_0xf48394){console[_0x689c4f(0x689)](_0x689c4f(0x117),_0xf48394);}}function updateAdminTeamDashboard(_0x4cb419){const _0x22ff0d=_0x13d91b,_0x3a1cdc=document[_0x22ff0d(0x916)]('team-player-status-grid');if(!_0x3a1cdc)return;const _0xb97c1b=_0x4cb419[_0x22ff0d(0x223)]||_0x22ff0d(0xdbf),_0x40d564=currentQuizData[_0x22ff0d(0x87f)][_0x22ff0d(0x3d7)];if(_0xb97c1b==='group'){const _0x2f2cfb=Object[_0x22ff0d(0x3ff)](_0x4cb419[_0x22ff0d(0x25f)]||{});if(_0x2f2cfb['length']===0x0){_0x3a1cdc[_0x22ff0d(0xbc4)]=_0x22ff0d(0x8f1);return;}const _0x5b9ab5=[..._0x2f2cfb]['sort']((_0x2b120a,_0x2a31f9)=>_0x2a31f9[_0x22ff0d(0xc8b)]-_0x2b120a['score']),_0x27b1d7=_0x5b9ab5[_0x22ff0d(0x1b0)]((_0x3c205,_0x1e742c)=>{const _0x54044a=_0x22ff0d,_0x446170=_0x3c205[_0x54044a(0x367)]?.[_0x54044a(0x3d7)]||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x1e742c+0x1)+_0x54044a(0xbdb)+_0x3c205[_0x54044a(0x787)][_0x54044a(0x22e)](',\x20')+_0x54044a(0xa43)+_0x446170+'/'+_0x40d564+_0x54044a(0x5b0)+_0x3c205[_0x54044a(0xc8b)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x22ff0d(0x22e)](''),_0x282545=currentQuizData['questions'][_0x22ff0d(0x1b0)]((_0x4c1565,_0x3d8635)=>{const _0x1cf955=_0x22ff0d;let _0x2ef64a=0x0,_0x2b6362=0x0;_0x2f2cfb['forEach'](_0x2c396d=>{const _0x13fd05=_0x28c2,_0x27593e=_0x2c396d[_0x13fd05(0x367)]?.['find'](_0x53ba75=>_0x53ba75[_0x13fd05(0x907)]===_0x3d8635);if(_0x27593e){_0x2b6362++;if(_0x27593e[_0x13fd05(0x832)])_0x2ef64a++;}});const _0x385407=_0x2b6362>0x0&&_0x2b6362===_0x2f2cfb['length'],_0x4c7622=_0x385407?_0x1cf955(0x216):_0x1cf955(0xb99),_0x57bafd=_0x385407?_0x1cf955(0xb54):'';return _0x1cf955(0x995)+_0x4c7622+_0x1cf955(0x5d5)+(_0x3d8635+0x1)+_0x1cf955(0xd56)+_0x57bafd+_0x1cf955(0xb36)+_0x2ef64a+'/'+_0x2f2cfb[_0x1cf955(0x3d7)]+'\x20กลุ่ม</p></div>';})[_0x22ff0d(0x22e)]('');_0x3a1cdc['innerHTML']=_0x22ff0d(0x7a3)+_0x27b1d7+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0x282545+_0x22ff0d(0x998);return;}const _0x56a7c4=_0x4cb419['responses']||{},_0x20eb09=Object[_0x22ff0d(0x4bf)](_0x56a7c4);if(_0x20eb09[_0x22ff0d(0x3d7)]===0x0){_0x3a1cdc[_0x22ff0d(0xbc4)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>';return;}const _0x37ef58=_0x20eb09[_0x22ff0d(0x1b0)](_0x371726=>({'name':_0x371726,'score':_0x56a7c4[_0x371726]['score']||0x0}))[_0x22ff0d(0x5d4)]((_0x362df9,_0x48d432)=>_0x48d432[_0x22ff0d(0xc8b)]-_0x362df9['score']),_0x49bef5=_0x37ef58[_0x22ff0d(0x1b0)](_0x47a6ce=>{const _0x2a2929=_0x22ff0d,_0xa96029=_0x56a7c4[_0x47a6ce[_0x2a2929(0x34b)]]?.[_0x2a2929(0x367)]?.[_0x2a2929(0x3d7)]||0x0,_0x4e41b6=Math[_0x2a2929(0x9a3)](_0x40d564/_0x20eb09[_0x2a2929(0x3d7)]);return _0x2a2929(0xd89)+_0x47a6ce['name']+_0x2a2929(0x969)+_0xa96029+'/'+_0x4e41b6+'\x20ตา)</span></span><span\x20class=\x22font-bold\x22>'+_0x47a6ce[_0x2a2929(0xc8b)]+_0x2a2929(0x336);})[_0x22ff0d(0x22e)](''),_0x195ca5=_0x20eb09[_0x22ff0d(0xba9)]((_0x2bea2b,_0xc94b0)=>_0x2bea2b+(_0x56a7c4[_0xc94b0][_0x22ff0d(0x367)]?.[_0x22ff0d(0x3d7)]||0x0),0x0),_0x1000d8=currentQuizData['questions'][_0x22ff0d(0x1b0)]((_0x4b1c73,_0x892834)=>{const _0xd40d3c=_0x22ff0d;let _0x3c72a4=null,_0xe40b79=null;for(const _0x5bc263 of _0x20eb09){const _0x10ee19=_0x56a7c4[_0x5bc263][_0xd40d3c(0x367)]?.[_0xd40d3c(0xa3d)](_0x4955c7=>_0x4955c7[_0xd40d3c(0x907)]===_0x892834);if(_0x10ee19){_0x3c72a4=_0x10ee19,_0xe40b79=_0x5bc263;break;}}const _0x49812b=!!_0x3c72a4,_0x3425dd=_0x49812b&&_0x3c72a4['isCorrect'],_0x588439=(Math['floor'](_0x892834/_0x20eb09[_0xd40d3c(0x3d7)])+0x1)*_0x20eb09[_0xd40d3c(0x3d7)],_0x510209=_0x195ca5>=_0x588439,_0x3fe416=_0x510209?'bg-green-200\x20text-green-900':_0xd40d3c(0xb99),_0xb88a4c=_0x510209?_0xd40d3c(0xb54):'';let _0x1dc6d1='รอ...';return _0x49812b&&(_0x1dc6d1=_0xe40b79+_0xd40d3c(0x9ca)+(_0x3425dd?_0xd40d3c(0x7e0):_0xd40d3c(0xc03))),_0xd40d3c(0x995)+_0x3fe416+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x892834+0x1)+_0xd40d3c(0xd56)+_0xb88a4c+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x1dc6d1+_0xd40d3c(0x578);})['join']('');_0x3a1cdc[_0x22ff0d(0xbc4)]=_0x22ff0d(0xcbd)+_0x49bef5+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x1000d8+_0x22ff0d(0x998);}async function handleJoinTeamQuiz(){const _0x3f9e66=_0x13d91b,_0x594188=prompt(_0x3f9e66(0xc51));if(!_0x594188||_0x594188[_0x3f9e66(0x1a0)]()[_0x3f9e66(0x3d7)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x23e761=collection(db,_0x3f9e66(0x54a)+appId+_0x3f9e66(0x6ca)),_0x4b8fbf=query(_0x23e761,where(_0x3f9e66(0x3f8),'==',_0x594188[_0x3f9e66(0x1a0)]()),where(_0x3f9e66(0x127),'==',_0x3f9e66(0xa3e))),_0x2a9100=await getDocs(_0x4b8fbf);if(_0x2a9100[_0x3f9e66(0x71c)]){showMessage(_0x3f9e66(0x1d6));return;}const _0x5f9fb5=_0x2a9100['docs'][0x0];currentTeamQuizId=_0x5f9fb5['id'];const _0x13fa28=_0x5f9fb5[_0x3f9e66(0xaf3)](),_0x1991c2=doc(db,_0x3f9e66(0x54a)+appId+_0x3f9e66(0x90e),_0x13fa28[_0x3f9e66(0x7a5)]),_0x264888=doc(db,_0x3f9e66(0x54a)+appId+_0x3f9e66(0xd20),_0x13fa28['quizId']),[_0x58f6e1,_0x1066c1]=await Promise[_0x3f9e66(0x1e8)]([getDoc(_0x1991c2),getDoc(_0x264888)]);if(!_0x58f6e1['exists']()||!_0x1066c1[_0x3f9e66(0x5fd)]())throw new Error(_0x3f9e66(0xd1b));currentQuizData=getShuffledQuiz({'id':_0x1066c1['id'],..._0x1066c1['data']()});const _0x5e15d8=_0x58f6e1[_0x3f9e66(0xaf3)]();showTeamPlayerSelection(_0x5e15d8[_0x3f9e66(0xce1)],currentQuizData[_0x3f9e66(0xdf4)]);}catch(_0x4b2d7d){console[_0x3f9e66(0x689)](_0x3f9e66(0xdc0),_0x4b2d7d),showMessage(_0x3f9e66(0x96c)+_0x4b2d7d[_0x3f9e66(0xbd0)]);}}async function handleJoinGroupActivity(){const _0x5acea2=_0x13d91b,_0x1307d6=prompt(_0x5acea2(0xda3));if(!_0x1307d6||_0x1307d6[_0x5acea2(0x1a0)]()['length']!==0x4){showMessage(_0x5acea2(0x9ea));return;}const _0x4001ed=_0x1307d6[_0x5acea2(0x1a0)]();showMessage(_0x5acea2(0x131));try{const _0x45be67=collection(db,_0x5acea2(0x54a)+appId+_0x5acea2(0x6ca)),_0x3a7cb1=query(_0x45be67,where(_0x5acea2(0x3f8),'==',_0x4001ed),where(_0x5acea2(0x127),'==',_0x5acea2(0xa3e))),_0x142339=await getDocs(_0x3a7cb1);if(!_0x142339['empty']){console[_0x5acea2(0xcf6)](_0x5acea2(0x8ab)),await proceedWithTeamQuizJoin(_0x142339[_0x5acea2(0x1fb)][0x0]);return;}const _0x52d28c=collection(db,'artifacts/'+appId+_0x5acea2(0x66e)),_0x393cb3=query(_0x52d28c,where(_0x5acea2(0x3f8),'==',_0x4001ed),where(_0x5acea2(0x127),'in',[_0x5acea2(0xa3e),'question',_0x5acea2(0x5f7),'results'])),_0x416c36=await getDocs(_0x393cb3);if(!_0x416c36[_0x5acea2(0x71c)]){console[_0x5acea2(0xcf6)](_0x5acea2(0x38b)),await proceedWithSyncQuizJoin(_0x416c36[_0x5acea2(0x1fb)][0x0]);return;}showMessage(_0x5acea2(0xb64));}catch(_0x47aa46){console['error'](_0x5acea2(0xe15),_0x47aa46),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x47aa46[_0x5acea2(0xbd0)]);}}async function proceedWithTeamQuizJoin(_0x218602){const _0x39377b=_0x13d91b;currentTeamQuizId=_0x218602['id'];const _0x910c1a=_0x218602[_0x39377b(0xaf3)](),_0x152a85=doc(db,_0x39377b(0x54a)+appId+_0x39377b(0x90e),_0x910c1a[_0x39377b(0x7a5)]),_0x1f2216=doc(db,_0x39377b(0x54a)+appId+_0x39377b(0xd20),_0x910c1a[_0x39377b(0xbc0)]),[_0x2ed977,_0x5e3069]=await Promise[_0x39377b(0x1e8)]([getDoc(_0x152a85),getDoc(_0x1f2216)]);if(!_0x2ed977['exists']()||!_0x5e3069['exists']())throw new Error(_0x39377b(0xd1b));currentQuizData=getShuffledQuiz({'id':_0x5e3069['id'],..._0x5e3069[_0x39377b(0xaf3)]()}),showTeamPlayerSelection(_0x2ed977['data']()[_0x39377b(0xce1)],currentQuizData[_0x39377b(0xdf4)],_0x910c1a[_0x39377b(0x223)]||_0x39377b(0xdbf)),messageModal['classList']['add']('hidden');}async function proceedWithSyncQuizJoin(_0x44a5b0){const _0x25e98e=_0x13d91b;currentLiveGameId=_0x44a5b0['id'];const _0x3989ef=_0x44a5b0[_0x25e98e(0xaf3)](),_0x23cf74=doc(db,_0x25e98e(0x54a)+appId+_0x25e98e(0xd20),_0x3989ef[_0x25e98e(0xbc0)]),_0x3b5d71=await getDoc(_0x23cf74);if(!_0x3b5d71[_0x25e98e(0x5fd)]())throw new Error(_0x25e98e(0x7ec));const _0x205984=_0x3b5d71['data'](),_0x33aff5=doc(db,_0x25e98e(0x54a)+appId+_0x25e98e(0x90e),_0x205984[_0x25e98e(0x7a5)]),_0x51021f=await getDoc(_0x33aff5);if(!_0x51021f[_0x25e98e(0x5fd)]())throw new Error(_0x25e98e(0x26f));currentQuizData=_0x3989ef['shuffledQuiz'],showView(_0x25e98e(0x36b)),showTeamPlayerSelection(_0x51021f[_0x25e98e(0xaf3)]()['students'],_0x205984[_0x25e98e(0xdf4)],_0x25e98e(0x344));const _0x47f35b=document[_0x25e98e(0x916)](_0x25e98e(0x6ff)),_0x5ca746=_0x47f35b[_0x25e98e(0x7e6)](!![]);_0x47f35b[_0x25e98e(0xdf3)][_0x25e98e(0x900)](_0x5ca746,_0x47f35b),_0x5ca746[_0x25e98e(0xc55)]=confirmAndJoinSyncGame,messageModal[_0x25e98e(0x734)]['add'](_0x25e98e(0x4ad));}function getCleanApplicationHTML(){const _0x34babe=_0x13d91b,_0x5cd012=document[_0x34babe(0x916)](_0x34babe(0x862));if(!_0x5cd012)return'';const _0x52358f=_0x5cd012[_0x34babe(0x7e6)](!![]);return _0x52358f[_0x34babe(0x77f)](_0x34babe(0x7ca))[_0x34babe(0x5c9)](_0x126472=>{const _0x3ac4c5=_0x34babe;_0x126472[_0x3ac4c5(0x734)][_0x3ac4c5(0x5cf)](_0x3ac4c5(0xa07),_0x3ac4c5(0x5f1)),_0x126472[_0x3ac4c5(0x426)]=![];}),_0x52358f[_0x34babe(0xbc4)];}function showTeamPlayerSelection(_0x4e2e92,_0x3234cf,_0x31489b=_0x13d91b(0xdbf)){const _0x39d8cf=_0x13d91b;studentInitialView['classList'][_0x39d8cf(0x459)](_0x39d8cf(0x4ad)),studentJoinGameView[_0x39d8cf(0x734)]['add'](_0x39d8cf(0x4ad)),document[_0x39d8cf(0x916)](_0x39d8cf(0x7cf))['classList'][_0x39d8cf(0x5cf)](_0x39d8cf(0x4ad));let _0x3f32dd=_0x39d8cf(0x4db);if(_0x31489b===_0x39d8cf(0x97e))_0x3f32dd='Group\x20Mode';else _0x31489b===_0x39d8cf(0x344)&&(_0x3f32dd=_0x39d8cf(0x446));document[_0x39d8cf(0x916)](_0x39d8cf(0xa00))[_0x39d8cf(0xd9d)]=_0x3f32dd+':\x20'+_0x3234cf;const _0x4f0487=document['getElementById']('team-student-list');if(!_0x4e2e92||_0x4e2e92[_0x39d8cf(0x3d7)]===0x0){_0x4f0487['innerHTML']=_0x39d8cf(0x703),document[_0x39d8cf(0x916)](_0x39d8cf(0x6ff))['disabled']=!![];return;}_0x4f0487[_0x39d8cf(0xbc4)]=_0x4e2e92[_0x39d8cf(0x1b0)](_0x55efc0=>_0x39d8cf(0xd41)+_0x55efc0+_0x39d8cf(0xbb6)+_0x55efc0+_0x39d8cf(0x785))[_0x39d8cf(0x22e)](''),document[_0x39d8cf(0x916)](_0x39d8cf(0x6ff))[_0x39d8cf(0x426)]=![];}async function confirmAndStartTeamQuiz(){const _0x2fe30d=_0x13d91b,_0x48a698=Array['from'](document[_0x2fe30d(0x77f)]('input[name=\x22team_player\x22]:checked'))[_0x2fe30d(0x1b0)](_0x32ad34=>_0x32ad34[_0x2fe30d(0x93c)]);if(_0x48a698[_0x2fe30d(0x3d7)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x48a698,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x3b11c0=doc(db,_0x2fe30d(0x54a)+appId+_0x2fe30d(0x6ca),currentTeamQuizId);try{const _0x3ef6ee=await getDoc(_0x3b11c0);if(!_0x3ef6ee[_0x2fe30d(0x5fd)]())throw new Error(_0x2fe30d(0xdb0));const _0x4c0374=_0x3ef6ee[_0x2fe30d(0xaf3)]();if(_0x4c0374[_0x2fe30d(0x223)]===_0x2fe30d(0x97e)){const _0xf637ff={['groups.'+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x3b11c0,_0xf637ff);}else{const _0x18f2c4=_0x4c0374[_0x2fe30d(0x14b)]||{};localTeamPlayers[_0x2fe30d(0x5c9)](_0x4f738d=>{!_0x18f2c4[_0x4f738d]&&(_0x18f2c4[_0x4f738d]={'score':0x0,'answers':[]});}),await updateDoc(_0x3b11c0,{'responses':_0x18f2c4});}document[_0x2fe30d(0x916)](_0x2fe30d(0x7cf))[_0x2fe30d(0x734)][_0x2fe30d(0x459)](_0x2fe30d(0x4ad)),renderTeamQuizQuestion();const _0x516d07={'gameId':currentTeamQuizId,'mode':_0x4c0374[_0x2fe30d(0x223)]||'team','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x2fe30d(0xd51)](_0x2fe30d(0xa6a),JSON['stringify'](_0x516d07)),listenForTeamQuizUpdates();}catch(_0x109412){console[_0x2fe30d(0x689)](_0x2fe30d(0xa74),_0x109412),showMessage(_0x2fe30d(0xdcf));}}async function renderTeamQuizQuestion(){const _0x20b607=_0x13d91b;if(localQuestionIndex>=currentQuizData['questions']['length']){displayTeamQuizFinalResults();return;}const _0xf34077=currentQuizData[_0x20b607(0x87f)][localQuestionIndex],_0x444c8e=localTeamPlayers[localPlayerIndex],_0x5df66e=_0xf34077[_0x20b607(0xa1a)]||currentQuizData[_0x20b607(0x9b1)];let _0x4b590b=_0xf34077[_0x20b607(0x3a9)]||_0xf34077[_0x20b607(0xa35)],_0x3969ba='';switch(_0x5df66e){case _0x20b607(0x3e2):case _0x20b607(0x362):_0x3969ba=_0xf34077[_0x20b607(0x238)][_0x20b607(0x1b0)]((_0x533f87,_0x54db9e)=>_0x20b607(0xce0)+_0x54db9e+_0x20b607(0x341)+_0x54db9e+_0x20b607(0x2da)+_0x54db9e+'\x22>'+_0x533f87+_0x20b607(0x3ef))[_0x20b607(0x22e)]('');break;case _0x20b607(0x54f):_0x3969ba=_0x20b607(0x953);break;case _0x20b607(0x21b):case _0x20b607(0x549):_0x3969ba=_0x20b607(0x91c);break;case _0x20b607(0x416):_0x3969ba=_0x20b607(0x4fb)+_0xf34077['allResponses'][_0x20b607(0x1b0)](_0x54d60e=>'<option\x20value=\x22'+_0x54d60e+'\x22>'+_0x54d60e+'</option>')[_0x20b607(0x22e)]('')+_0x20b607(0xac4);break;default:_0x3969ba='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x20b607(0xbc4)]=_0x20b607(0x688)+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x20b607(0x87f)]['length']+_0x20b607(0x609)+_0x444c8e+_0x20b607(0xbfd)+(localQuestionIndex+0x1)+'.\x20'+_0x4b590b+_0x20b607(0xa59)+(_0xf34077[_0x20b607(0x6d6)]?_0x20b607(0x4ef)+_0xf34077['imageCode']+_0x20b607(0xa4f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x3969ba+_0x20b607(0x70f),studentQuizArea[_0x20b607(0x734)][_0x20b607(0x5cf)]('hidden');if(window[_0x20b607(0xcaf)])MathJax[_0x20b607(0x1cd)]([studentQuizArea]);document[_0x20b607(0x916)]('submit-team-answer-btn')[_0x20b607(0xc2d)](_0x20b607(0xab7),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x33c9a3=_0x13d91b,_0x32a2cb=currentQuizData['questions'][localQuestionIndex],_0x16a189=_0x32a2cb[_0x33c9a3(0xa1a)]||currentQuizData['quizType'];let _0x5ddcbb=null,_0x4ca841=![];if(_0x16a189===_0x33c9a3(0x21b)||_0x16a189===_0x33c9a3(0x549)){const _0x220271=document[_0x33c9a3(0x7f4)](_0x33c9a3(0x600));if(!_0x220271||!_0x220271[_0x33c9a3(0x93c)][_0x33c9a3(0x1a0)]()){showMessage(_0x33c9a3(0x9f2));return;}_0x5ddcbb=_0x220271[_0x33c9a3(0x93c)][_0x33c9a3(0x1a0)](),_0x4ca841=await gradeShortAnswer(_0x5ddcbb,_0x32a2cb);}else{const _0x23a12b=document['querySelector'](_0x33c9a3(0x1bf));if(!_0x23a12b||_0x23a12b[_0x33c9a3(0x93c)]===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0x5ddcbb=_0x23a12b[_0x33c9a3(0x93c)];switch(_0x16a189){case'true_false':_0x4ca841=_0x5ddcbb===_0x33c9a3(0x539)===_0x32a2cb[_0x33c9a3(0xcdb)];break;case _0x33c9a3(0x416):_0x4ca841=_0x5ddcbb===_0x32a2cb[_0x33c9a3(0x994)];break;default:_0x4ca841=parseInt(_0x5ddcbb)===_0x32a2cb[_0x33c9a3(0xae6)];break;}}const _0x54e4e2={'questionIndex':localQuestionIndex,'isCorrect':_0x4ca841},_0x1576e7=userId,_0xb725e1={[_0x33c9a3(0x40f)+_0x1576e7+_0x33c9a3(0xabe)]:arrayUnion(_0x54e4e2)};_0x4ca841&&(_0xb725e1[_0x33c9a3(0x40f)+_0x1576e7+_0x33c9a3(0x271)]=increment(0x1));try{await updateDoc(doc(db,_0x33c9a3(0x54a)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0xb725e1),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x33c9a3(0x87f)][_0x33c9a3(0x3d7)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x3797be){console['error'](_0x33c9a3(0x56a),_0x3797be),showMessage(_0x33c9a3(0x57a));}}async function handleTeamAnswerSubmit(){const _0x59e273=_0x13d91b,_0x52b729=await getDoc(doc(db,_0x59e273(0x54a)+appId+_0x59e273(0x6ca),currentTeamQuizId));if(!_0x52b729[_0x59e273(0x5fd)]())return;const _0x3a98cf=_0x52b729[_0x59e273(0xaf3)]();if(_0x3a98cf['mode']==='group'){handleGroupAnswerSubmit();return;}const _0x3c757b=localTeamPlayers[localPlayerIndex],_0x5db018=currentQuizData['questions'][localQuestionIndex],_0x3a5e37=_0x5db018[_0x59e273(0xa1a)]||currentQuizData['quizType'];let _0x44bcb5=null,_0x43e98b=![];if(_0x3a5e37===_0x59e273(0x21b)||_0x3a5e37===_0x59e273(0x549)){const _0x1f1140=document[_0x59e273(0x7f4)](_0x59e273(0x600));if(!_0x1f1140||!_0x1f1140['value'][_0x59e273(0x1a0)]()){showMessage(_0x59e273(0x1f7));return;}_0x44bcb5=_0x1f1140['value']['trim'](),_0x43e98b=await gradeShortAnswer(_0x44bcb5,_0x5db018);}else{const _0x44f651=document['querySelector']('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x44f651||_0x44f651[_0x59e273(0x93c)]===''){showMessage(_0x59e273(0x942));return;}_0x44bcb5=_0x44f651[_0x59e273(0x93c)];switch(_0x3a5e37){case'true_false':_0x43e98b=_0x44bcb5===_0x59e273(0x539)===_0x5db018['correctAnswer'];break;case'matching_item':_0x43e98b=_0x44bcb5===_0x5db018['correctResponse'];break;default:_0x43e98b=parseInt(_0x44bcb5)===_0x5db018['correctAnswerIndex'];break;}}const _0x178960={'questionIndex':localQuestionIndex,'isCorrect':_0x43e98b,'answerValue':_0x44bcb5},_0xf36303={['responses.'+_0x3c757b+'.answers']:arrayUnion(_0x178960)};_0x43e98b&&(_0xf36303['responses.'+_0x3c757b+_0x59e273(0x271)]=increment(0x1));try{await updateDoc(doc(db,_0x59e273(0x54a)+appId+_0x59e273(0x6ca),currentTeamQuizId),_0xf36303),localPlayerIndex++,localPlayerIndex>=localTeamPlayers['length']&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x46230e){console[_0x59e273(0x689)](_0x59e273(0x676),_0x46230e),showMessage(_0x59e273(0x57a));}}async function displayTeamQuizFinalResults(){const _0x4bfa46=_0x13d91b;studentQuizArea[_0x4bfa46(0x734)]['add'](_0x4bfa46(0x4ad)),studentResultArea[_0x4bfa46(0x734)][_0x4bfa46(0x5cf)]('hidden');const _0x402e50=doc(db,_0x4bfa46(0x54a)+appId+_0x4bfa46(0x6ca),currentTeamQuizId),_0x52e6eb=await getDoc(_0x402e50);if(!_0x52e6eb[_0x4bfa46(0x5fd)]()){studentResultArea['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>';return;}const _0x59b4b9=_0x52e6eb['data']();let _0x435da0=[];const _0x4b6331=_0x59b4b9[_0x4bfa46(0x223)]||_0x4bfa46(0xdbf);if(_0x4b6331===_0x4bfa46(0x97e)){const _0x24cd32=_0x59b4b9[_0x4bfa46(0x25f)][userId];_0x24cd32?_0x435da0=[{'name':_0x4bfa46(0x842)+localTeamPlayers[_0x4bfa46(0x22e)](',\x20'),'score':_0x24cd32[_0x4bfa46(0xc8b)]||0x0}]:_0x435da0=[{'name':'กลุ่มของคุณ','score':'N/A'}];}else _0x435da0=localTeamPlayers[_0x4bfa46(0x1b0)](_0x1d9492=>({'name':_0x1d9492,'score':_0x59b4b9[_0x4bfa46(0x14b)][_0x1d9492]?.[_0x4bfa46(0xc8b)]||0x0}))[_0x4bfa46(0x5d4)]((_0x20234a,_0x288027)=>_0x288027[_0x4bfa46(0xc8b)]-_0x20234a[_0x4bfa46(0xc8b)]);studentResultArea[_0x4bfa46(0xbc4)]=_0x4bfa46(0x3cb)+_0x435da0[_0x4bfa46(0x1b0)](_0x1b5175=>_0x4bfa46(0x3cd)+_0x1b5175[_0x4bfa46(0x34b)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1b5175[_0x4bfa46(0xc8b)]+_0x4bfa46(0xc00))[_0x4bfa46(0x22e)]('')+_0x4bfa46(0x5ca),sessionStorage[_0x4bfa46(0x6dd)](_0x4bfa46(0xa6a)),currentMode==='admin'&&currentTeamQuizId&&setTimeout(()=>{const _0x42293a=_0x4bfa46;deleteDoc(doc(db,'artifacts/'+appId+_0x42293a(0x6ca),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x13d91b(0xd4c),'pinnedProjects':[],'projectView':_0x13d91b(0x4b0)};const allMathTopics=[{'category':_0x13d91b(0xb8d),'name':'การนับ'},{'category':_0x13d91b(0xb8d),'name':'ระบบเลขและค่าประจำหลัก'},{'category':_0x13d91b(0xb8d),'name':_0x13d91b(0x2f4)},{'category':_0x13d91b(0xb8d),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':'จำนวนและการดำเนินการ','name':_0x13d91b(0x2fb)},{'category':_0x13d91b(0xb8d),'name':_0x13d91b(0xc34)},{'category':_0x13d91b(0xb8d),'name':'การคูณ'},{'category':_0x13d91b(0xb8d),'name':_0x13d91b(0xcb8)},{'category':_0x13d91b(0xb8d),'name':_0x13d91b(0x61a)},{'category':_0x13d91b(0xb8d),'name':_0x13d91b(0x81e)},{'category':_0x13d91b(0xb8d),'name':'ศูนย์'},{'category':'จำนวนและการดำเนินการ','name':'ค่าสัมบูรณ์'},{'category':_0x13d91b(0xb8d),'name':_0x13d91b(0x5cb)},{'category':_0x13d91b(0xb8d),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x13d91b(0xb8d),'name':'ห.ร.ม.\x20(GCD)'},{'category':_0x13d91b(0xb8d),'name':_0x13d91b(0xa2c)},{'category':_0x13d91b(0xb8d),'name':_0x13d91b(0x140)},{'category':_0x13d91b(0xb8d),'name':_0x13d91b(0xc0f)},{'category':'จำนวนและการดำเนินการ','name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x13d91b(0xb8d),'name':_0x13d91b(0xd83)},{'category':_0x13d91b(0xb8d),'name':_0x13d91b(0x6a3)},{'category':_0x13d91b(0xb8d),'name':_0x13d91b(0x69c)},{'category':_0x13d91b(0xb8d),'name':_0x13d91b(0x4d5)},{'category':_0x13d91b(0xb8d),'name':_0x13d91b(0x14e)},{'category':'จำนวนและการดำเนินการ','name':_0x13d91b(0x66f)},{'category':_0x13d91b(0xb8d),'name':_0x13d91b(0xa1c)},{'category':'จำนวนและการดำเนินการ','name':_0x13d91b(0x145)},{'category':_0x13d91b(0xb8d),'name':_0x13d91b(0x983)},{'category':_0x13d91b(0xb8d),'name':_0x13d91b(0x547)},{'category':_0x13d91b(0xb8d),'name':_0x13d91b(0xe1a)},{'category':_0x13d91b(0xb8d),'name':'ร้อยละพื้นฐาน'},{'category':_0x13d91b(0xb8d),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0x13d91b(0xb8d),'name':_0x13d91b(0xa87)},{'category':_0x13d91b(0xb8d),'name':_0x13d91b(0x69f)},{'category':_0x13d91b(0xb8d),'name':_0x13d91b(0xc9c)},{'category':_0x13d91b(0xb8d),'name':'รูปสแควร์รูท\x20(surd)'},{'category':'จำนวนและการดำเนินการ','name':_0x13d91b(0x872)},{'category':_0x13d91b(0xc26),'name':_0x13d91b(0x587)},{'category':_0x13d91b(0xc26),'name':_0x13d91b(0xbaf)},{'category':_0x13d91b(0xc26),'name':_0x13d91b(0xc8d)},{'category':_0x13d91b(0xc26),'name':_0x13d91b(0xb0e)},{'category':_0x13d91b(0xc26),'name':_0x13d91b(0x1d2)},{'category':'การวัด','name':_0x13d91b(0x580)},{'category':_0x13d91b(0xc26),'name':_0x13d91b(0x9a6)},{'category':_0x13d91b(0xc26),'name':_0x13d91b(0x532)},{'category':'การวัด','name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':_0x13d91b(0xc26),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x13d91b(0xc26),'name':_0x13d91b(0xba1)},{'category':_0x13d91b(0xc26),'name':_0x13d91b(0x302)},{'category':_0x13d91b(0xc26),'name':'สเกลและแผนที่'},{'category':_0x13d91b(0xc26),'name':_0x13d91b(0x644)},{'category':_0x13d91b(0xdb6),'name':_0x13d91b(0x8b9)},{'category':'เรขาคณิต','name':_0x13d91b(0x2f0)},{'category':_0x13d91b(0xdb6),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0x13d91b(0xdb6),'name':_0x13d91b(0x532)},{'category':'เรขาคณิต','name':_0x13d91b(0x9e5)},{'category':_0x13d91b(0xdb6),'name':_0x13d91b(0x130)},{'category':_0x13d91b(0xdb6),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x13d91b(0xdb6),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x13d91b(0xdb6),'name':_0x13d91b(0x719)},{'category':'เรขาคณิต','name':_0x13d91b(0x859)},{'category':'เรขาคณิต','name':_0x13d91b(0xbfe)},{'category':_0x13d91b(0xdb6),'name':_0x13d91b(0xc5e)},{'category':_0x13d91b(0xdb6),'name':'สมมาตร\x20(แกน/จุด)'},{'category':_0x13d91b(0xdb6),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x13d91b(0xdb6),'name':_0x13d91b(0x690)},{'category':'พีชคณิตและฟังก์ชัน','name':'ตัวแปรและนิพจน์'},{'category':_0x13d91b(0x41f),'name':_0x13d91b(0x122)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x13d91b(0x2f5)},{'category':_0x13d91b(0x41f),'name':_0x13d91b(0x86c)},{'category':_0x13d91b(0x41f),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':'พีชคณิตและฟังก์ชัน','name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x13d91b(0x9f1)},{'category':_0x13d91b(0x41f),'name':_0x13d91b(0xae5)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการค่าสัมบูรณ์'},{'category':_0x13d91b(0x41f),'name':_0x13d91b(0x9dc)},{'category':_0x13d91b(0x41f),'name':_0x13d91b(0xb7c)},{'category':_0x13d91b(0x41f),'name':'สมการยกกำลัง'},{'category':_0x13d91b(0x41f),'name':'สมการลอการิทึม'},{'category':_0x13d91b(0x41f),'name':_0x13d91b(0xe11)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x13d91b(0x7a2)},{'category':_0x13d91b(0x41f),'name':_0x13d91b(0x5d2)},{'category':_0x13d91b(0x41f),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x13d91b(0x41f),'name':_0x13d91b(0xb67)},{'category':'พีชคณิตและฟังก์ชัน','name':'องค์ประกอบของฟังก์ชัน'},{'category':_0x13d91b(0x41f),'name':_0x13d91b(0x74a)},{'category':_0x13d91b(0x41f),'name':_0x13d91b(0x930)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x13d91b(0xc77)},{'category':_0x13d91b(0x41f),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x13d91b(0x41f),'name':_0x13d91b(0x3b7)},{'category':_0x13d91b(0x41f),'name':_0x13d91b(0xad0)},{'category':_0x13d91b(0x41f),'name':_0x13d91b(0x61b)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':_0x13d91b(0x41f),'name':_0x13d91b(0xa68)},{'category':_0x13d91b(0x41f),'name':'ฟังก์ชันยกกำลัง'},{'category':_0x13d91b(0x41f),'name':_0x13d91b(0x3a3)},{'category':_0x13d91b(0x41f),'name':_0x13d91b(0x805)},{'category':_0x13d91b(0x41f),'name':_0x13d91b(0x620)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x13d91b(0x309)},{'category':_0x13d91b(0x41f),'name':_0x13d91b(0x47e)},{'category':_0x13d91b(0x41f),'name':_0x13d91b(0x439)},{'category':_0x13d91b(0x746),'name':'ระยะทางและจุดกึ่งกลาง'},{'category':'เรขาคณิตวิเคราะห์','name':_0x13d91b(0x48c)},{'category':_0x13d91b(0x746),'name':_0x13d91b(0x1a1)},{'category':_0x13d91b(0x746),'name':_0x13d91b(0x93f)},{'category':'เรขาคณิตวิเคราะห์','name':_0x13d91b(0x954)},{'category':_0x13d91b(0x746),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x13d91b(0x746),'name':_0x13d91b(0x50c)},{'category':'เรขาคณิตวิเคราะห์','name':_0x13d91b(0x405)},{'category':_0x13d91b(0x746),'name':_0x13d91b(0xcb3)},{'category':'ตรีโกณมิติ','name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x13d91b(0x6b1),'name':_0x13d91b(0x7cc)},{'category':_0x13d91b(0x6b1),'name':'เรเดียนและการแปลงหน่วย'},{'category':_0x13d91b(0x6b1),'name':_0x13d91b(0xacc)},{'category':_0x13d91b(0x6b1),'name':_0x13d91b(0x34f)},{'category':_0x13d91b(0x6b1),'name':_0x13d91b(0x755)},{'category':'ตรีโกณมิติ','name':_0x13d91b(0xbe4)},{'category':_0x13d91b(0x6b1),'name':_0x13d91b(0x231)},{'category':_0x13d91b(0x6b1),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':_0x13d91b(0x6b1),'name':_0x13d91b(0xd8a)},{'category':_0x13d91b(0x8e8),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x13d91b(0x8e8),'name':_0x13d91b(0xc17)},{'category':'สถิติและความน่าจะเป็น','name':_0x13d91b(0x30c)},{'category':_0x13d91b(0x8e8),'name':_0x13d91b(0x477)},{'category':_0x13d91b(0x8e8),'name':_0x13d91b(0xc87)},{'category':_0x13d91b(0x8e8),'name':_0x13d91b(0x8dc)},{'category':_0x13d91b(0x8e8),'name':'ค่าเฉลี่ย'},{'category':_0x13d91b(0x8e8),'name':'มัธยฐาน'},{'category':_0x13d91b(0x8e8),'name':_0x13d91b(0xb37)},{'category':_0x13d91b(0x8e8),'name':_0x13d91b(0x3e1)},{'category':_0x13d91b(0x8e8),'name':_0x13d91b(0x8a9)},{'category':_0x13d91b(0x8e8),'name':_0x13d91b(0x408)},{'category':_0x13d91b(0x8e8),'name':_0x13d91b(0xcff)},{'category':'สถิติและความน่าจะเป็น','name':_0x13d91b(0x702)},{'category':_0x13d91b(0x8e8),'name':_0x13d91b(0x94d)},{'category':_0x13d91b(0x8e8),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x13d91b(0x8e8),'name':_0x13d91b(0x339)},{'category':'สถิติและความน่าจะเป็น','name':_0x13d91b(0x6aa)},{'category':_0x13d91b(0x8e8),'name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':_0x13d91b(0x8e8),'name':_0x13d91b(0xdec)},{'category':'สถิติและความน่าจะเป็น','name':_0x13d91b(0x63c)},{'category':_0x13d91b(0x8e8),'name':'การจัดหมู่\x20(Combination)'},{'category':_0x13d91b(0x8e8),'name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':_0x13d91b(0x8e8),'name':_0x13d91b(0x62e)},{'category':'แคลคูลัสเบื้องต้น','name':_0x13d91b(0xa26)},{'category':_0x13d91b(0xd6f),'name':_0x13d91b(0x83f)},{'category':_0x13d91b(0xd6f),'name':_0x13d91b(0x697)},{'category':_0x13d91b(0xd6f),'name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':_0x13d91b(0xd6f),'name':_0x13d91b(0x9c4)},{'category':_0x13d91b(0xd6f),'name':_0x13d91b(0x5ad)},{'category':_0x13d91b(0xd6f),'name':'ความชันเส้นสัมผัส'},{'category':_0x13d91b(0xd6f),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':_0x13d91b(0xd6f),'name':_0x13d91b(0x534)},{'category':_0x13d91b(0xd6f),'name':_0x13d91b(0x2e2)},{'category':'แคลคูลัสเบื้องต้น','name':_0x13d91b(0x3f0)},{'category':_0x13d91b(0xd6f),'name':_0x13d91b(0x68e)},{'category':'แคลคูลัสเบื้องต้น','name':_0x13d91b(0xcbf)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x13d91b(0x3b6)},{'category':_0x13d91b(0x9d9),'name':_0x13d91b(0x52a)},{'category':_0x13d91b(0x9d9),'name':_0x13d91b(0x4c0)},{'category':_0x13d91b(0x9d9),'name':_0x13d91b(0xb47)},{'category':_0x13d91b(0x9d9),'name':_0x13d91b(0x4c8)},{'category':_0x13d91b(0x9d9),'name':_0x13d91b(0xc8c)},{'category':_0x13d91b(0x9d9),'name':_0x13d91b(0xd26)},{'category':_0x13d91b(0x537),'name':'ดอกเบี้ยอย่างง่าย'},{'category':'คณิตการเงิน/บูรณาการ','name':'ดอกเบี้ยทบต้น'},{'category':_0x13d91b(0x537),'name':_0x13d91b(0x932)},{'category':_0x13d91b(0x537),'name':_0x13d91b(0xb06)},{'category':_0x13d91b(0x537),'name':_0x13d91b(0xbce)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0x13d91b(0x1df),'name':_0x13d91b(0x373)},{'category':_0x13d91b(0x1df),'name':_0x13d91b(0x737)}];function renderTopicCheckboxes(){const _0x46880d=_0x13d91b,_0x18c7b8=document[_0x46880d(0x916)](_0x46880d(0xac3));if(!_0x18c7b8)return;const _0x1ecd5f=allMathTopics,_0x14915d=customMathTopics['map'](_0x5863bb=>({'id':_0x5863bb['id'],'category':_0x46880d(0xabd),'name':_0x5863bb[_0x46880d(0x34b)]})),_0x3a865e=[..._0x1ecd5f,..._0x14915d],_0x4b3a6c=_0x3a865e[_0x46880d(0xba9)]((_0x409d4a,_0x1b49db)=>{const _0x11a16d=_0x46880d;return!_0x409d4a[_0x1b49db['category']]&&(_0x409d4a[_0x1b49db[_0x11a16d(0x241)]]=[]),_0x409d4a[_0x1b49db[_0x11a16d(0x241)]]['push'](_0x1b49db),_0x409d4a;},{});let _0x4967ab='';const _0x210d80=['หัวข้อที่สร้างเอง',...Object[_0x46880d(0x4bf)](_0x4b3a6c)[_0x46880d(0xc52)](_0x1e1202=>_0x1e1202!=='หัวข้อที่สร้างเอง')];for(const _0x70edb2 of _0x210d80){if(_0x4b3a6c[_0x70edb2]){const _0x159859=_0x70edb2==='หัวข้อที่สร้างเอง',_0x226531=_0x159859?_0x46880d(0x3ca):'fas\x20fa-bookmark',_0x85e8dd=_0x159859?'text-blue-700':_0x46880d(0x2e8);_0x4967ab+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x4967ab+=_0x46880d(0xaf6)+_0x85e8dd+_0x46880d(0x61e)+_0x226531+'\x20mr-2\x22></i>'+_0x70edb2+_0x46880d(0x6b4),_0x4b3a6c[_0x70edb2]['forEach'](_0x5b65ee=>{const _0x493faf=_0x46880d,_0x5cb6b3=!!_0x5b65ee['id'],_0x2113c3=_0x5cb6b3?_0x493faf(0xe13)+_0x5b65ee['id']+_0x493faf(0x150)+_0x5b65ee['id']+_0x493faf(0x60a)+_0x5b65ee['id']+_0x493faf(0xd59)+_0x5b65ee['id']+_0x493faf(0x8f3):'';_0x4967ab+=_0x493faf(0x9a4)+(_0x5b65ee['id']||'')+_0x493faf(0xb22)+_0x5b65ee['name']+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x5b65ee['name']+_0x493faf(0xddc)+(_0x5cb6b3?_0x493faf(0x358)+_0x5b65ee['name']+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2113c3+_0x493faf(0x27a);}),_0x4967ab+=_0x46880d(0xa4f);}}_0x18c7b8[_0x46880d(0xbc4)]=_0x4967ab||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x18c7b8['removeEventListener'](_0x46880d(0xbe9),updateSelectedTopicsCount),_0x18c7b8[_0x46880d(0xc2d)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x4e3a2c,_0x7969ed){const _0x200480=_0x13d91b;if(!_0x4e3a2c||!_0x7969ed[_0x200480(0x1a0)]()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0xe232ce=doc(db,_0x200480(0x54a)+appId+_0x200480(0xbe5),_0x4e3a2c);await updateDoc(_0xe232ce,{'name':_0x7969ed[_0x200480(0x1a0)]()}),showMessage(_0x200480(0x1a5));}catch(_0x43e61c){console['error'](_0x200480(0x518),_0x43e61c),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x179c09,_0x2ca308){const _0x256dd9=_0x13d91b;if(!_0x179c09)return;const _0x2cd958=_0x179c09[_0x256dd9(0x7f4)](_0x256dd9(0x65b)),_0x271e94=_0x179c09['querySelector'](_0x256dd9(0x2d5)),_0x186ad4=_0x179c09[_0x256dd9(0x7f4)](_0x256dd9(0x959)),_0x58838d=_0x179c09[_0x256dd9(0x7f4)](_0x256dd9(0x918));_0x2cd958[_0x256dd9(0x734)][_0x256dd9(0x3bc)](_0x256dd9(0x4ad),_0x2ca308),_0x271e94[_0x256dd9(0x734)][_0x256dd9(0x3bc)](_0x256dd9(0x4ad),!_0x2ca308),_0x186ad4['classList'][_0x256dd9(0x3bc)](_0x256dd9(0x4ad),_0x2ca308),_0x58838d[_0x256dd9(0x734)][_0x256dd9(0x3bc)](_0x256dd9(0x4ad),!_0x2ca308),_0x2ca308&&(_0x271e94[_0x256dd9(0x3be)](),_0x271e94[_0x256dd9(0x833)]());}async function handleStartLiveRace(_0x571f41){const _0xd091a8=_0x13d91b;let _0x509f67=allQuizzes[_0xd091a8(0xa3d)](_0x1b63cd=>_0x1b63cd['id']===_0x571f41);if(!_0x509f67){const _0x573d8a=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x571f41),_0x581bf7=await getDoc(_0x573d8a);if(!_0x581bf7[_0xd091a8(0x5fd)]()){showMessage(_0xd091a8(0x7ec));return;}_0x509f67={'id':_0x581bf7['id'],..._0x581bf7[_0xd091a8(0xaf3)]()};}const _0x5a976e=getShuffledQuiz(_0x509f67);currentQuizData=_0x5a976e;const _0x5356f6=_0x509f67[_0xd091a8(0x7a5)]||currentProjectId||null,_0x59c0fb=Math[_0xd091a8(0x8e9)](0x3e8+Math[_0xd091a8(0x29d)]()*0x2328)[_0xd091a8(0xda1)]();currentLiveGamePin=_0x59c0fb;try{const _0x4df2d5=await addDoc(collection(db,_0xd091a8(0x54a)+appId+_0xd091a8(0x543)),{'quizId':_0x571f41,'projectId':_0x5356f6,'status':_0xd091a8(0xa3e),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x59c0fb,'createdAt':serverTimestamp(),'shuffledQuiz':_0x5a976e});currentLiveGameId=_0x4df2d5['id'],showAdminLobbyView(_0x59c0fb,_0x509f67[_0xd091a8(0xdf4)]),listenForLiveGameUpdates();}catch(_0x416f9a){console[_0xd091a8(0x689)]('Error\x20starting\x20live\x20race:',_0x416f9a),showMessage(_0xd091a8(0x230));}}function updateSelectedTopicsCount(){const _0x575188=_0x13d91b,_0x69ef67=document['getElementById'](_0x575188(0xac3)),_0x27737c=_0x69ef67[_0x575188(0x77f)]('input[type=\x22checkbox\x22]:checked')[_0x575188(0x3d7)],_0x3d9519=document[_0x575188(0x916)](_0x575188(0x440));_0x27737c>0x0?_0x3d9519['textContent']=_0x575188(0xaec)+_0x27737c+_0x575188(0x26e):_0x3d9519[_0x575188(0xd9d)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x13d91b(0xdd4),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x13d91b(0xd27),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x13d91b(0x104),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0x13d91b(0x723),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x3d7323,_0x57390d){const _0x39431c=_0x13d91b;return Math['sqrt'](Math[_0x39431c(0x39b)](_0x3d7323['x']-_0x57390d['x'],0x2)+Math[_0x39431c(0x39b)](_0x3d7323['y']-_0x57390d['y'],0x2));}function getMidpoint(_0x5a9a72,_0x250765){return{'x':(_0x5a9a72['x']+_0x250765['x'])/0x2,'y':(_0x5a9a72['y']+_0x250765['y'])/0x2};}function getTransformedPoint(_0x210d2d,_0x4d9caf){return{'x':(_0x210d2d-scratchpadOffset['x'])/scratchpadScale,'y':(_0x4d9caf-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x3d72fd=_0x13d91b;if(!scratchpadCtx)return;const _0x5488c6=scratchpadCtx[_0x3d72fd(0xb4e)],_0x52b381=window[_0x3d72fd(0xd9f)]||0x1,_0x360f6d=document['getElementById']('scratchpad-header');_0x360f6d&&(_0x360f6d[_0x3d72fd(0x3bb)][_0x3d72fd(0x5b4)]='0\x200',_0x360f6d[_0x3d72fd(0x3bb)][_0x3d72fd(0xdb3)]=_0x3d72fd(0x37b)+scratchpadOffset['x']+_0x3d72fd(0xd98)+scratchpadOffset['y']+_0x3d72fd(0x243)+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx[_0x3d72fd(0x377)](_0x52b381,0x0,0x0,_0x52b381,0x0,0x0),scratchpadCtx[_0x3d72fd(0x7bf)](0x0,0x0,_0x5488c6['width'],_0x5488c6['height']),scratchpadCtx[_0x3d72fd(0xbac)](),scratchpadCtx[_0x3d72fd(0xd72)](),scratchpadCtx[_0x3d72fd(0x1d4)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x3d72fd(0xafe)](scratchpadScale,scratchpadScale),strokes[_0x3d72fd(0x5c9)](_0x41aade=>{drawStroke(_0x41aade);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x3d72fd(0xbac)]();}function renderGroupModeQuestion(){const _0x134aac=_0x13d91b;if(localQuestionIndex>=currentQuizData[_0x134aac(0x87f)][_0x134aac(0x3d7)]){displayTeamQuizFinalResults();return;}const _0x15496b=currentQuizData[_0x134aac(0x87f)][localQuestionIndex],_0x3b0e75=_0x15496b[_0x134aac(0xa1a)]||currentQuizData[_0x134aac(0x9b1)];let _0x2da905=_0x15496b[_0x134aac(0x3a9)]||_0x15496b[_0x134aac(0xa35)],_0x2183dc='';switch(_0x3b0e75){case _0x134aac(0x3e2):case _0x134aac(0x362):_0x2183dc=_0x15496b['options']['map']((_0x4b052d,_0x4a48a3)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x4a48a3+_0x134aac(0x341)+_0x4a48a3+_0x134aac(0x2da)+_0x4a48a3+'\x22>'+_0x4b052d+_0x134aac(0x3ef))[_0x134aac(0x22e)]('');break;case'true_false':_0x2183dc=_0x134aac(0x953);break;case _0x134aac(0x21b):case _0x134aac(0x549):_0x2183dc=_0x134aac(0x8e0);break;case _0x134aac(0x416):_0x2183dc=_0x134aac(0x4fb)+_0x15496b[_0x134aac(0x47b)][_0x134aac(0x1b0)](_0x53c3be=>_0x134aac(0x733)+_0x53c3be+'\x22>'+_0x53c3be+'</option>')[_0x134aac(0x22e)]('')+'</select>';break;default:_0x2183dc=_0x134aac(0x6e6);break;}studentQuizArea['innerHTML']=_0x134aac(0x688)+(localQuestionIndex+0x1)+_0x134aac(0x62d)+currentQuizData[_0x134aac(0x87f)][_0x134aac(0x3d7)]+_0x134aac(0xd29)+localTeamPlayers['join'](',\x20')+_0x134aac(0xbfd)+(localQuestionIndex+0x1)+'.\x20'+_0x2da905+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x15496b[_0x134aac(0x6d6)]?_0x134aac(0x4ef)+_0x15496b[_0x134aac(0x6d6)]+_0x134aac(0xa4f):'')+_0x134aac(0x5f6)+_0x2183dc+_0x134aac(0x683),studentQuizArea[_0x134aac(0x734)][_0x134aac(0x5cf)]('hidden');if(window[_0x134aac(0xcaf)])MathJax[_0x134aac(0x1cd)]([studentQuizArea]);document[_0x134aac(0x916)]('submit-group-answer-btn')[_0x134aac(0xc2d)](_0x134aac(0xab7),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x29e549,_0x2887ae=null,_0x3548ee,_0x334034=null,_0x3cc6df=![],_0x850f30=null){const _0x568b39=_0x13d91b,_0x4e97ae=document['getElementById'](_0x568b39(0x444));_0x4e97ae&&_0x4e97ae[_0x568b39(0xcc9)]({'behavior':'smooth','block':_0x568b39(0x69b)}),generateQuiz(_0x29e549,_0x2887ae,null,_0x850f30,!![],_0x3548ee,_0x334034,_0x3cc6df);}function handleGenerateAndShowLesson(_0x3af788,_0x7ad462){const _0xd6d20b=_0x13d91b,_0xdf567d=document['getElementById'](_0xd6d20b(0x3ad)),_0x12cab3=document[_0xd6d20b(0x916)](_0xd6d20b(0xb9c)),_0x13efcc=document[_0xd6d20b(0x916)](_0xd6d20b(0xa56)),_0x523737=document[_0xd6d20b(0x916)](_0xd6d20b(0x64d));[_0xd6d20b(0x393),_0xd6d20b(0xb19),_0xd6d20b(0x862),_0xd6d20b(0x896)][_0xd6d20b(0x5c9)](_0x55b812=>{const _0x64b9e1=_0xd6d20b,_0x85d0ee=document['getElementById'](_0x55b812)[_0x64b9e1(0xd96)];_0x85d0ee&&(_0x85d0ee['style'][_0x64b9e1(0x31b)]=_0x64b9e1(0x3d4));}),_0x12cab3['textContent']='กำลังสร้างบทเรียน:\x20'+_0x3af788,_0x523737['classList'][_0xd6d20b(0x459)]('hidden'),_0x13efcc[_0xd6d20b(0x734)][_0xd6d20b(0x5cf)](_0xd6d20b(0x4ad)),_0xdf567d[_0xd6d20b(0x734)][_0xd6d20b(0x5cf)](_0xd6d20b(0x4ad)),generateLesson(_0x3af788,_0x7ad462)[_0xd6d20b(0x161)](_0x21cd4d=>{const _0x2e9169=_0xd6d20b;console['error'](_0x2e9169(0xaf9),_0x21cd4d),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0xdf567d[_0x2e9169(0x734)][_0x2e9169(0x459)](_0x2e9169(0x4ad));});}function handlePointerDown(_0x1c72be){const _0x28a3fc=_0x13d91b;_0x1c72be[_0x28a3fc(0x452)]();const _0x43b3bc=scratchpadCtx[_0x28a3fc(0xb4e)],_0x545f88=_0x43b3bc[_0x28a3fc(0x836)](),_0x392b4a=_0x1c72be['pointerType']||(_0x1c72be[_0x28a3fc(0x7d9)]?_0x28a3fc(0xdee):_0x28a3fc(0x617));if(_0x392b4a===_0x28a3fc(0x273)||_0x392b4a==='mouse'){if(_0x1c72be[_0x28a3fc(0x138)]===_0x28a3fc(0x617)&&_0x1c72be[_0x28a3fc(0x4a0)]!==0x0){_0x1c72be['button']===0x1&&(isMousePanning=!![],panStart={'x':_0x1c72be[_0x28a3fc(0x204)],'y':_0x1c72be[_0x28a3fc(0xcac)]},_0x43b3bc[_0x28a3fc(0x3bb)]['cursor']=_0x28a3fc(0xbdf));return;}activeTool===_0x28a3fc(0xd02)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x3586d5=getTransformedPoint(_0x1c72be['clientX']-_0x545f88[_0x28a3fc(0xd6b)],_0x1c72be[_0x28a3fc(0xcac)]-_0x545f88[_0x28a3fc(0x328)]);let _0xa4da31={'tool':activeTool,'points':[_0x3586d5]};if(activeTool==='pen')_0xa4da31[_0x28a3fc(0x468)]=scratchpadPenColor,_0xa4da31[_0x28a3fc(0x9c2)]=scratchpadPenSize;else{if(activeTool===_0x28a3fc(0xc27))_0xa4da31[_0x28a3fc(0x468)]=scratchpadPenColor,_0xa4da31[_0x28a3fc(0x9c2)]=scratchpadEraserSize;else{if(activeTool===_0x28a3fc(0x3b5))_0xa4da31[_0x28a3fc(0x468)]=scratchpadHighlighterColor,_0xa4da31[_0x28a3fc(0x9c2)]=scratchpadHighlighterSize;else activeTool===_0x28a3fc(0xd02)&&(_0xa4da31['color']=scratchpadPenColor,_0xa4da31[_0x28a3fc(0x9c2)]=scratchpadPenSize);}}currentStroke=_0xa4da31;}else _0x1c72be['touches']&&(_0x1c72be[_0x28a3fc(0x7d9)]['length']===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x1c72be[_0x28a3fc(0x7d9)][0x0][_0x28a3fc(0x204)],'y':_0x1c72be['touches'][0x0]['clientY']},{'x':_0x1c72be[_0x28a3fc(0x7d9)][0x1][_0x28a3fc(0x204)],'y':_0x1c72be[_0x28a3fc(0x7d9)][0x1][_0x28a3fc(0xcac)]}),initialPinchDistance=getDistance({'x':_0x1c72be[_0x28a3fc(0x7d9)][0x0][_0x28a3fc(0x204)],'y':_0x1c72be[_0x28a3fc(0x7d9)][0x0][_0x28a3fc(0xcac)]},{'x':_0x1c72be[_0x28a3fc(0x7d9)][0x1][_0x28a3fc(0x204)],'y':_0x1c72be[_0x28a3fc(0x7d9)][0x1][_0x28a3fc(0xcac)]})));}function animateTrail(){const _0x5b3f97=_0x13d91b,_0x469d23=Date[_0x5b3f97(0x60e)]();let _0x9e17b7=![];for(let _0x3301f9=strokes[_0x5b3f97(0x3d7)]-0x1;_0x3301f9>=0x0;_0x3301f9--){const _0x183321=strokes[_0x3301f9];if(_0x183321[_0x5b3f97(0x849)]===_0x5b3f97(0xd02)&&_0x183321[_0x5b3f97(0x275)]){const _0x41f7ee=_0x469d23-_0x183321[_0x5b3f97(0x275)];_0x41f7ee>=TRAIL_DURATION?strokes[_0x5b3f97(0x852)](_0x3301f9,0x1):(_0x183321['opacity']=0x1-_0x41f7ee/TRAIL_DURATION,_0x9e17b7=!![]);}}redrawScratchpad(),_0x9e17b7?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x48698b){const _0x492f06=_0x13d91b;if(!_0x48698b||_0x48698b[_0x492f06(0x756)][_0x492f06(0x3d7)]<0x1)return;scratchpadCtx[_0x492f06(0xd72)](),scratchpadCtx[_0x492f06(0x43d)]='round',scratchpadCtx[_0x492f06(0x8a1)]=_0x492f06(0x1e7);if(_0x48698b[_0x492f06(0x849)]===_0x492f06(0xd02)){const _0x15b346=_0x48698b[_0x492f06(0x9c2)]/scratchpadScale;scratchpadCtx['globalAlpha']=_0x48698b['opacity']??0x1,scratchpadCtx[_0x492f06(0x6a0)]='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx[_0x492f06(0x865)]=_0x15b346*0x3,scratchpadCtx[_0x492f06(0xda4)]=_0x492f06(0x572),scratchpadCtx[_0x492f06(0x49a)]=_0x15b346*2.5,scratchpadCtx[_0x492f06(0x6d7)](),scratchpadCtx[_0x492f06(0x70a)](_0x48698b[_0x492f06(0x756)][0x0]['x'],_0x48698b['points'][0x0]['y']);for(let _0x5ab373=0x1;_0x5ab373<_0x48698b['points'][_0x492f06(0x3d7)]-0x1;_0x5ab373++){const _0x5e94e7=getMidpoint(_0x48698b[_0x492f06(0x756)][_0x5ab373],_0x48698b[_0x492f06(0x756)][_0x5ab373+0x1]);scratchpadCtx['quadraticCurveTo'](_0x48698b[_0x492f06(0x756)][_0x5ab373]['x'],_0x48698b[_0x492f06(0x756)][_0x5ab373]['y'],_0x5e94e7['x'],_0x5e94e7['y']);}scratchpadCtx[_0x492f06(0xc5a)](),scratchpadCtx[_0x492f06(0x6a0)]='transparent',scratchpadCtx[_0x492f06(0x865)]=0x0,scratchpadCtx[_0x492f06(0xda4)]=_0x492f06(0x32b),scratchpadCtx[_0x492f06(0x49a)]=_0x15b346,scratchpadCtx[_0x492f06(0xc5a)](),scratchpadCtx[_0x492f06(0x6b0)]();}else{if(_0x48698b['tool']==='highlighter'){scratchpadCtx['globalCompositeOperation']=_0x492f06(0x3c9),scratchpadCtx[_0x492f06(0xda4)]=_0x48698b[_0x492f06(0x468)],scratchpadCtx[_0x492f06(0x49a)]=_0x48698b[_0x492f06(0x9c2)],scratchpadCtx[_0x492f06(0x6d7)](),scratchpadCtx[_0x492f06(0x70a)](_0x48698b[_0x492f06(0x756)][0x0]['x'],_0x48698b[_0x492f06(0x756)][0x0]['y']);for(let _0xede0fe=0x1;_0xede0fe<_0x48698b[_0x492f06(0x756)][_0x492f06(0x3d7)]-0x1;_0xede0fe++){const _0x1fc349=getMidpoint(_0x48698b[_0x492f06(0x756)][_0xede0fe],_0x48698b[_0x492f06(0x756)][_0xede0fe+0x1]);scratchpadCtx[_0x492f06(0x948)](_0x48698b[_0x492f06(0x756)][_0xede0fe]['x'],_0x48698b[_0x492f06(0x756)][_0xede0fe]['y'],_0x1fc349['x'],_0x1fc349['y']);}scratchpadCtx[_0x492f06(0xc5a)](),scratchpadCtx[_0x492f06(0x6b0)]();}else{scratchpadCtx[_0x492f06(0xd32)]=_0x48698b[_0x492f06(0x849)]===_0x492f06(0xc27)?_0x492f06(0x21e):'source-over',scratchpadCtx[_0x492f06(0xda4)]=_0x48698b[_0x492f06(0x468)],scratchpadCtx[_0x492f06(0x49a)]=_0x48698b[_0x492f06(0x9c2)],scratchpadCtx[_0x492f06(0x6d7)](),scratchpadCtx['moveTo'](_0x48698b[_0x492f06(0x756)][0x0]['x'],_0x48698b['points'][0x0]['y']);for(let _0x44bb08=0x1;_0x44bb08<_0x48698b[_0x492f06(0x756)]['length']-0x1;_0x44bb08++){const _0x406dcd=getMidpoint(_0x48698b['points'][_0x44bb08],_0x48698b[_0x492f06(0x756)][_0x44bb08+0x1]);scratchpadCtx[_0x492f06(0x948)](_0x48698b['points'][_0x44bb08]['x'],_0x48698b['points'][_0x44bb08]['y'],_0x406dcd['x'],_0x406dcd['y']);}scratchpadCtx[_0x492f06(0xc5a)](),scratchpadCtx['closePath']();}}scratchpadCtx['restore']();}function handlePointerMove(_0x360c46){const _0x253cc6=_0x13d91b;_0x360c46[_0x253cc6(0x452)]();const _0x22fafe=scratchpadCtx[_0x253cc6(0xb4e)],_0x1a3134=_0x22fafe[_0x253cc6(0x836)]();if(_0x360c46['touches']){if(_0x360c46[_0x253cc6(0x7d9)][_0x253cc6(0x3d7)]===0x1&&isDrawingOnScratchpad){const _0x1ee493=getTransformedPoint(_0x360c46['touches'][0x0][_0x253cc6(0x204)]-_0x1a3134['left'],_0x360c46[_0x253cc6(0x7d9)][0x0][_0x253cc6(0xcac)]-_0x1a3134[_0x253cc6(0x328)]);currentStroke['points'][_0x253cc6(0x298)](_0x1ee493),redrawScratchpad();}else{if(_0x360c46['touches'][_0x253cc6(0x3d7)]===0x2&&isPanning){const _0x40d480=getDistance({'x':_0x360c46[_0x253cc6(0x7d9)][0x0][_0x253cc6(0x204)],'y':_0x360c46['touches'][0x0]['clientY']},{'x':_0x360c46[_0x253cc6(0x7d9)][0x1][_0x253cc6(0x204)],'y':_0x360c46[_0x253cc6(0x7d9)][0x1]['clientY']}),_0x1dc126=getMidpoint({'x':_0x360c46[_0x253cc6(0x7d9)][0x0][_0x253cc6(0x204)],'y':_0x360c46[_0x253cc6(0x7d9)][0x0][_0x253cc6(0xcac)]},{'x':_0x360c46[_0x253cc6(0x7d9)][0x1]['clientX'],'y':_0x360c46[_0x253cc6(0x7d9)][0x1][_0x253cc6(0xcac)]}),_0x3b40ee=_0x40d480/ initialPinchDistance,_0x13a00f=Math[_0x253cc6(0x808)](Math[_0x253cc6(0x88a)](scratchpadScale*_0x3b40ee,MIN_SCALE),MAX_SCALE),_0x296a73=_0x1dc126['x']-panStart['x'],_0x3d1a08=_0x1dc126['y']-panStart['y'];scratchpadOffset['x']=_0x1dc126['x']-(_0x1dc126['x']-scratchpadOffset['x'])*(_0x13a00f/scratchpadScale),scratchpadOffset['y']=_0x1dc126['y']-(_0x1dc126['y']-scratchpadOffset['y'])*(_0x13a00f/scratchpadScale),scratchpadOffset['x']+=_0x296a73,scratchpadOffset['y']+=_0x3d1a08,scratchpadScale=_0x13a00f,initialPinchDistance=_0x40d480,panStart=_0x1dc126,redrawScratchpad();}}}else{if(isMousePanning){const _0x1dd843=_0x360c46[_0x253cc6(0x204)]-panStart['x'],_0x148891=_0x360c46[_0x253cc6(0xcac)]-panStart['y'];scratchpadOffset['x']+=_0x1dd843,scratchpadOffset['y']+=_0x148891,panStart={'x':_0x360c46[_0x253cc6(0x204)],'y':_0x360c46[_0x253cc6(0xcac)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x500037=getTransformedPoint(_0x360c46[_0x253cc6(0x204)]-_0x1a3134[_0x253cc6(0xd6b)],_0x360c46[_0x253cc6(0xcac)]-_0x1a3134[_0x253cc6(0x328)]);currentStroke[_0x253cc6(0x756)][_0x253cc6(0x298)](_0x500037),redrawScratchpad();}}}}function handlePointerUp(_0x23b287){const _0x283a86=_0x13d91b;_0x23b287['preventDefault']();const _0x920f07=scratchpadCtx[_0x283a86(0xb4e)];isMousePanning&&(isMousePanning=![],_0x920f07[_0x283a86(0x3bb)]['cursor']=_0x283a86(0x283)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x283a86(0x756)][_0x283a86(0x3d7)]>0x1&&(strokes[_0x283a86(0x298)](currentStroke),currentStroke['tool']==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x5d8151=_0x283a86,_0x267a19=strokes[_0x5d8151(0xc52)](_0x503d24=>_0x503d24[_0x5d8151(0x849)]==='trail'&&!_0x503d24[_0x5d8151(0x275)]);if(_0x267a19[_0x5d8151(0x3d7)]>0x0){const _0xf73312=Date[_0x5d8151(0x60e)]();_0x267a19[_0x5d8151(0x5c9)](_0x55fe31=>_0x55fe31[_0x5d8151(0x275)]=_0xf73312),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x38fc7b){const _0x51cf74=_0x13d91b;_0x38fc7b[_0x51cf74(0x452)]();const _0x5e4984=_0x38fc7b['deltaY']*-0.005,_0x4b0991=Math['min'](Math[_0x51cf74(0x88a)](scratchpadScale+_0x5e4984,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x38fc7b[_0x51cf74(0x204)]-(_0x38fc7b[_0x51cf74(0x204)]-scratchpadOffset['x'])*(_0x4b0991/scratchpadScale),scratchpadOffset['y']=_0x38fc7b[_0x51cf74(0xcac)]-(_0x38fc7b[_0x51cf74(0xcac)]-scratchpadOffset['y'])*(_0x4b0991/scratchpadScale),scratchpadScale=_0x4b0991,redrawScratchpad();}function undo(){const _0xdae338=_0x13d91b;strokes['length']>0x0&&(redoStrokes['push'](strokes[_0xdae338(0x524)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x234828=_0x13d91b;redoStrokes[_0x234828(0x3d7)]>0x0&&(strokes['push'](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function _0x1454(){const _0x2299bf=['</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลเกม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','modal-timer-duration-input','transform','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','replace','เรขาคณิต','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','quiz-results-table-body','separate-by-content-from-file-checkbox','กรุณาใส่ชื่อนักเรียน','deselect-all-topics-btn','<p\x20class=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','team','Error\x20joining\x20team\x20quiz:','after','scheduled_pending','answered','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกโปรเจค\x20\x22','exitFullscreen','some','sin','\x20สำเร็จ','parallel-shortcut-editor-modal','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','.regenerate-question-btn','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','444784wilFlt','wasConfident','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','student','คะแนน','readAsDataURL','.game-start-btn','สรุปผลสุดท้าย','QUICK_THINKER','requestFullscreen','\x20คู่\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','q-explanation-','keyup','manual-create-blueprint-btn','back-to-home-manual-release','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behaviorLog','กรุณาป้อนหัวข้อสำหรับใบงาน','isConfidenceScoringEnabled','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','\x22,\x20','sara','การยืนยันตัวตนล้มเหลว','P)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint.pdf','ความเป็นอิสระของเหตุการณ์','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touch','Error\x20updating\x20sort\x20preference:','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบตารางสำหรับ\x20Export','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parentNode','topic','interesting-stats-container','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','isRemedial','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-results-btn','originalQuestionText','quick_thinker','จัดการ','bg-red-200\x20text-red-800','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-500\x20text-white\x20font-semibold\x20mb-3\x22>✂️\x20คุณได้ใช้\x20\x22ตัด\x201\x20ตัวเลือก\x22\x20ไปแล้ว</div>','scoresCalculated','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','\x20ข้อ\x20','เริ่มกิจกรรม:\x20','global-activity-quiz-list','projectName','start-presentation-btn','add-shortcut-tab-btn','update-old-quizzes-btn','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','qIndex','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','wakeLock','.use-hidden-file-shortcut-btn','Error\x20opening\x20quiz\x20editor:','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','อสมการเชิงเส้น','opacity-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','Error\x20joining\x20activity:','.bp-unlink-quiz-btn','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','gain','Blueprint\x202','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-test-upload-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','sync-player-list','<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','postTScore','getContext','game-start-quiz-id','bg-gray-100\x20opacity-70','เกิดข้อผิดพลาดในการบันทึก','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','ตัวเลือก\x20','active','Group\x20Mode','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','rgba(255,\x20255,\x200,\x200.5)','bg-yellow-50','.ideal-answer-input,\x20.correct-response-input','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','125515vivtLn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','numQuestions','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','Invalid\x20response\x20structure\x20from\x20API.','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','getItem','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ผู้เล่น\x20','Failed\x20to\x20end\x20group\x20mode\x20game:','none','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','manage-tab-content','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำอธิบาย...','topic-input','highlighter-size-slider','.highlighter-color-btn','กำลังกลับเข้าสู่เกม\x20','การกระจายและการจัดหมู่','กำลังดึงไฟล์อ้างอิงจากลิงก์...','removeEventListener','หมาป่าเดียวดาย','บันทึกการแก้ไข','status','bulk-confidence-mode-container','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','กรุณาเลือกโปรเจคปลายทาง','scratchpad-close-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','bg-red-500','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','ความคล้ายของรูป','กำลังค้นหากิจกรรม...','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','\x20ชุด)</span>','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','show_results_only','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','มูเตลู','pointerType','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','confidence-input-','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','far\x20fa-star','bg-blue-500\x20hover:bg-blue-600\x20text-white','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','อัตราส่วนและสัดส่วน','presentation-short-answer-input','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','ondragend','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','การลบทศนิยม','not_confident','resultsDisplay','parallel-shortcut-tabs-nav','quiz-status-modal','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','responses','application/pdf','fill_in_the_blank','จำนวนคละ','modal-loop-until-pass-checkbox','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','qType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','student-result-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','เกิดข้อผิดพลาดในการเข้าร่วม:\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','idealAnswer','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','border-indigo-400\x20ring-2\x20ring-indigo-200','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','parallel-shortcut-name-input','undo-btn','\x22\x20title=\x22','fa-user-astronaut\x20text-blue-700','catch','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','stringify','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','quiz-editor-modal','เกิดข้อผิดพลาดในการสร้างรูปภาพ','font-bold\x20text-green-700','Error\x20showing\x20quiz\x20detail\x20view:','removeChild','%PDF','5TkqFcq','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','แก้ไขชื่อหัวข้อย่อย:','G-V90KRM0L63','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','className','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','หมูกระทะจะเยียวยาทุกสิ่ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','fileShortcutsConfig','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22bg-yellow-400\x20text-yellow-900\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22>💰\x20เดิมพันเลือกเอง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/10\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20shadow-md\x20border-b-4\x20border-red-800\x20active:border-b-0\x20active:translate-y-1\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20เดิมพันทุ่มหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/20\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลผู้เล่น','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','Error\x20adding\x20custom\x20topic:','topics.','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','แบบทดสอบนี้ปิดใช้งานอยู่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ฉบับง่าย)\x20','title','Buy\x20Item\x20failed:\x20','.edit-parallel-shortcut-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','answer-grid-container','\x22.\x20','confidence-scoring-description','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','bg-teal-500\x20hover:bg-teal-600\x20text-white','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','indexOf','ไม่สามารถโหลดคลังข้อสอบได้','export-leaderboard-excel-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','specialist','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','numChoices','cancel-parallel-shortcut-edit-btn','.export-pdf-list-btn','badgesCount','topics','substring','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','from','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','modal-timer-duration-container','project-sort-select','save-quiz-btn','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','แก้ไข\x20Points\x20ของ\x20','trim','เส้นตรง:\x20รูปแบบสมการ','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','anonymous','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แก้ไขหัวข้อสำเร็จ','จากไฟล์ที่แนบมานี้,\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-clear-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isLooping','num-questions','results_','Error\x20editing\x20topic:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','additional-shortcuts-modal','map','.start-game-btn','file-shortcut-container','perfect_score','ก่อนเรียน','source_document.pdf','Error\x20during\x20class\x20analysis:','pairedQuizId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectView','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','start-sync-game-btn','next-sync-question-btn','thead\x20.sortable-header','topic_','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','ondragstart','\x20จาก\x20','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','secondChance','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','Error\x20updating\x20pin\x20status:','forceConfident','สาระที่\x201','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','confirm-join-game-btn','commit','typesetPromise','ลบหัวข้อสำเร็จ','bg-white','question-analytics-container','สร้างแบบทดสอบปรนัย','อุณหภูมิและการแปลง','totalQuestions','translate','game-start-modal-title','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','ผู้ควบคุม\x20(ทดสอบ)','contentEditable','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','createElement','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20(\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','พิซซ่าหน้าทุเรียน','กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)','text/plain','disabled\x20bg-gray-400\x20cursor-not-allowed','admin','confident','file-upload-input','round','all','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','กรุณากรอกข้อมูลให้ครบทุกช่อง','Error\x20fetching\x20quiz\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','\x22\x5cn','wager-modal','bg-[#4ADE80]\x20text-green-900\x20font-bold','<button\x20id=\x22next-review-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>เฉลยข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x0a\x20\x20\x20\x20','\x20|\x20ID:\x20','.bp-delete-topic-btn','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','กรุณาพิมพ์คำตอบ','shortcut-id-input','file-shortcut-tabs-nav','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','docs','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','confirmation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','ไม่สามารถบันทึกการตั้งค่าได้',')</button>','gamePin','<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','clientX','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','instantWager','open','findIndex','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-800\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>👻\x20คุณถูกบังคับให้\x20\x22มั่นใจ\x22\x20ในข้อนี้!</div>','input[type=\x22text\x22]','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','modal-passing-score-input','docChanges','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','เกิดข้อผิดพลาดในการลบผลสอบ','bulk-quiz-settings-btn','bank-quiz-list','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','bg-green-200\x20text-green-900\x20font-bold','เกิดข้อผิดพลาดในการนำผู้เล่นออก','player-count','loop-until-pass-checkbox','เกิดข้อผิดพลาดในการติดดาว','short_answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','element','destination-out','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','finishReason','quiz-bank-count','.live-answer-btn','mode','cancel-bp-settings-btn','lesson-loader-text','[data-topic-id]','end-sync-game-btn','แมวเก้าชีวิต','(ก่อนเรียน)\x20','เกิดข้อผิดพลาดในการซื้อ','student-name-input','list','<button\x20data-value=\x22','join','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการสร้างห้องเกม','สมการตรีโกณมิติ','<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>','then','เลือกโปรเจคเพื่อบันทึก','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','close-additional-file-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','options','submit','maxHeight','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-blue-600\x22>','ดาวTikTok','confirm-not-confident','topic-bank-subtopic-name','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','word-break:\x20break-all;','category','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','px)\x20scale(','Failed\x20to\x20apply\x20forceConfident:','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-settings-btn','quiz-type-select','📡\x20ตรวจพบผู้เล่นที่เป็นภัยคุกคาม:\x0a\x0a','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>','dispatchEvent','ON_FIRE','bg-yellow-100','cutOne','สร้างใหม่','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','per-question-timer-container','add-parallel-shortcut-btn','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','<div\x20class=\x22','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','/public/data/syncGames/','กำลังสร้างแบบทดสอบ\x20\x22','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','move','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','เพนกวินไฟ','groups','student-back-to-home-btn','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','player-list-lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','pen-tools-group','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','cancel-blueprint-projects-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x20คะแนน\x20','อัปเดตการตั้งค่าของแบบทดสอบ\x20','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีคำอธิบาย','ดาวสภา','\x20หัวข้อ)','ไม่พบข้อมูลโปรเจค','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','.score','editor-quiz-topic','pen','bg-white\x20text-gray-800','fadeStartTime','text/csv;charset=utf-8;','</tbody></table></div>','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','badges','ท้องฟ้า','editable-text-','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','binom','wagerMultiplier','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','default','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22','Firebase\x20initialization\x20failed:','.live-answer-btn,\x20#sync-submit-btn','```','isJinxed','blueprint-shortcut-container','cancel-team-selection-btn','confidence_single','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','พบข้อสอบ\x20','cancel-quiz-edits-btn','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบโปรเจค\x20\x22','สอบซ่อม','touchend','\x22\x20value=\x22true\x22\x20','resultsSaved','bp-modal-num-choices','push','Blueprint\x20O-NET\x20ป.6','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','pdf','random','00:00','file-topic-input','.doc','$1\x20\x5cfrac','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','สรุปผลการวิเคราะห์:\x5cn','bg-gray-500','เกมเมอร์','manual-bp-project-name','เกิดข้อผิดพลาดในการดึงข้อมูลสถิติ','grid-view-btn','q-image-container-','powerups','.presentation-option','เลือกและเริ่มสร้าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20parallel\x20test\x20from\x20bank:','100%','onkeydown','confirm-passcode-btn','lowerGroupNames','PROMPT_PLACEHOLDER','Error\x20duplicating\x20quiz:','referenceFileUrl','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','preScore','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','submittedAt','scheduled','visible','applicationData','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.save-custom-topic-btn','เพื่อนสนิท','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','answerText','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','leaderboard-quiz','นักล่าฝัน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','Error\x20saving\x20quiz:','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','คู่จิ้น','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','blueprint-project-list','#6366F1','open-sync-scratchpad-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','timer-container','การเข้าตลาดมืดครั้งต่อไปในข้อนี้\x20จะเสียค่าธรรมเนียม\x201\x20Point\x20คุณต้องการเข้าหรือไม่?','Error\x20verifying\x20answers:','คำเตือน\x20(','image/png','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','.topic-name-input','\x20mb-2\x22>','\x22\x20data-q-type=\x22','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','สร้างชุดคำถามจับคู่','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','font-bold\x20text-red-700\x20line-through','เกิดข้อผิดพลาดในการบันทึกโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','.linkedQuizId','บันทึกผลการเรียนของนักเรียน\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','ปริพันธ์ไม่จำกัด','คะแนนเต็ม!','presentation-explanation','leaderboard_','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','export-lesson-pdf-btn','text-indigo-700','blueprint-input-area','progress-student-select','onblur','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','msExitFullscreen','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','ความสัมพันธ์ของมุม','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','http://www.w3.org/2000/svg','sync-short-answer-input','การปัดเศษและประมาณค่า','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','(ก่อนเรียน)','28px','scores-tab-content','unshift','การบวก','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','ai-quiz-app-aefee.firebaseapp.com','playerIndex','blueprintUrl','frac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','มุมและการวัดมุม','.correct-response-input','Error\x20deleting\x20student:','move-quiz-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','print','ผลรวมอนุกรม\x20(Σ)','.ai-content\x20p','สลับไปโหมดนักเรียน','ตารางความถี่','.bp-open-topic-bank-btn','ไม่พบข้อมูลการจับคู่','/preferences/main','/lessons','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','<tr><td\x20colspan=\x22','.file-topic-selection-btn','cdot','wager-slider','\x20|\x20','use-powerup-buyTime','global-quiz-count','show-leaderboard-btn','timerDuration','display','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','\x20ครั้ง)</span></td>','cancel-wager-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','<br>','worksheet-tab','endsWith','bg-red-100\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','buyTime','zIndex','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','top','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','#FFFFFF','modal-message','add-parallel-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','STRING','touchcancel','delete-all-students-btn','📡\x20สแกนเสร็จสิ้น:\x20ไม่พบภัยคุกคาม','firstElementChild','กำลังสร้างแบบทดสอบ:\x20','\x20คะแนน</span></div>','earned-badges-container','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','กฎบวกและกฎคูณ','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','ARRAY','highlighter-tool-btn','learningGaps','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','\x22\x20name=\x22team_answer\x22\x20value=\x22','fa-shield-alt\x20text-gray-600','dblclick','sync','cancel-quiz-bank-btn','modal-shuffle-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','CEOพันล้าน','comparison','classic','name','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mandatory','กฎของโคไซน์','บันทึกการตั้งค่าแล้ว','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','hint-btn','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','comparison-overall-tab','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','webkitRequestFullscreen','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt0\x22>ใช่</label></div>','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','href','bg-gray-400','parallelTestShortcutsConfig','rows','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','fill_in_with_choices','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','pointer-events-none','answers','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','input','student-team-join','point','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quiz-search-input','set','file-default-1','.shortcut-tab-btn','New\x20question\x20detected.\x20Cleaning\x20up.','รูปแบบการให้เหตุผล','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','\x20\x20\x20-\x20','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','setTransform','.move-file-shortcut-dropdown','คำถามถัดไป','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','translate(','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','สร้างคำถามแบบเติมคำในช่องว่าง','🛡️','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','API\x20call\x20failed','.shortcut-btn','createObjectURL','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','insurance','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','border-indigo-500\x20text-indigo-600','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พบ\x20Sync\x20Game!','appendChild','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','anon-show-answer-toggle','</button>','per_question','isScored','content','pointContent','wager-max-points','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-project-btn\x20','.quiz-bank-present-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','pow','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','fa-rocket\x20text-purple-500','Error\x20saving\x20settings:','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20(','.delete-parallel-shortcut-tab-btn','link-topic-input','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันลอการิทึม','export-tutor-pdf-btn','blob','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','</form>','difficultyValue','stem','ยืนยันการกระทำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','lesson-view-modal','#add-question-editor-btn','ไม่พบเอกสารการส่งงานของ\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','.bp-present-btn','เกิดข้อผิดพลาดในการอ่านไฟล์','touchstart','project-name-input','highlighter','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','ฟังก์ชันพหุนาม','โลมาบิน','_opt1\x22\x20name=\x22question','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','style','toggle','text-green-600','focus','.live-summary-tooltip.visible','medium','sum','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','num-choices','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','text-blue-800','#open-additional-file-shortcuts-btn','sync-timer-enable-checkbox','toLowerCase','multiply','fas\x20fa-user-edit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcutTabs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','memory','<div\x20class=\x22my-6\x22>','ภูเขา','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','เนื้อหาสำหรับสอน:\x20','block','cancel-manual-bp-btn','write','length','isFinished','cos','student-name-selection-view','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','projectSortOrder','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','dragstart','\x22\x20data-name=\x22','loopUntilPass','พิสัย','multiple_choice','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','slice','substr','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','removeAttribute','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','line-height:\x201.3;\x20min-width:\x200;','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</label></div>','ปริพันธ์จำกัด','confirm-move-quiz-btn','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','ตรวจทานเฉลยเสร็จสิ้น!','export-leaderboard-image-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','fontSize','.file-shortcut-btn','pin','<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>','.move-shortcut-menu-btn','close','Error\x20clearing\x20linked\x20quiz:','student-quiz-topic','target','values','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','.project-card-container.opacity-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-results-view','วงรี','Error\x20unlinking\x20quiz:','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','ความแปรปรวน','ติดซีรีส์','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','.ai-content\x20li','.remove-parallel-shortcut-from-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-initial-view','groups.','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','leaderboard-quiz-tab-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','.star-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','ยกเลิกการจับคู่สำเร็จ','matching_item','verify-answers-editor-btn','ดวงดาว','เกิดข้อผิดพลาดในการสร้างใบงาน','<button\x20data-tab-id=\x22','load-quiz-btn','jinx','file-input-area','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','พีชคณิตและฟังก์ชัน','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','flex\x20flex-col\x20gap-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passingScore','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','manual-blueprint-modal','disabled','ยังไม่มีนักเรียนส่งงาน','</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','poll','.quiz-bank-parallel-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สุดยอด!\x20ตอบถูกทุกข้อ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','modified','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','topicId','STOP','แก้ไขปุ่มลัด','text-purple-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','จำนวนเชิงซ้อน\x20(เสริม)','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>','answer','#student-project-leaderboard-content\x20thead','lineJoin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','selected-topics-count','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','confirm-rename-quiz-btn','quiz-generation-area','cancel-quiz-edits-btn-footer','Sync\x20Mode','transition','กรุณาใส่ชื่อใหม่',';\x22\x20data-tooltip-target=\x22tooltip-','อกหัก','เน็ตไอดอล','<span\x20class=\x22text-yellow-300\x20ml-1\x22>👑</span>','.move-quiz-btn','sync-matching-select','authed_project_','tan','text-green-800','preventDefault','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bp-modal-difficulty-level-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','black-market-modal','add','ต้นฉบับทั้งหมด','short','user-id-display','bg-green-50','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','use-powerup-insurance','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','approx','confirm-game-start-modal','\x22>ไม่ใช่</p>','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','Error\x20starting\x20team\x20quiz:','.summary-bar-item','color','858246hZPCvX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','Error\x20calling\x20Gemini\x20API:','textarea','shuffle-setting-select','button[type=\x22submit\x22]','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','[*]','reviewQuestionIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กราฟแท่ง\x20กราฟเส้น','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20วินาที','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','allResponses','additional-file-shortcuts-modal','Error\x20saving\x20submission:','ทฤษฎีทวินาม\x20(เบื้องต้น)','classWeaknesses','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','totalPoints','showRankings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','กำลังดึงข้อมูลจากลิงก์...','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.verification-result','lowerGroupResponders','text-indigo-600','</span>\x20','suggestedAnswer','ความชันและเส้นตรง','Error\x20unpairing\x20quizzes:','Error\x20deleting\x20shortcut:','.delete-quiz-btn','name_desc','start-live-race-generated-btn','<li\x20class=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','download','show-results-btn','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','deg','</body></html>','pointsLastQuestion','lineWidth','FileReader\x20error:','.move-parallel-shortcut-item','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','button','cancel-global-activity-btn','analyze-strengths-btn','ราชาคัมแบ็ก','bg-black/20','btn','isSyncGame','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','promise','hint','ชีสเค้ก','blockReason','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','hidden','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','(พยายามอยู่)','grid','confirm-create-project-btn','timer-bar','test','doc','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>','ไฟล์ลัด\x201','เลือกผู้เล่นที่จะ\x20\x22','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-red-800\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>😈\x20คุณโดนคำสาป!\x20(หากตอบผิด\x20บทลงโทษ\x20x2)</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','keys','การประยุกต์เวกเตอร์พื้นฐาน','onloadend','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','preTScore','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','gameData','parallel-default-1','อินเวอร์สของเมทริกซ์','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','text-gray-400\x20hover:text-indigo-600','toLocaleString','ยอดเยี่ยม!','API\x20call\x20failed\x20with\x20status:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confidence-mode-select','\x20<span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20ml-auto\x22>คุณ</span></div>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','upperGroupResponders','การหารเศษส่วน','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20','applicationHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<div\x20id=\x22q-image-container-','Team\x20Quiz','ไม่ผ่าน','กรุณาเลือกคำตอบก่อนครับ','\x22\x0a(ใส่ค่าเดิมที่ถูกต้องลงไป)','1:274192258111:web:4120c9118229b5644dd48a','setFont','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','onerror','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','touchmove','competition','generated','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','setAttribute','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','add-custom-math-topic-btn','\x5cdiv','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','???','เกิดข้อผิดพลาดในการสร้าง:\x20','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน','text-tab','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcuts','contents','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','ondragover','textAlign','cancel-quiz-settings-btn','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','Error\x20fetching\x20project\x20quizzes:','\x20(Player)\x20(ID:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','student-join-game-view','number','show_results_and_answers','Error\x20saving\x20to\x20question\x20bank:','next-question-timed-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','subTopics','reveal-answer-btn','👻\x20ไม่มีผู้เล่นอื่น\x20(ที่ยังไม่ตอบ)\x20ให้เลือกใช้ไอเทมนี้ใส่','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พาราโบลา','คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง','<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20','Market\x20entry\x20payment\x20failed:','shortcut-editor-modal','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','question','%</span>','</span><button\x20data-player-name=\x22','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','กำลังสร้างรูปภาพ...','Error\x20updating\x20custom\x20topic:','.lastAnswerIndex','explanation','anonymous_reveal_end','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่พบข้อมูลข้อสอบหลังเรียน','data:application/vnd.ms-word;charset=utf-8,','รายงานผลคะแนน','.start-presentation-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','_opt','projectOrder','pop','</div>\x0a</div>\x0a','live-player-management','confidence-scoring-checkbox','manual_release','admin-password-modal','ดอทโปรดักต์\x20(dot)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-points-btn\x20text-gray-400\x20hover:text-orange-500\x20transition-colors\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-student-name=\x22','newOptionsPayload','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','practiceProblems','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','createElementNS','\x20รายการสำเร็จ!','พื้นที่สามเหลี่ยม','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','.use-hidden-shortcut-btn','ตัวเลือก\x20ง','คณิตการเงิน/บูรณาการ','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','true','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-emerald-900','</h3>','NEGATIVE_INFINITY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','💰\x20โหมดเดิมพันทำงานอยู่!','powerupUsedThisTurn','#F59E0B','/public/data/liveGames','gradeLevel','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-green-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🔁\x20โอกาสครั้งที่สองทำงานอยู่!</div>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','การหารทศนิยม','autoTable','fill_in_no_choices','artifacts/','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','include-images-checkbox','\x22\x20name=\x22confidence','<span\x20title=\x22ใช้ไอเทม\x22>','true_false','auto','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','underline','usedBuyTime','add-from-global-bank-btn','.answeredCurrentQuestion','body','passcode-error-msg','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','dimmed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','\x22\x20x','use-powerup-secondChance','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','reset-project-order-btn','.pdf','project-detail','ไม่พบไฟล์\x20Test\x20Blueprint','bg-green-500','selected-answer-index-hidden','.open-bp-project-btn','end-game-btn','ตรวจคะแนนใหม่\x20','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<h1></h1>','Error\x20submitting\x20group\x20answer:','รีเซ็ตลำดับโปรเจคแล้ว','Attempting\x20to\x20save\x20game\x20results...','game-start-mode','Powerup\x20use\x20failed:','confidence-choice-btn','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shuffledQuiz','rgba(239,\x2068,\x2068,\x200.7)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','student-progress-content','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x5cge','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p></div>','Error\x20saving\x20lesson\x20to\x20project:','เกิดข้อผิดพลาดในการส่งคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','confirm-quiz-settings-btn','parallel-shortcut-id-input','drop','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','เส้นรอบรูป','กรุณาเลือกชื่อของคุณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','file-default-2','[data-field=\x22subTopic\x22]','enable-passcode-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','หน่วยความยาวและการแปลง','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','attemptNumber','.topic-category','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','ไม่ระบุ','list-view-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','PERSEVERANCE','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','\x20สำเร็จ!','default-1','Failed\x20to\x20kick\x20player\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','บันทึกการตั้งค่าสำเร็จ','Error\x20saving\x20reference\x20URL:','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','Error\x20deleting\x20topic:','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','Error\x20saving\x20blueprint\x20project:','Error\x20starting\x20game:','Error\x20resetting\x20project\x20order:','currentMode','onchange','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','สอบปกติ','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','players.','powerupUsed_q','input[type=\x22radio\x22]:checked','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','dim-overlay','Error\x20generating\x20easy\x20version\x20quiz:','/studentProfiles','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','ตัวเลือก\x20ค','live-short-answer-input','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','shortcutIds','parallel-shortcut-url-input','timestamp','transformOrigin','kick-player-btn','⏳\x20ซื้อเวลา','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','not-found','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','string','-tab','key','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','icon','</div><div\x20class=\x22space-y-2\x22>','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','gameVariant','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','student-quiz-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','AI\x20grading\x20failed:','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เส้นจำนวน','players','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','documentElement','remove','check-answer-btn','getTime','ระบบอสมการ','export-leaderboard-pdf-btn','sort','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20สำเร็จ','project-quizzes-list','fa-dumbbell\x20text-gray-700','BOOLEAN','cancel-export-pdf-btn','description','sync-submit-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','analytics-tab-content','.space-y-1.pl-4','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','API\x20Error\x20Response:','type','text-red-700\x20bg-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','bg-red-700\x20text-white\x20font-bold','ลบผลสอบของ\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปลาทูคะนอง','1530567uJeGLI','ก้อนเมฆ','toLocaleDateString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','incorrect','สำหรับโปรเจค:\x20','ที่พิมพ์ได้\x20จำนวน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x20ชุด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','summary','.color-palette-popup','back-to-dashboard-from-bp-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.edit-hidden-parallel-shortcut-btn','#FCE7F3','exists','sqrt','export-leaderboard-word-btn','textarea[name=\x22team_answer\x22]','currentQuestionIndex','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','</span></p>','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','.move-file-shortcut-item','rgba(79,\x2070,\x20229,\x200.8)','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่มปุ่มลัดจากไฟล์ใหม่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','practice-topic-btn','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-500\x20text-white\x20font-semibold\x20mb-3\x22>🌗\x20คุณได้ใช้\x20\x2250:50\x22\x20ไปแล้ว</div>','now','lastIndexOf','ต้นฉบับ\x201','Copy\x20command\x20failed','ไม่ใช่\x20/\x20ผิด','matching','Error\x20renaming\x20quiz:','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','fontWeight','mouse',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','loader','จำนวนเต็มบวก','ฟังก์ชันราก\x20(root)','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','<div\x20style=\x22','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','isForcedConfident','ลำดับเรขาคณิต\x20(GP)','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','difficulty-level-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','confirm-admin-login-btn','presentation-slide-container','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','Error\x20linking\x20quizzes:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Refunded\x20','createdAt','.color-palette-btn','กำลังอ่านไฟล์\x20Test\x20Blueprint...','\x20/\x20','ความคาดหมาย\x20(Expected\x20value)','-options','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','justification','originalTopic','⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20','answer-counter','project-title','retake-quiz-loop-btn','blur','blueprint-upload-input','.rename-quiz-btn','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','\x22\x20name=\x22drill_answer\x22\x20value=\x22','การเรียงสับเปลี่ยน\x20(Permutation)','has','Error\x20generating\x20parallel\x20post-test:','option','<button\x20data-id=\x22','attempts','N/A','toFixed','ค่าคลาดเคลื่อนของการวัด','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','project-dashboard-view','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','bg-red-50','Error\x20comparing\x20results:','เสือซ่อนเล็บ','กำลังสร้างรูปภาพ\x20(ซ่อนผลลัพธ์)...','uid','lesson-sections-container','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','ข้าวมันไก่พิเศษ','Failed\x20to\x20generate\x20practice\x20test:','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','ยกเลิกการใช้ไอเทม','back-from-results-btn','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ใช่','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-name-display','ไม่มี','price','📡\x20สแกน:\x20ไม่พบผู้เล่นอื่นในห้องครับ','timer-mode-select','จันทร์เจ้า','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analytics','linkedQuizIds','results-display-select','$1\x5c%','.buy-item-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','padding','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','reference-pdf-upload','per-question-options','numeric','/public/data/syncGames','ทศนิยม\x20(ค่าประจำหลัก)','.generate-post-test-btn','.tab-name-display','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-topics-list','#D1FAE5','total','Error\x20submitting\x20team\x20answer:','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20(','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','post-test','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','161qEqNqD','get',')\x22><span\x20style=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointsLastRound','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20generating\x20hybrid\x20quiz:','text-yellow-300','AI\x20Fix\x20Error:','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','error','<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','\x20จุดเรียบร้อยแล้ว','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','ทฤษฎีบทพื้นฐานของแคลคูลัส','removed','ทฤษฎีบทพีทาโกรัสและการประยุกต์','insertBefore','file-shortcut-name-input','.question-editor-item:last-of-type','AI\x20request\x20was\x20blocked.\x20Reason:\x20','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','อนุพันธ์:\x20กฎพื้นฐาน','หมดเวลา!\x20กำลังส่งคำตอบ...','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','center','การคูณเศษส่วน','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','slide-counter','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','shadowColor','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','การลบเศษส่วน','.bp-game-btn','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','.topic-row',')\x22>','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แผนภาพเวนน์','Error\x20deleting\x20custom\x20topic:','สร้างแบบทดสอบ','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','readAsArrayBuffer','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','closePath','ตรีโกณมิติ','passcode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>','🚀\x20คุณเดิมพันหมดหน้าตัก!','shuffle','<li>','bg-blue-100\x20text-blue-800','export-lesson-to-pdf-btn','mousedown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','half_mark_status','ซื้อ\x20\x22','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scale-125','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.move-shortcut-dropdown','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','quiz-bank-modal','เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)','/public/data/teamQuizzes','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','/public/data/blueprintProjects','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','Could\x20not\x20fetch\x20reference\x20file:','คณิตศาสตร์','\x20เป็น\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','mean','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','imageCode','beginPath','checkAnswer','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','bp-modal-quiz-type-select','confirm-wager-btn','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','removeItem','standardTopic','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20(','(นำโด่ง)','#E0E7FF','confidence-modal','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','ไม่พบข้อมูลหัวข้อที่จะบันทึก','Error\x20joining\x20sync\x20game:','<span\x20class=\x22block\x20text-sm\x20','modal-adaptive-quiz-checkbox','on_fire','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','screen_exit','No\x20players\x20data\x20found\x20to\x20save\x20yet.','#student-quiz-leaderboard-content\x20thead','project-list','default-2','.csv','Error\x20saving\x20shortcut:','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','leaderboard','msRequestFullscreen','กำลังสร้างเนื้อหา:\x20','beforeend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','กรุณาตั้งชื่อแท็บใหม่:','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','confirm-team-players-btn','toISOString','transition-all','การแจกแจงปกติและ\x20z-score','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','<p>','nextElementSibling','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','```json','385674SmQnCK','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','moveTo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','s;\x22\x20title=\x22','#ffffff','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','...','ยังไม่ส่ง','Error\x20displaying\x20question\x20bank:','.shortcut-list-item:not(.opacity-50)','แบบเติมคำตอบ','endTime','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>','คนโสด','วงกลม:\x20คอร์ดและเส้นสัมผัส','hiddenOptions_q','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','empty','.view-bp-lesson-btn','GlobalWorkerOptions','48304tqYDxM','create-project-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','.buy-time-confirm-btn','#000000','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','2-digit','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reference_onet.pdf','fill','https://corsproxy.io/?','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','submissions','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','normal','scores','.delete-question-editor-btn','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','tab_','<option\x20value=\x22','classList','.lastAnswerCorrect','behavior-log','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','answering','class','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','.linkedQuizIds','confirm-manual-bp-btn','\x22\x20class=\x22color-palette-btn\x20','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','newCorrectIndex','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','results-tab-content','เรขาคณิตวิเคราะห์','156838ENWXQp','live-options-container','</span></div>','ฟังก์ชันผกผัน','textarea[name=\x22question_single\x22]','ใช่\x20/\x20ถูก','overallGroups','pre-test-checkbox','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-controls',')</span></div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','.copy-quiz-id-list-btn','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','points','100px','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','reference.txt','text-red-500\x20hover:text-red-700','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','.edit-custom-topic-btn','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','document','Failed\x20to\x20get\x20hint:','\x22.\x20Ideal\x20Answer:\x20\x22','ปวดหลัง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','goto-next-question-btn','leq','cancel-bulk-quiz-settings-btn','onload','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','bp-modal-num-questions','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','results-quiz-title','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20(','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','leaderboard-quiz-tab-content','file.txt','📊\x20สถิติการตอบ\x20(จากผู้เล่น\x20','Error\x20saving\x20game\x20results:','ดีมาก','strategyScan','Error\x20generating\x20worksheet:','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','Error\x20clearing\x20all\x20links:','index','.edit-hidden-file-shortcut-btn','\x20ตัวเลือก.\x20','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','quizMode','curriculum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','querySelectorAll','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกไม่สำเร็จ','/public/data/practiceBank','responseSchema','draggable-text','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','members','showInStudentDashboard','<option\x20value=\x22\x22>กำลังโหลด...</option>','\x20(มี:\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','Authentication\x20failed:','jspdf','width\x2060s\x20linear','onSecondChance','isArray','<div\x20class=\x22flex\x20items-center\x20gap-2\x22>','back-to-project-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','lastAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','targetId','verify-answers-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-overall-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','อสมการค่าสัมบูรณ์','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','projectId','.unpair-quiz-btn','.lastAnswerValue','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','สลับไปโหมดผู้ควบคุม','hasOwnProperty','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','กรุณาวาง\x20URL\x20ของบทความก่อน','bg-green-200\x20text-green-800','summary_chart','studentName','export-word-btn','ไม่พบแบบทดสอบ','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','/users/','manual-bp-grade-level','SAFETY','นอนไม่พอ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','ส้มตำปูปลาร้า','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','checked','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','clearRect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','<span\x20title=\x22โดนคำสาป\x22>😈</span>','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','cancel-create-project-btn','closest','กำลังเตรียมไฟล์...','parallel-default-2','playerName','พลังคลื่นเต่า','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','.application-options\x20button','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','มุมพิเศษ\x2045°-45°-90°','input[type=\x22checkbox\x22]','จำนวนข้อ:','student-team-selection-view','showAnswerInAnonymous','stdDev','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','blueprint-topics-list-container','touches','Failed\x20to\x20resume\x20game\x20session:','.flex.justify-between.items-center','#FEE2E2','1000px','404\x20Not\x20Found','สาป','ถูก','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','bp-topic-list-container','.ai-content\x20h3','(หลังเรียน)\x20','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','cloneNode','passing-score-input','label[for=\x22num-questions\x22]','promptFeedback','toDataURL','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behavior-log-tab-btn','.quiz-bank-try-btn','close-additional-shortcuts-btn','teacherSuggestions','bulk-quiz-settings-modal','querySelector','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','quiz-leaderboard-table-container','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-default-','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','dashboardConfig','bulk-shuffle-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','padStart','admin-dashboard','แก้ไขสูตรคณิตศาสตร์\x20','answerValue','tabId','global-quiz-search-input','ลำดับเลขคณิต\x20(AP)','scrollHeight','lessonPlan','min','\x22><span\x20style=\x22','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','offset','circ','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','whole_quiz','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','export-pdf-modal','เกิดข้อผิดพลาดในการลบโปรเจค','\x22\x20data-target-tab-id=\x22','คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)','\x5ctimes','สำหรับหัวข้อ\x20\x27','admin-password-input','บันทึกการตั้งค่าการแสดงผลสำเร็จ','outerHTML','getElementsByTagName',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','arrayBuffer','text-green-700\x20bg-green-100','จำนวนเต็มลบ','Error\x20regenerating\x20question\x20in\x20editor:','live-race','แบบทดสอบซ่อมเสริม','นักวิทยาศาสตร์','txt','rgba(79,\x2070,\x20229,\x201)','_new','มังกรกินจุ','Failed\x20to\x20apply\x20jinx:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','---\x20[คำถามใหม่]\x20---','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','bottom','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','Error\x20analyzing\x20blueprint\x20topics:','startedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','isCorrect','select','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','leaderboard-tab-content','getBoundingClientRect','bg-indigo-600\x20hover:bg-indigo-700','student-progress-view','upper_group_count','open-market-btn','getBBox','parts','highlighter-tools-group','<p><strong>คำตอบของคุณ:</strong>\x20','ความต่อเนื่อง','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กัปตัน','กลุ่ม:\x20','mouseup','.delete-submission-btn','\x20\x20\x20-\x20คำตอบ:\x20','timerMode','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','close-topic-bank-btn','tool','<div\x20class=\x22flex-1\x22></div>','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','สายหมอก','results','กำลังเตรียมไฟล์อ้างอิง...','Error\x20during\x20deep\x20delete:','.quiz-settings-btn','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','splice','.png','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','sync-timer-duration-container','\x22\x20data-topic=\x22','</span></td>','ยังไม่สร้าง','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','Error\x20submitting\x20answer:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','Failed\x20to\x20refund\x20powerup:','AI\x20did\x20not\x20return\x20any\x20content.','text-input-area','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','applicationContent','prev-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','shadowBlur','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','.verification-result-editor','interesting-stats-wrapper','close-student-rankings-btn','การแยกตัวประกอบ','</li>','wager-amount-display','firstScore','workerSrc','innerText','สัญกรณ์วิทยาศาสตร์','fiftyFifty','<i\x20class=\x22fas\x20fa-pen\x22></i>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','</strong></p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','copy','quiz-editor-questions-container','confirmation-message','sync-timer-duration-input','รหัสไม่ถูกต้อง','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','ondrop','questions','generate-from-file-btn','</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lesson-view-content','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','เต่าสายฟ้า','wheel','answeredCurrentQuestion','<i\x20class=\x22fas\x20fa-magic\x22></i>','กรุณาใส่ชื่อโปรเจค','.\x20แต่ละข้อมี\x20','max','parallel-test-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-market-btn\x22\x20class=\x22bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20shadow-md\x20text-sm\x20flex\x20items-center\x20min-h-[54px]\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-store\x20mr-2\x22></i>\x20ตลาดมืด\x20(','ยกเลิกการเชื่อมโยงสำเร็จ','close-game-final-btn','</a>','\x20แล้ว!','fullscreenchange','parseFromString','<span\x20title=\x22','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','\x20ตัวเลือก)','summaryContent','input[name=\x22question_single\x22]:checked','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','Error\x20pairing\x20quizzes:','teacherTips','pollUsedThisTurn','tGain','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','pinnedProjects','lineCap','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','\x20pointer-events-none\x22>','confidence-scoring-toggle','[data-topic-container-id]','.subTopic','generate-from-topic-btn','ส่วนเบี่ยงเบนเฉลี่ย','เกิดข้อผิดพลาดในการปักหมุด','พบ\x20Team\x20Quiz!','[data-topic-id=\x22','live-game','contains','url','<textarea\x20name=\x22question','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','not_generated','add-shortcut-btn','handleGenerateQuizFromBlueprintTopic','ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!','.quiz-bank-delete-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','จุด\x20เส้น\x20ระนาบ','.eraser-size-btn','บักแตงโม','\x20mx-1\x20text-lg\x22></i></span>','duration-300','behavior-log-tab-content','isDefault','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','generated-quiz-actions','<div><input\x20type=\x22radio\x22\x20id=\x22q','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','Error\x20saving\x20manual\x20blueprint\x20project:','.ai-fix-formula-btn','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','Error\x20deleting\x20quiz:','#view-rankings-btn','\x20คนที่ส่ง\x20ตอบถูก\x20(','.kick-player-btn-sync','pre-test','stopPropagation','lower_group_count','$$$1$','เปิดใช้งาน','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','add-student-btn','.quiz-bank-move-btn','border-green-300\x20bg-green-50','bp-modal-question-complexity-select','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','แบบปรนัย\x204\x20ตัวเลือก','getScreenCTM','สร้างโปรเจคสำเร็จ!','เพิ่มปุ่มลัดใหม่','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','text-white','แผนภาพกล่อง\x20(box\x20plot)','dragover','ผ่านฉลุย','274192258111','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','live-submit-short-answer-btn','request','dfrac','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','สถิติและความน่าจะเป็น','floor','realName','เกี่ยวกับหัวข้อ\x20\x22','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','.bp-view-analysis-btn','\x5cpm','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','student-project-leaderboard-content','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student-passcode-input','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','newOptions','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','temp-loader-results','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-shortcut_','topicName','replaceChild','พอใช้','สายลับจับบ้านเล็ก','destroy','กำลังอ่านไฟล์อ้างอิง...','Error\x20fetching\x20student\x20rankings:','/public/data/quizzes/','questionIndex','includeImages','editable-quiz-topic','Error\x20deleting\x20project:','NUMBER','อินฟลูเอนเซอร์','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','/public/data/projects','worksheet-topic-input','rename-quiz-input','behavior-log-container','.live-answer-btn,\x20#live-submit-short-answer-btn','ท็อปฟอร์ม','เลือกและบันทึก','entries','getElementById','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','.topic-actions-edit','lesson-plan-title','\x0a---\x0a','selected-answer-index-hidden-wager','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','trail-tool-btn','additional-file-shortcuts-list','ตั้งเวลา\x20(เปิด)','currentPoints','bg-gray-200\x20text-gray-700','save-bp-reference-btn','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22แก้ไข\x20Points\x20ด้วยมือ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pen\x20text-xs\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','Error\x20processing\x20file\x20for\x20AI:','per-question-text','.admin-try-quiz-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','overline','<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>','ไม่สามารถโหลดรายการโปรเจคได้','bulk-loop-until-pass-checkbox','comparison-individual-tab','\x22\x20value=\x22false\x22\x20','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','เงินงวด\x20(อนุกรมเงินงวด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','q-text-','mouseleave','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','scores-tab-btn','link-tab','เกิดข้อผิดพลาดในการลบแบบทดสอบ','เกิดข้อผิดพลาดในการลบนักเรียน','value','cancel-quiz-status-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','เส้นตรง:\x20ขนาน/ตั้งฉาก','\x20(สำหรับ\x20','mixed','กรุณาเลือกคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-project-name-btn','visibilitychange','copy-quiz-id-btn',',\x20r=','quadraticCurveTo','inactive','podium','Error\x20saving\x20project\x20order:','text-gray-300\x20hover:text-white','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','ไม่พบโปรเจคที่ต้องการลบ','\x20ใหม่...','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','start-game-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','ระยะจากจุดถึงเส้นตรง','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','view-my-progress-btn','<button\x20data-quiz-id=\x22','instructions','.topic-actions-view','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','selectedTopicNames','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','close-presentation-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','📊\x20สถิติ:\x20ยังไม่มีใครตอบข้อนี้เลยครับ!','wasJinxed','Error\x20loading\x20user\x20preferences:','<svg','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','.delete-student-btn','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ปุ่มลัดทั้งหมด','เกิดข้อผิดพลาด:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','POST','quiz-end-time','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','sync-timer-countdown','blueprint-projects-modal','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','finished','บังคับมั่นใจ','bg-[#EF4444]\x20text-white\x20font-bold','latestScore','every','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','use-powerup-cutOne','group','parse','.file-shortcut-tab-btn','#10B981','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','การคูณทศนิยม','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','.submittedAt','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','update','All\x20groups\x20have\x20finished.\x20Ending\x20game.','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','main-correct-answer-display','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','blueprint-settings-modal','bank-input-area','.pin-project-btn','confirm-link-quiz-btn','Error\x20updating\x20project\x20color:','next-drill-btn','ตัวแทนแห่งดวงจันทร์','correctResponse','<div\x20class=\x22p-2\x20rounded-md\x20','.delete-file-shortcut-tab-btn','reveal_at_end','</div></div></div>','ซามูไรสายเดี่ยว','ข้อที่\x20','.confidence-choice-btn','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>','bp-modal-include-images-checkbox','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ceil','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','publicLeaderboard','พื้นที่สี่เหลี่ยม','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-delete-btn','.sort-indicator','bold','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','parent','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','.isScored','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quizType','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','cancel-file-shortcut-edit-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','order','insertAdjacentHTML','cancel-passcode-btn','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','parallel-shortcut-container','manual-bp-content','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','scratchpad-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','th-TH','.pair-quiz-btn','\x20to\x20','🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง','size','market-current-points','อนุพันธ์:\x20ผลคูณ/ผลหาร','sync-variant-selector','isBlackMarketEnabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','ยอดนักสืบ','\x20ตอบ','raw','rgba(59,\x20130,\x20246,\x200.7)','startsWith','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณาเลือกสถานะ','admin-try-quiz-btn','#e21b3c','resize','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','starred','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','เวกเตอร์และเมทริกซ์\x20(เสริม)','Error\x20calculating\x20final\x20scores:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','สมการเหตุผล\x20(rational)','แอบชอบ','join-group-activity-btn','td,\x20th','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','.shortcut-list-item','bp-reference-file-url','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','อยู่ในสาระการเรียนรู้ใด:','ความเท่ากันทุกประการของสามเหลี่ยม','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','#confidence-input-','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','delete','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','text-green-600\x20font-bold','#open-additional-shortcuts-btn','powerups.','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','กรุณาพิมพ์คำตอบของกลุ่ม','file-shortcut-url-input','blueprint-project-manager-view','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','modal-confidence-mode-container','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','adaptive-quiz-checkbox','...\x22)?','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>','team-quiz-topic','geq','countdown-display','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','times','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','correct','standard','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.generate-easy-version-btn','จิงโจ้สโลว์ไลฟ์','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.start-live-race-btn','student-name-select','No\x20unanswered\x20players\x20found.\x20Waiting...','text-red-600','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','div','Error\x20starting\x20sync\x20game:','เพิ่ม\x20','กำลังจับคู่...','.delete-hidden-file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','passcode-prompt-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionType','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','การบวกทศนิยม','#E5E7EB','Error\x20verifying\x20answers\x20in\x20editor:','market-item-list','modal-confidence-scoring-checkbox','score-distribution-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','export-image-btn','สายตาสั้น','PERFECT_SCORE','ลิมิต','.txt','file-shortcut-id-input','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','\x22>ใช่</p>','ค.ร.น.\x20(LCM)','รักแรกพบ','.delete-hidden-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','\x5cle','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20(','mode-switcher-btn','mainTopics','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','questionText','choices_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','shortcut-reference-url-input','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','open-scratchpad-btn','</p><p><strong>เฉลย:</strong>\x20','smooth','find','lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','pen-tool-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','teachingContent','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','</tr>','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(16,\x20185,\x20129,\x200.7)','text-red-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','student-rankings-modal','position','เกิดข้อผิดพลาดในการเปลี่ยนสี','submission','หมีขั้วโลกใต้','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','Error\x20updating\x20old\x20quizzes:','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','getAttributeNS','items','lesson-loader','bulk-results-display-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wasForced','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','ไม่ใช่','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-project-btn','ไม่มีผู้ตอบตัวเลือกนี้','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','pointsAwarded','generate-from-text-btn','generate-from-parallel-test-btn','.project-card-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.edit-shortcut-btn','ฟังก์ชันแบบชิ้นส่วน','confidenceMode','activeGameSession','modal-close-btn','Error\x20fetching\x20projects\x20for\x20move:','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','results-table','confirm-confident','เกิดข้อผิดพลาดในการบันทึกลำดับ','additional-parallel-shortcuts-list','แผนการสอน:\x20','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20confirming\x20players:','หยุดระบบจับเวลาหรี่หน้าจอ','<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','ระยะเวลา\x20(วินาที):','เหมียวขี้เซา','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','localeCompare','bg-green-200','.text-indigo-200','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','border-gray-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จับคู่แบบทดสอบสำเร็จ!','wager-all-in-btn','select[name=\x22question_single\x22]','.edit-quiz-btn','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','isPasscodeEnabled','Error\x20in\x20generating\x20from\x20files:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','leaderboard-tab','Blueprint\x201','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','เกิดข้อผิดพลาดในการเข้าร่วมเกม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','no-projects-msg','bg-green-100','perseverance','บันทึกคำถามใหม่\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','close-lesson-plan-modal-btn','<button\x20data-shortcut-id=\x22','ไก่ฟ้าพญาลอ','application/json','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','แบบทดสอบนี้หมดเวลาแล้ว','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','warn','ตรวจพบการออกจากหน้าจอครบ\x20','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','file-shortcut-editor-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','use-powerup-fiftyFifty','Error\x20saving\x20user\x20preference:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถเริ่มเกมได้','save-game-results-checkbox','displayName','sync-player-management','timed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','complexityValue','text-gray-500','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','project-passcode-input','click','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการอัปเดตสถานะ','รอผู้ควบคุมไปข้อต่อไป...','\x22...','หัวข้อที่สร้างเอง','.answers','ย้ายแบบทดสอบไปโปรเจคอื่น','text-blue-700\x20bg-blue-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','API\x20Error\x20Body:','math-topics-checkbox-container','</select>','bar','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','live-game-view','thead','(ไม่มีชื่อ)','scratchpad-options','generationConfig','กฎของไซน์','save-quiz-edits-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','ฟังก์ชันสัมพัทธ์\x20(rational)','โหลดข้อมูลเพื่อนใหม่จาก\x20Server...','screen','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','ตัวเลือก\x20ข','ลบโปรเจคสำเร็จแล้ว','bestScore','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','0\x20(รอโบนัส)','neq','.delete-custom-topic-btn','itemId','\x20<span\x20class=\x22block\x20text-sm\x20mt-1\x20font-normal\x20text-red-900\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','setAttributeNS','กรุณาป้อนรหัสแบบทดสอบ','Enter','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','actions-container-','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','correctAnswerIndex','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','🌗\x2050:50','loader-text','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','(เลือกแล้ว\x20','เพิ่มรายการที่เลือก','<tr>','project-id-display','ตัวเลือก\x20ก','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','startTime','data','กรุณาสร้างบทเรียนก่อน','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22font-bold\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','starred-project','Failed\x20to\x20generate\x20lesson:','<i\x20class=\x22fas\x20fa-save\x22></i>','lesson-plan-modal','bg-gray-50','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','scale','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionId','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keydown','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','ค่าเสื่อมราคา','preTestId','bg-green-600\x20text-white\x20ring-4\x20ring-green-300',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','timer-duration-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','ปริมาตร/ความจุและการแปลง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ใช้\x20\x22คำสาป\x22\x20กับ\x20','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','.sortable-header','pointercancel','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ฮัลค์','สถานะไม่ชัดเจน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','memoryContent','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ได้ตอบ','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','quiz-id-input','save-visibility-settings-btn','cancel-test-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','shortcut-blueprint-url-input','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','#open-additional-parallel-shortcuts-btn','student-progress','includes','\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20flex\x20justify-center\x20mt-8\x20pb-8\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-full\x20text-xl\x20shadow-lg\x20transition-transform\x20transform\x20hover:scale-105\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-out-alt\x22></i>\x20จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','powerupUsed','.bp-edit-topic-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','afterend','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.bp-create-content-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','bulk-confidence-mode-select','topic-bank-list','mousemove','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','ฐานนิยม','ผ่าน','\x20จุด','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','.move-parallel-shortcut-dropdown','bg-[#DCFCE7]\x20text-green-900','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20in\x20all\x20blueprint\x20projects.','shortcut-modal-title','\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x20border-2\x20border-black/10\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20w-8\x20inline-block\x20text-center\x22>','ไม่สามารถเพิ่มนักเรียนได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-game-start-btn','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','เมทริกซ์:\x20บวก/คูณ','market-timer-bar','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','global-activity-modal','.bp-create-onet-quiz-btn','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','fixed','canvas','</option>','generate-from-blueprint-btn','Game\x20results\x20already\x20saved.\x20Skipping.','text','use-powerup-wagerMultiplier','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','lastAnswerCorrect','ownerSVGElement','minHeight','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','กำลังสแกนหาแบบทดสอบเก่า...','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','shortcutOrder','กำลังอัปเดตแบบทดสอบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-stretch\x20gap-2\x20w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถประมวลผลข้อมูลได้','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','bg-yellow-200','modal-confidence-mode-select','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','schedule','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','โดเมนและเรนจ์','result','separate-by-content-checkbox','default-','toDate','กิจกรรมสิ้นสุดลงแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','student-quiz-leaderboard-tab','จำนวนคู่:','คะแนนเต็ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','commonMistakes','classStrengths','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','<div\x20class=\x22answer-space\x22></div>','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','Successfully\x20removed\x20','fileShortcutTabs','ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)','สมการราก\x20(radical)','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','close-lesson-view-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','candidates','right','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','back-to-dashboard-btn','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','results-table-container','currentTarget','bp-modal-passing-score-input','pointerup','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','abs','จำนวนและการดำเนินการ','.tab-name-input','ครัวซองต์','file-shortcut_','previousElementSibling','ยืนยันการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','นักเดินทาง','bulk-confidence-scoring-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','.totalPoints','#DBEAFE','bg-black/10','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','flex','lesson-view-title','p-2\x20bg-black/10\x20rounded-md','isStarred','create-project-modal','close-comparison-modal-btn','ปริมาตรรูปทรงสามมิติ','</h4>','parseInline','ยอดเยี่ยม','.edit-points-btn','helvetica','Error\x20listening\x20for\x20starred\x20quizzes:','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','reduce','both','text-gray-200','restore','fix\x20the\x20option','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','หน่วยมวล/น้ำหนักและการแปลง','presentation-ai-result','(กำลังไล่ตาม)','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','เกิดข้อผิดพลาดในการบันทึกผลคะแนน','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','ส่งแล้ว','asc','/public/data/projects/','split','scrollY','ไม่พบโปรเจค','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','referenceUrl','Error\x20saving\x20file\x20shortcut:','quizId','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','</span>','input[name=\x22status-option\x22]:checked','innerHTML','.ideal-answer-input','playerNicknames','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20value=\x22','.pointsLastQuestion','เกิดข้อผิดพลาดในการจับคู่','ส่งคำตอบ','.generate-content-btn','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','ร้อยละประยุกต์','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','message','หัวข้อหลักใหม่','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','ระยะเวลา\x20(นาที):','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','show-in-student-dashboard-checkbox','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','transition-transform','file-topics-list-container','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','keyConcepts','ไม่สามารถโหลดข้อมูลอันดับได้','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','grabbing','visibilityState','เกิดข้อผิดพลาดในการแก้ไข','.group','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','การแปลงรูปอัตลักษณ์','/public/data/customMathTopics','progress-project-select','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','upperGroupNames','change','\x20link(s)\x20for\x20quiz\x20ID:\x20','quiz-leaderboard-table','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','.group\x5c/dropdown-file','confirm-bulk-quiz-settings-btn','สายลมแห่งโชคชะตา','text-yellow-800','ชื่อโปรเจคห้ามว่าง','getPage','lesson-plan-content','\x5csqrt{$1}','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','start-quiz-btn','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','comparison-modal','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','cursor','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.edit-file-shortcut-btn','.project-card-content','ผิด','แบบทดสอบจากคลังส่วนตัว','bp-add-topic-btn','json','bg-green-100\x20text-green-800','showImproveButton','reference.pdf','ย้ายแบบทดสอบสำเร็จ','modal-timer-mode-select','ondblclick','handleGeneratePracticeTest','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>','อัตราและอัตราหน่วย','settings','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','buy-time-quantity-input','text-gray-300','comparison-individual-content','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','การจัดกลุ่มข้อมูล','.group\x5c/dropdown','</p><div>','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','close-lesson-plan-modal-footer-btn','นักดนตรี','ลบแบบทดสอบสำเร็จแล้ว','ดาบพิฆาตอสูร','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','passcode-input-container','กำลังสร้างแบบทดสอบจากหัวข้อ...','Error\x20saving\x20shortcut\x20config:','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','</div></div>','การวัด','eraser','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','save-blueprint-as-project-btn','results-tab','\x22\x20สำเร็จ!','Unexpected\x20API\x20response\x20structure:','addEventListener','bp-project-title','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollX','enable-black-market-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','การลบ','input[type=\x22radio\x22][value=\x22','เพิ่มหัวข้อ\x20\x22','project-search-input','confidence-mode-container','str','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','link-input-area','questionDisplayedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','blueprint-options-container','show-final-results-btn','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','กำลังอ่านและเตรียมไฟล์...','(^|[^\x5c\x5c])\x5cb','text-indigo-800','student-quiz-leaderboard-content','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','bg-green-100\x20font-bold','คะแนนเฉลี่ย','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','filter','quiz-results','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','onclick','bank-tab','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','/players','name_asc','stroke','quiz-form','เซียนสมองไว','แก้ไขคะแนน\x20Points\x20ของ\x20\x22','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','force-math-checkbox','admin-view','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','ตอบถูกทุกข้อในแบบทดสอบนี้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','นำแบบทดสอบออกจากคลังนี้แล้ว','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','\x5ccdot','webkitExitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','fix-lesson-latex-btn','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','topic-quiz-bank-modal','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-600\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>⏳\x20คุณมีเวลาโบนัสในข้อนี้!</div>','.question-editor-item[data-q-index=\x22','.parallel-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','ผู้พิชิตดาว','generated-quiz-container','แฟนทิพย์','marginBottom','globalSettings','strength-weakness-analysis-container','ฟังก์ชันเชิงเส้นและกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','P/อัน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกไฟล์ก่อน','sync-timer-bar','custom-math-topic-input','generate-from-link-btn','prod','.quiz-result-card','.move-parallel-shortcut-menu-btn','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','md:col-span-1','สร้างคำถามแบบใช่/ไม่ใช่','presentation-scratchpad-btn','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','.file-shortcut-btn[data-id=\x22','ฮิสโตแกรม','math-topic-search-input','false','.delete-svg-btn','score','ดีเทอร์มิแนนต์','หน่วยเวลาและการคำนวณเวลา','-\x20ข้อ\x20','export-pdf-btn','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20(p=','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','%)\x0a','\x22\x20data-pre-test-id=\x22','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','.draggable-text','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','รากที่สองและที่สาม','มือปราบสายรุ้ง','added','offsetWidth','submission-status-chart','check-presentation-answer-btn','confirm-delete-btn','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','line-through\x20text-red-700','show_pass_fail_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','shortcut-name-input','</td>','additional-shortcuts-list','bg-red-100','clientY','คัดลอกแบบทดสอบสำเร็จ','/submissions','MathJax','ม้าดีดกะโหลก','คนดีศรีสยาม','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','ไฮเพอร์โบลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','user','execCommand','การหาร','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','dataset','height','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','topic-tab','พื้นที่ใต้กราฟ/ระหว่างกราฟ','label','\x20รายการ...','width','.bp-generate-lesson-btn','\x22\x20ให้เป็นคำถามประเภท\x20\x22','shortcutId','null','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20saving\x20file\x20shortcut\x20config:','scrollIntoView','fixedData','additional-parallel-shortcuts-modal','แม่น้ำ','scratchpad-canvas','\x27Sarabun\x27,\x20sans-serif','.question-editor-item','\x20ข้อ...','เปลี่ยนชื่อโปรเจคสำเร็จ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','latestSubmittedAt','next-review-question-btn','match','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','correctAnswer','student-reading-area','\x22\x20จำนวน\x20','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','select-all-topics-btn','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','students','<tr\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x22\x20style=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-shortcut-item','คัดลอกรหัสแล้ว!','(ตามมาติดๆ)','\x20ชิ้น)','perQuestionStats','อัปเดตสถานะสำเร็จ','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','worksheet-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','border-red-300\x20bg-red-50','question-complexity-select','Invalid\x20response\x20structure\x20from\x20AI.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','log','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.status','isAnonymousRevealed','anon-settings-container','/public/data/blueprintProjects/','cancel-move-quiz-btn','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','นักประดิษฐ์','ส่วนเบี่ยงเบนมาตรฐาน','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.remove-shortcut-from-tab-btn','trail','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','คุณแน่ใจว่าต้องการลบแท็บนี้?','hasPerfectScoreBonus','.edit-question-btn','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','สร้างคำถามใหม่\x201\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timeBonusThisQuestion','quiz','OBJECT','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','save-settings-btn','https://drive.google.com/uc?export=download&id=','bp-modal-shuffle-setting-select','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','freeMarketEntryUsed_q','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','confidence','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','เกมสิ้นสุดลงแล้ว','fromCharCode','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','perfect_score_status','/public/data/quizzes','\x22><i\x20class=\x22fas\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','add-file-shortcut-tab-btn','จากเนื้อหาต่อไปนี้:\x20\x22','แก้ระบบสมการด้วยเมทริกซ์','desc','next-question-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.pen-size-btn','ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่','use-powerup-','หนอนหนังสือ','Original\x20quiz\x20not\x20found','admin-testing','ควรปรับปรุง','globalCompositeOperation','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปิดใช้งาน','file-topics-list','\x27\x20ในหัวข้อ\x20\x27','<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20','checkbox','realScore','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','AI\x20Formula\x20Fix\x20Error:','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','mjx-container','/questionBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','บทเรียนเรื่อง:\x20','<div\x20class=\x22space-y-4\x22>','\x20แบบทดสอบลงในคลังสำเร็จ!','bg-green-400\x20text-white\x20font-bold','.use-hidden-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quiz-settings-modal','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','/public/data/learnedFixes','date_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','analytics-tab-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x22>','เกิดข้อผิดพลาดในการโหลดโปรเจค','setItem','temp-loader-text-results','move-quiz-project-select','<div\x20class=\x22my-2\x22>','ไม่พบแบบทดสอบสำหรับรหัสนี้',':</span><span>','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-blue-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🛡️\x20ประกันภัยทำงานอยู่!\x20(ตอบผิดไม่เสียคะแนน)</div>','แท็บใหม่','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22>(','คำถามดิบ:\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bg-blue-100','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20(','project-passcode-modal','🛡️\x20ประกันภัยเริ่มทำงาน!\x20หากข้อนี้ตอบผิด\x20บทลงโทษทั้งหมดจะเป็น\x200','สิงโตยิ้ม','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','.scratchpad-content-wrapper','export-worksheet-pdf-btn','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','modal-results-display-select','left','ref','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rename-quiz-modal','แคลคูลัสเบื้องต้น','viewBox','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save','\x5cfrac{$1}{$2}','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','save-shortcut-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20updating\x20project\x20name:','Failed\x20to\x20create/update\x20submission\x20record:','pointermove','ทะเล','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','จอมเวทย์ขนมหวาน','first_try_ace','text-red-300\x20hover:text-red-100','.answered','overflow','topic-input-area','การบวกเศษส่วน','แก้ไขปุ่มลัดจากไฟล์','bg-yellow-300\x20text-yellow-900\x20font-bold','fa-pen','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','ตะวันฉาย','.pen-color-btn','\x22\x20data-quiz-id=\x22','Error\x20updating\x20quiz\x20settings:','delete-svg-btn','MathJax\x20typeset\x20error\x20(analytics):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','solution','อยู่ในหัวข้อหลักใด:','240','<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เข้าสู่ช่วงเฉลยคำตอบ\x20(Review)</button>','parentElement','ย้าย','px,\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','เกิดข้อผิดพลาดในการใช้ไอเทม','.delete-hidden-shortcut-btn','textContent','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','devicePixelRatio','files','toString','back-to-student-initial-btn','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','strokeStyle','fullscreenElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','.delete-bp-project-btn','_blank','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','tooltipTarget','ป่าไม้','กุ้งเต้นแร้งกา'];_0x1454=function(){return _0x2299bf;};return _0x1454();}function updateUndoRedoButtons(){const _0x471f2f=_0x13d91b;document[_0x471f2f(0x916)]('undo-btn')[_0x471f2f(0x426)]=strokes[_0x471f2f(0x3d7)]===0x0,document[_0x471f2f(0x916)]('redo-btn')[_0x471f2f(0x426)]=redoStrokes[_0x471f2f(0x3d7)]===0x0;}function openScratchpad(_0x5173de,_0x49b0fd){const _0x38c906=_0x13d91b,_0x170f32=document[_0x38c906(0x916)](_0x38c906(0x9bc)),_0x3399d5=document[_0x38c906(0x916)]('scratchpad-question'),_0x4c6426=document['getElementById'](_0x38c906(0xaca)),_0x517a79=document['getElementById'](_0x38c906(0x750));_0x3399d5[_0x38c906(0xbc4)]=_0x5173de[_0x38c906(0x3a9)]||_0x5173de['questionText'],_0x4c6426[_0x38c906(0xbc4)]=_0x49b0fd['map']((_0x136225,_0x484c78)=>'<div>'+String[_0x38c906(0xd18)](0x41+_0x484c78)+'.\x20'+_0x136225+'</div>')[_0x38c906(0x22e)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x170f32[_0x38c906(0x734)][_0x38c906(0x5cf)](_0x38c906(0x4ad)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x38c906(0xcaf)])MathJax['typesetPromise']([_0x3399d5,_0x4c6426]);}function openBlueprintQuizSettings(){const _0x3b7387=_0x13d91b,_0x4f55e6=document[_0x3b7387(0x916)](_0x3b7387(0x98d)),_0x48671f=blueprintPageSettings||(currentProjectData?currentProjectData[_0x3b7387(0xc10)]:{})||{};document[_0x3b7387(0x916)](_0x3b7387(0x6da))[_0x3b7387(0x93c)]=_0x48671f[_0x3b7387(0x9b1)]||document['getElementById'](_0x3b7387(0x247))[_0x3b7387(0x93c)],document[_0x3b7387(0x916)](_0x3b7387(0x456))[_0x3b7387(0xbc4)]=document[_0x3b7387(0x916)](_0x3b7387(0x622))[_0x3b7387(0xbc4)],document[_0x3b7387(0x916)]('bp-modal-difficulty-level-select')[_0x3b7387(0x93c)]=_0x48671f['difficultyValue']||document[_0x3b7387(0x916)]('difficulty-level-select')[_0x3b7387(0x93c)],document[_0x3b7387(0x916)](_0x3b7387(0x8d4))[_0x3b7387(0xbc4)]=document['getElementById']('question-complexity-select')[_0x3b7387(0xbc4)],document[_0x3b7387(0x916)](_0x3b7387(0x8d4))[_0x3b7387(0x93c)]=_0x48671f[_0x3b7387(0xab1)]||document[_0x3b7387(0x916)]('question-complexity-select')['value'],document[_0x3b7387(0x916)](_0x3b7387(0x768))[_0x3b7387(0x93c)]=_0x48671f[_0x3b7387(0x10f)]||document[_0x3b7387(0x916)](_0x3b7387(0x1ab))[_0x3b7387(0x93c)],document['getElementById']('bp-modal-passing-score-input')[_0x3b7387(0x93c)]=_0x48671f[_0x3b7387(0x423)]||document[_0x3b7387(0x916)](_0x3b7387(0x7e7))[_0x3b7387(0x93c)],document['getElementById'](_0x3b7387(0x297))[_0x3b7387(0x93c)]=_0x48671f[_0x3b7387(0x192)]||document[_0x3b7387(0x916)]('num-choices')['value'],document['getElementById']('bp-modal-shuffle-setting-select')[_0x3b7387(0x93c)]=_0x48671f[_0x3b7387(0x6b6)]||document['getElementById'](_0x3b7387(0x471))[_0x3b7387(0x93c)],document[_0x3b7387(0x916)]('bp-modal-include-images-checkbox')[_0x3b7387(0x7bc)]=_0x48671f[_0x3b7387(0x908)]||document[_0x3b7387(0x916)](_0x3b7387(0x54c))[_0x3b7387(0x7bc)],_0x4f55e6['classList'][_0x3b7387(0x5cf)]('hidden');}function handleSaveBlueprintPageSettings(){const _0x3e0c5e=_0x13d91b;blueprintPageSettings={'quizType':document[_0x3e0c5e(0x916)]('bp-modal-quiz-type-select')['value'],'difficultyValue':document[_0x3e0c5e(0x916)](_0x3e0c5e(0x456))[_0x3e0c5e(0x93c)],'complexityValue':document[_0x3e0c5e(0x916)](_0x3e0c5e(0x8d4))[_0x3e0c5e(0x93c)],'numQuestions':document[_0x3e0c5e(0x916)]('bp-modal-num-questions')[_0x3e0c5e(0x93c)],'passingScore':document[_0x3e0c5e(0x916)](_0x3e0c5e(0xb89))[_0x3e0c5e(0x93c)],'numChoices':document[_0x3e0c5e(0x916)](_0x3e0c5e(0x297))[_0x3e0c5e(0x93c)],'shuffle':document[_0x3e0c5e(0x916)](_0x3e0c5e(0xd11))[_0x3e0c5e(0x93c)],'includeImages':document['getElementById'](_0x3e0c5e(0x99e))[_0x3e0c5e(0x7bc)]},showMessage('บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว'),document['getElementById']('blueprint-settings-modal')[_0x3e0c5e(0x734)][_0x3e0c5e(0x459)]('hidden');}function listenForParallelTestShortcuts(){const _0x5162a8=_0x13d91b,_0x43fc9e=doc(db,_0x5162a8(0xc75),'parallelTestShortcutsConfig');onSnapshot(_0x43fc9e,_0x57fe4e=>{const _0x26fe2b=_0x5162a8;let _0x13d1c1=[],_0x304818=[],_0x35dec3={};if(_0x57fe4e['exists']()){const _0x554daf=_0x57fe4e[_0x26fe2b(0xaf3)]();_0x13d1c1=_0x554daf[_0x26fe2b(0x4f4)]||[],_0x304818=_0x554daf['parallelShortcutTabs']||[],_0x35dec3=_0x554daf['parallelShortcutOrder']||{};}!_0x304818[_0x26fe2b(0xa3d)](_0x267fa7=>_0x267fa7['id']==='all')&&_0x304818[_0x26fe2b(0x2fa)]({'id':_0x26fe2b(0x1e8),'name':_0x26fe2b(0x45a),'isDefault':!![]}),!_0x13d1c1[_0x26fe2b(0xa3d)](_0x53c212=>_0x53c212['id']===_0x26fe2b(0x4c7))&&_0x13d1c1['unshift']({'id':_0x26fe2b(0x4c7),'name':_0x26fe2b(0x610),'url':'','isDefault':!![]}),!_0x13d1c1[_0x26fe2b(0xa3d)](_0x5757e3=>_0x5757e3['id']===_0x26fe2b(0x7c6))&&_0x13d1c1[_0x26fe2b(0x2fa)]({'id':_0x26fe2b(0x7c6),'name':'ต้นฉบับ\x202','url':'','isDefault':!![]}),parallelTestShortcuts=_0x13d1c1,parallelShortcutTabs=_0x304818,parallelShortcutOrder=_0x35dec3,renderParallelTestShortcuts(),!document['getElementById'](_0x26fe2b(0xccb))[_0x26fe2b(0x734)][_0x26fe2b(0x8ae)](_0x26fe2b(0x4ad))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x28a797=_0x13d91b,_0x5d4c82=doc(db,_0x28a797(0xc75),_0x28a797(0x35f));try{await setDoc(_0x5d4c82,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0xb5b38f){console[_0x28a797(0x689)]('Error\x20saving\x20parallel\x20shortcut\x20config:',_0xb5b38f);}}function renderAdditionalParallelShortcutsModal(){const _0x442030=_0x13d91b,_0x240e01=document[_0x442030(0x916)](_0x442030(0x148)),_0x270470=document[_0x442030(0x916)]('additional-parallel-shortcuts-list');if(!_0x240e01||!_0x270470)return;_0x240e01[_0x442030(0xbc4)]=parallelShortcutTabs['map'](_0x4c0202=>{const _0x52b9c5=_0x442030,_0x4db813=_0x4c0202['id']===activeParallelShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x4c0202['id']+_0x52b9c5(0xe08)+(_0x4db813?'border-indigo-500\x20text-indigo-600':_0x52b9c5(0xb78))+_0x52b9c5(0x952)+_0x4c0202[_0x52b9c5(0x34b)]+_0x52b9c5(0x7bb)+_0x4c0202[_0x52b9c5(0x34b)]+_0x52b9c5(0xdf0)+(!_0x4c0202[_0x52b9c5(0x8bf)]?_0x52b9c5(0x41a)+_0x4c0202['id']+'\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x442030(0x22e)]('');const _0x42b0b9=parallelShortcutTabs[_0x442030(0xa3d)](_0x36b195=>_0x36b195['id']===activeParallelShortcutTabId);let _0x314ccb=_0x42b0b9?.[_0x442030(0x8bf)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x442030(0xc52)](_0x44309d=>(_0x42b0b9?.[_0x442030(0x5b1)]||[])[_0x442030(0xb28)](_0x44309d['id']));const _0x327be1=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x314ccb[_0x442030(0x5d4)]((_0x11f760,_0x33cd7f)=>{const _0x987d1d=_0x442030,_0x35718e=_0x327be1[_0x987d1d(0x188)](_0x11f760['id']),_0x35db68=_0x327be1[_0x987d1d(0x188)](_0x33cd7f['id']);return(_0x35718e===-0x1?Infinity:_0x35718e)-(_0x35db68===-0x1?Infinity:_0x35db68);}),_0x270470[_0x442030(0xbc4)]=_0x314ccb[_0x442030(0x1b0)](_0x230559=>{const _0x1b51bc=_0x442030,_0x2ae701=_0x230559['url']?'🔁':'🔗',_0x304f08=parallelShortcutTabs[_0x1b51bc(0xc52)](_0xaff38f=>!_0xaff38f[_0x1b51bc(0x8bf)]),_0x294b4e=_0x42b0b9[_0x1b51bc(0x8bf)]&&_0x304f08[_0x1b51bc(0x3d7)]>0x0?_0x1b51bc(0xb31)+_0x304f08['map'](_0x2f253d=>_0x1b51bc(0xad3)+_0x230559['id']+_0x1b51bc(0x813)+_0x2f253d['id']+'\x22>'+_0x2f253d[_0x1b51bc(0x34b)]+_0x1b51bc(0x88f))['join']('')+_0x1b51bc(0x4ca):'';return _0x1b51bc(0x731)+_0x230559['id']+_0x1b51bc(0x6cb)+_0x2ae701+'\x20'+_0x230559[_0x1b51bc(0x34b)]+_0x1b51bc(0x363)+_0x230559['id']+_0x1b51bc(0x85c)+_0x230559['id']+_0x1b51bc(0xde2)+(!_0x230559[_0x1b51bc(0x8bf)]?_0x1b51bc(0x640)+_0x230559['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x1b51bc(0xc78)+(!_0x42b0b9[_0x1b51bc(0x8bf)]?_0x1b51bc(0xa98)+_0x230559['id']+_0x1b51bc(0x7d4):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x294b4e+_0x1b51bc(0x8e6);})[_0x442030(0x22e)]('')||_0x442030(0x433),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x566430=_0x13d91b;document[_0x566430(0x77f)]('.parallel-shortcut-tab-btn')[_0x566430(0x5c9)](_0x5cc471=>{const _0x2f6248=_0x566430;_0x5cc471[_0x2f6248(0xc55)]=_0x11aa8e=>{const _0x12ebfe=_0x2f6248;activeParallelShortcutTabId=_0x11aa8e[_0x12ebfe(0xb88)]['dataset'][_0x12ebfe(0x803)],renderAdditionalParallelShortcutsModal();},_0x5cc471[_0x2f6248(0xc0c)]=_0x2bbbd6=>{const _0x12598f=_0x2f6248,_0x204aac=_0x2bbbd6[_0x12598f(0xb88)][_0x12598f(0x7f4)]('.tab-name-input');_0x2bbbd6['currentTarget'][_0x12598f(0x7f4)](_0x12598f(0x671))[_0x12598f(0x734)][_0x12598f(0x459)](_0x12598f(0x4ad)),_0x204aac['classList'][_0x12598f(0x5cf)](_0x12598f(0x4ad)),_0x204aac[_0x12598f(0x3be)](),_0x204aac[_0x12598f(0x833)]();};}),document['querySelectorAll']('#parallel-shortcut-tabs-nav\x20.tab-name-input')[_0x566430(0x5c9)](_0x3ccc93=>{const _0x9e5ba3=_0x566430,_0xa16a29=()=>{const _0x24879a=_0x28c2,_0x4eabdd=_0x3ccc93[_0x24879a(0x7c4)](_0x24879a(0xc6f))[_0x24879a(0xcba)][_0x24879a(0x803)],_0x28b048=parallelShortcutTabs[_0x24879a(0xa3d)](_0x14d3ca=>_0x14d3ca['id']===_0x4eabdd);_0x28b048&&(_0x28b048[_0x24879a(0x34b)]=_0x3ccc93[_0x24879a(0x93c)][_0x24879a(0x1a0)]()||_0x28b048[_0x24879a(0x34b)],saveParallelShortcutConfig());};_0x3ccc93['onblur']=_0xa16a29,_0x3ccc93[_0x9e5ba3(0x2b0)]=_0x36b43a=>{const _0x5d34c2=_0x9e5ba3;if(_0x36b43a[_0x5d34c2(0x5bc)]===_0x5d34c2(0xae1))_0x3ccc93[_0x5d34c2(0x637)]();};}),document[_0x566430(0x77f)](_0x566430(0x3a0))[_0x566430(0x5c9)](_0xf54c25=>_0xf54c25[_0x566430(0xc55)]=_0x41706d=>{const _0xf9499f=_0x566430,_0x4ee789=_0x41706d[_0xf9499f(0xb88)][_0xf9499f(0xcba)]['tabId'];showConfirmation(_0xf9499f(0xd05),()=>{const _0xb7b2b=_0xf9499f;parallelShortcutTabs=parallelShortcutTabs[_0xb7b2b(0xc52)](_0x482a9a=>_0x482a9a['id']!==_0x4ee789),delete parallelShortcutOrder[_0x4ee789];if(activeParallelShortcutTabId===_0x4ee789)activeParallelShortcutTabId='all';saveParallelShortcutConfig();});}),document[_0x566430(0x77f)](_0x566430(0x49c))['forEach'](_0x17cdb3=>_0x17cdb3['onclick']=_0x4c88bb=>{const _0x34502f=_0x566430;_0x4c88bb['preventDefault']();const {shortcutId:_0x4bc516,targetTabId:_0x3ebbb4}=_0x4c88bb[_0x34502f(0xb88)][_0x34502f(0xcba)],_0xd89fc7=parallelShortcutTabs[_0x34502f(0xa3d)](_0x24f7b1=>_0x24f7b1['id']===_0x3ebbb4);_0xd89fc7&&!_0xd89fc7[_0x34502f(0x5b1)]['includes'](_0x4bc516)&&(_0xd89fc7[_0x34502f(0x5b1)][_0x34502f(0x298)](_0x4bc516),saveParallelShortcutConfig());}),document[_0x566430(0x77f)](_0x566430(0x40c))[_0x566430(0x5c9)](_0x491163=>_0x491163['onclick']=_0x4a01f8=>{const _0x5cb79e=_0x566430,_0x32ea07=_0x4a01f8[_0x5cb79e(0xb88)][_0x5cb79e(0xcba)][_0x5cb79e(0xcc5)],_0x43fdfb=parallelShortcutTabs[_0x5cb79e(0xa3d)](_0xf0f387=>_0xf0f387['id']===activeParallelShortcutTabId);_0x43fdfb&&!_0x43fdfb[_0x5cb79e(0x8bf)]&&(_0x43fdfb[_0x5cb79e(0x5b1)]=_0x43fdfb[_0x5cb79e(0x5b1)][_0x5cb79e(0xc52)](_0x3cd7f7=>_0x3cd7f7!==_0x32ea07),saveParallelShortcutConfig());}),document[_0x566430(0x77f)](_0x566430(0xc80))[_0x566430(0x5c9)](_0x8f7296=>_0x8f7296[_0x566430(0xc55)]=_0x33a5d5=>{const _0x12f3b0=_0x566430;_0x33a5d5['stopPropagation']();const _0x3ed258=_0x33a5d5['currentTarget'][_0x12f3b0(0x705)];document[_0x12f3b0(0x77f)](_0x12f3b0(0xb3c))[_0x12f3b0(0x5c9)](_0x5ecf27=>_0x5ecf27[_0x12f3b0(0x734)][_0x12f3b0(0x459)](_0x12f3b0(0x4ad))),_0x3ed258[_0x12f3b0(0x734)][_0x12f3b0(0x5cf)]('hidden');});const _0x19aa73=document[_0x566430(0x916)](_0x566430(0xa71));let _0x2b51f2=null;_0x19aa73['ondragstart']=_0x86f4a9=>{const _0x124d54=_0x566430;_0x2b51f2=_0x86f4a9[_0x124d54(0x3fe)][_0x124d54(0x7c4)]('.shortcut-list-item');if(_0x2b51f2)setTimeout(()=>_0x2b51f2[_0x124d54(0x734)][_0x124d54(0x459)]('opacity-50'),0x0);},_0x19aa73[_0x566430(0x143)]=()=>{const _0x4dc498=_0x566430;_0x2b51f2&&(_0x2b51f2[_0x4dc498(0x734)][_0x4dc498(0x5cf)](_0x4dc498(0xe12)),_0x2b51f2=null);},_0x19aa73[_0x566430(0x4f8)]=_0x24f7c1=>{_0x24f7c1['preventDefault']();},_0x19aa73[_0x566430(0x87e)]=_0x71b89b=>{const _0x2d188f=_0x566430;_0x71b89b[_0x2d188f(0x452)]();if(_0x2b51f2){const _0x1f4d3f=[..._0x19aa73[_0x2d188f(0x77f)](_0x2d188f(0x713))][_0x2d188f(0xba9)]((_0x2bd020,_0x32cd27)=>{const _0x1021db=_0x2d188f,_0x5c7a90=_0x32cd27[_0x1021db(0x836)](),_0x7a22dd=_0x71b89b[_0x1021db(0xcac)]-_0x5c7a90[_0x1021db(0x328)]-_0x5c7a90['height']/0x2;return _0x7a22dd<0x0&&_0x7a22dd>_0x2bd020[_0x1021db(0x80b)]?{'offset':_0x7a22dd,'element':_0x32cd27}:_0x2bd020;},{'offset':Number[_0x2d188f(0x53d)]})['element'];_0x1f4d3f==null?_0x19aa73[_0x2d188f(0x38c)](_0x2b51f2):_0x19aa73[_0x2d188f(0x691)](_0x2b51f2,_0x1f4d3f);const _0x5e71a=[..._0x19aa73['querySelectorAll'](_0x2d188f(0x9e1))]['map'](_0x6fa047=>_0x6fa047[_0x2d188f(0xcba)][_0x2d188f(0xcc5)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x5e71a,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x1f2c8f=_0x13d91b,_0x4f36ea=prompt(_0x1f2c8f(0x6fa),_0x1f2c8f(0xd58));_0x4f36ea&&_0x4f36ea[_0x1f2c8f(0x1a0)]()&&(parallelShortcutTabs[_0x1f2c8f(0x298)]({'id':'tab_'+Date[_0x1f2c8f(0x60e)](),'name':_0x4f36ea['trim'](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x12399b=_0x13d91b,_0x1d4a2f=document[_0x12399b(0x916)](_0x12399b(0x9b9)),_0x5de78c=document[_0x12399b(0x916)](_0x12399b(0xa71)),_0x5211e6=document[_0x12399b(0x916)]('parallel-shortcuts-loading-msg');if(_0x5211e6)_0x5211e6['classList'][_0x12399b(0x459)]('hidden');if(!_0x1d4a2f||!_0x5de78c)return;const _0x445ede=parallelTestShortcuts['slice'](0x0,0x4),_0x2ee78a=parallelTestShortcuts['slice'](0x4);_0x1d4a2f[_0x12399b(0xbc4)]=_0x445ede[_0x12399b(0x1b0)](_0x584506=>{const _0x4830c0=_0x12399b,_0x45b607=_0x584506[_0x4830c0(0x8af)]&&_0x584506[_0x4830c0(0x8af)][_0x4830c0(0x1a0)]()!=='',_0xe80587=_0x45b607?_0x4830c0(0x186):_0x4830c0(0xa9e),_0x44365d=_0x45b607?'🔁':'🔗',_0x3b07b6=!_0x584506[_0x4830c0(0x8bf)]?_0x4830c0(0x640)+_0x584506['id']+_0x4830c0(0x19e):'';return _0x4830c0(0x9d5)+_0x584506['id']+_0x4830c0(0x114)+_0xe80587+_0x4830c0(0x5e9)+_0x44365d+'\x20'+_0x584506[_0x4830c0(0x34b)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x584506['id']+_0x4830c0(0xe1c)+_0x3b07b6+_0x4830c0(0xaa9);})[_0x12399b(0x22e)](''),_0x2ee78a[_0x12399b(0x3d7)]>0x0&&(_0x1d4a2f[_0x12399b(0xbc4)]+=_0x12399b(0x521)),_0x2ee78a['length']>0x0?_0x5de78c['innerHTML']=_0x2ee78a['map'](_0xfa7832=>_0x12399b(0x396)+(_0xfa7832[_0x12399b(0x8af)]?'🔁':'🔗')+'\x20'+_0xfa7832[_0x12399b(0x34b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xfa7832['id']+_0x12399b(0xbc7)+_0xfa7832['id']+_0x12399b(0x74f)+(!_0xfa7832[_0x12399b(0x8bf)]?_0x12399b(0x640)+_0xfa7832['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x12399b(0x206))[_0x12399b(0x22e)](''):_0x5de78c[_0x12399b(0xbc4)]=_0x12399b(0xb05);}function openParallelTestShortcutEditor(_0x388d0b=null){const _0x55ceb5=_0x13d91b,_0x57d6bd=document[_0x55ceb5(0x916)](_0x55ceb5(0xdcc)),_0x40fb5f=document['getElementById']('parallel-shortcut-modal-title'),_0xc76f5f=document[_0x55ceb5(0x916)](_0x55ceb5(0x57d)),_0x3e96a9=document['getElementById'](_0x55ceb5(0x15d)),_0x2ebfc0=document[_0x55ceb5(0x916)](_0x55ceb5(0x5b2));if(_0x388d0b){const _0x225d68=parallelTestShortcuts[_0x55ceb5(0xa3d)](_0x17cf1d=>_0x17cf1d['id']===_0x388d0b);if(!_0x225d68)return;_0x40fb5f[_0x55ceb5(0xd9d)]=_0x55ceb5(0x758),_0xc76f5f[_0x55ceb5(0x93c)]=_0x225d68['id'],_0x3e96a9['value']=_0x225d68[_0x55ceb5(0x34b)],_0x2ebfc0['value']=_0x225d68[_0x55ceb5(0x8af)]||'';}else _0x40fb5f['textContent']=_0x55ceb5(0x695),_0xc76f5f[_0x55ceb5(0x93c)]='',_0x3e96a9['value']='',_0x2ebfc0[_0x55ceb5(0x93c)]='';_0x57d6bd[_0x55ceb5(0x734)][_0x55ceb5(0x5cf)]('hidden');}async function saveParallelTestShortcutChanges(){const _0x245efe=_0x13d91b,_0x163569=document['getElementById'](_0x245efe(0x57d))[_0x245efe(0x93c)],_0x2808a5=document[_0x245efe(0x916)](_0x245efe(0x15d))[_0x245efe(0x93c)][_0x245efe(0x1a0)](),_0x32d463=document[_0x245efe(0x916)]('parallel-shortcut-url-input')['value'][_0x245efe(0x1a0)]();if(!_0x2808a5){showMessage(_0x245efe(0xd1a));return;}const _0x1e6f3b={'id':_0x163569||_0x245efe(0x8fe)+Date[_0x245efe(0x60e)](),'name':_0x2808a5,'url':_0x32d463,'isDefault':_0x163569[_0x245efe(0x9cd)]('parallel-default-')};let _0x9748e1;_0x163569?_0x9748e1=parallelTestShortcuts['map'](_0x4fd643=>_0x4fd643['id']===_0x163569?_0x1e6f3b:_0x4fd643):_0x9748e1=[...parallelTestShortcuts,_0x1e6f3b];try{const _0x41a41d=doc(db,_0x245efe(0xc75),'parallelTestShortcutsConfig');await setDoc(_0x41a41d,{'shortcuts':_0x9748e1},{'merge':!![]}),document[_0x245efe(0x916)](_0x245efe(0xdcc))['classList']['add'](_0x245efe(0x4ad));}catch(_0x2005cd){console[_0x245efe(0x689)]('Error\x20saving\x20parallel\x20shortcut:',_0x2005cd),showMessage(_0x245efe(0xfd));}}async function handleParallelTestShortcutClick(_0x1a0c16){const _0x2e31b0=_0x13d91b,_0x32504b=parallelTestShortcuts[_0x2e31b0(0xa3d)](_0x2ca186=>_0x2ca186['id']===_0x1a0c16);if(!_0x32504b)return;if(!_0x32504b[_0x2e31b0(0x8af)]||_0x32504b[_0x2e31b0(0x8af)][_0x2e31b0(0x1a0)]()===''){openParallelTestShortcutEditor(_0x1a0c16);return;}const _0x9e5529=document[_0x2e31b0(0x916)](_0x2e31b0(0x619)),_0x228ec7=document[_0x2e31b0(0x916)](_0x2e31b0(0xae9));document[_0x2e31b0(0x916)](_0x2e31b0(0x444))[_0x2e31b0(0x734)][_0x2e31b0(0x5cf)](_0x2e31b0(0x4ad)),document[_0x2e31b0(0x916)](_0x2e31b0(0xc72))[_0x2e31b0(0xbc4)]='',_0x9e5529['classList'][_0x2e31b0(0x5cf)]('hidden'),_0x228ec7[_0x2e31b0(0xd9d)]=_0x2e31b0(0x4d6);try{let _0x76e630;_0x32504b[_0x2e31b0(0x8af)]['toLowerCase']()[_0x2e31b0(0xb28)]('.txt')?_0x76e630='source_document.txt':_0x76e630=_0x2e31b0(0x1b5);const _0x28bfc8=await fetchFileFromUrl(_0x32504b[_0x2e31b0(0x8af)],_0x76e630);await handleGenerateParallelTest(_0x28bfc8);}catch(_0x1758fe){console[_0x2e31b0(0x689)]('Error\x20processing\x20parallel\x20shortcut\x20click:',_0x1758fe),showMessage(_0x2e31b0(0x96c)+_0x1758fe[_0x2e31b0(0xbd0)]),_0x9e5529[_0x2e31b0(0x734)][_0x2e31b0(0x459)](_0x2e31b0(0x4ad));}}function initializeScratchpadCanvas(){const _0x3ea20f=_0x13d91b,_0x41b0a6=document[_0x3ea20f(0x916)](_0x3ea20f(0xccd)),_0x2d7989=document[_0x3ea20f(0x7f4)](_0x3ea20f(0xd67));if(!_0x41b0a6||!_0x2d7989)return;scratchpadCtx=_0x41b0a6[_0x3ea20f(0xe24)]('2d',{'willReadFrequently':!![]});const _0xbf728a=window['devicePixelRatio']||0x1,_0x4b99f2=_0x2d7989[_0x3ea20f(0x836)]();_0x41b0a6[_0x3ea20f(0xcc2)]=_0x4b99f2[_0x3ea20f(0xcc2)]*_0xbf728a,_0x41b0a6[_0x3ea20f(0xcbb)]=_0x4b99f2[_0x3ea20f(0xcbb)]*_0xbf728a,_0x41b0a6[_0x3ea20f(0x3bb)][_0x3ea20f(0xcc2)]=_0x4b99f2['width']+'px',_0x41b0a6['style'][_0x3ea20f(0xcbb)]=_0x4b99f2[_0x3ea20f(0xcbb)]+'px',scratchpadCtx[_0x3ea20f(0xafe)](_0xbf728a,_0xbf728a),scratchpadCtx[_0x3ea20f(0x43d)]=_0x3ea20f(0x1e7),scratchpadCtx[_0x3ea20f(0x8a1)]=_0x3ea20f(0x1e7),_0x41b0a6[_0x3ea20f(0x124)]('pointerdown',handlePointerDown),_0x41b0a6[_0x3ea20f(0x124)]('pointermove',handlePointerMove),_0x41b0a6[_0x3ea20f(0x124)](_0x3ea20f(0xb8a),handlePointerUp),_0x41b0a6[_0x3ea20f(0x124)](_0x3ea20f(0xb13),handlePointerUp),_0x41b0a6['removeEventListener'](_0x3ea20f(0x885),handleWheel),_0x41b0a6[_0x3ea20f(0x124)](_0x3ea20f(0x3b3),handlePointerDown),_0x41b0a6[_0x3ea20f(0x124)](_0x3ea20f(0x4e4),handlePointerMove),_0x41b0a6[_0x3ea20f(0x124)](_0x3ea20f(0x294),handlePointerUp),_0x41b0a6[_0x3ea20f(0xc2d)]('pointerdown',handlePointerDown),_0x41b0a6[_0x3ea20f(0xc2d)](_0x3ea20f(0xd79),handlePointerMove),_0x41b0a6['addEventListener'](_0x3ea20f(0xb8a),handlePointerUp),_0x41b0a6[_0x3ea20f(0xc2d)](_0x3ea20f(0xb13),handlePointerUp),_0x41b0a6[_0x3ea20f(0xc2d)](_0x3ea20f(0x885),handleWheel,{'passive':![]}),_0x41b0a6[_0x3ea20f(0xc2d)]('touchstart',handlePointerDown,{'passive':![]}),_0x41b0a6[_0x3ea20f(0xc2d)](_0x3ea20f(0x4e4),handlePointerMove,{'passive':![]}),_0x41b0a6[_0x3ea20f(0xc2d)](_0x3ea20f(0x294),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x41e58c=_0x13d91b,_0x46fb43=document[_0x41e58c(0x916)](_0x41e58c(0x9bc)),_0x485faa=document[_0x41e58c(0x916)](_0x41e58c(0x750));_0x485faa[_0x41e58c(0xbc4)]=_0x41e58c(0x831)+scratchpadHighlighterSize+_0x41e58c(0x762);const _0x492cd8=document['getElementById'](_0x41e58c(0xa40)),_0x309600=document[_0x41e58c(0x916)]('eraser-tool-btn'),_0x468405=document[_0x41e58c(0x916)](_0x41e58c(0x91d)),_0x3a49c2=document[_0x41e58c(0x916)](_0x41e58c(0x33d)),_0x2f78b2=document['getElementById'](_0x41e58c(0x264)),_0x26fdc8=document[_0x41e58c(0x916)](_0x41e58c(0x83d)),_0x4169d0=document[_0x41e58c(0x916)]('eraser-tools-group'),_0x4b1de0=[_0x492cd8,_0x309600,_0x468405,_0x3a49c2];document[_0x41e58c(0x916)](_0x41e58c(0x12c))[_0x41e58c(0xc2d)](_0x41e58c(0xab7),()=>_0x46fb43[_0x41e58c(0x734)][_0x41e58c(0x459)](_0x41e58c(0x4ad))),document[_0x41e58c(0x916)]('reset-view-btn')[_0x41e58c(0xc2d)](_0x41e58c(0xab7),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById'](_0x41e58c(0x1a8))['addEventListener'](_0x41e58c(0xab7),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x41e58c(0x916)](_0x41e58c(0x15e))[_0x41e58c(0xc2d)](_0x41e58c(0xab7),undo),document[_0x41e58c(0x916)]('redo-btn')[_0x41e58c(0xc2d)]('click',redo);const _0xe416b4=_0x4c2550=>{const _0xcb9ef5=_0x41e58c;_0x4b1de0[_0xcb9ef5(0x5c9)](_0x53e044=>_0x53e044[_0xcb9ef5(0x734)]['remove'](_0xcb9ef5(0x101))),_0x4c2550[_0xcb9ef5(0x734)]['add'](_0xcb9ef5(0x101)),_0x2f78b2['classList'][_0xcb9ef5(0x459)](_0xcb9ef5(0x4ad)),_0x26fdc8['classList'][_0xcb9ef5(0x459)](_0xcb9ef5(0x4ad)),_0x4169d0[_0xcb9ef5(0x734)][_0xcb9ef5(0x459)](_0xcb9ef5(0x4ad));if(activeTool==='pen'||activeTool===_0xcb9ef5(0xd02))_0x2f78b2[_0xcb9ef5(0x734)]['remove'](_0xcb9ef5(0x4ad));else{if(activeTool==='highlighter')_0x26fdc8[_0xcb9ef5(0x734)]['remove'](_0xcb9ef5(0x4ad));else activeTool===_0xcb9ef5(0xc27)&&_0x4169d0['classList'][_0xcb9ef5(0x5cf)](_0xcb9ef5(0x4ad));}};_0x492cd8['addEventListener'](_0x41e58c(0xab7),()=>{const _0x3a9cae=_0x41e58c;activeTool=_0x3a9cae(0x273),_0xe416b4(_0x492cd8);}),_0x309600[_0x41e58c(0xc2d)](_0x41e58c(0xab7),()=>{const _0x3eb331=_0x41e58c;activeTool=_0x3eb331(0xc27),_0xe416b4(_0x309600);}),_0x468405['addEventListener'](_0x41e58c(0xab7),()=>{activeTool='trail',_0xe416b4(_0x468405);}),_0x3a49c2[_0x41e58c(0xc2d)](_0x41e58c(0xab7),()=>{activeTool='highlighter',_0xe416b4(_0x3a49c2);}),_0x2f78b2[_0x41e58c(0x77f)](_0x41e58c(0xd2b))[_0x41e58c(0x5c9)](_0x330851=>{const _0x49a2be=_0x41e58c;_0x330851[_0x49a2be(0xc2d)](_0x49a2be(0xab7),_0x1c212f=>{const _0x37f1a5=_0x49a2be;scratchpadPenSize=parseInt(_0x1c212f[_0x37f1a5(0x3fe)][_0x37f1a5(0xcba)]['size'],0xa),_0x2f78b2[_0x37f1a5(0x77f)]('.pen-size-btn')['forEach'](_0xe7ea52=>_0xe7ea52['classList']['remove'](_0x37f1a5(0x101))),_0x1c212f[_0x37f1a5(0x3fe)][_0x37f1a5(0x734)][_0x37f1a5(0x459)](_0x37f1a5(0x101));});}),_0x4169d0['querySelectorAll'](_0x41e58c(0x8ba))[_0x41e58c(0x5c9)](_0x76f629=>{_0x76f629['addEventListener']('click',_0x5cf8e4=>{const _0x532e80=_0x28c2,_0x36d4b9=_0x5cf8e4[_0x532e80(0xb88)];scratchpadEraserSize=parseInt(_0x36d4b9[_0x532e80(0xcba)][_0x532e80(0x9c2)],0xa),_0x4169d0[_0x532e80(0x77f)](_0x532e80(0x8ba))[_0x532e80(0x5c9)](_0x2e70d4=>_0x2e70d4[_0x532e80(0x734)][_0x532e80(0x5cf)](_0x532e80(0x101))),_0x36d4b9[_0x532e80(0x734)][_0x532e80(0x459)](_0x532e80(0x101));});}),_0x2f78b2[_0x41e58c(0x77f)](_0x41e58c(0xd8c))[_0x41e58c(0x5c9)](_0x488e4c=>{const _0x4726ae=_0x41e58c;_0x488e4c['addEventListener'](_0x4726ae(0xab7),_0x415cca=>{const _0x541489=_0x4726ae;scratchpadPenColor=_0x415cca[_0x541489(0x3fe)][_0x541489(0xcba)]['color'],_0x2f78b2[_0x541489(0x77f)]('.pen-color-btn')[_0x541489(0x5c9)](_0x55a849=>_0x55a849[_0x541489(0x734)][_0x541489(0x5cf)](_0x541489(0x101))),_0x415cca['target'][_0x541489(0x734)]['add']('active');});}),_0x26fdc8[_0x41e58c(0x77f)](_0x41e58c(0x120))[_0x41e58c(0x5c9)](_0x16e934=>{const _0x33382d=_0x41e58c;_0x16e934[_0x33382d(0xc2d)](_0x33382d(0xab7),_0x1df2fc=>{const _0x5d975f=_0x33382d;scratchpadHighlighterColor=_0x1df2fc[_0x5d975f(0x3fe)]['dataset'][_0x5d975f(0x468)],_0x26fdc8['querySelectorAll'](_0x5d975f(0x120))[_0x5d975f(0x5c9)](_0x4cf11f=>_0x4cf11f[_0x5d975f(0x734)][_0x5d975f(0x5cf)](_0x5d975f(0x101))),_0x1df2fc[_0x5d975f(0x3fe)]['classList'][_0x5d975f(0x459)](_0x5d975f(0x101));});});const _0x53ca8b=document[_0x41e58c(0x916)](_0x41e58c(0x11f)),_0x44097c=document['getElementById']('highlighter-size-value');_0x53ca8b[_0x41e58c(0xc2d)](_0x41e58c(0x36a),_0x503f8d=>{const _0x566dff=_0x41e58c,_0x2bbeea=parseInt(_0x503f8d[_0x566dff(0x3fe)]['value'],0xa);scratchpadHighlighterSize=_0x2bbeea,_0x44097c[_0x566dff(0xd9d)]=_0x2bbeea;}),window['addEventListener'](_0x41e58c(0x9d3),()=>{const _0x5a4ca8=_0x41e58c;!_0x46fb43[_0x5a4ca8(0x734)][_0x5a4ca8(0x8ae)](_0x5a4ca8(0x4ad))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x13d91b(0x1b3),'name':_0x13d91b(0xb72),'description':_0x13d91b(0xc63),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':'quick_thinker','name':_0x13d91b(0xc5c),'description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x13d91b(0x6eb),'name':_0x13d91b(0x913),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':'fa-fire\x20text-orange-500'},'FIRST_TRY_ACE':{'id':_0x13d91b(0xd7e),'name':_0x13d91b(0x8de),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x13d91b(0x39d)},'COMEBACK_KING':{'id':'comeback_king','name':_0x13d91b(0x4a3),'description':_0x13d91b(0xdcd),'icon':_0x13d91b(0x342)},'SPECIALIST':{'id':_0x13d91b(0x190),'name':'ผู้เชี่ยวชาญ','description':_0x13d91b(0x5a0),'icon':_0x13d91b(0x160)},'PERSEVERANCE':{'id':_0x13d91b(0xa93),'name':'ผู้ไม่ยอมแพ้','description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x13d91b(0x5d9)}},firebaseConfig={'apiKey':_0x13d91b(0xca3),'authDomain':_0x13d91b(0x2fd),'projectId':'ai-quiz-app-aefee','storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':_0x13d91b(0x8df),'appId':_0x13d91b(0x4df),'measurementId':_0x13d91b(0x16e)},appId=typeof __app_id!=='undefined'?__app_id:'ai-quiz-generator-v3',adminView=document['getElementById'](_0x13d91b(0xc61)),studentView=document[_0x13d91b(0x916)]('student-view'),projectDashboardView=document['getElementById'](_0x13d91b(0x646)),projectDetailView=document[_0x13d91b(0x916)]('project-detail-view'),quizResultsView=document[_0x13d91b(0x916)](_0x13d91b(0x404)),projectList=document['getElementById'](_0x13d91b(0x6f0)),noProjectsMsg=document[_0x13d91b(0x916)](_0x13d91b(0xa91)),projectTitle=document[_0x13d91b(0x916)]('project-title'),projectIdDisplay=document['getElementById'](_0x13d91b(0xaef)),studentList=document['getElementById']('student-list'),messageModal=document[_0x13d91b(0x916)]('message-modal'),modalMessage=document[_0x13d91b(0x916)](_0x13d91b(0x32c)),createProjectModal=document[_0x13d91b(0x916)](_0x13d91b(0xb9f)),adminPasswordModal=document['getElementById'](_0x13d91b(0x529)),confirmationModal=document[_0x13d91b(0x916)](_0x13d91b(0x1fd)),userIdDisplay=document[_0x13d91b(0x916)](_0x13d91b(0x45c)),topicTab=document[_0x13d91b(0x916)](_0x13d91b(0xcbe)),textTab=document[_0x13d91b(0x916)](_0x13d91b(0x4f2)),topicInputArea=document['getElementById'](_0x13d91b(0xd82)),textInputArea=document[_0x13d91b(0x916)](_0x13d91b(0x860)),manageTab=document[_0x13d91b(0x916)]('manage-tab'),resultsTab=document[_0x13d91b(0x916)](_0x13d91b(0xc2a)),leaderboardTab=document[_0x13d91b(0x916)](_0x13d91b(0xa8c)),manageTabContent=document[_0x13d91b(0x916)](_0x13d91b(0x11b)),resultsTabContent=document[_0x13d91b(0x916)](_0x13d91b(0x745)),leaderboardTabContent=document['getElementById'](_0x13d91b(0x835)),projectQuizzesList=document['getElementById'](_0x13d91b(0x5d8)),fileTab=document[_0x13d91b(0x916)]('file-tab'),fileInputArea=document[_0x13d91b(0x916)]('file-input-area'),fileUploadInput=document[_0x13d91b(0x916)](_0x13d91b(0x1e6)),worksheetTab=document[_0x13d91b(0x916)](_0x13d91b(0x321)),worksheetInputArea=document[_0x13d91b(0x916)](_0x13d91b(0xcf0)),generateWorksheetBtn=document[_0x13d91b(0x916)]('generate-worksheet-btn'),studentInitialView=document[_0x13d91b(0x916)]('student-initial-view'),studentNameSelectionView=document[_0x13d91b(0x916)](_0x13d91b(0x3da)),studentQuizArea=document[_0x13d91b(0x916)]('student-quiz-area'),studentResultArea=document[_0x13d91b(0x916)](_0x13d91b(0x154)),studentReadingArea=document[_0x13d91b(0x916)](_0x13d91b(0xcdc)),loadQuizBtn=document[_0x13d91b(0x916)](_0x13d91b(0x41b)),startQuizBtn=document[_0x13d91b(0x916)](_0x13d91b(0xbf7)),studentJoinGameView=document[_0x13d91b(0x916)](_0x13d91b(0x4ff)),presentationModal=document[_0x13d91b(0x916)]('presentation-modal'),renameQuizModal=document[_0x13d91b(0x916)](_0x13d91b(0xd6e)),moveQuizModal=document[_0x13d91b(0x916)]('move-quiz-modal'),quizSettingsModal=document[_0x13d91b(0x916)](_0x13d91b(0xd48)),quizStatusModal=document[_0x13d91b(0x916)](_0x13d91b(0x149)),liveGameView=document[_0x13d91b(0x916)](_0x13d91b(0xac7));function handleFixLessonLatex(){const _0x3c7c07=_0x13d91b,_0x110419=document[_0x3c7c07(0x916)]('lesson-view-content');if(!_0x110419){showMessage(_0x3c7c07(0x652));return;}const _0x4e2a37=_0x110419[_0x3c7c07(0x77f)]([_0x3c7c07(0x30a),_0x3c7c07(0x40b),'.ai-content\x20blockquote','.ai-content\x20td',_0x3c7c07(0x7e3)][_0x3c7c07(0x22e)](','));let _0x2aa245=0x0;const _0xa56577=_0x254bfd=>_0x254bfd[_0x3c7c07(0xd9d)]||'',_0x5d409a=(_0x500b73,_0x5c9e37)=>{const _0x2fe47b=_0x3c7c07;if(_0x500b73[_0x2fe47b(0x7f4)]&&_0x500b73['querySelector']('mjx-container'))return;_0x500b73[_0x2fe47b(0xd9d)]=_0x5c9e37;},_0x40aeb1=_0x4b6475=>_0x4b6475[_0x3c7c07(0xdb5)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x3c7c07(0xdb5)](/\r\n?/g,'\x0a'),_0xffe375=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x2890be=_0x2bc5f4=>{const _0x32eb0d=_0x3c7c07;let _0x4ef93d=_0x2bc5f4['trim']();const _0x3a6d50=[_0x32eb0d(0x300),_0x32eb0d(0x8e4),'tfrac','sqrt',_0x32eb0d(0xb52),_0x32eb0d(0xa05),_0x32eb0d(0x314),_0x32eb0d(0xa12),'leq',_0x32eb0d(0xa01),'le','ge',_0x32eb0d(0xadb),'pm',_0x32eb0d(0x462),_0x32eb0d(0xdca),'cos','tan','log','ln',_0x32eb0d(0x3c1),_0x32eb0d(0xc7e),_0x32eb0d(0x280),_0x32eb0d(0xd6b),_0x32eb0d(0xb82),_0x32eb0d(0x92a),_0x32eb0d(0x552),_0x32eb0d(0x80c),_0x32eb0d(0x497)];_0x3a6d50[_0x32eb0d(0x5c9)](_0x5d5ba9=>{const _0x1bce56=_0x32eb0d;_0x4ef93d=_0x4ef93d[_0x1bce56(0xdb5)](new RegExp(_0x1bce56(0xc4a)+_0x5d5ba9+'\x5cb','g'),(_0x387244,_0x37c18a)=>_0x37c18a+'\x5c'+_0x5d5ba9);});const _0x221c62=[[/×/g,_0x32eb0d(0x815)],[/·/g,_0x32eb0d(0xc67)],[/÷/g,'\x5cdiv'],[/≤/g,'\x5cle'],[/≥/g,'\x5cge'],[/≠/g,'\x5cneq'],[/±/g,'\x5cpm'],[/∑/g,'\x5csum'],[/−/g,'-']];return _0x221c62[_0x32eb0d(0x5c9)](([_0x5c64aa,_0x2e3bf8])=>{const _0x42731d=_0x32eb0d;_0x4ef93d=_0x4ef93d[_0x42731d(0xdb5)](_0x5c64aa,_0x2e3bf8);}),_0x4ef93d=_0x4ef93d[_0x32eb0d(0xdb5)](/√\s*([A-Za-z0-9]+)/g,_0x32eb0d(0xbf5)),_0x4ef93d=_0x4ef93d[_0x32eb0d(0xdb5)](/(\d+)\s*%/g,_0x32eb0d(0x665)),_0x4ef93d;},_0xc5379b=_0x528005=>{const _0x4fb08f=_0x3c7c07;if(/\$|\\\(|\\\[/[_0x4fb08f(0x4b3)](_0x528005))return _0x528005;if(!_0xffe375['test'](_0x528005))return _0x528005;const _0x320e5d=_0x528005[_0x4fb08f(0xcd5)](/^\s*/)[0x0],_0x13a08a=_0x528005[_0x4fb08f(0xcd5)](/\s*$/)[0x0],_0x269bda=_0x528005[_0x4fb08f(0x1a0)]();return _0x320e5d+'$'+_0x2890be(_0x269bda)+'$'+_0x13a08a;};_0x4e2a37[_0x3c7c07(0x5c9)](_0x2e98aa=>{const _0x513cb7=_0x3c7c07,_0x3637a6=_0xa56577(_0x2e98aa);let _0x9ad451=_0x40aeb1(_0x3637a6);_0x9ad451=_0x9ad451['replace'](/\$([^$]*?)\$/g,(_0x4fc50a,_0x6fc8a1)=>'$'+_0x2890be(_0x6fc8a1)+'$');const _0x3c4575=_0x9ad451[_0x513cb7(0xbba)](/(\s+)/),_0x429019=_0x3c4575[_0x513cb7(0x1b0)](_0x376d1d=>{const _0xf617ba=_0x513cb7;if(/\s+/[_0xf617ba(0x4b3)](_0x376d1d))return _0x376d1d;return _0xc5379b(_0x376d1d);});_0x9ad451=_0x429019[_0x513cb7(0x22e)](''),_0x9ad451!==_0x3637a6&&(_0x5d409a(_0x2e98aa,_0x9ad451),_0x2aa245++);});if(_0x2aa245>0x0){showMessage(_0x3c7c07(0x801)+_0x2aa245+_0x3c7c07(0x68c));try{window[_0x3c7c07(0xcaf)]&&MathJax['typesetPromise']&&MathJax[_0x3c7c07(0x1cd)]([_0x110419]);}catch(_0x47d309){console[_0x3c7c07(0x689)]('MathJax\x20re-render\x20failed:',_0x47d309);}}else showMessage(_0x3c7c07(0x496));}function handleAutoFixLatex(){const _0x54f0ec=_0x13d91b,_0x3bdbb9=document['getElementById'](_0x54f0ec(0x879))||document,_0x517247=_0x3bdbb9['querySelectorAll']('textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li');let _0x2e98b4=0x0;const _0x3c9f8d=_0x4f8af8=>'value'in _0x4f8af8?String(_0x4f8af8[_0x54f0ec(0x93c)]):_0x4f8af8['innerText']!==undefined?_0x4f8af8[_0x54f0ec(0x871)]:_0x4f8af8[_0x54f0ec(0xd9d)]||'',_0xcd73b2=(_0x29b231,_0x2ab15b)=>{const _0xcc8772=_0x54f0ec;if(_0xcc8772(0x93c)in _0x29b231){_0x29b231[_0xcc8772(0x93c)]=_0x2ab15b;return;}if(_0x29b231[_0xcc8772(0x7f4)]&&_0x29b231['querySelector'](_0xcc8772(0xd3f)))return;if(_0x29b231[_0xcc8772(0x871)]!==undefined)_0x29b231['innerText']=_0x2ab15b;else _0x29b231['textContent']=_0x2ab15b;},_0x17e01f=_0x4678d6=>_0x4678d6[_0x54f0ec(0xdb5)](/\u00A0/g,'\x20')[_0x54f0ec(0xdb5)](/\u200B/g,'')[_0x54f0ec(0xdb5)](/\r\n?/g,'\x0a'),_0x29db88=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x6dc67f=_0x4e12fe=>{const _0x113649=_0x54f0ec;let _0x4541f1=_0x4e12fe[_0x113649(0x1a0)]();_0x4541f1=_0x4541f1['replace'](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x113649(0xd73)),_0x4541f1=_0x4541f1['replace'](/\bfrac(\d)(\d)/g,_0x113649(0xd73));const _0x2b692b=[_0x113649(0x300),_0x113649(0x5fe),'times',_0x113649(0x314),_0x113649(0xa12),_0x113649(0x764),_0x113649(0xa01),_0x113649(0xadb),'pm',_0x113649(0xdca),_0x113649(0x3d9),_0x113649(0x450),_0x113649(0xcf6),'ln'];_0x2b692b[_0x113649(0x5c9)](_0x4caffe=>{const _0x3d678e=_0x113649;_0x4541f1=_0x4541f1[_0x3d678e(0xdb5)](new RegExp(_0x3d678e(0xc4a)+_0x4caffe+'\x5cb','g'),(_0xc059d8,_0x11a762)=>_0x11a762+'\x5c'+_0x4caffe);});const _0x38c9cf=[[/×/g,'\x5ctimes'],[/·/g,_0x113649(0xc67)],[/÷/g,_0x113649(0x4eb)],[/≤/g,_0x113649(0xa30)],[/≥/g,_0x113649(0x576)],[/≠/g,'\x5cneq'],[/±/g,_0x113649(0x8ee)]];return _0x38c9cf[_0x113649(0x5c9)](([_0x47b254,_0x1ae54b])=>{const _0x32f43b=_0x113649;_0x4541f1=_0x4541f1[_0x32f43b(0xdb5)](_0x47b254,_0x1ae54b);}),_0x4541f1;},_0x5da52d=_0x4678fa=>{const _0xab4711=_0x54f0ec;if(/\$|\\\(|\\\[/[_0xab4711(0x4b3)](_0x4678fa))return _0x4678fa;if(!_0x29db88[_0xab4711(0x4b3)](_0x4678fa))return _0x4678fa;const _0xa38258=_0x4678fa['match'](/^\s*/)[0x0],_0x52f455=_0x4678fa[_0xab4711(0xcd5)](/\s*$/)[0x0],_0x38f3a1=_0x4678fa['trim']();return _0xa38258+'$'+_0x6dc67f(_0x38f3a1)+'$'+_0x52f455;};_0x517247['forEach'](_0x27f8d9=>{const _0x30362e=_0x54f0ec,_0x284255=_0x3c9f8d(_0x27f8d9);let _0x45fadf=_0x17e01f(_0x284255);_0x45fadf=_0x45fadf[_0x30362e(0xdb5)](/\$([^$]*?)\$/g,(_0x15b4e0,_0x1e013c)=>'$'+_0x6dc67f(_0x1e013c)+'$');const _0x50ca1d=_0x45fadf[_0x30362e(0xbba)](/(\s+)/),_0x6eb081=_0x50ca1d[_0x30362e(0x1b0)](_0x439447=>/\s+/['test'](_0x439447)?_0x439447:_0x5da52d(_0x439447));_0x45fadf=_0x6eb081[_0x30362e(0x22e)](''),_0x45fadf!==_0x284255&&(_0xcd73b2(_0x27f8d9,_0x45fadf),_0x2e98b4++);});if(_0x2e98b4>0x0){showMessage(_0x54f0ec(0xcb5)+_0x2e98b4+_0x54f0ec(0xb39));try{if(window[_0x54f0ec(0xcaf)]&&MathJax[_0x54f0ec(0x1cd)])MathJax[_0x54f0ec(0x1cd)]();}catch(_0x40a5a2){}}else showMessage(_0x54f0ec(0xaea));}async function listenForCustomMathTopics(){const _0x27fee0=_0x13d91b,_0x308f67=collection(db,_0x27fee0(0x54a)+appId+_0x27fee0(0xbe5));onSnapshot(_0x308f67,_0x27a252=>{const _0x9eaf50=_0x27fee0;customMathTopics=_0x27a252['docs'][_0x9eaf50(0x1b0)](_0x1f9e58=>({'id':_0x1f9e58['id'],..._0x1f9e58[_0x9eaf50(0xaf3)]()})),renderTopicCheckboxes();},_0x3c3318=>{const _0x9a5672=_0x27fee0;console[_0x9a5672(0x689)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x3c3318);});}function handleSelectAllTopics(){const _0x4f927d=_0x13d91b,_0x27b552=document[_0x4f927d(0x916)]('math-topics-checkbox-container'),_0x3025f7=_0x27b552[_0x4f927d(0x77f)]('input[type=\x22checkbox\x22]');_0x3025f7[_0x4f927d(0x5c9)](_0x3b9462=>{const _0x35be91=_0x4f927d;_0x3b9462[_0x35be91(0x7bc)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x176744=_0x13d91b,_0x2178f6=document['getElementById'](_0x176744(0xac3)),_0x24c90a=_0x2178f6[_0x176744(0x77f)](_0x176744(0x7cd));_0x24c90a[_0x176744(0x5c9)](_0x166908=>{_0x166908['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x17e580){const _0x1b5a3d=_0x13d91b;if(!_0x17e580)return;try{const _0x16992b=doc(db,'artifacts/'+appId+_0x1b5a3d(0xbe5),_0x17e580);await deleteDoc(_0x16992b),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x407ad2){console['error'](_0x1b5a3d(0x6ab),_0x407ad2),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x452a47=_0x13d91b,_0x4f5c00=document[_0x452a47(0x916)](_0x452a47(0xc7c)),_0x238998=_0x4f5c00[_0x452a47(0x93c)][_0x452a47(0x1a0)]();if(!_0x238998){showMessage(_0x452a47(0xdd3));return;}if(!userId){showMessage(_0x452a47(0x9a1));return;}try{const _0x49f477=collection(db,'artifacts/'+appId+'/public/data/customMathTopics');await addDoc(_0x49f477,{'name':_0x238998,'createdAt':serverTimestamp()}),_0x4f5c00[_0x452a47(0x93c)]='',showMessage(_0x452a47(0xc36)+_0x238998+_0x452a47(0x5d7));}catch(_0x5b6c59){console[_0x452a47(0x689)](_0x452a47(0x178),_0x5b6c59),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x3a71ed=_0x13d91b;showConfirmation(_0x3a71ed(0xcb2),async()=>{const _0x9e97ba=_0x3a71ed,_0x286220=document[_0x9e97ba(0x916)](_0x9e97ba(0x619)),_0x1954a0=document[_0x9e97ba(0x916)](_0x9e97ba(0xae9)),_0x41d40c=_0x1954a0[_0x9e97ba(0xd9d)];_0x286220[_0x9e97ba(0x734)][_0x9e97ba(0x5cf)](_0x9e97ba(0x4ad)),_0x1954a0[_0x9e97ba(0xd9d)]=_0x9e97ba(0xb5a);try{const _0x117f7f=collection(db,_0x9e97ba(0x54a)+appId+_0x9e97ba(0xd20)),_0x556ff4=await getDocs(_0x117f7f);if(_0x556ff4['empty']){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x48b956=writeBatch(db);let _0x7cf49=0x0;_0x556ff4['forEach'](_0xc3cd79=>{const _0x3b3b0a=_0x9e97ba,_0x22a2c4=_0xc3cd79['data'](),_0x11480a=_0xc3cd79['id'];if(_0x22a2c4[_0x3b3b0a(0x87f)]&&_0x22a2c4['questions'][_0x3b3b0a(0x3d7)]>0x0&&!_0x22a2c4['questions'][0x0][_0x3b3b0a(0x7ab)]('id')){console[_0x3b3b0a(0xcf6)](_0x3b3b0a(0x538)+_0x11480a+'\x20('+_0x22a2c4[_0x3b3b0a(0xdf4)]+')'),_0x7cf49++;const _0x551290=_0x22a2c4[_0x3b3b0a(0x87f)]['map']((_0x586bb5,_0x4f37b9)=>{const _0x6d319e=_0x3b3b0a;return{..._0x586bb5,'id':_0x586bb5['id']||'q_'+Date[_0x6d319e(0x60e)]()+'_'+_0x11480a+'_'+_0x4f37b9};}),_0x5315f3=doc(db,_0x3b3b0a(0x54a)+appId+_0x3b3b0a(0xd20),_0x11480a);_0x48b956[_0x3b3b0a(0x987)](_0x5315f3,{'questions':_0x551290});}}),_0x7cf49>0x0?(_0x1954a0[_0x9e97ba(0xd9d)]=_0x9e97ba(0xb5d)+_0x7cf49+_0x9e97ba(0xcc1),await _0x48b956[_0x9e97ba(0x1cc)](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x7cf49+_0x9e97ba(0x531))):showMessage(_0x9e97ba(0x37a));}catch(_0x2b3715){console['error'](_0x9e97ba(0xa52),_0x2b3715),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0x2b3715[_0x9e97ba(0xbd0)]);}finally{_0x286220[_0x9e97ba(0x734)][_0x9e97ba(0x459)]('hidden'),_0x1954a0[_0x9e97ba(0xd9d)]=_0x41d40c;}});}async function handleBulkUpdateQuizSettings(){const _0x35cebd=_0x13d91b,_0x116e88={'shuffle':document[_0x35cebd(0x916)](_0x35cebd(0x7fd))['value'],'resultsDisplay':document[_0x35cebd(0x916)](_0x35cebd(0xa57))[_0x35cebd(0x93c)],'loopUntilPass':document[_0x35cebd(0x916)](_0x35cebd(0x92d))['checked'],'isConfidenceScoringEnabled':document['getElementById'](_0x35cebd(0xb95))[_0x35cebd(0x7bc)],'confidenceMode':document['getElementById'](_0x35cebd(0xb33))[_0x35cebd(0x93c)]};try{showMessage(_0x35cebd(0xbed));const _0x2a95ea=await getDocs(collection(db,_0x35cebd(0x54a)+appId+_0x35cebd(0xd20))),_0x2e89c1=_0x2a95ea[_0x35cebd(0x1fb)]['map'](_0x2c74cd=>({'id':_0x2c74cd['id'],'data':_0x2c74cd[_0x35cebd(0xaf3)]()})),_0x1ae777=_0x2e89c1[_0x35cebd(0x3d7)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0x1ae777+_0x35cebd(0x76c),async()=>{const _0x565e0c=_0x35cebd,_0x458b5d=document[_0x565e0c(0x916)]('confirm-bulk-quiz-settings-btn');_0x458b5d[_0x565e0c(0x426)]=!![],_0x458b5d['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...';try{const _0x42433a=writeBatch(db);_0x2e89c1[_0x565e0c(0x5c9)](_0x364812=>{const _0x55e865=_0x565e0c,_0x474848=doc(db,_0x55e865(0x54a)+appId+_0x55e865(0xd20),_0x364812['id']),_0x5902c3={..._0x364812[_0x55e865(0xaf3)][_0x55e865(0xc10)]||{},..._0x116e88};_0x42433a['update'](_0x474848,{'settings':_0x5902c3});}),await _0x42433a[_0x565e0c(0x1cc)](),document[_0x565e0c(0x916)](_0x565e0c(0x7f3))[_0x565e0c(0x734)][_0x565e0c(0x459)](_0x565e0c(0x4ad)),showMessage(_0x565e0c(0x269)+_0x1ae777+'\x20ชุดสำเร็จ!');}catch(_0x3e0de5){console[_0x565e0c(0x689)](_0x565e0c(0x5a4),_0x3e0de5),showMessage(_0x565e0c(0x453));}finally{_0x458b5d[_0x565e0c(0x426)]=![],_0x458b5d[_0x565e0c(0xbc4)]='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x398941){console[_0x35cebd(0x689)](_0x35cebd(0xa7c),_0x398941),showMessage('เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด');}}async function handleSaveProjectName(){const _0x4e91cf=_0x13d91b,_0x4058e7=document[_0x4e91cf(0x916)](_0x4e91cf(0x635)),_0x9fb182=document['getElementById'](_0x4e91cf(0x944)),_0x1ccf1d=_0x4058e7[_0x4e91cf(0xd9d)][_0x4e91cf(0x1a0)]();if(!_0x1ccf1d||!currentProjectId){showMessage(_0x4e91cf(0xbf2)),_0x4058e7['textContent']=currentProjectData['projectName'];return;}_0x9fb182[_0x4e91cf(0x426)]=!![],_0x9fb182[_0x4e91cf(0xbc4)]=_0x4e91cf(0xad7);try{const _0x17745f=doc(db,_0x4e91cf(0x54a)+appId+_0x4e91cf(0x90e),currentProjectId);await updateDoc(_0x17745f,{'projectName':_0x1ccf1d}),currentProjectData&&(currentProjectData['projectName']=_0x1ccf1d),showMessage(_0x4e91cf(0xcd1));}catch(_0x56fc08){console[_0x4e91cf(0x689)](_0x4e91cf(0xd77),_0x56fc08),showMessage(_0x4e91cf(0xfd)),_0x4058e7[_0x4e91cf(0xd9d)]=currentProjectData[_0x4e91cf(0xe04)];}finally{_0x9fb182[_0x4e91cf(0x734)][_0x4e91cf(0x459)]('hidden'),_0x9fb182[_0x4e91cf(0x426)]=![],_0x9fb182[_0x4e91cf(0xbc4)]=_0x4e91cf(0x4f6);}}function handleGeneratePracticeTest(_0x172c0b,_0x2a422f){const _0x450b17=_0x13d91b,_0x5c76cc=document['getElementById']('lesson-view-modal'),_0x488910=document[_0x450b17(0x916)](_0x450b17(0xb9c)),_0x207709=document['getElementById']('lesson-loader'),_0x4c30d8=document[_0x450b17(0x916)](_0x450b17(0x64d));_0x488910[_0x450b17(0xd9d)]=_0x450b17(0x335)+_0x172c0b,_0x4c30d8[_0x450b17(0x734)][_0x450b17(0x459)](_0x450b17(0x4ad)),_0x207709['classList']['remove'](_0x450b17(0x4ad)),_0x5c76cc[_0x450b17(0x734)][_0x450b17(0x5cf)](_0x450b17(0x4ad)),generatePracticeTest(_0x172c0b,_0x2a422f)[_0x450b17(0x161)](_0x11d88b=>{const _0x510fb7=_0x450b17;console[_0x510fb7(0x689)](_0x510fb7(0x651),_0x11d88b),showMessage(_0x510fb7(0xc3e)),_0x5c76cc[_0x510fb7(0x734)]['add']('hidden');});}async function generatePracticeTest(_0x49e58f,_0x9deb8b){const _0x41aecd=_0x13d91b;[_0x41aecd(0x393),_0x41aecd(0xb19),'applicationContent',_0x41aecd(0x896)][_0x41aecd(0x5c9)](_0x4da9d7=>{const _0xc4c852=_0x41aecd,_0x25afcf=document[_0xc4c852(0x916)](_0x4da9d7)[_0xc4c852(0xd96)];_0x25afcf&&(_0x25afcf[_0xc4c852(0x3bb)][_0xc4c852(0x31b)]=_0xc4c852(0x118));});try{const _0x24f5dc=_0x41aecd(0xa39),_0x45a2d7=_0x41aecd(0x3e8)+_0x9deb8b+_0x41aecd(0xd36)+_0x49e58f+'\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x101a7e=await callGemini(_0x45a2d7,!![]),_0x59fec7=document[_0x41aecd(0x916)]('lesson-view-title'),_0x94d0b=document[_0x41aecd(0x916)](_0x41aecd(0xa56)),_0x5a37ff=document['getElementById'](_0x41aecd(0x64d)),_0x5d2ce3=document[_0x41aecd(0x916)](_0x41aecd(0x862))[_0x41aecd(0xd96)];_0x59fec7[_0x41aecd(0x871)]='แบบทดสอบฝึกฝนเรื่อง:\x20'+_0x49e58f[_0x41aecd(0xdb5)](/•\s/g,'')+_0x41aecd(0x940)+_0x9deb8b+')',currentApplicationData=JSON[_0x41aecd(0x97f)](_0x101a7e);const _0x193fea=document['getElementById'](_0x41aecd(0x862));_0x193fea[_0x41aecd(0xbc4)]=currentApplicationData[_0x41aecd(0x1b0)]((_0x4bd6e9,_0xae52d9)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0xae52d9+0x1)+'.\x20'+marked[_0x41aecd(0xba3)](_0x4bd6e9[_0x41aecd(0x512)])+_0x41aecd(0x558)+_0xae52d9+_0x41aecd(0x5b9)+_0x4bd6e9[_0x41aecd(0x238)][_0x41aecd(0x1b0)]((_0x13673f,_0x11d5ad)=>_0x41aecd(0xacf)+_0xae52d9+',\x20'+_0x11d5ad+_0x41aecd(0x6a7)+String[_0x41aecd(0xd18)](0x61+_0x11d5ad)+'.\x20'+marked[_0x41aecd(0xba3)](_0x13673f)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x41aecd(0x22e)]('')+_0x41aecd(0x206))[_0x41aecd(0x22e)](''),window['MathJax']&&MathJax[_0x41aecd(0x1cd)]([_0x193fea]),_0x5d2ce3&&(_0x5d2ce3[_0x41aecd(0x3bb)][_0x41aecd(0x31b)]=_0x41aecd(0x3d4)),_0x94d0b[_0x41aecd(0x734)]['add'](_0x41aecd(0x4ad)),_0x5a37ff['classList']['remove'](_0x41aecd(0x4ad));}catch(_0x592fb3){console['error'](_0x592fb3);throw _0x592fb3;}}async function callGemini(_0x580ece,_0x470322=![]){const _0xe8ab14=_0x13d91b,_0x542253='AIzaSyBpbTmQsKO5LzlNphSZW99NYg8H75ryg44',_0x2f7473=_0xe8ab14(0xb11)+_0x542253,_0x5cbf67={'contents':[{'parts':[{'text':_0x580ece}]}]};_0x470322&&(_0x5cbf67[_0xe8ab14(0xacb)]={'responseMimeType':_0xe8ab14(0xa9a)},_0x580ece['includes']('Test\x20Blueprint')?_0x5cbf67[_0xe8ab14(0xacb)][_0xe8ab14(0x783)]={'type':_0xe8ab14(0xd0d),'properties':{'gradeLevel':{'type':_0xe8ab14(0x330)},'curriculum':{'type':'ARRAY','items':{'type':_0xe8ab14(0xd0d),'properties':{'sara':{'type':_0xe8ab14(0x330)},'mainTopics':{'type':_0xe8ab14(0x33c),'items':{'type':_0xe8ab14(0xd0d),'properties':{'topicName':{'type':_0xe8ab14(0x330)},'subTopics':{'type':_0xe8ab14(0x33c),'items':{'type':_0xe8ab14(0x330)}}},'required':[_0xe8ab14(0x8ff),_0xe8ab14(0x506)]}}},'required':[_0xe8ab14(0xde8),'mainTopics']}}},'required':[_0xe8ab14(0x544),_0xe8ab14(0x77d)]}:_0x5cbf67['generationConfig'][_0xe8ab14(0x783)]={'type':'ARRAY','items':{'type':_0xe8ab14(0xd0d),'properties':{'question':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':'STRING'}},'answer':{'type':'NUMBER'}},'required':[_0xe8ab14(0x512),_0xe8ab14(0x238),_0xe8ab14(0x43b)]}});try{const _0x5da7ab=await fetch(_0x2f7473,{'method':_0xe8ab14(0x970),'headers':{'Content-Type':_0xe8ab14(0xa9a)},'body':JSON[_0xe8ab14(0x163)](_0x5cbf67)});if(!_0x5da7ab['ok']){const _0x547aca=await _0x5da7ab[_0xe8ab14(0xb52)]();console[_0xe8ab14(0x689)](_0xe8ab14(0xac2),_0x547aca);throw new Error(_0xe8ab14(0x4cf)+_0x5da7ab[_0xe8ab14(0x127)]);}const _0x364f28=await _0x5da7ab['json']();if(_0x364f28['candidates']&&_0x364f28[_0xe8ab14(0xb81)][0x0][_0xe8ab14(0x392)]&&_0x364f28[_0xe8ab14(0xb81)][0x0][_0xe8ab14(0x392)][_0xe8ab14(0x83c)][0x0])return _0x364f28['candidates'][0x0][_0xe8ab14(0x392)][_0xe8ab14(0x83c)][0x0]['text'];else{console[_0xe8ab14(0x689)](_0xe8ab14(0xc2c),_0x364f28);if(_0x364f28['candidates']&&_0x364f28[_0xe8ab14(0xb81)][0x0]['finishReason']===_0xe8ab14(0x7b7))return JSON['stringify']({'error':_0xe8ab14(0x144)});throw new Error(_0xe8ab14(0x111));}}catch(_0x209aa3){console[_0xe8ab14(0x689)](_0xe8ab14(0x46f),_0x209aa3);throw _0x209aa3;}}async function generateLesson(_0x2ef036=null,_0x5cd67e=null){const _0x38feb5=_0x13d91b,_0xeddb29=_0x2ef036,_0x201d4c=_0x5cd67e||_0x38feb5(0x58c),_0x427caf=document[_0x38feb5(0x916)]('lesson-loader'),_0x3bbca2=document[_0x38feb5(0x916)](_0x38feb5(0x225));_0x3bbca2[_0x38feb5(0xd9d)]=_0x38feb5(0x307)+_0xeddb29+_0x38feb5(0xabc);try{let _0x1eef15=[];const _0x481b34=document['getElementById'](_0x38feb5(0x9e2))?.['value'][_0x38feb5(0x1a0)]();if(_0x481b34)try{_0x3bbca2[_0x38feb5(0xd9d)]=_0x38feb5(0xb5b);const _0x2ecdcf=await fetchFileFromUrl(_0x481b34,'reference_onet.pdf'),_0x1ba04b=await new Promise((_0x164790,_0x1b6130)=>{const _0x404bbf=_0x38feb5,_0x3e2e66=new FileReader();_0x3e2e66['readAsDataURL'](_0x2ecdcf),_0x3e2e66[_0x404bbf(0x766)]=()=>_0x164790(_0x3e2e66[_0x404bbf(0xb68)]['split'](',')[0x1]),_0x3e2e66[_0x404bbf(0x4e2)]=_0x1b6130;});_0x1eef15[_0x38feb5(0x298)]({'inlineData':{'mimeType':_0x2ecdcf[_0x38feb5(0x5e3)],'data':_0x1ba04b}});}catch(_0x54b8a6){console['error'](_0x38feb5(0x282),_0x54b8a6),showMessage(_0x38feb5(0x2d4));}const _0x228591='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22'+_0xeddb29+_0x38feb5(0xe1f)+_0xeddb29+_0x38feb5(0xb14);_0x3bbca2[_0x38feb5(0xd9d)]=_0x38feb5(0x307)+_0xeddb29+'\x22...';const _0x505884='สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27'+_0x201d4c+'\x27\x20ในหัวข้อ\x20\x27'+_0xeddb29+_0x38feb5(0x917)+_0x228591+_0x38feb5(0xc66),_0x48889d=_0x38feb5(0x816)+_0xeddb29+'\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27'+_0x201d4c+_0x38feb5(0x82e)+_0x228591+'.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX',_0x4b005e='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x201d4c+_0x38feb5(0xd36)+_0xeddb29+_0x38feb5(0x5ea)+_0x228591+_0x38feb5(0x4ae),_0x405135=_0x38feb5(0x3e5)+_0xeddb29+'\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x201d4c+_0x38feb5(0x6f4)+_0x228591+_0x38feb5(0x2c8),_0x3a9a79={'type':_0x38feb5(0x33c),'items':{'type':_0x38feb5(0xd0d),'properties':{'question':{'type':'STRING'},'options':{'type':_0x38feb5(0x33c),'items':{'type':_0x38feb5(0x330)}},'answer':{'type':_0x38feb5(0x90b)}},'required':[_0x38feb5(0x512),'options',_0x38feb5(0x43b)]}},[_0x396acf,_0x1466b2,_0x2cf1c5,_0x2d1e8c]=await Promise[_0x38feb5(0x1e8)]([handleApiCall([{'text':_0x505884},..._0x1eef15],'...',null,null,![]),handleApiCall([{'text':_0x48889d},..._0x1eef15],_0x38feb5(0x710),null,null,![]),handleApiCall([{'text':_0x4b005e},..._0x1eef15],_0x38feb5(0x710),_0x3a9a79,null,![]),handleApiCall([{'text':_0x405135},..._0x1eef15],_0x38feb5(0x710),null,null,![])]),_0x4b721b=JSON['stringify'](_0x2cf1c5||[]),_0x57da2a=document[_0x38feb5(0x916)](_0x38feb5(0xb9c)),_0x4327e0=document['getElementById'](_0x38feb5(0x64d));_0x57da2a[_0x38feb5(0x871)]=_0x38feb5(0xd42)+_0xeddb29['replace'](/•\\s/g,'')+'\x20(สำหรับ\x20'+_0x201d4c+')',[_0x38feb5(0x393),'memoryContent',_0x38feb5(0x896)][_0x38feb5(0x5c9)](_0x598017=>{document['getElementById'](_0x598017)['innerHTML']='';}),document['getElementById'](_0x38feb5(0x393))['innerHTML']=_0x396acf?marked['parse'](_0x396acf):_0x38feb5(0x33a),document[_0x38feb5(0x916)](_0x38feb5(0xb19))[_0x38feb5(0xbc4)]=_0x1466b2?marked[_0x38feb5(0x97f)](_0x1466b2):_0x38feb5(0x33a),document[_0x38feb5(0x916)](_0x38feb5(0x896))[_0x38feb5(0xbc4)]=_0x2d1e8c?marked[_0x38feb5(0x97f)](_0x2d1e8c):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',currentApplicationData=JSON['parse'](_0x4b721b);const _0x1e2ecd=document[_0x38feb5(0x916)](_0x38feb5(0x862));_0x1e2ecd['innerHTML']=(currentApplicationData||[])[_0x38feb5(0x1b0)]((_0x3d0247,_0x391886)=>_0x38feb5(0xc3a)+(_0x391886+0x1)+'.\x20'+marked['parseInline'](_0x3d0247['question']||'')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x391886+_0x38feb5(0x5b9)+(_0x3d0247[_0x38feb5(0x238)]||[])['map']((_0x4645b3,_0x4c1bf8)=>_0x38feb5(0xacf)+_0x391886+',\x20'+_0x4c1bf8+_0x38feb5(0x6a7)+String[_0x38feb5(0xd18)](0x61+_0x4c1bf8)+'.\x20'+marked[_0x38feb5(0xba3)](_0x4645b3||'')+_0x38feb5(0x515))['join']('')+_0x38feb5(0x206))[_0x38feb5(0x22e)]('')||_0x38feb5(0x20c),window[_0x38feb5(0xcaf)]&&MathJax[_0x38feb5(0x1cd)]([_0x4327e0]),_0x427caf['classList'][_0x38feb5(0x459)](_0x38feb5(0x4ad)),_0x4327e0[_0x38feb5(0x734)][_0x38feb5(0x5cf)](_0x38feb5(0x4ad));}catch(_0x301212){console['error'](_0x301212);throw _0x301212;}}function checkAnswer(_0x525846,_0x1f08eb){const _0x2151a1=_0x13d91b,_0x3df1c4=currentApplicationData[_0x525846],_0x39426a=document['getElementById']('q'+_0x525846+_0x2151a1(0x62f)),_0x3b350b=_0x39426a[_0x2151a1(0x81a)]('button');for(let _0x12d005 of _0x3b350b){_0x12d005[_0x2151a1(0x426)]=!![];}_0x1f08eb===_0x3df1c4[_0x2151a1(0x43b)]?_0x3b350b[_0x1f08eb][_0x2151a1(0x734)]['add'](_0x2151a1(0xa07)):(_0x3b350b[_0x1f08eb][_0x2151a1(0x734)][_0x2151a1(0x459)](_0x2151a1(0x5f1)),_0x3b350b[_0x3df1c4[_0x2151a1(0x43b)]]['classList'][_0x2151a1(0x459)](_0x2151a1(0xa07)));}window['handleGenerateAndShowLesson']=handleGenerateAndShowLesson,window[_0x13d91b(0x6d8)]=checkAnswer,window[_0x13d91b(0xc0d)]=handleGeneratePracticeTest,window[_0x13d91b(0x8b4)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x555421=_0x13d91b;try{const _0x3990da=initializeApp(firebaseConfig);db=getFirestore(_0x3990da),auth=getAuth(_0x3990da),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x554a00){console[_0x555421(0x689)](_0x555421(0x285),_0x554a00),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x5a652b=_0x13d91b,_0x422a29=document['getElementById'](_0x5a652b(0x165));if(!_0x422a29)return;const _0x2997f9=document[_0x5a652b(0x916)]('verify-answers-editor-btn');_0x2997f9[_0x5a652b(0x426)]=!![],_0x2997f9[_0x5a652b(0xbc4)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x1d1edb=_0x422a29['querySelectorAll'](_0x5a652b(0xccf)),_0x4abbe7=Array[_0x5a652b(0x199)](_0x1d1edb)[_0x5a652b(0x1b0)]((_0x439f8f,_0x4ad0ec)=>{const _0x1a3b83=_0x5a652b,_0xb4123b=_0x439f8f[_0x1a3b83(0xcba)][_0x1a3b83(0x151)],_0x59359d=_0x439f8f[_0x1a3b83(0x7f4)](_0x1a3b83(0x470))[_0x1a3b83(0x93c)];let _0x142351=null,_0x826f13='';switch(_0xb4123b){case _0x1a3b83(0x3e2):const _0x57817a=_0x439f8f[_0x1a3b83(0x77f)](_0x1a3b83(0x20b));_0x142351=Array[_0x1a3b83(0x199)](_0x57817a)[_0x1a3b83(0x1b0)](_0x51e0e3=>_0x51e0e3['value']);const _0x125f40=_0x439f8f['querySelector']('input[type=\x22radio\x22]:checked');_0x125f40&&(_0x826f13=_0x142351[parseInt(_0x125f40[_0x1a3b83(0x93c)])]);break;case'short_answer':_0x142351=[],_0x826f13=_0x439f8f[_0x1a3b83(0x7f4)](_0x1a3b83(0xbc5))[_0x1a3b83(0x93c)];break;case _0x1a3b83(0x54f):_0x142351=[_0x1a3b83(0x539),_0x1a3b83(0xc89)];const _0x504eca=_0x439f8f[_0x1a3b83(0x7f4)](_0x1a3b83(0x5a8));_0x826f13=_0x504eca?_0x504eca[_0x1a3b83(0x93c)]:'';break;case _0x1a3b83(0x416):_0x142351=[],_0x826f13=_0x439f8f['querySelector'](_0x1a3b83(0x303))[_0x1a3b83(0x93c)];break;}return{'question':_0x59359d,'options':_0x142351,'proposedAnswer':_0x826f13};}),_0x393e8f=_0x5a652b(0x7fe)+JSON[_0x5a652b(0x163)](_0x4abbe7)+_0x5a652b(0x2ad),_0x5c0e46={'type':'ARRAY','items':{'type':_0x5a652b(0xd0d),'properties':{'questionIndex':{'type':_0x5a652b(0x90b)},'isCorrect':{'type':_0x5a652b(0x5da)},'justification':{'type':_0x5a652b(0x330)},'correctOptionExists':{'type':'BOOLEAN'},'suggestedAnswer':{'type':_0x5a652b(0x330)},'newOptionsPayload':{'type':_0x5a652b(0xd0d),'properties':{'newOptions':{'type':_0x5a652b(0x33c),'items':{'type':_0x5a652b(0x330)}},'newCorrectIndex':{'type':'NUMBER'}}}},'required':[_0x5a652b(0x907),_0x5a652b(0x832),_0x5a652b(0x631)]}},_0x5aa8cf=await callAnalysisApi(_0x393e8f,{'type':_0x5a652b(0xd0d),'properties':{'result':_0x5c0e46},'required':[_0x5a652b(0xb68)]});displayVerificationResultsInEditor(_0x5aa8cf[_0x5a652b(0xb68)]);}catch(_0x748f5e){console[_0x5a652b(0x689)](_0x5a652b(0xa1e),_0x748f5e),showMessage(_0x5a652b(0x774));}finally{_0x2997f9[_0x5a652b(0x426)]=![],_0x2997f9[_0x5a652b(0xbc4)]=_0x5a652b(0x3eb);}}function displayVerificationResultsInEditor(_0x42a3dc){const _0x4b7d35=_0x13d91b;_0x42a3dc[_0x4b7d35(0x5c9)](_0x5a8d18=>{const _0x4eec71=_0x4b7d35,_0x4e16d0=document[_0x4eec71(0x7f4)]('.question-editor-item[data-q-index=\x22'+_0x5a8d18[_0x4eec71(0x907)]+'\x22]');if(!_0x4e16d0)return;const _0x481f40=_0x4e16d0['querySelector'](_0x4eec71(0x869));if(_0x481f40)_0x481f40[_0x4eec71(0x5cf)]();let _0x2fc8db='';if(_0x5a8d18['newOptionsPayload']&&_0x5a8d18['newOptionsPayload']['newOptions']){const _0x3bed22=_0x5a8d18[_0x4eec71(0x52c)][_0x4eec71(0x8f7)],_0x3eb989=_0x5a8d18[_0x4eec71(0x52c)][_0x4eec71(0x741)],_0x24f567=_0x4e16d0['dataset'][_0x4eec71(0x151)];if(_0x24f567===_0x4eec71(0x3e2)){const _0x516bd5=_0x4e16d0[_0x4eec71(0x77f)](_0x4eec71(0x20b));_0x516bd5['forEach']((_0x37722b,_0x461ca1)=>{const _0x5013fc=_0x4eec71;_0x3bed22[_0x461ca1]?_0x37722b[_0x5013fc(0x93c)]=_0x3bed22[_0x461ca1]:_0x37722b[_0x5013fc(0x93c)]=_0x5013fc(0xab3);});const _0x3010d6=_0x4e16d0[_0x4eec71(0x7f4)]('input[type=\x22radio\x22][value=\x22'+_0x3eb989+'\x22]');_0x3010d6&&(_0x3010d6[_0x4eec71(0x7bc)]=!![]),_0x2fc8db='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x4e16d0[_0x4eec71(0x734)][_0x4eec71(0x459)]('bg-yellow-200',_0x4eec71(0x701),_0x4eec71(0x8bd)),setTimeout(()=>{const _0x40b7bc=_0x4eec71;_0x4e16d0['classList'][_0x40b7bc(0x5cf)](_0x40b7bc(0xb62));},0x9c4);}}else{if(!_0x5a8d18[_0x4eec71(0x832)]&&_0x5a8d18[_0x4eec71(0x48b)]){const _0x11fa22=_0x5a8d18['suggestedAnswer']?_0x4eec71(0xa9f):'';_0x2fc8db=_0x4eec71(0x64f)+_0x11fa22+_0x4eec71(0x7b9)+_0x5a8d18['justification']+_0x4eec71(0x34d)+(_0x5a8d18[_0x4eec71(0x48b)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x5a8d18[_0x4eec71(0x48b)]+_0x4eec71(0x6b4):'')+_0x4eec71(0x6bd);const _0x2ef033=_0x4e16d0[_0x4eec71(0xcba)]['qType'],_0x12c093=_0x5b4332=>{const _0x2e426c=_0x4eec71;if(!_0x5b4332)return;_0x5b4332[_0x2e426c(0x734)]['add']('bg-green-200',_0x2e426c(0x701),_0x2e426c(0x8bd)),setTimeout(()=>{const _0x5699e0=_0x2e426c;_0x5b4332[_0x5699e0(0x734)][_0x5699e0(0x5cf)](_0x5699e0(0xa7e));},0x9c4);};if(_0x2ef033==='multiple_choice'){const _0x34a792=Array[_0x4eec71(0x199)](_0x4e16d0['querySelectorAll'](_0x4eec71(0x20b))),_0x416996=_0x34a792['findIndex'](_0x9f1767=>_0x9f1767[_0x4eec71(0x93c)]['trim']()['toLowerCase']()===_0x5a8d18['suggestedAnswer']['trim']()[_0x4eec71(0x3c8)]());if(_0x416996!==-0x1){const _0x2d89d7=_0x4e16d0[_0x4eec71(0x7f4)](_0x4eec71(0xc35)+_0x416996+'\x22]');_0x2d89d7&&(_0x2d89d7[_0x4eec71(0x7bc)]=!![],_0x12c093(_0x2d89d7[_0x4eec71(0x7c4)](_0x4eec71(0xa12))));}}else{if(_0x2ef033===_0x4eec71(0x21b)||_0x2ef033==='matching_item'){const _0x1f8dfe=_0x4e16d0['querySelector'](_0x4eec71(0x106));_0x1f8dfe&&(_0x1f8dfe['value']=_0x5a8d18[_0x4eec71(0x48b)],_0x12c093(_0x1f8dfe));}else{if(_0x2ef033===_0x4eec71(0x54f)){const _0x54daab=_0x5a8d18['suggestedAnswer']['trim']()[_0x4eec71(0x3c8)](),_0x1d5b97=_0x4e16d0['querySelector'](_0x4eec71(0xc35)+_0x54daab+'\x22]');_0x1d5b97&&(_0x1d5b97[_0x4eec71(0x7bc)]=!![],_0x12c093(_0x1d5b97['closest']('div')));}}}}else _0x5a8d18[_0x4eec71(0x832)]&&(_0x2fc8db=_0x4eec71(0x387));}_0x4e16d0['insertAdjacentHTML'](_0x4eec71(0x6f8),_0x2fc8db);}),showMessage(_0x4b7d35(0x3f3));}async function handleVerifyAnswers(){const _0x5ed6a8=_0x13d91b;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x5ed6a8(0x481));return;}const _0x3b9fec=document['getElementById'](_0x5ed6a8(0x79d));_0x3b9fec['disabled']=!![],_0x3b9fec[_0x5ed6a8(0xbc4)]=_0x5ed6a8(0xb2d);try{const _0x3f52a5=currentQuizData['questions']['map']((_0xc46a5d,_0x1d270c)=>{const _0x483a09=_0x5ed6a8;let _0x568b03='';const _0x112a28=_0xc46a5d[_0x483a09(0xa1a)]||currentQuizData[_0x483a09(0x9b1)];switch(_0x112a28){case _0x483a09(0x3e2):_0x568b03=_0xc46a5d['options'][_0xc46a5d[_0x483a09(0xae6)]];break;case _0x483a09(0x21b):_0x568b03=_0xc46a5d[_0x483a09(0x158)];break;case _0x483a09(0x54f):_0x568b03=_0xc46a5d['correctAnswer'][_0x483a09(0xda1)]();break;case _0x483a09(0x416):_0x568b03=_0xc46a5d['correctResponse'];break;}return{'question':_0xc46a5d[_0x483a09(0x3a9)]||_0xc46a5d[_0x483a09(0xa35)],'options':_0xc46a5d[_0x483a09(0x238)]||null,'proposedAnswer':_0x568b03};}),_0x2ffc78=_0x5ed6a8(0x46e)+JSON[_0x5ed6a8(0x163)](_0x3f52a5)+_0x5ed6a8(0x368),_0x2b9a36={'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x5ed6a8(0x5da)},'justification':{'type':_0x5ed6a8(0x330)},'suggestedAnswer':{'type':_0x5ed6a8(0x330)}},'required':[_0x5ed6a8(0x907),'isCorrect',_0x5ed6a8(0x631)]}},_0xa99d68=await callAnalysisApi(_0x2ffc78,{'type':_0x5ed6a8(0xd0d),'properties':{'result':_0x2b9a36},'required':[_0x5ed6a8(0xb68)]});displayVerificationResults(_0xa99d68[_0x5ed6a8(0xb68)]);}catch(_0x3b4527){console[_0x5ed6a8(0x689)](_0x5ed6a8(0x2d1),_0x3b4527),showMessage(_0x5ed6a8(0x774));}finally{_0x3b9fec[_0x5ed6a8(0x426)]=![],_0x3b9fec[_0x5ed6a8(0xbc4)]=_0x5ed6a8(0x677);}}function displayVerificationResults(_0x111ca8){const _0x408398=_0x13d91b;_0x111ca8[_0x408398(0x5c9)](_0x3cf330=>{const _0x2436c6=_0x408398,_0x39a953=document[_0x2436c6(0x7f4)]('div[data-question-index=\x22'+_0x3cf330[_0x2436c6(0x907)]+'\x22]');if(_0x39a953){const _0x5219f1=_0x39a953[_0x2436c6(0x7f4)](_0x2436c6(0x487));if(_0x5219f1)_0x5219f1['remove']();let _0x5e4b54='';_0x3cf330[_0x2436c6(0x832)]?_0x5e4b54=_0x2436c6(0x50b):_0x5e4b54='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x3cf330[_0x2436c6(0x631)]+_0x2436c6(0x327)+(_0x3cf330[_0x2436c6(0x48b)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x3cf330[_0x2436c6(0x48b)]+'</p>':'')+_0x2436c6(0x727),_0x39a953[_0x2436c6(0x9b6)](_0x2436c6(0x6f8),_0x5e4b54);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x30410f,_0x20dbc2){const _0xf3b9f6=_0x13d91b,_0x568e74=String(_0x30410f)[_0xf3b9f6(0xdb5)](',','.')[_0xf3b9f6(0xdb5)](/[^\d.-]/g,'')[_0xf3b9f6(0x1a0)](),_0x1c2a8c=String(_0x20dbc2)['replace'](',','.')[_0xf3b9f6(0xdb5)](/[^\d.-]/g,'')[_0xf3b9f6(0x1a0)]();if(_0x568e74===''||_0x1c2a8c==='')return![];const _0x5825f7=parseFloat(_0x568e74),_0x44e43d=parseFloat(_0x1c2a8c);if(isNaN(_0x5825f7)||isNaN(_0x44e43d))return![];return Math[_0xf3b9f6(0xb8c)](_0x5825f7-_0x44e43d)<0.001;}function isPotentiallyNumeric(_0x5b05d4){const _0x455c95=_0x13d91b;if(typeof _0x5b05d4!=='string'&&typeof _0x5b05d4!==_0x455c95(0x500))return![];const _0x55ba62=String(_0x5b05d4)['replace'](',','.')[_0x455c95(0x1a0)]();return _0x55ba62!==''&&!isNaN(parseFloat(_0x55ba62))&&isFinite(_0x55ba62);}async function gradeShortAnswer(_0x3819ff,_0x569e11){const _0x5dd18a=_0x13d91b,_0x5d92ab=_0x569e11[_0x5dd18a(0x158)],_0x18f0c2=String(_0x3819ff)[_0x5dd18a(0xdb5)](/\$/g,'')[_0x5dd18a(0x1a0)](),_0x39a3d6=String(_0x5d92ab)[_0x5dd18a(0xdb5)](/\$/g,'')[_0x5dd18a(0x1a0)]();if(_0x18f0c2[_0x5dd18a(0x3c8)]()===_0x39a3d6['toLowerCase']())return!![];if(isPotentiallyNumeric(_0x18f0c2)&&isPotentiallyNumeric(_0x39a3d6)){if(compareNumericalAnswers(_0x18f0c2,_0x39a3d6))return!![];}return console[_0x5dd18a(0xcf6)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x3819ff,_0x5d92ab);}async function revealAnswerForAdmin(_0xcae3ab,_0x52d962){const _0x45a691=_0x13d91b,_0x277a40=doc(db,_0x45a691(0x54a)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x277a40,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x57fdc3){const _0x26ff51=_0x13d91b,_0x391028=Object[_0x26ff51(0x3ff)](_0x57fdc3['players']||{})[_0x26ff51(0xc52)](_0x4a0567=>_0x4a0567[_0x26ff51(0x127)]===_0x26ff51(0x101));_0x391028[_0x26ff51(0x5d4)]((_0x37d26c,_0x41ff9a)=>_0x41ff9a['score']-_0x37d26c[_0x26ff51(0xc8b)]);const _0x4b71d6=_0x391028['slice'](0x0,0x5),_0xd79523=_0x26ff51(0x79b)+_0x4b71d6[_0x26ff51(0x1b0)]((_0xeaff4a,_0x3d3324)=>_0x26ff51(0x877)+(_0x3d3324+0x1)+'.\x20'+(_0xeaff4a[_0x26ff51(0x34b)]||Object[_0x26ff51(0x4bf)](_0x57fdc3['players'])[_0x26ff51(0xa3d)](_0x1ec723=>_0x57fdc3[_0x26ff51(0x5cc)][_0x1ec723]===_0xeaff4a))+_0x26ff51(0xc64)+_0xeaff4a[_0x26ff51(0xc8b)]+_0x26ff51(0x5a5))[_0x26ff51(0x22e)]('')+_0x26ff51(0x5c3)+(_0x57fdc3[_0x26ff51(0x601)]+0x1===currentQuizData[_0x26ff51(0x87f)]['length']?_0x26ff51(0xdd8):'ข้อต่อไป')+_0x26ff51(0xb03);liveGameView[_0x26ff51(0xbc4)]=_0xd79523,document[_0x26ff51(0x916)](_0x26ff51(0x763))[_0x26ff51(0xc2d)](_0x26ff51(0xab7),async()=>{const _0x18c37a=_0x26ff51,_0x1af131=doc(db,'artifacts/'+appId+_0x18c37a(0x543),currentLiveGameId),_0x522a70=_0x57fdc3['currentQuestionIndex']+0x1;if(_0x522a70<currentQuizData['questions']['length']){const _0x185684={'currentQuestionIndex':_0x522a70,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x18c37a(0x738)};Object['keys'](_0x57fdc3[_0x18c37a(0x5cc)])[_0x18c37a(0x5c9)](_0x19d120=>{const _0x1f0aeb=_0x18c37a;_0x185684[_0x1f0aeb(0x5a6)+_0x19d120+_0x1f0aeb(0x555)]=![];}),await updateDoc(_0x1af131,_0x185684);}else await updateDoc(_0x1af131,{'status':_0x18c37a(0x94a)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x545ec2=>{const _0x29b8b4=_0x28c2;if(_0x545ec2){userId=_0x545ec2[_0x29b8b4(0x64c)],userIdDisplay[_0x29b8b4(0xd9d)]=userId;const _0x2391e5=await loadUserPreferences();_0x2391e5[_0x29b8b4(0x3dc)]&&(document[_0x29b8b4(0x916)](_0x29b8b4(0x19c))['value']=_0x2391e5[_0x29b8b4(0x3dc)]);globalDashboardSettings[_0x29b8b4(0x1b9)]=_0x2391e5[_0x29b8b4(0x1b9)]||_0x29b8b4(0x4b0);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x322e41,_0x276297){const _0x515ef0=_0x13d91b;if(!userId)return;try{const _0x25d5d0=doc(db,'artifacts/'+appId+_0x515ef0(0x7b5)+userId+_0x515ef0(0x30f)),_0x762504={};_0x762504[_0x322e41]=_0x276297,await setDoc(_0x25d5d0,_0x762504,{'merge':!![]});}catch(_0x3dcaf5){console[_0x515ef0(0x689)](_0x515ef0(0xaa7),_0x3dcaf5);}}async function loadUserPreferences(){const _0x55dd92=_0x13d91b;if(!userId)return{};try{const _0x14f3bb=doc(db,_0x55dd92(0x54a)+appId+_0x55dd92(0x7b5)+userId+_0x55dd92(0x30f)),_0x48d9bc=await getDoc(_0x14f3bb);if(_0x48d9bc['exists']())return _0x48d9bc['data']();return{};}catch(_0x7a39ae){return console[_0x55dd92(0x689)](_0x55dd92(0x965),_0x7a39ae),{};}}function parseIndentedBlueprint(_0x59da26){const _0x47cdbf=_0x13d91b,_0x5cdd08=_0x59da26['split']('\x0a')['filter'](_0x1f8f74=>_0x1f8f74[_0x47cdbf(0x1a0)]()!==''),_0x1866be=[];let _0x4a394d=null,_0x2e0f11=null;return _0x5cdd08[_0x47cdbf(0x5c9)](_0xd383b8=>{const _0xf97a57=_0x47cdbf,_0xa532bf=_0xd383b8[_0xf97a57(0xcd5)](/^\s*/)[0x0][_0xf97a57(0x3d7)],_0x2f9486=_0xd383b8['trim']();if(_0xa532bf===0x0)_0x4a394d={'sara':_0x2f9486,'mainTopics':[]},_0x1866be[_0xf97a57(0x298)](_0x4a394d),_0x2e0f11=null;else{if(_0xa532bf>0x0&&_0xa532bf<0x8&&_0x4a394d)_0x2e0f11={'topicName':_0x2f9486,'subTopics':[]},_0x4a394d[_0xf97a57(0xa33)][_0xf97a57(0x298)](_0x2e0f11);else _0xa532bf>=0x8&&_0x2e0f11&&_0x2e0f11[_0xf97a57(0x506)][_0xf97a57(0x298)](_0x2f9486);}}),{'curriculum':_0x1866be};}async function handleManualBlueprintSave(){const _0x2c688d=_0x13d91b,_0xc92052=document[_0x2c688d(0x916)](_0x2c688d(0x2a6))[_0x2c688d(0x93c)]['trim'](),_0x1855b6=document['getElementById'](_0x2c688d(0x7b6))['value'][_0x2c688d(0x1a0)](),_0x2c9b08=document[_0x2c688d(0x916)](_0x2c688d(0x9ba))[_0x2c688d(0x93c)];if(!_0xc92052||!_0x1855b6||!_0x2c9b08){showMessage(_0x2c688d(0x1ea));return;}const _0x5a1823=parseIndentedBlueprint(_0x2c9b08);if(!_0x5a1823[_0x2c688d(0x77d)]||_0x5a1823[_0x2c688d(0x77d)]['length']===0x0){showMessage(_0x2c688d(0x8da));return;}const _0x222a2e={};let _0x4f5ff3=0x0;_0x5a1823['curriculum']['forEach'](_0x5e260a=>{const _0x2b2949=_0x2c688d;_0x5e260a[_0x2b2949(0xa33)]['forEach'](_0x1aace6=>{const _0x75c67c=_0x2b2949;_0x1aace6['subTopics'][_0x75c67c(0x5c9)](_0xdc3cef=>{const _0x5b4ca2=_0x75c67c,_0x4d01eb=_0x5b4ca2(0x1be)+Date[_0x5b4ca2(0x60e)]()+Math[_0x5b4ca2(0x29d)]()[_0x5b4ca2(0xda1)](0x24)[_0x5b4ca2(0x3e7)](0x2,0x9);_0x222a2e[_0x4d01eb]={'sara':_0x5e260a[_0x5b4ca2(0xde8)],'mainTopic':_0x1aace6[_0x5b4ca2(0x8ff)],'subTopic':_0xdc3cef,'status':'not_generated','lessonContent':null,'order':_0x4f5ff3++};});});});try{const _0xaa5384=collection(db,_0x2c688d(0x54a)+appId+'/public/data/blueprintProjects');await addDoc(_0xaa5384,{'projectName':_0xc92052,'gradeLevel':_0x1855b6,'topics':_0x222a2e,'createdAt':serverTimestamp()}),showMessage(_0x2c688d(0xdc7)+_0xc92052+_0x2c688d(0xc2b)),document['getElementById'](_0x2c688d(0x425))[_0x2c688d(0x734)][_0x2c688d(0x459)]('hidden');}catch(_0xb379a8){console[_0x2c688d(0x689)](_0x2c688d(0x8c4),_0xb379a8),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}function handleClearAllLinksForTopic(_0xf03d53){const _0x785ee3=_0x13d91b;showConfirmation(_0x785ee3(0x6dc),async()=>{const _0x535e9f=_0x785ee3;try{const _0xeeced1=doc(db,_0x535e9f(0x54a)+appId+_0x535e9f(0x6cd),currentBlueprintProjectId);await updateDoc(_0xeeced1,{[_0x535e9f(0x179)+_0xf03d53+_0x535e9f(0x73d)]:[]}),showMessage(_0x535e9f(0xbe7)),openTopicQuizBank(_0xf03d53),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4983af){console[_0x535e9f(0x689)](_0x535e9f(0x777),_0x4983af),showMessage(_0x535e9f(0x9ec));}});}function showPodiumView(_0x33bbbd,_0x533f42=_0x13d91b(0x820),_0x2d5909=null){const _0x2cade1=_0x13d91b,_0x142d32=_0x2d5909?.[_0x2cade1(0x9c6)]===!![],_0x4d45f5=Object['entries'](_0x33bbbd)[_0x2cade1(0x1b0)](([_0x747394,_0x1f50b6])=>({'name':_0x747394,'realScore':_0x1f50b6[_0x2cade1(0xd39)]||_0x1f50b6[_0x2cade1(0xc8b)]||0x0,'totalPoints':_0x1f50b6[_0x2cade1(0x482)]||0x0,'badges':_0x1f50b6['badges']||[],'hasPerfectScoreBonus':_0x1f50b6['hasPerfectScoreBonus']||![]})),_0x98470b=Math[_0x2cade1(0x88a)](..._0x4d45f5['map'](_0xe2ead1=>_0xe2ead1[_0x2cade1(0x482)]),-Infinity),_0x2c2c02=Math[_0x2cade1(0x88a)](..._0x4d45f5[_0x2cade1(0x1b0)](_0x840ee9=>_0x840ee9['realScore']),-Infinity);_0x4d45f5[_0x2cade1(0x5d4)]((_0x4afd96,_0x467012)=>{const _0x589c2f=_0x2cade1;if(_0x142d32){const _0x1ac193=_0x467012[_0x589c2f(0x482)]-_0x4afd96['totalPoints'];if(_0x1ac193!==0x0)return _0x1ac193;const _0x10b682=_0x467012[_0x589c2f(0xd39)]-_0x4afd96[_0x589c2f(0xd39)];if(_0x10b682!==0x0)return _0x10b682;return _0x4afd96[_0x589c2f(0x34b)][_0x589c2f(0xa7d)](_0x467012['name'],'th');}else{const _0x38c443=_0x467012['totalPoints']-_0x4afd96[_0x589c2f(0x482)];if(_0x38c443!==0x0)return _0x38c443;return _0x467012[_0x589c2f(0xd39)]-_0x4afd96[_0x589c2f(0xd39)];}});const _0x44e72c=_0x3c88fc=>{const _0x3eb163=_0x2cade1;if(!_0x3c88fc||_0x3c88fc['length']===0x0)return'';const _0x136133={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x3c88fc[_0x3eb163(0x1b0)](_0xfa903b=>_0x136133[_0xfa903b]||'')[_0x3eb163(0x22e)]('')+'</div>';},_0x10ee77=_0x1bf477=>{const _0x3dc72f=_0x2cade1;let _0x2dbf42='';if(_0x142d32){if(_0x1bf477['totalPoints']===_0x98470b&&_0x98470b>0x0)_0x2dbf42+=_0x3dc72f(0x50e);if(_0x1bf477[_0x3dc72f(0xd39)]===_0x2c2c02&&_0x2c2c02>0x0)_0x2dbf42+=_0x3dc72f(0xd37);}else{if(_0x1bf477[_0x3dc72f(0xd06)])_0x2dbf42=_0x3dc72f(0x99d);}if(_0x142d32){const _0xee1b6d=_0x1bf477['totalPoints']>=0x0?'(+'+_0x1bf477['totalPoints']+')':'('+_0x1bf477[_0x3dc72f(0x482)]+')';return'<p\x20class=\x22text-xl\x22>'+_0x1bf477[_0x3dc72f(0xd39)]+'\x20คะแนน\x20'+_0xee1b6d+'\x20'+_0x2dbf42+_0x3dc72f(0x6b4);}else return'<p\x20class=\x22text-xl\x22>'+_0x1bf477['totalPoints']+_0x3dc72f(0x268)+_0x2dbf42+_0x3dc72f(0x6b4);},_0x345315=_0x4d45f5[_0x2cade1(0x3e6)](0x3),_0x118791=_0x345315[_0x2cade1(0x3d7)]>0x0?_0x2cade1(0x58e)+_0x345315[_0x2cade1(0x1b0)]((_0x38e6be,_0x310a2f)=>{const _0x5cab69=_0x2cade1;return _0x5cab69(0x1f6)+(_0x310a2f+0x4)+_0x5cab69(0x7f5)+_0x38e6be[_0x5cab69(0x34b)]+_0x5cab69(0xd4f)+_0x10ee77(_0x38e6be)+_0x5cab69(0x26b);})[_0x2cade1(0x22e)]('')+_0x2cade1(0xa90):'',_0x3c2e7b=_0x2cade1(0x431)+(_0x4d45f5[0x1]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x4d45f5[0x1][_0x2cade1(0x34b)]+_0x2cade1(0x6b4)+_0x44e72c(_0x4d45f5[0x1]['badges'])+_0x10ee77(_0x4d45f5[0x1])+_0x2cade1(0x202):_0x2cade1(0x84a))+_0x2cade1(0x2ad)+(_0x4d45f5[0x0]?_0x2cade1(0x72d)+_0x4d45f5[0x0][_0x2cade1(0x34b)]+'</p>'+_0x44e72c(_0x4d45f5[0x0][_0x2cade1(0x27c)])+_0x10ee77(_0x4d45f5[0x0])+_0x2cade1(0xbfc):_0x2cade1(0x84a))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4d45f5[0x2]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x4d45f5[0x2]['name']+_0x2cade1(0x6b4)+_0x44e72c(_0x4d45f5[0x2][_0x2cade1(0x27c)])+_0x10ee77(_0x4d45f5[0x2])+_0x2cade1(0x68a):'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x118791+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x2cade1(0x1e4)?_0x2cade1(0xdbe):_0x2cade1(0x533))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';liveGameView['innerHTML']=_0x3c2e7b,currentMode===_0x2cade1(0x1e4)?document[_0x2cade1(0x916)](_0x2cade1(0x88e))[_0x2cade1(0xc2d)](_0x2cade1(0xab7),async()=>{const _0x349c1d=_0x2cade1;let _0x558600;_0x533f42==='sync'?_0x558600=doc(db,_0x349c1d(0x54a)+appId+_0x349c1d(0x66e),currentLiveGameId):_0x558600=doc(db,_0x349c1d(0x54a)+appId+_0x349c1d(0x543),currentLiveGameId),await deleteDoc(_0x558600);}):document['getElementById'](_0x2cade1(0x260))?.[_0x2cade1(0xc2d)](_0x2cade1(0xab7),()=>{showView('student');});}function renderSyncSummaryView(_0xdac93d,_0x8f99ea,_0x4d7e72){const _0x236b68=_0x13d91b,_0x582b9e=_0xdac93d[_0x236b68(0x5c1)]||'classic',_0x4c2b08=(_0x582b9e===_0x236b68(0x1a3)||_0x582b9e===_0x236b68(0x51b))&&_0xdac93d['isAnonymousRevealed']===![],_0x1540b8=_0x582b9e===_0x236b68(0x997)||_0x582b9e===_0x236b68(0x51b),_0x12022c=_0xdac93d[_0x236b68(0x571)]['questions'],_0x4825d9=_0x8f99ea[_0x236b68(0xa1a)]||_0xdac93d[_0x236b68(0x571)][_0x236b68(0x9b1)];let _0x289df8=[];_0x4825d9===_0x236b68(0x54f)?_0x289df8=['ใช่\x20/\x20ถูก',_0x236b68(0x612)]:_0x289df8=_0x8f99ea['options']||[];const _0x565f51=new Array(_0x289df8['length'])[_0x236b68(0x729)](0x0),_0x580001={};_0x289df8[_0x236b68(0x5c9)]((_0xf01830,_0x5d4761)=>{_0x580001[_0x5d4761]=[];}),Object[_0x236b68(0x915)](_0xdac93d[_0x236b68(0x5cc)]||{})[_0x236b68(0x5c9)](([_0x59d083,_0x4bad14])=>{const _0x2de269=_0x236b68;if(_0x4bad14['status']!==_0x2de269(0x949)&&_0x4bad14['lastAnswerIndex']!==undefined&&_0x4bad14[_0x2de269(0x79a)]!==null){const _0xdd5bf1=_0x4bad14[_0x2de269(0x79a)];if(_0x580001[_0xdd5bf1]!==undefined){const _0x494b7c=_0x4c2b08?_0xdac93d[_0x2de269(0xbc6)][_0x59d083]||_0x2de269(0x4ed):_0x59d083;_0x580001[_0xdd5bf1][_0x2de269(0x298)](_0x494b7c),_0x565f51[_0xdd5bf1]++;}}});let _0x23005='';const _0x2668df=_0xdac93d[_0x236b68(0x601)]>=_0x12022c[_0x236b68(0x3d7)]-0x1;_0x4d7e72?_0x1540b8?_0x2668df?_0x23005=_0x236b68(0xd95):_0x23005=_0x236b68(0x38d):_0x23005='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x1540b8?_0x23005='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>':_0x23005=_0x236b68(0x7d7);const _0x4e7b7c=_0x4d7e72?_0x236b68(0xd08)+_0xdac93d[_0x236b68(0x3f8)]+'</strong></div>':'',_0x380039=_0x236b68(0x9bd)+_0x4e7b7c+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>'+_0x8f99ea[_0x236b68(0xa35)]+_0x236b68(0xd12)+_0x565f51[_0x236b68(0x1b0)]((_0x4d46e2,_0x2f80ca)=>{const _0x12c453=_0x236b68,_0x321ff9=_0x580001[_0x2f80ca][_0x12c453(0x3d7)]>0x0?_0x580001[_0x2f80ca]['join'](',\x20'):_0x12c453(0xa60),_0x41b553=_0x12c453(0x2cc);return _0x12c453(0xa77)+_0x4d46e2+_0x12c453(0x4d7)+_0x41b553+_0x12c453(0x449)+_0x2f80ca+_0x12c453(0x267)+_0x289df8[_0x2f80ca]+_0x12c453(0x9db)+_0x2f80ca+_0x12c453(0x659)+_0x321ff9+_0x12c453(0xac1);})[_0x236b68(0x22e)]('')+_0x236b68(0x4bc)+_0x23005+_0x236b68(0xdbd);liveGameView[_0x236b68(0xbc4)]=_0x380039;if(window[_0x236b68(0xcaf)])MathJax['typesetPromise']();if(_0x4d7e72){const _0x4b109a=doc(db,_0x236b68(0x54a)+appId+_0x236b68(0x66e),currentLiveGameId);document['getElementById'](_0x236b68(0x495))?.[_0x236b68(0xc2d)](_0x236b68(0xab7),async()=>{const _0x3d5848=_0x236b68,_0x48ec63=Object[_0x3d5848(0x3ff)](_0xdac93d['players']||{})['map'](_0xfec7b2=>({'name':_0xfec7b2[_0x3d5848(0x34b)],'score':_0xfec7b2[_0x3d5848(0xc8b)]||0x0,'totalPoints':_0xfec7b2[_0x3d5848(0x482)]||0x0,'pointsLastRound':_0xfec7b2[_0x3d5848(0x681)]||0x0,'answers':_0xfec7b2[_0x3d5848(0x367)]||[]}));await updateDoc(_0x4b109a,{'status':_0x3d5848(0x84d),'publicLeaderboard':_0x48ec63});}),document[_0x236b68(0x916)](_0x236b68(0x2cd))?.[_0x236b68(0xc2d)](_0x236b68(0xab7),()=>{openScratchpad(_0x8f99ea,_0x289df8);}),document[_0x236b68(0x916)](_0x236b68(0x1bc))?.[_0x236b68(0xc2d)]('click',async()=>{const _0x505c05=_0x236b68,_0x98ae10=_0xdac93d[_0x505c05(0x601)]+0x1;await updateDoc(_0x4b109a,{'status':_0x505c05(0x512),'currentQuestionIndex':_0x98ae10,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}),document[_0x236b68(0x916)](_0x236b68(0xc46))?.[_0x236b68(0xc2d)](_0x236b68(0xab7),async()=>{const _0x43f0c5=_0x236b68,_0x1043f2=Object[_0x43f0c5(0x3ff)](_0xdac93d[_0x43f0c5(0x5cc)]||{})['map'](_0x3dda65=>({'name':_0x3dda65[_0x43f0c5(0x34b)],'score':_0x3dda65[_0x43f0c5(0xc8b)]||0x0,'totalPoints':_0x3dda65[_0x43f0c5(0x482)]||0x0,'pointsLastRound':_0x3dda65[_0x43f0c5(0x681)]||0x0,'answers':_0x3dda65[_0x43f0c5(0x367)]||[]}));await updateDoc(_0x4b109a,{'status':_0x43f0c5(0x84d),'reviewQuestionIndex':0x0,'publicLeaderboard':_0x1043f2});});}}function renderAnonymousStudentResultsView(_0x42abb3){const _0x5cfee8=_0x13d91b,_0x22ca65=_0x42abb3[_0x5cfee8(0x601)]>=_0x42abb3[_0x5cfee8(0x571)]['questions'][_0x5cfee8(0x3d7)]-0x1;let _0x5f4991='';if(_0x42abb3[_0x5cfee8(0xcf9)]===!![]){const _0xfbc458=_0x42abb3['players'][localTeamPlayers[0x0]],_0x45dd74=_0xfbc458[_0x5cfee8(0x34b)],_0x4e637b=_0xfbc458[_0x5cfee8(0xc8b)];_0x5f4991=_0x5cfee8(0x329)+_0x45dd74+_0x5cfee8(0x210)+_0x4e637b+_0x5cfee8(0x365);}else _0x5f4991=_0x5cfee8(0x680)+(_0x22ca65?_0x5cfee8(0x1fa):_0x5cfee8(0xabb))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';const _0x53da37='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5f4991+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x5cfee8(0xbc4)]=_0x53da37;}async function handleShowStudentRankings(){const _0x4ee7e3=_0x13d91b,_0xdba4f4=document[_0x4ee7e3(0x7f4)](_0x4ee7e3(0x6ef));_0xdba4f4&&(_0xdba4f4[_0x4ee7e3(0xbc4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0xaf7428=document[_0x4ee7e3(0x7f4)](_0x4ee7e3(0x43c));_0xaf7428&&(_0xaf7428[_0x4ee7e3(0xbc4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x43aa61=document['getElementById'](_0x4ee7e3(0xa49));_0x43aa61[_0x4ee7e3(0x734)][_0x4ee7e3(0x5cf)](_0x4ee7e3(0x4ad)),document[_0x4ee7e3(0x916)](_0x4ee7e3(0x86b))[_0x4ee7e3(0xc55)]=()=>_0x43aa61[_0x4ee7e3(0x734)][_0x4ee7e3(0x459)]('hidden');const _0xc60790=document[_0x4ee7e3(0x916)](_0x4ee7e3(0xb70)),_0x26ff04=document[_0x4ee7e3(0x916)]('student-project-leaderboard-tab'),_0x39e752=document[_0x4ee7e3(0x916)](_0x4ee7e3(0xc4c)),_0x3975f3=document[_0x4ee7e3(0x916)](_0x4ee7e3(0x8f0));_0xc60790[_0x4ee7e3(0xc55)]=()=>{const _0xee7cbb=_0x4ee7e3;_0xc60790[_0xee7cbb(0x734)][_0xee7cbb(0x459)](_0xee7cbb(0x101)),_0x26ff04[_0xee7cbb(0x734)][_0xee7cbb(0x5cf)](_0xee7cbb(0x101)),_0x39e752[_0xee7cbb(0x734)]['remove']('hidden'),_0x3975f3[_0xee7cbb(0x734)][_0xee7cbb(0x459)]('hidden');},_0x26ff04[_0x4ee7e3(0xc55)]=()=>{const _0x1f94dc=_0x4ee7e3;_0x26ff04[_0x1f94dc(0x734)][_0x1f94dc(0x459)]('active'),_0xc60790[_0x1f94dc(0x734)]['remove'](_0x1f94dc(0x101)),_0x3975f3[_0x1f94dc(0x734)]['remove'](_0x1f94dc(0x4ad)),_0x39e752[_0x1f94dc(0x734)][_0x1f94dc(0x459)](_0x1f94dc(0x4ad));};try{const _0x25374f=collection(db,_0x4ee7e3(0x54a)+appId+_0x4ee7e3(0x906)+currentQuizData['id']+_0x4ee7e3(0xcae)),_0x436afd=await getDocs(_0x25374f),_0x310457=_0x436afd['docs'][_0x4ee7e3(0x1b0)](_0x5628d0=>_0x5628d0[_0x4ee7e3(0xaf3)]());renderQuizLeaderboard(_0x310457,currentQuizData,'student-quiz-leaderboard-table-body');const _0x472604=collection(db,_0x4ee7e3(0x54a)+appId+'/public/data/projects/'+currentQuizData[_0x4ee7e3(0x7a5)]+_0x4ee7e3(0x5ac)),_0x40a7de=await getDocs(_0x472604),_0x52cbe9=_0x40a7de[_0x4ee7e3(0x1fb)][_0x4ee7e3(0x1b0)](_0x14c236=>_0x14c236[_0x4ee7e3(0xaf3)]());renderLeaderboard(_0x52cbe9,'student-project-leaderboard-table-body');}catch(_0x24e950){console[_0x4ee7e3(0x689)](_0x4ee7e3(0x905),_0x24e950),showMessage(_0x4ee7e3(0xbdd));}}async function handleSaveToBank(_0x57732e){const _0xc773f8=_0x13d91b,_0x13fdc4=_0x57732e['currentTarget'],_0x2777d5=_0x13fdc4[_0xc773f8(0xcba)][_0xc773f8(0x778)],_0x221ffe=currentQuizData[_0xc773f8(0x87f)][_0x2777d5];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x80715e={..._0x221ffe,'originalTopic':currentQuizData[_0xc773f8(0xdf4)],'savedAt':serverTimestamp()},_0x5159c3=collection(db,_0xc773f8(0x54a)+appId+_0xc773f8(0x7b5)+userId+_0xc773f8(0xd40));await addDoc(_0x5159c3,_0x80715e),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x13fdc4['classList'][_0xc773f8(0x5cf)](_0xc773f8(0x437)),_0x13fdc4['classList']['add']('text-green-600'),_0x13fdc4[_0xc773f8(0x426)]=!![];}catch(_0x1593bb){console[_0xc773f8(0x689)](_0xc773f8(0x502),_0x1593bb),showMessage(_0xc773f8(0xfd));}}async function selectProjectAndGenerateBlueprintQuiz(_0x4f2d32,_0x405e1f=null,_0x1e22c5=null,_0x15f328=![]){const _0xd1624=_0x13d91b;cameFromBlueprint=!![];const _0x2695bd=document['getElementById'](_0xd1624(0x9e2))?.[_0xd1624(0x93c)][_0xd1624(0x1a0)]();let _0x33ef37=null;if(_0x2695bd){showMessage(_0xd1624(0xb5b));try{const _0x564696=await fetchFileFromUrl(_0x2695bd,_0xd1624(0x728)),_0x105b9d=await new Promise((_0x5b0776,_0x2f42c5)=>{const _0x5078ce=_0xd1624,_0x1a2ba7=new FileReader();_0x1a2ba7[_0x5078ce(0xdd6)](_0x564696),_0x1a2ba7[_0x5078ce(0x766)]=()=>_0x5b0776(_0x1a2ba7['result']['split'](',')[0x1]),_0x1a2ba7[_0x5078ce(0x4e2)]=_0x2f42c5;});_0x33ef37=[{'inlineData':{'mimeType':_0x564696['type'],'data':_0x105b9d}}],messageModal[_0xd1624(0x734)]['add'](_0xd1624(0x4ad));}catch(_0x5d1d3a){console[_0xd1624(0x689)](_0xd1624(0x6d0),_0x5d1d3a),showMessage(_0xd1624(0xca7));}}const _0xe9ba8b=document[_0xd1624(0x916)](_0xd1624(0x305)),_0x483879=document['getElementById'](_0xd1624(0xd53)),_0x27ff2f=_0xe9ba8b[_0xd1624(0x7f4)]('h3'),_0x2732f0=document[_0xd1624(0x916)](_0xd1624(0x3f1)),_0x574166=document[_0xd1624(0x916)](_0xd1624(0xcfc));_0x27ff2f[_0xd1624(0xd9d)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x2732f0[_0xd1624(0xd9d)]=_0xd1624(0x2ac),_0x2732f0[_0xd1624(0x426)]=!![];allProjects[_0xd1624(0x3d7)]===0x0?_0x483879['innerHTML']=_0xd1624(0xbd8):(_0x483879[_0xd1624(0xbc4)]=_0xd1624(0x10d)+allProjects[_0xd1624(0x1b0)](_0x296b70=>_0xd1624(0x733)+_0x296b70['id']+'\x22>'+_0x296b70[_0xd1624(0xe04)]+_0xd1624(0xb4f))[_0xd1624(0x22e)](''),_0x2732f0['disabled']=![]);_0xe9ba8b[_0xd1624(0x734)]['remove'](_0xd1624(0x4ad));const _0x77d2a8=async()=>{const _0x1dbac0=_0xd1624,_0x643612=_0x483879[_0x1dbac0(0x93c)];if(!_0x643612){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0xe9ba8b[_0x1dbac0(0x734)]['add']('hidden'),document[_0x1dbac0(0x916)](_0x1dbac0(0x9f4))[_0x1dbac0(0x734)][_0x1dbac0(0x459)](_0x1dbac0(0x4ad)),await loadProjectDetails(_0x643612),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x4f2d32,_0x405e1f,_0x643612,_0x1e22c5,_0x15f328,_0x33ef37),_0x232539();},_0x232539=()=>{const _0x48cb1a=_0xd1624;_0x27ff2f[_0x48cb1a(0xd9d)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x2732f0[_0x48cb1a(0xd9d)]=_0x48cb1a(0xd97),_0x2732f0[_0x48cb1a(0x124)](_0x48cb1a(0xab7),_0x77d2a8),_0x574166[_0x48cb1a(0x124)](_0x48cb1a(0xab7),_0x232539),_0x2732f0['addEventListener']('click',confirmMoveQuiz);};_0x2732f0['removeEventListener']('click',confirmMoveQuiz),_0x2732f0[_0xd1624(0xc2d)]('click',_0x77d2a8),_0x574166['addEventListener'](_0xd1624(0xab7),_0x232539);}function listenForStarredQuizzes(){const _0x4695f5=_0x13d91b;if(!userId)return;const _0x1ab07f=collection(db,_0x4695f5(0x54a)+appId+_0x4695f5(0xd20)),_0x55c977=query(_0x1ab07f,where(_0x4695f5(0xb9e),'==',!![]));onSnapshot(_0x55c977,_0x95a48f=>{const _0x41f3b6=_0x4695f5;starredQuizzes=_0x95a48f[_0x41f3b6(0x1fb)][_0x41f3b6(0x1b0)](_0x40cb93=>({'id':_0x40cb93['id'],..._0x40cb93[_0x41f3b6(0xaf3)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x8e0490=>{const _0x5a733d=_0x4695f5;console[_0x5a733d(0x689)](_0x5a733d(0xba7),_0x8e0490);});}function listenForFileShortcuts(){const _0x324761=_0x13d91b,_0x27069e=doc(db,'globalSettings',_0x324761(0x174));onSnapshot(_0x27069e,_0x382cae=>{const _0x2e1c7b=_0x324761;let _0xb8529d=[],_0x73e5cb=[],_0x3aefe7={};if(_0x382cae[_0x2e1c7b(0x5fd)]()){const _0x5cb31f=_0x382cae[_0x2e1c7b(0xaf3)]();_0xb8529d=_0x5cb31f[_0x2e1c7b(0x4f4)]||[],_0x73e5cb=_0x5cb31f[_0x2e1c7b(0xb7a)]||[],_0x3aefe7=_0x5cb31f['fileShortcutOrder']||{};}!_0x73e5cb[_0x2e1c7b(0xa3d)](_0x279775=>_0x279775['id']===_0x2e1c7b(0x1e8))&&_0x73e5cb[_0x2e1c7b(0x2fa)]({'id':'all','name':'ไฟล์ทั้งหมด','isDefault':!![]}),!_0xb8529d[_0x2e1c7b(0xa3d)](_0x5cf0e4=>_0x5cf0e4['id']===_0x2e1c7b(0x370))&&_0xb8529d[_0x2e1c7b(0x2fa)]({'id':'file-default-1','name':_0x2e1c7b(0x4b8),'url':'','isDefault':!![]}),!_0xb8529d[_0x2e1c7b(0xa3d)](_0x5d0240=>_0x5d0240['id']===_0x2e1c7b(0x583))&&_0xb8529d[_0x2e1c7b(0x2fa)]({'id':'file-default-2','name':'ไฟล์ลัด\x202','url':'','isDefault':!![]}),fileShortcuts=_0xb8529d,fileShortcutTabs=_0x73e5cb,fileShortcutOrder=_0x3aefe7,renderFileShortcuts(),!document['getElementById'](_0x2e1c7b(0x47c))[_0x2e1c7b(0x734)][_0x2e1c7b(0x8ae)](_0x2e1c7b(0x4ad))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x3fe65c=_0x13d91b,_0x25f9b0=doc(db,_0x3fe65c(0xc75),_0x3fe65c(0x174));try{await setDoc(_0x25f9b0,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x2fa632){console['error'](_0x3fe65c(0xcc8),_0x2fa632);}}function renderAdditionalFileShortcutsModal(){const _0x43db29=_0x13d91b,_0x39e88b=document['getElementById'](_0x43db29(0x1f9)),_0x36ee67=document[_0x43db29(0x916)](_0x43db29(0x91e));if(!_0x39e88b||!_0x36ee67)return;_0x39e88b[_0x43db29(0xbc4)]=fileShortcutTabs[_0x43db29(0x1b0)](_0x204607=>{const _0x51012d=_0x43db29,_0x175d55=_0x204607['id']===activeFileShortcutTabId;return _0x51012d(0x5b7)+_0x204607['id']+_0x51012d(0x854)+(_0x175d55?_0x51012d(0x388):_0x51012d(0xb78))+_0x51012d(0x952)+_0x204607['name']+_0x51012d(0x7bb)+_0x204607[_0x51012d(0x34b)]+_0x51012d(0xdf0)+(!_0x204607[_0x51012d(0x8bf)]?_0x51012d(0x41a)+_0x204607['id']+_0x51012d(0x191):'')+_0x51012d(0xd4d);})[_0x43db29(0x22e)]('');const _0x34a376=fileShortcutTabs['find'](_0x29da8b=>_0x29da8b['id']===activeFileShortcutTabId);let _0x346813=_0x34a376?.[_0x43db29(0x8bf)]?[...fileShortcuts]:fileShortcuts['filter'](_0x3a6b8e=>(_0x34a376?.[_0x43db29(0x5b1)]||[])[_0x43db29(0xb28)](_0x3a6b8e['id']));const _0x31c619=fileShortcutOrder[activeFileShortcutTabId]||[];_0x346813[_0x43db29(0x5d4)]((_0x1a7205,_0x5f4131)=>{const _0x58df99=_0x43db29,_0x355f4a=_0x31c619[_0x58df99(0x188)](_0x1a7205['id']),_0x4a3ae9=_0x31c619[_0x58df99(0x188)](_0x5f4131['id']);return(_0x355f4a===-0x1?Infinity:_0x355f4a)-(_0x4a3ae9===-0x1?Infinity:_0x4a3ae9);}),_0x36ee67[_0x43db29(0xbc4)]=_0x346813[_0x43db29(0x1b0)](_0xf890ca=>{const _0x109979=_0x43db29,_0x483d3f=_0xf890ca['url']?'📄':'🔗',_0x48710b=fileShortcutTabs[_0x109979(0xc52)](_0x25fe93=>!_0x25fe93[_0x109979(0x8bf)]),_0x3059c5=_0x34a376[_0x109979(0x8bf)]&&_0x48710b[_0x109979(0x3d7)]>0x0?_0x109979(0xd91)+_0x48710b[_0x109979(0x1b0)](_0x156322=>_0x109979(0x4b6)+_0xf890ca['id']+'\x22\x20data-target-tab-id=\x22'+_0x156322['id']+'\x22>'+_0x156322[_0x109979(0x34b)]+_0x109979(0x88f))[_0x109979(0x22e)]('')+_0x109979(0x4ca):'';return _0x109979(0x731)+_0xf890ca['id']+_0x109979(0x95a)+_0x483d3f+'\x20'+_0xf890ca['name']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xf890ca['id']+_0x109979(0x60b)+_0xf890ca['id']+_0x109979(0xaf5)+(!_0xf890ca[_0x109979(0x8bf)]?_0x109979(0x640)+_0xf890ca['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x34a376[_0x109979(0x8bf)]?'<button\x20data-shortcut-id=\x22'+_0xf890ca['id']+'\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x109979(0xc78)+_0x3059c5+_0x109979(0x8e6);})[_0x43db29(0x22e)]('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x4d6376=_0x13d91b;document['querySelectorAll'](_0x4d6376(0x980))[_0x4d6376(0x5c9)](_0x58938d=>{const _0x2d14b5=_0x4d6376;_0x58938d['onclick']=_0xee54b0=>{const _0x383fcb=_0x28c2;activeFileShortcutTabId=_0xee54b0[_0x383fcb(0xb88)][_0x383fcb(0xcba)][_0x383fcb(0x803)],renderAdditionalFileShortcutsModal();},_0x58938d[_0x2d14b5(0xc0c)]=_0x35692a=>{const _0x182725=_0x2d14b5,_0x3487a6=_0x35692a[_0x182725(0xb88)]['querySelector'](_0x182725(0xb8e));_0x35692a[_0x182725(0xb88)][_0x182725(0x7f4)]('.tab-name-display')[_0x182725(0x734)]['add'](_0x182725(0x4ad)),_0x3487a6[_0x182725(0x734)][_0x182725(0x5cf)]('hidden'),_0x3487a6[_0x182725(0x3be)](),_0x3487a6['select']();};}),document[_0x4d6376(0x77f)]('#file-shortcut-tabs-nav\x20.tab-name-input')[_0x4d6376(0x5c9)](_0x38567c=>{const _0x36ab8a=_0x4d6376,_0x172c93=()=>{const _0x4659fd=_0x28c2,_0x4c9697=_0x38567c[_0x4659fd(0x7c4)](_0x4659fd(0x980))['dataset'][_0x4659fd(0x803)],_0x23da1d=fileShortcutTabs['find'](_0x34522b=>_0x34522b['id']===_0x4c9697);_0x23da1d&&(_0x23da1d[_0x4659fd(0x34b)]=_0x38567c[_0x4659fd(0x93c)]['trim']()||_0x23da1d[_0x4659fd(0x34b)],saveFileShortcutConfig());};_0x38567c[_0x36ab8a(0x2eb)]=_0x172c93,_0x38567c['onkeydown']=_0x1b351d=>{const _0x37e775=_0x36ab8a;if(_0x1b351d[_0x37e775(0x5bc)]===_0x37e775(0xae1))_0x38567c[_0x37e775(0x637)]();};}),document[_0x4d6376(0x77f)](_0x4d6376(0x996))[_0x4d6376(0x5c9)](_0x25a5df=>_0x25a5df[_0x4d6376(0xc55)]=_0xec8710=>{const _0x54b64b=_0x4d6376,_0x388750=_0xec8710['currentTarget'][_0x54b64b(0xcba)][_0x54b64b(0x803)];showConfirmation(_0x54b64b(0xd05),()=>{const _0x4382c8=_0x54b64b;fileShortcutTabs=fileShortcutTabs['filter'](_0x1ce22f=>_0x1ce22f['id']!==_0x388750),delete fileShortcutOrder[_0x388750];if(activeFileShortcutTabId===_0x388750)activeFileShortcutTabId=_0x4382c8(0x1e8);saveFileShortcutConfig();});}),document[_0x4d6376(0x77f)](_0x4d6376(0x605))[_0x4d6376(0x5c9)](_0x35203=>_0x35203[_0x4d6376(0xc55)]=_0x412315=>{const _0x1dde82=_0x4d6376;_0x412315[_0x1dde82(0x452)]();const {shortcutId:_0x66e5f3,targetTabId:_0x2c844c}=_0x412315['currentTarget'][_0x1dde82(0xcba)],_0x73c389=fileShortcutTabs[_0x1dde82(0xa3d)](_0x46f8a8=>_0x46f8a8['id']===_0x2c844c);_0x73c389&&!_0x73c389[_0x1dde82(0x5b1)]['includes'](_0x66e5f3)&&(_0x73c389[_0x1dde82(0x5b1)]['push'](_0x66e5f3),saveFileShortcutConfig());}),document[_0x4d6376(0x77f)]('.remove-file-shortcut-from-tab-btn')[_0x4d6376(0x5c9)](_0x294ca2=>_0x294ca2['onclick']=_0x37ea2f=>{const _0x10e8de=_0x4d6376,_0x15936a=_0x37ea2f[_0x10e8de(0xb88)][_0x10e8de(0xcba)]['shortcutId'],_0x412753=fileShortcutTabs[_0x10e8de(0xa3d)](_0x5536ba=>_0x5536ba['id']===activeFileShortcutTabId);_0x412753&&!_0x412753[_0x10e8de(0x8bf)]&&(_0x412753[_0x10e8de(0x5b1)]=_0x412753[_0x10e8de(0x5b1)][_0x10e8de(0xc52)](_0x14b79d=>_0x14b79d!==_0x15936a),saveFileShortcutConfig());}),document[_0x4d6376(0x77f)]('.move-file-shortcut-menu-btn')[_0x4d6376(0x5c9)](_0x1eaefe=>_0x1eaefe[_0x4d6376(0xc55)]=_0x3f2f01=>{const _0x40d0b6=_0x4d6376;_0x3f2f01[_0x40d0b6(0x8cc)]();const _0x170019=_0x3f2f01[_0x40d0b6(0xb88)][_0x40d0b6(0x705)];document[_0x40d0b6(0x77f)](_0x40d0b6(0x378))[_0x40d0b6(0x5c9)](_0x49448f=>_0x49448f[_0x40d0b6(0x734)][_0x40d0b6(0x459)](_0x40d0b6(0x4ad))),_0x170019['classList']['remove'](_0x40d0b6(0x4ad));});const _0x2440f9=document[_0x4d6376(0x916)](_0x4d6376(0x91e));let _0x93d62c=null;_0x2440f9[_0x4d6376(0x1c0)]=_0x4a21ed=>{const _0x3e46ee=_0x4d6376;_0x93d62c=_0x4a21ed['target'][_0x3e46ee(0x7c4)](_0x3e46ee(0x9e1));if(_0x93d62c)setTimeout(()=>_0x93d62c['classList']['add'](_0x3e46ee(0xe12)),0x0);},_0x2440f9[_0x4d6376(0x143)]=()=>{const _0x183712=_0x4d6376;_0x93d62c&&(_0x93d62c[_0x183712(0x734)]['remove'](_0x183712(0xe12)),_0x93d62c=null);},_0x2440f9[_0x4d6376(0x4f8)]=_0xfc259c=>{const _0x572215=_0x4d6376;_0xfc259c[_0x572215(0x452)]();},_0x2440f9[_0x4d6376(0x87e)]=_0x7c806e=>{const _0x5d5e08=_0x4d6376;_0x7c806e[_0x5d5e08(0x452)]();if(_0x93d62c){const _0xa5a39e=[..._0x2440f9[_0x5d5e08(0x77f)](_0x5d5e08(0x713))][_0x5d5e08(0xba9)]((_0x3cee4f,_0x55ae56)=>{const _0xd44229=_0x5d5e08,_0x303b78=_0x55ae56[_0xd44229(0x836)](),_0x1782bd=_0x7c806e['clientY']-_0x303b78['top']-_0x303b78[_0xd44229(0xcbb)]/0x2;return _0x1782bd<0x0&&_0x1782bd>_0x3cee4f[_0xd44229(0x80b)]?{'offset':_0x1782bd,'element':_0x55ae56}:_0x3cee4f;},{'offset':Number['NEGATIVE_INFINITY']})[_0x5d5e08(0x21d)];_0xa5a39e==null?_0x2440f9[_0x5d5e08(0x38c)](_0x93d62c):_0x2440f9['insertBefore'](_0x93d62c,_0xa5a39e);const _0x2fc542=[..._0x2440f9[_0x5d5e08(0x77f)](_0x5d5e08(0x9e1))][_0x5d5e08(0x1b0)](_0x329c99=>_0x329c99[_0x5d5e08(0xcba)]['shortcutId']);fileShortcutOrder[activeFileShortcutTabId]=_0x2fc542,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x32dcd8=_0x13d91b,_0x15c16e=prompt(_0x32dcd8(0x6fa),_0x32dcd8(0xd58));_0x15c16e&&_0x15c16e['trim']()&&(fileShortcutTabs[_0x32dcd8(0x298)]({'id':'tab_'+Date[_0x32dcd8(0x60e)](),'name':_0x15c16e[_0x32dcd8(0x1a0)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x5e596d=_0x13d91b,_0x15fd02=document[_0x5e596d(0x916)]('file-shortcut-container'),_0xdc754=document[_0x5e596d(0x916)](_0x5e596d(0x91e)),_0x35d0ef=document[_0x5e596d(0x916)]('file-shortcuts-loading-msg');if(_0x35d0ef)_0x35d0ef[_0x5e596d(0x734)]['add'](_0x5e596d(0x4ad));if(!_0x15fd02||!_0xdc754)return;const _0x51ba1a=fileShortcuts[_0x5e596d(0x3e6)](0x0,0x4),_0x1f2537=fileShortcuts['slice'](0x4);_0x15fd02[_0x5e596d(0xbc4)]=_0x51ba1a[_0x5e596d(0x1b0)](_0x2283e4=>{const _0x5a0242=_0x5e596d,_0x558c66=_0x2283e4[_0x5a0242(0x8af)]&&_0x2283e4[_0x5a0242(0x8af)][_0x5a0242(0x1a0)]()!=='',_0x2a862d=selectedFile&&selectedFile['shortcutId']===_0x2283e4['id'];let _0x1fb425=_0x5a0242(0xa9e),_0x34b9fa='🔗';if(_0x2a862d)_0x1fb425=_0x5a0242(0xb08),_0x34b9fa=_0x5a0242(0x4f7);else _0x558c66&&(_0x1fb425=_0x5a0242(0x13e),_0x34b9fa='📄');const _0x1a5da1=!_0x2283e4[_0x5a0242(0x8bf)]?_0x5a0242(0x640)+_0x2283e4['id']+_0x5a0242(0x9f5):'';return _0x5a0242(0x9d5)+_0x2283e4['id']+'\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20'+_0x1fb425+_0x5a0242(0x1c5)+_0x34b9fa+_0x5a0242(0x18b)+_0x2283e4[_0x5a0242(0x34b)]+_0x5a0242(0x7ed)+_0x2283e4['id']+_0x5a0242(0x7f9)+_0x1a5da1+_0x5a0242(0xaa9);})['join'](''),_0x1f2537[_0x5e596d(0x3d7)]>0x0&&(_0x15fd02['innerHTML']+=_0x5e596d(0xcee)),_0x1f2537[_0x5e596d(0x3d7)]>0x0?_0xdc754[_0x5e596d(0xbc4)]=_0x1f2537[_0x5e596d(0x1b0)](_0x11e239=>_0x5e596d(0xdb1)+(_0x11e239[_0x5e596d(0x8af)]?'📄':'🔗')+'\x20'+_0x11e239[_0x5e596d(0x34b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x11e239['id']+_0x5e596d(0xa73)+_0x11e239['id']+_0x5e596d(0x570)+(!_0x11e239[_0x5e596d(0x8bf)]?_0x5e596d(0x640)+_0x11e239['id']+_0x5e596d(0xd3e):'')+_0x5e596d(0x206))[_0x5e596d(0x22e)](''):_0xdc754['innerHTML']=_0x5e596d(0xb05);}function openFileShortcutEditor(_0x6e73d5=null){const _0x3e953f=_0x13d91b,_0x3d354e=document[_0x3e953f(0x916)](_0x3e953f(0xaa4)),_0x38a4f8=document['getElementById']('file-shortcut-modal-title'),_0x39748b=document[_0x3e953f(0x916)](_0x3e953f(0xa28)),_0x58b941=document['getElementById'](_0x3e953f(0x692)),_0x5c25c2=document[_0x3e953f(0x916)](_0x3e953f(0x9f3));if(_0x6e73d5){const _0x374a17=fileShortcuts['find'](_0x375f8e=>_0x375f8e['id']===_0x6e73d5);if(!_0x374a17)return;_0x38a4f8[_0x3e953f(0xd9d)]=_0x3e953f(0xd84),_0x39748b[_0x3e953f(0x93c)]=_0x374a17['id'],_0x58b941['value']=_0x374a17[_0x3e953f(0x34b)],_0x5c25c2[_0x3e953f(0x93c)]=_0x374a17[_0x3e953f(0x8af)]||'';}else _0x38a4f8[_0x3e953f(0xd9d)]=_0x3e953f(0x608),_0x39748b['value']='',_0x58b941['value']='',_0x5c25c2[_0x3e953f(0x93c)]='';_0x3d354e[_0x3e953f(0x734)]['remove'](_0x3e953f(0x4ad));}async function saveFileShortcutChanges(){const _0x5f4226=_0x13d91b,_0x1c99d5=document['getElementById'](_0x5f4226(0xa28))[_0x5f4226(0x93c)],_0x2b7841=document[_0x5f4226(0x916)](_0x5f4226(0x692))[_0x5f4226(0x93c)]['trim'](),_0x3befc8=document[_0x5f4226(0x916)]('file-shortcut-url-input')[_0x5f4226(0x93c)][_0x5f4226(0x1a0)]();if(!_0x2b7841){showMessage(_0x5f4226(0xd1a));return;}const _0x50bdb5={'id':_0x1c99d5||_0x5f4226(0xb90)+Date['now'](),'name':_0x2b7841,'url':_0x3befc8,'isDefault':_0x1c99d5[_0x5f4226(0x9cd)](_0x5f4226(0x7fa))};let _0x1ed8ab;_0x1c99d5?_0x1ed8ab=fileShortcuts[_0x5f4226(0x1b0)](_0x2d7637=>_0x2d7637['id']===_0x1c99d5?_0x50bdb5:_0x2d7637):_0x1ed8ab=[...fileShortcuts,_0x50bdb5];try{const _0x38169f=doc(db,'globalSettings',_0x5f4226(0x174));await setDoc(_0x38169f,{'shortcuts':_0x1ed8ab},{'merge':!![]}),document[_0x5f4226(0x916)](_0x5f4226(0xaa4))['classList'][_0x5f4226(0x459)](_0x5f4226(0x4ad));}catch(_0x22dcb1){console[_0x5f4226(0x689)](_0x5f4226(0xbbf),_0x22dcb1),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleFileShortcutClick(_0x15c46a){const _0x7e30e3=_0x13d91b,_0x22fe74=fileShortcuts['find'](_0x554cbd=>_0x554cbd['id']===_0x15c46a);if(!_0x22fe74)return;if(!_0x22fe74['url']||_0x22fe74['url'][_0x7e30e3(0x1a0)]()===''){openFileShortcutEditor(_0x15c46a);return;}const _0x61dceb=document[_0x7e30e3(0x7f4)](_0x7e30e3(0xc86)+_0x15c46a+'\x22]');if(_0x61dceb){const _0x2102d3=_0x61dceb[_0x7e30e3(0xbc4)];_0x61dceb[_0x7e30e3(0xbc4)]=_0x7e30e3(0xd23),_0x61dceb['disabled']=!![];}document[_0x7e30e3(0x77f)](_0x7e30e3(0x3f7))[_0x7e30e3(0x5c9)](_0x2280cd=>{const _0x239227=_0x7e30e3;if(_0x2280cd[_0x239227(0xcba)]['id']!==_0x15c46a)_0x2280cd['classList']['add']('opacity-50',_0x239227(0x366));});try{const _0x3ab373=new URL(_0x22fe74[_0x7e30e3(0x8af)])['pathname'],_0x30f3c1=_0x3ab373[_0x7e30e3(0x197)](_0x3ab373[_0x7e30e3(0x60f)]('/')+0x1)||(_0x22fe74['url']['includes'](_0x7e30e3(0xa27))?_0x7e30e3(0x76e):'file.pdf'),_0x422007=await fetchFileFromUrl(_0x22fe74[_0x7e30e3(0x8af)],_0x30f3c1);_0x422007[_0x7e30e3(0xcc5)]=_0x15c46a,selectedFile=_0x422007,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document['getElementById']('file-input-area')['scrollIntoView']({'behavior':'smooth','block':'center'});}catch(_0x1bbcc5){console['error']('Error\x20processing\x20file\x20shortcut\x20click:',_0x1bbcc5),showMessage(_0x7e30e3(0x17a)+_0x1bbcc5[_0x7e30e3(0xbd0)]),renderFileShortcuts();}finally{document[_0x7e30e3(0x77f)](_0x7e30e3(0x3f7))[_0x7e30e3(0x5c9)](_0x368f27=>{const _0x4c5c59=_0x7e30e3;_0x368f27[_0x4c5c59(0x734)][_0x4c5c59(0x5cf)]('opacity-50',_0x4c5c59(0x366)),_0x368f27[_0x4c5c59(0x426)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x41e7dc=_0x13d91b;if(allQuizzesGlobal['length']>0x0)return;console[_0x41e7dc(0xcf6)]('Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...'),showMessage('กำลังโหลดคลังข้อสอบทั้งหมด...');try{const _0x20e1d7=await getDocs(collection(db,_0x41e7dc(0x54a)+appId+_0x41e7dc(0xd20)));allQuizzesGlobal=_0x20e1d7[_0x41e7dc(0x1fb)][_0x41e7dc(0x1b0)](_0x13ee32=>({'id':_0x13ee32['id'],..._0x13ee32[_0x41e7dc(0xaf3)]()})),console['log']('Loaded\x20'+allQuizzesGlobal[_0x41e7dc(0x3d7)]+'\x20quizzes\x20into\x20global\x20cache.'),messageModal[_0x41e7dc(0x734)][_0x41e7dc(0x459)]('hidden');}catch(_0x2814ac){console[_0x41e7dc(0x689)]('Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.',_0x2814ac),messageModal[_0x41e7dc(0x734)][_0x41e7dc(0x459)]('hidden');throw new Error(_0x41e7dc(0x189));}}function exportQuizAsWorksheetPDF(){const _0x1f0ee6=_0x13d91b;if(!currentQuizData||!currentQuizData[_0x1f0ee6(0x87f)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x13674a=currentQuizData,_0x44efe9=window[_0x1f0ee6(0x208)]('',_0x1f0ee6(0xda8)),_0x196edf=_0x4bc072=>String[_0x1f0ee6(0xd18)](0x41+_0x4bc072),_0x2d53cd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x13674a[_0x1f0ee6(0xdf4)]+_0x1f0ee6(0xa80)+_0x13674a[_0x1f0ee6(0xdf4)]+_0x1f0ee6(0x6c6)+_0x13674a['questions'][_0x1f0ee6(0x1b0)]((_0x54d5a3,_0x1099fc)=>{const _0x798b00=_0x1f0ee6;let _0x349218='';const _0x5124cc=_0x54d5a3[_0x798b00(0xa1a)]||_0x13674a['quizType'];switch(_0x5124cc){case _0x798b00(0x3e2):case _0x798b00(0x362):_0x349218='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x54d5a3['options'][_0x798b00(0x1b0)]((_0x111410,_0x13718c)=>_0x798b00(0x2ed)+_0x196edf(_0x13718c)+'.\x20'+_0x111410+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x798b00(0x22e)]('<br>')+_0x798b00(0xa4f);break;case'true_false':_0x349218='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x349218=_0x798b00(0xb77);break;}return _0x798b00(0xad9)+(_0x1099fc+0x1)+_0x798b00(0x5a9)+(_0x54d5a3[_0x798b00(0x3a9)]||_0x54d5a3[_0x798b00(0xa35)])+_0x798b00(0xc2f)+(_0x54d5a3[_0x798b00(0x6d6)]?_0x798b00(0xd54)+_0x54d5a3[_0x798b00(0x6d6)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x349218+_0x798b00(0xc91);})[_0x1f0ee6(0x22e)]('')+_0x1f0ee6(0x32a);_0x44efe9[_0x1f0ee6(0x75e)][_0x1f0ee6(0x3d6)](_0x2d53cd),_0x44efe9[_0x1f0ee6(0x75e)][_0x1f0ee6(0x3fb)](),_0x44efe9[_0x1f0ee6(0x766)]=function(){setTimeout(()=>{const _0x2ff758=_0x28c2;_0x44efe9[_0x2ff758(0x308)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x4420ab=_0x13d91b;if(!currentQuizData||!currentQuizData[_0x4420ab(0x87f)]){showMessage(_0x4420ab(0xbec));return;}const _0x4c9237=currentQuizData,_0xb4e160=window[_0x4420ab(0x208)]('',_0x4420ab(0xda8)),_0x324c0d=_0x75f356=>String[_0x4420ab(0xd18)](0x41+_0x75f356),_0x3ffc9a=_0x4420ab(0x866)+_0x4c9237[_0x4420ab(0xdf4)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4c9237[_0x4420ab(0x87f)][_0x4420ab(0x1b0)]((_0x46bc58,_0x39db27)=>{const _0x9fd8c2=_0x4420ab;let _0x3590b7='';const _0x4ac81d=_0x46bc58[_0x9fd8c2(0xa1a)]||_0x4c9237[_0x9fd8c2(0x9b1)];switch(_0x4ac81d){case _0x9fd8c2(0x3e2):case _0x9fd8c2(0x362):_0x3590b7='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x46bc58[_0x9fd8c2(0x238)][_0x9fd8c2(0x1b0)]((_0xb9924,_0x600e93)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x324c0d(_0x600e93)+'.\x20'+_0xb9924+_0x9fd8c2(0xbc2))['join'](_0x9fd8c2(0x320))+_0x9fd8c2(0x6bd);break;case'true_false':_0x3590b7=_0x9fd8c2(0xd00);break;default:_0x3590b7='';break;}return _0x9fd8c2(0x438)+_0x4c9237['topic']+_0x9fd8c2(0xde6)+(_0x39db27+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x46bc58[_0x9fd8c2(0x3a9)]||_0x46bc58['questionText'])+_0x9fd8c2(0xc2f)+(_0x46bc58[_0x9fd8c2(0x6d6)]?_0x9fd8c2(0x3d0)+_0x46bc58[_0x9fd8c2(0x6d6)]+_0x9fd8c2(0xa4f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3590b7+_0x9fd8c2(0xa82);})[_0x4420ab(0x22e)]('')+_0x4420ab(0xa3f);_0xb4e160['document'][_0x4420ab(0x3d6)](_0x3ffc9a),_0xb4e160['document'][_0x4420ab(0x3fb)](),_0xb4e160[_0x4420ab(0x766)]=function(){setTimeout(()=>{_0xb4e160['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x1e3fe4){const _0x34fe82=_0x13d91b,_0x1e2f3c=doc(db,_0x34fe82(0x54a)+appId+_0x34fe82(0xd20),_0x1e3fe4);try{const _0x32b8f7=await getDoc(_0x1e2f3c);if(_0x32b8f7['exists']()){const _0x48d5ab=_0x32b8f7[_0x34fe82(0xaf3)]()[_0x34fe82(0xb9e)]||![];await updateDoc(_0x1e2f3c,{'isStarred':!_0x48d5ab});}}catch(_0x54f602){console[_0x34fe82(0x689)]('Error\x20toggling\x20star\x20status:',_0x54f602),showMessage(_0x34fe82(0x21a));}}async function displayQuestionBank(){const _0x373f3b=_0x13d91b,_0x536613=document[_0x373f3b(0x916)](_0x373f3b(0x98e));_0x536613[_0x373f3b(0xbc4)]=_0x373f3b(0x67b);try{const _0x677746=collection(db,_0x373f3b(0x54a)+appId+'/users/'+userId+_0x373f3b(0xd40)),_0x38ce9a=query(_0x677746),_0x2bc8e0=await getDocs(_0x38ce9a);if(_0x2bc8e0[_0x373f3b(0x71c)]){_0x536613[_0x373f3b(0xbc4)]=_0x373f3b(0x9c8);return;}let _0x5e92d0=_0x2bc8e0['docs'][_0x373f3b(0x1b0)](_0x3307d1=>{const _0x5f3857=_0x373f3b,_0xd7421c=_0x3307d1[_0x5f3857(0xaf3)](),_0x287fcb=_0x3307d1['id'];return _0x5f3857(0x864)+JSON['stringify'](_0xd7421c)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0xd7421c[_0x5f3857(0xa35)]||_0xd7421c[_0x5f3857(0x3a9)])+_0x5f3857(0x595)+_0xd7421c[_0x5f3857(0x632)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x373f3b(0x22e)]('');_0x536613['innerHTML']=_0x373f3b(0x57b)+_0x5e92d0+_0x373f3b(0xdd2),document[_0x373f3b(0x916)]('create-from-bank-btn')[_0x373f3b(0xc2d)]('click',createQuizFromBank);}catch(_0x463745){console[_0x373f3b(0x689)](_0x373f3b(0x712),_0x463745),_0x536613[_0x373f3b(0xbc4)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}async function handleExportLessonToPDF(){const _0x42fed4=_0x13d91b,_0x77ac74=document[_0x42fed4(0x916)](_0x42fed4(0x64d)),_0x37300c=document[_0x42fed4(0x916)](_0x42fed4(0xb9c))[_0x42fed4(0xd9d)]||'บทเรียน';if(!_0x77ac74){showMessage('ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export');return;}const _0x300210=window['open']('','_blank'),_0x4768ff=_0x42fed4(0x24b)+_0x37300c+_0x42fed4(0x7d5)+_0x37300c+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x77ac74[_0x42fed4(0xbc4)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x300210['document'][_0x42fed4(0x3d6)](_0x4768ff),_0x300210[_0x42fed4(0x75e)][_0x42fed4(0x3fb)](),_0x300210[_0x42fed4(0x766)]=function(){setTimeout(()=>{_0x300210['print']();},0x7d0);};}function showAdminLiveQuestionView(_0x16cb29,_0x565a2b,_0x9e15dc){const _0x265730=_0x13d91b,_0x205146=_0x16cb29[_0x265730(0xa1a)]||currentQuizData['quizType'];let _0x10bf4f='';if(_0x205146===_0x265730(0x3e2)||_0x205146==='true_false'){const _0x3eaece=_0x205146===_0x265730(0x54f)?[_0x265730(0x658),_0x265730(0xa5c)]:_0x16cb29[_0x265730(0x238)],_0x3cc8cf=_0x205146===_0x265730(0x54f)?_0x16cb29['correctAnswer']?0x0:0x1:_0x16cb29[_0x265730(0xae6)];_0x10bf4f=_0x3eaece[_0x265730(0x1b0)]((_0x5e1085,_0x11ecdb)=>_0x265730(0xb6d)+(_0x11ecdb===_0x3cc8cf)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5e1085+_0x265730(0xaa9))['join']('');}else{if(_0x205146===_0x265730(0x416)){const _0x2744c2=_0x16cb29[_0x265730(0x47b)]||[];_0x10bf4f=_0x2744c2[_0x265730(0x1b0)](_0x3b7c1b=>_0x265730(0xb6d)+(_0x3b7c1b===_0x16cb29[_0x265730(0x994)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b7c1b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x265730(0x22e)]('');}}const _0x57d457=_0x16cb29['stem']||_0x16cb29['questionText'],_0x1c192c=_0x265730(0x5f4)+(_0x565a2b+0x1)+'\x20/\x20'+_0x9e15dc+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+currentLiveGamePin+_0x265730(0x401)+_0x57d457+_0x265730(0xae7)+_0x10bf4f+_0x265730(0xcc7);liveGameView[_0x265730(0xbc4)]=_0x1c192c,window['MathJax']&&MathJax[_0x265730(0x1cd)]&&MathJax[_0x265730(0x1cd)]([liveGameView]),document[_0x265730(0x916)](_0x265730(0x507))[_0x265730(0xc2d)](_0x265730(0xab7),()=>revealAnswerForAdmin(_0x565a2b,_0x9e15dc)),document[_0x265730(0x916)](_0x265730(0x565))['addEventListener'](_0x265730(0xab7),async()=>{const _0x386458=_0x265730;showConfirmation(_0x386458(0x861),async()=>{const _0x4688a4=_0x386458,_0xc16993=doc(db,_0x4688a4(0x54a)+appId+_0x4688a4(0x543),currentLiveGameId);await updateDoc(_0xc16993,{'status':_0x4688a4(0x94a)});});}),document['getElementById']('manage-players-btn')[_0x265730(0xc2d)](_0x265730(0xab7),()=>{const _0x894770=_0x265730;document[_0x894770(0x916)](_0x894770(0x526))[_0x894770(0x734)][_0x894770(0x3bc)]('hidden');});}function promptForProjectBeforeGenerating(_0x33e8a8){const _0x3f6c83=_0x13d91b,_0x14e80b=document['getElementById'](_0x3f6c83(0x305)),_0x4980ce=document['getElementById']('move-quiz-project-select'),_0x4797f5=_0x14e80b['querySelector']('h3'),_0x1198cc=document[_0x3f6c83(0x916)](_0x3f6c83(0x3f1)),_0x5a0c1b=document[_0x3f6c83(0x916)](_0x3f6c83(0xcfc));_0x4797f5[_0x3f6c83(0xd9d)]=_0x3f6c83(0xbc1),_0x1198cc[_0x3f6c83(0xd9d)]='เลือกและเริ่มสร้าง',_0x1198cc[_0x3f6c83(0x426)]=!![];allProjects[_0x3f6c83(0x3d7)]===0x0?_0x4980ce['innerHTML']=_0x3f6c83(0xbd8):(_0x4980ce[_0x3f6c83(0xbc4)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0x3f6c83(0x1b0)](_0x4efc04=>_0x3f6c83(0x733)+_0x4efc04['id']+'\x22>'+_0x4efc04[_0x3f6c83(0xe04)]+_0x3f6c83(0xb4f))['join'](''),_0x1198cc[_0x3f6c83(0x426)]=![]);_0x14e80b[_0x3f6c83(0x734)][_0x3f6c83(0x5cf)](_0x3f6c83(0x4ad));const _0x284335=async()=>{const _0x359744=_0x3f6c83,_0x3a92ce=_0x4980ce[_0x359744(0x93c)];if(!_0x3a92ce){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x14e80b[_0x359744(0x734)][_0x359744(0x459)](_0x359744(0x4ad)),await loadProjectDetails(_0x3a92ce),showView(_0x359744(0x560)),handleGenerateQuizFromBlueprintTopic(_0x33e8a8),_0x242b95();},_0x242b95=()=>{const _0x332510=_0x3f6c83;_0x4797f5['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x1198cc[_0x332510(0xd9d)]='ย้าย',_0x1198cc[_0x332510(0x124)](_0x332510(0xab7),_0x284335),_0x5a0c1b[_0x332510(0x124)](_0x332510(0xab7),_0x242b95),_0x1198cc[_0x332510(0xc2d)](_0x332510(0xab7),confirmMoveQuiz);};_0x1198cc[_0x3f6c83(0x124)](_0x3f6c83(0xab7),confirmMoveQuiz),_0x1198cc[_0x3f6c83(0xc2d)](_0x3f6c83(0xab7),_0x284335),_0x5a0c1b[_0x3f6c83(0xc2d)](_0x3f6c83(0xab7),_0x242b95);}function showStudentLiveQuestionView(_0x4a69ec,_0x2f7dd2,_0x3c0bb0){const _0x4d3e9=_0x13d91b,_0x55a9ac=_0x4a69ec['questionType']||currentQuizData[_0x4d3e9(0x9b1)];let _0x47ae81='';if(_0x55a9ac===_0x4d3e9(0x3e2)||_0x55a9ac===_0x4d3e9(0x54f)){const _0x52f48d=_0x55a9ac===_0x4d3e9(0x54f)?['ใช่',_0x4d3e9(0xa5c)]:_0x4a69ec[_0x4d3e9(0x238)];_0x47ae81=_0x52f48d[_0x4d3e9(0x1b0)]((_0x4a2e12,_0x1d5a4c)=>_0x4d3e9(0x6bb)+_0x1d5a4c+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a2e12+_0x4d3e9(0xd0a))[_0x4d3e9(0x22e)]('');}else{if(_0x55a9ac===_0x4d3e9(0x416)){const _0x5cf75f=_0x4a69ec[_0x4d3e9(0x47b)]||[];_0x47ae81=_0x5cf75f[_0x4d3e9(0x1b0)]((_0x4d6305,_0x550a5a)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x550a5a+_0x4d3e9(0x480)+_0x4d6305+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}else _0x55a9ac===_0x4d3e9(0x21b)&&(_0x47ae81=_0x4d3e9(0xc3f));}const _0x324f04=_0x4a69ec['stem']||_0x4a69ec[_0x4d3e9(0xa35)],_0x53ebc4=_0x4d3e9(0xd1c)+(_0x2f7dd2+0x1)+'\x20/\x20'+_0x3c0bb0+_0x4d3e9(0x2c5)+_0x324f04+_0x4d3e9(0x79f)+_0x47ae81+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x4d3e9(0xbc4)]=_0x53ebc4;window[_0x4d3e9(0xcaf)]&&MathJax[_0x4d3e9(0x1cd)]&&MathJax[_0x4d3e9(0x1cd)]([liveGameView]);const _0x27e9f8=document[_0x4d3e9(0x916)](_0x4d3e9(0x8e2));_0x27e9f8&&_0x27e9f8[_0x4d3e9(0xc2d)](_0x4d3e9(0xab7),()=>{const _0x358a1b=_0x4d3e9,_0x4c26d3=document[_0x358a1b(0x916)](_0x358a1b(0x5af))[_0x358a1b(0x93c)];handleLiveAnswer(_0x4c26d3,_0x4a69ec);}),document['getElementById'](_0x4d3e9(0x748))['addEventListener'](_0x4d3e9(0xab7),_0x5b740a=>{const _0x2943e6=_0x4d3e9,_0x18d7a6=_0x5b740a[_0x2943e6(0x3fe)][_0x2943e6(0x7c4)](_0x2943e6(0x222));if(_0x18d7a6){const _0x25b7f4=parseInt(_0x18d7a6['dataset'][_0x2943e6(0x778)]);handleLiveAnswer(_0x25b7f4,_0x4a69ec);}});}function listenForBlueprintShortcuts(){const _0x367d50=_0x13d91b,_0x227840=doc(db,_0x367d50(0xc75),_0x367d50(0x7fc));onSnapshot(_0x227840,_0x1538d1=>{const _0x187a83=_0x367d50;let _0x51f9ee=[],_0x5abcf7=[],_0x2565d4={};if(_0x1538d1[_0x187a83(0x5fd)]()){const _0x59b4c0=_0x1538d1[_0x187a83(0xaf3)]();_0x51f9ee=_0x59b4c0['blueprintShortcuts']||[],_0x5abcf7=_0x59b4c0[_0x187a83(0x3cc)]||[],_0x2565d4=_0x59b4c0[_0x187a83(0xb5c)]||{};}!_0x5abcf7[_0x187a83(0xa3d)](_0x4558a0=>_0x4558a0['id']===_0x187a83(0x1e8))&&_0x5abcf7[_0x187a83(0x2fa)]({'id':_0x187a83(0x1e8),'name':_0x187a83(0x96b),'isDefault':!![]}),!_0x51f9ee[_0x187a83(0xa3d)](_0x4b0170=>_0x4b0170['id']===_0x187a83(0x593))&&_0x51f9ee['unshift']({'id':_0x187a83(0x593),'name':_0x187a83(0xa8d),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x51f9ee['find'](_0x389f86=>_0x389f86['id']===_0x187a83(0x6f1))&&_0x51f9ee['unshift']({'id':_0x187a83(0x6f1),'name':_0x187a83(0xe19),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x51f9ee,shortcutTabs=_0x5abcf7,shortcutOrder=_0x2565d4,renderBlueprintShortcuts(),!document[_0x187a83(0x916)](_0x187a83(0x1af))[_0x187a83(0x734)]['contains'](_0x187a83(0x4ad))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x9ced5c=_0x13d91b,_0x12321a=document['getElementById']('shortcut-tabs-nav'),_0x49d4eb=document[_0x9ced5c(0x916)](_0x9ced5c(0xcaa));if(!_0x12321a||!_0x49d4eb)return;_0x12321a[_0x9ced5c(0xbc4)]=shortcutTabs[_0x9ced5c(0x1b0)](_0x5cde20=>{const _0x512e5b=_0x9ced5c,_0x5cc08e=_0x5cde20['id']===activeShortcutTabId,_0x185a49=_0x512e5b(0x388),_0x37beec=_0x512e5b(0xb78);return _0x512e5b(0xaa8)+_0x5cde20['id']+_0x512e5b(0x4c3)+(_0x5cc08e?_0x185a49:_0x37beec)+_0x512e5b(0xb0b)+_0x5cde20[_0x512e5b(0x34b)]+_0x512e5b(0x6cc)+_0x5cde20['name']+_0x512e5b(0x461)+(!_0x5cde20['isDefault']?_0x512e5b(0xb6e)+_0x5cde20['id']+_0x512e5b(0x607):'')+_0x512e5b(0xaa9);})['join']('');const _0x241246=shortcutTabs[_0x9ced5c(0xa3d)](_0x4c357e=>_0x4c357e['id']===activeShortcutTabId);let _0x1e1bf4=[];if(_0x241246){if(_0x241246[_0x9ced5c(0x8bf)])_0x1e1bf4=[...blueprintShortcuts];else{const _0x3229ef=_0x241246[_0x9ced5c(0x5b1)]||[];_0x1e1bf4=blueprintShortcuts[_0x9ced5c(0xc52)](_0x5d198e=>_0x3229ef['includes'](_0x5d198e['id']));}}const _0x276789=shortcutOrder[activeShortcutTabId]||[];_0x1e1bf4[_0x9ced5c(0x5d4)]((_0x28fef8,_0x9c81d)=>{const _0x2fa9e4=_0x276789['indexOf'](_0x28fef8['id']),_0x1ad3e0=_0x276789['indexOf'](_0x9c81d['id']);if(_0x2fa9e4===-0x1)return 0x1;if(_0x1ad3e0===-0x1)return-0x1;return _0x2fa9e4-_0x1ad3e0;}),_0x49d4eb[_0x9ced5c(0xbc4)]=_0x1e1bf4['length']>0x0?_0x1e1bf4[_0x9ced5c(0x1b0)](_0x3fe192=>{const _0x3b749e=_0x9ced5c;let _0x20fc44='🧩';if(_0x3fe192['blueprintUrl']&&_0x3fe192[_0x3b749e(0xbbe)])_0x20fc44='📗';else{if(_0x3fe192[_0x3b749e(0x2ff)])_0x20fc44='📘';}const _0x54cee5=shortcutTabs['filter'](_0x5050dc=>!_0x5050dc[_0x3b749e(0x8bf)]),_0x273fb3=_0x241246[_0x3b749e(0x8bf)]&&_0x54cee5[_0x3b749e(0x3d7)]>0x0?_0x3b749e(0x486)+_0x54cee5[_0x3b749e(0x1b0)](_0x239e98=>_0x3b749e(0xb73)+_0x3fe192['id']+'\x22\x20data-target-tab-id=\x22'+_0x239e98['id']+'\x22>'+_0x239e98[_0x3b749e(0x34b)]+'</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3b749e(0x22e)]('')+_0x3b749e(0x324):'';return _0x3b749e(0x78f)+_0x3fe192['id']+_0x3b749e(0x2fc)+_0x20fc44+'\x20'+_0x3fe192[_0x3b749e(0x34b)]+_0x3b749e(0x586)+_0x3fe192['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3fe192['id']+_0x3b749e(0x3a2)+(!_0x3fe192[_0x3b749e(0x8bf)]?_0x3b749e(0x640)+_0x3fe192['id']+_0x3b749e(0xa53):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x241246[_0x3b749e(0x8bf)]?_0x3b749e(0xa98)+_0x3fe192['id']+_0x3b749e(0xb00):'')+_0x3b749e(0x13c)+_0x273fb3+_0x3b749e(0xd2a);})[_0x9ced5c(0x22e)](''):_0x9ced5c(0x433),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x7e2abb=_0x13d91b;document[_0x7e2abb(0x77f)]('.shortcut-tab-btn')[_0x7e2abb(0x5c9)](_0x319440=>{const _0x5da84e=_0x7e2abb;_0x319440['addEventListener'](_0x5da84e(0xab7),_0x6b0e75=>{const _0x2aa0f9=_0x5da84e;activeShortcutTabId=_0x6b0e75['currentTarget']['dataset'][_0x2aa0f9(0x803)],renderAdditionalShortcutsModal();}),_0x319440[_0x5da84e(0xc2d)](_0x5da84e(0x343),_0x9d0ec8=>{const _0x2fc1e5=_0x5da84e,_0x548b14=_0x9d0ec8['currentTarget'];_0x548b14[_0x2fc1e5(0x7f4)](_0x2fc1e5(0x671))[_0x2fc1e5(0x734)][_0x2fc1e5(0x459)](_0x2fc1e5(0x4ad));const _0x47f70f=_0x548b14[_0x2fc1e5(0x7f4)](_0x2fc1e5(0xb8e));_0x47f70f[_0x2fc1e5(0x734)][_0x2fc1e5(0x5cf)](_0x2fc1e5(0x4ad)),_0x47f70f[_0x2fc1e5(0x3be)](),_0x47f70f[_0x2fc1e5(0x833)]();});}),document['querySelectorAll'](_0x7e2abb(0xb8e))[_0x7e2abb(0x5c9)](_0x489d37=>{const _0x421377=_0x7e2abb,_0x56c763=()=>{const _0x19843e=_0x28c2,_0x1a9532=_0x489d37[_0x19843e(0x7c4)](_0x19843e(0x371))['dataset'][_0x19843e(0x803)];handleRenameShortcutTab(_0x1a9532,_0x489d37[_0x19843e(0x93c)]);};_0x489d37[_0x421377(0xc2d)](_0x421377(0x637),_0x56c763),_0x489d37[_0x421377(0xc2d)](_0x421377(0xb04),_0x393bb2=>{const _0x2e0cc5=_0x421377;if(_0x393bb2[_0x2e0cc5(0x5bc)]===_0x2e0cc5(0xae1))_0x489d37[_0x2e0cc5(0x637)]();});}),document[_0x7e2abb(0x77f)]('.delete-shortcut-tab-btn')[_0x7e2abb(0x5c9)](_0x4c18c7=>{const _0x4d4c38=_0x7e2abb;_0x4c18c7['addEventListener']('click',_0x193c47=>handleDeleteShortcutTab(_0x193c47[_0x4d4c38(0xb88)][_0x4d4c38(0xcba)][_0x4d4c38(0x803)]));}),document[_0x7e2abb(0x77f)](_0x7e2abb(0xce6))[_0x7e2abb(0x5c9)](_0x578011=>{const _0x35cc82=_0x7e2abb;_0x578011[_0x35cc82(0xc2d)](_0x35cc82(0xab7),_0x5ed927=>{const _0x4223e6=_0x35cc82;_0x5ed927[_0x4223e6(0x452)]();const {shortcutId:_0x5bda4b,targetTabId:_0x4bc374}=_0x5ed927['currentTarget'][_0x4223e6(0xcba)];handleMoveShortcutToTab(_0x5bda4b,_0x4bc374);});}),document[_0x7e2abb(0x77f)](_0x7e2abb(0xd01))[_0x7e2abb(0x5c9)](_0x4298c9=>{const _0x11947c=_0x7e2abb;_0x4298c9[_0x11947c(0xc2d)](_0x11947c(0xab7),_0x5ded7c=>{const _0x47e54e=_0x11947c;handleRemoveShortcutFromTab(_0x5ded7c['currentTarget'][_0x47e54e(0xcba)][_0x47e54e(0xcc5)],activeShortcutTabId);});});const _0x1ca39e=document[_0x7e2abb(0x916)](_0x7e2abb(0xcaa));_0x1ca39e['querySelectorAll'](_0x7e2abb(0x535))[_0x7e2abb(0x5c9)](_0x3b5773=>{const _0x400194=_0x7e2abb;_0x3b5773[_0x400194(0xc2d)](_0x400194(0xab7),()=>{const _0x5c76a8=_0x400194;document[_0x5c76a8(0x916)](_0x5c76a8(0x1af))[_0x5c76a8(0x734)][_0x5c76a8(0x459)](_0x5c76a8(0x4ad)),handleShortcutClick(_0x3b5773[_0x5c76a8(0xcba)]['id']);});});let _0x4f83e0=null;_0x1ca39e['addEventListener']('dragstart',_0x41a9c5=>{const _0x255d00=_0x7e2abb;_0x4f83e0=_0x41a9c5[_0x255d00(0x3fe)][_0x255d00(0x7c4)](_0x255d00(0x9e1)),_0x4f83e0&&setTimeout(()=>_0x4f83e0[_0x255d00(0x734)][_0x255d00(0x459)]('opacity-50'),0x0);}),_0x1ca39e[_0x7e2abb(0xc2d)]('dragend',()=>{const _0x2e4d46=_0x7e2abb;_0x4f83e0&&(_0x4f83e0[_0x2e4d46(0x734)][_0x2e4d46(0x5cf)]('opacity-50'),_0x4f83e0=null);}),_0x1ca39e['addEventListener'](_0x7e2abb(0x8dd),_0x49e25e=>{const _0x19103a=_0x7e2abb;_0x49e25e['preventDefault']();const _0x6fa1a0=[..._0x1ca39e[_0x19103a(0x77f)](_0x19103a(0x713))][_0x19103a(0xba9)]((_0xdd5d96,_0x4d5b29)=>{const _0x6219aa=_0x19103a,_0x5a0bbc=_0x4d5b29[_0x6219aa(0x836)](),_0x390a69=_0x49e25e['clientY']-_0x5a0bbc[_0x6219aa(0x328)]-_0x5a0bbc['height']/0x2;return _0x390a69<0x0&&_0x390a69>_0xdd5d96[_0x6219aa(0x80b)]?{'offset':_0x390a69,'element':_0x4d5b29}:_0xdd5d96;},{'offset':Number[_0x19103a(0x53d)]})['element'];_0x6fa1a0==null?_0x1ca39e[_0x19103a(0x38c)](_0x4f83e0):_0x1ca39e[_0x19103a(0x691)](_0x4f83e0,_0x6fa1a0);}),_0x1ca39e['addEventListener'](_0x7e2abb(0x57e),_0x5531ac=>{const _0x513af3=_0x7e2abb;_0x5531ac[_0x513af3(0x452)]();if(_0x4f83e0){const _0x58ecd6=[..._0x1ca39e[_0x513af3(0x77f)](_0x513af3(0x9e1))][_0x513af3(0x1b0)](_0x33b44e=>_0x33b44e[_0x513af3(0xcba)][_0x513af3(0xcc5)]);handleShortcutOrderChange(activeShortcutTabId,_0x58ecd6);}}),document[_0x7e2abb(0x77f)](_0x7e2abb(0x3fa))['forEach'](_0x3b9b9c=>{const _0x885433=_0x7e2abb;_0x3b9b9c[_0x885433(0xc2d)](_0x885433(0xab7),_0x3ca8c3=>{const _0x4cbbd1=_0x885433;_0x3ca8c3[_0x4cbbd1(0x8cc)]();const _0x6be1d4=_0x3ca8c3[_0x4cbbd1(0xb88)]['nextElementSibling'],_0x5e4564=_0x6be1d4[_0x4cbbd1(0x734)][_0x4cbbd1(0x8ae)]('hidden');document['querySelectorAll'](_0x4cbbd1(0x6c5))['forEach'](_0x325861=>_0x325861[_0x4cbbd1(0x734)][_0x4cbbd1(0x459)](_0x4cbbd1(0x4ad))),_0x5e4564&&_0x6be1d4[_0x4cbbd1(0x734)][_0x4cbbd1(0x5cf)]('hidden');});});}document['addEventListener']('click',_0x39c3d5=>{const _0x95bc04=_0x13d91b;!_0x39c3d5[_0x95bc04(0x3fe)][_0x95bc04(0x7c4)](_0x95bc04(0xc18))&&document[_0x95bc04(0x77f)](_0x95bc04(0x6c5))[_0x95bc04(0x5c9)](_0x46d580=>_0x46d580['classList'][_0x95bc04(0x459)](_0x95bc04(0x4ad)));});async function saveShortcutConfig(){const _0x313ead=_0x13d91b,_0xa2acf1=doc(db,_0x313ead(0xc75),_0x313ead(0x7fc));try{await setDoc(_0xa2acf1,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x252ef2){console[_0x313ead(0x689)](_0x313ead(0xc22),_0x252ef2);}}async function handleAddShortcutTab(){const _0x5239b9=_0x13d91b,_0x279ef0=prompt(_0x5239b9(0x6fa),_0x5239b9(0xd58));if(!_0x279ef0||_0x279ef0[_0x5239b9(0x1a0)]()==='')return;shortcutTabs[_0x5239b9(0x298)]({'id':_0x5239b9(0x732)+Date['now'](),'name':_0x279ef0['trim'](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x5b5571,_0xac3155){const _0x5aa961=_0x13d91b,_0x260e00=shortcutTabs[_0x5aa961(0xa3d)](_0x341970=>_0x341970['id']===_0x5b5571);_0x260e00&&_0xac3155[_0x5aa961(0x1a0)]()!==''&&(_0x260e00[_0x5aa961(0x34b)]=_0xac3155[_0x5aa961(0x1a0)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x48a2b5){const _0x5993db=_0x13d91b,_0x3e26f6=shortcutTabs[_0x5993db(0xa3d)](_0x55894b=>_0x55894b['id']===_0x48a2b5);_0x3e26f6&&!_0x3e26f6[_0x5993db(0x8bf)]&&showConfirmation('คุณแน่ใจว่าต้องการลบแท็บ\x20\x22'+_0x3e26f6[_0x5993db(0x34b)]+'\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)',async()=>{const _0x3e061e=_0x5993db;shortcutTabs=shortcutTabs[_0x3e061e(0xc52)](_0x297680=>_0x297680['id']!==_0x48a2b5),delete shortcutOrder[_0x48a2b5];if(activeShortcutTabId===_0x48a2b5)activeShortcutTabId='all';await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x53c0ce,_0x448a4a){const _0x572fe3=_0x13d91b,_0x343f9a=shortcutTabs[_0x572fe3(0xa3d)](_0x3e2caa=>_0x3e2caa['id']===_0x448a4a);_0x343f9a&&!_0x343f9a['shortcutIds'][_0x572fe3(0xb28)](_0x53c0ce)&&(_0x343f9a[_0x572fe3(0x5b1)][_0x572fe3(0x298)](_0x53c0ce),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x11b8de,_0x4a0d74){const _0x1b2405=_0x13d91b,_0x2cca77=shortcutTabs[_0x1b2405(0xa3d)](_0x7fa333=>_0x7fa333['id']===_0x4a0d74);_0x2cca77&&!_0x2cca77[_0x1b2405(0x8bf)]&&(_0x2cca77[_0x1b2405(0x5b1)]=_0x2cca77[_0x1b2405(0x5b1)]['filter'](_0x35a26a=>_0x35a26a!==_0x11b8de),await saveShortcutConfig());}async function handleShortcutOrderChange(_0xe181c,_0x3399f6){shortcutOrder[_0xe181c]=_0x3399f6,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x58e747=_0x13d91b,_0xd4d2c1=document[_0x58e747(0x916)](_0x58e747(0x289)),_0x1ce6a5=document[_0x58e747(0x916)](_0x58e747(0xcaa)),_0x5aae8f=document['getElementById']('shortcuts-loading-msg');_0x5aae8f&&_0x5aae8f[_0x58e747(0x734)][_0x58e747(0x459)]('hidden');if(!_0xd4d2c1||!_0x1ce6a5)return;const _0x15ebf5=blueprintShortcuts['slice'](0x0,0x4),_0x907d3f=blueprintShortcuts[_0x58e747(0x3e6)](0x4);_0xd4d2c1[_0x58e747(0xbc4)]=_0x15ebf5[_0x58e747(0x1b0)](_0x5d9e09=>{const _0x37d6d1=_0x58e747;let _0x3bf612=_0x37d6d1(0xa9e),_0x2c55f8='🧩';if(_0x5d9e09[_0x37d6d1(0x2ff)]&&_0x5d9e09[_0x37d6d1(0xbbe)])_0x3bf612='bg-green-500\x20hover:bg-green-600\x20text-white',_0x2c55f8='📗';else _0x5d9e09[_0x37d6d1(0x2ff)]&&(_0x3bf612='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x2c55f8='📘');const _0x153d07=!_0x5d9e09[_0x37d6d1(0x8bf)]?_0x37d6d1(0x640)+_0x5d9e09['id']+_0x37d6d1(0xaa3):'';return _0x37d6d1(0x9d5)+_0x5d9e09['id']+_0x37d6d1(0x420)+_0x3bf612+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x2c55f8+'\x20'+_0x5d9e09[_0x37d6d1(0x34b)]+_0x37d6d1(0x37c)+_0x5d9e09['id']+_0x37d6d1(0x129)+_0x153d07+_0x37d6d1(0xaa9);})[_0x58e747(0x22e)](''),_0x907d3f[_0x58e747(0x3d7)]>0x0&&(_0xd4d2c1['innerHTML']+=_0x58e747(0xc28)),_0x907d3f['length']>0x0?_0x1ce6a5[_0x58e747(0xbc4)]=_0x907d3f[_0x58e747(0x1b0)](_0xf2317e=>{const _0x8bb5a6=_0x58e747;let _0x36e069='🧩';if(_0xf2317e[_0x8bb5a6(0x2ff)]&&_0xf2317e[_0x8bb5a6(0xbbe)])_0x36e069='📗';else _0xf2317e[_0x8bb5a6(0x2ff)]&&(_0x36e069='📘');return _0x8bb5a6(0x12d)+_0x36e069+'\x20'+_0xf2317e[_0x8bb5a6(0x34b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xf2317e['id']+_0x8bb5a6(0xae4)+_0xf2317e['id']+_0x8bb5a6(0x3a2)+(!_0xf2317e[_0x8bb5a6(0x8bf)]?_0x8bb5a6(0x640)+_0xf2317e['id']+'\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x8bb5a6(0x403);})[_0x58e747(0x22e)](''):_0x1ce6a5[_0x58e747(0xbc4)]=_0x58e747(0xb05);}function getMimeTypeFromFilename(_0xe3be9d){const _0x34e324=_0x13d91b,_0x267840=_0xe3be9d[_0x34e324(0xbba)]('.')[_0x34e324(0x524)]()['toLowerCase']();switch(_0x267840){case _0x34e324(0x29c):return _0x34e324(0x14c);case _0x34e324(0x823):return _0x34e324(0x1e2);default:return _0x34e324(0x14c);}}function openShortcutEditor(_0x4b0e9f=null){const _0x34a169=_0x13d91b,_0x42e122=document['getElementById']('shortcut-editor-modal'),_0x406609=document['getElementById'](_0x34a169(0xb41)),_0x3f90de=document[_0x34a169(0x916)](_0x34a169(0x1f8)),_0x17d20e=document[_0x34a169(0x916)](_0x34a169(0xca8)),_0x369d01=document['getElementById'](_0x34a169(0xb23)),_0x23d53d=document[_0x34a169(0x916)](_0x34a169(0xa38));if(_0x4b0e9f){const _0x2f9e8e=blueprintShortcuts[_0x34a169(0xa3d)](_0x41a33b=>_0x41a33b['id']===_0x4b0e9f);if(!_0x2f9e8e)return;_0x406609['textContent']=_0x34a169(0x436),_0x3f90de[_0x34a169(0x93c)]=_0x2f9e8e['id'],_0x17d20e[_0x34a169(0x93c)]=_0x2f9e8e[_0x34a169(0x34b)],_0x369d01[_0x34a169(0x93c)]=_0x2f9e8e[_0x34a169(0x2ff)]||'',_0x23d53d[_0x34a169(0x93c)]=_0x2f9e8e[_0x34a169(0xbbe)]||'';}else _0x406609[_0x34a169(0xd9d)]=_0x34a169(0x8d9),_0x3f90de['value']='',_0x17d20e[_0x34a169(0x93c)]='',_0x369d01[_0x34a169(0x93c)]='',_0x23d53d[_0x34a169(0x93c)]='';_0x42e122[_0x34a169(0x734)]['remove']('hidden');}async function saveShortcutChanges(){const _0x2899eb=_0x13d91b,_0x53db95=document['getElementById'](_0x2899eb(0x1f8))[_0x2899eb(0x93c)],_0x1341b6=document['getElementById']('shortcut-name-input')[_0x2899eb(0x93c)]['trim'](),_0x1eefd1=document[_0x2899eb(0x916)](_0x2899eb(0xb23))[_0x2899eb(0x93c)][_0x2899eb(0x1a0)]();if(!_0x1341b6||!_0x1eefd1){showMessage(_0x2899eb(0xcd6));return;}const _0x250277={'id':_0x53db95||'shortcut_'+Date[_0x2899eb(0x60e)](),'name':_0x1341b6,'blueprintUrl':_0x1eefd1,'referenceUrl':document[_0x2899eb(0x916)](_0x2899eb(0xa38))[_0x2899eb(0x93c)][_0x2899eb(0x1a0)](),'isDefault':_0x53db95[_0x2899eb(0x9cd)](_0x2899eb(0xb6a))};let _0x1c4e03;_0x53db95?_0x1c4e03=blueprintShortcuts[_0x2899eb(0x1b0)](_0xecad6e=>_0xecad6e['id']===_0x53db95?_0x250277:_0xecad6e):_0x1c4e03=[...blueprintShortcuts,_0x250277];try{const _0x280b19=doc(db,_0x2899eb(0xc75),_0x2899eb(0x7fc));await setDoc(_0x280b19,{'blueprintShortcuts':_0x1c4e03},{'merge':!![]}),document[_0x2899eb(0x916)](_0x2899eb(0x510))[_0x2899eb(0x734)][_0x2899eb(0x459)](_0x2899eb(0x4ad));}catch(_0x415089){console[_0x2899eb(0x689)](_0x2899eb(0x6f3),_0x415089),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleShortcutClick(_0x4960d3){const _0x36a68b=_0x13d91b,_0x3199ae=blueprintShortcuts[_0x36a68b(0xa3d)](_0x4b403d=>_0x4b403d['id']===_0x4960d3);if(!_0x3199ae||!_0x3199ae['blueprintUrl'])return;document[_0x36a68b(0x916)](_0x36a68b(0xc45))[_0x36a68b(0x734)][_0x36a68b(0x459)](_0x36a68b(0x4ad)),document[_0x36a68b(0x916)](_0x36a68b(0xb50))[_0x36a68b(0x426)]=!![];const _0x246873=document[_0x36a68b(0x916)](_0x36a68b(0x619)),_0x555091=document[_0x36a68b(0x916)](_0x36a68b(0xae9));document[_0x36a68b(0x916)]('quiz-generation-area')[_0x36a68b(0x734)][_0x36a68b(0x5cf)](_0x36a68b(0x4ad)),document[_0x36a68b(0x916)](_0x36a68b(0xc72))[_0x36a68b(0xbc4)]='',_0x246873[_0x36a68b(0x734)][_0x36a68b(0x5cf)](_0x36a68b(0x4ad));try{_0x555091[_0x36a68b(0xd9d)]=_0x36a68b(0xac6);const _0x2a0e96=await fetchFileFromUrl(_0x3199ae[_0x36a68b(0x2ff)],_0x36a68b(0xdeb));let _0x39dfdb=null;if(_0x3199ae[_0x36a68b(0xbbe)]){_0x555091[_0x36a68b(0xd9d)]=_0x36a68b(0x123);const _0x2b770a=_0x3199ae[_0x36a68b(0xbbe)][_0x36a68b(0x3c8)]()[_0x36a68b(0x322)]('.txt')?_0x36a68b(0x759):_0x36a68b(0xc09);_0x39dfdb=await fetchFileFromUrl(_0x3199ae[_0x36a68b(0xbbe)],_0x2b770a);}await handleGenerateFromBlueprintWithFiles(_0x2a0e96,_0x39dfdb);}catch(_0x555382){console[_0x36a68b(0x689)]('Error\x20processing\x20shortcut\x20click:',_0x555382),showMessage(_0x36a68b(0x96c)+_0x555382[_0x36a68b(0xbd0)]),_0x246873[_0x36a68b(0x734)][_0x36a68b(0x459)](_0x36a68b(0x4ad));}}function getDirectDownloadUrl(_0x36a76c){const _0xb9f3c4=_0x13d91b,_0x4263d5=_0x36a76c[_0xb9f3c4(0xcd5)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x4263d5&&_0x4263d5[0x1])return _0xb9f3c4(0xd10)+_0x4263d5[0x1];return _0x36a76c;}async function fetchFileFromUrl(_0x27d714,_0x4a7660){const _0xc41a44=_0x13d91b,_0xe9056f=getDirectDownloadUrl(_0x27d714),_0x92199d=_0xc41a44(0x72a)+encodeURIComponent(_0xe9056f),_0x3deca5=await fetch(_0x92199d);if(!_0x3deca5['ok'])throw new Error(_0xc41a44(0xe22)+_0x3deca5[_0xc41a44(0x127)]+')');const _0x213e13=await _0x3deca5[_0xc41a44(0x3a5)](),_0x11d380=await new Promise((_0x8b1192,_0x3db825)=>{const _0x32b101=_0xc41a44,_0x233b92=new FileReader();_0x233b92[_0x32b101(0x4c1)]=()=>_0x8b1192(new Uint8Array(_0x233b92[_0x32b101(0xb68)])),_0x233b92[_0x32b101(0x4e2)]=_0x3db825,_0x233b92[_0x32b101(0x6ae)](_0x213e13['slice'](0x0,0x4));});let _0x2ea86c='';const _0x3639c3=new TextDecoder()['decode'](_0x11d380);return _0x3639c3===_0xc41a44(0x16a)?(_0x2ea86c='application/pdf',console['log'](_0xc41a44(0xc3c))):(_0x2ea86c='text/plain',console[_0xc41a44(0xcf6)](_0xc41a44(0xab0))),new File([_0x213e13],_0x4a7660,{'type':_0x2ea86c});}async function handleGenerateFromBlueprintWithFiles(_0x4c23a,_0x372c9a=null){const _0xacd5fe=_0x13d91b;if(!_0x4c23a){showMessage(_0xacd5fe(0x561));return;}const _0x51df2d=document[_0xacd5fe(0x916)]('loader'),_0x56e4ad=document[_0xacd5fe(0x916)](_0xacd5fe(0xae9));_0x51df2d['classList'][_0xacd5fe(0x5cf)](_0xacd5fe(0x4ad)),document[_0xacd5fe(0x916)]('quiz-generation-area')['classList'][_0xacd5fe(0x5cf)]('hidden'),document[_0xacd5fe(0x916)](_0xacd5fe(0xc72))[_0xacd5fe(0xbc4)]='';try{_0x56e4ad[_0xacd5fe(0xd9d)]=_0xacd5fe(0x62c);const _0x173826=await new Promise((_0x43d640,_0x4c0663)=>{const _0x5ee0f3=_0xacd5fe,_0x39ab1c=new FileReader();_0x39ab1c[_0x5ee0f3(0xdd6)](_0x4c23a),_0x39ab1c['onload']=()=>_0x43d640(_0x39ab1c['result'][_0x5ee0f3(0xbba)](',')[0x1]),_0x39ab1c[_0x5ee0f3(0x4e2)]=_0x4c0663;}),_0x1e55ca=[];if(_0x372c9a){_0x56e4ad[_0xacd5fe(0xd9d)]=_0xacd5fe(0x904);const _0x1b8153=await _0x372c9a[_0xacd5fe(0xb52)]();_0x1e55ca[_0xacd5fe(0x298)]({'text':_0xacd5fe(0xc85)+_0x1b8153});}const _0x5ee6f2=[{'text':_0xacd5fe(0x710)},{'inlineData':{'mimeType':_0x4c23a['type'],'data':_0x173826}},..._0x1e55ca];await handleGenerateFromBlueprint(_0x5ee6f2);}catch(_0x1f41d5){console[_0xacd5fe(0x689)](_0xacd5fe(0xa8a),_0x1f41d5),showMessage(_0xacd5fe(0x96c)+_0x1f41d5[_0xacd5fe(0xbd0)]),_0x51df2d['classList'][_0xacd5fe(0x459)](_0xacd5fe(0x4ad));}}async function handleLiveAnswer(_0x15483c,_0x1fd3d5){const _0x2c90b2=_0x13d91b;document[_0x2c90b2(0x77f)](_0x2c90b2(0x912))[_0x2c90b2(0x5c9)](_0x7f5db=>_0x7f5db[_0x2c90b2(0x426)]=!![]);const _0x4267e7=_0x1fd3d5[_0x2c90b2(0xa1a)]||currentQuizData[_0x2c90b2(0x9b1)];let _0x3367ce=![],_0xf80c39=_0x15483c;if(_0x4267e7==='short_answer'){const _0x347ae4=(_0x15483c||'')[_0x2c90b2(0xda1)]();_0x3367ce=await gradeShortAnswer(_0x347ae4,_0x1fd3d5);}else{if(_0x4267e7==='multiple_choice')_0x3367ce=_0x15483c===_0x1fd3d5[_0x2c90b2(0xae6)];else{if(_0x4267e7==='true_false'){const _0x48a386=_0x1fd3d5['correctAnswer'];_0x3367ce=_0x15483c===0x0&&_0x48a386||_0x15483c===0x1&&!_0x48a386;}else{if(_0x4267e7===_0x2c90b2(0x416)){const _0x481d89=_0x1fd3d5[_0x2c90b2(0x47b)][_0x15483c];_0x3367ce=_0x481d89===_0x1fd3d5[_0x2c90b2(0x994)],_0xf80c39=_0x481d89;}}}}const _0x18bb8c=doc(db,_0x2c90b2(0x54a)+appId+_0x2c90b2(0x543),currentLiveGameId),_0x27f1bb={};_0x27f1bb[_0x2c90b2(0x5a6)+currentStudentName+_0x2c90b2(0x555)]=!![],_0x27f1bb['players.'+currentStudentName+_0x2c90b2(0x735)]=_0x3367ce,_0x27f1bb[_0x2c90b2(0x5a6)+currentStudentName+_0x2c90b2(0x519)]=_0x4267e7===_0x2c90b2(0x21b)||_0x4267e7===_0x2c90b2(0x416)?null:_0x15483c,_0x27f1bb[_0x2c90b2(0x5a6)+currentStudentName+_0x2c90b2(0x7a7)]=_0xf80c39,_0x27f1bb[_0x2c90b2(0x5a6)+currentStudentName+_0x2c90b2(0x985)]=serverTimestamp(),_0x27f1bb[_0x2c90b2(0x5a6)+currentStudentName+_0x2c90b2(0x9af)]=![],await updateDoc(_0x18bb8c,_0x27f1bb),liveGameView[_0x2c90b2(0xbc4)]=_0x2c90b2(0xa5b);}function showAdminSummaryView(_0x19f6e2,_0x253add){const _0x4a8788=_0x13d91b,_0x3301f1=Object[_0x4a8788(0x3ff)](_0x19f6e2[_0x4a8788(0x5cc)]||{}),_0x4acc3e=_0x253add[_0x4a8788(0xa1a)]||currentQuizData['quizType'],_0x3f95d7=_0x4acc3e==='true_false'?['ใช่',_0x4a8788(0xa5c)]:_0x253add['options']||_0x253add[_0x4a8788(0x47b)]||[],_0x126601={},_0x36288f=new Array(_0x3f95d7[_0x4a8788(0x3d7)])['fill'](0x0);_0x3f95d7[_0x4a8788(0x5c9)]((_0x3dbc4c,_0x2e472a)=>{_0x126601[_0x2e472a]=[];}),Object[_0x4a8788(0x915)](_0x19f6e2['players']||{})[_0x4a8788(0x5c9)](([_0x5c7170,_0x2df14c])=>{const _0x4fdb1f=_0x4a8788;if(_0x2df14c[_0x4fdb1f(0x127)]===_0x4fdb1f(0x101)&&_0x2df14c[_0x4fdb1f(0x79a)]!==undefined){const _0x4394de=_0x2df14c[_0x4fdb1f(0x79a)];_0x126601[_0x4394de]&&(_0x126601[_0x4394de][_0x4fdb1f(0x298)](_0x5c7170),_0x36288f[_0x4394de]++);}});const _0x2b150b=Math['max'](..._0x36288f,0x1),_0x2400b3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x253add[_0x4a8788(0x3a9)]||_0x253add['questionText'])+_0x4a8788(0xa09)+_0x36288f['map']((_0x579469,_0x1d9d63)=>{const _0x28f901=_0x4a8788,_0xd7d78e=_0x126601[_0x1d9d63]['length']>0x0?_0x126601[_0x1d9d63][_0x28f901(0x22e)](',\x20'):_0x28f901(0xa60);let _0x28d631=![];if(_0x4acc3e==='multiple_choice')_0x28d631=_0x1d9d63===_0x253add[_0x28f901(0xae6)];else{if(_0x4acc3e===_0x28f901(0x54f)){const _0x1936f0=_0x253add['correctAnswer'];_0x28d631=_0x1936f0&&_0x1d9d63===0x0||!_0x1936f0&&_0x1d9d63===0x1;}else _0x4acc3e===_0x28f901(0x416)&&(_0x28d631=_0x3f95d7[_0x1d9d63]===_0x253add[_0x28f901(0x994)]);}const _0x4ada4e=_0x28d631?'#26890c':_0x28f901(0x9d2);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x579469+_0x28f901(0x699)+_0x4ada4e+_0x28f901(0x81b)+_0x1d9d63+_0x28f901(0x721)+_0x3f95d7[_0x1d9d63]+_0x28f901(0x203)+_0x1d9d63+_0x28f901(0xb49)+_0xd7d78e+_0x28f901(0xac1);})[_0x4a8788(0x22e)]('')+_0x4a8788(0x4bb);liveGameView[_0x4a8788(0xbc4)]=_0x2400b3;if(window[_0x4a8788(0xcaf)])MathJax[_0x4a8788(0x1cd)]();document[_0x4a8788(0x916)](_0x4a8788(0x319))[_0x4a8788(0xc2d)](_0x4a8788(0xab7),async()=>{const _0x162d86=_0x4a8788,_0x43a8fc=doc(db,'artifacts/'+appId+_0x162d86(0x543),currentLiveGameId);await updateDoc(_0x43a8fc,{'questionStatus':_0x162d86(0x6f5)});}),document['getElementById'](_0x4a8788(0xa3a))['addEventListener'](_0x4a8788(0xab7),()=>{openScratchpad(_0x253add,_0x3f95d7);});}function showPlayerSummaryView(_0x21e16e,_0x403cbb){const _0x338d66=_0x13d91b,_0x26bab0=Object[_0x338d66(0x3ff)](_0x21e16e[_0x338d66(0x5cc)]||{}),_0x477511=_0x21e16e[_0x338d66(0x5cc)][_0x403cbb],_0x105d7b=_0x26bab0[_0x338d66(0xc52)](_0xf30f01=>_0xf30f01[_0x338d66(0x127)]==='active')['sort']((_0x451270,_0x58e353)=>_0x58e353['score']-_0x451270[_0x338d66(0xc8b)]),_0x863b0f=_0x105d7b[_0x338d66(0x209)](_0x24f49d=>_0x24f49d===_0x477511)+0x1,_0x42e7e6=_0x477511[_0x338d66(0xb56)]?'ถูกต้อง!':'ผิด',_0x5b1dc3=_0x477511['lastAnswerCorrect']?_0x338d66(0x562):_0x338d66(0x12e),_0x2c2ebe=_0x477511[_0x338d66(0x499)]||0x0,_0x5224ee=_0x338d66(0x9b8),_0x2eb87a=_0x338d66(0x929)+_0x5224ee+_0x338d66(0x340)+_0x5b1dc3+_0x338d66(0x85b)+_0x42e7e6+_0x338d66(0x457)+_0x2c2ebe+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>'+(_0x863b0f>0x0?_0x863b0f:'-')+_0x338d66(0x17c);liveGameView['innerHTML']=_0x2eb87a;}function createQuizFromBank(){const _0x13b3c6=_0x13d91b,_0x47a73b=document['querySelectorAll'](_0x13b3c6(0xc97));if(_0x47a73b[_0x13b3c6(0x3d7)]===0x0){showMessage(_0x13b3c6(0xd04));return;}const _0x25de79=[];_0x47a73b[_0x13b3c6(0x5c9)](_0x1cad8d=>{const _0x3cc93e=_0x13b3c6;_0x25de79[_0x3cc93e(0x298)](JSON[_0x3cc93e(0x97f)](_0x1cad8d[_0x3cc93e(0x93c)]));});const _0x4e93ba={'topic':_0x13b3c6(0xc04),'questions':_0x25de79};displayGeneratedQuiz(_0x4e93ba);}function showAdminLobbyView(_0x1b7d26,_0x5fb783){const _0x45e847=_0x13d91b;showView('live-game');const _0x49451d=_0x45e847(0xa8e)+_0x5fb783+_0x45e847(0x85d)+_0x1b7d26+_0x45e847(0xcf7);liveGameView[_0x45e847(0xbc4)]=_0x49451d,document[_0x45e847(0x916)](_0x45e847(0x951))[_0x45e847(0xc2d)](_0x45e847(0xab7),async()=>{const _0x2f6de2=_0x45e847;if(!currentQuizData||!currentQuizData['questions']||currentQuizData[_0x2f6de2(0x87f)][_0x2f6de2(0x3d7)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x3293a7=doc(db,_0x2f6de2(0x54a)+appId+_0x2f6de2(0x543),currentLiveGameId);await updateDoc(_0x3293a7,{'status':_0x2f6de2(0x512),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x47ff8a=currentQuizData[_0x2f6de2(0x87f)][0x0],_0x414fa6=currentQuizData[_0x2f6de2(0x87f)][_0x2f6de2(0x3d7)];showAdminLiveQuestionView(_0x47ff8a,0x0,_0x414fa6);}catch(_0x38bb3f){console[_0x2f6de2(0x689)](_0x2f6de2(0x59c),_0x38bb3f),showMessage(_0x2f6de2(0xaaa));}});}async function openQuizBankModal(){const _0x17a30c=_0x13d91b;if(allQuizzesGlobal[_0x17a30c(0x3d7)]===0x0){const _0x4384f8=await getDocs(collection(db,'artifacts/'+appId+_0x17a30c(0xd20)));allQuizzesGlobal=_0x4384f8[_0x17a30c(0x1fb)][_0x17a30c(0x1b0)](_0x19d5ba=>({'id':_0x19d5ba['id'],..._0x19d5ba['data']()}));}renderQuizBankList(''),document[_0x17a30c(0x916)](_0x17a30c(0x6c8))[_0x17a30c(0x734)][_0x17a30c(0x5cf)](_0x17a30c(0x4ad));}function renderQuizBankList(_0x2407b3='',_0x6de651=![]){const _0x142d5a=_0x13d91b,_0xd77c3e=document[_0x142d5a(0x916)](_0x142d5a(0x213)),_0x2da6f8=_0x2407b3[_0x142d5a(0x3c8)]()[_0x142d5a(0x1a0)](),_0x5ddd46=allQuizzesGlobal['map'](_0x51b925=>({..._0x51b925,'projectName':allProjects[_0x142d5a(0xa3d)](_0x1e8f8b=>_0x1e8f8b['id']===_0x51b925[_0x142d5a(0x7a5)])?.[_0x142d5a(0xe04)]||_0x142d5a(0x642)}))[_0x142d5a(0xc52)](_0x214de8=>(_0x214de8[_0x142d5a(0xdf4)]||'')[_0x142d5a(0x3c8)]()['includes'](_0x2da6f8)||(_0x214de8[_0x142d5a(0xe04)]||'')[_0x142d5a(0x3c8)]()[_0x142d5a(0xb28)](_0x2da6f8)||_0x214de8['id'][_0x142d5a(0xda1)]()['includes'](_0x2da6f8));document[_0x142d5a(0x916)](_0x142d5a(0x221))['textContent']='('+_0x5ddd46[_0x142d5a(0x3d7)]+_0x142d5a(0x5f5),_0xd77c3e[_0x142d5a(0xbc4)]=_0x5ddd46[_0x142d5a(0x3d7)]?_0x5ddd46[_0x142d5a(0x1b0)](_0x14360e=>{const _0x41536d=_0x142d5a,_0xc10e1f=!_0x6de651?_0x41536d(0xab9)+_0x14360e['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x14360e['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x14360e['id']+_0x41536d(0x577)+_0x14360e['id']+_0x41536d(0xaeb)+_0x14360e['id']+_0x41536d(0x5bd)+_0x14360e['id']+_0x41536d(0x856)+_0x14360e[_0x41536d(0xdf4)]+_0x41536d(0x99c):'';return'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x14360e['id']+_0x41536d(0xe14)+(_0x14360e[_0x41536d(0xdf4)]||_0x41536d(0xac9))+_0x41536d(0xb93)+(_0x14360e['questions']?.[_0x41536d(0x3d7)]||0x0)+_0x41536d(0xc9b)+_0x14360e[_0x41536d(0xe04)]+_0x41536d(0x1ba)+_0x14360e['id']+_0x41536d(0x42c)+_0xc10e1f+'\x0a\x20\x20\x20\x20\x20\x20</div>';})[_0x142d5a(0x22e)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',!_0x6de651&&(_0xd77c3e[_0x142d5a(0x77f)]('.quiz-bank-item')[_0x142d5a(0x5c9)](_0x29230e=>{const _0x520748=_0x142d5a;_0x29230e[_0x520748(0xc2d)]('click',()=>{const _0xada501=_0x520748,_0x28bcc9=_0x29230e[_0xada501(0xcba)]['id'];document['getElementById'](_0xada501(0x6c8))[_0xada501(0x734)][_0xada501(0x459)](_0xada501(0x4ad)),showQuizDetailView(_0x28bcc9);});}),_0xd77c3e[_0x142d5a(0x77f)](_0x142d5a(0x7f0))[_0x142d5a(0x5c9)](_0x160c2a=>{const _0x2936d2=_0x142d5a;_0x160c2a[_0x2936d2(0xc2d)](_0x2936d2(0xab7),_0x474923=>{const _0x2ca1be=_0x2936d2;_0x474923[_0x2ca1be(0x8cc)]();const _0xb4ddc0=_0x160c2a['dataset']['id'],_0x3eacc7=allQuizzesGlobal[_0x2ca1be(0xa3d)](_0x390c85=>_0x390c85['id']===_0xb4ddc0);_0x3eacc7?(currentQuizData=_0x3eacc7,document['getElementById'](_0x2ca1be(0x6c8))[_0x2ca1be(0x734)]['add'](_0x2ca1be(0x4ad)),startAdminTest()):showMessage(_0x2ca1be(0x7ec));});}),_0xd77c3e['querySelectorAll'](_0x142d5a(0x42b))[_0x142d5a(0x5c9)](_0x25eb11=>{const _0x159386=_0x142d5a;_0x25eb11[_0x159386(0xc2d)](_0x159386(0xab7),_0x15de99=>{const _0x5592d1=_0x159386;_0x15de99[_0x5592d1(0x8cc)]();const _0x419a18=_0x25eb11['dataset']['id'],_0xa4c3fd=allQuizzesGlobal['find'](_0x5e2df5=>_0x5e2df5['id']===_0x419a18);_0xa4c3fd?(document['getElementById']('quiz-bank-modal')[_0x5592d1(0x734)][_0x5592d1(0x459)](_0x5592d1(0x4ad)),handleGenerateParallelFromBank(_0xa4c3fd)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0xd77c3e[_0x142d5a(0x77f)](_0x142d5a(0x399))[_0x142d5a(0x5c9)](_0x566e62=>{const _0x17c454=_0x142d5a;_0x566e62[_0x17c454(0xc2d)]('click',_0xa08f30=>{const _0x4fe193=_0x17c454;_0xa08f30[_0x4fe193(0x8cc)]();const _0x2c0fc0=_0x566e62[_0x4fe193(0xcba)]['id'],_0x41fa93=allQuizzesGlobal['find'](_0x4ac7fa=>_0x4ac7fa['id']===_0x2c0fc0);_0x41fa93?(document[_0x4fe193(0x916)](_0x4fe193(0x6c8))[_0x4fe193(0x734)][_0x4fe193(0x459)](_0x4fe193(0x4ad)),startPresentation(_0x41fa93)):showMessage(_0x4fe193(0x7ec));});}),_0xd77c3e[_0x142d5a(0x77f)](_0x142d5a(0x8d2))['forEach'](_0x322e13=>{const _0x1bf0d3=_0x142d5a;_0x322e13[_0x1bf0d3(0xc2d)](_0x1bf0d3(0xab7),_0xb41b43=>{const _0x4e02ce=_0x1bf0d3;_0xb41b43[_0x4e02ce(0x8cc)]();const _0x384569=_0x322e13[_0x4e02ce(0xcba)]['id'];document[_0x4e02ce(0x916)](_0x4e02ce(0x6c8))[_0x4e02ce(0x734)]['add'](_0x4e02ce(0x4ad)),handleMoveQuiz(_0x384569);});}),_0xd77c3e[_0x142d5a(0x77f)](_0x142d5a(0x246))[_0x142d5a(0x5c9)](_0x55a36b=>{const _0x4fa0dd=_0x142d5a;_0x55a36b[_0x4fa0dd(0xc2d)](_0x4fa0dd(0xab7),_0x1e4cd2=>{const _0x5972b5=_0x4fa0dd;_0x1e4cd2['stopPropagation']();const _0x32da85=_0x55a36b[_0x5972b5(0xcba)]['id'];document['getElementById'](_0x5972b5(0x6c8))[_0x5972b5(0x734)][_0x5972b5(0x459)]('hidden'),handleQuizSettings(_0x32da85);});}),_0xd77c3e['querySelectorAll'](_0x142d5a(0x8b6))[_0x142d5a(0x5c9)](_0x3aab0d=>{const _0x27e758=_0x142d5a;_0x3aab0d[_0x27e758(0xc2d)]('click',_0x28bb4d=>{const _0x2833df=_0x27e758;_0x28bb4d[_0x2833df(0x8cc)]();const _0x131066=_0x3aab0d['dataset']['id'],_0x417431=_0x3aab0d[_0x2833df(0xcba)]['topic'];showConfirmation(_0x2833df(0x493)+_0x417431+_0x2833df(0x98b),()=>handleDeleteQuiz(_0x131066));});}));}async function handleCompareResults(_0x2325a5,_0x27bc68){const _0x1c6344=_0x13d91b,_0x1592ad=document[_0x1c6344(0x916)](_0x1c6344(0xbfb)),_0x2bac08=document[_0x1c6344(0x916)](_0x1c6344(0x7a0)),_0x17cd78=document[_0x1c6344(0x916)](_0x1c6344(0xc15));document['getElementById'](_0x1c6344(0x357))[_0x1c6344(0x734)][_0x1c6344(0x459)](_0x1c6344(0x101)),document[_0x1c6344(0x916)](_0x1c6344(0x92e))['classList'][_0x1c6344(0x5cf)](_0x1c6344(0x101)),_0x2bac08['classList'][_0x1c6344(0x5cf)](_0x1c6344(0x4ad)),_0x17cd78[_0x1c6344(0x734)]['add'](_0x1c6344(0x4ad)),_0x2bac08['innerHTML']=_0x1c6344(0x67b),_0x17cd78[_0x1c6344(0xbc4)]='',_0x1592ad['classList']['remove'](_0x1c6344(0x4ad));try{const _0x20b476=doc(db,_0x1c6344(0x54a)+appId+'/public/data/quizzes',_0x2325a5),_0x18bc62=await getDoc(_0x20b476);if(!_0x18bc62[_0x1c6344(0x5fd)]())throw new Error(_0x1c6344(0x51d));const _0x430918=_0x18bc62[_0x1c6344(0xaf3)](),_0x4f092c=_0x430918[_0x1c6344(0x87f)][_0x1c6344(0x3d7)],_0x18705b=collection(db,'artifacts/'+appId+_0x1c6344(0x906)+_0x27bc68+'/submissions'),_0x850ff0=collection(db,'artifacts/'+appId+_0x1c6344(0x906)+_0x2325a5+_0x1c6344(0xcae)),[_0x165aeb,_0x9909ae]=await Promise['all']([getDocs(_0x18705b),getDocs(_0x850ff0)]),_0x35fabb=_0x165aeb[_0x1c6344(0x1fb)]['map'](_0x35291c=>_0x35291c[_0x1c6344(0xaf3)]()),_0x4080f4=_0x9909ae[_0x1c6344(0x1fb)]['map'](_0x1f111b=>_0x1f111b['data']()),_0x408389=_0x35fabb[_0x1c6344(0x1b0)](_0x3fbdfc=>_0x3fbdfc[_0x1c6344(0x97a)]),_0x2c66d2=_0x4080f4[_0x1c6344(0x1b0)](_0x4edb14=>_0x4edb14[_0x1c6344(0x97a)]),_0x480c4e=calculateMeanAndStdDev(_0x408389),_0x48e26b=calculateMeanAndStdDev(_0x2c66d2),_0x41c8c4=_0x480c4e[_0x1c6344(0x6d4)],_0x2e98e2=_0x48e26b[_0x1c6344(0x6d4)],_0x1e2c2d=_0x2e98e2-_0x41c8c4;let _0xaa70e8=_0x1c6344(0x70b)+_0x41c8c4[_0x1c6344(0x643)](0x2)+_0x1c6344(0x742)+_0x2e98e2['toFixed'](0x2)+_0x1c6344(0x7f8)+(_0x1e2c2d>=0x0?'bg-emerald-100':_0x1c6344(0xcab))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x1e2c2d>=0x0?'text-emerald-800':_0x1c6344(0x49e))+_0x1c6344(0x63a)+(_0x1e2c2d>=0x0?_0x1c6344(0x53b):_0x1c6344(0xa47))+'\x22>'+(_0x1e2c2d>=0x0?'+':'')+_0x1e2c2d[_0x1c6344(0x643)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x2bac08[_0x1c6344(0xbc4)]=_0xaa70e8;const _0x396062=document['getElementById']('comparison-chart')[_0x1c6344(0xe24)]('2d');if(chartInstances[_0x1c6344(0x349)])chartInstances[_0x1c6344(0x349)]['destroy']();chartInstances[_0x1c6344(0x349)]=new Chart(_0x396062,{'type':_0x1c6344(0xac5),'data':{'labels':[_0x1c6344(0xc50)],'datasets':[{'label':_0x1c6344(0x1b4),'data':[_0x41c8c4],'backgroundColor':_0x1c6344(0x9cc)},{'label':'หลังเรียน','data':[_0x2e98e2],'backgroundColor':_0x1c6344(0xa46)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x4f092c}}}});const _0xe320fe=currentProjectData[_0x1c6344(0xce1)]||[],_0x1e89b5=_0xe320fe[_0x1c6344(0x1b0)](_0x474ad7=>{const _0x5e7377=_0x1c6344,_0x294f00=_0x35fabb[_0x5e7377(0xa3d)](_0x221974=>_0x221974['studentName']===_0x474ad7),_0xb3a01a=_0x4080f4[_0x5e7377(0xa3d)](_0x53e5b1=>_0x53e5b1[_0x5e7377(0x7b1)]===_0x474ad7),_0x1dd433=_0x294f00?_0x294f00[_0x5e7377(0x97a)]:null,_0x1fb5b9=_0xb3a01a?_0xb3a01a[_0x5e7377(0x97a)]:null,_0x5188f6=_0x1dd433!==null&&_0x1fb5b9!==null?_0x1fb5b9-_0x1dd433:null,_0x129c36=_0x1dd433!==null?calculateZScore(_0x1dd433,_0x480c4e[_0x5e7377(0x6d4)],_0x480c4e[_0x5e7377(0x7d1)]):null,_0x59afb3=_0x1fb5b9!==null?calculateZScore(_0x1fb5b9,_0x48e26b[_0x5e7377(0x6d4)],_0x48e26b[_0x5e7377(0x7d1)]):null,_0x1a4315=_0x129c36!==null?calculateTScore(_0x129c36):null,_0x170651=_0x59afb3!==null?calculateTScore(_0x59afb3):null,_0x1e351b=_0x1a4315!==null&&_0x170651!==null?_0x170651-_0x1a4315:null;return{'name':_0x474ad7,'preScore':_0x1dd433,'postScore':_0x1fb5b9,'gain':_0x5188f6,'preTScore':_0x1a4315,'postTScore':_0x170651,'tGain':_0x1e351b};});renderIndividualComparisonTable(_0x1e89b5,_0x17cd78);}catch(_0x375713){console[_0x1c6344(0x689)](_0x1c6344(0x649),_0x375713),_0x2bac08[_0x1c6344(0xbc4)]=_0x1c6344(0xbe3);}}async function saveBlueprintProject(){const _0x396be9=_0x13d91b;if(!extractedBlueprintData||!extractedBlueprintData['curriculum']){showMessage(_0x396be9(0x6e7));return;}const _0x1eaf2f=prompt('กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:',_0x396be9(0x299));if(!_0x1eaf2f||_0x1eaf2f['trim']()==='')return;const _0x2189ff={};extractedBlueprintData['curriculum']['forEach'](_0x573279=>{const _0x53e813=_0x396be9;_0x573279[_0x53e813(0xa33)][_0x53e813(0x5c9)](_0x2e5489=>{const _0x46ab97=_0x53e813;_0x2e5489[_0x46ab97(0x506)][_0x46ab97(0x5c9)](_0x4df095=>{const _0x499420=_0x46ab97,_0x3c6229=_0x499420(0x1be)+Date[_0x499420(0x60e)]()+Math[_0x499420(0x29d)]()[_0x499420(0xda1)](0x24)['substr'](0x2,0x9);_0x2189ff[_0x3c6229]={'sara':_0x573279[_0x499420(0xde8)],'mainTopic':_0x2e5489['topicName'],'subTopic':_0x4df095,'status':_0x499420(0x8b2),'lessonContent':null};});});});try{const _0x1a72f9=collection(db,'artifacts/'+appId+_0x396be9(0x6cd));await addDoc(_0x1a72f9,{'projectName':_0x1eaf2f['trim'](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x2189ff,'createdAt':serverTimestamp()}),showMessage(_0x396be9(0xdc7)+_0x1eaf2f[_0x396be9(0x1a0)]()+_0x396be9(0xc2b)),document['getElementById']('save-blueprint-as-project-btn')[_0x396be9(0x734)][_0x396be9(0x459)](_0x396be9(0x4ad));}catch(_0x40a84e){console[_0x396be9(0x689)](_0x396be9(0x59b),_0x40a84e),showMessage(_0x396be9(0x2dc));}}async function showBlueprintProjects(){const _0x2d55aa=_0x13d91b,_0x30c8b2=document[_0x2d55aa(0x916)](_0x2d55aa(0x975)),_0xc5438a=document[_0x2d55aa(0x916)]('blueprint-project-list');_0xc5438a['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>',_0x30c8b2['classList'][_0x2d55aa(0x5cf)]('hidden');try{const _0x65da71=collection(db,_0x2d55aa(0x54a)+appId+_0x2d55aa(0x6cd)),_0x344f70=await getDocs(_0x65da71);if(_0x344f70[_0x2d55aa(0x71c)]){_0xc5438a[_0x2d55aa(0xbc4)]=_0x2d55aa(0x7e1);return;}const _0x2a6dff=_0x344f70[_0x2d55aa(0x1fb)][_0x2d55aa(0x1b0)](_0x8d106f=>({'id':_0x8d106f['id'],..._0x8d106f[_0x2d55aa(0xaf3)]()}));_0x2a6dff[_0x2d55aa(0x5d4)]((_0x1bef65,_0x27589f)=>_0x1bef65['projectName'][_0x2d55aa(0xa7d)](_0x27589f[_0x2d55aa(0xe04)],'th')),_0xc5438a['innerHTML']=_0x2a6dff[_0x2d55aa(0x1b0)](_0xa8b3a1=>_0x2d55aa(0xcb4)+_0xa8b3a1[_0x2d55aa(0xe04)]+_0x2d55aa(0x37d)+_0xa8b3a1[_0x2d55aa(0x544)]+_0x2d55aa(0x316)+Object[_0x2d55aa(0x4bf)](_0xa8b3a1[_0x2d55aa(0x196)])[_0x2d55aa(0x3d7)]+_0x2d55aa(0x840)+_0xa8b3a1['id']+_0x2d55aa(0x6fe)+_0xa8b3a1['id']+_0x2d55aa(0xdc6))['join']('');}catch(_0x20f842){console[_0x2d55aa(0x689)]('Error\x20loading\x20blueprint\x20projects:',_0x20f842),_0xc5438a['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>';}}async function displayBlueprintProjectManager(_0x2af9fe){const _0x1ee73d=_0x13d91b;currentBlueprintProjectId=_0x2af9fe,document['getElementById']('blueprint-projects-modal')[_0x1ee73d(0x734)][_0x1ee73d(0x459)](_0x1ee73d(0x4ad)),showView('admin-dashboard'),projectDashboardView['classList'][_0x1ee73d(0x459)](_0x1ee73d(0x4ad));const _0x1a1cd7=document[_0x1ee73d(0x916)](_0x1ee73d(0x9f4));_0x1a1cd7[_0x1ee73d(0x734)][_0x1ee73d(0x5cf)](_0x1ee73d(0x4ad)),document[_0x1ee73d(0x916)](_0x1ee73d(0x7e2))[_0x1ee73d(0xbc4)]=_0x1ee73d(0x67b);try{const _0x38fc95=doc(db,_0x1ee73d(0x54a)+appId+_0x1ee73d(0x6cd),_0x2af9fe),_0x37505a=await getDoc(_0x38fc95);if(!_0x37505a['exists']())throw new Error(_0x1ee73d(0xbbc));const _0x2f0b70={'id':_0x37505a['id'],..._0x37505a[_0x1ee73d(0xaf3)]()};document[_0x1ee73d(0x916)](_0x1ee73d(0xc2e))[_0x1ee73d(0xd9d)]=_0x2f0b70[_0x1ee73d(0xe04)],document[_0x1ee73d(0x916)]('bp-reference-file-url')[_0x1ee73d(0x93c)]=_0x2f0b70[_0x1ee73d(0x2b5)]||'',renderBlueprintTopicManager(_0x2f0b70);}catch(_0xa213af){console[_0x1ee73d(0x689)]('Error\x20displaying\x20blueprint\x20project:',_0xa213af),showMessage(_0xa213af[_0x1ee73d(0xbd0)]),showView(_0x1ee73d(0x800));}}function renderBlueprintTopicManager(_0x473118){const _0x1b02a0=_0x13d91b,_0x51da4d=document[_0x1b02a0(0x916)](_0x1b02a0(0x7e2)),_0x17143d=_0x473118[_0x1b02a0(0x196)]||{};if(Object[_0x1b02a0(0x4bf)](_0x17143d)[_0x1b02a0(0x3d7)]===0x0){_0x51da4d[_0x1b02a0(0xbc4)]=_0x1b02a0(0x374);return;}const _0x129472=Object[_0x1b02a0(0x915)](_0x17143d)['map'](([_0x48c30c,_0xa5ed7e])=>({'id':_0x48c30c,..._0xa5ed7e}))[_0x1b02a0(0x5d4)]((_0x15e75f,_0x417e6b)=>(_0x15e75f[_0x1b02a0(0x9b5)]??Infinity)-(_0x417e6b[_0x1b02a0(0x9b5)]??Infinity)),_0x18c15e={};_0x129472[_0x1b02a0(0x5c9)](_0x4e01d6=>{const _0x55b950=_0x1b02a0,{sara:_0xa2b6c,mainTopic:_0x2bbf03}=_0x4e01d6;!_0x18c15e[_0xa2b6c]&&(_0x18c15e[_0xa2b6c]={}),!_0x18c15e[_0xa2b6c][_0x2bbf03]&&(_0x18c15e[_0xa2b6c][_0x2bbf03]=[]),_0x18c15e[_0xa2b6c][_0x2bbf03][_0x55b950(0x298)](_0x4e01d6);});let _0x54176e='';for(const _0x5067f6 in _0x18c15e){_0x54176e+=_0x1b02a0(0xe00)+_0x5067f6+_0x1b02a0(0xba2);for(const _0x3fbb19 in _0x18c15e[_0x5067f6]){_0x54176e+=_0x1b02a0(0x278)+_0x3fbb19+_0x1b02a0(0xb3a),_0x18c15e[_0x5067f6][_0x3fbb19][_0x1b02a0(0x5c9)](_0x257e03=>{const _0x3aae33=_0x1b02a0,_0x42c376=_0x257e03['id'],_0x4ba5a2=_0x257e03[_0x3aae33(0x663)]||[],_0x562dc5=_0x4ba5a2['length']>0x0,_0x445ef6=_0x257e03[_0x3aae33(0x127)]===_0x3aae33(0x4e6);let _0x5e1476='';_0x562dc5?_0x5e1476=_0x3aae33(0x598)+_0x4ba5a2[_0x3aae33(0x3d7)]+_0x3aae33(0x133):_0x5e1476=_0x3aae33(0x575)+(_0x445ef6?_0x3aae33(0x7af):_0x3aae33(0x921))+'\x22>'+(_0x445ef6?'สร้างแล้ว':_0x3aae33(0x858))+'</span>';const _0x116ede=!_0x445ef6?_0x3aae33(0x1e3):'',_0x20565e=!_0x445ef6?_0x3aae33(0xaf4):'';let _0x20a1fc=_0x445ef6?_0x3aae33(0x46d):'<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>';_0x54176e+=_0x3aae33(0x98c)+_0x42c376+_0x3aae33(0x43f)+_0x257e03['subTopic']+_0x3aae33(0x7ac)+_0x5e1476+_0x3aae33(0x7c0)+_0x116ede+_0x3aae33(0x4f0)+_0x20565e+_0x3aae33(0xcde)+_0x20a1fc+_0x3aae33(0xab4);}),_0x54176e+=_0x1b02a0(0xc25);}_0x54176e+=_0x1b02a0(0xa4f);}_0x51da4d[_0x1b02a0(0xbc4)]=_0x54176e;}async function handleDeepDeleteBlueprintProject(_0x30666c){const _0x2e1ffd=_0x13d91b,_0x289078=doc(db,_0x2e1ffd(0x54a)+appId+_0x2e1ffd(0x6cd),_0x30666c),_0x1a7a08=await getDoc(_0x289078);if(!_0x1a7a08[_0x2e1ffd(0x5fd)]()){showMessage(_0x2e1ffd(0x94e));return;}const _0x2f3af4=_0x1a7a08['data']()[_0x2e1ffd(0xe04)];showConfirmation(_0x2e1ffd(0x9e6)+_0x2f3af4+_0x2e1ffd(0xe17),async()=>{const _0x1a9d8a=_0x2e1ffd;showMessage(_0x1a9d8a(0x744));try{const _0x2aea62=writeBatch(db),_0x2a4dbe=_0x1a7a08[_0x1a9d8a(0xaf3)](),_0x13eba9=_0x2a4dbe[_0x1a9d8a(0x196)]||{};for(const _0xad7d34 in _0x13eba9){const _0x1a2536=doc(db,_0x1a9d8a(0x54a)+appId+'/public/data/blueprintProjects/'+_0x30666c+_0x1a9d8a(0x310),_0xad7d34);_0x2aea62['delete'](_0x1a2536);}const _0x20c1e9=new Set();for(const _0x332aec in _0x13eba9){_0x13eba9[_0x332aec][_0x1a9d8a(0x663)]&&_0x13eba9[_0x332aec][_0x1a9d8a(0x663)][_0x1a9d8a(0x5c9)](_0x137716=>_0x20c1e9['add'](_0x137716));}for(const _0x51efdb of _0x20c1e9){await handleDeleteQuiz(_0x51efdb,![]);}_0x2aea62[_0x1a9d8a(0x9eb)](_0x289078),await _0x2aea62[_0x1a9d8a(0x1cc)](),showMessage(_0x1a9d8a(0x292)+_0x2f3af4+_0x1a9d8a(0x4e1)),showBlueprintProjects();}catch(_0x4861a4){console[_0x1a9d8a(0x689)](_0x1a9d8a(0x84f),_0x4861a4),showMessage(_0x1a9d8a(0x775));}});}async function openTopicQuizBank(_0x2ddeef){const _0x23cf75=_0x13d91b,_0x437fee=document[_0x23cf75(0x916)](_0x23cf75(0xc6c)),_0x3f9847=document[_0x23cf75(0x916)](_0x23cf75(0xb34)),_0x343995=document[_0x23cf75(0x916)]('clear-all-links-btn');try{await ensureGlobalQuizzesLoaded();const _0x3726ca=doc(db,_0x23cf75(0x54a)+appId+_0x23cf75(0x6cd),currentBlueprintProjectId),_0x232e43=await getDoc(_0x3726ca);if(!_0x232e43[_0x23cf75(0x5fd)]())return;const _0x4cd004=_0x232e43[_0x23cf75(0xaf3)](),_0x3b81c9=_0x4cd004['topics'][_0x2ddeef];document[_0x23cf75(0x916)](_0x23cf75(0x23e))[_0x23cf75(0xd9d)]=_0x3b81c9['subTopic'];const _0x929996=_0x3b81c9[_0x23cf75(0x663)]||[];_0x343995[_0x23cf75(0x734)][_0x23cf75(0x3bc)](_0x23cf75(0x4ad),_0x929996['length']===0x0),_0x343995['onclick']=()=>handleClearAllLinksForTopic(_0x2ddeef);if(_0x929996[_0x23cf75(0x3d7)]===0x0)_0x3f9847[_0x23cf75(0xbc4)]=_0x23cf75(0xd9e);else{const _0x52fcc3=allQuizzesGlobal[_0x23cf75(0xc52)](_0x56ab16=>_0x929996['includes'](_0x56ab16['id']));_0x3f9847[_0x23cf75(0xbc4)]=_0x52fcc3[_0x23cf75(0x1b0)](_0x2175d6=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22'+_0x2175d6['id']+_0x23cf75(0xd7c)+_0x2175d6[_0x23cf75(0xdf4)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20'+_0x2175d6['id']+_0x23cf75(0x316)+_0x2175d6[_0x23cf75(0x87f)][_0x23cf75(0x3d7)]+_0x23cf75(0x9a2)+_0x2175d6['id']+_0x23cf75(0x847)+_0x2175d6['id']+_0x23cf75(0xd5d)+_0x2175d6['id']+_0x23cf75(0x7a8)+_0x2175d6['id']+_0x23cf75(0x36d)+_0x2175d6['id']+_0x23cf75(0x9cf)+_0x2175d6['id']+_0x23cf75(0x3ba)+_0x2ddeef+_0x23cf75(0xd8d)+_0x2175d6['id']+_0x23cf75(0x8e5))[_0x23cf75(0x22e)]('');}document[_0x23cf75(0x916)](_0x23cf75(0x554))[_0x23cf75(0xc55)]=()=>{openQuizSelectorForBlueprint(_0x2ddeef);},document[_0x23cf75(0x916)](_0x23cf75(0x848))[_0x23cf75(0xc55)]=()=>_0x437fee[_0x23cf75(0x734)][_0x23cf75(0x459)](_0x23cf75(0x4ad)),_0x437fee[_0x23cf75(0x734)]['remove'](_0x23cf75(0x4ad));}catch(_0x18963b){showMessage(_0x18963b[_0x23cf75(0xbd0)]);}}async function openQuizSelectorForBlueprint(_0x360c1d){const _0x1b3a43=_0x13d91b,_0x4958de=document[_0x1b3a43(0x916)](_0x1b3a43(0x6c8)),_0x2fb014=document[_0x1b3a43(0x916)](_0x1b3a43(0xc6c));_0x2fb014[_0x1b3a43(0x734)][_0x1b3a43(0x459)](_0x1b3a43(0x4ad)),document[_0x1b3a43(0x916)](_0x1b3a43(0x990))?.[_0x1b3a43(0x5cf)]();const _0x1df1c0=document[_0x1b3a43(0x1da)](_0x1b3a43(0x4a0));_0x1df1c0['id']=_0x1b3a43(0x990),_0x1df1c0[_0x1b3a43(0x170)]='bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400',_0x1df1c0[_0x1b3a43(0xd9d)]=_0x1b3a43(0xaed),_0x1df1c0['disabled']=!![];try{await ensureGlobalQuizzesLoaded(),_0x4958de['classList'][_0x1b3a43(0x5cf)](_0x1b3a43(0x4ad)),renderQuizBankListForMultiSelect(''),document[_0x1b3a43(0x916)]('bulk-quiz-settings-btn')[_0x1b3a43(0x3bb)][_0x1b3a43(0x31b)]='none',_0x4958de[_0x1b3a43(0x7f4)](_0x1b3a43(0x7db))[_0x1b3a43(0x38c)](_0x1df1c0);const _0x57f600=(_0x2f2e58=![])=>{const _0x3208b1=_0x1b3a43;_0x4958de[_0x3208b1(0x734)][_0x3208b1(0x459)](_0x3208b1(0x4ad)),document[_0x3208b1(0x916)](_0x3208b1(0x212))[_0x3208b1(0x3bb)]['display']='flex',_0x1df1c0[_0x3208b1(0x5cf)](),_0x2f2e58&&openTopicQuizBank(_0x360c1d);};_0x1df1c0['onclick']=async()=>{const _0x8c1950=_0x1b3a43,_0x4bbcd7=Array[_0x8c1950(0x199)](document['querySelectorAll']('.quiz-bank-checkbox:checked'))[_0x8c1950(0x1b0)](_0x1319cd=>_0x1319cd['value']);if(_0x4bbcd7[_0x8c1950(0x3d7)]===0x0)return;try{const _0x169899=doc(db,_0x8c1950(0x54a)+appId+_0x8c1950(0x6cd),currentBlueprintProjectId),_0x50348e=(await getDoc(_0x169899))['data'](),_0x5515c7=_0x50348e[_0x8c1950(0x196)][_0x360c1d][_0x8c1950(0x663)]||[],_0x50f965=[...new Set([..._0x5515c7,..._0x4bbcd7])];await updateDoc(_0x169899,{[_0x8c1950(0x179)+_0x360c1d+_0x8c1950(0x73d)]:_0x50f965}),showMessage(_0x8c1950(0xa14)+_0x4bbcd7['length']+_0x8c1950(0xd44)),_0x57f600(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x322a35){console[_0x8c1950(0x689)](_0x8c1950(0x627),_0x322a35);}},document[_0x1b3a43(0x916)](_0x1b3a43(0x345))[_0x1b3a43(0xc55)]=()=>_0x57f600(!![]);}catch(_0x2dead9){showMessage(_0x2dead9[_0x1b3a43(0xbd0)]),_0x2fb014[_0x1b3a43(0x734)][_0x1b3a43(0x5cf)](_0x1b3a43(0x4ad));}}function handleClearLinkedQuiz(_0x50227e){showConfirmation('คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?',async()=>{const _0x324002=_0x28c2;try{const _0x3b72d9=doc(db,_0x324002(0x54a)+appId+_0x324002(0x6cd),currentBlueprintProjectId);await updateDoc(_0x3b72d9,{[_0x324002(0x179)+_0x50227e+_0x324002(0x2de)]:deleteField()}),showMessage(_0x324002(0x88d)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2a4b48){console[_0x324002(0x689)](_0x324002(0x3fc),_0x2a4b48),showMessage('เกิดข้อผิดพลาด');}});}async function addTopicToProject(){const _0x169afa=_0x13d91b,_0x4a8df6=prompt(_0x169afa(0x8f6));if(!_0x4a8df6||_0x4a8df6['trim']()==='')return;const _0x24f6ba=prompt(_0x169afa(0x9e4),_0x169afa(0x1c8)),_0x6100e5=prompt(_0x169afa(0xd93),_0x169afa(0xbd1)),_0x595dbc='topic_'+Date[_0x169afa(0x60e)]()+Math[_0x169afa(0x29d)]()['toString'](0x24)[_0x169afa(0x3e7)](0x2,0x9),_0xbb299d={'sara':_0x24f6ba,'mainTopic':_0x6100e5,'subTopic':_0x4a8df6[_0x169afa(0x1a0)](),'status':_0x169afa(0x8b2),'lessonContent':null};try{const _0x27e5f4=doc(db,'artifacts/'+appId+_0x169afa(0x6cd),currentBlueprintProjectId);await updateDoc(_0x27e5f4,{[_0x169afa(0x179)+_0x595dbc]:_0xbb299d}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1228d6){console[_0x169afa(0x689)]('Error\x20adding\x20topic:',_0x1228d6),showMessage(_0x169afa(0x25d));}}async function editTopicInProject(_0x59bb12){const _0x52ed95=_0x13d91b,_0x5cf379=document[_0x52ed95(0x7f4)](_0x52ed95(0x8ac)+_0x59bb12+'\x22]'),_0x24cc3c=_0x5cf379[_0x52ed95(0x7f4)](_0x52ed95(0x584)),_0x31e818=_0x24cc3c[_0x52ed95(0xd9d)],_0x145ebb=prompt(_0x52ed95(0x16d),_0x31e818);if(!_0x145ebb||_0x145ebb[_0x52ed95(0x1a0)]()===''||_0x145ebb[_0x52ed95(0x1a0)]()===_0x31e818)return;try{const _0x35de9d=doc(db,'artifacts/'+appId+_0x52ed95(0x6cd),currentBlueprintProjectId);await updateDoc(_0x35de9d,{[_0x52ed95(0x179)+_0x59bb12+_0x52ed95(0x8a7)]:_0x145ebb[_0x52ed95(0x1a0)]()}),_0x24cc3c[_0x52ed95(0xd9d)]=_0x145ebb['trim'](),showMessage(_0x52ed95(0x1a5));}catch(_0x570ce8){console[_0x52ed95(0x689)](_0x52ed95(0x1ad),_0x570ce8),showMessage(_0x52ed95(0xbe1));}}async function deleteTopicFromProject(_0x3109bb){const _0x14a67a=_0x13d91b;if(!confirm('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?'))return;try{const _0x45d5be=doc(db,_0x14a67a(0x54a)+appId+_0x14a67a(0x6cd),currentBlueprintProjectId);await updateDoc(_0x45d5be,{['topics.'+_0x3109bb]:deleteField()}),document[_0x14a67a(0x7f4)]('[data-topic-id=\x22'+_0x3109bb+'\x22]')[_0x14a67a(0x5cf)](),showMessage(_0x14a67a(0x1ce));}catch(_0x2d018b){console[_0x14a67a(0x689)](_0x14a67a(0x599),_0x2d018b),showMessage(_0x14a67a(0xbd5));}}async function generateAndSaveLessonForBlueprint(_0x33fe61,_0x2b21bb,_0x32f2a6){handleGenerateAndShowLesson(_0x2b21bb,_0x32f2a6);const _0x54e267=setInterval(async()=>{const _0x227e67=_0x28c2,_0x37b18c=document['getElementById']('lesson-view-modal'),_0x36f5c1=_0x37b18c['classList'][_0x227e67(0x8ae)]('hidden');if(_0x36f5c1){clearInterval(_0x54e267);if(currentApplicationData&&currentApplicationData[_0x227e67(0x3d7)]>0x0){const _0x497900={'point':document[_0x227e67(0x916)](_0x227e67(0x393))[_0x227e67(0xbc4)],'memory':document[_0x227e67(0x916)](_0x227e67(0xb19))['innerHTML'],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x227e67(0x916)](_0x227e67(0x896))[_0x227e67(0xbc4)]};try{const _0x23961e=doc(db,_0x227e67(0x54a)+appId+_0x227e67(0x6cd),currentBlueprintProjectId),_0x144ba1=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+'/lessons',_0x33fe61),_0x280938=writeBatch(db);_0x280938['set'](_0x144ba1,{'content':_0x497900}),_0x280938[_0x227e67(0x987)](_0x23961e,{['topics.'+_0x33fe61+_0x227e67(0xcf8)]:'generated'}),await _0x280938[_0x227e67(0x1cc)](),console[_0x227e67(0xcf6)]('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x33fe61+_0x227e67(0xdcb)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2c4668){console[_0x227e67(0x689)](_0x227e67(0x579),_0x2c4668);}}}},0x3e8);}function displayHalfMarkResult(_0x4d7c32,_0x3a46f3){const _0x5bb7d0=_0x13d91b,_0xea6f24=_0x4d7c32>=_0x3a46f3/0x2,_0x277952=_0xea6f24?_0x5bb7d0(0xa92):_0x5bb7d0(0xcab),_0x459731=_0xea6f24?_0x5bb7d0(0x18d):_0x5bb7d0(0xc6b),_0x257c3a=_0xea6f24?_0x5bb7d0(0x451):_0x5bb7d0(0x49e),_0x15bd3d=_0xea6f24?'ทำคะแนนได้เกินครึ่ง':'คะแนนยังไม่ถึงครึ่ง',_0x331ac0=_0xea6f24?_0x5bb7d0(0x4ce):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x56e7b9=_0x5bb7d0(0x4fe)+_0x277952+_0x5bb7d0(0x71b)+_0x459731+_0x5bb7d0(0xa2f)+_0x257c3a+_0x5bb7d0(0x2d6)+_0x15bd3d+_0x5bb7d0(0x590)+_0x331ac0+_0x5bb7d0(0x623);studentResultArea['innerHTML']=_0x56e7b9,studentResultArea[_0x5bb7d0(0x734)][_0x5bb7d0(0x5cf)](_0x5bb7d0(0x4ad)),studentQuizArea['classList'][_0x5bb7d0(0x459)](_0x5bb7d0(0x4ad)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0xea6f24});}function displayPerfectScoreResult(_0x5405f9,_0x1a347e){const _0x829fb5=_0x13d91b,_0xf90ba1=_0x5405f9===_0x1a347e,_0x4be536=_0xf90ba1?_0x829fb5(0x24f):_0x829fb5(0xd5e),_0x22e9f3=_0xf90ba1?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x829fb5(0x4c9),_0xe99135=_0xf90ba1?'text-yellow-800':_0x829fb5(0x3c5),_0x152c7c=_0xf90ba1?_0x829fb5(0x2e3):'ยังไม่เต็มนะ',_0x3339e=_0xf90ba1?_0x829fb5(0x42d):_0x829fb5(0x936);let _0x3b488f=_0x829fb5(0x4fe)+_0x4be536+_0x829fb5(0x71b)+_0x22e9f3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0xe99135+_0x829fb5(0x2d6)+_0x152c7c+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x3339e+_0x829fb5(0x623);studentResultArea[_0x829fb5(0xbc4)]=_0x3b488f,studentResultArea[_0x829fb5(0x734)][_0x829fb5(0x5cf)]('hidden'),studentQuizArea[_0x829fb5(0x734)][_0x829fb5(0x459)](_0x829fb5(0x4ad)),setupResultScreenBackButton({'showRankings':![],'score':_0x5405f9,'totalQuestions':_0x1a347e});}function renderIndividualComparisonTable(_0x2aae2a,_0x7149cf){const _0x56a128=_0x13d91b;_0x2aae2a[_0x56a128(0x5d4)]((_0x6c840,_0x1d1309)=>(_0x1d1309[_0x56a128(0x89c)]??-Infinity)-(_0x6c840['tGain']??-Infinity));let _0x134587='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x2aae2a[_0x56a128(0x3d7)]===0x0?_0x134587+=_0x56a128(0x14a):_0x2aae2a[_0x56a128(0x5c9)]((_0x4eeb6e,_0x1f9e19)=>{const _0x497cee=_0x56a128;let _0x2a354d='-',_0xf3ca03='';if(_0x4eeb6e[_0x497cee(0xe18)]!==null){const _0x31ab1c=_0x4eeb6e[_0x497cee(0xe18)]>0x0?_0x497cee(0x3bd):_0x4eeb6e[_0x497cee(0xe18)]<0x0?_0x497cee(0xa10):_0x497cee(0xab2),_0x3e7e43=_0x4eeb6e[_0x497cee(0xe18)]>0x0?'+':'';_0x2a354d='<span\x20class=\x22font-bold\x20'+_0x31ab1c+'\x22>'+_0x3e7e43+_0x4eeb6e[_0x497cee(0xe18)]+'</span>';if(_0x4eeb6e[_0x497cee(0xe18)]>0x0)_0xf3ca03='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x4eeb6e[_0x497cee(0xe18)]<0x0?_0xf3ca03=_0x497cee(0xb1a):_0xf3ca03=_0x497cee(0x69d);}let _0x3b9ff4='-';if(_0x4eeb6e[_0x497cee(0x89c)]!==null){const _0xbdbef5=_0x4eeb6e['tGain']>0x0?_0x497cee(0x3bd):_0x4eeb6e[_0x497cee(0x89c)]<0x0?_0x497cee(0xa10):_0x497cee(0xab2),_0x2a20e4=_0x4eeb6e[_0x497cee(0x89c)]>0x0?'+':'';_0x3b9ff4='<span\x20class=\x22font-bold\x20'+_0xbdbef5+'\x22>'+_0x2a20e4+_0x4eeb6e[_0x497cee(0x89c)][_0x497cee(0x643)](0x2)+_0x497cee(0xbc2);}_0x134587+=_0x497cee(0x1c3)+(_0x1f9e19+0x1)+_0x497cee(0x256)+_0x4eeb6e[_0x497cee(0x34b)]+_0x497cee(0xe1e)+(_0x4eeb6e[_0x497cee(0x2b7)]??'-')+_0x497cee(0xbd6)+(_0x4eeb6e['postScore']??'-')+_0x497cee(0xe1e)+_0x2a354d+_0x497cee(0x270)+_0xf3ca03+_0x497cee(0xd5c)+(_0x4eeb6e[_0x497cee(0x4c4)]?.[_0x497cee(0x643)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x4eeb6e[_0x497cee(0xe23)]?.[_0x497cee(0x643)](0x2)??'-')+_0x497cee(0xe1e)+_0x3b9ff4+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x134587+=_0x56a128(0x277),_0x7149cf['innerHTML']=_0x134587;}function handleRenameQuiz(_0x32f730,_0x28df8){const _0x33106e=_0x13d91b;actionTargetId=_0x32f730,document[_0x33106e(0x916)]('rename-quiz-input')['value']=_0x28df8,renameQuizModal[_0x33106e(0x734)][_0x33106e(0x5cf)](_0x33106e(0x4ad));}function setupComparisonModalTabs(){const _0x147361=_0x13d91b,_0x107eb0=document['getElementById'](_0x147361(0x357)),_0x4b775a=document[_0x147361(0x916)]('comparison-individual-tab'),_0x43f82c=document[_0x147361(0x916)](_0x147361(0x7a0)),_0x27ff60=document['getElementById'](_0x147361(0xc15));_0x107eb0[_0x147361(0xc2d)](_0x147361(0xab7),()=>{const _0x35c021=_0x147361;_0x107eb0[_0x35c021(0x734)][_0x35c021(0x459)](_0x35c021(0x101)),_0x4b775a[_0x35c021(0x734)]['remove'](_0x35c021(0x101)),_0x43f82c[_0x35c021(0x734)][_0x35c021(0x5cf)](_0x35c021(0x4ad)),_0x27ff60[_0x35c021(0x734)][_0x35c021(0x459)](_0x35c021(0x4ad));}),_0x4b775a[_0x147361(0xc2d)](_0x147361(0xab7),()=>{const _0x2ff836=_0x147361;_0x4b775a[_0x2ff836(0x734)][_0x2ff836(0x459)](_0x2ff836(0x101)),_0x107eb0[_0x2ff836(0x734)][_0x2ff836(0x5cf)]('active'),_0x27ff60[_0x2ff836(0x734)][_0x2ff836(0x5cf)](_0x2ff836(0x4ad)),_0x43f82c[_0x2ff836(0x734)][_0x2ff836(0x459)](_0x2ff836(0x4ad));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x33671f=_0x13d91b;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x5e7748=doc(db,_0x33671f(0x54a)+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x5e7748,_0x4411ff=>{const _0x2df5f8=_0x33671f;if(!_0x4411ff[_0x2df5f8(0x5fd)]()){showMessage(_0x2df5f8(0xd17));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x2df5f8(0x1e4)?showView(_0x2df5f8(0x560)):showView(_0x2df5f8(0xdd4));return;}const _0x25ad4d=_0x4411ff[_0x2df5f8(0xaf3)]();_0x25ad4d[_0x2df5f8(0x571)]&&(currentQuizData=_0x25ad4d[_0x2df5f8(0x571)]);!currentQuizData&&_0x25ad4d[_0x2df5f8(0xbc0)]&&((async()=>{const _0x16600f=_0x2df5f8;try{const _0x269cb8=doc(db,_0x16600f(0x54a)+appId+'/public/data/quizzes',_0x25ad4d[_0x16600f(0xbc0)]),_0x4a21a1=await getDoc(_0x269cb8);_0x4a21a1[_0x16600f(0x5fd)]()&&(currentQuizData={'id':_0x4a21a1['id'],..._0x4a21a1[_0x16600f(0xaf3)]()});}catch(_0x14037f){console[_0x16600f(0x689)](_0x16600f(0xb61),_0x14037f);}})());switch(_0x25ad4d[_0x2df5f8(0x127)]){case _0x2df5f8(0xa3e):if(currentMode==='admin'){const _0x4c705d=_0x25ad4d[_0x2df5f8(0x5cc)]?Object['entries'](_0x25ad4d['players']):[],_0x58a596=_0x4c705d[_0x2df5f8(0xc52)](([_0x4ad3f1,_0x2aa3f0])=>_0x2aa3f0[_0x2df5f8(0x127)]===_0x2df5f8(0x101)),_0x1a0519=document[_0x2df5f8(0x916)](_0x2df5f8(0x218));if(_0x1a0519)_0x1a0519['textContent']=_0x58a596[_0x2df5f8(0x3d7)];const _0xccc07f=document[_0x2df5f8(0x916)]('player-list-lobby');_0xccc07f&&(_0xccc07f[_0x2df5f8(0xbc4)]=_0x58a596[_0x2df5f8(0x1b0)](([_0x18b3fe,_0x2a2967])=>_0x2df5f8(0xb59)+_0x18b3fe+_0x2df5f8(0x10c)+_0x18b3fe+_0x2df5f8(0xa0c))[_0x2df5f8(0x22e)](''));const _0x76b907=document['getElementById'](_0x2df5f8(0x951));_0x76b907&&(_0x76b907['disabled']=_0x58a596[_0x2df5f8(0x3d7)]===0x0);}else showView(_0x2df5f8(0x8ad)),liveGameView[_0x2df5f8(0xbc4)]=_0x2df5f8(0xdaa)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x2df5f8(0x512):const _0x4c6bb5=_0x25ad4d[_0x2df5f8(0x601)];if(currentQuizData&&currentQuizData[_0x2df5f8(0x87f)][_0x4c6bb5]){const _0x14de19=currentQuizData[_0x2df5f8(0x87f)][_0x4c6bb5],_0x272687=_0x25ad4d['questionStatus']||_0x2df5f8(0x738);switch(_0x272687){case _0x2df5f8(0x7b0):currentMode===_0x2df5f8(0x1e4)?showAdminSummaryView(_0x25ad4d,_0x14de19):showPlayerSummaryView(_0x25ad4d,currentStudentName);break;case _0x2df5f8(0x6f5):currentMode===_0x2df5f8(0x1e4)&&showTop5LeaderboardView(_0x25ad4d);break;case'answering':default:if(currentMode==='admin'){const _0x57ec1b=writeBatch(db);let _0x49f7f5=![];Object['entries'](_0x25ad4d[_0x2df5f8(0x5cc)])['forEach'](([_0xf79316,_0x306105])=>{const _0x39b337=_0x2df5f8;if(_0x306105['status']===_0x39b337(0x101)&&_0x306105[_0x39b337(0x2b9)]&&!_0x306105[_0x39b337(0x391)]){_0x49f7f5=!![];const _0x16b416=_0x306105[_0x39b337(0x2b9)][_0x39b337(0xb6b)]()-_0x25ad4d[_0x39b337(0xc41)][_0x39b337(0xb6b)]();let _0x29aadf=0x0;if(_0x306105[_0x39b337(0xb56)]){const _0x3b7cdb=0x3e8,_0x45c63b=0x1f4,_0x5b0c01=0x4e20;let _0x1f5f85=_0x16b416/_0x5b0c01;if(_0x1f5f85>0x1)_0x1f5f85=0x1;const _0x5b1c29=Math[_0x39b337(0x1e7)](_0x1f5f85*_0x45c63b);_0x29aadf=_0x3b7cdb-_0x5b1c29;}const _0x43470f=doc(db,'artifacts/'+appId+_0x39b337(0x543),currentLiveGameId);_0x57ec1b[_0x39b337(0x987)](_0x43470f,{['players.'+_0xf79316+'.score']:increment(_0x29aadf),[_0x39b337(0x5a6)+_0xf79316+_0x39b337(0xbc9)]:_0x29aadf,['players.'+_0xf79316+_0x39b337(0x9af)]:!![]});}});_0x49f7f5&&_0x57ec1b['commit']()[_0x2df5f8(0x161)](_0x2da423=>console['error']('Error\x20committing\x20score\x20updates:',_0x2da423));lastRenderedAdminQuestionIndex!==_0x4c6bb5&&(showAdminLiveQuestionView(_0x14de19,_0x4c6bb5,currentQuizData[_0x2df5f8(0x87f)][_0x2df5f8(0x3d7)]),lastRenderedAdminQuestionIndex=_0x4c6bb5);const _0x5b88d3=_0x25ad4d[_0x2df5f8(0x5cc)]||{},_0x238ed6=Object[_0x2df5f8(0x3ff)](_0x5b88d3)['filter'](_0x1c877b=>_0x1c877b[_0x2df5f8(0x127)]===_0x2df5f8(0x101)),_0x14d5ef=_0x238ed6[_0x2df5f8(0x3d7)],_0x19b6c8=_0x238ed6[_0x2df5f8(0xc52)](_0x24e667=>_0x24e667[_0x2df5f8(0x886)]===!![])['length'],_0xab4385=document[_0x2df5f8(0x916)](_0x2df5f8(0x634));if(_0xab4385)_0xab4385[_0x2df5f8(0xd9d)]=_0x19b6c8+'/'+_0x14d5ef;const _0x100dfc=document[_0x2df5f8(0x916)]('live-player-list');if(_0x100dfc){let _0x26aa20=Object[_0x2df5f8(0x915)](_0x5b88d3)[_0x2df5f8(0xc52)](([_0x33d90a,_0x4a7044])=>_0x4a7044['status']===_0x2df5f8(0x101))[_0x2df5f8(0x1b0)](([_0x2639f0,_0xcfe474])=>{const _0x12c0d7=_0x2df5f8,_0xc59174=_0xcfe474[_0x12c0d7(0x886)]===!![],_0x5becbc=_0xc59174?_0x12c0d7(0x562):'bg-gray-500',_0x925146=_0xc59174?_0x12c0d7(0x4f7):_0x12c0d7(0x389);return _0x12c0d7(0x173)+_0x5becbc+_0x12c0d7(0x6e0)+_0x925146+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x2639f0+_0x12c0d7(0x68d)+_0x2639f0+_0x12c0d7(0xd71);})[_0x2df5f8(0x22e)]('');_0x100dfc['innerHTML']=_0x26aa20||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x14d5ef>0x0&&_0x19b6c8===_0x14d5ef&&revealAnswerForAdmin(_0x4c6bb5,currentQuizData[_0x2df5f8(0x87f)][_0x2df5f8(0x3d7)]);}else{const _0x28f0a2=_0x25ad4d['players'][currentStudentName];_0x28f0a2&&!_0x28f0a2[_0x2df5f8(0x886)]&&showStudentLiveQuestionView(_0x14de19,_0x4c6bb5,currentQuizData[_0x2df5f8(0x87f)][_0x2df5f8(0x3d7)]);}break;}}break;case'podium':showPodiumView(_0x25ad4d[_0x2df5f8(0x5cc)],'live-race');break;}});}async function openGlobalActivityModal(){const _0x201897=_0x13d91b;if(allQuizzesGlobal[_0x201897(0x3d7)]===0x0){const _0x216ff4=await getDocs(collection(db,_0x201897(0x54a)+appId+_0x201897(0xd20)));allQuizzesGlobal=_0x216ff4[_0x201897(0x1fb)]['map'](_0x4fd2a4=>({'id':_0x4fd2a4['id'],..._0x4fd2a4[_0x201897(0xaf3)]()}));}renderGlobalActivityList(''),document[_0x201897(0x916)]('global-activity-modal')[_0x201897(0x734)][_0x201897(0x5cf)](_0x201897(0x4ad));}function renderGlobalActivityList(_0x45e630=''){const _0x26bf74=_0x13d91b,_0x2d2cd0=document['getElementById'](_0x26bf74(0xe03)),_0x38028a=_0x45e630[_0x26bf74(0x3c8)]()['trim'](),_0x5a9750=allQuizzesGlobal[_0x26bf74(0x1b0)](_0x4f6864=>({..._0x4f6864,'projectName':allProjects[_0x26bf74(0xa3d)](_0x122b94=>_0x122b94['id']===_0x4f6864[_0x26bf74(0x7a5)])?.[_0x26bf74(0xe04)]||_0x26bf74(0x642)}))[_0x26bf74(0xc52)](_0x395a98=>(_0x395a98[_0x26bf74(0xdf4)]||'')['toLowerCase']()['includes'](_0x38028a)||(_0x395a98[_0x26bf74(0xe04)]||'')[_0x26bf74(0x3c8)]()[_0x26bf74(0xb28)](_0x38028a));document['getElementById'](_0x26bf74(0x318))[_0x26bf74(0xd9d)]='('+_0x5a9750[_0x26bf74(0x3d7)]+_0x26bf74(0x5f5),_0x2d2cd0[_0x26bf74(0xbc4)]=_0x5a9750[_0x26bf74(0x3d7)]?_0x5a9750[_0x26bf74(0x1b0)](_0x481b91=>_0x26bf74(0x1dd)+(_0x481b91[_0x26bf74(0xdf4)]||'(ไม่มีชื่อ)')+_0x26bf74(0x152)+(_0x481b91[_0x26bf74(0x87f)]?.[_0x26bf74(0x3d7)]||0x0)+_0x26bf74(0xc43)+_0x481b91[_0x26bf74(0xe04)]+_0x26bf74(0x47a)+_0x481b91['id']+_0x26bf74(0xbfa)+_0x481b91['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x481b91['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x481b91['id']+_0x26bf74(0x80d))[_0x26bf74(0x22e)](''):_0x26bf74(0x1de);}async function handleKickPlayer(_0x44bbf0){const _0x4ac2f3=_0x13d91b;if(!currentLiveGameId||!_0x44bbf0)return;const _0x4718b7=doc(db,_0x4ac2f3(0x54a)+appId+_0x4ac2f3(0x543),currentLiveGameId),_0x5c964e={};_0x5c964e[_0x4ac2f3(0x5a6)+_0x44bbf0+'.status']=_0x4ac2f3(0x949);try{await updateDoc(_0x4718b7,_0x5c964e);}catch(_0x2af852){console[_0x4ac2f3(0x689)](_0x4ac2f3(0x594)+_0x44bbf0+':',_0x2af852),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function authenticateUser(){const _0x580b93=_0x13d91b;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x30e660){console[_0x580b93(0x689)](_0x580b93(0x792),_0x30e660),showMessage(_0x580b93(0xde9));}}function showView(_0x584fff){const _0x38fae9=_0x13d91b;adminView['classList'][_0x38fae9(0x459)](_0x38fae9(0x4ad)),studentView['classList']['add'](_0x38fae9(0x4ad)),projectDashboardView[_0x38fae9(0x734)][_0x38fae9(0x459)](_0x38fae9(0x4ad)),projectDetailView[_0x38fae9(0x734)][_0x38fae9(0x459)](_0x38fae9(0x4ad)),quizResultsView[_0x38fae9(0x734)][_0x38fae9(0x459)](_0x38fae9(0x4ad)),liveGameView[_0x38fae9(0x734)][_0x38fae9(0x459)](_0x38fae9(0x4ad)),document[_0x38fae9(0x916)](_0x38fae9(0x9f4))[_0x38fae9(0x734)]['add'](_0x38fae9(0x4ad)),studentInitialView[_0x38fae9(0x734)][_0x38fae9(0x459)](_0x38fae9(0x4ad)),studentJoinGameView[_0x38fae9(0x734)][_0x38fae9(0x459)](_0x38fae9(0x4ad)),studentNameSelectionView[_0x38fae9(0x734)][_0x38fae9(0x459)](_0x38fae9(0x4ad)),studentQuizArea[_0x38fae9(0x734)][_0x38fae9(0x459)]('hidden'),studentResultArea['classList']['add'](_0x38fae9(0x4ad)),studentReadingArea[_0x38fae9(0x734)][_0x38fae9(0x459)](_0x38fae9(0x4ad));const _0x5ea8d7=document[_0x38fae9(0x916)]('student-team-selection-view'),_0x1bbc04=document[_0x38fae9(0x916)]('student-progress-view');if(_0x5ea8d7)_0x5ea8d7[_0x38fae9(0x734)][_0x38fae9(0x459)](_0x38fae9(0x4ad));if(_0x1bbc04)_0x1bbc04[_0x38fae9(0x734)][_0x38fae9(0x459)](_0x38fae9(0x4ad));switch(_0x584fff){case _0x38fae9(0x800):adminView['classList']['remove']('hidden'),projectDashboardView[_0x38fae9(0x734)][_0x38fae9(0x5cf)]('hidden');break;case _0x38fae9(0x560):adminView['classList'][_0x38fae9(0x5cf)](_0x38fae9(0x4ad)),projectDetailView[_0x38fae9(0x734)]['remove']('hidden');break;case'quiz-results':adminView['classList'][_0x38fae9(0x5cf)](_0x38fae9(0x4ad)),quizResultsView['classList']['remove'](_0x38fae9(0x4ad));break;case _0x38fae9(0xdd4):studentView['classList'][_0x38fae9(0x5cf)]('hidden'),studentInitialView[_0x38fae9(0x734)][_0x38fae9(0x5cf)]('hidden');break;case _0x38fae9(0x8ad):liveGameView[_0x38fae9(0x734)][_0x38fae9(0x5cf)]('hidden');break;case _0x38fae9(0x36b):studentView[_0x38fae9(0x734)][_0x38fae9(0x5cf)](_0x38fae9(0x4ad));if(_0x5ea8d7)_0x5ea8d7[_0x38fae9(0x734)][_0x38fae9(0x5cf)]('hidden');break;case _0x38fae9(0xb27):studentView[_0x38fae9(0x734)]['remove'](_0x38fae9(0x4ad));if(_0x1bbc04)_0x1bbc04[_0x38fae9(0x734)]['remove'](_0x38fae9(0x4ad));break;default:studentView[_0x38fae9(0x734)][_0x38fae9(0x5cf)](_0x38fae9(0x4ad)),studentInitialView[_0x38fae9(0x734)][_0x38fae9(0x5cf)](_0x38fae9(0x4ad));break;}}function showJoinGameView(){const _0x2a64ed=_0x13d91b;studentInitialView[_0x2a64ed(0x734)]['add'](_0x2a64ed(0x4ad)),studentJoinGameView[_0x2a64ed(0x734)]['remove'](_0x2a64ed(0x4ad));}async function handleSaveVisibilitySettings(){const _0x23e15f=_0x13d91b;if(!currentProjectId)return;const _0x18df19=doc(db,_0x23e15f(0x54a)+appId+_0x23e15f(0x90e),currentProjectId);try{await updateDoc(_0x18df19,{'settings.showInStudentDashboard':document[_0x23e15f(0x916)](_0x23e15f(0xbd7))[_0x23e15f(0x7bc)],'settings.isPasscodeEnabled':document[_0x23e15f(0x916)](_0x23e15f(0x585))[_0x23e15f(0x7bc)],'settings.passcode':document['getElementById'](_0x23e15f(0xab6))['value']['trim']()}),showMessage(_0x23e15f(0x818));}catch(_0x43516a){console[_0x23e15f(0x689)]('Error\x20saving\x20visibility\x20settings:',_0x43516a),showMessage(_0x23e15f(0xfd));}}function setupEventListeners(){const _0x49779f=_0x13d91b,_0x44a1e7=document[_0x49779f(0x916)](_0x49779f(0xa84));_0x44a1e7&&_0x44a1e7[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x3fe9bc=_0x49779f,_0x4b5ac0=document[_0x3fe9bc(0x916)](_0x3fe9bc(0x315)),_0x16d773=document[_0x3fe9bc(0x916)](_0x3fe9bc(0x86e));_0x4b5ac0&&(_0x4b5ac0[_0x3fe9bc(0x93c)]=_0x4b5ac0[_0x3fe9bc(0x88a)],_0x16d773&&(_0x16d773[_0x3fe9bc(0xd9d)]=_0x4b5ac0[_0x3fe9bc(0x93c)],_0x16d773[_0x3fe9bc(0x734)]['remove']('scale-125'),void _0x16d773[_0x3fe9bc(0xc9f)],_0x16d773['classList'][_0x3fe9bc(0x459)](_0x3fe9bc(0xdb3),_0x3fe9bc(0xbd9),_0x3fe9bc(0x6c3),'text-red-600'),setTimeout(()=>_0x16d773[_0x3fe9bc(0x734)][_0x3fe9bc(0x5cf)](_0x3fe9bc(0x6c3),_0x3fe9bc(0xa10)),0xc8)));});document[_0x49779f(0x916)](_0x49779f(0x31e))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x486ec6=_0x49779f;document[_0x486ec6(0x916)](_0x486ec6(0x1ef))['classList'][_0x486ec6(0x459)](_0x486ec6(0x4ad));}),document[_0x49779f(0x916)](_0x49779f(0x6db))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x32a79f=_0x49779f,_0x1bf724=document[_0x32a79f(0x916)](_0x32a79f(0x1ef)),_0x5907cd=document[_0x32a79f(0x916)](_0x32a79f(0x91b)),_0x24dd68=document['getElementById']('wager-slider')[_0x32a79f(0x93c)],_0x3af13d=_0x5907cd[_0x32a79f(0xcba)][_0x32a79f(0x802)],_0xfbb130=JSON[_0x32a79f(0x97f)](_0x5907cd[_0x32a79f(0xcba)]['question']),_0x4f2aca=JSON['parse'](_0x5907cd[_0x32a79f(0xcba)][_0x32a79f(0x4c6)]),_0x46ccae=_0x5907cd[_0x32a79f(0xcba)]['playerName'];_0x1bf724['classList'][_0x32a79f(0x459)](_0x32a79f(0x4ad)),handleSyncAnswerSubmit(_0x3af13d,_0xfbb130,_0x4f2aca,_0x46ccae,![],_0x24dd68);}),document[_0x49779f(0x77f)]('input[name=\x22syncVariant\x22]')[_0x49779f(0x5c9)](_0x5c5619=>{const _0x3ffd82=_0x49779f;_0x5c5619['addEventListener'](_0x3ffd82(0xbe9),_0x361c12=>{const _0x16aa85=_0x3ffd82,_0x6e4aca=document[_0x16aa85(0x916)](_0x16aa85(0xcfa));_0x361c12['target'][_0x16aa85(0x93c)]==='anonymous'?_0x6e4aca['classList'][_0x16aa85(0x5cf)](_0x16aa85(0x4ad)):_0x6e4aca[_0x16aa85(0x734)][_0x16aa85(0x459)]('hidden');});}),document[_0x49779f(0x916)](_0x49779f(0x3c7))[_0x49779f(0xc2d)](_0x49779f(0xbe9),_0x63ea36=>{const _0x2fd6c7=_0x49779f;document[_0x2fd6c7(0x916)]('sync-timer-duration-container')['classList']['toggle'](_0x2fd6c7(0x4ad),!_0x63ea36['target'][_0x2fd6c7(0x7bc)]);});const _0x2a641c=document[_0x49779f(0x916)]('cancel-confidence-btn'),_0x30a46e=document['getElementById'](_0x49779f(0x6e4));_0x2a641c&&_0x30a46e&&_0x2a641c[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x5c1998=_0x49779f;_0x30a46e[_0x5c1998(0x734)][_0x5c1998(0x459)](_0x5c1998(0x4ad)),_0x30a46e[_0x5c1998(0xcba)][_0x5c1998(0x59e)]='';});const _0xd8c518=document[_0x49779f(0x916)](_0x49779f(0x5aa));_0xd8c518&&(_0xd8c518['addEventListener']('mousedown',wakeUpScreen),_0xd8c518[_0x49779f(0xc2d)](_0x49779f(0x3b3),wakeUpScreen));document[_0x49779f(0x916)](_0x49779f(0x922))[_0x49779f(0xc2d)]('click',async()=>{const _0x57d62c=_0x49779f;if(!currentBlueprintProjectId)return;const _0x3810c3=document[_0x57d62c(0x916)]('bp-reference-file-url')[_0x57d62c(0x93c)][_0x57d62c(0x1a0)](),_0x4502cb=doc(db,_0x57d62c(0x54a)+appId+_0x57d62c(0x6cd),currentBlueprintProjectId);try{await updateDoc(_0x4502cb,{'referenceFileUrl':_0x3810c3}),showMessage(_0x57d62c(0x2c0));}catch(_0x47695f){console[_0x57d62c(0x689)](_0x57d62c(0x597),_0x47695f),showMessage(_0x57d62c(0xfd));}}),document[_0x49779f(0x916)](_0x49779f(0x32d))[_0x49779f(0xc2d)](_0x49779f(0xab7),handleAddParallelShortcutTab),document[_0x49779f(0x916)](_0x49779f(0x88b))[_0x49779f(0xc2d)](_0x49779f(0xab7),_0x7c035a=>{const _0x4351d6=_0x49779f;_0x7c035a[_0x4351d6(0x3fe)][_0x4351d6(0x7c4)](_0x4351d6(0xb26))&&(activeParallelShortcutTabId=_0x4351d6(0x1e8),renderAdditionalParallelShortcutsModal(),document[_0x4351d6(0x916)](_0x4351d6(0xccb))[_0x4351d6(0x734)][_0x4351d6(0x5cf)]('hidden'));}),document[_0x49779f(0x916)]('close-additional-parallel-shortcuts-btn')[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x1f5382=_0x49779f;document[_0x1f5382(0x916)](_0x1f5382(0xccb))[_0x1f5382(0x734)][_0x1f5382(0x459)]('hidden');}),document[_0x49779f(0xc2d)](_0x49779f(0xab7),_0x16c507=>{const _0x33d300=_0x49779f;!_0x16c507['target'][_0x33d300(0x7c4)]('.group\x5c/dropdown-parallel')&&document['querySelectorAll'](_0x33d300(0xb3c))[_0x33d300(0x5c9)](_0x5ee3af=>_0x5ee3af[_0x33d300(0x734)]['add'](_0x33d300(0x4ad)));}),document[_0x49779f(0x916)](_0x49779f(0xd24))['addEventListener'](_0x49779f(0xab7),handleAddFileShortcutTab),document['getElementById']('file-input-area')[_0x49779f(0xc2d)](_0x49779f(0xab7),_0x724ccf=>{const _0x305b5d=_0x49779f;_0x724ccf['target'][_0x305b5d(0x7c4)](_0x305b5d(0x3c6))&&(activeFileShortcutTabId=_0x305b5d(0x1e8),renderAdditionalFileShortcutsModal(),document['getElementById'](_0x305b5d(0x47c))[_0x305b5d(0x734)][_0x305b5d(0x5cf)](_0x305b5d(0x4ad)));}),document['getElementById'](_0x49779f(0x236))[_0x49779f(0xc2d)]('click',()=>{const _0x23f3bc=_0x49779f;document[_0x23f3bc(0x916)]('additional-file-shortcuts-modal')['classList'][_0x23f3bc(0x459)]('hidden');}),document['addEventListener'](_0x49779f(0xab7),_0x15cd0d=>{const _0x249044=_0x49779f;!_0x15cd0d[_0x249044(0x3fe)][_0x249044(0x7c4)](_0x249044(0xbee))&&document[_0x249044(0x77f)](_0x249044(0x378))[_0x249044(0x5c9)](_0x365043=>_0x365043[_0x249044(0x734)][_0x249044(0x459)](_0x249044(0x4ad)));}),document['getElementById'](_0x49779f(0xe06))[_0x49779f(0xc2d)]('click',handleAddShortcutTab),document[_0x49779f(0x916)](_0x49779f(0x9b9))[_0x49779f(0xc2d)]('click',_0x274b18=>{const _0x5a3208=_0x49779f,_0x317570=_0x274b18[_0x5a3208(0x3fe)]['closest']('.parallel-shortcut-btn'),_0x56c285=_0x274b18['target'][_0x5a3208(0x7c4)](_0x5a3208(0x180)),_0x5f5082=_0x274b18[_0x5a3208(0x3fe)][_0x5a3208(0x7c4)]('.delete-parallel-shortcut-btn');if(_0x56c285)openParallelTestShortcutEditor(_0x56c285['dataset']['id']);else{if(_0x5f5082){const _0xf9c0b7=_0x5f5082[_0x5a3208(0xcba)]['id'];showConfirmation(_0x5a3208(0x376),async()=>{const _0x2e52c2=_0x5a3208,_0x5551b7=parallelTestShortcuts['filter'](_0x5a66d1=>_0x5a66d1['id']!==_0xf9c0b7),_0x45e54a=doc(db,_0x2e52c2(0xc75),_0x2e52c2(0x35f));await setDoc(_0x45e54a,{'shortcuts':_0x5551b7},{'merge':!![]});});}else _0x317570&&handleParallelTestShortcutClick(_0x317570[_0x5a3208(0xcba)]['id']);}}),document[_0x49779f(0x916)](_0x49779f(0x254))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>openParallelTestShortcutEditor(null)),document[_0x49779f(0x916)](_0x49779f(0x193))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x208402=_0x49779f;document[_0x208402(0x916)](_0x208402(0xdcc))[_0x208402(0x734)]['add'](_0x208402(0x4ad));}),document[_0x49779f(0x916)]('save-parallel-shortcut-btn')[_0x49779f(0xc2d)]('click',saveParallelTestShortcutChanges),document[_0x49779f(0x916)](_0x49779f(0x88b))['addEventListener'](_0x49779f(0xab7),_0x34890f=>{const _0x17f40e=_0x49779f;_0x34890f[_0x17f40e(0x3fe)][_0x17f40e(0x7c4)](_0x17f40e(0xb26))&&document[_0x17f40e(0x916)](_0x17f40e(0xccb))[_0x17f40e(0x734)][_0x17f40e(0x5cf)](_0x17f40e(0x4ad));}),document[_0x49779f(0x916)]('close-additional-parallel-shortcuts-btn')[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x143111=_0x49779f;document[_0x143111(0x916)](_0x143111(0xccb))['classList'][_0x143111(0x459)](_0x143111(0x4ad));}),document['getElementById'](_0x49779f(0xa71))[_0x49779f(0xc2d)](_0x49779f(0xab7),_0x55ae0d=>{const _0x15e25c=_0x49779f,_0x4c021e=document[_0x15e25c(0x916)]('additional-parallel-shortcuts-modal'),_0x4b462a=_0x55ae0d['target'][_0x15e25c(0x7c4)](_0x15e25c(0xd46)),_0x5f3701=_0x55ae0d[_0x15e25c(0x3fe)][_0x15e25c(0x7c4)](_0x15e25c(0x5fb)),_0x67ded5=_0x55ae0d['target'][_0x15e25c(0x7c4)](_0x15e25c(0xa2e));if(_0x4b462a)_0x4c021e['classList'][_0x15e25c(0x459)]('hidden'),handleParallelTestShortcutClick(_0x4b462a[_0x15e25c(0xcba)]['id']);else{if(_0x5f3701)_0x4c021e[_0x15e25c(0x734)][_0x15e25c(0x459)](_0x15e25c(0x4ad)),openParallelTestShortcutEditor(_0x5f3701['dataset']['id']);else{if(_0x67ded5){const _0x3a8ea4=_0x67ded5[_0x15e25c(0xcba)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0xb05fe7=_0x15e25c,_0x2d42a7=parallelTestShortcuts[_0xb05fe7(0xc52)](_0x3d81e6=>_0x3d81e6['id']!==_0x3a8ea4),_0x28a197=doc(db,'globalSettings',_0xb05fe7(0x35f));await setDoc(_0x28a197,{'shortcuts':_0x2d42a7},{'merge':!![]});});}}}}),document[_0x49779f(0x916)](_0x49779f(0x1b2))[_0x49779f(0xc2d)]('click',_0x29ed8d=>{const _0x3a5a75=_0x49779f,_0x3bd8da=_0x29ed8d[_0x3a5a75(0x3fe)][_0x3a5a75(0x7c4)]('.file-shortcut-btn'),_0x21948e=_0x29ed8d[_0x3a5a75(0x3fe)]['closest'](_0x3a5a75(0xc01)),_0x20ffaf=_0x29ed8d['target'][_0x3a5a75(0x7c4)]('.delete-file-shortcut-btn');if(_0x21948e)openFileShortcutEditor(_0x21948e[_0x3a5a75(0xcba)]['id']);else{if(_0x20ffaf){const _0x31d69a=_0x20ffaf[_0x3a5a75(0xcba)]['id'];showConfirmation(_0x3a5a75(0x376),async()=>{const _0x4b0721=_0x3a5a75,_0x332e1c=fileShortcuts[_0x4b0721(0xc52)](_0x4b7d48=>_0x4b7d48['id']!==_0x31d69a),_0x4b137a=doc(db,'globalSettings',_0x4b0721(0x174));await setDoc(_0x4b137a,{'shortcuts':_0x332e1c},{'merge':!![]});});}else _0x3bd8da&&handleFileShortcutClick(_0x3bd8da['dataset']['id']);}}),document[_0x49779f(0x916)]('add-file-shortcut-btn')['addEventListener'](_0x49779f(0xab7),()=>openFileShortcutEditor(null)),document[_0x49779f(0x916)](_0x49779f(0x9b3))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x4e3c83=_0x49779f;document['getElementById'](_0x4e3c83(0xaa4))['classList'][_0x4e3c83(0x459)]('hidden');}),document[_0x49779f(0x916)]('save-file-shortcut-btn')[_0x49779f(0xc2d)](_0x49779f(0xab7),saveFileShortcutChanges),document[_0x49779f(0x916)](_0x49779f(0x41d))['addEventListener'](_0x49779f(0xab7),_0x2c5131=>{const _0xcbc594=_0x49779f;_0x2c5131[_0xcbc594(0x3fe)][_0xcbc594(0x7c4)](_0xcbc594(0x3c6))&&document[_0xcbc594(0x916)](_0xcbc594(0x47c))[_0xcbc594(0x734)][_0xcbc594(0x5cf)](_0xcbc594(0x4ad));}),document[_0x49779f(0x916)](_0x49779f(0x236))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x17d2fa=_0x49779f;document[_0x17d2fa(0x916)](_0x17d2fa(0x47c))['classList'][_0x17d2fa(0x459)]('hidden');}),document[_0x49779f(0x916)]('additional-file-shortcuts-list')[_0x49779f(0xc2d)](_0x49779f(0xab7),_0x4db85d=>{const _0x158106=_0x49779f,_0x5f47cf=document['getElementById'](_0x158106(0x47c)),_0x2e5a00=_0x4db85d['target']['closest'](_0x158106(0xe0e)),_0x412111=_0x4db85d[_0x158106(0x3fe)]['closest'](_0x158106(0x779)),_0x2b28dc=_0x4db85d[_0x158106(0x3fe)]['closest'](_0x158106(0xa16));if(_0x2e5a00)_0x5f47cf[_0x158106(0x734)][_0x158106(0x459)]('hidden'),handleFileShortcutClick(_0x2e5a00[_0x158106(0xcba)]['id']);else{if(_0x412111)_0x5f47cf[_0x158106(0x734)]['add'](_0x158106(0x4ad)),openFileShortcutEditor(_0x412111[_0x158106(0xcba)]['id']);else{if(_0x2b28dc){const _0x38fb0e=_0x2b28dc[_0x158106(0xcba)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x237531=_0x158106,_0x17ea0e=fileShortcuts['filter'](_0x5696e5=>_0x5696e5['id']!==_0x38fb0e),_0x18c6d2=doc(db,_0x237531(0xc75),_0x237531(0x174));await setDoc(_0x18c6d2,{'shortcuts':_0x17ea0e},{'merge':!![]});});}}}}),document['getElementById'](_0x49779f(0x2e9))[_0x49779f(0xc2d)](_0x49779f(0xab7),_0x103958=>{const _0x324eb5=_0x49779f;_0x103958['target'][_0x324eb5(0x7c4)](_0x324eb5(0x9ee))&&(activeShortcutTabId=_0x324eb5(0x1e8),renderAdditionalShortcutsModal(),document[_0x324eb5(0x916)](_0x324eb5(0x1af))['classList'][_0x324eb5(0x5cf)](_0x324eb5(0x4ad)));}),document[_0x49779f(0x916)](_0x49779f(0x7f1))[_0x49779f(0xc2d)]('click',()=>{const _0x2ee5ff=_0x49779f;document[_0x2ee5ff(0x916)]('additional-shortcuts-modal')[_0x2ee5ff(0x734)][_0x2ee5ff(0x459)](_0x2ee5ff(0x4ad));}),document['getElementById']('additional-shortcuts-list')[_0x49779f(0xc2d)]('click',_0x2994a2=>{const _0x26a7c0=_0x49779f,_0x5b3aa3=_0x2994a2[_0x26a7c0(0x3fe)][_0x26a7c0(0x7c4)]('.use-hidden-shortcut-btn'),_0x590715=_0x2994a2[_0x26a7c0(0x3fe)][_0x26a7c0(0x7c4)]('.edit-hidden-shortcut-btn'),_0x270a2e=_0x2994a2[_0x26a7c0(0x3fe)][_0x26a7c0(0x7c4)](_0x26a7c0(0xd9c)),_0x157dc4=document[_0x26a7c0(0x916)](_0x26a7c0(0x1af));if(_0x5b3aa3)_0x157dc4['classList'][_0x26a7c0(0x459)]('hidden'),handleShortcutClick(_0x5b3aa3[_0x26a7c0(0xcba)]['id']);else{if(_0x590715)_0x157dc4[_0x26a7c0(0x734)][_0x26a7c0(0x459)](_0x26a7c0(0x4ad)),openShortcutEditor(_0x590715['dataset']['id']);else{if(_0x270a2e){const _0x5d10fb=_0x270a2e[_0x26a7c0(0xcba)]['id'],_0x378484=blueprintShortcuts['find'](_0x538c10=>_0x538c10['id']===_0x5d10fb)?.[_0x26a7c0(0x34b)];showConfirmation(_0x26a7c0(0xcef)+_0x378484+'\x22?',async()=>{const _0x7bad4=_0x26a7c0,_0x414afe=blueprintShortcuts[_0x7bad4(0xc52)](_0x401805=>_0x401805['id']!==_0x5d10fb);try{const _0x12ec26=doc(db,_0x7bad4(0xc75),_0x7bad4(0x7fc));await setDoc(_0x12ec26,{'blueprintShortcuts':_0x414afe},{'merge':!![]});}catch(_0x180e3f){console['error'](_0x7bad4(0x48e),_0x180e3f);}});}}}}),document[_0x49779f(0x916)](_0x49779f(0x289))[_0x49779f(0xc2d)](_0x49779f(0xab7),_0x147edc=>{const _0x9f18c9=_0x49779f,_0x12bce9=_0x147edc[_0x9f18c9(0x3fe)][_0x9f18c9(0x7c4)](_0x9f18c9(0x382)),_0x2c5783=_0x147edc['target'][_0x9f18c9(0x7c4)](_0x9f18c9(0xa67)),_0xd0d254=_0x147edc['target']['closest']('.delete-shortcut-btn');if(_0x2c5783)openShortcutEditor(_0x2c5783['dataset']['id']);else{if(_0xd0d254){const _0x9eaf35=_0xd0d254[_0x9f18c9(0xcba)]['id'],_0x13f0ed=blueprintShortcuts[_0x9f18c9(0xa3d)](_0x29b5bd=>_0x29b5bd['id']===_0x9eaf35)?.[_0x9f18c9(0x34b)];showConfirmation(_0x9f18c9(0xcef)+_0x13f0ed+'\x22?',async()=>{const _0x780718=_0x9f18c9,_0x18e247=blueprintShortcuts[_0x780718(0xc52)](_0x190ae9=>_0x190ae9['id']!==_0x9eaf35);try{const _0x112594=doc(db,_0x780718(0xc75),_0x780718(0x7fc));await setDoc(_0x112594,{'blueprintShortcuts':_0x18e247},{'merge':!![]});}catch(_0x56369f){console[_0x780718(0x689)](_0x780718(0x48e),_0x56369f);}});}else _0x12bce9&&handleShortcutClick(_0x12bce9[_0x9f18c9(0xcba)]['id']);}}),document[_0x49779f(0x916)](_0x49779f(0x8b3))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>openShortcutEditor(null)),document['getElementById']('cancel-shortcut-edit-btn')[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x2012f6=_0x49779f;document[_0x2012f6(0x916)](_0x2012f6(0x510))[_0x2012f6(0x734)]['add'](_0x2012f6(0x4ad));}),document[_0x49779f(0x916)](_0x49779f(0xd75))[_0x49779f(0xc2d)](_0x49779f(0xab7),saveShortcutChanges),document['getElementById'](_0x49779f(0xb50))[_0x49779f(0xc2d)](_0x49779f(0xab7),async()=>{const _0x920b41=_0x49779f,_0x3cd3a2=document[_0x920b41(0x916)]('blueprint-upload-input'),_0x13ce91=document[_0x920b41(0x916)](_0x920b41(0x66b));_0x3cd3a2[_0x920b41(0xda0)]['length']>0x0?await handleGenerateFromBlueprintWithFiles(_0x3cd3a2[_0x920b41(0xda0)][0x0],_0x13ce91[_0x920b41(0xda0)][0x0]||null):showMessage(_0x920b41(0x6be));}),document[_0x49779f(0x916)](_0x49779f(0xc6c))['addEventListener']('click',async _0x2f9b28=>{const _0x1f3ec1=_0x49779f,_0x493b37=document[_0x1f3ec1(0x916)](_0x1f3ec1(0xc6c)),_0x2c6738=_0x2f9b28[_0x1f3ec1(0x3fe)][_0x1f3ec1(0x7c4)](_0x1f3ec1(0x8ed)),_0x5aa072=_0x2f9b28['target'][_0x1f3ec1(0x7c4)](_0x1f3ec1(0xe16)),_0x7c41bf=_0x2f9b28[_0x1f3ec1(0x3fe)][_0x1f3ec1(0x7c4)](_0x1f3ec1(0x3b1)),_0x6a67c5=_0x2f9b28['target'][_0x1f3ec1(0x7c4)]('.bp-try-btn'),_0x4d43cb=_0x2f9b28[_0x1f3ec1(0x3fe)][_0x1f3ec1(0x7c4)]('.bp-live-btn'),_0x23569f=_0x2f9b28[_0x1f3ec1(0x3fe)]['closest'](_0x1f3ec1(0x6a4));if(_0x2c6738){cameFromBlueprint=!![];const _0x48264b=_0x2c6738[_0x1f3ec1(0xcba)]['quizId'];showQuizDetailView(_0x48264b),_0x493b37['classList'][_0x1f3ec1(0x459)]('hidden');}else{if(_0x5aa072){const _0x4076e0=_0x5aa072[_0x1f3ec1(0xcba)][_0x1f3ec1(0x434)],_0x3fb5c9=_0x5aa072['dataset'][_0x1f3ec1(0xbc0)],_0x5a3b5a=allQuizzesGlobal[_0x1f3ec1(0xa3d)](_0x22cb08=>_0x22cb08['id']===_0x3fb5c9),_0x1fda61=_0x5a3b5a?_0x5a3b5a[_0x1f3ec1(0xdf4)]:'รายการนี้';showConfirmation(_0x1f3ec1(0x5cd)+_0x1fda61+'\x22\x20ออกจากคลังนี้?',async()=>{const _0x72cce3=_0x1f3ec1;try{const _0x531e8e=doc(db,_0x72cce3(0x54a)+appId+_0x72cce3(0x6cd),currentBlueprintProjectId);await updateDoc(_0x531e8e,{[_0x72cce3(0x179)+_0x4076e0+_0x72cce3(0x73d)]:arrayRemove(_0x3fb5c9)}),showMessage(_0x72cce3(0xc65)),openTopicQuizBank(_0x4076e0),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x14963e){console[_0x72cce3(0x689)](_0x72cce3(0x406),_0x14963e),showMessage(_0x72cce3(0x95f));}});}else{if(_0x7c41bf){cameFromBlueprint=!![];const _0x1d90fe=_0x7c41bf[_0x1f3ec1(0xcba)][_0x1f3ec1(0xbc0)],_0x4f5778=allQuizzesGlobal[_0x1f3ec1(0xa3d)](_0x3db94f=>_0x3db94f['id']===_0x1d90fe);_0x4f5778&&(startPresentation(_0x4f5778),_0x493b37[_0x1f3ec1(0x734)][_0x1f3ec1(0x459)](_0x1f3ec1(0x4ad)));}else{if(_0x6a67c5){cameFromBlueprint=!![];const _0x528492=_0x6a67c5[_0x1f3ec1(0xcba)][_0x1f3ec1(0xbc0)],_0xe2473d=allQuizzesGlobal[_0x1f3ec1(0xa3d)](_0x3b25e1=>_0x3b25e1['id']===_0x528492);_0xe2473d&&(currentQuizData=_0xe2473d,startAdminTest(),_0x493b37[_0x1f3ec1(0x734)][_0x1f3ec1(0x459)](_0x1f3ec1(0x4ad)));}else{if(_0x4d43cb)cameFromBlueprint=!![],handleStartLiveRace(_0x4d43cb[_0x1f3ec1(0xcba)][_0x1f3ec1(0xbc0)]),_0x493b37['classList'][_0x1f3ec1(0x459)](_0x1f3ec1(0x4ad));else{if(_0x23569f){cameFromBlueprint=!![];const _0x470b90=_0x23569f['dataset'][_0x1f3ec1(0xbc0)],_0x54e013=_0x23569f['dataset'][_0x1f3ec1(0x223)],_0x4b5893=allQuizzesGlobal[_0x1f3ec1(0xa3d)](_0x5a1d87=>_0x5a1d87['id']===_0x470b90);_0x4b5893&&(showGameStartConfirmationModal(_0x470b90,_0x54e013,_0x4b5893['topic']),_0x493b37[_0x1f3ec1(0x734)][_0x1f3ec1(0x459)]('hidden'));}}}}}}}),document[_0x49779f(0x916)](_0x49779f(0xde0))[_0x49779f(0xc2d)]('click',()=>{const _0x32c981=_0x49779f;document[_0x32c981(0x916)](_0x32c981(0x425))[_0x32c981(0x734)]['remove']('hidden'),document[_0x32c981(0x916)](_0x32c981(0x2a6))[_0x32c981(0x93c)]='',document[_0x32c981(0x916)](_0x32c981(0x7b6))['value']='',document[_0x32c981(0x916)](_0x32c981(0x9ba))['value']='';}),document[_0x49779f(0x916)](_0x49779f(0x3d5))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x78e8d3=_0x49779f;document[_0x78e8d3(0x916)](_0x78e8d3(0x425))[_0x78e8d3(0x734)]['add'](_0x78e8d3(0x4ad));}),document['getElementById'](_0x49779f(0x73e))['addEventListener'](_0x49779f(0xab7),handleManualBlueprintSave),document['getElementById'](_0x49779f(0x224))['addEventListener'](_0x49779f(0xab7),()=>document[_0x49779f(0x916)](_0x49779f(0x98d))[_0x49779f(0x734)][_0x49779f(0x459)](_0x49779f(0x4ad))),document[_0x49779f(0x916)]('save-bp-settings-btn')['addEventListener'](_0x49779f(0xab7),handleSaveBlueprintPageSettings),document[_0x49779f(0x916)]('bp-quiz-settings-btn')[_0x49779f(0xc2d)](_0x49779f(0xab7),openBlueprintQuizSettings),document['getElementById'](_0x49779f(0xc29))[_0x49779f(0xc2d)](_0x49779f(0xab7),saveBlueprintProject),document[_0x49779f(0x916)]('open-blueprint-projects-btn')[_0x49779f(0xc2d)](_0x49779f(0xab7),showBlueprintProjects),document[_0x49779f(0x916)](_0x49779f(0x266))['addEventListener']('click',()=>{const _0x4a82d0=_0x49779f;document['getElementById']('blueprint-projects-modal')[_0x4a82d0(0x734)][_0x4a82d0(0x459)](_0x4a82d0(0x4ad));}),document[_0x49779f(0x916)](_0x49779f(0x2cb))['addEventListener']('click',_0x51ec82=>{const _0x4c6dbe=_0x49779f,_0x50e03a=_0x51ec82['target'][_0x4c6dbe(0x7c4)](_0x4c6dbe(0x564)),_0x1b0001=_0x51ec82[_0x4c6dbe(0x3fe)]['closest'](_0x4c6dbe(0xda7));if(_0x50e03a)displayBlueprintProjectManager(_0x50e03a[_0x4c6dbe(0xcba)]['id']);else _0x1b0001&&handleDeepDeleteBlueprintProject(_0x1b0001[_0x4c6dbe(0xcba)]['id']);}),document[_0x49779f(0x916)](_0x49779f(0x5f9))['addEventListener'](_0x49779f(0xab7),()=>{const _0x3e2777=_0x49779f;currentBlueprintProjectId=null,currentProjectId=null,document[_0x3e2777(0x916)](_0x3e2777(0x9f4))[_0x3e2777(0x734)]['add'](_0x3e2777(0x4ad)),showView('admin-dashboard');}),document[_0x49779f(0x916)](_0x49779f(0xc05))['addEventListener'](_0x49779f(0xab7),addTopicToProject),document[_0x49779f(0x916)](_0x49779f(0x7e2))[_0x49779f(0xc2d)](_0x49779f(0xab7),async _0x412be1=>{const _0x168856=_0x49779f,_0x16e8e6=_0x412be1[_0x168856(0x3fe)][_0x168856(0x7c4)](_0x168856(0x226));if(!_0x16e8e6)return;const _0x369e7a=_0x16e8e6[_0x168856(0xcba)][_0x168856(0x434)],_0x16435d=_0x412be1[_0x168856(0x3fe)][_0x168856(0x7c4)](_0x168856(0xb4b)),_0x5adb79=_0x412be1[_0x168856(0x3fe)][_0x168856(0x7c4)](_0x168856(0xb30)),_0x55e160=_0x412be1[_0x168856(0x3fe)][_0x168856(0x7c4)]('.bp-create-topic-quiz-btn'),_0x3aded8=_0x412be1[_0x168856(0x3fe)][_0x168856(0x7c4)](_0x168856(0x30d)),_0x11dbc1=_0x412be1[_0x168856(0x3fe)][_0x168856(0x7c4)](_0x168856(0x71d)),_0x2bce22=_0x412be1['target'][_0x168856(0x7c4)](_0x168856(0xcc3)),_0x5d5f95=_0x412be1[_0x168856(0x3fe)][_0x168856(0x7c4)](_0x168856(0xb2c)),_0x1443ae=_0x412be1[_0x168856(0x3fe)][_0x168856(0x7c4)](_0x168856(0x1f4)),_0x55d8d3=_0x307b28=>{const _0x377e86=_0x168856,_0x27bee=_0x307b28[_0x377e86(0x7f4)](_0x377e86(0x584))[_0x377e86(0xd9d)]['trim'](),_0x54b8f4=_0x307b28[_0x377e86(0x7c4)](_0x377e86(0x5e0))[_0x377e86(0xb91)],_0x214193=_0x54b8f4?_0x54b8f4['textContent']['trim']():'';return _0x214193+':\x20'+_0x27bee;};if(_0x3aded8)openTopicQuizBank(_0x369e7a);else{if(_0x16435d){const _0x4589f4=_0x55d8d3(_0x16e8e6);selectProjectAndGenerateBlueprintQuiz(_0x4589f4,null,_0x369e7a,!![]);}else{if(_0x5adb79){const _0x4990a0=_0x55d8d3(_0x16e8e6);try{const _0x4c89df=doc(db,_0x168856(0x54a)+appId+_0x168856(0xcfb)+currentBlueprintProjectId+_0x168856(0x310),_0x369e7a),_0x275b9d=await getDoc(_0x4c89df);if(_0x275b9d['exists']()){const _0x288f20=_0x275b9d[_0x168856(0xaf3)]()[_0x168856(0x392)],_0x4857e8=document['createElement'](_0x168856(0xa12)),_0x3e009b=_0x3a8f98=>{const _0x33a036=_0x168856;if(!_0x3a8f98)return'';return _0x4857e8[_0x33a036(0xbc4)]=_0x3a8f98,_0x4857e8[_0x33a036(0xd9d)]||_0x4857e8[_0x33a036(0x871)]||'';},_0x5681fa=(_0x3e009b(_0x288f20['point'])+'\x20'+_0x3e009b(_0x288f20[_0x168856(0x3cf)])+'\x20'+_0x3e009b(_0x288f20[_0x168856(0x5f7)]))[_0x168856(0x1a0)]();selectProjectAndGenerateBlueprintQuiz(_0x4990a0,_0x5681fa,_0x369e7a,![]);}else showMessage(_0x168856(0x54b));}catch(_0x4d888b){console[_0x168856(0x689)]('Error\x20preparing\x20content\x20quiz:',_0x4d888b),showMessage('เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ');}}else{if(_0x55e160){const _0x39af1a=_0x55d8d3(_0x16e8e6);selectProjectAndGenerateBlueprintQuiz(_0x39af1a,null,_0x369e7a,![]);}else{if(_0x11dbc1){const _0x161155=doc(db,_0x168856(0x54a)+appId+_0x168856(0x6cd),currentBlueprintProjectId),_0x1ec856=await getDoc(_0x161155);if(_0x1ec856[_0x168856(0x5fd)]()){const _0x29563f=_0x1ec856[_0x168856(0xaf3)](),_0x3632e9=_0x29563f[_0x168856(0x196)][_0x369e7a];if(_0x3632e9&&_0x3632e9[_0x168856(0x127)]===_0x168856(0x4e6))try{const _0x28d2c1=doc(db,_0x168856(0x54a)+appId+_0x168856(0xcfb)+currentBlueprintProjectId+_0x168856(0x310),_0x369e7a),_0x29c7bd=await getDoc(_0x28d2c1);if(_0x29c7bd['exists']()){const _0x4eeedc=_0x29c7bd[_0x168856(0xaf3)]()[_0x168856(0x392)];document[_0x168856(0x916)](_0x168856(0xb9c))['textContent']='บทเรียนเรื่อง:\x20'+_0x55d8d3(_0x16e8e6),document['getElementById'](_0x168856(0x393))[_0x168856(0xbc4)]=_0x4eeedc[_0x168856(0x36c)],document[_0x168856(0x916)](_0x168856(0xb19))[_0x168856(0xbc4)]=_0x4eeedc['memory'],document[_0x168856(0x916)](_0x168856(0x896))[_0x168856(0xbc4)]=_0x4eeedc[_0x168856(0x5f7)];const _0x47f845=document[_0x168856(0x916)]('applicationContent');_0x4eeedc[_0x168856(0x2bc)]?(currentApplicationData=_0x4eeedc[_0x168856(0x2bc)],_0x47f845[_0x168856(0xbc4)]=currentApplicationData[_0x168856(0x1b0)]((_0x2293b2,_0x20f2fe)=>'<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>'+(_0x20f2fe+0x1)+'.\x20'+marked[_0x168856(0xba3)](_0x2293b2[_0x168856(0x512)])+_0x168856(0x931)+_0x20f2fe+'-options\x22>'+_0x2293b2[_0x168856(0x238)][_0x168856(0x1b0)]((_0x40b580,_0x3d566f)=>'<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x20f2fe+',\x20'+_0x3d566f+_0x168856(0x6a7)+String[_0x168856(0xd18)](0x61+_0x3d566f)+'.\x20'+marked['parseInline'](_0x40b580)+_0x168856(0x38f))[_0x168856(0x22e)]('')+_0x168856(0xc25))[_0x168856(0x22e)]('')):(currentApplicationData=[],_0x47f845[_0x168856(0xbc4)]=_0x4eeedc[_0x168856(0x4d8)]||_0x4eeedc['application']),document[_0x168856(0x916)](_0x168856(0xa56))[_0x168856(0x734)]['add'](_0x168856(0x4ad)),document['getElementById'](_0x168856(0x64d))['classList'][_0x168856(0x5cf)](_0x168856(0x4ad)),document['getElementById'](_0x168856(0x3ad))['classList'][_0x168856(0x5cf)](_0x168856(0x4ad)),window['MathJax']&&MathJax[_0x168856(0x1cd)]([document[_0x168856(0x916)](_0x168856(0x882))]);}else showMessage(_0x168856(0x1e9));}catch(_0x2349b1){console[_0x168856(0x689)]('Error\x20fetching\x20lesson\x20content:',_0x2349b1),showMessage(_0x168856(0xbde));}else showMessage(_0x168856(0xc62));}}else{if(_0x2bce22){const _0x3c437e=_0x55d8d3(_0x16e8e6),_0x5d8f3a=doc(db,_0x168856(0x54a)+appId+_0x168856(0x6cd),currentBlueprintProjectId),_0x19fdcf=await getDoc(_0x5d8f3a);if(_0x19fdcf[_0x168856(0x5fd)]()){const _0x55c4e=_0x19fdcf['data']();generateAndSaveLessonForBlueprint(_0x369e7a,_0x3c437e,_0x55c4e[_0x168856(0x544)]);}}else{if(_0x5d5f95)editTopicInProject(_0x369e7a);else _0x1443ae&&deleteTopicFromProject(_0x369e7a);}}}}}}}),document[_0x49779f(0x916)](_0x49779f(0xc6a))['addEventListener'](_0x49779f(0xab7),handleFixLessonLatex),document[_0x49779f(0x916)](_0x49779f(0x6b9))['addEventListener'](_0x49779f(0xab7),handleExportLessonToPDF),document[_0x49779f(0x916)](_0x49779f(0xb7f))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x1dea46=_0x49779f;document[_0x1dea46(0x916)](_0x1dea46(0x3ad))[_0x1dea46(0x734)][_0x1dea46(0x459)](_0x1dea46(0x4ad));});const _0x408cbe=document[_0x49779f(0x916)](_0x49779f(0xb95)),_0x52c50d=document['getElementById'](_0x49779f(0x128));_0x408cbe[_0x49779f(0xc2d)]('change',()=>{const _0x535be8=_0x49779f;_0x52c50d['classList']['toggle'](_0x535be8(0x4ad),!_0x408cbe[_0x535be8(0x7bc)]);});const _0x28aed7=document[_0x49779f(0x916)](_0x49779f(0x527)),_0x26dc33=document['getElementById'](_0x49779f(0xc38));_0x28aed7[_0x49779f(0xc2d)](_0x49779f(0xbe9),()=>{const _0x59fa28=_0x49779f;_0x26dc33['classList']['toggle']('hidden',!_0x28aed7[_0x59fa28(0x7bc)]);});const _0x150f43=document[_0x49779f(0x916)](_0x49779f(0xa20)),_0x540508=document[_0x49779f(0x916)](_0x49779f(0x9f7));_0x150f43[_0x49779f(0xc2d)](_0x49779f(0xbe9),()=>{const _0x1ecdfb=_0x49779f;_0x540508[_0x1ecdfb(0x734)][_0x1ecdfb(0x3bc)](_0x1ecdfb(0x4ad),!_0x150f43[_0x1ecdfb(0x7bc)]);});const _0x551686=document[_0x49779f(0x916)]('confidence-modal'),_0x52bc0e=async _0x3e3d4e=>{const _0x4e2469=_0x49779f,_0x518cc9=document[_0x4e2469(0x916)]('confidence-modal'),_0x20275e=_0x518cc9[_0x4e2469(0xcba)][_0x4e2469(0x59e)],_0x31d6e3=document[_0x4e2469(0x916)]('selected-answer-index-hidden');_0x518cc9[_0x4e2469(0x734)]['add'](_0x4e2469(0x4ad));if(_0x20275e===_0x4e2469(0xaae)){const _0x185d55=_0x31d6e3['value'],_0x58db6b={'answer':_0x185d55,'wasConfident':_0x3e3d4e};proceedToNextQuestion(_0x58db6b);}else{if(_0x20275e===_0x4e2469(0x344)){const _0x2ed2a1=_0x31d6e3['dataset'][_0x4e2469(0x802)],_0x307bf6=JSON[_0x4e2469(0x97f)](_0x31d6e3[_0x4e2469(0xcba)][_0x4e2469(0x512)]),_0x3ca669=JSON[_0x4e2469(0x97f)](_0x31d6e3[_0x4e2469(0xcba)][_0x4e2469(0x4c6)]),_0x1fee41=_0x31d6e3[_0x4e2469(0xcba)][_0x4e2469(0x7c7)];handleSyncAnswerSubmit(_0x2ed2a1,_0x307bf6,_0x3ca669,_0x1fee41,_0x3e3d4e);}}_0x518cc9[_0x4e2469(0xcba)]['currentMode']='';};document[_0x49779f(0x916)](_0x49779f(0xa6f))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>_0x52bc0e(!![])),document['getElementById'](_0x49779f(0x23d))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>_0x52bc0e(![])),liveGameView[_0x49779f(0xc2d)](_0x49779f(0xab7),_0x3e39d4=>{const _0x1ec09f=_0x49779f,_0x1aa1c0=_0x3e39d4['target']['closest'](_0x1ec09f(0x8ca));if(_0x1aa1c0){const _0x56bc52=_0x1aa1c0['dataset']['playerName'];_0x56bc52&&handleKickPlayerSync(_0x56bc52);}});const _0x2d5365=document[_0x49779f(0x916)](_0x49779f(0xb45)),_0x2cd8af=document[_0x49779f(0x916)]('cancel-game-start-btn');_0x2cd8af[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x3ac9b9=_0x49779f;document['getElementById'](_0x3ac9b9(0x463))[_0x3ac9b9(0x734)][_0x3ac9b9(0x459)](_0x3ac9b9(0x4ad));}),_0x2d5365[_0x49779f(0xc2d)]('click',()=>{const _0x59a65d=_0x49779f,_0x3c7b43=document[_0x59a65d(0x916)](_0x59a65d(0xe25))[_0x59a65d(0x93c)],_0x393239=document[_0x59a65d(0x916)](_0x59a65d(0x56d))[_0x59a65d(0x93c)],_0x48815a=document[_0x59a65d(0x916)](_0x59a65d(0xaab))[_0x59a65d(0x7bc)];document[_0x59a65d(0x916)](_0x59a65d(0x463))[_0x59a65d(0x734)]['add']('hidden');switch(_0x393239){case _0x59a65d(0x820):handleStartLiveRace(_0x3c7b43,_0x48815a);break;case _0x59a65d(0xdbf):handleStartTeamQuiz(_0x3c7b43,_0x48815a);break;case _0x59a65d(0x97e):handleStartGroupMode(_0x3c7b43,_0x48815a);break;case _0x59a65d(0x344):const _0x431953=document[_0x59a65d(0x7f4)]('input[name=\x22syncVariant\x22]:checked')['value']||'classic';handleStartSyncMode(_0x3c7b43,_0x48815a,_0x431953);break;}}),document[_0x49779f(0x916)](_0x49779f(0x9de))[_0x49779f(0xc2d)](_0x49779f(0xab7),handleJoinGroupActivity),liveGameView['addEventListener'](_0x49779f(0xab7),_0x532726=>{const _0x2f20ee=_0x49779f,_0x387b88=_0x532726[_0x2f20ee(0x3fe)][_0x2f20ee(0x7c4)](_0x2f20ee(0x467));document['querySelectorAll'](_0x2f20ee(0x3bf))[_0x2f20ee(0x5c9)](_0x53742e=>{const _0x27fe45=_0x2f20ee;(!_0x387b88||_0x53742e['id']!==_0x387b88[_0x27fe45(0xcba)][_0x27fe45(0xdac)])&&_0x53742e['classList'][_0x27fe45(0x5cf)](_0x27fe45(0x2bb));});if(!_0x387b88)return;const _0x45f2c8=_0x387b88[_0x2f20ee(0xcba)]['tooltipTarget'],_0x51e8a7=document[_0x2f20ee(0x916)](_0x45f2c8);_0x51e8a7&&_0x51e8a7[_0x2f20ee(0x734)][_0x2f20ee(0x3bc)](_0x2f20ee(0x2bb));}),liveGameView[_0x49779f(0xc2d)]('click',_0x3362c2=>{const _0x4dc361=_0x49779f;if(_0x3362c2[_0x4dc361(0x3fe)][_0x4dc361(0x734)]['contains'](_0x4dc361(0x5b5))){const _0x109a9e=_0x3362c2[_0x4dc361(0x3fe)][_0x4dc361(0xcba)]['playerName'];_0x109a9e&&handleKickPlayer(_0x109a9e);}}),document[_0x49779f(0x916)](_0x49779f(0x635))[_0x49779f(0xc2d)](_0x49779f(0x3be),()=>document['getElementById'](_0x49779f(0x944))[_0x49779f(0x734)][_0x49779f(0x5cf)]('hidden')),document['getElementById'](_0x49779f(0x944))[_0x49779f(0xc2d)](_0x49779f(0xab7),handleSaveProjectName),document[_0x49779f(0x916)](_0x49779f(0x635))[_0x49779f(0xc2d)](_0x49779f(0xb04),_0x5d6021=>{const _0x3f43f6=_0x49779f;_0x5d6021[_0x3f43f6(0x5bc)]===_0x3f43f6(0xae1)&&(_0x5d6021[_0x3f43f6(0x452)](),_0x5d6021['target'][_0x3f43f6(0x637)](),handleSaveProjectName());}),document['getElementById'](_0x49779f(0x212))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x1a006f=_0x49779f;document['getElementById'](_0x1a006f(0x7f3))[_0x1a006f(0x734)][_0x1a006f(0x5cf)](_0x1a006f(0x4ad));}),document[_0x49779f(0x916)](_0x49779f(0x765))[_0x49779f(0xc2d)]('click',()=>{const _0x498125=_0x49779f;document[_0x498125(0x916)](_0x498125(0x7f3))[_0x498125(0x734)]['add'](_0x498125(0x4ad));}),document['getElementById'](_0x49779f(0xbef))['addEventListener'](_0x49779f(0xab7),handleBulkUpdateQuizSettings),document[_0x49779f(0x916)](_0x49779f(0xa32))['addEventListener'](_0x49779f(0xab7),handleModeSwitch),document['getElementById'](_0x49779f(0xe07))[_0x49779f(0xc2d)]('click',handleUpdateOldQuizzes),document[_0x49779f(0x916)](_0x49779f(0x55e))[_0x49779f(0xc2d)](_0x49779f(0xab7),handleResetProjectOrder),document['getElementById'](_0x49779f(0xb20))['addEventListener'](_0x49779f(0xab7),handleSaveVisibilitySettings),document[_0x49779f(0x916)](_0x49779f(0x4ea))['addEventListener'](_0x49779f(0xab7),handleAddCustomMathTopic),document[_0x49779f(0x916)](_0x49779f(0xcdf))[_0x49779f(0xc2d)](_0x49779f(0xab7),handleSelectAllTopics),document[_0x49779f(0x916)](_0x49779f(0xdbb))[_0x49779f(0xc2d)](_0x49779f(0xab7),handleDeselectAllTopics),document[_0x49779f(0x916)](_0x49779f(0xb85))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}}),document['getElementById'](_0x49779f(0x798))['addEventListener']('click',()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}}),document['getElementById']('back-to-dashboard-from-results-btn')[_0x49779f(0xc2d)]('click',()=>{showView('admin-dashboard');}),document[_0x49779f(0x916)](_0x49779f(0xa6b))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x57852f=_0x49779f;messageModal[_0x57852f(0x734)][_0x57852f(0x459)](_0x57852f(0x4ad)),typeof modalConfirmAction==='function'&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x49779f(0x916)](_0x49779f(0x720))[_0x49779f(0xc2d)]('click',()=>createProjectModal[_0x49779f(0x734)][_0x49779f(0x5cf)](_0x49779f(0x4ad))),document[_0x49779f(0x916)](_0x49779f(0x7c3))['addEventListener'](_0x49779f(0xab7),()=>createProjectModal[_0x49779f(0x734)]['add']('hidden')),document[_0x49779f(0x916)]('cancel-admin-login-btn')[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>adminPasswordModal[_0x49779f(0x734)][_0x49779f(0x459)]('hidden')),document[_0x49779f(0x916)](_0x49779f(0x624))[_0x49779f(0xc2d)]('click',handleAdminLogin),document[_0x49779f(0x916)](_0x49779f(0x817))['addEventListener'](_0x49779f(0xddf),_0x1a4b6e=>{const _0xb9ac8a=_0x49779f;if(_0x1a4b6e[_0xb9ac8a(0x5bc)]==='Enter')handleAdminLogin();}),document['getElementById'](_0x49779f(0x9a8))['addEventListener'](_0x49779f(0xab7),()=>{const _0x39d13b=_0x49779f;confirmationModal['classList'][_0x39d13b(0x459)](_0x39d13b(0x4ad)),typeof cancelAction==='function'&&cancelAction(),confirmAction=null,cancelAction=null;}),document['getElementById'](_0x49779f(0xca2))['addEventListener'](_0x49779f(0xab7),()=>{const _0x8cc837=_0x49779f;confirmAction&&confirmAction(),confirmationModal[_0x8cc837(0x734)][_0x8cc837(0x459)](_0x8cc837(0x4ad)),confirmAction=null,cancelAction=null;}),document[_0x49779f(0x916)]('cancel-rename-quiz-btn')['addEventListener'](_0x49779f(0xab7),()=>renameQuizModal[_0x49779f(0x734)][_0x49779f(0x459)](_0x49779f(0x4ad))),document['getElementById'](_0x49779f(0x443))[_0x49779f(0xc2d)](_0x49779f(0xab7),confirmRenameQuiz),document[_0x49779f(0x916)](_0x49779f(0xcfc))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>moveQuizModal[_0x49779f(0x734)][_0x49779f(0x459)]('hidden')),document[_0x49779f(0x916)](_0x49779f(0x3f1))[_0x49779f(0xc2d)](_0x49779f(0xab7),confirmMoveQuiz),document[_0x49779f(0x916)](_0x49779f(0x4fa))['addEventListener'](_0x49779f(0xab7),()=>quizSettingsModal[_0x49779f(0x734)]['add']('hidden')),document['getElementById'](_0x49779f(0x57c))[_0x49779f(0xc2d)](_0x49779f(0xab7),confirmQuizSettings),document['getElementById'](_0x49779f(0x93d))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>quizStatusModal[_0x49779f(0x734)][_0x49779f(0x459)](_0x49779f(0x4ad))),document[_0x49779f(0x916)]('confirm-quiz-status-btn')[_0x49779f(0xc2d)](_0x49779f(0xab7),confirmQuizStatus);const _0x254bef=document[_0x49779f(0x916)](_0x49779f(0x811));document[_0x49779f(0x916)](_0x49779f(0x5db))['addEventListener'](_0x49779f(0xab7),()=>{const _0x390d50=_0x49779f;_0x254bef['classList'][_0x390d50(0x459)]('hidden');}),document[_0x49779f(0x916)]('export-compact-pdf-btn')[_0x49779f(0xc2d)](_0x49779f(0xab7),async()=>{const _0x4565a8=_0x49779f,_0x3a572f=allQuizzes['find'](_0x33aa46=>_0x33aa46['id']===actionTargetId);_0x3a572f?(currentQuizData=_0x3a572f,exportQuizAsWorksheetPDF()):showMessage(_0x4565a8(0x7ec)),_0x254bef[_0x4565a8(0x734)][_0x4565a8(0x459)](_0x4565a8(0x4ad));}),document[_0x49779f(0x916)](_0x49779f(0x3a4))['addEventListener'](_0x49779f(0xab7),async()=>{const _0x4ccf3c=_0x49779f,_0x27d4b6=allQuizzes['find'](_0x513af9=>_0x513af9['id']===actionTargetId);_0x27d4b6?(currentQuizData=_0x27d4b6,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x254bef[_0x4ccf3c(0x734)]['add'](_0x4ccf3c(0x4ad));});const _0xb662b9=document[_0x49779f(0x916)]('open-global-live-btn');_0xb662b9['innerHTML']=_0x49779f(0xbf8),_0xb662b9[_0x49779f(0xc2d)](_0x49779f(0xab7),openGlobalActivityModal),document[_0x49779f(0x916)](_0x49779f(0x4a1))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x26e9da=_0x49779f;document[_0x26e9da(0x916)](_0x26e9da(0xb4a))['classList'][_0x26e9da(0x459)]('hidden');}),document[_0x49779f(0x916)](_0x49779f(0x804))[_0x49779f(0xc2d)]('input',_0x3930ad=>{const _0x4804ed=_0x49779f;renderGlobalActivityList(_0x3930ad['target'][_0x4804ed(0x93c)]);}),document['getElementById'](_0x49779f(0xe03))[_0x49779f(0xc2d)]('click',_0x58716c=>{const _0x1a6c4a=_0x49779f,_0x5a247f=_0x58716c['target'][_0x1a6c4a(0x7c4)](_0x1a6c4a(0xdd7));if(!_0x5a247f)return;const _0x121e9b=_0x5a247f[_0x1a6c4a(0xcba)]['id'],_0x3ca4d8=_0x5a247f[_0x1a6c4a(0xcba)][_0x1a6c4a(0x223)],_0x335bc6=allQuizzesGlobal['find'](_0xf01997=>_0xf01997['id']===_0x121e9b);_0x335bc6&&(document[_0x1a6c4a(0x916)]('global-activity-modal')[_0x1a6c4a(0x734)]['add'](_0x1a6c4a(0x4ad)),_0x3ca4d8===_0x1a6c4a(0x820)?handleStartLiveRace(_0x121e9b):showGameStartConfirmationModal(_0x121e9b,_0x3ca4d8,_0x335bc6['topic']));}),document[_0x49779f(0x916)](_0x49779f(0xc37))[_0x49779f(0xc2d)](_0x49779f(0x36a),renderProjects),document[_0x49779f(0x916)](_0x49779f(0x19c))[_0x49779f(0xc2d)](_0x49779f(0xbe9),async()=>{const _0xcf8b7c=_0x49779f,_0x42d3b3=document['getElementById'](_0xcf8b7c(0x19c))[_0xcf8b7c(0x93c)],_0x31247b=doc(db,_0xcf8b7c(0xc75),_0xcf8b7c(0x7fc));try{await setDoc(_0x31247b,{'projectSort':_0x42d3b3},{'merge':!![]});}catch(_0x537f7c){console[_0xcf8b7c(0x689)](_0xcf8b7c(0xdef),_0x537f7c),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document[_0x49779f(0x916)](_0x49779f(0x36e))[_0x49779f(0xc2d)](_0x49779f(0x36a),renderQuizzes),document[_0x49779f(0x916)]('grid-view-btn')[_0x49779f(0xc2d)]('click',()=>{const _0x431721=_0x49779f;globalDashboardSettings[_0x431721(0x1b9)]=_0x431721(0x4b0),saveUserPreference('projectView','grid'),renderProjects();}),document[_0x49779f(0x916)](_0x49779f(0x58d))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x349cae=_0x49779f;globalDashboardSettings[_0x349cae(0x1b9)]=_0x349cae(0x22c),saveUserPreference('projectView',_0x349cae(0x22c)),renderProjects();}),manageTab[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>switchProjectTab('manage')),resultsTab[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>switchProjectTab(_0x49779f(0x84d))),leaderboardTab[_0x49779f(0xc2d)]('click',()=>switchProjectTab(_0x49779f(0x6f5))),document[_0x49779f(0x916)](_0x49779f(0xd4e))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>switchQuizDetailTab('analytics')),document['getElementById'](_0x49779f(0x938))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>switchQuizDetailTab(_0x49779f(0x72f))),document[_0x49779f(0x916)]('leaderboard-quiz-tab-btn')['addEventListener'](_0x49779f(0xab7),()=>switchQuizDetailTab(_0x49779f(0x2c3))),document[_0x49779f(0x916)](_0x49779f(0x7ef))['addEventListener'](_0x49779f(0xab7),()=>switchQuizDetailTab(_0x49779f(0x736))),document[_0x49779f(0x916)](_0x49779f(0x4a2))[_0x49779f(0xc2d)]('click',handleAnalyzeClass),generateWorksheetBtn[_0x49779f(0xc2d)]('click',generateWorksheet);const _0x4c9805=document[_0x49779f(0x916)](_0x49779f(0x939)),_0x18b72c=document['getElementById'](_0x49779f(0xc40)),_0x267b74=document[_0x49779f(0x916)]('blueprint-tab'),_0x9c6236=document['getElementById'](_0x49779f(0x2e9)),_0x111caf=document[_0x49779f(0x916)]('parallel-test-tab'),_0xfea917=document['getElementById']('parallel-test-input-area');topicTab[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x2c270d=_0x49779f;topicTab[_0x2c270d(0x734)]['add']('active'),textTab[_0x2c270d(0x734)]['remove'](_0x2c270d(0x101)),fileTab[_0x2c270d(0x734)][_0x2c270d(0x5cf)](_0x2c270d(0x101)),worksheetTab['classList'][_0x2c270d(0x5cf)](_0x2c270d(0x101));if(_0x4c9805)_0x4c9805[_0x2c270d(0x734)]['remove']('active');if(_0x267b74)_0x267b74['classList']['remove'](_0x2c270d(0x101));if(_0x111caf)_0x111caf[_0x2c270d(0x734)][_0x2c270d(0x5cf)]('active');topicInputArea[_0x2c270d(0x734)][_0x2c270d(0x5cf)](_0x2c270d(0x4ad)),textInputArea[_0x2c270d(0x734)][_0x2c270d(0x459)](_0x2c270d(0x4ad)),fileInputArea[_0x2c270d(0x734)][_0x2c270d(0x459)](_0x2c270d(0x4ad)),worksheetInputArea[_0x2c270d(0x734)]['add'](_0x2c270d(0x4ad));if(_0x18b72c)_0x18b72c[_0x2c270d(0x734)]['add'](_0x2c270d(0x4ad));if(_0x9c6236)_0x9c6236['classList'][_0x2c270d(0x459)](_0x2c270d(0x4ad));if(_0xfea917)_0xfea917[_0x2c270d(0x734)][_0x2c270d(0x459)](_0x2c270d(0x4ad));}),textTab['addEventListener'](_0x49779f(0xab7),()=>{const _0x2d4956=_0x49779f;textTab['classList']['add'](_0x2d4956(0x101)),topicTab[_0x2d4956(0x734)]['remove']('active'),fileTab[_0x2d4956(0x734)][_0x2d4956(0x5cf)](_0x2d4956(0x101)),worksheetTab[_0x2d4956(0x734)]['remove']('active');if(_0x4c9805)_0x4c9805[_0x2d4956(0x734)]['remove'](_0x2d4956(0x101));if(_0x267b74)_0x267b74[_0x2d4956(0x734)]['remove']('active');if(_0x111caf)_0x111caf['classList'][_0x2d4956(0x5cf)](_0x2d4956(0x101));textInputArea[_0x2d4956(0x734)]['remove']('hidden'),topicInputArea[_0x2d4956(0x734)][_0x2d4956(0x459)](_0x2d4956(0x4ad)),fileInputArea[_0x2d4956(0x734)][_0x2d4956(0x459)](_0x2d4956(0x4ad)),worksheetInputArea['classList'][_0x2d4956(0x459)]('hidden');if(_0x18b72c)_0x18b72c[_0x2d4956(0x734)][_0x2d4956(0x459)]('hidden');if(_0x9c6236)_0x9c6236[_0x2d4956(0x734)][_0x2d4956(0x459)]('hidden');if(_0xfea917)_0xfea917[_0x2d4956(0x734)]['add'](_0x2d4956(0x4ad));}),fileTab[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x4ad7cf=_0x49779f;fileTab[_0x4ad7cf(0x734)][_0x4ad7cf(0x459)](_0x4ad7cf(0x101)),topicTab[_0x4ad7cf(0x734)]['remove'](_0x4ad7cf(0x101)),textTab[_0x4ad7cf(0x734)][_0x4ad7cf(0x5cf)](_0x4ad7cf(0x101)),worksheetTab['classList'][_0x4ad7cf(0x5cf)](_0x4ad7cf(0x101));if(_0x4c9805)_0x4c9805['classList'][_0x4ad7cf(0x5cf)](_0x4ad7cf(0x101));if(_0x267b74)_0x267b74[_0x4ad7cf(0x734)][_0x4ad7cf(0x5cf)](_0x4ad7cf(0x101));if(_0x111caf)_0x111caf[_0x4ad7cf(0x734)][_0x4ad7cf(0x5cf)](_0x4ad7cf(0x101));fileInputArea[_0x4ad7cf(0x734)][_0x4ad7cf(0x5cf)]('hidden'),topicInputArea[_0x4ad7cf(0x734)][_0x4ad7cf(0x459)]('hidden'),textInputArea[_0x4ad7cf(0x734)][_0x4ad7cf(0x459)](_0x4ad7cf(0x4ad)),worksheetInputArea['classList'][_0x4ad7cf(0x459)]('hidden');if(_0x18b72c)_0x18b72c[_0x4ad7cf(0x734)][_0x4ad7cf(0x459)](_0x4ad7cf(0x4ad));if(_0x9c6236)_0x9c6236['classList'][_0x4ad7cf(0x459)](_0x4ad7cf(0x4ad));if(_0xfea917)_0xfea917[_0x4ad7cf(0x734)][_0x4ad7cf(0x459)]('hidden');}),worksheetTab[_0x49779f(0xc2d)]('click',()=>{const _0x50bf70=_0x49779f;worksheetTab[_0x50bf70(0x734)][_0x50bf70(0x459)](_0x50bf70(0x101)),topicTab[_0x50bf70(0x734)][_0x50bf70(0x5cf)]('active'),textTab[_0x50bf70(0x734)][_0x50bf70(0x5cf)](_0x50bf70(0x101)),fileTab['classList'][_0x50bf70(0x5cf)]('active');if(_0x4c9805)_0x4c9805[_0x50bf70(0x734)][_0x50bf70(0x5cf)](_0x50bf70(0x101));if(_0x267b74)_0x267b74[_0x50bf70(0x734)][_0x50bf70(0x5cf)](_0x50bf70(0x101));if(_0x111caf)_0x111caf[_0x50bf70(0x734)]['remove'](_0x50bf70(0x101));worksheetInputArea['classList'][_0x50bf70(0x5cf)](_0x50bf70(0x4ad)),topicInputArea[_0x50bf70(0x734)][_0x50bf70(0x459)](_0x50bf70(0x4ad)),textInputArea[_0x50bf70(0x734)][_0x50bf70(0x459)](_0x50bf70(0x4ad)),fileInputArea['classList']['add'](_0x50bf70(0x4ad));if(_0x18b72c)_0x18b72c['classList']['add'](_0x50bf70(0x4ad));if(_0x9c6236)_0x9c6236[_0x50bf70(0x734)][_0x50bf70(0x459)](_0x50bf70(0x4ad));if(_0xfea917)_0xfea917[_0x50bf70(0x734)][_0x50bf70(0x459)](_0x50bf70(0x4ad));});const _0x15469f=document[_0x49779f(0x916)](_0x49779f(0xc56)),_0x326264=document[_0x49779f(0x916)](_0x49779f(0x98e));_0x15469f&&_0x15469f[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x20067b=_0x49779f;topicTab[_0x20067b(0x734)][_0x20067b(0x5cf)](_0x20067b(0x101)),textTab['classList'][_0x20067b(0x5cf)](_0x20067b(0x101)),fileTab[_0x20067b(0x734)][_0x20067b(0x5cf)]('active'),worksheetTab[_0x20067b(0x734)][_0x20067b(0x5cf)]('active');if(_0x4c9805)_0x4c9805[_0x20067b(0x734)][_0x20067b(0x5cf)](_0x20067b(0x101));if(_0x267b74)_0x267b74[_0x20067b(0x734)]['remove']('active');if(_0x111caf)_0x111caf[_0x20067b(0x734)][_0x20067b(0x5cf)](_0x20067b(0x101));_0x15469f[_0x20067b(0x734)]['add'](_0x20067b(0x101)),topicInputArea[_0x20067b(0x734)]['add'](_0x20067b(0x4ad)),textInputArea[_0x20067b(0x734)][_0x20067b(0x459)]('hidden'),fileInputArea['classList']['add'](_0x20067b(0x4ad)),worksheetInputArea[_0x20067b(0x734)][_0x20067b(0x459)]('hidden');if(_0x18b72c)_0x18b72c[_0x20067b(0x734)][_0x20067b(0x459)]('hidden');if(_0x9c6236)_0x9c6236[_0x20067b(0x734)][_0x20067b(0x459)]('hidden');if(_0xfea917)_0xfea917['classList'][_0x20067b(0x459)](_0x20067b(0x4ad));_0x326264[_0x20067b(0x734)]['remove']('hidden'),displayQuestionBank();});_0x4c9805&&(_0x4c9805['addEventListener'](_0x49779f(0xab7),()=>{const _0x4a742c=_0x49779f;_0x4c9805[_0x4a742c(0x734)]['add'](_0x4a742c(0x101)),topicTab['classList']['remove'](_0x4a742c(0x101)),textTab['classList'][_0x4a742c(0x5cf)](_0x4a742c(0x101)),fileTab[_0x4a742c(0x734)][_0x4a742c(0x5cf)]('active'),worksheetTab['classList']['remove'](_0x4a742c(0x101));if(_0x267b74)_0x267b74[_0x4a742c(0x734)][_0x4a742c(0x5cf)](_0x4a742c(0x101));if(_0x111caf)_0x111caf['classList'][_0x4a742c(0x5cf)]('active');_0x18b72c['classList'][_0x4a742c(0x5cf)](_0x4a742c(0x4ad)),topicInputArea[_0x4a742c(0x734)][_0x4a742c(0x459)](_0x4a742c(0x4ad)),textInputArea[_0x4a742c(0x734)][_0x4a742c(0x459)](_0x4a742c(0x4ad)),fileInputArea[_0x4a742c(0x734)][_0x4a742c(0x459)](_0x4a742c(0x4ad)),worksheetInputArea[_0x4a742c(0x734)][_0x4a742c(0x459)](_0x4a742c(0x4ad));if(_0x9c6236)_0x9c6236['classList']['add']('hidden');if(_0xfea917)_0xfea917[_0x4a742c(0x734)]['add'](_0x4a742c(0x4ad));}),document[_0x49779f(0x916)](_0x49779f(0xc7d))[_0x49779f(0xc2d)](_0x49779f(0xab7),handleGenerateFromLink));_0x267b74&&_0x267b74[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x8dd128=_0x49779f;_0x267b74[_0x8dd128(0x734)]['add'](_0x8dd128(0x101)),topicTab[_0x8dd128(0x734)][_0x8dd128(0x5cf)](_0x8dd128(0x101)),textTab[_0x8dd128(0x734)]['remove']('active'),fileTab[_0x8dd128(0x734)][_0x8dd128(0x5cf)](_0x8dd128(0x101)),worksheetTab[_0x8dd128(0x734)][_0x8dd128(0x5cf)](_0x8dd128(0x101));if(_0x4c9805)_0x4c9805[_0x8dd128(0x734)][_0x8dd128(0x5cf)](_0x8dd128(0x101));if(_0x15469f)_0x15469f[_0x8dd128(0x734)][_0x8dd128(0x5cf)]('active');if(_0x111caf)_0x111caf[_0x8dd128(0x734)]['remove']('active');_0x9c6236[_0x8dd128(0x734)]['remove'](_0x8dd128(0x4ad)),topicInputArea[_0x8dd128(0x734)]['add'](_0x8dd128(0x4ad)),textInputArea[_0x8dd128(0x734)][_0x8dd128(0x459)](_0x8dd128(0x4ad)),fileInputArea['classList'][_0x8dd128(0x459)](_0x8dd128(0x4ad)),worksheetInputArea['classList'][_0x8dd128(0x459)]('hidden');if(_0x18b72c)_0x18b72c[_0x8dd128(0x734)][_0x8dd128(0x459)](_0x8dd128(0x4ad));if(_0x326264)_0x326264['classList'][_0x8dd128(0x459)](_0x8dd128(0x4ad));if(_0xfea917)_0xfea917[_0x8dd128(0x734)][_0x8dd128(0x459)](_0x8dd128(0x4ad));});_0x111caf&&_0x111caf[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x1d6d76=_0x49779f;_0x111caf['classList'][_0x1d6d76(0x459)](_0x1d6d76(0x101)),topicTab[_0x1d6d76(0x734)][_0x1d6d76(0x5cf)]('active'),textTab['classList']['remove'](_0x1d6d76(0x101)),fileTab['classList']['remove'](_0x1d6d76(0x101)),worksheetTab[_0x1d6d76(0x734)][_0x1d6d76(0x5cf)](_0x1d6d76(0x101));if(_0x4c9805)_0x4c9805[_0x1d6d76(0x734)][_0x1d6d76(0x5cf)](_0x1d6d76(0x101));if(_0x267b74)_0x267b74['classList']['remove'](_0x1d6d76(0x101));if(_0x15469f)_0x15469f[_0x1d6d76(0x734)]['remove'](_0x1d6d76(0x101));_0xfea917[_0x1d6d76(0x734)][_0x1d6d76(0x5cf)]('hidden'),topicInputArea['classList']['add'](_0x1d6d76(0x4ad)),textInputArea['classList'][_0x1d6d76(0x459)](_0x1d6d76(0x4ad)),fileInputArea['classList'][_0x1d6d76(0x459)](_0x1d6d76(0x4ad)),worksheetInputArea[_0x1d6d76(0x734)][_0x1d6d76(0x459)](_0x1d6d76(0x4ad));if(_0x18b72c)_0x18b72c[_0x1d6d76(0x734)][_0x1d6d76(0x459)](_0x1d6d76(0x4ad));if(_0x9c6236)_0x9c6236[_0x1d6d76(0x734)][_0x1d6d76(0x459)]('hidden');if(_0x326264)_0x326264[_0x1d6d76(0x734)][_0x1d6d76(0x459)]('hidden');});const _0x5ed616=document[_0x49779f(0x916)](_0x49779f(0x638)),_0x56853c=document[_0x49779f(0x916)](_0x49779f(0xb50));if(_0x5ed616){const _0xac7782=document[_0x49779f(0x916)](_0x49779f(0x638)),_0x1b90db=document['getElementById']('generate-from-blueprint-btn'),_0x56ebdb=document['getElementById'](_0x49779f(0xc45)),_0x2a480b=document[_0x49779f(0x916)](_0x49779f(0xb69)),_0x3c174f=document[_0x49779f(0x916)](_0x49779f(0x7d8)),_0x912951=document[_0x49779f(0x916)](_0x49779f(0x673));_0xac7782&&_0xac7782['addEventListener'](_0x49779f(0xbe9),async _0x16a0f0=>{const _0x47c486=_0x49779f;_0x56ebdb[_0x47c486(0x734)][_0x47c486(0x459)]('hidden'),_0x3c174f[_0x47c486(0x734)]['add'](_0x47c486(0x4ad)),_0x2a480b[_0x47c486(0x7bc)]=![],_0x1b90db[_0x47c486(0x426)]=!![];const _0x2c7bc8=_0x16a0f0[_0x47c486(0x3fe)][_0x47c486(0xda0)][0x0];if(_0x2c7bc8){_0x1b90db[_0x47c486(0x426)]=![];try{const _0x531c14=await extractTextFromPdf(_0x2c7bc8);await analyzeBlueprintForTopics(_0x531c14);}catch(_0x379294){showMessage(_0x47c486(0x3e3)),_0x56ebdb[_0x47c486(0x734)][_0x47c486(0x459)](_0x47c486(0x4ad));}}}),_0x2a480b&&_0x2a480b[_0x49779f(0xc2d)](_0x49779f(0xbe9),_0x2d020d=>{const _0x1053f1=_0x49779f,_0x5210e8=_0x2d020d['target']['checked'];_0x3c174f[_0x1053f1(0x734)][_0x1053f1(0x3bc)](_0x1053f1(0x4ad),!_0x5210e8),_0x1b90db[_0x1053f1(0x426)]=_0x5210e8;}),_0x912951&&(_0x912951&&_0x912951['addEventListener']('click',_0x1c7862=>{const _0x22d6ea=_0x49779f,_0xb8e77=_0x1c7862['target'][_0x22d6ea(0x7c4)]('.topic-selection-btn'),_0x1b0072=_0x1c7862[_0x22d6ea(0x3fe)][_0x22d6ea(0x7c4)](_0x22d6ea(0xbcc));if(_0xb8e77){const _0x29d461=unescape(_0xb8e77[_0x22d6ea(0xcba)][_0x22d6ea(0xdf4)]);generateQuizForSingleTopic(_0x29d461);}else{if(_0x1b0072){const _0x44fb81=unescape(_0x1b0072[_0x22d6ea(0xcba)][_0x22d6ea(0xdf4)]);handleGenerateTeachingContent(_0x44fb81);}}}));}_0x56853c&&_0x56853c['addEventListener'](_0x49779f(0xab7),handleGenerateFromBlueprint);const _0x1c387b=document['getElementById'](_0x49779f(0xe1d)),_0x1e72fd=document[_0x49779f(0x916)](_0x49779f(0xa64));_0x1c387b&&_0x1c387b[_0x49779f(0xc2d)]('change',_0x5dc8cc=>{const _0x44d908=_0x49779f;_0x1e72fd[_0x44d908(0x426)]=_0x5dc8cc[_0x44d908(0x3fe)][_0x44d908(0xda0)]['length']===0x0;});_0x1e72fd&&_0x1e72fd[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x49779f(0xc2d)]('click',handleLoadQuiz),startQuizBtn[_0x49779f(0xc2d)](_0x49779f(0xab7),async()=>{const _0xed0bd5=_0x49779f,_0x410c7e=document[_0xed0bd5(0x916)](_0xed0bd5(0xa0e));currentStudentName=_0x410c7e['value'];if(!currentStudentName){showMessage(_0xed0bd5(0x581));return;}try{const _0x38d9e6=currentQuizData['id'],_0x4aa747=doc(db,_0xed0bd5(0x54a)+appId+_0xed0bd5(0x906)+_0x38d9e6+_0xed0bd5(0xcae),currentStudentName),_0xd5c050=await getDoc(_0x4aa747);!_0xd5c050['exists']()?await setDoc(_0x4aa747,{'studentName':currentStudentName,'startedAt':new Date()[_0xed0bd5(0x700)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x4aa747,{'startedAt':new Date()[_0xed0bd5(0x700)]()});}catch(_0x2c96b){console[_0xed0bd5(0x689)](_0xed0bd5(0xd78),_0x2c96b),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView[_0xed0bd5(0x734)][_0xed0bd5(0x459)](_0xed0bd5(0x4ad)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x49779f(0x916)]('join-live-game-btn')[_0x49779f(0xc2d)](_0x49779f(0xab7),showJoinGameView),document[_0x49779f(0x916)](_0x49779f(0x1cb))[_0x49779f(0xc2d)](_0x49779f(0xab7),handleJoinLiveGame),document['getElementById'](_0x49779f(0xda2))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>showView(_0x49779f(0xdd4)));const _0x1844ba=()=>{const _0x7270e0=_0x49779f,_0x3853d0=document[_0x7270e0(0x916)](_0x7270e0(0x76a))['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x7270e0(0x3c8)]();return _0x7270e0(0x1ac)+(_0x3853d0||_0x7270e0(0xd0c));},_0x5d847f=document['getElementById'](_0x49779f(0xc88));_0x5d847f&&_0x5d847f[_0x49779f(0xc2d)](_0x49779f(0x36a),_0x2ea0ad=>{const _0x449565=_0x49779f,_0x3f9b48=_0x2ea0ad['target'][_0x449565(0x93c)][_0x449565(0x3c8)]()[_0x449565(0x1a0)](),_0x3262ed=document['getElementById'](_0x449565(0xac3)),_0x38a581=_0x3262ed[_0x449565(0x77f)](_0x449565(0x58a));_0x38a581['forEach'](_0x393a5a=>{const _0x21f6b2=_0x449565;let _0x5f109f=![];const _0x32bb62=_0x393a5a['querySelectorAll'](_0x21f6b2(0x6a6));_0x32bb62['forEach'](_0x22a215=>{const _0x54dbb4=_0x21f6b2,_0x1f5485=_0x22a215[_0x54dbb4(0x7f4)](_0x54dbb4(0x65b))[_0x54dbb4(0xd9d)]['toLowerCase']();_0x1f5485[_0x54dbb4(0xb28)](_0x3f9b48)?(_0x22a215[_0x54dbb4(0x3bb)][_0x54dbb4(0x31b)]=_0x54dbb4(0xb9b),_0x5f109f=!![]):_0x22a215[_0x54dbb4(0x3bb)][_0x54dbb4(0x31b)]=_0x54dbb4(0x118);}),_0x5f109f?_0x393a5a['style'][_0x21f6b2(0x31b)]=_0x21f6b2(0x3d4):_0x393a5a[_0x21f6b2(0x3bb)]['display']=_0x21f6b2(0x118);});});document[_0x49779f(0x916)](_0x49779f(0xa23))[_0x49779f(0xc2d)]('click',()=>exportTableAsImage('results-table-container',_0x1844ba())),document[_0x49779f(0x916)](_0x49779f(0xc8f))[_0x49779f(0xc2d)]('click',()=>exportTableAsPDF('results-table',_0x1844ba())),document['getElementById'](_0x49779f(0x7b2))[_0x49779f(0xc2d)]('click',()=>exportTableAsWord(_0x49779f(0xb87),_0x1844ba())),document[_0x49779f(0x916)]('export-excel-btn')[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>exportTableAsExcel(_0x49779f(0xa6e),_0x1844ba()));const _0x2a6b7c=()=>{const _0x336a77=_0x49779f,_0x5f0dc1=document[_0x336a77(0x916)](_0x336a77(0x76a))['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x336a77(0x3c8)]();return _0x336a77(0x2e5)+(_0x5f0dc1||_0x336a77(0xd0c));};document[_0x49779f(0x916)](_0x49779f(0x3f4))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>exportTableAsImage(_0x49779f(0x7f6),_0x2a6b7c())),document[_0x49779f(0x916)](_0x49779f(0x5d3))[_0x49779f(0xc2d)]('click',()=>exportTableAsPDF(_0x49779f(0xbeb),_0x2a6b7c())),document['getElementById'](_0x49779f(0x5ff))[_0x49779f(0xc2d)]('click',()=>exportTableAsWord('quiz-leaderboard-table-container',_0x2a6b7c())),document[_0x49779f(0x916)](_0x49779f(0x18a))['addEventListener'](_0x49779f(0xab7),()=>exportTableAsExcel(_0x49779f(0xbeb),_0x2a6b7c())),projectQuizzesList[_0x49779f(0xc2d)](_0x49779f(0xab7),async _0x5f2e1d=>{const _0x57fb1d=_0x49779f,_0x348e07=_0x5f2e1d[_0x57fb1d(0x3fe)][_0x57fb1d(0x7c4)](_0x57fb1d(0xc7f)),_0x8f3bea=_0x5f2e1d[_0x57fb1d(0x3fe)][_0x57fb1d(0x7c4)](_0x57fb1d(0x670)),_0x874eb7=_0x5f2e1d['target'][_0x57fb1d(0x7c4)]('.compare-results-btn'),_0x2e683f=_0x5f2e1d[_0x57fb1d(0x3fe)][_0x57fb1d(0x7c4)]('.generate-lesson-btn'),_0x40dd9b=_0x5f2e1d[_0x57fb1d(0x3fe)][_0x57fb1d(0x7c4)](_0x57fb1d(0x413)),_0x1748dd=_0x5f2e1d['target'][_0x57fb1d(0x7c4)](_0x57fb1d(0x754)),_0x1469a6=_0x5f2e1d[_0x57fb1d(0x3fe)][_0x57fb1d(0x7c4)](_0x57fb1d(0xa86)),_0x2f8d0e=_0x5f2e1d[_0x57fb1d(0x3fe)][_0x57fb1d(0x7c4)](_0x57fb1d(0x850)),_0x157318=_0x5f2e1d['target'][_0x57fb1d(0x7c4)]('.duplicate-quiz-btn'),_0x182e0d=_0x5f2e1d['target'][_0x57fb1d(0x7c4)](_0x57fb1d(0x639)),_0x59ae14=_0x5f2e1d[_0x57fb1d(0x3fe)][_0x57fb1d(0x7c4)]('.parallel-quiz-btn'),_0x4cfbbe=_0x5f2e1d[_0x57fb1d(0x3fe)][_0x57fb1d(0x7c4)](_0x57fb1d(0x44d)),_0x58c82a=_0x5f2e1d['target'][_0x57fb1d(0x7c4)](_0x57fb1d(0x9bf)),_0xd9e2e3=_0x5f2e1d[_0x57fb1d(0x3fe)][_0x57fb1d(0x7c4)](_0x57fb1d(0x7a6)),_0x555fa0=_0x5f2e1d[_0x57fb1d(0x3fe)]['closest'](_0x57fb1d(0x520)),_0xc1c3bf=_0x5f2e1d[_0x57fb1d(0x3fe)][_0x57fb1d(0x7c4)](_0x57fb1d(0x928)),_0x19a804=_0x5f2e1d[_0x57fb1d(0x3fe)][_0x57fb1d(0x7c4)](_0x57fb1d(0x194)),_0xa0f87a=_0x5f2e1d[_0x57fb1d(0x3fe)][_0x57fb1d(0x7c4)](_0x57fb1d(0x48f)),_0x260720=_0x5f2e1d[_0x57fb1d(0x3fe)]['closest']('.quiz-status-btn'),_0x122c7c=_0x5f2e1d[_0x57fb1d(0x3fe)][_0x57fb1d(0x7c4)]('.toggle-actions-btn'),_0x4e3c1d=_0x5f2e1d[_0x57fb1d(0x3fe)][_0x57fb1d(0x7c4)](_0x57fb1d(0xa0a)),_0x503e56=_0x5f2e1d[_0x57fb1d(0x3fe)][_0x57fb1d(0x7c4)](_0x57fb1d(0x1b1)),_0x528f17=_0x5f2e1d[_0x57fb1d(0x3fe)][_0x57fb1d(0x7c4)](_0x57fb1d(0xa0d));if(_0x503e56){const _0x3b6f5e=_0x503e56[_0x57fb1d(0xcba)][_0x57fb1d(0xbc0)],_0x18e72b=_0x503e56[_0x57fb1d(0xcba)]['mode'],_0x4eae74=allQuizzes[_0x57fb1d(0xa3d)](_0x4bdb1b=>_0x4bdb1b['id']===_0x3b6f5e);_0x4eae74&&showGameStartConfirmationModal(_0x3b6f5e,_0x18e72b,_0x4eae74[_0x57fb1d(0xdf4)]);}else{if(_0x528f17){const _0x376a72=_0x528f17['dataset']['quizId'];handleStartLiveRace(_0x376a72);}else{if(_0x122c7c){const _0x53d7ac=_0x122c7c['dataset']['quizId'],_0x2f57b9=document['getElementById'](_0x57fb1d(0xae3)+_0x53d7ac);_0x2f57b9&&_0x2f57b9[_0x57fb1d(0x734)]['toggle'](_0x57fb1d(0x4ad));}else{if(_0x8f3bea){const _0x3a5b6f=_0x8f3bea[_0x57fb1d(0xcba)]['quizId'],_0x21f912=allQuizzes['find'](_0x39ddff=>_0x39ddff['id']===_0x3a5b6f);_0x21f912&&handleGenerateParallelPostTest(_0x21f912);}else{if(_0x874eb7)handleCompareResults(_0x874eb7[_0x57fb1d(0xcba)][_0x57fb1d(0xbc0)],_0x874eb7[_0x57fb1d(0xcba)][_0x57fb1d(0xb07)]);else{if(_0x2e683f){const _0x55ffdc=_0x2e683f[_0x57fb1d(0xcba)]['quizId'],_0x2a8cec=allQuizzes[_0x57fb1d(0xa3d)](_0x213d3a=>_0x213d3a['id']===_0x55ffdc);_0x2a8cec&&_0x2a8cec['lessonPlan']?(displayLessonPlan(_0x2a8cec[_0x57fb1d(0x807)],_0x2a8cec),showConfirmation(_0x57fb1d(0x8a3),()=>handleGenerateLessonPlan(_0x55ffdc)),document['getElementById'](_0x57fb1d(0x1fd))[_0x57fb1d(0x7f4)]('h3')['textContent']='แผนการสอน',document[_0x57fb1d(0x916)](_0x57fb1d(0xca2))['textContent']=_0x57fb1d(0x251)):handleGenerateLessonPlan(_0x55ffdc);}else{if(_0x40dd9b)handleToggleStarQuiz(_0x40dd9b['dataset']['quizId']);else{if(_0x1748dd)copyTextToClipboard(_0x1748dd[_0x57fb1d(0xcba)][_0x57fb1d(0xbc0)],_0x57fb1d(0xce7));else{if(_0x1469a6)handleOpenQuizEditor(_0x1469a6[_0x57fb1d(0xcba)]['quizId']);else{if(_0x2f8d0e)handleQuizSettings(_0x2f8d0e[_0x57fb1d(0xcba)][_0x57fb1d(0xbc0)]);else{if(_0x157318)handleDuplicateQuiz(_0x157318[_0x57fb1d(0xcba)][_0x57fb1d(0xbc0)]);else{if(_0x182e0d)handleRenameQuiz(_0x182e0d[_0x57fb1d(0xcba)][_0x57fb1d(0xbc0)],_0x182e0d['dataset'][_0x57fb1d(0xdf4)]);else{if(_0x59ae14){const _0xa1f650=_0x59ae14[_0x57fb1d(0xcba)][_0x57fb1d(0xbc0)],_0xbdedb1=allQuizzes[_0x57fb1d(0xa3d)](_0x257859=>_0x257859['id']===_0xa1f650);_0xbdedb1&&handleGenerateParallelFromBank(_0xbdedb1);}else{if(_0x4cfbbe)handleMoveQuiz(_0x4cfbbe[_0x57fb1d(0xcba)]['quizId']);else{if(_0x58c82a)handleManualQuizPairing(_0x58c82a[_0x57fb1d(0xcba)][_0x57fb1d(0xbc0)]);else{if(_0xd9e2e3)handleUnpairQuiz(_0xd9e2e3['dataset'][_0x57fb1d(0xbc0)]);else{if(_0x555fa0){const _0x320495=_0x555fa0[_0x57fb1d(0xcba)]['quizId'],_0x24bdb4=allQuizzes[_0x57fb1d(0xa3d)](_0x6d45fd=>_0x6d45fd['id']===_0x320495);if(_0x24bdb4)startPresentation(_0x24bdb4);}else{if(_0xc1c3bf){const _0x3190b0=_0xc1c3bf[_0x57fb1d(0xcba)][_0x57fb1d(0xbc0)],_0x3d67a9=allQuizzes[_0x57fb1d(0xa3d)](_0x325cee=>_0x325cee['id']===_0x3190b0);_0x3d67a9&&(currentQuizData=_0x3d67a9,startAdminTest());}else{if(_0x19a804)actionTargetId=_0x19a804[_0x57fb1d(0xcba)][_0x57fb1d(0xbc0)],document['getElementById'](_0x57fb1d(0x811))[_0x57fb1d(0x734)][_0x57fb1d(0x5cf)]('hidden');else{if(_0xa0f87a)showConfirmation(_0x57fb1d(0x493)+_0xa0f87a[_0x57fb1d(0xcba)]['topic']+_0x57fb1d(0x252),()=>handleDeleteQuiz(_0xa0f87a['dataset']['quizId']));else{if(_0x260720)handleQuizStatus(_0x260720[_0x57fb1d(0xcba)][_0x57fb1d(0xbc0)]);else{if(_0x4e3c1d)handleGenerateEasyVersionQuiz(_0x4e3c1d[_0x57fb1d(0xcba)]['quizId']);else _0x348e07&&showQuizDetailView(_0x348e07['dataset'][_0x57fb1d(0xbc0)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x49779f(0x916)](_0x49779f(0x28a))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>showView(_0x49779f(0xdd4))),document[_0x49779f(0x916)]('confirm-team-players-btn')['addEventListener'](_0x49779f(0xab7),confirmAndStartTeamQuiz),document[_0x49779f(0x916)](_0x49779f(0xbeb))[_0x49779f(0x7f4)]('thead')[_0x49779f(0xc2d)](_0x49779f(0xab7),_0x2d49e4=>{const _0x4e3ad0=_0x49779f,_0x5131a0=_0x2d49e4[_0x4e3ad0(0x3fe)][_0x4e3ad0(0x7c4)](_0x4e3ad0(0xb12));if(!_0x5131a0||!_0x5131a0[_0x4e3ad0(0xcba)][_0x4e3ad0(0x5d4)])return;const _0x369cee=_0x5131a0[_0x4e3ad0(0xcba)][_0x4e3ad0(0x5d4)];if(quizLeaderboardSortBy===_0x369cee)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x4e3ad0(0xbb8)?'desc':_0x4e3ad0(0xbb8);else{quizLeaderboardSortBy=_0x369cee;const _0x250332=[_0x4e3ad0(0x7b1)];quizLeaderboardSortOrder=_0x250332['includes'](_0x369cee)?_0x4e3ad0(0xbb8):_0x4e3ad0(0xd27);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x49779f(0x916)](_0x49779f(0x961))['addEventListener'](_0x49779f(0xab7),closePresentation),document[_0x49779f(0x916)]('prev-question-btn')[_0x49779f(0xc2d)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x49779f(0x916)](_0x49779f(0xd28))['addEventListener'](_0x49779f(0xab7),()=>{const _0x5bf16b=_0x49779f;currentQuizData[_0x5bf16b(0x87f)]&&currentPresentationSlide<currentQuizData[_0x5bf16b(0x87f)][_0x5bf16b(0x3d7)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x49779f(0xc2d)](_0x49779f(0x891),()=>{const _0x5912ff=_0x49779f;!document[_0x5912ff(0xda5)]&&(presentationModal['style'][_0x5912ff(0x31b)]=_0x5912ff(0x118));}),document[_0x49779f(0x916)](_0x49779f(0x332))['addEventListener'](_0x49779f(0xab7),handleDeleteAllStudents),studentList['addEventListener'](_0x49779f(0xab7),_0xe2a032=>{const _0x5dd460=_0x49779f,_0x5db754=_0xe2a032['target'][_0x5dd460(0x7c4)](_0x5dd460(0x968));if(_0x5db754){const _0x54b3df=_0x5db754[_0x5dd460(0xcba)]['studentName'];handleDeleteStudent(_0x54b3df);}}),document['getElementById']('generate-from-file-btn')[_0x49779f(0xc2d)](_0x49779f(0xab7),handleGenerateFromFileClick),fileUploadInput[_0x49779f(0xc2d)](_0x49779f(0xbe9),_0x394418=>{const _0x132463=_0x49779f,_0x5a7de1=_0x394418[_0x132463(0x3fe)]['files'][0x0],_0x3d7c8a=document['getElementById'](_0x132463(0x880)),_0x5b4a7b=document[_0x132463(0x916)](_0x132463(0xbda)),_0x52aa6d=document['getElementById'](_0x132463(0xdb9));_0x5a7de1?(selectedFile=_0x5a7de1,_0x52aa6d[_0x132463(0x7bc)]?(_0x3d7c8a['disabled']=!![],analyzeFileForTopics(_0x5a7de1)):(_0x3d7c8a['disabled']=![],_0x5b4a7b[_0x132463(0x734)]['add'](_0x132463(0x4ad)))):(selectedFile=null,_0x3d7c8a[_0x132463(0x426)]=!![],_0x5b4a7b['classList'][_0x132463(0x459)](_0x132463(0x4ad)));}),document[_0x49779f(0x916)](_0x49779f(0xdb9))['addEventListener']('change',_0xc066cd=>{const _0x24d792=_0x49779f,_0x44efee=_0xc066cd[_0x24d792(0x3fe)]['checked'],_0x1f6fbe=document[_0x24d792(0x916)](_0x24d792(0x880)),_0x36e502=document[_0x24d792(0x916)](_0x24d792(0xbda));_0x44efee?(_0x1f6fbe[_0x24d792(0x426)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x36e502[_0x24d792(0x734)][_0x24d792(0x5cf)](_0x24d792(0x4ad)),document['getElementById'](_0x24d792(0xd35))[_0x24d792(0xbc4)]=_0x24d792(0x925))):(_0x36e502[_0x24d792(0x734)][_0x24d792(0x459)]('hidden'),_0x1f6fbe[_0x24d792(0x426)]=!selectedFile);}),document[_0x49779f(0x916)](_0x49779f(0xbda))[_0x49779f(0xc2d)](_0x49779f(0xab7),_0x19daba=>{const _0x5502c6=_0x49779f,_0x8e141b=_0x19daba[_0x5502c6(0x3fe)][_0x5502c6(0x7c4)](_0x5502c6(0x313)),_0x3404b8=_0x19daba[_0x5502c6(0x3fe)][_0x5502c6(0x7c4)](_0x5502c6(0xbcc));if(_0x8e141b){const _0x5b342e=unescape(_0x8e141b['dataset'][_0x5502c6(0xdf4)]);generateHybridQuizForTopic(_0x5b342e);}else{if(_0x3404b8){const _0x3a4648=unescape(_0x3404b8[_0x5502c6(0xcba)][_0x5502c6(0xdf4)]),_0x261bb1=document[_0x5502c6(0x916)](_0x5502c6(0x622))['value'];handleGenerateAndShowLesson(_0x3a4648,_0x261bb1);}}}),document[_0x49779f(0x916)](_0x49779f(0x65f))[_0x49779f(0xc2d)](_0x49779f(0xbe9),_0xa627=>{const _0x2f98be=_0x49779f,_0x55b1f1=document[_0x2f98be(0x916)]('timer-duration-container'),_0x561a7a=document['getElementById']('timer-duration-label'),_0x253a48=document[_0x2f98be(0x916)]('timer-duration-input');_0xa627[_0x2f98be(0x3fe)]['value']===_0x2f98be(0x118)?_0x55b1f1[_0x2f98be(0x734)]['add'](_0x2f98be(0x4ad)):(_0x55b1f1['classList'][_0x2f98be(0x5cf)](_0x2f98be(0x4ad)),_0xa627[_0x2f98be(0x3fe)]['value']===_0x2f98be(0x80e)?(_0x561a7a[_0x2f98be(0xd9d)]='ระยะเวลา\x20(นาที):',_0x253a48[_0x2f98be(0x93c)]='10'):(_0x561a7a[_0x2f98be(0xd9d)]=_0x2f98be(0xa78),_0x253a48[_0x2f98be(0x93c)]='30'));}),document[_0x49779f(0x916)](_0x49779f(0x247))[_0x49779f(0xc2d)](_0x49779f(0xbe9),_0x1c7958=>{const _0x5e79ef=_0x49779f,_0x1404db=document[_0x5e79ef(0x916)]('num-choices-container'),_0x419061=_0x1c7958['target']['value'],_0x51dead=document['querySelector'](_0x5e79ef(0x7e8)),_0x1efd60=document[_0x5e79ef(0x916)](_0x5e79ef(0x7e7)),_0x17e0fc=document[_0x5e79ef(0x916)](_0x5e79ef(0x1ab));_0x419061===_0x5e79ef(0x613)?_0x51dead['textContent']=_0x5e79ef(0xb71):_0x51dead[_0x5e79ef(0xd9d)]=_0x5e79ef(0x7ce),_0x419061===_0x5e79ef(0x3e2)||_0x419061===_0x5e79ef(0x362)||_0x419061==='mixed'?_0x1404db['classList']['remove'](_0x5e79ef(0x4ad)):_0x1404db[_0x5e79ef(0x734)][_0x5e79ef(0x459)](_0x5e79ef(0x4ad)),_0x1efd60[_0x5e79ef(0x88a)]=_0x17e0fc[_0x5e79ef(0x93c)];}),document[_0x49779f(0x916)]('num-questions')[_0x49779f(0xc2d)](_0x49779f(0x36a),_0x28aa63=>{const _0x4ba3bf=_0x49779f;document[_0x4ba3bf(0x916)](_0x4ba3bf(0x7e7))[_0x4ba3bf(0x88a)]=_0x28aa63['target'][_0x4ba3bf(0x93c)];}),document[_0x49779f(0x916)](_0x49779f(0xc0b))[_0x49779f(0xc2d)]('change',_0x5e367c=>{const _0x1a4c58=_0x49779f,_0x5c86d6=document['getElementById'](_0x1a4c58(0x19b)),_0x461998=document[_0x1a4c58(0x916)]('modal-timer-duration-label'),_0x314d71=document[_0x1a4c58(0x916)](_0x1a4c58(0xdb2));_0x5e367c[_0x1a4c58(0x3fe)][_0x1a4c58(0x93c)]===_0x1a4c58(0x118)?_0x5c86d6[_0x1a4c58(0x734)][_0x1a4c58(0x459)](_0x1a4c58(0x4ad)):(_0x5c86d6['classList'][_0x1a4c58(0x5cf)]('hidden'),_0x5e367c['target'][_0x1a4c58(0x93c)]===_0x1a4c58(0x80e)?_0x461998[_0x1a4c58(0xd9d)]=_0x1a4c58(0xbd3):_0x461998[_0x1a4c58(0xd9d)]=_0x1a4c58(0xa78));}),document[_0x49779f(0x916)](_0x49779f(0x28f))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x1fbd7e=_0x49779f;document[_0x1fbd7e(0x916)](_0x1fbd7e(0x165))[_0x1fbd7e(0x734)][_0x1fbd7e(0x459)](_0x1fbd7e(0x4ad));}),document[_0x49779f(0x916)](_0x49779f(0x445))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x39ad7a=_0x49779f;document[_0x39ad7a(0x916)](_0x39ad7a(0x165))[_0x39ad7a(0x734)][_0x39ad7a(0x459)](_0x39ad7a(0x4ad));}),document['getElementById'](_0x49779f(0x417))[_0x49779f(0xc2d)]('click',handleVerifyAnswersInEditor),document[_0x49779f(0x916)]('save-quiz-edits-btn')[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x4e2660=_0x49779f;document['getElementById'](_0x4e2660(0x165))[_0x4e2660(0x734)][_0x4e2660(0x459)](_0x4e2660(0x4ad)),showConfirmation(_0x4e2660(0x87d),handleSaveChanges);}),document[_0x49779f(0x916)]('auto-fix-latex-btn')['addEventListener'](_0x49779f(0xab7),handleAutoFixLatex);const _0x3a9e43=document[_0x49779f(0x916)](_0x49779f(0x879));_0x3a9e43&&_0x3a9e43['addEventListener'](_0x49779f(0xab7),_0x20c92d=>{const _0x1198db=_0x49779f,_0x41edcc=_0x20c92d[_0x1198db(0x3fe)][_0x1198db(0x7c4)]('.regenerate-question-editor-btn');if(_0x41edcc){const _0x3fa442=_0x41edcc[_0x1198db(0x7c4)](_0x1198db(0xccf)),_0x3cc781=parseInt(_0x3fa442[_0x1198db(0xcba)][_0x1198db(0xe09)],0xa);handleRegenerateQuestionInEditor(_0x3cc781);return;}const _0x4023a8=_0x20c92d['target']['closest'](_0x1198db(0x730));if(_0x4023a8){const _0x20aabc=_0x4023a8['closest'](_0x1198db(0xccf)),_0x307e24=parseInt(_0x20aabc['dataset'][_0x1198db(0xe09)],0xa);handleDeleteQuestionInEditor(_0x307e24);return;}const _0x5de536=_0x20c92d['target'][_0x1198db(0x7c4)](_0x1198db(0x3ae));if(_0x5de536){handleAddQuestionInEditor();return;}});document[_0x49779f(0x916)]('open-quiz-bank-btn')['addEventListener'](_0x49779f(0xab7),openQuizBankModal),document['getElementById'](_0x49779f(0x345))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x165615=_0x49779f;document[_0x165615(0x916)](_0x165615(0x6c8))[_0x165615(0x734)]['add'](_0x165615(0x4ad));}),document['getElementById']('bank-quiz-search-input')[_0x49779f(0xc2d)](_0x49779f(0x36a),_0x6c6502=>renderQuizBankList(_0x6c6502[_0x49779f(0x3fe)][_0x49779f(0x93c)]));const _0xe9f9c1=document['getElementById'](_0x49779f(0xac3));if(_0xe9f9c1){let _0x97ee44=null;_0xe9f9c1['addEventListener']('click',_0x2519fa=>{const _0x49d282=_0x49779f,_0xaa93d4=_0x2519fa['target'],_0x2a12f0=_0xaa93d4['closest'](_0x49d282(0x75c)),_0x3d4464=_0xaa93d4['closest'](_0x49d282(0xadc)),_0x2e185f=_0xaa93d4[_0x49d282(0x7c4)](_0x49d282(0x2be)),_0x16ad37=_0xaa93d4[_0x49d282(0x7c4)]('.cancel-edit-topic-btn');if(_0x3d4464){_0x2519fa[_0x49d282(0x452)]();const _0x18befb=_0x3d4464[_0x49d282(0xcba)]['id'],_0x196ed6=_0x3d4464[_0x49d282(0x7c4)](_0x49d282(0xbe2))[_0x49d282(0x7f4)](_0x49d282(0x65b))['textContent'];showConfirmation(_0x49d282(0x6d9)+_0x196ed6+'\x22?',()=>handleDeleteCustomTopic(_0x18befb));}else{if(_0x2a12f0){_0x2519fa[_0x49d282(0x452)]();_0x97ee44&&toggleTopicEditMode(_0x97ee44,![]);const _0x45d89b=_0x2a12f0[_0x49d282(0x7c4)](_0x49d282(0x8a6));_0x97ee44=_0x45d89b,toggleTopicEditMode(_0x45d89b,!![]);}else{if(_0x2e185f){_0x2519fa[_0x49d282(0x452)]();const _0xe87d2e=_0x2e185f['dataset']['id'],_0x517b53=_0x2e185f['closest'](_0x49d282(0x8a6)),_0x570fe3=_0x517b53[_0x49d282(0x7f4)]('.topic-name-input')[_0x49d282(0x93c)];handleUpdateCustomTopic(_0xe87d2e,_0x570fe3),_0x97ee44=null;}else{if(_0x16ad37){_0x2519fa[_0x49d282(0x452)]();const _0x593653=_0x16ad37[_0x49d282(0x7c4)](_0x49d282(0x8a6));toggleTopicEditMode(_0x593653,![]),_0x97ee44=null;}}}}}),document[_0x49779f(0x916)](_0x49779f(0xa97))['addEventListener']('click',()=>{const _0x52f5e1=_0x49779f;document[_0x52f5e1(0x916)](_0x52f5e1(0xafb))[_0x52f5e1(0x734)][_0x52f5e1(0x459)]('hidden');}),document[_0x49779f(0x916)](_0x49779f(0xc1b))[_0x49779f(0xc2d)]('click',()=>{const _0x1cc99c=_0x49779f;document['getElementById'](_0x1cc99c(0xafb))[_0x1cc99c(0x734)]['add'](_0x1cc99c(0x4ad));}),document['getElementById'](_0x49779f(0x2e7))[_0x49779f(0xc2d)](_0x49779f(0xab7),handleExportLessonPDF);}document[_0x49779f(0x916)](_0x49779f(0xba0))[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x1cc2b6=_0x49779f;document[_0x1cc2b6(0x916)](_0x1cc2b6(0xbfb))['classList'][_0x1cc2b6(0x459)](_0x1cc2b6(0x4ad));}),document[_0x49779f(0x916)]('close-comparison-modal-footer-btn')[_0x49779f(0xc2d)](_0x49779f(0xab7),()=>{const _0x386dad=_0x49779f;document[_0x386dad(0x916)](_0x386dad(0xbfb))[_0x386dad(0x734)]['add'](_0x386dad(0x4ad));}),setupComparisonModalTabs(),document[_0x49779f(0x556)][_0x49779f(0xc2d)](_0x49779f(0xab7),function(_0x170f18){const _0x3e9f69=_0x49779f;if(_0x170f18[_0x3e9f69(0x3fe)][_0x3e9f69(0x734)][_0x3e9f69(0x8ae)](_0x3e9f69(0x60c))){const _0x27952b=unescape(_0x170f18[_0x3e9f69(0x3fe)][_0x3e9f69(0xcba)]['topic']);startSkillPractice(_0x27952b);}}),document['getElementById'](_0x49779f(0x2f9))['addEventListener'](_0x49779f(0xab7),_0x53d64a=>{const _0x35d9fd=_0x49779f,_0x48a1b2=_0x53d64a['target'][_0x35d9fd(0x7c4)](_0x35d9fd(0x844));if(_0x48a1b2){const _0x3685cd=_0x48a1b2[_0x35d9fd(0xcba)][_0x35d9fd(0x7b1)];handleDeleteSubmission(_0x3685cd);return;}const _0x17a5c2=_0x53d64a[_0x35d9fd(0x3fe)][_0x35d9fd(0x7c4)](_0x35d9fd(0xba5));if(_0x17a5c2){const _0x3705db=_0x17a5c2[_0x35d9fd(0xcba)][_0x35d9fd(0x7b1)],_0x2aedb3=_0x17a5c2[_0x35d9fd(0xcba)][_0x35d9fd(0x920)],_0x1e2e88=prompt(_0x35d9fd(0xc5d)+_0x3705db+_0x35d9fd(0x4de),_0x2aedb3);if(_0x1e2e88!==null&&_0x1e2e88[_0x35d9fd(0x1a0)]()!==''){const _0x4c5105=parseInt(_0x1e2e88,0xa);!isNaN(_0x4c5105)?handleManualEditPoints(_0x3705db,_0x4c5105):alert('กรุณากรอกเป็นตัวเลขเท่านั้น');}}});}async function handleStartGroupMode(_0x4071c9,_0x123994=![]){const _0x51483e=_0x13d91b,_0x356434=allQuizzes[_0x51483e(0xa3d)](_0x236316=>_0x236316['id']===_0x4071c9)||allQuizzesGlobal[_0x51483e(0xa3d)](_0x2329f4=>_0x2329f4['id']===_0x4071c9);if(!_0x356434){showMessage(_0x51483e(0x7ec));return;}currentQuizData=getShuffledQuiz(_0x356434);const _0x1b3ff4=Math[_0x51483e(0x8e9)](0x3e8+Math[_0x51483e(0x29d)]()*0x2328)[_0x51483e(0xda1)]();try{const _0x81d292=await addDoc(collection(db,_0x51483e(0x54a)+appId+_0x51483e(0x6ca)),{'quizId':_0x356434['id'],'projectId':_0x356434[_0x51483e(0x7a5)],'status':_0x51483e(0xa3e),'pin':_0x1b3ff4,'mode':_0x51483e(0x97e),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x123994});currentTeamQuizId=_0x81d292['id'],showView(_0x51483e(0x8ad)),renderAdminTeamQuizDashboard(_0x1b3ff4,_0x356434[_0x51483e(0xdf4)],_0x51483e(0x97e)),listenForTeamQuizUpdates();}catch(_0x49271d){console['error']('Error\x20starting\x20group\x20quiz:',_0x49271d),showMessage(_0x51483e(0x898));}}async function showStudentProgressView(){const _0x588cf8=_0x13d91b;studentInitialView[_0x588cf8(0x734)][_0x588cf8(0x459)](_0x588cf8(0x4ad)),document[_0x588cf8(0x916)]('student-progress-view')[_0x588cf8(0x734)][_0x588cf8(0x5cf)](_0x588cf8(0x4ad));const _0x4e2e5c=document[_0x588cf8(0x916)](_0x588cf8(0xbe6)),_0xb810c=document[_0x588cf8(0x916)](_0x588cf8(0x2ea)),_0x520d07=document[_0x588cf8(0x916)](_0x588cf8(0x574));_0x520d07[_0x588cf8(0xbc4)]=_0x588cf8(0x39a),_0xb810c[_0x588cf8(0xbc4)]=_0x588cf8(0x40a),_0xb810c[_0x588cf8(0x426)]=!![],_0x4e2e5c[_0x588cf8(0xbc4)]=_0x588cf8(0x789);if(allProjects[_0x588cf8(0x3d7)]===0x0){const _0x2e2ad7=collection(db,_0x588cf8(0x54a)+appId+_0x588cf8(0x90e)),_0x4c497e=await getDocs(_0x2e2ad7);allProjects=_0x4c497e[_0x588cf8(0x1fb)][_0x588cf8(0x1b0)](_0x3899ee=>({'id':_0x3899ee['id'],..._0x3899ee['data']()}));}const _0x576e97=allProjects[_0x588cf8(0xc52)](_0x9cf831=>_0x9cf831['settings']?.[_0x588cf8(0x788)]!==![]);_0x576e97['sort']((_0x2cdef6,_0x5348be)=>_0x2cdef6[_0x588cf8(0xe04)][_0x588cf8(0xa7d)](_0x5348be[_0x588cf8(0xe04)],'th')),_0x4e2e5c[_0x588cf8(0xbc4)]=_0x588cf8(0x10d)+_0x576e97[_0x588cf8(0x1b0)](_0xccf580=>_0x588cf8(0x733)+_0xccf580['id']+'\x22>'+_0xccf580[_0x588cf8(0xe04)]+'</option>')['join'](''),_0x4e2e5c[_0x588cf8(0x59f)]=()=>{const _0x45923c=_0x588cf8,_0x1c9f21=_0xb810c[_0x45923c(0x93c)],_0x4fd7ca=_0x4e2e5c[_0x45923c(0x93c)];_0xb810c[_0x45923c(0x426)]=!![],_0xb810c['innerHTML']=_0x45923c(0x40a),_0x520d07[_0x45923c(0xbc4)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x4fd7ca)return;const _0xdb93f7=allProjects[_0x45923c(0xa3d)](_0x5b1ffb=>_0x5b1ffb['id']===_0x4fd7ca);if(!_0xdb93f7||!_0xdb93f7[_0x45923c(0xce1)])return;const _0x735e77=()=>{const _0x598413=_0x45923c;_0xb810c['innerHTML']=_0x598413(0x40a)+_0xdb93f7[_0x598413(0xce1)][_0x598413(0x1b0)](_0x265b59=>_0x598413(0x733)+_0x265b59+'\x22>'+_0x265b59+_0x598413(0xb4f))[_0x598413(0x22e)](''),_0xb810c[_0x598413(0x426)]=![];const _0x7cc4dd=Array[_0x598413(0x199)](_0xb810c['options'])[_0x598413(0x1b0)](_0x28742b=>_0x28742b[_0x598413(0x93c)]);if(_0x1c9f21&&_0x7cc4dd[_0x598413(0xb28)](_0x1c9f21))_0xb810c[_0x598413(0x93c)]=_0x1c9f21,_0xb810c[_0x598413(0x24d)](new Event('change'));else _0xdb93f7[_0x598413(0xce1)][_0x598413(0x3d7)]===0x1&&(_0xb810c[_0x598413(0x93c)]=_0xdb93f7[_0x598413(0xce1)][0x0],_0xb810c[_0x598413(0x24d)](new Event(_0x598413(0xbe9))));};if(_0xdb93f7[_0x45923c(0xc10)]?.[_0x45923c(0xa89)]){if(sessionStorage['getItem'](_0x45923c(0x44f)+_0x4fd7ca)===_0x45923c(0x539)){_0x735e77();return;}const _0x289167=document['getElementById'](_0x45923c(0xd61)),_0x5d954c=document['getElementById'](_0x45923c(0x2b1)),_0x1d340b=document[_0x45923c(0x916)](_0x45923c(0x9b7)),_0x753f55=document['getElementById'](_0x45923c(0x8f5)),_0x52eb03=document[_0x45923c(0x916)](_0x45923c(0x557));document[_0x45923c(0x916)](_0x45923c(0xa18))[_0x45923c(0xd9d)]=_0x45923c(0x5f2)+_0xdb93f7[_0x45923c(0xe04)],_0x753f55[_0x45923c(0x93c)]='',_0x52eb03[_0x45923c(0x734)]['add']('hidden'),_0x289167['classList'][_0x45923c(0x5cf)]('hidden');const _0x5b52ee=()=>{const _0x1d1d1d=_0x45923c,_0x34a01b=_0x753f55[_0x1d1d1d(0x93c)][_0x1d1d1d(0x1a0)]();_0x34a01b===_0xdb93f7['settings'][_0x1d1d1d(0x6b2)]?(sessionStorage[_0x1d1d1d(0xd51)](_0x1d1d1d(0x44f)+_0x4fd7ca,_0x1d1d1d(0x539)),_0x289167[_0x1d1d1d(0x734)][_0x1d1d1d(0x459)](_0x1d1d1d(0x4ad)),_0x735e77(),_0x5d954c[_0x1d1d1d(0x124)](_0x1d1d1d(0xab7),_0x5b52ee)):_0x52eb03[_0x1d1d1d(0x734)][_0x1d1d1d(0x5cf)](_0x1d1d1d(0x4ad));};_0x5d954c['onclick']=_0x5b52ee,_0x1d340b[_0x45923c(0xc55)]=()=>{const _0x84f8de=_0x45923c;_0x289167[_0x84f8de(0x734)][_0x84f8de(0x459)](_0x84f8de(0x4ad)),_0x4e2e5c['value']='',_0x5d954c[_0x84f8de(0x124)](_0x84f8de(0xab7),_0x5b52ee);};}else _0x735e77();},_0xb810c['onchange']=()=>{const _0x3fca9f=_0x588cf8,_0x4f152c=_0x4e2e5c[_0x3fca9f(0x93c)],_0x45480a=_0xb810c[_0x3fca9f(0x93c)];_0x4f152c&&_0x45480a&&renderStudentProgressDashboard(_0x4f152c,_0x45480a);};}async function confirmAndJoinSyncGame(){const _0x27a3de=_0x13d91b;lastSeenQuestionIndex=-0x1,sessionStorage[_0x27a3de(0x6dd)]('pollUsedThisTurn'),sessionStorage[_0x27a3de(0x6dd)](_0x27a3de(0x795)),Object[_0x27a3de(0x4bf)](sessionStorage)[_0x27a3de(0x5c9)](_0x24cfb9=>{const _0x4d7136=_0x27a3de;(_0x24cfb9[_0x4d7136(0x9cd)](_0x4d7136(0xd13))||_0x24cfb9[_0x4d7136(0x9cd)](_0x4d7136(0x5a7))||_0x24cfb9[_0x4d7136(0x9cd)](_0x4d7136(0x71a)))&&sessionStorage[_0x4d7136(0x6dd)](_0x24cfb9);});const _0x50d5fe=Array[_0x27a3de(0x199)](document[_0x27a3de(0x77f)]('input[name=\x22team_player\x22]:checked'))['map'](_0xa52bed=>_0xa52bed['value']);if(_0x50d5fe['length']===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x50d5fe,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0x5cb4b4=writeBatch(db),_0x3cc92c=serverTimestamp();_0x50d5fe['forEach'](_0xa038d6=>{const _0x116858=_0x27a3de,_0x390362=doc(db,_0x116858(0x54a)+appId+_0x116858(0x259)+currentLiveGameId+_0x116858(0xc58),_0xa038d6),_0x458562={'name':_0xa038d6,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0},'answered':![],'status':_0x116858(0x101),'answers':[],'joinedAt':_0x3cc92c,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0x5cb4b4[_0x116858(0x36f)](_0x390362,_0x458562,{'merge':!![]});}),await _0x5cb4b4['commit'](),showView('live-game'),document[_0x27a3de(0x916)](_0x27a3de(0x7cf))[_0x27a3de(0x734)][_0x27a3de(0x459)](_0x27a3de(0x4ad)),currentStudentName=_0x50d5fe[0x0],listenForSyncGameUpdates();const _0x2416ce={'gameId':currentLiveGameId,'mode':_0x27a3de(0x344),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x27a3de(0xd51)]('activeGameSession',JSON['stringify'](_0x2416ce)),currentMode!==_0x27a3de(0xd30)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x27a3de(0xc2d)](_0x27a3de(0x891),handleFullscreenChange),document[_0x27a3de(0xc2d)](_0x27a3de(0x945),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x27a3de(0xb35),resetDimTimer),window[_0x27a3de(0xc2d)](_0x27a3de(0x6ba),resetDimTimer),window[_0x27a3de(0xc2d)](_0x27a3de(0x3b3),resetDimTimer),window[_0x27a3de(0xc2d)]('keydown',resetDimTimer),resetDimTimer());}catch(_0x4a905e){console[_0x27a3de(0x689)](_0x27a3de(0x6e8),_0x4a905e),showMessage(_0x27a3de(0x156)+_0x4a905e[_0x27a3de(0xbd0)]);}}async function resumeActiveGameSession(){const _0x1af924=_0x13d91b,_0x3f3a5c=sessionStorage[_0x1af924(0x113)](_0x1af924(0xa6a));if(!_0x3f3a5c)return;const _0x59f214=JSON[_0x1af924(0x97f)](_0x3f3a5c),{gameId:_0x418313,mode:_0x2f9110,role:_0x1a2d41,players:_0x448252,turnIndex:_0xd905ac}=_0x59f214;try{if(_0x1a2d41===_0x1af924(0x1e4)&&_0x2f9110===_0x1af924(0x344)){const _0x5ce305=doc(db,_0x1af924(0x54a)+appId+_0x1af924(0x66e),_0x418313),_0x36ac2e=await getDoc(_0x5ce305);if(!_0x36ac2e[_0x1af924(0x5fd)]()||_0x36ac2e[_0x1af924(0xaf3)]()[_0x1af924(0x127)]===_0x1af924(0x94a)||_0x36ac2e[_0x1af924(0xaf3)]()[_0x1af924(0x127)]===_0x1af924(0x977)){sessionStorage['removeItem'](_0x1af924(0xa6a));return;}console[_0x1af924(0xcf6)]('กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20'+_0x418313+')'),currentMode=_0x1af924(0x1e4),currentLiveGameId=_0x418313,currentQuizData=_0x36ac2e[_0x1af924(0xaf3)]()[_0x1af924(0x571)],showView(_0x1af924(0x8ad)),listenForSyncGameUpdates();}else{if(_0x2f9110===_0x1af924(0x344)&&_0x448252){const _0x34ed3d=doc(db,'artifacts/'+appId+_0x1af924(0x66e),_0x418313),_0x4dc0b2=await getDoc(_0x34ed3d);if(!_0x4dc0b2[_0x1af924(0x5fd)]()||_0x4dc0b2[_0x1af924(0xaf3)]()[_0x1af924(0x127)]===_0x1af924(0x94a)||_0x4dc0b2[_0x1af924(0xaf3)]()['status']===_0x1af924(0x977)){sessionStorage[_0x1af924(0x6dd)]('activeGameSession');return;}console['log'](_0x1af924(0x354)+_0x418313+')'),currentLiveGameId=_0x418313,currentStudentName=_0x448252[0x0],localTeamPlayers=_0x448252,showView('live-game'),listenForSyncGameUpdates();}else{if((_0x2f9110==='team'||_0x2f9110===_0x1af924(0x97e))&&_0x448252){const _0x4ad39e=doc(db,_0x1af924(0x54a)+appId+_0x1af924(0x6ca),_0x418313),_0x2cc18e=await getDoc(_0x4ad39e);if(!_0x2cc18e[_0x1af924(0x5fd)]()||_0x2cc18e[_0x1af924(0xaf3)]()['status']===_0x1af924(0x94a)||_0x2cc18e[_0x1af924(0xaf3)]()[_0x1af924(0x127)]===_0x1af924(0x977)){sessionStorage[_0x1af924(0x6dd)](_0x1af924(0xa6a));return;}console[_0x1af924(0xcf6)](_0x1af924(0x121)+_0x2f9110+_0x1af924(0x4fd)+_0x418313+')'),currentTeamQuizId=_0x418313,localTeamPlayers=_0x448252,localQuestionIndex=_0x59f214[_0x1af924(0x907)]||0x0,localPlayerIndex=_0x59f214[_0x1af924(0x2fe)]||0x0;const _0x4fe5f5=_0x2cc18e[_0x1af924(0xaf3)](),_0x530f7f=doc(db,_0x1af924(0x54a)+appId+'/public/data/quizzes',_0x4fe5f5['quizId']),_0x15e2b7=await getDoc(_0x530f7f);_0x15e2b7[_0x1af924(0x5fd)]()&&(currentQuizData=getShuffledQuiz({'id':_0x15e2b7['id'],..._0x15e2b7[_0x1af924(0xaf3)]()}),showView(_0x1af924(0xdd4)),studentInitialView[_0x1af924(0x734)][_0x1af924(0x459)](_0x1af924(0x4ad)),_0x2f9110===_0x1af924(0x97e)?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x49e465){console[_0x1af924(0x689)](_0x1af924(0x7da),_0x49e465),sessionStorage['removeItem']('activeGameSession');}}async function handleUsePowerup(_0x11b1be,_0x3a7e3e,_0x5f3824,_0x207fe0,_0xc24241){const _0x14b4e7=_0x13d91b,_0x50a3ae=_0x207fe0[_0x14b4e7(0x601)],_0x512145=_0x14b4e7(0x5a7)+_0x50a3ae+'_p'+_0x11b1be,_0x59fed2=sessionStorage[_0x14b4e7(0x113)](_0x512145);if(_0x59fed2&&_0x3a7e3e!==_0x14b4e7(0x325)&&_0x3a7e3e!=='strategyScan'){showMessage('คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ');const _0x314396=document[_0x14b4e7(0x916)](_0x14b4e7(0xd2d)+_0x3a7e3e);if(_0x314396)_0x314396[_0x14b4e7(0x426)]=![];return;}if(_0x3a7e3e===_0x14b4e7(0x281)){sessionStorage[_0x14b4e7(0xd51)](_0x512145,_0x3a7e3e),renderStudentSyncQuestionView(_0x207fe0);return;}const _0x10c270=doc(db,_0x14b4e7(0x54a)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x14b4e7(0xc58),_0x11b1be);try{await runTransaction(db,async _0x431c15=>{const _0x434da1=_0x14b4e7,_0x150455=await _0x431c15['get'](_0x10c270);if(!_0x150455['exists']())throw _0x434da1(0x176);const _0x55f05c=_0x150455['data'](),_0x425533=_0x55f05c['powerups']||{},_0x3f09f1=_0x425533[_0x3a7e3e]||0x0;if(_0x3f09f1<=0x0)throw _0x434da1(0x814);const _0x24112f={};_0x24112f[_0x434da1(0x9ef)+_0x3a7e3e]=increment(-0x1);if(_0x3a7e3e===_0x434da1(0x325)){const _0x33bb07=(_0x207fe0['timerDuration']||0xf0)*0x3e8,_0x146fe5=_0x33bb07*0.25;_0x24112f[_0x434da1(0xd0b)]=increment(_0x146fe5);}_0x431c15[_0x434da1(0x987)](_0x10c270,_0x24112f);}),_0x3a7e3e==='poll'&&sessionStorage[_0x14b4e7(0xd51)]('pollUsedThisTurn',_0x14b4e7(0x539)),_0x3a7e3e!==_0x14b4e7(0x325)&&_0x3a7e3e!==_0x14b4e7(0x772)&&sessionStorage[_0x14b4e7(0xd51)](_0x512145,_0x3a7e3e),applyPowerupEffect(_0x11b1be,_0x3a7e3e,_0x5f3824,_0x207fe0,_0xc24241),(_0x3a7e3e===_0x14b4e7(0x250)||_0x3a7e3e===_0x14b4e7(0x873)||_0x3a7e3e===_0x14b4e7(0x386))&&renderStudentSyncQuestionView(_0x207fe0);}catch(_0x13dc61){console[_0x14b4e7(0x689)](_0x14b4e7(0x56e),_0x13dc61),showMessage(typeof _0x13dc61===_0x14b4e7(0x5ba)?_0x13dc61:'เกิดข้อผิดพลาดในการใช้ตัวช่วย');const _0xa78593=document[_0x14b4e7(0x916)](_0x14b4e7(0xd2d)+_0x3a7e3e);if(_0xa78593)_0xa78593['disabled']=![];}}async function getCachedOtherPlayers(_0x5c2f00,_0x10e847){const _0xab01cb=_0x13d91b,_0x2d46d0=_0x5c2f00[_0xab01cb(0x601)];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x2d46d0)return console[_0xab01cb(0xcf6)](_0xab01cb(0xb7b)),cachedOtherPlayersForQuestion;console['log'](_0xab01cb(0xad1));const _0xb77344=collection(db,_0xab01cb(0x54a)+appId+_0xab01cb(0x259)+currentLiveGameId+_0xab01cb(0xc58)),_0x24edd4=query(_0xb77344,where(_0xab01cb(0x127),'==','active')),_0x2967d0=await getDocs(_0x24edd4),_0x4e42d5=[];return _0x2967d0[_0xab01cb(0x5c9)](_0x2b21c2=>{const _0x326f0b=_0xab01cb,_0x2ddf3a=_0x2b21c2[_0x326f0b(0xaf3)]();_0x4e42d5[_0x326f0b(0x298)](_0x2ddf3a);}),cachedOtherPlayersForQuestion=_0x4e42d5,cachedQuestionIndexForPlayers=_0x2d46d0,_0x4e42d5;}async function applyPowerupEffect(_0x20a5ed,_0x2ce66b,_0x15ae71,_0x418624,_0x15f532){const _0x2d036b=_0x13d91b,_0x4d22e6=_0x15ae71,_0x5a4dac=_0x418624[_0x2d036b(0x601)],_0x323d66=_0x2d036b(0x5a7)+_0x5a4dac+'_p'+_0x20a5ed,_0x3f2eac=collection(db,_0x2d036b(0x54a)+appId+_0x2d036b(0x259)+currentLiveGameId+_0x2d036b(0xc58)),_0x413343=await getDocs(query(_0x3f2eac,where(_0x2d036b(0x127),'==',_0x2d036b(0x101)))),_0x48ba16=doc(db,_0x2d036b(0x54a)+appId+_0x2d036b(0x66e),currentLiveGameId),_0x2205c1=await getDoc(_0x48ba16),_0x50646a=_0x2205c1[_0x2d036b(0x5fd)]()?_0x2205c1[_0x2d036b(0xaf3)]():{},_0x33c382=_0x50646a[_0x2d036b(0x5cc)]||{},_0x2e7143=[];_0x413343['forEach'](_0x4bfbdb=>{const _0x1d79c9=_0x2d036b,_0x2272a7=_0x4bfbdb[_0x1d79c9(0xaf3)](),_0x25fb8a=_0x33c382[_0x2272a7['name']]||{};_0x2e7143[_0x1d79c9(0x298)]({..._0x2272a7,'pointsLastRound':_0x25fb8a[_0x1d79c9(0x681)]!==undefined?_0x25fb8a['pointsLastRound']:_0x2272a7['pointsLastRound']||0x0,'score':_0x2272a7[_0x1d79c9(0xc8b)]||0x0});});const _0x437e55=_0x2e7143[_0x2d036b(0xa3d)](_0x49294a=>_0x49294a['name']===_0x20a5ed)||_0x15f532,_0x32e5e9=_0x1db512=>{const _0x4190d6=_0x2d036b,_0x58ec94=_0x418624[_0x4190d6(0x5c1)]===_0x4190d6(0x1a3),_0x106493=_0x418624[_0x4190d6(0x9c6)]===!![],_0x43614e=_0x1db512['name'];if(!_0x58ec94)return _0x43614e;const _0x1ad9d0=_0x418624['playerNicknames'][_0x43614e]||'???';let _0x125975=![];if(_0x106493){const _0x21547f=_0x437e55[_0x4190d6(0xc8b)]||0x0,_0x4c65eb=_0x1db512['score']||0x0,_0x4dada7=_0x437e55[_0x4190d6(0x681)]||0x0,_0x2f0851=_0x1db512[_0x4190d6(0x681)]||0x0;_0x125975=_0x21547f>_0x4c65eb||_0x21547f===_0x4c65eb&&_0x4dada7>_0x2f0851;}else{const _0x33d724=_0x437e55['pointsLastRound']||0x0,_0x17ab7f=_0x1db512[_0x4190d6(0x681)]||0x0;_0x125975=_0x33d724>_0x17ab7f;}return _0x125975?_0x43614e+'\x20('+_0x1ad9d0+')':_0x1ad9d0;};switch(_0x2ce66b){case'poll':try{let _0x3c0762=0x0;const _0x4534e6={};(_0x15ae71['options']||[])['forEach']((_0x45a452,_0x1fb652)=>{_0x4534e6[_0x1fb652]=0x0;}),_0x2e7143[_0x2d036b(0x5c9)](_0x2636b9=>{const _0x483410=_0x2d036b,_0x3625a7=(_0x2636b9[_0x483410(0x367)]||[])[_0x483410(0xa3d)](_0x3a3f5d=>_0x3a3f5d[_0x483410(0x907)]===_0x5a4dac);if(_0x3625a7&&_0x3625a7[_0x483410(0x43b)]!==null){const _0x39a555=parseInt(_0x3625a7['answer']);!isNaN(_0x39a555)&&_0x4534e6[_0x39a555]!==undefined&&(_0x4534e6[_0x39a555]++,_0x3c0762++);}});if(_0x3c0762===0x0){showMessage(_0x2d036b(0x963));return;}let _0x183ded=_0x2d036b(0x76f)+_0x3c0762+'\x20คน):\x0a\x0a';Object[_0x2d036b(0x915)](_0x4534e6)['forEach'](([_0x240523,_0x31e27b])=>{const _0x208305=_0x2d036b,_0x152eb9=_0x3c0762>0x0?(_0x31e27b/_0x3c0762*0x64)[_0x208305(0x643)](0x0):0x0,_0x287b2f=_0x208305(0x100)+(parseInt(_0x240523)+0x1);_0x183ded+=_0x287b2f+':\x20'+_0x31e27b+'\x20คน\x20('+_0x152eb9+_0x208305(0xc95);}),showMessage(_0x183ded);}catch(_0x301129){console[_0x2d036b(0x689)](_0x301129),showMessage(_0x2d036b(0x2a7));}break;case _0x2d036b(0x772):try{const _0x570e6f=_0x2e7143[_0x2d036b(0xc52)](_0x2ed5d9=>_0x2ed5d9[_0x2d036b(0x34b)]!==_0x20a5ed);if(_0x570e6f['length']===0x0){showMessage(_0x2d036b(0x65e)),handleRefundPowerup(_0x20a5ed,_0x2d036b(0x772));break;}let _0xfcb009=[];_0x570e6f['forEach'](_0xaab88a=>{const _0xa4d732=_0x2d036b,_0x186480=_0xaab88a[_0xa4d732(0x2aa)]||{};if((_0x186480[_0xa4d732(0x42a)]||0x0)>0x0||(_0x186480[_0xa4d732(0x281)]||0x0)>0x0){const _0x1f9cb6=_0x32e5e9(_0xaab88a);let _0x579dc3=[];if(_0x186480['poll']>0x0)_0x579dc3[_0xa4d732(0x298)]('📊');if(_0x186480[_0xa4d732(0x281)]>0x0)_0x579dc3[_0xa4d732(0x298)]('💰');_0xfcb009['push']('-\x20'+_0x1f9cb6+_0xa4d732(0x78a)+_0x579dc3[_0xa4d732(0x22e)](',\x20')+')');}}),showMessage(_0xfcb009[_0x2d036b(0x3d7)]>0x0?_0x2d036b(0x248)+_0xfcb009[_0x2d036b(0x22e)]('\x0a'):_0x2d036b(0x333));}catch(_0x19a8dd){console[_0x2d036b(0x689)](_0x19a8dd),handleRefundPowerup(_0x20a5ed,'strategyScan');}break;case _0x2d036b(0x1c7):case _0x2d036b(0x41c):const _0x252c2f=_0x2ce66b===_0x2d036b(0x1c7),_0x375b8b=_0x2e7143[_0x2d036b(0xc52)](_0x13d91e=>{const _0x8c7e70=_0x2d036b,_0x596861=(_0x13d91e['answers']||[])[_0x8c7e70(0xdc9)](_0x8940c8=>_0x8940c8['questionIndex']===_0x5a4dac);return _0x13d91e[_0x8c7e70(0x34b)]!==_0x20a5ed&&!_0x596861&&_0x13d91e[_0x8c7e70(0x127)]===_0x8c7e70(0x101);});if(_0x375b8b[_0x2d036b(0x3d7)]===0x0){showMessage(_0x2d036b(0x508)),sessionStorage[_0x2d036b(0x6dd)](_0x323d66),handleRefundPowerup(_0x20a5ed,_0x2ce66b);break;}const _0x1922fb=_0x375b8b[_0x2d036b(0x1b0)]((_0x8f96b9,_0x3d4f7f)=>({'index':_0x3d4f7f+0x1,'realName':_0x8f96b9[_0x2d036b(0x34b)],'displayName':_0x32e5e9(_0x8f96b9)})),_0x50cff0=_0x1922fb[_0x2d036b(0x1b0)](_0x45d7e4=>_0x45d7e4['index']+':\x20'+_0x45d7e4[_0x2d036b(0xaac)])[_0x2d036b(0x22e)]('\x0a'),_0x3d6c28=prompt(_0x2d036b(0x4b9)+(_0x252c2f?_0x2d036b(0x978):_0x2d036b(0x7df))+'\x22\x20(ใส่ตัวเลข):\x0a'+_0x50cff0),_0x23e573=parseInt(_0x3d6c28)-0x1;if(_0x23e573>=0x0&&_0x23e573<_0x1922fb[_0x2d036b(0x3d7)]){const _0x20fd93=_0x1922fb[_0x23e573];if(_0x252c2f)handleForceConfident(_0x20fd93[_0x2d036b(0x8ea)],_0x20fd93[_0x2d036b(0xaac)]);else handleApplyJinx(_0x20fd93['realName'],_0x20fd93[_0x2d036b(0xaac)]);}else showMessage(_0x2d036b(0x654)),sessionStorage['removeItem'](_0x323d66),handleRefundPowerup(_0x20a5ed,_0x2ce66b);break;case'insurance':showMessage(_0x2d036b(0xd62));break;case _0x2d036b(0x281):showMessage(_0x2d036b(0x4f1));break;case _0x2d036b(0x1c4):showMessage(_0x2d036b(0x9c1));break;case _0x2d036b(0x325):const _0x53b60b=(_0x418624['timerDuration']||0xf0)*0.25;showMessage(_0x2d036b(0x633)+_0x53b60b+_0x2d036b(0x479));break;case'cutOne':case _0x2d036b(0x873):const _0xb7d59f=document[_0x2d036b(0x77f)](_0x2d036b(0x222));if(_0xb7d59f[_0x2d036b(0x3d7)]===0x0){showMessage(_0x2d036b(0x656));return;}const _0x2a7de2=_0x2d036b(0x71a)+_0x5a4dac+'_p'+_0x20a5ed,_0x1c8780=JSON[_0x2d036b(0x97f)](sessionStorage[_0x2d036b(0x113)](_0x2a7de2)||'[]');let _0x4a7dfc;_0x4d22e6[_0x2d036b(0xa1a)]==='true_false'?_0x4a7dfc=String(_0x4d22e6[_0x2d036b(0xcdb)])[_0x2d036b(0x3c8)]()==='true'?0x0:0x1:_0x4a7dfc=_0x4d22e6[_0x2d036b(0xae6)];const _0x1da43e=Array[_0x2d036b(0x199)](_0xb7d59f)[_0x2d036b(0xc52)](_0x131514=>parseInt(_0x131514['dataset'][_0x2d036b(0x93c)])!==_0x4a7dfc&&!_0x1c8780[_0x2d036b(0xb28)](_0x131514[_0x2d036b(0xcba)]['value']));if(_0x1da43e[_0x2d036b(0x3d7)]===0x0){showMessage(_0x2d036b(0x8b5));return;}shuffleArray(_0x1da43e);let _0x5a152f=[..._0x1c8780];const _0x123986=_0x2ce66b===_0x2d036b(0x250)?0x1:0x2;for(let _0xe79239=0x0;_0xe79239<_0x123986;_0xe79239++){_0x1da43e[_0xe79239]&&(_0x1da43e[_0xe79239]['classList'][_0x2d036b(0x459)](_0x2d036b(0x4ad)),_0x5a152f[_0x2d036b(0x298)](_0x1da43e[_0xe79239]['dataset'][_0x2d036b(0x93c)]));}sessionStorage[_0x2d036b(0xd51)](_0x2a7de2,JSON[_0x2d036b(0x163)](_0x5a152f)),showMessage(_0x2ce66b===_0x2d036b(0x250)?_0x2d036b(0x645):_0x2d036b(0x7d2));break;default:showMessage('ใช้ไอเทม\x20'+_0x2ce66b+_0x2d036b(0x890));}}async function handleForceConfident(_0xfa7242,_0x2245b6){const _0x222a6e=_0x13d91b;if(!currentLiveGameId||!_0xfa7242)return;const _0xc696de=doc(db,_0x222a6e(0x54a)+appId+'/public/data/syncGames/'+currentLiveGameId+'/players',_0xfa7242);try{await updateDoc(_0xc696de,{'isForcedConfident':!![]}),showMessage('ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20'+_0x2245b6+_0x222a6e(0x592));}catch(_0x65ce36){console[_0x222a6e(0x689)](_0x222a6e(0x244),_0x65ce36),showMessage(_0x222a6e(0xd9b));}}async function handleRefundPowerup(_0x422524,_0x530538){const _0x480135=_0x13d91b,_0x1dbf73=doc(db,'artifacts/'+appId+_0x480135(0x259)+currentLiveGameId+'/players',_0x422524);try{const _0x25d317={};_0x25d317[_0x480135(0x9ef)+_0x530538]=increment(0x1),await updateDoc(_0x1dbf73,_0x25d317),console[_0x480135(0xcf6)](_0x480135(0x629)+_0x530538+_0x480135(0x9c0)+_0x422524);}catch(_0x33ad8d){console[_0x480135(0x689)](_0x480135(0x85e),_0x33ad8d);}}async function handleApplyJinx(_0x2ebaa6,_0x175ed1){const _0x2e95dc=_0x13d91b;if(!currentLiveGameId||!_0x2ebaa6)return;const _0x3b82bf=doc(db,_0x2e95dc(0x54a)+appId+_0x2e95dc(0x259)+currentLiveGameId+_0x2e95dc(0xc58),_0x2ebaa6);try{await updateDoc(_0x3b82bf,{'isJinxed':!![]}),showMessage(_0x2e95dc(0xb10)+_0x175ed1+_0x2e95dc(0x592));}catch(_0x608f7e){console[_0x2e95dc(0x689)](_0x2e95dc(0x827),_0x608f7e),showMessage(_0x2e95dc(0xd9b));}}function activateFileInputAreaWithLoadedFile(){const _0xe30128=_0x13d91b,_0x14c21f=document[_0xe30128(0x916)]('generate-from-file-btn'),_0x3f2c4d=document['getElementById']('file-topics-list-container'),_0x325805=document['getElementById'](_0xe30128(0xdb9));selectedFile?_0x325805[_0xe30128(0x7bc)]?(_0x14c21f[_0xe30128(0x426)]=!![],analyzeFileForTopics(selectedFile)):(_0x14c21f['disabled']=![],_0x3f2c4d[_0xe30128(0x734)][_0xe30128(0x459)]('hidden')):(_0x14c21f[_0xe30128(0x426)]=!![],_0x3f2c4d[_0xe30128(0x734)][_0xe30128(0x459)](_0xe30128(0x4ad)));}async function handleKickPlayerSync(_0x1f3010){const _0x188dc7=_0x13d91b;if(!currentLiveGameId||!_0x1f3010)return;const _0x291fb5=doc(db,_0x188dc7(0x54a)+appId+'/public/data/syncGames/'+currentLiveGameId+'/players',_0x1f3010);try{await updateDoc(_0x291fb5,{'status':_0x188dc7(0x949)});}catch(_0x57afdc){console[_0x188dc7(0x689)]('Failed\x20to\x20kick\x20player\x20'+_0x1f3010+':',_0x57afdc),showMessage(_0x188dc7(0x217));}}async function renderStudentProgressDashboard(_0x2bc1e1,_0x484b12){const _0x2e0076=_0x13d91b,_0x505f11=document['getElementById'](_0x2e0076(0x574));_0x505f11[_0x2e0076(0xbc4)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x5c1924=collection(db,_0x2e0076(0x54a)+appId+_0x2e0076(0xd20)),_0x388555=query(_0x5c1924,where(_0x2e0076(0x7a5),'==',_0x2bc1e1)),_0x490955=await getDocs(_0x388555),_0x119b94=_0x490955['docs'][_0x2e0076(0x1b0)](_0x5bd6fb=>({'id':_0x5bd6fb['id'],..._0x5bd6fb['data']()})),_0x51eab4=_0x119b94[_0x2e0076(0x1b0)](_0xa9ae37=>getDoc(doc(db,_0x2e0076(0x54a)+appId+'/public/data/quizzes/'+_0xa9ae37['id']+_0x2e0076(0xcae),_0x484b12))),_0x571d3e=await Promise[_0x2e0076(0x1e8)](_0x51eab4),_0x141e35=_0x571d3e[_0x2e0076(0xc52)](_0xb7f779=>_0xb7f779[_0x2e0076(0x5fd)]())[_0x2e0076(0x1b0)](_0x51c24c=>({'quizId':_0x51c24c['ref'][_0x2e0076(0x9ac)][_0x2e0076(0x9ac)]['id'],..._0x51c24c[_0x2e0076(0xaf3)]()}));if(_0x141e35[_0x2e0076(0x3d7)]===0x0){_0x505f11[_0x2e0076(0xbc4)]=_0x2e0076(0x432);return;}let _0x5f5cef=_0x2e0076(0xd43);_0x141e35[_0x2e0076(0x5c9)](_0x1d5929=>{const _0x54dd74=_0x2e0076,_0x1ac69b=_0x119b94['find'](_0x137fee=>_0x137fee['id']===_0x1d5929[_0x54dd74(0xbc0)]),_0x55688a=_0x1ac69b[_0x54dd74(0xc10)]?.[_0x54dd74(0x147)]||'show_results_and_answers',_0x324e50=_0x1ac69b['settings']?.[_0x54dd74(0x423)]??0x0,_0x2a4809=_0x1d5929['bestScore']>=_0x324e50;let _0x1009e2='',_0x15292f=_0x54dd74(0xafc);switch(_0x55688a){case _0x54dd74(0x501):case _0x54dd74(0x135):_0x15292f=_0x2a4809?_0x54dd74(0x45d):_0x54dd74(0x648),_0x1009e2=_0x54dd74(0x6f9)+(_0x2a4809?'text-green-700':'text-red-700')+'\x22>'+_0x1d5929[_0x54dd74(0xad6)]+_0x54dd74(0x62d)+_0x1d5929['totalQuestions']+_0x54dd74(0xcd2)+(_0x2a4809?_0x54dd74(0x7af):_0x54dd74(0xdfd))+'\x22>'+(_0x2a4809?_0x54dd74(0xb38):_0x54dd74(0x4dc))+_0x54dd74(0xa59);break;case _0x54dd74(0xca5):_0x15292f=_0x2a4809?_0x54dd74(0x45d):_0x54dd74(0x648),_0x1009e2=_0x54dd74(0x73c)+(_0x2a4809?_0x54dd74(0x7af):_0x54dd74(0xdfd))+'\x22>'+(_0x2a4809?'ผ่าน':_0x54dd74(0x4dc))+_0x54dd74(0xa59);break;case _0x54dd74(0x528):_0x15292f=_0x54dd74(0x105),_0x1009e2=_0x54dd74(0xc32);break;}_0x5f5cef+=_0x54dd74(0x311)+_0x15292f+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x1ac69b[_0x54dd74(0xdf4)]+_0x54dd74(0x249)+_0x1d5929[_0x54dd74(0x641)]['length']+_0x54dd74(0xb1b)+new Date(_0x1d5929[_0x54dd74(0xcd3)])[_0x54dd74(0x5ef)]('th-TH')+_0x54dd74(0xd88)+_0x1009e2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5f5cef+=_0x2e0076(0xa4f),_0x505f11[_0x2e0076(0xbc4)]=_0x5f5cef;}catch(_0x5bed21){console[_0x2e0076(0x689)]('Error\x20rendering\x20student\x20progress:',_0x5bed21),_0x505f11[_0x2e0076(0xbc4)]='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function renderQuizBankListForMultiSelect(_0x1d97ac=''){const _0x4b6f73=_0x13d91b,_0xc45cbe=document[_0x4b6f73(0x916)](_0x4b6f73(0x213)),_0x2525dd=_0x1d97ac['toLowerCase']()['trim'](),_0x416f81=allQuizzesGlobal[_0x4b6f73(0x1b0)](_0x2414e4=>({..._0x2414e4,'projectName':allProjects[_0x4b6f73(0xa3d)](_0x2485a2=>_0x2485a2['id']===_0x2414e4[_0x4b6f73(0x7a5)])?.[_0x4b6f73(0xe04)]||_0x4b6f73(0x642)}))[_0x4b6f73(0xc52)](_0x480b7f=>(_0x480b7f['topic']||'')[_0x4b6f73(0x3c8)]()[_0x4b6f73(0xb28)](_0x2525dd)||(_0x480b7f[_0x4b6f73(0xe04)]||'')[_0x4b6f73(0x3c8)]()[_0x4b6f73(0xb28)](_0x2525dd)||_0x480b7f['id'][_0x4b6f73(0xda1)]()[_0x4b6f73(0xb28)](_0x2525dd));_0xc45cbe[_0x4b6f73(0xbc4)]=_0x416f81[_0x4b6f73(0x3d7)]?_0x416f81[_0x4b6f73(0x1b0)](_0x49ceb3=>_0x4b6f73(0x2e1)+_0x49ceb3['id']+'\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x49ceb3[_0x4b6f73(0xdf4)]||_0x4b6f73(0xac9))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x49ceb3[_0x4b6f73(0xe04)]+_0x4b6f73(0x1f3)+_0x49ceb3['id']+_0x4b6f73(0x973))[_0x4b6f73(0x22e)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0xc45cbe[_0x4b6f73(0x59f)]=()=>{const _0x2e0941=_0x4b6f73,_0x2c646f=document[_0x2e0941(0x7f4)]('.quiz-bank-checkbox:checked');document[_0x2e0941(0x916)](_0x2e0941(0x990))[_0x2e0941(0x426)]=!_0x2c646f;};}function setupStudentProgressListeners(){const _0x38ee8a=_0x13d91b;document['getElementById'](_0x38ee8a(0x956))['addEventListener'](_0x38ee8a(0xab7),showStudentProgressView),document[_0x38ee8a(0x916)]('back-to-student-home-btn')[_0x38ee8a(0xc2d)](_0x38ee8a(0xab7),()=>{const _0x2077e5=_0x38ee8a;document[_0x2077e5(0x916)](_0x2077e5(0x838))[_0x2077e5(0x734)][_0x2077e5(0x459)](_0x2077e5(0x4ad)),document['getElementById'](_0x2077e5(0x40e))['classList']['remove'](_0x2077e5(0x4ad));});}async function startSkillPractice(_0x4b2d2c){const _0x155073=_0x13d91b;studentResultArea['classList'][_0x155073(0x459)]('hidden'),studentQuizArea[_0x155073(0xbc4)]=_0x155073(0x263),studentQuizArea[_0x155073(0x734)][_0x155073(0x5cf)]('hidden');try{const _0x5f0647=await getStandardizedTopic(_0x4b2d2c);console['log'](_0x155073(0xd5b)+_0x4b2d2c+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x5f0647+'\x22'),studentQuizArea[_0x155073(0x7f4)]('p')[_0x155073(0xd9d)]=_0x155073(0x967)+_0x5f0647+_0x155073(0xabc);const _0x3c2e62=collection(db,_0x155073(0x54a)+appId+'/public/data/practiceBank'),_0x1e7d94=query(_0x3c2e62,where(_0x155073(0xdf4),'==',_0x5f0647)),_0x36e84b=await getDocs(_0x1e7d94);if(_0x36e84b[_0x155073(0x1fb)][_0x155073(0x3d7)]>=0x3){console[_0x155073(0xcf6)](_0x155073(0x28e)+_0x36e84b['docs'][_0x155073(0x3d7)]+_0x155073(0x4a7)+_0x5f0647+_0x155073(0x442));let _0x3b3f13=_0x36e84b[_0x155073(0x1fb)][_0x155073(0x1b0)](_0x24d403=>_0x24d403[_0x155073(0xaf3)]());shuffleArray(_0x3b3f13);const _0x43e201={'topic':_0x5f0647,'questions':_0x3b3f13[_0x155073(0x3e6)](0x0,0x3)};displaySkillPracticeDrill(_0x43e201);}else{console[_0x155073(0xcf6)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x5f0647+_0x155073(0xc81));const _0xee506b=await generatePracticeQuestions(_0x5f0647);await saveDrillToPracticeBank(_0xee506b,_0x5f0647),displaySkillPracticeDrill(_0xee506b);}}catch(_0x48d13){console['error']('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x48d13),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea[_0x155073(0x734)][_0x155073(0x459)](_0x155073(0x4ad)),studentResultArea[_0x155073(0x734)][_0x155073(0x5cf)](_0x155073(0x4ad));}}async function saveDrillToPracticeBank(_0x34e9ec,_0x875c0e){const _0x309320=_0x13d91b,_0x501e18=collection(db,_0x309320(0x54a)+appId+_0x309320(0x782)),_0xc29fd3=writeBatch(db);_0x34e9ec[_0x309320(0x87f)]['forEach'](_0x5cfd1e=>{const _0x28ecb1=_0x309320,_0x5a5145=doc(_0x501e18);_0xc29fd3['set'](_0x5a5145,{'topic':_0x875c0e,'questionText':_0x5cfd1e[_0x28ecb1(0xa35)],'options':_0x5cfd1e['options'],'correctAnswerIndex':_0x5cfd1e['correctAnswerIndex'],'explanation':_0x5cfd1e[_0x28ecb1(0x51a)],'createdAt':serverTimestamp()});});try{await _0xc29fd3[_0x309320(0x1cc)](),console['log'](_0x309320(0xa94)+_0x34e9ec[_0x309320(0x87f)][_0x309320(0x3d7)]+_0x309320(0x9f6));}catch(_0x1eb1b2){console[_0x309320(0x689)]('Error\x20saving\x20questions\x20to\x20practice\x20bank:',_0x1eb1b2);}}async function getStandardizedTopic(_0x4211ee){const _0x463bee=_0x13d91b,_0x18298d=_0x463bee(0x9c7)+_0x4211ee+_0x463bee(0x157),_0x34cf43={'type':_0x463bee(0xd0d),'properties':{'standardTopic':{'type':_0x463bee(0x330)}},'required':[_0x463bee(0x6de)]};try{const _0x1e3134=await callAnalysisApi(_0x18298d,_0x34cf43);return _0x1e3134[_0x463bee(0x6de)];}catch(_0x2860a3){return console[_0x463bee(0x689)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x2860a3),_0x4211ee;}}async function handleGenerateEasyVersionQuiz(_0x219939){const _0xbd968c=_0x13d91b,_0x2644a8=document[_0xbd968c(0x916)](_0xbd968c(0x745)),_0x5de6bc=document[_0xbd968c(0x916)](_0xbd968c(0x5d8));_0x5de6bc[_0xbd968c(0x734)][_0xbd968c(0x459)](_0xbd968c(0x4ad));const _0x40d383='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x2644a8[_0xbd968c(0x9b6)]('beforeend',_0x40d383);try{const _0x7e88db=allQuizzes[_0xbd968c(0xa3d)](_0x4e065c=>_0x4e065c['id']===_0x219939);if(!_0x7e88db)throw new Error(_0xbd968c(0x3ac));const _0x5b9ac9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON[_0xbd968c(0x163)](_0x7e88db[_0xbd968c(0x87f)])+_0xbd968c(0x96e),_0xb2273f={'type':_0xbd968c(0xd0d),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING'},'options':{'type':_0xbd968c(0x33c),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0xbd968c(0x90b)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0xbd968c(0xa35),'questionType','explanation']},_0xbfb665={'type':_0xbd968c(0xd0d),'properties':{'questions':{'type':_0xbd968c(0x33c),'items':_0xb2273f}},'required':[_0xbd968c(0x87f)]},_0x395bad=await callAnalysisApi(_0x5b9ac9,_0xbfb665);_0x395bad&&_0x395bad[_0xbd968c(0x87f)]&&_0x395bad[_0xbd968c(0x87f)][_0xbd968c(0x5c9)](_0x246e78=>{const _0x36048e=_0xbd968c;if(_0x246e78[_0x36048e(0x7ab)](_0x36048e(0x6d6))){const _0x202f1f=String(_0x246e78[_0x36048e(0x6d6)])[_0x36048e(0x1a0)]();(_0x202f1f===''||_0x202f1f[_0x36048e(0x3c8)]()===_0x36048e(0xcc6)||!_0x202f1f[_0x36048e(0x9cd)](_0x36048e(0x966)))&&delete _0x246e78['imageCode'];}});if(!_0x395bad||!_0x395bad[_0xbd968c(0x87f)]||_0x395bad[_0xbd968c(0x87f)][_0xbd968c(0x3d7)]===0x0)throw new Error(_0xbd968c(0x356));const _0x34daab=_0x395bad[_0xbd968c(0x87f)]['map']((_0x1330b4,_0x3d1f27)=>({..._0x1330b4,'id':'q_'+Date[_0xbd968c(0x60e)]()+'_'+_0x3d1f27})),_0x820ddf={'projectId':_0x7e88db['projectId'],'quizType':_0x7e88db[_0xbd968c(0x9b1)],'settings':_0x7e88db[_0xbd968c(0xc10)],'createdBy':_0x7e88db['createdBy'],'status':_0xbd968c(0x101),'topic':_0xbd968c(0x17d)+_0x7e88db[_0xbd968c(0xdf4)],'questions':_0x34daab,'createdAt':new Date()[_0xbd968c(0x700)](),'quizMode':_0xbd968c(0xa08),'pairedQuizId':null};let _0x54273e;while(!![]){_0x54273e=Math[_0xbd968c(0x8e9)](0x3e8+Math[_0xbd968c(0x29d)]()*0x2328)[_0xbd968c(0xda1)]();const _0x13d941=await getDoc(doc(db,'artifacts/'+appId+_0xbd968c(0xd20),_0x54273e));if(!_0x13d941[_0xbd968c(0x5fd)]())break;}await setDoc(doc(db,_0xbd968c(0x54a)+appId+'/public/data/quizzes',_0x54273e),_0x820ddf),showMessage(_0xbd968c(0x1c9));}catch(_0x460be2){console[_0xbd968c(0x689)](_0xbd968c(0x5ab),_0x460be2),showMessage(_0xbd968c(0x96c)+_0x460be2[_0xbd968c(0xbd0)]);}finally{const _0x389083=document[_0xbd968c(0x916)](_0xbd968c(0x8fb));_0x389083&&_0x389083[_0xbd968c(0x5cf)](),_0x5de6bc[_0xbd968c(0x734)][_0xbd968c(0x5cf)]('hidden');}}async function generatePracticeQuestions(_0x116b05){const _0x7ca440=_0x13d91b,_0x53cdbb=_0x7ca440(0xc44)+_0x116b05+_0x7ca440(0x10a)+simpleMathPrompt+_0x7ca440(0x2d8),_0x424104={'type':_0x7ca440(0xd0d),'properties':{'questionText':{'type':_0x7ca440(0x330)},'options':{'type':_0x7ca440(0x33c),'items':{'type':_0x7ca440(0x330)}},'correctAnswerIndex':{'type':_0x7ca440(0x90b)},'explanation':{'type':_0x7ca440(0x330)}},'required':[_0x7ca440(0xa35),_0x7ca440(0x238),_0x7ca440(0xae6),_0x7ca440(0x51a)]},_0x38a2b8={'type':_0x7ca440(0xd0d),'properties':{'topic':{'type':_0x7ca440(0x330)},'questions':{'type':_0x7ca440(0x33c),'items':_0x424104}},'required':[_0x7ca440(0xdf4),'questions']};return await callAnalysisApi(_0x53cdbb,_0x38a2b8);}function displayLessonPlan(_0x4749d6,_0x563805){const _0x16cb09=_0x13d91b,_0x36ca2d=_0x16cb09(0x46a)+_0x563805[_0x16cb09(0xdf4)]+_0x16cb09(0x6d5)+_0x4749d6[_0x16cb09(0x33e)][_0x16cb09(0x1b0)](_0x89d4c2=>_0x16cb09(0x6b7)+_0x89d4c2+_0x16cb09(0x86d))[_0x16cb09(0x22e)]('')+_0x16cb09(0x181)+_0x4749d6[_0x16cb09(0xa42)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x4749d6[_0x16cb09(0x52e)][_0x16cb09(0x1b0)](_0x308a47=>_0x16cb09(0x2b6)+_0x308a47[_0x16cb09(0x512)]+_0x16cb09(0xa3b)+_0x308a47[_0x16cb09(0xd92)]+_0x16cb09(0x578))['join']('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document['getElementById']('lesson-plan-title')[_0x16cb09(0xd9d)]=_0x16cb09(0xa72)+_0x563805['topic'],document[_0x16cb09(0x916)](_0x16cb09(0xbf4))[_0x16cb09(0xbc4)]=_0x36ca2d,document[_0x16cb09(0x916)](_0x16cb09(0xafb))[_0x16cb09(0x734)][_0x16cb09(0x5cf)](_0x16cb09(0x4ad));if(window['MathJax'])MathJax[_0x16cb09(0x1cd)]();}function displaySkillPracticeDrill(_0x5adfe5){const _0x2b521e=_0x13d91b;let _0xa8390b=0x0;const _0x42b360=_0x5adfe5[_0x2b521e(0x87f)],_0x361dab=()=>{const _0x18f76b=_0x2b521e,_0x4dc588=_0x42b360[_0xa8390b],_0x5805a0=_0x18f76b(0x5f0)+(_0xa8390b+0x1)+_0x18f76b(0x62d)+_0x42b360[_0x18f76b(0x3d7)]+_0x18f76b(0x355)+_0x4dc588[_0x18f76b(0xa35)]+_0x18f76b(0x8fa)+_0x4dc588['options'][_0x18f76b(0x1b0)]((_0x991e15,_0x4506ab)=>_0x18f76b(0x6ce)+_0x4506ab+_0x18f76b(0x63b)+_0x4506ab+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x4506ab+'\x22>'+_0x991e15+_0x18f76b(0x661))['join']('')+_0x18f76b(0xddd);studentQuizArea[_0x18f76b(0xbc4)]=_0x5805a0;if(window['MathJax'])MathJax[_0x18f76b(0x1cd)]([studentQuizArea]);document[_0x18f76b(0x916)]('hint-btn')['addEventListener'](_0x18f76b(0xab7),async()=>{const _0x3c0110=_0x18f76b,_0x301e25=await getHintForQuestion(_0x4dc588[_0x3c0110(0xa35)]);showMessage(_0x301e25);}),document[_0x18f76b(0x916)](_0x18f76b(0x5d0))[_0x18f76b(0xc2d)](_0x18f76b(0xab7),()=>{const _0x41f179=_0x18f76b,_0x193093=document[_0x41f179(0x7f4)]('input[name=\x22drill_answer\x22]:checked');if(!_0x193093){showMessage(_0x41f179(0x4dd));return;}const _0x3c02ce=document['getElementById']('drill-feedback'),_0xa7be73=parseInt(_0x193093[_0x41f179(0x93c)])===_0x4dc588['correctAnswerIndex'];_0xa7be73?(_0x3c02ce[_0x41f179(0x170)]=_0x41f179(0x1c2),_0x3c02ce[_0x41f179(0xbc4)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x4dc588[_0x41f179(0x51a)]):(_0x3c02ce[_0x41f179(0x170)]=_0x41f179(0xb83),_0x3c02ce[_0x41f179(0xbc4)]=_0x41f179(0x134)+_0x4dc588[_0x41f179(0x51a)]);_0x3c02ce['classList'][_0x41f179(0x5cf)](_0x41f179(0x4ad));if(window['MathJax'])MathJax[_0x41f179(0x1cd)]([_0x3c02ce]);document['getElementById']('check-answer-btn')[_0x41f179(0x734)][_0x41f179(0x459)](_0x41f179(0x4ad)),document['getElementById'](_0x41f179(0x353))[_0x41f179(0x734)][_0x41f179(0x459)](_0x41f179(0x4ad)),document[_0x41f179(0x916)](_0x41f179(0x992))['classList']['remove'](_0x41f179(0x4ad));}),document[_0x18f76b(0x916)](_0x18f76b(0x992))['addEventListener'](_0x18f76b(0xab7),()=>{const _0xa0eb88=_0x18f76b;_0xa8390b++,_0xa8390b<_0x42b360[_0xa0eb88(0x3d7)]?_0x361dab():(studentQuizArea['innerHTML']=_0xa0eb88(0x943),document['getElementById'](_0xa0eb88(0xdf9))[_0xa0eb88(0xc2d)](_0xa0eb88(0xab7),()=>{const _0x2aae5c=_0xa0eb88;studentQuizArea[_0x2aae5c(0x734)][_0x2aae5c(0x459)](_0x2aae5c(0x4ad)),studentResultArea[_0x2aae5c(0x734)][_0x2aae5c(0x5cf)](_0x2aae5c(0x4ad));}));});};_0x361dab();}async function getHintForQuestion(_0x19a1c0){const _0x39a23c=_0x13d91b,_0x136a15='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x19a1c0+_0x39a23c(0xab8),_0x230d17={'type':_0x39a23c(0xd0d),'properties':{'hint':{'type':_0x39a23c(0x330)}},'required':['hint']};try{const _0x2277e0=await callAnalysisApi(_0x136a15,_0x230d17);return _0x2277e0[_0x39a23c(0x4a9)];}catch(_0x540d35){return console[_0x39a23c(0x689)](_0x39a23c(0x75f),_0x540d35),_0x39a23c(0xd1e);}}async function extractTextFromPdf(_0x9a9a71){const _0x5a36fa=_0x13d91b;pdfjsLib[_0x5a36fa(0x71e)][_0x5a36fa(0x870)]=_0x5a36fa(0x6ad);const _0x3fbd84=await _0x9a9a71[_0x5a36fa(0x81c)](),_0x1013b9=await pdfjsLib['getDocument'](_0x3fbd84)[_0x5a36fa(0x4a8)],_0x4f4098=_0x1013b9['numPages'];let _0x5a37ec='';for(let _0x32c3e1=0x1;_0x32c3e1<=_0x4f4098;_0x32c3e1++){const _0x330e74=await _0x1013b9[_0x5a36fa(0xbf3)](_0x32c3e1),_0xbaba4e=await _0x330e74['getTextContent'](),_0x5d71fa=_0xbaba4e[_0x5a36fa(0xa55)]['map'](_0xe8c4ce=>_0xe8c4ce[_0x5a36fa(0xc39)])['join']('\x20');_0x5a37ec+=_0x5d71fa+'\x0a\x0a';}return _0x5a37ec;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x5860fe){const _0xe501a5=_0x13d91b,_0x254840=document['getElementById'](_0xe501a5(0xc45)),_0x302704=document[_0xe501a5(0x916)]('blueprint-topics-list'),_0x3d7197=document[_0xe501a5(0x916)](_0xe501a5(0xc29));_0x254840[_0xe501a5(0x734)]['remove'](_0xe501a5(0x4ad)),_0x302704[_0xe501a5(0xbc4)]=_0xe501a5(0x454),_0x3d7197[_0xe501a5(0x734)][_0xe501a5(0x459)](_0xe501a5(0x4ad));try{const _0x1ffb38=_0xe501a5(0x215)+_0x5860fe+_0xe501a5(0x1ed),_0x3ce9a0={'type':_0xe501a5(0xd0d),'properties':{'gradeLevel':{'type':_0xe501a5(0x330)},'curriculum':{'type':_0xe501a5(0x33c),'items':{'type':'OBJECT','properties':{'sara':{'type':_0xe501a5(0x330)},'mainTopics':{'type':'ARRAY','items':{'type':_0xe501a5(0xd0d),'properties':{'topicName':{'type':_0xe501a5(0x330)},'subTopics':{'type':_0xe501a5(0x33c),'items':{'type':'STRING'}}},'required':[_0xe501a5(0x8ff),'subTopics']}}},'required':['sara',_0xe501a5(0xa33)]}}},'required':[_0xe501a5(0x544),_0xe501a5(0x77d)]},_0x4446df=await callAnalysisApi(_0x1ffb38,_0x3ce9a0);if(_0x4446df&&_0x4446df[_0xe501a5(0x77d)])extractedBlueprintData=_0x4446df,renderBlueprintTopics(_0x4446df),_0x3d7197[_0xe501a5(0x734)][_0xe501a5(0x5cf)](_0xe501a5(0x4ad));else throw new Error(_0xe501a5(0x89f));}catch(_0x329942){console['error'](_0xe501a5(0x82f),_0x329942),_0x302704[_0xe501a5(0xbc4)]=_0xe501a5(0x407);}}function renderBlueprintTopics(_0x19522b){const _0x55a211=_0x13d91b,_0x55415b=document[_0x55a211(0x916)]('blueprint-topics-list'),_0x4043e2=_0x19522b[_0x55a211(0x544)],_0x5df01d='<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20'+_0x4043e2+'</h3>';let _0x53bf95='';_0x19522b[_0x55a211(0x77d)][_0x55a211(0x5c9)](_0x4370a0=>{const _0x1d688e=_0x55a211;_0x53bf95+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x4370a0[_0x1d688e(0xde8)]+_0x1d688e(0xba2),_0x4370a0[_0x1d688e(0xa33)][_0x1d688e(0x5c9)](_0x7c1724=>{const _0x18cd06=_0x1d688e;_0x53bf95+=_0x18cd06(0xb96)+_0x7c1724[_0x18cd06(0x8ff)]+_0x18cd06(0x923),_0x7c1724[_0x18cd06(0x506)][_0x18cd06(0x5c9)](_0x295bdc=>{const _0x46666b=_0x18cd06;_0x53bf95+=_0x46666b(0x45e)+_0x295bdc['replace'](/'/g,'\x5c\x27')+'\x27,\x20\x27'+_0x4043e2[_0x46666b(0xdb5)](/'/g,'\x5c\x27')+_0x46666b(0xa9b)+_0x295bdc+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x295bdc[_0x46666b(0xdb5)](/'/g,'\x5c\x27')+_0x46666b(0x4e3);}),_0x53bf95+='</div></div>';}),_0x53bf95+=_0x1d688e(0xa4f);}),_0x55415b[_0x55a211(0xbc4)]=_0x5df01d+_0x53bf95;}async function handleGenerateTeachingContent(_0x2a88f5){const _0x1edd41=_0x13d91b,_0xb50257=document[_0x1edd41(0x916)]('lesson-plan-modal'),_0x842c42=document[_0x1edd41(0x916)]('lesson-plan-content');document['getElementById'](_0x1edd41(0x919))[_0x1edd41(0xd9d)]=_0x1edd41(0x6f7)+_0x2a88f5,_0x842c42['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0xb50257[_0x1edd41(0x734)][_0x1edd41(0x5cf)](_0x1edd41(0x4ad));try{const _0x5b8ae0=_0x1edd41(0x484)+_0x2a88f5+_0x1edd41(0x89d),_0x5ced76={'type':'OBJECT','properties':{'keyConcepts':{'type':'ARRAY','items':{'type':'STRING'}},'commonMistakes':{'type':_0x1edd41(0x33c),'items':{'type':_0x1edd41(0x330)}},'stepByStepExamples':{'type':'ARRAY','items':{'type':_0x1edd41(0xd0d),'properties':{'question':{'type':_0x1edd41(0x330)},'solution':{'type':_0x1edd41(0x330)}},'required':[_0x1edd41(0x512),_0x1edd41(0xd92)]}},'teacherTips':{'type':'ARRAY','items':{'type':'STRING'}}},'required':[_0x1edd41(0xbdc),_0x1edd41(0xb74),'stepByStepExamples',_0x1edd41(0x89a)]},_0x38fc07=await callAnalysisApi(_0x5b8ae0,_0x5ced76);displayTeachingContent(_0x38fc07,_0x2a88f5);}catch(_0x3a5b58){console[_0x1edd41(0x689)]('Error\x20generating\x20teaching\x20content:',_0x3a5b58),_0x842c42['innerHTML']=_0x1edd41(0x7c2)+_0x3a5b58['message']+_0x1edd41(0x6b4);}}function displayTeachingContent(_0x27ccab,_0x8cc849){const _0x3250b9=_0x13d91b,_0x5b3761=document[_0x3250b9(0x916)](_0x3250b9(0xbf4));document[_0x3250b9(0x916)]('lesson-plan-title')[_0x3250b9(0xd9d)]=_0x3250b9(0x3d3)+_0x8cc849;const _0x445e11=_0x3250b9(0x237)+_0x27ccab[_0x3250b9(0xbdc)][_0x3250b9(0x1b0)](_0x1bb382=>_0x3250b9(0x6b7)+_0x1bb382+'</li>')['join']('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x27ccab[_0x3250b9(0xb74)]['map'](_0x173792=>_0x3250b9(0x6b7)+_0x173792+_0x3250b9(0x86d))[_0x3250b9(0x22e)]('')+_0x3250b9(0x84b)+_0x27ccab['stepByStepExamples'][_0x3250b9(0x1b0)](_0x4b332c=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x4b332c[_0x3250b9(0x512)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>'+_0x4b332c[_0x3250b9(0xd92)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3250b9(0x22e)]('')+_0x3250b9(0x986)+_0x27ccab['teacherTips']['map'](_0x116184=>_0x3250b9(0x6b7)+_0x116184+_0x3250b9(0x86d))[_0x3250b9(0x22e)]('')+_0x3250b9(0xb8b);_0x5b3761[_0x3250b9(0xbc4)]=_0x445e11;if(window[_0x3250b9(0xcaf)])MathJax['typesetPromise']([_0x5b3761]);}async function generateQuizForSingleTopic(_0x5934b6){const _0x1b8708=_0x13d91b;console[_0x1b8708(0xcf6)](_0x1b8708(0x7fb)+_0x5934b6+'\x22');const _0x32690d=document['getElementById'](_0x1b8708(0x66b)),_0x50d1c1=_0x32690d[_0x1b8708(0xda0)]['length']>0x0?_0x32690d[_0x1b8708(0xda0)][0x0]:null;let _0x566e0a=null;if(_0x50d1c1)try{const _0x4d6c52=new FileReader();_0x4d6c52[_0x1b8708(0xdd6)](_0x50d1c1);const _0x2c1b6f=await new Promise((_0x5dca69,_0x1095e7)=>{const _0x5cf269=_0x1b8708;_0x4d6c52['onload']=()=>_0x5dca69(_0x4d6c52[_0x5cf269(0xb68)][_0x5cf269(0xbba)](',')[0x1]),_0x4d6c52[_0x5cf269(0x4e2)]=_0x5874bc=>_0x1095e7(_0x5874bc);});_0x566e0a=[{'inlineData':{'mimeType':_0x50d1c1[_0x1b8708(0x5e3)],'data':_0x2c1b6f}}];}catch(_0x37cb19){console[_0x1b8708(0x689)](_0x1b8708(0xb6f),_0x37cb19),showMessage(_0x1b8708(0x9e0));return;}generateQuiz(_0x5934b6,null,null,_0x566e0a,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x3a6ca8=null){const _0x595a96=_0x13d91b,_0x4fdd2a=document[_0x595a96(0x916)]('loader'),_0x364537=document[_0x595a96(0x916)](_0x595a96(0xae9));let _0x849e55,_0x59b414=[];if(_0x3a6ca8)_0x849e55=_0x3a6ca8,_0x59b414=_0x849e55[_0x595a96(0x3e6)](0x2);else{const _0x3a7f22=document[_0x595a96(0x916)](_0x595a96(0x638)),_0x3c821e=document[_0x595a96(0x916)](_0x595a96(0x66b)),_0x206bd1=_0x3a7f22[_0x595a96(0xda0)][0x0];if(!_0x206bd1){showMessage(_0x595a96(0x410));return;}_0x364537[_0x595a96(0xd9d)]=_0x595a96(0x7c5);const _0x1077a6=await new Promise((_0x2e08c8,_0x2e0b91)=>{const _0x390b3c=_0x595a96,_0x1a2a52=new FileReader();_0x1a2a52[_0x390b3c(0xdd6)](_0x206bd1),_0x1a2a52[_0x390b3c(0x766)]=()=>_0x2e08c8(_0x1a2a52[_0x390b3c(0xb68)]['split'](',')[0x1]),_0x1a2a52['onerror']=_0x2e0b91;});_0x849e55=[{'text':_0x595a96(0x2b3)},{'inlineData':{'mimeType':_0x206bd1[_0x595a96(0x5e3)],'data':_0x1077a6}}];if(_0x3c821e[_0x595a96(0xda0)][_0x595a96(0x3d7)]>0x0){const _0x916265=_0x3c821e[_0x595a96(0xda0)][0x0];_0x364537[_0x595a96(0xd9d)]=_0x595a96(0x84e);const _0x29f683=await new Promise((_0x1e99a6,_0x22c4c8)=>{const _0x4e30fd=_0x595a96,_0x2d93ea=new FileReader();_0x2d93ea[_0x4e30fd(0xdd6)](_0x916265),_0x2d93ea[_0x4e30fd(0x766)]=()=>_0x1e99a6(_0x2d93ea[_0x4e30fd(0xb68)][_0x4e30fd(0xbba)](',')[0x1]),_0x2d93ea[_0x4e30fd(0x4e2)]=_0x22c4c8;}),_0x540528={'inlineData':{'mimeType':_0x916265[_0x595a96(0x5e3)],'data':_0x29f683}};_0x849e55['push'](_0x540528),_0x59b414[_0x595a96(0x298)](_0x540528);}}const _0x14e54a='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a',_0x54595c=_0x595a96(0x7a4);let _0x177de6='';_0x59b414&&_0x59b414[_0x595a96(0x3d7)]>0x0?_0x177de6=_0x14e54a:_0x177de6=_0x54595c;const _0x2d1e3b=_0x595a96(0x743)+_0x177de6+_0x595a96(0x75b),_0x393539={'type':_0x595a96(0xd0d),'properties':{'questionText':{'type':_0x595a96(0x330)},'questionType':{'type':_0x595a96(0x330),'enum':['multiple_choice',_0x595a96(0x21b),'true_false',_0x595a96(0x416)]},'options':{'type':_0x595a96(0x33c),'items':{'type':_0x595a96(0x330)}},'correctAnswerIndex':{'type':_0x595a96(0x90b)},'idealAnswer':{'type':_0x595a96(0x330)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x595a96(0x330)}},'required':[_0x595a96(0xa1a),_0x595a96(0x51a)]},_0x565a83={'type':_0x595a96(0xd0d),'properties':{'topic':{'type':_0x595a96(0x330)},'questions':{'type':_0x595a96(0x33c),'items':_0x393539}},'required':[_0x595a96(0xdf4),_0x595a96(0x87f)]};_0x849e55[0x0]['text']=_0x2d1e3b,await handleApiCall(_0x849e55,'AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...',_0x565a83);}function proceedToNextQuestion(_0x1c1d65){const _0x413140=_0x13d91b;studentAnswersPerQuestion[_0x413140(0x298)](_0x1c1d65),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x413140(0x87f)][_0x413140(0x3d7)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function renderAdminSyncDashboard(_0x4affaa,_0x3208b8,_0x1506f5){const _0x498251=_0x13d91b,_0xbd9fa8=Object[_0x498251(0x3ff)](_0x4affaa['players']||{}),_0x1a0e72=_0xbd9fa8[_0x498251(0x3d7)],_0xe31a91=_0x1506f5,_0x2dc05c=_0x4affaa[_0x498251(0x5c1)]||_0x498251(0x34a),_0x24161a=_0x2dc05c===_0x498251(0x1a3)||_0x2dc05c===_0x498251(0x51b),_0x4855db=_0x2dc05c==='reveal_at_end'||_0x2dc05c==='anonymous_reveal_end',_0x50a0f8=_0x4affaa[_0x498251(0xcf9)]===!![],_0x188cf6=_0x2dc05c===_0x498251(0x4e5),_0x5c5ef6=_0x4affaa[_0x498251(0x571)][_0x498251(0x87f)],_0x30df38=_0x5c5ef6[_0xe31a91],_0x2192eb=_0x271362=>String['fromCharCode'](0x41+_0x271362),_0x30d03a=_0xbd9fa8[_0x498251(0x1b0)](_0x39b8e2=>{const _0x26a874=_0x498251,_0x10d08c=(_0x39b8e2[_0x26a874(0x367)]||[])[_0x26a874(0xc52)](_0x118e8f=>{const _0xb813be=_0x26a874;if(_0x4855db)return _0x118e8f[_0xb813be(0x907)]<=_0xe31a91;return!![];});let _0x4bc9db=0x0,_0x582776=0x0;return _0x4855db?(_0x4bc9db=_0x10d08c['filter'](_0x56760a=>_0x56760a[_0x26a874(0x832)])[_0x26a874(0x3d7)],_0x582776=_0x10d08c[_0x26a874(0xba9)]((_0x167e4f,_0x271670)=>_0x167e4f+(_0x271670['pointsAwarded']||0x0),0x0)):(_0x4bc9db=_0x39b8e2[_0x26a874(0xc8b)]||0x0,_0x582776=_0x39b8e2[_0x26a874(0x482)]||0x0),{..._0x39b8e2,'realScore':_0x4bc9db,'totalPoints':_0x582776,'answers':_0x10d08c};}),_0x2bbb88=Math[_0x498251(0x88a)](..._0x30d03a[_0x498251(0x1b0)](_0x543bd2=>_0x543bd2[_0x498251(0x482)]),-Infinity),_0x3312c8=Math[_0x498251(0x88a)](..._0x30d03a['map'](_0x5c733b=>_0x5c733b[_0x498251(0xd39)]),-Infinity),_0x337530=_0x4affaa[_0x498251(0x9c6)]===!![],_0x584d0f=[..._0x30d03a][_0x498251(0x5d4)]((_0x4a5890,_0x1471e9)=>{const _0x372da4=_0x498251;if(_0x337530){const _0x1bd3b1=_0x1471e9[_0x372da4(0x482)]-_0x4a5890[_0x372da4(0x482)];if(_0x1bd3b1!==0x0)return _0x1bd3b1;const _0x2a58fe=_0x1471e9['realScore']-_0x4a5890[_0x372da4(0xd39)];if(_0x2a58fe!==0x0)return _0x2a58fe;return(_0x4a5890[_0x372da4(0x34b)]||'')['localeCompare'](_0x1471e9['name']||'','th');}else{const _0xa92835=_0x1471e9[_0x372da4(0x482)]-_0x4a5890[_0x372da4(0x482)];if(_0xa92835!==0x0)return _0xa92835;const _0x37b62a=_0x1471e9[_0x372da4(0xd39)]-_0x4a5890['realScore'];if(_0x37b62a!==0x0)return _0x37b62a;return(_0x4a5890['name']||'')['localeCompare'](_0x1471e9['name']||'','th');}});let _0x3616af='';const _0x2f6c44=!_0x188cf6&&!(_0x24161a&&_0x4affaa[_0x498251(0x7d0)]===![]);if(_0x30df38&&_0x2f6c44){let _0x280ea5='',_0x55e5af='';const _0x3b7324=_0x30df38[_0x498251(0xa1a)]||_0x4affaa[_0x498251(0x571)][_0x498251(0x9b1)];if(_0x3b7324==='multiple_choice'&&_0x30df38['options']){const _0x454da6=_0x30df38[_0x498251(0xae6)];_0x280ea5=_0x30df38['options'][_0x454da6],_0x55e5af=_0x2192eb(_0x454da6)+'.';}else{if(_0x3b7324==='true_false'){const _0xb18a42=String(_0x30df38[_0x498251(0xcdb)])['toLowerCase']()==='true';_0x280ea5=_0xb18a42?_0x498251(0x74c):_0x498251(0x612),_0x55e5af=_0xb18a42?'ก.':'ข.';}else{if(_0x3b7324===_0x498251(0x416))_0x280ea5=_0x30df38[_0x498251(0x994)]||'-';else _0x3b7324===_0x498251(0x21b)&&(_0x280ea5=_0x30df38[_0x498251(0x158)]||'-');}}_0x280ea5&&(_0x3616af='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>เฉลยคำตอบข้อที่\x20'+(_0xe31a91+0x1)+_0x498251(0xb0c)+_0x55e5af+'\x20'+_0x280ea5+_0x498251(0xaff));}const _0x4c71e0=_0x584d0f[_0x498251(0x1b0)]((_0x127f00,_0x59b9e1)=>{const _0x39947e=_0x498251,_0x5de987=_0x127f00[_0x39947e(0xd39)],_0x1ee7de=_0x127f00[_0x39947e(0x482)],_0x1e314e=(_0x127f00[_0x39947e(0x367)]||[])[_0x39947e(0xa3d)](_0x168069=>_0x168069[_0x39947e(0x907)]===_0x1506f5),_0x2b7699=_0x127f00[_0x39947e(0x367)][_0x39947e(0x3d7)];let _0x30e722='';if(_0x1e314e){if(_0x1e314e[_0x39947e(0xa5a)])_0x30e722+=_0x39947e(0x9ff);if(_0x1e314e[_0x39947e(0x964)])_0x30e722+=_0x39947e(0x7c1);const _0x2e2b8f=_0x1e314e[_0x39947e(0xb2b)];if(_0x2e2b8f){const _0x5e3edb={'poll':'📊','cutOne':'✂️','insurance':'🛡️','fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳'};if(_0x5e3edb[_0x2e2b8f])_0x30e722+=_0x39947e(0x54e)+_0x5e3edb[_0x2e2b8f]+_0x39947e(0xbc2);}}let _0x439713='';if(!_0x188cf6&&_0x2b7699>0x0){if(_0x337530){if(_0x1ee7de===_0x2bbb88&&_0x2bbb88>0x0)_0x439713+=_0x39947e(0x162);if(_0x5de987===_0x3312c8&&_0x3312c8>0x0)_0x439713+='<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>';}else{const _0x338e6c=_0x127f00['realScore']===_0x1506f5+0x1;if(_0x338e6c)_0x439713='<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>';}if(_0x439713===''&&_0x1ee7de<0x0)_0x439713=_0x39947e(0xa76);}let _0x11acf6='bg-black/20',_0x354814=![];if(!_0x188cf6){const _0x5989e7=(_0x127f00[_0x39947e(0x367)]||[])[_0x39947e(0xa3d)](_0x1aca9c=>_0x1aca9c['questionIndex']===_0xe31a91);if(_0x5989e7){const _0x390221=_0x5989e7[_0x39947e(0x832)],_0x478f81=_0x5989e7[_0x39947e(0xdd1)]===!![]||_0x5989e7[_0x39947e(0xdd1)]===_0x39947e(0x1e5),_0x14015b=_0x5989e7['powerupUsed'];if(_0x14015b===_0x39947e(0x281))_0x390221?(_0x11acf6=_0x39947e(0xd85),_0x354814=!![]):_0x11acf6='bg-red-700\x20text-white\x20font-bold';else{if(_0x478f81)_0x11acf6=_0x390221?_0x39947e(0x1f0):'bg-[#EF4444]\x20text-white\x20font-bold';else _0x390221&&(_0x11acf6=_0x39947e(0xb3d));}}}let _0x141a70='';const _0x19d287=_0x127f00[_0x39947e(0x34b)],_0x9cf59f=_0x4affaa[_0x39947e(0xbc6)][_0x127f00['name']]||_0x39947e(0x4ed),_0x3087a1=_0x39947e(0x3ec),_0x5fd172=_0x39947e(0x240),_0x18aec9=_0x354814?_0x39947e(0xbf1):_0x39947e(0xc14);let _0x24b41b='';const _0x44715f=_0x1ee7de>=0x0?'(+'+_0x1ee7de+')':'('+_0x1ee7de+')',_0x25bf9a=_0x39947e(0x937)+_0x127f00[_0x39947e(0xd39)]+'\x20คะแนน\x20'+_0x44715f+_0x39947e(0xbc2);if(_0x3208b8){if(_0x24161a&&!_0x50a0f8)_0x141a70=_0x39947e(0x61d)+_0x3087a1+_0x39947e(0x15f)+_0x9cf59f+_0x39947e(0x809)+_0x5fd172+'\x22>'+_0x9cf59f+_0x39947e(0x48a)+_0x30e722+'\x20'+_0x439713+_0x39947e(0xa4f),_0x24b41b=_0x25bf9a;else{if(_0x24161a&&_0x50a0f8)_0x141a70=_0x39947e(0x61d)+_0x3087a1+'\x22\x20title=\x22'+_0x19d287+_0x39947e(0x809)+_0x5fd172+'\x22>'+_0x19d287+'</span>\x20'+_0x30e722+'\x20'+_0x439713+_0x39947e(0x6e9)+_0x18aec9+_0x39947e(0xce4)+_0x5fd172+'\x22>('+_0x9cf59f+_0x39947e(0x751),_0x24b41b=_0x25bf9a;else _0x188cf6?(_0x141a70='<div\x20style=\x22'+_0x3087a1+'\x22\x20title=\x22'+_0x19d287+'\x22><span\x20style=\x22'+_0x5fd172+'\x22>'+_0x19d287+_0x39947e(0x48a)+_0x30e722+'\x20'+_0x439713+'</div>',_0x24b41b=''):(_0x141a70='<div\x20style=\x22'+_0x3087a1+_0x39947e(0x15f)+_0x19d287+_0x39947e(0x809)+_0x5fd172+'\x22>'+_0x19d287+_0x39947e(0x48a)+_0x30e722+'\x20'+_0x439713+_0x39947e(0xa4f),_0x24b41b=_0x25bf9a);}}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20'+_0x11acf6+_0x39947e(0x717)+(_0x59b9e1+0x1)+_0x39947e(0x9ce)+_0x141a70+_0x39947e(0x27a)+_0x24b41b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x498251(0x22e)](''),_0x2b5c0c=_0x5c5ef6[_0x498251(0x1b0)]((_0x5a0795,_0x3516e3)=>{const _0x3827b2=_0x498251;if(_0x4855db&&_0x3516e3>_0xe31a91||_0x188cf6)return'';const _0x52e9d6=_0x30d03a[_0x3827b2(0xc52)](_0x7e54dd=>_0x7e54dd[_0x3827b2(0x367)]&&_0x7e54dd['answers'][_0x3827b2(0xa3d)](_0x4de201=>_0x4de201[_0x3827b2(0x907)]===_0x3516e3&&_0x4de201[_0x3827b2(0x832)]))[_0x3827b2(0x3d7)],_0x1d23a0=_0x3516e3===_0xe31a91,_0x3d7832=_0x1d23a0?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':_0x3827b2(0xb9d);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x3d7832+_0x3827b2(0x875)+(_0x3516e3+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x52e9d6+_0x3827b2(0x62d)+_0x1a0e72+'\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x498251(0x22e)]('');let _0x3018b5='',_0x42ad95='';if(_0x3208b8){const _0x8b2f0c=_0x2dc05c==='classic'&&_0x4affaa[_0x498251(0x601)]>=_0x5c5ef6['length']-0x1,_0xf257e0=_0x4855db&&_0x4affaa[_0x498251(0x475)]>=_0x5c5ef6['length']-0x1,_0x4dfa18=_0x2dc05c===_0x498251(0x4e5)&&_0x4affaa['currentQuestionIndex']>=_0x5c5ef6[_0x498251(0x3d7)]-0x1,_0xa433bb=_0x24161a&&!_0x4855db&&_0x4affaa[_0x498251(0x601)]>=_0x5c5ef6[_0x498251(0x3d7)]-0x1;if(_0x4855db)_0xf257e0?_0x24161a&&!_0x50a0f8?_0x3018b5=_0x498251(0x43a):_0x3018b5=_0x498251(0x24c):_0x3018b5=_0x498251(0x1f1);else _0x8b2f0c||_0x4dfa18||_0xa433bb?_0x24161a&&!_0x50a0f8?_0x3018b5='<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>':_0x3018b5='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>':_0x3018b5=_0x498251(0x2b8);_0x42ad95=_0x498251(0x27b);}const _0x4841a1=_0x188cf6||_0x24161a&&!_0x4affaa['showAnswerInAnonymous']?'':_0x498251(0x46c)+_0x2b5c0c+_0x498251(0xc25),_0x106d62=_0x188cf6||_0x24161a&&!_0x4affaa[_0x498251(0x7d0)]?'md:col-span-3':_0x498251(0xc82),_0x133d6c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0x4affaa[_0x498251(0x571)]['topic']+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>'+_0x4affaa[_0x498251(0x3f8)]+_0x498251(0x1db)+_0x42ad95+_0x498251(0x6b3)+_0x3616af+_0x498251(0xcd9)+_0x106d62+_0x498251(0x364)+(_0x4c71e0||_0x498251(0xb7e))+_0x498251(0x245)+_0x4841a1+_0x498251(0xce5)+(_0x3208b8?_0x498251(0x7be)+_0x3018b5+_0x498251(0xa4f):'')+_0x498251(0xaa5);liveGameView[_0x498251(0xbc4)]=_0x133d6c;if(window['MathJax']){const _0x190d42=document[_0x498251(0x916)](_0x498251(0x98a));_0x190d42&&MathJax[_0x498251(0x1cd)]([_0x190d42]);}if(_0x3208b8){const _0x27fc9e=document['getElementById'](_0x498251(0x1bc));_0x27fc9e&&(_0x27fc9e[_0x498251(0xc55)]=async()=>{const _0x4be9cf=_0x498251,_0x5e411b=doc(db,_0x4be9cf(0x54a)+appId+_0x4be9cf(0x66e),currentLiveGameId),_0x42f305=_0x4affaa['currentQuestionIndex']+0x1,_0x54e4b9=_0x4affaa['shuffledQuiz'][_0x4be9cf(0x87f)][_0x4be9cf(0x3d7)];!_0x4855db&&_0x42f305<_0x54e4b9?await updateDoc(_0x5e411b,{'status':_0x4be9cf(0x512),'currentQuestionIndex':_0x42f305,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x5e411b,{'status':_0x4be9cf(0x94a)});});const _0x1a1b96=document[_0x498251(0x916)](_0x498251(0xcd4));_0x1a1b96&&(_0x1a1b96['onclick']=async()=>{const _0x212d33=_0x498251,_0xb7cd2a=doc(db,_0x212d33(0x54a)+appId+_0x212d33(0x66e),currentLiveGameId);await updateDoc(_0xb7cd2a,{'reviewQuestionIndex':increment(0x1)});});document['getElementById']('reveal-names-btn')?.[_0x498251(0xc2d)](_0x498251(0xab7),async()=>{const _0x2651ac=_0x498251;await updateDoc(doc(db,_0x2651ac(0x54a)+appId+_0x2651ac(0x66e),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x30d7c9=document[_0x498251(0x916)](_0x498251(0x227));_0x30d7c9&&(_0x30d7c9[_0x498251(0xc55)]=()=>{const _0x189bed=_0x498251;showConfirmation(_0x189bed(0x861),async()=>{const _0x16eed6=_0x189bed;await updateDoc(doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),{'status':_0x16eed6(0x94a)});});});}}async function handleGenerateParallelFromBank(_0x58c8bc){const _0x27fff2=_0x13d91b,_0xcc1c0b=document['getElementById'](_0x27fff2(0x745)),_0x5a75f9=document[_0x27fff2(0x916)](_0x27fff2(0x5d8));_0x5a75f9[_0x27fff2(0x734)][_0x27fff2(0x459)](_0x27fff2(0x4ad));const _0x23c4ed='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x58c8bc[_0x27fff2(0xdf4)]+_0x27fff2(0x8b1);_0xcc1c0b[_0x27fff2(0x9b6)]('beforeend',_0x23c4ed);const _0x2c83b5=document[_0x27fff2(0x916)](_0x27fff2(0xd52));try{const _0x5a2285=_0x58c8bc[_0x27fff2(0x87f)][_0x27fff2(0x1b0)]((_0x536950,_0x143571)=>{const _0x44f6f0=_0x27fff2;let _0x81986c=_0x143571+0x1+'.\x20'+(_0x536950[_0x44f6f0(0xa35)]||_0x536950['stem'])+'\x0a';if(_0x536950[_0x44f6f0(0x238)])_0x81986c+=_0x536950['options'][_0x44f6f0(0x1b0)]((_0x2e20a8,_0x2d3270)=>_0x44f6f0(0x375)+(_0x2d3270===_0x536950[_0x44f6f0(0xae6)]?_0x44f6f0(0x474):'')+'\x20'+_0x2e20a8)[_0x44f6f0(0x22e)]('\x0a');else _0x536950[_0x44f6f0(0x158)]&&(_0x81986c+=_0x44f6f0(0x845)+_0x536950[_0x44f6f0(0x158)]);return _0x81986c;})[_0x27fff2(0x22e)]('\x0a\x0a');_0x2c83b5[_0x27fff2(0xd9d)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x5cf6d1=_0x27fff2(0x33f)+_0x58c8bc[_0x27fff2(0xdf4)]+_0x27fff2(0x672)+_0x5a2285+_0x27fff2(0xdf8)+simpleMathPrompt+_0x27fff2(0x109),_0x158f54={'type':_0x27fff2(0xd0d),'properties':{'questionText':{'type':_0x27fff2(0x330)},'questionType':{'type':'STRING','enum':[_0x27fff2(0x3e2),'short_answer','true_false','matching_item']},'options':{'type':_0x27fff2(0x33c),'items':{'type':_0x27fff2(0x330)}},'correctAnswerIndex':{'type':_0x27fff2(0x90b)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x27fff2(0x5da)},'stem':{'type':_0x27fff2(0x330)},'correctResponse':{'type':_0x27fff2(0x330)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x27fff2(0x330)},'imageCode':{'type':_0x27fff2(0x330)}},'required':[_0x27fff2(0xa1a),_0x27fff2(0x51a)]},_0x1882fa={'type':_0x27fff2(0xd0d),'properties':{'topic':{'type':_0x27fff2(0x330)},'questions':{'type':_0x27fff2(0x33c),'items':_0x158f54}},'required':['topic','questions']},_0x4e5bd7=await callAnalysisApi(_0x5cf6d1,_0x1882fa),_0x1f0139=_0x4e5bd7[_0x27fff2(0x87f)][_0x27fff2(0x1b0)]((_0xdf0c59,_0xaf019d)=>({..._0xdf0c59,'id':'q_'+Date[_0x27fff2(0x60e)]()+'_'+_0xaf019d})),_0x3477b8='(คู่ขนาน)\x20'+_0x58c8bc[_0x27fff2(0xdf4)],_0x278fd3={'topic':_0x3477b8,'questions':_0x1f0139,'quizType':_0x58c8bc[_0x27fff2(0x9b1)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x27fff2(0x700)](),'status':_0x27fff2(0x101),'settings':_0x58c8bc['settings'],'quizMode':_0x27fff2(0xa08),'pairedQuizId':null,'lessonPlan':null};let _0x1cd1ae;while(!![]){_0x1cd1ae=Math[_0x27fff2(0x8e9)](0x3e8+Math[_0x27fff2(0x29d)]()*0x2328)['toString']();const _0x5cc581=await getDoc(doc(db,_0x27fff2(0x54a)+appId+_0x27fff2(0xd20),_0x1cd1ae));if(!_0x5cc581[_0x27fff2(0x5fd)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x27fff2(0xd20),_0x1cd1ae),_0x278fd3),showMessage('สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!');}catch(_0x11897c){console[_0x27fff2(0x689)](_0x27fff2(0x2ae),_0x11897c),showMessage(_0x27fff2(0x96c)+_0x11897c['message']);}finally{const _0x163fe5=document[_0x27fff2(0x916)](_0x27fff2(0x8fb));_0x163fe5&&_0x163fe5[_0x27fff2(0x5cf)](),_0x5a75f9[_0x27fff2(0x734)][_0x27fff2(0x5cf)](_0x27fff2(0x4ad));}}async function handleGenerateParallelPostTest(_0x292328){const _0x318b24=_0x13d91b,_0x36bc19=document[_0x318b24(0x916)](_0x318b24(0x745)),_0x735e03=document[_0x318b24(0x916)](_0x318b24(0x5d8));_0x735e03['classList'][_0x318b24(0x459)](_0x318b24(0x4ad));const _0x43c0c5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x36bc19[_0x318b24(0x9b6)](_0x318b24(0x6f8),_0x43c0c5);try{const _0x178f1e=_0x292328[_0x318b24(0x87f)][_0x318b24(0x1b0)]((_0x47a529,_0x28050d)=>{const _0x2f36c3=_0x318b24;let _0x49b3cf=_0x28050d+0x1+'.\x20'+(_0x47a529[_0x2f36c3(0xa35)]||_0x47a529[_0x2f36c3(0x3a9)]);if(_0x47a529[_0x2f36c3(0x238)])_0x49b3cf+=_0x2f36c3(0xc9a)+_0x47a529[_0x2f36c3(0x238)]['join'](',\x20');return _0x49b3cf;})[_0x318b24(0x22e)]('\x0a\x0a'),_0x1566b0=_0x318b24(0x933)+_0x292328['topic']+_0x318b24(0x4f3)+_0x178f1e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x4dca7c={'type':'OBJECT','properties':{'topic':{'type':_0x318b24(0x330)},'questions':{'type':_0x318b24(0x33c),'items':{'type':_0x318b24(0xd0d),'properties':{'questionText':{'type':_0x318b24(0x330)},'questionType':{'type':_0x318b24(0x330)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x318b24(0x90b)},'idealAnswer':{'type':_0x318b24(0x330)},'explanation':{'type':_0x318b24(0x330)}},'required':['questionText',_0x318b24(0x51a)]}}},'required':[_0x318b24(0xdf4),_0x318b24(0x87f)]},_0x5a71c9=await callAnalysisApi(_0x1566b0,_0x4dca7c),_0x1f916b=_0x292328[_0x318b24(0xdf4)]['replace'](_0x318b24(0x2f7),'')[_0x318b24(0x1a0)](),_0x5a736f='(หลังเรียน)\x20'+_0x1f916b,_0x544fe6={..._0x5a71c9,'topic':_0x5a736f,'quizType':_0x292328[_0x318b24(0x9b1)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x292328['settings'],'quizMode':_0x318b24(0x67a),'pairedQuizId':_0x292328['id']};let _0x2b1ec7;while(!![]){_0x2b1ec7=Math[_0x318b24(0x8e9)](0x3e8+Math[_0x318b24(0x29d)]()*0x2328)[_0x318b24(0xda1)]();const _0x4cf057=await getDoc(doc(db,_0x318b24(0x54a)+appId+_0x318b24(0xd20),_0x2b1ec7));if(!_0x4cf057[_0x318b24(0x5fd)]())break;}await setDoc(doc(db,_0x318b24(0x54a)+appId+_0x318b24(0xd20),_0x2b1ec7),_0x544fe6);const _0x18416c=doc(db,'artifacts/'+appId+_0x318b24(0xd20),_0x292328['id']);await updateDoc(_0x18416c,{'pairedQuizId':_0x2b1ec7}),showMessage(_0x318b24(0x7f7));}catch(_0xbbd5be){console[_0x318b24(0x689)](_0x318b24(0x63e),_0xbbd5be),showMessage(_0x318b24(0x96c)+_0xbbd5be[_0x318b24(0xbd0)]);}finally{const _0x3151f5=document[_0x318b24(0x916)]('temp-loader-results');if(_0x3151f5)_0x3151f5[_0x318b24(0x5cf)]();_0x735e03[_0x318b24(0x734)][_0x318b24(0x5cf)]('hidden');}}async function handleGenerateParallelTest(_0x3d59e6=null){const _0xc09f13=_0x13d91b;let _0x35a667=_0x3d59e6;if(!_0x35a667){const _0xac3240=document[_0xc09f13(0x916)](_0xc09f13(0xe1d));_0xac3240[_0xc09f13(0xda0)][_0xc09f13(0x3d7)]>0x0&&(_0x35a667=_0xac3240[_0xc09f13(0xda0)][0x0]);}if(!_0x35a667){showMessage(_0xc09f13(0x9ad));return;}const _0x19e19f=document[_0xc09f13(0x916)]('loader'),_0x179960=document[_0xc09f13(0x916)](_0xc09f13(0xae9)),_0x58f8e8=document[_0xc09f13(0x916)]('generated-quiz-container'),_0x22341e=document[_0xc09f13(0x916)](_0xc09f13(0xa64));_0x22341e[_0xc09f13(0x426)]=!![],document[_0xc09f13(0x916)](_0xc09f13(0x444))[_0xc09f13(0x734)][_0xc09f13(0x5cf)](_0xc09f13(0x4ad)),_0x58f8e8[_0xc09f13(0xbc4)]='',_0x19e19f[_0xc09f13(0x734)][_0xc09f13(0x5cf)](_0xc09f13(0x4ad)),_0x179960['textContent']=_0xc09f13(0x80a);const _0x14ec53=new FileReader();_0x14ec53[_0xc09f13(0xdd6)](_0x35a667),_0x14ec53[_0xc09f13(0x766)]=async()=>{const _0x17a37c=_0xc09f13;try{const _0x2ca3b8=_0x14ec53['result'][_0x17a37c(0xbba)](',')[0x1],_0x565801=_0x35a667[_0x17a37c(0x5e3)];_0x179960[_0x17a37c(0xd9d)]=_0x17a37c(0xa1b);const _0x5c9d07=document[_0x17a37c(0x916)](_0x17a37c(0x54c))['checked'],_0x45af82=_0x5c9d07?_0x17a37c(0x171):'',_0x1832d5=_0x17a37c(0x361),_0x5863b0={'type':_0x17a37c(0xd0d),'properties':{'questionText':{'type':_0x17a37c(0x330)},'questionType':{'type':_0x17a37c(0x330),'enum':[_0x17a37c(0x3e2),_0x17a37c(0x21b)]},'options':{'type':_0x17a37c(0x33c),'items':{'type':_0x17a37c(0x330)}},'correctAnswerIndex':{'type':_0x17a37c(0x90b)},'idealAnswer':{'type':_0x17a37c(0x330)},'explanation':{'type':_0x17a37c(0x330)},'imageCode':{'type':_0x17a37c(0x330)}},'required':['questionText','questionType',_0x17a37c(0x51a)]},_0x536ea5={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x17a37c(0x33c),'items':_0x5863b0}},'required':[_0x17a37c(0xdf4),'questions']},_0x3ff667=[{'text':_0x1832d5},{'inlineData':{'mimeType':_0x565801,'data':_0x2ca3b8}}];await handleApiCall(_0x3ff667,_0x17a37c(0x982),_0x536ea5);}catch(_0x1669f4){console[_0x17a37c(0x689)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x1669f4),showMessage(_0x17a37c(0x96c)+_0x1669f4[_0x17a37c(0xbd0)]),_0x58f8e8[_0x17a37c(0xbc4)]=_0x17a37c(0xa7b);}finally{_0x19e19f[_0x17a37c(0x734)][_0x17a37c(0x459)](_0x17a37c(0x4ad)),_0x22341e[_0x17a37c(0x426)]=![];}},_0x14ec53[_0xc09f13(0x4e2)]=_0x4f2bf0=>{const _0x5cf27b=_0xc09f13;console[_0x5cf27b(0x689)](_0x5cf27b(0x49b),_0x4f2bf0),showMessage(_0x5cf27b(0x3b2)),_0x19e19f[_0x5cf27b(0x734)][_0x5cf27b(0x459)]('hidden'),_0x22341e[_0x5cf27b(0x426)]=![];};}async function handleRegenerateQuestionInEditor(_0x4c9c63){const _0x40797c=_0x13d91b;if(currentEditingQuizData===null)return;const _0x513ab3=document['querySelector'](_0x40797c(0xc6e)+_0x4c9c63+'\x22]');_0x513ab3&&(_0x513ab3[_0x40797c(0xbc4)]=_0x40797c(0x384));const _0x292148=currentEditingQuizData[_0x40797c(0x87f)][_0x4c9c63],_0x6a3bc9=currentEditingQuizData[_0x40797c(0xdf4)],_0x593cda=_0x292148[_0x40797c(0xa1a)],_0x423ccc={'type':_0x40797c(0xd0d),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x40797c(0x33c),'items':{'type':_0x40797c(0x330)}},'correctAnswerIndex':{'type':_0x40797c(0x90b)},'explanation':{'type':_0x40797c(0x330)}},'required':[_0x40797c(0xa35),_0x40797c(0x238),'correctAnswerIndex',_0x40797c(0x51a)]},_0x5b9896={'type':_0x40797c(0xd0d),'properties':{'questionText':{'type':_0x40797c(0x330)},'idealAnswer':{'type':_0x40797c(0x330)},'explanation':{'type':'STRING'}},'required':[_0x40797c(0xa35),_0x40797c(0x158),_0x40797c(0x51a)]};let _0x57c2df,_0x241ea1='';_0x593cda===_0x40797c(0x3e2)?(_0x57c2df=_0x423ccc,_0x241ea1=_0x40797c(0x8d6)):(_0x57c2df=_0x5b9896,_0x241ea1=_0x40797c(0x714));const _0x2809db=_0x40797c(0x25b)+_0x6a3bc9+_0x40797c(0xcc4)+_0x241ea1+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x292148['questionText']||_0x292148[_0x40797c(0x3a9)])+_0x40797c(0x183)+simpleMathPrompt;try{const _0x1a988a=await callAnalysisApi(_0x2809db,_0x57c2df);currentEditingQuizData['questions'][_0x4c9c63]={..._0x292148,..._0x1a988a},renderQuizEditor(currentEditingQuizData);}catch(_0xa01ca){console[_0x40797c(0x689)](_0x40797c(0x81f),_0xa01ca),showMessage(_0x40797c(0x5c0)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x546847=_0x13d91b,_0x1ed0ce=document[_0x546847(0x916)](_0x546847(0xa32));currentMode===_0x546847(0xdd4)?(adminPasswordModal[_0x546847(0x734)][_0x546847(0x5cf)]('hidden'),document[_0x546847(0x916)](_0x546847(0x817))[_0x546847(0x3be)]()):(currentMode='student',_0x1ed0ce[_0x546847(0xbc4)]=_0x546847(0xcd8),_0x1ed0ce[_0x546847(0x17e)]=_0x546847(0x7aa),showView(_0x546847(0xdd4)));}function handleAdminLogin(){const _0x59a785=_0x13d91b,_0x1f2b40=document['getElementById'](_0x59a785(0x817)),_0x375c2b=document[_0x59a785(0x916)]('password-error-msg');if(_0x1f2b40['value']==='27411472'){adminPasswordModal['classList'][_0x59a785(0x459)](_0x59a785(0x4ad)),_0x1f2b40[_0x59a785(0x93c)]='',_0x375c2b[_0x59a785(0x734)][_0x59a785(0x459)]('hidden'),currentMode='admin';const _0x11ea35=document[_0x59a785(0x916)](_0x59a785(0xa32));_0x11ea35[_0x59a785(0xbc4)]=_0x59a785(0x465),_0x11ea35[_0x59a785(0x17e)]=_0x59a785(0x30b),showView(_0x59a785(0x800));}else _0x375c2b[_0x59a785(0x734)]['remove'](_0x59a785(0x4ad)),_0x1f2b40[_0x59a785(0x93c)]='';}function switchProjectTab(_0x1277a5){const _0xdb1330=_0x13d91b;['manage',_0xdb1330(0x84d),_0xdb1330(0x6f5)][_0xdb1330(0x5c9)](_0x542987=>{const _0x2a96c4=_0xdb1330;document['getElementById'](_0x542987+_0x2a96c4(0x5bb))[_0x2a96c4(0x734)][_0x2a96c4(0x5cf)](_0x2a96c4(0x101)),document[_0x2a96c4(0x916)](_0x542987+'-tab-content')[_0x2a96c4(0x734)][_0x2a96c4(0x459)](_0x2a96c4(0x4ad));}),document['getElementById'](_0x1277a5+_0xdb1330(0x5bb))[_0xdb1330(0x734)][_0xdb1330(0x459)](_0xdb1330(0x101)),document[_0xdb1330(0x916)](_0x1277a5+'-tab-content')[_0xdb1330(0x734)][_0xdb1330(0x5cf)](_0xdb1330(0x4ad));}function switchQuizDetailTab(_0x18d180){const _0x3d34fc=_0x13d91b,_0x4d7a99={'analytics':{'btn':_0x3d34fc(0xd4e),'content':_0x3d34fc(0x5df)},'scores':{'btn':_0x3d34fc(0x938),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0x3d34fc(0x411),'content':_0x3d34fc(0x76d)},'behavior-log':{'btn':_0x3d34fc(0x7ef),'content':_0x3d34fc(0x8be)}};for(const _0x449b8c in _0x4d7a99){document[_0x3d34fc(0x916)](_0x4d7a99[_0x449b8c][_0x3d34fc(0x4a5)])['classList'][_0x3d34fc(0x5cf)](_0x3d34fc(0x101)),document[_0x3d34fc(0x916)](_0x4d7a99[_0x449b8c][_0x3d34fc(0x392)])[_0x3d34fc(0x734)][_0x3d34fc(0x459)](_0x3d34fc(0x4ad));}document[_0x3d34fc(0x916)](_0x4d7a99[_0x18d180][_0x3d34fc(0x4a5)])[_0x3d34fc(0x734)][_0x3d34fc(0x459)]('active'),document[_0x3d34fc(0x916)](_0x4d7a99[_0x18d180][_0x3d34fc(0x392)])[_0x3d34fc(0x734)][_0x3d34fc(0x5cf)](_0x3d34fc(0x4ad));}function showMessage(_0x994e32,_0x383a06=null){const _0x1ce8ef=_0x13d91b;modalMessage['innerHTML']=_0x994e32[_0x1ce8ef(0xdb5)](/\n/g,'<br>'),modalConfirmAction=_0x383a06,messageModal[_0x1ce8ef(0x734)][_0x1ce8ef(0x5cf)](_0x1ce8ef(0x4ad));}function showConfirmation(_0x530140,_0x371754,_0x535e72=null){const _0x19770d=_0x13d91b;document[_0x19770d(0x916)](_0x19770d(0x87a))[_0x19770d(0xd9d)]=_0x530140,document[_0x19770d(0x916)](_0x19770d(0x1fd))[_0x19770d(0x7f4)]('h3')[_0x19770d(0xd9d)]=_0x19770d(0x3aa),confirmAction=_0x371754,cancelAction=_0x535e72,confirmationModal['classList'][_0x19770d(0x5cf)](_0x19770d(0x4ad));}function listenForProjects(){const _0x356e32=_0x13d91b,_0xc35235=doc(db,_0x356e32(0xc75),_0x356e32(0x7fc));onSnapshot(_0xc35235,_0x5f4f1a=>{const _0x3a1fc1=_0x356e32;if(_0x5f4f1a[_0x3a1fc1(0x5fd)]()){const _0x2ce85c=_0x5f4f1a[_0x3a1fc1(0xaf3)]();globalDashboardSettings['projectSort']=_0x2ce85c['projectSort']||_0x3a1fc1(0xd4c),globalDashboardSettings[_0x3a1fc1(0x8a0)]=_0x2ce85c['pinnedProjects']||[],globalDashboardSettings[_0x3a1fc1(0x523)]=_0x2ce85c['projectOrder']||[];}allProjects[_0x3a1fc1(0x3d7)]>0x0&&renderProjects();});const _0x34ded9=collection(db,'artifacts/'+appId+_0x356e32(0x90e));unsubscribeProjectsListener=onSnapshot(_0x34ded9,_0x4c0841=>{const _0x21e2ec=_0x356e32;allProjects=_0x4c0841[_0x21e2ec(0x1fb)][_0x21e2ec(0x1b0)](_0x1d4c98=>({'id':_0x1d4c98['id'],..._0x1d4c98[_0x21e2ec(0xaf3)]()})),renderProjects();},_0x13326f=>{const _0x5eac3e=_0x356e32;console[_0x5eac3e(0x689)]('Error\x20listening\x20for\x20projects:',_0x13326f),showMessage(_0x5eac3e(0xd50));});}function showColorPalette(_0x3c4c01,_0x26c3fa){const _0x5001db=_0x13d91b;document['querySelectorAll'](_0x5001db(0x5f8))['forEach'](_0x2115d8=>_0x2115d8[_0x5001db(0x5cf)]());const _0x95c540=[_0x5001db(0x32b),_0x5001db(0x7dc),'#FEF3C7',_0x5001db(0x674),_0x5001db(0xb98),_0x5001db(0x6e3),'#F3E8FF',_0x5001db(0x5fc),'#E5E7EB'],_0x475c6b=document['createElement'](_0x5001db(0xa12));_0x475c6b[_0x5001db(0x170)]=_0x5001db(0x52f),_0x95c540[_0x5001db(0x5c9)](_0x423b74=>{const _0x1f96d6=_0x5001db,_0x365c90=document[_0x1f96d6(0x1da)]('div');_0x365c90[_0x1f96d6(0x170)]=_0x1f96d6(0x32f),_0x365c90[_0x1f96d6(0x3bb)]['backgroundColor']=_0x423b74,_0x365c90['addEventListener'](_0x1f96d6(0xab7),()=>{const _0x4feed0=_0x1f96d6;handleProjectColorChange(_0x26c3fa,_0x423b74),_0x475c6b[_0x4feed0(0x5cf)]();}),_0x475c6b[_0x1f96d6(0x38c)](_0x365c90);}),document[_0x5001db(0x556)][_0x5001db(0x38c)](_0x475c6b);const _0x244200=_0x3c4c01['getBoundingClientRect']();_0x475c6b[_0x5001db(0x3bb)]['top']=_0x244200[_0x5001db(0x82d)]+window[_0x5001db(0xbbb)]+'px',_0x475c6b['style'][_0x5001db(0xd6b)]=_0x244200[_0x5001db(0xd6b)]+window[_0x5001db(0xc30)]-_0x475c6b['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x5867ca,_0x71c24f){const _0x201a8b=_0x13d91b,_0x2d2487=doc(db,_0x201a8b(0x54a)+appId+'/public/data/projects',_0x5867ca);try{await updateDoc(_0x2d2487,{'color':_0x71c24f});}catch(_0x2f5eb9){console['error'](_0x201a8b(0x991),_0x2f5eb9),showMessage(_0x201a8b(0xa4b));}}async function renderProjects(){const _0xd50081=_0x13d91b,_0x166db7=globalDashboardSettings['projectSort']||'date_desc',_0x4b1878=new Set(globalDashboardSettings[_0xd50081(0x8a0)]||[]),_0xa21e0=globalDashboardSettings[_0xd50081(0x1b9)]||'grid',_0xbcb74b=document['getElementById'](_0xd50081(0x2a8)),_0x2e995f=document[_0xd50081(0x916)](_0xd50081(0x58d));_0xbcb74b[_0xd50081(0x734)][_0xd50081(0x3bc)](_0xd50081(0x101),_0xa21e0===_0xd50081(0x4b0)),_0x2e995f['classList'][_0xd50081(0x3bc)]('active',_0xa21e0===_0xd50081(0x22c)),document[_0xd50081(0x916)]('project-sort-select')[_0xd50081(0x93c)]=_0x166db7;const _0x30f337=document[_0xd50081(0x916)](_0xd50081(0xc37))[_0xd50081(0x93c)]['toLowerCase']();let _0x1bb0ea=allProjects[_0xd50081(0xc52)](_0x49b51c=>_0x49b51c[_0xd50081(0xe04)][_0xd50081(0x3c8)]()['includes'](_0x30f337));const _0x5872c0=_0x1bb0ea[_0xd50081(0xc52)](_0x25aa7c=>_0x4b1878['has'](_0x25aa7c['id'])),_0x528eb1=_0x1bb0ea[_0xd50081(0xc52)](_0x8bb672=>!_0x4b1878['has'](_0x8bb672['id'])),_0x351b94=(_0xb7d2a0,_0x7d0d98)=>{const _0xf83d13=_0xd50081;switch(_0x166db7){case _0xf83d13(0xc59):return _0xb7d2a0[_0xf83d13(0xe04)]['localeCompare'](_0x7d0d98[_0xf83d13(0xe04)],'th');case _0xf83d13(0x490):return _0x7d0d98[_0xf83d13(0xe04)][_0xf83d13(0xa7d)](_0xb7d2a0['projectName'],'th');case'date_asc':return new Date(_0xb7d2a0[_0xf83d13(0x62a)])-new Date(_0x7d0d98[_0xf83d13(0x62a)]);default:return new Date(_0x7d0d98[_0xf83d13(0x62a)])-new Date(_0xb7d2a0[_0xf83d13(0x62a)]);}};_0x5872c0[_0xd50081(0x5d4)](_0x351b94),_0x528eb1['sort'](_0x351b94);const _0x5cdd54=[..._0x5872c0,..._0x528eb1],_0x358a50=globalDashboardSettings[_0xd50081(0x523)]||[];_0x358a50[_0xd50081(0x3d7)]>0x0&&_0xa21e0===_0xd50081(0x4b0)&&_0x5cdd54[_0xd50081(0x5d4)]((_0x2beaa8,_0x50dc4e)=>{const _0x4485fa=_0xd50081,_0x1733f7=_0x358a50[_0x4485fa(0x188)](_0x2beaa8['id']),_0x409bbe=_0x358a50[_0x4485fa(0x188)](_0x50dc4e['id']);if(_0x1733f7===-0x1)return 0x1;if(_0x409bbe===-0x1)return-0x1;return _0x1733f7-_0x409bbe;});const _0x17585e={};await Promise[_0xd50081(0x1e8)](_0x5cdd54[_0xd50081(0x1b0)](async _0x341cd8=>{const _0x1883fc=_0xd50081,_0x24f3ce=query(collection(db,'artifacts/'+appId+'/public/data/quizzes'),where(_0x1883fc(0x7a5),'==',_0x341cd8['id'])),_0x138ccd=await getDocs(_0x24f3ce);_0x17585e[_0x341cd8['id']]=_0x138ccd['size'];}));const _0x16738a=document['getElementById'](_0xd50081(0x6f0));let _0x4af7e5='';if(_0xa21e0===_0xd50081(0x4b0)){_0x16738a[_0xd50081(0x170)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0xd50081(0x3d7)]>0x0&&_0x30f337===''){const _0x31bfdc=starredQuizzes['map'](_0x4f97a1=>{const _0x5b2b0f=_0xd50081,_0x3bad23=allProjects['find'](_0xc17798=>_0xc17798['id']===_0x4f97a1['projectId']);return{..._0x4f97a1,'projectName':_0x3bad23?_0x3bad23[_0x5b2b0f(0xe04)]:_0x5b2b0f(0x642)};});_0x4af7e5+=_0xd50081(0xdf2)+_0x31bfdc[_0xd50081(0x1b0)](_0x161130=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x161130[_0xd50081(0xdf4)]+'\x22>'+_0x161130[_0xd50081(0xdf4)]+_0xd50081(0xbf9)+_0x161130[_0xd50081(0xe04)]+'\x22>จาก:\x20'+_0x161130[_0xd50081(0xe04)]+_0xd50081(0x7eb))[_0xd50081(0x22e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes[_0xd50081(0x3d7)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x5cdd54[_0xd50081(0x5c9)](_0x3f0c42=>{const _0x2405c6=_0xd50081,_0x263a6e=_0x17585e[_0x3f0c42['id']]??0x0,_0x5d3bf0=_0x4b1878[_0x2405c6(0x63d)](_0x3f0c42['id']),_0x40e93f=_0x3f0c42[_0x2405c6(0x468)]||_0x2405c6(0x32b),_0x26a77c=parseInt(_0x40e93f[_0x2405c6(0x197)](0x1,0x3),0x10)*0.299+parseInt(_0x40e93f[_0x2405c6(0x197)](0x3,0x5),0x10)*0.587+parseInt(_0x40e93f[_0x2405c6(0x197)](0x5,0x7),0x10)*0.114<0xba,_0x13b248=_0x26a77c?_0x2405c6(0x8db):_0x2405c6(0xc4b),_0x3affa6=_0x26a77c?_0x2405c6(0xbab):_0x2405c6(0xab2);_0x4af7e5+=_0x2405c6(0x53e)+(_0x5d3bf0?_0x2405c6(0x15b):_0x2405c6(0xa81))+_0x2405c6(0x6c1)+_0x40e93f+';\x22\x20data-id=\x22'+_0x3f0c42['id']+_0x2405c6(0x615)+_0x3f0c42['id']+_0x2405c6(0x73f)+(_0x26a77c?_0x2405c6(0x94c):'text-gray-400\x20hover:text-indigo-600')+_0x2405c6(0x103)+_0x3f0c42['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x26a77c?_0x2405c6(0x94c):_0x2405c6(0x4cc))+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x5d3bf0?_0x26a77c?_0x2405c6(0x685):'text-indigo-600':'')+_0x2405c6(0x3ce)+_0x3f0c42['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x13b248+_0x2405c6(0x8a4)+_0x3f0c42[_0x2405c6(0xe04)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+_0x3affa6+_0x2405c6(0x3dd)+new Date(_0x3f0c42[_0x2405c6(0x62a)])[_0x2405c6(0x5ef)](_0x2405c6(0x9be))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+(_0x26a77c?'text-gray-100':'text-gray-700')+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x263a6e+_0x2405c6(0x70c)+_0x3f0c42['id']+'\x22\x20data-name=\x22'+_0x3f0c42['projectName']+_0x2405c6(0x398)+(_0x26a77c?_0x2405c6(0xd7f):_0x2405c6(0x75a))+_0x2405c6(0x80f);});}else _0x16738a[_0xd50081(0x170)]=_0xd50081(0x421),starredQuizzes['length']>0x0&&_0x30f337===''&&(_0x4af7e5+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0xd50081(0x3d7)]+_0xd50081(0xa7a)),_0x4af7e5+=_0xd50081(0x3db),_0x5cdd54[_0xd50081(0x5c9)](_0x473f25=>{const _0xa2dd85=_0xd50081,_0x19fcbb=_0x17585e[_0x473f25['id']]??0x0,_0x33ccae=_0x4b1878[_0xa2dd85(0x63d)](_0x473f25['id']);_0x4af7e5+=_0xa2dd85(0x43e)+(_0x473f25['color']||_0xa2dd85(0xa1d))+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x473f25['id']+_0xa2dd85(0xafd)+_0x473f25[_0xa2dd85(0xe04)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x19fcbb+_0xa2dd85(0x3e4)+new Date(_0x473f25[_0xa2dd85(0x62a)])[_0xa2dd85(0x4cd)]('th-TH')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x473f25['id']+_0xa2dd85(0x687)+(_0x33ccae?_0xa2dd85(0x489):'')+_0xa2dd85(0xb2f)+_0x473f25['id']+_0xa2dd85(0x3df)+_0x473f25['projectName']+_0xa2dd85(0x6fd);});projectList[_0xd50081(0xbc4)]=_0x4af7e5,noProjectsMsg['classList']['toggle']('hidden',_0x4af7e5[_0xd50081(0x3d7)]>0x0);}document[_0x13d91b(0x916)](_0x13d91b(0x4b1))[_0x13d91b(0xc2d)](_0x13d91b(0xab7),async()=>{const _0x288868=_0x13d91b,_0x455058=document[_0x288868(0x916)](_0x288868(0x3b4)),_0x4bece7=_0x455058['value'][_0x288868(0x1a0)]();if(!_0x4bece7){showMessage(_0x288868(0x888));return;}try{const _0x4819ce=doc(collection(db,'artifacts/'+appId+_0x288868(0x90e)));await setDoc(_0x4819ce,{'projectName':_0x4bece7,'students':[],'settings':{'resultsDisplay':_0x288868(0x501),'shuffleSetting':_0x288868(0x118),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x288868(0x118),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x288868(0x700)]()}),_0x455058[_0x288868(0x93c)]='',createProjectModal[_0x288868(0x734)][_0x288868(0x459)](_0x288868(0x4ad)),showMessage(_0x288868(0x8d8));}catch(_0x2ae6fd){console[_0x288868(0x689)]('Error\x20creating\x20project:',_0x2ae6fd),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x13d91b(0xc2d)](_0x13d91b(0xab7),async _0xa4634a=>{const _0x3ab6ae=_0x13d91b,_0x43df66=_0xa4634a[_0x3ab6ae(0x3fe)][_0x3ab6ae(0x7c4)](_0x3ab6ae(0xc02)),_0x7f9fc6=_0xa4634a[_0x3ab6ae(0x3fe)][_0x3ab6ae(0x7c4)](_0x3ab6ae(0xa5f)),_0x4d2763=_0xa4634a[_0x3ab6ae(0x3fe)][_0x3ab6ae(0x7c4)](_0x3ab6ae(0x98f)),_0x21001f=_0xa4634a[_0x3ab6ae(0x3fe)][_0x3ab6ae(0x7c4)](_0x3ab6ae(0x62b));if(_0x4d2763){const _0x2aa99c=_0x4d2763[_0x3ab6ae(0xcba)]['id'],_0x435f08=doc(db,'globalSettings',_0x3ab6ae(0x7fc)),_0x21db7f=globalDashboardSettings['pinnedProjects'];let _0x31e08d;_0x21db7f[_0x3ab6ae(0xb28)](_0x2aa99c)?_0x31e08d=_0x21db7f[_0x3ab6ae(0xc52)](_0x23c24e=>_0x23c24e!==_0x2aa99c):_0x31e08d=[..._0x21db7f,_0x2aa99c];try{await setDoc(_0x435f08,{'pinnedProjects':_0x31e08d},{'merge':!![]});}catch(_0x242b55){console[_0x3ab6ae(0x689)](_0x3ab6ae(0x1c6),_0x242b55),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}else{if(_0x21001f){const _0x18ff7b=_0x21001f[_0x3ab6ae(0xcba)]['id'];showColorPalette(_0x21001f,_0x18ff7b);}else{if(_0x43df66){const _0x361d7e=_0x43df66[_0x3ab6ae(0xcba)]['id'];_0x361d7e===_0x3ab6ae(0xaf8)?showStarredProjectView():(currentProjectId=_0x361d7e,await loadProjectDetails(currentProjectId),showView(_0x3ab6ae(0x560)));}else{if(_0x7f9fc6){const _0x2f411a=_0x7f9fc6[_0x3ab6ae(0xcba)]['id'],_0xf3140c=_0x7f9fc6['dataset'][_0x3ab6ae(0x34b)];showConfirmation(_0x3ab6ae(0xa4e)+_0xf3140c+_0x3ab6ae(0x252),()=>handleDeleteProject(_0x2f411a));}}}}}),projectList[_0x13d91b(0xc2d)](_0x13d91b(0x3de),_0x136091=>{const _0x7ea28e=_0x13d91b,_0x2426ae=_0x136091['target'][_0x7ea28e(0x7c4)](_0x7ea28e(0xa65));_0x2426ae&&_0x2426ae['classList'][_0x7ea28e(0x459)](_0x7ea28e(0xe12));}),projectList['addEventListener']('dragend',_0x862ce3=>{const _0x49df1d=_0x13d91b,_0x1512f7=_0x862ce3[_0x49df1d(0x3fe)][_0x49df1d(0x7c4)](_0x49df1d(0xa65));_0x1512f7&&_0x1512f7[_0x49df1d(0x734)]['remove'](_0x49df1d(0xe12));}),projectList['addEventListener']('dragover',_0x419b78=>{const _0x15cefe=_0x13d91b;_0x419b78[_0x15cefe(0x452)]();const _0x57ba74=document['querySelector'](_0x15cefe(0x402));if(!_0x57ba74)return;const _0x5eed39=getDragAfterElement(projectList,_0x419b78[_0x15cefe(0xcac)]);_0x5eed39==null?projectList[_0x15cefe(0x38c)](_0x57ba74):projectList[_0x15cefe(0x691)](_0x57ba74,_0x5eed39);}),projectList['addEventListener'](_0x13d91b(0x57e),_0x233de9=>{const _0x1e2575=_0x13d91b;_0x233de9[_0x1e2575(0x452)]();const _0x407a41=[...projectList[_0x1e2575(0x77f)]('.project-card-container[data-id]')]['map'](_0x5c78c0=>_0x5c78c0[_0x1e2575(0xcba)]['id']);saveProjectOrder(_0x407a41);});function renderBehaviorLog(_0x5d76d5){const _0x18d5b3=_0x13d91b,_0x590426=document[_0x18d5b3(0x916)](_0x18d5b3(0x911));if(!_0x590426)return;const _0x112b36=_0x5d76d5[_0x18d5b3(0xc52)](_0x4979c0=>_0x4979c0[_0x18d5b3(0xde3)]&&_0x4979c0[_0x18d5b3(0xde3)]['length']>0x0);if(_0x112b36['length']===0x0){_0x590426[_0x18d5b3(0xbc4)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0x4e97e4='';_0x112b36[_0x18d5b3(0x5c9)](_0x116226=>{const _0x43427f=_0x18d5b3;_0x4e97e4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x116226['studentName']+_0x43427f(0x9a0),_0x116226[_0x43427f(0xde3)][_0x43427f(0x5d4)]((_0x169d10,_0x557d0b)=>new Date(_0x557d0b[_0x43427f(0x5b3)])-new Date(_0x169d10['timestamp']))[_0x43427f(0x5c9)](_0xcce17=>{const _0x3bc752=_0x43427f,_0x17c8b2=new Date(_0xcce17[_0x3bc752(0x5b3)])[_0x3bc752(0x4cd)](_0x3bc752(0x9be),{'dateStyle':_0x3bc752(0x45b),'timeStyle':_0x3bc752(0x3c0)});_0x4e97e4+=_0x3bc752(0x414)+_0xcce17[_0x3bc752(0x589)]+_0x3bc752(0xb09)+_0x17c8b2+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4e97e4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x590426[_0x18d5b3(0xbc4)]=_0x4e97e4;}function getDragAfterElement(_0x22493e,_0x51597d){const _0x193ec5=_0x13d91b,_0x3beed0=[..._0x22493e[_0x193ec5(0x77f)]('.project-card-container:not(.opacity-50)')];return _0x3beed0[_0x193ec5(0xba9)]((_0x2830c3,_0x3f61ba)=>{const _0x3c8b5e=_0x193ec5,_0x1cdbdc=_0x3f61ba[_0x3c8b5e(0x836)](),_0x45cda1=_0x51597d-_0x1cdbdc[_0x3c8b5e(0x328)]-_0x1cdbdc['height']/0x2;return _0x45cda1<0x0&&_0x45cda1>_0x2830c3[_0x3c8b5e(0x80b)]?{'offset':_0x45cda1,'element':_0x3f61ba}:_0x2830c3;},{'offset':Number[_0x193ec5(0x53d)]})[_0x193ec5(0x21d)];}async function saveProjectOrder(_0x45c655){const _0x299665=_0x13d91b,_0x251221=doc(db,'globalSettings','dashboardConfig');try{await setDoc(_0x251221,{'projectOrder':_0x45c655},{'merge':!![]});}catch(_0x44304b){console['error'](_0x299665(0x94b),_0x44304b),showMessage(_0x299665(0xa70));}}async function logBehaviorEvent(_0x5980fb,_0x7f5e00={}){const _0x324cec=_0x13d91b;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x324cec(0xaa0)](_0x324cec(0x767));return;}const _0x43f94c=doc(db,'artifacts/'+appId+_0x324cec(0x906)+currentQuizData['id']+_0x324cec(0xcae),currentStudentName),_0x225a1a={'event':_0x5980fb,'timestamp':new Date()[_0x324cec(0x700)](),..._0x7f5e00};try{await updateDoc(_0x43f94c,{'behaviorLog':arrayUnion(_0x225a1a)}),console[_0x324cec(0xcf6)]('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+_0x324cec(0xdcb));}catch(_0x1a7d2f){_0x1a7d2f['code']===_0x324cec(0x5b8)?console[_0x324cec(0xaa0)](_0x324cec(0x3af)+currentStudentName+_0x324cec(0x604)):console[_0x324cec(0x689)](_0x324cec(0x8d5),_0x1a7d2f);}}function getScoreTier(_0x1aa4d5,_0x19dcc1){const _0x5a853e=_0x13d91b;if(_0x19dcc1===0x0){if(_0x1aa4d5===0x0)return{'text':'(รอคะแนน)','icon':'⏳'};return{'text':_0x5a853e(0x4af),'icon':'😥'};}const _0x1e5bd8=_0x1aa4d5/(_0x19dcc1===0x0?0x1:_0x19dcc1);if(_0x1e5bd8===0x1)return{'text':_0x5a853e(0x6e2),'icon':'👑'};if(_0x1e5bd8>=0.7)return{'text':_0x5a853e(0xce8),'icon':'🔥'};if(_0x1e5bd8>=0.4)return{'text':_0x5a853e(0xbb1),'icon':'🏃'};return{'text':_0x5a853e(0x4af),'icon':'😥'};}function calculateMeanAndStdDev(_0x36ca3c){const _0x4572cf=_0x13d91b;if(_0x36ca3c[_0x4572cf(0x3d7)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x3aed9e=_0x36ca3c[_0x4572cf(0xba9)]((_0x38b638,_0x390c2b)=>_0x38b638+_0x390c2b,0x0)/_0x36ca3c['length'];if(_0x36ca3c[_0x4572cf(0x3d7)]===0x1)return{'mean':_0x3aed9e,'stdDev':0x0};const _0xdbdcd1=Math[_0x4572cf(0x5fe)](_0x36ca3c[_0x4572cf(0x1b0)](_0x1e2389=>Math['pow'](_0x1e2389-_0x3aed9e,0x2))['reduce']((_0x13cc4d,_0x4b6a74)=>_0x13cc4d+_0x4b6a74,0x0)/(_0x36ca3c[_0x4572cf(0x3d7)]-0x1));return{'mean':_0x3aed9e,'stdDev':_0xdbdcd1};}function calculateZScore(_0x323bc9,_0x8c1ef4,_0x583394){if(_0x583394===0x0)return 0x0;return(_0x323bc9-_0x8c1ef4)/_0x583394;}function calculateTScore(_0xa124f9){return 0xa*_0xa124f9+0x32;}function showStarredProjectView(){const _0x2c6c5a=_0x13d91b;currentProjectId=_0x2c6c5a(0x9d7),currentProjectData=null,projectTitle[_0x2c6c5a(0xd9d)]='แบบทดสอบที่ติดดาว',projectIdDisplay[_0x2c6c5a(0xd9d)]='pinned-items',showView(_0x2c6c5a(0x560)),manageTab[_0x2c6c5a(0x734)][_0x2c6c5a(0x459)]('hidden'),leaderboardTab[_0x2c6c5a(0x734)][_0x2c6c5a(0x459)](_0x2c6c5a(0x4ad)),switchProjectTab(_0x2c6c5a(0x84d)),renderQuizzes();}async function loadProjectDetails(_0x5a8736){const _0x54d541=_0x13d91b,_0x35a3fd=doc(db,'artifacts/'+appId+_0x54d541(0x90e),_0x5a8736),_0x490949=await getDoc(_0x35a3fd);if(_0x490949[_0x54d541(0x5fd)]()){manageTab[_0x54d541(0x734)]['remove'](_0x54d541(0x4ad)),leaderboardTab[_0x54d541(0x734)][_0x54d541(0x5cf)]('hidden'),currentProjectData=_0x490949[_0x54d541(0xaf3)](),projectTitle['textContent']=currentProjectData[_0x54d541(0xe04)],projectIdDisplay[_0x54d541(0xd9d)]=_0x5a8736;const _0x40db0f=currentProjectData['settings']||{};document[_0x54d541(0x916)](_0x54d541(0x471))[_0x54d541(0x93c)]=_0x40db0f['shuffleSetting']||_0x54d541(0x118);const _0x18323a=document['getElementById'](_0x54d541(0xbd7));_0x18323a[_0x54d541(0x7bc)]=_0x40db0f[_0x54d541(0x788)]!==![];const _0x3c60cd=document[_0x54d541(0x916)](_0x54d541(0x585)),_0x962485=document[_0x54d541(0x916)](_0x54d541(0xc20)),_0x3e790f=document[_0x54d541(0x916)]('project-passcode-input'),_0xc8868b=_0x40db0f['isPasscodeEnabled']||![];_0x3c60cd[_0x54d541(0x7bc)]=_0xc8868b,_0x3e790f[_0x54d541(0x93c)]=_0x40db0f[_0x54d541(0x6b2)]||'',_0x962485[_0x54d541(0x734)][_0x54d541(0x3bc)](_0x54d541(0x4ad),!_0xc8868b),_0x3c60cd[_0x54d541(0x59f)]=()=>{const _0x4b521e=_0x54d541;_0x962485[_0x4b521e(0x734)][_0x4b521e(0x3bc)](_0x4b521e(0x4ad),!_0x3c60cd[_0x4b521e(0x7bc)]);},document['getElementById'](_0x54d541(0x527))[_0x54d541(0x7bc)]=_0x40db0f['isConfidenceScoringEnabled']||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x5a8736),listenForProjectQuizzes(_0x5a8736),listenForStudentProfiles(_0x5a8736);}else showMessage(_0x54d541(0xbbc)),showView(_0x54d541(0x800));}async function handleResetProjectOrder(){const _0x414d0b=_0x13d91b,_0x23aa70=doc(db,_0x414d0b(0xc75),'dashboardConfig');try{await setDoc(_0x23aa70,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x414d0b(0x56b));}catch(_0x494170){console[_0x414d0b(0x689)](_0x414d0b(0x59d),_0x494170),showMessage(_0x414d0b(0x1fc));}}async function handleTogglePinProject(_0x1fc7ce){const _0x26898e=_0x13d91b;if(!_0x1fc7ce)return;const _0x112b12=doc(db,_0x26898e(0x54a)+appId+_0x26898e(0x90e),_0x1fc7ce);try{const _0x1dbdfa=await getDoc(_0x112b12);if(_0x1dbdfa[_0x26898e(0x5fd)]()){const _0x189eb7=_0x1dbdfa[_0x26898e(0xaf3)]()['isPinned']||![];await updateDoc(_0x112b12,{'isPinned':!_0x189eb7});}}catch(_0x3d35a4){console['error']('Error\x20toggling\x20pin\x20status:',_0x3d35a4),showMessage(_0x26898e(0x8aa));}}async function handleDeleteProject(_0x2e3e25){const _0x2b7efb=_0x13d91b;try{const _0x51bd41=writeBatch(db),_0x126954=collection(db,_0x2b7efb(0x54a)+appId+_0x2b7efb(0xd20)),_0x333bf2=query(_0x126954,where(_0x2b7efb(0x7a5),'==',_0x2e3e25)),_0x3a357a=await getDocs(_0x333bf2);for(const _0x5100db of _0x3a357a['docs']){const _0x538cf6=collection(db,_0x2b7efb(0x54a)+appId+_0x2b7efb(0x906)+_0x5100db['id']+_0x2b7efb(0xcae)),_0x2f4ecc=await getDocs(_0x538cf6);_0x2f4ecc[_0x2b7efb(0x5c9)](_0x538daf=>{const _0x1f98f6=_0x2b7efb;_0x51bd41['delete'](_0x538daf[_0x1f98f6(0xd6c)]);}),_0x51bd41[_0x2b7efb(0x9eb)](_0x5100db[_0x2b7efb(0xd6c)]);}const _0x2ceff1=collection(db,_0x2b7efb(0x54a)+appId+_0x2b7efb(0xbb9)+_0x2e3e25+_0x2b7efb(0x5ac)),_0x5d431c=await getDocs(_0x2ceff1);_0x5d431c[_0x2b7efb(0x5c9)](_0x179999=>{const _0x200143=_0x2b7efb;_0x51bd41[_0x200143(0x9eb)](_0x179999[_0x200143(0xd6c)]);});const _0x50a148=doc(db,_0x2b7efb(0x54a)+appId+_0x2b7efb(0x90e),_0x2e3e25);_0x51bd41[_0x2b7efb(0x9eb)](_0x50a148),await _0x51bd41['commit'](),showMessage(_0x2b7efb(0xad5)),showView(_0x2b7efb(0x800));}catch(_0x2ecc0a){console[_0x2b7efb(0x689)](_0x2b7efb(0x90a),_0x2ecc0a),showMessage(_0x2b7efb(0x812));}}document[_0x13d91b(0x916)](_0x13d91b(0xd0f))[_0x13d91b(0xc2d)](_0x13d91b(0xab7),async()=>{const _0x3a3fb5=_0x13d91b;if(!currentProjectId)return;const _0x234f96={'defaultNumQuestions':parseInt(document[_0x3a3fb5(0x916)](_0x3a3fb5(0x1ab))['value']),'defaultNumChoices':parseInt(document[_0x3a3fb5(0x916)](_0x3a3fb5(0x3c3))['value']),'defaultPassingScore':parseInt(document[_0x3a3fb5(0x916)]('passing-score-input')[_0x3a3fb5(0x93c)]),'resultsDisplay':document[_0x3a3fb5(0x916)]('results-display-select')[_0x3a3fb5(0x93c)],'shuffleSetting':document[_0x3a3fb5(0x916)](_0x3a3fb5(0x471))[_0x3a3fb5(0x93c)],'timerMode':document[_0x3a3fb5(0x916)]('timer-mode-select')[_0x3a3fb5(0x93c)],'timerDuration':parseInt(document['getElementById']('timer-duration-input')[_0x3a3fb5(0x93c)]),'isConfidenceScoringEnabled':document[_0x3a3fb5(0x916)](_0x3a3fb5(0x527))[_0x3a3fb5(0x7bc)],'confidenceMode':document['getElementById'](_0x3a3fb5(0x4d1))['value']};try{const _0xd44aff=doc(db,_0x3a3fb5(0x54a)+appId+_0x3a3fb5(0x90e),currentProjectId);await updateDoc(_0xd44aff,{'settings':_0x234f96}),showMessage(_0x3a3fb5(0x350));}catch(_0x48beae){console['error'](_0x3a3fb5(0x39e),_0x48beae),showMessage(_0x3a3fb5(0x1ff));}});function listenForStudents(_0x46900a){const _0x5ef6f8=_0x13d91b,_0xd7d3db=doc(db,_0x5ef6f8(0x54a)+appId+_0x5ef6f8(0x90e),_0x46900a);unsubscribeStudentsListener=onSnapshot(_0xd7d3db,_0x3338fb=>{const _0x5c004b=_0x5ef6f8;if(_0x3338fb[_0x5c004b(0x5fd)]()){const _0x3d558d=_0x3338fb[_0x5c004b(0xaf3)]();currentProjectData=_0x3d558d,renderStudentList(_0x3d558d[_0x5c004b(0xce1)]||[]);}});}function renderStudentList(_0x42d1a6){const _0x5c70f8=_0x13d91b,_0x32b8cd=document['getElementById']('delete-all-students-btn');_0x42d1a6[_0x5c70f8(0x3d7)]===0x0?(studentList[_0x5c70f8(0xbc4)]=_0x5c70f8(0xd64),_0x32b8cd[_0x5c70f8(0x734)][_0x5c70f8(0x459)](_0x5c70f8(0x4ad))):(studentList[_0x5c70f8(0xbc4)]=_0x42d1a6[_0x5c70f8(0x1b0)](_0x8748ba=>_0x5c70f8(0x4d9)+_0x8748ba+_0x5c70f8(0x799)+_0x8748ba+_0x5c70f8(0x8fd))[_0x5c70f8(0x22e)](''),_0x32b8cd['classList'][_0x5c70f8(0x5cf)](_0x5c70f8(0x4ad)));}document[_0x13d91b(0x916)](_0x13d91b(0x8d1))[_0x13d91b(0xc2d)]('click',async()=>{const _0x8f6bbb=_0x13d91b;if(!currentProjectId)return;const _0x11ef76=document['getElementById'](_0x8f6bbb(0x22b)),_0x31610a=_0x11ef76[_0x8f6bbb(0x93c)][_0x8f6bbb(0x1a0)]();if(!_0x31610a){showMessage(_0x8f6bbb(0xdba));return;}const _0x7a1ff6=_0x31610a[_0x8f6bbb(0xbba)]('\x0a')['map'](_0x8b3134=>_0x8b3134[_0x8f6bbb(0x1a0)]())[_0x8f6bbb(0xc52)](_0x72fdda=>_0x72fdda);if(_0x7a1ff6[_0x8f6bbb(0x3d7)]===0x0)return;try{const _0x50f322=doc(db,_0x8f6bbb(0x54a)+appId+_0x8f6bbb(0x90e),currentProjectId),_0x549330=await getDoc(_0x50f322);if(_0x549330['exists']()){const _0x3ed0e2=_0x549330[_0x8f6bbb(0xaf3)]()[_0x8f6bbb(0xce1)]||[],_0x389975=[...new Set([..._0x3ed0e2,..._0x7a1ff6])];await updateDoc(_0x50f322,{'students':_0x389975}),_0x11ef76['value']='';}}catch(_0x40b974){console[_0x8f6bbb(0x689)]('Error\x20adding\x20students:',_0x40b974),showMessage(_0x8f6bbb(0xb43));}});async function handleManualQuizPairing(_0x5a0cc6){const _0x405f8a=_0x13d91b,_0x1a09ee=document[_0x405f8a(0x916)](_0x405f8a(0x305)),_0x4dc863=document[_0x405f8a(0x916)]('move-quiz-project-select'),_0x32b017=_0x1a09ee[_0x405f8a(0x7f4)]('h3'),_0x358a09=document[_0x405f8a(0x916)]('confirm-move-quiz-btn'),_0x24a8e2=document[_0x405f8a(0x916)](_0x405f8a(0xcfc));_0x32b017[_0x405f8a(0xd9d)]='จับคู่เพื่อเปรียบเทียบผล',_0x4dc863[_0x405f8a(0xbc4)]=_0x405f8a(0xa34),_0x358a09[_0x405f8a(0xd9d)]=_0x405f8a(0xb92),_0x1a09ee[_0x405f8a(0x734)][_0x405f8a(0x5cf)](_0x405f8a(0x4ad));const _0x505508=allQuizzes[_0x405f8a(0xc52)](_0x2b4a70=>_0x2b4a70['id']!==_0x5a0cc6);_0x505508[_0x405f8a(0x3d7)]===0x0?(_0x4dc863[_0x405f8a(0xbc4)]=_0x405f8a(0x4cb),_0x358a09[_0x405f8a(0x426)]=!![]):(_0x4dc863[_0x405f8a(0xbc4)]=_0x405f8a(0x441)+_0x505508['map'](_0x3d632f=>_0x405f8a(0x733)+_0x3d632f['id']+'\x22>'+_0x3d632f[_0x405f8a(0xdf4)]+'</option>')[_0x405f8a(0x22e)](''),_0x358a09[_0x405f8a(0x426)]=![]);const _0x2b147e=async()=>{const _0x185cea=_0x405f8a,_0x5f59ac=_0x4dc863[_0x185cea(0x93c)];if(!_0x5f59ac){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x358a09['disabled']=!![],_0x358a09[_0x185cea(0xd9d)]=_0x185cea(0xa15);try{const _0x17e90c=doc(db,_0x185cea(0x54a)+appId+_0x185cea(0xd20),_0x5a0cc6),_0x5c53c8=doc(db,_0x185cea(0x54a)+appId+_0x185cea(0xd20),_0x5f59ac),_0x3f84ec=writeBatch(db);_0x3f84ec[_0x185cea(0x987)](_0x17e90c,{'pairedQuizId':_0x5f59ac}),_0x3f84ec[_0x185cea(0x987)](_0x5c53c8,{'pairedQuizId':_0x5a0cc6}),await _0x3f84ec[_0x185cea(0x1cc)](),showMessage(_0x185cea(0xa83)),_0x1a09ee[_0x185cea(0x734)][_0x185cea(0x459)](_0x185cea(0x4ad));}catch(_0x3f4418){console[_0x185cea(0x689)](_0x185cea(0x899),_0x3f4418),showMessage(_0x185cea(0xbca));}finally{_0x32b017[_0x185cea(0xd9d)]=_0x185cea(0xabf),_0x358a09[_0x185cea(0xd9d)]=_0x185cea(0xd97),_0x358a09[_0x185cea(0x426)]=![],_0x358a09[_0x185cea(0x124)]('click',_0x2b147e),_0x24a8e2[_0x185cea(0x124)](_0x185cea(0xab7),_0x3b1155);}},_0x3b1155=()=>{const _0x7939ac=_0x405f8a;_0x1a09ee[_0x7939ac(0x734)][_0x7939ac(0x459)](_0x7939ac(0x4ad)),_0x32b017[_0x7939ac(0xd9d)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x358a09[_0x7939ac(0xd9d)]=_0x7939ac(0xd97),_0x358a09['removeEventListener'](_0x7939ac(0xab7),_0x2b147e),_0x24a8e2[_0x7939ac(0x124)](_0x7939ac(0xab7),_0x3b1155);};_0x358a09[_0x405f8a(0xc2d)](_0x405f8a(0xab7),_0x2b147e),_0x24a8e2['addEventListener'](_0x405f8a(0xab7),_0x3b1155);}function handleDeleteStudent(_0x48fb29){const _0x50549b=_0x13d91b;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x48fb29+_0x50549b(0x33b),async()=>{const _0x12e844=_0x50549b;if(!currentProjectId||!currentProjectData)return;const _0x2fc1d3=currentProjectData[_0x12e844(0xce1)][_0x12e844(0xc52)](_0x261a79=>_0x261a79!==_0x48fb29);try{const _0x13276e=doc(db,_0x12e844(0x54a)+appId+_0x12e844(0x90e),currentProjectId),_0x13486f=doc(db,_0x12e844(0x54a)+appId+_0x12e844(0xbb9)+currentProjectId+_0x12e844(0x5ac),_0x48fb29),_0x521699=writeBatch(db);_0x521699['update'](_0x13276e,{'students':_0x2fc1d3}),_0x521699[_0x12e844(0x9eb)](_0x13486f),await _0x521699[_0x12e844(0x1cc)]();}catch(_0x3f491b){console[_0x12e844(0x689)](_0x12e844(0x304),_0x3f491b),showMessage(_0x12e844(0x93b));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0xb1209d=_0x28c2;if(!currentProjectId)return;try{const _0x20d3d2=doc(db,_0xb1209d(0x54a)+appId+_0xb1209d(0x90e),currentProjectId),_0x11761c=collection(db,_0xb1209d(0x54a)+appId+_0xb1209d(0xbb9)+currentProjectId+_0xb1209d(0x5ac)),_0x25f41b=await getDocs(_0x11761c),_0x5b0df4=writeBatch(db);_0x5b0df4[_0xb1209d(0x987)](_0x20d3d2,{'students':[]}),_0x25f41b[_0xb1209d(0x5c9)](_0x53f178=>_0x5b0df4[_0xb1209d(0x9eb)](_0x53f178[_0xb1209d(0xd6c)])),await _0x5b0df4['commit']();}catch(_0x5c3979){console[_0xb1209d(0x689)]('Error\x20deleting\x20all\x20students:',_0x5c3979),showMessage(_0xb1209d(0xbd2));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x275528){const _0x13a5c7=_0x13d91b,_0x264c9b=document[_0x13a5c7(0x916)](_0x13a5c7(0xbda)),_0x2adbc1=document[_0x13a5c7(0x916)]('file-topics-list');_0x264c9b[_0x13a5c7(0x734)][_0x13a5c7(0x5cf)]('hidden'),_0x2adbc1[_0x13a5c7(0xbc4)]=_0x13a5c7(0x57f);try{const _0x17f484=new FileReader();_0x17f484[_0x13a5c7(0xdd6)](_0x275528),await new Promise((_0x35dbc5,_0x59bab0)=>{const _0x407609=_0x13a5c7;_0x17f484[_0x407609(0x766)]=()=>{const _0x84508d=_0x407609;fileDataBase64=_0x17f484[_0x84508d(0xb68)][_0x84508d(0xbba)](',')[0x1],fileMimeType=_0x275528[_0x84508d(0x5e3)],_0x35dbc5();},_0x17f484[_0x407609(0x4e2)]=_0x3d8e00=>_0x59bab0(_0x3d8e00);});if(!fileDataBase64)throw new Error(_0x13a5c7(0x3ed));const _0x11079b=_0x13a5c7(0x29a),_0x360ab2={'type':_0x13a5c7(0xd0d),'properties':{'topics':{'type':_0x13a5c7(0x33c),'items':{'type':'STRING'}}},'required':['topics']},_0xfc719f=[{'text':_0x11079b},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x4a6588=await handleApiCall(_0xfc719f,'กำลังวิเคราะห์หัวข้อ...',_0x360ab2,null,![]);if(_0x4a6588&&_0x4a6588['topics'])extractedFileTopics=_0x4a6588[_0x13a5c7(0x196)],renderFileTopics();else throw new Error(_0x13a5c7(0x27f));}catch(_0xc6c8d6){console['error']('Error\x20analyzing\x20file\x20for\x20topics:',_0xc6c8d6),_0x2adbc1[_0x13a5c7(0xbc4)]=_0x13a5c7(0x5c7)+_0xc6c8d6[_0x13a5c7(0xbd0)]+_0x13a5c7(0x6b4);}}function renderFileTopics(){const _0x1695ad=_0x13d91b,_0x98b769=document[_0x1695ad(0x916)](_0x1695ad(0xd35));if(extractedFileTopics['length']===0x0){_0x98b769['innerHTML']=_0x1695ad(0x6bc);return;}_0x98b769[_0x1695ad(0xbc4)]=extractedFileTopics['map'](_0x185f74=>_0x1695ad(0x1fe)+_0x185f74+_0x1695ad(0x31f)+escape(_0x185f74)+_0x1695ad(0x716)+escape(_0x185f74)+_0x1695ad(0x51c))[_0x1695ad(0x22e)]('');}async function generateHybridQuizForTopic(_0x1a6d65){const _0x2c2b49=_0x13d91b,_0x270749=parseInt(document[_0x2c2b49(0x916)](_0x2c2b49(0x1ab))[_0x2c2b49(0x93c)],0xa),_0x539ad0=document[_0x2c2b49(0x916)]('quiz-type-select')[_0x2c2b49(0x93c)],_0x3ba672=document['getElementById'](_0x2c2b49(0x3c3))[_0x2c2b49(0x93c)],_0xf0f1a7=document[_0x2c2b49(0x916)](_0x2c2b49(0x54c))[_0x2c2b49(0x7bc)],_0x3c4d64=_0xf0f1a7?'สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22':_0x2c2b49(0x5c4);let _0x27072a='',_0x609c37;const _0x3f7465={'type':_0x2c2b49(0xd0d),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x2c2b49(0x33c),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2c2b49(0x90b)},'explanation':{'type':_0x2c2b49(0x330)},'imageCode':{'type':_0x2c2b49(0x330)}},'required':[_0x2c2b49(0xa35),_0x2c2b49(0x238),_0x2c2b49(0xae6),_0x2c2b49(0x51a)]},_0x575da0={'type':_0x2c2b49(0xd0d),'properties':{'questionText':{'type':_0x2c2b49(0x330)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2c2b49(0x330)}},'required':[_0x2c2b49(0xa35),'correctAnswer',_0x2c2b49(0x51a)]},_0x595a66={'type':_0x2c2b49(0xd0d),'properties':{'questionText':{'type':_0x2c2b49(0x330)},'idealAnswer':{'type':_0x2c2b49(0x330)},'explanation':{'type':_0x2c2b49(0x330)},'imageCode':{'type':_0x2c2b49(0x330)}},'required':[_0x2c2b49(0xa35),'idealAnswer',_0x2c2b49(0x51a)]},_0x2ab5b3={'type':_0x2c2b49(0xd0d),'properties':{'questionType':{'type':_0x2c2b49(0x330),'enum':[_0x2c2b49(0x416)]},'stem':{'type':_0x2c2b49(0x330)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x2c2b49(0x33c),'items':{'type':_0x2c2b49(0x330)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2c2b49(0x330)}},'required':['questionType',_0x2c2b49(0x3a9),'correctResponse',_0x2c2b49(0x47b),'explanation']};switch(_0x539ad0){case _0x2c2b49(0x3e2):_0x27072a=_0x2c2b49(0xc48)+_0x3ba672+_0x2c2b49(0x895),_0x609c37=_0x3f7465;break;case _0x2c2b49(0x54f):_0x27072a=_0x2c2b49(0x77b),_0x609c37=_0x575da0;break;case _0x2c2b49(0x549):_0x27072a='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)',_0x609c37=_0x595a66;break;case _0x2c2b49(0x613):_0x27072a=_0x2c2b49(0x883),_0x609c37=_0x2ab5b3;break;case _0x2c2b49(0x362):_0x27072a=_0x2c2b49(0x7b4)+_0x3ba672+_0x2c2b49(0x895),_0x609c37=_0x3f7465;break;default:_0x27072a='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x3ba672+_0x2c2b49(0x895),_0x609c37=_0x3f7465;break;}const _0x3b1b98=_0x2c2b49(0x90d),_0x219abc=document[_0x2c2b49(0x916)](_0x2c2b49(0x619)),_0x295a93=document['getElementById'](_0x2c2b49(0xae9)),_0x5dec84=document[_0x2c2b49(0x916)](_0x2c2b49(0xc72));document[_0x2c2b49(0x916)](_0x2c2b49(0x444))[_0x2c2b49(0x734)]['remove'](_0x2c2b49(0x4ad)),_0x5dec84[_0x2c2b49(0xbc4)]='',_0x219abc[_0x2c2b49(0x734)]['remove']('hidden'),_0x295a93[_0x2c2b49(0xd9d)]='AI\x20กำลังสร้างแบบทดสอบ\x20\x22'+_0x1a6d65+_0x2c2b49(0xcdd)+_0x270749+_0x2c2b49(0xcd0);try{const _0x2add72=_0x2c2b49(0xd3a),_0x473446='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22'+_0x1a6d65+_0x2c2b49(0x6a1)+_0x270749+_0x2c2b49(0x668)+_0x1a6d65+_0x2c2b49(0xba8)+_0x270749+_0x2c2b49(0x69a)+_0x3c4d64+_0x2c2b49(0x164)+_0x27072a+_0x2c2b49(0xc4e)+_0x3b1b98+_0x2c2b49(0xcec)+_0x2add72+_0x2c2b49(0xb80)+simpleMathPrompt+_0x2c2b49(0x109),_0x5df0f0={'type':'OBJECT','properties':{'topic':{'type':_0x2c2b49(0x330)},'questions':{'type':'ARRAY','items':_0x609c37}},'required':[_0x2c2b49(0xdf4),_0x2c2b49(0x87f)]},_0x40c7e3=[{'text':_0x473446},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x40c7e3,_0x2c2b49(0x25a)+_0x1a6d65+_0x2c2b49(0xabc),_0x5df0f0);}catch(_0x394a49){console[_0x2c2b49(0x689)](_0x2c2b49(0x684),_0x394a49),showMessage('เกิดข้อผิดพลาด:\x20'+_0x394a49[_0x2c2b49(0xbd0)]),_0x5dec84[_0x2c2b49(0xbc4)]=_0x2c2b49(0x546);}finally{_0x219abc['classList'][_0x2c2b49(0x459)](_0x2c2b49(0x4ad));}}async function handleGenerateFromFileClick(){const _0x1ac763=_0x13d91b;if(!selectedFile){showMessage(_0x1ac763(0xc7a));return;}const _0x1d4a27=document[_0x1ac763(0x916)](_0x1ac763(0x619)),_0x3f350a=document[_0x1ac763(0x916)](_0x1ac763(0xae9)),_0x581ee2=document[_0x1ac763(0x916)]('generated-quiz-container'),_0x4bc300=document['getElementById'](_0x1ac763(0x880));_0x4bc300[_0x1ac763(0x426)]=!![],document[_0x1ac763(0x916)](_0x1ac763(0x444))[_0x1ac763(0x734)][_0x1ac763(0x5cf)](_0x1ac763(0x4ad)),_0x581ee2[_0x1ac763(0xbc4)]='',_0x1d4a27[_0x1ac763(0x734)][_0x1ac763(0x5cf)](_0x1ac763(0x4ad)),_0x3f350a['textContent']=_0x1ac763(0xc49);try{const _0x2c9269=await new Promise((_0x253cfb,_0x2f12a7)=>{const _0x2112df=_0x1ac763,_0x5cbe83=new FileReader();_0x5cbe83[_0x2112df(0xdd6)](selectedFile),_0x5cbe83[_0x2112df(0x766)]=()=>_0x253cfb(_0x5cbe83[_0x2112df(0xb68)][_0x2112df(0xbba)](',')[0x1]),_0x5cbe83[_0x2112df(0x4e2)]=_0x5a2b3f=>_0x2f12a7(_0x5a2b3f);});await generateQuizFromFile(selectedFile['type'],_0x2c9269);}catch(_0x5f45e8){console[_0x1ac763(0x689)](_0x1ac763(0x926),_0x5f45e8),showMessage(_0x1ac763(0xc23)+_0x5f45e8['message']),_0x1d4a27['classList']['add']('hidden'),_0x4bc300['disabled']=![];}}function autoFormatMath(_0x235e71){const _0x2b88a5=_0x13d91b;if(typeof _0x235e71!==_0x2b88a5(0x5ba)||!_0x235e71)return _0x235e71;const _0x1c3ea1=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x47d79f=_0x235e71[_0x2b88a5(0xdb5)](_0x1c3ea1,_0x1621e3=>{const _0x433b8d=_0x2b88a5;return'$'+_0x1621e3[_0x433b8d(0x1a0)]()+'$';});return _0x47d79f;}function sanitizeQuizData(_0x28839c){const _0x4612c9=_0x13d91b;if(!_0x28839c||!_0x28839c[_0x4612c9(0x87f)])return _0x28839c;const _0x3a81f5={'imes':_0x4612c9(0x815),'div':_0x4612c9(0x4eb)},_0x149bef=_0x82075b=>{const _0x7f8c0=_0x4612c9;if(typeof _0x82075b!==_0x7f8c0(0x5ba))return _0x82075b;let _0x166e62=_0x82075b;for(const [_0x442090,_0x5fb29]of Object['entries'](_0x3a81f5)){const _0x165469=new RegExp('\x5cb'+_0x442090+'\x5cb','g');_0x166e62=_0x166e62[_0x7f8c0(0xdb5)](_0x165469,_0x5fb29);}return _0x166e62=_0x166e62[_0x7f8c0(0xdb5)](/\\\//g,'\x5cdiv'),_0x166e62=_0x166e62[_0x7f8c0(0xdb5)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x7f8c0(0x4eb))[_0x7f8c0(0xdb5)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x7f8c0(0x815))[_0x7f8c0(0xdb5)](/÷/g,_0x7f8c0(0x4eb))[_0x7f8c0(0xdb5)](/×/g,_0x7f8c0(0x815)),_0x166e62=_0x166e62[_0x7f8c0(0xdb5)](/(\d)(\\frac)/g,_0x7f8c0(0x2a1)),_0x166e62=autoFormatMath(_0x166e62),_0x166e62;};return _0x28839c[_0x4612c9(0xdf4)]&&(_0x28839c[_0x4612c9(0xdf4)]=_0x149bef(_0x28839c['topic'])),_0x28839c[_0x4612c9(0x87f)]['forEach'](_0xb5840e=>{const _0x3c22ad=_0x4612c9;_0xb5840e[_0x3c22ad(0xa35)]=_0x149bef(_0xb5840e[_0x3c22ad(0xa35)]),_0xb5840e[_0x3c22ad(0x238)]&&(_0xb5840e[_0x3c22ad(0x238)]=_0xb5840e[_0x3c22ad(0x238)][_0x3c22ad(0x1b0)](_0x149bef)),_0xb5840e[_0x3c22ad(0x51a)]&&(_0xb5840e[_0x3c22ad(0x51a)]=_0x149bef(_0xb5840e[_0x3c22ad(0x51a)])),_0xb5840e[_0x3c22ad(0x3a9)]&&(_0xb5840e['stem']=_0x149bef(_0xb5840e[_0x3c22ad(0x3a9)])),_0xb5840e[_0x3c22ad(0x994)]&&(_0xb5840e[_0x3c22ad(0x994)]=_0x149bef(_0xb5840e['correctResponse'])),_0xb5840e[_0x3c22ad(0x47b)]&&(_0xb5840e['allResponses']=_0xb5840e[_0x3c22ad(0x47b)][_0x3c22ad(0x1b0)](_0x149bef));}),_0x28839c;}const simpleMathPrompt=_0x13d91b(0x2ca);async function handleGenerateFromLink(){const _0x24d324=_0x13d91b,_0x56684f=document['getElementById']('link-url-input'),_0x583a2e=document[_0x24d324(0x916)](_0x24d324(0x3a1)),_0x194798=_0x56684f[_0x24d324(0x93c)][_0x24d324(0x1a0)](),_0x1be249=_0x583a2e[_0x24d324(0x93c)]['trim']();if(!_0x194798){showMessage(_0x24d324(0x7ae));return;}const _0x38d75d=document['getElementById'](_0x24d324(0x619)),_0x4013d4=document[_0x24d324(0x916)](_0x24d324(0xae9)),_0x533d4b=document[_0x24d324(0x916)]('generated-quiz-container'),_0x40dd96=document[_0x24d324(0x916)](_0x24d324(0xc7d));document['getElementById']('quiz-generation-area')['classList'][_0x24d324(0x5cf)](_0x24d324(0x4ad)),_0x533d4b[_0x24d324(0xbc4)]='',_0x38d75d[_0x24d324(0x734)][_0x24d324(0x5cf)](_0x24d324(0x4ad)),_0x4013d4[_0x24d324(0xd9d)]=_0x24d324(0x485),_0x40dd96['disabled']=!![];try{const _0x48b47a=_0x24d324(0x72a)+encodeURIComponent(_0x194798),_0x2ba477=await fetch(_0x48b47a);if(!_0x2ba477['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x2ba477[_0x24d324(0x127)]+')');const _0x512782=await _0x2ba477[_0x24d324(0xb52)](),_0x599c03=extractTextFromHtml(_0x512782);if(!_0x599c03||_0x599c03['length']<0x64)throw new Error(_0x24d324(0x8f9));await generateQuiz(_0x1be249,_0x599c03);}catch(_0xaf2e93){console[_0x24d324(0x689)]('Error\x20generating\x20from\x20link:',_0xaf2e93),showMessage('เกิดข้อผิดพลาด:\x20'+_0xaf2e93['message']),_0x533d4b[_0x24d324(0xbc4)]=_0x24d324(0x16c);}finally{_0x38d75d[_0x24d324(0x734)]['add'](_0x24d324(0x4ad)),_0x40dd96['disabled']=![];}}function extractTextFromHtml(_0x55d91a){const _0x430d2d=_0x13d91b,_0x4338df=new DOMParser()[_0x430d2d(0x892)](_0x55d91a,'text/html');return _0x4338df[_0x430d2d(0x77f)](_0x430d2d(0x5e6))[_0x430d2d(0x5c9)](_0x902194=>_0x902194['remove']()),_0x4338df[_0x430d2d(0x556)][_0x430d2d(0xd9d)]||'';}document[_0x13d91b(0x916)](_0x13d91b(0x8a8))[_0x13d91b(0xc2d)](_0x13d91b(0xab7),()=>{const _0x5bbd8d=_0x13d91b,_0x35269c=document[_0x5bbd8d(0x916)](_0x5bbd8d(0x11e))[_0x5bbd8d(0x93c)][_0x5bbd8d(0x1a0)]();generateQuiz(_0x35269c,null);}),document[_0x13d91b(0x916)](_0x13d91b(0xa63))[_0x13d91b(0xc2d)](_0x13d91b(0xab7),()=>{const _0x2c7465=_0x13d91b,_0x2fbf7d=document['getElementById']('text-content-input')[_0x2c7465(0x93c)][_0x2c7465(0x1a0)]();if(!_0x2fbf7d){showMessage(_0x2c7465(0x2f1));return;}const _0x50a968=document[_0x2c7465(0x916)](_0x2c7465(0x11e))[_0x2c7465(0x93c)]['trim']();generateQuiz(_0x50a968,_0x2fbf7d);});async function generateQuiz(_0x350f0b,_0x28014a,_0x1af173=null,_0xb48a94=null,_0x252d44=![],_0x259f38=null,_0x409b73=null,_0x541960=![]){const _0x2959b1=_0x13d91b;let _0x3a0d79={};if(_0x252d44&&blueprintPageSettings)_0x3a0d79=blueprintPageSettings;else{const _0x3ae843=document[_0x2959b1(0x77f)]('#math-topics-checkbox-container\x20input:checked');_0x3a0d79={'quizType':document[_0x2959b1(0x916)](_0x2959b1(0x247))[_0x2959b1(0x93c)],'numQuestions':document[_0x2959b1(0x916)](_0x2959b1(0x1ab))['value'],'numChoices':document[_0x2959b1(0x916)](_0x2959b1(0x3c3))[_0x2959b1(0x93c)],'includeImages':document[_0x2959b1(0x916)]('include-images-checkbox')['checked'],'isNormalTopic':document[_0x2959b1(0x916)]('force-math-checkbox')[_0x2959b1(0x7bc)],'difficultyValue':document[_0x2959b1(0x916)](_0x2959b1(0x622))[_0x2959b1(0x93c)],'complexityValue':document['getElementById'](_0x2959b1(0xcf3))[_0x2959b1(0x93c)],'selectedTopicNames':Array[_0x2959b1(0x199)](_0x3ae843)[_0x2959b1(0x1b0)](_0xb06f8d=>_0xb06f8d[_0x2959b1(0x93c)])};}const _0x2885dd=_0x3a0d79['isNormalTopic']?'':_0x2959b1(0x6d1),_0x4611aa=_0x3a0d79[_0x2959b1(0x3a8)]!=='auto'?_0x2959b1(0x647)+_0x3a0d79['difficultyValue']+'\x22':'',_0x54982a=_0x3a0d79['complexityValue']!==_0x2959b1(0x941)?_0x2959b1(0x950)+_0x3a0d79[_0x2959b1(0xab1)]+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy':'';let _0xc4e850='';_0x3a0d79['selectedTopicNames']&&_0x3a0d79[_0x2959b1(0x95e)][_0x2959b1(0x3d7)]>0x0&&(_0xc4e850=_0x2959b1(0x9fe)+_0x3a0d79[_0x2959b1(0x95e)][_0x2959b1(0x22e)](',\x20')+'.');let _0x2a53ab='';_0xb48a94&&(_0x2a53ab='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x563803='',_0x4856b2='',_0x42ee59,_0x261bf9=_0x2959b1(0x8eb)+_0x350f0b+'\x22';if(!_0x350f0b&&_0x28014a)_0x261bf9=_0x2959b1(0xcbc);else!_0x350f0b&&!_0x28014a&&(_0x261bf9=_0x2959b1(0xe0c));const _0x51feb7={'type':_0x2959b1(0xd0d),'properties':{'questionText':{'type':_0x2959b1(0x330)},'options':{'type':'ARRAY','items':{'type':_0x2959b1(0x330)}},'correctAnswerIndex':{'type':_0x2959b1(0x90b)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2959b1(0x330)}},'required':[_0x2959b1(0xa35),_0x2959b1(0x238),_0x2959b1(0xae6),_0x2959b1(0x51a)]},_0x1e1158={'type':_0x2959b1(0xd0d),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x2959b1(0x330)},'explanation':{'type':_0x2959b1(0x330)},'imageCode':{'type':_0x2959b1(0x330)}},'required':[_0x2959b1(0xa35),_0x2959b1(0x158),_0x2959b1(0x51a)]},_0x7c9a1b={'type':_0x2959b1(0xd0d),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x2959b1(0x330),'enum':[_0x2959b1(0x3e2),_0x2959b1(0x21b)]},'options':{'type':_0x2959b1(0x33c),'items':{'type':_0x2959b1(0x330)}},'correctAnswerIndex':{'type':_0x2959b1(0x90b)},'idealAnswer':{'type':_0x2959b1(0x330)},'explanation':{'type':_0x2959b1(0x330)},'imageCode':{'type':_0x2959b1(0x330)}},'required':[_0x2959b1(0xa35),_0x2959b1(0xa1a),_0x2959b1(0x51a)]},_0xede6ef={'type':_0x2959b1(0xd0d),'properties':{'questionText':{'type':_0x2959b1(0x330)},'correctAnswer':{'type':_0x2959b1(0x5da)},'explanation':{'type':_0x2959b1(0x330)},'imageCode':{'type':_0x2959b1(0x330)}},'required':[_0x2959b1(0xa35),_0x2959b1(0xcdb),_0x2959b1(0x51a)]},_0x45e585={'type':'OBJECT','properties':{'questionType':{'type':_0x2959b1(0x330),'enum':[_0x2959b1(0x416)]},'stem':{'type':_0x2959b1(0x330)},'correctResponse':{'type':_0x2959b1(0x330)},'allResponses':{'type':_0x2959b1(0x33c),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2959b1(0x330)}},'required':[_0x2959b1(0xa1a),_0x2959b1(0x3a9),_0x2959b1(0x994),_0x2959b1(0x47b),_0x2959b1(0x51a)]};let _0x386e66;if(_0x1af173!==null){const _0x9344b7=currentQuizData[_0x2959b1(0x87f)][_0x1af173][_0x2959b1(0xa1a)],_0x37e28b=_0x3a0d79[_0x2959b1(0x908)]?_0x2959b1(0xd7b):'';_0x563803=_0x2959b1(0xd09)+_0x261bf9+'\x20'+_0xc4e850+'\x20'+_0x4611aa+_0x2959b1(0x6a5)+_0x37e28b+'\x20'+simpleMathPrompt;if(_0x9344b7===_0x2959b1(0x3e2))_0x42ee59=_0x51feb7;else{if(_0x9344b7==='matching_item')_0x42ee59={'type':'OBJECT','properties':{'questionType':{'type':_0x2959b1(0x330),'enum':[_0x2959b1(0x416)]},'stem':{'type':_0x2959b1(0x330)},'correctResponse':{'type':_0x2959b1(0x330)},'explanation':{'type':_0x2959b1(0x330)},'imageCode':{'type':_0x2959b1(0x330)}},'required':[_0x2959b1(0xa1a),_0x2959b1(0x3a9),_0x2959b1(0x994),_0x2959b1(0x51a)]};else _0x42ee59=_0x1e1158;}_0x386e66=_0x42ee59;}else{const _0x4aaf17=_0x3a0d79[_0x2959b1(0x908)]?_0x2959b1(0x9e8):'';switch(_0x3a0d79['quizType']){case'multiple_choice':_0x563803='สร้างแบบทดสอบปรนัย'+_0x2885dd+'\x20'+_0x3a0d79['numQuestions']+_0x2959b1(0xe01)+_0x261bf9+'\x20'+_0xc4e850+'\x20'+_0x4611aa+'\x20'+_0x54982a+'\x20'+_0x2a53ab+'.\x20แต่ละข้อมี\x20'+_0x3a0d79['numChoices']+_0x2959b1(0xd87)+_0x4aaf17+'\x20'+simpleMathPrompt,_0x42ee59=_0x51feb7;break;case _0x2959b1(0x362):_0x563803='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x2885dd+'\x20'+_0x3a0d79['numQuestions']+'\x20ข้อ\x20'+_0x261bf9+'\x20'+_0xc4e850+'\x20'+_0x4611aa+'\x20'+_0x54982a+'\x20'+_0x2a53ab+_0x2959b1(0x8f2)+_0x3a0d79[_0x2959b1(0x192)]+_0x2959b1(0x265)+_0x4aaf17+'\x20'+simpleMathPrompt,_0x42ee59=_0x51feb7;break;case'fill_in_no_choices':_0x563803=_0x2959b1(0x37e)+_0x2885dd+'\x20'+_0x3a0d79['numQuestions']+_0x2959b1(0xe01)+_0x261bf9+'\x20'+_0xc4e850+'\x20'+_0x4611aa+'\x20'+_0x54982a+'\x20'+_0x2a53ab+_0x2959b1(0x9bb)+_0x4aaf17+'\x20'+simpleMathPrompt,_0x42ee59=_0x1e1158;break;case _0x2959b1(0x941):_0x563803=_0x2959b1(0x6ac)+_0x2885dd+'\x20'+_0x3a0d79[_0x2959b1(0x10f)]+'\x20ข้อ\x20'+_0x261bf9+'\x20'+_0xc4e850+'\x20'+_0x4611aa+'\x20'+_0x54982a+'\x20'+_0x2a53ab+',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x3a0d79[_0x2959b1(0x192)]+_0x2959b1(0x77a)+_0x4aaf17+'\x20'+simpleMathPrompt+'.',_0x42ee59=_0x7c9a1b;break;case'true_false':_0x563803=_0x2959b1(0xc83)+_0x2885dd+'\x20'+_0x3a0d79[_0x2959b1(0x10f)]+_0x2959b1(0xe01)+_0x261bf9+'\x20'+_0xc4e850+'\x20'+_0x4611aa+'\x20'+_0x54982a+'\x20'+_0x2a53ab+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x4aaf17+'\x20'+simpleMathPrompt,_0x42ee59=_0xede6ef;break;case _0x2959b1(0x613):_0x563803=_0x2959b1(0x2d9)+_0x2885dd+'\x20'+_0x3a0d79[_0x2959b1(0x10f)]+_0x2959b1(0xddb)+_0x261bf9+'\x20'+_0xc4e850+'\x20'+_0x4611aa+'\x20'+_0x54982a+'\x20'+_0x2a53ab+_0x2959b1(0x740)+_0x4aaf17+'\x20'+simpleMathPrompt,_0x42ee59=_0x45e585;break;}_0x386e66={'type':_0x2959b1(0xd0d),'properties':{'topic':{'type':_0x2959b1(0x330)},'questions':{'type':_0x2959b1(0x33c),'items':_0x42ee59}},'required':[_0x2959b1(0xdf4),_0x2959b1(0x87f)]};}const _0x1dcfbc=_0x2959b1(0x78e);_0x28014a?(_0x541960?_0x563803=_0x2959b1(0xd25)+_0x28014a+_0x2959b1(0xde7)+_0x563803+_0x1dcfbc:_0x563803='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x28014a+_0x2959b1(0xde7)+_0x563803,_0x4856b2=_0x2959b1(0x369)):(_0x541960&&(_0x563803+=_0x1dcfbc),_0x4856b2=_0x2959b1(0xc21));let _0x49c7c3;return _0xb48a94?(_0x49c7c3=[{'text':_0x563803},..._0xb48a94],_0x4856b2=_0x2959b1(0xc90)):_0x49c7c3=_0x563803,handleApiCall(_0x49c7c3,_0x4856b2,_0x386e66,_0x1af173,!![],_0x259f38,_0x409b73);}async function generateQuizFromFile(_0x2dc2e6,_0x11e3a2){const _0x26727f=_0x13d91b,_0x1671c1=document[_0x26727f(0x916)](_0x26727f(0x29f))[_0x26727f(0x93c)][_0x26727f(0x1a0)](),_0x37055d=document[_0x26727f(0x916)](_0x26727f(0x247))['value'],_0xa10ac2=document[_0x26727f(0x916)]('num-questions')[_0x26727f(0x93c)],_0x393284=document[_0x26727f(0x916)]('num-choices')[_0x26727f(0x93c)],_0x4f0b32=document[_0x26727f(0x916)](_0x26727f(0x54c))[_0x26727f(0x7bc)],_0x970294=document[_0x26727f(0x916)]('force-math-checkbox')[_0x26727f(0x7bc)],_0x26200b=_0x970294?'':_0x26727f(0x6d1),_0x1fbd94=document[_0x26727f(0x916)]('original-mode-checkbox')[_0x26727f(0x7bc)];let _0x4a114c='',_0x18091b;const _0x1670b8=_0x4f0b32?_0x26727f(0x9e8):'';if(_0x1fbd94)_0x4a114c=_0x26727f(0x6e5)+_0x1670b8+'\x0a'+simpleMathPrompt+'\x0a',_0x18091b={'type':_0x26727f(0xd0d),'properties':{'questionText':{'type':_0x26727f(0x330)},'questionType':{'type':_0x26727f(0x330),'enum':[_0x26727f(0x3e2),_0x26727f(0x21b),_0x26727f(0x54f),_0x26727f(0x416)]},'options':{'type':_0x26727f(0x33c),'items':{'type':_0x26727f(0x330)}},'correctAnswerIndex':{'type':_0x26727f(0x90b)},'idealAnswer':{'type':_0x26727f(0x330)},'correctAnswer':{'type':_0x26727f(0x5da)},'stem':{'type':_0x26727f(0x330)},'correctResponse':{'type':_0x26727f(0x330)},'allResponses':{'type':_0x26727f(0x33c),'items':{'type':_0x26727f(0x330)}},'explanation':{'type':_0x26727f(0x330)},'imageCode':{'type':_0x26727f(0x330)}},'required':[_0x26727f(0xa1a),_0x26727f(0x51a)]};else{let _0x1ec6ed=_0x26727f(0x8eb)+_0x1671c1+'\x22';!_0x1671c1&&(_0x1ec6ed='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');switch(_0x37055d){case _0x26727f(0x3e2):_0x4a114c=_0x26727f(0x1d1)+_0x26200b+'\x20'+_0xa10ac2+_0x26727f(0xe01)+_0x1ec6ed+_0x26727f(0x889)+_0x393284+_0x26727f(0xd87)+_0x1670b8+'\x20'+simpleMathPrompt,_0x18091b={'type':_0x26727f(0xd0d),'properties':{'questionText':{'type':_0x26727f(0x330)},'options':{'type':_0x26727f(0x33c),'items':{'type':_0x26727f(0x330)}},'correctAnswerIndex':{'type':_0x26727f(0x90b)},'explanation':{'type':_0x26727f(0x330)},'imageCode':{'type':_0x26727f(0x330)}},'required':[_0x26727f(0xa35),'options','correctAnswerIndex','explanation']};break;case _0x26727f(0x362):_0x4a114c=_0x26727f(0x37e)+_0x26200b+'\x20'+_0xa10ac2+_0x26727f(0xe01)+_0x1ec6ed+_0x26727f(0x8f2)+_0x393284+_0x26727f(0x265)+_0x1670b8+'\x20'+simpleMathPrompt,_0x18091b={'type':_0x26727f(0xd0d),'properties':{'questionText':{'type':_0x26727f(0x330)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x26727f(0x90b)},'explanation':{'type':_0x26727f(0x330)},'imageCode':{'type':'STRING'}},'required':[_0x26727f(0xa35),_0x26727f(0x238),_0x26727f(0xae6),_0x26727f(0x51a)]};break;case'fill_in_no_choices':_0x4a114c='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x26200b+'\x20'+_0xa10ac2+_0x26727f(0xe01)+_0x1ec6ed+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20'+_0x1670b8+'\x20'+simpleMathPrompt,_0x18091b={'type':_0x26727f(0xd0d),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x26727f(0x330)},'explanation':{'type':_0x26727f(0x330)},'imageCode':{'type':_0x26727f(0x330)}},'required':[_0x26727f(0xa35),_0x26727f(0x158),'explanation']};break;case _0x26727f(0x941):_0x4a114c=_0x26727f(0x6ac)+_0x26200b+'\x20'+_0xa10ac2+_0x26727f(0xe01)+_0x1ec6ed+_0x26727f(0x618)+_0x393284+_0x26727f(0x8e7)+_0x1670b8+'\x20'+simpleMathPrompt+_0x26727f(0x185),_0x18091b={'type':'OBJECT','properties':{'questionText':{'type':_0x26727f(0x330)},'questionType':{'type':_0x26727f(0x330),'enum':[_0x26727f(0x3e2),'short_answer']},'options':{'type':_0x26727f(0x33c),'items':{'type':_0x26727f(0x330)}},'correctAnswerIndex':{'type':_0x26727f(0x90b)},'idealAnswer':{'type':_0x26727f(0x330)},'explanation':{'type':_0x26727f(0x330)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x26727f(0xa1a),_0x26727f(0x51a)]};break;case'true_false':_0x4a114c=_0x26727f(0xc83)+_0x26200b+'\x20'+_0xa10ac2+_0x26727f(0xe01)+_0x1ec6ed+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x1670b8+'\x20'+simpleMathPrompt,_0x18091b={'type':'OBJECT','properties':{'questionText':{'type':_0x26727f(0x330)},'correctAnswer':{'type':_0x26727f(0x5da)},'explanation':{'type':_0x26727f(0x330)},'imageCode':{'type':'STRING'}},'required':[_0x26727f(0xa35),'correctAnswer',_0x26727f(0x51a)]};break;case'matching':_0x4a114c='สร้างชุดคำถามจับคู่'+_0x26200b+'\x20'+_0xa10ac2+'\x20คู่\x20'+_0x1ec6ed+_0x26727f(0x66a)+_0xa10ac2+_0x26727f(0x6c7)+_0x1670b8+'\x20'+simpleMathPrompt,_0x18091b={'type':_0x26727f(0xd0d),'properties':{'questionType':{'type':_0x26727f(0x330),'enum':[_0x26727f(0x416)]},'stem':{'type':_0x26727f(0x330)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x26727f(0x33c),'items':{'type':_0x26727f(0x330)}},'explanation':{'type':_0x26727f(0x330)},'imageCode':{'type':_0x26727f(0x330)}},'required':[_0x26727f(0xa1a),_0x26727f(0x3a9),_0x26727f(0x994),'allResponses',_0x26727f(0x51a)]};break;}}const _0x4d9e4d={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x26727f(0x33c),'items':_0x18091b}},'required':[_0x26727f(0xdf4),'questions']},_0x45d608=_0x26727f(0x1a6)+_0x4a114c,_0x53eb33={'contents':[{'parts':[{'text':_0x45d608},{'inlineData':{'mimeType':_0x2dc2e6,'data':_0x11e3a2}}]}],'generationConfig':{'responseMimeType':_0x26727f(0xa9a),'responseSchema':_0x4d9e4d}};return handleApiCall(_0x53eb33[_0x26727f(0x4f5)][0x0][_0x26727f(0x83c)],_0x26727f(0xd5f),_0x4d9e4d);}async function handleApiCall(_0x429035,_0x8a49c9,_0x56c683,_0x1dfac0=null,_0x31436a=!![],_0x1e9d49=null,_0x30ebb1=null){const _0x236029=_0x13d91b,_0x427782=document[_0x236029(0x916)](_0x236029(0x444)),_0x25c3ad=document[_0x236029(0x916)](_0x236029(0x619)),_0x23d8b6=document[_0x236029(0x916)](_0x236029(0xae9)),_0x460154=document[_0x236029(0x916)](_0x236029(0xc72));_0x427782[_0x236029(0x734)]['remove']('hidden');_0x1dfac0===null&&_0x31436a&&(_0x460154[_0x236029(0xbc4)]='');_0x25c3ad['classList'][_0x236029(0x5cf)](_0x236029(0x4ad)),_0x23d8b6[_0x236029(0xd9d)]=_0x8a49c9,document[_0x236029(0x916)](_0x236029(0x8a8))['disabled']=!![],document[_0x236029(0x916)](_0x236029(0xa63))[_0x236029(0x426)]=!![],document[_0x236029(0x916)]('generate-from-link-btn')[_0x236029(0x426)]=!![];const _0x4d6078=document[_0x236029(0x916)]('generate-from-file-btn');if(_0x4d6078)_0x4d6078[_0x236029(0x426)]=!![];const _0x57ed8f=document[_0x236029(0x916)]('generate-from-blueprint-btn');if(_0x57ed8f)_0x57ed8f['disabled']=!![];const _0x4c8568=document[_0x236029(0x916)](_0x236029(0xa64));if(_0x4c8568)_0x4c8568[_0x236029(0x426)]=!![];try{const _0x17a7d5=Array[_0x236029(0x796)](_0x429035)?_0x429035:[{'text':_0x429035}],_0x595d1f={'contents':[{'role':_0x236029(0xcb6),'parts':_0x17a7d5}]};_0x56c683&&(_0x595d1f[_0x236029(0xacb)]={'responseMimeType':_0x236029(0xa9a),'responseSchema':_0x56c683});const _0x644067=_0x236029(0xb7d),_0x346911='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key='+_0x644067,_0x199756=await fetch(_0x346911,{'method':_0x236029(0x970),'headers':{'Content-Type':'application/json'},'body':JSON[_0x236029(0x163)](_0x595d1f)});if(!_0x199756['ok']){const _0x3e1216=await _0x199756['text']();console[_0x236029(0x689)](_0x236029(0x5e2),_0x3e1216);throw new Error(_0x236029(0x4cf)+_0x199756['status']);}const _0xca41a9=await _0x199756[_0x236029(0xc06)]();if(!_0xca41a9[_0x236029(0xb81)]||_0xca41a9[_0x236029(0xb81)]['length']===0x0){let _0x175e16=_0x236029(0x85f);return _0xca41a9[_0x236029(0x7e9)]?.[_0x236029(0x4ab)]&&(_0x175e16=_0x236029(0x35c)+_0xca41a9[_0x236029(0x7e9)][_0x236029(0x4ab)]+'.'),console['error'](_0x175e16,JSON[_0x236029(0x163)](_0xca41a9)),null;}const _0x27e3b1=_0xca41a9[_0x236029(0xb81)][0x0][_0x236029(0x392)][_0x236029(0x83c)][0x0][_0x236029(0xb52)];if(_0x56c683){let _0x131afb=_0x27e3b1;if(_0x131afb['startsWith'](_0x236029(0x707)))_0x131afb=_0x131afb['substring'](0x7,_0x131afb[_0x236029(0x3d7)]-0x3)[_0x236029(0x1a0)]();else _0x131afb['startsWith'](_0x236029(0x287))&&(_0x131afb=_0x131afb[_0x236029(0x197)](0x3,_0x131afb['length']-0x3)[_0x236029(0x1a0)]());let _0x23fe2b=JSON[_0x236029(0x97f)](_0x131afb);if(_0x31436a){if(_0x1dfac0!==null){}else currentQuizData=_0x23fe2b,displayGeneratedQuiz(currentQuizData,_0x1e9d49,_0x30ebb1);}return _0x23fe2b;}else return _0x27e3b1;}catch(_0x56a426){console['error']('Error\x20in\x20handleApiCall:',_0x56a426),showMessage(_0x236029(0x4ee)+_0x56a426['message']);_0x31436a&&(_0x460154['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>');throw _0x56a426;}finally{_0x25c3ad['classList'][_0x236029(0x459)](_0x236029(0x4ad)),document[_0x236029(0x916)](_0x236029(0x8a8))['disabled']=![],document[_0x236029(0x916)](_0x236029(0xa63))[_0x236029(0x426)]=![],document[_0x236029(0x916)](_0x236029(0xc7d))['disabled']=![];if(_0x4d6078)_0x4d6078[_0x236029(0x426)]=![];if(_0x57ed8f)_0x57ed8f[_0x236029(0x426)]=![];if(_0x4c8568)_0x4c8568[_0x236029(0x426)]=![];}}function exitFullscreen(){const _0x31b0e8=_0x13d91b;if(document[_0x31b0e8(0xdc8)])document[_0x31b0e8(0xdc8)]()['catch'](_0x25d40c=>console[_0x31b0e8(0x689)](_0x25d40c));else{if(document[_0x31b0e8(0xc68)])document[_0x31b0e8(0xc68)]();else document[_0x31b0e8(0x2ee)]&&document[_0x31b0e8(0x2ee)]();}}function enterFullscreen(){const _0x1fe535=_0x13d91b,_0x135dbb=document[_0x1fe535(0x5ce)];if(_0x135dbb[_0x1fe535(0xdda)])_0x135dbb[_0x1fe535(0xdda)]()[_0x1fe535(0x161)](_0x4d30c6=>{const _0x401243=_0x1fe535;console[_0x401243(0x689)](_0x401243(0x2ec)+_0x4d30c6['message']+'\x20('+_0x4d30c6[_0x401243(0x34b)]+')');});else{if(_0x135dbb['webkitRequestFullscreen'])_0x135dbb[_0x1fe535(0x359)]();else _0x135dbb[_0x1fe535(0x6f6)]&&_0x135dbb[_0x1fe535(0x6f6)]();}}function handleCheatingEvent(){const _0x5969b7=_0x13d91b;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x5969b7(0x6ed),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x5969b7(0xaa1)+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document['getElementById']('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x5969b7(0x124)](_0x5969b7(0x945),handleVisibilityChange),document[_0x5969b7(0x124)](_0x5969b7(0x891),handleFullscreenChange)):showMessage(_0x5969b7(0x2d2)+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x401714=_0x13d91b;if(currentMode===_0x401714(0xd30)||!isQuizActive)return;if(document[_0x401714(0xbe0)]===_0x401714(0x4ad))handleCheatingEvent();else document[_0x401714(0xbe0)]==='visible'&&(console['log']('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x3b09c3=_0x13d91b;if(currentMode===_0x3b09c3(0xd30)||!isQuizActive)return;!document[_0x3b09c3(0xda5)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x1d5f58,_0x43dff3=null,_0x407faa=null){const _0x9dd157=_0x13d91b,_0x1145aa=document[_0x9dd157(0x916)](_0x9dd157(0xc72));let _0x5d49a0='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x1d5f58['topic']+_0x9dd157(0x53c);_0x1d5f58['questions']['forEach']((_0x452fec,_0x47988c)=>{const _0x4ee38a=_0x9dd157;!_0x452fec['id']&&(_0x452fec['id']='q_'+Date['now']()+'_'+_0x47988c);const _0x267dc0=_0x452fec[_0x4ee38a(0xa1a)]||_0x1d5f58['quizType'];_0x5d49a0+=_0x4ee38a(0x301)+_0x47988c+_0x4ee38a(0x82a)+_0x47988c+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x47988c+_0x4ee38a(0x955);switch(_0x267dc0){case'matching_item':_0x5d49a0+=_0x4ee38a(0xa03)+_0x47988c+'\x22>'+(_0x47988c+0x1)+'.\x20'+_0x452fec['stem']+_0x4ee38a(0x6b4);_0x452fec[_0x4ee38a(0x6d6)]&&(_0x5d49a0+=_0x4ee38a(0x4da)+_0x47988c+_0x4ee38a(0x7bd)+_0x452fec['imageCode']+_0x4ee38a(0xa4f));_0x5d49a0+=_0x4ee38a(0x8ef)+_0x47988c+'\x22>'+_0x452fec['correctResponse']+_0x4ee38a(0x749),_0x5d49a0+=_0x4ee38a(0x810)+_0x47988c+'\x22>'+_0x452fec[_0x4ee38a(0x51a)]+_0x4ee38a(0x749);break;case _0x4ee38a(0x21b):_0x5d49a0+=_0x4ee38a(0xa03)+_0x47988c+'\x22>'+(_0x47988c+0x1)+'.\x20'+_0x452fec[_0x4ee38a(0xa35)]+'</p>';_0x452fec['imageCode']&&(_0x5d49a0+=_0x4ee38a(0x4da)+_0x47988c+_0x4ee38a(0x7bd)+_0x452fec[_0x4ee38a(0x6d6)]+_0x4ee38a(0xa4f));_0x5d49a0+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x47988c+'\x22>'+_0x452fec[_0x4ee38a(0x158)]+_0x4ee38a(0x749),_0x5d49a0+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x47988c+'\x22>'+_0x452fec[_0x4ee38a(0x51a)]+'</span></div>';break;case _0x4ee38a(0x54f):_0x5d49a0+=_0x4ee38a(0xa03)+_0x47988c+'\x22>'+(_0x47988c+0x1)+'.\x20'+_0x452fec[_0x4ee38a(0xa35)]+_0x4ee38a(0x6b4);_0x452fec['imageCode']&&(_0x5d49a0+=_0x4ee38a(0x4da)+_0x47988c+_0x4ee38a(0x7bd)+_0x452fec[_0x4ee38a(0x6d6)]+_0x4ee38a(0xa4f));_0x5d49a0+=_0x4ee38a(0x18c)+(_0x452fec[_0x4ee38a(0xcdb)]===!![]?_0x4ee38a(0x9ed):'')+_0x4ee38a(0xc1f)+(_0x452fec[_0x4ee38a(0xcdb)]===![]?_0x4ee38a(0x9ed):'')+_0x4ee38a(0x115),_0x5d49a0+=_0x4ee38a(0x810)+_0x47988c+'\x22>'+_0x452fec['explanation']+_0x4ee38a(0x749);break;case _0x4ee38a(0x14d):case _0x4ee38a(0x3e2):default:_0x5d49a0+=_0x4ee38a(0xa03)+_0x47988c+'\x22>'+(_0x47988c+0x1)+'.\x20'+_0x452fec[_0x4ee38a(0xa35)]+_0x4ee38a(0x6b4);_0x452fec['imageCode']&&(_0x5d49a0+=_0x4ee38a(0x4da)+_0x47988c+_0x4ee38a(0x7bd)+_0x452fec[_0x4ee38a(0x6d6)]+'</div>');_0x5d49a0+=_0x4ee38a(0x682)+_0x47988c+_0x4ee38a(0x1ae)+(_0x452fec[_0x4ee38a(0x238)]||[])[_0x4ee38a(0x1b0)]((_0xc5ff8f,_0x1b5f4f)=>_0x4ee38a(0x492)+(_0x1b5f4f===_0x452fec[_0x4ee38a(0xae6)]?'text-green-600\x20font-bold':'')+'\x22>'+_0xc5ff8f+_0x4ee38a(0x86d))[_0x4ee38a(0x22e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0x5d49a0+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x47988c+'\x22>'+_0x452fec['explanation']+_0x4ee38a(0x749);break;}_0x5d49a0+=_0x4ee38a(0xa4f);}),_0x5d49a0+=_0x9dd157(0x9d8),_0x1145aa['innerHTML']=_0x5d49a0,document[_0x9dd157(0x77f)](_0x9dd157(0xd07))['forEach'](_0x4dd9ab=>_0x4dd9ab['addEventListener'](_0x9dd157(0xab7),handleEditQuestion)),document['querySelectorAll'](_0x9dd157(0xdce))[_0x9dd157(0x5c9)](_0x432510=>_0x432510[_0x9dd157(0xc2d)](_0x9dd157(0xab7),handleRegenerateQuestion)),document[_0x9dd157(0x916)](_0x9dd157(0xd68))[_0x9dd157(0xc2d)](_0x9dd157(0xab7),exportQuizAsWorksheetPDF),document[_0x9dd157(0x916)](_0x9dd157(0x79d))[_0x9dd157(0xc2d)](_0x9dd157(0xab7),handleVerifyAnswers);const _0x360dce=document[_0x9dd157(0x916)](_0x9dd157(0x19d));if(_0x360dce){const _0x549f6f=_0x43dff3||currentProjectId;_0x360dce['addEventListener'](_0x9dd157(0xab7),()=>saveQuiz(_0x549f6f,_0x407faa));}if(window[_0x9dd157(0xcaf)])window[_0x9dd157(0xcaf)][_0x9dd157(0x1cd)]([_0x1145aa]);}function handleRegenerateQuestion(_0x3fa72e){const _0x58a838=_0x13d91b,_0x23dad7=_0x3fa72e[_0x58a838(0xb88)][_0x58a838(0xcba)]['index'],_0x5bcf7c=currentQuizData[_0x58a838(0xdf4)];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x23dad7)+0x1)+_0x58a838(0x94f)),generateQuiz(_0x5bcf7c,null,parseInt(_0x23dad7));}function getPointerPosition(_0x55da19,_0x55403a){const _0x5bb135=_0x13d91b,_0x5cbb13=_0x55da19[_0x5bb135(0x8d7)]();let _0x4db1c4,_0x426740;return _0x55403a['touches']&&_0x55403a[_0x5bb135(0x7d9)][_0x5bb135(0x3d7)]>0x0?(_0x4db1c4=_0x55403a[_0x5bb135(0x7d9)][0x0][_0x5bb135(0x204)],_0x426740=_0x55403a['touches'][0x0][_0x5bb135(0xcac)]):(_0x4db1c4=_0x55403a[_0x5bb135(0x204)],_0x426740=_0x55403a[_0x5bb135(0xcac)]),{'x':(_0x4db1c4-_0x5cbb13['e'])/_0x5cbb13['a'],'y':(_0x426740-_0x5cbb13['f'])/_0x5cbb13['d']};}function startDrag(_0x330b07){const _0x4a54cb=_0x13d91b;_0x330b07[_0x4a54cb(0x5e3)]===_0x4a54cb(0x3b3)&&_0x330b07['preventDefault']();const _0x767d4e=_0x330b07[_0x4a54cb(0x3fe)]['closest'](_0x4a54cb(0xc99));if(_0x767d4e){draggedSvgElement=_0x767d4e;const _0x2d85e5=draggedSvgElement[_0x4a54cb(0xb57)],_0x365b70=getPointerPosition(_0x2d85e5,_0x330b07);svgOffset['x']=_0x365b70['x']-parseFloat(draggedSvgElement[_0x4a54cb(0xa54)](null,'x')),svgOffset['y']=_0x365b70['y']-parseFloat(draggedSvgElement[_0x4a54cb(0xa54)](null,'y'));}}function calculateItemAnalysis(_0x3b6e51,_0x3c7122){const _0x51b430=_0x13d91b,_0x2e04bb={};if(_0x3c7122['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x6e8ba=[..._0x3c7122][_0x51b430(0x5d4)]((_0x1dc281,_0x2ed176)=>{const _0x35c41d=_0x51b430,_0x2b90ef=_0x2ed176[_0x35c41d(0x97a)]-_0x1dc281['latestScore'];if(_0x2b90ef!==0x0)return _0x2b90ef;const _0x7bdf3c=_0x1dc281['attempts']?.[_0x35c41d(0x3d7)]||0x1,_0x43ed58=_0x2ed176[_0x35c41d(0x641)]?.[_0x35c41d(0x3d7)]||0x1,_0x41d664=_0x7bdf3c-_0x43ed58;if(_0x41d664!==0x0)return _0x41d664;const _0x3b61ba=new Date(_0x1dc281[_0x35c41d(0xcd3)]),_0x33f42f=new Date(_0x2ed176[_0x35c41d(0xcd3)]),_0x3be8bc=_0x3b61ba-_0x33f42f;if(_0x3be8bc!==0x0)return _0x3be8bc;return _0x1dc281[_0x35c41d(0x7b1)]['localeCompare'](_0x2ed176[_0x35c41d(0x7b1)],'th');}),_0x1d45df=_0x6e8ba[_0x51b430(0x3d7)],_0x1e2cf2=Math[_0x51b430(0x88a)](0x1,Math['floor'](_0x1d45df*0.33));if(_0x1e2cf2===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0xc69669=_0x6e8ba[_0x51b430(0x3e6)](0x0,_0x1e2cf2),_0x311d1d=_0x6e8ba[_0x51b430(0x3e6)](-_0x1e2cf2),_0x41e814=_0xc69669['map'](_0x5ca406=>_0x5ca406[_0x51b430(0x7b1)]),_0x3eaa47=_0x311d1d['map'](_0x436c1c=>_0x436c1c['studentName']);return _0x3b6e51[_0x51b430(0x87f)][_0x51b430(0x5c9)]((_0x3a1ee3,_0x48f48f)=>{const _0x554045=_0x51b430,_0x401f40=_0x3a1ee3[_0x554045(0x3a9)]||_0x3a1ee3['questionText'];let _0x1b6570=0x0,_0x46044f=0x0,_0x42f715=0x0;const _0x2028bd=[],_0x345536=[];_0xc69669['forEach'](_0x3cd3c3=>{const _0x3d5035=_0x554045,_0x2ada11=_0x3cd3c3['attempts'][_0x3cd3c3[_0x3d5035(0x641)][_0x3d5035(0x3d7)]-0x1],_0x2cda98=_0x2ada11['answers'][_0x3d5035(0xa3d)](_0x30f57b=>_0x30f57b[_0x3d5035(0xdfa)]===_0x401f40);_0x2028bd[_0x3d5035(0x298)]({'name':_0x3cd3c3['studentName'],'isCorrect':_0x2cda98?_0x2cda98[_0x3d5035(0x832)]:![]}),_0x2cda98&&_0x2cda98['isCorrect']&&_0x46044f++;}),_0x311d1d[_0x554045(0x5c9)](_0xefec41=>{const _0x79b089=_0x554045,_0x1479c6=_0xefec41[_0x79b089(0x641)][_0xefec41['attempts'][_0x79b089(0x3d7)]-0x1],_0x4c29dc=_0x1479c6[_0x79b089(0x367)][_0x79b089(0xa3d)](_0x382a2f=>_0x382a2f[_0x79b089(0xdfa)]===_0x401f40);_0x345536[_0x79b089(0x298)]({'name':_0xefec41['studentName'],'isCorrect':_0x4c29dc?_0x4c29dc[_0x79b089(0x832)]:![]}),_0x4c29dc&&_0x4c29dc[_0x79b089(0x832)]&&_0x42f715++;}),_0x3c7122[_0x554045(0x5c9)](_0x55aa3d=>{const _0x5b66a7=_0x554045,_0x5c2c17=_0x55aa3d[_0x5b66a7(0x641)][_0x55aa3d[_0x5b66a7(0x641)]['length']-0x1],_0x5a49a7=_0x5c2c17[_0x5b66a7(0x367)][_0x5b66a7(0xa3d)](_0x3610fc=>_0x3610fc[_0x5b66a7(0xdfa)]===_0x401f40);_0x5a49a7&&_0x5a49a7[_0x5b66a7(0x832)]&&_0x1b6570++;});const _0x547193=_0x1d45df>0x0?_0x1b6570/_0x1d45df:0x0,_0x53b032=_0x1e2cf2>0x0?_0x46044f/_0x1e2cf2-_0x42f715/_0x1e2cf2:0x0;_0x2e04bb[_0x48f48f]={'p':_0x547193,'r':_0x53b032,'upperGroupResponders':_0x2028bd,'lowerGroupResponders':_0x345536};}),{'perQuestionStats':_0x2e04bb,'overallGroups':{'upperGroupNames':_0x41e814,'lowerGroupNames':_0x3eaa47}};}function drag(_0x28d405){const _0x491f04=_0x13d91b;if(draggedSvgElement){_0x28d405[_0x491f04(0x452)]();const _0x371f3c=draggedSvgElement[_0x491f04(0xb57)],_0x3160c5=getPointerPosition(_0x371f3c,_0x28d405),_0x4811be=_0x371f3c[_0x491f04(0xd70)]['baseVal'];let _0x1e85ce=_0x3160c5['x']-svgOffset['x'],_0x21ef7e=_0x3160c5['y']-svgOffset['y'];const _0x2aa887=draggedSvgElement['getBBox']();_0x1e85ce=Math[_0x491f04(0x88a)](_0x4811be['x'],Math[_0x491f04(0x808)](_0x1e85ce,_0x4811be['x']+_0x4811be[_0x491f04(0xcc2)]-_0x2aa887[_0x491f04(0xcc2)])),_0x21ef7e=Math[_0x491f04(0x88a)](_0x4811be['y'],Math[_0x491f04(0x808)](_0x21ef7e,_0x4811be['y']+_0x4811be['height']-_0x2aa887[_0x491f04(0xcbb)])),draggedSvgElement[_0x491f04(0xadf)](null,'x',_0x1e85ce),draggedSvgElement[_0x491f04(0xadf)](null,'y',_0x21ef7e);}}function endDrag(_0x26548d){draggedSvgElement=null;}function handleSvgEditClick(_0x248c11){const _0x1dae80=_0x13d91b;if(_0x248c11[_0x1dae80(0x3fe)]['classList'][_0x1dae80(0x8ae)](_0x1dae80(0xd8f))){const _0x17fd2b=_0x248c11[_0x1dae80(0x3fe)][_0x1dae80(0xcba)][_0x1dae80(0x79c)],_0x3f2eff=_0x248c11[_0x1dae80(0xb88)],_0x228d03=_0x3f2eff[_0x1dae80(0x7f4)]('#'+_0x17fd2b);_0x228d03&&_0x228d03['remove'](),_0x248c11[_0x1dae80(0x3fe)]['remove']();}}function handleEditQuestion(_0x55f4df){const _0x59e51a=_0x13d91b,_0x314633=_0x55f4df[_0x59e51a(0xb88)],_0x11d927=_0x314633[_0x59e51a(0xcba)]['index'],_0x43ea5b=currentQuizData[_0x59e51a(0x87f)][_0x11d927],_0x379f9b=document[_0x59e51a(0x916)](_0x59e51a(0x934)+_0x11d927),_0x440c0a=document[_0x59e51a(0x916)](_0x59e51a(0xdde)+_0x11d927),_0x261186=document[_0x59e51a(0x916)](_0x59e51a(0x2a9)+_0x11d927);if(_0x314633['innerHTML'][_0x59e51a(0xb28)](_0x59e51a(0xd86))){_0x314633['innerHTML']=_0x59e51a(0xafa),_0x314633[_0x59e51a(0x17e)]=_0x59e51a(0x126);if(_0x379f9b)_0x379f9b[_0x59e51a(0x1d8)]=!![];if(_0x440c0a)_0x440c0a[_0x59e51a(0x1d8)]=!![];if(_0x261186){const _0x38c361=_0x261186[_0x59e51a(0x7f4)]('svg');if(_0x38c361){const _0x3f4039=_0x38c361[_0x59e51a(0x77f)]('text');_0x3f4039[_0x59e51a(0x5c9)]((_0x559a6e,_0x26d0b2)=>{const _0x3da2ca=_0x59e51a,_0xa86bf3=_0x3da2ca(0x27e)+_0x11d927+'-'+_0x26d0b2;_0x559a6e['id']=_0xa86bf3,_0x559a6e[_0x3da2ca(0x734)]['add']('draggable-text'),_0x559a6e[_0x3da2ca(0x3bb)][_0x3da2ca(0xbff)]=_0x3da2ca(0x25c);const _0x5a01f1=document[_0x3da2ca(0x530)](_0x3da2ca(0x2f2),'circle'),_0x2d3d4b=_0x559a6e[_0x3da2ca(0x83b)]();_0x5a01f1[_0x3da2ca(0x4e8)]('cx',String(_0x2d3d4b['x']+_0x2d3d4b[_0x3da2ca(0xcc2)]+0x5)),_0x5a01f1['setAttribute']('cy',String(_0x2d3d4b['y']+_0x2d3d4b[_0x3da2ca(0xcbb)]/0x2-0x5)),_0x5a01f1[_0x3da2ca(0x4e8)]('r','5'),_0x5a01f1[_0x3da2ca(0x4e8)](_0x3da2ca(0x729),'red'),_0x5a01f1[_0x3da2ca(0x4e8)](_0x3da2ca(0x739),_0x3da2ca(0xd8f)),_0x5a01f1[_0x3da2ca(0xcba)]['targetId']=_0xa86bf3,_0x559a6e[_0x3da2ca(0xdc1)](_0x5a01f1);}),_0x38c361[_0x59e51a(0xc2d)](_0x59e51a(0x6ba),startDrag),_0x38c361[_0x59e51a(0xc2d)]('mousemove',drag),_0x38c361[_0x59e51a(0xc2d)]('mouseup',endDrag),_0x38c361[_0x59e51a(0xc2d)](_0x59e51a(0x935),endDrag),_0x38c361[_0x59e51a(0xc2d)](_0x59e51a(0x3b3),startDrag,{'passive':![]}),_0x38c361[_0x59e51a(0xc2d)]('touchmove',drag,{'passive':![]}),_0x38c361[_0x59e51a(0xc2d)](_0x59e51a(0x294),endDrag),_0x38c361[_0x59e51a(0xc2d)](_0x59e51a(0x331),endDrag),_0x38c361[_0x59e51a(0xc2d)]('click',handleSvgEditClick);}}if(_0x379f9b)_0x379f9b[_0x59e51a(0x3be)]();}else{_0x314633[_0x59e51a(0xbc4)]=_0x59e51a(0x874),_0x314633['title']='แก้ไขข้อนี้';if(_0x379f9b){_0x379f9b[_0x59e51a(0x1d8)]=![];const _0x4c31ce=_0x43ea5b[_0x59e51a(0xa1a)]||currentQuizData[_0x59e51a(0x9b1)];_0x4c31ce===_0x59e51a(0x416)?_0x43ea5b[_0x59e51a(0x3a9)]=_0x379f9b[_0x59e51a(0x871)][_0x59e51a(0x197)](_0x379f9b[_0x59e51a(0x871)][_0x59e51a(0x188)]('.')+0x2)['trim']():_0x43ea5b[_0x59e51a(0xa35)]=_0x379f9b[_0x59e51a(0x871)][_0x59e51a(0x197)](_0x379f9b[_0x59e51a(0x871)]['indexOf']('.')+0x2)[_0x59e51a(0x1a0)]();}_0x440c0a&&(_0x440c0a[_0x59e51a(0x1d8)]=![],_0x43ea5b['explanation']=_0x440c0a[_0x59e51a(0x871)]);if(_0x261186){const _0x2ecfa5=_0x261186['querySelector']('svg');if(_0x2ecfa5){const _0x497492=_0x2ecfa5[_0x59e51a(0x7e6)](!![]);_0x497492[_0x59e51a(0x77f)](_0x59e51a(0xc8a))[_0x59e51a(0x5c9)](_0x5923c3=>_0x5923c3[_0x59e51a(0x5cf)]()),_0x497492[_0x59e51a(0x77f)]('.draggable-text')['forEach'](_0x2c3412=>{const _0x30e55f=_0x59e51a;_0x2c3412['classList'][_0x30e55f(0x5cf)](_0x30e55f(0x784)),_0x2c3412['style']['cursor']='default',_0x2c3412[_0x30e55f(0x3ea)]('id');}),_0x43ea5b['imageCode']=_0x497492[_0x59e51a(0x819)],_0x2ecfa5[_0x59e51a(0x124)](_0x59e51a(0x6ba),startDrag),_0x2ecfa5['removeEventListener'](_0x59e51a(0xb35),drag),_0x2ecfa5['removeEventListener'](_0x59e51a(0x843),endDrag),_0x2ecfa5['removeEventListener'](_0x59e51a(0x935),endDrag),_0x2ecfa5[_0x59e51a(0x124)](_0x59e51a(0x3b3),startDrag),_0x2ecfa5[_0x59e51a(0x124)](_0x59e51a(0x4e4),drag),_0x2ecfa5[_0x59e51a(0x124)]('touchend',endDrag),_0x2ecfa5[_0x59e51a(0x124)](_0x59e51a(0x331),endDrag),_0x2ecfa5[_0x59e51a(0x124)](_0x59e51a(0xab7),handleSvgEditClick),_0x2ecfa5[_0x59e51a(0x77f)](_0x59e51a(0xc8a))[_0x59e51a(0x5c9)](_0x193d6b=>_0x193d6b[_0x59e51a(0x5cf)]()),_0x2ecfa5['querySelectorAll'](_0x59e51a(0xc99))['forEach'](_0x125441=>{const _0x5079a0=_0x59e51a;_0x125441[_0x5079a0(0x734)][_0x5079a0(0x5cf)](_0x5079a0(0x784)),_0x125441['style'][_0x5079a0(0xbff)]=_0x5079a0(0x283);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x1c97af){const _0x53af77=_0x13d91b,_0x31333b=document[_0x53af77(0x916)](_0x53af77(0x165)),_0x91029f=document[_0x53af77(0x916)](_0x53af77(0x879));_0x91029f['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x31333b[_0x53af77(0x734)][_0x53af77(0x5cf)](_0x53af77(0x4ad));try{const _0x5d7bb8=doc(db,_0x53af77(0x54a)+appId+_0x53af77(0xd20),_0x1c97af),_0x8a824=await getDoc(_0x5d7bb8);if(!_0x8a824[_0x53af77(0x5fd)]())throw new Error(_0x53af77(0x7b3));currentEditingQuizData={'id':_0x1c97af,..._0x8a824[_0x53af77(0xaf3)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x1ef52b){console['error'](_0x53af77(0xe0f),_0x1ef52b),showMessage(_0x53af77(0x72b)),_0x31333b[_0x53af77(0x734)]['add'](_0x53af77(0x4ad));}}function renderQuizEditor(_0x4fd64f){const _0x27015f=_0x13d91b;document['getElementById'](_0x27015f(0x272))['value']=_0x4fd64f['topic'];const _0x3edc71=document[_0x27015f(0x916)](_0x27015f(0x879));let _0x3b3875=_0x4fd64f['questions'][_0x27015f(0x1b0)]((_0x1f960e,_0x4b55c4)=>{const _0x588fd9=_0x27015f;let _0x37e4b9='';const _0x720c86=_0x1f960e[_0x588fd9(0xa1a)]||_0x4fd64f['quizType'];switch(_0x720c86){case _0x588fd9(0x3e2):const _0x5139e8=(_0x1f960e[_0x588fd9(0x238)]||[])[_0x588fd9(0x1b0)]((_0x578060,_0x39ca43)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x4b55c4+_0x588fd9(0xbc8)+_0x39ca43+'\x22\x20'+(_0x39ca43===_0x1f960e[_0x588fd9(0xae6)]?_0x588fd9(0x7bc):'')+_0x588fd9(0x588)+_0x578060+_0x588fd9(0x9a7))[_0x588fd9(0x22e)]('');_0x37e4b9=_0x588fd9(0x49f)+_0x5139e8+_0x588fd9(0x4ec);break;case _0x588fd9(0x21b):_0x37e4b9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x1f960e[_0x588fd9(0x158)]||'')+_0x588fd9(0x478);break;case _0x588fd9(0x54f):_0x37e4b9=_0x588fd9(0xa50)+_0x4b55c4+_0x588fd9(0x295)+(_0x1f960e[_0x588fd9(0xcdb)]===!![]?_0x588fd9(0x7bc):'')+_0x588fd9(0x9ae)+_0x4b55c4+_0x588fd9(0x92f)+(_0x1f960e[_0x588fd9(0xcdb)]===![]?_0x588fd9(0x7bc):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'matching_item':_0x37e4b9=_0x588fd9(0x960)+(_0x1f960e[_0x588fd9(0x994)]||'')+_0x588fd9(0x5eb);break;}let _0x1484c3=_0x1f960e[_0x588fd9(0xa35)]||_0x1f960e[_0x588fd9(0x3a9)]||'';return _0x1484c3=_0x1484c3['replace'](/<br\s*\/?>/gi,'\x0a'),_0x588fd9(0xb46)+_0x4b55c4+_0x588fd9(0x2d7)+_0x720c86+_0x588fd9(0x6a2)+(_0x4b55c4+0x1)+'\x20('+_0x720c86+_0x588fd9(0x61c)+_0x1484c3+_0x588fd9(0x428)+_0x37e4b9+_0x588fd9(0x525);})[_0x27015f(0x22e)]('');_0x3edc71[_0x27015f(0xbc4)]=_0x3b3875;const _0x3ff85f=_0x27015f(0xa66);_0x3edc71[_0x27015f(0x9b6)](_0x27015f(0x6f8),_0x3ff85f),_0x3edc71[_0x27015f(0x77f)]('.auto-resize-textarea')[_0x27015f(0x5c9)](_0x46869f=>{const _0x31403e=_0x27015f;_0x46869f[_0x31403e(0x3bb)]['overflowY']='hidden',_0x46869f[_0x31403e(0x3bb)][_0x31403e(0xb58)]=_0x31403e(0x757),_0x46869f['rows']=0x4;const _0xe941d3=()=>{const _0xc1aafc=_0x31403e;_0x46869f[_0xc1aafc(0x3bb)][_0xc1aafc(0xcbb)]=_0xc1aafc(0x550),_0x46869f[_0xc1aafc(0x3bb)]['height']=_0x46869f[_0xc1aafc(0x806)]+'px';};_0x46869f['addEventListener'](_0x31403e(0x36a),_0xe941d3),_0xe941d3();}),_0x3edc71['querySelectorAll']('.ai-fix-question-btn')['forEach'](_0x577ca7=>{const _0x25855b=_0x27015f;_0x577ca7[_0x25855b(0xc2d)](_0x25855b(0xab7),handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x5f5986){const _0x31ef6d=_0x13d91b;if(!currentEditingQuizData||!currentEditingQuizData[_0x31ef6d(0x87f)][_0x5f5986])return;const _0xf72b7d=currentEditingQuizData[_0x31ef6d(0x87f)][_0x5f5986][_0x31ef6d(0xa35)]||currentEditingQuizData['questions'][_0x5f5986]['stem'];showConfirmation(_0x31ef6d(0x1ca)+(_0x5f5986+0x1)+_0x31ef6d(0x1dc)+_0xf72b7d[_0x31ef6d(0x197)](0x0,0x14)+_0x31ef6d(0x9fc),()=>{const _0x3698a1=_0x31ef6d;currentEditingQuizData[_0x3698a1(0x87f)][_0x3698a1(0x852)](_0x5f5986,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x3698a1(0x45f));});}function handleAddQuestionInEditor(){const _0x29997c=_0x13d91b;if(!currentEditingQuizData)return;const _0x3c27b0={'id':'q_'+Date[_0x29997c(0x60e)]()+_0x29997c(0x825),'questionType':'multiple_choice','questionText':_0x29997c(0x829),'options':[_0x29997c(0xaf0),_0x29997c(0xad4),_0x29997c(0x5ae),_0x29997c(0x536)],'correctAnswerIndex':0x0,'explanation':_0x29997c(0x11d)};currentEditingQuizData[_0x29997c(0x87f)][_0x29997c(0x298)](_0x3c27b0),renderQuizEditor(currentEditingQuizData);const _0x160ea3=document['querySelector'](_0x29997c(0x693));_0x160ea3&&(_0x160ea3['scrollIntoView']({'behavior':_0x29997c(0xa3c),'block':'center'}),_0x160ea3[_0x29997c(0x7f4)]('textarea')[_0x29997c(0x3be)]());}async function handleAiFixQuestion(_0x5f1201){const _0x138d82=_0x13d91b,_0xa9b9af=_0x5f1201['currentTarget'],_0x1ef4d9=_0xa9b9af[_0x138d82(0x7c4)](_0x138d82(0xccf));if(!_0x1ef4d9)return;const _0x2641f3=parseInt(_0x1ef4d9['dataset'][_0x138d82(0xe09)],0xa);if(isNaN(_0x2641f3)||!currentEditingQuizData[_0x138d82(0x87f)][_0x2641f3]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x440b8d=currentEditingQuizData[_0x138d82(0x87f)][_0x2641f3];_0xa9b9af[_0x138d82(0xbc4)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0xa9b9af[_0x138d82(0x426)]=!![];const _0x12b10d=_0x138d82(0x55a)+JSON[_0x138d82(0x163)](_0x440b8d)+_0x138d82(0x55d);let _0x2a5529;const _0xd6ab19=_0x440b8d['questionType']||currentEditingQuizData[_0x138d82(0x9b1)];switch(_0xd6ab19){case _0x138d82(0x21b):_0x2a5529={'type':'OBJECT','properties':{'questionText':{'type':_0x138d82(0x330)},'idealAnswer':{'type':_0x138d82(0x330)},'explanation':{'type':_0x138d82(0x330)},'imageCode':{'type':_0x138d82(0x330)}},'required':['questionText','idealAnswer',_0x138d82(0x51a)]};break;case _0x138d82(0x3e2):default:_0x2a5529={'type':'OBJECT','properties':{'questionText':{'type':_0x138d82(0x330)},'options':{'type':_0x138d82(0x33c),'items':{'type':_0x138d82(0x330)}},'correctAnswerIndex':{'type':_0x138d82(0x90b)},'explanation':{'type':_0x138d82(0x330)},'imageCode':{'type':_0x138d82(0x330)}},'required':[_0x138d82(0xa35),_0x138d82(0x238),_0x138d82(0xae6),_0x138d82(0x51a)]};break;}try{let _0x3a35be=await callAnalysisApi(_0x12b10d,_0x2a5529);_0x3a35be[_0x138d82(0x238)]&&Array[_0x138d82(0x796)](_0x3a35be['options'])&&(_0x3a35be[_0x138d82(0x238)]=_0x3a35be[_0x138d82(0x238)][_0x138d82(0x1b0)](_0x210b51=>typeof _0x210b51==='string'?_0x210b51['replace'](/S(\s*[\d_]+?\s*)S/g,_0x138d82(0x8ce)):_0x210b51)),_0x440b8d[_0x138d82(0x6d6)]&&_0x440b8d[_0x138d82(0x6d6)][_0x138d82(0xb28)](_0x138d82(0xbad))&&(_0x3a35be[_0x138d82(0x6d6)]=''),currentEditingQuizData[_0x138d82(0x87f)][_0x2641f3]={..._0x440b8d,..._0x3a35be},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x3d69e6){console[_0x138d82(0x689)](_0x138d82(0x686),_0x3d69e6),showMessage(_0x138d82(0xb3b)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x2e6728=_0x13d91b,_0x7d613f=document[_0x2e6728(0x916)](_0x2e6728(0xacd));_0x7d613f[_0x2e6728(0x426)]=!![],_0x7d613f['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x4465c3=document['getElementById'](_0x2e6728(0x272))[_0x2e6728(0x93c)],_0x10a610=document[_0x2e6728(0x77f)]('.question-editor-item');let _0x194fbf=[];const _0x264cb9=Array[_0x2e6728(0x199)](_0x10a610)[_0x2e6728(0x1b0)]((_0x18e21c,_0x4dfb7c)=>{const _0x278709=_0x2e6728,_0x5d0389=_0x18e21c[_0x278709(0xcba)]['qType'],_0x42a315=_0x18e21c[_0x278709(0x7f4)](_0x278709(0x470))[_0x278709(0x93c)][_0x278709(0xdb5)](/\n/g,'<br>');let _0x4fe4b3={'questionType':_0x5d0389};const _0x321a6d=currentEditingQuizData[_0x278709(0x87f)][_0x4dfb7c];switch(_0x5d0389){case'multiple_choice':_0x4fe4b3['questionText']=_0x42a315;const _0x186e30=_0x18e21c['querySelectorAll'](_0x278709(0x20b));_0x4fe4b3[_0x278709(0x238)]=Array[_0x278709(0x199)](_0x186e30)[_0x278709(0x1b0)](_0x184d92=>_0x184d92[_0x278709(0x93c)]);const _0x514754=_0x18e21c[_0x278709(0x7f4)](_0x278709(0x5a8));_0x4fe4b3['correctAnswerIndex']=_0x514754?parseInt(_0x514754[_0x278709(0x93c)]):0x0;break;case _0x278709(0x21b):_0x4fe4b3['questionText']=_0x42a315,_0x4fe4b3[_0x278709(0x158)]=_0x18e21c[_0x278709(0x7f4)]('.ideal-answer-input')[_0x278709(0x93c)];break;case _0x278709(0x54f):_0x4fe4b3[_0x278709(0xa35)]=_0x42a315;const _0x3c6783=_0x18e21c[_0x278709(0x7f4)](_0x278709(0x5a8));_0x4fe4b3[_0x278709(0xcdb)]=_0x3c6783?_0x3c6783['value']===_0x278709(0x539):!![];break;case _0x278709(0x416):_0x4fe4b3['stem']=_0x42a315;const _0x545606=_0x18e21c[_0x278709(0x7f4)](_0x278709(0x303));_0x4fe4b3[_0x278709(0x994)]=_0x545606?_0x545606[_0x278709(0x93c)]:'',_0x194fbf[_0x278709(0x298)](_0x4fe4b3[_0x278709(0x994)]);break;default:_0x4fe4b3[_0x278709(0xa35)]=_0x42a315;break;}return{..._0x321a6d,..._0x4fe4b3};});_0x194fbf[_0x2e6728(0x3d7)]>0x0&&_0x264cb9[_0x2e6728(0x5c9)](_0x347690=>{const _0x4f5da0=_0x2e6728;_0x347690[_0x4f5da0(0xa1a)]===_0x4f5da0(0x416)&&(_0x347690['allResponses']=_0x194fbf);});const _0x3d61dc=currentEditingQuizData['id'],_0x2f287d=doc(db,_0x2e6728(0x54a)+appId+'/public/data/quizzes',_0x3d61dc);await updateDoc(_0x2f287d,{'topic':_0x4465c3,'questions':_0x264cb9}),document[_0x2e6728(0x916)](_0x2e6728(0x165))[_0x2e6728(0x734)]['add'](_0x2e6728(0x4ad)),showMessage(_0x2e6728(0x8d0),()=>initiateReGradeProcess(_0x3d61dc));}catch(_0x4b9b95){console['error']('Error\x20saving\x20quiz\x20edits:',_0x4b9b95),showMessage(_0x2e6728(0xfd));}finally{_0x7d613f[_0x2e6728(0x426)]=![],_0x7d613f[_0x2e6728(0xbc4)]=_0x2e6728(0x153);}}async function initiateReGradeProcess(_0xbeeab9){const _0x39cc36=_0x13d91b;showMessage(_0x39cc36(0xdb4));try{const _0x5e4363=doc(db,_0x39cc36(0x54a)+appId+_0x39cc36(0xd20),_0xbeeab9),_0x213be7=await getDoc(_0x5e4363);if(!_0x213be7['exists']())throw new Error(_0x39cc36(0x7ec));const _0x168955={'id':_0xbeeab9,..._0x213be7[_0x39cc36(0xaf3)]()},_0x274166=collection(db,_0x39cc36(0x54a)+appId+_0x39cc36(0xd20),_0xbeeab9,'submissions'),_0xd572fb=await getDocs(_0x274166);if(_0xd572fb[_0x39cc36(0x71c)]){showMessage(_0x39cc36(0x7c9));return;}const _0x30d6b3=_0xd572fb[_0x39cc36(0x1fb)][_0x39cc36(0x1b0)](_0x4e36c2=>reGradeSingleSubmission(_0x4e36c2,_0x168955));await Promise[_0x39cc36(0x1e8)](_0x30d6b3);if(_0x168955[_0x39cc36(0x7a5)]){const _0x5713d5=doc(db,_0x39cc36(0x54a)+appId+_0x39cc36(0x90e),_0x168955[_0x39cc36(0x7a5)]),_0x258bc2=await getDoc(_0x5713d5);if(_0x258bc2[_0x39cc36(0x5fd)]()&&_0x258bc2[_0x39cc36(0xaf3)]()['students']){const _0x54c0e3=_0x258bc2['data']()[_0x39cc36(0xce1)][_0x39cc36(0x1b0)](_0xd62f39=>updateStudentProfile(_0x168955[_0x39cc36(0x7a5)],_0xd62f39));await Promise[_0x39cc36(0x1e8)](_0x54c0e3);}}showMessage(_0x39cc36(0x566)+_0xd572fb[_0x39cc36(0x9c2)]+_0x39cc36(0x851));}catch(_0x2a4714){console['error']('Re-grade\x20process\x20failed:',_0x2a4714),showMessage(_0x39cc36(0x136)+_0x2a4714[_0x39cc36(0xbd0)]);}}async function reGradeSingleSubmission(_0x3e186a,_0x2f12cc){const _0x7d8ed7=_0x13d91b,_0x593daf=_0x3e186a['data'](),_0x3ef4ea=_0x593daf[_0x7d8ed7(0x7b1)],_0x36f921=_0x593daf['attempts']||[],_0x4566b7=[];for(const _0x44c96e of _0x36f921){let _0x2d717f=0x0,_0x151269=[],_0x28cc32=0x0;const _0x2a323b=[];for(const _0x3c44f0 of _0x44c96e[_0x7d8ed7(0x367)]){let _0x4e9977;_0x3c44f0['questionId']&&(_0x4e9977=_0x2f12cc[_0x7d8ed7(0x87f)]['find'](_0x1f507c=>_0x1f507c['id']===_0x3c44f0[_0x7d8ed7(0xb02)]));!_0x4e9977&&_0x3c44f0[_0x7d8ed7(0xdfa)]&&(_0x4e9977=_0x2f12cc['questions']['find'](_0x3f6a04=>(_0x3f6a04[_0x7d8ed7(0x3a9)]||_0x3f6a04[_0x7d8ed7(0xa35)])===_0x3c44f0['originalQuestionText']));let _0x315d17=![];if(_0x4e9977){const _0x73fadb=_0x4e9977[_0x7d8ed7(0xa1a)]||_0x2f12cc[_0x7d8ed7(0x9b1)];switch(_0x73fadb){case'multiple_choice':if(_0x4e9977[_0x7d8ed7(0x238)]&&_0x4e9977[_0x7d8ed7(0xae6)]<_0x4e9977[_0x7d8ed7(0x238)]['length']){const _0x5eb2f2=_0x4e9977[_0x7d8ed7(0x238)][_0x4e9977[_0x7d8ed7(0xae6)]];_0x315d17=_0x3c44f0['answerText']===_0x5eb2f2;}break;case'true_false':const _0x38d5d2=_0x3c44f0[_0x7d8ed7(0x43b)]===!![]||_0x3c44f0['answer']===_0x7d8ed7(0x539);_0x315d17=_0x38d5d2===_0x4e9977[_0x7d8ed7(0xcdb)];break;case _0x7d8ed7(0x416):_0x315d17=_0x3c44f0[_0x7d8ed7(0x43b)]===_0x4e9977['correctResponse'];break;case _0x7d8ed7(0x21b):_0x315d17=await gradeShortAnswer(_0x3c44f0[_0x7d8ed7(0x43b)],_0x4e9977);break;default:_0x315d17=_0x3c44f0[_0x7d8ed7(0x832)];break;}}if(_0x315d17){_0x2d717f++,_0x28cc32++;if(_0x28cc32===0x3)_0x151269[_0x7d8ed7(0x298)](BADGES[_0x7d8ed7(0x24e)]['id']);}else _0x28cc32=0x0;_0x2a323b[_0x7d8ed7(0x298)]({..._0x3c44f0,'isCorrect':_0x315d17});}let _0x164cc1=0x0;const _0x524bf0=_0x44c96e['isSyncGame']===!![]||_0x44c96e[_0x7d8ed7(0x756)]>_0x2f12cc[_0x7d8ed7(0x87f)][_0x7d8ed7(0x3d7)]*0x14;_0x524bf0?_0x164cc1=_0x44c96e[_0x7d8ed7(0x756)]:(_0x164cc1=_0x2d717f*0xa,_0x2d717f===_0x2f12cc[_0x7d8ed7(0x87f)][_0x7d8ed7(0x3d7)]&&(_0x164cc1+=0x32,_0x151269[_0x7d8ed7(0x298)](BADGES[_0x7d8ed7(0xa25)]['id']))),_0x4566b7[_0x7d8ed7(0x298)]({..._0x44c96e,'score':_0x2d717f,'points':_0x164cc1,'badges':Array[_0x7d8ed7(0x199)](new Set(_0x151269)),'answers':_0x2a323b});}const _0x389339=_0x4566b7['length']>0x0?_0x4566b7[0x0][_0x7d8ed7(0xc8b)]:0x0,_0x3d31d7=Math[_0x7d8ed7(0x88a)](..._0x4566b7[_0x7d8ed7(0x1b0)](_0xe08c82=>_0xe08c82['score'])),_0x439a12=_0x4566b7[_0x7d8ed7(0x3d7)]>0x0?_0x4566b7[_0x4566b7[_0x7d8ed7(0x3d7)]-0x1][_0x7d8ed7(0xc8b)]:0x0,_0x4ba109=_0x4566b7[_0x7d8ed7(0x3d7)]>0x0?_0x4566b7[_0x4566b7[_0x7d8ed7(0x3d7)]-0x1][_0x7d8ed7(0x756)]:0x0,_0x890b17=doc(db,_0x7d8ed7(0x54a)+appId+_0x7d8ed7(0x906)+_0x2f12cc['id']+_0x7d8ed7(0xcae),_0x3ef4ea);await updateDoc(_0x890b17,{'attempts':_0x4566b7,'firstScore':_0x389339,'bestScore':_0x3d31d7,'latestScore':_0x439a12,'points':_0x4ba109});}function cleanupQuizOptions(_0x303469){const _0x569add=_0x13d91b,_0x9d50a0=(_0x29f4f5,_0x2224e9)=>_0x2224e9===0x0?_0x29f4f5:_0x9d50a0(_0x2224e9,_0x29f4f5%_0x2224e9),_0x4183be=_0x160a3b=>{const _0x5e1436=_0x28c2;if(typeof _0x160a3b!==_0x5e1436(0x5ba))return null;_0x160a3b=_0x160a3b['trim']();const _0x2b112e=_0x160a3b[_0x5e1436(0xbba)](/[ /]/)[_0x5e1436(0xc52)](_0x4c717f=>_0x4c717f!=='');if(_0x2b112e[_0x5e1436(0x3d7)]===0x3)return parseInt(_0x2b112e[0x0])+parseInt(_0x2b112e[0x1])/parseInt(_0x2b112e[0x2]);else{if(_0x2b112e['length']===0x2)return parseInt(_0x2b112e[0x0])/parseInt(_0x2b112e[0x1]);else{if(_0x2b112e[_0x5e1436(0x3d7)]===0x1&&!isNaN(_0x2b112e[0x0]))return parseFloat(_0x2b112e[0x0]);}}return null;},_0x3f4213=_0x55c560=>{const _0x235e97=_0x28c2;if(typeof _0x55c560!=='string')return _0x55c560;const _0x3efd6e=_0x55c560[_0x235e97(0xcd5)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x3efd6e){const _0x120628=parseInt(_0x3efd6e[0x1]);let _0x34bb9d=parseInt(_0x3efd6e[0x2]),_0x118617=parseInt(_0x3efd6e[0x3]);const _0x256f0c=_0x9d50a0(_0x34bb9d,_0x118617);_0x34bb9d/=_0x256f0c,_0x118617/=_0x256f0c;if(_0x118617===0x1)return(_0x120628+_0x34bb9d)[_0x235e97(0xda1)]();return _0x120628+'\x20'+_0x34bb9d+'/'+_0x118617;}return _0x55c560;};return _0x303469&&_0x303469[_0x569add(0x87f)]&&_0x303469[_0x569add(0x87f)][_0x569add(0x5c9)](_0x46b534=>{const _0x3ed453=_0x569add;if(_0x46b534[_0x3ed453(0xa1a)]===_0x3ed453(0x3e2)&&_0x46b534[_0x3ed453(0x238)]){const _0x2b8550=new Map(),_0x370933=_0x46b534['options'][_0x46b534[_0x3ed453(0xae6)]];_0x46b534[_0x3ed453(0x238)][_0x3ed453(0x5c9)](_0x7bdd9c=>{const _0x410861=_0x3ed453,_0x560e06=_0x3f4213(_0x7bdd9c),_0x348cd3=_0x4183be(_0x560e06);_0x348cd3!==null&&!_0x2b8550[_0x410861(0x63d)](_0x348cd3)&&_0x2b8550[_0x410861(0x36f)](_0x348cd3,_0x560e06);}),_0x46b534[_0x3ed453(0x238)]=Array['from'](_0x2b8550[_0x3ed453(0x3ff)]());const _0x202fda=_0x46b534[_0x3ed453(0x238)]['findIndex'](_0x68784=>_0x68784===_0x3f4213(_0x370933));_0x46b534[_0x3ed453(0xae6)]=_0x202fda!==-0x1?_0x202fda:0x0;}}),_0x303469;}function showGameStartConfirmationModal(_0x10d70e,_0x412968,_0x5871c3){const _0x23e858=_0x13d91b,_0x1571e7=document[_0x23e858(0x916)]('confirm-game-start-modal');document[_0x23e858(0x916)](_0x23e858(0x1d5))[_0x23e858(0xd9d)]=_0x23e858(0xe02)+_0x5871c3,document[_0x23e858(0x916)](_0x23e858(0xe25))['value']=_0x10d70e,document[_0x23e858(0x916)]('game-start-mode')[_0x23e858(0x93c)]=_0x412968,document[_0x23e858(0x916)](_0x23e858(0xaab))[_0x23e858(0x7bc)]=!![];const _0x2615c5=document[_0x23e858(0x916)](_0x23e858(0x9c5)),_0x15ccc3=document['getElementById'](_0x23e858(0x3c7)),_0xfcc9b0=document[_0x23e858(0x916)](_0x23e858(0x855)),_0x4f1006=document['getElementById']('black-market-settings-container'),_0x2254a9=document['getElementById'](_0x23e858(0xcfa));if(_0x412968===_0x23e858(0x344)){_0x2615c5[_0x23e858(0x734)][_0x23e858(0x5cf)]('hidden');const _0x3c7b6a='anonymous';document['querySelector']('input[name=\x22syncVariant\x22][value=\x22'+_0x3c7b6a+'\x22]')[_0x23e858(0x7bc)]=!![];if(_0x2254a9)_0x2254a9[_0x23e858(0x734)][_0x23e858(0x5cf)]('hidden');_0x15ccc3[_0x23e858(0x7bc)]=!![],_0xfcc9b0[_0x23e858(0x734)][_0x23e858(0x5cf)]('hidden'),document[_0x23e858(0x916)](_0x23e858(0x87b))[_0x23e858(0x93c)]=_0x23e858(0xd94),_0x4f1006['classList']['remove'](_0x23e858(0x4ad)),document[_0x23e858(0x916)]('enable-black-market-checkbox')['checked']=!![];}else{_0x2615c5['classList'][_0x23e858(0x459)](_0x23e858(0x4ad));if(_0x2254a9)_0x2254a9[_0x23e858(0x734)][_0x23e858(0x459)](_0x23e858(0x4ad));_0x15ccc3[_0x23e858(0x7bc)]=![],_0xfcc9b0[_0x23e858(0x734)][_0x23e858(0x459)](_0x23e858(0x4ad)),_0x4f1006[_0x23e858(0x734)][_0x23e858(0x459)](_0x23e858(0x4ad));}_0x1571e7[_0x23e858(0x734)][_0x23e858(0x5cf)](_0x23e858(0x4ad));}async function saveGameResultsAsSubmissions(_0x453139){const _0x5c7149=_0x13d91b;if(_0x453139[_0x5c7149(0x296)]){console[_0x5c7149(0xcf6)](_0x5c7149(0xb51));return;}console[_0x5c7149(0xcf6)](_0x5c7149(0x56c),_0x453139);const _0xcdb99c=_0x453139[_0x5c7149(0xbc0)];let _0x11723c=[];if(_0x453139[_0x5c7149(0x5cc)])_0x11723c=Object[_0x5c7149(0x915)](_0x453139[_0x5c7149(0x5cc)])[_0x5c7149(0x1b0)](([_0xc26cdd,_0x19816e])=>({'name':_0xc26cdd,..._0x19816e}));else{if(_0x453139['groups'])Object['values'](_0x453139[_0x5c7149(0x25f)])['forEach'](_0x2185a0=>{const _0x58f1b7=_0x5c7149;_0x2185a0[_0x58f1b7(0x787)][_0x58f1b7(0x5c9)](_0x599a23=>{const _0x3a7017=_0x58f1b7;_0x11723c['push']({'name':_0x599a23,'score':_0x2185a0['score'],'answers':_0x2185a0[_0x3a7017(0x367)]});});});else _0x453139[_0x5c7149(0x14b)]&&Object['entries'](_0x453139[_0x5c7149(0x14b)])[_0x5c7149(0x5c9)](([_0x12e61b,_0x8412c4])=>{const _0x2fa01d=_0x5c7149;_0x11723c[_0x2fa01d(0x298)]({'name':_0x12e61b,..._0x8412c4});});}if(_0x11723c[_0x5c7149(0x3d7)]===0x0){console[_0x5c7149(0xaa0)](_0x5c7149(0x6ee));return;}const _0x59cd2c=_0x453139[_0x5c7149(0x571)]?.[_0x5c7149(0x87f)][_0x5c7149(0x3d7)]||currentQuizData[_0x5c7149(0x87f)][_0x5c7149(0x3d7)],_0x18389a=writeBatch(db);for(const _0x44db5d of _0x11723c){const _0x52dff2=doc(db,_0x5c7149(0x54a)+appId+_0x5c7149(0x906)+_0xcdb99c+_0x5c7149(0xcae),_0x44db5d[_0x5c7149(0x34b)]),_0x2e8786=(_0x44db5d['answers']||[])['filter'](_0x43c413=>_0x43c413['isCorrect'])[_0x5c7149(0x3d7)];let _0x3c72cd=_0x44db5d[_0x5c7149(0x482)]!==undefined?_0x44db5d[_0x5c7149(0x482)]:_0x2e8786,_0x1e5ca2=_0x44db5d[_0x5c7149(0x27c)]||[];_0x2e8786===_0x59cd2c&&_0x59cd2c>0x0&&(!_0x1e5ca2['includes'](_0x5c7149(0x1b3))&&_0x1e5ca2[_0x5c7149(0x298)](_0x5c7149(0x1b3)));const _0x1cc0c5={'score':_0x2e8786,'points':_0x3c72cd,'badges':_0x1e5ca2,'submittedAt':new Date()['toISOString'](),'isSyncGame':!![],'answers':(_0x44db5d[_0x5c7149(0x367)]||[])['map'](_0x5285d0=>({'questionId':_0x5285d0[_0x5c7149(0xb02)],'answer':_0x5285d0[_0x5c7149(0x43b)],'answerText':_0x5285d0[_0x5c7149(0x2c1)],'isCorrect':_0x5285d0[_0x5c7149(0x832)],'originalQuestionText':_0x5285d0[_0x5c7149(0xdfa)],'wasConfident':_0x5285d0[_0x5c7149(0xdd1)],'powerupUsed':_0x5285d0[_0x5c7149(0xb2b)]||null}))},_0x5a64b5=await getDoc(_0x52dff2),_0x23380b=_0x5a64b5[_0x5c7149(0x5fd)]()?_0x5a64b5[_0x5c7149(0xaf3)]():{},_0x1cc437=_0x23380b[_0x5c7149(0xad6)]||0x0,_0x1aeb46=_0x23380b[_0x5c7149(0x641)]||[];_0x1aeb46[_0x5c7149(0x3d7)]===0x0&&_0x2e8786===_0x59cd2c&&_0x59cd2c>0x0&&(!_0x1cc0c5['badges'][_0x5c7149(0xb28)]('first_try_ace')&&_0x1cc0c5['badges'][_0x5c7149(0x298)]('first_try_ace'));const _0x128f96={'studentName':_0x44db5d[_0x5c7149(0x34b)],'totalQuestions':_0x59cd2c,'attempts':arrayUnion(_0x1cc0c5),'latestScore':_0x2e8786,'points':_0x3c72cd,'latestSubmittedAt':_0x1cc0c5[_0x5c7149(0x2b9)],'bestScore':Math[_0x5c7149(0x88a)](_0x1cc437,_0x2e8786),'firstScore':_0x1aeb46[_0x5c7149(0x3d7)]===0x0?_0x2e8786:_0x23380b[_0x5c7149(0x86f)]||0x0};_0x18389a[_0x5c7149(0x36f)](_0x52dff2,_0x128f96,{'merge':!![]});}try{if(currentLiveGameId){const _0x919337=doc(db,'artifacts/'+appId+_0x5c7149(0x66e),currentLiveGameId);_0x18389a[_0x5c7149(0x987)](_0x919337,{'resultsSaved':!![]});}await _0x18389a[_0x5c7149(0x1cc)](),showMessage(_0x5c7149(0x2df)+_0x11723c[_0x5c7149(0x3d7)]+'\x20คน\x20เรียบร้อยแล้ว!');const _0x18c2dc=_0x453139[_0x5c7149(0x571)]?.['projectId']||currentQuizData?.[_0x5c7149(0x7a5)]||currentProjectId;if(_0x18c2dc){const _0x43101d=[...new Set(_0x11723c[_0x5c7149(0x1b0)](_0x2fb0c7=>_0x2fb0c7['name']))];for(const _0x41f997 of _0x43101d){await updateStudentProfile(_0x18c2dc,_0x41f997);}}}catch(_0x387347){console[_0x5c7149(0x689)](_0x5c7149(0x770),_0x387347),showMessage(_0x5c7149(0xbb5));}}async function saveQuiz(_0x20017d=null,_0x5e6ee6=null){const _0x2e9c10=_0x13d91b,_0x503c7f=_0x20017d||currentProjectId;if(!_0x503c7f){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x2e9c10(0xa04));return;}const _0x216870=document['getElementById']('save-quiz-btn');_0x216870[_0x2e9c10(0x426)]=!![],_0x216870[_0x2e9c10(0xbc4)]=_0x2e9c10(0xc3b);const _0x2dc3fb=document['getElementById'](_0x2e9c10(0x74e))['checked'];let _0xa33bcb=document[_0x2e9c10(0x916)](_0x2e9c10(0x909))[_0x2e9c10(0x871)]['trim']();_0x2dc3fb&&!_0xa33bcb[_0x2e9c10(0x9cd)](_0x2e9c10(0x2f7))&&(_0xa33bcb=_0x2e9c10(0x229)+_0xa33bcb);try{const _0x5ac0d2={'resultsDisplay':document[_0x2e9c10(0x916)](_0x2e9c10(0x664))[_0x2e9c10(0x93c)],'shuffle':document[_0x2e9c10(0x916)](_0x2e9c10(0x471))[_0x2e9c10(0x93c)],'timerMode':document[_0x2e9c10(0x916)]('timer-mode-select')[_0x2e9c10(0x93c)],'timerDuration':parseInt(document[_0x2e9c10(0x916)](_0x2e9c10(0xb0a))[_0x2e9c10(0x93c)])||0xa,'passingScore':parseInt(document[_0x2e9c10(0x916)](_0x2e9c10(0x7e7))[_0x2e9c10(0x93c)])||0x0,'isAdaptive':document[_0x2e9c10(0x916)](_0x2e9c10(0x9fb))[_0x2e9c10(0x7bc)],'loopUntilPass':document[_0x2e9c10(0x916)](_0x2e9c10(0x219))[_0x2e9c10(0x7bc)]},_0x108264=(currentQuizData['questions']||[])[_0x2e9c10(0x1b0)]((_0x4383b6,_0x455bef)=>{const _0x303f92=_0x2e9c10,_0x3012e=document[_0x303f92(0x916)](_0x303f92(0x247))['value'],_0x29437b={'id':'q_'+Date[_0x303f92(0x60e)]()+'_'+_0x455bef,'questionText':_0x4383b6[_0x303f92(0xa35)]||'','explanation':_0x4383b6[_0x303f92(0x51a)]||_0x303f92(0x26c),'questionType':_0x4383b6[_0x303f92(0xa1a)]||_0x3012e,'imageCode':_0x4383b6[_0x303f92(0x6d6)]||null};return(_0x29437b[_0x303f92(0xa1a)]===_0x303f92(0x3e2)||_0x29437b['questionType']==='fill_in_with_choices'||_0x29437b['questionType']==='mixed'&&_0x4383b6[_0x303f92(0x238)])&&(_0x29437b[_0x303f92(0x238)]=_0x4383b6[_0x303f92(0x238)]||[],_0x29437b[_0x303f92(0xae6)]=_0x4383b6[_0x303f92(0xae6)]!==undefined?_0x4383b6[_0x303f92(0xae6)]:0x0),(_0x29437b[_0x303f92(0xa1a)]==='short_answer'||_0x29437b[_0x303f92(0xa1a)]===_0x303f92(0x549)||_0x29437b['questionType']===_0x303f92(0x941)&&_0x4383b6[_0x303f92(0x158)])&&(_0x29437b[_0x303f92(0x158)]=_0x4383b6[_0x303f92(0x158)]||''),_0x29437b['questionType']===_0x303f92(0x54f)&&(_0x29437b[_0x303f92(0xcdb)]=_0x4383b6[_0x303f92(0xcdb)]===!![]),_0x29437b[_0x303f92(0xa1a)]==='matching_item'&&(_0x29437b[_0x303f92(0x3a9)]=_0x4383b6['stem']||'',_0x29437b[_0x303f92(0x994)]=_0x4383b6[_0x303f92(0x994)]||'',_0x29437b['allResponses']=_0x4383b6['allResponses']||[]),_0x29437b;}),_0x2ba178={'topic':_0xa33bcb,'quizType':currentQuizData['quizType']||_0x2e9c10(0x3e2),'questions':_0x108264,'projectId':_0x503c7f,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x2e9c10(0x101),'settings':_0x5ac0d2,'quizMode':_0x2dc3fb?_0x2e9c10(0x8cb):'standard','pairedQuizId':null,'lessonPlan':null};let _0xd0d986;while(!![]){_0xd0d986=Math['floor'](0x3e8+Math[_0x2e9c10(0x29d)]()*0x2328)[_0x2e9c10(0xda1)]();const _0x599799=await getDoc(doc(db,'artifacts/'+appId+_0x2e9c10(0xd20),_0xd0d986));if(!_0x599799[_0x2e9c10(0x5fd)]())break;}await setDoc(doc(db,_0x2e9c10(0x54a)+appId+_0x2e9c10(0xd20),_0xd0d986),_0x2ba178);if(_0x5e6ee6&&currentBlueprintProjectId){console[_0x2e9c10(0xcf6)]('Auto-linking\x20new\x20quiz\x20'+_0xd0d986+'\x20to\x20blueprint\x20topic\x20'+_0x5e6ee6);try{const _0x5a03a1=doc(db,_0x2e9c10(0x54a)+appId+_0x2e9c10(0x6cd),currentBlueprintProjectId);await updateDoc(_0x5a03a1,{[_0x2e9c10(0x179)+_0x5e6ee6+_0x2e9c10(0x73d)]:arrayUnion(_0xd0d986)});}catch(_0x512106){console['error'](_0x2e9c10(0xb3e),_0x512106);}}currentQuizData[_0x2e9c10(0xc10)]=_0x5ac0d2,currentQuizData['id']=_0xd0d986;const _0xe9db59=document[_0x2e9c10(0x916)](_0x2e9c10(0x8c1));_0xe9db59['innerHTML']=_0x2e9c10(0x868)+_0xd0d986+_0x2e9c10(0x567),document[_0x2e9c10(0x916)](_0x2e9c10(0x946))[_0x2e9c10(0xc2d)]('click',()=>copyTextToClipboard(_0xd0d986,_0x2e9c10(0xce7))),document[_0x2e9c10(0x916)](_0x2e9c10(0x491))[_0x2e9c10(0xc2d)](_0x2e9c10(0xab7),()=>handleStartLiveRace(_0xd0d986)),document['getElementById'](_0x2e9c10(0xe05))[_0x2e9c10(0xc2d)](_0x2e9c10(0xab7),()=>startPresentation(currentQuizData)),document[_0x2e9c10(0x916)](_0x2e9c10(0x9d1))[_0x2e9c10(0xc2d)](_0x2e9c10(0xab7),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x4b4d68){console[_0x2e9c10(0x689)](_0x2e9c10(0x2c7),_0x4b4d68),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ');}finally{_0x216870[_0x2e9c10(0x426)]=![],_0x216870[_0x2e9c10(0xbc4)]=_0x2e9c10(0x6af);}}function promptForProjectAndSave(){const _0x1f9ad8=_0x13d91b,_0x24761d=document['getElementById'](_0x1f9ad8(0x305)),_0x3a3f78=document[_0x1f9ad8(0x916)](_0x1f9ad8(0xd53)),_0x2947b4=_0x24761d[_0x1f9ad8(0x7f4)]('h3'),_0x4035e5=document[_0x1f9ad8(0x916)](_0x1f9ad8(0x3f1));_0x2947b4[_0x1f9ad8(0xd9d)]=_0x1f9ad8(0x234),_0x4035e5[_0x1f9ad8(0xd9d)]=_0x1f9ad8(0x914);allProjects[_0x1f9ad8(0x3d7)]===0x0?(_0x3a3f78[_0x1f9ad8(0xbc4)]=_0x1f9ad8(0xd19),_0x4035e5['disabled']=!![]):(_0x3a3f78[_0x1f9ad8(0xbc4)]=allProjects['map'](_0x2e5f0f=>_0x1f9ad8(0x733)+_0x2e5f0f['id']+'\x22>'+_0x2e5f0f[_0x1f9ad8(0xe04)]+'</option>')[_0x1f9ad8(0x22e)](''),_0x4035e5[_0x1f9ad8(0x426)]=![]);_0x24761d[_0x1f9ad8(0x734)][_0x1f9ad8(0x5cf)](_0x1f9ad8(0x4ad));const _0x5253dc=()=>{const _0x50f154=_0x1f9ad8,_0x2b3e6b=_0x3a3f78['value'];_0x2b3e6b?(currentProjectId=_0x2b3e6b,_0x24761d[_0x50f154(0x734)][_0x50f154(0x459)](_0x50f154(0x4ad)),saveQuiz(),_0x2947b4[_0x50f154(0xd9d)]=_0x50f154(0xabf),_0x4035e5[_0x50f154(0xd9d)]='ย้าย',_0x4035e5[_0x50f154(0x124)](_0x50f154(0xab7),_0x5253dc),_0x4035e5['addEventListener']('click',confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x4035e5[_0x1f9ad8(0x124)]('click',confirmMoveQuiz),_0x4035e5[_0x1f9ad8(0xc2d)](_0x1f9ad8(0xab7),_0x5253dc);}function copyTextToClipboard(_0x3aeac3,_0x4d2218){const _0x370f28=_0x13d91b,_0xaaa57a=document[_0x370f28(0x1da)](_0x370f28(0x470));_0xaaa57a[_0x370f28(0x93c)]=_0x3aeac3,_0xaaa57a['style'][_0x370f28(0xa4a)]=_0x370f28(0xb4d),_0xaaa57a[_0x370f28(0x3bb)]['opacity']='0',document[_0x370f28(0x556)]['appendChild'](_0xaaa57a),_0xaaa57a[_0x370f28(0x3be)](),_0xaaa57a[_0x370f28(0x833)]();try{const _0x126241=document[_0x370f28(0xcb7)](_0x370f28(0x878));showMessage(_0x126241?_0x4d2218:_0x370f28(0x781));}catch(_0x3eb77a){showMessage(_0x370f28(0x781)),console[_0x370f28(0x689)](_0x370f28(0x611),_0x3eb77a);}document[_0x370f28(0x556)][_0x370f28(0x169)](_0xaaa57a);}function listenForProjectQuizzes(_0x154741){const _0xd773ff=_0x13d91b,_0x116dc7=collection(db,_0xd773ff(0x54a)+appId+_0xd773ff(0xd20)),_0x3f169e=query(_0x116dc7,where(_0xd773ff(0x7a5),'==',_0x154741));unsubscribeQuizzesListener=onSnapshot(_0x3f169e,async _0x3f0422=>{const _0x34c0c9=_0xd773ff;allQuizzes=_0x3f0422[_0x34c0c9(0x1fb)][_0x34c0c9(0x1b0)](_0xea4e62=>({'id':_0xea4e62['id'],..._0xea4e62[_0x34c0c9(0xaf3)]()})),renderQuizzes();},_0x4f2433=>{const _0x9d7613=_0xd773ff;console['error'](_0x9d7613(0x4fc),_0x4f2433),document[_0x9d7613(0x916)](_0x9d7613(0x5d8))[_0x9d7613(0xbc4)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x65aee8=_0x13d91b,_0x45c335=document['getElementById'](_0x65aee8(0x5d8)),_0x77866c=document['getElementById'](_0x65aee8(0x36e))['value'][_0x65aee8(0x3c8)]();let _0x3a3206;currentProjectId===_0x65aee8(0x9d7)?_0x3a3206=starredQuizzes:_0x3a3206=allQuizzes;let _0x4f3566=_0x3a3206['filter'](_0x4262e8=>_0x4262e8[_0x65aee8(0xdf4)][_0x65aee8(0x3c8)]()[_0x65aee8(0xb28)](_0x77866c));_0x4f3566[_0x65aee8(0x5d4)]((_0x58e0f3,_0x3d74be)=>new Date(_0x3d74be['createdAt'])-new Date(_0x58e0f3[_0x65aee8(0x62a)]));if(_0x4f3566['length']===0x0){_0x45c335[_0x65aee8(0xbc4)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x2d0c85={},_0xf255f8=_0x4f3566[_0x65aee8(0x1b0)](async _0x26a6a6=>{const _0x31ba54=_0x65aee8,_0x5012d1=collection(db,_0x31ba54(0x54a)+appId+'/public/data/quizzes/'+_0x26a6a6['id']+_0x31ba54(0xcae)),_0x3b14e3=await getDocs(_0x5012d1);_0x2d0c85[_0x26a6a6['id']]=_0x3b14e3[_0x31ba54(0x9c2)];});await Promise[_0x65aee8(0x1e8)](_0xf255f8);let _0x34af61='';_0x4f3566[_0x65aee8(0x5c9)](_0x4e7463=>{const _0x5c6452=_0x65aee8,_0x1b9509=_0x2d0c85[_0x4e7463['id']]||0x0,_0x54ba73=_0x4e7463[_0x5c6452(0x127)]||_0x5c6452(0x101),_0x42da1a=_0x4e7463[_0x5c6452(0xc10)]?.['timerMode']||'none';let _0xc0af6e='',_0x1ed0c0='';const _0x4c9b23=new Date();let _0x4ceab1=_0x54ba73;if(_0x54ba73===_0x5c6452(0x2ba)){const _0x3c4653=_0x4e7463[_0x5c6452(0xaf2)]?new Date(_0x4e7463['startTime']):null,_0x1224e9=_0x4e7463[_0x5c6452(0x715)]?new Date(_0x4e7463['endTime']):null;if(_0x1224e9&&_0x4c9b23>_0x1224e9)_0x4ceab1=_0x5c6452(0x949);else _0x3c4653&&_0x4c9b23<_0x3c4653?_0x4ceab1=_0x5c6452(0xdc2):_0x4ceab1=_0x5c6452(0x101);}switch(_0x4ceab1){case _0x5c6452(0x949):_0xc0af6e=_0x5c6452(0xd34),_0x1ed0c0=_0x5c6452(0x5e4);break;case _0x5c6452(0xdc2):_0xc0af6e='รอเปิด',_0x1ed0c0=_0x5c6452(0xac0);break;case _0x5c6452(0x101):_0xc0af6e=_0x42da1a!==_0x5c6452(0x118)?'เปิด\x20(จับเวลา)':_0x5c6452(0x8cf),_0x1ed0c0=_0x5c6452(0x81d);break;default:_0xc0af6e=_0x5c6452(0x91f),_0x1ed0c0=_0x5c6452(0x81d);break;}let _0x59face='';const _0x3004e2={'day':'2-digit','month':'2-digit','year':_0x5c6452(0x66d),'hour':_0x5c6452(0x725),'minute':'2-digit','hour12':![]};if(_0x54ba73===_0x5c6452(0x2ba)){if(_0x4e7463['startTime'])_0x59face+=_0x5c6452(0x786)+new Date(_0x4e7463['startTime'])[_0x5c6452(0x4cd)]('th-TH',_0x3004e2)+'</p>';if(_0x4e7463[_0x5c6452(0x715)])_0x59face+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x4e7463[_0x5c6452(0x715)])[_0x5c6452(0x4cd)](_0x5c6452(0x9be),_0x3004e2)+'</p>';}let _0xaea579='';if(_0x4e7463['pairedQuizId']){const _0x1202ce=allQuizzes[_0x5c6452(0xa3d)](_0x49aae3=>_0x49aae3['id']===_0x4e7463[_0x5c6452(0x1b7)]);if(_0x1202ce){let _0x31a056,_0x1478fb;new Date(_0x4e7463[_0x5c6452(0x62a)])<new Date(_0x1202ce[_0x5c6452(0x62a)])?(_0x31a056=_0x4e7463['id'],_0x1478fb=_0x1202ce['id']):(_0x31a056=_0x1202ce['id'],_0x1478fb=_0x4e7463['id']),_0xaea579+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1478fb+_0x5c6452(0xc96)+_0x31a056+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x4e7463[_0x5c6452(0x77c)]===_0x5c6452(0x8cb)&&(_0xaea579+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4e7463['id']+_0x5c6452(0x4bd));if(_0x4e7463[_0x5c6452(0x77c)]===_0x5c6452(0x8cb)&&_0x1b9509>0x0)_0xaea579+=_0x5c6452(0xc42)+_0x4e7463['id']+_0x5c6452(0xa5e);else!_0x4e7463[_0x5c6452(0x1b7)]&&_0x4e7463[_0x5c6452(0x77c)]!=='pre-test'&&_0x1b9509>0x0&&(_0xaea579+=_0x5c6452(0xc42)+_0x4e7463['id']+_0x5c6452(0x7d3));let _0x6c0dd1='';_0x4e7463[_0x5c6452(0x1b7)]?_0x6c0dd1='<button\x20data-quiz-id=\x22'+_0x4e7463['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x6c0dd1=_0x5c6452(0x957)+_0x4e7463['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0x34af61+=_0x5c6452(0xdab)+_0x4e7463['id']+_0x5c6452(0x752)+_0x4e7463[_0x5c6452(0xdf4)]+_0x5c6452(0xa06)+_0x4e7463[_0x5c6452(0x87f)][_0x5c6452(0x3d7)]+_0x5c6452(0xe10)+new Date(_0x4e7463[_0x5c6452(0x62a)])[_0x5c6452(0x4cd)]('th-TH')+_0x5c6452(0x96d)+_0x1b9509+_0x5c6452(0x291)+_0x59face+_0x5c6452(0xc70)+_0x1ed0c0+'\x22>'+_0xc0af6e+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4e7463['id']+_0x5c6452(0x6a8)+_0x4e7463['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x4e7463[_0x5c6452(0xb9e)]?'fas\x20fa-star\x20text-yellow-500':_0x5c6452(0x13d))+_0x5c6452(0x214)+_0xaea579+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4e7463['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x4e7463['id']+_0x5c6452(0x6c4)+_0x4e7463['id']+_0x5c6452(0x9fd)+_0x4e7463['id']+_0x5c6452(0x15c)+_0x4e7463['id']+_0x5c6452(0x22f)+_0x4e7463['id']+_0x5c6452(0x13b)+_0x4e7463['id']+'\x22\x20data-topic=\x22'+_0x4e7463['topic']+_0x5c6452(0xbb2)+_0x4e7463['id']+_0x5c6452(0x95d)+_0x4e7463['id']+_0x5c6452(0x6c2)+_0x6c0dd1+_0x5c6452(0x455)+_0x4e7463['id']+_0x5c6452(0xd74)+_0x4e7463['id']+_0x5c6452(0x73b)+_0x4e7463['id']+_0x5c6452(0x18e)+_0x4e7463['id']+_0x5c6452(0xd69)+_0x4e7463['id']+_0x5c6452(0x20d)+_0x4e7463['id']+_0x5c6452(0x6df)+_0x4e7463['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4e7463['id']+_0x5c6452(0x856)+_0x4e7463['topic']+_0x5c6452(0x591)+_0x4e7463['id']+_0x5c6452(0x6ec);}),_0x45c335[_0x65aee8(0xbc4)]=_0x34af61,document[_0x65aee8(0x77f)](_0x65aee8(0xc7f))['forEach'](_0x2cd6a1=>{const _0x2d0378=_0x65aee8;_0x2cd6a1[_0x2d0378(0xc2d)]('click',()=>{const _0x3f59dc=_0x2d0378,_0x26157d=_0x2cd6a1['dataset'][_0x3f59dc(0xbc0)];showQuizDetailView(_0x26157d);});});}async function handleUnpairQuiz(_0x32254b){const _0x5c4777=_0x13d91b,_0x1af976=allQuizzes[_0x5c4777(0xa3d)](_0x3754ae=>_0x3754ae['id']===_0x32254b);if(!_0x1af976||!_0x1af976[_0x5c4777(0x1b7)]){showMessage(_0x5c4777(0x30e));return;}showConfirmation(_0x5c4777(0x6fb),async()=>{const _0x78d584=_0x5c4777;try{const _0x22ec28=doc(db,_0x78d584(0x54a)+appId+'/public/data/quizzes',_0x32254b),_0x1ef0aa=doc(db,'artifacts/'+appId+_0x78d584(0xd20),_0x1af976['pairedQuizId']),_0x64a088=writeBatch(db);_0x64a088['update'](_0x22ec28,{'pairedQuizId':null}),_0x64a088['update'](_0x1ef0aa,{'pairedQuizId':null}),await _0x64a088[_0x78d584(0x1cc)](),showMessage(_0x78d584(0x415));}catch(_0x356288){console['error'](_0x78d584(0x48d),_0x356288),showMessage(_0x78d584(0x4c2));}});}function formatAndPrintLessonPlan(_0x18d49d,_0x21274d){const _0xd2102c=_0x13d91b,_0x51b233=window[_0xd2102c(0x208)]('',_0xd2102c(0xda8)),_0x2b7f86=_0xd2102c(0xaaf)+_0x21274d[_0xd2102c(0xdf4)]+_0xd2102c(0xfe)+_0x21274d[_0xd2102c(0xdf4)]+_0xd2102c(0x5d6)+_0x18d49d['learningGaps'][_0xd2102c(0x1b0)](_0x4ec672=>_0xd2102c(0x6b7)+_0x4ec672+'</li>')[_0xd2102c(0x22e)]('')+_0xd2102c(0xc33)+_0x18d49d['teachingContent']+_0xd2102c(0x828)+_0x18d49d[_0xd2102c(0x52e)][_0xd2102c(0x1b0)](_0x13cf1d=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x13cf1d[_0xd2102c(0x512)]+_0xd2102c(0xa58)+_0x13cf1d[_0xd2102c(0xd92)]+_0xd2102c(0x1a7))[_0xd2102c(0x22e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x51b233[_0xd2102c(0x75e)][_0xd2102c(0x3d6)](_0x2b7f86),_0x51b233[_0xd2102c(0x75e)][_0xd2102c(0x3fb)](),_0x51b233[_0xd2102c(0x766)]=function(){setTimeout(()=>{const _0x26d640=_0x28c2;_0x51b233[_0x26d640(0x308)]();},0x3e8);};}async function handleAiFixFormula(_0x456331){const _0x1b67a0=_0x13d91b,_0x1b187b=document['querySelector'](_0x1b67a0(0xc6e)+_0x456331+'\x22]');if(!_0x1b187b)return;const _0x35d176=_0x1b187b[_0x1b67a0(0xcba)][_0x1b67a0(0x151)],_0x503b4b=_0x1b187b[_0x1b67a0(0x7f4)](_0x1b67a0(0x8c5));let _0x516ac1={'question':_0x1b187b[_0x1b67a0(0x7f4)]('textarea')[_0x1b67a0(0x93c)]};switch(_0x35d176){case _0x1b67a0(0x3e2):_0x516ac1[_0x1b67a0(0x238)]=Array[_0x1b67a0(0x199)](_0x1b187b['querySelectorAll'](_0x1b67a0(0x20b)))['map'](_0x2aed26=>_0x2aed26[_0x1b67a0(0x93c)]);break;case _0x1b67a0(0x21b):_0x516ac1['idealAnswer']=_0x1b187b[_0x1b67a0(0x7f4)](_0x1b67a0(0xbc5))[_0x1b67a0(0x93c)];break;case _0x1b67a0(0x416):_0x516ac1['correctResponse']=_0x1b187b[_0x1b67a0(0x7f4)](_0x1b67a0(0x303))[_0x1b67a0(0x93c)];break;}_0x503b4b[_0x1b67a0(0xbc4)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x503b4b[_0x1b67a0(0x426)]=!![];try{const _0x35933d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20'+JSON[_0x1b67a0(0x163)](_0x516ac1)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0xc7bd36={'type':_0x1b67a0(0xd0d),'properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':_0x1b67a0(0x330)},'options':{'type':_0x1b67a0(0x33c),'items':{'type':_0x1b67a0(0x330)}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x1b67a0(0x330)}},'required':[_0x1b67a0(0x512)]}},'required':[_0x1b67a0(0xcca)]},_0x2318ac=await callAnalysisApi(_0x35933d,_0xc7bd36);if(_0x2318ac&&_0x2318ac[_0x1b67a0(0xcca)]){const _0x5441ed=_0x2318ac[_0x1b67a0(0xcca)];_0x1b187b['querySelector']('textarea')[_0x1b67a0(0x93c)]=_0x5441ed[_0x1b67a0(0x512)]||_0x516ac1[_0x1b67a0(0x512)];switch(_0x35d176){case _0x1b67a0(0x3e2):_0x5441ed[_0x1b67a0(0x238)]&&_0x5441ed[_0x1b67a0(0x238)]['length']>0x0&&_0x1b187b[_0x1b67a0(0x77f)](_0x1b67a0(0x20b))['forEach']((_0x3a196e,_0x5b3410)=>{const _0x5d0b6c=_0x1b67a0;_0x3a196e[_0x5d0b6c(0x93c)]=_0x5441ed[_0x5d0b6c(0x238)][_0x5b3410]||_0x516ac1[_0x5d0b6c(0x238)][_0x5b3410];});break;case _0x1b67a0(0x21b):_0x1b187b[_0x1b67a0(0x7f4)]('.ideal-answer-input')[_0x1b67a0(0x93c)]=_0x5441ed[_0x1b67a0(0x158)]||_0x516ac1[_0x1b67a0(0x158)];break;case'matching_item':_0x1b187b['querySelector'](_0x1b67a0(0x303))[_0x1b67a0(0x93c)]=_0x5441ed[_0x1b67a0(0x994)]||_0x516ac1[_0x1b67a0(0x994)];break;}if(_0x516ac1[_0x1b67a0(0x512)]!==_0x5441ed[_0x1b67a0(0x512)])try{const _0x596dff=collection(db,_0x1b67a0(0x54a)+appId+_0x1b67a0(0xd4b));await addDoc(_0x596dff,{'broken':_0x516ac1[_0x1b67a0(0x512)],'fixed':_0x5441ed['question'],'createdAt':serverTimestamp()});}catch(_0x27e9e6){console[_0x1b67a0(0x689)](_0x1b67a0(0x41e),_0x27e9e6);}showMessage(_0x1b67a0(0xcb9));}else throw new Error(_0x1b67a0(0xb5f));}catch(_0x269323){console[_0x1b67a0(0x689)](_0x1b67a0(0xd3b),_0x269323),showMessage(_0x1b67a0(0x516));}finally{_0x503b4b[_0x1b67a0(0xbc4)]=_0x1b67a0(0x887),_0x503b4b['disabled']=![];}}async function handleGenerateLessonPlan(_0x18ff8f){const _0xc5f97c=_0x13d91b;showMessage(_0xc5f97c(0x68b));try{const _0x4da582=doc(db,_0xc5f97c(0x54a)+appId+_0xc5f97c(0xd20),_0x18ff8f),_0x2064f7=await getDoc(_0x4da582);if(!_0x2064f7[_0xc5f97c(0x5fd)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x5b565f={'id':_0x18ff8f,..._0x2064f7[_0xc5f97c(0xaf3)]()},_0x21b2be=collection(db,_0xc5f97c(0x54a)+appId+'/public/data/quizzes',_0x18ff8f,_0xc5f97c(0x72c)),_0x53583e=await getDocs(_0x21b2be),_0x230c04=_0x53583e['docs'][_0xc5f97c(0x1b0)](_0x157803=>_0x157803[_0xc5f97c(0xaf3)]());if(_0x230c04[_0xc5f97c(0x3d7)]===0x0)throw new Error(_0xc5f97c(0x427));const _0x191134=calculateItemAnalysis(_0x5b565f,_0x230c04)[_0xc5f97c(0xcea)],_0x3bad01=calculateDistractorAnalysis(_0x5b565f,_0x230c04),_0x55991=_0x17bcbe=>{const _0x205867=_0xc5f97c;if(!_0x17bcbe)return'';return _0x17bcbe[_0x205867(0xdb5)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x205867(0xdb5)](/\n/g,'\x5cn');};let _0x4ecf8c=_0xc5f97c(0x2a3);_0x5b565f['questions']['forEach']((_0x3ca04f,_0x46fe43)=>{const _0x48e122=_0xc5f97c,_0x1761c8=_0x191134[_0x46fe43]?.['p']['toFixed'](0x2)||_0x48e122(0x642),_0x219446=_0x191134[_0x46fe43]?.['r']['toFixed'](0x2)||'N/A',_0x1f67a6=_0x55991(_0x3ca04f[_0x48e122(0xa35)]||_0x3ca04f[_0x48e122(0x3a9)]);_0x4ecf8c+=_0x48e122(0xc8e)+(_0x46fe43+0x1)+_0x48e122(0xc92)+_0x1761c8+_0x48e122(0x947)+_0x219446+'):\x20'+_0x1f67a6+'\x5cn';if(_0x3ca04f[_0x48e122(0xa1a)]===_0x48e122(0x3e2)&&_0x3bad01[_0x46fe43]){const _0x5d99bf=_0x3bad01[_0x46fe43],_0x1fd100=Object[_0x48e122(0x4bf)](_0x5d99bf)['filter'](_0x28370a=>parseInt(_0x28370a)!==_0x3ca04f[_0x48e122(0xae6)])[_0x48e122(0x5d4)]((_0x6734f7,_0x46237e)=>_0x5d99bf[_0x46237e]['total']-_0x5d99bf[_0x6734f7][_0x48e122(0x675)])[0x0];if(_0x1fd100&&_0x5d99bf[_0x1fd100][_0x48e122(0x675)]>0x0){const _0x17b03b=_0x55991(_0x5d99bf[_0x1fd100][_0x48e122(0xb52)]);_0x4ecf8c+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x17b03b+_0x48e122(0x1ee);}}});const _0x99809='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x5b565f[_0xc5f97c(0xdf4)]+_0xc5f97c(0x397)+_0x4ecf8c+_0xc5f97c(0x400),_0x4c3d76={'type':_0xc5f97c(0xd0d),'properties':{'learningGaps':{'type':_0xc5f97c(0x33c),'items':{'type':_0xc5f97c(0x330)}},'teachingContent':{'type':_0xc5f97c(0x330)},'practiceProblems':{'type':_0xc5f97c(0x33c),'items':{'type':_0xc5f97c(0xd0d),'properties':{'question':{'type':_0xc5f97c(0x330)},'solution':{'type':_0xc5f97c(0x330)}}}}},'required':[_0xc5f97c(0x33e),_0xc5f97c(0xa42),_0xc5f97c(0x52e)]},_0x3b3b07=await callAnalysisApi(_0x99809,_0x4c3d76);await updateDoc(_0x4da582,{'lessonPlan':_0x3b3b07});const _0x1800ea=_0xc5f97c(0x505)+_0x5b565f[_0xc5f97c(0xdf4)]+_0xc5f97c(0xda9)+_0x3b3b07[_0xc5f97c(0x33e)]['map'](_0x1c4425=>_0xc5f97c(0x6b7)+_0x1c4425+_0xc5f97c(0x86d))[_0xc5f97c(0x22e)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x3b3b07[_0xc5f97c(0xa42)]+_0xc5f97c(0x667)+_0x3b3b07[_0xc5f97c(0x52e)][_0xc5f97c(0x1b0)](_0x5df07e=>_0xc5f97c(0x2b6)+_0x5df07e[_0xc5f97c(0x512)]+_0xc5f97c(0xa3b)+_0x5df07e['solution']+_0xc5f97c(0x578))[_0xc5f97c(0x22e)]('')+_0xc5f97c(0xa11);document['getElementById'](_0xc5f97c(0x919))[_0xc5f97c(0xd9d)]=_0xc5f97c(0xa72)+_0x5b565f['topic'],document[_0xc5f97c(0x916)](_0xc5f97c(0xbf4))['innerHTML']=_0x1800ea,document[_0xc5f97c(0x916)]('lesson-plan-modal')[_0xc5f97c(0x734)][_0xc5f97c(0x5cf)](_0xc5f97c(0x4ad));if(window[_0xc5f97c(0xcaf)])MathJax[_0xc5f97c(0x1cd)]();messageModal[_0xc5f97c(0x734)]['add'](_0xc5f97c(0x4ad));}catch(_0x6664fa){console[_0xc5f97c(0x689)]('Error\x20generating\x20lesson\x20plan:',_0x6664fa),showMessage(_0xc5f97c(0x96c)+_0x6664fa[_0xc5f97c(0xbd0)]);}}async function handleDuplicateQuiz(_0x514646){const _0x1bc51b=_0x13d91b;try{const _0x4a0c23=doc(db,'artifacts/'+appId+_0x1bc51b(0xd20),_0x514646),_0x59c82e=await getDoc(_0x4a0c23);if(_0x59c82e['exists']()){const _0x473034=_0x59c82e[_0x1bc51b(0xaf3)]();let _0x95867d='',_0x401e95=_0x1bc51b(0xa08),_0x182654=null;if(_0x473034[_0x1bc51b(0x77c)]==='pre-test'){let _0x5d2a17=_0x473034[_0x1bc51b(0xdf4)][_0x1bc51b(0xdb5)](_0x1bc51b(0x2f7),'')[_0x1bc51b(0x1a0)]();_0x95867d=_0x1bc51b(0x7e4)+_0x5d2a17,_0x401e95=_0x1bc51b(0x67a),_0x182654=_0x514646;}else _0x95867d='(คัดลอก)\x20'+_0x473034[_0x1bc51b(0xdf4)];const _0xe1eba5={..._0x473034,'topic':_0x95867d,'createdAt':new Date()[_0x1bc51b(0x700)](),'quizMode':_0x401e95,'pairedQuizId':_0x182654};let _0x10ba69;while(!![]){_0x10ba69=Math[_0x1bc51b(0x8e9)](0x3e8+Math[_0x1bc51b(0x29d)]()*0x2328)[_0x1bc51b(0xda1)]();const _0x79eb9b=await getDoc(doc(db,_0x1bc51b(0x54a)+appId+_0x1bc51b(0xd20),_0x10ba69));if(!_0x79eb9b[_0x1bc51b(0x5fd)]())break;}const _0x3b7481=doc(db,_0x1bc51b(0x54a)+appId+'/public/data/quizzes',_0x10ba69);await setDoc(_0x3b7481,_0xe1eba5),_0xe1eba5[_0x1bc51b(0x77c)]===_0x1bc51b(0x67a)&&await updateDoc(_0x4a0c23,{'pairedQuizId':_0x10ba69}),showMessage(_0x1bc51b(0xcad));}else throw new Error(_0x1bc51b(0xd2f));}catch(_0x316d15){console[_0x1bc51b(0x689)](_0x1bc51b(0x2b4),_0x316d15),showMessage(_0x1bc51b(0xc3d));}}async function handleDeleteQuiz(_0x225f57,_0x2548fc=!![]){const _0x1ca4fc=_0x13d91b;try{const _0x105d70=writeBatch(db),_0x8b05d7=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x225f57+_0x1ca4fc(0xcae)),_0x560875=await getDocs(_0x8b05d7);_0x560875[_0x1ca4fc(0x5c9)](_0x2bad73=>{const _0x26903a=_0x1ca4fc;_0x105d70[_0x26903a(0x9eb)](doc(_0x8b05d7,_0x2bad73['id']));});const _0x2081f6=doc(db,_0x1ca4fc(0x54a)+appId+_0x1ca4fc(0xd20),_0x225f57);_0x105d70[_0x1ca4fc(0x9eb)](_0x2081f6),await _0x105d70['commit']();try{console[_0x1ca4fc(0xcf6)](_0x1ca4fc(0xbbd)+_0x225f57+_0x1ca4fc(0xb40));const _0x4e3114=collection(db,_0x1ca4fc(0x54a)+appId+_0x1ca4fc(0x6cd)),_0x1ae36d=await getDocs(_0x4e3114),_0x21a030=[];_0x1ae36d[_0x1ca4fc(0x5c9)](_0x47b9a5=>{const _0x1c21a5=_0x1ca4fc,_0x1308d2=_0x47b9a5[_0x1c21a5(0xaf3)](),_0x5b71af=_0x1308d2[_0x1c21a5(0x196)]||{};let _0x7f0d67=![];for(const _0x1db073 in _0x5b71af){const _0x20ed8c=_0x5b71af[_0x1db073];if(_0x20ed8c[_0x1c21a5(0x663)]&&_0x20ed8c[_0x1c21a5(0x663)][_0x1c21a5(0xb28)](_0x225f57)){_0x7f0d67=!![];const _0x4d96af=doc(db,_0x1c21a5(0x54a)+appId+_0x1c21a5(0x6cd),_0x47b9a5['id']),_0x8aa6ae=updateDoc(_0x4d96af,{[_0x1c21a5(0x179)+_0x1db073+'.linkedQuizIds']:arrayRemove(_0x225f57)});_0x21a030['push'](_0x8aa6ae);}}}),_0x21a030['length']>0x0&&(await Promise[_0x1ca4fc(0x1e8)](_0x21a030),console[_0x1ca4fc(0xcf6)](_0x1ca4fc(0xb79)+_0x21a030[_0x1ca4fc(0x3d7)]+_0x1ca4fc(0xbea)+_0x225f57+'.'));}catch(_0x3e1f81){console['error']('Error\x20during\x20blueprint\x20link\x20cleanup:',_0x3e1f81);}_0x2548fc&&showMessage(_0x1ca4fc(0xc1d));}catch(_0x43330f){console[_0x1ca4fc(0x689)](_0x1ca4fc(0x8c7),_0x43330f),_0x2548fc&&showMessage(_0x1ca4fc(0x93a));}}async function showQuizDetailView(_0x149be8){const _0x4dc74c=_0x13d91b;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x4dc74c(0x662));try{const _0x5ccd72=doc(db,_0x4dc74c(0x54a)+appId+_0x4dc74c(0xd20),_0x149be8),_0x261a71=await getDoc(_0x5ccd72);if(!_0x261a71[_0x4dc74c(0x5fd)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0x441156={'id':_0x261a71['id'],..._0x261a71['data']()};currentQuizData=_0x441156;const _0x49e8ac=doc(db,_0x4dc74c(0x54a)+appId+'/public/data/projects',_0x441156[_0x4dc74c(0x7a5)]),_0x2aabf9=await getDoc(_0x49e8ac);_0x2aabf9[_0x4dc74c(0x5fd)]()?(currentProjectData=_0x2aabf9[_0x4dc74c(0xaf3)](),currentProjectId=_0x441156[_0x4dc74c(0x7a5)]):(currentProjectData={'students':[]},currentProjectId=_0x441156[_0x4dc74c(0x7a5)]);document['getElementById'](_0x4dc74c(0x76a))[_0x4dc74c(0xd9d)]=_0x441156[_0x4dc74c(0xdf4)],document[_0x4dc74c(0x916)]('results-quiz-id-display')[_0x4dc74c(0xd9d)]=_0x149be8;const _0x498cef=collection(db,_0x4dc74c(0x54a)+appId+'/public/data/quizzes',_0x149be8,_0x4dc74c(0x72c));unsubscribeSubmissionsListener=onSnapshot(_0x498cef,_0x101a84=>{const _0x114d19=_0x4dc74c,_0x72c977=_0x101a84[_0x114d19(0x1fb)][_0x114d19(0x1b0)](_0x426a37=>({'id':_0x426a37['id'],..._0x426a37[_0x114d19(0xaf3)]()}));currentSubmissions=_0x72c977;const _0x103229=_0x72c977[_0x114d19(0xc52)](_0x3d6e5f=>_0x3d6e5f[_0x114d19(0x641)]&&_0x3d6e5f[_0x114d19(0x641)][_0x114d19(0x3d7)]>0x0);renderBehaviorLog(_0x72c977),renderAnswerGrid(currentProjectData['students'],_0x103229,_0x441156),renderAnalytics(_0x441156,_0x103229),renderQuizResultsTable(currentProjectData[_0x114d19(0xce1)],_0x72c977,_0x441156),renderQuizLeaderboard(_0x103229,_0x441156,'quiz-leaderboard-table-body');}),showView(_0x4dc74c(0xc53));}catch(_0x383119){console[_0x4dc74c(0x689)](_0x4dc74c(0x168),_0x383119),showMessage(_0x4dc74c(0x834));}}function renderAnswerGrid(_0x15a77d,_0x7726ee,_0x4205ba){const _0x1e6d88=_0x13d91b,_0x7d08ba=document['getElementById'](_0x1e6d88(0x182));if(!_0x7d08ba)return;if(!_0x15a77d||_0x15a77d[_0x1e6d88(0x3d7)]===0x0){_0x7d08ba['innerHTML']=_0x1e6d88(0x4e7);return;}const _0x21e22b=_0x4205ba[_0x1e6d88(0x87f)],_0x1c8a62=_0x7726ee[_0x1e6d88(0xba9)]((_0xbed03,_0x55b57a)=>{const _0x115c6b=_0x1e6d88;return _0xbed03[_0x55b57a[_0x115c6b(0x7b1)]]=_0x55b57a,_0xbed03;},{}),_0x5d62e5=_0x47c41f=>String[_0x1e6d88(0xd18)](0x41+_0x47c41f),_0x2c671c=_0x51d019=>{const _0x2eb516=_0x1e6d88,_0x4c8390=_0x51d019['questionType']||_0x4205ba[_0x2eb516(0x9b1)];switch(_0x4c8390){case'multiple_choice':return _0x51d019[_0x2eb516(0x238)]&&_0x51d019[_0x2eb516(0x238)]['length']>_0x51d019[_0x2eb516(0xae6)]?_0x5d62e5(_0x51d019[_0x2eb516(0xae6)]):'-';case _0x2eb516(0x54f):const _0x1b4c1c=_0x51d019[_0x2eb516(0xcdb)]===!![]||String(_0x51d019[_0x2eb516(0xcdb)])[_0x2eb516(0x3c8)]()==='true';return _0x1b4c1c?_0x2eb516(0x658):_0x2eb516(0xa5c);case'matching_item':return _0x51d019[_0x2eb516(0x994)]||'-';case _0x2eb516(0x21b):return'พิมพ์ตอบ';default:return'-';}},_0x36e68c=(_0x1510a1,_0x4201cd)=>{const _0x3e7aae=_0x1e6d88;if(_0x4201cd[_0x3e7aae(0x43b)]===null||_0x4201cd[_0x3e7aae(0x43b)]===undefined)return'-';const _0x19e6f3=_0x1510a1['questionType']||_0x4205ba['quizType'];switch(_0x19e6f3){case'multiple_choice':const _0x5306d1=_0x1510a1[_0x3e7aae(0x238)][_0x3e7aae(0x209)](_0x5ae0aa=>_0x5ae0aa===_0x4201cd[_0x3e7aae(0x2c1)]);return _0x5306d1!==-0x1?_0x5d62e5(_0x5306d1):_0x4201cd[_0x3e7aae(0x2c1)]||'-';case'true_false':if(_0x4201cd['answer']=='0'||_0x4201cd['answer']===!![]||_0x4201cd['answer']===_0x3e7aae(0x539))return'ใช่';return _0x3e7aae(0xa5c);default:return _0x4201cd[_0x3e7aae(0x43b)];}};let _0x204243=_0x1e6d88(0x67c)+_0x21e22b[_0x1e6d88(0x1b0)]((_0x2b1ba9,_0x10dae4)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x10dae4+0x1)+'</th>')[_0x1e6d88(0x22e)]('')+_0x1e6d88(0xcf5)+_0x21e22b[_0x1e6d88(0x1b0)](_0x4d90b9=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x2c671c(_0x4d90b9)+_0x1e6d88(0xca9))[_0x1e6d88(0x22e)]('')+_0x1e6d88(0x7a1);_0x15a77d['forEach'](_0x829bb6=>{const _0x10fec9=_0x1e6d88;_0x204243+=_0x10fec9(0xaee),_0x204243+=_0x10fec9(0x205)+_0x829bb6+'</td>';const _0x4deba7=_0x1c8a62[_0x829bb6];if(_0x4deba7){const _0xfc4854=_0x4deba7[_0x10fec9(0x641)][_0x4deba7[_0x10fec9(0x641)]['length']-0x1];_0x21e22b[_0x10fec9(0x5c9)]((_0x1845fa,_0x55dc4f)=>{const _0x16f102=_0x10fec9,_0x5e076d=_0xfc4854[_0x16f102(0x367)]['find'](_0x4921be=>_0x4921be[_0x16f102(0xb02)]===_0x1845fa['id']);if(_0x5e076d){let _0x5712a7='';const _0x10f440=_0x5e076d[_0x16f102(0x832)]===!![],_0x5988ee=_0x5e076d['wasConfident']===!![]||_0x5e076d[_0x16f102(0xdd1)]===_0x16f102(0x1e5),_0x483f6d=_0x5e076d[_0x16f102(0xb2b)];if(_0x483f6d==='wagerMultiplier')_0x10f440?_0x5712a7=_0x16f102(0xd85):_0x5712a7='bg-red-700\x20text-white\x20font-bold';else _0x5988ee?_0x5712a7=_0x10f440?_0x16f102(0xd45):'bg-red-500\x20text-white\x20font-bold':_0x5712a7=_0x10f440?_0x16f102(0xc07):_0x16f102(0x323);_0x204243+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x5712a7+'\x22>'+_0x36e68c(_0x1845fa,_0x5e076d)+_0x16f102(0xca9);}else _0x204243+=_0x16f102(0x473);});}else _0x204243+=_0x21e22b[_0x10fec9(0x1b0)](()=>_0x10fec9(0xcda))[_0x10fec9(0x22e)]('');_0x204243+=_0x10fec9(0xa44);}),_0x204243+='</tbody></table>',_0x7d08ba['innerHTML']=_0x204243;}function renderQuizResultsTable(_0x50ee5f,_0x25f61c,_0x5ee60d){const _0x24a052=_0x13d91b,_0x111fea=_0x25f61c['reduce']((_0x1cd58a,_0x1dbed9)=>{return _0x1cd58a[_0x1dbed9['studentName']]=_0x1dbed9,_0x1cd58a;},{}),_0x2545af=document[_0x24a052(0x7f4)]('#results-table\x20thead\x20tr');_0x2545af&&!_0x2545af['innerHTML'][_0x24a052(0xb28)](_0x24a052(0xdfc))&&(_0x2545af[_0x24a052(0xbc4)]+=_0x24a052(0xae2));const _0x8b182a=document[_0x24a052(0x916)](_0x24a052(0xdb8));if(!_0x50ee5f||_0x50ee5f[_0x24a052(0x3d7)]===0x0){_0x8b182a[_0x24a052(0xbc4)]=_0x24a052(0xdb7);return;}const _0x50ee12=_0x5ee60d[_0x24a052(0xdf7)]===!![],_0x301a13=_0x5ee60d[_0x24a052(0xc10)]?.[_0x24a052(0x423)]??-0x1;let _0x21f27f='';_0x50ee5f[_0x24a052(0x5c9)](_0x5538a3=>{const _0x48ceb0=_0x24a052,_0x3f02fd=_0x111fea[_0x5538a3];let _0x36bbda=_0x48ceb0(0x626)+(_0x50ee12?'bg-amber-100\x20text-amber-800':_0x48ceb0(0x6b8))+'\x22>'+(_0x50ee12?_0x48ceb0(0x293):_0x48ceb0(0x5a3))+_0x48ceb0(0x857);if(_0x3f02fd){if(_0x3f02fd['attempts']&&_0x3f02fd[_0x48ceb0(0x641)][_0x48ceb0(0x3d7)]>0x0){let _0x5abc51=_0x50ee12?_0x3f02fd[_0x48ceb0(0xad6)]===_0x3f02fd['totalQuestions']:_0x301a13!==-0x1&&_0x3f02fd[_0x48ceb0(0xad6)]>=_0x301a13;const _0x6e3663=_0x5abc51?_0x48ceb0(0xc07):_0x48ceb0(0x323),_0x419dea=_0x5abc51?'ผ่าน':_0x48ceb0(0x4dc),_0x38df5f=_0x48ceb0(0x2a2)+_0x6e3663+'\x22>'+_0x419dea+_0x48ceb0(0x857),_0x24d8ed=_0x48ceb0(0x5de)+(_0x3f02fd[_0x48ceb0(0x641)]?.['length']||0x1)+_0x48ceb0(0x31d),_0x14781c=_0x48ceb0(0x23b)+(_0x3f02fd[_0x48ceb0(0x756)]||0x0)+_0x48ceb0(0x52b)+_0x5538a3+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-current-points=\x22'+(_0x3f02fd[_0x48ceb0(0x756)]||0x0)+_0x48ceb0(0x924);_0x21f27f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x5538a3+_0x48ceb0(0xa8b)+_0x3f02fd[_0x48ceb0(0xad6)]+_0x48ceb0(0x62d)+_0x3f02fd[_0x48ceb0(0x1d3)]+_0x48ceb0(0x187)+_0x38df5f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x36bbda+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x3f02fd[_0x48ceb0(0x86f)]+_0x48ceb0(0x62d)+_0x3f02fd[_0x48ceb0(0x1d3)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x3f02fd[_0x48ceb0(0x97a)]+_0x48ceb0(0x62d)+_0x3f02fd[_0x48ceb0(0x1d3)]+_0x48ceb0(0x8f8)+_0x14781c+_0x48ceb0(0x187)+_0x24d8ed+_0x48ceb0(0x3a6)+new Date(_0x3f02fd[_0x48ceb0(0xcd3)])['toLocaleString'](_0x48ceb0(0x9be))+_0x48ceb0(0x19a)+_0x5538a3+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x57cbd0=_0x48ceb0(0xb60);_0x21f27f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x5538a3+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x36bbda+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x57cbd0+_0x48ceb0(0x3a6)+new Date(_0x3f02fd[_0x48ceb0(0x830)])[_0x48ceb0(0x4cd)](_0x48ceb0(0x9be))+_0x48ceb0(0x338)+_0x5538a3+_0x48ceb0(0x380);}}else{const _0x411f6c=_0x48ceb0(0x28c);_0x21f27f+=_0x48ceb0(0x962)+_0x5538a3+_0x48ceb0(0xd33)+_0x36bbda+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x411f6c+_0x48ceb0(0x1b8);}}),_0x8b182a[_0x24a052(0xbc4)]=_0x21f27f;}async function confirmRenameQuiz(){const _0x19159d=_0x13d91b,_0x462d53=document[_0x19159d(0x916)](_0x19159d(0x910))[_0x19159d(0x93c)][_0x19159d(0x1a0)]();if(!_0x462d53){showMessage(_0x19159d(0x448));return;}if(!actionTargetId)return;const _0x40c1f4=doc(db,'artifacts/'+appId+_0x19159d(0xd20),actionTargetId);try{await updateDoc(_0x40c1f4,{'topic':_0x462d53}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x19159d(0x734)]['add'](_0x19159d(0x4ad)),actionTargetId=null;}catch(_0x5964ed){console[_0x19159d(0x689)](_0x19159d(0x614),_0x5964ed),showMessage(_0x19159d(0x49d));}}async function handleMoveQuiz(_0x49cca6){const _0x29ff02=_0x13d91b;actionTargetId=_0x49cca6;const _0x5efc8d=document[_0x29ff02(0x916)](_0x29ff02(0xd53));_0x5efc8d['innerHTML']='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x29ff02(0x734)][_0x29ff02(0x5cf)](_0x29ff02(0x4ad));try{const _0x460db2=collection(db,'artifacts/'+appId+_0x29ff02(0x90e)),_0x5b2dc9=await getDocs(_0x460db2),_0x28a99e=_0x5b2dc9[_0x29ff02(0x1fb)][_0x29ff02(0x1b0)](_0x9fbd5=>({'id':_0x9fbd5['id'],..._0x9fbd5[_0x29ff02(0xaf3)]()})),_0x587ef7=_0x28a99e[_0x29ff02(0xc52)](_0xc56c42=>_0xc56c42['id']!==currentProjectId);if(_0x587ef7['length']===0x0){_0x5efc8d['innerHTML']=_0x29ff02(0x24a),document[_0x29ff02(0x916)](_0x29ff02(0x3f1))[_0x29ff02(0x426)]=!![];return;}_0x5efc8d[_0x29ff02(0xbc4)]=_0x587ef7[_0x29ff02(0x1b0)](_0x381881=>_0x29ff02(0x733)+_0x381881['id']+'\x22>'+_0x381881['projectName']+_0x29ff02(0xb4f))[_0x29ff02(0x22e)](''),document[_0x29ff02(0x916)](_0x29ff02(0x3f1))[_0x29ff02(0x426)]=![];}catch(_0x2e086f){console[_0x29ff02(0x689)](_0x29ff02(0xa6c),_0x2e086f),showMessage(_0x29ff02(0x92c)),moveQuizModal[_0x29ff02(0x734)][_0x29ff02(0x459)](_0x29ff02(0x4ad));}}async function confirmMoveQuiz(){const _0x57fefe=_0x13d91b,_0x2a423d=document['getElementById'](_0x57fefe(0xd53))[_0x57fefe(0x93c)];if(!_0x2a423d){showMessage(_0x57fefe(0x12b));return;}if(!actionTargetId)return;const _0xefa20f=doc(db,'artifacts/'+appId+_0x57fefe(0xd20),actionTargetId);try{await updateDoc(_0xefa20f,{'projectId':_0x2a423d}),showMessage(_0x57fefe(0xc0a)),moveQuizModal[_0x57fefe(0x734)]['add']('hidden'),actionTargetId=null;}catch(_0x440309){console[_0x57fefe(0x689)]('Error\x20moving\x20quiz:',_0x440309),showMessage(_0x57fefe(0x12f));}}async function handleQuizSettings(_0x103cad){const _0x443e4d=_0x13d91b;actionTargetId=_0x103cad;const _0x4e2302=doc(db,_0x443e4d(0x54a)+appId+_0x443e4d(0xd20),_0x103cad);try{const _0x3ab15e=await getDoc(_0x4e2302);if(_0x3ab15e[_0x443e4d(0x5fd)]()){const _0x499b3b=_0x3ab15e['data'](),_0x3b5063=_0x499b3b[_0x443e4d(0xc10)]||{},_0x4394b5=_0x499b3b[_0x443e4d(0x87f)][_0x443e4d(0x3d7)];document[_0x443e4d(0x916)](_0x443e4d(0x346))[_0x443e4d(0x93c)]=_0x3b5063[_0x443e4d(0x6b6)]||_0x443e4d(0x118),document['getElementById']('modal-results-display-select')[_0x443e4d(0x93c)]=_0x3b5063['resultsDisplay']||'show_results_and_answers',document['getElementById'](_0x443e4d(0xc0b))[_0x443e4d(0x93c)]=_0x3b5063[_0x443e4d(0x846)]||'none',document[_0x443e4d(0x916)](_0x443e4d(0xdb2))[_0x443e4d(0x93c)]=_0x3b5063[_0x443e4d(0x31a)]||0xa,document[_0x443e4d(0x916)](_0x443e4d(0x20e))[_0x443e4d(0x93c)]=_0x3b5063[_0x443e4d(0x423)]||Math['floor'](_0x4394b5/0x2),document['getElementById']('modal-passing-score-input')[_0x443e4d(0x88a)]=_0x4394b5,document[_0x443e4d(0x916)](_0x443e4d(0x6ea))[_0x443e4d(0x7bc)]=_0x3b5063['isAdaptive']||![],document[_0x443e4d(0x916)](_0x443e4d(0x14f))[_0x443e4d(0x7bc)]=_0x3b5063[_0x443e4d(0x3e0)]||![];const _0x897527=_0x3b5063['isConfidenceScoringEnabled']||![];document[_0x443e4d(0x916)](_0x443e4d(0xa20))['checked']=_0x897527,document[_0x443e4d(0x916)](_0x443e4d(0xb63))['value']=_0x3b5063['confidenceMode']||_0x443e4d(0xd38);const _0x5f38e2=document[_0x443e4d(0x916)](_0x443e4d(0x9f7));_0x5f38e2[_0x443e4d(0x734)][_0x443e4d(0x3bc)](_0x443e4d(0x4ad),!_0x897527),document[_0x443e4d(0x916)]('modal-timer-mode-select')[_0x443e4d(0x24d)](new Event('change')),quizSettingsModal[_0x443e4d(0x734)][_0x443e4d(0x5cf)](_0x443e4d(0x4ad));}else showMessage(_0x443e4d(0x7ec));}catch(_0x462398){console[_0x443e4d(0x689)](_0x443e4d(0x1eb),_0x462398),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x4f3b41=_0x13d91b;if(!actionTargetId)return;const _0x47624f=doc(db,'artifacts/'+appId+_0x4f3b41(0xd20),actionTargetId),_0x4c3cb3={'shuffle':document[_0x4f3b41(0x916)](_0x4f3b41(0x346))[_0x4f3b41(0x93c)],'resultsDisplay':document[_0x4f3b41(0x916)](_0x4f3b41(0xd6a))['value'],'timerMode':document[_0x4f3b41(0x916)](_0x4f3b41(0xc0b))[_0x4f3b41(0x93c)],'timerDuration':parseInt(document[_0x4f3b41(0x916)](_0x4f3b41(0xdb2))[_0x4f3b41(0x93c)])||0xa,'passingScore':parseInt(document['getElementById']('modal-passing-score-input')[_0x4f3b41(0x93c)])||0x0,'isAdaptive':document[_0x4f3b41(0x916)](_0x4f3b41(0x6ea))[_0x4f3b41(0x7bc)],'loopUntilPass':document[_0x4f3b41(0x916)](_0x4f3b41(0x14f))['checked'],'isConfidenceScoringEnabled':document[_0x4f3b41(0x916)](_0x4f3b41(0xa20))['checked'],'confidenceMode':document['getElementById'](_0x4f3b41(0xb63))['value']};try{await updateDoc(_0x47624f,{'settings':_0x4c3cb3}),showMessage(_0x4f3b41(0x596)),quizSettingsModal[_0x4f3b41(0x734)][_0x4f3b41(0x459)](_0x4f3b41(0x4ad)),actionTargetId=null;}catch(_0x21c50b){console[_0x4f3b41(0x689)](_0x4f3b41(0xd8e),_0x21c50b),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function confirmQuizStatus(){const _0x266382=_0x13d91b;if(!actionTargetId)return;const _0x20247b=doc(db,'artifacts/'+appId+_0x266382(0xd20),actionTargetId),_0x82c81c=document['querySelector'](_0x266382(0xbc3));if(!_0x82c81c){showMessage(_0x266382(0x9d0));return;}const _0xd4a5ce=_0x82c81c[_0x266382(0x93c)];let _0x5f491a={};if(_0xd4a5ce===_0x266382(0x101)||_0xd4a5ce===_0x266382(0x949))_0x5f491a={'status':_0xd4a5ce,'startTime':null,'endTime':null};else{if(_0xd4a5ce===_0x266382(0xb65)){const _0x2a2ffb=document[_0x266382(0x916)]('quiz-start-time')[_0x266382(0x93c)],_0xd95f6e=document[_0x266382(0x916)](_0x266382(0x971))[_0x266382(0x93c)];if(!_0x2a2ffb&&!_0xd95f6e){showMessage(_0x266382(0x50a));return;}_0x5f491a={'status':_0x266382(0x2ba),'startTime':_0x2a2ffb?new Date(_0x2a2ffb)[_0x266382(0x700)]():null,'endTime':_0xd95f6e?new Date(_0xd95f6e)[_0x266382(0x700)]():null};}}try{await updateDoc(_0x20247b,_0x5f491a),showMessage(_0x266382(0xceb)),quizStatusModal[_0x266382(0x734)][_0x266382(0x459)](_0x266382(0x4ad)),actionTargetId=null;}catch(_0x4911bd){console[_0x266382(0x689)]('Error\x20updating\x20quiz\x20status:',_0x4911bd),showMessage(_0x266382(0xaba));}}function listenForStudentProfiles(_0x179203){const _0xe61593=_0x13d91b,_0x5631bc=collection(db,_0xe61593(0x54a)+appId+_0xe61593(0xbb9)+_0x179203+_0xe61593(0x5ac));unsubscribeStudentProfilesListener=onSnapshot(_0x5631bc,_0x57a712=>{const _0x424d9c=_0xe61593,_0x408a84=_0x57a712['docs']['map'](_0x590f37=>_0x590f37[_0x424d9c(0xaf3)]());renderLeaderboard(_0x408a84,'leaderboard-table-body');},_0xc34035=>{const _0x610990=_0xe61593;console[_0x610990(0x689)]('Error\x20listening\x20for\x20student\x20profiles:',_0xc34035),document[_0x610990(0x916)]('leaderboard-table-body')[_0x610990(0xbc4)]=_0x610990(0xd99);});}function renderLeaderboard(_0x4032fc,_0x575f53){const _0x5a3496=_0x13d91b,_0xa17fb5=document['getElementById'](_0x575f53);if(!_0x4032fc||_0x4032fc[_0x5a3496(0x3d7)]===0x0){_0xa17fb5[_0x5a3496(0xbc4)]=_0x5a3496(0xa95);return;}_0x4032fc[_0x5a3496(0x5d4)]((_0x2d12c4,_0x19f99f)=>{const _0x2a7ca8=_0x5a3496,_0x272ea1=(_0x19f99f[_0x2a7ca8(0x482)]||0x0)-(_0x2d12c4[_0x2a7ca8(0x482)]||0x0);if(_0x272ea1!==0x0)return _0x272ea1;const _0x507d70=(_0x19f99f[_0x2a7ca8(0x195)]?.[_0x2a7ca8(0x190)]||0x0)-(_0x2d12c4['badgesCount']?.[_0x2a7ca8(0x190)]||0x0);if(_0x507d70!==0x0)return _0x507d70;const _0x2e8858=(_0x19f99f[_0x2a7ca8(0x195)]?.[_0x2a7ca8(0xd7e)]||0x0)-(_0x2d12c4[_0x2a7ca8(0x195)]?.[_0x2a7ca8(0xd7e)]||0x0);if(_0x2e8858!==0x0)return _0x2e8858;const _0x1af483=(_0x19f99f[_0x2a7ca8(0x195)]?.[_0x2a7ca8(0x1b3)]||0x0)-(_0x2d12c4[_0x2a7ca8(0x195)]?.[_0x2a7ca8(0x1b3)]||0x0);if(_0x1af483!==0x0)return _0x1af483;const _0x53dcdd=(_0x19f99f[_0x2a7ca8(0x195)]?.[_0x2a7ca8(0xdfb)]||0x0)-(_0x2d12c4[_0x2a7ca8(0x195)]?.['quick_thinker']||0x0);if(_0x53dcdd!==0x0)return _0x53dcdd;return _0x2d12c4[_0x2a7ca8(0x7b1)][_0x2a7ca8(0xa7d)](_0x19f99f[_0x2a7ca8(0x7b1)],'th');});let _0x52d98c='';_0x4032fc['forEach']((_0x2ec4b9,_0x5b85eb)=>{const _0x4b0eb5=_0x5a3496,_0x4d6322=_0x5b85eb+0x1,_0x5af0d9=_0x2ec4b9[_0x4b0eb5(0x195)]||{};let _0x67f60f='';const _0x44ce7e=[_0x4b0eb5(0x190),_0x4b0eb5(0x1b3),_0x4b0eb5(0xd7e),_0x4b0eb5(0xdfb)];_0x44ce7e[_0x4b0eb5(0x5c9)](_0x492f74=>{const _0x229c17=_0x4b0eb5;if(_0x5af0d9[_0x492f74]>0x0){const _0x949452=Object['values'](BADGES)[_0x229c17(0xa3d)](_0x41980f=>_0x41980f['id']===_0x492f74);_0x949452&&(_0x492f74===_0x229c17(0x190)?_0x67f60f+=_0x229c17(0x42f)+_0x949452['name']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x949452['icon']+_0x229c17(0x1f5):_0x67f60f+=_0x229c17(0x42f)+_0x949452[_0x229c17(0x34b)]+'\x20('+_0x5af0d9[_0x492f74]+_0x229c17(0x107)+_0x949452[_0x229c17(0x5be)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x5af0d9[_0x492f74]+_0x229c17(0x5fa));}}),_0x52d98c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x4d6322+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x2ec4b9[_0x4b0eb5(0x7b1)]+_0x4b0eb5(0x46b)+(_0x2ec4b9['totalPoints']||0x0)+_0x4b0eb5(0x8f8)+(_0x67f60f||'-')+_0x4b0eb5(0x657);}),_0xa17fb5[_0x5a3496(0xbc4)]=_0x52d98c;}function displayLoopScreen(_0x1f4cb6,_0x3e153d,_0x360222){const _0x183813=_0x13d91b;let _0x3ae1aa='';_0x360222!==_0x183813(0xca5)&&(_0x3ae1aa=_0x183813(0x31c)+_0x1f4cb6+_0x183813(0x62d)+_0x3e153d+_0x183813(0x876));const _0x1fb689=_0x183813(0x32e)+_0x3ae1aa+_0x183813(0x582);studentResultArea['innerHTML']=_0x1fb689,studentResultArea[_0x183813(0x734)][_0x183813(0x5cf)](_0x183813(0x4ad)),studentQuizArea['classList'][_0x183813(0x459)](_0x183813(0x4ad)),document[_0x183813(0x916)](_0x183813(0x636))[_0x183813(0xc2d)]('click',()=>{const _0xf3367e=_0x183813;studentResultArea['classList'][_0xf3367e(0x459)](_0xf3367e(0x4ad)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x39eca3,_0x152296,_0x5d88d4){const _0x3a2bdd=_0x13d91b,_0x37bce6=document[_0x3a2bdd(0x916)](_0x5d88d4),_0x3f585b=_0x5d88d4===_0x3a2bdd(0x5c5),_0x4bd8ad=_0x152296['questions'][_0x3a2bdd(0x3d7)],_0x5eb3c1=document[_0x3a2bdd(0x916)](_0x5d88d4)[_0x3a2bdd(0x7c4)]('table');if(_0x5eb3c1&&!_0x3f585b){const _0x54d090=_0x5eb3c1[_0x3a2bdd(0x7f4)](_0x3a2bdd(0xac8));_0x54d090['innerHTML']=_0x3a2bdd(0x4d0);}if(!_0x39eca3||_0x39eca3['length']===0x0){_0x37bce6[_0x3a2bdd(0xbc4)]=_0x3a2bdd(0x312)+(_0x3f585b?0x6:0x8)+_0x3a2bdd(0x511);return;}const _0x1ddc65=[..._0x39eca3];_0x1ddc65['sort']((_0x1f9be8,_0x81f047)=>{const _0x2132f8=_0x3a2bdd;let _0x2a9255,_0x5e756c;switch(quizLeaderboardSortBy){case'studentName':_0x2a9255=_0x1f9be8[_0x2132f8(0x7b1)]||'',_0x5e756c=_0x81f047[_0x2132f8(0x7b1)]||'';return quizLeaderboardSortOrder===_0x2132f8(0xbb8)?_0x2a9255['localeCompare'](_0x5e756c,'th'):_0x5e756c['localeCompare'](_0x2a9255,'th');case'points':_0x2a9255=_0x1f9be8[_0x2132f8(0x756)]||0x0,_0x5e756c=_0x81f047[_0x2132f8(0x756)]||0x0;break;case'attempts':_0x2a9255=_0x1f9be8[_0x2132f8(0x641)]?.[_0x2132f8(0x3d7)]||0x1,_0x5e756c=_0x81f047['attempts']?.['length']||0x1;break;case _0x2132f8(0xcd3):_0x2a9255=new Date(_0x1f9be8[_0x2132f8(0xcd3)]),_0x5e756c=new Date(_0x81f047['latestSubmittedAt']);break;case _0x2132f8(0xad6):default:_0x2a9255=_0x1f9be8[_0x2132f8(0xad6)],_0x5e756c=_0x81f047[_0x2132f8(0xad6)];break;}if(_0x2a9255<_0x5e756c)return quizLeaderboardSortOrder===_0x2132f8(0xbb8)?-0x1:0x1;if(_0x2a9255>_0x5e756c)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x412d67=_0x152296[_0x3a2bdd(0xdf7)]===!![],_0x47c217=_0x152296[_0x3a2bdd(0xc10)]?.['passingScore']??-0x1;let _0x2e2ce2='';_0x1ddc65['forEach']((_0x3f363e,_0x32325e)=>{const _0xe2ebfe=_0x3a2bdd,_0x58c969=_0x32325e+0x1;let _0x1ec8fd=_0xe2ebfe(0xb55);if(_0x412d67||_0x47c217!==-0x1){let _0x3dcce9=_0x412d67?_0x3f363e[_0xe2ebfe(0xad6)]===_0x4bd8ad:_0x3f363e[_0xe2ebfe(0xad6)]>=_0x47c217;const _0x1e5c66=_0x3dcce9?_0xe2ebfe(0xc07):'bg-red-100\x20text-red-800',_0x4be0ff=_0x3dcce9?_0xe2ebfe(0xb38):_0xe2ebfe(0x4dc);_0x1ec8fd='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x1e5c66+'\x22>'+_0x4be0ff+'</span></td>';}const _0x173b90=_0x3f363e[_0xe2ebfe(0x641)][_0x3f363e[_0xe2ebfe(0x641)][_0xe2ebfe(0x3d7)]-0x1],_0x4570f=(_0x173b90[_0xe2ebfe(0x27c)]||[])[_0xe2ebfe(0x1b0)](_0x207387=>{const _0x598d26=_0xe2ebfe,_0x2440bb=Object['values'](BADGES)[_0x598d26(0xa3d)](_0x300054=>_0x300054['id']===_0x207387);return _0x2440bb?_0x598d26(0x893)+_0x2440bb[_0x598d26(0x34b)]+_0x598d26(0xd21)+_0x2440bb[_0x598d26(0x5be)]+_0x598d26(0x8bc):'';})[_0xe2ebfe(0x22e)]('');_0x2e2ce2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x58c969+_0xe2ebfe(0x78d)+_0x3f363e[_0xe2ebfe(0x7b1)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x3f363e['bestScore']+'\x20/\x20'+_0x4bd8ad+_0xe2ebfe(0x1a9)+_0x1ec8fd+_0xe2ebfe(0x9d6)+(_0x3f363e[_0xe2ebfe(0x756)]||0x0)+_0xe2ebfe(0x1a9)+(_0x3f585b?'':_0xe2ebfe(0x3e9)+(_0x3f363e[_0xe2ebfe(0x641)]?.[_0xe2ebfe(0x3d7)]||0x1)+'</td>')+_0xe2ebfe(0x2ad)+(_0x3f585b?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x3f363e[_0xe2ebfe(0xcd3)])[_0xe2ebfe(0x4cd)]('th-TH')+_0xe2ebfe(0xca9))+_0xe2ebfe(0x15a)+(_0x4570f||'-')+_0xe2ebfe(0x551);}),_0x37bce6[_0x3a2bdd(0xbc4)]=_0x2e2ce2,_0x5eb3c1&&!_0x3f585b&&_0x5eb3c1[_0x3a2bdd(0x77f)](_0x3a2bdd(0x1bd))[_0x3a2bdd(0x5c9)](_0x3edee9=>{const _0x412ea2=_0x3a2bdd,_0x1a25ee=_0x3edee9[_0x412ea2(0x7f4)](_0x412ea2(0x9a9));if(_0x1a25ee)_0x1a25ee[_0x412ea2(0x5cf)]();_0x3edee9[_0x412ea2(0xcba)][_0x412ea2(0x5d4)]===quizLeaderboardSortBy&&(_0x3edee9[_0x412ea2(0xbc4)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x412ea2(0xbb8)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x43f275){const _0x2ce9fe=_0x13d91b;if(!currentQuizData||!currentQuizData['id']||!_0x43f275){showMessage(_0x2ce9fe(0x5a1));return;}showConfirmation(_0x2ce9fe(0xa29)+_0x43f275+_0x2ce9fe(0x9b2),async()=>{const _0x30bd80=_0x2ce9fe,_0x394520=currentQuizData['id'],_0x18088c=doc(db,_0x30bd80(0x54a)+appId+_0x30bd80(0x906)+_0x394520+_0x30bd80(0xcae),_0x43f275);try{await deleteDoc(_0x18088c),showMessage(_0x30bd80(0x5e8)+_0x43f275+_0x30bd80(0xdcb));}catch(_0x330fdf){console[_0x30bd80(0x689)]('Error\x20deleting\x20submission:',_0x330fdf),showMessage(_0x30bd80(0x211));}});}async function handleLoadQuiz(){const _0x798679=_0x13d91b,_0x2eef62=document[_0x798679(0x916)](_0x798679(0xb1f)),_0x480acf=_0x2eef62[_0x798679(0x93c)]['trim']();if(!_0x480acf){showMessage(_0x798679(0xae0));return;}loadQuizBtn['disabled']=!![],loadQuizBtn[_0x798679(0xbc4)]=_0x798679(0xace);try{const _0x458844=doc(db,_0x798679(0x54a)+appId+_0x798679(0xd20),_0x480acf),_0x2fcdf8=await getDoc(_0x458844);if(!_0x2fcdf8[_0x798679(0x5fd)]()){showMessage(_0x798679(0xd55));return;}currentQuizData={'id':_0x2fcdf8['id'],..._0x2fcdf8[_0x798679(0xaf3)]()};const _0x3b7047=currentQuizData[_0x798679(0x127)]||_0x798679(0x101),_0x4db68a=new Date();if(_0x3b7047===_0x798679(0x949)){showMessage(_0x798679(0x17b));return;}if(_0x3b7047===_0x798679(0x2ba)){const _0x29c085=currentQuizData[_0x798679(0xaf2)]?new Date(currentQuizData[_0x798679(0xaf2)]):null,_0x429243=currentQuizData['endTime']?new Date(currentQuizData[_0x798679(0x715)]):null;if(_0x29c085&&_0x4db68a<_0x29c085){showMessage(_0x798679(0x630)+_0x29c085[_0x798679(0x4cd)](_0x798679(0x9be),{'hour12':![]}));return;}if(_0x429243&&_0x4db68a>_0x429243){showMessage(_0x798679(0xa9c));return;}}const _0x36d67b=currentQuizData[_0x798679(0x7a5)];currentProjectId=_0x36d67b;const _0x1aad19=doc(db,'artifacts/'+appId+_0x798679(0x90e),_0x36d67b),_0x4bf80c=await getDoc(_0x1aad19);if(!_0x4bf80c[_0x798679(0x5fd)]()){showMessage(_0x798679(0x9f9));return;}const _0x400258=_0x4bf80c[_0x798679(0xaf3)]();currentStudentProjectData=_0x400258,displayStudentNameSelector(_0x400258[_0x798679(0xce1)],currentQuizData[_0x798679(0xdf4)]);}catch(_0x3a4c3c){console[_0x798679(0x689)]('Error\x20loading\x20quiz\x20for\x20student:',_0x3a4c3c),showMessage(_0x798679(0x653));}finally{loadQuizBtn[_0x798679(0x426)]=![],loadQuizBtn[_0x798679(0xbc4)]=_0x798679(0x290);}}async function handleManualEditPoints(_0x43d09a,_0x51a7db){const _0x9421f8=_0x13d91b;if(!currentQuizData||!currentQuizData['id'])return;const _0x3c31d8=currentQuizData['id'],_0x1db02d=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x3c31d8+_0x9421f8(0xcae),_0x43d09a);try{const _0x15b1d3=await getDoc(_0x1db02d);if(!_0x15b1d3[_0x9421f8(0x5fd)]())return;const _0x5d9d58=_0x15b1d3['data'](),_0x312533=_0x5d9d58[_0x9421f8(0x641)]||[];_0x312533['length']>0x0&&(_0x312533[_0x312533['length']-0x1]['points']=_0x51a7db,_0x312533[_0x312533[_0x9421f8(0x3d7)]-0x1][_0x9421f8(0x4a6)]=!![]),await updateDoc(_0x1db02d,{'points':_0x51a7db,'attempts':_0x312533}),currentProjectData&&currentProjectId&&await updateStudentProfile(currentProjectId,_0x43d09a),showMessage(_0x9421f8(0x19f)+_0x43d09a+_0x9421f8(0x6d2)+_0x51a7db+_0x9421f8(0x592));}catch(_0x45d420){console[_0x9421f8(0x689)]('Error\x20updating\x20points:',_0x45d420),showMessage('เกิดข้อผิดพลาดในการบันทึกคะแนน');}}async function handleJoinLiveGame(){const _0x17f459=_0x13d91b,_0x21e55e=document[_0x17f459(0x916)]('game-pin-input'),_0x5d7506=document['getElementById']('nickname-input'),_0xcbf014=document[_0x17f459(0x916)](_0x17f459(0x1cb)),_0x1c2ba6=_0x21e55e[_0x17f459(0x93c)][_0x17f459(0x1a0)](),_0x41fb7a=_0x5d7506[_0x17f459(0x93c)][_0x17f459(0x1a0)]();if(!_0x1c2ba6||!_0x41fb7a){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0xcbf014['disabled']=!![],_0xcbf014[_0x17f459(0xbc4)]=_0x17f459(0x412);try{const _0x32c71d=collection(db,_0x17f459(0x54a)+appId+_0x17f459(0x543)),_0x353558=query(_0x32c71d,where(_0x17f459(0x201),'==',_0x1c2ba6),where(_0x17f459(0x127),'in',['lobby',_0x17f459(0x512)])),_0x8a0361=await getDocs(_0x353558);if(_0x8a0361['empty']){showMessage(_0x17f459(0xc98));return;}const _0x300249=_0x8a0361['docs'][0x0],_0x2ad89e=_0x300249[_0x17f459(0xaf3)]();currentLiveGameId=_0x300249['id'];const _0x1180f8=_0x2ad89e[_0x17f459(0xbc0)],_0xbbe2a8=doc(db,_0x17f459(0x54a)+appId+_0x17f459(0xd20),_0x1180f8),_0x253b1d=await getDoc(_0xbbe2a8);if(!_0x253b1d['exists']()){showMessage(_0x17f459(0xb66));return;}currentQuizData={'id':_0x253b1d['id'],..._0x253b1d[_0x17f459(0xaf3)]()};if(_0x2ad89e[_0x17f459(0x5cc)]&&_0x2ad89e[_0x17f459(0x5cc)][_0x41fb7a]){const _0x222cd1=_0x2ad89e[_0x17f459(0x5cc)][_0x41fb7a];if(_0x222cd1[_0x17f459(0x127)]==='inactive'){_0xcbf014['innerHTML']=_0x17f459(0x4d3);const _0x13f06e={};_0x13f06e[_0x17f459(0x5a6)+_0x41fb7a+'.status']=_0x17f459(0x101),await updateDoc(doc(db,_0x17f459(0x54a)+appId+_0x17f459(0x543),currentLiveGameId),_0x13f06e),showView(_0x17f459(0x8ad)),currentStudentName=_0x41fb7a,listenForLiveGameUpdates();return;}else{showMessage(_0x17f459(0xaf1));return;}}if(_0x2ad89e['status']!==_0x17f459(0xa3e)){showMessage(_0x17f459(0x110));return;}_0xcbf014['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0x39d619={};_0x39d619[_0x17f459(0x5a6)+_0x41fb7a]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,_0x17f459(0x54a)+appId+_0x17f459(0x543),currentLiveGameId),_0x39d619),currentStudentName=_0x41fb7a,listenForLiveGameUpdates();}catch(_0x558636){console[_0x17f459(0x689)]('Error\x20joining\x20live\x20game:',_0x558636),showMessage(_0x17f459(0xa8f));}finally{_0xcbf014[_0x17f459(0x426)]=![],_0xcbf014['innerHTML']='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x205f77,_0x3e1dc5){const _0x14c72d=_0x13d91b,_0x4df859=document['getElementById'](_0x14c72d(0xa0e));document[_0x14c72d(0x916)](_0x14c72d(0x3fd))[_0x14c72d(0xd9d)]='แบบทดสอบ:\x20'+_0x3e1dc5,!_0x205f77||_0x205f77[_0x14c72d(0x3d7)]===0x0?(_0x4df859[_0x14c72d(0xbc4)]=_0x14c72d(0x11a),startQuizBtn['disabled']=!![]):(_0x4df859[_0x14c72d(0xbc4)]='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x205f77[_0x14c72d(0x5c9)](_0x3b0aba=>{const _0x28b322=_0x14c72d,_0x1afa13=document['createElement'](_0x28b322(0x63f));_0x1afa13['value']=_0x3b0aba,_0x1afa13['textContent']=_0x3b0aba,_0x4df859[_0x28b322(0x38c)](_0x1afa13);}),startQuizBtn[_0x14c72d(0x426)]=![]),studentInitialView[_0x14c72d(0x734)][_0x14c72d(0x459)](_0x14c72d(0x4ad)),studentNameSelectionView[_0x14c72d(0x734)][_0x14c72d(0x5cf)](_0x14c72d(0x4ad));}function shuffleArray(_0x146ca1){const _0x5361e6=_0x13d91b;for(let _0x5ada8e=_0x146ca1[_0x5361e6(0x3d7)]-0x1;_0x5ada8e>0x0;_0x5ada8e--){const _0x20c31e=Math[_0x5361e6(0x8e9)](Math[_0x5361e6(0x29d)]()*(_0x5ada8e+0x1));[_0x146ca1[_0x5ada8e],_0x146ca1[_0x20c31e]]=[_0x146ca1[_0x20c31e],_0x146ca1[_0x5ada8e]];}}function getShuffledQuiz(_0x17761c){const _0x34d4e2=_0x13d91b;let _0x167ef3=JSON[_0x34d4e2(0x97f)](JSON[_0x34d4e2(0x163)](_0x17761c));const _0x49db8a=_0x167ef3[_0x34d4e2(0xc10)]?.['shuffle']||_0x34d4e2(0x118);if(_0x49db8a===_0x34d4e2(0x118))return _0x167ef3;return(_0x49db8a==='questions_only'||_0x49db8a==='both')&&shuffleArray(_0x167ef3[_0x34d4e2(0x87f)]),(_0x49db8a===_0x34d4e2(0xa36)||_0x49db8a===_0x34d4e2(0xbaa))&&_0x167ef3[_0x34d4e2(0x87f)]['forEach'](_0x6659cc=>{const _0x146684=_0x34d4e2,_0x11a92e=_0x6659cc[_0x146684(0xa1a)]||_0x167ef3['quizType'];if(_0x6659cc[_0x146684(0x238)]){let _0x471769=_0x6659cc[_0x146684(0x238)][_0x146684(0x1b0)]((_0x198deb,_0x10ebcf)=>({'text':_0x198deb,'isCorrect':_0x10ebcf===_0x6659cc[_0x146684(0xae6)]}));shuffleArray(_0x471769),_0x6659cc[_0x146684(0x238)]=_0x471769[_0x146684(0x1b0)](_0x17dba1=>_0x17dba1[_0x146684(0xb52)]),_0x6659cc['correctAnswerIndex']=_0x471769[_0x146684(0x209)](_0x1b80dd=>_0x1b80dd[_0x146684(0x832)]);}_0x11a92e===_0x146684(0x416)&&_0x6659cc['allResponses']&&shuffleArray(_0x6659cc[_0x146684(0x47b)]);}),_0x167ef3;}function displayQuizForStudent(_0x1fbd76){const _0x323e04=_0x13d91b;studentQuizArea[_0x323e04(0x734)][_0x323e04(0x5cf)](_0x323e04(0x4ad)),currentDisplayedQuiz=getShuffledQuiz(_0x1fbd76);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x323e04(0xc2d)]('fullscreenchange',handleFullscreenChange),document[_0x323e04(0xc2d)](_0x323e04(0x945),handleVisibilityChange),enterFullscreen(),window[_0x323e04(0xc2d)](_0x323e04(0xb35),resetDimTimer),window['addEventListener'](_0x323e04(0x6ba),resetDimTimer),window['addEventListener'](_0x323e04(0x3b3),resetDimTimer),window[_0x323e04(0xc2d)](_0x323e04(0xb04),resetDimTimer),resetDimTimer());const _0x193352=currentDisplayedQuiz['settings']?.['timerMode']||_0x323e04(0x118);if(_0x193352===_0x323e04(0x80e))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings']['timerDuration']);else _0x193352==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x548e8c=_0x13d91b,_0x29a1aa=currentDisplayedQuiz[_0x548e8c(0xc10)]?.[_0x548e8c(0xde5)]===!![],_0x9e4ab5=currentDisplayedQuiz['settings']?.['confidenceMode']||_0x548e8c(0xd38);let _0x298090=_0x548e8c(0x93e)+currentDisplayedQuiz['topic']+_0x548e8c(0x7ee)+(currentMode===_0x548e8c(0xd30)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x548e8c(0x87f)]['forEach']((_0x45c758,_0x3566fc)=>{const _0x308960=_0x548e8c,_0x3e11a9=_0x45c758[_0x308960(0xa1a)]||currentDisplayedQuiz[_0x308960(0x9b1)];_0x298090+=_0x308960(0x9b0);if(_0x3e11a9===_0x308960(0x416)){}else _0x298090+=_0x308960(0x704)+(_0x3566fc+0x1)+'.\x20'+(_0x45c758[_0x308960(0x958)]||_0x45c758[_0x308960(0xa35)])+_0x308960(0x6b4),_0x45c758['imageCode']&&(_0x298090+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x45c758[_0x308960(0x6d6)]+_0x308960(0xa4f));_0x298090+=_0x308960(0x5bf);switch(_0x3e11a9){case'short_answer':_0x298090+=_0x308960(0x8b0)+_0x3566fc+_0x308960(0xb86);break;case'true_false':_0x298090+=_0x308960(0x8c2)+_0x3566fc+'_opt0\x22\x20name=\x22question'+_0x3566fc+_0x308960(0xb9a)+_0x3566fc+_0x308960(0x35b),_0x298090+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x3566fc+_0x308960(0x3b9)+_0x3566fc+_0x308960(0xdc5)+_0x3566fc+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x308960(0x416):_0x298090+=_0x308960(0xc69)+_0x45c758[_0x308960(0x3a9)]+_0x308960(0xc24)+_0x3566fc+_0x308960(0x65a)+_0x45c758[_0x308960(0x47b)][_0x308960(0x1b0)](_0x203d94=>_0x308960(0x733)+_0x203d94+'\x22>'+_0x203d94+_0x308960(0xb4f))[_0x308960(0x22e)]('')+_0x308960(0x5c2);break;default:_0x298090+=_0x45c758[_0x308960(0x238)][_0x308960(0x1b0)]((_0x40d97e,_0xff8d06)=>_0x308960(0x3ab)+_0x3566fc+_0x308960(0x522)+_0xff8d06+_0x308960(0xb29)+_0x3566fc+_0x308960(0xbc8)+_0xff8d06+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x3566fc+_0x308960(0x522)+_0xff8d06+'\x22>'+_0x40d97e+_0x308960(0xb1c))['join']('');break;}_0x298090+=_0x308960(0xa4f),_0x29a1aa&&(_0x298090+='<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',_0x9e4ab5===_0x308960(0x34e)?_0x298090+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x3566fc+_0x308960(0x54d)+_0x3566fc+'\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0x3566fc+_0x308960(0x18f)+_0x3566fc+_0x308960(0x9f8):_0x298090+=_0x308960(0xbae)+_0x3566fc+'\x22\x20name=\x22confidence'+_0x3566fc+_0x308960(0x59a)+_0x3566fc+_0x308960(0x1a2),_0x298090+=_0x308960(0xa4f)),_0x298090+='</div>';}),_0x298090+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x298090+=_0x548e8c(0x3a7),studentQuizArea[_0x548e8c(0xbc4)]=_0x298090;if(currentMode===_0x548e8c(0xd30)){const _0x100883=document['getElementById'](_0x548e8c(0xb21));if(_0x100883)_0x100883[_0x548e8c(0xc2d)](_0x548e8c(0xab7),cancelAdminTest);}const _0x4193d5=document[_0x548e8c(0x916)]('quiz-form');_0x4193d5&&(_0x4193d5[_0x548e8c(0xc2d)](_0x548e8c(0x239),handleSubmitQuiz),_0x4193d5[_0x548e8c(0xc2d)](_0x548e8c(0xab7),_0x1d27e8=>{const _0x424ad0=_0x548e8c;if(_0x1d27e8[_0x424ad0(0x3fe)][_0x424ad0(0x734)][_0x424ad0(0x8ae)](_0x424ad0(0x56f))){const _0x3ccb57=_0x1d27e8['target'],_0x37d520=_0x3ccb57[_0x424ad0(0xcba)][_0x424ad0(0x907)],_0xdd4ee4=_0x3ccb57[_0x424ad0(0xcba)]['value'];document['getElementById'](_0x424ad0(0x13a)+_0x37d520)[_0x424ad0(0x93c)]=_0xdd4ee4;const _0x131834=_0x3ccb57['parentElement'];_0x131834[_0x424ad0(0x77f)](_0x424ad0(0x99b))[_0x424ad0(0x5c9)](_0x507e8a=>_0x507e8a[_0x424ad0(0x734)][_0x424ad0(0x5cf)]('active')),_0x3ccb57['classList'][_0x424ad0(0x459)](_0x424ad0(0x101));}}));if(window[_0x548e8c(0xcaf)])window[_0x548e8c(0xcaf)][_0x548e8c(0x1cd)]([studentQuizArea]);}async function handleSubmitQuiz(_0x37e5ea){const _0x2e19e1=_0x13d91b;if(_0x37e5ea)_0x37e5ea[_0x2e19e1(0x452)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x5af1d2=document[_0x2e19e1(0x916)](_0x2e19e1(0xc5b));if(!_0x5af1d2)return;const _0x4b4fcc=currentDisplayedQuiz[_0x2e19e1(0xc10)]?.['isConfidenceScoringEnabled']===!![],_0x195528=currentDisplayedQuiz[_0x2e19e1(0xc10)]?.[_0x2e19e1(0xa69)]||_0x2e19e1(0xd38);if(_0x4b4fcc&&_0x195528==='mandatory'){let _0x502694=!![];for(let _0x29d749=0x0;_0x29d749<currentDisplayedQuiz['questions']['length'];_0x29d749++){const _0x528686=_0x5af1d2[_0x2e19e1(0x7f4)](_0x2e19e1(0x9e9)+_0x29d749);if(!_0x528686||_0x528686[_0x2e19e1(0x93c)]===''){_0x502694=![];break;}}if(!_0x502694){showMessage(_0x2e19e1(0x82c));return;}}const _0x54937f=_0x5af1d2['querySelector'](_0x2e19e1(0x472)),_0x3557cd=currentDisplayedQuiz[_0x2e19e1(0x87f)][_0x2e19e1(0xdc9)](_0x519cd9=>_0x519cd9[_0x2e19e1(0xa1a)]===_0x2e19e1(0x21b));_0x54937f&&(_0x54937f[_0x2e19e1(0x426)]=!![],_0x54937f[_0x2e19e1(0xbc4)]=_0x3557cd?_0x2e19e1(0xd03):_0x2e19e1(0x8b8));const _0x256e45=new FormData(_0x5af1d2),_0xe93662=currentDisplayedQuiz[_0x2e19e1(0x87f)]['map']((_0x387d2e,_0x26dfea)=>{const _0x1949ab=_0x2e19e1,_0xf26b98=_0x256e45['get'](_0x1949ab(0x512)+_0x26dfea);let _0x249788;_0x195528===_0x1949ab(0x34e)?_0x249788=_0x256e45['get']('confidence'+_0x26dfea):_0x249788=_0x256e45[_0x1949ab(0x67e)](_0x1949ab(0xd15)+_0x26dfea)==='on';let _0x5627d3=null;if(_0xf26b98!==null&&_0xf26b98!==undefined){const _0x11df54=_0x387d2e[_0x1949ab(0xa1a)]||currentDisplayedQuiz['quizType'];_0x11df54===_0x1949ab(0x3e2)||_0x11df54===_0x1949ab(0x14d)?_0x5627d3=parseInt(_0xf26b98):_0x5627d3=_0xf26b98;}return{'answer':_0x5627d3,'wasConfident':_0x249788};}),_0x3c6177=currentQuizData['id'],_0x47357d=doc(db,_0x2e19e1(0x54a)+appId+_0x2e19e1(0x906)+_0x3c6177+'/submissions',currentStudentName),_0x2b46c9=await getDoc(_0x47357d),_0x23b896=_0x2b46c9[_0x2e19e1(0x5fd)]()?_0x2b46c9[_0x2e19e1(0xaf3)]():{},_0x2bb6b1=_0x23b896[_0x2e19e1(0x641)]||[];await processAndSubmitAnswers(_0xe93662,_0x2bb6b1);}async function gradeShortAnswerWithAI(_0x4f6348,_0x368a55){const _0x4abccf=_0x13d91b;if(!_0x4f6348||!_0x368a55)return![];try{const _0x4b2b8d='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x4f6348+_0x4abccf(0x760)+_0x368a55+_0x4abccf(0x8c0),_0x3af1de={'contents':[{'role':_0x4abccf(0xcb6),'parts':[{'text':_0x4b2b8d}]}]},_0x5a0f9b=_0x4abccf(0xb7d),_0x273f9d=_0x4abccf(0xb11)+_0x5a0f9b,_0x2ae2e8=await fetch(_0x273f9d,{'method':_0x4abccf(0x970),'headers':{'Content-Type':_0x4abccf(0xa9a)},'body':JSON[_0x4abccf(0x163)](_0x3af1de)});if(!_0x2ae2e8['ok'])throw new Error(_0x4abccf(0x381));const _0x4ead30=await _0x2ae2e8[_0x4abccf(0xc06)](),_0x53aff1=_0x4ead30['candidates'][0x0][_0x4abccf(0x392)][_0x4abccf(0x83c)][0x0][_0x4abccf(0xb52)][_0x4abccf(0x1a0)]()['toLowerCase']();return _0x53aff1===_0x4abccf(0x539);}catch(_0x2ac01d){return console['error'](_0x4abccf(0x5c8),_0x2ac01d),![];}}async function processAndSubmitAnswers(_0x36d414,_0x4e18c9){const _0x9c5d5d=_0x13d91b;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x9c5d5d(0x124)](_0x9c5d5d(0x891),handleFullscreenChange),document[_0x9c5d5d(0x124)]('visibilitychange',handleVisibilityChange);let _0x5f4caa=0x0;const _0x177f6c=[],_0x43484c=currentDisplayedQuiz[_0x9c5d5d(0x87f)][_0x9c5d5d(0x3d7)];let _0x1232a6=0x0,_0x585d8d=[];const _0x332efa=currentDisplayedQuiz[_0x9c5d5d(0x87f)];for(let _0x484b1c=0x0;_0x484b1c<_0x332efa['length'];_0x484b1c++){const _0x17e562=_0x332efa[_0x484b1c],_0xbd4da9=_0x36d414[_0x484b1c],_0x23229f=_0xbd4da9?_0xbd4da9[_0x9c5d5d(0x43b)]:null,_0x33f18b=_0xbd4da9?_0xbd4da9['wasConfident']:null;let _0x5057a4=![],_0x5340e1=0x0;if(_0x23229f!==null&&_0x23229f!==''){const _0x1eb5e6=_0x17e562[_0x9c5d5d(0xa1a)]||currentDisplayedQuiz['quizType'];switch(_0x1eb5e6){case _0x9c5d5d(0x416):_0x5057a4=_0x23229f===_0x17e562[_0x9c5d5d(0x994)];break;case _0x9c5d5d(0x54f):const _0x1f09d2=_0x23229f===!![]||_0x23229f===_0x9c5d5d(0x539);_0x5057a4=_0x1f09d2===_0x17e562['correctAnswer'];break;case _0x9c5d5d(0x21b):_0x5057a4=await gradeShortAnswer(_0x23229f,_0x17e562);break;case _0x9c5d5d(0x3e2):default:_0x5057a4=Number(_0x23229f)===_0x17e562['correctAnswerIndex'];break;}}if(currentDisplayedQuiz[_0x9c5d5d(0xc10)]?.[_0x9c5d5d(0xde5)]){const _0x5bf98f=_0xbd4da9?_0xbd4da9[_0x9c5d5d(0xdd1)]:null;if(_0x5057a4&&(_0x5bf98f===!![]||_0x5bf98f===_0x9c5d5d(0x1e5)))_0x5340e1=0x2;else{if(_0x5057a4)_0x5340e1=0x1;else{if(!_0x5057a4&&(_0x5bf98f===![]||_0x5bf98f===_0x9c5d5d(0x146)||_0x5bf98f===null))_0x5340e1=0x0;else!_0x5057a4&&(_0x5bf98f===!![]||_0x5bf98f===_0x9c5d5d(0x1e5))&&(_0x5340e1=-0x1);}}}else _0x5340e1=_0x5057a4?0x1:0x0;_0x5f4caa+=_0x5340e1;if(_0x5057a4){_0x1232a6++;if(_0x1232a6===0x3)_0x585d8d['push'](BADGES[_0x9c5d5d(0x24e)]['id']);}else _0x1232a6=0x0;let _0x278b4b=null;_0x17e562['options']&&_0x23229f!==null&&(_0x278b4b=_0x17e562['options'][_0x23229f]),_0x177f6c['push']({'questionId':_0x17e562['id'],'answer':_0x23229f,'answerText':_0x278b4b,'isCorrect':_0x5057a4,'wasConfident':_0x33f18b,'pointsAwarded':_0x5340e1,'originalQuestionText':_0x17e562[_0x9c5d5d(0x3a9)]||_0x17e562[_0x9c5d5d(0xa35)]});}const _0x5718a6=_0x177f6c[_0x9c5d5d(0xc52)](_0x4af426=>_0x4af426[_0x9c5d5d(0x832)])['length'],_0x598102=currentDisplayedQuiz[_0x9c5d5d(0xc10)]?.[_0x9c5d5d(0x423)]??Math[_0x9c5d5d(0x8e9)](_0x43484c/0x2);_0x5718a6===_0x43484c&&_0x43484c>0x0&&!currentDisplayedQuiz[_0x9c5d5d(0xdf7)]&&_0x585d8d[_0x9c5d5d(0x298)](BADGES[_0x9c5d5d(0xa25)]['id']);const _0x3bb8db=currentDisplayedQuiz['settings']?.[_0x9c5d5d(0x846)];if(_0x3bb8db===_0x9c5d5d(0x80e)&&quizStartTime){const _0x2e246f=(new Date()-quizStartTime)/0x3e8,_0x341ecf=currentDisplayedQuiz['settings'][_0x9c5d5d(0x31a)]*0x3c;_0x5718a6>=_0x598102&&_0x2e246f<_0x341ecf/0x2&&_0x585d8d[_0x9c5d5d(0x298)](BADGES[_0x9c5d5d(0xdd9)]['id']);}_0x4e18c9[_0x9c5d5d(0x3d7)]===0x0&&_0x5718a6===_0x43484c&&_0x43484c>0x0&&_0x585d8d['push'](BADGES['FIRST_TRY_ACE']['id']);if(_0x4e18c9[_0x9c5d5d(0x3d7)]>0x0){const _0x5a0fab=_0x4e18c9[0x0][_0x9c5d5d(0xc8b)];if(_0x5a0fab<_0x598102&&_0x5718a6>=_0x598102){const _0x4b5b29=_0x4e18c9[_0x9c5d5d(0xdc9)](_0x4c7ece=>(_0x4c7ece[_0x9c5d5d(0x27c)]||[])[_0x9c5d5d(0xb28)](BADGES['COMEBACK_KING']['id']));!_0x4b5b29&&_0x585d8d[_0x9c5d5d(0x298)](BADGES['COMEBACK_KING']['id']);}}_0x4e18c9[_0x9c5d5d(0x3d7)]===0x4&&_0x585d8d['push'](BADGES[_0x9c5d5d(0x58f)]['id']);const _0x433eec=currentDisplayedQuiz['settings'][_0x9c5d5d(0x147)];if(currentMode===_0x9c5d5d(0xd30)){handleResultDisplay(_0x433eec,_0x5718a6,_0x5f4caa,_0x585d8d,_0x177f6c,_0x43484c);return;}const _0x4f3ea6=currentQuizData['id'],_0x35df4e=doc(db,_0x9c5d5d(0x54a)+appId+_0x9c5d5d(0x906)+_0x4f3ea6+'/submissions',currentStudentName);try{const _0x3ce964=[..._0x4e18c9],_0x65a1db={'score':_0x5718a6,'points':_0x5f4caa,'badges':Array[_0x9c5d5d(0x199)](new Set(_0x585d8d)),'submittedAt':new Date()[_0x9c5d5d(0x700)](),'answers':_0x177f6c};_0x3ce964[_0x9c5d5d(0x298)](_0x65a1db);const _0x420976=_0x4e18c9['length']===0x0?_0x5718a6:_0x4e18c9[0x0][_0x9c5d5d(0xc8b)]||0x0,_0x50b83b=Math[_0x9c5d5d(0x88a)](..._0x3ce964[_0x9c5d5d(0x1b0)](_0x5dbc0f=>_0x5dbc0f['score']));await setDoc(_0x35df4e,{'studentName':currentStudentName,'totalQuestions':_0x43484c,'attempts':_0x3ce964,'firstScore':_0x420976,'bestScore':_0x50b83b,'latestScore':_0x5718a6,'points':_0x5f4caa,'latestSubmittedAt':_0x65a1db[_0x9c5d5d(0x2b9)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x9c5d5d(0x7a5)],currentStudentName),handleResultDisplay(_0x433eec,_0x5718a6,_0x5f4caa,_0x585d8d,_0x177f6c,_0x43484c);}catch(_0x24e247){console['error'](_0x9c5d5d(0x47d),_0x24e247),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x43b79a,_0x51df21){const _0x29a37e=_0x13d91b,_0x32df1d=doc(db,'artifacts/'+appId+_0x29a37e(0xbb9)+_0x43b79a+_0x29a37e(0x5ac),_0x51df21);try{const _0x5209a8=query(collection(db,_0x29a37e(0x54a)+appId+'/public/data/quizzes'),where(_0x29a37e(0x7a5),'==',_0x43b79a)),_0x3ff0ff=await getDocs(_0x5209a8),_0x4d1ba3=new Map(_0x3ff0ff[_0x29a37e(0x1fb)]['map'](_0x43549c=>[_0x43549c['id'],_0x43549c[_0x29a37e(0xaf3)]()])),_0x4a329c=Array['from'](_0x4d1ba3[_0x29a37e(0x4bf)]());await runTransaction(db,async _0x25665f=>{const _0x49266c=_0x29a37e;let _0x378d70=0x0;const _0x4b3f13={};let _0x21fca1=!![],_0x1ef492=0x0,_0x507ffc=0x0;for(const _0x2e6665 of _0x4a329c){const _0x43e9e9=_0x4d1ba3['get'](_0x2e6665),_0xe10079=doc(db,_0x49266c(0x54a)+appId+_0x49266c(0x906)+_0x2e6665+_0x49266c(0xcae),_0x51df21),_0x3840cd=await _0x25665f[_0x49266c(0x67e)](_0xe10079);if(_0x3840cd[_0x49266c(0x5fd)]()){const _0x32f165=_0x3840cd[_0x49266c(0xaf3)](),_0x4114c4=_0x32f165[_0x49266c(0x641)]||[];if(_0x4114c4[_0x49266c(0x3d7)]>0x0){const _0x33e3c1=_0x4114c4[_0x49266c(0xba9)]((_0x4fa397,_0x37fd8c)=>{const _0x440234=_0x49266c;if(_0x37fd8c[_0x440234(0xc8b)]>_0x4fa397[_0x440234(0xc8b)])return _0x37fd8c;if(_0x37fd8c['score']===_0x4fa397['score'])return(_0x37fd8c[_0x440234(0x756)]||0x0)>(_0x4fa397[_0x440234(0x756)]||0x0)?_0x37fd8c:_0x4fa397;return _0x4fa397;},{'score':-0x1,'points':-0x1});_0x33e3c1['score']>-0x1&&(_0x378d70+=_0x33e3c1['points']||0x0,(_0x33e3c1[_0x49266c(0x27c)]||[])[_0x49266c(0x5c9)](_0x2bd2d8=>{_0x4b3f13[_0x2bd2d8]=(_0x4b3f13[_0x2bd2d8]||0x0)+0x1;}));}}if(_0x43e9e9[_0x49266c(0xdf4)]!==_0x49266c(0x821)){_0x507ffc++;if(_0x3840cd[_0x49266c(0x5fd)]()){_0x1ef492++;const _0x6d181=_0x3840cd[_0x49266c(0xaf3)]();_0x6d181['bestScore']!==_0x6d181['totalQuestions']&&(_0x21fca1=![]);}else _0x21fca1=![];}}_0x507ffc>0x0&&_0x1ef492===_0x507ffc&&_0x21fca1?_0x4b3f13[_0x49266c(0x190)]=0x1:_0x4b3f13[_0x49266c(0x190)]=0x0,_0x25665f[_0x49266c(0x36f)](_0x32df1d,{'studentName':_0x51df21,'totalPoints':_0x378d70,'unlockedBadges':Object[_0x49266c(0x4bf)](_0x4b3f13)[_0x49266c(0xc52)](_0x1a9335=>_0x4b3f13[_0x1a9335]>0x0),'badgesCount':_0x4b3f13},{'merge':!![]});});}catch(_0x1e2ef2){console['error']('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x1e2ef2),showMessage(_0x29a37e(0xd3c));}}function startAdminTest(){const _0x1dca01=_0x13d91b;if(!currentQuizData){showMessage(_0x1dca01(0x96f));return;}let _0x23e01b=JSON[_0x1dca01(0x97f)](JSON['stringify'](currentQuizData));currentMode=_0x1dca01(0xd30),currentStudentName=_0x1dca01(0x1d7),adminView[_0x1dca01(0x734)][_0x1dca01(0x459)](_0x1dca01(0x4ad)),studentView[_0x1dca01(0x734)]['remove'](_0x1dca01(0x4ad)),studentInitialView[_0x1dca01(0x734)][_0x1dca01(0x459)](_0x1dca01(0x4ad)),studentNameSelectionView[_0x1dca01(0x734)]['add'](_0x1dca01(0x4ad)),studentResultArea[_0x1dca01(0x734)][_0x1dca01(0x459)](_0x1dca01(0x4ad)),studentQuizArea[_0x1dca01(0x734)][_0x1dca01(0x5cf)](_0x1dca01(0x4ad)),quizStartTime=new Date(),displayQuizForStudent(_0x23e01b);}function handleResultDisplay(_0x37eeaf,_0x48498c,_0x3ba47f,_0x45c801,_0xfaa5a0,_0x4fc490){const _0x53a3aa=_0x13d91b;if(_0x37eeaf===_0x53a3aa(0x528)){displaySubmissionConfirmation();return;}const _0x13518e=currentDisplayedQuiz[_0x53a3aa(0xc10)]?.[_0x53a3aa(0x423)]??Math[_0x53a3aa(0x8e9)](_0x4fc490/0x2),_0x315fec=currentDisplayedQuiz[_0x53a3aa(0xc10)]?.['isAdaptive']??![],_0x26d282=currentDisplayedQuiz['settings']?.[_0x53a3aa(0x3e0)]===!![],_0x95f944=_0x48498c<_0x13518e,_0x74a879=_0x37eeaf===_0x53a3aa(0x6bf)||_0x37eeaf===_0x53a3aa(0xd1f);if(_0x26d282&&_0x95f944&&!_0x74a879){_0x37eeaf===_0x53a3aa(0x501)?displayResultsWithAnswers(_0x48498c,_0x3ba47f,_0x45c801,_0xfaa5a0,_0x4fc490,!![]):displayLoopScreen(_0x48498c,_0x4fc490,_0x37eeaf);return;}if(_0x315fec&&_0x95f944){startAdaptiveFlow(_0xfaa5a0,_0x48498c,_0x4fc490);return;}switch(_0x37eeaf){case _0x53a3aa(0x501):displayResultsWithAnswers(_0x48498c,_0x3ba47f,_0x45c801,_0xfaa5a0,_0x4fc490);break;case _0x53a3aa(0x135):displayResultsScoreOnly(_0x48498c,_0x3ba47f,_0x45c801,_0x4fc490);break;case'show_pass_fail_only':displayPassFailOnly(_0x48498c,_0x4fc490);break;case'half_mark_status':displayHalfMarkResult(_0x48498c,_0x4fc490);break;case _0x53a3aa(0xd1f):displayPerfectScoreResult(_0x48498c,_0x4fc490);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x2d3974){const _0x3f9d37=_0x13d91b;studentReadingArea[_0x3f9d37(0xbc4)]=_0x3f9d37(0x6d3);const _0x4a1a9a=_0x3f9d37(0x77e)+_0x2d3974+_0x3f9d37(0x5a2)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x1dc5c9={'type':_0x3f9d37(0xd0d),'properties':{'questionText':{'type':_0x3f9d37(0x330)},'options':{'type':_0x3f9d37(0x33c),'items':{'type':_0x3f9d37(0x330)}},'correctAnswerIndex':{'type':_0x3f9d37(0x90b)},'explanation':{'type':_0x3f9d37(0x330)}},'required':[_0x3f9d37(0xa35),'options',_0x3f9d37(0xae6),_0x3f9d37(0x51a)]},_0x3a8357={'type':'OBJECT','properties':{'topic':{'type':_0x3f9d37(0x330)},'questions':{'type':_0x3f9d37(0x33c),'items':_0x1dc5c9}},'required':[_0x3f9d37(0xdf4),_0x3f9d37(0x87f)]};try{const _0x57c3ba=await callAnalysisApi(_0x4a1a9a,_0x3a8357);_0x57c3ba['isRemedial']=!![],studentReadingArea[_0x3f9d37(0x734)][_0x3f9d37(0x459)](_0x3f9d37(0x4ad));const _0x470021={...currentDisplayedQuiz[_0x3f9d37(0xc10)],'isAdaptive':![],'resultsDisplay':_0x3f9d37(0x501)};_0x57c3ba[_0x3f9d37(0xc10)]=_0x470021,displayQuizForStudent(_0x57c3ba);}catch(_0x5eb290){console['error']('Remedial\x20quiz\x20generation\x20failed:',_0x5eb290),showMessage(_0x3f9d37(0xb18)),showView(_0x3f9d37(0xdd4));}}function displayPassFailOnly(_0x7aca4b,_0x4c7d27){const _0x2fc552=_0x13d91b,_0x490dc6=currentDisplayedQuiz[_0x2fc552(0xc10)]?.['passingScore']??-0x1,_0x158f5e=currentDisplayedQuiz[_0x2fc552(0xdf7)]===!![];let _0x140955='',_0x44b3bb=![];if(_0x158f5e||_0x490dc6!==-0x1){_0x44b3bb=_0x158f5e?_0x7aca4b===_0x4c7d27:_0x7aca4b>=_0x490dc6;const _0x50a7ab=_0x44b3bb?_0x2fc552(0xc07):_0x2fc552(0x323),_0x45fdd5=_0x44b3bb?_0x2fc552(0xb38):_0x2fc552(0x4dc);_0x140955=_0x2fc552(0xa88)+_0x50a7ab+'\x22>'+_0x45fdd5+_0x2fc552(0x749);}else _0x140955='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x488b9d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x2fc552(0xded)+_0x140955+_0x2fc552(0xaa5);studentResultArea[_0x2fc552(0xbc4)]=_0x488b9d,studentResultArea[_0x2fc552(0x734)]['remove'](_0x2fc552(0x4ad)),studentQuizArea[_0x2fc552(0x734)][_0x2fc552(0x459)](_0x2fc552(0x4ad)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x44b3bb});}function cancelAdminTest(){const _0x4a0768=_0x13d91b;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x4a0768(0x124)]('fullscreenchange',handleFullscreenChange),document[_0x4a0768(0x124)](_0x4a0768(0x945),handleVisibilityChange),currentMode=_0x4a0768(0x1e4),studentView['classList'][_0x4a0768(0x459)]('hidden'),adminView[_0x4a0768(0x734)][_0x4a0768(0x5cf)]('hidden'),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x4a0768(0x560));}function setupResultScreenBackButton(_0x4aadca){const _0xbfb0fc=_0x13d91b,_0x59401f={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x4aadca};if(_0x59401f[_0xbfb0fc(0x1aa)]){const _0x4e9128=_0xbfb0fc(0x96a);studentResultArea[_0xbfb0fc(0x9b6)](_0xbfb0fc(0x6f8),_0x4e9128),document[_0xbfb0fc(0x916)](_0xbfb0fc(0x636))[_0xbfb0fc(0xc2d)](_0xbfb0fc(0xab7),()=>{const _0x46308d=_0xbfb0fc;studentResultArea[_0x46308d(0x734)][_0x46308d(0x459)](_0x46308d(0x4ad)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x4b52c1=_0xbfb0fc(0x655),_0x5dcc48=currentMode==='admin-testing',_0x1e6748=_0x5dcc48?_0xbfb0fc(0xaa2):_0xbfb0fc(0x621);let _0x170177='';_0x59401f[_0xbfb0fc(0x483)]&&(_0x170177+=_0xbfb0fc(0xa96));let _0x4e1f19=_0x59401f[_0xbfb0fc(0xc08)];_0x4e1f19===undefined&&(_0x4e1f19=_0x59401f[_0xbfb0fc(0xc8b)]<_0x59401f[_0xbfb0fc(0x1d3)]);_0x4e1f19&&(_0x170177+=_0xbfb0fc(0x142));_0x170177+='<button\x20id=\x22'+_0x4b52c1+_0xbfb0fc(0x21f)+_0x1e6748+'</button>';const _0x5d6e09=_0xbfb0fc(0x7ad)+_0x170177+'</div>';studentResultArea['insertAdjacentHTML'](_0xbfb0fc(0x6f8),_0x5d6e09),studentResultArea['querySelector'](_0xbfb0fc(0x8c8))?.[_0xbfb0fc(0xc2d)](_0xbfb0fc(0xab7),handleShowStudentRankings);const _0x20ec49=studentResultArea[_0xbfb0fc(0x7f4)]('#retake-for-improvement-btn');_0x20ec49&&_0x20ec49['addEventListener'](_0xbfb0fc(0xab7),()=>{const _0x4dd3f6=_0xbfb0fc;studentResultArea[_0x4dd3f6(0x734)][_0x4dd3f6(0x459)](_0x4dd3f6(0x4ad)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0xbfb0fc(0x916)](_0x4b52c1)[_0xbfb0fc(0xc2d)](_0xbfb0fc(0xab7),()=>{const _0x14c371=_0xbfb0fc;_0x5dcc48?(currentMode='admin',studentView['classList']['add'](_0x14c371(0x4ad)),adminView[_0x14c371(0x734)]['remove'](_0x14c371(0x4ad)),showView(_0x14c371(0x560))):(showView('student'),document[_0x14c371(0x916)](_0x14c371(0xb1f))['value']='');});}function displayResultsWithAnswers(_0x15bf7b,_0x48c7f6,_0x42726b,_0xd7c1a5,_0x4ff856,_0x5f26e5=![]){const _0x29eea3=_0x13d91b,_0x4e829a=_0x4ff856>0x0?_0x15bf7b/_0x4ff856*0x64:0x0,_0x5a12ec=currentDisplayedQuiz[_0x29eea3(0xc10)]?.[_0x29eea3(0x423)]??-0x1,_0x4c2b6d=currentDisplayedQuiz[_0x29eea3(0xdf7)]===!![];let _0x4d020f='';if(_0x4c2b6d||_0x5a12ec!==-0x1){let _0x53869f=_0x4c2b6d?_0x15bf7b===_0x4ff856:_0x15bf7b>=_0x5a12ec;const _0x4f96c9=_0x53869f?_0x29eea3(0xc07):'bg-red-100\x20text-red-800',_0x3ec2af=_0x53869f?_0x29eea3(0xb38):_0x29eea3(0x4dc);_0x4d020f='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x4f96c9+'\x22>'+_0x3ec2af+_0x29eea3(0x6b4);}let _0x277ad7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x29eea3(0x6fc)+_0x15bf7b+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x4ff856+_0x29eea3(0x2e0)+_0x4d020f+_0x29eea3(0x352)+_0x48c7f6+_0x29eea3(0x385)+_0x4e829a['toFixed'](0x0)+_0x29eea3(0x424);currentDisplayedQuiz[_0x29eea3(0x87f)][_0x29eea3(0x5c9)]((_0xa4d565,_0x4f1e17)=>{const _0x32e2b5=_0x29eea3,_0x49a211=_0xd7c1a5[_0x4f1e17],_0x441189=_0x49a211['answer'],_0xd30fe6=_0x49a211[_0x32e2b5(0x832)],_0x3a39a0=_0xa4d565[_0x32e2b5(0xa1a)]||currentDisplayedQuiz[_0x32e2b5(0x9b1)];_0x277ad7+=_0x32e2b5(0xc57)+(_0xd30fe6?_0x32e2b5(0x8d3):_0x32e2b5(0xcf2))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x4f1e17+0x1)+'.\x20'+(_0xa4d565['stem']||_0xa4d565[_0x32e2b5(0xa35)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x3a39a0){case _0x32e2b5(0x416):const _0x5a757f=_0x441189||_0x32e2b5(0xb1d),_0x349b01=_0xa4d565[_0x32e2b5(0x994)];_0x277ad7+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0xd30fe6?'line-through\x20text-red-700':'')+'\x22>'+_0x5a757f+_0x32e2b5(0x603);!_0xd30fe6&&(_0x277ad7+=_0x32e2b5(0xd16)+_0x349b01+_0x32e2b5(0x6b4));break;case _0x32e2b5(0x21b):_0x277ad7+=_0x32e2b5(0x83e)+(_0x441189||'ไม่ได้ตอบ')+_0x32e2b5(0x6b4),_0x277ad7+=_0x32e2b5(0x78b)+_0xa4d565[_0x32e2b5(0x158)]+_0x32e2b5(0x6b4);break;case _0x32e2b5(0x54f):_0x277ad7+=_0x32e2b5(0xdbc)+(_0xa4d565[_0x32e2b5(0xcdb)]===!![]?_0x32e2b5(0x167):'')+'\x20'+(_0x441189===_0x32e2b5(0x539)&&!_0xd30fe6?_0x32e2b5(0xca4):'')+_0x32e2b5(0xa2b),_0x277ad7+=_0x32e2b5(0xdbc)+(_0xa4d565[_0x32e2b5(0xcdb)]===![]?_0x32e2b5(0x167):'')+'\x20'+(_0x441189==='false'&&!_0xd30fe6?_0x32e2b5(0xca4):'')+_0x32e2b5(0x464);break;default:_0x277ad7+=_0xa4d565[_0x32e2b5(0x238)][_0x32e2b5(0x1b0)]((_0x49eae8,_0x24ad2f)=>{const _0x3eacca=_0x32e2b5;let _0x267fe0='',_0x145dc5='';if(_0x24ad2f===_0xa4d565[_0x3eacca(0xae6)])_0x267fe0=_0x3eacca(0x167),_0x145dc5='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x24ad2f===_0x441189&&(_0x267fe0=_0x3eacca(0x2db),_0x145dc5=_0x3eacca(0xb84));return _0x3eacca(0x257)+_0x267fe0+'\x22>'+_0x145dc5+_0x49eae8+_0x3eacca(0xa4f);})[_0x32e2b5(0x22e)]('');break;}_0x277ad7+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0xa4d565[_0x32e2b5(0x51a)]||_0x32e2b5(0x26c))+'</div>';if(!_0xd30fe6){const _0x256f7b=_0xa4d565[_0x32e2b5(0x3a9)]||_0xa4d565[_0x32e2b5(0xa35)];_0x277ad7+=_0x32e2b5(0x9e3)+escape(_0x256f7b)+_0x32e2b5(0x7e5);}_0x277ad7+=_0x32e2b5(0xa4f);}),studentResultArea[_0x29eea3(0xbc4)]=_0x277ad7,renderEarnedBadges(_0x42726b,_0x29eea3(0x337)),studentResultArea[_0x29eea3(0x734)][_0x29eea3(0x5cf)](_0x29eea3(0x4ad)),studentQuizArea[_0x29eea3(0x734)][_0x29eea3(0x459)](_0x29eea3(0x4ad)),setupResultScreenBackButton({'isLooping':_0x5f26e5,'score':_0x15bf7b,'totalQuestions':_0x4ff856,'showRankings':!![]});if(window[_0x29eea3(0xcaf)])window[_0x29eea3(0xcaf)][_0x29eea3(0x1cd)]([studentResultArea]);}function displayResultsScoreOnly(_0x2b5271,_0xf19d83,_0x118e10,_0x47473f){const _0x2dd6ea=_0x13d91b,_0x28350f=_0x47473f>0x0?_0x2b5271/_0x47473f*0x64:0x0,_0x55c38a=currentDisplayedQuiz[_0x2dd6ea(0xc10)]?.[_0x2dd6ea(0x423)]??-0x1,_0xe968f6=currentDisplayedQuiz['isRemedial']===!![];let _0x567eca='';if(_0xe968f6||_0x55c38a!==-0x1){let _0x14824a=_0xe968f6?_0x2b5271===_0x47473f:_0x2b5271>=_0x55c38a;const _0x98c20f=_0x14824a?'bg-green-100\x20text-green-800':_0x2dd6ea(0x323),_0x30abca=_0x14824a?_0x2dd6ea(0xb38):_0x2dd6ea(0x4dc);_0x567eca=_0x2dd6ea(0x984)+_0x98c20f+'\x22>'+_0x30abca+_0x2dd6ea(0x6b4);}let _0x448343=_0x2dd6ea(0x78c)+currentStudentName+_0x2dd6ea(0xc94)+_0x2b5271+_0x2dd6ea(0x1d9)+_0x47473f+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x567eca+_0x2dd6ea(0x352)+_0xf19d83+_0x2dd6ea(0x75d)+_0x28350f['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x448343,renderEarnedBadges(_0x118e10,'earned-badges-container'),studentResultArea['classList'][_0x2dd6ea(0x5cf)]('hidden'),studentQuizArea[_0x2dd6ea(0x734)][_0x2dd6ea(0x459)](_0x2dd6ea(0x4ad)),setupResultScreenBackButton({'score':_0x2b5271,'totalQuestions':_0x47473f,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x35a3f3=_0x13d91b;let _0x23709b=_0x35a3f3(0xd66)+currentStudentName+_0x35a3f3(0x2bd);studentResultArea[_0x35a3f3(0xbc4)]=_0x23709b,studentResultArea[_0x35a3f3(0x734)][_0x35a3f3(0x5cf)](_0x35a3f3(0x4ad)),studentQuizArea[_0x35a3f3(0x734)]['add'](_0x35a3f3(0x4ad)),document[_0x35a3f3(0x916)](_0x35a3f3(0xde1))[_0x35a3f3(0xc2d)](_0x35a3f3(0xab7),()=>{const _0x15bfcf=_0x35a3f3;showView(_0x15bfcf(0xdd4)),document[_0x15bfcf(0x916)](_0x15bfcf(0xb1f))['value']='';});}function renderEarnedBadges(_0x18ff5c,_0x623638){const _0x5598a0=_0x13d91b,_0xc19d69=document[_0x5598a0(0x916)](_0x623638);if(!_0xc19d69||!_0x18ff5c||_0x18ff5c[_0x5598a0(0x3d7)]===0x0)return;let _0x36597f='';_0x18ff5c[_0x5598a0(0x5c9)]((_0x1354c2,_0x114018)=>{const _0x5b1de4=_0x5598a0,_0x1e04d4=Object['values'](BADGES)[_0x5b1de4(0xa3d)](_0x58c2c1=>_0x58c2c1['id']===_0x1354c2);_0x1e04d4&&(_0x36597f+=_0x5b1de4(0xce3)+_0x114018*0.2+_0x5b1de4(0x70d)+_0x1e04d4[_0x5b1de4(0x5dc)]+_0x5b1de4(0x42e)+_0x1e04d4[_0x5b1de4(0x5be)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x1e04d4[_0x5b1de4(0x34b)]+_0x5b1de4(0xbd4));}),_0xc19d69[_0x5598a0(0xbc4)]=_0x36597f;}function startPresentation(_0x1333e4){const _0x4ea6f8=_0x13d91b;currentQuizData=getShuffledQuiz(_0x1333e4),currentPresentationSlide=0x0,presentationModal[_0x4ea6f8(0x3bb)][_0x4ea6f8(0x31b)]=_0x4ea6f8(0xb9b),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x594a0a=_0x13d91b;document['fullscreenElement']&&document['exitFullscreen'](),presentationModal['style'][_0x594a0a(0x31b)]=_0x594a0a(0x118);}function renderPresentationSlide(_0x2acce6){const _0x533cc9=_0x13d91b,_0xa3584=document['getElementById'](_0x533cc9(0x625));if(!currentQuizData||!currentQuizData[_0x533cc9(0x87f)]||!currentQuizData[_0x533cc9(0x87f)][_0x2acce6]){_0xa3584['innerHTML']=_0x533cc9(0x64e);return;}const _0x15f200=currentQuizData['questions'][_0x2acce6],_0x3b9271=_0x15f200['questionType']||currentQuizData['quizType'];_0xa3584[_0x533cc9(0xbc4)]='';let _0x95e0da='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x15f200[_0x533cc9(0x6d6)]?_0x533cc9(0x4ef)+_0x15f200[_0x533cc9(0x6d6)]+'</div>':'')+_0x533cc9(0xa51)+(_0x2acce6+0x1)+'.\x20'+(_0x15f200['stem']||_0x15f200[_0x533cc9(0xa35)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x3b9271){case _0x533cc9(0x416):_0x95e0da+=_0x15f200[_0x533cc9(0x47b)][_0x533cc9(0x1b0)](_0x1e82cb=>_0x533cc9(0x6a9)+_0x1e82cb+_0x533cc9(0x198))[_0x533cc9(0x22e)]('');break;case _0x533cc9(0x54f):_0x95e0da+=_0x533cc9(0x791),_0x95e0da+=_0x533cc9(0x602);break;case _0x533cc9(0x549):case _0x533cc9(0x21b):_0x95e0da+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x533cc9(0x14d):case'multiple_choice':default:_0x95e0da+=_0x15f200[_0x533cc9(0x238)]['map']((_0x549590,_0x450cf7)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x450cf7+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x549590+_0x533cc9(0x198))[_0x533cc9(0x22e)]('');break;}_0x95e0da+=_0x533cc9(0xa41)+(_0x15f200['explanation']||_0x533cc9(0x26c))+_0x533cc9(0xb44),_0xa3584[_0x533cc9(0xbc4)]=_0x95e0da;if(window[_0x533cc9(0xcaf)])window[_0x533cc9(0xcaf)][_0x533cc9(0x1cd)]([_0xa3584]);let _0x3a8158=[];switch(_0x3b9271){case _0x533cc9(0x416):_0x3a8158=_0x15f200[_0x533cc9(0x47b)]||[];break;case _0x533cc9(0x54f):_0x3a8158=[_0x533cc9(0x658),_0x533cc9(0xa5c)];break;default:_0x3a8158=_0x15f200['options']||[];break;}const _0x47fe2e=document[_0x533cc9(0x916)](_0x533cc9(0xc84));_0x47fe2e&&(_0x47fe2e['onclick']=()=>{openScratchpad(_0x15f200,_0x3a8158);});document['querySelectorAll']('.presentation-option')[_0x533cc9(0x5c9)](_0x1c7d01=>{const _0x314f87=_0x533cc9;_0x1c7d01[_0x314f87(0xc2d)](_0x314f87(0xab7),_0x1f0d20=>revealAnswerForPresentation(_0x2acce6,_0x1f0d20[_0x314f87(0xb88)]));});const _0x20e34d=document[_0x533cc9(0x916)](_0x533cc9(0xca1));_0x20e34d&&_0x20e34d[_0x533cc9(0xc2d)](_0x533cc9(0xab7),()=>checkShortAnswerForPresentation(_0x2acce6)),document['getElementById'](_0x533cc9(0x69e))['textContent']=_0x533cc9(0x99a)+(_0x2acce6+0x1)+_0x533cc9(0x62d)+currentQuizData['questions'][_0x533cc9(0x3d7)],document[_0x533cc9(0x916)](_0x533cc9(0x863))[_0x533cc9(0x426)]=_0x2acce6===0x0,document[_0x533cc9(0x916)](_0x533cc9(0xd28))[_0x533cc9(0x426)]=_0x2acce6===currentQuizData[_0x533cc9(0x87f)][_0x533cc9(0x3d7)]-0x1;}async function checkShortAnswerForPresentation(_0x3a85d8){const _0x5b33f0=_0x13d91b,_0x16fbdc=currentQuizData[_0x5b33f0(0x87f)][_0x3a85d8],_0x3fbd64=document[_0x5b33f0(0x916)](_0x5b33f0(0x141)),_0x2c4454=document[_0x5b33f0(0x916)](_0x5b33f0(0xca1)),_0x13a2e6=document['getElementById'](_0x5b33f0(0xbb0)),_0x550a9c=document['getElementById'](_0x5b33f0(0x2e4));if(!_0x3fbd64||!_0x2c4454||!_0x13a2e6||!_0x550a9c)return;const _0x37123b=_0x3fbd64['value'][_0x5b33f0(0x1a0)]();if(_0x37123b==='')return;_0x2c4454[_0x5b33f0(0x426)]=!![],_0x2c4454['innerHTML']=_0x5b33f0(0xcd7),_0x3fbd64['disabled']=!![];const _0xef5605=await gradeShortAnswer(_0x37123b,_0x16fbdc);_0xef5605?_0x13a2e6[_0x5b33f0(0xbc4)]=_0x5b33f0(0x26a):_0x13a2e6[_0x5b33f0(0xbc4)]=_0x5b33f0(0xbf6)+_0x16fbdc[_0x5b33f0(0x158)]+')',_0x13a2e6[_0x5b33f0(0x734)][_0x5b33f0(0x5cf)](_0x5b33f0(0x4ad)),_0x550a9c['classList'][_0x5b33f0(0x5cf)](_0x5b33f0(0x4ad)),_0x2c4454[_0x5b33f0(0x734)][_0x5b33f0(0x459)](_0x5b33f0(0x4ad));}function _0x28c2(_0x1a0f9d,_0x575e3c){const _0x145493=_0x1454();return _0x28c2=function(_0x28c2c5,_0x592200){_0x28c2c5=_0x28c2c5-0xfd;let _0x294735=_0x145493[_0x28c2c5];return _0x294735;},_0x28c2(_0x1a0f9d,_0x575e3c);}function revealAnswerForPresentation(_0xdd646f,_0x47f0c7){const _0x8f6386=_0x13d91b,_0x15691c=currentQuizData[_0x8f6386(0x87f)][_0xdd646f],_0x33adf0=_0x15691c[_0x8f6386(0xa1a)]||currentQuizData[_0x8f6386(0x9b1)];document[_0x8f6386(0x77f)](_0x8f6386(0x2ab))[_0x8f6386(0x5c9)](_0x55fbcb=>{const _0x33a84f=_0x8f6386;_0x55fbcb[_0x33a84f(0x426)]=!![],_0x55fbcb[_0x33a84f(0x734)][_0x33a84f(0x5cf)]('hover:bg-indigo-100');let _0x480014=![];if(_0x33adf0===_0x33a84f(0x3e2)||_0x33adf0===_0x33a84f(0x14d)){const _0x42c71a=parseInt(_0x55fbcb[_0x33a84f(0xcba)][_0x33a84f(0x778)]);_0x480014=_0x42c71a===_0x15691c[_0x33a84f(0xae6)];}else{if(_0x33adf0==='true_false'){const _0x37476d=_0x55fbcb[_0x33a84f(0xcba)][_0x33a84f(0x43b)]==='true';_0x480014=_0x37476d===_0x15691c['correctAnswer'];}else _0x33adf0===_0x33a84f(0x416)&&(_0x480014=_0x55fbcb['textContent'][_0x33a84f(0x1a0)]()===_0x15691c['correctResponse']);}_0x480014?_0x55fbcb[_0x33a84f(0x734)][_0x33a84f(0x459)](_0x33a84f(0x562),_0x33a84f(0x8db),'border-green-700'):_0x55fbcb[_0x33a84f(0x734)][_0x33a84f(0x459)](_0x33a84f(0xe12));}),_0x47f0c7[_0x8f6386(0x734)][_0x8f6386(0x5cf)](_0x8f6386(0xe12));let _0x584294=![];if(_0x33adf0===_0x8f6386(0x3e2))_0x584294=parseInt(_0x47f0c7['dataset'][_0x8f6386(0x778)])===_0x15691c['correctAnswerIndex'];else{if(_0x33adf0==='true_false')_0x584294=_0x47f0c7[_0x8f6386(0xcba)][_0x8f6386(0x43b)]===_0x8f6386(0x539)===_0x15691c[_0x8f6386(0xcdb)];else _0x33adf0===_0x8f6386(0x416)&&(_0x584294=_0x47f0c7['textContent'][_0x8f6386(0x1a0)]()===_0x15691c[_0x8f6386(0x994)]);}!_0x584294&&_0x47f0c7[_0x8f6386(0x734)]['add'](_0x8f6386(0x12e),_0x8f6386(0x8db),'border-red-700'),document['getElementById'](_0x8f6386(0x2e4))[_0x8f6386(0x734)]['remove'](_0x8f6386(0x4ad));}function startWholeQuizTimer(_0x40cf09){const _0x525593=_0x13d91b,_0x3420c0=document[_0x525593(0x916)](_0x525593(0x2cf));if(!_0x3420c0)return;const _0x248597=Date[_0x525593(0x60e)]()+_0x40cf09*0x3c*0x3e8;_0x3420c0[_0x525593(0xbc4)]=_0x525593(0xe0b);const _0x32c8c8=document[_0x525593(0x916)](_0x525593(0xa02));quizTimerInterval=setInterval(()=>{const _0x515f8d=_0x525593,_0x37de25=_0x248597-Date['now']();if(_0x37de25<=0x0)clearInterval(quizTimerInterval),_0x32c8c8['textContent']=_0x515f8d(0x29e),showMessage(_0x515f8d(0x698)),handleSubmitQuiz(null);else{const _0x4247b4=Math[_0x515f8d(0x8e9)](_0x37de25/0x3e8/0x3c%0x3c)[_0x515f8d(0xda1)]()[_0x515f8d(0x7ff)](0x2,'0'),_0x97286e=Math[_0x515f8d(0x8e9)](_0x37de25/0x3e8%0x3c)[_0x515f8d(0xda1)]()['padStart'](0x2,'0');_0x32c8c8[_0x515f8d(0xd9d)]=_0x4247b4+':'+_0x97286e;}},0x3e8);}function renderPerQuestionView(){const _0x44ba80=_0x13d91b;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0xd4a2d3=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x5eff4e=_0xd4a2d3[_0x44ba80(0xa1a)]||currentDisplayedQuiz[_0x44ba80(0x9b1)],_0xf15567=currentDisplayedQuiz[_0x44ba80(0xc10)]?.[_0x44ba80(0xde5)]===!![];let _0x4e174c=_0x44ba80(0x4be)+(currentQuestionIndex+0x1)+_0x44ba80(0x1c1)+currentDisplayedQuiz[_0x44ba80(0x87f)]['length']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x44ba80(0xd30)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x44ba80(0x82b)+currentDisplayedQuiz[_0x44ba80(0xdf4)]+_0x44ba80(0xd76);studentQuizArea[_0x44ba80(0xbc4)]=_0x4e174c;let _0x17d2c7=_0xd4a2d3[_0x44ba80(0x3a9)]||_0xd4a2d3['questionText'];_0xd4a2d3[_0x44ba80(0x6d6)]&&(_0x17d2c7+=_0x44ba80(0x4ef)+_0xd4a2d3[_0x44ba80(0x6d6)]+_0x44ba80(0xa4f));let _0x3223e0='';switch(_0x5eff4e){case _0x44ba80(0x21b):case _0x44ba80(0x549):_0x3223e0='<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x44ba80(0x54f):_0x3223e0=_0x44ba80(0x2c2);break;case _0x44ba80(0x416):_0x3223e0=_0x44ba80(0x34c)+(_0xd4a2d3[_0x44ba80(0x47b)]||[])[_0x44ba80(0x1b0)](_0x4efcca=>_0x44ba80(0x733)+_0x4efcca+'\x22>'+_0x4efcca+'</option>')['join']('')+_0x44ba80(0xa17);break;default:_0xd4a2d3['options']&&(_0x3223e0=_0xd4a2d3['options']['map']((_0x346e7d,_0x16df7f)=>_0x44ba80(0x23f)+_0x16df7f+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x16df7f+_0x44ba80(0xb1e)+_0x16df7f+'\x22>'+_0x346e7d+'</label></div>')[_0x44ba80(0x22e)](''));break;}document['getElementById'](_0x44ba80(0x927))['innerHTML']=_0x17d2c7,document['getElementById'](_0x44ba80(0x66c))['innerHTML']=_0x3223e0;const _0xd03ab9=currentDisplayedQuiz[_0x44ba80(0xc10)]?.[_0x44ba80(0xde5)]===!![],_0x210532=currentDisplayedQuiz['settings']?.[_0x44ba80(0xa69)]||_0x44ba80(0xd38);if(_0xd03ab9&&_0x210532===_0x44ba80(0xd38)){const _0x3f20b5=_0x44ba80(0x476);studentQuizArea[_0x44ba80(0x7f4)]('.mb-6.p-4')[_0x44ba80(0x9b6)](_0x44ba80(0x6f8),_0x3f20b5);}studentQuizArea[_0x44ba80(0x9b6)](_0x44ba80(0x6f8),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x44ba80(0x87f)][_0x44ba80(0x3d7)]-0x1?_0x44ba80(0xbcb):_0x44ba80(0x379))+_0x44ba80(0x2dd));currentMode==='admin-testing'&&document['getElementById'](_0x44ba80(0xb21))?.[_0x44ba80(0xc2d)](_0x44ba80(0xab7),cancelAdminTest);document[_0x44ba80(0x916)](_0x44ba80(0x503))['addEventListener'](_0x44ba80(0xab7),()=>handleNextQuestionInTimedMode(![]));if(window[_0x44ba80(0xcaf)])window[_0x44ba80(0xcaf)][_0x44ba80(0x1cd)]([studentQuizArea]);currentDisplayedQuiz[_0x44ba80(0xc10)]?.[_0x44ba80(0x846)]===_0x44ba80(0x390)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x58760b=_0x13d91b,_0xdaae77=currentDisplayedQuiz[_0x58760b(0xc10)][_0x58760b(0x31a)],_0x51adc9=document[_0x58760b(0x916)](_0x58760b(0x253));if(!_0x51adc9)return;let _0x585393=_0xdaae77;_0x51adc9[_0x58760b(0xbc4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x585393+_0x58760b(0xa45);const _0x18ff08=document[_0x58760b(0x916)](_0x58760b(0x4b2)),_0x13e05f=document[_0x58760b(0x916)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x1f64b5=_0x58760b;_0x585393--;const _0x108631=_0x585393/_0xdaae77*0x64;_0x18ff08[_0x1f64b5(0x3bb)][_0x1f64b5(0xcc2)]=_0x108631+'%',_0x13e05f[_0x1f64b5(0xd9d)]=_0x585393,_0x585393<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x53ee3e=![]){const _0x23ad86=_0x13d91b;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x29e375=null,_0x3f932f=![];if(!_0x53ee3e){const _0x524d5a=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x329d78=_0x524d5a[_0x23ad86(0xa1a)]||currentDisplayedQuiz[_0x23ad86(0x9b1)];if(_0x329d78===_0x23ad86(0x21b)||_0x329d78==='fill_in_no_choices')_0x29e375=document['querySelector'](_0x23ad86(0x74b))?.[_0x23ad86(0x93c)][_0x23ad86(0x1a0)]()??'';else{if(_0x329d78==='matching_item')_0x29e375=document[_0x23ad86(0x7f4)](_0x23ad86(0xa85))?.[_0x23ad86(0x93c)]??'';else{const _0x15fcce=document[_0x23ad86(0x7f4)](_0x23ad86(0x897));_0x15fcce&&(_0x29e375=_0x15fcce[_0x23ad86(0x93c)]);}}if(_0x29e375===null||_0x29e375===''){showMessage(_0x23ad86(0x9ab)),startPerQuestionTimer();return;}const _0x59eadf=currentDisplayedQuiz[_0x23ad86(0xc10)]?.[_0x23ad86(0xde5)]===!![],_0x283eec=currentDisplayedQuiz[_0x23ad86(0xc10)]?.['confidenceMode']||_0x23ad86(0xd38);if(_0x59eadf&&_0x283eec===_0x23ad86(0x34e)){document['getElementById']('confidence-modal')[_0x23ad86(0xcba)][_0x23ad86(0x59e)]=_0x23ad86(0xaae),document[_0x23ad86(0x916)](_0x23ad86(0x563))[_0x23ad86(0x93c)]=_0x29e375,document[_0x23ad86(0x916)]('confidence-modal')[_0x23ad86(0x734)][_0x23ad86(0x5cf)](_0x23ad86(0x4ad));return;}const _0x80edce=document[_0x23ad86(0x916)](_0x23ad86(0x28b));_0x80edce&&(_0x3f932f=_0x80edce['checked']);}const _0x5a53f7={'answer':_0x29e375,'wasConfident':_0x3f932f};proceedToNextQuestion(_0x5a53f7);}async function finalizePerQuestionQuiz(){const _0x33f57a=_0x13d91b,_0x5580d3=currentDisplayedQuiz[_0x33f57a(0x87f)][_0x33f57a(0xdc9)](_0x59b66e=>_0x59b66e[_0x33f57a(0xa1a)]===_0x33f57a(0x21b));_0x5580d3?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0x33f57a(0xc4d));const _0x4c1d9e=currentQuizData['id'],_0x5b570a=doc(db,_0x33f57a(0x54a)+appId+'/public/data/quizzes/'+_0x4c1d9e+'/submissions',currentStudentName),_0x4e83ce=await getDoc(_0x5b570a),_0x4a1b28=_0x4e83ce[_0x33f57a(0x5fd)]()?_0x4e83ce[_0x33f57a(0xaf3)]():{},_0x529df7=_0x4a1b28['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x529df7);}function getResultsFilename(){const _0x42772a=_0x13d91b,_0x2f4944=document['getElementById'](_0x42772a(0x76a))[_0x42772a(0xd9d)][_0x42772a(0xdb5)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x42772a(0x1ac)+(_0x2f4944||_0x42772a(0xd0c));}function exportResultsAsImage(){const _0x58af7c=_0x13d91b,_0x3ea765=document[_0x58af7c(0x916)](_0x58af7c(0xb87));showMessage(_0x58af7c(0x517)),html2canvas(_0x3ea765)[_0x58af7c(0x233)](_0x519f05=>{const _0x569f9f=_0x58af7c,_0x3ba6b7=document['createElement']('a');_0x3ba6b7['download']=getResultsFilename()+_0x569f9f(0x853),_0x3ba6b7[_0x569f9f(0x35d)]=_0x519f05[_0x569f9f(0x7ea)](_0x569f9f(0x2d3)),_0x3ba6b7[_0x569f9f(0xab7)](),messageModal[_0x569f9f(0x734)][_0x569f9f(0x459)](_0x569f9f(0x4ad));});}function exportResultsAsPDF(){const _0x24420d=_0x13d91b,{jsPDF:_0x757751}=window[_0x24420d(0x793)],_0x473c13=new _0x757751();_0x473c13[_0x24420d(0x4e0)]('helvetica',_0x24420d(0x72e)),_0x473c13[_0x24420d(0x548)]({'html':'#results-table'}),_0x473c13[_0x24420d(0xd72)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x25d777=_0x13d91b,_0x1cd53a=_0x25d777(0xd9a)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x25d777(0xd0e)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x2e7084=_0x25d777(0x498),_0x3e18a3=_0x1cd53a+document[_0x25d777(0x916)](_0x25d777(0xb87))['innerHTML']+_0x2e7084,_0x5aee55=_0x25d777(0x51e)+encodeURIComponent(_0x3e18a3),_0x54e89b=document[_0x25d777(0x1da)]('a');document[_0x25d777(0x556)][_0x25d777(0x38c)](_0x54e89b),_0x54e89b[_0x25d777(0x35d)]=_0x5aee55,_0x54e89b['download']=getResultsFilename()+_0x25d777(0x2a0),_0x54e89b[_0x25d777(0xab7)](),document[_0x25d777(0x556)][_0x25d777(0x169)](_0x54e89b);}function exportResultsAsExcel(){const _0x1ff3f7=_0x13d91b,_0xc6e73f=document[_0x1ff3f7(0x916)](_0x1ff3f7(0xa6e));let _0x5a267a=[];for(let _0x45301c=0x0;_0x45301c<_0xc6e73f[_0x1ff3f7(0x360)][_0x1ff3f7(0x3d7)];_0x45301c++){let _0xe90b83=[],_0x7c7d97=_0xc6e73f[_0x1ff3f7(0x360)][_0x45301c][_0x1ff3f7(0x77f)]('td,\x20th');for(let _0x2b65d5=0x0;_0x2b65d5<_0x7c7d97[_0x1ff3f7(0x3d7)];_0x2b65d5++){_0xe90b83[_0x1ff3f7(0x298)]('\x22'+_0x7c7d97[_0x2b65d5][_0x1ff3f7(0x871)][_0x1ff3f7(0xdb5)](/"/g,'\x22\x22')+'\x22');}_0x5a267a[_0x1ff3f7(0x298)](_0xe90b83[_0x1ff3f7(0x22e)](','));}const _0x47fca2=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5a267a[_0x1ff3f7(0x22e)]('\x0a')],{'type':_0x1ff3f7(0x276)}),_0x1a5777=document[_0x1ff3f7(0x1da)]('a');_0x1a5777[_0x1ff3f7(0x35d)]=URL[_0x1ff3f7(0x383)](_0x47fca2),_0x1a5777[_0x1ff3f7(0x494)]=getResultsFilename()+_0x1ff3f7(0x6f2),_0x1a5777['click']();}function exportTableAsImage(_0x2c1b94,_0x4d4e0c){const _0x3887f0=_0x13d91b,_0x36d81c=document['getElementById'](_0x2c1b94),_0x554ac4=document[_0x3887f0(0x916)](_0x3887f0(0x76a));if(!_0x36d81c){showMessage(_0x3887f0(0xdf1));return;}showMessage(_0x3887f0(0x64b));const _0x32c6d5=document[_0x3887f0(0x1da)]('div');_0x32c6d5[_0x3887f0(0x3bb)]['backgroundColor']=_0x3887f0(0x70e),_0x32c6d5[_0x3887f0(0x3bb)][_0x3887f0(0x669)]='30px',_0x32c6d5[_0x3887f0(0x3bb)][_0x3887f0(0xcc2)]=_0x3887f0(0x7dd),_0x32c6d5[_0x3887f0(0x3bb)][_0x3887f0(0xa4a)]=_0x3887f0(0xb4d),_0x32c6d5[_0x3887f0(0x3bb)][_0x3887f0(0xd6b)]='-9999px',_0x32c6d5['style'][_0x3887f0(0x328)]='0',_0x32c6d5[_0x3887f0(0x3bb)][_0x3887f0(0x326)]='-1';const _0x561d8d=document[_0x3887f0(0x1da)]('h1');_0x561d8d[_0x3887f0(0x871)]=_0x554ac4?_0x554ac4[_0x3887f0(0x871)]:_0x3887f0(0x51f),_0x561d8d['style'][_0x3887f0(0x4f9)]=_0x3887f0(0x69b),_0x561d8d[_0x3887f0(0x3bb)]['fontFamily']=_0x3887f0(0xcce),_0x561d8d[_0x3887f0(0x3bb)][_0x3887f0(0x3f6)]=_0x3887f0(0x2f8),_0x561d8d[_0x3887f0(0x3bb)][_0x3887f0(0x616)]=_0x3887f0(0x9aa),_0x561d8d[_0x3887f0(0x3bb)][_0x3887f0(0x468)]='#4338ca',_0x561d8d[_0x3887f0(0x3bb)][_0x3887f0(0xc74)]='20px';const _0x14b42c=_0x36d81c[_0x3887f0(0x7e6)](!![]);_0x14b42c[_0x3887f0(0x3bb)][_0x3887f0(0x23a)]=_0x3887f0(0x118),_0x14b42c[_0x3887f0(0x3bb)][_0x3887f0(0xd81)]='visible';const _0x74492b=_0x14b42c[_0x3887f0(0x77f)]('th');let _0x574b76=-0x1;_0x74492b[_0x3887f0(0x5c9)]((_0xc6dadc,_0x12ad3c)=>{const _0x50b7dc=_0x3887f0;_0xc6dadc[_0x50b7dc(0xd9d)][_0x50b7dc(0x1a0)]()==='ผล'&&(_0xc6dadc[_0x50b7dc(0x3bb)][_0x50b7dc(0x31b)]=_0x50b7dc(0x118),_0x574b76=_0x12ad3c);});if(_0x574b76!==-0x1){const _0x1f29fa=_0x14b42c[_0x3887f0(0x77f)]('tr');_0x1f29fa[_0x3887f0(0x5c9)](_0x5317aa=>{const _0x5a23b5=_0x3887f0,_0x5c6cc5=_0x5317aa[_0x5a23b5(0x77f)]('td');_0x5c6cc5['length']>_0x574b76&&(_0x5c6cc5[_0x574b76][_0x5a23b5(0x3bb)][_0x5a23b5(0x31b)]=_0x5a23b5(0x118));});}_0x32c6d5[_0x3887f0(0x38c)](_0x561d8d),_0x32c6d5[_0x3887f0(0x38c)](_0x14b42c),document[_0x3887f0(0x556)][_0x3887f0(0x38c)](_0x32c6d5),html2canvas(_0x32c6d5,{'scale':0x2,'useCORS':!![],'backgroundColor':_0x3887f0(0x70e)})['then'](_0x523251=>{const _0xd4d08f=_0x3887f0,_0x30d134=document[_0xd4d08f(0x1da)]('a');_0x30d134[_0xd4d08f(0x494)]=_0x4d4e0c+_0xd4d08f(0x853),_0x30d134[_0xd4d08f(0x35d)]=_0x523251[_0xd4d08f(0x7ea)](_0xd4d08f(0x2d3)),_0x30d134[_0xd4d08f(0xab7)](),document[_0xd4d08f(0x556)][_0xd4d08f(0x169)](_0x32c6d5),messageModal[_0xd4d08f(0x734)][_0xd4d08f(0x459)]('hidden');})[_0x3887f0(0x161)](_0x42de4e=>{const _0x3aa47e=_0x3887f0;console['error']('Export\x20Image\x20Error:',_0x42de4e),document[_0x3aa47e(0x556)]['removeChild'](_0x32c6d5),showMessage(_0x3aa47e(0x166));});}function exportTableAsPDF(_0xa0d6f3,_0x426bf9){const _0x400567=_0x13d91b,{jsPDF:_0x774add}=window[_0x400567(0x793)],_0x557955=new _0x774add();_0x557955[_0x400567(0x4e0)](_0x400567(0xba6),'normal'),_0x557955['autoTable']({'html':'#'+_0xa0d6f3}),_0x557955[_0x400567(0xd72)](_0x426bf9+_0x400567(0x55f));}function exportTableAsWord(_0x1778f6,_0x598ad5){const _0x45d472=_0x13d91b,_0x419df3=document['getElementById'](_0x1778f6);if(!_0x419df3){showMessage(_0x45d472(0xdf1));return;}const _0x1aedaa=_0x45d472(0xd9a)+_0x45d472(0x976)+_0x45d472(0xd0e)+_0x45d472(0x95b),_0x5f48a4=_0x45d472(0x498),_0x18ac05=_0x1aedaa+_0x419df3[_0x45d472(0xbc4)]+_0x5f48a4,_0x55b21f='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x18ac05),_0x39f67c=document[_0x45d472(0x1da)]('a');document[_0x45d472(0x556)][_0x45d472(0x38c)](_0x39f67c),_0x39f67c[_0x45d472(0x35d)]=_0x55b21f,_0x39f67c['download']=_0x598ad5+_0x45d472(0x2a0),_0x39f67c[_0x45d472(0xab7)](),document[_0x45d472(0x556)][_0x45d472(0x169)](_0x39f67c);}function exportTableAsExcel(_0x1cccb3,_0x5119ff){const _0x4368d4=_0x13d91b,_0x4cae6d=document[_0x4368d4(0x916)](_0x1cccb3);if(!_0x4cae6d){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x2717be=[];for(let _0x4c35a2=0x0;_0x4c35a2<_0x4cae6d[_0x4368d4(0x360)]['length'];_0x4c35a2++){let _0xfa4909=[],_0x1550a9=_0x4cae6d[_0x4368d4(0x360)][_0x4c35a2][_0x4368d4(0x77f)](_0x4368d4(0x9df));for(let _0xd9bb69=0x0;_0xd9bb69<_0x1550a9['length'];_0xd9bb69++){_0xfa4909['push']('\x22'+_0x1550a9[_0xd9bb69][_0x4368d4(0x871)][_0x4368d4(0xdb5)](/"/g,'\x22\x22')+'\x22');}_0x2717be[_0x4368d4(0x298)](_0xfa4909[_0x4368d4(0x22e)](','));}const _0x1144fc=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x2717be['join']('\x0a')],{'type':_0x4368d4(0x276)}),_0x513249=document[_0x4368d4(0x1da)]('a');_0x513249[_0x4368d4(0x35d)]=URL[_0x4368d4(0x383)](_0x1144fc),_0x513249['download']=_0x5119ff+_0x4368d4(0x6f2),_0x513249[_0x4368d4(0xab7)]();}function renderAnalytics(_0x211bef,_0x303297){const _0x421a10=_0x13d91b,_0x2a6892=_0x303297[_0x421a10(0xc52)](_0x1b0af4=>_0x1b0af4[_0x421a10(0x97a)]!==undefined),_0x4a9bcd=currentProjectData[_0x421a10(0xce1)][_0x421a10(0x3d7)],_0x3b87c8=_0x2a6892['length'],_0x271df6=_0x4a9bcd-_0x3b87c8,_0x109f94=_0x4a9bcd>0x0?_0x3b87c8/_0x4a9bcd*0x64:0x0,_0x23d60a=_0x2a6892[_0x421a10(0x1b0)](_0x22c82d=>_0x22c82d[_0x421a10(0x97a)]),_0x2e13f7=_0x23d60a['length']>0x0?_0x23d60a[_0x421a10(0xba9)]((_0x30de65,_0x2c90fa)=>_0x30de65+_0x2c90fa,0x0)/_0x23d60a[_0x421a10(0x3d7)]:0x0,_0x3bfc43=_0x211bef[_0x421a10(0x87f)][_0x421a10(0x3d7)],_0x11e40e=_0x3bfc43>0x0?_0x2e13f7/_0x3bfc43*0x64:0x0,_0x4ac58f=calculateItemAnalysis(_0x211bef,_0x2a6892),_0x34cb8a=calculateReliabilityKR20(_0x211bef,_0x2a6892,_0x4ac58f[_0x421a10(0xcea)]);let _0x53e3af='';if(_0x34cb8a!==null){let _0xcd5dd3='';if(_0x34cb8a>=0.9)_0xcd5dd3=_0x421a10(0xba4);else{if(_0x34cb8a>=0.8)_0xcd5dd3=_0x421a10(0x771);else{if(_0x34cb8a>=0.7)_0xcd5dd3='ดี';else{if(_0x34cb8a>=0.6)_0xcd5dd3=_0x421a10(0x901);else _0xcd5dd3=_0x421a10(0xd31);}}}_0x53e3af=_0x421a10(0xd65)+_0x34cb8a[_0x421a10(0x643)](0x2)+_0x421a10(0xb17)+_0xcd5dd3+_0x421a10(0x628);}const _0x3019ba=document['getElementById']('analytics-summary-cards');_0x3019ba[_0x421a10(0xbc4)]=_0x421a10(0xad8)+_0x109f94['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x3b87c8+'/'+_0x4a9bcd+_0x421a10(0x2ef)+_0x2e13f7['toFixed'](0x2)+_0x421a10(0x10e)+_0x11e40e[_0x421a10(0x643)](0x0)+_0x421a10(0x28d)+(_0x23d60a[_0x421a10(0x3d7)]>0x0?Math[_0x421a10(0x88a)](..._0x23d60a):'N/A')+_0x421a10(0x4ac)+(_0x23d60a['length']>0x0?Math[_0x421a10(0x808)](..._0x23d60a):_0x421a10(0x642))+_0x421a10(0x42c)+_0x53e3af+_0x421a10(0x1f2);const _0x310f14=document[_0x421a10(0x916)](_0x421a10(0x86a));_0x310f14&&_0x310f14[_0x421a10(0x5cf)]();const _0x127e0e=_0x421a10(0xd47);_0x3019ba[_0x421a10(0x9b6)](_0x421a10(0xb2e),_0x127e0e);const _0x2d8cb4=currentProjectData[_0x421a10(0xce1)]||[];renderSubmissionChart(_0x3b87c8,_0x271df6,_0x2a6892,_0x2d8cb4),renderScoreDistributionChart(_0x2a6892,_0x3bfc43),renderQuestionAnalytics(_0x211bef,_0x2a6892,_0x2d8cb4),renderInterestingStats(_0x211bef,_0x2a6892);}async function handleExportLessonPDF(){const _0x199fa2=_0x13d91b,_0x32cf5b=document[_0x199fa2(0x916)]('lesson-plan-content'),_0x2172f2=document[_0x199fa2(0x916)](_0x199fa2(0x919))[_0x199fa2(0xd9d)],_0xd8b7f7=window['open']('',_0x199fa2(0xda8)),_0xd84a0f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x2172f2+_0x199fa2(0x8fc)+_0x32cf5b[_0x199fa2(0xbc4)]+_0x199fa2(0x753);_0xd8b7f7['document'][_0x199fa2(0x3d6)](_0xd84a0f),_0xd8b7f7[_0x199fa2(0x75e)][_0x199fa2(0x3fb)](),_0xd8b7f7['onload']=function(){setTimeout(()=>{const _0x58a19f=_0x28c2;_0xd8b7f7[_0x58a19f(0x308)]();},0x5dc);};}function renderInterestingStats(_0x15a3b3,_0x55352f){const _0x54f53f=_0x13d91b,_0x35751c=document[_0x54f53f(0x916)](_0x54f53f(0xdf5));if(!_0x35751c)return;if(_0x55352f[_0x54f53f(0x3d7)]===0x0){_0x35751c['innerHTML']=_0x54f53f(0xc47);return;}const _0x1c23df=_0x15a3b3[_0x54f53f(0x87f)]['map']((_0x44136f,_0x45b020)=>({'index':_0x45b020+0x1,'text':_0x44136f[_0x54f53f(0xa35)]||_0x44136f[_0x54f53f(0x3a9)],'correct':0x0}));_0x55352f['forEach'](_0x4421bf=>{const _0x370f22=_0x54f53f,_0xb0814d=_0x4421bf[_0x370f22(0x641)][_0x4421bf[_0x370f22(0x641)][_0x370f22(0x3d7)]-0x1];_0xb0814d&&_0xb0814d['answers']&&_0xb0814d['answers'][_0x370f22(0x5c9)](_0x50060a=>{const _0x1d9989=_0x370f22,_0x3730b4=_0x1c23df['find'](_0x3ed850=>_0x3ed850[_0x1d9989(0xb52)]===_0x50060a[_0x1d9989(0xdfa)]);_0x50060a[_0x1d9989(0x832)]&&_0x3730b4&&_0x3730b4[_0x1d9989(0xa07)]++;});});const _0x306c4a=_0x55352f[_0x54f53f(0x3d7)],_0x51cc64=Math[_0x54f53f(0x88a)](..._0x1c23df[_0x54f53f(0x1b0)](_0x805ee2=>_0x805ee2[_0x54f53f(0xa07)])),_0x28d5a7=Math[_0x54f53f(0x808)](..._0x1c23df[_0x54f53f(0x1b0)](_0x28e031=>_0x28e031[_0x54f53f(0xa07)])),_0x7a8c62=_0x1c23df['filter'](_0x687015=>_0x687015[_0x54f53f(0xa07)]===_0x51cc64)[_0x54f53f(0x1b0)](_0x4d2272=>'ข้อ\x20'+_0x4d2272['index']),_0x4e970d=_0x1c23df[_0x54f53f(0xc52)](_0x3e4af1=>_0x3e4af1['correct']===_0x28d5a7)[_0x54f53f(0x1b0)](_0x3b379a=>_0x54f53f(0x108)+_0x3b379a[_0x54f53f(0x778)]),_0x41bb4f=_0x55352f[_0x54f53f(0x5d4)]((_0x79eadd,_0x3c359e)=>_0x3c359e[_0x54f53f(0x97a)]-_0x79eadd[_0x54f53f(0x97a)])[_0x54f53f(0xc52)]((_0x47438b,_0x432ee4,_0x4ad4be)=>_0x47438b['latestScore']===_0x4ad4be[0x0][_0x54f53f(0x97a)]),_0x3e0883=_0x55352f[_0x54f53f(0x5d4)]((_0x27bb73,_0x579b42)=>_0x27bb73[_0x54f53f(0x97a)]-_0x579b42['latestScore'])[_0x54f53f(0xc52)]((_0x21f0f2,_0x5343fd,_0x29b726)=>_0x21f0f2[_0x54f53f(0x97a)]===_0x29b726[0x0][_0x54f53f(0x97a)]),_0x2e4a8a=_0x54f53f(0xff)+_0x7a8c62[_0x54f53f(0x22e)](',\x20')+_0x54f53f(0xd3d)+_0x51cc64+_0x54f53f(0x62d)+_0x306c4a+_0x54f53f(0x3d2)+_0x4e970d['join'](',\x20')+_0x54f53f(0xd3d)+(_0x306c4a-_0x28d5a7)+'\x20/\x20'+_0x306c4a+_0x54f53f(0xd22)+_0x41bb4f[_0x54f53f(0x1b0)](_0x2e12bd=>_0x2e12bd[_0x54f53f(0x7b1)])[_0x54f53f(0x22e)](',\x20')+_0x54f53f(0x97c)+_0x41bb4f[0x0][_0x54f53f(0x97a)]+_0x54f53f(0xb76)+_0x3e0883[_0x54f53f(0x1b0)](_0xb28ee6=>_0xb28ee6['studentName'])[_0x54f53f(0x22e)](',\x20')+_0x54f53f(0x97c)+_0x3e0883[0x0][_0x54f53f(0x97a)]+_0x54f53f(0x3ee);_0x35751c[_0x54f53f(0xbc4)]=_0x2e4a8a;}function renderSubmissionChart(_0x48d539,_0x7bb09d,_0x29910d,_0x542771){const _0x50bdb8=_0x13d91b,_0x2f0eb4=document[_0x50bdb8(0x916)](_0x50bdb8(0xca0))[_0x50bdb8(0xe24)]('2d'),_0xb6339f=_0x29910d[_0x50bdb8(0x1b0)](_0x365de9=>_0x365de9[_0x50bdb8(0x7b1)]),_0x37e8da=_0x542771[_0x50bdb8(0xc52)](_0x3a3687=>!_0xb6339f[_0x50bdb8(0xb28)](_0x3a3687));chartInstances[_0x50bdb8(0xa4c)]&&chartInstances[_0x50bdb8(0xa4c)][_0x50bdb8(0x903)](),chartInstances[_0x50bdb8(0xa4c)]=new Chart(_0x2f0eb4,{'type':'doughnut','data':{'labels':[_0x50bdb8(0xbb7),_0x50bdb8(0x711)],'datasets':[{'data':[_0x48d539,_0x7bb09d],'backgroundColor':[_0x50bdb8(0x981),_0x50bdb8(0x542)],'borderColor':[_0x50bdb8(0x70e),_0x50bdb8(0x70e)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x50bdb8(0x82d)},'tooltip':{'callbacks':{'label':function(_0x2678ff){const _0x4dfa6=_0x50bdb8;let _0xa3be8d=_0x2678ff[_0x4dfa6(0xcc0)]||'';return _0xa3be8d&&(_0xa3be8d+=':\x20'),_0xa3be8d+=_0x2678ff[_0x4dfa6(0x9cb)],_0xa3be8d;},'afterLabel':function(_0x3eb2a3){const _0x36d4d1=_0x50bdb8;let _0x7f5631;return _0x3eb2a3['dataIndex']===0x0?_0x7f5631=_0xb6339f:_0x7f5631=_0x37e8da,_0x7f5631['length']>0x0?_0x7f5631[_0x36d4d1(0x22e)]('\x0a'):_0x36d4d1(0x65c);}}}}}});}function renderScoreDistributionChart(_0xf8fe1d,_0x1de384){const _0x11cec0=_0x13d91b,_0x2e0176=document['getElementById'](_0x11cec0(0xa21))['getContext']('2d'),_0x367ef9={};for(let _0x215439=0x0;_0x215439<=_0x1de384;_0x215439++){_0x367ef9[_0x215439]=0x0;}_0xf8fe1d[_0x11cec0(0x5c9)](_0x4c06a7=>{const _0x54b47e=_0x11cec0;_0x367ef9[_0x4c06a7[_0x54b47e(0x97a)]]!==undefined&&_0x367ef9[_0x4c06a7[_0x54b47e(0x97a)]]++;}),chartInstances['score']&&chartInstances[_0x11cec0(0xc8b)][_0x11cec0(0x903)](),chartInstances[_0x11cec0(0xc8b)]=new Chart(_0x2e0176,{'type':'bar','data':{'labels':Object[_0x11cec0(0x4bf)](_0x367ef9),'datasets':[{'label':_0x11cec0(0xced),'data':Object['values'](_0x367ef9),'backgroundColor':_0x11cec0(0x606),'borderColor':_0x11cec0(0x824),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x11cec0(0xdd5)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x515b64){const _0x3991e0=_0x11cec0,_0x422dd8=_0x515b64[_0x3991e0(0xcc0)],_0x34a9f9=_0xf8fe1d[_0x3991e0(0xc52)](_0x435073=>_0x435073[_0x3991e0(0x97a)]==_0x422dd8)[_0x3991e0(0x1b0)](_0x576262=>_0x576262['studentName']);return _0x34a9f9[_0x3991e0(0x3d7)]>0x0?_0x34a9f9[_0x3991e0(0x22e)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x5e184a,_0x5e8dc0,_0x243026){const _0x13dae0=_0x13d91b,_0x4fb077=document[_0x13dae0(0x916)](_0x13dae0(0x1d0));if(_0x243026[_0x13dae0(0x3d7)]===0x0){_0x4fb077[_0x13dae0(0xbc4)]=_0x13dae0(0x258);return;}const _0x1a87c8=calculateItemAnalysis(_0x5e184a,_0x5e8dc0),_0x21aab8=calculateDistractorAnalysis(_0x5e184a,_0x5e8dc0);let _0xd404c9='';_0x1a87c8[_0x13dae0(0x74d)]&&(_0xd404c9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x1a87c8[_0x13dae0(0x74d)][_0x13dae0(0xbe8)][_0x13dae0(0x3d7)]+_0x13dae0(0x242)+_0x1a87c8[_0x13dae0(0x74d)]['upperGroupNames'][_0x13dae0(0x1b0)](_0x40b289=>_0x13dae0(0x6b7)+_0x40b289+_0x13dae0(0x86d))[_0x13dae0(0x22e)]('')+_0x13dae0(0x5e5)+_0x1a87c8['overallGroups'][_0x13dae0(0x2b2)][_0x13dae0(0x3d7)]+_0x13dae0(0x242)+_0x1a87c8[_0x13dae0(0x74d)][_0x13dae0(0x2b2)][_0x13dae0(0x1b0)](_0x31e683=>_0x13dae0(0x6b7)+_0x31e683+_0x13dae0(0x86d))['join']('')+_0x13dae0(0xa22));let _0xd74ea0='';const _0x5262f7=_0x5e8dc0['map'](_0x6f9373=>_0x6f9373[_0x13dae0(0x7b1)]),_0x2cbe1e=_0x24e941=>{const _0xa313d=_0x13dae0;if(_0x24e941>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x24e941>=0.6)return _0xa313d(0x12a);if(_0x24e941>=0.4)return _0xa313d(0x139);if(_0x24e941>=0.2)return _0xa313d(0x2c6);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x1c1233=_0x2f82c4=>{const _0x5cbf8c=_0x13dae0;if(_0x2f82c4<0x0)return _0x5cbf8c(0x972);if(_0x2f82c4>=0.4)return _0x5cbf8c(0x8c6);if(_0x2f82c4>=0.3)return _0x5cbf8c(0x279);if(_0x2f82c4>=0.2)return _0x5cbf8c(0x3c4);return _0x5cbf8c(0x395);},_0x21d4fd=_0x38922f=>{const _0x40d4d3=_0x13dae0,_0xf6c586=_0x38922f[_0x40d4d3(0x643)](0x0);if(parseFloat(_0xf6c586)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0xf6c586+_0x40d4d3(0x513);if(_0x38922f>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0xf6c586+_0x40d4d3(0x513);return _0x40d4d3(0x29b)+_0xf6c586+_0x40d4d3(0x513);};_0x5e184a['questions'][_0x13dae0(0x5c9)]((_0x109fee,_0x296d04)=>{const _0x2e6098=_0x13dae0,_0x24e056=_0x1a87c8[_0x2e6098(0xcea)][_0x296d04],_0x2a6b74=_0x21aab8[_0x296d04],_0x50c195=_0x109fee[_0x2e6098(0x3a9)]||_0x109fee['questionText']||_0x109fee[_0x2e6098(0x958)];let _0x19a9c3=0x0;const _0x3cc8a5=[],_0xaa0272=[];_0x5e8dc0[_0x2e6098(0x5c9)](_0x10559c=>{const _0x5de7fb=_0x2e6098,_0x1d2c4d=_0x10559c['attempts'][_0x10559c[_0x5de7fb(0x641)][_0x5de7fb(0x3d7)]-0x1];if(_0x1d2c4d&&_0x1d2c4d[_0x5de7fb(0x367)]){const _0x24d846=_0x1d2c4d['answers'][_0x5de7fb(0xa3d)](_0x7623c0=>_0x7623c0[_0x5de7fb(0xdfa)]===_0x50c195)??_0x1d2c4d[_0x5de7fb(0x367)][_0x296d04]??null;_0x24d846&&(_0x24d846[_0x5de7fb(0x832)]?(_0x19a9c3++,_0x3cc8a5[_0x5de7fb(0x298)](_0x10559c[_0x5de7fb(0x7b1)])):_0xaa0272['push'](_0x10559c['studentName']));}});const _0xfa9bdf=_0x5e8dc0[_0x2e6098(0x3d7)]>0x0?_0x19a9c3/_0x5e8dc0[_0x2e6098(0x3d7)]*0x64:0x0,_0x5069ac=_0x243026[_0x2e6098(0xc52)](_0x58969f=>!_0x5262f7['includes'](_0x58969f)),_0x1b89dd=_0x24e056?_0x2e6098(0xa48)+_0x24e056['p'][_0x2e6098(0x643)](0x2)+_0x2e6098(0xc19)+_0x2cbe1e(_0x24e056['p'])+_0x2e6098(0x112)+_0x24e056['r'][_0x2e6098(0x643)](0x2)+'</p><div>'+_0x1c1233(_0x24e056['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x21d4fd(_0xfa9bdf)+_0x2e6098(0xcf1):'';let _0x3bbce6='';_0x2a6b74&&(_0x3bbce6=_0x2e6098(0x5c6)+Object[_0x2e6098(0x4bf)](_0x2a6b74)[_0x2e6098(0x1b0)](_0x9a422c=>{const _0x54500a=_0x2e6098,_0x4bc49e=_0x2a6b74[_0x9a422c],_0x516fe3=parseInt(_0x9a422c)===_0x109fee['correctAnswerIndex'],_0x2f1a97=!_0x516fe3&&_0x4bc49e[_0x54500a(0x8cd)]>_0x4bc49e['upper_group_count'];return _0x54500a(0xce2)+(_0x516fe3?_0x54500a(0xc4f):'')+_0x54500a(0xb4c)+(_0x516fe3?'✔\x20':'')+_0x4bc49e[_0x54500a(0xb52)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x4bc49e['upper_group_count']+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x4bc49e[_0x54500a(0x8cd)]+'\x20'+(_0x2f1a97?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x4bc49e[_0x54500a(0x675)]+'</td></tr>';})['join']('')+_0x2e6098(0xda6));let _0x1cd4d8='';_0x24e056&&_0x24e056['upperGroupResponders']&&(_0x1cd4d8=_0x2e6098(0xab5)+_0x24e056[_0x2e6098(0x4d4)][_0x2e6098(0x3d7)]+_0x2e6098(0x89e)+_0x24e056[_0x2e6098(0x4d4)][_0x2e6098(0x1b0)](_0x208716=>_0x2e6098(0x6b7)+(_0x208716[_0x2e6098(0x832)]?_0x2e6098(0xbb3):_0x2e6098(0x7d6))+'\x20'+_0x208716[_0x2e6098(0x34b)]+_0x2e6098(0x86d))[_0x2e6098(0x22e)]('')+_0x2e6098(0x9f0)+_0x24e056['lowerGroupResponders'][_0x2e6098(0x3d7)]+_0x2e6098(0x89e)+_0x24e056[_0x2e6098(0x488)][_0x2e6098(0x1b0)](_0x8a72c6=>_0x2e6098(0x6b7)+(_0x8a72c6[_0x2e6098(0x832)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x8a72c6[_0x2e6098(0x34b)]+_0x2e6098(0x86d))[_0x2e6098(0x22e)]('')+_0x2e6098(0x3f5)),_0xd74ea0+=_0x2e6098(0x8b7)+(_0x296d04+0x1)+':\x20'+_0x50c195+_0x2e6098(0x776)+_0x1b89dd+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x50c195+_0x2e6098(0x159)+_0x19a9c3+_0x2e6098(0x1c1)+_0x5e8dc0['length']+_0x2e6098(0x8c9)+_0xfa9bdf[_0x2e6098(0x643)](0x0)+_0x2e6098(0x177)+_0x3cc8a5[_0x2e6098(0x3d7)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x3cc8a5[_0x2e6098(0x3d7)]>0x0?_0x3cc8a5[_0x2e6098(0x22e)](',\x20'):_0x2e6098(0x65c))+_0x2e6098(0x58b)+_0xaa0272['length']+_0x2e6098(0xe0a)+(_0xaa0272[_0x2e6098(0x3d7)]>0x0?_0xaa0272[_0x2e6098(0x22e)](',\x20'):'ไม่มี')+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x5069ac[_0x2e6098(0x3d7)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x5069ac['length']>0x0?_0x5069ac[_0x2e6098(0x22e)](',\x20'):'ไม่มี')+_0x2e6098(0x8a2)+_0x3bbce6+_0x2e6098(0x13c)+_0x1cd4d8+_0x2e6098(0x8f4);}),_0x4fb077[_0x13dae0(0xbc4)]=_0xd404c9+_0xd74ea0;try{window[_0x13dae0(0xcaf)]&&MathJax[_0x13dae0(0x1cd)]&&MathJax[_0x13dae0(0x1cd)]([_0x4fb077]);}catch(_0x53074b){console['error'](_0x13dae0(0xd90),_0x53074b);}}function calculateDistractorAnalysis(_0x6d6ad,_0x536657){const _0x3af35e=_0x13d91b,_0x5ea252={};if(_0x536657[_0x3af35e(0x3d7)]<0x2)return _0x5ea252;const _0x58ff31=[..._0x536657][_0x3af35e(0x5d4)]((_0x5066b1,_0x436048)=>{const _0x4b6905=_0x3af35e,_0xa61b98=_0x436048[_0x4b6905(0x97a)]-_0x5066b1[_0x4b6905(0x97a)];if(_0xa61b98!==0x0)return _0xa61b98;const _0x3259b6=_0x5066b1[_0x4b6905(0x641)]?.['length']||0x1,_0x313a67=_0x436048[_0x4b6905(0x641)]?.['length']||0x1,_0x5ae426=_0x3259b6-_0x313a67;if(_0x5ae426!==0x0)return _0x5ae426;const _0xa177ef=new Date(_0x5066b1[_0x4b6905(0xcd3)]),_0x54f298=new Date(_0x436048[_0x4b6905(0xcd3)]),_0x208c5e=_0xa177ef-_0x54f298;if(_0x208c5e!==0x0)return _0x208c5e;return _0x5066b1[_0x4b6905(0x7b1)]['localeCompare'](_0x436048['studentName'],'th');}),_0x14135c=_0x58ff31[_0x3af35e(0x3d7)],_0x42ea63=Math[_0x3af35e(0x88a)](0x1,Math[_0x3af35e(0x8e9)](_0x14135c*0.33)),_0xe38467=_0x58ff31['slice'](0x0,_0x42ea63),_0x1fe3cf=_0x58ff31[_0x3af35e(0x3e6)](-_0x42ea63);return _0x6d6ad[_0x3af35e(0x87f)]['forEach']((_0x3d049b,_0x55b6f9)=>{const _0x116080=_0x3af35e;if(_0x3d049b[_0x116080(0xa1a)]!==_0x116080(0x3e2)||!_0x3d049b[_0x116080(0x238)])return;const _0x2e4d91=_0x3d049b[_0x116080(0xa35)],_0x21b371={};_0x3d049b['options'][_0x116080(0x5c9)]((_0x924e6c,_0x5e8204)=>{_0x21b371[_0x5e8204]={'text':_0x924e6c,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x58ff31[_0x116080(0x5c9)](_0x1859f7=>{const _0x2ab358=_0x116080,_0x318f6e=_0x1859f7[_0x2ab358(0x641)][_0x1859f7['attempts'][_0x2ab358(0x3d7)]-0x1],_0x1299b9=_0x318f6e[_0x2ab358(0x367)][_0x2ab358(0xa3d)](_0x1b634a=>_0x1b634a['originalQuestionText']===_0x2e4d91);if(_0x1299b9&&_0x1299b9['answer']!==null){const _0x2e216e=_0x3d049b['options'][_0x2ab358(0x209)](_0x101607=>_0x101607===_0x1299b9[_0x2ab358(0x2c1)]);_0x2e216e!==-0x1&&_0x21b371[_0x2e216e]&&(_0x21b371[_0x2e216e][_0x2ab358(0x675)]++,_0xe38467[_0x2ab358(0xb28)](_0x1859f7)&&_0x21b371[_0x2e216e][_0x2ab358(0x839)]++,_0x1fe3cf[_0x2ab358(0xb28)](_0x1859f7)&&_0x21b371[_0x2e216e][_0x2ab358(0x8cd)]++);}}),_0x5ea252[_0x55b6f9]=_0x21b371;}),_0x5ea252;}function calculateReliabilityKR20(_0x240b31,_0x1e9eaa,_0x7a7c1){const _0x37a3a5=_0x13d91b,_0x30f134=_0x240b31[_0x37a3a5(0x87f)][_0x37a3a5(0x3d7)];if(_0x30f134<0x2||_0x1e9eaa['length']<0x2)return null;const _0x2bd231=_0x1e9eaa[_0x37a3a5(0x1b0)](_0x5fc90=>_0x5fc90[_0x37a3a5(0x97a)]),_0x2a2ea7=_0x2bd231[_0x37a3a5(0xba9)]((_0x368148,_0x46be12)=>_0x368148+_0x46be12,0x0)/_0x2bd231['length'],_0x3b22df=_0x2bd231['map'](_0x2d9c17=>Math['pow'](_0x2d9c17-_0x2a2ea7,0x2))[_0x37a3a5(0xba9)]((_0x4e94d1,_0x246ffd)=>_0x4e94d1+_0x246ffd,0x0)/_0x2bd231[_0x37a3a5(0x3d7)];if(_0x3b22df===0x0)return null;let _0x1b3636=0x0;for(let _0x2f8f40=0x0;_0x2f8f40<_0x30f134;_0x2f8f40++){const _0x21f395=_0x7a7c1[_0x2f8f40]?.['p'];if(_0x21f395===undefined)continue;const _0x1aea08=0x1-_0x21f395;_0x1b3636+=_0x21f395*_0x1aea08;}if(_0x1b3636===0x0)return null;const _0x5c141c=_0x30f134/(_0x30f134-0x1)*(0x1-_0x1b3636/_0x3b22df);if(_0x5c141c>0x1)return null;return _0x5c141c;}async function handleAnalyzeClass(){const _0x3eb799=_0x13d91b;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x3eb799(0x2f6));return;}const _0xda59f0=collection(db,_0x3eb799(0x54a)+appId+_0x3eb799(0x906)+currentQuizData['id']+_0x3eb799(0xcae)),_0x4fa059=await getDocs(_0xda59f0),_0x572a79=_0x4fa059[_0x3eb799(0x1fb)][_0x3eb799(0x1b0)](_0x1d1349=>_0x1d1349[_0x3eb799(0xaf3)]());if(_0x572a79[_0x3eb799(0x3d7)]<0x2){showMessage(_0x3eb799(0x7a9));return;}const _0x2fc3a4=document['getElementById'](_0x3eb799(0xc76));_0x2fc3a4['innerHTML']=_0x3eb799(0x2ce),document[_0x3eb799(0x916)](_0x3eb799(0x4a2))[_0x3eb799(0x426)]=!![];const _0x5db9d4=_0x572a79[_0x3eb799(0x1b0)]((_0xc51bd0,_0x8aa810)=>{const _0x335f3c=_0x3eb799,_0xb0b51a=_0xc51bd0['attempts'][_0xc51bd0[_0x335f3c(0x641)]['length']-0x1];if(!_0xb0b51a)return'';return _0x335f3c(0xaf7)+(_0x8aa810+0x1)+'\x20('+_0xc51bd0[_0x335f3c(0x7b1)]+_0x335f3c(0x6cf)+_0xb0b51a[_0x335f3c(0xc8b)]+'/'+_0xc51bd0[_0x335f3c(0x1d3)]+_0x335f3c(0x724)+JSON['stringify'](_0xb0b51a['answers'])+_0x335f3c(0x109);})[_0x3eb799(0x22e)](_0x3eb799(0x91a)),_0x3b3773='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData['topic']+_0x3eb799(0x706)+JSON['stringify'](currentQuizData['questions'])+_0x3eb799(0x7cb)+_0x5db9d4+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x2fe824={'type':_0x3eb799(0xd0d),'properties':{'classStrengths':{'type':_0x3eb799(0x33c),'items':{'type':_0x3eb799(0x330)}},'classWeaknesses':{'type':_0x3eb799(0x33c),'items':{'type':_0x3eb799(0x330)}},'teacherSuggestions':{'type':_0x3eb799(0x33c),'items':{'type':_0x3eb799(0x330)}}},'required':['classStrengths',_0x3eb799(0x47f),_0x3eb799(0x7f2)]};try{const _0x377148=await callAnalysisApi(_0x3b3773,_0x2fe824);displayClassAnalysis(_0x377148);}catch(_0x4a3db7){console[_0x3eb799(0x689)](_0x3eb799(0x1b6),_0x4a3db7),_0x2fc3a4[_0x3eb799(0xbc4)]=_0x3eb799(0x4b5)+_0x4a3db7['message']+'</p></div>';}finally{document[_0x3eb799(0x916)](_0x3eb799(0x4a2))[_0x3eb799(0x426)]=![];}}function displayClassAnalysis(_0x5473de){const _0x25cbef=_0x13d91b,_0x23473f=document['getElementById'](_0x25cbef(0xc76));if(!_0x5473de){_0x23473f[_0x25cbef(0xbc4)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x23473f[_0x25cbef(0xbc4)]=_0x25cbef(0xa19)+_0x5473de[_0x25cbef(0xb75)][_0x25cbef(0x1b0)](_0x406220=>'<li>'+_0x406220+'</li>')[_0x25cbef(0x22e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5473de[_0x25cbef(0x47f)][_0x25cbef(0x1b0)](_0x37fe3b=>'<li>'+_0x37fe3b+_0x25cbef(0x86d))[_0x25cbef(0x22e)]('')+_0x25cbef(0x38a)+_0x5473de[_0x25cbef(0x7f2)][_0x25cbef(0x1b0)](_0x26160e=>_0x25cbef(0x6b7)+_0x26160e+_0x25cbef(0x86d))[_0x25cbef(0x22e)]('')+_0x25cbef(0x79e);}function formatAndPrintWorksheet(_0x4c563c,_0x281ec7){const _0x27705d=_0x13d91b,_0x30821a=_0x27705d(0x119)+_0x4c563c[_0x27705d(0xdf4)]+_0x27705d(0xb32)+_0x4c563c[_0x27705d(0xdf4)]+_0x27705d(0x780)+_0x4c563c['questions'][_0x27705d(0x1b0)]((_0x33d29a,_0x109927)=>_0x27705d(0x790)+(_0x109927+0x1)+'.\x20'+_0x33d29a[_0x27705d(0xa35)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x33d29a[_0x27705d(0x6d6)]?_0x27705d(0x429)+_0x33d29a[_0x27705d(0x6d6)]+_0x27705d(0xa4f):'')+_0x27705d(0xb3f))[_0x27705d(0x22e)]('')+_0x27705d(0x32a);_0x281ec7[_0x27705d(0x75e)]['write'](_0x30821a),_0x281ec7[_0x27705d(0x75e)][_0x27705d(0x3fb)](),_0x281ec7[_0x27705d(0x766)]=function(){setTimeout(()=>{const _0x11bd28=_0x28c2;_0x281ec7[_0x11bd28(0x308)]();},0x3e8);};}async function generateWorksheet(){const _0x5d1297=_0x13d91b,_0x3247a8=document[_0x5d1297(0x916)](_0x5d1297(0x90f))[_0x5d1297(0x93c)][_0x5d1297(0x1a0)]();if(!_0x3247a8){showMessage(_0x5d1297(0xde4));return;}const _0x4c8351=document['getElementById'](_0x5d1297(0xc60))['checked'],_0x4f0c0b=_0x4c8351?'':_0x5d1297(0x6d1),_0xa919f7=window[_0x5d1297(0x208)]('',_0x5d1297(0xda8));_0xa919f7[_0x5d1297(0x75e)]['write'](_0x5d1297(0x569));const _0x2ff98a=parseInt(document[_0x5d1297(0x916)]('num-questions')[_0x5d1297(0x93c)]),_0x542f70=document[_0x5d1297(0x916)]('include-images-checkbox')[_0x5d1297(0x7bc)],_0x301a55=_0x542f70?_0x5d1297(0x351):'',_0x4bf7c4=_0x5d1297(0xa2a)+_0x4f0c0b+_0x5d1297(0x5f3)+_0x2ff98a+_0x5d1297(0xbcf)+_0x3247a8+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x301a55+_0x5d1297(0xc11)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x2fad97={'type':'OBJECT','properties':{'topic':{'type':_0x5d1297(0x330)},'questions':{'type':'ARRAY','items':{'type':_0x5d1297(0xd0d),'properties':{'questionText':{'type':_0x5d1297(0x330)},'imageCode':{'type':_0x5d1297(0x330)}},'required':[_0x5d1297(0xa35)]}}},'required':[_0x5d1297(0xdf4),_0x5d1297(0x87f)]};document['getElementById'](_0x5d1297(0xae9))[_0x5d1297(0xd9d)]='',document[_0x5d1297(0x916)](_0x5d1297(0x619))['classList'][_0x5d1297(0x5cf)]('hidden'),document[_0x5d1297(0x916)](_0x5d1297(0x444))['classList'][_0x5d1297(0x5cf)](_0x5d1297(0x4ad)),generateWorksheetBtn[_0x5d1297(0x426)]=!![];try{const _0x31525d=await callAnalysisApi(_0x4bf7c4,_0x2fad97);formatAndPrintWorksheet(_0x31525d,_0xa919f7);}catch(_0x2df7e0){console[_0x5d1297(0x689)](_0x5d1297(0x773),_0x2df7e0);if(_0xa919f7)_0xa919f7[_0x5d1297(0x3fb)]();showMessage(_0x5d1297(0x419));}finally{document['getElementById'](_0x5d1297(0x619))[_0x5d1297(0x734)][_0x5d1297(0x459)](_0x5d1297(0x4ad)),document['getElementById'](_0x5d1297(0x444))[_0x5d1297(0x734)][_0x5d1297(0x459)](_0x5d1297(0x4ad)),generateWorksheetBtn[_0x5d1297(0x426)]=![];}}async function callAnalysisApi(_0x3181a8,_0x42c731){const _0x41b655=_0x13d91b,_0x2ca344={'contents':[{'role':_0x41b655(0xcb6),'parts':[{'text':_0x3181a8}]}],'generationConfig':{'responseMimeType':_0x41b655(0xa9a),'responseSchema':_0x42c731}},_0x313e91=_0x41b655(0xb7d),_0x5a6a72=_0x41b655(0xb11)+_0x313e91,_0x7d288b=await fetch(_0x5a6a72,{'method':_0x41b655(0x970),'headers':{'Content-Type':_0x41b655(0xa9a)},'body':JSON['stringify'](_0x2ca344)});if(!_0x7d288b['ok'])throw new Error(_0x41b655(0x4cf)+_0x7d288b[_0x41b655(0x127)]);const _0x4190a6=await _0x7d288b[_0x41b655(0xc06)]();if(_0x4190a6[_0x41b655(0xb81)]?.[0x0]?.[_0x41b655(0x392)]?.[_0x41b655(0x83c)]?.[0x0])return JSON['parse'](_0x4190a6[_0x41b655(0xb81)][0x0][_0x41b655(0x392)][_0x41b655(0x83c)][0x0][_0x41b655(0xb52)]);else{let _0x3fba94=_0x41b655(0xcf4);if(_0x4190a6['promptFeedback']?.[_0x41b655(0x4ab)])_0x3fba94=_0x41b655(0x694)+_0x4190a6[_0x41b655(0x7e9)][_0x41b655(0x4ab)]+'.';else _0x4190a6[_0x41b655(0xb81)]?.[0x0]?.[_0x41b655(0x220)]&&_0x4190a6[_0x41b655(0xb81)][0x0][_0x41b655(0x220)]!==_0x41b655(0x435)&&(_0x3fba94=_0x41b655(0xbb4)+_0x4190a6['candidates'][0x0][_0x41b655(0x220)]+'.');console[_0x41b655(0x689)](_0x3fba94,JSON[_0x41b655(0x163)](_0x4190a6));throw new Error(_0x3fba94);}}async function handleStartSyncMode(_0x36062b,_0x21a0de=![],_0x90849a=_0x13d91b(0x34a)){const _0x1cae5e=_0x13d91b,_0x29e853=allQuizzes[_0x1cae5e(0xa3d)](_0x99516e=>_0x99516e['id']===_0x36062b)||allQuizzesGlobal[_0x1cae5e(0xa3d)](_0x5e7634=>_0x5e7634['id']===_0x36062b);if(!_0x29e853){showMessage(_0x1cae5e(0x7ec));return;}currentQuizData=getShuffledQuiz(_0x29e853);const _0x5d144c=Math[_0x1cae5e(0x8e9)](0x3e8+Math[_0x1cae5e(0x29d)]()*0x2328)[_0x1cae5e(0xda1)](),_0x2ba690=doc(db,'artifacts/'+appId+_0x1cae5e(0x90e),_0x29e853['projectId']),_0x21dd2a=await getDoc(_0x2ba690);if(!_0x21dd2a[_0x1cae5e(0x5fd)]()){showMessage(_0x1cae5e(0xc12));return;}const _0x1445c8=_0x21dd2a[_0x1cae5e(0xaf3)]()[_0x1cae5e(0xce1)]||[],_0x361728={};if(_0x90849a===_0x1cae5e(0x1a3)||_0x90849a===_0x1cae5e(0x51b)){const _0x260023=[...ANONYMOUS_NAMES][_0x1cae5e(0x5d4)](()=>0.5-Math[_0x1cae5e(0x29d)]());_0x1445c8['forEach']((_0x297188,_0x5e4702)=>{const _0x33e226=_0x1cae5e;_0x361728[_0x297188]=_0x260023[_0x5e4702]||_0x33e226(0x116)+(_0x5e4702+0x1);});}const _0x3ff7ac=document['getElementById']('sync-timer-enable-checkbox')[_0x1cae5e(0x7bc)],_0x47d2ff=parseInt(document[_0x1cae5e(0x916)](_0x1cae5e(0x87b))[_0x1cae5e(0x93c)],0xa);let _0x189571={'timerMode':_0x1cae5e(0x118),'timerDuration':0x0};_0x3ff7ac&&(_0x189571[_0x1cae5e(0x846)]=_0x1cae5e(0x390),_0x189571[_0x1cae5e(0x31a)]=_0x47d2ff||0xf0);const _0x5b7d15=document[_0x1cae5e(0x916)](_0x1cae5e(0x38e))[_0x1cae5e(0x7bc)],_0x477113=document[_0x1cae5e(0x916)](_0x1cae5e(0xc31))[_0x1cae5e(0x7bc)];try{const _0x5359c4=await addDoc(collection(db,_0x1cae5e(0x54a)+appId+'/public/data/syncGames'),{'quizId':_0x29e853['id'],'pin':_0x5d144c,'status':_0x1cae5e(0xa3e),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x21a0de,'players':{},'gameVariant':_0x90849a,'reviewQuestionIndex':0x0,'playerNicknames':_0x361728,'isAnonymousRevealed':![],..._0x189571,'showAnswerInAnonymous':_0x5b7d15,'isBlackMarketEnabled':_0x477113});currentLiveGameId=_0x5359c4['id'],showView(_0x1cae5e(0x8ad)),renderSyncLobbyView(_0x5d144c,_0x29e853[_0x1cae5e(0xdf4)]),listenForSyncGameUpdates();const _0xe1324={'gameId':currentLiveGameId,'mode':'sync','role':_0x1cae5e(0x1e4)};sessionStorage[_0x1cae5e(0xd51)]('activeGameSession',JSON['stringify'](_0xe1324));}catch(_0x272935){console[_0x1cae5e(0x689)](_0x1cae5e(0xa13),_0x272935),showMessage(_0x1cae5e(0xc16));}}function calculateFinalPodiumScores(_0x1e9221){const _0x152ca9=_0x13d91b;if(!_0x1e9221||!_0x1e9221[_0x152ca9(0x571)]||!_0x1e9221['players'])return _0x1e9221['players']||{};const _0x553068=_0x1e9221[_0x152ca9(0x571)]['questions'][_0x152ca9(0x3d7)],_0x48dec6=JSON[_0x152ca9(0x97f)](JSON[_0x152ca9(0x163)](_0x1e9221[_0x152ca9(0x5cc)]));return Object[_0x152ca9(0x3ff)](_0x48dec6)[_0x152ca9(0x5c9)](_0x3d3f58=>{const _0xf4118c=_0x152ca9,_0x388db0=_0x3d3f58[_0xf4118c(0xc8b)]||0x0,_0x538de8=_0x3d3f58['totalPoints']||0x0;_0x553068>0x0&&_0x388db0===_0x553068?_0x3d3f58[_0xf4118c(0xd06)]=!![]:_0x3d3f58[_0xf4118c(0xd06)]=![],_0x3d3f58[_0xf4118c(0xd39)]=_0x388db0,_0x3d3f58[_0xf4118c(0x482)]=_0x538de8;}),_0x48dec6;}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0x314832=_0x13d91b;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0x583266=doc(db,_0x314832(0x54a)+appId+_0x314832(0x66e),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x583266,_0x38f65d=>{const _0x1596c8=_0x314832;if(!_0x38f65d[_0x1596c8(0x5fd)]()){sessionStorage[_0x1596c8(0x6dd)]('activeGameSession'),showMessage(_0x1596c8(0xb6c));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x1596c8(0x1e4)?showView('project-detail'):showView(_0x1596c8(0xdd4));return;}cachedGameData=_0x38f65d[_0x1596c8(0xaf3)](),cachedGameData[_0x1596c8(0x571)]&&(currentQuizData=cachedGameData[_0x1596c8(0x571)]),syncDataAndRender();});const _0x9e1a0f=collection(db,_0x314832(0x54a)+appId+_0x314832(0x259)+currentLiveGameId+'/players');if(currentMode===_0x314832(0x1e4))unsubscribePlayersCollectionListener=onSnapshot(_0x9e1a0f,_0x306a98=>{const _0x1baab9=_0x314832;_0x306a98['docChanges']()[_0x1baab9(0x5c9)](_0x404d20=>{const _0x34431c=_0x1baab9;if(_0x404d20[_0x34431c(0x5e3)]===_0x34431c(0xc9e)||_0x404d20['type']===_0x34431c(0x430))cachedPlayerData[_0x404d20[_0x34431c(0x4b4)]['id']]=_0x404d20[_0x34431c(0x4b4)][_0x34431c(0xaf3)]();else _0x404d20[_0x34431c(0x5e3)]===_0x34431c(0x68f)&&delete cachedPlayerData[_0x404d20['doc']['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers[_0x314832(0x3d7)]>0x0){const _0x4de324=query(_0x9e1a0f,where(_0x314832(0x34b),'in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0x4de324,_0x474cbb=>{const _0x428593=_0x314832;_0x474cbb[_0x428593(0x20f)]()[_0x428593(0x5c9)](_0x5adb24=>{const _0x21c6fc=_0x428593;(_0x5adb24['type']===_0x21c6fc(0xc9e)||_0x5adb24['type']===_0x21c6fc(0x430))&&(cachedPlayerData[_0x5adb24['doc']['id']]=_0x5adb24[_0x21c6fc(0x4b4)][_0x21c6fc(0xaf3)]());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0xce7328=_0x13d91b;if(!cachedGameData)return;const _0x3da2be={},_0x5847ef=cachedGameData[_0xce7328(0x601)];Object[_0xce7328(0x4bf)](cachedPlayerData)['forEach'](_0x20f661=>{const _0x392005=_0xce7328,_0x2f4cb5=cachedPlayerData[_0x20f661],_0x34fee8=_0x2f4cb5[_0x392005(0x367)]&&_0x2f4cb5[_0x392005(0x367)]['some'](_0x189615=>_0x189615[_0x392005(0x907)]===_0x5847ef);_0x3da2be[_0x20f661]={..._0x2f4cb5,'answered':_0x34fee8};});const _0x272d65={...cachedGameData,'players':_0x3da2be};currentMode==='admin'?updateAdminSyncView(_0x272d65):updateStudentSyncView(_0x272d65);}function renderSyncLobbyView(_0x595579,_0xa84f2a){const _0x55bb94=_0x13d91b;liveGameView['innerHTML']=_0x55bb94(0x696)+_0xa84f2a+_0x55bb94(0x85d)+_0x595579+_0x55bb94(0xb0f);const _0x124e23=document[_0x55bb94(0x916)](_0x55bb94(0x8a5)),_0x3f0293=document[_0x55bb94(0x916)](_0x55bb94(0x184));_0x124e23[_0x55bb94(0xc2d)]('change',()=>{const _0x271de2=_0x55bb94;_0x3f0293[_0x271de2(0x3bb)][_0x271de2(0x31b)]=_0x124e23[_0x271de2(0x7bc)]?_0x271de2(0x3d4):_0x271de2(0x118);}),document['getElementById'](_0x55bb94(0x1bb))[_0x55bb94(0xc2d)](_0x55bb94(0xab7),async()=>{const _0x305352=_0x55bb94,_0x552480=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x256094=document[_0x305352(0x916)](_0x305352(0x8a5))[_0x305352(0x7bc)];await updateDoc(_0x552480,{'status':_0x305352(0x512),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x256094});});}function updateAdminSyncView(_0x2c1505){const _0x231886=_0x13d91b;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x2c1505['status']){case _0x231886(0xa3e):renderSyncLobbyView(_0x2c1505['pin'],_0x2c1505[_0x231886(0x571)][_0x231886(0xdf4)]);const _0x262f90=Object[_0x231886(0x915)](_0x2c1505[_0x231886(0x5cc)]||{})[_0x231886(0xc52)](([_0x2a4551,_0x3c2319])=>_0x3c2319[_0x231886(0x127)]!==_0x231886(0x949));document[_0x231886(0x916)](_0x231886(0x218))[_0x231886(0xd9d)]=_0x262f90[_0x231886(0x3d7)],document[_0x231886(0x916)](_0x231886(0x262))[_0x231886(0xbc4)]=_0x262f90[_0x231886(0x1b0)](([_0x3c03a4,_0x44905d])=>_0x231886(0x504)+_0x3c03a4+_0x231886(0x509)+_0x3c03a4+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')||_0x231886(0xc1a),document[_0x231886(0x916)](_0x231886(0x1bb))[_0x231886(0x426)]=_0x262f90[_0x231886(0x3d7)]===0x0;break;case'question':const _0x191a07=Object[_0x231886(0x3ff)](_0x2c1505['players']||{})[_0x231886(0xc52)](_0x1957f1=>_0x1957f1[_0x231886(0x127)]!=='inactive'),_0x32f65d=_0x191a07[_0x231886(0xc52)](_0x56238e=>_0x56238e[_0x231886(0xdc3)])[_0x231886(0x3d7)],_0x998e97=_0x32f65d===_0x191a07['length']&&_0x191a07[_0x231886(0x3d7)]>0x0;if(_0x998e97&&_0x2c1505['status']===_0x231886(0x512)){const _0x2548ed=doc(db,_0x231886(0x54a)+appId+_0x231886(0x66e),currentLiveGameId);updateDoc(_0x2548ed,{'status':_0x231886(0x5f7)});return;}if(document['getElementById'](_0x231886(0xaad))===null)renderAdminSyncQuestionView(_0x2c1505);else{const _0x1e9c1b=document['getElementById'](_0x231886(0x634));_0x1e9c1b&&(_0x1e9c1b[_0x231886(0xd9d)]=_0x32f65d+'/'+_0x191a07['length']);const _0x32ec70=document[_0x231886(0x916)](_0x231886(0xe20));_0x32ec70&&(_0x32ec70['innerHTML']=_0x191a07[_0x231886(0x1b0)](_0x19af19=>{const _0x5af433=_0x231886,_0x210332=_0x19af19[_0x5af433(0xdc3)]?_0x5af433(0x562):_0x5af433(0x2a4),_0x26cd22=_0x19af19[_0x5af433(0xdc3)]?_0x5af433(0x4f7):_0x5af433(0x389);return _0x5af433(0xc5f)+_0x210332+'\x22>'+_0x26cd22+'<span>'+_0x19af19['name']+_0x5af433(0x514)+_0x19af19[_0x5af433(0x34b)]+_0x5af433(0xc0e);})[_0x231886(0x22e)](''));}const _0x28ed65=_0x2c1505[_0x231886(0x846)]==='per_question'&&_0x2c1505[_0x231886(0xc41)];if(_0x28ed65){const _0x527b7e=_0x2c1505[_0x231886(0xc41)][_0x231886(0xb6b)]()[_0x231886(0x5d1)](),_0x31b7a6=_0x2c1505[_0x231886(0x31a)]*0x3e8,_0x17619d=_0x527b7e+_0x31b7a6,_0x552767=document['getElementById']('sync-timer-bar'),_0x52c05e=document[_0x231886(0x916)](_0x231886(0x974));syncQuestionTimerInterval=setInterval(()=>{const _0x2d388c=_0x231886,_0x1c4ec0=Date[_0x2d388c(0x60e)](),_0x2d340f=_0x191a07[_0x2d388c(0x3d7)]>0x0&&_0x191a07[_0x2d388c(0x97b)](_0x37b17a=>{const _0x3b4349=_0x2d388c;if(_0x37b17a[_0x3b4349(0xdc3)])return!![];const _0x518c4a=_0x37b17a[_0x3b4349(0xd0b)]||0x0;return _0x1c4ec0>=_0x527b7e+_0x31b7a6+_0x518c4a;});if(_0x2d340f){clearInterval(syncQuestionTimerInterval);const _0x5bc5e2=doc(db,_0x2d388c(0x54a)+appId+_0x2d388c(0x66e),currentLiveGameId);updateDoc(_0x5bc5e2,{'status':_0x2d388c(0x5f7)});return;}const _0x4fb6d4=_0x17619d-_0x1c4ec0;if(_0x4fb6d4<=0x0){if(_0x552767)_0x552767[_0x2d388c(0x3bb)]['width']='0%';if(_0x52c05e)_0x52c05e['textContent']=_0x2d388c(0xada);}else{if(_0x552767&&_0x52c05e){const _0x2951f1=_0x4fb6d4/_0x31b7a6*0x64;_0x552767[_0x2d388c(0x3bb)][_0x2d388c(0xcc2)]=_0x2951f1+'%',_0x52c05e[_0x2d388c(0xd9d)]=Math[_0x2d388c(0x9a3)](_0x4fb6d4/0x3e8);}}},0x1f4);}break;case'summary':const _0xa56725=_0x2c1505[_0x231886(0x601)],_0x164fed=_0x2c1505[_0x231886(0x571)][_0x231886(0x87f)][_0xa56725];renderSyncSummaryView(_0x2c1505,_0x164fed,!![]);break;case'results':const _0x25d9ec=_0x2c1505['gameVariant']||'classic';_0x25d9ec==='reveal_at_end'||_0x25d9ec==='anonymous_reveal_end'?renderAdminSyncDashboard(_0x2c1505,!![],_0x2c1505[_0x231886(0x475)]):(_0x2c1505[_0x231886(0x127)]===_0x231886(0x84d)&&!_0x2c1505[_0x231886(0xdff)]&&((async()=>{const _0x5e24f8=_0x231886;try{const _0x5e05a1=doc(db,_0x5e24f8(0x54a)+appId+_0x5e24f8(0x66e),currentLiveGameId);await updateDoc(_0x5e05a1,{'scoresCalculated':!![]});const _0x1d44f4=cachedPlayerData||{},_0x4ed83b=_0x2c1505['shuffledQuiz'][_0x5e24f8(0x87f)][_0x5e24f8(0x3d7)],_0x4cd777={};Object[_0x5e24f8(0x3ff)](_0x1d44f4)[_0x5e24f8(0x5c9)](_0x3e5395=>{const _0x28dce3=_0x5e24f8;if(_0x3e5395[_0x28dce3(0x127)]!==_0x28dce3(0x949)){const _0x2d7f86=_0x3e5395[_0x28dce3(0x34b)],_0x19ed3c=_0x3e5395[_0x28dce3(0xc8b)]||0x0,_0x637e4f=_0x3e5395[_0x28dce3(0x482)]||0x0;let _0x9454d4=_0x637e4f;_0x4ed83b>0x0&&_0x19ed3c===_0x4ed83b&&(_0x9454d4+=0x1),_0x4cd777['players.'+_0x2d7f86+'.score']=_0x19ed3c,_0x4cd777[_0x28dce3(0x5a6)+_0x2d7f86+_0x28dce3(0xb97)]=_0x9454d4,_0x4cd777['players.'+_0x2d7f86+'.pointsLastRound']=_0x9454d4;}}),await updateDoc(_0x5e05a1,{..._0x4cd777});}catch(_0x8d4085){console[_0x5e24f8(0x689)](_0x5e24f8(0x9da),_0x8d4085);}})()),renderAdminSyncDashboard(_0x2c1505,!![],_0x2c1505[_0x231886(0x601)]));break;case _0x231886(0x94a):const _0x2eb9b0=Object[_0x231886(0x4bf)](_0x2c1505['players']||{})[_0x231886(0x3d7)]>0x0,_0x53ba7b=_0x2c1505[_0x231886(0x296)]===!![],_0x3ad889=_0x2c1505['shouldSaveResults']===!![];_0x3ad889&&!_0x53ba7b&&_0x2eb9b0&&saveGameResultsAsSubmissions(_0x2c1505);sessionStorage[_0x231886(0x6dd)](_0x231886(0xa6a));const _0xff04e8=calculateFinalPodiumScores(_0x2c1505);showPodiumView(_0xff04e8,_0x231886(0x344),_0x2c1505);break;}}function renderAdminSyncQuestionView(_0x2a3da2){const _0xa1b366=_0x13d91b,_0x20c233=_0x2a3da2[_0xa1b366(0x601)],_0x20c238=_0x2a3da2[_0xa1b366(0x571)][_0xa1b366(0x87f)][_0x20c233],_0x4876b6=_0x2a3da2['shuffledQuiz']['questions']['length'],_0x1e51f0=Object[_0xa1b366(0x3ff)](_0x2a3da2[_0xa1b366(0x5cc)]||{})[_0xa1b366(0xc52)](_0x5e9d1c=>_0x5e9d1c[_0xa1b366(0x127)]!==_0xa1b366(0x949)),_0x46bbe8=_0x1e51f0[_0xa1b366(0xc52)](_0x5b5faf=>_0x5b5faf[_0xa1b366(0xdc3)])['length'],_0x30d5e8=_0x46bbe8===_0x1e51f0['length']&&_0x1e51f0[_0xa1b366(0x3d7)]>0x0,_0x9f5db9=(_0x20c238[_0xa1b366(0x238)]||[])[_0xa1b366(0x1b0)](_0x5124cf=>_0xa1b366(0xd14)+_0x5124cf+'</div>')[_0xa1b366(0x22e)]('');let _0x4f7155='';_0x2a3da2[_0xa1b366(0x846)]===_0xa1b366(0x390)&&(_0x4f7155=_0xa1b366(0x1ec)+_0x2a3da2['timerDuration']+_0xa1b366(0x881));liveGameView[_0xa1b366(0xbc4)]=_0xa1b366(0x21c)+(_0x20c233+0x1)+_0xa1b366(0x62d)+_0x4876b6+_0xa1b366(0x8c3)+_0x2a3da2['pin']+_0xa1b366(0x573)+_0x46bbe8+'/'+_0x1e51f0[_0xa1b366(0x3d7)]+_0xa1b366(0xdaf)+_0x4f7155+_0xa1b366(0x3f2)+_0x20c238[_0xa1b366(0xa35)]+_0xa1b366(0x13f)+_0x9f5db9+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20'+(!_0x30d5e8?_0xa1b366(0x426):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0xa1b366(0xcaf)])MathJax[_0xa1b366(0x1cd)]();const _0x3e3a70=doc(db,_0xa1b366(0x54a)+appId+_0xa1b366(0x66e),currentLiveGameId);document[_0xa1b366(0x916)](_0xa1b366(0x495))['addEventListener'](_0xa1b366(0xab7),async()=>{const _0x20c1dc=_0xa1b366;await updateDoc(_0x3e3a70,{'status':_0x20c1dc(0x5f7)});}),document[_0xa1b366(0x916)](_0xa1b366(0x2cd))[_0xa1b366(0xc55)]=()=>{const _0x488ecd=_0xa1b366;openScratchpad(_0x20c238,_0x20c238[_0x488ecd(0x238)]||[]);},document[_0xa1b366(0x916)]('sync-manage-players-btn')[_0xa1b366(0xc2d)](_0xa1b366(0xab7),()=>{const _0x14d374=_0xa1b366;document['getElementById'](_0x14d374(0xaad))[_0x14d374(0x734)]['toggle'](_0x14d374(0x4ad));});const _0x171b45=document[_0xa1b366(0x916)](_0xa1b366(0x227));_0x171b45&&(_0x171b45[_0xa1b366(0xc55)]=()=>{const _0x388ef1=_0xa1b366;showConfirmation(_0x388ef1(0x861),async()=>{const _0x48539b=_0x388ef1;await updateDoc(_0x3e3a70,{'status':_0x48539b(0x94a)});});});}function renderSyncLeaderboardView(_0x4313d6,_0x3ec429){const _0xc4484=_0x13d91b,_0x4821c4=Object['values'](_0x4313d6[_0xc4484(0x5cc)]||{});_0x4821c4[_0xc4484(0x5d4)]((_0x14eb12,_0x291ce0)=>_0x291ce0[_0xc4484(0xc8b)]-_0x14eb12[_0xc4484(0xc8b)]);const _0x8ec3b1=_0x4821c4[_0xc4484(0x3e6)](0x0,0x5);let _0x4876ad='';if(_0x3ec429){const _0x3aec4c=_0x4313d6[_0xc4484(0x601)]>=_0x4313d6['shuffledQuiz'][_0xc4484(0x87f)][_0xc4484(0x3d7)]-0x1;_0x4876ad='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0x3aec4c?'ดูผลสรุปสุดท้าย':'ข้อต่อไป')+_0xc4484(0x53f);}else _0x4876ad=_0xc4484(0x4c5);liveGameView[_0xc4484(0xbc4)]=_0xc4484(0x155)+_0x8ec3b1[_0xc4484(0x1b0)]((_0x208208,_0x587c3d)=>_0xc4484(0xb24)+(_0x587c3d+0x1)+'.\x20'+_0x208208[_0xc4484(0x34b)]+'</span><span\x20class=\x22font-bold\x22>'+_0x208208['score']+_0xc4484(0x749))[_0xc4484(0x22e)]('')+_0xc4484(0x9fa)+_0x4876ad+_0xc4484(0xaa5),_0x3ec429&&document['getElementById'](_0xc4484(0x1bc))[_0xc4484(0xc2d)](_0xc4484(0xab7),async()=>{const _0xd6b7fd=_0xc4484,_0x10b68a=doc(db,_0xd6b7fd(0x54a)+appId+_0xd6b7fd(0x66e),currentLiveGameId),_0x254277=_0x4313d6[_0xd6b7fd(0x601)]+0x1;if(_0x254277<_0x4313d6[_0xd6b7fd(0x571)][_0xd6b7fd(0x87f)][_0xd6b7fd(0x3d7)]){const _0x5c7697={};Object[_0xd6b7fd(0x4bf)](_0x4313d6[_0xd6b7fd(0x5cc)])[_0xd6b7fd(0x5c9)](_0x27c620=>{const _0x5b3c68=_0xd6b7fd;_0x5c7697[_0x5b3c68(0x5a6)+_0x27c620+_0x5b3c68(0xd80)]=![];}),await updateDoc(_0x10b68a,{'status':_0xd6b7fd(0x512),'currentQuestionIndex':_0x254277,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0x10b68a,{'status':'podium'});});}async function handleJoinSyncGame(){const _0x4b926b=_0x13d91b,_0x566418=prompt(_0x4b926b(0xdc4));if(!_0x566418||_0x566418[_0x4b926b(0x1a0)]()[_0x4b926b(0x3d7)]!==0x2){showMessage(_0x4b926b(0x87c));return;}try{const _0x3cf349=collection(db,'artifacts/'+appId+'/public/data/syncGames'),_0x5d5225=query(_0x3cf349,where(_0x4b926b(0x3f8),'==',_0x566418[_0x4b926b(0x1a0)]()),where('status','==',_0x4b926b(0xa3e))),_0x5696ba=await getDocs(_0x5d5225);if(_0x5696ba[_0x4b926b(0x71c)]){showMessage(_0x4b926b(0x8e1));return;}const _0x238056=_0x5696ba['docs'][0x0];currentLiveGameId=_0x238056['id'];const _0x6c985f=_0x238056[_0x4b926b(0xaf3)](),_0x2675ce=doc(db,'artifacts/'+appId+_0x4b926b(0xd20),_0x6c985f[_0x4b926b(0xbc0)]),_0x391dce=await getDoc(_0x2675ce);if(!_0x391dce[_0x4b926b(0x5fd)]())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x4f28bd=_0x391dce[_0x4b926b(0xaf3)](),_0x43a4ac=doc(db,_0x4b926b(0x54a)+appId+'/public/data/projects',_0x4f28bd[_0x4b926b(0x7a5)]),_0x376d38=await getDoc(_0x43a4ac);if(!_0x376d38['exists']())throw new Error(_0x4b926b(0x26f));currentQuizData=_0x6c985f['shuffledQuiz'];const _0x1eb392=_0x376d38['data']();showView('student-team-join'),showTeamPlayerSelection(_0x1eb392[_0x4b926b(0xce1)],_0x4f28bd[_0x4b926b(0xdf4)]);const _0x951d5d=document['getElementById']('confirm-team-players-btn');_0x951d5d['onclick']=confirmAndJoinSyncGame;}catch(_0x3a7b76){console[_0x4b926b(0x689)](_0x4b926b(0x6e8),_0x3a7b76),showMessage(_0x4b926b(0x96c)+_0x3a7b76[_0x4b926b(0xbd0)]);}}function updateStudentSyncView(_0x35fad8){const _0x3c3fbe=_0x13d91b,_0x49232f=localTeamPlayers[0x0],_0xd05690=_0x35fad8[_0x3c3fbe(0x5cc)][_0x49232f]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x35fad8[_0x3c3fbe(0x127)]){case _0x3c3fbe(0xa3e):showView('live-game'),liveGameView[_0x3c3fbe(0xbc4)]=_0x3c3fbe(0xd49);break;case'question':if(_0x35fad8['currentQuestionIndex']!==lastSeenQuestionIndex){console[_0x3c3fbe(0xcf6)](_0x3c3fbe(0x372)),sessionStorage[_0x3c3fbe(0x6dd)](_0x3c3fbe(0x541)),sessionStorage['removeItem'](_0x3c3fbe(0x795)),sessionStorage[_0x3c3fbe(0x6dd)](_0x3c3fbe(0x89b));const _0x4f055f=_0x3c3fbe(0xd13)+lastSeenQuestionIndex,_0x9f3f4a='powerupUsed_q'+lastSeenQuestionIndex,_0x5cafb5=_0x3c3fbe(0x71a)+lastSeenQuestionIndex;Object[_0x3c3fbe(0x4bf)](sessionStorage)[_0x3c3fbe(0x5c9)](_0xfc8a17=>{const _0x13ac87=_0x3c3fbe;(_0xfc8a17[_0x13ac87(0x9cd)](_0x4f055f)||_0xfc8a17[_0x13ac87(0x9cd)](_0x9f3f4a)||_0xfc8a17[_0x13ac87(0x9cd)](_0x5cafb5))&&sessionStorage[_0x13ac87(0x6dd)](_0xfc8a17);});if(_0xd05690[_0x3c3fbe(0x288)]||_0xd05690[_0x3c3fbe(0x61f)]||(_0xd05690[_0x3c3fbe(0xd0b)]||0x0)>0x0){const _0x8be143=doc(db,_0x3c3fbe(0x54a)+appId+_0x3c3fbe(0x259)+currentLiveGameId+_0x3c3fbe(0xc58),_0x49232f);updateDoc(_0x8be143,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})[_0x3c3fbe(0x161)](_0x433bd3=>console['error']('Auto-cleanup\x20failed:',_0x433bd3));}lastSeenQuestionIndex=_0x35fad8[_0x3c3fbe(0x601)];}localPlayerTurnIndex=0x0;const _0xd77b7a=localTeamPlayers[_0x3c3fbe(0x97b)](_0x4dae6e=>_0x35fad8['players'][_0x4dae6e]?.[_0x3c3fbe(0xdc3)]===!![]);if(_0xd77b7a)liveGameView[_0x3c3fbe(0xbc4)]=_0x3c3fbe(0x3b0);else{renderStudentSyncQuestionView(_0x35fad8);if(_0x35fad8['timerMode']==='per_question'){if(!_0x35fad8[_0x3c3fbe(0xc41)]){console[_0x3c3fbe(0xcf6)](_0x3c3fbe(0xb25));return;}const _0x575d66=_0x35fad8['questionDisplayedAt'][_0x3c3fbe(0xb6b)]()['getTime'](),_0x4f702c=_0x35fad8['timerDuration']*0x3e8,_0x59d3b0=localTeamPlayers['map'](_0x2908ae=>_0x35fad8[_0x3c3fbe(0x5cc)][_0x2908ae]?.[_0x3c3fbe(0xd0b)]||0x0),_0x469487=Math[_0x3c3fbe(0x88a)](..._0x59d3b0,0x0),_0x54681f=_0x575d66+_0x4f702c+_0x469487;syncQuestionTimerInterval=setInterval(()=>{const _0x35e62f=_0x3c3fbe,_0x1423b9=_0x54681f-Date[_0x35e62f(0x60e)](),_0x464550=document[_0x35e62f(0x916)](_0x35e62f(0xc7b)),_0x1dfed3=document[_0x35e62f(0x916)](_0x35e62f(0x974));if(_0x1423b9<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x464550)_0x464550['style'][_0x35e62f(0xcc2)]='0%';if(_0x1dfed3)_0x1dfed3[_0x35e62f(0xd9d)]='0';liveGameView[_0x35e62f(0xbc4)]=_0x35e62f(0x5e1);}else{if(_0x464550&&_0x1dfed3){const _0x5b3c4c=_0x4f702c+_0x469487,_0x5465f7=_0x5b3c4c>0x0?_0x1423b9/_0x5b3c4c*0x64:0x0;_0x464550[_0x35e62f(0x3bb)]['width']=_0x5465f7+'%',_0x1dfed3[_0x35e62f(0xd9d)]=Math['ceil'](_0x1423b9/0x3e8);}}},0x1f4);}}break;case _0x3c3fbe(0x5f7):liveGameView[_0x3c3fbe(0xbc4)]=_0x3c3fbe(0x867);break;case _0x3c3fbe(0x84d):localPlayerTurnIndex=0x0;const _0x333c2c=_0x35fad8[_0x3c3fbe(0x5c1)]||'classic';if(_0x333c2c===_0x3c3fbe(0x1a3)||_0x333c2c===_0x3c3fbe(0x51b))renderStudentAnonymousResultsView(_0x35fad8,_0x35fad8[_0x3c3fbe(0x601)]);else _0x333c2c===_0x3c3fbe(0x4e5)?renderStudentCompetitionResultsView(_0x35fad8,_0x35fad8[_0x3c3fbe(0x601)]):renderStudentSyncResultsView(_0x35fad8);break;case _0x3c3fbe(0x94a):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x3c3fbe(0x124)](_0x3c3fbe(0x891),handleFullscreenChange),document['removeEventListener'](_0x3c3fbe(0x945),handleVisibilityChange),sessionStorage[_0x3c3fbe(0x6dd)](_0x3c3fbe(0xa6a));const _0x6e4fd7=_0x35fad8['gameVariant']||_0x3c3fbe(0x34a),_0x3b72e6=_0x35fad8[_0x3c3fbe(0x571)]['questions']['length']-0x1;if(_0x6e4fd7==='anonymous'||_0x6e4fd7===_0x3c3fbe(0x51b))renderStudentAnonymousResultsView(_0x35fad8,_0x3b72e6);else _0x6e4fd7==='competition'?renderStudentCompetitionResultsView(_0x35fad8,_0x3b72e6):renderStudentSyncResultsView(_0x35fad8);const _0x43a62c=liveGameView[_0x3c3fbe(0x7f4)]('.animate-pulse');_0x43a62c&&(_0x43a62c[_0x3c3fbe(0x3bb)][_0x3c3fbe(0x31b)]=_0x3c3fbe(0x118));const _0x507e68=liveGameView[_0x3c3fbe(0x7f4)](_0x3c3fbe(0xa7f));_0x507e68&&(_0x507e68['style'][_0x3c3fbe(0x31b)]=_0x3c3fbe(0x118));const _0x2adc16=_0x3c3fbe(0xb2a);liveGameView[_0x3c3fbe(0x334)]?liveGameView[_0x3c3fbe(0x334)]['insertAdjacentHTML'](_0x3c3fbe(0x6f8),_0x2adc16):liveGameView[_0x3c3fbe(0x9b6)](_0x3c3fbe(0x6f8),_0x2adc16);break;}}function renderStudentSyncResultsView(_0x33d188){const _0x291c45=_0x13d91b;let _0x291a9e=[];_0x33d188[_0x291c45(0x9a5)]?_0x291a9e=_0x33d188[_0x291c45(0x9a5)][_0x291c45(0xc52)](_0x24b10e=>localTeamPlayers[_0x291c45(0xb28)](_0x24b10e[_0x291c45(0x34b)])):_0x291a9e=Object['values'](_0x33d188[_0x291c45(0x5cc)]||{})[_0x291c45(0xc52)](_0x495b56=>localTeamPlayers[_0x291c45(0xb28)](_0x495b56[_0x291c45(0x34b)]));const _0x4e361e=_0x33d188[_0x291c45(0x5c1)]||_0x291c45(0x34a),_0x48dae2=_0x4e361e===_0x291c45(0x997)||_0x4e361e===_0x291c45(0x51b),_0x4c8069=_0x33d188[_0x291c45(0x571)][_0x291c45(0x87f)],_0x519d56=_0x48dae2&&_0x33d188[_0x291c45(0x475)]!==undefined?_0x33d188['reviewQuestionIndex']:_0x33d188['currentQuestionIndex'],_0x4b9185=_0x48dae2?_0x33d188[_0x291c45(0x475)]:_0x33d188[_0x291c45(0x601)],_0x3715d8=_0x291a9e[_0x291c45(0x1b0)](_0x8d4d23=>{const _0x577751=_0x291c45,_0x412630=(_0x8d4d23[_0x577751(0x367)]||[])[_0x577751(0xc52)](_0x56938d=>_0x56938d['questionIndex']<=_0x519d56);let _0x544929=0x0,_0x11c7cf=0x0;return _0x48dae2?(_0x544929=_0x412630[_0x577751(0xc52)](_0x465d2c=>_0x465d2c[_0x577751(0x832)])[_0x577751(0x3d7)],_0x11c7cf=_0x412630['reduce']((_0x2ae009,_0x1a929e)=>_0x2ae009+(_0x1a929e[_0x577751(0xa62)]||0x0),0x0)):(_0x544929=_0x8d4d23[_0x577751(0xc8b)]||0x0,_0x11c7cf=_0x8d4d23[_0x577751(0x482)]||0x0),{..._0x8d4d23,'score':_0x544929,'totalPoints':_0x11c7cf,'answers':_0x8d4d23[_0x577751(0x367)]};});_0x3715d8[_0x291c45(0x5d4)]((_0x1bfd84,_0xb3fd5a)=>(_0xb3fd5a['totalPoints']||0x0)-(_0x1bfd84[_0x291c45(0x482)]||0x0));let _0xad9e69='';const _0x199253=_0x48dae2?_0x519d56>=_0x4c8069[_0x291c45(0x3d7)]-0x1:_0x33d188[_0x291c45(0x601)]>=_0x4c8069[_0x291c45(0x3d7)]-0x1;_0x199253?_0xad9e69=_0x291c45(0x8ec):_0xad9e69=_0x291c45(0xa6d);const _0xad93ab=_0x291c45(0x306)+_0x3715d8['map']((_0x53cea7,_0x3bdeb9)=>{const _0x2128cc=_0x291c45;let _0x17f2af=_0x2128cc(0x274);const _0x387c1f=(_0x53cea7['answers']||[])[_0x2128cc(0xa3d)](_0x3ec834=>_0x3ec834[_0x2128cc(0x907)]===_0x4b9185);if(_0x387c1f){const _0x284692=_0x387c1f[_0x2128cc(0x832)],_0x62d6ff=_0x387c1f[_0x2128cc(0xdd1)]===!![]||_0x387c1f[_0x2128cc(0xdd1)]===_0x2128cc(0x1e5),_0x57b10f=_0x387c1f['powerupUsed'];if(_0x57b10f===_0x2128cc(0x281))_0x284692?_0x17f2af=_0x2128cc(0xd85):_0x17f2af=_0x2128cc(0x5e7);else{if(_0x62d6ff)_0x284692?_0x17f2af='bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x17f2af=_0x2128cc(0x979);else _0x284692?_0x17f2af=_0x2128cc(0xb3d):_0x17f2af='bg-red-100\x20text-red-900';}}let _0xd4b75='';_0x387c1f&&_0x387c1f[_0x2128cc(0xb2b)]===_0x2128cc(0x281)&&!_0x387c1f[_0x2128cc(0x832)]&&(_0xd4b75='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-running\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>ตอบผิดในโหมดเดิมพัน!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>🏃\x20กระโดดตบ\x2010\x20ครั้ง!\x20🏃</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');const _0x5560c4=_0x53cea7[_0x2128cc(0x482)]>=0x0?'(+'+_0x53cea7['totalPoints']+')':'('+_0x53cea7['totalPoints']+')';return _0x2128cc(0xa37)+_0x17f2af+_0x2128cc(0xb42)+(_0x3bdeb9+0x1)+_0x2128cc(0xa5d)+_0x53cea7['name']+_0x2128cc(0xa9d)+_0x53cea7[_0x2128cc(0xc8b)]+'\x20คะแนน\x20'+_0x5560c4+_0x2128cc(0xd6d)+_0xd4b75+_0x2128cc(0xb01);})[_0x291c45(0x22e)]('')+_0x291c45(0x6b3)+_0xad9e69+_0x291c45(0xcfd);liveGameView['innerHTML']=_0xad93ab;}function renderStudentAnonymousResultsView(_0x5be4b2,_0x202f44){const _0x419e02=_0x13d91b;let _0x4f4696=[];_0x5be4b2[_0x419e02(0x9a5)]?_0x4f4696=_0x5be4b2[_0x419e02(0x9a5)]:_0x4f4696=Object[_0x419e02(0x3ff)](_0x5be4b2[_0x419e02(0x5cc)]||{});const _0x1673e3=_0x5be4b2['gameVariant']||_0x419e02(0x34a),_0x4292a5=_0x1673e3===_0x419e02(0x997)||_0x1673e3===_0x419e02(0x51b),_0x409e4f=_0x5be4b2[_0x419e02(0xcf9)]===!![],_0x660dfa=_0x5be4b2[_0x419e02(0x571)][_0x419e02(0x87f)],_0x4f3813=_0x4292a5&&_0x5be4b2[_0x419e02(0x475)]!==undefined?_0x5be4b2[_0x419e02(0x475)]:_0x202f44,_0x388b3b=_0x4f4696['map'](_0x12c57e=>{const _0x44009e=_0x419e02,_0x56bf56=(_0x12c57e[_0x44009e(0x367)]||[])[_0x44009e(0xc52)](_0xc5447a=>_0xc5447a['questionIndex']<=_0x4f3813);let _0x1795e7=0x0,_0x3a4652=0x0;return _0x4292a5?(_0x1795e7=_0x56bf56[_0x44009e(0xc52)](_0x4c1b9d=>_0x4c1b9d[_0x44009e(0x832)])[_0x44009e(0x3d7)],_0x3a4652=_0x56bf56[_0x44009e(0xba9)]((_0x18181a,_0x58c178)=>_0x18181a+(_0x58c178['pointsAwarded']||0x0),0x0)):(_0x1795e7=_0x12c57e[_0x44009e(0xc8b)]||0x0,_0x3a4652=_0x12c57e[_0x44009e(0x482)]||0x0),{..._0x12c57e,'realScore':_0x1795e7,'totalPoints':_0x3a4652,'answers':_0x56bf56};}),_0x3a7de3=_0x5be4b2[_0x419e02(0x9c6)]===!![],_0x5948b2=[..._0x388b3b][_0x419e02(0x5d4)]((_0x45cd15,_0x2b4d0a)=>{const _0x2b197e=_0x419e02;if(_0x3a7de3){const _0x14d93e=_0x2b4d0a['totalPoints']-_0x45cd15[_0x2b197e(0x482)];if(_0x14d93e!==0x0)return _0x14d93e;const _0x3f0db4=_0x2b4d0a[_0x2b197e(0xd39)]-_0x45cd15[_0x2b197e(0xd39)];if(_0x3f0db4!==0x0)return _0x3f0db4;return(_0x45cd15[_0x2b197e(0x34b)]||'')['localeCompare'](_0x2b4d0a[_0x2b197e(0x34b)]||'','th');}else{const _0xd81016=_0x2b4d0a[_0x2b197e(0x482)]-_0x45cd15[_0x2b197e(0x482)];if(_0xd81016!==0x0)return _0xd81016;const _0x41ded8=_0x2b4d0a['realScore']-_0x45cd15[_0x2b197e(0xd39)];if(_0x41ded8!==0x0)return _0x41ded8;return(_0x45cd15[_0x2b197e(0x34b)]||'')[_0x2b197e(0xa7d)](_0x2b4d0a[_0x2b197e(0x34b)]||'','th');}});let _0x2e455c=null;const _0x273c37=_0x388b3b[_0x419e02(0xc52)](_0x326383=>localTeamPlayers['includes'](_0x326383[_0x419e02(0x34b)]));_0x2e455c=_0x273c37['length']>0x0?_0x273c37[_0x419e02(0x5d4)]((_0x2590e1,_0x2c7512)=>_0x2c7512[_0x419e02(0x482)]-_0x2590e1[_0x419e02(0x482)])[0x0]:null;if(!_0x2e455c){liveGameView['innerHTML']='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>';return;}const _0x2016bb=_0x3a7de3?_0x2e455c[_0x419e02(0x482)]:_0x2e455c['totalPoints'],_0x576eac=_0x3a7de3?_0x2e455c[_0x419e02(0xd39)]:_0x2e455c[_0x419e02(0xd39)],_0x6cbbeb=_0x5948b2[0x0],_0x3fdbc9=_0x3a7de3?_0x6cbbeb['totalPoints']:_0x6cbbeb[_0x419e02(0x482)],_0x203164=_0x3a7de3?_0x6cbbeb[_0x419e02(0xd39)]:_0x6cbbeb[_0x419e02(0xd39)],_0x36556f=_0x2016bb===_0x3fdbc9&&_0x576eac===_0x203164&&(_0x5948b2[0x0]['realScore']>0x0||_0x5948b2[0x0][_0x419e02(0x482)]>0x0),_0x22e68a=_0x4f3813+0x1,_0xf7ec77=_0x388b3b[_0x419e02(0xc52)](_0x244828=>_0x244828[_0x419e02(0xd39)]===_0x22e68a&&(_0x244828[_0x419e02(0x367)]||[])[_0x419e02(0x3d7)]===_0x22e68a&&_0x22e68a>0x0),_0x246b6b=_0xf7ec77['length']>0x0?Math[_0x419e02(0x88a)](..._0xf7ec77['map'](_0x28a91b=>_0x28a91b[_0x419e02(0x482)])):-Infinity,_0xca8968=_0x5948b2['map']((_0x480917,_0x4c0d69)=>{const _0x26c50c=_0x419e02,_0x3e0165=_0x480917[_0x26c50c(0xd39)],_0xda82f5=_0x480917[_0x26c50c(0x482)],_0x2b6438=(_0x480917['answers']||[])['find'](_0x5bd76f=>_0x5bd76f[_0x26c50c(0x907)]===_0x4f3813);let _0x440fc3='';if(_0x2b6438){if(_0x2b6438['wasForced'])_0x440fc3+=_0x26c50c(0x92b);if(_0x2b6438[_0x26c50c(0x964)])_0x440fc3+='<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>';if(_0x2b6438[_0x26c50c(0x553)])_0x440fc3+=_0x26c50c(0x3f9);const _0x1fd714=_0x2b6438['powerupUsed'];if(_0x1fd714){const _0x51ec1d={'poll':'📊','cutOne':'✂️','insurance':_0x26c50c(0x37f),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳'};if(_0x51ec1d[_0x1fd714])_0x440fc3+=_0x26c50c(0x54e)+_0x51ec1d[_0x1fd714]+_0x26c50c(0xbc2);}}let _0x588c67='';if(_0x3a7de3){if(_0xda82f5===_0x246b6b&&_0x246b6b>0x0)_0x588c67+=_0x26c50c(0x44c);}else{const _0x265a75=_0x480917['realScore']===_0x22e68a&&_0x22e68a>0x0;if(_0x265a75)_0x588c67=_0x26c50c(0x232);}if(_0x588c67===''&&_0xda82f5<0x0)_0x588c67='<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>';let _0x28cdf9=_0x26c50c(0x4a4),_0x4021fb=![];const _0x4e5942=(_0x480917[_0x26c50c(0x367)]||[])[_0x26c50c(0xa3d)](_0x4e3cde=>_0x4e3cde[_0x26c50c(0x907)]===_0x4f3813);if(_0x4e5942){const _0x5afda0=_0x4e5942[_0x26c50c(0x832)],_0x515c06=_0x4e5942[_0x26c50c(0xdd1)]===!![]||_0x4e5942[_0x26c50c(0xdd1)]===_0x26c50c(0x1e5),_0x3a3ffe=_0x4e5942['powerupUsed'];if(_0x3a3ffe===_0x26c50c(0x281))_0x5afda0?(_0x28cdf9=_0x26c50c(0xd85),_0x4021fb=!![]):_0x28cdf9=_0x26c50c(0x5e7);else{if(_0x515c06)_0x28cdf9=_0x5afda0?'bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x26c50c(0x979);else _0x5afda0&&(_0x28cdf9=_0x26c50c(0xb3d));}}let _0x118238='';const _0x6a5f1d=_0x480917[_0x26c50c(0x34b)],_0x155487=_0x5be4b2[_0x26c50c(0xbc6)][_0x480917[_0x26c50c(0x34b)]]||_0x26c50c(0x4ed),_0x2077ef='line-height:\x201.3;\x20min-width:\x200;',_0x2d38ef=_0x26c50c(0x240),_0x566296=localTeamPlayers[_0x26c50c(0xb28)](_0x6a5f1d),_0x2e2d23=_0x3a7de3?_0x480917[_0x26c50c(0x482)]:_0x480917[_0x26c50c(0x482)],_0x26cb48=_0x4021fb?_0x26c50c(0xbf1):_0x26c50c(0xc14);if(_0x409e4f)_0x118238=_0x26c50c(0x61d)+_0x2077ef+_0x26c50c(0x15f)+_0x6a5f1d+'\x20('+_0x155487+_0x26c50c(0x67f)+_0x2d38ef+'\x22>'+_0x6a5f1d+_0x26c50c(0x48a)+_0x440fc3+'\x20'+_0x588c67+'<span\x20class=\x22block\x20text-sm\x20'+_0x26cb48+_0x26c50c(0xce4)+_0x2d38ef+'\x22>('+_0x155487+_0x26c50c(0x751);else{if(_0x566296)_0x36556f?_0x118238=_0x26c50c(0x61d)+_0x2077ef+_0x26c50c(0x15f)+_0x6a5f1d+'\x20('+_0x155487+_0x26c50c(0x67f)+_0x2d38ef+'\x22>'+_0x6a5f1d+_0x26c50c(0x48a)+_0x440fc3+'\x20'+_0x588c67+_0x26c50c(0x6e9)+_0x26cb48+_0x26c50c(0xce4)+_0x2d38ef+_0x26c50c(0xd5a)+_0x155487+')</span></div>':_0x118238=_0x26c50c(0x61d)+_0x2077ef+'\x22\x20title=\x22'+_0x155487+_0x26c50c(0x809)+_0x2d38ef+'\x22>'+_0x155487+_0x26c50c(0x48a)+_0x440fc3+'\x20'+_0x588c67+_0x26c50c(0xa4f),_0x118238=_0x26c50c(0x797)+_0x118238+_0x26c50c(0x4d2);else{const _0x591ac8=_0x2016bb>_0x2e2d23;_0x591ac8?_0x118238='<div\x20style=\x22'+_0x2077ef+_0x26c50c(0x15f)+_0x6a5f1d+'\x20('+_0x155487+_0x26c50c(0x67f)+_0x2d38ef+'\x22>'+_0x6a5f1d+_0x26c50c(0x48a)+_0x440fc3+'\x20'+_0x588c67+'<span\x20class=\x22block\x20text-sm\x20'+_0x26cb48+_0x26c50c(0xce4)+_0x2d38ef+'\x22>('+_0x155487+_0x26c50c(0x751):_0x118238=_0x26c50c(0x61d)+_0x2077ef+_0x26c50c(0x15f)+_0x155487+_0x26c50c(0x809)+_0x2d38ef+'\x22>'+_0x155487+_0x26c50c(0x48a)+_0x440fc3+'\x20'+_0x588c67+_0x26c50c(0xa4f);}}const _0xec52bf=_0xda82f5>=0x0?'(+'+_0xda82f5+')':'('+_0xda82f5+')',_0x2e4b0c='<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>'+_0x480917[_0x26c50c(0xd39)]+_0x26c50c(0x268)+_0xec52bf+_0x26c50c(0xbc2);return _0x26c50c(0xca6)+_0x28cdf9+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>'+(_0x4c0d69+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>'+_0x118238+_0x26c50c(0x35a)+_0x2e4b0c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('');let _0x52c43e='';const _0x52fc5d=_0x4292a5?_0x4f3813>=_0x660dfa['length']-0x1:_0x5be4b2[_0x419e02(0x601)]>=_0x660dfa[_0x419e02(0x3d7)]-0x1;_0x52fc5d?_0x52c43e=_0x419e02(0x8ec):_0x52c43e='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0xa2399a=_0x419e02(0x4b7)+_0xca8968+_0x419e02(0x9fa)+_0x52c43e+_0x419e02(0xaa5);liveGameView[_0x419e02(0xbc4)]=_0xa2399a;}function renderStudentCompetitionResultsView(_0xcd486c,_0x330411){const _0x3aab18=_0x13d91b,_0x326c71=Object[_0x3aab18(0x3ff)](_0xcd486c[_0x3aab18(0x5cc)]||{}),_0x47645c=_0x330411,_0xbdaf3=_0xcd486c[_0x3aab18(0x5c1)]||'classic',_0xcc729a=_0xcd486c[_0x3aab18(0x571)]['questions'],_0x237f0e=_0x326c71[_0x3aab18(0x1b0)](_0x4f10b9=>{const _0x28683d=_0x3aab18,_0x35e58f=_0x4f10b9['score']||0x0,_0x55e400=_0x4f10b9[_0x28683d(0x482)]||0x0,_0xdb6022=(_0x4f10b9[_0x28683d(0x367)]||[])[_0x28683d(0xc52)](_0x4fb5a1=>_0xbdaf3===_0x28683d(0x997)?_0x4fb5a1[_0x28683d(0x907)]<=_0x47645c:!![]);return{..._0x4f10b9,'realScore':_0x35e58f,'totalPoints':_0x55e400,'answers':_0xdb6022};}),_0x21d752=_0xcd486c[_0x3aab18(0x9c6)]===!![],_0x18059f=[..._0x237f0e][_0x3aab18(0x5d4)]((_0x197c7e,_0x2164e3)=>{const _0x5a6259=_0x3aab18;if(_0x21d752){const _0x1369ef=_0x2164e3[_0x5a6259(0xd39)]-_0x197c7e[_0x5a6259(0xd39)];if(_0x1369ef!==0x0)return _0x1369ef;const _0x726602=_0x2164e3[_0x5a6259(0x482)]-_0x197c7e[_0x5a6259(0x482)];if(_0x726602!==0x0)return _0x726602;return(_0x197c7e[_0x5a6259(0x34b)]||'')[_0x5a6259(0xa7d)](_0x2164e3[_0x5a6259(0x34b)]||'','th');}else{const _0x2e6c82=_0x2164e3[_0x5a6259(0x482)]-_0x197c7e['totalPoints'];if(_0x2e6c82!==0x0)return _0x2e6c82;const _0x4d9786=_0x2164e3[_0x5a6259(0xd39)]-_0x197c7e[_0x5a6259(0xd39)];if(_0x4d9786!==0x0)return _0x4d9786;return(_0x197c7e[_0x5a6259(0x34b)]||'')[_0x5a6259(0xa7d)](_0x2164e3[_0x5a6259(0x34b)]||'','th');}}),_0x401e5f=_0x18059f[_0x3aab18(0x1b0)]((_0xfbf4a1,_0x4420fa)=>{const _0x1a2c43=_0x3aab18,_0x5bd5c1='';let _0x14df6c='bg-black/20';const _0x5e59f0=_0xfbf4a1[_0x1a2c43(0x34b)],_0x49e089=_0x1a2c43(0x3ec),_0x2a8148=_0x1a2c43(0x240),_0x4a5283='<div\x20style=\x22'+_0x49e089+_0x1a2c43(0x15f)+_0x5e59f0+_0x1a2c43(0x809)+_0x2a8148+'\x22>'+_0x5e59f0+_0x1a2c43(0xbc2)+_0x5bd5c1+_0x1a2c43(0xa4f),_0x3081f3='';return _0x1a2c43(0xca6)+_0x14df6c+_0x1a2c43(0x3c2)+(_0x4420fa+0x1)+_0x1a2c43(0xc93)+_0x4a5283+_0x1a2c43(0x35a)+_0x3081f3+_0x1a2c43(0x568);})['join']('');let _0x34c194='';const _0x1d31d=_0xbdaf3===_0x3aab18(0x997)?_0xcd486c[_0x3aab18(0x475)]>=_0xcc729a['length']-0x1:_0xcd486c['currentQuestionIndex']>=_0xcc729a[_0x3aab18(0x3d7)]-0x1;_0x1d31d?_0x34c194='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x34c194=_0x3aab18(0xa6d);const _0x4f3529=_0x3aab18(0x1a4)+_0x401e5f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x34c194+_0x3aab18(0xaa5);liveGameView[_0x3aab18(0xbc4)]=_0x4f3529;}function renderStudentSyncQuestionView(_0x3cd5a4){const _0x25bc8f=_0x13d91b,_0x285de2=localTeamPlayers[_0x25bc8f(0xa3d)](_0x38ee72=>_0x3cd5a4[_0x25bc8f(0x5cc)][_0x38ee72]&&_0x3cd5a4[_0x25bc8f(0x5cc)][_0x38ee72][_0x25bc8f(0xdc3)]===![]);if(!_0x285de2){console[_0x25bc8f(0xcf6)](_0x25bc8f(0xa0f));return;}const _0x2ee1ae=_0x3cd5a4[_0x25bc8f(0x5cc)][_0x285de2],_0x54436e=_0x2ee1ae[_0x25bc8f(0x482)]||0x0,_0x36c463=_0x2ee1ae['powerups']||{},_0x5903e6=_0x3cd5a4['gameVariant']||_0x25bc8f(0x34a),_0x798356=[_0x25bc8f(0x997),_0x25bc8f(0x51b),_0x25bc8f(0x4e5)][_0x25bc8f(0xb28)](_0x5903e6),_0x2fbab2=_0x3cd5a4[_0x25bc8f(0x601)],_0x1f4748=_0x3cd5a4[_0x25bc8f(0x571)][_0x25bc8f(0x87f)]['length'],_0x8f54ab=_0x3cd5a4[_0x25bc8f(0x571)][_0x25bc8f(0x87f)][_0x2fbab2],_0x4bce8a=_0x8f54ab[_0x25bc8f(0xa1a)]||_0x3cd5a4[_0x25bc8f(0x571)][_0x25bc8f(0x9b1)];let _0x502617='',_0x2c46e2=![];const _0x9bd692=_0x25bc8f(0x71a)+_0x2fbab2+'_p'+_0x285de2,_0x2bc321=JSON[_0x25bc8f(0x97f)](sessionStorage[_0x25bc8f(0x113)](_0x9bd692)||'[]')['map'](String),_0x1a3e53=_0x25bc8f(0x5a7)+_0x2fbab2+'_p'+_0x285de2,_0x1882e4=sessionStorage[_0x25bc8f(0x113)](_0x1a3e53);switch(_0x4bce8a){case _0x25bc8f(0x54f):const _0x57de98=_0x2bc321['includes']('0')?'':_0x25bc8f(0xe21),_0x31f13b=_0x2bc321[_0x25bc8f(0xb28)]('1')?'':'<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>';_0x502617=_0x57de98+_0x31f13b;break;case _0x25bc8f(0x21b):case _0x25bc8f(0x549):_0x2c46e2=!![],_0x502617=_0x25bc8f(0x73a);break;case'matching_item':_0x2c46e2=!![],_0x502617='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x8f54ab[_0x25bc8f(0x47b)]||[])['map'](_0x35e6c5=>_0x25bc8f(0x733)+_0x35e6c5+'\x22>'+_0x35e6c5+_0x25bc8f(0xb4f))[_0x25bc8f(0x22e)]('')+_0x25bc8f(0x40d);break;case _0x25bc8f(0x3e2):default:_0x502617=(_0x8f54ab['options']||[])[_0x25bc8f(0x1b0)]((_0x2f3876,_0x6c292a)=>{const _0x5f2801=_0x25bc8f;if(_0x2bc321[_0x5f2801(0xb28)](_0x6c292a[_0x5f2801(0xda1)]()))return'';return _0x5f2801(0x22d)+_0x6c292a+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>'+_0x2f3876+_0x5f2801(0x38f);})[_0x25bc8f(0x22e)]('');break;}let _0x4ccf97='';_0x3cd5a4['timerMode']==='per_question'&&(_0x4ccf97=_0x25bc8f(0x95c)+_0x3cd5a4[_0x25bc8f(0x31a)]+_0x25bc8f(0xc54));let _0x4f73e2='';if(_0x3cd5a4[_0x25bc8f(0x9c6)]===!![]){if(_0x798356)!_0x1882e4&&(_0x4f73e2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x20my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20py-3\x20px-6\x20rounded-full\x20font-bold\x20shadow-lg\x20border-4\x20border-white/20\x20active:scale-95\x20transition-all\x20flex\x20flex-col\x20items-center\x20gap-1\x20animate-pulse\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20<span>เดิมพันหมดหน้าตัก!\x20(วัดดวง)</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[10px]\x20opacity-90\x20font-normal\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-xs\x20text-indigo-300\x20mb-2\x22>(คุณไม่รู้แต้มตัวเอง)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');else{const _0x220609=[_0x36c463['buyTime']>0x0?_0x25bc8f(0x6e1)+_0x36c463[_0x25bc8f(0x325)]+_0x25bc8f(0x200):'',_0x36c463[_0x25bc8f(0x250)]>0x0?_0x25bc8f(0xd60)+_0x36c463[_0x25bc8f(0x250)]+')</button>':'',_0x36c463[_0x25bc8f(0x386)]>0x0?_0x25bc8f(0x678)+_0x36c463['insurance']+')</button>':'',_0x36c463[_0x25bc8f(0x873)]>0x0?_0x25bc8f(0x76b)+_0x36c463[_0x25bc8f(0x873)]+')</button>':'',_0x36c463['secondChance']>0x0?'<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20('+_0x36c463['secondChance']+_0x25bc8f(0x200):'']['filter'](Boolean)['join']('\x20');let _0x41b73a=_0x25bc8f(0x88c)+_0x54436e+'\x20P)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';!_0x1882e4&&(_0x41b73a+=_0x25bc8f(0x175)),_0x4f73e2=_0x25bc8f(0xb5e)+_0x41b73a+_0x25bc8f(0x53a)+(_0x220609||'')+_0x25bc8f(0xb44);}}let _0x3e67be='';_0x2ee1ae[_0x25bc8f(0x288)]===!![]&&(_0x3e67be+=_0x25bc8f(0x4ba));_0x2ee1ae[_0x25bc8f(0x61f)]===!![]&&(_0x3e67be+=_0x25bc8f(0x20a));if(_0x1882e4)switch(_0x1882e4){case _0x25bc8f(0x281):const _0xa9e205=_0x798356?_0x25bc8f(0x6b5):_0x25bc8f(0x540);_0x3e67be+=_0x25bc8f(0x422)+_0xa9e205+_0x25bc8f(0xade);break;case _0x25bc8f(0x386):_0x3e67be+=_0x25bc8f(0xd57);break;case _0x25bc8f(0x1c4):_0x3e67be+=_0x25bc8f(0x545);break;case _0x25bc8f(0x250):_0x3e67be+=_0x25bc8f(0xdfe);break;case'fiftyFifty':_0x3e67be+=_0x25bc8f(0x60d);break;}(_0x2ee1ae['timeBonusThisQuestion']||0x0)>0x0&&(_0x3e67be+=_0x25bc8f(0xc6d));liveGameView[_0x25bc8f(0xbc4)]=_0x25bc8f(0x347)+(_0x2fbab2+0x1)+_0x25bc8f(0x62d)+_0x1f4748+_0x25bc8f(0x235)+_0x285de2+_0x25bc8f(0x9d4)+_0x4ccf97+_0x25bc8f(0x99f)+_0x4f73e2+_0x25bc8f(0x679)+_0x3e67be+_0x25bc8f(0x16f)+(_0x8f54ab['questionText']||_0x8f54ab['stem'])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x502617+_0x25bc8f(0x52d);if(window['MathJax'])MathJax[_0x25bc8f(0x1cd)]();function _0x523d5c(_0x309c53,_0x2f8b23,_0xd5489a,_0xe507e3){const _0x2ce5ad=_0x25bc8f,_0x38bedf=_0xd5489a[_0x2ce5ad(0xde5)]===!![],_0x42bbc6=_0xd5489a[_0x2ce5ad(0x601)],_0x551be6=_0x2ce5ad(0x5a7)+_0x42bbc6+'_p'+_0xe507e3,_0x23bddf=sessionStorage['getItem'](_0x551be6),_0x53c598=_0x23bddf==='wagerMultiplier',_0x83651e=_0xd5489a['players'][_0xe507e3];if(_0x53c598){const _0x544765=sessionStorage[_0x2ce5ad(0x113)]('instantWager')===_0x2ce5ad(0x539);if(_0x798356||_0x544765){const _0x4ccec0=_0x83651e[_0x2ce5ad(0x482)]||0x0;sessionStorage[_0x2ce5ad(0x6dd)](_0x2ce5ad(0x207)),handleSyncAnswerSubmit(_0x309c53,_0x2f8b23,_0xd5489a,_0xe507e3,![],_0x4ccec0);}else{const _0x534c32=document[_0x2ce5ad(0x916)](_0x2ce5ad(0x1ef)),_0x575ba0=document[_0x2ce5ad(0x916)]('wager-slider'),_0x462b08=document[_0x2ce5ad(0x916)](_0x2ce5ad(0x86e)),_0x2a05e1=document[_0x2ce5ad(0x916)](_0x2ce5ad(0x394)),_0x14b85e=_0x83651e[_0x2ce5ad(0x482)]||0x0;_0x575ba0['max']=_0x14b85e,_0x575ba0[_0x2ce5ad(0x93c)]=_0x14b85e,_0x462b08[_0x2ce5ad(0xd9d)]=_0x14b85e,_0x2a05e1['textContent']=_0x14b85e,_0x575ba0['oninput']=()=>{const _0x47c684=_0x2ce5ad;_0x462b08[_0x47c684(0xd9d)]=_0x575ba0[_0x47c684(0x93c)];};const _0x5d33fc=document[_0x2ce5ad(0x916)](_0x2ce5ad(0x91b));_0x5d33fc[_0x2ce5ad(0xcba)]['answerValue']=_0x309c53,_0x5d33fc['dataset'][_0x2ce5ad(0x512)]=JSON[_0x2ce5ad(0x163)](_0x2f8b23),_0x5d33fc[_0x2ce5ad(0xcba)][_0x2ce5ad(0x4c6)]=JSON['stringify'](_0xd5489a),_0x5d33fc[_0x2ce5ad(0xcba)][_0x2ce5ad(0x7c7)]=_0xe507e3,_0x534c32[_0x2ce5ad(0x734)]['remove']('hidden');}}else{if(_0x38bedf){document[_0x2ce5ad(0x916)](_0x2ce5ad(0x6e4))[_0x2ce5ad(0xcba)][_0x2ce5ad(0x59e)]='sync';const _0x3ecb5a=document['getElementById'](_0x2ce5ad(0x563));_0x3ecb5a[_0x2ce5ad(0xcba)][_0x2ce5ad(0x802)]=_0x309c53,_0x3ecb5a[_0x2ce5ad(0xcba)][_0x2ce5ad(0x512)]=JSON[_0x2ce5ad(0x163)](_0x2f8b23),_0x3ecb5a[_0x2ce5ad(0xcba)]['gameData']=JSON[_0x2ce5ad(0x163)](_0xd5489a),_0x3ecb5a['dataset'][_0x2ce5ad(0x7c7)]=_0xe507e3,document[_0x2ce5ad(0x916)](_0x2ce5ad(0x6e4))[_0x2ce5ad(0x734)]['remove'](_0x2ce5ad(0x4ad));}else handleSyncAnswerSubmit(_0x309c53,_0x2f8b23,_0xd5489a,_0xe507e3,![],0x0);}}_0x2c46e2?document[_0x25bc8f(0x916)](_0x25bc8f(0x5dd))['addEventListener'](_0x25bc8f(0xab7),()=>{const _0x4fd6e5=_0x25bc8f,_0xc397db=document[_0x4fd6e5(0x916)](_0x4fd6e5(0x2f3))||document['getElementById'](_0x4fd6e5(0x44e));if(_0xc397db[_0x4fd6e5(0x93c)][_0x4fd6e5(0x1a0)]()===''){showMessage('กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ');return;}_0x523d5c(_0xc397db[_0x4fd6e5(0x93c)],_0x8f54ab,_0x3cd5a4,_0x285de2);}):document[_0x25bc8f(0x77f)](_0x25bc8f(0x222))[_0x25bc8f(0x5c9)](_0x241fe0=>{const _0x556c6e=_0x25bc8f;_0x241fe0[_0x556c6e(0xc2d)]('click',()=>{const _0x3c0585=_0x556c6e;_0x523d5c(_0x241fe0[_0x3c0585(0xcba)][_0x3c0585(0x93c)],_0x8f54ab,_0x3cd5a4,_0x285de2);});});if(_0x3cd5a4[_0x25bc8f(0x9c6)]===!![]){if(!_0x798356){const _0x5daf9c=document['getElementById'](_0x25bc8f(0x83a));_0x5daf9c&&_0x5daf9c[_0x25bc8f(0xc2d)](_0x25bc8f(0xab7),()=>{const _0x11eeb1=_0x25bc8f,_0x4af253=_0x3cd5a4[_0x11eeb1(0x601)],_0x57caff=_0x285de2,_0x5a71d7=_0x11eeb1(0xd13)+_0x4af253+'_p'+_0x57caff,_0x426249=sessionStorage[_0x11eeb1(0x113)](_0x5a71d7)===_0x11eeb1(0x539);if(!_0x426249)openBlackMarket(_0x3cd5a4,_0x2ee1ae),sessionStorage['setItem'](_0x5a71d7,'true');else{if(_0x2ee1ae[_0x11eeb1(0x482)]<0x1){showMessage('คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)\x20เพื่อเข้าตลาดมืดอีกครั้ง');return;}showConfirmation(_0x11eeb1(0x2d0),()=>{handlePayForMarketEntry(_0x285de2,_0x3cd5a4,_0x2ee1ae);});}}),document[_0x25bc8f(0x916)](_0x25bc8f(0x317))?.[_0x25bc8f(0xc2d)](_0x25bc8f(0xab7),_0x1585af=>{const _0x34f6f1=_0x25bc8f;_0x1585af[_0x34f6f1(0x3fe)][_0x34f6f1(0x426)]=!![],handleUsePowerup(_0x285de2,_0x34f6f1(0x325),_0x8f54ab,_0x3cd5a4,_0x2ee1ae);}),document[_0x25bc8f(0x916)](_0x25bc8f(0x97d))?.[_0x25bc8f(0xc2d)](_0x25bc8f(0xab7),_0x5e57e4=>{const _0x524604=_0x25bc8f;_0x5e57e4[_0x524604(0x3fe)]['disabled']=!![],handleUsePowerup(_0x285de2,'cutOne',_0x8f54ab,_0x3cd5a4,_0x2ee1ae);}),document[_0x25bc8f(0x916)](_0x25bc8f(0x460))?.[_0x25bc8f(0xc2d)](_0x25bc8f(0xab7),_0x606449=>{_0x606449['target']['disabled']=!![],handleUsePowerup(_0x285de2,'insurance',_0x8f54ab,_0x3cd5a4,_0x2ee1ae);}),document[_0x25bc8f(0x916)](_0x25bc8f(0xaa6))?.[_0x25bc8f(0xc2d)]('click',_0x2c48f1=>{const _0x21c4c5=_0x25bc8f;_0x2c48f1['target'][_0x21c4c5(0x426)]=!![],handleUsePowerup(_0x285de2,'fiftyFifty',_0x8f54ab,_0x3cd5a4,_0x2ee1ae);}),document['getElementById'](_0x25bc8f(0x55c))?.[_0x25bc8f(0xc2d)](_0x25bc8f(0xab7),_0x52719e=>{const _0x2ac248=_0x25bc8f;_0x52719e[_0x2ac248(0x3fe)][_0x2ac248(0x426)]=!![],handleUsePowerup(_0x285de2,_0x2ac248(0x1c4),_0x8f54ab,_0x3cd5a4,_0x2ee1ae);}),document[_0x25bc8f(0x916)](_0x25bc8f(0xb53))?.[_0x25bc8f(0xc2d)](_0x25bc8f(0xab7),_0x1d8d84=>{const _0x17b770=_0x25bc8f;_0x1d8d84['target'][_0x17b770(0x426)]=!![],sessionStorage['setItem']('instantWager','false'),handleUsePowerup(_0x285de2,_0x17b770(0x281),_0x8f54ab,_0x3cd5a4,_0x2ee1ae);});}document[_0x25bc8f(0x916)]('use-powerup-wagerMultiplier-instant')?.[_0x25bc8f(0xc2d)](_0x25bc8f(0xab7),_0xa82824=>{const _0x56f389=_0x25bc8f;_0xa82824['target'][_0x56f389(0x426)]=!![],sessionStorage[_0x56f389(0xd51)](_0x56f389(0x207),_0x56f389(0x539)),handleUsePowerup(_0x285de2,_0x56f389(0x281),_0x8f54ab,_0x3cd5a4,_0x2ee1ae);});}}async function handleSyncAnswerSubmit(_0x3d5460,_0x39d62f,_0x3aca89,_0x18242d,_0x1018b8,_0x46520a=0x0){const _0x14d3cb=_0x13d91b;document['querySelectorAll'](_0x14d3cb(0x286))[_0x14d3cb(0x5c9)](_0x793980=>_0x793980['disabled']=!![]);const _0x3229fd=_0x3aca89['currentQuestionIndex'],_0x3e0a52=_0x14d3cb(0x5a7)+_0x3229fd+'_p'+_0x18242d,_0x1b3054=sessionStorage['getItem'](_0x3e0a52),_0x21064f=_0x3aca89[_0x14d3cb(0x5cc)][_0x18242d]||{},_0x180c08=_0x21064f[_0x14d3cb(0x61f)]===!![],_0x2e539c=sessionStorage[_0x14d3cb(0x113)]('onSecondChance')==='true',_0x3415eb=_0x39d62f[_0x14d3cb(0xa1a)]||_0x3aca89[_0x14d3cb(0x571)]['quizType'];let _0x3be829=![],_0x1c62c5=_0x3d5460;switch(_0x3415eb){case _0x14d3cb(0x54f):const _0x42397c=parseInt(_0x3d5460),_0x2550fd=_0x39d62f['correctAnswer']===!![]||String(_0x39d62f[_0x14d3cb(0xcdb)])[_0x14d3cb(0x3c8)]()===_0x14d3cb(0x539);_0x3be829=_0x42397c===0x0&&_0x2550fd||_0x42397c===0x1&&!_0x2550fd,_0x1c62c5=_0x42397c===0x0?_0x14d3cb(0x74c):_0x14d3cb(0x612);break;case _0x14d3cb(0x21b):case'fill_in_no_choices':_0x3be829=await gradeShortAnswer(_0x3d5460,_0x39d62f);break;case _0x14d3cb(0x416):_0x3be829=_0x3d5460===_0x39d62f['correctResponse'];break;case _0x14d3cb(0x3e2):default:const _0x2be7fb=parseInt(_0x3d5460);_0x3be829=_0x2be7fb===_0x39d62f[_0x14d3cb(0xae6)];_0x39d62f[_0x14d3cb(0x238)]&&_0x39d62f['options'][_0x2be7fb]&&(_0x1c62c5=_0x39d62f[_0x14d3cb(0x238)][_0x2be7fb]);break;}if(!_0x3be829&&_0x1b3054===_0x14d3cb(0x1c4)&&!_0x2e539c){sessionStorage['removeItem'](_0x3e0a52),sessionStorage['setItem'](_0x14d3cb(0x795),_0x14d3cb(0x539)),showMessage(_0x14d3cb(0x50d)),document[_0x14d3cb(0x77f)](_0x14d3cb(0x286))['forEach'](_0x2729a9=>{const _0x30aaea=_0x14d3cb;if(!_0x2729a9['classList'][_0x30aaea(0x8ae)]('hidden'))_0x2729a9[_0x30aaea(0x426)]=![];});return;}let _0x31bec4=0x0;const _0x244178=_0x1b3054===_0x14d3cb(0x281),_0x322005=_0x1b3054===_0x14d3cb(0x386),_0x2f18f0=sessionStorage[_0x14d3cb(0x113)](_0x14d3cb(0x89b))===_0x14d3cb(0x539),_0x34d337=_0x21064f[_0x14d3cb(0x288)]===!![];if(_0x244178){const _0x424667=parseInt(_0x46520a,0xa)||0x0;_0x31bec4=_0x3be829?_0x424667*0x2:-_0x424667;}else{if(_0x2f18f0&&!_0x3be829)_0x31bec4=_0x1018b8===!![]||_0x1018b8===_0x14d3cb(0x1e5)||_0x180c08?-0x4:-0x2;else{if(_0x180c08)_0x31bec4=_0x3be829?0x2:-0x1;else{if(_0x3aca89[_0x14d3cb(0xde5)]){if(_0x3be829&&(_0x1018b8===!![]||_0x1018b8===_0x14d3cb(0x1e5)))_0x31bec4=0x2;else{if(_0x3be829)_0x31bec4=0x1;else{if(!_0x3be829&&(_0x1018b8===![]||_0x1018b8==='not_confident'||_0x1018b8===null))_0x31bec4=0x0;else{if(!_0x3be829&&(_0x1018b8===!![]||_0x1018b8===_0x14d3cb(0x1e5)))_0x31bec4=-0x1;}}}}else _0x31bec4=_0x3be829?0x1:0x0;}}}if(_0x34d337&&!_0x3be829&&_0x31bec4<0x0)_0x31bec4*=0x2;if(!_0x3be829&&_0x322005)_0x31bec4=0x0;const _0x5165ad=(_0x21064f[_0x14d3cb(0xd0b)]||0x0)>0x0,_0x730cbe={'questionIndex':_0x3aca89[_0x14d3cb(0x601)],'questionId':_0x39d62f['id'],'answer':_0x3d5460,'answerText':_0x1c62c5,'isCorrect':_0x3be829,'originalQuestionText':_0x39d62f[_0x14d3cb(0xa35)]||_0x39d62f['stem'],'wasConfident':_0x180c08?'confident':_0x1018b8||![],'pointsAwarded':_0x31bec4,'powerupUsed':_0x1b3054||null,'wasJinxed':_0x34d337||![],'wasForced':_0x180c08||![],'usedPoll':_0x2f18f0||![],'usedBuyTime':_0x5165ad},_0x583643=doc(db,_0x14d3cb(0x54a)+appId+_0x14d3cb(0x259)+currentLiveGameId+_0x14d3cb(0xc58),_0x18242d),_0x17b254=_0x21064f[_0x14d3cb(0x367)]||[],_0x464ee7=_0x17b254['filter'](_0x3a8d53=>_0x3a8d53[_0x14d3cb(0x907)]!==_0x3aca89[_0x14d3cb(0x601)]),_0x5b4791=[..._0x464ee7,_0x730cbe],_0x9d0e60=_0x5b4791['filter'](_0x4f74cb=>_0x4f74cb[_0x14d3cb(0x832)])[_0x14d3cb(0x3d7)],_0x425b12={'answers':_0x5b4791,'score':_0x9d0e60,'totalPoints':increment(_0x31bec4),'answered':!![],'lastAnswerIndex':_0x3415eb==='multiple_choice'||_0x3415eb===_0x14d3cb(0x54f)||_0x3415eb===_0x14d3cb(0x362)?parseInt(_0x3d5460):null,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};if(_0x2e539c)sessionStorage[_0x14d3cb(0x6dd)](_0x14d3cb(0x795));try{await updateDoc(_0x583643,_0x425b12);}catch(_0x4bab8b){console[_0x14d3cb(0x689)](_0x14d3cb(0x85a),_0x4bab8b),showMessage(_0x14d3cb(0xd2c)),document[_0x14d3cb(0x77f)](_0x14d3cb(0x286))[_0x14d3cb(0x5c9)](_0xbe059=>_0xbe059['disabled']=![]);}}const allMarketItems=[{'id':_0x13d91b(0x325),'name':_0x13d91b(0x5b6),'price':0x1,'desc':_0x13d91b(0x6c9)},{'id':_0x13d91b(0x250),'name':'✂️\x20ตัด\x201\x20ตัวเลือก','price':0x2,'desc':_0x13d91b(0xa61)},{'id':_0x13d91b(0x873),'name':_0x13d91b(0xae8),'price':0x5,'desc':'ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)'},{'id':_0x13d91b(0x1c4),'name':'🔁\x20โอกาสครั้งที่สอง','price':0x7,'desc':'ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง'}];function openBlackMarket(_0x6fa20,_0x2bd7bf){const _0x43a3e0=_0x13d91b;let _0x5aa67b=null;const _0x1e74ac=document[_0x43a3e0(0x916)](_0x43a3e0(0x458)),_0x1cce8d=document[_0x43a3e0(0x916)](_0x43a3e0(0xa1f)),_0x49bd95=document[_0x43a3e0(0x916)](_0x43a3e0(0x9c3)),_0xa080b8=document[_0x43a3e0(0x916)](_0x43a3e0(0xb48)),_0x4ebfa3=_0x2bd7bf[_0x43a3e0(0x482)]||0x0;_0x49bd95[_0x43a3e0(0xd9d)]=_0x4ebfa3;const _0x379861=allMarketItems;_0x1cce8d[_0x43a3e0(0xbc4)]=_0x379861[_0x43a3e0(0x1b0)](_0x496532=>{const _0x1a8ae4=_0x43a3e0,_0xddf9b4=_0x4ebfa3>=_0x496532[_0x1a8ae4(0x65d)];if(_0x496532['id']==='buyTime'){const _0x56663c=_0xddf9b4?Math[_0x1a8ae4(0x8e9)](_0x4ebfa3/_0x496532[_0x1a8ae4(0x65d)]):0x0,_0x5f0b20=_0x4ebfa3>=_0x496532[_0x1a8ae4(0x65d)];return _0x1a8ae4(0x9b4)+(!_0x5f0b20?_0x1a8ae4(0xe26):_0x1a8ae4(0x1cf))+_0x1a8ae4(0x4e9)+_0x496532[_0x1a8ae4(0x34b)]+_0x1a8ae4(0x37d)+_0x496532[_0x1a8ae4(0xd27)]+_0x1a8ae4(0x284)+_0x56663c+'\x22\x20'+(!_0x5f0b20?_0x1a8ae4(0x426):'')+_0x1a8ae4(0x255)+(_0x5f0b20?_0x1a8ae4(0x837):_0x1a8ae4(0x35e))+_0x1a8ae4(0x132)+_0x496532['id']+_0x1a8ae4(0x9e7)+_0x496532[_0x1a8ae4(0x65d)]+_0x1a8ae4(0x709)+(!_0x5f0b20?'disabled':'')+_0x1a8ae4(0x39f)+_0x496532[_0x1a8ae4(0x65d)]+_0x1a8ae4(0xc79);}else{const _0x2d21e4=!_0xddf9b4?_0x1a8ae4(0x426):'',_0xb1dc5a=_0xddf9b4?_0x1a8ae4(0x837):_0x1a8ae4(0x35e);return _0x1a8ae4(0x9b4)+(!_0xddf9b4?'bg-gray-100\x20opacity-70':_0x1a8ae4(0x1cf))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>'+_0x496532['name']+_0x1a8ae4(0x37d)+_0x496532[_0x1a8ae4(0xd27)]+_0x1a8ae4(0x39c)+_0xb1dc5a+_0x1a8ae4(0xdf6)+_0x496532['id']+_0x1a8ae4(0x726)+_0x496532[_0x1a8ae4(0x65d)]+_0x1a8ae4(0x11c)+_0x2d21e4+_0x1a8ae4(0xa31)+_0x496532['price']+_0x1a8ae4(0xdea);}})[_0x43a3e0(0x22e)](''),_0x1e74ac[_0x43a3e0(0x734)]['remove'](_0x43a3e0(0x4ad)),_0xa080b8['style'][_0x43a3e0(0x447)]=_0x43a3e0(0x118),_0xa080b8[_0x43a3e0(0x3bb)][_0x43a3e0(0xcc2)]=_0x43a3e0(0x2af),setTimeout(()=>{const _0x12c674=_0x43a3e0;_0xa080b8[_0x12c674(0x3bb)][_0x12c674(0x447)]=_0x12c674(0x794),_0xa080b8[_0x12c674(0x3bb)][_0x12c674(0xcc2)]='0%';},0x32),_0x5aa67b=setTimeout(()=>{const _0x477a9a=_0x43a3e0;_0x1e74ac[_0x477a9a(0x734)][_0x477a9a(0x459)]('hidden');},0xea60),document[_0x43a3e0(0x916)]('close-market-btn')['onclick']=()=>{const _0x61a74f=_0x43a3e0;clearTimeout(_0x5aa67b),_0x1e74ac[_0x61a74f(0x734)][_0x61a74f(0x459)](_0x61a74f(0x4ad));},_0x1cce8d[_0x43a3e0(0x77f)](_0x43a3e0(0x666))[_0x43a3e0(0x5c9)](_0x1b0bfc=>{const _0x1755d7=_0x43a3e0;_0x1b0bfc[_0x1755d7(0xc55)]=_0xcfd43c=>{const _0x1e7a9b=_0x1755d7,_0x23f7a8=_0xcfd43c[_0x1e7a9b(0x3fe)]['dataset']['itemId'],_0x5e4e8f=parseInt(_0xcfd43c[_0x1e7a9b(0x3fe)][_0x1e7a9b(0xcba)][_0x1e7a9b(0x65d)],0xa);clearTimeout(_0x5aa67b),_0x1e74ac[_0x1e7a9b(0x734)][_0x1e7a9b(0x459)](_0x1e7a9b(0x4ad)),handleBuyItem(_0x2bd7bf[_0x1e7a9b(0x34b)],_0x23f7a8,_0x5e4e8f,0x1);};}),_0x1cce8d[_0x43a3e0(0x77f)](_0x43a3e0(0x722))['forEach'](_0x4389bd=>{const _0x18b09e=_0x43a3e0;_0x4389bd[_0x18b09e(0xc55)]=_0x480a5e=>{const _0x211387=_0x18b09e,_0x56af04=_0x480a5e[_0x211387(0x3fe)][_0x211387(0xcba)][_0x211387(0xadd)],_0xe50ba5=parseInt(_0x480a5e[_0x211387(0x3fe)][_0x211387(0xcba)][_0x211387(0x65d)],0xa),_0x4f6527=document[_0x211387(0x916)](_0x211387(0xc13)),_0x3dd2a6=parseInt(_0x4f6527[_0x211387(0x93c)],0xa),_0x4fab96=parseInt(_0x4f6527[_0x211387(0x88a)],0xa);if(!_0x3dd2a6||_0x3dd2a6<0x1){showMessage(_0x211387(0x1e1));return;}if(_0x3dd2a6>_0x4fab96){showMessage(_0x211387(0xd1d)+_0x4fab96+_0x211387(0xce9));return;}clearTimeout(_0x5aa67b),_0x1e74ac[_0x211387(0x734)][_0x211387(0x459)](_0x211387(0x4ad)),handleBuyItem(_0x2bd7bf['name'],_0x56af04,_0xe50ba5,_0x3dd2a6);};});}async function handleBuyItem(_0x18185b,_0x5318f3,_0x219f94,_0x1d4a62=0x1){const _0x877112=_0x13d91b,_0x212569=doc(db,_0x877112(0x54a)+appId+_0x877112(0x259)+currentLiveGameId+_0x877112(0xc58),_0x18185b);try{await runTransaction(db,async _0x3e31fa=>{const _0x57e0bc=_0x877112,_0x4e26f9=await _0x3e31fa[_0x57e0bc(0x67e)](_0x212569);if(!_0x4e26f9['exists']())throw _0x57e0bc(0x176);const _0x26943f=_0x4e26f9['data']()[_0x57e0bc(0x482)]||0x0,_0x191d90=_0x219f94*_0x1d4a62;if(_0x26943f<_0x191d90)throw'มี\x20Points\x20ไม่เพียงพอ';const _0x260d7a={};_0x260d7a[_0x57e0bc(0x482)]=increment(-_0x191d90),_0x260d7a[_0x57e0bc(0x9ef)+_0x5318f3]=increment(_0x1d4a62),_0x3e31fa['update'](_0x212569,_0x260d7a);}),showMessage(_0x877112(0x6c0)+_0x5318f3+_0x877112(0x55b)+_0x1d4a62+_0x877112(0x592));}catch(_0x1712f6){console['error'](_0x877112(0x17f),_0x1712f6),showMessage(typeof _0x1712f6==='string'?_0x1712f6:_0x877112(0x22a));}}async function handlePayForMarketEntry(_0x2d4a55,_0xeb5459,_0x20881f){const _0x5dbbfa=_0x13d91b,_0xbc6345=doc(db,_0x5dbbfa(0x54a)+appId+_0x5dbbfa(0x259)+currentLiveGameId+_0x5dbbfa(0xc58),_0x2d4a55);try{await runTransaction(db,async _0xc45dc0=>{const _0xbb7221=_0x5dbbfa,_0x4b3062=await _0xc45dc0[_0xbb7221(0x67e)](_0xbc6345);if(!_0x4b3062['exists']())throw _0xbb7221(0x176);const _0x1f54a1=_0x4b3062[_0xbb7221(0xaf3)]()[_0xbb7221(0x482)]||0x0;if(_0x1f54a1<0x1)throw'มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)';const _0x2b1c0f={};_0x2b1c0f[_0xbb7221(0x482)]=increment(-0x1),_0xc45dc0[_0xbb7221(0x987)](_0xbc6345,_0x2b1c0f);});const _0x5a26e6={..._0x20881f,'totalPoints':(_0x20881f[_0x5dbbfa(0x482)]||0x0)-0x1};openBlackMarket(_0xeb5459,_0x5a26e6);}catch(_0x5df9b6){console[_0x5dbbfa(0x689)](_0x5dbbfa(0x50f),_0x5df9b6),showMessage(typeof _0x5df9b6===_0x5dbbfa(0x5ba)?_0x5df9b6:'เกิดข้อผิดพลาดในการเข้าตลาดมืด');}}initialize();
