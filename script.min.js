const _0x2944ec=_0x1114;(function(_0x5eac1b,_0x5390ca){const _0x51024d=_0x1114,_0x2a6d06=_0x5eac1b();while(!![]){try{const _0x2603c5=-parseInt(_0x51024d(0x7c8))/0x1*(-parseInt(_0x51024d(0x5f6))/0x2)+-parseInt(_0x51024d(0x942))/0x3*(-parseInt(_0x51024d(0x694))/0x4)+parseInt(_0x51024d(0x6fd))/0x5+-parseInt(_0x51024d(0x923))/0x6*(parseInt(_0x51024d(0x92b))/0x7)+parseInt(_0x51024d(0x875))/0x8*(-parseInt(_0x51024d(0x493))/0x9)+-parseInt(_0x51024d(0xa31))/0xa+-parseInt(_0x51024d(0x3a8))/0xb*(-parseInt(_0x51024d(0x2e9))/0xc);if(_0x2603c5===_0x5390ca)break;else _0x2a6d06['push'](_0x2a6d06['shift']());}catch(_0x448a61){_0x2a6d06['push'](_0x2a6d06['shift']());}}}(_0x2293,0xb2fdf));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;const requestWakeLock=async()=>{const _0xd152b=_0x1114;if(_0xd152b(0x4f7)in navigator)try{wakeLock=await navigator[_0xd152b(0x4f7)][_0xd152b(0x3ab)](_0xd152b(0x5b5)),console[_0xd152b(0x5bf)](_0xd152b(0x2f5)),wakeLock['addEventListener'](_0xd152b(0x243),()=>{const _0xb06e0e=_0xd152b;console['log'](_0xb06e0e(0x94e));});}catch(_0x86c03d){console[_0xd152b(0x5c2)](_0xd152b(0x732)+_0x86c03d[_0xd152b(0x799)]+',\x20'+_0x86c03d[_0xd152b(0x20f)]);}else console[_0xd152b(0x568)]('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x42711b=_0x1114;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console[_0x42711b(0x5bf)](_0x42711b(0x656)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x51be4d=_0x1114;if(dimTimer)clearTimeout(dimTimer);document['body']['classList'][_0x51be4d(0x75d)](_0x51be4d(0x40c)),dimTimer=setTimeout(()=>{const _0x422a1d=_0x51be4d;document[_0x422a1d(0x817)][_0x422a1d(0x46e)][_0x422a1d(0x5af)](_0x422a1d(0x40c)),console[_0x422a1d(0x5bf)](_0x422a1d(0x8dd));},inactivityTime);}function stopDimTimer(){const _0x47f88b=_0x1114;if(dimTimer)clearTimeout(dimTimer);document[_0x47f88b(0x817)][_0x47f88b(0x46e)][_0x47f88b(0x75d)](_0x47f88b(0x40c)),window[_0x47f88b(0x954)]('mousemove',resetDimTimer),window['removeEventListener'](_0x47f88b(0x537),resetDimTimer),window[_0x47f88b(0x954)](_0x47f88b(0x702),resetDimTimer),window[_0x47f88b(0x954)]('keydown',resetDimTimer),console[_0x47f88b(0x5bf)](_0x47f88b(0x8cf));}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x2944ec(0x542),'pinnedProjects':[],'projectView':_0x2944ec(0x6dd)};const allMathTopics=[{'category':_0x2944ec(0x3fc),'name':_0x2944ec(0x629)},{'category':_0x2944ec(0x3fc),'name':_0x2944ec(0x50f)},{'category':_0x2944ec(0x3fc),'name':'การปัดเศษและประมาณค่า'},{'category':'จำนวนและการดำเนินการ','name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':_0x2944ec(0x3fc),'name':'การบวก'},{'category':_0x2944ec(0x3fc),'name':_0x2944ec(0x598)},{'category':_0x2944ec(0x3fc),'name':'การคูณ'},{'category':_0x2944ec(0x3fc),'name':'การหาร'},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มบวก'},{'category':_0x2944ec(0x3fc),'name':'จำนวนเต็มลบ'},{'category':_0x2944ec(0x3fc),'name':_0x2944ec(0x928)},{'category':_0x2944ec(0x3fc),'name':_0x2944ec(0xa12)},{'category':_0x2944ec(0x3fc),'name':_0x2944ec(0x8c2)},{'category':_0x2944ec(0x3fc),'name':_0x2944ec(0x2ff)},{'category':_0x2944ec(0x3fc),'name':_0x2944ec(0x6d5)},{'category':_0x2944ec(0x3fc),'name':_0x2944ec(0x5b9)},{'category':_0x2944ec(0x3fc),'name':_0x2944ec(0x468)},{'category':_0x2944ec(0x3fc),'name':'อัตราและอัตราหน่วย'},{'category':'จำนวนและการดำเนินการ','name':_0x2944ec(0x83b)},{'category':_0x2944ec(0x3fc),'name':_0x2944ec(0x9fa)},{'category':_0x2944ec(0x3fc),'name':_0x2944ec(0x869)},{'category':'จำนวนและการดำเนินการ','name':'การคูณเศษส่วน'},{'category':_0x2944ec(0x3fc),'name':_0x2944ec(0x996)},{'category':'จำนวนและการดำเนินการ','name':_0x2944ec(0x27a)},{'category':_0x2944ec(0x3fc),'name':_0x2944ec(0x7a2)},{'category':'จำนวนและการดำเนินการ','name':_0x2944ec(0x814)},{'category':_0x2944ec(0x3fc),'name':'การลบทศนิยม'},{'category':_0x2944ec(0x3fc),'name':_0x2944ec(0x790)},{'category':'จำนวนและการดำเนินการ','name':_0x2944ec(0x319)},{'category':'จำนวนและการดำเนินการ','name':_0x2944ec(0x315)},{'category':'จำนวนและการดำเนินการ','name':_0x2944ec(0x208)},{'category':_0x2944ec(0x3fc),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':_0x2944ec(0x751)},{'category':_0x2944ec(0x3fc),'name':_0x2944ec(0x66f)},{'category':'จำนวนและการดำเนินการ','name':_0x2944ec(0x8c6)},{'category':_0x2944ec(0x3fc),'name':_0x2944ec(0xa16)},{'category':'จำนวนและการดำเนินการ','name':'สัญกรณ์วิทยาศาสตร์'},{'category':'การวัด','name':_0x2944ec(0x8a7)},{'category':_0x2944ec(0x7ef),'name':_0x2944ec(0x42a)},{'category':_0x2944ec(0x7ef),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x2944ec(0x7ef),'name':_0x2944ec(0x941)},{'category':_0x2944ec(0x7ef),'name':_0x2944ec(0x551)},{'category':_0x2944ec(0x7ef),'name':_0x2944ec(0x961)},{'category':_0x2944ec(0x7ef),'name':_0x2944ec(0x9c1)},{'category':_0x2944ec(0x7ef),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x2944ec(0x7ef),'name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':'การวัด','name':_0x2944ec(0x8b1)},{'category':_0x2944ec(0x7ef),'name':_0x2944ec(0x415)},{'category':_0x2944ec(0x7ef),'name':'มุมและการวัดมุม'},{'category':'การวัด','name':'สเกลและแผนที่'},{'category':_0x2944ec(0x7ef),'name':_0x2944ec(0x6ab)},{'category':_0x2944ec(0x2f7),'name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0x2944ec(0x2f7),'name':_0x2944ec(0x52d)},{'category':_0x2944ec(0x2f7),'name':_0x2944ec(0x870)},{'category':'เรขาคณิต','name':'พื้นที่สามเหลี่ยม'},{'category':'เรขาคณิต','name':_0x2944ec(0x610)},{'category':'เรขาคณิต','name':_0x2944ec(0x86a)},{'category':_0x2944ec(0x2f7),'name':_0x2944ec(0x97a)},{'category':_0x2944ec(0x2f7),'name':_0x2944ec(0x739)},{'category':_0x2944ec(0x2f7),'name':_0x2944ec(0x68c)},{'category':'เรขาคณิต','name':_0x2944ec(0x545)},{'category':'เรขาคณิต','name':_0x2944ec(0x64e)},{'category':_0x2944ec(0x2f7),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':_0x2944ec(0x2f7),'name':_0x2944ec(0x543)},{'category':'เรขาคณิต','name':_0x2944ec(0x2fa)},{'category':_0x2944ec(0x2f7),'name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':_0x2944ec(0x414),'name':_0x2944ec(0x417)},{'category':_0x2944ec(0x414),'name':_0x2944ec(0x65e)},{'category':_0x2944ec(0x414),'name':_0x2944ec(0x404)},{'category':_0x2944ec(0x414),'name':'การแยกตัวประกอบ'},{'category':_0x2944ec(0x414),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0x2944ec(0x414),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2944ec(0x821)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการค่าสัมบูรณ์'},{'category':_0x2944ec(0x414),'name':_0x2944ec(0x5f1)},{'category':_0x2944ec(0x414),'name':_0x2944ec(0x516)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2944ec(0x508)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2944ec(0x638)},{'category':_0x2944ec(0x414),'name':_0x2944ec(0x46d)},{'category':'พีชคณิตและฟังก์ชัน','name':'อสมการค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2944ec(0x95b)},{'category':_0x2944ec(0x414),'name':_0x2944ec(0x229)},{'category':_0x2944ec(0x414),'name':'โดเมนและเรนจ์'},{'category':_0x2944ec(0x414),'name':_0x2944ec(0x570)},{'category':_0x2944ec(0x414),'name':_0x2944ec(0x844)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2944ec(0x82f)},{'category':_0x2944ec(0x414),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2944ec(0x8b9)},{'category':_0x2944ec(0x414),'name':_0x2944ec(0x7af)},{'category':_0x2944ec(0x414),'name':_0x2944ec(0x73d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2944ec(0x7d8)},{'category':_0x2944ec(0x414),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':_0x2944ec(0x414),'name':_0x2944ec(0x7dd)},{'category':_0x2944ec(0x414),'name':_0x2944ec(0x5c0)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2944ec(0x47f)},{'category':_0x2944ec(0x414),'name':_0x2944ec(0x87f)},{'category':_0x2944ec(0x414),'name':_0x2944ec(0xa14)},{'category':_0x2944ec(0x414),'name':_0x2944ec(0x6df)},{'category':_0x2944ec(0x414),'name':_0x2944ec(0x8c9)},{'category':_0x2944ec(0x414),'name':_0x2944ec(0x5e7)},{'category':_0x2944ec(0x2a7),'name':_0x2944ec(0x318)},{'category':_0x2944ec(0x2a7),'name':_0x2944ec(0x95d)},{'category':_0x2944ec(0x2a7),'name':_0x2944ec(0x772)},{'category':_0x2944ec(0x2a7),'name':_0x2944ec(0x9f4)},{'category':_0x2944ec(0x2a7),'name':_0x2944ec(0x336)},{'category':_0x2944ec(0x2a7),'name':_0x2944ec(0x974)},{'category':_0x2944ec(0x2a7),'name':_0x2944ec(0x8a0)},{'category':'เรขาคณิตวิเคราะห์','name':'วงรี'},{'category':_0x2944ec(0x2a7),'name':_0x2944ec(0x9ad)},{'category':'ตรีโกณมิติ','name':_0x2944ec(0x7ad)},{'category':'ตรีโกณมิติ','name':_0x2944ec(0x5a5)},{'category':_0x2944ec(0x879),'name':_0x2944ec(0x7a8)},{'category':'ตรีโกณมิติ','name':_0x2944ec(0xa67)},{'category':_0x2944ec(0x879),'name':_0x2944ec(0x7f2)},{'category':'ตรีโกณมิติ','name':'กฎของโคไซน์'},{'category':_0x2944ec(0x879),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':'ตรีโกณมิติ','name':_0x2944ec(0x2b0)},{'category':'ตรีโกณมิติ','name':_0x2944ec(0x997)},{'category':_0x2944ec(0x879),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':_0x2944ec(0x879),'name':_0x2944ec(0x7b4)},{'category':'สถิติและความน่าจะเป็น','name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x2944ec(0x293),'name':_0x2944ec(0x541)},{'category':_0x2944ec(0x293),'name':_0x2944ec(0x374)},{'category':'สถิติและความน่าจะเป็น','name':_0x2944ec(0x3ef)},{'category':_0x2944ec(0x293),'name':_0x2944ec(0x853)},{'category':_0x2944ec(0x293),'name':_0x2944ec(0x569)},{'category':_0x2944ec(0x293),'name':'ค่าเฉลี่ย'},{'category':'สถิติและความน่าจะเป็น','name':_0x2944ec(0x236)},{'category':_0x2944ec(0x293),'name':_0x2944ec(0x74f)},{'category':'สถิติและความน่าจะเป็น','name':_0x2944ec(0x303)},{'category':_0x2944ec(0x293),'name':_0x2944ec(0xa50)},{'category':_0x2944ec(0x293),'name':_0x2944ec(0x6a7)},{'category':'สถิติและความน่าจะเป็น','name':_0x2944ec(0x2f8)},{'category':'สถิติและความน่าจะเป็น','name':_0x2944ec(0x993)},{'category':_0x2944ec(0x293),'name':_0x2944ec(0x7ce)},{'category':_0x2944ec(0x293),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':'สถิติและความน่าจะเป็น','name':'กฎบวกและกฎคูณ'},{'category':_0x2944ec(0x293),'name':_0x2944ec(0x595)},{'category':_0x2944ec(0x293),'name':_0x2944ec(0x967)},{'category':_0x2944ec(0x293),'name':_0x2944ec(0x2f6)},{'category':_0x2944ec(0x293),'name':_0x2944ec(0x92c)},{'category':_0x2944ec(0x293),'name':_0x2944ec(0x721)},{'category':_0x2944ec(0x293),'name':_0x2944ec(0x804)},{'category':_0x2944ec(0x293),'name':_0x2944ec(0x898)},{'category':'แคลคูลัสเบื้องต้น','name':'ลิมิต'},{'category':'แคลคูลัสเบื้องต้น','name':'ความต่อเนื่อง'},{'category':'แคลคูลัสเบื้องต้น','name':_0x2944ec(0x2ee)},{'category':'แคลคูลัสเบื้องต้น','name':_0x2944ec(0x332)},{'category':'แคลคูลัสเบื้องต้น','name':_0x2944ec(0x608)},{'category':_0x2944ec(0x491),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x2944ec(0x491),'name':_0x2944ec(0x650)},{'category':_0x2944ec(0x491),'name':_0x2944ec(0x1dd)},{'category':_0x2944ec(0x491),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x2944ec(0x491),'name':'ปริพันธ์ไม่จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':'ปริพันธ์จำกัด'},{'category':_0x2944ec(0x491),'name':_0x2944ec(0x872)},{'category':_0x2944ec(0x491),'name':_0x2944ec(0x30a)},{'category':_0x2944ec(0x47e),'name':_0x2944ec(0x6b3)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x2944ec(0x613)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x2944ec(0x6cb)},{'category':_0x2944ec(0x47e),'name':_0x2944ec(0x8ca)},{'category':_0x2944ec(0x47e),'name':_0x2944ec(0x88e)},{'category':_0x2944ec(0x47e),'name':_0x2944ec(0x89b)},{'category':_0x2944ec(0x47e),'name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0x2944ec(0x3d9),'name':_0x2944ec(0x5cf)},{'category':_0x2944ec(0x3d9),'name':_0x2944ec(0x283)},{'category':_0x2944ec(0x3d9),'name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x2944ec(0x5e8)},{'category':_0x2944ec(0x3d9),'name':_0x2944ec(0x9ee)},{'category':_0x2944ec(0x5fb),'name':_0x2944ec(0x748)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x2944ec(0x897)},{'category':_0x2944ec(0x5fb),'name':_0x2944ec(0x4ea)}];function renderTopicCheckboxes(){const _0x5388b7=_0x2944ec,_0x1157e4=document['getElementById']('math-topics-checkbox-container');if(!_0x1157e4)return;const _0x1ce871=allMathTopics,_0xc1797=customMathTopics[_0x5388b7(0x678)](_0x16b5dc=>({'id':_0x16b5dc['id'],'category':'หัวข้อที่สร้างเอง','name':_0x16b5dc[_0x5388b7(0x799)]})),_0x2d4ef2=[..._0x1ce871,..._0xc1797],_0x2a3c84=_0x2d4ef2['reduce']((_0x3a5c04,_0x5f3ae8)=>{const _0x17db70=_0x5388b7;return!_0x3a5c04[_0x5f3ae8[_0x17db70(0x823)]]&&(_0x3a5c04[_0x5f3ae8['category']]=[]),_0x3a5c04[_0x5f3ae8['category']][_0x17db70(0x53c)](_0x5f3ae8),_0x3a5c04;},{});let _0x2cad24='';const _0x2c6a37=[_0x5388b7(0x9b4),...Object['keys'](_0x2a3c84)[_0x5388b7(0x904)](_0x4b20cf=>_0x4b20cf!==_0x5388b7(0x9b4))];for(const _0x1ab488 of _0x2c6a37){if(_0x2a3c84[_0x1ab488]){const _0x34cc06=_0x1ab488===_0x5388b7(0x9b4),_0x3e0dd1=_0x34cc06?_0x5388b7(0x320):'fas\x20fa-bookmark',_0x29ce19=_0x34cc06?_0x5388b7(0x968):_0x5388b7(0x859);_0x2cad24+=_0x5388b7(0x75c),_0x2cad24+=_0x5388b7(0x31b)+_0x29ce19+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x3e0dd1+_0x5388b7(0x6d3)+_0x1ab488+_0x5388b7(0x5e2),_0x2a3c84[_0x1ab488][_0x5388b7(0x9ef)](_0x3021e2=>{const _0x2645c5=_0x5388b7,_0x3e5a33=!!_0x3021e2['id'],_0x1294ea=_0x3e5a33?_0x2645c5(0x2e6)+_0x3021e2['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3021e2['id']+_0x2645c5(0x24b)+_0x3021e2['id']+_0x2645c5(0xa32)+_0x3021e2['id']+_0x2645c5(0x999):'';_0x2cad24+=_0x2645c5(0x3c1)+(_0x3021e2['id']||'')+_0x2645c5(0x4d6)+_0x3021e2[_0x2645c5(0x799)]+_0x2645c5(0xa10)+_0x3021e2[_0x2645c5(0x799)]+_0x2645c5(0x52e)+(_0x3e5a33?_0x2645c5(0x998)+_0x3021e2['name']+'\x22>':'')+_0x2645c5(0x7f8)+_0x1294ea+_0x2645c5(0x645);}),_0x2cad24+='</div>';}}_0x1157e4[_0x5388b7(0x4a4)]=_0x2cad24||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x1157e4[_0x5388b7(0x954)](_0x5388b7(0x3f8),updateSelectedTopicsCount),_0x1157e4[_0x5388b7(0x757)](_0x5388b7(0x3f8),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x155bb6,_0x4f460d){const _0x3ae956=_0x2944ec;if(!_0x155bb6||!_0x4f460d['trim']()){showMessage(_0x3ae956(0x420));return;}try{const _0x5324cd=doc(db,_0x3ae956(0x618)+appId+_0x3ae956(0x466),_0x155bb6);await updateDoc(_0x5324cd,{'name':_0x4f460d[_0x3ae956(0x980)]()}),showMessage(_0x3ae956(0x4ec));}catch(_0x4da4a2){console[_0x3ae956(0x5c2)]('Error\x20updating\x20custom\x20topic:',_0x4da4a2),showMessage(_0x3ae956(0x36b));}}function toggleTopicEditMode(_0x3368f4,_0x183469){const _0x14df57=_0x2944ec;if(!_0x3368f4)return;const _0x40dcb5=_0x3368f4[_0x14df57(0x775)](_0x14df57(0x80a)),_0x4c6fbe=_0x3368f4[_0x14df57(0x775)]('.topic-name-input'),_0x48f58b=_0x3368f4[_0x14df57(0x775)]('.topic-actions-view'),_0x448a81=_0x3368f4['querySelector']('.topic-actions-edit');_0x40dcb5['classList'][_0x14df57(0x9d5)](_0x14df57(0x52f),_0x183469),_0x4c6fbe['classList']['toggle'](_0x14df57(0x52f),!_0x183469),_0x48f58b[_0x14df57(0x46e)][_0x14df57(0x9d5)](_0x14df57(0x52f),_0x183469),_0x448a81['classList']['toggle']('hidden',!_0x183469),_0x183469&&(_0x4c6fbe[_0x14df57(0x7c7)](),_0x4c6fbe['select']());}function updateSelectedTopicsCount(){const _0x19e5a4=_0x2944ec,_0xcafaa=document['getElementById']('math-topics-checkbox-container'),_0x350220=_0xcafaa[_0x19e5a4(0x921)](_0x19e5a4(0x71f))['length'],_0x57dba5=document[_0x19e5a4(0x299)](_0x19e5a4(0x8c3));_0x350220>0x0?_0x57dba5['textContent']=_0x19e5a4(0x244)+_0x350220+_0x19e5a4(0x916):_0x57dba5[_0x19e5a4(0x391)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x2944ec(0x5ac),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x2944ec(0x411),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x2944ec(0x6b4),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x2944ec(0x8b5),scratchpadPenColor=_0x2944ec(0x59c),scratchpadPenSize=0x5;function getDistance(_0xfae3e8,_0x4f2a7e){const _0x5dfe2a=_0x2944ec;return Math[_0x5dfe2a(0x5b8)](Math[_0x5dfe2a(0x421)](_0xfae3e8['x']-_0x4f2a7e['x'],0x2)+Math[_0x5dfe2a(0x421)](_0xfae3e8['y']-_0x4f2a7e['y'],0x2));}function getMidpoint(_0x481793,_0x3fbc28){return{'x':(_0x481793['x']+_0x3fbc28['x'])/0x2,'y':(_0x481793['y']+_0x3fbc28['y'])/0x2};}function getTransformedPoint(_0x135da2,_0x293753){return{'x':(_0x135da2-scratchpadOffset['x'])/scratchpadScale,'y':(_0x293753-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x3d18bd=_0x2944ec;if(!scratchpadCtx)return;const _0xfd68b0=scratchpadCtx[_0x3d18bd(0x3fd)],_0x37e590=window[_0x3d18bd(0x361)]||0x1,_0x54c2e0=document[_0x3d18bd(0x299)]('scratchpad-header');_0x54c2e0&&(_0x54c2e0[_0x3d18bd(0x5c1)][_0x3d18bd(0x793)]=_0x3d18bd(0xa5f),_0x54c2e0['style'][_0x3d18bd(0x22a)]='translate('+scratchpadOffset['x']+_0x3d18bd(0x3b0)+scratchpadOffset['y']+_0x3d18bd(0x306)+scratchpadScale+')'),scratchpadCtx[_0x3d18bd(0x2f2)](),scratchpadCtx[_0x3d18bd(0x65a)](_0x37e590,0x0,0x0,_0x37e590,0x0,0x0),scratchpadCtx[_0x3d18bd(0x7a6)](0x0,0x0,_0xfd68b0[_0x3d18bd(0xa4c)],_0xfd68b0[_0x3d18bd(0x729)]),scratchpadCtx[_0x3d18bd(0x465)](),scratchpadCtx[_0x3d18bd(0x2f2)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x3d18bd(0xa06)](scratchpadScale,scratchpadScale),strokes['forEach'](_0x1cc645=>{drawStroke(_0x1cc645);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function handlePointerDown(_0x287b6c){const _0x2585fd=_0x2944ec;_0x287b6c[_0x2585fd(0x2e1)]();const _0x41c2e1=scratchpadCtx['canvas'],_0x5aae11=_0x41c2e1[_0x2585fd(0x728)](),_0x32d8a4=_0x287b6c[_0x2585fd(0x797)]||(_0x287b6c[_0x2585fd(0x46a)]?_0x2585fd(0x2cb):_0x2585fd(0x272));if(_0x32d8a4==='pen'||_0x32d8a4===_0x2585fd(0x272)){if(_0x287b6c['pointerType']===_0x2585fd(0x272)&&_0x287b6c[_0x2585fd(0x282)]!==0x0){_0x287b6c[_0x2585fd(0x282)]===0x1&&(isMousePanning=!![],panStart={'x':_0x287b6c['clientX'],'y':_0x287b6c[_0x2585fd(0x976)]},_0x41c2e1[_0x2585fd(0x5c1)][_0x2585fd(0x28d)]='grabbing');return;}isDrawingOnScratchpad=!![],redoStrokes=[];const _0x297631=getTransformedPoint(_0x287b6c[_0x2585fd(0x4d3)]-_0x5aae11[_0x2585fd(0x7d4)],_0x287b6c['clientY']-_0x5aae11[_0x2585fd(0x22c)]);let _0x5190f6={'tool':activeTool,'points':[_0x297631]};if(activeTool===_0x2585fd(0x212))_0x5190f6[_0x2585fd(0x663)]=scratchpadHighlighterColor,_0x5190f6['size']=scratchpadHighlighterSize;else activeTool===_0x2585fd(0x23c)?(_0x5190f6[_0x2585fd(0x663)]=scratchpadPenColor,_0x5190f6[_0x2585fd(0x84d)]=scratchpadPenSize,_0x5190f6[_0x2585fd(0x734)]=Date[_0x2585fd(0x9a2)]()):(_0x5190f6[_0x2585fd(0x663)]=scratchpadPenColor,_0x5190f6[_0x2585fd(0x84d)]=scratchpadPenSize);currentStroke=_0x5190f6;}else _0x287b6c[_0x2585fd(0x46a)]&&(_0x287b6c['touches'][_0x2585fd(0x33e)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x287b6c[_0x2585fd(0x46a)][0x0][_0x2585fd(0x4d3)],'y':_0x287b6c['touches'][0x0][_0x2585fd(0x976)]},{'x':_0x287b6c['touches'][0x1][_0x2585fd(0x4d3)],'y':_0x287b6c[_0x2585fd(0x46a)][0x1][_0x2585fd(0x976)]}),initialPinchDistance=getDistance({'x':_0x287b6c[_0x2585fd(0x46a)][0x0]['clientX'],'y':_0x287b6c[_0x2585fd(0x46a)][0x0][_0x2585fd(0x976)]},{'x':_0x287b6c[_0x2585fd(0x46a)][0x1][_0x2585fd(0x4d3)],'y':_0x287b6c[_0x2585fd(0x46a)][0x1][_0x2585fd(0x976)]})));}function animateTrail(){const _0x5ebbce=_0x2944ec,_0x572147=Date[_0x5ebbce(0x9a2)]();let _0x225f58=![];strokes[_0x5ebbce(0x9ef)](_0x1fda06=>{const _0x4a993b=_0x5ebbce;if(_0x1fda06[_0x4a993b(0x6b2)]===_0x4a993b(0x23c)){const _0x3e27f6=_0x572147-_0x1fda06[_0x4a993b(0x734)];_0x3e27f6<TRAIL_DURATION?(_0x1fda06['opacity']=0x1-_0x3e27f6/TRAIL_DURATION,_0x225f58=!![]):_0x1fda06[_0x4a993b(0x4ef)]=0x0;}}),strokes=strokes[_0x5ebbce(0x904)](_0x1ae5c2=>_0x1ae5c2[_0x5ebbce(0x6b2)]!=='trail'||_0x1ae5c2[_0x5ebbce(0x4ef)]>0x0),redrawScratchpad(),_0x225f58?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x4e572d){const _0x3150c5=_0x2944ec;if(!_0x4e572d||_0x4e572d[_0x3150c5(0x697)]['length']<0x1)return;scratchpadCtx[_0x3150c5(0x2f2)](),scratchpadCtx[_0x3150c5(0xa64)]=_0x3150c5(0x78b),scratchpadCtx[_0x3150c5(0x314)]=_0x3150c5(0x78b);if(_0x4e572d[_0x3150c5(0x6b2)]==='trail'){const _0x2e2ab7=_0x4e572d[_0x3150c5(0x84d)]/scratchpadScale;scratchpadCtx['globalAlpha']=_0x4e572d[_0x3150c5(0x4ef)],scratchpadCtx[_0x3150c5(0x3b8)]=_0x3150c5(0x27e),scratchpadCtx[_0x3150c5(0xa07)]=_0x2e2ab7*0x3,scratchpadCtx[_0x3150c5(0x80f)]='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x3150c5(0x70d)]=_0x2e2ab7*2.5,scratchpadCtx[_0x3150c5(0x4bf)](),scratchpadCtx[_0x3150c5(0x38d)](_0x4e572d[_0x3150c5(0x697)][0x0]['x'],_0x4e572d[_0x3150c5(0x697)][0x0]['y']);for(let _0x5b3692=0x1;_0x5b3692<_0x4e572d[_0x3150c5(0x697)]['length']-0x1;_0x5b3692++){const _0x316bb3=getMidpoint(_0x4e572d[_0x3150c5(0x697)][_0x5b3692],_0x4e572d[_0x3150c5(0x697)][_0x5b3692+0x1]);scratchpadCtx[_0x3150c5(0x242)](_0x4e572d['points'][_0x5b3692]['x'],_0x4e572d[_0x3150c5(0x697)][_0x5b3692]['y'],_0x316bb3['x'],_0x316bb3['y']);}scratchpadCtx[_0x3150c5(0x285)](),scratchpadCtx[_0x3150c5(0x3b8)]=_0x3150c5(0x5db),scratchpadCtx[_0x3150c5(0xa07)]=0x0,scratchpadCtx[_0x3150c5(0x80f)]=_0x3150c5(0x538),scratchpadCtx[_0x3150c5(0x70d)]=_0x2e2ab7,scratchpadCtx[_0x3150c5(0x285)](),scratchpadCtx[_0x3150c5(0x643)]();}else{if(_0x4e572d[_0x3150c5(0x6b2)]==='highlighter'){scratchpadCtx[_0x3150c5(0x505)]=_0x3150c5(0x55a),scratchpadCtx[_0x3150c5(0x80f)]=_0x4e572d[_0x3150c5(0x663)],scratchpadCtx['lineWidth']=_0x4e572d[_0x3150c5(0x84d)],scratchpadCtx[_0x3150c5(0x4bf)](),scratchpadCtx[_0x3150c5(0x38d)](_0x4e572d[_0x3150c5(0x697)][0x0]['x'],_0x4e572d[_0x3150c5(0x697)][0x0]['y']);for(let _0x3746d2=0x1;_0x3746d2<_0x4e572d['points'][_0x3150c5(0x33e)]-0x1;_0x3746d2++){const _0x23ab9d=getMidpoint(_0x4e572d[_0x3150c5(0x697)][_0x3746d2],_0x4e572d[_0x3150c5(0x697)][_0x3746d2+0x1]);scratchpadCtx[_0x3150c5(0x242)](_0x4e572d[_0x3150c5(0x697)][_0x3746d2]['x'],_0x4e572d[_0x3150c5(0x697)][_0x3746d2]['y'],_0x23ab9d['x'],_0x23ab9d['y']);}scratchpadCtx[_0x3150c5(0x285)](),scratchpadCtx['closePath']();}else{scratchpadCtx[_0x3150c5(0x505)]=_0x4e572d[_0x3150c5(0x6b2)]===_0x3150c5(0x2ce)?_0x3150c5(0x81c):_0x3150c5(0x710),scratchpadCtx['strokeStyle']=_0x4e572d[_0x3150c5(0x663)],scratchpadCtx['lineWidth']=_0x4e572d[_0x3150c5(0x84d)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x3150c5(0x38d)](_0x4e572d[_0x3150c5(0x697)][0x0]['x'],_0x4e572d[_0x3150c5(0x697)][0x0]['y']);for(let _0x468e33=0x1;_0x468e33<_0x4e572d['points'][_0x3150c5(0x33e)]-0x1;_0x468e33++){const _0xd4bbf4=getMidpoint(_0x4e572d[_0x3150c5(0x697)][_0x468e33],_0x4e572d[_0x3150c5(0x697)][_0x468e33+0x1]);scratchpadCtx[_0x3150c5(0x242)](_0x4e572d[_0x3150c5(0x697)][_0x468e33]['x'],_0x4e572d[_0x3150c5(0x697)][_0x468e33]['y'],_0xd4bbf4['x'],_0xd4bbf4['y']);}scratchpadCtx[_0x3150c5(0x285)](),scratchpadCtx['closePath']();}}scratchpadCtx['restore']();}function handlePointerMove(_0x359873){const _0x20ec13=_0x2944ec;_0x359873[_0x20ec13(0x2e1)]();const _0x214aa5=scratchpadCtx[_0x20ec13(0x3fd)],_0x5f374a=_0x214aa5[_0x20ec13(0x728)]();if(_0x359873[_0x20ec13(0x46a)]){if(_0x359873['touches'][_0x20ec13(0x33e)]===0x1&&isDrawingOnScratchpad){const _0x90fbf=getTransformedPoint(_0x359873[_0x20ec13(0x46a)][0x0][_0x20ec13(0x4d3)]-_0x5f374a['left'],_0x359873[_0x20ec13(0x46a)][0x0][_0x20ec13(0x976)]-_0x5f374a['top']);currentStroke['points'][_0x20ec13(0x53c)](_0x90fbf),redrawScratchpad();}else{if(_0x359873[_0x20ec13(0x46a)][_0x20ec13(0x33e)]===0x2&&isPanning){const _0x13265b=getDistance({'x':_0x359873[_0x20ec13(0x46a)][0x0]['clientX'],'y':_0x359873[_0x20ec13(0x46a)][0x0]['clientY']},{'x':_0x359873[_0x20ec13(0x46a)][0x1][_0x20ec13(0x4d3)],'y':_0x359873[_0x20ec13(0x46a)][0x1][_0x20ec13(0x976)]}),_0x5b4f03=getMidpoint({'x':_0x359873[_0x20ec13(0x46a)][0x0][_0x20ec13(0x4d3)],'y':_0x359873[_0x20ec13(0x46a)][0x0][_0x20ec13(0x976)]},{'x':_0x359873[_0x20ec13(0x46a)][0x1][_0x20ec13(0x4d3)],'y':_0x359873[_0x20ec13(0x46a)][0x1][_0x20ec13(0x976)]}),_0x11e5af=_0x13265b/ initialPinchDistance,_0x484248=Math[_0x20ec13(0x789)](Math[_0x20ec13(0x482)](scratchpadScale*_0x11e5af,MIN_SCALE),MAX_SCALE),_0x2f0c8f=_0x5b4f03['x']-panStart['x'],_0x2f5e84=_0x5b4f03['y']-panStart['y'];scratchpadOffset['x']=_0x5b4f03['x']-(_0x5b4f03['x']-scratchpadOffset['x'])*(_0x484248/scratchpadScale),scratchpadOffset['y']=_0x5b4f03['y']-(_0x5b4f03['y']-scratchpadOffset['y'])*(_0x484248/scratchpadScale),scratchpadOffset['x']+=_0x2f0c8f,scratchpadOffset['y']+=_0x2f5e84,scratchpadScale=_0x484248,initialPinchDistance=_0x13265b,panStart=_0x5b4f03,redrawScratchpad();}}}else{if(isMousePanning){const _0x2dba4d=_0x359873[_0x20ec13(0x4d3)]-panStart['x'],_0x4eecee=_0x359873['clientY']-panStart['y'];scratchpadOffset['x']+=_0x2dba4d,scratchpadOffset['y']+=_0x4eecee,panStart={'x':_0x359873[_0x20ec13(0x4d3)],'y':_0x359873[_0x20ec13(0x976)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x1e8e89=getTransformedPoint(_0x359873[_0x20ec13(0x4d3)]-_0x5f374a['left'],_0x359873[_0x20ec13(0x976)]-_0x5f374a['top']);currentStroke['points']['push'](_0x1e8e89),redrawScratchpad();}}}}function handlePointerUp(_0x498f84){const _0x62aba7=_0x2944ec;_0x498f84[_0x62aba7(0x2e1)]();const _0x37692c=scratchpadCtx[_0x62aba7(0x3fd)];isMousePanning&&(isMousePanning=![],_0x37692c[_0x62aba7(0x5c1)]['cursor']=_0x62aba7(0x95c)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x62aba7(0x697)]['length']>0x1&&(strokes[_0x62aba7(0x53c)](currentStroke),currentStroke[_0x62aba7(0x6b2)]==='trail'&&startTrailAnimation()),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x15f64b){const _0x2a7b16=_0x2944ec;_0x15f64b[_0x2a7b16(0x2e1)]();const _0x254433=_0x15f64b[_0x2a7b16(0xa51)]*-0.005,_0x3ea50c=Math[_0x2a7b16(0x789)](Math['max'](scratchpadScale+_0x254433,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x15f64b[_0x2a7b16(0x4d3)]-(_0x15f64b['clientX']-scratchpadOffset['x'])*(_0x3ea50c/scratchpadScale),scratchpadOffset['y']=_0x15f64b[_0x2a7b16(0x976)]-(_0x15f64b[_0x2a7b16(0x976)]-scratchpadOffset['y'])*(_0x3ea50c/scratchpadScale),scratchpadScale=_0x3ea50c,redrawScratchpad();}function undo(){const _0xfcd641=_0x2944ec;strokes['length']>0x0&&(redoStrokes[_0xfcd641(0x53c)](strokes[_0xfcd641(0x895)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x19b760=_0x2944ec;redoStrokes[_0x19b760(0x33e)]>0x0&&(strokes['push'](redoStrokes[_0x19b760(0x895)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0xf1d701=_0x2944ec;document[_0xf1d701(0x299)](_0xf1d701(0x617))[_0xf1d701(0x278)]=strokes[_0xf1d701(0x33e)]===0x0,document[_0xf1d701(0x299)](_0xf1d701(0x506))[_0xf1d701(0x278)]=redoStrokes['length']===0x0;}function openScratchpad(_0x1c515e,_0xbdfbb1){const _0x37043a=_0x2944ec,_0xd277f7=document['getElementById'](_0x37043a(0x95e)),_0x2ad082=document[_0x37043a(0x299)](_0x37043a(0x3d8)),_0x3b0aec=document[_0x37043a(0x299)](_0x37043a(0x528)),_0x1be67c=document['getElementById'](_0x37043a(0x6ee));_0x2ad082[_0x37043a(0x391)]=_0x1c515e[_0x37043a(0xa65)]||_0x1c515e[_0x37043a(0x561)],_0x3b0aec['innerHTML']=_0xbdfbb1['map']((_0x43d51d,_0x17325d)=>'<div>'+String[_0x37043a(0x749)](0x41+_0x17325d)+'.\x20'+_0x43d51d+_0x37043a(0x98d))[_0x37043a(0x2b1)](''),_0x1be67c['innerHTML']=_0x37043a(0x74d),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0xd277f7['classList']['remove'](_0x37043a(0x52f)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax['typesetPromise']([_0x2ad082,_0x3b0aec]);}function initializeScratchpadCanvas(){const _0x385394=_0x2944ec,_0x954c32=document[_0x385394(0x299)](_0x385394(0x60d)),_0x53439f=document[_0x385394(0x775)](_0x385394(0x519));if(!_0x954c32||!_0x53439f)return;scratchpadCtx=_0x954c32[_0x385394(0x583)]('2d',{'willReadFrequently':!![]});const _0x1221e0=window[_0x385394(0x361)]||0x1,_0x117f1f=_0x53439f[_0x385394(0x728)]();_0x954c32[_0x385394(0xa4c)]=_0x117f1f[_0x385394(0xa4c)]*_0x1221e0,_0x954c32['height']=_0x117f1f['height']*_0x1221e0,_0x954c32[_0x385394(0x5c1)][_0x385394(0xa4c)]=_0x117f1f[_0x385394(0xa4c)]+'px',_0x954c32[_0x385394(0x5c1)][_0x385394(0x729)]=_0x117f1f[_0x385394(0x729)]+'px',scratchpadCtx[_0x385394(0xa06)](_0x1221e0,_0x1221e0),scratchpadCtx['lineJoin']=_0x385394(0x78b),scratchpadCtx[_0x385394(0x314)]='round',_0x954c32[_0x385394(0x954)](_0x385394(0x37b),handlePointerDown),_0x954c32['removeEventListener'](_0x385394(0x4d7),handlePointerMove),_0x954c32['removeEventListener'](_0x385394(0x360),handlePointerUp),_0x954c32[_0x385394(0x954)](_0x385394(0x943),handlePointerUp),_0x954c32[_0x385394(0x954)](_0x385394(0x444),handleWheel),_0x954c32[_0x385394(0x954)]('touchstart',handlePointerDown),_0x954c32[_0x385394(0x954)]('touchmove',handlePointerMove),_0x954c32[_0x385394(0x954)]('touchend',handlePointerUp),_0x954c32[_0x385394(0x757)]('pointerdown',handlePointerDown),_0x954c32['addEventListener']('pointermove',handlePointerMove),_0x954c32[_0x385394(0x757)](_0x385394(0x360),handlePointerUp),_0x954c32[_0x385394(0x757)]('pointercancel',handlePointerUp),_0x954c32[_0x385394(0x757)](_0x385394(0x444),handleWheel,{'passive':![]}),_0x954c32[_0x385394(0x757)](_0x385394(0x702),handlePointerDown,{'passive':![]}),_0x954c32['addEventListener'](_0x385394(0x488),handlePointerMove,{'passive':![]}),_0x954c32['addEventListener'](_0x385394(0x9ff),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x2e9bda=_0x2944ec,_0x1456f7=document[_0x2e9bda(0x299)](_0x2e9bda(0x95e)),_0x3ad751=document[_0x2e9bda(0x299)]('scratchpad-controls');_0x3ad751[_0x2e9bda(0x4a4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>'+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x4a1da7=document[_0x2e9bda(0x299)](_0x2e9bda(0x8cc)),_0x3790e2=document[_0x2e9bda(0x299)](_0x2e9bda(0x596)),_0x2e977c=document[_0x2e9bda(0x299)](_0x2e9bda(0x6ac)),_0x66b70f=document[_0x2e9bda(0x299)](_0x2e9bda(0x946)),_0x57b817=document[_0x2e9bda(0x299)](_0x2e9bda(0x602)),_0x40b7cd=document['getElementById']('highlighter-tools-group'),_0x3ba8cf=[_0x4a1da7,_0x3790e2,_0x2e977c,_0x66b70f];document[_0x2e9bda(0x299)](_0x2e9bda(0x6b5))[_0x2e9bda(0x757)]('click',()=>_0x1456f7[_0x2e9bda(0x46e)][_0x2e9bda(0x5af)](_0x2e9bda(0x52f))),document[_0x2e9bda(0x299)]('reset-view-btn')[_0x2e9bda(0x757)]('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x2e9bda(0x299)](_0x2e9bda(0x219))[_0x2e9bda(0x757)](_0x2e9bda(0x9dc),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x2e9bda(0x299)]('undo-btn')[_0x2e9bda(0x757)](_0x2e9bda(0x9dc),undo),document[_0x2e9bda(0x299)]('redo-btn')['addEventListener'](_0x2e9bda(0x9dc),redo);const _0x18d159=_0x5850fb=>{const _0x7fc047=_0x2e9bda;_0x3ba8cf[_0x7fc047(0x9ef)](_0x42a0d4=>_0x42a0d4[_0x7fc047(0x46e)][_0x7fc047(0x75d)](_0x7fc047(0x53d))),_0x5850fb['classList'][_0x7fc047(0x5af)]('active');const _0x517dcf=_0x5850fb===_0x66b70f;_0x57b817['classList'][_0x7fc047(0x9d5)]('hidden',_0x517dcf),_0x40b7cd['classList']['toggle'](_0x7fc047(0x52f),!_0x517dcf);};_0x4a1da7[_0x2e9bda(0x757)]('click',()=>{const _0xd294d6=_0x2e9bda;activeTool=_0xd294d6(0x8b5),_0x18d159(_0x4a1da7);}),_0x3790e2[_0x2e9bda(0x757)]('click',()=>{const _0x300a34=_0x2e9bda;activeTool=_0x300a34(0x2ce),_0x18d159(_0x3790e2);}),_0x2e977c[_0x2e9bda(0x757)](_0x2e9bda(0x9dc),()=>{activeTool='trail',_0x18d159(_0x2e977c);}),_0x66b70f[_0x2e9bda(0x757)](_0x2e9bda(0x9dc),()=>{const _0x92c734=_0x2e9bda;activeTool=_0x92c734(0x212),_0x18d159(_0x66b70f);}),_0x57b817['querySelectorAll'](_0x2e9bda(0x5ab))[_0x2e9bda(0x9ef)](_0x52266e=>{const _0x3aa42f=_0x2e9bda;_0x52266e['addEventListener'](_0x3aa42f(0x9dc),_0x18bb94=>{const _0x34837e=_0x3aa42f;scratchpadPenSize=parseInt(_0x18bb94[_0x34837e(0x589)][_0x34837e(0x574)]['size'],0xa),_0x57b817[_0x34837e(0x921)]('.pen-size-btn')[_0x34837e(0x9ef)](_0x2c616b=>_0x2c616b[_0x34837e(0x46e)][_0x34837e(0x75d)](_0x34837e(0x53d))),_0x18bb94[_0x34837e(0x589)][_0x34837e(0x46e)][_0x34837e(0x5af)]('active');});}),_0x57b817[_0x2e9bda(0x921)](_0x2e9bda(0x3c4))[_0x2e9bda(0x9ef)](_0x41f51e=>{const _0xaac747=_0x2e9bda;_0x41f51e[_0xaac747(0x757)](_0xaac747(0x9dc),_0x2ed5f1=>{const _0x384804=_0xaac747;scratchpadPenColor=_0x2ed5f1[_0x384804(0x589)][_0x384804(0x574)][_0x384804(0x663)],_0x57b817[_0x384804(0x921)](_0x384804(0x3c4))[_0x384804(0x9ef)](_0x1ad353=>_0x1ad353[_0x384804(0x46e)][_0x384804(0x75d)](_0x384804(0x53d))),_0x2ed5f1[_0x384804(0x589)][_0x384804(0x46e)][_0x384804(0x5af)](_0x384804(0x53d));});}),_0x40b7cd[_0x2e9bda(0x921)](_0x2e9bda(0x762))[_0x2e9bda(0x9ef)](_0x4889c4=>{const _0x189ad1=_0x2e9bda;_0x4889c4[_0x189ad1(0x757)](_0x189ad1(0x9dc),_0x4bbe21=>{const _0x2835a7=_0x189ad1;scratchpadHighlighterColor=_0x4bbe21['target'][_0x2835a7(0x574)][_0x2835a7(0x663)],_0x40b7cd[_0x2835a7(0x921)](_0x2835a7(0x762))[_0x2835a7(0x9ef)](_0x501cdb=>_0x501cdb[_0x2835a7(0x46e)][_0x2835a7(0x75d)](_0x2835a7(0x53d))),_0x4bbe21[_0x2835a7(0x589)][_0x2835a7(0x46e)]['add'](_0x2835a7(0x53d));});});const _0x335a62=document[_0x2e9bda(0x299)]('highlighter-size-slider'),_0x5381d7=document[_0x2e9bda(0x299)](_0x2e9bda(0x3db));_0x335a62[_0x2e9bda(0x757)](_0x2e9bda(0x822),_0x13a1b9=>{const _0xb0d144=_0x2e9bda,_0x3a8625=parseInt(_0x13a1b9[_0xb0d144(0x589)]['value'],0xa);scratchpadHighlighterSize=_0x3a8625,_0x5381d7[_0xb0d144(0x391)]=_0x3a8625;}),window[_0x2e9bda(0x757)]('resize',()=>{const _0x2ada59=_0x2e9bda;!_0x1456f7['classList'][_0x2ada59(0x3cc)](_0x2ada59(0x52f))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x2944ec(0x4aa),'name':'คะแนนเต็ม','description':_0x2944ec(0x635),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':_0x2944ec(0x6a5),'name':_0x2944ec(0x4ca),'description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':_0x2944ec(0x907)},'ON_FIRE':{'id':_0x2944ec(0x91e),'name':_0x2944ec(0x8fb),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x2944ec(0x1ec)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':'ผ่านฉลุย','description':_0x2944ec(0x2bd),'icon':_0x2944ec(0x7c6)},'COMEBACK_KING':{'id':'comeback_king','name':_0x2944ec(0x403),'description':_0x2944ec(0x552),'icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x2944ec(0x3eb),'name':_0x2944ec(0x7a0),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x2944ec(0x88a)},'PERSEVERANCE':{'id':_0x2944ec(0x60e),'name':_0x2944ec(0xa69),'description':_0x2944ec(0xa53),'icon':_0x2944ec(0x57c)}},firebaseConfig={'apiKey':_0x2944ec(0x3a2),'authDomain':_0x2944ec(0x425),'projectId':'ai-quiz-app-aefee','storageBucket':_0x2944ec(0x58b),'messagingSenderId':_0x2944ec(0x4e8),'appId':_0x2944ec(0x755),'measurementId':_0x2944ec(0x8b0)},appId=typeof __app_id!=='undefined'?__app_id:_0x2944ec(0x6b7),adminView=document[_0x2944ec(0x299)](_0x2944ec(0x527)),studentView=document[_0x2944ec(0x299)](_0x2944ec(0x2d0)),projectDashboardView=document[_0x2944ec(0x299)](_0x2944ec(0x4f8)),projectDetailView=document[_0x2944ec(0x299)](_0x2944ec(0x866)),quizResultsView=document[_0x2944ec(0x299)](_0x2944ec(0x959)),projectList=document[_0x2944ec(0x299)](_0x2944ec(0xa20)),noProjectsMsg=document['getElementById'](_0x2944ec(0x2a3)),projectTitle=document[_0x2944ec(0x299)](_0x2944ec(0x9a0)),projectIdDisplay=document['getElementById'](_0x2944ec(0x8d5)),studentList=document[_0x2944ec(0x299)]('student-list'),messageModal=document[_0x2944ec(0x299)](_0x2944ec(0x56f)),modalMessage=document['getElementById'](_0x2944ec(0x237)),createProjectModal=document[_0x2944ec(0x299)](_0x2944ec(0x707)),adminPasswordModal=document['getElementById'](_0x2944ec(0xa22)),confirmationModal=document[_0x2944ec(0x299)](_0x2944ec(0x44a)),userIdDisplay=document[_0x2944ec(0x299)](_0x2944ec(0x778)),topicTab=document[_0x2944ec(0x299)](_0x2944ec(0x83c)),textTab=document[_0x2944ec(0x299)](_0x2944ec(0x809)),topicInputArea=document['getElementById'](_0x2944ec(0x7c1)),textInputArea=document[_0x2944ec(0x299)](_0x2944ec(0x9e5)),manageTab=document['getElementById'](_0x2944ec(0x526)),resultsTab=document[_0x2944ec(0x299)](_0x2944ec(0x211)),leaderboardTab=document[_0x2944ec(0x299)](_0x2944ec(0x20a)),manageTabContent=document[_0x2944ec(0x299)](_0x2944ec(0x7ff)),resultsTabContent=document[_0x2944ec(0x299)](_0x2944ec(0x701)),leaderboardTabContent=document[_0x2944ec(0x299)](_0x2944ec(0x1e1)),projectQuizzesList=document[_0x2944ec(0x299)](_0x2944ec(0x28e)),fileTab=document[_0x2944ec(0x299)](_0x2944ec(0x69c)),fileInputArea=document[_0x2944ec(0x299)](_0x2944ec(0x8a2)),fileUploadInput=document[_0x2944ec(0x299)](_0x2944ec(0x636)),worksheetTab=document['getElementById'](_0x2944ec(0x964)),worksheetInputArea=document['getElementById'](_0x2944ec(0x7bd)),generateWorksheetBtn=document[_0x2944ec(0x299)](_0x2944ec(0xa2d)),studentInitialView=document[_0x2944ec(0x299)](_0x2944ec(0x520)),studentNameSelectionView=document[_0x2944ec(0x299)](_0x2944ec(0x94c)),studentQuizArea=document[_0x2944ec(0x299)](_0x2944ec(0x5d2)),studentResultArea=document[_0x2944ec(0x299)](_0x2944ec(0x232)),studentReadingArea=document[_0x2944ec(0x299)](_0x2944ec(0x92d)),loadQuizBtn=document['getElementById'](_0x2944ec(0x902)),startQuizBtn=document[_0x2944ec(0x299)](_0x2944ec(0x3e8)),studentJoinGameView=document['getElementById']('student-join-game-view'),presentationModal=document[_0x2944ec(0x299)](_0x2944ec(0x247)),renameQuizModal=document['getElementById']('rename-quiz-modal'),moveQuizModal=document[_0x2944ec(0x299)]('move-quiz-modal'),quizSettingsModal=document[_0x2944ec(0x299)](_0x2944ec(0x433)),quizStatusModal=document[_0x2944ec(0x299)](_0x2944ec(0x1f7)),liveGameView=document[_0x2944ec(0x299)](_0x2944ec(0x8ef));function handleAutoFixLatex(){const _0x3b6985=_0x2944ec,_0x9d312e=document[_0x3b6985(0x299)]('quiz-editor-questions-container')||document,_0x1f6b94=_0x9d312e[_0x3b6985(0x921)]([_0x3b6985(0x560),_0x3b6985(0x950),_0x3b6985(0x59b),_0x3b6985(0x607),_0x3b6985(0x9d2),'label','.choice-text',_0x3b6985(0x1dc),_0x3b6985(0x32b)]['join'](','));let _0xdbbb89=0x0;const _0x40eadb=_0x4cabb3=>'value'in _0x4cabb3?String(_0x4cabb3[_0x3b6985(0x305)]):_0x4cabb3[_0x3b6985(0x89c)]!==undefined?_0x4cabb3[_0x3b6985(0x89c)]:_0x4cabb3[_0x3b6985(0x391)]||'',_0x596af5=(_0x5867ab,_0x5c2854)=>{const _0x338d52=_0x3b6985;if(_0x338d52(0x305)in _0x5867ab){_0x5867ab[_0x338d52(0x305)]=_0x5c2854;return;}if(_0x5867ab[_0x338d52(0x775)]&&_0x5867ab[_0x338d52(0x775)](_0x338d52(0x7b2)))return;if(_0x5867ab[_0x338d52(0x89c)]!==undefined)_0x5867ab[_0x338d52(0x89c)]=_0x5c2854;else _0x5867ab['textContent']=_0x5c2854;},_0xe5e2d1=_0x20d6eb=>_0x20d6eb[_0x3b6985(0x9d7)](/\u00A0/g,'\x20')[_0x3b6985(0x9d7)](/\u200B/g,'')[_0x3b6985(0x9d7)](/\r\n?/g,'\x0a'),_0x176484=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x106c69=_0x348393=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x3b6985(0x307)](_0x348393),_0x1658ab=_0xb676c6=>{const _0x57fab3=_0x3b6985,_0x525522=(_0xb676c6[_0x57fab3(0x960)](/\{/g)||[])[_0x57fab3(0x33e)],_0x18da1f=(_0xb676c6[_0x57fab3(0x960)](/\}/g)||[])[_0x57fab3(0x33e)];if(_0x525522>_0x18da1f)_0xb676c6=_0xb676c6+'}'[_0x57fab3(0x881)](_0x525522-_0x18da1f);return _0xb676c6;},_0x22ced3=_0x3b16dc=>{const _0x22ffd3=_0x3b6985;let _0x10fb82=_0x3b16dc[_0x22ffd3(0x980)]();const _0x301aca=['frac',_0x22ffd3(0x6d1),_0x22ffd3(0x4b9),_0x22ffd3(0x5b8),_0x22ffd3(0x62f),_0x22ffd3(0x810),'cdot','div',_0x22ffd3(0x831),_0x22ffd3(0x9c9),'le','ge',_0x22ffd3(0x90a),'pm',_0x22ffd3(0x2ac),_0x22ffd3(0x7d0),_0x22ffd3(0x39a),'tan',_0x22ffd3(0x5bf),'ln','sum',_0x22ffd3(0x442),'binom',_0x22ffd3(0x7d4),'right','overline','underline',_0x22ffd3(0x894),_0x22ffd3(0x535)];_0x10fb82=_0x10fb82[_0x22ffd3(0x9d7)](new RegExp(_0x22ffd3(0x43f)+_0x301aca[_0x22ffd3(0x2b1)]('|')+')\x5cb)','g'),'\x5c'),_0x301aca['forEach'](_0x1fede2=>{const _0xc10a66=_0x22ffd3;_0x10fb82=_0x10fb82[_0xc10a66(0x9d7)](new RegExp(_0xc10a66(0x760)+_0x1fede2+'\x5cb','g'),(_0x532739,_0x1bd8c3)=>_0x1bd8c3+'\x5c'+_0x1fede2);});const _0xf7cb6f=[[/×/g,'\x5ctimes'],[/·/g,_0x22ffd3(0xa4a)],[/÷/g,_0x22ffd3(0x39e)],[/≤/g,_0x22ffd3(0x754)],[/≥/g,'\x5cge'],[/≠/g,_0x22ffd3(0x99a)],[/±/g,_0x22ffd3(0x7f5)],[/∑/g,_0x22ffd3(0x457)],[/−/g,'-']];_0xf7cb6f[_0x22ffd3(0x9ef)](([_0x552ed2,_0x20226b])=>{const _0x470c6a=_0x22ffd3;_0x10fb82=_0x10fb82[_0x470c6a(0x9d7)](_0x552ed2,_0x20226b);}),_0x10fb82=_0x10fb82[_0x22ffd3(0x9d7)](/√\s*\(([^)]*)\)/g,'\x5csqrt{$1}'),_0x10fb82=_0x10fb82[_0x22ffd3(0x9d7)](/√\s*([A-Za-z0-9]+)/g,_0x22ffd3(0x562)),_0x10fb82=_0x10fb82[_0x22ffd3(0x9d7)](/(^|[^\\])\bimes\b/g,_0x22ffd3(0x5e5))[_0x22ffd3(0x9d7)](/(^|[^\\])\b(?:rac|\/frac)\b/g,'$1\x5cfrac')[_0x22ffd3(0x9d7)](/(^|[^\\])ext\{/g,'$1\x5ctext{')[_0x22ffd3(0x9d7)](/(^|[^\\])ext\(/g,_0x22ffd3(0x68d))[_0x22ffd3(0x9d7)](/\\text\(([^)]*)\)/g,_0x22ffd3(0x72b))['replace'](/\s\\frac/g,_0x22ffd3(0x8d1)),_0x10fb82=_0x10fb82['replace'](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x49b355,_0xbd6ed8,_0x57ffe7,_0x5dbf76)=>_0xbd6ed8+_0x22ffd3(0x795)+_0x57ffe7+'}{'+_0x5dbf76+'}'),_0x10fb82=_0x10fb82['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x22ffd3(0x958))['replace'](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x22ffd3(0x958))[_0x22ffd3(0x9d7)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,'\x5cfrac{$1}{$2}'),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x22ffd3(0x31e)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x22ffd3(0x31e)],[/(\d+)\s*\^\s*o\s*C\b/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x22ffd3(0x31e)],[/(\d+)\s*°\s*C/g,_0x22ffd3(0x31e)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x22ffd3(0x621)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x22ffd3(0x31e)]][_0x22ffd3(0x9ef)](([_0x3741a1,_0x3c6e70])=>{const _0x2b057a=_0x22ffd3;_0x10fb82=_0x10fb82[_0x2b057a(0x9d7)](_0x3741a1,_0x3c6e70);}),_0x10fb82=_0x10fb82[_0x22ffd3(0x9d7)](/(\d+)\s*%/g,'$1\x5c%'),_0x10fb82=_0x10fb82[_0x22ffd3(0x9d7)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x22ffd3(0x459))[_0x22ffd3(0x9d7)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x22ffd3(0x3ac))['replace'](/\{\{([^\{\}]+)\}\}/g,_0x22ffd3(0x57a)),[_0x22ffd3(0x7d0),'cos','tan','log','ln']['forEach'](_0x5a496f=>{const _0xd66b54=_0x22ffd3;_0x10fb82=_0x10fb82[_0xd66b54(0x9d7)](new RegExp(_0xd66b54(0x760)+_0x5a496f+_0xd66b54(0x846),'g'),(_0xb4eed2,_0xcde5ca)=>_0xcde5ca+'\x5c'+_0x5a496f+'(');});const _0x424f52=(_0x10fb82[_0x22ffd3(0x960)](/\\left\b/g)||[])['length'],_0x2d1a89=(_0x10fb82['match'](/\\right\b/g)||[])[_0x22ffd3(0x33e)];if(_0x424f52!==_0x2d1a89)_0x10fb82=_0x10fb82[_0x22ffd3(0x9d7)](/\\left\b/g,'')[_0x22ffd3(0x9d7)](/\\right\b/g,'');return _0x10fb82=_0x1658ab(_0x10fb82),_0x10fb82;},_0x256810=_0x7487a1=>{const _0x150546=_0x3b6985;if(/\$|\\\(|\\\[/[_0x150546(0x307)](_0x7487a1))return _0x7487a1;if(!_0x176484[_0x150546(0x307)](_0x7487a1))return _0x7487a1;const _0x1132ec=_0x7487a1[_0x150546(0x960)](/^\s*/)[0x0],_0x5c4175=_0x7487a1['match'](/\s*$/)[0x0],_0x3cf970=_0x7487a1[_0x150546(0x980)]();return _0x1132ec+'$'+_0x22ced3(_0x3cf970)+'$'+_0x5c4175;},_0x56151f=_0x293b18=>_0x293b18[_0x3b6985(0x438)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x1f6b94[_0x3b6985(0x9ef)](_0x293fc7=>{const _0x4cd044=_0x3b6985;if(_0x293fc7[_0x4cd044(0x775)]&&_0x293fc7[_0x4cd044(0x775)](_0x4cd044(0x7b2)))return;const _0x4ac161=_0x40eadb(_0x293fc7);let _0x2713ca=_0xe5e2d1(_0x4ac161);_0x2713ca=_0x2713ca[_0x4cd044(0x9d7)](/\$\$([\s\S]*?)\$\$/g,(_0x2d5c8b,_0x1a01bc)=>'$$'+_0x22ced3(_0x1a01bc)+'$$')[_0x4cd044(0x9d7)](/\$([^$]*?)\$/g,(_0x5d3512,_0x4e5560)=>'$'+_0x22ced3(_0x4e5560)+'$')['replace'](/\\\(([\s\S]*?)\\\)/g,(_0x25d9a5,_0x38d2f9)=>'\x5c('+_0x22ced3(_0x38d2f9)+'\x5c)')[_0x4cd044(0x9d7)](/\\\[([\s\S]*?)\\\]/g,(_0x4de7f4,_0x3a1c60)=>'\x5c['+_0x22ced3(_0x3a1c60)+'\x5c]');let _0x463455=_0x2713ca,_0x222ba7=0x0;const _0x3175a9=_0x44497f=>_0x44497f['replace'](/S([^S]{0,2000}?)S/g,(_0x5a5c6b,_0x313746)=>_0x176484[_0x4cd044(0x307)](_0x313746)?'$'+_0x22ced3(_0x313746)+'$':_0x5a5c6b);while(_0x222ba7++<0x14){const _0x95ab22=_0x3175a9(_0x463455);if(_0x95ab22===_0x463455)break;_0x463455=_0x95ab22;}_0x2713ca=_0x463455,_0x2713ca=_0x2713ca[_0x4cd044(0x438)]('\x0a')[_0x4cd044(0x678)](_0xc39e76=>{const _0x665fae=_0x4cd044;if(!(/[,\u3001，;；]/[_0x665fae(0x307)](_0xc39e76)||/\s(?:และ|หรือ)\s/[_0x665fae(0x307)](_0xc39e76))||!_0x176484[_0x665fae(0x307)](_0xc39e76))return _0xc39e76;return _0x56151f(_0xc39e76)[_0x665fae(0x678)](_0xe42271=>{const _0x4c811d=_0x665fae;if(/^\s(?:และ|หรือ)\s$/[_0x4c811d(0x307)](_0xe42271)||/^[,\u3001，;；]$/[_0x4c811d(0x307)](_0xe42271))return _0xe42271;return _0x256810(_0xe42271);})[_0x665fae(0x2b1)]('');})[_0x4cd044(0x2b1)]('\x0a'),_0x2713ca=_0x2713ca[_0x4cd044(0x438)]('\x0a')[_0x4cd044(0x678)](_0x4b08e4=>{const _0x55ce00=_0x4cd044,_0x4342e7=_0x4b08e4[_0x55ce00(0x980)]();if(!_0x4342e7)return _0x4b08e4;const _0x1adde3=/\$|\\\(|\\\[/[_0x55ce00(0x307)](_0x4342e7),_0x2cff7a=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/['test'](_0x4342e7);if(_0x1adde3||!_0x2cff7a||_0x106c69(_0x4342e7))return _0x4b08e4;return _0x4b08e4['replace'](_0x4342e7,'$'+_0x22ced3(_0x4342e7)+'$');})[_0x4cd044(0x2b1)]('\x0a'),_0x2713ca=_0x2713ca[_0x4cd044(0x9d7)](/(\d+)\s*°\s*C\b/g,(_0x1e6763,_0x3344b7,_0x4b8ca2,_0x4e3416)=>{const _0x4cb07b=_0x4cd044,_0x470bf3=_0x4e3416[_0x4b8ca2-0x1];if(_0x470bf3==='$'||_0x470bf3==='S'||_0x470bf3==='\x5c')return _0x1e6763;return'$'+_0x3344b7+_0x4cb07b(0x405);})[_0x4cd044(0x9d7)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0xd3d184,_0x578094,_0x55179c,_0x287bd4)=>{const _0x4a6ec9=_0x4cd044,_0x4a9271=_0x287bd4[_0x55179c-0x1];if(_0x4a9271==='$'||_0x4a9271==='S'||_0x4a9271==='\x5c')return _0xd3d184;return'$'+_0x578094+_0x4a6ec9(0x405);})['replace'](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x87ea08,_0x497c63,_0x43fcbe,_0x4420eb)=>{const _0xe3effa=_0x4420eb[_0x43fcbe-0x1];if(_0xe3effa==='$'||_0xe3effa==='S'||_0xe3effa==='\x5c')return _0x87ea08;return'$'+_0x497c63+'^{\x5ccirc}\x5ctext{C}$';}),_0x2713ca=_0x2713ca['replace'](/\$\s*\$/g,'$$'),_0x2713ca!==_0x4ac161&&(_0x596af5(_0x293fc7,_0x2713ca),_0xdbbb89++);});if(_0xdbbb89>0x0){showMessage(_0x3b6985(0x890)+_0xdbbb89+'\x20ช่อง');try{if(window[_0x3b6985(0x432)]&&MathJax[_0x3b6985(0x690)])MathJax[_0x3b6985(0x690)]();window['katex']&&typeof renderMathInElement==='function'&&renderMathInElement(_0x9d312e,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x528ec1){}}else showMessage(_0x3b6985(0x9b3));}async function listenForCustomMathTopics(){const _0x288da9=_0x2944ec,_0xe1ebcb=collection(db,_0x288da9(0x618)+appId+_0x288da9(0x466));onSnapshot(_0xe1ebcb,_0x5c37c8=>{const _0x3d4980=_0x288da9;customMathTopics=_0x5c37c8[_0x3d4980(0x75e)]['map'](_0x5290ba=>({'id':_0x5290ba['id'],..._0x5290ba[_0x3d4980(0x719)]()})),renderTopicCheckboxes();},_0x3f8cae=>{const _0x379cdb=_0x288da9;console[_0x379cdb(0x5c2)](_0x379cdb(0x309),_0x3f8cae);});}function handleSelectAllTopics(){const _0x5133e1=_0x2944ec,_0x28a94b=document['getElementById'](_0x5133e1(0x676)),_0x55d252=_0x28a94b['querySelectorAll']('input[type=\x22checkbox\x22]');_0x55d252[_0x5133e1(0x9ef)](_0x19a187=>{_0x19a187['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x4bbb0b=_0x2944ec,_0x14be9d=document['getElementById'](_0x4bbb0b(0x676)),_0x25e185=_0x14be9d[_0x4bbb0b(0x921)](_0x4bbb0b(0x85f));_0x25e185['forEach'](_0x5df93e=>{const _0x16932c=_0x4bbb0b;_0x5df93e[_0x16932c(0x911)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x218578){const _0x4c6dbb=_0x2944ec;if(!_0x218578)return;try{const _0x983345=doc(db,_0x4c6dbb(0x618)+appId+_0x4c6dbb(0x466),_0x218578);await deleteDoc(_0x983345),showMessage(_0x4c6dbb(0x5a0));}catch(_0x199cc2){console[_0x4c6dbb(0x5c2)](_0x4c6dbb(0x445),_0x199cc2),showMessage(_0x4c6dbb(0x8ee));}}async function handleAddCustomMathTopic(){const _0x303fdf=_0x2944ec,_0x5e7af2=document[_0x303fdf(0x299)](_0x303fdf(0x957)),_0x562e3c=_0x5e7af2['value'][_0x303fdf(0x980)]();if(!_0x562e3c){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x303fdf(0x35a));return;}try{const _0xa66621=collection(db,_0x303fdf(0x618)+appId+_0x303fdf(0x466));await addDoc(_0xa66621,{'name':_0x562e3c,'createdAt':serverTimestamp()}),_0x5e7af2[_0x303fdf(0x305)]='',showMessage(_0x303fdf(0x67b)+_0x562e3c+'\x22\x20สำเร็จ');}catch(_0x3ff617){console[_0x303fdf(0x5c2)](_0x303fdf(0x3ee),_0x3ff617),showMessage(_0x303fdf(0x4a5));}}async function handleUpdateOldQuizzes(){const _0x1bf5bf=_0x2944ec;showConfirmation(_0x1bf5bf(0x79f),async()=>{const _0x2bccb1=_0x1bf5bf,_0x3831fe=document[_0x2bccb1(0x299)](_0x2bccb1(0x55f)),_0x2e47c8=document[_0x2bccb1(0x299)](_0x2bccb1(0x3f9)),_0x5bdfb7=_0x2e47c8[_0x2bccb1(0x391)];_0x3831fe['classList']['remove']('hidden'),_0x2e47c8[_0x2bccb1(0x391)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x27b24f=collection(db,_0x2bccb1(0x618)+appId+_0x2bccb1(0x64b)),_0x58497c=await getDocs(_0x27b24f);if(_0x58497c[_0x2bccb1(0x597)]){showMessage(_0x2bccb1(0x573));return;}const _0x7bc353=writeBatch(db);let _0x13e310=0x0;_0x58497c[_0x2bccb1(0x9ef)](_0x194336=>{const _0x20603f=_0x2bccb1,_0x1d47a2=_0x194336[_0x20603f(0x719)](),_0x2bcdbd=_0x194336['id'];if(_0x1d47a2['questions']&&_0x1d47a2[_0x20603f(0x256)][_0x20603f(0x33e)]>0x0&&!_0x1d47a2['questions'][0x0][_0x20603f(0x214)]('id')){console[_0x20603f(0x5bf)](_0x20603f(0x2cd)+_0x2bcdbd+'\x20('+_0x1d47a2['topic']+')'),_0x13e310++;const _0x29bca4=_0x1d47a2[_0x20603f(0x256)][_0x20603f(0x678)]((_0x594fe1,_0x5c8a7b)=>{return{..._0x594fe1,'id':_0x594fe1['id']||'q_'+Date['now']()+'_'+_0x2bcdbd+'_'+_0x5c8a7b};}),_0x2108bf=doc(db,_0x20603f(0x618)+appId+_0x20603f(0x64b),_0x2bcdbd);_0x7bc353[_0x20603f(0x71c)](_0x2108bf,{'questions':_0x29bca4});}}),_0x13e310>0x0?(_0x2e47c8[_0x2bccb1(0x391)]=_0x2bccb1(0x9f2)+_0x13e310+'\x20รายการ...',await _0x7bc353[_0x2bccb1(0xa44)](),showMessage(_0x2bccb1(0x2db)+_0x13e310+'\x20รายการสำเร็จ!')):showMessage(_0x2bccb1(0x62b));}catch(_0x53903c){console[_0x2bccb1(0x5c2)](_0x2bccb1(0x857),_0x53903c),showMessage(_0x2bccb1(0x409)+_0x53903c[_0x2bccb1(0x20f)]);}finally{_0x3831fe[_0x2bccb1(0x46e)][_0x2bccb1(0x5af)](_0x2bccb1(0x52f)),_0x2e47c8[_0x2bccb1(0x391)]=_0x5bdfb7;}});}async function handleBulkUpdateQuizSettings(){const _0x3cc1d2=_0x2944ec,_0x31c9ff={'shuffle':document['getElementById'](_0x3cc1d2(0x77e))[_0x3cc1d2(0x305)],'resultsDisplay':document['getElementById'](_0x3cc1d2(0x620))['value'],'loopUntilPass':document[_0x3cc1d2(0x299)]('bulk-loop-until-pass-checkbox')['checked']},_0x493736=allQuizzesGlobal[_0x3cc1d2(0x33e)];showConfirmation(_0x3cc1d2(0x9bb)+_0x493736+_0x3cc1d2(0x669),async()=>{const _0x387d10=_0x3cc1d2,_0x21d8dc=document['getElementById'](_0x387d10(0x7fd));_0x21d8dc[_0x387d10(0x278)]=!![],_0x21d8dc[_0x387d10(0x4a4)]=_0x387d10(0x9c6);try{const _0xb766e7=writeBatch(db);allQuizzesGlobal[_0x387d10(0x9ef)](_0x32008f=>{const _0x4c38e9=_0x387d10,_0x551406=doc(db,'artifacts/'+appId+_0x4c38e9(0x64b),_0x32008f['id']),_0x1e1a9d={..._0x32008f[_0x4c38e9(0x2a4)]||{},..._0x31c9ff};_0xb766e7[_0x4c38e9(0x71c)](_0x551406,{'settings':_0x1e1a9d});}),await _0xb766e7[_0x387d10(0xa44)](),document[_0x387d10(0x299)]('bulk-quiz-settings-modal')[_0x387d10(0x46e)][_0x387d10(0x5af)](_0x387d10(0x52f)),showMessage(_0x387d10(0x4a7)+_0x493736+'\x20ชุดสำเร็จ!');}catch(_0x2f117f){console[_0x387d10(0x5c2)](_0x387d10(0xa29),_0x2f117f),showMessage(_0x387d10(0x7b8));}finally{_0x21d8dc[_0x387d10(0x278)]=![],_0x21d8dc[_0x387d10(0x4a4)]=_0x387d10(0x917);}});}async function handleSaveProjectName(){const _0x4f48b5=_0x2944ec,_0x1af5af=document[_0x4f48b5(0x299)]('project-title'),_0xf6a20=document[_0x4f48b5(0x299)](_0x4f48b5(0x4de)),_0x534793=_0x1af5af['textContent']['trim']();if(!_0x534793||!currentProjectId){showMessage(_0x4f48b5(0x55e)),_0x1af5af['textContent']=currentProjectData[_0x4f48b5(0x9bf)];return;}_0xf6a20['disabled']=!![],_0xf6a20[_0x4f48b5(0x4a4)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x3dbbd9=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x3dbbd9,{'projectName':_0x534793}),currentProjectData&&(currentProjectData['projectName']=_0x534793),showMessage(_0x4f48b5(0x82d));}catch(_0x5dbd44){console[_0x4f48b5(0x5c2)]('Error\x20updating\x20project\x20name:',_0x5dbd44),showMessage(_0x4f48b5(0x33f)),_0x1af5af['textContent']=currentProjectData[_0x4f48b5(0x9bf)];}finally{_0xf6a20[_0x4f48b5(0x46e)][_0x4f48b5(0x5af)]('hidden'),_0xf6a20[_0x4f48b5(0x278)]=![],_0xf6a20[_0x4f48b5(0x4a4)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}async function initialize(){const _0x21c338=_0x2944ec;try{const _0x29d298=initializeApp(firebaseConfig);db=getFirestore(_0x29d298),auth=getAuth(_0x29d298),setupAuthListener(),setupEventListeners(),showView(_0x21c338(0x5ac)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0xa6870c){console[_0x21c338(0x5c2)]('Firebase\x20initialization\x20failed:',_0xa6870c),showMessage(_0x21c338(0x1f3));}}async function handleVerifyAnswersInEditor(){const _0x3085a7=_0x2944ec,_0x20a02e=document[_0x3085a7(0x299)](_0x3085a7(0xa6f));if(!_0x20a02e)return;const _0x3e2462=document[_0x3085a7(0x299)](_0x3085a7(0x9ca));_0x3e2462[_0x3085a7(0x278)]=!![],_0x3e2462[_0x3085a7(0x4a4)]=_0x3085a7(0x5f0);try{const _0x273b20=_0x20a02e[_0x3085a7(0x921)]('.question-editor-item'),_0x59556e=Array[_0x3085a7(0x4cd)](_0x273b20)[_0x3085a7(0x678)]((_0x4a7154,_0x4ca20a)=>{const _0x47be7e=_0x3085a7,_0x3c2c29=_0x4a7154['dataset'][_0x47be7e(0x82e)],_0x2796c3=_0x4a7154[_0x47be7e(0x775)](_0x47be7e(0x560))[_0x47be7e(0x305)];let _0xb6082b=null,_0x379925='';switch(_0x3c2c29){case _0x47be7e(0x503):const _0x40ca85=_0x4a7154['querySelectorAll']('input[type=\x22text\x22]');_0xb6082b=Array['from'](_0x40ca85)[_0x47be7e(0x678)](_0x5abe67=>_0x5abe67['value']);const _0x4b05d0=_0x4a7154[_0x47be7e(0x775)]('input[type=\x22radio\x22]:checked');_0x4b05d0&&(_0x379925=_0xb6082b[parseInt(_0x4b05d0[_0x47be7e(0x305)])]);break;case _0x47be7e(0x7df):_0x379925=_0x4a7154[_0x47be7e(0x775)](_0x47be7e(0x23e))['value'];break;case'true_false':const _0x1fb887=_0x4a7154['querySelector'](_0x47be7e(0x50c));_0x379925=_0x1fb887?_0x1fb887['value']:'';break;case _0x47be7e(0x390):_0x379925=_0x4a7154[_0x47be7e(0x775)](_0x47be7e(0x368))[_0x47be7e(0x305)];break;}return{'question':_0x2796c3,'options':_0xb6082b,'proposedAnswer':_0x379925};}),_0xdb5f9=_0x3085a7(0x5f2)+JSON[_0x3085a7(0x23a)](_0x59556e)+_0x3085a7(0xa33),_0x552637={'type':_0x3085a7(0x4ce),'items':{'type':_0x3085a7(0x81a),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x3085a7(0x224)},'suggestedAnswer':{'type':'STRING'}},'required':['questionIndex','isCorrect',_0x3085a7(0x1d9)]}},_0xdeccc=await callAnalysisApi(_0xdb5f9,{'type':_0x3085a7(0x81a),'properties':{'result':_0x552637},'required':[_0x3085a7(0x3d4)]});displayVerificationResultsInEditor(_0xdeccc[_0x3085a7(0x3d4)]);}catch(_0x23af1d){console[_0x3085a7(0x5c2)](_0x3085a7(0x906),_0x23af1d),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x3e2462['disabled']=![],_0x3e2462['innerHTML']=_0x3085a7(0x1f4);}}function displayVerificationResultsInEditor(_0x3c9c84){const _0x432a47=_0x2944ec;_0x3c9c84[_0x432a47(0x9ef)](_0x531291=>{const _0x4fdcb4=_0x432a47,_0x45554f=document[_0x4fdcb4(0x775)](_0x4fdcb4(0x96c)+_0x531291['questionIndex']+'\x22]');if(!_0x45554f)return;const _0x5869d4=_0x45554f[_0x4fdcb4(0x775)](_0x4fdcb4(0x427));if(_0x5869d4)_0x5869d4[_0x4fdcb4(0x75d)]();let _0x28df17='';if(_0x531291[_0x4fdcb4(0x29f)])_0x28df17=_0x4fdcb4(0x987);else{const _0x262c78=_0x531291[_0x4fdcb4(0x661)]?_0x4fdcb4(0x9e4):'';_0x28df17=_0x4fdcb4(0x62e)+_0x262c78+_0x4fdcb4(0x351)+_0x531291[_0x4fdcb4(0x1d9)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x531291['suggestedAnswer']?_0x4fdcb4(0x746)+_0x531291[_0x4fdcb4(0x661)]+_0x4fdcb4(0x5e2):'')+_0x4fdcb4(0x56b);}_0x45554f[_0x4fdcb4(0x75b)](_0x4fdcb4(0x540),_0x28df17);if(!_0x531291['isCorrect']&&_0x531291['suggestedAnswer']){const _0x3a7203=_0x45554f['dataset'][_0x4fdcb4(0x82e)],_0xd786af=_0x56f1d7=>{const _0x1d8ed6=_0x4fdcb4;if(!_0x56f1d7)return;_0x56f1d7['classList'][_0x1d8ed6(0x5af)]('bg-green-200',_0x1d8ed6(0x96d),'duration-300'),setTimeout(()=>{const _0x2034eb=_0x1d8ed6;_0x56f1d7[_0x2034eb(0x46e)][_0x2034eb(0x75d)](_0x2034eb(0x3ff));},0x9c4);};if(_0x3a7203==='multiple_choice'){const _0x1d90cb=Array[_0x4fdcb4(0x4cd)](_0x45554f[_0x4fdcb4(0x921)]('input[type=\x22text\x22]')),_0x5dc584=_0x1d90cb[_0x4fdcb4(0x7eb)](_0x2c804d=>_0x2c804d[_0x4fdcb4(0x305)][_0x4fdcb4(0x980)]()[_0x4fdcb4(0x565)]()===_0x531291[_0x4fdcb4(0x661)][_0x4fdcb4(0x980)]()[_0x4fdcb4(0x565)]());if(_0x5dc584!==-0x1){const _0x40f122=_0x45554f['querySelector']('input[type=\x22radio\x22][value=\x22'+_0x5dc584+'\x22]');_0x40f122&&(_0x40f122[_0x4fdcb4(0x911)]=!![],_0xd786af(_0x40f122['closest'](_0x4fdcb4(0x20c))));}}else{if(_0x3a7203===_0x4fdcb4(0x7df)||_0x3a7203===_0x4fdcb4(0x390)){const _0x2da37c=_0x45554f['querySelector'](_0x4fdcb4(0x591));_0x2da37c&&(_0x2da37c[_0x4fdcb4(0x305)]=_0x531291[_0x4fdcb4(0x661)],_0xd786af(_0x2da37c));}else{if(_0x3a7203===_0x4fdcb4(0x71b)){const _0xfe54fc=_0x531291['suggestedAnswer']['trim']()['toLowerCase'](),_0x424455=_0x45554f[_0x4fdcb4(0x775)](_0x4fdcb4(0x385)+_0xfe54fc+'\x22]');_0x424455&&(_0x424455[_0x4fdcb4(0x911)]=!![],_0xd786af(_0x424455[_0x4fdcb4(0x6bd)]('div')));}}}}}),showMessage(_0x432a47(0x88d));}async function handleVerifyAnswers(){const _0x2fd106=_0x2944ec;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x27d5c4=document[_0x2fd106(0x299)](_0x2fd106(0x7cb));_0x27d5c4[_0x2fd106(0x278)]=!![],_0x27d5c4[_0x2fd106(0x4a4)]=_0x2fd106(0x5f0);try{const _0x449ac9=currentQuizData[_0x2fd106(0x256)][_0x2fd106(0x678)]((_0x2fc76b,_0x5c690a)=>{const _0x5ad8ac=_0x2fd106;let _0x4701e5='';const _0x127ff5=_0x2fc76b['questionType']||currentQuizData[_0x5ad8ac(0x4f1)];switch(_0x127ff5){case _0x5ad8ac(0x503):_0x4701e5=_0x2fc76b[_0x5ad8ac(0x29d)][_0x2fc76b[_0x5ad8ac(0x36a)]];break;case'short_answer':_0x4701e5=_0x2fc76b['idealAnswer'];break;case _0x5ad8ac(0x71b):_0x4701e5=_0x2fc76b['correctAnswer'][_0x5ad8ac(0x6f3)]();break;case'matching_item':_0x4701e5=_0x2fc76b[_0x5ad8ac(0x826)];break;}return{'question':_0x2fc76b[_0x5ad8ac(0xa65)]||_0x2fc76b[_0x5ad8ac(0x561)],'options':_0x2fc76b[_0x5ad8ac(0x29d)]||null,'proposedAnswer':_0x4701e5};}),_0x34ccaa=_0x2fd106(0x791)+JSON[_0x2fd106(0x23a)](_0x449ac9)+_0x2fd106(0x7f6),_0x51e82a={'type':'ARRAY','items':{'type':_0x2fd106(0x81a),'properties':{'questionIndex':{'type':_0x2fd106(0x86e)},'isCorrect':{'type':_0x2fd106(0x820)},'justification':{'type':_0x2fd106(0x224)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x2fd106(0x955),_0x2fd106(0x29f),'justification']}},_0x159540=await callAnalysisApi(_0x34ccaa,{'type':_0x2fd106(0x81a),'properties':{'result':_0x51e82a},'required':[_0x2fd106(0x3d4)]});displayVerificationResults(_0x159540[_0x2fd106(0x3d4)]);}catch(_0x790763){console[_0x2fd106(0x5c2)](_0x2fd106(0x222),_0x790763),showMessage(_0x2fd106(0x62d));}finally{_0x27d5c4[_0x2fd106(0x278)]=![],_0x27d5c4['innerHTML']='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0x5d1007){const _0x46e9af=_0x2944ec;_0x5d1007[_0x46e9af(0x9ef)](_0x54cb0d=>{const _0x4d7345=_0x46e9af,_0x597f95=document[_0x4d7345(0x775)](_0x4d7345(0x1ef)+_0x54cb0d[_0x4d7345(0x955)]+'\x22]');if(_0x597f95){const _0x1a5bf6=_0x597f95[_0x4d7345(0x775)](_0x4d7345(0xa38));if(_0x1a5bf6)_0x1a5bf6[_0x4d7345(0x75d)]();let _0xd72686='';_0x54cb0d[_0x4d7345(0x29f)]?_0xd72686=_0x4d7345(0x86f):_0xd72686=_0x4d7345(0x475)+_0x54cb0d[_0x4d7345(0x1d9)]+_0x4d7345(0x308)+(_0x54cb0d[_0x4d7345(0x661)]?_0x4d7345(0x746)+_0x54cb0d[_0x4d7345(0x661)]+'</p>':'')+_0x4d7345(0x4b6),_0x597f95['insertAdjacentHTML']('beforeend',_0xd72686);}}),showMessage(_0x46e9af(0x88d));}function compareNumericalAnswers(_0x1bcc31,_0x4549c1){const _0x272d8c=_0x2944ec,_0x5a16d4=String(_0x1bcc31)[_0x272d8c(0x9d7)](',','.')[_0x272d8c(0x9d7)](/[^\d.-]/g,'')[_0x272d8c(0x980)](),_0x22df0a=String(_0x4549c1)[_0x272d8c(0x9d7)](',','.')[_0x272d8c(0x9d7)](/[^\d.-]/g,'')['trim']();if(_0x5a16d4===''||_0x22df0a==='')return![];const _0x4e19b8=parseFloat(_0x5a16d4),_0x2c8778=parseFloat(_0x22df0a);if(isNaN(_0x4e19b8)||isNaN(_0x2c8778))return![];return Math['abs'](_0x4e19b8-_0x2c8778)<0.001;}async function gradeShortAnswer(_0x1feb9f,_0x47e41c){const _0x394f6c=_0x2944ec,_0x5eab07=_0x47e41c[_0x394f6c(0x317)];if(String(_0x1feb9f)[_0x394f6c(0x980)]()[_0x394f6c(0x565)]()===String(_0x5eab07)['trim']()[_0x394f6c(0x565)]())return!![];if(compareNumericalAnswers(_0x1feb9f,_0x5eab07))return!![];return console[_0x394f6c(0x5bf)](_0x394f6c(0x627)),await gradeShortAnswerWithAI(_0x1feb9f,_0x5eab07);}async function revealAnswerForAdmin(_0x1b6300,_0x530a26){const _0x15a977=_0x2944ec,_0x441b15=doc(db,_0x15a977(0x618)+appId+_0x15a977(0x616),currentLiveGameId);await updateDoc(_0x441b15,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x4b64b3){const _0x277194=_0x2944ec,_0x1ff9dd=Object[_0x277194(0x670)](_0x4b64b3[_0x277194(0x30d)]||{})['filter'](_0x3c96c6=>_0x3c96c6['status']===_0x277194(0x53d));_0x1ff9dd[_0x277194(0x2e5)]((_0x30b01a,_0x4a298a)=>_0x4a298a[_0x277194(0x986)]-_0x30b01a[_0x277194(0x986)]);const _0x55c287=_0x1ff9dd[_0x277194(0x5a4)](0x0,0x5),_0x5f3c6c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x55c287[_0x277194(0x678)]((_0x32af3b,_0x24940c)=>_0x277194(0x504)+(_0x24940c+0x1)+'.\x20'+(_0x32af3b[_0x277194(0x799)]||Object[_0x277194(0x426)](_0x4b64b3[_0x277194(0x30d)])['find'](_0x4ca905=>_0x4b64b3['players'][_0x4ca905]===_0x32af3b))+_0x277194(0x25c)+_0x32af3b['score']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x277194(0x2b1)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4b64b3['currentQuestionIndex']+0x1===currentQuizData[_0x277194(0x256)][_0x277194(0x33e)]?_0x277194(0x270):_0x277194(0x3d2))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x277194(0x4a4)]=_0x5f3c6c,document[_0x277194(0x299)](_0x277194(0x6f5))['addEventListener'](_0x277194(0x9dc),async()=>{const _0x56f766=_0x277194,_0x1d9e28=doc(db,_0x56f766(0x618)+appId+_0x56f766(0x616),currentLiveGameId),_0x52455a=_0x4b64b3[_0x56f766(0x7b1)]+0x1;if(_0x52455a<currentQuizData[_0x56f766(0x256)]['length']){const _0x515036={'currentQuestionIndex':_0x52455a,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x56f766(0x51c)};Object[_0x56f766(0x426)](_0x4b64b3[_0x56f766(0x30d)])[_0x56f766(0x9ef)](_0x25da37=>{const _0x3d0eb6=_0x56f766;_0x515036[_0x3d0eb6(0x1df)+_0x25da37+_0x3d0eb6(0x79b)]=![];}),await updateDoc(_0x1d9e28,_0x515036);}else await updateDoc(_0x1d9e28,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x5cf04d=>{const _0x4b1a75=_0x1114;if(_0x5cf04d){userId=_0x5cf04d['uid'],userIdDisplay[_0x4b1a75(0x391)]=userId;const _0x26701d=await loadUserPreferences();_0x26701d['projectSortOrder']&&(document[_0x4b1a75(0x299)](_0x4b1a75(0x784))[_0x4b1a75(0x305)]=_0x26701d['projectSortOrder']);globalDashboardSettings[_0x4b1a75(0x932)]=_0x26701d['projectView']||_0x4b1a75(0x6dd);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x11525b,_0x19d1b5){const _0x4a8a40=_0x2944ec;if(!userId)return;try{const _0x1bf8ab=doc(db,'artifacts/'+appId+_0x4a8a40(0x992)+userId+'/preferences/main'),_0x22ce68={};_0x22ce68[_0x11525b]=_0x19d1b5,await setDoc(_0x1bf8ab,_0x22ce68,{'merge':!![]});}catch(_0x34e5b2){console[_0x4a8a40(0x5c2)](_0x4a8a40(0x741),_0x34e5b2);}}async function loadUserPreferences(){const _0x1e10c2=_0x2944ec;if(!userId)return{};try{const _0x58686e=doc(db,_0x1e10c2(0x618)+appId+_0x1e10c2(0x992)+userId+'/preferences/main'),_0x38ed88=await getDoc(_0x58686e);if(_0x38ed88[_0x1e10c2(0x8b2)]())return _0x38ed88[_0x1e10c2(0x719)]();return{};}catch(_0x3f3fc2){return console[_0x1e10c2(0x5c2)](_0x1e10c2(0x837),_0x3f3fc2),{};}}function showPodiumView(_0x26ef63){const _0x51bebb=_0x2944ec,_0x13c62b=Object[_0x51bebb(0x50b)](_0x26ef63)[_0x51bebb(0x678)](([_0x3ca596,_0x4f8303])=>({'name':_0x3ca596,'score':_0x4f8303[_0x51bebb(0x986)]||0x0,'badges':_0x4f8303[_0x51bebb(0x738)]||[]}));_0x13c62b[_0x51bebb(0x2e5)]((_0x5361ee,_0x4d116d)=>{const _0x31d5ef=_0x51bebb,_0x296268=_0x4d116d['score']-_0x5361ee[_0x31d5ef(0x986)];if(_0x296268!==0x0)return _0x296268;return(_0x4d116d[_0x31d5ef(0x738)][_0x31d5ef(0x33e)]||0x0)-(_0x5361ee[_0x31d5ef(0x738)][_0x31d5ef(0x33e)]||0x0);});const _0xf2cb5e=_0x42168b=>{const _0x2ad7b5=_0x51bebb;if(!_0x42168b||_0x42168b[_0x2ad7b5(0x33e)]===0x0)return'';const _0x25e78f={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x2ad7b5(0x5b2)+_0x42168b['map'](_0x591af0=>_0x25e78f[_0x591af0]||'')[_0x2ad7b5(0x2b1)]('')+_0x2ad7b5(0x98d);},_0x448f4a=_0x13c62b[_0x51bebb(0x5a4)](0x3),_0x1a7240=_0x448f4a['length']>0x0?_0x51bebb(0x566)+_0x448f4a[_0x51bebb(0x678)]((_0x4a8c9c,_0x522648)=>_0x51bebb(0xa0c)+(_0x522648+0x4)+_0x51bebb(0x6c7)+_0x4a8c9c[_0x51bebb(0x799)]+_0x51bebb(0x7cc)+_0x4a8c9c['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x51bebb(0x2b1)]('')+_0x51bebb(0x4c3):'',_0x3dd70d=_0x51bebb(0x9eb)+(_0x13c62b[0x1]?_0x51bebb(0x42e)+_0x13c62b[0x1][_0x51bebb(0x799)]+_0x51bebb(0x648)+_0xf2cb5e(_0x13c62b[0x1][_0x51bebb(0x738)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x13c62b[0x1][_0x51bebb(0x986)]+_0x51bebb(0x880):'<div\x20class=\x22flex-1\x22></div>')+_0x51bebb(0x80e)+(_0x13c62b[0x0]?_0x51bebb(0x4fd)+_0x13c62b[0x0][_0x51bebb(0x799)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xf2cb5e(_0x13c62b[0x0][_0x51bebb(0x738)])+_0x51bebb(0x41e)+_0x13c62b[0x0][_0x51bebb(0x986)]+_0x51bebb(0x681):'<div\x20class=\x22flex-1\x22></div>')+_0x51bebb(0x80e)+(_0x13c62b[0x2]?_0x51bebb(0x395)+_0x13c62b[0x2][_0x51bebb(0x799)]+_0x51bebb(0x648)+_0xf2cb5e(_0x13c62b[0x2]['badges'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x13c62b[0x2][_0x51bebb(0x986)]+_0x51bebb(0x6e9):_0x51bebb(0x487))+_0x51bebb(0x83e)+_0x1a7240+_0x51bebb(0x69a)+(currentMode==='admin'?_0x51bebb(0x839):_0x51bebb(0x736))+_0x51bebb(0x9ac);liveGameView[_0x51bebb(0x4a4)]=_0x3dd70d,currentMode===_0x51bebb(0x497)&&document[_0x51bebb(0x299)](_0x51bebb(0x42c))[_0x51bebb(0x757)](_0x51bebb(0x9dc),async()=>{const _0xb80023=_0x51bebb,_0x5dc1bc=doc(db,_0xb80023(0x618)+appId+'/public/data/liveGames',currentLiveGameId);await deleteDoc(_0x5dc1bc),showView(_0xb80023(0x248));});}async function handleStartLiveRace(_0x3ceb8e){const _0x430fce=_0x2944ec;let _0xa09637=allQuizzes[_0x430fce(0x238)](_0x3f1f5c=>_0x3f1f5c['id']===_0x3ceb8e);if(!_0xa09637){const _0x8bb068=doc(db,_0x430fce(0x618)+appId+_0x430fce(0x64b),_0x3ceb8e),_0x321f35=await getDoc(_0x8bb068);if(!_0x321f35['exists']()){showMessage(_0x430fce(0x41c));return;}_0xa09637={'id':_0x321f35['id'],..._0x321f35[_0x430fce(0x719)]()};}const _0x5eead2=getShuffledQuiz(_0xa09637);currentQuizData=_0x5eead2;const _0x51d610=_0xa09637['projectId']||currentProjectId||null,_0x540c97=Math[_0x430fce(0x66b)](0xa+Math['random']()*0x5a)[_0x430fce(0x6f3)]();currentLiveGamePin=_0x540c97;try{const _0x3829e7=await addDoc(collection(db,_0x430fce(0x618)+appId+_0x430fce(0x616)),{'quizId':_0x3ceb8e,'projectId':_0x51d610,'status':_0x430fce(0x51e),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x540c97,'createdAt':serverTimestamp(),'shuffledQuiz':_0x5eead2});currentLiveGameId=_0x3829e7['id'],showAdminLobbyView(_0x540c97,_0xa09637['topic']),listenForLiveGameUpdates();}catch(_0x2ed0f6){console['error'](_0x430fce(0x7a7),_0x2ed0f6),showMessage(_0x430fce(0x3e4));}}async function handleShowStudentRankings(){const _0x555f0c=_0x2944ec,_0x4a9a28=document[_0x555f0c(0x775)](_0x555f0c(0x833));_0x4a9a28&&(_0x4a9a28[_0x555f0c(0x4a4)]=_0x555f0c(0x48e));const _0x11642c=document[_0x555f0c(0x775)](_0x555f0c(0x544));_0x11642c&&(_0x11642c[_0x555f0c(0x4a4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x1a80a4=document[_0x555f0c(0x299)](_0x555f0c(0x496));_0x1a80a4[_0x555f0c(0x46e)][_0x555f0c(0x75d)]('hidden'),document[_0x555f0c(0x299)](_0x555f0c(0x637))[_0x555f0c(0x480)]=()=>_0x1a80a4[_0x555f0c(0x46e)]['add'](_0x555f0c(0x52f));const _0x48ebd4=document[_0x555f0c(0x299)](_0x555f0c(0x4fb)),_0x31741e=document[_0x555f0c(0x299)]('student-project-leaderboard-tab'),_0x4d0b9e=document[_0x555f0c(0x299)](_0x555f0c(0x6da)),_0x29b534=document['getElementById']('student-project-leaderboard-content');_0x48ebd4[_0x555f0c(0x480)]=()=>{const _0x1153cb=_0x555f0c;_0x48ebd4[_0x1153cb(0x46e)][_0x1153cb(0x5af)](_0x1153cb(0x53d)),_0x31741e[_0x1153cb(0x46e)]['remove'](_0x1153cb(0x53d)),_0x4d0b9e[_0x1153cb(0x46e)][_0x1153cb(0x75d)]('hidden'),_0x29b534[_0x1153cb(0x46e)][_0x1153cb(0x5af)]('hidden');},_0x31741e[_0x555f0c(0x480)]=()=>{const _0x5822a0=_0x555f0c;_0x31741e['classList'][_0x5822a0(0x5af)](_0x5822a0(0x53d)),_0x48ebd4['classList'][_0x5822a0(0x75d)]('active'),_0x29b534['classList'][_0x5822a0(0x75d)](_0x5822a0(0x52f)),_0x4d0b9e[_0x5822a0(0x46e)]['add'](_0x5822a0(0x52f));};try{const _0x3229e3=collection(db,_0x555f0c(0x618)+appId+_0x555f0c(0x73f)+currentQuizData['id']+_0x555f0c(0x25a)),_0x36ed4d=await getDocs(_0x3229e3),_0x346baa=_0x36ed4d[_0x555f0c(0x75e)][_0x555f0c(0x678)](_0x306f32=>_0x306f32[_0x555f0c(0x719)]());renderQuizLeaderboard(_0x346baa,currentQuizData,'student-quiz-leaderboard-table-body');const _0x4e645e=collection(db,_0x555f0c(0x618)+appId+_0x555f0c(0x5cc)+currentQuizData[_0x555f0c(0x80d)]+_0x555f0c(0x34b)),_0x191ee6=await getDocs(_0x4e645e),_0x5a3780=_0x191ee6[_0x555f0c(0x75e)][_0x555f0c(0x678)](_0x4e8b0f=>_0x4e8b0f[_0x555f0c(0x719)]());renderLeaderboard(_0x5a3780,_0x555f0c(0x234));}catch(_0x2a4536){console[_0x555f0c(0x5c2)]('Error\x20fetching\x20student\x20rankings:',_0x2a4536),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x1abd47){const _0x404452=_0x2944ec,_0x4b9949=_0x1abd47[_0x404452(0x730)],_0x410f43=_0x4b9949[_0x404452(0x574)][_0x404452(0x310)],_0x4f9880=currentQuizData[_0x404452(0x256)][_0x410f43];if(!userId){showMessage(_0x404452(0x328));return;}try{const _0x53387b={..._0x4f9880,'originalTopic':currentQuizData[_0x404452(0x67d)],'savedAt':serverTimestamp()},_0x4e06a1=collection(db,_0x404452(0x618)+appId+_0x404452(0x992)+userId+_0x404452(0x798));await addDoc(_0x4e06a1,_0x53387b),showMessage(_0x404452(0x72e)),_0x4b9949[_0x404452(0x46e)][_0x404452(0x75d)]('text-purple-600'),_0x4b9949[_0x404452(0x46e)][_0x404452(0x5af)](_0x404452(0xa2f)),_0x4b9949[_0x404452(0x278)]=!![];}catch(_0x13f7f9){console[_0x404452(0x5c2)](_0x404452(0x556),_0x13f7f9),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function listenForStarredQuizzes(){const _0x4a5e8d=_0x2944ec;if(!userId)return;const _0x48a13d=collection(db,'artifacts/'+appId+_0x4a5e8d(0x64b)),_0x3b4118=query(_0x48a13d,where(_0x4a5e8d(0x2d5),'==',!![]));onSnapshot(_0x3b4118,_0x2b258b=>{const _0x5bc86a=_0x4a5e8d;starredQuizzes=_0x2b258b['docs'][_0x5bc86a(0x678)](_0x48e4e4=>({'id':_0x48e4e4['id'],..._0x48e4e4['data']()})),currentProjectId===_0x5bc86a(0x302)?renderQuizzes():renderProjects();},_0x184a7f=>{const _0x19b34e=_0x4a5e8d;console[_0x19b34e(0x5c2)](_0x19b34e(0x512),_0x184a7f);});}function exportQuizAsWorksheetPDF(){const _0x4c456b=_0x2944ec;if(!currentQuizData||!currentQuizData[_0x4c456b(0x256)]){showMessage(_0x4c456b(0x9f8));return;}const _0x170180=currentQuizData,_0x13b3ef=window['open']('',_0x4c456b(0x723)),_0x14fd49=_0x4af03e=>String['fromCharCode'](0x41+_0x4af03e),_0x2ba0c2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x170180[_0x4c456b(0x67d)]+_0x4c456b(0x6a4)+_0x170180[_0x4c456b(0x67d)]+_0x4c456b(0x54b)+_0x170180[_0x4c456b(0x256)][_0x4c456b(0x678)]((_0x160027,_0x250281)=>{const _0x4b4ceb=_0x4c456b;let _0x21f1c0='';const _0x3d0ef8=_0x160027[_0x4b4ceb(0x539)]||_0x170180[_0x4b4ceb(0x4f1)];switch(_0x3d0ef8){case _0x4b4ceb(0x503):case'fill_in_with_choices':_0x21f1c0=_0x4b4ceb(0x8fa)+_0x160027[_0x4b4ceb(0x29d)][_0x4b4ceb(0x678)]((_0x2befbd,_0x4ede82)=>_0x4b4ceb(0x6bf)+_0x14fd49(_0x4ede82)+'.\x20'+_0x2befbd+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](_0x4b4ceb(0x5ef))+_0x4b4ceb(0x98d);break;case _0x4b4ceb(0x71b):_0x21f1c0=_0x4b4ceb(0x366);break;default:_0x21f1c0=_0x4b4ceb(0x713);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x250281+0x1)+_0x4b4ceb(0x4bd)+(_0x160027[_0x4b4ceb(0xa65)]||_0x160027[_0x4b4ceb(0x561)])+_0x4b4ceb(0x49b)+(_0x160027[_0x4b4ceb(0x44c)]?_0x4b4ceb(0x8ce)+_0x160027['imageCode']+_0x4b4ceb(0x98d):'')+_0x4b4ceb(0x494)+_0x21f1c0+_0x4b4ceb(0x45a);})['join']('')+_0x4c456b(0x529);_0x13b3ef[_0x4c456b(0x2f4)][_0x4c456b(0x912)](_0x2ba0c2),_0x13b3ef['document'][_0x4c456b(0x3ed)](),_0x13b3ef[_0x4c456b(0x4b0)]=function(){setTimeout(()=>{_0x13b3ef['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x2d5bc7=_0x2944ec;if(!currentQuizData||!currentQuizData[_0x2d5bc7(0x256)]){showMessage(_0x2d5bc7(0x9f8));return;}const _0x11f939=currentQuizData,_0x1a5f39=window[_0x2d5bc7(0x699)]('',_0x2d5bc7(0x723)),_0x2489aa=_0x8c88f1=>String[_0x2d5bc7(0x749)](0x41+_0x8c88f1),_0x97694c=_0x2d5bc7(0x5b7)+_0x11f939[_0x2d5bc7(0x67d)]+_0x2d5bc7(0xa57)+_0x11f939[_0x2d5bc7(0x256)][_0x2d5bc7(0x678)]((_0x58f89b,_0x14a99b)=>{const _0x2ecf8b=_0x2d5bc7;let _0x251c44='';const _0x229ed4=_0x58f89b[_0x2ecf8b(0x539)]||_0x11f939[_0x2ecf8b(0x4f1)];switch(_0x229ed4){case'multiple_choice':case _0x2ecf8b(0x990):_0x251c44=_0x2ecf8b(0x66a)+_0x58f89b[_0x2ecf8b(0x29d)]['map']((_0x2e3df5,_0x5549a4)=>_0x2ecf8b(0x72d)+_0x2489aa(_0x5549a4)+'.\x20'+_0x2e3df5+_0x2ecf8b(0x6e8))[_0x2ecf8b(0x2b1)](_0x2ecf8b(0x5ef))+_0x2ecf8b(0x56b);break;case _0x2ecf8b(0x71b):_0x251c44=_0x2ecf8b(0x547);break;default:_0x251c44='';break;}return _0x2ecf8b(0x31c)+_0x11f939[_0x2ecf8b(0x67d)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>'+(_0x14a99b+0x1)+_0x2ecf8b(0x6a1)+(_0x58f89b[_0x2ecf8b(0xa65)]||_0x58f89b[_0x2ecf8b(0x561)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x58f89b[_0x2ecf8b(0x44c)]?'<div\x20class=\x22my-6\x22>'+_0x58f89b[_0x2ecf8b(0x44c)]+_0x2ecf8b(0x98d):'')+_0x2ecf8b(0x494)+_0x251c44+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x2d5bc7(0x2b1)]('')+_0x2d5bc7(0x5ca);_0x1a5f39[_0x2d5bc7(0x2f4)]['write'](_0x97694c),_0x1a5f39['document'][_0x2d5bc7(0x3ed)](),_0x1a5f39[_0x2d5bc7(0x4b0)]=function(){setTimeout(()=>{_0x1a5f39['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x1001de){const _0x3367ed=_0x2944ec,_0x23e78e=doc(db,_0x3367ed(0x618)+appId+_0x3367ed(0x64b),_0x1001de);try{const _0x49a27c=await getDoc(_0x23e78e);if(_0x49a27c[_0x3367ed(0x8b2)]()){const _0x56a1e8=_0x49a27c[_0x3367ed(0x719)]()[_0x3367ed(0x2d5)]||![];await updateDoc(_0x23e78e,{'isStarred':!_0x56a1e8});}}catch(_0x4e31ee){console['error'](_0x3367ed(0x6a0),_0x4e31ee),showMessage(_0x3367ed(0x858));}}async function displayQuestionBank(){const _0x1ea491=_0x2944ec,_0x240448=document['getElementById'](_0x1ea491(0x2ca));_0x240448[_0x1ea491(0x4a4)]=_0x1ea491(0x2f9);try{const _0x453b25=collection(db,'artifacts/'+appId+'/users/'+userId+_0x1ea491(0x798)),_0x385e0a=query(_0x453b25),_0x3eba67=await getDocs(_0x385e0a);if(_0x3eba67[_0x1ea491(0x597)]){_0x240448['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x252ed1=_0x3eba67[_0x1ea491(0x75e)][_0x1ea491(0x678)](_0x42ab82=>{const _0x5ae7ab=_0x1ea491,_0x1b2f99=_0x42ab82[_0x5ae7ab(0x719)](),_0x3efd35=_0x42ab82['id'];return _0x5ae7ab(0x73a)+JSON[_0x5ae7ab(0x23a)](_0x1b2f99)+_0x5ae7ab(0x9ed)+(_0x1b2f99[_0x5ae7ab(0x561)]||_0x1b2f99[_0x5ae7ab(0xa65)])+_0x5ae7ab(0x8bb)+_0x1b2f99['originalTopic']+_0x5ae7ab(0xa09);})['join']('');_0x240448[_0x1ea491(0x4a4)]=_0x1ea491(0x441)+_0x252ed1+_0x1ea491(0x8d2),document[_0x1ea491(0x299)](_0x1ea491(0x2bf))['addEventListener']('click',createQuizFromBank);}catch(_0x560a27){console[_0x1ea491(0x5c2)]('Error\x20displaying\x20question\x20bank:',_0x560a27),_0x240448[_0x1ea491(0x4a4)]=_0x1ea491(0x883);}}function showAdminLiveQuestionView(_0x36ac12,_0x4397bd,_0x2b2d5a){const _0x1c3b9e=_0x2944ec,_0x57f6e5=_0x36ac12[_0x1c3b9e(0x539)]||currentQuizData[_0x1c3b9e(0x4f1)];let _0x19231b='';if(_0x57f6e5===_0x1c3b9e(0x503)||_0x57f6e5===_0x1c3b9e(0x71b)){const _0x3691ec=_0x57f6e5===_0x1c3b9e(0x71b)?[_0x1c3b9e(0x6fe),'ไม่ใช่']:_0x36ac12['options'],_0x41d54a=_0x57f6e5===_0x1c3b9e(0x71b)?_0x36ac12[_0x1c3b9e(0x83d)]?0x0:0x1:_0x36ac12['correctAnswerIndex'];_0x19231b=_0x3691ec[_0x1c3b9e(0x678)]((_0x3cd12e,_0x1f28a2)=>_0x1c3b9e(0x8c5)+(_0x1f28a2===_0x41d54a)+_0x1c3b9e(0x2a8)+_0x3cd12e+_0x1c3b9e(0x6a2))[_0x1c3b9e(0x2b1)]('');}else{if(_0x57f6e5==='matching_item'){const _0x3aefda=_0x36ac12[_0x1c3b9e(0x662)]||[];_0x19231b=_0x3aefda[_0x1c3b9e(0x678)](_0x2dbb9b=>_0x1c3b9e(0x8c5)+(_0x2dbb9b===_0x36ac12['correctResponse'])+_0x1c3b9e(0x2a8)+_0x2dbb9b+_0x1c3b9e(0x6a2))[_0x1c3b9e(0x2b1)]('');}}const _0x1c84b0=_0x36ac12[_0x1c3b9e(0xa65)]||_0x36ac12[_0x1c3b9e(0x561)],_0x542f12=_0x1c3b9e(0x8ea)+(_0x4397bd+0x1)+_0x1c3b9e(0x362)+_0x2b2d5a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+currentLiveGamePin+_0x1c3b9e(0x437)+_0x1c84b0+_0x1c3b9e(0x5ad)+_0x19231b+_0x1c3b9e(0x94a);liveGameView[_0x1c3b9e(0x4a4)]=_0x542f12,window[_0x1c3b9e(0x432)]&&MathJax[_0x1c3b9e(0x690)]&&MathJax[_0x1c3b9e(0x690)]([liveGameView]),document[_0x1c3b9e(0x299)](_0x1c3b9e(0x36c))[_0x1c3b9e(0x757)](_0x1c3b9e(0x9dc),()=>revealAnswerForAdmin(_0x4397bd,_0x2b2d5a)),document[_0x1c3b9e(0x299)](_0x1c3b9e(0x6cd))[_0x1c3b9e(0x757)](_0x1c3b9e(0x9dc),async()=>{const _0x147224=_0x1c3b9e;showConfirmation(_0x147224(0x68e),async()=>{const _0x71a901=_0x147224,_0x925729=doc(db,_0x71a901(0x618)+appId+_0x71a901(0x616),currentLiveGameId);await updateDoc(_0x925729,{'status':_0x71a901(0x4f9)});});}),document[_0x1c3b9e(0x299)](_0x1c3b9e(0x6de))[_0x1c3b9e(0x757)](_0x1c3b9e(0x9dc),()=>{const _0x3a06a3=_0x1c3b9e;document['getElementById'](_0x3a06a3(0x344))[_0x3a06a3(0x46e)][_0x3a06a3(0x9d5)](_0x3a06a3(0x52f));});}function showStudentLiveQuestionView(_0x309dfd,_0x181bff,_0x41364c){const _0xe5a407=_0x2944ec,_0x10522e=_0x309dfd[_0xe5a407(0x539)]||currentQuizData[_0xe5a407(0x4f1)];let _0x32ddf1='';if(_0x10522e===_0xe5a407(0x503)||_0x10522e===_0xe5a407(0x71b)){const _0x154389=_0x10522e===_0xe5a407(0x71b)?[_0xe5a407(0x6fe),'ไม่ใช่']:_0x309dfd[_0xe5a407(0x29d)];_0x32ddf1=_0x154389['map']((_0x446e19,_0x54f5d7)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x54f5d7+_0xe5a407(0x1fd)+_0x446e19+_0xe5a407(0x3a7))['join']('');}else{if(_0x10522e===_0xe5a407(0x390)){const _0x118200=_0x309dfd[_0xe5a407(0x662)]||[];_0x32ddf1=_0x118200[_0xe5a407(0x678)]((_0x39f97,_0x126f8c)=>_0xe5a407(0x207)+_0x126f8c+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x39f97+_0xe5a407(0x3a7))[_0xe5a407(0x2b1)]('');}else _0x10522e===_0xe5a407(0x7df)&&(_0x32ddf1=_0xe5a407(0x4c4));}const _0x4d44c4=_0x309dfd['stem']||_0x309dfd[_0xe5a407(0x561)],_0x19398a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x181bff+0x1)+_0xe5a407(0x362)+_0x41364c+_0xe5a407(0x641)+_0x4d44c4+_0xe5a407(0x70e)+_0x32ddf1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0xe5a407(0x4a4)]=_0x19398a;window[_0xe5a407(0x432)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([liveGameView]);const _0x7b8352=document[_0xe5a407(0x299)](_0xe5a407(0x2b9));_0x7b8352&&_0x7b8352['addEventListener'](_0xe5a407(0x9dc),()=>{const _0x414ebc=_0xe5a407,_0x4e96bc=document[_0x414ebc(0x299)](_0x414ebc(0x9b0))[_0x414ebc(0x305)];handleLiveAnswer(_0x4e96bc,_0x309dfd);}),document[_0xe5a407(0x299)](_0xe5a407(0xa13))['addEventListener'](_0xe5a407(0x9dc),_0x89005f=>{const _0x103597=_0xe5a407,_0x58183d=_0x89005f[_0x103597(0x589)]['closest'](_0x103597(0x490));if(_0x58183d){const _0x4b3069=parseInt(_0x58183d[_0x103597(0x574)][_0x103597(0x310)]);handleLiveAnswer(_0x4b3069,_0x309dfd);}});}async function handleLiveAnswer(_0x52636a,_0x1f153f){const _0x1a0357=_0x2944ec;document[_0x1a0357(0x921)]('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x1a0357(0x9ef)](_0x5d71f9=>_0x5d71f9[_0x1a0357(0x278)]=!![]);const _0x13514d=_0x1f153f['questionType']||currentQuizData['quizType'];let _0x359294=![],_0x54382b=_0x52636a;if(_0x13514d===_0x1a0357(0x7df)){const _0x1faaa9=(_0x52636a||'')[_0x1a0357(0x6f3)]();_0x359294=await gradeShortAnswer(_0x1faaa9,_0x1f153f);}else{if(_0x13514d===_0x1a0357(0x503))_0x359294=_0x52636a===_0x1f153f[_0x1a0357(0x36a)];else{if(_0x13514d===_0x1a0357(0x71b)){const _0x523f02=_0x1f153f[_0x1a0357(0x83d)];_0x359294=_0x52636a===0x0&&_0x523f02||_0x52636a===0x1&&!_0x523f02;}else{if(_0x13514d===_0x1a0357(0x390)){const _0x257ac9=_0x1f153f[_0x1a0357(0x662)][_0x52636a];_0x359294=_0x257ac9===_0x1f153f[_0x1a0357(0x826)],_0x54382b=_0x257ac9;}}}}const _0x305b86=doc(db,_0x1a0357(0x618)+appId+_0x1a0357(0x616),currentLiveGameId),_0x2feede={};_0x2feede[_0x1a0357(0x1df)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x2feede['players.'+currentStudentName+'.lastAnswerCorrect']=_0x359294,_0x2feede['players.'+currentStudentName+_0x1a0357(0x934)]=_0x13514d===_0x1a0357(0x7df)||_0x13514d===_0x1a0357(0x390)?null:_0x52636a,_0x2feede[_0x1a0357(0x1df)+currentStudentName+_0x1a0357(0x6c0)]=_0x54382b,_0x2feede[_0x1a0357(0x1df)+currentStudentName+_0x1a0357(0x604)]=serverTimestamp(),_0x2feede[_0x1a0357(0x1df)+currentStudentName+_0x1a0357(0x36e)]=![],await updateDoc(_0x305b86,_0x2feede),liveGameView[_0x1a0357(0x4a4)]=_0x1a0357(0x3bd);}function showAdminSummaryView(_0x2a4945,_0xb6af4){const _0x401554=_0x2944ec,_0x27464e=Object[_0x401554(0x670)](_0x2a4945[_0x401554(0x30d)]||{}),_0x263af0=_0xb6af4[_0x401554(0x539)]||currentQuizData['quizType'],_0x1d160d=_0x263af0===_0x401554(0x71b)?[_0x401554(0x6fe),_0x401554(0x4c7)]:_0xb6af4['options']||_0xb6af4[_0x401554(0x662)]||[],_0x29e5e7={},_0x306404=new Array(_0x1d160d[_0x401554(0x33e)])[_0x401554(0x4d2)](0x0);_0x1d160d[_0x401554(0x9ef)]((_0x500531,_0x22cfa1)=>{_0x29e5e7[_0x22cfa1]=[];}),Object[_0x401554(0x50b)](_0x2a4945[_0x401554(0x30d)]||{})['forEach'](([_0x444559,_0x3ec92b])=>{const _0x473cf1=_0x401554;if(_0x3ec92b[_0x473cf1(0x49d)]===_0x473cf1(0x53d)&&_0x3ec92b[_0x473cf1(0x83a)]!==undefined){const _0x551a00=_0x3ec92b['lastAnswerIndex'];_0x29e5e7[_0x551a00]&&(_0x29e5e7[_0x551a00]['push'](_0x444559),_0x306404[_0x551a00]++);}});const _0x440a74=Math['max'](..._0x306404,0x1),_0x14d80c=_0x401554(0xa25)+(_0xb6af4[_0x401554(0xa65)]||_0xb6af4['questionText'])+_0x401554(0x70a)+_0x306404[_0x401554(0x678)]((_0x2a15af,_0x2e17f6)=>{const _0x2b89d0=_0x401554,_0x821857=_0x29e5e7[_0x2e17f6][_0x2b89d0(0x33e)]>0x0?_0x29e5e7[_0x2e17f6]['join'](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้';let _0x4b421b=![];if(_0x263af0===_0x2b89d0(0x503))_0x4b421b=_0x2e17f6===_0xb6af4[_0x2b89d0(0x36a)];else{if(_0x263af0===_0x2b89d0(0x71b)){const _0x481581=_0xb6af4[_0x2b89d0(0x83d)];_0x4b421b=_0x481581&&_0x2e17f6===0x0||!_0x481581&&_0x2e17f6===0x1;}else _0x263af0===_0x2b89d0(0x390)&&(_0x4b421b=_0x1d160d[_0x2e17f6]===_0xb6af4['correctResponse']);}const _0x52445f=_0x4b421b?'#26890c':'#e21b3c';return _0x2b89d0(0x3e2)+_0x2a15af+_0x2b89d0(0x38e)+_0x52445f+_0x2b89d0(0x42d)+_0x2e17f6+_0x2b89d0(0x80c)+_0x1d160d[_0x2e17f6]+_0x2b89d0(0x327)+_0x2e17f6+_0x2b89d0(0x209)+_0x821857+_0x2b89d0(0x8ad);})[_0x401554(0x2b1)]('')+_0x401554(0x1f9);liveGameView[_0x401554(0x4a4)]=_0x14d80c;if(window[_0x401554(0x432)])MathJax[_0x401554(0x690)]();document[_0x401554(0x299)](_0x401554(0x818))['addEventListener'](_0x401554(0x9dc),async()=>{const _0x58e133=_0x401554,_0x2c9ed8=doc(db,_0x58e133(0x618)+appId+_0x58e133(0x616),currentLiveGameId);await updateDoc(_0x2c9ed8,{'questionStatus':_0x58e133(0x311)});}),document[_0x401554(0x299)](_0x401554(0xa35))[_0x401554(0x757)]('click',()=>{openScratchpad(_0xb6af4,_0x1d160d);});}function showPlayerSummaryView(_0x5ce83e,_0x5f12e8){const _0x26d3e7=_0x2944ec,_0x31d100=Object[_0x26d3e7(0x670)](_0x5ce83e['players']||{}),_0x5d1a1a=_0x5ce83e['players'][_0x5f12e8],_0x14b558=_0x31d100[_0x26d3e7(0x904)](_0x2e1e60=>_0x2e1e60[_0x26d3e7(0x49d)]===_0x26d3e7(0x53d))[_0x26d3e7(0x2e5)]((_0x1088b4,_0x1926aa)=>_0x1926aa[_0x26d3e7(0x986)]-_0x1088b4['score']),_0x58cf28=_0x14b558[_0x26d3e7(0x7eb)](_0x214044=>_0x214044===_0x5d1a1a)+0x1,_0x340999=_0x5d1a1a[_0x26d3e7(0xa66)]?_0x26d3e7(0x3f1):_0x26d3e7(0x93a),_0x1118cf=_0x5d1a1a[_0x26d3e7(0xa66)]?_0x26d3e7(0x8e9):_0x26d3e7(0x1e5),_0x3f608f=_0x5d1a1a[_0x26d3e7(0x78d)]||0x0,_0x34ebcd=_0x26d3e7(0x6a8),_0x52cbc6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x34ebcd+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x1118cf+_0x26d3e7(0x8d8)+_0x340999+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x3f608f+_0x26d3e7(0x246)+(_0x58cf28>0x0?_0x58cf28:'-')+_0x26d3e7(0x860);liveGameView[_0x26d3e7(0x4a4)]=_0x52cbc6;}function createQuizFromBank(){const _0x2aedf5=_0x2944ec,_0x59a897=document['querySelectorAll'](_0x2aedf5(0x8a3));if(_0x59a897['length']===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x3477e4=[];_0x59a897[_0x2aedf5(0x9ef)](_0x403039=>{const _0x57a66d=_0x2aedf5;_0x3477e4[_0x57a66d(0x53c)](JSON[_0x57a66d(0x587)](_0x403039[_0x57a66d(0x305)]));});const _0x10193f={'topic':_0x2aedf5(0x7cd),'questions':_0x3477e4};displayGeneratedQuiz(_0x10193f);}function showAdminLobbyView(_0x26297d,_0x41b165){const _0x1ae991=_0x2944ec;showView(_0x1ae991(0x2b6));const _0x12db0b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x41b165+_0x1ae991(0x709)+_0x26297d+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x12db0b,document[_0x1ae991(0x299)](_0x1ae991(0x8d9))[_0x1ae991(0x757)](_0x1ae991(0x9dc),async()=>{const _0x4109ee=_0x1ae991;if(!currentQuizData||!currentQuizData['questions']||currentQuizData['questions'][_0x4109ee(0x33e)]===0x0){showMessage(_0x4109ee(0x498));return;}try{const _0x166b0e=doc(db,_0x4109ee(0x618)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x166b0e,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x8b5da9=currentQuizData[_0x4109ee(0x256)][0x0],_0x14d887=currentQuizData[_0x4109ee(0x256)][_0x4109ee(0x33e)];showAdminLiveQuestionView(_0x8b5da9,0x0,_0x14d887);}catch(_0x350dd7){console[_0x4109ee(0x5c2)](_0x4109ee(0xa0a),_0x350dd7),showMessage(_0x4109ee(0x2fe));}});}async function openGlobalLiveModal(){const _0xf6b6f1=_0x2944ec;if(allQuizzesGlobal['length']===0x0){const _0x449dcc=await getDocs(collection(db,_0xf6b6f1(0x618)+appId+_0xf6b6f1(0x64b)));allQuizzesGlobal=_0x449dcc[_0xf6b6f1(0x75e)]['map'](_0x1fb637=>({'id':_0x1fb637['id'],..._0x1fb637[_0xf6b6f1(0x719)]()}));}renderGlobalQuizList(''),document['getElementById']('global-live-game-modal')[_0xf6b6f1(0x46e)]['remove'](_0xf6b6f1(0x52f));}async function openQuizBankModal(){const _0x17d4fe=_0x2944ec;if(allQuizzesGlobal[_0x17d4fe(0x33e)]===0x0){const _0x230088=await getDocs(collection(db,_0x17d4fe(0x618)+appId+_0x17d4fe(0x64b)));allQuizzesGlobal=_0x230088[_0x17d4fe(0x75e)][_0x17d4fe(0x678)](_0x28276c=>({'id':_0x28276c['id'],..._0x28276c[_0x17d4fe(0x719)]()}));}renderQuizBankList(''),document[_0x17d4fe(0x299)]('quiz-bank-modal')['classList'][_0x17d4fe(0x75d)]('hidden');}function renderQuizBankList(_0x6ae78e=''){const _0x4e38ca=_0x2944ec,_0x2b78b6=document[_0x4e38ca(0x299)](_0x4e38ca(0x727)),_0x3e530b=_0x6ae78e[_0x4e38ca(0x565)]()[_0x4e38ca(0x980)](),_0x5d2524=allQuizzesGlobal[_0x4e38ca(0x678)](_0x3f2c77=>({..._0x3f2c77,'projectName':allProjects[_0x4e38ca(0x238)](_0x22f59e=>_0x22f59e['id']===_0x3f2c77[_0x4e38ca(0x80d)])?.[_0x4e38ca(0x9bf)]||'N/A'}))[_0x4e38ca(0x904)](_0x4a541c=>(_0x4a541c[_0x4e38ca(0x67d)]||'')['toLowerCase']()[_0x4e38ca(0x38f)](_0x3e530b)||(_0x4a541c[_0x4e38ca(0x9bf)]||'')['toLowerCase']()[_0x4e38ca(0x38f)](_0x3e530b)||_0x4a541c['id'][_0x4e38ca(0x6f3)]()['includes'](_0x3e530b));document[_0x4e38ca(0x299)]('quiz-bank-count')[_0x4e38ca(0x391)]='('+_0x5d2524[_0x4e38ca(0x33e)]+'\x20ชุด)',_0x2b78b6[_0x4e38ca(0x4a4)]=_0x5d2524['length']?_0x5d2524[_0x4e38ca(0x678)](_0x2eae6d=>_0x4e38ca(0x2b5)+_0x2eae6d['id']+_0x4e38ca(0x29b)+(_0x2eae6d[_0x4e38ca(0x67d)]||_0x4e38ca(0x7db))+_0x4e38ca(0x938)+(_0x2eae6d[_0x4e38ca(0x256)]?.[_0x4e38ca(0x33e)]||0x0)+_0x4e38ca(0x94b)+_0x2eae6d['projectName']+_0x4e38ca(0x77f)+_0x2eae6d['id']+_0x4e38ca(0x4a1)+_0x2eae6d['id']+_0x4e38ca(0x9bc)+_0x2eae6d['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2eae6d['id']+_0x4e38ca(0x321)+_0x2eae6d['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2eae6d['id']+_0x4e38ca(0x91b)+_0x2eae6d['id']+'\x22\x20data-topic=\x22'+_0x2eae6d[_0x4e38ca(0x67d)]+_0x4e38ca(0x886))[_0x4e38ca(0x2b1)](''):_0x4e38ca(0x394),_0x2b78b6['querySelectorAll'](_0x4e38ca(0x81b))[_0x4e38ca(0x9ef)](_0x325b86=>{const _0x530de2=_0x4e38ca;_0x325b86[_0x530de2(0x757)](_0x530de2(0x9dc),()=>{const _0x564d98=_0x530de2,_0x11be31=_0x325b86[_0x564d98(0x574)]['id'];document[_0x564d98(0x299)](_0x564d98(0x499))['classList'][_0x564d98(0x5af)](_0x564d98(0x52f)),showQuizDetailView(_0x11be31);});}),_0x2b78b6['querySelectorAll']('.quiz-bank-try-btn')[_0x4e38ca(0x9ef)](_0x2f12e9=>{const _0x41acc8=_0x4e38ca;_0x2f12e9['addEventListener'](_0x41acc8(0x9dc),_0x1a35ba=>{const _0x41548c=_0x41acc8;_0x1a35ba[_0x41548c(0x925)]();const _0x99cfe5=_0x2f12e9[_0x41548c(0x574)]['id'],_0x25ce3d=allQuizzesGlobal[_0x41548c(0x238)](_0x3420c=>_0x3420c['id']===_0x99cfe5);_0x25ce3d?(currentQuizData=_0x25ce3d,document[_0x41548c(0x299)](_0x41548c(0x499))[_0x41548c(0x46e)][_0x41548c(0x5af)]('hidden'),startAdminTest()):showMessage(_0x41548c(0x41c));});}),_0x2b78b6['querySelectorAll']('.quiz-bank-parallel-btn')[_0x4e38ca(0x9ef)](_0x149162=>{const _0x1a46f3=_0x4e38ca;_0x149162[_0x1a46f3(0x757)]('click',_0x131ece=>{const _0x3715eb=_0x1a46f3;_0x131ece['stopPropagation']();const _0xac4c8b=_0x149162['dataset']['id'],_0x486262=allQuizzesGlobal[_0x3715eb(0x238)](_0x3f3d67=>_0x3f3d67['id']===_0xac4c8b);_0x486262?(document[_0x3715eb(0x299)](_0x3715eb(0x499))[_0x3715eb(0x46e)][_0x3715eb(0x5af)](_0x3715eb(0x52f)),handleGenerateParallelFromBank(_0x486262)):showMessage(_0x3715eb(0x41c));});}),_0x2b78b6[_0x4e38ca(0x921)]('.quiz-bank-present-btn')[_0x4e38ca(0x9ef)](_0x27bda9=>{const _0x144b3f=_0x4e38ca;_0x27bda9[_0x144b3f(0x757)](_0x144b3f(0x9dc),_0x545e9f=>{const _0x34ab05=_0x144b3f;_0x545e9f[_0x34ab05(0x925)]();const _0x56539d=_0x27bda9[_0x34ab05(0x574)]['id'],_0x3f2c2c=allQuizzesGlobal[_0x34ab05(0x238)](_0x56817a=>_0x56817a['id']===_0x56539d);_0x3f2c2c?(document[_0x34ab05(0x299)]('quiz-bank-modal')[_0x34ab05(0x46e)][_0x34ab05(0x5af)](_0x34ab05(0x52f)),startPresentation(_0x3f2c2c)):showMessage(_0x34ab05(0x41c));});}),_0x2b78b6[_0x4e38ca(0x921)](_0x4e38ca(0xa1c))[_0x4e38ca(0x9ef)](_0x863e7b=>{const _0x5e9f5c=_0x4e38ca;_0x863e7b[_0x5e9f5c(0x757)]('click',_0x478fef=>{const _0x271cf6=_0x5e9f5c;_0x478fef[_0x271cf6(0x925)]();const _0x99b760=_0x863e7b['dataset']['id'];document[_0x271cf6(0x299)](_0x271cf6(0x499))['classList'][_0x271cf6(0x5af)](_0x271cf6(0x52f)),handleMoveQuiz(_0x99b760);});}),_0x2b78b6[_0x4e38ca(0x921)](_0x4e38ca(0x9e8))[_0x4e38ca(0x9ef)](_0x2eb839=>{const _0x151af7=_0x4e38ca;_0x2eb839[_0x151af7(0x757)](_0x151af7(0x9dc),_0x946ba7=>{const _0x5927ac=_0x151af7;_0x946ba7[_0x5927ac(0x925)]();const _0x2becc0=_0x2eb839[_0x5927ac(0x574)]['id'];document[_0x5927ac(0x299)](_0x5927ac(0x499))['classList']['add'](_0x5927ac(0x52f)),handleQuizSettings(_0x2becc0);});}),_0x2b78b6[_0x4e38ca(0x921)](_0x4e38ca(0x408))['forEach'](_0x53c646=>{const _0x2467bd=_0x4e38ca;_0x53c646[_0x2467bd(0x757)](_0x2467bd(0x9dc),_0x5472cd=>{const _0x315f3b=_0x2467bd;_0x5472cd[_0x315f3b(0x925)]();const _0x2a5dc9=_0x53c646['dataset']['id'],_0x254e8d=_0x53c646['dataset'][_0x315f3b(0x67d)];showConfirmation(_0x315f3b(0xa47)+_0x254e8d+_0x315f3b(0x557),()=>handleDeleteQuiz(_0x2a5dc9));});});}async function handleCompareResults(_0x13c298,_0x234a29){const _0x227b63=_0x2944ec,_0x98a69b=document[_0x227b63(0x299)](_0x227b63(0x342)),_0x38eac4=document[_0x227b63(0x299)](_0x227b63(0x265)),_0x4e49d2=document[_0x227b63(0x299)](_0x227b63(0x399));document[_0x227b63(0x299)]('comparison-overall-tab')[_0x227b63(0x46e)][_0x227b63(0x5af)]('active'),document[_0x227b63(0x299)](_0x227b63(0x919))[_0x227b63(0x46e)][_0x227b63(0x75d)](_0x227b63(0x53d)),_0x38eac4[_0x227b63(0x46e)][_0x227b63(0x75d)]('hidden'),_0x4e49d2[_0x227b63(0x46e)][_0x227b63(0x5af)](_0x227b63(0x52f)),_0x38eac4[_0x227b63(0x4a4)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x4e49d2[_0x227b63(0x4a4)]='',_0x98a69b['classList'][_0x227b63(0x75d)](_0x227b63(0x52f));try{const _0x334339=doc(db,_0x227b63(0x618)+appId+_0x227b63(0x64b),_0x13c298),_0x9a5ba1=await getDoc(_0x334339);if(!_0x9a5ba1[_0x227b63(0x8b2)]())throw new Error(_0x227b63(0x3e1));const _0x230dac=_0x9a5ba1[_0x227b63(0x719)](),_0x2fb945=_0x230dac[_0x227b63(0x256)][_0x227b63(0x33e)],_0x54eaff=collection(db,_0x227b63(0x618)+appId+'/public/data/quizzes/'+_0x234a29+_0x227b63(0x25a)),_0x42adb3=collection(db,'artifacts/'+appId+_0x227b63(0x73f)+_0x13c298+'/submissions'),[_0x55bd6f,_0x10a872]=await Promise['all']([getDocs(_0x54eaff),getDocs(_0x42adb3)]),_0x545c61=_0x55bd6f[_0x227b63(0x75e)][_0x227b63(0x678)](_0x4e1843=>_0x4e1843[_0x227b63(0x719)]()),_0x5a99c2=_0x10a872[_0x227b63(0x75e)][_0x227b63(0x678)](_0x5a5c38=>_0x5a5c38[_0x227b63(0x719)]()),_0x2987cf=_0x545c61[_0x227b63(0x678)](_0x18dbd7=>_0x18dbd7[_0x227b63(0x26b)]),_0x45b865=_0x5a99c2[_0x227b63(0x678)](_0x2d5213=>_0x2d5213[_0x227b63(0x26b)]),_0x4aa4c4=calculateMeanAndStdDev(_0x2987cf),_0x237542=calculateMeanAndStdDev(_0x45b865),_0x2fd5ca=_0x4aa4c4[_0x227b63(0x2c0)],_0x43d87a=_0x237542[_0x227b63(0x2c0)],_0x36955b=_0x43d87a-_0x2fd5ca;let _0x538124=_0x227b63(0x95f)+_0x2fd5ca[_0x227b63(0x882)](0x2)+_0x227b63(0x3f0)+_0x43d87a[_0x227b63(0x882)](0x2)+_0x227b63(0x274)+(_0x36955b>=0x0?_0x227b63(0x686):'bg-red-100')+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x36955b>=0x0?_0x227b63(0xa4d):'text-red-800')+_0x227b63(0xa3c)+(_0x36955b>=0x0?_0x227b63(0x66e):'text-red-900')+'\x22>'+(_0x36955b>=0x0?'+':'')+_0x36955b[_0x227b63(0x882)](0x2)+_0x227b63(0x7f3);_0x38eac4[_0x227b63(0x4a4)]=_0x538124;const _0x3f1b27=document[_0x227b63(0x299)](_0x227b63(0x42f))[_0x227b63(0x583)]('2d');if(chartInstances[_0x227b63(0x78c)])chartInstances['comparison']['destroy']();chartInstances['comparison']=new Chart(_0x3f1b27,{'type':_0x227b63(0x59a),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':'ก่อนเรียน','data':[_0x2fd5ca],'backgroundColor':_0x227b63(0x281)},{'label':_0x227b63(0x316),'data':[_0x43d87a],'backgroundColor':_0x227b63(0x39f)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x2fb945}}}});const _0x3a6027=currentProjectData[_0x227b63(0x6ff)]||[],_0x34d66b=_0x3a6027[_0x227b63(0x678)](_0x376b5e=>{const _0x45264f=_0x227b63,_0x399e72=_0x545c61['find'](_0x294c4b=>_0x294c4b['studentName']===_0x376b5e),_0x310fdb=_0x5a99c2[_0x45264f(0x238)](_0xa6931e=>_0xa6931e['studentName']===_0x376b5e),_0x3e2145=_0x399e72?_0x399e72['latestScore']:null,_0x1a4827=_0x310fdb?_0x310fdb[_0x45264f(0x26b)]:null,_0x479de1=_0x3e2145!==null&&_0x1a4827!==null?_0x1a4827-_0x3e2145:null,_0x44c0c5=_0x3e2145!==null?calculateZScore(_0x3e2145,_0x4aa4c4[_0x45264f(0x2c0)],_0x4aa4c4[_0x45264f(0x64c)]):null,_0xff647d=_0x1a4827!==null?calculateZScore(_0x1a4827,_0x237542[_0x45264f(0x2c0)],_0x237542[_0x45264f(0x64c)]):null,_0xacec49=_0x44c0c5!==null?calculateTScore(_0x44c0c5):null,_0x50bcfc=_0xff647d!==null?calculateTScore(_0xff647d):null,_0x2951d8=_0xacec49!==null&&_0x50bcfc!==null?_0x50bcfc-_0xacec49:null;return{'name':_0x376b5e,'preScore':_0x3e2145,'postScore':_0x1a4827,'gain':_0x479de1,'preTScore':_0xacec49,'postTScore':_0x50bcfc,'tGain':_0x2951d8};});renderIndividualComparisonTable(_0x34d66b,_0x4e49d2);}catch(_0xc39ce4){console['error'](_0x227b63(0x1ed),_0xc39ce4),_0x38eac4[_0x227b63(0x4a4)]=_0x227b63(0x619);}}function displayHalfMarkResult(_0x20e3a0,_0x41cd01){const _0x51ccbc=_0x2944ec,_0x3b9ed3=_0x20e3a0>=_0x41cd01/0x2,_0x4292c4=_0x3b9ed3?_0x51ccbc(0x930):_0x51ccbc(0x6b9),_0xef9417=_0x3b9ed3?_0x51ccbc(0xa21):_0x51ccbc(0x2b3),_0x2f5b7a=_0x3b9ed3?'text-green-800':_0x51ccbc(0x40b),_0x3eefe9=_0x3b9ed3?'ทำคะแนนได้เกินครึ่ง':'คะแนนยังไม่ถึงครึ่ง',_0x1e3443=_0x3b9ed3?_0x51ccbc(0x447):_0x51ccbc(0x9a8);let _0xf91e7e=_0x51ccbc(0x24e)+_0x4292c4+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xef9417+_0x51ccbc(0x8ae)+_0x2f5b7a+'\x20mb-2\x22>'+_0x3eefe9+_0x51ccbc(0x722)+_0x1e3443+_0x51ccbc(0x705);studentResultArea[_0x51ccbc(0x4a4)]=_0xf91e7e,studentResultArea[_0x51ccbc(0x46e)][_0x51ccbc(0x75d)](_0x51ccbc(0x52f)),studentQuizArea[_0x51ccbc(0x46e)][_0x51ccbc(0x5af)](_0x51ccbc(0x52f)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x3b9ed3});}function displayPerfectScoreResult(_0x4f60f5,_0x2a1489){const _0x3e17e7=_0x2944ec,_0x5f59cc=_0x4f60f5===_0x2a1489,_0x2fe648=_0x5f59cc?'bg-yellow-100':_0x3e17e7(0x956),_0x224ea4=_0x5f59cc?_0x3e17e7(0xa61):'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x40e46a=_0x5f59cc?'text-yellow-800':_0x3e17e7(0x58e),_0x1f819c=_0x5f59cc?_0x3e17e7(0x9da):_0x3e17e7(0x55c),_0x17d34f=_0x5f59cc?_0x3e17e7(0x70c):'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x26ff5f=_0x3e17e7(0x24e)+_0x2fe648+_0x3e17e7(0x398)+_0x224ea4+_0x3e17e7(0x8ae)+_0x40e46a+_0x3e17e7(0x73e)+_0x1f819c+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x17d34f+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x3e17e7(0x4a4)]=_0x26ff5f,studentResultArea[_0x3e17e7(0x46e)]['remove'](_0x3e17e7(0x52f)),studentQuizArea[_0x3e17e7(0x46e)][_0x3e17e7(0x5af)](_0x3e17e7(0x52f)),setupResultScreenBackButton({'showRankings':![],'score':_0x4f60f5,'totalQuestions':_0x2a1489});}function renderIndividualComparisonTable(_0x360ba5,_0x9129fb){const _0x2baf8d=_0x2944ec;_0x360ba5[_0x2baf8d(0x2e5)]((_0x4a29ce,_0x2c6a15)=>(_0x2c6a15[_0x2baf8d(0x82c)]??-Infinity)-(_0x4a29ce[_0x2baf8d(0x82c)]??-Infinity));let _0x1d2cbf=_0x2baf8d(0x673);_0x360ba5[_0x2baf8d(0x33e)]===0x0?_0x1d2cbf+=_0x2baf8d(0x356):_0x360ba5[_0x2baf8d(0x9ef)]((_0x9a5e97,_0x5399e6)=>{const _0x8cb266=_0x2baf8d;let _0x1ff386='-',_0x1593cc='';if(_0x9a5e97[_0x8cb266(0x418)]!==null){const _0x26ee84=_0x9a5e97[_0x8cb266(0x418)]>0x0?'text-green-600':_0x9a5e97[_0x8cb266(0x418)]<0x0?_0x8cb266(0x2c3):_0x8cb266(0x58a),_0x4cdf1b=_0x9a5e97[_0x8cb266(0x418)]>0x0?'+':'';_0x1ff386='<span\x20class=\x22font-bold\x20'+_0x26ee84+'\x22>'+_0x4cdf1b+_0x9a5e97[_0x8cb266(0x418)]+_0x8cb266(0x6e8);if(_0x9a5e97['gain']>0x0)_0x1593cc='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x9a5e97[_0x8cb266(0x418)]<0x0?_0x1593cc='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x1593cc=_0x8cb266(0x2c7);}let _0x3984d3='-';if(_0x9a5e97[_0x8cb266(0x82c)]!==null){const _0x1908e3=_0x9a5e97[_0x8cb266(0x82c)]>0x0?'text-green-600':_0x9a5e97[_0x8cb266(0x82c)]<0x0?_0x8cb266(0x2c3):_0x8cb266(0x58a),_0x552eb3=_0x9a5e97[_0x8cb266(0x82c)]>0x0?'+':'';_0x3984d3=_0x8cb266(0x21c)+_0x1908e3+'\x22>'+_0x552eb3+_0x9a5e97[_0x8cb266(0x82c)][_0x8cb266(0x882)](0x2)+_0x8cb266(0x6e8);}_0x1d2cbf+=_0x8cb266(0x714)+(_0x5399e6+0x1)+_0x8cb266(0x63f)+_0x9a5e97[_0x8cb266(0x799)]+_0x8cb266(0x9f7)+(_0x9a5e97[_0x8cb266(0x9f9)]??'-')+_0x8cb266(0x26e)+(_0x9a5e97[_0x8cb266(0x8fd)]??'-')+_0x8cb266(0x9f7)+_0x1ff386+_0x8cb266(0x83f)+_0x1593cc+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x9a5e97['preTScore']?.['toFixed'](0x2)??'-')+_0x8cb266(0x4cb)+(_0x9a5e97[_0x8cb266(0x215)]?.[_0x8cb266(0x882)](0x2)??'-')+_0x8cb266(0x9f7)+_0x3984d3+_0x8cb266(0xa39);}),_0x1d2cbf+=_0x2baf8d(0x530),_0x9129fb[_0x2baf8d(0x4a4)]=_0x1d2cbf;}function handleRenameQuiz(_0x3f036a,_0x3975e8){const _0x50dd9d=_0x2944ec;actionTargetId=_0x3f036a,document['getElementById'](_0x50dd9d(0x91f))[_0x50dd9d(0x305)]=_0x3975e8,renameQuizModal['classList']['remove'](_0x50dd9d(0x52f));}function setupComparisonModalTabs(){const _0x1e8dff=_0x2944ec,_0x55470a=document['getElementById'](_0x1e8dff(0x840)),_0x4efcc4=document[_0x1e8dff(0x299)](_0x1e8dff(0x919)),_0x1b4c65=document[_0x1e8dff(0x299)](_0x1e8dff(0x265)),_0x5c05ca=document[_0x1e8dff(0x299)]('comparison-individual-content');_0x55470a[_0x1e8dff(0x757)](_0x1e8dff(0x9dc),()=>{const _0x61f03f=_0x1e8dff;_0x55470a[_0x61f03f(0x46e)][_0x61f03f(0x5af)](_0x61f03f(0x53d)),_0x4efcc4[_0x61f03f(0x46e)][_0x61f03f(0x75d)](_0x61f03f(0x53d)),_0x1b4c65[_0x61f03f(0x46e)]['remove'](_0x61f03f(0x52f)),_0x5c05ca[_0x61f03f(0x46e)]['add']('hidden');}),_0x4efcc4[_0x1e8dff(0x757)](_0x1e8dff(0x9dc),()=>{const _0x20ee55=_0x1e8dff;_0x4efcc4[_0x20ee55(0x46e)][_0x20ee55(0x5af)](_0x20ee55(0x53d)),_0x55470a[_0x20ee55(0x46e)][_0x20ee55(0x75d)](_0x20ee55(0x53d)),_0x5c05ca[_0x20ee55(0x46e)][_0x20ee55(0x75d)](_0x20ee55(0x52f)),_0x1b4c65[_0x20ee55(0x46e)][_0x20ee55(0x5af)](_0x20ee55(0x52f));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x18ef8f=''){const _0x115ecc=_0x2944ec,_0x36bf6c=document[_0x115ecc(0x299)](_0x115ecc(0x5c7)),_0x139574=_0x18ef8f[_0x115ecc(0x565)]()[_0x115ecc(0x980)](),_0x41e835=allQuizzesGlobal['map'](_0x594781=>({..._0x594781,'projectName':allProjects['find'](_0x32ac91=>_0x32ac91['id']===_0x594781[_0x115ecc(0x80d)])?.[_0x115ecc(0x9bf)]||_0x594781[_0x115ecc(0x80d)]}))[_0x115ecc(0x904)](_0x43653e=>(_0x43653e[_0x115ecc(0x67d)]||'')['toLowerCase']()[_0x115ecc(0x38f)](_0x139574)||(_0x43653e[_0x115ecc(0x9bf)]||'')['toLowerCase']()['includes'](_0x139574));document[_0x115ecc(0x299)](_0x115ecc(0x982))[_0x115ecc(0x391)]='('+_0x41e835[_0x115ecc(0x33e)]+'\x20ชุด)',_0x36bf6c[_0x115ecc(0x4a4)]=_0x41e835[_0x115ecc(0x33e)]?_0x41e835[_0x115ecc(0x678)](_0x194df5=>_0x115ecc(0x983)+_0x194df5['id']+_0x115ecc(0x7fa)+(_0x194df5[_0x115ecc(0x67d)]||_0x115ecc(0x7db))+_0x115ecc(0x2ef)+(_0x194df5[_0x115ecc(0x256)]?.[_0x115ecc(0x33e)]||0x0)+'\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x194df5[_0x115ecc(0x9bf)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20')[_0x115ecc(0x2b1)](''):_0x115ecc(0x9d4),selectedGlobalQuizId=null,document[_0x115ecc(0x299)](_0x115ecc(0x970))[_0x115ecc(0x278)]=!![],_0x36bf6c[_0x115ecc(0x921)]('button[data-id]')[_0x115ecc(0x9ef)](_0x4b4797=>{const _0xa5465a=_0x115ecc;_0x4b4797[_0xa5465a(0x757)](_0xa5465a(0x9dc),()=>{const _0x455d70=_0xa5465a;selectedGlobalQuizId=_0x4b4797[_0x455d70(0x574)]['id'],_0x36bf6c[_0x455d70(0x921)](_0x455d70(0x282))[_0x455d70(0x9ef)](_0x1d24dd=>_0x1d24dd[_0x455d70(0x46e)][_0x455d70(0x75d)](_0x455d70(0xa04),_0x455d70(0x43b),_0x455d70(0x9cf))),_0x4b4797[_0x455d70(0x46e)][_0x455d70(0x5af)](_0x455d70(0xa04),_0x455d70(0x43b),_0x455d70(0x9cf)),document[_0x455d70(0x299)]('confirm-global-live-btn')[_0x455d70(0x278)]=![];});});}function _0x2293(){const _0x5d8ed2=['write',',\x20r=','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x20หัวข้อ)','ยืนยันและอัปเดตทั้งหมด','ไม่พบแบบทดสอบ','comparison-individual-tab','retake-quiz-loop-btn','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','results-display-select','ไม่สามารถบันทึกการตั้งค่าได้','on_fire','rename-quiz-input','สลับไปโหมดผู้ควบคุม','querySelectorAll','Error\x20during\x20class\x20analysis:','132vmTaHM','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','stopPropagation','cancel-rename-quiz-btn','```','ศูนย์','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','.quiz-result-card','311241ghnkDn','การเรียงสับเปลี่ยน\x20(Permutation)','student-reading-area','bg-green-50','generated-quiz-container','bg-green-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','projectView','Error\x20fetching\x20projects\x20for\x20move:','.lastAnswerIndex','cloneNode','\x22\x20class=\x22color-palette-btn\x20','กำลังดึงข้อมูลจากลิงก์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','kick-player-btn','ผิด','.live-summary-tooltip.visible','bestScore','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','questionId','getScreenCTM','pinnedProjects','ปริมาตร/ความจุและการแปลง','21vNTwlf','pointercancel','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เลือกและบันทึก','highlighter-tool-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','.project-card-container.opacity-50','generate-from-parallel-test-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','student-name-selection-view','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','presentation-ai-result','input[type=\x22text\x22]','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','deselect-all-topics-btn','q-image-container-','removeEventListener','questionIndex','bg-blue-100','custom-math-topic-input','\x5cfrac{$1}{$2}','quiz-results-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','ระบบอสมการ','default','ความชันและเส้นตรง','scratchpad-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','match','เส้นรอบรูป','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-500\x20hover:text-red-700','worksheet-tab','<li>','เกิดข้อผิดพลาดในการปักหมุด','ความน่าจะเป็นแบบมีเงื่อนไข','text-blue-700','getItem','project-passcode-input','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','.question-editor-item[data-q-index=\x22','transition-all','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','confirm-global-live-btn','project-passcode-modal','AI\x20ไม่สามารถประมวลผลข้อมูลได้','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','วงกลม:\x20สมการและสมบัติ','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','clientY','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','back-to-dashboard-from-results-btn','รูปสี่เหลี่ยมและสมบัติ','timer-duration-container','nickname-input','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Failed\x20to\x20get\x20hint:','cancel-quiz-edits-btn','trim','Error\x20unpairing\x20quizzes:','global-live-game-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','ไม่พบโปรเจค','score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x20(p=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div>','.csv','ไม่สามารถโหลดรายการโปรเจคได้','fill_in_with_choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','/users/','การแจกแจงปกติและ\x20z-score','select-all-topics-btn','.parallel-quiz-btn','การหารเศษส่วน','สมการตรีโกณมิติ','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cneq','student-progress-content','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','\x22\x20data-pre-test-id=\x22','project-title','timer-bar','now','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','</li>','cancel-create-project-btn','_opt','สู้ๆ\x20ลองอีกครั้งนะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','jspdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไฮเพอร์โบลา','fixedData','.draggable-text','live-short-answer-input','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','หัวข้อที่สร้างเอง','msRequestFullscreen','PERSEVERANCE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','teachingContent','(ตัวเลือกผิดพลาด)','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','insertBefore','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectName','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','พื้นที่สี่เหลี่ยม','mouseleave','force-math-checkbox','name_desc','ที่พิมพ์ได้\x20จำนวน\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','smooth','geq','verify-answers-editor-btn','บันทึกคำถามใหม่\x20','analytics-summary-cards','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','leaderboard_','ring-purple-400','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','earned-badges-container','.ql-editor','</td></tr>','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','toggle','student-passcode-input','replace','/public/data/practiceBank','Error\x20renaming\x20quiz:','คะแนนเต็ม!','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','click','คณิตศาสตร์','Error\x20saving\x20quiz:','results_','shuffledQuiz','visible','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','per-question-timer-container','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','text-input-area','game-pin-input','ระยะเวลา\x20(วินาที):','.quiz-bank-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setAttributeNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','numeric','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ร้อยละประยุกต์','forEach','Error\x20deleting\x20student:','.project-card-container','กำลังอัปเดตแบบทดสอบ\x20','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','เส้นตรง:\x20ขนาน/ตั้งฉาก','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','answerText','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','preScore','การบวกเศษส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','setFont','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','touchend','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.\x20แต่ละข้อมี\x20','cancel-bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-purple-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scale','shadowBlur','download','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20game:','เกมสิ้นสุดลงแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','modal-results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สร้างแบบทดสอบปรนัย','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','ค่าสัมบูรณ์','live-options-container','ลำดับเรขาคณิต\x20(GP)','#results-table','รูปสแควร์รูท\x20(surd)','shuffle','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.export-pdf-list-btn','.quiz-bank-move-btn','manage','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','blockReason','project-list','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','admin-password-modal','_opt0\x22>ใช่</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','baseVal','.generate-easy-version-btn','score-distribution-chart','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','mixed','results','cancel-passcode-btn','generate-worksheet-btn','backgroundColor','text-green-600','screen_exit','1179490LziEYe','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','open-scratchpad-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','appendChild','.verification-result','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','pre-test-checkbox','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','webkitExitFullscreen','outerHTML','block','modal-timer-mode-select','commit','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','bulk-quiz-settings-modal','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','showInStudentDashboard','\x5ccdot','ไม่ได้ตอบ','width','text-emerald-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','ส่วนเบี่ยงเบนเฉลี่ย','deltaY','padStart','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','</th>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-image-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-green-700','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','student-quiz-topic','Error\x20resetting\x20project\x20order:','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','copy-quiz-id-btn','0\x200','false','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','modal-timer-duration-container','offsetWidth','lineJoin','stem','lastAnswerCorrect','เรเดียนและการแปลงหน่วย','text-white','ผู้ไม่ยอมแพ้','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','totalPoints','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','Error\x20deleting\x20all\x20students:','all','quiz-editor-modal','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','ผู้ควบคุม\x20(ทดสอบ)','schedule','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','<svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','justification','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.option-text','อัตราการเปลี่ยนแปลงทันที','application/json','players.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','leaderboard-tab-content','AI\x20Fix\x20Error:','practiceProblems','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-500','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','\x22\x20value=\x22false\x22\x20','NEGATIVE_INFINITY','text-red-700','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','.delete-quiz-btn','fa-fire\x20text-orange-500','Error\x20comparing\x20results:','.start-live-race-btn','div[data-question-index=\x22','เกี่ยวกับหัวข้อ\x20\x22','\x22\x20data-name=\x22','\x20คนที่ส่ง\x20ตอบถูก\x20(','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','toDate','quiz-status-modal','open-quiz-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','คะแนน','quiz-leaderboard-table-body','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','flex','admin-password-input','summary_chart','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','MathJax\x20typeset\x20error\x20(analytics):','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','\x20\x0a\x20\x20\x20\x20','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','red','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ร้อยละพื้นฐาน','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-tab','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','div','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','message','Error\x20saving\x20questions\x20to\x20practice\x20bank:','results-tab','highlighter','AI\x20แก้ไขคำถามสำเร็จ!','hasOwnProperty','postTScore','.edit-quiz-btn','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','scratchpad-clear-btn','/public/data/learnedFixes','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','<span\x20class=\x22font-bold\x20','\x22...','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','not-found','กำลังสร้างแบบทดสอบคู่ขนาน...','getTextContent','Error\x20verifying\x20answers:','dragend','STRING','cancel-test-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</strong></p>','พอใช้','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','transform','starred-project','top','projectSort','parallel-test-upload-input','thead\x20.sortable-header','contents','Error\x20rendering\x20student\x20progress:','student-result-area','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','student-project-leaderboard-table-body','slide-counter','มัธยฐาน','modal-message','find','กำลังสร้างคำถามข้อ\x20','stringify','getPage','trail','<span\x20title=\x22','.ideal-answer-input','viewBox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','quadraticCurveTo','release','(เลือกแล้ว\x20','difficulty-level-select','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','presentation-modal','admin-dashboard','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','delete-all-students-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','rgba(79,\x2070,\x20229,\x201)','standardTopic','destroy','.toggle-actions-btn','เปิด\x20(จับเวลา)','overallGroups','questions','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','/submissions','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','className','learningGaps','.question-editor-item','quiz-type-select','เปิดใช้งาน','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-row','auto','comparison-overall-content','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาใส่ชื่อนักเรียน','กรุณาใส่ชื่อใหม่','modal-timer-duration-input','latestScore','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','parallel-test-tab','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','questionStatus','สรุปผลสุดท้าย','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','mouse','medium','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x22\x20value=\x22true\x22\x20','\x22\x20ซึ่งมีทั้งหมด\x20','\x20ข้อพอดี**\x20ห้ามขาด\x20ห้ามเกิน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ความเป็นคู่ขนาน:**\x20โจทย์ใหม่ต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเทียบเท่ากับโจทย์เดิม\x20แต่ต้องใช้ตัวเลข\x20สถานการณ์\x20หรือคำถามที่แตกต่างออกไป\x20**ห้ามคัดลอกโจทย์เดิม**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**โครงสร้างเหมือนเดิม:**\x20ประเภทของคำถามแต่ละข้อ\x20(เช่น\x20ปรนัย,\x20เติมคำ)\x20ต้องเหมือนกับข้อสอบต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**คุณภาพของตัวเลือก\x20(สำหรับปรนัย):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ต้องมีคำตอบที่ถูกต้องเพียง\x20**หนึ่งเดียว**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวง\x20(Distractors)\x20ต้องมีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x20แต่ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามมีตัวเลือกที่กำกวมหรือมีความหมายซ้ำซ้อนกัน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','disabled','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','จำนวนคละ','badgesCount','Error\x20generating\x20worksheet:','blur','rgba(239,\x2068,\x2068,\x200.9)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','rgba(59,\x20130,\x20246,\x200.7)','button','ดอกเบี้ยทบต้น',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','stroke','ย้ายแบบทดสอบไปโปรเจคอื่น','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createdBy','.topic-name-input','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','cursor','project-quizzes-list','กรุณาใส่ชื่อโปรเจค','fullscreenElement','fill_in_the_blank','-tab-content','สถิติและความน่าจะเป็น','isRemedial','เกิดข้อผิดพลาดในการบันทึกลำดับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','getElementById','\x5ctimes','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x22\x5cn','options','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isCorrect','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างโปรเจคสำเร็จ!','no-projects-msg','settings','สร้างใหม่','scheduled','เรขาคณิตวิเคราะห์','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-leaderboard-pdf-btn','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passcode-input-container','approx','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','#retake-for-improvement-btn','คำถามดิบ:\x20\x22','การแปลงรูปอัตลักษณ์','join','blueprint-input-area','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','live-game','quizId','จับคู่เพื่อเปรียบเทียบผล','live-submit-short-answer-btn','msExitFullscreen','border-indigo-400\x20ring-2\x20ring-indigo-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','ทำคะแนนเต็มในการทำครั้งแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','create-from-bank-btn','mean','behaviorLog','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','text-red-600','หมดเวลา!\x20กำลังส่งคำตอบ...','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','none','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','export-compact-pdf-btn','.presentation-option','bank-input-area','touch','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','eraser','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-view','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','modal-loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isStarred','choices_only','keydown','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','include-images-checkbox','อัปเดตแบบทดสอบเก่า\x20','เกิดข้อผิดพลาดในการสร้างใบงาน','เกิดข้อผิดพลาดในการลบแบบทดสอบ','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','check-presentation-answer-btn','preventDefault','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20processing\x20file\x20for\x20AI:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','sort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20listening\x20for\x20projects:','23496pLzmZb','</button>','passing-score-input','player-count','confirm-passcode-btn','อนุพันธ์:\x20กฎพื้นฐาน','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','cancel-global-live-btn','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','save','scheduled_pending','document','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','ความเป็นอิสระของเหตุการณ์','เรขาคณิต','ส่วนเบี่ยงเบนมาตรฐาน','<div\x20class=\x22loader\x20mx-auto\x22></div>','การสร้างรูปด้วยวงเวียน–สันตรง','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไม่สามารถเริ่มเกมได้','ตัวประกอบและตัวประกอบเฉพาะ','\x20ตัวเลือก.\x20','Error\x20generating\x20parallel\x20post-test:','starred','พิสัย','<i\x20class=\x22fas\x20fa-save\x22></i>','value','px)\x20scale(','test','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20custom\x20math\x20topics:','พื้นที่ใต้กราฟ/ระหว่างกราฟ','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-project-btn','players','offset','Error\x20deleting\x20submission:','index','leaderboard','.sort-indicator','สอบปกติ','lineCap','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','หลังเรียน','idealAnswer','ระยะทางและจุดกึ่งกลาง','การหารทศนิยม','grid-view-btn','<p\x20class=\x22font-bold\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','$1^{\x5ccirc}\x5ctext{C}','image/png','fas\x20fa-user-edit','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','finishReason','ผ่าน','.png','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','ไม่พบข้อมูลผู้ใช้','label','#per-question-options\x20select','.answer-text','question-analytics-container','ตรวจพบการออกจากหน้าจอครบ\x20','.group','<div\x20class=\x22space-y-4\x22>','getBBox','th-TH','อนุพันธ์:\x20กฎลูกโซ่','</div><div\x20class=\x22space-y-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','ระยะจากจุดถึงเส้นตรง','font-bold\x20text-red-700\x20line-through','ไม่พบตารางสำหรับ\x20Export','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','quiz-form','showRankings','preTestId','length','เกิดข้อผิดพลาดในการบันทึก','เกิดข้อผิดพลาด:\x20','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','comparison-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','live-player-management','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','confirm-move-quiz-btn','\x20สำเร็จ','generate-from-blueprint-btn','กรุณาเลือกโปรเจคปลายทาง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','/studentProfiles','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Leaderboard\x20update\x20transaction\x20failed:\x20','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','str','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','Error\x20opening\x20quiz\x20editor:','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','projectOrder','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','studentName','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','isLooping','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mousemove','save-visibility-settings-btn','pointerup','devicePixelRatio','\x20/\x20','export-leaderboard-excel-btn','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','/public/data/projects','.correct-response-input','project-detail','correctAnswerIndex','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','reveal-answer-btn','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','.isScored','API\x20call\x20failed','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ตารางความถี่','icon','dragstart','instructions','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','leaderboard-quiz-tab-btn','pointerdown','lessonPlan','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษาที่มีความแม่นยำสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20นี่คือแบบทดสอบต้นฉบับในหัวข้อ\x20\x22','function','topic-input','(คู่ขนาน)\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','manual_release','cancel-quiz-settings-btn','input[type=\x22radio\x22][value=\x22','แบบทดสอบซ่อมเสริม','href','startedAt','แผนการสอน','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','answers','modal-close-btn','moveTo','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','includes','matching_item','textContent','pairedQuizId','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','สร้างแบบทดสอบ','bg-green-100\x20font-bold','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-individual-content','cos','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','close-comparison-modal-btn','bank-tab','\x5cdiv','rgba(16,\x20185,\x20129,\x200.7)','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','arrayBuffer','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','element','shuffleSetting','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','editor-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','9614MpvWnD','date_asc','resultsDisplay','request','$1_{$2}','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','อัปเดตพฤติกรรมสำหรับ\x20','close-presentation-btn','px,\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','position','rgba(79,\x2070,\x20229,\x200.8)','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','Error\x20fetching\x20quiz\x20status:','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','shadowColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20settings:','parts','toISOString','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','save-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','targetId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','lowerGroupResponders','generated-quiz-actions','.pen-color-btn','half_mark_status','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','explanation','.summary-bar-item','onerror','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','contains','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20โดยต้องปฏิบัติตามกฎเหล็กต่อไปนี้อย่างเคร่งครัด:\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็ก\x20(ต้องปฏิบัติตามทุกข้อ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ความถูกต้อง\x20100%:**\x20คำถาม\x20ตัวเลือก\x20และเฉลยที่สร้างขึ้นใหม่ทั้งหมดต้องถูกต้องตามหลักวิชาการและคณิตศาสตร์\x20100%\x20**ห้ามมีข้อผิดพลาดโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**จำนวนข้อที่แน่นอน:**\x20แบบทดสอบชุดใหม่ต้องมี\x20**','per-question-options','กรุณาเลือกไฟล์ก่อน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','quiz-leaderboard-table-container','ข้อต่อไป','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','result','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20name=\x22drill_answer\x22\x20value=\x22','input[name=\x22question_single\x22]:checked','scratchpad-question','คณิตการเงิน/บูรณาการ','dispatchEvent','highlighter-size-value','.ai-fix-formula-btn','mouseup','Error\x20generating\x20easy\x20version\x20quiz:','จากเนื้อหาต่อไปนี้:\x20\x22','เกิดข้อผิดพลาดในการอ่านไฟล์','ไม่พบข้อมูลข้อสอบหลังเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','แผนการสอน:\x20','เกิดข้อผิดพลาดในการสร้างห้องเกม','cancel-quiz-status-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20showing\x20quiz\x20detail\x20view:','start-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','playerName','specialist','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close','Error\x20adding\x20custom\x20topic:','กราฟแท่ง\x20กราฟเส้น','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','ถูกต้อง!','จำนวนคู่:','isArray','thead','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','change','loader-text','classWeaknesses','totalQuestions','จำนวนและการดำเนินการ','canvas','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-green-200','originalQuestionText','afterend','%</span>','ราชาคัมแบ็ก','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','^{\x5ccirc}\x5ctext{C}$','webkitRequestFullscreen','text-indigo-800','.quiz-bank-delete-btn','เกิดข้อผิดพลาดในการอัปเดต:\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20','text-red-800','dimmed','back-from-results-btn','svg','<h1></h1>','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','desc','save-settings-btn','export-excel-btn','พีชคณิตและฟังก์ชัน','ปริมาตรรูปทรงสามมิติ','input[name=\x22drill_answer\x22]:checked','ตัวแปรและนิพจน์','gain','(หลังเรียน)\x20','back-to-project-btn','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','ไม่พบข้อมูลแบบทดสอบ','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','createElementNS','ชื่อหัวข้อห้ามว่าง','pow','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','.quiz-status-btn','เกิดข้อผิดพลาดในการลบนักเรียน','ai-quiz-app-aefee.firebaseapp.com','keys','.verification-result-editor','text/csv;charset=utf-8;','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','หน่วยมวล/น้ำหนักและการแปลง','lower_group_count','close-game-final-btn',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','comparison-chart','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','bank-quiz-search-input','MathJax','quiz-settings-modal',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','split','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ring-2','cancel-quiz-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x5c\x5c\x5c\x5c(?=(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','prod','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','wheel','Error\x20deleting\x20custom\x20topic:','reference-pdf-upload','ยอดเยี่ยม!','#D1FAE5','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','confirmation-modal','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','imageCode','some','</span></td>','export-leaderboard-word-btn','การยืนยันตัวตนล้มเหลว','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','กรุณาป้อนหัวข้อสำหรับใบงาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-topic=\x22','text-gray-200','helvetica','\x5csum','btn','$1^{$2}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-700\x20bg-red-100','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','lesson-plan-content','confirm-rename-quiz-btn','Failed\x20to\x20kick\x20player\x20','indexOf','documentElement','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','fa-pen','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','restore','/public/data/customMathTopics','lowerGroupNames','อัตราส่วนและสัดส่วน','back-to-student-initial-btn','touches','quiz-end-time','qIndex','อสมการเชิงเส้น','classList','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','คัดลอกรหัสแล้ว!','lesson-plan-title','</p></div>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','inactive','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','delete','.pin-project-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','.pair-quiz-btn','_opt0\x22\x20name=\x22question','เวกเตอร์และเมทริกซ์\x20(เสริม)','ฟังก์ชันลอการิทึม','onclick','auto-fix-latex-btn','max','class','สร้างคำถามแบบเติมคำในช่องว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','text-content-input','<div\x20class=\x22flex-1\x22></div>','touchmove','modal-adaptive-quiz-checkbox','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','authed_project_','promise','\x22\x20class=\x22delete-project-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','requestFullscreen','.live-answer-btn','แคลคูลัสเบื้องต้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','9729jZXAvK','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-move-quiz-btn','student-rankings-modal','admin','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','quiz-bank-modal','key','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบโปรเจค','status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','q-text-','text-gray-300\x20hover:text-white','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','สรุปผลการวิเคราะห์:\x5cn','export-leaderboard-image-btn','innerHTML','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','อัปเดตการตั้งค่าของแบบทดสอบ\x20','bg-green-100\x20text-green-800','raw','perfect_score','ระยะเวลา\x20(นาที):','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','num-choices','behavior-log-tab-btn','show_results_and_answers','onload','back-to-dashboard-btn','execCommand','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','(ก่อนเรียน)\x20','presentation-scratchpad-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','bg-red-100\x20text-red-800','tfrac','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','td,\x20th','\x20จาก\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','beginPath','.star-quiz-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','passingScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20request\x20was\x20blocked.\x20Reason:\x20','ไม่ใช่','แบบเติมคำตอบ','Error\x20generating\x20quiz:','เซียนสมองไว','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','visibilitychange','from','ARRAY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','แก้ไขข้อนี้','cancel-delete-btn','fill','clientX','สอบซ่อม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','pointermove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','ไม่มี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','save-project-name-btn','submissions','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','workerSrc','</td>','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','solution','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','คุณต้องการให้\x20AI\x20สร้างแบบทดสอบชุดนี้ในเวอร์ชันที่ง่ายลงหรือไม่?\x20ระบบจะสร้างเป็นแบบทดสอบชุดใหม่ในโปรเจคนี้','join-live-game-btn','274192258111','items','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','แก้ไขหัวข้อสำเร็จ','quiz','กรุณาเลือกชื่อของคุณ','opacity','confirm-quiz-settings-btn','quizType','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','removeAttribute','.edit-question-btn','total','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wakeLock','project-dashboard-view','podium','AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...\x20กรุณารอสักครู่','student-quiz-leaderboard-tab','Error\x20generating\x20lesson\x20plan:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','.status','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','startsWith','multiple_choice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','globalCompositeOperation','redo-btn','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','สมการยกกำลัง','ส่งคำตอบ','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','entries','input[type=\x22radio\x22]:checked','\x22\x20name=\x22question','answeredCurrentQuestion','ระบบเลขและค่าประจำหลัก','Re-grade\x20process\x20failed:','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20listening\x20for\x20starred\x20quizzes:','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','\x22>ใช่</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','สมการราก\x20(radical)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ย้ายแบบทดสอบสำเร็จ','.scratchpad-content-wrapper','cancel-export-pdf-btn','border-red-700','answering','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','lobby','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-initial-view','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','num-choices-container','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','_opt1\x22\x20name=\x22question','quiz-generation-area','manage-tab','admin-view','scratchpad-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','fixed','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความสัมพันธ์ของมุม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hidden','</tbody></table></div>','list-view-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','editable-text-','save-quiz-edits-btn','deg','close-lesson-plan-modal-btn','mousedown','#FFFFFF','questionType','รอเปิด','project-search-input','push','active','drop','timer-duration-input','beforeend','การจัดกลุ่มข้อมูล','date_desc','สมมาตร\x20(แกน/จุด)','#student-project-leaderboard-content\x20thead','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tooltipTarget','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reduce','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','bg-red-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','FIRST_TRY_ACE','อุณหภูมิและการแปลง','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','กรุณาเลือกสถานะ','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','</tr>','Error\x20saving\x20to\x20question\x20bank:','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','content','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','multiply','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','ยังไม่เต็มนะ','<span\x20class=\x22sort-indicator\x20ml-2\x22>','ชื่อโปรเจคห้ามว่าง','loader','textarea','questionText','\x5csqrt{$1}','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','toLowerCase','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังจับคู่...','warn','แผนภาพกล่อง\x20(box\x20plot)','.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','คำเตือน\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','message-modal','องค์ประกอบของฟังก์ชัน','.duplicate-quiz-btn','จับคู่แบบทดสอบสำเร็จ!','ไม่พบแบบทดสอบในระบบเลย','dataset','results-table','perQuestionStats','#E5E7EB','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','{$1}','startTime','fa-dumbbell\x20text-gray-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','view-my-progress-btn','.generate-post-test-btn','quiz-search-input','http://www.w3.org/2000/svg','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','getContext','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','#results-table\x20thead\x20tr','parse','Remedial\x20quiz\x20generation\x20failed:','target','text-gray-500','ai-quiz-app-aefee.firebasestorage.app','global-live-game-modal','line-through\x20text-red-700','text-blue-800','endTime','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','.ideal-answer-input,\x20.correct-response-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','quiz-schedule-start-container','แผนภาพเวนน์','eraser-tool-btn','empty','การลบ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bar','[contenteditable=\x22true\x22]','#000000','check-answer-btn','confirm-delete-btn','has','ลบหัวข้อสำเร็จ','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','bg-green-200\x20text-green-800','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','slice','มุมพิเศษ\x2030°-60°-90°','setAttribute','</div>\x0a</div>\x0a','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','submission','show-in-student-dashboard-checkbox','.pen-size-btn','student','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-worksheet-pdf-btn','add','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','QUICK_THINKER','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','dragover','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','screen','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','sqrt','ค.ร.น.\x20(LCM)','modal-shuffle-select','bg-amber-100\x20text-amber-800','ON_FIRE','Invalid\x20response\x20structure\x20from\x20AI.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','log','ฟังก์ชันยกกำลัง','style','error','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','\x20ครั้ง)</span></td>','\x22\x20value=\x22','เกิดข้อผิดพลาดในการเปลี่ยนสี','global-quiz-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาวาง\x20URL\x20ของบทความก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','text-gray-700','/public/data/projects/','\x22\x20data-q-type=\x22','COMEBACK_KING','ดอกเบี้ยอย่างง่าย','</p><p><strong>เฉลย:</strong>\x20','move-quiz-project-select','student-quiz-area','Error\x20pairing\x20quizzes:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','เกิดข้อผิดพลาดในการโหลดโปรเจค','[*]','localeCompare','เกิดข้อผิดพลาดในการลบผลสอบ','transparent','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','isPinned','\x22><p\x20class=\x22font-semibold\x22>','AI\x20grading\x20failed:','substring','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','</p>','ไม่สามารถสร้างโปรเจคได้','add-student-btn','$1\x5ctimes','</label>\x0a\x20\x20\x20\x20</div>\x0a','จำนวนเชิงซ้อน\x20(เสริม)','ค่าเสื่อมราคา','<div><input\x20type=\x22radio\x22\x20id=\x22q','get','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','ไม่พบข้อมูลการจับคู่','ส่งแล้ว','table','<br>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','สมการเหตุผล\x20(rational)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','bulk-quiz-settings-btn','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','2YPqVuv','บันทึกแบบทดสอบสำเร็จแล้ว!','<button\x20id=\x22','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','removeChild','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','.project-card-container[data-id]','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','print','generate-from-file-btn','https://corsproxy.io/?','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','pen-tools-group','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','.submittedAt','true','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','[role=\x22textbox\x22]','อนุพันธ์:\x20ผลคูณ/ผลหาร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','correct','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','results-table-container','scratchpad-canvas','perseverance','exitFullscreen','ความเท่ากันทุกประการของสามเหลี่ยม','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดอทโปรดักต์\x20(dot)','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','.topic-category','/public/data/liveGames','undo-btn','artifacts/','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','input[name=\x22status-option\x22]:checked','</p><div>','ย้าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','flex\x20flex-col\x20gap-2','Error\x20duplicating\x20quiz:','bulk-results-display-select','$1^{\x5ccirc}','ดีมาก','N/A','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','dashboardConfig','การนับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','Error\x20saving\x20visibility\x20settings:','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-upload-input','.ai-fix-question-btn','set','ตอบถูกทุกข้อในแบบทดสอบนี้','file-upload-input','close-student-rankings-btn','สมการลอการิทึม','submittedAt','shuffle-setting-select','สร้างคำถามแบบใช่/ไม่ใช่','practice-topic-btn','</span></p>','latestSubmittedAt','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','timer-mode-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','timer-duration-label','closePath','เกิดข้อผิดพลาดในการนำผู้เล่นออก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','27411472','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','/public/data/quizzes','stdDev','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','ความชันเส้นสัมผัส','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','move-quiz-modal','Error\x20updating\x20quiz\x20status:','hint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','parallel-test-input-area','timestamp','progress-student-select','setTransform','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','การกระจายและการจัดหมู่','upperGroupResponders','.regenerate-question-editor-btn','suggestedAnswer','allResponses','color','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','floor','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','text-emerald-900','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','values','ยังไม่มีนักเรียนส่งงาน','.project-card-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','fullscreenchange','math-topics-checkbox-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','map','analytics','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','เพิ่มหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','bg-gray-500','fas\x20fa-star\x20text-yellow-500','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>จาก:\x20','actions-container-','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-progress-view','bg-emerald-100','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','กำลังอ่านและเตรียมไฟล์...','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','quiz-id-input','วงกลม:\x20คอร์ดและเส้นสัมผัส','$1\x5ctext(','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','description','typesetPromise','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','202024jexIvk','getAttributeNS','pre-test','points','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','open','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-label','file-tab','update-old-quizzes-btn','Error\x20fetching\x20quiz\x20settings:','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','Error\x20toggling\x20star\x20status:','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20moving\x20quiz:','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','quick_thinker','text-blue-700\x20bg-blue-100','ความแปรปรวน','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','\x22.\x20','firstScore','ค่าคลาดเคลื่อนของการวัด','trail-tool-btn','.cancel-edit-topic-btn','text-gray-100','บันทึกการตั้งค่าแล้ว','```json','Error\x20listening\x20for\x20student\x20profiles:','tool','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','rgba(255,\x20255,\x200,\x200.5)','scratchpad-close-btn','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','ai-quiz-generator-v3','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','bg-red-100','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','Copy\x20command\x20failed','isAdaptive','closest','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.lastAnswerValue','บันทึกการแก้ไข','bg-gray-50','autoTable','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','GlobalWorkerOptions','text-red-300\x20hover:text-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การประยุกต์เวกเตอร์พื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','end-game-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','แบบทดสอบนี้หมดเวลาแล้ว','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','dfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mr-2\x22></i>','</tbody></table>','ห.ร.ม.\x20(GCD)','สลับไปโหมดนักเรียน','mode-switcher-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','เกิดข้อผิดพลาดในการอัปเดตสถานะ','student-quiz-leaderboard-content','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confirm-admin-login-btn','grid','manage-players-btn','ผลรวมอนุกรม\x20(Σ)','loopUntilPass','</option>','ตั้งเวลา\x20(เปิด)','first_try_ace','scores-tab-content','#F59E0B','results-quiz-id-display','.score','</span>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','question-complexity-select','delete-svg-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analytics-tab-btn','scratchpad-controls','interesting-stats-wrapper','Authentication\x20failed:','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','far\x20fa-star','toString','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','goto-next-question-btn','attemptNumber','ไม่มีคำอธิบาย','#E0E7FF','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isScored','input[name=\x22status-option\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','1016550KDglJp','ใช่','students','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-tab-content','touchstart','answer-counter','ref','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กำลังสร้างรูปภาพ...','create-project-modal','upper_group_count','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','after','สุดยอด!\x20ตอบถูกทุกข้อ','lineWidth','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLocaleDateString','source-over','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','API\x20call\x20failed\x20with\x20status:\x20','<div\x20class=\x22answer-space\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','modal-passing-score-input','answer-grid-container','catch','close-lesson-plan-modal-footer-btn','data','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','true_false','update','draggable-text','.sortable-header','input[type=\x22checkbox\x22]:checked','timerMode','การจัดหมู่\x20(Combination)','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','_blank','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','loop-until-pass-checkbox','text-green-700','bank-quiz-list','getBoundingClientRect','height','<tr><td\x20colspan=\x22','\x5ctext{$1}','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','<li\x20class=\x22','currentTarget','ควรปรับปรุง','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','<tr>','createdAt','confirm-create-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22','badges','รูปหลายเหลี่ยมและมุมภายใน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','Failed\x20to\x20get\x20standardized\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันสัมพัทธ์\x20(rational)','\x20mb-2\x22>','/public/data/quizzes/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20user\x20preference:','whole_quiz','dataIndex','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','$$$1$','<p><strong>คำตอบที่แนะนำ:</strong>\x20','</body></html>','ค่าความจริง/ตารางค่าความจริง','fromCharCode','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-topic-input','.delete-student-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x09\x09\x09<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','ฐานนิยม','math-topic-search-input','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x5cle','1:274192258111:web:4120c9118229b5644dd48a','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','addEventListener','then','confirm-join-game-btn','user','insertAdjacentHTML','<div\x20class=\x22mb-3\x20topic-category\x22>','remove','docs','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','(^|[^\x5c\x5c])\x5cb','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','.highlighter-color-btn','show_results_only','timerDuration','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<button\x20data-quiz-id=\x22','hint-btn','<textarea\x20name=\x22question','กำลังวิเคราะห์ข้อสอบ\x20\x22','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','parent','2-digit','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','lesson-plan-modal','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','เส้นตรง:\x20รูปแบบสมการ','onchange','name_asc','querySelector','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','user-id-display','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','#per-question-options\x20textarea','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','promptFeedback','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','bulk-shuffle-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','button[type=\x22submit\x22]','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','passcode','createObjectURL','project-sort-select','readAsDataURL','.quiz-settings-btn','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','option','min','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','round','comparison','pointsLastQuestion','<option\x20value=\x22\x22>กำลังโหลด...</option>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','การคูณทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','teacherSuggestions','transformOrigin','AI\x20Formula\x20Fix\x20Error:','\x5cfrac{','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','pointerType','/questionBank','name','.copy-quiz-id-list-btn','.answeredCurrentQuestion','แบบทดสอบนี้ปิดใช้งานอยู่','attempts','submission-status-chart','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','ผู้เชี่ยวชาญ','toDataURL','ทศนิยม\x20(ค่าประจำหลัก)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','clearRect','Error\x20starting\x20live\x20race:','มุมพิเศษ\x2045°-45°-90°','answer','string','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันพหุนาม','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','currentQuestionIndex','mjx-container','คัดลอกไม่สำเร็จ','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','post-test','เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด','next-question-btn','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','\x0a---\x0a','.generate-lesson-btn','worksheet-input-area','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','both','adaptive-quiz-checkbox','topic-input-area','Error\x20generating\x20parallel\x20test\x20from\x20bank:','border-green-300\x20bg-green-50','Error\x20saving\x20project\x20order:','border-red-300\x20bg-red-50','fa-rocket\x20text-purple-500','focus','630251DnSiWF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','Error\x20updating\x20quiz\x20settings:','verify-answers-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','แบบทดสอบจากคลังส่วนตัว','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','create-project-btn','sin','เกิดข้อผิดพลาดในการจับคู่','presentation-explanation','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','left','normal','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','files','ฟังก์ชันราก\x20(root)','gamePin','\x0a\x20\x20\x20\x20','(ไม่มีชื่อ)','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','ฟังก์ชันแบบชิ้นส่วน','\x22><i\x20class=\x22fas\x20','short_answer','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยกเลิกการจับคู่สำเร็จ','border-gray-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-custom-topic-btn','type','\x20\x20\x20-\x20คำตอบ:\x20','</span></div>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',';\x22\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','findIndex','quiz-editor-questions-container','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','การวัด','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','null','กฎของไซน์','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','strength-weakness-analysis-container','\x5cpm','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quizMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mx-1\x20text-lg\x22></i></span>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','show_pass_fail_only','PERFECT_SCORE','confirm-bulk-quiz-settings-btn','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','manage-tab-content','text-green-600\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','results-quiz-title','การแจกแจงทวินาม\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','candidates','quiz-status-options','standard','text-tab','.topic-name-display','พิมพ์ตอบ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','projectId','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','strokeStyle','times','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','text-yellow-300','student-name-select','การบวกทศนิยม','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','body','show-leaderboard-btn','quiz-results-table-body','OBJECT','.quiz-bank-item','destination-out','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','BOOLEAN','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','input','category','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','list','correctResponse','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','display','<i\x20class=\x22fas\x20fa-magic\x22></i>','visibilityState','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','tGain','เปลี่ยนชื่อโปรเจคสำเร็จ','qType','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','Enter','leq','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','#student-quiz-leaderboard-content\x20thead','ไม่สามารถเพิ่มนักเรียนได้','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','.admin-try-quiz-list-btn','Error\x20loading\x20user\x20preferences:','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lastAnswerIndex','เศษส่วน\x20(ย่อ/ขยาย)','topic-tab','correctAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','comparison-overall-tab','q-explanation-','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','ฟังก์ชันผกผัน','isPasscodeEnabled','\x5cs*\x5c(','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','rows','quiz-schedule-end-container','#ffffff','<i\x20class=\x22fas\x20fa-pen\x22></i>','จำนวนข้อ:','size','createElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','admin-testing','สำหรับโปรเจค:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','ฮิสโตแกรม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ไม่ใช่</p>','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','Error\x20updating\x20old\x20quizzes:','เกิดข้อผิดพลาดในการติดดาว','text-indigo-700','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','text-indigo-600','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','ลบโปรเจคสำเร็จแล้ว','input[type=\x22checkbox\x22]','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-quiz-leaderboard-table-body','.regenerate-question-btn','ยืนยันการจับคู่','POST','contentEditable','project-detail-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','การลบเศษส่วน','ความคล้ายของรูป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','NUMBER','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สามเหลี่ยม\x20(ชนิด/สมบัติ)','ลบผลสอบของ\x20','ทฤษฎีบทพื้นฐานของแคลคูลัส','num-questions','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','7912paRduj','pinned-items','data:application/vnd.ms-word;charset=utf-8,','Error\x20loading\x20quiz\x20for\x20student:','ตรีโกณมิติ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Original\x20quiz\x20not\x20found','.delete-svg-btn','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','ลำดับเลขคณิต\x20(AP)','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','repeat','toFixed','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ยังไม่ส่ง','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','fa-user-astronaut\x20text-blue-700','add-custom-math-topic-btn','ไม่พบแบบทดสอบสำหรับรหัสนี้','ตรวจทานเฉลยเสร็จสิ้น!','อินเวอร์สของเมทริกซ์','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','random','touchcancel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','circ','pop','-tab','รูปแบบการให้เหตุผล','ความคาดหมาย\x20(Expected\x20value)','คำถามถัดไป','scores-tab-btn','ดีเทอร์มิแนนต์','innerText','student-name-input','Error\x20joining\x20live\x20game:','<tr\x20class=\x22','พาราโบลา','label[for=\x22num-questions\x22]','file-input-area','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','hover:bg-indigo-100','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','ไม่ผ่าน','หน่วยความยาวและการแปลง','asc','fill_in_no_choices','#F3E8FF','[data-topic-container-id]','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','generate-from-link-btn','G-V90KRM0L63','พื้นที่ผิวรูปทรงสามมิติ','exists','text-gray-400\x20hover:text-indigo-600','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','pen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ฟังก์ชันกำลังสองและกราฟ','(คัดลอก)\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','เปลี่ยนชื่อแบบทดสอบสำเร็จ','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ข้อที่\x20','countdown-display','classStrengths','เส้นจำนวน','selected-topics-count','toLocaleString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','รากที่สองและที่สาม','matching','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','ทฤษฎีทวินาม\x20(เบื้องต้น)','เมทริกซ์:\x20บวก/คูณ','generate-from-text-btn','pen-tool-btn','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-2\x22>','หยุดระบบจับเวลาหรี่หน้าจอ','</h3>','\x5cfrac','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','ข้อ\x20','project-id-display','text-green-700\x20bg-green-100','quiz-results','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','start-game-btn','behavior-log','กำลังสร้างแบบทดสอบจากหัวข้อ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','generate-from-topic-btn','.doc','<div\x20class=\x22','start-live-race-generated-btn','<div\x20id=\x22q-image-container-','analytics-tab-content','question','fix\x20the\x20option','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','):\x20','opacity-50','bg-green-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','ลบแบบทดสอบสำเร็จแล้ว','font-bold\x20text-green-700','back-to-home-manual-release','เกิดข้อผิดพลาดในการลบหัวข้อ','live-game-view','next-drill-btn','(ก่อนเรียน)','circle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','_opt1\x22>ไม่ใช่</label></div>','#view-rankings-btn','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','ท็อปฟอร์ม','Error\x20updating\x20sort\x20preference:','postScore','confirm-quiz-status-btn','\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20create\x20initial\x20submission\x20record:','load-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','filter','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20verifying\x20answers\x20in\x20editor:','fa-bolt\x20text-blue-500','quiz-leaderboard-table','behavior-log-container','neq','prev-question-btn','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','globalSettings','scrollY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','checked'];_0x2293=function(){return _0x5d8ed2;};return _0x2293();}function listenForLiveGameUpdates(){const _0x32c2c2=_0x2944ec;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x13415c=doc(db,_0x32c2c2(0x618)+appId+_0x32c2c2(0x616),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x13415c,_0x1bf74a=>{const _0x15d61e=_0x32c2c2;if(!_0x1bf74a[_0x15d61e(0x8b2)]()){showMessage(_0x15d61e(0xa0b)),showView(currentMode);return;}const _0x389b98=_0x1bf74a[_0x15d61e(0x719)]();_0x389b98[_0x15d61e(0x9e0)]&&(currentQuizData=_0x389b98[_0x15d61e(0x9e0)]);!currentQuizData&&_0x389b98['quizId']&&((async()=>{const _0xfd2b78=_0x15d61e;try{const _0xbe07d7=doc(db,'artifacts/'+appId+_0xfd2b78(0x64b),_0x389b98[_0xfd2b78(0x2b7)]),_0x2bb7c5=await getDoc(_0xbe07d7);_0x2bb7c5['exists']()&&(currentQuizData={'id':_0x2bb7c5['id'],..._0x2bb7c5[_0xfd2b78(0x719)]()});}catch(_0x4910f0){console['error'](_0xfd2b78(0x579),_0x4910f0);}})());switch(_0x389b98['status']){case _0x15d61e(0x51e):if(currentMode==='admin'){const _0xf02319=_0x389b98[_0x15d61e(0x30d)]?Object[_0x15d61e(0x50b)](_0x389b98[_0x15d61e(0x30d)]):[],_0x7ab513=_0xf02319[_0x15d61e(0x904)](([_0xcc898,_0x2eeca3])=>_0x2eeca3[_0x15d61e(0x49d)]===_0x15d61e(0x53d)),_0x40980d=document['getElementById'](_0x15d61e(0x2ec));if(_0x40980d)_0x40980d[_0x15d61e(0x391)]=_0x7ab513[_0x15d61e(0x33e)];const _0x588c4c=document[_0x15d61e(0x299)]('player-list-lobby');_0x588c4c&&(_0x588c4c['innerHTML']=_0x7ab513['map'](([_0x489c83,_0x38167e])=>_0x15d61e(0x86b)+_0x489c83+_0x15d61e(0x6d0)+_0x489c83+_0x15d61e(0x3f7))[_0x15d61e(0x2b1)](''));const _0x2f25f7=document[_0x15d61e(0x299)](_0x15d61e(0x8d9));_0x2f25f7&&(_0x2f25f7[_0x15d61e(0x278)]=_0x7ab513[_0x15d61e(0x33e)]===0x0);}else showView('live-game'),liveGameView['innerHTML']=_0x15d61e(0x7ba)+currentStudentName+_0x15d61e(0x7b5);break;case'question':const _0x236ea4=_0x389b98[_0x15d61e(0x7b1)];if(currentQuizData&&currentQuizData[_0x15d61e(0x256)][_0x236ea4]){const _0x566330=currentQuizData['questions'][_0x236ea4],_0x1ad8c5=_0x389b98[_0x15d61e(0x26f)]||'answering';switch(_0x1ad8c5){case _0x15d61e(0x200):currentMode==='admin'?showAdminSummaryView(_0x389b98,_0x566330):showPlayerSummaryView(_0x389b98,currentStudentName);break;case _0x15d61e(0x311):currentMode===_0x15d61e(0x497)&&showTop5LeaderboardView(_0x389b98);break;case _0x15d61e(0x51c):default:if(currentMode===_0x15d61e(0x497)){const _0x542dca=writeBatch(db);let _0x497737=![];Object[_0x15d61e(0x50b)](_0x389b98['players'])[_0x15d61e(0x9ef)](([_0x43c29a,_0x35b0da])=>{const _0x3fe90d=_0x15d61e;if(_0x35b0da[_0x3fe90d(0x49d)]==='active'&&_0x35b0da['submittedAt']&&!_0x35b0da[_0x3fe90d(0x6fa)]){_0x497737=!![];const _0x1cbcff=_0x35b0da[_0x3fe90d(0x639)]['toDate']()-_0x389b98['questionDisplayedAt'][_0x3fe90d(0x1f6)]();let _0x44bb92=0x0;if(_0x35b0da[_0x3fe90d(0xa66)]){const _0x4f7a32=0x3e8,_0x5b745e=0x1f4,_0x1838d5=0x4e20;let _0x10e14b=_0x1cbcff/_0x1838d5;if(_0x10e14b>0x1)_0x10e14b=0x1;const _0x310500=Math[_0x3fe90d(0x78b)](_0x10e14b*_0x5b745e);_0x44bb92=_0x4f7a32-_0x310500;}const _0x4a4c0e=doc(db,'artifacts/'+appId+_0x3fe90d(0x616),currentLiveGameId);_0x542dca['update'](_0x4a4c0e,{[_0x3fe90d(0x1df)+_0x43c29a+_0x3fe90d(0x6e7)]:increment(_0x44bb92),[_0x3fe90d(0x1df)+_0x43c29a+'.pointsLastQuestion']:_0x44bb92,[_0x3fe90d(0x1df)+_0x43c29a+_0x3fe90d(0x36e)]:!![]});}});_0x497737&&_0x542dca[_0x15d61e(0xa44)]()[_0x15d61e(0x717)](_0x200c02=>console[_0x15d61e(0x5c2)]('Error\x20committing\x20score\x20updates:',_0x200c02));lastRenderedAdminQuestionIndex!==_0x236ea4&&(showAdminLiveQuestionView(_0x566330,_0x236ea4,currentQuizData[_0x15d61e(0x256)][_0x15d61e(0x33e)]),lastRenderedAdminQuestionIndex=_0x236ea4);const _0x1ff5d2=_0x389b98[_0x15d61e(0x30d)]||{},_0x16d2ec=Object[_0x15d61e(0x670)](_0x1ff5d2)[_0x15d61e(0x904)](_0xdabad5=>_0xdabad5['status']==='active'),_0x409e8b=_0x16d2ec[_0x15d61e(0x33e)],_0xd50d1c=_0x16d2ec[_0x15d61e(0x904)](_0x188134=>_0x188134[_0x15d61e(0x50e)]===!![])[_0x15d61e(0x33e)],_0x2aa2f7=document[_0x15d61e(0x299)](_0x15d61e(0x703));if(_0x2aa2f7)_0x2aa2f7[_0x15d61e(0x391)]=_0xd50d1c+'/'+_0x409e8b;const _0x32da28=document['getElementById']('live-player-list');if(_0x32da28){let _0x14a3e9=Object[_0x15d61e(0x50b)](_0x1ff5d2)['filter'](([_0xb0e29e,_0x823c58])=>_0x823c58[_0x15d61e(0x49d)]==='active')[_0x15d61e(0x678)](([_0x27f968,_0x244c64])=>{const _0x407b09=_0x15d61e,_0x3bff99=_0x244c64[_0x407b09(0x50e)]===!![],_0x302382=_0x3bff99?_0x407b09(0x8e9):_0x407b09(0x67f),_0x23be0c=_0x3bff99?_0x407b09(0x688):_0x407b09(0x8e6);return _0x407b09(0x8d3)+_0x302382+_0x407b09(0x34c)+_0x23be0c+_0x407b09(0x753)+_0x27f968+_0x407b09(0x55b)+_0x27f968+_0x407b09(0x8cd);})['join']('');_0x32da28[_0x15d61e(0x4a4)]=_0x14a3e9||_0x15d61e(0x1da);}_0x409e8b>0x0&&_0xd50d1c===_0x409e8b&&revealAnswerForAdmin(_0x236ea4,currentQuizData[_0x15d61e(0x256)]['length']);}else{const _0x56968c=_0x389b98['players'][currentStudentName];_0x56968c&&!_0x56968c[_0x15d61e(0x50e)]&&showStudentLiveQuestionView(_0x566330,_0x236ea4,currentQuizData[_0x15d61e(0x256)][_0x15d61e(0x33e)]);}break;}}break;case _0x15d61e(0x4f9):showPodiumView(_0x389b98[_0x15d61e(0x30d)]);break;}});}async function handleKickPlayer(_0x28a282){const _0x4fc6dc=_0x2944ec;if(!currentLiveGameId||!_0x28a282)return;const _0x149b6d=doc(db,_0x4fc6dc(0x618)+appId+_0x4fc6dc(0x616),currentLiveGameId),_0x3b569c={};_0x3b569c['players.'+_0x28a282+_0x4fc6dc(0x4ff)]=_0x4fc6dc(0x474);try{await updateDoc(_0x149b6d,_0x3b569c);}catch(_0x5f4960){console[_0x4fc6dc(0x5c2)](_0x4fc6dc(0x45f)+_0x28a282+':',_0x5f4960),showMessage(_0x4fc6dc(0x644));}}async function authenticateUser(){const _0x3afd47=_0x2944ec;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x236598){console['error'](_0x3afd47(0x6f0),_0x236598),showMessage(_0x3afd47(0x450));}}function showView(_0x305543){const _0xc08660=_0x2944ec,_0x25a706=['admin-view',_0xc08660(0x2d0),_0xc08660(0x4f8),_0xc08660(0x866),_0xc08660(0x959),_0xc08660(0x8ef),'student-progress-view'];_0x25a706['forEach'](_0x53b8b2=>document[_0xc08660(0x299)](_0x53b8b2)?.[_0xc08660(0x46e)][_0xc08660(0x5af)](_0xc08660(0x52f)));if(_0x305543===_0xc08660(0x248))adminView[_0xc08660(0x46e)][_0xc08660(0x75d)](_0xc08660(0x52f)),projectDashboardView[_0xc08660(0x46e)][_0xc08660(0x75d)](_0xc08660(0x52f));else{if(_0x305543===_0xc08660(0x5ac))studentView[_0xc08660(0x46e)][_0xc08660(0x75d)]('hidden'),studentInitialView['classList']['remove']('hidden'),studentNameSelectionView[_0xc08660(0x46e)][_0xc08660(0x5af)](_0xc08660(0x52f)),studentQuizArea['classList'][_0xc08660(0x5af)](_0xc08660(0x52f)),studentResultArea[_0xc08660(0x46e)][_0xc08660(0x5af)]('hidden'),studentReadingArea['classList']['add']('hidden'),studentJoinGameView['classList'][_0xc08660(0x5af)]('hidden');else{if(_0x305543===_0xc08660(0x369))adminView[_0xc08660(0x46e)][_0xc08660(0x75d)](_0xc08660(0x52f)),projectDetailView['classList'][_0xc08660(0x75d)](_0xc08660(0x52f));else{if(_0x305543===_0xc08660(0x8d7))adminView[_0xc08660(0x46e)][_0xc08660(0x75d)](_0xc08660(0x52f)),quizResultsView[_0xc08660(0x46e)]['remove'](_0xc08660(0x52f));else _0x305543===_0xc08660(0x2b6)&&liveGameView[_0xc08660(0x46e)][_0xc08660(0x75d)]('hidden');}}}}function showJoinGameView(){const _0x90dce8=_0x2944ec;studentInitialView[_0x90dce8(0x46e)][_0x90dce8(0x5af)]('hidden'),studentJoinGameView[_0x90dce8(0x46e)][_0x90dce8(0x75d)](_0x90dce8(0x52f));}async function handleSaveVisibilitySettings(){const _0x831dd1=_0x2944ec;if(!currentProjectId)return;const _0x1bfc7d=doc(db,_0x831dd1(0x618)+appId+_0x831dd1(0x367),currentProjectId);try{await updateDoc(_0x1bfc7d,{'settings.showInStudentDashboard':document['getElementById'](_0x831dd1(0x5aa))[_0x831dd1(0x911)],'settings.isPasscodeEnabled':document[_0x831dd1(0x299)]('enable-passcode-checkbox')[_0x831dd1(0x911)],'settings.passcode':document[_0x831dd1(0x299)](_0x831dd1(0x96a))[_0x831dd1(0x305)]['trim']()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x29f5be){console['error'](_0x831dd1(0x62c),_0x29f5be),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x5d51c8=_0x2944ec,_0x162ea5=document[_0x5d51c8(0x299)](_0x5d51c8(0x8ef));_0x162ea5[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),_0xbe9b71=>{const _0x36bac9=_0x5d51c8,_0x3a2692=_0xbe9b71[_0x36bac9(0x589)][_0x36bac9(0x6bd)](_0x36bac9(0x3c9));document['querySelectorAll'](_0x36bac9(0x93b))['forEach'](_0x247a3f=>{const _0x395228=_0x36bac9;(!_0x3a2692||_0x247a3f['id']!==_0x3a2692[_0x395228(0x574)][_0x395228(0x54a)])&&_0x247a3f['classList'][_0x395228(0x75d)](_0x395228(0x9e1));});if(!_0x3a2692)return;const _0x4c89b4=_0x3a2692[_0x36bac9(0x574)][_0x36bac9(0x54a)],_0x17fb54=document[_0x36bac9(0x299)](_0x4c89b4);_0x17fb54&&_0x17fb54['classList']['toggle'](_0x36bac9(0x9e1));}),_0x162ea5[_0x5d51c8(0x757)]('click',_0x52640f=>{const _0x110f04=_0x5d51c8;if(_0x52640f['target'][_0x110f04(0x46e)]['contains'](_0x110f04(0x939))){const _0x42c867=_0x52640f[_0x110f04(0x589)][_0x110f04(0x574)][_0x110f04(0x3ea)];_0x42c867&&handleKickPlayer(_0x42c867);}}),document[_0x5d51c8(0x299)](_0x5d51c8(0x9a0))[_0x5d51c8(0x757)]('focus',()=>document[_0x5d51c8(0x299)]('save-project-name-btn')['classList'][_0x5d51c8(0x75d)]('hidden')),document[_0x5d51c8(0x299)]('save-project-name-btn')[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),handleSaveProjectName),document[_0x5d51c8(0x299)](_0x5d51c8(0x9a0))[_0x5d51c8(0x757)]('keydown',_0x53250a=>{const _0x59afc5=_0x5d51c8;_0x53250a[_0x59afc5(0x49a)]===_0x59afc5(0x830)&&(_0x53250a['preventDefault'](),_0x53250a[_0x59afc5(0x589)][_0x59afc5(0x27d)](),handleSaveProjectName());}),document['getElementById'](_0x5d51c8(0x5f3))['addEventListener']('click',()=>{const _0x55109d=_0x5d51c8;document[_0x55109d(0x299)](_0x55109d(0xa46))[_0x55109d(0x46e)][_0x55109d(0x75d)]('hidden');}),document[_0x5d51c8(0x299)](_0x5d51c8(0xa02))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>{const _0x46423f=_0x5d51c8;document[_0x46423f(0x299)]('bulk-quiz-settings-modal')[_0x46423f(0x46e)]['add'](_0x46423f(0x52f));}),document[_0x5d51c8(0x299)](_0x5d51c8(0x7fd))['addEventListener']('click',handleBulkUpdateQuizSettings),document[_0x5d51c8(0x299)](_0x5d51c8(0x6d7))['addEventListener']('click',handleModeSwitch),document['getElementById'](_0x5d51c8(0x69d))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),handleUpdateOldQuizzes),document[_0x5d51c8(0x299)]('reset-project-order-btn')[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),handleResetProjectOrder),document['getElementById'](_0x5d51c8(0x35f))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),handleSaveVisibilitySettings),document[_0x5d51c8(0x299)](_0x5d51c8(0x88b))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),handleAddCustomMathTopic),document[_0x5d51c8(0x299)](_0x5d51c8(0x994))['addEventListener'](_0x5d51c8(0x9dc),handleSelectAllTopics),document[_0x5d51c8(0x299)](_0x5d51c8(0x952))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),handleDeselectAllTopics),document[_0x5d51c8(0x299)](_0x5d51c8(0x4b1))['addEventListener'](_0x5d51c8(0x9dc),()=>{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}),document[_0x5d51c8(0x299)](_0x5d51c8(0x41a))['addEventListener'](_0x5d51c8(0x9dc),()=>{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}),document[_0x5d51c8(0x299)](_0x5d51c8(0x979))[_0x5d51c8(0x757)]('click',()=>{const _0x4054d0=_0x5d51c8;showView(_0x4054d0(0x248));}),document['getElementById'](_0x5d51c8(0x38c))[_0x5d51c8(0x757)]('click',()=>{const _0x5591ca=_0x5d51c8;messageModal[_0x5591ca(0x46e)][_0x5591ca(0x5af)](_0x5591ca(0x52f)),typeof modalConfirmAction===_0x5591ca(0x37f)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x5d51c8(0x299)](_0x5d51c8(0x7cf))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>createProjectModal['classList'][_0x5d51c8(0x75d)](_0x5d51c8(0x52f))),document['getElementById'](_0x5d51c8(0x9a6))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>createProjectModal[_0x5d51c8(0x46e)]['add'](_0x5d51c8(0x52f))),document['getElementById']('cancel-admin-login-btn')[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>adminPasswordModal[_0x5d51c8(0x46e)][_0x5d51c8(0x5af)](_0x5d51c8(0x52f))),document['getElementById'](_0x5d51c8(0x6dc))['addEventListener']('click',handleAdminLogin),document[_0x5d51c8(0x299)]('admin-password-input')['addEventListener']('keyup',_0x58bdbe=>{const _0x13f181=_0x5d51c8;if(_0x58bdbe['key']===_0x13f181(0x830))handleAdminLogin();}),document[_0x5d51c8(0x299)](_0x5d51c8(0x4d1))['addEventListener'](_0x5d51c8(0x9dc),()=>{const _0x33ead4=_0x5d51c8;confirmationModal['classList'][_0x33ead4(0x5af)]('hidden'),confirmAction=null;}),document[_0x5d51c8(0x299)](_0x5d51c8(0x59e))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>{const _0x5af302=_0x5d51c8;confirmAction&&confirmAction(),confirmationModal[_0x5af302(0x46e)][_0x5af302(0x5af)](_0x5af302(0x52f)),confirmAction=null;}),document[_0x5d51c8(0x299)](_0x5d51c8(0x926))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>renameQuizModal[_0x5d51c8(0x46e)]['add'](_0x5d51c8(0x52f))),document['getElementById'](_0x5d51c8(0x45e))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),confirmRenameQuiz),document[_0x5d51c8(0x299)](_0x5d51c8(0x495))['addEventListener'](_0x5d51c8(0x9dc),()=>moveQuizModal[_0x5d51c8(0x46e)][_0x5d51c8(0x5af)](_0x5d51c8(0x52f))),document[_0x5d51c8(0x299)](_0x5d51c8(0x346))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),confirmMoveQuiz),document[_0x5d51c8(0x299)](_0x5d51c8(0x384))[_0x5d51c8(0x757)]('click',()=>quizSettingsModal['classList'][_0x5d51c8(0x5af)](_0x5d51c8(0x52f))),document[_0x5d51c8(0x299)](_0x5d51c8(0x4f0))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),confirmQuizSettings),document[_0x5d51c8(0x299)](_0x5d51c8(0x3e5))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>quizStatusModal[_0x5d51c8(0x46e)]['add'](_0x5d51c8(0x52f))),document['getElementById'](_0x5d51c8(0x8fe))['addEventListener']('click',confirmQuizStatus);const _0x376350=document[_0x5d51c8(0x299)]('export-pdf-modal');document[_0x5d51c8(0x299)](_0x5d51c8(0x51a))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>{const _0x5e6ff4=_0x5d51c8;_0x376350[_0x5e6ff4(0x46e)][_0x5e6ff4(0x5af)](_0x5e6ff4(0x52f));}),document['getElementById'](_0x5d51c8(0x2c8))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),async()=>{const _0x384778=_0x5d51c8,_0x2b9e0c=allQuizzes['find'](_0xd37bd=>_0xd37bd['id']===actionTargetId);_0x2b9e0c?(currentQuizData=_0x2b9e0c,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x376350[_0x384778(0x46e)][_0x384778(0x5af)](_0x384778(0x52f));}),document[_0x5d51c8(0x299)]('export-tutor-pdf-btn')['addEventListener'](_0x5d51c8(0x9dc),async()=>{const _0x20263a=_0x5d51c8,_0x495995=allQuizzes[_0x20263a(0x238)](_0x278bcc=>_0x278bcc['id']===actionTargetId);_0x495995?(currentQuizData=_0x495995,exportQuizAsTutorPDF()):showMessage(_0x20263a(0x41c)),_0x376350[_0x20263a(0x46e)][_0x20263a(0x5af)]('hidden');}),document[_0x5d51c8(0x299)]('open-global-live-btn')[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),openGlobalLiveModal),document[_0x5d51c8(0x299)](_0x5d51c8(0x2f0))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>{const _0x633277=_0x5d51c8;document[_0x633277(0x299)](_0x633277(0x58c))[_0x633277(0x46e)][_0x633277(0x5af)]('hidden'),selectedGlobalQuizId=null;}),document[_0x5d51c8(0x299)]('global-quiz-search-input')[_0x5d51c8(0x757)](_0x5d51c8(0x822),_0x339b44=>renderGlobalQuizList(_0x339b44[_0x5d51c8(0x589)][_0x5d51c8(0x305)])),document[_0x5d51c8(0x299)](_0x5d51c8(0x970))['addEventListener']('click',()=>{const _0x2bc38d=_0x5d51c8,_0x4da17a=selectedGlobalQuizId;if(!_0x4da17a)return;document[_0x2bc38d(0x299)](_0x2bc38d(0x58c))['classList'][_0x2bc38d(0x5af)](_0x2bc38d(0x52f)),handleStartLiveRace(_0x4da17a);}),document['getElementById']('project-search-input')['addEventListener'](_0x5d51c8(0x822),renderProjects),document[_0x5d51c8(0x299)]('project-sort-select')['addEventListener']('change',async()=>{const _0x2da312=_0x5d51c8,_0x2edb28=document['getElementById']('project-sort-select')[_0x2da312(0x305)],_0x33bbc9=doc(db,_0x2da312(0x90d),'dashboardConfig');try{await setDoc(_0x33bbc9,{'projectSort':_0x2edb28},{'merge':!![]});}catch(_0x4b45bf){console['error'](_0x2da312(0x8fc),_0x4b45bf),showMessage(_0x2da312(0x358));}}),document[_0x5d51c8(0x299)]('quiz-search-input')[_0x5d51c8(0x757)]('input',renderQuizzes),document[_0x5d51c8(0x299)](_0x5d51c8(0x31a))['addEventListener'](_0x5d51c8(0x9dc),()=>{const _0x26018a=_0x5d51c8;globalDashboardSettings['projectView']=_0x26018a(0x6dd),saveUserPreference(_0x26018a(0x932),'grid'),renderProjects();}),document['getElementById'](_0x5d51c8(0x531))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>{const _0x414cd7=_0x5d51c8;globalDashboardSettings[_0x414cd7(0x932)]=_0x414cd7(0x825),saveUserPreference('projectView',_0x414cd7(0x825)),renderProjects();}),manageTab[_0x5d51c8(0x757)]('click',()=>switchProjectTab(_0x5d51c8(0xa1d))),resultsTab[_0x5d51c8(0x757)]('click',()=>switchProjectTab(_0x5d51c8(0xa2b))),leaderboardTab[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>switchProjectTab(_0x5d51c8(0x311))),document[_0x5d51c8(0x299)](_0x5d51c8(0x6ed))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>switchQuizDetailTab(_0x5d51c8(0x679))),document[_0x5d51c8(0x299)](_0x5d51c8(0x89a))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>switchQuizDetailTab('scores')),document[_0x5d51c8(0x299)](_0x5d51c8(0x37a))['addEventListener'](_0x5d51c8(0x9dc),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x5d51c8(0x299)](_0x5d51c8(0x4ae))[_0x5d51c8(0x757)]('click',()=>switchQuizDetailTab(_0x5d51c8(0x8da))),document[_0x5d51c8(0x299)]('analyze-strengths-btn')['addEventListener']('click',handleAnalyzeClass),generateWorksheetBtn[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),generateWorksheet);const _0x2cd89d=document[_0x5d51c8(0x299)]('link-tab'),_0x502c50=document[_0x5d51c8(0x299)]('link-input-area'),_0x17e05c=document['getElementById']('blueprint-tab'),_0x279fa5=document[_0x5d51c8(0x299)](_0x5d51c8(0x2b2)),_0x1c9791=document['getElementById'](_0x5d51c8(0x26d)),_0x1abf98=document[_0x5d51c8(0x299)](_0x5d51c8(0x657));topicTab[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>{const _0x5ae3a5=_0x5d51c8;topicTab['classList'][_0x5ae3a5(0x5af)](_0x5ae3a5(0x53d)),textTab[_0x5ae3a5(0x46e)][_0x5ae3a5(0x75d)](_0x5ae3a5(0x53d)),fileTab['classList'][_0x5ae3a5(0x75d)](_0x5ae3a5(0x53d)),worksheetTab['classList']['remove'](_0x5ae3a5(0x53d));if(_0x2cd89d)_0x2cd89d[_0x5ae3a5(0x46e)][_0x5ae3a5(0x75d)](_0x5ae3a5(0x53d));if(_0x17e05c)_0x17e05c[_0x5ae3a5(0x46e)][_0x5ae3a5(0x75d)]('active');if(_0x1c9791)_0x1c9791['classList'][_0x5ae3a5(0x75d)](_0x5ae3a5(0x53d));topicInputArea[_0x5ae3a5(0x46e)][_0x5ae3a5(0x75d)](_0x5ae3a5(0x52f)),textInputArea[_0x5ae3a5(0x46e)][_0x5ae3a5(0x5af)](_0x5ae3a5(0x52f)),fileInputArea['classList'][_0x5ae3a5(0x5af)](_0x5ae3a5(0x52f)),worksheetInputArea[_0x5ae3a5(0x46e)][_0x5ae3a5(0x5af)]('hidden');if(_0x502c50)_0x502c50['classList'][_0x5ae3a5(0x5af)](_0x5ae3a5(0x52f));if(_0x279fa5)_0x279fa5['classList'][_0x5ae3a5(0x5af)](_0x5ae3a5(0x52f));if(_0x1abf98)_0x1abf98[_0x5ae3a5(0x46e)][_0x5ae3a5(0x5af)](_0x5ae3a5(0x52f));}),textTab[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>{const _0x32b022=_0x5d51c8;textTab[_0x32b022(0x46e)][_0x32b022(0x5af)](_0x32b022(0x53d)),topicTab[_0x32b022(0x46e)]['remove']('active'),fileTab[_0x32b022(0x46e)][_0x32b022(0x75d)](_0x32b022(0x53d)),worksheetTab['classList'][_0x32b022(0x75d)](_0x32b022(0x53d));if(_0x2cd89d)_0x2cd89d[_0x32b022(0x46e)]['remove']('active');if(_0x17e05c)_0x17e05c['classList']['remove']('active');if(_0x1c9791)_0x1c9791[_0x32b022(0x46e)]['remove'](_0x32b022(0x53d));textInputArea[_0x32b022(0x46e)][_0x32b022(0x75d)]('hidden'),topicInputArea[_0x32b022(0x46e)]['add'](_0x32b022(0x52f)),fileInputArea[_0x32b022(0x46e)][_0x32b022(0x5af)](_0x32b022(0x52f)),worksheetInputArea[_0x32b022(0x46e)][_0x32b022(0x5af)]('hidden');if(_0x502c50)_0x502c50[_0x32b022(0x46e)][_0x32b022(0x5af)]('hidden');if(_0x279fa5)_0x279fa5[_0x32b022(0x46e)][_0x32b022(0x5af)](_0x32b022(0x52f));if(_0x1abf98)_0x1abf98[_0x32b022(0x46e)][_0x32b022(0x5af)](_0x32b022(0x52f));}),fileTab[_0x5d51c8(0x757)]('click',()=>{const _0x285336=_0x5d51c8;fileTab[_0x285336(0x46e)][_0x285336(0x5af)](_0x285336(0x53d)),topicTab['classList']['remove'](_0x285336(0x53d)),textTab[_0x285336(0x46e)][_0x285336(0x75d)](_0x285336(0x53d)),worksheetTab['classList'][_0x285336(0x75d)](_0x285336(0x53d));if(_0x2cd89d)_0x2cd89d['classList'][_0x285336(0x75d)](_0x285336(0x53d));if(_0x17e05c)_0x17e05c[_0x285336(0x46e)]['remove'](_0x285336(0x53d));if(_0x1c9791)_0x1c9791[_0x285336(0x46e)][_0x285336(0x75d)]('active');fileInputArea[_0x285336(0x46e)]['remove']('hidden'),topicInputArea[_0x285336(0x46e)]['add'](_0x285336(0x52f)),textInputArea[_0x285336(0x46e)][_0x285336(0x5af)](_0x285336(0x52f)),worksheetInputArea[_0x285336(0x46e)][_0x285336(0x5af)](_0x285336(0x52f));if(_0x502c50)_0x502c50[_0x285336(0x46e)][_0x285336(0x5af)](_0x285336(0x52f));if(_0x279fa5)_0x279fa5[_0x285336(0x46e)][_0x285336(0x5af)](_0x285336(0x52f));if(_0x1abf98)_0x1abf98['classList'][_0x285336(0x5af)](_0x285336(0x52f));}),worksheetTab['addEventListener']('click',()=>{const _0x1b666e=_0x5d51c8;worksheetTab[_0x1b666e(0x46e)][_0x1b666e(0x5af)](_0x1b666e(0x53d)),topicTab['classList'][_0x1b666e(0x75d)](_0x1b666e(0x53d)),textTab[_0x1b666e(0x46e)]['remove'](_0x1b666e(0x53d)),fileTab[_0x1b666e(0x46e)][_0x1b666e(0x75d)](_0x1b666e(0x53d));if(_0x2cd89d)_0x2cd89d[_0x1b666e(0x46e)][_0x1b666e(0x75d)]('active');if(_0x17e05c)_0x17e05c[_0x1b666e(0x46e)]['remove'](_0x1b666e(0x53d));if(_0x1c9791)_0x1c9791[_0x1b666e(0x46e)][_0x1b666e(0x75d)](_0x1b666e(0x53d));worksheetInputArea[_0x1b666e(0x46e)]['remove'](_0x1b666e(0x52f)),topicInputArea[_0x1b666e(0x46e)]['add'](_0x1b666e(0x52f)),textInputArea[_0x1b666e(0x46e)][_0x1b666e(0x5af)](_0x1b666e(0x52f)),fileInputArea[_0x1b666e(0x46e)][_0x1b666e(0x5af)](_0x1b666e(0x52f));if(_0x502c50)_0x502c50['classList'][_0x1b666e(0x5af)](_0x1b666e(0x52f));if(_0x279fa5)_0x279fa5[_0x1b666e(0x46e)][_0x1b666e(0x5af)]('hidden');if(_0x1abf98)_0x1abf98[_0x1b666e(0x46e)][_0x1b666e(0x5af)](_0x1b666e(0x52f));});const _0x267a4e=document[_0x5d51c8(0x299)](_0x5d51c8(0x39d)),_0x2a49a8=document[_0x5d51c8(0x299)]('bank-input-area');_0x267a4e&&_0x267a4e['addEventListener'](_0x5d51c8(0x9dc),()=>{const _0x34e7b3=_0x5d51c8;topicTab['classList'][_0x34e7b3(0x75d)](_0x34e7b3(0x53d)),textTab[_0x34e7b3(0x46e)][_0x34e7b3(0x75d)](_0x34e7b3(0x53d)),fileTab[_0x34e7b3(0x46e)]['remove'](_0x34e7b3(0x53d)),worksheetTab[_0x34e7b3(0x46e)]['remove'](_0x34e7b3(0x53d));if(_0x2cd89d)_0x2cd89d[_0x34e7b3(0x46e)][_0x34e7b3(0x75d)](_0x34e7b3(0x53d));if(_0x17e05c)_0x17e05c['classList'][_0x34e7b3(0x75d)](_0x34e7b3(0x53d));if(_0x1c9791)_0x1c9791[_0x34e7b3(0x46e)][_0x34e7b3(0x75d)](_0x34e7b3(0x53d));_0x267a4e['classList'][_0x34e7b3(0x5af)](_0x34e7b3(0x53d)),topicInputArea[_0x34e7b3(0x46e)]['add'](_0x34e7b3(0x52f)),textInputArea[_0x34e7b3(0x46e)][_0x34e7b3(0x5af)](_0x34e7b3(0x52f)),fileInputArea[_0x34e7b3(0x46e)][_0x34e7b3(0x5af)](_0x34e7b3(0x52f)),worksheetInputArea[_0x34e7b3(0x46e)]['add'](_0x34e7b3(0x52f));if(_0x502c50)_0x502c50[_0x34e7b3(0x46e)]['add'](_0x34e7b3(0x52f));if(_0x279fa5)_0x279fa5['classList']['add'](_0x34e7b3(0x52f));if(_0x1abf98)_0x1abf98[_0x34e7b3(0x46e)]['add']('hidden');_0x2a49a8['classList'][_0x34e7b3(0x75d)](_0x34e7b3(0x52f)),displayQuestionBank();});_0x2cd89d&&(_0x2cd89d['addEventListener'](_0x5d51c8(0x9dc),()=>{const _0x5f0123=_0x5d51c8;_0x2cd89d[_0x5f0123(0x46e)][_0x5f0123(0x5af)](_0x5f0123(0x53d)),topicTab['classList']['remove'](_0x5f0123(0x53d)),textTab[_0x5f0123(0x46e)]['remove'](_0x5f0123(0x53d)),fileTab['classList'][_0x5f0123(0x75d)](_0x5f0123(0x53d)),worksheetTab[_0x5f0123(0x46e)][_0x5f0123(0x75d)](_0x5f0123(0x53d));if(_0x17e05c)_0x17e05c[_0x5f0123(0x46e)]['remove'](_0x5f0123(0x53d));if(_0x1c9791)_0x1c9791[_0x5f0123(0x46e)][_0x5f0123(0x75d)](_0x5f0123(0x53d));_0x502c50[_0x5f0123(0x46e)]['remove'](_0x5f0123(0x52f)),topicInputArea['classList'][_0x5f0123(0x5af)](_0x5f0123(0x52f)),textInputArea['classList'][_0x5f0123(0x5af)]('hidden'),fileInputArea['classList'][_0x5f0123(0x5af)]('hidden'),worksheetInputArea[_0x5f0123(0x46e)][_0x5f0123(0x5af)](_0x5f0123(0x52f));if(_0x279fa5)_0x279fa5['classList']['add'](_0x5f0123(0x52f));if(_0x1abf98)_0x1abf98[_0x5f0123(0x46e)]['add']('hidden');}),document['getElementById']('generate-from-link-btn')[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),handleGenerateFromLink));_0x17e05c&&_0x17e05c['addEventListener']('click',()=>{const _0x378fb8=_0x5d51c8;_0x17e05c['classList'][_0x378fb8(0x5af)](_0x378fb8(0x53d)),topicTab[_0x378fb8(0x46e)]['remove'](_0x378fb8(0x53d)),textTab['classList'][_0x378fb8(0x75d)](_0x378fb8(0x53d)),fileTab[_0x378fb8(0x46e)]['remove']('active'),worksheetTab[_0x378fb8(0x46e)][_0x378fb8(0x75d)](_0x378fb8(0x53d));if(_0x2cd89d)_0x2cd89d[_0x378fb8(0x46e)][_0x378fb8(0x75d)](_0x378fb8(0x53d));if(_0x267a4e)_0x267a4e[_0x378fb8(0x46e)][_0x378fb8(0x75d)](_0x378fb8(0x53d));if(_0x1c9791)_0x1c9791['classList'][_0x378fb8(0x75d)](_0x378fb8(0x53d));_0x279fa5[_0x378fb8(0x46e)][_0x378fb8(0x75d)](_0x378fb8(0x52f)),topicInputArea[_0x378fb8(0x46e)][_0x378fb8(0x5af)](_0x378fb8(0x52f)),textInputArea[_0x378fb8(0x46e)][_0x378fb8(0x5af)]('hidden'),fileInputArea[_0x378fb8(0x46e)][_0x378fb8(0x5af)](_0x378fb8(0x52f)),worksheetInputArea[_0x378fb8(0x46e)][_0x378fb8(0x5af)](_0x378fb8(0x52f));if(_0x502c50)_0x502c50[_0x378fb8(0x46e)][_0x378fb8(0x5af)](_0x378fb8(0x52f));if(_0x2a49a8)_0x2a49a8[_0x378fb8(0x46e)][_0x378fb8(0x5af)](_0x378fb8(0x52f));if(_0x1abf98)_0x1abf98[_0x378fb8(0x46e)]['add'](_0x378fb8(0x52f));});_0x1c9791&&_0x1c9791[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>{const _0x207b13=_0x5d51c8;_0x1c9791[_0x207b13(0x46e)][_0x207b13(0x5af)](_0x207b13(0x53d)),topicTab[_0x207b13(0x46e)][_0x207b13(0x75d)](_0x207b13(0x53d)),textTab[_0x207b13(0x46e)][_0x207b13(0x75d)]('active'),fileTab[_0x207b13(0x46e)][_0x207b13(0x75d)](_0x207b13(0x53d)),worksheetTab['classList'][_0x207b13(0x75d)](_0x207b13(0x53d));if(_0x2cd89d)_0x2cd89d[_0x207b13(0x46e)]['remove']('active');if(_0x17e05c)_0x17e05c[_0x207b13(0x46e)][_0x207b13(0x75d)](_0x207b13(0x53d));if(_0x267a4e)_0x267a4e[_0x207b13(0x46e)][_0x207b13(0x75d)]('active');_0x1abf98['classList'][_0x207b13(0x75d)](_0x207b13(0x52f)),topicInputArea['classList']['add'](_0x207b13(0x52f)),textInputArea[_0x207b13(0x46e)][_0x207b13(0x5af)](_0x207b13(0x52f)),fileInputArea['classList'][_0x207b13(0x5af)](_0x207b13(0x52f)),worksheetInputArea[_0x207b13(0x46e)][_0x207b13(0x5af)](_0x207b13(0x52f));if(_0x502c50)_0x502c50[_0x207b13(0x46e)]['add'](_0x207b13(0x52f));if(_0x279fa5)_0x279fa5[_0x207b13(0x46e)]['add'](_0x207b13(0x52f));if(_0x2a49a8)_0x2a49a8['classList'][_0x207b13(0x5af)](_0x207b13(0x52f));});const _0x2bb6c2=document[_0x5d51c8(0x299)]('blueprint-upload-input'),_0x529674=document['getElementById']('generate-from-blueprint-btn');_0x2bb6c2&&_0x2bb6c2['addEventListener'](_0x5d51c8(0x3f8),_0x2c9914=>{const _0x4eecda=_0x5d51c8;_0x2c9914[_0x4eecda(0x589)][_0x4eecda(0x7d7)][_0x4eecda(0x33e)]>0x0?_0x529674[_0x4eecda(0x278)]=![]:_0x529674[_0x4eecda(0x278)]=!![];});_0x529674&&_0x529674[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),handleGenerateFromBlueprint);const _0x5d4f2e=document[_0x5d51c8(0x299)](_0x5d51c8(0x22e)),_0xf96523=document[_0x5d51c8(0x299)]('generate-from-parallel-test-btn');_0x5d4f2e&&_0x5d4f2e[_0x5d51c8(0x757)](_0x5d51c8(0x3f8),_0x4ff164=>{const _0x4ffede=_0x5d51c8;_0xf96523[_0x4ffede(0x278)]=_0x4ff164['target'][_0x4ffede(0x7d7)][_0x4ffede(0x33e)]===0x0;});_0xf96523&&_0xf96523[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),handleGenerateParallelTest);loadQuizBtn[_0x5d51c8(0x757)]('click',handleLoadQuiz),startQuizBtn['addEventListener'](_0x5d51c8(0x9dc),async()=>{const _0x27a382=_0x5d51c8,_0xe68015=document['getElementById']('student-name-select');currentStudentName=_0xe68015[_0x27a382(0x305)];if(!currentStudentName){showMessage(_0x27a382(0x4ee));return;}try{const _0x525208=currentQuizData['id'],_0x396074=doc(db,'artifacts/'+appId+_0x27a382(0x73f)+_0x525208+_0x27a382(0x25a),currentStudentName);await setDoc(_0x396074,{'studentName':currentStudentName,'startedAt':new Date()[_0x27a382(0x3bc)](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x279889){console[_0x27a382(0x5c2)](_0x27a382(0x901),_0x279889),showMessage(_0x27a382(0x3b4));return;}studentNameSelectionView['classList'][_0x27a382(0x5af)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x5d51c8(0x299)](_0x5d51c8(0x4e7))['addEventListener'](_0x5d51c8(0x9dc),showJoinGameView),document['getElementById'](_0x5d51c8(0x759))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),handleJoinLiveGame),document[_0x5d51c8(0x299)](_0x5d51c8(0x469))['addEventListener'](_0x5d51c8(0x9dc),()=>showView('student'));const _0x305ea5=()=>{const _0x43b996=_0x5d51c8,_0x2593b6=document[_0x43b996(0x299)](_0x43b996(0x803))[_0x43b996(0x391)][_0x43b996(0x9d7)](/[^a-z0-9]/gi,'_')[_0x43b996(0x565)]();return _0x43b996(0x9df)+(_0x2593b6||_0x43b996(0x4ed));},_0x135a6b=document[_0x5d51c8(0x299)](_0x5d51c8(0x750));_0x135a6b&&_0x135a6b[_0x5d51c8(0x757)](_0x5d51c8(0x822),_0x50a49a=>{const _0x2f35da=_0x5d51c8,_0x2dd3dd=_0x50a49a['target']['value'][_0x2f35da(0x565)]()[_0x2f35da(0x980)](),_0x3d860a=document['getElementById']('math-topics-checkbox-container'),_0x25c1f4=_0x3d860a[_0x2f35da(0x921)](_0x2f35da(0x615));_0x25c1f4[_0x2f35da(0x9ef)](_0x5e1880=>{const _0x75d1c5=_0x2f35da;let _0x3a5872=![];const _0x155660=_0x5e1880[_0x75d1c5(0x921)](_0x75d1c5(0x263));_0x155660[_0x75d1c5(0x9ef)](_0x1df7fd=>{const _0x270fa1=_0x75d1c5,_0x1329c3=_0x1df7fd[_0x270fa1(0x775)](_0x270fa1(0x80a))[_0x270fa1(0x391)][_0x270fa1(0x565)]();_0x1329c3[_0x270fa1(0x38f)](_0x2dd3dd)?(_0x1df7fd[_0x270fa1(0x5c1)][_0x270fa1(0x828)]=_0x270fa1(0x1fe),_0x3a5872=!![]):_0x1df7fd[_0x270fa1(0x5c1)][_0x270fa1(0x828)]=_0x270fa1(0x2c6);}),_0x3a5872?_0x5e1880[_0x75d1c5(0x5c1)][_0x75d1c5(0x828)]=_0x75d1c5(0xa42):_0x5e1880[_0x75d1c5(0x5c1)][_0x75d1c5(0x828)]=_0x75d1c5(0x2c6);});});document[_0x5d51c8(0x299)](_0x5d51c8(0xa56))['addEventListener'](_0x5d51c8(0x9dc),()=>exportTableAsImage(_0x5d51c8(0x60c),_0x305ea5())),document[_0x5d51c8(0x299)]('export-pdf-btn')['addEventListener'](_0x5d51c8(0x9dc),()=>exportTableAsPDF(_0x5d51c8(0x575),_0x305ea5())),document[_0x5d51c8(0x299)]('export-word-btn')[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>exportTableAsWord(_0x5d51c8(0x60c),_0x305ea5())),document['getElementById'](_0x5d51c8(0x413))[_0x5d51c8(0x757)]('click',()=>exportTableAsExcel(_0x5d51c8(0x575),_0x305ea5()));const _0x254693=()=>{const _0x406884=_0x5d51c8,_0x173a61=document[_0x406884(0x299)](_0x406884(0x803))[_0x406884(0x391)][_0x406884(0x9d7)](/[^a-z0-9]/gi,'_')[_0x406884(0x565)]();return _0x406884(0x9ce)+(_0x173a61||_0x406884(0x4ed));};document[_0x5d51c8(0x299)](_0x5d51c8(0x4a3))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>exportTableAsImage(_0x5d51c8(0x3d1),_0x254693())),document[_0x5d51c8(0x299)](_0x5d51c8(0x2a9))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>exportTableAsPDF(_0x5d51c8(0x908),_0x254693())),document['getElementById'](_0x5d51c8(0x44f))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>exportTableAsWord(_0x5d51c8(0x3d1),_0x254693())),document[_0x5d51c8(0x299)](_0x5d51c8(0x363))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>exportTableAsExcel('quiz-leaderboard-table',_0x254693())),projectQuizzesList[_0x5d51c8(0x757)]('click',async _0x5c1b28=>{const _0x3eced4=_0x5d51c8,_0x4da42c=_0x5c1b28[_0x3eced4(0x589)][_0x3eced4(0x6bd)]('.quiz-result-card'),_0x44461b=_0x5c1b28['target']['closest'](_0x3eced4(0x57f)),_0x3ddacb=_0x5c1b28[_0x3eced4(0x589)][_0x3eced4(0x6bd)]('.compare-results-btn'),_0x313e49=_0x5c1b28[_0x3eced4(0x589)]['closest'](_0x3eced4(0x7bc)),_0x596f43=_0x5c1b28['target']['closest'](_0x3eced4(0x4c0)),_0x30d7f7=_0x5c1b28['target']['closest'](_0x3eced4(0x79a)),_0x21ffb8=_0x5c1b28['target'][_0x3eced4(0x6bd)](_0x3eced4(0x216)),_0x30215e=_0x5c1b28[_0x3eced4(0x589)]['closest'](_0x3eced4(0x786)),_0x4c8994=_0x5c1b28[_0x3eced4(0x589)]['closest'](_0x3eced4(0x571)),_0x2e423f=_0x5c1b28[_0x3eced4(0x589)][_0x3eced4(0x6bd)]('.rename-quiz-btn'),_0x4acbc4=_0x5c1b28[_0x3eced4(0x589)][_0x3eced4(0x6bd)](_0x3eced4(0x995)),_0x177de5=_0x5c1b28[_0x3eced4(0x589)][_0x3eced4(0x6bd)]('.move-quiz-btn'),_0x20c2e6=_0x5c1b28[_0x3eced4(0x589)][_0x3eced4(0x6bd)](_0x3eced4(0x47c)),_0x5c048d=_0x5c1b28[_0x3eced4(0x589)][_0x3eced4(0x6bd)]('.unpair-quiz-btn'),_0x15eff1=_0x5c1b28[_0x3eced4(0x589)][_0x3eced4(0x6bd)]('.start-presentation-list-btn'),_0x5a4a73=_0x5c1b28['target'][_0x3eced4(0x6bd)](_0x3eced4(0x836)),_0x152082=_0x5c1b28[_0x3eced4(0x589)][_0x3eced4(0x6bd)](_0x3eced4(0x1ee)),_0xbedd87=_0x5c1b28['target']['closest'](_0x3eced4(0xa1b)),_0x338516=_0x5c1b28[_0x3eced4(0x589)]['closest'](_0x3eced4(0x1eb)),_0x35b402=_0x5c1b28[_0x3eced4(0x589)]['closest'](_0x3eced4(0x423)),_0x11cd26=_0x5c1b28['target'][_0x3eced4(0x6bd)](_0x3eced4(0x253)),_0x5c6839=_0x5c1b28[_0x3eced4(0x589)]['closest'](_0x3eced4(0xa27));if(_0x11cd26){const _0x374cbd=_0x11cd26['dataset'][_0x3eced4(0x2b7)],_0xdf07a=document[_0x3eced4(0x299)](_0x3eced4(0x683)+_0x374cbd);_0xdf07a&&_0xdf07a['classList'][_0x3eced4(0x9d5)](_0x3eced4(0x52f));}else{if(_0x44461b){const _0xbd4338=_0x44461b['dataset'][_0x3eced4(0x2b7)],_0x3a7805=allQuizzes[_0x3eced4(0x238)](_0x1fa31a=>_0x1fa31a['id']===_0xbd4338);_0x3a7805&&handleGenerateParallelPostTest(_0x3a7805);}else{if(_0x3ddacb)handleCompareResults(_0x3ddacb[_0x3eced4(0x574)][_0x3eced4(0x2b7)],_0x3ddacb[_0x3eced4(0x574)][_0x3eced4(0x33d)]);else{if(_0x313e49){const _0x343f8f=_0x313e49[_0x3eced4(0x574)][_0x3eced4(0x2b7)],_0xd7ae3c=allQuizzes[_0x3eced4(0x238)](_0x20a5ea=>_0x20a5ea['id']===_0x343f8f);_0xd7ae3c&&_0xd7ae3c[_0x3eced4(0x37c)]?(displayLessonPlan(_0xd7ae3c[_0x3eced4(0x37c)],_0xd7ae3c),showConfirmation(_0x3eced4(0x85d),()=>handleGenerateLessonPlan(_0x343f8f)),document[_0x3eced4(0x299)](_0x3eced4(0x44a))[_0x3eced4(0x775)]('h3')[_0x3eced4(0x391)]=_0x3eced4(0x389),document[_0x3eced4(0x299)](_0x3eced4(0x59e))['textContent']=_0x3eced4(0x2a5)):handleGenerateLessonPlan(_0x343f8f);}else{if(_0x596f43)handleToggleStarQuiz(_0x596f43[_0x3eced4(0x574)][_0x3eced4(0x2b7)]);else{if(_0x30d7f7)copyTextToClipboard(_0x30d7f7[_0x3eced4(0x574)][_0x3eced4(0x2b7)],_0x3eced4(0x470));else{if(_0x21ffb8)handleOpenQuizEditor(_0x21ffb8['dataset'][_0x3eced4(0x2b7)]);else{if(_0x30215e)handleQuizSettings(_0x30215e[_0x3eced4(0x574)][_0x3eced4(0x2b7)]);else{if(_0x4c8994)handleDuplicateQuiz(_0x4c8994[_0x3eced4(0x574)][_0x3eced4(0x2b7)]);else{if(_0x2e423f)handleRenameQuiz(_0x2e423f[_0x3eced4(0x574)][_0x3eced4(0x2b7)],_0x2e423f[_0x3eced4(0x574)][_0x3eced4(0x67d)]);else{if(_0x4acbc4){const _0x3f14a5=_0x4acbc4[_0x3eced4(0x574)][_0x3eced4(0x2b7)],_0x92a5f2=allQuizzes[_0x3eced4(0x238)](_0x5177a3=>_0x5177a3['id']===_0x3f14a5);_0x92a5f2&&handleGenerateParallelFromBank(_0x92a5f2);}else{if(_0x177de5)handleMoveQuiz(_0x177de5['dataset'][_0x3eced4(0x2b7)]);else{if(_0x20c2e6)handleManualQuizPairing(_0x20c2e6[_0x3eced4(0x574)]['quizId']);else{if(_0x5c048d)handleUnpairQuiz(_0x5c048d[_0x3eced4(0x574)]['quizId']);else{if(_0x15eff1){const _0x34d299=_0x15eff1['dataset'][_0x3eced4(0x2b7)],_0x591d98=allQuizzes[_0x3eced4(0x238)](_0x2865d0=>_0x2865d0['id']===_0x34d299);if(_0x591d98)startPresentation(_0x591d98);}else{if(_0x5a4a73){const _0x444d5d=_0x5a4a73[_0x3eced4(0x574)]['quizId'],_0x251244=allQuizzes[_0x3eced4(0x238)](_0x48f474=>_0x48f474['id']===_0x444d5d);_0x251244&&(currentQuizData=_0x251244,startAdminTest());}else{if(_0x152082)handleStartLiveRace(_0x152082[_0x3eced4(0x574)]['quizId']);else{if(_0xbedd87)actionTargetId=_0xbedd87[_0x3eced4(0x574)][_0x3eced4(0x2b7)],document[_0x3eced4(0x299)]('export-pdf-modal')['classList'][_0x3eced4(0x75d)](_0x3eced4(0x52f));else{if(_0x338516)showConfirmation(_0x3eced4(0xa47)+_0x338516[_0x3eced4(0x574)]['topic']+_0x3eced4(0x5c3),()=>handleDeleteQuiz(_0x338516[_0x3eced4(0x574)]['quizId']));else{if(_0x35b402)handleQuizStatus(_0x35b402[_0x3eced4(0x574)][_0x3eced4(0x2b7)]);else{if(_0x5c6839)handleGenerateEasyVersionQuiz(_0x5c6839[_0x3eced4(0x574)]['quizId']);else _0x4da42c&&showQuizDetailView(_0x4da42c['dataset'][_0x3eced4(0x2b7)]);}}}}}}}}}}}}}}}}}}}}}),document[_0x5d51c8(0x299)](_0x5d51c8(0x908))['querySelector'](_0x5d51c8(0x3f4))[_0x5d51c8(0x757)]('click',_0xd0ad60=>{const _0x1bee7c=_0x5d51c8,_0x3d6843=_0xd0ad60[_0x1bee7c(0x589)][_0x1bee7c(0x6bd)](_0x1bee7c(0x71e));if(!_0x3d6843||!_0x3d6843[_0x1bee7c(0x574)][_0x1bee7c(0x2e5)])return;const _0x61ce72=_0x3d6843['dataset'][_0x1bee7c(0x2e5)];if(quizLeaderboardSortBy===_0x61ce72)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x1bee7c(0x8a8)?_0x1bee7c(0x411):_0x1bee7c(0x8a8);else{quizLeaderboardSortBy=_0x61ce72;const _0x33cec3=[_0x1bee7c(0x357)];quizLeaderboardSortOrder=_0x33cec3[_0x1bee7c(0x38f)](_0x61ce72)?_0x1bee7c(0x8a8):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x1bee7c(0x1fc));}),document[_0x5d51c8(0x299)](_0x5d51c8(0x3af))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),closePresentation),document[_0x5d51c8(0x299)](_0x5d51c8(0x90b))[_0x5d51c8(0x757)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x5d51c8(0x299)](_0x5d51c8(0x7b9))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>{const _0x574ebe=_0x5d51c8;currentQuizData[_0x574ebe(0x256)]&&currentPresentationSlide<currentQuizData[_0x574ebe(0x256)][_0x574ebe(0x33e)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener'](_0x5d51c8(0x675),()=>{const _0x574fd2=_0x5d51c8;!document[_0x574fd2(0x290)]&&(presentationModal['style'][_0x574fd2(0x828)]=_0x574fd2(0x2c6));}),document[_0x5d51c8(0x299)](_0x5d51c8(0x24d))[_0x5d51c8(0x757)]('click',handleDeleteAllStudents),studentList[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),_0x238237=>{const _0x5c3a17=_0x5d51c8,_0x318b1c=_0x238237['target'][_0x5c3a17(0x6bd)](_0x5c3a17(0x74c));if(_0x318b1c){const _0x4c2a32=_0x318b1c['dataset'][_0x5c3a17(0x357)];handleDeleteStudent(_0x4c2a32);}}),document[_0x5d51c8(0x299)](_0x5d51c8(0x5ff))['addEventListener'](_0x5d51c8(0x9dc),handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x5d51c8(0x3f8),_0xe710f4=>{const _0x48223f=_0x5d51c8,_0x205422=_0xe710f4[_0x48223f(0x589)][_0x48223f(0x7d7)][0x0],_0x4935a1=document[_0x48223f(0x299)](_0x48223f(0x5ff));_0x205422?(selectedFile=_0x205422,_0x4935a1[_0x48223f(0x278)]=![]):(selectedFile=null,_0x4935a1[_0x48223f(0x278)]=!![]);}),document['getElementById'](_0x5d51c8(0x640))['addEventListener'](_0x5d51c8(0x3f8),_0x41a8bc=>{const _0x444a91=_0x5d51c8,_0x18a4a7=document['getElementById'](_0x444a91(0x97b)),_0x1cb969=document[_0x444a91(0x299)](_0x444a91(0x642)),_0x425377=document[_0x444a91(0x299)]('timer-duration-input');_0x41a8bc[_0x444a91(0x589)]['value']==='none'?_0x18a4a7[_0x444a91(0x46e)][_0x444a91(0x5af)](_0x444a91(0x52f)):(_0x18a4a7['classList'][_0x444a91(0x75d)](_0x444a91(0x52f)),_0x41a8bc[_0x444a91(0x589)][_0x444a91(0x305)]===_0x444a91(0x742)?(_0x1cb969[_0x444a91(0x391)]=_0x444a91(0x4ab),_0x425377[_0x444a91(0x305)]='10'):(_0x1cb969['textContent']=_0x444a91(0x9e7),_0x425377['value']='30'));}),document['getElementById'](_0x5d51c8(0x260))[_0x5d51c8(0x757)](_0x5d51c8(0x3f8),_0x8f0976=>{const _0x9fd1d0=_0x5d51c8,_0x44af7f=document['getElementById'](_0x9fd1d0(0x522)),_0x9fd9d0=_0x8f0976[_0x9fd1d0(0x589)]['value'],_0x2a3923=document['querySelector'](_0x9fd1d0(0x8a1)),_0x18286e=document[_0x9fd1d0(0x299)](_0x9fd1d0(0x2eb)),_0x386808=document[_0x9fd1d0(0x299)](_0x9fd1d0(0x873));_0x9fd9d0===_0x9fd1d0(0x8c7)?_0x2a3923[_0x9fd1d0(0x391)]=_0x9fd1d0(0x3f2):_0x2a3923[_0x9fd1d0(0x391)]=_0x9fd1d0(0x84c),_0x9fd9d0==='multiple_choice'||_0x9fd9d0===_0x9fd1d0(0x990)||_0x9fd9d0==='mixed'?_0x44af7f[_0x9fd1d0(0x46e)]['remove'](_0x9fd1d0(0x52f)):_0x44af7f[_0x9fd1d0(0x46e)][_0x9fd1d0(0x5af)](_0x9fd1d0(0x52f)),_0x18286e['max']=_0x386808[_0x9fd1d0(0x305)];}),document[_0x5d51c8(0x299)](_0x5d51c8(0x873))[_0x5d51c8(0x757)](_0x5d51c8(0x822),_0x3d871d=>{const _0x3ee923=_0x5d51c8;document[_0x3ee923(0x299)](_0x3ee923(0x2eb))['max']=_0x3d871d[_0x3ee923(0x589)][_0x3ee923(0x305)];}),document[_0x5d51c8(0x299)]('modal-timer-mode-select')['addEventListener'](_0x5d51c8(0x3f8),_0x4eb4ee=>{const _0x2aaf73=_0x5d51c8,_0x236030=document[_0x2aaf73(0x299)](_0x2aaf73(0xa62)),_0x46c46f=document[_0x2aaf73(0x299)](_0x2aaf73(0x69b)),_0x2b46da=document['getElementById'](_0x2aaf73(0x26a));_0x4eb4ee[_0x2aaf73(0x589)]['value']===_0x2aaf73(0x2c6)?_0x236030[_0x2aaf73(0x46e)]['add'](_0x2aaf73(0x52f)):(_0x236030[_0x2aaf73(0x46e)][_0x2aaf73(0x75d)](_0x2aaf73(0x52f)),_0x4eb4ee[_0x2aaf73(0x589)][_0x2aaf73(0x305)]===_0x2aaf73(0x742)?_0x46c46f['textContent']=_0x2aaf73(0x4ab):_0x46c46f[_0x2aaf73(0x391)]=_0x2aaf73(0x9e7));}),document[_0x5d51c8(0x299)](_0x5d51c8(0x97f))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>{const _0x572c2a=_0x5d51c8;document[_0x572c2a(0x299)]('quiz-editor-modal')[_0x572c2a(0x46e)]['add'](_0x572c2a(0x52f));}),document[_0x5d51c8(0x299)]('cancel-quiz-edits-btn-footer')['addEventListener'](_0x5d51c8(0x9dc),()=>{const _0x4f87df=_0x5d51c8;document[_0x4f87df(0x299)](_0x4f87df(0xa6f))[_0x4f87df(0x46e)][_0x4f87df(0x5af)](_0x4f87df(0x52f));}),document[_0x5d51c8(0x299)](_0x5d51c8(0x9ca))[_0x5d51c8(0x757)]('click',handleVerifyAnswersInEditor),document[_0x5d51c8(0x299)](_0x5d51c8(0x534))[_0x5d51c8(0x757)]('click',()=>{const _0xfc7099=_0x5d51c8;document['getElementById']('quiz-editor-modal')[_0xfc7099(0x46e)][_0xfc7099(0x5af)](_0xfc7099(0x52f)),showConfirmation(_0xfc7099(0x885),handleSaveChanges);}),document['getElementById'](_0x5d51c8(0x481))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),handleAutoFixLatex);const _0x1ede30=document[_0x5d51c8(0x299)](_0x5d51c8(0x7ec));_0x1ede30&&_0x1ede30[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),_0x143e20=>{const _0x481e00=_0x5d51c8,_0x54b74a=_0x143e20[_0x481e00(0x589)][_0x481e00(0x6bd)](_0x481e00(0x660)),_0x25a9b4=_0x143e20['target']['closest'](_0x481e00(0x3dc));if(_0x54b74a){const _0x55b60f=_0x54b74a[_0x481e00(0x6bd)]('.question-editor-item'),_0x43db8b=parseInt(_0x55b60f[_0x481e00(0x574)][_0x481e00(0x46c)],0xa);handleRegenerateQuestionInEditor(_0x43db8b);}else{if(_0x25a9b4){const _0x171555=_0x25a9b4[_0x481e00(0x6bd)](_0x481e00(0x25f)),_0x3903a6=parseInt(_0x171555[_0x481e00(0x574)][_0x481e00(0x46c)],0xa);handleAiFixFormula(_0x3903a6);}}});document[_0x5d51c8(0x299)](_0x5d51c8(0x1f8))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),openQuizBankModal),document[_0x5d51c8(0x299)](_0x5d51c8(0x43c))[_0x5d51c8(0x757)]('click',()=>{const _0x1e2818=_0x5d51c8;document[_0x1e2818(0x299)](_0x1e2818(0x499))[_0x1e2818(0x46e)][_0x1e2818(0x5af)]('hidden');}),document[_0x5d51c8(0x299)](_0x5d51c8(0x431))[_0x5d51c8(0x757)](_0x5d51c8(0x822),_0x186518=>renderQuizBankList(_0x186518[_0x5d51c8(0x589)]['value']));const _0x4e36de=document[_0x5d51c8(0x299)]('math-topics-checkbox-container');if(_0x4e36de){let _0x31fd96=null;_0x4e36de['addEventListener'](_0x5d51c8(0x9dc),_0x49760d=>{const _0x1ab592=_0x5d51c8,_0x217d0f=_0x49760d['target'],_0x15847c=_0x217d0f[_0x1ab592(0x6bd)]('.edit-custom-topic-btn'),_0x17118e=_0x217d0f[_0x1ab592(0x6bd)](_0x1ab592(0x7e4)),_0x8134b4=_0x217d0f[_0x1ab592(0x6bd)]('.save-custom-topic-btn'),_0x3625bc=_0x217d0f[_0x1ab592(0x6bd)](_0x1ab592(0x6ad));if(_0x17118e){_0x49760d['preventDefault']();const _0xfc344d=_0x17118e['dataset']['id'],_0x709a5b=_0x17118e[_0x1ab592(0x6bd)](_0x1ab592(0x32e))[_0x1ab592(0x775)](_0x1ab592(0x80a))['textContent'];showConfirmation(_0x1ab592(0x393)+_0x709a5b+'\x22?',()=>handleDeleteCustomTopic(_0xfc344d));}else{if(_0x15847c){_0x49760d[_0x1ab592(0x2e1)]();_0x31fd96&&toggleTopicEditMode(_0x31fd96,![]);const _0x4e5d15=_0x15847c[_0x1ab592(0x6bd)]('[data-topic-container-id]');_0x31fd96=_0x4e5d15,toggleTopicEditMode(_0x4e5d15,!![]);}else{if(_0x8134b4){_0x49760d['preventDefault']();const _0x1d95a5=_0x8134b4[_0x1ab592(0x574)]['id'],_0x5328fa=_0x8134b4[_0x1ab592(0x6bd)](_0x1ab592(0x8ab)),_0xe012a5=_0x5328fa[_0x1ab592(0x775)](_0x1ab592(0x289))[_0x1ab592(0x305)];handleUpdateCustomTopic(_0x1d95a5,_0xe012a5),_0x31fd96=null;}else{if(_0x3625bc){_0x49760d['preventDefault']();const _0x26931a=_0x3625bc[_0x1ab592(0x6bd)](_0x1ab592(0x8ab));toggleTopicEditMode(_0x26931a,![]),_0x31fd96=null;}}}}}),document[_0x5d51c8(0x299)](_0x5d51c8(0x536))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>{const _0x538cc0=_0x5d51c8;document[_0x538cc0(0x299)](_0x538cc0(0x76e))['classList'][_0x538cc0(0x5af)](_0x538cc0(0x52f));}),document[_0x5d51c8(0x299)](_0x5d51c8(0x718))['addEventListener'](_0x5d51c8(0x9dc),()=>{const _0x2c51e3=_0x5d51c8;document[_0x2c51e3(0x299)](_0x2c51e3(0x76e))['classList'][_0x2c51e3(0x5af)](_0x2c51e3(0x52f));}),document['getElementById']('export-lesson-pdf-btn')[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),handleExportLessonPDF);}document[_0x5d51c8(0x299)](_0x5d51c8(0x39c))[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),()=>{const _0x2cdcf6=_0x5d51c8;document['getElementById'](_0x2cdcf6(0x342))['classList'][_0x2cdcf6(0x5af)](_0x2cdcf6(0x52f));}),document[_0x5d51c8(0x299)]('close-comparison-modal-footer-btn')['addEventListener'](_0x5d51c8(0x9dc),()=>{const _0x39a277=_0x5d51c8;document['getElementById']('comparison-modal')[_0x39a277(0x46e)]['add']('hidden');}),setupComparisonModalTabs(),document['body'][_0x5d51c8(0x757)](_0x5d51c8(0x9dc),function(_0x210f27){const _0x1024d7=_0x5d51c8;if(_0x210f27[_0x1024d7(0x589)]['classList']['contains'](_0x1024d7(0x63c))){const _0x56477f=unescape(_0x210f27[_0x1024d7(0x589)][_0x1024d7(0x574)][_0x1024d7(0x67d)]);startSkillPractice(_0x56477f);}}),document['getElementById']('scores-tab-content')[_0x5d51c8(0x757)](_0x5d51c8(0x9dc),_0x33db2e=>{const _0x4c2c91=_0x5d51c8,_0x115482=_0x33db2e[_0x4c2c91(0x589)][_0x4c2c91(0x6bd)]('.delete-submission-btn');if(_0x115482){const _0x7baff5=_0x115482['dataset'][_0x4c2c91(0x357)];handleDeleteSubmission(_0x7baff5);}});}async function showStudentProgressView(){const _0x1b9bd8=_0x2944ec;studentInitialView['classList'][_0x1b9bd8(0x5af)](_0x1b9bd8(0x52f)),document[_0x1b9bd8(0x299)]('student-progress-view')['classList'][_0x1b9bd8(0x75d)](_0x1b9bd8(0x52f));const _0x48f6dc=document[_0x1b9bd8(0x299)]('progress-project-select'),_0xee933a=document['getElementById'](_0x1b9bd8(0x659)),_0x3a65df=document[_0x1b9bd8(0x299)](_0x1b9bd8(0x99b));_0x3a65df[_0x1b9bd8(0x4a4)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0xee933a[_0x1b9bd8(0x4a4)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0xee933a['disabled']=!![],_0x48f6dc[_0x1b9bd8(0x4a4)]=_0x1b9bd8(0x78e);if(allProjects[_0x1b9bd8(0x33e)]===0x0){const _0x3855fc=collection(db,_0x1b9bd8(0x618)+appId+_0x1b9bd8(0x367)),_0x59beb0=await getDocs(_0x3855fc);allProjects=_0x59beb0[_0x1b9bd8(0x75e)][_0x1b9bd8(0x678)](_0x492716=>({'id':_0x492716['id'],..._0x492716[_0x1b9bd8(0x719)]()}));}const _0x23409c=allProjects[_0x1b9bd8(0x904)](_0x121ba6=>_0x121ba6[_0x1b9bd8(0x2a4)]?.[_0x1b9bd8(0xa49)]!==![]);_0x23409c[_0x1b9bd8(0x2e5)]((_0x31fae6,_0x4787ef)=>_0x31fae6[_0x1b9bd8(0x9bf)][_0x1b9bd8(0x5d9)](_0x4787ef[_0x1b9bd8(0x9bf)],'th')),_0x48f6dc[_0x1b9bd8(0x4a4)]=_0x1b9bd8(0x477)+_0x23409c[_0x1b9bd8(0x678)](_0x992082=>_0x1b9bd8(0x4d9)+_0x992082['id']+'\x22>'+_0x992082[_0x1b9bd8(0x9bf)]+_0x1b9bd8(0x6e1))[_0x1b9bd8(0x2b1)](''),_0x48f6dc[_0x1b9bd8(0x773)]=()=>{const _0x33ecf2=_0x1b9bd8,_0x571a48=_0xee933a[_0x33ecf2(0x305)],_0x5f3bab=_0x48f6dc[_0x33ecf2(0x305)];_0xee933a['disabled']=!![],_0xee933a[_0x33ecf2(0x4a4)]=_0x33ecf2(0x8f5),_0x3a65df[_0x33ecf2(0x4a4)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x5f3bab)return;const _0x36481f=allProjects[_0x33ecf2(0x238)](_0x1554d7=>_0x1554d7['id']===_0x5f3bab);if(!_0x36481f||!_0x36481f[_0x33ecf2(0x6ff)])return;const _0x17f879=()=>{const _0xa5bca5=_0x33ecf2;_0xee933a[_0xa5bca5(0x4a4)]=_0xa5bca5(0x8f5)+_0x36481f[_0xa5bca5(0x6ff)][_0xa5bca5(0x678)](_0x28e0af=>'<option\x20value=\x22'+_0x28e0af+'\x22>'+_0x28e0af+_0xa5bca5(0x6e1))[_0xa5bca5(0x2b1)](''),_0xee933a[_0xa5bca5(0x278)]=![];const _0x95bdcb=Array['from'](_0xee933a['options'])['map'](_0xaf99be=>_0xaf99be[_0xa5bca5(0x305)]);if(_0x571a48&&_0x95bdcb['includes'](_0x571a48))_0xee933a[_0xa5bca5(0x305)]=_0x571a48,_0xee933a[_0xa5bca5(0x3da)](new Event(_0xa5bca5(0x3f8)));else _0x36481f[_0xa5bca5(0x6ff)]['length']===0x1&&(_0xee933a[_0xa5bca5(0x305)]=_0x36481f[_0xa5bca5(0x6ff)][0x0],_0xee933a['dispatchEvent'](new Event(_0xa5bca5(0x3f8))));};if(_0x36481f[_0x33ecf2(0x2a4)]?.['isPasscodeEnabled']){if(sessionStorage[_0x33ecf2(0x969)]('authed_project_'+_0x5f3bab)===_0x33ecf2(0x605)){_0x17f879();return;}const _0x2db0a9=document[_0x33ecf2(0x299)](_0x33ecf2(0x971)),_0x4a64b0=document[_0x33ecf2(0x299)](_0x33ecf2(0x2ed)),_0x32662b=document[_0x33ecf2(0x299)](_0x33ecf2(0xa2c)),_0x5a2aaf=document[_0x33ecf2(0x299)](_0x33ecf2(0x9d6)),_0x773633=document[_0x33ecf2(0x299)]('passcode-error-msg');document['getElementById']('passcode-prompt-message')[_0x33ecf2(0x391)]=_0x33ecf2(0x851)+_0x36481f[_0x33ecf2(0x9bf)],_0x5a2aaf[_0x33ecf2(0x305)]='',_0x773633[_0x33ecf2(0x46e)][_0x33ecf2(0x5af)]('hidden'),_0x2db0a9[_0x33ecf2(0x46e)][_0x33ecf2(0x75d)](_0x33ecf2(0x52f));const _0xca6d4d=()=>{const _0x57c86e=_0x33ecf2,_0x24f098=_0x5a2aaf[_0x57c86e(0x305)]['trim']();_0x24f098===_0x36481f[_0x57c86e(0x2a4)][_0x57c86e(0x782)]?(sessionStorage['setItem'](_0x57c86e(0x48b)+_0x5f3bab,_0x57c86e(0x605)),_0x2db0a9[_0x57c86e(0x46e)][_0x57c86e(0x5af)](_0x57c86e(0x52f)),_0x17f879(),_0x4a64b0['removeEventListener'](_0x57c86e(0x9dc),_0xca6d4d)):_0x773633[_0x57c86e(0x46e)][_0x57c86e(0x75d)](_0x57c86e(0x52f));};_0x4a64b0[_0x33ecf2(0x480)]=_0xca6d4d,_0x32662b[_0x33ecf2(0x480)]=()=>{const _0x4aead9=_0x33ecf2;_0x2db0a9[_0x4aead9(0x46e)][_0x4aead9(0x5af)]('hidden'),_0x48f6dc['value']='',_0x4a64b0['removeEventListener'](_0x4aead9(0x9dc),_0xca6d4d);};}else _0x17f879();},_0xee933a[_0x1b9bd8(0x773)]=()=>{const _0x5647e2=_0x1b9bd8,_0x573789=_0x48f6dc[_0x5647e2(0x305)],_0x44f1e4=_0xee933a[_0x5647e2(0x305)];_0x573789&&_0x44f1e4&&renderStudentProgressDashboard(_0x573789,_0x44f1e4);};}async function renderStudentProgressDashboard(_0x1c2c01,_0x38a3f7){const _0x3d70d0=_0x2944ec,_0x3075fc=document['getElementById'](_0x3d70d0(0x99b));_0x3075fc[_0x3d70d0(0x4a4)]=_0x3d70d0(0x2f9);try{const _0x14a170=collection(db,_0x3d70d0(0x618)+appId+_0x3d70d0(0x64b)),_0x5a8c86=query(_0x14a170,where('projectId','==',_0x1c2c01)),_0x5d8371=await getDocs(_0x5a8c86),_0x31df67=_0x5d8371['docs'][_0x3d70d0(0x678)](_0x123fb8=>({'id':_0x123fb8['id'],..._0x123fb8[_0x3d70d0(0x719)]()})),_0x321353=_0x31df67[_0x3d70d0(0x678)](_0x3f0679=>getDoc(doc(db,_0x3d70d0(0x618)+appId+'/public/data/quizzes/'+_0x3f0679['id']+_0x3d70d0(0x25a),_0x38a3f7))),_0x13d993=await Promise[_0x3d70d0(0xa6e)](_0x321353),_0x162b7d=_0x13d993[_0x3d70d0(0x904)](_0x17e821=>_0x17e821[_0x3d70d0(0x8b2)]())[_0x3d70d0(0x678)](_0x5189b4=>({'quizId':_0x5189b4[_0x3d70d0(0x704)][_0x3d70d0(0x76b)][_0x3d70d0(0x76b)]['id'],..._0x5189b4[_0x3d70d0(0x719)]()}));if(_0x162b7d[_0x3d70d0(0x33e)]===0x0){_0x3075fc['innerHTML']=_0x3d70d0(0x9a4);return;}let _0x1f7183=_0x3d70d0(0x32f);_0x162b7d[_0x3d70d0(0x9ef)](_0x18e496=>{const _0x359f1e=_0x3d70d0,_0x214547=_0x31df67[_0x359f1e(0x238)](_0x4d6179=>_0x4d6179['id']===_0x18e496[_0x359f1e(0x2b7)]),_0x196f34=_0x214547[_0x359f1e(0x2a4)]?.['resultsDisplay']||'show_results_and_answers',_0x3a67a4=_0x214547['settings']?.['passingScore']??0x0,_0x4405a9=_0x18e496[_0x359f1e(0x93c)]>=_0x3a67a4;let _0x286922='',_0x49e470=_0x359f1e(0x6c2);switch(_0x196f34){case _0x359f1e(0x4af):case _0x359f1e(0x763):_0x49e470=_0x4405a9?_0x359f1e(0x92e):_0x359f1e(0x54e),_0x286922='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x4405a9?_0x359f1e(0x726):_0x359f1e(0x1e9))+'\x22>'+_0x18e496['bestScore']+_0x359f1e(0x362)+_0x18e496[_0x359f1e(0x3fb)]+_0x359f1e(0x677)+(_0x4405a9?'bg-green-200\x20text-green-800':'bg-red-200\x20text-red-800')+'\x22>'+(_0x4405a9?_0x359f1e(0x325):_0x359f1e(0x8a6))+_0x359f1e(0x453);break;case _0x359f1e(0x7fb):_0x49e470=_0x4405a9?_0x359f1e(0x92e):_0x359f1e(0x54e),_0x286922=_0x359f1e(0x241)+(_0x4405a9?_0x359f1e(0x5a2):'bg-red-200\x20text-red-800')+'\x22>'+(_0x4405a9?_0x359f1e(0x325):_0x359f1e(0x8a6))+_0x359f1e(0x453);break;case _0x359f1e(0x383):_0x49e470='bg-yellow-50',_0x286922=_0x359f1e(0x240);break;}_0x1f7183+=_0x359f1e(0xa11)+_0x49e470+_0x359f1e(0x345)+_0x214547[_0x359f1e(0x67d)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x18e496[_0x359f1e(0x79d)]['length']+_0x359f1e(0x2f1)+new Date(_0x18e496['latestSubmittedAt'])['toLocaleDateString'](_0x359f1e(0x331))+_0x359f1e(0x649)+_0x286922+_0x359f1e(0x4c3);}),_0x1f7183+=_0x3d70d0(0x98d),_0x3075fc[_0x3d70d0(0x4a4)]=_0x1f7183;}catch(_0x15cc89){console[_0x3d70d0(0x5c2)](_0x3d70d0(0x231),_0x15cc89),_0x3075fc[_0x3d70d0(0x4a4)]=_0x3d70d0(0x554);}}function setupStudentProgressListeners(){const _0x3b9b0a=_0x2944ec;document[_0x3b9b0a(0x299)](_0x3b9b0a(0x57e))[_0x3b9b0a(0x757)](_0x3b9b0a(0x9dc),showStudentProgressView),document[_0x3b9b0a(0x299)]('back-to-student-home-btn')['addEventListener'](_0x3b9b0a(0x9dc),()=>{const _0x467482=_0x3b9b0a;document[_0x467482(0x299)](_0x467482(0x685))['classList'][_0x467482(0x5af)](_0x467482(0x52f)),document[_0x467482(0x299)](_0x467482(0x520))[_0x467482(0x46e)][_0x467482(0x75d)](_0x467482(0x52f));});}async function startSkillPractice(_0x267a71){const _0x9b7e6d=_0x2944ec;studentResultArea[_0x9b7e6d(0x46e)]['add']('hidden'),studentQuizArea[_0x9b7e6d(0x4a4)]=_0x9b7e6d(0x624),studentQuizArea['classList']['remove'](_0x9b7e6d(0x52f));try{const _0x382640=await getStandardizedTopic(_0x267a71);console[_0x9b7e6d(0x5bf)](_0x9b7e6d(0x2af)+_0x267a71+_0x9b7e6d(0x692)+_0x382640+'\x22'),studentQuizArea[_0x9b7e6d(0x775)]('p')[_0x9b7e6d(0x391)]='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x382640+_0x9b7e6d(0x21d);const _0x47b5a6=collection(db,_0x9b7e6d(0x618)+appId+'/public/data/practiceBank'),_0x16d7ae=query(_0x47b5a6,where('topic','==',_0x382640)),_0x4c8586=await getDocs(_0x16d7ae);if(_0x4c8586[_0x9b7e6d(0x75e)][_0x9b7e6d(0x33e)]>=0x3){console[_0x9b7e6d(0x5bf)]('พบข้อสอบ\x20'+_0x4c8586['docs'][_0x9b7e6d(0x33e)]+_0x9b7e6d(0x698)+_0x382640+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x41a869=_0x4c8586[_0x9b7e6d(0x75e)]['map'](_0x60ae94=>_0x60ae94[_0x9b7e6d(0x719)]());shuffleArray(_0x41a869);const _0x328dc9={'topic':_0x382640,'questions':_0x41a869[_0x9b7e6d(0x5a4)](0x0,0x3)};displaySkillPracticeDrill(_0x328dc9);}else{console[_0x9b7e6d(0x5bf)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x382640+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x34eca0=await generatePracticeQuestions(_0x382640);await saveDrillToPracticeBank(_0x34eca0,_0x382640),displaySkillPracticeDrill(_0x34eca0);}}catch(_0x5e6d60){console[_0x9b7e6d(0x5c2)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x5e6d60),showMessage(_0x9b7e6d(0x81e)),studentQuizArea[_0x9b7e6d(0x46e)]['add'](_0x9b7e6d(0x52f)),studentResultArea[_0x9b7e6d(0x46e)][_0x9b7e6d(0x75d)](_0x9b7e6d(0x52f));}}async function saveDrillToPracticeBank(_0x456441,_0x2691b6){const _0x300f25=_0x2944ec,_0x690a93=collection(db,'artifacts/'+appId+_0x300f25(0x9d8)),_0x51deaf=writeBatch(db);_0x456441['questions'][_0x300f25(0x9ef)](_0x5eeb5a=>{const _0x2ca787=_0x300f25,_0x33b76d=doc(_0x690a93);_0x51deaf[_0x2ca787(0x634)](_0x33b76d,{'topic':_0x2691b6,'questionText':_0x5eeb5a['questionText'],'options':_0x5eeb5a[_0x2ca787(0x29d)],'correctAnswerIndex':_0x5eeb5a['correctAnswerIndex'],'explanation':_0x5eeb5a['explanation'],'createdAt':serverTimestamp()});});try{await _0x51deaf[_0x300f25(0xa44)](),console[_0x300f25(0x5bf)](_0x300f25(0x9cb)+_0x456441[_0x300f25(0x256)][_0x300f25(0x33e)]+_0x300f25(0x975));}catch(_0x40ba39){console[_0x300f25(0x5c2)](_0x300f25(0x210),_0x40ba39);}}async function getStandardizedTopic(_0x52cfa7){const _0xcd475f=_0x2944ec,_0x1c0556=_0xcd475f(0x991)+_0x52cfa7+_0xcd475f(0x7ed),_0x43e3d0={'type':'OBJECT','properties':{'standardTopic':{'type':'STRING'}},'required':[_0xcd475f(0x251)]};try{const _0x38f13d=await callAnalysisApi(_0x1c0556,_0x43e3d0);return _0x38f13d[_0xcd475f(0x251)];}catch(_0x3e9611){return console[_0xcd475f(0x5c2)](_0xcd475f(0x73b),_0x3e9611),_0x52cfa7;}}async function handleGenerateEasyVersionQuiz(_0x1398ce){const _0x7f02d5=_0x2944ec;showConfirmation(_0x7f02d5(0x4e6),async()=>{const _0xb53031=_0x7f02d5;showMessage(_0xb53031(0x4fa));try{const _0xf02fb6=allQuizzes[_0xb53031(0x238)](_0x2ea370=>_0x2ea370['id']===_0x1398ce);if(!_0xf02fb6)throw new Error(_0xb53031(0x378));const _0x120379=_0xb53031(0x931)+JSON['stringify'](_0xf02fb6['questions'])+_0xb53031(0x87a),_0x6c4beb={'type':_0xb53031(0x81a),'properties':{'questionText':{'type':_0xb53031(0x224)},'questionType':{'type':'STRING'},'options':{'type':_0xb53031(0x4ce),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0xb53031(0x224)},'explanation':{'type':'STRING'},'imageCode':{'type':_0xb53031(0x224)}},'required':[_0xb53031(0x561),'questionType',_0xb53031(0x3c8)]},_0x1af887={'type':_0xb53031(0x81a),'properties':{'questions':{'type':_0xb53031(0x4ce),'items':_0x6c4beb}},'required':[_0xb53031(0x256)]},_0x4622cc=await callAnalysisApi(_0x120379,_0x1af887);_0x4622cc&&_0x4622cc[_0xb53031(0x256)]&&_0x4622cc[_0xb53031(0x256)][_0xb53031(0x9ef)](_0x121898=>{const _0x157095=_0xb53031;_0x121898[_0x157095(0x561)]&&(_0x121898[_0x157095(0x561)]=_0x121898[_0x157095(0x561)]['trim']()[_0x157095(0x9d7)](/,$/,'')[_0x157095(0x980)]());_0x121898['options']&&Array[_0x157095(0x3f3)](_0x121898['options'])&&(_0x121898[_0x157095(0x29d)]=_0x121898[_0x157095(0x29d)]['map'](_0x2be98d=>_0x2be98d||_0x157095(0x9ba)));if(_0x121898[_0x157095(0x44c)]){const _0x5297d2=_0x121898[_0x157095(0x44c)]['trim']();_0x5297d2===''||_0x5297d2['toLowerCase']()===_0x157095(0x7f1)||!_0x5297d2[_0x157095(0x502)](_0x157095(0x1d7))?delete _0x121898[_0x157095(0x44c)]:_0x121898['imageCode']=_0x5297d2;}});if(!_0x4622cc||!_0x4622cc[_0xb53031(0x256)]||_0x4622cc[_0xb53031(0x256)]['length']===0x0)throw new Error(_0xb53031(0x507));const _0xb2d13c={'projectId':_0xf02fb6['projectId'],'quizType':_0xf02fb6[_0xb53031(0x4f1)],'settings':_0xf02fb6[_0xb53031(0x2a4)],'createdBy':_0xf02fb6[_0xb53031(0x288)],'status':_0xb53031(0x53d),'topic':'(ฉบับง่าย)\x20'+_0xf02fb6[_0xb53031(0x67d)],'questions':_0x4622cc[_0xb53031(0x256)],'createdAt':new Date()['toISOString'](),'quizMode':_0xb53031(0x808),'pairedQuizId':null};let _0x1787b2;while(!![]){_0x1787b2=Math['floor'](0x3e8+Math['random']()*0x2328)[_0xb53031(0x6f3)]();const _0x18ab17=await getDoc(doc(db,_0xb53031(0x618)+appId+_0xb53031(0x64b),_0x1787b2));if(!_0x18ab17[_0xb53031(0x8b2)]())break;}await setDoc(doc(db,_0xb53031(0x618)+appId+_0xb53031(0x64b),_0x1787b2),_0xb2d13c),showMessage(_0xb53031(0x6f4));}catch(_0x427a3a){console[_0xb53031(0x5c2)](_0xb53031(0x3de),_0x427a3a),showMessage(_0xb53031(0x340)+_0x427a3a[_0xb53031(0x20f)]);}});}async function generatePracticeQuestions(_0x38ce35){const _0x53e9cc=_0x2944ec,_0x579d4f=_0x53e9cc(0x609)+_0x38ce35+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x53e9cc(0x21b),_0x21e6ef={'type':_0x53e9cc(0x81a),'properties':{'questionText':{'type':_0x53e9cc(0x224)},'options':{'type':_0x53e9cc(0x4ce),'items':{'type':_0x53e9cc(0x224)}},'correctAnswerIndex':{'type':_0x53e9cc(0x86e)},'explanation':{'type':'STRING'}},'required':[_0x53e9cc(0x561),_0x53e9cc(0x29d),_0x53e9cc(0x36a),'explanation']},_0x3c461d={'type':'OBJECT','properties':{'topic':{'type':_0x53e9cc(0x224)},'questions':{'type':_0x53e9cc(0x4ce),'items':_0x21e6ef}},'required':['topic',_0x53e9cc(0x256)]};return await callAnalysisApi(_0x579d4f,_0x3c461d);}function displayLessonPlan(_0x6f358c,_0x306280){const _0x49aefa=_0x2944ec,_0x4ff436='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x306280[_0x49aefa(0x67d)]+_0x49aefa(0x744)+_0x6f358c[_0x49aefa(0x25e)][_0x49aefa(0x678)](_0x88c382=>_0x49aefa(0x965)+_0x88c382+_0x49aefa(0x9a5))[_0x49aefa(0x2b1)]('')+_0x49aefa(0x915)+_0x6f358c['teachingContent']+_0x49aefa(0x45c)+_0x6f358c[_0x49aefa(0x1e3)][_0x49aefa(0x678)](_0x5e9ee7=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x5e9ee7['question']+_0x49aefa(0x5d0)+_0x5e9ee7['solution']+_0x49aefa(0x472))[_0x49aefa(0x2b1)]('')+_0x49aefa(0xa3d);document[_0x49aefa(0x299)](_0x49aefa(0x471))['textContent']=_0x49aefa(0x3e3)+_0x306280[_0x49aefa(0x67d)],document[_0x49aefa(0x299)](_0x49aefa(0x45d))['innerHTML']=_0x4ff436,document[_0x49aefa(0x299)]('lesson-plan-modal')[_0x49aefa(0x46e)][_0x49aefa(0x75d)]('hidden');if(window[_0x49aefa(0x432)])MathJax[_0x49aefa(0x690)]();}function displaySkillPracticeDrill(_0x38056e){const _0xb5180d=_0x2944ec;let _0x1464a7=0x0;const _0x48b1a1=_0x38056e[_0xb5180d(0x256)],_0x487a35=()=>{const _0x23e708=_0xb5180d,_0x49028c=_0x48b1a1[_0x1464a7],_0x596076='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x1464a7+0x1)+'\x20/\x20'+_0x48b1a1[_0x23e708(0x33e)]+_0x23e708(0x24c)+_0x49028c[_0x23e708(0x561)]+_0x23e708(0x372)+_0x49028c['options'][_0x23e708(0x678)]((_0xe49894,_0xa9696b)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0xa9696b+_0x23e708(0x3d6)+_0xa9696b+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0xa9696b+'\x22>'+_0xe49894+_0x23e708(0x29e))[_0x23e708(0x2b1)]('')+_0x23e708(0xa24);studentQuizArea[_0x23e708(0x4a4)]=_0x596076;if(window[_0x23e708(0x432)])MathJax[_0x23e708(0x690)]([studentQuizArea]);document[_0x23e708(0x299)](_0x23e708(0x767))[_0x23e708(0x757)](_0x23e708(0x9dc),async()=>{const _0xd75509=_0x23e708,_0x265502=await getHintForQuestion(_0x49028c[_0xd75509(0x561)]);showMessage(_0x265502);}),document['getElementById'](_0x23e708(0x59d))['addEventListener']('click',()=>{const _0x578a38=_0x23e708,_0x3e77d2=document[_0x578a38(0x775)](_0x578a38(0x416));if(!_0x3e77d2){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x4c8380=document['getElementById']('drill-feedback'),_0x4cd592=parseInt(_0x3e77d2['value'])===_0x49028c['correctAnswerIndex'];_0x4cd592?(_0x4c8380[_0x578a38(0x25d)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x4c8380[_0x578a38(0x4a4)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x49028c[_0x578a38(0x3c8)]):(_0x4c8380[_0x578a38(0x25d)]=_0x578a38(0x8bd),_0x4c8380[_0x578a38(0x4a4)]=_0x578a38(0x34e)+_0x49028c[_0x578a38(0x3c8)]);_0x4c8380[_0x578a38(0x46e)][_0x578a38(0x75d)](_0x578a38(0x52f));if(window[_0x578a38(0x432)])MathJax[_0x578a38(0x690)]([_0x4c8380]);document[_0x578a38(0x299)](_0x578a38(0x59d))[_0x578a38(0x46e)][_0x578a38(0x5af)]('hidden'),document[_0x578a38(0x299)](_0x578a38(0x767))['classList']['add']('hidden'),document[_0x578a38(0x299)](_0x578a38(0x8f0))[_0x578a38(0x46e)][_0x578a38(0x75d)](_0x578a38(0x52f));}),document[_0x23e708(0x299)](_0x23e708(0x8f0))['addEventListener'](_0x23e708(0x9dc),()=>{const _0x393cc9=_0x23e708;_0x1464a7++,_0x1464a7<_0x48b1a1[_0x393cc9(0x33e)]?_0x487a35():(studentQuizArea[_0x393cc9(0x4a4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById']('back-to-results-btn')['addEventListener'](_0x393cc9(0x9dc),()=>{const _0x3d5b01=_0x393cc9;studentQuizArea[_0x3d5b01(0x46e)][_0x3d5b01(0x5af)]('hidden'),studentResultArea[_0x3d5b01(0x46e)]['remove'](_0x3d5b01(0x52f));}));});};_0x487a35();}async function getHintForQuestion(_0x1dcc80){const _0xf296dc=_0x2944ec,_0x3b6799=_0xf296dc(0x9d0)+_0x1dcc80+_0xf296dc(0x64d),_0x43f22a={'type':'OBJECT','properties':{'hint':{'type':_0xf296dc(0x224)}},'required':[_0xf296dc(0x654)]};try{const _0x32873d=await callAnalysisApi(_0x3b6799,_0x43f22a);return _0x32873d[_0xf296dc(0x654)];}catch(_0x32a0d8){return console[_0xf296dc(0x5c2)](_0xf296dc(0x97e),_0x32a0d8),_0xf296dc(0x847);}}async function extractTextFromPdf(_0x4df196){const _0x5eb116=_0x2944ec;pdfjsLib[_0x5eb116(0x6c8)][_0x5eb116(0x4e1)]=_0x5eb116(0x1fa);const _0x2f181f=await _0x4df196[_0x5eb116(0x3a1)](),_0x565737=await pdfjsLib['getDocument'](_0x2f181f)[_0x5eb116(0x48c)],_0x16cefb=_0x565737['numPages'];let _0x59d67d='';for(let _0x25ce5d=0x1;_0x25ce5d<=_0x16cefb;_0x25ce5d++){const _0x183084=await _0x565737[_0x5eb116(0x23b)](_0x25ce5d),_0x24be8d=await _0x183084[_0x5eb116(0x221)](),_0x41a657=_0x24be8d[_0x5eb116(0x4e9)][_0x5eb116(0x678)](_0x2a44dc=>_0x2a44dc[_0x5eb116(0x34f)])['join']('\x20');_0x59d67d+=_0x41a657+'\x0a\x0a';}return _0x59d67d;}async function handleGenerateFromBlueprint(){const _0x52b618=_0x2944ec,_0x580580=document['getElementById'](_0x52b618(0x632)),_0x22d568=document[_0x52b618(0x299)](_0x52b618(0x446)),_0x4d55e9=_0x580580[_0x52b618(0x7d7)][0x0],_0x5445b3=_0x22d568[_0x52b618(0x7d7)][_0x52b618(0x33e)]>0x0?_0x22d568[_0x52b618(0x7d7)][0x0]:null;if(!_0x4d55e9){showMessage(_0x52b618(0x41b));return;}const _0x115fd1=document[_0x52b618(0x299)](_0x52b618(0x55f)),_0x257117=document[_0x52b618(0x299)](_0x52b618(0x3f9)),_0x3253de=document[_0x52b618(0x299)]('generated-quiz-container'),_0x929d38=document['getElementById'](_0x52b618(0x348));_0x929d38[_0x52b618(0x278)]=!![],document[_0x52b618(0x299)]('quiz-generation-area')[_0x52b618(0x46e)][_0x52b618(0x75d)](_0x52b618(0x52f)),_0x3253de[_0x52b618(0x4a4)]='',_0x115fd1[_0x52b618(0x46e)][_0x52b618(0x75d)](_0x52b618(0x52f));try{_0x257117['textContent']='กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...';const _0xddecbf=await extractTextFromPdf(_0x4d55e9);if(!_0xddecbf[_0x52b618(0x980)]())throw new Error(_0x52b618(0x77d));let _0x32e359='';_0x5445b3&&(_0x257117['textContent']='กำลังอ่านไฟล์ข้อสอบอ้างอิง...',_0x32e359=await extractTextFromPdf(_0x5445b3));_0x257117[_0x52b618(0x391)]=_0x52b618(0x94d);const _0x30a3c5=document['getElementById'](_0x52b618(0x2da))[_0x52b618(0x911)],_0x2d7f62=_0x30a3c5?_0x52b618(0x811):'',_0x1871e8=_0x32e359?_0x52b618(0xa1a)+_0x32e359+_0x52b618(0xa55):'',_0x2b5365=_0x52b618(0x57d)+(_0x32e359?_0x52b618(0x6ba):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xddecbf+_0x52b618(0xa55)+_0x1871e8+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2d7f62+_0x52b618(0x854)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2c12a5={'type':_0x52b618(0x81a),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x52b618(0x224),'enum':['multiple_choice',_0x52b618(0x7df)]},'options':{'type':_0x52b618(0x4ce),'items':{'type':_0x52b618(0x224)}},'correctAnswerIndex':{'type':_0x52b618(0x86e)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x52b618(0x224)},'imageCode':{'type':'STRING'}},'required':[_0x52b618(0x561),_0x52b618(0x539),'explanation']},_0x17a6a9={'type':_0x52b618(0x81a),'properties':{'topic':{'type':_0x52b618(0x224)},'questions':{'type':'ARRAY','items':_0x2c12a5}},'required':['topic',_0x52b618(0x256)]};await handleApiCall(_0x2b5365,_0x52b618(0x48a),_0x17a6a9);}catch(_0x257fc3){console[_0x52b618(0x5c2)]('Error\x20generating\x20from\x20blueprint:',_0x257fc3),showMessage(_0x52b618(0x340)+_0x257fc3[_0x52b618(0x20f)]),_0x3253de['innerHTML']=_0x52b618(0x69f);}finally{_0x115fd1['classList'][_0x52b618(0x5af)](_0x52b618(0x52f)),_0x929d38[_0x52b618(0x278)]=![];}}async function handleGenerateParallelFromBank(_0x1ec0d1){const _0x4b220e=_0x2944ec;switchProjectTab(_0x4b220e(0xa1d));const _0x3ca6dd=document[_0x4b220e(0x299)](_0x4b220e(0x55f)),_0x12c369=document['getElementById'](_0x4b220e(0x3f9)),_0x2f604e=document[_0x4b220e(0x299)]('generated-quiz-container');document[_0x4b220e(0x299)]('quiz-generation-area')[_0x4b220e(0x46e)][_0x4b220e(0x75d)]('hidden'),_0x2f604e['innerHTML']='',_0x3ca6dd[_0x4b220e(0x46e)]['remove'](_0x4b220e(0x52f)),_0x12c369[_0x4b220e(0x391)]=_0x4b220e(0x769)+_0x1ec0d1[_0x4b220e(0x67d)]+'\x22\x20เพื่อสร้างชุดคู่ขนาน...';try{const _0x22aa21=_0x1ec0d1[_0x4b220e(0x256)][_0x4b220e(0x678)]((_0x79dcfe,_0x5228e3)=>{const _0x1d1b24=_0x4b220e;let _0x564788=_0x5228e3+0x1+'.\x20'+(_0x79dcfe['questionText']||_0x79dcfe['stem'])+'\x0a';if(_0x79dcfe['options'])_0x564788+=_0x79dcfe[_0x1d1b24(0x29d)]['map']((_0x4a8898,_0x3bc7b8)=>'\x20\x20\x20-\x20'+(_0x3bc7b8===_0x79dcfe[_0x1d1b24(0x36a)]?_0x1d1b24(0x5d8):'')+'\x20'+_0x4a8898)['join']('\x0a');else _0x79dcfe[_0x1d1b24(0x317)]&&(_0x564788+=_0x1d1b24(0x7e6)+_0x79dcfe[_0x1d1b24(0x317)]);return _0x564788;})[_0x4b220e(0x2b1)]('\x0a\x0a');_0x12c369['textContent']=_0x4b220e(0x5f9);const _0x1f764d=_0x1ec0d1[_0x4b220e(0x256)][_0x4b220e(0x33e)],_0x5d5088=_0x4b220e(0x37e)+_0x1ec0d1[_0x4b220e(0x67d)]+_0x4b220e(0x276)+_0x1f764d+'\x20ข้อ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x22aa21+_0x4b220e(0x3cd)+_0x1f764d+_0x4b220e(0x277)+simpleMathPrompt+_0x4b220e(0x5c8),_0x12d833={'type':_0x4b220e(0x81a),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x4b220e(0x224),'enum':['multiple_choice','short_answer',_0x4b220e(0x71b),'matching_item']},'options':{'type':_0x4b220e(0x4ce),'items':{'type':_0x4b220e(0x224)}},'correctAnswerIndex':{'type':_0x4b220e(0x86e)},'idealAnswer':{'type':_0x4b220e(0x224)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x4b220e(0x224)},'correctResponse':{'type':_0x4b220e(0x224)},'allResponses':{'type':_0x4b220e(0x4ce),'items':{'type':_0x4b220e(0x224)}},'explanation':{'type':_0x4b220e(0x224)},'imageCode':{'type':_0x4b220e(0x224)}},'required':[_0x4b220e(0x561),_0x4b220e(0x539),_0x4b220e(0x3c8)]},_0x5f2342={'type':_0x4b220e(0x81a),'properties':{'topic':{'type':_0x4b220e(0x224)},'questions':{'type':'ARRAY','items':_0x12d833}},'required':[_0x4b220e(0x67d),_0x4b220e(0x256)]},_0x545ce1=await callAnalysisApi(_0x5d5088,_0x5f2342);_0x545ce1[_0x4b220e(0x256)][_0x4b220e(0x33e)]>_0x1f764d&&(_0x545ce1[_0x4b220e(0x256)]=_0x545ce1[_0x4b220e(0x256)][_0x4b220e(0x5a4)](0x0,_0x1f764d)),_0x545ce1[_0x4b220e(0x67d)]=_0x4b220e(0x381)+_0x1ec0d1[_0x4b220e(0x67d)],_0x545ce1['quizType']=_0x1ec0d1['quizType'],currentQuizData=_0x545ce1,displayGeneratedQuiz(_0x545ce1),document['getElementById']('manage-tab-content')['scrollIntoView']({'behavior':_0x4b220e(0x9c8)});}catch(_0x148e2c){console[_0x4b220e(0x5c2)](_0x4b220e(0x7c2),_0x148e2c),showMessage(_0x4b220e(0x340)+_0x148e2c[_0x4b220e(0x20f)]),_0x2f604e[_0x4b220e(0x4a4)]=_0x4b220e(0x279);}finally{_0x3ca6dd['classList'][_0x4b220e(0x5af)](_0x4b220e(0x52f));}}async function handleGenerateParallelPostTest(_0x318d5c){const _0x296115=_0x2944ec,_0x5f408c=document[_0x296115(0x299)]('results-tab-content'),_0x4f110f=document[_0x296115(0x299)](_0x296115(0x28e));_0x4f110f[_0x296115(0x46e)][_0x296115(0x5af)]('hidden');const _0x12f761=_0x296115(0x67c);_0x5f408c[_0x296115(0x75b)](_0x296115(0x540),_0x12f761);try{const _0xb767d1=_0x318d5c[_0x296115(0x256)][_0x296115(0x678)]((_0x2ea2c8,_0x5f0d49)=>{const _0x525bf6=_0x296115;let _0x587fd7=_0x5f0d49+0x1+'.\x20'+(_0x2ea2c8[_0x525bf6(0x561)]||_0x2ea2c8[_0x525bf6(0xa65)]);if(_0x2ea2c8['options'])_0x587fd7+=_0x525bf6(0x410)+_0x2ea2c8[_0x525bf6(0x29d)][_0x525bf6(0x2b1)](',\x20');return _0x587fd7;})['join']('\x0a\x0a'),_0x3dd53e=_0x296115(0x296)+_0x318d5c[_0x296115(0x67d)]+_0x296115(0x9be)+_0xb767d1+_0x296115(0x740)+simpleMathPrompt+_0x296115(0x5c8),_0x4d8381={'type':_0x296115(0x81a),'properties':{'topic':{'type':_0x296115(0x224)},'questions':{'type':'ARRAY','items':{'type':_0x296115(0x81a),'properties':{'questionText':{'type':_0x296115(0x224)},'questionType':{'type':_0x296115(0x224)},'options':{'type':'ARRAY','items':{'type':_0x296115(0x224)}},'correctAnswerIndex':{'type':_0x296115(0x86e)},'idealAnswer':{'type':_0x296115(0x224)},'explanation':{'type':'STRING'}},'required':[_0x296115(0x561),_0x296115(0x3c8)]}}},'required':[_0x296115(0x67d),_0x296115(0x256)]},_0x31a561=await callAnalysisApi(_0x3dd53e,_0x4d8381),_0x7308dd=_0x318d5c['topic'][_0x296115(0x9d7)](_0x296115(0x8f1),'')[_0x296115(0x980)](),_0x38daa7=_0x296115(0x419)+_0x7308dd,_0x50b82a={..._0x31a561,'topic':_0x38daa7,'quizType':_0x318d5c[_0x296115(0x4f1)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x296115(0x3bc)](),'status':_0x296115(0x53d),'settings':_0x318d5c[_0x296115(0x2a4)],'quizMode':_0x296115(0x7b7),'pairedQuizId':_0x318d5c['id']};let _0x569fcd;while(!![]){_0x569fcd=Math[_0x296115(0x66b)](0x3e8+Math[_0x296115(0x891)]()*0x2328)[_0x296115(0x6f3)]();const _0x596435=await getDoc(doc(db,_0x296115(0x618)+appId+'/public/data/quizzes',_0x569fcd));if(!_0x596435['exists']())break;}await setDoc(doc(db,_0x296115(0x618)+appId+_0x296115(0x64b),_0x569fcd),_0x50b82a);const _0x480d10=doc(db,_0x296115(0x618)+appId+_0x296115(0x64b),_0x318d5c['id']);await updateDoc(_0x480d10,{'pairedQuizId':_0x569fcd}),showMessage(_0x296115(0x65d));}catch(_0x2d141d){console['error'](_0x296115(0x301),_0x2d141d),showMessage(_0x296115(0x340)+_0x2d141d[_0x296115(0x20f)]);}finally{const _0x4513fe=document['getElementById']('temp-loader-results');if(_0x4513fe)_0x4513fe[_0x296115(0x75d)]();_0x4f110f[_0x296115(0x46e)][_0x296115(0x75d)](_0x296115(0x52f));}}async function handleGenerateParallelTest(){const _0x21064a=_0x2944ec,_0x128da4=document[_0x21064a(0x299)]('parallel-test-upload-input'),_0x6d20c4=_0x128da4[_0x21064a(0x7d7)][0x0];if(!_0x6d20c4){showMessage(_0x21064a(0x752));return;}const _0x3f09e4=document[_0x21064a(0x299)]('loader'),_0x4f4f2b=document['getElementById'](_0x21064a(0x3f9)),_0xdfb0e0=document[_0x21064a(0x299)](_0x21064a(0x92f)),_0x3c034d=document[_0x21064a(0x299)](_0x21064a(0x949));_0x3c034d[_0x21064a(0x278)]=!![],document[_0x21064a(0x299)](_0x21064a(0x525))[_0x21064a(0x46e)][_0x21064a(0x75d)](_0x21064a(0x52f)),_0xdfb0e0['innerHTML']='',_0x3f09e4['classList'][_0x21064a(0x75d)]('hidden'),_0x4f4f2b[_0x21064a(0x391)]=_0x21064a(0x7b0);try{const _0x31b7b6=await extractTextFromPdf(_0x6d20c4);if(!_0x31b7b6[_0x21064a(0x980)]())throw new Error(_0x21064a(0x233));_0x4f4f2b[_0x21064a(0x391)]=_0x21064a(0x5f9);const _0x33e564=document[_0x21064a(0x299)](_0x21064a(0x2da))[_0x21064a(0x911)],_0x1a1695=_0x33e564?_0x21064a(0x811):'',_0x4c08cb=_0x21064a(0x9e9)+_0x31b7b6+_0x21064a(0x7e3)+_0x1a1695+_0x21064a(0x854)+simpleMathPrompt+_0x21064a(0x5c8),_0x1dd174={'type':_0x21064a(0x81a),'properties':{'questionText':{'type':_0x21064a(0x224)},'questionType':{'type':_0x21064a(0x224),'enum':[_0x21064a(0x503),_0x21064a(0x7df)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x21064a(0x86e)},'idealAnswer':{'type':_0x21064a(0x224)},'explanation':{'type':_0x21064a(0x224)},'imageCode':{'type':_0x21064a(0x224)}},'required':[_0x21064a(0x561),_0x21064a(0x539),_0x21064a(0x3c8)]},_0x30711d={'type':_0x21064a(0x81a),'properties':{'topic':{'type':_0x21064a(0x224)},'questions':{'type':'ARRAY','items':_0x1dd174}},'required':[_0x21064a(0x67d),'questions']};await handleApiCall(_0x4c08cb,_0x21064a(0x220),_0x30711d);}catch(_0xe1d776){console['error']('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0xe1d776),showMessage(_0x21064a(0x340)+_0xe1d776[_0x21064a(0x20f)]),_0xdfb0e0[_0x21064a(0x4a4)]=_0x21064a(0x279);}finally{_0x3f09e4['classList'][_0x21064a(0x5af)]('hidden'),_0x3c034d['disabled']=![];}}async function handleRegenerateQuestionInEditor(_0x29a24c){const _0x41db6b=_0x2944ec;if(currentEditingQuizData===null)return;const _0x5737fc=document['querySelector'](_0x41db6b(0x96c)+_0x29a24c+'\x22]');_0x5737fc&&(_0x5737fc['innerHTML']=_0x41db6b(0x548));const _0x46476e=currentEditingQuizData[_0x41db6b(0x256)][_0x29a24c],_0x36f964=currentEditingQuizData[_0x41db6b(0x67d)],_0x1f957a=_0x46476e[_0x41db6b(0x539)],_0x41dd7a={'type':'OBJECT','properties':{'questionText':{'type':_0x41db6b(0x224)},'options':{'type':'ARRAY','items':{'type':_0x41db6b(0x224)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x41db6b(0x224)}},'required':[_0x41db6b(0x561),'options',_0x41db6b(0x36a),_0x41db6b(0x3c8)]},_0x494b8a={'type':_0x41db6b(0x81a),'properties':{'questionText':{'type':_0x41db6b(0x224)},'idealAnswer':{'type':_0x41db6b(0x224)},'explanation':{'type':_0x41db6b(0x224)}},'required':[_0x41db6b(0x561),'idealAnswer',_0x41db6b(0x3c8)]};let _0x353452,_0x155d64='';_0x1f957a===_0x41db6b(0x503)?(_0x353452=_0x41dd7a,_0x155d64='แบบปรนัย\x204\x20ตัวเลือก'):(_0x353452=_0x494b8a,_0x155d64=_0x41db6b(0x4c8));const _0x5ee1d4=_0x41db6b(0x3ad)+_0x36f964+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x155d64+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x46476e[_0x41db6b(0x561)]||_0x46476e[_0x41db6b(0xa65)])+_0x41db6b(0x6a9)+simpleMathPrompt;try{const _0x31e0b2=await callAnalysisApi(_0x5ee1d4,_0x353452);currentEditingQuizData[_0x41db6b(0x256)][_0x29a24c]={..._0x46476e,..._0x31e0b2},renderQuizEditor(currentEditingQuizData);}catch(_0x45ab8a){console[_0x41db6b(0x5c2)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x45ab8a),showMessage(_0x41db6b(0x71a)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0xa0ad33=_0x2944ec,_0x2398e2=document[_0xa0ad33(0x299)](_0xa0ad33(0x6d7));currentMode===_0xa0ad33(0x5ac)?(adminPasswordModal[_0xa0ad33(0x46e)][_0xa0ad33(0x75d)](_0xa0ad33(0x52f)),document[_0xa0ad33(0x299)](_0xa0ad33(0x1ff))[_0xa0ad33(0x7c7)]()):(currentMode=_0xa0ad33(0x5ac),_0x2398e2['innerHTML']='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x2398e2[_0xa0ad33(0x436)]=_0xa0ad33(0x920),showView(_0xa0ad33(0x5ac)));}function handleAdminLogin(){const _0x25a510=_0x2944ec,_0x28a7db=document['getElementById']('admin-password-input'),_0x3868a9=document[_0x25a510(0x299)]('password-error-msg');if(_0x28a7db[_0x25a510(0x305)]===_0x25a510(0x646)){adminPasswordModal[_0x25a510(0x46e)][_0x25a510(0x5af)](_0x25a510(0x52f)),_0x28a7db[_0x25a510(0x305)]='',_0x3868a9[_0x25a510(0x46e)][_0x25a510(0x5af)](_0x25a510(0x52f)),currentMode=_0x25a510(0x497);const _0x4afca5=document['getElementById'](_0x25a510(0x6d7));_0x4afca5[_0x25a510(0x4a4)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x4afca5[_0x25a510(0x436)]=_0x25a510(0x6d6),showView('admin-dashboard');}else _0x3868a9[_0x25a510(0x46e)][_0x25a510(0x75d)](_0x25a510(0x52f)),_0x28a7db[_0x25a510(0x305)]='';}function switchProjectTab(_0x4c7e61){const _0x58c310=_0x2944ec;[_0x58c310(0xa1d),_0x58c310(0xa2b),_0x58c310(0x311)][_0x58c310(0x9ef)](_0x1b99ce=>{const _0x2a80a1=_0x58c310;document['getElementById'](_0x1b99ce+'-tab')['classList'][_0x2a80a1(0x75d)]('active'),document[_0x2a80a1(0x299)](_0x1b99ce+_0x2a80a1(0x292))['classList']['add']('hidden');}),document['getElementById'](_0x4c7e61+_0x58c310(0x896))[_0x58c310(0x46e)][_0x58c310(0x5af)](_0x58c310(0x53d)),document[_0x58c310(0x299)](_0x4c7e61+_0x58c310(0x292))['classList'][_0x58c310(0x75d)](_0x58c310(0x52f));}function switchQuizDetailTab(_0x53f644){const _0x2cae7d=_0x2944ec,_0x1561e6={'analytics':{'btn':_0x2cae7d(0x6ed),'content':_0x2cae7d(0x8e3)},'scores':{'btn':_0x2cae7d(0x89a),'content':_0x2cae7d(0x6e4)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0x2cae7d(0x4ae),'content':'behavior-log-tab-content'}};for(const _0x432c5d in _0x1561e6){document['getElementById'](_0x1561e6[_0x432c5d][_0x2cae7d(0x458)])[_0x2cae7d(0x46e)][_0x2cae7d(0x75d)](_0x2cae7d(0x53d)),document[_0x2cae7d(0x299)](_0x1561e6[_0x432c5d]['content'])['classList'][_0x2cae7d(0x5af)](_0x2cae7d(0x52f));}document[_0x2cae7d(0x299)](_0x1561e6[_0x53f644][_0x2cae7d(0x458)])['classList'][_0x2cae7d(0x5af)]('active'),document[_0x2cae7d(0x299)](_0x1561e6[_0x53f644][_0x2cae7d(0x558)])['classList'][_0x2cae7d(0x75d)](_0x2cae7d(0x52f));}function showMessage(_0x29fd67,_0x20292e=null){const _0x415671=_0x2944ec;modalMessage[_0x415671(0x391)]=_0x29fd67,modalConfirmAction=_0x20292e,messageModal['classList'][_0x415671(0x75d)](_0x415671(0x52f));}function showConfirmation(_0x15755a,_0xa23173){const _0x244829=_0x2944ec;document[_0x244829(0x299)]('confirmation-message')[_0x244829(0x391)]=_0x15755a,document[_0x244829(0x299)](_0x244829(0x44a))[_0x244829(0x775)]('h3')[_0x244829(0x391)]='ยืนยันการกระทำ',confirmAction=_0xa23173,confirmationModal[_0x244829(0x46e)][_0x244829(0x75d)](_0x244829(0x52f));}function listenForProjects(){const _0x1897f1=_0x2944ec,_0x323920=doc(db,_0x1897f1(0x90d),'dashboardConfig');onSnapshot(_0x323920,_0x579945=>{const _0x1db662=_0x1897f1;if(_0x579945[_0x1db662(0x8b2)]()){const _0x228e99=_0x579945[_0x1db662(0x719)]();globalDashboardSettings[_0x1db662(0x22d)]=_0x228e99['projectSort']||_0x1db662(0x542),globalDashboardSettings['pinnedProjects']=_0x228e99[_0x1db662(0x940)]||[],globalDashboardSettings[_0x1db662(0x355)]=_0x228e99[_0x1db662(0x355)]||[];}allProjects['length']>0x0&&renderProjects();});const _0x131363=collection(db,_0x1897f1(0x618)+appId+_0x1897f1(0x367));unsubscribeProjectsListener=onSnapshot(_0x131363,_0xc9dc02=>{const _0x5710ab=_0x1897f1;allProjects=_0xc9dc02[_0x5710ab(0x75e)]['map'](_0x1e1167=>({'id':_0x1e1167['id'],..._0x1e1167['data']()})),renderProjects();},_0x4dd085=>{const _0x5592b8=_0x1897f1;console[_0x5592b8(0x5c2)](_0x5592b8(0x2e8),_0x4dd085),showMessage(_0x5592b8(0x5d7));});}function showColorPalette(_0x5e08f0,_0x35d6c3){const _0x4898c1=_0x2944ec;document['querySelectorAll']('.color-palette-popup')[_0x4898c1(0x9ef)](_0xdcaf2a=>_0xdcaf2a['remove']());const _0x30e7bc=[_0x4898c1(0x538),'#FEE2E2','#FEF3C7',_0x4898c1(0x448),'#DBEAFE',_0x4898c1(0x6f8),_0x4898c1(0x8aa),'#FCE7F3','#E5E7EB'],_0x2af760=document[_0x4898c1(0x84e)]('div');_0x2af760[_0x4898c1(0x25d)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x30e7bc[_0x4898c1(0x9ef)](_0x36d94d=>{const _0x57444d=_0x4898c1,_0x2e23ee=document['createElement'](_0x57444d(0x20c));_0x2e23ee[_0x57444d(0x25d)]=_0x57444d(0x85a),_0x2e23ee[_0x57444d(0x5c1)][_0x57444d(0xa2e)]=_0x36d94d,_0x2e23ee[_0x57444d(0x757)](_0x57444d(0x9dc),()=>{const _0x4d9ee6=_0x57444d;handleProjectColorChange(_0x35d6c3,_0x36d94d),_0x2af760[_0x4d9ee6(0x75d)]();}),_0x2af760[_0x57444d(0xa37)](_0x2e23ee);}),document[_0x4898c1(0x817)][_0x4898c1(0xa37)](_0x2af760);const _0x48f8a6=_0x5e08f0[_0x4898c1(0x728)]();_0x2af760['style'][_0x4898c1(0x22c)]=_0x48f8a6['bottom']+window[_0x4898c1(0x90e)]+'px',_0x2af760[_0x4898c1(0x5c1)][_0x4898c1(0x7d4)]=_0x48f8a6[_0x4898c1(0x7d4)]+window['scrollX']-_0x2af760[_0x4898c1(0xa63)]/0x2+'px';}async function handleProjectColorChange(_0x34bd7b,_0x25f63e){const _0x3d738c=_0x2944ec,_0x280fc7=doc(db,_0x3d738c(0x618)+appId+_0x3d738c(0x367),_0x34bd7b);try{await updateDoc(_0x280fc7,{'color':_0x25f63e});}catch(_0x2819ec){console[_0x3d738c(0x5c2)]('Error\x20updating\x20project\x20color:',_0x2819ec),showMessage(_0x3d738c(0x5c6));}}async function renderProjects(){const _0x4b2083=_0x2944ec,_0x5e125f=globalDashboardSettings[_0x4b2083(0x22d)]||_0x4b2083(0x542),_0x9d3e9d=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x438dfd=globalDashboardSettings[_0x4b2083(0x932)]||'grid',_0x3f902e=document[_0x4b2083(0x299)](_0x4b2083(0x31a)),_0x272b88=document[_0x4b2083(0x299)](_0x4b2083(0x531));_0x3f902e[_0x4b2083(0x46e)][_0x4b2083(0x9d5)](_0x4b2083(0x53d),_0x438dfd===_0x4b2083(0x6dd)),_0x272b88[_0x4b2083(0x46e)]['toggle'](_0x4b2083(0x53d),_0x438dfd===_0x4b2083(0x825)),document[_0x4b2083(0x299)](_0x4b2083(0x784))[_0x4b2083(0x305)]=_0x5e125f;const _0x58c137=document['getElementById'](_0x4b2083(0x53b))[_0x4b2083(0x305)][_0x4b2083(0x565)]();let _0x434a42=allProjects[_0x4b2083(0x904)](_0x3f6eaf=>_0x3f6eaf[_0x4b2083(0x9bf)][_0x4b2083(0x565)]()[_0x4b2083(0x38f)](_0x58c137));const _0x204e63=_0x434a42[_0x4b2083(0x904)](_0x3b3f51=>_0x9d3e9d[_0x4b2083(0x59f)](_0x3b3f51['id'])),_0x43d3f0=_0x434a42[_0x4b2083(0x904)](_0x4cfc83=>!_0x9d3e9d['has'](_0x4cfc83['id'])),_0x295eae=(_0x4c6ea7,_0x426d7b)=>{const _0xac81de=_0x4b2083;switch(_0x5e125f){case _0xac81de(0x774):return _0x4c6ea7[_0xac81de(0x9bf)][_0xac81de(0x5d9)](_0x426d7b[_0xac81de(0x9bf)],'th');case _0xac81de(0x9c4):return _0x426d7b[_0xac81de(0x9bf)][_0xac81de(0x5d9)](_0x4c6ea7[_0xac81de(0x9bf)],'th');case _0xac81de(0x3a9):return new Date(_0x4c6ea7[_0xac81de(0x734)])-new Date(_0x426d7b['createdAt']);default:return new Date(_0x426d7b[_0xac81de(0x734)])-new Date(_0x4c6ea7[_0xac81de(0x734)]);}};_0x204e63[_0x4b2083(0x2e5)](_0x295eae),_0x43d3f0[_0x4b2083(0x2e5)](_0x295eae);const _0x823696=[..._0x204e63,..._0x43d3f0],_0x4bcc54=globalDashboardSettings[_0x4b2083(0x355)]||[];_0x4bcc54[_0x4b2083(0x33e)]>0x0&&_0x438dfd===_0x4b2083(0x6dd)&&_0x823696[_0x4b2083(0x2e5)]((_0x903242,_0xd90316)=>{const _0x5dcf5c=_0x4b2083,_0x4bcaa9=_0x4bcc54['indexOf'](_0x903242['id']),_0x428867=_0x4bcc54[_0x5dcf5c(0x460)](_0xd90316['id']);if(_0x4bcaa9===-0x1)return 0x1;if(_0x428867===-0x1)return-0x1;return _0x4bcaa9-_0x428867;});const _0x19d525={};await Promise[_0x4b2083(0xa6e)](_0x823696[_0x4b2083(0x678)](async _0x2d41bb=>{const _0x4453e5=_0x4b2083,_0x2ad0a5=query(collection(db,_0x4453e5(0x618)+appId+_0x4453e5(0x64b)),where('projectId','==',_0x2d41bb['id'])),_0x3351d9=await getDocs(_0x2ad0a5);_0x19d525[_0x2d41bb['id']]=_0x3351d9[_0x4453e5(0x84d)];}));const _0x291fab=document['getElementById'](_0x4b2083(0xa20));let _0x1f052d='';if(_0x438dfd===_0x4b2083(0x6dd)){_0x291fab[_0x4b2083(0x25d)]=_0x4b2083(0xa3f);if(starredQuizzes[_0x4b2083(0x33e)]>0x0&&_0x58c137===''){const _0x1986fd=starredQuizzes[_0x4b2083(0x678)](_0x136b1c=>{const _0x28593b=_0x4b2083,_0x64fd6d=allProjects[_0x28593b(0x238)](_0x1b02dd=>_0x1b02dd['id']===_0x136b1c[_0x28593b(0x80d)]);return{..._0x136b1c,'projectName':_0x64fd6d?_0x64fd6d[_0x28593b(0x9bf)]:_0x28593b(0x623)};});_0x1f052d+=_0x4b2083(0xa03)+_0x1986fd[_0x4b2083(0x678)](_0x337dac=>_0x4b2083(0x81d)+_0x337dac[_0x4b2083(0x67d)]+'\x22>'+_0x337dac[_0x4b2083(0x67d)]+_0x4b2083(0x852)+_0x337dac[_0x4b2083(0x9bf)]+_0x4b2083(0x682)+_0x337dac[_0x4b2083(0x9bf)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes[_0x4b2083(0x33e)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x823696[_0x4b2083(0x9ef)](_0x58e19d=>{const _0x1fca45=_0x4b2083,_0xb9b27f=_0x19d525[_0x58e19d['id']]??0x0,_0x271604=_0x9d3e9d[_0x1fca45(0x59f)](_0x58e19d['id']),_0x1256bd=_0x58e19d[_0x1fca45(0x663)]||_0x1fca45(0x538),_0x2da2d8=parseInt(_0x1256bd[_0x1fca45(0x5e0)](0x1,0x3),0x10)*0.299+parseInt(_0x1256bd[_0x1fca45(0x5e0)](0x3,0x5),0x10)*0.587+parseInt(_0x1256bd[_0x1fca45(0x5e0)](0x5,0x7),0x10)*0.114<0xba,_0x194c4c=_0x2da2d8?_0x1fca45(0xa68):_0x1fca45(0x407),_0x532d59=_0x2da2d8?_0x1fca45(0x455):_0x1fca45(0x58a);_0x1f052d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x271604?_0x1fca45(0x2bb):_0x1fca45(0x7e2))+_0x1fca45(0x462)+_0x1256bd+_0x1fca45(0x7e9)+_0x58e19d['id']+_0x1fca45(0x4be)+_0x58e19d['id']+_0x1fca45(0x936)+(_0x2da2d8?_0x1fca45(0x4a0):'text-gray-400\x20hover:text-indigo-600')+_0x1fca45(0x2e7)+_0x58e19d['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x2da2d8?'text-gray-300\x20hover:text-white':_0x1fca45(0x8b3))+_0x1fca45(0x666)+(_0x271604?_0x2da2d8?_0x1fca45(0x812):_0x1fca45(0x85b):'')+_0x1fca45(0x4b7)+_0x58e19d['id']+_0x1fca45(0x66c)+_0x194c4c+'\x20pointer-events-none\x22>'+_0x58e19d[_0x1fca45(0x9bf)]+_0x1fca45(0x842)+_0x532d59+_0x1fca45(0x20e)+new Date(_0x58e19d[_0x1fca45(0x734)])[_0x1fca45(0x70f)]('th-TH')+_0x1fca45(0x443)+(_0x2da2d8?_0x1fca45(0x6ae):_0x1fca45(0x5cb))+_0x1fca45(0xa70)+_0xb9b27f+_0x1fca45(0x5f4)+_0x58e19d['id']+_0x1fca45(0x1f1)+_0x58e19d[_0x1fca45(0x9bf)]+_0x1fca45(0x48d)+(_0x2da2d8?_0x1fca45(0x6c9):_0x1fca45(0x963))+_0x1fca45(0x2fd);});}else _0x291fab[_0x4b2083(0x25d)]=_0x4b2083(0x61e),starredQuizzes[_0x4b2083(0x33e)]>0x0&&_0x58c137===''&&(_0x1f052d+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x4b2083(0x33e)]+_0x4b2083(0x4ac)),_0x1f052d+=_0x4b2083(0xa34),_0x823696['forEach'](_0x2a5d04=>{const _0x39e0cb=_0x4b2083,_0x5c192f=_0x19d525[_0x2a5d04['id']]??0x0,_0x14a8a7=_0x9d3e9d[_0x39e0cb(0x59f)](_0x2a5d04['id']);_0x1f052d+=_0x39e0cb(0x77b)+(_0x2a5d04[_0x39e0cb(0x663)]||_0x39e0cb(0x577))+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x2a5d04['id']+_0x39e0cb(0x67a)+_0x2a5d04[_0x39e0cb(0x9bf)]+_0x39e0cb(0x96f)+_0x5c192f+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x2a5d04[_0x39e0cb(0x734)])['toLocaleString'](_0x39e0cb(0x331))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2a5d04['id']+_0x39e0cb(0x39b)+(_0x14a8a7?_0x39e0cb(0x85b):'')+_0x39e0cb(0x82b)+_0x2a5d04['id']+'\x22\x20data-name=\x22'+_0x2a5d04[_0x39e0cb(0x9bf)]+_0x39e0cb(0x2aa);});projectList[_0x4b2083(0x4a4)]=_0x1f052d,noProjectsMsg[_0x4b2083(0x46e)]['toggle'](_0x4b2083(0x52f),_0x1f052d[_0x4b2083(0x33e)]>0x0);}document[_0x2944ec(0x299)](_0x2944ec(0x735))[_0x2944ec(0x757)]('click',async()=>{const _0x52a407=_0x2944ec,_0x10b025=document[_0x52a407(0x299)]('project-name-input'),_0x3d39d0=_0x10b025[_0x52a407(0x305)]['trim']();if(!_0x3d39d0){showMessage(_0x52a407(0x28f));return;}try{const _0x33d159=doc(collection(db,'artifacts/'+appId+'/public/data/projects'));await setDoc(_0x33d159,{'projectName':_0x3d39d0,'students':[],'settings':{'resultsDisplay':_0x52a407(0x4af),'shuffleSetting':_0x52a407(0x2c6),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x52a407(0x2c6),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x52a407(0x3bc)]()}),_0x10b025['value']='',createProjectModal[_0x52a407(0x46e)]['add'](_0x52a407(0x52f)),showMessage(_0x52a407(0x2a2));}catch(_0x3793d4){console[_0x52a407(0x5c2)]('Error\x20creating\x20project:',_0x3793d4),showMessage(_0x52a407(0x5e3));}}),projectList[_0x2944ec(0x757)](_0x2944ec(0x9dc),async _0x5ddae3=>{const _0x325182=_0x2944ec,_0x838dad=_0x5ddae3['target'][_0x325182(0x6bd)](_0x325182(0x672)),_0x37ac68=_0x5ddae3[_0x325182(0x589)][_0x325182(0x6bd)](_0x325182(0x30c)),_0x367212=_0x5ddae3[_0x325182(0x589)]['closest'](_0x325182(0x47a)),_0x5087be=_0x5ddae3[_0x325182(0x589)][_0x325182(0x6bd)]('.color-palette-btn');if(_0x367212){const _0x207ef6=_0x367212[_0x325182(0x574)]['id'],_0x3b2f7f=doc(db,'globalSettings',_0x325182(0x628)),_0x5888e4=globalDashboardSettings[_0x325182(0x940)];let _0x2bbbeb;_0x5888e4[_0x325182(0x38f)](_0x207ef6)?_0x2bbbeb=_0x5888e4[_0x325182(0x904)](_0x57f5b7=>_0x57f5b7!==_0x207ef6):_0x2bbbeb=[..._0x5888e4,_0x207ef6];try{await setDoc(_0x3b2f7f,{'pinnedProjects':_0x2bbbeb},{'merge':!![]});}catch(_0x2fa6d8){console[_0x325182(0x5c2)]('Error\x20updating\x20pin\x20status:',_0x2fa6d8),showMessage(_0x325182(0x966));}}else{if(_0x5087be){const _0x19fcc3=_0x5087be[_0x325182(0x574)]['id'];showColorPalette(_0x5087be,_0x19fcc3);}else{if(_0x838dad){const _0x555305=_0x838dad[_0x325182(0x574)]['id'];_0x555305===_0x325182(0x22b)?showStarredProjectView():(currentProjectId=_0x555305,await loadProjectDetails(currentProjectId),showView(_0x325182(0x369)));}else{if(_0x37ac68){const _0x15621c=_0x37ac68[_0x325182(0x574)]['id'],_0x2e2c54=_0x37ac68[_0x325182(0x574)]['name'];showConfirmation(_0x325182(0x977)+_0x2e2c54+_0x325182(0x5c3),()=>handleDeleteProject(_0x15621c));}}}}}),projectList[_0x2944ec(0x757)](_0x2944ec(0x376),_0x159fcd=>{const _0x20caf0=_0x2944ec,_0x2c255a=_0x159fcd[_0x20caf0(0x589)][_0x20caf0(0x6bd)]('.project-card-container');_0x2c255a&&_0x2c255a[_0x20caf0(0x46e)][_0x20caf0(0x5af)](_0x20caf0(0x8e8));}),projectList['addEventListener'](_0x2944ec(0x223),_0x5da089=>{const _0x2d82aa=_0x2944ec,_0x5a9697=_0x5da089[_0x2d82aa(0x589)][_0x2d82aa(0x6bd)](_0x2d82aa(0x9f1));_0x5a9697&&_0x5a9697[_0x2d82aa(0x46e)][_0x2d82aa(0x75d)](_0x2d82aa(0x8e8));}),projectList[_0x2944ec(0x757)](_0x2944ec(0x5b3),_0x18c183=>{const _0x4a49e3=_0x2944ec;_0x18c183[_0x4a49e3(0x2e1)]();const _0x1a26f4=document[_0x4a49e3(0x775)](_0x4a49e3(0x948));if(!_0x1a26f4)return;const _0x18ac94=getDragAfterElement(projectList,_0x18c183[_0x4a49e3(0x976)]);_0x18ac94==null?projectList[_0x4a49e3(0xa37)](_0x1a26f4):projectList[_0x4a49e3(0x9bd)](_0x1a26f4,_0x18ac94);}),projectList['addEventListener'](_0x2944ec(0x53e),_0x5aabfb=>{const _0x56cf79=_0x2944ec;_0x5aabfb['preventDefault']();const _0x2153f5=[...projectList[_0x56cf79(0x921)](_0x56cf79(0x5fc))][_0x56cf79(0x678)](_0x4a5906=>_0x4a5906[_0x56cf79(0x574)]['id']);saveProjectOrder(_0x2153f5);});function renderBehaviorLog(_0x1d2e69){const _0x3bc3e9=_0x2944ec,_0x5188f4=document[_0x3bc3e9(0x299)](_0x3bc3e9(0x909));if(!_0x5188f4)return;const _0x21533b=_0x1d2e69['filter'](_0x1a3fce=>_0x1a3fce[_0x3bc3e9(0x2c1)]&&_0x1a3fce[_0x3bc3e9(0x2c1)][_0x3bc3e9(0x33e)]>0x0);if(_0x21533b[_0x3bc3e9(0x33e)]===0x0){_0x5188f4['innerHTML']=_0x3bc3e9(0x500);return;}let _0x1b0e11='';_0x21533b[_0x3bc3e9(0x9ef)](_0x13aa36=>{const _0x576216=_0x3bc3e9;_0x1b0e11+=_0x576216(0x492)+_0x13aa36[_0x576216(0x357)]+_0x576216(0x2a0),_0x13aa36[_0x576216(0x2c1)][_0x576216(0x2e5)]((_0x2d74b0,_0xc982a1)=>new Date(_0xc982a1['timestamp'])-new Date(_0x2d74b0['timestamp']))[_0x576216(0x9ef)](_0x25a57e=>{const _0x23d468=_0x576216,_0x34613f=new Date(_0x25a57e[_0x23d468(0x658)])[_0x23d468(0x8c4)](_0x23d468(0x331),{'dateStyle':'short','timeStyle':_0x23d468(0x273)});_0x1b0e11+=_0x23d468(0x2be)+_0x25a57e[_0x23d468(0x6f6)]+_0x23d468(0x284)+_0x34613f+_0x23d468(0x684);}),_0x1b0e11+=_0x576216(0x98c);}),_0x5188f4[_0x3bc3e9(0x4a4)]=_0x1b0e11;}function getDragAfterElement(_0x1612dc,_0x440bf3){const _0x41f284=_0x2944ec,_0xcf634d=[..._0x1612dc[_0x41f284(0x921)]('.project-card-container:not(.opacity-50)')];return _0xcf634d['reduce']((_0x5ec596,_0x5224a5)=>{const _0x23bbbc=_0x41f284,_0x4216d7=_0x5224a5['getBoundingClientRect'](),_0x4510f4=_0x440bf3-_0x4216d7['top']-_0x4216d7[_0x23bbbc(0x729)]/0x2;return _0x4510f4<0x0&&_0x4510f4>_0x5ec596[_0x23bbbc(0x30e)]?{'offset':_0x4510f4,'element':_0x5224a5}:_0x5ec596;},{'offset':Number[_0x41f284(0x1e8)]})[_0x41f284(0x3a3)];}async function saveProjectOrder(_0x34d6b7){const _0x330a93=_0x2944ec,_0x53b83e=doc(db,_0x330a93(0x90d),'dashboardConfig');try{await setDoc(_0x53b83e,{'projectOrder':_0x34d6b7},{'merge':!![]});}catch(_0x5bc440){console['error'](_0x330a93(0x7c4),_0x5bc440),showMessage(_0x330a93(0x295));}}async function logBehaviorEvent(_0x153797,_0x2d1b28={}){const _0x1cc463=_0x2944ec;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn'](_0x1cc463(0x46f));return;}const _0x1e5fa8=doc(db,_0x1cc463(0x618)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x1cc463(0x25a),currentStudentName),_0xdf00d0={'event':_0x153797,'timestamp':new Date()[_0x1cc463(0x3bc)](),..._0x2d1b28};try{await updateDoc(_0x1e5fa8,{'behaviorLog':arrayUnion(_0xdf00d0)}),console[_0x1cc463(0x5bf)](_0x1cc463(0x3ae)+currentStudentName+_0x1cc463(0x347));}catch(_0x115d54){_0x115d54['code']===_0x1cc463(0x21f)?console[_0x1cc463(0x568)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+_0x1cc463(0x2de)):console[_0x1cc463(0x5c2)](_0x1cc463(0x341),_0x115d54);}}function calculateMeanAndStdDev(_0x2244f2){const _0x418b41=_0x2944ec;if(_0x2244f2[_0x418b41(0x33e)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x4b6205=_0x2244f2[_0x418b41(0x54c)]((_0x376b1b,_0x21c7e4)=>_0x376b1b+_0x21c7e4,0x0)/_0x2244f2['length'];if(_0x2244f2[_0x418b41(0x33e)]===0x1)return{'mean':_0x4b6205,'stdDev':0x0};const _0xb391da=Math[_0x418b41(0x5b8)](_0x2244f2[_0x418b41(0x678)](_0x5105a5=>Math[_0x418b41(0x421)](_0x5105a5-_0x4b6205,0x2))[_0x418b41(0x54c)]((_0x48377e,_0x375e50)=>_0x48377e+_0x375e50,0x0)/(_0x2244f2[_0x418b41(0x33e)]-0x1));return{'mean':_0x4b6205,'stdDev':_0xb391da};}function calculateZScore(_0x2d9f20,_0x1e714d,_0x6677fe){if(_0x6677fe===0x0)return 0x0;return(_0x2d9f20-_0x1e714d)/_0x6677fe;}function calculateTScore(_0x448ad0){return 0xa*_0x448ad0+0x32;}function showStarredProjectView(){const _0x2d5285=_0x2944ec;currentProjectId='starred',currentProjectData=null,projectTitle['textContent']='แบบทดสอบที่ติดดาว',projectIdDisplay[_0x2d5285(0x391)]=_0x2d5285(0x876),showView(_0x2d5285(0x369)),manageTab[_0x2d5285(0x46e)][_0x2d5285(0x5af)](_0x2d5285(0x52f)),leaderboardTab['classList']['add'](_0x2d5285(0x52f)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x28ec02){const _0x59006e=_0x2944ec,_0x4ffefa=doc(db,_0x59006e(0x618)+appId+_0x59006e(0x367),_0x28ec02),_0xafdffb=await getDoc(_0x4ffefa);if(_0xafdffb['exists']()){manageTab[_0x59006e(0x46e)][_0x59006e(0x75d)](_0x59006e(0x52f)),leaderboardTab[_0x59006e(0x46e)][_0x59006e(0x75d)](_0x59006e(0x52f)),currentProjectData=_0xafdffb['data'](),projectTitle[_0x59006e(0x391)]=currentProjectData[_0x59006e(0x9bf)],projectIdDisplay[_0x59006e(0x391)]=_0x28ec02;const _0x1d039f=currentProjectData[_0x59006e(0x2a4)]||{};document[_0x59006e(0x299)](_0x59006e(0x63a))[_0x59006e(0x305)]=_0x1d039f[_0x59006e(0x3a4)]||_0x59006e(0x2c6);const _0x36a76a=document[_0x59006e(0x299)](_0x59006e(0x5aa));_0x36a76a[_0x59006e(0x911)]=_0x1d039f[_0x59006e(0xa49)]!==![];const _0x2b2fb5=document[_0x59006e(0x299)]('enable-passcode-checkbox'),_0x45f494=document[_0x59006e(0x299)](_0x59006e(0x2ab)),_0x263ba2=document[_0x59006e(0x299)](_0x59006e(0x96a)),_0x3b8b89=_0x1d039f[_0x59006e(0x845)]||![];_0x2b2fb5['checked']=_0x3b8b89,_0x263ba2[_0x59006e(0x305)]=_0x1d039f[_0x59006e(0x782)]||'',_0x45f494['classList']['toggle']('hidden',!_0x3b8b89),_0x2b2fb5[_0x59006e(0x773)]=()=>{const _0x355181=_0x59006e;_0x45f494[_0x355181(0x46e)]['toggle'](_0x355181(0x52f),!_0x2b2fb5[_0x355181(0x911)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x28ec02),listenForProjectQuizzes(_0x28ec02),listenForStudentProfiles(_0x28ec02);}else showMessage(_0x59006e(0x985)),showView(_0x59006e(0x248));}async function handleResetProjectOrder(){const _0x40322a=_0x2944ec,_0xdb9f13=doc(db,_0x40322a(0x90d),_0x40322a(0x628));try{await setDoc(_0xdb9f13,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x3fbf7e){console[_0x40322a(0x5c2)](_0x40322a(0xa5c),_0x3fbf7e),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x11c4ff){const _0x8574eb=_0x2944ec;if(!_0x11c4ff)return;const _0x413799=doc(db,'artifacts/'+appId+_0x8574eb(0x367),_0x11c4ff);try{const _0x4d9178=await getDoc(_0x413799);if(_0x4d9178[_0x8574eb(0x8b2)]()){const _0x41d818=_0x4d9178[_0x8574eb(0x719)]()[_0x8574eb(0x5dd)]||![];await updateDoc(_0x413799,{'isPinned':!_0x41d818});}}catch(_0x429f66){console[_0x8574eb(0x5c2)]('Error\x20toggling\x20pin\x20status:',_0x429f66),showMessage(_0x8574eb(0x966));}}async function handleDeleteProject(_0x2ca532){const _0x25cfb8=_0x2944ec;try{const _0x150866=writeBatch(db),_0x2f6da6=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x760e5c=query(_0x2f6da6,where('projectId','==',_0x2ca532)),_0x2db06c=await getDocs(_0x760e5c);for(const _0x397e71 of _0x2db06c[_0x25cfb8(0x75e)]){const _0x4a1ec9=collection(db,_0x25cfb8(0x618)+appId+_0x25cfb8(0x73f)+_0x397e71['id']+'/submissions'),_0x27a171=await getDocs(_0x4a1ec9);_0x27a171[_0x25cfb8(0x9ef)](_0x5520c5=>{const _0x4badc6=_0x25cfb8;_0x150866[_0x4badc6(0x479)](_0x5520c5[_0x4badc6(0x704)]);}),_0x150866[_0x25cfb8(0x479)](_0x397e71['ref']);}const _0x23f845=collection(db,'artifacts/'+appId+_0x25cfb8(0x5cc)+_0x2ca532+'/studentProfiles'),_0x5129c9=await getDocs(_0x23f845);_0x5129c9[_0x25cfb8(0x9ef)](_0x39c207=>{const _0x359a5e=_0x25cfb8;_0x150866[_0x359a5e(0x479)](_0x39c207[_0x359a5e(0x704)]);});const _0x295b78=doc(db,'artifacts/'+appId+'/public/data/projects',_0x2ca532);_0x150866[_0x25cfb8(0x479)](_0x295b78),await _0x150866['commit'](),showMessage(_0x25cfb8(0x85e)),showView(_0x25cfb8(0x248));}catch(_0x5b4c69){console[_0x25cfb8(0x5c2)](_0x25cfb8(0x258),_0x5b4c69),showMessage(_0x25cfb8(0x49c));}}document[_0x2944ec(0x299)](_0x2944ec(0x412))[_0x2944ec(0x757)]('click',async()=>{const _0x310676=_0x2944ec;if(!currentProjectId)return;const _0x1e9fb0={'defaultNumQuestions':parseInt(document['getElementById']('num-questions')['value']),'defaultNumChoices':parseInt(document[_0x310676(0x299)](_0x310676(0x4ad))[_0x310676(0x305)]),'defaultPassingScore':parseInt(document['getElementById'](_0x310676(0x2eb))[_0x310676(0x305)]),'resultsDisplay':document[_0x310676(0x299)](_0x310676(0x91c))[_0x310676(0x305)],'shuffleSetting':document[_0x310676(0x299)]('shuffle-setting-select')[_0x310676(0x305)],'timerMode':document[_0x310676(0x299)]('timer-mode-select')['value'],'timerDuration':parseInt(document['getElementById'](_0x310676(0x53f))[_0x310676(0x305)])};try{const _0x2ef3d0=doc(db,_0x310676(0x618)+appId+_0x310676(0x367),currentProjectId);await updateDoc(_0x2ef3d0,{'settings':_0x1e9fb0}),showMessage(_0x310676(0x6af));}catch(_0x2aa85a){console[_0x310676(0x5c2)](_0x310676(0x3ba),_0x2aa85a),showMessage(_0x310676(0x91d));}});function listenForStudents(_0x46fe8e){const _0x5b3670=_0x2944ec,_0x4d90c4=doc(db,_0x5b3670(0x618)+appId+_0x5b3670(0x367),_0x46fe8e);unsubscribeStudentsListener=onSnapshot(_0x4d90c4,_0x4a8c02=>{const _0x26ee43=_0x5b3670;if(_0x4a8c02['exists']()){const _0x16d537=_0x4a8c02[_0x26ee43(0x719)]();currentProjectData=_0x16d537,renderStudentList(_0x16d537[_0x26ee43(0x6ff)]||[]);}});}function renderStudentList(_0x4235e8){const _0x4a0ec7=_0x2944ec,_0x3e2597=document[_0x4a0ec7(0x299)](_0x4a0ec7(0x24d));_0x4235e8['length']===0x0?(studentList[_0x4a0ec7(0x4a4)]=_0x4a0ec7(0x667),_0x3e2597[_0x4a0ec7(0x46e)]['add']('hidden')):(studentList[_0x4a0ec7(0x4a4)]=_0x4235e8['map'](_0x10c20b=>_0x4a0ec7(0x9b7)+_0x10c20b+_0x4a0ec7(0x266)+_0x10c20b+_0x4a0ec7(0x631))[_0x4a0ec7(0x2b1)](''),_0x3e2597[_0x4a0ec7(0x46e)][_0x4a0ec7(0x75d)](_0x4a0ec7(0x52f)));}document[_0x2944ec(0x299)](_0x2944ec(0x5e4))[_0x2944ec(0x757)](_0x2944ec(0x9dc),async()=>{const _0x33e6f1=_0x2944ec;if(!currentProjectId)return;const _0x31e28e=document[_0x33e6f1(0x299)](_0x33e6f1(0x89d)),_0x848be0=_0x31e28e[_0x33e6f1(0x305)][_0x33e6f1(0x980)]();if(!_0x848be0){showMessage(_0x33e6f1(0x268));return;}const _0x3b6535=_0x848be0[_0x33e6f1(0x438)]('\x0a')[_0x33e6f1(0x678)](_0x19603d=>_0x19603d['trim']())[_0x33e6f1(0x904)](_0x1e0632=>_0x1e0632);if(_0x3b6535[_0x33e6f1(0x33e)]===0x0)return;try{const _0x2aeb22=doc(db,_0x33e6f1(0x618)+appId+_0x33e6f1(0x367),currentProjectId),_0x33704c=await getDoc(_0x2aeb22);if(_0x33704c[_0x33e6f1(0x8b2)]()){const _0x191f8d=_0x33704c['data']()[_0x33e6f1(0x6ff)]||[],_0x33796d=[...new Set([..._0x191f8d,..._0x3b6535])];await updateDoc(_0x2aeb22,{'students':_0x33796d}),_0x31e28e[_0x33e6f1(0x305)]='';}}catch(_0x5d669a){console[_0x33e6f1(0x5c2)]('Error\x20adding\x20students:',_0x5d669a),showMessage(_0x33e6f1(0x834));}});async function handleManualQuizPairing(_0x1e4586){const _0x30be3a=_0x2944ec,_0x56c0be=document['getElementById']('move-quiz-modal'),_0x385163=document[_0x30be3a(0x299)]('move-quiz-project-select'),_0x4c1eb7=_0x56c0be[_0x30be3a(0x775)]('h3'),_0x5d29e8=document[_0x30be3a(0x299)]('confirm-move-quiz-btn'),_0x2888d3=document[_0x30be3a(0x299)](_0x30be3a(0x495));_0x4c1eb7['textContent']=_0x30be3a(0x2b8),_0x385163[_0x30be3a(0x4a4)]=_0x30be3a(0x5a8),_0x5d29e8[_0x30be3a(0x391)]=_0x30be3a(0x863),_0x56c0be[_0x30be3a(0x46e)][_0x30be3a(0x75d)](_0x30be3a(0x52f));const _0x34bce1=allQuizzes[_0x30be3a(0x904)](_0x4fd128=>_0x4fd128['id']!==_0x1e4586);_0x34bce1[_0x30be3a(0x33e)]===0x0?(_0x385163[_0x30be3a(0x4a4)]=_0x30be3a(0x339),_0x5d29e8[_0x30be3a(0x278)]=!![]):(_0x385163[_0x30be3a(0x4a4)]=_0x30be3a(0x5a3)+_0x34bce1[_0x30be3a(0x678)](_0x5251f2=>'<option\x20value=\x22'+_0x5251f2['id']+'\x22>'+_0x5251f2['topic']+'</option>')['join'](''),_0x5d29e8[_0x30be3a(0x278)]=![]);const _0x37d38c=async()=>{const _0x2ec084=_0x30be3a,_0x1dd16b=_0x385163['value'];if(!_0x1dd16b){showMessage(_0x2ec084(0x5f5));return;}_0x5d29e8[_0x2ec084(0x278)]=!![],_0x5d29e8[_0x2ec084(0x391)]=_0x2ec084(0x567);try{const _0x2fcb27=doc(db,'artifacts/'+appId+_0x2ec084(0x64b),_0x1e4586),_0x35d46f=doc(db,_0x2ec084(0x618)+appId+_0x2ec084(0x64b),_0x1dd16b),_0x5b8c1d=writeBatch(db);_0x5b8c1d[_0x2ec084(0x71c)](_0x2fcb27,{'pairedQuizId':_0x1dd16b}),_0x5b8c1d[_0x2ec084(0x71c)](_0x35d46f,{'pairedQuizId':_0x1e4586}),await _0x5b8c1d[_0x2ec084(0xa44)](),showMessage(_0x2ec084(0x572)),_0x56c0be[_0x2ec084(0x46e)][_0x2ec084(0x5af)](_0x2ec084(0x52f));}catch(_0x321d0f){console[_0x2ec084(0x5c2)](_0x2ec084(0x5d3),_0x321d0f),showMessage(_0x2ec084(0x7d1));}finally{_0x4c1eb7[_0x2ec084(0x391)]=_0x2ec084(0x286),_0x5d29e8[_0x2ec084(0x391)]=_0x2ec084(0x61c),_0x5d29e8[_0x2ec084(0x278)]=![],_0x5d29e8[_0x2ec084(0x954)]('click',_0x37d38c),_0x2888d3[_0x2ec084(0x954)](_0x2ec084(0x9dc),_0x59f45a);}},_0x59f45a=()=>{const _0x5a87c0=_0x30be3a;_0x56c0be['classList'][_0x5a87c0(0x5af)](_0x5a87c0(0x52f)),_0x4c1eb7[_0x5a87c0(0x391)]=_0x5a87c0(0x286),_0x5d29e8[_0x5a87c0(0x391)]=_0x5a87c0(0x61c),_0x5d29e8['removeEventListener']('click',_0x37d38c),_0x2888d3[_0x5a87c0(0x954)](_0x5a87c0(0x9dc),_0x59f45a);};_0x5d29e8[_0x30be3a(0x757)]('click',_0x37d38c),_0x2888d3[_0x30be3a(0x757)]('click',_0x59f45a);}function handleDeleteStudent(_0x5c3e9d){const _0x48573c=_0x2944ec;showConfirmation(_0x48573c(0x76a)+_0x5c3e9d+_0x48573c(0x868),async()=>{const _0x351461=_0x48573c;if(!currentProjectId||!currentProjectData)return;const _0x4c7dc6=currentProjectData[_0x351461(0x6ff)][_0x351461(0x904)](_0x59db17=>_0x59db17!==_0x5c3e9d);try{const _0x2e0537=doc(db,'artifacts/'+appId+_0x351461(0x367),currentProjectId),_0x51a549=doc(db,_0x351461(0x618)+appId+_0x351461(0x5cc)+currentProjectId+_0x351461(0x34b),_0x5c3e9d),_0x3045e9=writeBatch(db);_0x3045e9[_0x351461(0x71c)](_0x2e0537,{'students':_0x4c7dc6}),_0x3045e9[_0x351461(0x479)](_0x51a549),await _0x3045e9[_0x351461(0xa44)]();}catch(_0x353d08){console['error'](_0x351461(0x9f0),_0x353d08),showMessage(_0x351461(0x424));}});}function handleDeleteAllStudents(){const _0x432c10=_0x2944ec;showConfirmation(_0x432c10(0x593),async()=>{const _0x1e1c7c=_0x432c10;if(!currentProjectId)return;try{const _0x3c86aa=doc(db,_0x1e1c7c(0x618)+appId+_0x1e1c7c(0x367),currentProjectId),_0x5385f9=collection(db,'artifacts/'+appId+_0x1e1c7c(0x5cc)+currentProjectId+'/studentProfiles'),_0x3aa3ea=await getDocs(_0x5385f9),_0x17a7f8=writeBatch(db);_0x17a7f8[_0x1e1c7c(0x71c)](_0x3c86aa,{'students':[]}),_0x3aa3ea[_0x1e1c7c(0x9ef)](_0x1cf207=>_0x17a7f8[_0x1e1c7c(0x479)](_0x1cf207[_0x1e1c7c(0x704)])),await _0x17a7f8['commit']();}catch(_0x4609ff){console[_0x1e1c7c(0x5c2)](_0x1e1c7c(0xa6d),_0x4609ff),showMessage(_0x1e1c7c(0x218));}});}async function handleGenerateFromFileClick(){const _0x8e14f4=_0x2944ec;if(!selectedFile){showMessage(_0x8e14f4(0x3cf));return;}const _0x504585=document[_0x8e14f4(0x299)]('loader'),_0x14fc3e=document[_0x8e14f4(0x299)]('loader-text'),_0x25af11=document[_0x8e14f4(0x299)]('generated-quiz-container'),_0x4a047e=document[_0x8e14f4(0x299)](_0x8e14f4(0x5ff));_0x4a047e[_0x8e14f4(0x278)]=!![],document[_0x8e14f4(0x299)](_0x8e14f4(0x525))[_0x8e14f4(0x46e)]['remove'](_0x8e14f4(0x52f)),_0x25af11[_0x8e14f4(0x4a4)]='',_0x504585[_0x8e14f4(0x46e)]['remove'](_0x8e14f4(0x52f)),_0x14fc3e[_0x8e14f4(0x391)]=_0x8e14f4(0x689);const _0x472d0b=new FileReader();_0x472d0b[_0x8e14f4(0x785)](selectedFile),_0x472d0b['onload']=async()=>{const _0x17a366=_0x8e14f4;try{const _0x4c7476=_0x472d0b[_0x17a366(0x3d4)][_0x17a366(0x438)](',')[0x1],_0x5545fe=selectedFile['type'];await generateQuizFromFile(_0x5545fe,_0x4c7476);}catch(_0x4e54ba){console['error'](_0x17a366(0x2e3),_0x4e54ba),showMessage(_0x17a366(0xa4f)+_0x4e54ba[_0x17a366(0x20f)]),_0x504585[_0x17a366(0x46e)][_0x17a366(0x5af)]('hidden');}finally{}},_0x472d0b[_0x8e14f4(0x3ca)]=_0x3c54e7=>{const _0x3603b6=_0x8e14f4;console['error']('FileReader\x20error:',_0x3c54e7),showMessage(_0x3603b6(0x3e0)),_0x504585['classList'][_0x3603b6(0x5af)](_0x3603b6(0x52f)),_0x4a047e['disabled']=![];};}function autoFormatMath(_0x124c3d){const _0x260949=_0x2944ec;if(typeof _0x124c3d!==_0x260949(0x7aa)||!_0x124c3d)return _0x124c3d;const _0x519940=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x4a2b8e=_0x124c3d['replace'](_0x519940,_0x49ae39=>{const _0x3dee86=_0x260949;return'$'+_0x49ae39[_0x3dee86(0x980)]()+'$';});return _0x4a2b8e;}function sanitizeQuizData(_0x13b5d7){const _0x57075d=_0x2944ec;if(!_0x13b5d7||!_0x13b5d7['questions'])return _0x13b5d7;const _0x28233c={'imes':'\x5ctimes','div':_0x57075d(0x39e)},_0x3d4232=_0x3b95cd=>{const _0x117411=_0x57075d;if(typeof _0x3b95cd!==_0x117411(0x7aa))return _0x3b95cd;let _0x3f1e29=_0x3b95cd;for(const [_0x127c09,_0x282c60]of Object[_0x117411(0x50b)](_0x28233c)){const _0x3e7c2e=new RegExp('\x5cb'+_0x127c09+'\x5cb','g');_0x3f1e29=_0x3f1e29['replace'](_0x3e7c2e,_0x282c60);}return _0x3f1e29=_0x3f1e29[_0x117411(0x9d7)](/\\\//g,_0x117411(0x39e)),_0x3f1e29=_0x3f1e29[_0x117411(0x9d7)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x117411(0x39e))['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,_0x117411(0x29a))[_0x117411(0x9d7)](/÷/g,_0x117411(0x39e))[_0x117411(0x9d7)](/×/g,_0x117411(0x29a)),_0x3f1e29=_0x3f1e29[_0x117411(0x9d7)](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x3f1e29=autoFormatMath(_0x3f1e29),_0x3f1e29;};return _0x13b5d7[_0x57075d(0x67d)]&&(_0x13b5d7[_0x57075d(0x67d)]=_0x3d4232(_0x13b5d7['topic'])),_0x13b5d7[_0x57075d(0x256)][_0x57075d(0x9ef)](_0x4c17ec=>{const _0x569ae1=_0x57075d;_0x4c17ec[_0x569ae1(0x561)]=_0x3d4232(_0x4c17ec[_0x569ae1(0x561)]),_0x4c17ec[_0x569ae1(0x29d)]&&(_0x4c17ec['options']=_0x4c17ec['options'][_0x569ae1(0x678)](_0x3d4232)),_0x4c17ec[_0x569ae1(0x3c8)]&&(_0x4c17ec[_0x569ae1(0x3c8)]=_0x3d4232(_0x4c17ec[_0x569ae1(0x3c8)])),_0x4c17ec[_0x569ae1(0xa65)]&&(_0x4c17ec[_0x569ae1(0xa65)]=_0x3d4232(_0x4c17ec['stem'])),_0x4c17ec['correctResponse']&&(_0x4c17ec[_0x569ae1(0x826)]=_0x3d4232(_0x4c17ec[_0x569ae1(0x826)])),_0x4c17ec[_0x569ae1(0x662)]&&(_0x4c17ec['allResponses']=_0x4c17ec[_0x569ae1(0x662)][_0x569ae1(0x678)](_0x3d4232));}),_0x13b5d7;}const simpleMathPrompt=_0x2944ec(0x88f);async function handleGenerateFromLink(){const _0x2dd7f3=_0x2944ec,_0x15b1d9=document[_0x2dd7f3(0x299)]('link-url-input'),_0x18f66d=document[_0x2dd7f3(0x299)]('link-topic-input'),_0x1dbf52=_0x15b1d9['value'][_0x2dd7f3(0x980)](),_0x55c1be=_0x18f66d['value'][_0x2dd7f3(0x980)]();if(!_0x1dbf52){showMessage(_0x2dd7f3(0x5c9));return;}const _0x40ac51=document[_0x2dd7f3(0x299)]('loader'),_0x40cf69=document['getElementById']('loader-text'),_0x231d0a=document[_0x2dd7f3(0x299)](_0x2dd7f3(0x92f)),_0x13cd65=document[_0x2dd7f3(0x299)](_0x2dd7f3(0x8af));document[_0x2dd7f3(0x299)]('quiz-generation-area')['classList'][_0x2dd7f3(0x75d)](_0x2dd7f3(0x52f)),_0x231d0a[_0x2dd7f3(0x4a4)]='',_0x40ac51['classList']['remove']('hidden'),_0x40cf69[_0x2dd7f3(0x391)]=_0x2dd7f3(0x937),_0x13cd65['disabled']=!![];try{const _0x424915=_0x2dd7f3(0x600)+encodeURIComponent(_0x1dbf52),_0xc7076e=await fetch(_0x424915);if(!_0xc7076e['ok'])throw new Error(_0x2dd7f3(0x1d6)+_0xc7076e[_0x2dd7f3(0x49d)]+')');const _0x428edf=await _0xc7076e[_0x2dd7f3(0x62f)](),_0x281bfc=extractTextFromHtml(_0x428edf);if(!_0x281bfc||_0x281bfc[_0x2dd7f3(0x33e)]<0x64)throw new Error(_0x2dd7f3(0x4e3));await generateQuiz(_0x55c1be,_0x281bfc);}catch(_0x277fe2){console['error']('Error\x20generating\x20from\x20link:',_0x277fe2),showMessage(_0x2dd7f3(0x340)+_0x277fe2[_0x2dd7f3(0x20f)]),_0x231d0a[_0x2dd7f3(0x4a4)]=_0x2dd7f3(0x44b);}finally{_0x40ac51[_0x2dd7f3(0x46e)]['add'](_0x2dd7f3(0x52f)),_0x13cd65['disabled']=![];}}function extractTextFromHtml(_0xd3dcfe){const _0x30d636=_0x2944ec,_0x967483=new DOMParser()['parseFromString'](_0xd3dcfe,'text/html');return _0x967483['querySelectorAll'](_0x30d636(0x838))[_0x30d636(0x9ef)](_0x2a1d0a=>_0x2a1d0a[_0x30d636(0x75d)]()),_0x967483[_0x30d636(0x817)]['textContent']||'';}document[_0x2944ec(0x299)]('generate-from-topic-btn')[_0x2944ec(0x757)](_0x2944ec(0x9dc),()=>{const _0x319002=_0x2944ec,_0x112a57=document['getElementById'](_0x319002(0x380))[_0x319002(0x305)][_0x319002(0x980)]();generateQuiz(_0x112a57,null);}),document[_0x2944ec(0x299)](_0x2944ec(0x8cb))['addEventListener']('click',()=>{const _0x4383ee=_0x2944ec,_0x20b11c=document[_0x4383ee(0x299)](_0x4383ee(0x486))['value']['trim']();if(!_0x20b11c){showMessage(_0x4383ee(0x3d3));return;}const _0x31c320=document[_0x4383ee(0x299)]('topic-input')[_0x4383ee(0x305)][_0x4383ee(0x980)]();generateQuiz(_0x31c320,_0x20b11c);});async function generateQuiz(_0x1aeba5,_0x2ece34,_0x987529=null){const _0x5d66ec=_0x2944ec,_0xd461c5=document[_0x5d66ec(0x299)](_0x5d66ec(0x2da))[_0x5d66ec(0x911)],_0x21c8ef=document[_0x5d66ec(0x299)]('quiz-type-select')[_0x5d66ec(0x305)],_0x568e69=document[_0x5d66ec(0x299)](_0x5d66ec(0x873))[_0x5d66ec(0x305)],_0x3267b1=document['getElementById'](_0x5d66ec(0x4ad))[_0x5d66ec(0x305)],_0x139908=document[_0x5d66ec(0x299)](_0x5d66ec(0x9c3))[_0x5d66ec(0x911)],_0x294b6b=_0x139908?'':'คณิตศาสตร์',_0x376166=document[_0x5d66ec(0x299)](_0x5d66ec(0x245)),_0x3598c6=_0x376166[_0x5d66ec(0x305)];let _0x1db0ca='';_0x3598c6!==_0x5d66ec(0x264)&&(_0x1db0ca='โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x3598c6+'\x22');const _0xdd771d=document['getElementById'](_0x5d66ec(0x6ea)),_0x3c77e7=_0xdd771d[_0x5d66ec(0x305)];let _0x1ff308='';_0x3c77e7!=='mixed'&&(_0x1ff308='โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x3c77e7+_0x5d66ec(0x674));const _0x2cd454=document[_0x5d66ec(0x921)]('#math-topics-checkbox-container\x20input:checked'),_0x24c1ca=Array[_0x5d66ec(0x4cd)](_0x2cd454)[_0x5d66ec(0x678)](_0x5e3f1e=>_0x5e3f1e['value']);let _0xeb00b6='';_0x24c1ca[_0x5d66ec(0x33e)]>0x0&&(_0xeb00b6=_0x5d66ec(0x31d)+_0x24c1ca[_0x5d66ec(0x2b1)](',\x20')+_0x5d66ec(0x2b4));let _0x583dd6='',_0x1bd9e7='',_0x3739cc,_0x286124='เกี่ยวกับหัวข้อ\x20\x22'+_0x1aeba5+'\x22';if(!_0x1aeba5&&_0x2ece34)_0x286124=_0x5d66ec(0x835);else!_0x1aeba5&&!_0x2ece34&&(_0x286124='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x1e5cec={'type':'OBJECT','properties':{'questionText':{'type':_0x5d66ec(0x224)},'options':{'type':_0x5d66ec(0x4ce),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5d66ec(0x86e)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0x5d66ec(0x29d),'correctAnswerIndex',_0x5d66ec(0x3c8)]},_0x2cc3a5={'type':_0x5d66ec(0x81a),'properties':{'questionText':{'type':_0x5d66ec(0x224)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0x5d66ec(0x317),_0x5d66ec(0x3c8)]},_0x377cc9={'type':_0x5d66ec(0x81a),'properties':{'questionText':{'type':_0x5d66ec(0x224)},'questionType':{'type':'STRING','enum':[_0x5d66ec(0x503),_0x5d66ec(0x7df)]},'options':{'type':_0x5d66ec(0x4ce),'items':{'type':_0x5d66ec(0x224)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5d66ec(0x224)},'imageCode':{'type':_0x5d66ec(0x224)}},'required':[_0x5d66ec(0x561),_0x5d66ec(0x539),_0x5d66ec(0x3c8)]},_0x453b7f={'type':'OBJECT','properties':{'questionText':{'type':_0x5d66ec(0x224)},'correctAnswer':{'type':_0x5d66ec(0x820)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5d66ec(0x224)}},'required':[_0x5d66ec(0x561),_0x5d66ec(0x83d),_0x5d66ec(0x3c8)]},_0x2869e0={'type':_0x5d66ec(0x81a),'properties':{'questionType':{'type':_0x5d66ec(0x224),'enum':[_0x5d66ec(0x390)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x5d66ec(0x4ce),'items':{'type':'STRING'}},'explanation':{'type':_0x5d66ec(0x224)},'imageCode':{'type':'STRING'}},'required':[_0x5d66ec(0x539),_0x5d66ec(0xa65),_0x5d66ec(0x826),_0x5d66ec(0x662),_0x5d66ec(0x3c8)]};let _0x492438;if(_0x987529!==null){const _0x76da4f=currentQuizData[_0x5d66ec(0x256)][_0x987529][_0x5d66ec(0x539)],_0x266c0d=_0xd461c5?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x583dd6=_0x5d66ec(0x40a)+_0x286124+'\x20'+_0xeb00b6+'\x20'+_0x1db0ca+_0x5d66ec(0xa1e)+_0x266c0d+'\x20'+simpleMathPrompt;if(_0x76da4f===_0x5d66ec(0x503))_0x3739cc=_0x1e5cec;else{if(_0x76da4f===_0x5d66ec(0x390))_0x3739cc={'type':_0x5d66ec(0x81a),'properties':{'questionType':{'type':'STRING','enum':[_0x5d66ec(0x390)]},'stem':{'type':_0x5d66ec(0x224)},'correctResponse':{'type':_0x5d66ec(0x224)},'explanation':{'type':_0x5d66ec(0x224)},'imageCode':{'type':_0x5d66ec(0x224)}},'required':[_0x5d66ec(0x539),_0x5d66ec(0xa65),_0x5d66ec(0x826),_0x5d66ec(0x3c8)]};else _0x3739cc=_0x2cc3a5;}_0x492438=_0x3739cc;}else{const _0x3e53d8=_0xd461c5?_0x5d66ec(0xa45):'',_0x59a56e=_0x5d66ec(0x603);switch(_0x21c8ef){case _0x5d66ec(0x503):_0x583dd6=_0x5d66ec(0xa0f)+_0x294b6b+'\x20'+_0x568e69+_0x5d66ec(0x8ff)+_0x286124+'\x20'+_0xeb00b6+'\x20'+_0x1db0ca+'\x20'+_0x1ff308+_0x5d66ec(0xa01)+_0x3267b1+_0x5d66ec(0xa3a)+_0x3e53d8+'\x20'+simpleMathPrompt,_0x3739cc=_0x1e5cec;break;case _0x5d66ec(0x990):_0x583dd6=_0x5d66ec(0x484)+_0x294b6b+'\x20'+_0x568e69+_0x5d66ec(0x8ff)+_0x286124+'\x20'+_0xeb00b6+'\x20'+_0x1db0ca+'\x20'+_0x1ff308+_0x5d66ec(0x5b0)+_0x3267b1+_0x5d66ec(0x523)+_0x3e53d8+'\x20'+simpleMathPrompt,_0x3739cc=_0x1e5cec;break;case _0x5d66ec(0x8a9):_0x583dd6='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x294b6b+'\x20'+_0x568e69+'\x20ข้อ\x20'+_0x286124+'\x20'+_0xeb00b6+'\x20'+_0x1db0ca+'\x20'+_0x1ff308+_0x5d66ec(0x5dc)+_0x3e53d8+'\x20'+simpleMathPrompt,_0x3739cc=_0x2cc3a5;break;case _0x5d66ec(0xa2a):_0x583dd6=_0x5d66ec(0x396)+_0x294b6b+'\x20'+_0x568e69+'\x20ข้อ\x20'+_0x286124+'\x20'+_0xeb00b6+'\x20'+_0x1db0ca+'\x20'+_0x1ff308+_0x5d66ec(0x434)+_0x3267b1+_0x5d66ec(0x300)+_0x3e53d8+'\x20'+simpleMathPrompt+'.',_0x3739cc=_0x377cc9;break;case _0x5d66ec(0x71b):_0x583dd6=_0x5d66ec(0x63b)+_0x294b6b+'\x20'+_0x568e69+_0x5d66ec(0x8ff)+_0x286124+'\x20'+_0xeb00b6+'\x20'+_0x1db0ca+'\x20'+_0x1ff308+_0x5d66ec(0x476)+_0x3e53d8+'\x20'+simpleMathPrompt,_0x3739cc=_0x453b7f;break;case _0x5d66ec(0x8c7):_0x583dd6='สร้างชุดคำถามจับคู่'+_0x294b6b+'\x20'+_0x568e69+'\x20คู่\x20'+_0x286124+'\x20'+_0xeb00b6+'\x20'+_0x1db0ca+'\x20'+_0x1ff308+_0x5d66ec(0x8c8)+_0x3e53d8+'\x20'+simpleMathPrompt,_0x3739cc=_0x2869e0;break;}_0x492438={'type':'OBJECT','properties':{'topic':{'type':_0x5d66ec(0x224)},'questions':{'type':'ARRAY','items':_0x3739cc}},'required':['topic',_0x5d66ec(0x256)]};}return _0x2ece34?(_0x583dd6=_0x5d66ec(0x3df)+_0x2ece34+'\x22,\x20'+_0x583dd6,_0x1bd9e7=_0x5d66ec(0x478)):_0x1bd9e7=_0x5d66ec(0x8db),handleApiCall(_0x583dd6,_0x1bd9e7,_0x492438,_0x987529);}async function generateQuizFromFile(_0x2fe438,_0x9ba8f9){const _0x357323=_0x2944ec,_0x513382=document[_0x357323(0x299)](_0x357323(0x74b))[_0x357323(0x305)][_0x357323(0x980)](),_0x9ea1ad=document['getElementById'](_0x357323(0x260))[_0x357323(0x305)],_0x52a9f2=document[_0x357323(0x299)](_0x357323(0x873))[_0x357323(0x305)],_0x280260=document[_0x357323(0x299)](_0x357323(0x4ad))[_0x357323(0x305)],_0x88e420=document['getElementById'](_0x357323(0x2da))[_0x357323(0x911)],_0x2c41dc=document['getElementById']('force-math-checkbox')[_0x357323(0x911)],_0x249b87=_0x2c41dc?'':_0x357323(0x9dd);let _0x1ffedf='',_0x5ad905,_0x4dd64c=_0x357323(0x1f0)+_0x513382+'\x22';!_0x513382&&(_0x4dd64c='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');const _0x5de205=_0x88e420?_0x357323(0xa45):'';switch(_0x9ea1ad){case _0x357323(0x503):_0x1ffedf=_0x357323(0xa0f)+_0x249b87+'\x20'+_0x52a9f2+'\x20ข้อ\x20'+_0x4dd64c+_0x357323(0xa01)+_0x280260+_0x357323(0xa3a)+_0x5de205+'\x20'+simpleMathPrompt,_0x5ad905={'type':_0x357323(0x81a),'properties':{'questionText':{'type':_0x357323(0x224)},'options':{'type':_0x357323(0x4ce),'items':{'type':_0x357323(0x224)}},'correctAnswerIndex':{'type':_0x357323(0x86e)},'explanation':{'type':_0x357323(0x224)},'imageCode':{'type':'STRING'}},'required':[_0x357323(0x561),_0x357323(0x29d),_0x357323(0x36a),_0x357323(0x3c8)]};break;case _0x357323(0x990):_0x1ffedf=_0x357323(0x484)+_0x249b87+'\x20'+_0x52a9f2+_0x357323(0x8ff)+_0x4dd64c+_0x357323(0x5b0)+_0x280260+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x5de205+'\x20'+simpleMathPrompt,_0x5ad905={'type':_0x357323(0x81a),'properties':{'questionText':{'type':_0x357323(0x224)},'options':{'type':_0x357323(0x4ce),'items':{'type':_0x357323(0x224)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x357323(0x224)}},'required':[_0x357323(0x561),_0x357323(0x29d),_0x357323(0x36a),_0x357323(0x3c8)]};break;case'fill_in_no_choices':_0x1ffedf=_0x357323(0x484)+_0x249b87+'\x20'+_0x52a9f2+_0x357323(0x8ff)+_0x4dd64c+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x5de205+'\x20'+simpleMathPrompt,_0x5ad905={'type':'OBJECT','properties':{'questionText':{'type':_0x357323(0x224)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x357323(0x224)},'imageCode':{'type':'STRING'}},'required':[_0x357323(0x561),_0x357323(0x317),_0x357323(0x3c8)]};break;case'mixed':_0x1ffedf=_0x357323(0x396)+_0x249b87+'\x20'+_0x52a9f2+_0x357323(0x8ff)+_0x4dd64c+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x280260+_0x357323(0x300)+_0x5de205+'\x20'+simpleMathPrompt+_0x357323(0x21e),_0x5ad905={'type':_0x357323(0x81a),'properties':{'questionText':{'type':_0x357323(0x224)},'questionType':{'type':'STRING','enum':[_0x357323(0x503),_0x357323(0x7df)]},'options':{'type':'ARRAY','items':{'type':_0x357323(0x224)}},'correctAnswerIndex':{'type':_0x357323(0x86e)},'idealAnswer':{'type':_0x357323(0x224)},'explanation':{'type':_0x357323(0x224)},'imageCode':{'type':'STRING'}},'required':[_0x357323(0x561),_0x357323(0x539),'explanation']};break;case _0x357323(0x71b):_0x1ffedf=_0x357323(0x63b)+_0x249b87+'\x20'+_0x52a9f2+_0x357323(0x8ff)+_0x4dd64c+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x5de205+'\x20'+simpleMathPrompt,_0x5ad905={'type':_0x357323(0x81a),'properties':{'questionText':{'type':_0x357323(0x224)},'correctAnswer':{'type':_0x357323(0x820)},'explanation':{'type':_0x357323(0x224)},'imageCode':{'type':_0x357323(0x224)}},'required':[_0x357323(0x561),_0x357323(0x83d),'explanation']};break;case _0x357323(0x8c7):_0x1ffedf='สร้างชุดคำถามจับคู่'+_0x249b87+'\x20'+_0x52a9f2+'\x20คู่\x20'+_0x4dd64c+_0x357323(0x72c)+_0x52a9f2+_0x357323(0x7ab)+_0x5de205+'\x20'+simpleMathPrompt,_0x5ad905={'type':_0x357323(0x81a),'properties':{'questionType':{'type':_0x357323(0x224),'enum':[_0x357323(0x390)]},'stem':{'type':_0x357323(0x224)},'correctResponse':{'type':_0x357323(0x224)},'allResponses':{'type':_0x357323(0x4ce),'items':{'type':_0x357323(0x224)}},'explanation':{'type':_0x357323(0x224)},'imageCode':{'type':_0x357323(0x224)}},'required':['questionType','stem',_0x357323(0x826),_0x357323(0x662),_0x357323(0x3c8)]};break;}const _0x1f321b={'type':'OBJECT','properties':{'topic':{'type':_0x357323(0x224)},'questions':{'type':_0x357323(0x4ce),'items':_0x5ad905}},'required':[_0x357323(0x67d),_0x357323(0x256)]},_0x55da49='จากไฟล์ที่แนบมานี้,\x20'+_0x1ffedf,_0x6782e0={'contents':[{'parts':[{'text':_0x55da49},{'inlineData':{'mimeType':_0x2fe438,'data':_0x9ba8f9}}]}],'generationConfig':{'responseMimeType':_0x357323(0x1de),'responseSchema':_0x1f321b}};return handleApiCall(_0x6782e0[_0x357323(0x230)][0x0]['parts'],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x1f321b);}async function handleApiCall(_0xf312a9,_0x5699ed,_0x3ff62b,_0x4872a6=null){const _0x4e9bd8=_0x2944ec,_0x451189=document[_0x4e9bd8(0x299)]('quiz-generation-area'),_0x2cea99=document[_0x4e9bd8(0x299)](_0x4e9bd8(0x55f)),_0x494283=document[_0x4e9bd8(0x299)](_0x4e9bd8(0x3f9)),_0x499dcb=document[_0x4e9bd8(0x299)]('generated-quiz-container');_0x451189[_0x4e9bd8(0x46e)][_0x4e9bd8(0x75d)](_0x4e9bd8(0x52f));_0x4872a6===null&&(_0x499dcb[_0x4e9bd8(0x4a4)]='');_0x2cea99[_0x4e9bd8(0x46e)][_0x4e9bd8(0x75d)](_0x4e9bd8(0x52f)),_0x494283[_0x4e9bd8(0x391)]=_0x5699ed,document[_0x4e9bd8(0x299)](_0x4e9bd8(0x8de))['disabled']=!![],document[_0x4e9bd8(0x299)]('generate-from-text-btn')['disabled']=!![],document[_0x4e9bd8(0x299)](_0x4e9bd8(0x8af))[_0x4e9bd8(0x278)]=!![];try{const _0x3006a9={'responseMimeType':_0x4e9bd8(0x1de),'responseSchema':_0x3ff62b},_0x3ab602=Array[_0x4e9bd8(0x3f3)](_0xf312a9)?_0xf312a9:[{'text':_0xf312a9}],_0x2281fb={'contents':[{'role':_0x4e9bd8(0x75a),'parts':_0x3ab602}],'generationConfig':_0x3006a9},_0x1165c7=_0x4e9bd8(0x68a),_0x5326f9=_0x4e9bd8(0x56c)+_0x1165c7,_0x3eb6c6=await fetch(_0x5326f9,{'method':_0x4e9bd8(0x864),'headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x2281fb)});if(!_0x3eb6c6['ok'])throw new Error(_0x4e9bd8(0x712)+_0x3eb6c6['status']);const _0x283e0a=await _0x3eb6c6[_0x4e9bd8(0x625)]();if(_0x283e0a[_0x4e9bd8(0x806)]?.[0x0]?.['content']?.[_0x4e9bd8(0x3bb)]?.[0x0]){let _0x35de02=_0x283e0a[_0x4e9bd8(0x806)][0x0][_0x4e9bd8(0x558)]['parts'][0x0][_0x4e9bd8(0x62f)],_0x37a1a7;try{if(_0x35de02[_0x4e9bd8(0x502)](_0x4e9bd8(0x6b0)))_0x35de02=_0x35de02[_0x4e9bd8(0x5e0)](0x7,_0x35de02[_0x4e9bd8(0x33e)]-0x3)[_0x4e9bd8(0x980)]();else _0x35de02[_0x4e9bd8(0x502)](_0x4e9bd8(0x927))&&(_0x35de02=_0x35de02['substring'](0x3,_0x35de02[_0x4e9bd8(0x33e)]-0x3)['trim']());_0x37a1a7=JSON['parse'](_0x35de02);}catch(_0xbafd9a){console['error']('Failed\x20to\x20parse\x20JSON\x20from\x20AI',_0xbafd9a,_0x35de02);throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}if(_0x4872a6!==null){if(_0x37a1a7[_0x4e9bd8(0x539)]===_0x4e9bd8(0x390)){const _0x3ef675=currentQuizData[_0x4e9bd8(0x256)][_0x4e9bd8(0x678)](_0x5b30c9=>_0x5b30c9[_0x4e9bd8(0x826)]);_0x37a1a7[_0x4e9bd8(0x662)]=_0x3ef675;const _0x1dc8bb=currentQuizData[_0x4e9bd8(0x256)][_0x4872a6][_0x4e9bd8(0x826)],_0x510985=_0x3ef675[_0x4e9bd8(0x460)](_0x1dc8bb);_0x510985>-0x1&&(_0x3ef675[_0x510985]=_0x37a1a7[_0x4e9bd8(0x826)]),currentQuizData[_0x4e9bd8(0x256)]['forEach'](_0x43cd1e=>{const _0x1b0dbf=_0x4e9bd8;if(_0x43cd1e[_0x1b0dbf(0x539)]===_0x1b0dbf(0x390))_0x43cd1e['allResponses']=_0x3ef675;});}currentQuizData[_0x4e9bd8(0x256)][_0x4872a6]=_0x37a1a7,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x37a1a7;const _0x1952ac=document[_0x4e9bd8(0x299)](_0x4e9bd8(0x260))['value'];currentQuizData[_0x4e9bd8(0x4f1)]=_0x1952ac,currentQuizData['questions']&&currentQuizData[_0x4e9bd8(0x256)]['forEach'](_0x31c72e=>{const _0xa7574a=_0x4e9bd8;if(!_0x31c72e[_0xa7574a(0x539)]){if(_0x1952ac===_0xa7574a(0x990))_0x31c72e[_0xa7574a(0x539)]=_0xa7574a(0x503);else _0x1952ac===_0xa7574a(0x8a9)?_0x31c72e[_0xa7574a(0x539)]='short_answer':_0x31c72e[_0xa7574a(0x539)]=_0x1952ac;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x4e9bd8(0x5c2)]('Invalid\x20response\x20structure\x20from\x20AI:',JSON['stringify'](_0x283e0a));throw new Error(_0x4e9bd8(0x5bd));}}catch(_0xd0a99e){console[_0x4e9bd8(0x5c2)](_0x4e9bd8(0x4c9),_0xd0a99e),showMessage(_0x4e9bd8(0x611)),_0x4872a6===null&&(_0x499dcb['innerHTML']=_0x4e9bd8(0x93d));}finally{_0x2cea99['classList'][_0x4e9bd8(0x5af)](_0x4e9bd8(0x52f)),document[_0x4e9bd8(0x299)](_0x4e9bd8(0x8de))[_0x4e9bd8(0x278)]=![],document[_0x4e9bd8(0x299)](_0x4e9bd8(0x8cb))['disabled']=![],document['getElementById'](_0x4e9bd8(0x8af))[_0x4e9bd8(0x278)]=![];const _0x2d95c3=document[_0x4e9bd8(0x299)](_0x4e9bd8(0x5ff));_0x2d95c3&&(_0x2d95c3[_0x4e9bd8(0x278)]=![]);}}function exitFullscreen(){const _0xf6ab24=_0x2944ec;if(document[_0xf6ab24(0x60f)])document[_0xf6ab24(0x60f)]()[_0xf6ab24(0x717)](_0x248a80=>console[_0xf6ab24(0x5c2)](_0x248a80));else{if(document[_0xf6ab24(0xa40)])document[_0xf6ab24(0xa40)]();else document[_0xf6ab24(0x2ba)]&&document[_0xf6ab24(0x2ba)]();}}function enterFullscreen(){const _0x3dae03=_0x2944ec,_0x20dbf7=document[_0x3dae03(0x461)];if(_0x20dbf7[_0x3dae03(0x48f)])_0x20dbf7[_0x3dae03(0x48f)]()['catch'](_0x431156=>{const _0x4f6109=_0x3dae03;console['error'](_0x4f6109(0x9fd)+_0x431156[_0x4f6109(0x20f)]+'\x20('+_0x431156[_0x4f6109(0x799)]+')');});else{if(_0x20dbf7[_0x3dae03(0x406)])_0x20dbf7['webkitRequestFullscreen']();else _0x20dbf7['msRequestFullscreen']&&_0x20dbf7[_0x3dae03(0x9b5)]();}}function handleCheatingEvent(){const _0x9a2a84=_0x2944ec;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x9a2a84(0xa30),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x9a2a84(0x32d)+maxCheatAttempts+_0x9a2a84(0x9f5)),document[_0x9a2a84(0x299)](_0x9a2a84(0x33b))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x9a2a84(0x954)](_0x9a2a84(0x4cc),handleVisibilityChange),document['removeEventListener'](_0x9a2a84(0x675),handleFullscreenChange)):showMessage(_0x9a2a84(0x56d)+cheatAttempts+'/'+maxCheatAttempts+_0x9a2a84(0x6b8),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x25c84f=_0x2944ec;if(currentMode==='admin-testing'||!isQuizActive)return;if(document[_0x25c84f(0x82a)]===_0x25c84f(0x52f))handleCheatingEvent();else document[_0x25c84f(0x82a)]===_0x25c84f(0x9e1)&&(console['log']('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x464771=_0x2944ec;if(currentMode==='admin-testing'||!isQuizActive)return;!document[_0x464771(0x290)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x45afe6){const _0x4303f5=_0x2944ec,_0x128d2a=document[_0x4303f5(0x299)](_0x4303f5(0x92f));let _0x5aa4bc=_0x4303f5(0x3c6)+_0x45afe6[_0x4303f5(0x67d)]+_0x4303f5(0x8d0);_0x45afe6['questions'][_0x4303f5(0x9ef)]((_0x7943ce,_0x50c5d9)=>{const _0x41e54c=_0x4303f5;!_0x7943ce['id']&&(_0x7943ce['id']='q_'+Date['now']()+'_'+_0x50c5d9);const _0x4aa529=_0x7943ce[_0x41e54c(0x539)]||_0x45afe6['quizType'];_0x5aa4bc+=_0x41e54c(0x655)+_0x50c5d9+_0x41e54c(0x2ad)+_0x50c5d9+_0x41e54c(0x96e)+_0x50c5d9+_0x41e54c(0x929)+_0x50c5d9+_0x41e54c(0x4e0);switch(_0x4aa529){case _0x41e54c(0x390):_0x5aa4bc+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x50c5d9+'\x22>'+(_0x50c5d9+0x1)+'.\x20'+_0x7943ce[_0x41e54c(0xa65)]+_0x41e54c(0x5e2);_0x7943ce[_0x41e54c(0x44c)]&&(_0x5aa4bc+=_0x41e54c(0x8e2)+_0x50c5d9+_0x41e54c(0x7be)+_0x7943ce['imageCode']+_0x41e54c(0x98d));_0x5aa4bc+=_0x41e54c(0x6ce)+_0x50c5d9+'\x22>'+_0x7943ce['correctResponse']+_0x41e54c(0x7e7),_0x5aa4bc+=_0x41e54c(0x761)+_0x50c5d9+'\x22>'+_0x7943ce[_0x41e54c(0x3c8)]+_0x41e54c(0x7e7);break;case _0x41e54c(0x7df):_0x5aa4bc+=_0x41e54c(0x843)+_0x50c5d9+'\x22>'+(_0x50c5d9+0x1)+'.\x20'+_0x7943ce[_0x41e54c(0x561)]+_0x41e54c(0x5e2);_0x7943ce[_0x41e54c(0x44c)]&&(_0x5aa4bc+=_0x41e54c(0x8e2)+_0x50c5d9+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x7943ce[_0x41e54c(0x44c)]+_0x41e54c(0x98d));_0x5aa4bc+=_0x41e54c(0x559)+_0x50c5d9+'\x22>'+_0x7943ce['idealAnswer']+'</span></div>',_0x5aa4bc+=_0x41e54c(0x761)+_0x50c5d9+'\x22>'+_0x7943ce['explanation']+_0x41e54c(0x7e7);break;case _0x41e54c(0x71b):_0x5aa4bc+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x50c5d9+'\x22>'+(_0x50c5d9+0x1)+'.\x20'+_0x7943ce[_0x41e54c(0x561)]+_0x41e54c(0x5e2);_0x7943ce[_0x41e54c(0x44c)]&&(_0x5aa4bc+='<div\x20id=\x22q-image-container-'+_0x50c5d9+_0x41e54c(0x7be)+_0x7943ce['imageCode']+'</div>');_0x5aa4bc+=_0x41e54c(0x87e)+(_0x7943ce['correctAnswer']===!![]?'text-green-600\x20font-bold':'')+_0x41e54c(0x335)+(_0x7943ce[_0x41e54c(0x83d)]===![]?_0x41e54c(0x800):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x5aa4bc+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x50c5d9+'\x22>'+_0x7943ce[_0x41e54c(0x3c8)]+_0x41e54c(0x7e7);break;case _0x41e54c(0x291):case _0x41e54c(0x503):default:_0x5aa4bc+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x50c5d9+'\x22>'+(_0x50c5d9+0x1)+'.\x20'+_0x7943ce[_0x41e54c(0x561)]+'</p>';_0x7943ce[_0x41e54c(0x44c)]&&(_0x5aa4bc+=_0x41e54c(0x8e2)+_0x50c5d9+_0x41e54c(0x7be)+_0x7943ce[_0x41e54c(0x44c)]+_0x41e54c(0x98d));_0x5aa4bc+=_0x41e54c(0x203)+_0x50c5d9+_0x41e54c(0x599)+_0x7943ce['options']['map']((_0xfe72e7,_0x4d3cdf)=>_0x41e54c(0x72f)+(_0x4d3cdf===_0x7943ce[_0x41e54c(0x36a)]?_0x41e54c(0x800):'')+'\x22>'+_0xfe72e7+_0x41e54c(0x9a5))[_0x41e54c(0x2b1)]('')+_0x41e54c(0x54f),_0x5aa4bc+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x50c5d9+'\x22>'+_0x7943ce[_0x41e54c(0x3c8)]+_0x41e54c(0x7e7);break;}_0x5aa4bc+=_0x41e54c(0x98d);}),_0x5aa4bc+=_0x4303f5(0x87d),_0x128d2a[_0x4303f5(0x4a4)]=_0x5aa4bc,document[_0x4303f5(0x921)](_0x4303f5(0x4f4))[_0x4303f5(0x9ef)](_0x2f6ea4=>_0x2f6ea4[_0x4303f5(0x757)]('click',handleEditQuestion)),document[_0x4303f5(0x921)](_0x4303f5(0x862))[_0x4303f5(0x9ef)](_0x138c78=>_0x138c78[_0x4303f5(0x757)]('click',handleRegenerateQuestion)),document['querySelectorAll']('.save-to-bank-btn')['forEach'](_0x17f110=>_0x17f110[_0x4303f5(0x757)](_0x4303f5(0x9dc),handleSaveToBank)),document[_0x4303f5(0x299)](_0x4303f5(0x5ae))[_0x4303f5(0x757)](_0x4303f5(0x9dc),exportQuizAsWorksheetPDF),document['getElementById'](_0x4303f5(0x3be))['addEventListener'](_0x4303f5(0x9dc),saveQuiz),document[_0x4303f5(0x299)](_0x4303f5(0x7cb))[_0x4303f5(0x757)](_0x4303f5(0x9dc),handleVerifyAnswers);if(window['MathJax'])window[_0x4303f5(0x432)][_0x4303f5(0x690)]([_0x128d2a]);}function handleRegenerateQuestion(_0x4f25b3){const _0x37dd22=_0x2944ec,_0x4987f1=_0x4f25b3[_0x37dd22(0x730)][_0x37dd22(0x574)]['index'],_0x38efce=currentQuizData['topic'];showMessage(_0x37dd22(0x239)+(parseInt(_0x4987f1)+0x1)+'\x20ใหม่...'),generateQuiz(_0x38efce,null,parseInt(_0x4987f1));}function getPointerPosition(_0x30b34a,_0x501a77){const _0x517312=_0x2944ec,_0x3e80c6=_0x30b34a[_0x517312(0x93f)]();let _0x5c2c31,_0x2f1e70;return _0x501a77[_0x517312(0x46a)]&&_0x501a77[_0x517312(0x46a)][_0x517312(0x33e)]>0x0?(_0x5c2c31=_0x501a77[_0x517312(0x46a)][0x0][_0x517312(0x4d3)],_0x2f1e70=_0x501a77['touches'][0x0][_0x517312(0x976)]):(_0x5c2c31=_0x501a77[_0x517312(0x4d3)],_0x2f1e70=_0x501a77[_0x517312(0x976)]),{'x':(_0x5c2c31-_0x3e80c6['e'])/_0x3e80c6['a'],'y':(_0x2f1e70-_0x3e80c6['f'])/_0x3e80c6['d']};}function startDrag(_0x32c1d8){const _0x548805=_0x2944ec;_0x32c1d8[_0x548805(0x7e5)]==='touchstart'&&_0x32c1d8[_0x548805(0x2e1)]();const _0x26fec6=_0x32c1d8[_0x548805(0x589)][_0x548805(0x6bd)](_0x548805(0x9af));if(_0x26fec6){draggedSvgElement=_0x26fec6;const _0x15e15b=draggedSvgElement['ownerSVGElement'],_0xacb775=getPointerPosition(_0x15e15b,_0x32c1d8);svgOffset['x']=_0xacb775['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0xacb775['y']-parseFloat(draggedSvgElement[_0x548805(0x695)](null,'y'));}}function calculateItemAnalysis(_0x3802d8,_0x2ccf62){const _0x33b059=_0x2944ec,_0x149af5={};if(_0x2ccf62[_0x33b059(0x33e)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x402c02=[..._0x2ccf62]['sort']((_0x4caf65,_0x338905)=>{const _0x353e7b=_0x33b059,_0x14ba4e=_0x338905[_0x353e7b(0x26b)]-_0x4caf65['latestScore'];if(_0x14ba4e!==0x0)return _0x14ba4e;const _0x5a7cd0=_0x4caf65['attempts']?.['length']||0x1,_0x1e0278=_0x338905['attempts']?.['length']||0x1,_0x1b1cdf=_0x5a7cd0-_0x1e0278;if(_0x1b1cdf!==0x0)return _0x1b1cdf;const _0x3349a6=new Date(_0x4caf65[_0x353e7b(0x63e)]),_0x537653=new Date(_0x338905[_0x353e7b(0x63e)]),_0x568122=_0x3349a6-_0x537653;if(_0x568122!==0x0)return _0x568122;return _0x4caf65[_0x353e7b(0x357)][_0x353e7b(0x5d9)](_0x338905[_0x353e7b(0x357)],'th');}),_0x5e3bd9=_0x402c02[_0x33b059(0x33e)],_0x5bf024=Math[_0x33b059(0x482)](0x1,Math[_0x33b059(0x66b)](_0x5e3bd9*0.33));if(_0x5bf024===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x55105c=_0x402c02['slice'](0x0,_0x5bf024),_0x6de82f=_0x402c02[_0x33b059(0x5a4)](-_0x5bf024),_0x461c7e=_0x55105c[_0x33b059(0x678)](_0x1ccbe6=>_0x1ccbe6[_0x33b059(0x357)]),_0x55ff52=_0x6de82f[_0x33b059(0x678)](_0x265fe2=>_0x265fe2[_0x33b059(0x357)]);return _0x3802d8[_0x33b059(0x256)]['forEach']((_0xa8c0d7,_0x1e3e6e)=>{const _0x28a59f=_0x33b059,_0x2a0532=_0xa8c0d7['stem']||_0xa8c0d7[_0x28a59f(0x561)];let _0x2152e9=0x0,_0x2a0230=0x0,_0xc4b7e0=0x0;const _0x56f907=[],_0x413082=[];_0x55105c[_0x28a59f(0x9ef)](_0x1a70a9=>{const _0x2a938=_0x28a59f,_0x214308=_0x1a70a9[_0x2a938(0x79d)][_0x1a70a9[_0x2a938(0x79d)][_0x2a938(0x33e)]-0x1],_0xbcc026=_0x214308[_0x2a938(0x38b)][_0x2a938(0x238)](_0x4d4f69=>_0x4d4f69[_0x2a938(0x400)]===_0x2a0532);_0x56f907[_0x2a938(0x53c)]({'name':_0x1a70a9['studentName'],'isCorrect':_0xbcc026?_0xbcc026['isCorrect']:![]}),_0xbcc026&&_0xbcc026[_0x2a938(0x29f)]&&_0x2a0230++;}),_0x6de82f[_0x28a59f(0x9ef)](_0x1956ca=>{const _0x216f00=_0x28a59f,_0x799e8c=_0x1956ca[_0x216f00(0x79d)][_0x1956ca['attempts']['length']-0x1],_0x18b66c=_0x799e8c[_0x216f00(0x38b)]['find'](_0x32181e=>_0x32181e[_0x216f00(0x400)]===_0x2a0532);_0x413082[_0x216f00(0x53c)]({'name':_0x1956ca[_0x216f00(0x357)],'isCorrect':_0x18b66c?_0x18b66c['isCorrect']:![]}),_0x18b66c&&_0x18b66c['isCorrect']&&_0xc4b7e0++;}),_0x2ccf62[_0x28a59f(0x9ef)](_0x195b03=>{const _0x37ef12=_0x28a59f,_0x1b9a66=_0x195b03[_0x37ef12(0x79d)][_0x195b03[_0x37ef12(0x79d)]['length']-0x1],_0x139c2d=_0x1b9a66[_0x37ef12(0x38b)]['find'](_0xb26b2=>_0xb26b2[_0x37ef12(0x400)]===_0x2a0532);_0x139c2d&&_0x139c2d['isCorrect']&&_0x2152e9++;});const _0x46a1a3=_0x5e3bd9>0x0?_0x2152e9/_0x5e3bd9:0x0,_0x425d2e=_0x5bf024>0x0?_0x2a0230/_0x5bf024-_0xc4b7e0/_0x5bf024:0x0;_0x149af5[_0x1e3e6e]={'p':_0x46a1a3,'r':_0x425d2e,'upperGroupResponders':_0x56f907,'lowerGroupResponders':_0x413082};}),{'perQuestionStats':_0x149af5,'overallGroups':{'upperGroupNames':_0x461c7e,'lowerGroupNames':_0x55ff52}};}function _0x1114(_0x33ceb3,_0x39a677){const _0x229357=_0x2293();return _0x1114=function(_0x111485,_0x4908a2){_0x111485=_0x111485-0x1d6;let _0x5ea334=_0x229357[_0x111485];return _0x5ea334;},_0x1114(_0x33ceb3,_0x39a677);}function drag(_0x243db3){const _0x4262e7=_0x2944ec;if(draggedSvgElement){_0x243db3['preventDefault']();const _0x5b49bf=draggedSvgElement['ownerSVGElement'],_0x4bc0d5=getPointerPosition(_0x5b49bf,_0x243db3),_0x2264e4=_0x5b49bf[_0x4262e7(0x23f)][_0x4262e7(0xa26)];let _0x38f0b6=_0x4bc0d5['x']-svgOffset['x'],_0x1d8001=_0x4bc0d5['y']-svgOffset['y'];const _0x5ca40e=draggedSvgElement['getBBox']();_0x38f0b6=Math[_0x4262e7(0x482)](_0x2264e4['x'],Math['min'](_0x38f0b6,_0x2264e4['x']+_0x2264e4[_0x4262e7(0xa4c)]-_0x5ca40e['width'])),_0x1d8001=Math[_0x4262e7(0x482)](_0x2264e4['y'],Math['min'](_0x1d8001,_0x2264e4['y']+_0x2264e4[_0x4262e7(0x729)]-_0x5ca40e['height'])),draggedSvgElement[_0x4262e7(0x9ea)](null,'x',_0x38f0b6),draggedSvgElement[_0x4262e7(0x9ea)](null,'y',_0x1d8001);}}function endDrag(_0x3d8372){draggedSvgElement=null;}function handleSvgEditClick(_0x4d5197){const _0x46d2b2=_0x2944ec;if(_0x4d5197[_0x46d2b2(0x589)][_0x46d2b2(0x46e)][_0x46d2b2(0x3cc)]('delete-svg-btn')){const _0x48f8c3=_0x4d5197[_0x46d2b2(0x589)][_0x46d2b2(0x574)][_0x46d2b2(0x3c0)],_0x2caafb=_0x4d5197[_0x46d2b2(0x730)],_0x47627e=_0x2caafb['querySelector']('#'+_0x48f8c3);_0x47627e&&_0x47627e[_0x46d2b2(0x75d)](),_0x4d5197[_0x46d2b2(0x589)]['remove']();}}function handleEditQuestion(_0x4eaf4d){const _0x432563=_0x2944ec,_0x22b89c=_0x4eaf4d[_0x432563(0x730)],_0x52837f=_0x22b89c[_0x432563(0x574)][_0x432563(0x310)],_0x3e77d0=currentQuizData['questions'][_0x52837f],_0x22fde3=document['getElementById'](_0x432563(0x49f)+_0x52837f),_0x1ba54e=document[_0x432563(0x299)](_0x432563(0x841)+_0x52837f),_0x39d614=document['getElementById'](_0x432563(0x953)+_0x52837f);if(_0x22b89c[_0x432563(0x4a4)]['includes'](_0x432563(0x463))){_0x22b89c[_0x432563(0x4a4)]=_0x432563(0x304),_0x22b89c['title']=_0x432563(0x6c1);if(_0x22fde3)_0x22fde3[_0x432563(0x865)]=!![];if(_0x1ba54e)_0x1ba54e[_0x432563(0x865)]=!![];if(_0x39d614){const _0x58323e=_0x39d614[_0x432563(0x775)](_0x432563(0x40e));if(_0x58323e){const _0x411191=_0x58323e[_0x432563(0x921)](_0x432563(0x62f));_0x411191[_0x432563(0x9ef)]((_0xbe7eab,_0x4434be)=>{const _0x4c09b1=_0x432563,_0x225783=_0x4c09b1(0x533)+_0x52837f+'-'+_0x4434be;_0xbe7eab['id']=_0x225783,_0xbe7eab['classList'][_0x4c09b1(0x5af)](_0x4c09b1(0x71d)),_0xbe7eab['style'][_0x4c09b1(0x28d)]='move';const _0x4554b1=document[_0x4c09b1(0x41f)](_0x4c09b1(0x581),_0x4c09b1(0x8f2)),_0x4dba4e=_0xbe7eab[_0x4c09b1(0x330)]();_0x4554b1[_0x4c09b1(0x5a6)]('cx',String(_0x4dba4e['x']+_0x4dba4e['width']+0x5)),_0x4554b1[_0x4c09b1(0x5a6)]('cy',String(_0x4dba4e['y']+_0x4dba4e['height']/0x2-0x5)),_0x4554b1[_0x4c09b1(0x5a6)]('r','5'),_0x4554b1[_0x4c09b1(0x5a6)](_0x4c09b1(0x4d2),_0x4c09b1(0x206)),_0x4554b1[_0x4c09b1(0x5a6)](_0x4c09b1(0x483),_0x4c09b1(0x6eb)),_0x4554b1[_0x4c09b1(0x574)][_0x4c09b1(0x3c0)]=_0x225783,_0xbe7eab[_0x4c09b1(0x70b)](_0x4554b1);}),_0x58323e['addEventListener']('mousedown',startDrag),_0x58323e['addEventListener']('mousemove',drag),_0x58323e[_0x432563(0x757)](_0x432563(0x3dd),endDrag),_0x58323e[_0x432563(0x757)](_0x432563(0x9c2),endDrag),_0x58323e[_0x432563(0x757)](_0x432563(0x702),startDrag,{'passive':![]}),_0x58323e[_0x432563(0x757)](_0x432563(0x488),drag,{'passive':![]}),_0x58323e[_0x432563(0x757)]('touchend',endDrag),_0x58323e[_0x432563(0x757)](_0x432563(0x892),endDrag),_0x58323e[_0x432563(0x757)]('click',handleSvgEditClick);}}if(_0x22fde3)_0x22fde3[_0x432563(0x7c7)]();}else{_0x22b89c[_0x432563(0x4a4)]=_0x432563(0x84b),_0x22b89c['title']=_0x432563(0x4d0);if(_0x22fde3){_0x22fde3['contentEditable']=![];const _0x5f2e4e=_0x3e77d0[_0x432563(0x539)]||currentQuizData[_0x432563(0x4f1)];_0x5f2e4e===_0x432563(0x390)?_0x3e77d0[_0x432563(0xa65)]=_0x22fde3[_0x432563(0x89c)][_0x432563(0x5e0)](_0x22fde3[_0x432563(0x89c)][_0x432563(0x460)]('.')+0x2)[_0x432563(0x980)]():_0x3e77d0[_0x432563(0x561)]=_0x22fde3[_0x432563(0x89c)]['substring'](_0x22fde3[_0x432563(0x89c)][_0x432563(0x460)]('.')+0x2)['trim']();}_0x1ba54e&&(_0x1ba54e[_0x432563(0x865)]=![],_0x3e77d0[_0x432563(0x3c8)]=_0x1ba54e['innerText']);if(_0x39d614){const _0x26adfb=_0x39d614[_0x432563(0x775)](_0x432563(0x40e));if(_0x26adfb){const _0x10f463=_0x26adfb[_0x432563(0x935)](!![]);_0x10f463[_0x432563(0x921)](_0x432563(0x87c))['forEach'](_0x1efcfc=>_0x1efcfc[_0x432563(0x75d)]()),_0x10f463[_0x432563(0x921)](_0x432563(0x9af))['forEach'](_0x5447a5=>{const _0x3ab4af=_0x432563;_0x5447a5[_0x3ab4af(0x46e)]['remove']('draggable-text'),_0x5447a5[_0x3ab4af(0x5c1)][_0x3ab4af(0x28d)]=_0x3ab4af(0x95c),_0x5447a5[_0x3ab4af(0x4f3)]('id');}),_0x3e77d0[_0x432563(0x44c)]=_0x10f463[_0x432563(0xa41)],_0x26adfb[_0x432563(0x954)](_0x432563(0x537),startDrag),_0x26adfb['removeEventListener'](_0x432563(0x35e),drag),_0x26adfb['removeEventListener'](_0x432563(0x3dd),endDrag),_0x26adfb[_0x432563(0x954)](_0x432563(0x9c2),endDrag),_0x26adfb['removeEventListener'](_0x432563(0x702),startDrag),_0x26adfb[_0x432563(0x954)](_0x432563(0x488),drag),_0x26adfb[_0x432563(0x954)]('touchend',endDrag),_0x26adfb[_0x432563(0x954)](_0x432563(0x892),endDrag),_0x26adfb[_0x432563(0x954)](_0x432563(0x9dc),handleSvgEditClick),_0x26adfb[_0x432563(0x921)](_0x432563(0x87c))[_0x432563(0x9ef)](_0xba26ef=>_0xba26ef[_0x432563(0x75d)]()),_0x26adfb[_0x432563(0x921)](_0x432563(0x9af))[_0x432563(0x9ef)](_0x3aa09b=>{const _0x335f02=_0x432563;_0x3aa09b[_0x335f02(0x46e)]['remove']('draggable-text'),_0x3aa09b[_0x335f02(0x5c1)][_0x335f02(0x28d)]=_0x335f02(0x95c);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x5d1c98){const _0x5c8ae7=_0x2944ec,_0x3ee4b4=document[_0x5c8ae7(0x299)](_0x5c8ae7(0xa6f)),_0x960ebb=document[_0x5c8ae7(0x299)](_0x5c8ae7(0x7ec));_0x960ebb[_0x5c8ae7(0x4a4)]=_0x5c8ae7(0x2f9),_0x3ee4b4[_0x5c8ae7(0x46e)][_0x5c8ae7(0x75d)](_0x5c8ae7(0x52f));try{const _0x33c7e5=doc(db,_0x5c8ae7(0x618)+appId+_0x5c8ae7(0x64b),_0x5d1c98),_0x23adbe=await getDoc(_0x33c7e5);if(!_0x23adbe['exists']())throw new Error(_0x5c8ae7(0x918));currentEditingQuizData={'id':_0x5d1c98,..._0x23adbe[_0x5c8ae7(0x719)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x594029){console[_0x5c8ae7(0x5c2)](_0x5c8ae7(0x353),_0x594029),showMessage(_0x5c8ae7(0x832)),_0x3ee4b4['classList'][_0x5c8ae7(0x5af)](_0x5c8ae7(0x52f));}}function renderQuizEditor(_0x10ebe9){const _0x185d7c=_0x2944ec;document['getElementById'](_0x185d7c(0x3a6))[_0x185d7c(0x305)]=_0x10ebe9['topic'];const _0x497a42=document[_0x185d7c(0x299)]('quiz-editor-questions-container');let _0x286257=_0x10ebe9[_0x185d7c(0x256)][_0x185d7c(0x678)]((_0x338c90,_0x4db7cb)=>{const _0x2bbf4d=_0x185d7c;let _0x4f0ad5='';const _0x404306=_0x338c90['questionType']||_0x10ebe9[_0x2bbf4d(0x4f1)];switch(_0x404306){case'multiple_choice':const _0x437345=(_0x338c90[_0x2bbf4d(0x29d)]||[])[_0x2bbf4d(0x678)]((_0x21e594,_0x19280f)=>_0x2bbf4d(0x8b6)+_0x4db7cb+'\x22\x20value=\x22'+_0x19280f+'\x22\x20'+(_0x19280f===_0x338c90[_0x2bbf4d(0x36a)]?_0x2bbf4d(0x911):'')+_0x2bbf4d(0xa59)+_0x21e594+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');_0x4f0ad5=_0x2bbf4d(0x947)+_0x437345+_0x2bbf4d(0x27f);break;case'short_answer':_0x4f0ad5=_0x2bbf4d(0x440)+(_0x338c90['idealAnswer']||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x2bbf4d(0x71b):_0x4f0ad5=_0x2bbf4d(0x626)+_0x4db7cb+_0x2bbf4d(0x275)+(_0x338c90[_0x2bbf4d(0x83d)]===!![]?'checked':'')+_0x2bbf4d(0x584)+_0x4db7cb+_0x2bbf4d(0x1e7)+(_0x338c90[_0x2bbf4d(0x83d)]===![]?_0x2bbf4d(0x911):'')+_0x2bbf4d(0x8be);break;case _0x2bbf4d(0x390):_0x4f0ad5=_0x2bbf4d(0x373)+(_0x338c90[_0x2bbf4d(0x826)]||'')+_0x2bbf4d(0x2fc);break;}const _0x370db2=_0x338c90[_0x2bbf4d(0x561)]||_0x338c90[_0x2bbf4d(0xa65)]||'';return _0x2bbf4d(0x606)+_0x4db7cb+_0x2bbf4d(0x5cd)+_0x404306+_0x2bbf4d(0x205)+(_0x4db7cb+0x1)+'\x20('+_0x404306+_0x2bbf4d(0x824)+_0x370db2+'</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x4f0ad5+_0x2bbf4d(0x5a7);})[_0x185d7c(0x2b1)]('');_0x497a42[_0x185d7c(0x4a4)]=_0x286257,_0x497a42[_0x185d7c(0x921)](_0x185d7c(0x633))[_0x185d7c(0x9ef)](_0x4530bd=>{const _0x5ad743=_0x185d7c;_0x4530bd['addEventListener'](_0x5ad743(0x9dc),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x3651f7){const _0x49a395=_0x2944ec,_0x365ed2=_0x3651f7[_0x49a395(0x730)],_0x4b56b4=_0x365ed2[_0x49a395(0x6bd)]('.question-editor-item');if(!_0x4b56b4)return;const _0x4ce08a=parseInt(_0x4b56b4['dataset'][_0x49a395(0x46c)],0xa);if(isNaN(_0x4ce08a)||!currentEditingQuizData['questions'][_0x4ce08a]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x26603d=currentEditingQuizData['questions'][_0x4ce08a];_0x365ed2[_0x49a395(0x4a4)]=_0x49a395(0x24f),_0x365ed2[_0x49a395(0x278)]=!![];const _0x2e7e4e=_0x49a395(0x2e4)+JSON[_0x49a395(0x23a)](_0x26603d)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20';let _0x23bd77;const _0x796e07=_0x26603d[_0x49a395(0x539)]||currentEditingQuizData[_0x49a395(0x4f1)];switch(_0x796e07){case _0x49a395(0x7df):_0x23bd77={'type':_0x49a395(0x81a),'properties':{'questionText':{'type':_0x49a395(0x224)},'idealAnswer':{'type':_0x49a395(0x224)},'explanation':{'type':_0x49a395(0x224)},'imageCode':{'type':_0x49a395(0x224)}},'required':[_0x49a395(0x561),_0x49a395(0x317),_0x49a395(0x3c8)]};break;case'multiple_choice':default:_0x23bd77={'type':_0x49a395(0x81a),'properties':{'questionText':{'type':_0x49a395(0x224)},'options':{'type':_0x49a395(0x4ce),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x49a395(0x86e)},'explanation':{'type':_0x49a395(0x224)},'imageCode':{'type':'STRING'}},'required':[_0x49a395(0x561),_0x49a395(0x29d),'correctAnswerIndex',_0x49a395(0x3c8)]};break;}try{let _0x138581=await callAnalysisApi(_0x2e7e4e,_0x23bd77);_0x138581['options']&&Array['isArray'](_0x138581['options'])&&(_0x138581[_0x49a395(0x29d)]=_0x138581[_0x49a395(0x29d)]['map'](_0x37f6a6=>typeof _0x37f6a6===_0x49a395(0x7aa)?_0x37f6a6['replace'](/S(\s*[\d_]+?\s*)S/g,_0x49a395(0x745)):_0x37f6a6)),_0x26603d[_0x49a395(0x44c)]&&_0x26603d[_0x49a395(0x44c)]['includes'](_0x49a395(0x8e5))&&(_0x138581[_0x49a395(0x44c)]=''),currentEditingQuizData[_0x49a395(0x256)][_0x4ce08a]={..._0x26603d,..._0x138581},renderQuizEditor(currentEditingQuizData),showMessage(_0x49a395(0x213));}catch(_0x3ecad7){console[_0x49a395(0x5c2)](_0x49a395(0x1e2),_0x3ecad7),showMessage(_0x49a395(0x984)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x1d67ce=_0x2944ec,_0x8b6076=document[_0x1d67ce(0x299)](_0x1d67ce(0x534));_0x8b6076[_0x1d67ce(0x278)]=!![],_0x8b6076[_0x1d67ce(0x4a4)]=_0x1d67ce(0x5e1);try{const _0x2f64b8=document[_0x1d67ce(0x299)](_0x1d67ce(0x3a6))['value'],_0x65af67=document[_0x1d67ce(0x921)](_0x1d67ce(0x25f));let _0x529936=[];const _0x30483d=Array[_0x1d67ce(0x4cd)](_0x65af67)[_0x1d67ce(0x678)]((_0xa9783,_0x50f44d)=>{const _0x3e7a80=_0x1d67ce,_0x47fc1d=_0xa9783['dataset'][_0x3e7a80(0x82e)],_0x387e84=_0xa9783[_0x3e7a80(0x775)](_0x3e7a80(0x560))['value'];let _0x154e91={'questionType':_0x47fc1d};const _0x113e5f=currentEditingQuizData[_0x3e7a80(0x256)][_0x50f44d];switch(_0x47fc1d){case _0x3e7a80(0x503):_0x154e91['questionText']=_0x387e84;const _0x341d4f=_0xa9783[_0x3e7a80(0x921)](_0x3e7a80(0x950));_0x154e91[_0x3e7a80(0x29d)]=Array['from'](_0x341d4f)[_0x3e7a80(0x678)](_0x21d810=>_0x21d810[_0x3e7a80(0x305)]);const _0x2aba2e=_0xa9783[_0x3e7a80(0x775)](_0x3e7a80(0x50c));_0x154e91[_0x3e7a80(0x36a)]=_0x2aba2e?parseInt(_0x2aba2e[_0x3e7a80(0x305)]):0x0;break;case _0x3e7a80(0x7df):_0x154e91[_0x3e7a80(0x561)]=_0x387e84,_0x154e91[_0x3e7a80(0x317)]=_0xa9783[_0x3e7a80(0x775)](_0x3e7a80(0x23e))['value'];break;case _0x3e7a80(0x71b):_0x154e91[_0x3e7a80(0x561)]=_0x387e84;const _0x249ea8=_0xa9783['querySelector'](_0x3e7a80(0x50c));_0x154e91[_0x3e7a80(0x83d)]=_0x249ea8?_0x249ea8['value']===_0x3e7a80(0x605):!![];break;case _0x3e7a80(0x390):_0x154e91[_0x3e7a80(0xa65)]=_0x387e84;const _0x2677df=_0xa9783[_0x3e7a80(0x775)](_0x3e7a80(0x368));_0x154e91['correctResponse']=_0x2677df?_0x2677df['value']:'',_0x529936[_0x3e7a80(0x53c)](_0x154e91[_0x3e7a80(0x826)]);break;default:_0x154e91[_0x3e7a80(0x561)]=_0x387e84;break;}return{..._0x113e5f,..._0x154e91};});_0x529936[_0x1d67ce(0x33e)]>0x0&&_0x30483d['forEach'](_0x3dcfe8=>{const _0x4f0acf=_0x1d67ce;_0x3dcfe8[_0x4f0acf(0x539)]==='matching_item'&&(_0x3dcfe8['allResponses']=_0x529936);});const _0x434226=currentEditingQuizData['id'],_0x234e20=doc(db,_0x1d67ce(0x618)+appId+_0x1d67ce(0x64b),_0x434226);await updateDoc(_0x234e20,{'topic':_0x2f64b8,'questions':_0x30483d}),document['getElementById'](_0x1d67ce(0xa6f))[_0x1d67ce(0x46e)][_0x1d67ce(0x5af)](_0x1d67ce(0x52f)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x434226));}catch(_0x4a0ba8){console[_0x1d67ce(0x5c2)]('Error\x20saving\x20quiz\x20edits:',_0x4a0ba8),showMessage(_0x1d67ce(0x33f));}finally{_0x8b6076['disabled']=![],_0x8b6076[_0x1d67ce(0x4a4)]=_0x1d67ce(0x28b);}}async function initiateReGradeProcess(_0x5eb5bd){const _0x3a99b3=_0x2944ec;showMessage(_0x3a99b3(0x1e6));try{const _0x4d03e9=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x5eb5bd),_0x3ca5cd=await getDoc(_0x4d03e9);if(!_0x3ca5cd[_0x3a99b3(0x8b2)]())throw new Error(_0x3a99b3(0x41c));const _0x442473={'id':_0x5eb5bd,..._0x3ca5cd[_0x3a99b3(0x719)]()},_0x23b59b=collection(db,_0x3a99b3(0x618)+appId+_0x3a99b3(0x64b),_0x5eb5bd,_0x3a99b3(0x4df)),_0x5537b8=await getDocs(_0x23b59b);if(_0x5537b8[_0x3a99b3(0x597)]){showMessage(_0x3a99b3(0x9aa));return;}const _0x3f1dcb=_0x5537b8['docs'][_0x3a99b3(0x678)](_0x38bf5c=>reGradeSingleSubmission(_0x38bf5c,_0x442473));await Promise[_0x3a99b3(0xa6e)](_0x3f1dcb);if(_0x442473[_0x3a99b3(0x80d)]){const _0x56fb87=doc(db,_0x3a99b3(0x618)+appId+_0x3a99b3(0x367),_0x442473[_0x3a99b3(0x80d)]),_0x3a1298=await getDoc(_0x56fb87);if(_0x3a1298['exists']()&&_0x3a1298[_0x3a99b3(0x719)]()[_0x3a99b3(0x6ff)]){const _0x316ee5=_0x3a1298[_0x3a99b3(0x719)]()[_0x3a99b3(0x6ff)][_0x3a99b3(0x678)](_0x2f5453=>updateStudentProfile(_0x442473[_0x3a99b3(0x80d)],_0x2f5453));await Promise[_0x3a99b3(0xa6e)](_0x316ee5);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x5537b8[_0x3a99b3(0x84d)]+_0x3a99b3(0x585));}catch(_0xe576e1){console[_0x3a99b3(0x5c2)](_0x3a99b3(0x510),_0xe576e1),showMessage(_0x3a99b3(0x787)+_0xe576e1[_0x3a99b3(0x20f)]);}}async function reGradeSingleSubmission(_0xadaadf,_0x44bb8e){const _0x35a044=_0x2944ec,_0x54eb17=_0xadaadf[_0x35a044(0x719)](),_0x289f91=_0x54eb17['studentName'],_0x4b0f05=_0x54eb17[_0x35a044(0x79d)]||[],_0x47f671=[];for(const _0x3e6c23 of _0x4b0f05){let _0x4a49d1=0x0,_0x1cd57a=[],_0x13d666=0x0;const _0x6ec678=[];for(const _0x2fad6d of _0x3e6c23[_0x35a044(0x38b)]){let _0x9cb514;_0x2fad6d[_0x35a044(0x93e)]&&(_0x9cb514=_0x44bb8e[_0x35a044(0x256)]['find'](_0x330d8f=>_0x330d8f['id']===_0x2fad6d[_0x35a044(0x93e)]));!_0x9cb514&&_0x2fad6d['originalQuestionText']&&(_0x9cb514=_0x44bb8e['questions'][_0x35a044(0x238)](_0x4a3304=>(_0x4a3304['stem']||_0x4a3304[_0x35a044(0x561)])===_0x2fad6d[_0x35a044(0x400)]));let _0x19f1f7=![];if(_0x9cb514){const _0x401f07=_0x9cb514[_0x35a044(0x539)]||_0x44bb8e[_0x35a044(0x4f1)];switch(_0x401f07){case'multiple_choice':if(_0x9cb514[_0x35a044(0x29d)]&&_0x9cb514[_0x35a044(0x36a)]<_0x9cb514[_0x35a044(0x29d)][_0x35a044(0x33e)]){const _0x3c1eb3=_0x9cb514[_0x35a044(0x29d)][_0x9cb514['correctAnswerIndex']];_0x19f1f7=_0x2fad6d[_0x35a044(0x9f6)]===_0x3c1eb3;}break;case _0x35a044(0x71b):const _0x1d22ea=_0x2fad6d[_0x35a044(0x7a9)]===!![]||_0x2fad6d[_0x35a044(0x7a9)]===_0x35a044(0x605);_0x19f1f7=_0x1d22ea===_0x9cb514[_0x35a044(0x83d)];break;case _0x35a044(0x390):_0x19f1f7=_0x2fad6d[_0x35a044(0x7a9)]===_0x9cb514[_0x35a044(0x826)];break;case'short_answer':_0x19f1f7=await gradeShortAnswer(_0x2fad6d[_0x35a044(0x7a9)],_0x9cb514);break;default:_0x19f1f7=_0x2fad6d['isCorrect'];break;}}if(_0x19f1f7){_0x4a49d1++,_0x13d666++;if(_0x13d666===0x3)_0x1cd57a['push'](BADGES['ON_FIRE']['id']);}else _0x13d666=0x0;_0x6ec678[_0x35a044(0x53c)]({..._0x2fad6d,'isCorrect':_0x19f1f7});}let _0x508bc3=_0x4a49d1*0xa;_0x4a49d1===_0x44bb8e[_0x35a044(0x256)]['length']&&(_0x508bc3+=0x32,_0x1cd57a[_0x35a044(0x53c)](BADGES[_0x35a044(0x7fc)]['id'])),_0x47f671[_0x35a044(0x53c)]({..._0x3e6c23,'score':_0x4a49d1,'points':_0x508bc3,'badges':Array[_0x35a044(0x4cd)](new Set(_0x1cd57a)),'answers':_0x6ec678});}const _0x275c3b=_0x47f671['length']>0x0?_0x47f671[0x0][_0x35a044(0x986)]:0x0,_0x2895e8=Math[_0x35a044(0x482)](..._0x47f671[_0x35a044(0x678)](_0x26c158=>_0x26c158['score'])),_0xc2f761=_0x47f671[_0x35a044(0x33e)]>0x0?_0x47f671[_0x47f671['length']-0x1][_0x35a044(0x986)]:0x0,_0x494d3d=_0x47f671[_0x35a044(0x33e)]>0x0?_0x47f671[_0x47f671[_0x35a044(0x33e)]-0x1][_0x35a044(0x697)]:0x0,_0x2485a0=doc(db,_0x35a044(0x618)+appId+_0x35a044(0x73f)+_0x44bb8e['id']+'/submissions',_0x289f91);await updateDoc(_0x2485a0,{'attempts':_0x47f671,'firstScore':_0x275c3b,'bestScore':_0x2895e8,'latestScore':_0xc2f761,'points':_0x494d3d});}function cleanupQuizOptions(_0x5682c5){const _0x21a794=_0x2944ec,_0x49df25=(_0x36e33a,_0x1e5834)=>_0x1e5834===0x0?_0x36e33a:_0x49df25(_0x1e5834,_0x36e33a%_0x1e5834),_0x3fe29f=_0x1256c9=>{const _0x340fae=_0x1114;if(typeof _0x1256c9!==_0x340fae(0x7aa))return null;_0x1256c9=_0x1256c9['trim']();const _0x21ef71=_0x1256c9['split'](/[ /]/)[_0x340fae(0x904)](_0x414cfa=>_0x414cfa!=='');if(_0x21ef71[_0x340fae(0x33e)]===0x3)return parseInt(_0x21ef71[0x0])+parseInt(_0x21ef71[0x1])/parseInt(_0x21ef71[0x2]);else{if(_0x21ef71[_0x340fae(0x33e)]===0x2)return parseInt(_0x21ef71[0x0])/parseInt(_0x21ef71[0x1]);else{if(_0x21ef71['length']===0x1&&!isNaN(_0x21ef71[0x0]))return parseFloat(_0x21ef71[0x0]);}}return null;},_0x39c866=_0x53e577=>{const _0x16c7b3=_0x1114;if(typeof _0x53e577!==_0x16c7b3(0x7aa))return _0x53e577;const _0x2bb55f=_0x53e577[_0x16c7b3(0x960)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x2bb55f){const _0xbda69b=parseInt(_0x2bb55f[0x1]);let _0x34cbf6=parseInt(_0x2bb55f[0x2]),_0x224da2=parseInt(_0x2bb55f[0x3]);const _0x250646=_0x49df25(_0x34cbf6,_0x224da2);_0x34cbf6/=_0x250646,_0x224da2/=_0x250646;if(_0x224da2===0x1)return(_0xbda69b+_0x34cbf6)[_0x16c7b3(0x6f3)]();return _0xbda69b+'\x20'+_0x34cbf6+'/'+_0x224da2;}return _0x53e577;};return _0x5682c5&&_0x5682c5[_0x21a794(0x256)]&&_0x5682c5[_0x21a794(0x256)][_0x21a794(0x9ef)](_0xe9173d=>{const _0x51b5ca=_0x21a794;if(_0xe9173d[_0x51b5ca(0x539)]==='multiple_choice'&&_0xe9173d['options']){const _0x4f955c=new Map(),_0x4d1470=_0xe9173d[_0x51b5ca(0x29d)][_0xe9173d[_0x51b5ca(0x36a)]];_0xe9173d[_0x51b5ca(0x29d)][_0x51b5ca(0x9ef)](_0x53ea55=>{const _0x12541d=_0x51b5ca,_0xc12015=_0x39c866(_0x53ea55),_0x3c7cfa=_0x3fe29f(_0xc12015);_0x3c7cfa!==null&&!_0x4f955c[_0x12541d(0x59f)](_0x3c7cfa)&&_0x4f955c['set'](_0x3c7cfa,_0xc12015);}),_0xe9173d['options']=Array[_0x51b5ca(0x4cd)](_0x4f955c['values']());const _0x3c8bca=_0xe9173d[_0x51b5ca(0x29d)][_0x51b5ca(0x7eb)](_0x3e04bb=>_0x3e04bb===_0x39c866(_0x4d1470));_0xe9173d[_0x51b5ca(0x36a)]=_0x3c8bca!==-0x1?_0x3c8bca:0x0;}}),_0x5682c5;}async function saveQuiz(){const _0x68ba2a=_0x2944ec;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x68ba2a(0x256)]||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x449419=document[_0x68ba2a(0x299)](_0x68ba2a(0x3be));_0x449419['disabled']=!![],_0x449419['innerHTML']=_0x68ba2a(0x5e1);const _0x40f22e=document[_0x68ba2a(0x299)](_0x68ba2a(0xa3b))[_0x68ba2a(0x911)];let _0x416264=document['getElementById']('editable-quiz-topic')[_0x68ba2a(0x89c)]['trim']();_0x40f22e&&!_0x416264[_0x68ba2a(0x502)]('(ก่อนเรียน)')&&(_0x416264=_0x68ba2a(0x4b4)+_0x416264);try{const _0x2dad91={'resultsDisplay':document[_0x68ba2a(0x299)](_0x68ba2a(0x91c))['value'],'shuffle':document['getElementById'](_0x68ba2a(0x63a))[_0x68ba2a(0x305)],'timerMode':document[_0x68ba2a(0x299)](_0x68ba2a(0x640))[_0x68ba2a(0x305)],'timerDuration':parseInt(document[_0x68ba2a(0x299)](_0x68ba2a(0x53f))[_0x68ba2a(0x305)])||0xa,'passingScore':parseInt(document[_0x68ba2a(0x299)]('passing-score-input')[_0x68ba2a(0x305)])||0x0,'isAdaptive':document[_0x68ba2a(0x299)](_0x68ba2a(0x7c0))[_0x68ba2a(0x911)],'loopUntilPass':document[_0x68ba2a(0x299)](_0x68ba2a(0x725))[_0x68ba2a(0x911)]},_0x34671d=(currentQuizData[_0x68ba2a(0x256)]||[])['map']((_0x2f0b3d,_0x575842)=>{const _0x424406=_0x68ba2a,_0x2606c9=document['getElementById'](_0x424406(0x260))[_0x424406(0x305)],_0x7531d1={'id':'q_'+Date[_0x424406(0x9a2)]()+'_'+_0x575842,'questionText':_0x2f0b3d['questionText']||'','explanation':_0x2f0b3d[_0x424406(0x3c8)]||_0x424406(0x6f7),'questionType':_0x2f0b3d[_0x424406(0x539)]||_0x2606c9,'imageCode':_0x2f0b3d['imageCode']||null};return(_0x7531d1[_0x424406(0x539)]===_0x424406(0x503)||_0x7531d1[_0x424406(0x539)]===_0x424406(0x990)||_0x7531d1[_0x424406(0x539)]===_0x424406(0xa2a)&&_0x2f0b3d[_0x424406(0x29d)])&&(_0x7531d1[_0x424406(0x29d)]=_0x2f0b3d[_0x424406(0x29d)]||[],_0x7531d1['correctAnswerIndex']=_0x2f0b3d['correctAnswerIndex']!==undefined?_0x2f0b3d['correctAnswerIndex']:0x0),(_0x7531d1['questionType']===_0x424406(0x7df)||_0x7531d1['questionType']===_0x424406(0x8a9)||_0x7531d1[_0x424406(0x539)]===_0x424406(0xa2a)&&_0x2f0b3d[_0x424406(0x317)])&&(_0x7531d1[_0x424406(0x317)]=_0x2f0b3d[_0x424406(0x317)]||''),_0x7531d1[_0x424406(0x539)]===_0x424406(0x71b)&&(_0x7531d1[_0x424406(0x83d)]=_0x2f0b3d['correctAnswer']===!![]),_0x7531d1[_0x424406(0x539)]===_0x424406(0x390)&&(_0x7531d1[_0x424406(0xa65)]=_0x2f0b3d[_0x424406(0xa65)]||'',_0x7531d1[_0x424406(0x826)]=_0x2f0b3d[_0x424406(0x826)]||'',_0x7531d1[_0x424406(0x662)]=_0x2f0b3d[_0x424406(0x662)]||[]),_0x7531d1;}),_0x1f7535={'topic':_0x416264,'quizType':currentQuizData['quizType']||'multiple_choice','questions':_0x34671d,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x68ba2a(0x3bc)](),'status':_0x68ba2a(0x53d),'settings':_0x2dad91,'quizMode':_0x40f22e?'pre-test':'standard','pairedQuizId':null,'lessonPlan':null};let _0x291bd9;while(!![]){_0x291bd9=Math[_0x68ba2a(0x66b)](0x3e8+Math[_0x68ba2a(0x891)]()*0x2328)[_0x68ba2a(0x6f3)]();const _0x35e426=await getDoc(doc(db,_0x68ba2a(0x618)+appId+_0x68ba2a(0x64b),_0x291bd9));if(!_0x35e426[_0x68ba2a(0x8b2)]())break;}await setDoc(doc(db,_0x68ba2a(0x618)+appId+_0x68ba2a(0x64b),_0x291bd9),_0x1f7535),currentQuizData[_0x68ba2a(0x2a4)]=_0x2dad91,currentQuizData['id']=_0x291bd9;const _0x2a696a=document[_0x68ba2a(0x299)](_0x68ba2a(0x3c3));_0x2a696a[_0x68ba2a(0x4a4)]=_0x68ba2a(0x771)+_0x291bd9+_0x68ba2a(0x20d),document[_0x68ba2a(0x299)](_0x68ba2a(0xa5e))[_0x68ba2a(0x757)](_0x68ba2a(0x9dc),()=>copyTextToClipboard(_0x291bd9,_0x68ba2a(0x470))),document[_0x68ba2a(0x299)](_0x68ba2a(0x8e1))[_0x68ba2a(0x757)](_0x68ba2a(0x9dc),()=>handleStartLiveRace(_0x291bd9)),document[_0x68ba2a(0x299)]('start-presentation-btn')[_0x68ba2a(0x757)](_0x68ba2a(0x9dc),()=>startPresentation(currentQuizData)),document[_0x68ba2a(0x299)]('admin-try-quiz-btn')['addEventListener'](_0x68ba2a(0x9dc),startAdminTest),showMessage(_0x68ba2a(0x5f7));}catch(_0x24dcea){console[_0x68ba2a(0x5c2)](_0x68ba2a(0x9de),_0x24dcea),showMessage(_0x68ba2a(0xa6c)),_0x449419[_0x68ba2a(0x278)]=![],_0x449419[_0x68ba2a(0x4a4)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x215d28=_0x2944ec,_0x185b93=document['getElementById'](_0x215d28(0x652)),_0x4dbd16=document[_0x215d28(0x299)](_0x215d28(0x5d1)),_0x8dfbbe=_0x185b93[_0x215d28(0x775)]('h3'),_0x215474=document[_0x215d28(0x299)](_0x215d28(0x346));_0x8dfbbe[_0x215d28(0x391)]='เลือกโปรเจคเพื่อบันทึก',_0x215474[_0x215d28(0x391)]=_0x215d28(0x945);allProjects[_0x215d28(0x33e)]===0x0?(_0x4dbd16[_0x215d28(0x4a4)]=_0x215d28(0x51d),_0x215474[_0x215d28(0x278)]=!![]):(_0x4dbd16['innerHTML']=allProjects[_0x215d28(0x678)](_0x323ccf=>_0x215d28(0x4d9)+_0x323ccf['id']+'\x22>'+_0x323ccf[_0x215d28(0x9bf)]+'</option>')[_0x215d28(0x2b1)](''),_0x215474['disabled']=![]);_0x185b93[_0x215d28(0x46e)]['remove'](_0x215d28(0x52f));const _0x412145=()=>{const _0x3f53a5=_0x215d28,_0x133665=_0x4dbd16[_0x3f53a5(0x305)];_0x133665?(currentProjectId=_0x133665,_0x185b93[_0x3f53a5(0x46e)][_0x3f53a5(0x5af)](_0x3f53a5(0x52f)),saveQuiz(),_0x8dfbbe[_0x3f53a5(0x391)]=_0x3f53a5(0x286),_0x215474[_0x3f53a5(0x391)]=_0x3f53a5(0x61c),_0x215474[_0x3f53a5(0x954)]('click',_0x412145),_0x215474[_0x3f53a5(0x757)](_0x3f53a5(0x9dc),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x215474[_0x215d28(0x954)](_0x215d28(0x9dc),confirmMoveQuiz),_0x215474[_0x215d28(0x757)](_0x215d28(0x9dc),_0x412145);}function copyTextToClipboard(_0x554b8d,_0x4d0b22){const _0x1b41fd=_0x2944ec,_0x5ca950=document[_0x1b41fd(0x84e)](_0x1b41fd(0x560));_0x5ca950['value']=_0x554b8d,_0x5ca950[_0x1b41fd(0x5c1)][_0x1b41fd(0x3b2)]=_0x1b41fd(0x52a),_0x5ca950[_0x1b41fd(0x5c1)]['opacity']='0',document[_0x1b41fd(0x817)]['appendChild'](_0x5ca950),_0x5ca950[_0x1b41fd(0x7c7)](),_0x5ca950['select']();try{const _0x1d9643=document[_0x1b41fd(0x4b2)]('copy');showMessage(_0x1d9643?_0x4d0b22:_0x1b41fd(0x7b3));}catch(_0x484f41){showMessage(_0x1b41fd(0x7b3)),console[_0x1b41fd(0x5c2)](_0x1b41fd(0x6bb),_0x484f41);}document[_0x1b41fd(0x817)]['removeChild'](_0x5ca950);}function listenForProjectQuizzes(_0xb92805){const _0x212764=_0x2944ec,_0x407384=collection(db,_0x212764(0x618)+appId+_0x212764(0x64b)),_0x164847=query(_0x407384,where(_0x212764(0x80d),'==',_0xb92805));unsubscribeQuizzesListener=onSnapshot(_0x164847,async _0x76bd7=>{const _0x4142e0=_0x212764;allQuizzes=_0x76bd7[_0x4142e0(0x75e)][_0x4142e0(0x678)](_0x56c0a2=>({'id':_0x56c0a2['id'],..._0x56c0a2['data']()})),renderQuizzes();},_0x1e0032=>{const _0x2fdf8d=_0x212764;console['error']('Error\x20fetching\x20project\x20quizzes:',_0x1e0032),document[_0x2fdf8d(0x299)](_0x2fdf8d(0x28e))['innerHTML']='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x285d7c=_0x2944ec,_0x487bd7=document[_0x285d7c(0x299)](_0x285d7c(0x28e)),_0x3117b4=document[_0x285d7c(0x299)](_0x285d7c(0x580))[_0x285d7c(0x305)][_0x285d7c(0x565)]();let _0x12eb46;currentProjectId===_0x285d7c(0x302)?_0x12eb46=starredQuizzes:_0x12eb46=allQuizzes;let _0x39a8d5=_0x12eb46['filter'](_0x25fd4c=>_0x25fd4c[_0x285d7c(0x67d)][_0x285d7c(0x565)]()[_0x285d7c(0x38f)](_0x3117b4));_0x39a8d5['sort']((_0x5ddb6e,_0xb8677d)=>new Date(_0xb8677d[_0x285d7c(0x734)])-new Date(_0x5ddb6e[_0x285d7c(0x734)]));if(_0x39a8d5['length']===0x0){_0x487bd7[_0x285d7c(0x4a4)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x2fa9b0={},_0x484972=_0x39a8d5['map'](async _0x28a22c=>{const _0x5eb00b=_0x285d7c,_0x519a30=collection(db,_0x5eb00b(0x618)+appId+_0x5eb00b(0x73f)+_0x28a22c['id']+'/submissions'),_0x22224b=await getDocs(_0x519a30);_0x2fa9b0[_0x28a22c['id']]=_0x22224b['size'];});await Promise[_0x285d7c(0xa6e)](_0x484972);let _0x34dc0a='';_0x39a8d5[_0x285d7c(0x9ef)](_0x25adeb=>{const _0x56bfa6=_0x285d7c,_0x49418c=_0x2fa9b0[_0x25adeb['id']]||0x0,_0x4c2c0a=_0x25adeb[_0x56bfa6(0x49d)]||_0x56bfa6(0x53d),_0x59323d=_0x25adeb['settings']?.[_0x56bfa6(0x720)]||_0x56bfa6(0x2c6);let _0xa5a620='',_0x32583d='';const _0x21c45b=new Date();let _0x12a838=_0x4c2c0a;if(_0x4c2c0a==='scheduled'){const _0x141662=_0x25adeb['startTime']?new Date(_0x25adeb[_0x56bfa6(0x57b)]):null,_0x226550=_0x25adeb['endTime']?new Date(_0x25adeb[_0x56bfa6(0x58f)]):null;if(_0x226550&&_0x21c45b>_0x226550)_0x12a838=_0x56bfa6(0x474);else _0x141662&&_0x21c45b<_0x141662?_0x12a838='scheduled_pending':_0x12a838='active';}switch(_0x12a838){case _0x56bfa6(0x474):_0xa5a620='ปิดใช้งาน',_0x32583d=_0x56bfa6(0x45b);break;case _0x56bfa6(0x2f3):_0xa5a620=_0x56bfa6(0x53a),_0x32583d=_0x56bfa6(0x6a6);break;case'active':_0xa5a620=_0x59323d!==_0x56bfa6(0x2c6)?_0x56bfa6(0x254):_0x56bfa6(0x261),_0x32583d=_0x56bfa6(0x8d6);break;default:_0xa5a620=_0x56bfa6(0x6e2),_0x32583d=_0x56bfa6(0x8d6);break;}let _0xcd9443='';const _0x2ee994={'day':_0x56bfa6(0x76c),'month':_0x56bfa6(0x76c),'year':_0x56bfa6(0x9ec),'hour':'2-digit','minute':_0x56bfa6(0x76c),'hour12':![]};if(_0x4c2c0a==='scheduled'){if(_0x25adeb[_0x56bfa6(0x57b)])_0xcd9443+=_0x56bfa6(0x382)+new Date(_0x25adeb[_0x56bfa6(0x57b)])[_0x56bfa6(0x8c4)](_0x56bfa6(0x331),_0x2ee994)+_0x56bfa6(0x5e2);if(_0x25adeb[_0x56bfa6(0x58f)])_0xcd9443+=_0x56bfa6(0x271)+new Date(_0x25adeb['endTime'])[_0x56bfa6(0x8c4)](_0x56bfa6(0x331),_0x2ee994)+'</p>';}let _0x46f7f0='';if(_0x25adeb[_0x56bfa6(0x392)]){const _0x4d84be=allQuizzes[_0x56bfa6(0x238)](_0x19a9ec=>_0x19a9ec['id']===_0x25adeb[_0x56bfa6(0x392)]);if(_0x4d84be){let _0x4286e0,_0x3bd1c5;new Date(_0x25adeb['createdAt'])<new Date(_0x4d84be[_0x56bfa6(0x734)])?(_0x4286e0=_0x25adeb['id'],_0x3bd1c5=_0x4d84be['id']):(_0x4286e0=_0x4d84be['id'],_0x3bd1c5=_0x25adeb['id']),_0x46f7f0+=_0x56bfa6(0x7ea)+_0x3bd1c5+_0x56bfa6(0x99f)+_0x4286e0+_0x56bfa6(0xa48);}}else _0x25adeb['quizMode']===_0x56bfa6(0x696)&&(_0x46f7f0+=_0x56bfa6(0x6fc)+_0x25adeb['id']+_0x56bfa6(0x546));if(_0x25adeb[_0x56bfa6(0x7f7)]===_0x56bfa6(0x696)&&_0x49418c>0x0)_0x46f7f0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x25adeb['id']+_0x56bfa6(0x6f9);else!_0x25adeb['pairedQuizId']&&_0x25adeb['quizMode']!==_0x56bfa6(0x696)&&_0x49418c>0x0&&(_0x46f7f0+=_0x56bfa6(0x6fc)+_0x25adeb['id']+_0x56bfa6(0x51f));let _0x51c50d='';_0x25adeb[_0x56bfa6(0x392)]?_0x51c50d=_0x56bfa6(0x766)+_0x25adeb['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x51c50d='<button\x20data-quiz-id=\x22'+_0x25adeb['id']+_0x56bfa6(0x7dc),_0x34dc0a+=_0x56bfa6(0x95a)+_0x25adeb['id']+_0x56bfa6(0x52b)+_0x25adeb[_0x56bfa6(0x67d)]+_0x56bfa6(0x9f3)+_0x25adeb['questions'][_0x56bfa6(0x33e)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x25adeb[_0x56bfa6(0x734)])['toLocaleString'](_0x56bfa6(0x331))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x49418c+_0x56bfa6(0x7e0)+_0xcd9443+_0x56bfa6(0x8dc)+_0x32583d+'\x22>'+_0xa5a620+_0x56bfa6(0x905)+_0x25adeb['id']+_0x56bfa6(0x9e2)+_0x25adeb['id']+_0x56bfa6(0x3f6)+(_0x25adeb[_0x56bfa6(0x2d5)]?_0x56bfa6(0x680):_0x56bfa6(0x6f2))+_0x56bfa6(0x30b)+_0x46f7f0+_0x56bfa6(0x6c5)+_0x25adeb['id']+_0x56bfa6(0x856)+_0x25adeb['id']+_0x56bfa6(0x26c)+_0x25adeb['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x25adeb['id']+_0x56bfa6(0x217)+_0x25adeb['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x25adeb['id']+_0x56bfa6(0x86c)+_0x25adeb['id']+_0x56bfa6(0x454)+_0x25adeb[_0x56bfa6(0x67d)]+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x25adeb['id']+_0x56bfa6(0xa00)+_0x25adeb['id']+_0x56bfa6(0x700)+_0x51c50d+_0x56bfa6(0x43a)+_0x25adeb['id']+_0x56bfa6(0x97d)+_0x25adeb['id']+_0x56bfa6(0x511)+_0x25adeb['id']+_0x56bfa6(0x359)+_0x25adeb['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x25adeb['id']+'\x22\x20data-topic=\x22'+_0x25adeb[_0x56bfa6(0x67d)]+_0x56bfa6(0x430)+_0x25adeb['id']+_0x56bfa6(0x874);}),_0x487bd7[_0x285d7c(0x4a4)]=_0x34dc0a,document[_0x285d7c(0x921)](_0x285d7c(0x92a))[_0x285d7c(0x9ef)](_0x20836b=>{_0x20836b['addEventListener']('click',()=>{const _0x3bd6e5=_0x1114,_0x4ded8b=_0x20836b[_0x3bd6e5(0x574)][_0x3bd6e5(0x2b7)];showQuizDetailView(_0x4ded8b);});});}async function handleUnpairQuiz(_0x2a4da4){const _0x4aeb0c=_0x2944ec,_0x17ec8a=allQuizzes[_0x4aeb0c(0x238)](_0x459535=>_0x459535['id']===_0x2a4da4);if(!_0x17ec8a||!_0x17ec8a[_0x4aeb0c(0x392)]){showMessage(_0x4aeb0c(0x5ec));return;}showConfirmation(_0x4aeb0c(0x4eb),async()=>{const _0x37ea29=_0x4aeb0c;try{const _0x2e1c83=doc(db,'artifacts/'+appId+_0x37ea29(0x64b),_0x2a4da4),_0x398891=doc(db,'artifacts/'+appId+_0x37ea29(0x64b),_0x17ec8a[_0x37ea29(0x392)]),_0x7be817=writeBatch(db);_0x7be817[_0x37ea29(0x71c)](_0x2e1c83,{'pairedQuizId':null}),_0x7be817['update'](_0x398891,{'pairedQuizId':null}),await _0x7be817['commit'](),showMessage(_0x37ea29(0x7e1));}catch(_0x1d483e){console[_0x37ea29(0x5c2)](_0x37ea29(0x981),_0x1d483e),showMessage(_0x37ea29(0x651));}});}function formatAndPrintLessonPlan(_0x1ce257,_0x221637){const _0x34e227=_0x2944ec,_0x4b332b=window[_0x34e227(0x699)]('',_0x34e227(0x723)),_0x9c0485=_0x34e227(0xa4e)+_0x221637[_0x34e227(0x67d)]+_0x34e227(0x47b)+_0x221637[_0x34e227(0x67d)]+_0x34e227(0x2df)+_0x1ce257['learningGaps'][_0x34e227(0x678)](_0x35af6f=>_0x34e227(0x965)+_0x35af6f+_0x34e227(0x9a5))[_0x34e227(0x2b1)]('')+_0x34e227(0x61d)+_0x1ce257[_0x34e227(0x9b9)]+_0x34e227(0x85c)+_0x1ce257[_0x34e227(0x1e3)][_0x34e227(0x678)](_0x31fb4a=>_0x34e227(0x4a6)+_0x31fb4a['question']+_0x34e227(0x343)+_0x31fb4a[_0x34e227(0x4e4)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x34e227(0x2b1)]('')+_0x34e227(0xa36);_0x4b332b[_0x34e227(0x2f4)][_0x34e227(0x912)](_0x9c0485),_0x4b332b['document'][_0x34e227(0x3ed)](),_0x4b332b[_0x34e227(0x4b0)]=function(){setTimeout(()=>{const _0x5abb27=_0x1114;_0x4b332b[_0x5abb27(0x5fe)]();},0x3e8);};}async function handleAiFixFormula(_0x4c43c1){const _0x1257e3=_0x2944ec,_0x3a52de=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0x4c43c1+'\x22]');if(!_0x3a52de)return;const _0x269bc8=_0x3a52de[_0x1257e3(0x574)][_0x1257e3(0x82e)],_0x2d4606=_0x3a52de[_0x1257e3(0x775)](_0x1257e3(0x3dc));let _0x559f29={'question':_0x3a52de[_0x1257e3(0x775)](_0x1257e3(0x560))['value']};switch(_0x269bc8){case _0x1257e3(0x503):_0x559f29['options']=Array[_0x1257e3(0x4cd)](_0x3a52de['querySelectorAll'](_0x1257e3(0x950)))['map'](_0x5e4867=>_0x5e4867[_0x1257e3(0x305)]);break;case _0x1257e3(0x7df):_0x559f29[_0x1257e3(0x317)]=_0x3a52de[_0x1257e3(0x775)](_0x1257e3(0x23e))[_0x1257e3(0x305)];break;case _0x1257e3(0x390):_0x559f29[_0x1257e3(0x826)]=_0x3a52de[_0x1257e3(0x775)]('.correct-response-input')['value'];break;}_0x2d4606[_0x1257e3(0x4a4)]=_0x1257e3(0x24f),_0x2d4606[_0x1257e3(0x278)]=!![];try{const _0xe8e436='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20'+JSON[_0x1257e3(0x23a)](_0x559f29)+_0x1257e3(0x65c),_0x183227={'type':_0x1257e3(0x81a),'properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':_0x1257e3(0x224)},'options':{'type':_0x1257e3(0x4ce),'items':{'type':'STRING'}},'idealAnswer':{'type':_0x1257e3(0x224)},'correctResponse':{'type':_0x1257e3(0x224)}},'required':[_0x1257e3(0x8e4)]}},'required':[_0x1257e3(0x9ae)]},_0x192416=await callAnalysisApi(_0xe8e436,_0x183227);if(_0x192416&&_0x192416[_0x1257e3(0x9ae)]){const _0x244093=_0x192416[_0x1257e3(0x9ae)];_0x3a52de['querySelector'](_0x1257e3(0x560))[_0x1257e3(0x305)]=_0x244093['question']||_0x559f29[_0x1257e3(0x8e4)];switch(_0x269bc8){case _0x1257e3(0x503):_0x244093[_0x1257e3(0x29d)]&&_0x244093[_0x1257e3(0x29d)]['length']>0x0&&_0x3a52de[_0x1257e3(0x921)](_0x1257e3(0x950))[_0x1257e3(0x9ef)]((_0x1ecb9a,_0x4bd133)=>{const _0x5c9849=_0x1257e3;_0x1ecb9a[_0x5c9849(0x305)]=_0x244093[_0x5c9849(0x29d)][_0x4bd133]||_0x559f29[_0x5c9849(0x29d)][_0x4bd133];});break;case _0x1257e3(0x7df):_0x3a52de[_0x1257e3(0x775)](_0x1257e3(0x23e))[_0x1257e3(0x305)]=_0x244093[_0x1257e3(0x317)]||_0x559f29[_0x1257e3(0x317)];break;case _0x1257e3(0x390):_0x3a52de[_0x1257e3(0x775)](_0x1257e3(0x368))[_0x1257e3(0x305)]=_0x244093[_0x1257e3(0x826)]||_0x559f29[_0x1257e3(0x826)];break;}if(_0x559f29[_0x1257e3(0x8e4)]!==_0x244093[_0x1257e3(0x8e4)])try{const _0x262bcb=collection(db,_0x1257e3(0x618)+appId+_0x1257e3(0x21a));await addDoc(_0x262bcb,{'broken':_0x559f29[_0x1257e3(0x8e4)],'fixed':_0x244093[_0x1257e3(0x8e4)],'createdAt':serverTimestamp()});}catch(_0x2d1ea0){console[_0x1257e3(0x5c2)](_0x1257e3(0x3b6),_0x2d1ea0);}showMessage(_0x1257e3(0x65b));}else throw new Error(_0x1257e3(0x972));}catch(_0x288b99){console['error'](_0x1257e3(0x794),_0x288b99),showMessage(_0x1257e3(0x9db));}finally{_0x2d4606[_0x1257e3(0x4a4)]=_0x1257e3(0x829),_0x2d4606[_0x1257e3(0x278)]=![];}}async function handleGenerateLessonPlan(_0x3aaa9f){const _0x4b839e=_0x2944ec;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x37d84a=doc(db,_0x4b839e(0x618)+appId+_0x4b839e(0x64b),_0x3aaa9f),_0x3adc27=await getDoc(_0x37d84a);if(!_0x3adc27[_0x4b839e(0x8b2)]())throw new Error(_0x4b839e(0x41c));const _0x3331d8={'id':_0x3aaa9f,..._0x3adc27[_0x4b839e(0x719)]()},_0x5cfac6=collection(db,_0x4b839e(0x618)+appId+_0x4b839e(0x64b),_0x3aaa9f,_0x4b839e(0x4df)),_0xeed64e=await getDocs(_0x5cfac6),_0x38b454=_0xeed64e['docs'][_0x4b839e(0x678)](_0x1648d2=>_0x1648d2[_0x4b839e(0x719)]());if(_0x38b454[_0x4b839e(0x33e)]===0x0)throw new Error(_0x4b839e(0x671));const _0x36f0e5=calculateItemAnalysis(_0x3331d8,_0x38b454)[_0x4b839e(0x576)],_0x28bb43=calculateDistractorAnalysis(_0x3331d8,_0x38b454),_0x29151b=_0x1a3469=>{const _0x213f26=_0x4b839e;if(!_0x1a3469)return'';return _0x1a3469['replace'](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x213f26(0x9d7)](/\n/g,'\x5cn');};let _0x51bb2b=_0x4b839e(0x4a2);_0x3331d8[_0x4b839e(0x256)][_0x4b839e(0x9ef)]((_0x8624cc,_0x47ed30)=>{const _0x18b311=_0x4b839e,_0x3e82f7=_0x36f0e5[_0x47ed30]?.['p']['toFixed'](0x2)||_0x18b311(0x623),_0x392a98=_0x36f0e5[_0x47ed30]?.['r']['toFixed'](0x2)||_0x18b311(0x623),_0xd90693=_0x29151b(_0x8624cc[_0x18b311(0x561)]||_0x8624cc['stem']);_0x51bb2b+='-\x20ข้อ\x20'+(_0x47ed30+0x1)+_0x18b311(0x989)+_0x3e82f7+_0x18b311(0x913)+_0x392a98+_0x18b311(0x8e7)+_0xd90693+'\x5cn';if(_0x8624cc[_0x18b311(0x539)]===_0x18b311(0x503)&&_0x28bb43[_0x47ed30]){const _0x5ec494=_0x28bb43[_0x47ed30],_0x58b485=Object['keys'](_0x5ec494)[_0x18b311(0x904)](_0x31f9e4=>parseInt(_0x31f9e4)!==_0x8624cc[_0x18b311(0x36a)])[_0x18b311(0x2e5)]((_0x50b4f7,_0x46ff12)=>_0x5ec494[_0x46ff12]['total']-_0x5ec494[_0x50b4f7][_0x18b311(0x4f5)])[0x0];if(_0x58b485&&_0x5ec494[_0x58b485]['total']>0x0){const _0x2b27e4=_0x29151b(_0x5ec494[_0x58b485][_0x18b311(0x62f)]);_0x51bb2b+=_0x18b311(0x802)+_0x2b27e4+_0x18b311(0x29c);}}});const _0x54b61d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x3331d8[_0x4b839e(0x67d)]+_0x4b839e(0x262)+_0x51bb2b+_0x4b839e(0x801),_0x1fbe52={'type':_0x4b839e(0x81a),'properties':{'learningGaps':{'type':_0x4b839e(0x4ce),'items':{'type':_0x4b839e(0x224)}},'teachingContent':{'type':_0x4b839e(0x224)},'practiceProblems':{'type':_0x4b839e(0x4ce),'items':{'type':_0x4b839e(0x81a),'properties':{'question':{'type':_0x4b839e(0x224)},'solution':{'type':'STRING'}}}}},'required':[_0x4b839e(0x25e),_0x4b839e(0x9b9),_0x4b839e(0x1e3)]},_0x3bdb6b=await callAnalysisApi(_0x54b61d,_0x1fbe52);await updateDoc(_0x37d84a,{'lessonPlan':_0x3bdb6b});const _0x1c2a4a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x3331d8[_0x4b839e(0x67d)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x3bdb6b[_0x4b839e(0x25e)][_0x4b839e(0x678)](_0x1204bf=>_0x4b839e(0x965)+_0x1204bf+_0x4b839e(0x9a5))[_0x4b839e(0x2b1)]('')+_0x4b839e(0x201)+_0x3bdb6b[_0x4b839e(0x9b9)]+_0x4b839e(0x379)+_0x3bdb6b['practiceProblems']['map'](_0x55d69f=>_0x4b839e(0x5eb)+_0x55d69f['question']+_0x4b839e(0x5d0)+_0x55d69f[_0x4b839e(0x4e4)]+_0x4b839e(0x472))[_0x4b839e(0x2b1)]('')+_0x4b839e(0x3d5);document[_0x4b839e(0x299)]('lesson-plan-title')[_0x4b839e(0x391)]=_0x4b839e(0x3e3)+_0x3331d8[_0x4b839e(0x67d)],document['getElementById']('lesson-plan-content')[_0x4b839e(0x4a4)]=_0x1c2a4a,document[_0x4b839e(0x299)](_0x4b839e(0x76e))[_0x4b839e(0x46e)][_0x4b839e(0x75d)]('hidden');if(window[_0x4b839e(0x432)])MathJax[_0x4b839e(0x690)]();messageModal[_0x4b839e(0x46e)]['add']('hidden');}catch(_0x2768e9){console[_0x4b839e(0x5c2)](_0x4b839e(0x4fc),_0x2768e9),showMessage(_0x4b839e(0x340)+_0x2768e9[_0x4b839e(0x20f)]);}}async function handleDuplicateQuiz(_0x215a2d){const _0x19e723=_0x2944ec;try{const _0xc81fcc=doc(db,'artifacts/'+appId+_0x19e723(0x64b),_0x215a2d),_0x1235ac=await getDoc(_0xc81fcc);if(_0x1235ac[_0x19e723(0x8b2)]()){const _0x266aad=_0x1235ac[_0x19e723(0x719)]();let _0x1e05d0='',_0x26fe96='standard',_0xd9eedb=null;if(_0x266aad[_0x19e723(0x7f7)]==='pre-test'){let _0x2178d2=_0x266aad[_0x19e723(0x67d)][_0x19e723(0x9d7)](_0x19e723(0x8f1),'')[_0x19e723(0x980)]();_0x1e05d0=_0x19e723(0x419)+_0x2178d2,_0x26fe96=_0x19e723(0x7b7),_0xd9eedb=_0x215a2d;}else _0x1e05d0=_0x19e723(0x8ba)+_0x266aad[_0x19e723(0x67d)];const _0x31a915={..._0x266aad,'topic':_0x1e05d0,'createdAt':new Date()['toISOString'](),'quizMode':_0x26fe96,'pairedQuizId':_0xd9eedb};let _0xbc1001;while(!![]){_0xbc1001=Math['floor'](0x3e8+Math[_0x19e723(0x891)]()*0x2328)['toString']();const _0x1ce882=await getDoc(doc(db,_0x19e723(0x618)+appId+_0x19e723(0x64b),_0xbc1001));if(!_0x1ce882[_0x19e723(0x8b2)]())break;}const _0x5c56ca=doc(db,'artifacts/'+appId+_0x19e723(0x64b),_0xbc1001);await setDoc(_0x5c56ca,_0x31a915),_0x31a915[_0x19e723(0x7f7)]===_0x19e723(0x7b7)&&await updateDoc(_0xc81fcc,{'pairedQuizId':_0xbc1001}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x19e723(0x87b));}catch(_0x5ec641){console[_0x19e723(0x5c2)](_0x19e723(0x61f),_0x5ec641),showMessage(_0x19e723(0x449));}}async function handleDeleteQuiz(_0xf76279,_0x1a87cb=!![]){const _0x1f3bf9=_0x2944ec;try{const _0x32db5a=writeBatch(db),_0x2479a2=collection(db,_0x1f3bf9(0x618)+appId+'/public/data/quizzes/'+_0xf76279+'/submissions'),_0x38e085=await getDocs(_0x2479a2);_0x38e085['forEach'](_0x557262=>{_0x32db5a['delete'](doc(_0x2479a2,_0x557262['id']));});const _0x5280a6=doc(db,_0x1f3bf9(0x618)+appId+'/public/data/quizzes',_0xf76279);_0x32db5a[_0x1f3bf9(0x479)](_0x5280a6),await _0x32db5a[_0x1f3bf9(0xa44)](),_0x1a87cb&&showMessage(_0x1f3bf9(0x8eb));}catch(_0x5a7425){console['error']('Error\x20deleting\x20quiz:',_0x5a7425),_0x1a87cb&&showMessage(_0x1f3bf9(0x2dd));}}async function showQuizDetailView(_0x512fda){const _0x3dcf5c=_0x2944ec;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x3dcf5c(0x679));try{const _0xd555b=doc(db,_0x3dcf5c(0x618)+appId+'/public/data/quizzes',_0x512fda),_0x40ea80=await getDoc(_0xd555b);if(!_0x40ea80[_0x3dcf5c(0x8b2)]()){showMessage(_0x3dcf5c(0x41c));return;}const _0x2017e7={'id':_0x40ea80['id'],..._0x40ea80[_0x3dcf5c(0x719)]()};currentQuizData=_0x2017e7;const _0x2da436=doc(db,_0x3dcf5c(0x618)+appId+'/public/data/projects',_0x2017e7[_0x3dcf5c(0x80d)]),_0x4d099f=await getDoc(_0x2da436);_0x4d099f[_0x3dcf5c(0x8b2)]()?(currentProjectData=_0x4d099f[_0x3dcf5c(0x719)](),currentProjectId=_0x2017e7[_0x3dcf5c(0x80d)]):(currentProjectData={'students':[]},currentProjectId=_0x2017e7[_0x3dcf5c(0x80d)]);document['getElementById'](_0x3dcf5c(0x803))[_0x3dcf5c(0x391)]=_0x2017e7[_0x3dcf5c(0x67d)],document['getElementById'](_0x3dcf5c(0x6e6))['textContent']=_0x512fda;const _0x4c5237=collection(db,_0x3dcf5c(0x618)+appId+_0x3dcf5c(0x64b),_0x512fda,_0x3dcf5c(0x4df));unsubscribeSubmissionsListener=onSnapshot(_0x4c5237,_0x1fe548=>{const _0xa0a6bc=_0x3dcf5c,_0x4f6259=_0x1fe548['docs'][_0xa0a6bc(0x678)](_0x573598=>({'id':_0x573598['id'],..._0x573598['data']()}));currentSubmissions=_0x4f6259;const _0x245b36=_0x4f6259[_0xa0a6bc(0x904)](_0x4a9e97=>_0x4a9e97[_0xa0a6bc(0x79d)]&&_0x4a9e97[_0xa0a6bc(0x79d)][_0xa0a6bc(0x33e)]>0x0);renderBehaviorLog(_0x4f6259),renderAnswerGrid(currentProjectData[_0xa0a6bc(0x6ff)],_0x245b36,_0x2017e7),renderAnalytics(_0x2017e7,_0x245b36),renderQuizResultsTable(currentProjectData['students'],_0x4f6259,_0x2017e7),renderQuizLeaderboard(_0x245b36,_0x2017e7,_0xa0a6bc(0x1fc));}),showView(_0x3dcf5c(0x8d7));}catch(_0x503517){console[_0x3dcf5c(0x5c2)](_0x3dcf5c(0x3e7),_0x503517),showMessage(_0x3dcf5c(0x66d));}}function renderAnswerGrid(_0x30fa1f,_0x347603,_0x2a26cd){const _0x215829=_0x2944ec,_0x162f38=document['getElementById'](_0x215829(0x716));if(!_0x162f38)return;if(!_0x30fa1f||_0x30fa1f[_0x215829(0x33e)]===0x0){_0x162f38[_0x215829(0x4a4)]=_0x215829(0x64a);return;}const _0x2ae185=_0x2a26cd[_0x215829(0x256)],_0x58e874=_0x347603[_0x215829(0x54c)]((_0x286e02,_0x20b19d)=>{const _0x4598fe=_0x215829;return _0x286e02[_0x20b19d[_0x4598fe(0x357)]]=_0x20b19d,_0x286e02;},{}),_0x5ad10a=_0x5253ba=>String[_0x215829(0x749)](0x41+_0x5253ba),_0x482e58=_0x4f993d=>{const _0x3e4b41=_0x215829,_0xb69419=_0x4f993d['questionType']||_0x2a26cd[_0x3e4b41(0x4f1)];switch(_0xb69419){case _0x3e4b41(0x503):return _0x4f993d[_0x3e4b41(0x29d)]&&_0x4f993d[_0x3e4b41(0x29d)][_0x3e4b41(0x33e)]>_0x4f993d[_0x3e4b41(0x36a)]?_0x5ad10a(_0x4f993d[_0x3e4b41(0x36a)]):'-';case'true_false':return _0x4f993d[_0x3e4b41(0x83d)]?'ใช่':_0x3e4b41(0x4c7);case _0x3e4b41(0x390):return _0x4f993d[_0x3e4b41(0x826)]||'-';case _0x3e4b41(0x7df):return _0x3e4b41(0x80b);default:return'-';}},_0x2a4ee6=(_0x4de8b1,_0x204fd7)=>{const _0x5d9c5b=_0x215829;if(_0x204fd7[_0x5d9c5b(0x7a9)]===null||_0x204fd7['answer']===undefined)return'-';const _0x55db11=_0x4de8b1[_0x5d9c5b(0x539)]||_0x2a26cd['quizType'];switch(_0x55db11){case'multiple_choice':const _0x497b64=_0x4de8b1[_0x5d9c5b(0x29d)]['findIndex'](_0x1bfb10=>_0x1bfb10===_0x204fd7[_0x5d9c5b(0x9f6)]);return _0x497b64!==-0x1?_0x5ad10a(_0x497b64):_0x204fd7['answerText']||'-';case _0x5d9c5b(0x71b):return _0x204fd7[_0x5d9c5b(0x7a9)]===_0x5d9c5b(0x605)||_0x204fd7['answer']===!![]?_0x5d9c5b(0x6fe):_0x5d9c5b(0x4c7);default:return _0x204fd7[_0x5d9c5b(0x7a9)];}};let _0xf15847=_0x215829(0x2d4)+_0x2ae185[_0x215829(0x678)]((_0x492848,_0x13eb36)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x13eb36+0x1)+_0x215829(0xa54))[_0x215829(0x2b1)]('')+_0x215829(0x3b9)+_0x2ae185[_0x215829(0x678)](_0x11dc7d=>_0x215829(0x74e)+_0x482e58(_0x11dc7d)+_0x215829(0x4e2))[_0x215829(0x2b1)]('')+_0x215829(0x2d3);_0x30fa1f[_0x215829(0x9ef)](_0x3da4a8=>{const _0x366fe0=_0x215829;_0xf15847+=_0x366fe0(0x733),_0xf15847+=_0x366fe0(0x951)+_0x3da4a8+_0x366fe0(0x4e2);const _0x14ff9c=_0x58e874[_0x3da4a8];if(_0x14ff9c){const _0x2f376e=_0x14ff9c[_0x366fe0(0x79d)][_0x14ff9c[_0x366fe0(0x79d)][_0x366fe0(0x33e)]-0x1];_0x2ae185[_0x366fe0(0x9ef)]((_0x11fab2,_0x2c092f)=>{const _0x17f094=_0x366fe0,_0x269cba=_0x2f376e['answers']['find'](_0x40d052=>_0x40d052[_0x17f094(0x400)]===(_0x11fab2[_0x17f094(0xa65)]||_0x11fab2[_0x17f094(0x561)]));if(_0x269cba){let _0x571a50=![];const _0x16b0cd=_0x11fab2[_0x17f094(0x539)]||_0x2a26cd[_0x17f094(0x4f1)];if(_0x269cba['answer']!==null&&_0x269cba[_0x17f094(0x7a9)]!==undefined)switch(_0x16b0cd){case _0x17f094(0x503):const _0x5b2603=_0x11fab2[_0x17f094(0x29d)][_0x11fab2['correctAnswerIndex']];_0x571a50=_0x269cba['answerText']===_0x5b2603;break;case _0x17f094(0x71b):const _0x3109e7=_0x269cba[_0x17f094(0x7a9)]===!![]||_0x269cba[_0x17f094(0x7a9)]===_0x17f094(0x605);_0x571a50=_0x3109e7===_0x11fab2[_0x17f094(0x83d)];break;case'matching_item':_0x571a50=_0x269cba['answer']===_0x11fab2[_0x17f094(0x826)];break;default:_0x571a50=_0x269cba[_0x17f094(0x29f)];break;}const _0xc66f1e=_0x571a50?'bg-green-100':_0x17f094(0x6b9);_0xf15847+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0xc66f1e+'\x22>'+_0x2a4ee6(_0x11fab2,_0x269cba)+_0x17f094(0x4e2);}else _0xf15847+=_0x17f094(0xa5d);});}else _0xf15847+=_0x2ae185[_0x366fe0(0x678)](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x366fe0(0x2b1)]('');_0xf15847+=_0x366fe0(0x555);}),_0xf15847+=_0x215829(0x6d4),_0x162f38[_0x215829(0x4a4)]=_0xf15847;}function renderQuizResultsTable(_0xa540b,_0x24b899,_0x552073){const _0x11ebe4=_0x2944ec,_0xb93ef8=_0x24b899[_0x11ebe4(0x54c)]((_0xee69d2,_0x2a7573)=>{return _0xee69d2[_0x2a7573['studentName']]=_0x2a7573,_0xee69d2;},{}),_0x14a8fa=document[_0x11ebe4(0x775)](_0x11ebe4(0x586));_0x14a8fa&&!_0x14a8fa[_0x11ebe4(0x4a4)]['includes']('จัดการ')&&(_0x14a8fa[_0x11ebe4(0x4a4)]+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x1a1d66=document[_0x11ebe4(0x299)](_0x11ebe4(0x819));if(!_0xa540b||_0xa540b[_0x11ebe4(0x33e)]===0x0){_0x1a1d66[_0x11ebe4(0x4a4)]=_0x11ebe4(0x38a);return;}const _0x5521d5=_0x552073[_0x11ebe4(0x294)]===!![],_0x45a509=_0x552073[_0x11ebe4(0x2a4)]?.[_0x11ebe4(0x4c2)]??-0x1;let _0x49593d='';_0xa540b[_0x11ebe4(0x9ef)](_0x29a576=>{const _0x3c8aaa=_0x11ebe4,_0x29a985=_0xb93ef8[_0x29a576];let _0x175fa2=_0x3c8aaa(0x464)+(_0x5521d5?_0x3c8aaa(0x5bb):'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x5521d5?_0x3c8aaa(0x4d4):_0x3c8aaa(0x313))+_0x3c8aaa(0x44e);if(_0x29a985){if(_0x29a985[_0x3c8aaa(0x79d)]&&_0x29a985['attempts']['length']>0x0){let _0x34207f=_0x5521d5?_0x29a985[_0x3c8aaa(0x93c)]===_0x29a985[_0x3c8aaa(0x3fb)]:_0x45a509!==-0x1&&_0x29a985[_0x3c8aaa(0x93c)]>=_0x45a509;const _0x50231c=_0x34207f?_0x3c8aaa(0x4a8):_0x3c8aaa(0x4b8),_0x4545ea=_0x34207f?_0x3c8aaa(0x325):_0x3c8aaa(0x8a6),_0xea2b7='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x50231c+'\x22>'+_0x4545ea+_0x3c8aaa(0x44e),_0x55c8dd=_0x3c8aaa(0x76d)+(_0x29a985[_0x3c8aaa(0x79d)]?.[_0x3c8aaa(0x33e)]||0x1)+_0x3c8aaa(0x5c4);_0x49593d+=_0x3c8aaa(0x8b8)+_0x29a576+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x29a985[_0x3c8aaa(0x93c)]+_0x3c8aaa(0x362)+_0x29a985[_0x3c8aaa(0x3fb)]+_0x3c8aaa(0x5d4)+_0xea2b7+_0x3c8aaa(0x7ae)+_0x175fa2+_0x3c8aaa(0x2c2)+_0x29a985[_0x3c8aaa(0x6aa)]+_0x3c8aaa(0x362)+_0x29a985[_0x3c8aaa(0x3fb)]+_0x3c8aaa(0x3f5)+_0x29a985['latestScore']+_0x3c8aaa(0x362)+_0x29a985[_0x3c8aaa(0x3fb)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x29a985[_0x3c8aaa(0x697)]||0x0)+_0x3c8aaa(0x5d4)+_0x55c8dd+_0x3c8aaa(0x903)+new Date(_0x29a985[_0x3c8aaa(0x63e)])[_0x3c8aaa(0x8c4)]('th-TH')+_0x3c8aaa(0x3cb)+_0x29a576+_0x3c8aaa(0x1e4);}else{const _0x1997c7=_0x3c8aaa(0x889);_0x49593d+=_0x3c8aaa(0x67e)+_0x29a576+_0x3c8aaa(0x35d)+_0x175fa2+_0x3c8aaa(0x612)+_0x1997c7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x29a985[_0x3c8aaa(0x388)])[_0x3c8aaa(0x8c4)](_0x3c8aaa(0x331))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x29a576+_0x3c8aaa(0x1e4);}}else{const _0x54b5e4=_0x3c8aaa(0x978);_0x49593d+=_0x3c8aaa(0x297)+_0x29a576+_0x3c8aaa(0x517)+_0x175fa2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x54b5e4+_0x3c8aaa(0x4d8);}}),_0x1a1d66[_0x11ebe4(0x4a4)]=_0x49593d;}async function confirmRenameQuiz(){const _0x4d520a=_0x2944ec,_0x2c8c1e=document['getElementById'](_0x4d520a(0x91f))[_0x4d520a(0x305)][_0x4d520a(0x980)]();if(!_0x2c8c1e){showMessage(_0x4d520a(0x269));return;}if(!actionTargetId)return;const _0x322783=doc(db,_0x4d520a(0x618)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x322783,{'topic':_0x2c8c1e}),showMessage(_0x4d520a(0x8bc)),renameQuizModal[_0x4d520a(0x46e)]['add']('hidden'),actionTargetId=null;}catch(_0x5ee6c9){console['error'](_0x4d520a(0x9d9),_0x5ee6c9),showMessage(_0x4d520a(0x590));}}async function handleMoveQuiz(_0x2a54c0){const _0x101068=_0x2944ec;actionTargetId=_0x2a54c0;const _0x3bb03f=document['getElementById']('move-quiz-project-select');_0x3bb03f['innerHTML']='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal['classList'][_0x101068(0x75d)]('hidden');try{const _0x35049f=collection(db,_0x101068(0x618)+appId+_0x101068(0x367)),_0x439b17=await getDocs(_0x35049f),_0x5279ac=_0x439b17[_0x101068(0x75e)][_0x101068(0x678)](_0x14ad14=>({'id':_0x14ad14['id'],..._0x14ad14['data']()})),_0x11cd01=_0x5279ac[_0x101068(0x904)](_0x297182=>_0x297182['id']!==currentProjectId);if(_0x11cd01['length']===0x0){_0x3bb03f['innerHTML']=_0x101068(0x322),document[_0x101068(0x299)]('confirm-move-quiz-btn')[_0x101068(0x278)]=!![];return;}_0x3bb03f[_0x101068(0x4a4)]=_0x11cd01[_0x101068(0x678)](_0x312d73=>_0x101068(0x4d9)+_0x312d73['id']+'\x22>'+_0x312d73[_0x101068(0x9bf)]+_0x101068(0x6e1))[_0x101068(0x2b1)](''),document[_0x101068(0x299)]('confirm-move-quiz-btn')[_0x101068(0x278)]=![];}catch(_0x5f1229){console[_0x101068(0x5c2)](_0x101068(0x933),_0x5f1229),showMessage(_0x101068(0x98f)),moveQuizModal[_0x101068(0x46e)]['add'](_0x101068(0x52f));}}async function confirmMoveQuiz(){const _0x150b17=_0x2944ec,_0x75a944=document[_0x150b17(0x299)]('move-quiz-project-select')[_0x150b17(0x305)];if(!_0x75a944){showMessage(_0x150b17(0x349));return;}if(!actionTargetId)return;const _0x1a2e13=doc(db,'artifacts/'+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x1a2e13,{'projectId':_0x75a944}),showMessage(_0x150b17(0x518)),moveQuizModal[_0x150b17(0x46e)][_0x150b17(0x5af)](_0x150b17(0x52f)),actionTargetId=null;}catch(_0x5d5ad9){console[_0x150b17(0x5c2)](_0x150b17(0x6a3),_0x5d5ad9),showMessage(_0x150b17(0x451));}}async function handleQuizSettings(_0xb6bb79){const _0x1fcffa=_0x2944ec;actionTargetId=_0xb6bb79;const _0x38db91=doc(db,_0x1fcffa(0x618)+appId+'/public/data/quizzes',_0xb6bb79);try{const _0x58039a=await getDoc(_0x38db91);if(_0x58039a[_0x1fcffa(0x8b2)]()){const _0x2b3020=_0x58039a[_0x1fcffa(0x719)](),_0x29fdbf=_0x2b3020['settings']||{},_0x167a65=_0x2b3020[_0x1fcffa(0x256)][_0x1fcffa(0x33e)];document[_0x1fcffa(0x299)](_0x1fcffa(0x5ba))[_0x1fcffa(0x305)]=_0x29fdbf[_0x1fcffa(0xa17)]||_0x1fcffa(0x2c6),document[_0x1fcffa(0x299)](_0x1fcffa(0xa0d))[_0x1fcffa(0x305)]=_0x29fdbf[_0x1fcffa(0x3aa)]||_0x1fcffa(0x4af),document[_0x1fcffa(0x299)](_0x1fcffa(0xa43))[_0x1fcffa(0x305)]=_0x29fdbf[_0x1fcffa(0x720)]||_0x1fcffa(0x2c6),document['getElementById'](_0x1fcffa(0x26a))[_0x1fcffa(0x305)]=_0x29fdbf[_0x1fcffa(0x764)]||0xa,document[_0x1fcffa(0x299)](_0x1fcffa(0x715))[_0x1fcffa(0x305)]=_0x29fdbf[_0x1fcffa(0x4c2)]||Math[_0x1fcffa(0x66b)](_0x167a65/0x2),document[_0x1fcffa(0x299)](_0x1fcffa(0x715))[_0x1fcffa(0x482)]=_0x167a65,document[_0x1fcffa(0x299)](_0x1fcffa(0x489))['checked']=_0x29fdbf[_0x1fcffa(0x6bc)]||![],document[_0x1fcffa(0x299)](_0x1fcffa(0x2d2))[_0x1fcffa(0x911)]=_0x29fdbf[_0x1fcffa(0x6e0)]||![],document[_0x1fcffa(0x299)](_0x1fcffa(0xa43))[_0x1fcffa(0x3da)](new Event(_0x1fcffa(0x3f8))),quizSettingsModal[_0x1fcffa(0x46e)][_0x1fcffa(0x75d)](_0x1fcffa(0x52f));}else showMessage(_0x1fcffa(0x41c));}catch(_0x20b30d){console[_0x1fcffa(0x5c2)](_0x1fcffa(0x69e),_0x20b30d),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x12f041=_0x2944ec;if(!actionTargetId)return;const _0x42bc9f=doc(db,_0x12f041(0x618)+appId+'/public/data/quizzes',actionTargetId),_0x3c59fc={'shuffle':document[_0x12f041(0x299)](_0x12f041(0x5ba))[_0x12f041(0x305)],'resultsDisplay':document[_0x12f041(0x299)](_0x12f041(0xa0d))['value'],'timerMode':document[_0x12f041(0x299)]('modal-timer-mode-select')[_0x12f041(0x305)],'timerDuration':parseInt(document[_0x12f041(0x299)]('modal-timer-duration-input')[_0x12f041(0x305)])||0xa,'passingScore':parseInt(document['getElementById'](_0x12f041(0x715))['value'])||0x0,'passingScore':parseInt(document[_0x12f041(0x299)](_0x12f041(0x715))[_0x12f041(0x305)])||0x0,'isAdaptive':document['getElementById'](_0x12f041(0x489))[_0x12f041(0x911)],'loopUntilPass':document[_0x12f041(0x299)](_0x12f041(0x2d2))[_0x12f041(0x911)]};try{await updateDoc(_0x42bc9f,{'settings':_0x3c59fc}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal['classList'][_0x12f041(0x5af)]('hidden'),actionTargetId=null;}catch(_0x41858c){console[_0x12f041(0x5c2)](_0x12f041(0x7ca),_0x41858c),showMessage(_0x12f041(0x33f));}}async function handleQuizStatus(_0x1e69e7){const _0x4f3d12=_0x2944ec;actionTargetId=_0x1e69e7;const _0x27c2d3=doc(db,_0x4f3d12(0x618)+appId+_0x4f3d12(0x64b),_0x1e69e7);try{const _0x2553c9=await getDoc(_0x27c2d3);if(_0x2553c9[_0x4f3d12(0x8b2)]()){const _0x556ed1=_0x2553c9[_0x4f3d12(0x719)](),_0x43bcf4=_0x556ed1[_0x4f3d12(0x49d)]||_0x4f3d12(0x53d),_0x4604eb=document[_0x4f3d12(0x299)](_0x4f3d12(0x807)),_0x1e555d=document[_0x4f3d12(0x299)](_0x4f3d12(0x594)),_0x17a976=document['getElementById'](_0x4f3d12(0x849));let _0x255947=_0x4f3d12(0x43d)+(_0x43bcf4===_0x4f3d12(0x53d)?_0x4f3d12(0x911):'')+_0x4f3d12(0x711)+(_0x43bcf4===_0x4f3d12(0x474)?_0x4f3d12(0x911):'')+_0x4f3d12(0x4da)+(_0x43bcf4===_0x4f3d12(0x2a6)?_0x4f3d12(0x911):'')+_0x4f3d12(0x3ec);_0x4604eb[_0x4f3d12(0x4a4)]=_0x255947;const _0x19a737=_0x43bcf4===_0x4f3d12(0x2a6);_0x1e555d['classList'][_0x4f3d12(0x9d5)](_0x4f3d12(0x52f),!_0x19a737),_0x17a976[_0x4f3d12(0x46e)][_0x4f3d12(0x9d5)](_0x4f3d12(0x52f),!_0x19a737),document[_0x4f3d12(0x299)]('quiz-start-time')[_0x4f3d12(0x305)]=_0x556ed1[_0x4f3d12(0x57b)]?_0x556ed1[_0x4f3d12(0x57b)]['substring'](0x0,0x10):'',document[_0x4f3d12(0x299)](_0x4f3d12(0x46b))[_0x4f3d12(0x305)]=_0x556ed1['endTime']?_0x556ed1['endTime'][_0x4f3d12(0x5e0)](0x0,0x10):'',_0x4604eb['querySelectorAll'](_0x4f3d12(0x6fb))['forEach'](_0x5967b2=>{const _0x1e9aae=_0x4f3d12;_0x5967b2['addEventListener'](_0x1e9aae(0x3f8),_0x1c9907=>{const _0x31458a=_0x1e9aae,_0x29635f=_0x1c9907['target'][_0x31458a(0x305)]===_0x31458a(0xa72);_0x1e555d[_0x31458a(0x46e)]['toggle'](_0x31458a(0x52f),!_0x29635f),_0x17a976[_0x31458a(0x46e)][_0x31458a(0x9d5)]('hidden',!_0x29635f);});}),quizStatusModal[_0x4f3d12(0x46e)][_0x4f3d12(0x75d)](_0x4f3d12(0x52f));}}catch(_0x20d6c5){console[_0x4f3d12(0x5c2)](_0x4f3d12(0x3b5),_0x20d6c5),showMessage('เกิดข้อผิดพลาดในการโหลดสถานะ');}}async function confirmQuizStatus(){const _0x448a1b=_0x2944ec;if(!actionTargetId)return;const _0x3d7892=doc(db,_0x448a1b(0x618)+appId+_0x448a1b(0x64b),actionTargetId),_0x145c51=document[_0x448a1b(0x775)](_0x448a1b(0x61a));if(!_0x145c51){showMessage(_0x448a1b(0x553));return;}const _0x4d32db=_0x145c51[_0x448a1b(0x305)];let _0x2a0360={};if(_0x4d32db==='active'||_0x4d32db===_0x448a1b(0x474))_0x2a0360={'status':_0x4d32db,'startTime':null,'endTime':null};else{if(_0x4d32db===_0x448a1b(0xa72)){const _0xe86bd=document['getElementById']('quiz-start-time')[_0x448a1b(0x305)],_0x538254=document['getElementById']('quiz-end-time')[_0x448a1b(0x305)];if(!_0xe86bd&&!_0x538254){showMessage(_0x448a1b(0x90c));return;}_0x2a0360={'status':'scheduled','startTime':_0xe86bd?new Date(_0xe86bd)['toISOString']():null,'endTime':_0x538254?new Date(_0x538254)[_0x448a1b(0x3bc)]():null};}}try{await updateDoc(_0x3d7892,_0x2a0360),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x448a1b(0x46e)][_0x448a1b(0x5af)]('hidden'),actionTargetId=null;}catch(_0x406a5a){console[_0x448a1b(0x5c2)](_0x448a1b(0x653),_0x406a5a),showMessage(_0x448a1b(0x6d9));}}function listenForStudentProfiles(_0x5c25a6){const _0x41f68d=_0x2944ec,_0x58cc16=collection(db,_0x41f68d(0x618)+appId+_0x41f68d(0x5cc)+_0x5c25a6+_0x41f68d(0x34b));unsubscribeStudentProfilesListener=onSnapshot(_0x58cc16,_0x521711=>{const _0x3e9e0c=_0x41f68d,_0x54b0e9=_0x521711[_0x3e9e0c(0x75e)][_0x3e9e0c(0x678)](_0x50dfce=>_0x50dfce[_0x3e9e0c(0x719)]());renderLeaderboard(_0x54b0e9,'leaderboard-table-body');},_0x5d173b=>{const _0x98cd22=_0x41f68d;console['error'](_0x98cd22(0x6b1),_0x5d173b),document[_0x98cd22(0x299)]('leaderboard-table-body')[_0x98cd22(0x4a4)]=_0x98cd22(0x364);});}function renderLeaderboard(_0x58a1d0,_0x483202){const _0x3db23c=_0x2944ec,_0x222a4f=document[_0x3db23c(0x299)](_0x483202);if(!_0x58a1d0||_0x58a1d0[_0x3db23c(0x33e)]===0x0){_0x222a4f['innerHTML']=_0x3db23c(0x513);return;}_0x58a1d0[_0x3db23c(0x2e5)]((_0x1eedef,_0x45f5a9)=>{const _0x388026=_0x3db23c,_0x5086a7=(_0x45f5a9[_0x388026(0xa6b)]||0x0)-(_0x1eedef['totalPoints']||0x0);if(_0x5086a7!==0x0)return _0x5086a7;const _0x197f25=(_0x45f5a9[_0x388026(0x27b)]?.[_0x388026(0x3eb)]||0x0)-(_0x1eedef[_0x388026(0x27b)]?.[_0x388026(0x3eb)]||0x0);if(_0x197f25!==0x0)return _0x197f25;const _0x165f45=(_0x45f5a9['badgesCount']?.[_0x388026(0x6e3)]||0x0)-(_0x1eedef['badgesCount']?.['first_try_ace']||0x0);if(_0x165f45!==0x0)return _0x165f45;const _0xfdbcc=(_0x45f5a9[_0x388026(0x27b)]?.['perfect_score']||0x0)-(_0x1eedef[_0x388026(0x27b)]?.[_0x388026(0x4aa)]||0x0);if(_0xfdbcc!==0x0)return _0xfdbcc;const _0x57288e=(_0x45f5a9[_0x388026(0x27b)]?.[_0x388026(0x6a5)]||0x0)-(_0x1eedef['badgesCount']?.[_0x388026(0x6a5)]||0x0);if(_0x57288e!==0x0)return _0x57288e;return _0x1eedef[_0x388026(0x357)][_0x388026(0x5d9)](_0x45f5a9[_0x388026(0x357)],'th');});let _0x2252cf='';_0x58a1d0[_0x3db23c(0x9ef)]((_0x45881b,_0x3a9a70)=>{const _0x32f90b=_0x3db23c,_0x206eed=_0x3a9a70+0x1,_0x249a39=_0x45881b[_0x32f90b(0x27b)]||{};let _0x5c63cc='';const _0x417edc=[_0x32f90b(0x3eb),_0x32f90b(0x4aa),_0x32f90b(0x6e3),'quick_thinker'];_0x417edc[_0x32f90b(0x9ef)](_0x7126a3=>{const _0x42627e=_0x32f90b;if(_0x249a39[_0x7126a3]>0x0){const _0x5e7477=Object['values'](BADGES)[_0x42627e(0x238)](_0x535413=>_0x535413['id']===_0x7126a3);_0x5e7477&&(_0x7126a3===_0x42627e(0x3eb)?_0x5c63cc+=_0x42627e(0x668)+_0x5e7477[_0x42627e(0x799)]+_0x42627e(0x776)+_0x5e7477[_0x42627e(0x375)]+_0x42627e(0x81f):_0x5c63cc+=_0x42627e(0x668)+_0x5e7477[_0x42627e(0x799)]+'\x20('+_0x249a39[_0x7126a3]+_0x42627e(0x2fb)+_0x5e7477[_0x42627e(0x375)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x249a39[_0x7126a3]+_0x42627e(0x4d5));}}),_0x2252cf+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x206eed+_0x32f90b(0x9c0)+_0x45881b['studentName']+_0x32f90b(0x8b7)+(_0x45881b['totalPoints']||0x0)+_0x32f90b(0x9c0)+(_0x5c63cc||'-')+_0x32f90b(0x4f6);}),_0x222a4f[_0x3db23c(0x4a4)]=_0x2252cf;}function displayLoopScreen(_0x597cf1,_0x1b9ca8,_0x4d9548){const _0x22564b=_0x2944ec;let _0x14d826='';_0x4d9548!==_0x22564b(0x7fb)&&(_0x14d826=_0x22564b(0x665)+_0x597cf1+'\x20/\x20'+_0x1b9ca8+_0x22564b(0x227));const _0x30aa7b=_0x22564b(0x5be)+_0x14d826+_0x22564b(0x56e);studentResultArea[_0x22564b(0x4a4)]=_0x30aa7b,studentResultArea[_0x22564b(0x46e)]['remove'](_0x22564b(0x52f)),studentQuizArea[_0x22564b(0x46e)]['add']('hidden'),document[_0x22564b(0x299)](_0x22564b(0x91a))[_0x22564b(0x757)](_0x22564b(0x9dc),()=>{const _0x2e628c=_0x22564b;studentResultArea[_0x2e628c(0x46e)]['add'](_0x2e628c(0x52f)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x3381d4,_0x1c2e5b,_0x2ce4aa){const _0x2abeb2=_0x2944ec,_0x4012cb=document[_0x2abeb2(0x299)](_0x2ce4aa),_0x143fd2=_0x2ce4aa===_0x2abeb2(0x861),_0x11188b=_0x1c2e5b['questions'][_0x2abeb2(0x33e)],_0x3cb484=document[_0x2abeb2(0x299)](_0x2ce4aa)[_0x2abeb2(0x6bd)](_0x2abeb2(0x5ee));if(_0x3cb484&&!_0x143fd2){const _0xc4c722=_0x3cb484[_0x2abeb2(0x775)](_0x2abeb2(0x3f4));_0xc4c722['innerHTML']=_0x2abeb2(0x334);}if(!_0x3381d4||_0x3381d4['length']===0x0){_0x4012cb[_0x2abeb2(0x4a4)]=_0x2abeb2(0x72a)+(_0x143fd2?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x18bbee=[..._0x3381d4];_0x18bbee[_0x2abeb2(0x2e5)]((_0x38000e,_0x14d39f)=>{const _0x1f1968=_0x2abeb2;let _0x498cd8,_0x32b43e;switch(quizLeaderboardSortBy){case'studentName':_0x498cd8=_0x38000e[_0x1f1968(0x357)]||'',_0x32b43e=_0x14d39f[_0x1f1968(0x357)]||'';return quizLeaderboardSortOrder===_0x1f1968(0x8a8)?_0x498cd8[_0x1f1968(0x5d9)](_0x32b43e,'th'):_0x32b43e['localeCompare'](_0x498cd8,'th');case _0x1f1968(0x697):_0x498cd8=_0x38000e['points']||0x0,_0x32b43e=_0x14d39f['points']||0x0;break;case'attempts':_0x498cd8=_0x38000e[_0x1f1968(0x79d)]?.['length']||0x1,_0x32b43e=_0x14d39f[_0x1f1968(0x79d)]?.['length']||0x1;break;case _0x1f1968(0x63e):_0x498cd8=new Date(_0x38000e['latestSubmittedAt']),_0x32b43e=new Date(_0x14d39f[_0x1f1968(0x63e)]);break;case'bestScore':default:_0x498cd8=_0x38000e[_0x1f1968(0x93c)],_0x32b43e=_0x14d39f['bestScore'];break;}if(_0x498cd8<_0x32b43e)return quizLeaderboardSortOrder===_0x1f1968(0x8a8)?-0x1:0x1;if(_0x498cd8>_0x32b43e)return quizLeaderboardSortOrder===_0x1f1968(0x8a8)?0x1:-0x1;return 0x0;});const _0x24c5a7=_0x1c2e5b[_0x2abeb2(0x294)]===!![],_0x3bab1c=_0x1c2e5b['settings']?.[_0x2abeb2(0x4c2)]??-0x1;let _0x43fa85='';_0x18bbee[_0x2abeb2(0x9ef)]((_0xe45c08,_0x3e1e7c)=>{const _0x457ed6=_0x2abeb2,_0x4acf70=_0x3e1e7c+0x1;let _0x1372a3=_0x457ed6(0x724);if(_0x24c5a7||_0x3bab1c!==-0x1){let _0xd4c93=_0x24c5a7?_0xe45c08[_0x457ed6(0x93c)]===_0x11188b:_0xe45c08['bestScore']>=_0x3bab1c;const _0x44ddbe=_0xd4c93?'bg-green-100\x20text-green-800':_0x457ed6(0x4b8),_0x4d72d6=_0xd4c93?'ผ่าน':'ไม่ผ่าน';_0x1372a3=_0x457ed6(0x350)+_0x44ddbe+'\x22>'+_0x4d72d6+'</span></td>';}const _0x40ad71=_0xe45c08[_0x457ed6(0x79d)][_0xe45c08[_0x457ed6(0x79d)][_0x457ed6(0x33e)]-0x1],_0x13791f=(_0x40ad71[_0x457ed6(0x738)]||[])[_0x457ed6(0x678)](_0x224d15=>{const _0x424f34=_0x457ed6,_0x4c2c4b=Object[_0x424f34(0x670)](BADGES)['find'](_0x1a3ed2=>_0x1a3ed2['id']===_0x224d15);return _0x4c2c4b?_0x424f34(0x23d)+_0x4c2c4b[_0x424f34(0x799)]+_0x424f34(0x7de)+_0x4c2c4b[_0x424f34(0x375)]+_0x424f34(0x7f9):'';})[_0x457ed6(0x2b1)]('');_0x43fa85+=_0x457ed6(0x592)+_0x4acf70+_0x457ed6(0x888)+_0xe45c08['studentName']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0xe45c08['bestScore']+_0x457ed6(0x362)+_0x11188b+_0x457ed6(0x6ec)+_0x1372a3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0xe45c08[_0x457ed6(0x697)]||0x0)+_0x457ed6(0x6ec)+(_0x143fd2?'':_0x457ed6(0x298)+(_0xe45c08[_0x457ed6(0x79d)]?.['length']||0x1)+_0x457ed6(0x4e2))+_0x457ed6(0x3bf)+(_0x143fd2?'':_0x457ed6(0x4c1)+new Date(_0xe45c08['latestSubmittedAt'])['toLocaleString'](_0x457ed6(0x331))+'</td>')+_0x457ed6(0x9fb)+(_0x13791f||'-')+_0x457ed6(0xa3e);}),_0x4012cb[_0x2abeb2(0x4a4)]=_0x43fa85,_0x3cb484&&!_0x143fd2&&_0x3cb484[_0x2abeb2(0x921)](_0x2abeb2(0x22f))[_0x2abeb2(0x9ef)](_0x4249b3=>{const _0x578bf4=_0x2abeb2,_0x599744=_0x4249b3['querySelector'](_0x578bf4(0x312));if(_0x599744)_0x599744['remove']();_0x4249b3[_0x578bf4(0x574)][_0x578bf4(0x2e5)]===quizLeaderboardSortBy&&(_0x4249b3[_0x578bf4(0x4a4)]+=_0x578bf4(0x55d)+(quizLeaderboardSortOrder===_0x578bf4(0x8a8)?'▲':'▼')+_0x578bf4(0x6e8));});}async function handleDeleteSubmission(_0x185751){const _0x260ddd=_0x2944ec;if(!currentQuizData||!currentQuizData['id']||!_0x185751){showMessage(_0x260ddd(0x9b8));return;}showConfirmation(_0x260ddd(0x43e)+_0x185751+_0x260ddd(0x9fe),async()=>{const _0x2ea303=_0x260ddd,_0x1e92d4=currentQuizData['id'],_0x336f3a=doc(db,'artifacts/'+appId+_0x2ea303(0x73f)+_0x1e92d4+_0x2ea303(0x25a),_0x185751);try{await deleteDoc(_0x336f3a),showMessage(_0x2ea303(0x871)+_0x185751+_0x2ea303(0x347));}catch(_0x1d5580){console[_0x2ea303(0x5c2)](_0x2ea303(0x30f),_0x1d5580),showMessage(_0x2ea303(0x5da));}});}async function handleLoadQuiz(){const _0x2ad4eb=_0x2944ec,_0x35faf4=document[_0x2ad4eb(0x299)](_0x2ad4eb(0x68b)),_0x511c36=_0x35faf4[_0x2ad4eb(0x305)][_0x2ad4eb(0x980)]();if(!_0x511c36){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn[_0x2ad4eb(0x278)]=!![],loadQuizBtn['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x4d3e94=doc(db,_0x2ad4eb(0x618)+appId+'/public/data/quizzes',_0x511c36),_0x59ea1f=await getDoc(_0x4d3e94);if(!_0x59ea1f[_0x2ad4eb(0x8b2)]()){showMessage(_0x2ad4eb(0x88c));return;}currentQuizData={'id':_0x59ea1f['id'],..._0x59ea1f[_0x2ad4eb(0x719)]()};const _0x4fd827=currentQuizData['status']||_0x2ad4eb(0x53d),_0x49417c=new Date();if(_0x4fd827===_0x2ad4eb(0x474)){showMessage(_0x2ad4eb(0x79c));return;}if(_0x4fd827===_0x2ad4eb(0x2a6)){const _0x5efc36=currentQuizData['startTime']?new Date(currentQuizData['startTime']):null,_0x56c33b=currentQuizData['endTime']?new Date(currentQuizData[_0x2ad4eb(0x58f)]):null;if(_0x5efc36&&_0x49417c<_0x5efc36){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x5efc36[_0x2ad4eb(0x8c4)](_0x2ad4eb(0x331),{'hour12':![]}));return;}if(_0x56c33b&&_0x49417c>_0x56c33b){showMessage(_0x2ad4eb(0x6cf));return;}}const _0x105aab=currentQuizData[_0x2ad4eb(0x80d)];currentProjectId=_0x105aab;const _0x3a3a87=doc(db,_0x2ad4eb(0x618)+appId+_0x2ad4eb(0x367),_0x105aab),_0x5c746b=await getDoc(_0x3a3a87);if(!_0x5c746b[_0x2ad4eb(0x8b2)]()){showMessage(_0x2ad4eb(0x7d3));return;}const _0x350340=_0x5c746b[_0x2ad4eb(0x719)]();currentStudentProjectData=_0x350340,displayStudentNameSelector(_0x350340[_0x2ad4eb(0x6ff)],currentQuizData[_0x2ad4eb(0x67d)]);}catch(_0x20903f){console[_0x2ad4eb(0x5c2)](_0x2ad4eb(0x878),_0x20903f),showMessage(_0x2ad4eb(0x7f0));}finally{loadQuizBtn[_0x2ad4eb(0x278)]=![],loadQuizBtn[_0x2ad4eb(0x4a4)]=_0x2ad4eb(0x76f);}}async function handleJoinLiveGame(){const _0x483c6e=_0x2944ec,_0x550246=document[_0x483c6e(0x299)](_0x483c6e(0x9e6)),_0x52a18c=document[_0x483c6e(0x299)](_0x483c6e(0x97c)),_0x947e=document[_0x483c6e(0x299)](_0x483c6e(0x759)),_0x4e1f87=_0x550246['value'][_0x483c6e(0x980)](),_0x455afb=_0x52a18c[_0x483c6e(0x305)][_0x483c6e(0x980)]();if(!_0x4e1f87||!_0x455afb){showMessage(_0x483c6e(0x99c));return;}_0x947e[_0x483c6e(0x278)]=!![],_0x947e['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0x4a3413=collection(db,_0x483c6e(0x618)+appId+_0x483c6e(0x616)),_0x80edf5=query(_0x4a3413,where(_0x483c6e(0x7d9),'==',_0x4e1f87),where(_0x483c6e(0x49d),'in',[_0x483c6e(0x51e),_0x483c6e(0x8e4)])),_0x2337ed=await getDocs(_0x80edf5);if(_0x2337ed[_0x483c6e(0x597)]){showMessage(_0x483c6e(0x99d));return;}const _0xa3233b=_0x2337ed[_0x483c6e(0x75e)][0x0],_0x54d9ed=_0xa3233b[_0x483c6e(0x719)]();currentLiveGameId=_0xa3233b['id'];const _0x13dc75=_0x54d9ed[_0x483c6e(0x2b7)],_0x1fffc7=doc(db,'artifacts/'+appId+_0x483c6e(0x64b),_0x13dc75),_0x221cd7=await getDoc(_0x1fffc7);if(!_0x221cd7[_0x483c6e(0x8b2)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x221cd7['id'],..._0x221cd7[_0x483c6e(0x719)]()};if(_0x54d9ed['players']&&_0x54d9ed[_0x483c6e(0x30d)][_0x455afb]){const _0x4404af=_0x54d9ed[_0x483c6e(0x30d)][_0x455afb];if(_0x4404af[_0x483c6e(0x49d)]===_0x483c6e(0x474)){_0x947e[_0x483c6e(0x4a4)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0x594f8f={};_0x594f8f[_0x483c6e(0x1df)+_0x455afb+_0x483c6e(0x4ff)]=_0x483c6e(0x53d),await updateDoc(doc(db,_0x483c6e(0x618)+appId+_0x483c6e(0x616),currentLiveGameId),_0x594f8f),showView('live-game'),currentStudentName=_0x455afb,listenForLiveGameUpdates();return;}else{showMessage(_0x483c6e(0x521));return;}}if(_0x54d9ed['status']!=='lobby'){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x947e[_0x483c6e(0x4a4)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0x1b33e4={};_0x1b33e4['players.'+_0x455afb]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x483c6e(0x53d)},await updateDoc(doc(db,_0x483c6e(0x618)+appId+_0x483c6e(0x616),currentLiveGameId),_0x1b33e4),currentStudentName=_0x455afb,listenForLiveGameUpdates();}catch(_0x417c90){console[_0x483c6e(0x5c2)](_0x483c6e(0x89e),_0x417c90),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x947e[_0x483c6e(0x278)]=![],_0x947e['innerHTML']='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x1549b7,_0x320850){const _0x4432cc=_0x2944ec,_0x35c615=document[_0x4432cc(0x299)](_0x4432cc(0x813));document['getElementById'](_0x4432cc(0xa5b))[_0x4432cc(0x391)]='แบบทดสอบ:\x20'+_0x320850,!_0x1549b7||_0x1549b7[_0x4432cc(0x33e)]===0x0?(_0x35c615[_0x4432cc(0x4a4)]=_0x4432cc(0x827),startQuizBtn[_0x4432cc(0x278)]=!![]):(_0x35c615['innerHTML']='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x1549b7['forEach'](_0x3120fd=>{const _0x421256=_0x4432cc,_0x4d30f2=document[_0x421256(0x84e)](_0x421256(0x788));_0x4d30f2[_0x421256(0x305)]=_0x3120fd,_0x4d30f2[_0x421256(0x391)]=_0x3120fd,_0x35c615[_0x421256(0xa37)](_0x4d30f2);}),startQuizBtn[_0x4432cc(0x278)]=![]),studentInitialView['classList']['add'](_0x4432cc(0x52f)),studentNameSelectionView[_0x4432cc(0x46e)][_0x4432cc(0x75d)](_0x4432cc(0x52f));}function shuffleArray(_0x26b8f3){const _0x58d39=_0x2944ec;for(let _0x46b53a=_0x26b8f3[_0x58d39(0x33e)]-0x1;_0x46b53a>0x0;_0x46b53a--){const _0x4142e1=Math[_0x58d39(0x66b)](Math[_0x58d39(0x891)]()*(_0x46b53a+0x1));[_0x26b8f3[_0x46b53a],_0x26b8f3[_0x4142e1]]=[_0x26b8f3[_0x4142e1],_0x26b8f3[_0x46b53a]];}}function getShuffledQuiz(_0x3f90b8){const _0x395a7f=_0x2944ec;let _0x1faf40=JSON[_0x395a7f(0x587)](JSON[_0x395a7f(0x23a)](_0x3f90b8));const _0x310bbe=_0x1faf40[_0x395a7f(0x2a4)]?.[_0x395a7f(0xa17)]||_0x395a7f(0x2c6);if(_0x310bbe===_0x395a7f(0x2c6))return _0x1faf40;return(_0x310bbe==='questions_only'||_0x310bbe===_0x395a7f(0x7bf))&&shuffleArray(_0x1faf40[_0x395a7f(0x256)]),(_0x310bbe===_0x395a7f(0x2d6)||_0x310bbe===_0x395a7f(0x7bf))&&_0x1faf40[_0x395a7f(0x256)]['forEach'](_0x3cb706=>{const _0x3466d8=_0x395a7f,_0x1ba93b=_0x3cb706[_0x3466d8(0x539)]||_0x1faf40[_0x3466d8(0x4f1)];if(_0x3cb706[_0x3466d8(0x29d)]){let _0x231bd4=_0x3cb706['options'][_0x3466d8(0x678)]((_0x597b46,_0x1c273b)=>({'text':_0x597b46,'isCorrect':_0x1c273b===_0x3cb706[_0x3466d8(0x36a)]}));shuffleArray(_0x231bd4),_0x3cb706[_0x3466d8(0x29d)]=_0x231bd4[_0x3466d8(0x678)](_0x2bf304=>_0x2bf304[_0x3466d8(0x62f)]),_0x3cb706[_0x3466d8(0x36a)]=_0x231bd4[_0x3466d8(0x7eb)](_0x5e664b=>_0x5e664b['isCorrect']);}_0x1ba93b===_0x3466d8(0x390)&&_0x3cb706[_0x3466d8(0x662)]&&shuffleArray(_0x3cb706['allResponses']);}),_0x1faf40;}function displayQuizForStudent(_0x465ae2){const _0x507494=_0x2944ec;studentQuizArea['classList'][_0x507494(0x75d)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x465ae2);currentMode!==_0x507494(0x850)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x507494(0x757)](_0x507494(0x675),handleFullscreenChange),document['addEventListener'](_0x507494(0x4cc),handleVisibilityChange),enterFullscreen(),window[_0x507494(0x757)](_0x507494(0x35e),resetDimTimer),window[_0x507494(0x757)]('mousedown',resetDimTimer),window[_0x507494(0x757)](_0x507494(0x702),resetDimTimer),window['addEventListener'](_0x507494(0x2d7),resetDimTimer),resetDimTimer());const _0x521e53=currentDisplayedQuiz[_0x507494(0x2a4)]?.[_0x507494(0x720)]||_0x507494(0x2c6);if(_0x521e53===_0x507494(0x742))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x507494(0x2a4)][_0x507494(0x764)]);else _0x521e53==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x20a07f=_0x2944ec;let _0x187d57=_0x20a07f(0x796)+currentDisplayedQuiz[_0x20a07f(0x67d)]+_0x20a07f(0x2a1)+(currentMode===_0x20a07f(0x850)?_0x20a07f(0x9cd):'')+_0x20a07f(0x6d2);currentDisplayedQuiz[_0x20a07f(0x256)]['forEach']((_0x4c93f0,_0x2924e)=>{const _0x9c73d6=_0x20a07f,_0xa54254=_0x4c93f0[_0x9c73d6(0x539)]||currentDisplayedQuiz[_0x9c73d6(0x4f1)];_0x187d57+=_0x9c73d6(0x770);_0xa54254===_0x9c73d6(0x390)?_0x187d57+=_0x9c73d6(0x8f7)+(_0x2924e+0x1)+'.\x20'+_0x4c93f0[_0x9c73d6(0xa65)]+_0x9c73d6(0x7a3)+_0x2924e+_0x9c73d6(0x3b1)+_0x4c93f0[_0x9c73d6(0x662)][_0x9c73d6(0x678)](_0x454e0c=>_0x9c73d6(0x4d9)+_0x454e0c+'\x22>'+_0x454e0c+_0x9c73d6(0x6e1))[_0x9c73d6(0x2b1)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a':(_0x187d57+='<p>'+(_0x2924e+0x1)+'.\x20'+(_0x4c93f0['instructions']||_0x4c93f0[_0x9c73d6(0x561)])+_0x9c73d6(0x5e2),_0x4c93f0[_0x9c73d6(0x44c)]&&(_0x187d57+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4c93f0['imageCode']+_0x9c73d6(0x98d)));_0x187d57+=_0x9c73d6(0x333);switch(_0xa54254){case _0x9c73d6(0x7df):_0x187d57+=_0x9c73d6(0x768)+_0x2924e+_0x9c73d6(0x8b4);break;case _0x9c73d6(0x71b):_0x187d57+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x2924e+_0x9c73d6(0x47d)+_0x2924e+_0x9c73d6(0x5d6)+_0x2924e+_0x9c73d6(0xa23),_0x187d57+=_0x9c73d6(0x5e9)+_0x2924e+_0x9c73d6(0x524)+_0x2924e+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x2924e+_0x9c73d6(0x8f8);break;case _0x9c73d6(0x390):break;case _0x9c73d6(0x291):case _0x9c73d6(0x503):default:_0x187d57+=_0x4c93f0[_0x9c73d6(0x29d)][_0x9c73d6(0x678)]((_0x49b7a2,_0x4b774e)=>_0x9c73d6(0x354)+_0x2924e+_0x9c73d6(0x9a7)+_0x4b774e+_0x9c73d6(0x50d)+_0x2924e+_0x9c73d6(0x5c5)+_0x4b774e+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x2924e+_0x9c73d6(0x9a7)+_0x4b774e+'\x22>'+_0x49b7a2+_0x9c73d6(0x5e6))[_0x9c73d6(0x2b1)]('');break;}_0x187d57+=_0x9c73d6(0xa05);}),_0x187d57+=_0x20a07f(0x25b),_0x187d57+='</form>',studentQuizArea[_0x20a07f(0x4a4)]=_0x187d57;if(currentMode===_0x20a07f(0x850)){const _0x56e0c0=document[_0x20a07f(0x299)](_0x20a07f(0x225));if(_0x56e0c0)_0x56e0c0['addEventListener'](_0x20a07f(0x9dc),cancelAdminTest);}document['getElementById'](_0x20a07f(0x33b))[_0x20a07f(0x757)]('submit',handleSubmitQuiz);if(window[_0x20a07f(0x432)])window[_0x20a07f(0x432)][_0x20a07f(0x690)]([studentQuizArea]);}async function handleSubmitQuiz(_0x3cd3e2){const _0x1c2ac5=_0x2944ec;if(_0x3cd3e2)_0x3cd3e2['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0xe84134=document[_0x1c2ac5(0x299)]('quiz-form');if(!_0xe84134)return;const _0x4ddfab=_0xe84134['querySelector'](_0x1c2ac5(0x780)),_0x380386=currentDisplayedQuiz[_0x1c2ac5(0x256)]['some'](_0x4e0481=>_0x4e0481[_0x1c2ac5(0x539)]===_0x1c2ac5(0x7df));_0x4ddfab&&(_0x4ddfab[_0x1c2ac5(0x278)]=!![],_0x380386?_0x4ddfab['innerHTML']=_0x1c2ac5(0x6d8):_0x4ddfab[_0x1c2ac5(0x4a4)]=_0x1c2ac5(0x429));const _0x59b615=new FormData(_0xe84134),_0x2503ba=currentDisplayedQuiz[_0x1c2ac5(0x256)][_0x1c2ac5(0x678)]((_0x3947bf,_0x20d98f)=>{const _0x289fec=_0x1c2ac5,_0x35a877=_0x3947bf[_0x289fec(0x539)]||currentDisplayedQuiz[_0x289fec(0x4f1)],_0x247ae1=_0x59b615[_0x289fec(0x5ea)](_0x289fec(0x8e4)+_0x20d98f);if(_0x247ae1!==null&&_0x247ae1!==undefined){if(_0x35a877===_0x289fec(0x503)||_0x35a877===_0x289fec(0x291))return parseInt(_0x247ae1);return _0x247ae1;}return null;}),_0x3e239e=currentQuizData['id'],_0x2c3dc6=doc(db,_0x1c2ac5(0x618)+appId+_0x1c2ac5(0x73f)+_0x3e239e+_0x1c2ac5(0x25a),currentStudentName),_0x570bce=await getDoc(_0x2c3dc6),_0x232293=_0x570bce[_0x1c2ac5(0x8b2)]()?_0x570bce['data']():{},_0x3da0fe=_0x232293[_0x1c2ac5(0x79d)]||[];await processAndSubmitAnswers(_0x2503ba,_0x3da0fe);}async function gradeShortAnswerWithAI(_0x260a48,_0x34058f){const _0x58a6e0=_0x2944ec;if(!_0x260a48||!_0x34058f)return![];try{const _0x3beb31=_0x58a6e0(0x9c7)+_0x260a48+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x34058f+_0x58a6e0(0x370),_0x140fbd={'contents':[{'role':_0x58a6e0(0x75a),'parts':[{'text':_0x3beb31}]}]},_0x2b5daa='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x5194ba='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x2b5daa,_0x49fc56=await fetch(_0x5194ba,{'method':_0x58a6e0(0x864),'headers':{'Content-Type':_0x58a6e0(0x1de)},'body':JSON['stringify'](_0x140fbd)});if(!_0x49fc56['ok'])throw new Error(_0x58a6e0(0x36f));const _0x269384=await _0x49fc56['json'](),_0x78c7e1=_0x269384[_0x58a6e0(0x806)][0x0][_0x58a6e0(0x558)][_0x58a6e0(0x3bb)][0x0][_0x58a6e0(0x62f)][_0x58a6e0(0x980)]()[_0x58a6e0(0x565)]();return _0x78c7e1===_0x58a6e0(0x605);}catch(_0x47a63f){return console[_0x58a6e0(0x5c2)](_0x58a6e0(0x5df),_0x47a63f),![];}}async function processAndSubmitAnswers(_0xfe0dd8,_0x3c90cf){const _0x57d788=_0x2944ec;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x57d788(0x954)]('fullscreenchange',handleFullscreenChange),document[_0x57d788(0x954)](_0x57d788(0x4cc),handleVisibilityChange);let _0x4cf115=0x0,_0x545f6c=0x0,_0x4edd32=[];const _0x417603=[],_0x30bbab=currentDisplayedQuiz[_0x57d788(0x256)][_0x57d788(0x33e)];let _0x553cc4=0x0;const _0x2fd549=currentDisplayedQuiz[_0x57d788(0x256)];for(let _0x1e0de3=0x0;_0x1e0de3<_0x2fd549[_0x57d788(0x33e)];_0x1e0de3++){const _0x4c4111=_0x2fd549[_0x1e0de3],_0x507579=_0xfe0dd8[_0x1e0de3],_0x23e898=_0x4c4111[_0x57d788(0x539)]||currentDisplayedQuiz['quizType'];let _0x145095=![];if(_0x507579!==null&&_0x507579!=='')switch(_0x23e898){case'matching_item':_0x145095=_0x507579===_0x4c4111['correctResponse'];break;case'true_false':const _0x486870=_0x507579===!![]||_0x507579===_0x57d788(0x605);_0x145095=_0x486870===_0x4c4111['correctAnswer'];break;case _0x57d788(0x291):case _0x57d788(0x503):default:_0x145095=Number(_0x507579)===_0x4c4111[_0x57d788(0x36a)];break;case _0x57d788(0x7df):_0x145095=await gradeShortAnswer(_0x507579,_0x4c4111);break;}_0x145095?(_0x4cf115++,_0x553cc4++,_0x553cc4===0x3&&(_0x4edd32[_0x57d788(0x53c)](BADGES[_0x57d788(0x5bc)]['id']),_0x553cc4=0x0)):_0x553cc4=0x0;let _0x382971=null;_0x4c4111[_0x57d788(0x29d)]&&_0x507579!==null&&(_0x382971=_0x4c4111[_0x57d788(0x29d)][_0x507579]),_0x417603[_0x57d788(0x53c)]({'questionId':_0x4c4111['id'],'answer':_0x507579,'answerText':_0x382971,'isCorrect':_0x145095,'originalQuestionText':_0x4c4111[_0x57d788(0xa65)]||_0x4c4111[_0x57d788(0x561)]});}_0x545f6c=_0x4cf115*0xa;_0x4cf115===_0x30bbab&&_0x30bbab>0x0&&!currentDisplayedQuiz['isRemedial']&&(_0x545f6c+=0x32,_0x4edd32[_0x57d788(0x53c)](BADGES[_0x57d788(0x7fc)]['id']));const _0x503122=currentDisplayedQuiz[_0x57d788(0x2a4)]?.[_0x57d788(0x4c2)]??Math[_0x57d788(0x66b)](_0x30bbab/0x2),_0x5918a6=currentDisplayedQuiz[_0x57d788(0x2a4)]?.['timerMode'];if(_0x5918a6===_0x57d788(0x742)&&quizStartTime){const _0x47b988=(new Date()-quizStartTime)/0x3e8,_0x12a51e=currentDisplayedQuiz['settings']['timerDuration']*0x3c;_0x4cf115>=_0x503122&&_0x47b988<_0x12a51e/0x2&&(_0x545f6c+=0x14,_0x4edd32[_0x57d788(0x53c)](BADGES[_0x57d788(0x5b1)]['id']));}_0x3c90cf[_0x57d788(0x33e)]===0x0&&_0x4cf115===_0x30bbab&&_0x30bbab>0x0&&_0x4edd32[_0x57d788(0x53c)](BADGES[_0x57d788(0x550)]['id']);if(_0x3c90cf[_0x57d788(0x33e)]>0x0){const _0x6b5c15=_0x3c90cf[0x0]['score'];if(_0x6b5c15<_0x503122&&_0x4cf115>=_0x503122){const _0x2b2603=_0x3c90cf[_0x57d788(0x44d)](_0x1af5a6=>(_0x1af5a6[_0x57d788(0x738)]||[])['includes'](BADGES[_0x57d788(0x5ce)]['id']));!_0x2b2603&&_0x4edd32[_0x57d788(0x53c)](BADGES[_0x57d788(0x5ce)]['id']);}}_0x3c90cf[_0x57d788(0x33e)]===0x4&&_0x4edd32[_0x57d788(0x53c)](BADGES[_0x57d788(0x9b6)]['id']);const _0x2f8272=currentDisplayedQuiz[_0x57d788(0x2a4)][_0x57d788(0x3aa)];if(currentMode===_0x57d788(0x850)){handleResultDisplay(_0x2f8272,_0x4cf115,_0x545f6c,_0x4edd32,_0x417603,_0x30bbab);return;}const _0x2110a6=currentQuizData['id'],_0x45c539=doc(db,'artifacts/'+appId+_0x57d788(0x73f)+_0x2110a6+_0x57d788(0x25a),currentStudentName);try{const _0x4dd001=[..._0x3c90cf],_0x3a89d2={'score':_0x4cf115,'points':_0x545f6c,'badges':_0x4edd32,'submittedAt':new Date()[_0x57d788(0x3bc)](),'answers':_0x417603};_0x4dd001[_0x57d788(0x53c)](_0x3a89d2);const _0x1b3f27=_0x4dd001[0x0][_0x57d788(0x986)],_0x455dc8=Math[_0x57d788(0x482)](..._0x4dd001[_0x57d788(0x678)](_0x2c2b50=>_0x2c2b50[_0x57d788(0x986)])),_0x13d1e1=_0x4cf115,_0x304dd7=_0x3a89d2[_0x57d788(0x639)];await setDoc(_0x45c539,{'studentName':currentStudentName,'totalQuestions':_0x30bbab,'attempts':_0x4dd001,'firstScore':_0x1b3f27,'bestScore':_0x455dc8,'latestScore':_0x13d1e1,'points':_0x545f6c,'latestSubmittedAt':_0x304dd7},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x57d788(0x80d)],currentStudentName),handleResultDisplay(_0x2f8272,_0x4cf115,_0x545f6c,_0x4edd32,_0x417603,_0x30bbab);}catch(_0x143bae){console['error']('Error\x20saving\x20submission:',_0x143bae),showMessage(_0x57d788(0x910));}}async function updateStudentProfile(_0x32f3b0,_0x4551e4){const _0x16dda3=_0x2944ec,_0x4ec9ee=doc(db,'artifacts/'+appId+_0x16dda3(0x5cc)+_0x32f3b0+_0x16dda3(0x34b),_0x4551e4);try{const _0x10280c=query(collection(db,_0x16dda3(0x618)+appId+'/public/data/quizzes'),where(_0x16dda3(0x80d),'==',_0x32f3b0)),_0x212081=await getDocs(_0x10280c),_0x23f6f0=new Map(_0x212081[_0x16dda3(0x75e)][_0x16dda3(0x678)](_0x5303e0=>[_0x5303e0['id'],_0x5303e0['data']()])),_0x942d1b=Array[_0x16dda3(0x4cd)](_0x23f6f0[_0x16dda3(0x426)]());await runTransaction(db,async _0x4f4d78=>{const _0x5ea025=_0x16dda3;let _0x454b34=0x0;const _0x4e087e={};let _0x1f5ace=!![],_0x215adf=0x0,_0x4f0d27=0x0;for(const _0xd8bd35 of _0x942d1b){const _0x47cb3e=_0x23f6f0[_0x5ea025(0x5ea)](_0xd8bd35),_0x490f40=doc(db,_0x5ea025(0x618)+appId+_0x5ea025(0x73f)+_0xd8bd35+_0x5ea025(0x25a),_0x4551e4),_0xd3c6b0=await _0x4f4d78[_0x5ea025(0x5ea)](_0x490f40);if(_0xd3c6b0[_0x5ea025(0x8b2)]()){const _0x313443=_0xd3c6b0[_0x5ea025(0x719)](),_0xee02bf=_0x313443[_0x5ea025(0x79d)]||[];if(_0xee02bf[_0x5ea025(0x33e)]>0x0){const _0x502f1d=_0xee02bf[_0x5ea025(0x54c)]((_0x2bd77b,_0x3e3130)=>{const _0x72230c=_0x5ea025;if(_0x3e3130[_0x72230c(0x986)]>_0x2bd77b['score'])return _0x3e3130;if(_0x3e3130[_0x72230c(0x986)]===_0x2bd77b[_0x72230c(0x986)])return(_0x3e3130['points']||0x0)>(_0x2bd77b[_0x72230c(0x697)]||0x0)?_0x3e3130:_0x2bd77b;return _0x2bd77b;},{'score':-0x1,'points':-0x1});_0x502f1d[_0x5ea025(0x986)]>-0x1&&(_0x454b34+=_0x502f1d[_0x5ea025(0x697)]||0x0,(_0x502f1d[_0x5ea025(0x738)]||[])[_0x5ea025(0x9ef)](_0xd0e536=>{_0x4e087e[_0xd0e536]=(_0x4e087e[_0xd0e536]||0x0)+0x1;}));}}if(_0x47cb3e[_0x5ea025(0x67d)]!==_0x5ea025(0x386)){_0x4f0d27++;if(_0xd3c6b0[_0x5ea025(0x8b2)]()){_0x215adf++;const _0x5f40dd=_0xd3c6b0[_0x5ea025(0x719)]();_0x5f40dd['bestScore']!==_0x5f40dd['totalQuestions']&&(_0x1f5ace=![]);}else _0x1f5ace=![];}}_0x4f0d27>0x0&&_0x215adf===_0x4f0d27&&_0x1f5ace?_0x4e087e[_0x5ea025(0x3eb)]=0x1:_0x4e087e['specialist']=0x0,_0x4f4d78[_0x5ea025(0x634)](_0x4ec9ee,{'studentName':_0x4551e4,'totalPoints':_0x454b34,'unlockedBadges':Object[_0x5ea025(0x426)](_0x4e087e)[_0x5ea025(0x904)](_0x3b2897=>_0x4e087e[_0x3b2897]>0x0),'badgesCount':_0x4e087e},{'merge':!![]});});}catch(_0x544719){console[_0x16dda3(0x5c2)](_0x16dda3(0x34d),_0x544719),showMessage(_0x16dda3(0x78a));}}function startAdminTest(){const _0x41233c=_0x2944ec;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x56ac70=JSON[_0x41233c(0x587)](JSON[_0x41233c(0x23a)](currentQuizData));currentMode=_0x41233c(0x850),currentStudentName=_0x41233c(0xa71),adminView['classList'][_0x41233c(0x5af)](_0x41233c(0x52f)),studentView[_0x41233c(0x46e)][_0x41233c(0x75d)](_0x41233c(0x52f)),studentInitialView['classList'][_0x41233c(0x5af)]('hidden'),studentNameSelectionView[_0x41233c(0x46e)][_0x41233c(0x5af)](_0x41233c(0x52f)),studentResultArea[_0x41233c(0x46e)][_0x41233c(0x5af)](_0x41233c(0x52f)),studentQuizArea[_0x41233c(0x46e)][_0x41233c(0x75d)](_0x41233c(0x52f)),quizStartTime=new Date(),displayQuizForStudent(_0x56ac70);}function handleResultDisplay(_0x4325fb,_0x26f6bb,_0x2df5a6,_0x2fe726,_0x17ed7d,_0x94ef19){const _0x43092e=_0x2944ec;if(_0x4325fb==='manual_release'){displaySubmissionConfirmation();return;}const _0x919ffa=currentDisplayedQuiz['settings']?.['passingScore']??Math[_0x43092e(0x66b)](_0x94ef19/0x2),_0x5aa7c8=currentDisplayedQuiz[_0x43092e(0x2a4)]?.['isAdaptive']??![],_0x56bb19=currentDisplayedQuiz[_0x43092e(0x2a4)]?.['loopUntilPass']===!![],_0x87f5a2=_0x26f6bb<_0x919ffa,_0x5dfd1c=_0x4325fb===_0x43092e(0x3c5)||_0x4325fb==='perfect_score_status';if(_0x56bb19&&_0x87f5a2&&!_0x5dfd1c){_0x4325fb===_0x43092e(0x4af)?displayResultsWithAnswers(_0x26f6bb,_0x2df5a6,_0x2fe726,_0x17ed7d,_0x94ef19,!![]):displayLoopScreen(_0x26f6bb,_0x94ef19,_0x4325fb);return;}if(_0x5aa7c8&&_0x87f5a2){startAdaptiveFlow(_0x17ed7d,_0x26f6bb,_0x94ef19);return;}switch(_0x4325fb){case _0x43092e(0x4af):displayResultsWithAnswers(_0x26f6bb,_0x2df5a6,_0x2fe726,_0x17ed7d,_0x94ef19);break;case _0x43092e(0x763):displayResultsScoreOnly(_0x26f6bb,_0x2df5a6,_0x2fe726,_0x94ef19);break;case _0x43092e(0x7fb):displayPassFailOnly(_0x26f6bb,_0x94ef19);break;case _0x43092e(0x3c5):displayHalfMarkResult(_0x26f6bb,_0x94ef19);break;case'perfect_score_status':displayPerfectScoreResult(_0x26f6bb,_0x94ef19);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x393f4e){const _0x201252=_0x2944ec;studentReadingArea[_0x201252(0x4a4)]=_0x201252(0xa0e);const _0x5cdbc4=_0x201252(0x3e9)+_0x393f4e+_0x201252(0x20b)+simpleMathPrompt+_0x201252(0x7da),_0x1d637f={'type':_0x201252(0x81a),'properties':{'questionText':{'type':_0x201252(0x224)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x201252(0x86e)},'explanation':{'type':_0x201252(0x224)}},'required':[_0x201252(0x561),_0x201252(0x29d),_0x201252(0x36a),_0x201252(0x3c8)]},_0x1d14f8={'type':_0x201252(0x81a),'properties':{'topic':{'type':_0x201252(0x224)},'questions':{'type':'ARRAY','items':_0x1d637f}},'required':['topic',_0x201252(0x256)]};try{const _0x38dc25=await callAnalysisApi(_0x5cdbc4,_0x1d14f8);_0x38dc25['isRemedial']=!![],studentReadingArea['classList']['add'](_0x201252(0x52f));const _0x54587e={...currentDisplayedQuiz[_0x201252(0x2a4)],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x38dc25[_0x201252(0x2a4)]=_0x54587e,displayQuizForStudent(_0x38dc25);}catch(_0x314954){console['error'](_0x201252(0x588),_0x314954),showMessage(_0x201252(0x435)),showView('student');}}function displayPassFailOnly(_0x3005f1,_0x33df86){const _0x57190a=_0x2944ec,_0x3d332d=currentDisplayedQuiz['settings']?.[_0x57190a(0x4c2)]??-0x1,_0x1ba04e=currentDisplayedQuiz[_0x57190a(0x294)]===!![];let _0x569356='',_0x5a657d=![];if(_0x1ba04e||_0x3d332d!==-0x1){_0x5a657d=_0x1ba04e?_0x3005f1===_0x33df86:_0x3005f1>=_0x3d332d;const _0x5056ae=_0x5a657d?'bg-green-100\x20text-green-800':_0x57190a(0x4b8),_0x5a10a4=_0x5a657d?_0x57190a(0x325):_0x57190a(0x8a6);_0x569356=_0x57190a(0x988)+_0x5056ae+'\x22>'+_0x5a10a4+_0x57190a(0x7e7);}else _0x569356=_0x57190a(0x9b1);let _0x205c11=_0x57190a(0x259)+currentStudentName+_0x57190a(0x287)+_0x569356+_0x57190a(0x3fe);studentResultArea[_0x57190a(0x4a4)]=_0x205c11,studentResultArea[_0x57190a(0x46e)]['remove'](_0x57190a(0x52f)),studentQuizArea['classList'][_0x57190a(0x5af)]('hidden'),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x5a657d});}function cancelAdminTest(){const _0x280d05=_0x2944ec;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener']('fullscreenchange',handleFullscreenChange),document[_0x280d05(0x954)](_0x280d05(0x4cc),handleVisibilityChange),currentMode=_0x280d05(0x497),studentView[_0x280d05(0x46e)][_0x280d05(0x5af)](_0x280d05(0x52f)),adminView['classList'][_0x280d05(0x75d)](_0x280d05(0x52f)),showView(_0x280d05(0x369));}function setupResultScreenBackButton(_0x235634){const _0x153811=_0x2944ec,_0x21bfeb={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x235634};if(_0x21bfeb[_0x153811(0x35b)]){const _0x2c4264='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea['insertAdjacentHTML'](_0x153811(0x540),_0x2c4264),document['getElementById']('retake-quiz-loop-btn')[_0x153811(0x757)](_0x153811(0x9dc),()=>{const _0x418876=_0x153811;studentResultArea[_0x418876(0x46e)]['add'](_0x418876(0x52f)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x11931d=_0x153811(0x40d),_0x49feca=currentMode==='admin-testing',_0x3b4418=_0x49feca?_0x153811(0x3a5):_0x153811(0x4b3);let _0x5d34cb='';_0x21bfeb[_0x153811(0x33c)]&&(_0x5d34cb+=_0x153811(0x9a3));let _0x17f7a3=_0x21bfeb['showImproveButton'];_0x17f7a3===undefined&&(_0x17f7a3=_0x21bfeb[_0x153811(0x986)]<_0x21bfeb[_0x153811(0x3fb)]);_0x17f7a3&&(_0x5d34cb+=_0x153811(0x6be));_0x5d34cb+=_0x153811(0x5f8)+_0x11931d+_0x153811(0x7ee)+_0x3b4418+_0x153811(0x2ea);const _0x409221=_0x153811(0x914)+_0x5d34cb+_0x153811(0x98d);studentResultArea[_0x153811(0x75b)](_0x153811(0x540),_0x409221),studentResultArea['querySelector'](_0x153811(0x8f9))?.[_0x153811(0x757)](_0x153811(0x9dc),handleShowStudentRankings);const _0x26911d=studentResultArea[_0x153811(0x775)](_0x153811(0x2ae));_0x26911d&&_0x26911d[_0x153811(0x757)](_0x153811(0x9dc),()=>{const _0x1780d6=_0x153811;studentResultArea[_0x1780d6(0x46e)][_0x1780d6(0x5af)](_0x1780d6(0x52f)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x153811(0x299)](_0x11931d)[_0x153811(0x757)]('click',()=>{const _0x357c4b=_0x153811;_0x49feca?(currentMode=_0x357c4b(0x497),studentView[_0x357c4b(0x46e)][_0x357c4b(0x5af)](_0x357c4b(0x52f)),adminView[_0x357c4b(0x46e)][_0x357c4b(0x75d)]('hidden'),showView(_0x357c4b(0x369))):(showView(_0x357c4b(0x5ac)),document['getElementById'](_0x357c4b(0x68b))['value']='');});}function displayResultsWithAnswers(_0x7d60fd,_0x50fa76,_0x549be5,_0x41f446,_0x112bb3,_0x25fab6=![]){const _0x482fd6=_0x2944ec,_0x23bfea=_0x112bb3>0x0?_0x7d60fd/_0x112bb3*0x64:0x0,_0x177117=currentDisplayedQuiz[_0x482fd6(0x2a4)]?.['passingScore']??-0x1,_0x15ca0f=currentDisplayedQuiz[_0x482fd6(0x294)]===!![];let _0xb627a2='';if(_0x15ca0f||_0x177117!==-0x1){let _0x52e2ca=_0x15ca0f?_0x7d60fd===_0x112bb3:_0x7d60fd>=_0x177117;const _0x362965=_0x52e2ca?_0x482fd6(0x4a8):_0x482fd6(0x4b8),_0x5779ba=_0x52e2ca?_0x482fd6(0x325):_0x482fd6(0x8a6);_0xb627a2=_0x482fd6(0x60b)+_0x362965+'\x22>'+_0x5779ba+_0x482fd6(0x5e2);}let _0x31315a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x482fd6(0x8f4)+_0x7d60fd+_0x482fd6(0x884)+_0x112bb3+_0x482fd6(0x2cc)+_0xb627a2+_0x482fd6(0x98b)+_0x50fa76+_0x482fd6(0x33a)+_0x23bfea['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x482fd6(0x256)][_0x482fd6(0x9ef)]((_0x138a89,_0x593f84)=>{const _0x59c980=_0x482fd6,_0x58f984=_0x41f446[_0x593f84],_0x83b81=_0x58f984['answer'],_0x30e4ec=_0x58f984[_0x59c980(0x29f)],_0x119f9a=_0x138a89[_0x59c980(0x539)]||currentDisplayedQuiz[_0x59c980(0x4f1)];_0x31315a+=_0x59c980(0x6b6)+(_0x30e4ec?_0x59c980(0x7c3):_0x59c980(0x7c5))+_0x59c980(0x5de)+(_0x593f84+0x1)+'.\x20'+(_0x138a89[_0x59c980(0xa65)]||_0x138a89[_0x59c980(0x561)])+_0x59c980(0x924);switch(_0x119f9a){case _0x59c980(0x390):const _0x517b81=_0x83b81||'ไม่ได้ตอบ',_0x326d10=_0x138a89[_0x59c980(0x826)];_0x31315a+=_0x59c980(0x1f5)+(!_0x30e4ec?_0x59c980(0x58d):'')+'\x22>'+_0x517b81+_0x59c980(0x63d);!_0x30e4ec&&(_0x31315a+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x326d10+'</p>');break;case _0x59c980(0x7df):_0x31315a+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x83b81||_0x59c980(0xa4b))+'</p>',_0x31315a+=_0x59c980(0x5b4)+_0x138a89['idealAnswer']+_0x59c980(0x5e2);break;case _0x59c980(0x71b):_0x31315a+=_0x59c980(0x737)+(_0x138a89[_0x59c980(0x83d)]===!![]?_0x59c980(0x8ec):'')+'\x20'+(_0x83b81===_0x59c980(0x605)&&!_0x30e4ec?_0x59c980(0x58d):'')+_0x59c980(0x514),_0x31315a+='<p\x20class=\x22'+(_0x138a89[_0x59c980(0x83d)]===![]?_0x59c980(0x8ec):'')+'\x20'+(_0x83b81===_0x59c980(0xa60)&&!_0x30e4ec?_0x59c980(0x58d):'')+_0x59c980(0x855);break;default:_0x31315a+=_0x138a89[_0x59c980(0x29d)][_0x59c980(0x678)]((_0x194f21,_0x57f2a1)=>{const _0x2e53c4=_0x59c980;let _0x24c3ae='',_0x208d60='';if(_0x57f2a1===_0x138a89[_0x2e53c4(0x36a)])_0x24c3ae=_0x2e53c4(0x8ec),_0x208d60=_0x2e53c4(0x9b2);else _0x57f2a1===_0x83b81&&(_0x24c3ae=_0x2e53c4(0x337),_0x208d60='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x2e53c4(0x8e0)+_0x24c3ae+'\x22>'+_0x208d60+_0x194f21+_0x2e53c4(0x98d);})[_0x59c980(0x2b1)]('');break;}_0x31315a+=_0x59c980(0x28c)+(_0x138a89[_0x59c980(0x3c8)]||'ไม่มีคำอธิบาย')+_0x59c980(0x98d);if(!_0x30e4ec){const _0x4efd29=_0x138a89[_0x59c980(0xa65)]||_0x138a89[_0x59c980(0x561)];_0x31315a+=_0x59c980(0xa6a)+escape(_0x4efd29)+_0x59c980(0x664);}_0x31315a+=_0x59c980(0x98d);}),studentResultArea[_0x482fd6(0x4a4)]=_0x31315a,renderEarnedBadges(_0x549be5,_0x482fd6(0x9d1)),studentResultArea['classList'][_0x482fd6(0x75d)]('hidden'),studentQuizArea['classList'][_0x482fd6(0x5af)](_0x482fd6(0x52f)),setupResultScreenBackButton({'isLooping':_0x25fab6,'score':_0x7d60fd,'totalQuestions':_0x112bb3,'showRankings':!![]});if(window[_0x482fd6(0x432)])window[_0x482fd6(0x432)]['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x3b9fc7,_0x368aa8,_0x2f3392,_0x5e0e8b){const _0xfbbee7=_0x2944ec,_0x14fb5b=_0x5e0e8b>0x0?_0x3b9fc7/_0x5e0e8b*0x64:0x0,_0x393ae6=currentDisplayedQuiz[_0xfbbee7(0x2a4)]?.[_0xfbbee7(0x4c2)]??-0x1,_0x120e5b=currentDisplayedQuiz[_0xfbbee7(0x294)]===!![];let _0x1845f7='';if(_0x120e5b||_0x393ae6!==-0x1){let _0x354f7d=_0x120e5b?_0x3b9fc7===_0x5e0e8b:_0x3b9fc7>=_0x393ae6;const _0x5ce085=_0x354f7d?_0xfbbee7(0x4a8):'bg-red-100\x20text-red-800',_0x5667a6=_0x354f7d?'ผ่าน':_0xfbbee7(0x8a6);_0x1845f7=_0xfbbee7(0x60b)+_0x5ce085+'\x22>'+_0x5667a6+_0xfbbee7(0x5e2);}let _0x1c8c20='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0xfbbee7(0xa19)+_0x3b9fc7+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x5e0e8b+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1845f7+_0xfbbee7(0x98b)+_0x368aa8+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x14fb5b['toFixed'](0x0)+_0xfbbee7(0x647);studentResultArea[_0xfbbee7(0x4a4)]=_0x1c8c20,renderEarnedBadges(_0x2f3392,_0xfbbee7(0x9d1)),studentResultArea['classList']['remove']('hidden'),studentQuizArea[_0xfbbee7(0x46e)]['add'](_0xfbbee7(0x52f)),setupResultScreenBackButton({'score':_0x3b9fc7,'totalQuestions':_0x5e0e8b,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x108004=_0x2944ec;let _0x5dcea8=_0x108004(0x816)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x108004(0x4a4)]=_0x5dcea8,studentResultArea[_0x108004(0x46e)][_0x108004(0x75d)](_0x108004(0x52f)),studentQuizArea[_0x108004(0x46e)]['add']('hidden'),document['getElementById'](_0x108004(0x8ed))[_0x108004(0x757)](_0x108004(0x9dc),()=>{const _0xe68c16=_0x108004;showView(_0xe68c16(0x5ac)),document['getElementById'](_0xe68c16(0x68b))[_0xe68c16(0x305)]='';});}function renderEarnedBadges(_0x23c340,_0x2b0721){const _0x2295e8=_0x2944ec,_0x78b0a9=document[_0x2295e8(0x299)](_0x2b0721);if(!_0x78b0a9||!_0x23c340||_0x23c340[_0x2295e8(0x33e)]===0x0)return;let _0x33be8c='';_0x23c340['forEach']((_0xf95590,_0x99df34)=>{const _0x4bd119=_0x2295e8,_0x71a1f4=Object[_0x4bd119(0x670)](BADGES)[_0x4bd119(0x238)](_0x3bf921=>_0x3bf921['id']===_0xf95590);_0x71a1f4&&(_0x33be8c+=_0x4bd119(0x867)+_0x99df34*0.2+'s;\x22\x20title=\x22'+_0x71a1f4[_0x4bd119(0x68f)]+_0x4bd119(0x86d)+_0x71a1f4[_0x4bd119(0x375)]+_0x4bd119(0x2d8)+_0x71a1f4[_0x4bd119(0x799)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x78b0a9[_0x2295e8(0x4a4)]=_0x33be8c;}function startPresentation(_0x500d2d){const _0x295925=_0x2944ec;currentQuizData=getShuffledQuiz(_0x500d2d),currentPresentationSlide=0x0,presentationModal[_0x295925(0x5c1)][_0x295925(0x828)]=_0x295925(0x1fe),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x3abd66=_0x2944ec;document[_0x3abd66(0x290)]&&document[_0x3abd66(0x60f)](),presentationModal[_0x3abd66(0x5c1)][_0x3abd66(0x828)]=_0x3abd66(0x2c6);}function renderPresentationSlide(_0x559499){const _0x4dedfa=_0x2944ec,_0x363567=document[_0x4dedfa(0x299)]('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0x4dedfa(0x256)]||!currentQuizData['questions'][_0x559499]){_0x363567[_0x4dedfa(0x4a4)]=_0x4dedfa(0x249);return;}const _0x32896a=currentQuizData['questions'][_0x559499],_0x2830c5=_0x32896a[_0x4dedfa(0x539)]||currentQuizData[_0x4dedfa(0x4f1)];_0x363567['innerHTML']='';let _0x6afccc=_0x4dedfa(0x532)+(_0x32896a[_0x4dedfa(0x44c)]?_0x4dedfa(0x973)+_0x32896a['imageCode']+'</div>':'')+_0x4dedfa(0x630)+(_0x559499+0x1)+'.\x20'+(_0x32896a[_0x4dedfa(0xa65)]||_0x32896a[_0x4dedfa(0x561)])+_0x4dedfa(0x4c5);switch(_0x2830c5){case'matching_item':_0x6afccc+=_0x32896a[_0x4dedfa(0x662)][_0x4dedfa(0x678)](_0x3514b4=>_0x4dedfa(0x73c)+_0x3514b4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4dedfa(0x2b1)]('');break;case _0x4dedfa(0x71b):_0x6afccc+=_0x4dedfa(0x78f),_0x6afccc+=_0x4dedfa(0x614);break;case'fill_in_no_choices':case'short_answer':_0x6afccc+=_0x4dedfa(0x439);break;case _0x4dedfa(0x291):case'multiple_choice':default:_0x6afccc+=_0x32896a['options'][_0x4dedfa(0x678)]((_0x3ad1fd,_0x1a7999)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x1a7999+_0x4dedfa(0x944)+_0x3ad1fd+_0x4dedfa(0x7ac))[_0x4dedfa(0x2b1)]('');break;}_0x6afccc+=_0x4dedfa(0x1d8)+(_0x32896a[_0x4dedfa(0x3c8)]||'ไม่มีคำอธิบาย')+_0x4dedfa(0x4c3),_0x363567[_0x4dedfa(0x4a4)]=_0x6afccc;if(window['MathJax'])window[_0x4dedfa(0x432)]['typesetPromise']([_0x363567]);let _0x253216=[];switch(_0x2830c5){case _0x4dedfa(0x390):_0x253216=_0x32896a[_0x4dedfa(0x662)]||[];break;case'true_false':_0x253216=['ใช่',_0x4dedfa(0x4c7)];break;default:_0x253216=_0x32896a[_0x4dedfa(0x29d)]||[];break;}const _0x3a9e2d=document['getElementById'](_0x4dedfa(0x4b5));_0x3a9e2d&&(_0x3a9e2d['onclick']=()=>{openScratchpad(_0x32896a,_0x253216);});document[_0x4dedfa(0x921)](_0x4dedfa(0x2c9))[_0x4dedfa(0x9ef)](_0x198c00=>{const _0xb69274=_0x4dedfa;_0x198c00[_0xb69274(0x757)](_0xb69274(0x9dc),_0xee8cda=>revealAnswerForPresentation(_0x559499,_0xee8cda[_0xb69274(0x730)]));});const _0x3d150b=document[_0x4dedfa(0x299)](_0x4dedfa(0x2e0));_0x3d150b&&_0x3d150b[_0x4dedfa(0x757)](_0x4dedfa(0x9dc),()=>checkShortAnswerForPresentation(_0x559499)),document[_0x4dedfa(0x299)](_0x4dedfa(0x235))[_0x4dedfa(0x391)]=_0x4dedfa(0x8bf)+(_0x559499+0x1)+_0x4dedfa(0x362)+currentQuizData[_0x4dedfa(0x256)][_0x4dedfa(0x33e)],document[_0x4dedfa(0x299)]('prev-question-btn')[_0x4dedfa(0x278)]=_0x559499===0x0,document['getElementById'](_0x4dedfa(0x7b9))[_0x4dedfa(0x278)]=_0x559499===currentQuizData['questions'][_0x4dedfa(0x33e)]-0x1;}async function checkShortAnswerForPresentation(_0x4da7b1){const _0x529e40=_0x2944ec,_0x3fed51=currentQuizData[_0x529e40(0x256)][_0x4da7b1],_0x2f4f86=document[_0x529e40(0x299)]('presentation-short-answer-input'),_0x37bcaf=document['getElementById']('check-presentation-answer-btn'),_0x13c3b8=document[_0x529e40(0x299)](_0x529e40(0x94f)),_0x40c5d6=document['getElementById'](_0x529e40(0x7d2));if(!_0x2f4f86||!_0x37bcaf||!_0x13c3b8||!_0x40c5d6)return;const _0x34a613=_0x2f4f86[_0x529e40(0x305)][_0x529e40(0x980)]();if(_0x34a613==='')return;_0x37bcaf['disabled']=!![],_0x37bcaf[_0x529e40(0x4a4)]=_0x529e40(0x37d),_0x2f4f86[_0x529e40(0x278)]=!![];const _0x50824f=await gradeShortAnswer(_0x34a613,_0x3fed51);_0x50824f?_0x13c3b8[_0x529e40(0x4a4)]=_0x529e40(0x7d6):_0x13c3b8[_0x529e40(0x4a4)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x3fed51['idealAnswer']+')',_0x13c3b8[_0x529e40(0x46e)][_0x529e40(0x75d)](_0x529e40(0x52f)),_0x40c5d6[_0x529e40(0x46e)][_0x529e40(0x75d)](_0x529e40(0x52f)),_0x37bcaf[_0x529e40(0x46e)][_0x529e40(0x5af)](_0x529e40(0x52f));}function revealAnswerForPresentation(_0x534733,_0x38224e){const _0x16a50c=_0x2944ec,_0xb864c5=currentQuizData[_0x16a50c(0x256)][_0x534733],_0x324f8b=_0xb864c5[_0x16a50c(0x539)]||currentQuizData[_0x16a50c(0x4f1)];document['querySelectorAll'](_0x16a50c(0x2c9))[_0x16a50c(0x9ef)](_0x29b905=>{const _0x5d2ec8=_0x16a50c;_0x29b905[_0x5d2ec8(0x278)]=!![],_0x29b905[_0x5d2ec8(0x46e)][_0x5d2ec8(0x75d)](_0x5d2ec8(0x8a4));let _0x29516e=![];if(_0x324f8b==='multiple_choice'||_0x324f8b===_0x5d2ec8(0x291)){const _0x28db5e=parseInt(_0x29b905[_0x5d2ec8(0x574)][_0x5d2ec8(0x310)]);_0x29516e=_0x28db5e===_0xb864c5[_0x5d2ec8(0x36a)];}else{if(_0x324f8b===_0x5d2ec8(0x71b)){const _0x334659=_0x29b905[_0x5d2ec8(0x574)][_0x5d2ec8(0x7a9)]===_0x5d2ec8(0x605);_0x29516e=_0x334659===_0xb864c5['correctAnswer'];}else _0x324f8b===_0x5d2ec8(0x390)&&(_0x29516e=_0x29b905[_0x5d2ec8(0x391)][_0x5d2ec8(0x980)]()===_0xb864c5[_0x5d2ec8(0x826)]);}_0x29516e?_0x29b905[_0x5d2ec8(0x46e)][_0x5d2ec8(0x5af)](_0x5d2ec8(0x8e9),'text-white',_0x5d2ec8(0xa58)):_0x29b905[_0x5d2ec8(0x46e)][_0x5d2ec8(0x5af)](_0x5d2ec8(0x8e8));}),_0x38224e[_0x16a50c(0x46e)][_0x16a50c(0x75d)](_0x16a50c(0x8e8));let _0x5ced48=![];if(_0x324f8b===_0x16a50c(0x503))_0x5ced48=parseInt(_0x38224e['dataset'][_0x16a50c(0x310)])===_0xb864c5['correctAnswerIndex'];else{if(_0x324f8b===_0x16a50c(0x71b))_0x5ced48=_0x38224e['dataset'][_0x16a50c(0x7a9)]==='true'===_0xb864c5[_0x16a50c(0x83d)];else _0x324f8b===_0x16a50c(0x390)&&(_0x5ced48=_0x38224e['textContent']['trim']()===_0xb864c5['correctResponse']);}!_0x5ced48&&_0x38224e[_0x16a50c(0x46e)][_0x16a50c(0x5af)]('bg-red-500','text-white',_0x16a50c(0x51b)),document[_0x16a50c(0x299)](_0x16a50c(0x7d2))[_0x16a50c(0x46e)][_0x16a50c(0x75d)]('hidden');}function startWholeQuizTimer(_0x46d156){const _0x1ee599=_0x2944ec,_0x47d376=document['getElementById']('timer-container');if(!_0x47d376)return;const _0x4d5d5b=Date[_0x1ee599(0x9a2)]()+_0x46d156*0x3c*0x3e8;_0x47d376[_0x1ee599(0x4a4)]=_0x1ee599(0x90f);const _0x37ef64=document['getElementById'](_0x1ee599(0x8c0));quizTimerInterval=setInterval(()=>{const _0x473ba8=_0x1ee599,_0xf6b30e=_0x4d5d5b-Date['now']();if(_0xf6b30e<=0x0)clearInterval(quizTimerInterval),_0x37ef64[_0x473ba8(0x391)]='00:00',showMessage(_0x473ba8(0x2c4)),handleSubmitQuiz(null);else{const _0x5887c9=Math['floor'](_0xf6b30e/0x3e8/0x3c%0x3c)[_0x473ba8(0x6f3)]()[_0x473ba8(0xa52)](0x2,'0'),_0x590617=Math['floor'](_0xf6b30e/0x3e8%0x3c)[_0x473ba8(0x6f3)]()[_0x473ba8(0xa52)](0x2,'0');_0x37ef64['textContent']=_0x5887c9+':'+_0x590617;}},0x3e8);}function renderPerQuestionView(){const _0x1ae79c=_0x2944ec;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x186835=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x57ac9b=_0x186835[_0x1ae79c(0x539)]||currentDisplayedQuiz['quizType'];let _0x387c27='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x1ae79c(0x4bc)+currentDisplayedQuiz[_0x1ae79c(0x256)][_0x1ae79c(0x33e)]+_0x1ae79c(0x226)+(currentMode==='admin-testing'?_0x1ae79c(0x9cd):'')+_0x1ae79c(0x62a)+currentDisplayedQuiz[_0x1ae79c(0x67d)]+_0x1ae79c(0x7e8)+(currentQuestionIndex===currentDisplayedQuiz[_0x1ae79c(0x256)][_0x1ae79c(0x33e)]-0x1?_0x1ae79c(0x509):_0x1ae79c(0x899))+_0x1ae79c(0xa5a);studentQuizArea[_0x1ae79c(0x4a4)]=_0x387c27;let _0xa30323='',_0x3e7f87='';switch(_0x57ac9b){case _0x1ae79c(0x390):_0xa30323=currentQuestionIndex+0x1+'.\x20'+_0x186835[_0x1ae79c(0xa65)],_0x3e7f87=_0x1ae79c(0x900)+_0x186835[_0x1ae79c(0x662)][_0x1ae79c(0x678)](_0x1e36c7=>_0x1ae79c(0x4d9)+_0x1e36c7+'\x22>'+_0x1e36c7+_0x1ae79c(0x6e1))['join']('')+_0x1ae79c(0x267);break;case _0x1ae79c(0x71b):_0xa30323=currentQuestionIndex+0x1+'.\x20'+_0x186835[_0x1ae79c(0x561)],_0x3e7f87=_0x1ae79c(0x2e2);break;case _0x1ae79c(0x7df):case _0x1ae79c(0x8a9):_0xa30323=currentQuestionIndex+0x1+'.\x20'+_0x186835[_0x1ae79c(0x561)],_0x3e7f87='<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>';break;case _0x1ae79c(0x503):case _0x1ae79c(0x990):default:_0xa30323=currentQuestionIndex+0x1+'.\x20'+_0x186835[_0x1ae79c(0x561)],_0x3e7f87=_0x186835['options'][_0x1ae79c(0x678)]((_0x13eb31,_0x4b72c8)=>_0x1ae79c(0x3c7)+_0x4b72c8+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x4b72c8+_0x1ae79c(0x578)+_0x4b72c8+'\x22>'+_0x13eb31+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1ae79c(0x2b1)]('');break;}_0x186835[_0x1ae79c(0x44c)]&&(_0xa30323+=_0x1ae79c(0x973)+_0x186835[_0x1ae79c(0x44c)]+_0x1ae79c(0x98d));document['getElementById']('per-question-text')[_0x1ae79c(0x4a4)]=_0xa30323,document['getElementById'](_0x1ae79c(0x3ce))['innerHTML']=_0x3e7f87;if(currentMode==='admin-testing'){const _0x577c8a=document[_0x1ae79c(0x299)]('cancel-test-btn');if(_0x577c8a)_0x577c8a[_0x1ae79c(0x757)](_0x1ae79c(0x9dc),cancelAdminTest);}document[_0x1ae79c(0x299)]('next-question-timed-btn')[_0x1ae79c(0x757)](_0x1ae79c(0x9dc),()=>handleNextQuestionInTimedMode(![]));if(window[_0x1ae79c(0x432)])window[_0x1ae79c(0x432)][_0x1ae79c(0x690)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x53b9b5=_0x2944ec,_0xeac40b=currentDisplayedQuiz[_0x53b9b5(0x2a4)][_0x53b9b5(0x764)],_0x13ab7e=document[_0x53b9b5(0x299)](_0x53b9b5(0x9e3));if(!_0x13ab7e)return;let _0x50d8bb=_0xeac40b;_0x13ab7e['innerHTML']=_0x53b9b5(0x4e5)+_0x50d8bb+_0x53b9b5(0x5b6);const _0x2dd9ab=document[_0x53b9b5(0x299)](_0x53b9b5(0x9a1)),_0x320f41=document[_0x53b9b5(0x299)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x206941=_0x53b9b5;_0x50d8bb--;const _0x4c64cd=_0x50d8bb/_0xeac40b*0x64;_0x2dd9ab['style'][_0x206941(0xa4c)]=_0x4c64cd+'%',_0x320f41[_0x206941(0x391)]=_0x50d8bb,_0x50d8bb<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x5a02b7=![]){const _0x589a21=_0x2944ec;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x3e6202=null;if(!_0x5a02b7){const _0x56a445=currentDisplayedQuiz[_0x589a21(0x256)][currentQuestionIndex],_0x1784ee=_0x56a445[_0x589a21(0x539)]||currentDisplayedQuiz['quizType'];if(_0x1784ee===_0x589a21(0x7df)||_0x1784ee===_0x589a21(0x8a9)){const _0x3f49a2=document['querySelector'](_0x589a21(0x77a));_0x3e6202=_0x3f49a2?_0x3f49a2['value']['trim']():'';}else{if(_0x1784ee===_0x589a21(0x390)){const _0x33dbe3=document['querySelector'](_0x589a21(0x32a));_0x3e6202=_0x33dbe3?_0x33dbe3[_0x589a21(0x305)]:'';}else{const _0x20116a=document['querySelector'](_0x589a21(0x3d7));if(_0x20116a){const _0x568549=_0x20116a[_0x589a21(0x305)];_0x3e6202=!isNaN(parseInt(_0x568549,0xa))&&_0x568549[_0x589a21(0x980)]()!==''?parseInt(_0x568549,0xa):_0x568549;}}}}studentAnswersPerQuestion[_0x589a21(0x53c)](_0x3e6202),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x589a21(0x256)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x143c0e=_0x2944ec,_0x3b1bf7=currentDisplayedQuiz[_0x143c0e(0x256)][_0x143c0e(0x44d)](_0xaf4aac=>_0xaf4aac[_0x143c0e(0x539)]===_0x143c0e(0x7df));_0x3b1bf7?showMessage(_0x143c0e(0x6f1)):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x58bab2=currentQuizData['id'],_0x4510ad=doc(db,_0x143c0e(0x618)+appId+_0x143c0e(0x73f)+_0x58bab2+_0x143c0e(0x25a),currentStudentName),_0x219b29=await getDoc(_0x4510ad),_0x383096=_0x219b29[_0x143c0e(0x8b2)]()?_0x219b29['data']():{},_0x5b479a=_0x383096[_0x143c0e(0x79d)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x5b479a);}function getResultsFilename(){const _0x2b8326=_0x2944ec,_0x1aeddd=document[_0x2b8326(0x299)](_0x2b8326(0x803))[_0x2b8326(0x391)][_0x2b8326(0x9d7)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x2b8326(0x9df)+(_0x1aeddd||_0x2b8326(0x4ed));}function exportResultsAsImage(){const _0x3c99a5=_0x2944ec,_0x1260a1=document['getElementById'](_0x3c99a5(0x60c));showMessage(_0x3c99a5(0x706)),html2canvas(_0x1260a1)[_0x3c99a5(0x758)](_0x6f48c7=>{const _0x11a973=_0x3c99a5,_0x4aaca8=document[_0x11a973(0x84e)]('a');_0x4aaca8[_0x11a973(0xa08)]=getResultsFilename()+_0x11a973(0x326),_0x4aaca8['href']=_0x6f48c7['toDataURL'](_0x11a973(0x31f)),_0x4aaca8[_0x11a973(0x9dc)](),messageModal['classList'][_0x11a973(0x5af)](_0x11a973(0x52f));});}function exportResultsAsPDF(){const _0x4b12c6=_0x2944ec,{jsPDF:_0x4e74fe}=window['jspdf'],_0x24c7d6=new _0x4e74fe();_0x24c7d6[_0x4b12c6(0x9fc)](_0x4b12c6(0x456),_0x4b12c6(0x7d5)),_0x24c7d6[_0x4b12c6(0x6c3)]({'html':_0x4b12c6(0xa15)}),_0x24c7d6['save'](getResultsFilename()+_0x4b12c6(0x56a));}function exportResultsAsWord(){const _0x19a9fb=_0x2944ec,_0x22e673=_0x19a9fb(0x41d)+_0x19a9fb(0x3b7)+_0x19a9fb(0x2d1)+_0x19a9fb(0x24a),_0x299b77=_0x19a9fb(0x747),_0x51aa81=_0x22e673+document[_0x19a9fb(0x299)](_0x19a9fb(0x60c))[_0x19a9fb(0x4a4)]+_0x299b77,_0x46dbf3=_0x19a9fb(0x877)+encodeURIComponent(_0x51aa81),_0x298c7b=document['createElement']('a');document[_0x19a9fb(0x817)][_0x19a9fb(0xa37)](_0x298c7b),_0x298c7b[_0x19a9fb(0x387)]=_0x46dbf3,_0x298c7b['download']=getResultsFilename()+_0x19a9fb(0x8df),_0x298c7b[_0x19a9fb(0x9dc)](),document['body'][_0x19a9fb(0x5fa)](_0x298c7b);}function exportResultsAsExcel(){const _0x1824e6=_0x2944ec,_0x171032=document['getElementById'](_0x1824e6(0x575));let _0x3a3d2c=[];for(let _0x18117d=0x0;_0x18117d<_0x171032[_0x1824e6(0x848)][_0x1824e6(0x33e)];_0x18117d++){let _0x315dbc=[],_0x282f02=_0x171032[_0x1824e6(0x848)][_0x18117d][_0x1824e6(0x921)](_0x1824e6(0x4bb));for(let _0x278750=0x0;_0x278750<_0x282f02['length'];_0x278750++){_0x315dbc['push']('\x22'+_0x282f02[_0x278750][_0x1824e6(0x89c)][_0x1824e6(0x9d7)](/"/g,'\x22\x22')+'\x22');}_0x3a3d2c[_0x1824e6(0x53c)](_0x315dbc[_0x1824e6(0x2b1)](','));}const _0x4a041e=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x3a3d2c[_0x1824e6(0x2b1)]('\x0a')],{'type':_0x1824e6(0x428)}),_0x222280=document[_0x1824e6(0x84e)]('a');_0x222280[_0x1824e6(0x387)]=URL[_0x1824e6(0x783)](_0x4a041e),_0x222280[_0x1824e6(0xa08)]=getResultsFilename()+_0x1824e6(0x98e),_0x222280[_0x1824e6(0x9dc)]();}function exportTableAsImage(_0x21a585,_0x13e100){const _0x3aa4d9=_0x2944ec,_0x578b77=document['getElementById'](_0x21a585);if(!_0x578b77){showMessage(_0x3aa4d9(0x338));return;}showMessage(_0x3aa4d9(0x706)),html2canvas(_0x578b77)[_0x3aa4d9(0x758)](_0x4772c7=>{const _0x810673=_0x3aa4d9,_0x5a9391=document[_0x810673(0x84e)]('a');_0x5a9391['download']=_0x13e100+'.png',_0x5a9391[_0x810673(0x387)]=_0x4772c7[_0x810673(0x7a1)](_0x810673(0x31f)),_0x5a9391[_0x810673(0x9dc)](),messageModal[_0x810673(0x46e)][_0x810673(0x5af)](_0x810673(0x52f));});}function exportTableAsPDF(_0x312cd0,_0x606a5){const _0x2cc96d=_0x2944ec,{jsPDF:_0x40c4bd}=window[_0x2cc96d(0x9ab)],_0x5271a0=new _0x40c4bd();_0x5271a0['setFont']('helvetica','normal'),_0x5271a0['autoTable']({'html':'#'+_0x312cd0}),_0x5271a0[_0x2cc96d(0x2f2)](_0x606a5+'.pdf');}function exportTableAsWord(_0xf29de3,_0x26431d){const _0x3fc212=_0x2944ec,_0x51e0fb=document[_0x3fc212(0x299)](_0xf29de3);if(!_0x51e0fb){showMessage(_0x3fc212(0x338));return;}const _0x362c60=_0x3fc212(0x41d)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x3fc212(0x2d1)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0xf2a125=_0x3fc212(0x747),_0x3373db=_0x362c60+_0x51e0fb[_0x3fc212(0x4a4)]+_0xf2a125,_0x37bea5=_0x3fc212(0x877)+encodeURIComponent(_0x3373db),_0x156881=document['createElement']('a');document['body'][_0x3fc212(0xa37)](_0x156881),_0x156881[_0x3fc212(0x387)]=_0x37bea5,_0x156881['download']=_0x26431d+_0x3fc212(0x8df),_0x156881[_0x3fc212(0x9dc)](),document[_0x3fc212(0x817)][_0x3fc212(0x5fa)](_0x156881);}function exportTableAsExcel(_0x5481ff,_0x3a5f7b){const _0x5bdc54=_0x2944ec,_0x25d1c5=document[_0x5bdc54(0x299)](_0x5481ff);if(!_0x25d1c5){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0xa3914=[];for(let _0x1d11fb=0x0;_0x1d11fb<_0x25d1c5[_0x5bdc54(0x848)][_0x5bdc54(0x33e)];_0x1d11fb++){let _0x4b3cd1=[],_0xbe6746=_0x25d1c5['rows'][_0x1d11fb][_0x5bdc54(0x921)](_0x5bdc54(0x4bb));for(let _0xf10f26=0x0;_0xf10f26<_0xbe6746['length'];_0xf10f26++){_0x4b3cd1[_0x5bdc54(0x53c)]('\x22'+_0xbe6746[_0xf10f26][_0x5bdc54(0x89c)][_0x5bdc54(0x9d7)](/"/g,'\x22\x22')+'\x22');}_0xa3914[_0x5bdc54(0x53c)](_0x4b3cd1['join'](','));}const _0x2baa02=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0xa3914['join']('\x0a')],{'type':_0x5bdc54(0x428)}),_0x284b36=document[_0x5bdc54(0x84e)]('a');_0x284b36[_0x5bdc54(0x387)]=URL[_0x5bdc54(0x783)](_0x2baa02),_0x284b36[_0x5bdc54(0xa08)]=_0x3a5f7b+'.csv',_0x284b36[_0x5bdc54(0x9dc)]();}function renderAnalytics(_0x1e7bd8,_0x22a4ff){const _0x12f277=_0x2944ec,_0x41cfd7=_0x22a4ff[_0x12f277(0x904)](_0x1f9ec0=>_0x1f9ec0['latestScore']!==undefined),_0x1f0929=currentProjectData['students'][_0x12f277(0x33e)],_0x18653a=_0x41cfd7[_0x12f277(0x33e)],_0x41ab9d=_0x1f0929-_0x18653a,_0x4803d2=_0x1f0929>0x0?_0x18653a/_0x1f0929*0x64:0x0,_0x2d3397=_0x41cfd7['map'](_0x7942af=>_0x7942af[_0x12f277(0x26b)]),_0x4ed5d1=_0x2d3397['length']>0x0?_0x2d3397[_0x12f277(0x54c)]((_0x489a3c,_0xcb42b1)=>_0x489a3c+_0xcb42b1,0x0)/_0x2d3397[_0x12f277(0x33e)]:0x0,_0x33e973=_0x1e7bd8['questions'][_0x12f277(0x33e)],_0x4d83d0=_0x33e973>0x0?_0x4ed5d1/_0x33e973*0x64:0x0,_0x2588d1=calculateItemAnalysis(_0x1e7bd8,_0x41cfd7),_0x58ac1b=calculateReliabilityKR20(_0x1e7bd8,_0x41cfd7,_0x2588d1['perQuestionStats']);let _0x5547d4='';if(_0x58ac1b!==null){let _0x107e7e='';if(_0x58ac1b>=0.9)_0x107e7e='ยอดเยี่ยม';else{if(_0x58ac1b>=0.8)_0x107e7e=_0x12f277(0x622);else{if(_0x58ac1b>=0.7)_0x107e7e='ดี';else{if(_0x58ac1b>=0.6)_0x107e7e=_0x12f277(0x228);else _0x107e7e=_0x12f277(0x731);}}}_0x5547d4=_0x12f277(0x2bc)+_0x58ac1b[_0x12f277(0x882)](0x2)+_0x12f277(0x515)+_0x107e7e+_0x12f277(0xa18);}const _0x4ccda3=document['getElementById'](_0x12f277(0x9cc));_0x4ccda3[_0x12f277(0x4a4)]=_0x12f277(0x485)+_0x4803d2['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x18653a+'/'+_0x1f0929+_0x12f277(0x50a)+_0x4ed5d1[_0x12f277(0x882)](0x2)+_0x12f277(0x1e0)+_0x4d83d0[_0x12f277(0x882)](0x0)+_0x12f277(0x815)+(_0x2d3397['length']>0x0?Math[_0x12f277(0x482)](..._0x2d3397):'N/A')+_0x12f277(0x3d0)+(_0x2d3397[_0x12f277(0x33e)]>0x0?Math[_0x12f277(0x789)](..._0x2d3397):'N/A')+_0x12f277(0x601)+_0x5547d4+'\x0a\x20\x20\x20\x20';const _0x20c26b=document['getElementById'](_0x12f277(0x6ef));_0x20c26b&&_0x20c26b[_0x12f277(0x75d)]();const _0x376699=_0x12f277(0x3e6);_0x4ccda3[_0x12f277(0x75b)](_0x12f277(0x401),_0x376699);const _0xa365a7=currentProjectData[_0x12f277(0x6ff)]||[];renderSubmissionChart(_0x18653a,_0x41ab9d,_0x41cfd7,_0xa365a7),renderScoreDistributionChart(_0x41cfd7,_0x33e973),renderQuestionAnalytics(_0x1e7bd8,_0x41cfd7,_0xa365a7),renderInterestingStats(_0x1e7bd8,_0x41cfd7);}async function handleExportLessonPDF(){const _0xae730b=_0x2944ec,_0x4cf924=document[_0xae730b(0x299)]('lesson-plan-content'),_0x192904=document[_0xae730b(0x299)]('lesson-plan-title')[_0xae730b(0x391)],_0x1990f0=window[_0xae730b(0x699)]('',_0xae730b(0x723)),_0x56717e=_0xae730b(0x35c)+_0x192904+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4cf924[_0xae730b(0x4a4)]+_0xae730b(0x765);_0x1990f0['document']['write'](_0x56717e),_0x1990f0[_0xae730b(0x2f4)][_0xae730b(0x3ed)](),_0x1990f0[_0xae730b(0x4b0)]=function(){setTimeout(()=>{const _0x8d5c57=_0x1114;_0x1990f0[_0x8d5c57(0x5fe)]();},0x5dc);};}function renderInterestingStats(_0x1c7e56,_0x327ee7){const _0x5c2e06=_0x2944ec,_0x2a268d=document[_0x5c2e06(0x299)]('interesting-stats-container');if(!_0x2a268d)return;if(_0x327ee7['length']===0x0){_0x2a268d[_0x5c2e06(0x4a4)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x55dfa5=_0x1c7e56[_0x5c2e06(0x256)]['map']((_0x122cac,_0x58b771)=>({'index':_0x58b771+0x1,'text':_0x122cac['questionText']||_0x122cac[_0x5c2e06(0xa65)],'correct':0x0}));_0x327ee7[_0x5c2e06(0x9ef)](_0x39591a=>{const _0x229e27=_0x5c2e06,_0x1f21e5=_0x39591a['attempts'][_0x39591a[_0x229e27(0x79d)][_0x229e27(0x33e)]-0x1];_0x1f21e5&&_0x1f21e5[_0x229e27(0x38b)]&&_0x1f21e5[_0x229e27(0x38b)][_0x229e27(0x9ef)](_0x3d122d=>{const _0x39fb7d=_0x229e27,_0x389c1f=_0x55dfa5['find'](_0x30f802=>_0x30f802[_0x39fb7d(0x62f)]===_0x3d122d[_0x39fb7d(0x400)]);_0x3d122d['isCorrect']&&_0x389c1f&&_0x389c1f[_0x39fb7d(0x60a)]++;});});const _0x481f7a=_0x327ee7['length'],_0x16b938=Math[_0x5c2e06(0x482)](..._0x55dfa5[_0x5c2e06(0x678)](_0x59b937=>_0x59b937[_0x5c2e06(0x60a)])),_0x570951=Math[_0x5c2e06(0x789)](..._0x55dfa5['map'](_0x358247=>_0x358247[_0x5c2e06(0x60a)])),_0x51d2a4=_0x55dfa5[_0x5c2e06(0x904)](_0x209a6e=>_0x209a6e[_0x5c2e06(0x60a)]===_0x16b938)[_0x5c2e06(0x678)](_0x5cd92b=>_0x5c2e06(0x8d4)+_0x5cd92b[_0x5c2e06(0x310)]),_0x46a5cd=_0x55dfa5[_0x5c2e06(0x904)](_0x2d8da0=>_0x2d8da0[_0x5c2e06(0x60a)]===_0x570951)[_0x5c2e06(0x678)](_0x4d1fe3=>_0x5c2e06(0x8d4)+_0x4d1fe3[_0x5c2e06(0x310)]),_0x3c4d1d=_0x327ee7['sort']((_0x203f44,_0x4e9629)=>_0x4e9629['latestScore']-_0x203f44[_0x5c2e06(0x26b)])[_0x5c2e06(0x904)]((_0xc0b785,_0x5e0650,_0x263272)=>_0xc0b785['latestScore']===_0x263272[0x0][_0x5c2e06(0x26b)]),_0x4133b4=_0x327ee7[_0x5c2e06(0x2e5)]((_0x57b4d1,_0x211067)=>_0x57b4d1[_0x5c2e06(0x26b)]-_0x211067[_0x5c2e06(0x26b)])[_0x5c2e06(0x904)]((_0x3545f1,_0x1b9f9f,_0x96aeb4)=>_0x3545f1['latestScore']===_0x96aeb4[0x0][_0x5c2e06(0x26b)]),_0x2b90b4=_0x5c2e06(0x6cc)+_0x51d2a4[_0x5c2e06(0x2b1)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x16b938+'\x20/\x20'+_0x481f7a+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x46a5cd['join'](',\x20')+_0x5c2e06(0x693)+(_0x481f7a-_0x570951)+_0x5c2e06(0x362)+_0x481f7a+_0x5c2e06(0x473)+_0x3c4d1d['map'](_0x36eb26=>_0x36eb26['studentName'])[_0x5c2e06(0x2b1)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x3c4d1d[0x0][_0x5c2e06(0x26b)]+_0x5c2e06(0x422)+_0x4133b4['map'](_0x346501=>_0x346501[_0x5c2e06(0x357)])[_0x5c2e06(0x2b1)](',\x20')+_0x5c2e06(0x8a5)+_0x4133b4[0x0]['latestScore']+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x2a268d[_0x5c2e06(0x4a4)]=_0x2b90b4;}function renderSubmissionChart(_0x471697,_0x3054e5,_0x57ad0b,_0x4ba8cb){const _0x1f1c1c=_0x2944ec,_0x11a844=document[_0x1f1c1c(0x299)](_0x1f1c1c(0x79e))[_0x1f1c1c(0x583)]('2d'),_0x60fbda=_0x57ad0b[_0x1f1c1c(0x678)](_0x18a379=>_0x18a379[_0x1f1c1c(0x357)]),_0x4a39b0=_0x4ba8cb[_0x1f1c1c(0x904)](_0x36c677=>!_0x60fbda[_0x1f1c1c(0x38f)](_0x36c677));chartInstances[_0x1f1c1c(0x5a9)]&&chartInstances[_0x1f1c1c(0x5a9)]['destroy'](),chartInstances[_0x1f1c1c(0x5a9)]=new Chart(_0x11a844,{'type':'doughnut','data':{'labels':[_0x1f1c1c(0x5ed),_0x1f1c1c(0x887)],'datasets':[{'data':[_0x471697,_0x3054e5],'backgroundColor':['#10B981',_0x1f1c1c(0x6e5)],'borderColor':[_0x1f1c1c(0x84a),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x1248fc){const _0x12cfb9=_0x1f1c1c;let _0x55f215=_0x1248fc[_0x12cfb9(0x329)]||'';return _0x55f215&&(_0x55f215+=':\x20'),_0x55f215+=_0x1248fc[_0x12cfb9(0x4a9)],_0x55f215;},'afterLabel':function(_0x457dd4){const _0x27c0ef=_0x1f1c1c;let _0x22cea9;return _0x457dd4[_0x27c0ef(0x743)]===0x0?_0x22cea9=_0x60fbda:_0x22cea9=_0x4a39b0,_0x22cea9[_0x27c0ef(0x33e)]>0x0?_0x22cea9[_0x27c0ef(0x2b1)]('\x0a'):_0x27c0ef(0x4dc);}}}}}});}function renderScoreDistributionChart(_0x2813da,_0x10d7aa){const _0x15ee37=_0x2944ec,_0x11395c=document[_0x15ee37(0x299)](_0x15ee37(0xa28))['getContext']('2d'),_0x432a95={};for(let _0x5d15bf=0x0;_0x5d15bf<=_0x10d7aa;_0x5d15bf++){_0x432a95[_0x5d15bf]=0x0;}_0x2813da[_0x15ee37(0x9ef)](_0x1eac54=>{const _0x22e9ff=_0x15ee37;_0x432a95[_0x1eac54[_0x22e9ff(0x26b)]]!==undefined&&_0x432a95[_0x1eac54[_0x22e9ff(0x26b)]]++;}),chartInstances[_0x15ee37(0x986)]&&chartInstances[_0x15ee37(0x986)][_0x15ee37(0x252)](),chartInstances[_0x15ee37(0x986)]=new Chart(_0x11395c,{'type':'bar','data':{'labels':Object[_0x15ee37(0x426)](_0x432a95),'datasets':[{'label':'จำนวนนักเรียน','data':Object[_0x15ee37(0x670)](_0x432a95),'backgroundColor':_0x15ee37(0x3b3),'borderColor':_0x15ee37(0x250),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x15ee37(0x1fb)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x57d17b){const _0x967f6=_0x15ee37,_0x428e20=_0x57d17b[_0x967f6(0x329)],_0x431aa9=_0x2813da[_0x967f6(0x904)](_0x23e001=>_0x23e001[_0x967f6(0x26b)]==_0x428e20)[_0x967f6(0x678)](_0x46c922=>_0x46c922['studentName']);return _0x431aa9[_0x967f6(0x33e)]>0x0?_0x431aa9[_0x967f6(0x2b1)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x16a9cd,_0x1a516b,_0x396363){const _0x4037a6=_0x2944ec,_0x3cd44b=document[_0x4037a6(0x299)](_0x4037a6(0x32c));if(_0x396363['length']===0x0){_0x3cd44b[_0x4037a6(0x4a4)]=_0x4037a6(0x352);return;}const _0x440232=calculateItemAnalysis(_0x16a9cd,_0x1a516b),_0x2a0e4b=calculateDistractorAnalysis(_0x16a9cd,_0x1a516b);let _0x36b3c8='';_0x440232[_0x4037a6(0x255)]&&(_0x36b3c8=_0x4037a6(0x8f3)+_0x440232[_0x4037a6(0x255)]['upperGroupNames'][_0x4037a6(0x33e)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x440232[_0x4037a6(0x255)]['upperGroupNames']['map'](_0x237b38=>_0x4037a6(0x965)+_0x237b38+_0x4037a6(0x9a5))['join']('')+_0x4037a6(0x7c9)+_0x440232[_0x4037a6(0x255)]['lowerGroupNames'][_0x4037a6(0x33e)]+_0x4037a6(0x1db)+_0x440232[_0x4037a6(0x255)][_0x4037a6(0x467)][_0x4037a6(0x678)](_0x53e987=>_0x4037a6(0x965)+_0x53e987+_0x4037a6(0x9a5))[_0x4037a6(0x2b1)]('')+_0x4037a6(0x9a9));let _0x3acbb1='';const _0x3b42ea=_0x1a516b[_0x4037a6(0x678)](_0x315453=>_0x315453[_0x4037a6(0x357)]),_0x5b3a26=_0x4890af=>{const _0x2be27c=_0x4037a6;if(_0x4890af>=0.8)return _0x2be27c(0x371);if(_0x4890af>=0.6)return _0x2be27c(0x4db);if(_0x4890af>=0.4)return _0x2be27c(0x7fe);if(_0x4890af>=0.2)return _0x2be27c(0x5d5);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x4a0f21=_0x3ea1d8=>{const _0x20c444=_0x4037a6;if(_0x3ea1d8<0x0)return _0x20c444(0x756);if(_0x3ea1d8>=0.4)return _0x20c444(0x563);if(_0x3ea1d8>=0.3)return _0x20c444(0x6c4);if(_0x3ea1d8>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0x20c444(0x99e);},_0x5d0127=_0x301624=>{const _0x53ad6c=_0x4037a6,_0x547b5f=_0x301624[_0x53ad6c(0x882)](0x0);if(parseFloat(_0x547b5f)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x547b5f+_0x53ad6c(0x402);if(_0x301624>=0x32)return _0x53ad6c(0x5a1)+_0x547b5f+'%</span>';return _0x53ad6c(0x781)+_0x547b5f+_0x53ad6c(0x402);};_0x16a9cd[_0x4037a6(0x256)][_0x4037a6(0x9ef)]((_0x375e36,_0x11ba52)=>{const _0x52aec5=_0x4037a6,_0x31e3f6=_0x440232[_0x52aec5(0x576)][_0x11ba52],_0x53b2aa=_0x2a0e4b[_0x11ba52],_0xee6d2a=_0x375e36[_0x52aec5(0xa65)]||_0x375e36['questionText']||_0x375e36[_0x52aec5(0x377)];let _0x608ee4=0x0;const _0x22ae25=[],_0x32993d=[];_0x1a516b['forEach'](_0x42e8cb=>{const _0x4ef337=_0x52aec5,_0x59317b=_0x42e8cb['attempts'][_0x42e8cb[_0x4ef337(0x79d)][_0x4ef337(0x33e)]-0x1];if(_0x59317b&&_0x59317b[_0x4ef337(0x38b)]){const _0x1b6872=_0x59317b[_0x4ef337(0x38b)][_0x4ef337(0x238)](_0x37f8c8=>_0x37f8c8['originalQuestionText']===_0xee6d2a)??_0x59317b[_0x4ef337(0x38b)][_0x11ba52]??null;_0x1b6872&&(_0x1b6872[_0x4ef337(0x29f)]?(_0x608ee4++,_0x22ae25['push'](_0x42e8cb[_0x4ef337(0x357)])):_0x32993d[_0x4ef337(0x53c)](_0x42e8cb[_0x4ef337(0x357)]));}});const _0x5b7b46=_0x1a516b[_0x52aec5(0x33e)]>0x0?_0x608ee4/_0x1a516b[_0x52aec5(0x33e)]*0x64:0x0,_0x382022=_0x396363[_0x52aec5(0x904)](_0x464970=>!_0x3b42ea[_0x52aec5(0x38f)](_0x464970)),_0x106533=_0x31e3f6?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x31e3f6['p']['toFixed'](0x2)+_0x52aec5(0x61b)+_0x5b3a26(_0x31e3f6['p'])+_0x52aec5(0x280)+_0x31e3f6['r'][_0x52aec5(0x882)](0x2)+_0x52aec5(0x61b)+_0x4a0f21(_0x31e3f6['r'])+_0x52aec5(0x257)+_0x5d0127(_0x5b7b46)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x4dd0ea='';_0x53b2aa&&(_0x4dd0ea=_0x52aec5(0x49e)+Object[_0x52aec5(0x426)](_0x53b2aa)[_0x52aec5(0x678)](_0x40e98f=>{const _0x5c4203=_0x52aec5,_0x2f44f4=_0x53b2aa[_0x40e98f],_0x237acd=parseInt(_0x40e98f)===_0x375e36[_0x5c4203(0x36a)],_0x209a37=!_0x237acd&&_0x2f44f4['lower_group_count']>_0x2f44f4[_0x5c4203(0x708)];return _0x5c4203(0x89f)+(_0x237acd?_0x5c4203(0x397):'')+_0x5c4203(0x4ba)+(_0x237acd?'✔\x20':'')+_0x2f44f4[_0x5c4203(0x62f)]+_0x5c4203(0x777)+_0x2f44f4[_0x5c4203(0x708)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x2f44f4[_0x5c4203(0x42b)]+'\x20'+(_0x209a37?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x2f44f4[_0x5c4203(0x4f5)]+_0x5c4203(0x9d3);})[_0x52aec5(0x2b1)]('')+_0x52aec5(0x4dd));let _0x57ea10='';_0x31e3f6&&_0x31e3f6['upperGroupResponders']&&(_0x57ea10=_0x52aec5(0x6c6)+_0x31e3f6['upperGroupResponders'][_0x52aec5(0x33e)]+_0x52aec5(0x365)+_0x31e3f6[_0x52aec5(0x65f)][_0x52aec5(0x678)](_0x3133b0=>_0x52aec5(0x965)+(_0x3133b0['isCorrect']?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x52aec5(0x75f))+'\x20'+_0x3133b0['name']+_0x52aec5(0x9a5))[_0x52aec5(0x2b1)]('')+_0x52aec5(0x8f6)+_0x31e3f6[_0x52aec5(0x3c2)]['length']+_0x52aec5(0x365)+_0x31e3f6[_0x52aec5(0x3c2)]['map'](_0x35144e=>_0x52aec5(0x965)+(_0x35144e[_0x52aec5(0x29f)]?_0x52aec5(0x564):_0x52aec5(0x75f))+'\x20'+_0x35144e[_0x52aec5(0x799)]+'</li>')[_0x52aec5(0x2b1)]('')+_0x52aec5(0x4f2)),_0x3acbb1+=_0x52aec5(0x84f)+(_0x11ba52+0x1)+':\x20'+_0xee6d2a+_0x52aec5(0x2d9)+_0x106533+_0x52aec5(0x7b6)+_0xee6d2a+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x608ee4+_0x52aec5(0x4bc)+_0x1a516b[_0x52aec5(0x33e)]+_0x52aec5(0x1f2)+_0x5b7b46[_0x52aec5(0x882)](0x0)+_0x52aec5(0x28a)+_0x22ae25[_0x52aec5(0x33e)]+_0x52aec5(0x96b)+(_0x22ae25[_0x52aec5(0x33e)]>0x0?_0x22ae25[_0x52aec5(0x2b1)](',\x20'):_0x52aec5(0x4dc))+_0x52aec5(0x779)+_0x32993d[_0x52aec5(0x33e)]+_0x52aec5(0x96b)+(_0x32993d['length']>0x0?_0x32993d['join'](',\x20'):_0x52aec5(0x4dc))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x382022[_0x52aec5(0x33e)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x382022['length']>0x0?_0x382022[_0x52aec5(0x2b1)](',\x20'):_0x52aec5(0x4dc))+_0x52aec5(0x962)+_0x4dd0ea+_0x52aec5(0x549)+_0x57ea10+_0x52aec5(0x4cf);}),_0x3cd44b[_0x4037a6(0x4a4)]=_0x36b3c8+_0x3acbb1;try{window['MathJax']&&MathJax[_0x4037a6(0x690)]&&MathJax[_0x4037a6(0x690)]([_0x3cd44b]);}catch(_0x382d61){console['error'](_0x4037a6(0x202),_0x382d61);}}function calculateDistractorAnalysis(_0x4e309b,_0x224d97){const _0x29a8c5=_0x2944ec,_0x5d5b9c={};if(_0x224d97['length']<0x2)return _0x5d5b9c;const _0x244830=[..._0x224d97][_0x29a8c5(0x2e5)]((_0x4f3257,_0x324cf9)=>{const _0x84ff6a=_0x29a8c5,_0x123164=_0x324cf9[_0x84ff6a(0x26b)]-_0x4f3257[_0x84ff6a(0x26b)];if(_0x123164!==0x0)return _0x123164;const _0xc05c5c=_0x4f3257['attempts']?.['length']||0x1,_0x165c56=_0x324cf9['attempts']?.[_0x84ff6a(0x33e)]||0x1,_0x3252f2=_0xc05c5c-_0x165c56;if(_0x3252f2!==0x0)return _0x3252f2;const _0x1dd63e=new Date(_0x4f3257[_0x84ff6a(0x63e)]),_0x4beb9a=new Date(_0x324cf9['latestSubmittedAt']),_0x5525f4=_0x1dd63e-_0x4beb9a;if(_0x5525f4!==0x0)return _0x5525f4;return _0x4f3257[_0x84ff6a(0x357)][_0x84ff6a(0x5d9)](_0x324cf9[_0x84ff6a(0x357)],'th');}),_0x3fbe7c=_0x244830[_0x29a8c5(0x33e)],_0x1c8583=Math[_0x29a8c5(0x482)](0x1,Math[_0x29a8c5(0x66b)](_0x3fbe7c*0.33)),_0x5dd8af=_0x244830[_0x29a8c5(0x5a4)](0x0,_0x1c8583),_0x58f2ce=_0x244830[_0x29a8c5(0x5a4)](-_0x1c8583);return _0x4e309b['questions'][_0x29a8c5(0x9ef)]((_0x5badd9,_0x31e40a)=>{const _0x1187c8=_0x29a8c5;if(_0x5badd9['questionType']!==_0x1187c8(0x503)||!_0x5badd9[_0x1187c8(0x29d)])return;const _0xeeab8e=_0x5badd9[_0x1187c8(0x561)],_0x3988a2={};_0x5badd9[_0x1187c8(0x29d)][_0x1187c8(0x9ef)]((_0x130dae,_0x59dbe4)=>{_0x3988a2[_0x59dbe4]={'text':_0x130dae,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x244830[_0x1187c8(0x9ef)](_0x32b9f1=>{const _0xf034a2=_0x1187c8,_0x3ebfe2=_0x32b9f1[_0xf034a2(0x79d)][_0x32b9f1[_0xf034a2(0x79d)][_0xf034a2(0x33e)]-0x1],_0xf6bb33=_0x3ebfe2['answers'][_0xf034a2(0x238)](_0x326dbf=>_0x326dbf['originalQuestionText']===_0xeeab8e);if(_0xf6bb33&&_0xf6bb33['answer']!==null){const _0x597180=_0x5badd9[_0xf034a2(0x29d)][_0xf034a2(0x7eb)](_0x5a0dfd=>_0x5a0dfd===_0xf6bb33[_0xf034a2(0x9f6)]);_0x597180!==-0x1&&_0x3988a2[_0x597180]&&(_0x3988a2[_0x597180][_0xf034a2(0x4f5)]++,_0x5dd8af[_0xf034a2(0x38f)](_0x32b9f1)&&_0x3988a2[_0x597180][_0xf034a2(0x708)]++,_0x58f2ce[_0xf034a2(0x38f)](_0x32b9f1)&&_0x3988a2[_0x597180][_0xf034a2(0x42b)]++);}}),_0x5d5b9c[_0x31e40a]=_0x3988a2;}),_0x5d5b9c;}function calculateReliabilityKR20(_0x54886f,_0x1f3dc1,_0x3048c9){const _0x26529e=_0x2944ec,_0x2bcb0b=_0x54886f[_0x26529e(0x256)]['length'];if(_0x2bcb0b<0x2||_0x1f3dc1[_0x26529e(0x33e)]<0x2)return null;const _0x497851=_0x1f3dc1[_0x26529e(0x678)](_0x16a5e3=>_0x16a5e3['latestScore']),_0x57eff8=_0x497851[_0x26529e(0x54c)]((_0x5b7b71,_0x154fe5)=>_0x5b7b71+_0x154fe5,0x0)/_0x497851[_0x26529e(0x33e)],_0x5ca859=_0x497851[_0x26529e(0x678)](_0x4e06b6=>Math[_0x26529e(0x421)](_0x4e06b6-_0x57eff8,0x2))[_0x26529e(0x54c)]((_0x25ee4d,_0x34faa8)=>_0x25ee4d+_0x34faa8,0x0)/_0x497851[_0x26529e(0x33e)];if(_0x5ca859===0x0)return null;let _0x485879=0x0;for(let _0x191e05=0x0;_0x191e05<_0x2bcb0b;_0x191e05++){const _0xa2cb94=_0x3048c9[_0x191e05]?.['p'];if(_0xa2cb94===undefined)continue;const _0x38b070=0x1-_0xa2cb94;_0x485879+=_0xa2cb94*_0x38b070;}if(_0x485879===0x0)return null;const _0x26e2bd=_0x2bcb0b/(_0x2bcb0b-0x1)*(0x1-_0x485879/_0x5ca859);if(_0x26e2bd>0x1)return null;return _0x26e2bd;}async function handleAnalyzeClass(){const _0xff920a=_0x2944ec;if(!currentQuizData||!currentQuizData['id']){showMessage(_0xff920a(0x582));return;}const _0x16cbbd=collection(db,_0xff920a(0x618)+appId+_0xff920a(0x73f)+currentQuizData['id']+_0xff920a(0x25a)),_0x4152a2=await getDocs(_0x16cbbd),_0x1ee814=_0x4152a2[_0xff920a(0x75e)][_0xff920a(0x678)](_0x554fac=>_0x554fac['data']());if(_0x1ee814[_0xff920a(0x33e)]<0x2){showMessage(_0xff920a(0x7a5));return;}const _0x419adb=document[_0xff920a(0x299)](_0xff920a(0x7f4));_0x419adb[_0xff920a(0x4a4)]=_0xff920a(0x98a),document[_0xff920a(0x299)]('analyze-strengths-btn')[_0xff920a(0x278)]=!![];const _0x4702ed=_0x1ee814[_0xff920a(0x678)]((_0x18f52b,_0x1f8b05)=>{const _0x46cc37=_0xff920a,_0x42a74e=_0x18f52b['attempts'][_0x18f52b[_0x46cc37(0x79d)][_0x46cc37(0x33e)]-0x1];if(!_0x42a74e)return'';return _0x46cc37(0x805)+(_0x1f8b05+0x1)+'\x20('+_0x18f52b[_0x46cc37(0x357)]+_0x46cc37(0x501)+_0x42a74e[_0x46cc37(0x986)]+'/'+_0x18f52b[_0x46cc37(0x3fb)]+_0x46cc37(0x4fe)+JSON[_0x46cc37(0x23a)](_0x42a74e['answers'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0xff920a(0x2b1)](_0xff920a(0x7bb)),_0x26c779=_0xff920a(0x34a)+currentQuizData[_0xff920a(0x67d)]+_0xff920a(0x1ea)+JSON[_0xff920a(0x23a)](currentQuizData[_0xff920a(0x256)])+_0xff920a(0x687)+_0x4702ed+_0xff920a(0x8ac),_0x4624df={'type':_0xff920a(0x81a),'properties':{'classStrengths':{'type':_0xff920a(0x4ce),'items':{'type':_0xff920a(0x224)}},'classWeaknesses':{'type':_0xff920a(0x4ce),'items':{'type':_0xff920a(0x224)}},'teacherSuggestions':{'type':_0xff920a(0x4ce),'items':{'type':_0xff920a(0x224)}}},'required':[_0xff920a(0x8c1),'classWeaknesses',_0xff920a(0x792)]};try{const _0x5efb9c=await callAnalysisApi(_0x26c779,_0x4624df);displayClassAnalysis(_0x5efb9c);}catch(_0x290b2d){console['error'](_0xff920a(0x922),_0x290b2d),_0x419adb['innerHTML']=_0xff920a(0x323)+_0x290b2d[_0xff920a(0x20f)]+_0xff920a(0x472);}finally{document[_0xff920a(0x299)]('analyze-strengths-btn')[_0xff920a(0x278)]=![];}}function displayClassAnalysis(_0x5d5a57){const _0xaec213=_0x2944ec,_0x4e65f0=document[_0xaec213(0x299)](_0xaec213(0x7f4));if(!_0x5d5a57){_0x4e65f0['innerHTML']=_0xaec213(0x64f);return;}_0x4e65f0[_0xaec213(0x4a4)]=_0xaec213(0x52c)+_0x5d5a57[_0xaec213(0x8c1)][_0xaec213(0x678)](_0x416db1=>_0xaec213(0x965)+_0x416db1+_0xaec213(0x9a5))[_0xaec213(0x2b1)]('')+_0xaec213(0x893)+_0x5d5a57[_0xaec213(0x3fa)]['map'](_0x23054d=>_0xaec213(0x965)+_0x23054d+_0xaec213(0x9a5))[_0xaec213(0x2b1)]('')+_0xaec213(0x2cf)+_0x5d5a57[_0xaec213(0x792)][_0xaec213(0x678)](_0x326e3f=>_0xaec213(0x965)+_0x326e3f+'</li>')[_0xaec213(0x2b1)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x23e200,_0x5038f8){const _0x76514d=_0x2944ec,_0xf8a068=_0x76514d(0x691)+_0x23e200['topic']+_0x76514d(0x3a0)+_0x23e200['topic']+_0x76514d(0x74a)+_0x23e200[_0x76514d(0x256)][_0x76514d(0x678)]((_0x880822,_0x401c6c)=>_0x76514d(0x54d)+(_0x401c6c+0x1)+'.\x20'+_0x880822[_0x76514d(0x561)]+_0x76514d(0x7a4)+(_0x880822[_0x76514d(0x44c)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x880822[_0x76514d(0x44c)]+_0x76514d(0x98d):'')+_0x76514d(0x6ca))[_0x76514d(0x2b1)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x5038f8[_0x76514d(0x2f4)][_0x76514d(0x912)](_0xf8a068),_0x5038f8[_0x76514d(0x2f4)][_0x76514d(0x3ed)](),_0x5038f8['onload']=function(){setTimeout(()=>{const _0x1d2566=_0x1114;_0x5038f8[_0x1d2566(0x5fe)]();},0x3e8);};}async function generateWorksheet(){const _0x4634fd=_0x2944ec,_0x293c7e=document[_0x4634fd(0x299)]('worksheet-topic-input')[_0x4634fd(0x305)]['trim']();if(!_0x293c7e){showMessage(_0x4634fd(0x452));return;}const _0x35a0e6=document[_0x4634fd(0x299)]('force-math-checkbox')['checked'],_0x5a9e4a=_0x35a0e6?'':_0x4634fd(0x9dd),_0x53d9fd=window['open']('','_blank');_0x53d9fd[_0x4634fd(0x2f4)][_0x4634fd(0x912)](_0x4634fd(0x40f));const _0x463e24=parseInt(document[_0x4634fd(0x299)]('num-questions')['value']),_0x5aafd0=document[_0x4634fd(0x299)](_0x4634fd(0x2da))[_0x4634fd(0x911)],_0x49f4ca=_0x5aafd0?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x1bb830='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x5a9e4a+_0x4634fd(0x9c5)+_0x463e24+_0x4634fd(0x36d)+_0x293c7e+_0x4634fd(0x6db)+_0x49f4ca+_0x4634fd(0x2c5)+simpleMathPrompt+_0x4634fd(0x204),_0x3a3e39={'type':_0x4634fd(0x81a),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x4634fd(0x4ce),'items':{'type':_0x4634fd(0x81a),'properties':{'questionText':{'type':_0x4634fd(0x224)},'imageCode':{'type':'STRING'}},'required':[_0x4634fd(0x561)]}}},'required':[_0x4634fd(0x67d),'questions']};document['getElementById'](_0x4634fd(0x3f9))['textContent']='',document['getElementById'](_0x4634fd(0x55f))[_0x4634fd(0x46e)][_0x4634fd(0x75d)](_0x4634fd(0x52f)),document[_0x4634fd(0x299)](_0x4634fd(0x525))[_0x4634fd(0x46e)][_0x4634fd(0x75d)](_0x4634fd(0x52f)),generateWorksheetBtn[_0x4634fd(0x278)]=!![];try{const _0x265ece=await callAnalysisApi(_0x1bb830,_0x3a3e39);formatAndPrintWorksheet(_0x265ece,_0x53d9fd);}catch(_0x3f95df){console[_0x4634fd(0x5c2)](_0x4634fd(0x27c),_0x3f95df);if(_0x53d9fd)_0x53d9fd[_0x4634fd(0x3ed)]();showMessage(_0x4634fd(0x2dc));}finally{document[_0x4634fd(0x299)](_0x4634fd(0x55f))[_0x4634fd(0x46e)]['add'](_0x4634fd(0x52f)),document['getElementById'](_0x4634fd(0x525))[_0x4634fd(0x46e)]['add'](_0x4634fd(0x52f)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x59e810,_0x19b67a){const _0xc37808=_0x2944ec,_0x5472e6={'contents':[{'role':'user','parts':[{'text':_0x59e810}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x19b67a}},_0x312b34=_0xc37808(0x68a),_0x306c03=_0xc37808(0x56c)+_0x312b34,_0x438856=await fetch(_0x306c03,{'method':_0xc37808(0x864),'headers':{'Content-Type':_0xc37808(0x1de)},'body':JSON[_0xc37808(0x23a)](_0x5472e6)});if(!_0x438856['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x438856[_0xc37808(0x49d)]);const _0x15e55c=await _0x438856['json']();if(_0x15e55c[_0xc37808(0x806)]?.[0x0]?.[_0xc37808(0x558)]?.[_0xc37808(0x3bb)]?.[0x0])return JSON['parse'](_0x15e55c[_0xc37808(0x806)][0x0]['content'][_0xc37808(0x3bb)][0x0][_0xc37808(0x62f)]);else{let _0x529b93=_0xc37808(0x5bd);if(_0x15e55c[_0xc37808(0x77c)]?.[_0xc37808(0xa1f)])_0x529b93=_0xc37808(0x4c6)+_0x15e55c[_0xc37808(0x77c)][_0xc37808(0xa1f)]+'.';else _0x15e55c[_0xc37808(0x806)]?.[0x0]?.['finishReason']&&_0x15e55c[_0xc37808(0x806)][0x0][_0xc37808(0x324)]!=='STOP'&&(_0x529b93=_0xc37808(0x5fd)+_0x15e55c['candidates'][0x0]['finishReason']+'.');console[_0xc37808(0x5c2)](_0x529b93,JSON[_0xc37808(0x23a)](_0x15e55c));throw new Error(_0x529b93);}}initialize();
