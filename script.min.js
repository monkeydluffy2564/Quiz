const _0x2eabae=_0x4eb1;(function(_0x43a369,_0x2e373a){const _0x4273a6=_0x4eb1,_0x4f3d75=_0x43a369();while(!![]){try{const _0x362d66=parseInt(_0x4273a6(0x86d))/0x1*(-parseInt(_0x4273a6(0x553))/0x2)+-parseInt(_0x4273a6(0x390))/0x3+-parseInt(_0x4273a6(0x53b))/0x4+-parseInt(_0x4273a6(0x4fa))/0x5+-parseInt(_0x4273a6(0x77e))/0x6+parseInt(_0x4273a6(0x1c6))/0x7*(-parseInt(_0x4273a6(0x720))/0x8)+parseInt(_0x4273a6(0x46c))/0x9;if(_0x362d66===_0x2e373a)break;else _0x4f3d75['push'](_0x4f3d75['shift']());}catch(_0x2abee8){_0x4f3d75['push'](_0x4f3d75['shift']());}}}(_0x12a0,0x20c21));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let modalConfirmAction=null,cheatAttempts=0x0;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x2eabae(0x689),'pinnedProjects':[],'projectView':_0x2eabae(0x19b)};const allMathTopics=[{'category':_0x2eabae(0x392),'name':'การนับ'},{'category':_0x2eabae(0x392),'name':_0x2eabae(0x72a)},{'category':_0x2eabae(0x392),'name':_0x2eabae(0x83a)},{'category':_0x2eabae(0x392),'name':_0x2eabae(0x7ab)},{'category':_0x2eabae(0x392),'name':'การบวก'},{'category':'จำนวนและการดำเนินการ','name':_0x2eabae(0x4ff)},{'category':_0x2eabae(0x392),'name':_0x2eabae(0x307)},{'category':'จำนวนและการดำเนินการ','name':_0x2eabae(0x8aa)},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มบวก'},{'category':'จำนวนและการดำเนินการ','name':_0x2eabae(0x607)},{'category':_0x2eabae(0x392),'name':_0x2eabae(0x377)},{'category':'จำนวนและการดำเนินการ','name':'ค่าสัมบูรณ์'},{'category':_0x2eabae(0x392),'name':_0x2eabae(0x8bb)},{'category':_0x2eabae(0x392),'name':_0x2eabae(0x4e9)},{'category':_0x2eabae(0x392),'name':'ห.ร.ม.\x20(GCD)'},{'category':_0x2eabae(0x392),'name':_0x2eabae(0x3e3)},{'category':_0x2eabae(0x392),'name':'อัตราส่วนและสัดส่วน'},{'category':_0x2eabae(0x392),'name':_0x2eabae(0x5a3)},{'category':'จำนวนและการดำเนินการ','name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x2eabae(0x392),'name':'การบวกเศษส่วน'},{'category':_0x2eabae(0x392),'name':_0x2eabae(0x82a)},{'category':_0x2eabae(0x392),'name':_0x2eabae(0x88c)},{'category':_0x2eabae(0x392),'name':_0x2eabae(0x4c5)},{'category':_0x2eabae(0x392),'name':_0x2eabae(0x55a)},{'category':_0x2eabae(0x392),'name':_0x2eabae(0x1ba)},{'category':_0x2eabae(0x392),'name':'การบวกทศนิยม'},{'category':_0x2eabae(0x392),'name':'การลบทศนิยม'},{'category':_0x2eabae(0x392),'name':'การคูณทศนิยม'},{'category':_0x2eabae(0x392),'name':_0x2eabae(0x855)},{'category':'จำนวนและการดำเนินการ','name':_0x2eabae(0x26f)},{'category':_0x2eabae(0x392),'name':_0x2eabae(0x4dc)},{'category':_0x2eabae(0x392),'name':_0x2eabae(0x2fb)},{'category':_0x2eabae(0x392),'name':_0x2eabae(0x2bc)},{'category':'จำนวนและการดำเนินการ','name':_0x2eabae(0x20f)},{'category':'จำนวนและการดำเนินการ','name':_0x2eabae(0x19e)},{'category':'จำนวนและการดำเนินการ','name':_0x2eabae(0x31a)},{'category':'จำนวนและการดำเนินการ','name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x2eabae(0x241),'name':'หน่วยความยาวและการแปลง'},{'category':_0x2eabae(0x241),'name':_0x2eabae(0x5bf)},{'category':'การวัด','name':_0x2eabae(0x525)},{'category':'การวัด','name':_0x2eabae(0x75b)},{'category':_0x2eabae(0x241),'name':_0x2eabae(0x1ea)},{'category':_0x2eabae(0x241),'name':_0x2eabae(0x286)},{'category':_0x2eabae(0x241),'name':_0x2eabae(0x41f)},{'category':'การวัด','name':_0x2eabae(0x767)},{'category':_0x2eabae(0x241),'name':_0x2eabae(0x8fe)},{'category':_0x2eabae(0x241),'name':_0x2eabae(0x532)},{'category':_0x2eabae(0x241),'name':_0x2eabae(0x84b)},{'category':_0x2eabae(0x241),'name':_0x2eabae(0x5bd)},{'category':'การวัด','name':_0x2eabae(0x858)},{'category':'การวัด','name':_0x2eabae(0x6b4)},{'category':_0x2eabae(0x5d2),'name':_0x2eabae(0x7db)},{'category':_0x2eabae(0x5d2),'name':_0x2eabae(0x85b)},{'category':'เรขาคณิต','name':_0x2eabae(0x714)},{'category':_0x2eabae(0x5d2),'name':_0x2eabae(0x767)},{'category':_0x2eabae(0x5d2),'name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x2eabae(0x5d2),'name':_0x2eabae(0x1ee)},{'category':_0x2eabae(0x5d2),'name':_0x2eabae(0x70e)},{'category':_0x2eabae(0x5d2),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x2eabae(0x5d2),'name':_0x2eabae(0x28b)},{'category':'เรขาคณิต','name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':_0x2eabae(0x5d2),'name':_0x2eabae(0x215)},{'category':_0x2eabae(0x5d2),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':_0x2eabae(0x5d2),'name':_0x2eabae(0x737)},{'category':'เรขาคณิต','name':_0x2eabae(0x847)},{'category':_0x2eabae(0x5d2),'name':_0x2eabae(0x174)},{'category':_0x2eabae(0x816),'name':_0x2eabae(0x2c6)},{'category':_0x2eabae(0x816),'name':_0x2eabae(0x910)},{'category':_0x2eabae(0x816),'name':_0x2eabae(0x2d5)},{'category':_0x2eabae(0x816),'name':_0x2eabae(0x90b)},{'category':_0x2eabae(0x816),'name':_0x2eabae(0x6cd)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2eabae(0x6e4)},{'category':_0x2eabae(0x816),'name':_0x2eabae(0x575)},{'category':_0x2eabae(0x816),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x2eabae(0x816),'name':_0x2eabae(0x2be)},{'category':_0x2eabae(0x816),'name':_0x2eabae(0x1f3)},{'category':_0x2eabae(0x816),'name':_0x2eabae(0x56f)},{'category':_0x2eabae(0x816),'name':'สมการยกกำลัง'},{'category':_0x2eabae(0x816),'name':'สมการลอการิทึม'},{'category':_0x2eabae(0x816),'name':_0x2eabae(0x414)},{'category':_0x2eabae(0x816),'name':_0x2eabae(0x541)},{'category':_0x2eabae(0x816),'name':'ระบบอสมการ'},{'category':_0x2eabae(0x816),'name':_0x2eabae(0x50d)},{'category':_0x2eabae(0x816),'name':_0x2eabae(0x8ef)},{'category':_0x2eabae(0x816),'name':_0x2eabae(0x75d)},{'category':_0x2eabae(0x816),'name':_0x2eabae(0x2ee)},{'category':_0x2eabae(0x816),'name':_0x2eabae(0x7a1)},{'category':_0x2eabae(0x816),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x2eabae(0x816),'name':_0x2eabae(0x62b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2eabae(0x808)},{'category':_0x2eabae(0x816),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0x2eabae(0x816),'name':_0x2eabae(0x3e5)},{'category':_0x2eabae(0x816),'name':_0x2eabae(0x21d)},{'category':_0x2eabae(0x816),'name':_0x2eabae(0x8c2)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2eabae(0x7bc)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2eabae(0x1d6)},{'category':_0x2eabae(0x816),'name':'ลำดับเลขคณิต\x20(AP)'},{'category':_0x2eabae(0x816),'name':_0x2eabae(0x4ef)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2eabae(0x871)},{'category':_0x2eabae(0x816),'name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':_0x2eabae(0x816),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':'เรขาคณิตวิเคราะห์','name':_0x2eabae(0x730)},{'category':_0x2eabae(0x18e),'name':_0x2eabae(0x76c)},{'category':'เรขาคณิตวิเคราะห์','name':_0x2eabae(0x22e)},{'category':'เรขาคณิตวิเคราะห์','name':_0x2eabae(0x5a0)},{'category':'เรขาคณิตวิเคราะห์','name':_0x2eabae(0x432)},{'category':'เรขาคณิตวิเคราะห์','name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x2eabae(0x18e),'name':_0x2eabae(0x629)},{'category':_0x2eabae(0x18e),'name':'วงรี'},{'category':'เรขาคณิตวิเคราะห์','name':'ไฮเพอร์โบลา'},{'category':_0x2eabae(0x54a),'name':_0x2eabae(0x673)},{'category':_0x2eabae(0x54a),'name':_0x2eabae(0x7b3)},{'category':_0x2eabae(0x54a),'name':_0x2eabae(0x67e)},{'category':_0x2eabae(0x54a),'name':_0x2eabae(0x34b)},{'category':_0x2eabae(0x54a),'name':_0x2eabae(0x5c0)},{'category':'ตรีโกณมิติ','name':_0x2eabae(0x3dd)},{'category':'ตรีโกณมิติ','name':_0x2eabae(0x194)},{'category':_0x2eabae(0x54a),'name':'การแปลงรูปอัตลักษณ์'},{'category':_0x2eabae(0x54a),'name':_0x2eabae(0x480)},{'category':_0x2eabae(0x54a),'name':_0x2eabae(0x3f0)},{'category':'ตรีโกณมิติ','name':_0x2eabae(0x4ad)},{'category':_0x2eabae(0x728),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':'สถิติและความน่าจะเป็น','name':_0x2eabae(0x520)},{'category':_0x2eabae(0x728),'name':_0x2eabae(0x316)},{'category':_0x2eabae(0x728),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x2eabae(0x728),'name':_0x2eabae(0x6f5)},{'category':_0x2eabae(0x728),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x2eabae(0x728),'name':_0x2eabae(0x8d4)},{'category':_0x2eabae(0x728),'name':_0x2eabae(0x62d)},{'category':_0x2eabae(0x728),'name':_0x2eabae(0x367)},{'category':_0x2eabae(0x728),'name':'พิสัย'},{'category':_0x2eabae(0x728),'name':_0x2eabae(0x44b)},{'category':_0x2eabae(0x728),'name':'ความแปรปรวน'},{'category':'สถิติและความน่าจะเป็น','name':_0x2eabae(0x422)},{'category':_0x2eabae(0x728),'name':_0x2eabae(0x796)},{'category':_0x2eabae(0x728),'name':_0x2eabae(0x3ba)},{'category':_0x2eabae(0x728),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x2eabae(0x728),'name':_0x2eabae(0x42a)},{'category':'สถิติและความน่าจะเป็น','name':_0x2eabae(0x744)},{'category':_0x2eabae(0x728),'name':_0x2eabae(0x494)},{'category':'สถิติและความน่าจะเป็น','name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x2eabae(0x728),'name':_0x2eabae(0x86f)},{'category':_0x2eabae(0x728),'name':_0x2eabae(0x7b2)},{'category':_0x2eabae(0x728),'name':_0x2eabae(0x59a)},{'category':'สถิติและความน่าจะเป็น','name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x2eabae(0x71d),'name':'ลิมิต'},{'category':_0x2eabae(0x71d),'name':_0x2eabae(0x17d)},{'category':_0x2eabae(0x71d),'name':_0x2eabae(0x54f)},{'category':_0x2eabae(0x71d),'name':_0x2eabae(0x72b)},{'category':_0x2eabae(0x71d),'name':_0x2eabae(0x735)},{'category':_0x2eabae(0x71d),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x2eabae(0x71d),'name':_0x2eabae(0x886)},{'category':_0x2eabae(0x71d),'name':_0x2eabae(0x81f)},{'category':_0x2eabae(0x71d),'name':_0x2eabae(0x78c)},{'category':'แคลคูลัสเบื้องต้น','name':_0x2eabae(0x1e6)},{'category':_0x2eabae(0x71d),'name':_0x2eabae(0x594)},{'category':_0x2eabae(0x71d),'name':_0x2eabae(0x8f8)},{'category':_0x2eabae(0x71d),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x2eabae(0x4b3)},{'category':_0x2eabae(0x56e),'name':_0x2eabae(0x78f)},{'category':_0x2eabae(0x56e),'name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':_0x2eabae(0x56e),'name':_0x2eabae(0x4d3)},{'category':_0x2eabae(0x56e),'name':_0x2eabae(0x2c1)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x2eabae(0x21e)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x2eabae(0x530)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x2eabae(0x242)},{'category':_0x2eabae(0x4c9),'name':_0x2eabae(0x1a9)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x2eabae(0x65f)},{'category':_0x2eabae(0x4c9),'name':_0x2eabae(0x774)},{'category':_0x2eabae(0x4c9),'name':_0x2eabae(0x43b)},{'category':_0x2eabae(0x383),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x2eabae(0x866)},{'category':_0x2eabae(0x383),'name':_0x2eabae(0x837)}];function renderTopicCheckboxes(){const _0x2616bc=_0x2eabae,_0x54071b=document['getElementById'](_0x2616bc(0x70a));if(!_0x54071b)return;const _0x578229=allMathTopics,_0x56831e=customMathTopics[_0x2616bc(0x58b)](_0x5016af=>({'id':_0x5016af['id'],'category':_0x2616bc(0x410),'name':_0x5016af[_0x2616bc(0x531)]})),_0x48fcea=[..._0x578229,..._0x56831e],_0x208c19=_0x48fcea[_0x2616bc(0x54c)]((_0x522894,_0x141513)=>{const _0x369be8=_0x2616bc;return!_0x522894[_0x141513[_0x369be8(0x28a)]]&&(_0x522894[_0x141513[_0x369be8(0x28a)]]=[]),_0x522894[_0x141513[_0x369be8(0x28a)]]['push'](_0x141513),_0x522894;},{});let _0x3e277f='';const _0x182c34=[_0x2616bc(0x410),...Object[_0x2616bc(0x282)](_0x208c19)['filter'](_0x59b5db=>_0x59b5db!==_0x2616bc(0x410))];for(const _0x4cecef of _0x182c34){if(_0x208c19[_0x4cecef]){const _0x4970eb=_0x4cecef==='หัวข้อที่สร้างเอง',_0x222b28=_0x4970eb?_0x2616bc(0x5ef):_0x2616bc(0x2af),_0x5d93d6=_0x4970eb?_0x2616bc(0x34c):_0x2616bc(0x5bc);_0x3e277f+=_0x2616bc(0x23d),_0x3e277f+=_0x2616bc(0x27a)+_0x5d93d6+_0x2616bc(0x80b)+_0x222b28+_0x2616bc(0x68c)+_0x4cecef+_0x2616bc(0x1d8),_0x208c19[_0x4cecef][_0x2616bc(0x4ac)](_0x3106c3=>{const _0x23aeef=_0x2616bc,_0x8ef9c6=!!_0x3106c3['id'],_0x32c867=_0x8ef9c6?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3106c3['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3106c3['id']+_0x23aeef(0x5b0)+_0x3106c3['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3106c3['id']+_0x23aeef(0x6c4):'';_0x3e277f+=_0x23aeef(0x278)+(_0x3106c3['id']||'')+_0x23aeef(0x48f)+_0x3106c3[_0x23aeef(0x531)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x3106c3[_0x23aeef(0x531)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x8ef9c6?_0x23aeef(0x8d9)+_0x3106c3['name']+'\x22>':'')+_0x23aeef(0x7cc)+_0x32c867+_0x23aeef(0x70d);}),_0x3e277f+=_0x2616bc(0x8dc);}}_0x54071b['innerHTML']=_0x3e277f||_0x2616bc(0x83b),_0x54071b[_0x2616bc(0x17b)](_0x2616bc(0x71e),updateSelectedTopicsCount),_0x54071b[_0x2616bc(0x639)](_0x2616bc(0x71e),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x7a8c6,_0x39976e){const _0x1ea527=_0x2eabae;if(!_0x7a8c6||!_0x39976e['trim']()){showMessage(_0x1ea527(0x6fc));return;}try{const _0x12031c=doc(db,'artifacts/'+appId+'/public/data/customMathTopics',_0x7a8c6);await updateDoc(_0x12031c,{'name':_0x39976e[_0x1ea527(0x88b)]()}),showMessage(_0x1ea527(0x6f3));}catch(_0x586dc7){console['error'](_0x1ea527(0x5cd),_0x586dc7),showMessage(_0x1ea527(0x903));}}function toggleTopicEditMode(_0x340907,_0x32da8c){const _0x44bbe4=_0x2eabae;if(!_0x340907)return;const _0x5bc253=_0x340907[_0x44bbe4(0x451)](_0x44bbe4(0x888)),_0x23b2cc=_0x340907[_0x44bbe4(0x451)](_0x44bbe4(0x36b)),_0x5dcc64=_0x340907[_0x44bbe4(0x451)](_0x44bbe4(0x386)),_0x42da15=_0x340907[_0x44bbe4(0x451)](_0x44bbe4(0x4f1));_0x5bc253['classList'][_0x44bbe4(0x899)](_0x44bbe4(0x3ef),_0x32da8c),_0x23b2cc[_0x44bbe4(0x62e)][_0x44bbe4(0x899)](_0x44bbe4(0x3ef),!_0x32da8c),_0x5dcc64['classList']['toggle'](_0x44bbe4(0x3ef),_0x32da8c),_0x42da15['classList'][_0x44bbe4(0x899)](_0x44bbe4(0x3ef),!_0x32da8c),_0x32da8c&&(_0x23b2cc[_0x44bbe4(0x834)](),_0x23b2cc[_0x44bbe4(0x23e)]());}function updateSelectedTopicsCount(){const _0x5913da=_0x2eabae,_0x3f702a=document[_0x5913da(0x6a9)]('math-topics-checkbox-container'),_0x366097=_0x3f702a[_0x5913da(0x5fe)](_0x5913da(0x203))[_0x5913da(0x1f2)],_0x4bd501=document[_0x5913da(0x6a9)](_0x5913da(0x3d0));_0x366097>0x0?_0x4bd501[_0x5913da(0x60c)]=_0x5913da(0x3cb)+_0x366097+_0x5913da(0x3f6):_0x4bd501['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x2eabae(0x817),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x2eabae(0x593),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x2eabae(0x7f7),'name':'คะแนนเต็ม','description':_0x2eabae(0x270),'icon':_0x2eabae(0x8d7)},'QUICK_THINKER':{'id':_0x2eabae(0x3e4),'name':_0x2eabae(0x2d9),'description':_0x2eabae(0x1c9),'icon':_0x2eabae(0x168)},'ON_FIRE':{'id':_0x2eabae(0x3fc),'name':_0x2eabae(0x1da),'description':_0x2eabae(0x450),'icon':_0x2eabae(0x322)},'FIRST_TRY_ACE':{'id':_0x2eabae(0x1b6),'name':_0x2eabae(0x6d9),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x2eabae(0x443),'name':_0x2eabae(0x4ce),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x2eabae(0x856)},'SPECIALIST':{'id':_0x2eabae(0x357),'name':_0x2eabae(0x8cd),'description':_0x2eabae(0x677),'icon':_0x2eabae(0x8f1)},'PERSEVERANCE':{'id':_0x2eabae(0x668),'name':_0x2eabae(0x501),'description':_0x2eabae(0x6eb),'icon':_0x2eabae(0x814)}},firebaseConfig={'apiKey':_0x2eabae(0x521),'authDomain':_0x2eabae(0x3f9),'projectId':_0x2eabae(0x50e),'storageBucket':_0x2eabae(0x8b9),'messagingSenderId':_0x2eabae(0x56a),'appId':_0x2eabae(0x526),'measurementId':_0x2eabae(0x750)},appId=typeof __app_id!==_0x2eabae(0x89a)?__app_id:_0x2eabae(0x566),adminView=document['getElementById']('admin-view'),studentView=document['getElementById'](_0x2eabae(0x2d4)),projectDashboardView=document[_0x2eabae(0x6a9)]('project-dashboard-view'),projectDetailView=document[_0x2eabae(0x6a9)](_0x2eabae(0x4ba)),quizResultsView=document[_0x2eabae(0x6a9)](_0x2eabae(0x175)),projectList=document[_0x2eabae(0x6a9)](_0x2eabae(0x326)),noProjectsMsg=document[_0x2eabae(0x6a9)](_0x2eabae(0x6c1)),projectTitle=document[_0x2eabae(0x6a9)]('project-title'),projectIdDisplay=document[_0x2eabae(0x6a9)](_0x2eabae(0x3c1)),studentList=document[_0x2eabae(0x6a9)](_0x2eabae(0x1ae)),messageModal=document['getElementById'](_0x2eabae(0x487)),modalMessage=document['getElementById'](_0x2eabae(0x81d)),createProjectModal=document[_0x2eabae(0x6a9)](_0x2eabae(0x53a)),adminPasswordModal=document[_0x2eabae(0x6a9)](_0x2eabae(0x38d)),confirmationModal=document[_0x2eabae(0x6a9)](_0x2eabae(0x263)),userIdDisplay=document['getElementById'](_0x2eabae(0x368)),topicTab=document[_0x2eabae(0x6a9)](_0x2eabae(0x8ac)),textTab=document[_0x2eabae(0x6a9)](_0x2eabae(0x73b)),topicInputArea=document[_0x2eabae(0x6a9)]('topic-input-area'),textInputArea=document[_0x2eabae(0x6a9)]('text-input-area'),manageTab=document[_0x2eabae(0x6a9)](_0x2eabae(0x40a)),resultsTab=document[_0x2eabae(0x6a9)](_0x2eabae(0x860)),leaderboardTab=document['getElementById'](_0x2eabae(0x6aa)),manageTabContent=document['getElementById'](_0x2eabae(0x59c)),resultsTabContent=document[_0x2eabae(0x6a9)](_0x2eabae(0x3b3)),leaderboardTabContent=document[_0x2eabae(0x6a9)]('leaderboard-tab-content'),projectQuizzesList=document['getElementById'](_0x2eabae(0x63a)),fileTab=document[_0x2eabae(0x6a9)](_0x2eabae(0x765)),fileInputArea=document[_0x2eabae(0x6a9)]('file-input-area'),fileUploadInput=document[_0x2eabae(0x6a9)]('file-upload-input'),worksheetTab=document[_0x2eabae(0x6a9)]('worksheet-tab'),worksheetInputArea=document[_0x2eabae(0x6a9)]('worksheet-input-area'),generateWorksheetBtn=document[_0x2eabae(0x6a9)](_0x2eabae(0x73e)),studentInitialView=document[_0x2eabae(0x6a9)](_0x2eabae(0x515)),studentNameSelectionView=document[_0x2eabae(0x6a9)]('student-name-selection-view'),studentQuizArea=document[_0x2eabae(0x6a9)](_0x2eabae(0x45d)),studentResultArea=document[_0x2eabae(0x6a9)](_0x2eabae(0x1bc)),studentReadingArea=document[_0x2eabae(0x6a9)](_0x2eabae(0x5a8)),loadQuizBtn=document['getElementById'](_0x2eabae(0x4e6)),startQuizBtn=document[_0x2eabae(0x6a9)]('start-quiz-btn'),studentJoinGameView=document[_0x2eabae(0x6a9)](_0x2eabae(0x8f7)),presentationModal=document[_0x2eabae(0x6a9)](_0x2eabae(0x36f)),renameQuizModal=document['getElementById'](_0x2eabae(0x4f6)),moveQuizModal=document[_0x2eabae(0x6a9)](_0x2eabae(0x6ee)),quizSettingsModal=document[_0x2eabae(0x6a9)](_0x2eabae(0x74d)),quizStatusModal=document[_0x2eabae(0x6a9)](_0x2eabae(0x381)),liveGameView=document[_0x2eabae(0x6a9)](_0x2eabae(0x6ff));function handleAutoFixLatex(){const _0x3cb95a=_0x2eabae,_0x101ab2=document['getElementById'](_0x3cb95a(0x8a7))||document,_0x493c1c=_0x101ab2[_0x3cb95a(0x5fe)](['textarea','input[type=\x22text\x22]',_0x3cb95a(0x59e),_0x3cb95a(0x7fc),'.ql-editor',_0x3cb95a(0x522),'.choice-text','.option-text',_0x3cb95a(0x66d)][_0x3cb95a(0x702)](','));let _0x3e4dbb=0x0;const _0x1dac84=_0xd472e8=>_0x3cb95a(0x223)in _0xd472e8?String(_0xd472e8[_0x3cb95a(0x223)]):_0xd472e8[_0x3cb95a(0x4e4)]!==undefined?_0xd472e8[_0x3cb95a(0x4e4)]:_0xd472e8[_0x3cb95a(0x60c)]||'',_0x1e7b63=(_0x4de3fe,_0x54aecd)=>{const _0x1aefdf=_0x3cb95a;if(_0x1aefdf(0x223)in _0x4de3fe){_0x4de3fe[_0x1aefdf(0x223)]=_0x54aecd;return;}if(_0x4de3fe['querySelector']&&_0x4de3fe[_0x1aefdf(0x451)]('mjx-container'))return;if(_0x4de3fe['innerText']!==undefined)_0x4de3fe[_0x1aefdf(0x4e4)]=_0x54aecd;else _0x4de3fe[_0x1aefdf(0x60c)]=_0x54aecd;},_0x1d920a=_0x36d59f=>_0x36d59f[_0x3cb95a(0x90e)](/\u00A0/g,'\x20')[_0x3cb95a(0x90e)](/\u200B/g,'')[_0x3cb95a(0x90e)](/\r\n?/g,'\x0a'),_0x41514a=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0xb5198d=_0x4a88a1=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x4a88a1),_0x3f08d2=_0x219384=>{const _0x3b6499=_0x3cb95a,_0x140412=(_0x219384[_0x3b6499(0x2ac)](/\{/g)||[])['length'],_0x56b05a=(_0x219384[_0x3b6499(0x2ac)](/\}/g)||[])[_0x3b6499(0x1f2)];if(_0x140412>_0x56b05a)_0x219384=_0x219384+'}'[_0x3b6499(0x6d7)](_0x140412-_0x56b05a);return _0x219384;},_0x47b9b5=_0x3e47ee=>{const _0x17d5d1=_0x3cb95a;let _0x492e15=_0x3e47ee[_0x17d5d1(0x88b)]();const _0x34a880=[_0x17d5d1(0x8b5),_0x17d5d1(0x1d4),_0x17d5d1(0x5fa),_0x17d5d1(0x3cc),'text','times',_0x17d5d1(0x827),_0x17d5d1(0x4f0),_0x17d5d1(0x8f6),_0x17d5d1(0x8bf),'le','ge',_0x17d5d1(0x707),'pm','approx',_0x17d5d1(0x205),_0x17d5d1(0x7ac),_0x17d5d1(0x848),'log','ln','sum',_0x17d5d1(0x550),_0x17d5d1(0x7f3),_0x17d5d1(0x46f),_0x17d5d1(0x49e),_0x17d5d1(0x2bf),_0x17d5d1(0x505),'circ',_0x17d5d1(0x437)];_0x492e15=_0x492e15[_0x17d5d1(0x90e)](new RegExp('\x5c\x5c\x5c\x5c(?=('+_0x34a880['join']('|')+')\x5cb)','g'),'\x5c'),_0x34a880[_0x17d5d1(0x4ac)](_0xc494bc=>{const _0x57d427=_0x17d5d1;_0x492e15=_0x492e15[_0x57d427(0x90e)](new RegExp(_0x57d427(0x167)+_0xc494bc+'\x5cb','g'),(_0x109503,_0x1a119c)=>_0x1a119c+'\x5c'+_0xc494bc);});const _0x235d49=[[/×/g,_0x17d5d1(0x42e)],[/·/g,'\x5ccdot'],[/÷/g,'\x5cdiv'],[/≤/g,_0x17d5d1(0x89f)],[/≥/g,'\x5cge'],[/≠/g,_0x17d5d1(0x8c3)],[/±/g,_0x17d5d1(0x83f)],[/∑/g,_0x17d5d1(0x679)],[/−/g,'-']];_0x235d49[_0x17d5d1(0x4ac)](([_0x90306c,_0xb1aea6])=>{const _0x52a528=_0x17d5d1;_0x492e15=_0x492e15[_0x52a528(0x90e)](_0x90306c,_0xb1aea6);}),_0x492e15=_0x492e15[_0x17d5d1(0x90e)](/√\s*\(([^)]*)\)/g,'\x5csqrt{$1}'),_0x492e15=_0x492e15[_0x17d5d1(0x90e)](/√\s*([A-Za-z0-9]+)/g,_0x17d5d1(0x7ce)),_0x492e15=_0x492e15[_0x17d5d1(0x90e)](/(^|[^\\])\bimes\b/g,_0x17d5d1(0x230))[_0x17d5d1(0x90e)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x17d5d1(0x89e))[_0x17d5d1(0x90e)](/(^|[^\\])ext\{/g,_0x17d5d1(0x6b1))[_0x17d5d1(0x90e)](/(^|[^\\])ext\(/g,_0x17d5d1(0x37e))[_0x17d5d1(0x90e)](/\\text\(([^)]*)\)/g,_0x17d5d1(0x41b))[_0x17d5d1(0x90e)](/\s\\frac/g,'\x5cfrac'),_0x492e15=_0x492e15['replace'](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x2536da,_0x4f1572,_0x401423,_0x390417)=>_0x4f1572+_0x17d5d1(0x79e)+_0x401423+'}{'+_0x390417+'}'),_0x492e15=_0x492e15[_0x17d5d1(0x90e)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x17d5d1(0x546))[_0x17d5d1(0x90e)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x17d5d1(0x546))[_0x17d5d1(0x90e)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x17d5d1(0x546)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x17d5d1(0x6ba)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x17d5d1(0x6ba)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*o\s*C\b/g,_0x17d5d1(0x6ba)],[/(\d+)\s*\^\s*\\?circ\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°\s*C/g,_0x17d5d1(0x6ba)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x17d5d1(0x387)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x17d5d1(0x6ba)]][_0x17d5d1(0x4ac)](([_0x3d24c1,_0x3380f2])=>{const _0x26bd94=_0x17d5d1;_0x492e15=_0x492e15[_0x26bd94(0x90e)](_0x3d24c1,_0x3380f2);}),_0x492e15=_0x492e15[_0x17d5d1(0x90e)](/(\d+)\s*%/g,'$1\x5c%'),_0x492e15=_0x492e15[_0x17d5d1(0x90e)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x17d5d1(0x762))[_0x17d5d1(0x90e)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x17d5d1(0x3f5))['replace'](/\{\{([^\{\}]+)\}\}/g,_0x17d5d1(0x549)),[_0x17d5d1(0x205),_0x17d5d1(0x7ac),_0x17d5d1(0x848),_0x17d5d1(0x305),'ln'][_0x17d5d1(0x4ac)](_0x2f29bd=>{const _0x4fb33c=_0x17d5d1;_0x492e15=_0x492e15[_0x4fb33c(0x90e)](new RegExp(_0x4fb33c(0x167)+_0x2f29bd+_0x4fb33c(0x7b9),'g'),(_0x4752bd,_0x251b69)=>_0x251b69+'\x5c'+_0x2f29bd+'(');});const _0x5ab43c=(_0x492e15[_0x17d5d1(0x2ac)](/\\left\b/g)||[])[_0x17d5d1(0x1f2)],_0x2bc4ec=(_0x492e15[_0x17d5d1(0x2ac)](/\\right\b/g)||[])[_0x17d5d1(0x1f2)];if(_0x5ab43c!==_0x2bc4ec)_0x492e15=_0x492e15[_0x17d5d1(0x90e)](/\\left\b/g,'')[_0x17d5d1(0x90e)](/\\right\b/g,'');return _0x492e15=_0x3f08d2(_0x492e15),_0x492e15;},_0x231600=_0x4ee8e8=>{const _0x495047=_0x3cb95a;if(/\$|\\\(|\\\[/['test'](_0x4ee8e8))return _0x4ee8e8;if(!_0x41514a[_0x495047(0x6c2)](_0x4ee8e8))return _0x4ee8e8;const _0x315514=_0x4ee8e8[_0x495047(0x2ac)](/^\s*/)[0x0],_0x11af3c=_0x4ee8e8['match'](/\s*$/)[0x0],_0x200fbb=_0x4ee8e8[_0x495047(0x88b)]();return _0x315514+'$'+_0x47b9b5(_0x200fbb)+'$'+_0x11af3c;},_0x5bfb7b=_0x1060de=>_0x1060de[_0x3cb95a(0x79c)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x493c1c[_0x3cb95a(0x4ac)](_0x5512df=>{const _0x57cf4c=_0x3cb95a;if(_0x5512df[_0x57cf4c(0x451)]&&_0x5512df[_0x57cf4c(0x451)]('mjx-container'))return;const _0x4cd347=_0x1dac84(_0x5512df);let _0xdadc02=_0x1d920a(_0x4cd347);_0xdadc02=_0xdadc02[_0x57cf4c(0x90e)](/\$\$([\s\S]*?)\$\$/g,(_0x3f4ce0,_0x303b1a)=>'$$'+_0x47b9b5(_0x303b1a)+'$$')['replace'](/\$([^$]*?)\$/g,(_0x52594c,_0x2fd4d7)=>'$'+_0x47b9b5(_0x2fd4d7)+'$')[_0x57cf4c(0x90e)](/\\\(([\s\S]*?)\\\)/g,(_0x321264,_0x5a3440)=>'\x5c('+_0x47b9b5(_0x5a3440)+'\x5c)')[_0x57cf4c(0x90e)](/\\\[([\s\S]*?)\\\]/g,(_0x585e21,_0x22d67c)=>'\x5c['+_0x47b9b5(_0x22d67c)+'\x5c]');let _0x564966=_0xdadc02,_0x267087=0x0;const _0x182445=_0x37a5e8=>_0x37a5e8['replace'](/S([^S]{0,2000}?)S/g,(_0x19ef55,_0x5ccd0d)=>_0x41514a[_0x57cf4c(0x6c2)](_0x5ccd0d)?'$'+_0x47b9b5(_0x5ccd0d)+'$':_0x19ef55);while(_0x267087++<0x14){const _0x502697=_0x182445(_0x564966);if(_0x502697===_0x564966)break;_0x564966=_0x502697;}_0xdadc02=_0x564966,_0xdadc02=_0xdadc02[_0x57cf4c(0x79c)]('\x0a')[_0x57cf4c(0x58b)](_0x5e29cc=>{const _0x3eeae3=_0x57cf4c;if(!(/[,\u3001，;；]/[_0x3eeae3(0x6c2)](_0x5e29cc)||/\s(?:และ|หรือ)\s/[_0x3eeae3(0x6c2)](_0x5e29cc))||!_0x41514a[_0x3eeae3(0x6c2)](_0x5e29cc))return _0x5e29cc;return _0x5bfb7b(_0x5e29cc)[_0x3eeae3(0x58b)](_0x7ee64a=>{const _0xc4e8e7=_0x3eeae3;if(/^\s(?:และ|หรือ)\s$/['test'](_0x7ee64a)||/^[,\u3001，;；]$/[_0xc4e8e7(0x6c2)](_0x7ee64a))return _0x7ee64a;return _0x231600(_0x7ee64a);})['join']('');})[_0x57cf4c(0x702)]('\x0a'),_0xdadc02=_0xdadc02[_0x57cf4c(0x79c)]('\x0a')[_0x57cf4c(0x58b)](_0x42da0b=>{const _0x57b917=_0x57cf4c,_0x899863=_0x42da0b[_0x57b917(0x88b)]();if(!_0x899863)return _0x42da0b;const _0x8b680c=/\$|\\\(|\\\[/[_0x57b917(0x6c2)](_0x899863),_0x2b72ae=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x57b917(0x6c2)](_0x899863);if(_0x8b680c||!_0x2b72ae||_0xb5198d(_0x899863))return _0x42da0b;return _0x42da0b['replace'](_0x899863,'$'+_0x47b9b5(_0x899863)+'$');})[_0x57cf4c(0x702)]('\x0a'),_0xdadc02=_0xdadc02['replace'](/(\d+)\s*°\s*C\b/g,(_0x871149,_0x3ddd97,_0x21bf08,_0xfb9fc4)=>{const _0x12917c=_0x57cf4c,_0x4a5151=_0xfb9fc4[_0x21bf08-0x1];if(_0x4a5151==='$'||_0x4a5151==='S'||_0x4a5151==='\x5c')return _0x871149;return'$'+_0x3ddd97+_0x12917c(0x558);})[_0x57cf4c(0x90e)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x36e07c,_0x570ac2,_0x58446f,_0x3626a1)=>{const _0x18d7f8=_0x57cf4c,_0x27cb8d=_0x3626a1[_0x58446f-0x1];if(_0x27cb8d==='$'||_0x27cb8d==='S'||_0x27cb8d==='\x5c')return _0x36e07c;return'$'+_0x570ac2+_0x18d7f8(0x558);})[_0x57cf4c(0x90e)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x5859a3,_0x122b7a,_0x496e59,_0x5ac11d)=>{const _0x2d71b6=_0x57cf4c,_0x247317=_0x5ac11d[_0x496e59-0x1];if(_0x247317==='$'||_0x247317==='S'||_0x247317==='\x5c')return _0x5859a3;return'$'+_0x122b7a+_0x2d71b6(0x558);}),_0xdadc02=_0xdadc02[_0x57cf4c(0x90e)](/\$\s*\$/g,'$$'),_0xdadc02!==_0x4cd347&&(_0x1e7b63(_0x5512df,_0xdadc02),_0x3e4dbb++);});if(_0x3e4dbb>0x0){showMessage(_0x3cb95a(0x86e)+_0x3e4dbb+_0x3cb95a(0x59b));try{if(window[_0x3cb95a(0x6d3)]&&MathJax['typesetPromise'])MathJax[_0x3cb95a(0x820)]();window[_0x3cb95a(0x598)]&&typeof renderMathInElement==='function'&&renderMathInElement(_0x101ab2,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x68fc8c){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x5f4ba7=_0x2eabae,_0x442fc2=collection(db,'artifacts/'+appId+_0x5f4ba7(0x452));onSnapshot(_0x442fc2,_0x4d629d=>{const _0x4a96ad=_0x5f4ba7;customMathTopics=_0x4d629d[_0x4a96ad(0x825)][_0x4a96ad(0x58b)](_0x13f7e8=>({'id':_0x13f7e8['id'],..._0x13f7e8[_0x4a96ad(0x495)]()})),renderTopicCheckboxes();},_0x3304be=>{const _0x532964=_0x5f4ba7;console[_0x532964(0x497)](_0x532964(0x1ac),_0x3304be);});}function handleSelectAllTopics(){const _0x36be23=_0x2eabae,_0x46f141=document[_0x36be23(0x6a9)](_0x36be23(0x70a)),_0x32c4dd=_0x46f141[_0x36be23(0x5fe)](_0x36be23(0x617));_0x32c4dd[_0x36be23(0x4ac)](_0x3f519d=>{const _0x56a8a0=_0x36be23;_0x3f519d[_0x56a8a0(0x2e9)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x2253a2=_0x2eabae,_0x4bff21=document[_0x2253a2(0x6a9)](_0x2253a2(0x70a)),_0x4a8f97=_0x4bff21[_0x2253a2(0x5fe)](_0x2253a2(0x617));_0x4a8f97['forEach'](_0x1e1d3b=>{const _0x118125=_0x2253a2;_0x1e1d3b[_0x118125(0x2e9)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x2c0aed){const _0x36b9cd=_0x2eabae;if(!_0x2c0aed)return;try{const _0x54f0a8=doc(db,'artifacts/'+appId+'/public/data/customMathTopics',_0x2c0aed);await deleteDoc(_0x54f0a8),showMessage(_0x36b9cd(0x6c6));}catch(_0x182968){console[_0x36b9cd(0x497)](_0x36b9cd(0x1f0),_0x182968),showMessage(_0x36b9cd(0x579));}}async function handleAddCustomMathTopic(){const _0xee13d2=_0x2eabae,_0x290211=document[_0xee13d2(0x6a9)](_0xee13d2(0x5d3)),_0x8c318f=_0x290211['value'][_0xee13d2(0x88b)]();if(!_0x8c318f){showMessage(_0xee13d2(0x44c));return;}if(!userId){showMessage(_0xee13d2(0x578));return;}try{const _0x52eb3d=collection(db,_0xee13d2(0x84e)+appId+_0xee13d2(0x452));await addDoc(_0x52eb3d,{'name':_0x8c318f,'createdAt':serverTimestamp()}),_0x290211[_0xee13d2(0x223)]='',showMessage(_0xee13d2(0x3e6)+_0x8c318f+_0xee13d2(0x862));}catch(_0xe050f7){console['error'](_0xee13d2(0x3e0),_0xe050f7),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x1f1d5c=_0x4eb1,_0x5cf887=document[_0x1f1d5c(0x6a9)](_0x1f1d5c(0x258)),_0x3bce80=document['getElementById'](_0x1f1d5c(0x32d)),_0x361b0b=_0x3bce80['textContent'];_0x5cf887['classList'][_0x1f1d5c(0x3b0)](_0x1f1d5c(0x3ef)),_0x3bce80[_0x1f1d5c(0x60c)]=_0x1f1d5c(0x732);try{const _0x737333=collection(db,_0x1f1d5c(0x84e)+appId+'/public/data/quizzes'),_0x1e0e57=await getDocs(_0x737333);if(_0x1e0e57[_0x1f1d5c(0x78e)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x592f3c=writeBatch(db);let _0x28a6c1=0x0;_0x1e0e57[_0x1f1d5c(0x4ac)](_0x58df53=>{const _0x1e7cdb=_0x1f1d5c,_0x4ae130=_0x58df53[_0x1e7cdb(0x495)](),_0x4384e0=_0x58df53['id'];if(_0x4ae130[_0x1e7cdb(0x813)]&&_0x4ae130['questions'][_0x1e7cdb(0x1f2)]>0x0&&!_0x4ae130[_0x1e7cdb(0x813)][0x0]['hasOwnProperty']('id')){console['log']('พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20'+_0x4384e0+'\x20('+_0x4ae130[_0x1e7cdb(0x4d1)]+')'),_0x28a6c1++;const _0x29cd28=_0x4ae130['questions'][_0x1e7cdb(0x58b)]((_0x2a912f,_0x5b0a27)=>{const _0x5483ba=_0x1e7cdb;return{..._0x2a912f,'id':_0x2a912f['id']||'q_'+Date[_0x5483ba(0x193)]()+'_'+_0x4384e0+'_'+_0x5b0a27};}),_0x455de8=doc(db,_0x1e7cdb(0x84e)+appId+_0x1e7cdb(0x429),_0x4384e0);_0x592f3c[_0x1e7cdb(0x179)](_0x455de8,{'questions':_0x29cd28});}}),_0x28a6c1>0x0?(_0x3bce80[_0x1f1d5c(0x60c)]=_0x1f1d5c(0x874)+_0x28a6c1+_0x1f1d5c(0x253),await _0x592f3c['commit'](),showMessage(_0x1f1d5c(0x2f9)+_0x28a6c1+'\x20รายการสำเร็จ!')):showMessage(_0x1f1d5c(0x5c5));}catch(_0x4a848e){console[_0x1f1d5c(0x497)]('Error\x20updating\x20old\x20quizzes:',_0x4a848e),showMessage(_0x1f1d5c(0x280)+_0x4a848e['message']);}finally{_0x5cf887[_0x1f1d5c(0x62e)][_0x1f1d5c(0x6e5)](_0x1f1d5c(0x3ef)),_0x3bce80[_0x1f1d5c(0x60c)]=_0x361b0b;}});}async function initialize(){const _0xb169b=_0x2eabae;try{const _0x2ff2ec=initializeApp(firebaseConfig);db=getFirestore(_0x2ff2ec),auth=getAuth(_0x2ff2ec),setupAuthListener(),setupEventListeners(),showView(_0xb169b(0x817)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x2d4b7f){console[_0xb169b(0x497)](_0xb169b(0x5ce),_0x2d4b7f),showMessage(_0xb169b(0x6e7));}}async function handleVerifyAnswersInEditor(){const _0x15e8a7=_0x2eabae,_0x3eab66=document['getElementById'](_0x15e8a7(0x70c));if(!_0x3eab66)return;const _0x47b2c4=document['getElementById']('verify-answers-editor-btn');_0x47b2c4[_0x15e8a7(0x423)]=!![],_0x47b2c4[_0x15e8a7(0x7c0)]=_0x15e8a7(0x8ea);try{const _0x21e08a=_0x3eab66[_0x15e8a7(0x5fe)]('.question-editor-item'),_0x4afffc=Array[_0x15e8a7(0x36c)](_0x21e08a)[_0x15e8a7(0x58b)]((_0x595f3f,_0x587b70)=>{const _0x101d38=_0x15e8a7,_0x2217de=_0x595f3f[_0x101d38(0x7c5)]['qType'],_0x9206f0=_0x595f3f[_0x101d38(0x451)](_0x101d38(0x28e))[_0x101d38(0x223)];let _0x3ebe88=null,_0x429791='';switch(_0x2217de){case _0x101d38(0x299):const _0xb93366=_0x595f3f[_0x101d38(0x5fe)]('input[type=\x22text\x22]');_0x3ebe88=Array['from'](_0xb93366)['map'](_0x2da6cb=>_0x2da6cb[_0x101d38(0x223)]);const _0x1186f7=_0x595f3f[_0x101d38(0x451)](_0x101d38(0x902));_0x1186f7&&(_0x429791=_0x3ebe88[parseInt(_0x1186f7[_0x101d38(0x223)])]);break;case _0x101d38(0x53e):_0x429791=_0x595f3f[_0x101d38(0x451)](_0x101d38(0x41a))[_0x101d38(0x223)];break;case _0x101d38(0x254):const _0x151d82=_0x595f3f[_0x101d38(0x451)](_0x101d38(0x902));_0x429791=_0x151d82?_0x151d82['value']:'';break;case _0x101d38(0x29d):_0x429791=_0x595f3f[_0x101d38(0x451)](_0x101d38(0x80a))[_0x101d38(0x223)];break;}return{'question':_0x9206f0,'options':_0x3ebe88,'proposedAnswer':_0x429791};}),_0x2007cf=_0x15e8a7(0x5bb)+JSON[_0x15e8a7(0x741)](_0x4afffc)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x31cf6c={'type':_0x15e8a7(0x635),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x15e8a7(0x3be)},'isCorrect':{'type':_0x15e8a7(0x3f4)},'justification':{'type':_0x15e8a7(0x5df)},'suggestedAnswer':{'type':_0x15e8a7(0x5df)}},'required':[_0x15e8a7(0x333),_0x15e8a7(0x671),_0x15e8a7(0x873)]}},_0x2639c1=await callAnalysisApi(_0x2007cf,{'type':'OBJECT','properties':{'result':_0x31cf6c},'required':['result']});displayVerificationResultsInEditor(_0x2639c1['result']);}catch(_0x4d43a9){console[_0x15e8a7(0x497)]('Error\x20verifying\x20answers\x20in\x20editor:',_0x4d43a9),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x47b2c4['disabled']=![],_0x47b2c4[_0x15e8a7(0x7c0)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x231551){const _0x3ac6ce=_0x2eabae;_0x231551[_0x3ac6ce(0x4ac)](_0x2593ed=>{const _0x25f67c=_0x3ac6ce,_0x31e9b0=document[_0x25f67c(0x451)]('.question-editor-item[data-q-index=\x22'+_0x2593ed[_0x25f67c(0x333)]+'\x22]');if(_0x31e9b0){const _0x36a97b=_0x31e9b0[_0x25f67c(0x451)](_0x25f67c(0x1d3));if(_0x36a97b)_0x36a97b[_0x25f67c(0x3b0)]();let _0x5edddb='';_0x2593ed[_0x25f67c(0x671)]?_0x5edddb=_0x25f67c(0x2c5):_0x5edddb=_0x25f67c(0x876)+_0x2593ed[_0x25f67c(0x873)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2593ed[_0x25f67c(0x8bc)]?_0x25f67c(0x771)+_0x2593ed[_0x25f67c(0x8bc)]+'</p>':'')+_0x25f67c(0x790),_0x31e9b0[_0x25f67c(0x626)](_0x25f67c(0x2c9),_0x5edddb);}}),showMessage(_0x3ac6ce(0x1a8));}async function handleVerifyAnswers(){const _0x32b59b=_0x2eabae;if(!currentQuizData||!currentQuizData[_0x32b59b(0x813)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x854f9f=document[_0x32b59b(0x6a9)](_0x32b59b(0x482));_0x854f9f[_0x32b59b(0x423)]=!![],_0x854f9f[_0x32b59b(0x7c0)]=_0x32b59b(0x8ea);try{const _0x229f2f=currentQuizData[_0x32b59b(0x813)][_0x32b59b(0x58b)]((_0x2f5dfd,_0x1ea202)=>{const _0x7a252c=_0x32b59b;let _0x28f92e='';const _0xd278ac=_0x2f5dfd[_0x7a252c(0x2a3)]||currentQuizData[_0x7a252c(0x6bc)];switch(_0xd278ac){case _0x7a252c(0x299):_0x28f92e=_0x2f5dfd['options'][_0x2f5dfd[_0x7a252c(0x58f)]];break;case _0x7a252c(0x53e):_0x28f92e=_0x2f5dfd['idealAnswer'];break;case'true_false':_0x28f92e=_0x2f5dfd[_0x7a252c(0x213)]['toString']();break;case _0x7a252c(0x29d):_0x28f92e=_0x2f5dfd[_0x7a252c(0x308)];break;}return{'question':_0x2f5dfd['stem']||_0x2f5dfd['questionText'],'options':_0x2f5dfd[_0x7a252c(0x8de)]||null,'proposedAnswer':_0x28f92e};}),_0x2f9041=_0x32b59b(0x7d5)+JSON[_0x32b59b(0x741)](_0x229f2f)+_0x32b59b(0x274),_0x5b4a69={'type':_0x32b59b(0x635),'items':{'type':_0x32b59b(0x733),'properties':{'questionIndex':{'type':_0x32b59b(0x3be)},'isCorrect':{'type':_0x32b59b(0x3f4)},'justification':{'type':_0x32b59b(0x5df)},'suggestedAnswer':{'type':_0x32b59b(0x5df)}},'required':[_0x32b59b(0x333),_0x32b59b(0x671),_0x32b59b(0x873)]}},_0xa0603e=await callAnalysisApi(_0x2f9041,{'type':_0x32b59b(0x733),'properties':{'result':_0x5b4a69},'required':[_0x32b59b(0x5f8)]});displayVerificationResults(_0xa0603e[_0x32b59b(0x5f8)]);}catch(_0x1dab4b){console['error'](_0x32b59b(0x441),_0x1dab4b),showMessage(_0x32b59b(0x84a));}finally{_0x854f9f['disabled']=![],_0x854f9f['innerHTML']=_0x32b59b(0x909);}}function displayVerificationResults(_0x37035b){const _0x5e6f0c=_0x2eabae;_0x37035b[_0x5e6f0c(0x4ac)](_0x337813=>{const _0x221052=_0x5e6f0c,_0x2134bc=document[_0x221052(0x451)](_0x221052(0x786)+_0x337813['questionIndex']+'\x22]');if(_0x2134bc){const _0x165ccd=_0x2134bc[_0x221052(0x451)](_0x221052(0x565));if(_0x165ccd)_0x165ccd[_0x221052(0x3b0)]();let _0xd3c3e8='';_0x337813[_0x221052(0x671)]?_0xd3c3e8=_0x221052(0x1c0):_0xd3c3e8=_0x221052(0x843)+_0x337813['justification']+_0x221052(0x6df)+(_0x337813['suggestedAnswer']?_0x221052(0x771)+_0x337813[_0x221052(0x8bc)]+_0x221052(0x1d8):'')+_0x221052(0x3f1),_0x2134bc[_0x221052(0x626)](_0x221052(0x2c9),_0xd3c3e8);}}),showMessage(_0x5e6f0c(0x1a8));}function compareNumericalAnswers(_0x464ed4,_0x576171){const _0x3dd468=_0x2eabae,_0x306563=String(_0x464ed4)['replace'](',','.')[_0x3dd468(0x90e)](/[^\d.-]/g,'')['trim'](),_0x5cdaf2=String(_0x576171)[_0x3dd468(0x90e)](',','.')[_0x3dd468(0x90e)](/[^\d.-]/g,'')['trim']();if(_0x306563===''||_0x5cdaf2==='')return![];const _0x2c7901=parseFloat(_0x306563),_0x56925e=parseFloat(_0x5cdaf2);if(isNaN(_0x2c7901)||isNaN(_0x56925e))return![];return Math[_0x3dd468(0x823)](_0x2c7901-_0x56925e)<0.001;}async function gradeShortAnswer(_0xf8f91d,_0x5ca9e8){const _0x21fe79=_0x2eabae,_0x49e8d3=_0x5ca9e8[_0x21fe79(0x695)];if(String(_0xf8f91d)['trim']()['toLowerCase']()===String(_0x49e8d3)['trim']()[_0x21fe79(0x372)]())return!![];if(compareNumericalAnswers(_0xf8f91d,_0x49e8d3))return!![];return console[_0x21fe79(0x305)](_0x21fe79(0x64d)),await gradeShortAnswerWithAI(_0xf8f91d,_0x49e8d3);}async function revealAnswerForAdmin(_0x402645,_0xe2ca19){const _0x151b90=_0x2eabae;if(document[_0x151b90(0x6a9)](_0x151b90(0x711)))return;const _0x164c6f=doc(db,_0x151b90(0x84e)+appId+_0x151b90(0x1b0),currentLiveGameId);await updateDoc(_0x164c6f,{'questionStatus':_0x151b90(0x80f)});const _0x21b4ca=liveGameView[_0x151b90(0x451)](_0x151b90(0x754));_0x21b4ca&&(_0x21b4ca[_0x151b90(0x62e)][_0x151b90(0x3b0)]('bg-white/30'),_0x21b4ca[_0x151b90(0x62e)][_0x151b90(0x6e5)](_0x151b90(0x5c3),_0x151b90(0x5d5),'font-bold',_0x151b90(0x76a),_0x151b90(0x5ea)),_0x21b4ca['innerHTML']=_0x151b90(0x2cd)+_0x21b4ca['innerHTML']);const _0x5bdf25=document[_0x151b90(0x6a9)](_0x151b90(0x788));_0x5bdf25&&(_0x5bdf25['innerHTML']=_0x151b90(0x576)+(_0x402645+0x1===_0xe2ca19?_0x151b90(0x18f):'ข้อต่อไป')+_0x151b90(0x688),document[_0x151b90(0x6a9)](_0x151b90(0x711))[_0x151b90(0x639)](_0x151b90(0x7f4),async()=>{const _0x5826c5=_0x151b90,_0x52eedd=doc(db,_0x5826c5(0x84e)+appId+_0x5826c5(0x1b0),currentLiveGameId),_0x11e9f2=await getDoc(_0x52eedd);if(!_0x11e9f2[_0x5826c5(0x8df)]())return;const _0x1cdddc=_0x11e9f2['data'](),_0x252d7a={};if(_0x1cdddc[_0x5826c5(0x42c)])for(const _0x469ba3 in _0x1cdddc[_0x5826c5(0x42c)]){_0x252d7a[_0x5826c5(0x275)+_0x469ba3+_0x5826c5(0x4d5)]=![];}const _0x2d96e8=_0x402645+0x1;_0x2d96e8<_0xe2ca19?(_0x252d7a['currentQuestionIndex']=_0x2d96e8,_0x252d7a['questionDisplayedAt']=serverTimestamp(),_0x252d7a[_0x5826c5(0x509)]=_0x5826c5(0x63d),await updateDoc(_0x52eedd,_0x252d7a)):await updateDoc(_0x52eedd,{'status':'podium'});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x28a0bb=>{const _0x18e64f=_0x4eb1;if(_0x28a0bb){userId=_0x28a0bb['uid'],userIdDisplay[_0x18e64f(0x60c)]=userId;const _0x26cb41=await loadUserPreferences();_0x26cb41['projectSortOrder']&&(document[_0x18e64f(0x6a9)](_0x18e64f(0x32b))['value']=_0x26cb41[_0x18e64f(0x236)]);globalDashboardSettings[_0x18e64f(0x80d)]=_0x26cb41['projectView']||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x3df3f9,_0x74de74){const _0x5758e6=_0x2eabae;if(!userId)return;try{const _0x341a38=doc(db,_0x5758e6(0x84e)+appId+_0x5758e6(0x88f)+userId+'/preferences/main'),_0x233ad8={};_0x233ad8[_0x3df3f9]=_0x74de74,await setDoc(_0x341a38,_0x233ad8,{'merge':!![]});}catch(_0x5dd4bf){console[_0x5758e6(0x497)](_0x5758e6(0x329),_0x5dd4bf);}}async function loadUserPreferences(){const _0x449355=_0x2eabae;if(!userId)return{};try{const _0x20f38c=doc(db,'artifacts/'+appId+'/users/'+userId+_0x449355(0x2cb)),_0x4d209b=await getDoc(_0x20f38c);if(_0x4d209b[_0x449355(0x8df)]())return _0x4d209b['data']();return{};}catch(_0x4b4215){return console[_0x449355(0x497)](_0x449355(0x1e0),_0x4b4215),{};}}function showPodiumView(_0x12d1c1){const _0xdc86d7=_0x2eabae,_0x213342=Object['entries'](_0x12d1c1)['map'](([_0x562d03,_0x524818])=>({'name':_0x562d03,'score':_0x524818[_0xdc86d7(0x7a9)]||0x0,'badges':_0x524818[_0xdc86d7(0x7b7)]||[]}));_0x213342['sort']((_0x345219,_0x44bc10)=>{const _0x349036=_0xdc86d7,_0x5e5100=_0x44bc10[_0x349036(0x7a9)]-_0x345219[_0x349036(0x7a9)];if(_0x5e5100!==0x0)return _0x5e5100;return(_0x44bc10[_0x349036(0x7b7)]['length']||0x0)-(_0x345219[_0x349036(0x7b7)]['length']||0x0);});const _0x3a82c5=_0x5e9871=>{const _0x191443=_0xdc86d7;if(!_0x5e9871||_0x5e9871[_0x191443(0x1f2)]===0x0)return'';const _0x21718b={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x191443(0x6cb)+_0x5e9871[_0x191443(0x58b)](_0x817a31=>_0x21718b[_0x817a31]||'')[_0x191443(0x702)]('')+_0x191443(0x8dc);},_0x399757=_0x213342[_0xdc86d7(0x791)](0x3),_0x388a06=_0x399757[_0xdc86d7(0x1f2)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x399757[_0xdc86d7(0x58b)]((_0x26c5bd,_0x16b0d8)=>_0xdc86d7(0x804)+(_0x16b0d8+0x4)+_0xdc86d7(0x1a0)+_0x26c5bd['name']+_0xdc86d7(0x34e)+_0x26c5bd[_0xdc86d7(0x7a9)]+_0xdc86d7(0x2b6))[_0xdc86d7(0x702)]('')+_0xdc86d7(0x297):'',_0x4df401=_0xdc86d7(0x46d)+(_0x213342[0x1]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x213342[0x1]['name']+_0xdc86d7(0x45c)+_0x3a82c5(_0x213342[0x1][_0xdc86d7(0x7b7)])+_0xdc86d7(0x3c4)+_0x213342[0x1][_0xdc86d7(0x7a9)]+_0xdc86d7(0x1e5):_0xdc86d7(0x621))+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x213342[0x0]?_0xdc86d7(0x698)+_0x213342[0x0][_0xdc86d7(0x531)]+_0xdc86d7(0x45c)+_0x3a82c5(_0x213342[0x0][_0xdc86d7(0x7b7)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>'+_0x213342[0x0][_0xdc86d7(0x7a9)]+_0xdc86d7(0x2c2):_0xdc86d7(0x621))+_0xdc86d7(0x61b)+(_0x213342[0x2]?_0xdc86d7(0x2de)+_0x213342[0x2]['name']+_0xdc86d7(0x45c)+_0x3a82c5(_0x213342[0x2][_0xdc86d7(0x7b7)])+_0xdc86d7(0x3c4)+_0x213342[0x2][_0xdc86d7(0x7a9)]+_0xdc86d7(0x35b):_0xdc86d7(0x621))+_0xdc86d7(0x2dc)+_0x388a06+_0xdc86d7(0x335)+(currentMode===_0xdc86d7(0x319)?_0xdc86d7(0x82c):'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0xdc86d7(0x7bd);liveGameView[_0xdc86d7(0x7c0)]=_0x4df401,currentMode===_0xdc86d7(0x319)&&document['getElementById']('close-game-final-btn')[_0xdc86d7(0x639)]('click',async()=>{const _0x34fc8a=_0xdc86d7,_0x4d5425=doc(db,_0x34fc8a(0x84e)+appId+_0x34fc8a(0x1b0),currentLiveGameId);await deleteDoc(_0x4d5425),showView(_0x34fc8a(0x739));});}async function handleStartLiveRace(_0x21f67c){const _0x1073db=_0x2eabae;let _0x5c1f72=allQuizzes[_0x1073db(0x8ad)](_0x51e034=>_0x51e034['id']===_0x21f67c);if(!_0x5c1f72){const _0x3b0663=doc(db,_0x1073db(0x84e)+appId+_0x1073db(0x429),_0x21f67c),_0x1b8f4e=await getDoc(_0x3b0663);if(!_0x1b8f4e[_0x1073db(0x8df)]()){showMessage(_0x1073db(0x4c0));return;}_0x5c1f72={'id':_0x1b8f4e['id'],..._0x1b8f4e['data']()};}currentQuizData=getShuffledQuiz(_0x5c1f72);const _0x4e5cae=_0x5c1f72[_0x1073db(0x588)]||currentProjectId||null,_0xa2eac4=Math[_0x1073db(0x5b7)](0x3e8+Math[_0x1073db(0x427)]()*0x2328)['toString']();currentLiveGamePin=_0xa2eac4;try{const _0xc87151=await addDoc(collection(db,_0x1073db(0x84e)+appId+_0x1073db(0x1b0)),{'quizId':_0x21f67c,'projectId':_0x4e5cae,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0xa2eac4,'createdAt':serverTimestamp()});currentLiveGameId=_0xc87151['id'],showAdminLobbyView(_0xa2eac4,_0x5c1f72[_0x1073db(0x4d1)]),listenForLiveGameUpdates();}catch(_0x32123b){console[_0x1073db(0x497)]('Error\x20starting\x20live\x20race:',_0x32123b),showMessage(_0x1073db(0x2ed));}}async function handleShowStudentRankings(){const _0x503a7f=_0x2eabae,_0x15c48f=document[_0x503a7f(0x451)](_0x503a7f(0x373));_0x15c48f&&(_0x15c48f[_0x503a7f(0x7c0)]=_0x503a7f(0x8e9));const _0x269e79=document[_0x503a7f(0x451)](_0x503a7f(0x1ed));_0x269e79&&(_0x269e79[_0x503a7f(0x7c0)]=_0x503a7f(0x57a));const _0x2ef32d=document['getElementById'](_0x503a7f(0x528));_0x2ef32d[_0x503a7f(0x62e)]['remove']('hidden'),document[_0x503a7f(0x6a9)](_0x503a7f(0x7e9))[_0x503a7f(0x214)]=()=>_0x2ef32d[_0x503a7f(0x62e)]['add'](_0x503a7f(0x3ef));const _0x3f8645=document[_0x503a7f(0x6a9)](_0x503a7f(0x245)),_0x3c0797=document[_0x503a7f(0x6a9)](_0x503a7f(0x79d)),_0x44c1cd=document['getElementById'](_0x503a7f(0x88d)),_0x4f4d50=document[_0x503a7f(0x6a9)]('student-project-leaderboard-content');_0x3f8645[_0x503a7f(0x214)]=()=>{const _0xfa629f=_0x503a7f;_0x3f8645['classList']['add']('active'),_0x3c0797['classList'][_0xfa629f(0x3b0)](_0xfa629f(0x46b)),_0x44c1cd[_0xfa629f(0x62e)][_0xfa629f(0x3b0)]('hidden'),_0x4f4d50['classList'][_0xfa629f(0x6e5)](_0xfa629f(0x3ef));},_0x3c0797[_0x503a7f(0x214)]=()=>{const _0x598e14=_0x503a7f;_0x3c0797[_0x598e14(0x62e)][_0x598e14(0x6e5)](_0x598e14(0x46b)),_0x3f8645['classList'][_0x598e14(0x3b0)](_0x598e14(0x46b)),_0x4f4d50['classList'][_0x598e14(0x3b0)](_0x598e14(0x3ef)),_0x44c1cd[_0x598e14(0x62e)]['add'](_0x598e14(0x3ef));};try{const _0x428347=collection(db,_0x503a7f(0x84e)+appId+_0x503a7f(0x6b8)+currentQuizData['id']+_0x503a7f(0x691)),_0x42a674=await getDocs(_0x428347),_0x18b32b=_0x42a674['docs'][_0x503a7f(0x58b)](_0x32d12e=>_0x32d12e[_0x503a7f(0x495)]());renderQuizLeaderboard(_0x18b32b,currentQuizData,_0x503a7f(0x256));const _0x509a86=collection(db,'artifacts/'+appId+_0x503a7f(0x642)+currentQuizData[_0x503a7f(0x588)]+'/studentProfiles'),_0x35a468=await getDocs(_0x509a86),_0x2d9e32=_0x35a468[_0x503a7f(0x825)]['map'](_0x24342f=>_0x24342f[_0x503a7f(0x495)]());renderLeaderboard(_0x2d9e32,'student-project-leaderboard-table-body');}catch(_0x5c9a50){console[_0x503a7f(0x497)]('Error\x20fetching\x20student\x20rankings:',_0x5c9a50),showMessage(_0x503a7f(0x3e1));}}async function handleSaveToBank(_0x3316a0){const _0x3d1b04=_0x2eabae,_0x5909f0=_0x3316a0[_0x3d1b04(0x877)],_0x571d13=_0x5909f0[_0x3d1b04(0x7c5)][_0x3d1b04(0x4b2)],_0x298ecf=currentQuizData[_0x3d1b04(0x813)][_0x571d13];if(!userId){showMessage(_0x3d1b04(0x6d5));return;}try{const _0x1096be={..._0x298ecf,'originalTopic':currentQuizData[_0x3d1b04(0x4d1)],'savedAt':serverTimestamp()},_0x2a8cdb=collection(db,'artifacts/'+appId+'/users/'+userId+_0x3d1b04(0x710));await addDoc(_0x2a8cdb,_0x1096be),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x5909f0[_0x3d1b04(0x62e)][_0x3d1b04(0x3b0)](_0x3d1b04(0x895)),_0x5909f0[_0x3d1b04(0x62e)]['add'](_0x3d1b04(0x21b)),_0x5909f0['disabled']=!![];}catch(_0x265240){console[_0x3d1b04(0x497)]('Error\x20saving\x20to\x20question\x20bank:',_0x265240),showMessage(_0x3d1b04(0x240));}}function listenForStarredQuizzes(){const _0x299586=_0x2eabae;if(!userId)return;const _0x5350b4=collection(db,'artifacts/'+appId+_0x299586(0x429)),_0x14da88=query(_0x5350b4,where(_0x299586(0x77b),'==',!![]));onSnapshot(_0x14da88,_0x3c8a7b=>{const _0x262de1=_0x299586;starredQuizzes=_0x3c8a7b['docs']['map'](_0x2787e6=>({'id':_0x2787e6['id'],..._0x2787e6[_0x262de1(0x495)]()})),currentProjectId===_0x262de1(0x647)?renderQuizzes():renderProjects();},_0x2cb9c2=>{const _0x460daa=_0x299586;console[_0x460daa(0x497)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x2cb9c2);});}function exportQuizAsWorksheetPDF(){const _0x1dcead=_0x2eabae;if(!currentQuizData||!currentQuizData[_0x1dcead(0x813)]){showMessage(_0x1dcead(0x61c));return;}const _0x38fd49=currentQuizData,_0x1bb6b7=window['open']('',_0x1dcead(0x359)),_0x460b67=_0x1685de=>String[_0x1dcead(0x547)](0x41+_0x1685de),_0x17c1a6=_0x1dcead(0x69c)+_0x38fd49[_0x1dcead(0x4d1)]+_0x1dcead(0x285)+_0x38fd49[_0x1dcead(0x4d1)]+_0x1dcead(0x52f)+_0x38fd49[_0x1dcead(0x813)][_0x1dcead(0x58b)]((_0x3475d4,_0x4ad18e)=>{const _0x830b1f=_0x1dcead;let _0x1cff01='';const _0x42aa33=_0x3475d4[_0x830b1f(0x2a3)]||_0x38fd49['quizType'];switch(_0x42aa33){case'multiple_choice':case _0x830b1f(0x5b6):_0x1cff01='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x3475d4[_0x830b1f(0x8de)][_0x830b1f(0x58b)]((_0x1f8faf,_0x65b4c9)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x460b67(_0x65b4c9)+'.\x20'+_0x1f8faf+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](_0x830b1f(0x448))+_0x830b1f(0x8dc);break;case _0x830b1f(0x254):_0x1cff01=_0x830b1f(0x77a);break;default:_0x1cff01='<div\x20class=\x22answer-space\x22></div>';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x4ad18e+0x1)+_0x830b1f(0x1b5)+(_0x3475d4[_0x830b1f(0x416)]||_0x3475d4[_0x830b1f(0x836)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3475d4[_0x830b1f(0x753)]?_0x830b1f(0x66c)+_0x3475d4['imageCode']+_0x830b1f(0x8dc):'')+_0x830b1f(0x2a7)+_0x1cff01+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x1dcead(0x702)]('')+_0x1dcead(0x2a5);_0x1bb6b7[_0x1dcead(0x25f)]['write'](_0x17c1a6),_0x1bb6b7['document'][_0x1dcead(0x33c)](),_0x1bb6b7[_0x1dcead(0x7fe)]=function(){setTimeout(()=>{const _0x49fe8e=_0x4eb1;_0x1bb6b7[_0x49fe8e(0x6c8)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x4cafb0=_0x2eabae;if(!currentQuizData||!currentQuizData[_0x4cafb0(0x813)]){showMessage(_0x4cafb0(0x61c));return;}const _0x232ad5=currentQuizData,_0x95c091=window['open']('',_0x4cafb0(0x359)),_0x26095b=_0x29f0cd=>String[_0x4cafb0(0x547)](0x41+_0x29f0cd),_0x2b116d=_0x4cafb0(0x719)+_0x232ad5[_0x4cafb0(0x4d1)]+_0x4cafb0(0x66b)+_0x232ad5[_0x4cafb0(0x813)][_0x4cafb0(0x58b)]((_0x5aa501,_0x9313a5)=>{const _0x187cfb=_0x4cafb0;let _0x2ef185='';const _0x53fd2c=_0x5aa501[_0x187cfb(0x2a3)]||_0x232ad5[_0x187cfb(0x6bc)];switch(_0x53fd2c){case'multiple_choice':case _0x187cfb(0x5b6):_0x2ef185=_0x187cfb(0x8a4)+_0x5aa501[_0x187cfb(0x8de)][_0x187cfb(0x58b)]((_0x17b1d7,_0x5561b8)=>_0x187cfb(0x4b8)+_0x26095b(_0x5561b8)+'.\x20'+_0x17b1d7+_0x187cfb(0x4db))['join']('<br>')+_0x187cfb(0x4d2);break;case _0x187cfb(0x254):_0x2ef185=_0x187cfb(0x3de);break;default:_0x2ef185='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x232ad5['topic']+_0x187cfb(0x905)+(_0x9313a5+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x5aa501[_0x187cfb(0x416)]||_0x5aa501[_0x187cfb(0x836)])+_0x187cfb(0x64b)+(_0x5aa501[_0x187cfb(0x753)]?_0x187cfb(0x24f)+_0x5aa501[_0x187cfb(0x753)]+_0x187cfb(0x8dc):'')+_0x187cfb(0x2a7)+_0x2ef185+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x95c091['document'][_0x4cafb0(0x39f)](_0x2b116d),_0x95c091[_0x4cafb0(0x25f)][_0x4cafb0(0x33c)](),_0x95c091['onload']=function(){setTimeout(()=>{const _0xb90886=_0x4eb1;_0x95c091[_0xb90886(0x6c8)]();},0x5dc);};}async function handleToggleStarQuiz(_0xb69f97){const _0x154245=_0x2eabae,_0xe5d55c=doc(db,_0x154245(0x84e)+appId+_0x154245(0x429),_0xb69f97);try{const _0x3ebc09=await getDoc(_0xe5d55c);if(_0x3ebc09['exists']()){const _0x2619c8=_0x3ebc09[_0x154245(0x495)]()[_0x154245(0x77b)]||![];await updateDoc(_0xe5d55c,{'isStarred':!_0x2619c8});}}catch(_0x3600f6){console[_0x154245(0x497)]('Error\x20toggling\x20star\x20status:',_0x3600f6),showMessage(_0x154245(0x310));}}async function displayQuestionBank(){const _0x3c61f4=_0x2eabae,_0x3829f6=document[_0x3c61f4(0x6a9)]('bank-input-area');_0x3829f6['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x5f4490=collection(db,'artifacts/'+appId+_0x3c61f4(0x88f)+userId+_0x3c61f4(0x710)),_0x5469c5=query(_0x5f4490),_0x39aedb=await getDocs(_0x5469c5);if(_0x39aedb['empty']){_0x3829f6['innerHTML']=_0x3c61f4(0x469);return;}let _0x1c4490=_0x39aedb[_0x3c61f4(0x825)][_0x3c61f4(0x58b)](_0x5686d7=>{const _0x3d3b94=_0x3c61f4,_0x62dc8e=_0x5686d7[_0x3d3b94(0x495)](),_0x35b98d=_0x5686d7['id'];return _0x3d3b94(0x43f)+JSON[_0x3d3b94(0x741)](_0x62dc8e)+_0x3d3b94(0x38b)+(_0x62dc8e[_0x3d3b94(0x836)]||_0x62dc8e['stem'])+_0x3d3b94(0x3ee)+_0x62dc8e[_0x3d3b94(0x418)]+_0x3d3b94(0x534);})[_0x3c61f4(0x702)]('');_0x3829f6[_0x3c61f4(0x7c0)]=_0x3c61f4(0x67f)+_0x1c4490+_0x3c61f4(0x47b),document[_0x3c61f4(0x6a9)](_0x3c61f4(0x22d))[_0x3c61f4(0x639)]('click',createQuizFromBank);}catch(_0x1a33fc){console[_0x3c61f4(0x497)](_0x3c61f4(0x44f),_0x1a33fc),_0x3829f6[_0x3c61f4(0x7c0)]=_0x3c61f4(0x248);}}function showAdminLiveQuestionView(_0x30ad8a,_0x5105e3,_0x2691db){const _0x36608a=_0x2eabae,_0x14bd63=_0x30ad8a[_0x36608a(0x2a3)]||currentQuizData[_0x36608a(0x6bc)];let _0x46b739='';if(_0x14bd63===_0x36608a(0x299)||_0x14bd63==='true_false'){const _0x4a48f0=_0x14bd63==='true_false'?[_0x36608a(0x8ff),_0x36608a(0x7c2)]:_0x30ad8a['options'],_0x403ff7=_0x14bd63===_0x36608a(0x254)?_0x30ad8a['correctAnswer']?0x0:0x1:_0x30ad8a[_0x36608a(0x58f)];_0x46b739=_0x4a48f0[_0x36608a(0x58b)]((_0x5cdae8,_0x57c12c)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x57c12c===_0x403ff7)+_0x36608a(0x442)+_0x5cdae8+_0x36608a(0x5d7))[_0x36608a(0x702)]('');}else{if(_0x14bd63===_0x36608a(0x29d)){const _0x33681a=_0x30ad8a['allResponses']||[];_0x46b739=_0x33681a['map'](_0x348b53=>_0x36608a(0x597)+(_0x348b53===_0x30ad8a[_0x36608a(0x308)])+_0x36608a(0x442)+_0x348b53+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x36608a(0x702)]('');}}const _0x1313e2=_0x30ad8a['stem']||_0x30ad8a[_0x36608a(0x836)],_0x242413=_0x36608a(0x58c)+(_0x5105e3+0x1)+_0x36608a(0x784)+_0x2691db+_0x36608a(0x17e)+_0x1313e2+_0x36608a(0x1a6)+_0x46b739+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x242413;window[_0x36608a(0x6d3)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([liveGameView]);const _0x4a7ffc=document['getElementById'](_0x36608a(0x788));document[_0x36608a(0x6a9)](_0x36608a(0x68b))[_0x36608a(0x639)](_0x36608a(0x7f4),async()=>{const _0x2f108f=_0x36608a,_0x5aa9b3=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x5aa9b3,{'questionStatus':_0x2f108f(0x80f)});const _0x814413=liveGameView[_0x2f108f(0x451)](_0x2f108f(0x754));_0x814413&&(_0x814413['classList'][_0x2f108f(0x3b0)](_0x2f108f(0x826)),_0x814413[_0x2f108f(0x62e)][_0x2f108f(0x6e5)](_0x2f108f(0x5c3),_0x2f108f(0x5d5),_0x2f108f(0x2e7),'border-4',_0x2f108f(0x5ea)),_0x814413[_0x2f108f(0x7c0)]=_0x2f108f(0x2cd)+_0x814413['innerHTML']),_0x4a7ffc[_0x2f108f(0x7c0)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5105e3+0x1===_0x2691db?_0x2f108f(0x18f):_0x2f108f(0x8a8))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x2f108f(0x6a9)](_0x2f108f(0x711))[_0x2f108f(0x639)](_0x2f108f(0x7f4),async()=>{const _0xbe9085=_0x2f108f,_0x42365d=doc(db,_0xbe9085(0x84e)+appId+'/public/data/liveGames',currentLiveGameId),_0x227e34=await getDoc(_0x42365d);if(!_0x227e34[_0xbe9085(0x8df)]())return;const _0x22794a=_0x227e34[_0xbe9085(0x495)](),_0x56cad2={};if(_0x22794a['players'])for(const _0x4f5c59 in _0x22794a[_0xbe9085(0x42c)]){_0x56cad2['players.'+_0x4f5c59+'.answeredCurrentQuestion']=![];}const _0xd45c95=_0x5105e3+0x1;_0xd45c95<_0x2691db?(_0x56cad2[_0xbe9085(0x16a)]=_0xd45c95,_0x56cad2[_0xbe9085(0x64f)]=serverTimestamp(),_0x56cad2[_0xbe9085(0x509)]=_0xbe9085(0x63d),await updateDoc(_0x42365d,_0x56cad2)):await updateDoc(_0x42365d,{'status':'podium'});});}),document[_0x36608a(0x6a9)]('end-game-btn')[_0x36608a(0x639)]('click',async()=>{const _0x17bfee=_0x36608a,_0xea2c36=doc(db,_0x17bfee(0x84e)+appId+_0x17bfee(0x1b0),currentLiveGameId);await deleteDoc(_0xea2c36),showView(_0x17bfee(0x739));});}function showStudentLiveQuestionView(_0x17123b,_0x4623f9,_0x3a805e){const _0x5e2f0f=_0x2eabae,_0x5398e3=_0x17123b[_0x5e2f0f(0x2a3)]||currentQuizData[_0x5e2f0f(0x6bc)];let _0x44fe03='';if(_0x5398e3===_0x5e2f0f(0x299)||_0x5398e3==='true_false'){const _0x4fc650=_0x5398e3===_0x5e2f0f(0x254)?[_0x5e2f0f(0x8ff),_0x5e2f0f(0x7c2)]:_0x17123b[_0x5e2f0f(0x8de)];_0x44fe03=_0x4fc650['map']((_0x1c01f9,_0x57b7e0)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x57b7e0+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c01f9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5e2f0f(0x702)]('');}else{if(_0x5398e3===_0x5e2f0f(0x29d)){const _0x20aa4e=_0x17123b[_0x5e2f0f(0x47e)]||[];_0x44fe03=_0x20aa4e[_0x5e2f0f(0x58b)]((_0x2a7b33,_0x1aa138)=>_0x5e2f0f(0x421)+_0x1aa138+_0x5e2f0f(0x869)+_0x2a7b33+_0x5e2f0f(0x2fd))['join']('');}else _0x5398e3===_0x5e2f0f(0x53e)&&(_0x44fe03='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x4f10f3=_0x17123b[_0x5e2f0f(0x416)]||_0x17123b['questionText'],_0xd66c13=_0x5e2f0f(0x665)+(_0x4623f9+0x1)+_0x5e2f0f(0x784)+_0x3a805e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x4f10f3+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x44fe03+_0x5e2f0f(0x24b);liveGameView[_0x5e2f0f(0x7c0)]=_0xd66c13;window[_0x5e2f0f(0x6d3)]&&MathJax[_0x5e2f0f(0x820)]&&MathJax[_0x5e2f0f(0x820)]([liveGameView]);const _0x4f63c1=document[_0x5e2f0f(0x6a9)](_0x5e2f0f(0x483));_0x4f63c1&&_0x4f63c1['addEventListener'](_0x5e2f0f(0x7f4),()=>{const _0x55abe1=_0x5e2f0f,_0x51943a=document[_0x55abe1(0x6a9)](_0x55abe1(0x545))['value'];handleLiveAnswer(_0x51943a,_0x17123b);}),document['getElementById'](_0x5e2f0f(0x603))[_0x5e2f0f(0x639)](_0x5e2f0f(0x7f4),_0x2c1d2c=>{const _0xb02d73=_0x5e2f0f,_0x1e3f28=_0x2c1d2c[_0xb02d73(0x3a7)]['closest']('.live-answer-btn');if(_0x1e3f28){const _0x2cffb4=parseInt(_0x1e3f28[_0xb02d73(0x7c5)][_0xb02d73(0x4b2)]);handleLiveAnswer(_0x2cffb4,_0x17123b);}});}async function handleLiveAnswer(_0x31540b,_0x4685d0){const _0x184a49=_0x2eabae;document['querySelectorAll']('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x184a49(0x4ac)](_0x7fc71f=>_0x7fc71f[_0x184a49(0x423)]=!![]);const _0x24e51e=_0x4685d0[_0x184a49(0x2a3)]||currentQuizData[_0x184a49(0x6bc)];let _0x1c12f3=![];if(_0x24e51e===_0x184a49(0x53e)){const _0x38335e=(_0x31540b||'')[_0x184a49(0x5e5)]();_0x1c12f3=await gradeShortAnswer(_0x38335e,_0x4685d0);}else{if(_0x24e51e===_0x184a49(0x299))_0x1c12f3=_0x31540b===_0x4685d0[_0x184a49(0x58f)];else{if(_0x24e51e===_0x184a49(0x254)){const _0x24d569=_0x4685d0[_0x184a49(0x213)];_0x1c12f3=_0x31540b===0x0&&_0x24d569||_0x31540b===0x1&&!_0x24d569;}else{if(_0x24e51e===_0x184a49(0x29d)){const _0x15589b=_0x4685d0[_0x184a49(0x47e)][_0x31540b];_0x1c12f3=_0x15589b===_0x4685d0[_0x184a49(0x308)];}}}}const _0x323e2a=doc(db,_0x184a49(0x84e)+appId+_0x184a49(0x1b0),currentLiveGameId),_0x541cb3=await getDoc(_0x323e2a);if(!_0x541cb3[_0x184a49(0x8df)]())return;const _0x590c2e=_0x541cb3[_0x184a49(0x495)](),_0x754e1a=_0x590c2e[_0x184a49(0x42c)][currentStudentName];let _0x2457bf=_0x754e1a[_0x184a49(0x7b7)]||[],_0x2995be=_0x754e1a[_0x184a49(0x649)]||0x0;const _0x2e8e2e={};let _0x4c0d97=0x0;if(_0x590c2e[_0x184a49(0x64f)]){const _0x3bff6e=_0x590c2e[_0x184a49(0x64f)][_0x184a49(0x462)](),_0xd7b009=new Date()-_0x3bff6e;if(_0x1c12f3){const _0x56c466=0x3e8,_0x96dcbc=0x1f4,_0x659acb=0x4e20;let _0x2fb034=_0xd7b009/_0x659acb;if(_0x2fb034>0x1)_0x2fb034=0x1;const _0x380eed=Math[_0x184a49(0x906)](_0x2fb034*_0x96dcbc);_0x4c0d97=_0x56c466-_0x380eed,_0xd7b009<=0x1388&&!_0x2457bf[_0x184a49(0x376)](_0x184a49(0x3e4))&&_0x2457bf[_0x184a49(0x5c7)]('quick_thinker');}}_0x1c12f3?(_0x2995be++,_0x2995be===0x3&&!_0x2457bf[_0x184a49(0x376)]('on_fire')&&(_0x2457bf[_0x184a49(0x5c7)](_0x184a49(0x3fc)),_0x2995be=0x0)):_0x2995be=0x0,_0x1c12f3&&(_0x2e8e2e[_0x184a49(0x275)+currentStudentName+'.score']=increment(_0x4c0d97)),_0x2e8e2e['players.'+currentStudentName+_0x184a49(0x4ab)]=_0x2457bf,_0x2e8e2e[_0x184a49(0x275)+currentStudentName+_0x184a49(0x5c2)]=_0x2995be,_0x2e8e2e[_0x184a49(0x275)+currentStudentName+_0x184a49(0x4d5)]=!![],_0x2e8e2e['players.'+currentStudentName+_0x184a49(0x3d4)]=_0x1c12f3,_0x2e8e2e[_0x184a49(0x275)+currentStudentName+_0x184a49(0x3bc)]=_0x4c0d97,await updateDoc(_0x323e2a,_0x2e8e2e),liveGameView[_0x184a49(0x7c0)]=_0x184a49(0x907);}function createQuizFromBank(){const _0x546bd5=_0x2eabae,_0x290f3c=document['querySelectorAll'](_0x546bd5(0x6c0));if(_0x290f3c[_0x546bd5(0x1f2)]===0x0){showMessage(_0x546bd5(0x201));return;}const _0x27b371=[];_0x290f3c[_0x546bd5(0x4ac)](_0x2ac034=>{const _0x36ba11=_0x546bd5;_0x27b371[_0x36ba11(0x5c7)](JSON['parse'](_0x2ac034[_0x36ba11(0x223)]));});const _0xef2ec={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x27b371};displayGeneratedQuiz(_0xef2ec);}function showAdminLobbyView(_0x6b8a6,_0xeee69d){const _0xe5d946=_0x2eabae;showView('live-game');const _0x205a96=_0xe5d946(0x380)+_0xeee69d+_0xe5d946(0x55f)+_0x6b8a6+_0xe5d946(0x2da);liveGameView[_0xe5d946(0x7c0)]=_0x205a96,document['getElementById'](_0xe5d946(0x1d5))[_0xe5d946(0x639)](_0xe5d946(0x7f4),async()=>{const _0x55d1b9=_0xe5d946;if(!currentQuizData||!currentQuizData[_0x55d1b9(0x813)]||currentQuizData['questions'][_0x55d1b9(0x1f2)]===0x0){showMessage(_0x55d1b9(0x6fd));return;}try{const _0x4481c8=doc(db,_0x55d1b9(0x84e)+appId+_0x55d1b9(0x1b0),currentLiveGameId);await updateDoc(_0x4481c8,{'status':_0x55d1b9(0x5d6),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x27e0d1=currentQuizData[_0x55d1b9(0x813)][0x0],_0x27ea4e=currentQuizData[_0x55d1b9(0x813)][_0x55d1b9(0x1f2)];showAdminLiveQuestionView(_0x27e0d1,0x0,_0x27ea4e);}catch(_0x25db9b){console[_0x55d1b9(0x497)](_0x55d1b9(0x37f),_0x25db9b),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openGlobalLiveModal(){const _0x1acad6=_0x2eabae;if(allQuizzesGlobal[_0x1acad6(0x1f2)]===0x0){const _0x3fd2e3=await getDocs(collection(db,'artifacts/'+appId+_0x1acad6(0x429)));allQuizzesGlobal=_0x3fd2e3[_0x1acad6(0x825)][_0x1acad6(0x58b)](_0x58d601=>({'id':_0x58d601['id'],..._0x58d601[_0x1acad6(0x495)]()}));}renderGlobalQuizList(''),document[_0x1acad6(0x6a9)](_0x1acad6(0x5ba))['classList'][_0x1acad6(0x3b0)](_0x1acad6(0x3ef));}async function openQuizBankModal(){const _0x15989d=_0x2eabae;if(allQuizzesGlobal[_0x15989d(0x1f2)]===0x0){const _0x36660c=await getDocs(collection(db,_0x15989d(0x84e)+appId+_0x15989d(0x429)));allQuizzesGlobal=_0x36660c[_0x15989d(0x825)][_0x15989d(0x58b)](_0x2e026d=>({'id':_0x2e026d['id'],..._0x2e026d[_0x15989d(0x495)]()}));}renderQuizBankList(''),document[_0x15989d(0x6a9)](_0x15989d(0x65c))[_0x15989d(0x62e)][_0x15989d(0x3b0)](_0x15989d(0x3ef));}function renderQuizBankList(_0x443a7a=''){const _0x256e13=_0x2eabae,_0x282700=document[_0x256e13(0x6a9)](_0x256e13(0x701)),_0x1cd2a1=_0x443a7a['toLowerCase']()[_0x256e13(0x88b)](),_0x91587=allQuizzesGlobal[_0x256e13(0x58b)](_0x26d723=>({..._0x26d723,'projectName':allProjects[_0x256e13(0x8ad)](_0x1754d2=>_0x1754d2['id']===_0x26d723['projectId'])?.[_0x256e13(0x2b8)]||_0x256e13(0x517)}))[_0x256e13(0x613)](_0x504c93=>(_0x504c93[_0x256e13(0x4d1)]||'')[_0x256e13(0x372)]()[_0x256e13(0x376)](_0x1cd2a1)||(_0x504c93[_0x256e13(0x2b8)]||'')[_0x256e13(0x372)]()[_0x256e13(0x376)](_0x1cd2a1)||_0x504c93['id'][_0x256e13(0x5e5)]()[_0x256e13(0x376)](_0x1cd2a1));document[_0x256e13(0x6a9)](_0x256e13(0x6a0))[_0x256e13(0x60c)]='('+_0x91587[_0x256e13(0x1f2)]+_0x256e13(0x28c),_0x282700['innerHTML']=_0x91587[_0x256e13(0x1f2)]?_0x91587[_0x256e13(0x58b)](_0x36007c=>_0x256e13(0x772)+_0x36007c['id']+_0x256e13(0x3eb)+(_0x36007c['topic']||_0x256e13(0x27e))+_0x256e13(0x882)+(_0x36007c[_0x256e13(0x813)]?.['length']||0x0)+_0x256e13(0x725)+_0x36007c[_0x256e13(0x2b8)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x36007c['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x36007c['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x36007c['id']+_0x256e13(0x83c)+_0x36007c['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x256e13(0x702)](''):_0x256e13(0x1eb),_0x282700[_0x256e13(0x5fe)](_0x256e13(0x7f6))[_0x256e13(0x4ac)](_0xba9818=>{const _0x562e0d=_0x256e13;_0xba9818[_0x562e0d(0x639)](_0x562e0d(0x7f4),()=>{const _0x1cd16d=_0x562e0d,_0xca9018=_0xba9818[_0x1cd16d(0x7c5)]['id'];document[_0x1cd16d(0x6a9)](_0x1cd16d(0x65c))[_0x1cd16d(0x62e)][_0x1cd16d(0x6e5)]('hidden'),showQuizDetailView(_0xca9018);});}),_0x282700[_0x256e13(0x5fe)]('.quiz-bank-try-btn')[_0x256e13(0x4ac)](_0x45d08b=>{const _0x4cd3a1=_0x256e13;_0x45d08b[_0x4cd3a1(0x639)](_0x4cd3a1(0x7f4),_0x30424d=>{const _0x56b11b=_0x4cd3a1;_0x30424d[_0x56b11b(0x687)]();const _0xf456cd=_0x45d08b[_0x56b11b(0x7c5)]['id'],_0x4ff225=allQuizzesGlobal['find'](_0x220f0b=>_0x220f0b['id']===_0xf456cd);_0x4ff225?(currentQuizData=_0x4ff225,document[_0x56b11b(0x6a9)](_0x56b11b(0x65c))['classList']['add'](_0x56b11b(0x3ef)),startAdminTest()):showMessage(_0x56b11b(0x4c0));});}),_0x282700[_0x256e13(0x5fe)](_0x256e13(0x2c4))['forEach'](_0x30235d=>{const _0x21ca05=_0x256e13;_0x30235d[_0x21ca05(0x639)](_0x21ca05(0x7f4),_0xab8ef1=>{const _0x3319f1=_0x21ca05;_0xab8ef1[_0x3319f1(0x687)]();const _0x63475=_0x30235d[_0x3319f1(0x7c5)]['id'],_0x36cb7d=allQuizzesGlobal['find'](_0x37ed86=>_0x37ed86['id']===_0x63475);_0x36cb7d?(document[_0x3319f1(0x6a9)](_0x3319f1(0x65c))[_0x3319f1(0x62e)][_0x3319f1(0x6e5)](_0x3319f1(0x3ef)),handleGenerateParallelFromBank(_0x36cb7d)):showMessage(_0x3319f1(0x4c0));});}),_0x282700[_0x256e13(0x5fe)](_0x256e13(0x2e6))['forEach'](_0xb1ab19=>{const _0x4dd051=_0x256e13;_0xb1ab19[_0x4dd051(0x639)](_0x4dd051(0x7f4),_0xfc3c8a=>{const _0xc7543f=_0x4dd051;_0xfc3c8a[_0xc7543f(0x687)]();const _0x120b50=_0xb1ab19['dataset']['id'],_0x2f4e93=allQuizzesGlobal[_0xc7543f(0x8ad)](_0x56d827=>_0x56d827['id']===_0x120b50);_0x2f4e93?(document[_0xc7543f(0x6a9)](_0xc7543f(0x65c))[_0xc7543f(0x62e)][_0xc7543f(0x6e5)](_0xc7543f(0x3ef)),startPresentation(_0x2f4e93)):showMessage(_0xc7543f(0x4c0));});});}async function handleCompareResults(_0x5af5d7,_0x1c5a5f){const _0x172efd=_0x2eabae,_0x35110f=document[_0x172efd(0x6a9)]('comparison-modal'),_0x49df63=document[_0x172efd(0x6a9)](_0x172efd(0x883)),_0x231fe0=document[_0x172efd(0x6a9)](_0x172efd(0x1d0));document[_0x172efd(0x6a9)]('comparison-overall-tab')[_0x172efd(0x62e)][_0x172efd(0x6e5)](_0x172efd(0x46b)),document[_0x172efd(0x6a9)](_0x172efd(0x748))[_0x172efd(0x62e)]['remove'](_0x172efd(0x46b)),_0x49df63['classList'][_0x172efd(0x3b0)](_0x172efd(0x3ef)),_0x231fe0['classList'][_0x172efd(0x6e5)](_0x172efd(0x3ef)),_0x49df63[_0x172efd(0x7c0)]=_0x172efd(0x708),_0x231fe0[_0x172efd(0x7c0)]='',_0x35110f[_0x172efd(0x62e)][_0x172efd(0x3b0)](_0x172efd(0x3ef));try{const _0x83483e=doc(db,_0x172efd(0x84e)+appId+_0x172efd(0x429),_0x5af5d7),_0x2e3136=await getDoc(_0x83483e);if(!_0x2e3136[_0x172efd(0x8df)]())throw new Error(_0x172efd(0x863));const _0xd0e3ae=_0x2e3136[_0x172efd(0x495)](),_0x94347c=_0xd0e3ae['questions']['length'],_0x3665ae=collection(db,'artifacts/'+appId+_0x172efd(0x6b8)+_0x1c5a5f+'/submissions'),_0x3c4973=collection(db,_0x172efd(0x84e)+appId+_0x172efd(0x6b8)+_0x5af5d7+_0x172efd(0x691)),[_0x1566a3,_0x2133ce]=await Promise['all']([getDocs(_0x3665ae),getDocs(_0x3c4973)]),_0x34572b=_0x1566a3[_0x172efd(0x825)][_0x172efd(0x58b)](_0x558c9f=>_0x558c9f[_0x172efd(0x495)]()),_0x36ad05=_0x2133ce[_0x172efd(0x825)][_0x172efd(0x58b)](_0x44338b=>_0x44338b['data']()),_0x468cde=_0x34572b[_0x172efd(0x58b)](_0x52ec15=>_0x52ec15['latestScore']),_0x194505=_0x36ad05[_0x172efd(0x58b)](_0x1b48a1=>_0x1b48a1[_0x172efd(0x5c8)]),_0x698c9=calculateMeanAndStdDev(_0x468cde),_0x33f496=calculateMeanAndStdDev(_0x194505),_0x40e6c5=_0x698c9[_0x172efd(0x6f4)],_0x5dd4d9=_0x33f496[_0x172efd(0x6f4)],_0xb4b1af=_0x5dd4d9-_0x40e6c5;let _0x20240d=_0x172efd(0x198)+_0x40e6c5[_0x172efd(0x859)](0x2)+_0x172efd(0x548)+_0x5dd4d9[_0x172efd(0x859)](0x2)+_0x172efd(0x407)+(_0xb4b1af>=0x0?_0x172efd(0x7f1):'bg-red-100')+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0xb4b1af>=0x0?_0x172efd(0x35f):'text-red-800')+_0x172efd(0x3f3)+(_0xb4b1af>=0x0?'text-emerald-900':'text-red-900')+'\x22>'+(_0xb4b1af>=0x0?'+':'')+_0xb4b1af[_0x172efd(0x859)](0x2)+_0x172efd(0x7b6);_0x49df63[_0x172efd(0x7c0)]=_0x20240d;const _0x4523b5=document[_0x172efd(0x6a9)](_0x172efd(0x852))['getContext']('2d');if(chartInstances[_0x172efd(0x499)])chartInstances[_0x172efd(0x499)]['destroy']();chartInstances[_0x172efd(0x499)]=new Chart(_0x4523b5,{'type':'bar','data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x172efd(0x904),'data':[_0x40e6c5],'backgroundColor':_0x172efd(0x5ad)},{'label':_0x172efd(0x33e),'data':[_0x5dd4d9],'backgroundColor':_0x172efd(0x604)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x94347c}}}});const _0x6cff8f=currentProjectData[_0x172efd(0x164)]||[],_0x8dea55=_0x6cff8f[_0x172efd(0x58b)](_0x5a907d=>{const _0x5045ed=_0x172efd,_0x18ce73=_0x34572b[_0x5045ed(0x8ad)](_0x2df076=>_0x2df076[_0x5045ed(0x39a)]===_0x5a907d),_0x293f32=_0x36ad05[_0x5045ed(0x8ad)](_0x1f45e8=>_0x1f45e8[_0x5045ed(0x39a)]===_0x5a907d),_0x6414ee=_0x18ce73?_0x18ce73['latestScore']:null,_0x50c35c=_0x293f32?_0x293f32[_0x5045ed(0x5c8)]:null,_0x588e1d=_0x6414ee!==null&&_0x50c35c!==null?_0x50c35c-_0x6414ee:null,_0x24ec9e=_0x6414ee!==null?calculateZScore(_0x6414ee,_0x698c9[_0x5045ed(0x6f4)],_0x698c9['stdDev']):null,_0x193e50=_0x50c35c!==null?calculateZScore(_0x50c35c,_0x33f496[_0x5045ed(0x6f4)],_0x33f496[_0x5045ed(0x4e3)]):null,_0x16dc0c=_0x24ec9e!==null?calculateTScore(_0x24ec9e):null,_0x2154c=_0x193e50!==null?calculateTScore(_0x193e50):null,_0x3762be=_0x16dc0c!==null&&_0x2154c!==null?_0x2154c-_0x16dc0c:null;return{'name':_0x5a907d,'preScore':_0x6414ee,'postScore':_0x50c35c,'gain':_0x588e1d,'preTScore':_0x16dc0c,'postTScore':_0x2154c,'tGain':_0x3762be};});renderIndividualComparisonTable(_0x8dea55,_0x231fe0);}catch(_0x242aff){console['error'](_0x172efd(0x538),_0x242aff),_0x49df63[_0x172efd(0x7c0)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}function renderIndividualComparisonTable(_0x2b532e,_0x51d446){const _0x58b886=_0x2eabae;_0x2b532e['sort']((_0x57bbb3,_0x2eb4a8)=>(_0x2eb4a8[_0x58b886(0x780)]??-Infinity)-(_0x57bbb3[_0x58b886(0x780)]??-Infinity));let _0x5db624=_0x58b886(0x2f6);_0x2b532e['length']===0x0?_0x5db624+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x2b532e[_0x58b886(0x4ac)]((_0x379b93,_0x3aa160)=>{const _0xb149af=_0x58b886;let _0x2ad2c1='-',_0x6b4367='';if(_0x379b93['gain']!==null){const _0x3a79a0=_0x379b93[_0xb149af(0x3d2)]>0x0?_0xb149af(0x21b):_0x379b93[_0xb149af(0x3d2)]<0x0?_0xb149af(0x6cf):_0xb149af(0x775),_0x425921=_0x379b93['gain']>0x0?'+':'';_0x2ad2c1=_0xb149af(0x567)+_0x3a79a0+'\x22>'+_0x425921+_0x379b93[_0xb149af(0x3d2)]+_0xb149af(0x4db);if(_0x379b93[_0xb149af(0x3d2)]>0x0)_0x6b4367=_0xb149af(0x3ce);else _0x379b93[_0xb149af(0x3d2)]<0x0?_0x6b4367='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x6b4367=_0xb149af(0x5e8);}let _0x17afcd='-';if(_0x379b93[_0xb149af(0x780)]!==null){const _0x1b2a80=_0x379b93[_0xb149af(0x780)]>0x0?_0xb149af(0x21b):_0x379b93[_0xb149af(0x780)]<0x0?_0xb149af(0x6cf):_0xb149af(0x775),_0x19d454=_0x379b93[_0xb149af(0x780)]>0x0?'+':'';_0x17afcd=_0xb149af(0x567)+_0x1b2a80+'\x22>'+_0x19d454+_0x379b93['tGain'][_0xb149af(0x859)](0x2)+_0xb149af(0x4db);}_0x5db624+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x3aa160+0x1)+_0xb149af(0x1aa)+_0x379b93[_0xb149af(0x531)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x379b93[_0xb149af(0x6fa)]??'-')+_0xb149af(0x2f8)+(_0x379b93[_0xb149af(0x6a4)]??'-')+_0xb149af(0x24a)+_0x2ad2c1+_0xb149af(0x4bc)+_0x6b4367+_0xb149af(0x865)+(_0x379b93['preTScore']?.[_0xb149af(0x859)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x379b93[_0xb149af(0x255)]?.[_0xb149af(0x859)](0x2)??'-')+_0xb149af(0x24a)+_0x17afcd+_0xb149af(0x4ca);}),_0x5db624+=_0x58b886(0x249),_0x51d446[_0x58b886(0x7c0)]=_0x5db624;}function handleRenameQuiz(_0x11ad5d,_0x4366bf){const _0x29372b=_0x2eabae;actionTargetId=_0x11ad5d,document[_0x29372b(0x6a9)](_0x29372b(0x41d))['value']=_0x4366bf,renameQuizModal[_0x29372b(0x62e)][_0x29372b(0x3b0)](_0x29372b(0x3ef));}function setupComparisonModalTabs(){const _0x3c66da=_0x2eabae,_0x363b22=document[_0x3c66da(0x6a9)]('comparison-overall-tab'),_0x55a309=document[_0x3c66da(0x6a9)]('comparison-individual-tab'),_0x5226f1=document['getElementById'](_0x3c66da(0x883)),_0x50cadf=document[_0x3c66da(0x6a9)](_0x3c66da(0x1d0));_0x363b22['addEventListener'](_0x3c66da(0x7f4),()=>{const _0x297df5=_0x3c66da;_0x363b22[_0x297df5(0x62e)][_0x297df5(0x6e5)](_0x297df5(0x46b)),_0x55a309[_0x297df5(0x62e)]['remove']('active'),_0x5226f1[_0x297df5(0x62e)]['remove'](_0x297df5(0x3ef)),_0x50cadf[_0x297df5(0x62e)][_0x297df5(0x6e5)](_0x297df5(0x3ef));}),_0x55a309[_0x3c66da(0x639)](_0x3c66da(0x7f4),()=>{const _0x5dae6d=_0x3c66da;_0x55a309['classList'][_0x5dae6d(0x6e5)]('active'),_0x363b22[_0x5dae6d(0x62e)][_0x5dae6d(0x3b0)](_0x5dae6d(0x46b)),_0x50cadf[_0x5dae6d(0x62e)][_0x5dae6d(0x3b0)]('hidden'),_0x5226f1[_0x5dae6d(0x62e)][_0x5dae6d(0x6e5)](_0x5dae6d(0x3ef));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x441937=''){const _0x28da6a=_0x2eabae,_0x472651=document['getElementById'](_0x28da6a(0x2fa)),_0x10f6c7=_0x441937[_0x28da6a(0x372)]()[_0x28da6a(0x88b)](),_0x347b8d=allQuizzesGlobal[_0x28da6a(0x58b)](_0x1ba616=>({..._0x1ba616,'projectName':allProjects[_0x28da6a(0x8ad)](_0x6e4dfe=>_0x6e4dfe['id']===_0x1ba616[_0x28da6a(0x588)])?.[_0x28da6a(0x2b8)]||_0x1ba616[_0x28da6a(0x588)]}))[_0x28da6a(0x613)](_0x556319=>(_0x556319['topic']||'')[_0x28da6a(0x372)]()[_0x28da6a(0x376)](_0x10f6c7)||(_0x556319[_0x28da6a(0x2b8)]||'')[_0x28da6a(0x372)]()['includes'](_0x10f6c7));document[_0x28da6a(0x6a9)](_0x28da6a(0x369))[_0x28da6a(0x60c)]='('+_0x347b8d[_0x28da6a(0x1f2)]+_0x28da6a(0x28c),_0x472651[_0x28da6a(0x7c0)]=_0x347b8d[_0x28da6a(0x1f2)]?_0x347b8d['map'](_0xeca473=>_0x28da6a(0x625)+_0xeca473['id']+_0x28da6a(0x411)+(_0xeca473[_0x28da6a(0x4d1)]||'(ไม่มีชื่อ)')+_0x28da6a(0x72c)+(_0xeca473[_0x28da6a(0x813)]?.[_0x28da6a(0x1f2)]||0x0)+_0x28da6a(0x337)+_0xeca473[_0x28da6a(0x2b8)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20')[_0x28da6a(0x702)](''):_0x28da6a(0x830),selectedGlobalQuizId=null,document[_0x28da6a(0x6a9)]('confirm-global-live-btn')['disabled']=!![],_0x472651[_0x28da6a(0x5fe)](_0x28da6a(0x77d))[_0x28da6a(0x4ac)](_0x135f76=>{const _0xdfe60=_0x28da6a;_0x135f76['addEventListener'](_0xdfe60(0x7f4),()=>{const _0x57ef2f=_0xdfe60;selectedGlobalQuizId=_0x135f76[_0x57ef2f(0x7c5)]['id'],_0x472651[_0x57ef2f(0x5fe)]('button')[_0x57ef2f(0x4ac)](_0x238cc8=>_0x238cc8[_0x57ef2f(0x62e)][_0x57ef2f(0x3b0)](_0x57ef2f(0x7aa),'ring-2',_0x57ef2f(0x60d))),_0x135f76[_0x57ef2f(0x62e)][_0x57ef2f(0x6e5)](_0x57ef2f(0x7aa),_0x57ef2f(0x79f),_0x57ef2f(0x60d)),document[_0x57ef2f(0x6a9)]('confirm-global-live-btn')[_0x57ef2f(0x423)]=![];});});}function listenForLiveGameUpdates(){const _0x362292=_0x2eabae;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x14d48a=doc(db,_0x362292(0x84e)+appId+_0x362292(0x1b0),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x14d48a,_0x4eca5f=>{const _0x30d479=_0x362292;if(!_0x4eca5f[_0x30d479(0x8df)]()){showMessage(_0x30d479(0x74c)),showView(currentMode);return;}const _0x7d298e=_0x4eca5f[_0x30d479(0x495)]();!currentQuizData&&_0x7d298e['quizId']&&((async()=>{const _0x5b18d7=_0x30d479;try{const _0x3857f7=doc(db,_0x5b18d7(0x84e)+appId+_0x5b18d7(0x429),_0x7d298e[_0x5b18d7(0x612)]),_0x279ae1=await getDoc(_0x3857f7);_0x279ae1[_0x5b18d7(0x8df)]()&&(currentQuizData={'id':_0x279ae1['id'],..._0x279ae1['data']()});}catch(_0x202d47){console[_0x5b18d7(0x497)](_0x5b18d7(0x5e2),_0x202d47);}})());switch(_0x7d298e[_0x30d479(0x692)]){case _0x30d479(0x44e):if(currentMode===_0x30d479(0x319)){const _0x9b00cd=_0x7d298e[_0x30d479(0x42c)]?Object[_0x30d479(0x282)](_0x7d298e[_0x30d479(0x42c)]):[];document['getElementById']('player-count')[_0x30d479(0x60c)]=_0x9b00cd[_0x30d479(0x1f2)],document[_0x30d479(0x6a9)](_0x30d479(0x4a1))['innerHTML']=_0x9b00cd[_0x30d479(0x58b)](_0x311001=>'<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>'+_0x311001+'</span>')[_0x30d479(0x702)]('');const _0x6d7797=document[_0x30d479(0x6a9)]('start-game-btn');_0x6d7797&&(_0x6d7797[_0x30d479(0x423)]=_0x9b00cd['length']===0x0);}else showView('live-game'),liveGameView[_0x30d479(0x7c0)]=_0x30d479(0x6a1)+currentStudentName+_0x30d479(0x832);break;case _0x30d479(0x5d6):const _0x2d02ea=_0x7d298e[_0x30d479(0x16a)];if(currentQuizData&&currentQuizData[_0x30d479(0x813)][_0x2d02ea]){const _0x49e357=currentQuizData[_0x30d479(0x813)][_0x2d02ea],_0x3a756b=currentQuizData[_0x30d479(0x813)][_0x30d479(0x1f2)];if(currentMode==='admin'){lastRenderedAdminQuestionIndex!==_0x2d02ea&&(showAdminLiveQuestionView(_0x49e357,_0x2d02ea,_0x3a756b),lastRenderedAdminQuestionIndex=_0x2d02ea);const _0x44baef=document[_0x30d479(0x6a9)](_0x30d479(0x320));if(_0x44baef&&_0x7d298e[_0x30d479(0x42c)]){const _0x36e05f=Object['keys'](_0x7d298e[_0x30d479(0x42c)])[_0x30d479(0x1f2)],_0x225868=Object[_0x30d479(0x69f)](_0x7d298e[_0x30d479(0x42c)])[_0x30d479(0x613)](_0x6e2204=>_0x6e2204[_0x30d479(0x184)]===!![])['length'];_0x44baef[_0x30d479(0x60c)]=_0x225868+'/'+_0x36e05f,_0x36e05f>0x0&&_0x225868===_0x36e05f&&_0x7d298e[_0x30d479(0x509)]!=='revealed'&&revealAnswerForAdmin(_0x2d02ea,_0x3a756b);}}else{const _0x45fab2=_0x7d298e[_0x30d479(0x42c)][currentStudentName];if(_0x7d298e[_0x30d479(0x509)]===_0x30d479(0x80f)){if(_0x45fab2[_0x30d479(0x184)]){const _0xe54e20=_0x45fab2[_0x30d479(0x8c6)],_0x2986e6=_0x45fab2[_0x30d479(0x721)]||0x0,_0x4a0790=_0xe54e20?'คำตอบถูกต้อง!\x20+'+_0x2986e6+_0x30d479(0x5ca):_0x30d479(0x749);liveGameView[_0x30d479(0x7c0)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>'+_0x4a0790+'</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>';}else liveGameView[_0x30d479(0x7c0)]=_0x30d479(0x220);}else!_0x45fab2[_0x30d479(0x184)]&&showStudentLiveQuestionView(_0x49e357,_0x2d02ea,_0x3a756b);}}break;case _0x30d479(0x38e):showPodiumView(_0x7d298e['players']);break;}});}async function authenticateUser(){const _0x4be334=_0x2eabae;try{typeof __initial_auth_token!==_0x4be334(0x89a)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x350077){console[_0x4be334(0x497)](_0x4be334(0x60b),_0x350077),showMessage(_0x4be334(0x1d2));}}function showView(_0x196a96){const _0x5b8bd7=_0x2eabae,_0x35fde6=[_0x5b8bd7(0x30a),_0x5b8bd7(0x2d4),_0x5b8bd7(0x399),_0x5b8bd7(0x4ba),'quiz-results-view',_0x5b8bd7(0x6ff),'student-progress-view'];_0x35fde6[_0x5b8bd7(0x4ac)](_0x2cc400=>document[_0x5b8bd7(0x6a9)](_0x2cc400)?.[_0x5b8bd7(0x62e)]['add']('hidden'));if(_0x196a96===_0x5b8bd7(0x739))adminView[_0x5b8bd7(0x62e)]['remove']('hidden'),projectDashboardView[_0x5b8bd7(0x62e)]['remove'](_0x5b8bd7(0x3ef));else{if(_0x196a96===_0x5b8bd7(0x817))studentView[_0x5b8bd7(0x62e)]['remove'](_0x5b8bd7(0x3ef)),studentInitialView[_0x5b8bd7(0x62e)][_0x5b8bd7(0x3b0)](_0x5b8bd7(0x3ef)),studentNameSelectionView[_0x5b8bd7(0x62e)][_0x5b8bd7(0x6e5)](_0x5b8bd7(0x3ef)),studentQuizArea[_0x5b8bd7(0x62e)]['add'](_0x5b8bd7(0x3ef)),studentResultArea[_0x5b8bd7(0x62e)][_0x5b8bd7(0x6e5)](_0x5b8bd7(0x3ef)),studentReadingArea['classList'][_0x5b8bd7(0x6e5)](_0x5b8bd7(0x3ef)),studentJoinGameView[_0x5b8bd7(0x62e)][_0x5b8bd7(0x6e5)](_0x5b8bd7(0x3ef));else{if(_0x196a96==='project-detail')adminView[_0x5b8bd7(0x62e)][_0x5b8bd7(0x3b0)](_0x5b8bd7(0x3ef)),projectDetailView[_0x5b8bd7(0x62e)]['remove'](_0x5b8bd7(0x3ef));else{if(_0x196a96==='quiz-results')adminView[_0x5b8bd7(0x62e)]['remove'](_0x5b8bd7(0x3ef)),quizResultsView[_0x5b8bd7(0x62e)]['remove'](_0x5b8bd7(0x3ef));else _0x196a96===_0x5b8bd7(0x6f0)&&liveGameView['classList'][_0x5b8bd7(0x3b0)](_0x5b8bd7(0x3ef));}}}}function showJoinGameView(){const _0x4db9f8=_0x2eabae;studentInitialView['classList']['add'](_0x4db9f8(0x3ef)),studentJoinGameView[_0x4db9f8(0x62e)]['remove'](_0x4db9f8(0x3ef));}async function handleSaveVisibilitySettings(){const _0x47e45b=_0x2eabae;if(!currentProjectId)return;const _0x56f7f2=doc(db,_0x47e45b(0x84e)+appId+_0x47e45b(0x628),currentProjectId);try{await updateDoc(_0x56f7f2,{'settings.showInStudentDashboard':document[_0x47e45b(0x6a9)](_0x47e45b(0x39e))[_0x47e45b(0x2e9)],'settings.isPasscodeEnabled':document[_0x47e45b(0x6a9)]('enable-passcode-checkbox')[_0x47e45b(0x2e9)],'settings.passcode':document[_0x47e45b(0x6a9)]('project-passcode-input')[_0x47e45b(0x223)]['trim']()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0xdf553){console['error']('Error\x20saving\x20visibility\x20settings:',_0xdf553),showMessage(_0x47e45b(0x240));}}function setupEventListeners(){const _0x1cc370=_0x2eabae;document[_0x1cc370(0x6a9)](_0x1cc370(0x5f4))['addEventListener']('click',handleModeSwitch),document['getElementById'](_0x1cc370(0x3a4))[_0x1cc370(0x639)](_0x1cc370(0x7f4),handleUpdateOldQuizzes),document[_0x1cc370(0x6a9)](_0x1cc370(0x8d2))[_0x1cc370(0x639)]('click',handleResetProjectOrder),document[_0x1cc370(0x6a9)](_0x1cc370(0x7d1))[_0x1cc370(0x639)]('click',handleSaveVisibilitySettings),document[_0x1cc370(0x6a9)](_0x1cc370(0x5d8))[_0x1cc370(0x639)](_0x1cc370(0x7f4),handleAddCustomMathTopic),document['getElementById'](_0x1cc370(0x6bb))[_0x1cc370(0x639)](_0x1cc370(0x7f4),handleSelectAllTopics),document[_0x1cc370(0x6a9)](_0x1cc370(0x2df))[_0x1cc370(0x639)]('click',handleDeselectAllTopics),document[_0x1cc370(0x6a9)](_0x1cc370(0x7cf))['addEventListener'](_0x1cc370(0x7f4),()=>{const _0x30a7c9=_0x1cc370;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x30a7c9(0x739));}),document[_0x1cc370(0x6a9)]('back-to-project-btn')[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}),document[_0x1cc370(0x6a9)]('back-to-dashboard-from-results-btn')['addEventListener'](_0x1cc370(0x7f4),()=>{const _0xd060f7=_0x1cc370;showView(_0xd060f7(0x739));}),document[_0x1cc370(0x6a9)]('modal-close-btn')[_0x1cc370(0x639)]('click',()=>{const _0x534ad8=_0x1cc370;messageModal['classList'][_0x534ad8(0x6e5)](_0x534ad8(0x3ef)),typeof modalConfirmAction===_0x534ad8(0x7e5)&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById'](_0x1cc370(0x4ed))[_0x1cc370(0x639)]('click',()=>createProjectModal['classList'][_0x1cc370(0x3b0)](_0x1cc370(0x3ef))),document[_0x1cc370(0x6a9)](_0x1cc370(0x8e3))[_0x1cc370(0x639)]('click',()=>createProjectModal[_0x1cc370(0x62e)][_0x1cc370(0x6e5)]('hidden')),document[_0x1cc370(0x6a9)](_0x1cc370(0x449))[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>adminPasswordModal[_0x1cc370(0x62e)]['add'](_0x1cc370(0x3ef))),document[_0x1cc370(0x6a9)](_0x1cc370(0x454))[_0x1cc370(0x639)](_0x1cc370(0x7f4),handleAdminLogin),document[_0x1cc370(0x6a9)]('admin-password-input')[_0x1cc370(0x639)](_0x1cc370(0x781),_0x2b1430=>{const _0x321f81=_0x1cc370;if(_0x2b1430[_0x321f81(0x7d6)]===_0x321f81(0x50f))handleAdminLogin();}),document[_0x1cc370(0x6a9)](_0x1cc370(0x5fc))['addEventListener'](_0x1cc370(0x7f4),()=>{const _0x1bebe0=_0x1cc370;confirmationModal['classList'][_0x1bebe0(0x6e5)](_0x1bebe0(0x3ef)),confirmAction=null;}),document[_0x1cc370(0x6a9)](_0x1cc370(0x56c))[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>{const _0x5d5cf1=_0x1cc370;confirmAction&&confirmAction(),confirmationModal[_0x5d5cf1(0x62e)][_0x5d5cf1(0x6e5)](_0x5d5cf1(0x3ef)),confirmAction=null;}),document[_0x1cc370(0x6a9)](_0x1cc370(0x666))['addEventListener'](_0x1cc370(0x7f4),()=>renameQuizModal['classList'][_0x1cc370(0x6e5)](_0x1cc370(0x3ef))),document[_0x1cc370(0x6a9)](_0x1cc370(0x5d9))[_0x1cc370(0x639)](_0x1cc370(0x7f4),confirmRenameQuiz),document[_0x1cc370(0x6a9)](_0x1cc370(0x4dd))[_0x1cc370(0x639)]('click',()=>moveQuizModal[_0x1cc370(0x62e)][_0x1cc370(0x6e5)]('hidden')),document[_0x1cc370(0x6a9)](_0x1cc370(0x4f8))[_0x1cc370(0x639)](_0x1cc370(0x7f4),confirmMoveQuiz),document[_0x1cc370(0x6a9)]('cancel-quiz-settings-btn')[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>quizSettingsModal[_0x1cc370(0x62e)][_0x1cc370(0x6e5)]('hidden')),document[_0x1cc370(0x6a9)](_0x1cc370(0x5eb))['addEventListener']('click',confirmQuizSettings),document[_0x1cc370(0x6a9)](_0x1cc370(0x5be))[_0x1cc370(0x639)]('click',()=>quizStatusModal['classList']['add'](_0x1cc370(0x3ef))),document[_0x1cc370(0x6a9)](_0x1cc370(0x90d))['addEventListener'](_0x1cc370(0x7f4),confirmQuizStatus);const _0x149896=document[_0x1cc370(0x6a9)]('export-pdf-modal');document[_0x1cc370(0x6a9)](_0x1cc370(0x761))[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>{const _0x1948b8=_0x1cc370;_0x149896[_0x1948b8(0x62e)][_0x1948b8(0x6e5)](_0x1948b8(0x3ef));}),document[_0x1cc370(0x6a9)](_0x1cc370(0x246))[_0x1cc370(0x639)](_0x1cc370(0x7f4),async()=>{const _0x51c645=_0x1cc370,_0x42bacf=allQuizzes[_0x51c645(0x8ad)](_0x476974=>_0x476974['id']===actionTargetId);_0x42bacf?(currentQuizData=_0x42bacf,exportQuizAsWorksheetPDF()):showMessage(_0x51c645(0x4c0)),_0x149896[_0x51c645(0x62e)][_0x51c645(0x6e5)]('hidden');}),document[_0x1cc370(0x6a9)](_0x1cc370(0x5ac))[_0x1cc370(0x639)](_0x1cc370(0x7f4),async()=>{const _0x470f78=_0x1cc370,_0x24ce5e=allQuizzes[_0x470f78(0x8ad)](_0x3f9f86=>_0x3f9f86['id']===actionTargetId);_0x24ce5e?(currentQuizData=_0x24ce5e,exportQuizAsTutorPDF()):showMessage(_0x470f78(0x4c0)),_0x149896[_0x470f78(0x62e)][_0x470f78(0x6e5)](_0x470f78(0x3ef));}),document[_0x1cc370(0x6a9)]('open-global-live-btn')[_0x1cc370(0x639)](_0x1cc370(0x7f4),openGlobalLiveModal),document[_0x1cc370(0x6a9)](_0x1cc370(0x8a9))[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>{const _0x3933a8=_0x1cc370;document[_0x3933a8(0x6a9)](_0x3933a8(0x5ba))[_0x3933a8(0x62e)][_0x3933a8(0x6e5)](_0x3933a8(0x3ef)),selectedGlobalQuizId=null;}),document[_0x1cc370(0x6a9)](_0x1cc370(0x1c7))[_0x1cc370(0x639)](_0x1cc370(0x3db),_0x245331=>renderGlobalQuizList(_0x245331[_0x1cc370(0x3a7)][_0x1cc370(0x223)])),document[_0x1cc370(0x6a9)]('confirm-global-live-btn')[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>{const _0x5e5c02=_0x1cc370,_0x122e70=selectedGlobalQuizId;if(!_0x122e70)return;document['getElementById'](_0x5e5c02(0x5ba))[_0x5e5c02(0x62e)]['add'](_0x5e5c02(0x3ef)),handleStartLiveRace(_0x122e70);}),document[_0x1cc370(0x6a9)](_0x1cc370(0x45f))['addEventListener'](_0x1cc370(0x3db),renderProjects),document[_0x1cc370(0x6a9)](_0x1cc370(0x32b))[_0x1cc370(0x639)](_0x1cc370(0x71e),async()=>{const _0x21d601=_0x1cc370,_0x1cfb1f=document['getElementById'](_0x21d601(0x32b))[_0x21d601(0x223)],_0x5de681=doc(db,_0x21d601(0x219),'dashboardConfig');try{await setDoc(_0x5de681,{'projectSort':_0x1cfb1f},{'merge':!![]});}catch(_0x3336f1){console['error'](_0x21d601(0x438),_0x3336f1),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document[_0x1cc370(0x6a9)]('quiz-search-input')['addEventListener'](_0x1cc370(0x3db),renderQuizzes),document[_0x1cc370(0x6a9)](_0x1cc370(0x634))[_0x1cc370(0x639)]('click',()=>{const _0x4286ee=_0x1cc370;globalDashboardSettings['projectView']=_0x4286ee(0x19b),saveUserPreference('projectView',_0x4286ee(0x19b)),renderProjects();}),document[_0x1cc370(0x6a9)]('list-view-btn')[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>{const _0x34f50f=_0x1cc370;globalDashboardSettings[_0x34f50f(0x80d)]=_0x34f50f(0x46a),saveUserPreference(_0x34f50f(0x80d),_0x34f50f(0x46a)),renderProjects();}),manageTab[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>switchProjectTab(_0x1cc370(0x6ca))),resultsTab[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>switchProjectTab('results')),leaderboardTab[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>switchProjectTab('leaderboard')),document['getElementById'](_0x1cc370(0x6a7))[_0x1cc370(0x639)]('click',()=>switchQuizDetailTab(_0x1cc370(0x4d4))),document[_0x1cc370(0x6a9)](_0x1cc370(0x40d))[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>switchQuizDetailTab('scores')),document['getElementById'](_0x1cc370(0x664))[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>switchQuizDetailTab(_0x1cc370(0x475))),document[_0x1cc370(0x6a9)](_0x1cc370(0x338))['addEventListener']('click',()=>switchQuizDetailTab(_0x1cc370(0x631))),document[_0x1cc370(0x6a9)](_0x1cc370(0x3d5))[_0x1cc370(0x639)](_0x1cc370(0x7f4),handleAnalyzeClass),generateWorksheetBtn[_0x1cc370(0x639)](_0x1cc370(0x7f4),generateWorksheet);const _0x5f2814=document[_0x1cc370(0x6a9)](_0x1cc370(0x6b6)),_0x4d2194=document[_0x1cc370(0x6a9)](_0x1cc370(0x25c)),_0x348f0a=document[_0x1cc370(0x6a9)](_0x1cc370(0x5b9)),_0x1b0d06=document[_0x1cc370(0x6a9)]('blueprint-input-area'),_0x530610=document[_0x1cc370(0x6a9)](_0x1cc370(0x7ae)),_0x180ede=document['getElementById'](_0x1cc370(0x7a4));topicTab['addEventListener']('click',()=>{const _0x17101d=_0x1cc370;topicTab['classList'][_0x17101d(0x6e5)](_0x17101d(0x46b)),textTab['classList'][_0x17101d(0x3b0)]('active'),fileTab[_0x17101d(0x62e)]['remove'](_0x17101d(0x46b)),worksheetTab['classList'][_0x17101d(0x3b0)](_0x17101d(0x46b));if(_0x5f2814)_0x5f2814[_0x17101d(0x62e)]['remove'](_0x17101d(0x46b));if(_0x348f0a)_0x348f0a['classList'][_0x17101d(0x3b0)]('active');if(_0x530610)_0x530610['classList'][_0x17101d(0x3b0)](_0x17101d(0x46b));topicInputArea[_0x17101d(0x62e)][_0x17101d(0x3b0)]('hidden'),textInputArea['classList'][_0x17101d(0x6e5)](_0x17101d(0x3ef)),fileInputArea[_0x17101d(0x62e)]['add'](_0x17101d(0x3ef)),worksheetInputArea[_0x17101d(0x62e)]['add']('hidden');if(_0x4d2194)_0x4d2194[_0x17101d(0x62e)]['add'](_0x17101d(0x3ef));if(_0x1b0d06)_0x1b0d06[_0x17101d(0x62e)][_0x17101d(0x6e5)](_0x17101d(0x3ef));if(_0x180ede)_0x180ede[_0x17101d(0x62e)][_0x17101d(0x6e5)](_0x17101d(0x3ef));}),textTab[_0x1cc370(0x639)]('click',()=>{const _0x547739=_0x1cc370;textTab[_0x547739(0x62e)][_0x547739(0x6e5)]('active'),topicTab['classList'][_0x547739(0x3b0)](_0x547739(0x46b)),fileTab['classList'][_0x547739(0x3b0)](_0x547739(0x46b)),worksheetTab[_0x547739(0x62e)][_0x547739(0x3b0)](_0x547739(0x46b));if(_0x5f2814)_0x5f2814[_0x547739(0x62e)][_0x547739(0x3b0)](_0x547739(0x46b));if(_0x348f0a)_0x348f0a[_0x547739(0x62e)]['remove'](_0x547739(0x46b));if(_0x530610)_0x530610[_0x547739(0x62e)]['remove'](_0x547739(0x46b));textInputArea[_0x547739(0x62e)][_0x547739(0x3b0)](_0x547739(0x3ef)),topicInputArea[_0x547739(0x62e)][_0x547739(0x6e5)](_0x547739(0x3ef)),fileInputArea[_0x547739(0x62e)][_0x547739(0x6e5)](_0x547739(0x3ef)),worksheetInputArea[_0x547739(0x62e)][_0x547739(0x6e5)](_0x547739(0x3ef));if(_0x4d2194)_0x4d2194[_0x547739(0x62e)]['add'](_0x547739(0x3ef));if(_0x1b0d06)_0x1b0d06[_0x547739(0x62e)][_0x547739(0x6e5)](_0x547739(0x3ef));if(_0x180ede)_0x180ede[_0x547739(0x62e)][_0x547739(0x6e5)](_0x547739(0x3ef));}),fileTab[_0x1cc370(0x639)]('click',()=>{const _0x351975=_0x1cc370;fileTab[_0x351975(0x62e)]['add'](_0x351975(0x46b)),topicTab[_0x351975(0x62e)][_0x351975(0x3b0)](_0x351975(0x46b)),textTab[_0x351975(0x62e)][_0x351975(0x3b0)](_0x351975(0x46b)),worksheetTab[_0x351975(0x62e)][_0x351975(0x3b0)](_0x351975(0x46b));if(_0x5f2814)_0x5f2814[_0x351975(0x62e)][_0x351975(0x3b0)](_0x351975(0x46b));if(_0x348f0a)_0x348f0a[_0x351975(0x62e)][_0x351975(0x3b0)](_0x351975(0x46b));if(_0x530610)_0x530610['classList'][_0x351975(0x3b0)](_0x351975(0x46b));fileInputArea['classList'][_0x351975(0x3b0)]('hidden'),topicInputArea['classList']['add'](_0x351975(0x3ef)),textInputArea[_0x351975(0x62e)]['add'](_0x351975(0x3ef)),worksheetInputArea[_0x351975(0x62e)][_0x351975(0x6e5)](_0x351975(0x3ef));if(_0x4d2194)_0x4d2194[_0x351975(0x62e)]['add']('hidden');if(_0x1b0d06)_0x1b0d06[_0x351975(0x62e)][_0x351975(0x6e5)](_0x351975(0x3ef));if(_0x180ede)_0x180ede['classList'][_0x351975(0x6e5)](_0x351975(0x3ef));}),worksheetTab[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>{const _0x2f60e4=_0x1cc370;worksheetTab[_0x2f60e4(0x62e)][_0x2f60e4(0x6e5)]('active'),topicTab[_0x2f60e4(0x62e)][_0x2f60e4(0x3b0)](_0x2f60e4(0x46b)),textTab['classList'][_0x2f60e4(0x3b0)]('active'),fileTab[_0x2f60e4(0x62e)][_0x2f60e4(0x3b0)](_0x2f60e4(0x46b));if(_0x5f2814)_0x5f2814[_0x2f60e4(0x62e)][_0x2f60e4(0x3b0)]('active');if(_0x348f0a)_0x348f0a[_0x2f60e4(0x62e)]['remove']('active');if(_0x530610)_0x530610['classList'][_0x2f60e4(0x3b0)](_0x2f60e4(0x46b));worksheetInputArea[_0x2f60e4(0x62e)][_0x2f60e4(0x3b0)](_0x2f60e4(0x3ef)),topicInputArea[_0x2f60e4(0x62e)][_0x2f60e4(0x6e5)](_0x2f60e4(0x3ef)),textInputArea[_0x2f60e4(0x62e)][_0x2f60e4(0x6e5)](_0x2f60e4(0x3ef)),fileInputArea[_0x2f60e4(0x62e)]['add'](_0x2f60e4(0x3ef));if(_0x4d2194)_0x4d2194[_0x2f60e4(0x62e)][_0x2f60e4(0x6e5)](_0x2f60e4(0x3ef));if(_0x1b0d06)_0x1b0d06[_0x2f60e4(0x62e)][_0x2f60e4(0x6e5)](_0x2f60e4(0x3ef));if(_0x180ede)_0x180ede[_0x2f60e4(0x62e)][_0x2f60e4(0x6e5)](_0x2f60e4(0x3ef));});const _0x2ec502=document['getElementById'](_0x1cc370(0x800)),_0x3d97b5=document['getElementById'](_0x1cc370(0x424));_0x2ec502&&_0x2ec502['addEventListener'](_0x1cc370(0x7f4),()=>{const _0x40c6f8=_0x1cc370;topicTab[_0x40c6f8(0x62e)][_0x40c6f8(0x3b0)](_0x40c6f8(0x46b)),textTab['classList'][_0x40c6f8(0x3b0)](_0x40c6f8(0x46b)),fileTab['classList'][_0x40c6f8(0x3b0)]('active'),worksheetTab[_0x40c6f8(0x62e)][_0x40c6f8(0x3b0)](_0x40c6f8(0x46b));if(_0x5f2814)_0x5f2814[_0x40c6f8(0x62e)][_0x40c6f8(0x3b0)]('active');if(_0x348f0a)_0x348f0a[_0x40c6f8(0x62e)][_0x40c6f8(0x3b0)]('active');if(_0x530610)_0x530610['classList'][_0x40c6f8(0x3b0)](_0x40c6f8(0x46b));_0x2ec502[_0x40c6f8(0x62e)][_0x40c6f8(0x6e5)](_0x40c6f8(0x46b)),topicInputArea[_0x40c6f8(0x62e)][_0x40c6f8(0x6e5)](_0x40c6f8(0x3ef)),textInputArea[_0x40c6f8(0x62e)][_0x40c6f8(0x6e5)](_0x40c6f8(0x3ef)),fileInputArea['classList'][_0x40c6f8(0x6e5)](_0x40c6f8(0x3ef)),worksheetInputArea['classList'][_0x40c6f8(0x6e5)](_0x40c6f8(0x3ef));if(_0x4d2194)_0x4d2194[_0x40c6f8(0x62e)][_0x40c6f8(0x6e5)](_0x40c6f8(0x3ef));if(_0x1b0d06)_0x1b0d06['classList'][_0x40c6f8(0x6e5)]('hidden');if(_0x180ede)_0x180ede[_0x40c6f8(0x62e)]['add'](_0x40c6f8(0x3ef));_0x3d97b5[_0x40c6f8(0x62e)][_0x40c6f8(0x3b0)]('hidden'),displayQuestionBank();});_0x5f2814&&(_0x5f2814['addEventListener'](_0x1cc370(0x7f4),()=>{const _0x140e66=_0x1cc370;_0x5f2814[_0x140e66(0x62e)][_0x140e66(0x6e5)](_0x140e66(0x46b)),topicTab[_0x140e66(0x62e)][_0x140e66(0x3b0)](_0x140e66(0x46b)),textTab[_0x140e66(0x62e)][_0x140e66(0x3b0)]('active'),fileTab[_0x140e66(0x62e)]['remove'](_0x140e66(0x46b)),worksheetTab[_0x140e66(0x62e)][_0x140e66(0x3b0)]('active');if(_0x348f0a)_0x348f0a['classList']['remove']('active');if(_0x530610)_0x530610[_0x140e66(0x62e)][_0x140e66(0x3b0)](_0x140e66(0x46b));_0x4d2194[_0x140e66(0x62e)][_0x140e66(0x3b0)](_0x140e66(0x3ef)),topicInputArea[_0x140e66(0x62e)][_0x140e66(0x6e5)](_0x140e66(0x3ef)),textInputArea[_0x140e66(0x62e)][_0x140e66(0x6e5)](_0x140e66(0x3ef)),fileInputArea['classList'][_0x140e66(0x6e5)]('hidden'),worksheetInputArea[_0x140e66(0x62e)][_0x140e66(0x6e5)]('hidden');if(_0x1b0d06)_0x1b0d06[_0x140e66(0x62e)]['add'](_0x140e66(0x3ef));if(_0x180ede)_0x180ede['classList']['add'](_0x140e66(0x3ef));}),document[_0x1cc370(0x6a9)](_0x1cc370(0x2aa))[_0x1cc370(0x639)]('click',handleGenerateFromLink));_0x348f0a&&_0x348f0a[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>{const _0x5467b=_0x1cc370;_0x348f0a['classList'][_0x5467b(0x6e5)](_0x5467b(0x46b)),topicTab[_0x5467b(0x62e)][_0x5467b(0x3b0)](_0x5467b(0x46b)),textTab['classList'][_0x5467b(0x3b0)]('active'),fileTab[_0x5467b(0x62e)][_0x5467b(0x3b0)](_0x5467b(0x46b)),worksheetTab[_0x5467b(0x62e)]['remove'](_0x5467b(0x46b));if(_0x5f2814)_0x5f2814[_0x5467b(0x62e)]['remove'](_0x5467b(0x46b));if(_0x2ec502)_0x2ec502[_0x5467b(0x62e)][_0x5467b(0x3b0)](_0x5467b(0x46b));if(_0x530610)_0x530610[_0x5467b(0x62e)][_0x5467b(0x3b0)](_0x5467b(0x46b));_0x1b0d06[_0x5467b(0x62e)][_0x5467b(0x3b0)](_0x5467b(0x3ef)),topicInputArea['classList'][_0x5467b(0x6e5)]('hidden'),textInputArea[_0x5467b(0x62e)]['add'](_0x5467b(0x3ef)),fileInputArea['classList'][_0x5467b(0x6e5)](_0x5467b(0x3ef)),worksheetInputArea[_0x5467b(0x62e)]['add'](_0x5467b(0x3ef));if(_0x4d2194)_0x4d2194[_0x5467b(0x62e)][_0x5467b(0x6e5)](_0x5467b(0x3ef));if(_0x3d97b5)_0x3d97b5[_0x5467b(0x62e)]['add'](_0x5467b(0x3ef));if(_0x180ede)_0x180ede[_0x5467b(0x62e)][_0x5467b(0x6e5)](_0x5467b(0x3ef));});_0x530610&&_0x530610[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>{const _0x31dd74=_0x1cc370;_0x530610[_0x31dd74(0x62e)][_0x31dd74(0x6e5)](_0x31dd74(0x46b)),topicTab['classList'][_0x31dd74(0x3b0)](_0x31dd74(0x46b)),textTab[_0x31dd74(0x62e)][_0x31dd74(0x3b0)](_0x31dd74(0x46b)),fileTab['classList'][_0x31dd74(0x3b0)](_0x31dd74(0x46b)),worksheetTab[_0x31dd74(0x62e)]['remove']('active');if(_0x5f2814)_0x5f2814[_0x31dd74(0x62e)][_0x31dd74(0x3b0)](_0x31dd74(0x46b));if(_0x348f0a)_0x348f0a[_0x31dd74(0x62e)][_0x31dd74(0x3b0)]('active');if(_0x2ec502)_0x2ec502['classList'][_0x31dd74(0x3b0)](_0x31dd74(0x46b));_0x180ede['classList'][_0x31dd74(0x3b0)](_0x31dd74(0x3ef)),topicInputArea[_0x31dd74(0x62e)][_0x31dd74(0x6e5)](_0x31dd74(0x3ef)),textInputArea['classList'][_0x31dd74(0x6e5)](_0x31dd74(0x3ef)),fileInputArea[_0x31dd74(0x62e)]['add'](_0x31dd74(0x3ef)),worksheetInputArea['classList'][_0x31dd74(0x6e5)](_0x31dd74(0x3ef));if(_0x4d2194)_0x4d2194[_0x31dd74(0x62e)][_0x31dd74(0x6e5)]('hidden');if(_0x1b0d06)_0x1b0d06['classList'][_0x31dd74(0x6e5)](_0x31dd74(0x3ef));if(_0x3d97b5)_0x3d97b5[_0x31dd74(0x62e)][_0x31dd74(0x6e5)]('hidden');});const _0x1fb6a3=document[_0x1cc370(0x6a9)](_0x1cc370(0x169)),_0x1f3b8f=document[_0x1cc370(0x6a9)](_0x1cc370(0x37a));_0x1fb6a3&&_0x1fb6a3[_0x1cc370(0x639)]('change',_0x3db7d7=>{const _0x216f3f=_0x1cc370;_0x3db7d7[_0x216f3f(0x3a7)][_0x216f3f(0x1e8)]['length']>0x0?_0x1f3b8f[_0x216f3f(0x423)]=![]:_0x1f3b8f[_0x216f3f(0x423)]=!![];});_0x1f3b8f&&_0x1f3b8f[_0x1cc370(0x639)](_0x1cc370(0x7f4),handleGenerateFromBlueprint);const _0x1b099f=document['getElementById'](_0x1cc370(0x7f9)),_0x5d7bf3=document[_0x1cc370(0x6a9)](_0x1cc370(0x8d3));_0x1b099f&&_0x1b099f[_0x1cc370(0x639)]('change',_0x28e52c=>{const _0x2d497e=_0x1cc370;_0x5d7bf3[_0x2d497e(0x423)]=_0x28e52c[_0x2d497e(0x3a7)][_0x2d497e(0x1e8)][_0x2d497e(0x1f2)]===0x0;});_0x5d7bf3&&_0x5d7bf3[_0x1cc370(0x639)](_0x1cc370(0x7f4),handleGenerateParallelTest);loadQuizBtn[_0x1cc370(0x639)](_0x1cc370(0x7f4),handleLoadQuiz),startQuizBtn[_0x1cc370(0x639)]('click',()=>{const _0x1a0abc=_0x1cc370,_0x382dcd=document[_0x1a0abc(0x6a9)](_0x1a0abc(0x6c9));currentStudentName=_0x382dcd['value'];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}studentNameSelectionView[_0x1a0abc(0x62e)][_0x1a0abc(0x6e5)](_0x1a0abc(0x3ef)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x1cc370(0x6a9)](_0x1cc370(0x29b))[_0x1cc370(0x639)](_0x1cc370(0x7f4),showJoinGameView),document[_0x1cc370(0x6a9)]('confirm-join-game-btn')[_0x1cc370(0x639)](_0x1cc370(0x7f4),handleJoinLiveGame),document[_0x1cc370(0x6a9)]('back-to-student-initial-btn')['addEventListener'](_0x1cc370(0x7f4),()=>showView(_0x1cc370(0x817)));const _0x177b5c=()=>{const _0x3f862d=_0x1cc370,_0x191d8b=document['getElementById']('results-quiz-title')[_0x3f862d(0x60c)][_0x3f862d(0x90e)](/[^a-z0-9]/gi,'_')[_0x3f862d(0x372)]();return _0x3f862d(0x853)+(_0x191d8b||_0x3f862d(0x55b));},_0x5bd0a1=document[_0x1cc370(0x6a9)](_0x1cc370(0x678));_0x5bd0a1&&_0x5bd0a1[_0x1cc370(0x639)]('input',_0x3fd987=>{const _0x264cb1=_0x1cc370,_0x5a4000=_0x3fd987['target'][_0x264cb1(0x223)]['toLowerCase']()['trim'](),_0x427388=document[_0x264cb1(0x6a9)](_0x264cb1(0x70a)),_0x102bfa=_0x427388[_0x264cb1(0x5fe)](_0x264cb1(0x684));_0x102bfa[_0x264cb1(0x4ac)](_0x7e50ec=>{const _0x2a8cf9=_0x264cb1;let _0x5a2269=![];const _0x454d71=_0x7e50ec[_0x2a8cf9(0x5fe)](_0x2a8cf9(0x3c3));_0x454d71['forEach'](_0x59693f=>{const _0x437ce2=_0x2a8cf9,_0x359517=_0x59693f['querySelector'](_0x437ce2(0x888))[_0x437ce2(0x60c)][_0x437ce2(0x372)]();_0x359517[_0x437ce2(0x376)](_0x5a4000)?(_0x59693f['style'][_0x437ce2(0x16d)]=_0x437ce2(0x667),_0x5a2269=!![]):_0x59693f['style'][_0x437ce2(0x16d)]=_0x437ce2(0x601);}),_0x5a2269?_0x7e50ec[_0x2a8cf9(0x896)]['display']=_0x2a8cf9(0x2ab):_0x7e50ec['style']['display']='none';});});document['getElementById'](_0x1cc370(0x508))[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>exportTableAsImage(_0x1cc370(0x66a),_0x177b5c())),document['getElementById'](_0x1cc370(0x8ab))[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>exportTableAsPDF(_0x1cc370(0x1cd),_0x177b5c())),document['getElementById'](_0x1cc370(0x7df))[_0x1cc370(0x639)]('click',()=>exportTableAsWord(_0x1cc370(0x66a),_0x177b5c())),document['getElementById']('export-excel-btn')[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>exportTableAsExcel(_0x1cc370(0x1cd),_0x177b5c()));const _0x5e9058=()=>{const _0x3f0121=_0x1cc370,_0x1c7d4a=document[_0x3f0121(0x6a9)]('results-quiz-title')[_0x3f0121(0x60c)][_0x3f0121(0x90e)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x3f0121(0x835)+(_0x1c7d4a||'quiz');};document[_0x1cc370(0x6a9)](_0x1cc370(0x19c))[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>exportTableAsImage(_0x1cc370(0x301),_0x5e9058())),document[_0x1cc370(0x6a9)](_0x1cc370(0x1bb))[_0x1cc370(0x639)]('click',()=>exportTableAsPDF(_0x1cc370(0x84c),_0x5e9058())),document['getElementById']('export-leaderboard-word-btn')[_0x1cc370(0x639)]('click',()=>exportTableAsWord(_0x1cc370(0x301),_0x5e9058())),document[_0x1cc370(0x6a9)]('export-leaderboard-excel-btn')[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>exportTableAsExcel(_0x1cc370(0x84c),_0x5e9058())),projectQuizzesList[_0x1cc370(0x639)](_0x1cc370(0x7f4),async _0x5509d4=>{const _0x289c68=_0x1cc370,_0x282239=_0x5509d4[_0x289c68(0x3a7)][_0x289c68(0x3fa)](_0x289c68(0x1e2)),_0x26e322=_0x5509d4['target']['closest'](_0x289c68(0x31b)),_0x3faceb=_0x5509d4['target'][_0x289c68(0x3fa)](_0x289c68(0x4a3)),_0xe32202=_0x5509d4[_0x289c68(0x3a7)][_0x289c68(0x3fa)]('.generate-lesson-btn'),_0x3426ba=_0x5509d4[_0x289c68(0x3a7)][_0x289c68(0x3fa)]('.star-quiz-btn'),_0x5adfff=_0x5509d4[_0x289c68(0x3a7)][_0x289c68(0x3fa)](_0x289c68(0x2b5)),_0x1d8c9b=_0x5509d4['target'][_0x289c68(0x3fa)](_0x289c68(0x353)),_0x467376=_0x5509d4[_0x289c68(0x3a7)][_0x289c68(0x3fa)]('.quiz-settings-btn'),_0x202ebe=_0x5509d4[_0x289c68(0x3a7)][_0x289c68(0x3fa)](_0x289c68(0x686)),_0x3116d5=_0x5509d4[_0x289c68(0x3a7)][_0x289c68(0x3fa)](_0x289c68(0x221)),_0x2aee61=_0x5509d4['target'][_0x289c68(0x3fa)]('.parallel-quiz-btn'),_0x31a1ae=_0x5509d4[_0x289c68(0x3a7)]['closest'](_0x289c68(0x35c)),_0x51496f=_0x5509d4[_0x289c68(0x3a7)][_0x289c68(0x3fa)]('.pair-quiz-btn'),_0x174d41=_0x5509d4[_0x289c68(0x3a7)][_0x289c68(0x3fa)](_0x289c68(0x77f)),_0x4d763a=_0x5509d4[_0x289c68(0x3a7)][_0x289c68(0x3fa)]('.start-presentation-list-btn'),_0x82f893=_0x5509d4[_0x289c68(0x3a7)]['closest'](_0x289c68(0x655)),_0x2a8ed5=_0x5509d4[_0x289c68(0x3a7)]['closest']('.start-live-race-btn'),_0x236c5b=_0x5509d4[_0x289c68(0x3a7)]['closest']('.export-pdf-list-btn'),_0x35baa4=_0x5509d4[_0x289c68(0x3a7)]['closest'](_0x289c68(0x84d)),_0x311831=_0x5509d4['target'][_0x289c68(0x3fa)](_0x289c68(0x3b9)),_0x592597=_0x5509d4['target']['closest']('.toggle-actions-btn');if(_0x592597){const _0x14cff7=_0x592597[_0x289c68(0x7c5)][_0x289c68(0x612)],_0x2a16e9=document[_0x289c68(0x6a9)](_0x289c68(0x7fa)+_0x14cff7);_0x2a16e9&&_0x2a16e9[_0x289c68(0x62e)][_0x289c68(0x899)](_0x289c68(0x3ef));}else{if(_0x26e322){const _0x17ed8f=_0x26e322[_0x289c68(0x7c5)]['quizId'],_0x4dc994=allQuizzes['find'](_0x38e9b8=>_0x38e9b8['id']===_0x17ed8f);_0x4dc994&&handleGenerateParallelPostTest(_0x4dc994);}else{if(_0x3faceb)handleCompareResults(_0x3faceb[_0x289c68(0x7c5)]['quizId'],_0x3faceb[_0x289c68(0x7c5)][_0x289c68(0x51b)]);else{if(_0xe32202){const _0xc9c2bc=_0xe32202[_0x289c68(0x7c5)][_0x289c68(0x612)],_0x308c7e=allQuizzes[_0x289c68(0x8ad)](_0x4c9fff=>_0x4c9fff['id']===_0xc9c2bc);_0x308c7e&&_0x308c7e[_0x289c68(0x757)]?(displayLessonPlan(_0x308c7e[_0x289c68(0x757)],_0x308c7e),showConfirmation(_0x289c68(0x815),()=>handleGenerateLessonPlan(_0xc9c2bc)),document[_0x289c68(0x6a9)](_0x289c68(0x263))['querySelector']('h3')[_0x289c68(0x60c)]='แผนการสอน',document[_0x289c68(0x6a9)](_0x289c68(0x56c))['textContent']=_0x289c68(0x596)):handleGenerateLessonPlan(_0xc9c2bc);}else{if(_0x3426ba)handleToggleStarQuiz(_0x3426ba[_0x289c68(0x7c5)][_0x289c68(0x612)]);else{if(_0x5adfff)copyTextToClipboard(_0x5adfff[_0x289c68(0x7c5)][_0x289c68(0x612)],'คัดลอกรหัสแล้ว!');else{if(_0x1d8c9b)handleOpenQuizEditor(_0x1d8c9b[_0x289c68(0x7c5)][_0x289c68(0x612)]);else{if(_0x467376)handleQuizSettings(_0x467376['dataset']['quizId']);else{if(_0x202ebe)handleDuplicateQuiz(_0x202ebe['dataset'][_0x289c68(0x612)]);else{if(_0x3116d5)handleRenameQuiz(_0x3116d5[_0x289c68(0x7c5)][_0x289c68(0x612)],_0x3116d5['dataset'][_0x289c68(0x4d1)]);else{if(_0x2aee61){const _0x6032b3=_0x2aee61[_0x289c68(0x7c5)][_0x289c68(0x612)],_0x491d5e=allQuizzes[_0x289c68(0x8ad)](_0xbe6547=>_0xbe6547['id']===_0x6032b3);_0x491d5e&&handleGenerateParallelFromBank(_0x491d5e);}else{if(_0x31a1ae)handleMoveQuiz(_0x31a1ae[_0x289c68(0x7c5)][_0x289c68(0x612)]);else{if(_0x51496f)handleManualQuizPairing(_0x51496f[_0x289c68(0x7c5)][_0x289c68(0x612)]);else{if(_0x174d41)handleUnpairQuiz(_0x174d41[_0x289c68(0x7c5)][_0x289c68(0x612)]);else{if(_0x4d763a){const _0x4e73d5=_0x4d763a[_0x289c68(0x7c5)][_0x289c68(0x612)],_0x1f7969=allQuizzes[_0x289c68(0x8ad)](_0x1a1c4f=>_0x1a1c4f['id']===_0x4e73d5);if(_0x1f7969)startPresentation(_0x1f7969);}else{if(_0x82f893){const _0x48a7fa=_0x82f893[_0x289c68(0x7c5)][_0x289c68(0x612)],_0x2caab8=allQuizzes['find'](_0x5eba6d=>_0x5eba6d['id']===_0x48a7fa);_0x2caab8&&(currentQuizData=_0x2caab8,startAdminTest());}else{if(_0x2a8ed5)handleStartLiveRace(_0x2a8ed5[_0x289c68(0x7c5)][_0x289c68(0x612)]);else{if(_0x236c5b)actionTargetId=_0x236c5b[_0x289c68(0x7c5)][_0x289c68(0x612)],document[_0x289c68(0x6a9)](_0x289c68(0x65d))[_0x289c68(0x62e)]['remove'](_0x289c68(0x3ef));else{if(_0x35baa4)showConfirmation(_0x289c68(0x674)+_0x35baa4[_0x289c68(0x7c5)][_0x289c68(0x4d1)]+_0x289c68(0x8ed),()=>handleDeleteQuiz(_0x35baa4[_0x289c68(0x7c5)][_0x289c68(0x612)]));else{if(_0x311831)handleQuizStatus(_0x311831[_0x289c68(0x7c5)][_0x289c68(0x612)]);else _0x282239&&showQuizDetailView(_0x282239['dataset']['quizId']);}}}}}}}}}}}}}}}}}}}}),document[_0x1cc370(0x6a9)](_0x1cc370(0x84c))['querySelector'](_0x1cc370(0x389))[_0x1cc370(0x639)](_0x1cc370(0x7f4),_0x2833e6=>{const _0x433c2b=_0x1cc370,_0x1b7f86=_0x2833e6[_0x433c2b(0x3a7)][_0x433c2b(0x3fa)](_0x433c2b(0x7ea));if(!_0x1b7f86||!_0x1b7f86[_0x433c2b(0x7c5)][_0x433c2b(0x908)])return;const _0x59298d=_0x1b7f86['dataset'][_0x433c2b(0x908)];if(quizLeaderboardSortBy===_0x59298d)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x433c2b(0x3f7)?'desc':_0x433c2b(0x3f7);else{quizLeaderboardSortBy=_0x59298d;const _0x52951c=['studentName'];quizLeaderboardSortOrder=_0x52951c['includes'](_0x59298d)?_0x433c2b(0x3f7):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x433c2b(0x191));}),document[_0x1cc370(0x6a9)](_0x1cc370(0x266))[_0x1cc370(0x639)](_0x1cc370(0x7f4),closePresentation),document[_0x1cc370(0x6a9)](_0x1cc370(0x845))[_0x1cc370(0x639)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x1cc370(0x6a9)](_0x1cc370(0x459))[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>{const _0x53fb85=_0x1cc370;currentQuizData[_0x53fb85(0x813)]&&currentPresentationSlide<currentQuizData[_0x53fb85(0x813)]['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener']('fullscreenchange',()=>{const _0x436cda=_0x1cc370;!document[_0x436cda(0x39b)]&&(presentationModal[_0x436cda(0x896)][_0x436cda(0x16d)]=_0x436cda(0x601));}),document['getElementById'](_0x1cc370(0x365))[_0x1cc370(0x639)](_0x1cc370(0x7f4),handleDeleteAllStudents),studentList[_0x1cc370(0x639)](_0x1cc370(0x7f4),_0x38aefb=>{const _0x181165=_0x1cc370,_0x39f768=_0x38aefb['target'][_0x181165(0x3fa)](_0x181165(0x460));if(_0x39f768){const _0x1317b1=_0x39f768[_0x181165(0x7c5)][_0x181165(0x39a)];handleDeleteStudent(_0x1317b1);}}),document['getElementById'](_0x1cc370(0x7a2))['addEventListener'](_0x1cc370(0x7f4),handleGenerateFromFileClick),fileUploadInput[_0x1cc370(0x639)]('change',_0x1a5ae2=>{const _0x39035f=_0x1cc370,_0x253500=_0x1a5ae2[_0x39035f(0x3a7)][_0x39035f(0x1e8)][0x0],_0x2b5f21=document[_0x39035f(0x6a9)](_0x39035f(0x7a2));_0x253500?(selectedFile=_0x253500,_0x2b5f21[_0x39035f(0x423)]=![]):(selectedFile=null,_0x2b5f21[_0x39035f(0x423)]=!![]);}),document[_0x1cc370(0x6a9)](_0x1cc370(0x80e))[_0x1cc370(0x639)](_0x1cc370(0x71e),_0x205e24=>{const _0x448282=_0x1cc370,_0x420d6a=document[_0x448282(0x6a9)](_0x448282(0x878)),_0x553f42=document[_0x448282(0x6a9)](_0x448282(0x78b)),_0x2dee28=document[_0x448282(0x6a9)](_0x448282(0x52e));_0x205e24[_0x448282(0x3a7)][_0x448282(0x223)]===_0x448282(0x601)?_0x420d6a[_0x448282(0x62e)][_0x448282(0x6e5)](_0x448282(0x3ef)):(_0x420d6a[_0x448282(0x62e)]['remove']('hidden'),_0x205e24['target']['value']===_0x448282(0x829)?(_0x553f42[_0x448282(0x60c)]=_0x448282(0x4cf),_0x2dee28[_0x448282(0x223)]='10'):(_0x553f42[_0x448282(0x60c)]=_0x448282(0x5f6),_0x2dee28[_0x448282(0x223)]='30'));}),document[_0x1cc370(0x6a9)](_0x1cc370(0x23a))['addEventListener'](_0x1cc370(0x71e),_0x483e05=>{const _0x52a277=_0x1cc370,_0x3e559c=document['getElementById'](_0x52a277(0x85e)),_0x3288ad=_0x483e05['target'][_0x52a277(0x223)],_0x289ccc=document['querySelector'](_0x52a277(0x1d1)),_0x2003c6=document[_0x52a277(0x6a9)]('passing-score-input'),_0x36bdad=document[_0x52a277(0x6a9)]('num-questions');_0x3288ad===_0x52a277(0x7dc)?_0x289ccc[_0x52a277(0x60c)]=_0x52a277(0x18d):_0x289ccc[_0x52a277(0x60c)]=_0x52a277(0x4c1),_0x3288ad===_0x52a277(0x299)||_0x3288ad==='fill_in_with_choices'||_0x3288ad===_0x52a277(0x5a2)?_0x3e559c[_0x52a277(0x62e)]['remove'](_0x52a277(0x3ef)):_0x3e559c['classList'][_0x52a277(0x6e5)](_0x52a277(0x3ef)),_0x2003c6[_0x52a277(0x54d)]=_0x36bdad[_0x52a277(0x223)];}),document['getElementById'](_0x1cc370(0x311))['addEventListener'](_0x1cc370(0x3db),_0x2a08d1=>{const _0xc1799e=_0x1cc370;document['getElementById'](_0xc1799e(0x348))['max']=_0x2a08d1[_0xc1799e(0x3a7)]['value'];}),document[_0x1cc370(0x6a9)](_0x1cc370(0x514))[_0x1cc370(0x639)](_0x1cc370(0x71e),_0x11def6=>{const _0x111ec7=_0x1cc370,_0x209c6f=document['getElementById'](_0x111ec7(0x811)),_0x50d272=document['getElementById'](_0x111ec7(0x890)),_0x28049a=document[_0x111ec7(0x6a9)](_0x111ec7(0x5b1));_0x11def6[_0x111ec7(0x3a7)][_0x111ec7(0x223)]===_0x111ec7(0x601)?_0x209c6f[_0x111ec7(0x62e)][_0x111ec7(0x6e5)](_0x111ec7(0x3ef)):(_0x209c6f[_0x111ec7(0x62e)]['remove']('hidden'),_0x11def6[_0x111ec7(0x3a7)][_0x111ec7(0x223)]===_0x111ec7(0x829)?_0x50d272['textContent']=_0x111ec7(0x4cf):_0x50d272['textContent']=_0x111ec7(0x5f6));}),document[_0x1cc370(0x6a9)]('cancel-quiz-edits-btn')[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>{const _0x368363=_0x1cc370;document[_0x368363(0x6a9)](_0x368363(0x70c))[_0x368363(0x62e)][_0x368363(0x6e5)]('hidden');}),document[_0x1cc370(0x6a9)]('cancel-quiz-edits-btn-footer')[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>{const _0x55f06a=_0x1cc370;document[_0x55f06a(0x6a9)]('quiz-editor-modal')[_0x55f06a(0x62e)]['add']('hidden');}),document[_0x1cc370(0x6a9)]('verify-answers-editor-btn')[_0x1cc370(0x639)](_0x1cc370(0x7f4),handleVerifyAnswersInEditor),document['getElementById'](_0x1cc370(0x2b7))['addEventListener'](_0x1cc370(0x7f4),()=>{const _0xd95330=_0x1cc370;document[_0xd95330(0x6a9)](_0xd95330(0x70c))[_0xd95330(0x62e)][_0xd95330(0x6e5)](_0xd95330(0x3ef)),showConfirmation(_0xd95330(0x439),handleSaveChanges);}),document[_0x1cc370(0x6a9)](_0x1cc370(0x467))[_0x1cc370(0x639)]('click',handleAutoFixLatex);const _0x5a6079=document[_0x1cc370(0x6a9)](_0x1cc370(0x8a7));_0x5a6079&&_0x5a6079[_0x1cc370(0x639)](_0x1cc370(0x7f4),_0x5bdc97=>{const _0x3f4d36=_0x1cc370,_0x290d8f=_0x5bdc97['target'][_0x3f4d36(0x3fa)](_0x3f4d36(0x4df));if(_0x290d8f){const _0x31ed03=_0x290d8f[_0x3f4d36(0x3fa)]('.question-editor-item'),_0x40a7f2=parseInt(_0x31ed03[_0x3f4d36(0x7c5)][_0x3f4d36(0x564)],0xa);handleRegenerateQuestionInEditor(_0x40a7f2);}});document[_0x1cc370(0x6a9)](_0x1cc370(0x1f4))['addEventListener'](_0x1cc370(0x7f4),openQuizBankModal),document[_0x1cc370(0x6a9)]('cancel-quiz-bank-btn')['addEventListener'](_0x1cc370(0x7f4),()=>{const _0x39a177=_0x1cc370;document[_0x39a177(0x6a9)](_0x39a177(0x65c))[_0x39a177(0x62e)][_0x39a177(0x6e5)](_0x39a177(0x3ef));}),document[_0x1cc370(0x6a9)](_0x1cc370(0x239))[_0x1cc370(0x639)](_0x1cc370(0x3db),_0x1b542a=>renderQuizBankList(_0x1b542a['target'][_0x1cc370(0x223)]));const _0x3a6868=document[_0x1cc370(0x6a9)](_0x1cc370(0x70a));if(_0x3a6868){let _0x18dc9d=null;_0x3a6868[_0x1cc370(0x639)](_0x1cc370(0x7f4),_0x34e161=>{const _0x46cf8a=_0x1cc370,_0x1c7d08=_0x34e161[_0x46cf8a(0x3a7)],_0x3cea16=_0x1c7d08[_0x46cf8a(0x3fa)]('.edit-custom-topic-btn'),_0x54c05e=_0x1c7d08[_0x46cf8a(0x3fa)]('.delete-custom-topic-btn'),_0x53310d=_0x1c7d08[_0x46cf8a(0x3fa)](_0x46cf8a(0x2c7)),_0x44711e=_0x1c7d08[_0x46cf8a(0x3fa)](_0x46cf8a(0x379));if(_0x54c05e){_0x34e161[_0x46cf8a(0x8f5)]();const _0x5e4ee8=_0x54c05e[_0x46cf8a(0x7c5)]['id'],_0x1d28b9=_0x54c05e['closest'](_0x46cf8a(0x726))[_0x46cf8a(0x451)](_0x46cf8a(0x888))['textContent'];showConfirmation(_0x46cf8a(0x20e)+_0x1d28b9+'\x22?',()=>handleDeleteCustomTopic(_0x5e4ee8));}else{if(_0x3cea16){_0x34e161[_0x46cf8a(0x8f5)]();_0x18dc9d&&toggleTopicEditMode(_0x18dc9d,![]);const _0x311af9=_0x3cea16['closest'](_0x46cf8a(0x580));_0x18dc9d=_0x311af9,toggleTopicEditMode(_0x311af9,!![]);}else{if(_0x53310d){_0x34e161['preventDefault']();const _0xac746c=_0x53310d[_0x46cf8a(0x7c5)]['id'],_0x2a81f4=_0x53310d[_0x46cf8a(0x3fa)](_0x46cf8a(0x580)),_0x29385e=_0x2a81f4['querySelector'](_0x46cf8a(0x36b))[_0x46cf8a(0x223)];handleUpdateCustomTopic(_0xac746c,_0x29385e),_0x18dc9d=null;}else{if(_0x44711e){_0x34e161[_0x46cf8a(0x8f5)]();const _0x1c0b40=_0x44711e[_0x46cf8a(0x3fa)](_0x46cf8a(0x580));toggleTopicEditMode(_0x1c0b40,![]),_0x18dc9d=null;}}}}}),document[_0x1cc370(0x6a9)](_0x1cc370(0x63e))[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>{const _0xd402b3=_0x1cc370;document['getElementById']('lesson-plan-modal')[_0xd402b3(0x62e)]['add'](_0xd402b3(0x3ef));}),document[_0x1cc370(0x6a9)](_0x1cc370(0x212))[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>{const _0x253b09=_0x1cc370;document[_0x253b09(0x6a9)]('lesson-plan-modal')[_0x253b09(0x62e)]['add']('hidden');}),document[_0x1cc370(0x6a9)](_0x1cc370(0x24d))[_0x1cc370(0x639)](_0x1cc370(0x7f4),handleExportLessonPDF);}document[_0x1cc370(0x6a9)]('close-comparison-modal-btn')[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>{const _0x3c5a65=_0x1cc370;document[_0x3c5a65(0x6a9)](_0x3c5a65(0x1ff))['classList']['add'](_0x3c5a65(0x3ef));}),document[_0x1cc370(0x6a9)](_0x1cc370(0x755))[_0x1cc370(0x639)](_0x1cc370(0x7f4),()=>{const _0x282af0=_0x1cc370;document['getElementById'](_0x282af0(0x1ff))[_0x282af0(0x62e)][_0x282af0(0x6e5)]('hidden');}),setupComparisonModalTabs(),document['body'][_0x1cc370(0x639)](_0x1cc370(0x7f4),function(_0x1364e8){const _0x54aee6=_0x1cc370;if(_0x1364e8['target']['classList'][_0x54aee6(0x1c1)](_0x54aee6(0x3dc))){const _0xf5f0d8=unescape(_0x1364e8[_0x54aee6(0x3a7)][_0x54aee6(0x7c5)][_0x54aee6(0x4d1)]);startSkillPractice(_0xf5f0d8);}}),document[_0x1cc370(0x6a9)](_0x1cc370(0x33d))[_0x1cc370(0x639)](_0x1cc370(0x7f4),_0x5ab526=>{const _0x5f4b73=_0x1cc370,_0x5af43b=_0x5ab526[_0x5f4b73(0x3a7)]['closest'](_0x5f4b73(0x681));if(_0x5af43b){const _0x248b74=_0x5af43b[_0x5f4b73(0x7c5)][_0x5f4b73(0x39a)];handleDeleteSubmission(_0x248b74);}});}async function showStudentProgressView(){const _0x509539=_0x2eabae;studentInitialView['classList'][_0x509539(0x6e5)](_0x509539(0x3ef)),document[_0x509539(0x6a9)](_0x509539(0x64c))[_0x509539(0x62e)][_0x509539(0x3b0)](_0x509539(0x3ef));const _0x43e837=document[_0x509539(0x6a9)](_0x509539(0x295)),_0xadeca1=document[_0x509539(0x6a9)]('progress-student-select'),_0x16fb9d=document[_0x509539(0x6a9)](_0x509539(0x23c));_0x16fb9d[_0x509539(0x7c0)]=_0x509539(0x22a),_0xadeca1['innerHTML']=_0x509539(0x6b0),_0xadeca1[_0x509539(0x423)]=!![],_0x43e837[_0x509539(0x7c0)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects['length']===0x0){const _0x306dd5=collection(db,'artifacts/'+appId+'/public/data/projects'),_0x11556c=await getDocs(_0x306dd5);allProjects=_0x11556c[_0x509539(0x825)]['map'](_0x23df58=>({'id':_0x23df58['id'],..._0x23df58[_0x509539(0x495)]()}));}const _0x5a625b=allProjects[_0x509539(0x613)](_0x44b11a=>_0x44b11a[_0x509539(0x69e)]?.[_0x509539(0x1b9)]!==![]);_0x5a625b[_0x509539(0x908)]((_0x1ada74,_0x55b067)=>_0x1ada74[_0x509539(0x2b8)]['localeCompare'](_0x55b067[_0x509539(0x2b8)],'th')),_0x43e837['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x5a625b['map'](_0x3e9de9=>_0x509539(0x2dd)+_0x3e9de9['id']+'\x22>'+_0x3e9de9['projectName']+'</option>')[_0x509539(0x702)](''),_0x43e837['onchange']=()=>{const _0x59f196=_0x509539,_0x4d0509=_0xadeca1['value'],_0x3b2356=_0x43e837['value'];_0xadeca1[_0x59f196(0x423)]=!![],_0xadeca1['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x16fb9d[_0x59f196(0x7c0)]=_0x59f196(0x7ef);if(!_0x3b2356)return;const _0x6707df=allProjects['find'](_0x1f1044=>_0x1f1044['id']===_0x3b2356);if(!_0x6707df||!_0x6707df[_0x59f196(0x164)])return;const _0xd4395=()=>{const _0x4552e4=_0x59f196;_0xadeca1[_0x4552e4(0x7c0)]=_0x4552e4(0x6b0)+_0x6707df[_0x4552e4(0x164)][_0x4552e4(0x58b)](_0x22bb59=>'<option\x20value=\x22'+_0x22bb59+'\x22>'+_0x22bb59+'</option>')['join'](''),_0xadeca1[_0x4552e4(0x423)]=![];const _0x5b8b97=Array['from'](_0xadeca1['options'])[_0x4552e4(0x58b)](_0x121811=>_0x121811[_0x4552e4(0x223)]);if(_0x4d0509&&_0x5b8b97['includes'](_0x4d0509))_0xadeca1['value']=_0x4d0509,_0xadeca1[_0x4552e4(0x2e2)](new Event(_0x4552e4(0x71e)));else _0x6707df[_0x4552e4(0x164)][_0x4552e4(0x1f2)]===0x1&&(_0xadeca1[_0x4552e4(0x223)]=_0x6707df['students'][0x0],_0xadeca1[_0x4552e4(0x2e2)](new Event(_0x4552e4(0x71e))));};if(_0x6707df[_0x59f196(0x69e)]?.[_0x59f196(0x74f)]){if(sessionStorage['getItem'](_0x59f196(0x615)+_0x3b2356)===_0x59f196(0x408)){_0xd4395();return;}const _0x5d2f9b=document[_0x59f196(0x6a9)](_0x59f196(0x38a)),_0x1d8b3e=document[_0x59f196(0x6a9)](_0x59f196(0x332)),_0x1bc761=document[_0x59f196(0x6a9)]('cancel-passcode-btn'),_0x110158=document[_0x59f196(0x6a9)](_0x59f196(0x57c)),_0x12084c=document[_0x59f196(0x6a9)](_0x59f196(0x18b));document[_0x59f196(0x6a9)]('passcode-prompt-message')['textContent']='สำหรับโปรเจค:\x20'+_0x6707df[_0x59f196(0x2b8)],_0x110158[_0x59f196(0x223)]='',_0x12084c[_0x59f196(0x62e)][_0x59f196(0x6e5)]('hidden'),_0x5d2f9b[_0x59f196(0x62e)][_0x59f196(0x3b0)](_0x59f196(0x3ef));const _0x4f4545=()=>{const _0x533bf9=_0x59f196,_0x3c901f=_0x110158[_0x533bf9(0x223)][_0x533bf9(0x88b)]();_0x3c901f===_0x6707df[_0x533bf9(0x69e)]['passcode']?(sessionStorage['setItem'](_0x533bf9(0x615)+_0x3b2356,'true'),_0x5d2f9b[_0x533bf9(0x62e)][_0x533bf9(0x6e5)]('hidden'),_0xd4395(),_0x1d8b3e[_0x533bf9(0x17b)]('click',_0x4f4545)):_0x12084c['classList'][_0x533bf9(0x3b0)]('hidden');};_0x1d8b3e[_0x59f196(0x214)]=_0x4f4545,_0x1bc761[_0x59f196(0x214)]=()=>{const _0x1137ca=_0x59f196;_0x5d2f9b['classList']['add']('hidden'),_0x43e837[_0x1137ca(0x223)]='',_0x1d8b3e[_0x1137ca(0x17b)](_0x1137ca(0x7f4),_0x4f4545);};}else _0xd4395();},_0xadeca1[_0x509539(0x3ec)]=()=>{const _0x5ed760=_0x509539,_0x5be842=_0x43e837[_0x5ed760(0x223)],_0x47848d=_0xadeca1['value'];_0x5be842&&_0x47848d&&renderStudentProgressDashboard(_0x5be842,_0x47848d);};}async function renderStudentProgressDashboard(_0x13e6e9,_0x2e5973){const _0x4da38d=_0x2eabae,_0x34b8c9=document['getElementById']('student-progress-content');_0x34b8c9[_0x4da38d(0x7c0)]=_0x4da38d(0x708);try{const _0x2f972e=collection(db,'artifacts/'+appId+_0x4da38d(0x429)),_0x4e4858=query(_0x2f972e,where('projectId','==',_0x13e6e9)),_0x35826c=await getDocs(_0x4e4858),_0x13c43b=_0x35826c['docs'][_0x4da38d(0x58b)](_0xb14303=>({'id':_0xb14303['id'],..._0xb14303[_0x4da38d(0x495)]()})),_0x6aad82=_0x13c43b[_0x4da38d(0x58b)](_0x566834=>getDoc(doc(db,'artifacts/'+appId+_0x4da38d(0x6b8)+_0x566834['id']+_0x4da38d(0x691),_0x2e5973))),_0x366935=await Promise['all'](_0x6aad82),_0x3466b0=_0x366935['filter'](_0x489e2a=>_0x489e2a[_0x4da38d(0x8df)]())['map'](_0x5397ea=>({'quizId':_0x5397ea[_0x4da38d(0x778)]['parent'][_0x4da38d(0x251)]['id'],..._0x5397ea[_0x4da38d(0x495)]()}));if(_0x3466b0[_0x4da38d(0x1f2)]===0x0){_0x34b8c9['innerHTML']=_0x4da38d(0x535);return;}let _0x139f91=_0x4da38d(0x5dc);_0x3466b0[_0x4da38d(0x4ac)](_0x1ae104=>{const _0x11c326=_0x4da38d,_0x35fb4e=_0x13c43b[_0x11c326(0x8ad)](_0x42a039=>_0x42a039['id']===_0x1ae104[_0x11c326(0x612)]),_0x485934=_0x35fb4e[_0x11c326(0x69e)]?.[_0x11c326(0x3df)]||_0x11c326(0x8c0),_0x4182e6=_0x35fb4e[_0x11c326(0x69e)]?.['passingScore']??0x0,_0x260210=_0x1ae104['bestScore']>=_0x4182e6;let _0x1f206a='',_0x2e1633=_0x11c326(0x7d3);switch(_0x485934){case'show_results_and_answers':case _0x11c326(0x33b):_0x2e1633=_0x260210?'bg-green-50':_0x11c326(0x209),_0x1f206a=_0x11c326(0x8b7)+(_0x260210?'text-green-700':'text-red-700')+'\x22>'+_0x1ae104[_0x11c326(0x7ec)]+_0x11c326(0x784)+_0x1ae104[_0x11c326(0x342)]+_0x11c326(0x2d3)+(_0x260210?_0x11c326(0x71f):_0x11c326(0x4b1))+'\x22>'+(_0x260210?_0x11c326(0x2ad):_0x11c326(0x71c))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'show_pass_fail_only':_0x2e1633=_0x260210?_0x11c326(0x3fe):'bg-red-50',_0x1f206a=_0x11c326(0x56b)+(_0x260210?_0x11c326(0x71f):_0x11c326(0x4b1))+'\x22>'+(_0x260210?'ผ่าน':_0x11c326(0x71c))+_0x11c326(0x805);break;case _0x11c326(0x269):_0x2e1633=_0x11c326(0x3fb),_0x1f206a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x139f91+=_0x11c326(0x537)+_0x2e1633+_0x11c326(0x1a7)+_0x35fb4e[_0x11c326(0x4d1)]+_0x11c326(0x1bf)+_0x1ae104[_0x11c326(0x40f)]['length']+_0x11c326(0x354)+new Date(_0x1ae104['latestSubmittedAt'])[_0x11c326(0x809)](_0x11c326(0x8cf))+_0x11c326(0x610)+_0x1f206a+_0x11c326(0x297);}),_0x139f91+=_0x4da38d(0x8dc),_0x34b8c9[_0x4da38d(0x7c0)]=_0x139f91;}catch(_0x3b29f1){console[_0x4da38d(0x497)](_0x4da38d(0x4f4),_0x3b29f1),_0x34b8c9['innerHTML']=_0x4da38d(0x3ea);}}function _0x4eb1(_0x4036d0,_0xaacf10){const _0x12a02f=_0x12a0();return _0x4eb1=function(_0x4eb134,_0x1e00f1){_0x4eb134=_0x4eb134-0x164;let _0x7561a7=_0x12a02f[_0x4eb134];return _0x7561a7;},_0x4eb1(_0x4036d0,_0xaacf10);}function setupStudentProgressListeners(){const _0x1f3d64=_0x2eabae;document[_0x1f3d64(0x6a9)]('view-my-progress-btn')[_0x1f3d64(0x639)](_0x1f3d64(0x7f4),showStudentProgressView),document[_0x1f3d64(0x6a9)](_0x1f3d64(0x7a0))['addEventListener'](_0x1f3d64(0x7f4),()=>{const _0x483b0c=_0x1f3d64;document[_0x483b0c(0x6a9)]('student-progress-view')[_0x483b0c(0x62e)][_0x483b0c(0x6e5)](_0x483b0c(0x3ef)),document['getElementById'](_0x483b0c(0x515))[_0x483b0c(0x62e)]['remove'](_0x483b0c(0x3ef));});}async function startSkillPractice(_0x32e2d5){const _0x21f172=_0x2eabae;studentResultArea[_0x21f172(0x62e)][_0x21f172(0x6e5)](_0x21f172(0x3ef)),studentQuizArea[_0x21f172(0x7c0)]=_0x21f172(0x351),studentQuizArea[_0x21f172(0x62e)][_0x21f172(0x3b0)](_0x21f172(0x3ef));try{const _0x3edc3f=await getStandardizedTopic(_0x32e2d5);console[_0x21f172(0x305)](_0x21f172(0x170)+_0x32e2d5+_0x21f172(0x445)+_0x3edc3f+'\x22'),studentQuizArea[_0x21f172(0x451)]('p')[_0x21f172(0x60c)]='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x3edc3f+'\x22...';const _0x26b980=collection(db,_0x21f172(0x84e)+appId+'/public/data/practiceBank'),_0x559e9e=query(_0x26b980,where(_0x21f172(0x4d1),'==',_0x3edc3f)),_0x183550=await getDocs(_0x559e9e);if(_0x183550[_0x21f172(0x825)]['length']>=0x3){console['log'](_0x21f172(0x6c7)+_0x183550[_0x21f172(0x825)][_0x21f172(0x1f2)]+_0x21f172(0x8b6)+_0x3edc3f+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x9c961c=_0x183550[_0x21f172(0x825)][_0x21f172(0x58b)](_0x2bf3c9=>_0x2bf3c9[_0x21f172(0x495)]());shuffleArray(_0x9c961c);const _0x76f956={'topic':_0x3edc3f,'questions':_0x9c961c[_0x21f172(0x791)](0x0,0x3)};displaySkillPracticeDrill(_0x76f956);}else{console[_0x21f172(0x305)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x3edc3f+_0x21f172(0x2a8));const _0x367e8c=await generatePracticeQuestions(_0x3edc3f);await saveDrillToPracticeBank(_0x367e8c,_0x3edc3f),displaySkillPracticeDrill(_0x367e8c);}}catch(_0x15169a){console['error'](_0x21f172(0x1d9),_0x15169a),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea[_0x21f172(0x62e)]['add'](_0x21f172(0x3ef)),studentResultArea[_0x21f172(0x62e)]['remove'](_0x21f172(0x3ef));}}async function saveDrillToPracticeBank(_0x49f814,_0x2ecbf1){const _0x1aaebc=_0x2eabae,_0x5cb075=collection(db,_0x1aaebc(0x84e)+appId+_0x1aaebc(0x409)),_0x24ca60=writeBatch(db);_0x49f814[_0x1aaebc(0x813)]['forEach'](_0x317551=>{const _0x1abd67=_0x1aaebc,_0x12fd14=doc(_0x5cb075);_0x24ca60[_0x1abd67(0x540)](_0x12fd14,{'topic':_0x2ecbf1,'questionText':_0x317551[_0x1abd67(0x836)],'options':_0x317551[_0x1abd67(0x8de)],'correctAnswerIndex':_0x317551[_0x1abd67(0x58f)],'explanation':_0x317551[_0x1abd67(0x61f)],'createdAt':serverTimestamp()});});try{await _0x24ca60[_0x1aaebc(0x556)](),console[_0x1aaebc(0x305)](_0x1aaebc(0x586)+_0x49f814[_0x1aaebc(0x813)][_0x1aaebc(0x1f2)]+_0x1aaebc(0x31e));}catch(_0xdefe06){console[_0x1aaebc(0x497)](_0x1aaebc(0x568),_0xdefe06);}}async function getStandardizedTopic(_0x170315){const _0x5ac77e=_0x2eabae,_0x212d8d=_0x5ac77e(0x7d8)+_0x170315+_0x5ac77e(0x76b),_0x18b204={'type':_0x5ac77e(0x733),'properties':{'standardTopic':{'type':_0x5ac77e(0x5df)}},'required':[_0x5ac77e(0x3a1)]};try{const _0x1b98ad=await callAnalysisApi(_0x212d8d,_0x18b204);return _0x1b98ad[_0x5ac77e(0x3a1)];}catch(_0x135e7d){return console[_0x5ac77e(0x497)](_0x5ac77e(0x645),_0x135e7d),_0x170315;}}async function generatePracticeQuestions(_0x4ee2bf){const _0x7a2bc9=_0x2eabae,_0x203df0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x4ee2bf+_0x7a2bc9(0x268)+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x56f2a7={'type':'OBJECT','properties':{'questionText':{'type':_0x7a2bc9(0x5df)},'options':{'type':_0x7a2bc9(0x635),'items':{'type':_0x7a2bc9(0x5df)}},'correctAnswerIndex':{'type':_0x7a2bc9(0x3be)},'explanation':{'type':_0x7a2bc9(0x5df)}},'required':[_0x7a2bc9(0x836),_0x7a2bc9(0x8de),_0x7a2bc9(0x58f),_0x7a2bc9(0x61f)]},_0x1abda1={'type':_0x7a2bc9(0x733),'properties':{'topic':{'type':_0x7a2bc9(0x5df)},'questions':{'type':_0x7a2bc9(0x635),'items':_0x56f2a7}},'required':[_0x7a2bc9(0x4d1),_0x7a2bc9(0x813)]};return await callAnalysisApi(_0x203df0,_0x1abda1);}function displayLessonPlan(_0x33f1ca,_0x3abc79){const _0x527da5=_0x2eabae,_0x75e6f1=_0x527da5(0x363)+_0x3abc79['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x33f1ca[_0x527da5(0x72d)][_0x527da5(0x58b)](_0x137c57=>_0x527da5(0x314)+_0x137c57+_0x527da5(0x315))[_0x527da5(0x702)]('')+_0x527da5(0x7c3)+_0x33f1ca[_0x527da5(0x49a)]+_0x527da5(0x734)+_0x33f1ca[_0x527da5(0x5a7)][_0x527da5(0x58b)](_0x19fb5f=>_0x527da5(0x654)+_0x19fb5f[_0x527da5(0x5d6)]+_0x527da5(0x3c2)+_0x19fb5f[_0x527da5(0x5e1)]+'</p></div>')[_0x527da5(0x702)]('')+_0x527da5(0x7fb);document[_0x527da5(0x6a9)](_0x527da5(0x277))[_0x527da5(0x60c)]='แผนการสอน:\x20'+_0x3abc79['topic'],document[_0x527da5(0x6a9)](_0x527da5(0x44d))[_0x527da5(0x7c0)]=_0x75e6f1,document[_0x527da5(0x6a9)](_0x527da5(0x470))[_0x527da5(0x62e)][_0x527da5(0x3b0)](_0x527da5(0x3ef));if(window[_0x527da5(0x6d3)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x1fd068){let _0x149c76=0x0;const _0x4443f5=_0x1fd068['questions'],_0xdf93e=()=>{const _0x2d5552=_0x4eb1,_0x3cf6b5=_0x4443f5[_0x149c76],_0x39c13b=_0x2d5552(0x181)+(_0x149c76+0x1)+'\x20/\x20'+_0x4443f5[_0x2d5552(0x1f2)]+_0x2d5552(0x4f2)+_0x3cf6b5[_0x2d5552(0x836)]+_0x2d5552(0x65b)+_0x3cf6b5['options'][_0x2d5552(0x58b)]((_0x42377e,_0x3d067f)=>_0x2d5552(0x1c2)+_0x3d067f+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x3d067f+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x3d067f+'\x22>'+_0x42377e+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2d5552(0x702)]('')+_0x2d5552(0x6d2);studentQuizArea[_0x2d5552(0x7c0)]=_0x39c13b;if(window[_0x2d5552(0x6d3)])MathJax['typesetPromise']([studentQuizArea]);document[_0x2d5552(0x6a9)](_0x2d5552(0x618))[_0x2d5552(0x639)](_0x2d5552(0x7f4),async()=>{const _0x1b8d88=_0x2d5552,_0x3105a3=await getHintForQuestion(_0x3cf6b5[_0x1b8d88(0x836)]);showMessage(_0x3105a3);}),document['getElementById'](_0x2d5552(0x657))[_0x2d5552(0x639)](_0x2d5552(0x7f4),()=>{const _0xc33ae8=_0x2d5552,_0x3df60d=document[_0xc33ae8(0x451)](_0xc33ae8(0x8e6));if(!_0x3df60d){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x309620=document[_0xc33ae8(0x6a9)]('drill-feedback'),_0x4c4744=parseInt(_0x3df60d[_0xc33ae8(0x223)])===_0x3cf6b5[_0xc33ae8(0x58f)];_0x4c4744?(_0x309620['className']=_0xc33ae8(0x7cd),_0x309620['innerHTML']=_0xc33ae8(0x844)+_0x3cf6b5[_0xc33ae8(0x61f)]):(_0x309620[_0xc33ae8(0x32f)]=_0xc33ae8(0x68a),_0x309620[_0xc33ae8(0x7c0)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x3cf6b5[_0xc33ae8(0x61f)]);_0x309620[_0xc33ae8(0x62e)][_0xc33ae8(0x3b0)]('hidden');if(window[_0xc33ae8(0x6d3)])MathJax[_0xc33ae8(0x820)]([_0x309620]);document[_0xc33ae8(0x6a9)](_0xc33ae8(0x657))[_0xc33ae8(0x62e)][_0xc33ae8(0x6e5)]('hidden'),document[_0xc33ae8(0x6a9)]('hint-btn')[_0xc33ae8(0x62e)][_0xc33ae8(0x6e5)](_0xc33ae8(0x3ef)),document[_0xc33ae8(0x6a9)]('next-drill-btn')[_0xc33ae8(0x62e)]['remove'](_0xc33ae8(0x3ef));}),document[_0x2d5552(0x6a9)](_0x2d5552(0x523))[_0x2d5552(0x639)](_0x2d5552(0x7f4),()=>{const _0x2cff40=_0x2d5552;_0x149c76++,_0x149c76<_0x4443f5[_0x2cff40(0x1f2)]?_0xdf93e():(studentQuizArea[_0x2cff40(0x7c0)]=_0x2cff40(0x1cc),document[_0x2cff40(0x6a9)](_0x2cff40(0x690))[_0x2cff40(0x639)](_0x2cff40(0x7f4),()=>{const _0x22ef6c=_0x2cff40;studentQuizArea[_0x22ef6c(0x62e)][_0x22ef6c(0x6e5)](_0x22ef6c(0x3ef)),studentResultArea['classList'][_0x22ef6c(0x3b0)](_0x22ef6c(0x3ef));}));});};_0xdf93e();}async function getHintForQuestion(_0x4df35d){const _0x40b0e0=_0x2eabae,_0x1ddb3c=_0x40b0e0(0x21f)+_0x4df35d+_0x40b0e0(0x6f6),_0x1dc103={'type':_0x40b0e0(0x733),'properties':{'hint':{'type':'STRING'}},'required':['hint']};try{const _0x472303=await callAnalysisApi(_0x1ddb3c,_0x1dc103);return _0x472303['hint'];}catch(_0x3d3ad6){return console['error'](_0x40b0e0(0x23f),_0x3d3ad6),_0x40b0e0(0x294);}}async function extractTextFromPdf(_0x42c76d){const _0x486619=_0x2eabae;pdfjsLib['GlobalWorkerOptions'][_0x486619(0x189)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x1e91d8=await _0x42c76d[_0x486619(0x5ae)](),_0x2ce7ce=await pdfjsLib[_0x486619(0x474)](_0x1e91d8)[_0x486619(0x7a3)],_0x246b4d=_0x2ce7ce['numPages'];let _0x209ea2='';for(let _0x4020e3=0x1;_0x4020e3<=_0x246b4d;_0x4020e3++){const _0x21cb40=await _0x2ce7ce['getPage'](_0x4020e3),_0x59cc10=await _0x21cb40['getTextContent'](),_0xdf34bf=_0x59cc10[_0x486619(0x5d0)][_0x486619(0x58b)](_0x435681=>_0x435681[_0x486619(0x28f)])[_0x486619(0x702)]('\x20');_0x209ea2+=_0xdf34bf+'\x0a\x0a';}return _0x209ea2;}async function handleGenerateFromBlueprint(){const _0x348de2=_0x2eabae,_0x4def3a=document[_0x348de2(0x6a9)](_0x348de2(0x169)),_0xbfa3fe=document[_0x348de2(0x6a9)]('reference-pdf-upload'),_0x557e5d=_0x4def3a['files'][0x0],_0x1b4a55=_0xbfa3fe[_0x348de2(0x1e8)]['length']>0x0?_0xbfa3fe[_0x348de2(0x1e8)][0x0]:null;if(!_0x557e5d){showMessage(_0x348de2(0x619));return;}const _0x37efeb=document['getElementById'](_0x348de2(0x258)),_0x1ddf8e=document[_0x348de2(0x6a9)](_0x348de2(0x32d)),_0xcb8430=document[_0x348de2(0x6a9)](_0x348de2(0x841)),_0x301dd3=document[_0x348de2(0x6a9)](_0x348de2(0x37a));_0x301dd3[_0x348de2(0x423)]=!![],document[_0x348de2(0x6a9)](_0x348de2(0x3b1))[_0x348de2(0x62e)]['remove']('hidden'),_0xcb8430[_0x348de2(0x7c0)]='',_0x37efeb[_0x348de2(0x62e)][_0x348de2(0x3b0)]('hidden');try{_0x1ddf8e[_0x348de2(0x60c)]=_0x348de2(0x2eb);const _0x4f0083=await extractTextFromPdf(_0x557e5d);if(!_0x4f0083[_0x348de2(0x88b)]())throw new Error(_0x348de2(0x262));let _0xd3415='';_0x1b4a55&&(_0x1ddf8e[_0x348de2(0x60c)]=_0x348de2(0x27c),_0xd3415=await extractTextFromPdf(_0x1b4a55));_0x1ddf8e[_0x348de2(0x60c)]=_0x348de2(0x861);const _0x442bf2=document[_0x348de2(0x6a9)](_0x348de2(0x5e7))[_0x348de2(0x2e9)],_0x3266c6=_0x442bf2?_0x348de2(0x71a):'',_0x2e6f28=_0xd3415?_0x348de2(0x178)+_0xd3415+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0x1fb548=_0x348de2(0x6ae)+(_0xd3415?_0x348de2(0x602):'')+_0x348de2(0x620)+_0x4f0083+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2e6f28+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3266c6+_0x348de2(0x89b)+simpleMathPrompt+_0x348de2(0x4a6),_0x53c38f={'type':'OBJECT','properties':{'questionText':{'type':_0x348de2(0x5df)},'questionType':{'type':_0x348de2(0x5df),'enum':[_0x348de2(0x299),_0x348de2(0x53e)]},'options':{'type':_0x348de2(0x635),'items':{'type':_0x348de2(0x5df)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x348de2(0x5df)},'explanation':{'type':_0x348de2(0x5df)},'imageCode':{'type':_0x348de2(0x5df)}},'required':['questionText',_0x348de2(0x2a3),_0x348de2(0x61f)]},_0x37dfc5={'type':_0x348de2(0x733),'properties':{'topic':{'type':_0x348de2(0x5df)},'questions':{'type':_0x348de2(0x635),'items':_0x53c38f}},'required':['topic',_0x348de2(0x813)]};await handleApiCall(_0x1fb548,_0x348de2(0x27f),_0x37dfc5);}catch(_0x4a6f6e){console['error']('Error\x20generating\x20from\x20blueprint:',_0x4a6f6e),showMessage(_0x348de2(0x669)+_0x4a6f6e[_0x348de2(0x7d2)]),_0xcb8430[_0x348de2(0x7c0)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>';}finally{_0x37efeb[_0x348de2(0x62e)][_0x348de2(0x6e5)](_0x348de2(0x3ef)),_0x301dd3[_0x348de2(0x423)]=![];}}async function handleGenerateParallelFromBank(_0x43b7cc){const _0x4710ab=_0x2eabae;switchProjectTab(_0x4710ab(0x6ca));const _0x2a0c8f=document[_0x4710ab(0x6a9)](_0x4710ab(0x258)),_0x4bcb74=document[_0x4710ab(0x6a9)]('loader-text'),_0x2239fe=document[_0x4710ab(0x6a9)](_0x4710ab(0x841));document['getElementById']('quiz-generation-area')[_0x4710ab(0x62e)]['remove'](_0x4710ab(0x3ef)),_0x2239fe[_0x4710ab(0x7c0)]='',_0x2a0c8f[_0x4710ab(0x62e)]['remove'](_0x4710ab(0x3ef)),_0x4bcb74[_0x4710ab(0x60c)]=_0x4710ab(0x2f5)+_0x43b7cc[_0x4710ab(0x4d1)]+_0x4710ab(0x85c);try{const _0x222e36=_0x43b7cc[_0x4710ab(0x813)][_0x4710ab(0x58b)]((_0x397e8e,_0x479441)=>{const _0x2353e9=_0x4710ab;let _0x4928bf=_0x479441+0x1+'.\x20'+(_0x397e8e['questionText']||_0x397e8e[_0x2353e9(0x416)])+'\x0a';if(_0x397e8e[_0x2353e9(0x8de)])_0x4928bf+=_0x397e8e[_0x2353e9(0x8de)][_0x2353e9(0x58b)]((_0x57d02f,_0x2a4433)=>_0x2353e9(0x660)+(_0x2a4433===_0x397e8e[_0x2353e9(0x58f)]?'[*]':'')+'\x20'+_0x57d02f)[_0x2353e9(0x702)]('\x0a');else _0x397e8e['idealAnswer']&&(_0x4928bf+=_0x2353e9(0x1c8)+_0x397e8e[_0x2353e9(0x695)]);return _0x4928bf;})[_0x4710ab(0x702)]('\x0a\x0a');_0x4bcb74['textContent']=_0x4710ab(0x3c7);const _0x1b6912=_0x4710ab(0x1c5)+_0x43b7cc['topic']+_0x4710ab(0x7a7)+_0x222e36+_0x4710ab(0x4c8)+simpleMathPrompt+_0x4710ab(0x4a6),_0x38c1b5={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':['multiple_choice','short_answer',_0x4710ab(0x254),_0x4710ab(0x29d)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x4710ab(0x5df)},'correctAnswer':{'type':_0x4710ab(0x3f4)},'stem':{'type':_0x4710ab(0x5df)},'correctResponse':{'type':_0x4710ab(0x5df)},'allResponses':{'type':_0x4710ab(0x635),'items':{'type':'STRING'}},'explanation':{'type':_0x4710ab(0x5df)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x4710ab(0x2a3),_0x4710ab(0x8de),'correctAnswerIndex',_0x4710ab(0x61f)]},_0x27aa77={'type':_0x4710ab(0x733),'properties':{'topic':{'type':_0x4710ab(0x5df)},'questions':{'type':_0x4710ab(0x635),'items':_0x38c1b5}},'required':[_0x4710ab(0x4d1),'questions']},_0x7ef517=await callAnalysisApi(_0x1b6912,_0x27aa77);_0x7ef517[_0x4710ab(0x4d1)]=_0x4710ab(0x50b)+_0x43b7cc[_0x4710ab(0x4d1)],_0x7ef517[_0x4710ab(0x6bc)]=_0x43b7cc[_0x4710ab(0x6bc)],currentQuizData=_0x7ef517,displayGeneratedQuiz(_0x7ef517),document[_0x4710ab(0x6a9)](_0x4710ab(0x59c))[_0x4710ab(0x40b)]({'behavior':_0x4710ab(0x1c3)});}catch(_0x3cafde){console['error'](_0x4710ab(0x67a),_0x3cafde),showMessage(_0x4710ab(0x669)+_0x3cafde['message']),_0x2239fe[_0x4710ab(0x7c0)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x2a0c8f['classList'][_0x4710ab(0x6e5)](_0x4710ab(0x3ef));}}async function handleGenerateParallelPostTest(_0x451203){const _0x41030d=_0x2eabae,_0x26e3b3=document[_0x41030d(0x6a9)](_0x41030d(0x3b3)),_0x31f00d=document[_0x41030d(0x6a9)](_0x41030d(0x63a));_0x31f00d[_0x41030d(0x62e)][_0x41030d(0x6e5)](_0x41030d(0x3ef));const _0x4bb66c=_0x41030d(0x481);_0x26e3b3[_0x41030d(0x626)](_0x41030d(0x2c9),_0x4bb66c);try{const _0x39b69e=_0x451203[_0x41030d(0x813)]['map']((_0x36eaa1,_0x5f3c9e)=>{const _0x58a499=_0x41030d;let _0x14cb81=_0x5f3c9e+0x1+'.\x20'+(_0x36eaa1[_0x58a499(0x836)]||_0x36eaa1[_0x58a499(0x416)]);if(_0x36eaa1[_0x58a499(0x8de)])_0x14cb81+=_0x58a499(0x500)+_0x36eaa1['options'][_0x58a499(0x702)](',\x20');return _0x14cb81;})['join']('\x0a\x0a'),_0x5b3108='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x451203[_0x41030d(0x4d1)]+_0x41030d(0x6dd)+_0x39b69e+_0x41030d(0x3b4)+simpleMathPrompt+_0x41030d(0x4a6),_0x465429={'type':_0x41030d(0x733),'properties':{'topic':{'type':_0x41030d(0x5df)},'questions':{'type':_0x41030d(0x635),'items':{'type':_0x41030d(0x733),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x41030d(0x5df)},'options':{'type':_0x41030d(0x635),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x41030d(0x3be)},'idealAnswer':{'type':_0x41030d(0x5df)},'explanation':{'type':_0x41030d(0x5df)}},'required':[_0x41030d(0x836),_0x41030d(0x61f)]}}},'required':[_0x41030d(0x4d1),_0x41030d(0x813)]},_0x49ffd2=await callAnalysisApi(_0x5b3108,_0x465429),_0x322140=_0x451203['topic']['replace'](_0x41030d(0x891),'')['trim'](),_0x41f6ad=_0x41030d(0x31c)+_0x322140,_0x349bdb={..._0x49ffd2,'topic':_0x41f6ad,'quizType':_0x451203[_0x41030d(0x6bc)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x41030d(0x3a9)](),'status':_0x41030d(0x46b),'settings':_0x451203[_0x41030d(0x69e)],'quizMode':'post-test','pairedQuizId':_0x451203['id']};let _0x2f04b0;while(!![]){_0x2f04b0=Math[_0x41030d(0x5b7)](0x3e8+Math['random']()*0x2328)[_0x41030d(0x5e5)]();const _0x4cee60=await getDoc(doc(db,_0x41030d(0x84e)+appId+_0x41030d(0x429),_0x2f04b0));if(!_0x4cee60['exists']())break;}await setDoc(doc(db,_0x41030d(0x84e)+appId+'/public/data/quizzes',_0x2f04b0),_0x349bdb);const _0x579ae6=doc(db,_0x41030d(0x84e)+appId+_0x41030d(0x429),_0x451203['id']);await updateDoc(_0x579ae6,{'pairedQuizId':_0x2f04b0}),showMessage(_0x41030d(0x5a6));}catch(_0x4dcb4c){console[_0x41030d(0x497)](_0x41030d(0x344),_0x4dcb4c),showMessage(_0x41030d(0x669)+_0x4dcb4c[_0x41030d(0x7d2)]);}finally{const _0x2e5daa=document['getElementById'](_0x41030d(0x759));if(_0x2e5daa)_0x2e5daa[_0x41030d(0x3b0)]();_0x31f00d[_0x41030d(0x62e)][_0x41030d(0x3b0)](_0x41030d(0x3ef));}}async function handleGenerateParallelTest(){const _0x430fa5=_0x2eabae,_0x429f59=document['getElementById']('parallel-test-upload-input'),_0x5edfa3=_0x429f59[_0x430fa5(0x1e8)][0x0];if(!_0x5edfa3){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน');return;}const _0x33ed3f=document[_0x430fa5(0x6a9)](_0x430fa5(0x258)),_0x4ab311=document['getElementById'](_0x430fa5(0x32d)),_0x1d0ec0=document['getElementById'](_0x430fa5(0x841)),_0x3f3470=document['getElementById'](_0x430fa5(0x8d3));_0x3f3470['disabled']=!![],document[_0x430fa5(0x6a9)](_0x430fa5(0x3b1))[_0x430fa5(0x62e)][_0x430fa5(0x3b0)]('hidden'),_0x1d0ec0[_0x430fa5(0x7c0)]='',_0x33ed3f[_0x430fa5(0x62e)]['remove']('hidden'),_0x4ab311[_0x430fa5(0x60c)]=_0x430fa5(0x6a8);try{const _0x195182=await extractTextFromPdf(_0x5edfa3);if(!_0x195182[_0x430fa5(0x88b)]())throw new Error(_0x430fa5(0x5b5));_0x4ab311[_0x430fa5(0x60c)]=_0x430fa5(0x3c7);const _0x5f9a0a=document['getElementById'](_0x430fa5(0x5e7))['checked'],_0x391f3a=_0x5f9a0a?_0x430fa5(0x71a):'',_0x5c7db5=_0x430fa5(0x75c)+_0x195182+_0x430fa5(0x66e)+_0x391f3a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x430fa5(0x4a6),_0xcc4fa8={'type':_0x430fa5(0x733),'properties':{'questionText':{'type':_0x430fa5(0x5df)},'questionType':{'type':'STRING','enum':[_0x430fa5(0x299),_0x430fa5(0x53e)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x430fa5(0x5df)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x430fa5(0x5df)}},'required':['questionText',_0x430fa5(0x2a3),_0x430fa5(0x61f)]},_0x2b9e1f={'type':'OBJECT','properties':{'topic':{'type':_0x430fa5(0x5df)},'questions':{'type':_0x430fa5(0x635),'items':_0xcc4fa8}},'required':[_0x430fa5(0x4d1),_0x430fa5(0x813)]};await handleApiCall(_0x5c7db5,_0x430fa5(0x2db),_0x2b9e1f);}catch(_0x3d5334){console[_0x430fa5(0x497)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x3d5334),showMessage(_0x430fa5(0x669)+_0x3d5334[_0x430fa5(0x7d2)]),_0x1d0ec0[_0x430fa5(0x7c0)]=_0x430fa5(0x4bb);}finally{_0x33ed3f[_0x430fa5(0x62e)][_0x430fa5(0x6e5)]('hidden'),_0x3f3470['disabled']=![];}}async function handleRegenerateQuestionInEditor(_0x1e5886){const _0x274b78=_0x2eabae;if(currentEditingQuizData===null)return;const _0x1bc271=document[_0x274b78(0x451)](_0x274b78(0x43e)+_0x1e5886+'\x22]');_0x1bc271&&(_0x1bc271[_0x274b78(0x7c0)]=_0x274b78(0x557));const _0x1bed4a=currentEditingQuizData[_0x274b78(0x813)][_0x1e5886],_0x2e08cf=currentEditingQuizData[_0x274b78(0x4d1)],_0x493e90=_0x1bed4a[_0x274b78(0x2a3)],_0x4bb051={'type':'OBJECT','properties':{'questionText':{'type':_0x274b78(0x5df)},'options':{'type':_0x274b78(0x635),'items':{'type':_0x274b78(0x5df)}},'correctAnswerIndex':{'type':_0x274b78(0x3be)},'explanation':{'type':_0x274b78(0x5df)}},'required':['questionText','options',_0x274b78(0x58f),_0x274b78(0x61f)]},_0x2598f5={'type':_0x274b78(0x733),'properties':{'questionText':{'type':_0x274b78(0x5df)},'idealAnswer':{'type':_0x274b78(0x5df)},'explanation':{'type':_0x274b78(0x5df)}},'required':['questionText',_0x274b78(0x695),'explanation']};let _0x2adc11,_0x5b6fb3='';_0x493e90==='multiple_choice'?(_0x2adc11=_0x4bb051,_0x5b6fb3='แบบปรนัย\x204\x20ตัวเลือก'):(_0x2adc11=_0x2598f5,_0x5b6fb3=_0x274b78(0x773));const _0x134e72=_0x274b78(0x292)+_0x2e08cf+_0x274b78(0x207)+_0x5b6fb3+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x1bed4a['questionText']||_0x1bed4a['stem'])+'\x22.\x20'+simpleMathPrompt;try{const _0x6738e0=await callAnalysisApi(_0x134e72,_0x2adc11);currentEditingQuizData[_0x274b78(0x813)][_0x1e5886]={..._0x1bed4a,..._0x6738e0},renderQuizEditor(currentEditingQuizData);}catch(_0x412b46){console[_0x274b78(0x497)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x412b46),showMessage(_0x274b78(0x2cc)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x370236=_0x2eabae,_0x2f0851=document[_0x370236(0x6a9)](_0x370236(0x5f4));currentMode==='student'?(adminPasswordModal[_0x370236(0x62e)][_0x370236(0x3b0)]('hidden'),document[_0x370236(0x6a9)]('admin-password-input')[_0x370236(0x834)]()):(currentMode=_0x370236(0x817),_0x2f0851[_0x370236(0x7c0)]=_0x370236(0x723),_0x2f0851[_0x370236(0x7c9)]=_0x370236(0x165),showView('student'));}function handleAdminLogin(){const _0x35ea8b=_0x2eabae,_0x904701=document['getElementById'](_0x35ea8b(0x33f)),_0x358ac5=document[_0x35ea8b(0x6a9)](_0x35ea8b(0x887));if(_0x904701[_0x35ea8b(0x223)]===_0x35ea8b(0x8fa)){adminPasswordModal[_0x35ea8b(0x62e)][_0x35ea8b(0x6e5)]('hidden'),_0x904701[_0x35ea8b(0x223)]='',_0x358ac5[_0x35ea8b(0x62e)][_0x35ea8b(0x6e5)]('hidden'),currentMode=_0x35ea8b(0x319);const _0x1b22ca=document['getElementById'](_0x35ea8b(0x5f4));_0x1b22ca['innerHTML']='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x1b22ca[_0x35ea8b(0x7c9)]=_0x35ea8b(0x403),showView(_0x35ea8b(0x739));}else _0x358ac5[_0x35ea8b(0x62e)][_0x35ea8b(0x3b0)](_0x35ea8b(0x3ef)),_0x904701[_0x35ea8b(0x223)]='';}function switchProjectTab(_0x2c01f3){const _0x310a24=_0x2eabae;[_0x310a24(0x6ca),_0x310a24(0x4c3),_0x310a24(0x222)][_0x310a24(0x4ac)](_0x4b1d5d=>{const _0x1e0851=_0x310a24;document[_0x1e0851(0x6a9)](_0x4b1d5d+'-tab')['classList'][_0x1e0851(0x3b0)](_0x1e0851(0x46b)),document[_0x1e0851(0x6a9)](_0x4b1d5d+'-tab-content')[_0x1e0851(0x62e)][_0x1e0851(0x6e5)](_0x1e0851(0x3ef));}),document[_0x310a24(0x6a9)](_0x2c01f3+'-tab')[_0x310a24(0x62e)][_0x310a24(0x6e5)](_0x310a24(0x46b)),document[_0x310a24(0x6a9)](_0x2c01f3+_0x310a24(0x1de))[_0x310a24(0x62e)][_0x310a24(0x3b0)](_0x310a24(0x3ef));}function switchQuizDetailTab(_0x241cfa){const _0x59035f=_0x2eabae,_0x49be1b={'analytics':{'btn':_0x59035f(0x6a7),'content':_0x59035f(0x2fe)},'scores':{'btn':'scores-tab-btn','content':_0x59035f(0x33d)},'leaderboard-quiz':{'btn':_0x59035f(0x664),'content':_0x59035f(0x4fb)},'behavior-log':{'btn':'behavior-log-tab-btn','content':_0x59035f(0x4ec)}};for(const _0x3e473a in _0x49be1b){document[_0x59035f(0x6a9)](_0x49be1b[_0x3e473a][_0x59035f(0x309)])['classList'][_0x59035f(0x3b0)]('active'),document['getElementById'](_0x49be1b[_0x3e473a][_0x59035f(0x45e)])[_0x59035f(0x62e)][_0x59035f(0x6e5)]('hidden');}document[_0x59035f(0x6a9)](_0x49be1b[_0x241cfa]['btn'])['classList'][_0x59035f(0x6e5)]('active'),document[_0x59035f(0x6a9)](_0x49be1b[_0x241cfa]['content'])[_0x59035f(0x62e)]['remove'](_0x59035f(0x3ef));}function showMessage(_0x257e09,_0x1b41f6=null){const _0x1752c1=_0x2eabae;modalMessage[_0x1752c1(0x60c)]=_0x257e09,modalConfirmAction=_0x1b41f6,messageModal[_0x1752c1(0x62e)][_0x1752c1(0x3b0)](_0x1752c1(0x3ef));}function showConfirmation(_0x440f4a,_0x3caf01){const _0x4fc76e=_0x2eabae;document[_0x4fc76e(0x6a9)](_0x4fc76e(0x8fc))[_0x4fc76e(0x60c)]=_0x440f4a,document[_0x4fc76e(0x6a9)]('confirmation-modal')[_0x4fc76e(0x451)]('h3')[_0x4fc76e(0x60c)]=_0x4fc76e(0x544),confirmAction=_0x3caf01,confirmationModal[_0x4fc76e(0x62e)][_0x4fc76e(0x3b0)](_0x4fc76e(0x3ef));}function listenForProjects(){const _0x543f58=_0x2eabae,_0x4f12bb=doc(db,_0x543f58(0x219),'dashboardConfig');onSnapshot(_0x4f12bb,_0x66bd69=>{const _0x3eb3a8=_0x543f58;if(_0x66bd69[_0x3eb3a8(0x8df)]()){const _0x4f1e01=_0x66bd69[_0x3eb3a8(0x495)]();globalDashboardSettings[_0x3eb3a8(0x643)]=_0x4f1e01[_0x3eb3a8(0x643)]||'date_desc',globalDashboardSettings[_0x3eb3a8(0x1f5)]=_0x4f1e01[_0x3eb3a8(0x1f5)]||[],globalDashboardSettings[_0x3eb3a8(0x1bd)]=_0x4f1e01['projectOrder']||[];}allProjects[_0x3eb3a8(0x1f2)]>0x0&&renderProjects();});const _0x201f73=collection(db,_0x543f58(0x84e)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x201f73,_0x41ee85=>{const _0x633e72=_0x543f58;allProjects=_0x41ee85[_0x633e72(0x825)][_0x633e72(0x58b)](_0x3ae6c7=>({'id':_0x3ae6c7['id'],..._0x3ae6c7[_0x633e72(0x495)]()})),renderProjects();},_0xb95847=>{const _0xba94cf=_0x543f58;console['error'](_0xba94cf(0x341),_0xb95847),showMessage(_0xba94cf(0x406));});}function showColorPalette(_0x5afdb3,_0x527d6e){const _0x4c42f6=_0x2eabae;document['querySelectorAll'](_0x4c42f6(0x90f))[_0x4c42f6(0x4ac)](_0xd284ba=>_0xd284ba[_0x4c42f6(0x3b0)]());const _0x378bb3=[_0x4c42f6(0x234),'#FEE2E2',_0x4c42f6(0x5d4),_0x4c42f6(0x430),_0x4c42f6(0x704),_0x4c42f6(0x488),_0x4c42f6(0x5e4),'#FCE7F3','#E5E7EB'],_0xa2bc14=document[_0x4c42f6(0x349)](_0x4c42f6(0x4f0));_0xa2bc14['className']=_0x4c42f6(0x420),_0x378bb3[_0x4c42f6(0x4ac)](_0x1f92e2=>{const _0x31d5de=_0x4c42f6,_0x912211=document[_0x31d5de(0x349)]('div');_0x912211[_0x31d5de(0x32f)]=_0x31d5de(0x69d),_0x912211[_0x31d5de(0x896)]['backgroundColor']=_0x1f92e2,_0x912211[_0x31d5de(0x639)](_0x31d5de(0x7f4),()=>{const _0xed07e1=_0x31d5de;handleProjectColorChange(_0x527d6e,_0x1f92e2),_0xa2bc14[_0xed07e1(0x3b0)]();}),_0xa2bc14[_0x31d5de(0x8ce)](_0x912211);}),document[_0x4c42f6(0x1fe)][_0x4c42f6(0x8ce)](_0xa2bc14);const _0x3c2c68=_0x5afdb3[_0x4c42f6(0x35a)]();_0xa2bc14[_0x4c42f6(0x896)][_0x4c42f6(0x562)]=_0x3c2c68[_0x4c42f6(0x228)]+window['scrollY']+'px',_0xa2bc14[_0x4c42f6(0x896)][_0x4c42f6(0x46f)]=_0x3c2c68[_0x4c42f6(0x46f)]+window[_0x4c42f6(0x83e)]-_0xa2bc14[_0x4c42f6(0x461)]/0x2+'px';}async function handleProjectColorChange(_0x27cf83,_0x957ea){const _0x399a5d=_0x2eabae,_0x344b4c=doc(db,_0x399a5d(0x84e)+appId+_0x399a5d(0x628),_0x27cf83);try{await updateDoc(_0x344b4c,{'color':_0x957ea});}catch(_0x4b4957){console[_0x399a5d(0x497)](_0x399a5d(0x4e2),_0x4b4957),showMessage(_0x399a5d(0x776));}}async function renderProjects(){const _0x46670e=_0x2eabae,_0x758a1c=globalDashboardSettings[_0x46670e(0x643)]||_0x46670e(0x689),_0x197833=new Set(globalDashboardSettings[_0x46670e(0x1f5)]||[]),_0x101ca8=globalDashboardSettings[_0x46670e(0x80d)]||_0x46670e(0x19b),_0x57f99a=document[_0x46670e(0x6a9)](_0x46670e(0x634)),_0x2046c8=document['getElementById'](_0x46670e(0x6e6));_0x57f99a[_0x46670e(0x62e)][_0x46670e(0x899)](_0x46670e(0x46b),_0x101ca8===_0x46670e(0x19b)),_0x2046c8['classList'][_0x46670e(0x899)]('active',_0x101ca8===_0x46670e(0x46a)),document['getElementById'](_0x46670e(0x32b))[_0x46670e(0x223)]=_0x758a1c;const _0x18278d=document[_0x46670e(0x6a9)](_0x46670e(0x45f))['value']['toLowerCase']();let _0xfe1fcc=allProjects[_0x46670e(0x613)](_0x1ba4f7=>_0x1ba4f7[_0x46670e(0x2b8)]['toLowerCase']()[_0x46670e(0x376)](_0x18278d));const _0x1189de=_0xfe1fcc['filter'](_0x241d36=>_0x197833['has'](_0x241d36['id'])),_0x4047b8=_0xfe1fcc['filter'](_0x190368=>!_0x197833[_0x46670e(0x6dc)](_0x190368['id'])),_0x286ec2=(_0x4d8bb3,_0x31bfd2)=>{const _0x4a69e5=_0x46670e;switch(_0x758a1c){case _0x4a69e5(0x795):return _0x4d8bb3['projectName'][_0x4a69e5(0x7c7)](_0x31bfd2[_0x4a69e5(0x2b8)],'th');case'name_desc':return _0x31bfd2[_0x4a69e5(0x2b8)][_0x4a69e5(0x7c7)](_0x4d8bb3[_0x4a69e5(0x2b8)],'th');case _0x4a69e5(0x457):return new Date(_0x4d8bb3[_0x4a69e5(0x2f4)])-new Date(_0x31bfd2[_0x4a69e5(0x2f4)]);default:return new Date(_0x31bfd2[_0x4a69e5(0x2f4)])-new Date(_0x4d8bb3[_0x4a69e5(0x2f4)]);}};_0x1189de['sort'](_0x286ec2),_0x4047b8[_0x46670e(0x908)](_0x286ec2);const _0x44149d=[..._0x1189de,..._0x4047b8],_0x14679f=globalDashboardSettings[_0x46670e(0x1bd)]||[];_0x14679f[_0x46670e(0x1f2)]>0x0&&_0x101ca8===_0x46670e(0x19b)&&_0x44149d[_0x46670e(0x908)]((_0x43515d,_0x36b358)=>{const _0x2e88d5=_0x46670e,_0x430fbd=_0x14679f[_0x2e88d5(0x6ed)](_0x43515d['id']),_0x34fd8e=_0x14679f[_0x2e88d5(0x6ed)](_0x36b358['id']);if(_0x430fbd===-0x1)return 0x1;if(_0x34fd8e===-0x1)return-0x1;return _0x430fbd-_0x34fd8e;});const _0x151bb0={};await Promise[_0x46670e(0x632)](_0x44149d[_0x46670e(0x58b)](async _0x593b88=>{const _0x42997a=_0x46670e,_0x53cf98=query(collection(db,_0x42997a(0x84e)+appId+_0x42997a(0x429)),where(_0x42997a(0x588),'==',_0x593b88['id'])),_0x4677fc=await getDocs(_0x53cf98);_0x151bb0[_0x593b88['id']]=_0x4677fc[_0x42997a(0x190)];}));const _0x3fcc60=document['getElementById'](_0x46670e(0x326));let _0x2d8b91='';if(_0x101ca8===_0x46670e(0x19b)){_0x3fcc60[_0x46670e(0x32f)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes['length']>0x0&&_0x18278d===''){const _0x2ba219=starredQuizzes[_0x46670e(0x58b)](_0x365791=>{const _0x458654=_0x46670e,_0x17d94b=allProjects['find'](_0x59f508=>_0x59f508['id']===_0x365791[_0x458654(0x588)]);return{..._0x365791,'projectName':_0x17d94b?_0x17d94b[_0x458654(0x2b8)]:_0x458654(0x517)};});_0x2d8b91+=_0x46670e(0x57f)+_0x2ba219['map'](_0xd3cf8f=>_0x46670e(0x2bd)+_0xd3cf8f[_0x46670e(0x4d1)]+'\x22>'+_0xd3cf8f['topic']+_0x46670e(0x8db)+_0xd3cf8f[_0x46670e(0x2b8)]+_0x46670e(0x731)+_0xd3cf8f['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x46670e(0x19f)+starredQuizzes[_0x46670e(0x1f2)]+_0x46670e(0x8e5);}_0x44149d['forEach'](_0x18c1fc=>{const _0x54a5be=_0x46670e,_0x23b022=_0x151bb0[_0x18c1fc['id']]??0x0,_0x47760b=_0x197833[_0x54a5be(0x6dc)](_0x18c1fc['id']),_0x400214=_0x18c1fc[_0x54a5be(0x291)]||_0x54a5be(0x234),_0x3f240b=parseInt(_0x400214['substring'](0x1,0x3),0x10)*0.299+parseInt(_0x400214[_0x54a5be(0x5f5)](0x3,0x5),0x10)*0.587+parseInt(_0x400214[_0x54a5be(0x5f5)](0x5,0x7),0x10)*0.114<0xba,_0x4fe6fc=_0x3f240b?'text-white':_0x54a5be(0x180),_0xe61bc6=_0x3f240b?_0x54a5be(0x839):_0x54a5be(0x775);_0x2d8b91+=_0x54a5be(0x3fd)+(_0x47760b?_0x54a5be(0x560):_0x54a5be(0x78d))+_0x54a5be(0x801)+_0x400214+_0x54a5be(0x897)+_0x18c1fc['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x18c1fc['id']+_0x54a5be(0x5cc)+(_0x3f240b?'text-gray-300\x20hover:text-white':_0x54a5be(0x5cf))+_0x54a5be(0x3c5)+_0x18c1fc['id']+_0x54a5be(0x27b)+(_0x3f240b?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+_0x54a5be(0x783)+(_0x47760b?_0x3f240b?_0x54a5be(0x3ff):'text-indigo-600':'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x18c1fc['id']+_0x54a5be(0x8d1)+_0x4fe6fc+_0x54a5be(0x47d)+_0x18c1fc[_0x54a5be(0x2b8)]+_0x54a5be(0x3a3)+_0xe61bc6+_0x54a5be(0x199)+new Date(_0x18c1fc[_0x54a5be(0x2f4)])['toLocaleDateString'](_0x54a5be(0x8cf))+_0x54a5be(0x217)+(_0x3f240b?_0x54a5be(0x6ce):'text-gray-700')+_0x54a5be(0x8b3)+_0x23b022+_0x54a5be(0x2a9)+_0x18c1fc['id']+_0x54a5be(0x6be)+_0x18c1fc['projectName']+_0x54a5be(0x8c4)+(_0x3f240b?_0x54a5be(0x1fd):_0x54a5be(0x8ec))+_0x54a5be(0x431);});}else _0x3fcc60[_0x46670e(0x32f)]=_0x46670e(0x2ce),starredQuizzes[_0x46670e(0x1f2)]>0x0&&_0x18278d===''&&(_0x2d8b91+=_0x46670e(0x8c7)+starredQuizzes[_0x46670e(0x1f2)]+_0x46670e(0x764)),_0x2d8b91+=_0x46670e(0x648),_0x44149d['forEach'](_0x2311fb=>{const _0x51151f=_0x46670e,_0x2a34b9=_0x151bb0[_0x2311fb['id']]??0x0,_0x30c097=_0x197833[_0x51151f(0x6dc)](_0x2311fb['id']);_0x2d8b91+=_0x51151f(0x23b)+(_0x2311fb[_0x51151f(0x291)]||_0x51151f(0x2c0))+_0x51151f(0x810)+_0x2311fb['id']+_0x51151f(0x5b3)+_0x2311fb[_0x51151f(0x2b8)]+_0x51151f(0x281)+_0x2a34b9+_0x51151f(0x4b7)+new Date(_0x2311fb[_0x51151f(0x2f4)])[_0x51151f(0x80c)](_0x51151f(0x8cf))+_0x51151f(0x7b5)+_0x2311fb['id']+_0x51151f(0x303)+(_0x30c097?_0x51151f(0x22b):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2311fb['id']+_0x51151f(0x6be)+_0x2311fb[_0x51151f(0x2b8)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList[_0x46670e(0x7c0)]=_0x2d8b91,noProjectsMsg[_0x46670e(0x62e)]['toggle'](_0x46670e(0x3ef),_0x2d8b91['length']>0x0);}document[_0x2eabae(0x6a9)](_0x2eabae(0x72f))[_0x2eabae(0x639)](_0x2eabae(0x7f4),async()=>{const _0x3235bf=_0x2eabae,_0x3d1662=document[_0x3235bf(0x6a9)](_0x3235bf(0x516)),_0x1ff43c=_0x3d1662['value']['trim']();if(!_0x1ff43c){showMessage(_0x3235bf(0x339));return;}try{const _0x44c934=doc(collection(db,_0x3235bf(0x84e)+appId+_0x3235bf(0x628)));await setDoc(_0x44c934,{'projectName':_0x1ff43c,'students':[],'settings':{'resultsDisplay':_0x3235bf(0x8c0),'shuffleSetting':_0x3235bf(0x601),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x3235bf(0x601),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x3235bf(0x3a9)]()}),_0x3d1662['value']='',createProjectModal[_0x3235bf(0x62e)]['add']('hidden'),showMessage(_0x3235bf(0x2a1));}catch(_0x4e7d0e){console['error'](_0x3235bf(0x799),_0x4e7d0e),showMessage(_0x3235bf(0x6c5));}}),projectList[_0x2eabae(0x639)]('click',async _0x42ad1a=>{const _0x3796b5=_0x2eabae,_0x788be9=_0x42ad1a[_0x3796b5(0x3a7)]['closest']('.project-card-content'),_0x5e4fef=_0x42ad1a['target'][_0x3796b5(0x3fa)](_0x3796b5(0x7de)),_0x37a075=_0x42ad1a[_0x3796b5(0x3a7)]['closest'](_0x3796b5(0x34f)),_0x4b3f1f=_0x42ad1a[_0x3796b5(0x3a7)][_0x3796b5(0x3fa)](_0x3796b5(0x5e3));if(_0x37a075){const _0x49a142=_0x37a075[_0x3796b5(0x7c5)]['id'],_0xa3ce1a=doc(db,'globalSettings','dashboardConfig'),_0x4bbc0c=globalDashboardSettings[_0x3796b5(0x1f5)];let _0x3ba100;_0x4bbc0c[_0x3796b5(0x376)](_0x49a142)?_0x3ba100=_0x4bbc0c[_0x3796b5(0x613)](_0x1e4cb4=>_0x1e4cb4!==_0x49a142):_0x3ba100=[..._0x4bbc0c,_0x49a142];try{await setDoc(_0xa3ce1a,{'pinnedProjects':_0x3ba100},{'merge':!![]});}catch(_0x47cb14){console[_0x3796b5(0x497)](_0x3796b5(0x26e),_0x47cb14),showMessage(_0x3796b5(0x75a));}}else{if(_0x4b3f1f){const _0x105c37=_0x4b3f1f[_0x3796b5(0x7c5)]['id'];showColorPalette(_0x4b3f1f,_0x105c37);}else{if(_0x788be9){const _0x3b9484=_0x788be9['dataset']['id'];_0x3b9484===_0x3796b5(0x4e7)?showStarredProjectView():(currentProjectId=_0x3b9484,await loadProjectDetails(currentProjectId),showView(_0x3796b5(0x840)));}else{if(_0x5e4fef){const _0x3b28f2=_0x5e4fef[_0x3796b5(0x7c5)]['id'],_0x339908=_0x5e4fef[_0x3796b5(0x7c5)][_0x3796b5(0x531)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x339908+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x3b28f2));}}}}}),projectList[_0x2eabae(0x639)](_0x2eabae(0x85d),_0x495f11=>{const _0x1aa876=_0x2eabae,_0x18b0e5=_0x495f11[_0x1aa876(0x3a7)][_0x1aa876(0x3fa)]('.project-card-container');_0x18b0e5&&_0x18b0e5[_0x1aa876(0x62e)][_0x1aa876(0x6e5)]('opacity-50');}),projectList[_0x2eabae(0x639)]('dragend',_0x5851e0=>{const _0x29054e=_0x2eabae,_0x533fc2=_0x5851e0[_0x29054e(0x3a7)][_0x29054e(0x3fa)](_0x29054e(0x195));_0x533fc2&&_0x533fc2[_0x29054e(0x62e)][_0x29054e(0x3b0)](_0x29054e(0x7c1));}),projectList[_0x2eabae(0x639)](_0x2eabae(0x570),_0x306ab1=>{const _0x1b48be=_0x2eabae;_0x306ab1[_0x1b48be(0x8f5)]();const _0x3660b5=document[_0x1b48be(0x451)]('.project-card-container.opacity-50');if(!_0x3660b5)return;const _0x174a08=getDragAfterElement(projectList,_0x306ab1[_0x1b48be(0x74e)]);_0x174a08==null?projectList[_0x1b48be(0x8ce)](_0x3660b5):projectList[_0x1b48be(0x867)](_0x3660b5,_0x174a08);}),projectList[_0x2eabae(0x639)]('drop',_0x19f6b4=>{const _0x48d03b=_0x2eabae;_0x19f6b4[_0x48d03b(0x8f5)]();const _0x6a1dee=[...projectList[_0x48d03b(0x5fe)](_0x48d03b(0x374))][_0x48d03b(0x58b)](_0x5f27e8=>_0x5f27e8[_0x48d03b(0x7c5)]['id']);saveProjectOrder(_0x6a1dee);});function renderBehaviorLog(_0x30cc66){const _0x4bc4bd=_0x2eabae,_0x17f53a=document[_0x4bc4bd(0x6a9)](_0x4bc4bd(0x2f0));if(!_0x17f53a)return;const _0x364f33=_0x30cc66[_0x4bc4bd(0x613)](_0x1defb1=>_0x1defb1[_0x4bc4bd(0x4ee)]&&_0x1defb1[_0x4bc4bd(0x4ee)][_0x4bc4bd(0x1f2)]>0x0);if(_0x364f33['length']===0x0){_0x17f53a[_0x4bc4bd(0x7c0)]=_0x4bc4bd(0x7da);return;}let _0xd5acae='';_0x364f33[_0x4bc4bd(0x4ac)](_0x15b9d1=>{const _0x1af7a2=_0x4bc4bd;_0xd5acae+=_0x1af7a2(0x19a)+_0x15b9d1[_0x1af7a2(0x39a)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x15b9d1[_0x1af7a2(0x4ee)][_0x1af7a2(0x908)]((_0x39c102,_0x453f78)=>new Date(_0x453f78[_0x1af7a2(0x325)])-new Date(_0x39c102['timestamp']))[_0x1af7a2(0x4ac)](_0x3feba8=>{const _0x2e9c1c=_0x1af7a2,_0xfca98b=new Date(_0x3feba8['timestamp'])[_0x2e9c1c(0x80c)](_0x2e9c1c(0x8cf),{'dateStyle':'short','timeStyle':_0x2e9c1c(0x34a)});_0xd5acae+=_0x2e9c1c(0x4a8)+_0x3feba8[_0x2e9c1c(0x7ad)]+_0x2e9c1c(0x366)+_0xfca98b+_0x2e9c1c(0x393);}),_0xd5acae+=_0x1af7a2(0x70f);}),_0x17f53a[_0x4bc4bd(0x7c0)]=_0xd5acae;}function getDragAfterElement(_0x38418b,_0x412dd8){const _0x5f07b8=_0x2eabae,_0x4367fc=[..._0x38418b['querySelectorAll']('.project-card-container:not(.opacity-50)')];return _0x4367fc['reduce']((_0x31bdeb,_0x2f1522)=>{const _0x5c306e=_0x4eb1,_0x167002=_0x2f1522[_0x5c306e(0x35a)](),_0x1f6d7b=_0x412dd8-_0x167002['top']-_0x167002[_0x5c306e(0x26a)]/0x2;return _0x1f6d7b<0x0&&_0x1f6d7b>_0x31bdeb[_0x5c306e(0x35d)]?{'offset':_0x1f6d7b,'element':_0x2f1522}:_0x31bdeb;},{'offset':Number[_0x5f07b8(0x510)]})['element'];}async function saveProjectOrder(_0x489e92){const _0x7fd32f=_0x2eabae,_0x1ce599=doc(db,_0x7fd32f(0x219),'dashboardConfig');try{await setDoc(_0x1ce599,{'projectOrder':_0x489e92},{'merge':!![]});}catch(_0x14ebd4){console[_0x7fd32f(0x497)](_0x7fd32f(0x785),_0x14ebd4),showMessage(_0x7fd32f(0x6d6));}}async function logBehaviorEvent(_0x255818,_0x3eb8ac={}){const _0x3d7119=_0x2eabae;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x3d7119(0x760)](_0x3d7119(0x196));return;}const _0x1676cf=doc(db,'artifacts/'+appId+_0x3d7119(0x6b8)+currentQuizData['id']+_0x3d7119(0x691),currentStudentName),_0x284f54={'event':_0x255818,'timestamp':new Date()['toISOString'](),..._0x3eb8ac};try{await setDoc(_0x1676cf,{'behaviorLog':arrayUnion(_0x284f54)},{'merge':!![]}),console['log'](_0x3d7119(0x4ea)+currentStudentName+_0x3d7119(0x2ef)+_0x255818);}catch(_0x5ddf17){console[_0x3d7119(0x497)](_0x3d7119(0x718),_0x5ddf17);}}function calculateMeanAndStdDev(_0x4a4b68){const _0x1c5d86=_0x2eabae;if(_0x4a4b68[_0x1c5d86(0x1f2)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x43e8bd=_0x4a4b68[_0x1c5d86(0x54c)]((_0x4727f7,_0x44afd5)=>_0x4727f7+_0x44afd5,0x0)/_0x4a4b68[_0x1c5d86(0x1f2)];if(_0x4a4b68[_0x1c5d86(0x1f2)]===0x1)return{'mean':_0x43e8bd,'stdDev':0x0};const _0x49c148=Math['sqrt'](_0x4a4b68[_0x1c5d86(0x58b)](_0xa31c26=>Math[_0x1c5d86(0x226)](_0xa31c26-_0x43e8bd,0x2))[_0x1c5d86(0x54c)]((_0x29808b,_0x36274d)=>_0x29808b+_0x36274d,0x0)/(_0x4a4b68[_0x1c5d86(0x1f2)]-0x1));return{'mean':_0x43e8bd,'stdDev':_0x49c148};}function calculateZScore(_0x1823f9,_0x51124d,_0x2687ff){if(_0x2687ff===0x0)return 0x0;return(_0x1823f9-_0x51124d)/_0x2687ff;}function calculateTScore(_0x22bea5){return 0xa*_0x22bea5+0x32;}function showStarredProjectView(){const _0x5a3b5d=_0x2eabae;currentProjectId=_0x5a3b5d(0x647),currentProjectData=null,projectTitle[_0x5a3b5d(0x60c)]=_0x5a3b5d(0x5b4),projectIdDisplay['textContent']=_0x5a3b5d(0x73f),showView(_0x5a3b5d(0x840)),manageTab['classList'][_0x5a3b5d(0x6e5)](_0x5a3b5d(0x3ef)),leaderboardTab['classList']['add'](_0x5a3b5d(0x3ef)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x5db444){const _0x34cb94=_0x2eabae,_0x3be2ce=doc(db,_0x34cb94(0x84e)+appId+_0x34cb94(0x628),_0x5db444),_0x55f5bd=await getDoc(_0x3be2ce);if(_0x55f5bd[_0x34cb94(0x8df)]()){manageTab['classList'][_0x34cb94(0x3b0)]('hidden'),leaderboardTab[_0x34cb94(0x62e)]['remove']('hidden'),currentProjectData=_0x55f5bd[_0x34cb94(0x495)](),projectTitle[_0x34cb94(0x60c)]=currentProjectData['projectName'],projectIdDisplay['textContent']=_0x5db444;const _0x5cdd59=currentProjectData[_0x34cb94(0x69e)]||{};document['getElementById']('shuffle-setting-select')[_0x34cb94(0x223)]=_0x5cdd59[_0x34cb94(0x2b9)]||_0x34cb94(0x601);const _0x1829fa=document[_0x34cb94(0x6a9)](_0x34cb94(0x39e));_0x1829fa[_0x34cb94(0x2e9)]=_0x5cdd59[_0x34cb94(0x1b9)]!==![];const _0x1efe68=document[_0x34cb94(0x6a9)]('enable-passcode-checkbox'),_0xa6c3c=document['getElementById'](_0x34cb94(0x3f8)),_0x58ad96=document['getElementById']('project-passcode-input'),_0x21707f=_0x5cdd59[_0x34cb94(0x74f)]||![];_0x1efe68[_0x34cb94(0x2e9)]=_0x21707f,_0x58ad96[_0x34cb94(0x223)]=_0x5cdd59[_0x34cb94(0x1ce)]||'',_0xa6c3c['classList']['toggle'](_0x34cb94(0x3ef),!_0x21707f),_0x1efe68[_0x34cb94(0x3ec)]=()=>{const _0x1bbfc4=_0x34cb94;_0xa6c3c[_0x1bbfc4(0x62e)][_0x1bbfc4(0x899)](_0x1bbfc4(0x3ef),!_0x1efe68[_0x1bbfc4(0x2e9)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x5db444),listenForProjectQuizzes(_0x5db444),listenForStudentProfiles(_0x5db444);}else showMessage(_0x34cb94(0x5c1)),showView(_0x34cb94(0x739));}async function handleResetProjectOrder(){const _0x2c1dc0=_0x2eabae,_0x3aeab3=doc(db,'globalSettings',_0x2c1dc0(0x819));try{await setDoc(_0x3aeab3,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x2c1dc0(0x4cd));}catch(_0x3415d8){console['error']('Error\x20resetting\x20project\x20order:',_0x3415d8),showMessage(_0x2c1dc0(0x493));}}async function handleTogglePinProject(_0x4bda84){const _0x150742=_0x2eabae;if(!_0x4bda84)return;const _0x4b79a5=doc(db,_0x150742(0x84e)+appId+_0x150742(0x628),_0x4bda84);try{const _0x25c63b=await getDoc(_0x4b79a5);if(_0x25c63b['exists']()){const _0x562039=_0x25c63b[_0x150742(0x495)]()[_0x150742(0x1b1)]||![];await updateDoc(_0x4b79a5,{'isPinned':!_0x562039});}}catch(_0x4dfe8e){console[_0x150742(0x497)](_0x150742(0x2c8),_0x4dfe8e),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x39e173){const _0x2cc87b=_0x2eabae;try{const _0x3b974c=writeBatch(db),_0x48c907=collection(db,_0x2cc87b(0x84e)+appId+'/public/data/quizzes'),_0x315138=query(_0x48c907,where(_0x2cc87b(0x588),'==',_0x39e173)),_0x529bfc=await getDocs(_0x315138);for(const _0x3c5a94 of _0x529bfc[_0x2cc87b(0x825)]){const _0xc4c125=collection(db,_0x2cc87b(0x84e)+appId+_0x2cc87b(0x6b8)+_0x3c5a94['id']+'/submissions'),_0x28b892=await getDocs(_0xc4c125);_0x28b892[_0x2cc87b(0x4ac)](_0x320486=>{const _0x361205=_0x2cc87b;_0x3b974c[_0x361205(0x7ca)](_0x320486['ref']);}),_0x3b974c[_0x2cc87b(0x7ca)](_0x3c5a94['ref']);}const _0x2d4ef=collection(db,'artifacts/'+appId+'/public/data/projects/'+_0x39e173+_0x2cc87b(0x8bd)),_0x95e2ba=await getDocs(_0x2d4ef);_0x95e2ba[_0x2cc87b(0x4ac)](_0x51505c=>{const _0x2483a9=_0x2cc87b;_0x3b974c[_0x2483a9(0x7ca)](_0x51505c[_0x2483a9(0x778)]);});const _0x4e2357=doc(db,'artifacts/'+appId+_0x2cc87b(0x628),_0x39e173);_0x3b974c[_0x2cc87b(0x7ca)](_0x4e2357),await _0x3b974c[_0x2cc87b(0x556)](),showMessage(_0x2cc87b(0x61d)),showView(_0x2cc87b(0x739));}catch(_0x2a06e8){console[_0x2cc87b(0x497)]('Error\x20deleting\x20project:',_0x2a06e8),showMessage(_0x2cc87b(0x4bf));}}document[_0x2eabae(0x6a9)](_0x2eabae(0x224))[_0x2eabae(0x639)]('click',async()=>{const _0x313f61=_0x2eabae;if(!currentProjectId)return;const _0x529887={'defaultNumQuestions':parseInt(document[_0x313f61(0x6a9)](_0x313f61(0x311))[_0x313f61(0x223)]),'defaultNumChoices':parseInt(document[_0x313f61(0x6a9)](_0x313f61(0x73a))[_0x313f61(0x223)]),'defaultPassingScore':parseInt(document[_0x313f61(0x6a9)](_0x313f61(0x348))[_0x313f61(0x223)]),'resultsDisplay':document[_0x313f61(0x6a9)](_0x313f61(0x63c))['value'],'shuffleSetting':document[_0x313f61(0x6a9)]('shuffle-setting-select')['value'],'timerMode':document[_0x313f61(0x6a9)]('timer-mode-select')[_0x313f61(0x223)],'timerDuration':parseInt(document[_0x313f61(0x6a9)](_0x313f61(0x52e))['value'])};try{const _0x310ff6=doc(db,_0x313f61(0x84e)+appId+_0x313f61(0x628),currentProjectId);await updateDoc(_0x310ff6,{'settings':_0x529887}),showMessage(_0x313f61(0x3aa));}catch(_0x3ec435){console[_0x313f61(0x497)](_0x313f61(0x8cc),_0x3ec435),showMessage(_0x313f61(0x182));}});function listenForStudents(_0x739fa6){const _0xc4b58e=_0x2eabae,_0x2cc362=doc(db,_0xc4b58e(0x84e)+appId+_0xc4b58e(0x628),_0x739fa6);unsubscribeStudentsListener=onSnapshot(_0x2cc362,_0xcb3928=>{const _0x2d73b4=_0xc4b58e;if(_0xcb3928[_0x2d73b4(0x8df)]()){const _0x2be88b=_0xcb3928[_0x2d73b4(0x495)]();currentProjectData=_0x2be88b,renderStudentList(_0x2be88b['students']||[]);}});}function renderStudentList(_0x4405ed){const _0x529b48=_0x2eabae,_0x2ed2f1=document[_0x529b48(0x6a9)](_0x529b48(0x365));_0x4405ed[_0x529b48(0x1f2)]===0x0?(studentList[_0x529b48(0x7c0)]=_0x529b48(0x82f),_0x2ed2f1[_0x529b48(0x62e)][_0x529b48(0x6e5)](_0x529b48(0x3ef))):(studentList['innerHTML']=_0x4405ed['map'](_0x37edd4=>_0x529b48(0x2f2)+_0x37edd4+_0x529b48(0x235)+_0x37edd4+_0x529b48(0x330))[_0x529b48(0x702)](''),_0x2ed2f1[_0x529b48(0x62e)]['remove'](_0x529b48(0x3ef)));}document[_0x2eabae(0x6a9)](_0x2eabae(0x17f))['addEventListener']('click',async()=>{const _0xeae284=_0x2eabae;if(!currentProjectId)return;const _0x5eceff=document[_0xeae284(0x6a9)]('student-name-input'),_0x311701=_0x5eceff[_0xeae284(0x223)][_0xeae284(0x88b)]();if(!_0x311701){showMessage(_0xeae284(0x30c));return;}const _0xb0d1c6=_0x311701[_0xeae284(0x79c)]('\x0a')['map'](_0x29ba6c=>_0x29ba6c['trim']())[_0xeae284(0x613)](_0x5c2ee5=>_0x5c2ee5);if(_0xb0d1c6['length']===0x0)return;try{const _0x5a7c4c=doc(db,_0xeae284(0x84e)+appId+'/public/data/projects',currentProjectId),_0x288fba=await getDoc(_0x5a7c4c);if(_0x288fba[_0xeae284(0x8df)]()){const _0x26237e=_0x288fba[_0xeae284(0x495)]()[_0xeae284(0x164)]||[],_0x44f287=[...new Set([..._0x26237e,..._0xb0d1c6])];await updateDoc(_0x5a7c4c,{'students':_0x44f287}),_0x5eceff['value']='';}}catch(_0x19057c){console[_0xeae284(0x497)]('Error\x20adding\x20students:',_0x19057c),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x3a1272){const _0x2fc85c=_0x2eabae,_0x301e4c=document[_0x2fc85c(0x6a9)](_0x2fc85c(0x6ee)),_0x24530f=document[_0x2fc85c(0x6a9)](_0x2fc85c(0x751)),_0x2b714a=_0x301e4c['querySelector']('h3'),_0x2b1b2c=document['getElementById'](_0x2fc85c(0x4f8)),_0x1664a7=document[_0x2fc85c(0x6a9)]('cancel-move-quiz-btn');_0x2b714a[_0x2fc85c(0x60c)]=_0x2fc85c(0x812),_0x24530f[_0x2fc85c(0x7c0)]=_0x2fc85c(0x225),_0x2b1b2c['textContent']=_0x2fc85c(0x884),_0x301e4c[_0x2fc85c(0x62e)][_0x2fc85c(0x3b0)](_0x2fc85c(0x3ef));const _0x28706b=allQuizzes[_0x2fc85c(0x613)](_0x33b5b7=>_0x33b5b7['id']!==_0x3a1272);_0x28706b[_0x2fc85c(0x1f2)]===0x0?(_0x24530f['innerHTML']=_0x2fc85c(0x1b4),_0x2b1b2c[_0x2fc85c(0x423)]=!![]):(_0x24530f[_0x2fc85c(0x7c0)]=_0x2fc85c(0x345)+_0x28706b[_0x2fc85c(0x58b)](_0xeca3b9=>_0x2fc85c(0x2dd)+_0xeca3b9['id']+'\x22>'+_0xeca3b9['topic']+_0x2fc85c(0x7b4))[_0x2fc85c(0x702)](''),_0x2b1b2c[_0x2fc85c(0x423)]=![]);const _0x199457=async()=>{const _0x54eabd=_0x2fc85c,_0xe34063=_0x24530f['value'];if(!_0xe34063){showMessage(_0x54eabd(0x52d));return;}_0x2b1b2c[_0x54eabd(0x423)]=!![],_0x2b1b2c[_0x54eabd(0x60c)]=_0x54eabd(0x32e);try{const _0x20ff69=doc(db,_0x54eabd(0x84e)+appId+_0x54eabd(0x429),_0x3a1272),_0x342b50=doc(db,_0x54eabd(0x84e)+appId+_0x54eabd(0x429),_0xe34063),_0x57d001=writeBatch(db);_0x57d001[_0x54eabd(0x179)](_0x20ff69,{'pairedQuizId':_0xe34063}),_0x57d001[_0x54eabd(0x179)](_0x342b50,{'pairedQuizId':_0x3a1272}),await _0x57d001[_0x54eabd(0x556)](),showMessage(_0x54eabd(0x284)),_0x301e4c[_0x54eabd(0x62e)][_0x54eabd(0x6e5)](_0x54eabd(0x3ef));}catch(_0x4737c7){console['error'](_0x54eabd(0x51a),_0x4737c7),showMessage(_0x54eabd(0x8b4));}finally{_0x2b714a[_0x54eabd(0x60c)]=_0x54eabd(0x45a),_0x2b1b2c[_0x54eabd(0x60c)]=_0x54eabd(0x3bd),_0x2b1b2c[_0x54eabd(0x423)]=![],_0x2b1b2c[_0x54eabd(0x17b)](_0x54eabd(0x7f4),_0x199457),_0x1664a7[_0x54eabd(0x17b)](_0x54eabd(0x7f4),_0x11426f);}},_0x11426f=()=>{const _0x115284=_0x2fc85c;_0x301e4c['classList'][_0x115284(0x6e5)](_0x115284(0x3ef)),_0x2b714a['textContent']=_0x115284(0x45a),_0x2b1b2c[_0x115284(0x60c)]=_0x115284(0x3bd),_0x2b1b2c[_0x115284(0x17b)](_0x115284(0x7f4),_0x199457),_0x1664a7[_0x115284(0x17b)](_0x115284(0x7f4),_0x11426f);};_0x2b1b2c[_0x2fc85c(0x639)](_0x2fc85c(0x7f4),_0x199457),_0x1664a7[_0x2fc85c(0x639)](_0x2fc85c(0x7f4),_0x11426f);}function handleDeleteStudent(_0x133857){const _0x50886a=_0x2eabae;showConfirmation(_0x50886a(0x662)+_0x133857+_0x50886a(0x312),async()=>{const _0x14759f=_0x50886a;if(!currentProjectId||!currentProjectData)return;const _0x2538c7=currentProjectData[_0x14759f(0x164)][_0x14759f(0x613)](_0x54b082=>_0x54b082!==_0x133857);try{const _0x64da08=doc(db,_0x14759f(0x84e)+appId+_0x14759f(0x628),currentProjectId),_0x1546e4=doc(db,_0x14759f(0x84e)+appId+_0x14759f(0x642)+currentProjectId+_0x14759f(0x8bd),_0x133857),_0x36259f=writeBatch(db);_0x36259f[_0x14759f(0x179)](_0x64da08,{'students':_0x2538c7}),_0x36259f[_0x14759f(0x7ca)](_0x1546e4),await _0x36259f[_0x14759f(0x556)]();}catch(_0x8173cf){console['error'](_0x14759f(0x828),_0x8173cf),showMessage(_0x14759f(0x42d));}});}function handleDeleteAllStudents(){const _0x47854b=_0x2eabae;showConfirmation(_0x47854b(0x608),async()=>{const _0x1c0ae8=_0x47854b;if(!currentProjectId)return;try{const _0x423281=doc(db,_0x1c0ae8(0x84e)+appId+_0x1c0ae8(0x628),currentProjectId),_0x219116=collection(db,'artifacts/'+appId+_0x1c0ae8(0x642)+currentProjectId+'/studentProfiles'),_0x181bde=await getDocs(_0x219116),_0xdbe358=writeBatch(db);_0xdbe358['update'](_0x423281,{'students':[]}),_0x181bde[_0x1c0ae8(0x4ac)](_0x40fb1c=>_0xdbe358[_0x1c0ae8(0x7ca)](_0x40fb1c[_0x1c0ae8(0x778)])),await _0xdbe358[_0x1c0ae8(0x556)]();}catch(_0x32630c){console[_0x1c0ae8(0x497)](_0x1c0ae8(0x7ee),_0x32630c),showMessage(_0x1c0ae8(0x3b5));}});}async function handleGenerateFromFileClick(){const _0x2dd241=_0x2eabae;if(!selectedFile){showMessage(_0x2dd241(0x1ef));return;}const _0x2ff079=document['getElementById'](_0x2dd241(0x258)),_0x39ca82=document['getElementById']('loader-text'),_0x313df8=document[_0x2dd241(0x6a9)](_0x2dd241(0x841)),_0x1d11d8=document[_0x2dd241(0x6a9)](_0x2dd241(0x7a2));_0x1d11d8['disabled']=!![],document['getElementById'](_0x2dd241(0x3b1))['classList'][_0x2dd241(0x3b0)](_0x2dd241(0x3ef)),_0x313df8[_0x2dd241(0x7c0)]='',_0x2ff079['classList'][_0x2dd241(0x3b0)]('hidden'),_0x39ca82[_0x2dd241(0x60c)]='กำลังอ่านและเตรียมไฟล์...';const _0x204696=new FileReader();_0x204696['readAsDataURL'](selectedFile),_0x204696['onload']=async()=>{const _0x5c4db0=_0x2dd241;try{const _0x50ce5c=_0x204696[_0x5c4db0(0x5f8)][_0x5c4db0(0x79c)](',')[0x1],_0x5893bb=selectedFile[_0x5c4db0(0x293)];await generateQuizFromFile(_0x5893bb,_0x50ce5c);}catch(_0x3a868a){console[_0x5c4db0(0x497)](_0x5c4db0(0x606),_0x3a868a),showMessage('เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20'+_0x3a868a[_0x5c4db0(0x7d2)]),_0x2ff079[_0x5c4db0(0x62e)][_0x5c4db0(0x6e5)](_0x5c4db0(0x3ef));}finally{}},_0x204696[_0x2dd241(0x875)]=_0xd55298=>{const _0x26ce03=_0x2dd241;console[_0x26ce03(0x497)]('FileReader\x20error:',_0xd55298),showMessage(_0x26ce03(0x4f3)),_0x2ff079['classList'][_0x26ce03(0x6e5)](_0x26ce03(0x3ef)),_0x1d11d8[_0x26ce03(0x423)]=![];};}function autoFormatMath(_0x487f31){const _0x58be7b=_0x2eabae;if(typeof _0x487f31!==_0x58be7b(0x328)||!_0x487f31)return _0x487f31;const _0x45c00f=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x1ee601=_0x487f31['replace'](_0x45c00f,_0x41cf2f=>{const _0xf93e31=_0x58be7b;return'$'+_0x41cf2f[_0xf93e31(0x88b)]()+'$';});return _0x1ee601;}function sanitizeQuizData(_0x5d91fc){const _0x47b75c=_0x2eabae;if(!_0x5d91fc||!_0x5d91fc['questions'])return _0x5d91fc;const _0x28c49c={'imes':_0x47b75c(0x42e),'div':'\x5cdiv'},_0x3303de=_0x55a868=>{const _0x31602e=_0x47b75c;if(typeof _0x55a868!=='string')return _0x55a868;let _0x302881=_0x55a868;for(const [_0x1f9c8c,_0x439b57]of Object[_0x31602e(0x6bf)](_0x28c49c)){const _0x5442a5=new RegExp('\x5cb'+_0x1f9c8c+'\x5cb','g');_0x302881=_0x302881[_0x31602e(0x90e)](_0x5442a5,_0x439b57);}return _0x302881=_0x302881[_0x31602e(0x90e)](/\\\//g,'\x5cdiv'),_0x302881=_0x302881[_0x31602e(0x90e)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x31602e(0x20d))[_0x31602e(0x90e)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x31602e(0x90e)](/÷/g,_0x31602e(0x20d))[_0x31602e(0x90e)](/×/g,'\x5ctimes'),_0x302881=_0x302881['replace'](/(\d)(\\frac)/g,_0x31602e(0x1be)),_0x302881=autoFormatMath(_0x302881),_0x302881;};return _0x5d91fc['topic']&&(_0x5d91fc[_0x47b75c(0x4d1)]=_0x3303de(_0x5d91fc[_0x47b75c(0x4d1)])),_0x5d91fc[_0x47b75c(0x813)][_0x47b75c(0x4ac)](_0x68574=>{const _0x436887=_0x47b75c;_0x68574[_0x436887(0x836)]=_0x3303de(_0x68574[_0x436887(0x836)]),_0x68574['options']&&(_0x68574[_0x436887(0x8de)]=_0x68574[_0x436887(0x8de)][_0x436887(0x58b)](_0x3303de)),_0x68574['explanation']&&(_0x68574[_0x436887(0x61f)]=_0x3303de(_0x68574[_0x436887(0x61f)])),_0x68574['stem']&&(_0x68574[_0x436887(0x416)]=_0x3303de(_0x68574[_0x436887(0x416)])),_0x68574[_0x436887(0x308)]&&(_0x68574[_0x436887(0x308)]=_0x3303de(_0x68574[_0x436887(0x308)])),_0x68574[_0x436887(0x47e)]&&(_0x68574[_0x436887(0x47e)]=_0x68574[_0x436887(0x47e)][_0x436887(0x58b)](_0x3303de));}),_0x5d91fc;}const simpleMathPrompt=_0x2eabae(0x7f8);async function handleGenerateFromLink(){const _0x2bbd04=_0x2eabae,_0x44853a=document[_0x2bbd04(0x6a9)](_0x2bbd04(0x6f8)),_0x4ab7d1=document[_0x2bbd04(0x6a9)](_0x2bbd04(0x166)),_0x57725c=_0x44853a[_0x2bbd04(0x223)][_0x2bbd04(0x88b)](),_0x45d8a4=_0x4ab7d1[_0x2bbd04(0x223)][_0x2bbd04(0x88b)]();if(!_0x57725c){showMessage(_0x2bbd04(0x2ae));return;}const _0xcecc3e=document[_0x2bbd04(0x6a9)](_0x2bbd04(0x258)),_0x19b76c=document[_0x2bbd04(0x6a9)](_0x2bbd04(0x32d)),_0x3f0e5f=document[_0x2bbd04(0x6a9)](_0x2bbd04(0x841)),_0x4135aa=document[_0x2bbd04(0x6a9)]('generate-from-link-btn');document['getElementById']('quiz-generation-area')[_0x2bbd04(0x62e)][_0x2bbd04(0x3b0)](_0x2bbd04(0x3ef)),_0x3f0e5f[_0x2bbd04(0x7c0)]='',_0xcecc3e['classList'][_0x2bbd04(0x3b0)]('hidden'),_0x19b76c[_0x2bbd04(0x60c)]=_0x2bbd04(0x415),_0x4135aa[_0x2bbd04(0x423)]=!![];try{const _0xd509bd='https://corsproxy.io/?'+encodeURIComponent(_0x57725c),_0x2b337d=await fetch(_0xd509bd);if(!_0x2b337d['ok'])throw new Error(_0x2bbd04(0x5a1)+_0x2b337d[_0x2bbd04(0x692)]+')');const _0x3c3c1c=await _0x2b337d[_0x2bbd04(0x675)](),_0x3b7937=extractTextFromHtml(_0x3c3c1c);if(!_0x3b7937||_0x3b7937['length']<0x64)throw new Error(_0x2bbd04(0x6af));await generateQuiz(_0x45d8a4,_0x3b7937);}catch(_0x6f62f3){console[_0x2bbd04(0x497)](_0x2bbd04(0x397),_0x6f62f3),showMessage('เกิดข้อผิดพลาด:\x20'+_0x6f62f3[_0x2bbd04(0x7d2)]),_0x3f0e5f[_0x2bbd04(0x7c0)]=_0x2bbd04(0x6a3);}finally{_0xcecc3e[_0x2bbd04(0x62e)]['add'](_0x2bbd04(0x3ef)),_0x4135aa[_0x2bbd04(0x423)]=![];}}function extractTextFromHtml(_0x12f4fd){const _0xe0667a=_0x2eabae,_0x56f1b9=new DOMParser()[_0xe0667a(0x81b)](_0x12f4fd,_0xe0667a(0x7bb));return _0x56f1b9[_0xe0667a(0x5fe)](_0xe0667a(0x72e))[_0xe0667a(0x4ac)](_0x3419f4=>_0x3419f4[_0xe0667a(0x3b0)]()),_0x56f1b9[_0xe0667a(0x1fe)][_0xe0667a(0x60c)]||'';}document['getElementById'](_0x2eabae(0x8ee))['addEventListener'](_0x2eabae(0x7f4),()=>{const _0x5c66b6=_0x2eabae,_0x22b99b=document[_0x5c66b6(0x6a9)](_0x5c66b6(0x59d))[_0x5c66b6(0x223)][_0x5c66b6(0x88b)]();generateQuiz(_0x22b99b,null);}),document[_0x2eabae(0x6a9)]('generate-from-text-btn')['addEventListener'](_0x2eabae(0x7f4),()=>{const _0x3a74e8=_0x2eabae,_0x3229d3=document['getElementById'](_0x3a74e8(0x82e))[_0x3a74e8(0x223)]['trim']();if(!_0x3229d3){showMessage(_0x3a74e8(0x637));return;}const _0xd611ac=document['getElementById'](_0x3a74e8(0x59d))[_0x3a74e8(0x223)][_0x3a74e8(0x88b)]();generateQuiz(_0xd611ac,_0x3229d3);});async function generateQuiz(_0x4e1993,_0x4099ca,_0x666127=null){const _0x516776=_0x2eabae,_0xb03233=document[_0x516776(0x6a9)]('include-images-checkbox')[_0x516776(0x2e9)],_0x6684ad=document[_0x516776(0x6a9)](_0x516776(0x23a))[_0x516776(0x223)],_0x109821=document[_0x516776(0x6a9)](_0x516776(0x311))[_0x516776(0x223)],_0x3cb001=document['getElementById']('num-choices')[_0x516776(0x223)],_0x373b76=document[_0x516776(0x6a9)](_0x516776(0x252))[_0x516776(0x2e9)],_0xaa472b=_0x373b76?'':_0x516776(0x436),_0x2a2b49=document['getElementById'](_0x516776(0x49f)),_0x43d098=_0x2a2b49[_0x516776(0x223)];let _0x18e3b0='';_0x43d098!==_0x516776(0x391)&&(_0x18e3b0='โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x43d098+'\x22');const _0x40d52e=document[_0x516776(0x6a9)]('question-complexity-select'),_0xa487cb=_0x40d52e[_0x516776(0x223)];let _0x477628='';_0xa487cb!==_0x516776(0x5a2)&&(_0x477628='โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0xa487cb+_0x516776(0x171));const _0x3face7=document['querySelectorAll'](_0x516776(0x7be)),_0x40206d=Array[_0x516776(0x36c)](_0x3face7)[_0x516776(0x58b)](_0x434150=>_0x434150['value']);let _0x5af816='';_0x40206d[_0x516776(0x1f2)]>0x0&&(_0x5af816=_0x516776(0x8cb)+_0x40206d[_0x516776(0x702)](',\x20')+_0x516776(0x7ed));let _0x17b0ce='',_0x32d6e7='',_0x2fec9f,_0x415426=_0x516776(0x4fe)+_0x4e1993+'\x22';if(!_0x4e1993&&_0x4099ca)_0x415426=_0x516776(0x36e);else!_0x4e1993&&!_0x4099ca&&(_0x415426='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x1b17e8={'type':_0x516776(0x733),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x516776(0x635),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x516776(0x3be)},'explanation':{'type':_0x516776(0x5df)},'imageCode':{'type':_0x516776(0x5df)}},'required':[_0x516776(0x836),_0x516776(0x8de),_0x516776(0x58f),_0x516776(0x61f)]},_0x262336={'type':_0x516776(0x733),'properties':{'questionText':{'type':_0x516776(0x5df)},'idealAnswer':{'type':_0x516776(0x5df)},'explanation':{'type':_0x516776(0x5df)},'imageCode':{'type':_0x516776(0x5df)}},'required':[_0x516776(0x836),_0x516776(0x695),_0x516776(0x61f)]},_0x7e12ab={'type':_0x516776(0x733),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x516776(0x5df),'enum':[_0x516776(0x299),_0x516776(0x53e)]},'options':{'type':_0x516776(0x635),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x516776(0x3be)},'idealAnswer':{'type':_0x516776(0x5df)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0x516776(0x2a3),_0x516776(0x61f)]},_0x4cfe39={'type':_0x516776(0x733),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x516776(0x3f4)},'explanation':{'type':_0x516776(0x5df)},'imageCode':{'type':'STRING'}},'required':[_0x516776(0x836),_0x516776(0x213),'explanation']},_0x2a7cd6={'type':_0x516776(0x733),'properties':{'questionType':{'type':_0x516776(0x5df),'enum':[_0x516776(0x29d)]},'stem':{'type':_0x516776(0x5df)},'correctResponse':{'type':_0x516776(0x5df)},'allResponses':{'type':'ARRAY','items':{'type':_0x516776(0x5df)}},'explanation':{'type':_0x516776(0x5df)},'imageCode':{'type':_0x516776(0x5df)}},'required':['questionType',_0x516776(0x416),_0x516776(0x308),_0x516776(0x47e),'explanation']};let _0x50005c;if(_0x666127!==null){const _0x4d219b=currentQuizData['questions'][_0x666127][_0x516776(0x2a3)],_0x90bfa5=_0xb03233?_0x516776(0x5e0):'';_0x17b0ce='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0x415426+'\x20'+_0x5af816+'\x20'+_0x18e3b0+_0x516776(0x1cb)+_0x90bfa5+'\x20'+simpleMathPrompt;if(_0x4d219b==='multiple_choice')_0x2fec9f=_0x1b17e8;else{if(_0x4d219b===_0x516776(0x29d))_0x2fec9f={'type':_0x516776(0x733),'properties':{'questionType':{'type':_0x516776(0x5df),'enum':[_0x516776(0x29d)]},'stem':{'type':_0x516776(0x5df)},'correctResponse':{'type':_0x516776(0x5df)},'explanation':{'type':_0x516776(0x5df)},'imageCode':{'type':_0x516776(0x5df)}},'required':[_0x516776(0x2a3),'stem',_0x516776(0x308),_0x516776(0x61f)]};else _0x2fec9f=_0x262336;}_0x50005c=_0x2fec9f;}else{const _0x24d852=_0xb03233?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'',_0xf422d8=_0x516776(0x232);switch(_0x6684ad){case _0x516776(0x299):_0x17b0ce='สร้างแบบทดสอบปรนัย'+_0xaa472b+'\x20'+_0x109821+_0x516776(0x362)+_0x415426+'\x20'+_0x5af816+'\x20'+_0x18e3b0+'\x20'+_0x477628+_0x516776(0x3c8)+_0x3cb001+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x24d852+'\x20'+simpleMathPrompt,_0x2fec9f=_0x1b17e8;break;case _0x516776(0x5b6):_0x17b0ce='สร้างคำถามแบบเติมคำในช่องว่าง'+_0xaa472b+'\x20'+_0x109821+_0x516776(0x362)+_0x415426+'\x20'+_0x5af816+'\x20'+_0x18e3b0+'\x20'+_0x477628+_0x516776(0x75f)+_0x3cb001+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x24d852+'\x20'+simpleMathPrompt,_0x2fec9f=_0x1b17e8;break;case'fill_in_no_choices':_0x17b0ce=_0x516776(0x43d)+_0xaa472b+'\x20'+_0x109821+_0x516776(0x362)+_0x415426+'\x20'+_0x5af816+'\x20'+_0x18e3b0+'\x20'+_0x477628+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x24d852+'\x20'+simpleMathPrompt,_0x2fec9f=_0x262336;break;case'mixed':_0x17b0ce=_0x516776(0x746)+_0xaa472b+'\x20'+_0x109821+_0x516776(0x362)+_0x415426+'\x20'+_0x5af816+'\x20'+_0x18e3b0+'\x20'+_0x477628+_0x516776(0x6b5)+_0x3cb001+_0x516776(0x444)+_0x24d852+'\x20'+simpleMathPrompt+'.',_0x2fec9f=_0x7e12ab;break;case _0x516776(0x254):_0x17b0ce='สร้างคำถามแบบใช่/ไม่ใช่'+_0xaa472b+'\x20'+_0x109821+_0x516776(0x362)+_0x415426+'\x20'+_0x5af816+'\x20'+_0x18e3b0+'\x20'+_0x477628+_0x516776(0x5b2)+_0x24d852+'\x20'+simpleMathPrompt,_0x2fec9f=_0x4cfe39;break;case _0x516776(0x7dc):_0x17b0ce='สร้างชุดคำถามจับคู่'+_0xaa472b+'\x20'+_0x109821+_0x516776(0x491)+_0x415426+'\x20'+_0x5af816+'\x20'+_0x18e3b0+'\x20'+_0x477628+_0x516776(0x8f2)+_0x24d852+'\x20'+simpleMathPrompt,_0x2fec9f=_0x2a7cd6;break;}_0x50005c={'type':_0x516776(0x733),'properties':{'topic':{'type':_0x516776(0x5df)},'questions':{'type':_0x516776(0x635),'items':_0x2fec9f}},'required':[_0x516776(0x4d1),'questions']};}return _0x4099ca?(_0x17b0ce=_0x516776(0x313)+_0x4099ca+_0x516776(0x850)+_0x17b0ce,_0x32d6e7=_0x516776(0x6ad)):_0x32d6e7=_0x516776(0x3b8),handleApiCall(_0x17b0ce,_0x32d6e7,_0x50005c,_0x666127);}async function generateQuizFromFile(_0x4e658,_0x1c59b4){const _0x1ba3bb=_0x2eabae,_0x455421=document[_0x1ba3bb(0x6a9)](_0x1ba3bb(0x539))[_0x1ba3bb(0x223)][_0x1ba3bb(0x88b)](),_0x45c0c6=document[_0x1ba3bb(0x6a9)](_0x1ba3bb(0x23a))[_0x1ba3bb(0x223)],_0x4161a9=document[_0x1ba3bb(0x6a9)]('num-questions')['value'],_0x315f57=document['getElementById']('num-choices')[_0x1ba3bb(0x223)],_0x1b3b77=document[_0x1ba3bb(0x6a9)](_0x1ba3bb(0x5e7))[_0x1ba3bb(0x2e9)],_0x7dd1ea=document[_0x1ba3bb(0x6a9)](_0x1ba3bb(0x252))['checked'],_0x56d40b=_0x7dd1ea?'':_0x1ba3bb(0x436);let _0x14ec44='',_0xad9456,_0xb15d33=_0x1ba3bb(0x4fe)+_0x455421+'\x22';!_0x455421&&(_0xb15d33=_0x1ba3bb(0x300));const _0x2471b8=_0x1b3b77?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x45c0c6){case _0x1ba3bb(0x299):_0x14ec44=_0x1ba3bb(0x343)+_0x56d40b+'\x20'+_0x4161a9+_0x1ba3bb(0x362)+_0xb15d33+_0x1ba3bb(0x3c8)+_0x315f57+_0x1ba3bb(0x477)+_0x2471b8+'\x20'+simpleMathPrompt,_0xad9456={'type':_0x1ba3bb(0x733),'properties':{'questionText':{'type':_0x1ba3bb(0x5df)},'options':{'type':_0x1ba3bb(0x635),'items':{'type':_0x1ba3bb(0x5df)}},'correctAnswerIndex':{'type':_0x1ba3bb(0x3be)},'explanation':{'type':_0x1ba3bb(0x5df)},'imageCode':{'type':_0x1ba3bb(0x5df)}},'required':[_0x1ba3bb(0x836),_0x1ba3bb(0x8de),_0x1ba3bb(0x58f),_0x1ba3bb(0x61f)]};break;case _0x1ba3bb(0x5b6):_0x14ec44=_0x1ba3bb(0x43d)+_0x56d40b+'\x20'+_0x4161a9+'\x20ข้อ\x20'+_0xb15d33+_0x1ba3bb(0x75f)+_0x315f57+_0x1ba3bb(0x50a)+_0x2471b8+'\x20'+simpleMathPrompt,_0xad9456={'type':_0x1ba3bb(0x733),'properties':{'questionText':{'type':_0x1ba3bb(0x5df)},'options':{'type':'ARRAY','items':{'type':_0x1ba3bb(0x5df)}},'correctAnswerIndex':{'type':_0x1ba3bb(0x3be)},'explanation':{'type':_0x1ba3bb(0x5df)},'imageCode':{'type':'STRING'}},'required':[_0x1ba3bb(0x836),_0x1ba3bb(0x8de),_0x1ba3bb(0x58f),_0x1ba3bb(0x61f)]};break;case'fill_in_no_choices':_0x14ec44=_0x1ba3bb(0x43d)+_0x56d40b+'\x20'+_0x4161a9+'\x20ข้อ\x20'+_0xb15d33+_0x1ba3bb(0x52b)+_0x2471b8+'\x20'+simpleMathPrompt,_0xad9456={'type':_0x1ba3bb(0x733),'properties':{'questionText':{'type':_0x1ba3bb(0x5df)},'idealAnswer':{'type':_0x1ba3bb(0x5df)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1ba3bb(0x5df)}},'required':[_0x1ba3bb(0x836),'idealAnswer','explanation']};break;case'mixed':_0x14ec44=_0x1ba3bb(0x746)+_0x56d40b+'\x20'+_0x4161a9+_0x1ba3bb(0x362)+_0xb15d33+_0x1ba3bb(0x716)+_0x315f57+_0x1ba3bb(0x444)+_0x2471b8+'\x20'+simpleMathPrompt+_0x1ba3bb(0x39c),_0xad9456={'type':_0x1ba3bb(0x733),'properties':{'questionText':{'type':_0x1ba3bb(0x5df)},'questionType':{'type':_0x1ba3bb(0x5df),'enum':[_0x1ba3bb(0x299),'short_answer']},'options':{'type':_0x1ba3bb(0x635),'items':{'type':_0x1ba3bb(0x5df)}},'correctAnswerIndex':{'type':_0x1ba3bb(0x3be)},'idealAnswer':{'type':_0x1ba3bb(0x5df)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x1ba3bb(0x836),_0x1ba3bb(0x2a3),'explanation']};break;case _0x1ba3bb(0x254):_0x14ec44=_0x1ba3bb(0x2b0)+_0x56d40b+'\x20'+_0x4161a9+'\x20ข้อ\x20'+_0xb15d33+_0x1ba3bb(0x5e6)+_0x2471b8+'\x20'+simpleMathPrompt,_0xad9456={'type':_0x1ba3bb(0x733),'properties':{'questionText':{'type':_0x1ba3bb(0x5df)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x1ba3bb(0x5df)},'imageCode':{'type':'STRING'}},'required':[_0x1ba3bb(0x836),_0x1ba3bb(0x213),_0x1ba3bb(0x61f)]};break;case _0x1ba3bb(0x7dc):_0x14ec44=_0x1ba3bb(0x5f0)+_0x56d40b+'\x20'+_0x4161a9+_0x1ba3bb(0x491)+_0xb15d33+_0x1ba3bb(0x1e9)+_0x4161a9+_0x1ba3bb(0x271)+_0x2471b8+'\x20'+simpleMathPrompt,_0xad9456={'type':'OBJECT','properties':{'questionType':{'type':_0x1ba3bb(0x5df),'enum':['matching_item']},'stem':{'type':_0x1ba3bb(0x5df)},'correctResponse':{'type':_0x1ba3bb(0x5df)},'allResponses':{'type':_0x1ba3bb(0x635),'items':{'type':_0x1ba3bb(0x5df)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1ba3bb(0x5df)}},'required':[_0x1ba3bb(0x2a3),_0x1ba3bb(0x416),_0x1ba3bb(0x308),_0x1ba3bb(0x47e),_0x1ba3bb(0x61f)]};break;}const _0x496864={'type':'OBJECT','properties':{'topic':{'type':_0x1ba3bb(0x5df)},'questions':{'type':_0x1ba3bb(0x635),'items':_0xad9456}},'required':['topic',_0x1ba3bb(0x813)]},_0x3d85b1=_0x1ba3bb(0x787)+_0x14ec44,_0xd15a93={'contents':[{'parts':[{'text':_0x3d85b1},{'inlineData':{'mimeType':_0x4e658,'data':_0x1c59b4}}]}],'generationConfig':{'responseMimeType':_0x1ba3bb(0x4b9),'responseSchema':_0x496864}};return handleApiCall(_0xd15a93[_0x1ba3bb(0x4f7)][0x0][_0x1ba3bb(0x5fd)],_0x1ba3bb(0x1b3),_0x496864);}async function handleApiCall(_0x326522,_0x33ea2e,_0x43cbda,_0x385b0c=null){const _0x94bdaf=_0x2eabae,_0x3f3345=document[_0x94bdaf(0x6a9)]('quiz-generation-area'),_0x24eb0d=document[_0x94bdaf(0x6a9)]('loader'),_0x42f3f5=document[_0x94bdaf(0x6a9)](_0x94bdaf(0x32d)),_0x34f348=document['getElementById'](_0x94bdaf(0x841));_0x3f3345[_0x94bdaf(0x62e)]['remove'](_0x94bdaf(0x3ef));_0x385b0c===null&&(_0x34f348[_0x94bdaf(0x7c0)]='');_0x24eb0d[_0x94bdaf(0x62e)][_0x94bdaf(0x3b0)](_0x94bdaf(0x3ef)),_0x42f3f5[_0x94bdaf(0x60c)]=_0x33ea2e,document[_0x94bdaf(0x6a9)](_0x94bdaf(0x8ee))[_0x94bdaf(0x423)]=!![],document[_0x94bdaf(0x6a9)](_0x94bdaf(0x20a))[_0x94bdaf(0x423)]=!![],document['getElementById'](_0x94bdaf(0x2aa))[_0x94bdaf(0x423)]=!![];try{const _0x20de78={'responseMimeType':'application/json','responseSchema':_0x43cbda},_0x5ab336=Array[_0x94bdaf(0x672)](_0x326522)?_0x326522:[{'text':_0x326522}],_0x23b9e3={'contents':[{'role':_0x94bdaf(0x729),'parts':_0x5ab336}],'generationConfig':_0x20de78},_0x3fd662=_0x94bdaf(0x5dd),_0x142aaa=_0x94bdaf(0x3ac)+_0x3fd662,_0x1cb673=await fetch(_0x142aaa,{'method':'POST','headers':{'Content-Type':_0x94bdaf(0x4b9)},'body':JSON[_0x94bdaf(0x741)](_0x23b9e3)});if(!_0x1cb673['ok'])throw new Error(_0x94bdaf(0x8dd)+_0x1cb673[_0x94bdaf(0x692)]);const _0x35dfc8=await _0x1cb673[_0x94bdaf(0x7d4)]();if(_0x35dfc8[_0x94bdaf(0x54e)]?.[0x0]?.[_0x94bdaf(0x45e)]?.['parts']?.[0x0]){let _0x43291a=_0x35dfc8[_0x94bdaf(0x54e)][0x0][_0x94bdaf(0x45e)][_0x94bdaf(0x5fd)][0x0][_0x94bdaf(0x675)],_0xdcc408;try{if(_0x43291a['startsWith'](_0x94bdaf(0x6f1)))_0x43291a=_0x43291a[_0x94bdaf(0x5f5)](0x7,_0x43291a[_0x94bdaf(0x1f2)]-0x3)[_0x94bdaf(0x88b)]();else _0x43291a[_0x94bdaf(0x512)](_0x94bdaf(0x8e4))&&(_0x43291a=_0x43291a[_0x94bdaf(0x5f5)](0x3,_0x43291a[_0x94bdaf(0x1f2)]-0x3)[_0x94bdaf(0x88b)]());_0xdcc408=JSON['parse'](_0x43291a);}catch(_0x2bc9ed){console[_0x94bdaf(0x497)](_0x94bdaf(0x533),_0x2bc9ed,_0x43291a);throw new Error(_0x94bdaf(0x16e));}if(_0x385b0c!==null){if(_0xdcc408[_0x94bdaf(0x2a3)]===_0x94bdaf(0x29d)){const _0x41fa8e=currentQuizData['questions'][_0x94bdaf(0x58b)](_0xf08330=>_0xf08330['correctResponse']);_0xdcc408[_0x94bdaf(0x47e)]=_0x41fa8e;const _0x6c278c=currentQuizData[_0x94bdaf(0x813)][_0x385b0c]['correctResponse'],_0x1e2306=_0x41fa8e['indexOf'](_0x6c278c);_0x1e2306>-0x1&&(_0x41fa8e[_0x1e2306]=_0xdcc408[_0x94bdaf(0x308)]),currentQuizData[_0x94bdaf(0x813)][_0x94bdaf(0x4ac)](_0x3f6545=>{const _0x2048a8=_0x94bdaf;if(_0x3f6545[_0x2048a8(0x2a3)]===_0x2048a8(0x29d))_0x3f6545[_0x2048a8(0x47e)]=_0x41fa8e;});}currentQuizData[_0x94bdaf(0x813)][_0x385b0c]=_0xdcc408,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0xdcc408;const _0xb42eb5=document[_0x94bdaf(0x6a9)]('quiz-type-select')[_0x94bdaf(0x223)];currentQuizData[_0x94bdaf(0x6bc)]=_0xb42eb5,currentQuizData[_0x94bdaf(0x813)]&&currentQuizData[_0x94bdaf(0x813)][_0x94bdaf(0x4ac)](_0x3f3dfd=>{const _0x3ed941=_0x94bdaf;if(!_0x3f3dfd[_0x3ed941(0x2a3)]){if(_0xb42eb5===_0x3ed941(0x5b6))_0x3f3dfd[_0x3ed941(0x2a3)]=_0x3ed941(0x299);else _0xb42eb5===_0x3ed941(0x2b2)?_0x3f3dfd[_0x3ed941(0x2a3)]=_0x3ed941(0x53e):_0x3f3dfd['questionType']=_0xb42eb5;}}),displayGeneratedQuiz(currentQuizData);}}else{console['error']('Invalid\x20response\x20structure\x20from\x20AI:',JSON[_0x94bdaf(0x741)](_0x35dfc8));throw new Error(_0x94bdaf(0x16e));}}catch(_0x2542ba){console[_0x94bdaf(0x497)](_0x94bdaf(0x2ff),_0x2542ba),showMessage(_0x94bdaf(0x646)),_0x385b0c===null&&(_0x34f348[_0x94bdaf(0x7c0)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>');}finally{_0x24eb0d[_0x94bdaf(0x62e)][_0x94bdaf(0x6e5)](_0x94bdaf(0x3ef)),document[_0x94bdaf(0x6a9)]('generate-from-topic-btn')[_0x94bdaf(0x423)]=![],document[_0x94bdaf(0x6a9)](_0x94bdaf(0x20a))[_0x94bdaf(0x423)]=![],document['getElementById'](_0x94bdaf(0x2aa))[_0x94bdaf(0x423)]=![];const _0xe2b1e5=document[_0x94bdaf(0x6a9)](_0x94bdaf(0x7a2));_0xe2b1e5&&(_0xe2b1e5[_0x94bdaf(0x423)]=![]);}}function exitFullscreen(){const _0x641798=_0x2eabae;if(document['exitFullscreen'])document['exitFullscreen']()[_0x641798(0x577)](_0xe28054=>console[_0x641798(0x497)](_0xe28054));else{if(document['webkitExitFullscreen'])document[_0x641798(0x31f)]();else document[_0x641798(0x3cd)]&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x4ef657=_0x2eabae,_0x316b4d=document['documentElement'];if(_0x316b4d[_0x4ef657(0x709)])_0x316b4d[_0x4ef657(0x709)]()[_0x4ef657(0x577)](_0x59de36=>{const _0x3aeaf4=_0x4ef657;console['error'](_0x3aeaf4(0x693)+_0x59de36['message']+'\x20('+_0x59de36[_0x3aeaf4(0x531)]+')');});else{if(_0x316b4d[_0x4ef657(0x52c)])_0x316b4d[_0x4ef657(0x52c)]();else _0x316b4d[_0x4ef657(0x210)]&&_0x316b4d['msRequestFullscreen']();}}function handleVisibilityChange(){const _0x30e7ba=_0x2eabae;if(currentMode===_0x30e7ba(0x398))return;isQuizActive&&document[_0x30e7ba(0x506)]==='hidden'&&(cheatAttempts++,logBehaviorEvent(_0x30e7ba(0x616),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x30e7ba(0x1c4)+maxCheatAttempts+_0x30e7ba(0x385)),document[_0x30e7ba(0x6a9)](_0x30e7ba(0x1fc))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener']('visibilitychange',handleVisibilityChange),document[_0x30e7ba(0x17b)](_0x30e7ba(0x21a),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x30e7ba(0x592)));}function handleFullscreenChange(){const _0x59fc48=_0x2eabae;if(currentMode===_0x59fc48(0x398))return;!document['fullscreenElement']&&isQuizActive&&(cheatAttempts++,logBehaviorEvent(_0x59fc48(0x6b9),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากโหมดเต็มหน้าจอครบ\x20'+maxCheatAttempts+_0x59fc48(0x385)),document[_0x59fc48(0x6a9)](_0x59fc48(0x1fc))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x59fc48(0x17b)](_0x59fc48(0x21a),handleFullscreenChange)):showMessage(_0x59fc48(0x503)+cheatAttempts+'/'+maxCheatAttempts+_0x59fc48(0x6b2),enterFullscreen));}function displayGeneratedQuiz(_0x34b0c1){const _0x48dbd7=_0x2eabae,_0x49d387=document['getElementById'](_0x48dbd7(0x841));let _0x498797=_0x48dbd7(0x7a6)+_0x34b0c1[_0x48dbd7(0x4d1)]+'</h3>';_0x34b0c1[_0x48dbd7(0x813)]['forEach']((_0x290b21,_0x1bc634)=>{const _0x2e4af8=_0x48dbd7;!_0x290b21['id']&&(_0x290b21['id']='q_'+Date[_0x2e4af8(0x193)]()+'_'+_0x1bc634);const _0x11ebe0=_0x290b21[_0x2e4af8(0x2a3)]||_0x34b0c1[_0x2e4af8(0x6bc)];_0x498797+=_0x2e4af8(0x45b)+_0x1bc634+_0x2e4af8(0x57b)+_0x1bc634+_0x2e4af8(0x16c)+_0x1bc634+_0x2e4af8(0x289)+_0x1bc634+_0x2e4af8(0x64e);switch(_0x11ebe0){case _0x2e4af8(0x29d):_0x498797+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x1bc634+'\x22>'+(_0x1bc634+0x1)+'.\x20'+_0x290b21[_0x2e4af8(0x416)]+_0x2e4af8(0x1d8);_0x290b21['imageCode']&&(_0x498797+=_0x2e4af8(0x1dd)+_0x1bc634+_0x2e4af8(0x4c7)+_0x290b21['imageCode']+_0x2e4af8(0x8dc));_0x498797+=_0x2e4af8(0x8a6)+_0x1bc634+'\x22>'+_0x290b21['correctResponse']+_0x2e4af8(0x779),_0x498797+=_0x2e4af8(0x67c)+_0x1bc634+'\x22>'+_0x290b21[_0x2e4af8(0x61f)]+_0x2e4af8(0x779);break;case _0x2e4af8(0x53e):_0x498797+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x1bc634+'\x22>'+(_0x1bc634+0x1)+'.\x20'+_0x290b21[_0x2e4af8(0x836)]+_0x2e4af8(0x1d8);_0x290b21[_0x2e4af8(0x753)]&&(_0x498797+=_0x2e4af8(0x1dd)+_0x1bc634+_0x2e4af8(0x4c7)+_0x290b21['imageCode']+'</div>');_0x498797+=_0x2e4af8(0x486)+_0x1bc634+'\x22>'+_0x290b21[_0x2e4af8(0x695)]+_0x2e4af8(0x779),_0x498797+=_0x2e4af8(0x67c)+_0x1bc634+'\x22>'+_0x290b21[_0x2e4af8(0x61f)]+'</span></div>';break;case _0x2e4af8(0x254):_0x498797+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x1bc634+'\x22>'+(_0x1bc634+0x1)+'.\x20'+_0x290b21[_0x2e4af8(0x836)]+_0x2e4af8(0x1d8);_0x290b21[_0x2e4af8(0x753)]&&(_0x498797+=_0x2e4af8(0x1dd)+_0x1bc634+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x290b21[_0x2e4af8(0x753)]+_0x2e4af8(0x8dc));_0x498797+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x290b21['correctAnswer']===!![]?_0x2e4af8(0x401):'')+_0x2e4af8(0x2e5)+(_0x290b21[_0x2e4af8(0x213)]===![]?_0x2e4af8(0x401):'')+_0x2e4af8(0x317),_0x498797+=_0x2e4af8(0x67c)+_0x1bc634+'\x22>'+_0x290b21[_0x2e4af8(0x61f)]+'</span></div>';break;case _0x2e4af8(0x4ae):case _0x2e4af8(0x299):default:_0x498797+=_0x2e4af8(0x296)+_0x1bc634+'\x22>'+(_0x1bc634+0x1)+'.\x20'+_0x290b21[_0x2e4af8(0x836)]+_0x2e4af8(0x1d8);_0x290b21[_0x2e4af8(0x753)]&&(_0x498797+=_0x2e4af8(0x1dd)+_0x1bc634+_0x2e4af8(0x4c7)+_0x290b21[_0x2e4af8(0x753)]+_0x2e4af8(0x8dc));_0x498797+=_0x2e4af8(0x1e1)+_0x1bc634+_0x2e4af8(0x273)+_0x290b21['options'][_0x2e4af8(0x58b)]((_0x5ee658,_0x3c1a54)=>_0x2e4af8(0x2ba)+(_0x3c1a54===_0x290b21['correctAnswerIndex']?_0x2e4af8(0x401):'')+'\x22>'+_0x5ee658+_0x2e4af8(0x315))['join']('')+_0x2e4af8(0x426),_0x498797+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x1bc634+'\x22>'+_0x290b21[_0x2e4af8(0x61f)]+_0x2e4af8(0x779);break;}_0x498797+='</div>';}),_0x498797+=_0x48dbd7(0x640),_0x49d387[_0x48dbd7(0x7c0)]=_0x498797,document[_0x48dbd7(0x5fe)](_0x48dbd7(0x8ae))[_0x48dbd7(0x4ac)](_0x439297=>_0x439297[_0x48dbd7(0x639)]('click',handleEditQuestion)),document['querySelectorAll']('.regenerate-question-btn')[_0x48dbd7(0x4ac)](_0x1c86ce=>_0x1c86ce[_0x48dbd7(0x639)](_0x48dbd7(0x7f4),handleRegenerateQuestion)),document['querySelectorAll'](_0x48dbd7(0x37c))[_0x48dbd7(0x4ac)](_0x569910=>_0x569910[_0x48dbd7(0x639)]('click',handleSaveToBank)),document[_0x48dbd7(0x6a9)](_0x48dbd7(0x433))[_0x48dbd7(0x639)](_0x48dbd7(0x7f4),exportQuizAsWorksheetPDF),document[_0x48dbd7(0x6a9)]('save-quiz-btn')[_0x48dbd7(0x639)](_0x48dbd7(0x7f4),saveQuiz),document[_0x48dbd7(0x6a9)](_0x48dbd7(0x482))[_0x48dbd7(0x639)](_0x48dbd7(0x7f4),handleVerifyAnswers);if(window['MathJax'])window[_0x48dbd7(0x6d3)]['typesetPromise']([_0x49d387]);}function handleRegenerateQuestion(_0x2469b3){const _0x1ddc33=_0x2eabae,_0x3992a8=_0x2469b3['currentTarget'][_0x1ddc33(0x7c5)][_0x1ddc33(0x4b2)],_0x54a8f0=currentQuizData['topic'];showMessage(_0x1ddc33(0x46e)+(parseInt(_0x3992a8)+0x1)+_0x1ddc33(0x490)),generateQuiz(_0x54a8f0,null,parseInt(_0x3992a8));}function _0x12a0(){const _0x42b1c7=['<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a---\x0a','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','get','helvetica','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','comparison-overall-content','ยืนยันการจับคู่','\x22\x20data-topic=\x22','ความชันเส้นสัมผัส','password-error-msg','.topic-name-display','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill','trim','การคูณเศษส่วน','student-quiz-leaderboard-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/users/','modal-timer-duration-label','(ก่อนเรียน)','destroy','\x22\x20value=\x22','เปลี่ยนชื่อแบบทดสอบสำเร็จ','text-purple-600','style',';\x22\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','toggle','undefined','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#per-question-options\x20select','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1\x5cfrac','\x5cle','setAttributeNS','findIndex','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณาเลือกสถานะ','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','\x22\x20data-q-type=\x22','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','quiz-editor-questions-container','ข้อต่อไป','cancel-global-live-btn','การหาร','export-pdf-btn','topic-tab','find','.edit-question-btn','ยกเลิกการจับคู่สำเร็จ','timer-bar','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','เกิดข้อผิดพลาดในการจับคู่','frac','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','submission','newappai.firebasestorage.app','สอบซ่อม','เส้นจำนวน','suggestedAnswer','/studentProfiles','icon','geq','show_results_and_answers','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันแบบชิ้นส่วน','\x5cneq','\x22\x20class=\x22delete-project-btn\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','lastAnswerCorrect','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','quiz-results-table-body','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','Error\x20saving\x20settings:','ผู้เชี่ยวชาญ','appendChild','th-TH','submit','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','reset-project-order-btn','generate-from-parallel-test-btn','ค่าเฉลี่ย','badgesCount','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','fa-crown\x20text-yellow-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','Copy\x20command\x20failed','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','</div>','API\x20call\x20failed\x20with\x20status:\x20','options','exists','circle','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','points','cancel-create-project-btn','```','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','input[name=\x22drill_answer\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','setFont','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','text-red-500\x20hover:text-red-700','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','generate-from-topic-btn','โดเมนและเรนจ์','(คัดลอก)\x20','fa-user-astronaut\x20text-blue-700','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','input[type=\x22text\x22]','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','preventDefault','leq','student-join-game-view','ทฤษฎีบทพื้นฐานของแคลคูลัส','strength-weakness-analysis-container','27411472','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','confirmation-message','\x22><p\x20class=\x22font-semibold\x22>','พื้นที่วงกลม/ส่วนของวงกลม','ใช่','visibilitychange','หมดเวลาสำหรับข้อนี้!','input[type=\x22radio\x22]:checked','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','ก่อนเรียน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','round','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','sort','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','button[type=\x22submit\x22]','การแยกตัวประกอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','confirm-quiz-status-btn','replace','.color-palette-popup','การกระจายและการจัดหมู่','students','สลับไปโหมดผู้ควบคุม','link-topic-input','(^|[^\x5c\x5c])\x5cb','fa-bolt\x20text-blue-500','blueprint-upload-input','currentQuestionIndex','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','display','Invalid\x20response\x20structure\x20from\x20AI.','เปิด\x20(จับเวลา)','คำถามดิบ:\x20\x22','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','ทฤษฎีบทพีทาโกรัสและการประยุกต์','quiz-results-view','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','.png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','update','Error\x20joining\x20live\x20game:','removeEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','ความต่อเนื่อง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','add-student-btn','text-indigo-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','ไม่สามารถบันทึกการตั้งค่าได้','ไม่มี','answeredCurrentQuestion','\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','PERSEVERANCE','workerSrc','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','passcode-error-msg','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','จำนวนคู่:','เรขาคณิตวิเคราะห์','ดูสรุปผล','size','quiz-leaderboard-table-body','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','now','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','.project-card-container','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','grid','export-leaderboard-image-btn','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','รากที่สองและที่สาม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','COMEBACK_KING','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','คัดลอกรหัสแล้ว!','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ตรวจทานเฉลยเสร็จสิ้น!','ดอกเบี้ยทบต้น','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','isAdaptive','Error\x20listening\x20for\x20custom\x20math\x20topics:','clientX','student-list','lowerGroupNames','/public/data/liveGames','isPinned','<h1></h1>','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','first_try_ace','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','originalQuestionText','showInStudentDashboard','ทศนิยม\x20(ค่าประจำหลัก)','export-leaderboard-pdf-btn','student-result-area','projectOrder','$1\x20\x5cfrac','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','contains','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','smooth','ตรวจพบการสลับหน้าจอครบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','7sVupev','global-quiz-search-input','\x20\x20\x20-\x20คำตอบ:\x20','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','(ก่อนเรียน)\x20','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-table','passcode','จำนวนนักเรียน','comparison-individual-content','label[for=\x22num-questions\x22]','การยืนยันตัวตนล้มเหลว','.verification-result-editor','dfrac','start-game-btn','ฟังก์ชันลอการิทึม','#ffffff','</p>','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','ท็อปฟอร์ม','timerDuration','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','<div\x20id=\x22q-image-container-','-tab-content','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','Error\x20loading\x20user\x20preferences:','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','.quiz-result-card','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปริพันธ์ไม่จำกัด','false','files','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','อุณหภูมิและการแปลง','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','copy','#student-project-leaderboard-content\x20thead','ความคล้ายของรูป','กรุณาเลือกไฟล์ก่อน','Error\x20deleting\x20custom\x20topic:','พิมพ์ตอบ','length','สมการเหตุผล\x20(rational)','open-quiz-bank-btn','pinnedProjects','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','ไม่สามารถโหลดรายการโปรเจคได้','rows','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','quiz-form','text-red-300\x20hover:text-red-100','body','comparison-modal','Error\x20opening\x20quiz\x20editor:','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','input[name=\x22status-option\x22]','input[type=\x22checkbox\x22]:checked','promptFeedback','sin','<i\x20class=\x22fas\x20fa-pen\x22></i>','\x22\x20ให้เป็นคำถามประเภท\x20\x22','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','bg-red-50','generate-from-text-btn','bg-green-100\x20text-green-800','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','\x5cdiv','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','msRequestFullscreen','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','close-lesson-plan-modal-footer-btn','correctAnswer','onclick','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','.csv','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','globalSettings','fullscreenchange','text-green-600','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','ฟังก์ชันค่าสัมบูรณ์','ดีเทอร์มิแนนต์','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','.rename-quiz-btn','leaderboard','value','save-settings-btn','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','pow','worksheet-topic-input','bottom','border-red-300\x20bg-red-50','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','text-indigo-600','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','create-from-bank-btn','เส้นตรง:\x20รูปแบบสมการ','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','$1\x5ctimes','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบผลสอบ','#FFFFFF','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','projectSortOrder','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','Error\x20deleting\x20quiz:','bank-quiz-search-input','quiz-type-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','student-progress-content','<div\x20class=\x22mb-3\x20topic-category\x22>','select','Failed\x20to\x20get\x20hint:','เกิดข้อผิดพลาดในการบันทึก','การวัด','ดอกเบี้ยอย่างง่าย','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','student-quiz-leaderboard-tab','export-compact-pdf-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','</tbody></table></div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','modal-results-display-select','export-lesson-pdf-btn','กรุณาใส่ชื่อใหม่','<div\x20class=\x22my-6\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','parent','force-math-checkbox','\x20รายการ...','true_false','postTScore','student-quiz-leaderboard-table-body','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','loader','standard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','link-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','document','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-700\x20bg-red-100','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','confirmation-modal','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-presentation-btn','createObjectURL','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','manual_release','height','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','คำถามถัดไป','Error\x20updating\x20pin\x20status:','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','ตอบถูกทุกข้อในแบบทดสอบนี้','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','answers','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','players.','red','lesson-plan-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','MathJax\x20typeset\x20error\x20(analytics):','<p\x20class=\x22font-bold\x20text-sm\x20','\x22\x20class=\x22pin-project-btn\x20','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','</td></tr>','(ไม่มีชื่อ)','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','เกิดข้อผิดพลาดในการอัปเดต:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','keys','post-test','จับคู่แบบทดสอบสำเร็จ!','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','เส้นรอบรูป','Error\x20deleting\x20submission:','finishReason','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','category','วงกลม:\x20คอร์ดและเส้นสัมผัส','\x20ชุด)','scheduled_pending','textarea','str','ผู้ควบคุม\x20(ทดสอบ)','color','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','type','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','progress-project-select','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','multiple_choice','\x22>ใช่</p>','join-live-game-btn','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','matching_item','border-red-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','สร้างโปรเจคสำเร็จ!','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','questionType','</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','generate-from-link-btn','block','match','ผ่าน','กรุณาวาง\x20URL\x20ของบทความก่อน','fas\x20fa-bookmark','สร้างคำถามแบบใช่/ไม่ใช่','Error\x20updating\x20quiz\x20status:','fill_in_no_choices','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','.copy-quiz-id-list-btn','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-quiz-edits-btn','projectName','shuffleSetting','<li\x20class=\x22','jspdf','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','สมการค่าสัมบูรณ์','overline','#E5E7EB','อินเวอร์สของเมทริกซ์','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนรหัสแบบทดสอบ','.quiz-bank-parallel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ตัวแปรและนิพจน์','.save-custom-topic-btn','Error\x20toggling\x20pin\x20status:','beforeend','mouseleave','/preferences/main','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','flex\x20flex-col\x20gap-2','fa-pen','mouseup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','normal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','student-view','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','far\x20fa-star','ตั้งเวลา\x20(เปิด)','presentation-explanation','เซียนสมองไว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กำลังสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','deselect-all-topics-btn','quiz-id-input','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','dispatchEvent','#results-table','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','.quiz-bank-present-btn','font-bold','per-q-countdown','checked','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างห้องเกม','ฟังก์ชันผกผัน','\x20สำเร็จ:\x20','behavior-log-container','Error\x20duplicating\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','bg-red-100\x20text-red-800','createdAt','กำลังวิเคราะห์ข้อสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','bar','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','อัปเดตแบบทดสอบเก่า\x20','global-quiz-list','ปรับเพิ่ม/ลดเป็นร้อยละ','Error\x20saving\x20quiz\x20edits:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analytics-tab-content','Error\x20generating\x20quiz:','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','quiz-leaderboard-table-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','draggable-text','log','บันทึกการตั้งค่าสำเร็จ','การคูณ','correctResponse','btn','admin-view','presentation-slide-container','กรุณาใส่ชื่อนักเรียน','presentation-short-answer-input','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','per-question-options','เกิดข้อผิดพลาดในการติดดาว','num-questions','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','จากเนื้อหาต่อไปนี้:\x20\x22','<li>','</li>','ตารางความถี่','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','admin','รูปสแควร์รูท\x20(surd)','.generate-post-test-btn','(หลังเรียน)\x20','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','webkitExitFullscreen','answer-counter','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','fa-fire\x20text-orange-500','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','quiz-end-time','timestamp','project-list','start-presentation-btn','string','Error\x20saving\x20user\x20preference:','</td>','project-sort-select','qType','loader-text','กำลังจับคู่...','className','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><i\x20class=\x22fas\x20','confirm-passcode-btn','questionIndex','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลการจับคู่','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','behavior-log-tab-btn','กรุณาใส่ชื่อโปรเจค','#view-rankings-btn','show_results_only','close','scores-tab-content','หลังเรียน','admin-password-input','min','Error\x20listening\x20for\x20projects:','totalQuestions','สร้างแบบทดสอบปรนัย','Error\x20generating\x20parallel\x20post-test:','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','00:00','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','passing-score-input','createElement','medium','เรเดียนและการแปลงหน่วย','text-blue-700','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','.pin-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quiz-schedule-end-container','.edit-quiz-btn','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','specialist','</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','_blank','getBoundingClientRect','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-quiz-btn','offset','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','text-emerald-800','API\x20call\x20failed','data:application/vnd.ms-word;charset=utf-8,','\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20',',\x20r=','delete-all-students-btn',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','ฐานนิยม','user-id-display','global-live-game-count','ไม่มีคำอธิบาย','.topic-name-input','from','svg','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','presentation-modal','Error\x20fetching\x20project\x20quizzes:','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','toLowerCase','#student-quiz-leaderboard-content\x20thead','.project-card-container[data-id]','overallGroups','includes','ศูนย์','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.cancel-edit-topic-btn','generate-from-blueprint-btn','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','.save-to-bank-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','$1\x5ctext(','Error\x20starting\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','quiz-status-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','ควรปรับปรุง','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','.topic-actions-view','$1^{\x5ccirc}','choices_only','thead','project-passcode-modal','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','Error\x20unpairing\x20quizzes:','admin-password-modal','podium','fas\x20fa-star\x20text-yellow-500','619128VRXapY','auto','จำนวนและการดำเนินการ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20student\x20profiles:','quiz-results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','Error\x20generating\x20from\x20link:','admin-testing','project-dashboard-view','studentName','fullscreenElement','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','back-from-results-btn','show-in-student-dashboard-checkbox','write','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','standardTopic','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','update-old-quizzes-btn','bg-green-500','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','target','upperGroupResponders','toISOString','บันทึกการตั้งค่าแล้ว','Error\x20fetching\x20quiz\x20status:','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','.doc','remove','quiz-generation-area','isRemedial','results-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','results-quiz-title','touches','กำลังสร้างแบบทดสอบจากหัวข้อ...','.quiz-status-btn','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pointsLastQuestion','ย้าย','NUMBER','ไม่พบตารางสำหรับ\x20Export','<option>กำลังโหลดโปรเจค...</option>','project-id-display','</p><p><strong>เฉลย:</strong>\x20','.topic-row','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','next-question-timed-btn','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','.\x20แต่ละข้อมี\x20','bg-red-100','<p\x20class=\x22','(เลือกแล้ว\x20','sqrt','msExitFullscreen','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','selected-topics-count','slide-counter','gain','position','.lastAnswerCorrect','analyze-strengths-btn','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','teacherSuggestions','totalPoints','ยอดเยี่ยม','.presentation-option','input','practice-topic-btn','กฎของโคไซน์','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','resultsDisplay','Error\x20adding\x20custom\x20topic:','ไม่สามารถโหลดข้อมูลอันดับได้','classWeaknesses','ค.ร.น.\x20(LCM)','quick_thinker','ฟังก์ชันราก\x20(root)','เพิ่มหัวข้อ\x20\x22','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','#F59E0B','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','onchange','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','hidden','กราฟฟังก์ชันตรีโกณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-home-manual-release','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','BOOLEAN','$1_{$2}','\x20หัวข้อ)','asc','passcode-input-container','newappai.firebaseapp.com','closest','bg-yellow-50','on_fire','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','bg-green-50','text-yellow-300','\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','text-green-600\x20font-bold','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','สลับไปโหมดนักเรียน','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดโปรเจค','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','true','/public/data/practiceBank','manage-tab','scrollIntoView','rgba(79,\x2070,\x20229,\x201)','scores-tab-btn','#results-table\x20thead\x20tr','attempts','หัวข้อที่สร้างเอง','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','getContext','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','อสมการเชิงเส้น','กำลังดึงข้อมูลจากลิงก์...','stem','_opt1\x22\x20name=\x22question','originalTopic','ส่งแล้ว','.ideal-answer-input','\x5ctext{$1}','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','rename-quiz-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่สี่เหลี่ยม','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ส่วนเบี่ยงเบนมาตรฐาน','disabled','bank-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','random','</th>','/public/data/quizzes','กฎบวกและกฎคูณ','lowerGroupResponders','players','เกิดข้อผิดพลาดในการลบนักเรียน','\x5ctimes','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','#D1FAE5','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ระยะจากจุดถึงเส้นตรง','export-worksheet-pdf-btn','pairedQuizId','timer-container','คณิตศาสตร์','deg','Error\x20updating\x20sort\x20preference:','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ร้อยละประยุกต์','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามแบบเติมคำในช่องว่าง','.question-editor-item[data-q-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','cloneNode','Error\x20verifying\x20answers:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comeback_king','\x20ตัวเลือก.\x20','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','<br>','cancel-admin-login-btn','ON_FIRE','ส่วนเบี่ยงเบนเฉลี่ย','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','lesson-plan-content','lobby','Error\x20displaying\x20question\x20bank:','ตอบถูก\x203\x20ข้อติดต่อกัน','querySelector','/public/data/customMathTopics','loop-until-pass-checkbox','confirm-admin-login-btn','confirm-join-game-btn','getBBox','date_asc','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','next-question-btn','ย้ายแบบทดสอบไปโปรเจคอื่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-quiz-area','content','project-search-input','.delete-student-btn','offsetWidth','toDate','editable-quiz-topic','\x0a\x20\x20\x20\x20','class','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','auto-fix-latex-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','list','active','9707319wyYGWn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างคำถามข้อ\x20','left','lesson-plan-modal','เกิดข้อผิดพลาดในการสร้างใบงาน','เลือกโปรเจคเพื่อบันทึก','bg-amber-100\x20text-amber-800','getDocument','leaderboard-quiz','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','analytics-summary-cards','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','line-through\x20text-red-700','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ข้อ\x20','\x20pointer-events-none\x22>','allResponses','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','สมการตรีโกณมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','verify-answers-btn','live-submit-short-answer-btn','Leaderboard\x20update\x20transaction\x20failed:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','message-modal','#E0E7FF','ลบผลสอบของ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่พบแบบทดสอบสำหรับรหัสนี้','answer-grid-container','quiz-start-time','ย้ายแบบทดสอบสำเร็จ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','\x20ใหม่...','\x20คู่\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','ความน่าจะเป็นแบบมีเงื่อนไข','data','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','error','\x22\x20data-pre-test-id=\x22','comparison','teachingContent','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','countdown-display','ไม่ได้ตอบ','right','difficulty-level-select','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก','player-list-lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.compare-results-btn','shuffle','Error\x20generating\x20lesson\x20plan:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22false\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','instructions','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','.badges','forEach','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','fill_in_the_blank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','bg-red-200\x20text-red-800','index','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','application/json','project-detail-view','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','autoTable','เกิดข้อผิดพลาดในการลบโปรเจค','ไม่พบข้อมูลแบบทดสอบ','จำนวนข้อ:','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','results','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','การหารเศษส่วน','questions_only','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้ของเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนดสำคัญ:\x20สำหรับแต่ละข้อที่สร้าง\x20จะต้องมีข้อมูลต่อไปนี้ให้ครบถ้วนเสมอ:\x20questionText\x20(สำหรับโจทย์),\x20questionType,\x20options\x20(กรณีปรนัย),\x20correctAnswerIndex\x20(กรณีปรนัย),\x20idealAnswer\x20(กรณีเติมคำ),\x20และ\x20explanation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คณิตการเงิน/บูรณาการ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','image/png','gamePin','รีเซ็ตลำดับโปรเจคแล้ว','ราชาคัมแบ็ก','ระยะเวลา\x20(นาที):','parse','topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เมทริกซ์:\x20บวก/คูณ','analytics','.answeredCurrentQuestion','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','option','พอใช้','<tr><td\x20colspan=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','</span>','ร้อยละพื้นฐาน','cancel-move-quiz-btn','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','.regenerate-question-editor-btn','.draggable-text','submissions','Error\x20updating\x20project\x20color:','stdDev','innerText','quiz-search-input','load-quiz-btn','starred-project','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','ตัวประกอบและตัวประกอบเฉพาะ','บันทึกพฤติกรรมสำหรับ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','behavior-log-tab-content','create-project-btn','behaviorLog','ลำดับเรขาคณิต\x20(GP)','div','.topic-actions-edit','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','เกิดข้อผิดพลาดในการอ่านไฟล์','Error\x20rendering\x20student\x20progress:','ownerSVGElement','rename-quiz-modal','contents','confirm-move-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','121705IFmbOb','leaderboard-quiz-tab-content','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','สอบปกติ','เกี่ยวกับหัวข้อ\x20\x22','การลบ','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','ผู้ไม่ยอมแพ้','pre-test','คำเตือน\x20(','open','underline','visibilityState','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','export-image-btn','questionStatus','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','(คู่ขนาน)\x20','editor-quiz-topic','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','newappai','Enter','NEGATIVE_INFINITY','delete-svg-btn','startsWith','earned-badges-container','modal-timer-mode-select','student-initial-view','project-name-input','N/A','input[name=\x22status-option\x22]:checked','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','Error\x20pairing\x20quizzes:','preTestId','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','การจัดกลุ่มข้อมูล','AIzaSyCrvYxQBrQBFrT99Rkg4nVgjOwRsBBZafI','label','next-drill-btn','mousemove','หน่วยเวลาและการคำนวณเวลา','1:516499432840:web:7b2a9a571fad2e3d68463d','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','student-rankings-modal','loopUntilPass','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','webkitRequestFullscreen','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','timer-duration-input','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แก้ระบบสมการด้วยเมทริกซ์','name','พื้นที่ผิวรูปทรงสามมิติ','Failed\x20to\x20parse\x20JSON\x20from\x20AI','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','Error\x20comparing\x20results:','file-topic-input','create-project-modal','716904zsfjDO','ตรวจคะแนนใหม่\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','short_answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','set','อสมการค่าสัมบูรณ์','PERFECT_SCORE','คัดลอกไม่สำเร็จ','ยืนยันการกระทำ','live-short-answer-input','\x5cfrac{$1}{$2}','fromCharCode','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','{$1}','ตรีโกณมิติ','default','reduce','max','candidates','อนุพันธ์:\x20กฎพื้นฐาน','prod','</form>','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','38mAIQwl','border-green-700','</p></div>','commit','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','^{\x5ccirc}\x5ctext{C}$','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','จำนวนคละ','quiz','บันทึกแบบทดสอบสำเร็จแล้ว!','เปิดใช้งาน','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','border-indigo-400\x20ring-2\x20ring-indigo-200','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','top','removeChild','qIndex','.verification-result','ai-quiz-generator-v3','<span\x20class=\x22font-bold\x20','Error\x20saving\x20questions\x20to\x20practice\x20bank:','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','516499432840','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','confirm-delete-btn','padStart','เวกเตอร์และเมทริกซ์\x20(เสริม)','สมการราก\x20(radical)','dragover','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cancel-test-btn','ยังไม่มีนักเรียนส่งงาน','nickname-input','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','catch','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','เกิดข้อผิดพลาดในการลบหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','student-passcode-input','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[data-topic-container-id]','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','Error\x20fetching\x20projects\x20for\x20move:','startTime','AI\x20grading\x20failed:','some','บันทึกคำถามใหม่\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','projectId','กรุณาเลือกโปรเจคที่ต้องการบันทึก','คะแนน','map','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','</p><div>','correctAnswerIndex','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','editable-text-','):\x20กรุณาอย่าสลับหน้าจอหรือออกจากแอปพลิเคชันระหว่างทำแบบทดสอบ','desc','ปริพันธ์จำกัด','thead\x20.sortable-header','สร้างใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','katex','<p>','การแจกแจงทวินาม\x20(พื้นฐาน)','\x20ช่อง','manage-tab-content','topic-input','[contenteditable=\x22true\x22]','question-analytics-container','เส้นตรง:\x20ขนาน/ตั้งฉาก','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','mixed','อัตราและอัตราหน่วย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','practiceProblems','student-reading-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','export-tutor-pdf-btn','rgba(59,\x20130,\x20246,\x200.7)','arrayBuffer','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','modal-timer-duration-input','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','แบบทดสอบที่ติดดาว','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','fill_in_with_choices','floor','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-tab','global-live-game-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','text-indigo-700','มุมและการวัดมุม','cancel-quiz-status-btn','หน่วยมวล/น้ำหนักและการแปลง','กฎของไซน์','ไม่พบโปรเจค','.correctStreak','bg-green-300','.delete-svg-btn','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','push','latestScore','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน','retake-quiz-loop-btn','\x22\x20class=\x22color-palette-btn\x20','Error\x20updating\x20custom\x20topic:','Firebase\x20initialization\x20failed:','text-gray-400\x20hover:text-indigo-600','items','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','เรขาคณิต','custom-math-topic-input','#FEF3C7','text-green-900','question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add-custom-math-topic-btn','confirm-rename-quiz-btn','Error\x20updating\x20quiz\x20settings:','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','<div\x20class=\x22space-y-4\x22>','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','STRING','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','solution','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','.color-palette-btn','#F3E8FF','toString','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','include-images-checkbox','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','):\x20','border-green-500','confirm-quiz-settings-btn','download','execCommand','คัดลอกแบบทดสอบสำเร็จ','fas\x20fa-user-edit','สร้างชุดคำถามจับคู่','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mode-switcher-btn','substring','ระยะเวลา\x20(วินาที):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','result','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','tfrac','table','cancel-delete-btn','parts','querySelectorAll','Error\x20generating\x20worksheet:','Error\x20renaming\x20quiz:','none','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','live-options-container','rgba(16,\x20185,\x20129,\x200.7)','presentation-ai-result','Error\x20processing\x20file\x20for\x20AI:','จำนวนเต็มลบ','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Authentication\x20failed:','textContent','ring-purple-400','\x22>ไม่ใช่</p>','interesting-stats-wrapper','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','inactive','quizId','filter','opacity','authed_project_','visibility_hidden','input[type=\x22checkbox\x22]','hint-btn','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','กำลังสร้างรูปภาพ...','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','ลบโปรเจคสำเร็จแล้ว','td,\x20th','explanation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex-1\x22></div>','ที่พิมพ์ได้\x20จำนวน\x20','schedule','lower_group_count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','insertAdjacentHTML','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','/public/data/projects','พาราโบลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','ฟังก์ชันกำลังสองและกราฟ','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','มัธยฐาน','classList','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','contentEditable','behavior-log','all','FIRST_TRY_ACE','grid-view-btn','ARRAY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','toDataURL','addEventListener','project-quizzes-list','doughnut','results-display-select','answering','close-lesson-plan-modal-btn','_opt','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20จาก\x20','/public/data/projects/','projectSort','save','Failed\x20to\x20get\x20standardized\x20topic:','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','starred','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','correctStreak','เกิดข้อผิดพลาดในการอัปเดตสถานะ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-progress-view','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionDisplayedAt','blockReason','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20during\x20class\x20analysis:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','.admin-try-quiz-list-btn','<div\x20class=\x22','check-answer-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','removeAttribute','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-bank-modal','export-pdf-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','เงินงวด\x20(อนุกรมเงินงวด)','\x20\x20\x20-\x20','modal-passing-score-input','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','</body></html>','leaderboard-quiz-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','cancel-rename-quiz-btn','flex','perseverance','เกิดข้อผิดพลาด:\x20','results-table-container','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-2\x22>','.answer-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','q-image-container-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','isCorrect','isArray','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','text','Error\x20loading\x20quiz\x20for\x20student:','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','math-topic-search-input','\x5csum','Error\x20generating\x20parallel\x20test\x20from\x20bank:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','input[name=\x22question_single\x22]:checked','มุมพิเศษ\x2045°-45°-90°','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','แก้ไขข้อนี้','.delete-submission-btn','</span></p>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','.topic-category','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','.duplicate-quiz-btn','stopPropagation','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','date_desc','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','reveal-answer-btn','\x20mr-2\x22></i>','classStrengths','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','back-to-results-btn','/submissions','status','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','idealAnswer','<span\x20class=\x22sort-indicator\x20ml-2\x22>','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','targetId','</tr>','modal-shuffle-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','settings','values','quiz-bank-count','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','.sort-indicator','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','postScore','<p><strong>คำตอบของคุณ:</strong>\x20','ข้อที่\x20','analytics-tab-btn','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','getElementById','leaderboard-tab','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','_opt0\x22\x20name=\x22question','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','$1\x5ctext{','):\x20กรุณาอย่าออกจากโหมดเต็มหน้าจอระหว่างทำแบบทดสอบ','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','ค่าคลาดเคลื่อนของการวัด',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','link-tab','endTime','/public/data/quizzes/','exited_fullscreen','$1^{\x5ccirc}\x5ctext{C}','select-all-topics-btn','quizType','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','\x22\x20data-name=\x22','entries','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','no-projects-msg','test','รอเปิด','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถสร้างโปรเจคได้','ลบหัวข้อสำเร็จ','พบข้อสอบ\x20','print','student-name-select','manage','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สมการเชิงเส้นตัวแปรเดียว','text-gray-100','text-red-600','<button\x20data-quiz-id=\x22','<span\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','MathJax','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','ไม่พบข้อมูลผู้ใช้','เกิดข้อผิดพลาดในการบันทึกลำดับ','repeat','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','ผ่านฉลุย','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค','Remedial\x20quiz\x20generation\x20failed:','has','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scheduled','-\x20ข้อ\x20','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','viewBox','ระบบสมการเชิงเส้นสองตัวแปร','add','list-view-btn','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','student-quiz-topic','adaptive-quiz-checkbox','rgba(79,\x2070,\x20229,\x200.8)','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','.pdf','indexOf','move-quiz-modal','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','live-game','```json','dataIndex','แก้ไขหัวข้อสำเร็จ','mean','ฮิสโตแกรม','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','link-url-input','text-green-700\x20bg-green-100','preScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','ชื่อหัวข้อห้ามว่าง','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-game-view','save-quiz-btn','bank-quiz-list','join','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','#DBEAFE','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','Error\x20saving\x20quiz:','neq','<div\x20class=\x22loader\x20mx-auto\x22></div>','requestFullscreen','math-topics-checkbox-container','<div><input\x20type=\x22radio\x22\x20id=\x22q','quiz-editor-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รูปสี่เหลี่ยมและสมบัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/questionBank','next-live-question-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สามเหลี่ยม\x20(ชนิด/สมบัติ)','correct',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','answer','ไม่ผ่าน','แคลคูลัสเบื้องต้น','change','bg-green-200\x20text-green-800','1392656IgZlfU','pointsLastQuestion','กรุณาเลือกโปรเจคปลายทาง','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','mousedown','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','.group','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','สถิติและความน่าจะเป็น','user','ระบบเลขและค่าประจำหลัก','อนุพันธ์:\x20กฎลูกโซ่','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','learningGaps','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','confirm-create-project-btn','ระยะทางและจุดกึ่งกลาง','\x22>จาก:\x20','กำลังสแกนหาแบบทดสอบเก่า...','OBJECT','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','อนุพันธ์:\x20ผลคูณ/ผลหาร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สมมาตร\x20(แกน/จุด)','answerText','admin-dashboard','num-choices','text-tab','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','getAttributeNS','generate-worksheet-btn','pinned-items','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stringify','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','แผนภาพเวนน์','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','สร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','comparison-individual-tab','คำตอบผิด','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกมสิ้นสุดลงแล้ว','quiz-settings-modal','clientY','isPasscodeEnabled','G-JGJ3WNEQP3','move-quiz-project-select','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','imageCode','[data-is-correct=\x22true\x22]','close-comparison-modal-footer-btn','leaderboard-table-body','lessonPlan','แบบทดสอบซ่อมเสริม','temp-loader-results','เกิดข้อผิดพลาดในการปักหมุด','ปริมาตร/ความจุและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','องค์ประกอบของฟังก์ชัน','results-quiz-id-display','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','warn','cancel-export-pdf-btn','$1^{$2}','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','file-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','พื้นที่สามเหลี่ยม','cursor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-4','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','ความชันและเส้นตรง','copy-quiz-id-btn','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','setAttribute','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p><strong>คำตอบที่แนะนำ:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','แบบเติมคำตอบ','ค่าเสื่อมราคา','text-gray-500','เกิดข้อผิดพลาดในการเปลี่ยนสี','\x22\x20value=\x22true\x22\x20','ref','</span></div>','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','isStarred','quizMode','button[data-id]','1291146sywIzi','.unpair-quiz-btn','tGain','keyup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x20/\x20','Error\x20saving\x20project\x20order:','div[data-question-index=\x22','จากไฟล์ที่แนบมานี้,\x20','admin-action-buttons','check-presentation-answer-btn','เลือกและบันทึก','timer-duration-label','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','border-gray-200','empty','ดอทโปรดักต์\x20(dot)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','slice','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','total','name_asc','การแจกแจงปกติและ\x20z-score','width','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','Error\x20creating\x20project:','<textarea\x20name=\x22question','สรุปผลการวิเคราะห์:\x5cn','split','student-project-leaderboard-tab','\x5cfrac{','ring-2','back-to-student-home-btn','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','generate-from-file-btn','promise','parallel-test-input-area','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text/csv;charset=utf-8;','score','bg-purple-50','ลำดับการดำเนินการ\x20(PEMDAS)','cos','attemptNumber','parallel-test-tab','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','font-bold\x20text-green-700','QUICK_THINKER','การจัดหมู่\x20(Combination)','มุมพิเศษ\x2030°-60°-90°','</option>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','badges','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x5cs*\x5c(','http://www.w3.org/2000/svg','text/html','ฟังก์ชันยกกำลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#math-topics-checkbox-container\x20input:checked','\x20\x0a\x20\x20\x20\x20','innerHTML','opacity-50','ไม่ใช่','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','both','dataset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','localeCompare','submission-status-chart','title','delete','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','\x5csqrt{$1}','back-to-dashboard-btn','แบบทดสอบนี้ปิดใช้งานอยู่','save-visibility-settings-btn','message','bg-gray-50','json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','key','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','จุด\x20เส้น\x20ระนาบ','matching','latestSubmittedAt','.delete-project-btn','export-word-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','bg-green-100\x20font-bold','จัดการ','touchmove','function','\x20คนที่ส่ง\x20ตอบถูก\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','close-student-rankings-btn','.sortable-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','bestScore','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','Error\x20deleting\x20all\x20students:','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','font-bold\x20text-red-700\x20line-through','bg-emerald-100','#10B981','binom','click','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','.quiz-bank-item','perfect_score','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','parallel-test-upload-input','actions-container-','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','[role=\x22textbox\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onload','upper_group_count','bank-tab','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','touchend','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perQuestionStats','ฟังก์ชันพหุนาม','toLocaleDateString','.correct-response-input','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','toLocaleString','projectView','timer-mode-select','revealed','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','modal-timer-duration-container','จับคู่เพื่อเปรียบเทียบผล','questions','fa-dumbbell\x20text-gray-700','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','พีชคณิตและฟังก์ชัน','student','afterend','dashboardConfig','bg-blue-100\x20text-blue-800','parseFromString','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','modal-message','game-pin-input','อัตราการเปลี่ยนแปลงทันที','typesetPromise','exitFullscreen','กรุณาป้อนหัวข้อสำหรับใบงาน','abs','2-digit','docs','bg-white/30','cdot','Error\x20deleting\x20student:','whole_quiz','การลบเศษส่วน','quiz-status-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passingScore','text-content-input','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','move','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','focus','leaderboard_','questionText','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','text-gray-200','การปัดเศษและประมาณค่า','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','per-question-text','scrollX','\x5cpm','project-detail','generated-quiz-container','touchstart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','prev-question-btn','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','การสร้างรูปด้วยวงเวียน–สันตรง','tan','#retake-for-improvement-btn','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','ปริมาตรรูปทรงสามมิติ','quiz-leaderboard-table','.delete-quiz-btn','artifacts/','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x22,\x20','#per-question-options\x20textarea','comparison-chart','results_','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','การหารทศนิยม','fa-shield-alt\x20text-gray-600','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','สเกลและแผนที่','toFixed','hover:bg-indigo-100','ความสัมพันธ์ของมุม','\x22\x20เพื่อสร้างชุดคู่ขนาน...','dragstart','num-choices-container','questionId','results-tab','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','\x22\x20สำเร็จ','ไม่พบข้อมูลข้อสอบหลังเรียน','timerMode','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','รูปแบบการให้เหตุผล','insertBefore','Error\x20moving\x20quiz:','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','href','</label>\x0a\x20\x20\x20\x20</div>\x0a','แบบทดสอบ:\x20','7642uDYFZn','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','การเรียงสับเปลี่ยน\x20(Permutation)','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','ผลรวมอนุกรม\x20(Σ)','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','justification','กำลังอัปเดตแบบทดสอบ\x20','onerror','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','currentTarget','timer-duration-container','บันทึกการแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','then'];_0x12a0=function(){return _0x42b1c7;};return _0x12a0();}function getPointerPosition(_0x5eba3e,_0x51035c){const _0x1f0a13=_0x2eabae,_0x45be56=_0x5eba3e['getScreenCTM']();let _0x21a820,_0x37c3c0;return _0x51035c[_0x1f0a13(0x3b7)]&&_0x51035c['touches'][_0x1f0a13(0x1f2)]>0x0?(_0x21a820=_0x51035c[_0x1f0a13(0x3b7)][0x0][_0x1f0a13(0x1ad)],_0x37c3c0=_0x51035c[_0x1f0a13(0x3b7)][0x0][_0x1f0a13(0x74e)]):(_0x21a820=_0x51035c[_0x1f0a13(0x1ad)],_0x37c3c0=_0x51035c[_0x1f0a13(0x74e)]),{'x':(_0x21a820-_0x45be56['e'])/_0x45be56['a'],'y':(_0x37c3c0-_0x45be56['f'])/_0x45be56['d']};}function startDrag(_0x3a8953){const _0x29ab14=_0x2eabae;_0x3a8953['type']==='touchstart'&&_0x3a8953[_0x29ab14(0x8f5)]();const _0xe4cb5e=_0x3a8953[_0x29ab14(0x3a7)][_0x29ab14(0x3fa)]('.draggable-text');if(_0xe4cb5e){draggedSvgElement=_0xe4cb5e;const _0xf13cf6=draggedSvgElement[_0x29ab14(0x4f5)],_0x3989e3=getPointerPosition(_0xf13cf6,_0x3a8953);svgOffset['x']=_0x3989e3['x']-parseFloat(draggedSvgElement[_0x29ab14(0x73d)](null,'x')),svgOffset['y']=_0x3989e3['y']-parseFloat(draggedSvgElement[_0x29ab14(0x73d)](null,'y'));}}function calculateItemAnalysis(_0x4a7aa1,_0x124a0d){const _0x1a9dcd=_0x2eabae,_0x1f3f5e={};if(_0x124a0d[_0x1a9dcd(0x1f2)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0xf76b03=[..._0x124a0d][_0x1a9dcd(0x908)]((_0x1f7cdf,_0x380e9a)=>{const _0x4f036d=_0x1a9dcd,_0x2e1c5d=_0x380e9a['latestScore']-_0x1f7cdf[_0x4f036d(0x5c8)];if(_0x2e1c5d!==0x0)return _0x2e1c5d;const _0x471be5=_0x1f7cdf[_0x4f036d(0x40f)]?.[_0x4f036d(0x1f2)]||0x1,_0x15f4ad=_0x380e9a[_0x4f036d(0x40f)]?.['length']||0x1,_0x2d3242=_0x471be5-_0x15f4ad;if(_0x2d3242!==0x0)return _0x2d3242;const _0x147da6=new Date(_0x1f7cdf[_0x4f036d(0x7dd)]),_0x3813bd=new Date(_0x380e9a[_0x4f036d(0x7dd)]),_0xbd7fce=_0x147da6-_0x3813bd;if(_0xbd7fce!==0x0)return _0xbd7fce;return _0x1f7cdf['studentName'][_0x4f036d(0x7c7)](_0x380e9a[_0x4f036d(0x39a)],'th');}),_0x5ed99a=_0xf76b03[_0x1a9dcd(0x1f2)],_0x2d3259=Math['max'](0x1,Math[_0x1a9dcd(0x5b7)](_0x5ed99a*0.33));if(_0x2d3259===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x207742=_0xf76b03['slice'](0x0,_0x2d3259),_0x2b2d62=_0xf76b03['slice'](-_0x2d3259),_0x30855d=_0x207742[_0x1a9dcd(0x58b)](_0x25c15a=>_0x25c15a['studentName']),_0x38c2a8=_0x2b2d62['map'](_0x7ba673=>_0x7ba673[_0x1a9dcd(0x39a)]);return _0x4a7aa1['questions'][_0x1a9dcd(0x4ac)]((_0xad9e90,_0x8b2b94)=>{const _0x5073d9=_0x1a9dcd,_0x2a2cbc=_0xad9e90[_0x5073d9(0x416)]||_0xad9e90[_0x5073d9(0x836)];let _0x3c18db=0x0,_0x20226a=0x0,_0x39090f=0x0;const _0x3de56f=[],_0xcd40f5=[];_0x207742[_0x5073d9(0x4ac)](_0x31bad1=>{const _0x4ce2c2=_0x5073d9,_0x160709=_0x31bad1[_0x4ce2c2(0x40f)][_0x31bad1['attempts']['length']-0x1],_0x24f6a8=_0x160709[_0x4ce2c2(0x272)][_0x4ce2c2(0x8ad)](_0x24a9ea=>_0x24a9ea[_0x4ce2c2(0x1b8)]===_0x2a2cbc);_0x3de56f['push']({'name':_0x31bad1[_0x4ce2c2(0x39a)],'isCorrect':_0x24f6a8?_0x24f6a8[_0x4ce2c2(0x671)]:![]}),_0x24f6a8&&_0x24f6a8[_0x4ce2c2(0x671)]&&_0x20226a++;}),_0x2b2d62[_0x5073d9(0x4ac)](_0x52c673=>{const _0x56e1db=_0x5073d9,_0x1a3650=_0x52c673['attempts'][_0x52c673[_0x56e1db(0x40f)][_0x56e1db(0x1f2)]-0x1],_0x523bc9=_0x1a3650[_0x56e1db(0x272)][_0x56e1db(0x8ad)](_0x3a21f8=>_0x3a21f8['originalQuestionText']===_0x2a2cbc);_0xcd40f5[_0x56e1db(0x5c7)]({'name':_0x52c673[_0x56e1db(0x39a)],'isCorrect':_0x523bc9?_0x523bc9[_0x56e1db(0x671)]:![]}),_0x523bc9&&_0x523bc9['isCorrect']&&_0x39090f++;}),_0x124a0d[_0x5073d9(0x4ac)](_0x5d3786=>{const _0x1e44fe=_0x5073d9,_0x27860f=_0x5d3786[_0x1e44fe(0x40f)][_0x5d3786[_0x1e44fe(0x40f)]['length']-0x1],_0x2c5b9d=_0x27860f['answers']['find'](_0x1a8c7d=>_0x1a8c7d[_0x1e44fe(0x1b8)]===_0x2a2cbc);_0x2c5b9d&&_0x2c5b9d[_0x1e44fe(0x671)]&&_0x3c18db++;});const _0x14aca4=_0x5ed99a>0x0?_0x3c18db/_0x5ed99a:0x0,_0x1abbcb=_0x2d3259>0x0?_0x20226a/_0x2d3259-_0x39090f/_0x2d3259:0x0;_0x1f3f5e[_0x8b2b94]={'p':_0x14aca4,'r':_0x1abbcb,'upperGroupResponders':_0x3de56f,'lowerGroupResponders':_0xcd40f5};}),{'perQuestionStats':_0x1f3f5e,'overallGroups':{'upperGroupNames':_0x30855d,'lowerGroupNames':_0x38c2a8}};}function drag(_0x13e309){const _0x14a9ff=_0x2eabae;if(draggedSvgElement){_0x13e309[_0x14a9ff(0x8f5)]();const _0x2fbe35=draggedSvgElement['ownerSVGElement'],_0x2359d6=getPointerPosition(_0x2fbe35,_0x13e309),_0x2d95a1=_0x2fbe35[_0x14a9ff(0x6e3)]['baseVal'];let _0x293310=_0x2359d6['x']-svgOffset['x'],_0x47c1a0=_0x2359d6['y']-svgOffset['y'];const _0x2a47ab=draggedSvgElement[_0x14a9ff(0x456)]();_0x293310=Math[_0x14a9ff(0x54d)](_0x2d95a1['x'],Math[_0x14a9ff(0x340)](_0x293310,_0x2d95a1['x']+_0x2d95a1[_0x14a9ff(0x797)]-_0x2a47ab['width'])),_0x47c1a0=Math[_0x14a9ff(0x54d)](_0x2d95a1['y'],Math[_0x14a9ff(0x340)](_0x47c1a0,_0x2d95a1['y']+_0x2d95a1[_0x14a9ff(0x26a)]-_0x2a47ab['height'])),draggedSvgElement['setAttributeNS'](null,'x',_0x293310),draggedSvgElement[_0x14a9ff(0x8a0)](null,'y',_0x47c1a0);}}function endDrag(_0x45fa8b){draggedSvgElement=null;}function handleSvgEditClick(_0x6e7aed){const _0x1cbca9=_0x2eabae;if(_0x6e7aed['target'][_0x1cbca9(0x62e)][_0x1cbca9(0x1c1)](_0x1cbca9(0x511))){const _0x3cebb2=_0x6e7aed[_0x1cbca9(0x3a7)][_0x1cbca9(0x7c5)][_0x1cbca9(0x699)],_0x291de4=_0x6e7aed[_0x1cbca9(0x877)],_0x53089d=_0x291de4[_0x1cbca9(0x451)]('#'+_0x3cebb2);_0x53089d&&_0x53089d[_0x1cbca9(0x3b0)](),_0x6e7aed[_0x1cbca9(0x3a7)][_0x1cbca9(0x3b0)]();}}function handleEditQuestion(_0x12dc09){const _0x1e0a65=_0x2eabae,_0x26e6ed=_0x12dc09[_0x1e0a65(0x877)],_0x280604=_0x26e6ed[_0x1e0a65(0x7c5)][_0x1e0a65(0x4b2)],_0x50228b=currentQuizData[_0x1e0a65(0x813)][_0x280604],_0x1df7b3=document['getElementById']('q-text-'+_0x280604),_0xfda28e=document['getElementById']('q-explanation-'+_0x280604),_0xe890f3=document['getElementById'](_0x1e0a65(0x66f)+_0x280604);if(_0x26e6ed['innerHTML'][_0x1e0a65(0x376)](_0x1e0a65(0x2cf))){_0x26e6ed[_0x1e0a65(0x7c0)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x26e6ed[_0x1e0a65(0x7c9)]=_0x1e0a65(0x879);if(_0x1df7b3)_0x1df7b3['contentEditable']=!![];if(_0xfda28e)_0xfda28e[_0x1e0a65(0x630)]=!![];if(_0xe890f3){const _0xe627f2=_0xe890f3[_0x1e0a65(0x451)](_0x1e0a65(0x36d));if(_0xe627f2){const _0x158c79=_0xe627f2[_0x1e0a65(0x5fe)](_0x1e0a65(0x675));_0x158c79[_0x1e0a65(0x4ac)]((_0x53b433,_0xf4a13)=>{const _0x17df33=_0x1e0a65,_0x554e3f=_0x17df33(0x591)+_0x280604+'-'+_0xf4a13;_0x53b433['id']=_0x554e3f,_0x53b433[_0x17df33(0x62e)]['add'](_0x17df33(0x304)),_0x53b433[_0x17df33(0x896)][_0x17df33(0x768)]=_0x17df33(0x831);const _0x2831e0=document['createElementNS'](_0x17df33(0x7ba),_0x17df33(0x8e0)),_0x3af940=_0x53b433[_0x17df33(0x456)]();_0x2831e0[_0x17df33(0x76f)]('cx',String(_0x3af940['x']+_0x3af940[_0x17df33(0x797)]+0x5)),_0x2831e0['setAttribute']('cy',String(_0x3af940['y']+_0x3af940[_0x17df33(0x26a)]/0x2-0x5)),_0x2831e0['setAttribute']('r','5'),_0x2831e0[_0x17df33(0x76f)](_0x17df33(0x88a),_0x17df33(0x276)),_0x2831e0['setAttribute'](_0x17df33(0x465),'delete-svg-btn'),_0x2831e0[_0x17df33(0x7c5)][_0x17df33(0x699)]=_0x554e3f,_0x53b433['after'](_0x2831e0);}),_0xe627f2[_0x1e0a65(0x639)](_0x1e0a65(0x724),startDrag),_0xe627f2[_0x1e0a65(0x639)](_0x1e0a65(0x524),drag),_0xe627f2[_0x1e0a65(0x639)]('mouseup',endDrag),_0xe627f2[_0x1e0a65(0x639)](_0x1e0a65(0x2ca),endDrag),_0xe627f2[_0x1e0a65(0x639)]('touchstart',startDrag,{'passive':![]}),_0xe627f2[_0x1e0a65(0x639)]('touchmove',drag,{'passive':![]}),_0xe627f2['addEventListener'](_0x1e0a65(0x802),endDrag),_0xe627f2[_0x1e0a65(0x639)]('touchcancel',endDrag),_0xe627f2[_0x1e0a65(0x639)]('click',handleSvgEditClick);}}if(_0x1df7b3)_0x1df7b3[_0x1e0a65(0x834)]();}else{_0x26e6ed[_0x1e0a65(0x7c0)]=_0x1e0a65(0x206),_0x26e6ed[_0x1e0a65(0x7c9)]=_0x1e0a65(0x680);if(_0x1df7b3){_0x1df7b3[_0x1e0a65(0x630)]=![];const _0x1cc92d=_0x50228b[_0x1e0a65(0x2a3)]||currentQuizData[_0x1e0a65(0x6bc)];_0x1cc92d===_0x1e0a65(0x29d)?_0x50228b[_0x1e0a65(0x416)]=_0x1df7b3[_0x1e0a65(0x4e4)]['substring'](_0x1df7b3['innerText'][_0x1e0a65(0x6ed)]('.')+0x2)[_0x1e0a65(0x88b)]():_0x50228b[_0x1e0a65(0x836)]=_0x1df7b3[_0x1e0a65(0x4e4)]['substring'](_0x1df7b3[_0x1e0a65(0x4e4)][_0x1e0a65(0x6ed)]('.')+0x2)[_0x1e0a65(0x88b)]();}_0xfda28e&&(_0xfda28e[_0x1e0a65(0x630)]=![],_0x50228b[_0x1e0a65(0x61f)]=_0xfda28e[_0x1e0a65(0x4e4)]);if(_0xe890f3){const _0x3f8c5c=_0xe890f3[_0x1e0a65(0x451)](_0x1e0a65(0x36d));if(_0x3f8c5c){const _0x3fe23a=_0x3f8c5c[_0x1e0a65(0x440)](!![]);_0x3fe23a['querySelectorAll'](_0x1e0a65(0x5c4))[_0x1e0a65(0x4ac)](_0x329f14=>_0x329f14[_0x1e0a65(0x3b0)]()),_0x3fe23a[_0x1e0a65(0x5fe)](_0x1e0a65(0x4e0))[_0x1e0a65(0x4ac)](_0x58ac8d=>{const _0x1d647e=_0x1e0a65;_0x58ac8d['classList'][_0x1d647e(0x3b0)](_0x1d647e(0x304)),_0x58ac8d[_0x1d647e(0x896)][_0x1d647e(0x768)]=_0x1d647e(0x54b),_0x58ac8d[_0x1d647e(0x65a)]('id');}),_0x50228b['imageCode']=_0x3fe23a['outerHTML'],_0x3f8c5c[_0x1e0a65(0x17b)](_0x1e0a65(0x724),startDrag),_0x3f8c5c[_0x1e0a65(0x17b)](_0x1e0a65(0x524),drag),_0x3f8c5c['removeEventListener'](_0x1e0a65(0x2d0),endDrag),_0x3f8c5c[_0x1e0a65(0x17b)](_0x1e0a65(0x2ca),endDrag),_0x3f8c5c['removeEventListener'](_0x1e0a65(0x842),startDrag),_0x3f8c5c[_0x1e0a65(0x17b)](_0x1e0a65(0x7e4),drag),_0x3f8c5c[_0x1e0a65(0x17b)]('touchend',endDrag),_0x3f8c5c['removeEventListener']('touchcancel',endDrag),_0x3f8c5c[_0x1e0a65(0x17b)](_0x1e0a65(0x7f4),handleSvgEditClick),_0x3f8c5c['querySelectorAll'](_0x1e0a65(0x5c4))[_0x1e0a65(0x4ac)](_0x20aae7=>_0x20aae7[_0x1e0a65(0x3b0)]()),_0x3f8c5c[_0x1e0a65(0x5fe)](_0x1e0a65(0x4e0))[_0x1e0a65(0x4ac)](_0xf07bfb=>{const _0x543150=_0x1e0a65;_0xf07bfb['classList'][_0x543150(0x3b0)](_0x543150(0x304)),_0xf07bfb[_0x543150(0x896)][_0x543150(0x768)]=_0x543150(0x54b);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x5d9889){const _0x4d8dd3=_0x2eabae,_0xae1367=document[_0x4d8dd3(0x6a9)](_0x4d8dd3(0x70c)),_0x4653c6=document['getElementById'](_0x4d8dd3(0x8a7));_0x4653c6[_0x4d8dd3(0x7c0)]=_0x4d8dd3(0x708),_0xae1367[_0x4d8dd3(0x62e)]['remove'](_0x4d8dd3(0x3ef));try{const _0x4afd16=doc(db,'artifacts/'+appId+_0x4d8dd3(0x429),_0x5d9889),_0x3fc85f=await getDoc(_0x4afd16);if(!_0x3fc85f['exists']())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x5d9889,..._0x3fc85f[_0x4d8dd3(0x495)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x4219db){console['error'](_0x4d8dd3(0x200),_0x4219db),showMessage(_0x4d8dd3(0x323)),_0xae1367['classList']['add'](_0x4d8dd3(0x3ef));}}function renderQuizEditor(_0x162cb1){const _0x3d512e=_0x2eabae;document[_0x3d512e(0x6a9)](_0x3d512e(0x50c))['value']=_0x162cb1[_0x3d512e(0x4d1)];const _0x2046e4=document[_0x3d512e(0x6a9)](_0x3d512e(0x8a7));let _0x5328b7=_0x162cb1['questions'][_0x3d512e(0x58b)]((_0x427a4c,_0x537f57)=>{const _0x17984e=_0x3d512e;let _0x4b8986='';const _0x57eaeb=_0x427a4c[_0x17984e(0x2a3)]||_0x162cb1[_0x17984e(0x6bc)];switch(_0x57eaeb){case'multiple_choice':const _0x57b15a=(_0x427a4c['options']||[])[_0x17984e(0x58b)]((_0x499dc0,_0x461c4e)=>_0x17984e(0x7e1)+_0x537f57+_0x17984e(0x893)+_0x461c4e+'\x22\x20'+(_0x461c4e===_0x427a4c[_0x17984e(0x58f)]?_0x17984e(0x2e9):'')+_0x17984e(0x257)+_0x499dc0+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');_0x4b8986=_0x17984e(0x6fb)+_0x57b15a+_0x17984e(0x53d);break;case _0x17984e(0x53e):_0x4b8986='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x427a4c[_0x17984e(0x695)]||'')+_0x17984e(0x5c9);break;case _0x17984e(0x254):_0x4b8986=_0x17984e(0x653)+_0x537f57+_0x17984e(0x777)+(_0x427a4c['correctAnswer']===!![]?'checked':'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x537f57+_0x17984e(0x4a7)+(_0x427a4c[_0x17984e(0x213)]===![]?_0x17984e(0x2e9):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x17984e(0x29d):_0x4b8986='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x427a4c['correctResponse']||'')+_0x17984e(0x87f);break;}const _0x304fe1=_0x427a4c[_0x17984e(0x836)]||_0x427a4c[_0x17984e(0x416)]||'';return _0x17984e(0x400)+_0x537f57+_0x17984e(0x8a5)+_0x57eaeb+_0x17984e(0x1e4)+(_0x537f57+0x1)+'\x20('+_0x57eaeb+_0x17984e(0x458)+_0x304fe1+_0x17984e(0x8eb)+_0x4b8986+_0x17984e(0x7d9);})[_0x3d512e(0x702)]('');_0x2046e4[_0x3d512e(0x7c0)]=_0x5328b7;}async function handleSaveChanges(){const _0x87d175=_0x2eabae,_0x4e644a=document[_0x87d175(0x6a9)]('save-quiz-edits-btn');_0x4e644a['disabled']=!![],_0x4e644a[_0x87d175(0x7c0)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x4f76df=document[_0x87d175(0x6a9)](_0x87d175(0x50c))[_0x87d175(0x223)],_0x4512d6=document['querySelectorAll']('.question-editor-item');let _0xdf4eba=[];const _0x49918c=Array['from'](_0x4512d6)[_0x87d175(0x58b)]((_0x3211a8,_0x1a8c20)=>{const _0x34cbea=_0x87d175,_0x338528=_0x3211a8[_0x34cbea(0x7c5)][_0x34cbea(0x32c)],_0x52a109=_0x3211a8['querySelector'](_0x34cbea(0x28e))[_0x34cbea(0x223)];let _0x4b2844={'questionType':_0x338528};const _0xab9b26=currentEditingQuizData[_0x34cbea(0x813)][_0x1a8c20];switch(_0x338528){case _0x34cbea(0x299):_0x4b2844[_0x34cbea(0x836)]=_0x52a109;const _0x54105c=_0x3211a8[_0x34cbea(0x5fe)](_0x34cbea(0x8f3));_0x4b2844[_0x34cbea(0x8de)]=Array[_0x34cbea(0x36c)](_0x54105c)[_0x34cbea(0x58b)](_0x30a3ae=>_0x30a3ae[_0x34cbea(0x223)]);const _0x1f9503=_0x3211a8[_0x34cbea(0x451)]('input[type=\x22radio\x22]:checked');_0x4b2844[_0x34cbea(0x58f)]=_0x1f9503?parseInt(_0x1f9503[_0x34cbea(0x223)]):0x0;break;case _0x34cbea(0x53e):_0x4b2844[_0x34cbea(0x836)]=_0x52a109,_0x4b2844[_0x34cbea(0x695)]=_0x3211a8[_0x34cbea(0x451)](_0x34cbea(0x41a))[_0x34cbea(0x223)];break;case _0x34cbea(0x254):_0x4b2844[_0x34cbea(0x836)]=_0x52a109;const _0x3690be=_0x3211a8['querySelector'](_0x34cbea(0x902));_0x4b2844['correctAnswer']=_0x3690be?_0x3690be[_0x34cbea(0x223)]===_0x34cbea(0x408):!![];break;case _0x34cbea(0x29d):_0x4b2844[_0x34cbea(0x416)]=_0x52a109;const _0x1c642a=_0x3211a8[_0x34cbea(0x451)](_0x34cbea(0x80a));_0x4b2844[_0x34cbea(0x308)]=_0x1c642a?_0x1c642a[_0x34cbea(0x223)]:'',_0xdf4eba[_0x34cbea(0x5c7)](_0x4b2844[_0x34cbea(0x308)]);break;default:_0x4b2844['questionText']=_0x52a109;break;}return{..._0xab9b26,..._0x4b2844};});_0xdf4eba[_0x87d175(0x1f2)]>0x0&&_0x49918c[_0x87d175(0x4ac)](_0x4e2a5f=>{const _0x442cae=_0x87d175;_0x4e2a5f[_0x442cae(0x2a3)]===_0x442cae(0x29d)&&(_0x4e2a5f['allResponses']=_0xdf4eba);});const _0x43c029=currentEditingQuizData['id'],_0xc0b0c8=doc(db,'artifacts/'+appId+_0x87d175(0x429),_0x43c029);await updateDoc(_0xc0b0c8,{'topic':_0x4f76df,'questions':_0x49918c}),document[_0x87d175(0x6a9)](_0x87d175(0x70c))['classList']['add'](_0x87d175(0x3ef)),showMessage(_0x87d175(0x6ef),()=>initiateReGradeProcess(_0x43c029));}catch(_0x20b176){console[_0x87d175(0x497)](_0x87d175(0x2fc),_0x20b176),showMessage(_0x87d175(0x240));}finally{_0x4e644a[_0x87d175(0x423)]=![],_0x4e644a[_0x87d175(0x7c0)]=_0x87d175(0x35e);}}async function initiateReGradeProcess(_0x5dade1){const _0x445c6e=_0x2eabae;showMessage(_0x445c6e(0x581));try{const _0x51ef88=doc(db,_0x445c6e(0x84e)+appId+_0x445c6e(0x429),_0x5dade1),_0x50d0e7=await getDoc(_0x51ef88);if(!_0x50d0e7[_0x445c6e(0x8df)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x526b77={'id':_0x5dade1,..._0x50d0e7[_0x445c6e(0x495)]()},_0x22d410=collection(db,_0x445c6e(0x84e)+appId+_0x445c6e(0x429),_0x5dade1,_0x445c6e(0x4e1)),_0x422d40=await getDocs(_0x22d410);if(_0x422d40[_0x445c6e(0x78e)]){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x9a21c0=_0x422d40[_0x445c6e(0x825)]['map'](_0x3f6d87=>reGradeSingleSubmission(_0x3f6d87,_0x526b77));await Promise[_0x445c6e(0x632)](_0x9a21c0);if(_0x526b77[_0x445c6e(0x588)]){const _0x513448=doc(db,'artifacts/'+appId+'/public/data/projects',_0x526b77['projectId']),_0x121752=await getDoc(_0x513448);if(_0x121752['exists']()&&_0x121752[_0x445c6e(0x495)]()[_0x445c6e(0x164)]){const _0x54e68d=_0x121752[_0x445c6e(0x495)]()[_0x445c6e(0x164)][_0x445c6e(0x58b)](_0x56bff7=>updateStudentProfile(_0x526b77[_0x445c6e(0x588)],_0x56bff7));await Promise[_0x445c6e(0x632)](_0x54e68d);}}showMessage(_0x445c6e(0x53c)+_0x422d40[_0x445c6e(0x190)]+_0x445c6e(0x7cb));}catch(_0x4ff938){console[_0x445c6e(0x497)]('Re-grade\x20process\x20failed:',_0x4ff938),showMessage(_0x445c6e(0x727)+_0x4ff938[_0x445c6e(0x7d2)]);}}async function reGradeSingleSubmission(_0x245ecd,_0x5a6862){const _0x5961ce=_0x2eabae,_0x2e03bb=_0x245ecd[_0x5961ce(0x495)](),_0x17de8e=_0x2e03bb[_0x5961ce(0x39a)],_0x10aa35=_0x2e03bb[_0x5961ce(0x40f)]||[],_0x113b3e=[];for(const _0x44ea67 of _0x10aa35){let _0x2907f9=0x0,_0x115cc8=[],_0x596543=0x0;const _0x4f80d2=[];for(const _0x10b227 of _0x44ea67[_0x5961ce(0x272)]){let _0x476c90;_0x10b227[_0x5961ce(0x85f)]&&(_0x476c90=_0x5a6862[_0x5961ce(0x813)]['find'](_0x21e516=>_0x21e516['id']===_0x10b227[_0x5961ce(0x85f)]));!_0x476c90&&_0x10b227[_0x5961ce(0x1b8)]&&(_0x476c90=_0x5a6862[_0x5961ce(0x813)]['find'](_0xe4426d=>(_0xe4426d['stem']||_0xe4426d['questionText'])===_0x10b227[_0x5961ce(0x1b8)]));let _0x525868=![];if(_0x476c90){const _0x2d06b7=_0x476c90[_0x5961ce(0x2a3)]||_0x5a6862[_0x5961ce(0x6bc)];switch(_0x2d06b7){case _0x5961ce(0x299):if(_0x476c90['options']&&_0x476c90[_0x5961ce(0x58f)]<_0x476c90[_0x5961ce(0x8de)][_0x5961ce(0x1f2)]){const _0x1573d7=_0x476c90[_0x5961ce(0x8de)][_0x476c90[_0x5961ce(0x58f)]];_0x525868=_0x10b227[_0x5961ce(0x738)]===_0x1573d7;}break;case _0x5961ce(0x254):const _0x151275=_0x10b227[_0x5961ce(0x71b)]===!![]||_0x10b227[_0x5961ce(0x71b)]==='true';_0x525868=_0x151275===_0x476c90[_0x5961ce(0x213)];break;case _0x5961ce(0x29d):_0x525868=_0x10b227[_0x5961ce(0x71b)]===_0x476c90['correctResponse'];break;case _0x5961ce(0x53e):_0x525868=await gradeShortAnswer(_0x10b227[_0x5961ce(0x71b)],_0x476c90);break;default:_0x525868=_0x10b227[_0x5961ce(0x671)];break;}}if(_0x525868){_0x2907f9++,_0x596543++;if(_0x596543===0x3)_0x115cc8[_0x5961ce(0x5c7)](BADGES[_0x5961ce(0x44a)]['id']);}else _0x596543=0x0;_0x4f80d2['push']({..._0x10b227,'isCorrect':_0x525868});}let _0x44af78=_0x2907f9*0xa;_0x2907f9===_0x5a6862[_0x5961ce(0x813)][_0x5961ce(0x1f2)]&&(_0x44af78+=0x32,_0x115cc8[_0x5961ce(0x5c7)](BADGES[_0x5961ce(0x542)]['id'])),_0x113b3e['push']({..._0x44ea67,'score':_0x2907f9,'points':_0x44af78,'badges':Array[_0x5961ce(0x36c)](new Set(_0x115cc8)),'answers':_0x4f80d2});}const _0x3e811e=_0x113b3e[_0x5961ce(0x1f2)]>0x0?_0x113b3e[0x0][_0x5961ce(0x7a9)]:0x0,_0x17c42f=Math[_0x5961ce(0x54d)](..._0x113b3e[_0x5961ce(0x58b)](_0x468e8a=>_0x468e8a[_0x5961ce(0x7a9)])),_0x4929e4=_0x113b3e[_0x5961ce(0x1f2)]>0x0?_0x113b3e[_0x113b3e[_0x5961ce(0x1f2)]-0x1][_0x5961ce(0x7a9)]:0x0,_0xe713dc=_0x113b3e['length']>0x0?_0x113b3e[_0x113b3e[_0x5961ce(0x1f2)]-0x1][_0x5961ce(0x8e2)]:0x0,_0x5a9495=doc(db,_0x5961ce(0x84e)+appId+'/public/data/quizzes/'+_0x5a6862['id']+_0x5961ce(0x691),_0x17de8e);await updateDoc(_0x5a9495,{'attempts':_0x113b3e,'firstScore':_0x3e811e,'bestScore':_0x17c42f,'latestScore':_0x4929e4,'points':_0xe713dc});}function cleanupQuizOptions(_0x72a0a4){const _0x3d7931=_0x2eabae,_0x5658fe=(_0x12daf6,_0x147338)=>_0x147338===0x0?_0x12daf6:_0x5658fe(_0x147338,_0x12daf6%_0x147338),_0x25fcda=_0x50f73b=>{const _0x67556b=_0x4eb1;if(typeof _0x50f73b!==_0x67556b(0x328))return null;_0x50f73b=_0x50f73b[_0x67556b(0x88b)]();const _0x4451a4=_0x50f73b[_0x67556b(0x79c)](/[ /]/)['filter'](_0x11bc61=>_0x11bc61!=='');if(_0x4451a4[_0x67556b(0x1f2)]===0x3)return parseInt(_0x4451a4[0x0])+parseInt(_0x4451a4[0x1])/parseInt(_0x4451a4[0x2]);else{if(_0x4451a4[_0x67556b(0x1f2)]===0x2)return parseInt(_0x4451a4[0x0])/parseInt(_0x4451a4[0x1]);else{if(_0x4451a4[_0x67556b(0x1f2)]===0x1&&!isNaN(_0x4451a4[0x0]))return parseFloat(_0x4451a4[0x0]);}}return null;},_0x386daa=_0x7d0940=>{const _0x441b4f=_0x4eb1;if(typeof _0x7d0940!==_0x441b4f(0x328))return _0x7d0940;const _0x19492=_0x7d0940[_0x441b4f(0x2ac)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x19492){const _0x492fbe=parseInt(_0x19492[0x1]);let _0x2c065c=parseInt(_0x19492[0x2]),_0x2eacf3=parseInt(_0x19492[0x3]);const _0x330a1f=_0x5658fe(_0x2c065c,_0x2eacf3);_0x2c065c/=_0x330a1f,_0x2eacf3/=_0x330a1f;if(_0x2eacf3===0x1)return(_0x492fbe+_0x2c065c)[_0x441b4f(0x5e5)]();return _0x492fbe+'\x20'+_0x2c065c+'/'+_0x2eacf3;}return _0x7d0940;};return _0x72a0a4&&_0x72a0a4[_0x3d7931(0x813)]&&_0x72a0a4[_0x3d7931(0x813)]['forEach'](_0x1c9ad0=>{const _0x163b58=_0x3d7931;if(_0x1c9ad0[_0x163b58(0x2a3)]===_0x163b58(0x299)&&_0x1c9ad0[_0x163b58(0x8de)]){const _0x2b1af0=new Map(),_0x1c5e7a=_0x1c9ad0[_0x163b58(0x8de)][_0x1c9ad0[_0x163b58(0x58f)]];_0x1c9ad0[_0x163b58(0x8de)][_0x163b58(0x4ac)](_0x1135e9=>{const _0x396314=_0x163b58,_0x132b0b=_0x386daa(_0x1135e9),_0x2be3df=_0x25fcda(_0x132b0b);_0x2be3df!==null&&!_0x2b1af0[_0x396314(0x6dc)](_0x2be3df)&&_0x2b1af0['set'](_0x2be3df,_0x132b0b);}),_0x1c9ad0[_0x163b58(0x8de)]=Array[_0x163b58(0x36c)](_0x2b1af0[_0x163b58(0x69f)]());const _0x131e54=_0x1c9ad0['options'][_0x163b58(0x8a1)](_0x1133ca=>_0x1133ca===_0x386daa(_0x1c5e7a));_0x1c9ad0[_0x163b58(0x58f)]=_0x131e54!==-0x1?_0x131e54:0x0;}}),_0x72a0a4;}async function saveQuiz(){const _0x727229=_0x2eabae;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x727229(0x813)]||!userId){showMessage(_0x727229(0x5ab));return;}const _0x1748a3=document[_0x727229(0x6a9)](_0x727229(0x700));_0x1748a3[_0x727229(0x423)]=!![],_0x1748a3[_0x727229(0x7c0)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x394b48=document[_0x727229(0x6a9)]('pre-test-checkbox')[_0x727229(0x2e9)];let _0x3cc1fb=document[_0x727229(0x6a9)](_0x727229(0x463))[_0x727229(0x4e4)][_0x727229(0x88b)]();_0x394b48&&!_0x3cc1fb['startsWith']('(ก่อนเรียน)')&&(_0x3cc1fb=_0x727229(0x1ca)+_0x3cc1fb);try{const _0xb2f45a={'resultsDisplay':document['getElementById'](_0x727229(0x63c))[_0x727229(0x223)],'shuffle':document[_0x727229(0x6a9)]('shuffle-setting-select')[_0x727229(0x223)],'timerMode':document[_0x727229(0x6a9)](_0x727229(0x80e))[_0x727229(0x223)],'timerDuration':parseInt(document[_0x727229(0x6a9)](_0x727229(0x52e))[_0x727229(0x223)])||0xa,'passingScore':parseInt(document[_0x727229(0x6a9)](_0x727229(0x348))['value'])||0x0,'isAdaptive':document[_0x727229(0x6a9)](_0x727229(0x6e9))[_0x727229(0x2e9)],'loopUntilPass':document[_0x727229(0x6a9)](_0x727229(0x453))[_0x727229(0x2e9)]},_0x29189f=(currentQuizData[_0x727229(0x813)]||[])[_0x727229(0x58b)]((_0x3e8e50,_0x3263b7)=>{const _0x3c8cc1=_0x727229,_0x25a64d=document[_0x3c8cc1(0x6a9)](_0x3c8cc1(0x23a))[_0x3c8cc1(0x223)],_0xe225bf={'id':'q_'+Date[_0x3c8cc1(0x193)]()+'_'+_0x3263b7,'questionText':_0x3e8e50['questionText']||'','explanation':_0x3e8e50[_0x3c8cc1(0x61f)]||'ไม่มีคำอธิบาย','questionType':_0x3e8e50[_0x3c8cc1(0x2a3)]||_0x25a64d,'imageCode':_0x3e8e50[_0x3c8cc1(0x753)]||null};return(_0xe225bf['questionType']===_0x3c8cc1(0x299)||_0xe225bf[_0x3c8cc1(0x2a3)]===_0x3c8cc1(0x5b6)||_0xe225bf[_0x3c8cc1(0x2a3)]===_0x3c8cc1(0x5a2)&&_0x3e8e50['options'])&&(_0xe225bf[_0x3c8cc1(0x8de)]=_0x3e8e50[_0x3c8cc1(0x8de)]||[],_0xe225bf[_0x3c8cc1(0x58f)]=_0x3e8e50[_0x3c8cc1(0x58f)]!==undefined?_0x3e8e50[_0x3c8cc1(0x58f)]:0x0),(_0xe225bf[_0x3c8cc1(0x2a3)]===_0x3c8cc1(0x53e)||_0xe225bf[_0x3c8cc1(0x2a3)]==='fill_in_no_choices'||_0xe225bf['questionType']==='mixed'&&_0x3e8e50[_0x3c8cc1(0x695)])&&(_0xe225bf[_0x3c8cc1(0x695)]=_0x3e8e50[_0x3c8cc1(0x695)]||''),_0xe225bf[_0x3c8cc1(0x2a3)]===_0x3c8cc1(0x254)&&(_0xe225bf[_0x3c8cc1(0x213)]=_0x3e8e50[_0x3c8cc1(0x213)]===!![]),_0xe225bf[_0x3c8cc1(0x2a3)]===_0x3c8cc1(0x29d)&&(_0xe225bf[_0x3c8cc1(0x416)]=_0x3e8e50[_0x3c8cc1(0x416)]||'',_0xe225bf[_0x3c8cc1(0x308)]=_0x3e8e50[_0x3c8cc1(0x308)]||'',_0xe225bf[_0x3c8cc1(0x47e)]=_0x3e8e50['allResponses']||[]),_0xe225bf;}),_0x3f7170={'topic':_0x3cc1fb,'quizType':currentQuizData[_0x727229(0x6bc)]||_0x727229(0x299),'questions':_0x29189f,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x727229(0x3a9)](),'status':_0x727229(0x46b),'settings':_0xb2f45a,'quizMode':_0x394b48?_0x727229(0x502):_0x727229(0x259),'pairedQuizId':null,'lessonPlan':null};let _0x486588;while(!![]){_0x486588=Math[_0x727229(0x5b7)](0x3e8+Math[_0x727229(0x427)]()*0x2328)[_0x727229(0x5e5)]();const _0x4629fa=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x486588));if(!_0x4629fa['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x727229(0x429),_0x486588),_0x3f7170),currentQuizData[_0x727229(0x69e)]=_0xb2f45a,currentQuizData['id']=_0x486588;const _0x5eb549=document[_0x727229(0x6a9)]('generated-quiz-actions');_0x5eb549[_0x727229(0x7c0)]=_0x727229(0x65e)+_0x486588+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document[_0x727229(0x6a9)](_0x727229(0x76d))['addEventListener']('click',()=>copyTextToClipboard(_0x486588,_0x727229(0x1a3))),document['getElementById']('start-live-race-generated-btn')[_0x727229(0x639)](_0x727229(0x7f4),()=>handleStartLiveRace(_0x486588)),document['getElementById'](_0x727229(0x327))[_0x727229(0x639)](_0x727229(0x7f4),()=>startPresentation(currentQuizData)),document[_0x727229(0x6a9)]('admin-try-quiz-btn')[_0x727229(0x639)](_0x727229(0x7f4),startAdminTest),showMessage(_0x727229(0x55c));}catch(_0x551f34){console['error'](_0x727229(0x706),_0x551f34),showMessage(_0x727229(0x237)),_0x1748a3[_0x727229(0x423)]=![],_0x1748a3[_0x727229(0x7c0)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0xdecdeb=_0x2eabae,_0x1f2924=document[_0xdecdeb(0x6a9)](_0xdecdeb(0x6ee)),_0x494306=document[_0xdecdeb(0x6a9)](_0xdecdeb(0x751)),_0x9b1364=_0x1f2924[_0xdecdeb(0x451)]('h3'),_0x3af48b=document[_0xdecdeb(0x6a9)](_0xdecdeb(0x4f8));_0x9b1364[_0xdecdeb(0x60c)]=_0xdecdeb(0x472),_0x3af48b[_0xdecdeb(0x60c)]=_0xdecdeb(0x78a);allProjects[_0xdecdeb(0x1f2)]===0x0?(_0x494306[_0xdecdeb(0x7c0)]=_0xdecdeb(0x6b3),_0x3af48b[_0xdecdeb(0x423)]=!![]):(_0x494306['innerHTML']=allProjects['map'](_0x17a816=>_0xdecdeb(0x2dd)+_0x17a816['id']+'\x22>'+_0x17a816[_0xdecdeb(0x2b8)]+'</option>')[_0xdecdeb(0x702)](''),_0x3af48b['disabled']=![]);_0x1f2924[_0xdecdeb(0x62e)]['remove'](_0xdecdeb(0x3ef));const _0x16ae38=()=>{const _0x5ba9d0=_0xdecdeb,_0x2e5d34=_0x494306['value'];_0x2e5d34?(currentProjectId=_0x2e5d34,_0x1f2924[_0x5ba9d0(0x62e)][_0x5ba9d0(0x6e5)](_0x5ba9d0(0x3ef)),saveQuiz(),_0x9b1364[_0x5ba9d0(0x60c)]=_0x5ba9d0(0x45a),_0x3af48b[_0x5ba9d0(0x60c)]=_0x5ba9d0(0x3bd),_0x3af48b[_0x5ba9d0(0x17b)]('click',_0x16ae38),_0x3af48b['addEventListener'](_0x5ba9d0(0x7f4),confirmMoveQuiz)):showMessage(_0x5ba9d0(0x589));};_0x3af48b[_0xdecdeb(0x17b)](_0xdecdeb(0x7f4),confirmMoveQuiz),_0x3af48b[_0xdecdeb(0x639)](_0xdecdeb(0x7f4),_0x16ae38);}function copyTextToClipboard(_0x377e8e,_0x10fc2f){const _0x4ad2f3=_0x2eabae,_0x3ceb2a=document['createElement'](_0x4ad2f3(0x28e));_0x3ceb2a[_0x4ad2f3(0x223)]=_0x377e8e,_0x3ceb2a['style'][_0x4ad2f3(0x3d3)]='fixed',_0x3ceb2a[_0x4ad2f3(0x896)][_0x4ad2f3(0x614)]='0',document[_0x4ad2f3(0x1fe)]['appendChild'](_0x3ceb2a),_0x3ceb2a['focus'](),_0x3ceb2a[_0x4ad2f3(0x23e)]();try{const _0x22f62b=document[_0x4ad2f3(0x5ed)](_0x4ad2f3(0x1ec));showMessage(_0x22f62b?_0x10fc2f:'คัดลอกไม่สำเร็จ');}catch(_0x1d5216){showMessage(_0x4ad2f3(0x543)),console[_0x4ad2f3(0x497)](_0x4ad2f3(0x8da),_0x1d5216);}document[_0x4ad2f3(0x1fe)][_0x4ad2f3(0x563)](_0x3ceb2a);}function listenForProjectQuizzes(_0xcc9cad){const _0x34352b=_0x2eabae,_0x7bc074=collection(db,_0x34352b(0x84e)+appId+_0x34352b(0x429)),_0x1eefe5=query(_0x7bc074,where(_0x34352b(0x588),'==',_0xcc9cad));unsubscribeQuizzesListener=onSnapshot(_0x1eefe5,async _0x294a64=>{const _0x26b6b0=_0x34352b;allQuizzes=_0x294a64[_0x26b6b0(0x825)][_0x26b6b0(0x58b)](_0x4ad85c=>({'id':_0x4ad85c['id'],..._0x4ad85c[_0x26b6b0(0x495)]()})),renderQuizzes();},_0x18f3ab=>{const _0x137224=_0x34352b;console[_0x137224(0x497)](_0x137224(0x370),_0x18f3ab),document[_0x137224(0x6a9)](_0x137224(0x63a))[_0x137224(0x7c0)]=_0x137224(0x4bd);});}async function renderQuizzes(){const _0x1c9299=_0x2eabae,_0x497eb5=document['getElementById'](_0x1c9299(0x63a)),_0x36b91b=document['getElementById'](_0x1c9299(0x4e5))[_0x1c9299(0x223)][_0x1c9299(0x372)]();let _0x7fb23e;currentProjectId===_0x1c9299(0x647)?_0x7fb23e=starredQuizzes:_0x7fb23e=allQuizzes;let _0x155ce1=_0x7fb23e[_0x1c9299(0x613)](_0x4f09da=>_0x4f09da['topic']['toLowerCase']()['includes'](_0x36b91b));_0x155ce1['sort']((_0x2cb309,_0x5c2a5e)=>new Date(_0x5c2a5e[_0x1c9299(0x2f4)])-new Date(_0x2cb309[_0x1c9299(0x2f4)]));if(_0x155ce1[_0x1c9299(0x1f2)]===0x0){_0x497eb5['innerHTML']=_0x1c9299(0x34d);return;}const _0x49d685={},_0x2c4f17=_0x155ce1[_0x1c9299(0x58b)](async _0x336bb0=>{const _0x30a2b0=_0x1c9299,_0x28941c=collection(db,_0x30a2b0(0x84e)+appId+_0x30a2b0(0x6b8)+_0x336bb0['id']+'/submissions'),_0x334d03=await getDocs(_0x28941c);_0x49d685[_0x336bb0['id']]=_0x334d03[_0x30a2b0(0x190)];});await Promise[_0x1c9299(0x632)](_0x2c4f17);let _0x88bf8f='';_0x155ce1[_0x1c9299(0x4ac)](_0x4e6879=>{const _0x51e277=_0x1c9299,_0x40f035=_0x49d685[_0x4e6879['id']]||0x0,_0x1d236a=_0x4e6879[_0x51e277(0x692)]||_0x51e277(0x46b),_0x2ccd57=_0x4e6879[_0x51e277(0x69e)]?.['timerMode']||'none';let _0x53424f='',_0xa7503f='';const _0x585a49=new Date();let _0x39ce7c=_0x1d236a;if(_0x1d236a==='scheduled'){const _0x4b097c=_0x4e6879[_0x51e277(0x583)]?new Date(_0x4e6879[_0x51e277(0x583)]):null,_0x5f0253=_0x4e6879[_0x51e277(0x6b7)]?new Date(_0x4e6879['endTime']):null;if(_0x5f0253&&_0x585a49>_0x5f0253)_0x39ce7c=_0x51e277(0x611);else _0x4b097c&&_0x585a49<_0x4b097c?_0x39ce7c='scheduled_pending':_0x39ce7c=_0x51e277(0x46b);}switch(_0x39ce7c){case _0x51e277(0x611):_0x53424f='ปิดใช้งาน',_0xa7503f=_0x51e277(0x261);break;case _0x51e277(0x28d):_0x53424f=_0x51e277(0x6c3),_0xa7503f='text-blue-700\x20bg-blue-100';break;case _0x51e277(0x46b):_0x53424f=_0x2ccd57!==_0x51e277(0x601)?_0x51e277(0x16f):_0x51e277(0x55d),_0xa7503f=_0x51e277(0x6f9);break;default:_0x53424f=_0x51e277(0x2d7),_0xa7503f='text-green-700\x20bg-green-100';break;}let _0x7a122e='';const _0x5a664f={'day':_0x51e277(0x824),'month':'2-digit','year':'numeric','hour':'2-digit','minute':_0x51e277(0x824),'hour12':![]};if(_0x1d236a===_0x51e277(0x6e0)){if(_0x4e6879['startTime'])_0x7a122e+=_0x51e277(0x492)+new Date(_0x4e6879[_0x51e277(0x583)])[_0x51e277(0x80c)](_0x51e277(0x8cf),_0x5a664f)+_0x51e277(0x1d8);if(_0x4e6879[_0x51e277(0x6b7)])_0x7a122e+=_0x51e277(0x587)+new Date(_0x4e6879[_0x51e277(0x6b7)])[_0x51e277(0x80c)](_0x51e277(0x8cf),_0x5a664f)+_0x51e277(0x1d8);}let _0x344a4d='';if(_0x4e6879[_0x51e277(0x434)]){const _0x4c2bb7=allQuizzes['find'](_0x2cf54d=>_0x2cf54d['id']===_0x4e6879['pairedQuizId']);if(_0x4c2bb7){let _0x11d539,_0x20a1a1;new Date(_0x4e6879[_0x51e277(0x2f4)])<new Date(_0x4c2bb7['createdAt'])?(_0x11d539=_0x4e6879['id'],_0x20a1a1=_0x4c2bb7['id']):(_0x11d539=_0x4c2bb7['id'],_0x20a1a1=_0x4e6879['id']),_0x344a4d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x20a1a1+_0x51e277(0x498)+_0x11d539+_0x51e277(0x1f6);}}else _0x4e6879[_0x51e277(0x77c)]===_0x51e277(0x502)&&(_0x344a4d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4e6879['id']+_0x51e277(0x5f3));if(_0x4e6879[_0x51e277(0x77c)]===_0x51e277(0x502)&&_0x40f035>0x0)_0x344a4d+=_0x51e277(0x5a9)+_0x4e6879['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0x4e6879[_0x51e277(0x434)]&&_0x4e6879[_0x51e277(0x77c)]!=='pre-test'&&_0x40f035>0x0&&(_0x344a4d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4e6879['id']+_0x51e277(0x265));let _0x1ca243='';_0x4e6879[_0x51e277(0x434)]?_0x1ca243=_0x51e277(0x6d0)+_0x4e6879['id']+_0x51e277(0x20c):_0x1ca243=_0x51e277(0x6d0)+_0x4e6879['id']+_0x51e277(0x2a2),_0x88bf8f+=_0x51e277(0x782)+_0x4e6879['id']+_0x51e277(0x6d8)+_0x4e6879[_0x51e277(0x4d1)]+_0x51e277(0x31d)+_0x4e6879[_0x51e277(0x813)]['length']+_0x51e277(0x870)+new Date(_0x4e6879[_0x51e277(0x2f4)])[_0x51e277(0x80c)]('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x40f035+_0x51e277(0x5af)+_0x7a122e+_0x51e277(0x52a)+_0xa7503f+'\x22>'+_0x53424f+_0x51e277(0x26b)+_0x4e6879['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4e6879['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x4e6879['isStarred']?_0x51e277(0x38f):_0x51e277(0x2d6))+_0x51e277(0x3a6)+_0x344a4d+_0x51e277(0x7d7)+_0x4e6879['id']+_0x51e277(0x1e3)+_0x4e6879['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4e6879['id']+_0x51e277(0x8a2)+_0x4e6879['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4e6879['id']+_0x51e277(0x8e1)+_0x4e6879['id']+_0x51e277(0x6ab)+_0x4e6879['id']+_0x51e277(0x885)+_0x4e6879[_0x51e277(0x4d1)]+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4e6879['id']+_0x51e277(0x476)+_0x4e6879['id']+_0x51e277(0x62f)+_0x1ca243+_0x51e277(0x90c)+_0x4e6879['id']+_0x51e277(0x7e8)+_0x4e6879['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4e6879['id']+_0x51e277(0x62c)+_0x4e6879['id']+_0x51e277(0x694)+_0x4e6879['id']+_0x51e277(0x885)+_0x4e6879[_0x51e277(0x4d1)]+_0x51e277(0x8c1);}),_0x497eb5[_0x1c9299(0x7c0)]=_0x88bf8f,document[_0x1c9299(0x5fe)](_0x1c9299(0x1e2))[_0x1c9299(0x4ac)](_0x143e99=>{const _0x4326b6=_0x1c9299;_0x143e99[_0x4326b6(0x639)](_0x4326b6(0x7f4),()=>{const _0x479893=_0x4326b6,_0x4e8b99=_0x143e99[_0x479893(0x7c5)][_0x479893(0x612)];showQuizDetailView(_0x4e8b99);});});}async function handleUnpairQuiz(_0x3b9df8){const _0x257845=_0x2eabae,_0x59b880=allQuizzes['find'](_0x5f0bc8=>_0x5f0bc8['id']===_0x3b9df8);if(!_0x59b880||!_0x59b880['pairedQuizId']){showMessage(_0x257845(0x336));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?',async()=>{const _0x6c07d1=_0x257845;try{const _0x5cad61=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x3b9df8),_0x13c679=doc(db,_0x6c07d1(0x84e)+appId+'/public/data/quizzes',_0x59b880[_0x6c07d1(0x434)]),_0x575573=writeBatch(db);_0x575573[_0x6c07d1(0x179)](_0x5cad61,{'pairedQuizId':null}),_0x575573['update'](_0x13c679,{'pairedQuizId':null}),await _0x575573[_0x6c07d1(0x556)](),showMessage(_0x6c07d1(0x8af));}catch(_0x542c97){console[_0x6c07d1(0x497)](_0x6c07d1(0x38c),_0x542c97),showMessage(_0x6c07d1(0x1a2));}});}function formatAndPrintLessonPlan(_0x500e52,_0x170009){const _0x561db7=_0x2eabae,_0x4ead4c=window[_0x561db7(0x504)]('',_0x561db7(0x359)),_0x597cb6=_0x561db7(0x29f)+_0x170009[_0x561db7(0x4d1)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x170009[_0x561db7(0x4d1)]+_0x561db7(0x187)+_0x500e52[_0x561db7(0x72d)]['map'](_0x2bc992=>_0x561db7(0x314)+_0x2bc992+_0x561db7(0x315))[_0x561db7(0x702)]('')+_0x561db7(0x5f7)+_0x500e52[_0x561db7(0x49a)]+_0x561db7(0x590)+_0x500e52[_0x561db7(0x5a7)][_0x561db7(0x58b)](_0x436274=>_0x561db7(0x670)+_0x436274[_0x561db7(0x5d6)]+_0x561db7(0x898)+_0x436274[_0x561db7(0x5e1)]+_0x561db7(0x405))[_0x561db7(0x702)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x4ead4c[_0x561db7(0x25f)][_0x561db7(0x39f)](_0x597cb6),_0x4ead4c[_0x561db7(0x25f)]['close'](),_0x4ead4c['onload']=function(){setTimeout(()=>{const _0x2ffbba=_0x4eb1;_0x4ead4c[_0x2ffbba(0x6c8)]();},0x3e8);};}async function handleGenerateLessonPlan(_0x27ad26){const _0x1c627c=_0x2eabae;showMessage(_0x1c627c(0x763));try{const _0x2da8bf=doc(db,_0x1c627c(0x84e)+appId+_0x1c627c(0x429),_0x27ad26),_0x41c60c=await getDoc(_0x2da8bf);if(!_0x41c60c[_0x1c627c(0x8df)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x531a63={'id':_0x27ad26,..._0x41c60c['data']()},_0x3614e2=collection(db,_0x1c627c(0x84e)+appId+_0x1c627c(0x429),_0x27ad26,_0x1c627c(0x4e1)),_0x3a8d2f=await getDocs(_0x3614e2),_0x442bdd=_0x3a8d2f['docs'][_0x1c627c(0x58b)](_0x256e17=>_0x256e17['data']());if(_0x442bdd[_0x1c627c(0x1f2)]===0x0)throw new Error(_0x1c627c(0x573));const _0x4807e4=calculateItemAnalysis(_0x531a63,_0x442bdd)[_0x1c627c(0x807)],_0x4289a0=calculateDistractorAnalysis(_0x531a63,_0x442bdd),_0x1ffaf2=_0x308f0f=>{const _0x38e108=_0x1c627c;if(!_0x308f0f)return'';return _0x308f0f[_0x38e108(0x90e)](/\\/g,'\x5c\x5c')[_0x38e108(0x90e)](/"/g,'\x5c\x22')[_0x38e108(0x90e)](/\n/g,'\x5cn');};let _0x1c63c1=_0x1c627c(0x79b);_0x531a63['questions']['forEach']((_0x5b9c6e,_0x10f681)=>{const _0x394111=_0x1c627c,_0x2adb0e=_0x4807e4[_0x10f681]?.['p'][_0x394111(0x859)](0x2)||_0x394111(0x517),_0x3c2fd2=_0x4807e4[_0x10f681]?.['r'][_0x394111(0x859)](0x2)||'N/A',_0x1d52dd=_0x1ffaf2(_0x5b9c6e[_0x394111(0x836)]||_0x5b9c6e[_0x394111(0x416)]);_0x1c63c1+=_0x394111(0x6e1)+(_0x10f681+0x1)+'\x20(p='+_0x2adb0e+_0x394111(0x364)+_0x3c2fd2+_0x394111(0x5e9)+_0x1d52dd+'\x5cn';if(_0x5b9c6e[_0x394111(0x2a3)]===_0x394111(0x299)&&_0x4289a0[_0x10f681]){const _0x2b548e=_0x4289a0[_0x10f681],_0x14435a=Object['keys'](_0x2b548e)['filter'](_0x2e98ba=>parseInt(_0x2e98ba)!==_0x5b9c6e[_0x394111(0x58f)])['sort']((_0xf15822,_0x2dc8df)=>_0x2b548e[_0x2dc8df][_0x394111(0x794)]-_0x2b548e[_0xf15822][_0x394111(0x794)])[0x0];if(_0x14435a&&_0x2b548e[_0x14435a][_0x394111(0x794)]>0x0){const _0x278c23=_0x1ffaf2(_0x2b548e[_0x14435a][_0x394111(0x675)]);_0x1c63c1+=_0x394111(0x186)+_0x278c23+'\x22\x5cn';}}});const _0x3e41ef='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x531a63['topic']+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c63c1+_0x1c627c(0x6cc),_0x2fc8d7={'type':_0x1c627c(0x733),'properties':{'learningGaps':{'type':'ARRAY','items':{'type':_0x1c627c(0x5df)}},'teachingContent':{'type':_0x1c627c(0x5df)},'practiceProblems':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'question':{'type':_0x1c627c(0x5df)},'solution':{'type':_0x1c627c(0x5df)}}}}},'required':[_0x1c627c(0x72d),_0x1c627c(0x49a),_0x1c627c(0x5a7)]},_0x101b7e=await callAnalysisApi(_0x3e41ef,_0x2fc8d7);await updateDoc(_0x2da8bf,{'lessonPlan':_0x101b7e});const _0x3631fc=_0x1c627c(0x68e)+_0x531a63['topic']+_0x1c627c(0x658)+_0x101b7e[_0x1c627c(0x72d)][_0x1c627c(0x58b)](_0x1001c8=>_0x1c627c(0x314)+_0x1001c8+'</li>')['join']('')+_0x1c627c(0x334)+_0x101b7e[_0x1c627c(0x49a)]+_0x1c627c(0x3ed)+_0x101b7e[_0x1c627c(0x5a7)][_0x1c627c(0x58b)](_0x54e2eb=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x54e2eb[_0x1c627c(0x5d6)]+_0x1c627c(0x3c2)+_0x54e2eb[_0x1c627c(0x5e1)]+_0x1c627c(0x555))[_0x1c627c(0x702)]('')+_0x1c627c(0x298);document['getElementById'](_0x1c627c(0x277))[_0x1c627c(0x60c)]='แผนการสอน:\x20'+_0x531a63['topic'],document['getElementById']('lesson-plan-content')[_0x1c627c(0x7c0)]=_0x3631fc,document[_0x1c627c(0x6a9)](_0x1c627c(0x470))[_0x1c627c(0x62e)][_0x1c627c(0x3b0)](_0x1c627c(0x3ef));if(window[_0x1c627c(0x6d3)])MathJax[_0x1c627c(0x820)]();messageModal[_0x1c627c(0x62e)][_0x1c627c(0x6e5)](_0x1c627c(0x3ef));}catch(_0x24fb72){console['error'](_0x1c627c(0x4a5),_0x24fb72),showMessage('เกิดข้อผิดพลาด:\x20'+_0x24fb72[_0x1c627c(0x7d2)]);}}async function handleDuplicateQuiz(_0x4723c8){const _0x3125e9=_0x2eabae;try{const _0x17669f=doc(db,_0x3125e9(0x84e)+appId+'/public/data/quizzes',_0x4723c8),_0x260912=await getDoc(_0x17669f);if(_0x260912[_0x3125e9(0x8df)]()){const _0x42a8d5=_0x260912['data']();let _0x31867b='',_0x1c0207='standard',_0x4df20e=null;if(_0x42a8d5[_0x3125e9(0x77c)]===_0x3125e9(0x502)){let _0x8ad932=_0x42a8d5[_0x3125e9(0x4d1)][_0x3125e9(0x90e)](_0x3125e9(0x891),'')['trim']();_0x31867b=_0x3125e9(0x31c)+_0x8ad932,_0x1c0207='post-test',_0x4df20e=_0x4723c8;}else _0x31867b=_0x3125e9(0x8f0)+_0x42a8d5[_0x3125e9(0x4d1)];const _0x5a901f={..._0x42a8d5,'topic':_0x31867b,'createdAt':new Date()[_0x3125e9(0x3a9)](),'quizMode':_0x1c0207,'pairedQuizId':_0x4df20e};let _0x53f3c3;while(!![]){_0x53f3c3=Math['floor'](0x3e8+Math['random']()*0x2328)['toString']();const _0x5810d8=await getDoc(doc(db,_0x3125e9(0x84e)+appId+_0x3125e9(0x429),_0x53f3c3));if(!_0x5810d8[_0x3125e9(0x8df)]())break;}const _0x1acfa4=doc(db,_0x3125e9(0x84e)+appId+_0x3125e9(0x429),_0x53f3c3);await setDoc(_0x1acfa4,_0x5a901f),_0x5a901f[_0x3125e9(0x77c)]===_0x3125e9(0x283)&&await updateDoc(_0x17669f,{'pairedQuizId':_0x53f3c3}),showMessage(_0x3125e9(0x5ee));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x234990){console[_0x3125e9(0x497)](_0x3125e9(0x2f1),_0x234990),showMessage(_0x3125e9(0x404));}}async function handleDeleteQuiz(_0x3c0de9,_0xa6f64b=!![]){const _0x589e2a=_0x2eabae;try{const _0x3c7474=writeBatch(db),_0xcd284=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x3c0de9+'/submissions'),_0x493207=await getDocs(_0xcd284);_0x493207['forEach'](_0x3a7be3=>{const _0x7dc471=_0x4eb1;_0x3c7474[_0x7dc471(0x7ca)](doc(_0xcd284,_0x3a7be3['id']));});const _0x1a5892=doc(db,'artifacts/'+appId+_0x589e2a(0x429),_0x3c0de9);_0x3c7474[_0x589e2a(0x7ca)](_0x1a5892),await _0x3c7474[_0x589e2a(0x556)](),_0xa6f64b&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x18e2aa){console[_0x589e2a(0x497)](_0x589e2a(0x238),_0x18e2aa),_0xa6f64b&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x2b8fef){const _0x17ffa0=_0x2eabae;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x17ffa0(0x4d4));try{const _0x45786f=doc(db,_0x17ffa0(0x84e)+appId+'/public/data/quizzes',_0x2b8fef),_0x3c29cd=await getDoc(_0x45786f);if(!_0x3c29cd[_0x17ffa0(0x8df)]()){showMessage(_0x17ffa0(0x4c0));return;}const _0x408842={'id':_0x3c29cd['id'],..._0x3c29cd[_0x17ffa0(0x495)]()};currentQuizData=_0x408842;const _0xe34928=doc(db,_0x17ffa0(0x84e)+appId+_0x17ffa0(0x628),_0x408842['projectId']),_0x57685c=await getDoc(_0xe34928);_0x57685c[_0x17ffa0(0x8df)]()?(currentProjectData=_0x57685c[_0x17ffa0(0x495)](),currentProjectId=_0x408842[_0x17ffa0(0x588)]):(currentProjectData={'students':[]},currentProjectId=_0x408842[_0x17ffa0(0x588)]);document['getElementById'](_0x17ffa0(0x3b6))['textContent']=_0x408842[_0x17ffa0(0x4d1)],document[_0x17ffa0(0x6a9)](_0x17ffa0(0x75e))[_0x17ffa0(0x60c)]=_0x2b8fef;const _0x3f274e=collection(db,_0x17ffa0(0x84e)+appId+_0x17ffa0(0x429),_0x2b8fef,_0x17ffa0(0x4e1));unsubscribeSubmissionsListener=onSnapshot(_0x3f274e,_0x27f682=>{const _0x5599b9=_0x17ffa0,_0x3ab8ef=_0x27f682['docs']['map'](_0x23570d=>({'id':_0x23570d['id'],..._0x23570d[_0x5599b9(0x495)]()}));currentSubmissions=_0x3ab8ef,renderBehaviorLog(_0x3ab8ef),renderAnswerGrid(currentProjectData[_0x5599b9(0x164)],_0x3ab8ef,_0x408842),renderAnalytics(_0x408842,_0x3ab8ef),renderQuizResultsTable(currentProjectData['students'],_0x3ab8ef,_0x408842),renderQuizLeaderboard(_0x3ab8ef,_0x408842,_0x5599b9(0x191));}),showView(_0x17ffa0(0x395));}catch(_0x1ca23b){console[_0x17ffa0(0x497)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x1ca23b),showMessage(_0x17ffa0(0x47f));}}function renderAnswerGrid(_0x36a9ee,_0x235963,_0x56ba31){const _0x5b6f8b=_0x2eabae,_0x121324=document[_0x5b6f8b(0x6a9)](_0x5b6f8b(0x48c));if(!_0x121324)return;if(!_0x36a9ee||_0x36a9ee[_0x5b6f8b(0x1f2)]===0x0){_0x121324[_0x5b6f8b(0x7c0)]=_0x5b6f8b(0x803);return;}const _0x328c45=_0x56ba31['questions'],_0x359cad=_0x235963[_0x5b6f8b(0x54c)]((_0x5cd947,_0x265fe5)=>{const _0x25e832=_0x5b6f8b;return _0x5cd947[_0x265fe5[_0x25e832(0x39a)]]=_0x265fe5,_0x5cd947;},{}),_0x1e5084=_0x323fd6=>String[_0x5b6f8b(0x547)](0x41+_0x323fd6),_0x260469=_0x49f03b=>{const _0x48f2e6=_0x5b6f8b,_0x4ee27f=_0x49f03b[_0x48f2e6(0x2a3)]||_0x56ba31['quizType'];switch(_0x4ee27f){case _0x48f2e6(0x299):return _0x49f03b[_0x48f2e6(0x8de)]&&_0x49f03b[_0x48f2e6(0x8de)][_0x48f2e6(0x1f2)]>_0x49f03b[_0x48f2e6(0x58f)]?_0x1e5084(_0x49f03b[_0x48f2e6(0x58f)]):'-';case _0x48f2e6(0x254):return _0x49f03b[_0x48f2e6(0x213)]?'ใช่':'ไม่ใช่';case _0x48f2e6(0x29d):return _0x49f03b[_0x48f2e6(0x308)]||'-';case _0x48f2e6(0x53e):return _0x48f2e6(0x1f1);default:return'-';}},_0x38e3e6=(_0x356178,_0x2370b4)=>{const _0x8d9dff=_0x5b6f8b;if(_0x2370b4['answer']===null||_0x2370b4['answer']===undefined)return'-';const _0x56c8d6=_0x356178[_0x8d9dff(0x2a3)]||_0x56ba31[_0x8d9dff(0x6bc)];switch(_0x56c8d6){case _0x8d9dff(0x299):const _0xaca7bd=_0x356178[_0x8d9dff(0x8de)][_0x8d9dff(0x8a1)](_0x46050b=>_0x46050b===_0x2370b4[_0x8d9dff(0x738)]);return _0xaca7bd!==-0x1?_0x1e5084(_0xaca7bd):_0x2370b4['answerText']||'-';case _0x8d9dff(0x254):return _0x2370b4[_0x8d9dff(0x71b)]===_0x8d9dff(0x408)||_0x2370b4[_0x8d9dff(0x71b)]===!![]?_0x8d9dff(0x8ff):'ไม่ใช่';default:return _0x2370b4[_0x8d9dff(0x71b)];}};let _0x3dc1dc=_0x5b6f8b(0x713)+_0x328c45[_0x5b6f8b(0x58b)]((_0x2ead26,_0x868d19)=>_0x5b6f8b(0x37b)+(_0x868d19+0x1)+_0x5b6f8b(0x428))['join']('')+_0x5b6f8b(0x87d)+_0x328c45['map'](_0x169291=>_0x5b6f8b(0x8b1)+_0x260469(_0x169291)+'</td>')[_0x5b6f8b(0x702)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x36a9ee['forEach'](_0x5408a7=>{const _0x1e24a8=_0x5b6f8b;_0x3dc1dc+='<tr>',_0x3dc1dc+=_0x1e24a8(0x447)+_0x5408a7+_0x1e24a8(0x32a);const _0x48c516=_0x359cad[_0x5408a7];if(_0x48c516){const _0x483fdd=_0x48c516[_0x1e24a8(0x40f)][_0x48c516[_0x1e24a8(0x40f)][_0x1e24a8(0x1f2)]-0x1];_0x328c45[_0x1e24a8(0x4ac)]((_0x4c65e9,_0x224b24)=>{const _0x4326d9=_0x1e24a8,_0x29b542=_0x483fdd[_0x4326d9(0x272)][_0x4326d9(0x8ad)](_0x2af3a4=>_0x2af3a4[_0x4326d9(0x1b8)]===(_0x4c65e9['stem']||_0x4c65e9['questionText']));if(_0x29b542){let _0x1db66e=![];const _0x49dd5c=_0x4c65e9[_0x4326d9(0x2a3)]||_0x56ba31[_0x4326d9(0x6bc)];if(_0x29b542[_0x4326d9(0x71b)]!==null&&_0x29b542['answer']!==undefined)switch(_0x49dd5c){case'multiple_choice':const _0x3657c5=_0x4c65e9[_0x4326d9(0x8de)][_0x4c65e9[_0x4326d9(0x58f)]];_0x1db66e=_0x29b542[_0x4326d9(0x738)]===_0x3657c5;break;case _0x4326d9(0x254):const _0x36f6a8=_0x29b542[_0x4326d9(0x71b)]===!![]||_0x29b542[_0x4326d9(0x71b)]==='true';_0x1db66e=_0x36f6a8===_0x4c65e9[_0x4326d9(0x213)];break;case _0x4326d9(0x29d):_0x1db66e=_0x29b542['answer']===_0x4c65e9['correctResponse'];break;default:_0x1db66e=_0x29b542[_0x4326d9(0x671)];break;}const _0x3d4855=_0x1db66e?'bg-green-100':_0x4326d9(0x3c9);_0x3dc1dc+=_0x4326d9(0x743)+_0x3d4855+'\x22>'+_0x38e3e6(_0x4c65e9,_0x29b542)+_0x4326d9(0x32a);}else _0x3dc1dc+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x3dc1dc+=_0x328c45[_0x1e24a8(0x58b)](()=>_0x1e24a8(0x250))[_0x1e24a8(0x702)]('');_0x3dc1dc+=_0x1e24a8(0x69a);}),_0x3dc1dc+='</tbody></table>',_0x121324['innerHTML']=_0x3dc1dc;}function renderQuizResultsTable(_0x2bff51,_0x441e2c,_0x11fd00){const _0x200bfa=_0x2eabae,_0x6bc36b=_0x441e2c[_0x200bfa(0x54c)]((_0x6bb4d5,_0x2bebbf)=>{const _0x123ad9=_0x200bfa;return _0x6bb4d5[_0x2bebbf[_0x123ad9(0x39a)]]=_0x2bebbf,_0x6bb4d5;},{}),_0x15266f=document[_0x200bfa(0x451)](_0x200bfa(0x40e));_0x15266f&&!_0x15266f[_0x200bfa(0x7c0)]['includes'](_0x200bfa(0x7e3))&&(_0x15266f[_0x200bfa(0x7c0)]+=_0x200bfa(0x752));const _0x50ee01=document['getElementById'](_0x200bfa(0x8c8));if(!_0x2bff51||_0x2bff51['length']===0x0){_0x50ee01[_0x200bfa(0x7c0)]=_0x200bfa(0x5f9);return;}const _0x4ad340=_0x11fd00['isRemedial']===!![],_0x412252=_0x11fd00[_0x200bfa(0x69e)]?.[_0x200bfa(0x82d)]??-0x1;let _0x269075='';_0x2bff51[_0x200bfa(0x4ac)](_0xe5d63c=>{const _0x48c9da=_0x200bfa,_0x48e53b=_0x6bc36b[_0xe5d63c];let _0x45f439=_0x48c9da(0x51e),_0x27022c=_0x48c9da(0x264)+(_0x4ad340?_0x48c9da(0x473):_0x48c9da(0x81a))+'\x22>'+(_0x4ad340?_0x48c9da(0x8ba):_0x48c9da(0x4fd))+_0x48c9da(0x2a4);if(_0x48e53b){let _0x38e93d=_0x4ad340?_0x48e53b['bestScore']===_0x48e53b[_0x48c9da(0x342)]:_0x412252!==-0x1&&_0x48e53b[_0x48c9da(0x7ec)]>=_0x412252;if(_0x4ad340||_0x412252!==-0x1){const _0x582df0=_0x38e93d?_0x48c9da(0x20b):'bg-red-100\x20text-red-800',_0x5b552a=_0x38e93d?_0x48c9da(0x2ad):'ไม่ผ่าน';_0x45f439=_0x48c9da(0x51c)+_0x582df0+'\x22>'+_0x5b552a+_0x48c9da(0x2a4);}const _0x1830a5='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x48e53b[_0x48c9da(0x40f)]?.['length']||0x1)+'\x20ครั้ง)</span></td>';_0x269075+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0xe5d63c+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x48e53b[_0x48c9da(0x7ec)]+_0x48c9da(0x784)+_0x48e53b[_0x48c9da(0x342)]+_0x48c9da(0x770)+_0x45f439+_0x48c9da(0x350)+_0x27022c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x48e53b['firstScore']+_0x48c9da(0x784)+_0x48e53b['totalQuestions']+_0x48c9da(0x358)+_0x48e53b[_0x48c9da(0x5c8)]+_0x48c9da(0x784)+_0x48e53b[_0x48c9da(0x342)]+_0x48c9da(0x659)+(_0x48e53b['points']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1830a5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x48e53b[_0x48c9da(0x7dd)])[_0x48c9da(0x80c)](_0x48c9da(0x8cf))+_0x48c9da(0x49b)+_0xe5d63c+_0x48c9da(0x89d);}else{const _0x1c265b='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x269075+=_0x48c9da(0x347)+_0xe5d63c+_0x48c9da(0x1b7)+_0x27022c+_0x48c9da(0x7c6)+_0x1c265b+_0x48c9da(0x6fe);}}),_0x50ee01['innerHTML']=_0x269075;}async function confirmRenameQuiz(){const _0x446f4e=_0x2eabae,_0x487762=document[_0x446f4e(0x6a9)](_0x446f4e(0x41d))[_0x446f4e(0x223)]['trim']();if(!_0x487762){showMessage(_0x446f4e(0x24e));return;}if(!actionTargetId)return;const _0x171886=doc(db,'artifacts/'+appId+_0x446f4e(0x429),actionTargetId);try{await updateDoc(_0x171886,{'topic':_0x487762}),showMessage(_0x446f4e(0x894)),renameQuizModal['classList'][_0x446f4e(0x6e5)]('hidden'),actionTargetId=null;}catch(_0x32312d){console[_0x446f4e(0x497)](_0x446f4e(0x600),_0x32312d),showMessage(_0x446f4e(0x838));}}async function handleMoveQuiz(_0x505eeb){const _0x2cbedd=_0x2eabae;actionTargetId=_0x505eeb;const _0x53c73c=document[_0x2cbedd(0x6a9)](_0x2cbedd(0x751));_0x53c73c['innerHTML']=_0x2cbedd(0x3c0),moveQuizModal[_0x2cbedd(0x62e)][_0x2cbedd(0x3b0)](_0x2cbedd(0x3ef));try{const _0xebdbc8=collection(db,_0x2cbedd(0x84e)+appId+'/public/data/projects'),_0x463dac=await getDocs(_0xebdbc8),_0x381d9a=_0x463dac['docs']['map'](_0x90217a=>({'id':_0x90217a['id'],..._0x90217a[_0x2cbedd(0x495)]()})),_0x45058e=_0x381d9a[_0x2cbedd(0x613)](_0x5b04c2=>_0x5b04c2['id']!==currentProjectId);if(_0x45058e[_0x2cbedd(0x1f2)]===0x0){_0x53c73c['innerHTML']=_0x2cbedd(0x19d),document[_0x2cbedd(0x6a9)]('confirm-move-quiz-btn')['disabled']=!![];return;}_0x53c73c['innerHTML']=_0x45058e[_0x2cbedd(0x58b)](_0xdbbdf3=>_0x2cbedd(0x2dd)+_0xdbbdf3['id']+'\x22>'+_0xdbbdf3[_0x2cbedd(0x2b8)]+'</option>')[_0x2cbedd(0x702)](''),document[_0x2cbedd(0x6a9)]('confirm-move-quiz-btn')[_0x2cbedd(0x423)]=![];}catch(_0xa374bb){console[_0x2cbedd(0x497)](_0x2cbedd(0x582),_0xa374bb),showMessage(_0x2cbedd(0x1f9)),moveQuizModal['classList']['add']('hidden');}}async function confirmMoveQuiz(){const _0x53ef49=_0x2eabae,_0x4c7a8b=document[_0x53ef49(0x6a9)](_0x53ef49(0x751))[_0x53ef49(0x223)];if(!_0x4c7a8b){showMessage(_0x53ef49(0x722));return;}if(!actionTargetId)return;const _0x5662dc=doc(db,_0x53ef49(0x84e)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x5662dc,{'projectId':_0x4c7a8b}),showMessage(_0x53ef49(0x48e)),moveQuizModal[_0x53ef49(0x62e)]['add']('hidden'),actionTargetId=null;}catch(_0x28629a){console[_0x53ef49(0x497)](_0x53ef49(0x868),_0x28629a),showMessage(_0x53ef49(0x519));}}async function handleQuizSettings(_0x27e1df){const _0x4695ad=_0x2eabae;actionTargetId=_0x27e1df;const _0x1ad554=doc(db,_0x4695ad(0x84e)+appId+_0x4695ad(0x429),_0x27e1df);try{const _0x54a18d=await getDoc(_0x1ad554);if(_0x54a18d[_0x4695ad(0x8df)]()){const _0x4f8fbb=_0x54a18d[_0x4695ad(0x495)](),_0x454da9=_0x4f8fbb['settings']||{},_0x39859e=_0x4f8fbb[_0x4695ad(0x813)]['length'];document[_0x4695ad(0x6a9)](_0x4695ad(0x69b))[_0x4695ad(0x223)]=_0x454da9[_0x4695ad(0x4a4)]||_0x4695ad(0x601),document['getElementById'](_0x4695ad(0x24c))[_0x4695ad(0x223)]=_0x454da9[_0x4695ad(0x3df)]||'show_results_and_answers',document[_0x4695ad(0x6a9)](_0x4695ad(0x514))[_0x4695ad(0x223)]=_0x454da9[_0x4695ad(0x864)]||_0x4695ad(0x601),document['getElementById'](_0x4695ad(0x5b1))['value']=_0x454da9['timerDuration']||0xa,document[_0x4695ad(0x6a9)](_0x4695ad(0x661))[_0x4695ad(0x223)]=_0x454da9[_0x4695ad(0x82d)]||Math[_0x4695ad(0x5b7)](_0x39859e/0x2),document['getElementById'](_0x4695ad(0x661))['max']=_0x39859e,document['getElementById']('modal-adaptive-quiz-checkbox')['checked']=_0x454da9[_0x4695ad(0x1ab)]||![],document[_0x4695ad(0x6a9)]('modal-loop-until-pass-checkbox')[_0x4695ad(0x2e9)]=_0x454da9[_0x4695ad(0x529)]||![],document[_0x4695ad(0x6a9)]('modal-timer-mode-select')['dispatchEvent'](new Event('change')),quizSettingsModal[_0x4695ad(0x62e)][_0x4695ad(0x3b0)](_0x4695ad(0x3ef));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x140332){console[_0x4695ad(0x497)]('Error\x20fetching\x20quiz\x20settings:',_0x140332),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x239048=_0x2eabae;if(!actionTargetId)return;const _0x33617c=doc(db,'artifacts/'+appId+_0x239048(0x429),actionTargetId),_0x542678={'shuffle':document[_0x239048(0x6a9)](_0x239048(0x69b))[_0x239048(0x223)],'resultsDisplay':document[_0x239048(0x6a9)](_0x239048(0x24c))[_0x239048(0x223)],'timerMode':document[_0x239048(0x6a9)](_0x239048(0x514))['value'],'timerDuration':parseInt(document['getElementById'](_0x239048(0x5b1))['value'])||0xa,'passingScore':parseInt(document[_0x239048(0x6a9)](_0x239048(0x661))[_0x239048(0x223)])||0x0,'passingScore':parseInt(document[_0x239048(0x6a9)](_0x239048(0x661))[_0x239048(0x223)])||0x0,'isAdaptive':document[_0x239048(0x6a9)]('modal-adaptive-quiz-checkbox')[_0x239048(0x2e9)],'loopUntilPass':document[_0x239048(0x6a9)]('modal-loop-until-pass-checkbox')[_0x239048(0x2e9)]};try{await updateDoc(_0x33617c,{'settings':_0x542678}),showMessage(_0x239048(0x306)),quizSettingsModal[_0x239048(0x62e)][_0x239048(0x6e5)]('hidden'),actionTargetId=null;}catch(_0x596d66){console[_0x239048(0x497)](_0x239048(0x5da),_0x596d66),showMessage(_0x239048(0x240));}}async function handleQuizStatus(_0x290445){const _0x2dd7c8=_0x2eabae;actionTargetId=_0x290445;const _0x4e934f=doc(db,_0x2dd7c8(0x84e)+appId+_0x2dd7c8(0x429),_0x290445);try{const _0x592baf=await getDoc(_0x4e934f);if(_0x592baf[_0x2dd7c8(0x8df)]()){const _0x3438d4=_0x592baf[_0x2dd7c8(0x495)](),_0x35fb7d=_0x3438d4['status']||_0x2dd7c8(0x46b),_0x2a6a08=document['getElementById'](_0x2dd7c8(0x82b)),_0x4badc0=document['getElementById']('quiz-schedule-start-container'),_0x11d5da=document[_0x2dd7c8(0x6a9)](_0x2dd7c8(0x352));let _0x451f58=_0x2dd7c8(0x17c)+(_0x35fb7d===_0x2dd7c8(0x46b)?_0x2dd7c8(0x2e9):'')+'>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20'+(_0x35fb7d===_0x2dd7c8(0x611)?_0x2dd7c8(0x2e9):'')+'>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20'+(_0x35fb7d==='scheduled'?_0x2dd7c8(0x2e9):'')+_0x2dd7c8(0x651);_0x2a6a08[_0x2dd7c8(0x7c0)]=_0x451f58;const _0x538426=_0x35fb7d===_0x2dd7c8(0x6e0);_0x4badc0[_0x2dd7c8(0x62e)][_0x2dd7c8(0x899)](_0x2dd7c8(0x3ef),!_0x538426),_0x11d5da[_0x2dd7c8(0x62e)][_0x2dd7c8(0x899)](_0x2dd7c8(0x3ef),!_0x538426),document[_0x2dd7c8(0x6a9)](_0x2dd7c8(0x48d))['value']=_0x3438d4[_0x2dd7c8(0x583)]?_0x3438d4[_0x2dd7c8(0x583)]['substring'](0x0,0x10):'',document['getElementById'](_0x2dd7c8(0x324))[_0x2dd7c8(0x223)]=_0x3438d4[_0x2dd7c8(0x6b7)]?_0x3438d4[_0x2dd7c8(0x6b7)][_0x2dd7c8(0x5f5)](0x0,0x10):'',_0x2a6a08[_0x2dd7c8(0x5fe)](_0x2dd7c8(0x202))[_0x2dd7c8(0x4ac)](_0x51d9b5=>{const _0x3f70cc=_0x2dd7c8;_0x51d9b5[_0x3f70cc(0x639)]('change',_0x5ebbb7=>{const _0x54196d=_0x3f70cc,_0x2bcb56=_0x5ebbb7['target'][_0x54196d(0x223)]===_0x54196d(0x623);_0x4badc0[_0x54196d(0x62e)][_0x54196d(0x899)](_0x54196d(0x3ef),!_0x2bcb56),_0x11d5da[_0x54196d(0x62e)][_0x54196d(0x899)](_0x54196d(0x3ef),!_0x2bcb56);});}),quizStatusModal['classList'][_0x2dd7c8(0x3b0)](_0x2dd7c8(0x3ef));}}catch(_0x703e6a){console[_0x2dd7c8(0x497)](_0x2dd7c8(0x3ab),_0x703e6a),showMessage('เกิดข้อผิดพลาดในการโหลดสถานะ');}}async function confirmQuizStatus(){const _0x52e372=_0x2eabae;if(!actionTargetId)return;const _0x513497=doc(db,_0x52e372(0x84e)+appId+'/public/data/quizzes',actionTargetId),_0x7540e5=document[_0x52e372(0x451)](_0x52e372(0x518));if(!_0x7540e5){showMessage(_0x52e372(0x8a3));return;}const _0x3c3b9d=_0x7540e5[_0x52e372(0x223)];let _0x1a5ead={};if(_0x3c3b9d===_0x52e372(0x46b)||_0x3c3b9d==='inactive')_0x1a5ead={'status':_0x3c3b9d,'startTime':null,'endTime':null};else{if(_0x3c3b9d===_0x52e372(0x623)){const _0x55c9a6=document[_0x52e372(0x6a9)](_0x52e372(0x48d))[_0x52e372(0x223)],_0x217b96=document[_0x52e372(0x6a9)](_0x52e372(0x324))[_0x52e372(0x223)];if(!_0x55c9a6&&!_0x217b96){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x1a5ead={'status':'scheduled','startTime':_0x55c9a6?new Date(_0x55c9a6)[_0x52e372(0x3a9)]():null,'endTime':_0x217b96?new Date(_0x217b96)[_0x52e372(0x3a9)]():null};}}try{await updateDoc(_0x513497,_0x1a5ead),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal['classList'][_0x52e372(0x6e5)]('hidden'),actionTargetId=null;}catch(_0x5d375a){console[_0x52e372(0x497)](_0x52e372(0x2b1),_0x5d375a),showMessage(_0x52e372(0x64a));}}function listenForStudentProfiles(_0x3d95e6){const _0x5750f6=_0x2eabae,_0xd4ab79=collection(db,_0x5750f6(0x84e)+appId+_0x5750f6(0x642)+_0x3d95e6+_0x5750f6(0x8bd));unsubscribeStudentProfilesListener=onSnapshot(_0xd4ab79,_0x3c3811=>{const _0x2d6247=_0x5750f6,_0x35f4d3=_0x3c3811['docs'][_0x2d6247(0x58b)](_0x2bf0e3=>_0x2bf0e3[_0x2d6247(0x495)]());renderLeaderboard(_0x35f4d3,_0x2d6247(0x756));},_0x5e8ea2=>{const _0x4ba1b2=_0x5750f6;console[_0x4ba1b2(0x497)](_0x4ba1b2(0x394),_0x5e8ea2),document[_0x4ba1b2(0x6a9)]('leaderboard-table-body')[_0x4ba1b2(0x7c0)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x17e564,_0x366a5e){const _0x1765f0=_0x2eabae,_0x38836a=document[_0x1765f0(0x6a9)](_0x366a5e);if(!_0x17e564||_0x17e564[_0x1765f0(0x1f2)]===0x0){_0x38836a[_0x1765f0(0x7c0)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x17e564[_0x1765f0(0x908)]((_0xd290c6,_0x422b3d)=>{const _0x2eefb7=_0x1765f0,_0x3d5b60=(_0x422b3d[_0x2eefb7(0x3d8)]||0x0)-(_0xd290c6[_0x2eefb7(0x3d8)]||0x0);if(_0x3d5b60!==0x0)return _0x3d5b60;const _0x51a933=(_0x422b3d[_0x2eefb7(0x8d5)]?.['specialist']||0x0)-(_0xd290c6[_0x2eefb7(0x8d5)]?.[_0x2eefb7(0x357)]||0x0);if(_0x51a933!==0x0)return _0x51a933;const _0x403f10=(_0x422b3d[_0x2eefb7(0x8d5)]?.[_0x2eefb7(0x1b6)]||0x0)-(_0xd290c6[_0x2eefb7(0x8d5)]?.[_0x2eefb7(0x1b6)]||0x0);if(_0x403f10!==0x0)return _0x403f10;const _0x51b85d=(_0x422b3d['badgesCount']?.[_0x2eefb7(0x7f7)]||0x0)-(_0xd290c6['badgesCount']?.[_0x2eefb7(0x7f7)]||0x0);if(_0x51b85d!==0x0)return _0x51b85d;const _0x4ae4c1=(_0x422b3d[_0x2eefb7(0x8d5)]?.[_0x2eefb7(0x3e4)]||0x0)-(_0xd290c6[_0x2eefb7(0x8d5)]?.['quick_thinker']||0x0);if(_0x4ae4c1!==0x0)return _0x4ae4c1;return _0xd290c6['studentName'][_0x2eefb7(0x7c7)](_0x422b3d['studentName'],'th');});let _0x346ec7='';_0x17e564[_0x1765f0(0x4ac)]((_0x2c379f,_0x2e8cd4)=>{const _0x29b7b3=_0x1765f0,_0x2503a7=_0x2e8cd4+0x1,_0x2e69c1=_0x2c379f['badgesCount']||{};let _0x200c94='';const _0xcde35c=['specialist',_0x29b7b3(0x7f7),_0x29b7b3(0x1b6),_0x29b7b3(0x3e4)];_0xcde35c[_0x29b7b3(0x4ac)](_0x5223f5=>{const _0x43e3d0=_0x29b7b3;if(_0x2e69c1[_0x5223f5]>0x0){const _0x2f4f1d=Object[_0x43e3d0(0x69f)](BADGES)[_0x43e3d0(0x8ad)](_0x443d8f=>_0x443d8f['id']===_0x5223f5);_0x2f4f1d&&(_0x5223f5==='specialist'?_0x200c94+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x2f4f1d['name']+_0x43e3d0(0x42f)+_0x2f4f1d['icon']+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x200c94+=_0x43e3d0(0x53f)+_0x2f4f1d[_0x43e3d0(0x531)]+'\x20('+_0x2e69c1[_0x5223f5]+_0x43e3d0(0x55e)+_0x2f4f1d[_0x43e3d0(0x8be)]+_0x43e3d0(0x197)+_0x2e69c1[_0x5223f5]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x346ec7+=_0x29b7b3(0x244)+_0x2503a7+_0x29b7b3(0x7b8)+_0x2c379f[_0x29b7b3(0x39a)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x2c379f['totalPoints']||0x0)+_0x29b7b3(0x7b8)+(_0x200c94||'-')+_0x29b7b3(0x43c);}),_0x38836a[_0x1765f0(0x7c0)]=_0x346ec7;}function displayLoopScreen(_0x4ad924,_0xdc5796,_0x4e32ed){const _0x3651dc=_0x2eabae;let _0x428e68='';_0x4e32ed!=='show_pass_fail_only'&&(_0x428e68=_0x3651dc(0x6e2)+_0x4ad924+_0x3651dc(0x784)+_0xdc5796+'</strong></p>');const _0x2390d5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x428e68+_0x3651dc(0x4a2);studentResultArea[_0x3651dc(0x7c0)]=_0x2390d5,studentResultArea[_0x3651dc(0x62e)][_0x3651dc(0x3b0)](_0x3651dc(0x3ef)),studentQuizArea['classList']['add'](_0x3651dc(0x3ef)),document[_0x3651dc(0x6a9)](_0x3651dc(0x5cb))[_0x3651dc(0x639)](_0x3651dc(0x7f4),()=>{const _0x49820e=_0x3651dc;studentResultArea[_0x49820e(0x62e)][_0x49820e(0x6e5)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x17d4c8,_0x4f8ab0,_0x21ed81){const _0x5b21a1=_0x2eabae,_0x4f33c0=document[_0x5b21a1(0x6a9)](_0x21ed81),_0x31ff8a=_0x21ed81==='student-quiz-leaderboard-table-body',_0x1c079e=_0x4f8ab0[_0x5b21a1(0x813)]['length'],_0x18309e=document[_0x5b21a1(0x6a9)](_0x21ed81)['closest'](_0x5b21a1(0x5fb));if(_0x18309e&&!_0x31ff8a){const _0x13da7b=_0x18309e[_0x5b21a1(0x451)](_0x5b21a1(0x389));_0x13da7b[_0x5b21a1(0x7c0)]=_0x5b21a1(0x8e7);}if(!_0x17d4c8||_0x17d4c8[_0x5b21a1(0x1f2)]===0x0){_0x4f33c0[_0x5b21a1(0x7c0)]=_0x5b21a1(0x4d9)+(_0x31ff8a?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x1cb114=[..._0x17d4c8];_0x1cb114[_0x5b21a1(0x908)]((_0x1f591f,_0x4ea653)=>{const _0x2cb905=_0x5b21a1;let _0x4e1b51,_0x5ab449;switch(quizLeaderboardSortBy){case _0x2cb905(0x39a):_0x4e1b51=_0x1f591f[_0x2cb905(0x39a)]||'',_0x5ab449=_0x4ea653[_0x2cb905(0x39a)]||'';return quizLeaderboardSortOrder===_0x2cb905(0x3f7)?_0x4e1b51[_0x2cb905(0x7c7)](_0x5ab449,'th'):_0x5ab449[_0x2cb905(0x7c7)](_0x4e1b51,'th');case _0x2cb905(0x8e2):_0x4e1b51=_0x1f591f[_0x2cb905(0x8e2)]||0x0,_0x5ab449=_0x4ea653[_0x2cb905(0x8e2)]||0x0;break;case _0x2cb905(0x40f):_0x4e1b51=_0x1f591f['attempts']?.[_0x2cb905(0x1f2)]||0x1,_0x5ab449=_0x4ea653['attempts']?.['length']||0x1;break;case _0x2cb905(0x7dd):_0x4e1b51=new Date(_0x1f591f['latestSubmittedAt']),_0x5ab449=new Date(_0x4ea653[_0x2cb905(0x7dd)]);break;case _0x2cb905(0x7ec):default:_0x4e1b51=_0x1f591f[_0x2cb905(0x7ec)],_0x5ab449=_0x4ea653[_0x2cb905(0x7ec)];break;}if(_0x4e1b51<_0x5ab449)return quizLeaderboardSortOrder===_0x2cb905(0x3f7)?-0x1:0x1;if(_0x4e1b51>_0x5ab449)return quizLeaderboardSortOrder===_0x2cb905(0x3f7)?0x1:-0x1;return 0x0;});const _0x37c18a=_0x4f8ab0['isRemedial']===!![],_0x44c303=_0x4f8ab0[_0x5b21a1(0x69e)]?.[_0x5b21a1(0x82d)]??-0x1;let _0x58414a='';_0x1cb114['forEach']((_0x4a87fc,_0x1482f5)=>{const _0x379ba5=_0x5b21a1,_0x47a406=_0x1482f5+0x1;let _0x263f32=_0x379ba5(0x7f5);if(_0x37c18a||_0x44c303!==-0x1){let _0x12ca81=_0x37c18a?_0x4a87fc['bestScore']===_0x1c079e:_0x4a87fc['bestScore']>=_0x44c303;const _0x114291=_0x12ca81?_0x379ba5(0x20b):_0x379ba5(0x2f3),_0x59c342=_0x12ca81?_0x379ba5(0x2ad):_0x379ba5(0x71c);_0x263f32=_0x379ba5(0x5de)+_0x114291+'\x22>'+_0x59c342+'</span></td>';}const _0x8bfbc=_0x4a87fc['attempts'][_0x4a87fc[_0x379ba5(0x40f)][_0x379ba5(0x1f2)]-0x1],_0x25c55c=(_0x8bfbc[_0x379ba5(0x7b7)]||[])[_0x379ba5(0x58b)](_0x14cac8=>{const _0x187156=_0x379ba5,_0x35ad08=Object[_0x187156(0x69f)](BADGES)[_0x187156(0x8ad)](_0x982796=>_0x982796['id']===_0x14cac8);return _0x35ad08?_0x187156(0x6d1)+_0x35ad08[_0x187156(0x531)]+_0x187156(0x331)+_0x35ad08[_0x187156(0x8be)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})['join']('');_0x58414a+=_0x379ba5(0x1fb)+_0x47a406+_0x379ba5(0x4b5)+_0x4a87fc[_0x379ba5(0x39a)]+_0x379ba5(0x8f4)+_0x4a87fc[_0x379ba5(0x7ec)]+_0x379ba5(0x784)+_0x1c079e+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x263f32+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x4a87fc['points']||0x0)+_0x379ba5(0x25e)+(_0x31ff8a?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x4a87fc[_0x379ba5(0x40f)]?.[_0x379ba5(0x1f2)]||0x1)+_0x379ba5(0x32a))+_0x379ba5(0x769)+(_0x31ff8a?'':_0x379ba5(0x8fb)+new Date(_0x4a87fc[_0x379ba5(0x7dd)])['toLocaleString'](_0x379ba5(0x8cf))+_0x379ba5(0x32a))+_0x379ba5(0x485)+(_0x25c55c||'-')+_0x379ba5(0x3cf);}),_0x4f33c0[_0x5b21a1(0x7c0)]=_0x58414a,_0x18309e&&!_0x31ff8a&&_0x18309e[_0x5b21a1(0x5fe)](_0x5b21a1(0x595))['forEach'](_0x13e03a=>{const _0x34d7b5=_0x5b21a1,_0x163c74=_0x13e03a['querySelector'](_0x34d7b5(0x6a2));if(_0x163c74)_0x163c74[_0x34d7b5(0x3b0)]();_0x13e03a[_0x34d7b5(0x7c5)][_0x34d7b5(0x908)]===quizLeaderboardSortBy&&(_0x13e03a[_0x34d7b5(0x7c0)]+=_0x34d7b5(0x696)+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x4a5ec1){const _0x3268fc=_0x2eabae;if(!currentQuizData||!currentQuizData['id']||!_0x4a5ec1){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x4a5ec1+_0x3268fc(0x4e8),async()=>{const _0x1c633f=_0x3268fc,_0x540e52=currentQuizData['id'],_0x27e609=doc(db,_0x1c633f(0x84e)+appId+_0x1c633f(0x6b8)+_0x540e52+'/submissions',_0x4a5ec1);try{await deleteDoc(_0x27e609),showMessage(_0x1c633f(0x489)+_0x4a5ec1+'\x20สำเร็จ');}catch(_0x263f9c){console['error'](_0x1c633f(0x287),_0x263f9c),showMessage(_0x1c633f(0x233));}});}async function handleLoadQuiz(){const _0x58931a=_0x2eabae,_0x4c200b=document['getElementById']('quiz-id-input'),_0x4e76f3=_0x4c200b[_0x58931a(0x223)][_0x58931a(0x88b)]();if(!_0x4e76f3){showMessage(_0x58931a(0x2c3));return;}loadQuizBtn['disabled']=!![],loadQuizBtn[_0x58931a(0x7c0)]=_0x58931a(0x21c);try{const _0x56a2bf=doc(db,_0x58931a(0x84e)+appId+'/public/data/quizzes',_0x4e76f3),_0x1ee618=await getDoc(_0x56a2bf);if(!_0x1ee618[_0x58931a(0x8df)]()){showMessage(_0x58931a(0x48b));return;}currentQuizData={'id':_0x1ee618['id'],..._0x1ee618['data']()};const _0x5eb5bd=currentQuizData['status']||_0x58931a(0x46b),_0x2b92c4=new Date();if(_0x5eb5bd===_0x58931a(0x611)){showMessage(_0x58931a(0x7d0));return;}if(_0x5eb5bd===_0x58931a(0x6e0)){const _0x473224=currentQuizData['startTime']?new Date(currentQuizData[_0x58931a(0x583)]):null,_0x56a063=currentQuizData[_0x58931a(0x6b7)]?new Date(currentQuizData['endTime']):null;if(_0x473224&&_0x2b92c4<_0x473224){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x473224[_0x58931a(0x80c)]('th-TH',{'hour12':![]}));return;}if(_0x56a063&&_0x2b92c4>_0x56a063){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x5aad20=currentQuizData['projectId'];currentProjectId=_0x5aad20;const _0x40d77a=doc(db,_0x58931a(0x84e)+appId+_0x58931a(0x628),_0x5aad20),_0x56ea91=await getDoc(_0x40d77a);if(!_0x56ea91['exists']()){showMessage(_0x58931a(0x4de));return;}const _0x40fa10=_0x56ea91[_0x58931a(0x495)]();currentStudentProjectData=_0x40fa10,displayStudentNameSelector(_0x40fa10[_0x58931a(0x164)],currentQuizData['topic']);}catch(_0x385b58){console[_0x58931a(0x497)](_0x58931a(0x676),_0x385b58),showMessage(_0x58931a(0x18a));}finally{loadQuizBtn[_0x58931a(0x423)]=![],loadQuizBtn[_0x58931a(0x7c0)]=_0x58931a(0x231);}}async function handleJoinLiveGame(){const _0x448b0b=_0x2eabae,_0x423786=document[_0x448b0b(0x6a9)](_0x448b0b(0x81e)),_0x1bc4f8=document[_0x448b0b(0x6a9)](_0x448b0b(0x574)),_0x431fbd=document[_0x448b0b(0x6a9)](_0x448b0b(0x455)),_0x8798b8=_0x423786[_0x448b0b(0x223)][_0x448b0b(0x88b)](),_0x34e794=_0x1bc4f8[_0x448b0b(0x223)]['trim']();if(!_0x8798b8||!_0x34e794){showMessage(_0x448b0b(0x2b3));return;}_0x431fbd[_0x448b0b(0x423)]=!![],_0x431fbd[_0x448b0b(0x7c0)]=_0x448b0b(0x18c);try{const _0x47c856=collection(db,'artifacts/'+appId+_0x448b0b(0x1b0)),_0x4815a9=query(_0x47c856,where(_0x448b0b(0x4cc),'==',_0x8798b8),where(_0x448b0b(0x692),'==','lobby')),_0x358956=await getDocs(_0x4815a9);if(_0x358956['empty']){showMessage(_0x448b0b(0x685));return;}const _0x44a950=_0x358956[_0x448b0b(0x825)][0x0],_0x4b7922=_0x44a950['data']();currentLiveGameId=_0x44a950['id'];const _0x2f7fe9=_0x4b7922['quizId'],_0x15d431=doc(db,_0x448b0b(0x84e)+appId+_0x448b0b(0x429),_0x2f7fe9),_0x1b65ab=await getDoc(_0x15d431);if(!_0x1b65ab[_0x448b0b(0x8df)]()){showMessage(_0x448b0b(0x569));return;}currentQuizData={'id':_0x1b65ab['id'],..._0x1b65ab[_0x448b0b(0x495)]()};if(_0x4b7922['players']&&_0x4b7922[_0x448b0b(0x42c)][_0x34e794]){showMessage(_0x448b0b(0x1a4));return;}const _0x14462c={};_0x14462c[_0x448b0b(0x275)+_0x34e794]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,'artifacts/'+appId+_0x448b0b(0x1b0),currentLiveGameId),_0x14462c),currentStudentName=_0x34e794,listenForLiveGameUpdates();}catch(_0x1e20fc){console[_0x448b0b(0x497)](_0x448b0b(0x17a),_0x1e20fc),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x431fbd[_0x448b0b(0x423)]=![],_0x431fbd[_0x448b0b(0x7c0)]=_0x448b0b(0x627);}}function displayStudentNameSelector(_0x3bab28,_0x445d1f){const _0x1fa56d=_0x2eabae,_0x8e7c2c=document[_0x1fa56d(0x6a9)]('student-name-select');document[_0x1fa56d(0x6a9)](_0x1fa56d(0x6e8))[_0x1fa56d(0x60c)]=_0x1fa56d(0x86c)+_0x445d1f,!_0x3bab28||_0x3bab28[_0x1fa56d(0x1f2)]===0x0?(_0x8e7c2c[_0x1fa56d(0x7c0)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x1fa56d(0x423)]=!![]):(_0x8e7c2c[_0x1fa56d(0x7c0)]=_0x1fa56d(0x496),_0x3bab28[_0x1fa56d(0x4ac)](_0x1a21db=>{const _0x1c9cd1=_0x1fa56d,_0x28aff3=document[_0x1c9cd1(0x349)](_0x1c9cd1(0x4d7));_0x28aff3[_0x1c9cd1(0x223)]=_0x1a21db,_0x28aff3[_0x1c9cd1(0x60c)]=_0x1a21db,_0x8e7c2c[_0x1c9cd1(0x8ce)](_0x28aff3);}),startQuizBtn[_0x1fa56d(0x423)]=![]),studentInitialView[_0x1fa56d(0x62e)][_0x1fa56d(0x6e5)]('hidden'),studentNameSelectionView[_0x1fa56d(0x62e)]['remove'](_0x1fa56d(0x3ef));}function shuffleArray(_0x3cd2a8){const _0x3158ed=_0x2eabae;for(let _0x15a50e=_0x3cd2a8[_0x3158ed(0x1f2)]-0x1;_0x15a50e>0x0;_0x15a50e--){const _0x578d1d=Math['floor'](Math[_0x3158ed(0x427)]()*(_0x15a50e+0x1));[_0x3cd2a8[_0x15a50e],_0x3cd2a8[_0x578d1d]]=[_0x3cd2a8[_0x578d1d],_0x3cd2a8[_0x15a50e]];}}function getShuffledQuiz(_0x39a779){const _0x6aeb3c=_0x2eabae;let _0x4dc249=JSON['parse'](JSON[_0x6aeb3c(0x741)](_0x39a779));const _0xae0c8=_0x4dc249[_0x6aeb3c(0x69e)]?.[_0x6aeb3c(0x4a4)]||_0x6aeb3c(0x601);if(_0xae0c8===_0x6aeb3c(0x601))return _0x4dc249;return(_0xae0c8===_0x6aeb3c(0x4c6)||_0xae0c8===_0x6aeb3c(0x7c4))&&shuffleArray(_0x4dc249['questions']),(_0xae0c8===_0x6aeb3c(0x388)||_0xae0c8===_0x6aeb3c(0x7c4))&&_0x4dc249[_0x6aeb3c(0x813)][_0x6aeb3c(0x4ac)](_0x27811d=>{const _0x537dc8=_0x6aeb3c,_0x328353=_0x27811d[_0x537dc8(0x2a3)]||_0x4dc249['quizType'];if(_0x27811d[_0x537dc8(0x8de)]){let _0x4bb5d8=_0x27811d[_0x537dc8(0x8de)][_0x537dc8(0x58b)]((_0x49a17d,_0x28bc95)=>({'text':_0x49a17d,'isCorrect':_0x28bc95===_0x27811d['correctAnswerIndex']}));shuffleArray(_0x4bb5d8),_0x27811d[_0x537dc8(0x8de)]=_0x4bb5d8['map'](_0x189b53=>_0x189b53[_0x537dc8(0x675)]),_0x27811d[_0x537dc8(0x58f)]=_0x4bb5d8['findIndex'](_0x4e032b=>_0x4e032b[_0x537dc8(0x671)]);}_0x328353===_0x537dc8(0x29d)&&_0x27811d[_0x537dc8(0x47e)]&&shuffleArray(_0x27811d[_0x537dc8(0x47e)]);}),_0x4dc249;}function displayQuizForStudent(_0x10a4c6){const _0x261c29=_0x2eabae;studentQuizArea['classList'][_0x261c29(0x3b0)](_0x261c29(0x3ef)),currentDisplayedQuiz=getShuffledQuiz(_0x10a4c6),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener']('fullscreenchange',handleFullscreenChange),document[_0x261c29(0x639)](_0x261c29(0x900),handleVisibilityChange);currentMode!=='admin-testing'&&enterFullscreen();const _0x48844e=currentDisplayedQuiz[_0x261c29(0x69e)]?.['timerMode']||_0x261c29(0x601);if(_0x48844e===_0x261c29(0x829))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings']['timerDuration']);else _0x48844e==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0xa1e712=_0x2eabae;let _0x1c5433=_0xa1e712(0x382)+currentDisplayedQuiz[_0xa1e712(0x4d1)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin-testing'?_0xa1e712(0x3d6):'')+_0xa1e712(0x7e7);currentDisplayedQuiz['questions'][_0xa1e712(0x4ac)]((_0x3cdf8a,_0x266edc)=>{const _0x3ee9cd=_0xa1e712,_0x4a16a2=_0x3cdf8a['questionType']||currentDisplayedQuiz['quizType'];_0x1c5433+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x4a16a2===_0x3ee9cd(0x29d)?_0x1c5433+=_0x3ee9cd(0x176)+(_0x266edc+0x1)+'.\x20'+_0x3cdf8a['stem']+_0x3ee9cd(0x6f7)+_0x266edc+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3cdf8a[_0x3ee9cd(0x47e)][_0x3ee9cd(0x58b)](_0x22456f=>'<option\x20value=\x22'+_0x22456f+'\x22>'+_0x22456f+_0x3ee9cd(0x7b4))['join']('')+_0x3ee9cd(0x747):(_0x1c5433+=_0x3ee9cd(0x599)+(_0x266edc+0x1)+'.\x20'+(_0x3cdf8a[_0x3ee9cd(0x4a9)]||_0x3cdf8a[_0x3ee9cd(0x836)])+_0x3ee9cd(0x1d8),_0x3cdf8a[_0x3ee9cd(0x753)]&&(_0x1c5433+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3cdf8a[_0x3ee9cd(0x753)]+'</div>'));_0x1c5433+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x4a16a2){case'short_answer':_0x1c5433+=_0x3ee9cd(0x79a)+_0x266edc+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x3ee9cd(0x254):_0x1c5433+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x266edc+_0x3ee9cd(0x6ac)+_0x266edc+_0x3ee9cd(0x8d6)+_0x266edc+'_opt0\x22>ใช่</label></div>',_0x1c5433+=_0x3ee9cd(0x70b)+_0x266edc+_0x3ee9cd(0x417)+_0x266edc+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x266edc+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x3ee9cd(0x29d):break;case'fill_in_the_blank':case _0x3ee9cd(0x299):default:_0x1c5433+=_0x3cdf8a[_0x3ee9cd(0x8de)]['map']((_0x59a2c4,_0x2a3f09)=>'\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x266edc+'_opt'+_0x2a3f09+'\x22\x20name=\x22question'+_0x266edc+'\x22\x20value=\x22'+_0x2a3f09+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x266edc+_0x3ee9cd(0x63f)+_0x2a3f09+'\x22>'+_0x59a2c4+_0x3ee9cd(0x86b))[_0x3ee9cd(0x702)]('');break;}_0x1c5433+=_0x3ee9cd(0x3bb);}),_0x1c5433+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x1c5433+=_0xa1e712(0x551),studentQuizArea[_0xa1e712(0x7c0)]=_0x1c5433;if(currentMode===_0xa1e712(0x398)){const _0xfa106b=document['getElementById'](_0xa1e712(0x572));if(_0xfa106b)_0xfa106b[_0xa1e712(0x639)]('click',cancelAdminTest);}document[_0xa1e712(0x6a9)]('quiz-form')[_0xa1e712(0x639)](_0xa1e712(0x8d0),handleSubmitQuiz);if(window[_0xa1e712(0x6d3)])window['MathJax']['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x49299f){const _0x142275=_0x2eabae;if(_0x49299f)_0x49299f[_0x142275(0x8f5)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x224c59=document[_0x142275(0x6a9)]('quiz-form');if(!_0x224c59)return;const _0x270891=_0x224c59[_0x142275(0x451)](_0x142275(0x90a)),_0xa17f61=currentDisplayedQuiz[_0x142275(0x813)][_0x142275(0x585)](_0x420447=>_0x420447[_0x142275(0x2a3)]===_0x142275(0x53e));_0x270891&&(_0x270891[_0x142275(0x423)]=!![],_0xa17f61?_0x270891[_0x142275(0x7c0)]=_0x142275(0x22c):_0x270891['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0xfa4eff=new FormData(_0x224c59),_0x5daf52=currentDisplayedQuiz[_0x142275(0x813)][_0x142275(0x58b)]((_0x451515,_0x3a53c8)=>{const _0x57b878=_0x142275,_0x1afe34=_0x451515[_0x57b878(0x2a3)]||currentDisplayedQuiz[_0x57b878(0x6bc)],_0x5dc132=_0xfa4eff[_0x57b878(0x880)](_0x57b878(0x5d6)+_0x3a53c8);if(_0x5dc132!==null&&_0x5dc132!==undefined){if(_0x1afe34==='multiple_choice'||_0x1afe34==='fill_in_the_blank')return parseInt(_0x5dc132);return _0x5dc132;}return null;}),_0x5198ae=currentQuizData['id'],_0x3e04d2=doc(db,'artifacts/'+appId+_0x142275(0x6b8)+_0x5198ae+'/submissions',currentStudentName),_0x25defc=await getDoc(_0x3e04d2),_0x423e54=_0x25defc[_0x142275(0x8df)]()?_0x25defc['data']():{},_0x199d95=_0x423e54[_0x142275(0x40f)]||[];await processAndSubmitAnswers(_0x5daf52,_0x199d95);}async function gradeShortAnswerWithAI(_0x3ee280,_0x224914){const _0x5478a1=_0x2eabae;if(!_0x3ee280||!_0x224914)return![];try{const _0x4f0cf5=_0x5478a1(0x371)+_0x3ee280+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x224914+_0x5478a1(0x2a0),_0x443e98={'contents':[{'role':_0x5478a1(0x729),'parts':[{'text':_0x4f0cf5}]}]},_0x5aaade=_0x5478a1(0x5dd),_0x4ea4f7=_0x5478a1(0x3ac)+_0x5aaade,_0x50a1ef=await fetch(_0x4ea4f7,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x5478a1(0x741)](_0x443e98)});if(!_0x50a1ef['ok'])throw new Error(_0x5478a1(0x360));const _0x3b3e02=await _0x50a1ef[_0x5478a1(0x7d4)](),_0x4bf5cd=_0x3b3e02[_0x5478a1(0x54e)][0x0][_0x5478a1(0x45e)][_0x5478a1(0x5fd)][0x0]['text']['trim']()['toLowerCase']();return _0x4bf5cd===_0x5478a1(0x408);}catch(_0x6729b){return console[_0x5478a1(0x497)](_0x5478a1(0x584),_0x6729b),![];}}async function processAndSubmitAnswers(_0x2a03b1,_0x4b6714){const _0x49fea9=_0x2eabae;exitFullscreen(),isQuizActive=![],document[_0x49fea9(0x17b)]('fullscreenchange',handleFullscreenChange),document[_0x49fea9(0x17b)](_0x49fea9(0x900),handleVisibilityChange);let _0x5a109d=0x0,_0x2cd9c3=0x0,_0x1ac05c=[];const _0xb68328=[],_0xc4d822=currentDisplayedQuiz[_0x49fea9(0x813)][_0x49fea9(0x1f2)];let _0x5e4964=0x0;const _0x4643a8=currentDisplayedQuiz[_0x49fea9(0x813)];for(let _0x52ae9b=0x0;_0x52ae9b<_0x4643a8['length'];_0x52ae9b++){const _0x4f07df=_0x4643a8[_0x52ae9b],_0x4ffa71=_0x2a03b1[_0x52ae9b],_0x5c500c=_0x4f07df[_0x49fea9(0x2a3)]||currentDisplayedQuiz[_0x49fea9(0x6bc)];let _0x4d356d=![];if(_0x4ffa71!==null&&_0x4ffa71!=='')switch(_0x5c500c){case _0x49fea9(0x29d):_0x4d356d=_0x4ffa71===_0x4f07df['correctResponse'];break;case _0x49fea9(0x254):const _0x3191d4=_0x4ffa71===!![]||_0x4ffa71===_0x49fea9(0x408);_0x4d356d=_0x3191d4===_0x4f07df[_0x49fea9(0x213)];break;case _0x49fea9(0x4ae):case _0x49fea9(0x299):default:_0x4d356d=Number(_0x4ffa71)===_0x4f07df[_0x49fea9(0x58f)];break;case'short_answer':_0x4d356d=await gradeShortAnswer(_0x4ffa71,_0x4f07df);break;}_0x4d356d?(_0x5a109d++,_0x5e4964++,_0x5e4964===0x3&&(_0x1ac05c[_0x49fea9(0x5c7)](BADGES['ON_FIRE']['id']),_0x5e4964=0x0)):_0x5e4964=0x0;let _0x4558c8=null;_0x4f07df[_0x49fea9(0x8de)]&&_0x4ffa71!==null&&(_0x4558c8=_0x4f07df[_0x49fea9(0x8de)][_0x4ffa71]),_0xb68328[_0x49fea9(0x5c7)]({'questionId':_0x4f07df['id'],'answer':_0x4ffa71,'answerText':_0x4558c8,'isCorrect':_0x4d356d,'originalQuestionText':_0x4f07df['stem']||_0x4f07df[_0x49fea9(0x836)]});}_0x2cd9c3=_0x5a109d*0xa;_0x5a109d===_0xc4d822&&_0xc4d822>0x0&&!currentDisplayedQuiz[_0x49fea9(0x3b2)]&&(_0x2cd9c3+=0x32,_0x1ac05c[_0x49fea9(0x5c7)](BADGES[_0x49fea9(0x542)]['id']));const _0x2a74b9=currentDisplayedQuiz[_0x49fea9(0x69e)]?.[_0x49fea9(0x82d)]??Math['floor'](_0xc4d822/0x2),_0x18d363=currentDisplayedQuiz['settings']?.[_0x49fea9(0x864)];if(_0x18d363===_0x49fea9(0x829)&&quizStartTime){const _0x3682e6=(new Date()-quizStartTime)/0x3e8,_0x56766b=currentDisplayedQuiz[_0x49fea9(0x69e)]['timerDuration']*0x3c;_0x5a109d>=_0x2a74b9&&_0x3682e6<_0x56766b/0x2&&(_0x2cd9c3+=0x14,_0x1ac05c['push'](BADGES[_0x49fea9(0x7b1)]['id']));}_0x4b6714[_0x49fea9(0x1f2)]===0x0&&_0x5a109d===_0xc4d822&&_0xc4d822>0x0&&_0x1ac05c[_0x49fea9(0x5c7)](BADGES[_0x49fea9(0x633)]['id']);if(_0x4b6714[_0x49fea9(0x1f2)]>0x0){const _0x46ec47=_0x4b6714[0x0][_0x49fea9(0x7a9)];if(_0x46ec47<_0x2a74b9&&_0x5a109d>=_0x2a74b9){const _0x4ca4b6=_0x4b6714['some'](_0x291bed=>(_0x291bed[_0x49fea9(0x7b7)]||[])[_0x49fea9(0x376)](BADGES[_0x49fea9(0x1a1)]['id']));!_0x4ca4b6&&_0x1ac05c[_0x49fea9(0x5c7)](BADGES[_0x49fea9(0x1a1)]['id']);}}_0x4b6714[_0x49fea9(0x1f2)]===0x4&&_0x1ac05c[_0x49fea9(0x5c7)](BADGES[_0x49fea9(0x188)]['id']);const _0x587bbd=currentDisplayedQuiz[_0x49fea9(0x69e)][_0x49fea9(0x3df)];if(currentMode===_0x49fea9(0x398)){handleResultDisplay(_0x587bbd,_0x5a109d,_0x2cd9c3,_0x1ac05c,_0xb68328,_0xc4d822);return;}const _0x2c4c8b=currentQuizData['id'],_0x1af6ee=doc(db,'artifacts/'+appId+_0x49fea9(0x6b8)+_0x2c4c8b+_0x49fea9(0x691),currentStudentName);try{const _0x15ac04=[..._0x4b6714],_0x4b27d7={'score':_0x5a109d,'points':_0x2cd9c3,'badges':_0x1ac05c,'submittedAt':new Date()['toISOString'](),'answers':_0xb68328};_0x15ac04[_0x49fea9(0x5c7)](_0x4b27d7);const _0x9a22a8=_0x15ac04[0x0][_0x49fea9(0x7a9)],_0x55d1ef=Math['max'](..._0x15ac04[_0x49fea9(0x58b)](_0x5d438b=>_0x5d438b[_0x49fea9(0x7a9)])),_0x5eb52a=_0x5a109d,_0x5d8eac=_0x4b27d7['submittedAt'];await setDoc(_0x1af6ee,{'studentName':currentStudentName,'totalQuestions':_0xc4d822,'attempts':_0x15ac04,'firstScore':_0x9a22a8,'bestScore':_0x55d1ef,'latestScore':_0x5eb52a,'points':_0x2cd9c3,'latestSubmittedAt':_0x5d8eac},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x49fea9(0x588)],currentStudentName),handleResultDisplay(_0x587bbd,_0x5a109d,_0x2cd9c3,_0x1ac05c,_0xb68328,_0xc4d822);}catch(_0x58b0e9){console[_0x49fea9(0x497)]('Error\x20saving\x20submission:',_0x58b0e9),showMessage(_0x49fea9(0x29c));}}async function updateStudentProfile(_0x3aed28,_0x1b2d33){const _0x222acf=_0x2eabae,_0x13a426=doc(db,_0x222acf(0x84e)+appId+_0x222acf(0x642)+_0x3aed28+'/studentProfiles',_0x1b2d33);try{const _0x2b1be2=query(collection(db,'artifacts/'+appId+_0x222acf(0x429)),where(_0x222acf(0x588),'==',_0x3aed28)),_0x542649=await getDocs(_0x2b1be2),_0x2eec48=new Map(_0x542649[_0x222acf(0x825)][_0x222acf(0x58b)](_0x4751f6=>[_0x4751f6['id'],_0x4751f6['data']()])),_0x305c55=Array[_0x222acf(0x36c)](_0x2eec48[_0x222acf(0x282)]());await runTransaction(db,async _0x18e892=>{const _0x592050=_0x222acf;let _0x309acc=0x0;const _0xaaea20={};let _0x396966=!![],_0x1cb485=0x0,_0x3bf824=0x0;for(const _0x255f1c of _0x305c55){const _0xfb67ea=_0x2eec48[_0x592050(0x880)](_0x255f1c),_0xcb72cc=doc(db,_0x592050(0x84e)+appId+_0x592050(0x6b8)+_0x255f1c+_0x592050(0x691),_0x1b2d33),_0x94495b=await _0x18e892[_0x592050(0x880)](_0xcb72cc);if(_0x94495b[_0x592050(0x8df)]()){const _0x39c405=_0x94495b[_0x592050(0x495)](),_0x5e88d8=_0x39c405[_0x592050(0x40f)]||[];if(_0x5e88d8[_0x592050(0x1f2)]>0x0){const _0x55023c=_0x5e88d8[_0x592050(0x54c)]((_0x399814,_0x52bf2d)=>{const _0x57cd19=_0x592050;if(_0x52bf2d[_0x57cd19(0x7a9)]>_0x399814[_0x57cd19(0x7a9)])return _0x52bf2d;if(_0x52bf2d['score']===_0x399814[_0x57cd19(0x7a9)])return(_0x52bf2d[_0x57cd19(0x8e2)]||0x0)>(_0x399814[_0x57cd19(0x8e2)]||0x0)?_0x52bf2d:_0x399814;return _0x399814;},{'score':-0x1,'points':-0x1});_0x55023c['score']>-0x1&&(_0x309acc+=_0x55023c[_0x592050(0x8e2)]||0x0,(_0x55023c[_0x592050(0x7b7)]||[])[_0x592050(0x4ac)](_0x23a661=>{_0xaaea20[_0x23a661]=(_0xaaea20[_0x23a661]||0x0)+0x1;}));}}if(_0xfb67ea[_0x592050(0x4d1)]!==_0x592050(0x758)){_0x3bf824++;if(_0x94495b[_0x592050(0x8df)]()){_0x1cb485++;const _0x4a4444=_0x94495b['data']();_0x4a4444['bestScore']!==_0x4a4444[_0x592050(0x342)]&&(_0x396966=![]);}else _0x396966=![];}}_0x3bf824>0x0&&_0x1cb485===_0x3bf824&&_0x396966?_0xaaea20[_0x592050(0x357)]=0x1:_0xaaea20[_0x592050(0x357)]=0x0,_0x18e892['set'](_0x13a426,{'studentName':_0x1b2d33,'totalPoints':_0x309acc,'unlockedBadges':Object[_0x592050(0x282)](_0xaaea20)[_0x592050(0x613)](_0x5ef63b=>_0xaaea20[_0x5ef63b]>0x0),'badgesCount':_0xaaea20},{'merge':!![]});});}catch(_0x3a71fe){console[_0x222acf(0x497)](_0x222acf(0x484),_0x3a71fe),showMessage(_0x222acf(0x792));}}function startAdminTest(){const _0x98d80f=_0x2eabae;if(!currentQuizData){showMessage(_0x98d80f(0x1df));return;}let _0xbb9de5=JSON[_0x98d80f(0x4d0)](JSON['stringify'](currentQuizData));currentMode=_0x98d80f(0x398),currentStudentName=_0x98d80f(0x290),adminView[_0x98d80f(0x62e)][_0x98d80f(0x6e5)]('hidden'),studentView['classList'][_0x98d80f(0x3b0)](_0x98d80f(0x3ef)),studentInitialView[_0x98d80f(0x62e)][_0x98d80f(0x6e5)](_0x98d80f(0x3ef)),studentNameSelectionView[_0x98d80f(0x62e)][_0x98d80f(0x6e5)](_0x98d80f(0x3ef)),studentResultArea[_0x98d80f(0x62e)][_0x98d80f(0x6e5)](_0x98d80f(0x3ef)),studentQuizArea[_0x98d80f(0x62e)][_0x98d80f(0x3b0)](_0x98d80f(0x3ef)),quizStartTime=new Date(),displayQuizForStudent(_0xbb9de5);}function handleResultDisplay(_0x159335,_0x5c67eb,_0x412e26,_0x581224,_0x151d02,_0x15be34){const _0xa62021=_0x2eabae;if(_0x159335===_0xa62021(0x269)){displaySubmissionConfirmation();return;}const _0x512fed=currentDisplayedQuiz['settings']?.[_0xa62021(0x82d)]??Math[_0xa62021(0x5b7)](_0x15be34/0x2),_0x380c33=currentDisplayedQuiz[_0xa62021(0x69e)]?.['isAdaptive']??![],_0xbcbc65=currentDisplayedQuiz[_0xa62021(0x69e)]?.[_0xa62021(0x529)]===!![],_0x4f7321=_0x5c67eb<_0x512fed;if(_0xbcbc65&&_0x4f7321){_0x159335===_0xa62021(0x8c0)?displayResultsWithAnswers(_0x5c67eb,_0x412e26,_0x581224,_0x151d02,_0x15be34,!![]):displayLoopScreen(_0x5c67eb,_0x15be34,_0x159335);return;}if(_0x380c33&&_0x4f7321){startAdaptiveFlow(_0x151d02,_0x5c67eb,_0x15be34);return;}switch(_0x159335){case _0xa62021(0x8c0):displayResultsWithAnswers(_0x5c67eb,_0x412e26,_0x581224,_0x151d02,_0x15be34);break;case _0xa62021(0x33b):displayResultsScoreOnly(_0x5c67eb,_0x412e26,_0x581224,_0x15be34);break;case'show_pass_fail_only':displayPassFailOnly(_0x5c67eb,_0x15be34);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0xb5ffe3){const _0x4e3544=_0x2eabae;studentReadingArea[_0x4e3544(0x7c0)]=_0x4e3544(0x571);const _0x2c43da=_0x4e3544(0x736)+_0xb5ffe3+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x3f6860={'type':_0x4e3544(0x733),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x4e3544(0x5df)}},'correctAnswerIndex':{'type':_0x4e3544(0x3be)},'explanation':{'type':_0x4e3544(0x5df)}},'required':['questionText',_0x4e3544(0x8de),_0x4e3544(0x58f),_0x4e3544(0x61f)]},_0x183a37={'type':_0x4e3544(0x733),'properties':{'topic':{'type':_0x4e3544(0x5df)},'questions':{'type':_0x4e3544(0x635),'items':_0x3f6860}},'required':[_0x4e3544(0x4d1),_0x4e3544(0x813)]};try{const _0x172ef3=await callAnalysisApi(_0x2c43da,_0x183a37);_0x172ef3[_0x4e3544(0x3b2)]=!![],studentReadingArea[_0x4e3544(0x62e)]['add'](_0x4e3544(0x3ef));const _0x327825={...currentDisplayedQuiz[_0x4e3544(0x69e)],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x172ef3[_0x4e3544(0x69e)]=_0x327825,displayQuizForStudent(_0x172ef3);}catch(_0x43647b){console[_0x4e3544(0x497)](_0x4e3544(0x6db),_0x43647b),showMessage(_0x4e3544(0x742)),showView('student');}}function displayPassFailOnly(_0xadb770,_0x275731){const _0x5cfa09=_0x2eabae,_0x15553f=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x4d4f2e=currentDisplayedQuiz['isRemedial']===!![];let _0x5dd28c='';if(_0x4d4f2e||_0x15553f!==-0x1){let _0x54f256;_0x4d4f2e?_0x54f256=_0xadb770===_0x275731:_0x54f256=_0xadb770>=_0x15553f;const _0x484c90=_0x54f256?_0x5cfa09(0x20b):_0x5cfa09(0x2f3),_0x34e9ac=_0x54f256?'ผ่าน':_0x5cfa09(0x71c);_0x5dd28c='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x484c90+'\x22>'+_0x34e9ac+_0x5cfa09(0x779);}else _0x5dd28c=_0x5cfa09(0x5f1);let _0x4f6087=_0x5cfa09(0x527)+currentStudentName+_0x5cfa09(0x872)+_0x5dd28c+_0x5cfa09(0x7bd);studentResultArea[_0x5cfa09(0x7c0)]=_0x4f6087,studentResultArea[_0x5cfa09(0x62e)][_0x5cfa09(0x3b0)]('hidden'),studentQuizArea['classList'][_0x5cfa09(0x6e5)](_0x5cfa09(0x3ef));const _0x16e0c7='back-from-results-btn',_0x25e5ed=currentMode===_0x5cfa09(0x398),_0x459b6b=_0x25e5ed?_0x5cfa09(0x6da):_0x5cfa09(0x4a0),_0x4affd5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22'+_0x16e0c7+_0x5cfa09(0x185)+_0x459b6b+_0x5cfa09(0x74b);studentResultArea[_0x5cfa09(0x626)](_0x5cfa09(0x2c9),_0x4affd5),document['getElementById'](_0x16e0c7)[_0x5cfa09(0x639)](_0x5cfa09(0x7f4),()=>{const _0x248ff0=_0x5cfa09;_0x25e5ed?(currentMode=_0x248ff0(0x319),studentView[_0x248ff0(0x62e)][_0x248ff0(0x6e5)](_0x248ff0(0x3ef)),adminView['classList'][_0x248ff0(0x3b0)](_0x248ff0(0x3ef)),showView('project-detail')):(showView('student'),document[_0x248ff0(0x6a9)](_0x248ff0(0x2e0))[_0x248ff0(0x223)]='');});}function cancelAdminTest(){const _0x38153d=_0x2eabae;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);exitFullscreen(),document[_0x38153d(0x17b)](_0x38153d(0x21a),handleFullscreenChange),document[_0x38153d(0x17b)](_0x38153d(0x900),handleVisibilityChange),currentMode=_0x38153d(0x319),studentView[_0x38153d(0x62e)][_0x38153d(0x6e5)](_0x38153d(0x3ef)),adminView[_0x38153d(0x62e)][_0x38153d(0x3b0)](_0x38153d(0x3ef)),showView('project-detail');}function setupResultScreenBackButton(_0x3aec5c=![],_0x4ed158,_0x1fa9a9){const _0x298191=_0x2eabae;if(_0x3aec5c){const _0x36e1f7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x298191(0x626)](_0x298191(0x2c9),_0x36e1f7),document[_0x298191(0x6a9)](_0x298191(0x5cb))[_0x298191(0x639)](_0x298191(0x7f4),()=>{const _0x13a056=_0x298191;studentResultArea['classList']['add'](_0x13a056(0x3ef)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x5243a3=_0x298191(0x39d),_0x45339e=currentMode===_0x298191(0x398),_0x477db9=_0x45339e?_0x298191(0x81c):_0x298191(0x355);let _0x46b015='';_0x46b015+=_0x298191(0x6de);_0x4ed158!==undefined&&_0x1fa9a9!==undefined&&_0x4ed158<_0x1fa9a9&&(_0x46b015+=_0x298191(0x260));_0x46b015+=_0x298191(0x87a)+_0x5243a3+_0x298191(0x806)+_0x477db9+_0x298191(0x25a);const _0x413ec8=_0x298191(0x172)+_0x46b015+_0x298191(0x7bd);studentResultArea['insertAdjacentHTML']('beforeend',_0x413ec8),studentResultArea['querySelector'](_0x298191(0x33a))?.['addEventListener'](_0x298191(0x7f4),handleShowStudentRankings);const _0x54e164=studentResultArea['querySelector'](_0x298191(0x849));_0x54e164&&_0x54e164[_0x298191(0x639)](_0x298191(0x7f4),()=>{const _0x581614=_0x298191;studentResultArea[_0x581614(0x62e)][_0x581614(0x6e5)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x5243a3)[_0x298191(0x639)](_0x298191(0x7f4),()=>{const _0x5946bc=_0x298191;_0x45339e?(currentMode=_0x5946bc(0x319),studentView['classList'][_0x5946bc(0x6e5)]('hidden'),adminView[_0x5946bc(0x62e)]['remove']('hidden'),showView(_0x5946bc(0x840))):(showView('student'),document[_0x5946bc(0x6a9)](_0x5946bc(0x2e0))[_0x5946bc(0x223)]='');});}function displayResultsWithAnswers(_0x3749ea,_0xf4254f,_0x467224,_0x342d48,_0x363c01,_0x581e63=![]){const _0xa0c826=_0x2eabae,_0x17e100=_0x363c01>0x0?_0x3749ea/_0x363c01*0x64:0x0,_0x64158c=currentDisplayedQuiz['settings']?.[_0xa0c826(0x82d)]??-0x1,_0x3ca75f=currentDisplayedQuiz[_0xa0c826(0x3b2)]===!![];let _0x273cf1='';if(_0x3ca75f||_0x64158c!==-0x1){let _0x3c2e15=_0x3ca75f?_0x3749ea===_0x363c01:_0x3749ea>=_0x64158c;const _0x3ae90b=_0x3c2e15?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x4ead3e=_0x3c2e15?_0xa0c826(0x2ad):_0xa0c826(0x71c);_0x273cf1='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x3ae90b+'\x22>'+_0x4ead3e+_0xa0c826(0x1d8);}let _0xb073ba=_0xa0c826(0x766)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x3749ea+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x363c01+_0xa0c826(0x717)+_0x273cf1+_0xa0c826(0x833)+_0xf4254f+_0xa0c826(0x4c4)+_0x17e100[_0xa0c826(0x859)](0x0)+_0xa0c826(0x37d);currentDisplayedQuiz[_0xa0c826(0x813)][_0xa0c826(0x4ac)]((_0x3ae97c,_0x3c1845)=>{const _0x479c87=_0xa0c826,_0x1e7511=_0x342d48[_0x3c1845],_0x27953f=_0x1e7511[_0x479c87(0x71b)],_0x4fa0be=_0x1e7511[_0x479c87(0x671)],_0x2ccbb9=_0x3ae97c[_0x479c87(0x2a3)]||currentDisplayedQuiz[_0x479c87(0x6bc)];_0xb073ba+=_0x479c87(0x4aa)+(_0x4fa0be?'border-green-300\x20bg-green-50':_0x479c87(0x229))+_0x479c87(0x8fd)+(_0x3c1845+0x1)+'.\x20'+(_0x3ae97c[_0x479c87(0x416)]||_0x3ae97c[_0x479c87(0x836)])+_0x479c87(0x68f);switch(_0x2ccbb9){case _0x479c87(0x29d):const _0x52dd9b=_0x27953f||_0x479c87(0x49d),_0x26f6a5=_0x3ae97c[_0x479c87(0x308)];_0xb073ba+=_0x479c87(0x211)+(!_0x4fa0be?'line-through\x20text-red-700':'')+'\x22>'+_0x52dd9b+_0x479c87(0x682);!_0x4fa0be&&(_0xb073ba+=_0x479c87(0x697)+_0x26f6a5+_0x479c87(0x1d8));break;case _0x479c87(0x53e):_0xb073ba+=_0x479c87(0x6a5)+(_0x27953f||_0x479c87(0x49d))+_0x479c87(0x1d8),_0xb073ba+=_0x479c87(0x321)+_0x3ae97c[_0x479c87(0x695)]+'</p>';break;case'true_false':_0xb073ba+=_0x479c87(0x3ca)+(_0x3ae97c[_0x479c87(0x213)]===!![]?_0x479c87(0x7b0):'')+'\x20'+(_0x27953f===_0x479c87(0x408)&&!_0x4fa0be?_0x479c87(0x47a):'')+_0x479c87(0x29a),_0xb073ba+=_0x479c87(0x3ca)+(_0x3ae97c[_0x479c87(0x213)]===![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x27953f===_0x479c87(0x1e7)&&!_0x4fa0be?_0x479c87(0x47a):'')+_0x479c87(0x60e);break;default:_0xb073ba+=_0x3ae97c[_0x479c87(0x8de)][_0x479c87(0x58b)]((_0x13179d,_0x36a029)=>{const _0x2bcd38=_0x479c87;let _0x2f587f='',_0x4a50bd='';if(_0x36a029===_0x3ae97c[_0x2bcd38(0x58f)])_0x2f587f=_0x2bcd38(0x7b0),_0x4a50bd=_0x2bcd38(0x705);else _0x36a029===_0x27953f&&(_0x2f587f=_0x2bcd38(0x7f0),_0x4a50bd=_0x2bcd38(0x3a0));return _0x2bcd38(0x656)+_0x2f587f+'\x22>'+_0x4a50bd+_0x13179d+'</div>';})[_0x479c87(0x702)]('');break;}_0xb073ba+=_0x479c87(0x58d)+(_0x3ae97c[_0x479c87(0x61f)]||'ไม่มีคำอธิบาย')+_0x479c87(0x8dc);if(!_0x4fa0be){const _0x10a150=_0x3ae97c[_0x479c87(0x416)]||_0x3ae97c['questionText'];_0xb073ba+=_0x479c87(0x5a5)+escape(_0x10a150)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0xb073ba+=_0x479c87(0x8dc);}),studentResultArea[_0xa0c826(0x7c0)]=_0xb073ba,renderEarnedBadges(_0x467224,_0xa0c826(0x513)),studentResultArea[_0xa0c826(0x62e)][_0xa0c826(0x3b0)](_0xa0c826(0x3ef)),studentQuizArea[_0xa0c826(0x62e)][_0xa0c826(0x6e5)](_0xa0c826(0x3ef)),setupResultScreenBackButton(_0x581e63,_0x3749ea,_0x363c01);if(window[_0xa0c826(0x6d3)])window[_0xa0c826(0x6d3)]['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x26bd5d,_0x14d6f6,_0x5520cf,_0x336cd9){const _0x3b61f3=_0x2eabae,_0x2b5d2c=_0x336cd9>0x0?_0x26bd5d/_0x336cd9*0x64:0x0,_0x3137f2=currentDisplayedQuiz[_0x3b61f3(0x69e)]?.[_0x3b61f3(0x82d)]??-0x1,_0x49dbc5=currentDisplayedQuiz['isRemedial']===!![];let _0xb8316f='';if(_0x49dbc5||_0x3137f2!==-0x1){let _0x16d206;_0x49dbc5?_0x16d206=_0x26bd5d===_0x336cd9:_0x16d206=_0x26bd5d>=_0x3137f2;const _0x11385e=_0x16d206?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x356e46=_0x16d206?_0x3b61f3(0x2ad):'ไม่ผ่าน';_0xb8316f=_0x3b61f3(0x318)+_0x11385e+'\x22>'+_0x356e46+'</p>';}let _0xb22343=_0x3b61f3(0x636)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x26bd5d+_0x3b61f3(0x76e)+_0x336cd9+_0x3b61f3(0x717)+_0xb8316f+_0x3b61f3(0x833)+_0x14d6f6+_0x3b61f3(0x402)+_0x2b5d2c[_0x3b61f3(0x859)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x3b61f3(0x7c0)]=_0xb22343,renderEarnedBadges(_0x5520cf,_0x3b61f3(0x513)),studentResultArea[_0x3b61f3(0x62e)]['remove'](_0x3b61f3(0x3ef)),studentQuizArea['classList'][_0x3b61f3(0x6e5)](_0x3b61f3(0x3ef)),setupResultScreenBackButton(![],_0x26bd5d,_0x336cd9);}function displaySubmissionConfirmation(){const _0x349484=_0x2eabae;let _0x2d66dd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x349484(0x7c0)]=_0x2d66dd,studentResultArea[_0x349484(0x62e)][_0x349484(0x3b0)](_0x349484(0x3ef)),studentQuizArea[_0x349484(0x62e)]['add'](_0x349484(0x3ef)),document['getElementById'](_0x349484(0x3f2))['addEventListener'](_0x349484(0x7f4),()=>{const _0x9e9a35=_0x349484;showView(_0x9e9a35(0x817)),document[_0x9e9a35(0x6a9)](_0x9e9a35(0x2e0))[_0x9e9a35(0x223)]='';});}function renderEarnedBadges(_0x4ff052,_0x2131bf){const _0x404b0e=_0x2eabae,_0x5ecda1=document[_0x404b0e(0x6a9)](_0x2131bf);if(!_0x5ecda1||!_0x4ff052||_0x4ff052[_0x404b0e(0x1f2)]===0x0)return;let _0x4ebfc6='';_0x4ff052[_0x404b0e(0x4ac)]((_0x337f53,_0x29304d)=>{const _0x39f991=_0x404b0e,_0x2ad440=Object['values'](BADGES)['find'](_0x22b813=>_0x22b813['id']===_0x337f53);_0x2ad440&&(_0x4ebfc6+=_0x39f991(0x5f2)+_0x29304d*0.2+'s;\x22\x20title=\x22'+_0x2ad440['description']+_0x39f991(0x73c)+_0x2ad440[_0x39f991(0x8be)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x2ad440[_0x39f991(0x531)]+_0x39f991(0x5a4));}),_0x5ecda1[_0x404b0e(0x7c0)]=_0x4ebfc6;}function startPresentation(_0x11d7c1){const _0x5039b1=_0x2eabae;currentQuizData=getShuffledQuiz(_0x11d7c1),currentPresentationSlide=0x0,presentationModal[_0x5039b1(0x896)]['display']=_0x5039b1(0x667),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x53b0be=_0x2eabae;document['fullscreenElement']&&document[_0x53b0be(0x821)](),presentationModal[_0x53b0be(0x896)][_0x53b0be(0x16d)]=_0x53b0be(0x601);}function renderPresentationSlide(_0x392ad3){const _0x4a2b2e=_0x2eabae,_0x5e7ba4=document[_0x4a2b2e(0x6a9)](_0x4a2b2e(0x30b));if(!currentQuizData||!currentQuizData[_0x4a2b2e(0x813)]||!currentQuizData[_0x4a2b2e(0x813)][_0x392ad3]){_0x5e7ba4[_0x4a2b2e(0x7c0)]=_0x4a2b2e(0x6bd);return;}const _0x37f85b=currentQuizData[_0x4a2b2e(0x813)][_0x392ad3],_0x55081f=_0x37f85b[_0x4a2b2e(0x2a3)]||currentQuizData['quizType'];_0x5e7ba4[_0x4a2b2e(0x7c0)]='';let _0x132d7c=_0x4a2b2e(0x88e)+(_0x37f85b['imageCode']?_0x4a2b2e(0x745)+_0x37f85b[_0x4a2b2e(0x753)]+_0x4a2b2e(0x8dc):'')+_0x4a2b2e(0x356)+(_0x392ad3+0x1)+'.\x20'+(_0x37f85b['stem']||_0x37f85b[_0x4a2b2e(0x836)])+_0x4a2b2e(0x5b8);switch(_0x55081f){case _0x4a2b2e(0x29d):_0x132d7c+=_0x37f85b[_0x4a2b2e(0x47e)][_0x4a2b2e(0x58b)](_0xe855a6=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xe855a6+_0x4a2b2e(0x466))[_0x4a2b2e(0x702)]('');break;case _0x4a2b2e(0x254):_0x132d7c+=_0x4a2b2e(0x1f7),_0x132d7c+=_0x4a2b2e(0x846);break;case'fill_in_no_choices':case _0x4a2b2e(0x53e):_0x132d7c+=_0x4a2b2e(0x740);break;case _0x4a2b2e(0x4ae):case'multiple_choice':default:_0x132d7c+=_0x37f85b[_0x4a2b2e(0x8de)][_0x4a2b2e(0x58b)]((_0x5e036e,_0x2446c0)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x2446c0+_0x4a2b2e(0x7a5)+_0x5e036e+_0x4a2b2e(0x466))[_0x4a2b2e(0x702)]('');break;}_0x132d7c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x37f85b[_0x4a2b2e(0x61f)]||_0x4a2b2e(0x36a))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5e7ba4['innerHTML']=_0x132d7c;if(window['MathJax'])window['MathJax'][_0x4a2b2e(0x820)]([_0x5e7ba4]);document['querySelectorAll'](_0x4a2b2e(0x3da))[_0x4a2b2e(0x4ac)](_0xfe21e9=>{const _0x35c78c=_0x4a2b2e;_0xfe21e9[_0x35c78c(0x639)](_0x35c78c(0x7f4),_0x5e947f=>revealAnswerForPresentation(_0x392ad3,_0x5e947f['currentTarget']));});const _0x4f7ec2=document['getElementById'](_0x4a2b2e(0x789));_0x4f7ec2&&_0x4f7ec2[_0x4a2b2e(0x639)](_0x4a2b2e(0x7f4),()=>checkShortAnswerForPresentation(_0x392ad3)),document['getElementById'](_0x4a2b2e(0x3d1))[_0x4a2b2e(0x60c)]=_0x4a2b2e(0x6a6)+(_0x392ad3+0x1)+'\x20/\x20'+currentQuizData[_0x4a2b2e(0x813)][_0x4a2b2e(0x1f2)],document[_0x4a2b2e(0x6a9)]('prev-question-btn')['disabled']=_0x392ad3===0x0,document[_0x4a2b2e(0x6a9)]('next-question-btn')['disabled']=_0x392ad3===currentQuizData['questions'][_0x4a2b2e(0x1f2)]-0x1;}async function checkShortAnswerForPresentation(_0x2617aa){const _0x47966b=_0x2eabae,_0x4e788d=currentQuizData[_0x47966b(0x813)][_0x2617aa],_0x3bd49b=document[_0x47966b(0x6a9)](_0x47966b(0x30d)),_0x266038=document['getElementById']('check-presentation-answer-btn'),_0x509769=document['getElementById'](_0x47966b(0x605)),_0x3d51dc=document[_0x47966b(0x6a9)](_0x47966b(0x2d8));if(!_0x3bd49b||!_0x266038||!_0x509769||!_0x3d51dc)return;const _0x36e689=_0x3bd49b[_0x47966b(0x223)]['trim']();if(_0x36e689==='')return;_0x266038[_0x47966b(0x423)]=!![],_0x266038[_0x47966b(0x7c0)]=_0x47966b(0x8ca),_0x3bd49b[_0x47966b(0x423)]=!![];const _0x31a1a3=await gradeShortAnswer(_0x36e689,_0x4e788d);_0x31a1a3?_0x509769[_0x47966b(0x7c0)]=_0x47966b(0x7af):_0x509769[_0x47966b(0x7c0)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x4e788d[_0x47966b(0x695)]+')',_0x509769[_0x47966b(0x62e)][_0x47966b(0x3b0)](_0x47966b(0x3ef)),_0x3d51dc[_0x47966b(0x62e)]['remove'](_0x47966b(0x3ef)),_0x266038[_0x47966b(0x62e)]['add']('hidden');}function revealAnswerForPresentation(_0x7e5fb1,_0x49ae9d){const _0x47bdca=_0x2eabae,_0xc97c21=currentQuizData[_0x47bdca(0x813)][_0x7e5fb1],_0x512dcd=_0xc97c21['questionType']||currentQuizData[_0x47bdca(0x6bc)];document[_0x47bdca(0x5fe)](_0x47bdca(0x3da))[_0x47bdca(0x4ac)](_0x196496=>{const _0x202d30=_0x47bdca;_0x196496['disabled']=!![],_0x196496[_0x202d30(0x62e)][_0x202d30(0x3b0)](_0x202d30(0x85a));let _0x58c134=![];if(_0x512dcd==='multiple_choice'||_0x512dcd===_0x202d30(0x4ae)){const _0x3bcf12=parseInt(_0x196496[_0x202d30(0x7c5)][_0x202d30(0x4b2)]);_0x58c134=_0x3bcf12===_0xc97c21[_0x202d30(0x58f)];}else{if(_0x512dcd===_0x202d30(0x254)){const _0x272b74=_0x196496[_0x202d30(0x7c5)][_0x202d30(0x71b)]===_0x202d30(0x408);_0x58c134=_0x272b74===_0xc97c21[_0x202d30(0x213)];}else _0x512dcd===_0x202d30(0x29d)&&(_0x58c134=_0x196496[_0x202d30(0x60c)]['trim']()===_0xc97c21[_0x202d30(0x308)]);}_0x58c134?_0x196496[_0x202d30(0x62e)][_0x202d30(0x6e5)](_0x202d30(0x3a5),'text-white',_0x202d30(0x554)):_0x196496[_0x202d30(0x62e)][_0x202d30(0x6e5)](_0x202d30(0x7c1));}),_0x49ae9d[_0x47bdca(0x62e)][_0x47bdca(0x3b0)](_0x47bdca(0x7c1));let _0x11878c=![];if(_0x512dcd==='multiple_choice')_0x11878c=parseInt(_0x49ae9d[_0x47bdca(0x7c5)][_0x47bdca(0x4b2)])===_0xc97c21[_0x47bdca(0x58f)];else{if(_0x512dcd===_0x47bdca(0x254))_0x11878c=_0x49ae9d[_0x47bdca(0x7c5)][_0x47bdca(0x71b)]==='true'===_0xc97c21[_0x47bdca(0x213)];else _0x512dcd===_0x47bdca(0x29d)&&(_0x11878c=_0x49ae9d[_0x47bdca(0x60c)][_0x47bdca(0x88b)]()===_0xc97c21[_0x47bdca(0x308)]);}!_0x11878c&&_0x49ae9d[_0x47bdca(0x62e)][_0x47bdca(0x6e5)]('bg-red-500','text-white',_0x47bdca(0x29e)),document[_0x47bdca(0x6a9)]('presentation-explanation')[_0x47bdca(0x62e)][_0x47bdca(0x3b0)](_0x47bdca(0x3ef));}function startWholeQuizTimer(_0x40c365){const _0x40d16e=_0x2eabae,_0x38b538=document[_0x40d16e(0x6a9)](_0x40d16e(0x435));if(!_0x38b538)return;const _0x86cfd1=Date[_0x40d16e(0x193)]()+_0x40c365*0x3c*0x3e8;_0x38b538[_0x40d16e(0x7c0)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x5aa03f=document['getElementById'](_0x40d16e(0x49c));quizTimerInterval=setInterval(()=>{const _0x5d7667=_0x40d16e,_0x5f2457=_0x86cfd1-Date[_0x5d7667(0x193)]();if(_0x5f2457<=0x0)clearInterval(quizTimerInterval),_0x5aa03f['textContent']=_0x5d7667(0x346),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x3fa0c4=Math[_0x5d7667(0x5b7)](_0x5f2457/0x3e8/0x3c%0x3c)[_0x5d7667(0x5e5)]()['padStart'](0x2,'0'),_0x1cab29=Math[_0x5d7667(0x5b7)](_0x5f2457/0x3e8%0x3c)[_0x5d7667(0x5e5)]()[_0x5d7667(0x56d)](0x2,'0');_0x5aa03f['textContent']=_0x3fa0c4+':'+_0x1cab29;}},0x3e8);}function renderPerQuestionView(){const _0x257798=_0x2eabae;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x148bd5=currentDisplayedQuiz[_0x257798(0x813)][currentQuestionIndex],_0x27e1fa=_0x148bd5[_0x257798(0x2a3)]||currentDisplayedQuiz[_0x257798(0x6bc)];let _0x954fbf=_0x257798(0x62a)+(currentQuestionIndex+0x1)+_0x257798(0x641)+currentDisplayedQuiz[_0x257798(0x813)]['length']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x257798(0x398)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x257798(0x7eb)+currentDisplayedQuiz[_0x257798(0x4d1)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x257798(0x813)][_0x257798(0x1f2)]-0x1?'ส่งคำตอบ':_0x257798(0x26d))+_0x257798(0x173);studentQuizArea[_0x257798(0x7c0)]=_0x954fbf;let _0x148c77='',_0x33bd53='';switch(_0x27e1fa){case'matching_item':_0x148c77=currentQuestionIndex+0x1+'.\x20'+_0x148bd5[_0x257798(0x416)],_0x33bd53='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x148bd5['allResponses'][_0x257798(0x58b)](_0x2d9138=>_0x257798(0x2dd)+_0x2d9138+'\x22>'+_0x2d9138+_0x257798(0x7b4))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x257798(0x254):_0x148c77=currentQuestionIndex+0x1+'.\x20'+_0x148bd5['questionText'],_0x33bd53='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'short_answer':case _0x257798(0x2b2):_0x148c77=currentQuestionIndex+0x1+'.\x20'+_0x148bd5['questionText'],_0x33bd53='<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>';break;case _0x257798(0x299):case _0x257798(0x5b6):default:_0x148c77=currentQuestionIndex+0x1+'.\x20'+_0x148bd5['questionText'],_0x33bd53=_0x148bd5[_0x257798(0x8de)]['map']((_0x15aa50,_0x31c9e7)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt'+_0x31c9e7+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x31c9e7+_0x257798(0x712)+_0x31c9e7+'\x22>'+_0x15aa50+_0x257798(0x74a))[_0x257798(0x702)]('');break;}_0x148bd5[_0x257798(0x753)]&&(_0x148c77+=_0x257798(0x745)+_0x148bd5['imageCode']+_0x257798(0x8dc));document[_0x257798(0x6a9)](_0x257798(0x83d))[_0x257798(0x7c0)]=_0x148c77,document[_0x257798(0x6a9)](_0x257798(0x30f))[_0x257798(0x7c0)]=_0x33bd53;if(currentMode===_0x257798(0x398)){const _0x35d09d=document[_0x257798(0x6a9)](_0x257798(0x572));if(_0x35d09d)_0x35d09d['addEventListener'](_0x257798(0x7f4),cancelAdminTest);}document[_0x257798(0x6a9)](_0x257798(0x3c6))[_0x257798(0x639)]('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x257798(0x6d3)])window[_0x257798(0x6d3)][_0x257798(0x820)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x402b6e=_0x2eabae,_0x294a06=currentDisplayedQuiz[_0x402b6e(0x69e)][_0x402b6e(0x1db)],_0x1e0d6b=document[_0x402b6e(0x6a9)]('per-question-timer-container');if(!_0x1e0d6b)return;let _0x955559=_0x294a06;_0x1e0d6b['innerHTML']=_0x402b6e(0x4da)+_0x955559+_0x402b6e(0x3e7);const _0x582589=document[_0x402b6e(0x6a9)](_0x402b6e(0x8b0)),_0x5b8a23=document[_0x402b6e(0x6a9)](_0x402b6e(0x2e8));perQuestionTimerInterval=setInterval(()=>{const _0x19e265=_0x402b6e;_0x955559--;const _0x5b6861=_0x955559/_0x294a06*0x64;_0x582589[_0x19e265(0x896)][_0x19e265(0x797)]=_0x5b6861+'%',_0x5b8a23[_0x19e265(0x60c)]=_0x955559,_0x955559<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x19e265(0x901)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x53801d=![]){const _0x69001a=_0x2eabae;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x43a758=null;if(!_0x53801d){const _0x45e594=currentDisplayedQuiz[_0x69001a(0x813)][currentQuestionIndex],_0x2e7691=_0x45e594[_0x69001a(0x2a3)]||currentDisplayedQuiz[_0x69001a(0x6bc)];if(_0x2e7691===_0x69001a(0x53e)||_0x2e7691==='fill_in_no_choices'){const _0x376df8=document[_0x69001a(0x451)](_0x69001a(0x851));_0x43a758=_0x376df8?_0x376df8[_0x69001a(0x223)]['trim']():'';}else{if(_0x2e7691==='matching_item'){const _0x2f6a1f=document[_0x69001a(0x451)](_0x69001a(0x89c));_0x43a758=_0x2f6a1f?_0x2f6a1f['value']:'';}else{const _0xac74f0=document['querySelector'](_0x69001a(0x67d));if(_0xac74f0){const _0x5c68f1=_0xac74f0[_0x69001a(0x223)];_0x43a758=!isNaN(parseInt(_0x5c68f1,0xa))&&_0x5c68f1['trim']()!==''?parseInt(_0x5c68f1,0xa):_0x5c68f1;}}}}studentAnswersPerQuestion[_0x69001a(0x5c7)](_0x43a758),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x69001a(0x813)][_0x69001a(0x1f2)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x3a5ca5=_0x2eabae,_0x4a90db=currentDisplayedQuiz[_0x3a5ca5(0x813)][_0x3a5ca5(0x585)](_0x523946=>_0x523946['questionType']===_0x3a5ca5(0x53e));_0x4a90db?showMessage(_0x3a5ca5(0x22f)):showMessage(_0x3a5ca5(0x51f));const _0x1d4333=currentQuizData['id'],_0x4a20ee=doc(db,_0x3a5ca5(0x84e)+appId+_0x3a5ca5(0x6b8)+_0x1d4333+_0x3a5ca5(0x691),currentStudentName),_0x449f94=await getDoc(_0x4a20ee),_0x56fc4d=_0x449f94[_0x3a5ca5(0x8df)]()?_0x449f94[_0x3a5ca5(0x495)]():{},_0x31a434=_0x56fc4d[_0x3a5ca5(0x40f)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x31a434);}function getResultsFilename(){const _0x1e4258=_0x2eabae,_0x583552=document['getElementById'](_0x1e4258(0x3b6))[_0x1e4258(0x60c)][_0x1e4258(0x90e)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'results_'+(_0x583552||'quiz');}function exportResultsAsImage(){const _0x376e65=_0x2eabae,_0x109b96=document[_0x376e65(0x6a9)](_0x376e65(0x66a));showMessage(_0x376e65(0x61a)),html2canvas(_0x109b96)[_0x376e65(0x87b)](_0x5b479c=>{const _0x5bf46e=_0x376e65,_0x370d4d=document[_0x5bf46e(0x349)]('a');_0x370d4d[_0x5bf46e(0x5ec)]=getResultsFilename()+'.png',_0x370d4d[_0x5bf46e(0x86a)]=_0x5b479c['toDataURL'](_0x5bf46e(0x4cb)),_0x370d4d['click'](),messageModal[_0x5bf46e(0x62e)]['add']('hidden');});}function exportResultsAsPDF(){const _0x4fd9c2=_0x2eabae,{jsPDF:_0xc8de2d}=window[_0x4fd9c2(0x2bb)],_0x2411b1=new _0xc8de2d();_0x2411b1[_0x4fd9c2(0x8e8)](_0x4fd9c2(0x881),'normal'),_0x2411b1[_0x4fd9c2(0x4be)]({'html':_0x4fd9c2(0x2e3)}),_0x2411b1[_0x4fd9c2(0x644)](getResultsFilename()+_0x4fd9c2(0x6ec));}function exportResultsAsWord(){const _0x244d27=_0x2eabae,_0x14f66a=_0x244d27(0x479)+_0x244d27(0x857)+_0x244d27(0x4b4)+_0x244d27(0x5c6),_0x212e70=_0x244d27(0x663),_0x400e13=_0x14f66a+document[_0x244d27(0x6a9)](_0x244d27(0x66a))[_0x244d27(0x7c0)]+_0x212e70,_0x2576d1=_0x244d27(0x361)+encodeURIComponent(_0x400e13),_0xa342e8=document[_0x244d27(0x349)]('a');document[_0x244d27(0x1fe)][_0x244d27(0x8ce)](_0xa342e8),_0xa342e8[_0x244d27(0x86a)]=_0x2576d1,_0xa342e8[_0x244d27(0x5ec)]=getResultsFilename()+_0x244d27(0x3af),_0xa342e8['click'](),document[_0x244d27(0x1fe)][_0x244d27(0x563)](_0xa342e8);}function exportResultsAsExcel(){const _0x19f3ed=_0x2eabae,_0x32683b=document[_0x19f3ed(0x6a9)](_0x19f3ed(0x1cd));let _0x1b5829=[];for(let _0x4243c9=0x0;_0x4243c9<_0x32683b['rows']['length'];_0x4243c9++){let _0x18328e=[],_0x4d7404=_0x32683b[_0x19f3ed(0x1fa)][_0x4243c9][_0x19f3ed(0x5fe)](_0x19f3ed(0x61e));for(let _0x547da1=0x0;_0x547da1<_0x4d7404[_0x19f3ed(0x1f2)];_0x547da1++){_0x18328e[_0x19f3ed(0x5c7)]('\x22'+_0x4d7404[_0x547da1]['innerText'][_0x19f3ed(0x90e)](/"/g,'\x22\x22')+'\x22');}_0x1b5829[_0x19f3ed(0x5c7)](_0x18328e[_0x19f3ed(0x702)](','));}const _0x3df6a7=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1b5829[_0x19f3ed(0x702)]('\x0a')],{'type':_0x19f3ed(0x7a8)}),_0x113bae=document['createElement']('a');_0x113bae['href']=URL[_0x19f3ed(0x267)](_0x3df6a7),_0x113bae['download']=getResultsFilename()+_0x19f3ed(0x216),_0x113bae[_0x19f3ed(0x7f4)]();}function exportTableAsImage(_0xb0df08,_0x4b92f7){const _0x5a10f8=_0x2eabae,_0x4258d5=document['getElementById'](_0xb0df08);if(!_0x4258d5){showMessage(_0x5a10f8(0x3bf));return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x4258d5)[_0x5a10f8(0x87b)](_0x2a61fa=>{const _0x80f238=_0x5a10f8,_0x2cbe5d=document['createElement']('a');_0x2cbe5d[_0x80f238(0x5ec)]=_0x4b92f7+_0x80f238(0x177),_0x2cbe5d[_0x80f238(0x86a)]=_0x2a61fa[_0x80f238(0x638)](_0x80f238(0x4cb)),_0x2cbe5d[_0x80f238(0x7f4)](),messageModal[_0x80f238(0x62e)][_0x80f238(0x6e5)](_0x80f238(0x3ef));});}function exportTableAsPDF(_0x5bb41c,_0xc122ef){const _0x3403e1=_0x2eabae,{jsPDF:_0x3e1565}=window[_0x3403e1(0x2bb)],_0x34e2d4=new _0x3e1565();_0x34e2d4[_0x3403e1(0x8e8)](_0x3403e1(0x881),_0x3403e1(0x2d2)),_0x34e2d4[_0x3403e1(0x4be)]({'html':'#'+_0x5bb41c}),_0x34e2d4['save'](_0xc122ef+_0x3403e1(0x6ec));}function exportTableAsWord(_0x5aaede,_0x5035bd){const _0x411197=_0x2eabae,_0x64e159=document[_0x411197(0x6a9)](_0x5aaede);if(!_0x64e159){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x8fecf8=_0x411197(0x479)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x411197(0x4b4)+_0x411197(0x5c6),_0x1be102=_0x411197(0x663),_0x438ed0=_0x8fecf8+_0x64e159[_0x411197(0x7c0)]+_0x1be102,_0x1172bb=_0x411197(0x361)+encodeURIComponent(_0x438ed0),_0x48ee28=document[_0x411197(0x349)]('a');document[_0x411197(0x1fe)][_0x411197(0x8ce)](_0x48ee28),_0x48ee28[_0x411197(0x86a)]=_0x1172bb,_0x48ee28[_0x411197(0x5ec)]=_0x5035bd+_0x411197(0x3af),_0x48ee28[_0x411197(0x7f4)](),document[_0x411197(0x1fe)][_0x411197(0x563)](_0x48ee28);}function exportTableAsExcel(_0x3ab81b,_0x345ec8){const _0x1853ae=_0x2eabae,_0x52beb0=document[_0x1853ae(0x6a9)](_0x3ab81b);if(!_0x52beb0){showMessage(_0x1853ae(0x3bf));return;}let _0x1c731e=[];for(let _0x329849=0x0;_0x329849<_0x52beb0[_0x1853ae(0x1fa)][_0x1853ae(0x1f2)];_0x329849++){let _0x1a38bd=[],_0x56e7a8=_0x52beb0[_0x1853ae(0x1fa)][_0x329849][_0x1853ae(0x5fe)](_0x1853ae(0x61e));for(let _0x552873=0x0;_0x552873<_0x56e7a8[_0x1853ae(0x1f2)];_0x552873++){_0x1a38bd[_0x1853ae(0x5c7)]('\x22'+_0x56e7a8[_0x552873][_0x1853ae(0x4e4)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x1c731e['push'](_0x1a38bd[_0x1853ae(0x702)](','));}const _0x141510=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1c731e[_0x1853ae(0x702)]('\x0a')],{'type':_0x1853ae(0x7a8)}),_0x1ea280=document['createElement']('a');_0x1ea280[_0x1853ae(0x86a)]=URL[_0x1853ae(0x267)](_0x141510),_0x1ea280[_0x1853ae(0x5ec)]=_0x345ec8+_0x1853ae(0x216),_0x1ea280[_0x1853ae(0x7f4)]();}function renderAnalytics(_0x5d697e,_0xee3986){const _0x249315=_0x2eabae,_0x5d078a=currentProjectData[_0x249315(0x164)][_0x249315(0x1f2)],_0x4d3e4f=_0xee3986[_0x249315(0x1f2)],_0x11d040=_0x5d078a-_0x4d3e4f,_0x2c7ec2=_0x5d078a>0x0?_0x4d3e4f/_0x5d078a*0x64:0x0,_0x394cb6=_0xee3986[_0x249315(0x58b)](_0x5b44e2=>_0x5b44e2[_0x249315(0x5c8)]),_0x54718d=_0x394cb6[_0x249315(0x1f2)]>0x0?_0x394cb6['reduce']((_0x54d93b,_0x507f84)=>_0x54d93b+_0x507f84,0x0)/_0x394cb6['length']:0x0,_0x3ebc9d=_0x5d697e[_0x249315(0x813)][_0x249315(0x1f2)],_0x37e951=_0x3ebc9d>0x0?_0x54718d/_0x3ebc9d*0x64:0x0,_0x3e3b30=calculateItemAnalysis(_0x5d697e,_0xee3986),_0x125e99=calculateReliabilityKR20(_0x5d697e,_0xee3986,_0x3e3b30[_0x249315(0x807)]);let _0x4c192f='';if(_0x125e99!==null){let _0x3f9e8a='';if(_0x125e99>=0.9)_0x3f9e8a=_0x249315(0x3d9);else{if(_0x125e99>=0.8)_0x3f9e8a='ดีมาก';else{if(_0x125e99>=0.7)_0x3f9e8a='ดี';else{if(_0x125e99>=0.6)_0x3f9e8a=_0x249315(0x4d8);else _0x3f9e8a=_0x249315(0x384);}}}_0x4c192f=_0x249315(0x25d)+_0x125e99[_0x249315(0x859)](0x2)+_0x249315(0x3ad)+_0x3f9e8a+_0x249315(0x507);}const _0x2cd3c5=document[_0x249315(0x6a9)](_0x249315(0x478));_0x2cd3c5[_0x249315(0x7c0)]=_0x249315(0x425)+_0x2c7ec2[_0x249315(0x859)](0x0)+_0x249315(0x683)+_0x4d3e4f+'/'+_0x5d078a+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x54718d[_0x249315(0x859)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x37e951[_0x249315(0x859)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x394cb6[_0x249315(0x1f2)]>0x0?Math[_0x249315(0x54d)](..._0x394cb6):_0x249315(0x517))+_0x249315(0x3ae)+(_0x394cb6[_0x249315(0x1f2)]>0x0?Math[_0x249315(0x340)](..._0x394cb6):_0x249315(0x517))+_0x249315(0x41e)+_0x4c192f+_0x249315(0x464);const _0x557673=document[_0x249315(0x6a9)](_0x249315(0x60f));_0x557673&&_0x557673[_0x249315(0x3b0)]();const _0x2f91fa=_0x249315(0x2ec);_0x2cd3c5['insertAdjacentHTML'](_0x249315(0x818),_0x2f91fa);const _0x4d5844=currentProjectData['students']||[];renderSubmissionChart(_0x4d3e4f,_0x11d040,_0xee3986,_0x4d5844),renderScoreDistributionChart(_0xee3986,_0x3ebc9d),renderQuestionAnalytics(_0x5d697e,_0xee3986,_0x4d5844),renderInterestingStats(_0x5d697e,_0xee3986);}async function handleExportLessonPDF(){const _0x48aeef=_0x2eabae,_0x20cf4a=document[_0x48aeef(0x6a9)](_0x48aeef(0x44d)),_0x46d6be=document[_0x48aeef(0x6a9)](_0x48aeef(0x277))['textContent'],_0x1ec9ab=window[_0x48aeef(0x504)]('',_0x48aeef(0x359)),_0x41d83f=_0x48aeef(0x8d8)+_0x46d6be+_0x48aeef(0x378)+_0x20cf4a[_0x48aeef(0x7c0)]+_0x48aeef(0x192);_0x1ec9ab['document'][_0x48aeef(0x39f)](_0x41d83f),_0x1ec9ab['document'][_0x48aeef(0x33c)](),_0x1ec9ab['onload']=function(){setTimeout(()=>{const _0x4bbeba=_0x4eb1;_0x1ec9ab[_0x4bbeba(0x6c8)]();},0x5dc);};}function renderInterestingStats(_0x2d2a2d,_0x1144eb){const _0x20af1=_0x2eabae,_0x3c74dd=document[_0x20af1(0x6a9)]('interesting-stats-container');if(!_0x3c74dd)return;if(_0x1144eb['length']===0x0){_0x3c74dd[_0x20af1(0x7c0)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x529d2d=_0x2d2a2d['questions']['map']((_0x4537ac,_0x4724bf)=>({'index':_0x4724bf+0x1,'text':_0x4537ac[_0x20af1(0x836)]||_0x4537ac['stem'],'correct':0x0}));_0x1144eb['forEach'](_0x32c203=>{const _0x1d3106=_0x20af1,_0x470d1e=_0x32c203[_0x1d3106(0x40f)][_0x32c203[_0x1d3106(0x40f)][_0x1d3106(0x1f2)]-0x1];_0x470d1e&&_0x470d1e[_0x1d3106(0x272)]&&_0x470d1e['answers'][_0x1d3106(0x4ac)](_0x4b9d0c=>{const _0x265d51=_0x1d3106,_0x56f1f2=_0x529d2d['find'](_0x5858e3=>_0x5858e3['text']===_0x4b9d0c[_0x265d51(0x1b8)]);_0x4b9d0c[_0x265d51(0x671)]&&_0x56f1f2&&_0x56f1f2[_0x265d51(0x715)]++;});});const _0x493cd7=_0x1144eb['length'],_0x646d6a=Math['max'](..._0x529d2d[_0x20af1(0x58b)](_0x371137=>_0x371137[_0x20af1(0x715)])),_0x5174d9=Math['min'](..._0x529d2d[_0x20af1(0x58b)](_0x163383=>_0x163383[_0x20af1(0x715)])),_0x2fa33b=_0x529d2d[_0x20af1(0x613)](_0x591fe2=>_0x591fe2['correct']===_0x646d6a)[_0x20af1(0x58b)](_0x535d72=>_0x20af1(0x47c)+_0x535d72[_0x20af1(0x4b2)]),_0x2108cd=_0x529d2d[_0x20af1(0x613)](_0x2b6868=>_0x2b6868[_0x20af1(0x715)]===_0x5174d9)[_0x20af1(0x58b)](_0x4c8886=>'ข้อ\x20'+_0x4c8886['index']),_0x404dbb=_0x1144eb[_0x20af1(0x908)]((_0xc0764a,_0x252581)=>_0x252581[_0x20af1(0x5c8)]-_0xc0764a[_0x20af1(0x5c8)])[_0x20af1(0x613)]((_0x28d996,_0xf4e6ae,_0x280e7d)=>_0x28d996[_0x20af1(0x5c8)]===_0x280e7d[0x0][_0x20af1(0x5c8)]),_0x59a1cd=_0x1144eb[_0x20af1(0x908)]((_0x3d41cf,_0x431e83)=>_0x3d41cf[_0x20af1(0x5c8)]-_0x431e83[_0x20af1(0x5c8)])['filter']((_0x4fb158,_0x2520a1,_0x598cc8)=>_0x4fb158[_0x20af1(0x5c8)]===_0x598cc8[0x0][_0x20af1(0x5c8)]),_0x51935c=_0x20af1(0x1a5)+_0x2fa33b['join'](',\x20')+_0x20af1(0x609)+_0x646d6a+_0x20af1(0x784)+_0x493cd7+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x2108cd[_0x20af1(0x702)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x493cd7-_0x5174d9)+_0x20af1(0x784)+_0x493cd7+_0x20af1(0x7e0)+_0x404dbb[_0x20af1(0x58b)](_0x1e3f2b=>_0x1e3f2b['studentName'])['join'](',\x20')+_0x20af1(0x67b)+_0x404dbb[0x0][_0x20af1(0x5c8)]+_0x20af1(0x2ea)+_0x59a1cd[_0x20af1(0x58b)](_0x1b606b=>_0x1b606b[_0x20af1(0x39a)])['join'](',\x20')+_0x20af1(0x67b)+_0x59a1cd[0x0][_0x20af1(0x5c8)]+_0x20af1(0x5aa);_0x3c74dd[_0x20af1(0x7c0)]=_0x51935c;}function renderSubmissionChart(_0x2b9b3d,_0x499be0,_0x462235,_0x3d2437){const _0x47016c=_0x2eabae,_0x419ba8=document[_0x47016c(0x6a9)](_0x47016c(0x7c8))['getContext']('2d'),_0x53490c=_0x462235[_0x47016c(0x58b)](_0x154d8f=>_0x154d8f[_0x47016c(0x39a)]),_0x2af8fd=_0x3d2437[_0x47016c(0x613)](_0x4460a3=>!_0x53490c[_0x47016c(0x376)](_0x4460a3));chartInstances[_0x47016c(0x8b8)]&&chartInstances[_0x47016c(0x8b8)][_0x47016c(0x892)](),chartInstances[_0x47016c(0x8b8)]=new Chart(_0x419ba8,{'type':_0x47016c(0x63b),'data':{'labels':[_0x47016c(0x419),'ยังไม่ส่ง'],'datasets':[{'data':[_0x2b9b3d,_0x499be0],'backgroundColor':[_0x47016c(0x7f2),_0x47016c(0x3e9)],'borderColor':[_0x47016c(0x1d7),_0x47016c(0x1d7)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x47016c(0x228)},'tooltip':{'callbacks':{'label':function(_0x5367cb){const _0x388bed=_0x47016c;let _0x1f1a7e=_0x5367cb[_0x388bed(0x522)]||'';return _0x1f1a7e&&(_0x1f1a7e+=':\x20'),_0x1f1a7e+=_0x5367cb['raw'],_0x1f1a7e;},'afterLabel':function(_0x43667f){const _0x17a798=_0x47016c;let _0x3d0b65;return _0x43667f[_0x17a798(0x6f2)]===0x0?_0x3d0b65=_0x53490c:_0x3d0b65=_0x2af8fd,_0x3d0b65['length']>0x0?_0x3d0b65[_0x17a798(0x702)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x461e9c,_0x2bf0ae){const _0x1e510f=_0x2eabae,_0x202a18=document[_0x1e510f(0x6a9)]('score-distribution-chart')[_0x1e510f(0x412)]('2d'),_0x59866f={};for(let _0x539298=0x0;_0x539298<=_0x2bf0ae;_0x539298++){_0x59866f[_0x539298]=0x0;}_0x461e9c[_0x1e510f(0x4ac)](_0x446eff=>{const _0x3ac9b8=_0x1e510f;_0x59866f[_0x446eff[_0x3ac9b8(0x5c8)]]!==undefined&&_0x59866f[_0x446eff[_0x3ac9b8(0x5c8)]]++;}),chartInstances[_0x1e510f(0x7a9)]&&chartInstances[_0x1e510f(0x7a9)]['destroy'](),chartInstances[_0x1e510f(0x7a9)]=new Chart(_0x202a18,{'type':_0x1e510f(0x2f7),'data':{'labels':Object[_0x1e510f(0x282)](_0x59866f),'datasets':[{'label':_0x1e510f(0x1cf),'data':Object[_0x1e510f(0x69f)](_0x59866f),'backgroundColor':_0x1e510f(0x6ea),'borderColor':_0x1e510f(0x40c),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x1e510f(0x58a)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x5e21f9){const _0x27a8a6=_0x1e510f,_0x472dc0=_0x5e21f9[_0x27a8a6(0x522)],_0x3ec785=_0x461e9c['filter'](_0x2bef07=>_0x2bef07[_0x27a8a6(0x5c8)]==_0x472dc0)['map'](_0x295822=>_0x295822[_0x27a8a6(0x39a)]);return _0x3ec785[_0x27a8a6(0x1f2)]>0x0?_0x3ec785[_0x27a8a6(0x702)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x52e5cd,_0x1c2d7e,_0x1b582d){const _0x5ed58b=_0x2eabae,_0x4cef2f=document[_0x5ed58b(0x6a9)](_0x5ed58b(0x59f));if(_0x1b582d['length']===0x0){_0x4cef2f[_0x5ed58b(0x7c0)]=_0x5ed58b(0x8c5);return;}const _0x49f6c1=calculateItemAnalysis(_0x52e5cd,_0x1c2d7e),_0x47ec51=calculateDistractorAnalysis(_0x52e5cd,_0x1c2d7e);let _0x2b598a='';_0x49f6c1[_0x5ed58b(0x375)]&&(_0x2b598a=_0x5ed58b(0x3e8)+_0x49f6c1[_0x5ed58b(0x375)]['upperGroupNames'][_0x5ed58b(0x1f2)]+_0x5ed58b(0x218)+_0x49f6c1['overallGroups']['upperGroupNames'][_0x5ed58b(0x58b)](_0x240b96=>_0x5ed58b(0x314)+_0x240b96+_0x5ed58b(0x315))[_0x5ed58b(0x702)]('')+_0x5ed58b(0x468)+_0x49f6c1[_0x5ed58b(0x375)][_0x5ed58b(0x1af)][_0x5ed58b(0x1f2)]+_0x5ed58b(0x218)+_0x49f6c1[_0x5ed58b(0x375)][_0x5ed58b(0x1af)][_0x5ed58b(0x58b)](_0x5493fe=>_0x5ed58b(0x314)+_0x5493fe+_0x5ed58b(0x315))[_0x5ed58b(0x702)]('')+_0x5ed58b(0x4f9));let _0x404d05='';const _0x459160=_0x1c2d7e[_0x5ed58b(0x58b)](_0x1b222e=>_0x1b222e[_0x5ed58b(0x39a)]),_0x19bfc5=_0x1ffc59=>{const _0x46b332=_0x5ed58b;if(_0x1ffc59>=0.8)return _0x46b332(0x4c2);if(_0x1ffc59>=0.6)return _0x46b332(0x552);if(_0x1ffc59>=0.4)return _0x46b332(0x798);if(_0x1ffc59>=0.2)return _0x46b332(0x30e);return _0x46b332(0x8c9);},_0x26ee63=_0x50e025=>{const _0x35bbdc=_0x5ed58b;if(_0x50e025<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x50e025>=0.4)return _0x35bbdc(0x3a2);if(_0x50e025>=0.3)return _0x35bbdc(0x16b);if(_0x50e025>=0.2)return _0x35bbdc(0x2e1);return _0x35bbdc(0x87c);},_0xf7839=_0x3e001a=>{const _0x38db40=_0x5ed58b,_0x3e1259=_0x3e001a['toFixed'](0x0);if(parseFloat(_0x3e1259)===0x64)return _0x38db40(0x41c)+_0x3e1259+'%</span>';if(_0x3e001a>=0x32)return _0x38db40(0x51d)+_0x3e1259+'%</span>';return _0x38db40(0x1f8)+_0x3e1259+'%</span>';};_0x52e5cd[_0x5ed58b(0x813)][_0x5ed58b(0x4ac)]((_0x1f063c,_0x1ab28c)=>{const _0x3f3bdf=_0x5ed58b,_0x33f491=_0x49f6c1['perQuestionStats'][_0x1ab28c],_0x2d578a=_0x47ec51[_0x1ab28c],_0x3e3466=_0x1f063c[_0x3f3bdf(0x416)]||_0x1f063c[_0x3f3bdf(0x836)]||_0x1f063c['instructions'];let _0x4b8f8d=0x0;const _0x2a284d=[],_0x51e9cf=[];_0x1c2d7e[_0x3f3bdf(0x4ac)](_0x3645ae=>{const _0x239173=_0x3f3bdf,_0x5326a6=_0x3645ae['attempts'][_0x3645ae[_0x239173(0x40f)][_0x239173(0x1f2)]-0x1];if(_0x5326a6&&_0x5326a6['answers']){const _0x4b59a6=_0x5326a6[_0x239173(0x272)][_0x239173(0x8ad)](_0x2c84aa=>_0x2c84aa[_0x239173(0x1b8)]===_0x3e3466)??_0x5326a6['answers'][_0x1ab28c]??null;_0x4b59a6&&(_0x4b59a6[_0x239173(0x671)]?(_0x4b8f8d++,_0x2a284d[_0x239173(0x5c7)](_0x3645ae[_0x239173(0x39a)])):_0x51e9cf[_0x239173(0x5c7)](_0x3645ae[_0x239173(0x39a)]));}});const _0x226036=_0x1c2d7e[_0x3f3bdf(0x1f2)]>0x0?_0x4b8f8d/_0x1c2d7e[_0x3f3bdf(0x1f2)]*0x64:0x0,_0x57f8de=_0x1b582d[_0x3f3bdf(0x613)](_0x239bcf=>!_0x459160['includes'](_0x239bcf)),_0x58ab24=_0x33f491?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x33f491['p'][_0x3f3bdf(0x859)](0x2)+_0x3f3bdf(0x58e)+_0x19bfc5(_0x33f491['p'])+_0x3f3bdf(0x8b2)+_0x33f491['r'][_0x3f3bdf(0x859)](0x2)+_0x3f3bdf(0x58e)+_0x26ee63(_0x33f491['r'])+_0x3f3bdf(0x25b)+_0xf7839(_0x226036)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x472a6d='';_0x2d578a&&(_0x472a6d=_0x3f3bdf(0x703)+Object['keys'](_0x2d578a)[_0x3f3bdf(0x58b)](_0x58178e=>{const _0x1bdab1=_0x3f3bdf,_0xac3955=_0x2d578a[_0x58178e],_0x4df29c=parseInt(_0x58178e)===_0x1f063c['correctAnswerIndex'],_0x25fb5e=!_0x4df29c&&_0xac3955[_0x1bdab1(0x624)]>_0xac3955[_0x1bdab1(0x7ff)];return'<tr\x20class=\x22'+(_0x4df29c?_0x1bdab1(0x7e2):'')+_0x1bdab1(0x84f)+(_0x4df29c?'✔\x20':'')+_0xac3955[_0x1bdab1(0x675)]+_0x1bdab1(0x446)+_0xac3955[_0x1bdab1(0x7ff)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0xac3955[_0x1bdab1(0x624)]+'\x20'+(_0x25fb5e?'👍':'')+_0x1bdab1(0x446)+_0xac3955[_0x1bdab1(0x794)]+_0x1bdab1(0x27d);})[_0x3f3bdf(0x702)]('')+_0x3f3bdf(0x4eb));let _0x13a5ca='';_0x33f491&&_0x33f491[_0x3f3bdf(0x3a8)]&&(_0x13a5ca=_0x3f3bdf(0x6d4)+_0x33f491[_0x3f3bdf(0x3a8)][_0x3f3bdf(0x1f2)]+_0x3f3bdf(0x208)+_0x33f491[_0x3f3bdf(0x3a8)][_0x3f3bdf(0x58b)](_0x29eeff=>_0x3f3bdf(0x314)+(_0x29eeff[_0x3f3bdf(0x671)]?_0x3f3bdf(0x413):_0x3f3bdf(0x5d1))+'\x20'+_0x29eeff['name']+_0x3f3bdf(0x315))[_0x3f3bdf(0x702)]('')+_0x3f3bdf(0x4fc)+_0x33f491[_0x3f3bdf(0x42b)][_0x3f3bdf(0x1f2)]+_0x3f3bdf(0x208)+_0x33f491[_0x3f3bdf(0x42b)]['map'](_0x3a60e1=>_0x3f3bdf(0x314)+(_0x3a60e1[_0x3f3bdf(0x671)]?_0x3f3bdf(0x413):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x3a60e1[_0x3f3bdf(0x531)]+_0x3f3bdf(0x315))[_0x3f3bdf(0x702)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x404d05+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x1ab28c+0x1)+':\x20'+_0x3e3466+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x58ab24+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x3e3466+_0x3f3bdf(0x4d6)+_0x4b8f8d+_0x3f3bdf(0x641)+_0x1c2d7e[_0x3f3bdf(0x1f2)]+_0x3f3bdf(0x7e6)+_0x226036[_0x3f3bdf(0x859)](0x0)+_0x3f3bdf(0x2e4)+_0x2a284d[_0x3f3bdf(0x1f2)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x2a284d[_0x3f3bdf(0x1f2)]>0x0?_0x2a284d[_0x3f3bdf(0x702)](',\x20'):_0x3f3bdf(0x183))+_0x3f3bdf(0x561)+_0x51e9cf['length']+_0x3f3bdf(0x5db)+(_0x51e9cf[_0x3f3bdf(0x1f2)]>0x0?_0x51e9cf[_0x3f3bdf(0x702)](',\x20'):_0x3f3bdf(0x183))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x57f8de[_0x3f3bdf(0x1f2)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x57f8de[_0x3f3bdf(0x1f2)]>0x0?_0x57f8de[_0x3f3bdf(0x702)](',\x20'):_0x3f3bdf(0x183))+_0x3f3bdf(0x247)+_0x472a6d+_0x3f3bdf(0x350)+_0x13a5ca+_0x3f3bdf(0x4b6);}),_0x4cef2f[_0x5ed58b(0x7c0)]=_0x2b598a+_0x404d05;try{window[_0x5ed58b(0x6d3)]&&MathJax[_0x5ed58b(0x820)]&&MathJax[_0x5ed58b(0x820)]([_0x4cef2f]);}catch(_0x2e3cbd){console[_0x5ed58b(0x497)](_0x5ed58b(0x279),_0x2e3cbd);}}function calculateDistractorAnalysis(_0xc1600f,_0x3fa7b2){const _0x5016f8=_0x2eabae,_0xf44970={};if(_0x3fa7b2[_0x5016f8(0x1f2)]<0x2)return _0xf44970;const _0x1b455c=[..._0x3fa7b2]['sort']((_0x220a87,_0x42eb5f)=>{const _0x5ae02a=_0x5016f8,_0x3f6b72=_0x42eb5f[_0x5ae02a(0x5c8)]-_0x220a87[_0x5ae02a(0x5c8)];if(_0x3f6b72!==0x0)return _0x3f6b72;const _0x2ac49e=_0x220a87[_0x5ae02a(0x40f)]?.[_0x5ae02a(0x1f2)]||0x1,_0x5df425=_0x42eb5f['attempts']?.[_0x5ae02a(0x1f2)]||0x1,_0x102c0f=_0x2ac49e-_0x5df425;if(_0x102c0f!==0x0)return _0x102c0f;const _0x3869b0=new Date(_0x220a87[_0x5ae02a(0x7dd)]),_0x4630ca=new Date(_0x42eb5f[_0x5ae02a(0x7dd)]),_0x3306a8=_0x3869b0-_0x4630ca;if(_0x3306a8!==0x0)return _0x3306a8;return _0x220a87[_0x5ae02a(0x39a)]['localeCompare'](_0x42eb5f[_0x5ae02a(0x39a)],'th');}),_0x1cd0e0=_0x1b455c[_0x5016f8(0x1f2)],_0x3d261d=Math[_0x5016f8(0x54d)](0x1,Math[_0x5016f8(0x5b7)](_0x1cd0e0*0.33)),_0x3ada2c=_0x1b455c['slice'](0x0,_0x3d261d),_0x268834=_0x1b455c[_0x5016f8(0x791)](-_0x3d261d);return _0xc1600f[_0x5016f8(0x813)][_0x5016f8(0x4ac)]((_0x4956df,_0x32456a)=>{const _0x455061=_0x5016f8;if(_0x4956df[_0x455061(0x2a3)]!==_0x455061(0x299)||!_0x4956df[_0x455061(0x8de)])return;const _0x33226d=_0x4956df[_0x455061(0x836)],_0x2297cc={};_0x4956df['options'][_0x455061(0x4ac)]((_0x44f70d,_0x3eb234)=>{_0x2297cc[_0x3eb234]={'text':_0x44f70d,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x1b455c[_0x455061(0x4ac)](_0x11cb59=>{const _0x49180a=_0x455061,_0x55a307=_0x11cb59[_0x49180a(0x40f)][_0x11cb59[_0x49180a(0x40f)]['length']-0x1],_0x70c5a1=_0x55a307[_0x49180a(0x272)]['find'](_0x4f6ade=>_0x4f6ade[_0x49180a(0x1b8)]===_0x33226d);if(_0x70c5a1&&_0x70c5a1[_0x49180a(0x71b)]!==null){const _0x253b05=_0x4956df[_0x49180a(0x8de)][_0x49180a(0x8a1)](_0x149d68=>_0x149d68===_0x70c5a1[_0x49180a(0x738)]);_0x253b05!==-0x1&&_0x2297cc[_0x253b05]&&(_0x2297cc[_0x253b05][_0x49180a(0x794)]++,_0x3ada2c[_0x49180a(0x376)](_0x11cb59)&&_0x2297cc[_0x253b05]['upper_group_count']++,_0x268834[_0x49180a(0x376)](_0x11cb59)&&_0x2297cc[_0x253b05][_0x49180a(0x624)]++);}}),_0xf44970[_0x32456a]=_0x2297cc;}),_0xf44970;}function calculateReliabilityKR20(_0x4daaff,_0x27b6f5,_0x5a18bf){const _0x3c8fad=_0x2eabae,_0x517b57=_0x4daaff[_0x3c8fad(0x813)][_0x3c8fad(0x1f2)];if(_0x517b57<0x2||_0x27b6f5[_0x3c8fad(0x1f2)]<0x2)return null;const _0x22ebec=_0x27b6f5['map'](_0x3d5aae=>_0x3d5aae[_0x3c8fad(0x5c8)]),_0xc95480=_0x22ebec[_0x3c8fad(0x54c)]((_0x151348,_0x291b45)=>_0x151348+_0x291b45,0x0)/_0x22ebec['length'],_0x5c1523=_0x22ebec[_0x3c8fad(0x58b)](_0x38bdb7=>Math[_0x3c8fad(0x226)](_0x38bdb7-_0xc95480,0x2))[_0x3c8fad(0x54c)]((_0x3989cc,_0x1d04a6)=>_0x3989cc+_0x1d04a6,0x0)/_0x22ebec['length'];if(_0x5c1523===0x0)return null;let _0xd78bc3=0x0;for(let _0x41b199=0x0;_0x41b199<_0x517b57;_0x41b199++){const _0x5e2fb4=_0x5a18bf[_0x41b199]?.['p'];if(_0x5e2fb4===undefined)continue;const _0x3ca760=0x1-_0x5e2fb4;_0xd78bc3+=_0x5e2fb4*_0x3ca760;}if(_0xd78bc3===0x0)return null;const _0x479ac4=_0x517b57/(_0x517b57-0x1)*(0x1-_0xd78bc3/_0x5c1523);if(_0x479ac4>0x1)return null;return _0x479ac4;}async function handleAnalyzeClass(){const _0x52ab0b=_0x2eabae;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x52ab0b(0x1dc));return;}const _0x319474=collection(db,_0x52ab0b(0x84e)+appId+_0x52ab0b(0x6b8)+currentQuizData['id']+_0x52ab0b(0x691)),_0x26feeb=await getDocs(_0x319474),_0x58521d=_0x26feeb[_0x52ab0b(0x825)][_0x52ab0b(0x58b)](_0x834cb9=>_0x834cb9[_0x52ab0b(0x495)]());if(_0x58521d[_0x52ab0b(0x1f2)]<0x2){showMessage(_0x52ab0b(0x793));return;}const _0x325528=document['getElementById'](_0x52ab0b(0x8f9));_0x325528[_0x52ab0b(0x7c0)]=_0x52ab0b(0x48a),document[_0x52ab0b(0x6a9)](_0x52ab0b(0x3d5))[_0x52ab0b(0x423)]=!![];const _0x34b422=_0x58521d[_0x52ab0b(0x58b)]((_0x4d50cf,_0x39e832)=>{const _0x31b9a3=_0x52ab0b,_0x115900=_0x4d50cf[_0x31b9a3(0x40f)][_0x4d50cf[_0x31b9a3(0x40f)][_0x31b9a3(0x1f2)]-0x1];if(!_0x115900)return'';return _0x31b9a3(0x396)+(_0x39e832+0x1)+'\x20('+_0x4d50cf[_0x31b9a3(0x39a)]+_0x31b9a3(0x854)+_0x115900[_0x31b9a3(0x7a9)]+'/'+_0x4d50cf['totalQuestions']+_0x31b9a3(0x536)+JSON[_0x31b9a3(0x741)](_0x115900[_0x31b9a3(0x272)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x52ab0b(0x702)](_0x52ab0b(0x87e)),_0x5e62a9=_0x52ab0b(0x4af)+currentQuizData['topic']+_0x52ab0b(0x559)+JSON['stringify'](currentQuizData[_0x52ab0b(0x813)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x34b422+_0x52ab0b(0x57d),_0x1a6da6={'type':_0x52ab0b(0x733),'properties':{'classStrengths':{'type':_0x52ab0b(0x635),'items':{'type':_0x52ab0b(0x5df)}},'classWeaknesses':{'type':_0x52ab0b(0x635),'items':{'type':_0x52ab0b(0x5df)}},'teacherSuggestions':{'type':_0x52ab0b(0x635),'items':{'type':_0x52ab0b(0x5df)}}},'required':[_0x52ab0b(0x68d),_0x52ab0b(0x3e2),'teacherSuggestions']};try{const _0x53f0ea=await callAnalysisApi(_0x5e62a9,_0x1a6da6);displayClassAnalysis(_0x53f0ea);}catch(_0xf525ec){console['error'](_0x52ab0b(0x652),_0xf525ec),_0x325528['innerHTML']='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0xf525ec[_0x52ab0b(0x7d2)]+'</p></div>';}finally{document[_0x52ab0b(0x6a9)](_0x52ab0b(0x3d5))['disabled']=![];}}function displayClassAnalysis(_0x534ef){const _0xc5e988=_0x2eabae,_0x457119=document[_0xc5e988(0x6a9)]('strength-weakness-analysis-container');if(!_0x534ef){_0x457119[_0xc5e988(0x7c0)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x457119[_0xc5e988(0x7c0)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x534ef[_0xc5e988(0x68d)][_0xc5e988(0x58b)](_0x4b634a=>_0xc5e988(0x314)+_0x4b634a+'</li>')[_0xc5e988(0x702)]('')+_0xc5e988(0x60a)+_0x534ef['classWeaknesses'][_0xc5e988(0x58b)](_0x2df8a5=>'<li>'+_0x2df8a5+_0xc5e988(0x315))[_0xc5e988(0x702)]('')+_0xc5e988(0x7fd)+_0x534ef[_0xc5e988(0x3d7)][_0xc5e988(0x58b)](_0x5e52f6=>_0xc5e988(0x314)+_0x5e52f6+_0xc5e988(0x315))[_0xc5e988(0x702)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x3d4b66,_0xd1141a){const _0x493aa7=_0x2eabae,_0x384328=_0x493aa7(0x302)+_0x3d4b66['topic']+_0x493aa7(0x2b4)+_0x3d4b66[_0x493aa7(0x4d1)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d4b66[_0x493aa7(0x813)][_0x493aa7(0x58b)]((_0x2ba1c8,_0x3ee3cc)=>_0x493aa7(0x2a6)+(_0x3ee3cc+0x1)+'.\x20'+_0x2ba1c8['questionText']+_0x493aa7(0x889)+(_0x2ba1c8[_0x493aa7(0x753)]?_0x493aa7(0x243)+_0x2ba1c8[_0x493aa7(0x753)]+_0x493aa7(0x8dc):'')+_0x493aa7(0x2d1))[_0x493aa7(0x702)]('')+_0x493aa7(0x2a5);_0xd1141a[_0x493aa7(0x25f)][_0x493aa7(0x39f)](_0x384328),_0xd1141a[_0x493aa7(0x25f)][_0x493aa7(0x33c)](),_0xd1141a[_0x493aa7(0x7fe)]=function(){setTimeout(()=>{const _0xdbc19c=_0x4eb1;_0xd1141a[_0xdbc19c(0x6c8)]();},0x3e8);};}async function generateWorksheet(){const _0x5c8194=_0x2eabae,_0x1e8d96=document['getElementById'](_0x5c8194(0x227))[_0x5c8194(0x223)][_0x5c8194(0x88b)]();if(!_0x1e8d96){showMessage(_0x5c8194(0x822));return;}const _0x5dfdbf=document[_0x5c8194(0x6a9)](_0x5c8194(0x252))[_0x5c8194(0x2e9)],_0x2bf680=_0x5dfdbf?'':_0x5c8194(0x436),_0x52940d=window[_0x5c8194(0x504)]('',_0x5c8194(0x359));_0x52940d['document'][_0x5c8194(0x39f)](_0x5c8194(0x1b2));const _0x45717f=parseInt(document['getElementById'](_0x5c8194(0x311))[_0x5c8194(0x223)]),_0x1a0f66=document['getElementById']('include-images-checkbox')['checked'],_0x3d78c4=_0x1a0f66?_0x5c8194(0x57e):'',_0x39d39c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x2bf680+_0x5c8194(0x622)+_0x45717f+_0x5c8194(0x4b0)+_0x1e8d96+_0x5c8194(0x43a)+_0x3d78c4+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x5c8194(0x7bf),_0x22b116={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x5c8194(0x635),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x5c8194(0x5df)},'imageCode':{'type':_0x5c8194(0x5df)}},'required':[_0x5c8194(0x836)]}}},'required':['topic','questions']};document[_0x5c8194(0x6a9)](_0x5c8194(0x32d))[_0x5c8194(0x60c)]='',document[_0x5c8194(0x6a9)](_0x5c8194(0x258))['classList']['remove'](_0x5c8194(0x3ef)),document[_0x5c8194(0x6a9)](_0x5c8194(0x3b1))['classList'][_0x5c8194(0x3b0)](_0x5c8194(0x3ef)),generateWorksheetBtn[_0x5c8194(0x423)]=!![];try{const _0xe15f0e=await callAnalysisApi(_0x39d39c,_0x22b116);formatAndPrintWorksheet(_0xe15f0e,_0x52940d);}catch(_0x369146){console['error'](_0x5c8194(0x5ff),_0x369146);if(_0x52940d)_0x52940d[_0x5c8194(0x33c)]();showMessage(_0x5c8194(0x471));}finally{document[_0x5c8194(0x6a9)](_0x5c8194(0x258))[_0x5c8194(0x62e)]['add'](_0x5c8194(0x3ef)),document[_0x5c8194(0x6a9)](_0x5c8194(0x3b1))[_0x5c8194(0x62e)][_0x5c8194(0x6e5)](_0x5c8194(0x3ef)),generateWorksheetBtn[_0x5c8194(0x423)]=![];}}async function callAnalysisApi(_0x59b014,_0x425c3b){const _0x40c276=_0x2eabae,_0x57c06d={'contents':[{'role':_0x40c276(0x729),'parts':[{'text':_0x59b014}]}],'generationConfig':{'responseMimeType':_0x40c276(0x4b9),'responseSchema':_0x425c3b}},_0x497e80=_0x40c276(0x5dd),_0x40cbcf=_0x40c276(0x3ac)+_0x497e80,_0x4032e3=await fetch(_0x40cbcf,{'method':'POST','headers':{'Content-Type':_0x40c276(0x4b9)},'body':JSON['stringify'](_0x57c06d)});if(!_0x4032e3['ok'])throw new Error(_0x40c276(0x8dd)+_0x4032e3[_0x40c276(0x692)]);const _0x18a223=await _0x4032e3['json']();if(_0x18a223[_0x40c276(0x54e)]?.[0x0]?.[_0x40c276(0x45e)]?.[_0x40c276(0x5fd)]?.[0x0])return JSON[_0x40c276(0x4d0)](_0x18a223[_0x40c276(0x54e)][0x0][_0x40c276(0x45e)][_0x40c276(0x5fd)][0x0][_0x40c276(0x675)]);else{let _0x46520e=_0x40c276(0x16e);if(_0x18a223['promptFeedback']?.[_0x40c276(0x650)])_0x46520e='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x18a223[_0x40c276(0x204)]['blockReason']+'.';else _0x18a223['candidates']?.[0x0]?.[_0x40c276(0x288)]&&_0x18a223[_0x40c276(0x54e)][0x0][_0x40c276(0x288)]!=='STOP'&&(_0x46520e=_0x40c276(0x26c)+_0x18a223[_0x40c276(0x54e)][0x0][_0x40c276(0x288)]+'.');console[_0x40c276(0x497)](_0x46520e,JSON['stringify'](_0x18a223));throw new Error(_0x46520e);}}initialize();
