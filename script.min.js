const _0xe56031=_0x352e;(function(_0x5af25c,_0x4f5ae3){const _0x34b9f1=_0x352e,_0x382475=_0x5af25c();while(!![]){try{const _0x37a6d5=-parseInt(_0x34b9f1(0x8de))/0x1+-parseInt(_0x34b9f1(0x87d))/0x2+-parseInt(_0x34b9f1(0x52a))/0x3+parseInt(_0x34b9f1(0x6e8))/0x4*(-parseInt(_0x34b9f1(0x67e))/0x5)+parseInt(_0x34b9f1(0xaaf))/0x6+parseInt(_0x34b9f1(0x8cf))/0x7+parseInt(_0x34b9f1(0x966))/0x8*(parseInt(_0x34b9f1(0x5f6))/0x9);if(_0x37a6d5===_0x4f5ae3)break;else _0x382475['push'](_0x382475['shift']());}catch(_0x2821ce){_0x382475['push'](_0x382475['shift']());}}}(_0x4f4b,0xd5040));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0xe56031(0x8c4),'บักแตงโม',_0xe56031(0x56c),'เหมียวขี้เซา','นกฮูกกลางวัน',_0xe56031(0x6a5),'โลมาบิน',_0xe56031(0x8a3),'เพนกวินไฟ',_0xe56031(0x5f1),_0xe56031(0x6a1),_0xe56031(0x6e2),'เงาปริศนา',_0xe56031(0xb16),_0xe56031(0x2a5),_0xe56031(0x9fa),_0xe56031(0x408),'ซามูไรสายเดี่ยว','โจรสลัดอวกาศ',_0xe56031(0xadf),_0xe56031(0xb60),'แมวเก้าชีวิต','ปลาทูคะนอง',_0xe56031(0x93f),_0xe56031(0x46c),'หมาป่าเดียวดาย',_0xe56031(0xa85),_0xe56031(0x7f6),'ม้าดีดกะโหลก',_0xe56031(0xd9c),'ยอดนักสืบ',_0xe56031(0x540),_0xe56031(0x848),_0xe56031(0xd51),_0xe56031(0x6ab),'CEOพันล้าน','เศรษฐีดูไบ','อินฟลูเอนเซอร์','เน็ตไอดอล',_0xe56031(0xd1d),_0xe56031(0x94d),_0xe56031(0x355),'ส้มตำปูปลาร้า','พิซซ่าหน้าทุเรียน',_0xe56031(0x938),'ข้าวมันไก่พิเศษ','หมูกระทะจะเยียวยาทุกสิ่ง',_0xe56031(0x464),'ชีสเค้ก','ลาเต้ไม่หวาน','สายตาสั้น','ปวดหลัง',_0xe56031(0xb22),_0xe56031(0xcd8),_0xe56031(0x399),_0xe56031(0x669),'เน็ตช้า','โหลดนาน','404\x20Not\x20Found',_0xe56031(0xa20),_0xe56031(0x5be),_0xe56031(0xc3e),_0xe56031(0xa22),_0xe56031(0xa2f),_0xe56031(0x254),_0xe56031(0xcd3),'ทะเล',_0xe56031(0x216),'ป่าไม้','แม่น้ำ',_0xe56031(0x386),_0xe56031(0x242),_0xe56031(0xa26),_0xe56031(0x7ab),_0xe56031(0xadc),_0xe56031(0x41b),_0xe56031(0xc64),_0xe56031(0xaee),_0xe56031(0x750),_0xe56031(0x53f),'พลังคลื่นเต่า','ปล่อยพลัง',_0xe56031(0x2f2),_0xe56031(0xd00),_0xe56031(0xbe9),_0xe56031(0x29b),_0xe56031(0x9e8),_0xe56031(0x4e5),_0xe56031(0x305),_0xe56031(0x9b0),_0xe56031(0x47b),'คนโสด','แอบชอบ',_0xe56031(0x5ca),_0xe56031(0x2bf),'คู่จิ้น',_0xe56031(0x9ce),_0xe56031(0x657),'สถานะไม่ชัดเจน',_0xe56031(0x52c)];let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0xe56031(0x5bf),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0xe56031(0x5bf),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0xe56031(0x5bf),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x14e1c7=_0xe56031;if(_0x14e1c7(0xa93)in navigator)try{wakeLock=await navigator['wakeLock'][_0x14e1c7(0x2ab)](_0x14e1c7(0x71f)),console[_0x14e1c7(0xaef)](_0x14e1c7(0xbc1)),wakeLock[_0x14e1c7(0x395)](_0x14e1c7(0x573),()=>{const _0x1dbd1f=_0x14e1c7;console[_0x1dbd1f(0xaef)](_0x1dbd1f(0x549));});}catch(_0x154201){console[_0x14e1c7(0x90c)](_0x14e1c7(0xb97)+_0x154201[_0x14e1c7(0xb95)]+',\x20'+_0x154201['message']);}else console['warn'](_0x14e1c7(0x96c));},releaseWakeLock=async()=>{const _0x49cf6c=_0xe56031;wakeLock!==null&&(await wakeLock[_0x49cf6c(0x573)](),wakeLock=null,console[_0x49cf6c(0xaef)](_0x49cf6c(0x23e)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x2ea60d=_0xe56031;if(!document[_0x2ea60d(0xc49)][_0x2ea60d(0x3f5)][_0x2ea60d(0x1fe)](_0x2ea60d(0x1c6))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x3292b1=_0x2ea60d;document['body'][_0x3292b1(0x3f5)]['add'](_0x3292b1(0x1c6)),console[_0x3292b1(0xaef)](_0x3292b1(0x6ec));},inactivityTime);}}function wakeUpScreen(_0x432033){const _0x1bfc18=_0xe56031;_0x432033&&(_0x432033[_0x1bfc18(0x3c9)](),_0x432033[_0x1bfc18(0x6e6)]());document[_0x1bfc18(0xc49)][_0x1bfc18(0x3f5)]['remove'](_0x1bfc18(0x1c6));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x56474f=_0x1bfc18;document[_0x56474f(0xc49)][_0x56474f(0x3f5)][_0x56474f(0xd54)]('dimmed');},inactivityTime);}function stopDimTimer(){const _0x2fe581=_0xe56031;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x2fe581(0x3f5)]['remove']('dimmed'),window[_0x2fe581(0xb89)](_0x2fe581(0x6ff),resetDimTimer),window[_0x2fe581(0xb89)](_0x2fe581(0xb57),resetDimTimer),window[_0x2fe581(0xb89)](_0x2fe581(0xc57),resetDimTimer),window[_0x2fe581(0xb89)](_0x2fe581(0xaf5),resetDimTimer),console[_0x2fe581(0xaef)](_0x2fe581(0x93e));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x489c95,_0x41590c=![]){const _0x87a949=_0xe56031,_0x3b4ee0=allQuizzes[_0x87a949(0x692)](_0x213a7d=>_0x213a7d['id']===_0x489c95)||allQuizzesGlobal[_0x87a949(0x692)](_0x222c85=>_0x222c85['id']===_0x489c95);if(!_0x3b4ee0){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x3b4ee0);const _0x6edef3=Math[_0x87a949(0x87b)](0x3e8+Math[_0x87a949(0x96f)]()*0x2328)[_0x87a949(0xd2a)]();try{const _0xcd43aa=await addDoc(collection(db,_0x87a949(0x637)+appId+'/public/data/teamQuizzes'),{'quizId':_0x3b4ee0['id'],'projectId':_0x3b4ee0[_0x87a949(0x971)],'status':_0x87a949(0xb96),'pin':_0x6edef3,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x41590c});currentTeamQuizId=_0xcd43aa['id'],showView(_0x87a949(0xa13)),renderAdminTeamQuizDashboard(_0x6edef3,_0x3b4ee0[_0x87a949(0x5c5)]),listenForTeamQuizUpdates();}catch(_0x333314){console[_0x87a949(0x90c)]('Error\x20starting\x20team\x20quiz:',_0x333314),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x1c1e7c,_0xa176cf,_0xb741d8=_0xe56031(0xa74)){const _0x5d7a1a=_0xe56031,_0x135b13=_0xb741d8==='group'?_0x5d7a1a(0x711):'Team\x20Quiz';liveGameView[_0x5d7a1a(0x81c)]=_0x5d7a1a(0xd88)+_0x135b13+':\x20'+_0xa176cf+_0x5d7a1a(0x488)+_0x1c1e7c+_0x5d7a1a(0xa02),document[_0x5d7a1a(0x581)]('end-team-quiz-btn')[_0x5d7a1a(0x395)](_0x5d7a1a(0xafd),async()=>{const _0x175fa0=_0x5d7a1a;showConfirmation(_0x175fa0(0x42f),async()=>{const _0x17c2af=_0x175fa0;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x17c2af(0x637)+appId+'/public/data/teamQuizzes',currentTeamQuizId)),showView(_0x17c2af(0x47f));});});}function listenForTeamQuizUpdates(){const _0x29586c=_0xe56031;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x462269=doc(db,_0x29586c(0x637)+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x462269,_0x47214d=>{const _0x4e60d0=_0x29586c;if(!_0x47214d[_0x4e60d0(0x437)]()){sessionStorage[_0x4e60d0(0xd3f)](_0x4e60d0(0x957));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x4e60d0(0x375));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x4e60d0(0x47f)):showView(_0x4e60d0(0x39a));return;}const _0x481a64=_0x47214d[_0x4e60d0(0x610)]();if(currentMode===_0x4e60d0(0x916)){if(_0x481a64[_0x4e60d0(0xd80)]===_0x4e60d0(0x2dd)&&_0x481a64[_0x4e60d0(0x342)]!==_0x4e60d0(0x58e)&&_0x481a64['status']!==_0x4e60d0(0x944)){const _0x303bb8=Object[_0x4e60d0(0xa03)](_0x481a64[_0x4e60d0(0x1bd)]||{});if(_0x303bb8['length']>0x0){const _0x30c37e=_0x303bb8[_0x4e60d0(0xc4f)](_0x3ec5f3=>_0x3ec5f3[_0x4e60d0(0x62f)]===!![]);_0x30c37e&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x481a64);}else{if(_0x481a64[_0x4e60d0(0x342)]==='podium'||_0x481a64[_0x4e60d0(0x342)]===_0x4e60d0(0x944)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x481a64[_0x4e60d0(0xd80)]===_0x4e60d0(0x2dd)){const _0x58785e=_0x481a64[_0x4e60d0(0x1bd)][userId];(!_0x58785e||!_0x58785e[_0x4e60d0(0x62f)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x38ab9e){const _0x5b634d=_0xe56031;console[_0x5b634d(0xaef)](_0x5b634d(0x2c7));const _0xf95eaf=doc(db,_0x5b634d(0x637)+appId+_0x5b634d(0x51c),_0x38ab9e);try{const _0x117045=await getDoc(_0xf95eaf);if(_0x117045['exists']()){const _0x18c07a=_0x117045[_0x5b634d(0x610)]();_0x18c07a[_0x5b634d(0xd8d)]&&await saveGameResultsAsSubmissions(_0x18c07a);}await updateDoc(_0xf95eaf,{'status':_0x5b634d(0x58e)});}catch(_0x235ff9){console[_0x5b634d(0x90c)](_0x5b634d(0x740),_0x235ff9);}}function updateAdminTeamDashboard(_0x54bfa7){const _0x1f3ee7=_0xe56031,_0xe159ec=document['getElementById']('team-player-status-grid');if(!_0xe159ec)return;const _0x565038=_0x54bfa7[_0x1f3ee7(0xd80)]||'team',_0x319149=currentQuizData['questions'][_0x1f3ee7(0xb5d)];if(_0x565038==='group'){const _0x1f01f1=Object['values'](_0x54bfa7[_0x1f3ee7(0x1bd)]||{});if(_0x1f01f1[_0x1f3ee7(0xb5d)]===0x0){_0xe159ec[_0x1f3ee7(0x81c)]=_0x1f3ee7(0x2cf);return;}const _0x32dc5e=[..._0x1f01f1]['sort']((_0x3f711a,_0x4e2979)=>_0x4e2979['score']-_0x3f711a[_0x1f3ee7(0x9b7)]),_0x17ef4a=_0x32dc5e[_0x1f3ee7(0xaa7)]((_0x5018f3,_0x45040a)=>{const _0x177519=_0x1f3ee7,_0x2d00a8=_0x5018f3[_0x177519(0x7d8)]?.['length']||0x0;return _0x177519(0x1aa)+(_0x45040a+0x1)+_0x177519(0x54e)+_0x5018f3[_0x177519(0xb14)][_0x177519(0x51a)](',\x20')+_0x177519(0x72e)+_0x2d00a8+'/'+_0x319149+_0x177519(0x2ff)+_0x5018f3['score']+_0x177519(0x9f0);})[_0x1f3ee7(0x51a)](''),_0x147f6e=currentQuizData[_0x1f3ee7(0xafb)][_0x1f3ee7(0xaa7)]((_0x115740,_0x418490)=>{const _0x34751e=_0x1f3ee7;let _0x3cce7e=0x0,_0xa6e056=0x0;_0x1f01f1['forEach'](_0xceef21=>{const _0x302ba0=_0x352e,_0xa2bf11=_0xceef21['answers']?.[_0x302ba0(0x692)](_0x2a2d3a=>_0x2a2d3a['questionIndex']===_0x418490);if(_0xa2bf11){_0xa6e056++;if(_0xa2bf11[_0x302ba0(0x783)])_0x3cce7e++;}});const _0x67033f=_0xa6e056>0x0&&_0xa6e056===_0x1f01f1[_0x34751e(0xb5d)],_0x53afc4=_0x67033f?_0x34751e(0xaa5):_0x34751e(0x4e7),_0x42dad8=_0x67033f?_0x34751e(0xc7d):'';return _0x34751e(0x4fa)+_0x53afc4+_0x34751e(0x94f)+(_0x418490+0x1)+':</span><span>'+_0x42dad8+'</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20'+_0x3cce7e+'/'+_0x1f01f1[_0x34751e(0xb5d)]+_0x34751e(0x25d);})['join']('');_0xe159ec[_0x1f3ee7(0x81c)]=_0x1f3ee7(0x4c7)+_0x17ef4a+_0x1f3ee7(0x871)+_0x147f6e+_0x1f3ee7(0xa8a);return;}const _0x25bfd5=_0x54bfa7[_0x1f3ee7(0x323)]||{},_0x5638b3=Object[_0x1f3ee7(0x9d8)](_0x25bfd5);if(_0x5638b3[_0x1f3ee7(0xb5d)]===0x0){_0xe159ec[_0x1f3ee7(0x81c)]=_0x1f3ee7(0xc96);return;}const _0x511f6a=_0x5638b3[_0x1f3ee7(0xaa7)](_0x33f06a=>({'name':_0x33f06a,'score':_0x25bfd5[_0x33f06a][_0x1f3ee7(0x9b7)]||0x0}))[_0x1f3ee7(0x57f)]((_0x23df29,_0x3dd7cc)=>_0x3dd7cc[_0x1f3ee7(0x9b7)]-_0x23df29[_0x1f3ee7(0x9b7)]),_0x4191e1=_0x511f6a[_0x1f3ee7(0xaa7)](_0x350b8f=>{const _0x3948bb=_0x1f3ee7,_0x431a7b=_0x25bfd5[_0x350b8f[_0x3948bb(0xb95)]]?.[_0x3948bb(0x7d8)]?.[_0x3948bb(0xb5d)]||0x0,_0x2b642d=Math['ceil'](_0x319149/_0x5638b3[_0x3948bb(0xb5d)]);return _0x3948bb(0x9e4)+_0x350b8f[_0x3948bb(0xb95)]+_0x3948bb(0x84c)+_0x431a7b+'/'+_0x2b642d+_0x3948bb(0x84b)+_0x350b8f[_0x3948bb(0x9b7)]+_0x3948bb(0xa58);})[_0x1f3ee7(0x51a)](''),_0xf69c9c=_0x5638b3['reduce']((_0x5d37d9,_0x3fd083)=>_0x5d37d9+(_0x25bfd5[_0x3fd083][_0x1f3ee7(0x7d8)]?.['length']||0x0),0x0),_0x571eaf=currentQuizData[_0x1f3ee7(0xafb)][_0x1f3ee7(0xaa7)]((_0x47a58b,_0x18cb5b)=>{const _0x2c65d4=_0x1f3ee7;let _0x14e0b4=null,_0x2b8c29=null;for(const _0x4f9ea0 of _0x5638b3){const _0x3f6b31=_0x25bfd5[_0x4f9ea0][_0x2c65d4(0x7d8)]?.[_0x2c65d4(0x692)](_0x5bbe08=>_0x5bbe08[_0x2c65d4(0x964)]===_0x18cb5b);if(_0x3f6b31){_0x14e0b4=_0x3f6b31,_0x2b8c29=_0x4f9ea0;break;}}const _0x59997b=!!_0x14e0b4,_0x2cddf8=_0x59997b&&_0x14e0b4[_0x2c65d4(0x783)],_0x4d7225=(Math[_0x2c65d4(0x87b)](_0x18cb5b/_0x5638b3['length'])+0x1)*_0x5638b3['length'],_0x2abca7=_0xf69c9c>=_0x4d7225,_0x4aa466=_0x2abca7?_0x2c65d4(0x78e):_0x2c65d4(0x4e7),_0xf9e102=_0x2abca7?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';let _0x130802=_0x2c65d4(0x5ef);return _0x59997b&&(_0x130802=_0x2b8c29+_0x2c65d4(0xd2e)+(_0x2cddf8?'ถูก':'ผิด')),_0x2c65d4(0x4fa)+_0x4aa466+_0x2c65d4(0x94f)+(_0x18cb5b+0x1)+_0x2c65d4(0x746)+_0xf9e102+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x130802+_0x2c65d4(0xd34);})[_0x1f3ee7(0x51a)]('');_0xe159ec['innerHTML']=_0x1f3ee7(0x879)+_0x4191e1+_0x1f3ee7(0x432)+_0x571eaf+_0x1f3ee7(0xa8a);}async function handleJoinTeamQuiz(){const _0x2619f0=_0xe56031,_0x3e6604=prompt(_0x2619f0(0xd37));if(!_0x3e6604||_0x3e6604[_0x2619f0(0xd92)]()['length']!==0x4){showMessage(_0x2619f0(0x41d));return;}try{const _0x309b12=collection(db,'artifacts/'+appId+'/public/data/teamQuizzes'),_0x2333ec=query(_0x309b12,where(_0x2619f0(0x4d9),'==',_0x3e6604[_0x2619f0(0xd92)]()),where('status','==',_0x2619f0(0xb96))),_0x9f85e8=await getDocs(_0x2333ec);if(_0x9f85e8[_0x2619f0(0x9b2)]){showMessage('ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x504cfe=_0x9f85e8[_0x2619f0(0x3b1)][0x0];currentTeamQuizId=_0x504cfe['id'];const _0x545810=_0x504cfe[_0x2619f0(0x610)](),_0xbd83f0=doc(db,_0x2619f0(0x637)+appId+_0x2619f0(0x7fe),_0x545810[_0x2619f0(0x971)]),_0x49d614=doc(db,_0x2619f0(0x637)+appId+_0x2619f0(0x6cd),_0x545810[_0x2619f0(0x8b9)]),[_0x370c32,_0x133fde]=await Promise[_0x2619f0(0x5bf)]([getDoc(_0xbd83f0),getDoc(_0x49d614)]);if(!_0x370c32[_0x2619f0(0x437)]()||!_0x133fde['exists']())throw new Error(_0x2619f0(0x1b7));currentQuizData=getShuffledQuiz({'id':_0x133fde['id'],..._0x133fde['data']()});const _0x1e8a0b=_0x370c32[_0x2619f0(0x610)]();showTeamPlayerSelection(_0x1e8a0b[_0x2619f0(0x4c2)],currentQuizData[_0x2619f0(0x5c5)]);}catch(_0x51e056){console['error'](_0x2619f0(0xd28),_0x51e056),showMessage(_0x2619f0(0xb5c)+_0x51e056['message']);}}async function handleJoinGroupActivity(){const _0x3471f7=_0xe56031,_0x3535ee=prompt(_0x3471f7(0x6bb));if(!_0x3535ee||_0x3535ee[_0x3471f7(0xd92)]()[_0x3471f7(0xb5d)]!==0x4){showMessage(_0x3471f7(0xd49));return;}const _0x4da81b=_0x3535ee['trim']();showMessage(_0x3471f7(0x1e2));try{const _0x264260=collection(db,_0x3471f7(0x637)+appId+_0x3471f7(0x51c)),_0x3bf744=query(_0x264260,where(_0x3471f7(0x4d9),'==',_0x4da81b),where(_0x3471f7(0x342),'==',_0x3471f7(0xb96))),_0x5bb386=await getDocs(_0x3bf744);if(!_0x5bb386[_0x3471f7(0x9b2)]){console['log'](_0x3471f7(0x413)),await proceedWithTeamQuizJoin(_0x5bb386['docs'][0x0]);return;}const _0x3cf499=collection(db,_0x3471f7(0x637)+appId+_0x3471f7(0x201)),_0x5b189b=query(_0x3cf499,where(_0x3471f7(0x4d9),'==',_0x4da81b),where(_0x3471f7(0x342),'==','lobby')),_0x4e38a6=await getDocs(_0x5b189b);if(!_0x4e38a6[_0x3471f7(0x9b2)]){console[_0x3471f7(0xaef)](_0x3471f7(0x24b)),await proceedWithSyncQuizJoin(_0x4e38a6[_0x3471f7(0x3b1)][0x0]);return;}showMessage(_0x3471f7(0x349));}catch(_0x308588){console[_0x3471f7(0x90c)]('Error\x20joining\x20activity:',_0x308588),showMessage(_0x3471f7(0x920)+_0x308588['message']);}}async function proceedWithTeamQuizJoin(_0x5d259c){const _0x5dcade=_0xe56031;currentTeamQuizId=_0x5d259c['id'];const _0x50912f=_0x5d259c[_0x5dcade(0x610)](),_0x4a794a=doc(db,'artifacts/'+appId+_0x5dcade(0x7fe),_0x50912f['projectId']),_0xba35a2=doc(db,_0x5dcade(0x637)+appId+_0x5dcade(0x6cd),_0x50912f[_0x5dcade(0x8b9)]),[_0x149859,_0x3f2076]=await Promise['all']([getDoc(_0x4a794a),getDoc(_0xba35a2)]);if(!_0x149859[_0x5dcade(0x437)]()||!_0x3f2076['exists']())throw new Error(_0x5dcade(0x1b7));currentQuizData=getShuffledQuiz({'id':_0x3f2076['id'],..._0x3f2076['data']()}),showTeamPlayerSelection(_0x149859[_0x5dcade(0x610)]()[_0x5dcade(0x4c2)],currentQuizData['topic'],_0x50912f[_0x5dcade(0xd80)]||'team'),messageModal['classList']['add'](_0x5dcade(0xa91));}async function proceedWithSyncQuizJoin(_0x52595f){const _0x38716d=_0xe56031;currentLiveGameId=_0x52595f['id'];const _0x24050b=_0x52595f[_0x38716d(0x610)](),_0x41ff0b=doc(db,_0x38716d(0x637)+appId+_0x38716d(0x6cd),_0x24050b[_0x38716d(0x8b9)]),_0x1c22f3=await getDoc(_0x41ff0b);if(!_0x1c22f3[_0x38716d(0x437)]())throw new Error(_0x38716d(0x6d6));const _0x251499=_0x1c22f3[_0x38716d(0x610)](),_0x418a84=doc(db,'artifacts/'+appId+_0x38716d(0x7fe),_0x251499[_0x38716d(0x971)]),_0x4f67fa=await getDoc(_0x418a84);if(!_0x4f67fa['exists']())throw new Error(_0x38716d(0x5b0));currentQuizData=_0x24050b[_0x38716d(0x7a6)],showView(_0x38716d(0x291)),showTeamPlayerSelection(_0x4f67fa['data']()[_0x38716d(0x4c2)],_0x251499[_0x38716d(0x5c5)],'sync'),document[_0x38716d(0x581)](_0x38716d(0x241))['onclick']=confirmAndJoinSyncGame,messageModal[_0x38716d(0x3f5)][_0x38716d(0xd54)](_0x38716d(0xa91));}function getCleanApplicationHTML(){const _0x44fcf8=_0xe56031,_0x43b856=document['getElementById'](_0x44fcf8(0xb26));if(!_0x43b856)return'';const _0x443c19=_0x43b856[_0x44fcf8(0xaca)](!![]);return _0x443c19[_0x44fcf8(0x30c)]('.application-options\x20button')[_0x44fcf8(0x215)](_0x1d8308=>{const _0x2bbaa3=_0x44fcf8;_0x1d8308[_0x2bbaa3(0x3f5)]['remove'](_0x2bbaa3(0x390),_0x2bbaa3(0x674)),_0x1d8308[_0x2bbaa3(0x5ba)]=![];}),_0x443c19[_0x44fcf8(0x81c)];}function showTeamPlayerSelection(_0x5dfb61,_0x139046,_0x4c7353='team'){const _0x22862c=_0xe56031;studentInitialView[_0x22862c(0x3f5)]['add'](_0x22862c(0xa91)),studentJoinGameView[_0x22862c(0x3f5)][_0x22862c(0xd54)]('hidden'),document[_0x22862c(0x581)](_0x22862c(0x9ba))['classList'][_0x22862c(0xbb6)]('hidden');let _0x5c93f2='Team\x20Quiz';if(_0x4c7353===_0x22862c(0x2dd))_0x5c93f2=_0x22862c(0x711);else _0x4c7353===_0x22862c(0x568)&&(_0x5c93f2=_0x22862c(0xbfe));document[_0x22862c(0x581)]('team-quiz-topic')[_0x22862c(0x25c)]=_0x5c93f2+':\x20'+_0x139046;const _0x3378bb=document['getElementById'](_0x22862c(0x5af));if(!_0x5dfb61||_0x5dfb61[_0x22862c(0xb5d)]===0x0){_0x3378bb['innerHTML']=_0x22862c(0xcad),document['getElementById'](_0x22862c(0x241))[_0x22862c(0x5ba)]=!![];return;}_0x3378bb[_0x22862c(0x81c)]=_0x5dfb61[_0x22862c(0xaa7)](_0x5ed4cf=>_0x22862c(0xc4c)+_0x5ed4cf+_0x22862c(0x7a5)+_0x5ed4cf+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x22862c(0x51a)](''),document[_0x22862c(0x581)]('confirm-team-players-btn')['disabled']=![];}async function confirmAndStartTeamQuiz(){const _0x109e76=_0xe56031,_0x1c1e81=Array[_0x109e76(0x454)](document[_0x109e76(0x30c)](_0x109e76(0x838)))[_0x109e76(0xaa7)](_0xb7572f=>_0xb7572f[_0x109e76(0x9ef)]);if(_0x1c1e81['length']===0x0){showMessage(_0x109e76(0xb34));return;}localTeamPlayers=_0x1c1e81,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x5322aa=doc(db,'artifacts/'+appId+_0x109e76(0x51c),currentTeamQuizId);try{const _0x305412=await getDoc(_0x5322aa);if(!_0x305412[_0x109e76(0x437)]())throw new Error(_0x109e76(0x196));const _0x617f89=_0x305412[_0x109e76(0x610)]();if(_0x617f89[_0x109e76(0xd80)]===_0x109e76(0x2dd)){const _0x37d3ee={[_0x109e76(0xcd0)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x5322aa,_0x37d3ee);}else{const _0x3d882c=_0x617f89[_0x109e76(0x323)]||{};localTeamPlayers[_0x109e76(0x215)](_0x29b1fa=>{!_0x3d882c[_0x29b1fa]&&(_0x3d882c[_0x29b1fa]={'score':0x0,'answers':[]});}),await updateDoc(_0x5322aa,{'responses':_0x3d882c});}document['getElementById'](_0x109e76(0x9ba))[_0x109e76(0x3f5)]['add']('hidden'),renderTeamQuizQuestion();const _0x2079e9={'gameId':currentTeamQuizId,'mode':_0x617f89[_0x109e76(0xd80)]||_0x109e76(0xa74),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x109e76(0xbd9)](_0x109e76(0x957),JSON[_0x109e76(0x35f)](_0x2079e9)),listenForTeamQuizUpdates();}catch(_0x28203b){console[_0x109e76(0x90c)](_0x109e76(0x252),_0x28203b),showMessage(_0x109e76(0x42a));}}async function renderTeamQuizQuestion(){const _0x148a47=_0xe56031;if(localQuestionIndex>=currentQuizData['questions'][_0x148a47(0xb5d)]){displayTeamQuizFinalResults();return;}const _0x390f1c=currentQuizData[_0x148a47(0xafb)][localQuestionIndex],_0x44c68b=localTeamPlayers[localPlayerIndex],_0x1fbad9=_0x390f1c['questionType']||currentQuizData[_0x148a47(0xd7d)];let _0x231dc9=_0x390f1c[_0x148a47(0x3b4)]||_0x390f1c['questionText'],_0x3150f5='';switch(_0x1fbad9){case _0x148a47(0x84f):case _0x148a47(0x6da):_0x3150f5=_0x390f1c[_0x148a47(0x578)][_0x148a47(0xaa7)]((_0xdd4325,_0x881a23)=>_0x148a47(0x775)+_0x881a23+_0x148a47(0x275)+_0x881a23+_0x148a47(0xa9e)+_0x881a23+'\x22>'+_0xdd4325+_0x148a47(0x6e1))[_0x148a47(0x51a)]('');break;case _0x148a47(0xa12):_0x3150f5='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0x148a47(0xcb9):case _0x148a47(0x400):_0x3150f5='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';break;case _0x148a47(0xaa0):_0x3150f5=_0x148a47(0x4b1)+_0x390f1c[_0x148a47(0x433)][_0x148a47(0xaa7)](_0x48d4cc=>_0x148a47(0x55d)+_0x48d4cc+'\x22>'+_0x48d4cc+_0x148a47(0x530))[_0x148a47(0x51a)]('')+'</select>';break;default:_0x3150f5='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x148a47(0x81c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x148a47(0xafb)][_0x148a47(0xb5d)]+_0x148a47(0x850)+_0x44c68b+_0x148a47(0xa64)+(localQuestionIndex+0x1)+'.\x20'+_0x231dc9+_0x148a47(0x9ed)+(_0x390f1c['imageCode']?_0x148a47(0x443)+_0x390f1c['imageCode']+_0x148a47(0x209):'')+_0x148a47(0x74e)+_0x3150f5+_0x148a47(0x69f),studentQuizArea[_0x148a47(0x3f5)][_0x148a47(0xbb6)](_0x148a47(0xa91));if(window[_0x148a47(0x609)])MathJax[_0x148a47(0x461)]([studentQuizArea]);document[_0x148a47(0x581)](_0x148a47(0xd62))[_0x148a47(0x395)](_0x148a47(0xafd),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x17d3f3=_0xe56031,_0x151faf=currentQuizData['questions'][localQuestionIndex],_0x406f8c=_0x151faf[_0x17d3f3(0xabf)]||currentQuizData['quizType'];let _0x2eca0d=null,_0x2a0508=![];if(_0x406f8c==='short_answer'||_0x406f8c===_0x17d3f3(0x400)){const _0x458892=document['querySelector'](_0x17d3f3(0x73e));if(!_0x458892||!_0x458892[_0x17d3f3(0x9ef)]['trim']()){showMessage(_0x17d3f3(0x616));return;}_0x2eca0d=_0x458892[_0x17d3f3(0x9ef)]['trim'](),_0x2a0508=await gradeShortAnswer(_0x2eca0d,_0x151faf);}else{const _0x2f737e=document[_0x17d3f3(0xd4c)](_0x17d3f3(0x69c));if(!_0x2f737e||_0x2f737e['value']===''){showMessage(_0x17d3f3(0xc62));return;}_0x2eca0d=_0x2f737e[_0x17d3f3(0x9ef)];switch(_0x406f8c){case'true_false':_0x2a0508=_0x2eca0d===_0x17d3f3(0x975)===_0x151faf[_0x17d3f3(0x39b)];break;case _0x17d3f3(0xaa0):_0x2a0508=_0x2eca0d===_0x151faf[_0x17d3f3(0x37a)];break;default:_0x2a0508=parseInt(_0x2eca0d)===_0x151faf[_0x17d3f3(0x37b)];break;}}const _0x576918={'questionIndex':localQuestionIndex,'isCorrect':_0x2a0508},_0x329661=userId,_0x184c64={[_0x17d3f3(0xcd0)+_0x329661+_0x17d3f3(0x864)]:arrayUnion(_0x576918)};_0x2a0508&&(_0x184c64[_0x17d3f3(0xcd0)+_0x329661+_0x17d3f3(0x90f)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0x17d3f3(0x51c),currentTeamQuizId),_0x184c64),localQuestionIndex++,localQuestionIndex>=currentQuizData['questions'][_0x17d3f3(0xb5d)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x5e8b02){console[_0x17d3f3(0x90c)](_0x17d3f3(0x92a),_0x5e8b02),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0x3478b1=_0xe56031,_0x5e0880=await getDoc(doc(db,_0x3478b1(0x637)+appId+_0x3478b1(0x51c),currentTeamQuizId));if(!_0x5e0880[_0x3478b1(0x437)]())return;const _0x31b70a=_0x5e0880[_0x3478b1(0x610)]();if(_0x31b70a[_0x3478b1(0xd80)]===_0x3478b1(0x2dd)){handleGroupAnswerSubmit();return;}const _0x5efe5d=localTeamPlayers[localPlayerIndex],_0x197924=currentQuizData[_0x3478b1(0xafb)][localQuestionIndex],_0xb62e7a=_0x197924[_0x3478b1(0xabf)]||currentQuizData[_0x3478b1(0xd7d)];let _0x158700=null,_0x1b6b03=![];if(_0xb62e7a===_0x3478b1(0xcb9)||_0xb62e7a==='fill_in_no_choices'){const _0x548d66=document[_0x3478b1(0xd4c)](_0x3478b1(0x73e));if(!_0x548d66||!_0x548d66['value'][_0x3478b1(0xd92)]()){showMessage(_0x3478b1(0x9b6));return;}_0x158700=_0x548d66[_0x3478b1(0x9ef)][_0x3478b1(0xd92)](),_0x1b6b03=await gradeShortAnswer(_0x158700,_0x197924);}else{const _0x38ef77=document[_0x3478b1(0xd4c)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x38ef77||_0x38ef77['value']===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x158700=_0x38ef77[_0x3478b1(0x9ef)];switch(_0xb62e7a){case'true_false':_0x1b6b03=_0x158700===_0x3478b1(0x975)===_0x197924['correctAnswer'];break;case'matching_item':_0x1b6b03=_0x158700===_0x197924[_0x3478b1(0x37a)];break;default:_0x1b6b03=parseInt(_0x158700)===_0x197924[_0x3478b1(0x37b)];break;}}const _0x178df2={'questionIndex':localQuestionIndex,'isCorrect':_0x1b6b03,'answerValue':_0x158700},_0x1b16ca={[_0x3478b1(0x3fd)+_0x5efe5d+_0x3478b1(0x864)]:arrayUnion(_0x178df2)};_0x1b6b03&&(_0x1b16ca[_0x3478b1(0x3fd)+_0x5efe5d+_0x3478b1(0x90f)]=increment(0x1));try{await updateDoc(doc(db,_0x3478b1(0x637)+appId+_0x3478b1(0x51c),currentTeamQuizId),_0x1b16ca),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x3478b1(0xb5d)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0xd205e3){console['error'](_0x3478b1(0x1a9),_0xd205e3),showMessage(_0x3478b1(0x232));}}async function displayTeamQuizFinalResults(){const _0xf51a6=_0xe56031;studentQuizArea[_0xf51a6(0x3f5)][_0xf51a6(0xd54)](_0xf51a6(0xa91)),studentResultArea[_0xf51a6(0x3f5)][_0xf51a6(0xbb6)](_0xf51a6(0xa91));const _0x3e938e=doc(db,_0xf51a6(0x637)+appId+_0xf51a6(0x51c),currentTeamQuizId),_0x533d15=await getDoc(_0x3e938e);if(!_0x533d15['exists']()){studentResultArea[_0xf51a6(0x81c)]=_0xf51a6(0x5cc);return;}const _0x2ff6ab=_0x533d15[_0xf51a6(0x610)]();let _0x19e651=[];const _0x2159c2=_0x2ff6ab['mode']||_0xf51a6(0xa74);if(_0x2159c2===_0xf51a6(0x2dd)){const _0x150be6=_0x2ff6ab[_0xf51a6(0x1bd)][userId];_0x150be6?_0x19e651=[{'name':_0xf51a6(0x7aa)+localTeamPlayers['join'](',\x20'),'score':_0x150be6[_0xf51a6(0x9b7)]||0x0}]:_0x19e651=[{'name':_0xf51a6(0xc8f),'score':_0xf51a6(0x728)}];}else _0x19e651=localTeamPlayers[_0xf51a6(0xaa7)](_0x2e12c8=>({'name':_0x2e12c8,'score':_0x2ff6ab[_0xf51a6(0x323)][_0x2e12c8]?.[_0xf51a6(0x9b7)]||0x0}))[_0xf51a6(0x57f)]((_0x51cb23,_0x30d565)=>_0x30d565[_0xf51a6(0x9b7)]-_0x51cb23[_0xf51a6(0x9b7)]);studentResultArea['innerHTML']=_0xf51a6(0x4b4)+_0x19e651[_0xf51a6(0xaa7)](_0x58cc00=>_0xf51a6(0x7d2)+_0x58cc00[_0xf51a6(0xb95)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x58cc00[_0xf51a6(0x9b7)]+_0xf51a6(0x2eb))[_0xf51a6(0x51a)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0xf51a6(0xd3f)](_0xf51a6(0x957)),currentMode===_0xf51a6(0x916)&&currentTeamQuizId&&setTimeout(()=>{const _0x27c353=_0xf51a6;deleteDoc(doc(db,_0x27c353(0x637)+appId+_0x27c353(0x51c),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0xe56031(0x9a6),'pinnedProjects':[],'projectView':_0xe56031(0x26d)};function _0x4f4b(){const _0xce2ad6=['setItem','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','.move-file-shortcut-menu-btn','highlighter-tools-group','.bp-generate-lesson-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','ไม่สามารถโหลดข้อมูลอันดับได้','MathJax\x20typeset\x20error\x20(analytics):','editor-quiz-topic','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','per-question-text','text-blue-700\x20bg-blue-100','destination-out','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','lesson-plan-title','ดาบพิฆาตอสูร','game-start-modal-title','save-settings-btn','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','start-live-race-generated-btn','<svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','asc','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','.pointsLastQuestion','$1\x20\x5cfrac','Error\x20opening\x20quiz\x20editor:','none','upperGroupResponders','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','lineJoin','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','replace','Sync\x20Mode','ท็อปฟอร์ม','จำนวนข้อ:','ai-quiz-generator-v3','max','num-choices','file-default-1','readAsDataURL','live-submit-short-answer-btn','per_question','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','slice','stdDev','ไม่สามารถเพิ่มนักเรียนได้','parallel-shortcuts-loading-msg','answer','block','per-q-countdown','Error\x20starting\x20sync\x20game:','selected-topics-count','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','targetId','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','NEGATIVE_INFINITY','copy-quiz-id-btn','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','.use-hidden-shortcut-btn','confidence-scoring-toggle','passingScore','manage','การวัด','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','ความชันและเส้นตรง','blueprint-options-container','leaderboard-quiz','<p\x20class=\x22font-bold\x20text-sm\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','load-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','เปลี่ยนชื่อโปรเจคสำเร็จ','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','.bp-game-btn','cancel-test-btn','เกิดข้อผิดพลาดในการอัปเดต:\x20','summary','วงรี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-input-area','/lessons','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','mandatory','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','\x20quizzes\x20into\x20global\x20cache.','bulk-quiz-settings-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','className','ตะวันฉาย','การจัดหมู่\x20(Combination)','blueprintUrl','parallel-default-2','anonymous','ส่งแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','dragstart','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','body','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','closePath','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','bp-topic-list-container','.generate-easy-version-btn','every','cancel-quiz-edits-btn-footer','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','div','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tfrac','msExitFullscreen','touchstart','Error\x20processing\x20file\x20for\x20AI:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','redo-btn','.draggable-text','ตัวเลือก\x20ก','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.generate-lesson-btn','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','กรุณาเลือกคำตอบของกลุ่ม','round','นักวิทยาศาสตร์','/questionBank','presentation-short-answer-input','fullscreenElement','open-quiz-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-link-quiz-btn','ใช่','classic','firstScore','then','QUICK_THINKER','playerNicknames','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','เกิดข้อผิดพลาดในการสร้างห้องเกม','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','ปิดใช้งาน','Error\x20unpairing\x20quizzes:','instructions','select','decode','submittedAt','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','parseInline','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','Error\x20generating\x20teaching\x20content:','_opt','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','globalCompositeOperation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','พื้นที่สี่เหลี่ยม','teachingContent','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','cancel-passcode-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','contents','dispatchEvent','กลุ่มของคุณ','numChoices','กำลังจับคู่...','lesson-plan-content','generate-from-topic-btn','ลบโปรเจคสำเร็จแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','กำลังเตรียมไฟล์อ้างอิง...','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','bulk-confidence-mode-select','not-found','canvas','.presentation-option','preTestId','ยืนยันและอัปเดตทั้งหมด','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','.project-card-container[data-id]','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bottom','summary_chart','p-2\x20bg-black/10\x20rounded-md','.bp-create-onet-quiz-btn','text-red-900','numQuestions','Error\x20calling\x20Gemini\x20API:','ARRAY','insertAdjacentHTML','.auto-resize-textarea','sync-player-list','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','\x22\x20class=\x22pin-project-btn\x20','project-list','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','จับคู่เพื่อเปรียบเทียบผล','#add-question-editor-btn','temp-loader-text-results','far\x20fa-star','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','q-image-container-','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','short_answer','localeCompare','medium','\x20(\x22','สร้างใหม่','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','lesson-loader','#E0E7FF','normal','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','back-from-results-btn','link-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','[*]','bg-[#4ADE80]\x20text-green-900\x20font-bold','onchange','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','admin-password-input','description','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','.cancel-edit-topic-btn','selected-answer-index-hidden','groups.','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20deleting\x20quiz:','ท้องฟ้า','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','cancel-move-quiz-btn','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','นอนไม่พอ','confirm-move-quiz-btn','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','results','(^|[^\x5c\x5c])\x5cb','getContext','right','suggestedAnswer','อัปเดตสถานะสำเร็จ','pre-test','topic-input','.quiz-bank-try-btn','กรุณาป้อนรหัสแบบทดสอบ','pointContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','.verification-result','cancel-confidence-btn','some','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','shortcut-editor-modal','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-present-btn','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','nextElementSibling','_opt1\x22\x20name=\x22question','student-view','set','commonMistakes','contentEditable','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','\x20(p=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัวแทนแห่งดวงจันทร์','ไม่ผ่าน','แบบเติมคำตอบ','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','confirm-game-start-modal','shortcut-name-input','Error\x20saving\x20user\x20preference:','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','tool','playerName','stepByStepExamples','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','รากที่สองและที่สาม','results-quiz-title','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','\x5cdiv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','geq','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','analytics-summary-cards','ดาวสภา','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','</td>','onblur','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','ดอกเบี้ยทบต้น','Error\x20deleting\x20all\x20students:','สมการเชิงเส้นตัวแปรเดียว','กำลังสร้างคำถามข้อ\x20','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','Error\x20joining\x20team\x20quiz:','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','toString','คณิตการเงิน/บูรณาการ','timer-duration-input','candidates','\x20ตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Error\x20adding\x20custom\x20topic:','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','/public/data/projects/','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','</p></div>','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','ผ่านฉลุย','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดีมาก','next-drill-btn','.quiz-status-btn','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','bg-blue-100\x20text-blue-800','PROMPT_PLACEHOLDER','removeItem','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','active','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','เกิดข้อผิดพลาดในการเข้าร่วมเกม','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','qType','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','querySelector','Error\x20starting\x20live\x20race:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','sin','ดาวTikTok','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','add','Error\x20deleting\x20submission:','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','\x20ชุด)','ปรับเพิ่ม/ลดเป็นร้อยละ','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','Error\x20generating\x20hybrid\x20quiz:','fileShortcutOrder','print','ห.ร.ม.\x20(GCD)','cancel-quiz-settings-btn','cancel-quiz-edits-btn','\x5cle','submit-team-answer-btn','closest','การนับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20id=\x22q-image-container-','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','manual_release','บทเรียนเรื่อง:\x20','เลือกโปรเจคเพื่อบันทึก','Error\x20rendering\x20student\x20progress:','num-choices-container','border-gray-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','---\x20[คำถามใหม่]\x20---','application','scheduled_pending','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','documentElement','เพิ่มปุ่มลัดใหม่','ทฤษฎีบทพื้นฐานของแคลคูลัส','jspdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','COMEBACK_KING','Error\x20updating\x20project\x20color:','ผู้ไม่ยอมแพ้','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quizType','ลบโปรเจค\x20\x22','ดอกเบี้ยอย่างง่าย','mode','.delete-shortcut-tab-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.regenerate-question-btn','difficulty-level-select','leq','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','ตรวจทานเฉลยเสร็จสิ้น!','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','\x20link(s)\x20for\x20quiz\x20ID:\x20','shouldSaveResults','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','fileShortcutsConfig','ผลรวมอนุกรม\x20(Σ)','trim','element','.move-parallel-shortcut-item','players.','input[name=\x22syncVariant\x22][value=\x22classic\x22]','leaderboard-quiz-tab-btn','Error\x20saving\x20submission:','.ai-content\x20blockquote','select[name=\x22question_single\x22]','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','หนอนหนังสือ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','file-shortcut_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','.quiz-bank-delete-btn','total','Error\x20processing\x20parallel\x20shortcut\x20click:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>','ไม่พบข้อมูลเกม','.space-y-1.pl-4','#parallel-shortcut-tabs-nav\x20.tab-name-input','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','newOptionsPayload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบนักเรียน','.status','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','อสมการค่าสัมบูรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.file-shortcut-btn[data-id=\x22','ปุ่มลัดทั้งหมด','bg-red-100\x20text-red-800','reference.txt','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','Error\x20submitting\x20team\x20answer:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','ไม่มีคำอธิบาย','size','lineWidth','\x22><span>','export-leaderboard-pdf-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</tr>','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','file-tab','เนื้อหาสำหรับสอน:\x20','</body></html>','แก้ไขปุ่มลัด','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','fileShortcutTabs','</p><div>','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','ยกเลิกการจับคู่สำเร็จ','groups','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','match','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','bg-red-200\x20text-red-800','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','.start-presentation-list-btn','คะแนนเต็ม!','quiz','dimmed','countdown-display','back-to-results-btn','\x20จาก\x20','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','<i\x20class=\x22fas\x20fa-magic\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','sync-submit-btn','left','gameVariant','confirm-game-start-btn','ข้อที่\x20','สำหรับโปรเจค:\x20','export-leaderboard-word-btn','substring','add-student-btn','save-file-shortcut-btn','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','quick_thinker','กราฟแท่ง\x20กราฟเส้น','เกิดข้อผิดพลาด','.pair-quiz-btn','timer-duration-label',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','quiz-generation-area','กำลังค้นหากิจกรรม...','show-leaderboard-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','reveal-answer-btn','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','quiz-search-input','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','projectSort','border-indigo-400\x20ring-2\x20ring-indigo-200','href','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','.move-shortcut-menu-btn','เส้นรอบรูป','back-to-dashboard-from-bp-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','ทฤษฎีบทพีทาโกรัสและการประยุกต์','date_asc','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','Error\x20toggling\x20star\x20status:','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','contains','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','27411472','/public/data/syncGames','.ideal-answer-input','manual-create-blueprint-btn','เกิดข้อผิดพลาดในการบันทึกโปรเจค','บทเรียน','ข้อ\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</div>','text-gray-200','text-red-600','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ค่าความจริง/ตารางค่าความจริง','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','Error\x20saving\x20parallel\x20shortcut:','<textarea\x20name=\x22question','<tr>','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-red-800','forEach','ภูเขา','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','กราฟฟังก์ชันตรีโกณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-quiz-leaderboard-tab','questions_only','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','confirm-not-confident','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','\x20mr-2\x22></i>','topics','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','\x22\x20value=\x22true\x22\x20','startTime','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','pairedQuizId','pointerType','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','shortcuts','separate-by-content-checkbox','sara','keyup','results_','เกิดข้อผิดพลาดในการส่งคำตอบ','transformOrigin','.shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.ai-content\x20p','modal-shuffle-select','ไม่พบไฟล์\x20Test\x20Blueprint','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','attempts','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','filter','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','source-over','confirm-team-players-btn','ช่างภาพ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','subTopic','กรุณาใส่ชื่อใหม่','fas\x20fa-user-edit','เกิดข้อผิดพลาดในการลบโปรเจค','cancel-export-pdf-btn','พบ\x20Sync\x20Game!','rgba(239,\x2068,\x2068,\x200.9)','การหารเศษส่วน','\x20ตัวเลือก)','คัดลอกแบบทดสอบสำเร็จ','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','additional-shortcuts-modal','Error\x20confirming\x20players:','highlighter-size-slider','ดวงดาว','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','#FFFFFF','cancel-blueprint-projects-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','เกิดข้อผิดพลาดในการบันทึก','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textContent','\x20กลุ่ม</p></div>','parallel-shortcut-tabs-nav','bg-green-500','\x20</div>\x0a\x20\x20\x20\x20','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','เส้นจำนวน','modal-timer-mode-select','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','#ffffff','Error\x20updating\x20custom\x20topic:','destroy','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','Enter','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','grid','answeredCurrentQuestion','update-old-quizzes-btn','input[type=\x22text\x22]','<button\x20data-shortcut-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รายการนี้','Error\x20saving\x20file\x20shortcut\x20config:','\x22\x20name=\x22team_answer\x22\x20value=\x22','การกระจายและการจัดหมู่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','order','GlobalWorkerOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','neq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','.shortcut-list-item','additional-file-shortcuts-modal','กำลังกลับเข้าสู่เกม\x20','bp-modal-quiz-type-select','.live-summary-tooltip.visible','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','questionStatus','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','bp-modal-question-complexity-select','sync-variant-selector','FIRST_TRY_ACE','<p\x20class=\x22','ตอบถูก\x203\x20ข้อติดต่อกัน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','disabled\x20bg-gray-400\x20cursor-not-allowed','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student-team-join','เกิดข้อผิดพลาดในการสร้างใบงาน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','#open-additional-file-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','confidence-modal','delete-svg-btn','pop','ระบบสมการเชิงเส้นสองตัวแปร','\x22\x20value=\x22','คาถาแยกเงาพันร่าง','AI\x20ไม่สามารถประมวลผลข้อมูลได้','หัวข้อที่สร้างเอง','mjx-container','test','blueprint-tab','confidence-input-','.move-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','อัศวินรัตติกาล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','results-display-select','.export-pdf-list-btn','undefined','request','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-yellow-100','text/csv;charset=utf-8;','mode-switcher-btn','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-black/20','close-additional-parallel-shortcuts-btn','Error\x20analyzing\x20file\x20for\x20topics:','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','offset','text-gray-500','project-name-input','fa-dumbbell\x20text-gray-700','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กำลังดึงไฟล์อ้างอิงจากลิงก์...','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','เพื่อนสนิท','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','includeImages','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','question','.group\x5c/dropdown-parallel','ชนิดของข้อมูลและการเก็บข้อมูล','แบบทดสอบที่ติดดาว','All\x20groups\x20have\x20finished.\x20Ending\x20game.','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','modal-close-btn','timerMode','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','behavior-log','quadraticCurveTo','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','แบบปรนัย\x204\x20ตัวเลือก','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','currentMode','message-modal','pen','td,\x20th','center','กรุณาวาง\x20URL\x20ของบทความก่อน','AI\x20Formula\x20Fix\x20Error:','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','practiceProblems','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','touchmove','group','<button\x20data-id=\x22','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','blueprint-shortcut-container','.bp-edit-topic-btn','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','touchcancel','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','screen_exit','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','.summary-bar-item','ปริพันธ์ไม่จำกัด','back-to-project-btn','file-shortcut-container','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','abs','-options','พาราโบลา','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','แปลงร่าง','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','confidenceMode','globalSettings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','</span></div>','perseverance','blueprint-topics-list-container','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','Re-grade\x20process\x20failed:','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','NUMBER','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','student-initial-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','Error\x20generating\x20parallel\x20post-test:','กัปตัน','isDefault','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','...\x22)?','add-parallel-shortcut-tab-btn','Error\x20regenerating\x20question\x20in\x20editor:','querySelectorAll','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','justification','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','parallelTestShortcutsConfig','bg-gray-500','ฟังก์ชันผกผัน','teacherSuggestions','rows','currentQuestionIndex','clientY','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.doc','lastAnswerCorrect','แท็บใหม่','ไม่พบข้อมูลข้อสอบหลังเรียน','shortcut-modal-title','practice-topic-btn','minHeight','visibilityState','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','กำลังสร้างเนื้อหา:\x20','responses','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(255,\x20255,\x200,\x200.5)','pinned-items','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','.topic-category','\x20/\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','cancel-global-activity-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','</button>','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','width','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','gradeLevel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','save-bp-reference-btn','/public/data/liveGames','ดีเทอร์มิแนนต์','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','focus','.tab-name-display','bulk-results-display-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','text-input-area','status','requestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','save','Error\x20loading\x20blueprint\x20projects:','globalAlpha','scheduled','slide-counter','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','results-tab-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.game-start-btn','memoryContent','generate-worksheet-btn','ชาไข่มุก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','อัปเดตพฤติกรรมสำหรับ\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','ก่อนเรียน','เกี่ยวกับหัวข้อ\x20\x22','สร้างคำถามแบบเติมคำในช่องว่าง','<li>','createElementNS','stringify','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','highlighter-tool-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','join-group-activity-btn','\x22...','cancel-file-shortcut-edit-btn','parallel-shortcut-modal-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','รูปสแควร์รูท\x20(surd)','getBoundingClientRect','lineCap','name_asc','Error\x20displaying\x20question\x20bank:','จำนวนนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','latestSubmittedAt','/public/data/blueprintProjects','resize','pointerup','scratchpad-header','กิจกรรมสิ้นสุดลงแล้ว','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','topic-quiz-bank-modal','hint-btn','correctResponse','correctAnswerIndex','answer-grid-container','blueprint-project-manager-view','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','Error\x20joining\x20sync\x20game:','.file-shortcut-tab-btn','restore','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','additional-shortcuts-list','เส้นตรง:\x20ขนาน/ตั้งฉาก','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','นักเดินทาง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','แบบทดสอบ:\x20','file-shortcut-name-input','timer-duration-container','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','bg-yellow-50','actions-container-','text-yellow-800','การแจกแจงทวินาม\x20(พื้นฐาน)','correct','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','outerHTML','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','addEventListener','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bulk-loop-until-pass-checkbox','ติดซีรีส์','student','correctAnswer','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-name-input','fixedData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','progress-project-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-emerald-900','application/pdf','selectedTopicNames','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','<div\x20class=\x22flex-1\x22></div>','ทำคะแนนได้เกินครึ่ง','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','sync-matching-select','cancel-game-start-btn','หมดเวลา!\x20กำลังส่งคำตอบ...','API\x20call\x20failed\x20with\x20status:\x20','ไม่ใช่','blur','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','docs','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stem','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','สัญกรณ์วิทยาศาสตร์','.toggle-actions-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.edit-quiz-btn','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','.correct-response-input','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','bg-red-100','interesting-stats-wrapper','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','force-math-checkbox','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สามเหลี่ยม\x20(ชนิด/สมบัติ)','.question-editor-item','helvetica','text-emerald-800','stopPropagation','finishReason','promptFeedback','ทำคะแนนเต็มในการทำครั้งแรก','[data-field=\x22subTopic\x22]','timestamp','isConfidenceScoringEnabled','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','setAttributeNS','scratchpad-options','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','.delete-svg-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','ai-quiz-app-aefee.firebaseapp.com','Failed\x20to\x20kick\x20player\x20','แก้ไขหัวข้อสำเร็จ','parallelShortcutOrder','subTopics','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','gain','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','<option>กำลังโหลดโปรเจค...</option>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ค่าคลาดเคลื่อนของการวัด','.csv','</span></td>','ไม่พบแบบทดสอบในระบบเลย','อัปเดตการตั้งค่าของแบบทดสอบ\x20','setTransform','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','standard','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.question-editor-item:last-of-type','preScore','presentation-modal','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','multiply','ชื่อหัวข้อห้ามว่าง','curriculum','Could\x20not\x20fetch\x20reference\x20file:','classList','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','fa-fire\x20text-orange-500','/public/data/practiceBank','blueprint-upload-input','scratchpad-clear-btn','timer-mode-select','.isScored','responses.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ผ่าน','fill_in_no_choices','highlighter','behaviorLog','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','Failed\x20to\x20get\x20hint:','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','webkitRequestFullscreen','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','นินจาชาเขียว','endsWith','short','.start-live-race-btn','project-passcode-modal','add-shortcut-btn','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','\x22.\x20','frac','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','isPinned','พบ\x20Team\x20Quiz!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','fill','export-lesson-pdf-btn','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','<div>','visibilitychange','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','นักเขียน','<i\x20class=\x22fas\x20fa-pen\x22></i>','รหัสไม่ถูกต้อง','deselect-all-topics-btn','_new','.save-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','AI\x20Fix\x20Error:','parallel-default-1','question-analytics-container','\x20|\x20','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','false','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','\x20ใหม่...','.topic-name-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','text-blue-700','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','bp-reference-file-url','จับคู่แบบทดสอบสำเร็จ!','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','allResponses','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','\x20รายการ...','confidence-mode-container','exists','number','blockReason','sync-short-answer-input','badgesCount','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','gamePin','การลบ','close-student-rankings-btn','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','game-start-mode','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','จำนวนคู่:','พื้นที่สามเหลี่ยม','topic-bank-list','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','.project-card-container','list','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','bg-blue-500\x20hover:bg-blue-600\x20text-white','\x20ชุดสำเร็จ!','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','originalQuestionText','answerValue','```','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','from','leaderboard-tab-content','commit','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','result','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','แคลคูลัสเบื้องต้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','shortcut-id-input','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','typesetPromise','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','กรุณาเลือกคำตอบก่อนครับ','ครัวซองต์','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','shadowBlur','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','admin-view','กุ้งเต้นแร้งกา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่มหัวข้อ\x20\x22','source_document.txt','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','manual-blueprint-modal','temp-loader-results','file-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','cancel-admin-login-btn','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','start-presentation-btn','parallel-test-upload-input','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','รักแรกพบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pathname','project-detail','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หมดเวลาสำหรับข้อนี้!','เกิดข้อผิดพลาดในการโหลดโปรเจค','catch','bg-teal-500\x20hover:bg-teal-600\x20text-white','math-topics-checkbox-container','???','quiz-editor-questions-container','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','comparison-overall-content','.lastAnswerCorrect','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','ผู้ควบคุม\x20(ทดสอบ)','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','/public/data/customMathTopics','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','AI\x20grading\x20failed:','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','rgba(16,\x20185,\x20129,\x200.7)','bg-green-400\x20text-white\x20font-bold','live-game-view','dim-overlay','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','student-project-leaderboard-table-body','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','export-image-btn','default-1','.shortcut-tab-btn','create-project-btn','ไม่พบข้อมูลหัวข้อที่จะบันทึก','presentation-ai-result','admin-password-modal','ไม่ใช่\x20/\x20ผิด','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','(คัดลอก)\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','student-list','สเกลและแผนที่','scores-tab-content','\x22\x20name=\x22question_single\x22\x20value=\x22','display','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','#view-rankings-btn','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรีโกณมิติ','showRankings','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','text-gray-700','POST','clientX','Error\x20updating\x20sort\x20preference:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','text-yellow-300','shuffle-setting-select','splice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','เกมสิ้นสุดลงแล้ว','students','close-additional-file-shortcuts-btn','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','กำลังอ่านไฟล์\x20Test\x20Blueprint...','global-quiz-count','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','reset-view-btn','touchend','summaryContent','quiz-end-time','isLooping','คะแนน','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','onerror','สรุปผลสุดท้าย','Error\x20preparing\x20content\x20quiz:','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','100px','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','pin','เพิ่มรายการที่เลือก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','starred','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','/preferences/main','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','svg','confirm-create-project-btn','createElement','\x5ccdot','ไอรอนแมน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','bg-black/10','file-shortcut-tabs-nav','bank-tab','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบ','toDataURL','additional-file-shortcuts-list','.rename-quiz-btn','raw','isAdaptive','):\x20','อสมการเชิงเส้น','getElementsByTagName','<div\x20class=\x22space-y-4\x22>','Invalid\x20response\x20structure\x20from\x20AI.','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','execCommand','เกิดข้อผิดพลาดในการนำผู้เล่นออก','<div\x20class=\x22p-2\x20rounded-md\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','behavior-log-tab-btn','\x22>จาก:\x20','ตัวเลือก\x20ค','tabId','linkedQuizIds','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','confirm-bulk-quiz-settings-btn','.star-quiz-btn','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','tan','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','มุมและการวัดมุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','items','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','totalQuestions','ref','content','</td></tr>','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','text-gray-400\x20hover:text-indigo-600','การคูณทศนิยม','textarea[name=\x22question_single\x22]','cancel-bp-settings-btn','join','additional-parallel-shortcuts-modal','/public/data/teamQuizzes','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','เวกเตอร์และเมทริกซ์\x20(เสริม)','ไม่ระบุ','-tab','bg-amber-100\x20text-amber-800','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.tab-name-input','Error\x20updating\x20old\x20quizzes:','Error\x20clearing\x20linked\x20quiz:','first_try_ace','numPages','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','3062799rtlbsg','เรขาคณิตวิเคราะห์','มูเตลู','(ก่อนเรียน)','select-all-topics-btn','จำนวนเชิงซ้อน\x20(เสริม)','</option>','ondragover','add-shortcut-tab-btn','quiz-bank-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','Error\x20loading\x20user\x20preferences:','getDocument','BOOLEAN','</h3>','drill-feedback','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','ไม่พบตารางสำหรับ\x20Export','index','ครูใหญ่','สายลับจับบ้านเล็ก','student-progress-view','รูปสี่เหลี่ยมและสมบัติ','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','โดเมนและเรนจ์','Error\x20generating\x20from\x20link:','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','</select>','document','.delete-file-shortcut-btn','parallel-shortcut-url-input','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','showImproveButton','-\x20ข้อ\x20','transparent','\x22><p\x20class=\x22font-semibold\x22>','Error\x20updating\x20project\x20name:','resultsDisplay','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-hidden-file-shortcut-btn','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parse','admin-dashboard','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','createdBy','<option\x20value=\x22','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-indigo-500\x20text-indigo-600','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','questionText','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','Error\x20updating\x20pin\x20status:','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','loader-text','Error\x20confirming\x20players\x20for\x20sync\x20game:','sync','removeAttribute','parent','\x20คะแนน\x20','เทพทรู','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprintShortcuts','top','save-shortcut-btn','text-white','\x20ตัวเลือก.\x20','release','removeChild','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','url','options','interesting-stats-container','bg-green-100','project-sort-select','checkAnswer','student-join-game-view','text-green-600','sort','split','getElementById','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','พื้นที่ผิวรูปทรงสามมิติ','\x20จุด','กฎของโคไซน์','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','ลำดับเรขาคณิต\x20(GP)','.start-game-btn','close-lesson-plan-modal-footer-btn','bestScore','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','podium','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','ฟังก์ชันกำลังสองและกราฟ','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','application/json','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','/public/data/quizzes/','#F59E0B','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','arrayBuffer','file-shortcut-modal-title','bg-[#DCFCE7]\x20text-green-900','dfrac','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','analyze-strengths-btn','กำลังสร้างแบบทดสอบ:\x20','เกิดข้อผิดพลาดในการอ่านไฟล์','bg-red-50','ตัวประกอบและตัวประกอบเฉพาะ','px,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันค่าสัมบูรณ์','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20deleting\x20topic:','underline','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','link-input-area','highlighter-size-value','\x22\x5cn','#e21b3c','team-student-list','ไม่พบข้อมูลโปรเจค','fas\x20fa-star\x20text-yellow-500','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#retake-for-improvement-btn','Error\x20processing\x20shortcut\x20click:','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','lesson-plan-modal','shortcut_','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','\x20from\x20sync\x20game:','disabled','comparison-individual-tab','comparison','now','จันทร์เจ้า','all','#000000','player-list-lobby','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','<button\x20id=\x22','Test\x20Blueprint','topic','quiz-status-modal','ย้ายแบบทดสอบสำเร็จ','msRequestFullscreen','Attempting\x20to\x20save\x20game\x20results...','อกหัก','topic_','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','times','project-title','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','quizMode','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','คัดลอกไม่สำเร็จ','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','teacherTips','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scores-tab-btn','bank-input-area','pointer-events-none','คะแนนเฉลี่ย','fa-user-astronaut\x20text-blue-700','ไฟล์ลัด\x201','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','modal-confidence-mode-select','file-shortcut-editor-modal','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','#open-additional-shortcuts-btn','#results-table\x20thead\x20tr','beginPath','<span\x20title=\x22','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','txt','generate-from-file-btn','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','PERFECT_SCORE','รอ...','บันทึกการตั้งค่าสำเร็จ','จิงโจ้สโลว์ไลฟ์','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exitFullscreen','approx','\x20\x20\x20-\x20คำตอบ:\x20','9sulJIc','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','Error\x20starting\x20group\x20quiz:','shortcuts-loading-msg','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#26890c','confirm-manual-bp-btn','reveal_at_end','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.parallel-shortcut-tab-btn','บันทึกการตั้งค่าการแสดงผลสำเร็จ','Auto-linking\x20new\x20quiz\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','scratchpad-modal','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','MathJax','change','isStarred','</div>\x0a</div>\x0a','save-visibility-settings-btn','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','data','add-parallel-shortcut-btn','เลือกและบันทึก',')\x22>','Error\x20loading\x20quiz\x20for\x20student:','เกิดข้อผิดพลาดในการสร้าง:\x20','กรุณาพิมพ์คำตอบของกลุ่ม','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','analytics','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','label[for=\x22num-questions\x22]','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','save-project-name-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','behavior-log-tab-content','showInStudentDashboard','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-quiz-status-btn','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','Error\x20saving\x20project\x20order:','postScore','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','font-bold\x20text-green-700','สอบปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','...','.answered','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','attemptNumber','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','isFinished','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','<div\x20class=\x22loader\x20mx-auto\x22></div>','push','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','\x22\x20data-topic=\x22','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','default-2','artifacts/','-tab-content','<div\x20class=\x22answer-space\x22></div>','.use-hidden-file-shortcut-btn','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','studentName','generated-quiz-actions','s;\x22\x20title=\x22','rename-quiz-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','textarea','pre-test-checkbox','input[type=\x22checkbox\x22]','wheel','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','toLocaleString','analytics-tab-btn','bank-quiz-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','ไม่พบเอกสารการส่งงานของ\x20','cursor','ondragstart','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','choices_only','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','bulk-confidence-scoring-checkbox','null','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','checkbox','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','keyConcepts','คนคุย','bg-red-500','bp-modal-difficulty-level-select','delete','lower_group_count','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','toggle','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','</a>','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','หน่วยเวลาและการคำนวณเวลา','text-red-500\x20hover:text-red-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','admin-try-quiz-btn','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','leaderboard-quiz-tab-content','แบตหมด','getItem','devicePixelRatio','กำลังโหลดคลังข้อสอบทั้งหมด...','export-tutor-pdf-btn','shortcut-reference-url-input','schedule','\x20จุดเรียบร้อยแล้ว','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','incorrect','#E5E7EB','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','<li\x20class=\x22','previousElementSibling','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-actions-edit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','\x27,\x20\x27','485jpiSRu','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','game-start-quiz-id','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','bg-green-200','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20แสดงชื่อจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','badges','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','</li>','fullscreenchange','input[name=\x22syncVariant\x22]:checked','per-question-timer-container','PERSEVERANCE','สร้างโปรเจคสำเร็จ!','open-sync-scratchpad-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','find','workerSrc','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','</h4>','Unexpected\x20API\x20response\x20structure:','close-game-final-btn','สมการเหตุผล\x20(rational)','#FEF3C7','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คู่\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ผู้พิชิตดาว','thead\x20.sortable-header','แผนภาพกล่อง\x20(box\x20plot)','อัปเดตแบบทดสอบเก่า\x20','เต่าสายฟ้า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ดอทโปรดักต์\x20(dot)','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','#student-project-leaderboard-content\x20thead','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','ยูทูปเบอร์ฝึกหัด','\x20mb-2\x22>','confidence-mode-select','whole_quiz','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','quiz-results-table-body','reference.pdf','การบวกเศษส่วน','ระยะเวลา\x20(นาที):','scale','rgba(239,\x2068,\x2068,\x200.7)','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22question_single\x22]:checked','progress-student-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','กำลังวิเคราะห์หัวข้อ...','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','ไม่มีผู้ตอบตัวเลือกนี้','admin-testing','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','.answeredCurrentQuestion','modal-confidence-scoring-checkbox','Error\x20adding\x20topic:','submit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','text/html','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','ondragend','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','/public/data/quizzes','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','applicationHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','create-from-bank-btn','text-green-700','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','flex\x20flex-col\x20gap-2','ไม่พบข้อมูลแบบทดสอบ','.generate-content-btn','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','fill_in_with_choices','bar','แผนภาพเวนน์','save-quiz-edits-btn','รอผู้ควบคุมไปข้อต่อไป...','_blank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','</label></div>','มือปราบสายรุ้ง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','แก้ไขปุ่มลัดจากไฟล์','.pin-project-btn','preventDefault','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','65524htmyny','code','question-complexity-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','list-view-btn','.parallel-quiz-btn','0\x200','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','.delete-hidden-shortcut-btn','.move-file-shortcut-item','check-presentation-answer-btn','บันทึกการแก้ไข','project-search-input','includes','createdAt','modal-timer-duration-container','complexityValue','วงกลม:\x20คอร์ดและเส้นสัมผัส','shortcutTabs','moveTo','start-sync-game-btn','mousemove','clear-all-links-btn','คุณแน่ใจว่าต้องการลบแท็บนี้?','bg-yellow-200','export-compact-pdf-btn','แบบทดสอบจากคลังส่วนตัว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','(คู่ขนาน)\x20','backgroundColor','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','Invalid\x20response\x20structure\x20from\x20API.','back-to-home-manual-release','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','comparison-overall-tab','#file-shortcut-tabs-nav\x20.tab-name-input','Group\x20Mode','export-pdf-btn','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20toggling\x20pin\x20status:','view-my-progress-btn','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','ความคล้ายของรูป','input','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','entries','Error\x20during\x20blueprint\x20link\x20cleanup:','text-blue-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollHeight','screen','ความน่าจะเป็นแบบมีเงื่อนไข','scores','deg','ฟังก์ชันราก\x20(root)','\x20ข้อ...','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','สลับไปโหมดนักเรียน','file-topics-list-container','N/A','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20file\x20shortcut:','Error\x20clearing\x20all\x20links:','student-name-selection-view','toFixed','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','indexOf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','isRemedial','กำลังสร้างแบบทดสอบ\x20\x22','ลบผลสอบของ\x20','/users/','back-to-student-initial-btn','bg-green-500\x20hover:bg-green-600\x20text-white','หน่วยมวล/น้ำหนักและการแปลง','bg-red-500\x20text-white\x20font-bold','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','.edit-hidden-file-shortcut-btn','toISOString','textarea[name=\x22team_answer\x22]','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','Failed\x20to\x20end\x20group\x20mode\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','answered','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','คณิตศาสตร์','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22',':</span><span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','กรุณาเลือกโปรเจคก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x20to\x20blueprint\x20topic\x20','reveal-names-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','</div><div\x20class=\x22space-y-2\x22>','นักกีฬา','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','parallel-shortcut-id-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','Error\x20displaying\x20blueprint\x20project:','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','ความสัมพันธ์ของมุม','shortcutId','อัตราการเปลี่ยนแปลงทันที','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','การยืนยันตัวตนล้มเหลว','delete-all-students-btn','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','pinnedProjects','isPasscodeEnabled','การคูณ','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','Error\x20generating\x20easy\x20version\x20quiz:','th-TH','bp-project-title','retake-quiz-loop-btn','substr','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','overflowY','message','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','ความเท่ากันทุกประการของสามเหลี่ยม','draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','file-upload-input',',\x20r=','bg-gray-200\x20text-gray-700','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','_opt1\x22>ไม่ใช่</label></div>','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','กำลังอัปเดตแบบทดสอบ\x20','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','ยังไม่เต็มนะ','update','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่วนเบี่ยงเบนเฉลี่ย','ยอดเยี่ยม','modal-message','export-word-btn','isCorrect','close','.edit-hidden-parallel-shortcut-btn','confidence-scoring-description','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hasOwnProperty','เรขาคณิต','q-explanation-','upper_group_count','blueprint-project-list','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','bg-green-200\x20text-green-900','project-detail-view','กรุณาใส่ชื่อนักเรียน','file-shortcuts-loading-msg','เกิดข้อผิดพลาดในการจับคู่','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','bulk-shuffle-select','live-short-answer-input','global-activity-quiz-list','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','ปริมาตรรูปทรงสามมิติ','.group\x5c/dropdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perfect_score_status','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','prev-question-btn','export-lesson-to-pdf-btn','verify-answers-btn','\x20(สำหรับ\x20','line-through\x20text-red-700','icon','btn','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','shuffledQuiz','generate-from-link-btn','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','lessonPlan','กลุ่ม:\x20','ศิลปิน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','answering','pen-tools-group','confidence_single','file-shortcut-id-input','hint','การประยุกต์เวกเตอร์พื้นฐาน','.regenerate-question-editor-btn','แบบทดสอบฝึกฝนเรื่อง:\x20','.quiz-result-card','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','ต้นฉบับ\x201','<br>','ฮิสโตแกรม','การแยกตัวประกอบ','Error\x20analyzing\x20blueprint\x20topics:','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','\x22\x20สำเร็จ!','inactive','student-rankings-modal','พื้นที่วงกลม/ส่วนของวงกลม','class','parseFromString','กรุณาเลือกชื่อของคุณ','height','Error\x20committing\x20score\x20updates:','confirm-quiz-settings-btn','file-input-area','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','parallel-test-tab','additional-parallel-shortcuts-list','text-gray-300\x20hover:text-white','<div\x20class=\x22my-2\x22>','editable-text-','.pdf','classStrengths','อยู่ในหัวข้อหลักใด:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','mean','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','learningGaps','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','answers','รูปหลายเหลี่ยมและมุมภายใน','clearRect','text/plain','responseSchema','tooltipTarget','generated-quiz-container','ย้าย','include-images-checkbox','player-count','border-green-700','text-indigo-700','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','No\x20unanswered\x20players\x20found\x20on\x20this\x20device.\x20Waiting\x20for\x20re-render.','\x20ชุด)</span>','quiz-leaderboard-table-body','(ไม่มีชื่อ)','toLowerCase','รอเปิด','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','.bp-present-btn','student-quiz-leaderboard-content','download','text-green-700\x20bg-green-100','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','กรุณาเลือกโปรเจคที่ต้องการบันทึก','ความคาดหมาย\x20(Expected\x20value)','\x22\x20name=\x22confidence','scratchpad-question','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','เสือซ่อนเล็บ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x20pointer-events-none\x22>','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','ondrop','join-live-game-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','verify-answers-editor-btn','/public/data/projects','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','open-blueprint-projects-btn','dblclick','back-to-dashboard-btn','getTextContent','save-bp-settings-btn','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','คัดลอกรหัสแล้ว!','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','file-topics-list','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','cancel-team-selection-btn','ระยะจากจุดถึงเส้นตรง','<tr><td\x20colspan=\x22','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Blueprint\x201','copy','<span\x20class=\x22font-bold\x20','bp-modal-num-questions','timed','key','แผนการสอน:\x20','sum','เกิดข้อผิดพลาดในการบันทึกลำดับ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','/public/data/blueprintProjects/','close-comparison-modal-btn','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','innerHTML','Error\x20fetching\x20projects\x20for\x20move:','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','การจัดกลุ่มข้อมูล','blueprint-topics-list','blueprint-projects-modal','.edit-parallel-shortcut-btn','name_desc','mixed','pointercancel','จุด\x20เส้น\x20ระนาบ','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','\x20คนที่ส่ง\x20ตอบถูก\x20(','\x5cpm','shadowColor','ไม่พบโปรเจค','.move-file-shortcut-dropdown','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','$1\x5c%','earned-badges-container','พอใช้','ไม่ได้ตอบ','หลังเรียน','input[name=\x22team_player\x22]:checked','Error\x20saving\x20settings:','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<option\x20value=\x22\x22>กำลังโหลด...</option>','SAFETY','student-progress-content','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','export-worksheet-pdf-btn','ON_FIRE','reference_onet.pdf','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','.generate-post-test-btn','ที่พิมพ์ได้\x20จำนวน\x20','touch','คนดีศรีสยาม','isArray','quiz-results','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','ค่าเสื่อมราคา','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','multiple_choice','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','generated','type','hasPerfectScoreBonus','confirm-confident','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไฮเพอร์โบลา','บันทึกโปรเจค\x20\x22','start-quiz-btn','กำลังสแกนหาแบบทดสอบเก่า...','.file-topic-selection-btn','\x5ctimes','สถิติและความน่าจะเป็น','trail-tool-btn','padStart','\x22\x20data-pre-test-id=\x22','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','เปิดใช้งาน','.\x20แต่ละข้อมี\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.answers','quiz-id-input','num-questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','adaptive-quiz-checkbox','innerText','comeback_king','loader','show_results_and_answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','add-custom-math-topic-btn','grid-view-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','totalPoints','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','fill_in_the_blank','.question-editor-item[data-q-index=\x22','ฟังก์ชันลอการิทึม','https://corsproxy.io/?','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','projectView','floor','button','75612CtiuUx','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','input[name=\x22drill_answer\x22]:checked','.linkedQuizIds','ไม่มี','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','mainTopics','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','แก้ไขสูตรคณิตศาสตร์\x20','perfect_score','Error\x20listening\x20for\x20starred\x20quizzes:','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','createObjectURL','.parallel-shortcut-btn','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','fa-crown\x20text-yellow-500','.png','memory','quiz-bank-count','Error\x20showing\x20quiz\x20detail\x20view:','พีชคณิตและฟังก์ชัน','Leaderboard\x20update\x20transaction\x20failed:\x20','.delete-file-shortcut-tab-btn','modal-passing-score-input','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','desc','modal-results-display-select','timer-container','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','Error\x20deleting\x20shortcut:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','parallel-shortcut-name-input','confirm-join-game-btn','reduce','opacity','Error\x20saving\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สิงโตยิ้ม','back-to-student-home-btn','#FEE2E2','.group','สมการราก\x20(radical)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','.scratchpad-content-wrapper','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','ตอบถูกทุกข้อในแบบทดสอบนี้','perQuestionStats','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','binom','fadeStartTime','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','toDate','scratchpad-canvas','timerDuration','authed_project_','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','file-default-','quizId','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','transition-all','bg-blue-100','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กรุณาเลือกสถานะ','open-scratchpad-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','นักล่าฝัน','พื้นที่ใต้กราฟ/ระหว่างกราฟ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','.copy-quiz-id-list-btn','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','color','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','ส่งคำตอบ','findIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<button\x20data-tab-id=\x22','12002781srKKCO','pow','target','has','ความแปรปรวน','save-game-results-checkbox','Error\x20saving\x20questions\x20to\x20practice\x20bank:','blueprint-settings-modal','Error\x20starting\x20game:','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','Error\x20updating\x20quiz\x20settings:','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','dragover','259095AFTuPM',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','overallGroups','Error\x20unlinking\x20quiz:','สุดยอด!\x20ตอบถูกทุกข้อ','Error\x20generating\x20worksheet:','score-distribution-chart','pointerdown','Failed\x20to\x20get\x20standardized\x20topic:','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','text','/studentProfiles','files','open','sync-player-management','leaderboard_','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','.bp-open-topic-bank-btn','solution','\x27\x20ในหัวข้อ\x20\x27','referenceFileUrl','close-additional-shortcuts-btn','post-test','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x0a---\x0a','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','mouseleave','Error\x20duplicating\x20quiz:','เส้นตรง:\x20รูปแบบสมการ','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','projectOrder','เกิดข้อผิดพลาดในการอัปเดตสถานะ','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Loaded\x20','generate-from-text-btn','latestScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','Error\x20saving\x20visibility\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','error','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','.score','.pen-size-btn','reference-pdf-upload','add-from-global-bank-btn','start-game-btn','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','numeric','admin','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','prod','</th>','บันทึกคำถามใหม่\x20','ไฟล์ลัด\x202','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','auto-fix-latex-btn','fromCharCode','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','.lastAnswerValue','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','flex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','<p\x20class=\x22text-2xl\x22>','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','แก้ระบบสมการด้วยเมทริกซ์','ฟังก์ชันแบบชิ้นส่วน','.color-palette-popup','Error\x20submitting\x20group\x20answer:','text-red-700\x20bg-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','bg-gray-50','modal-adaptive-quiz-checkbox','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','results-table-container','ไม่สามารถโหลดคลังข้อสอบได้','results-quiz-id-display','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','unshift','\x0a\x20\x20\x20\x20\x20\x20</div>','back-to-dashboard-from-results-btn','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','ไอติมทอด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','http://www.w3.org/2000/svg','.topic-name-input','หยุดระบบจับเวลาหรี่หน้าจอ','ไก่ฟ้าพญาลอ','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','goto-next-question-btn','translate(','#math-topics-checkbox-container\x20input:checked','finished','เลือกและเริ่มสร้าง','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','text-green-600\x20font-bold','Error\x20processing\x20file\x20shortcut\x20click:','สร้างแบบทดสอบปรนัย','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','submissions','กาแฟขม','lesson-sections-container','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','eraser-tool-btn','user','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','cos','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','next-question-btn','activeGameSession','questionDisplayedAt','get','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','tab_','trail','text-indigo-600','text-gray-100','json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','referenceUrl','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','questionIndex','OBJECT','6269704TCPHrV','Error\x20saving\x20shortcut\x20config:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','move-quiz-modal','bg-green-50','Error\x20joining\x20live\x20game:','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','check-answer-btn','input[type=\x22radio\x22]:checked','random','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','projectId','การแปลงรูปอัตลักษณ์','.file-shortcut-btn','กรุณาใส่ชื่อโปรเจค','true','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','quiz-leaderboard-table','\x20ข้อ\x20','separate-by-content-from-file-checkbox','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','show_pass_fail_only','bg-[#EF4444]\x20text-white\x20font-bold','.remove-parallel-shortcut-from-tab-btn','confirm-rename-quiz-btn','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','scrollY','bg-green-200\x20text-green-800','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','Error\x20fetching\x20lesson\x20content:','ควรปรับปรุง','\x20รายการสำเร็จ!','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pen-tool-btn','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','gameData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','cancel-create-project-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-confidence-mode-container','.ai-fix-question-btn','confidence','lesson-view-content','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','hover:bg-indigo-100','เพิ่ม\x20','parallel-shortcut_','not_confident','pointsLastQuestion','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','dragend','.delete-submission-btn','shuffle','.edit-file-shortcut-btn','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','G-V90KRM0L63','beforeend','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','เปิด\x20(จับเวลา)','Blueprint\x20O-NET\x20ป.6','custom-math-topic-input','date_desc','global-activity-modal','qIndex','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','fa-rocket\x20text-purple-500','.quiz-bank-checkbox:checked','scrollX','passcode-prompt-message','transform','\x22\x20name=\x22question','ฮัลค์','.move-parallel-shortcut-dropdown','empty','viewBox','คำเตือน\x20(','comparison-individual-content','กรุณาพิมพ์คำตอบ','score','AI\x20did\x20not\x20return\x20any\x20content.','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','student-team-selection-view','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','\x22>ใช่</p>','explanation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','file-shortcut-url-input','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','.quiz-bank-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','modal-loop-until-pass-checkbox','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','points','เกิดข้อผิดพลาดในการปักหมุด','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','API\x20Error\x20Body:','add-file-shortcut-btn','แฟนทิพย์','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','worksheet-topic-input','source_document.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','ไม่พบข้อมูลการจับคู่','.unpair-quiz-btn','answerText',';\x22\x20data-id=\x22','keys','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','presentation-explanation','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','wasConfident','sqrt','การปัดเศษและประมาณค่า','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','</form>','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','text-purple-600','API\x20Error\x20Response:','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','ธอร์ค้อนบิน','ชื่อโปรเจคห้ามว่าง','quiz-form','เรเดียนและการแปลงหน่วย','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','value','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ทศนิยม\x20(ค่าประจำหลัก)','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-name=\x22','lowerGroupNames','กรุณาตั้งชื่อแท็บใหม่:','จอมเวทย์ขนมหวาน','style','px)\x20scale(','tGain','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','Firebase\x20initialization\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','cancel-parallel-shortcut-edit-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','values','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20manual\x20blueprint\x20project:','doughnut','พิสัย','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','.delete-quiz-btn','</strong></p>','currentTarget','Error\x20adding\x20students:','bg-emerald-100','\x20(ID:\x20','startedAt','ต้นฉบับ\x202','generationConfig','true_false','live-game','blueprint.pdf','.ideal-answer-input,\x20.correct-response-input','.txt','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','blob','Error\x20renaming\x20quiz:','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','บันทึกผลการเล่นเกมของ\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','on_fire','กองดอง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สายหมอก','auto','หน่วยความยาวและการแปลง','postTScore','เกมเมอร์','show-in-student-dashboard-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','#DBEAFE','parallel-shortcut-editor-modal','มุมพิเศษ\x2030°-60°-90°','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','close-topic-bank-btn','</span>','ก้อนเมฆ','live-options-container','Error\x20updating\x20quiz\x20status:','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(หลังเรียน)\x20','enable-passcode-checkbox','สมมาตร\x20(แกน/จุด)','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','isAnonymousRevealed','webkitExitFullscreen','mouse','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','preTScore','สร้างแบบทดสอบ','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','cdot','.group\x5c/dropdown-file','.project-card-container:not(.opacity-50)','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','autoTable','สร้างชุดคำถามจับคู่','onclick','bg-green-100\x20text-green-800','opacity-50','ถูกต้อง!','.lastAnswerIndex','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','dashboardConfig','submit-group-answer-btn','.highlighter-color-btn','answer-counter','show-results-btn','shortcut-blueprint-url-input','ยืนยันการกระทำ','string','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','presentation-scratchpad-btn','(เลือกแล้ว\x20','stroke','\x20คะแนน</span></div>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การคูณเศษส่วน','2-digit','Error\x20moving\x20quiz:','confirm-admin-login-btn','#FCE7F3','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-700','projectSortOrder','จำนวนและการดำเนินการ','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','กำลังสร้างแบบทดสอบจากหัวข้อ...','ไม่สามารถบันทึกการตั้งค่าได้','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn,\x20#sync-submit-btn','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านและเตรียมไฟล์...','.mb-6.p-4','rename-quiz-modal','project-quizzes-list','passcode','results-table','สรุปผลการวิเคราะห์:\x5cn','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','team','STRING','\x22>ไม่ใช่</p>','.view-bp-lesson-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','mouseup','\x5cfrac{$1}{$2}','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','smooth','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','position','cancel-quiz-bank-btn','สอบซ่อม','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fix-lesson-latex-btn','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','กระต่ายตื่นตูม','กรุณากรอกข้อมูลให้ครบทุกช่อง','live-race','leaderboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div></div>','text-green-800','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','00:00','imageCode','\x5csum','min','hidden','<button\x20data-value=\x22','wakeLock','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Copy\x20command\x20failed','confidence-scoring-checkbox','export-pdf-modal','pointermove','eraser','ไฟล์ทั้งหมด','getScreenCTM','font-bold\x20text-red-700\x20line-through','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','settings','matching_item','#10B981','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','Failed\x20to\x20create/update\x20submission\x20record:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','bg-green-200\x20text-green-900\x20font-bold','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','map','lesson-view-title','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','applicationData','difficultyValue','สร้างคำถามแบบใช่/ไม่ใช่','<p\x20class=\x22text-xl\x22>','</span><span\x20class=\x22font-bold\x22>','7685442TRKxfh','passcode-error-msg','write','Error\x20deleting\x20student:','ไม่พบโปรเจคที่ต้องการลบ','category','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-settings-btn','quiz-editor-modal','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','แผนการสอน','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','Error\x20comparing\x20results:','bp-modal-include-images-checkbox','questionType','editable-quiz-topic','ฟังก์ชันสัมพัทธ์\x20(rational)','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','onloadend','generate-from-parallel-test-btn','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','.eraser-size-btn','bulk-quiz-settings-btn','close-lesson-plan-modal-btn','parentElement','cloneNode','thead','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','not_generated','<p>','\x22\x20จำนวน\x20','confirmation-modal','onload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','border-red-300\x20bg-red-50','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','topicId','.delete-bp-project-btn','dataset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','นักดนตรี','Failed\x20to\x20generate\x20lesson:','student-quiz-topic','มังกรกินจุ','Error\x20saving\x20lesson\x20to\x20project:','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','.shortcut-list-item:not(.opacity-50)','<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','ความชันเส้นสัมผัส','เศษส่วน\x20(ย่อ/ขยาย)','.move-shortcut-dropdown','parallel-default-','save-blueprint-as-project-btn','results-tab','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','behavior-log-container','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','นักประดิษฐ์','log','starred-project','reviewQuestionIndex','student-quiz-leaderboard-table-body','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','keydown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยอดเยี่ยม!','deltaY','</p><p><strong>เฉลย:</strong>\x20','questions','loopUntilPass','click','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','fixed','#open-additional-parallel-shortcuts-btn','setAttribute','move','lastAnswerIndex','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','\x22\x20data-q-type=\x22','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','student-passcode-input','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','การบวก','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','handleGenerateAndShowLesson','offsetWidth','touches','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','members','.admin-try-quiz-list-btn','สายลมแห่งโชคชะตา','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','text-tab','เพิ่มปุ่มลัดจากไฟล์ใหม่','.ai-content\x20td','แก้ไขข้อนี้','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','ตัวเลือก\x20ง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','ร้อยละพื้นฐาน','ออฟฟิศซินโดรม','อินเวอร์สของเมทริกซ์','half_mark_status','bp-quiz-settings-btn','applicationContent','newOptions','API\x20call\x20failed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[data-topic-id=\x22','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','next-sync-question-btn','Original\x20quiz\x20not\x20found','รูปแบบการให้เหตุผล','quiz-leaderboard-table-container','cancel-bulk-quiz-settings-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','ยืนยันการจับคู่','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','\x20|\x20ID:\x20','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','point','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20student\x20profiles:','ลิมิต','คะแนนยังไม่ถึงครึ่ง','game-pin-input','.quiz-bank-parallel-btn','.delete-hidden-parallel-shortcut-btn','projectName','ไม่สามารถโหลดรายการโปรเจคได้','แก้ไขชื่อหัวข้อย่อย:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-choice-btn','scrollIntoView','parts','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','function','bp-modal-passing-score-input','modal-timer-duration-input','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-move-btn','ร้อยละประยุกต์','\x20สำเร็จ','insertBefore','isNormalTopic','matching','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','manual-bp-project-name','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','student-name-select','mousedown','generate-from-blueprint-btn','กรุณาป้อนหัวข้อสำหรับใบงาน','[data-topic-container-id]','.sort-indicator','เกิดข้อผิดพลาด:\x20','length','image/png','rgba(79,\x2070,\x20229,\x200.8)','หมีขั้วโลกใต้','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','startsWith','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ก่อนเรียน)\x20','scratchpad-controls','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','translate','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการลบผลสอบ','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','text-indigo-800','input[type=\x22radio\x22][value=\x22','\x20รายการ\x20สำเร็จ!','undo-btn','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','Error\x20saving\x20game\x20results:','.delete-student-btn','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-confidence-mode-container','เริ่มกิจกรรม:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','สลับไปโหมดผู้ควบคุม','title','live-player-management','ownerSVGElement','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','lowerGroupResponders','topics.','appendChild','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>','bank-quiz-list','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','move-quiz-project-select','ใช่\x20/\x20ถูก','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','removeEventListener','passcode-input-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','questionId','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manual-bp-content','upperGroupNames','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','originalTopic','พบข้อสอบ\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','name','lobby','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','ondblclick','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','Error\x20saving\x20shortcut:','.delete-question-editor-btn','\x5cneq','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','confident','<span\x20class=\x22sort-indicator\x20ml-2\x22>','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','#6366F1','math-topic-search-input','.open-bp-project-btn','Blueprint\x202','cancel-delete-btn','student-project-leaderboard-content','save-quiz-btn','<div\x20class=\x22','passing-score-input','strokeStyle','specialist','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-label','players','onkeydown','confirm-delete-btn','lesson-view-modal','.color-palette-btn','ย้ายแบบทดสอบไปโปรเจคอื่น','quiz-type-select','remove','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</span>','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/submissions','fas\x20fa-bookmark','endTime','\x5cge','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','parallel-test-input-area','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','</tbody></table>','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','handleGeneratePracticeTest','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','.pen-color-btn','project-passcode-input','duration-300','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','\x22\x20data-target-tab-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','shortcutIds','ดูผลสรุปสุดท้าย','\x20\x20\x20-\x20','comparison-modal','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','idealAnswer','topicName','Error\x20saving\x20quiz\x20edits:'];_0x4f4b=function(){return _0xce2ad6;};return _0x4f4b();}const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':_0xe56031(0xd64)},{'category':_0xe56031(0xa62),'name':'ระบบเลขและค่าประจำหลัก'},{'category':'จำนวนและการดำเนินการ','name':_0xe56031(0x9de)},{'category':_0xe56031(0xa62),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':_0xe56031(0xa62),'name':_0xe56031(0xb0d)},{'category':_0xe56031(0xa62),'name':_0xe56031(0x43e)},{'category':_0xe56031(0xa62),'name':_0xe56031(0x760)},{'category':_0xe56031(0xa62),'name':'การหาร'},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มบวก'},{'category':_0xe56031(0xa62),'name':'จำนวนเต็มลบ'},{'category':_0xe56031(0xa62),'name':'ศูนย์'},{'category':'จำนวนและการดำเนินการ','name':'ค่าสัมบูรณ์'},{'category':_0xe56031(0xa62),'name':_0xe56031(0x262)},{'category':'จำนวนและการดำเนินการ','name':_0xe56031(0x5a2)},{'category':_0xe56031(0xa62),'name':_0xe56031(0xd5e)},{'category':_0xe56031(0xa62),'name':'ค.ร.น.\x20(LCM)'},{'category':_0xe56031(0xa62),'name':'อัตราส่วนและสัดส่วน'},{'category':_0xe56031(0xa62),'name':'อัตราและอัตราหน่วย'},{'category':_0xe56031(0xa62),'name':_0xe56031(0xae6)},{'category':_0xe56031(0xa62),'name':_0xe56031(0x6b2)},{'category':_0xe56031(0xa62),'name':'การลบเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0xe56031(0xa5a)},{'category':_0xe56031(0xa62),'name':_0xe56031(0x24d)},{'category':'จำนวนและการดำเนินการ','name':'จำนวนคละ'},{'category':_0xe56031(0xa62),'name':_0xe56031(0x9f2)},{'category':_0xe56031(0xa62),'name':'การบวกทศนิยม'},{'category':'จำนวนและการดำเนินการ','name':'การลบทศนิยม'},{'category':_0xe56031(0xa62),'name':_0xe56031(0x517)},{'category':'จำนวนและการดำเนินการ','name':'การหารทศนิยม'},{'category':'จำนวนและการดำเนินการ','name':_0xe56031(0xad7)},{'category':'จำนวนและการดำเนินการ','name':_0xe56031(0xb21)},{'category':_0xe56031(0xa62),'name':_0xe56031(0xd59)},{'category':_0xe56031(0xa62),'name':_0xe56031(0x2e6)},{'category':_0xe56031(0xa62),'name':_0xe56031(0xa32)},{'category':'จำนวนและการดำเนินการ','name':_0xe56031(0xd0d)},{'category':_0xe56031(0xa62),'name':_0xe56031(0x369)},{'category':_0xe56031(0xa62),'name':_0xe56031(0x3b6)},{'category':'การวัด','name':_0xe56031(0xa24)},{'category':'การวัด','name':_0xe56031(0x739)},{'category':_0xe56031(0xc1e),'name':_0xe56031(0x661)},{'category':_0xe56031(0xc1e),'name':'ปริมาตร/ความจุและการแปลง'},{'category':_0xe56031(0xc1e),'name':'อุณหภูมิและการแปลง'},{'category':_0xe56031(0xc1e),'name':_0xe56031(0x1f6)},{'category':_0xe56031(0xc1e),'name':_0xe56031(0xc87)},{'category':_0xe56031(0xc1e),'name':_0xe56031(0x445)},{'category':'การวัด','name':_0xe56031(0x7c1)},{'category':_0xe56031(0xc1e),'name':_0xe56031(0x584)},{'category':_0xe56031(0xc1e),'name':_0xe56031(0x798)},{'category':'การวัด','name':_0xe56031(0x50a)},{'category':_0xe56031(0xc1e),'name':_0xe56031(0x4ad)},{'category':_0xe56031(0xc1e),'name':_0xe56031(0x3e3)},{'category':'เรขาคณิต','name':_0xe56031(0x828)},{'category':_0xe56031(0x789),'name':_0xe56031(0x757)},{'category':_0xe56031(0x789),'name':_0xe56031(0x3c5)},{'category':'เรขาคณิต','name':'พื้นที่สามเหลี่ยม'},{'category':'เรขาคณิต','name':_0xe56031(0x76d)},{'category':'เรขาคณิต','name':_0xe56031(0x717)},{'category':_0xe56031(0x789),'name':_0xe56031(0x542)},{'category':_0xe56031(0x789),'name':_0xe56031(0x7d9)},{'category':_0xe56031(0x789),'name':_0xe56031(0x6fb)},{'category':_0xe56031(0x789),'name':_0xe56031(0xcc9)},{'category':_0xe56031(0x789),'name':_0xe56031(0x1b2)},{'category':_0xe56031(0x789),'name':_0xe56031(0x18e)},{'category':_0xe56031(0x789),'name':_0xe56031(0xa36)},{'category':_0xe56031(0x789),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':'เรขาคณิต','name':_0xe56031(0x1f9)},{'category':_0xe56031(0x892),'name':'ตัวแปรและนิพจน์'},{'category':_0xe56031(0x892),'name':_0xe56031(0x276)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe56031(0x5cd)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe56031(0x7bb)},{'category':_0xe56031(0x892),'name':_0xe56031(0xd24)},{'category':_0xe56031(0x892),'name':_0xe56031(0x299)},{'category':_0xe56031(0x892),'name':_0xe56031(0x510)},{'category':_0xe56031(0x892),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0xe56031(0x892),'name':'สมการค่าสัมบูรณ์'},{'category':_0xe56031(0x892),'name':_0xe56031(0x698)},{'category':_0xe56031(0x892),'name':_0xe56031(0x8a7)},{'category':_0xe56031(0x892),'name':'สมการยกกำลัง'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการลอการิทึม'},{'category':_0xe56031(0x892),'name':_0xe56031(0x4f3)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe56031(0x1a2)},{'category':_0xe56031(0x892),'name':'ระบบอสมการ'},{'category':_0xe56031(0x892),'name':_0xe56031(0x32e)},{'category':_0xe56031(0x892),'name':_0xe56031(0x547)},{'category':'พีชคณิตและฟังก์ชัน','name':'องค์ประกอบของฟังก์ชัน'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe56031(0x312)},{'category':_0xe56031(0x892),'name':_0xe56031(0x4c4)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe56031(0x590)},{'category':_0xe56031(0x892),'name':'ฟังก์ชันพหุนาม'},{'category':_0xe56031(0x892),'name':_0xe56031(0xac1)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe56031(0x723)},{'category':_0xe56031(0x892),'name':_0xe56031(0x5a5)},{'category':_0xe56031(0x892),'name':_0xe56031(0x928)},{'category':_0xe56031(0x892),'name':'ฟังก์ชันยกกำลัง'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe56031(0x877)},{'category':_0xe56031(0x892),'name':'ลำดับเลขคณิต\x20(AP)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe56031(0x588)},{'category':_0xe56031(0x892),'name':_0xe56031(0xd91)},{'category':_0xe56031(0x892),'name':_0xe56031(0x427)},{'category':_0xe56031(0x892),'name':_0xe56031(0x52f)},{'category':_0xe56031(0x52b),'name':'ระยะทางและจุดกึ่งกลาง'},{'category':_0xe56031(0x52b),'name':_0xe56031(0xc20)},{'category':'เรขาคณิตวิเคราะห์','name':_0xe56031(0x8fb)},{'category':_0xe56031(0x52b),'name':_0xe56031(0x384)},{'category':_0xe56031(0x52b),'name':_0xe56031(0x80c)},{'category':_0xe56031(0x52b),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0xe56031(0x52b),'name':_0xe56031(0x2ef)},{'category':_0xe56031(0x52b),'name':_0xe56031(0xc30)},{'category':_0xe56031(0x52b),'name':_0xe56031(0x856)},{'category':_0xe56031(0x4b5),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':_0xe56031(0x4b5),'name':_0xe56031(0xa2b)},{'category':_0xe56031(0x4b5),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0xe56031(0x4b5),'name':_0xe56031(0x9eb)},{'category':_0xe56031(0x4b5),'name':'กฎของไซน์'},{'category':_0xe56031(0x4b5),'name':_0xe56031(0x586)},{'category':_0xe56031(0x4b5),'name':_0xe56031(0xa7d)},{'category':_0xe56031(0x4b5),'name':_0xe56031(0x972)},{'category':_0xe56031(0x4b5),'name':'สมการตรีโกณมิติ'},{'category':_0xe56031(0x4b5),'name':_0xe56031(0x218)},{'category':_0xe56031(0x4b5),'name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':_0xe56031(0x85c),'name':_0xe56031(0x2c5)},{'category':'สถิติและความน่าจะเป็น','name':_0xe56031(0x821)},{'category':_0xe56031(0x85c),'name':'ตารางความถี่'},{'category':'สถิติและความน่าจะเป็น','name':_0xe56031(0x1dc)},{'category':_0xe56031(0x85c),'name':_0xe56031(0x7ba)},{'category':_0xe56031(0x85c),'name':_0xe56031(0x6a3)},{'category':_0xe56031(0x85c),'name':'ค่าเฉลี่ย'},{'category':'สถิติและความน่าจะเป็น','name':'มัธยฐาน'},{'category':'สถิติและความน่าจะเป็น','name':'ฐานนิยม'},{'category':_0xe56031(0x85c),'name':_0xe56031(0xa07)},{'category':_0xe56031(0x85c),'name':_0xe56031(0x77f)},{'category':'สถิติและความน่าจะเป็น','name':_0xe56031(0x8d3)},{'category':_0xe56031(0x85c),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0xe56031(0x85c),'name':'การแจกแจงปกติและ\x20z-score'},{'category':_0xe56031(0x85c),'name':_0xe56031(0x9fe)},{'category':_0xe56031(0x85c),'name':_0xe56031(0x5e3)},{'category':_0xe56031(0x85c),'name':'กฎบวกและกฎคูณ'},{'category':_0xe56031(0x85c),'name':_0xe56031(0x6dc)},{'category':_0xe56031(0x85c),'name':_0xe56031(0x720)},{'category':_0xe56031(0x85c),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0xe56031(0x85c),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':'สถิติและความน่าจะเป็น','name':_0xe56031(0xc3f)},{'category':_0xe56031(0x85c),'name':_0xe56031(0x38f)},{'category':_0xe56031(0x85c),'name':_0xe56031(0x7f2)},{'category':_0xe56031(0x45d),'name':_0xe56031(0xb3a)},{'category':'แคลคูลัสเบื้องต้น','name':'ความต่อเนื่อง'},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0xe56031(0x45d),'name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0xe56031(0x45d),'name':_0xe56031(0x7bd)},{'category':_0xe56031(0x45d),'name':_0xe56031(0xae5)},{'category':_0xe56031(0x45d),'name':_0xe56031(0x759)},{'category':_0xe56031(0x45d),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0xe56031(0x45d),'name':_0xe56031(0x2e8)},{'category':'แคลคูลัสเบื้องต้น','name':'ปริพันธ์จำกัด'},{'category':_0xe56031(0x45d),'name':_0xe56031(0xd76)},{'category':'แคลคูลัสเบื้องต้น','name':_0xe56031(0x8c5)},{'category':_0xe56031(0x51e),'name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0xe56031(0x51e),'name':_0xe56031(0x6a7)},{'category':_0xe56031(0x51e),'name':_0xe56031(0x7b2)},{'category':_0xe56031(0x51e),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0xe56031(0x51e),'name':_0xe56031(0xb23)},{'category':_0xe56031(0x51e),'name':_0xe56031(0x33b)},{'category':_0xe56031(0x51e),'name':_0xe56031(0x927)},{'category':_0xe56031(0xd2b),'name':_0xe56031(0xd7f)},{'category':_0xe56031(0xd2b),'name':_0xe56031(0xd22)},{'category':'คณิตการเงิน/บูรณาการ','name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':_0xe56031(0xd2b),'name':_0xe56031(0x84d)},{'category':_0xe56031(0xd2b),'name':_0xe56031(0xb4d)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0xe56031(0x20e)},{'category':_0xe56031(0x357),'name':_0xe56031(0xb2f)},{'category':_0xe56031(0x357),'name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x53c7bf=_0xe56031,_0x55f34e=document[_0x53c7bf(0x581)](_0x53c7bf(0x485));if(!_0x55f34e)return;const _0x6dba6b=allMathTopics,_0xab60e1=customMathTopics[_0x53c7bf(0xaa7)](_0x5bd1bd=>({'id':_0x5bd1bd['id'],'category':_0x53c7bf(0x29d),'name':_0x5bd1bd[_0x53c7bf(0xb95)]})),_0x2316f6=[..._0x6dba6b,..._0xab60e1],_0x3ff5e2=_0x2316f6['reduce']((_0x1b272e,_0x51b660)=>{const _0x15df1a=_0x53c7bf;return!_0x1b272e[_0x51b660[_0x15df1a(0xab4)]]&&(_0x1b272e[_0x51b660[_0x15df1a(0xab4)]]=[]),_0x1b272e[_0x51b660[_0x15df1a(0xab4)]]['push'](_0x51b660),_0x1b272e;},{});let _0x3fd345='';const _0x4fe2c7=['หัวข้อที่สร้างเอง',...Object[_0x53c7bf(0x9d8)](_0x3ff5e2)[_0x53c7bf(0x23d)](_0x3d3195=>_0x3d3195!=='หัวข้อที่สร้างเอง')];for(const _0xcb55ea of _0x4fe2c7){if(_0x3ff5e2[_0xcb55ea]){const _0x2ae1a2=_0xcb55ea===_0x53c7bf(0x29d),_0x1f153e=_0x2ae1a2?_0x53c7bf(0x248):_0x53c7bf(0xbbc),_0x549a40=_0x2ae1a2?_0x53c7bf(0x42e):_0x53c7bf(0x7e3);_0x3fd345+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x3fd345+=_0x53c7bf(0xc23)+_0x549a40+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x1f153e+_0x53c7bf(0x223)+_0xcb55ea+_0x53c7bf(0x195),_0x3ff5e2[_0xcb55ea][_0x53c7bf(0x215)](_0x41249e=>{const _0x5c809e=_0x53c7bf,_0x1f0b75=!!_0x41249e['id'],_0x5a5d25=_0x1f0b75?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x41249e['id']+_0x5c809e(0x5a6)+_0x41249e['id']+_0x5c809e(0xb36)+_0x41249e['id']+_0x5c809e(0x1ff)+_0x41249e['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x3fd345+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x41249e['id']||'')+_0x5c809e(0xaa9)+_0x41249e[_0x5c809e(0xb95)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x41249e[_0x5c809e(0xb95)]+_0x5c809e(0xb9d)+(_0x1f0b75?_0x5c809e(0x1c0)+_0x41249e[_0x5c809e(0xb95)]+'\x22>':'')+_0x5c809e(0xa3c)+_0x5a5d25+_0x5c809e(0xc69);}),_0x3fd345+=_0x53c7bf(0x209);}}_0x55f34e[_0x53c7bf(0x81c)]=_0x3fd345||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x55f34e[_0x53c7bf(0xb89)](_0x53c7bf(0x60a),updateSelectedTopicsCount),_0x55f34e[_0x53c7bf(0x395)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x3b1657,_0x63d0bd){const _0x3226a1=_0xe56031;if(!_0x3b1657||!_0x63d0bd[_0x3226a1(0xd92)]()){showMessage(_0x3226a1(0x3f2));return;}try{const _0x3fc245=doc(db,'artifacts/'+appId+_0x3226a1(0x490),_0x3b1657);await updateDoc(_0x3fc245,{'name':_0x63d0bd['trim']()}),showMessage(_0x3226a1(0x3d9));}catch(_0x38a8b2){console[_0x3226a1(0x90c)](_0x3226a1(0x268),_0x38a8b2),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x2d6bb1,_0x28a9e0){const _0x21ea42=_0xe56031;if(!_0x2d6bb1)return;const _0xcc0e72=_0x2d6bb1[_0x21ea42(0xd4c)](_0x21ea42(0x42c)),_0x369dde=_0x2d6bb1[_0x21ea42(0xd4c)](_0x21ea42(0x93d)),_0x20b674=_0x2d6bb1[_0x21ea42(0xd4c)]('.topic-actions-view'),_0x322dd8=_0x2d6bb1[_0x21ea42(0xd4c)](_0x21ea42(0x67b));_0xcc0e72[_0x21ea42(0x3f5)][_0x21ea42(0x65d)](_0x21ea42(0xa91),_0x28a9e0),_0x369dde['classList'][_0x21ea42(0x65d)](_0x21ea42(0xa91),!_0x28a9e0),_0x20b674[_0x21ea42(0x3f5)]['toggle']('hidden',_0x28a9e0),_0x322dd8['classList'][_0x21ea42(0x65d)](_0x21ea42(0xa91),!_0x28a9e0),_0x28a9e0&&(_0x369dde[_0x21ea42(0x33d)](),_0x369dde[_0x21ea42(0xc79)]());}async function handleStartLiveRace(_0x40b81a){const _0x55a810=_0xe56031;let _0x10fb2c=allQuizzes[_0x55a810(0x692)](_0x2395b1=>_0x2395b1['id']===_0x40b81a);if(!_0x10fb2c){const _0xb80cd5=doc(db,_0x55a810(0x637)+appId+_0x55a810(0x6cd),_0x40b81a),_0x1459c7=await getDoc(_0xb80cd5);if(!_0x1459c7[_0x55a810(0x437)]()){showMessage(_0x55a810(0x6d6));return;}_0x10fb2c={'id':_0x1459c7['id'],..._0x1459c7[_0x55a810(0x610)]()};}const _0x27df2c=getShuffledQuiz(_0x10fb2c);currentQuizData=_0x27df2c;const _0x4dffc2=_0x10fb2c[_0x55a810(0x971)]||currentProjectId||null,_0x3ccf0a=Math[_0x55a810(0x87b)](0x3e8+Math[_0x55a810(0x96f)]()*0x2328)[_0x55a810(0xd2a)]();currentLiveGamePin=_0x3ccf0a;try{const _0x3442e6=await addDoc(collection(db,'artifacts/'+appId+_0x55a810(0x33a)),{'quizId':_0x40b81a,'projectId':_0x4dffc2,'status':_0x55a810(0xb96),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x3ccf0a,'createdAt':serverTimestamp(),'shuffledQuiz':_0x27df2c});currentLiveGameId=_0x3442e6['id'],showAdminLobbyView(_0x3ccf0a,_0x10fb2c[_0x55a810(0x5c5)]),listenForLiveGameUpdates();}catch(_0x14f5f9){console['error'](_0x55a810(0xd4d),_0x14f5f9),showMessage(_0x55a810(0xc74));}}function updateSelectedTopicsCount(){const _0x23723d=_0xe56031,_0x2565fb=document['getElementById'](_0x23723d(0x485)),_0x278f1e=_0x2565fb['querySelectorAll']('input[type=\x22checkbox\x22]:checked')[_0x23723d(0xb5d)],_0x736bf4=document['getElementById'](_0x23723d(0xc11));_0x278f1e>0x0?_0x736bf4[_0x23723d(0x25c)]=_0x23723d(0xa56)+_0x278f1e+'\x20หัวข้อ)':_0x736bf4['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0xe56031(0x58b),quizLeaderboardSortOrder=_0xe56031(0x897),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0xe56031(0x325),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0xe56031(0x2d4),scratchpadPenColor=_0xe56031(0x5c0),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x226b6a,_0x46d1a8){const _0x2a23e1=_0xe56031;return Math['sqrt'](Math[_0x2a23e1(0x8d0)](_0x226b6a['x']-_0x46d1a8['x'],0x2)+Math[_0x2a23e1(0x8d0)](_0x226b6a['y']-_0x46d1a8['y'],0x2));}function getMidpoint(_0x3b1594,_0x5e8064){return{'x':(_0x3b1594['x']+_0x5e8064['x'])/0x2,'y':(_0x3b1594['y']+_0x5e8064['y'])/0x2};}function getTransformedPoint(_0x3f4844,_0x3a58a7){return{'x':(_0x3f4844-scratchpadOffset['x'])/scratchpadScale,'y':(_0x3a58a7-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x88135f=_0xe56031;if(!scratchpadCtx)return;const _0x5406cd=scratchpadCtx[_0x88135f(0xc9b)],_0x265569=window['devicePixelRatio']||0x1,_0xdfd1cc=document[_0x88135f(0x581)](_0x88135f(0x374));_0xdfd1cc&&(_0xdfd1cc[_0x88135f(0x9fb)][_0x88135f(0x233)]=_0x88135f(0x6f0),_0xdfd1cc[_0x88135f(0x9fb)][_0x88135f(0x9ae)]=_0x88135f(0x942)+scratchpadOffset['x']+_0x88135f(0x5a3)+scratchpadOffset['y']+_0x88135f(0x9fc)+scratchpadScale+')'),scratchpadCtx[_0x88135f(0x34a)](),scratchpadCtx[_0x88135f(0x3e8)](_0x265569,0x0,0x0,_0x265569,0x0,0x0),scratchpadCtx[_0x88135f(0x7da)](0x0,0x0,_0x5406cd[_0x88135f(0x334)],_0x5406cd[_0x88135f(0x7c5)]),scratchpadCtx['restore'](),scratchpadCtx[_0x88135f(0x34a)](),scratchpadCtx[_0x88135f(0xb68)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x88135f(0x6b4)](scratchpadScale,scratchpadScale),strokes['forEach'](_0x5b912b=>{drawStroke(_0x5b912b);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x88135f(0x381)]();}function renderGroupModeQuestion(){const _0x4f7e83=_0xe56031;if(localQuestionIndex>=currentQuizData['questions'][_0x4f7e83(0xb5d)]){displayTeamQuizFinalResults();return;}const _0x119b5c=currentQuizData[_0x4f7e83(0xafb)][localQuestionIndex],_0x58b33e=_0x119b5c['questionType']||currentQuizData['quizType'];let _0x16eeea=_0x119b5c[_0x4f7e83(0x3b4)]||_0x119b5c[_0x4f7e83(0x562)],_0x5c44fd='';switch(_0x58b33e){case _0x4f7e83(0x84f):case _0x4f7e83(0x6da):_0x5c44fd=_0x119b5c[_0x4f7e83(0x578)][_0x4f7e83(0xaa7)]((_0x5820b4,_0x17dec2)=>_0x4f7e83(0x775)+_0x17dec2+_0x4f7e83(0x275)+_0x17dec2+_0x4f7e83(0xa9e)+_0x17dec2+'\x22>'+_0x5820b4+_0x4f7e83(0x6e1))[_0x4f7e83(0x51a)]('');break;case _0x4f7e83(0xa12):_0x5c44fd=_0x4f7e83(0x946);break;case _0x4f7e83(0xcb9):case _0x4f7e83(0x400):_0x5c44fd=_0x4f7e83(0x44f);break;case _0x4f7e83(0xaa0):_0x5c44fd='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x119b5c[_0x4f7e83(0x433)][_0x4f7e83(0xaa7)](_0x17c7f8=>'<option\x20value=\x22'+_0x17c7f8+'\x22>'+_0x17c7f8+_0x4f7e83(0x530))[_0x4f7e83(0x51a)]('')+_0x4f7e83(0x54a);break;default:_0x5c44fd=_0x4f7e83(0x7e4);break;}studentQuizArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+_0x4f7e83(0x329)+currentQuizData[_0x4f7e83(0xafb)][_0x4f7e83(0xb5d)]+_0x4f7e83(0x955)+localTeamPlayers[_0x4f7e83(0x51a)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x16eeea+_0x4f7e83(0x9ed)+(_0x119b5c[_0x4f7e83(0xa8e)]?_0x4f7e83(0x443)+_0x119b5c['imageCode']+_0x4f7e83(0x209):'')+_0x4f7e83(0x74e)+_0x5c44fd+_0x4f7e83(0x39c),studentQuizArea[_0x4f7e83(0x3f5)]['remove'](_0x4f7e83(0xa91));if(window[_0x4f7e83(0x609)])MathJax[_0x4f7e83(0x461)]([studentQuizArea]);document['getElementById'](_0x4f7e83(0xa4d))[_0x4f7e83(0x395)](_0x4f7e83(0xafd),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x3b4fab,_0x175631=null,_0x46c954,_0x579486=null,_0x2c422d=![],_0x26a420=null){const _0x4ba552=_0xe56031,_0x3e29b8=document[_0x4ba552(0x581)](_0x4ba552(0x1e1));_0x3e29b8&&_0x3e29b8[_0x4ba552(0xb44)]({'behavior':_0x4ba552(0xa7c),'block':_0x4ba552(0x2d6)}),generateQuiz(_0x3b4fab,_0x175631,null,_0x26a420,!![],_0x46c954,_0x579486,_0x2c422d);}function handleGenerateAndShowLesson(_0x2dd069,_0x4c25bc){const _0x50ce51=_0xe56031,_0x543eea=document[_0x50ce51(0x581)](_0x50ce51(0xbb2)),_0xf0108c=document[_0x50ce51(0x581)](_0x50ce51(0xaa8)),_0x2ad529=document['getElementById'](_0x50ce51(0xcbf)),_0x50814b=document[_0x50ce51(0x581)](_0x50ce51(0x94e));[_0x50ce51(0xce7),'memoryContent',_0x50ce51(0xb26),_0x50ce51(0x4cd)][_0x50ce51(0x215)](_0x147a84=>{const _0x3294e6=_0x50ce51,_0x50d40b=document[_0x3294e6(0x581)](_0x147a84)['parentElement'];_0x50d40b&&(_0x50d40b['style'][_0x3294e6(0x4b0)]=_0x3294e6(0xc0e));}),_0xf0108c[_0x50ce51(0x25c)]='กำลังสร้างบทเรียน:\x20'+_0x2dd069,_0x50814b[_0x50ce51(0x3f5)][_0x50ce51(0xd54)](_0x50ce51(0xa91)),_0x2ad529[_0x50ce51(0x3f5)]['remove'](_0x50ce51(0xa91)),_0x543eea[_0x50ce51(0x3f5)][_0x50ce51(0xbb6)](_0x50ce51(0xa91)),generateLesson(_0x2dd069,_0x4c25bc)['catch'](_0x124608=>{const _0x4f6553=_0x50ce51;console[_0x4f6553(0x90c)](_0x4f6553(0xadd),_0x124608),showMessage(_0x4f6553(0x99f)),_0x543eea['classList'][_0x4f6553(0xd54)](_0x4f6553(0xa91));});}function handlePointerDown(_0x491ba9){const _0x5e1ee9=_0xe56031;_0x491ba9[_0x5e1ee9(0x6e6)]();const _0x3dbb43=scratchpadCtx[_0x5e1ee9(0xc9b)],_0xfdd502=_0x3dbb43[_0x5e1ee9(0x36a)](),_0x1f8db4=_0x491ba9[_0x5e1ee9(0x22a)]||(_0x491ba9[_0x5e1ee9(0xb12)]?_0x5e1ee9(0x847):_0x5e1ee9(0xa3a));if(_0x1f8db4===_0x5e1ee9(0x2d4)||_0x1f8db4===_0x5e1ee9(0xa3a)){if(_0x491ba9[_0x5e1ee9(0x22a)]===_0x5e1ee9(0xa3a)&&_0x491ba9[_0x5e1ee9(0x87c)]!==0x0){_0x491ba9[_0x5e1ee9(0x87c)]===0x1&&(isMousePanning=!![],panStart={'x':_0x491ba9['clientX'],'y':_0x491ba9['clientY']},_0x3dbb43[_0x5e1ee9(0x9fb)][_0x5e1ee9(0x64c)]='grabbing');return;}activeTool===_0x5e1ee9(0x95d)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x1ee2b5=getTransformedPoint(_0x491ba9[_0x5e1ee9(0x4ba)]-_0xfdd502['left'],_0x491ba9[_0x5e1ee9(0x316)]-_0xfdd502['top']);let _0x347a3e={'tool':activeTool,'points':[_0x1ee2b5]};if(activeTool==='pen')_0x347a3e[_0x5e1ee9(0x8c9)]=scratchpadPenColor,_0x347a3e[_0x5e1ee9(0x1ac)]=scratchpadPenSize;else{if(activeTool===_0x5e1ee9(0xa9a))_0x347a3e[_0x5e1ee9(0x8c9)]=scratchpadPenColor,_0x347a3e[_0x5e1ee9(0x1ac)]=scratchpadEraserSize;else{if(activeTool===_0x5e1ee9(0x401))_0x347a3e[_0x5e1ee9(0x8c9)]=scratchpadHighlighterColor,_0x347a3e['size']=scratchpadHighlighterSize;else activeTool===_0x5e1ee9(0x95d)&&(_0x347a3e['color']=scratchpadPenColor,_0x347a3e[_0x5e1ee9(0x1ac)]=scratchpadPenSize);}}currentStroke=_0x347a3e;}else _0x491ba9['touches']&&(_0x491ba9[_0x5e1ee9(0xb12)]['length']===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x491ba9['touches'][0x0][_0x5e1ee9(0x4ba)],'y':_0x491ba9[_0x5e1ee9(0xb12)][0x0]['clientY']},{'x':_0x491ba9[_0x5e1ee9(0xb12)][0x1][_0x5e1ee9(0x4ba)],'y':_0x491ba9['touches'][0x1][_0x5e1ee9(0x316)]}),initialPinchDistance=getDistance({'x':_0x491ba9[_0x5e1ee9(0xb12)][0x0][_0x5e1ee9(0x4ba)],'y':_0x491ba9[_0x5e1ee9(0xb12)][0x0][_0x5e1ee9(0x316)]},{'x':_0x491ba9[_0x5e1ee9(0xb12)][0x1][_0x5e1ee9(0x4ba)],'y':_0x491ba9[_0x5e1ee9(0xb12)][0x1][_0x5e1ee9(0x316)]})));}function animateTrail(){const _0x5867df=_0xe56031,_0x288d7e=Date['now']();let _0x3a8b8a=![];for(let _0x2cbe35=strokes[_0x5867df(0xb5d)]-0x1;_0x2cbe35>=0x0;_0x2cbe35--){const _0x15e63d=strokes[_0x2cbe35];if(_0x15e63d[_0x5867df(0xd09)]===_0x5867df(0x95d)&&_0x15e63d[_0x5867df(0x8b1)]){const _0xc8ec0e=_0x288d7e-_0x15e63d[_0x5867df(0x8b1)];_0xc8ec0e>=TRAIL_DURATION?strokes[_0x5867df(0x4bf)](_0x2cbe35,0x1):(_0x15e63d[_0x5867df(0x8a0)]=0x1-_0xc8ec0e/TRAIL_DURATION,_0x3a8b8a=!![]);}}redrawScratchpad(),_0x3a8b8a?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x23b973){const _0x104699=_0xe56031;if(!_0x23b973||_0x23b973[_0x104699(0x9c8)]['length']<0x1)return;scratchpadCtx[_0x104699(0x34a)](),scratchpadCtx[_0x104699(0xbfb)]=_0x104699(0xc63),scratchpadCtx[_0x104699(0x36b)]=_0x104699(0xc63);if(_0x23b973[_0x104699(0xd09)]===_0x104699(0x95d)){const _0x149824=_0x23b973[_0x104699(0x1ac)]/scratchpadScale;scratchpadCtx[_0x104699(0x34c)]=_0x23b973[_0x104699(0x8a0)]??0x1,scratchpadCtx[_0x104699(0x82e)]=_0x104699(0x24c),scratchpadCtx[_0x104699(0x466)]=_0x149824*0x3,scratchpadCtx[_0x104699(0xbab)]=_0x104699(0x6b5),scratchpadCtx[_0x104699(0x1ad)]=_0x149824*2.5,scratchpadCtx['beginPath'](),scratchpadCtx[_0x104699(0x6fd)](_0x23b973['points'][0x0]['x'],_0x23b973['points'][0x0]['y']);for(let _0x4944fc=0x1;_0x4944fc<_0x23b973[_0x104699(0x9c8)][_0x104699(0xb5d)]-0x1;_0x4944fc++){const _0x371cec=getMidpoint(_0x23b973[_0x104699(0x9c8)][_0x4944fc],_0x23b973[_0x104699(0x9c8)][_0x4944fc+0x1]);scratchpadCtx['quadraticCurveTo'](_0x23b973[_0x104699(0x9c8)][_0x4944fc]['x'],_0x23b973[_0x104699(0x9c8)][_0x4944fc]['y'],_0x371cec['x'],_0x371cec['y']);}scratchpadCtx[_0x104699(0xa57)](),scratchpadCtx['shadowColor']=_0x104699(0x552),scratchpadCtx[_0x104699(0x466)]=0x0,scratchpadCtx[_0x104699(0xbab)]=_0x104699(0x256),scratchpadCtx[_0x104699(0x1ad)]=_0x149824,scratchpadCtx['stroke'](),scratchpadCtx[_0x104699(0xc4b)]();}else{if(_0x23b973[_0x104699(0xd09)]==='highlighter'){scratchpadCtx[_0x104699(0xc85)]=_0x104699(0x3f1),scratchpadCtx[_0x104699(0xbab)]=_0x23b973[_0x104699(0x8c9)],scratchpadCtx[_0x104699(0x1ad)]=_0x23b973[_0x104699(0x1ac)],scratchpadCtx[_0x104699(0x5e8)](),scratchpadCtx[_0x104699(0x6fd)](_0x23b973[_0x104699(0x9c8)][0x0]['x'],_0x23b973[_0x104699(0x9c8)][0x0]['y']);for(let _0x50772a=0x1;_0x50772a<_0x23b973[_0x104699(0x9c8)][_0x104699(0xb5d)]-0x1;_0x50772a++){const _0x1ed1b6=getMidpoint(_0x23b973['points'][_0x50772a],_0x23b973[_0x104699(0x9c8)][_0x50772a+0x1]);scratchpadCtx['quadraticCurveTo'](_0x23b973[_0x104699(0x9c8)][_0x50772a]['x'],_0x23b973[_0x104699(0x9c8)][_0x50772a]['y'],_0x1ed1b6['x'],_0x1ed1b6['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x104699(0xc4b)]();}else{scratchpadCtx['globalCompositeOperation']=_0x23b973[_0x104699(0xd09)]==='eraser'?_0x104699(0xbe6):_0x104699(0x240),scratchpadCtx['strokeStyle']=_0x23b973['color'],scratchpadCtx[_0x104699(0x1ad)]=_0x23b973[_0x104699(0x1ac)],scratchpadCtx[_0x104699(0x5e8)](),scratchpadCtx[_0x104699(0x6fd)](_0x23b973[_0x104699(0x9c8)][0x0]['x'],_0x23b973[_0x104699(0x9c8)][0x0]['y']);for(let _0x661a9f=0x1;_0x661a9f<_0x23b973['points'][_0x104699(0xb5d)]-0x1;_0x661a9f++){const _0x11f6c6=getMidpoint(_0x23b973[_0x104699(0x9c8)][_0x661a9f],_0x23b973[_0x104699(0x9c8)][_0x661a9f+0x1]);scratchpadCtx[_0x104699(0x2ce)](_0x23b973['points'][_0x661a9f]['x'],_0x23b973[_0x104699(0x9c8)][_0x661a9f]['y'],_0x11f6c6['x'],_0x11f6c6['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x104699(0xc4b)]();}}scratchpadCtx[_0x104699(0x381)]();}function handlePointerMove(_0x4e15f1){const _0x583670=_0xe56031;_0x4e15f1[_0x583670(0x6e6)]();const _0x2da830=scratchpadCtx['canvas'],_0x53ef2a=_0x2da830[_0x583670(0x36a)]();if(_0x4e15f1[_0x583670(0xb12)]){if(_0x4e15f1['touches'][_0x583670(0xb5d)]===0x1&&isDrawingOnScratchpad){const _0x4d97c0=getTransformedPoint(_0x4e15f1['touches'][0x0][_0x583670(0x4ba)]-_0x53ef2a[_0x583670(0x1cf)],_0x4e15f1['touches'][0x0]['clientY']-_0x53ef2a[_0x583670(0x56f)]);currentStroke[_0x583670(0x9c8)][_0x583670(0x632)](_0x4d97c0),redrawScratchpad();}else{if(_0x4e15f1['touches'][_0x583670(0xb5d)]===0x2&&isPanning){const _0x2bb065=getDistance({'x':_0x4e15f1['touches'][0x0]['clientX'],'y':_0x4e15f1[_0x583670(0xb12)][0x0][_0x583670(0x316)]},{'x':_0x4e15f1[_0x583670(0xb12)][0x1][_0x583670(0x4ba)],'y':_0x4e15f1[_0x583670(0xb12)][0x1]['clientY']}),_0x4d583f=getMidpoint({'x':_0x4e15f1[_0x583670(0xb12)][0x0]['clientX'],'y':_0x4e15f1[_0x583670(0xb12)][0x0][_0x583670(0x316)]},{'x':_0x4e15f1['touches'][0x1]['clientX'],'y':_0x4e15f1['touches'][0x1][_0x583670(0x316)]}),_0x3f98bc=_0x2bb065/ initialPinchDistance,_0x53c2ed=Math[_0x583670(0xa90)](Math['max'](scratchpadScale*_0x3f98bc,MIN_SCALE),MAX_SCALE),_0x30a2e4=_0x4d583f['x']-panStart['x'],_0xc35d64=_0x4d583f['y']-panStart['y'];scratchpadOffset['x']=_0x4d583f['x']-(_0x4d583f['x']-scratchpadOffset['x'])*(_0x53c2ed/scratchpadScale),scratchpadOffset['y']=_0x4d583f['y']-(_0x4d583f['y']-scratchpadOffset['y'])*(_0x53c2ed/scratchpadScale),scratchpadOffset['x']+=_0x30a2e4,scratchpadOffset['y']+=_0xc35d64,scratchpadScale=_0x53c2ed,initialPinchDistance=_0x2bb065,panStart=_0x4d583f,redrawScratchpad();}}}else{if(isMousePanning){const _0x4f41ec=_0x4e15f1[_0x583670(0x4ba)]-panStart['x'],_0x48316e=_0x4e15f1[_0x583670(0x316)]-panStart['y'];scratchpadOffset['x']+=_0x4f41ec,scratchpadOffset['y']+=_0x48316e,panStart={'x':_0x4e15f1[_0x583670(0x4ba)],'y':_0x4e15f1[_0x583670(0x316)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x464ab9=getTransformedPoint(_0x4e15f1[_0x583670(0x4ba)]-_0x53ef2a[_0x583670(0x1cf)],_0x4e15f1['clientY']-_0x53ef2a[_0x583670(0x56f)]);currentStroke[_0x583670(0x9c8)][_0x583670(0x632)](_0x464ab9),redrawScratchpad();}}}}function handlePointerUp(_0x16bf91){const _0x5046ca=_0xe56031;_0x16bf91[_0x5046ca(0x6e6)]();const _0x36ac19=scratchpadCtx[_0x5046ca(0xc9b)];isMousePanning&&(isMousePanning=![],_0x36ac19[_0x5046ca(0x9fb)][_0x5046ca(0x64c)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x5046ca(0x9c8)][_0x5046ca(0xb5d)]>0x1&&(strokes[_0x5046ca(0x632)](currentStroke),currentStroke[_0x5046ca(0xd09)]===_0x5046ca(0x95d)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x197e1a=_0x5046ca,_0x26d59e=strokes[_0x197e1a(0x23d)](_0x360c0a=>_0x360c0a['tool']===_0x197e1a(0x95d)&&!_0x360c0a[_0x197e1a(0x8b1)]);if(_0x26d59e[_0x197e1a(0xb5d)]>0x0){const _0x5863f=Date[_0x197e1a(0x5bd)]();_0x26d59e[_0x197e1a(0x215)](_0x3cd8b0=>_0x3cd8b0[_0x197e1a(0x8b1)]=_0x5863f),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x73663e){const _0x42fea8=_0xe56031;_0x73663e[_0x42fea8(0x6e6)]();const _0x1dceb0=_0x73663e[_0x42fea8(0xaf9)]*-0.005,_0x36fa9b=Math[_0x42fea8(0xa90)](Math[_0x42fea8(0xc02)](scratchpadScale+_0x1dceb0,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x73663e[_0x42fea8(0x4ba)]-(_0x73663e[_0x42fea8(0x4ba)]-scratchpadOffset['x'])*(_0x36fa9b/scratchpadScale),scratchpadOffset['y']=_0x73663e[_0x42fea8(0x316)]-(_0x73663e[_0x42fea8(0x316)]-scratchpadOffset['y'])*(_0x36fa9b/scratchpadScale),scratchpadScale=_0x36fa9b,redrawScratchpad();}function undo(){const _0x2d0678=_0xe56031;strokes[_0x2d0678(0xb5d)]>0x0&&(redoStrokes['push'](strokes[_0x2d0678(0x298)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x406941=_0xe56031;redoStrokes[_0x406941(0xb5d)]>0x0&&(strokes[_0x406941(0x632)](redoStrokes[_0x406941(0x298)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x299b81=_0xe56031;document[_0x299b81(0x581)](_0x299b81(0xb6f))[_0x299b81(0x5ba)]=strokes[_0x299b81(0xb5d)]===0x0,document[_0x299b81(0x581)](_0x299b81(0xc5a))['disabled']=redoStrokes[_0x299b81(0xb5d)]===0x0;}function openScratchpad(_0x39eb09,_0x5ac3fc){const _0x10cca8=_0xe56031,_0x13ad84=document['getElementById'](_0x10cca8(0x607)),_0x4bf966=document[_0x10cca8(0x581)](_0x10cca8(0x7f4)),_0x118d96=document[_0x10cca8(0x581)](_0x10cca8(0x3d3)),_0x4f5cb3=document['getElementById'](_0x10cca8(0xb66));_0x4bf966[_0x10cca8(0x81c)]=_0x39eb09[_0x10cca8(0x3b4)]||_0x39eb09[_0x10cca8(0x562)],_0x118d96['innerHTML']=_0x5ac3fc[_0x10cca8(0xaa7)]((_0x318bf6,_0x484dc2)=>_0x10cca8(0x418)+String[_0x10cca8(0x91f)](0x41+_0x484dc2)+'.\x20'+_0x318bf6+_0x10cca8(0x209))[_0x10cca8(0x51a)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x13ad84['classList'][_0x10cca8(0xbb6)](_0x10cca8(0xa91)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x10cca8(0x609)])MathJax[_0x10cca8(0x461)]([_0x4bf966,_0x118d96]);}function openBlueprintQuizSettings(){const _0x1334cf=_0xe56031,_0x1cf9c0=document[_0x1334cf(0x581)]('blueprint-settings-modal'),_0x2c3294=blueprintPageSettings||(currentProjectData?currentProjectData[_0x1334cf(0xa9f)]:{})||{};document[_0x1334cf(0x581)](_0x1334cf(0x283))[_0x1334cf(0x9ef)]=_0x2c3294[_0x1334cf(0xd7d)]||document[_0x1334cf(0x581)]('quiz-type-select')['value'],document['getElementById'](_0x1334cf(0x659))[_0x1334cf(0x81c)]=document[_0x1334cf(0x581)](_0x1334cf(0xd85))[_0x1334cf(0x81c)],document[_0x1334cf(0x581)](_0x1334cf(0x659))[_0x1334cf(0x9ef)]=_0x2c3294['difficultyValue']||document[_0x1334cf(0x581)]('difficulty-level-select')[_0x1334cf(0x9ef)],document[_0x1334cf(0x581)](_0x1334cf(0x288))[_0x1334cf(0x81c)]=document[_0x1334cf(0x581)](_0x1334cf(0x6ea))['innerHTML'],document[_0x1334cf(0x581)](_0x1334cf(0x288))[_0x1334cf(0x9ef)]=_0x2c3294[_0x1334cf(0x6fa)]||document[_0x1334cf(0x581)](_0x1334cf(0x6ea))['value'],document[_0x1334cf(0x581)]('bp-modal-num-questions')[_0x1334cf(0x9ef)]=_0x2c3294[_0x1334cf(0xca7)]||document[_0x1334cf(0x581)](_0x1334cf(0x866))['value'],document[_0x1334cf(0x581)](_0x1334cf(0xb48))['value']=_0x2c3294['passingScore']||document[_0x1334cf(0x581)]('passing-score-input')[_0x1334cf(0x9ef)],document[_0x1334cf(0x581)]('bp-modal-num-choices')['value']=_0x2c3294['numChoices']||document[_0x1334cf(0x581)](_0x1334cf(0xc03))[_0x1334cf(0x9ef)],document[_0x1334cf(0x581)]('bp-modal-shuffle-setting-select')[_0x1334cf(0x9ef)]=_0x2c3294[_0x1334cf(0x99d)]||document[_0x1334cf(0x581)](_0x1334cf(0x4be))[_0x1334cf(0x9ef)],document[_0x1334cf(0x581)]('bp-modal-include-images-checkbox')[_0x1334cf(0x1f1)]=_0x2c3294[_0x1334cf(0x2c1)]||document[_0x1334cf(0x581)](_0x1334cf(0x7e0))[_0x1334cf(0x1f1)],_0x1cf9c0[_0x1334cf(0x3f5)][_0x1334cf(0xbb6)](_0x1334cf(0xa91));}function handleSaveBlueprintPageSettings(){const _0x208e6e=_0xe56031;blueprintPageSettings={'quizType':document['getElementById'](_0x208e6e(0x283))[_0x208e6e(0x9ef)],'difficultyValue':document[_0x208e6e(0x581)]('bp-modal-difficulty-level-select')[_0x208e6e(0x9ef)],'complexityValue':document['getElementById'](_0x208e6e(0x288))[_0x208e6e(0x9ef)],'numQuestions':document[_0x208e6e(0x581)](_0x208e6e(0x812))[_0x208e6e(0x9ef)],'passingScore':document[_0x208e6e(0x581)](_0x208e6e(0xb48))[_0x208e6e(0x9ef)],'numChoices':document['getElementById']('bp-modal-num-choices')['value'],'shuffle':document[_0x208e6e(0x581)]('bp-modal-shuffle-setting-select')['value'],'includeImages':document['getElementById'](_0x208e6e(0xabe))[_0x208e6e(0x1f1)]},showMessage(_0x208e6e(0x23b)),document[_0x208e6e(0x581)](_0x208e6e(0x8d6))[_0x208e6e(0x3f5)][_0x208e6e(0xd54)]('hidden');}function listenForParallelTestShortcuts(){const _0x4420f5=doc(db,'globalSettings','parallelTestShortcutsConfig');onSnapshot(_0x4420f5,_0x4871f5=>{const _0x25fc6d=_0x352e;let _0x3c6fa9=[],_0x139454=[],_0x21223c={};if(_0x4871f5[_0x25fc6d(0x437)]()){const _0x4523b1=_0x4871f5[_0x25fc6d(0x610)]();_0x3c6fa9=_0x4523b1[_0x25fc6d(0x22d)]||[],_0x139454=_0x4523b1['parallelShortcutTabs']||[],_0x21223c=_0x4523b1[_0x25fc6d(0x3da)]||{};}!_0x139454['find'](_0x52af5c=>_0x52af5c['id']==='all')&&_0x139454['unshift']({'id':_0x25fc6d(0x5bf),'name':'ต้นฉบับทั้งหมด','isDefault':!![]}),!_0x3c6fa9[_0x25fc6d(0x692)](_0x48720b=>_0x48720b['id']===_0x25fc6d(0x424))&&_0x3c6fa9[_0x25fc6d(0x934)]({'id':'parallel-default-1','name':_0x25fc6d(0x7b8),'url':'','isDefault':!![]}),!_0x3c6fa9['find'](_0x4b9e93=>_0x4b9e93['id']===_0x25fc6d(0xc41))&&_0x3c6fa9[_0x25fc6d(0x934)]({'id':'parallel-default-2','name':_0x25fc6d(0xa10),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x3c6fa9,parallelShortcutTabs=_0x139454,parallelShortcutOrder=_0x21223c,renderParallelTestShortcuts(),!document[_0x25fc6d(0x581)]('additional-parallel-shortcuts-modal')[_0x25fc6d(0x3f5)][_0x25fc6d(0x1fe)](_0x25fc6d(0xa91))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x10ea17=_0xe56031,_0xe511da=doc(db,_0x10ea17(0x2f5),_0x10ea17(0x310));try{await setDoc(_0xe511da,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x1705ce){console[_0x10ea17(0x90c)]('Error\x20saving\x20parallel\x20shortcut\x20config:',_0x1705ce);}}function renderAdditionalParallelShortcutsModal(){const _0x5263da=_0xe56031,_0x1a6797=document[_0x5263da(0x581)](_0x5263da(0x25e)),_0x2d096c=document['getElementById']('additional-parallel-shortcuts-list');if(!_0x1a6797||!_0x2d096c)return;_0x1a6797['innerHTML']=parallelShortcutTabs[_0x5263da(0xaa7)](_0x523d46=>{const _0x7ed419=_0x5263da,_0x55d042=_0x523d46['id']===activeParallelShortcutTabId;return _0x7ed419(0x793)+_0x523d46['id']+_0x7ed419(0x3a6)+(_0x55d042?_0x7ed419(0x55f):_0x7ed419(0x434))+_0x7ed419(0x293)+_0x523d46[_0x7ed419(0xb95)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x523d46[_0x7ed419(0xb95)]+_0x7ed419(0x467)+(!_0x523d46['isDefault']?'<button\x20data-tab-id=\x22'+_0x523d46['id']+_0x7ed419(0xbfa):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x5263da(0x51a)]('');const _0xd28a99=parallelShortcutTabs['find'](_0x6d69f3=>_0x6d69f3['id']===activeParallelShortcutTabId);let _0x5b6f45=_0xd28a99?.[_0x5263da(0x306)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x5263da(0x23d)](_0x48f5ff=>(_0xd28a99?.[_0x5263da(0xbd0)]||[])[_0x5263da(0x6f7)](_0x48f5ff['id']));const _0x144216=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x5b6f45[_0x5263da(0x57f)]((_0x186ff5,_0x73e7d4)=>{const _0x2eea24=_0x5263da,_0x49c519=_0x144216[_0x2eea24(0x72f)](_0x186ff5['id']),_0x55053d=_0x144216[_0x2eea24(0x72f)](_0x73e7d4['id']);return(_0x49c519===-0x1?Infinity:_0x49c519)-(_0x55053d===-0x1?Infinity:_0x55053d);}),_0x2d096c[_0x5263da(0x81c)]=_0x5b6f45[_0x5263da(0xaa7)](_0x30be2c=>{const _0x21e5f5=_0x5263da,_0x15efc4=_0x30be2c[_0x21e5f5(0x577)]?'🔁':'🔗',_0x1590d3=parallelShortcutTabs['filter'](_0x13d115=>!_0x13d115[_0x21e5f5(0x306)]),_0x9bcd44=_0xd28a99['isDefault']&&_0x1590d3[_0x21e5f5(0xb5d)]>0x0?_0x21e5f5(0x3c1)+_0x1590d3[_0x21e5f5(0xaa7)](_0xdd2bfc=>_0x21e5f5(0x1a8)+_0x30be2c['id']+_0x21e5f5(0xbce)+_0xdd2bfc['id']+'\x22>'+_0xdd2bfc[_0x21e5f5(0xb95)]+_0x21e5f5(0x65f))[_0x21e5f5(0x51a)]('')+_0x21e5f5(0xadb):'';return _0x21e5f5(0xa37)+_0x30be2c['id']+_0x21e5f5(0xb94)+_0x15efc4+'\x20'+_0x30be2c[_0x21e5f5(0xb95)]+_0x21e5f5(0x4bc)+_0x30be2c['id']+_0x21e5f5(0xd83)+_0x30be2c['id']+_0x21e5f5(0x9cf)+(!_0x30be2c[_0x21e5f5(0x306)]?_0x21e5f5(0x2de)+_0x30be2c['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x21e5f5(0x676)+(!_0xd28a99[_0x21e5f5(0x306)]?_0x21e5f5(0x271)+_0x30be2c['id']+_0x21e5f5(0x287):'')+_0x21e5f5(0x676)+_0x9bcd44+_0x21e5f5(0x30f);})['join']('')||_0x5263da(0xb85),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x25b576=_0xe56031;document['querySelectorAll'](_0x25b576(0x603))['forEach'](_0x3f491b=>{const _0x41cf47=_0x25b576;_0x3f491b[_0x41cf47(0xa46)]=_0x559ca3=>{const _0xb7af91=_0x41cf47;activeParallelShortcutTabId=_0x559ca3[_0xb7af91(0xa0b)][_0xb7af91(0xada)]['tabId'],renderAdditionalParallelShortcutsModal();},_0x3f491b[_0x41cf47(0xb98)]=_0x14f388=>{const _0x43ef1f=_0x41cf47,_0x2a7ad1=_0x14f388[_0x43ef1f(0xa0b)][_0x43ef1f(0xd4c)](_0x43ef1f(0x524));_0x14f388[_0x43ef1f(0xa0b)][_0x43ef1f(0xd4c)](_0x43ef1f(0x33e))[_0x43ef1f(0x3f5)][_0x43ef1f(0xd54)]('hidden'),_0x2a7ad1[_0x43ef1f(0x3f5)]['remove'](_0x43ef1f(0xa91)),_0x2a7ad1['focus'](),_0x2a7ad1[_0x43ef1f(0xc79)]();};}),document['querySelectorAll'](_0x25b576(0x198))[_0x25b576(0x215)](_0x2c2abb=>{const _0x5dc3a4=_0x25b576,_0x443eaf=()=>{const _0x4b8b07=_0x352e,_0x3d1f49=_0x2c2abb[_0x4b8b07(0xd63)](_0x4b8b07(0x603))[_0x4b8b07(0xada)][_0x4b8b07(0x500)],_0x19b483=parallelShortcutTabs[_0x4b8b07(0x692)](_0x2f6662=>_0x2f6662['id']===_0x3d1f49);_0x19b483&&(_0x19b483[_0x4b8b07(0xb95)]=_0x2c2abb[_0x4b8b07(0x9ef)][_0x4b8b07(0xd92)]()||_0x19b483['name'],saveParallelShortcutConfig());};_0x2c2abb[_0x5dc3a4(0xd20)]=_0x443eaf,_0x2c2abb[_0x5dc3a4(0xbb0)]=_0x2623fc=>{const _0x31d51a=_0x5dc3a4;if(_0x2623fc[_0x31d51a(0x814)]==='Enter')_0x2c2abb[_0x31d51a(0x3af)]();};}),document['querySelectorAll']('.delete-parallel-shortcut-tab-btn')[_0x25b576(0x215)](_0x4b5832=>_0x4b5832[_0x25b576(0xa46)]=_0x44dcc2=>{const _0x3a9284=_0x25b576,_0x1da18c=_0x44dcc2[_0x3a9284(0xa0b)]['dataset'][_0x3a9284(0x500)];showConfirmation(_0x3a9284(0x701),()=>{const _0x161484=_0x3a9284;parallelShortcutTabs=parallelShortcutTabs[_0x161484(0x23d)](_0x2ac7cd=>_0x2ac7cd['id']!==_0x1da18c),delete parallelShortcutOrder[_0x1da18c];if(activeParallelShortcutTabId===_0x1da18c)activeParallelShortcutTabId=_0x161484(0x5bf);saveParallelShortcutConfig();});}),document['querySelectorAll'](_0x25b576(0xd94))[_0x25b576(0x215)](_0x2e9c90=>_0x2e9c90[_0x25b576(0xa46)]=_0x26a184=>{const _0x1e6f75=_0x25b576;_0x26a184['preventDefault']();const {shortcutId:_0x18370b,targetTabId:_0x5de73c}=_0x26a184['currentTarget'][_0x1e6f75(0xada)],_0x3e29e7=parallelShortcutTabs[_0x1e6f75(0x692)](_0x201cf7=>_0x201cf7['id']===_0x5de73c);_0x3e29e7&&!_0x3e29e7[_0x1e6f75(0xbd0)][_0x1e6f75(0x6f7)](_0x18370b)&&(_0x3e29e7[_0x1e6f75(0xbd0)][_0x1e6f75(0x632)](_0x18370b),saveParallelShortcutConfig());}),document['querySelectorAll'](_0x25b576(0x97f))[_0x25b576(0x215)](_0x6b942e=>_0x6b942e[_0x25b576(0xa46)]=_0x28dea8=>{const _0x2709d5=_0x25b576,_0x39012c=_0x28dea8[_0x2709d5(0xa0b)][_0x2709d5(0xada)][_0x2709d5(0x758)],_0x128494=parallelShortcutTabs['find'](_0x5dd7a3=>_0x5dd7a3['id']===activeParallelShortcutTabId);_0x128494&&!_0x128494['isDefault']&&(_0x128494[_0x2709d5(0xbd0)]=_0x128494[_0x2709d5(0xbd0)]['filter'](_0x1d39a3=>_0x1d39a3!==_0x39012c),saveParallelShortcutConfig());}),document[_0x25b576(0x30c)]('.move-parallel-shortcut-menu-btn')['forEach'](_0x505ba3=>_0x505ba3[_0x25b576(0xa46)]=_0x460cdc=>{const _0x8e3a57=_0x25b576;_0x460cdc['stopPropagation']();const _0x564bbf=_0x460cdc[_0x8e3a57(0xa0b)]['nextElementSibling'];document[_0x8e3a57(0x30c)](_0x8e3a57(0x9b1))[_0x8e3a57(0x215)](_0x4bcf03=>_0x4bcf03['classList'][_0x8e3a57(0xd54)]('hidden')),_0x564bbf[_0x8e3a57(0x3f5)][_0x8e3a57(0xbb6)]('hidden');});const _0x37bc96=document[_0x25b576(0x581)](_0x25b576(0x7cb));let _0x57a26f=null;_0x37bc96[_0x25b576(0x64d)]=_0x388c23=>{const _0x440ff5=_0x25b576;_0x57a26f=_0x388c23[_0x440ff5(0x8d1)]['closest'](_0x440ff5(0x280));if(_0x57a26f)setTimeout(()=>_0x57a26f[_0x440ff5(0x3f5)][_0x440ff5(0xd54)](_0x440ff5(0xa48)),0x0);},_0x37bc96[_0x25b576(0x6ca)]=()=>{const _0x2136dc=_0x25b576;_0x57a26f&&(_0x57a26f['classList'][_0x2136dc(0xbb6)](_0x2136dc(0xa48)),_0x57a26f=null);},_0x37bc96[_0x25b576(0x531)]=_0x2ba922=>{const _0x370105=_0x25b576;_0x2ba922[_0x370105(0x6e6)]();},_0x37bc96['ondrop']=_0x158905=>{const _0x5c7534=_0x25b576;_0x158905[_0x5c7534(0x6e6)]();if(_0x57a26f){const _0x3ef2a7=[..._0x37bc96[_0x5c7534(0x30c)](_0x5c7534(0xae2))][_0x5c7534(0x89f)]((_0x59aefc,_0x4db75f)=>{const _0x29a636=_0x5c7534,_0x573ff6=_0x4db75f[_0x29a636(0x36a)](),_0x147a51=_0x158905[_0x29a636(0x316)]-_0x573ff6[_0x29a636(0x56f)]-_0x573ff6[_0x29a636(0x7c5)]/0x2;return _0x147a51<0x0&&_0x147a51>_0x59aefc['offset']?{'offset':_0x147a51,'element':_0x4db75f}:_0x59aefc;},{'offset':Number['NEGATIVE_INFINITY']})[_0x5c7534(0xd93)];_0x3ef2a7==null?_0x37bc96[_0x5c7534(0xb81)](_0x57a26f):_0x37bc96[_0x5c7534(0xb4f)](_0x57a26f,_0x3ef2a7);const _0x2e5055=[..._0x37bc96[_0x5c7534(0x30c)](_0x5c7534(0x280))]['map'](_0x5369a9=>_0x5369a9[_0x5c7534(0xada)][_0x5c7534(0x758)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x2e5055,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x419734=_0xe56031,_0x172021=prompt(_0x419734(0x9f9),_0x419734(0x31b));_0x172021&&_0x172021[_0x419734(0xd92)]()&&(parallelShortcutTabs[_0x419734(0x632)]({'id':_0x419734(0x95c)+Date[_0x419734(0x5bd)](),'name':_0x172021[_0x419734(0xd92)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x3b9c7a=_0xe56031,_0x35229f=document[_0x3b9c7a(0x581)]('parallel-shortcut-container'),_0x32ce27=document[_0x3b9c7a(0x581)](_0x3b9c7a(0x7cb)),_0x4236b2=document['getElementById'](_0x3b9c7a(0xc0c));if(_0x4236b2)_0x4236b2[_0x3b9c7a(0x3f5)][_0x3b9c7a(0xd54)]('hidden');if(!_0x35229f||!_0x32ce27)return;const _0x4ae843=parallelTestShortcuts[_0x3b9c7a(0xc09)](0x0,0x4),_0x953520=parallelTestShortcuts[_0x3b9c7a(0xc09)](0x4);_0x35229f[_0x3b9c7a(0x81c)]=_0x4ae843[_0x3b9c7a(0xaa7)](_0x5ba4c6=>{const _0x37220d=_0x3b9c7a,_0x59b97e=_0x5ba4c6[_0x37220d(0x577)]&&_0x5ba4c6[_0x37220d(0x577)][_0x37220d(0xd92)]()!=='',_0x48f4d7=_0x59b97e?_0x37220d(0x484):_0x37220d(0x60f),_0x5602e6=_0x59b97e?'🔁':'🔗',_0x39a056=!_0x5ba4c6[_0x37220d(0x306)]?_0x37220d(0x2de)+_0x5ba4c6['id']+_0x37220d(0xa3b):'';return _0x37220d(0x691)+_0x5ba4c6['id']+_0x37220d(0x3df)+_0x48f4d7+_0x37220d(0x225)+_0x5602e6+'\x20'+_0x5ba4c6[_0x37220d(0xb95)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5ba4c6['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x39a056+_0x37220d(0x258);})[_0x3b9c7a(0x51a)](''),_0x953520['length']>0x0&&(_0x35229f[_0x3b9c7a(0x81c)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x953520[_0x3b9c7a(0xb5d)]>0x0?_0x32ce27['innerHTML']=_0x953520[_0x3b9c7a(0xaa7)](_0x2f78b8=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+(_0x2f78b8['url']?'🔁':'🔗')+'\x20'+_0x2f78b8[_0x3b9c7a(0xb95)]+_0x3b9c7a(0x4c5)+_0x2f78b8['id']+_0x3b9c7a(0x529)+_0x2f78b8['id']+_0x3b9c7a(0x81e)+(!_0x2f78b8[_0x3b9c7a(0x306)]?_0x3b9c7a(0x2de)+_0x2f78b8['id']+_0x3b9c7a(0x44b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''):_0x32ce27[_0x3b9c7a(0x81c)]=_0x3b9c7a(0x7b7);}function openParallelTestShortcutEditor(_0xe374d3=null){const _0x2e11b9=_0xe56031,_0x98a868=document[_0x2e11b9(0x581)](_0x2e11b9(0xa2a)),_0x2a5b24=document['getElementById'](_0x2e11b9(0x366)),_0x3e009a=document['getElementById'](_0x2e11b9(0x753)),_0x2aaef9=document['getElementById'](_0x2e11b9(0x89d)),_0x3d81d7=document['getElementById'](_0x2e11b9(0x54d));if(_0xe374d3){const _0x3018c8=parallelTestShortcuts[_0x2e11b9(0x692)](_0x198f74=>_0x198f74['id']===_0xe374d3);if(!_0x3018c8)return;_0x2a5b24[_0x2e11b9(0x25c)]='แก้ไขปุ่มลัดข้อสอบต้นฉบับ',_0x3e009a[_0x2e11b9(0x9ef)]=_0x3018c8['id'],_0x2aaef9['value']=_0x3018c8['name'],_0x3d81d7['value']=_0x3018c8[_0x2e11b9(0x577)]||'';}else _0x2a5b24[_0x2e11b9(0x25c)]=_0x2e11b9(0x376),_0x3e009a[_0x2e11b9(0x9ef)]='',_0x2aaef9[_0x2e11b9(0x9ef)]='',_0x3d81d7[_0x2e11b9(0x9ef)]='';_0x98a868[_0x2e11b9(0x3f5)][_0x2e11b9(0xbb6)]('hidden');}async function saveParallelTestShortcutChanges(){const _0x4a6dea=_0xe56031,_0x227a75=document[_0x4a6dea(0x581)](_0x4a6dea(0x753))['value'],_0xa4d41=document['getElementById'](_0x4a6dea(0x89d))[_0x4a6dea(0x9ef)]['trim'](),_0x14ee7a=document[_0x4a6dea(0x581)]('parallel-shortcut-url-input')[_0x4a6dea(0x9ef)][_0x4a6dea(0xd92)]();if(!_0xa4d41){showMessage(_0x4a6dea(0xcd6));return;}const _0xd42377={'id':_0x227a75||_0x4a6dea(0x997)+Date[_0x4a6dea(0x5bd)](),'name':_0xa4d41,'url':_0x14ee7a,'isDefault':_0x227a75[_0x4a6dea(0xb63)](_0x4a6dea(0xae8))};let _0x549230;_0x227a75?_0x549230=parallelTestShortcuts[_0x4a6dea(0xaa7)](_0x44c95c=>_0x44c95c['id']===_0x227a75?_0xd42377:_0x44c95c):_0x549230=[...parallelTestShortcuts,_0xd42377];try{const _0xa3085a=doc(db,_0x4a6dea(0x2f5),_0x4a6dea(0x310));await setDoc(_0xa3085a,{'shortcuts':_0x549230},{'merge':!![]}),document[_0x4a6dea(0x581)]('parallel-shortcut-editor-modal')['classList']['add'](_0x4a6dea(0xa91));}catch(_0x2b40b5){console[_0x4a6dea(0x90c)](_0x4a6dea(0x210),_0x2b40b5),showMessage(_0x4a6dea(0x25a));}}async function handleParallelTestShortcutClick(_0x5931ad){const _0x29fdde=_0xe56031,_0x49ff76=parallelTestShortcuts['find'](_0x1c5187=>_0x1c5187['id']===_0x5931ad);if(!_0x49ff76)return;if(!_0x49ff76[_0x29fdde(0x577)]||_0x49ff76[_0x29fdde(0x577)][_0x29fdde(0xd92)]()===''){openParallelTestShortcutEditor(_0x5931ad);return;}const _0x4af349=document['getElementById'](_0x29fdde(0x86b)),_0x48888d=document[_0x29fdde(0x581)]('loader-text');document['getElementById'](_0x29fdde(0x1e1))[_0x29fdde(0x3f5)][_0x29fdde(0xbb6)](_0x29fdde(0xa91)),document[_0x29fdde(0x581)](_0x29fdde(0x7de))[_0x29fdde(0x81c)]='',_0x4af349['classList'][_0x29fdde(0xbb6)](_0x29fdde(0xa91)),_0x48888d['textContent']=_0x29fdde(0x617);try{let _0x5fc1e;_0x49ff76[_0x29fdde(0x577)]['toLowerCase']()[_0x29fdde(0x6f7)](_0x29fdde(0xa16))?_0x5fc1e=_0x29fdde(0x46f):_0x5fc1e=_0x29fdde(0x9d2);const _0x4ba813=await fetchFileFromUrl(_0x49ff76[_0x29fdde(0x577)],_0x5fc1e);await handleGenerateParallelTest(_0x4ba813);}catch(_0x5be180){console[_0x29fdde(0x90c)](_0x29fdde(0x193),_0x5be180),showMessage(_0x29fdde(0xb5c)+_0x5be180[_0x29fdde(0x76b)]),_0x4af349[_0x29fdde(0x3f5)][_0x29fdde(0xd54)](_0x29fdde(0xa91));}}function initializeScratchpadCanvas(){const _0x5a4f6c=_0xe56031,_0x2b0a73=document[_0x5a4f6c(0x581)](_0x5a4f6c(0x8b4)),_0x46c051=document['querySelector'](_0x5a4f6c(0x8ab));if(!_0x2b0a73||!_0x46c051)return;scratchpadCtx=_0x2b0a73[_0x5a4f6c(0xcdf)]('2d',{'willReadFrequently':!![]});const _0x3582cf=window[_0x5a4f6c(0x66b)]||0x1,_0x50dc37=_0x46c051['getBoundingClientRect']();_0x2b0a73['width']=_0x50dc37[_0x5a4f6c(0x334)]*_0x3582cf,_0x2b0a73[_0x5a4f6c(0x7c5)]=_0x50dc37['height']*_0x3582cf,_0x2b0a73[_0x5a4f6c(0x9fb)]['width']=_0x50dc37[_0x5a4f6c(0x334)]+'px',_0x2b0a73[_0x5a4f6c(0x9fb)][_0x5a4f6c(0x7c5)]=_0x50dc37[_0x5a4f6c(0x7c5)]+'px',scratchpadCtx[_0x5a4f6c(0x6b4)](_0x3582cf,_0x3582cf),scratchpadCtx[_0x5a4f6c(0xbfb)]=_0x5a4f6c(0xc63),scratchpadCtx[_0x5a4f6c(0x36b)]=_0x5a4f6c(0xc63),_0x2b0a73[_0x5a4f6c(0xb89)](_0x5a4f6c(0x8e6),handlePointerDown),_0x2b0a73[_0x5a4f6c(0xb89)](_0x5a4f6c(0xa99),handlePointerMove),_0x2b0a73['removeEventListener']('pointerup',handlePointerUp),_0x2b0a73[_0x5a4f6c(0xb89)](_0x5a4f6c(0x827),handlePointerUp),_0x2b0a73[_0x5a4f6c(0xb89)](_0x5a4f6c(0x645),handleWheel),_0x2b0a73[_0x5a4f6c(0xb89)](_0x5a4f6c(0xc57),handlePointerDown),_0x2b0a73[_0x5a4f6c(0xb89)](_0x5a4f6c(0x2dc),handlePointerMove),_0x2b0a73['removeEventListener'](_0x5a4f6c(0x4cc),handlePointerUp),_0x2b0a73[_0x5a4f6c(0x395)](_0x5a4f6c(0x8e6),handlePointerDown),_0x2b0a73['addEventListener']('pointermove',handlePointerMove),_0x2b0a73[_0x5a4f6c(0x395)](_0x5a4f6c(0x373),handlePointerUp),_0x2b0a73[_0x5a4f6c(0x395)]('pointercancel',handlePointerUp),_0x2b0a73[_0x5a4f6c(0x395)](_0x5a4f6c(0x645),handleWheel,{'passive':![]}),_0x2b0a73[_0x5a4f6c(0x395)](_0x5a4f6c(0xc57),handlePointerDown,{'passive':![]}),_0x2b0a73['addEventListener'](_0x5a4f6c(0x2dc),handlePointerMove,{'passive':![]}),_0x2b0a73[_0x5a4f6c(0x395)](_0x5a4f6c(0x4cc),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x40ba1a=_0xe56031,_0x531e03=document['getElementById']('scratchpad-modal'),_0xa3a110=document['getElementById'](_0x40ba1a(0xb66));_0xa3a110[_0x40ba1a(0x81c)]=_0x40ba1a(0x2c2)+scratchpadHighlighterSize+_0x40ba1a(0xc5e);const _0x14774f=document[_0x40ba1a(0x581)](_0x40ba1a(0x98a)),_0x2d8f84=document[_0x40ba1a(0x581)](_0x40ba1a(0x951)),_0x5b3c5f=document[_0x40ba1a(0x581)](_0x40ba1a(0x85d)),_0x47713d=document[_0x40ba1a(0x581)](_0x40ba1a(0x361)),_0x3a2c3a=document['getElementById'](_0x40ba1a(0x7ae)),_0x48b5c7=document['getElementById'](_0x40ba1a(0xbdc)),_0x44cf1e=document['getElementById']('eraser-tools-group'),_0x8d2036=[_0x14774f,_0x2d8f84,_0x5b3c5f,_0x47713d];document[_0x40ba1a(0x581)]('scratchpad-close-btn')[_0x40ba1a(0x395)]('click',()=>_0x531e03[_0x40ba1a(0x3f5)][_0x40ba1a(0xd54)](_0x40ba1a(0xa91))),document['getElementById'](_0x40ba1a(0x4cb))['addEventListener'](_0x40ba1a(0xafd),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x40ba1a(0x581)](_0x40ba1a(0x3fa))[_0x40ba1a(0x395)](_0x40ba1a(0xafd),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x40ba1a(0x581)]('undo-btn')['addEventListener'](_0x40ba1a(0xafd),undo),document[_0x40ba1a(0x581)](_0x40ba1a(0xc5a))[_0x40ba1a(0x395)](_0x40ba1a(0xafd),redo);const _0x1b4a3c=_0x5d8493=>{const _0x40dee2=_0x40ba1a;_0x8d2036[_0x40dee2(0x215)](_0x22c4ea=>_0x22c4ea[_0x40dee2(0x3f5)][_0x40dee2(0xbb6)](_0x40dee2(0xd41))),_0x5d8493[_0x40dee2(0x3f5)][_0x40dee2(0xd54)](_0x40dee2(0xd41)),_0x3a2c3a[_0x40dee2(0x3f5)][_0x40dee2(0xd54)](_0x40dee2(0xa91)),_0x48b5c7['classList']['add'](_0x40dee2(0xa91)),_0x44cf1e[_0x40dee2(0x3f5)][_0x40dee2(0xd54)](_0x40dee2(0xa91));if(activeTool===_0x40dee2(0x2d4)||activeTool===_0x40dee2(0x95d))_0x3a2c3a[_0x40dee2(0x3f5)][_0x40dee2(0xbb6)]('hidden');else{if(activeTool===_0x40dee2(0x401))_0x48b5c7[_0x40dee2(0x3f5)]['remove'](_0x40dee2(0xa91));else activeTool===_0x40dee2(0xa9a)&&_0x44cf1e[_0x40dee2(0x3f5)][_0x40dee2(0xbb6)](_0x40dee2(0xa91));}};_0x14774f[_0x40ba1a(0x395)]('click',()=>{const _0x496ea4=_0x40ba1a;activeTool=_0x496ea4(0x2d4),_0x1b4a3c(_0x14774f);}),_0x2d8f84[_0x40ba1a(0x395)](_0x40ba1a(0xafd),()=>{const _0x2131f7=_0x40ba1a;activeTool=_0x2131f7(0xa9a),_0x1b4a3c(_0x2d8f84);}),_0x5b3c5f[_0x40ba1a(0x395)](_0x40ba1a(0xafd),()=>{const _0x5bc899=_0x40ba1a;activeTool=_0x5bc899(0x95d),_0x1b4a3c(_0x5b3c5f);}),_0x47713d[_0x40ba1a(0x395)]('click',()=>{activeTool='highlighter',_0x1b4a3c(_0x47713d);}),_0x3a2c3a[_0x40ba1a(0x30c)](_0x40ba1a(0x910))['forEach'](_0x1fb323=>{const _0xa6b172=_0x40ba1a;_0x1fb323['addEventListener'](_0xa6b172(0xafd),_0x5ddde5=>{const _0x5a7896=_0xa6b172;scratchpadPenSize=parseInt(_0x5ddde5['target'][_0x5a7896(0xada)][_0x5a7896(0x1ac)],0xa),_0x3a2c3a[_0x5a7896(0x30c)](_0x5a7896(0x910))['forEach'](_0x15f908=>_0x15f908['classList'][_0x5a7896(0xbb6)](_0x5a7896(0xd41))),_0x5ddde5[_0x5a7896(0x8d1)][_0x5a7896(0x3f5)]['add'](_0x5a7896(0xd41));});}),_0x44cf1e[_0x40ba1a(0x30c)](_0x40ba1a(0xac6))[_0x40ba1a(0x215)](_0xeb50c4=>{const _0x48daab=_0x40ba1a;_0xeb50c4[_0x48daab(0x395)]('click',_0x2b4f55=>{const _0x1f984e=_0x48daab,_0x5466f9=_0x2b4f55[_0x1f984e(0xa0b)];scratchpadEraserSize=parseInt(_0x5466f9[_0x1f984e(0xada)][_0x1f984e(0x1ac)],0xa),_0x44cf1e[_0x1f984e(0x30c)]('.eraser-size-btn')[_0x1f984e(0x215)](_0x5619b4=>_0x5619b4[_0x1f984e(0x3f5)][_0x1f984e(0xbb6)](_0x1f984e(0xd41))),_0x5466f9[_0x1f984e(0x3f5)][_0x1f984e(0xd54)](_0x1f984e(0xd41));});}),_0x3a2c3a['querySelectorAll'](_0x40ba1a(0xbca))['forEach'](_0x5f63d5=>{const _0x3924b4=_0x40ba1a;_0x5f63d5[_0x3924b4(0x395)](_0x3924b4(0xafd),_0xa32f1d=>{const _0x5e9acf=_0x3924b4;scratchpadPenColor=_0xa32f1d[_0x5e9acf(0x8d1)][_0x5e9acf(0xada)][_0x5e9acf(0x8c9)],_0x3a2c3a[_0x5e9acf(0x30c)]('.pen-color-btn')[_0x5e9acf(0x215)](_0x3a0f58=>_0x3a0f58[_0x5e9acf(0x3f5)]['remove'](_0x5e9acf(0xd41))),_0xa32f1d[_0x5e9acf(0x8d1)][_0x5e9acf(0x3f5)][_0x5e9acf(0xd54)](_0x5e9acf(0xd41));});}),_0x48b5c7[_0x40ba1a(0x30c)](_0x40ba1a(0xa4e))[_0x40ba1a(0x215)](_0x58dc9f=>{const _0x4d0269=_0x40ba1a;_0x58dc9f[_0x4d0269(0x395)]('click',_0xeed9dd=>{const _0x35edb8=_0x4d0269;scratchpadHighlighterColor=_0xeed9dd[_0x35edb8(0x8d1)][_0x35edb8(0xada)]['color'],_0x48b5c7[_0x35edb8(0x30c)](_0x35edb8(0xa4e))[_0x35edb8(0x215)](_0x1a07a1=>_0x1a07a1['classList'][_0x35edb8(0xbb6)](_0x35edb8(0xd41))),_0xeed9dd[_0x35edb8(0x8d1)][_0x35edb8(0x3f5)][_0x35edb8(0xd54)](_0x35edb8(0xd41));});});const _0x46b00e=document[_0x40ba1a(0x581)](_0x40ba1a(0x253)),_0x4a8f8b=document[_0x40ba1a(0x581)](_0x40ba1a(0x5ac));_0x46b00e[_0x40ba1a(0x395)](_0x40ba1a(0x718),_0x7e0a05=>{const _0x470ef7=_0x40ba1a,_0x4d25db=parseInt(_0x7e0a05['target']['value'],0xa);scratchpadHighlighterSize=_0x4d25db,_0x4a8f8b[_0x470ef7(0x25c)]=_0x4d25db;}),window['addEventListener'](_0x40ba1a(0x372),()=>{const _0x3fb011=_0x40ba1a;!_0x531e03[_0x3fb011(0x3f5)]['contains'](_0x3fb011(0xa91))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0xe56031(0x887),'name':'คะแนนเต็ม','description':_0xe56031(0x8ad),'icon':_0xe56031(0x88d)},'QUICK_THINKER':{'id':_0xe56031(0x1db),'name':'เซียนสมองไว','description':_0xe56031(0x940),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0xe56031(0xa1f),'name':_0xe56031(0xbff),'description':_0xe56031(0x28c),'icon':_0xe56031(0x3f7)},'FIRST_TRY_ACE':{'id':_0xe56031(0x527),'name':_0xe56031(0xd36),'description':_0xe56031(0x3cc),'icon':_0xe56031(0x9aa)},'COMEBACK_KING':{'id':_0xe56031(0x86a),'name':'ราชาคัมแบ็ก','description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0xe56031(0xbac),'name':'ผู้เชี่ยวชาญ','description':_0xe56031(0xc7c),'icon':_0xe56031(0x5de)},'PERSEVERANCE':{'id':_0xe56031(0x2f8),'name':_0xe56031(0xd7b),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0xe56031(0x2ba)}},firebaseConfig={'apiKey':_0xe56031(0xc16),'authDomain':_0xe56031(0x3d7),'projectId':'ai-quiz-app-aefee','storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':'274192258111','appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0xe56031(0x9a0)},appId=typeof __app_id!==_0xe56031(0x2aa)?__app_id:_0xe56031(0xc01),adminView=document['getElementById'](_0xe56031(0x46b)),studentView=document['getElementById'](_0xe56031(0xcf8)),projectDashboardView=document[_0xe56031(0x581)]('project-dashboard-view'),projectDetailView=document['getElementById'](_0xe56031(0x78f)),quizResultsView=document['getElementById']('quiz-results-view'),projectList=document[_0xe56031(0x581)](_0xe56031(0xcaf)),noProjectsMsg=document[_0xe56031(0x581)]('no-projects-msg'),projectTitle=document[_0xe56031(0x581)]('project-title'),projectIdDisplay=document[_0xe56031(0x581)]('project-id-display'),studentList=document[_0xe56031(0x581)](_0xe56031(0x4ac)),messageModal=document['getElementById'](_0xe56031(0x2d3)),modalMessage=document['getElementById'](_0xe56031(0x781)),createProjectModal=document[_0xe56031(0x581)]('create-project-modal'),adminPasswordModal=document[_0xe56031(0x581)](_0xe56031(0x4a6)),confirmationModal=document['getElementById'](_0xe56031(0xad1)),userIdDisplay=document[_0xe56031(0x581)]('user-id-display'),topicTab=document['getElementById']('topic-tab'),textTab=document[_0xe56031(0x581)](_0xe56031(0xb18)),topicInputArea=document[_0xe56031(0x581)]('topic-input-area'),textInputArea=document['getElementById'](_0xe56031(0x341)),manageTab=document[_0xe56031(0x581)]('manage-tab'),resultsTab=document[_0xe56031(0x581)](_0xe56031(0xaea)),leaderboardTab=document['getElementById']('leaderboard-tab'),manageTabContent=document['getElementById']('manage-tab-content'),resultsTabContent=document[_0xe56031(0x581)](_0xe56031(0x350)),leaderboardTabContent=document[_0xe56031(0x581)](_0xe56031(0x455)),projectQuizzesList=document['getElementById'](_0xe56031(0xa6e)),fileTab=document[_0xe56031(0x581)](_0xe56031(0x1b3)),fileInputArea=document['getElementById'](_0xe56031(0x7c8)),fileUploadInput=document['getElementById'](_0xe56031(0x770)),worksheetTab=document[_0xe56031(0x581)]('worksheet-tab'),worksheetInputArea=document['getElementById']('worksheet-input-area'),generateWorksheetBtn=document['getElementById'](_0xe56031(0x354)),studentInitialView=document[_0xe56031(0x581)](_0xe56031(0x302)),studentNameSelectionView=document['getElementById'](_0xe56031(0x72c)),studentQuizArea=document['getElementById']('student-quiz-area'),studentResultArea=document[_0xe56031(0x581)]('student-result-area'),studentReadingArea=document[_0xe56031(0x581)]('student-reading-area'),loadQuizBtn=document[_0xe56031(0x581)](_0xe56031(0xc26)),startQuizBtn=document[_0xe56031(0x581)](_0xe56031(0x858)),studentJoinGameView=document[_0xe56031(0x581)](_0xe56031(0x57d)),presentationModal=document['getElementById'](_0xe56031(0x3ef)),renameQuizModal=document[_0xe56031(0x581)](_0xe56031(0xa6d)),moveQuizModal=document['getElementById'](_0xe56031(0x969)),quizSettingsModal=document[_0xe56031(0x581)]('quiz-settings-modal'),quizStatusModal=document[_0xe56031(0x581)](_0xe56031(0x5c6)),liveGameView=document[_0xe56031(0x581)](_0xe56031(0x497));function handleFixLessonLatex(){const _0x4f9333=_0xe56031,_0xe7a7cd=document[_0x4f9333(0x581)](_0x4f9333(0x993));if(!_0xe7a7cd){showMessage(_0x4f9333(0xa72));return;}const _0xb0b6a6=_0xe7a7cd['querySelectorAll']([_0x4f9333(0x236),'.ai-content\x20li',_0x4f9333(0xd99),_0x4f9333(0xb1a),'.ai-content\x20h3'][_0x4f9333(0x51a)](','));let _0x406a54=0x0;const _0x54d2ac=_0x76e4d4=>_0x76e4d4[_0x4f9333(0x25c)]||'',_0x5e2021=(_0x24dc74,_0x415eb1)=>{const _0x111beb=_0x4f9333;if(_0x24dc74[_0x111beb(0xd4c)]&&_0x24dc74['querySelector']('mjx-container'))return;_0x24dc74['textContent']=_0x415eb1;},_0x14d10c=_0x21c9ff=>_0x21c9ff[_0x4f9333(0xbfd)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x4f9333(0xbfd)](/\r\n?/g,'\x0a'),_0x229fd7=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x266370=_0x1c8aa3=>{const _0x4d0921=_0x4f9333;let _0x3dd1f3=_0x1c8aa3[_0x4d0921(0xd92)]();const _0xb484d2=[_0x4d0921(0x410),_0x4d0921(0x59b),_0x4d0921(0xc55),_0x4d0921(0x9dd),_0x4d0921(0x8e9),_0x4d0921(0x5d0),_0x4d0921(0xa40),'div','leq',_0x4d0921(0xd13),'le','ge','neq','pm',_0x4d0921(0x5f4),_0x4d0921(0xd50),_0x4d0921(0x954),_0x4d0921(0x508),_0x4d0921(0xaef),'ln',_0x4d0921(0x816),_0x4d0921(0x919),_0x4d0921(0x8b0),_0x4d0921(0x1cf),_0x4d0921(0xce0),'overline',_0x4d0921(0x5a8),'circ',_0x4d0921(0x722)];_0xb484d2[_0x4d0921(0x215)](_0x9e3ec8=>{const _0xe568c6=_0x4d0921;_0x3dd1f3=_0x3dd1f3[_0xe568c6(0xbfd)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x9e3ec8+'\x5cb','g'),(_0x169f59,_0x4e6f24)=>_0x4e6f24+'\x5c'+_0x9e3ec8);});const _0x92b3f7=[[/×/g,_0x4d0921(0x85b)],[/·/g,_0x4d0921(0x4e4)],[/÷/g,_0x4d0921(0xd11)],[/≤/g,_0x4d0921(0xd61)],[/≥/g,_0x4d0921(0xbbe)],[/≠/g,'\x5cneq'],[/±/g,'\x5cpm'],[/∑/g,_0x4d0921(0xa8f)],[/−/g,'-']];return _0x92b3f7['forEach'](([_0x2d6e65,_0x3d37d0])=>{const _0x351444=_0x4d0921;_0x3dd1f3=_0x3dd1f3[_0x351444(0xbfd)](_0x2d6e65,_0x3d37d0);}),_0x3dd1f3=_0x3dd1f3[_0x4d0921(0xbfd)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x3dd1f3=_0x3dd1f3[_0x4d0921(0xbfd)](/(\d+)\s*%/g,_0x4d0921(0x833)),_0x3dd1f3;},_0x202029=_0x3b71ab=>{const _0x35b8f8=_0x4f9333;if(/\$|\\\(|\\\[/[_0x35b8f8(0x29f)](_0x3b71ab))return _0x3b71ab;if(!_0x229fd7[_0x35b8f8(0x29f)](_0x3b71ab))return _0x3b71ab;const _0x277180=_0x3b71ab['match'](/^\s*/)[0x0],_0x337359=_0x3b71ab[_0x35b8f8(0x1bf)](/\s*$/)[0x0],_0x112b25=_0x3b71ab[_0x35b8f8(0xd92)]();return _0x277180+'$'+_0x266370(_0x112b25)+'$'+_0x337359;};_0xb0b6a6['forEach'](_0xb7c29c=>{const _0x4a3684=_0x4f9333,_0x26b75a=_0x54d2ac(_0xb7c29c);let _0x40b927=_0x14d10c(_0x26b75a);_0x40b927=_0x40b927[_0x4a3684(0xbfd)](/\$([^$]*?)\$/g,(_0x2f13c7,_0x3a56c1)=>'$'+_0x266370(_0x3a56c1)+'$');const _0xf870d1=_0x40b927['split'](/(\s+)/),_0x4b8a6c=_0xf870d1[_0x4a3684(0xaa7)](_0xc168a=>{const _0x3c8fc9=_0x4a3684;if(/\s+/[_0x3c8fc9(0x29f)](_0xc168a))return _0xc168a;return _0x202029(_0xc168a);});_0x40b927=_0x4b8a6c[_0x4a3684(0x51a)](''),_0x40b927!==_0x26b75a&&(_0x5e2021(_0xb7c29c,_0x40b927),_0x406a54++);});if(_0x406a54>0x0){showMessage(_0x4f9333(0x886)+_0x406a54+_0x4f9333(0x670));try{window[_0x4f9333(0x609)]&&MathJax[_0x4f9333(0x461)]&&MathJax['typesetPromise']([_0xe7a7cd]);}catch(_0x4f9be1){console[_0x4f9333(0x90c)]('MathJax\x20re-render\x20failed:',_0x4f9be1);}}else showMessage(_0x4f9333(0x9e7));}function handleAutoFixLatex(){const _0x5e7e75=_0xe56031,_0x272810=document['getElementById'](_0x5e7e75(0x487))||document,_0x407e77=_0x272810['querySelectorAll']('textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li');let _0x180da1=0x0;const _0x2a2214=_0x575320=>'value'in _0x575320?String(_0x575320[_0x5e7e75(0x9ef)]):_0x575320[_0x5e7e75(0x869)]!==undefined?_0x575320[_0x5e7e75(0x869)]:_0x575320['textContent']||'',_0xcd2fa7=(_0x516eae,_0x1f6210)=>{const _0x265ea0=_0x5e7e75;if(_0x265ea0(0x9ef)in _0x516eae){_0x516eae[_0x265ea0(0x9ef)]=_0x1f6210;return;}if(_0x516eae[_0x265ea0(0xd4c)]&&_0x516eae[_0x265ea0(0xd4c)](_0x265ea0(0x29e)))return;if(_0x516eae[_0x265ea0(0x869)]!==undefined)_0x516eae['innerText']=_0x1f6210;else _0x516eae[_0x265ea0(0x25c)]=_0x1f6210;},_0x2ec921=_0x3cfe22=>_0x3cfe22[_0x5e7e75(0xbfd)](/\u00A0/g,'\x20')[_0x5e7e75(0xbfd)](/\u200B/g,'')[_0x5e7e75(0xbfd)](/\r\n?/g,'\x0a'),_0x50e142=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x19d45a=_0x477c17=>{const _0x227044=_0x5e7e75;let _0x237d72=_0x477c17['trim']();_0x237d72=_0x237d72[_0x227044(0xbfd)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x227044(0xa7a)),_0x237d72=_0x237d72['replace'](/\bfrac(\d)(\d)/g,_0x227044(0xa7a));const _0x401570=[_0x227044(0x410),_0x227044(0x9dd),_0x227044(0x5d0),'cdot',_0x227044(0xc53),_0x227044(0xd86),_0x227044(0xd13),_0x227044(0x27e),'pm','sin',_0x227044(0x954),_0x227044(0x508),_0x227044(0xaef),'ln'];_0x401570[_0x227044(0x215)](_0x489aee=>{const _0x42215c=_0x227044;_0x237d72=_0x237d72['replace'](new RegExp(_0x42215c(0xcde)+_0x489aee+'\x5cb','g'),(_0x3686ff,_0x149687)=>_0x149687+'\x5c'+_0x489aee);});const _0x2d5307=[[/×/g,_0x227044(0x85b)],[/·/g,_0x227044(0x4e4)],[/÷/g,_0x227044(0xd11)],[/≤/g,_0x227044(0xd61)],[/≥/g,_0x227044(0xbbe)],[/≠/g,_0x227044(0xb9c)],[/±/g,_0x227044(0x82d)]];return _0x2d5307[_0x227044(0x215)](([_0x273daf,_0x2f8874])=>{_0x237d72=_0x237d72['replace'](_0x273daf,_0x2f8874);}),_0x237d72;},_0x39506c=_0x176d12=>{const _0x2ea82e=_0x5e7e75;if(/\$|\\\(|\\\[/[_0x2ea82e(0x29f)](_0x176d12))return _0x176d12;if(!_0x50e142[_0x2ea82e(0x29f)](_0x176d12))return _0x176d12;const _0x4aa85d=_0x176d12[_0x2ea82e(0x1bf)](/^\s*/)[0x0],_0x4ebdf6=_0x176d12[_0x2ea82e(0x1bf)](/\s*$/)[0x0],_0x3ab995=_0x176d12[_0x2ea82e(0xd92)]();return _0x4aa85d+'$'+_0x19d45a(_0x3ab995)+'$'+_0x4ebdf6;};_0x407e77[_0x5e7e75(0x215)](_0x3da898=>{const _0x10ea78=_0x5e7e75,_0xff8f8f=_0x2a2214(_0x3da898);let _0x37c725=_0x2ec921(_0xff8f8f);_0x37c725=_0x37c725[_0x10ea78(0xbfd)](/\$([^$]*?)\$/g,(_0x14a4aa,_0x40118e)=>'$'+_0x19d45a(_0x40118e)+'$');const _0xb6e10c=_0x37c725[_0x10ea78(0x580)](/(\s+)/),_0x49061f=_0xb6e10c[_0x10ea78(0xaa7)](_0x501d6b=>/\s+/[_0x10ea78(0x29f)](_0x501d6b)?_0x501d6b:_0x39506c(_0x501d6b));_0x37c725=_0x49061f[_0x10ea78(0x51a)](''),_0x37c725!==_0xff8f8f&&(_0xcd2fa7(_0x3da898,_0x37c725),_0x180da1++);});if(_0x180da1>0x0){showMessage(_0x5e7e75(0x90d)+_0x180da1+_0x5e7e75(0x585));try{if(window['MathJax']&&MathJax[_0x5e7e75(0x461)])MathJax[_0x5e7e75(0x461)]();}catch(_0x5e2b77){}}else showMessage(_0x5e7e75(0xb46));}async function listenForCustomMathTopics(){const _0x3ea5ca=_0xe56031,_0x1c405b=collection(db,_0x3ea5ca(0x637)+appId+'/public/data/customMathTopics');onSnapshot(_0x1c405b,_0x38f802=>{const _0x45c6e3=_0x3ea5ca;customMathTopics=_0x38f802['docs'][_0x45c6e3(0xaa7)](_0x36ac50=>({'id':_0x36ac50['id'],..._0x36ac50[_0x45c6e3(0x610)]()})),renderTopicCheckboxes();},_0x5a0262=>{const _0x48b8c8=_0x3ea5ca;console[_0x48b8c8(0x90c)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x5a0262);});}function handleSelectAllTopics(){const _0x3ed073=_0xe56031,_0x63236f=document[_0x3ed073(0x581)]('math-topics-checkbox-container'),_0x42e197=_0x63236f[_0x3ed073(0x30c)](_0x3ed073(0x644));_0x42e197[_0x3ed073(0x215)](_0x42c134=>{const _0x595a22=_0x3ed073;_0x42c134[_0x595a22(0x1f1)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x1e6ed4=_0xe56031,_0x3e4727=document['getElementById'](_0x1e6ed4(0x485)),_0x59864f=_0x3e4727[_0x1e6ed4(0x30c)](_0x1e6ed4(0x644));_0x59864f[_0x1e6ed4(0x215)](_0x2d4964=>{const _0xa6d62f=_0x1e6ed4;_0x2d4964[_0xa6d62f(0x1f1)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x5a2d2b){const _0x5157e2=_0xe56031;if(!_0x5a2d2b)return;try{const _0x3c8a49=doc(db,_0x5157e2(0x637)+appId+_0x5157e2(0x490),_0x5a2d2b);await deleteDoc(_0x3c8a49),showMessage('ลบหัวข้อสำเร็จ');}catch(_0xfaecd6){console[_0x5157e2(0x90c)]('Error\x20deleting\x20custom\x20topic:',_0xfaecd6),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x5ec616=_0xe56031,_0x9b4362=document['getElementById'](_0x5ec616(0x9a5)),_0x1b476f=_0x9b4362[_0x5ec616(0x9ef)][_0x5ec616(0xd92)]();if(!_0x1b476f){showMessage(_0x5ec616(0x26a));return;}if(!userId){showMessage(_0x5ec616(0xa7b));return;}try{const _0x4e9e0d=collection(db,_0x5ec616(0x637)+appId+_0x5ec616(0x490));await addDoc(_0x4e9e0d,{'name':_0x1b476f,'createdAt':serverTimestamp()}),_0x9b4362[_0x5ec616(0x9ef)]='',showMessage(_0x5ec616(0x46e)+_0x1b476f+'\x22\x20สำเร็จ');}catch(_0x4dd0db){console[_0x5ec616(0x90c)](_0x5ec616(0xd30),_0x4dd0db),showMessage(_0x5ec616(0x686));}}async function handleUpdateOldQuizzes(){const _0x5bc54b=_0xe56031;showConfirmation(_0x5bc54b(0xa63),async()=>{const _0x8e8d31=_0x5bc54b,_0x5e8b17=document['getElementById'](_0x8e8d31(0x86b)),_0x2dabd6=document[_0x8e8d31(0x581)]('loader-text'),_0x1e3ded=_0x2dabd6[_0x8e8d31(0x25c)];_0x5e8b17[_0x8e8d31(0x3f5)][_0x8e8d31(0xbb6)](_0x8e8d31(0xa91)),_0x2dabd6['textContent']=_0x8e8d31(0x859);try{const _0x29b2c5=collection(db,_0x8e8d31(0x637)+appId+_0x8e8d31(0x6cd)),_0x40fe5e=await getDocs(_0x29b2c5);if(_0x40fe5e['empty']){showMessage(_0x8e8d31(0x3e6));return;}const _0x69667=writeBatch(db);let _0x387df5=0x0;_0x40fe5e[_0x8e8d31(0x215)](_0x15653d=>{const _0x474d7f=_0x8e8d31,_0x47584b=_0x15653d['data'](),_0x4c67ca=_0x15653d['id'];if(_0x47584b['questions']&&_0x47584b[_0x474d7f(0xafb)][_0x474d7f(0xb5d)]>0x0&&!_0x47584b[_0x474d7f(0xafb)][0x0][_0x474d7f(0x788)]('id')){console['log'](_0x474d7f(0x4d6)+_0x4c67ca+'\x20('+_0x47584b[_0x474d7f(0x5c5)]+')'),_0x387df5++;const _0x5cb4e9=_0x47584b[_0x474d7f(0xafb)][_0x474d7f(0xaa7)]((_0x2ec97b,_0x58e1d0)=>{return{..._0x2ec97b,'id':_0x2ec97b['id']||'q_'+Date['now']()+'_'+_0x4c67ca+'_'+_0x58e1d0};}),_0x5a50cf=doc(db,_0x474d7f(0x637)+appId+_0x474d7f(0x6cd),_0x4c67ca);_0x69667[_0x474d7f(0x77d)](_0x5a50cf,{'questions':_0x5cb4e9});}}),_0x387df5>0x0?(_0x2dabd6[_0x8e8d31(0x25c)]=_0x8e8d31(0x777)+_0x387df5+_0x8e8d31(0x435),await _0x69667[_0x8e8d31(0x456)](),showMessage(_0x8e8d31(0x6a4)+_0x387df5+_0x8e8d31(0x988))):showMessage(_0x8e8d31(0x563));}catch(_0x589c36){console[_0x8e8d31(0x90c)](_0x8e8d31(0x525),_0x589c36),showMessage(_0x8e8d31(0xc2e)+_0x589c36[_0x8e8d31(0x76b)]);}finally{_0x5e8b17['classList']['add'](_0x8e8d31(0xa91)),_0x2dabd6[_0x8e8d31(0x25c)]=_0x1e3ded;}});}async function handleBulkUpdateQuizSettings(){const _0x5f3fc2=_0xe56031,_0x3ac4b9={'shuffle':document[_0x5f3fc2(0x581)](_0x5f3fc2(0x794))[_0x5f3fc2(0x9ef)],'resultsDisplay':document['getElementById'](_0x5f3fc2(0x33f))[_0x5f3fc2(0x9ef)],'loopUntilPass':document['getElementById'](_0x5f3fc2(0x398))[_0x5f3fc2(0x1f1)],'isConfidenceScoringEnabled':document[_0x5f3fc2(0x581)](_0x5f3fc2(0x651))[_0x5f3fc2(0x1f1)],'confidenceMode':document[_0x5f3fc2(0x581)](_0x5f3fc2(0xc99))['value']};try{showMessage(_0x5f3fc2(0xbc2));const _0x113e2b=await getDocs(collection(db,_0x5f3fc2(0x637)+appId+_0x5f3fc2(0x6cd))),_0x19b4a1=_0x113e2b['docs'][_0x5f3fc2(0xaa7)](_0x3747b5=>({'id':_0x3747b5['id'],'data':_0x3747b5[_0x5f3fc2(0x610)]()})),_0x557d7a=_0x19b4a1[_0x5f3fc2(0xb5d)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0x557d7a+'\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x4719f5=_0x5f3fc2,_0x598aef=document[_0x4719f5(0x581)](_0x4719f5(0x504));_0x598aef['disabled']=!![],_0x598aef[_0x4719f5(0x81c)]=_0x4719f5(0x9a9);try{const _0x329eca=writeBatch(db);_0x19b4a1[_0x4719f5(0x215)](_0x287067=>{const _0x536a3e=_0x4719f5,_0x366625=doc(db,'artifacts/'+appId+_0x536a3e(0x6cd),_0x287067['id']),_0x1da8f3={..._0x287067[_0x536a3e(0x610)]['settings']||{},..._0x3ac4b9};_0x329eca[_0x536a3e(0x77d)](_0x366625,{'settings':_0x1da8f3});}),await _0x329eca[_0x4719f5(0x456)](),document[_0x4719f5(0x581)](_0x4719f5(0xc3a))['classList'][_0x4719f5(0xd54)](_0x4719f5(0xa91)),showMessage(_0x4719f5(0x3e7)+_0x557d7a+_0x4719f5(0x44e));}catch(_0x3f2dba){console[_0x4719f5(0x90c)](_0x4719f5(0xafe),_0x3f2dba),showMessage(_0x4719f5(0xd10));}finally{_0x598aef[_0x4719f5(0x5ba)]=![],_0x598aef[_0x4719f5(0x81c)]=_0x4719f5(0xc9e);}});}catch(_0x744cf2){console[_0x5f3fc2(0x90c)](_0x5f3fc2(0xd57),_0x744cf2),showMessage('เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด');}}async function handleSaveProjectName(){const _0x4ef506=_0xe56031,_0x106188=document['getElementById'](_0x4ef506(0x5d1)),_0x3f4ba0=document['getElementById'](_0x4ef506(0x61c)),_0x33875e=_0x106188[_0x4ef506(0x25c)][_0x4ef506(0xd92)]();if(!_0x33875e||!currentProjectId){showMessage(_0x4ef506(0x9e9)),_0x106188['textContent']=currentProjectData[_0x4ef506(0xb3f)];return;}_0x3f4ba0[_0x4ef506(0x5ba)]=!![],_0x3f4ba0[_0x4ef506(0x81c)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0xb31a7f=doc(db,_0x4ef506(0x637)+appId+_0x4ef506(0x7fe),currentProjectId);await updateDoc(_0xb31a7f,{'projectName':_0x33875e}),currentProjectData&&(currentProjectData['projectName']=_0x33875e),showMessage(_0x4ef506(0xc28));}catch(_0x1d0a83){console[_0x4ef506(0x90c)](_0x4ef506(0x554),_0x1d0a83),showMessage('เกิดข้อผิดพลาดในการบันทึก'),_0x106188[_0x4ef506(0x25c)]=currentProjectData[_0x4ef506(0xb3f)];}finally{_0x3f4ba0['classList'][_0x4ef506(0xd54)]('hidden'),_0x3f4ba0['disabled']=![],_0x3f4ba0['innerHTML']=_0x4ef506(0x4ca);}}function handleGeneratePracticeTest(_0x1fbd37,_0x6ee8e6){const _0xe55648=_0xe56031,_0x19c38d=document[_0xe55648(0x581)](_0xe55648(0xbb2)),_0x429b83=document[_0xe55648(0x581)](_0xe55648(0xaa8)),_0x1b8668=document[_0xe55648(0x581)]('lesson-loader'),_0x590ef1=document['getElementById']('lesson-sections-container');_0x429b83[_0xe55648(0x25c)]=_0xe55648(0x59f)+_0x1fbd37,_0x590ef1[_0xe55648(0x3f5)][_0xe55648(0xd54)]('hidden'),_0x1b8668['classList'][_0xe55648(0xbb6)](_0xe55648(0xa91)),_0x19c38d[_0xe55648(0x3f5)]['remove'](_0xe55648(0xa91)),generatePracticeTest(_0x1fbd37,_0x6ee8e6)['catch'](_0x248262=>{const _0x35b6e8=_0xe55648;console[_0x35b6e8(0x90c)]('Failed\x20to\x20generate\x20practice\x20test:',_0x248262),showMessage(_0x35b6e8(0x1cb)),_0x19c38d[_0x35b6e8(0x3f5)][_0x35b6e8(0xd54)](_0x35b6e8(0xa91));});}async function generatePracticeTest(_0x599645,_0x2c7540){const _0x4f3f61=_0xe56031;[_0x4f3f61(0xce7),'memoryContent','applicationContent',_0x4f3f61(0x4cd)][_0x4f3f61(0x215)](_0x191d78=>{const _0x532569=_0x4f3f61,_0x59a4d5=document[_0x532569(0x581)](_0x191d78)[_0x532569(0xac9)];_0x59a4d5&&(_0x59a4d5[_0x532569(0x9fb)]['display']=_0x532569(0xbf7));});try{const _0x22e0dc=_0x4f3f61(0x4d1),_0x11824a=_0x4f3f61(0x5cf)+_0x2c7540+'\x27\x20ในหัวข้อ\x20\x27'+_0x599645+_0x4f3f61(0x333),_0x4191f6=await callGemini(_0x11824a,!![]),_0x23c5f0=document[_0x4f3f61(0x581)](_0x4f3f61(0xaa8)),_0x14333=document[_0x4f3f61(0x581)](_0x4f3f61(0xcbf)),_0x4dd883=document[_0x4f3f61(0x581)](_0x4f3f61(0x94e)),_0xbd0c42=document[_0x4f3f61(0x581)](_0x4f3f61(0xb26))[_0x4f3f61(0xac9)];_0x23c5f0[_0x4f3f61(0x869)]=_0x4f3f61(0x7b4)+_0x599645[_0x4f3f61(0xbfd)](/•\s/g,'')+'\x20(สำหรับ\x20'+_0x2c7540+')',currentApplicationData=JSON[_0x4f3f61(0x559)](_0x4191f6);const _0x5d371f=document[_0x4f3f61(0x581)](_0x4f3f61(0xb26));_0x5d371f[_0x4f3f61(0x81c)]=currentApplicationData['map']((_0x49c3b7,_0x50501f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x50501f+0x1)+'.\x20'+marked[_0x4f3f61(0xc7e)](_0x49c3b7[_0x4f3f61(0x2c3)])+_0x4f3f61(0xb1f)+_0x50501f+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x49c3b7[_0x4f3f61(0x578)][_0x4f3f61(0xaa7)]((_0x6de75e,_0x5c8466)=>_0x4f3f61(0x4a9)+_0x50501f+',\x20'+_0x5c8466+_0x4f3f61(0x613)+String[_0x4f3f61(0x91f)](0x61+_0x5c8466)+'.\x20'+marked[_0x4f3f61(0xc7e)](_0x6de75e)+_0x4f3f61(0x666))[_0x4f3f61(0x51a)]('')+_0x4f3f61(0x870))[_0x4f3f61(0x51a)](''),window['MathJax']&&MathJax[_0x4f3f61(0x461)]([_0x5d371f]),_0xbd0c42&&(_0xbd0c42[_0x4f3f61(0x9fb)]['display']=_0x4f3f61(0xc0e)),_0x14333['classList'][_0x4f3f61(0xd54)](_0x4f3f61(0xa91)),_0x4dd883[_0x4f3f61(0x3f5)][_0x4f3f61(0xbb6)](_0x4f3f61(0xa91));}catch(_0x170cdb){console[_0x4f3f61(0x90c)](_0x170cdb);throw _0x170cdb;}}async function callGemini(_0x214f72,_0x146da4=![]){const _0x4e0e7b=_0xe56031,_0x12d6c7=_0x4e0e7b(0x448),_0x2107c2=_0x4e0e7b(0x844)+_0x12d6c7,_0x295cb8={'contents':[{'parts':[{'text':_0x214f72}]}]};_0x146da4&&(_0x295cb8[_0x4e0e7b(0xa11)]={'responseMimeType':'application/json'},_0x214f72['includes'](_0x4e0e7b(0x5c4))?_0x295cb8[_0x4e0e7b(0xa11)][_0x4e0e7b(0x7dc)]={'type':'OBJECT','properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':'ARRAY','items':{'type':_0x4e0e7b(0x965),'properties':{'sara':{'type':_0x4e0e7b(0xa75)},'mainTopics':{'type':_0x4e0e7b(0xca9),'items':{'type':_0x4e0e7b(0x965),'properties':{'topicName':{'type':_0x4e0e7b(0xa75)},'subTopics':{'type':_0x4e0e7b(0xca9),'items':{'type':'STRING'}}},'required':[_0x4e0e7b(0xbd7),_0x4e0e7b(0x3db)]}}},'required':[_0x4e0e7b(0x22f),_0x4e0e7b(0x884)]}}},'required':['gradeLevel',_0x4e0e7b(0x3f3)]}:_0x295cb8['generationConfig'][_0x4e0e7b(0x7dc)]={'type':_0x4e0e7b(0xca9),'items':{'type':_0x4e0e7b(0x965),'properties':{'question':{'type':_0x4e0e7b(0xa75)},'options':{'type':_0x4e0e7b(0xca9),'items':{'type':_0x4e0e7b(0xa75)}},'answer':{'type':_0x4e0e7b(0x300)}},'required':[_0x4e0e7b(0x2c3),_0x4e0e7b(0x578),_0x4e0e7b(0xc0d)]}});try{const _0x6e72d1=await fetch(_0x2107c2,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x4e0e7b(0x35f)](_0x295cb8)});if(!_0x6e72d1['ok']){const _0x8f8787=await _0x6e72d1[_0x4e0e7b(0x8e9)]();console[_0x4e0e7b(0x90c)](_0x4e0e7b(0x9cc),_0x8f8787);throw new Error(_0x4e0e7b(0x3ad)+_0x6e72d1['status']);}const _0x447c4a=await _0x6e72d1['json']();if(_0x447c4a[_0x4e0e7b(0xd2d)]&&_0x447c4a['candidates'][0x0][_0x4e0e7b(0x513)]&&_0x447c4a[_0x4e0e7b(0xd2d)][0x0]['content']['parts'][0x0])return _0x447c4a[_0x4e0e7b(0xd2d)][0x0][_0x4e0e7b(0x513)][_0x4e0e7b(0xb45)][0x0][_0x4e0e7b(0x8e9)];else{console['error'](_0x4e0e7b(0x696),_0x447c4a);if(_0x447c4a[_0x4e0e7b(0xd2d)]&&_0x447c4a[_0x4e0e7b(0xd2d)][0x0][_0x4e0e7b(0x3ca)]===_0x4e0e7b(0x83d))return JSON[_0x4e0e7b(0x35f)]({'error':_0x4e0e7b(0x5ed)});throw new Error(_0x4e0e7b(0x709));}}catch(_0x4eff9e){console[_0x4e0e7b(0x90c)](_0x4e0e7b(0xca8),_0x4eff9e);throw _0x4eff9e;}}async function generateLesson(_0x481dc5=null,_0x36b218=null){const _0xb94112=_0xe56031,_0x103d81=_0x481dc5,_0x217eeb=_0x36b218||_0xb94112(0x51f),_0x483cce=document[_0xb94112(0x581)](_0xb94112(0xcbf)),_0x5ea47a=document[_0xb94112(0x581)]('lesson-loader-text');_0x5ea47a[_0xb94112(0x25c)]=_0xb94112(0x9e0)+_0x103d81+_0xb94112(0x364);try{let _0x48f741=[];const _0x1a32af=document['getElementById'](_0xb94112(0x430))?.[_0xb94112(0x9ef)]['trim']();if(_0x1a32af)try{_0x5ea47a[_0xb94112(0x25c)]='กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...';const _0x23ec4f=await fetchFileFromUrl(_0x1a32af,_0xb94112(0x843)),_0x206f14=await new Promise((_0x1eb549,_0x39cc37)=>{const _0x3d65a8=_0xb94112,_0x469fdd=new FileReader();_0x469fdd[_0x3d65a8(0xc05)](_0x23ec4f),_0x469fdd[_0x3d65a8(0xad2)]=()=>_0x1eb549(_0x469fdd[_0x3d65a8(0x45b)]['split'](',')[0x1]),_0x469fdd[_0x3d65a8(0x4d3)]=_0x39cc37;});_0x48f741[_0xb94112(0x632)]({'inlineData':{'mimeType':_0x23ec4f[_0xb94112(0x852)],'data':_0x206f14}});}catch(_0x35da5){console[_0xb94112(0x90c)](_0xb94112(0xb07),_0x35da5),showMessage(_0xb94112(0xc61));}const _0x19c9e=_0xb94112(0x50b)+_0x103d81+_0xb94112(0x84e)+_0x103d81+_0xb94112(0x55b);_0x5ea47a[_0xb94112(0x25c)]='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x103d81+_0xb94112(0x364);const _0x163c0e=_0xb94112(0xd8b)+_0x217eeb+_0xb94112(0x8f2)+_0x103d81+_0xb94112(0xaeb)+_0x19c9e+_0xb94112(0xacd),_0xd9f2d2='สำหรับหัวข้อ\x20\x27'+_0x103d81+_0xb94112(0x515)+_0x217eeb+'\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20'+_0x19c9e+'.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX',_0x3bc1c5=_0xb94112(0x5cf)+_0x217eeb+_0xb94112(0x8f2)+_0x103d81+_0xb94112(0x220)+_0x19c9e+_0xb94112(0x37e),_0x19c6a1='สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27'+_0x103d81+_0xb94112(0xd14)+_0x217eeb+_0xb94112(0x1fd)+_0x19c9e+'.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ',_0x35f48c={'type':_0xb94112(0xca9),'items':{'type':_0xb94112(0x965),'properties':{'question':{'type':'STRING'},'options':{'type':_0xb94112(0xca9),'items':{'type':'STRING'}},'answer':{'type':_0xb94112(0x300)}},'required':[_0xb94112(0x2c3),_0xb94112(0x578),_0xb94112(0xc0d)]}},[_0x588529,_0x1b768f,_0x492150,_0x44577e]=await Promise[_0xb94112(0x5bf)]([handleApiCall([{'text':_0x163c0e},..._0x48f741],_0xb94112(0x62a),null,null,![]),handleApiCall([{'text':_0xd9f2d2},..._0x48f741],_0xb94112(0x62a),null,null,![]),handleApiCall([{'text':_0x3bc1c5},..._0x48f741],_0xb94112(0x62a),_0x35f48c,null,![]),handleApiCall([{'text':_0x19c6a1},..._0x48f741],_0xb94112(0x62a),null,null,![])]),_0x384b8f=JSON[_0xb94112(0x35f)](_0x492150||[]),_0x3d9e3f=document['getElementById'](_0xb94112(0xaa8)),_0x1e8789=document['getElementById'](_0xb94112(0x94e));_0x3d9e3f[_0xb94112(0x869)]=_0xb94112(0xd6a)+_0x103d81['replace'](/•\\s/g,'')+_0xb94112(0x7a1)+_0x217eeb+')',['pointContent',_0xb94112(0x353),_0xb94112(0x4cd)]['forEach'](_0x495e9e=>{const _0x334293=_0xb94112;document['getElementById'](_0x495e9e)[_0x334293(0x81c)]='';}),document[_0xb94112(0x581)]('pointContent')[_0xb94112(0x81c)]=_0x588529?marked[_0xb94112(0x559)](_0x588529):_0xb94112(0x5b5),document[_0xb94112(0x581)](_0xb94112(0x353))[_0xb94112(0x81c)]=_0x1b768f?marked['parse'](_0x1b768f):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document[_0xb94112(0x581)](_0xb94112(0x4cd))['innerHTML']=_0x44577e?marked['parse'](_0x44577e):_0xb94112(0x5b5),currentApplicationData=JSON['parse'](_0x384b8f);const _0x4a6e2a=document[_0xb94112(0x581)](_0xb94112(0xb26));_0x4a6e2a[_0xb94112(0x81c)]=(currentApplicationData||[])['map']((_0xc35a3,_0x409814)=>_0xb94112(0x42d)+(_0x409814+0x1)+'.\x20'+marked[_0xb94112(0xc7e)](_0xc35a3['question']||'')+_0xb94112(0xb1f)+_0x409814+_0xb94112(0xc47)+(_0xc35a3[_0xb94112(0x578)]||[])[_0xb94112(0xaa7)]((_0x5e545e,_0x55fc4a)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x409814+',\x20'+_0x55fc4a+_0xb94112(0x613)+String[_0xb94112(0x91f)](0x61+_0x55fc4a)+'.\x20'+marked[_0xb94112(0xc7e)](_0x5e545e||'')+_0xb94112(0x666))[_0xb94112(0x51a)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0xb94112(0x51a)]('')||_0xb94112(0x440),window['MathJax']&&MathJax[_0xb94112(0x461)]([_0x1e8789]),_0x483cce[_0xb94112(0x3f5)][_0xb94112(0xd54)]('hidden'),_0x1e8789[_0xb94112(0x3f5)][_0xb94112(0xbb6)](_0xb94112(0xa91));}catch(_0x4834cb){console[_0xb94112(0x90c)](_0x4834cb);throw _0x4834cb;}}function checkAnswer(_0x534f3a,_0x1d07cc){const _0x2ee0cd=_0xe56031,_0x152f69=currentApplicationData[_0x534f3a],_0x5be665=document[_0x2ee0cd(0x581)]('q'+_0x534f3a+_0x2ee0cd(0x2ee)),_0x5c308f=_0x5be665[_0x2ee0cd(0x4f4)](_0x2ee0cd(0x87c));for(let _0x3fc9fd of _0x5c308f){_0x3fc9fd['disabled']=!![];}_0x1d07cc===_0x152f69[_0x2ee0cd(0xc0d)]?_0x5c308f[_0x1d07cc][_0x2ee0cd(0x3f5)][_0x2ee0cd(0xd54)](_0x2ee0cd(0x390)):(_0x5c308f[_0x1d07cc][_0x2ee0cd(0x3f5)][_0x2ee0cd(0xd54)](_0x2ee0cd(0x674)),_0x5c308f[_0x152f69[_0x2ee0cd(0xc0d)]][_0x2ee0cd(0x3f5)][_0x2ee0cd(0xd54)](_0x2ee0cd(0x390)));}window[_0xe56031(0xb10)]=handleGenerateAndShowLesson,window[_0xe56031(0x57c)]=checkAnswer,window[_0xe56031(0xbc5)]=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x10b4b1=_0xe56031;try{const _0x3da33a=initializeApp(firebaseConfig);db=getFirestore(_0x3da33a),auth=getAuth(_0x3da33a),setupAuthListener(),setupEventListeners(),showView(_0x10b4b1(0x39a)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x537b79){console[_0x10b4b1(0x90c)](_0x10b4b1(0x9ff),_0x537b79),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x18c4bc=_0xe56031,_0xea9d07=document['getElementById'](_0x18c4bc(0xab7));if(!_0xea9d07)return;const _0x24578a=document[_0x18c4bc(0x581)]('verify-answers-editor-btn');_0x24578a[_0x18c4bc(0x5ba)]=!![],_0x24578a['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x4f9f44=_0xea9d07[_0x18c4bc(0x30c)](_0x18c4bc(0x3c6)),_0x40f21e=Array['from'](_0x4f9f44)['map']((_0xf4aa9c,_0x8797de)=>{const _0x275193=_0x18c4bc,_0x2241c9=_0xf4aa9c['dataset'][_0x275193(0xd45)],_0x340a03=_0xf4aa9c[_0x275193(0xd4c)](_0x275193(0x642))[_0x275193(0x9ef)];let _0x5776d1=null,_0x5a5540='';switch(_0x2241c9){case'multiple_choice':const _0x2c60c8=_0xf4aa9c[_0x275193(0x30c)](_0x275193(0x270));_0x5776d1=Array[_0x275193(0x454)](_0x2c60c8)[_0x275193(0xaa7)](_0x5bb357=>_0x5bb357[_0x275193(0x9ef)]);const _0x1a285a=_0xf4aa9c['querySelector']('input[type=\x22radio\x22]:checked');_0x1a285a&&(_0x5a5540=_0x5776d1[parseInt(_0x1a285a[_0x275193(0x9ef)])]);break;case'short_answer':_0x5776d1=[],_0x5a5540=_0xf4aa9c[_0x275193(0xd4c)]('.ideal-answer-input')[_0x275193(0x9ef)];break;case'true_false':_0x5776d1=[_0x275193(0x975),'false'];const _0x945d81=_0xf4aa9c[_0x275193(0xd4c)](_0x275193(0x96e));_0x5a5540=_0x945d81?_0x945d81[_0x275193(0x9ef)]:'';break;case _0x275193(0xaa0):_0x5776d1=[],_0x5a5540=_0xf4aa9c[_0x275193(0xd4c)]('.correct-response-input')[_0x275193(0x9ef)];break;}return{'question':_0x340a03,'options':_0x5776d1,'proposedAnswer':_0x5a5540};}),_0x246705=_0x18c4bc(0xd53)+JSON[_0x18c4bc(0x35f)](_0x40f21e)+_0x18c4bc(0xd65),_0x46b679={'type':'ARRAY','items':{'type':_0x18c4bc(0x965),'properties':{'questionIndex':{'type':_0x18c4bc(0x300)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x18c4bc(0xa75)},'correctOptionExists':{'type':_0x18c4bc(0x539)},'suggestedAnswer':{'type':_0x18c4bc(0xa75)},'newOptionsPayload':{'type':'OBJECT','properties':{'newOptions':{'type':_0x18c4bc(0xca9),'items':{'type':_0x18c4bc(0xa75)}},'newCorrectIndex':{'type':_0x18c4bc(0x300)}}}},'required':[_0x18c4bc(0x964),_0x18c4bc(0x783),'justification']}},_0x1b9168=await callAnalysisApi(_0x246705,{'type':'OBJECT','properties':{'result':_0x46b679},'required':[_0x18c4bc(0x45b)]});displayVerificationResultsInEditor(_0x1b9168[_0x18c4bc(0x45b)]);}catch(_0x297814){console[_0x18c4bc(0x90c)]('Error\x20verifying\x20answers\x20in\x20editor:',_0x297814),showMessage(_0x18c4bc(0xb17));}finally{_0x24578a['disabled']=![],_0x24578a[_0x18c4bc(0x81c)]=_0x18c4bc(0x1bb);}}function displayVerificationResultsInEditor(_0x38ede2){const _0x15fe39=_0xe56031;_0x38ede2[_0x15fe39(0x215)](_0x42cab6=>{const _0x323845=_0x15fe39,_0xf672d1=document['querySelector'](_0x323845(0x876)+_0x42cab6['questionIndex']+'\x22]');if(!_0xf672d1)return;const _0x47a430=_0xf672d1['querySelector']('.verification-result-editor');if(_0x47a430)_0x47a430[_0x323845(0xbb6)]();let _0x1953e6='';if(_0x42cab6[_0x323845(0x19a)]&&_0x42cab6[_0x323845(0x19a)][_0x323845(0xb27)]){const _0x2afb32=_0x42cab6[_0x323845(0x19a)]['newOptions'],_0x3fad7d=_0x42cab6[_0x323845(0x19a)]['newCorrectIndex'],_0x206349=_0xf672d1[_0x323845(0xada)][_0x323845(0xd45)];if(_0x206349===_0x323845(0x84f)){const _0x307b2f=_0xf672d1[_0x323845(0x30c)]('input[type=\x22text\x22]');_0x307b2f[_0x323845(0x215)]((_0x38219a,_0x175311)=>{const _0x599314=_0x323845;_0x2afb32[_0x175311]?_0x38219a[_0x599314(0x9ef)]=_0x2afb32[_0x175311]:_0x38219a[_0x599314(0x9ef)]=_0x599314(0x1e8);});const _0x4d7fd3=_0xf672d1[_0x323845(0xd4c)](_0x323845(0xb6d)+_0x3fad7d+'\x22]');_0x4d7fd3&&(_0x4d7fd3[_0x323845(0x1f1)]=!![]),_0x1953e6=_0x323845(0xd9f),_0xf672d1[_0x323845(0x3f5)]['add'](_0x323845(0x702),'transition-all',_0x323845(0xbcc)),setTimeout(()=>{const _0x4f92f7=_0x323845;_0xf672d1[_0x4f92f7(0x3f5)][_0x4f92f7(0xbb6)](_0x4f92f7(0x702));},0x9c4);}}else{if(!_0x42cab6[_0x323845(0x783)]&&_0x42cab6[_0x323845(0xce1)]){const _0x5ea034=_0x42cab6['suggestedAnswer']?_0x323845(0x5d6):'';_0x1953e6=_0x323845(0x474)+_0x5ea034+_0x323845(0x277)+_0x42cab6[_0x323845(0x30e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x42cab6['suggestedAnswer']?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x42cab6['suggestedAnswer']+'</p>':'')+_0x323845(0xc3c);const _0x57ff4d=_0xf672d1[_0x323845(0xada)][_0x323845(0xd45)],_0x2731f3=_0x2ff195=>{const _0x45ec37=_0x323845;if(!_0x2ff195)return;_0x2ff195[_0x45ec37(0x3f5)][_0x45ec37(0xd54)]('bg-green-200',_0x45ec37(0x8bb),_0x45ec37(0xbcc)),setTimeout(()=>{const _0x4ecac6=_0x45ec37;_0x2ff195['classList'][_0x4ecac6(0xbb6)](_0x4ecac6(0x682));},0x9c4);};if(_0x57ff4d===_0x323845(0x84f)){const _0x20447e=Array[_0x323845(0x454)](_0xf672d1[_0x323845(0x30c)](_0x323845(0x270))),_0x365bfe=_0x20447e[_0x323845(0x8cc)](_0x59b91b=>_0x59b91b[_0x323845(0x9ef)][_0x323845(0xd92)]()[_0x323845(0x7e9)]()===_0x42cab6['suggestedAnswer']['trim']()[_0x323845(0x7e9)]());if(_0x365bfe!==-0x1){const _0x27e72=_0xf672d1[_0x323845(0xd4c)](_0x323845(0xb6d)+_0x365bfe+'\x22]');_0x27e72&&(_0x27e72[_0x323845(0x1f1)]=!![],_0x2731f3(_0x27e72['closest'](_0x323845(0xc53))));}}else{if(_0x57ff4d==='short_answer'||_0x57ff4d===_0x323845(0xaa0)){const _0x321c47=_0xf672d1[_0x323845(0xd4c)](_0x323845(0xa15));_0x321c47&&(_0x321c47[_0x323845(0x9ef)]=_0x42cab6[_0x323845(0xce1)],_0x2731f3(_0x321c47));}else{if(_0x57ff4d===_0x323845(0xa12)){const _0x14d87c=_0x42cab6[_0x323845(0xce1)][_0x323845(0xd92)]()['toLowerCase'](),_0x17e018=_0xf672d1[_0x323845(0xd4c)]('input[type=\x22radio\x22][value=\x22'+_0x14d87c+'\x22]');_0x17e018&&(_0x17e018[_0x323845(0x1f1)]=!![],_0x2731f3(_0x17e018[_0x323845(0xd63)](_0x323845(0xc53))));}}}}else _0x42cab6['isCorrect']&&(_0x1953e6=_0x323845(0x6d0));}_0xf672d1[_0x323845(0xcaa)](_0x323845(0x9a1),_0x1953e6);}),showMessage(_0x15fe39(0xd8a));}async function handleVerifyAnswers(){const _0x1b9c23=_0xe56031;if(!currentQuizData||!currentQuizData[_0x1b9c23(0xafb)]){showMessage(_0x1b9c23(0xb79));return;}const _0x11f968=document['getElementById'](_0x1b9c23(0x7a0));_0x11f968[_0x1b9c23(0x5ba)]=!![],_0x11f968[_0x1b9c23(0x81c)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x381cfe=currentQuizData[_0x1b9c23(0xafb)][_0x1b9c23(0xaa7)]((_0x4e06c1,_0x5a761a)=>{const _0x315e4e=_0x1b9c23;let _0x264671='';const _0x28e483=_0x4e06c1[_0x315e4e(0xabf)]||currentQuizData[_0x315e4e(0xd7d)];switch(_0x28e483){case _0x315e4e(0x84f):_0x264671=_0x4e06c1[_0x315e4e(0x578)][_0x4e06c1[_0x315e4e(0x37b)]];break;case _0x315e4e(0xcb9):_0x264671=_0x4e06c1[_0x315e4e(0xbd6)];break;case _0x315e4e(0xa12):_0x264671=_0x4e06c1['correctAnswer']['toString']();break;case'matching_item':_0x264671=_0x4e06c1[_0x315e4e(0x37a)];break;}return{'question':_0x4e06c1['stem']||_0x4e06c1['questionText'],'options':_0x4e06c1['options']||null,'proposedAnswer':_0x264671};}),_0x208898=_0x1b9c23(0xc44)+JSON['stringify'](_0x381cfe)+_0x1b9c23(0x2c8),_0x4407ec={'type':_0x1b9c23(0xca9),'items':{'type':_0x1b9c23(0x965),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x1b9c23(0x539)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x1b9c23(0xa75)}},'required':[_0x1b9c23(0x964),_0x1b9c23(0x783),'justification']}},_0x368a73=await callAnalysisApi(_0x208898,{'type':_0x1b9c23(0x965),'properties':{'result':_0x4407ec},'required':['result']});displayVerificationResults(_0x368a73['result']);}catch(_0xeffcbd){console['error']('Error\x20verifying\x20answers:',_0xeffcbd),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x11f968[_0x1b9c23(0x5ba)]=![],_0x11f968['innerHTML']=_0x1b9c23(0x5ea);}}function displayVerificationResults(_0x9ce68d){const _0x4822f2=_0xe56031;_0x9ce68d[_0x4822f2(0x215)](_0x537697=>{const _0x2ae9b8=_0x4822f2,_0x24b4b3=document[_0x2ae9b8(0xd4c)]('div[data-question-index=\x22'+_0x537697[_0x2ae9b8(0x964)]+'\x22]');if(_0x24b4b3){const _0x28cd25=_0x24b4b3[_0x2ae9b8(0xd4c)](_0x2ae9b8(0xce9));if(_0x28cd25)_0x28cd25['remove']();let _0x257084='';_0x537697['isCorrect']?_0x257084=_0x2ae9b8(0x1ef):_0x257084=_0x2ae9b8(0xd18)+_0x537697[_0x2ae9b8(0x30e)]+_0x2ae9b8(0x272)+(_0x537697[_0x2ae9b8(0xce1)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x537697[_0x2ae9b8(0xce1)]+'</p>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x24b4b3[_0x2ae9b8(0xcaa)]('beforeend',_0x257084);}}),showMessage(_0x4822f2(0xd8a));}function compareNumericalAnswers(_0x29da7a,_0x198ef8){const _0x4209da=_0xe56031,_0x3b68da=String(_0x29da7a)[_0x4209da(0xbfd)](',','.')[_0x4209da(0xbfd)](/[^\d.-]/g,'')['trim'](),_0x45b7e5=String(_0x198ef8)[_0x4209da(0xbfd)](',','.')['replace'](/[^\d.-]/g,'')[_0x4209da(0xd92)]();if(_0x3b68da===''||_0x45b7e5==='')return![];const _0x14d6c9=parseFloat(_0x3b68da),_0x5613b7=parseFloat(_0x45b7e5);if(isNaN(_0x14d6c9)||isNaN(_0x5613b7))return![];return Math[_0x4209da(0x2ed)](_0x14d6c9-_0x5613b7)<0.001;}function isPotentiallyNumeric(_0x85a55){const _0x134444=_0xe56031;if(typeof _0x85a55!==_0x134444(0xa53)&&typeof _0x85a55!==_0x134444(0x438))return![];const _0xf69cd4=String(_0x85a55)['replace'](',','.')[_0x134444(0xd92)]();return _0xf69cd4!==''&&!isNaN(parseFloat(_0xf69cd4))&&isFinite(_0xf69cd4);}async function gradeShortAnswer(_0x23057b,_0x133072){const _0x37a064=_0xe56031,_0x24ef0b=_0x133072[_0x37a064(0xbd6)],_0x55f650=String(_0x23057b)[_0x37a064(0xbfd)](/\$/g,'')[_0x37a064(0xd92)](),_0x590415=String(_0x24ef0b)[_0x37a064(0xbfd)](/\$/g,'')[_0x37a064(0xd92)]();if(_0x55f650[_0x37a064(0x7e9)]()===_0x590415[_0x37a064(0x7e9)]())return!![];if(isPotentiallyNumeric(_0x55f650)&&isPotentiallyNumeric(_0x590415)){if(compareNumericalAnswers(_0x55f650,_0x590415))return!![];}return console[_0x37a064(0xaef)](_0x37a064(0x90a)),await gradeShortAnswerWithAI(_0x23057b,_0x24ef0b);}async function revealAnswerForAdmin(_0x364947,_0x372aa2){const _0x5ed66d=_0xe56031,_0x5b7f2a=doc(db,_0x5ed66d(0x637)+appId+_0x5ed66d(0x33a),currentLiveGameId);await updateDoc(_0x5b7f2a,{'questionStatus':_0x5ed66d(0xca3)});}function showTop5LeaderboardView(_0x41a162){const _0xbd3e20=_0xe56031,_0x2ef74c=Object[_0xbd3e20(0xa03)](_0x41a162[_0xbd3e20(0xbaf)]||{})['filter'](_0x5722ce=>_0x5722ce['status']===_0xbd3e20(0xd41));_0x2ef74c[_0xbd3e20(0x57f)]((_0x15c14e,_0x5a6d5e)=>_0x5a6d5e[_0xbd3e20(0x9b7)]-_0x15c14e['score']);const _0x56ce6b=_0x2ef74c['slice'](0x0,0x5),_0x4aaedf=_0xbd3e20(0xb8e)+_0x56ce6b[_0xbd3e20(0xaa7)]((_0x3100b5,_0x5e5e17)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x5e5e17+0x1)+'.\x20'+(_0x3100b5[_0xbd3e20(0xb95)]||Object[_0xbd3e20(0x9d8)](_0x41a162['players'])[_0xbd3e20(0x692)](_0x2de95f=>_0x41a162[_0xbd3e20(0xbaf)][_0x2de95f]===_0x3100b5))+_0xbd3e20(0x28d)+_0x3100b5[_0xbd3e20(0x9b7)]+_0xbd3e20(0x1b0))[_0xbd3e20(0x51a)]('')+_0xbd3e20(0xb29)+(_0x41a162['currentQuestionIndex']+0x1===currentQuizData[_0xbd3e20(0xafb)][_0xbd3e20(0xb5d)]?_0xbd3e20(0x4d4):'ข้อต่อไป')+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0xbd3e20(0x81c)]=_0x4aaedf,document[_0xbd3e20(0x581)](_0xbd3e20(0x941))[_0xbd3e20(0x395)](_0xbd3e20(0xafd),async()=>{const _0x273616=_0xbd3e20,_0x135dfa=doc(db,_0x273616(0x637)+appId+_0x273616(0x33a),currentLiveGameId),_0x1e0595=_0x41a162[_0x273616(0x315)]+0x1;if(_0x1e0595<currentQuizData[_0x273616(0xafb)][_0x273616(0xb5d)]){const _0x231571={'currentQuestionIndex':_0x1e0595,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x273616(0x7ad)};Object['keys'](_0x41a162[_0x273616(0xbaf)])['forEach'](_0x5b73a6=>{const _0x3c1f0b=_0x273616;_0x231571[_0x3c1f0b(0xd95)+_0x5b73a6+_0x3c1f0b(0x6c2)]=![];}),await updateDoc(_0x135dfa,_0x231571);}else await updateDoc(_0x135dfa,{'status':_0x273616(0x58e)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x427733=>{const _0x35b60f=_0x352e;if(_0x427733){userId=_0x427733['uid'],userIdDisplay[_0x35b60f(0x25c)]=userId;const _0x5acfdf=await loadUserPreferences();_0x5acfdf['projectSortOrder']&&(document[_0x35b60f(0x581)](_0x35b60f(0x57b))[_0x35b60f(0x9ef)]=_0x5acfdf[_0x35b60f(0xa61)]);globalDashboardSettings[_0x35b60f(0x87a)]=_0x5acfdf[_0x35b60f(0x87a)]||_0x35b60f(0x26d);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x2807a9,_0x23d406){const _0x45837c=_0xe56031;if(!userId)return;try{const _0x3c9104=doc(db,_0x45837c(0x637)+appId+_0x45837c(0x736)+userId+_0x45837c(0x4df)),_0x4f4cb4={};_0x4f4cb4[_0x2807a9]=_0x23d406,await setDoc(_0x3c9104,_0x4f4cb4,{'merge':!![]});}catch(_0x2792e0){console[_0x45837c(0x90c)](_0x45837c(0xd07),_0x2792e0);}}async function loadUserPreferences(){const _0x472185=_0xe56031;if(!userId)return{};try{const _0x139def=doc(db,'artifacts/'+appId+'/users/'+userId+_0x472185(0x4df)),_0x2b9e21=await getDoc(_0x139def);if(_0x2b9e21[_0x472185(0x437)]())return _0x2b9e21[_0x472185(0x610)]();return{};}catch(_0x28fcbd){return console[_0x472185(0x90c)](_0x472185(0x537),_0x28fcbd),{};}}function parseIndentedBlueprint(_0x40de95){const _0x239988=_0xe56031,_0xa8ccd9=_0x40de95[_0x239988(0x580)]('\x0a')[_0x239988(0x23d)](_0x2a2741=>_0x2a2741[_0x239988(0xd92)]()!==''),_0x401e1a=[];let _0x3557a7=null,_0x40a4fa=null;return _0xa8ccd9[_0x239988(0x215)](_0x388299=>{const _0x1d743e=_0x239988,_0x3d73e2=_0x388299[_0x1d743e(0x1bf)](/^\s*/)[0x0][_0x1d743e(0xb5d)],_0x35244a=_0x388299[_0x1d743e(0xd92)]();if(_0x3d73e2===0x0)_0x3557a7={'sara':_0x35244a,'mainTopics':[]},_0x401e1a[_0x1d743e(0x632)](_0x3557a7),_0x40a4fa=null;else{if(_0x3d73e2>0x0&&_0x3d73e2<0x8&&_0x3557a7)_0x40a4fa={'topicName':_0x35244a,'subTopics':[]},_0x3557a7[_0x1d743e(0x884)][_0x1d743e(0x632)](_0x40a4fa);else _0x3d73e2>=0x8&&_0x40a4fa&&_0x40a4fa[_0x1d743e(0x3db)][_0x1d743e(0x632)](_0x35244a);}}),{'curriculum':_0x401e1a};}async function handleManualBlueprintSave(){const _0xc572c3=_0xe56031,_0x338c43=document[_0xc572c3(0x581)](_0xc572c3(0xb53))[_0xc572c3(0x9ef)][_0xc572c3(0xd92)](),_0x4f45da=document[_0xc572c3(0x581)]('manual-bp-grade-level')['value']['trim'](),_0x7a9109=document[_0xc572c3(0x581)]('manual-bp-content')['value'];if(!_0x338c43||!_0x4f45da||!_0x7a9109){showMessage(_0xc572c3(0xa86));return;}const _0x5e9116=parseIndentedBlueprint(_0x7a9109);if(!_0x5e9116[_0xc572c3(0x3f3)]||_0x5e9116[_0xc572c3(0x3f3)][_0xc572c3(0xb5d)]===0x0){showMessage(_0xc572c3(0x831));return;}const _0x39ea9c={};let _0x1640e2=0x0;_0x5e9116[_0xc572c3(0x3f3)][_0xc572c3(0x215)](_0x51ec25=>{const _0x25eaa0=_0xc572c3;_0x51ec25[_0x25eaa0(0x884)][_0x25eaa0(0x215)](_0x383d75=>{const _0x12a2d4=_0x25eaa0;_0x383d75[_0x12a2d4(0x3db)][_0x12a2d4(0x215)](_0x58793e=>{const _0x218fb1=_0x12a2d4,_0x16873d='topic_'+Date['now']()+Math['random']()['toString'](0x24)['substr'](0x2,0x9);_0x39ea9c[_0x16873d]={'sara':_0x51ec25[_0x218fb1(0x22f)],'mainTopic':_0x383d75['topicName'],'subTopic':_0x58793e,'status':_0x218fb1(0xace),'lessonContent':null,'order':_0x1640e2++};});});});try{const _0x24010e=collection(db,_0xc572c3(0x637)+appId+_0xc572c3(0x371));await addDoc(_0x24010e,{'projectName':_0x338c43,'gradeLevel':_0x4f45da,'topics':_0x39ea9c,'createdAt':serverTimestamp()}),showMessage(_0xc572c3(0x857)+_0x338c43+_0xc572c3(0x7be)),document[_0xc572c3(0x581)](_0xc572c3(0x471))[_0xc572c3(0x3f5)][_0xc572c3(0xd54)](_0xc572c3(0xa91));}catch(_0x1dae30){console[_0xc572c3(0x90c)](_0xc572c3(0xa05),_0x1dae30),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}function handleClearAllLinksForTopic(_0x5967e3){const _0x3bd0e1=_0xe56031;showConfirmation(_0x3bd0e1(0x360),async()=>{const _0x3338ce=_0x3bd0e1;try{const _0x1831e3=doc(db,_0x3338ce(0x637)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x1831e3,{[_0x3338ce(0xb80)+_0x5967e3+_0x3338ce(0x881)]:[]}),showMessage(_0x3338ce(0x9f5)),openTopicQuizBank(_0x5967e3),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x510eb7){console[_0x3338ce(0x90c)](_0x3338ce(0x72b),_0x510eb7),showMessage(_0x3338ce(0x460));}});}function showPodiumView(_0x175a88,_0x4c1eec=_0xe56031(0xa87)){const _0x45e6d6=_0xe56031,_0x4ef430=Object['entries'](_0x175a88)[_0x45e6d6(0xaa7)](([_0x153549,_0x1e5d3a])=>({'name':_0x153549,'score':_0x1e5d3a[_0x45e6d6(0x9b7)]||0x0,'badges':_0x1e5d3a[_0x45e6d6(0x688)]||[],'hasPerfectScoreBonus':_0x1e5d3a[_0x45e6d6(0x853)]||![]}));_0x4ef430[_0x45e6d6(0x57f)]((_0x2eb7ff,_0x2faf5d)=>{const _0x4fdc7e=_0x45e6d6,_0x122615=_0x2faf5d['score']-_0x2eb7ff[_0x4fdc7e(0x9b7)];if(_0x122615!==0x0)return _0x122615;return(_0x2faf5d['badges']['length']||0x0)-(_0x2eb7ff['badges'][_0x4fdc7e(0xb5d)]||0x0);});const _0x504155=_0x5f02a2=>{const _0x2ccad8=_0x45e6d6;if(!_0x5f02a2||_0x5f02a2['length']===0x0)return'';const _0x4226a0={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x2ccad8(0x491)+_0x5f02a2[_0x2ccad8(0xaa7)](_0x3ef35b=>_0x4226a0[_0x3ef35b]||'')[_0x2ccad8(0x51a)]('')+_0x2ccad8(0x209);},_0x1cd082=_0x4ef430[_0x45e6d6(0xc09)](0x3),_0x30c6d3=_0x1cd082[_0x45e6d6(0xb5d)]>0x0?_0x45e6d6(0x69b)+_0x1cd082[_0x45e6d6(0xaa7)]((_0x2bf11d,_0x1e3952)=>{const _0xab6637=_0x45e6d6,_0x22cf45=_0x2bf11d[_0xab6637(0x853)]?_0xab6637(0x2e2):'';return _0xab6637(0x8fd)+(_0x1e3952+0x4)+_0xab6637(0x67f)+_0x2bf11d['name']+_0xab6637(0x8ac)+_0x2bf11d[_0xab6637(0x9b7)]+_0xab6637(0x56b)+_0x22cf45+_0xab6637(0xa21);})[_0x45e6d6(0x51a)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x4f3eaa=_0x45e6d6(0x194)+(_0x4ef430[0x1]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x4ef430[0x1][_0x45e6d6(0xb95)]+_0x45e6d6(0x195)+_0x504155(_0x4ef430[0x1][_0x45e6d6(0x688)])+_0x45e6d6(0xaad)+_0x4ef430[0x1][_0x45e6d6(0x9b7)]+_0x45e6d6(0x56b)+(_0x4ef430[0x1][_0x45e6d6(0x853)]?_0x45e6d6(0x2db):'')+'</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>':'<div\x20class=\x22flex-1\x22></div>')+_0x45e6d6(0xd65)+(_0x4ef430[0x0]?_0x45e6d6(0x4de)+_0x4ef430[0x0]['name']+_0x45e6d6(0x195)+_0x504155(_0x4ef430[0x0][_0x45e6d6(0x688)])+_0x45e6d6(0x925)+_0x4ef430[0x0]['score']+_0x45e6d6(0x56b)+(_0x4ef430[0x0][_0x45e6d6(0x853)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+'</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>':_0x45e6d6(0x3a7))+_0x45e6d6(0xd65)+(_0x4ef430[0x2]?_0x45e6d6(0x75d)+_0x4ef430[0x2]['name']+_0x45e6d6(0x195)+_0x504155(_0x4ef430[0x2][_0x45e6d6(0x688)])+'<p\x20class=\x22text-xl\x22>'+_0x4ef430[0x2][_0x45e6d6(0x9b7)]+_0x45e6d6(0x56b)+(_0x4ef430[0x2][_0x45e6d6(0x853)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x45e6d6(0x6a8):_0x45e6d6(0x3a7))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x30c6d3+_0x45e6d6(0xa5f)+(currentMode===_0x45e6d6(0x916)?'<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>':_0x45e6d6(0xc1f))+_0x45e6d6(0xa78);liveGameView[_0x45e6d6(0x81c)]=_0x4f3eaa,currentMode===_0x45e6d6(0x916)&&document[_0x45e6d6(0x581)](_0x45e6d6(0x697))[_0x45e6d6(0x395)](_0x45e6d6(0xafd),async()=>{const _0xfb1f9d=_0x45e6d6;let _0x54fde0;_0x4c1eec===_0xfb1f9d(0x568)?_0x54fde0=doc(db,_0xfb1f9d(0x637)+appId+'/public/data/syncGames',currentLiveGameId):_0x54fde0=doc(db,_0xfb1f9d(0x637)+appId+_0xfb1f9d(0x33a),currentLiveGameId),await deleteDoc(_0x54fde0);});}function renderSyncSummaryView(_0x3a840c,_0xdbbd6c,_0x5f250c){const _0x3beb0b=_0xe56031,_0x2453d1=_0x3a840c['gameVariant']||_0x3beb0b(0xc6c),_0x3c5134=_0x2453d1===_0x3beb0b(0xc42)&&_0x3a840c[_0x3beb0b(0xa38)]===![],_0x215893=Object['values'](_0x3a840c['players']||{}),_0xaff619=_0x3a840c[_0x3beb0b(0x7a6)][_0x3beb0b(0xafb)],_0x51cd6=_0xdbbd6c[_0x3beb0b(0xabf)]||_0x3a840c[_0x3beb0b(0x7a6)][_0x3beb0b(0xd7d)];let _0x19e55e=[];_0x51cd6===_0x3beb0b(0xa12)?_0x19e55e=[_0x3beb0b(0xb87),'ไม่ใช่\x20/\x20ผิด']:_0x19e55e=_0xdbbd6c[_0x3beb0b(0x578)]||[];const _0x3cbd2e=new Array(_0x19e55e['length'])[_0x3beb0b(0x415)](0x0),_0x93dba6={};_0x19e55e['forEach']((_0x3f17fd,_0x3b3318)=>{_0x93dba6[_0x3b3318]=[];}),Object['entries'](_0x3a840c[_0x3beb0b(0xbaf)]||{})['forEach'](([_0x843f29,_0x26834f])=>{const _0x4a3c2b=_0x3beb0b;if(_0x26834f[_0x4a3c2b(0x342)]!==_0x4a3c2b(0x7bf)&&_0x26834f['lastAnswerIndex']!==undefined&&_0x26834f[_0x4a3c2b(0xb06)]!==null){const _0x24ef7f=_0x26834f[_0x4a3c2b(0xb06)];if(_0x93dba6[_0x24ef7f]!==undefined){const _0x5e5506=_0x3c5134?_0x3a840c[_0x4a3c2b(0xc70)][_0x843f29]||'???':_0x843f29;_0x93dba6[_0x24ef7f]['push'](_0x5e5506),_0x3cbd2e[_0x24ef7f]++;}}});let _0xf66493='';const _0x518d4e=_0x3a840c[_0x3beb0b(0x315)]>=_0xaff619['length']-0x1;_0x5f250c?_0x2453d1===_0x3beb0b(0x5ff)?_0x518d4e?_0xf66493=_0x3beb0b(0x4c6):_0xf66493='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>':_0xf66493=_0x3beb0b(0xc31):_0x2453d1===_0x3beb0b(0x5ff)?_0xf66493=_0x3beb0b(0xbf9):_0xf66493=_0x3beb0b(0x7f0);const _0x3d2b15=_0x3beb0b(0xcfd)+_0xdbbd6c['questionText']+_0x3beb0b(0xbb7)+_0x3cbd2e[_0x3beb0b(0xaa7)]((_0x277930,_0x4cad80)=>{const _0x88b808=_0x3beb0b,_0x6ac136=_0x93dba6[_0x4cad80][_0x88b808(0xb5d)]>0x0?_0x93dba6[_0x4cad80]['join'](',\x20'):_0x88b808(0x6bf),_0x4da8bf=_0x88b808(0xba2);return _0x88b808(0x458)+_0x277930+_0x88b808(0xaa6)+_0x4da8bf+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x4cad80+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x19e55e[_0x4cad80]+_0x88b808(0xb77)+_0x4cad80+_0x88b808(0xa67)+_0x6ac136+_0x88b808(0x86d);})[_0x3beb0b(0x51a)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xf66493+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x3beb0b(0x81c)]=_0x3d2b15;if(window[_0x3beb0b(0x609)])MathJax['typesetPromise']();if(_0x5f250c){const _0x15af8b=doc(db,_0x3beb0b(0x637)+appId+_0x3beb0b(0x201),currentLiveGameId);document['getElementById'](_0x3beb0b(0xa50))?.['addEventListener'](_0x3beb0b(0xafd),async()=>{const _0x121a4e=_0x3beb0b;await updateDoc(_0x15af8b,{'status':_0x121a4e(0xcdd)});}),document[_0x3beb0b(0x581)](_0x3beb0b(0x690))?.[_0x3beb0b(0x395)](_0x3beb0b(0xafd),()=>{openScratchpad(_0xdbbd6c,_0x19e55e);}),document[_0x3beb0b(0x581)](_0x3beb0b(0xb2d))?.[_0x3beb0b(0x395)](_0x3beb0b(0xafd),async()=>{const _0x8ca320=_0x3beb0b,_0x52d60e=_0x3a840c['currentQuestionIndex']+0x1,_0xd479c9={};Object[_0x8ca320(0x9d8)](_0x3a840c[_0x8ca320(0xbaf)])[_0x8ca320(0x215)](_0x1234d1=>{const _0x16201f=_0x8ca320;_0xd479c9[_0x16201f(0xd95)+_0x1234d1+_0x16201f(0x62b)]=![],_0xd479c9[_0x16201f(0xd95)+_0x1234d1+_0x16201f(0xa4a)]=null;}),await updateDoc(_0x15af8b,{..._0xd479c9,'status':_0x8ca320(0x2c3),'currentQuestionIndex':_0x52d60e,'questionDisplayedAt':serverTimestamp()});}),document[_0x3beb0b(0x581)]('show-final-results-btn')?.[_0x3beb0b(0x395)](_0x3beb0b(0xafd),async()=>{const _0x335b12=_0x3beb0b;await updateDoc(_0x15af8b,{'status':_0x335b12(0xcdd),'reviewQuestionIndex':0x0});});}}function renderAnonymousStudentResultsView(_0x114543){const _0x2e8840=_0xe56031,_0x2c6965=_0x114543[_0x2e8840(0x315)]>=_0x114543[_0x2e8840(0x7a6)]['questions'][_0x2e8840(0xb5d)]-0x1;let _0x1cfb3a='';if(_0x114543[_0x2e8840(0xa38)]===!![]){const _0x2cb9c2=_0x114543[_0x2e8840(0xbaf)][localTeamPlayers[0x0]],_0x1861de=_0x2cb9c2[_0x2e8840(0xb95)],_0x26175b=_0x2cb9c2[_0x2e8840(0x9b7)];_0x1cfb3a=_0x2e8840(0xc95)+_0x1861de+_0x2e8840(0x77a)+_0x26175b+_0x2e8840(0x713);}else _0x1cfb3a=_0x2e8840(0x787)+(_0x2c6965?_0x2e8840(0x2f3):_0x2e8840(0x6de))+_0x2e8840(0xa04);const _0x4bfa19=_0x2e8840(0x337)+_0x1cfb3a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x4bfa19;}async function handleShowStudentRankings(){const _0x1e6c65=_0xe56031,_0x19b0f0=document[_0x1e6c65(0xd4c)]('#student-quiz-leaderboard-content\x20thead');_0x19b0f0&&(_0x19b0f0[_0x1e6c65(0x81c)]=_0x1e6c65(0x9c2));const _0x5ddd78=document[_0x1e6c65(0xd4c)](_0x1e6c65(0x6a9));_0x5ddd78&&(_0x5ddd78[_0x1e6c65(0x81c)]=_0x1e6c65(0x503));const _0x46ac65=document[_0x1e6c65(0x581)](_0x1e6c65(0x7c0));_0x46ac65['classList'][_0x1e6c65(0xbb6)](_0x1e6c65(0xa91)),document[_0x1e6c65(0x581)](_0x1e6c65(0x43f))[_0x1e6c65(0xa46)]=()=>_0x46ac65['classList'][_0x1e6c65(0xd54)](_0x1e6c65(0xa91));const _0x4f6392=document[_0x1e6c65(0x581)](_0x1e6c65(0x21b)),_0x156d33=document[_0x1e6c65(0x581)]('student-project-leaderboard-tab'),_0x533afd=document[_0x1e6c65(0x581)](_0x1e6c65(0x7ed)),_0x4e850c=document[_0x1e6c65(0x581)](_0x1e6c65(0xba7));_0x4f6392[_0x1e6c65(0xa46)]=()=>{const _0x5de3c1=_0x1e6c65;_0x4f6392[_0x5de3c1(0x3f5)][_0x5de3c1(0xd54)](_0x5de3c1(0xd41)),_0x156d33[_0x5de3c1(0x3f5)][_0x5de3c1(0xbb6)]('active'),_0x533afd['classList'][_0x5de3c1(0xbb6)](_0x5de3c1(0xa91)),_0x4e850c[_0x5de3c1(0x3f5)][_0x5de3c1(0xd54)](_0x5de3c1(0xa91));},_0x156d33[_0x1e6c65(0xa46)]=()=>{const _0x540926=_0x1e6c65;_0x156d33[_0x540926(0x3f5)][_0x540926(0xd54)](_0x540926(0xd41)),_0x4f6392[_0x540926(0x3f5)][_0x540926(0xbb6)](_0x540926(0xd41)),_0x4e850c['classList'][_0x540926(0xbb6)](_0x540926(0xa91)),_0x533afd['classList'][_0x540926(0xd54)]('hidden');};try{const _0x37f083=collection(db,_0x1e6c65(0x637)+appId+_0x1e6c65(0x595)+currentQuizData['id']+'/submissions'),_0x4d66c6=await getDocs(_0x37f083),_0x59584e=_0x4d66c6[_0x1e6c65(0x3b1)][_0x1e6c65(0xaa7)](_0x38ce26=>_0x38ce26[_0x1e6c65(0x610)]());renderQuizLeaderboard(_0x59584e,currentQuizData,'student-quiz-leaderboard-table-body');const _0x3e1f46=collection(db,_0x1e6c65(0x637)+appId+_0x1e6c65(0xd32)+currentQuizData[_0x1e6c65(0x971)]+'/studentProfiles'),_0x24cbb6=await getDocs(_0x3e1f46),_0xed394c=_0x24cbb6[_0x1e6c65(0x3b1)]['map'](_0x8836fc=>_0x8836fc[_0x1e6c65(0x610)]());renderLeaderboard(_0xed394c,_0x1e6c65(0x49b));}catch(_0x98df1b){console[_0x1e6c65(0x90c)]('Error\x20fetching\x20student\x20rankings:',_0x98df1b),showMessage(_0x1e6c65(0xbe0));}}async function handleSaveToBank(_0x53b465){const _0xe31a3=_0xe56031,_0x2f25e4=_0x53b465[_0xe31a3(0xa0b)],_0x54c7e4=_0x2f25e4[_0xe31a3(0xada)][_0xe31a3(0x53e)],_0x489e12=currentQuizData[_0xe31a3(0xafb)][_0x54c7e4];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x40f8b0={..._0x489e12,'originalTopic':currentQuizData[_0xe31a3(0x5c5)],'savedAt':serverTimestamp()},_0x3f8eae=collection(db,_0xe31a3(0x637)+appId+_0xe31a3(0x736)+userId+_0xe31a3(0xc65));await addDoc(_0x3f8eae,_0x40f8b0),showMessage(_0xe31a3(0xc08)),_0x2f25e4[_0xe31a3(0x3f5)][_0xe31a3(0xbb6)](_0xe31a3(0x9e5)),_0x2f25e4[_0xe31a3(0x3f5)]['add'](_0xe31a3(0x57e)),_0x2f25e4[_0xe31a3(0x5ba)]=!![];}catch(_0xa9c2a8){console[_0xe31a3(0x90c)]('Error\x20saving\x20to\x20question\x20bank:',_0xa9c2a8),showMessage(_0xe31a3(0x25a));}}async function selectProjectAndGenerateBlueprintQuiz(_0x2d21ee,_0x42e71d=null,_0x46af85=null,_0x506b5f=![]){const _0x3dd851=_0xe56031;cameFromBlueprint=!![];const _0x27d03b=document[_0x3dd851(0x581)]('bp-reference-file-url')?.[_0x3dd851(0x9ef)][_0x3dd851(0xd92)]();let _0x2132e8=null;if(_0x27d03b){showMessage(_0x3dd851(0x3d1));try{const _0x15cd9b=await fetchFileFromUrl(_0x27d03b,_0x3dd851(0x843)),_0x9215a5=await new Promise((_0x3d2ab9,_0xb3944b)=>{const _0x1d586f=_0x3dd851,_0x1638c1=new FileReader();_0x1638c1[_0x1d586f(0xc05)](_0x15cd9b),_0x1638c1[_0x1d586f(0xad2)]=()=>_0x3d2ab9(_0x1638c1[_0x1d586f(0x45b)][_0x1d586f(0x580)](',')[0x1]),_0x1638c1[_0x1d586f(0x4d3)]=_0xb3944b;});_0x2132e8=[{'inlineData':{'mimeType':_0x15cd9b[_0x3dd851(0x852)],'data':_0x9215a5}}],messageModal[_0x3dd851(0x3f5)][_0x3dd851(0xd54)](_0x3dd851(0xa91));}catch(_0x493b5a){console[_0x3dd851(0x90c)](_0x3dd851(0x3f4),_0x493b5a),showMessage(_0x3dd851(0x4f7));}}const _0x5efbd4=document[_0x3dd851(0x581)](_0x3dd851(0x969)),_0x4939da=document[_0x3dd851(0x581)](_0x3dd851(0xb86)),_0x64c2a=_0x5efbd4['querySelector']('h3'),_0x65382c=document[_0x3dd851(0x581)](_0x3dd851(0xcd9)),_0x536cee=document[_0x3dd851(0x581)](_0x3dd851(0xcd5));_0x64c2a[_0x3dd851(0x25c)]=_0x3dd851(0xcd7),_0x65382c[_0x3dd851(0x25c)]=_0x3dd851(0x945),_0x65382c[_0x3dd851(0x5ba)]=!![];allProjects[_0x3dd851(0xb5d)]===0x0?_0x4939da['innerHTML']='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x4939da[_0x3dd851(0x81c)]=_0x3dd851(0x422)+allProjects[_0x3dd851(0xaa7)](_0x3a213c=>'<option\x20value=\x22'+_0x3a213c['id']+'\x22>'+_0x3a213c['projectName']+_0x3dd851(0x530))['join'](''),_0x65382c[_0x3dd851(0x5ba)]=![]);_0x5efbd4[_0x3dd851(0x3f5)][_0x3dd851(0xbb6)](_0x3dd851(0xa91));const _0x158f9b=async()=>{const _0x2e1d8a=_0x3dd851,_0x3e0fe6=_0x4939da[_0x2e1d8a(0x9ef)];if(!_0x3e0fe6){showMessage(_0x2e1d8a(0x74a));return;}_0x5efbd4[_0x2e1d8a(0x3f5)][_0x2e1d8a(0xd54)](_0x2e1d8a(0xa91)),document[_0x2e1d8a(0x581)](_0x2e1d8a(0x37d))['classList'][_0x2e1d8a(0xd54)]('hidden'),await loadProjectDetails(_0x3e0fe6),showView(_0x2e1d8a(0x47f)),handleGenerateQuizFromBlueprintTopic(_0x2d21ee,_0x42e71d,_0x3e0fe6,_0x46af85,_0x506b5f,_0x2132e8),_0x7ea989();},_0x7ea989=()=>{const _0x4afe6a=_0x3dd851;_0x64c2a[_0x4afe6a(0x25c)]=_0x4afe6a(0xbb4),_0x65382c['textContent']=_0x4afe6a(0x7df),_0x65382c[_0x4afe6a(0xb89)]('click',_0x158f9b),_0x536cee[_0x4afe6a(0xb89)](_0x4afe6a(0xafd),_0x7ea989),_0x65382c[_0x4afe6a(0x395)](_0x4afe6a(0xafd),confirmMoveQuiz);};_0x65382c[_0x3dd851(0xb89)](_0x3dd851(0xafd),confirmMoveQuiz),_0x65382c[_0x3dd851(0x395)](_0x3dd851(0xafd),_0x158f9b),_0x536cee['addEventListener'](_0x3dd851(0xafd),_0x7ea989);}function listenForStarredQuizzes(){const _0x146d03=_0xe56031;if(!userId)return;const _0x17ce14=collection(db,_0x146d03(0x637)+appId+_0x146d03(0x6cd)),_0x1a6cad=query(_0x17ce14,where(_0x146d03(0x60b),'==',!![]));onSnapshot(_0x1a6cad,_0x24ea60=>{const _0x29963d=_0x146d03;starredQuizzes=_0x24ea60[_0x29963d(0x3b1)][_0x29963d(0xaa7)](_0x31928c=>({'id':_0x31928c['id'],..._0x31928c[_0x29963d(0x610)]()})),currentProjectId===_0x29963d(0x4dd)?renderQuizzes():renderProjects();},_0x46f120=>{const _0x4790a2=_0x146d03;console[_0x4790a2(0x90c)](_0x4790a2(0x888),_0x46f120);});}function listenForFileShortcuts(){const _0x263048=_0xe56031,_0x18969e=doc(db,_0x263048(0x2f5),'fileShortcutsConfig');onSnapshot(_0x18969e,_0x17c329=>{const _0x224450=_0x263048;let _0x40db31=[],_0x44ff44=[],_0x279b82={};if(_0x17c329[_0x224450(0x437)]()){const _0x4b9d8c=_0x17c329[_0x224450(0x610)]();_0x40db31=_0x4b9d8c[_0x224450(0x22d)]||[],_0x44ff44=_0x4b9d8c[_0x224450(0x1b8)]||[],_0x279b82=_0x4b9d8c[_0x224450(0xd5c)]||{};}!_0x44ff44[_0x224450(0x692)](_0x2d4be8=>_0x2d4be8['id']===_0x224450(0x5bf))&&_0x44ff44[_0x224450(0x934)]({'id':_0x224450(0x5bf),'name':_0x224450(0xa9b),'isDefault':!![]}),!_0x40db31[_0x224450(0x692)](_0x317953=>_0x317953['id']===_0x224450(0xc04))&&_0x40db31['unshift']({'id':_0x224450(0xc04),'name':_0x224450(0x5df),'url':'','isDefault':!![]}),!_0x40db31[_0x224450(0x692)](_0x23d327=>_0x23d327['id']==='file-default-2')&&_0x40db31[_0x224450(0x934)]({'id':'file-default-2','name':_0x224450(0x91c),'url':'','isDefault':!![]}),fileShortcuts=_0x40db31,fileShortcutTabs=_0x44ff44,fileShortcutOrder=_0x279b82,renderFileShortcuts(),!document[_0x224450(0x581)]('additional-file-shortcuts-modal')['classList'][_0x224450(0x1fe)]('hidden')&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x59ce24=_0xe56031,_0x3e44f6=doc(db,_0x59ce24(0x2f5),_0x59ce24(0xd90));try{await setDoc(_0x3e44f6,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x5a7b91){console['error'](_0x59ce24(0x274),_0x5a7b91);}}function renderAdditionalFileShortcutsModal(){const _0xd7dd2c=_0xe56031,_0x3ab9f9=document[_0xd7dd2c(0x581)](_0xd7dd2c(0x4e8)),_0x47048d=document[_0xd7dd2c(0x581)](_0xd7dd2c(0x4ee));if(!_0x3ab9f9||!_0x47048d)return;_0x3ab9f9['innerHTML']=fileShortcutTabs[_0xd7dd2c(0xaa7)](_0xe009ae=>{const _0x12e132=_0xd7dd2c,_0x5a0009=_0xe009ae['id']===activeFileShortcutTabId;return _0x12e132(0x793)+_0xe009ae['id']+_0x12e132(0x47a)+(_0x5a0009?_0x12e132(0x55f):_0x12e132(0x434))+_0x12e132(0x293)+_0xe009ae[_0x12e132(0xb95)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0xe009ae[_0x12e132(0xb95)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0xe009ae[_0x12e132(0x306)]?_0x12e132(0x8ce)+_0xe009ae['id']+_0x12e132(0x883):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('');const _0x18e6ef=fileShortcutTabs[_0xd7dd2c(0x692)](_0x5b87e8=>_0x5b87e8['id']===activeFileShortcutTabId);let _0x28e1b9=_0x18e6ef?.['isDefault']?[...fileShortcuts]:fileShortcuts[_0xd7dd2c(0x23d)](_0xde8591=>(_0x18e6ef?.[_0xd7dd2c(0xbd0)]||[])[_0xd7dd2c(0x6f7)](_0xde8591['id']));const _0x3b5722=fileShortcutOrder[activeFileShortcutTabId]||[];_0x28e1b9[_0xd7dd2c(0x57f)]((_0x334e5b,_0x21c876)=>{const _0x126469=_0xd7dd2c,_0x1e2b9e=_0x3b5722[_0x126469(0x72f)](_0x334e5b['id']),_0xb1a687=_0x3b5722['indexOf'](_0x21c876['id']);return(_0x1e2b9e===-0x1?Infinity:_0x1e2b9e)-(_0xb1a687===-0x1?Infinity:_0xb1a687);}),_0x47048d[_0xd7dd2c(0x81c)]=_0x28e1b9['map'](_0x35ca88=>{const _0x5ea4d4=_0xd7dd2c,_0x374335=_0x35ca88[_0x5ea4d4(0x577)]?'📄':'🔗',_0x5cfdcf=fileShortcutTabs['filter'](_0x498f40=>!_0x498f40[_0x5ea4d4(0x306)]),_0x219bee=_0x18e6ef[_0x5ea4d4(0x306)]&&_0x5cfdcf[_0x5ea4d4(0xb5d)]>0x0?_0x5ea4d4(0xaf7)+_0x5cfdcf[_0x5ea4d4(0xaa7)](_0x33ba31=>_0x5ea4d4(0xa83)+_0x35ca88['id']+'\x22\x20data-target-tab-id=\x22'+_0x33ba31['id']+'\x22>'+_0x33ba31['name']+_0x5ea4d4(0x65f))[_0x5ea4d4(0x51a)]('')+_0x5ea4d4(0xadb):'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x35ca88['id']+_0x5ea4d4(0x8b2)+_0x374335+'\x20'+_0x35ca88[_0x5ea4d4(0xb95)]+_0x5ea4d4(0x4bc)+_0x35ca88['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x35ca88['id']+_0x5ea4d4(0x55e)+(!_0x35ca88['isDefault']?_0x5ea4d4(0x2de)+_0x35ca88['id']+_0x5ea4d4(0xb2c):'')+_0x5ea4d4(0x676)+(!_0x18e6ef[_0x5ea4d4(0x306)]?_0x5ea4d4(0x271)+_0x35ca88['id']+_0x5ea4d4(0x93b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x219bee+_0x5ea4d4(0x30f);})[_0xd7dd2c(0x51a)]('')||_0xd7dd2c(0xb85),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x56d156=_0xe56031;document[_0x56d156(0x30c)](_0x56d156(0x380))['forEach'](_0x22fd93=>{const _0x368919=_0x56d156;_0x22fd93['onclick']=_0x359aa5=>{const _0x2b5b6c=_0x352e;activeFileShortcutTabId=_0x359aa5[_0x2b5b6c(0xa0b)][_0x2b5b6c(0xada)][_0x2b5b6c(0x500)],renderAdditionalFileShortcutsModal();},_0x22fd93[_0x368919(0xb98)]=_0x3c30e4=>{const _0x34cee4=_0x368919,_0x4648b2=_0x3c30e4['currentTarget'][_0x34cee4(0xd4c)](_0x34cee4(0x524));_0x3c30e4['currentTarget'][_0x34cee4(0xd4c)](_0x34cee4(0x33e))[_0x34cee4(0x3f5)][_0x34cee4(0xd54)](_0x34cee4(0xa91)),_0x4648b2[_0x34cee4(0x3f5)][_0x34cee4(0xbb6)](_0x34cee4(0xa91)),_0x4648b2[_0x34cee4(0x33d)](),_0x4648b2[_0x34cee4(0xc79)]();};}),document['querySelectorAll'](_0x56d156(0x710))[_0x56d156(0x215)](_0x4c4cf3=>{const _0x754806=_0x56d156,_0x1e103d=()=>{const _0x1ed097=_0x352e,_0xea1165=_0x4c4cf3[_0x1ed097(0xd63)](_0x1ed097(0x380))[_0x1ed097(0xada)][_0x1ed097(0x500)],_0x40330b=fileShortcutTabs[_0x1ed097(0x692)](_0x160d72=>_0x160d72['id']===_0xea1165);_0x40330b&&(_0x40330b['name']=_0x4c4cf3['value'][_0x1ed097(0xd92)]()||_0x40330b[_0x1ed097(0xb95)],saveFileShortcutConfig());};_0x4c4cf3[_0x754806(0xd20)]=_0x1e103d,_0x4c4cf3[_0x754806(0xbb0)]=_0x5a9514=>{const _0x31bdf9=_0x754806;if(_0x5a9514['key']===_0x31bdf9(0x26b))_0x4c4cf3[_0x31bdf9(0x3af)]();};}),document[_0x56d156(0x30c)](_0x56d156(0x894))[_0x56d156(0x215)](_0x3ba7b3=>_0x3ba7b3[_0x56d156(0xa46)]=_0x3a3cec=>{const _0x1940d4=_0x56d156,_0x26989d=_0x3a3cec['currentTarget'][_0x1940d4(0xada)][_0x1940d4(0x500)];showConfirmation(_0x1940d4(0x701),()=>{const _0xfc5a15=_0x1940d4;fileShortcutTabs=fileShortcutTabs[_0xfc5a15(0x23d)](_0x221b90=>_0x221b90['id']!==_0x26989d),delete fileShortcutOrder[_0x26989d];if(activeFileShortcutTabId===_0x26989d)activeFileShortcutTabId=_0xfc5a15(0x5bf);saveFileShortcutConfig();});}),document[_0x56d156(0x30c)](_0x56d156(0x6f3))[_0x56d156(0x215)](_0x5cae84=>_0x5cae84[_0x56d156(0xa46)]=_0x65c0bc=>{const _0x10bc38=_0x56d156;_0x65c0bc[_0x10bc38(0x6e6)]();const {shortcutId:_0x52a5bc,targetTabId:_0x30d54a}=_0x65c0bc['currentTarget']['dataset'],_0x1a289a=fileShortcutTabs[_0x10bc38(0x692)](_0x452a9d=>_0x452a9d['id']===_0x30d54a);_0x1a289a&&!_0x1a289a[_0x10bc38(0xbd0)]['includes'](_0x52a5bc)&&(_0x1a289a[_0x10bc38(0xbd0)][_0x10bc38(0x632)](_0x52a5bc),saveFileShortcutConfig());}),document[_0x56d156(0x30c)]('.remove-file-shortcut-from-tab-btn')[_0x56d156(0x215)](_0x176c7b=>_0x176c7b[_0x56d156(0xa46)]=_0x441d11=>{const _0x4abf49=_0x56d156,_0x58fd32=_0x441d11[_0x4abf49(0xa0b)]['dataset'][_0x4abf49(0x758)],_0x2c4263=fileShortcutTabs[_0x4abf49(0x692)](_0x9a20a2=>_0x9a20a2['id']===activeFileShortcutTabId);_0x2c4263&&!_0x2c4263['isDefault']&&(_0x2c4263[_0x4abf49(0xbd0)]=_0x2c4263[_0x4abf49(0xbd0)][_0x4abf49(0x23d)](_0x878c96=>_0x878c96!==_0x58fd32),saveFileShortcutConfig());}),document[_0x56d156(0x30c)](_0x56d156(0xbdb))[_0x56d156(0x215)](_0xa0a534=>_0xa0a534[_0x56d156(0xa46)]=_0x3ffac0=>{const _0x1eb177=_0x56d156;_0x3ffac0[_0x1eb177(0x3c9)]();const _0x5c8a1b=_0x3ffac0[_0x1eb177(0xa0b)]['nextElementSibling'];document['querySelectorAll'](_0x1eb177(0x830))[_0x1eb177(0x215)](_0x4f2131=>_0x4f2131[_0x1eb177(0x3f5)]['add'](_0x1eb177(0xa91))),_0x5c8a1b['classList'][_0x1eb177(0xbb6)](_0x1eb177(0xa91));});const _0x5d8448=document['getElementById'](_0x56d156(0x4ee));let _0x41ba49=null;_0x5d8448[_0x56d156(0x64d)]=_0x335859=>{const _0x13b7cf=_0x56d156;_0x41ba49=_0x335859[_0x13b7cf(0x8d1)][_0x13b7cf(0xd63)](_0x13b7cf(0x280));if(_0x41ba49)setTimeout(()=>_0x41ba49[_0x13b7cf(0x3f5)][_0x13b7cf(0xd54)](_0x13b7cf(0xa48)),0x0);},_0x5d8448['ondragend']=()=>{const _0x58a378=_0x56d156;_0x41ba49&&(_0x41ba49[_0x58a378(0x3f5)][_0x58a378(0xbb6)](_0x58a378(0xa48)),_0x41ba49=null);},_0x5d8448[_0x56d156(0x531)]=_0x5c5d91=>{const _0x5d7445=_0x56d156;_0x5c5d91[_0x5d7445(0x6e6)]();},_0x5d8448[_0x56d156(0x7fa)]=_0xa4f7e9=>{const _0x57c3e5=_0x56d156;_0xa4f7e9[_0x57c3e5(0x6e6)]();if(_0x41ba49){const _0x59ed39=[..._0x5d8448[_0x57c3e5(0x30c)](_0x57c3e5(0xae2))][_0x57c3e5(0x89f)]((_0x35baaf,_0x454d04)=>{const _0x53153e=_0x57c3e5,_0x9217ff=_0x454d04[_0x53153e(0x36a)](),_0x16b7c4=_0xa4f7e9['clientY']-_0x9217ff[_0x53153e(0x56f)]-_0x9217ff['height']/0x2;return _0x16b7c4<0x0&&_0x16b7c4>_0x35baaf[_0x53153e(0x2b7)]?{'offset':_0x16b7c4,'element':_0x454d04}:_0x35baaf;},{'offset':Number[_0x57c3e5(0xc17)]})[_0x57c3e5(0xd93)];_0x59ed39==null?_0x5d8448['appendChild'](_0x41ba49):_0x5d8448[_0x57c3e5(0xb4f)](_0x41ba49,_0x59ed39);const _0x3b84a9=[..._0x5d8448[_0x57c3e5(0x30c)](_0x57c3e5(0x280))]['map'](_0x456528=>_0x456528[_0x57c3e5(0xada)][_0x57c3e5(0x758)]);fileShortcutOrder[activeFileShortcutTabId]=_0x3b84a9,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x167e9f=_0xe56031,_0x5bad93=prompt(_0x167e9f(0x9f9),_0x167e9f(0x31b));_0x5bad93&&_0x5bad93[_0x167e9f(0xd92)]()&&(fileShortcutTabs[_0x167e9f(0x632)]({'id':_0x167e9f(0x95c)+Date['now'](),'name':_0x5bad93[_0x167e9f(0xd92)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x48847f=_0xe56031,_0x2a0a09=document[_0x48847f(0x581)](_0x48847f(0x2ea)),_0x3a162d=document[_0x48847f(0x581)](_0x48847f(0x4ee)),_0x452ddd=document[_0x48847f(0x581)](_0x48847f(0x791));if(_0x452ddd)_0x452ddd[_0x48847f(0x3f5)][_0x48847f(0xd54)](_0x48847f(0xa91));if(!_0x2a0a09||!_0x3a162d)return;const _0x458612=fileShortcuts[_0x48847f(0xc09)](0x0,0x4),_0x252c6e=fileShortcuts[_0x48847f(0xc09)](0x4);_0x2a0a09[_0x48847f(0x81c)]=_0x458612[_0x48847f(0xaa7)](_0x349d16=>{const _0x5a3bec=_0x48847f,_0x150838=_0x349d16['url']&&_0x349d16[_0x5a3bec(0x577)][_0x5a3bec(0xd92)]()!=='',_0x23d224=selectedFile&&selectedFile['shortcutId']===_0x349d16['id'];let _0x493bee=_0x5a3bec(0x60f),_0x52cdcd='🔗';if(_0x23d224)_0x493bee=_0x5a3bec(0x368),_0x52cdcd=_0x5a3bec(0x6c7);else _0x150838&&(_0x493bee=_0x5a3bec(0x44d),_0x52cdcd='📄');const _0x1d2977=!_0x349d16[_0x5a3bec(0x306)]?'<button\x20data-id=\x22'+_0x349d16['id']+_0x5a3bec(0x70b):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x349d16['id']+_0x5a3bec(0xab9)+_0x493bee+_0x5a3bec(0x4e6)+_0x52cdcd+_0x5a3bec(0x87e)+_0x349d16[_0x5a3bec(0xb95)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x349d16['id']+_0x5a3bec(0x83a)+_0x1d2977+_0x5a3bec(0x258);})['join'](''),_0x252c6e[_0x48847f(0xb5d)]>0x0&&(_0x2a0a09['innerHTML']+=_0x48847f(0x19b)),_0x252c6e[_0x48847f(0xb5d)]>0x0?_0x3a162d[_0x48847f(0x81c)]=_0x252c6e[_0x48847f(0xaa7)](_0x1b2177=>_0x48847f(0x2c9)+(_0x1b2177[_0x48847f(0x577)]?'📄':'🔗')+'\x20'+_0x1b2177[_0x48847f(0xb95)]+_0x48847f(0x4c5)+_0x1b2177['id']+_0x48847f(0x3c3)+_0x1b2177['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x1b2177['isDefault']?_0x48847f(0x2de)+_0x1b2177['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x48847f(0x870))[_0x48847f(0x51a)](''):_0x3a162d[_0x48847f(0x81c)]=_0x48847f(0x7b7);}function openFileShortcutEditor(_0x39640f=null){const _0x1429af=_0xe56031,_0x4c57e8=document['getElementById']('file-shortcut-editor-modal'),_0x3e4e2f=document['getElementById'](_0x1429af(0x599)),_0x5cc9b8=document['getElementById'](_0x1429af(0x7b0)),_0x3607c0=document[_0x1429af(0x581)](_0x1429af(0x389)),_0x26598a=document[_0x1429af(0x581)](_0x1429af(0x9bf));if(_0x39640f){const _0x20974b=fileShortcuts['find'](_0x1a61ab=>_0x1a61ab['id']===_0x39640f);if(!_0x20974b)return;_0x3e4e2f['textContent']=_0x1429af(0x6e4),_0x5cc9b8[_0x1429af(0x9ef)]=_0x20974b['id'],_0x3607c0[_0x1429af(0x9ef)]=_0x20974b[_0x1429af(0xb95)],_0x26598a[_0x1429af(0x9ef)]=_0x20974b['url']||'';}else _0x3e4e2f[_0x1429af(0x25c)]=_0x1429af(0xb19),_0x5cc9b8[_0x1429af(0x9ef)]='',_0x3607c0[_0x1429af(0x9ef)]='',_0x26598a[_0x1429af(0x9ef)]='';_0x4c57e8[_0x1429af(0x3f5)]['remove'](_0x1429af(0xa91));}async function saveFileShortcutChanges(){const _0x1d3da4=_0xe56031,_0x43f171=document[_0x1d3da4(0x581)](_0x1d3da4(0x7b0))[_0x1d3da4(0x9ef)],_0x505e20=document[_0x1d3da4(0x581)](_0x1d3da4(0x389))[_0x1d3da4(0x9ef)][_0x1d3da4(0xd92)](),_0xdb6fd4=document[_0x1d3da4(0x581)](_0x1d3da4(0x9bf))[_0x1d3da4(0x9ef)]['trim']();if(!_0x505e20){showMessage(_0x1d3da4(0xcd6));return;}const _0x3d3018={'id':_0x43f171||_0x1d3da4(0x18f)+Date[_0x1d3da4(0x5bd)](),'name':_0x505e20,'url':_0xdb6fd4,'isDefault':_0x43f171[_0x1d3da4(0xb63)](_0x1d3da4(0x8b8))};let _0x12f667;_0x43f171?_0x12f667=fileShortcuts[_0x1d3da4(0xaa7)](_0x410dd7=>_0x410dd7['id']===_0x43f171?_0x3d3018:_0x410dd7):_0x12f667=[...fileShortcuts,_0x3d3018];try{const _0x2506b9=doc(db,_0x1d3da4(0x2f5),_0x1d3da4(0xd90));await setDoc(_0x2506b9,{'shortcuts':_0x12f667},{'merge':!![]}),document[_0x1d3da4(0x581)](_0x1d3da4(0x5e2))[_0x1d3da4(0x3f5)][_0x1d3da4(0xd54)]('hidden');}catch(_0x5c18a7){console['error'](_0x1d3da4(0x72a),_0x5c18a7),showMessage(_0x1d3da4(0x25a));}}async function handleFileShortcutClick(_0x4f5b76){const _0x111e1b=_0xe56031,_0x39e50f=fileShortcuts[_0x111e1b(0x692)](_0x29c76e=>_0x29c76e['id']===_0x4f5b76);if(!_0x39e50f)return;if(!_0x39e50f[_0x111e1b(0x577)]||_0x39e50f[_0x111e1b(0x577)]['trim']()===''){openFileShortcutEditor(_0x4f5b76);return;}const _0x48328c=document[_0x111e1b(0xd4c)](_0x111e1b(0x1a4)+_0x4f5b76+'\x22]');if(_0x48328c){const _0xb1b955=_0x48328c['innerHTML'];_0x48328c[_0x111e1b(0x81c)]=_0x111e1b(0x805),_0x48328c[_0x111e1b(0x5ba)]=!![];}document[_0x111e1b(0x30c)](_0x111e1b(0x973))[_0x111e1b(0x215)](_0x41e73c=>{const _0x5a72db=_0x111e1b;if(_0x41e73c[_0x5a72db(0xada)]['id']!==_0x4f5b76)_0x41e73c[_0x5a72db(0x3f5)]['add'](_0x5a72db(0xa48),_0x5a72db(0x5dc));});try{const _0x83e2bc=new URL(_0x39e50f[_0x111e1b(0x577)])[_0x111e1b(0x47e)],_0x5750b2=_0x83e2bc[_0x111e1b(0x1d5)](_0x83e2bc['lastIndexOf']('/')+0x1)||(_0x39e50f[_0x111e1b(0x577)][_0x111e1b(0x6f7)](_0x111e1b(0xa16))?'file.txt':'file.pdf'),_0xee50ab=await fetchFileFromUrl(_0x39e50f[_0x111e1b(0x577)],_0x5750b2);_0xee50ab[_0x111e1b(0x758)]=_0x4f5b76,selectedFile=_0xee50ab,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x111e1b(0x581)](_0x111e1b(0x7c8))['scrollIntoView']({'behavior':'smooth','block':_0x111e1b(0x2d6)});}catch(_0x385f3e){console[_0x111e1b(0x90c)](_0x111e1b(0x949),_0x385f3e),showMessage(_0x111e1b(0xb9e)+_0x385f3e[_0x111e1b(0x76b)]),renderFileShortcuts();}finally{document['querySelectorAll'](_0x111e1b(0x973))['forEach'](_0x255198=>{const _0x456107=_0x111e1b;_0x255198[_0x456107(0x3f5)][_0x456107(0xbb6)](_0x456107(0xa48),'pointer-events-none'),_0x255198[_0x456107(0x5ba)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x3f7cf5=_0xe56031;if(allQuizzesGlobal['length']>0x0)return;console[_0x3f7cf5(0xaef)](_0x3f7cf5(0x660)),showMessage(_0x3f7cf5(0x66c));try{const _0x18398d=await getDocs(collection(db,_0x3f7cf5(0x637)+appId+_0x3f7cf5(0x6cd)));allQuizzesGlobal=_0x18398d['docs'][_0x3f7cf5(0xaa7)](_0x5b8d27=>({'id':_0x5b8d27['id'],..._0x5b8d27['data']()})),console[_0x3f7cf5(0xaef)](_0x3f7cf5(0x903)+allQuizzesGlobal[_0x3f7cf5(0xb5d)]+_0x3f7cf5(0xc39)),messageModal['classList'][_0x3f7cf5(0xd54)](_0x3f7cf5(0xa91));}catch(_0x34bcd8){console[_0x3f7cf5(0x90c)](_0x3f7cf5(0x347),_0x34bcd8),messageModal[_0x3f7cf5(0x3f5)][_0x3f7cf5(0xd54)](_0x3f7cf5(0xa91));throw new Error(_0x3f7cf5(0x931));}}function exportQuizAsWorksheetPDF(){const _0x182542=_0xe56031;if(!currentQuizData||!currentQuizData[_0x182542(0xafb)]){showMessage(_0x182542(0x7f9));return;}const _0x134614=currentQuizData,_0x5896f5=window[_0x182542(0x8ec)]('','_blank'),_0x2f3e95=_0x39125a=>String[_0x182542(0x91f)](0x41+_0x39125a),_0x3ecb5d=_0x182542(0xc86)+_0x134614[_0x182542(0x5c5)]+_0x182542(0x348)+_0x134614[_0x182542(0x5c5)]+_0x182542(0x779)+_0x134614[_0x182542(0xafb)][_0x182542(0xaa7)]((_0x3c94ff,_0x2509fb)=>{const _0x118bc=_0x182542;let _0x27e5df='';const _0x13e887=_0x3c94ff[_0x118bc(0xabf)]||_0x134614[_0x118bc(0xd7d)];switch(_0x13e887){case _0x118bc(0x84f):case _0x118bc(0x6da):_0x27e5df='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x3c94ff['options'][_0x118bc(0xaa7)]((_0x2a0a34,_0x1eea8a)=>_0x118bc(0xa84)+_0x2f3e95(_0x1eea8a)+'.\x20'+_0x2a0a34+_0x118bc(0xb42))[_0x118bc(0x51a)](_0x118bc(0x7b9))+_0x118bc(0x209);break;case _0x118bc(0xa12):_0x27e5df=_0x118bc(0xaed);break;default:_0x27e5df=_0x118bc(0x639);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x2509fb+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x3c94ff['stem']||_0x3c94ff[_0x118bc(0x562)])+_0x118bc(0x25b)+(_0x3c94ff[_0x118bc(0xa8e)]?_0x118bc(0x7cd)+_0x3c94ff[_0x118bc(0xa8e)]+_0x118bc(0x209):'')+_0x118bc(0xd1a)+_0x27e5df+_0x118bc(0x729);})[_0x182542(0x51a)]('')+_0x182542(0xbef);_0x5896f5[_0x182542(0x54b)][_0x182542(0xab1)](_0x3ecb5d),_0x5896f5[_0x182542(0x54b)][_0x182542(0x784)](),_0x5896f5[_0x182542(0xad2)]=function(){setTimeout(()=>{const _0x15d65b=_0x352e;_0x5896f5[_0x15d65b(0xd5d)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x1df79f=_0xe56031;if(!currentQuizData||!currentQuizData[_0x1df79f(0xafb)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x326257=currentQuizData,_0x38e3d2=window[_0x1df79f(0x8ec)]('',_0x1df79f(0x6df)),_0x484b11=_0x2a1d46=>String[_0x1df79f(0x91f)](0x41+_0x2a1d46),_0x229706='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x326257['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x326257[_0x1df79f(0xafb)][_0x1df79f(0xaa7)]((_0xa70066,_0x314c57)=>{const _0x4c971d=_0x1df79f;let _0x526aa4='';const _0x96e174=_0xa70066[_0x4c971d(0xabf)]||_0x326257[_0x4c971d(0xd7d)];switch(_0x96e174){case _0x4c971d(0x84f):case'fill_in_with_choices':_0x526aa4=_0x4c971d(0x3b5)+_0xa70066[_0x4c971d(0x578)][_0x4c971d(0xaa7)]((_0x14c33f,_0x21dd7c)=>_0x4c971d(0xad3)+_0x484b11(_0x21dd7c)+'.\x20'+_0x14c33f+_0x4c971d(0xa2e))['join'](_0x4c971d(0x7b9))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x4c971d(0xa12):_0x526aa4=_0x4c971d(0x245);break;default:_0x526aa4='';break;}return _0x4c971d(0x47c)+_0x326257[_0x4c971d(0x5c5)]+_0x4c971d(0x909)+(_0x314c57+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0xa70066[_0x4c971d(0x3b4)]||_0xa70066[_0x4c971d(0x562)])+_0x4c971d(0x25b)+(_0xa70066['imageCode']?'<div\x20class=\x22my-6\x22>'+_0xa70066[_0x4c971d(0xa8e)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x526aa4+_0x4c971d(0xd52);})['join']('')+_0x1df79f(0x219);_0x38e3d2[_0x1df79f(0x54b)]['write'](_0x229706),_0x38e3d2['document'][_0x1df79f(0x784)](),_0x38e3d2['onload']=function(){setTimeout(()=>{const _0x2e8445=_0x352e;_0x38e3d2[_0x2e8445(0xd5d)]();},0x5dc);};}async function handleToggleStarQuiz(_0x1b768b){const _0xcc5f59=_0xe56031,_0x1154d9=doc(db,_0xcc5f59(0x637)+appId+_0xcc5f59(0x6cd),_0x1b768b);try{const _0x3220d3=await getDoc(_0x1154d9);if(_0x3220d3[_0xcc5f59(0x437)]()){const _0x52e2ed=_0x3220d3[_0xcc5f59(0x610)]()[_0xcc5f59(0x60b)]||![];await updateDoc(_0x1154d9,{'isStarred':!_0x52e2ed});}}catch(_0x731a42){console[_0xcc5f59(0x90c)](_0xcc5f59(0x1fc),_0x731a42),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x2c9d5e=_0xe56031,_0x5a168b=document[_0x2c9d5e(0x581)]('bank-input-area');_0x5a168b['innerHTML']=_0x2c9d5e(0x631);try{const _0x5ded9a=collection(db,_0x2c9d5e(0x637)+appId+_0x2c9d5e(0x736)+userId+_0x2c9d5e(0xc65)),_0x54e1f8=query(_0x5ded9a),_0x217e0e=await getDocs(_0x54e1f8);if(_0x217e0e['empty']){_0x5a168b[_0x2c9d5e(0x81c)]=_0x2c9d5e(0x1ea);return;}let _0x5f3a90=_0x217e0e[_0x2c9d5e(0x3b1)][_0x2c9d5e(0xaa7)](_0x4bf334=>{const _0x15790=_0x2c9d5e,_0x11aba7=_0x4bf334[_0x15790(0x610)](),_0x135f31=_0x4bf334['id'];return _0x15790(0x295)+JSON[_0x15790(0x35f)](_0x11aba7)+_0x15790(0x3e2)+(_0x11aba7[_0x15790(0x562)]||_0x11aba7[_0x15790(0x3b4)])+_0x15790(0x9db)+_0x11aba7[_0x15790(0xb92)]+_0x15790(0xc5f);})[_0x2c9d5e(0x51a)]('');_0x5a168b[_0x2c9d5e(0x81c)]=_0x2c9d5e(0x924)+_0x5f3a90+_0x2c9d5e(0xa6a),document[_0x2c9d5e(0x581)](_0x2c9d5e(0x6d2))[_0x2c9d5e(0x395)](_0x2c9d5e(0xafd),createQuizFromBank);}catch(_0x5df2be){console[_0x2c9d5e(0x90c)](_0x2c9d5e(0x36d),_0x5df2be),_0x5a168b[_0x2c9d5e(0x81c)]=_0x2c9d5e(0x8af);}}async function handleExportLessonToPDF(){const _0x547f71=_0xe56031,_0x28abc2=document['getElementById']('lesson-sections-container'),_0x5b6d22=document[_0x547f71(0x581)]('lesson-view-title')[_0x547f71(0x25c)]||_0x547f71(0x205);if(!_0x28abc2){showMessage('ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export');return;}const _0x3e14df=window[_0x547f71(0x8ec)]('',_0x547f71(0x6df)),_0x3b0802=_0x547f71(0x640)+_0x5b6d22+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>'+_0x5b6d22+_0x547f71(0x21a)+_0x28abc2[_0x547f71(0x81c)]+_0x547f71(0xbef);_0x3e14df['document'][_0x547f71(0xab1)](_0x3b0802),_0x3e14df[_0x547f71(0x54b)][_0x547f71(0x784)](),_0x3e14df[_0x547f71(0xad2)]=function(){setTimeout(()=>{const _0x4e01a2=_0x352e;_0x3e14df[_0x4e01a2(0xd5d)]();},0x7d0);};}function showAdminLiveQuestionView(_0x48efe9,_0xa6786c,_0x27ff82){const _0x339e30=_0xe56031,_0x42131e=_0x48efe9[_0x339e30(0xabf)]||currentQuizData[_0x339e30(0xd7d)];let _0x2dd2d7='';if(_0x42131e===_0x339e30(0x84f)||_0x42131e===_0x339e30(0xa12)){const _0x503d2b=_0x42131e===_0x339e30(0xa12)?['ใช่','ไม่ใช่']:_0x48efe9[_0x339e30(0x578)],_0x59e37b=_0x42131e===_0x339e30(0xa12)?_0x48efe9[_0x339e30(0x39b)]?0x0:0x1:_0x48efe9['correctAnswerIndex'];_0x2dd2d7=_0x503d2b[_0x339e30(0xaa7)]((_0x12909a,_0x449e6d)=>_0x339e30(0x6c6)+(_0x449e6d===_0x59e37b)+_0x339e30(0x324)+_0x12909a+_0x339e30(0x258))['join']('');}else{if(_0x42131e==='matching_item'){const _0x516cf0=_0x48efe9[_0x339e30(0x433)]||[];_0x2dd2d7=_0x516cf0[_0x339e30(0xaa7)](_0x254f03=>_0x339e30(0x6c6)+(_0x254f03===_0x48efe9[_0x339e30(0x37a)])+_0x339e30(0x324)+_0x254f03+_0x339e30(0x258))['join']('');}}const _0x126967=_0x48efe9[_0x339e30(0x3b4)]||_0x48efe9[_0x339e30(0x562)],_0x2a2487='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0xa6786c+0x1)+'\x20/\x20'+_0x27ff82+_0x339e30(0x89c)+currentLiveGamePin+_0x339e30(0xb8b)+_0x126967+_0x339e30(0x3d0)+_0x2dd2d7+_0x339e30(0x20d);liveGameView[_0x339e30(0x81c)]=_0x2a2487,window[_0x339e30(0x609)]&&MathJax[_0x339e30(0x461)]&&MathJax['typesetPromise']([liveGameView]),document['getElementById'](_0x339e30(0x1e7))[_0x339e30(0x395)](_0x339e30(0xafd),()=>revealAnswerForAdmin(_0xa6786c,_0x27ff82)),document[_0x339e30(0x581)]('end-game-btn')['addEventListener'](_0x339e30(0xafd),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x566ee5=_0x352e,_0x213ba1=doc(db,_0x566ee5(0x637)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x213ba1,{'status':_0x566ee5(0x58e)});});}),document[_0x339e30(0x581)]('manage-players-btn')[_0x339e30(0x395)](_0x339e30(0xafd),()=>{const _0x3bc2be=_0x339e30;document[_0x3bc2be(0x581)](_0x3bc2be(0xb7c))[_0x3bc2be(0x3f5)][_0x3bc2be(0x65d)]('hidden');});}function promptForProjectBeforeGenerating(_0x510947){const _0x2f65d9=_0xe56031,_0xd2d336=document[_0x2f65d9(0x581)]('move-quiz-modal'),_0x3d834a=document[_0x2f65d9(0x581)](_0x2f65d9(0xb86)),_0xac1bab=_0xd2d336[_0x2f65d9(0xd4c)]('h3'),_0x2ea68c=document['getElementById']('confirm-move-quiz-btn'),_0x25a1a0=document[_0x2f65d9(0x581)](_0x2f65d9(0xcd5));_0xac1bab[_0x2f65d9(0x25c)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x2ea68c[_0x2f65d9(0x25c)]=_0x2f65d9(0x945),_0x2ea68c['disabled']=!![];allProjects[_0x2f65d9(0xb5d)]===0x0?_0x3d834a[_0x2f65d9(0x81c)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x3d834a[_0x2f65d9(0x81c)]=_0x2f65d9(0x422)+allProjects['map'](_0x5b0cb0=>_0x2f65d9(0x55d)+_0x5b0cb0['id']+'\x22>'+_0x5b0cb0[_0x2f65d9(0xb3f)]+_0x2f65d9(0x530))['join'](''),_0x2ea68c['disabled']=![]);_0xd2d336[_0x2f65d9(0x3f5)][_0x2f65d9(0xbb6)]('hidden');const _0x448bfa=async()=>{const _0x345102=_0x2f65d9,_0x4bb9a9=_0x3d834a[_0x345102(0x9ef)];if(!_0x4bb9a9){showMessage(_0x345102(0x74a));return;}_0xd2d336[_0x345102(0x3f5)][_0x345102(0xd54)](_0x345102(0xa91)),await loadProjectDetails(_0x4bb9a9),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x510947),_0x5f0340();},_0x5f0340=()=>{const _0x55e324=_0x2f65d9;_0xac1bab[_0x55e324(0x25c)]=_0x55e324(0xbb4),_0x2ea68c[_0x55e324(0x25c)]='ย้าย',_0x2ea68c[_0x55e324(0xb89)](_0x55e324(0xafd),_0x448bfa),_0x25a1a0[_0x55e324(0xb89)](_0x55e324(0xafd),_0x5f0340),_0x2ea68c[_0x55e324(0x395)](_0x55e324(0xafd),confirmMoveQuiz);};_0x2ea68c[_0x2f65d9(0xb89)](_0x2f65d9(0xafd),confirmMoveQuiz),_0x2ea68c[_0x2f65d9(0x395)](_0x2f65d9(0xafd),_0x448bfa),_0x25a1a0[_0x2f65d9(0x395)](_0x2f65d9(0xafd),_0x5f0340);}function showStudentLiveQuestionView(_0x9760ff,_0x54fdd6,_0x530e70){const _0x12553b=_0xe56031,_0x41e95d=_0x9760ff[_0x12553b(0xabf)]||currentQuizData[_0x12553b(0xd7d)];let _0x51124c='';if(_0x41e95d==='multiple_choice'||_0x41e95d===_0x12553b(0xa12)){const _0x25d6b5=_0x41e95d===_0x12553b(0xa12)?[_0x12553b(0xc6b),_0x12553b(0x3ae)]:_0x9760ff[_0x12553b(0x578)];_0x51124c=_0x25d6b5[_0x12553b(0xaa7)]((_0x36c592,_0x331e69)=>_0x12553b(0x7f7)+_0x331e69+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x36c592+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x12553b(0x51a)]('');}else{if(_0x41e95d===_0x12553b(0xaa0)){const _0xc8e8ed=_0x9760ff['allResponses']||[];_0x51124c=_0xc8e8ed[_0x12553b(0xaa7)]((_0x1e553c,_0x28d134)=>_0x12553b(0x7f7)+_0x28d134+_0x12553b(0xcb8)+_0x1e553c+_0x12553b(0x71d))[_0x12553b(0x51a)]('');}else _0x41e95d===_0x12553b(0xcb9)&&(_0x51124c=_0x12553b(0x56d));}const _0x5d7bcb=_0x9760ff[_0x12553b(0x3b4)]||_0x9760ff[_0x12553b(0x562)],_0x511685='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x54fdd6+0x1)+_0x12553b(0x329)+_0x530e70+_0x12553b(0x9a2)+_0x5d7bcb+_0x12553b(0x48b)+_0x51124c+_0x12553b(0x208);liveGameView[_0x12553b(0x81c)]=_0x511685;window['MathJax']&&MathJax['typesetPromise']&&MathJax['typesetPromise']([liveGameView]);const _0x4e737f=document[_0x12553b(0x581)](_0x12553b(0xc06));_0x4e737f&&_0x4e737f[_0x12553b(0x395)](_0x12553b(0xafd),()=>{const _0x454a1d=_0x12553b,_0x26b20f=document[_0x454a1d(0x581)](_0x454a1d(0x795))[_0x454a1d(0x9ef)];handleLiveAnswer(_0x26b20f,_0x9760ff);}),document['getElementById'](_0x12553b(0xa30))[_0x12553b(0x395)]('click',_0x209884=>{const _0x71b36=_0x12553b,_0x549b59=_0x209884[_0x71b36(0x8d1)][_0x71b36(0xd63)]('.live-answer-btn');if(_0x549b59){const _0x19d00c=parseInt(_0x549b59['dataset'][_0x71b36(0x53e)]);handleLiveAnswer(_0x19d00c,_0x9760ff);}});}function listenForBlueprintShortcuts(){const _0x157296=_0xe56031,_0x15ba2b=doc(db,_0x157296(0x2f5),_0x157296(0xa4c));onSnapshot(_0x15ba2b,_0x4af518=>{const _0xc6ee35=_0x157296;let _0x25c849=[],_0x4d3a6f=[],_0x17008b={};if(_0x4af518['exists']()){const _0x7d4753=_0x4af518['data']();_0x25c849=_0x7d4753[_0xc6ee35(0x56e)]||[],_0x4d3a6f=_0x7d4753[_0xc6ee35(0x6fc)]||[],_0x17008b=_0x7d4753['shortcutOrder']||{};}!_0x4d3a6f[_0xc6ee35(0x692)](_0x9aac14=>_0x9aac14['id']==='all')&&_0x4d3a6f[_0xc6ee35(0x934)]({'id':_0xc6ee35(0x5bf),'name':_0xc6ee35(0x1a5),'isDefault':!![]}),!_0x25c849[_0xc6ee35(0x692)](_0xeb29ce=>_0xeb29ce['id']===_0xc6ee35(0x4a1))&&_0x25c849[_0xc6ee35(0x934)]({'id':'default-1','name':_0xc6ee35(0x80f),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x25c849[_0xc6ee35(0x692)](_0x35d2c8=>_0x35d2c8['id']==='default-2')&&_0x25c849['unshift']({'id':_0xc6ee35(0x636),'name':_0xc6ee35(0xba5),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x25c849,shortcutTabs=_0x4d3a6f,shortcutOrder=_0x17008b,renderBlueprintShortcuts(),!document[_0xc6ee35(0x581)]('additional-shortcuts-modal')[_0xc6ee35(0x3f5)][_0xc6ee35(0x1fe)](_0xc6ee35(0xa91))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x57ef39=_0xe56031,_0x4af56e=document['getElementById']('shortcut-tabs-nav'),_0x423290=document[_0x57ef39(0x581)](_0x57ef39(0x383));if(!_0x4af56e||!_0x423290)return;_0x4af56e[_0x57ef39(0x81c)]=shortcutTabs['map'](_0x1c4bc4=>{const _0x83b6d2=_0x57ef39,_0x23e28f=_0x1c4bc4['id']===activeShortcutTabId,_0x5695f8=_0x83b6d2(0x55f),_0x52fc82=_0x83b6d2(0x434);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x1c4bc4['id']+_0x83b6d2(0xaf4)+(_0x23e28f?_0x5695f8:_0x52fc82)+_0x83b6d2(0x587)+_0x1c4bc4[_0x83b6d2(0xb95)]+_0x83b6d2(0x8a8)+_0x1c4bc4[_0x83b6d2(0xb95)]+_0x83b6d2(0x902)+(!_0x1c4bc4[_0x83b6d2(0x306)]?_0x83b6d2(0x36f)+_0x1c4bc4['id']+_0x83b6d2(0xc51):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x57ef39(0x51a)]('');const _0x2f0a46=shortcutTabs[_0x57ef39(0x692)](_0x23b492=>_0x23b492['id']===activeShortcutTabId);let _0x47ed1a=[];if(_0x2f0a46){if(_0x2f0a46['isDefault'])_0x47ed1a=[...blueprintShortcuts];else{const _0x1319c2=_0x2f0a46[_0x57ef39(0xbd0)]||[];_0x47ed1a=blueprintShortcuts[_0x57ef39(0x23d)](_0x2dfb9e=>_0x1319c2[_0x57ef39(0x6f7)](_0x2dfb9e['id']));}}const _0x4f345e=shortcutOrder[activeShortcutTabId]||[];_0x47ed1a[_0x57ef39(0x57f)]((_0x54df92,_0x2af843)=>{const _0x200516=_0x57ef39,_0x114a30=_0x4f345e[_0x200516(0x72f)](_0x54df92['id']),_0x208cb3=_0x4f345e[_0x200516(0x72f)](_0x2af843['id']);if(_0x114a30===-0x1)return 0x1;if(_0x208cb3===-0x1)return-0x1;return _0x114a30-_0x208cb3;}),_0x423290[_0x57ef39(0x81c)]=_0x47ed1a[_0x57ef39(0xb5d)]>0x0?_0x47ed1a['map'](_0x29af67=>{const _0x24a5c6=_0x57ef39;let _0x32e943='🧩';if(_0x29af67['blueprintUrl']&&_0x29af67[_0x24a5c6(0x962)])_0x32e943='📗';else{if(_0x29af67['blueprintUrl'])_0x32e943='📘';}const _0x4a5284=shortcutTabs['filter'](_0x3ecaba=>!_0x3ecaba[_0x24a5c6(0x306)]),_0x289968=_0x2f0a46[_0x24a5c6(0x306)]&&_0x4a5284['length']>0x0?_0x24a5c6(0x2b2)+_0x4a5284[_0x24a5c6(0xaa7)](_0xab2f4e=>_0x24a5c6(0x906)+_0x29af67['id']+'\x22\x20data-target-tab-id=\x22'+_0xab2f4e['id']+'\x22>'+_0xab2f4e['name']+_0x24a5c6(0x3b0))[_0x24a5c6(0x51a)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':'';return _0x24a5c6(0x606)+_0x29af67['id']+_0x24a5c6(0xd31)+_0x32e943+'\x20'+_0x29af67['name']+_0x24a5c6(0x239)+_0x29af67['id']+_0x24a5c6(0x264)+_0x29af67['id']+_0x24a5c6(0x49d)+(!_0x29af67[_0x24a5c6(0x306)]?_0x24a5c6(0x2de)+_0x29af67['id']+_0x24a5c6(0xacc):'')+_0x24a5c6(0x8a2)+(!_0x2f0a46[_0x24a5c6(0x306)]?_0x24a5c6(0x271)+_0x29af67['id']+_0x24a5c6(0xc2b):'')+_0x24a5c6(0x8a2)+_0x289968+_0x24a5c6(0x918);})[_0x57ef39(0x51a)](''):_0x57ef39(0xb85),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x107d57=_0xe56031;document['querySelectorAll'](_0x107d57(0x4a2))[_0x107d57(0x215)](_0x4e7772=>{const _0x430778=_0x107d57;_0x4e7772[_0x430778(0x395)]('click',_0x31fcd0=>{const _0x253b4b=_0x430778;activeShortcutTabId=_0x31fcd0[_0x253b4b(0xa0b)]['dataset']['tabId'],renderAdditionalShortcutsModal();}),_0x4e7772[_0x430778(0x395)](_0x430778(0x801),_0x5b0f8a=>{const _0x4567ff=_0x430778,_0x165e66=_0x5b0f8a['currentTarget'];_0x165e66['querySelector'](_0x4567ff(0x33e))['classList'][_0x4567ff(0xd54)](_0x4567ff(0xa91));const _0x4438a6=_0x165e66['querySelector'](_0x4567ff(0x524));_0x4438a6['classList']['remove'](_0x4567ff(0xa91)),_0x4438a6['focus'](),_0x4438a6[_0x4567ff(0xc79)]();});}),document[_0x107d57(0x30c)](_0x107d57(0x524))[_0x107d57(0x215)](_0x2ae740=>{const _0x43c294=_0x107d57,_0x31fc7b=()=>{const _0x4520e4=_0x352e,_0x52cce5=_0x2ae740[_0x4520e4(0xd63)](_0x4520e4(0x4a2))[_0x4520e4(0xada)]['tabId'];handleRenameShortcutTab(_0x52cce5,_0x2ae740[_0x4520e4(0x9ef)]);};_0x2ae740[_0x43c294(0x395)](_0x43c294(0x3af),_0x31fc7b),_0x2ae740[_0x43c294(0x395)]('keydown',_0x546236=>{const _0x3b0df2=_0x43c294;if(_0x546236[_0x3b0df2(0x814)]===_0x3b0df2(0x26b))_0x2ae740[_0x3b0df2(0x3af)]();});}),document[_0x107d57(0x30c)](_0x107d57(0xd81))['forEach'](_0x47a5a7=>{const _0x1ebcdb=_0x107d57;_0x47a5a7[_0x1ebcdb(0x395)](_0x1ebcdb(0xafd),_0x5af05a=>handleDeleteShortcutTab(_0x5af05a[_0x1ebcdb(0xa0b)][_0x1ebcdb(0xada)][_0x1ebcdb(0x500)]));}),document[_0x107d57(0x30c)]('.move-shortcut-item')['forEach'](_0x5f5766=>{const _0x2d6481=_0x107d57;_0x5f5766[_0x2d6481(0x395)]('click',_0x2dca48=>{const _0x2e417a=_0x2d6481;_0x2dca48[_0x2e417a(0x6e6)]();const {shortcutId:_0x5a9c0e,targetTabId:_0x710021}=_0x2dca48[_0x2e417a(0xa0b)]['dataset'];handleMoveShortcutToTab(_0x5a9c0e,_0x710021);});}),document[_0x107d57(0x30c)]('.remove-shortcut-from-tab-btn')[_0x107d57(0x215)](_0x4b0913=>{const _0x2555df=_0x107d57;_0x4b0913[_0x2555df(0x395)](_0x2555df(0xafd),_0x2ea475=>{const _0xdb96ab=_0x2555df;handleRemoveShortcutFromTab(_0x2ea475[_0xdb96ab(0xa0b)][_0xdb96ab(0xada)]['shortcutId'],activeShortcutTabId);});});const _0x2baee4=document[_0x107d57(0x581)]('additional-shortcuts-list');_0x2baee4[_0x107d57(0x30c)](_0x107d57(0xc1a))[_0x107d57(0x215)](_0x2fa8af=>{_0x2fa8af['addEventListener']('click',()=>{const _0x23b93a=_0x352e;document[_0x23b93a(0x581)](_0x23b93a(0x251))[_0x23b93a(0x3f5)][_0x23b93a(0xd54)]('hidden'),handleShortcutClick(_0x2fa8af[_0x23b93a(0xada)]['id']);});});let _0x363503=null;_0x2baee4[_0x107d57(0x395)](_0x107d57(0xc45),_0x51c375=>{const _0x169c57=_0x107d57;_0x363503=_0x51c375[_0x169c57(0x8d1)][_0x169c57(0xd63)]('.shortcut-list-item'),_0x363503&&setTimeout(()=>_0x363503['classList'][_0x169c57(0xd54)](_0x169c57(0xa48)),0x0);}),_0x2baee4[_0x107d57(0x395)](_0x107d57(0x99b),()=>{const _0x6d201f=_0x107d57;_0x363503&&(_0x363503[_0x6d201f(0x3f5)][_0x6d201f(0xbb6)](_0x6d201f(0xa48)),_0x363503=null);}),_0x2baee4['addEventListener'](_0x107d57(0x8dd),_0x37e804=>{const _0x39d96b=_0x107d57;_0x37e804[_0x39d96b(0x6e6)]();const _0x54b232=[..._0x2baee4['querySelectorAll'](_0x39d96b(0xae2))][_0x39d96b(0x89f)]((_0x1ce172,_0x4e4369)=>{const _0x1420a3=_0x39d96b,_0x5c782f=_0x4e4369[_0x1420a3(0x36a)](),_0x2152f6=_0x37e804[_0x1420a3(0x316)]-_0x5c782f[_0x1420a3(0x56f)]-_0x5c782f[_0x1420a3(0x7c5)]/0x2;return _0x2152f6<0x0&&_0x2152f6>_0x1ce172['offset']?{'offset':_0x2152f6,'element':_0x4e4369}:_0x1ce172;},{'offset':Number[_0x39d96b(0xc17)]})[_0x39d96b(0xd93)];_0x54b232==null?_0x2baee4[_0x39d96b(0xb81)](_0x363503):_0x2baee4[_0x39d96b(0xb4f)](_0x363503,_0x54b232);}),_0x2baee4[_0x107d57(0x395)]('drop',_0xa333a6=>{const _0x35ca50=_0x107d57;_0xa333a6[_0x35ca50(0x6e6)]();if(_0x363503){const _0x2d15ef=[..._0x2baee4[_0x35ca50(0x30c)](_0x35ca50(0x280))][_0x35ca50(0xaa7)](_0x375852=>_0x375852['dataset'][_0x35ca50(0x758)]);handleShortcutOrderChange(activeShortcutTabId,_0x2d15ef);}}),document[_0x107d57(0x30c)](_0x107d57(0x1f5))[_0x107d57(0x215)](_0x4157a2=>{const _0x171ff7=_0x107d57;_0x4157a2[_0x171ff7(0x395)](_0x171ff7(0xafd),_0x4b93e4=>{const _0x353336=_0x171ff7;_0x4b93e4[_0x353336(0x3c9)]();const _0x4469f6=_0x4b93e4['currentTarget'][_0x353336(0xcf6)],_0x33d523=_0x4469f6[_0x353336(0x3f5)]['contains'](_0x353336(0xa91));document['querySelectorAll']('.move-shortcut-dropdown')[_0x353336(0x215)](_0x2746d5=>_0x2746d5[_0x353336(0x3f5)]['add'](_0x353336(0xa91))),_0x33d523&&_0x4469f6[_0x353336(0x3f5)][_0x353336(0xbb6)](_0x353336(0xa91));});});}document[_0xe56031(0x395)](_0xe56031(0xafd),_0x46e857=>{const _0x42b774=_0xe56031;!_0x46e857[_0x42b774(0x8d1)][_0x42b774(0xd63)](_0x42b774(0x799))&&document[_0x42b774(0x30c)](_0x42b774(0xae7))['forEach'](_0x55866f=>_0x55866f[_0x42b774(0x3f5)][_0x42b774(0xd54)](_0x42b774(0xa91)));});async function saveShortcutConfig(){const _0x36a01b=_0xe56031,_0x39901b=doc(db,_0x36a01b(0x2f5),'dashboardConfig');try{await setDoc(_0x39901b,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x1b0f2f){console[_0x36a01b(0x90c)](_0x36a01b(0x967),_0x1b0f2f);}}async function handleAddShortcutTab(){const _0x1ad21b=_0xe56031,_0x5b8819=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0x1ad21b(0x31b));if(!_0x5b8819||_0x5b8819['trim']()==='')return;shortcutTabs['push']({'id':_0x1ad21b(0x95c)+Date[_0x1ad21b(0x5bd)](),'name':_0x5b8819['trim'](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x5f242b,_0x1e4145){const _0x46c9a3=_0xe56031,_0x1ce6df=shortcutTabs[_0x46c9a3(0x692)](_0x535306=>_0x535306['id']===_0x5f242b);_0x1ce6df&&_0x1e4145[_0x46c9a3(0xd92)]()!==''&&(_0x1ce6df[_0x46c9a3(0xb95)]=_0x1e4145[_0x46c9a3(0xd92)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x1d12fd){const _0x5ef648=_0xe56031,_0x1bba05=shortcutTabs[_0x5ef648(0x692)](_0x385e3d=>_0x385e3d['id']===_0x1d12fd);_0x1bba05&&!_0x1bba05[_0x5ef648(0x306)]&&showConfirmation('คุณแน่ใจว่าต้องการลบแท็บ\x20\x22'+_0x1bba05[_0x5ef648(0xb95)]+'\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)',async()=>{const _0x251dc8=_0x5ef648;shortcutTabs=shortcutTabs[_0x251dc8(0x23d)](_0x53f62e=>_0x53f62e['id']!==_0x1d12fd),delete shortcutOrder[_0x1d12fd];if(activeShortcutTabId===_0x1d12fd)activeShortcutTabId=_0x251dc8(0x5bf);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x189d5f,_0x3799d4){const _0x3a9612=_0xe56031,_0x4cda13=shortcutTabs[_0x3a9612(0x692)](_0x34b166=>_0x34b166['id']===_0x3799d4);_0x4cda13&&!_0x4cda13['shortcutIds']['includes'](_0x189d5f)&&(_0x4cda13[_0x3a9612(0xbd0)][_0x3a9612(0x632)](_0x189d5f),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x2470e9,_0x30aaf1){const _0x5847f7=_0xe56031,_0x19371b=shortcutTabs['find'](_0x3d0b45=>_0x3d0b45['id']===_0x30aaf1);_0x19371b&&!_0x19371b[_0x5847f7(0x306)]&&(_0x19371b[_0x5847f7(0xbd0)]=_0x19371b[_0x5847f7(0xbd0)][_0x5847f7(0x23d)](_0x22e470=>_0x22e470!==_0x2470e9),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x5cce9e,_0x59b34e){shortcutOrder[_0x5cce9e]=_0x59b34e,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x3f9c21=_0xe56031,_0x1232d1=document[_0x3f9c21(0x581)]('blueprint-shortcut-container'),_0x477e8a=document[_0x3f9c21(0x581)](_0x3f9c21(0x383)),_0x3667d9=document[_0x3f9c21(0x581)](_0x3f9c21(0x5fa));_0x3667d9&&_0x3667d9[_0x3f9c21(0x3f5)][_0x3f9c21(0xd54)](_0x3f9c21(0xa91));if(!_0x1232d1||!_0x477e8a)return;const _0x46c31a=blueprintShortcuts[_0x3f9c21(0xc09)](0x0,0x4),_0x6d1c5f=blueprintShortcuts[_0x3f9c21(0xc09)](0x4);_0x1232d1[_0x3f9c21(0x81c)]=_0x46c31a[_0x3f9c21(0xaa7)](_0x17995c=>{const _0x4bf197=_0x3f9c21;let _0x377fd7='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x3446d3='🧩';if(_0x17995c[_0x4bf197(0xc40)]&&_0x17995c[_0x4bf197(0x962)])_0x377fd7=_0x4bf197(0x738),_0x3446d3='📗';else _0x17995c['blueprintUrl']&&(_0x377fd7=_0x4bf197(0x44d),_0x3446d3='📘');const _0x3de6e8=!_0x17995c[_0x4bf197(0x306)]?'<button\x20data-id=\x22'+_0x17995c['id']+_0x4bf197(0x346):'';return _0x4bf197(0x691)+_0x17995c['id']+_0x4bf197(0x889)+_0x377fd7+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x3446d3+'\x20'+_0x17995c[_0x4bf197(0xb95)]+_0x4bf197(0x745)+_0x17995c['id']+_0x4bf197(0xd40)+_0x3de6e8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3f9c21(0x51a)](''),_0x6d1c5f['length']>0x0&&(_0x1232d1['innerHTML']+=_0x3f9c21(0xb4b)),_0x6d1c5f[_0x3f9c21(0xb5d)]>0x0?_0x477e8a[_0x3f9c21(0x81c)]=_0x6d1c5f[_0x3f9c21(0xaa7)](_0x42716a=>{const _0x180ed7=_0x3f9c21;let _0x2a07ab='🧩';if(_0x42716a[_0x180ed7(0xc40)]&&_0x42716a[_0x180ed7(0x962)])_0x2a07ab='📗';else _0x42716a[_0x180ed7(0xc40)]&&(_0x2a07ab='📘');return _0x180ed7(0x1a1)+_0x2a07ab+'\x20'+_0x42716a['name']+_0x180ed7(0x239)+_0x42716a['id']+_0x180ed7(0x264)+_0x42716a['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x42716a[_0x180ed7(0x306)]?_0x180ed7(0x2de)+_0x42716a['id']+_0x180ed7(0xacc):'')+_0x180ed7(0xb74);})[_0x3f9c21(0x51a)](''):_0x477e8a[_0x3f9c21(0x81c)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function getMimeTypeFromFilename(_0x82ffd4){const _0xb6cbb6=_0xe56031,_0x220e60=_0x82ffd4[_0xb6cbb6(0x580)]('.')[_0xb6cbb6(0x298)]()['toLowerCase']();switch(_0x220e60){case'pdf':return _0xb6cbb6(0x3a4);case _0xb6cbb6(0x5eb):return _0xb6cbb6(0x7db);default:return _0xb6cbb6(0x3a4);}}function openShortcutEditor(_0x33d1b6=null){const _0x2828ea=_0xe56031,_0x3a5414=document[_0x2828ea(0x581)](_0x2828ea(0xcee)),_0x58aab4=document[_0x2828ea(0x581)](_0x2828ea(0x31d)),_0x55a1b4=document['getElementById'](_0x2828ea(0x45f)),_0x278991=document[_0x2828ea(0x581)](_0x2828ea(0xd06)),_0x1d18f5=document['getElementById'](_0x2828ea(0xa51)),_0x5d0ada=document[_0x2828ea(0x581)](_0x2828ea(0x66e));if(_0x33d1b6){const _0x12e3b9=blueprintShortcuts[_0x2828ea(0x692)](_0x3a983d=>_0x3a983d['id']===_0x33d1b6);if(!_0x12e3b9)return;_0x58aab4['textContent']=_0x2828ea(0x1b6),_0x55a1b4['value']=_0x12e3b9['id'],_0x278991[_0x2828ea(0x9ef)]=_0x12e3b9[_0x2828ea(0xb95)],_0x1d18f5[_0x2828ea(0x9ef)]=_0x12e3b9['blueprintUrl']||'',_0x5d0ada[_0x2828ea(0x9ef)]=_0x12e3b9[_0x2828ea(0x962)]||'';}else _0x58aab4['textContent']=_0x2828ea(0xd75),_0x55a1b4[_0x2828ea(0x9ef)]='',_0x278991['value']='',_0x1d18f5[_0x2828ea(0x9ef)]='',_0x5d0ada[_0x2828ea(0x9ef)]='';_0x3a5414['classList'][_0x2828ea(0xbb6)]('hidden');}async function saveShortcutChanges(){const _0x4667c6=_0xe56031,_0x59e8b3=document[_0x4667c6(0x581)](_0x4667c6(0x45f))['value'],_0x42137e=document['getElementById']('shortcut-name-input')['value']['trim'](),_0xaef10b=document[_0x4667c6(0x581)](_0x4667c6(0xa51))[_0x4667c6(0x9ef)][_0x4667c6(0xd92)]();if(!_0x42137e||!_0xaef10b){showMessage(_0x4667c6(0x261));return;}const _0x5a78c8={'id':_0x59e8b3||_0x4667c6(0x5b7)+Date[_0x4667c6(0x5bd)](),'name':_0x42137e,'blueprintUrl':_0xaef10b,'referenceUrl':document[_0x4667c6(0x581)](_0x4667c6(0x66e))[_0x4667c6(0x9ef)][_0x4667c6(0xd92)](),'isDefault':_0x59e8b3['startsWith']('default-')};let _0x2c8c54;_0x59e8b3?_0x2c8c54=blueprintShortcuts[_0x4667c6(0xaa7)](_0x4640af=>_0x4640af['id']===_0x59e8b3?_0x5a78c8:_0x4640af):_0x2c8c54=[...blueprintShortcuts,_0x5a78c8];try{const _0xb73145=doc(db,'globalSettings',_0x4667c6(0xa4c));await setDoc(_0xb73145,{'blueprintShortcuts':_0x2c8c54},{'merge':!![]}),document['getElementById'](_0x4667c6(0xcee))[_0x4667c6(0x3f5)][_0x4667c6(0xd54)]('hidden');}catch(_0x433c15){console[_0x4667c6(0x90c)](_0x4667c6(0xb9a),_0x433c15),showMessage(_0x4667c6(0x25a));}}async function handleShortcutClick(_0x5737d5){const _0x42585a=_0xe56031,_0x1fe1ca=blueprintShortcuts[_0x42585a(0x692)](_0x5e4c94=>_0x5e4c94['id']===_0x5737d5);if(!_0x1fe1ca||!_0x1fe1ca[_0x42585a(0xc40)])return;document['getElementById'](_0x42585a(0xc21))['classList'][_0x42585a(0xd54)](_0x42585a(0xa91)),document[_0x42585a(0x581)]('generate-from-blueprint-btn')[_0x42585a(0x5ba)]=!![];const _0x330cc1=document[_0x42585a(0x581)]('loader'),_0x2f216b=document[_0x42585a(0x581)](_0x42585a(0x566));document[_0x42585a(0x581)](_0x42585a(0x1e1))[_0x42585a(0x3f5)]['remove'](_0x42585a(0xa91)),document[_0x42585a(0x581)](_0x42585a(0x7de))[_0x42585a(0x81c)]='',_0x330cc1['classList'][_0x42585a(0xbb6)](_0x42585a(0xa91));try{_0x2f216b[_0x42585a(0x25c)]=_0x42585a(0x2d9);const _0x3745a6=await fetchFileFromUrl(_0x1fe1ca[_0x42585a(0xc40)],_0x42585a(0xa14));let _0x32fe0d=null;if(_0x1fe1ca[_0x42585a(0x962)]){_0x2f216b[_0x42585a(0x25c)]=_0x42585a(0x2bc);const _0x442186=_0x1fe1ca[_0x42585a(0x962)][_0x42585a(0x7e9)]()[_0x42585a(0x409)](_0x42585a(0xa16))?_0x42585a(0x1a7):_0x42585a(0x6b1);_0x32fe0d=await fetchFileFromUrl(_0x1fe1ca[_0x42585a(0x962)],_0x442186);}await handleGenerateFromBlueprintWithFiles(_0x3745a6,_0x32fe0d);}catch(_0x2429ce){console[_0x42585a(0x90c)](_0x42585a(0x5b4),_0x2429ce),showMessage(_0x42585a(0xb5c)+_0x2429ce['message']),_0x330cc1[_0x42585a(0x3f5)][_0x42585a(0xd54)](_0x42585a(0xa91));}}function getDirectDownloadUrl(_0xae4980){const _0x565200=_0xe56031,_0x5e93b3=_0xae4980[_0x565200(0x1bf)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x5e93b3&&_0x5e93b3[0x1])return'https://drive.google.com/uc?export=download&id='+_0x5e93b3[0x1];return _0xae4980;}async function fetchFileFromUrl(_0x28e0cf,_0x103799){const _0x13b602=_0xe56031,_0x3c89c7=getDirectDownloadUrl(_0x28e0cf),_0x459500='https://corsproxy.io/?'+encodeURIComponent(_0x3c89c7),_0x35a697=await fetch(_0x459500);if(!_0x35a697['ok'])throw new Error(_0x13b602(0x3f0)+_0x35a697[_0x13b602(0x342)]+')');const _0x5bf3d2=await _0x35a697[_0x13b602(0xa18)](),_0x4f188d=await new Promise((_0x33726f,_0x7970ee)=>{const _0x4fb0a3=_0x13b602,_0x58ae38=new FileReader();_0x58ae38[_0x4fb0a3(0xac3)]=()=>_0x33726f(new Uint8Array(_0x58ae38[_0x4fb0a3(0x45b)])),_0x58ae38[_0x4fb0a3(0x4d3)]=_0x7970ee,_0x58ae38['readAsArrayBuffer'](_0x5bf3d2[_0x4fb0a3(0xc09)](0x0,0x4));});let _0xe6afe9='';const _0x3ec072=new TextDecoder()[_0x13b602(0xc7a)](_0x4f188d);return _0x3ec072==='%PDF'?(_0xe6afe9=_0x13b602(0x3a4),console[_0x13b602(0xaef)](_0x13b602(0xd4b))):(_0xe6afe9=_0x13b602(0x7db),console[_0x13b602(0xaef)]('File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.')),new File([_0x5bf3d2],_0x103799,{'type':_0xe6afe9});}async function handleGenerateFromBlueprintWithFiles(_0x25ad1d,_0x428e43=null){const _0x34e332=_0xe56031;if(!_0x25ad1d){showMessage(_0x34e332(0x238));return;}const _0x46efb9=document[_0x34e332(0x581)](_0x34e332(0x86b)),_0x406ab6=document[_0x34e332(0x581)]('loader-text');_0x46efb9[_0x34e332(0x3f5)][_0x34e332(0xbb6)](_0x34e332(0xa91)),document[_0x34e332(0x581)](_0x34e332(0x1e1))['classList']['remove'](_0x34e332(0xa91)),document['getElementById'](_0x34e332(0x7de))['innerHTML']='';try{_0x406ab6['textContent']=_0x34e332(0x4c8);const _0xfb05d8=await new Promise((_0x5b7d34,_0x4db1a8)=>{const _0x353a99=_0x34e332,_0x307fa3=new FileReader();_0x307fa3[_0x353a99(0xc05)](_0x25ad1d),_0x307fa3['onload']=()=>_0x5b7d34(_0x307fa3[_0x353a99(0x45b)]['split'](',')[0x1]),_0x307fa3[_0x353a99(0x4d3)]=_0x4db1a8;}),_0x55e561=[];if(_0x428e43){_0x406ab6[_0x34e332(0x25c)]='กำลังอ่านไฟล์อ้างอิง...';const _0x2219a3=await _0x428e43['text']();_0x55e561[_0x34e332(0x632)]({'text':_0x34e332(0xb73)+_0x2219a3});}const _0x218d34=[{'text':_0x34e332(0x62a)},{'inlineData':{'mimeType':_0x25ad1d[_0x34e332(0x852)],'data':_0xfb05d8}},..._0x55e561];await handleGenerateFromBlueprint(_0x218d34);}catch(_0xa2af92){console[_0x34e332(0x90c)]('Error\x20in\x20generating\x20from\x20files:',_0xa2af92),showMessage(_0x34e332(0xb5c)+_0xa2af92[_0x34e332(0x76b)]),_0x46efb9[_0x34e332(0x3f5)]['add']('hidden');}}async function handleLiveAnswer(_0x21a14b,_0x75bce3){const _0x10fff5=_0xe56031;document[_0x10fff5(0x30c)]('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x10fff5(0x215)](_0x128000=>_0x128000[_0x10fff5(0x5ba)]=!![]);const _0x14b907=_0x75bce3[_0x10fff5(0xabf)]||currentQuizData['quizType'];let _0x51cfad=![],_0x38c9ab=_0x21a14b;if(_0x14b907===_0x10fff5(0xcb9)){const _0x2e3a71=(_0x21a14b||'')[_0x10fff5(0xd2a)]();_0x51cfad=await gradeShortAnswer(_0x2e3a71,_0x75bce3);}else{if(_0x14b907===_0x10fff5(0x84f))_0x51cfad=_0x21a14b===_0x75bce3['correctAnswerIndex'];else{if(_0x14b907==='true_false'){const _0xbb3e6b=_0x75bce3[_0x10fff5(0x39b)];_0x51cfad=_0x21a14b===0x0&&_0xbb3e6b||_0x21a14b===0x1&&!_0xbb3e6b;}else{if(_0x14b907==='matching_item'){const _0x39935c=_0x75bce3[_0x10fff5(0x433)][_0x21a14b];_0x51cfad=_0x39935c===_0x75bce3[_0x10fff5(0x37a)],_0x38c9ab=_0x39935c;}}}}const _0x5cfccd=doc(db,_0x10fff5(0x637)+appId+_0x10fff5(0x33a),currentLiveGameId),_0x2a0f38={};_0x2a0f38[_0x10fff5(0xd95)+currentStudentName+_0x10fff5(0x6c2)]=!![],_0x2a0f38[_0x10fff5(0xd95)+currentStudentName+_0x10fff5(0x48a)]=_0x51cfad,_0x2a0f38[_0x10fff5(0xd95)+currentStudentName+'.lastAnswerIndex']=_0x14b907==='short_answer'||_0x14b907===_0x10fff5(0xaa0)?null:_0x21a14b,_0x2a0f38[_0x10fff5(0xd95)+currentStudentName+_0x10fff5(0x921)]=_0x38c9ab,_0x2a0f38[_0x10fff5(0xd95)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x2a0f38[_0x10fff5(0xd95)+currentStudentName+'.isScored']=![],await updateDoc(_0x5cfccd,_0x2a0f38),liveGameView['innerHTML']='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x1d2cdf,_0x434e55){const _0x88de86=_0xe56031,_0x431586=Object['values'](_0x1d2cdf['players']||{}),_0x4b762f=_0x434e55[_0x88de86(0xabf)]||currentQuizData[_0x88de86(0xd7d)],_0x330946=_0x4b762f===_0x88de86(0xa12)?[_0x88de86(0xc6b),'ไม่ใช่']:_0x434e55[_0x88de86(0x578)]||_0x434e55[_0x88de86(0x433)]||[],_0x5aa78f={},_0x1f166f=new Array(_0x330946[_0x88de86(0xb5d)])[_0x88de86(0x415)](0x0);_0x330946[_0x88de86(0x215)]((_0x592371,_0x2e2f81)=>{_0x5aa78f[_0x2e2f81]=[];}),Object[_0x88de86(0x71a)](_0x1d2cdf['players']||{})['forEach'](([_0x250e7a,_0x126712])=>{const _0x215a12=_0x88de86;if(_0x126712[_0x215a12(0x342)]===_0x215a12(0xd41)&&_0x126712[_0x215a12(0xb06)]!==undefined){const _0x1e61ac=_0x126712[_0x215a12(0xb06)];_0x5aa78f[_0x1e61ac]&&(_0x5aa78f[_0x1e61ac][_0x215a12(0x632)](_0x250e7a),_0x1f166f[_0x1e61ac]++);}});const _0xbfa6a=Math[_0x88de86(0xc02)](..._0x1f166f,0x1),_0x3b1223=_0x88de86(0x667)+(_0x434e55[_0x88de86(0x3b4)]||_0x434e55[_0x88de86(0x562)])+_0x88de86(0x9d0)+_0x1f166f[_0x88de86(0xaa7)]((_0x1e30ce,_0xaf24ea)=>{const _0x1b9369=_0x88de86,_0x311d96=_0x5aa78f[_0xaf24ea][_0x1b9369(0xb5d)]>0x0?_0x5aa78f[_0xaf24ea][_0x1b9369(0x51a)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้';let _0x1fee47=![];if(_0x4b762f===_0x1b9369(0x84f))_0x1fee47=_0xaf24ea===_0x434e55[_0x1b9369(0x37b)];else{if(_0x4b762f===_0x1b9369(0xa12)){const _0x266a77=_0x434e55[_0x1b9369(0x39b)];_0x1fee47=_0x266a77&&_0xaf24ea===0x0||!_0x266a77&&_0xaf24ea===0x1;}else _0x4b762f===_0x1b9369(0xaa0)&&(_0x1fee47=_0x330946[_0xaf24ea]===_0x434e55['correctResponse']);}const _0x21487b=_0x1fee47?_0x1b9369(0x5fd):_0x1b9369(0x5ae);return _0x1b9369(0x6c9)+_0x1e30ce+_0x1b9369(0x58f)+_0x21487b+_0x1b9369(0x54f)+_0xaf24ea+_0x1b9369(0x396)+_0x330946[_0xaf24ea]+_0x1b9369(0xb77)+_0xaf24ea+_0x1b9369(0xa67)+_0x311d96+_0x1b9369(0x86d);})[_0x88de86(0x51a)]('')+_0x88de86(0x592);liveGameView['innerHTML']=_0x3b1223;if(window[_0x88de86(0x609)])MathJax[_0x88de86(0x461)]();document[_0x88de86(0x581)](_0x88de86(0x1e3))['addEventListener'](_0x88de86(0xafd),async()=>{const _0x5549d7=_0x88de86,_0x4be37c=doc(db,_0x5549d7(0x637)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x4be37c,{'questionStatus':_0x5549d7(0xa88)});}),document[_0x88de86(0x581)](_0x88de86(0x8c2))[_0x88de86(0x395)](_0x88de86(0xafd),()=>{openScratchpad(_0x434e55,_0x330946);});}function showPlayerSummaryView(_0x3c438e,_0x707700){const _0x434afb=_0xe56031,_0x5cd4fc=Object[_0x434afb(0xa03)](_0x3c438e[_0x434afb(0xbaf)]||{}),_0xc2c969=_0x3c438e[_0x434afb(0xbaf)][_0x707700],_0x4fd1df=_0x5cd4fc[_0x434afb(0x23d)](_0x4e5c4a=>_0x4e5c4a[_0x434afb(0x342)]===_0x434afb(0xd41))[_0x434afb(0x57f)]((_0x59906a,_0x8f0be7)=>_0x8f0be7['score']-_0x59906a[_0x434afb(0x9b7)]),_0x598ea1=_0x4fd1df[_0x434afb(0x8cc)](_0x50a641=>_0x50a641===_0xc2c969)+0x1,_0x4355ad=_0xc2c969[_0x434afb(0x31a)]?_0x434afb(0xa49):'ผิด',_0x516945=_0xc2c969[_0x434afb(0x31a)]?_0x434afb(0x25f):_0x434afb(0x658),_0x2ef5fa=_0xc2c969[_0x434afb(0x999)]||0x0,_0x654ada='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x1c2a33=_0x434afb(0x76f)+_0x654ada+_0x434afb(0x59d)+_0x516945+_0x434afb(0x32a)+_0x4355ad+_0x434afb(0xa94)+_0x2ef5fa+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>'+(_0x598ea1>0x0?_0x598ea1:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x434afb(0x81c)]=_0x1c2a33;}function createQuizFromBank(){const _0x5e637b=_0xe56031,_0x59242a=document['querySelectorAll'](_0x5e637b(0x560));if(_0x59242a[_0x5e637b(0xb5d)]===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x1b6b00=[];_0x59242a[_0x5e637b(0x215)](_0x30175=>{const _0x1ff142=_0x5e637b;_0x1b6b00[_0x1ff142(0x632)](JSON[_0x1ff142(0x559)](_0x30175['value']));});const _0x199667={'topic':_0x5e637b(0x704),'questions':_0x1b6b00};displayGeneratedQuiz(_0x199667);}function showAdminLobbyView(_0xac49a9,_0x1b3967){const _0x396dec=_0xe56031;showView(_0x396dec(0xa13));const _0xefc2f9=_0x396dec(0x754)+_0x1b3967+_0x396dec(0x488)+_0xac49a9+_0x396dec(0xb00);liveGameView[_0x396dec(0x81c)]=_0xefc2f9,document[_0x396dec(0x581)]('start-game-btn')[_0x396dec(0x395)]('click',async()=>{const _0x31192a=_0x396dec;if(!currentQuizData||!currentQuizData[_0x31192a(0xafb)]||currentQuizData[_0x31192a(0xafb)][_0x31192a(0xb5d)]===0x0){showMessage(_0x31192a(0x896));return;}try{const _0x43ebc9=doc(db,_0x31192a(0x637)+appId+_0x31192a(0x33a),currentLiveGameId);await updateDoc(_0x43ebc9,{'status':_0x31192a(0x2c3),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x1ad920=currentQuizData[_0x31192a(0xafb)][0x0],_0x2d6216=currentQuizData[_0x31192a(0xafb)][_0x31192a(0xb5d)];showAdminLiveQuestionView(_0x1ad920,0x0,_0x2d6216);}catch(_0xdc1263){console[_0x31192a(0x90c)](_0x31192a(0x8d7),_0xdc1263),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openQuizBankModal(){const _0x45a3d5=_0xe56031;if(allQuizzesGlobal['length']===0x0){const _0x50674f=await getDocs(collection(db,_0x45a3d5(0x637)+appId+_0x45a3d5(0x6cd)));allQuizzesGlobal=_0x50674f['docs'][_0x45a3d5(0xaa7)](_0x30e444=>({'id':_0x30e444['id'],..._0x30e444[_0x45a3d5(0x610)]()}));}renderQuizBankList(''),document['getElementById'](_0x45a3d5(0x533))[_0x45a3d5(0x3f5)][_0x45a3d5(0xbb6)](_0x45a3d5(0xa91));}function renderQuizBankList(_0x3927e1='',_0x590dbb=![]){const _0x34933f=_0xe56031,_0x3bd15b=document[_0x34933f(0x581)](_0x34933f(0xb84)),_0x136455=_0x3927e1[_0x34933f(0x7e9)]()[_0x34933f(0xd92)](),_0x6f7635=allQuizzesGlobal['map'](_0x22c828=>({..._0x22c828,'projectName':allProjects['find'](_0x152871=>_0x152871['id']===_0x22c828[_0x34933f(0x971)])?.[_0x34933f(0xb3f)]||_0x34933f(0x728)}))['filter'](_0x2cd818=>(_0x2cd818[_0x34933f(0x5c5)]||'')['toLowerCase']()[_0x34933f(0x6f7)](_0x136455)||(_0x2cd818['projectName']||'')[_0x34933f(0x7e9)]()[_0x34933f(0x6f7)](_0x136455)||_0x2cd818['id'][_0x34933f(0xd2a)]()[_0x34933f(0x6f7)](_0x136455));document[_0x34933f(0x581)](_0x34933f(0x890))[_0x34933f(0x25c)]='('+_0x6f7635['length']+_0x34933f(0xd58),_0x3bd15b[_0x34933f(0x81c)]=_0x6f7635[_0x34933f(0xb5d)]?_0x6f7635[_0x34933f(0xaa7)](_0x27eaee=>{const _0x2027fa=_0x34933f,_0x3246a4=!_0x590dbb?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x27eaee['id']+_0x2027fa(0xa73)+_0x27eaee['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x27eaee['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x27eaee['id']+_0x2027fa(0xc72)+_0x27eaee['id']+_0x2027fa(0x33c)+_0x27eaee['id']+_0x2027fa(0x634)+_0x27eaee['topic']+_0x2027fa(0x2b0):'';return _0x2027fa(0x8ef)+_0x27eaee['id']+_0x2027fa(0x671)+(_0x27eaee['topic']||_0x2027fa(0x7e8))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x27eaee[_0x2027fa(0xafb)]?.[_0x2027fa(0xb5d)]||0x0)+_0x2027fa(0x1d9)+_0x27eaee[_0x2027fa(0xb3f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x27eaee['id']+_0x2027fa(0x345)+_0x3246a4+_0x2027fa(0x935);})['join'](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',!_0x590dbb&&(_0x3bd15b[_0x34933f(0x30c)](_0x34933f(0x9c1))[_0x34933f(0x215)](_0x183056=>{const _0x507e46=_0x34933f;_0x183056[_0x507e46(0x395)](_0x507e46(0xafd),()=>{const _0x4b504c=_0x507e46,_0x2ec01c=_0x183056['dataset']['id'];document[_0x4b504c(0x581)](_0x4b504c(0x533))[_0x4b504c(0x3f5)][_0x4b504c(0xd54)]('hidden'),showQuizDetailView(_0x2ec01c);});}),_0x3bd15b[_0x34933f(0x30c)](_0x34933f(0xce5))[_0x34933f(0x215)](_0x56c6e5=>{_0x56c6e5['addEventListener']('click',_0x453d60=>{const _0x6e15d7=_0x352e;_0x453d60['stopPropagation']();const _0x59e8ae=_0x56c6e5[_0x6e15d7(0xada)]['id'],_0x2070cb=allQuizzesGlobal[_0x6e15d7(0x692)](_0x1f6bba=>_0x1f6bba['id']===_0x59e8ae);_0x2070cb?(currentQuizData=_0x2070cb,document[_0x6e15d7(0x581)](_0x6e15d7(0x533))[_0x6e15d7(0x3f5)][_0x6e15d7(0xd54)](_0x6e15d7(0xa91)),startAdminTest()):showMessage(_0x6e15d7(0x6d6));});}),_0x3bd15b['querySelectorAll'](_0x34933f(0xb3d))[_0x34933f(0x215)](_0x3409ec=>{const _0x2fdfc6=_0x34933f;_0x3409ec[_0x2fdfc6(0x395)](_0x2fdfc6(0xafd),_0x5cf134=>{const _0x2f6da3=_0x2fdfc6;_0x5cf134[_0x2f6da3(0x3c9)]();const _0x4ce86b=_0x3409ec[_0x2f6da3(0xada)]['id'],_0x4b6556=allQuizzesGlobal[_0x2f6da3(0x692)](_0x43282a=>_0x43282a['id']===_0x4ce86b);_0x4b6556?(document[_0x2f6da3(0x581)](_0x2f6da3(0x533))[_0x2f6da3(0x3f5)][_0x2f6da3(0xd54)]('hidden'),handleGenerateParallelFromBank(_0x4b6556)):showMessage(_0x2f6da3(0x6d6));});}),_0x3bd15b['querySelectorAll'](_0x34933f(0xcf3))[_0x34933f(0x215)](_0x204a4d=>{const _0x35bdfa=_0x34933f;_0x204a4d[_0x35bdfa(0x395)]('click',_0x298ba1=>{const _0x12e3bf=_0x35bdfa;_0x298ba1[_0x12e3bf(0x3c9)]();const _0x2e4eb6=_0x204a4d['dataset']['id'],_0x2d95c8=allQuizzesGlobal['find'](_0x5cda9c=>_0x5cda9c['id']===_0x2e4eb6);_0x2d95c8?(document[_0x12e3bf(0x581)](_0x12e3bf(0x533))['classList'][_0x12e3bf(0xd54)]('hidden'),startPresentation(_0x2d95c8)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x3bd15b['querySelectorAll'](_0x34933f(0xb4c))[_0x34933f(0x215)](_0x10d6bb=>{_0x10d6bb['addEventListener']('click',_0x47a9da=>{const _0x28cd70=_0x352e;_0x47a9da[_0x28cd70(0x3c9)]();const _0x1d388a=_0x10d6bb[_0x28cd70(0xada)]['id'];document['getElementById'](_0x28cd70(0x533))[_0x28cd70(0x3f5)]['add'](_0x28cd70(0xa91)),handleMoveQuiz(_0x1d388a);});}),_0x3bd15b['querySelectorAll'](_0x34933f(0xab6))[_0x34933f(0x215)](_0x3ebac5=>{const _0x262ef7=_0x34933f;_0x3ebac5['addEventListener'](_0x262ef7(0xafd),_0x8b2b2c=>{const _0x45b314=_0x262ef7;_0x8b2b2c['stopPropagation']();const _0x3711b6=_0x3ebac5[_0x45b314(0xada)]['id'];document[_0x45b314(0x581)](_0x45b314(0x533))[_0x45b314(0x3f5)]['add'](_0x45b314(0xa91)),handleQuizSettings(_0x3711b6);});}),_0x3bd15b['querySelectorAll'](_0x34933f(0x191))['forEach'](_0x29c186=>{const _0x169b36=_0x34933f;_0x29c186[_0x169b36(0x395)](_0x169b36(0xafd),_0x410cd0=>{const _0x26bc7a=_0x169b36;_0x410cd0[_0x26bc7a(0x3c9)]();const _0x265c20=_0x29c186[_0x26bc7a(0xada)]['id'],_0x1a1c39=_0x29c186['dataset']['topic'];showConfirmation(_0x26bc7a(0x685)+_0x1a1c39+_0x26bc7a(0xbf3),()=>handleDeleteQuiz(_0x265c20));});}));}async function handleCompareResults(_0x347848,_0x2b1631){const _0xfe29b7=_0xe56031,_0x59e44b=document[_0xfe29b7(0x581)](_0xfe29b7(0xbd3)),_0x1be379=document[_0xfe29b7(0x581)](_0xfe29b7(0x489)),_0x6ff3c5=document['getElementById'](_0xfe29b7(0x9b5));document['getElementById']('comparison-overall-tab')[_0xfe29b7(0x3f5)][_0xfe29b7(0xd54)](_0xfe29b7(0xd41)),document[_0xfe29b7(0x581)](_0xfe29b7(0x5bb))['classList']['remove'](_0xfe29b7(0xd41)),_0x1be379[_0xfe29b7(0x3f5)][_0xfe29b7(0xbb6)]('hidden'),_0x6ff3c5['classList'][_0xfe29b7(0xd54)](_0xfe29b7(0xa91)),_0x1be379['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x6ff3c5['innerHTML']='',_0x59e44b['classList']['remove']('hidden');try{const _0x2e76f0=doc(db,_0xfe29b7(0x637)+appId+_0xfe29b7(0x6cd),_0x347848),_0x4229af=await getDoc(_0x2e76f0);if(!_0x4229af[_0xfe29b7(0x437)]())throw new Error(_0xfe29b7(0x31c));const _0x591f3a=_0x4229af['data'](),_0x5d6c29=_0x591f3a[_0xfe29b7(0xafb)][_0xfe29b7(0xb5d)],_0xdacac9=collection(db,_0xfe29b7(0x637)+appId+'/public/data/quizzes/'+_0x2b1631+'/submissions'),_0x1c76dc=collection(db,_0xfe29b7(0x637)+appId+_0xfe29b7(0x595)+_0x347848+_0xfe29b7(0xbbb)),[_0x3d49c2,_0x1167a2]=await Promise['all']([getDocs(_0xdacac9),getDocs(_0x1c76dc)]),_0x3aa13a=_0x3d49c2[_0xfe29b7(0x3b1)][_0xfe29b7(0xaa7)](_0x20b1e6=>_0x20b1e6[_0xfe29b7(0x610)]()),_0x3e6057=_0x1167a2[_0xfe29b7(0x3b1)]['map'](_0x1f98a7=>_0x1f98a7[_0xfe29b7(0x610)]()),_0xee42c4=_0x3aa13a['map'](_0x4f9ebd=>_0x4f9ebd[_0xfe29b7(0x905)]),_0x10e7bb=_0x3e6057[_0xfe29b7(0xaa7)](_0x426250=>_0x426250[_0xfe29b7(0x905)]),_0x21df66=calculateMeanAndStdDev(_0xee42c4),_0x3db6f7=calculateMeanAndStdDev(_0x10e7bb),_0x2fe7ba=_0x21df66['mean'],_0x364e5b=_0x3db6f7['mean'],_0x38edea=_0x364e5b-_0x2fe7ba;let _0x5749a3=_0xfe29b7(0x244)+_0x2fe7ba[_0xfe29b7(0x72d)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x364e5b[_0xfe29b7(0x72d)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0x38edea>=0x0?_0xfe29b7(0xa0d):_0xfe29b7(0x3bf))+_0xfe29b7(0x20c)+(_0x38edea>=0x0?_0xfe29b7(0x3c8):_0xfe29b7(0x214))+_0xfe29b7(0xc25)+(_0x38edea>=0x0?_0xfe29b7(0x3a3):_0xfe29b7(0xca6))+'\x22>'+(_0x38edea>=0x0?'+':'')+_0x38edea[_0xfe29b7(0x72d)](0x2)+_0xfe29b7(0x69a);_0x1be379[_0xfe29b7(0x81c)]=_0x5749a3;const _0x4a5224=document[_0xfe29b7(0x581)]('comparison-chart')[_0xfe29b7(0xcdf)]('2d');if(chartInstances[_0xfe29b7(0x5bc)])chartInstances['comparison'][_0xfe29b7(0x269)]();chartInstances[_0xfe29b7(0x5bc)]=new Chart(_0x4a5224,{'type':_0xfe29b7(0x6db),'data':{'labels':[_0xfe29b7(0x5dd)],'datasets':[{'label':_0xfe29b7(0x35a),'data':[_0x2fe7ba],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':_0xfe29b7(0x837),'data':[_0x364e5b],'backgroundColor':_0xfe29b7(0x495)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x5d6c29}}}});const _0x6399b5=currentProjectData[_0xfe29b7(0x4c2)]||[],_0x4734be=_0x6399b5['map'](_0x570d87=>{const _0x547c6d=_0xfe29b7,_0x123bab=_0x3aa13a['find'](_0x203308=>_0x203308[_0x547c6d(0x63c)]===_0x570d87),_0x4bb3cb=_0x3e6057['find'](_0x498bad=>_0x498bad[_0x547c6d(0x63c)]===_0x570d87),_0x4d9297=_0x123bab?_0x123bab[_0x547c6d(0x905)]:null,_0x387efa=_0x4bb3cb?_0x4bb3cb[_0x547c6d(0x905)]:null,_0x4a0416=_0x4d9297!==null&&_0x387efa!==null?_0x387efa-_0x4d9297:null,_0x5cbb75=_0x4d9297!==null?calculateZScore(_0x4d9297,_0x21df66[_0x547c6d(0x7d3)],_0x21df66['stdDev']):null,_0x30da52=_0x387efa!==null?calculateZScore(_0x387efa,_0x3db6f7['mean'],_0x3db6f7[_0x547c6d(0xc0a)]):null,_0x5bea5a=_0x5cbb75!==null?calculateTScore(_0x5cbb75):null,_0x291696=_0x30da52!==null?calculateTScore(_0x30da52):null,_0x46f049=_0x5bea5a!==null&&_0x291696!==null?_0x291696-_0x5bea5a:null;return{'name':_0x570d87,'preScore':_0x4d9297,'postScore':_0x387efa,'gain':_0x4a0416,'preTScore':_0x5bea5a,'postTScore':_0x291696,'tGain':_0x46f049};});renderIndividualComparisonTable(_0x4734be,_0x6ff3c5);}catch(_0x2682ee){console[_0xfe29b7(0x90c)](_0xfe29b7(0xabd),_0x2682ee),_0x1be379[_0xfe29b7(0x81c)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}async function saveBlueprintProject(){const _0x4066cb=_0xe56031;if(!extractedBlueprintData||!extractedBlueprintData[_0x4066cb(0x3f3)]){showMessage(_0x4066cb(0x4a4));return;}const _0x3c1500=prompt(_0x4066cb(0xd87),_0x4066cb(0x9a4));if(!_0x3c1500||_0x3c1500[_0x4066cb(0xd92)]()==='')return;const _0x3d1c24={};extractedBlueprintData[_0x4066cb(0x3f3)]['forEach'](_0x2a73f2=>{const _0x8a0ddd=_0x4066cb;_0x2a73f2['mainTopics'][_0x8a0ddd(0x215)](_0x489e49=>{const _0x47ebaf=_0x8a0ddd;_0x489e49[_0x47ebaf(0x3db)]['forEach'](_0x44a794=>{const _0x39b1e8=_0x47ebaf,_0x1e8e1f='topic_'+Date[_0x39b1e8(0x5bd)]()+Math[_0x39b1e8(0x96f)]()[_0x39b1e8(0xd2a)](0x24)[_0x39b1e8(0x766)](0x2,0x9);_0x3d1c24[_0x1e8e1f]={'sara':_0x2a73f2[_0x39b1e8(0x22f)],'mainTopic':_0x489e49['topicName'],'subTopic':_0x44a794,'status':_0x39b1e8(0xace),'lessonContent':null};});});});try{const _0x178768=collection(db,_0x4066cb(0x637)+appId+_0x4066cb(0x371));await addDoc(_0x178768,{'projectName':_0x3c1500[_0x4066cb(0xd92)](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x3d1c24,'createdAt':serverTimestamp()}),showMessage(_0x4066cb(0x857)+_0x3c1500['trim']()+_0x4066cb(0x7be)),document[_0x4066cb(0x581)](_0x4066cb(0xae9))[_0x4066cb(0x3f5)][_0x4066cb(0xd54)](_0x4066cb(0xa91));}catch(_0x529abd){console['error']('Error\x20saving\x20blueprint\x20project:',_0x529abd),showMessage(_0x4066cb(0x204));}}async function showBlueprintProjects(){const _0xc91704=_0xe56031,_0x265d7c=document[_0xc91704(0x581)](_0xc91704(0x823)),_0xdfda7f=document['getElementById'](_0xc91704(0x78c));_0xdfda7f[_0xc91704(0x81c)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>',_0x265d7c[_0xc91704(0x3f5)][_0xc91704(0xbb6)](_0xc91704(0xa91));try{const _0x182102=collection(db,_0xc91704(0x637)+appId+_0xc91704(0x371)),_0x228d72=await getDocs(_0x182102);if(_0x228d72[_0xc91704(0x9b2)]){_0xdfda7f[_0xc91704(0x81c)]=_0xc91704(0xae1);return;}const _0x4426f2=_0x228d72[_0xc91704(0x3b1)][_0xc91704(0xaa7)](_0x5bb8df=>({'id':_0x5bb8df['id'],..._0x5bb8df['data']()}));_0x4426f2[_0xc91704(0x57f)]((_0x1b9ae6,_0x654438)=>_0x1b9ae6[_0xc91704(0xb3f)][_0xc91704(0xcba)](_0x654438[_0xc91704(0xb3f)],'th')),_0xdfda7f[_0xc91704(0x81c)]=_0x4426f2[_0xc91704(0xaa7)](_0x41328b=>_0xc91704(0xa00)+_0x41328b[_0xc91704(0xb3f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x41328b['gradeLevel']+_0xc91704(0x426)+Object[_0xc91704(0x9d8)](_0x41328b['topics'])[_0xc91704(0xb5d)]+_0xc91704(0xd1b)+_0x41328b['id']+'\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x41328b['id']+_0xc91704(0x397))[_0xc91704(0x51a)]('');}catch(_0x15dedf){console[_0xc91704(0x90c)](_0xc91704(0x34b),_0x15dedf),_0xdfda7f[_0xc91704(0x81c)]=_0xc91704(0x499);}}async function displayBlueprintProjectManager(_0x35e9d0){const _0x1231e5=_0xe56031;currentBlueprintProjectId=_0x35e9d0,document[_0x1231e5(0x581)]('blueprint-projects-modal')[_0x1231e5(0x3f5)][_0x1231e5(0xd54)](_0x1231e5(0xa91)),showView(_0x1231e5(0x55a)),projectDashboardView['classList']['add']('hidden');const _0x2d85fb=document[_0x1231e5(0x581)](_0x1231e5(0x37d));_0x2d85fb['classList']['remove'](_0x1231e5(0xa91)),document[_0x1231e5(0x581)](_0x1231e5(0xc4d))['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x27aa90=doc(db,_0x1231e5(0x637)+appId+_0x1231e5(0x371),_0x35e9d0),_0x10e1ed=await getDoc(_0x27aa90);if(!_0x10e1ed[_0x1231e5(0x437)]())throw new Error(_0x1231e5(0x82f));const _0x508cda={'id':_0x10e1ed['id'],..._0x10e1ed['data']()};document['getElementById'](_0x1231e5(0x764))[_0x1231e5(0x25c)]=_0x508cda[_0x1231e5(0xb3f)],document['getElementById'](_0x1231e5(0x430))['value']=_0x508cda[_0x1231e5(0x8f3)]||'',renderBlueprintTopicManager(_0x508cda);}catch(_0x385110){console[_0x1231e5(0x90c)](_0x1231e5(0x755),_0x385110),showMessage(_0x385110[_0x1231e5(0x76b)]),showView(_0x1231e5(0x55a));}}function renderBlueprintTopicManager(_0x170539){const _0x32d3f1=_0xe56031,_0x2e3fcc=document[_0x32d3f1(0x581)](_0x32d3f1(0xc4d)),_0x23c097=_0x170539[_0x32d3f1(0x224)]||{};if(Object[_0x32d3f1(0x9d8)](_0x23c097)[_0x32d3f1(0xb5d)]===0x0){_0x2e3fcc[_0x32d3f1(0x81c)]=_0x32d3f1(0x963);return;}const _0x5f2792=Object['entries'](_0x23c097)[_0x32d3f1(0xaa7)](([_0x1dcd40,_0x41b77a])=>({'id':_0x1dcd40,..._0x41b77a}))[_0x32d3f1(0x57f)]((_0x4e13c4,_0x54b42b)=>(_0x4e13c4[_0x32d3f1(0x278)]??Infinity)-(_0x54b42b[_0x32d3f1(0x278)]??Infinity)),_0x270a24={};_0x5f2792[_0x32d3f1(0x215)](_0x50be7c=>{const _0x40dde2=_0x32d3f1,{sara:_0x121c46,mainTopic:_0x52d51c}=_0x50be7c;!_0x270a24[_0x121c46]&&(_0x270a24[_0x121c46]={}),!_0x270a24[_0x121c46][_0x52d51c]&&(_0x270a24[_0x121c46][_0x52d51c]=[]),_0x270a24[_0x121c46][_0x52d51c][_0x40dde2(0x632)](_0x50be7c);});let _0xccaba4='';for(const _0x4d790f in _0x270a24){_0xccaba4+=_0x32d3f1(0x608)+_0x4d790f+_0x32d3f1(0x695);for(const _0x36ed51 in _0x270a24[_0x4d790f]){_0xccaba4+=_0x32d3f1(0x937)+_0x36ed51+_0x32d3f1(0x655),_0x270a24[_0x4d790f][_0x36ed51][_0x32d3f1(0x215)](_0x49bf6a=>{const _0x4db91c=_0x32d3f1,_0xb85d0a=_0x49bf6a['id'],_0x3b87b7=_0x49bf6a[_0x4db91c(0x501)]||[],_0x4f64df=_0x3b87b7[_0x4db91c(0xb5d)]>0x0,_0x53447f=_0x49bf6a[_0x4db91c(0x342)]===_0x4db91c(0x851);let _0x17b00c='';_0x4f64df?_0x17b00c=_0x4db91c(0x6d8)+_0x3b87b7[_0x4db91c(0xb5d)]+_0x4db91c(0x7e6):_0x17b00c=_0x4db91c(0x901)+(_0x53447f?_0x4db91c(0x984):_0x4db91c(0x772))+'\x22>'+(_0x53447f?'สร้างแล้ว':'ยังไม่สร้าง')+_0x4db91c(0xa2e);const _0x189730=!_0x53447f?_0x4db91c(0x28e):'',_0xe4e807=!_0x53447f?'กรุณาสร้างบทเรียนก่อน':'';let _0x3a9ecd=_0x53447f?_0x4db91c(0xac5):'<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>';_0xccaba4+=_0x4db91c(0x950)+_0xb85d0a+_0x4db91c(0x7c9)+_0x49bf6a['subTopic']+_0x4db91c(0xa95)+_0x17b00c+_0x4db91c(0x48d)+_0x189730+'\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20'+_0xe4e807+_0x4db91c(0xbad)+_0x3a9ecd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xccaba4+=_0x32d3f1(0xb83);}_0xccaba4+=_0x32d3f1(0x209);}_0x2e3fcc[_0x32d3f1(0x81c)]=_0xccaba4;}async function handleDeepDeleteBlueprintProject(_0x2fd0e2){const _0x322454=_0xe56031,_0x262338=doc(db,_0x322454(0x637)+appId+_0x322454(0x371),_0x2fd0e2),_0x15d534=await getDoc(_0x262338);if(!_0x15d534[_0x322454(0x437)]()){showMessage(_0x322454(0xab3));return;}const _0x496572=_0x15d534[_0x322454(0x610)]()[_0x322454(0xb3f)];showConfirmation(_0x322454(0x44c)+_0x496572+_0x322454(0x217),async()=>{const _0x58152c=_0x322454;showMessage(_0x58152c(0xd1e));try{const _0x2bd784=writeBatch(db),_0x55b4a9=_0x15d534[_0x58152c(0x610)](),_0x2973cd=_0x55b4a9[_0x58152c(0x224)]||{};for(const _0xc90186 in _0x2973cd){const _0x43788b=doc(db,_0x58152c(0x637)+appId+'/public/data/blueprintProjects/'+_0x2fd0e2+'/lessons',_0xc90186);_0x2bd784[_0x58152c(0x65a)](_0x43788b);}const _0x6e2b2b=new Set();for(const _0x518bbc in _0x2973cd){_0x2973cd[_0x518bbc][_0x58152c(0x501)]&&_0x2973cd[_0x518bbc][_0x58152c(0x501)]['forEach'](_0x545daa=>_0x6e2b2b[_0x58152c(0xd54)](_0x545daa));}for(const _0x4eab76 of _0x6e2b2b){await handleDeleteQuiz(_0x4eab76,![]);}_0x2bd784[_0x58152c(0x65a)](_0x262338),await _0x2bd784[_0x58152c(0x456)](),showMessage(_0x58152c(0xd7e)+_0x496572+_0x58152c(0xb2b)),showBlueprintProjects();}catch(_0x625581){console['error']('Error\x20during\x20deep\x20delete:',_0x625581),showMessage('เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล');}});}async function openTopicQuizBank(_0x2ceeec){const _0x1f0cb2=_0xe56031,_0x9cb801=document[_0x1f0cb2(0x581)]('topic-quiz-bank-modal'),_0x9306cd=document[_0x1f0cb2(0x581)](_0x1f0cb2(0x446)),_0x4c5442=document[_0x1f0cb2(0x581)](_0x1f0cb2(0x700));try{await ensureGlobalQuizzesLoaded();const _0x3d7760=doc(db,_0x1f0cb2(0x637)+appId+_0x1f0cb2(0x371),currentBlueprintProjectId),_0x58e3c6=await getDoc(_0x3d7760);if(!_0x58e3c6[_0x1f0cb2(0x437)]())return;const _0xe02037=_0x58e3c6[_0x1f0cb2(0x610)](),_0x27e7ef=_0xe02037[_0x1f0cb2(0x224)][_0x2ceeec];document[_0x1f0cb2(0x581)]('topic-bank-subtopic-name')[_0x1f0cb2(0x25c)]=_0x27e7ef[_0x1f0cb2(0x246)];const _0x5e1189=_0x27e7ef[_0x1f0cb2(0x501)]||[];_0x4c5442[_0x1f0cb2(0x3f5)][_0x1f0cb2(0x65d)](_0x1f0cb2(0xa91),_0x5e1189['length']===0x0),_0x4c5442['onclick']=()=>handleClearAllLinksForTopic(_0x2ceeec);if(_0x5e1189['length']===0x0)_0x9306cd[_0x1f0cb2(0x81c)]='<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>';else{const _0x18f956=allQuizzesGlobal[_0x1f0cb2(0x23d)](_0x197d4b=>_0x5e1189['includes'](_0x197d4b['id']));_0x9306cd[_0x1f0cb2(0x81c)]=_0x18f956[_0x1f0cb2(0xaa7)](_0x24ef6c=>_0x1f0cb2(0x45e)+_0x24ef6c['id']+_0x1f0cb2(0x73b)+_0x24ef6c[_0x1f0cb2(0x5c5)]+_0x1f0cb2(0x222)+_0x24ef6c['id']+_0x1f0cb2(0x426)+_0x24ef6c[_0x1f0cb2(0xafb)][_0x1f0cb2(0xb5d)]+'\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x24ef6c['id']+'\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x24ef6c['id']+_0x1f0cb2(0x947)+_0x24ef6c['id']+_0x1f0cb2(0xa43)+_0x24ef6c['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x24ef6c['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x24ef6c['id']+_0x1f0cb2(0xbbf)+_0x2ceeec+'\x22\x20data-quiz-id=\x22'+_0x24ef6c['id']+_0x1f0cb2(0x7d4))['join']('');}document[_0x1f0cb2(0x581)](_0x1f0cb2(0x912))['onclick']=()=>{openQuizSelectorForBlueprint(_0x2ceeec);},document[_0x1f0cb2(0x581)](_0x1f0cb2(0xa2d))['onclick']=()=>_0x9cb801['classList'][_0x1f0cb2(0xd54)](_0x1f0cb2(0xa91)),_0x9cb801['classList'][_0x1f0cb2(0xbb6)](_0x1f0cb2(0xa91));}catch(_0x49c27e){showMessage(_0x49c27e[_0x1f0cb2(0x76b)]);}}async function openQuizSelectorForBlueprint(_0x214d50){const _0x474a1e=_0xe56031,_0x2c35b6=document['getElementById'](_0x474a1e(0x533)),_0x4cff90=document[_0x474a1e(0x581)]('topic-quiz-bank-modal');_0x4cff90['classList'][_0x474a1e(0xd54)](_0x474a1e(0xa91)),document[_0x474a1e(0x581)](_0x474a1e(0xc6a))?.[_0x474a1e(0xbb6)]();const _0x4c96c5=document['createElement'](_0x474a1e(0x87c));_0x4c96c5['id']='confirm-link-quiz-btn',_0x4c96c5[_0x474a1e(0xc3d)]=_0x474a1e(0x5d4),_0x4c96c5[_0x474a1e(0x25c)]=_0x474a1e(0x4da),_0x4c96c5[_0x474a1e(0x5ba)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x2c35b6[_0x474a1e(0x3f5)][_0x474a1e(0xbb6)](_0x474a1e(0xa91)),renderQuizBankListForMultiSelect(''),document[_0x474a1e(0x581)](_0x474a1e(0xac7))[_0x474a1e(0x9fb)][_0x474a1e(0x4b0)]=_0x474a1e(0xbf7),_0x2c35b6[_0x474a1e(0xd4c)]('.flex.justify-between.items-center')[_0x474a1e(0xb81)](_0x4c96c5);const _0x44268a=(_0x11f9af=![])=>{const _0x33f78e=_0x474a1e;_0x2c35b6[_0x33f78e(0x3f5)][_0x33f78e(0xd54)](_0x33f78e(0xa91)),document[_0x33f78e(0x581)](_0x33f78e(0xac7))[_0x33f78e(0x9fb)][_0x33f78e(0x4b0)]=_0x33f78e(0x923),_0x4c96c5[_0x33f78e(0xbb6)](),_0x11f9af&&openTopicQuizBank(_0x214d50);};_0x4c96c5[_0x474a1e(0xa46)]=async()=>{const _0x3faba4=_0x474a1e,_0x659499=Array[_0x3faba4(0x454)](document[_0x3faba4(0x30c)]('.quiz-bank-checkbox:checked'))[_0x3faba4(0xaa7)](_0x34cb0a=>_0x34cb0a['value']);if(_0x659499[_0x3faba4(0xb5d)]===0x0)return;try{const _0x223498=doc(db,'artifacts/'+appId+_0x3faba4(0x371),currentBlueprintProjectId),_0x108e5c=(await getDoc(_0x223498))[_0x3faba4(0x610)](),_0x315046=_0x108e5c['topics'][_0x214d50][_0x3faba4(0x501)]||[],_0x46a444=[...new Set([..._0x315046,..._0x659499])];await updateDoc(_0x223498,{[_0x3faba4(0xb80)+_0x214d50+_0x3faba4(0x881)]:_0x46a444}),showMessage(_0x3faba4(0x996)+_0x659499[_0x3faba4(0xb5d)]+'\x20แบบทดสอบลงในคลังสำเร็จ!'),_0x44268a(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x59e5c8){console[_0x3faba4(0x90c)]('Error\x20linking\x20quizzes:',_0x59e5c8);}},document[_0x474a1e(0x581)]('cancel-quiz-bank-btn')['onclick']=()=>_0x44268a(!![]);}catch(_0x211860){showMessage(_0x211860[_0x474a1e(0x76b)]),_0x4cff90[_0x474a1e(0x3f5)][_0x474a1e(0xbb6)](_0x474a1e(0xa91));}}function handleClearLinkedQuiz(_0x57a980){const _0x46ce79=_0xe56031;showConfirmation(_0x46ce79(0xd16),async()=>{const _0x54ba97=_0x46ce79;try{const _0x55cb3c=doc(db,'artifacts/'+appId+_0x54ba97(0x371),currentBlueprintProjectId);await updateDoc(_0x55cb3c,{['topics.'+_0x57a980+'.linkedQuizId']:deleteField()}),showMessage('ยกเลิกการเชื่อมโยงสำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x32df6c){console['error'](_0x54ba97(0x526),_0x32df6c),showMessage(_0x54ba97(0x1dd));}});}async function addTopicToProject(){const _0x2c487b=_0xe56031,_0x2a45f6=prompt('กรุณาป้อนชื่อหัวข้อย่อยใหม่:');if(!_0x2a45f6||_0x2a45f6[_0x2c487b(0xd92)]()==='')return;const _0x41b6fb=prompt('อยู่ในสาระการเรียนรู้ใด:','สาระที่\x201'),_0x3f3b3e=prompt(_0x2c487b(0x7d1),'หัวข้อหลักใหม่'),_0x48d0f0=_0x2c487b(0x5cb)+Date[_0x2c487b(0x5bd)]()+Math[_0x2c487b(0x96f)]()['toString'](0x24)[_0x2c487b(0x766)](0x2,0x9),_0x3290a6={'sara':_0x41b6fb,'mainTopic':_0x3f3b3e,'subTopic':_0x2a45f6[_0x2c487b(0xd92)](),'status':_0x2c487b(0xace),'lessonContent':null};try{const _0x4f99a7=doc(db,_0x2c487b(0x637)+appId+_0x2c487b(0x371),currentBlueprintProjectId);await updateDoc(_0x4f99a7,{[_0x2c487b(0xb80)+_0x48d0f0]:_0x3290a6}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1905ce){console[_0x2c487b(0x90c)](_0x2c487b(0x6c4),_0x1905ce),showMessage(_0x2c487b(0x62e));}}async function editTopicInProject(_0xe51898){const _0xb57399=_0xe56031,_0x5e7e2a=document[_0xb57399(0xd4c)](_0xb57399(0xb2a)+_0xe51898+'\x22]'),_0x2b59d1=_0x5e7e2a[_0xb57399(0xd4c)](_0xb57399(0x3cd)),_0x36bc0c=_0x2b59d1[_0xb57399(0x25c)],_0x19ccf9=prompt(_0xb57399(0xb41),_0x36bc0c);if(!_0x19ccf9||_0x19ccf9[_0xb57399(0xd92)]()===''||_0x19ccf9[_0xb57399(0xd92)]()===_0x36bc0c)return;try{const _0x1fcdcc=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x1fcdcc,{[_0xb57399(0xb80)+_0xe51898+'.subTopic']:_0x19ccf9[_0xb57399(0xd92)]()}),_0x2b59d1[_0xb57399(0x25c)]=_0x19ccf9[_0xb57399(0xd92)](),showMessage(_0xb57399(0x3d9));}catch(_0x30e214){console[_0xb57399(0x90c)]('Error\x20editing\x20topic:',_0x30e214),showMessage('เกิดข้อผิดพลาดในการแก้ไข');}}async function deleteTopicFromProject(_0x4a8a62){const _0x177733=_0xe56031;if(!confirm('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?'))return;try{const _0x3eb51d=doc(db,_0x177733(0x637)+appId+_0x177733(0x371),currentBlueprintProjectId);await updateDoc(_0x3eb51d,{[_0x177733(0xb80)+_0x4a8a62]:deleteField()}),document[_0x177733(0xd4c)]('[data-topic-id=\x22'+_0x4a8a62+'\x22]')[_0x177733(0xbb6)](),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x450861){console[_0x177733(0x90c)](_0x177733(0x5a7),_0x450861),showMessage(_0x177733(0x4ec));}}async function generateAndSaveLessonForBlueprint(_0x4bc5fd,_0x582956,_0x4afb13){handleGenerateAndShowLesson(_0x582956,_0x4afb13);const _0x1072ee=setInterval(async()=>{const _0x13ce60=_0x352e,_0x33906b=document[_0x13ce60(0x581)](_0x13ce60(0xbb2)),_0x1dba8b=_0x33906b['classList'][_0x13ce60(0x1fe)](_0x13ce60(0xa91));if(_0x1dba8b){clearInterval(_0x1072ee);if(currentApplicationData&&currentApplicationData[_0x13ce60(0xb5d)]>0x0){const _0x408723={'point':document[_0x13ce60(0x581)]('pointContent')[_0x13ce60(0x81c)],'memory':document[_0x13ce60(0x581)](_0x13ce60(0x353))['innerHTML'],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x13ce60(0x581)]('summaryContent')[_0x13ce60(0x81c)]};try{const _0x1c8ddb=doc(db,_0x13ce60(0x637)+appId+_0x13ce60(0x371),currentBlueprintProjectId),_0x915e7c=doc(db,_0x13ce60(0x637)+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+'/lessons',_0x4bc5fd),_0x17a24f=writeBatch(db);_0x17a24f[_0x13ce60(0xcf9)](_0x915e7c,{'content':_0x408723}),_0x17a24f[_0x13ce60(0x77d)](_0x1c8ddb,{[_0x13ce60(0xb80)+_0x4bc5fd+_0x13ce60(0x19f)]:_0x13ce60(0x851)}),await _0x17a24f[_0x13ce60(0x456)](),console['log'](_0x13ce60(0x582)+_0x4bc5fd+_0x13ce60(0xb4e)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x120854){console[_0x13ce60(0x90c)](_0x13ce60(0xae0),_0x120854);}}}},0x3e8);}function displayHalfMarkResult(_0x7b9361,_0x2db9d5){const _0x344d57=_0xe56031,_0x3bfd1d=_0x7b9361>=_0x2db9d5/0x2,_0x67847f=_0x3bfd1d?_0x344d57(0x57a):_0x344d57(0x3bf),_0x5717a1=_0x3bfd1d?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':_0x344d57(0x6ce),_0x46f9c5=_0x3bfd1d?_0x344d57(0xa8b):_0x344d57(0x214),_0x66f195=_0x3bfd1d?_0x344d57(0x3a8):_0x344d57(0xb3b),_0x4191ed=_0x3bfd1d?_0x344d57(0xaf8):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x1e4f8b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x67847f+_0x344d57(0x30d)+_0x5717a1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x46f9c5+_0x344d57(0x6ac)+_0x66f195+_0x344d57(0x20f)+_0x4191ed+_0x344d57(0x873);studentResultArea[_0x344d57(0x81c)]=_0x1e4f8b,studentResultArea[_0x344d57(0x3f5)][_0x344d57(0xbb6)]('hidden'),studentQuizArea[_0x344d57(0x3f5)][_0x344d57(0xd54)](_0x344d57(0xa91)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x3bfd1d});}function displayPerfectScoreResult(_0x146e3c,_0x305c39){const _0x98082f=_0xe56031,_0x40294b=_0x146e3c===_0x305c39,_0x56ed6b=_0x40294b?_0x98082f(0x2ad):_0x98082f(0x8bc),_0x460d86=_0x40294b?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x98082f(0x8c8),_0x131fd0=_0x40294b?_0x98082f(0x38e):_0x98082f(0x71c),_0x26c714=_0x40294b?_0x98082f(0x1c4):_0x98082f(0x77c),_0x25b07d=_0x40294b?_0x98082f(0x8e3):'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x338948=_0x98082f(0x64a)+_0x56ed6b+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x460d86+_0x98082f(0xd89)+_0x131fd0+_0x98082f(0x6ac)+_0x26c714+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x25b07d+_0x98082f(0x873);studentResultArea[_0x98082f(0x81c)]=_0x338948,studentResultArea[_0x98082f(0x3f5)][_0x98082f(0xbb6)]('hidden'),studentQuizArea['classList'][_0x98082f(0xd54)]('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x146e3c,'totalQuestions':_0x305c39});}function renderIndividualComparisonTable(_0x5052b8,_0x372e11){const _0xafdc95=_0xe56031;_0x5052b8[_0xafdc95(0x57f)]((_0x1db238,_0x330ca0)=>(_0x330ca0['tGain']??-Infinity)-(_0x1db238[_0xafdc95(0x9fd)]??-Infinity));let _0x23dbcb=_0xafdc95(0x1da);_0x5052b8[_0xafdc95(0xb5d)]===0x0?_0x23dbcb+=_0xafdc95(0x70c):_0x5052b8[_0xafdc95(0x215)]((_0x560676,_0x1491c4)=>{const _0x1e4738=_0xafdc95;let _0x45e64d='-',_0x5ed23b='';if(_0x560676[_0x1e4738(0x3de)]!==null){const _0x23c387=_0x560676[_0x1e4738(0x3de)]>0x0?_0x1e4738(0x57e):_0x560676[_0x1e4738(0x3de)]<0x0?_0x1e4738(0x20b):_0x1e4738(0x2b8),_0x167548=_0x560676[_0x1e4738(0x3de)]>0x0?'+':'';_0x45e64d='<span\x20class=\x22font-bold\x20'+_0x23c387+'\x22>'+_0x167548+_0x560676[_0x1e4738(0x3de)]+'</span>';if(_0x560676[_0x1e4738(0x3de)]>0x0)_0x5ed23b=_0x1e4738(0x82b);else _0x560676['gain']<0x0?_0x5ed23b=_0x1e4738(0x338):_0x5ed23b=_0x1e4738(0x95a);}let _0x15c603='-';if(_0x560676[_0x1e4738(0x9fd)]!==null){const _0x313f60=_0x560676[_0x1e4738(0x9fd)]>0x0?'text-green-600':_0x560676[_0x1e4738(0x9fd)]<0x0?_0x1e4738(0x20b):_0x1e4738(0x2b8),_0x3325ed=_0x560676[_0x1e4738(0x9fd)]>0x0?'+':'';_0x15c603=_0x1e4738(0x811)+_0x313f60+'\x22>'+_0x3325ed+_0x560676[_0x1e4738(0x9fd)][_0x1e4738(0x72d)](0x2)+_0x1e4738(0xa2e);}_0x23dbcb+=_0x1e4738(0x6d1)+(_0x1491c4+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x560676[_0x1e4738(0xb95)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x560676[_0x1e4738(0x3ee)]??'-')+_0x1e4738(0x359)+(_0x560676[_0x1e4738(0x625)]??'-')+_0x1e4738(0x3d4)+_0x45e64d+_0x1e4738(0xbda)+_0x5ed23b+_0x1e4738(0x4b7)+(_0x560676[_0x1e4738(0xa3d)]?.[_0x1e4738(0x72d)](0x2)??'-')+_0x1e4738(0x228)+(_0x560676[_0x1e4738(0xa25)]?.['toFixed'](0x2)??'-')+_0x1e4738(0x3d4)+_0x15c603+_0x1e4738(0x556);}),_0x23dbcb+='</tbody></table></div>',_0x372e11['innerHTML']=_0x23dbcb;}function handleRenameQuiz(_0x47914e,_0x56b445){const _0xa15f0c=_0xe56031;actionTargetId=_0x47914e,document['getElementById'](_0xa15f0c(0x63f))['value']=_0x56b445,renameQuizModal['classList'][_0xa15f0c(0xbb6)](_0xa15f0c(0xa91));}function setupComparisonModalTabs(){const _0x5c1a46=_0xe56031,_0x459843=document[_0x5c1a46(0x581)](_0x5c1a46(0x70f)),_0x2574b6=document['getElementById'](_0x5c1a46(0x5bb)),_0x711ed5=document['getElementById'](_0x5c1a46(0x489)),_0x4bf2fd=document[_0x5c1a46(0x581)]('comparison-individual-content');_0x459843[_0x5c1a46(0x395)](_0x5c1a46(0xafd),()=>{const _0x3b35f7=_0x5c1a46;_0x459843[_0x3b35f7(0x3f5)][_0x3b35f7(0xd54)](_0x3b35f7(0xd41)),_0x2574b6['classList'][_0x3b35f7(0xbb6)](_0x3b35f7(0xd41)),_0x711ed5['classList'][_0x3b35f7(0xbb6)](_0x3b35f7(0xa91)),_0x4bf2fd[_0x3b35f7(0x3f5)][_0x3b35f7(0xd54)](_0x3b35f7(0xa91));}),_0x2574b6['addEventListener']('click',()=>{const _0x290b5a=_0x5c1a46;_0x2574b6[_0x290b5a(0x3f5)][_0x290b5a(0xd54)]('active'),_0x459843[_0x290b5a(0x3f5)][_0x290b5a(0xbb6)]('active'),_0x4bf2fd['classList'][_0x290b5a(0xbb6)]('hidden'),_0x711ed5[_0x290b5a(0x3f5)]['add'](_0x290b5a(0xa91));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x140ba2=_0xe56031;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x283fdf=doc(db,_0x140ba2(0x637)+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x283fdf,_0x5106c4=>{const _0x34fe98=_0x140ba2;if(!_0x5106c4[_0x34fe98(0x437)]()){showMessage(_0x34fe98(0x4c1));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x34fe98(0x47f)):showView(_0x34fe98(0x39a));return;}const _0x54ff71=_0x5106c4[_0x34fe98(0x610)]();_0x54ff71[_0x34fe98(0x7a6)]&&(currentQuizData=_0x54ff71[_0x34fe98(0x7a6)]);!currentQuizData&&_0x54ff71[_0x34fe98(0x8b9)]&&((async()=>{const _0x486a20=_0x34fe98;try{const _0x1cfed8=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x54ff71[_0x486a20(0x8b9)]),_0x2db122=await getDoc(_0x1cfed8);_0x2db122[_0x486a20(0x437)]()&&(currentQuizData={'id':_0x2db122['id'],..._0x2db122['data']()});}catch(_0x5f5877){console['error'](_0x486a20(0x1be),_0x5f5877);}})());switch(_0x54ff71[_0x34fe98(0x342)]){case _0x34fe98(0xb96):if(currentMode===_0x34fe98(0x916)){const _0x445dc6=_0x54ff71[_0x34fe98(0xbaf)]?Object[_0x34fe98(0x71a)](_0x54ff71[_0x34fe98(0xbaf)]):[],_0x112d17=_0x445dc6['filter'](([_0x562dbc,_0x49eb70])=>_0x49eb70['status']==='active'),_0x32e834=document[_0x34fe98(0x581)](_0x34fe98(0x7e1));if(_0x32e834)_0x32e834[_0x34fe98(0x25c)]=_0x112d17[_0x34fe98(0xb5d)];const _0x1b327e=document[_0x34fe98(0x581)]('player-list-lobby');_0x1b327e&&(_0x1b327e['innerHTML']=_0x112d17['map'](([_0x5bec65,_0x155d04])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5bec65+_0x34fe98(0x6e3)+_0x5bec65+_0x34fe98(0xd7c))['join'](''));const _0x490a85=document[_0x34fe98(0x581)](_0x34fe98(0x913));_0x490a85&&(_0x490a85['disabled']=_0x112d17[_0x34fe98(0xb5d)]===0x0);}else showView(_0x34fe98(0xa13)),liveGameView[_0x34fe98(0x81c)]=_0x34fe98(0xad6)+currentStudentName+_0x34fe98(0x522);break;case _0x34fe98(0x2c3):const _0x55226f=_0x54ff71[_0x34fe98(0x315)];if(currentQuizData&&currentQuizData['questions'][_0x55226f]){const _0x23aa89=currentQuizData[_0x34fe98(0xafb)][_0x55226f],_0x47000a=_0x54ff71[_0x34fe98(0x286)]||'answering';switch(_0x47000a){case'summary_chart':currentMode===_0x34fe98(0x916)?showAdminSummaryView(_0x54ff71,_0x23aa89):showPlayerSummaryView(_0x54ff71,currentStudentName);break;case _0x34fe98(0xa88):currentMode==='admin'&&showTop5LeaderboardView(_0x54ff71);break;case'answering':default:if(currentMode===_0x34fe98(0x916)){const _0x43c293=writeBatch(db);let _0x5ab2ef=![];Object['entries'](_0x54ff71['players'])['forEach'](([_0x136d20,_0x7ad93c])=>{const _0x1fd14d=_0x34fe98;if(_0x7ad93c[_0x1fd14d(0x342)]===_0x1fd14d(0xd41)&&_0x7ad93c[_0x1fd14d(0xc7b)]&&!_0x7ad93c['isScored']){_0x5ab2ef=!![];const _0x363b7d=_0x7ad93c[_0x1fd14d(0xc7b)][_0x1fd14d(0x8b3)]()-_0x54ff71[_0x1fd14d(0x958)][_0x1fd14d(0x8b3)]();let _0x45adfe=0x0;if(_0x7ad93c[_0x1fd14d(0x31a)]){const _0x43bc88=0x3e8,_0x2638f2=0x1f4,_0x558283=0x4e20;let _0x4cba69=_0x363b7d/_0x558283;if(_0x4cba69>0x1)_0x4cba69=0x1;const _0x3d3dad=Math['round'](_0x4cba69*_0x2638f2);_0x45adfe=_0x43bc88-_0x3d3dad;}const _0x30e209=doc(db,_0x1fd14d(0x637)+appId+'/public/data/liveGames',currentLiveGameId);_0x43c293['update'](_0x30e209,{['players.'+_0x136d20+_0x1fd14d(0x90f)]:increment(_0x45adfe),['players.'+_0x136d20+_0x1fd14d(0xbf4)]:_0x45adfe,['players.'+_0x136d20+_0x1fd14d(0x3fc)]:!![]});}});_0x5ab2ef&&_0x43c293[_0x34fe98(0x456)]()[_0x34fe98(0x483)](_0x21feac=>console[_0x34fe98(0x90c)](_0x34fe98(0x7c6),_0x21feac));lastRenderedAdminQuestionIndex!==_0x55226f&&(showAdminLiveQuestionView(_0x23aa89,_0x55226f,currentQuizData['questions'][_0x34fe98(0xb5d)]),lastRenderedAdminQuestionIndex=_0x55226f);const _0x4c4720=_0x54ff71[_0x34fe98(0xbaf)]||{},_0x44134c=Object[_0x34fe98(0xa03)](_0x4c4720)[_0x34fe98(0x23d)](_0x2b0612=>_0x2b0612[_0x34fe98(0x342)]==='active'),_0x559cb7=_0x44134c[_0x34fe98(0xb5d)],_0xbb42ed=_0x44134c[_0x34fe98(0x23d)](_0x1f51eb=>_0x1f51eb['answeredCurrentQuestion']===!![])[_0x34fe98(0xb5d)],_0x28e55d=document['getElementById'](_0x34fe98(0xa4f));if(_0x28e55d)_0x28e55d[_0x34fe98(0x25c)]=_0xbb42ed+'/'+_0x559cb7;const _0x2cb70a=document[_0x34fe98(0x581)]('live-player-list');if(_0x2cb70a){let _0x1ffbaa=Object[_0x34fe98(0x71a)](_0x4c4720)[_0x34fe98(0x23d)](([_0x25a9a0,_0x27818e])=>_0x27818e[_0x34fe98(0x342)]==='active')[_0x34fe98(0xaa7)](([_0x283e8a,_0x41710e])=>{const _0x4bc122=_0x34fe98,_0x2f0c16=_0x41710e['answeredCurrentQuestion']===!![],_0x5678ac=_0x2f0c16?_0x4bc122(0x25f):_0x4bc122(0x311),_0x51a059=_0x2f0c16?_0x4bc122(0x6c7):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x4bc122(0x428)+_0x5678ac+_0x4bc122(0x9c7)+_0x51a059+_0x4bc122(0x8cd)+_0x283e8a+_0x4bc122(0xa8c)+_0x283e8a+_0x4bc122(0xb82);})[_0x34fe98(0x51a)]('');_0x2cb70a[_0x34fe98(0x81c)]=_0x1ffbaa||_0x34fe98(0xba1);}_0x559cb7>0x0&&_0xbb42ed===_0x559cb7&&revealAnswerForAdmin(_0x55226f,currentQuizData[_0x34fe98(0xafb)][_0x34fe98(0xb5d)]);}else{const _0x3403bb=_0x54ff71['players'][currentStudentName];_0x3403bb&&!_0x3403bb[_0x34fe98(0x26e)]&&showStudentLiveQuestionView(_0x23aa89,_0x55226f,currentQuizData[_0x34fe98(0xafb)]['length']);}break;}}break;case'podium':showPodiumView(_0x54ff71['players'],_0x34fe98(0xa87));break;}});}async function openGlobalActivityModal(){const _0x385d91=_0xe56031;if(allQuizzesGlobal['length']===0x0){const _0x166f18=await getDocs(collection(db,_0x385d91(0x637)+appId+_0x385d91(0x6cd)));allQuizzesGlobal=_0x166f18['docs'][_0x385d91(0xaa7)](_0x283e17=>({'id':_0x283e17['id'],..._0x283e17[_0x385d91(0x610)]()}));}renderGlobalActivityList(''),document[_0x385d91(0x581)](_0x385d91(0x9a7))[_0x385d91(0x3f5)][_0x385d91(0xbb6)]('hidden');}function renderGlobalActivityList(_0x4de31b=''){const _0x1ad97f=_0xe56031,_0xde91c9=document[_0x1ad97f(0x581)](_0x1ad97f(0x796)),_0x4c5c5e=_0x4de31b[_0x1ad97f(0x7e9)]()[_0x1ad97f(0xd92)](),_0x463580=allQuizzesGlobal[_0x1ad97f(0xaa7)](_0x253460=>({..._0x253460,'projectName':allProjects['find'](_0x262482=>_0x262482['id']===_0x253460[_0x1ad97f(0x971)])?.[_0x1ad97f(0xb3f)]||_0x1ad97f(0x728)}))[_0x1ad97f(0x23d)](_0x5da3ee=>(_0x5da3ee['topic']||'')[_0x1ad97f(0x7e9)]()[_0x1ad97f(0x6f7)](_0x4c5c5e)||(_0x5da3ee[_0x1ad97f(0xb3f)]||'')[_0x1ad97f(0x7e9)]()['includes'](_0x4c5c5e));document[_0x1ad97f(0x581)](_0x1ad97f(0x4c9))[_0x1ad97f(0x25c)]='('+_0x463580[_0x1ad97f(0xb5d)]+_0x1ad97f(0xd58),_0xde91c9[_0x1ad97f(0x81c)]=_0x463580[_0x1ad97f(0xb5d)]?_0x463580['map'](_0x2b9e39=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x2b9e39[_0x1ad97f(0x5c5)]||_0x1ad97f(0x7e8))+_0x1ad97f(0x27f)+(_0x2b9e39[_0x1ad97f(0xafb)]?.['length']||0x0)+_0x1ad97f(0x6d4)+_0x2b9e39['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2b9e39['id']+_0x1ad97f(0x459)+_0x2b9e39['id']+_0x1ad97f(0x2d1)+_0x2b9e39['id']+_0x1ad97f(0x4d2)+_0x2b9e39['id']+_0x1ad97f(0x5b8))[_0x1ad97f(0x51a)](''):_0x1ad97f(0xbd4);}async function handleKickPlayer(_0x49954e){const _0x1158bd=_0xe56031;if(!currentLiveGameId||!_0x49954e)return;const _0x2e834f=doc(db,'artifacts/'+appId+_0x1158bd(0x33a),currentLiveGameId),_0x24b4cd={};_0x24b4cd['players.'+_0x49954e+_0x1158bd(0x19f)]=_0x1158bd(0x7bf);try{await updateDoc(_0x2e834f,_0x24b4cd);}catch(_0x163166){console[_0x1158bd(0x90c)](_0x1158bd(0x3d8)+_0x49954e+':',_0x163166),showMessage(_0x1158bd(0x4f9));}}async function authenticateUser(){const _0x435374=_0xe56031;try{typeof __initial_auth_token!==_0x435374(0x2aa)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x2a0b24){console[_0x435374(0x90c)]('Authentication\x20failed:',_0x2a0b24),showMessage(_0x435374(0x75b));}}function showView(_0x3e8eed){const _0x2e5851=_0xe56031;adminView[_0x2e5851(0x3f5)]['add'](_0x2e5851(0xa91)),studentView[_0x2e5851(0x3f5)][_0x2e5851(0xd54)](_0x2e5851(0xa91)),projectDashboardView[_0x2e5851(0x3f5)][_0x2e5851(0xd54)](_0x2e5851(0xa91)),projectDetailView[_0x2e5851(0x3f5)][_0x2e5851(0xd54)](_0x2e5851(0xa91)),quizResultsView['classList'][_0x2e5851(0xd54)](_0x2e5851(0xa91)),liveGameView[_0x2e5851(0x3f5)][_0x2e5851(0xd54)](_0x2e5851(0xa91)),document[_0x2e5851(0x581)](_0x2e5851(0x37d))['classList'][_0x2e5851(0xd54)](_0x2e5851(0xa91)),studentInitialView[_0x2e5851(0x3f5)]['add'](_0x2e5851(0xa91)),studentJoinGameView[_0x2e5851(0x3f5)]['add'](_0x2e5851(0xa91)),studentNameSelectionView[_0x2e5851(0x3f5)][_0x2e5851(0xd54)](_0x2e5851(0xa91)),studentQuizArea[_0x2e5851(0x3f5)][_0x2e5851(0xd54)]('hidden'),studentResultArea[_0x2e5851(0x3f5)][_0x2e5851(0xd54)](_0x2e5851(0xa91)),studentReadingArea[_0x2e5851(0x3f5)][_0x2e5851(0xd54)](_0x2e5851(0xa91));const _0x167a09=document['getElementById'](_0x2e5851(0x9ba)),_0x277bf7=document[_0x2e5851(0x581)](_0x2e5851(0x541));if(_0x167a09)_0x167a09[_0x2e5851(0x3f5)]['add']('hidden');if(_0x277bf7)_0x277bf7[_0x2e5851(0x3f5)][_0x2e5851(0xd54)]('hidden');switch(_0x3e8eed){case'admin-dashboard':adminView[_0x2e5851(0x3f5)][_0x2e5851(0xbb6)]('hidden'),projectDashboardView[_0x2e5851(0x3f5)][_0x2e5851(0xbb6)](_0x2e5851(0xa91));break;case _0x2e5851(0x47f):adminView[_0x2e5851(0x3f5)][_0x2e5851(0xbb6)](_0x2e5851(0xa91)),projectDetailView[_0x2e5851(0x3f5)][_0x2e5851(0xbb6)](_0x2e5851(0xa91));break;case'quiz-results':adminView[_0x2e5851(0x3f5)][_0x2e5851(0xbb6)](_0x2e5851(0xa91)),quizResultsView['classList']['remove'](_0x2e5851(0xa91));break;case _0x2e5851(0x39a):studentView['classList']['remove'](_0x2e5851(0xa91)),studentInitialView[_0x2e5851(0x3f5)][_0x2e5851(0xbb6)](_0x2e5851(0xa91));break;case _0x2e5851(0xa13):liveGameView['classList']['remove'](_0x2e5851(0xa91));break;case _0x2e5851(0x291):studentView[_0x2e5851(0x3f5)][_0x2e5851(0xbb6)]('hidden');if(_0x167a09)_0x167a09[_0x2e5851(0x3f5)][_0x2e5851(0xbb6)]('hidden');break;case'student-progress':studentView[_0x2e5851(0x3f5)]['remove'](_0x2e5851(0xa91));if(_0x277bf7)_0x277bf7['classList']['remove'](_0x2e5851(0xa91));break;default:studentView[_0x2e5851(0x3f5)]['remove'](_0x2e5851(0xa91)),studentInitialView[_0x2e5851(0x3f5)][_0x2e5851(0xbb6)](_0x2e5851(0xa91));break;}}function showJoinGameView(){const _0x494516=_0xe56031;studentInitialView[_0x494516(0x3f5)][_0x494516(0xd54)](_0x494516(0xa91)),studentJoinGameView['classList'][_0x494516(0xbb6)](_0x494516(0xa91));}async function handleSaveVisibilitySettings(){const _0x610ea6=_0xe56031;if(!currentProjectId)return;const _0xcb1308=doc(db,'artifacts/'+appId+_0x610ea6(0x7fe),currentProjectId);try{await updateDoc(_0xcb1308,{'settings.showInStudentDashboard':document['getElementById'](_0x610ea6(0xa27))[_0x610ea6(0x1f1)],'settings.isPasscodeEnabled':document['getElementById'](_0x610ea6(0xa35))['checked'],'settings.passcode':document['getElementById']('project-passcode-input')[_0x610ea6(0x9ef)]['trim']()}),showMessage(_0x610ea6(0x604));}catch(_0x5c576d){console[_0x610ea6(0x90c)](_0x610ea6(0x907),_0x5c576d),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x12b570=_0xe56031,_0x170e98=document[_0x12b570(0x581)](_0x12b570(0xcea)),_0x1f7b73=document[_0x12b570(0x581)](_0x12b570(0x296));_0x170e98&&_0x1f7b73&&_0x170e98[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x28ba21=_0x12b570;_0x1f7b73[_0x28ba21(0x3f5)]['add'](_0x28ba21(0xa91)),_0x1f7b73[_0x28ba21(0xada)]['currentMode']='';});const _0x4670f8=document[_0x12b570(0x581)](_0x12b570(0x498));_0x4670f8&&(_0x4670f8[_0x12b570(0x395)]('mousedown',wakeUpScreen),_0x4670f8[_0x12b570(0x395)](_0x12b570(0xc57),wakeUpScreen));document[_0x12b570(0x581)](_0x12b570(0x339))[_0x12b570(0x395)](_0x12b570(0xafd),async()=>{const _0x28fa65=_0x12b570;if(!currentBlueprintProjectId)return;const _0x1df582=document[_0x28fa65(0x581)](_0x28fa65(0x430))['value'][_0x28fa65(0xd92)](),_0x4034da=doc(db,_0x28fa65(0x637)+appId+_0x28fa65(0x371),currentBlueprintProjectId);try{await updateDoc(_0x4034da,{'referenceFileUrl':_0x1df582}),showMessage(_0x28fa65(0x73f));}catch(_0x526fc1){console[_0x28fa65(0x90c)]('Error\x20saving\x20reference\x20URL:',_0x526fc1),showMessage(_0x28fa65(0x25a));}}),document[_0x12b570(0x581)](_0x12b570(0x30a))['addEventListener'](_0x12b570(0xafd),handleAddParallelShortcutTab),document[_0x12b570(0x581)](_0x12b570(0xbc0))[_0x12b570(0x395)](_0x12b570(0xafd),_0x1a6b18=>{const _0x3459bd=_0x12b570;_0x1a6b18[_0x3459bd(0x8d1)][_0x3459bd(0xd63)](_0x3459bd(0xb03))&&(activeParallelShortcutTabId=_0x3459bd(0x5bf),renderAdditionalParallelShortcutsModal(),document['getElementById'](_0x3459bd(0x51b))[_0x3459bd(0x3f5)]['remove'](_0x3459bd(0xa91)));}),document['getElementById'](_0x12b570(0x2b4))[_0x12b570(0x395)]('click',()=>{const _0x2ec97d=_0x12b570;document[_0x2ec97d(0x581)](_0x2ec97d(0x51b))['classList']['add'](_0x2ec97d(0xa91));}),document[_0x12b570(0x395)](_0x12b570(0xafd),_0x19747d=>{const _0x218c95=_0x12b570;!_0x19747d[_0x218c95(0x8d1)][_0x218c95(0xd63)](_0x218c95(0x2c4))&&document[_0x218c95(0x30c)]('.move-parallel-shortcut-dropdown')[_0x218c95(0x215)](_0x561f0a=>_0x561f0a[_0x218c95(0x3f5)][_0x218c95(0xd54)](_0x218c95(0xa91)));}),document[_0x12b570(0x581)]('add-file-shortcut-tab-btn')['addEventListener']('click',handleAddFileShortcutTab),document[_0x12b570(0x581)](_0x12b570(0x7c8))[_0x12b570(0x395)]('click',_0x37a727=>{const _0x31d21c=_0x12b570;_0x37a727[_0x31d21c(0x8d1)][_0x31d21c(0xd63)]('#open-additional-file-shortcuts-btn')&&(activeFileShortcutTabId='all',renderAdditionalFileShortcutsModal(),document[_0x31d21c(0x581)](_0x31d21c(0x281))[_0x31d21c(0x3f5)][_0x31d21c(0xbb6)]('hidden'));}),document[_0x12b570(0x581)](_0x12b570(0x4c3))[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x427b12=_0x12b570;document[_0x427b12(0x581)]('additional-file-shortcuts-modal')['classList'][_0x427b12(0xd54)](_0x427b12(0xa91));}),document[_0x12b570(0x395)](_0x12b570(0xafd),_0x45729c=>{const _0x5498b4=_0x12b570;!_0x45729c[_0x5498b4(0x8d1)][_0x5498b4(0xd63)](_0x5498b4(0xa41))&&document[_0x5498b4(0x30c)](_0x5498b4(0x830))[_0x5498b4(0x215)](_0x3d8aa9=>_0x3d8aa9[_0x5498b4(0x3f5)]['add']('hidden'));}),document[_0x12b570(0x581)](_0x12b570(0x532))['addEventListener']('click',handleAddShortcutTab),document['getElementById']('parallel-shortcut-container')[_0x12b570(0x395)](_0x12b570(0xafd),_0x3422a9=>{const _0x260075=_0x12b570,_0x3e8ad6=_0x3422a9['target'][_0x260075(0xd63)](_0x260075(0x88b)),_0x4a7f5a=_0x3422a9[_0x260075(0x8d1)]['closest'](_0x260075(0x824)),_0x55d276=_0x3422a9[_0x260075(0x8d1)][_0x260075(0xd63)]('.delete-parallel-shortcut-btn');if(_0x4a7f5a)openParallelTestShortcutEditor(_0x4a7f5a['dataset']['id']);else{if(_0x55d276){const _0x8005bf=_0x55d276[_0x260075(0xada)]['id'];showConfirmation(_0x260075(0xa1e),async()=>{const _0x44560d=_0x260075,_0x275741=parallelTestShortcuts[_0x44560d(0x23d)](_0x1e3002=>_0x1e3002['id']!==_0x8005bf),_0x4cb4ca=doc(db,_0x44560d(0x2f5),_0x44560d(0x310));await setDoc(_0x4cb4ca,{'shortcuts':_0x275741},{'merge':!![]});});}else _0x3e8ad6&&handleParallelTestShortcutClick(_0x3e8ad6[_0x260075(0xada)]['id']);}}),document[_0x12b570(0x581)](_0x12b570(0x611))[_0x12b570(0x395)](_0x12b570(0xafd),()=>openParallelTestShortcutEditor(null)),document[_0x12b570(0x581)](_0x12b570(0xa01))['addEventListener'](_0x12b570(0xafd),()=>{const _0x5de03b=_0x12b570;document['getElementById']('parallel-shortcut-editor-modal')['classList']['add'](_0x5de03b(0xa91));}),document[_0x12b570(0x581)]('save-parallel-shortcut-btn')[_0x12b570(0x395)]('click',saveParallelTestShortcutChanges),document[_0x12b570(0x581)](_0x12b570(0xbc0))[_0x12b570(0x395)](_0x12b570(0xafd),_0x5d7df0=>{const _0x134e2b=_0x12b570;_0x5d7df0[_0x134e2b(0x8d1)][_0x134e2b(0xd63)](_0x134e2b(0xb03))&&document[_0x134e2b(0x581)](_0x134e2b(0x51b))[_0x134e2b(0x3f5)][_0x134e2b(0xbb6)](_0x134e2b(0xa91));}),document[_0x12b570(0x581)](_0x12b570(0x2b4))['addEventListener'](_0x12b570(0xafd),()=>{const _0x33e2b3=_0x12b570;document[_0x33e2b3(0x581)](_0x33e2b3(0x51b))[_0x33e2b3(0x3f5)][_0x33e2b3(0xd54)](_0x33e2b3(0xa91));}),document[_0x12b570(0x581)](_0x12b570(0x7cb))[_0x12b570(0x395)](_0x12b570(0xafd),_0x2d8904=>{const _0x269c6d=_0x12b570,_0x39aa02=document['getElementById'](_0x269c6d(0x51b)),_0x2621e0=_0x2d8904['target'][_0x269c6d(0xd63)]('.use-hidden-parallel-shortcut-btn'),_0x249043=_0x2d8904['target'][_0x269c6d(0xd63)](_0x269c6d(0x785)),_0x5eaf1a=_0x2d8904[_0x269c6d(0x8d1)]['closest'](_0x269c6d(0xb3e));if(_0x2621e0)_0x39aa02[_0x269c6d(0x3f5)][_0x269c6d(0xd54)](_0x269c6d(0xa91)),handleParallelTestShortcutClick(_0x2621e0['dataset']['id']);else{if(_0x249043)_0x39aa02['classList'][_0x269c6d(0xd54)]('hidden'),openParallelTestShortcutEditor(_0x249043[_0x269c6d(0xada)]['id']);else{if(_0x5eaf1a){const _0x437c0b=_0x5eaf1a[_0x269c6d(0xada)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x531c3e=_0x269c6d,_0x2ac47c=parallelTestShortcuts[_0x531c3e(0x23d)](_0x4029ea=>_0x4029ea['id']!==_0x437c0b),_0x478139=doc(db,'globalSettings','parallelTestShortcutsConfig');await setDoc(_0x478139,{'shortcuts':_0x2ac47c},{'merge':!![]});});}}}}),document[_0x12b570(0x581)](_0x12b570(0x2ea))[_0x12b570(0x395)](_0x12b570(0xafd),_0x4e3629=>{const _0x1e2ee4=_0x12b570,_0x276194=_0x4e3629[_0x1e2ee4(0x8d1)][_0x1e2ee4(0xd63)]('.file-shortcut-btn'),_0x381786=_0x4e3629[_0x1e2ee4(0x8d1)][_0x1e2ee4(0xd63)](_0x1e2ee4(0x99e)),_0x257a01=_0x4e3629['target'][_0x1e2ee4(0xd63)](_0x1e2ee4(0x54c));if(_0x381786)openFileShortcutEditor(_0x381786[_0x1e2ee4(0xada)]['id']);else{if(_0x257a01){const _0x55e0c8=_0x257a01[_0x1e2ee4(0xada)]['id'];showConfirmation(_0x1e2ee4(0xa1e),async()=>{const _0x204021=_0x1e2ee4,_0x3916d4=fileShortcuts[_0x204021(0x23d)](_0x27e399=>_0x27e399['id']!==_0x55e0c8),_0xdb29bd=doc(db,'globalSettings',_0x204021(0xd90));await setDoc(_0xdb29bd,{'shortcuts':_0x3916d4},{'merge':!![]});});}else _0x276194&&handleFileShortcutClick(_0x276194[_0x1e2ee4(0xada)]['id']);}}),document['getElementById'](_0x12b570(0x9cd))[_0x12b570(0x395)]('click',()=>openFileShortcutEditor(null)),document[_0x12b570(0x581)](_0x12b570(0x365))[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x531e45=_0x12b570;document['getElementById'](_0x531e45(0x5e2))['classList']['add'](_0x531e45(0xa91));}),document['getElementById'](_0x12b570(0x1d7))[_0x12b570(0x395)](_0x12b570(0xafd),saveFileShortcutChanges),document[_0x12b570(0x581)](_0x12b570(0x7c8))[_0x12b570(0x395)](_0x12b570(0xafd),_0x2657f0=>{const _0x4d880f=_0x12b570;_0x2657f0[_0x4d880f(0x8d1)]['closest'](_0x4d880f(0x294))&&document[_0x4d880f(0x581)]('additional-file-shortcuts-modal')[_0x4d880f(0x3f5)][_0x4d880f(0xbb6)](_0x4d880f(0xa91));}),document[_0x12b570(0x581)](_0x12b570(0x4c3))[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x1b8404=_0x12b570;document[_0x1b8404(0x581)](_0x1b8404(0x281))[_0x1b8404(0x3f5)]['add'](_0x1b8404(0xa91));}),document[_0x12b570(0x581)]('additional-file-shortcuts-list')['addEventListener'](_0x12b570(0xafd),_0xae876c=>{const _0x28cc5a=_0x12b570,_0x420b73=document['getElementById'](_0x28cc5a(0x281)),_0xfde14e=_0xae876c['target']['closest'](_0x28cc5a(0x63a)),_0x8296c0=_0xae876c['target'][_0x28cc5a(0xd63)](_0x28cc5a(0x73c)),_0x56872d=_0xae876c[_0x28cc5a(0x8d1)]['closest'](_0x28cc5a(0x557));if(_0xfde14e)_0x420b73[_0x28cc5a(0x3f5)][_0x28cc5a(0xd54)](_0x28cc5a(0xa91)),handleFileShortcutClick(_0xfde14e[_0x28cc5a(0xada)]['id']);else{if(_0x8296c0)_0x420b73[_0x28cc5a(0x3f5)][_0x28cc5a(0xd54)](_0x28cc5a(0xa91)),openFileShortcutEditor(_0x8296c0[_0x28cc5a(0xada)]['id']);else{if(_0x56872d){const _0x33b3b5=_0x56872d[_0x28cc5a(0xada)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x1edb61=_0x28cc5a,_0x2b46c9=fileShortcuts[_0x1edb61(0x23d)](_0x4422f8=>_0x4422f8['id']!==_0x33b3b5),_0x3f65d8=doc(db,_0x1edb61(0x2f5),_0x1edb61(0xd90));await setDoc(_0x3f65d8,{'shortcuts':_0x2b46c9},{'merge':!![]});});}}}}),document[_0x12b570(0x581)](_0x12b570(0xc32))[_0x12b570(0x395)](_0x12b570(0xafd),_0x3b88dd=>{const _0x529bc3=_0x12b570;_0x3b88dd[_0x529bc3(0x8d1)][_0x529bc3(0xd63)](_0x529bc3(0x5e6))&&(activeShortcutTabId='all',renderAdditionalShortcutsModal(),document[_0x529bc3(0x581)]('additional-shortcuts-modal')[_0x529bc3(0x3f5)][_0x529bc3(0xbb6)](_0x529bc3(0xa91)));}),document[_0x12b570(0x581)](_0x12b570(0x8f4))[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x2ee07c=_0x12b570;document[_0x2ee07c(0x581)]('additional-shortcuts-modal')[_0x2ee07c(0x3f5)][_0x2ee07c(0xd54)](_0x2ee07c(0xa91));}),document['getElementById'](_0x12b570(0x383))[_0x12b570(0x395)](_0x12b570(0xafd),_0x465902=>{const _0xf5ce8f=_0x12b570,_0x22cdb5=_0x465902['target'][_0xf5ce8f(0xd63)](_0xf5ce8f(0xc1a)),_0x27d6f2=_0x465902[_0xf5ce8f(0x8d1)][_0xf5ce8f(0xd63)]('.edit-hidden-shortcut-btn'),_0x2d7c1a=_0x465902[_0xf5ce8f(0x8d1)][_0xf5ce8f(0xd63)](_0xf5ce8f(0x6f2)),_0x361a50=document['getElementById'](_0xf5ce8f(0x251));if(_0x22cdb5)_0x361a50[_0xf5ce8f(0x3f5)]['add']('hidden'),handleShortcutClick(_0x22cdb5['dataset']['id']);else{if(_0x27d6f2)_0x361a50[_0xf5ce8f(0x3f5)][_0xf5ce8f(0xd54)](_0xf5ce8f(0xa91)),openShortcutEditor(_0x27d6f2['dataset']['id']);else{if(_0x2d7c1a){const _0x3840e6=_0x2d7c1a['dataset']['id'],_0x381725=blueprintShortcuts[_0xf5ce8f(0x692)](_0x2922c8=>_0x2922c8['id']===_0x3840e6)?.[_0xf5ce8f(0xb95)];showConfirmation(_0xf5ce8f(0x7eb)+_0x381725+'\x22?',async()=>{const _0x3ac2d8=_0xf5ce8f,_0x4e5259=blueprintShortcuts[_0x3ac2d8(0x23d)](_0x3e0a60=>_0x3e0a60['id']!==_0x3840e6);try{const _0x306119=doc(db,_0x3ac2d8(0x2f5),_0x3ac2d8(0xa4c));await setDoc(_0x306119,{'blueprintShortcuts':_0x4e5259},{'merge':!![]});}catch(_0x3839b8){console[_0x3ac2d8(0x90c)](_0x3ac2d8(0x89b),_0x3839b8);}});}}}}),document[_0x12b570(0x581)](_0x12b570(0x2e0))[_0x12b570(0x395)](_0x12b570(0xafd),_0xcb1eee=>{const _0x131146=_0x12b570,_0x8dd028=_0xcb1eee[_0x131146(0x8d1)][_0x131146(0xd63)](_0x131146(0x234)),_0x240bd6=_0xcb1eee[_0x131146(0x8d1)][_0x131146(0xd63)]('.edit-shortcut-btn'),_0x3482ed=_0xcb1eee[_0x131146(0x8d1)][_0x131146(0xd63)]('.delete-shortcut-btn');if(_0x240bd6)openShortcutEditor(_0x240bd6['dataset']['id']);else{if(_0x3482ed){const _0x31fb54=_0x3482ed[_0x131146(0xada)]['id'],_0x21da8e=blueprintShortcuts[_0x131146(0x692)](_0x51cee5=>_0x51cee5['id']===_0x31fb54)?.[_0x131146(0xb95)];showConfirmation(_0x131146(0x7eb)+_0x21da8e+'\x22?',async()=>{const _0x17903e=_0x131146,_0x4f74a2=blueprintShortcuts[_0x17903e(0x23d)](_0xcb31ca=>_0xcb31ca['id']!==_0x31fb54);try{const _0x4b6bba=doc(db,_0x17903e(0x2f5),'dashboardConfig');await setDoc(_0x4b6bba,{'blueprintShortcuts':_0x4f74a2},{'merge':!![]});}catch(_0x37f059){console['error'](_0x17903e(0x89b),_0x37f059);}});}else _0x8dd028&&handleShortcutClick(_0x8dd028[_0x131146(0xada)]['id']);}}),document['getElementById'](_0x12b570(0x40d))['addEventListener']('click',()=>openShortcutEditor(null)),document[_0x12b570(0x581)]('cancel-shortcut-edit-btn')[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x2cfa49=_0x12b570;document[_0x2cfa49(0x581)](_0x2cfa49(0xcee))[_0x2cfa49(0x3f5)][_0x2cfa49(0xd54)](_0x2cfa49(0xa91));}),document['getElementById'](_0x12b570(0x570))[_0x12b570(0x395)](_0x12b570(0xafd),saveShortcutChanges),document[_0x12b570(0x581)]('generate-from-blueprint-btn')['addEventListener'](_0x12b570(0xafd),async()=>{const _0x4bd95b=_0x12b570,_0x4335c4=document[_0x4bd95b(0x581)]('blueprint-upload-input'),_0x4afde3=document[_0x4bd95b(0x581)](_0x4bd95b(0x911));_0x4335c4[_0x4bd95b(0x8eb)][_0x4bd95b(0xb5d)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x4335c4[_0x4bd95b(0x8eb)][0x0],_0x4afde3[_0x4bd95b(0x8eb)][0x0]||null):showMessage(_0x4bd95b(0xbc4));}),document[_0x12b570(0x581)](_0x12b570(0x378))[_0x12b570(0x395)](_0x12b570(0xafd),async _0x4c71ef=>{const _0x5d6184=_0x12b570,_0x36ed05=document[_0x5d6184(0x581)](_0x5d6184(0x378)),_0x503150=_0x4c71ef[_0x5d6184(0x8d1)][_0x5d6184(0xd63)]('.bp-view-analysis-btn'),_0x33b454=_0x4c71ef[_0x5d6184(0x8d1)][_0x5d6184(0xd63)]('.bp-unlink-quiz-btn'),_0x6979da=_0x4c71ef['target'][_0x5d6184(0xd63)](_0x5d6184(0x7ec)),_0x1beb7f=_0x4c71ef[_0x5d6184(0x8d1)][_0x5d6184(0xd63)]('.bp-try-btn'),_0x1f4bf3=_0x4c71ef[_0x5d6184(0x8d1)][_0x5d6184(0xd63)]('.bp-live-btn'),_0x3298e1=_0x4c71ef['target'][_0x5d6184(0xd63)](_0x5d6184(0xc2c));if(_0x503150){cameFromBlueprint=!![];const _0x157d1a=_0x503150[_0x5d6184(0xada)][_0x5d6184(0x8b9)];showQuizDetailView(_0x157d1a),_0x36ed05[_0x5d6184(0x3f5)][_0x5d6184(0xd54)](_0x5d6184(0xa91));}else{if(_0x33b454){const _0x4410dc=_0x33b454[_0x5d6184(0xada)]['topicId'],_0x57c745=_0x33b454['dataset'][_0x5d6184(0x8b9)],_0x46a360=allQuizzesGlobal[_0x5d6184(0x692)](_0x7c16af=>_0x7c16af['id']===_0x57c745),_0x4f37c2=_0x46a360?_0x46a360['topic']:_0x5d6184(0x273);showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22'+_0x4f37c2+'\x22\x20ออกจากคลังนี้?',async()=>{const _0x6ac011=_0x5d6184;try{const _0x22d192=doc(db,'artifacts/'+appId+_0x6ac011(0x371),currentBlueprintProjectId);await updateDoc(_0x22d192,{[_0x6ac011(0xb80)+_0x4410dc+_0x6ac011(0x881)]:arrayRemove(_0x57c745)}),showMessage('นำแบบทดสอบออกจากคลังนี้แล้ว'),openTopicQuizBank(_0x4410dc),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x55f00a){console['error'](_0x6ac011(0x8e2),_0x55f00a),showMessage('เกิดข้อผิดพลาดในการนำแบบทดสอบออก');}});}else{if(_0x6979da){cameFromBlueprint=!![];const _0x4b77b6=_0x6979da[_0x5d6184(0xada)][_0x5d6184(0x8b9)],_0x37b463=allQuizzesGlobal[_0x5d6184(0x692)](_0x100e4b=>_0x100e4b['id']===_0x4b77b6);_0x37b463&&(startPresentation(_0x37b463),_0x36ed05[_0x5d6184(0x3f5)][_0x5d6184(0xd54)]('hidden'));}else{if(_0x1beb7f){cameFromBlueprint=!![];const _0xd27d5c=_0x1beb7f['dataset'][_0x5d6184(0x8b9)],_0x4a7ecd=allQuizzesGlobal[_0x5d6184(0x692)](_0x469e76=>_0x469e76['id']===_0xd27d5c);_0x4a7ecd&&(currentQuizData=_0x4a7ecd,startAdminTest(),_0x36ed05[_0x5d6184(0x3f5)][_0x5d6184(0xd54)](_0x5d6184(0xa91)));}else{if(_0x1f4bf3)cameFromBlueprint=!![],handleStartLiveRace(_0x1f4bf3[_0x5d6184(0xada)][_0x5d6184(0x8b9)]),_0x36ed05[_0x5d6184(0x3f5)][_0x5d6184(0xd54)](_0x5d6184(0xa91));else{if(_0x3298e1){cameFromBlueprint=!![];const _0x3c87b6=_0x3298e1[_0x5d6184(0xada)][_0x5d6184(0x8b9)],_0x5f3cb3=_0x3298e1['dataset'][_0x5d6184(0xd80)],_0x37feca=allQuizzesGlobal[_0x5d6184(0x692)](_0xacd518=>_0xacd518['id']===_0x3c87b6);_0x37feca&&(showGameStartConfirmationModal(_0x3c87b6,_0x5f3cb3,_0x37feca[_0x5d6184(0x5c5)]),_0x36ed05[_0x5d6184(0x3f5)]['add'](_0x5d6184(0xa91)));}}}}}}}),document[_0x12b570(0x581)](_0x12b570(0x203))['addEventListener'](_0x12b570(0xafd),()=>{const _0x5c8770=_0x12b570;document['getElementById']('manual-blueprint-modal')['classList'][_0x5c8770(0xbb6)]('hidden'),document[_0x5c8770(0x581)](_0x5c8770(0xb53))['value']='',document[_0x5c8770(0x581)]('manual-bp-grade-level')['value']='',document[_0x5c8770(0x581)](_0x5c8770(0xb8f))[_0x5c8770(0x9ef)]='';}),document[_0x12b570(0x581)]('cancel-manual-bp-btn')['addEventListener'](_0x12b570(0xafd),()=>{const _0xa26fa3=_0x12b570;document[_0xa26fa3(0x581)]('manual-blueprint-modal')[_0xa26fa3(0x3f5)][_0xa26fa3(0xd54)](_0xa26fa3(0xa91));}),document['getElementById'](_0x12b570(0x5fe))['addEventListener']('click',handleManualBlueprintSave),document['getElementById'](_0x12b570(0x519))['addEventListener']('click',()=>document[_0x12b570(0x581)]('blueprint-settings-modal')[_0x12b570(0x3f5)][_0x12b570(0xd54)](_0x12b570(0xa91))),document[_0x12b570(0x581)](_0x12b570(0x804))[_0x12b570(0x395)](_0x12b570(0xafd),handleSaveBlueprintPageSettings),document[_0x12b570(0x581)](_0x12b570(0xb25))[_0x12b570(0x395)]('click',openBlueprintQuizSettings),document['getElementById']('save-blueprint-as-project-btn')[_0x12b570(0x395)](_0x12b570(0xafd),saveBlueprintProject),document['getElementById'](_0x12b570(0x800))[_0x12b570(0x395)](_0x12b570(0xafd),showBlueprintProjects),document[_0x12b570(0x581)](_0x12b570(0x257))[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x1cd8ca=_0x12b570;document[_0x1cd8ca(0x581)](_0x1cd8ca(0x823))['classList'][_0x1cd8ca(0xd54)](_0x1cd8ca(0xa91));}),document[_0x12b570(0x581)](_0x12b570(0x78c))[_0x12b570(0x395)](_0x12b570(0xafd),_0x495033=>{const _0x168ede=_0x12b570,_0x41f015=_0x495033[_0x168ede(0x8d1)]['closest'](_0x168ede(0xba4)),_0x22e934=_0x495033[_0x168ede(0x8d1)][_0x168ede(0xd63)](_0x168ede(0xad9));if(_0x41f015)displayBlueprintProjectManager(_0x41f015['dataset']['id']);else _0x22e934&&handleDeepDeleteBlueprintProject(_0x22e934[_0x168ede(0xada)]['id']);}),document[_0x12b570(0x581)](_0x12b570(0x1f7))['addEventListener'](_0x12b570(0xafd),()=>{const _0x225a1c=_0x12b570;currentBlueprintProjectId=null,currentProjectId=null,document[_0x225a1c(0x581)](_0x225a1c(0x37d))['classList'][_0x225a1c(0xd54)](_0x225a1c(0xa91)),showView('admin-dashboard');}),document[_0x12b570(0x581)]('bp-add-topic-btn')[_0x12b570(0x395)](_0x12b570(0xafd),addTopicToProject),document['getElementById'](_0x12b570(0xc4d))[_0x12b570(0x395)](_0x12b570(0xafd),async _0x51cd7b=>{const _0x5ea86d=_0x12b570,_0x56e632=_0x51cd7b[_0x5ea86d(0x8d1)]['closest']('[data-topic-id]');if(!_0x56e632)return;const _0x51768e=_0x56e632[_0x5ea86d(0xada)][_0x5ea86d(0xad8)],_0x47ae32=_0x51cd7b[_0x5ea86d(0x8d1)][_0x5ea86d(0xd63)](_0x5ea86d(0xca5)),_0x56c34b=_0x51cd7b[_0x5ea86d(0x8d1)]['closest']('.bp-create-content-quiz-btn'),_0x475e36=_0x51cd7b[_0x5ea86d(0x8d1)][_0x5ea86d(0xd63)]('.bp-create-topic-quiz-btn'),_0x185646=_0x51cd7b[_0x5ea86d(0x8d1)][_0x5ea86d(0xd63)](_0x5ea86d(0x8f0)),_0xfa2bbb=_0x51cd7b[_0x5ea86d(0x8d1)]['closest'](_0x5ea86d(0xa77)),_0xc2b7b0=_0x51cd7b[_0x5ea86d(0x8d1)][_0x5ea86d(0xd63)](_0x5ea86d(0xbdd)),_0x1f1aba=_0x51cd7b['target'][_0x5ea86d(0xd63)](_0x5ea86d(0x2e1)),_0x5c2fd9=_0x51cd7b[_0x5ea86d(0x8d1)][_0x5ea86d(0xd63)]('.bp-delete-topic-btn'),_0x46f4a1=_0x3571d6=>{const _0x3e75a9=_0x5ea86d,_0x1c4c64=_0x3571d6[_0x3e75a9(0xd4c)](_0x3e75a9(0x3cd))[_0x3e75a9(0x25c)][_0x3e75a9(0xd92)](),_0x41ee77=_0x3571d6[_0x3e75a9(0xd63)](_0x3e75a9(0x197))[_0x3e75a9(0x679)],_0x52093b=_0x41ee77?_0x41ee77['textContent'][_0x3e75a9(0xd92)]():'';return _0x52093b+':\x20'+_0x1c4c64;};if(_0x185646)openTopicQuizBank(_0x51768e);else{if(_0x47ae32){const _0x5cb5d7=_0x46f4a1(_0x56e632);selectProjectAndGenerateBlueprintQuiz(_0x5cb5d7,null,_0x51768e,!![]);}else{if(_0x56c34b){const _0x1535fc=_0x46f4a1(_0x56e632);try{const _0x166502=doc(db,_0x5ea86d(0x637)+appId+_0x5ea86d(0x819)+currentBlueprintProjectId+_0x5ea86d(0xc33),_0x51768e),_0x1973c9=await getDoc(_0x166502);if(_0x1973c9['exists']()){const _0x40a542=_0x1973c9['data']()['content'],_0x1e642b=document[_0x5ea86d(0x4e3)](_0x5ea86d(0xc53)),_0x340a84=_0x1863ca=>{const _0x396e54=_0x5ea86d;if(!_0x1863ca)return'';return _0x1e642b[_0x396e54(0x81c)]=_0x1863ca,_0x1e642b['textContent']||_0x1e642b[_0x396e54(0x869)]||'';},_0x523656=(_0x340a84(_0x40a542[_0x5ea86d(0xb37)])+'\x20'+_0x340a84(_0x40a542[_0x5ea86d(0x88f)])+'\x20'+_0x340a84(_0x40a542[_0x5ea86d(0xc2f)]))['trim']();selectProjectAndGenerateBlueprintQuiz(_0x1535fc,_0x523656,_0x51768e,![]);}else showMessage(_0x5ea86d(0xd44));}catch(_0x15a47f){console[_0x5ea86d(0x90c)](_0x5ea86d(0x4d5),_0x15a47f),showMessage(_0x5ea86d(0xbb9));}}else{if(_0x475e36){const _0x367cd5=_0x46f4a1(_0x56e632);selectProjectAndGenerateBlueprintQuiz(_0x367cd5,null,_0x51768e,![]);}else{if(_0xfa2bbb){const _0x3dc821=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x1b99e3=await getDoc(_0x3dc821);if(_0x1b99e3[_0x5ea86d(0x437)]()){const _0x26aead=_0x1b99e3['data'](),_0x5eb94f=_0x26aead[_0x5ea86d(0x224)][_0x51768e];if(_0x5eb94f&&_0x5eb94f['status']==='generated')try{const _0x1ed62f=doc(db,_0x5ea86d(0x637)+appId+_0x5ea86d(0x819)+currentBlueprintProjectId+_0x5ea86d(0xc33),_0x51768e),_0x3e7df7=await getDoc(_0x1ed62f);if(_0x3e7df7[_0x5ea86d(0x437)]()){const _0x5262fa=_0x3e7df7['data']()[_0x5ea86d(0x513)];document['getElementById'](_0x5ea86d(0xaa8))[_0x5ea86d(0x25c)]='บทเรียนเรื่อง:\x20'+_0x46f4a1(_0x56e632),document[_0x5ea86d(0x581)]('pointContent')[_0x5ea86d(0x81c)]=_0x5262fa[_0x5ea86d(0xb37)],document[_0x5ea86d(0x581)]('memoryContent')[_0x5ea86d(0x81c)]=_0x5262fa['memory'],document[_0x5ea86d(0x581)](_0x5ea86d(0x4cd))['innerHTML']=_0x5262fa['summary'];const _0x4a887b=document[_0x5ea86d(0x581)](_0x5ea86d(0xb26));_0x5262fa[_0x5ea86d(0xaaa)]?(currentApplicationData=_0x5262fa[_0x5ea86d(0xaaa)],_0x4a887b[_0x5ea86d(0x81c)]=currentApplicationData[_0x5ea86d(0xaa7)]((_0x496442,_0x2936d4)=>'<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>'+(_0x2936d4+0x1)+'.\x20'+marked[_0x5ea86d(0xc7e)](_0x496442[_0x5ea86d(0x2c3)])+_0x5ea86d(0x3bc)+_0x2936d4+'-options\x22>'+_0x496442[_0x5ea86d(0x578)][_0x5ea86d(0xaa7)]((_0x363e2b,_0x42f074)=>'<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x2936d4+',\x20'+_0x42f074+')\x22>'+String[_0x5ea86d(0x91f)](0x61+_0x42f074)+'.\x20'+marked['parseInline'](_0x363e2b)+_0x5ea86d(0x32f))[_0x5ea86d(0x51a)]('')+_0x5ea86d(0xb83))[_0x5ea86d(0x51a)]('')):(currentApplicationData=[],_0x4a887b[_0x5ea86d(0x81c)]=_0x5262fa[_0x5ea86d(0x6cf)]||_0x5262fa[_0x5ea86d(0xd71)]),document[_0x5ea86d(0x581)](_0x5ea86d(0xcbf))['classList'][_0x5ea86d(0xd54)](_0x5ea86d(0xa91)),document['getElementById'](_0x5ea86d(0x94e))['classList'][_0x5ea86d(0xbb6)](_0x5ea86d(0xa91)),document['getElementById'](_0x5ea86d(0xbb2))[_0x5ea86d(0x3f5)][_0x5ea86d(0xbb6)]('hidden'),window[_0x5ea86d(0x609)]&&MathJax[_0x5ea86d(0x461)]([document[_0x5ea86d(0x581)](_0x5ea86d(0x993))]);}else showMessage(_0x5ea86d(0xb09));}catch(_0x66b612){console['error'](_0x5ea86d(0x986),_0x66b612),showMessage('เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน');}else showMessage(_0x5ea86d(0x917));}}else{if(_0xc2b7b0){const _0x251dde=_0x46f4a1(_0x56e632),_0x130989=doc(db,'artifacts/'+appId+_0x5ea86d(0x371),currentBlueprintProjectId),_0x44a56a=await getDoc(_0x130989);if(_0x44a56a[_0x5ea86d(0x437)]()){const _0xa0d1b6=_0x44a56a[_0x5ea86d(0x610)]();generateAndSaveLessonForBlueprint(_0x51768e,_0x251dde,_0xa0d1b6['gradeLevel']);}}else{if(_0x1f1aba)editTopicInProject(_0x51768e);else _0x5c2fd9&&deleteTopicFromProject(_0x51768e);}}}}}}}),document[_0x12b570(0x581)](_0x12b570(0xa82))[_0x12b570(0x395)]('click',handleFixLessonLatex),document[_0x12b570(0x581)](_0x12b570(0x79f))['addEventListener'](_0x12b570(0xafd),handleExportLessonToPDF),document['getElementById']('close-lesson-view-btn')[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x39abb8=_0x12b570;document[_0x39abb8(0x581)](_0x39abb8(0xbb2))['classList'][_0x39abb8(0xd54)]('hidden');});const _0x39e178=document[_0x12b570(0x581)]('bulk-confidence-scoring-checkbox'),_0x4c96a0=document[_0x12b570(0x581)](_0x12b570(0xb75));_0x39e178[_0x12b570(0x395)](_0x12b570(0x60a),()=>{const _0x564634=_0x12b570;_0x4c96a0[_0x564634(0x3f5)]['toggle']('hidden',!_0x39e178['checked']);});const _0xaf48ad=document[_0x12b570(0x581)](_0x12b570(0xa97)),_0x26b78e=document[_0x12b570(0x581)](_0x12b570(0x436));_0xaf48ad[_0x12b570(0x395)]('change',()=>{const _0x542367=_0x12b570;_0x26b78e['classList'][_0x542367(0x65d)]('hidden',!_0xaf48ad[_0x542367(0x1f1)]);});const _0x286253=document[_0x12b570(0x581)](_0x12b570(0x6c3)),_0x1d0c8d=document[_0x12b570(0x581)]('modal-confidence-mode-container');_0x286253[_0x12b570(0x395)](_0x12b570(0x60a),()=>{const _0x21bd7a=_0x12b570;_0x1d0c8d[_0x21bd7a(0x3f5)][_0x21bd7a(0x65d)]('hidden',!_0x286253[_0x21bd7a(0x1f1)]);});const _0x595b9b=document[_0x12b570(0x581)](_0x12b570(0x296)),_0x5d11a4=async _0x3343e7=>{const _0x19d5b0=_0x12b570,_0x2f6b95=document[_0x19d5b0(0x581)](_0x19d5b0(0x296)),_0x3e5e3d=_0x2f6b95[_0x19d5b0(0xada)]['currentMode'],_0x5d2203=document['getElementById'](_0x19d5b0(0xccf));_0x2f6b95['classList'][_0x19d5b0(0xd54)](_0x19d5b0(0xa91));if(_0x3e5e3d===_0x19d5b0(0x813)){const _0x270661=_0x5d2203[_0x19d5b0(0x9ef)],_0x314445={'answer':_0x270661,'wasConfident':_0x3343e7};proceedToNextQuestion(_0x314445);}else{if(_0x3e5e3d==='sync'){const _0x38f1c8=_0x5d2203[_0x19d5b0(0xada)][_0x19d5b0(0x451)],_0x4e2c53=JSON[_0x19d5b0(0x559)](_0x5d2203[_0x19d5b0(0xada)][_0x19d5b0(0x2c3)]),_0x2226e0=JSON[_0x19d5b0(0x559)](_0x5d2203[_0x19d5b0(0xada)][_0x19d5b0(0x98c)]),_0x44d564=_0x5d2203[_0x19d5b0(0xada)]['playerName'];handleSyncAnswerSubmit(_0x38f1c8,_0x4e2c53,_0x2226e0,_0x44d564,_0x3343e7);}}_0x2f6b95[_0x19d5b0(0xada)][_0x19d5b0(0x2d2)]='';};document['getElementById'](_0x12b570(0x854))[_0x12b570(0x395)](_0x12b570(0xafd),()=>_0x5d11a4(!![])),document[_0x12b570(0x581)](_0x12b570(0x221))['addEventListener'](_0x12b570(0xafd),()=>_0x5d11a4(![])),liveGameView[_0x12b570(0x395)]('click',_0x52f585=>{const _0x468641=_0x12b570,_0x3a73af=_0x52f585[_0x468641(0x8d1)]['closest']('.kick-player-btn-sync');if(_0x3a73af){const _0x1c8fb1=_0x3a73af[_0x468641(0xada)][_0x468641(0xd0a)];_0x1c8fb1&&handleKickPlayerSync(_0x1c8fb1);}});const _0x40078b=document[_0x12b570(0x581)](_0x12b570(0x1d1)),_0x3f6376=document[_0x12b570(0x581)](_0x12b570(0x3ab));_0x3f6376[_0x12b570(0x395)]('click',()=>{const _0x5d0a1a=_0x12b570;document[_0x5d0a1a(0x581)](_0x5d0a1a(0xd05))[_0x5d0a1a(0x3f5)][_0x5d0a1a(0xd54)](_0x5d0a1a(0xa91));}),_0x40078b[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x2b00bc=_0x12b570,_0x5bcda1=document[_0x2b00bc(0x581)](_0x2b00bc(0x680))[_0x2b00bc(0x9ef)],_0x109a67=document[_0x2b00bc(0x581)](_0x2b00bc(0x442))[_0x2b00bc(0x9ef)],_0x9d2e6d=document[_0x2b00bc(0x581)](_0x2b00bc(0x8d4))['checked'];document[_0x2b00bc(0x581)](_0x2b00bc(0xd05))[_0x2b00bc(0x3f5)][_0x2b00bc(0xd54)](_0x2b00bc(0xa91));switch(_0x109a67){case _0x2b00bc(0xa87):handleStartLiveRace(_0x5bcda1,_0x9d2e6d);break;case'team':handleStartTeamQuiz(_0x5bcda1,_0x9d2e6d);break;case'group':handleStartGroupMode(_0x5bcda1,_0x9d2e6d);break;case _0x2b00bc(0x568):const _0x2da17f=document['querySelector'](_0x2b00bc(0x68c))[_0x2b00bc(0x9ef)]||_0x2b00bc(0xc6c);handleStartSyncMode(_0x5bcda1,_0x9d2e6d,_0x2da17f);break;}}),document[_0x12b570(0x581)](_0x12b570(0x363))['addEventListener'](_0x12b570(0xafd),handleJoinGroupActivity),liveGameView[_0x12b570(0x395)](_0x12b570(0xafd),_0xa98c31=>{const _0x588b7b=_0x12b570,_0x4fc8a0=_0xa98c31['target'][_0x588b7b(0xd63)](_0x588b7b(0x2e7));document[_0x588b7b(0x30c)](_0x588b7b(0x284))[_0x588b7b(0x215)](_0x2f0bc0=>{const _0x7d5765=_0x588b7b;(!_0x4fc8a0||_0x2f0bc0['id']!==_0x4fc8a0['dataset'][_0x7d5765(0x7dd)])&&_0x2f0bc0[_0x7d5765(0x3f5)][_0x7d5765(0xbb6)]('visible');});if(!_0x4fc8a0)return;const _0x369958=_0x4fc8a0[_0x588b7b(0xada)]['tooltipTarget'],_0x2d54ed=document[_0x588b7b(0x581)](_0x369958);_0x2d54ed&&_0x2d54ed[_0x588b7b(0x3f5)][_0x588b7b(0x65d)]('visible');}),liveGameView[_0x12b570(0x395)](_0x12b570(0xafd),_0xee38ee=>{const _0x56584b=_0x12b570;if(_0xee38ee[_0x56584b(0x8d1)][_0x56584b(0x3f5)][_0x56584b(0x1fe)]('kick-player-btn')){const _0x59bae6=_0xee38ee[_0x56584b(0x8d1)][_0x56584b(0xada)]['playerName'];_0x59bae6&&handleKickPlayer(_0x59bae6);}}),document['getElementById'](_0x12b570(0x5d1))[_0x12b570(0x395)](_0x12b570(0x33d),()=>document['getElementById'](_0x12b570(0x61c))[_0x12b570(0x3f5)][_0x12b570(0xbb6)](_0x12b570(0xa91))),document['getElementById'](_0x12b570(0x61c))[_0x12b570(0x395)](_0x12b570(0xafd),handleSaveProjectName),document[_0x12b570(0x581)](_0x12b570(0x5d1))[_0x12b570(0x395)]('keydown',_0x3a0cb8=>{const _0x4f7c31=_0x12b570;_0x3a0cb8[_0x4f7c31(0x814)]===_0x4f7c31(0x26b)&&(_0x3a0cb8[_0x4f7c31(0x6e6)](),_0x3a0cb8[_0x4f7c31(0x8d1)][_0x4f7c31(0x3af)](),handleSaveProjectName());}),document['getElementById'](_0x12b570(0xac7))[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x4c81ac=_0x12b570;document['getElementById'](_0x4c81ac(0xc3a))[_0x4c81ac(0x3f5)][_0x4c81ac(0xbb6)](_0x4c81ac(0xa91));}),document[_0x12b570(0x581)](_0x12b570(0xb31))['addEventListener']('click',()=>{const _0x3774b1=_0x12b570;document[_0x3774b1(0x581)]('bulk-quiz-settings-modal')[_0x3774b1(0x3f5)][_0x3774b1(0xd54)](_0x3774b1(0xa91));}),document[_0x12b570(0x581)](_0x12b570(0x504))[_0x12b570(0x395)]('click',handleBulkUpdateQuizSettings),document['getElementById'](_0x12b570(0x2af))[_0x12b570(0x395)](_0x12b570(0xafd),handleModeSwitch),document['getElementById'](_0x12b570(0x26f))['addEventListener']('click',handleUpdateOldQuizzes),document[_0x12b570(0x581)]('reset-project-order-btn')[_0x12b570(0x395)](_0x12b570(0xafd),handleResetProjectOrder),document[_0x12b570(0x581)](_0x12b570(0x60d))['addEventListener'](_0x12b570(0xafd),handleSaveVisibilitySettings),document[_0x12b570(0x581)](_0x12b570(0x86e))[_0x12b570(0x395)](_0x12b570(0xafd),handleAddCustomMathTopic),document[_0x12b570(0x581)](_0x12b570(0x52e))[_0x12b570(0x395)](_0x12b570(0xafd),handleSelectAllTopics),document[_0x12b570(0x581)](_0x12b570(0x41e))[_0x12b570(0x395)](_0x12b570(0xafd),handleDeselectAllTopics),document['getElementById'](_0x12b570(0x802))[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x4fd15e=_0x12b570;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x4fd15e(0x55a));}}),document[_0x12b570(0x581)](_0x12b570(0x2e9))[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x37fc28=_0x12b570;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x37fc28(0x47f));}}),document[_0x12b570(0x581)](_0x12b570(0x936))[_0x12b570(0x395)](_0x12b570(0xafd),()=>{showView('admin-dashboard');}),document[_0x12b570(0x581)](_0x12b570(0x2ca))[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x2f65af=_0x12b570;messageModal[_0x2f65af(0x3f5)][_0x2f65af(0xd54)]('hidden'),typeof modalConfirmAction===_0x2f65af(0xb47)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x12b570(0x581)](_0x12b570(0x4a3))[_0x12b570(0x395)](_0x12b570(0xafd),()=>createProjectModal['classList'][_0x12b570(0xbb6)](_0x12b570(0xa91))),document[_0x12b570(0x581)](_0x12b570(0x98e))['addEventListener'](_0x12b570(0xafd),()=>createProjectModal['classList']['add'](_0x12b570(0xa91))),document[_0x12b570(0x581)](_0x12b570(0x476))['addEventListener']('click',()=>adminPasswordModal[_0x12b570(0x3f5)][_0x12b570(0xd54)](_0x12b570(0xa91))),document[_0x12b570(0x581)](_0x12b570(0xa5d))[_0x12b570(0x395)](_0x12b570(0xafd),handleAdminLogin),document[_0x12b570(0x581)](_0x12b570(0xcca))[_0x12b570(0x395)](_0x12b570(0x230),_0x56a272=>{const _0x3ebc4f=_0x12b570;if(_0x56a272[_0x3ebc4f(0x814)]==='Enter')handleAdminLogin();}),document[_0x12b570(0x581)](_0x12b570(0xba6))[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x5a4ed2=_0x12b570;confirmationModal['classList'][_0x5a4ed2(0xd54)]('hidden'),confirmAction=null;}),document[_0x12b570(0x581)](_0x12b570(0xbb1))[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x9dce23=_0x12b570;confirmAction&&confirmAction(),confirmationModal['classList'][_0x9dce23(0xd54)](_0x9dce23(0xa91)),confirmAction=null;}),document[_0x12b570(0x581)]('cancel-rename-quiz-btn')[_0x12b570(0x395)]('click',()=>renameQuizModal[_0x12b570(0x3f5)][_0x12b570(0xd54)]('hidden')),document[_0x12b570(0x581)](_0x12b570(0x980))['addEventListener'](_0x12b570(0xafd),confirmRenameQuiz),document[_0x12b570(0x581)](_0x12b570(0xcd5))[_0x12b570(0x395)]('click',()=>moveQuizModal[_0x12b570(0x3f5)][_0x12b570(0xd54)]('hidden')),document['getElementById'](_0x12b570(0xcd9))[_0x12b570(0x395)](_0x12b570(0xafd),confirmMoveQuiz),document[_0x12b570(0x581)](_0x12b570(0xd5f))[_0x12b570(0x395)](_0x12b570(0xafd),()=>quizSettingsModal['classList'][_0x12b570(0xd54)](_0x12b570(0xa91))),document[_0x12b570(0x581)](_0x12b570(0x7c7))[_0x12b570(0x395)](_0x12b570(0xafd),confirmQuizSettings),document[_0x12b570(0x581)]('cancel-quiz-status-btn')[_0x12b570(0x395)](_0x12b570(0xafd),()=>quizStatusModal[_0x12b570(0x3f5)]['add'](_0x12b570(0xa91))),document['getElementById'](_0x12b570(0x622))[_0x12b570(0x395)](_0x12b570(0xafd),confirmQuizStatus);const _0x5614b8=document[_0x12b570(0x581)]('export-pdf-modal');document[_0x12b570(0x581)](_0x12b570(0x24a))[_0x12b570(0x395)]('click',()=>{const _0x18b0db=_0x12b570;_0x5614b8[_0x18b0db(0x3f5)][_0x18b0db(0xd54)](_0x18b0db(0xa91));}),document[_0x12b570(0x581)](_0x12b570(0x703))[_0x12b570(0x395)](_0x12b570(0xafd),async()=>{const _0x3ec0a2=_0x12b570,_0x319a14=allQuizzes[_0x3ec0a2(0x692)](_0x2a2928=>_0x2a2928['id']===actionTargetId);_0x319a14?(currentQuizData=_0x319a14,exportQuizAsWorksheetPDF()):showMessage(_0x3ec0a2(0x6d6)),_0x5614b8['classList']['add'](_0x3ec0a2(0xa91));}),document[_0x12b570(0x581)](_0x12b570(0x66d))[_0x12b570(0x395)]('click',async()=>{const _0x4dfbc4=_0x12b570,_0x5f034f=allQuizzes[_0x4dfbc4(0x692)](_0x1230ad=>_0x1230ad['id']===actionTargetId);_0x5f034f?(currentQuizData=_0x5f034f,exportQuizAsTutorPDF()):showMessage(_0x4dfbc4(0x6d6)),_0x5614b8[_0x4dfbc4(0x3f5)][_0x4dfbc4(0xd54)](_0x4dfbc4(0xa91));});const _0x33074e=document[_0x12b570(0x581)]('open-global-live-btn');_0x33074e[_0x12b570(0x81c)]=_0x12b570(0x502),_0x33074e['addEventListener'](_0x12b570(0xafd),openGlobalActivityModal),document['getElementById'](_0x12b570(0x32b))[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x591624=_0x12b570;document[_0x591624(0x581)](_0x591624(0x9a7))[_0x591624(0x3f5)]['add']('hidden');}),document['getElementById']('global-quiz-search-input')[_0x12b570(0x395)](_0x12b570(0x718),_0x4a08e4=>{const _0x47eefd=_0x12b570;renderGlobalActivityList(_0x4a08e4['target'][_0x47eefd(0x9ef)]);}),document[_0x12b570(0x581)](_0x12b570(0x796))[_0x12b570(0x395)](_0x12b570(0xafd),_0x4bfe3a=>{const _0x4c79c0=_0x12b570,_0xb7122d=_0x4bfe3a['target']['closest'](_0x4c79c0(0x352));if(!_0xb7122d)return;const _0x2751d6=_0xb7122d[_0x4c79c0(0xada)]['id'],_0x40a45d=_0xb7122d[_0x4c79c0(0xada)][_0x4c79c0(0xd80)],_0x3d7193=allQuizzesGlobal[_0x4c79c0(0x692)](_0x5204db=>_0x5204db['id']===_0x2751d6);_0x3d7193&&(document[_0x4c79c0(0x581)](_0x4c79c0(0x9a7))[_0x4c79c0(0x3f5)][_0x4c79c0(0xd54)](_0x4c79c0(0xa91)),_0x40a45d===_0x4c79c0(0xa87)?handleStartLiveRace(_0x2751d6):showGameStartConfirmationModal(_0x2751d6,_0x40a45d,_0x3d7193[_0x4c79c0(0x5c5)]));}),document[_0x12b570(0x581)]('project-search-input')[_0x12b570(0x395)](_0x12b570(0x718),renderProjects),document['getElementById']('project-sort-select')[_0x12b570(0x395)](_0x12b570(0x60a),async()=>{const _0x3ee183=_0x12b570,_0x316722=document['getElementById'](_0x3ee183(0x57b))['value'],_0x57e635=doc(db,_0x3ee183(0x2f5),_0x3ee183(0xa4c));try{await setDoc(_0x57e635,{'projectSort':_0x316722},{'merge':!![]});}catch(_0x5adc13){console[_0x3ee183(0x90c)](_0x3ee183(0x4bb),_0x5adc13),showMessage(_0x3ee183(0xcdb));}}),document[_0x12b570(0x581)](_0x12b570(0x1e9))[_0x12b570(0x395)](_0x12b570(0x718),renderQuizzes),document[_0x12b570(0x581)](_0x12b570(0x86f))[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x3c6104=_0x12b570;globalDashboardSettings[_0x3c6104(0x87a)]=_0x3c6104(0x26d),saveUserPreference(_0x3c6104(0x87a),_0x3c6104(0x26d)),renderProjects();}),document['getElementById'](_0x12b570(0x6ee))[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x2cde0b=_0x12b570;globalDashboardSettings[_0x2cde0b(0x87a)]='list',saveUserPreference(_0x2cde0b(0x87a),_0x2cde0b(0x44a)),renderProjects();}),manageTab[_0x12b570(0x395)](_0x12b570(0xafd),()=>switchProjectTab('manage')),resultsTab[_0x12b570(0x395)]('click',()=>switchProjectTab('results')),leaderboardTab[_0x12b570(0x395)](_0x12b570(0xafd),()=>switchProjectTab(_0x12b570(0xa88))),document[_0x12b570(0x581)](_0x12b570(0x648))[_0x12b570(0x395)](_0x12b570(0xafd),()=>switchQuizDetailTab(_0x12b570(0x618))),document[_0x12b570(0x581)](_0x12b570(0x5da))[_0x12b570(0x395)](_0x12b570(0xafd),()=>switchQuizDetailTab(_0x12b570(0x721))),document['getElementById'](_0x12b570(0xd97))[_0x12b570(0x395)]('click',()=>switchQuizDetailTab(_0x12b570(0xc22))),document['getElementById'](_0x12b570(0x4fd))[_0x12b570(0x395)](_0x12b570(0xafd),()=>switchQuizDetailTab(_0x12b570(0x2cd))),document['getElementById']('analyze-strengths-btn')['addEventListener'](_0x12b570(0xafd),handleAnalyzeClass),generateWorksheetBtn[_0x12b570(0x395)](_0x12b570(0xafd),generateWorksheet);const _0x341660=document[_0x12b570(0x581)]('link-tab'),_0x194d30=document['getElementById'](_0x12b570(0x5ab)),_0x234661=document[_0x12b570(0x581)](_0x12b570(0x2a0)),_0xa1a4b6=document[_0x12b570(0x581)](_0x12b570(0xc32)),_0x499f8a=document[_0x12b570(0x581)](_0x12b570(0x7ca)),_0xc87dd0=document[_0x12b570(0x581)](_0x12b570(0xbc0));topicTab['addEventListener'](_0x12b570(0xafd),()=>{const _0x3354c9=_0x12b570;topicTab['classList'][_0x3354c9(0xd54)](_0x3354c9(0xd41)),textTab[_0x3354c9(0x3f5)][_0x3354c9(0xbb6)](_0x3354c9(0xd41)),fileTab['classList'][_0x3354c9(0xbb6)](_0x3354c9(0xd41)),worksheetTab[_0x3354c9(0x3f5)]['remove'](_0x3354c9(0xd41));if(_0x341660)_0x341660[_0x3354c9(0x3f5)][_0x3354c9(0xbb6)](_0x3354c9(0xd41));if(_0x234661)_0x234661[_0x3354c9(0x3f5)]['remove'](_0x3354c9(0xd41));if(_0x499f8a)_0x499f8a['classList'][_0x3354c9(0xbb6)](_0x3354c9(0xd41));topicInputArea[_0x3354c9(0x3f5)][_0x3354c9(0xbb6)](_0x3354c9(0xa91)),textInputArea[_0x3354c9(0x3f5)]['add'](_0x3354c9(0xa91)),fileInputArea[_0x3354c9(0x3f5)][_0x3354c9(0xd54)]('hidden'),worksheetInputArea[_0x3354c9(0x3f5)]['add'](_0x3354c9(0xa91));if(_0x194d30)_0x194d30[_0x3354c9(0x3f5)]['add'](_0x3354c9(0xa91));if(_0xa1a4b6)_0xa1a4b6['classList'][_0x3354c9(0xd54)](_0x3354c9(0xa91));if(_0xc87dd0)_0xc87dd0[_0x3354c9(0x3f5)][_0x3354c9(0xd54)](_0x3354c9(0xa91));}),textTab[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x1c8426=_0x12b570;textTab[_0x1c8426(0x3f5)]['add'](_0x1c8426(0xd41)),topicTab['classList'][_0x1c8426(0xbb6)]('active'),fileTab[_0x1c8426(0x3f5)]['remove']('active'),worksheetTab[_0x1c8426(0x3f5)][_0x1c8426(0xbb6)]('active');if(_0x341660)_0x341660['classList'][_0x1c8426(0xbb6)](_0x1c8426(0xd41));if(_0x234661)_0x234661['classList']['remove'](_0x1c8426(0xd41));if(_0x499f8a)_0x499f8a['classList'][_0x1c8426(0xbb6)](_0x1c8426(0xd41));textInputArea[_0x1c8426(0x3f5)][_0x1c8426(0xbb6)]('hidden'),topicInputArea[_0x1c8426(0x3f5)][_0x1c8426(0xd54)](_0x1c8426(0xa91)),fileInputArea[_0x1c8426(0x3f5)]['add'](_0x1c8426(0xa91)),worksheetInputArea[_0x1c8426(0x3f5)][_0x1c8426(0xd54)](_0x1c8426(0xa91));if(_0x194d30)_0x194d30['classList'][_0x1c8426(0xd54)](_0x1c8426(0xa91));if(_0xa1a4b6)_0xa1a4b6[_0x1c8426(0x3f5)][_0x1c8426(0xd54)](_0x1c8426(0xa91));if(_0xc87dd0)_0xc87dd0[_0x1c8426(0x3f5)][_0x1c8426(0xd54)](_0x1c8426(0xa91));}),fileTab[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x31c5e4=_0x12b570;fileTab[_0x31c5e4(0x3f5)][_0x31c5e4(0xd54)](_0x31c5e4(0xd41)),topicTab['classList'][_0x31c5e4(0xbb6)](_0x31c5e4(0xd41)),textTab['classList'][_0x31c5e4(0xbb6)]('active'),worksheetTab['classList'][_0x31c5e4(0xbb6)](_0x31c5e4(0xd41));if(_0x341660)_0x341660[_0x31c5e4(0x3f5)]['remove'](_0x31c5e4(0xd41));if(_0x234661)_0x234661['classList'][_0x31c5e4(0xbb6)](_0x31c5e4(0xd41));if(_0x499f8a)_0x499f8a[_0x31c5e4(0x3f5)][_0x31c5e4(0xbb6)]('active');fileInputArea[_0x31c5e4(0x3f5)][_0x31c5e4(0xbb6)](_0x31c5e4(0xa91)),topicInputArea['classList'][_0x31c5e4(0xd54)](_0x31c5e4(0xa91)),textInputArea['classList'][_0x31c5e4(0xd54)]('hidden'),worksheetInputArea[_0x31c5e4(0x3f5)][_0x31c5e4(0xd54)](_0x31c5e4(0xa91));if(_0x194d30)_0x194d30[_0x31c5e4(0x3f5)][_0x31c5e4(0xd54)](_0x31c5e4(0xa91));if(_0xa1a4b6)_0xa1a4b6[_0x31c5e4(0x3f5)][_0x31c5e4(0xd54)](_0x31c5e4(0xa91));if(_0xc87dd0)_0xc87dd0[_0x31c5e4(0x3f5)][_0x31c5e4(0xd54)](_0x31c5e4(0xa91));}),worksheetTab['addEventListener'](_0x12b570(0xafd),()=>{const _0x5802a=_0x12b570;worksheetTab[_0x5802a(0x3f5)][_0x5802a(0xd54)](_0x5802a(0xd41)),topicTab[_0x5802a(0x3f5)][_0x5802a(0xbb6)](_0x5802a(0xd41)),textTab[_0x5802a(0x3f5)][_0x5802a(0xbb6)](_0x5802a(0xd41)),fileTab[_0x5802a(0x3f5)][_0x5802a(0xbb6)](_0x5802a(0xd41));if(_0x341660)_0x341660[_0x5802a(0x3f5)][_0x5802a(0xbb6)](_0x5802a(0xd41));if(_0x234661)_0x234661[_0x5802a(0x3f5)]['remove'](_0x5802a(0xd41));if(_0x499f8a)_0x499f8a['classList']['remove'](_0x5802a(0xd41));worksheetInputArea['classList'][_0x5802a(0xbb6)](_0x5802a(0xa91)),topicInputArea[_0x5802a(0x3f5)][_0x5802a(0xd54)]('hidden'),textInputArea[_0x5802a(0x3f5)]['add'](_0x5802a(0xa91)),fileInputArea['classList'][_0x5802a(0xd54)](_0x5802a(0xa91));if(_0x194d30)_0x194d30[_0x5802a(0x3f5)][_0x5802a(0xd54)](_0x5802a(0xa91));if(_0xa1a4b6)_0xa1a4b6[_0x5802a(0x3f5)][_0x5802a(0xd54)](_0x5802a(0xa91));if(_0xc87dd0)_0xc87dd0[_0x5802a(0x3f5)]['add']('hidden');});const _0x402ce7=document[_0x12b570(0x581)](_0x12b570(0x4e9)),_0x4bfd86=document['getElementById'](_0x12b570(0x5db));_0x402ce7&&_0x402ce7['addEventListener'](_0x12b570(0xafd),()=>{const _0x26904e=_0x12b570;topicTab['classList']['remove'](_0x26904e(0xd41)),textTab[_0x26904e(0x3f5)][_0x26904e(0xbb6)](_0x26904e(0xd41)),fileTab[_0x26904e(0x3f5)]['remove']('active'),worksheetTab[_0x26904e(0x3f5)][_0x26904e(0xbb6)](_0x26904e(0xd41));if(_0x341660)_0x341660[_0x26904e(0x3f5)][_0x26904e(0xbb6)](_0x26904e(0xd41));if(_0x234661)_0x234661[_0x26904e(0x3f5)][_0x26904e(0xbb6)](_0x26904e(0xd41));if(_0x499f8a)_0x499f8a[_0x26904e(0x3f5)][_0x26904e(0xbb6)](_0x26904e(0xd41));_0x402ce7[_0x26904e(0x3f5)][_0x26904e(0xd54)](_0x26904e(0xd41)),topicInputArea[_0x26904e(0x3f5)][_0x26904e(0xd54)](_0x26904e(0xa91)),textInputArea[_0x26904e(0x3f5)][_0x26904e(0xd54)](_0x26904e(0xa91)),fileInputArea[_0x26904e(0x3f5)][_0x26904e(0xd54)]('hidden'),worksheetInputArea[_0x26904e(0x3f5)][_0x26904e(0xd54)](_0x26904e(0xa91));if(_0x194d30)_0x194d30['classList']['add'](_0x26904e(0xa91));if(_0xa1a4b6)_0xa1a4b6[_0x26904e(0x3f5)]['add'](_0x26904e(0xa91));if(_0xc87dd0)_0xc87dd0['classList'][_0x26904e(0xd54)](_0x26904e(0xa91));_0x4bfd86['classList']['remove'](_0x26904e(0xa91)),displayQuestionBank();});_0x341660&&(_0x341660[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x4c6965=_0x12b570;_0x341660[_0x4c6965(0x3f5)][_0x4c6965(0xd54)]('active'),topicTab[_0x4c6965(0x3f5)][_0x4c6965(0xbb6)]('active'),textTab[_0x4c6965(0x3f5)][_0x4c6965(0xbb6)]('active'),fileTab[_0x4c6965(0x3f5)][_0x4c6965(0xbb6)](_0x4c6965(0xd41)),worksheetTab[_0x4c6965(0x3f5)][_0x4c6965(0xbb6)](_0x4c6965(0xd41));if(_0x234661)_0x234661[_0x4c6965(0x3f5)][_0x4c6965(0xbb6)](_0x4c6965(0xd41));if(_0x499f8a)_0x499f8a[_0x4c6965(0x3f5)][_0x4c6965(0xbb6)](_0x4c6965(0xd41));_0x194d30[_0x4c6965(0x3f5)][_0x4c6965(0xbb6)](_0x4c6965(0xa91)),topicInputArea[_0x4c6965(0x3f5)][_0x4c6965(0xd54)](_0x4c6965(0xa91)),textInputArea[_0x4c6965(0x3f5)]['add'](_0x4c6965(0xa91)),fileInputArea['classList'][_0x4c6965(0xd54)](_0x4c6965(0xa91)),worksheetInputArea[_0x4c6965(0x3f5)][_0x4c6965(0xd54)](_0x4c6965(0xa91));if(_0xa1a4b6)_0xa1a4b6[_0x4c6965(0x3f5)]['add']('hidden');if(_0xc87dd0)_0xc87dd0[_0x4c6965(0x3f5)][_0x4c6965(0xd54)](_0x4c6965(0xa91));}),document[_0x12b570(0x581)]('generate-from-link-btn')['addEventListener'](_0x12b570(0xafd),handleGenerateFromLink));_0x234661&&_0x234661[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x4a3655=_0x12b570;_0x234661[_0x4a3655(0x3f5)][_0x4a3655(0xd54)](_0x4a3655(0xd41)),topicTab[_0x4a3655(0x3f5)]['remove'](_0x4a3655(0xd41)),textTab[_0x4a3655(0x3f5)][_0x4a3655(0xbb6)](_0x4a3655(0xd41)),fileTab[_0x4a3655(0x3f5)][_0x4a3655(0xbb6)](_0x4a3655(0xd41)),worksheetTab[_0x4a3655(0x3f5)]['remove'](_0x4a3655(0xd41));if(_0x341660)_0x341660[_0x4a3655(0x3f5)]['remove'](_0x4a3655(0xd41));if(_0x402ce7)_0x402ce7[_0x4a3655(0x3f5)][_0x4a3655(0xbb6)](_0x4a3655(0xd41));if(_0x499f8a)_0x499f8a[_0x4a3655(0x3f5)]['remove'](_0x4a3655(0xd41));_0xa1a4b6['classList'][_0x4a3655(0xbb6)](_0x4a3655(0xa91)),topicInputArea[_0x4a3655(0x3f5)][_0x4a3655(0xd54)](_0x4a3655(0xa91)),textInputArea[_0x4a3655(0x3f5)][_0x4a3655(0xd54)](_0x4a3655(0xa91)),fileInputArea[_0x4a3655(0x3f5)][_0x4a3655(0xd54)]('hidden'),worksheetInputArea[_0x4a3655(0x3f5)][_0x4a3655(0xd54)](_0x4a3655(0xa91));if(_0x194d30)_0x194d30[_0x4a3655(0x3f5)][_0x4a3655(0xd54)]('hidden');if(_0x4bfd86)_0x4bfd86['classList'][_0x4a3655(0xd54)](_0x4a3655(0xa91));if(_0xc87dd0)_0xc87dd0[_0x4a3655(0x3f5)][_0x4a3655(0xd54)]('hidden');});_0x499f8a&&_0x499f8a[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x55854e=_0x12b570;_0x499f8a[_0x55854e(0x3f5)][_0x55854e(0xd54)](_0x55854e(0xd41)),topicTab['classList'][_0x55854e(0xbb6)]('active'),textTab[_0x55854e(0x3f5)][_0x55854e(0xbb6)]('active'),fileTab[_0x55854e(0x3f5)][_0x55854e(0xbb6)](_0x55854e(0xd41)),worksheetTab[_0x55854e(0x3f5)][_0x55854e(0xbb6)](_0x55854e(0xd41));if(_0x341660)_0x341660['classList'][_0x55854e(0xbb6)](_0x55854e(0xd41));if(_0x234661)_0x234661[_0x55854e(0x3f5)][_0x55854e(0xbb6)]('active');if(_0x402ce7)_0x402ce7[_0x55854e(0x3f5)][_0x55854e(0xbb6)](_0x55854e(0xd41));_0xc87dd0[_0x55854e(0x3f5)][_0x55854e(0xbb6)](_0x55854e(0xa91)),topicInputArea[_0x55854e(0x3f5)][_0x55854e(0xd54)](_0x55854e(0xa91)),textInputArea[_0x55854e(0x3f5)]['add'](_0x55854e(0xa91)),fileInputArea[_0x55854e(0x3f5)]['add']('hidden'),worksheetInputArea[_0x55854e(0x3f5)][_0x55854e(0xd54)](_0x55854e(0xa91));if(_0x194d30)_0x194d30['classList']['add'](_0x55854e(0xa91));if(_0xa1a4b6)_0xa1a4b6[_0x55854e(0x3f5)]['add'](_0x55854e(0xa91));if(_0x4bfd86)_0x4bfd86['classList']['add']('hidden');});const _0x3eafeb=document['getElementById'](_0x12b570(0x3f9)),_0x5cb590=document[_0x12b570(0x581)](_0x12b570(0xb58));if(_0x3eafeb){const _0x1385f5=document[_0x12b570(0x581)](_0x12b570(0x3f9)),_0x4ce9d3=document[_0x12b570(0x581)](_0x12b570(0xb58)),_0x2aee8c=document['getElementById'](_0x12b570(0xc21)),_0x3aa031=document['getElementById'](_0x12b570(0x22e)),_0x5194f0=document[_0x12b570(0x581)](_0x12b570(0x2f9)),_0x1b4493=document['getElementById'](_0x12b570(0x822));_0x1385f5&&_0x1385f5[_0x12b570(0x395)](_0x12b570(0x60a),async _0x555bdf=>{const _0x1c7f57=_0x12b570;_0x2aee8c[_0x1c7f57(0x3f5)][_0x1c7f57(0xd54)](_0x1c7f57(0xa91)),_0x5194f0[_0x1c7f57(0x3f5)]['add']('hidden'),_0x3aa031[_0x1c7f57(0x1f1)]=![],_0x4ce9d3['disabled']=!![];const _0x4054bb=_0x555bdf[_0x1c7f57(0x8d1)][_0x1c7f57(0x8eb)][0x0];if(_0x4054bb){_0x4ce9d3[_0x1c7f57(0x5ba)]=![];try{const _0x4add0f=await extractTextFromPdf(_0x4054bb);await analyzeBlueprintForTopics(_0x4add0f);}catch(_0x21993c){showMessage('ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้'),_0x2aee8c[_0x1c7f57(0x3f5)][_0x1c7f57(0xd54)](_0x1c7f57(0xa91));}}}),_0x3aa031&&_0x3aa031[_0x12b570(0x395)](_0x12b570(0x60a),_0x3ba143=>{const _0x3779dc=_0x12b570,_0x1e9f64=_0x3ba143[_0x3779dc(0x8d1)][_0x3779dc(0x1f1)];_0x5194f0[_0x3779dc(0x3f5)][_0x3779dc(0x65d)](_0x3779dc(0xa91),!_0x1e9f64),_0x4ce9d3[_0x3779dc(0x5ba)]=_0x1e9f64;}),_0x1b4493&&(_0x1b4493&&_0x1b4493[_0x12b570(0x395)]('click',_0x5bafd4=>{const _0x5d64a8=_0x12b570,_0x2295be=_0x5bafd4[_0x5d64a8(0x8d1)][_0x5d64a8(0xd63)]('.topic-selection-btn'),_0x3e3b6c=_0x5bafd4[_0x5d64a8(0x8d1)][_0x5d64a8(0xd63)](_0x5d64a8(0x6d7));if(_0x2295be){const _0x4ce874=unescape(_0x2295be[_0x5d64a8(0xada)]['topic']);generateQuizForSingleTopic(_0x4ce874);}else{if(_0x3e3b6c){const _0x113a0f=unescape(_0x3e3b6c[_0x5d64a8(0xada)][_0x5d64a8(0x5c5)]);handleGenerateTeachingContent(_0x113a0f);}}}));}_0x5cb590&&_0x5cb590[_0x12b570(0x395)](_0x12b570(0xafd),handleGenerateFromBlueprint);const _0x2bf992=document[_0x12b570(0x581)](_0x12b570(0x479)),_0x5e382b=document[_0x12b570(0x581)]('generate-from-parallel-test-btn');_0x2bf992&&_0x2bf992[_0x12b570(0x395)](_0x12b570(0x60a),_0x5ae226=>{const _0x453427=_0x12b570;_0x5e382b[_0x453427(0x5ba)]=_0x5ae226[_0x453427(0x8d1)][_0x453427(0x8eb)]['length']===0x0;});_0x5e382b&&_0x5e382b[_0x12b570(0x395)](_0x12b570(0xafd),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x12b570(0x395)]('click',handleLoadQuiz),startQuizBtn[_0x12b570(0x395)](_0x12b570(0xafd),async()=>{const _0x4440be=_0x12b570,_0x4cba2b=document['getElementById']('student-name-select');currentStudentName=_0x4cba2b[_0x4440be(0x9ef)];if(!currentStudentName){showMessage(_0x4440be(0x7c4));return;}try{const _0x259510=currentQuizData['id'],_0x5d7e6a=doc(db,_0x4440be(0x637)+appId+_0x4440be(0x595)+_0x259510+_0x4440be(0xbbb),currentStudentName),_0xb9d69d=await getDoc(_0x5d7e6a);!_0xb9d69d[_0x4440be(0x437)]()?await setDoc(_0x5d7e6a,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x5d7e6a,{'startedAt':new Date()['toISOString']()});}catch(_0xb40435){console[_0x4440be(0x90c)](_0x4440be(0xaa3),_0xb40435),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView[_0x4440be(0x3f5)]['add'](_0x4440be(0xa91)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x12b570(0x581)](_0x12b570(0x7fb))[_0x12b570(0x395)]('click',showJoinGameView),document[_0x12b570(0x581)](_0x12b570(0x89e))[_0x12b570(0x395)](_0x12b570(0xafd),handleJoinLiveGame),document[_0x12b570(0x581)](_0x12b570(0x737))[_0x12b570(0x395)](_0x12b570(0xafd),()=>showView(_0x12b570(0x39a)));const _0x3522db=()=>{const _0x40125d=_0x12b570,_0x24b6e3=document[_0x40125d(0x581)](_0x40125d(0xd0e))[_0x40125d(0x25c)][_0x40125d(0xbfd)](/[^a-z0-9]/gi,'_')[_0x40125d(0x7e9)]();return _0x40125d(0x231)+(_0x24b6e3||_0x40125d(0x1c5));},_0x18c8fd=document[_0x12b570(0x581)](_0x12b570(0xba3));_0x18c8fd&&_0x18c8fd[_0x12b570(0x395)]('input',_0x15a21a=>{const _0x24ea44=_0x12b570,_0x9a1c79=_0x15a21a[_0x24ea44(0x8d1)][_0x24ea44(0x9ef)]['toLowerCase']()[_0x24ea44(0xd92)](),_0x4c9f85=document[_0x24ea44(0x581)]('math-topics-checkbox-container'),_0x145d1a=_0x4c9f85['querySelectorAll'](_0x24ea44(0x328));_0x145d1a[_0x24ea44(0x215)](_0x18c7aa=>{const _0xbcd6d2=_0x24ea44;let _0xe7435a=![];const _0xeb97f3=_0x18c7aa[_0xbcd6d2(0x30c)]('.topic-row');_0xeb97f3['forEach'](_0x371f31=>{const _0x2775c3=_0xbcd6d2,_0xdab4e0=_0x371f31[_0x2775c3(0xd4c)](_0x2775c3(0x42c))['textContent']['toLowerCase']();_0xdab4e0[_0x2775c3(0x6f7)](_0x9a1c79)?(_0x371f31[_0x2775c3(0x9fb)]['display']=_0x2775c3(0x923),_0xe7435a=!![]):_0x371f31[_0x2775c3(0x9fb)][_0x2775c3(0x4b0)]='none';}),_0xe7435a?_0x18c7aa[_0xbcd6d2(0x9fb)]['display']=_0xbcd6d2(0xc0e):_0x18c7aa[_0xbcd6d2(0x9fb)]['display']=_0xbcd6d2(0xbf7);});});document[_0x12b570(0x581)](_0x12b570(0x4a0))[_0x12b570(0x395)](_0x12b570(0xafd),()=>exportTableAsImage('results-table-container',_0x3522db())),document[_0x12b570(0x581)](_0x12b570(0x712))['addEventListener'](_0x12b570(0xafd),()=>exportTableAsPDF(_0x12b570(0xa70),_0x3522db())),document[_0x12b570(0x581)](_0x12b570(0x782))[_0x12b570(0x395)](_0x12b570(0xafd),()=>exportTableAsWord(_0x12b570(0x930),_0x3522db())),document[_0x12b570(0x581)]('export-excel-btn')['addEventListener'](_0x12b570(0xafd),()=>exportTableAsExcel(_0x12b570(0xa70),_0x3522db()));const _0x145248=()=>{const _0x4697d0=_0x12b570,_0x46ee79=document[_0x4697d0(0x581)]('results-quiz-title')['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x4697d0(0x7e9)]();return _0x4697d0(0x8ee)+(_0x46ee79||'quiz');};document[_0x12b570(0x581)]('export-leaderboard-image-btn')[_0x12b570(0x395)](_0x12b570(0xafd),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x145248())),document[_0x12b570(0x581)](_0x12b570(0x1af))[_0x12b570(0x395)](_0x12b570(0xafd),()=>exportTableAsPDF(_0x12b570(0x978),_0x145248())),document[_0x12b570(0x581)](_0x12b570(0x1d4))[_0x12b570(0x395)](_0x12b570(0xafd),()=>exportTableAsWord(_0x12b570(0xb30),_0x145248())),document['getElementById']('export-leaderboard-excel-btn')[_0x12b570(0x395)]('click',()=>exportTableAsExcel('quiz-leaderboard-table',_0x145248())),projectQuizzesList[_0x12b570(0x395)](_0x12b570(0xafd),async _0x44231e=>{const _0x2889ad=_0x12b570,_0x4bd113=_0x44231e['target']['closest'](_0x2889ad(0x7b5)),_0x34ee33=_0x44231e[_0x2889ad(0x8d1)]['closest'](_0x2889ad(0x845)),_0x177506=_0x44231e[_0x2889ad(0x8d1)][_0x2889ad(0xd63)]('.compare-results-btn'),_0x2ff3f3=_0x44231e[_0x2889ad(0x8d1)][_0x2889ad(0xd63)](_0x2889ad(0xc60)),_0x37f117=_0x44231e[_0x2889ad(0x8d1)][_0x2889ad(0xd63)](_0x2889ad(0x505)),_0x374596=_0x44231e[_0x2889ad(0x8d1)]['closest'](_0x2889ad(0x8c7)),_0xfb4fd4=_0x44231e[_0x2889ad(0x8d1)]['closest'](_0x2889ad(0x3b9)),_0x49faf8=_0x44231e[_0x2889ad(0x8d1)][_0x2889ad(0xd63)]('.quiz-settings-btn'),_0x50b71c=_0x44231e['target']['closest']('.duplicate-quiz-btn'),_0x413c35=_0x44231e['target'][_0x2889ad(0xd63)](_0x2889ad(0x4ef)),_0x20933e=_0x44231e['target'][_0x2889ad(0xd63)](_0x2889ad(0x6ef)),_0x326d1c=_0x44231e[_0x2889ad(0x8d1)]['closest'](_0x2889ad(0x2a2)),_0xe5ebe7=_0x44231e[_0x2889ad(0x8d1)][_0x2889ad(0xd63)](_0x2889ad(0x1de)),_0x249086=_0x44231e[_0x2889ad(0x8d1)]['closest'](_0x2889ad(0x9d5)),_0x4db8ba=_0x44231e['target'][_0x2889ad(0xd63)](_0x2889ad(0x1c3)),_0x37660c=_0x44231e[_0x2889ad(0x8d1)][_0x2889ad(0xd63)](_0x2889ad(0xb15)),_0x19c9a9=_0x44231e[_0x2889ad(0x8d1)][_0x2889ad(0xd63)](_0x2889ad(0x2a9)),_0x15e7a3=_0x44231e[_0x2889ad(0x8d1)][_0x2889ad(0xd63)](_0x2889ad(0xa09)),_0x1d6a52=_0x44231e['target'][_0x2889ad(0xd63)](_0x2889ad(0xd3b)),_0x3e94a3=_0x44231e[_0x2889ad(0x8d1)][_0x2889ad(0xd63)](_0x2889ad(0x3b7)),_0x3c5330=_0x44231e['target'][_0x2889ad(0xd63)](_0x2889ad(0xc4e)),_0x5bfd23=_0x44231e[_0x2889ad(0x8d1)]['closest'](_0x2889ad(0x589)),_0x1c735c=_0x44231e[_0x2889ad(0x8d1)][_0x2889ad(0xd63)](_0x2889ad(0x40b));if(_0x5bfd23){const _0x5df639=_0x5bfd23[_0x2889ad(0xada)][_0x2889ad(0x8b9)],_0x439da6=_0x5bfd23[_0x2889ad(0xada)][_0x2889ad(0xd80)],_0x270242=allQuizzes[_0x2889ad(0x692)](_0x58abc6=>_0x58abc6['id']===_0x5df639);_0x270242&&showGameStartConfirmationModal(_0x5df639,_0x439da6,_0x270242[_0x2889ad(0x5c5)]);}else{if(_0x1c735c){const _0x358d25=_0x1c735c[_0x2889ad(0xada)][_0x2889ad(0x8b9)];handleStartLiveRace(_0x358d25);}else{if(_0x3e94a3){const _0x253f37=_0x3e94a3[_0x2889ad(0xada)]['quizId'],_0x326f13=document['getElementById'](_0x2889ad(0x38d)+_0x253f37);_0x326f13&&_0x326f13[_0x2889ad(0x3f5)]['toggle'](_0x2889ad(0xa91));}else{if(_0x34ee33){const _0x5b4ca3=_0x34ee33[_0x2889ad(0xada)]['quizId'],_0x11b3b8=allQuizzes['find'](_0x5c3276=>_0x5c3276['id']===_0x5b4ca3);_0x11b3b8&&handleGenerateParallelPostTest(_0x11b3b8);}else{if(_0x177506)handleCompareResults(_0x177506[_0x2889ad(0xada)][_0x2889ad(0x8b9)],_0x177506[_0x2889ad(0xada)][_0x2889ad(0xc9d)]);else{if(_0x2ff3f3){const _0x37c6e8=_0x2ff3f3[_0x2889ad(0xada)][_0x2889ad(0x8b9)],_0x5e43c5=allQuizzes[_0x2889ad(0x692)](_0x21b157=>_0x21b157['id']===_0x37c6e8);_0x5e43c5&&_0x5e43c5['lessonPlan']?(displayLessonPlan(_0x5e43c5[_0x2889ad(0x7a9)],_0x5e43c5),showConfirmation(_0x2889ad(0x259),()=>handleGenerateLessonPlan(_0x37c6e8)),document['getElementById'](_0x2889ad(0xad1))[_0x2889ad(0xd4c)]('h3')['textContent']=_0x2889ad(0xaba),document[_0x2889ad(0x581)](_0x2889ad(0xbb1))['textContent']=_0x2889ad(0xcbd)):handleGenerateLessonPlan(_0x37c6e8);}else{if(_0x37f117)handleToggleStarQuiz(_0x37f117[_0x2889ad(0xada)][_0x2889ad(0x8b9)]);else{if(_0x374596)copyTextToClipboard(_0x374596[_0x2889ad(0xada)][_0x2889ad(0x8b9)],_0x2889ad(0x806));else{if(_0xfb4fd4)handleOpenQuizEditor(_0xfb4fd4['dataset'][_0x2889ad(0x8b9)]);else{if(_0x49faf8)handleQuizSettings(_0x49faf8['dataset'][_0x2889ad(0x8b9)]);else{if(_0x50b71c)handleDuplicateQuiz(_0x50b71c['dataset']['quizId']);else{if(_0x413c35)handleRenameQuiz(_0x413c35[_0x2889ad(0xada)]['quizId'],_0x413c35[_0x2889ad(0xada)][_0x2889ad(0x5c5)]);else{if(_0x20933e){const _0x338fd1=_0x20933e[_0x2889ad(0xada)]['quizId'],_0x5e0c63=allQuizzes[_0x2889ad(0x692)](_0x1bdfb1=>_0x1bdfb1['id']===_0x338fd1);_0x5e0c63&&handleGenerateParallelFromBank(_0x5e0c63);}else{if(_0x326d1c)handleMoveQuiz(_0x326d1c[_0x2889ad(0xada)][_0x2889ad(0x8b9)]);else{if(_0xe5ebe7)handleManualQuizPairing(_0xe5ebe7[_0x2889ad(0xada)][_0x2889ad(0x8b9)]);else{if(_0x249086)handleUnpairQuiz(_0x249086[_0x2889ad(0xada)][_0x2889ad(0x8b9)]);else{if(_0x4db8ba){const _0x3147de=_0x4db8ba[_0x2889ad(0xada)][_0x2889ad(0x8b9)],_0x5bd53b=allQuizzes['find'](_0x12190e=>_0x12190e['id']===_0x3147de);if(_0x5bd53b)startPresentation(_0x5bd53b);}else{if(_0x37660c){const _0x4c2d55=_0x37660c['dataset'][_0x2889ad(0x8b9)],_0x63e051=allQuizzes['find'](_0x3dcfad=>_0x3dcfad['id']===_0x4c2d55);_0x63e051&&(currentQuizData=_0x63e051,startAdminTest());}else{if(_0x19c9a9)actionTargetId=_0x19c9a9[_0x2889ad(0xada)][_0x2889ad(0x8b9)],document['getElementById'](_0x2889ad(0xa98))[_0x2889ad(0x3f5)][_0x2889ad(0xbb6)](_0x2889ad(0xa91));else{if(_0x15e7a3)showConfirmation(_0x2889ad(0x685)+_0x15e7a3['dataset'][_0x2889ad(0x5c5)]+_0x2889ad(0x860),()=>handleDeleteQuiz(_0x15e7a3['dataset']['quizId']));else{if(_0x1d6a52)handleQuizStatus(_0x1d6a52[_0x2889ad(0xada)][_0x2889ad(0x8b9)]);else{if(_0x3c5330)handleGenerateEasyVersionQuiz(_0x3c5330[_0x2889ad(0xada)]['quizId']);else _0x4bd113&&showQuizDetailView(_0x4bd113['dataset'][_0x2889ad(0x8b9)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x12b570(0x581)](_0x12b570(0x80b))[_0x12b570(0x395)]('click',()=>showView(_0x12b570(0x39a))),document[_0x12b570(0x581)](_0x12b570(0x241))['addEventListener'](_0x12b570(0xafd),confirmAndStartTeamQuiz),document['getElementById'](_0x12b570(0x978))[_0x12b570(0xd4c)](_0x12b570(0xacb))[_0x12b570(0x395)](_0x12b570(0xafd),_0x2aba6a=>{const _0x29dc16=_0x12b570,_0x79c3b=_0x2aba6a['target'][_0x29dc16(0xd63)]('.sortable-header');if(!_0x79c3b||!_0x79c3b[_0x29dc16(0xada)]['sort'])return;const _0x34ac81=_0x79c3b[_0x29dc16(0xada)][_0x29dc16(0x57f)];if(quizLeaderboardSortBy===_0x34ac81)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?'desc':_0x29dc16(0xbf2);else{quizLeaderboardSortBy=_0x34ac81;const _0x330425=[_0x29dc16(0x63c)];quizLeaderboardSortOrder=_0x330425['includes'](_0x34ac81)?'asc':'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x29dc16(0x7e7));}),document[_0x12b570(0x581)]('close-presentation-btn')['addEventListener'](_0x12b570(0xafd),closePresentation),document[_0x12b570(0x581)](_0x12b570(0x79e))[_0x12b570(0x395)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x12b570(0x581)](_0x12b570(0x956))[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0xc87662=_0x12b570;currentQuizData['questions']&&currentPresentationSlide<currentQuizData['questions'][_0xc87662(0xb5d)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x12b570(0x395)](_0x12b570(0x68b),()=>{const _0x4b5aec=_0x12b570;!document[_0x4b5aec(0xc67)]&&(presentationModal[_0x4b5aec(0x9fb)][_0x4b5aec(0x4b0)]='none');}),document['getElementById']('delete-all-students-btn')[_0x12b570(0x395)]('click',handleDeleteAllStudents),studentList[_0x12b570(0x395)]('click',_0x41c1aa=>{const _0x106781=_0x12b570,_0x3c4436=_0x41c1aa[_0x106781(0x8d1)][_0x106781(0xd63)](_0x106781(0xb72));if(_0x3c4436){const _0x4f8918=_0x3c4436[_0x106781(0xada)][_0x106781(0x63c)];handleDeleteStudent(_0x4f8918);}}),document['getElementById']('generate-from-file-btn')[_0x12b570(0x395)](_0x12b570(0xafd),handleGenerateFromFileClick),fileUploadInput[_0x12b570(0x395)]('change',_0x14d387=>{const _0x4551c4=_0x12b570,_0x318e73=_0x14d387[_0x4551c4(0x8d1)][_0x4551c4(0x8eb)][0x0],_0x345b69=document['getElementById'](_0x4551c4(0x5ec)),_0x355c7b=document[_0x4551c4(0x581)](_0x4551c4(0x727)),_0x470def=document[_0x4551c4(0x581)](_0x4551c4(0x97a));_0x318e73?(selectedFile=_0x318e73,_0x470def[_0x4551c4(0x1f1)]?(_0x345b69['disabled']=!![],analyzeFileForTopics(_0x318e73)):(_0x345b69[_0x4551c4(0x5ba)]=![],_0x355c7b['classList'][_0x4551c4(0xd54)](_0x4551c4(0xa91)))):(selectedFile=null,_0x345b69[_0x4551c4(0x5ba)]=!![],_0x355c7b[_0x4551c4(0x3f5)]['add'](_0x4551c4(0xa91)));}),document[_0x12b570(0x581)](_0x12b570(0x97a))['addEventListener'](_0x12b570(0x60a),_0x129c11=>{const _0x43f3f7=_0x12b570,_0x5ae7ae=_0x129c11['target'][_0x43f3f7(0x1f1)],_0x3b86c9=document[_0x43f3f7(0x581)]('generate-from-file-btn'),_0x231343=document[_0x43f3f7(0x581)](_0x43f3f7(0x727));_0x5ae7ae?(_0x3b86c9[_0x43f3f7(0x5ba)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x231343['classList'][_0x43f3f7(0xbb6)](_0x43f3f7(0xa91)),document[_0x43f3f7(0x581)]('file-topics-list')['innerHTML']='<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>')):(_0x231343[_0x43f3f7(0x3f5)]['add'](_0x43f3f7(0xa91)),_0x3b86c9[_0x43f3f7(0x5ba)]=!selectedFile);}),document[_0x12b570(0x581)](_0x12b570(0x727))['addEventListener'](_0x12b570(0xafd),_0x59d92d=>{const _0x478e15=_0x12b570,_0x29f739=_0x59d92d[_0x478e15(0x8d1)]['closest'](_0x478e15(0x85a)),_0x3e9335=_0x59d92d[_0x478e15(0x8d1)]['closest'](_0x478e15(0x6d7));if(_0x29f739){const _0x25e952=unescape(_0x29f739[_0x478e15(0xada)][_0x478e15(0x5c5)]);generateHybridQuizForTopic(_0x25e952);}else{if(_0x3e9335){const _0x1ee47a=unescape(_0x3e9335[_0x478e15(0xada)]['topic']),_0x3222ac=document[_0x478e15(0x581)](_0x478e15(0xd85))[_0x478e15(0x9ef)];handleGenerateAndShowLesson(_0x1ee47a,_0x3222ac);}}}),document[_0x12b570(0x581)]('timer-mode-select')[_0x12b570(0x395)](_0x12b570(0x60a),_0x5ec9a8=>{const _0x1adcb6=_0x12b570,_0x555586=document[_0x1adcb6(0x581)](_0x1adcb6(0x38a)),_0x33c720=document['getElementById'](_0x1adcb6(0x1df)),_0x4d80d0=document[_0x1adcb6(0x581)](_0x1adcb6(0xd2c));_0x5ec9a8['target']['value']===_0x1adcb6(0xbf7)?_0x555586['classList']['add'](_0x1adcb6(0xa91)):(_0x555586[_0x1adcb6(0x3f5)][_0x1adcb6(0xbb6)](_0x1adcb6(0xa91)),_0x5ec9a8[_0x1adcb6(0x8d1)][_0x1adcb6(0x9ef)]==='whole_quiz'?(_0x33c720[_0x1adcb6(0x25c)]=_0x1adcb6(0x6b3),_0x4d80d0['value']='10'):(_0x33c720[_0x1adcb6(0x25c)]='ระยะเวลา\x20(วินาที):',_0x4d80d0['value']='30'));}),document[_0x12b570(0x581)](_0x12b570(0xbb5))[_0x12b570(0x395)]('change',_0x1cd2a6=>{const _0x4ca41c=_0x12b570,_0x2efd58=document['getElementById'](_0x4ca41c(0xd6d)),_0x1304ab=_0x1cd2a6[_0x4ca41c(0x8d1)][_0x4ca41c(0x9ef)],_0x18ad88=document[_0x4ca41c(0xd4c)](_0x4ca41c(0x61a)),_0x43b0b8=document[_0x4ca41c(0x581)]('passing-score-input'),_0x8ab645=document[_0x4ca41c(0x581)](_0x4ca41c(0x866));_0x1304ab==='matching'?_0x18ad88[_0x4ca41c(0x25c)]=_0x4ca41c(0x444):_0x18ad88[_0x4ca41c(0x25c)]=_0x4ca41c(0xc00),_0x1304ab===_0x4ca41c(0x84f)||_0x1304ab===_0x4ca41c(0x6da)||_0x1304ab===_0x4ca41c(0x826)?_0x2efd58['classList'][_0x4ca41c(0xbb6)](_0x4ca41c(0xa91)):_0x2efd58[_0x4ca41c(0x3f5)]['add'](_0x4ca41c(0xa91)),_0x43b0b8['max']=_0x8ab645[_0x4ca41c(0x9ef)];}),document['getElementById'](_0x12b570(0x866))[_0x12b570(0x395)](_0x12b570(0x718),_0x529ad6=>{const _0x54d0a3=_0x12b570;document[_0x54d0a3(0x581)](_0x54d0a3(0xbaa))['max']=_0x529ad6[_0x54d0a3(0x8d1)][_0x54d0a3(0x9ef)];}),document[_0x12b570(0x581)](_0x12b570(0x263))['addEventListener'](_0x12b570(0x60a),_0x501822=>{const _0x39bd10=_0x12b570,_0x48b532=document[_0x39bd10(0x581)](_0x39bd10(0x6f9)),_0x3ef13d=document['getElementById'](_0x39bd10(0xbae)),_0x4b150e=document[_0x39bd10(0x581)](_0x39bd10(0xb49));_0x501822[_0x39bd10(0x8d1)][_0x39bd10(0x9ef)]==='none'?_0x48b532[_0x39bd10(0x3f5)]['add'](_0x39bd10(0xa91)):(_0x48b532['classList']['remove'](_0x39bd10(0xa91)),_0x501822[_0x39bd10(0x8d1)]['value']===_0x39bd10(0x6ae)?_0x3ef13d[_0x39bd10(0x25c)]=_0x39bd10(0x6b3):_0x3ef13d['textContent']='ระยะเวลา\x20(วินาที):');}),document[_0x12b570(0x581)](_0x12b570(0xd60))['addEventListener'](_0x12b570(0xafd),()=>{const _0x3785ee=_0x12b570;document[_0x3785ee(0x581)]('quiz-editor-modal')['classList'][_0x3785ee(0xd54)](_0x3785ee(0xa91));}),document[_0x12b570(0x581)](_0x12b570(0xc50))['addEventListener'](_0x12b570(0xafd),()=>{const _0xa9e29e=_0x12b570;document[_0xa9e29e(0x581)](_0xa9e29e(0xab7))[_0xa9e29e(0x3f5)]['add'](_0xa9e29e(0xa91));}),document[_0x12b570(0x581)](_0x12b570(0x7fd))[_0x12b570(0x395)](_0x12b570(0xafd),handleVerifyAnswersInEditor),document[_0x12b570(0x581)](_0x12b570(0x6dd))[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x18ac69=_0x12b570;document[_0x18ac69(0x581)]('quiz-editor-modal')[_0x18ac69(0x3f5)]['add'](_0x18ac69(0xa91)),showConfirmation(_0x18ac69(0x926),handleSaveChanges);}),document[_0x12b570(0x581)](_0x12b570(0x91e))[_0x12b570(0x395)]('click',handleAutoFixLatex);const _0x27571e=document[_0x12b570(0x581)](_0x12b570(0x487));_0x27571e&&_0x27571e['addEventListener'](_0x12b570(0xafd),_0x2efef3=>{const _0x18c263=_0x12b570,_0x589183=_0x2efef3['target'][_0x18c263(0xd63)](_0x18c263(0x7b3));if(_0x589183){const _0x15aceb=_0x589183['closest'](_0x18c263(0x3c6)),_0xa9706=parseInt(_0x15aceb[_0x18c263(0xada)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0xa9706);return;}const _0x7f6989=_0x2efef3[_0x18c263(0x8d1)]['closest'](_0x18c263(0xb9b));if(_0x7f6989){const _0x109a2f=_0x7f6989[_0x18c263(0xd63)]('.question-editor-item'),_0x5988e6=parseInt(_0x109a2f[_0x18c263(0xada)][_0x18c263(0x9a8)],0xa);handleDeleteQuestionInEditor(_0x5988e6);return;}const _0x427c8f=_0x2efef3['target'][_0x18c263(0xd63)](_0x18c263(0xcb2));if(_0x427c8f){handleAddQuestionInEditor();return;}});document[_0x12b570(0x581)](_0x12b570(0xc68))[_0x12b570(0x395)]('click',openQuizBankModal),document[_0x12b570(0x581)](_0x12b570(0xa7f))[_0x12b570(0x395)]('click',()=>{const _0x260f36=_0x12b570;document['getElementById'](_0x260f36(0x533))[_0x260f36(0x3f5)][_0x260f36(0xd54)](_0x260f36(0xa91));}),document[_0x12b570(0x581)](_0x12b570(0x649))['addEventListener'](_0x12b570(0x718),_0x4f0907=>renderQuizBankList(_0x4f0907['target'][_0x12b570(0x9ef)]));const _0x54af11=document[_0x12b570(0x581)]('math-topics-checkbox-container');if(_0x54af11){let _0x18f49a=null;_0x54af11['addEventListener'](_0x12b570(0xafd),_0x3b413c=>{const _0x12c9b5=_0x12b570,_0x2b7cd4=_0x3b413c['target'],_0x362a69=_0x2b7cd4[_0x12c9b5(0xd63)]('.edit-custom-topic-btn'),_0x174a1a=_0x2b7cd4[_0x12c9b5(0xd63)]('.delete-custom-topic-btn'),_0x2cfbb0=_0x2b7cd4['closest'](_0x12c9b5(0x420)),_0x56cc1f=_0x2b7cd4[_0x12c9b5(0xd63)](_0x12c9b5(0xcce));if(_0x174a1a){_0x3b413c['preventDefault']();const _0x3dc303=_0x174a1a['dataset']['id'],_0x3c2f78=_0x174a1a['closest'](_0x12c9b5(0x8a6))[_0x12c9b5(0xd4c)](_0x12c9b5(0x42c))[_0x12c9b5(0x25c)];showConfirmation(_0x12c9b5(0x23c)+_0x3c2f78+'\x22?',()=>handleDeleteCustomTopic(_0x3dc303));}else{if(_0x362a69){_0x3b413c['preventDefault']();_0x18f49a&&toggleTopicEditMode(_0x18f49a,![]);const _0x36b226=_0x362a69[_0x12c9b5(0xd63)]('[data-topic-container-id]');_0x18f49a=_0x36b226,toggleTopicEditMode(_0x36b226,!![]);}else{if(_0x2cfbb0){_0x3b413c[_0x12c9b5(0x6e6)]();const _0x43374f=_0x2cfbb0[_0x12c9b5(0xada)]['id'],_0xfba80c=_0x2cfbb0['closest']('[data-topic-container-id]'),_0x28d355=_0xfba80c[_0x12c9b5(0xd4c)](_0x12c9b5(0x93d))[_0x12c9b5(0x9ef)];handleUpdateCustomTopic(_0x43374f,_0x28d355),_0x18f49a=null;}else{if(_0x56cc1f){_0x3b413c[_0x12c9b5(0x6e6)]();const _0xe236dc=_0x56cc1f[_0x12c9b5(0xd63)](_0x12c9b5(0xb5a));toggleTopicEditMode(_0xe236dc,![]),_0x18f49a=null;}}}}}),document[_0x12b570(0x581)](_0x12b570(0xac8))['addEventListener'](_0x12b570(0xafd),()=>{const _0x2e747b=_0x12b570;document[_0x2e747b(0x581)](_0x2e747b(0x5b6))['classList'][_0x2e747b(0xd54)](_0x2e747b(0xa91));}),document[_0x12b570(0x581)](_0x12b570(0x58a))[_0x12b570(0x395)](_0x12b570(0xafd),()=>{const _0x369abd=_0x12b570;document['getElementById'](_0x369abd(0x5b6))[_0x369abd(0x3f5)]['add'](_0x369abd(0xa91));}),document[_0x12b570(0x581)](_0x12b570(0x416))[_0x12b570(0x395)](_0x12b570(0xafd),handleExportLessonPDF);}document[_0x12b570(0x581)](_0x12b570(0x81a))['addEventListener'](_0x12b570(0xafd),()=>{const _0x334961=_0x12b570;document['getElementById'](_0x334961(0xbd3))[_0x334961(0x3f5)][_0x334961(0xd54)]('hidden');}),document[_0x12b570(0x581)]('close-comparison-modal-footer-btn')['addEventListener']('click',()=>{const _0x35f827=_0x12b570;document[_0x35f827(0x581)](_0x35f827(0xbd3))['classList'][_0x35f827(0xd54)]('hidden');}),setupComparisonModalTabs(),document[_0x12b570(0xc49)][_0x12b570(0x395)](_0x12b570(0xafd),function(_0x14c684){const _0x13f040=_0x12b570;if(_0x14c684['target'][_0x13f040(0x3f5)]['contains'](_0x13f040(0x31e))){const _0xc6b736=unescape(_0x14c684[_0x13f040(0x8d1)]['dataset'][_0x13f040(0x5c5)]);startSkillPractice(_0xc6b736);}}),document[_0x12b570(0x581)](_0x12b570(0x4ae))[_0x12b570(0x395)](_0x12b570(0xafd),_0x5543bf=>{const _0x4356e1=_0x12b570,_0x493093=_0x5543bf[_0x4356e1(0x8d1)][_0x4356e1(0xd63)](_0x4356e1(0x99c));if(_0x493093){const _0x4c18b0=_0x493093['dataset'][_0x4356e1(0x63c)];handleDeleteSubmission(_0x4c18b0);}});}async function handleStartGroupMode(_0x14eaa7,_0x403d10=![]){const _0x5d830b=_0xe56031,_0x319653=allQuizzes[_0x5d830b(0x692)](_0x5a3580=>_0x5a3580['id']===_0x14eaa7)||allQuizzesGlobal[_0x5d830b(0x692)](_0x25c8fe=>_0x25c8fe['id']===_0x14eaa7);if(!_0x319653){showMessage(_0x5d830b(0x6d6));return;}currentQuizData=getShuffledQuiz(_0x319653);const _0x4814bf=Math['floor'](0x3e8+Math[_0x5d830b(0x96f)]()*0x2328)[_0x5d830b(0xd2a)]();try{const _0x4621e0=await addDoc(collection(db,_0x5d830b(0x637)+appId+_0x5d830b(0x51c)),{'quizId':_0x319653['id'],'projectId':_0x319653['projectId'],'status':_0x5d830b(0xb96),'pin':_0x4814bf,'mode':_0x5d830b(0x2dd),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x403d10});currentTeamQuizId=_0x4621e0['id'],showView(_0x5d830b(0xa13)),renderAdminTeamQuizDashboard(_0x4814bf,_0x319653[_0x5d830b(0x5c5)],_0x5d830b(0x2dd)),listenForTeamQuizUpdates();}catch(_0x5b54d8){console[_0x5d830b(0x90c)](_0x5d830b(0x5f9),_0x5b54d8),showMessage(_0x5d830b(0xced));}}async function showStudentProgressView(){const _0x4378b6=_0xe56031;studentInitialView[_0x4378b6(0x3f5)][_0x4378b6(0xd54)](_0x4378b6(0xa91)),document[_0x4378b6(0x581)]('student-progress-view')[_0x4378b6(0x3f5)][_0x4378b6(0xbb6)](_0x4378b6(0xa91));const _0x165487=document[_0x4378b6(0x581)](_0x4378b6(0x3a1)),_0x3bcb9b=document[_0x4378b6(0x581)](_0x4378b6(0x6b8)),_0x423508=document[_0x4378b6(0x581)](_0x4378b6(0x83e));_0x423508['innerHTML']=_0x4378b6(0x4dc),_0x3bcb9b['innerHTML']=_0x4378b6(0xaf3),_0x3bcb9b[_0x4378b6(0x5ba)]=!![],_0x165487[_0x4378b6(0x81c)]=_0x4378b6(0x83c);if(allProjects[_0x4378b6(0xb5d)]===0x0){const _0x294260=collection(db,_0x4378b6(0x637)+appId+'/public/data/projects'),_0x5dc100=await getDocs(_0x294260);allProjects=_0x5dc100[_0x4378b6(0x3b1)][_0x4378b6(0xaa7)](_0x191f0a=>({'id':_0x191f0a['id'],..._0x191f0a[_0x4378b6(0x610)]()}));}const _0x46fbdd=allProjects[_0x4378b6(0x23d)](_0x379837=>_0x379837[_0x4378b6(0xa9f)]?.[_0x4378b6(0x620)]!==![]);_0x46fbdd['sort']((_0x545e26,_0x401e1e)=>_0x545e26['projectName'][_0x4378b6(0xcba)](_0x401e1e[_0x4378b6(0xb3f)],'th')),_0x165487[_0x4378b6(0x81c)]=_0x4378b6(0x422)+_0x46fbdd[_0x4378b6(0xaa7)](_0x26c40b=>_0x4378b6(0x55d)+_0x26c40b['id']+'\x22>'+_0x26c40b[_0x4378b6(0xb3f)]+_0x4378b6(0x530))['join'](''),_0x165487[_0x4378b6(0xcc8)]=()=>{const _0x293cf3=_0x4378b6,_0x103500=_0x3bcb9b[_0x293cf3(0x9ef)],_0x225dd3=_0x165487[_0x293cf3(0x9ef)];_0x3bcb9b[_0x293cf3(0x5ba)]=!![],_0x3bcb9b[_0x293cf3(0x81c)]=_0x293cf3(0xaf3),_0x423508[_0x293cf3(0x81c)]=_0x293cf3(0xc7f);if(!_0x225dd3)return;const _0x1d8633=allProjects[_0x293cf3(0x692)](_0xf46a8=>_0xf46a8['id']===_0x225dd3);if(!_0x1d8633||!_0x1d8633['students'])return;const _0xdc8c1f=()=>{const _0x1e6627=_0x293cf3;_0x3bcb9b['innerHTML']=_0x1e6627(0xaf3)+_0x1d8633[_0x1e6627(0x4c2)][_0x1e6627(0xaa7)](_0x29e108=>'<option\x20value=\x22'+_0x29e108+'\x22>'+_0x29e108+_0x1e6627(0x530))['join'](''),_0x3bcb9b[_0x1e6627(0x5ba)]=![];const _0x2057c6=Array[_0x1e6627(0x454)](_0x3bcb9b[_0x1e6627(0x578)])[_0x1e6627(0xaa7)](_0x3dbf68=>_0x3dbf68['value']);if(_0x103500&&_0x2057c6[_0x1e6627(0x6f7)](_0x103500))_0x3bcb9b[_0x1e6627(0x9ef)]=_0x103500,_0x3bcb9b[_0x1e6627(0xc8e)](new Event(_0x1e6627(0x60a)));else _0x1d8633[_0x1e6627(0x4c2)]['length']===0x1&&(_0x3bcb9b['value']=_0x1d8633[_0x1e6627(0x4c2)][0x0],_0x3bcb9b[_0x1e6627(0xc8e)](new Event(_0x1e6627(0x60a))));};if(_0x1d8633['settings']?.[_0x293cf3(0x75f)]){if(sessionStorage[_0x293cf3(0x66a)](_0x293cf3(0x8b6)+_0x225dd3)==='true'){_0xdc8c1f();return;}const _0x2705ea=document[_0x293cf3(0x581)](_0x293cf3(0x40c)),_0x40a3d4=document[_0x293cf3(0x581)]('confirm-passcode-btn'),_0x5cf4d2=document[_0x293cf3(0x581)](_0x293cf3(0xc8b)),_0x249704=document['getElementById'](_0x293cf3(0xb0a)),_0x559bc9=document[_0x293cf3(0x581)](_0x293cf3(0xab0));document['getElementById'](_0x293cf3(0x9ad))[_0x293cf3(0x25c)]=_0x293cf3(0x1d3)+_0x1d8633[_0x293cf3(0xb3f)],_0x249704['value']='',_0x559bc9[_0x293cf3(0x3f5)]['add']('hidden'),_0x2705ea[_0x293cf3(0x3f5)]['remove'](_0x293cf3(0xa91));const _0x42ac96=()=>{const _0x54c1f2=_0x293cf3,_0x5d034e=_0x249704[_0x54c1f2(0x9ef)][_0x54c1f2(0xd92)]();_0x5d034e===_0x1d8633[_0x54c1f2(0xa9f)][_0x54c1f2(0xa6f)]?(sessionStorage[_0x54c1f2(0xbd9)](_0x54c1f2(0x8b6)+_0x225dd3,'true'),_0x2705ea[_0x54c1f2(0x3f5)][_0x54c1f2(0xd54)]('hidden'),_0xdc8c1f(),_0x40a3d4[_0x54c1f2(0xb89)](_0x54c1f2(0xafd),_0x42ac96)):_0x559bc9[_0x54c1f2(0x3f5)][_0x54c1f2(0xbb6)]('hidden');};_0x40a3d4['onclick']=_0x42ac96,_0x5cf4d2[_0x293cf3(0xa46)]=()=>{const _0x193589=_0x293cf3;_0x2705ea[_0x193589(0x3f5)]['add']('hidden'),_0x165487[_0x193589(0x9ef)]='',_0x40a3d4[_0x193589(0xb89)](_0x193589(0xafd),_0x42ac96);};}else _0xdc8c1f();},_0x3bcb9b[_0x4378b6(0xcc8)]=()=>{const _0x4d5da5=_0x4378b6,_0x1f496f=_0x165487[_0x4d5da5(0x9ef)],_0x158bc9=_0x3bcb9b[_0x4d5da5(0x9ef)];_0x1f496f&&_0x158bc9&&renderStudentProgressDashboard(_0x1f496f,_0x158bc9);};}async function confirmAndJoinSyncGame(){const _0xfca1b9=_0xe56031,_0x302ac3=Array[_0xfca1b9(0x454)](document[_0xfca1b9(0x30c)](_0xfca1b9(0x838)))[_0xfca1b9(0xaa7)](_0xc5a31f=>_0xc5a31f[_0xfca1b9(0x9ef)]);if(_0x302ac3[_0xfca1b9(0xb5d)]===0x0){showMessage(_0xfca1b9(0xb34));return;}localTeamPlayers=_0x302ac3,localPlayerTurnIndex=0x0;const _0x16424e=doc(db,'artifacts/'+appId+_0xfca1b9(0x201),currentLiveGameId);try{const _0x2dd2a8={};_0x302ac3['forEach'](_0x579b9d=>{const _0x4d464c=_0xfca1b9;_0x2dd2a8[_0x4d464c(0xd95)+_0x579b9d]={'name':_0x579b9d,'score':0x0,'answered':![],'status':_0x4d464c(0xd41)};}),await updateDoc(_0x16424e,_0x2dd2a8),document['getElementById'](_0xfca1b9(0x9ba))[_0xfca1b9(0x3f5)]['add']('hidden'),currentStudentName=_0x302ac3[0x0],listenForSyncGameUpdates();const _0x287827={'gameId':currentLiveGameId,'mode':_0xfca1b9(0x568),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0xfca1b9(0x957),JSON[_0xfca1b9(0x35f)](_0x287827)),currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0xfca1b9(0x68b),handleFullscreenChange),document[_0xfca1b9(0x395)]('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0xfca1b9(0x395)](_0xfca1b9(0x6ff),resetDimTimer),window[_0xfca1b9(0x395)](_0xfca1b9(0xb57),resetDimTimer),window[_0xfca1b9(0x395)]('touchstart',resetDimTimer),window['addEventListener']('keydown',resetDimTimer),resetDimTimer());}catch(_0x2b5317){console[_0xfca1b9(0x90c)](_0xfca1b9(0x567),_0x2b5317),showMessage(_0xfca1b9(0x42a));}}async function resumeActiveGameSession(){const _0x479421=_0xe56031,_0x2d0b4b=sessionStorage[_0x479421(0x66a)]('activeGameSession');if(!_0x2d0b4b)return;const _0x2a293d=JSON[_0x479421(0x559)](_0x2d0b4b),{gameId:_0x2b689c,mode:_0x380c5d,players:_0x222562,turnIndex:_0x2262d1}=_0x2a293d;try{let _0x4aa35b,_0x5eab6c;_0x380c5d===_0x479421(0x568)?_0x4aa35b=doc(db,_0x479421(0x637)+appId+_0x479421(0x201),_0x2b689c):_0x4aa35b=doc(db,_0x479421(0x637)+appId+_0x479421(0x51c),_0x2b689c);_0x5eab6c=await getDoc(_0x4aa35b);if(!_0x5eab6c['exists']()||_0x5eab6c[_0x479421(0x610)]()['status']===_0x479421(0x944)||_0x5eab6c['data']()[_0x479421(0x342)]===_0x479421(0x58e)){sessionStorage[_0x479421(0xd3f)](_0x479421(0x957));return;}console[_0x479421(0xaef)](_0x479421(0x282)+_0x380c5d+_0x479421(0xa0e)+_0x2b689c+')'),localTeamPlayers=_0x222562,localPlayerTurnIndex=_0x2262d1;if(_0x380c5d===_0x479421(0x568))currentLiveGameId=_0x2b689c,currentStudentName=_0x222562[0x0],showView(_0x479421(0xa13)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x2b689c;const _0xa2fdb1=_0x5eab6c[_0x479421(0x610)](),_0x5d5844=doc(db,_0x479421(0x637)+appId+_0x479421(0x6cd),_0xa2fdb1[_0x479421(0x8b9)]),_0x474a03=await getDoc(_0x5d5844);_0x474a03[_0x479421(0x437)]()&&(currentQuizData=getShuffledQuiz({'id':_0x474a03['id'],..._0x474a03[_0x479421(0x610)]()}),showView(_0x479421(0x39a)),studentInitialView[_0x479421(0x3f5)]['add']('hidden'),renderTeamQuizQuestion());}}catch(_0x19805a){console[_0x479421(0x90c)]('Failed\x20to\x20resume\x20game\x20session:',_0x19805a),sessionStorage['removeItem'](_0x479421(0x957));}}function activateFileInputAreaWithLoadedFile(){const _0xe0f76b=_0xe56031,_0x4817a3=document[_0xe0f76b(0x581)](_0xe0f76b(0x5ec)),_0x3c0538=document[_0xe0f76b(0x581)]('file-topics-list-container'),_0x4161a7=document['getElementById'](_0xe0f76b(0x97a));selectedFile?_0x4161a7[_0xe0f76b(0x1f1)]?(_0x4817a3[_0xe0f76b(0x5ba)]=!![],analyzeFileForTopics(selectedFile)):(_0x4817a3['disabled']=![],_0x3c0538[_0xe0f76b(0x3f5)][_0xe0f76b(0xd54)](_0xe0f76b(0xa91))):(_0x4817a3[_0xe0f76b(0x5ba)]=!![],_0x3c0538['classList']['add']('hidden'));}async function handleKickPlayerSync(_0x445a74){const _0x542abc=_0xe56031;if(!currentLiveGameId||!_0x445a74)return;const _0x1d5483=doc(db,_0x542abc(0x637)+appId+_0x542abc(0x201),currentLiveGameId),_0x5d9277={};_0x5d9277[_0x542abc(0xd95)+_0x445a74+'.status']=_0x542abc(0x7bf);try{await updateDoc(_0x1d5483,_0x5d9277);}catch(_0x3d140b){console[_0x542abc(0x90c)](_0x542abc(0x3d8)+_0x445a74+_0x542abc(0x5b9),_0x3d140b),showMessage(_0x542abc(0x4f9));}}async function renderStudentProgressDashboard(_0x4f795d,_0x2fdba8){const _0x58b98e=_0xe56031,_0x2921cc=document[_0x58b98e(0x581)](_0x58b98e(0x83e));_0x2921cc[_0x58b98e(0x81c)]=_0x58b98e(0x631);try{const _0x5c3ca8=collection(db,_0x58b98e(0x637)+appId+_0x58b98e(0x6cd)),_0xd95e3c=query(_0x5c3ca8,where(_0x58b98e(0x971),'==',_0x4f795d)),_0x26b0bd=await getDocs(_0xd95e3c),_0x141223=_0x26b0bd[_0x58b98e(0x3b1)]['map'](_0xbbde7d=>({'id':_0xbbde7d['id'],..._0xbbde7d[_0x58b98e(0x610)]()})),_0x31566e=_0x141223[_0x58b98e(0xaa7)](_0x4baa84=>getDoc(doc(db,_0x58b98e(0x637)+appId+'/public/data/quizzes/'+_0x4baa84['id']+_0x58b98e(0xbbb),_0x2fdba8))),_0x263224=await Promise[_0x58b98e(0x5bf)](_0x31566e),_0x104c12=_0x263224['filter'](_0x36a002=>_0x36a002[_0x58b98e(0x437)]())[_0x58b98e(0xaa7)](_0x1110c4=>({'quizId':_0x1110c4[_0x58b98e(0x512)]['parent'][_0x58b98e(0x56a)]['id'],..._0x1110c4['data']()}));if(_0x104c12['length']===0x0){_0x2921cc[_0x58b98e(0x81c)]=_0x58b98e(0x6ed);return;}let _0x414869=_0x58b98e(0x4f5);_0x104c12['forEach'](_0x4bad4f=>{const _0x16e087=_0x58b98e,_0x328d8e=_0x141223[_0x16e087(0x692)](_0x5524ef=>_0x5524ef['id']===_0x4bad4f[_0x16e087(0x8b9)]),_0x37a129=_0x328d8e[_0x16e087(0xa9f)]?.[_0x16e087(0x555)]||_0x16e087(0x86c),_0x18c5ff=_0x328d8e[_0x16e087(0xa9f)]?.[_0x16e087(0xc1c)]??0x0,_0x5db1a5=_0x4bad4f['bestScore']>=_0x18c5ff;let _0x3aec43='',_0x26bc2d=_0x16e087(0x92d);switch(_0x37a129){case _0x16e087(0x86c):case'show_results_only':_0x26bc2d=_0x5db1a5?_0x16e087(0x96a):_0x16e087(0x5a1),_0x3aec43=_0x16e087(0xaff)+(_0x5db1a5?_0x16e087(0x6d3):_0x16e087(0xa60))+'\x22>'+_0x4bad4f[_0x16e087(0x58b)]+'\x20/\x20'+_0x4bad4f['totalQuestions']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x5db1a5?_0x16e087(0x984):_0x16e087(0x1c1))+'\x22>'+(_0x5db1a5?_0x16e087(0x3ff):_0x16e087(0xd01))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x16e087(0x97d):_0x26bc2d=_0x5db1a5?_0x16e087(0x96a):_0x16e087(0x5a1),_0x3aec43=_0x16e087(0x2fb)+(_0x5db1a5?_0x16e087(0x984):'bg-red-200\x20text-red-800')+'\x22>'+(_0x5db1a5?_0x16e087(0x3ff):'ไม่ผ่าน')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x16e087(0xd69):_0x26bc2d=_0x16e087(0x38c),_0x3aec43=_0x16e087(0xbc8);break;}_0x414869+=_0x16e087(0xc80)+_0x26bc2d+_0x16e087(0x507)+_0x328d8e[_0x16e087(0x5c5)]+_0x16e087(0x818)+_0x4bad4f[_0x16e087(0x23a)][_0x16e087(0xb5d)]+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x4bad4f[_0x16e087(0x370)])['toLocaleDateString']('th-TH')+_0x16e087(0x601)+_0x3aec43+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x414869+=_0x58b98e(0x209),_0x2921cc['innerHTML']=_0x414869;}catch(_0xd2e5cc){console[_0x58b98e(0x90c)](_0x58b98e(0xd6c),_0xd2e5cc),_0x2921cc[_0x58b98e(0x81c)]=_0x58b98e(0x80a);}}function renderQuizBankListForMultiSelect(_0x5c7609=''){const _0x351c08=_0xe56031,_0x5ee22e=document[_0x351c08(0x581)](_0x351c08(0xb84)),_0x25f729=_0x5c7609['toLowerCase']()[_0x351c08(0xd92)](),_0x58f3cc=allQuizzesGlobal[_0x351c08(0xaa7)](_0x374bbd=>({..._0x374bbd,'projectName':allProjects[_0x351c08(0x692)](_0x548b59=>_0x548b59['id']===_0x374bbd['projectId'])?.[_0x351c08(0xb3f)]||_0x351c08(0x728)}))['filter'](_0x1c8d49=>(_0x1c8d49['topic']||'')[_0x351c08(0x7e9)]()[_0x351c08(0x6f7)](_0x25f729)||(_0x1c8d49[_0x351c08(0xb3f)]||'')[_0x351c08(0x7e9)]()[_0x351c08(0x6f7)](_0x25f729)||_0x1c8d49['id']['toString']()[_0x351c08(0x6f7)](_0x25f729));_0x5ee22e[_0x351c08(0x81c)]=_0x58f3cc['length']?_0x58f3cc[_0x351c08(0xaa7)](_0x500121=>_0x351c08(0x1f2)+_0x500121['id']+_0x351c08(0xb13)+(_0x500121['topic']||'(ไม่มีชื่อ)')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x500121[_0x351c08(0xb3f)]+_0x351c08(0xb35)+_0x500121['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')['join'](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x5ee22e[_0x351c08(0xcc8)]=()=>{const _0x487f65=_0x351c08,_0x34516e=document[_0x487f65(0xd4c)](_0x487f65(0x9ab));document[_0x487f65(0x581)](_0x487f65(0xc6a))[_0x487f65(0x5ba)]=!_0x34516e;};}function setupStudentProgressListeners(){const _0x3ee4c5=_0xe56031;document[_0x3ee4c5(0x581)](_0x3ee4c5(0x715))[_0x3ee4c5(0x395)](_0x3ee4c5(0xafd),showStudentProgressView),document[_0x3ee4c5(0x581)](_0x3ee4c5(0x8a4))['addEventListener'](_0x3ee4c5(0xafd),()=>{const _0x1e7985=_0x3ee4c5;document[_0x1e7985(0x581)](_0x1e7985(0x541))[_0x1e7985(0x3f5)][_0x1e7985(0xd54)](_0x1e7985(0xa91)),document[_0x1e7985(0x581)](_0x1e7985(0x302))[_0x1e7985(0x3f5)][_0x1e7985(0xbb6)](_0x1e7985(0xa91));});}async function startSkillPractice(_0xfd6d44){const _0x53f90e=_0xe56031;studentResultArea[_0x53f90e(0x3f5)][_0x53f90e(0xd54)](_0x53f90e(0xa91)),studentQuizArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x53f90e(0x3f5)][_0x53f90e(0xbb6)](_0x53f90e(0xa91));try{const _0x1c847b=await getStandardizedTopic(_0xfd6d44);console[_0x53f90e(0xaef)]('คำถามดิบ:\x20\x22'+_0xfd6d44+_0x53f90e(0x51d)+_0x1c847b+'\x22'),studentQuizArea[_0x53f90e(0xd4c)]('p')[_0x53f90e(0x25c)]=_0x53f90e(0x3be)+_0x1c847b+_0x53f90e(0x364);const _0x5ebcf2=collection(db,_0x53f90e(0x637)+appId+_0x53f90e(0x3f8)),_0x32fd3b=query(_0x5ebcf2,where(_0x53f90e(0x5c5),'==',_0x1c847b)),_0x47084a=await getDocs(_0x32fd3b);if(_0x47084a[_0x53f90e(0x3b1)][_0x53f90e(0xb5d)]>=0x3){console[_0x53f90e(0xaef)](_0x53f90e(0xb93)+_0x47084a[_0x53f90e(0x3b1)][_0x53f90e(0xb5d)]+_0x53f90e(0xcd4)+_0x1c847b+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x15dd8c=_0x47084a[_0x53f90e(0x3b1)]['map'](_0x16a9f5=>_0x16a9f5[_0x53f90e(0x610)]());shuffleArray(_0x15dd8c);const _0x201c53={'topic':_0x1c847b,'questions':_0x15dd8c['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x201c53);}else{console['log'](_0x53f90e(0x6ba)+_0x1c847b+_0x53f90e(0xd26));const _0x52ffec=await generatePracticeQuestions(_0x1c847b);await saveDrillToPracticeBank(_0x52ffec,_0x1c847b),displaySkillPracticeDrill(_0x52ffec);}}catch(_0x504c14){console['error'](_0x53f90e(0x8b7),_0x504c14),showMessage(_0x53f90e(0xc73)),studentQuizArea[_0x53f90e(0x3f5)]['add']('hidden'),studentResultArea['classList']['remove'](_0x53f90e(0xa91));}}async function saveDrillToPracticeBank(_0x53c942,_0x41d1de){const _0x18f812=_0xe56031,_0x75c5bd=collection(db,'artifacts/'+appId+_0x18f812(0x3f8)),_0x276fd5=writeBatch(db);_0x53c942[_0x18f812(0xafb)][_0x18f812(0x215)](_0x333070=>{const _0x3281b0=_0x18f812,_0x5e05a9=doc(_0x75c5bd);_0x276fd5[_0x3281b0(0xcf9)](_0x5e05a9,{'topic':_0x41d1de,'questionText':_0x333070[_0x3281b0(0x562)],'options':_0x333070[_0x3281b0(0x578)],'correctAnswerIndex':_0x333070[_0x3281b0(0x37b)],'explanation':_0x333070[_0x3281b0(0x9bd)],'createdAt':serverTimestamp()});});try{await _0x276fd5[_0x18f812(0x456)](),console[_0x18f812(0xaef)](_0x18f812(0x91b)+_0x53c942[_0x18f812(0xafb)][_0x18f812(0xb5d)]+_0x18f812(0x650));}catch(_0x1a4f01){console[_0x18f812(0x90c)](_0x18f812(0x8d5),_0x1a4f01);}}async function getStandardizedTopic(_0x212547){const _0x3a9f13=_0xe56031,_0x47d5e7=_0x3a9f13(0xcf5)+_0x212547+_0x3a9f13(0x7a8),_0x24c6e3={'type':_0x3a9f13(0x965),'properties':{'standardTopic':{'type':_0x3a9f13(0xa75)}},'required':['standardTopic']};try{const _0x4f86ef=await callAnalysisApi(_0x47d5e7,_0x24c6e3);return _0x4f86ef['standardTopic'];}catch(_0x4d1281){return console['error'](_0x3a9f13(0x8e7),_0x4d1281),_0x212547;}}async function handleGenerateEasyVersionQuiz(_0xa5157c){const _0x56b0b5=_0xe56031,_0x299ae4=document[_0x56b0b5(0x581)](_0x56b0b5(0x350)),_0x22e6a4=document[_0x56b0b5(0x581)](_0x56b0b5(0xa6e));_0x22e6a4[_0x56b0b5(0x3f5)][_0x56b0b5(0xd54)]('hidden');const _0x5277a5=_0x56b0b5(0x2a7);_0x299ae4[_0x56b0b5(0xcaa)]('beforeend',_0x5277a5);try{const _0x29056f=allQuizzes[_0x56b0b5(0x692)](_0x588e4f=>_0x588e4f['id']===_0xa5157c);if(!_0x29056f)throw new Error(_0x56b0b5(0x9e1));const _0x429019='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON[_0x56b0b5(0x35f)](_0x29056f[_0x56b0b5(0xafb)])+_0x56b0b5(0x523),_0x436d97={'type':_0x56b0b5(0x965),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x56b0b5(0xa75)},'options':{'type':_0x56b0b5(0xca9),'items':{'type':_0x56b0b5(0xa75)}},'correctAnswerIndex':{'type':_0x56b0b5(0x300)},'idealAnswer':{'type':_0x56b0b5(0xa75)},'explanation':{'type':_0x56b0b5(0xa75)},'imageCode':{'type':_0x56b0b5(0xa75)}},'required':['questionText',_0x56b0b5(0xabf),_0x56b0b5(0x9bd)]},_0x5e5dc2={'type':_0x56b0b5(0x965),'properties':{'questions':{'type':_0x56b0b5(0xca9),'items':_0x436d97}},'required':[_0x56b0b5(0xafb)]},_0x4b984c=await callAnalysisApi(_0x429019,_0x5e5dc2);_0x4b984c&&_0x4b984c[_0x56b0b5(0xafb)]&&_0x4b984c['questions'][_0x56b0b5(0x215)](_0x4f1e2c=>{const _0x3bb4e2=_0x56b0b5;if(_0x4f1e2c[_0x3bb4e2(0x788)]('imageCode')){const _0x46638d=String(_0x4f1e2c[_0x3bb4e2(0xa8e)])[_0x3bb4e2(0xd92)]();(_0x46638d===''||_0x46638d[_0x3bb4e2(0x7e9)]()===_0x3bb4e2(0x652)||!_0x46638d[_0x3bb4e2(0xb63)](_0x3bb4e2(0xbee)))&&delete _0x4f1e2c[_0x3bb4e2(0xa8e)];}});if(!_0x4b984c||!_0x4b984c[_0x56b0b5(0xafb)]||_0x4b984c[_0x56b0b5(0xafb)][_0x56b0b5(0xb5d)]===0x0)throw new Error(_0x56b0b5(0x64e));const _0x1b177d=_0x4b984c['questions']['map']((_0x2e39a7,_0x2b36d8)=>({..._0x2e39a7,'id':'q_'+Date['now']()+'_'+_0x2b36d8})),_0x625908={'projectId':_0x29056f[_0x56b0b5(0x971)],'quizType':_0x29056f['quizType'],'settings':_0x29056f[_0x56b0b5(0xa9f)],'createdBy':_0x29056f[_0x56b0b5(0x55c)],'status':_0x56b0b5(0xd41),'topic':'(ฉบับง่าย)\x20'+_0x29056f[_0x56b0b5(0x5c5)],'questions':_0x1b177d,'createdAt':new Date()[_0x56b0b5(0x73d)](),'quizMode':_0x56b0b5(0x3ea),'pairedQuizId':null};let _0x5192dc;while(!![]){_0x5192dc=Math['floor'](0x3e8+Math[_0x56b0b5(0x96f)]()*0x2328)[_0x56b0b5(0xd2a)]();const _0x57b0a8=await getDoc(doc(db,'artifacts/'+appId+_0x56b0b5(0x6cd),_0x5192dc));if(!_0x57b0a8['exists']())break;}await setDoc(doc(db,_0x56b0b5(0x637)+appId+_0x56b0b5(0x6cd),_0x5192dc),_0x625908),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x1745f2){console['error'](_0x56b0b5(0x762),_0x1745f2),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1745f2['message']);}finally{const _0x21786b=document[_0x56b0b5(0x581)](_0x56b0b5(0x472));_0x21786b&&_0x21786b[_0x56b0b5(0xbb6)](),_0x22e6a4[_0x56b0b5(0x3f5)][_0x56b0b5(0xbb6)](_0x56b0b5(0xa91));}}async function generatePracticeQuestions(_0x53f52b){const _0x8f0db2=_0xe56031,_0x5183c7=_0x8f0db2(0xbde)+_0x53f52b+_0x8f0db2(0x470)+simpleMathPrompt+_0x8f0db2(0xa3f),_0x5dde7f={'type':_0x8f0db2(0x965),'properties':{'questionText':{'type':_0x8f0db2(0xa75)},'options':{'type':_0x8f0db2(0xca9),'items':{'type':_0x8f0db2(0xa75)}},'correctAnswerIndex':{'type':_0x8f0db2(0x300)},'explanation':{'type':_0x8f0db2(0xa75)}},'required':['questionText','options',_0x8f0db2(0x37b),_0x8f0db2(0x9bd)]},_0x39b840={'type':_0x8f0db2(0x965),'properties':{'topic':{'type':_0x8f0db2(0xa75)},'questions':{'type':_0x8f0db2(0xca9),'items':_0x5dde7f}},'required':[_0x8f0db2(0x5c5),_0x8f0db2(0xafb)]};return await callAnalysisApi(_0x5183c7,_0x39b840);}function displayLessonPlan(_0x40f2ea,_0x325408){const _0x68618=_0xe56031,_0x11d983=_0x68618(0x50e)+_0x325408[_0x68618(0x5c5)]+_0x68618(0x6cc)+_0x40f2ea[_0x68618(0x7d5)][_0x68618(0xaa7)](_0x3ce15d=>_0x68618(0x35d)+_0x3ce15d+_0x68618(0x68a))[_0x68618(0x51a)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x40f2ea[_0x68618(0xc88)]+_0x68618(0x840)+_0x40f2ea[_0x68618(0x2da)][_0x68618(0xaa7)](_0x18cc46=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x18cc46[_0x68618(0x2c3)]+_0x68618(0xafa)+_0x18cc46[_0x68618(0x8f1)]+_0x68618(0xd34))[_0x68618(0x51a)]('')+_0x68618(0x207);document['getElementById'](_0x68618(0xbe8))[_0x68618(0x25c)]=_0x68618(0x815)+_0x325408[_0x68618(0x5c5)],document[_0x68618(0x581)]('lesson-plan-content')[_0x68618(0x81c)]=_0x11d983,document[_0x68618(0x581)](_0x68618(0x5b6))[_0x68618(0x3f5)][_0x68618(0xbb6)]('hidden');if(window['MathJax'])MathJax[_0x68618(0x461)]();}function displaySkillPracticeDrill(_0x189265){const _0x13f127=_0xe56031;let _0x3e48d7=0x0;const _0x516ebd=_0x189265[_0x13f127(0xafb)],_0x5e710d=()=>{const _0x3641d0=_0x13f127,_0x2296d9=_0x516ebd[_0x3e48d7],_0x371435=_0x3641d0(0x61e)+(_0x3e48d7+0x1)+'\x20/\x20'+_0x516ebd[_0x3641d0(0xb5d)]+_0x3641d0(0x34f)+_0x2296d9[_0x3641d0(0x562)]+_0x3641d0(0x351)+_0x2296d9[_0x3641d0(0x578)][_0x3641d0(0xaa7)]((_0x41fd5f,_0xaa35eb)=>_0x3641d0(0xc84)+_0xaa35eb+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0xaa35eb+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0xaa35eb+'\x22>'+_0x41fd5f+_0x3641d0(0x391))[_0x3641d0(0x51a)]('')+_0x3641d0(0x290);studentQuizArea[_0x3641d0(0x81c)]=_0x371435;if(window[_0x3641d0(0x609)])MathJax[_0x3641d0(0x461)]([studentQuizArea]);document[_0x3641d0(0x581)](_0x3641d0(0x379))[_0x3641d0(0x395)](_0x3641d0(0xafd),async()=>{const _0x2b3a89=_0x3641d0,_0x3577ea=await getHintForQuestion(_0x2296d9[_0x2b3a89(0x562)]);showMessage(_0x3577ea);}),document[_0x3641d0(0x581)]('check-answer-btn')[_0x3641d0(0x395)](_0x3641d0(0xafd),()=>{const _0x5a2a2f=_0x3641d0,_0x58dd72=document[_0x5a2a2f(0xd4c)](_0x5a2a2f(0x880));if(!_0x58dd72){showMessage(_0x5a2a2f(0x463));return;}const _0x33f46c=document[_0x5a2a2f(0x581)](_0x5a2a2f(0x53b)),_0x14aaf9=parseInt(_0x58dd72[_0x5a2a2f(0x9ef)])===_0x2296d9['correctAnswerIndex'];_0x14aaf9?(_0x33f46c['className']=_0x5a2a2f(0xb0c),_0x33f46c[_0x5a2a2f(0x81c)]=_0x5a2a2f(0x5fb)+_0x2296d9[_0x5a2a2f(0x9bd)]):(_0x33f46c[_0x5a2a2f(0xc3d)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x33f46c[_0x5a2a2f(0x81c)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x2296d9['explanation']);_0x33f46c[_0x5a2a2f(0x3f5)][_0x5a2a2f(0xbb6)](_0x5a2a2f(0xa91));if(window[_0x5a2a2f(0x609)])MathJax[_0x5a2a2f(0x461)]([_0x33f46c]);document[_0x5a2a2f(0x581)](_0x5a2a2f(0x96d))['classList'][_0x5a2a2f(0xd54)]('hidden'),document[_0x5a2a2f(0x581)](_0x5a2a2f(0x379))['classList'][_0x5a2a2f(0xd54)](_0x5a2a2f(0xa91)),document[_0x5a2a2f(0x581)]('next-drill-btn')[_0x5a2a2f(0x3f5)][_0x5a2a2f(0xbb6)](_0x5a2a2f(0xa91));}),document['getElementById'](_0x3641d0(0xd3a))[_0x3641d0(0x395)](_0x3641d0(0xafd),()=>{const _0x814cbd=_0x3641d0;_0x3e48d7++,_0x3e48d7<_0x516ebd[_0x814cbd(0xb5d)]?_0x5e710d():(studentQuizArea[_0x814cbd(0x81c)]=_0x814cbd(0x3b8),document['getElementById'](_0x814cbd(0x1c8))[_0x814cbd(0x395)](_0x814cbd(0xafd),()=>{const _0x33e93e=_0x814cbd;studentQuizArea[_0x33e93e(0x3f5)][_0x33e93e(0xd54)](_0x33e93e(0xa91)),studentResultArea[_0x33e93e(0x3f5)]['remove'](_0x33e93e(0xa91));}));});};_0x5e710d();}async function getHintForQuestion(_0x25ba54){const _0x1c00b5=_0xe56031,_0x3add00=_0x1c00b5(0x411)+_0x25ba54+_0x1c00b5(0x1ca),_0xb54aa3={'type':'OBJECT','properties':{'hint':{'type':_0x1c00b5(0xa75)}},'required':[_0x1c00b5(0x7b1)]};try{const _0x22f1f4=await callAnalysisApi(_0x3add00,_0xb54aa3);return _0x22f1f4[_0x1c00b5(0x7b1)];}catch(_0x3264ed){return console['error'](_0x1c00b5(0x404),_0x3264ed),_0x1c00b5(0x797);}}async function extractTextFromPdf(_0x479a6d){const _0x5e78c5=_0xe56031;pdfjsLib[_0x5e78c5(0x279)][_0x5e78c5(0x693)]=_0x5e78c5(0x633);const _0x5e1dab=await _0x479a6d[_0x5e78c5(0x598)](),_0x24beb5=await pdfjsLib[_0x5e78c5(0x538)](_0x5e1dab)['promise'],_0x1ccd7d=_0x24beb5[_0x5e78c5(0x528)];let _0x4b6e35='';for(let _0x369203=0x1;_0x369203<=_0x1ccd7d;_0x369203++){const _0x55e683=await _0x24beb5['getPage'](_0x369203),_0x396f9e=await _0x55e683[_0x5e78c5(0x803)](),_0x18a3ad=_0x396f9e[_0x5e78c5(0x50f)][_0x5e78c5(0xaa7)](_0x14f848=>_0x14f848['str'])[_0x5e78c5(0x51a)]('\x20');_0x4b6e35+=_0x18a3ad+'\x0a\x0a';}return _0x4b6e35;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x1926dd){const _0x2c9a9f=_0xe56031,_0x26d544=document['getElementById']('blueprint-options-container'),_0x1a36a6=document[_0x2c9a9f(0x581)](_0x2c9a9f(0x822)),_0x8db106=document[_0x2c9a9f(0x581)]('save-blueprint-as-project-btn');_0x26d544[_0x2c9a9f(0x3f5)]['remove'](_0x2c9a9f(0xa91)),_0x1a36a6[_0x2c9a9f(0x81c)]=_0x2c9a9f(0xc48),_0x8db106[_0x2c9a9f(0x3f5)][_0x2c9a9f(0xd54)](_0x2c9a9f(0xa91));try{const _0x44ba85=_0x2c9a9f(0x6c1)+_0x1926dd+_0x2c9a9f(0x1e5),_0x2794a4={'type':'OBJECT','properties':{'gradeLevel':{'type':_0x2c9a9f(0xa75)},'curriculum':{'type':_0x2c9a9f(0xca9),'items':{'type':_0x2c9a9f(0x965),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0x2c9a9f(0xca9),'items':{'type':_0x2c9a9f(0x965),'properties':{'topicName':{'type':_0x2c9a9f(0xa75)},'subTopics':{'type':_0x2c9a9f(0xca9),'items':{'type':_0x2c9a9f(0xa75)}}},'required':[_0x2c9a9f(0xbd7),_0x2c9a9f(0x3db)]}}},'required':[_0x2c9a9f(0x22f),_0x2c9a9f(0x884)]}}},'required':[_0x2c9a9f(0x336),_0x2c9a9f(0x3f3)]},_0x155dc0=await callAnalysisApi(_0x44ba85,_0x2794a4);if(_0x155dc0&&_0x155dc0['curriculum'])extractedBlueprintData=_0x155dc0,renderBlueprintTopics(_0x155dc0),_0x8db106['classList'][_0x2c9a9f(0xbb6)](_0x2c9a9f(0xa91));else throw new Error(_0x2c9a9f(0x9c5));}catch(_0x233d07){console[_0x2c9a9f(0x90c)](_0x2c9a9f(0x7bc),_0x233d07),_0x1a36a6['innerHTML']='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>';}}function renderBlueprintTopics(_0x37225f){const _0x2c435c=_0xe56031,_0x5541c3=document[_0x2c435c(0x581)]('blueprint-topics-list'),_0x2e40b3=_0x37225f[_0x2c435c(0x336)],_0xb777e2=_0x2c435c(0xb1d)+_0x2e40b3+'</h3>';let _0x478947='';_0x37225f[_0x2c435c(0x3f3)][_0x2c435c(0x215)](_0x5a97d9=>{const _0x40633c=_0x2c435c;_0x478947+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x5a97d9[_0x40633c(0x22f)]+_0x40633c(0x695),_0x5a97d9[_0x40633c(0x884)][_0x40633c(0x215)](_0x29ba6=>{const _0x5cf964=_0x40633c;_0x478947+=_0x5cf964(0x867)+_0x29ba6[_0x5cf964(0xbd7)]+_0x5cf964(0x536),_0x29ba6['subTopics'][_0x5cf964(0x215)](_0x5ba48d=>{const _0x362edf=_0x5cf964;_0x478947+='\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27'+_0x5ba48d[_0x362edf(0xbfd)](/'/g,'\x5c\x27')+_0x362edf(0x67d)+_0x2e40b3[_0x362edf(0xbfd)](/'/g,'\x5c\x27')+_0x362edf(0xb8d)+_0x5ba48d+_0x362edf(0x4fc)+_0x5ba48d[_0x362edf(0xbfd)](/'/g,'\x5c\x27')+_0x362edf(0xb88);}),_0x478947+='</div></div>';}),_0x478947+=_0x40633c(0x209);}),_0x5541c3[_0x2c435c(0x81c)]=_0xb777e2+_0x478947;}async function handleGenerateTeachingContent(_0x4e11a8){const _0xa10b6e=_0xe56031,_0x316949=document['getElementById']('lesson-plan-modal'),_0x5a37df=document[_0xa10b6e(0x581)](_0xa10b6e(0xc92));document[_0xa10b6e(0x581)](_0xa10b6e(0xbe8))[_0xa10b6e(0x25c)]=_0xa10b6e(0x322)+_0x4e11a8,_0x5a37df[_0xa10b6e(0x81c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x316949[_0xa10b6e(0x3f5)][_0xa10b6e(0xbb6)](_0xa10b6e(0xa91));try{const _0x2102bf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22'+_0x4e11a8+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x1fa81c={'type':_0xa10b6e(0x965),'properties':{'keyConcepts':{'type':_0xa10b6e(0xca9),'items':{'type':'STRING'}},'commonMistakes':{'type':_0xa10b6e(0xca9),'items':{'type':_0xa10b6e(0xa75)}},'stepByStepExamples':{'type':_0xa10b6e(0xca9),'items':{'type':_0xa10b6e(0x965),'properties':{'question':{'type':_0xa10b6e(0xa75)},'solution':{'type':_0xa10b6e(0xa75)}},'required':[_0xa10b6e(0x2c3),_0xa10b6e(0x8f1)]}},'teacherTips':{'type':_0xa10b6e(0xca9),'items':{'type':_0xa10b6e(0xa75)}}},'required':['keyConcepts',_0xa10b6e(0xcfa),_0xa10b6e(0xd0b),_0xa10b6e(0x5d7)]},_0x15fb7f=await callAnalysisApi(_0x2102bf,_0x1fa81c);displayTeachingContent(_0x15fb7f,_0x4e11a8);}catch(_0x1067b7){console[_0xa10b6e(0x90c)](_0xa10b6e(0xc81),_0x1067b7),_0x5a37df[_0xa10b6e(0x81c)]='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0x1067b7['message']+_0xa10b6e(0x195);}}function displayTeachingContent(_0x5a72f1,_0x25812a){const _0x428cf1=_0xe56031,_0xb460c2=document[_0x428cf1(0x581)](_0x428cf1(0xc92));document[_0x428cf1(0x581)](_0x428cf1(0xbe8))[_0x428cf1(0x25c)]=_0x428cf1(0x1b4)+_0x25812a;const _0x2e9441=_0x428cf1(0x3dd)+_0x5a72f1[_0x428cf1(0x656)]['map'](_0x57f792=>_0x428cf1(0x35d)+_0x57f792+_0x428cf1(0x68a))['join']('')+_0x428cf1(0x2a4)+_0x5a72f1['commonMistakes'][_0x428cf1(0xaa7)](_0x1ad6de=>_0x428cf1(0x35d)+_0x1ad6de+_0x428cf1(0x68a))[_0x428cf1(0x51a)]('')+_0x428cf1(0x6af)+_0x5a72f1['stepByStepExamples'][_0x428cf1(0xaa7)](_0x46a593=>_0x428cf1(0xd12)+_0x46a593[_0x428cf1(0x2c3)]+_0x428cf1(0x3d6)+_0x46a593[_0x428cf1(0x8f1)]+_0x428cf1(0x3b3))[_0x428cf1(0x51a)]('')+_0x428cf1(0x49c)+_0x5a72f1[_0x428cf1(0x5d7)][_0x428cf1(0xaa7)](_0x498c58=>_0x428cf1(0x35d)+_0x498c58+_0x428cf1(0x68a))['join']('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0xb460c2['innerHTML']=_0x2e9441;if(window['MathJax'])MathJax[_0x428cf1(0x461)]([_0xb460c2]);}async function generateQuizForSingleTopic(_0xf3c05f){const _0x4d52a4=_0xe56031;console['log'](_0x4d52a4(0x623)+_0xf3c05f+'\x22');const _0x51cd9e=document['getElementById'](_0x4d52a4(0x911)),_0x16447a=_0x51cd9e[_0x4d52a4(0x8eb)]['length']>0x0?_0x51cd9e[_0x4d52a4(0x8eb)][0x0]:null;let _0x380a9c=null;if(_0x16447a)try{const _0xf26521=new FileReader();_0xf26521['readAsDataURL'](_0x16447a);const _0x155d01=await new Promise((_0x30f870,_0x18edfb)=>{const _0x1a360d=_0x4d52a4;_0xf26521['onload']=()=>_0x30f870(_0xf26521[_0x1a360d(0x45b)][_0x1a360d(0x580)](',')[0x1]),_0xf26521['onerror']=_0x371b82=>_0x18edfb(_0x371b82);});_0x380a9c=[{'inlineData':{'mimeType':_0x16447a[_0x4d52a4(0x852)],'data':_0x155d01}}];}catch(_0x55768e){console[_0x4d52a4(0x90c)](_0x4d52a4(0xd0c),_0x55768e),showMessage(_0x4d52a4(0x4e0));return;}generateQuiz(_0xf3c05f,null,null,_0x380a9c,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x4d3cfb=null){const _0x40749c=_0xe56031,_0x87c5e8=document[_0x40749c(0x581)](_0x40749c(0x86b)),_0x4c8cfe=document[_0x40749c(0x581)]('loader-text');let _0x48c018,_0x1df428=[];if(_0x4d3cfb)_0x48c018=_0x4d3cfb,_0x1df428=_0x48c018[_0x40749c(0xc09)](0x2);else{const _0x5a8168=document['getElementById'](_0x40749c(0x3f9)),_0x15896c=document[_0x40749c(0x581)](_0x40749c(0x911)),_0x3aca51=_0x5a8168[_0x40749c(0x8eb)][0x0];if(!_0x3aca51){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}_0x4c8cfe[_0x40749c(0x25c)]='กำลังเตรียมไฟล์...';const _0x1b34a2=await new Promise((_0x3fc207,_0x2b174a)=>{const _0xf8f7c2=_0x40749c,_0x41dd7c=new FileReader();_0x41dd7c['readAsDataURL'](_0x3aca51),_0x41dd7c[_0xf8f7c2(0xad2)]=()=>_0x3fc207(_0x41dd7c[_0xf8f7c2(0x45b)][_0xf8f7c2(0x580)](',')[0x1]),_0x41dd7c[_0xf8f7c2(0x4d3)]=_0x2b174a;});_0x48c018=[{'text':_0x40749c(0xd3e)},{'inlineData':{'mimeType':_0x3aca51[_0x40749c(0x852)],'data':_0x1b34a2}}];if(_0x15896c[_0x40749c(0x8eb)]['length']>0x0){const _0x10f867=_0x15896c[_0x40749c(0x8eb)][0x0];_0x4c8cfe['textContent']=_0x40749c(0xc97);const _0x573d3c=await new Promise((_0x1a1431,_0x2de51d)=>{const _0x44ff6a=_0x40749c,_0x1c19db=new FileReader();_0x1c19db[_0x44ff6a(0xc05)](_0x10f867),_0x1c19db['onload']=()=>_0x1a1431(_0x1c19db[_0x44ff6a(0x45b)][_0x44ff6a(0x580)](',')[0x1]),_0x1c19db[_0x44ff6a(0x4d3)]=_0x2de51d;}),_0x547dba={'inlineData':{'mimeType':_0x10f867[_0x40749c(0x852)],'data':_0x573d3c}};_0x48c018[_0x40749c(0x632)](_0x547dba),_0x1df428[_0x40749c(0x632)](_0x547dba);}}const _0x52ccd4=_0x40749c(0xc12),_0x539c46='\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20';let _0x7211e='';_0x1df428&&_0x1df428['length']>0x0?_0x7211e=_0x52ccd4:_0x7211e=_0x539c46;const _0x476fda=_0x40749c(0x914)+_0x7211e+_0x40749c(0x8ba),_0x440a2a={'type':_0x40749c(0x965),'properties':{'questionText':{'type':_0x40749c(0xa75)},'questionType':{'type':_0x40749c(0xa75),'enum':['multiple_choice',_0x40749c(0xcb9),'true_false',_0x40749c(0xaa0)]},'options':{'type':_0x40749c(0xca9),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x40749c(0xa75)},'correctAnswer':{'type':_0x40749c(0x539)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x40749c(0xabf),_0x40749c(0x9bd)]},_0x1b5960={'type':_0x40749c(0x965),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x40749c(0xca9),'items':_0x440a2a}},'required':[_0x40749c(0x5c5),'questions']};_0x48c018[0x0][_0x40749c(0x8e9)]=_0x476fda,await handleApiCall(_0x48c018,_0x40749c(0xcb5),_0x1b5960);}function proceedToNextQuestion(_0x2c913e){const _0x2b90c3=_0xe56031;studentAnswersPerQuestion[_0x2b90c3(0x632)](_0x2c913e),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x2b90c3(0xb5d)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x3d409b,_0x2fb93e,_0x41a55f){const _0x254ee0=_0xe56031,_0x1d030e=Object[_0x254ee0(0xa03)](_0x3d409b['players']||{}),_0x4840f9=_0x1d030e[_0x254ee0(0xb5d)],_0x4a0ba=[..._0x1d030e]['sort']((_0x398655,_0x2eb213)=>_0x2eb213[_0x254ee0(0x9b7)]-_0x398655[_0x254ee0(0x9b7)]),_0x25e6c0=_0x41a55f,_0x6cb9d6=_0x3d409b['gameVariant']||_0x254ee0(0xc6c),_0x388405=_0x6cb9d6===_0x254ee0(0xc42)&&_0x3d409b[_0x254ee0(0xa38)]===![];let _0xf55a7d='';const _0x3cfcc9=_0x3d409b[_0x254ee0(0x7a6)][_0x254ee0(0xafb)],_0x31b1d2=_0x3cfcc9[_0x25e6c0],_0x199fbd=_0x385486=>String['fromCharCode'](0x41+_0x385486);if(_0x31b1d2&&!_0x388405){let _0x108cc8='',_0x5ab01b='';const _0x490299=_0x31b1d2[_0x254ee0(0xabf)]||_0x3d409b[_0x254ee0(0x7a6)][_0x254ee0(0xd7d)];if(_0x490299===_0x254ee0(0x84f)&&_0x31b1d2[_0x254ee0(0x578)]&&_0x31b1d2[_0x254ee0(0x37b)]!==undefined){const _0x55000d=_0x31b1d2[_0x254ee0(0x37b)];_0x108cc8=_0x31b1d2[_0x254ee0(0x578)][_0x55000d],_0x5ab01b=_0x199fbd(_0x55000d)+'.';}else{if(_0x490299===_0x254ee0(0xa12)){const _0x159bb3=_0x31b1d2[_0x254ee0(0x39b)]===!![]||String(_0x31b1d2[_0x254ee0(0x39b)])['toLowerCase']()===_0x254ee0(0x975);_0x159bb3?(_0x108cc8='ใช่\x20/\x20ถูก',_0x5ab01b='ก.'):(_0x108cc8=_0x254ee0(0x4a7),_0x5ab01b='ข.');}else{if(_0x490299==='matching_item')_0x108cc8=_0x31b1d2[_0x254ee0(0x37a)]||'-',_0x5ab01b='';else _0x490299===_0x254ee0(0xcb9)&&(_0x108cc8=_0x31b1d2[_0x254ee0(0xbd6)]||'-',_0x5ab01b='');}}_0x108cc8&&(_0xf55a7d=_0x254ee0(0xaf6)+(_0x25e6c0+0x1)+_0x254ee0(0x8bd)+_0x5ab01b+'\x20'+_0x108cc8+_0x254ee0(0x98f));}const _0x2d8554=_0x4a0ba[_0x254ee0(0xaa7)](_0xaa1b52=>{const _0x5470f3=_0x254ee0;let _0x5a3b3a=_0xaa1b52['score'];if(_0x6cb9d6===_0x5470f3(0x5ff)){const _0x1c9230=(_0xaa1b52[_0x5470f3(0x7d8)]||[])['filter'](_0x157fa0=>_0x157fa0['questionIndex']<=_0x25e6c0);_0x5a3b3a=_0x1c9230[_0x5470f3(0x23d)](_0x553b46=>_0x553b46[_0x5470f3(0x783)])[_0x5470f3(0xb5d)];}const _0x15fc6a=(_0xaa1b52['answers']||[])['find'](_0x10378a=>_0x10378a[_0x5470f3(0x964)]===_0x25e6c0),_0x40cb1a=_0x15fc6a?_0x15fc6a[_0x5470f3(0x783)]:![],_0x47d921=_0x15fc6a?_0x15fc6a['wasConfident']===!![]||_0x15fc6a[_0x5470f3(0x9dc)]==='confident':![];let _0x40ecb7='';if(_0x47d921&&_0x40cb1a)_0x40ecb7=_0x5470f3(0xcc7);else{if(_0x47d921&&!_0x40cb1a)_0x40ecb7=_0x5470f3(0x97e);else!_0x47d921&&_0x40cb1a?_0x40ecb7=_0x5470f3(0x59a):_0x40ecb7=_0x5470f3(0x2b3);}const _0x4679f8=_0x388405?_0x3d409b[_0x5470f3(0xc70)][_0xaa1b52[_0x5470f3(0xb95)]]||_0x5470f3(0x486):_0xaa1b52[_0x5470f3(0xb95)];return _0x5470f3(0x457)+_0x40ecb7+_0x5470f3(0x1ae)+_0x4679f8+_0x5470f3(0xaae)+_0x5a3b3a+'\x20คะแนน</span></div>';})[_0x254ee0(0x51a)](''),_0x33e1b1=_0x3cfcc9[_0x254ee0(0xaa7)]((_0x236696,_0x3f7b03)=>{const _0x34fa88=_0x254ee0;if(_0x6cb9d6===_0x34fa88(0x5ff)&&_0x3f7b03>_0x25e6c0)return'';const _0x2a059=_0x1d030e[_0x34fa88(0x23d)](_0x5d119f=>_0x5d119f['answers']&&_0x5d119f['answers'][_0x34fa88(0x692)](_0x7780b8=>_0x7780b8['questionIndex']===_0x3f7b03&&_0x7780b8[_0x34fa88(0x783)]))[_0x34fa88(0xb5d)],_0x85a3ae=_0x3f7b03===_0x25e6c0,_0xfa1acc=_0x85a3ae?_0x34fa88(0x2c0):_0x34fa88(0xca4);return _0x34fa88(0x6b9)+_0xfa1acc+_0x34fa88(0xb61)+(_0x3f7b03+0x1)+_0x34fa88(0xd47)+_0x2a059+'\x20/\x20'+_0x4840f9+_0x34fa88(0xcd1);})[_0x254ee0(0x51a)]('');let _0x3eba17='',_0x2f358f='';if(_0x2fb93e){const _0x3dd8b5=_0x6cb9d6===_0x254ee0(0xc6c)&&_0x3d409b['currentQuestionIndex']>=_0x3cfcc9[_0x254ee0(0xb5d)]-0x1,_0x169136=_0x6cb9d6===_0x254ee0(0x5ff)&&_0x3d409b[_0x254ee0(0xaf1)]>=_0x3cfcc9['length']-0x1,_0x32958e=_0x6cb9d6===_0x254ee0(0xc42)&&_0x3d409b[_0x254ee0(0x315)]>=_0x3cfcc9[_0x254ee0(0xb5d)]-0x1;_0x3dd8b5||_0x169136||_0x32958e?_0x6cb9d6===_0x254ee0(0xc42)&&_0x3d409b[_0x254ee0(0xa38)]===![]?_0x3eba17=_0x254ee0(0x684):_0x3eba17=_0x254ee0(0xcf4):_0x3eba17=_0x254ee0(0x92f),_0x2f358f='<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>';}const _0x3f7a90=_0x254ee0(0x6eb)+_0x3d409b[_0x254ee0(0x7a6)][_0x254ee0(0x5c5)]+_0x254ee0(0x989)+_0x2f358f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xf55a7d+_0x254ee0(0x743)+(_0x2d8554||_0x254ee0(0xcec))+_0x254ee0(0x45c)+_0x33e1b1+_0x254ee0(0x21e)+(_0x2fb93e?'<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>'+_0x3eba17+_0x254ee0(0x209):'')+_0x254ee0(0x730);liveGameView[_0x254ee0(0x81c)]=_0x3f7a90;if(window['MathJax']){const _0xca623f=document[_0x254ee0(0x581)]('main-correct-answer-display');_0xca623f&&MathJax['typesetPromise']([_0xca623f]);}if(_0x2fb93e){document['getElementById'](_0x254ee0(0xb2d))[_0x254ee0(0xa46)]=async()=>{const _0x2e56d6=_0x254ee0,_0x4f1e37=doc(db,_0x2e56d6(0x637)+appId+'/public/data/syncGames',currentLiveGameId),_0x548141=_0x6cb9d6==='classic'&&_0x3d409b[_0x2e56d6(0x315)]>=_0x3cfcc9[_0x2e56d6(0xb5d)]-0x1,_0xd0b508=_0x6cb9d6===_0x2e56d6(0x5ff)&&_0x3d409b[_0x2e56d6(0xaf1)]>=_0x3cfcc9[_0x2e56d6(0xb5d)]-0x1,_0x591774=_0x6cb9d6==='anonymous'&&_0x3d409b[_0x2e56d6(0x315)]>=_0x3cfcc9[_0x2e56d6(0xb5d)]-0x1;if(_0x6cb9d6===_0x2e56d6(0x5ff))!_0xd0b508?await updateDoc(_0x4f1e37,{'reviewQuestionIndex':increment(0x1)}):await updateDoc(_0x4f1e37,{'status':_0x2e56d6(0x58e)});else{if(!_0x548141&&!_0x591774){const _0x359944=_0x3d409b[_0x2e56d6(0x315)]+0x1,_0x4da120={};Object[_0x2e56d6(0x9d8)](_0x3d409b[_0x2e56d6(0xbaf)])[_0x2e56d6(0x215)](_0x40d9f2=>{const _0x12a20a=_0x2e56d6;_0x4da120[_0x12a20a(0xd95)+_0x40d9f2+_0x12a20a(0x62b)]=![],_0x4da120[_0x12a20a(0xd95)+_0x40d9f2+_0x12a20a(0xa4a)]=null;}),await updateDoc(_0x4f1e37,{..._0x4da120,'status':'question','currentQuestionIndex':_0x359944,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x4f1e37,{'status':_0x2e56d6(0x58e)});}},document['getElementById'](_0x254ee0(0x74d))?.[_0x254ee0(0x395)](_0x254ee0(0xafd),async()=>{const _0x1a3532=_0x254ee0,_0x5ca3ae=doc(db,_0x1a3532(0x637)+appId+_0x1a3532(0x201),currentLiveGameId);await updateDoc(_0x5ca3ae,{'isAnonymousRevealed':!![]});});const _0x8cc827=document[_0x254ee0(0x581)]('end-sync-game-btn');_0x8cc827&&(_0x8cc827[_0x254ee0(0xa46)]=()=>{const _0x3329e2=_0x254ee0;showConfirmation(_0x3329e2(0xa54),async()=>{const _0x26c7b2=_0x3329e2,_0x3dc2ab=doc(db,_0x26c7b2(0x637)+appId+_0x26c7b2(0x201),currentLiveGameId);await updateDoc(_0x3dc2ab,{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0x39aa31){const _0xf3f0de=_0xe56031,_0x388308=document[_0xf3f0de(0x581)]('results-tab-content'),_0x481b31=document['getElementById'](_0xf3f0de(0xa6e));_0x481b31[_0xf3f0de(0x3f5)][_0xf3f0de(0xd54)](_0xf3f0de(0xa91));const _0x12201a=_0xf3f0de(0x600)+_0x39aa31['topic']+_0xf3f0de(0x8e0);_0x388308[_0xf3f0de(0xcaa)](_0xf3f0de(0x9a1),_0x12201a);const _0x85dc0f=document[_0xf3f0de(0x581)](_0xf3f0de(0xcb3));try{const _0x523702=_0x39aa31[_0xf3f0de(0xafb)]['map']((_0x5f4a2d,_0x4fb789)=>{const _0x11409c=_0xf3f0de;let _0x30b0fb=_0x4fb789+0x1+'.\x20'+(_0x5f4a2d[_0x11409c(0x562)]||_0x5f4a2d[_0x11409c(0x3b4)])+'\x0a';if(_0x5f4a2d['options'])_0x30b0fb+=_0x5f4a2d[_0x11409c(0x578)]['map']((_0x20ce25,_0x1cd679)=>_0x11409c(0xbd2)+(_0x1cd679===_0x5f4a2d[_0x11409c(0x37b)]?_0x11409c(0xcc6):'')+'\x20'+_0x20ce25)[_0x11409c(0x51a)]('\x0a');else _0x5f4a2d['idealAnswer']&&(_0x30b0fb+=_0x11409c(0x5f5)+_0x5f4a2d[_0x11409c(0xbd6)]);return _0x30b0fb;})['join']('\x0a\x0a');_0x85dc0f[_0xf3f0de(0x25c)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x1ec387='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x39aa31[_0xf3f0de(0x5c5)]+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x523702+_0xf3f0de(0xc54)+simpleMathPrompt+_0xf3f0de(0x747),_0x512a57={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0xf3f0de(0xa75),'enum':[_0xf3f0de(0x84f),'short_answer','true_false',_0xf3f0de(0xaa0)]},'options':{'type':_0xf3f0de(0xca9),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0xf3f0de(0x539)},'stem':{'type':'STRING'},'correctResponse':{'type':_0xf3f0de(0xa75)},'allResponses':{'type':_0xf3f0de(0xca9),'items':{'type':_0xf3f0de(0xa75)}},'explanation':{'type':_0xf3f0de(0xa75)},'imageCode':{'type':_0xf3f0de(0xa75)}},'required':[_0xf3f0de(0xabf),_0xf3f0de(0x9bd)]},_0x19e6be={'type':_0xf3f0de(0x965),'properties':{'topic':{'type':_0xf3f0de(0xa75)},'questions':{'type':_0xf3f0de(0xca9),'items':_0x512a57}},'required':[_0xf3f0de(0x5c5),_0xf3f0de(0xafb)]},_0x48fc4a=await callAnalysisApi(_0x1ec387,_0x19e6be),_0x100749=_0x48fc4a[_0xf3f0de(0xafb)][_0xf3f0de(0xaa7)]((_0x3fa85d,_0x57cb01)=>({..._0x3fa85d,'id':'q_'+Date['now']()+'_'+_0x57cb01})),_0x363100=_0xf3f0de(0x706)+_0x39aa31[_0xf3f0de(0x5c5)],_0x173aec={'topic':_0x363100,'questions':_0x100749,'quizType':_0x39aa31[_0xf3f0de(0xd7d)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0xf3f0de(0x73d)](),'status':_0xf3f0de(0xd41),'settings':_0x39aa31[_0xf3f0de(0xa9f)],'quizMode':_0xf3f0de(0x3ea),'pairedQuizId':null,'lessonPlan':null};let _0x3c59f9;while(!![]){_0x3c59f9=Math[_0xf3f0de(0x87b)](0x3e8+Math['random']()*0x2328)['toString']();const _0x10e155=await getDoc(doc(db,_0xf3f0de(0x637)+appId+'/public/data/quizzes',_0x3c59f9));if(!_0x10e155['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0xf3f0de(0x6cd),_0x3c59f9),_0x173aec),showMessage(_0xf3f0de(0x331));}catch(_0x5ece5e){console['error']('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x5ece5e),showMessage(_0xf3f0de(0xb5c)+_0x5ece5e[_0xf3f0de(0x76b)]);}finally{const _0x48cea2=document[_0xf3f0de(0x581)](_0xf3f0de(0x472));_0x48cea2&&_0x48cea2[_0xf3f0de(0xbb6)](),_0x481b31[_0xf3f0de(0x3f5)][_0xf3f0de(0xbb6)](_0xf3f0de(0xa91));}}async function handleGenerateParallelPostTest(_0x287c80){const _0x1e1cdf=_0xe56031,_0x1814ef=document[_0x1e1cdf(0x581)]('results-tab-content'),_0x1c3b4a=document[_0x1e1cdf(0x581)](_0x1e1cdf(0xa6e));_0x1c3b4a[_0x1e1cdf(0x3f5)][_0x1e1cdf(0xd54)](_0x1e1cdf(0xa91));const _0x50c853=_0x1e1cdf(0x235);_0x1814ef[_0x1e1cdf(0xcaa)](_0x1e1cdf(0x9a1),_0x50c853);try{const _0x2681fc=_0x287c80[_0x1e1cdf(0xafb)]['map']((_0x676283,_0x125fcf)=>{const _0xac2d6d=_0x1e1cdf;let _0x5119e8=_0x125fcf+0x1+'.\x20'+(_0x676283['questionText']||_0x676283['stem']);if(_0x676283[_0xac2d6d(0x578)])_0x5119e8+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x676283[_0xac2d6d(0x578)][_0xac2d6d(0x51a)](',\x20');return _0x5119e8;})['join']('\x0a\x0a'),_0x57242b=_0x1e1cdf(0x534)+_0x287c80[_0x1e1cdf(0x5c5)]+_0x1e1cdf(0xbc6)+_0x2681fc+_0x1e1cdf(0x79a)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x159ee9={'type':_0x1e1cdf(0x965),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x1e1cdf(0xca9),'items':{'type':_0x1e1cdf(0x965),'properties':{'questionText':{'type':_0x1e1cdf(0xa75)},'questionType':{'type':_0x1e1cdf(0xa75)},'options':{'type':_0x1e1cdf(0xca9),'items':{'type':_0x1e1cdf(0xa75)}},'correctAnswerIndex':{'type':_0x1e1cdf(0x300)},'idealAnswer':{'type':_0x1e1cdf(0xa75)},'explanation':{'type':_0x1e1cdf(0xa75)}},'required':['questionText',_0x1e1cdf(0x9bd)]}}},'required':['topic',_0x1e1cdf(0xafb)]},_0x48fa14=await callAnalysisApi(_0x57242b,_0x159ee9),_0x1ffd5e=_0x287c80[_0x1e1cdf(0x5c5)]['replace'](_0x1e1cdf(0x52d),'')[_0x1e1cdf(0xd92)](),_0x52c37b='(หลังเรียน)\x20'+_0x1ffd5e,_0x22f89c={..._0x48fa14,'topic':_0x52c37b,'quizType':_0x287c80[_0x1e1cdf(0xd7d)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x1e1cdf(0x73d)](),'status':_0x1e1cdf(0xd41),'settings':_0x287c80[_0x1e1cdf(0xa9f)],'quizMode':_0x1e1cdf(0x8f5),'pairedQuizId':_0x287c80['id']};let _0x4d2798;while(!![]){_0x4d2798=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x1e1cdf(0xd2a)]();const _0x14237b=await getDoc(doc(db,'artifacts/'+appId+_0x1e1cdf(0x6cd),_0x4d2798));if(!_0x14237b[_0x1e1cdf(0x437)]())break;}await setDoc(doc(db,_0x1e1cdf(0x637)+appId+_0x1e1cdf(0x6cd),_0x4d2798),_0x22f89c);const _0x4d31e6=doc(db,'artifacts/'+appId+_0x1e1cdf(0x6cd),_0x287c80['id']);await updateDoc(_0x4d31e6,{'pairedQuizId':_0x4d2798}),showMessage(_0x1e1cdf(0x308));}catch(_0x56db38){console[_0x1e1cdf(0x90c)](_0x1e1cdf(0x304),_0x56db38),showMessage(_0x1e1cdf(0xb5c)+_0x56db38[_0x1e1cdf(0x76b)]);}finally{const _0x7403f8=document[_0x1e1cdf(0x581)](_0x1e1cdf(0x472));if(_0x7403f8)_0x7403f8[_0x1e1cdf(0xbb6)]();_0x1c3b4a[_0x1e1cdf(0x3f5)][_0x1e1cdf(0xbb6)](_0x1e1cdf(0xa91));}}async function handleGenerateParallelTest(_0x4b5388=null){const _0x581127=_0xe56031;let _0x3cf2f4=_0x4b5388;if(!_0x3cf2f4){const _0x45aaa8=document[_0x581127(0x581)](_0x581127(0x479));_0x45aaa8[_0x581127(0x8eb)][_0x581127(0xb5d)]>0x0&&(_0x3cf2f4=_0x45aaa8[_0x581127(0x8eb)][0x0]);}if(!_0x3cf2f4){showMessage(_0x581127(0xac2));return;}const _0x232dad=document['getElementById'](_0x581127(0x86b)),_0x2fb478=document['getElementById'](_0x581127(0x566)),_0x1be0b6=document[_0x581127(0x581)](_0x581127(0x7de)),_0x1a330d=document['getElementById'](_0x581127(0xac4));_0x1a330d[_0x581127(0x5ba)]=!![],document['getElementById'](_0x581127(0x1e1))[_0x581127(0x3f5)][_0x581127(0xbb6)](_0x581127(0xa91)),_0x1be0b6['innerHTML']='',_0x232dad['classList']['remove']('hidden'),_0x2fb478[_0x581127(0x25c)]='กำลังอ่านและเตรียมไฟล์ต้นฉบับ...';const _0x47b4fc=new FileReader();_0x47b4fc['readAsDataURL'](_0x3cf2f4),_0x47b4fc[_0x581127(0xad2)]=async()=>{const _0x4aa136=_0x581127;try{const _0x161a2c=_0x47b4fc[_0x4aa136(0x45b)][_0x4aa136(0x580)](',')[0x1],_0xad4b8f=_0x3cf2f4['type'];_0x2fb478[_0x4aa136(0x25c)]=_0x4aa136(0x9ee);const _0x8efc5c=document['getElementById'](_0x4aa136(0x7e0))['checked'],_0x5e32df=_0x8efc5c?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x4aaabb=_0x4aa136(0x190),_0xf75865={'type':_0x4aa136(0x965),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x4aa136(0x84f),_0x4aa136(0xcb9)]},'options':{'type':'ARRAY','items':{'type':_0x4aa136(0xa75)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x4aa136(0xa75)},'explanation':{'type':_0x4aa136(0xa75)},'imageCode':{'type':_0x4aa136(0xa75)}},'required':[_0x4aa136(0x562),_0x4aa136(0xabf),_0x4aa136(0x9bd)]},_0xb090d6={'type':_0x4aa136(0x965),'properties':{'topic':{'type':_0x4aa136(0xa75)},'questions':{'type':'ARRAY','items':_0xf75865}},'required':['topic','questions']},_0x109ae2=[{'text':_0x4aaabb},{'inlineData':{'mimeType':_0xad4b8f,'data':_0x161a2c}}];await handleApiCall(_0x109ae2,_0x4aa136(0x22b),_0xb090d6);}catch(_0x1f1c04){console[_0x4aa136(0x90c)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x1f1c04),showMessage(_0x4aa136(0xb5c)+_0x1f1c04[_0x4aa136(0x76b)]),_0x1be0b6['innerHTML']=_0x4aa136(0xaa2);}finally{_0x232dad[_0x4aa136(0x3f5)]['add'](_0x4aa136(0xa91)),_0x1a330d[_0x4aa136(0x5ba)]=![];}},_0x47b4fc[_0x581127(0x4d3)]=_0x136904=>{const _0x2de9a9=_0x581127;console['error']('FileReader\x20error:',_0x136904),showMessage(_0x2de9a9(0x5a0)),_0x232dad[_0x2de9a9(0x3f5)]['add'](_0x2de9a9(0xa91)),_0x1a330d[_0x2de9a9(0x5ba)]=![];};}async function handleRegenerateQuestionInEditor(_0x3f22ce){const _0x63ac0d=_0xe56031;if(currentEditingQuizData===null)return;const _0x34d681=document[_0x63ac0d(0xd4c)](_0x63ac0d(0x876)+_0x3f22ce+'\x22]');_0x34d681&&(_0x34d681[_0x63ac0d(0x81c)]=_0x63ac0d(0xb99));const _0xe62cc6=currentEditingQuizData[_0x63ac0d(0xafb)][_0x3f22ce],_0x5c5f0b=currentEditingQuizData['topic'],_0x4f2b25=_0xe62cc6[_0x63ac0d(0xabf)],_0x1db54c={'type':_0x63ac0d(0x965),'properties':{'questionText':{'type':_0x63ac0d(0xa75)},'options':{'type':_0x63ac0d(0xca9),'items':{'type':_0x63ac0d(0xa75)}},'correctAnswerIndex':{'type':_0x63ac0d(0x300)},'explanation':{'type':_0x63ac0d(0xa75)}},'required':[_0x63ac0d(0x562),_0x63ac0d(0x578),_0x63ac0d(0x37b),_0x63ac0d(0x9bd)]},_0x179846={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x63ac0d(0xa75)}},'required':['questionText',_0x63ac0d(0xbd6),_0x63ac0d(0x9bd)]};let _0x3cc2ab,_0x319e64='';_0x4f2b25===_0x63ac0d(0x84f)?(_0x3cc2ab=_0x1db54c,_0x319e64=_0x63ac0d(0x2d0)):(_0x3cc2ab=_0x179846,_0x319e64=_0x63ac0d(0xd02));const _0x38e84b=_0x63ac0d(0x748)+_0x5c5f0b+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x319e64+_0x63ac0d(0x597)+(_0xe62cc6[_0x63ac0d(0x562)]||_0xe62cc6[_0x63ac0d(0x3b4)])+_0x63ac0d(0x40f)+simpleMathPrompt;try{const _0x299d4b=await callAnalysisApi(_0x38e84b,_0x3cc2ab);currentEditingQuizData[_0x63ac0d(0xafb)][_0x3f22ce]={..._0xe62cc6,..._0x299d4b},renderQuizEditor(currentEditingQuizData);}catch(_0x324d81){console['error'](_0x63ac0d(0x30b),_0x324d81),showMessage(_0x63ac0d(0x26c)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x581b21=_0xe56031,_0x36878e=document['getElementById'](_0x581b21(0x2af));currentMode===_0x581b21(0x39a)?(adminPasswordModal[_0x581b21(0x3f5)][_0x581b21(0xbb6)](_0x581b21(0xa91)),document[_0x581b21(0x581)](_0x581b21(0xcca))[_0x581b21(0x33d)]()):(currentMode=_0x581b21(0x39a),_0x36878e[_0x581b21(0x81c)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x36878e[_0x581b21(0xb7b)]=_0x581b21(0xb7a),showView(_0x581b21(0x39a)));}function handleAdminLogin(){const _0x5d4fed=_0xe56031,_0x38de02=document[_0x5d4fed(0x581)](_0x5d4fed(0xcca)),_0x3fcad9=document[_0x5d4fed(0x581)]('password-error-msg');if(_0x38de02[_0x5d4fed(0x9ef)]===_0x5d4fed(0x200)){adminPasswordModal[_0x5d4fed(0x3f5)][_0x5d4fed(0xd54)](_0x5d4fed(0xa91)),_0x38de02[_0x5d4fed(0x9ef)]='',_0x3fcad9['classList']['add'](_0x5d4fed(0xa91)),currentMode=_0x5d4fed(0x916);const _0x48517e=document[_0x5d4fed(0x581)]('mode-switcher-btn');_0x48517e[_0x5d4fed(0x81c)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x48517e[_0x5d4fed(0xb7b)]=_0x5d4fed(0x726),showView(_0x5d4fed(0x55a));}else _0x3fcad9['classList'][_0x5d4fed(0xbb6)](_0x5d4fed(0xa91)),_0x38de02['value']='';}function switchProjectTab(_0x1e1cb4){const _0x16acac=_0xe56031;[_0x16acac(0xc1d),_0x16acac(0xcdd),_0x16acac(0xa88)]['forEach'](_0x257301=>{const _0x32dbf1=_0x16acac;document[_0x32dbf1(0x581)](_0x257301+'-tab')[_0x32dbf1(0x3f5)][_0x32dbf1(0xbb6)](_0x32dbf1(0xd41)),document[_0x32dbf1(0x581)](_0x257301+_0x32dbf1(0x638))[_0x32dbf1(0x3f5)][_0x32dbf1(0xd54)](_0x32dbf1(0xa91));}),document[_0x16acac(0x581)](_0x1e1cb4+_0x16acac(0x520))[_0x16acac(0x3f5)][_0x16acac(0xd54)]('active'),document[_0x16acac(0x581)](_0x1e1cb4+'-tab-content')[_0x16acac(0x3f5)][_0x16acac(0xbb6)](_0x16acac(0xa91));}function switchQuizDetailTab(_0x2c269d){const _0x77de36=_0xe56031,_0x54362d={'analytics':{'btn':_0x77de36(0x648),'content':'analytics-tab-content'},'scores':{'btn':_0x77de36(0x5da),'content':_0x77de36(0x4ae)},'leaderboard-quiz':{'btn':_0x77de36(0xd97),'content':_0x77de36(0x668)},'behavior-log':{'btn':'behavior-log-tab-btn','content':_0x77de36(0x61f)}};for(const _0x13fa03 in _0x54362d){document[_0x77de36(0x581)](_0x54362d[_0x13fa03]['btn'])[_0x77de36(0x3f5)][_0x77de36(0xbb6)](_0x77de36(0xd41)),document['getElementById'](_0x54362d[_0x13fa03]['content'])['classList'][_0x77de36(0xd54)](_0x77de36(0xa91));}document[_0x77de36(0x581)](_0x54362d[_0x2c269d][_0x77de36(0x7a4)])['classList'][_0x77de36(0xd54)](_0x77de36(0xd41)),document[_0x77de36(0x581)](_0x54362d[_0x2c269d]['content'])[_0x77de36(0x3f5)][_0x77de36(0xbb6)]('hidden');}function showMessage(_0x366053,_0x94122b=null){const _0x613667=_0xe56031;modalMessage['textContent']=_0x366053,modalConfirmAction=_0x94122b,messageModal['classList']['remove'](_0x613667(0xa91));}function showConfirmation(_0x3a8f0c,_0x82cd42){const _0x502cfa=_0xe56031;document['getElementById']('confirmation-message')['textContent']=_0x3a8f0c,document[_0x502cfa(0x581)](_0x502cfa(0xad1))[_0x502cfa(0xd4c)]('h3')['textContent']=_0x502cfa(0xa52),confirmAction=_0x82cd42,confirmationModal[_0x502cfa(0x3f5)][_0x502cfa(0xbb6)](_0x502cfa(0xa91));}function listenForProjects(){const _0x500bf3=_0xe56031,_0x17c641=doc(db,_0x500bf3(0x2f5),'dashboardConfig');onSnapshot(_0x17c641,_0x4230d3=>{const _0x4d0a63=_0x500bf3;if(_0x4230d3['exists']()){const _0x338e4d=_0x4230d3[_0x4d0a63(0x610)]();globalDashboardSettings['projectSort']=_0x338e4d['projectSort']||'date_desc',globalDashboardSettings[_0x4d0a63(0x75e)]=_0x338e4d[_0x4d0a63(0x75e)]||[],globalDashboardSettings[_0x4d0a63(0x8fe)]=_0x338e4d[_0x4d0a63(0x8fe)]||[];}allProjects[_0x4d0a63(0xb5d)]>0x0&&renderProjects();});const _0xc857be=collection(db,_0x500bf3(0x637)+appId+_0x500bf3(0x7fe));unsubscribeProjectsListener=onSnapshot(_0xc857be,_0x4147c2=>{const _0x51cb1b=_0x500bf3;allProjects=_0x4147c2['docs'][_0x51cb1b(0xaa7)](_0x1ff760=>({'id':_0x1ff760['id'],..._0x1ff760[_0x51cb1b(0x610)]()})),renderProjects();},_0x2f6c30=>{const _0x3efbed=_0x500bf3;console['error']('Error\x20listening\x20for\x20projects:',_0x2f6c30),showMessage(_0x3efbed(0x482));});}function showColorPalette(_0x40eb78,_0x4a92a8){const _0x44a955=_0xe56031;document['querySelectorAll'](_0x44a955(0x929))[_0x44a955(0x215)](_0x2cfe78=>_0x2cfe78[_0x44a955(0xbb6)]());const _0x13f42a=[_0x44a955(0x256),_0x44a955(0x8a5),_0x44a955(0x699),'#D1FAE5',_0x44a955(0xa29),_0x44a955(0xcc0),'#F3E8FF',_0x44a955(0xa5e),_0x44a955(0x675)],_0x81e980=document[_0x44a955(0x4e3)](_0x44a955(0xc53));_0x81e980[_0x44a955(0xc3d)]=_0x44a955(0x3dc),_0x13f42a[_0x44a955(0x215)](_0x31413c=>{const _0x3ad90d=_0x44a955,_0x1b6476=document[_0x3ad90d(0x4e3)](_0x3ad90d(0xc53));_0x1b6476['className']=_0x3ad90d(0xb6b),_0x1b6476[_0x3ad90d(0x9fb)][_0x3ad90d(0x707)]=_0x31413c,_0x1b6476['addEventListener']('click',()=>{const _0x42d030=_0x3ad90d;handleProjectColorChange(_0x4a92a8,_0x31413c),_0x81e980[_0x42d030(0xbb6)]();}),_0x81e980[_0x3ad90d(0xb81)](_0x1b6476);}),document[_0x44a955(0xc49)][_0x44a955(0xb81)](_0x81e980);const _0x84f21b=_0x40eb78['getBoundingClientRect']();_0x81e980[_0x44a955(0x9fb)]['top']=_0x84f21b[_0x44a955(0xca2)]+window[_0x44a955(0x983)]+'px',_0x81e980[_0x44a955(0x9fb)]['left']=_0x84f21b[_0x44a955(0x1cf)]+window[_0x44a955(0x9ac)]-_0x81e980[_0x44a955(0xb11)]/0x2+'px';}async function handleProjectColorChange(_0x311b9e,_0x209970){const _0x61cdfc=_0xe56031,_0x441050=doc(db,_0x61cdfc(0x637)+appId+_0x61cdfc(0x7fe),_0x311b9e);try{await updateDoc(_0x441050,{'color':_0x209970});}catch(_0x3838a3){console[_0x61cdfc(0x90c)](_0x61cdfc(0xd7a),_0x3838a3),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x26d7fc=_0xe56031,_0x44387c=globalDashboardSettings[_0x26d7fc(0x1ec)]||_0x26d7fc(0x9a6),_0x5cceef=new Set(globalDashboardSettings[_0x26d7fc(0x75e)]||[]),_0x23b5b5=globalDashboardSettings[_0x26d7fc(0x87a)]||_0x26d7fc(0x26d),_0x47a8c5=document['getElementById'](_0x26d7fc(0x86f)),_0x59971a=document['getElementById'](_0x26d7fc(0x6ee));_0x47a8c5['classList'][_0x26d7fc(0x65d)](_0x26d7fc(0xd41),_0x23b5b5==='grid'),_0x59971a['classList'][_0x26d7fc(0x65d)]('active',_0x23b5b5===_0x26d7fc(0x44a)),document[_0x26d7fc(0x581)](_0x26d7fc(0x57b))[_0x26d7fc(0x9ef)]=_0x44387c;const _0x5ebfa4=document[_0x26d7fc(0x581)](_0x26d7fc(0x6f6))['value'][_0x26d7fc(0x7e9)]();let _0x3515e7=allProjects[_0x26d7fc(0x23d)](_0x141dde=>_0x141dde[_0x26d7fc(0xb3f)][_0x26d7fc(0x7e9)]()[_0x26d7fc(0x6f7)](_0x5ebfa4));const _0x11e0f5=_0x3515e7['filter'](_0xe6fa54=>_0x5cceef[_0x26d7fc(0x8d2)](_0xe6fa54['id'])),_0x2297f3=_0x3515e7[_0x26d7fc(0x23d)](_0x213735=>!_0x5cceef[_0x26d7fc(0x8d2)](_0x213735['id'])),_0x31ea37=(_0x37cfd1,_0x17d5d1)=>{const _0xb4f079=_0x26d7fc;switch(_0x44387c){case _0xb4f079(0x36c):return _0x37cfd1[_0xb4f079(0xb3f)][_0xb4f079(0xcba)](_0x17d5d1['projectName'],'th');case _0xb4f079(0x825):return _0x17d5d1[_0xb4f079(0xb3f)][_0xb4f079(0xcba)](_0x37cfd1['projectName'],'th');case _0xb4f079(0x1fa):return new Date(_0x37cfd1[_0xb4f079(0x6f8)])-new Date(_0x17d5d1[_0xb4f079(0x6f8)]);default:return new Date(_0x17d5d1['createdAt'])-new Date(_0x37cfd1[_0xb4f079(0x6f8)]);}};_0x11e0f5[_0x26d7fc(0x57f)](_0x31ea37),_0x2297f3[_0x26d7fc(0x57f)](_0x31ea37);const _0x4bb144=[..._0x11e0f5,..._0x2297f3],_0x156a6d=globalDashboardSettings[_0x26d7fc(0x8fe)]||[];_0x156a6d[_0x26d7fc(0xb5d)]>0x0&&_0x23b5b5===_0x26d7fc(0x26d)&&_0x4bb144[_0x26d7fc(0x57f)]((_0x22224e,_0x61e286)=>{const _0x2477e9=_0x26d7fc,_0x127c0b=_0x156a6d[_0x2477e9(0x72f)](_0x22224e['id']),_0xf60cca=_0x156a6d[_0x2477e9(0x72f)](_0x61e286['id']);if(_0x127c0b===-0x1)return 0x1;if(_0xf60cca===-0x1)return-0x1;return _0x127c0b-_0xf60cca;});const _0x436ce2={};await Promise[_0x26d7fc(0x5bf)](_0x4bb144[_0x26d7fc(0xaa7)](async _0x307b62=>{const _0x142b31=_0x26d7fc,_0x570c4e=query(collection(db,'artifacts/'+appId+_0x142b31(0x6cd)),where(_0x142b31(0x971),'==',_0x307b62['id'])),_0x1d3ec7=await getDocs(_0x570c4e);_0x436ce2[_0x307b62['id']]=_0x1d3ec7[_0x142b31(0x1ac)];}));const _0x30ac93=document[_0x26d7fc(0x581)](_0x26d7fc(0xcaf));let _0x914b1b='';if(_0x23b5b5===_0x26d7fc(0x26d)){_0x30ac93[_0x26d7fc(0xc3d)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x26d7fc(0xb5d)]>0x0&&_0x5ebfa4===''){const _0x2de4a3=starredQuizzes['map'](_0x40f95c=>{const _0x5f081d=_0x26d7fc,_0x3eab24=allProjects['find'](_0x4da29a=>_0x4da29a['id']===_0x40f95c[_0x5f081d(0x971)]);return{..._0x40f95c,'projectName':_0x3eab24?_0x3eab24[_0x5f081d(0xb3f)]:_0x5f081d(0x728)};});_0x914b1b+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2de4a3[_0x26d7fc(0xaa7)](_0x5de149=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x5de149[_0x26d7fc(0x5c5)]+'\x22>'+_0x5de149[_0x26d7fc(0x5c5)]+_0x26d7fc(0x5d2)+_0x5de149[_0x26d7fc(0xb3f)]+_0x26d7fc(0x4fe)+_0x5de149[_0x26d7fc(0xb3f)]+_0x26d7fc(0xd4e))['join']('')+_0x26d7fc(0x98d)+starredQuizzes[_0x26d7fc(0xb5d)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x4bb144[_0x26d7fc(0x215)](_0x4e62f0=>{const _0x5b9869=_0x26d7fc,_0x2616e9=_0x436ce2[_0x4e62f0['id']]??0x0,_0x597b77=_0x5cceef[_0x5b9869(0x8d2)](_0x4e62f0['id']),_0x4af114=_0x4e62f0['color']||_0x5b9869(0x256),_0x5ab875=parseInt(_0x4af114[_0x5b9869(0x1d5)](0x1,0x3),0x10)*0.299+parseInt(_0x4af114[_0x5b9869(0x1d5)](0x3,0x5),0x10)*0.587+parseInt(_0x4af114['substring'](0x5,0x7),0x10)*0.114<0xba,_0x431935=_0x5ab875?_0x5b9869(0x571):_0x5b9869(0xb6c),_0x4dd569=_0x5ab875?_0x5b9869(0x20a):_0x5b9869(0x2b8);_0x914b1b+=_0x5b9869(0x23f)+(_0x597b77?_0x5b9869(0x1ed):_0x5b9869(0xd6e))+_0x5b9869(0x321)+_0x4af114+_0x5b9869(0x9d7)+_0x4e62f0['id']+_0x5b9869(0x3e1)+_0x4e62f0['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x5ab875?_0x5b9869(0x7cc):_0x5b9869(0x516))+_0x5b9869(0x2f1)+_0x4e62f0['id']+_0x5b9869(0xcae)+(_0x5ab875?_0x5b9869(0x7cc):'text-gray-400\x20hover:text-indigo-600')+_0x5b9869(0x2cc)+(_0x597b77?_0x5ab875?_0x5b9869(0x4bd):'text-indigo-600':'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x4e62f0['id']+_0x5b9869(0x327)+_0x431935+_0x5b9869(0x7f8)+_0x4e62f0['projectName']+_0x5b9869(0xad4)+_0x4dd569+_0x5b9869(0x2ec)+new Date(_0x4e62f0['createdAt'])['toLocaleDateString']('th-TH')+_0x5b9869(0x8c6)+(_0x5ab875?_0x5b9869(0x95f):_0x5b9869(0x4b8))+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x2616e9+_0x5b9869(0x1ba)+_0x4e62f0['id']+'\x22\x20data-name=\x22'+_0x4e62f0[_0x5b9869(0xb3f)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x5ab875?'text-red-300\x20hover:text-red-100':_0x5b9869(0x662))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x30ac93[_0x26d7fc(0xc3d)]=_0x26d7fc(0x6d5),starredQuizzes[_0x26d7fc(0xb5d)]>0x0&&_0x5ebfa4===''&&(_0x914b1b+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x26d7fc(0xb5d)]+_0x26d7fc(0x83b)),_0x914b1b+=_0x26d7fc(0xd15),_0x4bb144[_0x26d7fc(0x215)](_0x4cf3fc=>{const _0x15fedc=_0x26d7fc,_0x33dbaf=_0x436ce2[_0x4cf3fc['id']]??0x0,_0x5c5136=_0x5cceef['has'](_0x4cf3fc['id']);_0x914b1b+=_0x15fedc(0x681)+(_0x4cf3fc[_0x15fedc(0x8c9)]||_0x15fedc(0x675))+_0x15fedc(0x98b)+_0x4cf3fc['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x4cf3fc['projectName']+_0x15fedc(0x340)+_0x33dbaf+_0x15fedc(0xd4f)+new Date(_0x4cf3fc[_0x15fedc(0x6f8)])[_0x15fedc(0x647)](_0x15fedc(0x763))+_0x15fedc(0xb4a)+_0x4cf3fc['id']+_0x15fedc(0xa69)+(_0x5c5136?_0x15fedc(0x95e):'')+_0x15fedc(0x855)+_0x4cf3fc['id']+_0x15fedc(0x9f7)+_0x4cf3fc[_0x15fedc(0xb3f)]+_0x15fedc(0xcef);});projectList['innerHTML']=_0x914b1b,noProjectsMsg[_0x26d7fc(0x3f5)][_0x26d7fc(0x65d)](_0x26d7fc(0xa91),_0x914b1b['length']>0x0);}document[_0xe56031(0x581)](_0xe56031(0x4e2))['addEventListener'](_0xe56031(0xafd),async()=>{const _0x315c1c=_0xe56031,_0x51ed09=document[_0x315c1c(0x581)](_0x315c1c(0x2b9)),_0x59a58c=_0x51ed09['value'][_0x315c1c(0xd92)]();if(!_0x59a58c){showMessage(_0x315c1c(0x974));return;}try{const _0x10e57a=doc(collection(db,_0x315c1c(0x637)+appId+_0x315c1c(0x7fe)));await setDoc(_0x10e57a,{'projectName':_0x59a58c,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':_0x315c1c(0xbf7),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x315c1c(0xbf7),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x315c1c(0x73d)]()}),_0x51ed09[_0x315c1c(0x9ef)]='',createProjectModal['classList']['add'](_0x315c1c(0xa91)),showMessage(_0x315c1c(0x68f));}catch(_0x5e1d04){console[_0x315c1c(0x90c)]('Error\x20creating\x20project:',_0x5e1d04),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0xe56031(0x395)](_0xe56031(0xafd),async _0x8a0c11=>{const _0x1be1fe=_0xe56031,_0x453af1=_0x8a0c11[_0x1be1fe(0x8d1)]['closest']('.project-card-content'),_0x5f2a45=_0x8a0c11[_0x1be1fe(0x8d1)][_0x1be1fe(0xd63)]('.delete-project-btn'),_0x50c2a0=_0x8a0c11[_0x1be1fe(0x8d1)][_0x1be1fe(0xd63)](_0x1be1fe(0x6e5)),_0x5be3dc=_0x8a0c11[_0x1be1fe(0x8d1)][_0x1be1fe(0xd63)](_0x1be1fe(0xbb3));if(_0x50c2a0){const _0x244e90=_0x50c2a0['dataset']['id'],_0x320465=doc(db,_0x1be1fe(0x2f5),_0x1be1fe(0xa4c)),_0x2c08f4=globalDashboardSettings['pinnedProjects'];let _0x2ba896;_0x2c08f4[_0x1be1fe(0x6f7)](_0x244e90)?_0x2ba896=_0x2c08f4['filter'](_0x238a16=>_0x238a16!==_0x244e90):_0x2ba896=[..._0x2c08f4,_0x244e90];try{await setDoc(_0x320465,{'pinnedProjects':_0x2ba896},{'merge':!![]});}catch(_0x28b1dc){console['error'](_0x1be1fe(0x564),_0x28b1dc),showMessage(_0x1be1fe(0x9c9));}}else{if(_0x5be3dc){const _0x42e0e3=_0x5be3dc[_0x1be1fe(0xada)]['id'];showColorPalette(_0x5be3dc,_0x42e0e3);}else{if(_0x453af1){const _0x2e7816=_0x453af1['dataset']['id'];_0x2e7816===_0x1be1fe(0xaf0)?showStarredProjectView():(currentProjectId=_0x2e7816,await loadProjectDetails(currentProjectId),showView(_0x1be1fe(0x47f)));}else{if(_0x5f2a45){const _0xd71a9b=_0x5f2a45[_0x1be1fe(0xada)]['id'],_0xe3d999=_0x5f2a45['dataset'][_0x1be1fe(0xb95)];showConfirmation(_0x1be1fe(0xb62)+_0xe3d999+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0xd71a9b));}}}}}),projectList[_0xe56031(0x395)](_0xe56031(0xc45),_0x57f16c=>{const _0x9e37b6=_0xe56031,_0x2eaf68=_0x57f16c[_0x9e37b6(0x8d1)][_0x9e37b6(0xd63)](_0x9e37b6(0x449));_0x2eaf68&&_0x2eaf68[_0x9e37b6(0x3f5)][_0x9e37b6(0xd54)](_0x9e37b6(0xa48));}),projectList[_0xe56031(0x395)](_0xe56031(0x99b),_0x5a7874=>{const _0x2cea41=_0xe56031,_0x1f1a5b=_0x5a7874[_0x2cea41(0x8d1)][_0x2cea41(0xd63)](_0x2cea41(0x449));_0x1f1a5b&&_0x1f1a5b[_0x2cea41(0x3f5)][_0x2cea41(0xbb6)](_0x2cea41(0xa48));}),projectList['addEventListener']('dragover',_0x591392=>{const _0x3a17e2=_0xe56031;_0x591392['preventDefault']();const _0x2412e1=document[_0x3a17e2(0xd4c)]('.project-card-container.opacity-50');if(!_0x2412e1)return;const _0x326058=getDragAfterElement(projectList,_0x591392['clientY']);_0x326058==null?projectList[_0x3a17e2(0xb81)](_0x2412e1):projectList[_0x3a17e2(0xb4f)](_0x2412e1,_0x326058);}),projectList[_0xe56031(0x395)]('drop',_0x599d3a=>{const _0x141891=_0xe56031;_0x599d3a[_0x141891(0x6e6)]();const _0x31ea7c=[...projectList[_0x141891(0x30c)](_0x141891(0xca0))][_0x141891(0xaa7)](_0x5840c3=>_0x5840c3[_0x141891(0xada)]['id']);saveProjectOrder(_0x31ea7c);});function renderBehaviorLog(_0x2231f7){const _0x9749a4=_0xe56031,_0x2f004a=document[_0x9749a4(0x581)](_0x9749a4(0xaec));if(!_0x2f004a)return;const _0x40b7a4=_0x2231f7[_0x9749a4(0x23d)](_0x42b97c=>_0x42b97c[_0x9749a4(0x402)]&&_0x42b97c[_0x9749a4(0x402)][_0x9749a4(0xb5d)]>0x0);if(_0x40b7a4[_0x9749a4(0xb5d)]===0x0){_0x2f004a[_0x9749a4(0x81c)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0x272768='';_0x40b7a4['forEach'](_0x2cd513=>{const _0x11861d=_0x9749a4;_0x272768+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x2cd513[_0x11861d(0x63c)]+_0x11861d(0x732),_0x2cd513[_0x11861d(0x402)][_0x11861d(0x57f)]((_0x328a00,_0x2a932c)=>new Date(_0x2a932c['timestamp'])-new Date(_0x328a00[_0x11861d(0x3ce)]))[_0x11861d(0x215)](_0x1d4148=>{const _0x3e7fb7=_0x11861d,_0xd66ec4=new Date(_0x1d4148[_0x3e7fb7(0x3ce)])[_0x3e7fb7(0x647)](_0x3e7fb7(0x763),{'dateStyle':_0x3e7fb7(0x40a),'timeStyle':_0x3e7fb7(0xcbb)});_0x272768+=_0x3e7fb7(0x977)+_0x1d4148[_0x3e7fb7(0x62d)]+_0x3e7fb7(0x8df)+_0xd66ec4+_0x3e7fb7(0x3ec);}),_0x272768+=_0x11861d(0x870);}),_0x2f004a[_0x9749a4(0x81c)]=_0x272768;}function getDragAfterElement(_0x464a10,_0x4d46fa){const _0x18649c=_0xe56031,_0x5392d2=[..._0x464a10['querySelectorAll'](_0x18649c(0xa42))];return _0x5392d2[_0x18649c(0x89f)]((_0x34b03f,_0x427bfc)=>{const _0x5541aa=_0x18649c,_0x10881d=_0x427bfc['getBoundingClientRect'](),_0x5abe8a=_0x4d46fa-_0x10881d[_0x5541aa(0x56f)]-_0x10881d['height']/0x2;return _0x5abe8a<0x0&&_0x5abe8a>_0x34b03f[_0x5541aa(0x2b7)]?{'offset':_0x5abe8a,'element':_0x427bfc}:_0x34b03f;},{'offset':Number['NEGATIVE_INFINITY']})[_0x18649c(0xd93)];}async function saveProjectOrder(_0xbdb8fe){const _0x5ba827=_0xe56031,_0x4f9af3=doc(db,'globalSettings',_0x5ba827(0xa4c));try{await setDoc(_0x4f9af3,{'projectOrder':_0xbdb8fe},{'merge':!![]});}catch(_0x48898e){console[_0x5ba827(0x90c)](_0x5ba827(0x624),_0x48898e),showMessage(_0x5ba827(0x817));}}async function logBehaviorEvent(_0x18c7b6,_0x5ab4c3={}){const _0x45811a=_0xe56031;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn'](_0x45811a(0x65e));return;}const _0x57286a=doc(db,_0x45811a(0x637)+appId+_0x45811a(0x595)+currentQuizData['id']+_0x45811a(0xbbb),currentStudentName),_0x4327a5={'event':_0x18c7b6,'timestamp':new Date()[_0x45811a(0x73d)](),..._0x5ab4c3};try{await updateDoc(_0x57286a,{'behaviorLog':arrayUnion(_0x4327a5)}),console[_0x45811a(0xaef)](_0x45811a(0x358)+currentStudentName+_0x45811a(0xb4e));}catch(_0x23c0a4){_0x23c0a4[_0x45811a(0x6e9)]===_0x45811a(0xc9a)?console['warn'](_0x45811a(0x64b)+currentStudentName+_0x45811a(0x3b2)):console[_0x45811a(0x90c)](_0x45811a(0x317),_0x23c0a4);}}function calculateMeanAndStdDev(_0xa11b5){const _0x14a958=_0xe56031;if(_0xa11b5['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x495f23=_0xa11b5['reduce']((_0x5bb8f7,_0x2112f5)=>_0x5bb8f7+_0x2112f5,0x0)/_0xa11b5[_0x14a958(0xb5d)];if(_0xa11b5['length']===0x1)return{'mean':_0x495f23,'stdDev':0x0};const _0x54d85b=Math['sqrt'](_0xa11b5['map'](_0x432382=>Math[_0x14a958(0x8d0)](_0x432382-_0x495f23,0x2))[_0x14a958(0x89f)]((_0x200d85,_0x1129e7)=>_0x200d85+_0x1129e7,0x0)/(_0xa11b5[_0x14a958(0xb5d)]-0x1));return{'mean':_0x495f23,'stdDev':_0x54d85b};}function calculateZScore(_0x4a5571,_0x324338,_0x25c498){if(_0x25c498===0x0)return 0x0;return(_0x4a5571-_0x324338)/_0x25c498;}function calculateTScore(_0x47fcfb){return 0xa*_0x47fcfb+0x32;}function showStarredProjectView(){const _0x5733d6=_0xe56031;currentProjectId=_0x5733d6(0x4dd),currentProjectData=null,projectTitle[_0x5733d6(0x25c)]=_0x5733d6(0x2c6),projectIdDisplay[_0x5733d6(0x25c)]=_0x5733d6(0x326),showView(_0x5733d6(0x47f)),manageTab[_0x5733d6(0x3f5)]['add'](_0x5733d6(0xa91)),leaderboardTab[_0x5733d6(0x3f5)][_0x5733d6(0xd54)](_0x5733d6(0xa91)),switchProjectTab(_0x5733d6(0xcdd)),renderQuizzes();}async function loadProjectDetails(_0x1ee076){const _0x4e9b33=_0xe56031,_0x5d3256=doc(db,_0x4e9b33(0x637)+appId+_0x4e9b33(0x7fe),_0x1ee076),_0x12c4ad=await getDoc(_0x5d3256);if(_0x12c4ad[_0x4e9b33(0x437)]()){manageTab[_0x4e9b33(0x3f5)][_0x4e9b33(0xbb6)](_0x4e9b33(0xa91)),leaderboardTab[_0x4e9b33(0x3f5)]['remove'](_0x4e9b33(0xa91)),currentProjectData=_0x12c4ad['data'](),projectTitle['textContent']=currentProjectData['projectName'],projectIdDisplay['textContent']=_0x1ee076;const _0x4e3ff9=currentProjectData[_0x4e9b33(0xa9f)]||{};document[_0x4e9b33(0x581)](_0x4e9b33(0x4be))[_0x4e9b33(0x9ef)]=_0x4e3ff9['shuffleSetting']||_0x4e9b33(0xbf7);const _0x1fbfe5=document[_0x4e9b33(0x581)]('show-in-student-dashboard-checkbox');_0x1fbfe5[_0x4e9b33(0x1f1)]=_0x4e3ff9[_0x4e9b33(0x620)]!==![];const _0x43f7c4=document[_0x4e9b33(0x581)](_0x4e9b33(0xa35)),_0x2b6683=document[_0x4e9b33(0x581)](_0x4e9b33(0xb8a)),_0x30ca04=document['getElementById'](_0x4e9b33(0xbcb)),_0x1e7b55=_0x4e3ff9[_0x4e9b33(0x75f)]||![];_0x43f7c4['checked']=_0x1e7b55,_0x30ca04['value']=_0x4e3ff9[_0x4e9b33(0xa6f)]||'',_0x2b6683['classList'][_0x4e9b33(0x65d)](_0x4e9b33(0xa91),!_0x1e7b55),_0x43f7c4['onchange']=()=>{const _0x2b433d=_0x4e9b33;_0x2b6683[_0x2b433d(0x3f5)][_0x2b433d(0x65d)](_0x2b433d(0xa91),!_0x43f7c4[_0x2b433d(0x1f1)]);},document['getElementById'](_0x4e9b33(0xa97))[_0x4e9b33(0x1f1)]=_0x4e3ff9[_0x4e9b33(0x3cf)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x1ee076),listenForProjectQuizzes(_0x1ee076),listenForStudentProfiles(_0x1ee076);}else showMessage(_0x4e9b33(0x82f)),showView('admin-dashboard');}async function handleResetProjectOrder(){const _0x2f0db0=_0xe56031,_0x14035b=doc(db,_0x2f0db0(0x2f5),_0x2f0db0(0xa4c));try{await setDoc(_0x14035b,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0xeda653){console[_0x2f0db0(0x90c)]('Error\x20resetting\x20project\x20order:',_0xeda653),showMessage(_0x2f0db0(0x820));}}async function handleTogglePinProject(_0x228c11){const _0x43649c=_0xe56031;if(!_0x228c11)return;const _0x37c1c4=doc(db,_0x43649c(0x637)+appId+_0x43649c(0x7fe),_0x228c11);try{const _0x832b44=await getDoc(_0x37c1c4);if(_0x832b44[_0x43649c(0x437)]()){const _0x3f9469=_0x832b44[_0x43649c(0x610)]()[_0x43649c(0x412)]||![];await updateDoc(_0x37c1c4,{'isPinned':!_0x3f9469});}}catch(_0x2dcd93){console[_0x43649c(0x90c)](_0x43649c(0x714),_0x2dcd93),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x3ca7cb){const _0x2cbab5=_0xe56031;try{const _0xbb871f=writeBatch(db),_0x51515b=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x4db954=query(_0x51515b,where(_0x2cbab5(0x971),'==',_0x3ca7cb)),_0xd4f2ac=await getDocs(_0x4db954);for(const _0x55928c of _0xd4f2ac[_0x2cbab5(0x3b1)]){const _0x22561d=collection(db,_0x2cbab5(0x637)+appId+_0x2cbab5(0x595)+_0x55928c['id']+_0x2cbab5(0xbbb)),_0x388264=await getDocs(_0x22561d);_0x388264['forEach'](_0x118c6e=>{const _0x1aacab=_0x2cbab5;_0xbb871f[_0x1aacab(0x65a)](_0x118c6e[_0x1aacab(0x512)]);}),_0xbb871f[_0x2cbab5(0x65a)](_0x55928c[_0x2cbab5(0x512)]);}const _0x18e81a=collection(db,_0x2cbab5(0x637)+appId+_0x2cbab5(0xd32)+_0x3ca7cb+_0x2cbab5(0x8ea)),_0x5cca05=await getDocs(_0x18e81a);_0x5cca05['forEach'](_0x3385b9=>{const _0x37f18b=_0x2cbab5;_0xbb871f[_0x37f18b(0x65a)](_0x3385b9[_0x37f18b(0x512)]);});const _0x3c428b=doc(db,_0x2cbab5(0x637)+appId+_0x2cbab5(0x7fe),_0x3ca7cb);_0xbb871f[_0x2cbab5(0x65a)](_0x3c428b),await _0xbb871f['commit'](),showMessage(_0x2cbab5(0xc94)),showView(_0x2cbab5(0x55a));}catch(_0x3cf6e3){console['error']('Error\x20deleting\x20project:',_0x3cf6e3),showMessage(_0x2cbab5(0x249));}}document[_0xe56031(0x581)](_0xe56031(0xbeb))[_0xe56031(0x395)](_0xe56031(0xafd),async()=>{const _0x335d74=_0xe56031;if(!currentProjectId)return;const _0x107991={'defaultNumQuestions':parseInt(document[_0x335d74(0x581)](_0x335d74(0x866))[_0x335d74(0x9ef)]),'defaultNumChoices':parseInt(document[_0x335d74(0x581)](_0x335d74(0xc03))[_0x335d74(0x9ef)]),'defaultPassingScore':parseInt(document[_0x335d74(0x581)](_0x335d74(0xbaa))['value']),'resultsDisplay':document['getElementById'](_0x335d74(0x2a8))[_0x335d74(0x9ef)],'shuffleSetting':document[_0x335d74(0x581)](_0x335d74(0x4be))[_0x335d74(0x9ef)],'timerMode':document[_0x335d74(0x581)](_0x335d74(0x3fb))['value'],'timerDuration':parseInt(document['getElementById'](_0x335d74(0xd2c))[_0x335d74(0x9ef)]),'isConfidenceScoringEnabled':document[_0x335d74(0x581)](_0x335d74(0xa97))['checked'],'confidenceMode':document[_0x335d74(0x581)](_0x335d74(0x6ad))[_0x335d74(0x9ef)]};try{const _0x59f8f3=doc(db,_0x335d74(0x637)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x59f8f3,{'settings':_0x107991}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x13655d){console[_0x335d74(0x90c)](_0x335d74(0x839),_0x13655d),showMessage(_0x335d74(0xa66));}});function listenForStudents(_0x204f3e){const _0xbbdc39=_0xe56031,_0xe7ee81=doc(db,'artifacts/'+appId+_0xbbdc39(0x7fe),_0x204f3e);unsubscribeStudentsListener=onSnapshot(_0xe7ee81,_0x46edf4=>{const _0x45b3c5=_0xbbdc39;if(_0x46edf4[_0x45b3c5(0x437)]()){const _0x13c74b=_0x46edf4[_0x45b3c5(0x610)]();currentProjectData=_0x13c74b,renderStudentList(_0x13c74b['students']||[]);}});}function renderStudentList(_0x15b142){const _0x2e915f=_0xe56031,_0x409fde=document[_0x2e915f(0x581)](_0x2e915f(0x75c));_0x15b142[_0x2e915f(0xb5d)]===0x0?(studentList[_0x2e915f(0x81c)]=_0x2e915f(0xd5a),_0x409fde['classList']['add']('hidden')):(studentList[_0x2e915f(0x81c)]=_0x15b142[_0x2e915f(0xaa7)](_0xbae151=>_0x2e915f(0xd2f)+_0xbae151+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0xbae151+_0x2e915f(0xb38))[_0x2e915f(0x51a)](''),_0x409fde['classList']['remove']('hidden'));}document[_0xe56031(0x581)](_0xe56031(0x1d6))[_0xe56031(0x395)]('click',async()=>{const _0x1e80e0=_0xe56031;if(!currentProjectId)return;const _0x10b6d1=document[_0x1e80e0(0x581)](_0x1e80e0(0x39e)),_0x20838e=_0x10b6d1[_0x1e80e0(0x9ef)][_0x1e80e0(0xd92)]();if(!_0x20838e){showMessage(_0x1e80e0(0x790));return;}const _0x4ec1e5=_0x20838e[_0x1e80e0(0x580)]('\x0a')['map'](_0x4c8234=>_0x4c8234[_0x1e80e0(0xd92)]())[_0x1e80e0(0x23d)](_0x3b2509=>_0x3b2509);if(_0x4ec1e5[_0x1e80e0(0xb5d)]===0x0)return;try{const _0x3b454b=doc(db,_0x1e80e0(0x637)+appId+_0x1e80e0(0x7fe),currentProjectId),_0x2e65d9=await getDoc(_0x3b454b);if(_0x2e65d9[_0x1e80e0(0x437)]()){const _0x466dcd=_0x2e65d9[_0x1e80e0(0x610)]()['students']||[],_0x4d8d40=[...new Set([..._0x466dcd,..._0x4ec1e5])];await updateDoc(_0x3b454b,{'students':_0x4d8d40}),_0x10b6d1[_0x1e80e0(0x9ef)]='';}}catch(_0x3485b2){console[_0x1e80e0(0x90c)](_0x1e80e0(0xa0c),_0x3485b2),showMessage(_0x1e80e0(0xc0b));}});async function handleManualQuizPairing(_0x144071){const _0x2283f0=_0xe56031,_0x3c4175=document[_0x2283f0(0x581)](_0x2283f0(0x969)),_0x508daf=document[_0x2283f0(0x581)](_0x2283f0(0xb86)),_0x5c370f=_0x3c4175[_0x2283f0(0xd4c)]('h3'),_0x15cfc3=document[_0x2283f0(0x581)](_0x2283f0(0xcd9)),_0x32779c=document[_0x2283f0(0x581)](_0x2283f0(0xcd5));_0x5c370f[_0x2283f0(0x25c)]=_0x2283f0(0xcb1),_0x508daf[_0x2283f0(0x81c)]=_0x2283f0(0x27c),_0x15cfc3[_0x2283f0(0x25c)]=_0x2283f0(0xb33),_0x3c4175['classList']['remove'](_0x2283f0(0xa91));const _0x3e9f4d=allQuizzes[_0x2283f0(0x23d)](_0x37cdd4=>_0x37cdd4['id']!==_0x144071);_0x3e9f4d['length']===0x0?(_0x508daf[_0x2283f0(0x81c)]=_0x2283f0(0x43c),_0x15cfc3[_0x2283f0(0x5ba)]=!![]):(_0x508daf[_0x2283f0(0x81c)]=_0x2283f0(0x81b)+_0x3e9f4d[_0x2283f0(0xaa7)](_0x23d567=>_0x2283f0(0x55d)+_0x23d567['id']+'\x22>'+_0x23d567[_0x2283f0(0x5c5)]+'</option>')[_0x2283f0(0x51a)](''),_0x15cfc3['disabled']=![]);const _0x1c0d31=async()=>{const _0x2a138d=_0x2283f0,_0x3885f5=_0x508daf[_0x2a138d(0x9ef)];if(!_0x3885f5){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x15cfc3[_0x2a138d(0x5ba)]=!![],_0x15cfc3[_0x2a138d(0x25c)]=_0x2a138d(0xc91);try{const _0x56747e=doc(db,_0x2a138d(0x637)+appId+'/public/data/quizzes',_0x144071),_0x531039=doc(db,_0x2a138d(0x637)+appId+_0x2a138d(0x6cd),_0x3885f5),_0x544bc2=writeBatch(db);_0x544bc2[_0x2a138d(0x77d)](_0x56747e,{'pairedQuizId':_0x3885f5}),_0x544bc2['update'](_0x531039,{'pairedQuizId':_0x144071}),await _0x544bc2[_0x2a138d(0x456)](),showMessage(_0x2a138d(0x431)),_0x3c4175[_0x2a138d(0x3f5)][_0x2a138d(0xd54)](_0x2a138d(0xa91));}catch(_0x1662b1){console[_0x2a138d(0x90c)]('Error\x20pairing\x20quizzes:',_0x1662b1),showMessage(_0x2a138d(0x792));}finally{_0x5c370f[_0x2a138d(0x25c)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x15cfc3[_0x2a138d(0x25c)]=_0x2a138d(0x7df),_0x15cfc3[_0x2a138d(0x5ba)]=![],_0x15cfc3[_0x2a138d(0xb89)](_0x2a138d(0xafd),_0x1c0d31),_0x32779c[_0x2a138d(0xb89)](_0x2a138d(0xafd),_0x3a4f98);}},_0x3a4f98=()=>{const _0x1ffd36=_0x2283f0;_0x3c4175[_0x1ffd36(0x3f5)][_0x1ffd36(0xd54)](_0x1ffd36(0xa91)),_0x5c370f[_0x1ffd36(0x25c)]=_0x1ffd36(0xbb4),_0x15cfc3[_0x1ffd36(0x25c)]=_0x1ffd36(0x7df),_0x15cfc3['removeEventListener']('click',_0x1c0d31),_0x32779c[_0x1ffd36(0xb89)](_0x1ffd36(0xafd),_0x3a4f98);};_0x15cfc3[_0x2283f0(0x395)](_0x2283f0(0xafd),_0x1c0d31),_0x32779c[_0x2283f0(0x395)](_0x2283f0(0xafd),_0x3a4f98);}function handleDeleteStudent(_0x58c834){const _0x4840f7=_0xe56031;showConfirmation(_0x4840f7(0xd33)+_0x58c834+_0x4840f7(0x60e),async()=>{const _0x35d02f=_0x4840f7;if(!currentProjectId||!currentProjectData)return;const _0x74d531=currentProjectData[_0x35d02f(0x4c2)][_0x35d02f(0x23d)](_0x29d455=>_0x29d455!==_0x58c834);try{const _0x3db6db=doc(db,_0x35d02f(0x637)+appId+_0x35d02f(0x7fe),currentProjectId),_0x5bfd1f=doc(db,'artifacts/'+appId+_0x35d02f(0xd32)+currentProjectId+_0x35d02f(0x8ea),_0x58c834),_0x5aee2b=writeBatch(db);_0x5aee2b[_0x35d02f(0x77d)](_0x3db6db,{'students':_0x74d531}),_0x5aee2b[_0x35d02f(0x65a)](_0x5bfd1f),await _0x5aee2b[_0x35d02f(0x456)]();}catch(_0x1146d3){console[_0x35d02f(0x90c)](_0x35d02f(0xab2),_0x1146d3),showMessage(_0x35d02f(0x19e));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x8cc42c=_0x352e;if(!currentProjectId)return;try{const _0xf48821=doc(db,'artifacts/'+appId+_0x8cc42c(0x7fe),currentProjectId),_0x35d1a9=collection(db,_0x8cc42c(0x637)+appId+_0x8cc42c(0xd32)+currentProjectId+_0x8cc42c(0x8ea)),_0x4d89fb=await getDocs(_0x35d1a9),_0x11f0b9=writeBatch(db);_0x11f0b9[_0x8cc42c(0x77d)](_0xf48821,{'students':[]}),_0x4d89fb[_0x8cc42c(0x215)](_0x304b7b=>_0x11f0b9[_0x8cc42c(0x65a)](_0x304b7b[_0x8cc42c(0x512)])),await _0x11f0b9[_0x8cc42c(0x456)]();}catch(_0x42b940){console[_0x8cc42c(0x90c)](_0x8cc42c(0xd23),_0x42b940),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x3414c7){const _0x33de49=_0xe56031,_0x488793=document[_0x33de49(0x581)](_0x33de49(0x727)),_0x5752ef=document[_0x33de49(0x581)](_0x33de49(0x809));_0x488793['classList'][_0x33de49(0xbb6)]('hidden'),_0x5752ef[_0x33de49(0x81c)]='<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>';try{const _0x372dfe=new FileReader();_0x372dfe[_0x33de49(0xc05)](_0x3414c7),await new Promise((_0x3d326d,_0x53f842)=>{const _0x445faf=_0x33de49;_0x372dfe['onload']=()=>{const _0x4ccb5e=_0x352e;fileDataBase64=_0x372dfe[_0x4ccb5e(0x45b)]['split'](',')[0x1],fileMimeType=_0x3414c7[_0x4ccb5e(0x852)],_0x3d326d();},_0x372dfe[_0x445faf(0x4d3)]=_0x5b8b67=>_0x53f842(_0x5b8b67);});if(!fileDataBase64)throw new Error(_0x33de49(0xb0b));const _0x1af6b1=_0x33de49(0x741),_0x4f67f2={'type':'OBJECT','properties':{'topics':{'type':_0x33de49(0xca9),'items':{'type':_0x33de49(0xa75)}}},'required':[_0x33de49(0x224)]},_0x593815=[{'text':_0x1af6b1},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x555748=await handleApiCall(_0x593815,_0x33de49(0x6bd),_0x4f67f2,null,![]);if(_0x555748&&_0x555748['topics'])extractedFileTopics=_0x555748[_0x33de49(0x224)],renderFileTopics();else throw new Error(_0x33de49(0xc89));}catch(_0xb5c259){console['error'](_0x33de49(0x2b5),_0xb5c259),_0x5752ef['innerHTML']=_0x33de49(0x751)+_0xb5c259[_0x33de49(0x76b)]+_0x33de49(0x195);}}function renderFileTopics(){const _0x3a8549=_0xe56031,_0x12c07e=document['getElementById']('file-topics-list');if(extractedFileTopics[_0x3a8549(0xb5d)]===0x0){_0x12c07e[_0x3a8549(0x81c)]=_0x3a8549(0xc98);return;}_0x12c07e[_0x3a8549(0x81c)]=extractedFileTopics['map'](_0x4c3f23=>_0x3a8549(0xc8c)+_0x4c3f23+_0x3a8549(0x362)+escape(_0x4c3f23)+_0x3a8549(0x9f4)+escape(_0x4c3f23)+_0x3a8549(0x243))['join']('');}async function generateHybridQuizForTopic(_0x5e7a14){const _0x59cf57=_0xe56031,_0x1ef311=parseInt(document[_0x59cf57(0x581)](_0x59cf57(0x866))['value'],0xa),_0x4b8d09=document['getElementById'](_0x59cf57(0xbb5))[_0x59cf57(0x9ef)],_0xb79745=document[_0x59cf57(0x581)]('num-choices')['value'],_0x22ff86=document[_0x59cf57(0x581)](_0x59cf57(0x7e0))['checked'],_0x161981=_0x22ff86?_0x59cf57(0x89a):_0x59cf57(0xd35);let _0x4f030a='',_0x521a4c;const _0x71c0e7={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x59cf57(0x300)},'explanation':{'type':_0x59cf57(0xa75)},'imageCode':{'type':_0x59cf57(0xa75)}},'required':[_0x59cf57(0x562),_0x59cf57(0x578),'correctAnswerIndex',_0x59cf57(0x9bd)]},_0x145d19={'type':_0x59cf57(0x965),'properties':{'questionText':{'type':_0x59cf57(0xa75)},'correctAnswer':{'type':_0x59cf57(0x539)},'explanation':{'type':_0x59cf57(0xa75)},'imageCode':{'type':'STRING'}},'required':[_0x59cf57(0x562),_0x59cf57(0x39b),_0x59cf57(0x9bd)]},_0x3e9a3e={'type':_0x59cf57(0x965),'properties':{'questionText':{'type':_0x59cf57(0xa75)},'idealAnswer':{'type':_0x59cf57(0xa75)},'explanation':{'type':_0x59cf57(0xa75)},'imageCode':{'type':_0x59cf57(0xa75)}},'required':[_0x59cf57(0x562),_0x59cf57(0xbd6),_0x59cf57(0x9bd)]},_0x2e6bfe={'type':'OBJECT','properties':{'questionType':{'type':_0x59cf57(0xa75),'enum':['matching_item']},'stem':{'type':_0x59cf57(0xa75)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x59cf57(0xca9),'items':{'type':'STRING'}},'explanation':{'type':_0x59cf57(0xa75)},'imageCode':{'type':_0x59cf57(0xa75)}},'required':[_0x59cf57(0xabf),_0x59cf57(0x3b4),'correctResponse',_0x59cf57(0x433),_0x59cf57(0x9bd)]};switch(_0x4b8d09){case'multiple_choice':_0x4f030a=_0x59cf57(0x773)+_0xb79745+_0x59cf57(0x24e),_0x521a4c=_0x71c0e7;break;case _0x59cf57(0xa12):_0x4f030a=_0x59cf57(0x330),_0x521a4c=_0x145d19;break;case _0x59cf57(0x400):_0x4f030a=_0x59cf57(0xa4b),_0x521a4c=_0x3e9a3e;break;case _0x59cf57(0xb51):_0x4f030a=_0x59cf57(0x994),_0x521a4c=_0x2e6bfe;break;case _0x59cf57(0x6da):_0x4f030a=_0x59cf57(0x673)+_0xb79745+'\x20ตัวเลือก)',_0x521a4c=_0x71c0e7;break;default:_0x4f030a='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0xb79745+_0x59cf57(0x24e),_0x521a4c=_0x71c0e7;break;}const _0x1fb8c7='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0x64ebe2=document[_0x59cf57(0x581)]('loader'),_0x2165d8=document[_0x59cf57(0x581)](_0x59cf57(0x566)),_0x28c74f=document[_0x59cf57(0x581)](_0x59cf57(0x7de));document[_0x59cf57(0x581)](_0x59cf57(0x1e1))[_0x59cf57(0x3f5)][_0x59cf57(0xbb6)](_0x59cf57(0xa91)),_0x28c74f['innerHTML']='',_0x64ebe2[_0x59cf57(0x3f5)][_0x59cf57(0xbb6)]('hidden'),_0x2165d8['textContent']=_0x59cf57(0xd73)+_0x5e7a14+_0x59cf57(0xad0)+_0x1ef311+_0x59cf57(0x724);try{const _0x642226=_0x59cf57(0xc83),_0x318160='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22'+_0x5e7a14+'\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20'+_0x1ef311+_0x59cf57(0x535)+_0x5e7a14+_0x59cf57(0x90b)+_0x1ef311+_0x59cf57(0x545)+_0x161981+_0x59cf57(0xaa4)+_0x4f030a+_0x59cf57(0x32d)+_0x1fb8c7+_0x59cf57(0x9f6)+_0x642226+_0x59cf57(0x27a)+simpleMathPrompt+_0x59cf57(0x747),_0x5c8b30={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x521a4c}},'required':[_0x59cf57(0x5c5),_0x59cf57(0xafb)]},_0xd4af61=[{'text':_0x318160},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0xd4af61,_0x59cf57(0x734)+_0x5e7a14+_0x59cf57(0x364),_0x5c8b30);}catch(_0x5116a0){console['error'](_0x59cf57(0xd5b),_0x5116a0),showMessage('เกิดข้อผิดพลาด:\x20'+_0x5116a0[_0x59cf57(0x76b)]),_0x28c74f['innerHTML']=_0x59cf57(0x49e);}finally{_0x64ebe2[_0x59cf57(0x3f5)][_0x59cf57(0xd54)](_0x59cf57(0xa91));}}async function handleGenerateFromFileClick(){const _0x7ba580=_0xe56031;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0xdfccd9=document[_0x7ba580(0x581)]('loader'),_0x125103=document[_0x7ba580(0x581)](_0x7ba580(0x566)),_0x30b821=document['getElementById'](_0x7ba580(0x7de)),_0x15f78a=document[_0x7ba580(0x581)](_0x7ba580(0x5ec));_0x15f78a[_0x7ba580(0x5ba)]=!![],document[_0x7ba580(0x581)](_0x7ba580(0x1e1))['classList'][_0x7ba580(0xbb6)](_0x7ba580(0xa91)),_0x30b821[_0x7ba580(0x81c)]='',_0xdfccd9[_0x7ba580(0x3f5)][_0x7ba580(0xbb6)](_0x7ba580(0xa91)),_0x125103['textContent']=_0x7ba580(0xa6b);try{const _0xaa52a1=await new Promise((_0x5b16dc,_0xb0d20c)=>{const _0x364790=_0x7ba580,_0x4791b9=new FileReader();_0x4791b9[_0x364790(0xc05)](selectedFile),_0x4791b9[_0x364790(0xad2)]=()=>_0x5b16dc(_0x4791b9[_0x364790(0x45b)]['split'](',')[0x1]),_0x4791b9[_0x364790(0x4d3)]=_0x11093c=>_0xb0d20c(_0x11093c);});await generateQuizFromFile(selectedFile['type'],_0xaa52a1);}catch(_0x1c8cd4){console[_0x7ba580(0x90c)](_0x7ba580(0xc58),_0x1c8cd4),showMessage(_0x7ba580(0x900)+_0x1c8cd4[_0x7ba580(0x76b)]),_0xdfccd9[_0x7ba580(0x3f5)][_0x7ba580(0xd54)](_0x7ba580(0xa91)),_0x15f78a[_0x7ba580(0x5ba)]=![];}}function autoFormatMath(_0x1cdf58){const _0x1249f9=_0xe56031;if(typeof _0x1cdf58!==_0x1249f9(0xa53)||!_0x1cdf58)return _0x1cdf58;const _0x14382f=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x360baa=_0x1cdf58[_0x1249f9(0xbfd)](_0x14382f,_0x25db1c=>{return'$'+_0x25db1c['trim']()+'$';});return _0x360baa;}function sanitizeQuizData(_0x3a0b04){const _0x15d7a0=_0xe56031;if(!_0x3a0b04||!_0x3a0b04['questions'])return _0x3a0b04;const _0x42234f={'imes':_0x15d7a0(0x85b),'div':_0x15d7a0(0xd11)},_0x346e56=_0x2e8fb8=>{const _0x165089=_0x15d7a0;if(typeof _0x2e8fb8!=='string')return _0x2e8fb8;let _0x163c9c=_0x2e8fb8;for(const [_0x56c5b1,_0x381e3d]of Object[_0x165089(0x71a)](_0x42234f)){const _0x1637cd=new RegExp('\x5cb'+_0x56c5b1+'\x5cb','g');_0x163c9c=_0x163c9c[_0x165089(0xbfd)](_0x1637cd,_0x381e3d);}return _0x163c9c=_0x163c9c['replace'](/\\\//g,_0x165089(0xd11)),_0x163c9c=_0x163c9c[_0x165089(0xbfd)](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,_0x165089(0x85b))['replace'](/÷/g,_0x165089(0xd11))[_0x165089(0xbfd)](/×/g,'\x5ctimes'),_0x163c9c=_0x163c9c[_0x165089(0xbfd)](/(\d)(\\frac)/g,_0x165089(0xbf5)),_0x163c9c=autoFormatMath(_0x163c9c),_0x163c9c;};return _0x3a0b04['topic']&&(_0x3a0b04[_0x15d7a0(0x5c5)]=_0x346e56(_0x3a0b04[_0x15d7a0(0x5c5)])),_0x3a0b04[_0x15d7a0(0xafb)][_0x15d7a0(0x215)](_0x5f5b40=>{const _0x572644=_0x15d7a0;_0x5f5b40['questionText']=_0x346e56(_0x5f5b40[_0x572644(0x562)]),_0x5f5b40[_0x572644(0x578)]&&(_0x5f5b40[_0x572644(0x578)]=_0x5f5b40[_0x572644(0x578)]['map'](_0x346e56)),_0x5f5b40[_0x572644(0x9bd)]&&(_0x5f5b40[_0x572644(0x9bd)]=_0x346e56(_0x5f5b40[_0x572644(0x9bd)])),_0x5f5b40['stem']&&(_0x5f5b40[_0x572644(0x3b4)]=_0x346e56(_0x5f5b40[_0x572644(0x3b4)])),_0x5f5b40[_0x572644(0x37a)]&&(_0x5f5b40['correctResponse']=_0x346e56(_0x5f5b40[_0x572644(0x37a)])),_0x5f5b40[_0x572644(0x433)]&&(_0x5f5b40['allResponses']=_0x5f5b40[_0x572644(0x433)][_0x572644(0xaa7)](_0x346e56));}),_0x3a0b04;}const simpleMathPrompt=_0xe56031(0x265);async function handleGenerateFromLink(){const _0x151746=_0xe56031,_0x5740dd=document[_0x151746(0x581)]('link-url-input'),_0x358cec=document['getElementById'](_0x151746(0xcc4)),_0xcb07d4=_0x5740dd['value']['trim'](),_0x39aeab=_0x358cec[_0x151746(0x9ef)][_0x151746(0xd92)]();if(!_0xcb07d4){showMessage(_0x151746(0x2d7));return;}const _0x38ded6=document[_0x151746(0x581)](_0x151746(0x86b)),_0x4bc4a6=document['getElementById'](_0x151746(0x566)),_0x8d1696=document[_0x151746(0x581)](_0x151746(0x7de)),_0x160e4b=document[_0x151746(0x581)](_0x151746(0x7a7));document[_0x151746(0x581)]('quiz-generation-area')[_0x151746(0x3f5)][_0x151746(0xbb6)]('hidden'),_0x8d1696[_0x151746(0x81c)]='',_0x38ded6[_0x151746(0x3f5)][_0x151746(0xbb6)](_0x151746(0xa91)),_0x4bc4a6[_0x151746(0x25c)]='กำลังดึงข้อมูลจากลิงก์...',_0x160e4b[_0x151746(0x5ba)]=!![];try{const _0xe4b201=_0x151746(0x878)+encodeURIComponent(_0xcb07d4),_0x272981=await fetch(_0xe4b201);if(!_0x272981['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x272981['status']+')');const _0x853abd=await _0x272981[_0x151746(0x8e9)](),_0x35de51=extractTextFromHtml(_0x853abd);if(!_0x35de51||_0x35de51[_0x151746(0xb5d)]<0x64)throw new Error(_0x151746(0xb0f));await generateQuiz(_0x39aeab,_0x35de51);}catch(_0x21f7f6){console[_0x151746(0x90c)](_0x151746(0x548),_0x21f7f6),showMessage('เกิดข้อผิดพลาด:\x20'+_0x21f7f6[_0x151746(0x76b)]),_0x8d1696['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x38ded6['classList'][_0x151746(0xd54)](_0x151746(0xa91)),_0x160e4b[_0x151746(0x5ba)]=![];}}function extractTextFromHtml(_0x2e2866){const _0x24fe26=_0xe56031,_0x35de01=new DOMParser()[_0x24fe26(0x7c3)](_0x2e2866,_0x24fe26(0x6c8));return _0x35de01[_0x24fe26(0x30c)](_0x24fe26(0xbdf))['forEach'](_0x504e3b=>_0x504e3b[_0x24fe26(0xbb6)]()),_0x35de01[_0x24fe26(0xc49)][_0x24fe26(0x25c)]||'';}document['getElementById'](_0xe56031(0xc93))[_0xe56031(0x395)](_0xe56031(0xafd),()=>{const _0x4fc9f5=_0xe56031,_0x18a04=document[_0x4fc9f5(0x581)](_0x4fc9f5(0xce4))[_0x4fc9f5(0x9ef)]['trim']();generateQuiz(_0x18a04,null);}),document[_0xe56031(0x581)](_0xe56031(0x904))[_0xe56031(0x395)](_0xe56031(0xafd),()=>{const _0x36dbeb=_0xe56031,_0x101f4e=document[_0x36dbeb(0x581)]('text-content-input')[_0x36dbeb(0x9ef)][_0x36dbeb(0xd92)]();if(!_0x101f4e){showMessage(_0x36dbeb(0x6f1));return;}const _0x16fc3f=document['getElementById'](_0x36dbeb(0xce4))[_0x36dbeb(0x9ef)][_0x36dbeb(0xd92)]();generateQuiz(_0x16fc3f,_0x101f4e);});async function generateQuiz(_0x57ee0e,_0x4532a4,_0x1adda1=null,_0x3c76e0=null,_0x44f0b3=![],_0x5243fc=null,_0x5f5084=null,_0x88775c=![]){const _0x4f24e5=_0xe56031;let _0x5eea50={};if(_0x44f0b3&&blueprintPageSettings)_0x5eea50=blueprintPageSettings;else{const _0x25129a=document[_0x4f24e5(0x30c)](_0x4f24e5(0x943));_0x5eea50={'quizType':document[_0x4f24e5(0x581)](_0x4f24e5(0xbb5))['value'],'numQuestions':document[_0x4f24e5(0x581)](_0x4f24e5(0x866))['value'],'numChoices':document[_0x4f24e5(0x581)]('num-choices')[_0x4f24e5(0x9ef)],'includeImages':document[_0x4f24e5(0x581)](_0x4f24e5(0x7e0))[_0x4f24e5(0x1f1)],'isNormalTopic':document[_0x4f24e5(0x581)](_0x4f24e5(0x3c2))[_0x4f24e5(0x1f1)],'difficultyValue':document['getElementById'](_0x4f24e5(0xd85))[_0x4f24e5(0x9ef)],'complexityValue':document[_0x4f24e5(0x581)](_0x4f24e5(0x6ea))[_0x4f24e5(0x9ef)],'selectedTopicNames':Array[_0x4f24e5(0x454)](_0x25129a)[_0x4f24e5(0xaa7)](_0x651049=>_0x651049[_0x4f24e5(0x9ef)])};}const _0x2d06d9=_0x5eea50[_0x4f24e5(0xb50)]?'':'คณิตศาสตร์',_0x55e052=_0x5eea50[_0x4f24e5(0xaab)]!==_0x4f24e5(0xa23)?_0x4f24e5(0x417)+_0x5eea50[_0x4f24e5(0xaab)]+'\x22':'',_0x521a44=_0x5eea50['complexityValue']!==_0x4f24e5(0x826)?_0x4f24e5(0x79c)+_0x5eea50['complexityValue']+_0x4f24e5(0x49f):'';let _0xac123b='';_0x5eea50['selectedTopicNames']&&_0x5eea50[_0x4f24e5(0x3a5)]['length']>0x0&&(_0xac123b=_0x4f24e5(0x38b)+_0x5eea50[_0x4f24e5(0x3a5)]['join'](',\x20')+'.');let _0x45fe6a='';_0x3c76e0&&(_0x45fe6a=_0x4f24e5(0x1cd));let _0x35e9bb='',_0x1da5b6='',_0x53fa09,_0xda4f25=_0x4f24e5(0x35b)+_0x57ee0e+'\x22';if(!_0x57ee0e&&_0x4532a4)_0xda4f25=_0x4f24e5(0xa1d);else!_0x57ee0e&&!_0x4532a4&&(_0xda4f25=_0x4f24e5(0xa1a));const _0x3fab8b={'type':'OBJECT','properties':{'questionText':{'type':_0x4f24e5(0xa75)},'options':{'type':_0x4f24e5(0xca9),'items':{'type':_0x4f24e5(0xa75)}},'correctAnswerIndex':{'type':_0x4f24e5(0x300)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4f24e5(0xa75)}},'required':['questionText',_0x4f24e5(0x578),_0x4f24e5(0x37b),_0x4f24e5(0x9bd)]},_0x1c53a7={'type':_0x4f24e5(0x965),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x4f24e5(0xa75)},'explanation':{'type':_0x4f24e5(0xa75)},'imageCode':{'type':_0x4f24e5(0xa75)}},'required':['questionText',_0x4f24e5(0xbd6),_0x4f24e5(0x9bd)]},_0xd77693={'type':_0x4f24e5(0x965),'properties':{'questionText':{'type':_0x4f24e5(0xa75)},'questionType':{'type':'STRING','enum':[_0x4f24e5(0x84f),_0x4f24e5(0xcb9)]},'options':{'type':'ARRAY','items':{'type':_0x4f24e5(0xa75)}},'correctAnswerIndex':{'type':_0x4f24e5(0x300)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x4f24e5(0xa75)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x4f24e5(0xabf),'explanation']},_0x4618f9={'type':'OBJECT','properties':{'questionText':{'type':_0x4f24e5(0xa75)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x4f24e5(0xa75)},'imageCode':{'type':'STRING'}},'required':[_0x4f24e5(0x562),_0x4f24e5(0x39b),_0x4f24e5(0x9bd)]},_0x39b8ad={'type':_0x4f24e5(0x965),'properties':{'questionType':{'type':_0x4f24e5(0xa75),'enum':[_0x4f24e5(0xaa0)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x4f24e5(0xa75)},'allResponses':{'type':_0x4f24e5(0xca9),'items':{'type':_0x4f24e5(0xa75)}},'explanation':{'type':_0x4f24e5(0xa75)},'imageCode':{'type':'STRING'}},'required':[_0x4f24e5(0xabf),'stem',_0x4f24e5(0x37a),_0x4f24e5(0x433),'explanation']};let _0x420730;if(_0x1adda1!==null){const _0x4c7a19=currentQuizData[_0x4f24e5(0xafb)][_0x1adda1]['questionType'],_0x484d35=_0x5eea50[_0x4f24e5(0x2c1)]?_0x4f24e5(0x2b1):'';_0x35e9bb='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0xda4f25+'\x20'+_0xac123b+'\x20'+_0x55e052+_0x4f24e5(0x5a9)+_0x484d35+'\x20'+simpleMathPrompt;if(_0x4c7a19===_0x4f24e5(0x84f))_0x53fa09=_0x3fab8b;else{if(_0x4c7a19===_0x4f24e5(0xaa0))_0x53fa09={'type':_0x4f24e5(0x965),'properties':{'questionType':{'type':_0x4f24e5(0xa75),'enum':[_0x4f24e5(0xaa0)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x4f24e5(0xa75)},'explanation':{'type':_0x4f24e5(0xa75)},'imageCode':{'type':'STRING'}},'required':[_0x4f24e5(0xabf),_0x4f24e5(0x3b4),_0x4f24e5(0x37a),'explanation']};else _0x53fa09=_0x1c53a7;}_0x420730=_0x53fa09;}else{const _0xe6031=_0x5eea50['includeImages']?_0x4f24e5(0x635):'';switch(_0x5eea50[_0x4f24e5(0xd7d)]){case'multiple_choice':_0x35e9bb=_0x4f24e5(0x94a)+_0x2d06d9+'\x20'+_0x5eea50[_0x4f24e5(0xca7)]+_0x4f24e5(0x979)+_0xda4f25+'\x20'+_0xac123b+'\x20'+_0x55e052+'\x20'+_0x521a44+'\x20'+_0x45fe6a+_0x4f24e5(0x862)+_0x5eea50[_0x4f24e5(0xc90)]+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0xe6031+'\x20'+simpleMathPrompt,_0x53fa09=_0x3fab8b;break;case'fill_in_with_choices':_0x35e9bb='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x2d06d9+'\x20'+_0x5eea50[_0x4f24e5(0xca7)]+_0x4f24e5(0x979)+_0xda4f25+'\x20'+_0xac123b+'\x20'+_0x55e052+'\x20'+_0x521a44+'\x20'+_0x45fe6a+_0x4f24e5(0x19c)+_0x5eea50['numChoices']+_0x4f24e5(0x970)+_0xe6031+'\x20'+simpleMathPrompt,_0x53fa09=_0x3fab8b;break;case _0x4f24e5(0x400):_0x35e9bb=_0x4f24e5(0x35c)+_0x2d06d9+'\x20'+_0x5eea50[_0x4f24e5(0xca7)]+_0x4f24e5(0x979)+_0xda4f25+'\x20'+_0xac123b+'\x20'+_0x55e052+'\x20'+_0x521a44+'\x20'+_0x45fe6a+_0x4f24e5(0xccc)+_0xe6031+'\x20'+simpleMathPrompt,_0x53fa09=_0x1c53a7;break;case _0x4f24e5(0x826):_0x35e9bb=_0x4f24e5(0xa3e)+_0x2d06d9+'\x20'+_0x5eea50[_0x4f24e5(0xca7)]+_0x4f24e5(0x979)+_0xda4f25+'\x20'+_0xac123b+'\x20'+_0x55e052+'\x20'+_0x521a44+'\x20'+_0x45fe6a+',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x5eea50[_0x4f24e5(0xc90)]+_0x4f24e5(0x572)+_0xe6031+'\x20'+simpleMathPrompt+'.',_0x53fa09=_0xd77693;break;case _0x4f24e5(0xa12):_0x35e9bb='สร้างคำถามแบบใช่/ไม่ใช่'+_0x2d06d9+'\x20'+_0x5eea50[_0x4f24e5(0xca7)]+_0x4f24e5(0x979)+_0xda4f25+'\x20'+_0xac123b+'\x20'+_0x55e052+'\x20'+_0x521a44+'\x20'+_0x45fe6a+_0x4f24e5(0x3a9)+_0xe6031+'\x20'+simpleMathPrompt,_0x53fa09=_0x4618f9;break;case _0x4f24e5(0xb51):_0x35e9bb=_0x4f24e5(0xa45)+_0x2d06d9+'\x20'+_0x5eea50[_0x4f24e5(0xca7)]+'\x20คู่\x20'+_0xda4f25+'\x20'+_0xac123b+'\x20'+_0x55e052+'\x20'+_0x521a44+'\x20'+_0x45fe6a+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0xe6031+'\x20'+simpleMathPrompt,_0x53fa09=_0x39b8ad;break;}_0x420730={'type':_0x4f24e5(0x965),'properties':{'topic':{'type':_0x4f24e5(0xa75)},'questions':{'type':'ARRAY','items':_0x53fa09}},'required':[_0x4f24e5(0x5c5),_0x4f24e5(0xafb)]};}const _0x1baa2b=_0x4f24e5(0xc12);_0x4532a4?(_0x88775c?_0x35e9bb='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x4532a4+_0x4f24e5(0xd9e)+_0x35e9bb+_0x1baa2b:_0x35e9bb='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x4532a4+_0x4f24e5(0xd9e)+_0x35e9bb,_0x1da5b6=_0x4f24e5(0xb20)):(_0x88775c&&(_0x35e9bb+=_0x1baa2b),_0x1da5b6=_0x4f24e5(0xa65));let _0x2d5250;return _0x3c76e0?(_0x2d5250=[{'text':_0x35e9bb},..._0x3c76e0],_0x1da5b6='กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...'):_0x2d5250=_0x35e9bb,handleApiCall(_0x2d5250,_0x1da5b6,_0x420730,_0x1adda1,!![],_0x5243fc,_0x5f5084);}async function generateQuizFromFile(_0x378530,_0x2e8c79){const _0x53a51e=_0xe56031,_0x99e892=document[_0x53a51e(0x581)](_0x53a51e(0x473))[_0x53a51e(0x9ef)][_0x53a51e(0xd92)](),_0x1381b5=document[_0x53a51e(0x581)](_0x53a51e(0xbb5))[_0x53a51e(0x9ef)],_0x354325=document['getElementById'](_0x53a51e(0x866))[_0x53a51e(0x9ef)],_0x260bfd=document[_0x53a51e(0x581)]('num-choices')[_0x53a51e(0x9ef)],_0x43dcc3=document[_0x53a51e(0x581)](_0x53a51e(0x7e0))['checked'],_0xe5f0e6=document[_0x53a51e(0x581)](_0x53a51e(0x3c2))[_0x53a51e(0x1f1)],_0x182525=_0xe5f0e6?'':_0x53a51e(0x744),_0x1001c2=document[_0x53a51e(0x581)]('original-mode-checkbox')['checked'];let _0x397727='',_0x3491af;const _0x5c0c19=_0x43dcc3?_0x53a51e(0x635):'';if(_0x1001c2)_0x397727=_0x53a51e(0x653)+_0x5c0c19+'\x0a'+simpleMathPrompt+'\x0a',_0x3491af={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x53a51e(0xa75),'enum':[_0x53a51e(0x84f),'short_answer',_0x53a51e(0xa12),_0x53a51e(0xaa0)]},'options':{'type':_0x53a51e(0xca9),'items':{'type':_0x53a51e(0xa75)}},'correctAnswerIndex':{'type':_0x53a51e(0x300)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x53a51e(0x539)},'stem':{'type':_0x53a51e(0xa75)},'correctResponse':{'type':_0x53a51e(0xa75)},'allResponses':{'type':_0x53a51e(0xca9),'items':{'type':_0x53a51e(0xa75)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x53a51e(0xabf),_0x53a51e(0x9bd)]};else{let _0x45191f=_0x53a51e(0x35b)+_0x99e892+'\x22';!_0x99e892&&(_0x45191f=_0x53a51e(0x3f6));switch(_0x1381b5){case _0x53a51e(0x84f):_0x397727='สร้างแบบทดสอบปรนัย'+_0x182525+'\x20'+_0x354325+_0x53a51e(0x979)+_0x45191f+'.\x20แต่ละข้อมี\x20'+_0x260bfd+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x5c0c19+'\x20'+simpleMathPrompt,_0x3491af={'type':_0x53a51e(0x965),'properties':{'questionText':{'type':_0x53a51e(0xa75)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText','options',_0x53a51e(0x37b),_0x53a51e(0x9bd)]};break;case _0x53a51e(0x6da):_0x397727=_0x53a51e(0x35c)+_0x182525+'\x20'+_0x354325+_0x53a51e(0x979)+_0x45191f+_0x53a51e(0x19c)+_0x260bfd+_0x53a51e(0x970)+_0x5c0c19+'\x20'+simpleMathPrompt,_0x3491af={'type':_0x53a51e(0x965),'properties':{'questionText':{'type':_0x53a51e(0xa75)},'options':{'type':'ARRAY','items':{'type':_0x53a51e(0xa75)}},'correctAnswerIndex':{'type':_0x53a51e(0x300)},'explanation':{'type':_0x53a51e(0xa75)},'imageCode':{'type':_0x53a51e(0xa75)}},'required':['questionText',_0x53a51e(0x578),_0x53a51e(0x37b),_0x53a51e(0x9bd)]};break;case'fill_in_no_choices':_0x397727='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x182525+'\x20'+_0x354325+_0x53a51e(0x979)+_0x45191f+_0x53a51e(0x88c)+_0x5c0c19+'\x20'+simpleMathPrompt,_0x3491af={'type':_0x53a51e(0x965),'properties':{'questionText':{'type':_0x53a51e(0xa75)},'idealAnswer':{'type':_0x53a51e(0xa75)},'explanation':{'type':_0x53a51e(0xa75)},'imageCode':{'type':_0x53a51e(0xa75)}},'required':[_0x53a51e(0x562),_0x53a51e(0xbd6),_0x53a51e(0x9bd)]};break;case _0x53a51e(0x826):_0x397727=_0x53a51e(0xa3e)+_0x182525+'\x20'+_0x354325+_0x53a51e(0x979)+_0x45191f+_0x53a51e(0x1e0)+_0x260bfd+_0x53a51e(0x716)+_0x5c0c19+'\x20'+simpleMathPrompt+_0x53a51e(0x2f0),_0x3491af={'type':_0x53a51e(0x965),'properties':{'questionText':{'type':_0x53a51e(0xa75)},'questionType':{'type':_0x53a51e(0xa75),'enum':[_0x53a51e(0x84f),_0x53a51e(0xcb9)]},'options':{'type':'ARRAY','items':{'type':_0x53a51e(0xa75)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x53a51e(0xa75)},'explanation':{'type':_0x53a51e(0xa75)},'imageCode':{'type':_0x53a51e(0xa75)}},'required':[_0x53a51e(0x562),'questionType',_0x53a51e(0x9bd)]};break;case _0x53a51e(0xa12):_0x397727=_0x53a51e(0xaac)+_0x182525+'\x20'+_0x354325+'\x20ข้อ\x20'+_0x45191f+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x5c0c19+'\x20'+simpleMathPrompt,_0x3491af={'type':_0x53a51e(0x965),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x53a51e(0x539)},'explanation':{'type':_0x53a51e(0xa75)},'imageCode':{'type':_0x53a51e(0xa75)}},'required':[_0x53a51e(0x562),'correctAnswer',_0x53a51e(0x9bd)]};break;case _0x53a51e(0xb51):_0x397727=_0x53a51e(0xa45)+_0x182525+'\x20'+_0x354325+_0x53a51e(0x69e)+_0x45191f+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x354325+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x5c0c19+'\x20'+simpleMathPrompt,_0x3491af={'type':_0x53a51e(0x965),'properties':{'questionType':{'type':_0x53a51e(0xa75),'enum':['matching_item']},'stem':{'type':_0x53a51e(0xa75)},'correctResponse':{'type':_0x53a51e(0xa75)},'allResponses':{'type':_0x53a51e(0xca9),'items':{'type':'STRING'}},'explanation':{'type':_0x53a51e(0xa75)},'imageCode':{'type':'STRING'}},'required':['questionType',_0x53a51e(0x3b4),_0x53a51e(0x37a),_0x53a51e(0x433),_0x53a51e(0x9bd)]};break;}}const _0x4e251e={'type':_0x53a51e(0x965),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x53a51e(0xca9),'items':_0x3491af}},'required':[_0x53a51e(0x5c5),_0x53a51e(0xafb)]},_0x3d1e5a='จากไฟล์ที่แนบมานี้,\x20'+_0x397727,_0x477527={'contents':[{'parts':[{'text':_0x3d1e5a},{'inlineData':{'mimeType':_0x378530,'data':_0x2e8c79}}]}],'generationConfig':{'responseMimeType':_0x53a51e(0x593),'responseSchema':_0x4e251e}};return handleApiCall(_0x477527[_0x53a51e(0xc8d)][0x0][_0x53a51e(0xb45)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x4e251e);}async function handleApiCall(_0xbbce08,_0x1d32ae,_0x236298,_0x51ba8a=null,_0x1cc757=!![],_0x4d4bd3=null,_0x570b2f=null){const _0x346307=_0xe56031,_0x46c2c9=document[_0x346307(0x581)](_0x346307(0x1e1)),_0x552898=document['getElementById']('loader'),_0x34f9b7=document[_0x346307(0x581)](_0x346307(0x566)),_0x2fbeb5=document['getElementById'](_0x346307(0x7de));_0x46c2c9['classList'][_0x346307(0xbb6)](_0x346307(0xa91));_0x51ba8a===null&&_0x1cc757&&(_0x2fbeb5[_0x346307(0x81c)]='');_0x552898[_0x346307(0x3f5)][_0x346307(0xbb6)](_0x346307(0xa91)),_0x34f9b7[_0x346307(0x25c)]=_0x1d32ae,document[_0x346307(0x581)](_0x346307(0xc93))['disabled']=!![],document[_0x346307(0x581)](_0x346307(0x904))[_0x346307(0x5ba)]=!![],document[_0x346307(0x581)](_0x346307(0x7a7))[_0x346307(0x5ba)]=!![];const _0x306f33=document[_0x346307(0x581)]('generate-from-file-btn');if(_0x306f33)_0x306f33['disabled']=!![];const _0x1018b6=document['getElementById'](_0x346307(0xb58));if(_0x1018b6)_0x1018b6['disabled']=!![];const _0x4afdab=document[_0x346307(0x581)](_0x346307(0xac4));if(_0x4afdab)_0x4afdab[_0x346307(0x5ba)]=!![];try{const _0x308887=Array[_0x346307(0x849)](_0xbbce08)?_0xbbce08:[{'text':_0xbbce08}],_0x520dbe={'contents':[{'role':'user','parts':_0x308887}]};_0x236298&&(_0x520dbe[_0x346307(0xa11)]={'responseMimeType':_0x346307(0x593),'responseSchema':_0x236298});const _0x4c99af='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x507235='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x4c99af,_0x59807b=await fetch(_0x507235,{'method':_0x346307(0x4b9),'headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x520dbe)});if(!_0x59807b['ok']){const _0x437d86=await _0x59807b[_0x346307(0x8e9)]();console[_0x346307(0x90c)](_0x346307(0x9e6),_0x437d86);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x59807b['status']);}const _0x542f9d=await _0x59807b['json']();if(!_0x542f9d['candidates']||_0x542f9d[_0x346307(0xd2d)][_0x346307(0xb5d)]===0x0){let _0x772db4=_0x346307(0x9b8);return _0x542f9d['promptFeedback']?.[_0x346307(0x439)]&&(_0x772db4=_0x346307(0xc15)+_0x542f9d[_0x346307(0x3cb)]['blockReason']+'.'),console['error'](_0x772db4,JSON['stringify'](_0x542f9d)),null;}const _0x38b638=_0x542f9d[_0x346307(0xd2d)][0x0][_0x346307(0x513)][_0x346307(0xb45)][0x0]['text'];if(_0x236298){let _0x44e053=_0x38b638;if(_0x44e053[_0x346307(0xb63)]('```json'))_0x44e053=_0x44e053['substring'](0x7,_0x44e053[_0x346307(0xb5d)]-0x3)[_0x346307(0xd92)]();else _0x44e053[_0x346307(0xb63)](_0x346307(0x452))&&(_0x44e053=_0x44e053['substring'](0x3,_0x44e053['length']-0x3)[_0x346307(0xd92)]());let _0x2f5d9c=JSON['parse'](_0x44e053);if(_0x1cc757){if(_0x51ba8a!==null){}else currentQuizData=_0x2f5d9c,displayGeneratedQuiz(currentQuizData,_0x4d4bd3,_0x570b2f);}return _0x2f5d9c;}else return _0x38b638;}catch(_0x4cae9b){console[_0x346307(0x90c)]('Error\x20in\x20handleApiCall:',_0x4cae9b),showMessage(_0x346307(0x615)+_0x4cae9b[_0x346307(0x76b)]);_0x1cc757&&(_0x2fbeb5[_0x346307(0x81c)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>');throw _0x4cae9b;}finally{_0x552898['classList'][_0x346307(0xd54)](_0x346307(0xa91)),document[_0x346307(0x581)](_0x346307(0xc93))[_0x346307(0x5ba)]=![],document['getElementById']('generate-from-text-btn')['disabled']=![],document['getElementById'](_0x346307(0x7a7))[_0x346307(0x5ba)]=![];if(_0x306f33)_0x306f33[_0x346307(0x5ba)]=![];if(_0x1018b6)_0x1018b6[_0x346307(0x5ba)]=![];if(_0x4afdab)_0x4afdab[_0x346307(0x5ba)]=![];}}function exitFullscreen(){const _0x660204=_0xe56031;if(document[_0x660204(0x5f3)])document['exitFullscreen']()[_0x660204(0x483)](_0x42c9c3=>console[_0x660204(0x90c)](_0x42c9c3));else{if(document[_0x660204(0xa39)])document[_0x660204(0xa39)]();else document[_0x660204(0xc56)]&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x1c6aab=_0xe56031,_0x975d30=document[_0x1c6aab(0xd74)];if(_0x975d30[_0x1c6aab(0x343)])_0x975d30[_0x1c6aab(0x343)]()[_0x1c6aab(0x483)](_0x19442c=>{const _0x375d1d=_0x1c6aab;console[_0x375d1d(0x90c)](_0x375d1d(0xcb7)+_0x19442c[_0x375d1d(0x76b)]+'\x20('+_0x19442c[_0x375d1d(0xb95)]+')');});else{if(_0x975d30[_0x1c6aab(0x406)])_0x975d30[_0x1c6aab(0x406)]();else _0x975d30[_0x1c6aab(0x5c8)]&&_0x975d30[_0x1c6aab(0x5c8)]();}}function handleCheatingEvent(){const _0x551342=_0xe56031;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x551342(0x2e5),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+_0x551342(0x885)),document[_0x551342(0x581)](_0x551342(0x9ea))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x551342(0xb89)](_0x551342(0x419),handleVisibilityChange),document['removeEventListener'](_0x551342(0x68b),handleFullscreenChange)):showMessage(_0x551342(0x9b4)+cheatAttempts+'/'+maxCheatAttempts+_0x551342(0x250),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x22ba79=_0xe56031;if(currentMode===_0x22ba79(0x6c0)||!isQuizActive)return;if(document[_0x22ba79(0x320)]==='hidden')handleCheatingEvent();else document[_0x22ba79(0x320)]==='visible'&&(console[_0x22ba79(0xaef)](_0x22ba79(0x829)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x342a1d=_0xe56031;if(currentMode==='admin-testing'||!isQuizActive)return;!document[_0x342a1d(0xc67)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x3b3804,_0x16b6a9=null,_0x177d42=null){const _0x502a02=_0xe56031,_0x26c68a=document['getElementById'](_0x502a02(0x7de));let _0x24e160='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x3b3804[_0x502a02(0x5c5)]+_0x502a02(0x53a);_0x3b3804[_0x502a02(0xafb)][_0x502a02(0x215)]((_0x17bce7,_0x360dd6)=>{const _0x32b3b6=_0x502a02;!_0x17bce7['id']&&(_0x17bce7['id']='q_'+Date['now']()+'_'+_0x360dd6);const _0x5f2a20=_0x17bce7['questionType']||_0x3b3804[_0x32b3b6(0xd7d)];_0x24e160+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x360dd6+_0x32b3b6(0xb0e)+_0x360dd6+_0x32b3b6(0xb1c)+_0x360dd6+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x5f2a20){case _0x32b3b6(0xaa0):_0x24e160+=_0x32b3b6(0x477)+_0x360dd6+'\x22>'+(_0x360dd6+0x1)+'.\x20'+_0x17bce7[_0x32b3b6(0x3b4)]+_0x32b3b6(0x195);_0x17bce7[_0x32b3b6(0xa8e)]&&(_0x24e160+='<div\x20id=\x22q-image-container-'+_0x360dd6+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x17bce7[_0x32b3b6(0xa8e)]+_0x32b3b6(0x209));_0x24e160+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x360dd6+'\x22>'+_0x17bce7[_0x32b3b6(0x37a)]+_0x32b3b6(0x2f7),_0x24e160+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x360dd6+'\x22>'+_0x17bce7['explanation']+_0x32b3b6(0x2f7);break;case _0x32b3b6(0xcb9):_0x24e160+=_0x32b3b6(0x477)+_0x360dd6+'\x22>'+(_0x360dd6+0x1)+'.\x20'+_0x17bce7['questionText']+_0x32b3b6(0x195);_0x17bce7[_0x32b3b6(0xa8e)]&&(_0x24e160+=_0x32b3b6(0xd66)+_0x360dd6+_0x32b3b6(0x981)+_0x17bce7['imageCode']+_0x32b3b6(0x209));_0x24e160+=_0x32b3b6(0xcb0)+_0x360dd6+'\x22>'+_0x17bce7[_0x32b3b6(0xbd6)]+'</span></div>',_0x24e160+=_0x32b3b6(0x8f6)+_0x360dd6+'\x22>'+_0x17bce7[_0x32b3b6(0x9bd)]+_0x32b3b6(0x2f7);break;case _0x32b3b6(0xa12):_0x24e160+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x360dd6+'\x22>'+(_0x360dd6+0x1)+'.\x20'+_0x17bce7['questionText']+_0x32b3b6(0x195);_0x17bce7['imageCode']&&(_0x24e160+='<div\x20id=\x22q-image-container-'+_0x360dd6+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x17bce7[_0x32b3b6(0xa8e)]+_0x32b3b6(0x209));_0x24e160+=_0x32b3b6(0x8dc)+(_0x17bce7['correctAnswer']===!![]?'text-green-600\x20font-bold':'')+_0x32b3b6(0xc9f)+(_0x17bce7[_0x32b3b6(0x39b)]===![]?_0x32b3b6(0x948):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x24e160+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x360dd6+'\x22>'+_0x17bce7[_0x32b3b6(0x9bd)]+_0x32b3b6(0x2f7);break;case'fill_in_the_blank':case _0x32b3b6(0x84f):default:_0x24e160+=_0x32b3b6(0x477)+_0x360dd6+'\x22>'+(_0x360dd6+0x1)+'.\x20'+_0x17bce7[_0x32b3b6(0x562)]+_0x32b3b6(0x195);_0x17bce7[_0x32b3b6(0xa8e)]&&(_0x24e160+=_0x32b3b6(0xd66)+_0x360dd6+_0x32b3b6(0x981)+_0x17bce7[_0x32b3b6(0xa8e)]+_0x32b3b6(0x209));_0x24e160+=_0x32b3b6(0x99a)+_0x360dd6+_0x32b3b6(0x7fc)+(_0x17bce7[_0x32b3b6(0x578)]||[])[_0x32b3b6(0xaa7)]((_0x43dc1a,_0x41535d)=>_0x32b3b6(0x678)+(_0x41535d===_0x17bce7[_0x32b3b6(0x37b)]?_0x32b3b6(0x948):'')+'\x22>'+_0x43dc1a+_0x32b3b6(0x68a))[_0x32b3b6(0x51a)]('')+_0x32b3b6(0x689),_0x24e160+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x360dd6+'\x22>'+_0x17bce7['explanation']+_0x32b3b6(0x2f7);break;}_0x24e160+=_0x32b3b6(0x209);}),_0x24e160+=_0x502a02(0xbec),_0x26c68a[_0x502a02(0x81c)]=_0x24e160,document['querySelectorAll']('.edit-question-btn')[_0x502a02(0x215)](_0x1ef263=>_0x1ef263[_0x502a02(0x395)](_0x502a02(0xafd),handleEditQuestion)),document[_0x502a02(0x30c)](_0x502a02(0xd84))['forEach'](_0x475760=>_0x475760['addEventListener'](_0x502a02(0xafd),handleRegenerateQuestion)),document[_0x502a02(0x581)](_0x502a02(0x841))[_0x502a02(0x395)](_0x502a02(0xafd),exportQuizAsWorksheetPDF),document['getElementById']('verify-answers-btn')[_0x502a02(0x395)](_0x502a02(0xafd),handleVerifyAnswers);const _0x9812b6=document[_0x502a02(0x581)](_0x502a02(0xba8));if(_0x9812b6){const _0x1d236f=_0x16b6a9||currentProjectId;_0x9812b6[_0x502a02(0x395)]('click',()=>saveQuiz(_0x1d236f,_0x177d42));}if(window[_0x502a02(0x609)])window['MathJax'][_0x502a02(0x461)]([_0x26c68a]);}function handleRegenerateQuestion(_0x3bcfd6){const _0x4aa6ff=_0xe56031,_0x474d6f=_0x3bcfd6['currentTarget'][_0x4aa6ff(0xada)]['index'],_0x1733ed=currentQuizData['topic'];showMessage(_0x4aa6ff(0xd25)+(parseInt(_0x474d6f)+0x1)+_0x4aa6ff(0x42b)),generateQuiz(_0x1733ed,null,parseInt(_0x474d6f));}function getPointerPosition(_0x555e55,_0x118a2a){const _0x1f1f98=_0xe56031,_0x35867d=_0x555e55[_0x1f1f98(0xa9c)]();let _0x127faa,_0x17fbd0;return _0x118a2a[_0x1f1f98(0xb12)]&&_0x118a2a[_0x1f1f98(0xb12)][_0x1f1f98(0xb5d)]>0x0?(_0x127faa=_0x118a2a[_0x1f1f98(0xb12)][0x0][_0x1f1f98(0x4ba)],_0x17fbd0=_0x118a2a['touches'][0x0][_0x1f1f98(0x316)]):(_0x127faa=_0x118a2a[_0x1f1f98(0x4ba)],_0x17fbd0=_0x118a2a[_0x1f1f98(0x316)]),{'x':(_0x127faa-_0x35867d['e'])/_0x35867d['a'],'y':(_0x17fbd0-_0x35867d['f'])/_0x35867d['d']};}function startDrag(_0x38767e){const _0x308bb2=_0xe56031;_0x38767e[_0x308bb2(0x852)]==='touchstart'&&_0x38767e[_0x308bb2(0x6e6)]();const _0x146e0b=_0x38767e[_0x308bb2(0x8d1)][_0x308bb2(0xd63)](_0x308bb2(0xc5b));if(_0x146e0b){draggedSvgElement=_0x146e0b;const _0x3f849b=draggedSvgElement[_0x308bb2(0xb7d)],_0x584ff3=getPointerPosition(_0x3f849b,_0x38767e);svgOffset['x']=_0x584ff3['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x584ff3['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x7fe6d2,_0x6f4ba3){const _0x61e150=_0xe56031,_0x96bdb9={};if(_0x6f4ba3[_0x61e150(0xb5d)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x3a0b00=[..._0x6f4ba3][_0x61e150(0x57f)]((_0x5a04bf,_0x58f399)=>{const _0x2137de=_0x61e150,_0x1a1af7=_0x58f399[_0x2137de(0x905)]-_0x5a04bf[_0x2137de(0x905)];if(_0x1a1af7!==0x0)return _0x1a1af7;const _0x27aec3=_0x5a04bf['attempts']?.['length']||0x1,_0x2ee68e=_0x58f399['attempts']?.['length']||0x1,_0x433390=_0x27aec3-_0x2ee68e;if(_0x433390!==0x0)return _0x433390;const _0x3b5f67=new Date(_0x5a04bf[_0x2137de(0x370)]),_0x138f87=new Date(_0x58f399[_0x2137de(0x370)]),_0x3624e8=_0x3b5f67-_0x138f87;if(_0x3624e8!==0x0)return _0x3624e8;return _0x5a04bf[_0x2137de(0x63c)][_0x2137de(0xcba)](_0x58f399[_0x2137de(0x63c)],'th');}),_0x2690c6=_0x3a0b00['length'],_0x2b5e77=Math[_0x61e150(0xc02)](0x1,Math['floor'](_0x2690c6*0.33));if(_0x2b5e77===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x388598=_0x3a0b00[_0x61e150(0xc09)](0x0,_0x2b5e77),_0x3e5487=_0x3a0b00[_0x61e150(0xc09)](-_0x2b5e77),_0x402433=_0x388598['map'](_0x183cae=>_0x183cae[_0x61e150(0x63c)]),_0x257c98=_0x3e5487['map'](_0x50d057=>_0x50d057['studentName']);return _0x7fe6d2['questions'][_0x61e150(0x215)]((_0xfdc86b,_0x421429)=>{const _0x557f2c=_0x61e150,_0x47257a=_0xfdc86b[_0x557f2c(0x3b4)]||_0xfdc86b[_0x557f2c(0x562)];let _0x154682=0x0,_0x23c223=0x0,_0x1c1c3a=0x0;const _0x29208e=[],_0x2e4dc1=[];_0x388598[_0x557f2c(0x215)](_0x37401c=>{const _0x356f48=_0x557f2c,_0x101140=_0x37401c[_0x356f48(0x23a)][_0x37401c['attempts'][_0x356f48(0xb5d)]-0x1],_0x2b5cfa=_0x101140['answers'][_0x356f48(0x692)](_0x44b914=>_0x44b914['originalQuestionText']===_0x47257a);_0x29208e[_0x356f48(0x632)]({'name':_0x37401c[_0x356f48(0x63c)],'isCorrect':_0x2b5cfa?_0x2b5cfa[_0x356f48(0x783)]:![]}),_0x2b5cfa&&_0x2b5cfa[_0x356f48(0x783)]&&_0x23c223++;}),_0x3e5487['forEach'](_0x2ae231=>{const _0x14ce79=_0x557f2c,_0x1509b1=_0x2ae231[_0x14ce79(0x23a)][_0x2ae231[_0x14ce79(0x23a)][_0x14ce79(0xb5d)]-0x1],_0x3db747=_0x1509b1[_0x14ce79(0x7d8)][_0x14ce79(0x692)](_0x3351ae=>_0x3351ae[_0x14ce79(0x450)]===_0x47257a);_0x2e4dc1[_0x14ce79(0x632)]({'name':_0x2ae231['studentName'],'isCorrect':_0x3db747?_0x3db747[_0x14ce79(0x783)]:![]}),_0x3db747&&_0x3db747['isCorrect']&&_0x1c1c3a++;}),_0x6f4ba3[_0x557f2c(0x215)](_0x1c139b=>{const _0x5e63bb=_0x557f2c,_0x5eacdf=_0x1c139b[_0x5e63bb(0x23a)][_0x1c139b['attempts']['length']-0x1],_0x381f62=_0x5eacdf[_0x5e63bb(0x7d8)][_0x5e63bb(0x692)](_0x423010=>_0x423010['originalQuestionText']===_0x47257a);_0x381f62&&_0x381f62[_0x5e63bb(0x783)]&&_0x154682++;});const _0x6717ec=_0x2690c6>0x0?_0x154682/_0x2690c6:0x0,_0x17614a=_0x2b5e77>0x0?_0x23c223/_0x2b5e77-_0x1c1c3a/_0x2b5e77:0x0;_0x96bdb9[_0x421429]={'p':_0x6717ec,'r':_0x17614a,'upperGroupResponders':_0x29208e,'lowerGroupResponders':_0x2e4dc1};}),{'perQuestionStats':_0x96bdb9,'overallGroups':{'upperGroupNames':_0x402433,'lowerGroupNames':_0x257c98}};}function drag(_0x229cd1){const _0xc60a5b=_0xe56031;if(draggedSvgElement){_0x229cd1[_0xc60a5b(0x6e6)]();const _0xef4652=draggedSvgElement[_0xc60a5b(0xb7d)],_0x31f2ac=getPointerPosition(_0xef4652,_0x229cd1),_0x205d82=_0xef4652[_0xc60a5b(0x9b3)]['baseVal'];let _0x198387=_0x31f2ac['x']-svgOffset['x'],_0x28e5a9=_0x31f2ac['y']-svgOffset['y'];const _0x374806=draggedSvgElement['getBBox']();_0x198387=Math[_0xc60a5b(0xc02)](_0x205d82['x'],Math['min'](_0x198387,_0x205d82['x']+_0x205d82[_0xc60a5b(0x334)]-_0x374806[_0xc60a5b(0x334)])),_0x28e5a9=Math[_0xc60a5b(0xc02)](_0x205d82['y'],Math[_0xc60a5b(0xa90)](_0x28e5a9,_0x205d82['y']+_0x205d82[_0xc60a5b(0x7c5)]-_0x374806['height'])),draggedSvgElement[_0xc60a5b(0x3d2)](null,'x',_0x198387),draggedSvgElement[_0xc60a5b(0x3d2)](null,'y',_0x28e5a9);}}function endDrag(_0xade16b){draggedSvgElement=null;}function handleSvgEditClick(_0x11323a){const _0x31bce1=_0xe56031;if(_0x11323a[_0x31bce1(0x8d1)]['classList'][_0x31bce1(0x1fe)](_0x31bce1(0x297))){const _0xf328ef=_0x11323a[_0x31bce1(0x8d1)]['dataset']['targetId'],_0x46d668=_0x11323a[_0x31bce1(0xa0b)],_0x54eccd=_0x46d668['querySelector']('#'+_0xf328ef);_0x54eccd&&_0x54eccd[_0x31bce1(0xbb6)](),_0x11323a[_0x31bce1(0x8d1)][_0x31bce1(0xbb6)]();}}function handleEditQuestion(_0x40a677){const _0xf238eb=_0xe56031,_0x3c280e=_0x40a677['currentTarget'],_0x5ba5ef=_0x3c280e[_0xf238eb(0xada)][_0xf238eb(0x53e)],_0x1f4e5c=currentQuizData[_0xf238eb(0xafb)][_0x5ba5ef],_0x5c2ea8=document['getElementById']('q-text-'+_0x5ba5ef),_0x3ed67b=document[_0xf238eb(0x581)](_0xf238eb(0x78a)+_0x5ba5ef),_0x18af48=document[_0xf238eb(0x581)](_0xf238eb(0xcb6)+_0x5ba5ef);if(_0x3c280e[_0xf238eb(0x81c)][_0xf238eb(0x6f7)]('fa-pen')){_0x3c280e[_0xf238eb(0x81c)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x3c280e[_0xf238eb(0xb7b)]=_0xf238eb(0x6f5);if(_0x5c2ea8)_0x5c2ea8[_0xf238eb(0xcfb)]=!![];if(_0x3ed67b)_0x3ed67b['contentEditable']=!![];if(_0x18af48){const _0x236c54=_0x18af48[_0xf238eb(0xd4c)](_0xf238eb(0x4e1));if(_0x236c54){const _0xe5aeb3=_0x236c54['querySelectorAll'](_0xf238eb(0x8e9));_0xe5aeb3[_0xf238eb(0x215)]((_0x32d69f,_0x1886df)=>{const _0x2baaf9=_0xf238eb,_0x3ffc41=_0x2baaf9(0x7ce)+_0x5ba5ef+'-'+_0x1886df;_0x32d69f['id']=_0x3ffc41,_0x32d69f[_0x2baaf9(0x3f5)]['add'](_0x2baaf9(0x76e)),_0x32d69f[_0x2baaf9(0x9fb)][_0x2baaf9(0x64c)]=_0x2baaf9(0xb05);const _0x4dc3d9=document[_0x2baaf9(0x35e)](_0x2baaf9(0x93c),'circle'),_0x36f70b=_0x32d69f['getBBox']();_0x4dc3d9[_0x2baaf9(0xb04)]('cx',String(_0x36f70b['x']+_0x36f70b[_0x2baaf9(0x334)]+0x5)),_0x4dc3d9['setAttribute']('cy',String(_0x36f70b['y']+_0x36f70b['height']/0x2-0x5)),_0x4dc3d9[_0x2baaf9(0xb04)]('r','5'),_0x4dc3d9[_0x2baaf9(0xb04)]('fill','red'),_0x4dc3d9[_0x2baaf9(0xb04)](_0x2baaf9(0x7c2),_0x2baaf9(0x297)),_0x4dc3d9[_0x2baaf9(0xada)][_0x2baaf9(0xc14)]=_0x3ffc41,_0x32d69f['after'](_0x4dc3d9);}),_0x236c54[_0xf238eb(0x395)](_0xf238eb(0xb57),startDrag),_0x236c54[_0xf238eb(0x395)](_0xf238eb(0x6ff),drag),_0x236c54['addEventListener'](_0xf238eb(0xa79),endDrag),_0x236c54[_0xf238eb(0x395)](_0xf238eb(0x8f9),endDrag),_0x236c54[_0xf238eb(0x395)](_0xf238eb(0xc57),startDrag,{'passive':![]}),_0x236c54[_0xf238eb(0x395)](_0xf238eb(0x2dc),drag,{'passive':![]}),_0x236c54[_0xf238eb(0x395)]('touchend',endDrag),_0x236c54[_0xf238eb(0x395)](_0xf238eb(0x2e3),endDrag),_0x236c54[_0xf238eb(0x395)](_0xf238eb(0xafd),handleSvgEditClick);}}if(_0x5c2ea8)_0x5c2ea8[_0xf238eb(0x33d)]();}else{_0x3c280e[_0xf238eb(0x81c)]=_0xf238eb(0x41c),_0x3c280e[_0xf238eb(0xb7b)]=_0xf238eb(0xb1b);if(_0x5c2ea8){_0x5c2ea8[_0xf238eb(0xcfb)]=![];const _0x52250b=_0x1f4e5c['questionType']||currentQuizData[_0xf238eb(0xd7d)];_0x52250b===_0xf238eb(0xaa0)?_0x1f4e5c[_0xf238eb(0x3b4)]=_0x5c2ea8['innerText'][_0xf238eb(0x1d5)](_0x5c2ea8[_0xf238eb(0x869)][_0xf238eb(0x72f)]('.')+0x2)['trim']():_0x1f4e5c[_0xf238eb(0x562)]=_0x5c2ea8[_0xf238eb(0x869)]['substring'](_0x5c2ea8[_0xf238eb(0x869)][_0xf238eb(0x72f)]('.')+0x2)['trim']();}_0x3ed67b&&(_0x3ed67b[_0xf238eb(0xcfb)]=![],_0x1f4e5c[_0xf238eb(0x9bd)]=_0x3ed67b[_0xf238eb(0x869)]);if(_0x18af48){const _0x531686=_0x18af48[_0xf238eb(0xd4c)](_0xf238eb(0x4e1));if(_0x531686){const _0x43731e=_0x531686[_0xf238eb(0xaca)](!![]);_0x43731e[_0xf238eb(0x30c)](_0xf238eb(0x3d5))[_0xf238eb(0x215)](_0x3827ab=>_0x3827ab[_0xf238eb(0xbb6)]()),_0x43731e['querySelectorAll']('.draggable-text')['forEach'](_0x2b3c07=>{const _0x336225=_0xf238eb;_0x2b3c07[_0x336225(0x3f5)][_0x336225(0xbb6)]('draggable-text'),_0x2b3c07['style'][_0x336225(0x64c)]='default',_0x2b3c07[_0x336225(0x569)]('id');}),_0x1f4e5c[_0xf238eb(0xa8e)]=_0x43731e[_0xf238eb(0x392)],_0x531686['removeEventListener'](_0xf238eb(0xb57),startDrag),_0x531686[_0xf238eb(0xb89)](_0xf238eb(0x6ff),drag),_0x531686[_0xf238eb(0xb89)](_0xf238eb(0xa79),endDrag),_0x531686[_0xf238eb(0xb89)](_0xf238eb(0x8f9),endDrag),_0x531686[_0xf238eb(0xb89)]('touchstart',startDrag),_0x531686['removeEventListener']('touchmove',drag),_0x531686[_0xf238eb(0xb89)](_0xf238eb(0x4cc),endDrag),_0x531686[_0xf238eb(0xb89)](_0xf238eb(0x2e3),endDrag),_0x531686[_0xf238eb(0xb89)](_0xf238eb(0xafd),handleSvgEditClick),_0x531686[_0xf238eb(0x30c)]('.delete-svg-btn')[_0xf238eb(0x215)](_0xda0f7e=>_0xda0f7e['remove']()),_0x531686[_0xf238eb(0x30c)](_0xf238eb(0xc5b))[_0xf238eb(0x215)](_0x382b3e=>{const _0x42a412=_0xf238eb;_0x382b3e['classList'][_0x42a412(0xbb6)](_0x42a412(0x76e)),_0x382b3e['style'][_0x42a412(0x64c)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x4bf54e){const _0x361349=_0xe56031,_0x1ae0d6=document['getElementById'](_0x361349(0xab7)),_0xa22b36=document[_0x361349(0x581)](_0x361349(0x487));_0xa22b36['innerHTML']=_0x361349(0x631),_0x1ae0d6[_0x361349(0x3f5)]['remove'](_0x361349(0xa91));try{const _0x245b75=doc(db,'artifacts/'+appId+_0x361349(0x6cd),_0x4bf54e),_0x487ab3=await getDoc(_0x245b75);if(!_0x487ab3[_0x361349(0x437)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x4bf54e,..._0x487ab3[_0x361349(0x610)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x376de4){console[_0x361349(0x90c)](_0x361349(0xbf6),_0x376de4),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x1ae0d6[_0x361349(0x3f5)][_0x361349(0xd54)](_0x361349(0xa91));}}function renderQuizEditor(_0x5e5b8e){const _0x419c39=_0xe56031;document[_0x419c39(0x581)](_0x419c39(0xbe2))['value']=_0x5e5b8e[_0x419c39(0x5c5)];const _0x2947c6=document[_0x419c39(0x581)](_0x419c39(0x487));let _0x2d9cf0=_0x5e5b8e[_0x419c39(0xafb)][_0x419c39(0xaa7)]((_0x35774d,_0x4c8d44)=>{const _0x4818ca=_0x419c39;let _0x3c7bd1='';const _0x29f5e7=_0x35774d['questionType']||_0x5e5b8e[_0x4818ca(0xd7d)];switch(_0x29f5e7){case _0x4818ca(0x84f):const _0x2ab9a9=(_0x35774d[_0x4818ca(0x578)]||[])[_0x4818ca(0xaa7)]((_0x294031,_0x3169e4)=>_0x4818ca(0x3a0)+_0x4c8d44+_0x4818ca(0x29a)+_0x3169e4+'\x22\x20'+(_0x3169e4===_0x35774d['correctAnswerIndex']?_0x4818ca(0x1f1):'')+_0x4818ca(0x982)+_0x294031+_0x4818ca(0x21d))[_0x4818ca(0x51a)]('');_0x3c7bd1=_0x4818ca(0x687)+_0x2ab9a9+_0x4818ca(0x447);break;case _0x4818ca(0xcb9):_0x3c7bd1=_0x4818ca(0x74b)+(_0x35774d[_0x4818ca(0xbd6)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x4818ca(0xa12):_0x3c7bd1=_0x4818ca(0x92c)+_0x4c8d44+_0x4818ca(0x226)+(_0x35774d['correctAnswer']===!![]?_0x4818ca(0x1f1):'')+_0x4818ca(0xc34)+_0x4c8d44+'\x22\x20value=\x22false\x22\x20'+(_0x35774d['correctAnswer']===![]?'checked':'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x4818ca(0xaa0):_0x3c7bd1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x35774d[_0x4818ca(0x37a)]||'')+_0x4818ca(0x543);break;}let _0x48485a=_0x35774d[_0x4818ca(0x562)]||_0x35774d[_0x4818ca(0x3b4)]||'';return _0x48485a=_0x48485a[_0x4818ca(0xbfd)](/<br\s*\/?>/gi,'\x0a'),_0x4818ca(0x255)+_0x4c8d44+_0x4818ca(0xb08)+_0x29f5e7+_0x4818ca(0xd3c)+(_0x4c8d44+0x1)+'\x20('+_0x29f5e7+_0x4818ca(0x285)+_0x48485a+'</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x3c7bd1+_0x4818ca(0x60c);})['join']('');_0x2947c6[_0x419c39(0x81c)]=_0x2d9cf0;const _0xaf5eeb=_0x419c39(0x8a9);_0x2947c6['insertAdjacentHTML'](_0x419c39(0x9a1),_0xaf5eeb),_0x2947c6[_0x419c39(0x30c)](_0x419c39(0xcab))[_0x419c39(0x215)](_0x464116=>{const _0x2e02a7=_0x419c39;_0x464116[_0x2e02a7(0x9fb)][_0x2e02a7(0x76a)]=_0x2e02a7(0xa91),_0x464116[_0x2e02a7(0x9fb)][_0x2e02a7(0x31f)]=_0x2e02a7(0x4d7),_0x464116[_0x2e02a7(0x314)]=0x4;const _0x378823=()=>{const _0x42f43f=_0x2e02a7;_0x464116['style']['height']=_0x42f43f(0xa23),_0x464116[_0x42f43f(0x9fb)]['height']=_0x464116[_0x42f43f(0x71e)]+'px';};_0x464116[_0x2e02a7(0x395)](_0x2e02a7(0x718),_0x378823),_0x378823();}),_0x2947c6['querySelectorAll'](_0x419c39(0x991))[_0x419c39(0x215)](_0x53920b=>{const _0x43e7bd=_0x419c39;_0x53920b[_0x43e7bd(0x395)](_0x43e7bd(0xafd),handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x12677e){const _0x224fc0=_0xe56031;if(!currentEditingQuizData||!currentEditingQuizData[_0x224fc0(0xafb)][_0x12677e])return;const _0x1b79be=currentEditingQuizData['questions'][_0x12677e][_0x224fc0(0x562)]||currentEditingQuizData['questions'][_0x12677e][_0x224fc0(0x3b4)];showConfirmation(_0x224fc0(0xd42)+(_0x12677e+0x1)+_0x224fc0(0xcbc)+_0x1b79be[_0x224fc0(0x1d5)](0x0,0x14)+_0x224fc0(0x309),()=>{const _0x348bc9=_0x224fc0;currentEditingQuizData['questions']['splice'](_0x12677e,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x348bc9(0x4d8));});}function handleAddQuestionInEditor(){const _0x40e230=_0xe56031;if(!currentEditingQuizData)return;const _0x3e5430={'id':'q_'+Date['now']()+_0x40e230(0x41f),'questionType':'multiple_choice','questionText':_0x40e230(0xd70),'options':[_0x40e230(0xc5c),'ตัวเลือก\x20ข',_0x40e230(0x4ff),_0x40e230(0xb1e)],'correctAnswerIndex':0x0,'explanation':'คำอธิบาย...'};currentEditingQuizData[_0x40e230(0xafb)]['push'](_0x3e5430),renderQuizEditor(currentEditingQuizData);const _0x4f1b91=document[_0x40e230(0xd4c)](_0x40e230(0x3ed));_0x4f1b91&&(_0x4f1b91['scrollIntoView']({'behavior':_0x40e230(0xa7c),'block':_0x40e230(0x2d6)}),_0x4f1b91[_0x40e230(0xd4c)]('textarea')['focus']());}async function handleAiFixQuestion(_0x386327){const _0x210a68=_0xe56031,_0x543577=_0x386327[_0x210a68(0xa0b)],_0x13c1b5=_0x543577[_0x210a68(0xd63)](_0x210a68(0x3c6));if(!_0x13c1b5)return;const _0xa7e35a=parseInt(_0x13c1b5[_0x210a68(0xada)][_0x210a68(0x9a8)],0xa);if(isNaN(_0xa7e35a)||!currentEditingQuizData[_0x210a68(0xafb)][_0xa7e35a]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x32c87d=currentEditingQuizData['questions'][_0xa7e35a];_0x543577[_0x210a68(0x81c)]=_0x210a68(0x49a),_0x543577[_0x210a68(0x5ba)]=!![];const _0x154ab1=_0x210a68(0x46a)+JSON['stringify'](_0x32c87d)+_0x210a68(0xd6f);let _0x1f6d78;const _0x1f2edc=_0x32c87d[_0x210a68(0xabf)]||currentEditingQuizData[_0x210a68(0xd7d)];switch(_0x1f2edc){case _0x210a68(0xcb9):_0x1f6d78={'type':_0x210a68(0x965),'properties':{'questionText':{'type':_0x210a68(0xa75)},'idealAnswer':{'type':_0x210a68(0xa75)},'explanation':{'type':_0x210a68(0xa75)},'imageCode':{'type':'STRING'}},'required':['questionText','idealAnswer',_0x210a68(0x9bd)]};break;case'multiple_choice':default:_0x1f6d78={'type':'OBJECT','properties':{'questionText':{'type':_0x210a68(0xa75)},'options':{'type':_0x210a68(0xca9),'items':{'type':_0x210a68(0xa75)}},'correctAnswerIndex':{'type':_0x210a68(0x300)},'explanation':{'type':_0x210a68(0xa75)},'imageCode':{'type':_0x210a68(0xa75)}},'required':['questionText',_0x210a68(0x578),_0x210a68(0x37b),_0x210a68(0x9bd)]};break;}try{let _0x15f028=await callAnalysisApi(_0x154ab1,_0x1f6d78);_0x15f028[_0x210a68(0x578)]&&Array[_0x210a68(0x849)](_0x15f028[_0x210a68(0x578)])&&(_0x15f028['options']=_0x15f028['options'][_0x210a68(0xaa7)](_0x2dc24b=>typeof _0x2dc24b===_0x210a68(0xa53)?_0x2dc24b['replace'](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x2dc24b)),_0x32c87d[_0x210a68(0xa8e)]&&_0x32c87d['imageCode']['includes']('fix\x20the\x20option')&&(_0x15f028[_0x210a68(0xa8e)]=''),currentEditingQuizData[_0x210a68(0xafb)][_0xa7e35a]={..._0x32c87d,..._0x15f028},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x55da21){console[_0x210a68(0x90c)](_0x210a68(0x423),_0x55da21),showMessage(_0x210a68(0x5e5)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x23ddb7=_0xe56031,_0x7b38d9=document[_0x23ddb7(0x581)]('save-quiz-edits-btn');_0x7b38d9[_0x23ddb7(0x5ba)]=!![],_0x7b38d9['innerHTML']=_0x23ddb7(0x626);try{const _0x562fc6=document['getElementById'](_0x23ddb7(0xbe2))[_0x23ddb7(0x9ef)],_0x1c1f08=document[_0x23ddb7(0x30c)](_0x23ddb7(0x3c6));let _0xd08691=[];const _0x563f86=Array[_0x23ddb7(0x454)](_0x1c1f08)[_0x23ddb7(0xaa7)]((_0x5ed80d,_0x60a055)=>{const _0x1d4170=_0x23ddb7,_0x2dfe27=_0x5ed80d[_0x1d4170(0xada)][_0x1d4170(0xd45)],_0x3150b4=_0x5ed80d[_0x1d4170(0xd4c)](_0x1d4170(0x642))[_0x1d4170(0x9ef)][_0x1d4170(0xbfd)](/\n/g,_0x1d4170(0x7b9));let _0x55fe27={'questionType':_0x2dfe27};const _0x257554=currentEditingQuizData[_0x1d4170(0xafb)][_0x60a055];switch(_0x2dfe27){case _0x1d4170(0x84f):_0x55fe27['questionText']=_0x3150b4;const _0x3c0441=_0x5ed80d['querySelectorAll'](_0x1d4170(0x270));_0x55fe27[_0x1d4170(0x578)]=Array[_0x1d4170(0x454)](_0x3c0441)[_0x1d4170(0xaa7)](_0x12c0e9=>_0x12c0e9[_0x1d4170(0x9ef)]);const _0x3332fb=_0x5ed80d['querySelector'](_0x1d4170(0x96e));_0x55fe27[_0x1d4170(0x37b)]=_0x3332fb?parseInt(_0x3332fb[_0x1d4170(0x9ef)]):0x0;break;case _0x1d4170(0xcb9):_0x55fe27[_0x1d4170(0x562)]=_0x3150b4,_0x55fe27['idealAnswer']=_0x5ed80d[_0x1d4170(0xd4c)](_0x1d4170(0x202))[_0x1d4170(0x9ef)];break;case _0x1d4170(0xa12):_0x55fe27[_0x1d4170(0x562)]=_0x3150b4;const _0x4e4711=_0x5ed80d[_0x1d4170(0xd4c)]('input[type=\x22radio\x22]:checked');_0x55fe27[_0x1d4170(0x39b)]=_0x4e4711?_0x4e4711[_0x1d4170(0x9ef)]===_0x1d4170(0x975):!![];break;case _0x1d4170(0xaa0):_0x55fe27[_0x1d4170(0x3b4)]=_0x3150b4;const _0x36711f=_0x5ed80d[_0x1d4170(0xd4c)](_0x1d4170(0x3bb));_0x55fe27['correctResponse']=_0x36711f?_0x36711f[_0x1d4170(0x9ef)]:'',_0xd08691[_0x1d4170(0x632)](_0x55fe27['correctResponse']);break;default:_0x55fe27[_0x1d4170(0x562)]=_0x3150b4;break;}return{..._0x257554,..._0x55fe27};});_0xd08691[_0x23ddb7(0xb5d)]>0x0&&_0x563f86['forEach'](_0x5d4dce=>{const _0x21b13c=_0x23ddb7;_0x5d4dce['questionType']===_0x21b13c(0xaa0)&&(_0x5d4dce['allResponses']=_0xd08691);});const _0x4787ad=currentEditingQuizData['id'],_0x377425=doc(db,_0x23ddb7(0x637)+appId+_0x23ddb7(0x6cd),_0x4787ad);await updateDoc(_0x377425,{'topic':_0x562fc6,'questions':_0x563f86}),document[_0x23ddb7(0x581)](_0x23ddb7(0xab7))[_0x23ddb7(0x3f5)]['add'](_0x23ddb7(0xa91)),showMessage(_0x23ddb7(0x1fb),()=>initiateReGradeProcess(_0x4787ad));}catch(_0x2488d6){console[_0x23ddb7(0x90c)](_0x23ddb7(0xbd8),_0x2488d6),showMessage(_0x23ddb7(0x25a));}finally{_0x7b38d9[_0x23ddb7(0x5ba)]=![],_0x7b38d9[_0x23ddb7(0x81c)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x17c588){const _0x4465da=_0xe56031;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x32b4a4=doc(db,_0x4465da(0x637)+appId+'/public/data/quizzes',_0x17c588),_0x398c5f=await getDoc(_0x32b4a4);if(!_0x398c5f[_0x4465da(0x437)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x24d1f3={'id':_0x17c588,..._0x398c5f['data']()},_0x40de21=collection(db,_0x4465da(0x637)+appId+_0x4465da(0x6cd),_0x17c588,_0x4465da(0x94c)),_0x45bc74=await getDocs(_0x40de21);if(_0x45bc74[_0x4465da(0x9b2)]){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x5c5a23=_0x45bc74[_0x4465da(0x3b1)][_0x4465da(0xaa7)](_0x4060f8=>reGradeSingleSubmission(_0x4060f8,_0x24d1f3));await Promise['all'](_0x5c5a23);if(_0x24d1f3['projectId']){const _0x50e2d7=doc(db,_0x4465da(0x637)+appId+_0x4465da(0x7fe),_0x24d1f3[_0x4465da(0x971)]),_0x36a94b=await getDoc(_0x50e2d7);if(_0x36a94b['exists']()&&_0x36a94b[_0x4465da(0x610)]()[_0x4465da(0x4c2)]){const _0x2ce52c=_0x36a94b[_0x4465da(0x610)]()[_0x4465da(0x4c2)][_0x4465da(0xaa7)](_0x5adcde=>updateStudentProfile(_0x24d1f3[_0x4465da(0x971)],_0x5adcde));await Promise[_0x4465da(0x5bf)](_0x2ce52c);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x45bc74['size']+_0x4465da(0x756));}catch(_0x210650){console['error'](_0x4465da(0x2fd),_0x210650),showMessage(_0x4465da(0x65c)+_0x210650[_0x4465da(0x76b)]);}}async function reGradeSingleSubmission(_0x3a5cea,_0x2ae6b7){const _0x540a48=_0xe56031,_0xcfa963=_0x3a5cea[_0x540a48(0x610)](),_0x4d209a=_0xcfa963[_0x540a48(0x63c)],_0xc8c86=_0xcfa963[_0x540a48(0x23a)]||[],_0x273a9d=[];for(const _0x32c607 of _0xc8c86){let _0x28c7a2=0x0,_0x49c944=[],_0x23d3a9=0x0;const _0x4b57ce=[];for(const _0x13ed07 of _0x32c607[_0x540a48(0x7d8)]){let _0x4fa5e9;_0x13ed07[_0x540a48(0xb8c)]&&(_0x4fa5e9=_0x2ae6b7[_0x540a48(0xafb)]['find'](_0x2efe99=>_0x2efe99['id']===_0x13ed07['questionId']));!_0x4fa5e9&&_0x13ed07['originalQuestionText']&&(_0x4fa5e9=_0x2ae6b7[_0x540a48(0xafb)][_0x540a48(0x692)](_0x26bc62=>(_0x26bc62[_0x540a48(0x3b4)]||_0x26bc62['questionText'])===_0x13ed07[_0x540a48(0x450)]));let _0x280ddd=![];if(_0x4fa5e9){const _0x28ae9a=_0x4fa5e9[_0x540a48(0xabf)]||_0x2ae6b7[_0x540a48(0xd7d)];switch(_0x28ae9a){case _0x540a48(0x84f):if(_0x4fa5e9['options']&&_0x4fa5e9[_0x540a48(0x37b)]<_0x4fa5e9[_0x540a48(0x578)][_0x540a48(0xb5d)]){const _0x1c351a=_0x4fa5e9[_0x540a48(0x578)][_0x4fa5e9[_0x540a48(0x37b)]];_0x280ddd=_0x13ed07['answerText']===_0x1c351a;}break;case _0x540a48(0xa12):const _0x12b13f=_0x13ed07[_0x540a48(0xc0d)]===!![]||_0x13ed07[_0x540a48(0xc0d)]==='true';_0x280ddd=_0x12b13f===_0x4fa5e9[_0x540a48(0x39b)];break;case _0x540a48(0xaa0):_0x280ddd=_0x13ed07[_0x540a48(0xc0d)]===_0x4fa5e9['correctResponse'];break;case _0x540a48(0xcb9):_0x280ddd=await gradeShortAnswer(_0x13ed07[_0x540a48(0xc0d)],_0x4fa5e9);break;default:_0x280ddd=_0x13ed07['isCorrect'];break;}}if(_0x280ddd){_0x28c7a2++,_0x23d3a9++;if(_0x23d3a9===0x3)_0x49c944[_0x540a48(0x632)](BADGES['ON_FIRE']['id']);}else _0x23d3a9=0x0;_0x4b57ce[_0x540a48(0x632)]({..._0x13ed07,'isCorrect':_0x280ddd});}let _0x29b33a=_0x28c7a2*0xa;_0x28c7a2===_0x2ae6b7[_0x540a48(0xafb)][_0x540a48(0xb5d)]&&(_0x29b33a+=0x32,_0x49c944[_0x540a48(0x632)](BADGES[_0x540a48(0x5ee)]['id'])),_0x273a9d[_0x540a48(0x632)]({..._0x32c607,'score':_0x28c7a2,'points':_0x29b33a,'badges':Array[_0x540a48(0x454)](new Set(_0x49c944)),'answers':_0x4b57ce});}const _0x2a0a37=_0x273a9d[_0x540a48(0xb5d)]>0x0?_0x273a9d[0x0][_0x540a48(0x9b7)]:0x0,_0xd0b599=Math[_0x540a48(0xc02)](..._0x273a9d[_0x540a48(0xaa7)](_0x328ce6=>_0x328ce6['score'])),_0x3ba3bb=_0x273a9d[_0x540a48(0xb5d)]>0x0?_0x273a9d[_0x273a9d[_0x540a48(0xb5d)]-0x1][_0x540a48(0x9b7)]:0x0,_0x22f7e4=_0x273a9d[_0x540a48(0xb5d)]>0x0?_0x273a9d[_0x273a9d[_0x540a48(0xb5d)]-0x1][_0x540a48(0x9c8)]:0x0,_0x51542=doc(db,_0x540a48(0x637)+appId+_0x540a48(0x595)+_0x2ae6b7['id']+_0x540a48(0xbbb),_0x4d209a);await updateDoc(_0x51542,{'attempts':_0x273a9d,'firstScore':_0x2a0a37,'bestScore':_0xd0b599,'latestScore':_0x3ba3bb,'points':_0x22f7e4});}function cleanupQuizOptions(_0xa60b6d){const _0x1c56ab=_0xe56031,_0x48c1f6=(_0x54da2a,_0x45220c)=>_0x45220c===0x0?_0x54da2a:_0x48c1f6(_0x45220c,_0x54da2a%_0x45220c),_0x5c2dc2=_0x3dc004=>{const _0x527882=_0x352e;if(typeof _0x3dc004!==_0x527882(0xa53))return null;_0x3dc004=_0x3dc004[_0x527882(0xd92)]();const _0x1dd2c1=_0x3dc004['split'](/[ /]/)['filter'](_0x215334=>_0x215334!=='');if(_0x1dd2c1[_0x527882(0xb5d)]===0x3)return parseInt(_0x1dd2c1[0x0])+parseInt(_0x1dd2c1[0x1])/parseInt(_0x1dd2c1[0x2]);else{if(_0x1dd2c1['length']===0x2)return parseInt(_0x1dd2c1[0x0])/parseInt(_0x1dd2c1[0x1]);else{if(_0x1dd2c1['length']===0x1&&!isNaN(_0x1dd2c1[0x0]))return parseFloat(_0x1dd2c1[0x0]);}}return null;},_0x2d16f8=_0x22e7e0=>{const _0x6fbd5f=_0x352e;if(typeof _0x22e7e0!==_0x6fbd5f(0xa53))return _0x22e7e0;const _0x3048be=_0x22e7e0[_0x6fbd5f(0x1bf)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x3048be){const _0x3f9fa1=parseInt(_0x3048be[0x1]);let _0x864d32=parseInt(_0x3048be[0x2]),_0x76e4e6=parseInt(_0x3048be[0x3]);const _0x1daf00=_0x48c1f6(_0x864d32,_0x76e4e6);_0x864d32/=_0x1daf00,_0x76e4e6/=_0x1daf00;if(_0x76e4e6===0x1)return(_0x3f9fa1+_0x864d32)[_0x6fbd5f(0xd2a)]();return _0x3f9fa1+'\x20'+_0x864d32+'/'+_0x76e4e6;}return _0x22e7e0;};return _0xa60b6d&&_0xa60b6d[_0x1c56ab(0xafb)]&&_0xa60b6d[_0x1c56ab(0xafb)][_0x1c56ab(0x215)](_0x1318d7=>{const _0x10dd14=_0x1c56ab;if(_0x1318d7[_0x10dd14(0xabf)]===_0x10dd14(0x84f)&&_0x1318d7[_0x10dd14(0x578)]){const _0x167364=new Map(),_0x4f6106=_0x1318d7['options'][_0x1318d7[_0x10dd14(0x37b)]];_0x1318d7['options']['forEach'](_0x44ab24=>{const _0x5509d9=_0x10dd14,_0x26f4cd=_0x2d16f8(_0x44ab24),_0x3eff42=_0x5c2dc2(_0x26f4cd);_0x3eff42!==null&&!_0x167364[_0x5509d9(0x8d2)](_0x3eff42)&&_0x167364[_0x5509d9(0xcf9)](_0x3eff42,_0x26f4cd);}),_0x1318d7['options']=Array['from'](_0x167364[_0x10dd14(0xa03)]());const _0x5240db=_0x1318d7[_0x10dd14(0x578)][_0x10dd14(0x8cc)](_0x57a17d=>_0x57a17d===_0x2d16f8(_0x4f6106));_0x1318d7[_0x10dd14(0x37b)]=_0x5240db!==-0x1?_0x5240db:0x0;}}),_0xa60b6d;}function showGameStartConfirmationModal(_0x31648d,_0x449ea3,_0x12ca2f){const _0x2059f3=_0xe56031,_0x214224=document[_0x2059f3(0x581)](_0x2059f3(0xd05));document[_0x2059f3(0x581)](_0x2059f3(0xbea))[_0x2059f3(0x25c)]=_0x2059f3(0xb76)+_0x12ca2f,document[_0x2059f3(0x581)](_0x2059f3(0x680))[_0x2059f3(0x9ef)]=_0x31648d,document['getElementById']('game-start-mode')[_0x2059f3(0x9ef)]=_0x449ea3,document['getElementById'](_0x2059f3(0x8d4))[_0x2059f3(0x1f1)]=!![];const _0x3cc87b=document[_0x2059f3(0x581)](_0x2059f3(0x289));_0x449ea3===_0x2059f3(0x568)?(_0x3cc87b[_0x2059f3(0x3f5)][_0x2059f3(0xbb6)](_0x2059f3(0xa91)),document[_0x2059f3(0xd4c)](_0x2059f3(0xd96))[_0x2059f3(0x1f1)]=!![]):_0x3cc87b['classList'][_0x2059f3(0xd54)]('hidden'),_0x214224[_0x2059f3(0x3f5)][_0x2059f3(0xbb6)](_0x2059f3(0xa91));}async function saveGameResultsAsSubmissions(_0x44cc3d){const _0x469fb4=_0xe56031;console['log'](_0x469fb4(0x5c9),_0x44cc3d);const _0x58cc86=_0x44cc3d[_0x469fb4(0x8b9)];let _0x521180=[];if(_0x44cc3d['players'])_0x521180=Object['entries'](_0x44cc3d[_0x469fb4(0xbaf)])[_0x469fb4(0xaa7)](([_0x1c5f4b,_0x4cf761])=>({'name':_0x1c5f4b,..._0x4cf761}));else{if(_0x44cc3d[_0x469fb4(0x1bd)])Object[_0x469fb4(0xa03)](_0x44cc3d[_0x469fb4(0x1bd)])['forEach'](_0xff8e78=>{const _0x38d97c=_0x469fb4;_0xff8e78['members'][_0x38d97c(0x215)](_0x23a618=>{const _0x47c45a=_0x38d97c;_0x521180['push']({'name':_0x23a618,'score':_0xff8e78[_0x47c45a(0x9b7)],'answers':_0xff8e78['answers']});});});else _0x44cc3d[_0x469fb4(0x323)]&&Object[_0x469fb4(0x71a)](_0x44cc3d[_0x469fb4(0x323)])['forEach'](([_0x432e7c,_0x377372])=>{const _0x32e135=_0x469fb4;_0x521180[_0x32e135(0x632)]({'name':_0x432e7c,..._0x377372});});}if(_0x521180[_0x469fb4(0xb5d)]===0x0){console[_0x469fb4(0xaef)]('No\x20player\x20data\x20to\x20save.');return;}const _0x5814f0=_0x44cc3d['shuffledQuiz']?.['questions'][_0x469fb4(0xb5d)]||currentQuizData[_0x469fb4(0xafb)][_0x469fb4(0xb5d)],_0x1cb845=writeBatch(db);for(const _0x229a48 of _0x521180){const _0x2357b3=doc(db,_0x469fb4(0x637)+appId+_0x469fb4(0x595)+_0x58cc86+'/submissions',_0x229a48[_0x469fb4(0xb95)]),_0x17cd30=(_0x229a48[_0x469fb4(0x7d8)]||[])[_0x469fb4(0x23d)](_0x539f3e=>_0x539f3e[_0x469fb4(0x783)])[_0x469fb4(0xb5d)];let _0x375842=_0x17cd30;_0x44cc3d[_0x469fb4(0x3cf)]&&_0x229a48[_0x469fb4(0x7d8)]&&_0x229a48[_0x469fb4(0x7d8)]['forEach'](_0x5bc84b=>{const _0xfd8b4e=_0x469fb4;if(_0x5bc84b[_0xfd8b4e(0x783)]&&(_0x5bc84b[_0xfd8b4e(0x9dc)]===!![]||_0x5bc84b[_0xfd8b4e(0x9dc)]===_0xfd8b4e(0xb9f)))_0x375842+=0x1;else!_0x5bc84b[_0xfd8b4e(0x783)]&&(_0x5bc84b[_0xfd8b4e(0x9dc)]===!![]||_0x5bc84b['wasConfident']===_0xfd8b4e(0xb9f))&&(_0x375842-=0x1);});_0x5814f0>0x0&&_0x17cd30===_0x5814f0&&(_0x375842+=0x1);const _0x371900={'score':_0x17cd30,'points':_0x375842,'badges':_0x229a48[_0x469fb4(0x688)]||[],'submittedAt':new Date()[_0x469fb4(0x73d)](),'answers':(_0x229a48[_0x469fb4(0x7d8)]||[])[_0x469fb4(0xaa7)](_0x3aaf1d=>({'questionId':_0x3aaf1d['questionId'],'answer':_0x3aaf1d['answer'],'answerText':_0x3aaf1d[_0x469fb4(0x9d6)],'isCorrect':_0x3aaf1d[_0x469fb4(0x783)],'originalQuestionText':_0x3aaf1d[_0x469fb4(0x450)],'wasConfident':_0x3aaf1d['wasConfident']}))},_0x309b20=await getDoc(_0x2357b3),_0x38c324=_0x309b20[_0x469fb4(0x437)]()?_0x309b20['data']():{},_0x2fad09=_0x38c324[_0x469fb4(0x58b)]||0x0,_0x356430=_0x38c324[_0x469fb4(0x23a)]||[],_0x5a1a30={'studentName':_0x229a48['name'],'totalQuestions':_0x5814f0,'attempts':arrayUnion(_0x371900),'latestScore':_0x17cd30,'points':_0x375842,'latestSubmittedAt':_0x371900[_0x469fb4(0xc7b)],'bestScore':Math[_0x469fb4(0xc02)](_0x2fad09,_0x17cd30),'firstScore':_0x356430[_0x469fb4(0xb5d)]===0x0?_0x17cd30:_0x38c324[_0x469fb4(0xc6d)]||0x0};_0x1cb845[_0x469fb4(0xcf9)](_0x2357b3,_0x5a1a30,{'merge':!![]});}try{await _0x1cb845[_0x469fb4(0x456)](),showMessage(_0x469fb4(0xa1c)+_0x521180[_0x469fb4(0xb5d)]+_0x469fb4(0xb6e));const _0x162375=_0x44cc3d['shuffledQuiz']?.['projectId']||currentQuizData?.['projectId']||currentProjectId;if(_0x162375){const _0x4f99fe=[...new Set(_0x521180[_0x469fb4(0xaa7)](_0xd57669=>_0xd57669[_0x469fb4(0xb95)]))];for(const _0x2a8c1f of _0x4f99fe){await updateStudentProfile(_0x162375,_0x2a8c1f);}}}catch(_0x560fce){console[_0x469fb4(0x90c)](_0x469fb4(0xb71),_0x560fce),showMessage('เกิดข้อผิดพลาดในการบันทึกผลจากเกม');}}async function saveQuiz(_0x100f9b=null,_0x223c4b=null){const _0x5251a=_0xe56031,_0x520369=_0x100f9b||currentProjectId;if(!_0x520369){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x5251a(0xafb)]||!userId){showMessage(_0x5251a(0x7f5));return;}const _0x1d4a5a=document[_0x5251a(0x581)](_0x5251a(0xba8));_0x1d4a5a[_0x5251a(0x5ba)]=!![],_0x1d4a5a['innerHTML']=_0x5251a(0x626);const _0x290522=document[_0x5251a(0x581)](_0x5251a(0x643))['checked'];let _0x175bd7=document[_0x5251a(0x581)](_0x5251a(0xac0))[_0x5251a(0x869)][_0x5251a(0xd92)]();_0x290522&&!_0x175bd7[_0x5251a(0xb63)](_0x5251a(0x52d))&&(_0x175bd7=_0x5251a(0xb65)+_0x175bd7);try{const _0x549cc9={'resultsDisplay':document[_0x5251a(0x581)]('results-display-select')[_0x5251a(0x9ef)],'shuffle':document[_0x5251a(0x581)](_0x5251a(0x4be))[_0x5251a(0x9ef)],'timerMode':document['getElementById'](_0x5251a(0x3fb))[_0x5251a(0x9ef)],'timerDuration':parseInt(document[_0x5251a(0x581)](_0x5251a(0xd2c))[_0x5251a(0x9ef)])||0xa,'passingScore':parseInt(document[_0x5251a(0x581)](_0x5251a(0xbaa))[_0x5251a(0x9ef)])||0x0,'isAdaptive':document[_0x5251a(0x581)](_0x5251a(0x868))['checked'],'loopUntilPass':document[_0x5251a(0x581)]('loop-until-pass-checkbox')[_0x5251a(0x1f1)]},_0x4f59c9=(currentQuizData['questions']||[])[_0x5251a(0xaa7)]((_0x41779b,_0xb837ff)=>{const _0x4d7145=_0x5251a,_0x1333a7=document[_0x4d7145(0x581)](_0x4d7145(0xbb5))['value'],_0x2deb92={'id':'q_'+Date[_0x4d7145(0x5bd)]()+'_'+_0xb837ff,'questionText':_0x41779b[_0x4d7145(0x562)]||'','explanation':_0x41779b['explanation']||_0x4d7145(0x1ab),'questionType':_0x41779b[_0x4d7145(0xabf)]||_0x1333a7,'imageCode':_0x41779b[_0x4d7145(0xa8e)]||null};return(_0x2deb92[_0x4d7145(0xabf)]===_0x4d7145(0x84f)||_0x2deb92[_0x4d7145(0xabf)]===_0x4d7145(0x6da)||_0x2deb92[_0x4d7145(0xabf)]===_0x4d7145(0x826)&&_0x41779b['options'])&&(_0x2deb92['options']=_0x41779b['options']||[],_0x2deb92['correctAnswerIndex']=_0x41779b['correctAnswerIndex']!==undefined?_0x41779b[_0x4d7145(0x37b)]:0x0),(_0x2deb92[_0x4d7145(0xabf)]==='short_answer'||_0x2deb92['questionType']===_0x4d7145(0x400)||_0x2deb92['questionType']===_0x4d7145(0x826)&&_0x41779b[_0x4d7145(0xbd6)])&&(_0x2deb92[_0x4d7145(0xbd6)]=_0x41779b['idealAnswer']||''),_0x2deb92[_0x4d7145(0xabf)]===_0x4d7145(0xa12)&&(_0x2deb92[_0x4d7145(0x39b)]=_0x41779b[_0x4d7145(0x39b)]===!![]),_0x2deb92[_0x4d7145(0xabf)]===_0x4d7145(0xaa0)&&(_0x2deb92[_0x4d7145(0x3b4)]=_0x41779b[_0x4d7145(0x3b4)]||'',_0x2deb92[_0x4d7145(0x37a)]=_0x41779b[_0x4d7145(0x37a)]||'',_0x2deb92['allResponses']=_0x41779b['allResponses']||[]),_0x2deb92;}),_0x3f0354={'topic':_0x175bd7,'quizType':currentQuizData[_0x5251a(0xd7d)]||_0x5251a(0x84f),'questions':_0x4f59c9,'projectId':_0x520369,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x5251a(0xd41),'settings':_0x549cc9,'quizMode':_0x290522?_0x5251a(0xce3):_0x5251a(0x3ea),'pairedQuizId':null,'lessonPlan':null};let _0x1e076f;while(!![]){_0x1e076f=Math['floor'](0x3e8+Math[_0x5251a(0x96f)]()*0x2328)[_0x5251a(0xd2a)]();const _0x4f2ab1=await getDoc(doc(db,_0x5251a(0x637)+appId+_0x5251a(0x6cd),_0x1e076f));if(!_0x4f2ab1['exists']())break;}await setDoc(doc(db,_0x5251a(0x637)+appId+_0x5251a(0x6cd),_0x1e076f),_0x3f0354);if(_0x223c4b&&currentBlueprintProjectId){console[_0x5251a(0xaef)](_0x5251a(0x605)+_0x1e076f+_0x5251a(0x74c)+_0x223c4b);try{const _0x12a6e6=doc(db,_0x5251a(0x637)+appId+_0x5251a(0x371),currentBlueprintProjectId);await updateDoc(_0x12a6e6,{[_0x5251a(0xb80)+_0x223c4b+_0x5251a(0x881)]:arrayUnion(_0x1e076f)});}catch(_0x929f8b){console[_0x5251a(0x90c)]('Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:',_0x929f8b);}}currentQuizData[_0x5251a(0xa9f)]=_0x549cc9,currentQuizData['id']=_0x1e076f;const _0x560815=document[_0x5251a(0x581)](_0x5251a(0x63d));_0x560815[_0x5251a(0x81c)]=_0x5251a(0x5ce)+_0x1e076f+_0x5251a(0x8c0),document[_0x5251a(0x581)](_0x5251a(0xc18))[_0x5251a(0x395)](_0x5251a(0xafd),()=>copyTextToClipboard(_0x1e076f,_0x5251a(0x806))),document[_0x5251a(0x581)](_0x5251a(0xbed))[_0x5251a(0x395)](_0x5251a(0xafd),()=>handleStartLiveRace(_0x1e076f)),document[_0x5251a(0x581)](_0x5251a(0x478))['addEventListener'](_0x5251a(0xafd),()=>startPresentation(currentQuizData)),document[_0x5251a(0x581)](_0x5251a(0x664))['addEventListener']('click',startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x22ffdd){console[_0x5251a(0x90c)](_0x5251a(0x8a1),_0x22ffdd),showMessage(_0x5251a(0x725));}finally{_0x1d4a5a[_0x5251a(0x5ba)]=![],_0x1d4a5a[_0x5251a(0x81c)]=_0x5251a(0x1f4);}}function promptForProjectAndSave(){const _0x29e9c6=_0xe56031,_0x54d9ab=document['getElementById'](_0x29e9c6(0x969)),_0x3be041=document[_0x29e9c6(0x581)]('move-quiz-project-select'),_0x31878c=_0x54d9ab['querySelector']('h3'),_0x26fbfd=document[_0x29e9c6(0x581)](_0x29e9c6(0xcd9));_0x31878c['textContent']=_0x29e9c6(0xd6b),_0x26fbfd[_0x29e9c6(0x25c)]=_0x29e9c6(0x612);allProjects[_0x29e9c6(0xb5d)]===0x0?(_0x3be041['innerHTML']=_0x29e9c6(0x641),_0x26fbfd[_0x29e9c6(0x5ba)]=!![]):(_0x3be041['innerHTML']=allProjects[_0x29e9c6(0xaa7)](_0x24c359=>_0x29e9c6(0x55d)+_0x24c359['id']+'\x22>'+_0x24c359[_0x29e9c6(0xb3f)]+'</option>')[_0x29e9c6(0x51a)](''),_0x26fbfd[_0x29e9c6(0x5ba)]=![]);_0x54d9ab[_0x29e9c6(0x3f5)][_0x29e9c6(0xbb6)](_0x29e9c6(0xa91));const _0x2335e4=()=>{const _0x35b114=_0x29e9c6,_0x1465b1=_0x3be041[_0x35b114(0x9ef)];_0x1465b1?(currentProjectId=_0x1465b1,_0x54d9ab['classList'][_0x35b114(0xd54)](_0x35b114(0xa91)),saveQuiz(),_0x31878c['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x26fbfd[_0x35b114(0x25c)]=_0x35b114(0x7df),_0x26fbfd[_0x35b114(0xb89)](_0x35b114(0xafd),_0x2335e4),_0x26fbfd[_0x35b114(0x395)](_0x35b114(0xafd),confirmMoveQuiz)):showMessage(_0x35b114(0x7f1));};_0x26fbfd[_0x29e9c6(0xb89)](_0x29e9c6(0xafd),confirmMoveQuiz),_0x26fbfd[_0x29e9c6(0x395)]('click',_0x2335e4);}function copyTextToClipboard(_0x14669f,_0x18a103){const _0x5c5200=_0xe56031,_0x25fc78=document[_0x5c5200(0x4e3)](_0x5c5200(0x642));_0x25fc78['value']=_0x14669f,_0x25fc78[_0x5c5200(0x9fb)][_0x5c5200(0xa7e)]=_0x5c5200(0xb02),_0x25fc78[_0x5c5200(0x9fb)][_0x5c5200(0x8a0)]='0',document[_0x5c5200(0xc49)][_0x5c5200(0xb81)](_0x25fc78),_0x25fc78[_0x5c5200(0x33d)](),_0x25fc78[_0x5c5200(0xc79)]();try{const _0x44a796=document[_0x5c5200(0x4f8)](_0x5c5200(0x810));showMessage(_0x44a796?_0x18a103:_0x5c5200(0x5d5));}catch(_0x1833a5){showMessage('คัดลอกไม่สำเร็จ'),console[_0x5c5200(0x90c)](_0x5c5200(0xa96),_0x1833a5);}document[_0x5c5200(0xc49)][_0x5c5200(0x574)](_0x25fc78);}function listenForProjectQuizzes(_0x2809b2){const _0x2be2c9=_0xe56031,_0x368a31=collection(db,_0x2be2c9(0x637)+appId+_0x2be2c9(0x6cd)),_0x14615d=query(_0x368a31,where(_0x2be2c9(0x971),'==',_0x2809b2));unsubscribeQuizzesListener=onSnapshot(_0x14615d,async _0x2ef3a0=>{const _0x5c7d2b=_0x2be2c9;allQuizzes=_0x2ef3a0[_0x5c7d2b(0x3b1)][_0x5c7d2b(0xaa7)](_0x526467=>({'id':_0x526467['id'],..._0x526467[_0x5c7d2b(0x610)]()})),renderQuizzes();},_0xc7a17d=>{const _0x2a966c=_0x2be2c9;console[_0x2a966c(0x90c)]('Error\x20fetching\x20project\x20quizzes:',_0xc7a17d),document['getElementById'](_0x2a966c(0xa6e))['innerHTML']=_0x2a966c(0x677);});}async function renderQuizzes(){const _0x5cf177=_0xe56031,_0x20381c=document[_0x5cf177(0x581)]('project-quizzes-list'),_0x41afc7=document[_0x5cf177(0x581)](_0x5cf177(0x1e9))[_0x5cf177(0x9ef)][_0x5cf177(0x7e9)]();let _0x4bbe8d;currentProjectId===_0x5cf177(0x4dd)?_0x4bbe8d=starredQuizzes:_0x4bbe8d=allQuizzes;let _0x1f9365=_0x4bbe8d[_0x5cf177(0x23d)](_0x164ab3=>_0x164ab3[_0x5cf177(0x5c5)][_0x5cf177(0x7e9)]()[_0x5cf177(0x6f7)](_0x41afc7));_0x1f9365[_0x5cf177(0x57f)]((_0x5686e8,_0x37a89e)=>new Date(_0x37a89e[_0x5cf177(0x6f8)])-new Date(_0x5686e8[_0x5cf177(0x6f8)]));if(_0x1f9365[_0x5cf177(0xb5d)]===0x0){_0x20381c['innerHTML']=_0x5cf177(0x332);return;}const _0x5747b0={},_0x51f108=_0x1f9365[_0x5cf177(0xaa7)](async _0x5986fe=>{const _0x5b458b=_0x5cf177,_0x687c24=collection(db,_0x5b458b(0x637)+appId+_0x5b458b(0x595)+_0x5986fe['id']+_0x5b458b(0xbbb)),_0x419ec4=await getDocs(_0x687c24);_0x5747b0[_0x5986fe['id']]=_0x419ec4[_0x5b458b(0x1ac)];});await Promise['all'](_0x51f108);let _0x53bf4d='';_0x1f9365['forEach'](_0x3ae3f6=>{const _0x27ea6d=_0x5cf177,_0x3d5057=_0x5747b0[_0x3ae3f6['id']]||0x0,_0x634845=_0x3ae3f6['status']||_0x27ea6d(0xd41),_0x4ba5ab=_0x3ae3f6[_0x27ea6d(0xa9f)]?.[_0x27ea6d(0x2cb)]||_0x27ea6d(0xbf7);let _0x3dd128='',_0x150812='';const _0x3b1c68=new Date();let _0x21a9d6=_0x634845;if(_0x634845===_0x27ea6d(0x34d)){const _0x3f4af8=_0x3ae3f6[_0x27ea6d(0x227)]?new Date(_0x3ae3f6[_0x27ea6d(0x227)]):null,_0x3fdd89=_0x3ae3f6[_0x27ea6d(0xbbd)]?new Date(_0x3ae3f6[_0x27ea6d(0xbbd)]):null;if(_0x3fdd89&&_0x3b1c68>_0x3fdd89)_0x21a9d6=_0x27ea6d(0x7bf);else _0x3f4af8&&_0x3b1c68<_0x3f4af8?_0x21a9d6=_0x27ea6d(0xd72):_0x21a9d6=_0x27ea6d(0xd41);}switch(_0x21a9d6){case _0x27ea6d(0x7bf):_0x3dd128=_0x27ea6d(0xc76),_0x150812=_0x27ea6d(0x92b);break;case _0x27ea6d(0xd72):_0x3dd128=_0x27ea6d(0x7ea),_0x150812=_0x27ea6d(0xbe5);break;case _0x27ea6d(0xd41):_0x3dd128=_0x4ba5ab!=='none'?_0x27ea6d(0x9a3):_0x27ea6d(0x861),_0x150812=_0x27ea6d(0x7ef);break;default:_0x3dd128='ตั้งเวลา\x20(เปิด)',_0x150812=_0x27ea6d(0x7ef);break;}let _0x5ca19f='';const _0x3f2779={'day':_0x27ea6d(0xa5b),'month':_0x27ea6d(0xa5b),'year':_0x27ea6d(0x915),'hour':_0x27ea6d(0xa5b),'minute':_0x27ea6d(0xa5b),'hour12':![]};if(_0x634845===_0x27ea6d(0x34d)){if(_0x3ae3f6[_0x27ea6d(0x227)])_0x5ca19f+=_0x27ea6d(0x2fe)+new Date(_0x3ae3f6['startTime'])[_0x27ea6d(0x647)]('th-TH',_0x3f2779)+_0x27ea6d(0x195);if(_0x3ae3f6[_0x27ea6d(0xbbd)])_0x5ca19f+=_0x27ea6d(0x77b)+new Date(_0x3ae3f6['endTime'])['toLocaleString'](_0x27ea6d(0x763),_0x3f2779)+_0x27ea6d(0x195);}let _0x52046f='';if(_0x3ae3f6[_0x27ea6d(0x229)]){const _0x5ba918=allQuizzes[_0x27ea6d(0x692)](_0x20c002=>_0x20c002['id']===_0x3ae3f6[_0x27ea6d(0x229)]);if(_0x5ba918){let _0x3bfbc2,_0x202324;new Date(_0x3ae3f6[_0x27ea6d(0x6f8)])<new Date(_0x5ba918[_0x27ea6d(0x6f8)])?(_0x3bfbc2=_0x3ae3f6['id'],_0x202324=_0x5ba918['id']):(_0x3bfbc2=_0x5ba918['id'],_0x202324=_0x3ae3f6['id']),_0x52046f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x202324+_0x27ea6d(0x85f)+_0x3bfbc2+_0x27ea6d(0x62c);}}else _0x3ae3f6[_0x27ea6d(0x5d3)]===_0x27ea6d(0xce3)&&(_0x52046f+=_0x27ea6d(0xb52)+_0x3ae3f6['id']+_0x27ea6d(0x2bd));if(_0x3ae3f6[_0x27ea6d(0x5d3)]==='pre-test'&&_0x3d5057>0x0)_0x52046f+=_0x27ea6d(0xb52)+_0x3ae3f6['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0x3ae3f6['pairedQuizId']&&_0x3ae3f6[_0x27ea6d(0x5d3)]!=='pre-test'&&_0x3d5057>0x0&&(_0x52046f+=_0x27ea6d(0xb52)+_0x3ae3f6['id']+_0x27ea6d(0x5f2));let _0x5cb88a='';_0x3ae3f6[_0x27ea6d(0x229)]?_0x5cb88a=_0x27ea6d(0xae3)+_0x3ae3f6['id']+_0x27ea6d(0x594):_0x5cb88a='<button\x20data-quiz-id=\x22'+_0x3ae3f6['id']+_0x27ea6d(0x199),_0x53bf4d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x3ae3f6['id']+_0x27ea6d(0xabc)+_0x3ae3f6['topic']+_0x27ea6d(0x665)+_0x3ae3f6['questions'][_0x27ea6d(0xb5d)]+_0x27ea6d(0x307)+new Date(_0x3ae3f6[_0x27ea6d(0x6f8)])[_0x27ea6d(0x647)](_0x27ea6d(0x763))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x3d5057+_0x27ea6d(0x602)+_0x5ca19f+_0x27ea6d(0x9d3)+_0x150812+'\x22>'+_0x3dd128+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3ae3f6['id']+_0x27ea6d(0xd56)+_0x3ae3f6['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x3ae3f6[_0x27ea6d(0x60b)]?_0x27ea6d(0x5b1):_0x27ea6d(0xcb4))+_0x27ea6d(0x21f)+_0x52046f+_0x27ea6d(0x8be)+_0x3ae3f6['id']+_0x27ea6d(0x9c4)+_0x3ae3f6['id']+_0x27ea6d(0x4ea)+_0x3ae3f6['id']+_0x27ea6d(0x683)+_0x3ae3f6['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3ae3f6['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3ae3f6['id']+_0x27ea6d(0x1f0)+_0x3ae3f6['id']+'\x22\x20data-topic=\x22'+_0x3ae3f6[_0x27ea6d(0x5c5)]+_0x27ea6d(0x565)+_0x3ae3f6['id']+_0x27ea6d(0x2bb)+_0x3ae3f6['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5cb88a+_0x27ea6d(0x1f3)+_0x3ae3f6['id']+_0x27ea6d(0x469)+_0x3ae3f6['id']+_0x27ea6d(0x70d)+_0x3ae3f6['id']+_0x27ea6d(0xd03)+_0x3ae3f6['id']+_0x27ea6d(0x83f)+_0x3ae3f6['id']+_0x27ea6d(0x58c)+_0x3ae3f6['id']+_0x27ea6d(0x3c4)+_0x3ae3f6['id']+_0x27ea6d(0xb69)+_0x3ae3f6['id']+_0x27ea6d(0x634)+_0x3ae3f6[_0x27ea6d(0x5c5)]+_0x27ea6d(0x266)+_0x3ae3f6['id']+_0x27ea6d(0x213);}),_0x20381c[_0x5cf177(0x81c)]=_0x53bf4d,document[_0x5cf177(0x30c)]('.quiz-result-card')[_0x5cf177(0x215)](_0x4f8d04=>{const _0xca6e20=_0x5cf177;_0x4f8d04[_0xca6e20(0x395)](_0xca6e20(0xafd),()=>{const _0x28d9d9=_0xca6e20,_0x13641a=_0x4f8d04['dataset'][_0x28d9d9(0x8b9)];showQuizDetailView(_0x13641a);});});}async function handleUnpairQuiz(_0x102b1a){const _0x11380e=_0xe56031,_0x59c143=allQuizzes[_0x11380e(0x692)](_0x7afd3d=>_0x7afd3d['id']===_0x102b1a);if(!_0x59c143||!_0x59c143[_0x11380e(0x229)]){showMessage(_0x11380e(0x9d4));return;}showConfirmation(_0x11380e(0xbc9),async()=>{const _0x43b359=_0x11380e;try{const _0x2b74a5=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x102b1a),_0x1162ef=doc(db,_0x43b359(0x637)+appId+_0x43b359(0x6cd),_0x59c143[_0x43b359(0x229)]),_0x3852d5=writeBatch(db);_0x3852d5[_0x43b359(0x77d)](_0x2b74a5,{'pairedQuizId':null}),_0x3852d5[_0x43b359(0x77d)](_0x1162ef,{'pairedQuizId':null}),await _0x3852d5[_0x43b359(0x456)](),showMessage(_0x43b359(0x1bc));}catch(_0x217e86){console[_0x43b359(0x90c)](_0x43b359(0xc77),_0x217e86),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x30eebb,_0x1ac308){const _0x5a6e83=_0xe56031,_0x652613=window['open']('','_blank'),_0x41ee69=_0x5a6e83(0x576)+_0x1ac308[_0x5a6e83(0x5c5)]+_0x5a6e83(0x335)+_0x1ac308[_0x5a6e83(0x5c5)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x30eebb[_0x5a6e83(0x7d5)]['map'](_0x3c50dc=>_0x5a6e83(0x35d)+_0x3c50dc+_0x5a6e83(0x68a))[_0x5a6e83(0x51a)]('')+_0x5a6e83(0x1e4)+_0x30eebb['teachingContent']+_0x5a6e83(0x91d)+_0x30eebb[_0x5a6e83(0x2da)][_0x5a6e83(0xaa7)](_0x480c9f=>_0x5a6e83(0x2a6)+_0x480c9f[_0x5a6e83(0x2c3)]+_0x5a6e83(0x7ac)+_0x480c9f['solution']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5a6e83(0x51a)]('')+_0x5a6e83(0x1eb);_0x652613['document']['write'](_0x41ee69),_0x652613[_0x5a6e83(0x54b)][_0x5a6e83(0x784)](),_0x652613[_0x5a6e83(0xad2)]=function(){setTimeout(()=>{const _0x4fc163=_0x352e;_0x652613[_0x4fc163(0xd5d)]();},0x3e8);};}async function handleAiFixFormula(_0x2d3645){const _0x687351=_0xe56031,_0x2cb6fa=document[_0x687351(0xd4c)](_0x687351(0x876)+_0x2d3645+'\x22]');if(!_0x2cb6fa)return;const _0x2ce07c=_0x2cb6fa[_0x687351(0xada)][_0x687351(0xd45)],_0xa7d892=_0x2cb6fa['querySelector']('.ai-fix-formula-btn');let _0x45c654={'question':_0x2cb6fa[_0x687351(0xd4c)](_0x687351(0x642))[_0x687351(0x9ef)]};switch(_0x2ce07c){case _0x687351(0x84f):_0x45c654['options']=Array[_0x687351(0x454)](_0x2cb6fa['querySelectorAll'](_0x687351(0x270)))[_0x687351(0xaa7)](_0x2765d5=>_0x2765d5[_0x687351(0x9ef)]);break;case'short_answer':_0x45c654[_0x687351(0xbd6)]=_0x2cb6fa['querySelector'](_0x687351(0x202))[_0x687351(0x9ef)];break;case _0x687351(0xaa0):_0x45c654[_0x687351(0x37a)]=_0x2cb6fa[_0x687351(0xd4c)](_0x687351(0x3bb))[_0x687351(0x9ef)];break;}_0xa7d892['innerHTML']=_0x687351(0x49a),_0xa7d892['disabled']=!![];try{const _0x59db28=_0x687351(0x27b)+JSON[_0x687351(0x35f)](_0x45c654)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x57fdf0={'type':_0x687351(0x965),'properties':{'fixedData':{'type':_0x687351(0x965),'properties':{'question':{'type':_0x687351(0xa75)},'options':{'type':_0x687351(0xca9),'items':{'type':'STRING'}},'idealAnswer':{'type':_0x687351(0xa75)},'correctResponse':{'type':_0x687351(0xa75)}},'required':[_0x687351(0x2c3)]}},'required':[_0x687351(0x39f)]},_0x5a6349=await callAnalysisApi(_0x59db28,_0x57fdf0);if(_0x5a6349&&_0x5a6349[_0x687351(0x39f)]){const _0x50aac3=_0x5a6349['fixedData'];_0x2cb6fa[_0x687351(0xd4c)](_0x687351(0x642))[_0x687351(0x9ef)]=_0x50aac3[_0x687351(0x2c3)]||_0x45c654[_0x687351(0x2c3)];switch(_0x2ce07c){case _0x687351(0x84f):_0x50aac3[_0x687351(0x578)]&&_0x50aac3[_0x687351(0x578)][_0x687351(0xb5d)]>0x0&&_0x2cb6fa[_0x687351(0x30c)](_0x687351(0x270))[_0x687351(0x215)]((_0x208841,_0x546769)=>{const _0x56b77d=_0x687351;_0x208841[_0x56b77d(0x9ef)]=_0x50aac3['options'][_0x546769]||_0x45c654[_0x56b77d(0x578)][_0x546769];});break;case _0x687351(0xcb9):_0x2cb6fa['querySelector'](_0x687351(0x202))[_0x687351(0x9ef)]=_0x50aac3[_0x687351(0xbd6)]||_0x45c654[_0x687351(0xbd6)];break;case _0x687351(0xaa0):_0x2cb6fa[_0x687351(0xd4c)](_0x687351(0x3bb))['value']=_0x50aac3[_0x687351(0x37a)]||_0x45c654[_0x687351(0x37a)];break;}if(_0x45c654['question']!==_0x50aac3['question'])try{const _0x3d66c8=collection(db,_0x687351(0x637)+appId+'/public/data/learnedFixes');await addDoc(_0x3d66c8,{'broken':_0x45c654[_0x687351(0x2c3)],'fixed':_0x50aac3[_0x687351(0x2c3)],'createdAt':serverTimestamp()});}catch(_0x16d248){console[_0x687351(0x90c)]('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x16d248);}showMessage(_0x687351(0x731));}else throw new Error(_0x687351(0x29c));}catch(_0x4f8815){console[_0x687351(0x90c)](_0x687351(0x2d8),_0x4f8815),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0xa7d892[_0x687351(0x81c)]=_0x687351(0x1cc),_0xa7d892['disabled']=![];}}async function handleGenerateLessonPlan(_0xc197d3){const _0x1def2e=_0xe56031;showMessage(_0x1def2e(0xd46));try{const _0x51c180=doc(db,'artifacts/'+appId+_0x1def2e(0x6cd),_0xc197d3),_0x23771d=await getDoc(_0x51c180);if(!_0x23771d[_0x1def2e(0x437)]())throw new Error(_0x1def2e(0x6d6));const _0xa00d4d={'id':_0xc197d3,..._0x23771d[_0x1def2e(0x610)]()},_0x19406c=collection(db,_0x1def2e(0x637)+appId+_0x1def2e(0x6cd),_0xc197d3,_0x1def2e(0x94c)),_0x8d9039=await getDocs(_0x19406c),_0x284b6a=_0x8d9039[_0x1def2e(0x3b1)][_0x1def2e(0xaa7)](_0x5be2bf=>_0x5be2bf[_0x1def2e(0x610)]());if(_0x284b6a[_0x1def2e(0xb5d)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x35eddb=calculateItemAnalysis(_0xa00d4d,_0x284b6a)[_0x1def2e(0x8ae)],_0x397c95=calculateDistractorAnalysis(_0xa00d4d,_0x284b6a),_0x1cc444=_0x3b2cc1=>{const _0x4a67f5=_0x1def2e;if(!_0x3b2cc1)return'';return _0x3b2cc1[_0x4a67f5(0xbfd)](/\\/g,'\x5c\x5c')[_0x4a67f5(0xbfd)](/"/g,'\x5c\x22')[_0x4a67f5(0xbfd)](/\n/g,'\x5cn');};let _0x80e7a0=_0x1def2e(0xa71);_0xa00d4d[_0x1def2e(0xafb)][_0x1def2e(0x215)]((_0x184d4f,_0xf2cdea)=>{const _0xdedc59=_0x1def2e,_0x13dfe4=_0x35eddb[_0xf2cdea]?.['p'][_0xdedc59(0x72d)](0x2)||_0xdedc59(0x728),_0x639a86=_0x35eddb[_0xf2cdea]?.['r']['toFixed'](0x2)||'N/A',_0xa0ae52=_0x1cc444(_0x184d4f[_0xdedc59(0x562)]||_0x184d4f[_0xdedc59(0x3b4)]);_0x80e7a0+=_0xdedc59(0x551)+(_0xf2cdea+0x1)+_0xdedc59(0xcfe)+_0x13dfe4+_0xdedc59(0x771)+_0x639a86+_0xdedc59(0x4f2)+_0xa0ae52+'\x5cn';if(_0x184d4f[_0xdedc59(0xabf)]==='multiple_choice'&&_0x397c95[_0xf2cdea]){const _0x3b37b9=_0x397c95[_0xf2cdea],_0x2b697e=Object[_0xdedc59(0x9d8)](_0x3b37b9)[_0xdedc59(0x23d)](_0x39257c=>parseInt(_0x39257c)!==_0x184d4f[_0xdedc59(0x37b)])['sort']((_0x5b0e14,_0x5f00af)=>_0x3b37b9[_0x5f00af][_0xdedc59(0x192)]-_0x3b37b9[_0x5b0e14][_0xdedc59(0x192)])[0x0];if(_0x2b697e&&_0x3b37b9[_0x2b697e][_0xdedc59(0x192)]>0x0){const _0x1e25c4=_0x1cc444(_0x3b37b9[_0x2b697e]['text']);_0x80e7a0+=_0xdedc59(0x8bf)+_0x1e25c4+_0xdedc59(0x5ad);}}});const _0x33a9d2=_0x1def2e(0x5e4)+_0xa00d4d['topic']+_0x1def2e(0x9df)+_0x80e7a0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x125815={'type':_0x1def2e(0x965),'properties':{'learningGaps':{'type':_0x1def2e(0xca9),'items':{'type':_0x1def2e(0xa75)}},'teachingContent':{'type':_0x1def2e(0xa75)},'practiceProblems':{'type':_0x1def2e(0xca9),'items':{'type':_0x1def2e(0x965),'properties':{'question':{'type':_0x1def2e(0xa75)},'solution':{'type':_0x1def2e(0xa75)}}}}},'required':['learningGaps',_0x1def2e(0xc88),_0x1def2e(0x2da)]},_0x4a7be5=await callAnalysisApi(_0x33a9d2,_0x125815);await updateDoc(_0x51c180,{'lessonPlan':_0x4a7be5});const _0x20a100=_0x1def2e(0x953)+_0xa00d4d['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x4a7be5[_0x1def2e(0x7d5)]['map'](_0x598513=>_0x1def2e(0x35d)+_0x598513+_0x1def2e(0x68a))['join']('')+_0x1def2e(0x8c3)+_0x4a7be5[_0x1def2e(0xc88)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x4a7be5['practiceProblems'][_0x1def2e(0xaa7)](_0x25faa7=>_0x1def2e(0x9e2)+_0x25faa7['question']+_0x1def2e(0xafa)+_0x25faa7[_0x1def2e(0x8f1)]+'</p></div>')[_0x1def2e(0x51a)]('')+_0x1def2e(0xc35);document['getElementById']('lesson-plan-title')[_0x1def2e(0x25c)]=_0x1def2e(0x815)+_0xa00d4d[_0x1def2e(0x5c5)],document[_0x1def2e(0x581)](_0x1def2e(0xc92))[_0x1def2e(0x81c)]=_0x20a100,document[_0x1def2e(0x581)](_0x1def2e(0x5b6))['classList'][_0x1def2e(0xbb6)](_0x1def2e(0xa91));if(window[_0x1def2e(0x609)])MathJax[_0x1def2e(0x461)]();messageModal[_0x1def2e(0x3f5)][_0x1def2e(0xd54)]('hidden');}catch(_0xcfdc61){console[_0x1def2e(0x90c)]('Error\x20generating\x20lesson\x20plan:',_0xcfdc61),showMessage('เกิดข้อผิดพลาด:\x20'+_0xcfdc61[_0x1def2e(0x76b)]);}}async function handleDuplicateQuiz(_0x152561){const _0x3a28c2=_0xe56031;try{const _0x35c71b=doc(db,_0x3a28c2(0x637)+appId+_0x3a28c2(0x6cd),_0x152561),_0x1776be=await getDoc(_0x35c71b);if(_0x1776be[_0x3a28c2(0x437)]()){const _0x1216d6=_0x1776be[_0x3a28c2(0x610)]();let _0x189362='',_0x478584=_0x3a28c2(0x3ea),_0x3ffb03=null;if(_0x1216d6[_0x3a28c2(0x5d3)]===_0x3a28c2(0xce3)){let _0xc14a1d=_0x1216d6[_0x3a28c2(0x5c5)][_0x3a28c2(0xbfd)](_0x3a28c2(0x52d),'')[_0x3a28c2(0xd92)]();_0x189362=_0x3a28c2(0xa34)+_0xc14a1d,_0x478584=_0x3a28c2(0x8f5),_0x3ffb03=_0x152561;}else _0x189362=_0x3a28c2(0x4aa)+_0x1216d6[_0x3a28c2(0x5c5)];const _0x112d8b={..._0x1216d6,'topic':_0x189362,'createdAt':new Date()[_0x3a28c2(0x73d)](),'quizMode':_0x478584,'pairedQuizId':_0x3ffb03};let _0x5aad50;while(!![]){_0x5aad50=Math['floor'](0x3e8+Math[_0x3a28c2(0x96f)]()*0x2328)[_0x3a28c2(0xd2a)]();const _0x1d29ea=await getDoc(doc(db,_0x3a28c2(0x637)+appId+'/public/data/quizzes',_0x5aad50));if(!_0x1d29ea[_0x3a28c2(0x437)]())break;}const _0x1bd2eb=doc(db,_0x3a28c2(0x637)+appId+'/public/data/quizzes',_0x5aad50);await setDoc(_0x1bd2eb,_0x112d8b),_0x112d8b[_0x3a28c2(0x5d3)]==='post-test'&&await updateDoc(_0x35c71b,{'pairedQuizId':_0x5aad50}),showMessage(_0x3a28c2(0x24f));}else throw new Error(_0x3a28c2(0xb2e));}catch(_0x4f217e){console['error'](_0x3a28c2(0x8fa),_0x4f217e),showMessage(_0x3a28c2(0x8db));}}async function handleDeleteQuiz(_0x195ee6,_0x5b16aa=!![]){const _0x4282fa=_0xe56031;try{const _0x3aedb3=writeBatch(db),_0xf6601c=collection(db,_0x4282fa(0x637)+appId+_0x4282fa(0x595)+_0x195ee6+_0x4282fa(0xbbb)),_0x33a8d5=await getDocs(_0xf6601c);_0x33a8d5[_0x4282fa(0x215)](_0x269dc6=>{_0x3aedb3['delete'](doc(_0xf6601c,_0x269dc6['id']));});const _0x161e9a=doc(db,_0x4282fa(0x637)+appId+_0x4282fa(0x6cd),_0x195ee6);_0x3aedb3[_0x4282fa(0x65a)](_0x161e9a),await _0x3aedb3['commit']();try{console[_0x4282fa(0xaef)](_0x4282fa(0x8f8)+_0x195ee6+'\x20in\x20all\x20blueprint\x20projects.');const _0x1d99a3=collection(db,_0x4282fa(0x637)+appId+_0x4282fa(0x371)),_0x5e0d46=await getDocs(_0x1d99a3),_0x4911f2=[];_0x5e0d46['forEach'](_0x4fbc39=>{const _0x2b2add=_0x4282fa,_0x574a58=_0x4fbc39[_0x2b2add(0x610)](),_0x1af803=_0x574a58['topics']||{};let _0x2b4858=![];for(const _0x2a9efd in _0x1af803){const _0x1a86ea=_0x1af803[_0x2a9efd];if(_0x1a86ea[_0x2b2add(0x501)]&&_0x1a86ea[_0x2b2add(0x501)][_0x2b2add(0x6f7)](_0x195ee6)){_0x2b4858=!![];const _0x157cb2=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',_0x4fbc39['id']),_0x4571e4=updateDoc(_0x157cb2,{[_0x2b2add(0xb80)+_0x2a9efd+_0x2b2add(0x881)]:arrayRemove(_0x195ee6)});_0x4911f2[_0x2b2add(0x632)](_0x4571e4);}}}),_0x4911f2[_0x4282fa(0xb5d)]>0x0&&(await Promise[_0x4282fa(0x5bf)](_0x4911f2),console[_0x4282fa(0xaef)]('Successfully\x20removed\x20'+_0x4911f2[_0x4282fa(0xb5d)]+_0x4282fa(0xd8c)+_0x195ee6+'.'));}catch(_0x14dba3){console[_0x4282fa(0x90c)](_0x4282fa(0x71b),_0x14dba3);}_0x5b16aa&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x1ddf54){console['error'](_0x4282fa(0xcd2),_0x1ddf54),_0x5b16aa&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x5be41f){const _0x18f39a=_0xe56031;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x18f39a(0x618));try{const _0x323e62=doc(db,'artifacts/'+appId+_0x18f39a(0x6cd),_0x5be41f),_0x1d43cb=await getDoc(_0x323e62);if(!_0x1d43cb[_0x18f39a(0x437)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0x2836f4={'id':_0x1d43cb['id'],..._0x1d43cb[_0x18f39a(0x610)]()};currentQuizData=_0x2836f4;const _0x49634c=doc(db,_0x18f39a(0x637)+appId+_0x18f39a(0x7fe),_0x2836f4[_0x18f39a(0x971)]),_0x3440f2=await getDoc(_0x49634c);_0x3440f2[_0x18f39a(0x437)]()?(currentProjectData=_0x3440f2[_0x18f39a(0x610)](),currentProjectId=_0x2836f4['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x2836f4['projectId']);document[_0x18f39a(0x581)](_0x18f39a(0xd0e))[_0x18f39a(0x25c)]=_0x2836f4[_0x18f39a(0x5c5)],document['getElementById'](_0x18f39a(0x932))[_0x18f39a(0x25c)]=_0x5be41f;const _0x3e44fc=collection(db,'artifacts/'+appId+_0x18f39a(0x6cd),_0x5be41f,_0x18f39a(0x94c));unsubscribeSubmissionsListener=onSnapshot(_0x3e44fc,_0x4c5370=>{const _0x364482=_0x18f39a,_0x365612=_0x4c5370[_0x364482(0x3b1)][_0x364482(0xaa7)](_0x2618cc=>({'id':_0x2618cc['id'],..._0x2618cc[_0x364482(0x610)]()}));currentSubmissions=_0x365612;const _0x333c07=_0x365612[_0x364482(0x23d)](_0x238ee5=>_0x238ee5[_0x364482(0x23a)]&&_0x238ee5[_0x364482(0x23a)][_0x364482(0xb5d)]>0x0);renderBehaviorLog(_0x365612),renderAnswerGrid(currentProjectData[_0x364482(0x4c2)],_0x333c07,_0x2836f4),renderAnalytics(_0x2836f4,_0x333c07),renderQuizResultsTable(currentProjectData[_0x364482(0x4c2)],_0x365612,_0x2836f4),renderQuizLeaderboard(_0x333c07,_0x2836f4,_0x364482(0x7e7));}),showView(_0x18f39a(0x84a));}catch(_0x38c1ad){console[_0x18f39a(0x90c)](_0x18f39a(0x891),_0x38c1ad),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x48c19e,_0x5bae02,_0x45a0a8){const _0x3e70e3=_0xe56031,_0x35c0bd=document[_0x3e70e3(0x581)](_0x3e70e3(0x37c));if(!_0x35c0bd)return;if(!_0x48c19e||_0x48c19e['length']===0x0){_0x35c0bd[_0x3e70e3(0x81c)]=_0x3e70e3(0x22c);return;}const _0x50d5ab=_0x45a0a8[_0x3e70e3(0xafb)],_0x44d640=_0x5bae02['reduce']((_0x577c57,_0x4ea23a)=>{const _0x2add6a=_0x3e70e3;return _0x577c57[_0x4ea23a[_0x2add6a(0x63c)]]=_0x4ea23a,_0x577c57;},{}),_0x14495f=_0x2d59e4=>String[_0x3e70e3(0x91f)](0x41+_0x2d59e4),_0x4ef38d=_0x4f8f33=>{const _0x4a69f6=_0x3e70e3,_0x46d9e0=_0x4f8f33[_0x4a69f6(0xabf)]||_0x45a0a8['quizType'];switch(_0x46d9e0){case _0x4a69f6(0x84f):return _0x4f8f33[_0x4a69f6(0x578)]&&_0x4f8f33[_0x4a69f6(0x578)][_0x4a69f6(0xb5d)]>_0x4f8f33[_0x4a69f6(0x37b)]?_0x14495f(_0x4f8f33[_0x4a69f6(0x37b)]):'-';case _0x4a69f6(0xa12):const _0x1b159b=_0x4f8f33['correctAnswer']===!![]||String(_0x4f8f33[_0x4a69f6(0x39b)])[_0x4a69f6(0x7e9)]()===_0x4a69f6(0x975);return _0x1b159b?_0x4a69f6(0xc6b):_0x4a69f6(0x3ae);case'matching_item':return _0x4f8f33[_0x4a69f6(0x37a)]||'-';case _0x4a69f6(0xcb9):return'พิมพ์ตอบ';default:return'-';}},_0xfe53a8=(_0x39cf88,_0x5de7f5)=>{const _0x904342=_0x3e70e3;if(_0x5de7f5['answer']===null||_0x5de7f5[_0x904342(0xc0d)]===undefined)return'-';const _0x43c020=_0x39cf88[_0x904342(0xabf)]||_0x45a0a8[_0x904342(0xd7d)];switch(_0x43c020){case _0x904342(0x84f):const _0x1e512d=_0x39cf88[_0x904342(0x578)][_0x904342(0x8cc)](_0x25288f=>_0x25288f===_0x5de7f5['answerText']);return _0x1e512d!==-0x1?_0x14495f(_0x1e512d):_0x5de7f5['answerText']||'-';case _0x904342(0xa12):if(_0x5de7f5[_0x904342(0xc0d)]=='0'||_0x5de7f5[_0x904342(0xc0d)]===!![]||_0x5de7f5[_0x904342(0xc0d)]===_0x904342(0x975))return _0x904342(0xc6b);return _0x904342(0x3ae);default:return _0x5de7f5[_0x904342(0xc0d)];}};let _0x47d016=_0x3e70e3(0x47d)+_0x50d5ab[_0x3e70e3(0xaa7)]((_0x409b2f,_0x2ffc06)=>_0x3e70e3(0x2be)+(_0x2ffc06+0x1)+_0x3e70e3(0x91a))[_0x3e70e3(0x51a)]('')+_0x3e70e3(0xbba)+_0x50d5ab[_0x3e70e3(0xaa7)](_0x3adc06=>_0x3e70e3(0xcda)+_0x4ef38d(_0x3adc06)+_0x3e70e3(0xd1f))[_0x3e70e3(0x51a)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x48c19e['forEach'](_0x541aaf=>{const _0x495671=_0x3e70e3;_0x47d016+=_0x495671(0x212),_0x47d016+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x541aaf+'</td>';const _0x4f0436=_0x44d640[_0x541aaf];if(_0x4f0436){const _0x4c6f93=_0x4f0436[_0x495671(0x23a)][_0x4f0436['attempts'][_0x495671(0xb5d)]-0x1];_0x50d5ab['forEach']((_0x5c37d7,_0x4d9b37)=>{const _0x315636=_0x495671,_0x3024cb=_0x4c6f93[_0x315636(0x7d8)][_0x315636(0x692)](_0x34cd2c=>_0x34cd2c[_0x315636(0xb8c)]===_0x5c37d7['id']);if(_0x3024cb){let _0x21f65e='';const _0x5a22d9=_0x3024cb['isCorrect']===!![],_0x120ae8=_0x3024cb[_0x315636(0x9dc)]===!![]||_0x3024cb['wasConfident']===_0x315636(0xb9f);_0x120ae8?_0x21f65e=_0x5a22d9?_0x315636(0x496):_0x315636(0x73a):_0x21f65e=_0x5a22d9?_0x315636(0x57a):'bg-red-100',_0x47d016+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x21f65e+'\x22>'+_0xfe53a8(_0x5c37d7,_0x3024cb)+'</td>';}else _0x47d016+=_0x315636(0x403);});}else _0x47d016+=_0x50d5ab[_0x495671(0xaa7)](()=>_0x495671(0x3eb))['join']('');_0x47d016+=_0x495671(0x1b1);}),_0x47d016+=_0x3e70e3(0xbc3),_0x35c0bd['innerHTML']=_0x47d016;}function renderQuizResultsTable(_0xc9501d,_0x1eefd4,_0x30fd32){const _0x4be1b8=_0xe56031,_0x193a0d=_0x1eefd4[_0x4be1b8(0x89f)]((_0x184eee,_0x1e3c11)=>{return _0x184eee[_0x1e3c11['studentName']]=_0x1e3c11,_0x184eee;},{}),_0x395869=document[_0x4be1b8(0xd4c)](_0x4be1b8(0x5e7));_0x395869&&!_0x395869[_0x4be1b8(0x81c)][_0x4be1b8(0x6f7)]('จัดการ')&&(_0x395869[_0x4be1b8(0x81c)]+=_0x4be1b8(0xbfc));const _0x5a31ba=document[_0x4be1b8(0x581)](_0x4be1b8(0x6b0));if(!_0xc9501d||_0xc9501d[_0x4be1b8(0xb5d)]===0x0){_0x5a31ba['innerHTML']=_0x4be1b8(0x70e);return;}const _0x45c77f=_0x30fd32[_0x4be1b8(0x733)]===!![],_0xcb6245=_0x30fd32['settings']?.[_0x4be1b8(0xc1c)]??-0x1;let _0x4bf1e6='';_0xc9501d[_0x4be1b8(0x215)](_0x4dbc1a=>{const _0x35cd38=_0x4be1b8,_0x2dbaea=_0x193a0d[_0x4dbc1a];let _0x17ada2=_0x35cd38(0x394)+(_0x45c77f?_0x35cd38(0x521):_0x35cd38(0xd3d))+'\x22>'+(_0x45c77f?_0x35cd38(0xa80):_0x35cd38(0x628))+_0x35cd38(0x3e5);if(_0x2dbaea){if(_0x2dbaea[_0x35cd38(0x23a)]&&_0x2dbaea['attempts'][_0x35cd38(0xb5d)]>0x0){let _0xc5ff35=_0x45c77f?_0x2dbaea['bestScore']===_0x2dbaea[_0x35cd38(0x511)]:_0xcb6245!==-0x1&&_0x2dbaea[_0x35cd38(0x58b)]>=_0xcb6245;const _0x374e59=_0xc5ff35?_0x35cd38(0xa47):'bg-red-100\x20text-red-800',_0xed12fc=_0xc5ff35?_0x35cd38(0x3ff):_0x35cd38(0xd01),_0x2e85b3=_0x35cd38(0x9c6)+_0x374e59+'\x22>'+_0xed12fc+_0x35cd38(0x3e5),_0x39649e='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x2dbaea[_0x35cd38(0x23a)]?.[_0x35cd38(0xb5d)]||0x1)+'\x20ครั้ง)</span></td>';_0x4bf1e6+=_0x35cd38(0x776)+_0x4dbc1a+_0x35cd38(0xd8f)+_0x2dbaea[_0x35cd38(0x58b)]+_0x35cd38(0x329)+_0x2dbaea[_0x35cd38(0x511)]+_0x35cd38(0xab5)+_0x2e85b3+_0x35cd38(0x46d)+_0x17ada2+_0x35cd38(0x968)+_0x2dbaea[_0x35cd38(0xc6d)]+_0x35cd38(0x329)+_0x2dbaea['totalQuestions']+_0x35cd38(0x2e4)+_0x2dbaea['latestScore']+_0x35cd38(0x329)+_0x2dbaea[_0x35cd38(0x511)]+_0x35cd38(0x6d9)+(_0x2dbaea['points']||0x0)+_0x35cd38(0xab5)+_0x39649e+_0x35cd38(0x367)+new Date(_0x2dbaea[_0x35cd38(0x370)])[_0x35cd38(0x647)](_0x35cd38(0x763))+_0x35cd38(0x79d)+_0x4dbc1a+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x3b6818='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x4bf1e6+=_0x35cd38(0x9f1)+_0x4dbc1a+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x17ada2+_0x35cd38(0x1a3)+_0x3b6818+_0x35cd38(0x367)+new Date(_0x2dbaea[_0x35cd38(0xa0f)])[_0x35cd38(0x647)]('th-TH')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x4dbc1a+_0x35cd38(0x6e7);}}else{const _0x49e92f=_0x35cd38(0xb32);_0x4bf1e6+=_0x35cd38(0x2a3)+_0x4dbc1a+_0x35cd38(0x69d)+_0x17ada2+_0x35cd38(0x77e)+_0x49e92f+_0x35cd38(0x961);}}),_0x5a31ba[_0x4be1b8(0x81c)]=_0x4bf1e6;}async function confirmRenameQuiz(){const _0x58e603=_0xe56031,_0x2bb1c2=document[_0x58e603(0x581)](_0x58e603(0x63f))[_0x58e603(0x9ef)][_0x58e603(0xd92)]();if(!_0x2bb1c2){showMessage(_0x58e603(0x247));return;}if(!actionTargetId)return;const _0xf8a504=doc(db,_0x58e603(0x637)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0xf8a504,{'topic':_0x2bb1c2}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x58e603(0x3f5)][_0x58e603(0xd54)](_0x58e603(0xa91)),actionTargetId=null;}catch(_0x2685c3){console[_0x58e603(0x90c)](_0x58e603(0xa19),_0x2685c3),showMessage(_0x58e603(0xb01));}}async function handleMoveQuiz(_0x3ef02b){const _0x2b8548=_0xe56031;actionTargetId=_0x3ef02b;const _0x1cadd6=document['getElementById']('move-quiz-project-select');_0x1cadd6[_0x2b8548(0x81c)]=_0x2b8548(0x3e0),moveQuizModal['classList']['remove']('hidden');try{const _0x55e298=collection(db,_0x2b8548(0x637)+appId+_0x2b8548(0x7fe)),_0x4e2b5c=await getDocs(_0x55e298),_0x22675e=_0x4e2b5c[_0x2b8548(0x3b1)][_0x2b8548(0xaa7)](_0x4202d2=>({'id':_0x4202d2['id'],..._0x4202d2['data']()})),_0xc6f9f8=_0x22675e[_0x2b8548(0x23d)](_0x4cdddb=>_0x4cdddb['id']!==currentProjectId);if(_0xc6f9f8[_0x2b8548(0xb5d)]===0x0){_0x1cadd6[_0x2b8548(0x81c)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x2b8548(0x581)](_0x2b8548(0xcd9))[_0x2b8548(0x5ba)]=!![];return;}_0x1cadd6[_0x2b8548(0x81c)]=_0xc6f9f8['map'](_0x48c799=>_0x2b8548(0x55d)+_0x48c799['id']+'\x22>'+_0x48c799[_0x2b8548(0xb3f)]+_0x2b8548(0x530))[_0x2b8548(0x51a)](''),document['getElementById']('confirm-move-quiz-btn')[_0x2b8548(0x5ba)]=![];}catch(_0x58f68d){console[_0x2b8548(0x90c)](_0x2b8548(0x81d),_0x58f68d),showMessage(_0x2b8548(0xb40)),moveQuizModal[_0x2b8548(0x3f5)][_0x2b8548(0xd54)](_0x2b8548(0xa91));}}async function confirmMoveQuiz(){const _0xe955e=_0xe56031,_0x19958f=document[_0xe955e(0x581)](_0xe955e(0xb86))[_0xe955e(0x9ef)];if(!_0x19958f){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x3dfc80=doc(db,_0xe955e(0x637)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x3dfc80,{'projectId':_0x19958f}),showMessage(_0xe955e(0x5c7)),moveQuizModal[_0xe955e(0x3f5)]['add'](_0xe955e(0xa91)),actionTargetId=null;}catch(_0x374496){console[_0xe955e(0x90c)](_0xe955e(0xa5c),_0x374496),showMessage(_0xe955e(0x78d));}}async function handleQuizSettings(_0x4013dc){const _0x251306=_0xe56031;actionTargetId=_0x4013dc;const _0x2d7479=doc(db,_0x251306(0x637)+appId+_0x251306(0x6cd),_0x4013dc);try{const _0x56cd68=await getDoc(_0x2d7479);if(_0x56cd68['exists']()){const _0x327ac1=_0x56cd68['data'](),_0x1b2a48=_0x327ac1['settings']||{},_0x3907f7=_0x327ac1[_0x251306(0xafb)][_0x251306(0xb5d)];document[_0x251306(0x581)](_0x251306(0x237))['value']=_0x1b2a48[_0x251306(0x99d)]||_0x251306(0xbf7),document[_0x251306(0x581)](_0x251306(0x898))[_0x251306(0x9ef)]=_0x1b2a48[_0x251306(0x555)]||_0x251306(0x86c),document[_0x251306(0x581)](_0x251306(0x263))[_0x251306(0x9ef)]=_0x1b2a48[_0x251306(0x2cb)]||_0x251306(0xbf7),document[_0x251306(0x581)]('modal-timer-duration-input')[_0x251306(0x9ef)]=_0x1b2a48['timerDuration']||0xa,document['getElementById'](_0x251306(0x895))['value']=_0x1b2a48[_0x251306(0xc1c)]||Math['floor'](_0x3907f7/0x2),document[_0x251306(0x581)](_0x251306(0x895))[_0x251306(0xc02)]=_0x3907f7,document['getElementById'](_0x251306(0x92e))[_0x251306(0x1f1)]=_0x1b2a48[_0x251306(0x4f1)]||![],document[_0x251306(0x581)](_0x251306(0x9c3))[_0x251306(0x1f1)]=_0x1b2a48[_0x251306(0xafc)]||![];const _0x4df449=_0x1b2a48[_0x251306(0x3cf)]||![];document[_0x251306(0x581)]('modal-confidence-scoring-checkbox')[_0x251306(0x1f1)]=_0x4df449,document['getElementById'](_0x251306(0x5e1))[_0x251306(0x9ef)]=_0x1b2a48['confidenceMode']||_0x251306(0x654);const _0x1b9b22=document[_0x251306(0x581)](_0x251306(0x990));_0x1b9b22[_0x251306(0x3f5)]['toggle'](_0x251306(0xa91),!_0x4df449),document[_0x251306(0x581)](_0x251306(0x263))[_0x251306(0xc8e)](new Event(_0x251306(0x60a))),quizSettingsModal['classList'][_0x251306(0xbb6)](_0x251306(0xa91));}else showMessage(_0x251306(0x6d6));}catch(_0x5bab2b){console['error']('Error\x20fetching\x20quiz\x20settings:',_0x5bab2b),showMessage(_0x251306(0x4b3));}}function _0x352e(_0x3955d2,_0x3c7565){const _0x4f4b74=_0x4f4b();return _0x352e=function(_0x352e6d,_0x32f165){_0x352e6d=_0x352e6d-0x18e;let _0x2cb8f3=_0x4f4b74[_0x352e6d];return _0x2cb8f3;},_0x352e(_0x3955d2,_0x3c7565);}async function confirmQuizSettings(){const _0x5a8454=_0xe56031;if(!actionTargetId)return;const _0x1ccb19=doc(db,_0x5a8454(0x637)+appId+'/public/data/quizzes',actionTargetId),_0x8da975={'shuffle':document['getElementById'](_0x5a8454(0x237))[_0x5a8454(0x9ef)],'resultsDisplay':document[_0x5a8454(0x581)](_0x5a8454(0x898))[_0x5a8454(0x9ef)],'timerMode':document[_0x5a8454(0x581)](_0x5a8454(0x263))[_0x5a8454(0x9ef)],'timerDuration':parseInt(document[_0x5a8454(0x581)](_0x5a8454(0xb49))[_0x5a8454(0x9ef)])||0xa,'passingScore':parseInt(document[_0x5a8454(0x581)](_0x5a8454(0x895))[_0x5a8454(0x9ef)])||0x0,'isAdaptive':document[_0x5a8454(0x581)]('modal-adaptive-quiz-checkbox')[_0x5a8454(0x1f1)],'loopUntilPass':document[_0x5a8454(0x581)](_0x5a8454(0x9c3))['checked'],'isConfidenceScoringEnabled':document[_0x5a8454(0x581)](_0x5a8454(0x6c3))[_0x5a8454(0x1f1)],'confidenceMode':document[_0x5a8454(0x581)](_0x5a8454(0x5e1))['value']};try{await updateDoc(_0x1ccb19,{'settings':_0x8da975}),showMessage(_0x5a8454(0x5f0)),quizSettingsModal[_0x5a8454(0x3f5)][_0x5a8454(0xd54)](_0x5a8454(0xa91)),actionTargetId=null;}catch(_0x3a6549){console[_0x5a8454(0x90c)](_0x5a8454(0x8da),_0x3a6549),showMessage(_0x5a8454(0x25a));}}async function confirmQuizStatus(){const _0x2f8c0a=_0xe56031;if(!actionTargetId)return;const _0x2e7aa3=doc(db,'artifacts/'+appId+_0x2f8c0a(0x6cd),actionTargetId),_0x265105=document[_0x2f8c0a(0xd4c)]('input[name=\x22status-option\x22]:checked');if(!_0x265105){showMessage(_0x2f8c0a(0x8c1));return;}const _0x360061=_0x265105[_0x2f8c0a(0x9ef)];let _0x261777={};if(_0x360061===_0x2f8c0a(0xd41)||_0x360061===_0x2f8c0a(0x7bf))_0x261777={'status':_0x360061,'startTime':null,'endTime':null};else{if(_0x360061===_0x2f8c0a(0x66f)){const _0x33da81=document[_0x2f8c0a(0x581)]('quiz-start-time')[_0x2f8c0a(0x9ef)],_0x3c2c10=document[_0x2f8c0a(0x581)](_0x2f8c0a(0x4ce))[_0x2f8c0a(0x9ef)];if(!_0x33da81&&!_0x3c2c10){showMessage(_0x2f8c0a(0xa1b));return;}_0x261777={'status':_0x2f8c0a(0x34d),'startTime':_0x33da81?new Date(_0x33da81)[_0x2f8c0a(0x73d)]():null,'endTime':_0x3c2c10?new Date(_0x3c2c10)[_0x2f8c0a(0x73d)]():null};}}try{await updateDoc(_0x2e7aa3,_0x261777),showMessage(_0x2f8c0a(0xce2)),quizStatusModal[_0x2f8c0a(0x3f5)][_0x2f8c0a(0xd54)]('hidden'),actionTargetId=null;}catch(_0x2b8034){console['error'](_0x2f8c0a(0xa31),_0x2b8034),showMessage(_0x2f8c0a(0x8ff));}}function listenForStudentProfiles(_0x20cf1e){const _0x15954b=_0xe56031,_0x269d1a=collection(db,_0x15954b(0x637)+appId+'/public/data/projects/'+_0x20cf1e+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x269d1a,_0x5b4150=>{const _0x4071df=_0x15954b,_0x1e8cfc=_0x5b4150[_0x4071df(0x3b1)][_0x4071df(0xaa7)](_0x2a4760=>_0x2a4760[_0x4071df(0x610)]());renderLeaderboard(_0x1e8cfc,'leaderboard-table-body');},_0x5a5bb2=>{const _0x252157=_0x15954b;console[_0x252157(0x90c)](_0x252157(0xb39),_0x5a5bb2),document[_0x252157(0x581)]('leaderboard-table-body')[_0x252157(0x81c)]=_0x252157(0xbf1);});}function renderLeaderboard(_0x9ae0be,_0x2db1fb){const _0x35c663=_0xe56031,_0x21943f=document[_0x35c663(0x581)](_0x2db1fb);if(!_0x9ae0be||_0x9ae0be[_0x35c663(0xb5d)]===0x0){_0x21943f['innerHTML']=_0x35c663(0x832);return;}_0x9ae0be[_0x35c663(0x57f)]((_0x43b29d,_0x3bc027)=>{const _0x1273e3=_0x35c663,_0x204b20=(_0x3bc027['totalPoints']||0x0)-(_0x43b29d['totalPoints']||0x0);if(_0x204b20!==0x0)return _0x204b20;const _0x568251=(_0x3bc027[_0x1273e3(0x43b)]?.[_0x1273e3(0xbac)]||0x0)-(_0x43b29d[_0x1273e3(0x43b)]?.[_0x1273e3(0xbac)]||0x0);if(_0x568251!==0x0)return _0x568251;const _0x31bfe1=(_0x3bc027[_0x1273e3(0x43b)]?.['first_try_ace']||0x0)-(_0x43b29d[_0x1273e3(0x43b)]?.[_0x1273e3(0x527)]||0x0);if(_0x31bfe1!==0x0)return _0x31bfe1;const _0x51883d=(_0x3bc027[_0x1273e3(0x43b)]?.[_0x1273e3(0x887)]||0x0)-(_0x43b29d[_0x1273e3(0x43b)]?.['perfect_score']||0x0);if(_0x51883d!==0x0)return _0x51883d;const _0x103e14=(_0x3bc027[_0x1273e3(0x43b)]?.[_0x1273e3(0x1db)]||0x0)-(_0x43b29d[_0x1273e3(0x43b)]?.[_0x1273e3(0x1db)]||0x0);if(_0x103e14!==0x0)return _0x103e14;return _0x43b29d[_0x1273e3(0x63c)][_0x1273e3(0xcba)](_0x3bc027['studentName'],'th');});let _0x5f58ef='';_0x9ae0be[_0x35c663(0x215)]((_0x39980b,_0x1988e0)=>{const _0x5c544b=_0x35c663,_0x189276=_0x1988e0+0x1,_0x163c78=_0x39980b[_0x5c544b(0x43b)]||{};let _0x4e234b='';const _0x2a26a1=[_0x5c544b(0xbac),'perfect_score','first_try_ace','quick_thinker'];_0x2a26a1[_0x5c544b(0x215)](_0x37ead7=>{const _0x5b48a5=_0x5c544b;if(_0x163c78[_0x37ead7]>0x0){const _0x461a03=Object[_0x5b48a5(0xa03)](BADGES)[_0x5b48a5(0x692)](_0x3b8518=>_0x3b8518['id']===_0x37ead7);_0x461a03&&(_0x37ead7===_0x5b48a5(0xbac)?_0x4e234b+=_0x5b48a5(0x5e0)+_0x461a03['name']+_0x5b48a5(0x619)+_0x461a03[_0x5b48a5(0x7a3)]+_0x5b48a5(0x558):_0x4e234b+=_0x5b48a5(0x5e0)+_0x461a03['name']+'\x20('+_0x163c78[_0x37ead7]+_0x5b48a5(0x8ca)+_0x461a03[_0x5b48a5(0x7a3)]+_0x5b48a5(0xc19)+_0x163c78[_0x37ead7]+_0x5b48a5(0xa59));}}),_0x5f58ef+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x189276+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x39980b[_0x5c544b(0x63c)]+_0x5c544b(0x922)+(_0x39980b[_0x5c544b(0x872)]||0x0)+_0x5c544b(0xc24)+(_0x4e234b||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x21943f[_0x35c663(0x81c)]=_0x5f58ef;}function displayLoopScreen(_0x30f2d9,_0x2d15d8,_0x3cbd5a){const _0x575a6c=_0xe56031;let _0x580411='';_0x3cbd5a!==_0x575a6c(0x97d)&&(_0x580411=_0x575a6c(0x97c)+_0x30f2d9+'\x20/\x20'+_0x2d15d8+_0x575a6c(0xa0a));const _0xccfb0d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x580411+_0x575a6c(0x4db);studentResultArea[_0x575a6c(0x81c)]=_0xccfb0d,studentResultArea['classList'][_0x575a6c(0xbb6)](_0x575a6c(0xa91)),studentQuizArea['classList'][_0x575a6c(0xd54)]('hidden'),document['getElementById'](_0x575a6c(0x765))[_0x575a6c(0x395)]('click',()=>{const _0x1ac62d=_0x575a6c;studentResultArea['classList']['add'](_0x1ac62d(0xa91)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x5b22ef,_0x39239c,_0x2f49dc){const _0x28fffb=_0xe56031,_0x2dd4d0=document['getElementById'](_0x2f49dc),_0x43191c=_0x2f49dc===_0x28fffb(0xaf2),_0x1e4b6f=_0x39239c[_0x28fffb(0xafb)]['length'],_0x1982d5=document['getElementById'](_0x2f49dc)[_0x28fffb(0xd63)]('table');if(_0x1982d5&&!_0x43191c){const _0x1d122b=_0x1982d5[_0x28fffb(0xd4c)](_0x28fffb(0xacb));_0x1d122b[_0x28fffb(0x81c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x5b22ef||_0x5b22ef['length']===0x0){_0x2dd4d0[_0x28fffb(0x81c)]=_0x28fffb(0x80d)+(_0x43191c?0x6:0x8)+_0x28fffb(0xcf1);return;}const _0x4d691c=[..._0x5b22ef];_0x4d691c['sort']((_0xd8ed63,_0x3a3415)=>{const _0x1a7be4=_0x28fffb;let _0x483e88,_0x5abf1c;switch(quizLeaderboardSortBy){case'studentName':_0x483e88=_0xd8ed63[_0x1a7be4(0x63c)]||'',_0x5abf1c=_0x3a3415['studentName']||'';return quizLeaderboardSortOrder===_0x1a7be4(0xbf2)?_0x483e88[_0x1a7be4(0xcba)](_0x5abf1c,'th'):_0x5abf1c[_0x1a7be4(0xcba)](_0x483e88,'th');case _0x1a7be4(0x9c8):_0x483e88=_0xd8ed63['points']||0x0,_0x5abf1c=_0x3a3415[_0x1a7be4(0x9c8)]||0x0;break;case'attempts':_0x483e88=_0xd8ed63[_0x1a7be4(0x23a)]?.[_0x1a7be4(0xb5d)]||0x1,_0x5abf1c=_0x3a3415[_0x1a7be4(0x23a)]?.[_0x1a7be4(0xb5d)]||0x1;break;case _0x1a7be4(0x370):_0x483e88=new Date(_0xd8ed63[_0x1a7be4(0x370)]),_0x5abf1c=new Date(_0x3a3415[_0x1a7be4(0x370)]);break;case _0x1a7be4(0x58b):default:_0x483e88=_0xd8ed63[_0x1a7be4(0x58b)],_0x5abf1c=_0x3a3415[_0x1a7be4(0x58b)];break;}if(_0x483e88<_0x5abf1c)return quizLeaderboardSortOrder===_0x1a7be4(0xbf2)?-0x1:0x1;if(_0x483e88>_0x5abf1c)return quizLeaderboardSortOrder===_0x1a7be4(0xbf2)?0x1:-0x1;return 0x0;});const _0x4b129b=_0x39239c['isRemedial']===!![],_0x1ddd4e=_0x39239c['settings']?.[_0x28fffb(0xc1c)]??-0x1;let _0x3adc33='';_0x4d691c[_0x28fffb(0x215)]((_0x57eb21,_0x58b94a)=>{const _0x501ed0=_0x28fffb,_0x22ea23=_0x58b94a+0x1;let _0x1bf981='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x4b129b||_0x1ddd4e!==-0x1){let _0xfdeea6=_0x4b129b?_0x57eb21[_0x501ed0(0x58b)]===_0x1e4b6f:_0x57eb21[_0x501ed0(0x58b)]>=_0x1ddd4e;const _0x4c5470=_0xfdeea6?_0x501ed0(0xa47):_0x501ed0(0x1a6),_0x3a5c37=_0xfdeea6?_0x501ed0(0x3ff):'ไม่ผ่าน';_0x1bf981=_0x501ed0(0x544)+_0x4c5470+'\x22>'+_0x3a5c37+'</span></td>';}const _0x31f723=_0x57eb21['attempts'][_0x57eb21[_0x501ed0(0x23a)][_0x501ed0(0xb5d)]-0x1],_0x60fb24=(_0x31f723[_0x501ed0(0x688)]||[])['map'](_0x4837d7=>{const _0x1dd29a=_0x501ed0,_0x39e330=Object['values'](BADGES)[_0x1dd29a(0x692)](_0xf80824=>_0xf80824['id']===_0x4837d7);return _0x39e330?_0x1dd29a(0x5e9)+_0x39e330[_0x1dd29a(0xb95)]+'\x22><i\x20class=\x22fas\x20'+_0x39e330[_0x1dd29a(0x7a3)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x501ed0(0x51a)]('');_0x3adc33+=_0x501ed0(0x387)+_0x22ea23+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x57eb21[_0x501ed0(0x63c)]+_0x501ed0(0x874)+_0x57eb21[_0x501ed0(0x58b)]+'\x20/\x20'+_0x1e4b6f+_0x501ed0(0xb67)+_0x1bf981+_0x501ed0(0x50d)+(_0x57eb21[_0x501ed0(0x9c8)]||0x0)+_0x501ed0(0xb67)+(_0x43191c?'':_0x501ed0(0x393)+(_0x57eb21[_0x501ed0(0x23a)]?.[_0x501ed0(0xb5d)]||0x1)+'</td>')+_0x501ed0(0xd65)+(_0x43191c?'':_0x501ed0(0xcc2)+new Date(_0x57eb21[_0x501ed0(0x370)])[_0x501ed0(0x647)](_0x501ed0(0x763))+_0x501ed0(0xd1f))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x60fb24||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2dd4d0['innerHTML']=_0x3adc33,_0x1982d5&&!_0x43191c&&_0x1982d5['querySelectorAll'](_0x28fffb(0x6a2))[_0x28fffb(0x215)](_0x2289a3=>{const _0x11e925=_0x28fffb,_0x1cbfd5=_0x2289a3[_0x11e925(0xd4c)](_0x11e925(0xb5b));if(_0x1cbfd5)_0x1cbfd5[_0x11e925(0xbb6)]();_0x2289a3[_0x11e925(0xada)]['sort']===quizLeaderboardSortBy&&(_0x2289a3['innerHTML']+=_0x11e925(0xba0)+(quizLeaderboardSortOrder===_0x11e925(0xbf2)?'▲':'▼')+_0x11e925(0xa2e));});}async function handleDeleteSubmission(_0x344fad){const _0x567a1c=_0xe56031;if(!currentQuizData||!currentQuizData['id']||!_0x344fad){showMessage(_0x567a1c(0x48f));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x344fad+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0xfa9973=_0x567a1c,_0x500a3c=currentQuizData['id'],_0x1e560c=doc(db,_0xfa9973(0x637)+appId+_0xfa9973(0x595)+_0x500a3c+_0xfa9973(0xbbb),_0x344fad);try{await deleteDoc(_0x1e560c),showMessage(_0xfa9973(0x735)+_0x344fad+_0xfa9973(0xb4e));}catch(_0x59fbae){console['error'](_0xfa9973(0xd55),_0x59fbae),showMessage(_0xfa9973(0xb6a));}});}async function handleLoadQuiz(){const _0x286fa8=_0xe56031,_0x5dd210=document[_0x286fa8(0x581)](_0x286fa8(0x865)),_0x1fcc6e=_0x5dd210[_0x286fa8(0x9ef)]['trim']();if(!_0x1fcc6e){showMessage(_0x286fa8(0xce6));return;}loadQuizBtn['disabled']=!![],loadQuizBtn[_0x286fa8(0x81c)]=_0x286fa8(0xbd5);try{const _0x4f5b12=doc(db,_0x286fa8(0x637)+appId+_0x286fa8(0x6cd),_0x1fcc6e),_0x3ac434=await getDoc(_0x4f5b12);if(!_0x3ac434['exists']()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x3ac434['id'],..._0x3ac434[_0x286fa8(0x610)]()};const _0x1a5188=currentQuizData[_0x286fa8(0x342)]||_0x286fa8(0xd41),_0x3c86bd=new Date();if(_0x1a5188==='inactive'){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x1a5188===_0x286fa8(0x34d)){const _0x1579aa=currentQuizData[_0x286fa8(0x227)]?new Date(currentQuizData[_0x286fa8(0x227)]):null,_0xb63da4=currentQuizData[_0x286fa8(0xbbd)]?new Date(currentQuizData['endTime']):null;if(_0x1579aa&&_0x3c86bd<_0x1579aa){showMessage(_0x286fa8(0xc13)+_0x1579aa[_0x286fa8(0x647)](_0x286fa8(0x763),{'hour12':![]}));return;}if(_0xb63da4&&_0x3c86bd>_0xb63da4){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x4d8800=currentQuizData[_0x286fa8(0x971)];currentProjectId=_0x4d8800;const _0x362a51=doc(db,_0x286fa8(0x637)+appId+_0x286fa8(0x7fe),_0x4d8800),_0x1f02da=await getDoc(_0x362a51);if(!_0x1f02da[_0x286fa8(0x437)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x323eb5=_0x1f02da['data']();currentStudentProjectData=_0x323eb5,displayStudentNameSelector(_0x323eb5['students'],currentQuizData[_0x286fa8(0x5c5)]);}catch(_0xf4e9b5){console[_0x286fa8(0x90c)](_0x286fa8(0x614),_0xf4e9b5),showMessage(_0x286fa8(0xc8a));}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x286fa8(0x81c)]=_0x286fa8(0x672);}}async function handleJoinLiveGame(){const _0x38fb91=_0xe56031,_0x2c9526=document[_0x38fb91(0x581)](_0x38fb91(0xb3c)),_0x1a3a1f=document['getElementById']('nickname-input'),_0x1a61dd=document[_0x38fb91(0x581)](_0x38fb91(0x89e)),_0x77d1c1=_0x2c9526['value'][_0x38fb91(0xd92)](),_0x22067f=_0x1a3a1f['value'][_0x38fb91(0xd92)]();if(!_0x77d1c1||!_0x22067f){showMessage(_0x38fb91(0xc2a));return;}_0x1a61dd[_0x38fb91(0x5ba)]=!![],_0x1a61dd['innerHTML']=_0x38fb91(0xab8);try{const _0x49de88=collection(db,_0x38fb91(0x637)+appId+_0x38fb91(0x33a)),_0x3e6748=query(_0x49de88,where(_0x38fb91(0x43d),'==',_0x77d1c1),where('status','in',[_0x38fb91(0xb96),_0x38fb91(0x2c3)])),_0x1c88c5=await getDocs(_0x3e6748);if(_0x1c88c5[_0x38fb91(0x9b2)]){showMessage(_0x38fb91(0x8d9));return;}const _0x760af1=_0x1c88c5[_0x38fb91(0x3b1)][0x0],_0x177314=_0x760af1[_0x38fb91(0x610)]();currentLiveGameId=_0x760af1['id'];const _0x2baafc=_0x177314['quizId'],_0x65e6f4=doc(db,_0x38fb91(0x637)+appId+_0x38fb91(0x6cd),_0x2baafc),_0x1524ab=await getDoc(_0x65e6f4);if(!_0x1524ab[_0x38fb91(0x437)]()){showMessage(_0x38fb91(0x97b));return;}currentQuizData={'id':_0x1524ab['id'],..._0x1524ab[_0x38fb91(0x610)]()};if(_0x177314['players']&&_0x177314[_0x38fb91(0xbaf)][_0x22067f]){const _0x59a28a=_0x177314[_0x38fb91(0xbaf)][_0x22067f];if(_0x59a28a[_0x38fb91(0x342)]===_0x38fb91(0x7bf)){_0x1a61dd[_0x38fb91(0x81c)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0x1766f9={};_0x1766f9[_0x38fb91(0xd95)+_0x22067f+_0x38fb91(0x19f)]=_0x38fb91(0xd41),await updateDoc(doc(db,'artifacts/'+appId+_0x38fb91(0x33a),currentLiveGameId),_0x1766f9),showView(_0x38fb91(0xa13)),currentStudentName=_0x22067f,listenForLiveGameUpdates();return;}else{showMessage(_0x38fb91(0xb91));return;}}if(_0x177314['status']!==_0x38fb91(0xb96)){showMessage(_0x38fb91(0xd48));return;}_0x1a61dd[_0x38fb91(0x81c)]=_0x38fb91(0x75a);const _0x44631b={};_0x44631b[_0x38fb91(0xd95)+_0x22067f]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x38fb91(0xd41)},await updateDoc(doc(db,_0x38fb91(0x637)+appId+_0x38fb91(0x33a),currentLiveGameId),_0x44631b),currentStudentName=_0x22067f,listenForLiveGameUpdates();}catch(_0x2bc57c){console[_0x38fb91(0x90c)](_0x38fb91(0x96b),_0x2bc57c),showMessage(_0x38fb91(0xd43));}finally{_0x1a61dd[_0x38fb91(0x5ba)]=![],_0x1a61dd[_0x38fb91(0x81c)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x26eb51,_0x31ba49){const _0x3312ff=_0xe56031,_0x3a92dc=document[_0x3312ff(0x581)](_0x3312ff(0xb56));document[_0x3312ff(0x581)](_0x3312ff(0xade))[_0x3312ff(0x25c)]=_0x3312ff(0x388)+_0x31ba49,!_0x26eb51||_0x26eb51[_0x3312ff(0xb5d)]===0x0?(_0x3a92dc[_0x3312ff(0x81c)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn['disabled']=!![]):(_0x3a92dc[_0x3312ff(0x81c)]=_0x3312ff(0x976),_0x26eb51[_0x3312ff(0x215)](_0x313804=>{const _0x52dd97=_0x3312ff,_0xcbc568=document[_0x52dd97(0x4e3)]('option');_0xcbc568['value']=_0x313804,_0xcbc568['textContent']=_0x313804,_0x3a92dc[_0x52dd97(0xb81)](_0xcbc568);}),startQuizBtn[_0x3312ff(0x5ba)]=![]),studentInitialView[_0x3312ff(0x3f5)][_0x3312ff(0xd54)](_0x3312ff(0xa91)),studentNameSelectionView[_0x3312ff(0x3f5)][_0x3312ff(0xbb6)](_0x3312ff(0xa91));}function shuffleArray(_0x4bf8ff){const _0x598958=_0xe56031;for(let _0x4f5bbf=_0x4bf8ff[_0x598958(0xb5d)]-0x1;_0x4f5bbf>0x0;_0x4f5bbf--){const _0x39b1c8=Math[_0x598958(0x87b)](Math[_0x598958(0x96f)]()*(_0x4f5bbf+0x1));[_0x4bf8ff[_0x4f5bbf],_0x4bf8ff[_0x39b1c8]]=[_0x4bf8ff[_0x39b1c8],_0x4bf8ff[_0x4f5bbf]];}}function getShuffledQuiz(_0xbc3c49){const _0x1755c3=_0xe56031;let _0x14bb29=JSON[_0x1755c3(0x559)](JSON[_0x1755c3(0x35f)](_0xbc3c49));const _0x16b2a3=_0x14bb29[_0x1755c3(0xa9f)]?.[_0x1755c3(0x99d)]||_0x1755c3(0xbf7);if(_0x16b2a3===_0x1755c3(0xbf7))return _0x14bb29;return(_0x16b2a3===_0x1755c3(0x21c)||_0x16b2a3==='both')&&shuffleArray(_0x14bb29[_0x1755c3(0xafb)]),(_0x16b2a3===_0x1755c3(0x64f)||_0x16b2a3==='both')&&_0x14bb29[_0x1755c3(0xafb)][_0x1755c3(0x215)](_0x305f06=>{const _0x1e18ad=_0x1755c3,_0x2fe1da=_0x305f06['questionType']||_0x14bb29[_0x1e18ad(0xd7d)];if(_0x305f06[_0x1e18ad(0x578)]){let _0xaa6ea6=_0x305f06[_0x1e18ad(0x578)]['map']((_0x1a9fde,_0x3aa472)=>({'text':_0x1a9fde,'isCorrect':_0x3aa472===_0x305f06[_0x1e18ad(0x37b)]}));shuffleArray(_0xaa6ea6),_0x305f06[_0x1e18ad(0x578)]=_0xaa6ea6[_0x1e18ad(0xaa7)](_0x27ef84=>_0x27ef84['text']),_0x305f06['correctAnswerIndex']=_0xaa6ea6[_0x1e18ad(0x8cc)](_0x339c55=>_0x339c55['isCorrect']);}_0x2fe1da==='matching_item'&&_0x305f06['allResponses']&&shuffleArray(_0x305f06[_0x1e18ad(0x433)]);}),_0x14bb29;}function displayQuizForStudent(_0x30004a){const _0x2fbead=_0xe56031;studentQuizArea['classList'][_0x2fbead(0xbb6)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x30004a);currentMode!==_0x2fbead(0x6c0)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x2fbead(0x395)]('fullscreenchange',handleFullscreenChange),document[_0x2fbead(0x395)](_0x2fbead(0x419),handleVisibilityChange),enterFullscreen(),window[_0x2fbead(0x395)](_0x2fbead(0x6ff),resetDimTimer),window[_0x2fbead(0x395)]('mousedown',resetDimTimer),window[_0x2fbead(0x395)](_0x2fbead(0xc57),resetDimTimer),window[_0x2fbead(0x395)]('keydown',resetDimTimer),resetDimTimer());const _0x33a6f3=currentDisplayedQuiz[_0x2fbead(0xa9f)]?.['timerMode']||_0x2fbead(0xbf7);if(_0x33a6f3===_0x2fbead(0x6ae))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x2fbead(0xa9f)][_0x2fbead(0x8b5)]);else _0x33a6f3==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x24c337=_0xe56031,_0x4eeb8e=currentDisplayedQuiz[_0x24c337(0xa9f)]?.[_0x24c337(0x3cf)]===!![],_0x4934ce=currentDisplayedQuiz[_0x24c337(0xa9f)]?.[_0x24c337(0x2f4)]||_0x24c337(0x654);let _0x4f2236=_0x24c337(0xa28)+currentDisplayedQuiz[_0x24c337(0x5c5)]+_0x24c337(0x480)+(currentMode===_0x24c337(0x6c0)?_0x24c337(0x2fc):'')+_0x24c337(0xb78);currentDisplayedQuiz[_0x24c337(0xafb)][_0x24c337(0x215)]((_0x376618,_0x301bf0)=>{const _0x485251=_0x24c337,_0x2be123=_0x376618[_0x485251(0xabf)]||currentDisplayedQuiz[_0x485251(0xd7d)];_0x4f2236+=_0x485251(0x3fe);if(_0x2be123===_0x485251(0xaa0)){}else _0x4f2236+=_0x485251(0xacf)+(_0x301bf0+0x1)+'.\x20'+(_0x376618['instructions']||_0x376618['questionText'])+_0x485251(0x195),_0x376618[_0x485251(0xa8e)]&&(_0x4f2236+=_0x485251(0x443)+_0x376618[_0x485251(0xa8e)]+_0x485251(0x209));_0x4f2236+=_0x485251(0x74f);switch(_0x2be123){case _0x485251(0xcb9):_0x4f2236+=_0x485251(0x211)+_0x301bf0+_0x485251(0x9ec);break;case'true_false':_0x4f2236+=_0x485251(0xbf0)+_0x301bf0+'_opt0\x22\x20name=\x22question'+_0x301bf0+_0x485251(0x768)+_0x301bf0+'_opt0\x22>ใช่</label></div>',_0x4f2236+=_0x485251(0xbf0)+_0x301bf0+_0x485251(0xcf7)+_0x301bf0+_0x485251(0x59c)+_0x301bf0+_0x485251(0x774);break;case _0x485251(0xaa0):_0x4f2236+=_0x485251(0xc27)+_0x376618[_0x485251(0x3b4)]+_0x485251(0x5c2)+_0x301bf0+_0x485251(0x2ac)+_0x376618[_0x485251(0x433)][_0x485251(0xaa7)](_0x4019f0=>_0x485251(0x55d)+_0x4019f0+'\x22>'+_0x4019f0+_0x485251(0x530))[_0x485251(0x51a)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;default:_0x4f2236+=_0x376618[_0x485251(0x578)]['map']((_0x190772,_0x47e99b)=>_0x485251(0x45a)+_0x301bf0+_0x485251(0xc82)+_0x47e99b+_0x485251(0x9af)+_0x301bf0+_0x485251(0x29a)+_0x47e99b+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x301bf0+_0x485251(0xc82)+_0x47e99b+'\x22>'+_0x190772+_0x485251(0x4a8))[_0x485251(0x51a)]('');break;}_0x4f2236+='</div>',_0x4eeb8e&&(_0x4f2236+=_0x485251(0x8fc),_0x4934ce===_0x485251(0xc36)?_0x4f2236+=_0x485251(0xc37)+_0x301bf0+_0x485251(0x7f3)+_0x301bf0+_0x485251(0x1d8)+_0x301bf0+_0x485251(0x985)+_0x301bf0+_0x485251(0xca1):_0x4f2236+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence'+_0x301bf0+'\x22\x20name=\x22confidence'+_0x301bf0+_0x485251(0x41a)+_0x301bf0+_0x485251(0xc71),_0x4f2236+=_0x485251(0x209)),_0x4f2236+=_0x485251(0x209);}),_0x4f2236+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x4f2236+=_0x24c337(0x9e3),studentQuizArea[_0x24c337(0x81c)]=_0x4f2236;if(currentMode===_0x24c337(0x6c0)){const _0xc4c4f3=document[_0x24c337(0x581)](_0x24c337(0xc2d));if(_0xc4c4f3)_0xc4c4f3[_0x24c337(0x395)]('click',cancelAdminTest);}const _0x596380=document[_0x24c337(0x581)](_0x24c337(0x9ea));_0x596380&&(_0x596380['addEventListener'](_0x24c337(0x6c5),handleSubmitQuiz),_0x596380[_0x24c337(0x395)](_0x24c337(0xafd),_0x4fe71a=>{const _0xe63b88=_0x24c337;if(_0x4fe71a[_0xe63b88(0x8d1)][_0xe63b88(0x3f5)][_0xe63b88(0x1fe)](_0xe63b88(0xb43))){const _0x46b1bb=_0x4fe71a[_0xe63b88(0x8d1)],_0x4845e=_0x46b1bb['dataset'][_0xe63b88(0x964)],_0x7f9456=_0x46b1bb[_0xe63b88(0xada)]['value'];document[_0xe63b88(0x581)](_0xe63b88(0x2a1)+_0x4845e)[_0xe63b88(0x9ef)]=_0x7f9456;const _0x1af621=_0x46b1bb[_0xe63b88(0xac9)];_0x1af621[_0xe63b88(0x30c)]('.confidence-choice-btn')[_0xe63b88(0x215)](_0x42125e=>_0x42125e['classList'][_0xe63b88(0xbb6)](_0xe63b88(0xd41))),_0x46b1bb[_0xe63b88(0x3f5)]['add'](_0xe63b88(0xd41));}}));if(window[_0x24c337(0x609)])window[_0x24c337(0x609)][_0x24c337(0x461)]([studentQuizArea]);}async function handleSubmitQuiz(_0x1ec037){const _0x2626cc=_0xe56031;if(_0x1ec037)_0x1ec037[_0x2626cc(0x6e6)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x39d054=document['getElementById']('quiz-form');if(!_0x39d054)return;const _0x253257=currentDisplayedQuiz[_0x2626cc(0xa9f)]?.[_0x2626cc(0x3cf)]===!![],_0x1053e7=currentDisplayedQuiz[_0x2626cc(0xa9f)]?.[_0x2626cc(0x2f4)]||'checkbox';if(_0x253257&&_0x1053e7===_0x2626cc(0xc36)){let _0xc214e8=!![];for(let _0x2365ed=0x0;_0x2365ed<currentDisplayedQuiz[_0x2626cc(0xafb)][_0x2626cc(0xb5d)];_0x2365ed++){const _0x55b6e9=_0x39d054['querySelector']('#confidence-input-'+_0x2365ed);if(!_0x55b6e9||_0x55b6e9[_0x2626cc(0x9ef)]===''){_0xc214e8=![];break;}}if(!_0xc214e8){showMessage('กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ');return;}}const _0x5e5c5d=_0x39d054[_0x2626cc(0xd4c)]('button[type=\x22submit\x22]'),_0x3cb9d6=currentDisplayedQuiz[_0x2626cc(0xafb)]['some'](_0x5339ec=>_0x5339ec['questionType']===_0x2626cc(0xcb9));_0x5e5c5d&&(_0x5e5c5d['disabled']=!![],_0x5e5c5d[_0x2626cc(0x81c)]=_0x3cb9d6?_0x2626cc(0x385):'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x21b3d2=new FormData(_0x39d054),_0x16196c=currentDisplayedQuiz[_0x2626cc(0xafb)]['map']((_0x4ded20,_0x219929)=>{const _0x5dbfb0=_0x2626cc,_0x2854bb=_0x21b3d2[_0x5dbfb0(0x959)](_0x5dbfb0(0x2c3)+_0x219929);let _0x19261d;_0x1053e7===_0x5dbfb0(0xc36)?_0x19261d=_0x21b3d2[_0x5dbfb0(0x959)]('confidence'+_0x219929):_0x19261d=_0x21b3d2[_0x5dbfb0(0x959)](_0x5dbfb0(0x992)+_0x219929)==='on';let _0x4d4e1a=null;if(_0x2854bb!==null&&_0x2854bb!==undefined){const _0xaabe00=_0x4ded20[_0x5dbfb0(0xabf)]||currentDisplayedQuiz[_0x5dbfb0(0xd7d)];_0xaabe00===_0x5dbfb0(0x84f)||_0xaabe00===_0x5dbfb0(0x875)?_0x4d4e1a=parseInt(_0x2854bb):_0x4d4e1a=_0x2854bb;}return{'answer':_0x4d4e1a,'wasConfident':_0x19261d};}),_0x358583=currentQuizData['id'],_0x53aef3=doc(db,_0x2626cc(0x637)+appId+_0x2626cc(0x595)+_0x358583+_0x2626cc(0xbbb),currentStudentName),_0x526a7e=await getDoc(_0x53aef3),_0x349864=_0x526a7e[_0x2626cc(0x437)]()?_0x526a7e[_0x2626cc(0x610)]():{},_0x186864=_0x349864[_0x2626cc(0x23a)]||[];await processAndSubmitAnswers(_0x16196c,_0x186864);}async function gradeShortAnswerWithAI(_0x360edc,_0x186f47){const _0x3ddb26=_0xe56031;if(!_0x360edc||!_0x186f47)return![];try{const _0x3295cf=_0x3ddb26(0x506)+_0x360edc+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x186f47+_0x3ddb26(0x9ca),_0x5adb5e={'contents':[{'role':_0x3ddb26(0x952),'parts':[{'text':_0x3295cf}]}]},_0x529a47=_0x3ddb26(0x448),_0x2a6046=_0x3ddb26(0x844)+_0x529a47,_0x4fbb00=await fetch(_0x2a6046,{'method':'POST','headers':{'Content-Type':_0x3ddb26(0x593)},'body':JSON[_0x3ddb26(0x35f)](_0x5adb5e)});if(!_0x4fbb00['ok'])throw new Error(_0x3ddb26(0xb28));const _0x189a6c=await _0x4fbb00[_0x3ddb26(0x960)](),_0x47156b=_0x189a6c[_0x3ddb26(0xd2d)][0x0]['content']['parts'][0x0][_0x3ddb26(0x8e9)]['trim']()[_0x3ddb26(0x7e9)]();return _0x47156b===_0x3ddb26(0x975);}catch(_0x18a89c){return console[_0x3ddb26(0x90c)](_0x3ddb26(0x493),_0x18a89c),![];}}async function processAndSubmitAnswers(_0x386d5f,_0x10bd6a){const _0x1d1558=_0xe56031;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x1d1558(0xb89)]('fullscreenchange',handleFullscreenChange),document[_0x1d1558(0xb89)](_0x1d1558(0x419),handleVisibilityChange);let _0x502dfb=0x0;const _0x33a9ca=[],_0x4a68fd=currentDisplayedQuiz[_0x1d1558(0xafb)]['length'];let _0x3509aa=0x0,_0x4ecd33=[];const _0x270886=currentDisplayedQuiz[_0x1d1558(0xafb)];for(let _0x4b6dab=0x0;_0x4b6dab<_0x270886[_0x1d1558(0xb5d)];_0x4b6dab++){const _0x12cc05=_0x270886[_0x4b6dab],_0x5cfadc=_0x386d5f[_0x4b6dab],_0x29616=_0x5cfadc?_0x5cfadc['answer']:null,_0x2b5b61=_0x5cfadc?_0x5cfadc['wasConfident']:null;let _0x211bf7=![],_0x2b193d=0x0;if(_0x29616!==null&&_0x29616!==''){const _0xa15613=_0x12cc05[_0x1d1558(0xabf)]||currentDisplayedQuiz['quizType'];switch(_0xa15613){case _0x1d1558(0xaa0):_0x211bf7=_0x29616===_0x12cc05['correctResponse'];break;case _0x1d1558(0xa12):const _0x4adf83=_0x29616===!![]||_0x29616===_0x1d1558(0x975);_0x211bf7=_0x4adf83===_0x12cc05[_0x1d1558(0x39b)];break;case _0x1d1558(0xcb9):_0x211bf7=await gradeShortAnswer(_0x29616,_0x12cc05);break;case _0x1d1558(0x84f):default:_0x211bf7=Number(_0x29616)===_0x12cc05[_0x1d1558(0x37b)];break;}}if(currentDisplayedQuiz[_0x1d1558(0xa9f)]?.[_0x1d1558(0x3cf)]){const _0x3067ec=_0x5cfadc?_0x5cfadc[_0x1d1558(0x9dc)]:null;if(_0x211bf7&&(_0x3067ec===!![]||_0x3067ec===_0x1d1558(0xb9f)))_0x2b193d=0x2;else{if(_0x211bf7)_0x2b193d=0x1;else{if(!_0x211bf7&&(_0x3067ec===![]||_0x3067ec===_0x1d1558(0x998)||_0x3067ec===null))_0x2b193d=0x0;else!_0x211bf7&&(_0x3067ec===!![]||_0x3067ec==='confident')&&(_0x2b193d=-0x1);}}}else _0x2b193d=_0x211bf7?0x1:0x0;_0x502dfb+=_0x2b193d;if(_0x211bf7){_0x3509aa++;if(_0x3509aa===0x3)_0x4ecd33['push'](BADGES[_0x1d1558(0x842)]['id']);}else _0x3509aa=0x0;let _0x16c8fe=null;_0x12cc05[_0x1d1558(0x578)]&&_0x29616!==null&&(_0x16c8fe=_0x12cc05[_0x1d1558(0x578)][_0x29616]),_0x33a9ca['push']({'questionId':_0x12cc05['id'],'answer':_0x29616,'answerText':_0x16c8fe,'isCorrect':_0x211bf7,'wasConfident':_0x2b5b61,'pointsAwarded':_0x2b193d,'originalQuestionText':_0x12cc05[_0x1d1558(0x3b4)]||_0x12cc05['questionText']});}const _0x3c375c=_0x33a9ca['filter'](_0xbafba8=>_0xbafba8['isCorrect'])[_0x1d1558(0xb5d)],_0x2882f7=currentDisplayedQuiz['settings']?.[_0x1d1558(0xc1c)]??Math[_0x1d1558(0x87b)](_0x4a68fd/0x2);_0x3c375c===_0x4a68fd&&_0x4a68fd>0x0&&!currentDisplayedQuiz[_0x1d1558(0x733)]&&_0x4ecd33[_0x1d1558(0x632)](BADGES[_0x1d1558(0x5ee)]['id']);const _0xe96ea6=currentDisplayedQuiz[_0x1d1558(0xa9f)]?.[_0x1d1558(0x2cb)];if(_0xe96ea6===_0x1d1558(0x6ae)&&quizStartTime){const _0x589495=(new Date()-quizStartTime)/0x3e8,_0x356338=currentDisplayedQuiz['settings'][_0x1d1558(0x8b5)]*0x3c;_0x3c375c>=_0x2882f7&&_0x589495<_0x356338/0x2&&_0x4ecd33['push'](BADGES[_0x1d1558(0xc6f)]['id']);}_0x10bd6a['length']===0x0&&_0x3c375c===_0x4a68fd&&_0x4a68fd>0x0&&_0x4ecd33[_0x1d1558(0x632)](BADGES[_0x1d1558(0x28a)]['id']);if(_0x10bd6a[_0x1d1558(0xb5d)]>0x0){const _0x29ca96=_0x10bd6a[0x0][_0x1d1558(0x9b7)];if(_0x29ca96<_0x2882f7&&_0x3c375c>=_0x2882f7){const _0x56bbe2=_0x10bd6a[_0x1d1558(0xceb)](_0x383a58=>(_0x383a58['badges']||[])[_0x1d1558(0x6f7)](BADGES[_0x1d1558(0xd79)]['id']));!_0x56bbe2&&_0x4ecd33[_0x1d1558(0x632)](BADGES[_0x1d1558(0xd79)]['id']);}}_0x10bd6a['length']===0x4&&_0x4ecd33[_0x1d1558(0x632)](BADGES[_0x1d1558(0x68e)]['id']);const _0x40ed27=currentDisplayedQuiz[_0x1d1558(0xa9f)][_0x1d1558(0x555)];if(currentMode===_0x1d1558(0x6c0)){handleResultDisplay(_0x40ed27,_0x3c375c,_0x502dfb,_0x4ecd33,_0x33a9ca,_0x4a68fd);return;}const _0x44b816=currentQuizData['id'],_0x2f6d9a=doc(db,_0x1d1558(0x637)+appId+_0x1d1558(0x595)+_0x44b816+_0x1d1558(0xbbb),currentStudentName);try{const _0x387fc0=[..._0x10bd6a],_0xf5a668={'score':_0x3c375c,'points':_0x502dfb,'badges':Array[_0x1d1558(0x454)](new Set(_0x4ecd33)),'submittedAt':new Date()[_0x1d1558(0x73d)](),'answers':_0x33a9ca};_0x387fc0[_0x1d1558(0x632)](_0xf5a668);const _0x393d2d=_0x10bd6a[_0x1d1558(0xb5d)]===0x0?_0x3c375c:_0x10bd6a[0x0][_0x1d1558(0x9b7)]||0x0,_0x508ec6=Math[_0x1d1558(0xc02)](..._0x387fc0['map'](_0x21ab31=>_0x21ab31[_0x1d1558(0x9b7)]));await setDoc(_0x2f6d9a,{'studentName':currentStudentName,'totalQuestions':_0x4a68fd,'attempts':_0x387fc0,'firstScore':_0x393d2d,'bestScore':_0x508ec6,'latestScore':_0x3c375c,'points':_0x502dfb,'latestSubmittedAt':_0xf5a668[_0x1d1558(0xc7b)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x1d1558(0x971)],currentStudentName),handleResultDisplay(_0x40ed27,_0x3c375c,_0x502dfb,_0x4ecd33,_0x33a9ca,_0x4a68fd);}catch(_0x290183){console['error'](_0x1d1558(0xd98),_0x290183),showMessage(_0x1d1558(0x87f));}}async function updateStudentProfile(_0x53b2b8,_0x535f66){const _0x1683bc=_0xe56031,_0x2aebaf=doc(db,_0x1683bc(0x637)+appId+'/public/data/projects/'+_0x53b2b8+_0x1683bc(0x8ea),_0x535f66);try{const _0x16b8a9=query(collection(db,'artifacts/'+appId+_0x1683bc(0x6cd)),where(_0x1683bc(0x971),'==',_0x53b2b8)),_0x201e1d=await getDocs(_0x16b8a9),_0x299217=new Map(_0x201e1d[_0x1683bc(0x3b1)][_0x1683bc(0xaa7)](_0x13e6d2=>[_0x13e6d2['id'],_0x13e6d2[_0x1683bc(0x610)]()])),_0x152efd=Array['from'](_0x299217[_0x1683bc(0x9d8)]());await runTransaction(db,async _0x4a777a=>{const _0x47454e=_0x1683bc;let _0x3dbd4d=0x0;const _0x1d9904={};let _0x1f0f59=!![],_0x118f22=0x0,_0x1220b3=0x0;for(const _0x104b11 of _0x152efd){const _0x239d58=_0x299217[_0x47454e(0x959)](_0x104b11),_0x2bf736=doc(db,_0x47454e(0x637)+appId+_0x47454e(0x595)+_0x104b11+'/submissions',_0x535f66),_0x32529c=await _0x4a777a['get'](_0x2bf736);if(_0x32529c[_0x47454e(0x437)]()){const _0x429e83=_0x32529c[_0x47454e(0x610)](),_0x8a11e1=_0x429e83[_0x47454e(0x23a)]||[];if(_0x8a11e1[_0x47454e(0xb5d)]>0x0){const _0x3f5c18=_0x8a11e1[_0x47454e(0x89f)]((_0xc17f0,_0x1f6e13)=>{const _0xbdf12=_0x47454e;if(_0x1f6e13[_0xbdf12(0x9b7)]>_0xc17f0['score'])return _0x1f6e13;if(_0x1f6e13[_0xbdf12(0x9b7)]===_0xc17f0['score'])return(_0x1f6e13['points']||0x0)>(_0xc17f0[_0xbdf12(0x9c8)]||0x0)?_0x1f6e13:_0xc17f0;return _0xc17f0;},{'score':-0x1,'points':-0x1});_0x3f5c18[_0x47454e(0x9b7)]>-0x1&&(_0x3dbd4d+=_0x3f5c18['points']||0x0,(_0x3f5c18[_0x47454e(0x688)]||[])['forEach'](_0x2033ef=>{_0x1d9904[_0x2033ef]=(_0x1d9904[_0x2033ef]||0x0)+0x1;}));}}if(_0x239d58[_0x47454e(0x5c5)]!=='แบบทดสอบซ่อมเสริม'){_0x1220b3++;if(_0x32529c[_0x47454e(0x437)]()){_0x118f22++;const _0x12d88b=_0x32529c[_0x47454e(0x610)]();_0x12d88b[_0x47454e(0x58b)]!==_0x12d88b[_0x47454e(0x511)]&&(_0x1f0f59=![]);}else _0x1f0f59=![];}}_0x1220b3>0x0&&_0x118f22===_0x1220b3&&_0x1f0f59?_0x1d9904[_0x47454e(0xbac)]=0x1:_0x1d9904[_0x47454e(0xbac)]=0x0,_0x4a777a[_0x47454e(0xcf9)](_0x2aebaf,{'studentName':_0x535f66,'totalPoints':_0x3dbd4d,'unlockedBadges':Object[_0x47454e(0x9d8)](_0x1d9904)['filter'](_0x453749=>_0x1d9904[_0x453749]>0x0),'badgesCount':_0x1d9904},{'merge':!![]});});}catch(_0x316f12){console[_0x1683bc(0x90c)](_0x1683bc(0x893),_0x316f12),showMessage(_0x1683bc(0xd08));}}function startAdminTest(){const _0x3000c1=_0xe56031;if(!currentQuizData){showMessage(_0x3000c1(0xb70));return;}let _0x2df3f2=JSON[_0x3000c1(0x559)](JSON[_0x3000c1(0x35f)](currentQuizData));currentMode=_0x3000c1(0x6c0),currentStudentName=_0x3000c1(0x48e),adminView[_0x3000c1(0x3f5)][_0x3000c1(0xd54)](_0x3000c1(0xa91)),studentView[_0x3000c1(0x3f5)]['remove'](_0x3000c1(0xa91)),studentInitialView['classList'][_0x3000c1(0xd54)](_0x3000c1(0xa91)),studentNameSelectionView[_0x3000c1(0x3f5)][_0x3000c1(0xd54)](_0x3000c1(0xa91)),studentResultArea[_0x3000c1(0x3f5)][_0x3000c1(0xd54)](_0x3000c1(0xa91)),studentQuizArea[_0x3000c1(0x3f5)][_0x3000c1(0xbb6)](_0x3000c1(0xa91)),quizStartTime=new Date(),displayQuizForStudent(_0x2df3f2);}function handleResultDisplay(_0x441b3b,_0x22ebec,_0x1b13a3,_0x32e096,_0x4b4f82,_0x2aacad){const _0x39a9ee=_0xe56031;if(_0x441b3b===_0x39a9ee(0xd69)){displaySubmissionConfirmation();return;}const _0x3536a4=currentDisplayedQuiz[_0x39a9ee(0xa9f)]?.[_0x39a9ee(0xc1c)]??Math[_0x39a9ee(0x87b)](_0x2aacad/0x2),_0x38d87f=currentDisplayedQuiz[_0x39a9ee(0xa9f)]?.[_0x39a9ee(0x4f1)]??![],_0x53ac93=currentDisplayedQuiz['settings']?.[_0x39a9ee(0xafc)]===!![],_0x33468f=_0x22ebec<_0x3536a4,_0x20f5e7=_0x441b3b===_0x39a9ee(0xb24)||_0x441b3b===_0x39a9ee(0x79b);if(_0x53ac93&&_0x33468f&&!_0x20f5e7){_0x441b3b===_0x39a9ee(0x86c)?displayResultsWithAnswers(_0x22ebec,_0x1b13a3,_0x32e096,_0x4b4f82,_0x2aacad,!![]):displayLoopScreen(_0x22ebec,_0x2aacad,_0x441b3b);return;}if(_0x38d87f&&_0x33468f){startAdaptiveFlow(_0x4b4f82,_0x22ebec,_0x2aacad);return;}switch(_0x441b3b){case'show_results_and_answers':displayResultsWithAnswers(_0x22ebec,_0x1b13a3,_0x32e096,_0x4b4f82,_0x2aacad);break;case'show_results_only':displayResultsScoreOnly(_0x22ebec,_0x1b13a3,_0x32e096,_0x2aacad);break;case _0x39a9ee(0x97d):displayPassFailOnly(_0x22ebec,_0x2aacad);break;case _0x39a9ee(0xb24):displayHalfMarkResult(_0x22ebec,_0x2aacad);break;case _0x39a9ee(0x79b):displayPerfectScoreResult(_0x22ebec,_0x2aacad);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x385c32){const _0x4b532a=_0xe56031;studentReadingArea[_0x4b532a(0x81c)]=_0x4b532a(0x939);const _0x1d549b=_0x4b532a(0x6a6)+_0x385c32+_0x4b532a(0x9cb)+simpleMathPrompt+_0x4b532a(0xbc7),_0x5c6a7a={'type':'OBJECT','properties':{'questionText':{'type':_0x4b532a(0xa75)},'options':{'type':_0x4b532a(0xca9),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':['questionText',_0x4b532a(0x578),_0x4b532a(0x37b),'explanation']},_0x2e8ca2={'type':_0x4b532a(0x965),'properties':{'topic':{'type':_0x4b532a(0xa75)},'questions':{'type':_0x4b532a(0xca9),'items':_0x5c6a7a}},'required':['topic',_0x4b532a(0xafb)]};try{const _0x5629c2=await callAnalysisApi(_0x1d549b,_0x2e8ca2);_0x5629c2[_0x4b532a(0x733)]=!![],studentReadingArea[_0x4b532a(0x3f5)][_0x4b532a(0xd54)](_0x4b532a(0xa91));const _0x33d8d0={...currentDisplayedQuiz[_0x4b532a(0xa9f)],'isAdaptive':![],'resultsDisplay':_0x4b532a(0x86c)};_0x5629c2['settings']=_0x33d8d0,displayQuizForStudent(_0x5629c2);}catch(_0xfc7155){console[_0x4b532a(0x90c)]('Remedial\x20quiz\x20generation\x20failed:',_0xfc7155),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView('student');}}function displayPassFailOnly(_0x1060ce,_0x52f43b){const _0x54950e=_0xe56031,_0x183bbd=currentDisplayedQuiz[_0x54950e(0xa9f)]?.[_0x54950e(0xc1c)]??-0x1,_0x428462=currentDisplayedQuiz['isRemedial']===!![];let _0x913ea3='',_0x50630f=![];if(_0x428462||_0x183bbd!==-0x1){_0x50630f=_0x428462?_0x1060ce===_0x52f43b:_0x1060ce>=_0x183bbd;const _0x86a12f=_0x50630f?_0x54950e(0xa47):_0x54950e(0x1a6),_0x521825=_0x50630f?'ผ่าน':_0x54950e(0xd01);_0x913ea3=_0x54950e(0x778)+_0x86a12f+'\x22>'+_0x521825+_0x54950e(0x2f7);}else _0x913ea3=_0x54950e(0x63b);let _0x58ab1d=_0x54950e(0xae4)+currentStudentName+_0x54950e(0xb64)+_0x913ea3+_0x54950e(0x730);studentResultArea[_0x54950e(0x81c)]=_0x58ab1d,studentResultArea[_0x54950e(0x3f5)][_0x54950e(0xbb6)](_0x54950e(0xa91)),studentQuizArea['classList']['add'](_0x54950e(0xa91)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x50630f});}function cancelAdminTest(){const _0x96f695=_0xe56031;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x96f695(0xb89)](_0x96f695(0x68b),handleFullscreenChange),document[_0x96f695(0xb89)](_0x96f695(0x419),handleVisibilityChange),currentMode='admin',studentView[_0x96f695(0x3f5)]['add']('hidden'),adminView[_0x96f695(0x3f5)][_0x96f695(0xbb6)](_0x96f695(0xa91)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x96f695(0x47f));}function setupResultScreenBackButton(_0x1e4e04){const _0x4e3b22=_0xe56031,_0x3849f3={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x1e4e04};if(_0x3849f3[_0x4e3b22(0x4cf)]){const _0x1e58b2=_0x4e3b22(0x663);studentResultArea[_0x4e3b22(0xcaa)](_0x4e3b22(0x9a1),_0x1e58b2),document['getElementById'](_0x4e3b22(0x765))[_0x4e3b22(0x395)](_0x4e3b22(0xafd),()=>{const _0x2b3e3d=_0x4e3b22;studentResultArea[_0x2b3e3d(0x3f5)][_0x2b3e3d(0xd54)](_0x2b3e3d(0xa91)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x274baa=_0x4e3b22(0xcc3),_0x2b4624=currentMode===_0x4e3b22(0x6c0),_0xb81563=_0x2b4624?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':_0x4e3b22(0xccd);let _0x2d03c2='';_0x3849f3[_0x4e3b22(0x4b6)]&&(_0x2d03c2+=_0x4e3b22(0x761));let _0x1b89dd=_0x3849f3[_0x4e3b22(0x550)];_0x1b89dd===undefined&&(_0x1b89dd=_0x3849f3['score']<_0x3849f3[_0x4e3b22(0x511)]);_0x1b89dd&&(_0x2d03c2+=_0x4e3b22(0x708));_0x2d03c2+=_0x4e3b22(0x5c3)+_0x274baa+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0xb81563+_0x4e3b22(0x32f);const _0x56ac9e=_0x4e3b22(0x808)+_0x2d03c2+_0x4e3b22(0x209);studentResultArea[_0x4e3b22(0xcaa)]('beforeend',_0x56ac9e),studentResultArea[_0x4e3b22(0xd4c)](_0x4e3b22(0x4b2))?.[_0x4e3b22(0x395)](_0x4e3b22(0xafd),handleShowStudentRankings);const _0x562697=studentResultArea[_0x4e3b22(0xd4c)](_0x4e3b22(0x5b3));_0x562697&&_0x562697[_0x4e3b22(0x395)](_0x4e3b22(0xafd),()=>{const _0x233943=_0x4e3b22;studentResultArea[_0x233943(0x3f5)][_0x233943(0xd54)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x4e3b22(0x581)](_0x274baa)['addEventListener']('click',()=>{const _0x4e590a=_0x4e3b22;_0x2b4624?(currentMode=_0x4e590a(0x916),studentView[_0x4e590a(0x3f5)][_0x4e590a(0xd54)](_0x4e590a(0xa91)),adminView[_0x4e590a(0x3f5)]['remove']('hidden'),showView('project-detail')):(showView(_0x4e590a(0x39a)),document['getElementById'](_0x4e590a(0x865))[_0x4e590a(0x9ef)]='');});}function displayResultsWithAnswers(_0x3f8d28,_0x412278,_0x3ca3ac,_0x54a7c5,_0x1551e6,_0x56cbdb=![]){const _0x3f3d16=_0xe56031,_0x2d4081=_0x1551e6>0x0?_0x3f8d28/_0x1551e6*0x64:0x0,_0x3f1d2c=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x5b9c82=currentDisplayedQuiz[_0x3f3d16(0x733)]===!![];let _0x393e67='';if(_0x5b9c82||_0x3f1d2c!==-0x1){let _0x3192a9=_0x5b9c82?_0x3f8d28===_0x1551e6:_0x3f8d28>=_0x3f1d2c;const _0x209c05=_0x3192a9?_0x3f3d16(0xa47):_0x3f3d16(0x1a6),_0x168910=_0x3192a9?_0x3f3d16(0x3ff):_0x3f3d16(0xd01);_0x393e67='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x209c05+'\x22>'+_0x168910+_0x3f3d16(0x195);}let _0x35cb90=_0x3f3d16(0xcf0)+currentStudentName+_0x3f3d16(0x90e)+_0x3f8d28+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x1551e6+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x393e67+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x412278+_0x3f3d16(0xcbe)+_0x2d4081[_0x3f3d16(0x72d)](0x0)+_0x3f3d16(0x509);currentDisplayedQuiz['questions'][_0x3f3d16(0x215)]((_0x335478,_0x42763a)=>{const _0x25389a=_0x3f3d16,_0x1442e3=_0x54a7c5[_0x42763a],_0x58bd0c=_0x1442e3[_0x25389a(0xc0d)],_0x3cd361=_0x1442e3[_0x25389a(0x783)],_0x144aa0=_0x335478[_0x25389a(0xabf)]||currentDisplayedQuiz[_0x25389a(0xd7d)];_0x35cb90+=_0x25389a(0x9bb)+(_0x3cd361?'border-green-300\x20bg-green-50':_0x25389a(0xad5))+_0x25389a(0x553)+(_0x42763a+0x1)+'.\x20'+(_0x335478[_0x25389a(0x3b4)]||_0x335478[_0x25389a(0x562)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x144aa0){case _0x25389a(0xaa0):const _0x19c16b=_0x58bd0c||_0x25389a(0x836),_0x3d9f47=_0x335478[_0x25389a(0x37a)];_0x35cb90+=_0x25389a(0x492)+(!_0x3cd361?_0x25389a(0x7a2):'')+'\x22>'+_0x19c16b+'</span></p>';!_0x3cd361&&(_0x35cb90+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x3d9f47+_0x25389a(0x195));break;case _0x25389a(0xcb9):_0x35cb90+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x58bd0c||_0x25389a(0x836))+_0x25389a(0x195),_0x35cb90+=_0x25389a(0x82a)+_0x335478['idealAnswer']+_0x25389a(0x195);break;case _0x25389a(0xa12):_0x35cb90+=_0x25389a(0x28b)+(_0x335478[_0x25389a(0x39b)]===!![]?_0x25389a(0x627):'')+'\x20'+(_0x58bd0c==='true'&&!_0x3cd361?_0x25389a(0x7a2):'')+_0x25389a(0x9bc),_0x35cb90+='<p\x20class=\x22'+(_0x335478[_0x25389a(0x39b)]===![]?_0x25389a(0x627):'')+'\x20'+(_0x58bd0c===_0x25389a(0x429)&&!_0x3cd361?_0x25389a(0x7a2):'')+_0x25389a(0xa76);break;default:_0x35cb90+=_0x335478[_0x25389a(0x578)][_0x25389a(0xaa7)]((_0x34462b,_0x324534)=>{const _0x18da98=_0x25389a;let _0x3418fb='',_0x50d946='';if(_0x324534===_0x335478[_0x18da98(0x37b)])_0x3418fb='font-bold\x20text-green-700',_0x50d946=_0x18da98(0xc5d);else _0x324534===_0x58bd0c&&(_0x3418fb=_0x18da98(0xa9d),_0x50d946=_0x18da98(0xbe3));return _0x18da98(0xba9)+_0x3418fb+'\x22>'+_0x50d946+_0x34462b+_0x18da98(0x209);})['join']('');break;}_0x35cb90+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x335478[_0x25389a(0x9bd)]||'ไม่มีคำอธิบาย')+_0x25389a(0x209);if(!_0x3cd361){const _0x345302=_0x335478[_0x25389a(0x3b4)]||_0x335478['questionText'];_0x35cb90+=_0x25389a(0xd04)+escape(_0x345302)+_0x25389a(0x6cb);}_0x35cb90+='</div>';}),studentResultArea['innerHTML']=_0x35cb90,renderEarnedBadges(_0x3ca3ac,_0x3f3d16(0x834)),studentResultArea[_0x3f3d16(0x3f5)][_0x3f3d16(0xbb6)](_0x3f3d16(0xa91)),studentQuizArea[_0x3f3d16(0x3f5)][_0x3f3d16(0xd54)](_0x3f3d16(0xa91)),setupResultScreenBackButton({'isLooping':_0x56cbdb,'score':_0x3f8d28,'totalQuestions':_0x1551e6,'showRankings':!![]});if(window[_0x3f3d16(0x609)])window[_0x3f3d16(0x609)][_0x3f3d16(0x461)]([studentResultArea]);}function displayResultsScoreOnly(_0x19e257,_0xf5e0ea,_0x3f6af3,_0x1b97d9){const _0x90107a=_0xe56031,_0x4fabb9=_0x1b97d9>0x0?_0x19e257/_0x1b97d9*0x64:0x0,_0x349652=currentDisplayedQuiz['settings']?.[_0x90107a(0xc1c)]??-0x1,_0x3751a3=currentDisplayedQuiz[_0x90107a(0x733)]===!![];let _0x555d13='';if(_0x3751a3||_0x349652!==-0x1){let _0xa2c6ef=_0x3751a3?_0x19e257===_0x1b97d9:_0x19e257>=_0x349652;const _0x101ed8=_0xa2c6ef?_0x90107a(0xa47):_0x90107a(0x1a6),_0x5ecc4a=_0xa2c6ef?_0x90107a(0x3ff):'ไม่ผ่าน';_0x555d13=_0x90107a(0xd21)+_0x101ed8+'\x22>'+_0x5ecc4a+_0x90107a(0x195);}let _0x37f7bf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x90107a(0x61b)+_0x19e257+_0x90107a(0x2b6)+_0x1b97d9+_0x90107a(0x468)+_0x555d13+_0x90107a(0x6e0)+_0xf5e0ea+_0x90107a(0x9f3)+_0x4fabb9['toFixed'](0x0)+_0x90107a(0x7d7);studentResultArea[_0x90107a(0x81c)]=_0x37f7bf,renderEarnedBadges(_0x3f6af3,_0x90107a(0x834)),studentResultArea[_0x90107a(0x3f5)][_0x90107a(0xbb6)](_0x90107a(0xa91)),studentQuizArea['classList'][_0x90107a(0xd54)](_0x90107a(0xa91)),setupResultScreenBackButton({'score':_0x19e257,'totalQuestions':_0x1b97d9,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x561730=_0xe56031;let _0x248988='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x561730(0x19d);studentResultArea['innerHTML']=_0x248988,studentResultArea['classList']['remove'](_0x561730(0xa91)),studentQuizArea[_0x561730(0x3f5)][_0x561730(0xd54)](_0x561730(0xa91)),document[_0x561730(0x581)](_0x561730(0x70a))[_0x561730(0x395)](_0x561730(0xafd),()=>{const _0x16b21f=_0x561730;showView(_0x16b21f(0x39a)),document[_0x16b21f(0x581)](_0x16b21f(0x865))['value']='';});}function renderEarnedBadges(_0x38987c,_0x44a479){const _0x4b7c87=_0xe56031,_0x4c3e42=document[_0x4b7c87(0x581)](_0x44a479);if(!_0x4c3e42||!_0x38987c||_0x38987c[_0x4b7c87(0xb5d)]===0x0)return;let _0x14948a='';_0x38987c[_0x4b7c87(0x215)]((_0x1b5f10,_0x5b0ef8)=>{const _0xd34515=_0x4b7c87,_0x31de65=Object[_0xd34515(0xa03)](BADGES)[_0xd34515(0x692)](_0x1e49a2=>_0x1e49a2['id']===_0x1b5f10);_0x31de65&&(_0x14948a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x5b0ef8*0.2+_0xd34515(0x63e)+_0x31de65[_0xd34515(0xccb)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x31de65['icon']+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x31de65['name']+_0xd34515(0x407));}),_0x4c3e42[_0x4b7c87(0x81c)]=_0x14948a;}function startPresentation(_0x5ea847){const _0x15df0a=_0xe56031;currentQuizData=getShuffledQuiz(_0x5ea847),currentPresentationSlide=0x0,presentationModal[_0x15df0a(0x9fb)]['display']=_0x15df0a(0x923),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x14495d=_0xe56031;document[_0x14495d(0xc67)]&&document[_0x14495d(0x5f3)](),presentationModal[_0x14495d(0x9fb)][_0x14495d(0x4b0)]=_0x14495d(0xbf7);}function renderPresentationSlide(_0x16f163){const _0x1ac580=_0xe56031,_0x3834ed=document[_0x1ac580(0x581)]('presentation-slide-container');if(!currentQuizData||!currentQuizData['questions']||!currentQuizData[_0x1ac580(0xafb)][_0x16f163]){_0x3834ed[_0x1ac580(0x81c)]=_0x1ac580(0x8aa);return;}const _0x13d0d5=currentQuizData[_0x1ac580(0xafb)][_0x16f163],_0x3a0283=_0x13d0d5[_0x1ac580(0xabf)]||currentQuizData[_0x1ac580(0xd7d)];_0x3834ed[_0x1ac580(0x81c)]='';let _0x3b0c43=_0x1ac580(0x67a)+(_0x13d0d5[_0x1ac580(0xa8e)]?_0x1ac580(0x443)+_0x13d0d5[_0x1ac580(0xa8e)]+'</div>':'')+_0x1ac580(0x475)+(_0x16f163+0x1)+'.\x20'+(_0x13d0d5['stem']||_0x13d0d5[_0x1ac580(0x562)])+_0x1ac580(0x81f);switch(_0x3a0283){case _0x1ac580(0xaa0):_0x3b0c43+=_0x13d0d5['allResponses'][_0x1ac580(0xaa7)](_0x568bd9=>_0x1ac580(0xd9d)+_0x568bd9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;case _0x1ac580(0xa12):_0x3b0c43+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x3b0c43+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x1ac580(0x400):case _0x1ac580(0xcb9):_0x3b0c43+=_0x1ac580(0x356);break;case'fill_in_the_blank':case _0x1ac580(0x84f):default:_0x3b0c43+=_0x13d0d5['options'][_0x1ac580(0xaa7)]((_0x417ebc,_0x39dcf9)=>_0x1ac580(0x414)+_0x39dcf9+_0x1ac580(0x621)+_0x417ebc+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;}_0x3b0c43+=_0x1ac580(0x749)+(_0x13d0d5[_0x1ac580(0x9bd)]||'ไม่มีคำอธิบาย')+_0x1ac580(0x4eb),_0x3834ed[_0x1ac580(0x81c)]=_0x3b0c43;if(window[_0x1ac580(0x609)])window[_0x1ac580(0x609)][_0x1ac580(0x461)]([_0x3834ed]);let _0x5ae01f=[];switch(_0x3a0283){case _0x1ac580(0xaa0):_0x5ae01f=_0x13d0d5['allResponses']||[];break;case _0x1ac580(0xa12):_0x5ae01f=[_0x1ac580(0xc6b),_0x1ac580(0x3ae)];break;default:_0x5ae01f=_0x13d0d5[_0x1ac580(0x578)]||[];break;}const _0x27f4df=document[_0x1ac580(0x581)](_0x1ac580(0xa55));_0x27f4df&&(_0x27f4df[_0x1ac580(0xa46)]=()=>{openScratchpad(_0x13d0d5,_0x5ae01f);});document['querySelectorAll'](_0x1ac580(0xc9c))[_0x1ac580(0x215)](_0x4f01d1=>{const _0x39883a=_0x1ac580;_0x4f01d1['addEventListener']('click',_0x479563=>revealAnswerForPresentation(_0x16f163,_0x479563[_0x39883a(0xa0b)]));});const _0x35a119=document[_0x1ac580(0x581)](_0x1ac580(0x6f4));_0x35a119&&_0x35a119[_0x1ac580(0x395)](_0x1ac580(0xafd),()=>checkShortAnswerForPresentation(_0x16f163)),document[_0x1ac580(0x581)](_0x1ac580(0x34e))[_0x1ac580(0x25c)]=_0x1ac580(0x1d2)+(_0x16f163+0x1)+_0x1ac580(0x329)+currentQuizData[_0x1ac580(0xafb)][_0x1ac580(0xb5d)],document[_0x1ac580(0x581)]('prev-question-btn')[_0x1ac580(0x5ba)]=_0x16f163===0x0,document['getElementById'](_0x1ac580(0x956))[_0x1ac580(0x5ba)]=_0x16f163===currentQuizData[_0x1ac580(0xafb)][_0x1ac580(0xb5d)]-0x1;}async function checkShortAnswerForPresentation(_0x380e6e){const _0x1abb46=_0xe56031,_0x122506=currentQuizData[_0x1abb46(0xafb)][_0x380e6e],_0x3be3ba=document[_0x1abb46(0x581)](_0x1abb46(0xc66)),_0x42c2c0=document[_0x1abb46(0x581)](_0x1abb46(0x6f4)),_0x1a29dd=document[_0x1abb46(0x581)](_0x1abb46(0x4a5)),_0x467cc6=document['getElementById'](_0x1abb46(0x9da));if(!_0x3be3ba||!_0x42c2c0||!_0x1a29dd||!_0x467cc6)return;const _0x12a69a=_0x3be3ba[_0x1abb46(0x9ef)][_0x1abb46(0xd92)]();if(_0x12a69a==='')return;_0x42c2c0[_0x1abb46(0x5ba)]=!![],_0x42c2c0[_0x1abb46(0x81c)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x3be3ba['disabled']=!![];const _0x2ba573=await gradeShortAnswer(_0x12a69a,_0x122506);_0x2ba573?_0x1a29dd[_0x1abb46(0x81c)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x1a29dd[_0x1abb46(0x81c)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x122506[_0x1abb46(0xbd6)]+')',_0x1a29dd['classList']['remove'](_0x1abb46(0xa91)),_0x467cc6['classList']['remove'](_0x1abb46(0xa91)),_0x42c2c0[_0x1abb46(0x3f5)]['add'](_0x1abb46(0xa91));}function revealAnswerForPresentation(_0x445844,_0x22dfc8){const _0x2cb6aa=_0xe56031,_0xbf8a7e=currentQuizData[_0x2cb6aa(0xafb)][_0x445844],_0x164137=_0xbf8a7e[_0x2cb6aa(0xabf)]||currentQuizData[_0x2cb6aa(0xd7d)];document[_0x2cb6aa(0x30c)](_0x2cb6aa(0xc9c))[_0x2cb6aa(0x215)](_0x2095e6=>{const _0x1ac796=_0x2cb6aa;_0x2095e6[_0x1ac796(0x5ba)]=!![],_0x2095e6[_0x1ac796(0x3f5)][_0x1ac796(0xbb6)](_0x1ac796(0x995));let _0x5b4b39=![];if(_0x164137===_0x1ac796(0x84f)||_0x164137===_0x1ac796(0x875)){const _0x24d245=parseInt(_0x2095e6[_0x1ac796(0xada)][_0x1ac796(0x53e)]);_0x5b4b39=_0x24d245===_0xbf8a7e[_0x1ac796(0x37b)];}else{if(_0x164137===_0x1ac796(0xa12)){const _0x1275f0=_0x2095e6[_0x1ac796(0xada)]['answer']===_0x1ac796(0x975);_0x5b4b39=_0x1275f0===_0xbf8a7e[_0x1ac796(0x39b)];}else _0x164137===_0x1ac796(0xaa0)&&(_0x5b4b39=_0x2095e6[_0x1ac796(0x25c)][_0x1ac796(0xd92)]()===_0xbf8a7e['correctResponse']);}_0x5b4b39?_0x2095e6['classList']['add'](_0x1ac796(0x25f),_0x1ac796(0x571),_0x1ac796(0x7e2)):_0x2095e6[_0x1ac796(0x3f5)][_0x1ac796(0xd54)]('opacity-50');}),_0x22dfc8[_0x2cb6aa(0x3f5)][_0x2cb6aa(0xbb6)](_0x2cb6aa(0xa48));let _0x22ac4a=![];if(_0x164137===_0x2cb6aa(0x84f))_0x22ac4a=parseInt(_0x22dfc8[_0x2cb6aa(0xada)][_0x2cb6aa(0x53e)])===_0xbf8a7e['correctAnswerIndex'];else{if(_0x164137==='true_false')_0x22ac4a=_0x22dfc8[_0x2cb6aa(0xada)][_0x2cb6aa(0xc0d)]===_0x2cb6aa(0x975)===_0xbf8a7e[_0x2cb6aa(0x39b)];else _0x164137===_0x2cb6aa(0xaa0)&&(_0x22ac4a=_0x22dfc8[_0x2cb6aa(0x25c)]['trim']()===_0xbf8a7e[_0x2cb6aa(0x37a)]);}!_0x22ac4a&&_0x22dfc8[_0x2cb6aa(0x3f5)]['add'](_0x2cb6aa(0x658),_0x2cb6aa(0x571),'border-red-700'),document[_0x2cb6aa(0x581)](_0x2cb6aa(0x9da))[_0x2cb6aa(0x3f5)][_0x2cb6aa(0xbb6)](_0x2cb6aa(0xa91));}function startWholeQuizTimer(_0x21e097){const _0x564416=_0xe56031,_0x42ac94=document[_0x564416(0x581)](_0x564416(0x899));if(!_0x42ac94)return;const _0x197bc0=Date[_0x564416(0x5bd)]()+_0x21e097*0x3c*0x3e8;_0x42ac94[_0x564416(0x81c)]=_0x564416(0x7b6);const _0x259380=document[_0x564416(0x581)](_0x564416(0x1c7));quizTimerInterval=setInterval(()=>{const _0x6e0ac4=_0x564416,_0x72e1c8=_0x197bc0-Date[_0x6e0ac4(0x5bd)]();if(_0x72e1c8<=0x0)clearInterval(quizTimerInterval),_0x259380['textContent']=_0x6e0ac4(0xa8d),showMessage(_0x6e0ac4(0x3ac)),handleSubmitQuiz(null);else{const _0x1641c7=Math[_0x6e0ac4(0x87b)](_0x72e1c8/0x3e8/0x3c%0x3c)[_0x6e0ac4(0xd2a)]()[_0x6e0ac4(0x85e)](0x2,'0'),_0x20dc6b=Math[_0x6e0ac4(0x87b)](_0x72e1c8/0x3e8%0x3c)['toString']()[_0x6e0ac4(0x85e)](0x2,'0');_0x259380[_0x6e0ac4(0x25c)]=_0x1641c7+':'+_0x20dc6b;}},0x3e8);}function renderPerQuestionView(){const _0x2ac976=_0xe56031;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x1d390c=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x57254f=_0x1d390c[_0x2ac976(0xabf)]||currentDisplayedQuiz[_0x2ac976(0xd7d)],_0x4f8fb4=currentDisplayedQuiz[_0x2ac976(0xa9f)]?.[_0x2ac976(0x3cf)]===!![];let _0x7ca436=_0x2ac976(0xce8)+(currentQuestionIndex+0x1)+_0x2ac976(0x1c9)+currentDisplayedQuiz[_0x2ac976(0xafb)][_0x2ac976(0xb5d)]+_0x2ac976(0xd19)+(currentMode===_0x2ac976(0x6c0)?_0x2ac976(0x2fc):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x2ac976(0x5c5)]+_0x2ac976(0x807);studentQuizArea['innerHTML']=_0x7ca436;let _0x1030db=_0x1d390c[_0x2ac976(0x3b4)]||_0x1d390c[_0x2ac976(0x562)];_0x1d390c[_0x2ac976(0xa8e)]&&(_0x1030db+=_0x2ac976(0x443)+_0x1d390c[_0x2ac976(0xa8e)]+_0x2ac976(0x209));let _0x1e98d0='';switch(_0x57254f){case'short_answer':case _0x2ac976(0x400):_0x1e98d0=_0x2ac976(0x8e8);break;case _0x2ac976(0xa12):_0x1e98d0='<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>';break;case'matching_item':_0x1e98d0=_0x2ac976(0x5d9)+(_0x1d390c[_0x2ac976(0x433)]||[])[_0x2ac976(0xaa7)](_0x5ee553=>_0x2ac976(0x55d)+_0x5ee553+'\x22>'+_0x5ee553+_0x2ac976(0x530))[_0x2ac976(0x51a)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>';break;default:_0x1d390c['options']&&(_0x1e98d0=_0x1d390c[_0x2ac976(0x578)][_0x2ac976(0xaa7)]((_0x1215fe,_0x78ead7)=>_0x2ac976(0xc52)+_0x78ead7+_0x2ac976(0x4af)+_0x78ead7+_0x2ac976(0x48c)+_0x78ead7+'\x22>'+_0x1215fe+_0x2ac976(0x6e1))[_0x2ac976(0x51a)](''));break;}document['getElementById'](_0x2ac976(0xbe4))[_0x2ac976(0x81c)]=_0x1030db,document[_0x2ac976(0x581)]('per-question-options')[_0x2ac976(0x81c)]=_0x1e98d0;const _0x2148c9=currentDisplayedQuiz[_0x2ac976(0xa9f)]?.[_0x2ac976(0x3cf)]===!![],_0x44932b=currentDisplayedQuiz[_0x2ac976(0xa9f)]?.['confidenceMode']||_0x2ac976(0x654);if(_0x2148c9&&_0x44932b==='checkbox'){const _0x3e20f6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0x2ac976(0xd4c)](_0x2ac976(0xa6c))[_0x2ac976(0xcaa)](_0x2ac976(0x9a1),_0x3e20f6);}studentQuizArea['insertAdjacentHTML'](_0x2ac976(0x9a1),_0x2ac976(0x575)+(currentQuestionIndex===currentDisplayedQuiz[_0x2ac976(0xafb)]['length']-0x1?_0x2ac976(0x8cb):'คำถามถัดไป')+_0x2ac976(0x303));currentMode==='admin-testing'&&document[_0x2ac976(0x581)](_0x2ac976(0xc2d))?.['addEventListener']('click',cancelAdminTest);document['getElementById']('next-question-timed-btn')[_0x2ac976(0x395)](_0x2ac976(0xafd),()=>handleNextQuestionInTimedMode(![]));if(window[_0x2ac976(0x609)])window[_0x2ac976(0x609)][_0x2ac976(0x461)]([studentQuizArea]);currentDisplayedQuiz[_0x2ac976(0xa9f)]?.[_0x2ac976(0x2cb)]===_0x2ac976(0xc07)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x15940b=_0xe56031,_0x37361b=currentDisplayedQuiz['settings']['timerDuration'],_0x57e316=document[_0x15940b(0x581)](_0x15940b(0x68d));if(!_0x57e316)return;let _0x3c06c7=_0x37361b;_0x57e316['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x3c06c7+_0x15940b(0x80e);const _0x2ac88f=document[_0x15940b(0x581)]('timer-bar'),_0x44fa25=document[_0x15940b(0x581)](_0x15940b(0xc0f));perQuestionTimerInterval=setInterval(()=>{const _0x580383=_0x15940b;_0x3c06c7--;const _0x1f8a77=_0x3c06c7/_0x37361b*0x64;_0x2ac88f['style'][_0x580383(0x334)]=_0x1f8a77+'%',_0x44fa25[_0x580383(0x25c)]=_0x3c06c7,_0x3c06c7<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x580383(0x481)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x1cf29c=![]){const _0x5a3157=_0xe56031;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x5b109b=null,_0x2a37ed=![];if(!_0x1cf29c){const _0x22f2df=currentDisplayedQuiz[_0x5a3157(0xafb)][currentQuestionIndex],_0x454bb6=_0x22f2df['questionType']||currentDisplayedQuiz['quizType'];if(_0x454bb6===_0x5a3157(0xcb9)||_0x454bb6===_0x5a3157(0x400))_0x5b109b=document[_0x5a3157(0xd4c)](_0x5a3157(0x518))?.['value'][_0x5a3157(0xd92)]()??'';else{if(_0x454bb6===_0x5a3157(0xaa0))_0x5b109b=document[_0x5a3157(0xd4c)](_0x5a3157(0xd9a))?.[_0x5a3157(0x9ef)]??'';else{const _0x35bc0c=document[_0x5a3157(0xd4c)](_0x5a3157(0x6b7));_0x35bc0c&&(_0x5b109b=_0x35bc0c[_0x5a3157(0x9ef)]);}}if(_0x5b109b===null||_0x5b109b===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x56e2aa=currentDisplayedQuiz[_0x5a3157(0xa9f)]?.[_0x5a3157(0x3cf)]===!![],_0x313416=currentDisplayedQuiz[_0x5a3157(0xa9f)]?.[_0x5a3157(0x2f4)]||_0x5a3157(0x654);if(_0x56e2aa&&_0x313416===_0x5a3157(0xc36)){document[_0x5a3157(0x581)](_0x5a3157(0x296))['dataset'][_0x5a3157(0x2d2)]=_0x5a3157(0x813),document[_0x5a3157(0x581)]('selected-answer-index-hidden')[_0x5a3157(0x9ef)]=_0x5b109b,document[_0x5a3157(0x581)](_0x5a3157(0x296))[_0x5a3157(0x3f5)][_0x5a3157(0xbb6)](_0x5a3157(0xa91));return;}const _0x3c1327=document[_0x5a3157(0x581)](_0x5a3157(0x7af));_0x3c1327&&(_0x2a37ed=_0x3c1327[_0x5a3157(0x1f1)]);}const _0x2bd71f={'answer':_0x5b109b,'wasConfident':_0x2a37ed};proceedToNextQuestion(_0x2bd71f);}async function finalizePerQuestionQuiz(){const _0x44c792=_0xe56031,_0x228e12=currentDisplayedQuiz['questions'][_0x44c792(0xceb)](_0x52f52a=>_0x52f52a['questionType']===_0x44c792(0xcb9));_0x228e12?showMessage(_0x44c792(0x719)):showMessage(_0x44c792(0xd68));const _0x10bad0=currentQuizData['id'],_0x418797=doc(db,_0x44c792(0x637)+appId+_0x44c792(0x595)+_0x10bad0+'/submissions',currentStudentName),_0x4a3304=await getDoc(_0x418797),_0x10eaba=_0x4a3304[_0x44c792(0x437)]()?_0x4a3304[_0x44c792(0x610)]():{},_0x5289b4=_0x10eaba[_0x44c792(0x23a)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x5289b4);}function getResultsFilename(){const _0x311fbf=_0xe56031,_0x2caa51=document[_0x311fbf(0x581)](_0x311fbf(0xd0e))['textContent'][_0x311fbf(0xbfd)](/[^a-z0-9]/gi,'_')[_0x311fbf(0x7e9)]();return _0x311fbf(0x231)+(_0x2caa51||_0x311fbf(0x1c5));}function exportResultsAsImage(){const _0x39b8d7=_0xe56031,_0x13bc46=document[_0x39b8d7(0x581)](_0x39b8d7(0x930));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x13bc46)[_0x39b8d7(0xc6e)](_0x282f99=>{const _0x2d02f1=_0x39b8d7,_0x24ca85=document[_0x2d02f1(0x4e3)]('a');_0x24ca85['download']=getResultsFilename()+_0x2d02f1(0x88e),_0x24ca85[_0x2d02f1(0x1ee)]=_0x282f99[_0x2d02f1(0x4ed)](_0x2d02f1(0xb5e)),_0x24ca85[_0x2d02f1(0xafd)](),messageModal[_0x2d02f1(0x3f5)]['add'](_0x2d02f1(0xa91));});}function exportResultsAsPDF(){const _0x2175dc=_0xe56031,{jsPDF:_0x8e5ec5}=window[_0x2175dc(0xd77)],_0xc13027=new _0x8e5ec5();_0xc13027['setFont'](_0x2175dc(0x3c7),_0x2175dc(0xcc1)),_0xc13027[_0x2175dc(0xa44)]({'html':'#results-table'}),_0xc13027['save'](getResultsFilename()+_0x2175dc(0x7cf));}function exportResultsAsWord(){const _0xc21907=_0xe56031,_0x478582=_0xc21907(0x583)+_0xc21907(0x94b)+_0xc21907(0x561)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x38a49d=_0xc21907(0x1b5),_0x3fc074=_0x478582+document[_0xc21907(0x581)](_0xc21907(0x930))[_0xc21907(0x81c)]+_0x38a49d,_0x2ca62f='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x3fc074),_0xbb70b1=document[_0xc21907(0x4e3)]('a');document['body'][_0xc21907(0xb81)](_0xbb70b1),_0xbb70b1[_0xc21907(0x1ee)]=_0x2ca62f,_0xbb70b1[_0xc21907(0x7ee)]=getResultsFilename()+_0xc21907(0x319),_0xbb70b1[_0xc21907(0xafd)](),document[_0xc21907(0xc49)][_0xc21907(0x574)](_0xbb70b1);}function exportResultsAsExcel(){const _0x276ce5=_0xe56031,_0x2e0c27=document[_0x276ce5(0x581)]('results-table');let _0x57f723=[];for(let _0x5663d3=0x0;_0x5663d3<_0x2e0c27[_0x276ce5(0x314)][_0x276ce5(0xb5d)];_0x5663d3++){let _0x34af82=[],_0x3806d1=_0x2e0c27[_0x276ce5(0x314)][_0x5663d3][_0x276ce5(0x30c)](_0x276ce5(0x2d5));for(let _0x1be30c=0x0;_0x1be30c<_0x3806d1['length'];_0x1be30c++){_0x34af82[_0x276ce5(0x632)]('\x22'+_0x3806d1[_0x1be30c][_0x276ce5(0x869)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x57f723[_0x276ce5(0x632)](_0x34af82[_0x276ce5(0x51a)](','));}const _0x7eef8c=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x57f723[_0x276ce5(0x51a)]('\x0a')],{'type':_0x276ce5(0x2ae)}),_0x5a06e4=document['createElement']('a');_0x5a06e4[_0x276ce5(0x1ee)]=URL[_0x276ce5(0x88a)](_0x7eef8c),_0x5a06e4['download']=getResultsFilename()+_0x276ce5(0x3e4),_0x5a06e4[_0x276ce5(0xafd)]();}function exportTableAsImage(_0x3eeacf,_0x227983){const _0x53053e=_0xe56031,_0x53ce69=document[_0x53053e(0x581)](_0x3eeacf);if(!_0x53ce69){showMessage(_0x53053e(0x53d));return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x53ce69)[_0x53053e(0xc6e)](_0x483cb5=>{const _0xc2db8c=_0x53053e,_0x201bd9=document[_0xc2db8c(0x4e3)]('a');_0x201bd9[_0xc2db8c(0x7ee)]=_0x227983+_0xc2db8c(0x88e),_0x201bd9[_0xc2db8c(0x1ee)]=_0x483cb5[_0xc2db8c(0x4ed)](_0xc2db8c(0xb5e)),_0x201bd9[_0xc2db8c(0xafd)](),messageModal['classList'][_0xc2db8c(0xd54)](_0xc2db8c(0xa91));});}function exportTableAsPDF(_0x41e10a,_0x515a28){const _0x271ac7=_0xe56031,{jsPDF:_0x26f376}=window['jspdf'],_0x43531b=new _0x26f376();_0x43531b['setFont']('helvetica',_0x271ac7(0xcc1)),_0x43531b[_0x271ac7(0xa44)]({'html':'#'+_0x41e10a}),_0x43531b[_0x271ac7(0x34a)](_0x515a28+_0x271ac7(0x7cf));}function exportTableAsWord(_0x4be8bc,_0x3b935d){const _0x3e976d=_0xe56031,_0x3bc2d8=document[_0x3e976d(0x581)](_0x4be8bc);if(!_0x3bc2d8){showMessage(_0x3e976d(0x53d));return;}const _0x9b5836=_0x3e976d(0x583)+_0x3e976d(0x94b)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x3e976d(0xa08),_0x2dcbb0=_0x3e976d(0x1b5),_0x564f34=_0x9b5836+_0x3bc2d8[_0x3e976d(0x81c)]+_0x2dcbb0,_0x4179ea='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x564f34),_0x408394=document[_0x3e976d(0x4e3)]('a');document[_0x3e976d(0xc49)]['appendChild'](_0x408394),_0x408394[_0x3e976d(0x1ee)]=_0x4179ea,_0x408394[_0x3e976d(0x7ee)]=_0x3b935d+_0x3e976d(0x319),_0x408394['click'](),document[_0x3e976d(0xc49)][_0x3e976d(0x574)](_0x408394);}function exportTableAsExcel(_0x38c1aa,_0x1bddba){const _0x1f7efd=_0xe56031,_0x1e22a0=document['getElementById'](_0x38c1aa);if(!_0x1e22a0){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x4e0d72=[];for(let _0x390b57=0x0;_0x390b57<_0x1e22a0[_0x1f7efd(0x314)][_0x1f7efd(0xb5d)];_0x390b57++){let _0x1ccf85=[],_0x54e8ac=_0x1e22a0['rows'][_0x390b57][_0x1f7efd(0x30c)]('td,\x20th');for(let _0x2cb786=0x0;_0x2cb786<_0x54e8ac[_0x1f7efd(0xb5d)];_0x2cb786++){_0x1ccf85[_0x1f7efd(0x632)]('\x22'+_0x54e8ac[_0x2cb786][_0x1f7efd(0x869)][_0x1f7efd(0xbfd)](/"/g,'\x22\x22')+'\x22');}_0x4e0d72['push'](_0x1ccf85['join'](','));}const _0x415a14=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x4e0d72[_0x1f7efd(0x51a)]('\x0a')],{'type':_0x1f7efd(0x2ae)}),_0x454242=document['createElement']('a');_0x454242[_0x1f7efd(0x1ee)]=URL['createObjectURL'](_0x415a14),_0x454242[_0x1f7efd(0x7ee)]=_0x1bddba+_0x1f7efd(0x3e4),_0x454242['click']();}function renderAnalytics(_0x53c788,_0x5a12b6){const _0x153cbd=_0xe56031,_0xeb037f=_0x5a12b6[_0x153cbd(0x23d)](_0x5480d0=>_0x5480d0[_0x153cbd(0x905)]!==undefined),_0x47464f=currentProjectData[_0x153cbd(0x4c2)][_0x153cbd(0xb5d)],_0x53f555=_0xeb037f[_0x153cbd(0xb5d)],_0x3bc4eb=_0x47464f-_0x53f555,_0x49ca97=_0x47464f>0x0?_0x53f555/_0x47464f*0x64:0x0,_0x25415b=_0xeb037f[_0x153cbd(0xaa7)](_0x322968=>_0x322968[_0x153cbd(0x905)]),_0x58d068=_0x25415b[_0x153cbd(0xb5d)]>0x0?_0x25415b[_0x153cbd(0x89f)]((_0x3f7601,_0x3acb2d)=>_0x3f7601+_0x3acb2d,0x0)/_0x25415b['length']:0x0,_0x1365ca=_0x53c788[_0x153cbd(0xafb)][_0x153cbd(0xb5d)],_0x107bc6=_0x1365ca>0x0?_0x58d068/_0x1365ca*0x64:0x0,_0x484b46=calculateItemAnalysis(_0x53c788,_0xeb037f),_0x395675=calculateReliabilityKR20(_0x53c788,_0xeb037f,_0x484b46[_0x153cbd(0x8ae)]);let _0x4e31d5='';if(_0x395675!==null){let _0x58a5ee='';if(_0x395675>=0.9)_0x58a5ee=_0x153cbd(0x780);else{if(_0x395675>=0.8)_0x58a5ee=_0x153cbd(0xd39);else{if(_0x395675>=0.7)_0x58a5ee='ดี';else{if(_0x395675>=0.6)_0x58a5ee=_0x153cbd(0x835);else _0x58a5ee=_0x153cbd(0x987);}}}_0x4e31d5=_0x153cbd(0x769)+_0x395675[_0x153cbd(0x72d)](0x2)+_0x153cbd(0xc4a)+_0x58a5ee+_0x153cbd(0xc46);}const _0x46956d=document[_0x153cbd(0x581)](_0x153cbd(0xd1c));_0x46956d[_0x153cbd(0x81c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x49ca97['toFixed'](0x0)+_0x153cbd(0x7d6)+_0x53f555+'/'+_0x47464f+_0x153cbd(0x27d)+_0x58d068[_0x153cbd(0x72d)](0x2)+_0x153cbd(0xb55)+_0x107bc6[_0x153cbd(0x72d)](0x0)+_0x153cbd(0x2df)+(_0x25415b[_0x153cbd(0xb5d)]>0x0?Math[_0x153cbd(0xc02)](..._0x25415b):_0x153cbd(0x728))+_0x153cbd(0xd27)+(_0x25415b[_0x153cbd(0xb5d)]>0x0?Math[_0x153cbd(0xa90)](..._0x25415b):_0x153cbd(0x728))+_0x153cbd(0x345)+_0x4e31d5+_0x153cbd(0xbc7);const _0x1530db=document[_0x153cbd(0x581)](_0x153cbd(0x3c0));_0x1530db&&_0x1530db['remove']();const _0x56524b=_0x153cbd(0x7ff);_0x46956d['insertAdjacentHTML']('afterend',_0x56524b);const _0x27610e=currentProjectData[_0x153cbd(0x4c2)]||[];renderSubmissionChart(_0x53f555,_0x3bc4eb,_0xeb037f,_0x27610e),renderScoreDistributionChart(_0xeb037f,_0x1365ca),renderQuestionAnalytics(_0x53c788,_0xeb037f,_0x27610e),renderInterestingStats(_0x53c788,_0xeb037f);}async function handleExportLessonPDF(){const _0x44c740=_0xe56031,_0x1c8d67=document[_0x44c740(0x581)](_0x44c740(0xc92)),_0x3b4e76=document[_0x44c740(0x581)](_0x44c740(0xbe8))[_0x44c740(0x25c)],_0x278fc7=window[_0x44c740(0x8ec)]('',_0x44c740(0x6df)),_0x1be96b=_0x44c740(0x640)+_0x3b4e76+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c8d67[_0x44c740(0x81c)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x278fc7['document'][_0x44c740(0xab1)](_0x1be96b),_0x278fc7[_0x44c740(0x54b)]['close'](),_0x278fc7['onload']=function(){setTimeout(()=>{const _0x1de028=_0x352e;_0x278fc7[_0x1de028(0xd5d)]();},0x5dc);};}function renderInterestingStats(_0x2d0f57,_0x2b7b5f){const _0x51957e=_0xe56031,_0xa7bed2=document['getElementById'](_0x51957e(0x579));if(!_0xa7bed2)return;if(_0x2b7b5f[_0x51957e(0xb5d)]===0x0){_0xa7bed2['innerHTML']=_0x51957e(0x694);return;}const _0x36d53b=_0x2d0f57['questions']['map']((_0x43b96c,_0x1a59a5)=>({'index':_0x1a59a5+0x1,'text':_0x43b96c[_0x51957e(0x562)]||_0x43b96c[_0x51957e(0x3b4)],'correct':0x0}));_0x2b7b5f[_0x51957e(0x215)](_0x3d47a9=>{const _0x2f52f9=_0x51957e,_0x5602d8=_0x3d47a9['attempts'][_0x3d47a9[_0x2f52f9(0x23a)][_0x2f52f9(0xb5d)]-0x1];_0x5602d8&&_0x5602d8[_0x2f52f9(0x7d8)]&&_0x5602d8[_0x2f52f9(0x7d8)][_0x2f52f9(0x215)](_0x20a497=>{const _0x4a4001=_0x2f52f9,_0x48e205=_0x36d53b[_0x4a4001(0x692)](_0x1fded4=>_0x1fded4[_0x4a4001(0x8e9)]===_0x20a497[_0x4a4001(0x450)]);_0x20a497[_0x4a4001(0x783)]&&_0x48e205&&_0x48e205['correct']++;});});const _0x407c27=_0x2b7b5f['length'],_0x56f0d9=Math['max'](..._0x36d53b[_0x51957e(0xaa7)](_0x77d2c4=>_0x77d2c4[_0x51957e(0x390)])),_0x4c0db7=Math[_0x51957e(0xa90)](..._0x36d53b[_0x51957e(0xaa7)](_0x48d57c=>_0x48d57c[_0x51957e(0x390)])),_0x229640=_0x36d53b['filter'](_0x357278=>_0x357278[_0x51957e(0x390)]===_0x56f0d9)[_0x51957e(0xaa7)](_0x1653ad=>_0x51957e(0x206)+_0x1653ad[_0x51957e(0x53e)]),_0x5ee07c=_0x36d53b[_0x51957e(0x23d)](_0x5ba5b6=>_0x5ba5b6[_0x51957e(0x390)]===_0x4c0db7)[_0x51957e(0xaa7)](_0x37f171=>_0x51957e(0x206)+_0x37f171[_0x51957e(0x53e)]),_0x327026=_0x2b7b5f[_0x51957e(0x57f)]((_0x6555f,_0x45654d)=>_0x45654d[_0x51957e(0x905)]-_0x6555f[_0x51957e(0x905)])[_0x51957e(0x23d)]((_0x5db249,_0x1df905,_0x4d611e)=>_0x5db249[_0x51957e(0x905)]===_0x4d611e[0x0]['latestScore']),_0x36e6e6=_0x2b7b5f['sort']((_0x3bb383,_0x19ce09)=>_0x3bb383['latestScore']-_0x19ce09[_0x51957e(0x905)])[_0x51957e(0x23d)]((_0x2a7f85,_0x6cfcaa,_0x26683d)=>_0x2a7f85[_0x51957e(0x905)]===_0x26683d[0x0][_0x51957e(0x905)]),_0x2feada='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x229640[_0x51957e(0x51a)](',\x20')+_0x51957e(0x61d)+_0x56f0d9+_0x51957e(0x329)+_0x407c27+_0x51957e(0xcfc)+_0x5ee07c['join'](',\x20')+_0x51957e(0x61d)+(_0x407c27-_0x4c0db7)+_0x51957e(0x329)+_0x407c27+_0x51957e(0x462)+_0x327026[_0x51957e(0xaa7)](_0x50a5a4=>_0x50a5a4[_0x51957e(0x63c)])[_0x51957e(0x51a)](',\x20')+_0x51957e(0x382)+_0x327026[0x0][_0x51957e(0x905)]+_0x51957e(0x95b)+_0x36e6e6[_0x51957e(0xaa7)](_0x298404=>_0x298404[_0x51957e(0x63c)])[_0x51957e(0x51a)](',\x20')+_0x51957e(0x382)+_0x36e6e6[0x0][_0x51957e(0x905)]+_0x51957e(0xd8e);_0xa7bed2[_0x51957e(0x81c)]=_0x2feada;}function renderSubmissionChart(_0x58d6a7,_0x5decf3,_0x1c72b0,_0xaba8af){const _0x115c61=_0xe56031,_0x124296=document['getElementById']('submission-status-chart')[_0x115c61(0xcdf)]('2d'),_0x1f3052=_0x1c72b0['map'](_0x30cd9a=>_0x30cd9a[_0x115c61(0x63c)]),_0x3d141e=_0xaba8af['filter'](_0x366e1b=>!_0x1f3052[_0x115c61(0x6f7)](_0x366e1b));chartInstances['submission']&&chartInstances['submission'][_0x115c61(0x269)](),chartInstances['submission']=new Chart(_0x124296,{'type':_0x115c61(0xa06),'data':{'labels':[_0x115c61(0xc43),'ยังไม่ส่ง'],'datasets':[{'data':[_0x58d6a7,_0x5decf3],'backgroundColor':[_0x115c61(0xaa1),_0x115c61(0x596)],'borderColor':[_0x115c61(0x267),_0x115c61(0x267)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x115c61(0xca2)},'tooltip':{'callbacks':{'label':function(_0x265a0e){const _0x4b22a6=_0x115c61;let _0x2987fb=_0x265a0e['label']||'';return _0x2987fb&&(_0x2987fb+=':\x20'),_0x2987fb+=_0x265a0e[_0x4b22a6(0x4f0)],_0x2987fb;},'afterLabel':function(_0x5333cc){const _0x37056a=_0x115c61;let _0x39d377;return _0x5333cc['dataIndex']===0x0?_0x39d377=_0x1f3052:_0x39d377=_0x3d141e,_0x39d377[_0x37056a(0xb5d)]>0x0?_0x39d377[_0x37056a(0x51a)]('\x0a'):_0x37056a(0x882);}}}}}});}function renderScoreDistributionChart(_0x4c1822,_0xf424f9){const _0x3e9b2a=_0xe56031,_0xb7e1d3=document[_0x3e9b2a(0x581)](_0x3e9b2a(0x8e5))[_0x3e9b2a(0xcdf)]('2d'),_0xe43a9b={};for(let _0x2fdb75=0x0;_0x2fdb75<=_0xf424f9;_0x2fdb75++){_0xe43a9b[_0x2fdb75]=0x0;}_0x4c1822[_0x3e9b2a(0x215)](_0x2eda23=>{const _0x47bfc4=_0x3e9b2a;_0xe43a9b[_0x2eda23[_0x47bfc4(0x905)]]!==undefined&&_0xe43a9b[_0x2eda23[_0x47bfc4(0x905)]]++;}),chartInstances[_0x3e9b2a(0x9b7)]&&chartInstances[_0x3e9b2a(0x9b7)][_0x3e9b2a(0x269)](),chartInstances[_0x3e9b2a(0x9b7)]=new Chart(_0xb7e1d3,{'type':'bar','data':{'labels':Object[_0x3e9b2a(0x9d8)](_0xe43a9b),'datasets':[{'label':_0x3e9b2a(0x36e),'data':Object['values'](_0xe43a9b),'backgroundColor':_0x3e9b2a(0xb5f),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x3e9b2a(0x4d0)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x476566){const _0x2628ac=_0x3e9b2a,_0x3a18ce=_0x476566['label'],_0x263854=_0x4c1822[_0x2628ac(0x23d)](_0x3046d1=>_0x3046d1[_0x2628ac(0x905)]==_0x3a18ce)['map'](_0x19715f=>_0x19715f['studentName']);return _0x263854[_0x2628ac(0xb5d)]>0x0?_0x263854[_0x2628ac(0x51a)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x1bdf77,_0x58c7ad,_0x5380e0){const _0x1129df=_0xe56031,_0x4ccdf8=document[_0x1129df(0x581)](_0x1129df(0x425));if(_0x5380e0['length']===0x0){_0x4ccdf8[_0x1129df(0x81c)]=_0x1129df(0x5d8);return;}const _0x4ef5f3=calculateItemAnalysis(_0x1bdf77,_0x58c7ad),_0x24c0e5=calculateDistractorAnalysis(_0x1bdf77,_0x58c7ad);let _0x1c3b20='';_0x4ef5f3[_0x1129df(0x8e1)]&&(_0x1c3b20=_0x1129df(0xd78)+_0x4ef5f3[_0x1129df(0x8e1)][_0x1129df(0xb90)][_0x1129df(0xb5d)]+_0x1129df(0x28f)+_0x4ef5f3[_0x1129df(0x8e1)]['upperGroupNames'][_0x1129df(0xaa7)](_0x5e0764=>_0x1129df(0x35d)+_0x5e0764+'</li>')[_0x1129df(0x51a)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x4ef5f3[_0x1129df(0x8e1)][_0x1129df(0x9f8)][_0x1129df(0xb5d)]+_0x1129df(0x28f)+_0x4ef5f3['overallGroups']['lowerGroupNames'][_0x1129df(0xaa7)](_0x9ae5fb=>'<li>'+_0x9ae5fb+_0x1129df(0x68a))[_0x1129df(0x51a)]('')+_0x1129df(0x6a0));let _0x38700f='';const _0x519986=_0x58c7ad[_0x1129df(0xaa7)](_0xaab4cc=>_0xaab4cc['studentName']),_0xb9ca7a=_0x542850=>{const _0x207aae=_0x1129df;if(_0x542850>=0.8)return _0x207aae(0x591);if(_0x542850>=0.6)return _0x207aae(0xd29);if(_0x542850>=0.4)return _0x207aae(0xbcd);if(_0x542850>=0.2)return _0x207aae(0x3ba);return _0x207aae(0x6bc);},_0x2b3b44=_0x397d9b=>{const _0x1cbbad=_0x1129df;if(_0x397d9b<0x0)return _0x1cbbad(0xb7e);if(_0x397d9b>=0.4)return _0x1cbbad(0xa2c);if(_0x397d9b>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0x397d9b>=0.2)return _0x1cbbad(0x40e);return _0x1cbbad(0xc38);},_0x1f91d0=_0x5c2341=>{const _0x49064c=_0x1129df,_0x2ac0c6=_0x5c2341[_0x49064c(0x72d)](0x0);if(parseFloat(_0x2ac0c6)===0x64)return _0x49064c(0x50c)+_0x2ac0c6+_0x49064c(0xbb8);if(_0x5c2341>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x2ac0c6+_0x49064c(0xbb8);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x2ac0c6+_0x49064c(0xbb8);};_0x1bdf77[_0x1129df(0xafb)][_0x1129df(0x215)]((_0x576849,_0xf9d6f7)=>{const _0x399b55=_0x1129df,_0x5b2c29=_0x4ef5f3[_0x399b55(0x8ae)][_0xf9d6f7],_0xfb54b3=_0x24c0e5[_0xf9d6f7],_0x5be636=_0x576849['stem']||_0x576849[_0x399b55(0x562)]||_0x576849[_0x399b55(0xc78)];let _0x50eea4=0x0;const _0x31bcf7=[],_0x12390b=[];_0x58c7ad[_0x399b55(0x215)](_0x3f256a=>{const _0x443e08=_0x399b55,_0x1c3a23=_0x3f256a[_0x443e08(0x23a)][_0x3f256a[_0x443e08(0x23a)][_0x443e08(0xb5d)]-0x1];if(_0x1c3a23&&_0x1c3a23[_0x443e08(0x7d8)]){const _0x20b010=_0x1c3a23[_0x443e08(0x7d8)][_0x443e08(0x692)](_0x4ab2b2=>_0x4ab2b2[_0x443e08(0x450)]===_0x5be636)??_0x1c3a23[_0x443e08(0x7d8)][_0xf9d6f7]??null;_0x20b010&&(_0x20b010['isCorrect']?(_0x50eea4++,_0x31bcf7[_0x443e08(0x632)](_0x3f256a[_0x443e08(0x63c)])):_0x12390b[_0x443e08(0x632)](_0x3f256a[_0x443e08(0x63c)]));}});const _0x310dd1=_0x58c7ad[_0x399b55(0xb5d)]>0x0?_0x50eea4/_0x58c7ad[_0x399b55(0xb5d)]*0x64:0x0,_0x492c23=_0x5380e0[_0x399b55(0x23d)](_0x5a5c08=>!_0x519986['includes'](_0x5a5c08)),_0x1d41d9=_0x5b2c29?_0x399b55(0x344)+_0x5b2c29['p'][_0x399b55(0x72d)](0x2)+_0x399b55(0x1b9)+_0xb9ca7a(_0x5b2c29['p'])+_0x399b55(0xc75)+_0x5b2c29['r'][_0x399b55(0x72d)](0x2)+'</p><div>'+_0x2b3b44(_0x5b2c29['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1f91d0(_0x310dd1)+_0x399b55(0x377):'';let _0x1bd99e='';_0xfb54b3&&(_0x1bd99e=_0x399b55(0xcc5)+Object['keys'](_0xfb54b3)[_0x399b55(0xaa7)](_0x2a23be=>{const _0x1545d2=_0x399b55,_0x48d531=_0xfb54b3[_0x2a23be],_0x4a9a2c=parseInt(_0x2a23be)===_0x576849['correctAnswerIndex'],_0x1c4121=!_0x4a9a2c&&_0x48d531['lower_group_count']>_0x48d531[_0x1545d2(0x78b)];return'<tr\x20class=\x22'+(_0x4a9a2c?'bg-green-100\x20font-bold':'')+_0x1545d2(0x5f7)+(_0x4a9a2c?'✔\x20':'')+_0x48d531[_0x1545d2(0x8e9)]+_0x1545d2(0x1c2)+_0x48d531[_0x1545d2(0x78b)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x48d531[_0x1545d2(0x65b)]+'\x20'+(_0x1c4121?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x48d531[_0x1545d2(0x192)]+_0x1545d2(0x514);})[_0x399b55(0x51a)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x5485b4='';_0x5b2c29&&_0x5b2c29[_0x399b55(0xbf8)]&&(_0x5485b4=_0x399b55(0x546)+_0x5b2c29['upperGroupResponders'][_0x399b55(0xb5d)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x5b2c29[_0x399b55(0xbf8)][_0x399b55(0xaa7)](_0x4b17f8=>_0x399b55(0x35d)+(_0x4b17f8[_0x399b55(0x783)]?_0x399b55(0xd67):_0x399b55(0xabb))+'\x20'+_0x4b17f8[_0x399b55(0xb95)]+'</li>')[_0x399b55(0x51a)]('')+_0x399b55(0x1e6)+_0x5b2c29[_0x399b55(0xb7f)][_0x399b55(0xb5d)]+_0x399b55(0x301)+_0x5b2c29[_0x399b55(0xb7f)][_0x399b55(0xaa7)](_0x23013d=>_0x399b55(0x35d)+(_0x23013d[_0x399b55(0x783)]?_0x399b55(0xd67):_0x399b55(0xabb))+'\x20'+_0x23013d[_0x399b55(0xb95)]+_0x399b55(0x68a))[_0x399b55(0x51a)]('')+_0x399b55(0xd82)),_0x38700f+=_0x399b55(0xbcf)+(_0xf9d6f7+0x1)+':\x20'+_0x5be636+_0x399b55(0xd0f)+_0x1d41d9+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x5be636+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x50eea4+'\x20จาก\x20'+_0x58c7ad[_0x399b55(0xb5d)]+_0x399b55(0x82c)+_0x310dd1[_0x399b55(0x72d)](0x0)+_0x399b55(0x8d8)+_0x31bcf7[_0x399b55(0xb5d)]+_0x399b55(0x752)+(_0x31bcf7[_0x399b55(0xb5d)]>0x0?_0x31bcf7[_0x399b55(0x51a)](',\x20'):_0x399b55(0x882))+_0x399b55(0x2fa)+_0x12390b[_0x399b55(0xb5d)]+_0x399b55(0x752)+(_0x12390b[_0x399b55(0xb5d)]>0x0?_0x12390b[_0x399b55(0x51a)](',\x20'):_0x399b55(0x882))+_0x399b55(0xc29)+_0x492c23[_0x399b55(0xb5d)]+_0x399b55(0x752)+(_0x492c23[_0x399b55(0xb5d)]>0x0?_0x492c23[_0x399b55(0x51a)](',\x20'):'ไม่มี')+_0x399b55(0x6b6)+_0x1bd99e+_0x399b55(0x8a2)+_0x5485b4+_0x399b55(0x3a2);}),_0x4ccdf8[_0x1129df(0x81c)]=_0x1c3b20+_0x38700f;try{window[_0x1129df(0x609)]&&MathJax[_0x1129df(0x461)]&&MathJax['typesetPromise']([_0x4ccdf8]);}catch(_0x582c11){console[_0x1129df(0x90c)](_0x1129df(0xbe1),_0x582c11);}}function calculateDistractorAnalysis(_0x41540a,_0x22a844){const _0xf83cf8=_0xe56031,_0x443ad1={};if(_0x22a844['length']<0x2)return _0x443ad1;const _0x43cd92=[..._0x22a844][_0xf83cf8(0x57f)]((_0x4187c4,_0x565169)=>{const _0x1394e7=_0xf83cf8,_0x35fb49=_0x565169['latestScore']-_0x4187c4[_0x1394e7(0x905)];if(_0x35fb49!==0x0)return _0x35fb49;const _0x233c8f=_0x4187c4[_0x1394e7(0x23a)]?.[_0x1394e7(0xb5d)]||0x1,_0x1fbccc=_0x565169['attempts']?.[_0x1394e7(0xb5d)]||0x1,_0x432998=_0x233c8f-_0x1fbccc;if(_0x432998!==0x0)return _0x432998;const _0x252b5c=new Date(_0x4187c4['latestSubmittedAt']),_0xfd83a=new Date(_0x565169[_0x1394e7(0x370)]),_0x305347=_0x252b5c-_0xfd83a;if(_0x305347!==0x0)return _0x305347;return _0x4187c4[_0x1394e7(0x63c)][_0x1394e7(0xcba)](_0x565169[_0x1394e7(0x63c)],'th');}),_0x4fed2a=_0x43cd92[_0xf83cf8(0xb5d)],_0x4c86f7=Math[_0xf83cf8(0xc02)](0x1,Math[_0xf83cf8(0x87b)](_0x4fed2a*0.33)),_0x11d9b0=_0x43cd92[_0xf83cf8(0xc09)](0x0,_0x4c86f7),_0x1f8c76=_0x43cd92['slice'](-_0x4c86f7);return _0x41540a[_0xf83cf8(0xafb)][_0xf83cf8(0x215)]((_0x215437,_0x3f5163)=>{const _0x12cc3c=_0xf83cf8;if(_0x215437[_0x12cc3c(0xabf)]!==_0x12cc3c(0x84f)||!_0x215437[_0x12cc3c(0x578)])return;const _0x26aba8=_0x215437[_0x12cc3c(0x562)],_0x23a04c={};_0x215437['options'][_0x12cc3c(0x215)]((_0x3ba2ef,_0x5091b7)=>{_0x23a04c[_0x5091b7]={'text':_0x3ba2ef,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x43cd92[_0x12cc3c(0x215)](_0x4b4355=>{const _0x2b6f62=_0x12cc3c,_0x305bbf=_0x4b4355['attempts'][_0x4b4355['attempts'][_0x2b6f62(0xb5d)]-0x1],_0x1978b1=_0x305bbf['answers'][_0x2b6f62(0x692)](_0x1baf19=>_0x1baf19[_0x2b6f62(0x450)]===_0x26aba8);if(_0x1978b1&&_0x1978b1[_0x2b6f62(0xc0d)]!==null){const _0x17407a=_0x215437['options'][_0x2b6f62(0x8cc)](_0x681256=>_0x681256===_0x1978b1['answerText']);_0x17407a!==-0x1&&_0x23a04c[_0x17407a]&&(_0x23a04c[_0x17407a][_0x2b6f62(0x192)]++,_0x11d9b0[_0x2b6f62(0x6f7)](_0x4b4355)&&_0x23a04c[_0x17407a][_0x2b6f62(0x78b)]++,_0x1f8c76[_0x2b6f62(0x6f7)](_0x4b4355)&&_0x23a04c[_0x17407a][_0x2b6f62(0x65b)]++);}}),_0x443ad1[_0x3f5163]=_0x23a04c;}),_0x443ad1;}function calculateReliabilityKR20(_0xc88794,_0xc2a170,_0x52a199){const _0x30b868=_0xe56031,_0xa3bc33=_0xc88794[_0x30b868(0xafb)]['length'];if(_0xa3bc33<0x2||_0xc2a170[_0x30b868(0xb5d)]<0x2)return null;const _0x223272=_0xc2a170[_0x30b868(0xaa7)](_0x29691c=>_0x29691c[_0x30b868(0x905)]),_0x53ffba=_0x223272[_0x30b868(0x89f)]((_0x546174,_0x51a770)=>_0x546174+_0x51a770,0x0)/_0x223272['length'],_0x3175dd=_0x223272[_0x30b868(0xaa7)](_0x60b368=>Math[_0x30b868(0x8d0)](_0x60b368-_0x53ffba,0x2))['reduce']((_0x321cb3,_0xc05164)=>_0x321cb3+_0xc05164,0x0)/_0x223272[_0x30b868(0xb5d)];if(_0x3175dd===0x0)return null;let _0x1d474c=0x0;for(let _0x498646=0x0;_0x498646<_0xa3bc33;_0x498646++){const _0x422186=_0x52a199[_0x498646]?.['p'];if(_0x422186===undefined)continue;const _0xe29324=0x1-_0x422186;_0x1d474c+=_0x422186*_0xe29324;}if(_0x1d474c===0x0)return null;const _0x43b01a=_0xa3bc33/(_0xa3bc33-0x1)*(0x1-_0x1d474c/_0x3175dd);if(_0x43b01a>0x1)return null;return _0x43b01a;}async function handleAnalyzeClass(){const _0x3b0a85=_0xe56031;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x3b0a85(0x4fb));return;}const _0x2d21b4=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x3b0a85(0xbbb)),_0x2d9664=await getDocs(_0x2d21b4),_0x648e55=_0x2d9664['docs']['map'](_0x42ddc2=>_0x42ddc2['data']());if(_0x648e55[_0x3b0a85(0xb5d)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x5b4361=document[_0x3b0a85(0x581)]('strength-weakness-analysis-container');_0x5b4361[_0x3b0a85(0x81c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x3b0a85(0x581)](_0x3b0a85(0x59e))[_0x3b0a85(0x5ba)]=!![];const _0x38ccff=_0x648e55[_0x3b0a85(0xaa7)]((_0x2e51c4,_0x108816)=>{const _0x471387=_0x3b0a85,_0x2e5d40=_0x2e51c4[_0x471387(0x23a)][_0x2e51c4[_0x471387(0x23a)][_0x471387(0xb5d)]-0x1];if(!_0x2e5d40)return'';return _0x471387(0x1f8)+(_0x108816+0x1)+'\x20('+_0x2e51c4[_0x471387(0x63c)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x2e5d40[_0x471387(0x9b7)]+'/'+_0x2e51c4[_0x471387(0x511)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON[_0x471387(0x35f)](_0x2e5d40[_0x471387(0x7d8)])+_0x471387(0x747);})['join'](_0x3b0a85(0x8f7)),_0x4db02c=_0x3b0a85(0x58d)+currentQuizData[_0x3b0a85(0x5c5)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON[_0x3b0a85(0x35f)](currentQuizData[_0x3b0a85(0xafb)])+_0x3b0a85(0x5b2)+_0x38ccff+_0x3b0a85(0x933),_0x167062={'type':_0x3b0a85(0x965),'properties':{'classStrengths':{'type':_0x3b0a85(0xca9),'items':{'type':_0x3b0a85(0xa75)}},'classWeaknesses':{'type':_0x3b0a85(0xca9),'items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x3b0a85(0xca9),'items':{'type':_0x3b0a85(0xa75)}}},'required':['classStrengths','classWeaknesses','teacherSuggestions']};try{const _0x45c555=await callAnalysisApi(_0x4db02c,_0x167062);displayClassAnalysis(_0x45c555);}catch(_0x16a1a8){console[_0x3b0a85(0x90c)]('Error\x20during\x20class\x20analysis:',_0x16a1a8),_0x5b4361[_0x3b0a85(0x81c)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x16a1a8[_0x3b0a85(0x76b)]+'</p></div>';}finally{document[_0x3b0a85(0x581)](_0x3b0a85(0x59e))['disabled']=![];}}function displayClassAnalysis(_0x18fffa){const _0x42aee3=_0xe56031,_0x54a19d=document['getElementById']('strength-weakness-analysis-container');if(!_0x18fffa){_0x54a19d['innerHTML']=_0x42aee3(0x4ab);return;}_0x54a19d[_0x42aee3(0x81c)]=_0x42aee3(0x421)+_0x18fffa[_0x42aee3(0x7d0)][_0x42aee3(0xaa7)](_0x46692b=>_0x42aee3(0x35d)+_0x46692b+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18fffa['classWeaknesses'][_0x42aee3(0xaa7)](_0x399b06=>_0x42aee3(0x35d)+_0x399b06+_0x42aee3(0x68a))['join']('')+_0x42aee3(0x5aa)+_0x18fffa[_0x42aee3(0x313)][_0x42aee3(0xaa7)](_0x5265c3=>_0x42aee3(0x35d)+_0x5265c3+_0x42aee3(0x68a))['join']('')+_0x42aee3(0x705);}function formatAndPrintWorksheet(_0x39fdf8,_0x4d0a7b){const _0x42dacf=_0xe56031,_0xa8eb11=_0x42dacf(0x629)+_0x39fdf8[_0x42dacf(0x5c5)]+_0x42dacf(0x9c0)+_0x39fdf8[_0x42dacf(0x5c5)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x39fdf8[_0x42dacf(0xafb)]['map']((_0x2f5ad2,_0x3146df)=>_0x42dacf(0x9be)+(_0x3146df+0x1)+'.\x20'+_0x2f5ad2[_0x42dacf(0x562)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2f5ad2[_0x42dacf(0xa8e)]?_0x42dacf(0x9d9)+_0x2f5ad2[_0x42dacf(0xa8e)]+_0x42dacf(0x209):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x42dacf(0x51a)]('')+_0x42dacf(0xbef);_0x4d0a7b['document'][_0x42dacf(0xab1)](_0xa8eb11),_0x4d0a7b[_0x42dacf(0x54b)][_0x42dacf(0x784)](),_0x4d0a7b['onload']=function(){setTimeout(()=>{const _0x5a43a0=_0x352e;_0x4d0a7b[_0x5a43a0(0xd5d)]();},0x3e8);};}async function generateWorksheet(){const _0xd7df6a=_0xe56031,_0x5f3431=document['getElementById'](_0xd7df6a(0x9d1))['value'][_0xd7df6a(0xd92)]();if(!_0x5f3431){showMessage(_0xd7df6a(0xb59));return;}const _0x515f4e=document[_0xd7df6a(0x581)]('force-math-checkbox')[_0xd7df6a(0x1f1)],_0x4eddba=_0x515f4e?'':_0xd7df6a(0x744),_0x3ec166=window['open']('',_0xd7df6a(0x6df));_0x3ec166[_0xd7df6a(0x54b)]['write']('<h1></h1>');const _0x4d5242=parseInt(document[_0xd7df6a(0x581)]('num-questions')[_0xd7df6a(0x9ef)]),_0x3cd56b=document['getElementById']('include-images-checkbox')['checked'],_0x481803=_0x3cd56b?_0xd7df6a(0x6aa):'',_0x4b3574=_0xd7df6a(0x441)+_0x4eddba+_0xd7df6a(0x846)+_0x4d5242+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x5f3431+_0xd7df6a(0x767)+_0x481803+_0xd7df6a(0x494)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x4808cf={'type':_0xd7df6a(0x965),'properties':{'topic':{'type':_0xd7df6a(0xa75)},'questions':{'type':'ARRAY','items':{'type':_0xd7df6a(0x965),'properties':{'questionText':{'type':_0xd7df6a(0xa75)},'imageCode':{'type':_0xd7df6a(0xa75)}},'required':[_0xd7df6a(0x562)]}}},'required':[_0xd7df6a(0x5c5),_0xd7df6a(0xafb)]};document[_0xd7df6a(0x581)](_0xd7df6a(0x566))[_0xd7df6a(0x25c)]='',document[_0xd7df6a(0x581)]('loader')[_0xd7df6a(0x3f5)][_0xd7df6a(0xbb6)](_0xd7df6a(0xa91)),document[_0xd7df6a(0x581)](_0xd7df6a(0x1e1))['classList'][_0xd7df6a(0xbb6)]('hidden'),generateWorksheetBtn[_0xd7df6a(0x5ba)]=!![];try{const _0x3dec23=await callAnalysisApi(_0x4b3574,_0x4808cf);formatAndPrintWorksheet(_0x3dec23,_0x3ec166);}catch(_0x3dacd0){console[_0xd7df6a(0x90c)](_0xd7df6a(0x8e4),_0x3dacd0);if(_0x3ec166)_0x3ec166[_0xd7df6a(0x784)]();showMessage(_0xd7df6a(0x292));}finally{document['getElementById'](_0xd7df6a(0x86b))[_0xd7df6a(0x3f5)][_0xd7df6a(0xd54)]('hidden'),document['getElementById'](_0xd7df6a(0x1e1))[_0xd7df6a(0x3f5)][_0xd7df6a(0xd54)](_0xd7df6a(0xa91)),generateWorksheetBtn[_0xd7df6a(0x5ba)]=![];}}async function callAnalysisApi(_0x3c13a7,_0x817e2a){const _0x2650ca=_0xe56031,_0x1f6af8={'contents':[{'role':'user','parts':[{'text':_0x3c13a7}]}],'generationConfig':{'responseMimeType':_0x2650ca(0x593),'responseSchema':_0x817e2a}},_0x205c07=_0x2650ca(0x448),_0x383230='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x205c07,_0x1206af=await fetch(_0x383230,{'method':_0x2650ca(0x4b9),'headers':{'Content-Type':_0x2650ca(0x593)},'body':JSON['stringify'](_0x1f6af8)});if(!_0x1206af['ok'])throw new Error(_0x2650ca(0x3ad)+_0x1206af[_0x2650ca(0x342)]);const _0x34593f=await _0x1206af[_0x2650ca(0x960)]();if(_0x34593f[_0x2650ca(0xd2d)]?.[0x0]?.[_0x2650ca(0x513)]?.[_0x2650ca(0xb45)]?.[0x0])return JSON[_0x2650ca(0x559)](_0x34593f[_0x2650ca(0xd2d)][0x0]['content'][_0x2650ca(0xb45)][0x0][_0x2650ca(0x8e9)]);else{let _0x2b3ea3=_0x2650ca(0x4f6);if(_0x34593f[_0x2650ca(0x3cb)]?.['blockReason'])_0x2b3ea3='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x34593f['promptFeedback']['blockReason']+'.';else _0x34593f['candidates']?.[0x0]?.['finishReason']&&_0x34593f['candidates'][0x0][_0x2650ca(0x3ca)]!=='STOP'&&(_0x2b3ea3=_0x2650ca(0xbe7)+_0x34593f[_0x2650ca(0xd2d)][0x0][_0x2650ca(0x3ca)]+'.');console[_0x2650ca(0x90c)](_0x2b3ea3,JSON[_0x2650ca(0x35f)](_0x34593f));throw new Error(_0x2b3ea3);}}async function handleStartSyncMode(_0xb611e7,_0xaaf596=![],_0x671774=_0xe56031(0xc6c)){const _0x2355db=_0xe56031,_0xc8408e=allQuizzes[_0x2355db(0x692)](_0x2a530c=>_0x2a530c['id']===_0xb611e7)||allQuizzesGlobal['find'](_0x522116=>_0x522116['id']===_0xb611e7);if(!_0xc8408e){showMessage(_0x2355db(0x6d6));return;}currentQuizData=getShuffledQuiz(_0xc8408e);const _0x2815fa=Math['floor'](0x3e8+Math[_0x2355db(0x96f)]()*0x2328)[_0x2355db(0xd2a)](),_0x585419=doc(db,_0x2355db(0x637)+appId+'/public/data/projects',_0xc8408e['projectId']),_0x1774f9=await getDoc(_0x585419);if(!_0x1774f9[_0x2355db(0x437)]()){showMessage('ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้');return;}const _0x183391=_0x1774f9[_0x2355db(0x610)]()[_0x2355db(0x4c2)]||[],_0x201c55={};if(_0x671774==='anonymous'){const _0x2f1d93=[...ANONYMOUS_NAMES][_0x2355db(0x57f)](()=>0.5-Math['random']());_0x183391[_0x2355db(0x215)]((_0x3751db,_0xe38eea)=>{_0x201c55[_0x3751db]=_0x2f1d93[_0xe38eea]||'ผู้เล่น\x20'+(_0xe38eea+0x1);});}try{const _0x338fbe=await addDoc(collection(db,_0x2355db(0x637)+appId+_0x2355db(0x201)),{'quizId':_0xc8408e['id'],'pin':_0x2815fa,'status':_0x2355db(0xb96),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0xaaf596,'players':{},'gameVariant':_0x671774,'reviewQuestionIndex':0x0,'playerNicknames':_0x201c55,'isAnonymousRevealed':![]});currentLiveGameId=_0x338fbe['id'],showView(_0x2355db(0xa13)),renderSyncLobbyView(_0x2815fa,_0xc8408e['topic']),listenForSyncGameUpdates();}catch(_0x563cb8){console[_0x2355db(0x90c)](_0x2355db(0xc10),_0x563cb8),showMessage(_0x2355db(0x53c));}}function calculateFinalPodiumScores(_0x16bae3){const _0x5cd2cb=_0xe56031;if(!_0x16bae3||!_0x16bae3[_0x5cd2cb(0x7a6)]||!_0x16bae3['players'])return _0x16bae3[_0x5cd2cb(0xbaf)]||{};const _0x11c9f5=_0x16bae3['shuffledQuiz'][_0x5cd2cb(0xafb)][_0x5cd2cb(0xb5d)],_0x4837f7=JSON[_0x5cd2cb(0x559)](JSON[_0x5cd2cb(0x35f)](_0x16bae3['players']));return Object[_0x5cd2cb(0xa03)](_0x4837f7)['forEach'](_0x42ac05=>{const _0xd79385=_0x5cd2cb,_0x1ff254=_0x42ac05[_0xd79385(0x9b7)];let _0x37f1a9=_0x1ff254,_0x52fcc2=0x0;_0x16bae3[_0xd79385(0x3cf)]&&_0x42ac05['answers']&&_0x42ac05['answers'][_0xd79385(0x215)](_0x4863cf=>{const _0x36d892=_0xd79385;if(_0x4863cf['isCorrect']&&(_0x4863cf[_0x36d892(0x9dc)]===!![]||_0x4863cf[_0x36d892(0x9dc)]===_0x36d892(0xb9f)))_0x52fcc2+=0x1;else!_0x4863cf[_0x36d892(0x783)]&&(_0x4863cf[_0x36d892(0x9dc)]===!![]||_0x4863cf[_0x36d892(0x9dc)]===_0x36d892(0xb9f))&&(_0x52fcc2-=0x1);}),_0x37f1a9+=_0x52fcc2,_0x11c9f5>0x0&&_0x1ff254===_0x11c9f5&&(_0x37f1a9+=0x1,_0x42ac05[_0xd79385(0x853)]=!![]),_0x42ac05['score']=_0x37f1a9;}),_0x4837f7;}function listenForSyncGameUpdates(){const _0xd9a975=_0xe56031;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x427b03=doc(db,_0xd9a975(0x637)+appId+_0xd9a975(0x201),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x427b03,_0x307a28=>{const _0xe21171=_0xd9a975;if(!_0x307a28['exists']()){sessionStorage[_0xe21171(0xd3f)](_0xe21171(0x957));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0xe21171(0x375));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0xe21171(0x47f)):showView(_0xe21171(0x39a));return;}const _0x1f1f47=_0x307a28['data']();currentMode==='admin'?updateAdminSyncView(_0x1f1f47):updateStudentSyncView(_0x1f1f47);});}function renderSyncLobbyView(_0x26c84c,_0x598c9f){const _0x327d96=_0xe56031;liveGameView['innerHTML']=_0x327d96(0xc59)+_0x598c9f+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x26c84c+_0x327d96(0x863);const _0x329809=document[_0x327d96(0x581)](_0x327d96(0xc1b)),_0x564f6c=document[_0x327d96(0x581)](_0x327d96(0x786));_0x329809['addEventListener'](_0x327d96(0x60a),()=>{const _0x10723d=_0x327d96;_0x564f6c[_0x10723d(0x9fb)][_0x10723d(0x4b0)]=_0x329809[_0x10723d(0x1f1)]?_0x10723d(0xc0e):_0x10723d(0xbf7);}),document['getElementById']('start-sync-game-btn')[_0x327d96(0x395)]('click',async()=>{const _0x50a2cf=_0x327d96,_0x1c5178=doc(db,_0x50a2cf(0x637)+appId+_0x50a2cf(0x201),currentLiveGameId),_0x17e904=document[_0x50a2cf(0x581)](_0x50a2cf(0xc1b))['checked'];await updateDoc(_0x1c5178,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x17e904});});}function updateAdminSyncView(_0x37cc52){const _0x301cdd=_0xe56031;switch(_0x37cc52[_0x301cdd(0x342)]){case'lobby':renderSyncLobbyView(_0x37cc52[_0x301cdd(0x4d9)],_0x37cc52[_0x301cdd(0x7a6)][_0x301cdd(0x5c5)]);const _0x4a8ec9=Object[_0x301cdd(0x71a)](_0x37cc52[_0x301cdd(0xbaf)]||{})['filter'](([_0x14a40a,_0x155081])=>_0x155081[_0x301cdd(0x342)]!==_0x301cdd(0x7bf));document[_0x301cdd(0x581)](_0x301cdd(0x7e1))[_0x301cdd(0x25c)]=_0x4a8ec9[_0x301cdd(0xb5d)],document[_0x301cdd(0x581)](_0x301cdd(0x5c1))['innerHTML']=_0x4a8ec9[_0x301cdd(0xaa7)](([_0x3e0e94,_0x4366c0])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x3e0e94+_0x301cdd(0xcdc)+_0x3e0e94+_0x301cdd(0xcf2))[_0x301cdd(0x51a)]('')||_0x301cdd(0x5f8),document[_0x301cdd(0x581)](_0x301cdd(0x6fe))['disabled']=_0x4a8ec9['length']===0x0;break;case _0x301cdd(0x2c3):const _0x669109=Object[_0x301cdd(0xa03)](_0x37cc52[_0x301cdd(0xbaf)]||{})[_0x301cdd(0x23d)](_0x776e01=>_0x776e01[_0x301cdd(0x342)]!==_0x301cdd(0x7bf)),_0x4f4c1b=_0x669109[_0x301cdd(0x23d)](_0x18b615=>_0x18b615['answered'])['length'],_0x280c18=_0x4f4c1b===_0x669109[_0x301cdd(0xb5d)]&&_0x669109['length']>0x0;if(_0x280c18&&_0x37cc52['status']==='question'){const _0x154ce2=doc(db,_0x301cdd(0x637)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x154ce2,{'status':_0x301cdd(0xc2f)});}else{if(document[_0x301cdd(0x581)](_0x301cdd(0x8ed))===null)renderAdminSyncQuestionView(_0x37cc52);else{const _0x8ec51=document[_0x301cdd(0x581)](_0x301cdd(0xa4f));_0x8ec51&&(_0x8ec51[_0x301cdd(0x25c)]=_0x4f4c1b+'/'+_0x669109[_0x301cdd(0xb5d)]);const _0x58ace6=document['getElementById'](_0x301cdd(0xcac));_0x58ace6&&(_0x58ace6['innerHTML']=_0x669109[_0x301cdd(0xaa7)](_0x525bbb=>{const _0x2d297b=_0x301cdd,_0x1130d6=_0x525bbb[_0x2d297b(0x742)]?'bg-green-500':_0x2d297b(0x311),_0x1130e0=_0x525bbb['answered']?_0x2d297b(0x6c7):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x2d297b(0x67c)+_0x1130d6+_0x2d297b(0x39d)+_0x1130e0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x525bbb[_0x2d297b(0xb95)]+_0x2d297b(0xc3b)+_0x525bbb[_0x2d297b(0xb95)]+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x301cdd(0x51a)](''));}}break;case _0x301cdd(0xc2f):const _0x20701e=_0x37cc52[_0x301cdd(0x315)],_0x53e833=_0x37cc52[_0x301cdd(0x7a6)][_0x301cdd(0xafb)][_0x20701e];renderSyncSummaryView(_0x37cc52,_0x53e833,!![]);break;case _0x301cdd(0xcdd):const _0x5ab8f7=_0x37cc52[_0x301cdd(0x1d0)]||'classic';_0x5ab8f7===_0x301cdd(0x5ff)?renderAdminSyncDashboard(_0x37cc52,!![],_0x37cc52[_0x301cdd(0xaf1)]):renderAdminSyncDashboard(_0x37cc52,!![],_0x37cc52[_0x301cdd(0x315)]);break;case'podium':_0x37cc52[_0x301cdd(0xd8d)]&&saveGameResultsAsSubmissions(_0x37cc52);sessionStorage[_0x301cdd(0xd3f)](_0x301cdd(0x957));const _0x12a950=calculateFinalPodiumScores(_0x37cc52);showPodiumView(_0x12a950,_0x301cdd(0x568));break;}}function renderAdminSyncQuestionView(_0x2ef599){const _0x4a23eb=_0xe56031,_0x54ada9=_0x2ef599['currentQuestionIndex'],_0x5e37b7=_0x2ef599[_0x4a23eb(0x7a6)][_0x4a23eb(0xafb)][_0x54ada9],_0x3db8c5=_0x2ef599[_0x4a23eb(0x7a6)][_0x4a23eb(0xafb)]['length'],_0x541bde=Object['values'](_0x2ef599[_0x4a23eb(0xbaf)]||{})['filter'](_0x3ed73c=>_0x3ed73c['status']!=='inactive'),_0x30737d=_0x541bde['filter'](_0x555643=>_0x555643[_0x4a23eb(0x742)])[_0x4a23eb(0xb5d)],_0x1f2e6d=_0x30737d===_0x541bde[_0x4a23eb(0xb5d)]&&_0x541bde[_0x4a23eb(0xb5d)]>0x0,_0x4b7ac0=(_0x5e37b7[_0x4a23eb(0x578)]||[])['map'](_0x3a0c59=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0x3a0c59+'</div>')['join']('');liveGameView[_0x4a23eb(0x81c)]=_0x4a23eb(0x908)+(_0x54ada9+0x1)+_0x4a23eb(0x329)+_0x3db8c5+_0x4a23eb(0x453)+_0x30737d+'/'+_0x541bde[_0x4a23eb(0xb5d)]+_0x4a23eb(0x630)+_0x5e37b7[_0x4a23eb(0x562)]+_0x4a23eb(0x32c)+_0x4b7ac0+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20'+(!_0x1f2e6d?_0x4a23eb(0x5ba):'')+_0x4a23eb(0xa17);if(window[_0x4a23eb(0x609)])MathJax[_0x4a23eb(0x461)]();document[_0x4a23eb(0x581)](_0x4a23eb(0xa50))[_0x4a23eb(0x395)]('click',async()=>{const _0x156c0d=_0x4a23eb,_0x267692=doc(db,_0x156c0d(0x637)+appId+_0x156c0d(0x201),currentLiveGameId);await updateDoc(_0x267692,{'status':_0x156c0d(0xcdd)});}),document['getElementById'](_0x4a23eb(0x690))[_0x4a23eb(0xa46)]=()=>{const _0x2cb187=_0x4a23eb;openScratchpad(_0x5e37b7,_0x5e37b7[_0x2cb187(0x578)]||[]);},document[_0x4a23eb(0x581)]('sync-manage-players-btn')[_0x4a23eb(0x395)](_0x4a23eb(0xafd),()=>{const _0x1f4565=_0x4a23eb;document['getElementById'](_0x1f4565(0x8ed))[_0x1f4565(0x3f5)][_0x1f4565(0x65d)](_0x1f4565(0xa91));});}function renderSyncLeaderboardView(_0x5d9198,_0x517422){const _0x59eb62=_0xe56031,_0x5033e9=Object[_0x59eb62(0xa03)](_0x5d9198[_0x59eb62(0xbaf)]||{});_0x5033e9[_0x59eb62(0x57f)]((_0x3c4e99,_0x306e8a)=>_0x306e8a[_0x59eb62(0x9b7)]-_0x3c4e99[_0x59eb62(0x9b7)]);const _0x31b64d=_0x5033e9['slice'](0x0,0x5);let _0x2596bc='';if(_0x517422){const _0x5f24e1=_0x5d9198['currentQuestionIndex']>=_0x5d9198[_0x59eb62(0x7a6)][_0x59eb62(0xafb)][_0x59eb62(0xb5d)]-0x1;_0x2596bc='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0x5f24e1?_0x59eb62(0xbd1):'ข้อต่อไป')+_0x59eb62(0x646);}else _0x2596bc=_0x59eb62(0x1a0);liveGameView[_0x59eb62(0x81c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>'+_0x31b64d[_0x59eb62(0xaa7)]((_0x3bc39f,_0x4d528a)=>_0x59eb62(0xd9b)+(_0x4d528a+0x1)+'.\x20'+_0x3bc39f[_0x59eb62(0xb95)]+_0x59eb62(0xaae)+_0x3bc39f[_0x59eb62(0x9b7)]+_0x59eb62(0x2f7))[_0x59eb62(0x51a)]('')+_0x59eb62(0xa81)+_0x2596bc+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x517422&&document[_0x59eb62(0x581)](_0x59eb62(0xb2d))['addEventListener'](_0x59eb62(0xafd),async()=>{const _0x156653=_0x59eb62,_0x40d2d1=doc(db,_0x156653(0x637)+appId+_0x156653(0x201),currentLiveGameId),_0x23b4e7=_0x5d9198['currentQuestionIndex']+0x1;if(_0x23b4e7<_0x5d9198[_0x156653(0x7a6)][_0x156653(0xafb)]['length']){const _0x1ccfa3={};Object[_0x156653(0x9d8)](_0x5d9198[_0x156653(0xbaf)])[_0x156653(0x215)](_0x5ea84d=>{const _0x1dbece=_0x156653;_0x1ccfa3[_0x1dbece(0xd95)+_0x5ea84d+'.answered']=![];}),await updateDoc(_0x40d2d1,{..._0x1ccfa3,'status':'question','currentQuestionIndex':_0x23b4e7,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x40d2d1,{'status':_0x156653(0x58e)});});}async function handleJoinSyncGame(){const _0xc0e475=_0xe56031,_0x5d4d1e=prompt(_0xc0e475(0x9b9));if(!_0x5d4d1e||_0x5d4d1e[_0xc0e475(0xd92)]()['length']!==0x2){showMessage(_0xc0e475(0x41d));return;}try{const _0x36d4e7=collection(db,'artifacts/'+appId+_0xc0e475(0x201)),_0x4bf9f3=query(_0x36d4e7,where('pin','==',_0x5d4d1e[_0xc0e475(0xd92)]()),where('status','==',_0xc0e475(0xb96))),_0x102ce1=await getDocs(_0x4bf9f3);if(_0x102ce1[_0xc0e475(0x9b2)]){showMessage(_0xc0e475(0xd4a));return;}const _0x411e53=_0x102ce1[_0xc0e475(0x3b1)][0x0];currentLiveGameId=_0x411e53['id'];const _0x2fe98a=_0x411e53['data'](),_0x1d288a=doc(db,_0xc0e475(0x637)+appId+'/public/data/quizzes',_0x2fe98a[_0xc0e475(0x8b9)]),_0x29659b=await getDoc(_0x1d288a);if(!_0x29659b[_0xc0e475(0x437)]())throw new Error(_0xc0e475(0x3bd));const _0x158c3f=_0x29659b[_0xc0e475(0x610)](),_0x5e9feb=doc(db,_0xc0e475(0x637)+appId+'/public/data/projects',_0x158c3f['projectId']),_0x57d6b5=await getDoc(_0x5e9feb);if(!_0x57d6b5[_0xc0e475(0x437)]())throw new Error(_0xc0e475(0x5b0));currentQuizData=_0x2fe98a['shuffledQuiz'];const _0xd83265=_0x57d6b5[_0xc0e475(0x610)]();showView(_0xc0e475(0x291)),showTeamPlayerSelection(_0xd83265[_0xc0e475(0x4c2)],_0x158c3f[_0xc0e475(0x5c5)]);const _0xab05c6=document['getElementById'](_0xc0e475(0x241));_0xab05c6[_0xc0e475(0xa46)]=confirmAndJoinSyncGame;}catch(_0x53d4fd){console['error'](_0xc0e475(0x37f),_0x53d4fd),showMessage(_0xc0e475(0xb5c)+_0x53d4fd['message']);}}function updateStudentSyncView(_0x369c85){const _0x4f9822=_0xe56031,_0x1eb53f=_0x369c85['players'][localTeamPlayers[0x0]];switch(_0x369c85[_0x4f9822(0x342)]){case _0x4f9822(0xb96):showView(_0x4f9822(0xa13)),liveGameView[_0x4f9822(0x81c)]=_0x4f9822(0xd17);break;case _0x4f9822(0x2c3):localPlayerTurnIndex=0x0;const _0x896553=localTeamPlayers['every'](_0x4c41b7=>_0x369c85[_0x4f9822(0xbaf)][_0x4c41b7]?.[_0x4f9822(0x742)]===!![]);_0x896553?liveGameView[_0x4f9822(0x81c)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>':renderStudentSyncQuestionView(_0x369c85);break;case'summary':liveGameView['innerHTML']=_0x4f9822(0x318);break;case'results':localPlayerTurnIndex=0x0;const _0x579bba=_0x369c85[_0x4f9822(0x1d0)]||_0x4f9822(0xc6c);if(_0x579bba===_0x4f9822(0x5ff))renderAdminSyncDashboard(_0x369c85,![],_0x369c85[_0x4f9822(0xaf1)]);else _0x579bba===_0x4f9822(0xc42)?renderAnonymousStudentResultsView(_0x369c85):renderStudentSyncResultsView(_0x369c85);break;case'podium':releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x4f9822(0xb89)](_0x4f9822(0x68b),handleFullscreenChange),document[_0x4f9822(0xb89)]('visibilitychange',handleVisibilityChange),sessionStorage[_0x4f9822(0xd3f)](_0x4f9822(0x957));const _0xe6e42b=calculateFinalPodiumScores(_0x369c85);showPodiumView(_0xe6e42b,_0x4f9822(0x568));break;}}function renderStudentSyncResultsView(_0x5de471){const _0x32dad7=_0xe56031,_0x19da4a=localTeamPlayers['map'](_0x18e51f=>_0x5de471[_0x32dad7(0xbaf)][_0x18e51f])[_0x32dad7(0x23d)](Boolean);_0x19da4a[_0x32dad7(0x57f)]((_0x4f8d27,_0x1c3fdd)=>(_0x1c3fdd[_0x32dad7(0x9b7)]||0x0)-(_0x4f8d27['score']||0x0));const _0x1c064a=_0x5de471[_0x32dad7(0x1d0)]||_0x32dad7(0xc6c),_0x15afa2=_0x5de471[_0x32dad7(0x7a6)][_0x32dad7(0xafb)];let _0x2507dd='';if(_0x1c064a===_0x32dad7(0x5ff)){const _0x20326a=_0x5de471[_0x32dad7(0xaf1)]>=_0x15afa2[_0x32dad7(0xb5d)]-0x1;_0x20326a?_0x2507dd=_0x32dad7(0x6be):_0x2507dd='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>';}else{const _0x308568=_0x5de471[_0x32dad7(0x315)]>=_0x15afa2[_0x32dad7(0xb5d)]-0x1;_0x308568?_0x2507dd='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x2507dd=_0x32dad7(0xbf9);}const _0x1c462e=_0x32dad7(0xcff)+_0x19da4a[_0x32dad7(0xaa7)]((_0x45828b,_0xd17968)=>_0x32dad7(0x4c0)+(_0xd17968+0x1)+_0x32dad7(0x93a)+_0x45828b[_0x32dad7(0xb95)]+_0x32dad7(0x8ac)+_0x45828b[_0x32dad7(0x9b7)]+_0x32dad7(0x2eb))['join']('')+_0x32dad7(0x5a4)+_0x2507dd+_0x32dad7(0x260);liveGameView[_0x32dad7(0x81c)]=_0x1c462e;}function renderStudentSyncQuestionView(_0x2b845a){const _0x367e9a=_0xe56031,_0x53159d=localTeamPlayers[_0x367e9a(0x692)](_0x2b78ff=>_0x2b845a[_0x367e9a(0xbaf)][_0x2b78ff]&&_0x2b845a[_0x367e9a(0xbaf)][_0x2b78ff][_0x367e9a(0x742)]===![]);if(!_0x53159d){console[_0x367e9a(0xaef)](_0x367e9a(0x7e5));return;}const _0x9343c0=_0x2b845a['currentQuestionIndex'],_0x4303ff=_0x2b845a[_0x367e9a(0x7a6)][_0x367e9a(0xafb)][_0x367e9a(0xb5d)],_0x5e7668=_0x2b845a[_0x367e9a(0x7a6)][_0x367e9a(0xafb)][_0x9343c0],_0x11b9bd=_0x5e7668[_0x367e9a(0xabf)]||_0x2b845a[_0x367e9a(0x7a6)]['quizType'];let _0x122323='',_0x20d934=![];switch(_0x11b9bd){case _0x367e9a(0xa12):_0x122323=_0x367e9a(0xa33);break;case _0x367e9a(0xcb9):case _0x367e9a(0x400):_0x20d934=!![],_0x122323=_0x367e9a(0x5fc);break;case _0x367e9a(0xaa0):_0x20d934=!![],_0x122323=_0x367e9a(0xd38)+(_0x5e7668[_0x367e9a(0x433)]||[])[_0x367e9a(0xaa7)](_0x11c1eb=>_0x367e9a(0x55d)+_0x11c1eb+'\x22>'+_0x11c1eb+_0x367e9a(0x530))[_0x367e9a(0x51a)]('')+_0x367e9a(0xa89);break;case _0x367e9a(0x84f):default:_0x122323=(_0x5e7668[_0x367e9a(0x578)]||[])[_0x367e9a(0xaa7)]((_0x239738,_0x417726)=>_0x367e9a(0xa92)+_0x417726+_0x367e9a(0x3e9)+_0x239738+_0x367e9a(0x32f))['join']('');break;}liveGameView[_0x367e9a(0x81c)]=_0x367e9a(0x2f6)+(_0x9343c0+0x1)+_0x367e9a(0x329)+_0x4303ff+_0x367e9a(0x76c)+_0x53159d+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x5e7668[_0x367e9a(0x562)]||_0x5e7668[_0x367e9a(0x3b4)])+_0x367e9a(0x405)+_0x122323+_0x367e9a(0xb54);if(window[_0x367e9a(0x609)])MathJax[_0x367e9a(0x461)]();function _0x3f5601(_0x2d9704,_0x251479,_0x5e18f1,_0x4dc258){const _0x5655a8=_0x367e9a,_0x3a6f72=_0x5e18f1['isConfidenceScoringEnabled']===!![];if(_0x3a6f72){document['getElementById'](_0x5655a8(0x296))[_0x5655a8(0xada)][_0x5655a8(0x2d2)]=_0x5655a8(0x568);const _0xde5b3=document[_0x5655a8(0x581)]('selected-answer-index-hidden');_0xde5b3['dataset'][_0x5655a8(0x451)]=_0x2d9704,_0xde5b3['dataset']['question']=JSON[_0x5655a8(0x35f)](_0x251479),_0xde5b3[_0x5655a8(0xada)][_0x5655a8(0x98c)]=JSON['stringify'](_0x5e18f1),_0xde5b3[_0x5655a8(0xada)][_0x5655a8(0xd0a)]=_0x4dc258,document[_0x5655a8(0x581)]('confidence-modal')['classList'][_0x5655a8(0xbb6)]('hidden');}else handleSyncAnswerSubmit(_0x2d9704,_0x251479,_0x5e18f1,_0x4dc258,![]);}_0x20d934?document[_0x367e9a(0x581)](_0x367e9a(0x1ce))[_0x367e9a(0x395)]('click',()=>{const _0x19825e=_0x367e9a,_0x3f7451=document['getElementById'](_0x19825e(0x43a))||document[_0x19825e(0x581)](_0x19825e(0x3aa));if(_0x3f7451['value'][_0x19825e(0xd92)]()===''){showMessage(_0x19825e(0x465));return;}_0x3f5601(_0x3f7451[_0x19825e(0x9ef)],_0x5e7668,_0x2b845a,_0x53159d);}):document[_0x367e9a(0x30c)]('.live-answer-btn')[_0x367e9a(0x215)](_0x3aea20=>{const _0x1432ca=_0x367e9a;_0x3aea20[_0x1432ca(0x395)](_0x1432ca(0xafd),()=>{const _0x508604=_0x1432ca;_0x3f5601(_0x3aea20[_0x508604(0xada)][_0x508604(0x9ef)],_0x5e7668,_0x2b845a,_0x53159d);});});}async function handleSyncAnswerSubmit(_0x2a8a26,_0x34664f,_0x5b769d,_0x347873,_0x24622e){const _0x3004a0=_0xe56031;document['querySelectorAll'](_0x3004a0(0xa68))[_0x3004a0(0x215)](_0x34645c=>_0x34645c['disabled']=!![]);const _0x28f680=_0x34664f[_0x3004a0(0xabf)]||_0x5b769d[_0x3004a0(0x7a6)][_0x3004a0(0xd7d)];let _0x49912d=![],_0x5e33ae=_0x2a8a26;switch(_0x28f680){case'true_false':const _0x2ceaee=parseInt(_0x2a8a26),_0xa2e711=_0x34664f[_0x3004a0(0x39b)]===!![]||String(_0x34664f[_0x3004a0(0x39b)])['toLowerCase']()===_0x3004a0(0x975);_0x49912d=_0x2ceaee===0x0&&_0xa2e711||_0x2ceaee===0x1&&!_0xa2e711,_0x5e33ae=_0x2ceaee===0x0?_0x3004a0(0xb87):_0x3004a0(0x4a7);break;case _0x3004a0(0xcb9):case _0x3004a0(0x400):_0x49912d=await gradeShortAnswer(_0x2a8a26,_0x34664f);break;case'matching_item':_0x49912d=_0x2a8a26===_0x34664f[_0x3004a0(0x37a)];break;case _0x3004a0(0x84f):default:const _0x1e7fd4=parseInt(_0x2a8a26);_0x49912d=_0x1e7fd4===_0x34664f[_0x3004a0(0x37b)];_0x34664f[_0x3004a0(0x578)]&&_0x34664f['options'][_0x1e7fd4]&&(_0x5e33ae=_0x34664f[_0x3004a0(0x578)][_0x1e7fd4]);break;}const _0x15956b=_0x49912d?0x1:0x0,_0x2a102f=doc(db,'artifacts/'+appId+_0x3004a0(0x201),currentLiveGameId),_0x42ea41={};_0x42ea41[_0x3004a0(0xd95)+_0x347873+_0x3004a0(0x90f)]=increment(_0x15956b),_0x42ea41[_0x3004a0(0xd95)+_0x347873+'.answered']=!![];let _0x13bef=null;(_0x28f680===_0x3004a0(0x84f)||_0x28f680===_0x3004a0(0xa12)||_0x28f680===_0x3004a0(0x6da))&&(_0x13bef=parseInt(_0x2a8a26));_0x42ea41[_0x3004a0(0xd95)+_0x347873+'.lastAnswerIndex']=_0x13bef;const _0x387e60={'questionIndex':_0x5b769d[_0x3004a0(0x315)],'questionId':_0x34664f['id'],'answer':_0x2a8a26,'answerText':_0x5e33ae,'isCorrect':_0x49912d,'originalQuestionText':_0x34664f[_0x3004a0(0x562)]||_0x34664f[_0x3004a0(0x3b4)],'wasConfident':_0x24622e};_0x42ea41[_0x3004a0(0xd95)+_0x347873+'.answers']=arrayUnion(_0x387e60),await updateDoc(_0x2a102f,_0x42ea41);}initialize();
