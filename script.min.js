const _0x411d30=_0x1004;(function(_0x3e2643,_0x23a262){const _0x2d8c1b=_0x1004,_0x210605=_0x3e2643();while(!![]){try{const _0x1b21a7=parseInt(_0x2d8c1b(0x324))/0x1*(parseInt(_0x2d8c1b(0x2ea))/0x2)+-parseInt(_0x2d8c1b(0x211))/0x3+-parseInt(_0x2d8c1b(0x225))/0x4+parseInt(_0x2d8c1b(0x40c))/0x5+-parseInt(_0x2d8c1b(0x4f0))/0x6*(parseInt(_0x2d8c1b(0x3b8))/0x7)+-parseInt(_0x2d8c1b(0x591))/0x8+parseInt(_0x2d8c1b(0x520))/0x9*(parseInt(_0x2d8c1b(0x13e))/0xa);if(_0x1b21a7===_0x23a262)break;else _0x210605['push'](_0x210605['shift']());}catch(_0x57bb03){_0x210605['push'](_0x210605['shift']());}}}(_0x3f42,0x26634));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;const requestWakeLock=async()=>{const _0x202839=_0x1004;if(_0x202839(0x46b)in navigator)try{wakeLock=await navigator[_0x202839(0x46b)]['request'](_0x202839(0x133)),console[_0x202839(0x50c)](_0x202839(0x45b)),wakeLock['addEventListener'](_0x202839(0x623),()=>{const _0x426830=_0x202839;console[_0x426830(0x50c)](_0x426830(0xfb));});}catch(_0x530894){console['error'](_0x202839(0x7c3)+_0x530894[_0x202839(0x612)]+',\x20'+_0x530894[_0x202839(0x2d1)]);}else console[_0x202839(0x834)](_0x202839(0x1ba));},releaseWakeLock=async()=>{const _0x553354=_0x1004;wakeLock!==null&&(await wakeLock[_0x553354(0x623)](),wakeLock=null,console[_0x553354(0x50c)](_0x553354(0x58a)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x51c0f=_0x1004;if(dimTimer)clearTimeout(dimTimer);document[_0x51c0f(0x685)][_0x51c0f(0x5aa)][_0x51c0f(0x395)]('dimmed'),dimTimer=setTimeout(()=>{const _0x24e71c=_0x51c0f;document[_0x24e71c(0x685)]['classList'][_0x24e71c(0x483)]('dimmed'),console[_0x24e71c(0x50c)](_0x24e71c(0x816));},inactivityTime);}function stopDimTimer(){const _0x160ebb=_0x1004;if(dimTimer)clearTimeout(dimTimer);document[_0x160ebb(0x685)][_0x160ebb(0x5aa)][_0x160ebb(0x395)](_0x160ebb(0x2e0)),window[_0x160ebb(0x621)](_0x160ebb(0x488),resetDimTimer),window[_0x160ebb(0x621)](_0x160ebb(0x136),resetDimTimer),window[_0x160ebb(0x621)](_0x160ebb(0x5f6),resetDimTimer),window['removeEventListener']('keydown',resetDimTimer),console[_0x160ebb(0x50c)](_0x160ebb(0x266));}let history=[],historyStep=-0x1,scratchpadPenColor=_0x411d30(0x5fb),modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':_0x411d30(0x190),'name':_0x411d30(0x8c7)},{'category':_0x411d30(0x190),'name':_0x411d30(0x33a)},{'category':_0x411d30(0x190),'name':_0x411d30(0x5da)},{'category':_0x411d30(0x190),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':'จำนวนและการดำเนินการ','name':_0x411d30(0x512)},{'category':_0x411d30(0x190),'name':_0x411d30(0x28e)},{'category':_0x411d30(0x190),'name':_0x411d30(0x4e2)},{'category':_0x411d30(0x190),'name':_0x411d30(0x108)},{'category':_0x411d30(0x190),'name':_0x411d30(0x276)},{'category':_0x411d30(0x190),'name':_0x411d30(0x174)},{'category':_0x411d30(0x190),'name':_0x411d30(0x2a6)},{'category':_0x411d30(0x190),'name':_0x411d30(0x367)},{'category':_0x411d30(0x190),'name':_0x411d30(0x902)},{'category':_0x411d30(0x190),'name':_0x411d30(0x8e3)},{'category':_0x411d30(0x190),'name':_0x411d30(0x877)},{'category':'จำนวนและการดำเนินการ','name':_0x411d30(0x14c)},{'category':'จำนวนและการดำเนินการ','name':'อัตราส่วนและสัดส่วน'},{'category':_0x411d30(0x190),'name':_0x411d30(0x180)},{'category':'จำนวนและการดำเนินการ','name':_0x411d30(0x803)},{'category':_0x411d30(0x190),'name':_0x411d30(0x4c6)},{'category':_0x411d30(0x190),'name':_0x411d30(0x575)},{'category':'จำนวนและการดำเนินการ','name':'การคูณเศษส่วน'},{'category':_0x411d30(0x190),'name':'การหารเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':'จำนวนคละ'},{'category':_0x411d30(0x190),'name':_0x411d30(0x163)},{'category':_0x411d30(0x190),'name':'การบวกทศนิยม'},{'category':_0x411d30(0x190),'name':'การลบทศนิยม'},{'category':_0x411d30(0x190),'name':_0x411d30(0x7ab)},{'category':_0x411d30(0x190),'name':_0x411d30(0x426)},{'category':_0x411d30(0x190),'name':_0x411d30(0x1c0)},{'category':_0x411d30(0x190),'name':_0x411d30(0x67f)},{'category':'จำนวนและการดำเนินการ','name':_0x411d30(0x614)},{'category':'จำนวนและการดำเนินการ','name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':'จำนวนและการดำเนินการ','name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x411d30(0x190),'name':_0x411d30(0x7fa)},{'category':_0x411d30(0x190),'name':_0x411d30(0x2c5)},{'category':_0x411d30(0x190),'name':_0x411d30(0x493)},{'category':_0x411d30(0x83e),'name':_0x411d30(0x5ec)},{'category':'การวัด','name':_0x411d30(0x8d4)},{'category':_0x411d30(0x83e),'name':_0x411d30(0x2a4)},{'category':_0x411d30(0x83e),'name':_0x411d30(0x880)},{'category':'การวัด','name':'อุณหภูมิและการแปลง'},{'category':_0x411d30(0x83e),'name':'เส้นรอบรูป'},{'category':_0x411d30(0x83e),'name':_0x411d30(0x67e)},{'category':_0x411d30(0x83e),'name':_0x411d30(0x4a9)},{'category':'การวัด','name':_0x411d30(0x307)},{'category':_0x411d30(0x83e),'name':_0x411d30(0x68e)},{'category':_0x411d30(0x83e),'name':_0x411d30(0x743)},{'category':_0x411d30(0x83e),'name':_0x411d30(0x21a)},{'category':_0x411d30(0x83e),'name':_0x411d30(0x7a4)},{'category':'การวัด','name':_0x411d30(0x837)},{'category':_0x411d30(0x5e1),'name':_0x411d30(0x752)},{'category':_0x411d30(0x5e1),'name':_0x411d30(0x806)},{'category':_0x411d30(0x5e1),'name':_0x411d30(0x19b)},{'category':_0x411d30(0x5e1),'name':_0x411d30(0x4a9)},{'category':_0x411d30(0x5e1),'name':_0x411d30(0x27c)},{'category':_0x411d30(0x5e1),'name':'ความคล้ายของรูป'},{'category':_0x411d30(0x5e1),'name':_0x411d30(0x7b9)},{'category':'เรขาคณิต','name':_0x411d30(0x4f4)},{'category':_0x411d30(0x5e1),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x411d30(0x5e1),'name':_0x411d30(0x448)},{'category':_0x411d30(0x5e1),'name':_0x411d30(0x29a)},{'category':_0x411d30(0x5e1),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':'เรขาคณิต','name':_0x411d30(0x831)},{'category':'เรขาคณิต','name':_0x411d30(0x684)},{'category':_0x411d30(0x5e1),'name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':_0x411d30(0x4c7),'name':_0x411d30(0x664)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x411d30(0x827)},{'category':_0x411d30(0x4c7),'name':_0x411d30(0x6d1)},{'category':_0x411d30(0x4c7),'name':_0x411d30(0x107)},{'category':_0x411d30(0x4c7),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0x411d30(0x4c7),'name':_0x411d30(0x377)},{'category':_0x411d30(0x4c7),'name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x411d30(0x66a)},{'category':_0x411d30(0x4c7),'name':_0x411d30(0x604)},{'category':_0x411d30(0x4c7),'name':_0x411d30(0x549)},{'category':_0x411d30(0x4c7),'name':_0x411d30(0x139)},{'category':_0x411d30(0x4c7),'name':_0x411d30(0x6b4)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการลอการิทึม'},{'category':_0x411d30(0x4c7),'name':_0x411d30(0x380)},{'category':_0x411d30(0x4c7),'name':_0x411d30(0x5cb)},{'category':'พีชคณิตและฟังก์ชัน','name':'ระบบอสมการ'},{'category':_0x411d30(0x4c7),'name':_0x411d30(0x1c3)},{'category':_0x411d30(0x4c7),'name':_0x411d30(0x3d2)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x411d30(0x721)},{'category':_0x411d30(0x4c7),'name':'ฟังก์ชันผกผัน'},{'category':_0x411d30(0x4c7),'name':_0x411d30(0x22d)},{'category':_0x411d30(0x4c7),'name':_0x411d30(0x526)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x411d30(0x46a)},{'category':_0x411d30(0x4c7),'name':'ฟังก์ชันพหุนาม'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x411d30(0x2f4)},{'category':_0x411d30(0x4c7),'name':_0x411d30(0x882)},{'category':_0x411d30(0x4c7),'name':_0x411d30(0x7a3)},{'category':_0x411d30(0x4c7),'name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันยกกำลัง'},{'category':_0x411d30(0x4c7),'name':_0x411d30(0x2cc)},{'category':_0x411d30(0x4c7),'name':_0x411d30(0x33d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x411d30(0x7b4)},{'category':_0x411d30(0x4c7),'name':_0x411d30(0x670)},{'category':_0x411d30(0x4c7),'name':_0x411d30(0x5b0)},{'category':_0x411d30(0x4c7),'name':_0x411d30(0x5e2)},{'category':_0x411d30(0x6ad),'name':_0x411d30(0x740)},{'category':_0x411d30(0x6ad),'name':'ความชันและเส้นตรง'},{'category':_0x411d30(0x6ad),'name':_0x411d30(0x4be)},{'category':'เรขาคณิตวิเคราะห์','name':_0x411d30(0x352)},{'category':_0x411d30(0x6ad),'name':_0x411d30(0x19f)},{'category':_0x411d30(0x6ad),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':'เรขาคณิตวิเคราะห์','name':_0x411d30(0x402)},{'category':_0x411d30(0x6ad),'name':'วงรี'},{'category':'เรขาคณิตวิเคราะห์','name':'ไฮเพอร์โบลา'},{'category':_0x411d30(0x66d),'name':_0x411d30(0x6fd)},{'category':'ตรีโกณมิติ','name':_0x411d30(0x6df)},{'category':'ตรีโกณมิติ','name':_0x411d30(0x10a)},{'category':'ตรีโกณมิติ','name':_0x411d30(0x51a)},{'category':_0x411d30(0x66d),'name':'กฎของไซน์'},{'category':_0x411d30(0x66d),'name':_0x411d30(0x2c7)},{'category':'ตรีโกณมิติ','name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':'ตรีโกณมิติ','name':'การแปลงรูปอัตลักษณ์'},{'category':_0x411d30(0x66d),'name':'สมการตรีโกณมิติ'},{'category':_0x411d30(0x66d),'name':_0x411d30(0x2ae)},{'category':'ตรีโกณมิติ','name':_0x411d30(0x687)},{'category':'สถิติและความน่าจะเป็น','name':_0x411d30(0x1e9)},{'category':_0x411d30(0x27a),'name':'การจัดกลุ่มข้อมูล'},{'category':_0x411d30(0x27a),'name':_0x411d30(0x3d3)},{'category':_0x411d30(0x27a),'name':_0x411d30(0x2db)},{'category':'สถิติและความน่าจะเป็น','name':_0x411d30(0x5a3)},{'category':'สถิติและความน่าจะเป็น','name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x411d30(0x27a),'name':'ค่าเฉลี่ย'},{'category':_0x411d30(0x27a),'name':_0x411d30(0x4c5)},{'category':'สถิติและความน่าจะเป็น','name':_0x411d30(0x171)},{'category':'สถิติและความน่าจะเป็น','name':_0x411d30(0x238)},{'category':_0x411d30(0x27a),'name':_0x411d30(0x750)},{'category':'สถิติและความน่าจะเป็น','name':_0x411d30(0x1e1)},{'category':_0x411d30(0x27a),'name':_0x411d30(0x115)},{'category':_0x411d30(0x27a),'name':_0x411d30(0x748)},{'category':_0x411d30(0x27a),'name':_0x411d30(0x7f8)},{'category':_0x411d30(0x27a),'name':_0x411d30(0x751)},{'category':_0x411d30(0x27a),'name':_0x411d30(0x896)},{'category':'สถิติและความน่าจะเป็น','name':'แผนภาพเวนน์'},{'category':'สถิติและความน่าจะเป็น','name':_0x411d30(0x41d)},{'category':_0x411d30(0x27a),'name':_0x411d30(0x2b2)},{'category':_0x411d30(0x27a),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x411d30(0x27a),'name':_0x411d30(0x89a)},{'category':_0x411d30(0x27a),'name':_0x411d30(0xe6)},{'category':_0x411d30(0x27a),'name':_0x411d30(0x70d)},{'category':_0x411d30(0x68b),'name':'ลิมิต'},{'category':'แคลคูลัสเบื้องต้น','name':_0x411d30(0x6c1)},{'category':_0x411d30(0x68b),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x411d30(0x68b),'name':_0x411d30(0x79e)},{'category':_0x411d30(0x68b),'name':_0x411d30(0x327)},{'category':_0x411d30(0x68b),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':'แคลคูลัสเบื้องต้น','name':_0x411d30(0x32f)},{'category':_0x411d30(0x68b),'name':_0x411d30(0x34a)},{'category':_0x411d30(0x68b),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':'แคลคูลัสเบื้องต้น','name':_0x411d30(0x81b)},{'category':_0x411d30(0x68b),'name':_0x411d30(0x181)},{'category':'แคลคูลัสเบื้องต้น','name':_0x411d30(0x153)},{'category':'แคลคูลัสเบื้องต้น','name':_0x411d30(0x31a)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x411d30(0x86e)},{'category':_0x411d30(0x486),'name':_0x411d30(0x536)},{'category':_0x411d30(0x486),'name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':_0x411d30(0x486),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x411d30(0x486),'name':'อินเวอร์สของเมทริกซ์'},{'category':_0x411d30(0x486),'name':'ดีเทอร์มิแนนต์'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x411d30(0x6a1)},{'category':_0x411d30(0x595),'name':_0x411d30(0xf3)},{'category':_0x411d30(0x595),'name':_0x411d30(0x430)},{'category':_0x411d30(0x595),'name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':'คณิตการเงิน/บูรณาการ','name':'ค่าเสื่อมราคา'},{'category':_0x411d30(0x595),'name':_0x411d30(0x192)},{'category':_0x411d30(0x2e4),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x411d30(0x6e4)},{'category':_0x411d30(0x2e4),'name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x23b0ff=_0x411d30,_0x18255a=document[_0x23b0ff(0x2da)](_0x23b0ff(0x215));if(!_0x18255a)return;const _0x322379=allMathTopics,_0x1aa823=customMathTopics[_0x23b0ff(0x79a)](_0x3c1272=>({'id':_0x3c1272['id'],'category':_0x23b0ff(0x187),'name':_0x3c1272[_0x23b0ff(0x612)]})),_0x272ca8=[..._0x322379,..._0x1aa823],_0x51ca0e=_0x272ca8['reduce']((_0x571da2,_0x5adf9e)=>{const _0x2f8b69=_0x23b0ff;return!_0x571da2[_0x5adf9e[_0x2f8b69(0x48a)]]&&(_0x571da2[_0x5adf9e[_0x2f8b69(0x48a)]]=[]),_0x571da2[_0x5adf9e[_0x2f8b69(0x48a)]][_0x2f8b69(0x56e)](_0x5adf9e),_0x571da2;},{});let _0x48f4e2='';const _0x1eac82=[_0x23b0ff(0x187),...Object[_0x23b0ff(0x2fb)](_0x51ca0e)['filter'](_0x192f5b=>_0x192f5b!=='หัวข้อที่สร้างเอง')];for(const _0x167db8 of _0x1eac82){if(_0x51ca0e[_0x167db8]){const _0x1423cc=_0x167db8===_0x23b0ff(0x187),_0x3538f2=_0x1423cc?_0x23b0ff(0x20b):_0x23b0ff(0x32b),_0x5039eb=_0x1423cc?_0x23b0ff(0x445):_0x23b0ff(0x21b);_0x48f4e2+=_0x23b0ff(0x55d),_0x48f4e2+=_0x23b0ff(0x8bb)+_0x5039eb+_0x23b0ff(0x12a)+_0x3538f2+_0x23b0ff(0x112)+_0x167db8+_0x23b0ff(0x34c),_0x51ca0e[_0x167db8][_0x23b0ff(0x65f)](_0x58b6a3=>{const _0x50c4c1=_0x23b0ff,_0x19ad05=!!_0x58b6a3['id'],_0x5cbd41=_0x19ad05?_0x50c4c1(0x589)+_0x58b6a3['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x58b6a3['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x58b6a3['id']+_0x50c4c1(0x203)+_0x58b6a3['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x48f4e2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x58b6a3['id']||'')+_0x50c4c1(0x3db)+_0x58b6a3['name']+_0x50c4c1(0x2a2)+_0x58b6a3[_0x50c4c1(0x612)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x19ad05?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x58b6a3[_0x50c4c1(0x612)]+'\x22>':'')+_0x50c4c1(0x422)+_0x5cbd41+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x48f4e2+=_0x23b0ff(0x45f);}}_0x18255a[_0x23b0ff(0x373)]=_0x48f4e2||_0x23b0ff(0x7e9),_0x18255a[_0x23b0ff(0x621)](_0x23b0ff(0x59b),updateSelectedTopicsCount),_0x18255a[_0x23b0ff(0x381)](_0x23b0ff(0x59b),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x10cfae,_0x488ba0){const _0x35729e=_0x411d30;if(!_0x10cfae||!_0x488ba0[_0x35729e(0x4b3)]()){showMessage(_0x35729e(0x39e));return;}try{const _0x36c86f=doc(db,_0x35729e(0x6c8)+appId+'/public/data/customMathTopics',_0x10cfae);await updateDoc(_0x36c86f,{'name':_0x488ba0[_0x35729e(0x4b3)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x33f2e4){console[_0x35729e(0x735)]('Error\x20updating\x20custom\x20topic:',_0x33f2e4),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x4e714b,_0x5b976b){const _0x19db28=_0x411d30;if(!_0x4e714b)return;const _0x22a9ac=_0x4e714b['querySelector'](_0x19db28(0x8e6)),_0xdc7e3e=_0x4e714b[_0x19db28(0x6ce)](_0x19db28(0x36e)),_0x265d71=_0x4e714b[_0x19db28(0x6ce)]('.topic-actions-view'),_0x1330fd=_0x4e714b[_0x19db28(0x6ce)](_0x19db28(0x7f0));_0x22a9ac[_0x19db28(0x5aa)][_0x19db28(0x778)](_0x19db28(0x62f),_0x5b976b),_0xdc7e3e['classList'][_0x19db28(0x778)]('hidden',!_0x5b976b),_0x265d71['classList'][_0x19db28(0x778)]('hidden',_0x5b976b),_0x1330fd[_0x19db28(0x5aa)][_0x19db28(0x778)](_0x19db28(0x62f),!_0x5b976b),_0x5b976b&&(_0xdc7e3e[_0x19db28(0x57e)](),_0xdc7e3e[_0x19db28(0x1fd)]());}function updateSelectedTopicsCount(){const _0x226413=_0x411d30,_0x241aec=document['getElementById']('math-topics-checkbox-container'),_0x173ac1=_0x241aec[_0x226413(0x7ea)]('input[type=\x22checkbox\x22]:checked')[_0x226413(0x412)],_0x5df450=document[_0x226413(0x2da)](_0x226413(0x5ed));_0x173ac1>0x0?_0x5df450[_0x226413(0x769)]=_0x226413(0x63b)+_0x173ac1+'\x20หัวข้อ)':_0x5df450['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x411d30(0x3d1),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x411d30(0x1c7),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadLastPos={'x':0x0,'y':0x0};function openScratchpad(_0x2a1e07,_0x1f19b4){const _0x58c0dd=_0x411d30,_0x2478f7=document[_0x58c0dd(0x2da)](_0x58c0dd(0x650)),_0x468842=document[_0x58c0dd(0x2da)](_0x58c0dd(0x23d)),_0x2180de=document['getElementById']('scratchpad-options'),_0x2f0509=document['getElementById']('scratchpad-controls');_0x468842[_0x58c0dd(0x769)]=_0x2a1e07[_0x58c0dd(0x7ec)]||_0x2a1e07[_0x58c0dd(0x5be)],_0x2180de['innerHTML']=_0x1f19b4[_0x58c0dd(0x79a)]((_0xaa6b41,_0x1625d4)=>{const _0x5b1571=_0x58c0dd;let _0x4f8ac6=![];if(_0x2a1e07[_0x5b1571(0x6ec)]===_0x5b1571(0x247))_0x4f8ac6=_0x1625d4===_0x2a1e07['correctAnswerIndex'];else{if(_0x2a1e07[_0x5b1571(0x6ec)]==='true_false')_0x4f8ac6=_0x2a1e07[_0x5b1571(0x51d)]&&_0x1625d4===0x0||!_0x2a1e07[_0x5b1571(0x51d)]&&_0x1625d4===0x1;else{if(_0x2a1e07[_0x5b1571(0x6ec)]===_0x5b1571(0x733))_0x4f8ac6=_0x1f19b4[_0x1625d4]===_0x2a1e07[_0x5b1571(0x4a1)];}}const _0x2c77e5=_0x4f8ac6?'text-green-600\x20font-bold':'';return _0x5b1571(0x7ac)+_0x2c77e5+'\x22>'+String[_0x5b1571(0x4d9)](0x41+_0x1625d4)+'.\x20'+_0xaa6b41+_0x5b1571(0x45f);})[_0x58c0dd(0x6f4)](''),_0x2f0509[_0x58c0dd(0x373)]=_0x58c0dd(0x77d),setupScratchpadControls(),history=[],historyStep=-0x1,_0x2478f7[_0x58c0dd(0x5aa)][_0x58c0dd(0x395)](_0x58c0dd(0x62f)),setTimeout(()=>{initializeScratchpadCanvas(),scratchpadCtx&&saveHistory();},0x32);if(window['MathJax'])MathJax[_0x58c0dd(0x1de)]([_0x468842,_0x2180de]);}function initializeScratchpadCanvas(){const _0x34f344=_0x411d30,_0x1d3d36=document[_0x34f344(0x2da)]('scratchpad-canvas'),_0x11f221=document[_0x34f344(0x6ce)](_0x34f344(0x6f0));if(!_0x1d3d36||!_0x11f221)return;scratchpadCtx=_0x1d3d36[_0x34f344(0x2cd)]('2d');const _0x134150=window[_0x34f344(0x5ac)]||0x1,_0x2883ca=_0x11f221[_0x34f344(0x801)]();_0x1d3d36[_0x34f344(0x3ff)]=_0x2883ca[_0x34f344(0x3ff)]*_0x134150,_0x1d3d36['height']=_0x2883ca[_0x34f344(0x1b9)]*_0x134150,_0x1d3d36[_0x34f344(0x74e)]['width']=_0x2883ca['width']+'px',_0x1d3d36['style'][_0x34f344(0x1b9)]=_0x2883ca[_0x34f344(0x1b9)]+'px',scratchpadCtx[_0x34f344(0x79b)](_0x134150,_0x134150),scratchpadCtx[_0x34f344(0x5cc)]=scratchpadPenColor,scratchpadCtx[_0x34f344(0x810)]=0x5,scratchpadCtx[_0x34f344(0x101)]=_0x34f344(0x4b1),scratchpadCtx[_0x34f344(0x3e7)]=_0x34f344(0x4b1);let _0x3e7827={'x':0x0,'y':0x0},_0xafb7d=null;const _0x4ccb00=_0x33cc14=>{const _0x4d06b0=_0x34f344,_0x7d8f03=_0x1d3d36['getBoundingClientRect'](),_0x38071c=_0x33cc14[_0x4d06b0(0x331)]?_0x33cc14[_0x4d06b0(0x331)][0x0][_0x4d06b0(0x364)]:_0x33cc14[_0x4d06b0(0x364)],_0x1c3983=_0x33cc14['touches']?_0x33cc14[_0x4d06b0(0x331)][0x0][_0x4d06b0(0x3fc)]:_0x33cc14[_0x4d06b0(0x3fc)];return{'x':_0x38071c-_0x7d8f03[_0x4d06b0(0x3be)],'y':_0x1c3983-_0x7d8f03[_0x4d06b0(0x8f1)]};},_0x11723d=_0x5f2c6f=>{const _0x246e18=_0x34f344;if(_0x5f2c6f[_0x246e18(0x331)]&&_0x5f2c6f['touches'][0x0][_0x246e18(0x8ce)]===_0x246e18(0x544))return;_0x5f2c6f[_0x246e18(0x6bc)](),activeTool===_0x246e18(0x26c)&&(_0xafb7d=scratchpadCtx[_0x246e18(0x78d)](0x0,0x0,_0x1d3d36[_0x246e18(0x3ff)],_0x1d3d36['height'])),isDrawingOnScratchpad=!![],scratchpadLastPos=_0x4ccb00(_0x5f2c6f),_0x3e7827=scratchpadLastPos,scratchpadCtx['beginPath'](),scratchpadCtx['moveTo'](_0x3e7827['x'],_0x3e7827['y']);},_0x111b06=_0x3fb61b=>{const _0x392e67=_0x34f344;if(!isDrawingOnScratchpad)return;_0x3fb61b['preventDefault']();const _0x19fc89=_0x4ccb00(_0x3fb61b);_0x3e7827={'x':(scratchpadLastPos['x']+_0x19fc89['x'])/0x2,'y':(scratchpadLastPos['y']+_0x19fc89['y'])/0x2},activeTool===_0x392e67(0x26c)?(scratchpadCtx['shadowBlur']=0xa,scratchpadCtx[_0x392e67(0x60f)]=_0x392e67(0x5dc),scratchpadCtx['strokeStyle']=_0x392e67(0x5dc),scratchpadCtx['lineWidth']=0x8,scratchpadCtx[_0x392e67(0x81f)](scratchpadLastPos['x'],scratchpadLastPos['y'],_0x3e7827['x'],_0x3e7827['y']),scratchpadCtx[_0x392e67(0x5f0)](),scratchpadCtx[_0x392e67(0x554)]=0x0,scratchpadCtx[_0x392e67(0x5cc)]=_0x392e67(0x3a7),scratchpadCtx[_0x392e67(0x810)]=0x3,scratchpadCtx[_0x392e67(0x5f0)]()):(scratchpadCtx[_0x392e67(0x81f)](scratchpadLastPos['x'],scratchpadLastPos['y'],_0x3e7827['x'],_0x3e7827['y']),scratchpadCtx[_0x392e67(0x5f0)]()),scratchpadLastPos=_0x19fc89;},_0x5dfe72=()=>{const _0x4675a5=_0x34f344;if(!isDrawingOnScratchpad)return;isDrawingOnScratchpad=![],scratchpadCtx['closePath'](),activeTool===_0x4675a5(0x26c)?setTimeout(()=>{_0xafb7d&&scratchpadCtx['putImageData'](_0xafb7d,0x0,0x0);},0x3e8):saveHistory();};_0x1d3d36[_0x34f344(0x494)]=_0x11723d,_0x1d3d36[_0x34f344(0x16b)]=_0x111b06,_0x1d3d36[_0x34f344(0x290)]=_0x5dfe72,_0x1d3d36[_0x34f344(0x859)]=_0x5dfe72,_0x1d3d36[_0x34f344(0x594)]=_0x11723d,_0x1d3d36[_0x34f344(0x6d3)]=_0x111b06,_0x1d3d36[_0x34f344(0x2f3)]=_0x5dfe72;}function saveHistory(){const _0x22bbbb=_0x411d30;historyStep<history['length']-0x1&&(history=history[_0x22bbbb(0x85d)](0x0,historyStep+0x1)),history['push'](scratchpadCtx[_0x22bbbb(0x7c9)][_0x22bbbb(0x18e)]()),historyStep++,updateUndoRedoButtons();}function undo(){const _0x4cc917=_0x411d30;if(historyStep>0x0){historyStep--;const _0x538ad1=new Image();_0x538ad1[_0x4cc917(0x8dd)]=history[historyStep],_0x538ad1[_0x4cc917(0x83c)]=()=>{const _0x4656b4=_0x4cc917;scratchpadCtx[_0x4656b4(0x74f)](0x0,0x0,scratchpadCtx[_0x4656b4(0x7c9)][_0x4656b4(0x3ff)],scratchpadCtx['canvas'][_0x4656b4(0x1b9)]),scratchpadCtx[_0x4656b4(0x318)](_0x538ad1,0x0,0x0);},updateUndoRedoButtons();}}function redo(){const _0x32eaa5=_0x411d30;if(historyStep<history[_0x32eaa5(0x412)]-0x1){historyStep++;const _0x573eb3=new Image();_0x573eb3[_0x32eaa5(0x8dd)]=history[historyStep],_0x573eb3[_0x32eaa5(0x83c)]=()=>{const _0x4a365d=_0x32eaa5;scratchpadCtx[_0x4a365d(0x74f)](0x0,0x0,scratchpadCtx['canvas'][_0x4a365d(0x3ff)],scratchpadCtx[_0x4a365d(0x7c9)]['height']),scratchpadCtx['drawImage'](_0x573eb3,0x0,0x0);},updateUndoRedoButtons();}}function updateUndoRedoButtons(){const _0x107f42=_0x411d30;document[_0x107f42(0x2da)]('undo-btn')[_0x107f42(0x502)]=historyStep<=0x0,document[_0x107f42(0x2da)](_0x107f42(0x472))['disabled']=historyStep>=history[_0x107f42(0x412)]-0x1;}let activeTool=_0x411d30(0x77f);function _0x1004(_0xb14d96,_0x57d7da){const _0x3f4250=_0x3f42();return _0x1004=function(_0x1004ef,_0x53d4a8){_0x1004ef=_0x1004ef-0xde;let _0x132fc0=_0x3f4250[_0x1004ef];return _0x132fc0;},_0x1004(_0xb14d96,_0x57d7da);}function setupScratchpadControls(){const _0x1248f7=_0x411d30,_0x230323=document[_0x1248f7(0x2da)](_0x1248f7(0x650));document[_0x1248f7(0x2da)](_0x1248f7(0x69e))[_0x1248f7(0x381)]('click',()=>_0x230323[_0x1248f7(0x5aa)]['add'](_0x1248f7(0x62f))),document[_0x1248f7(0x2da)](_0x1248f7(0x695))[_0x1248f7(0x381)](_0x1248f7(0x302),()=>{const _0x346ee2=_0x1248f7;scratchpadCtx&&(scratchpadCtx['clearRect'](0x0,0x0,scratchpadCtx[_0x346ee2(0x7c9)][_0x346ee2(0x3ff)],scratchpadCtx[_0x346ee2(0x7c9)][_0x346ee2(0x1b9)]),saveHistory());}),document[_0x1248f7(0x2da)](_0x1248f7(0x217))[_0x1248f7(0x381)](_0x1248f7(0x302),undo),document[_0x1248f7(0x2da)](_0x1248f7(0x472))[_0x1248f7(0x381)](_0x1248f7(0x302),redo),document['querySelectorAll'](_0x1248f7(0x47f))[_0x1248f7(0x65f)](_0x400688=>{const _0x133635=_0x1248f7;_0x400688[_0x133635(0x381)](_0x133635(0x302),()=>{const _0x512bcf=_0x133635;if(scratchpadCtx){const _0x6d3114=parseInt(_0x400688[_0x512bcf(0x5a1)][_0x512bcf(0x18f)],0xa);scratchpadCtx['lineWidth']=_0x6d3114,document[_0x512bcf(0x7ea)](_0x512bcf(0x47f))[_0x512bcf(0x65f)](_0x2a4402=>_0x2a4402['classList']['remove'](_0x512bcf(0xe3))),_0x400688[_0x512bcf(0x5aa)][_0x512bcf(0x483)]('active');}});});const _0x471364=document[_0x1248f7(0x2da)](_0x1248f7(0x449)),_0x52f957=document[_0x1248f7(0x2da)](_0x1248f7(0x230)),_0x54ab17=document[_0x1248f7(0x2da)](_0x1248f7(0x838)),_0x49829d=[_0x471364,_0x52f957,_0x54ab17];_0x471364[_0x1248f7(0x381)]('click',()=>{const _0x519d01=_0x1248f7;activeTool=_0x519d01(0x77f),scratchpadCtx[_0x519d01(0x83f)]=_0x519d01(0x214),scratchpadCtx[_0x519d01(0x5cc)]=scratchpadPenColor,_0x49829d['forEach'](_0x3a557c=>_0x3a557c[_0x519d01(0x5aa)]['remove'](_0x519d01(0xe3))),_0x471364['classList'][_0x519d01(0x483)](_0x519d01(0xe3));}),_0x52f957[_0x1248f7(0x381)](_0x1248f7(0x302),()=>{const _0x299499=_0x1248f7;activeTool=_0x299499(0x4c9),scratchpadCtx['globalCompositeOperation']=_0x299499(0x5fd),_0x49829d[_0x299499(0x65f)](_0x452ed=>_0x452ed[_0x299499(0x5aa)][_0x299499(0x395)]('active')),_0x52f957[_0x299499(0x5aa)][_0x299499(0x483)]('active');}),_0x54ab17['addEventListener'](_0x1248f7(0x302),()=>{const _0x27956d=_0x1248f7;activeTool=_0x27956d(0x26c),scratchpadCtx[_0x27956d(0x83f)]=_0x27956d(0x214),scratchpadCtx[_0x27956d(0x5cc)]=_0x27956d(0x5dc),_0x49829d[_0x27956d(0x65f)](_0xd2892c=>_0xd2892c[_0x27956d(0x5aa)]['remove'](_0x27956d(0xe3))),_0x54ab17[_0x27956d(0x5aa)]['add'](_0x27956d(0xe3));}),document['querySelectorAll']('.pen-color-btn')[_0x1248f7(0x65f)](_0x5a30f9=>{const _0x382f47=_0x1248f7;_0x5a30f9[_0x382f47(0x381)](_0x382f47(0x302),()=>{const _0x319b6c=_0x382f47;if(scratchpadCtx){const _0x40df08=_0x5a30f9[_0x319b6c(0x5a1)][_0x319b6c(0x7b5)];scratchpadPenColor=_0x40df08,scratchpadCtx[_0x319b6c(0x5cc)]=_0x40df08,activeTool='pen',scratchpadCtx['globalCompositeOperation']=_0x319b6c(0x214),_0x49829d['forEach'](_0x24113c=>_0x24113c[_0x319b6c(0x5aa)]['remove'](_0x319b6c(0xe3))),_0x471364['classList'][_0x319b6c(0x483)](_0x319b6c(0xe3)),document[_0x319b6c(0x7ea)](_0x319b6c(0x518))[_0x319b6c(0x65f)](_0x30fef9=>_0x30fef9['classList']['remove'](_0x319b6c(0xe3))),_0x5a30f9[_0x319b6c(0x5aa)][_0x319b6c(0x483)](_0x319b6c(0xe3));}});}),document[_0x1248f7(0x6ce)](_0x1248f7(0x1a0))['classList'][_0x1248f7(0x483)](_0x1248f7(0xe3)),window[_0x1248f7(0x381)](_0x1248f7(0x609),()=>{const _0x568ffb=_0x1248f7;!_0x230323[_0x568ffb(0x5aa)]['contains'](_0x568ffb(0x62f))&&initializeScratchpadCanvas();});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0x411d30(0x8c0),'description':_0x411d30(0x7dd),'icon':_0x411d30(0x1b7)},'QUICK_THINKER':{'id':'quick_thinker','name':'เซียนสมองไว','description':_0x411d30(0x27b),'icon':_0x411d30(0x7b3)},'ON_FIRE':{'id':_0x411d30(0x1ec),'name':_0x411d30(0x80e),'description':_0x411d30(0x4d6),'icon':'fa-fire\x20text-orange-500'},'FIRST_TRY_ACE':{'id':'first_try_ace','name':_0x411d30(0x897),'description':_0x411d30(0x3ea),'icon':_0x411d30(0x4fe)},'COMEBACK_KING':{'id':_0x411d30(0x8d6),'name':_0x411d30(0x47d),'description':_0x411d30(0x56b),'icon':_0x411d30(0x3ba)},'SPECIALIST':{'id':'specialist','name':_0x411d30(0x8c1),'description':_0x411d30(0x3d5),'icon':_0x411d30(0x18c)},'PERSEVERANCE':{'id':_0x411d30(0x1d4),'name':_0x411d30(0x567),'description':_0x411d30(0x46e),'icon':_0x411d30(0x386)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':_0x411d30(0x585),'projectId':_0x411d30(0x8f9),'storageBucket':_0x411d30(0x12f),'messagingSenderId':_0x411d30(0x547),'appId':_0x411d30(0x417),'measurementId':_0x411d30(0x1bf)},appId=typeof __app_id!==_0x411d30(0x90d)?__app_id:_0x411d30(0x5d5),adminView=document['getElementById'](_0x411d30(0x8ac)),studentView=document[_0x411d30(0x2da)](_0x411d30(0x1e5)),projectDashboardView=document[_0x411d30(0x2da)]('project-dashboard-view'),projectDetailView=document[_0x411d30(0x2da)](_0x411d30(0x21f)),quizResultsView=document['getElementById'](_0x411d30(0x44b)),projectList=document[_0x411d30(0x2da)](_0x411d30(0x71b)),noProjectsMsg=document[_0x411d30(0x2da)](_0x411d30(0x5b3)),projectTitle=document[_0x411d30(0x2da)]('project-title'),projectIdDisplay=document['getElementById'](_0x411d30(0x27f)),studentList=document[_0x411d30(0x2da)](_0x411d30(0x76f)),messageModal=document[_0x411d30(0x2da)](_0x411d30(0x193)),modalMessage=document[_0x411d30(0x2da)](_0x411d30(0x61e)),createProjectModal=document['getElementById'](_0x411d30(0x77c)),adminPasswordModal=document[_0x411d30(0x2da)]('admin-password-modal'),confirmationModal=document[_0x411d30(0x2da)](_0x411d30(0x1ff)),userIdDisplay=document['getElementById'](_0x411d30(0x216)),topicTab=document['getElementById'](_0x411d30(0x89c)),textTab=document[_0x411d30(0x2da)](_0x411d30(0x4fb)),topicInputArea=document[_0x411d30(0x2da)]('topic-input-area'),textInputArea=document['getElementById'](_0x411d30(0x57b)),manageTab=document[_0x411d30(0x2da)](_0x411d30(0x3ab)),resultsTab=document['getElementById']('results-tab'),leaderboardTab=document['getElementById'](_0x411d30(0x394)),manageTabContent=document[_0x411d30(0x2da)](_0x411d30(0x485)),resultsTabContent=document[_0x411d30(0x2da)](_0x411d30(0x185)),leaderboardTabContent=document[_0x411d30(0x2da)]('leaderboard-tab-content'),projectQuizzesList=document[_0x411d30(0x2da)](_0x411d30(0x409)),fileTab=document['getElementById']('file-tab'),fileInputArea=document['getElementById'](_0x411d30(0x565)),fileUploadInput=document[_0x411d30(0x2da)](_0x411d30(0x7f4)),worksheetTab=document[_0x411d30(0x2da)]('worksheet-tab'),worksheetInputArea=document[_0x411d30(0x2da)](_0x411d30(0x6d6)),generateWorksheetBtn=document[_0x411d30(0x2da)](_0x411d30(0x49b)),studentInitialView=document[_0x411d30(0x2da)](_0x411d30(0x600)),studentNameSelectionView=document['getElementById'](_0x411d30(0x3e3)),studentQuizArea=document['getElementById'](_0x411d30(0x872)),studentResultArea=document[_0x411d30(0x2da)]('student-result-area'),studentReadingArea=document[_0x411d30(0x2da)](_0x411d30(0x41a)),loadQuizBtn=document[_0x411d30(0x2da)](_0x411d30(0x431)),startQuizBtn=document[_0x411d30(0x2da)](_0x411d30(0x4af)),studentJoinGameView=document[_0x411d30(0x2da)](_0x411d30(0x3a8)),presentationModal=document[_0x411d30(0x2da)](_0x411d30(0x67d)),renameQuizModal=document[_0x411d30(0x2da)]('rename-quiz-modal'),moveQuizModal=document[_0x411d30(0x2da)](_0x411d30(0x28f)),quizSettingsModal=document[_0x411d30(0x2da)]('quiz-settings-modal'),quizStatusModal=document[_0x411d30(0x2da)](_0x411d30(0x6ef)),liveGameView=document[_0x411d30(0x2da)](_0x411d30(0x616));function handleAutoFixLatex(){const _0x32ff4d=_0x411d30,_0x4d0f82=document['getElementById'](_0x32ff4d(0x17a))||document,_0x3c6893=_0x4d0f82[_0x32ff4d(0x7ea)](['textarea',_0x32ff4d(0x6cf),_0x32ff4d(0x5c6),_0x32ff4d(0xf0),_0x32ff4d(0x553),_0x32ff4d(0x70c),_0x32ff4d(0x249),'.option-text',_0x32ff4d(0x175)][_0x32ff4d(0x6f4)](','));let _0x57a976=0x0;const _0x25eb12=_0x2b4921=>'value'in _0x2b4921?String(_0x2b4921['value']):_0x2b4921['innerText']!==undefined?_0x2b4921[_0x32ff4d(0x739)]:_0x2b4921[_0x32ff4d(0x769)]||'',_0x5d1cdc=(_0x40c994,_0x16cf8c)=>{const _0x1ce830=_0x32ff4d;if(_0x1ce830(0x5b4)in _0x40c994){_0x40c994['value']=_0x16cf8c;return;}if(_0x40c994['querySelector']&&_0x40c994[_0x1ce830(0x6ce)](_0x1ce830(0x4ee)))return;if(_0x40c994['innerText']!==undefined)_0x40c994[_0x1ce830(0x739)]=_0x16cf8c;else _0x40c994[_0x1ce830(0x769)]=_0x16cf8c;},_0x57900b=_0x40cd5a=>_0x40cd5a['replace'](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x32ff4d(0x4cf)](/\r\n?/g,'\x0a'),_0x5b2ce9=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x114551=_0x2080d5=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x32ff4d(0x40e)](_0x2080d5),_0x488587=_0x32a170=>{const _0x41b681=_0x32ff4d,_0x464577=(_0x32a170[_0x41b681(0x3ad)](/\{/g)||[])['length'],_0x3a554d=(_0x32a170[_0x41b681(0x3ad)](/\}/g)||[])[_0x41b681(0x412)];if(_0x464577>_0x3a554d)_0x32a170=_0x32a170+'}'[_0x41b681(0x442)](_0x464577-_0x3a554d);return _0x32a170;},_0x1766d1=_0x24777c=>{const _0x573868=_0x32ff4d;let _0x306912=_0x24777c['trim']();const _0x3616b8=[_0x573868(0x1f2),_0x573868(0x56f),'tfrac',_0x573868(0x657),_0x573868(0x51f),_0x573868(0x45c),_0x573868(0x840),_0x573868(0x8ad),_0x573868(0x300),_0x573868(0x1aa),'le','ge',_0x573868(0x280),'pm',_0x573868(0x458),'sin',_0x573868(0x4f8),_0x573868(0x5d7),_0x573868(0x50c),'ln',_0x573868(0x119),_0x573868(0x3b7),_0x573868(0x4e0),_0x573868(0x3be),'right','overline','underline','circ',_0x573868(0x47c)];_0x306912=_0x306912[_0x573868(0x4cf)](new RegExp('\x5c\x5c\x5c\x5c(?=('+_0x3616b8['join']('|')+')\x5cb)','g'),'\x5c'),_0x3616b8[_0x573868(0x65f)](_0x4d8171=>{const _0xc7bd10=_0x573868;_0x306912=_0x306912[_0xc7bd10(0x4cf)](new RegExp(_0xc7bd10(0x3aa)+_0x4d8171+'\x5cb','g'),(_0x5e7071,_0x2f0a5c)=>_0x2f0a5c+'\x5c'+_0x4d8171);});const _0x160797=[[/×/g,'\x5ctimes'],[/·/g,_0x573868(0x603)],[/÷/g,'\x5cdiv'],[/≤/g,_0x573868(0x188)],[/≥/g,_0x573868(0x54f)],[/≠/g,_0x573868(0x855)],[/±/g,_0x573868(0x212)],[/∑/g,'\x5csum'],[/−/g,'-']];_0x160797[_0x573868(0x65f)](([_0x231f68,_0x607527])=>{const _0x416ffd=_0x573868;_0x306912=_0x306912[_0x416ffd(0x4cf)](_0x231f68,_0x607527);}),_0x306912=_0x306912[_0x573868(0x4cf)](/√\s*\(([^)]*)\)/g,'\x5csqrt{$1}'),_0x306912=_0x306912[_0x573868(0x4cf)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x306912=_0x306912[_0x573868(0x4cf)](/(^|[^\\])\bimes\b/g,'$1\x5ctimes')[_0x573868(0x4cf)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x573868(0x523))[_0x573868(0x4cf)](/(^|[^\\])ext\{/g,'$1\x5ctext{')[_0x573868(0x4cf)](/(^|[^\\])ext\(/g,'$1\x5ctext(')[_0x573868(0x4cf)](/\\text\(([^)]*)\)/g,_0x573868(0x8e4))['replace'](/\s\\frac/g,'\x5cfrac'),_0x306912=_0x306912[_0x573868(0x4cf)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x4fa68d,_0x395d2d,_0x91696d,_0x5e1f04)=>_0x395d2d+'\x5cfrac{'+_0x91696d+'}{'+_0x5e1f04+'}'),_0x306912=_0x306912['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,'\x5cfrac{$1}{$2}')[_0x573868(0x4cf)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,'\x5cfrac{$1}{$2}')['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x573868(0x1c8)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x573868(0x160)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x573868(0x160)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x573868(0x160)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x573868(0x160)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x573868(0x160)],[/(\d+)\s*°\s*C/g,_0x573868(0x160)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x573868(0x6bf)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x573868(0x160)]][_0x573868(0x65f)](([_0xc1760b,_0x1ffac5])=>{const _0x4d393a=_0x573868;_0x306912=_0x306912[_0x4d393a(0x4cf)](_0xc1760b,_0x1ffac5);}),_0x306912=_0x306912[_0x573868(0x4cf)](/(\d+)\s*%/g,_0x573868(0x43c)),_0x306912=_0x306912[_0x573868(0x4cf)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x573868(0x821))[_0x573868(0x4cf)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x573868(0x35b))[_0x573868(0x4cf)](/\{\{([^\{\}]+)\}\}/g,'{$1}'),[_0x573868(0x811),_0x573868(0x4f8),_0x573868(0x5d7),'log','ln'][_0x573868(0x65f)](_0xe322eb=>{const _0x1137e4=_0x573868;_0x306912=_0x306912[_0x1137e4(0x4cf)](new RegExp(_0x1137e4(0x3aa)+_0xe322eb+'\x5cs*\x5c(','g'),(_0x161a23,_0xd1ad06)=>_0xd1ad06+'\x5c'+_0xe322eb+'(');});const _0x37e092=(_0x306912[_0x573868(0x3ad)](/\\left\b/g)||[])[_0x573868(0x412)],_0x29bfd0=(_0x306912[_0x573868(0x3ad)](/\\right\b/g)||[])['length'];if(_0x37e092!==_0x29bfd0)_0x306912=_0x306912[_0x573868(0x4cf)](/\\left\b/g,'')[_0x573868(0x4cf)](/\\right\b/g,'');return _0x306912=_0x488587(_0x306912),_0x306912;},_0x5cd112=_0x165764=>{const _0x2778f1=_0x32ff4d;if(/\$|\\\(|\\\[/['test'](_0x165764))return _0x165764;if(!_0x5b2ce9[_0x2778f1(0x40e)](_0x165764))return _0x165764;const _0x5bec20=_0x165764[_0x2778f1(0x3ad)](/^\s*/)[0x0],_0xa5208e=_0x165764[_0x2778f1(0x3ad)](/\s*$/)[0x0],_0x1940e9=_0x165764[_0x2778f1(0x4b3)]();return _0x5bec20+'$'+_0x1766d1(_0x1940e9)+'$'+_0xa5208e;},_0xf6165e=_0x1c2d5b=>_0x1c2d5b[_0x32ff4d(0x32c)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x3c6893[_0x32ff4d(0x65f)](_0x8823e2=>{const _0x23e0ba=_0x32ff4d;if(_0x8823e2[_0x23e0ba(0x6ce)]&&_0x8823e2[_0x23e0ba(0x6ce)]('mjx-container'))return;const _0x2bd835=_0x25eb12(_0x8823e2);let _0x5cece3=_0x57900b(_0x2bd835);_0x5cece3=_0x5cece3[_0x23e0ba(0x4cf)](/\$\$([\s\S]*?)\$\$/g,(_0x1c8da2,_0x2ead8f)=>'$$'+_0x1766d1(_0x2ead8f)+'$$')[_0x23e0ba(0x4cf)](/\$([^$]*?)\$/g,(_0x331bd0,_0x30b44c)=>'$'+_0x1766d1(_0x30b44c)+'$')[_0x23e0ba(0x4cf)](/\\\(([\s\S]*?)\\\)/g,(_0x36567b,_0x4a76b8)=>'\x5c('+_0x1766d1(_0x4a76b8)+'\x5c)')[_0x23e0ba(0x4cf)](/\\\[([\s\S]*?)\\\]/g,(_0x949927,_0x4cbd87)=>'\x5c['+_0x1766d1(_0x4cbd87)+'\x5c]');let _0x5f45e2=_0x5cece3,_0x54e394=0x0;const _0xf29b86=_0x5f127a=>_0x5f127a[_0x23e0ba(0x4cf)](/S([^S]{0,2000}?)S/g,(_0x1ff6e7,_0x30de0d)=>_0x5b2ce9['test'](_0x30de0d)?'$'+_0x1766d1(_0x30de0d)+'$':_0x1ff6e7);while(_0x54e394++<0x14){const _0x1fbd69=_0xf29b86(_0x5f45e2);if(_0x1fbd69===_0x5f45e2)break;_0x5f45e2=_0x1fbd69;}_0x5cece3=_0x5f45e2,_0x5cece3=_0x5cece3[_0x23e0ba(0x32c)]('\x0a')[_0x23e0ba(0x79a)](_0x19d6b1=>{const _0x33d68f=_0x23e0ba;if(!(/[,\u3001，;；]/['test'](_0x19d6b1)||/\s(?:และ|หรือ)\s/[_0x33d68f(0x40e)](_0x19d6b1))||!_0x5b2ce9[_0x33d68f(0x40e)](_0x19d6b1))return _0x19d6b1;return _0xf6165e(_0x19d6b1)[_0x33d68f(0x79a)](_0x474425=>{const _0x4f63e5=_0x33d68f;if(/^\s(?:และ|หรือ)\s$/[_0x4f63e5(0x40e)](_0x474425)||/^[,\u3001，;；]$/['test'](_0x474425))return _0x474425;return _0x5cd112(_0x474425);})['join']('');})[_0x23e0ba(0x6f4)]('\x0a'),_0x5cece3=_0x5cece3[_0x23e0ba(0x32c)]('\x0a')[_0x23e0ba(0x79a)](_0x47f295=>{const _0x18d24b=_0x23e0ba,_0x46b670=_0x47f295[_0x18d24b(0x4b3)]();if(!_0x46b670)return _0x47f295;const _0x23077e=/\$|\\\(|\\\[/[_0x18d24b(0x40e)](_0x46b670),_0x5329f1=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x18d24b(0x40e)](_0x46b670);if(_0x23077e||!_0x5329f1||_0x114551(_0x46b670))return _0x47f295;return _0x47f295[_0x18d24b(0x4cf)](_0x46b670,'$'+_0x1766d1(_0x46b670)+'$');})['join']('\x0a'),_0x5cece3=_0x5cece3[_0x23e0ba(0x4cf)](/(\d+)\s*°\s*C\b/g,(_0x93620e,_0x525239,_0x1bbb2c,_0x7dd067)=>{const _0x4f46d8=_0x7dd067[_0x1bbb2c-0x1];if(_0x4f46d8==='$'||_0x4f46d8==='S'||_0x4f46d8==='\x5c')return _0x93620e;return'$'+_0x525239+'^{\x5ccirc}\x5ctext{C}$';})[_0x23e0ba(0x4cf)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x5ce3cd,_0x21d968,_0x3e2e07,_0x5f4057)=>{const _0x585eb6=_0x5f4057[_0x3e2e07-0x1];if(_0x585eb6==='$'||_0x585eb6==='S'||_0x585eb6==='\x5c')return _0x5ce3cd;return'$'+_0x21d968+'^{\x5ccirc}\x5ctext{C}$';})[_0x23e0ba(0x4cf)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x5828c0,_0x14002f,_0x24ee92,_0x4fd957)=>{const _0x31db07=_0x4fd957[_0x24ee92-0x1];if(_0x31db07==='$'||_0x31db07==='S'||_0x31db07==='\x5c')return _0x5828c0;return'$'+_0x14002f+'^{\x5ccirc}\x5ctext{C}$';}),_0x5cece3=_0x5cece3[_0x23e0ba(0x4cf)](/\$\s*\$/g,'$$'),_0x5cece3!==_0x2bd835&&(_0x5d1cdc(_0x8823e2,_0x5cece3),_0x57a976++);});if(_0x57a976>0x0){showMessage(_0x32ff4d(0x25a)+_0x57a976+_0x32ff4d(0x248));try{if(window['MathJax']&&MathJax['typesetPromise'])MathJax[_0x32ff4d(0x1de)]();window['katex']&&typeof renderMathInElement===_0x32ff4d(0x236)&&renderMathInElement(_0x4d0f82,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x5bc379){}}else showMessage(_0x32ff4d(0x8f3));}async function listenForCustomMathTopics(){const _0x520f1a=_0x411d30,_0x3ea84c=collection(db,_0x520f1a(0x6c8)+appId+_0x520f1a(0x8b7));onSnapshot(_0x3ea84c,_0x30c384=>{const _0x853f6=_0x520f1a;customMathTopics=_0x30c384[_0x853f6(0x60e)]['map'](_0x45bfd0=>({'id':_0x45bfd0['id'],..._0x45bfd0[_0x853f6(0x516)]()})),renderTopicCheckboxes();},_0x3a5822=>{const _0x3b5b82=_0x520f1a;console[_0x3b5b82(0x735)](_0x3b5b82(0x574),_0x3a5822);});}function handleSelectAllTopics(){const _0x48fdb4=_0x411d30,_0x4eba89=document[_0x48fdb4(0x2da)](_0x48fdb4(0x215)),_0x469de7=_0x4eba89[_0x48fdb4(0x7ea)](_0x48fdb4(0x365));_0x469de7[_0x48fdb4(0x65f)](_0x339aa9=>{_0x339aa9['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x6b2501=_0x411d30,_0x179046=document[_0x6b2501(0x2da)](_0x6b2501(0x215)),_0x298f4c=_0x179046[_0x6b2501(0x7ea)](_0x6b2501(0x365));_0x298f4c[_0x6b2501(0x65f)](_0x184a97=>{const _0x43f101=_0x6b2501;_0x184a97[_0x43f101(0x81a)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x2d1777){const _0xc9cd67=_0x411d30;if(!_0x2d1777)return;try{const _0xa5d77f=doc(db,_0xc9cd67(0x6c8)+appId+_0xc9cd67(0x8b7),_0x2d1777);await deleteDoc(_0xa5d77f),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x359404){console[_0xc9cd67(0x735)](_0xc9cd67(0x7a6),_0x359404),showMessage(_0xc9cd67(0x5f9));}}async function handleAddCustomMathTopic(){const _0xf6a1d1=_0x411d30,_0xbdbfab=document[_0xf6a1d1(0x2da)]('custom-math-topic-input'),_0x5bfa42=_0xbdbfab[_0xf6a1d1(0x5b4)]['trim']();if(!_0x5bfa42){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0xf6a1d1(0x4f2));return;}try{const _0x143ac6=collection(db,'artifacts/'+appId+'/public/data/customMathTopics');await addDoc(_0x143ac6,{'name':_0x5bfa42,'createdAt':serverTimestamp()}),_0xbdbfab[_0xf6a1d1(0x5b4)]='',showMessage(_0xf6a1d1(0x8dc)+_0x5bfa42+_0xf6a1d1(0x4c2));}catch(_0x298bfb){console[_0xf6a1d1(0x735)](_0xf6a1d1(0x427),_0x298bfb),showMessage(_0xf6a1d1(0x1a4));}}async function handleUpdateOldQuizzes(){const _0xb45572=_0x411d30;showConfirmation(_0xb45572(0x8fe),async()=>{const _0x3ed57d=_0xb45572,_0x19baaf=document['getElementById'](_0x3ed57d(0xe9)),_0x243cee=document[_0x3ed57d(0x2da)](_0x3ed57d(0x57f)),_0x1b4b3a=_0x243cee[_0x3ed57d(0x769)];_0x19baaf['classList'][_0x3ed57d(0x395)](_0x3ed57d(0x62f)),_0x243cee[_0x3ed57d(0x769)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x30f9bc=collection(db,_0x3ed57d(0x6c8)+appId+_0x3ed57d(0x7d7)),_0x553aa2=await getDocs(_0x30f9bc);if(_0x553aa2[_0x3ed57d(0x166)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x47e571=writeBatch(db);let _0x521b6f=0x0;_0x553aa2[_0x3ed57d(0x65f)](_0x343de2=>{const _0x77de92=_0x3ed57d,_0x131165=_0x343de2['data'](),_0x59f321=_0x343de2['id'];if(_0x131165[_0x77de92(0x7f5)]&&_0x131165[_0x77de92(0x7f5)]['length']>0x0&&!_0x131165[_0x77de92(0x7f5)][0x0][_0x77de92(0x130)]('id')){console[_0x77de92(0x50c)](_0x77de92(0x3b9)+_0x59f321+'\x20('+_0x131165['topic']+')'),_0x521b6f++;const _0x2c6a0f=_0x131165['questions']['map']((_0x42a2cf,_0x574104)=>{const _0x5d7ea4=_0x77de92;return{..._0x42a2cf,'id':_0x42a2cf['id']||'q_'+Date[_0x5d7ea4(0x542)]()+'_'+_0x59f321+'_'+_0x574104};}),_0x1198a0=doc(db,_0x77de92(0x6c8)+appId+_0x77de92(0x7d7),_0x59f321);_0x47e571[_0x77de92(0x6e7)](_0x1198a0,{'questions':_0x2c6a0f});}}),_0x521b6f>0x0?(_0x243cee[_0x3ed57d(0x769)]='กำลังอัปเดตแบบทดสอบ\x20'+_0x521b6f+'\x20รายการ...',await _0x47e571[_0x3ed57d(0x4e6)](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x521b6f+_0x3ed57d(0x705))):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x2fafa7){console[_0x3ed57d(0x735)](_0x3ed57d(0x61c),_0x2fafa7),showMessage(_0x3ed57d(0x1a7)+_0x2fafa7[_0x3ed57d(0x2d1)]);}finally{_0x19baaf['classList'][_0x3ed57d(0x483)]('hidden'),_0x243cee[_0x3ed57d(0x769)]=_0x1b4b3a;}});}async function handleBulkUpdateQuizSettings(){const _0x309e99=_0x411d30,_0x22f33e={'shuffle':document['getElementById'](_0x309e99(0x4eb))[_0x309e99(0x5b4)],'resultsDisplay':document[_0x309e99(0x2da)](_0x309e99(0x3bc))[_0x309e99(0x5b4)],'loopUntilPass':document['getElementById'](_0x309e99(0x64e))[_0x309e99(0x81a)]},_0x4ba73b=allQuizzesGlobal['length'];showConfirmation(_0x309e99(0x325)+_0x4ba73b+_0x309e99(0x8fb),async()=>{const _0x131152=_0x309e99,_0x376c51=document[_0x131152(0x2da)](_0x131152(0x747));_0x376c51[_0x131152(0x502)]=!![],_0x376c51[_0x131152(0x373)]=_0x131152(0x172);try{const _0x5edbda=writeBatch(db);allQuizzesGlobal[_0x131152(0x65f)](_0x29e209=>{const _0xbaf81d=_0x131152,_0x102978=doc(db,'artifacts/'+appId+_0xbaf81d(0x7d7),_0x29e209['id']),_0x1b43c8={..._0x29e209[_0xbaf81d(0x304)]||{},..._0x22f33e};_0x5edbda[_0xbaf81d(0x6e7)](_0x102978,{'settings':_0x1b43c8});}),await _0x5edbda['commit'](),document[_0x131152(0x2da)]('bulk-quiz-settings-modal')[_0x131152(0x5aa)][_0x131152(0x483)]('hidden'),showMessage('อัปเดตการตั้งค่าของแบบทดสอบ\x20'+_0x4ba73b+_0x131152(0x3b0));}catch(_0x27507a){console[_0x131152(0x735)](_0x131152(0x68d),_0x27507a),showMessage(_0x131152(0x2d3));}finally{_0x376c51[_0x131152(0x502)]=![],_0x376c51[_0x131152(0x373)]='ยืนยันและอัปเดตทั้งหมด';}});}async function handleSaveProjectName(){const _0x4b2240=_0x411d30,_0x31e84c=document[_0x4b2240(0x2da)](_0x4b2240(0x8b5)),_0x5b7407=document['getElementById']('save-project-name-btn'),_0xe86c7b=_0x31e84c[_0x4b2240(0x769)][_0x4b2240(0x4b3)]();if(!_0xe86c7b||!currentProjectId){showMessage(_0x4b2240(0x7a0)),_0x31e84c[_0x4b2240(0x769)]=currentProjectData[_0x4b2240(0x661)];return;}_0x5b7407['disabled']=!![],_0x5b7407[_0x4b2240(0x373)]=_0x4b2240(0x52d);try{const _0x21c447=doc(db,_0x4b2240(0x6c8)+appId+_0x4b2240(0x5b2),currentProjectId);await updateDoc(_0x21c447,{'projectName':_0xe86c7b}),currentProjectData&&(currentProjectData[_0x4b2240(0x661)]=_0xe86c7b),showMessage(_0x4b2240(0x61d));}catch(_0x5eadbf){console[_0x4b2240(0x735)]('Error\x20updating\x20project\x20name:',_0x5eadbf),showMessage(_0x4b2240(0x446)),_0x31e84c['textContent']=currentProjectData[_0x4b2240(0x661)];}finally{_0x5b7407['classList']['add'](_0x4b2240(0x62f)),_0x5b7407[_0x4b2240(0x502)]=![],_0x5b7407[_0x4b2240(0x373)]=_0x4b2240(0x867);}}async function initialize(){const _0x39e547=_0x411d30;try{const _0x5e543b=initializeApp(firebaseConfig);db=getFirestore(_0x5e543b),auth=getAuth(_0x5e543b),setupAuthListener(),setupEventListeners(),showView(_0x39e547(0x3d1)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x364e02){console[_0x39e547(0x735)](_0x39e547(0x189),_0x364e02),showMessage(_0x39e547(0x415));}}async function handleVerifyAnswersInEditor(){const _0x3bf4fc=_0x411d30,_0x353a93=document['getElementById'](_0x3bf4fc(0x7e7));if(!_0x353a93)return;const _0x2538b5=document['getElementById'](_0x3bf4fc(0x5d6));_0x2538b5['disabled']=!![],_0x2538b5[_0x3bf4fc(0x373)]=_0x3bf4fc(0x796);try{const _0x3fdfb0=_0x353a93['querySelectorAll']('.question-editor-item'),_0x2bdece=Array['from'](_0x3fdfb0)[_0x3bf4fc(0x79a)]((_0x200cfc,_0xb1f5c7)=>{const _0x392fca=_0x3bf4fc,_0x26da51=_0x200cfc[_0x392fca(0x5a1)]['qType'],_0x4701bc=_0x200cfc[_0x392fca(0x6ce)](_0x392fca(0x38a))['value'];let _0x386970=null,_0x47c83b='';switch(_0x26da51){case _0x392fca(0x247):const _0x58adee=_0x200cfc[_0x392fca(0x7ea)](_0x392fca(0x6cf));_0x386970=Array[_0x392fca(0x634)](_0x58adee)[_0x392fca(0x79a)](_0xfa906f=>_0xfa906f[_0x392fca(0x5b4)]);const _0x3ddf1e=_0x200cfc['querySelector'](_0x392fca(0x73f));_0x3ddf1e&&(_0x47c83b=_0x386970[parseInt(_0x3ddf1e[_0x392fca(0x5b4)])]);break;case'short_answer':_0x47c83b=_0x200cfc[_0x392fca(0x6ce)]('.ideal-answer-input')[_0x392fca(0x5b4)];break;case'true_false':const _0x34da3e=_0x200cfc[_0x392fca(0x6ce)](_0x392fca(0x73f));_0x47c83b=_0x34da3e?_0x34da3e[_0x392fca(0x5b4)]:'';break;case'matching_item':_0x47c83b=_0x200cfc[_0x392fca(0x6ce)](_0x392fca(0x459))['value'];break;}return{'question':_0x4701bc,'options':_0x386970,'proposedAnswer':_0x47c83b};}),_0x478c36=_0x3bf4fc(0x5de)+JSON[_0x3bf4fc(0x3c6)](_0x2bdece)+_0x3bf4fc(0x698),_0xa66fce={'type':_0x3bf4fc(0x534),'items':{'type':_0x3bf4fc(0x102),'properties':{'questionIndex':{'type':_0x3bf4fc(0x3fd)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x3bf4fc(0x532)},'suggestedAnswer':{'type':_0x3bf4fc(0x532)}},'required':[_0x3bf4fc(0x608),_0x3bf4fc(0x6c2),_0x3bf4fc(0x894)]}},_0x426a9c=await callAnalysisApi(_0x478c36,{'type':_0x3bf4fc(0x102),'properties':{'result':_0xa66fce},'required':[_0x3bf4fc(0x492)]});displayVerificationResultsInEditor(_0x426a9c[_0x3bf4fc(0x492)]);}catch(_0x10f7b1){console[_0x3bf4fc(0x735)](_0x3bf4fc(0x58d),_0x10f7b1),showMessage(_0x3bf4fc(0x8ee));}finally{_0x2538b5[_0x3bf4fc(0x502)]=![],_0x2538b5[_0x3bf4fc(0x373)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x1a12ee){const _0x1b3cc9=_0x411d30;_0x1a12ee['forEach'](_0x913a3b=>{const _0x494a0f=_0x1004,_0x1953a3=document['querySelector'](_0x494a0f(0x3d9)+_0x913a3b['questionIndex']+'\x22]');if(!_0x1953a3)return;const _0x6a22d3=_0x1953a3[_0x494a0f(0x6ce)](_0x494a0f(0x2de));if(_0x6a22d3)_0x6a22d3[_0x494a0f(0x395)]();let _0x1cf448='';if(_0x913a3b[_0x494a0f(0x6c2)])_0x1cf448=_0x494a0f(0x819);else{const _0x3ea1f2=_0x913a3b['suggestedAnswer']?_0x494a0f(0x790):'';_0x1cf448=_0x494a0f(0x7f6)+_0x3ea1f2+_0x494a0f(0x762)+_0x913a3b[_0x494a0f(0x894)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x913a3b['suggestedAnswer']?_0x494a0f(0x342)+_0x913a3b['suggestedAnswer']+_0x494a0f(0x34c):'')+_0x494a0f(0x682);}_0x1953a3[_0x494a0f(0x857)](_0x494a0f(0x1eb),_0x1cf448);if(!_0x913a3b['isCorrect']&&_0x913a3b['suggestedAnswer']){const _0x32b7ee=_0x1953a3[_0x494a0f(0x5a1)][_0x494a0f(0x351)],_0x1ad7c1=_0x2508d7=>{const _0x5e3f26=_0x494a0f;if(!_0x2508d7)return;_0x2508d7[_0x5e3f26(0x5aa)][_0x5e3f26(0x483)](_0x5e3f26(0x644),_0x5e3f26(0x874),'duration-300'),setTimeout(()=>{const _0x4eca64=_0x5e3f26;_0x2508d7[_0x4eca64(0x5aa)][_0x4eca64(0x395)](_0x4eca64(0x644));},0x9c4);};if(_0x32b7ee==='multiple_choice'){const _0x3ac23b=Array[_0x494a0f(0x634)](_0x1953a3[_0x494a0f(0x7ea)](_0x494a0f(0x6cf))),_0x3b194b=_0x3ac23b[_0x494a0f(0x5a0)](_0x469565=>_0x469565[_0x494a0f(0x5b4)][_0x494a0f(0x4b3)]()[_0x494a0f(0x5ff)]()===_0x913a3b[_0x494a0f(0x4d5)]['trim']()[_0x494a0f(0x5ff)]());if(_0x3b194b!==-0x1){const _0x125819=_0x1953a3[_0x494a0f(0x6ce)](_0x494a0f(0x41f)+_0x3b194b+'\x22]');_0x125819&&(_0x125819[_0x494a0f(0x81a)]=!![],_0x1ad7c1(_0x125819['closest']('div')));}}else{if(_0x32b7ee===_0x494a0f(0x637)||_0x32b7ee===_0x494a0f(0x733)){const _0x58884e=_0x1953a3['querySelector']('.ideal-answer-input,\x20.correct-response-input');_0x58884e&&(_0x58884e[_0x494a0f(0x5b4)]=_0x913a3b[_0x494a0f(0x4d5)],_0x1ad7c1(_0x58884e));}else{if(_0x32b7ee===_0x494a0f(0x5e7)){const _0xee9e29=_0x913a3b[_0x494a0f(0x4d5)][_0x494a0f(0x4b3)]()['toLowerCase'](),_0xdb74d3=_0x1953a3[_0x494a0f(0x6ce)](_0x494a0f(0x41f)+_0xee9e29+'\x22]');_0xdb74d3&&(_0xdb74d3['checked']=!![],_0x1ad7c1(_0xdb74d3[_0x494a0f(0x588)](_0x494a0f(0x8ad))));}}}}}),showMessage(_0x1b3cc9(0x823));}async function handleVerifyAnswers(){const _0x25e52f=_0x411d30;if(!currentQuizData||!currentQuizData[_0x25e52f(0x7f5)]){showMessage(_0x25e52f(0x4bf));return;}const _0x11fec7=document[_0x25e52f(0x2da)](_0x25e52f(0x25e));_0x11fec7[_0x25e52f(0x502)]=!![],_0x11fec7[_0x25e52f(0x373)]=_0x25e52f(0x796);try{const _0x2dfa17=currentQuizData[_0x25e52f(0x7f5)][_0x25e52f(0x79a)]((_0x29d7e8,_0x37547f)=>{const _0x218ebc=_0x25e52f;let _0x28f0aa='';const _0x304a41=_0x29d7e8[_0x218ebc(0x6ec)]||currentQuizData[_0x218ebc(0x285)];switch(_0x304a41){case _0x218ebc(0x247):_0x28f0aa=_0x29d7e8[_0x218ebc(0x7f7)][_0x29d7e8[_0x218ebc(0x6a9)]];break;case _0x218ebc(0x637):_0x28f0aa=_0x29d7e8[_0x218ebc(0x3a5)];break;case _0x218ebc(0x5e7):_0x28f0aa=_0x29d7e8[_0x218ebc(0x51d)][_0x218ebc(0x87a)]();break;case _0x218ebc(0x733):_0x28f0aa=_0x29d7e8['correctResponse'];break;}return{'question':_0x29d7e8[_0x218ebc(0x7ec)]||_0x29d7e8['questionText'],'options':_0x29d7e8[_0x218ebc(0x7f7)]||null,'proposedAnswer':_0x28f0aa};}),_0x54186b=_0x25e52f(0x507)+JSON[_0x25e52f(0x3c6)](_0x2dfa17)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x13b33f={'type':_0x25e52f(0x534),'items':{'type':_0x25e52f(0x102),'properties':{'questionIndex':{'type':_0x25e52f(0x3fd)},'isCorrect':{'type':_0x25e52f(0x8af)},'justification':{'type':_0x25e52f(0x532)},'suggestedAnswer':{'type':_0x25e52f(0x532)}},'required':[_0x25e52f(0x608),'isCorrect',_0x25e52f(0x894)]}},_0x7ed8ad=await callAnalysisApi(_0x54186b,{'type':'OBJECT','properties':{'result':_0x13b33f},'required':['result']});displayVerificationResults(_0x7ed8ad[_0x25e52f(0x492)]);}catch(_0x586816){console['error'](_0x25e52f(0x16f),_0x586816),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x11fec7[_0x25e52f(0x502)]=![],_0x11fec7[_0x25e52f(0x373)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0x5670f3){const _0x1d7939=_0x411d30;_0x5670f3[_0x1d7939(0x65f)](_0x49fc07=>{const _0x4dd845=_0x1d7939,_0x5b02eb=document['querySelector'](_0x4dd845(0x164)+_0x49fc07['questionIndex']+'\x22]');if(_0x5b02eb){const _0x525abe=_0x5b02eb[_0x4dd845(0x6ce)](_0x4dd845(0x2b8));if(_0x525abe)_0x525abe['remove']();let _0xb01888='';_0x49fc07[_0x4dd845(0x6c2)]?_0xb01888=_0x4dd845(0x749):_0xb01888='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x49fc07[_0x4dd845(0x894)]+_0x4dd845(0x54e)+(_0x49fc07[_0x4dd845(0x4d5)]?_0x4dd845(0x342)+_0x49fc07[_0x4dd845(0x4d5)]+_0x4dd845(0x34c):'')+_0x4dd845(0x429),_0x5b02eb['insertAdjacentHTML'](_0x4dd845(0x1eb),_0xb01888);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x22e3b0,_0x1343be){const _0x1b8282=_0x411d30,_0x2efff0=String(_0x22e3b0)[_0x1b8282(0x4cf)](',','.')[_0x1b8282(0x4cf)](/[^\d.-]/g,'')[_0x1b8282(0x4b3)](),_0x5d1df7=String(_0x1343be)[_0x1b8282(0x4cf)](',','.')[_0x1b8282(0x4cf)](/[^\d.-]/g,'')[_0x1b8282(0x4b3)]();if(_0x2efff0===''||_0x5d1df7==='')return![];const _0xd84e54=parseFloat(_0x2efff0),_0x5fd550=parseFloat(_0x5d1df7);if(isNaN(_0xd84e54)||isNaN(_0x5fd550))return![];return Math['abs'](_0xd84e54-_0x5fd550)<0.001;}async function gradeShortAnswer(_0x1a5e22,_0x5a7b49){const _0x3c8eb4=_0x411d30,_0x1b36a4=_0x5a7b49['idealAnswer'];if(String(_0x1a5e22)[_0x3c8eb4(0x4b3)]()[_0x3c8eb4(0x5ff)]()===String(_0x1b36a4)[_0x3c8eb4(0x4b3)]()[_0x3c8eb4(0x5ff)]())return!![];if(compareNumericalAnswers(_0x1a5e22,_0x1b36a4))return!![];return console['log'](_0x3c8eb4(0x30a)),await gradeShortAnswerWithAI(_0x1a5e22,_0x1b36a4);}async function revealAnswerForAdmin(_0x20cb3d,_0x22bb51){const _0x34d4d4=_0x411d30,_0x32b6cc=doc(db,_0x34d4d4(0x6c8)+appId+_0x34d4d4(0x90e),currentLiveGameId);await updateDoc(_0x32b6cc,{'questionStatus':_0x34d4d4(0x137)});}function showTop5LeaderboardView(_0x119243){const _0x413705=_0x411d30,_0x4f63bd=Object['values'](_0x119243['players']||{})['filter'](_0x403bd5=>_0x403bd5['status']===_0x413705(0xe3));_0x4f63bd[_0x413705(0x73c)]((_0x2524ea,_0x3fc593)=>_0x3fc593[_0x413705(0x693)]-_0x2524ea['score']);const _0x496866=_0x4f63bd[_0x413705(0x85d)](0x0,0x5),_0x1b000e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x496866[_0x413705(0x79a)]((_0x272383,_0x309449)=>_0x413705(0x3f4)+(_0x309449+0x1)+'.\x20'+(_0x272383[_0x413705(0x612)]||Object[_0x413705(0x2fb)](_0x119243[_0x413705(0x805)])[_0x413705(0x151)](_0x2f395d=>_0x119243['players'][_0x2f395d]===_0x272383))+_0x413705(0x5f4)+_0x272383['score']+_0x413705(0x6b0))['join']('')+_0x413705(0x233)+(_0x119243[_0x413705(0x113)]+0x1===currentQuizData['questions']['length']?'สรุปผลสุดท้าย':'ข้อต่อไป')+_0x413705(0x39c);liveGameView[_0x413705(0x373)]=_0x1b000e,document[_0x413705(0x2da)](_0x413705(0x3a0))['addEventListener'](_0x413705(0x302),async()=>{const _0x3c88f9=_0x413705,_0x240b33=doc(db,_0x3c88f9(0x6c8)+appId+'/public/data/liveGames',currentLiveGameId),_0x19d2f1=_0x119243['currentQuestionIndex']+0x1;if(_0x19d2f1<currentQuizData['questions'][_0x3c88f9(0x412)]){const _0x3565a4={'currentQuestionIndex':_0x19d2f1,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x3c88f9(0x5eb)};Object[_0x3c88f9(0x2fb)](_0x119243[_0x3c88f9(0x805)])[_0x3c88f9(0x65f)](_0x226f21=>{const _0x2313ae=_0x3c88f9;_0x3565a4[_0x2313ae(0x883)+_0x226f21+_0x2313ae(0x7a2)]=![];}),await updateDoc(_0x240b33,_0x3565a4);}else await updateDoc(_0x240b33,{'status':_0x3c88f9(0x5c2)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x3de158=>{const _0x3a56da=_0x1004;if(_0x3de158){userId=_0x3de158[_0x3a56da(0x4a4)],userIdDisplay[_0x3a56da(0x769)]=userId;const _0x3d1b2b=await loadUserPreferences();_0x3d1b2b[_0x3a56da(0x279)]&&(document[_0x3a56da(0x2da)]('project-sort-select')['value']=_0x3d1b2b['projectSortOrder']);globalDashboardSettings[_0x3a56da(0x697)]=_0x3d1b2b[_0x3a56da(0x697)]||_0x3a56da(0x602);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x309d02,_0x3fb00b){const _0x50e5f2=_0x411d30;if(!userId)return;try{const _0x37acbc=doc(db,_0x50e5f2(0x6c8)+appId+_0x50e5f2(0x701)+userId+_0x50e5f2(0x84d)),_0x4554b9={};_0x4554b9[_0x309d02]=_0x3fb00b,await setDoc(_0x37acbc,_0x4554b9,{'merge':!![]});}catch(_0x269e1e){console[_0x50e5f2(0x735)]('Error\x20saving\x20user\x20preference:',_0x269e1e);}}async function loadUserPreferences(){const _0x1c8d06=_0x411d30;if(!userId)return{};try{const _0x2b9d7d=doc(db,_0x1c8d06(0x6c8)+appId+_0x1c8d06(0x701)+userId+_0x1c8d06(0x84d)),_0x2a8694=await getDoc(_0x2b9d7d);if(_0x2a8694[_0x1c8d06(0x50f)]())return _0x2a8694[_0x1c8d06(0x516)]();return{};}catch(_0x38b1d1){return console[_0x1c8d06(0x735)](_0x1c8d06(0x253),_0x38b1d1),{};}}function showPodiumView(_0x242598){const _0x2d1e27=_0x411d30,_0x27b29c=Object[_0x2d1e27(0x142)](_0x242598)[_0x2d1e27(0x79a)](([_0x4280af,_0x2894a0])=>({'name':_0x4280af,'score':_0x2894a0[_0x2d1e27(0x693)]||0x0,'badges':_0x2894a0[_0x2d1e27(0x87e)]||[]}));_0x27b29c[_0x2d1e27(0x73c)]((_0x6e4ec0,_0x3f6d50)=>{const _0x3df32c=_0x2d1e27,_0x4f08b0=_0x3f6d50['score']-_0x6e4ec0[_0x3df32c(0x693)];if(_0x4f08b0!==0x0)return _0x4f08b0;return(_0x3f6d50[_0x3df32c(0x87e)][_0x3df32c(0x412)]||0x0)-(_0x6e4ec0['badges'][_0x3df32c(0x412)]||0x0);});const _0x54ae67=_0x41283f=>{const _0x103215=_0x2d1e27;if(!_0x41283f||_0x41283f[_0x103215(0x412)]===0x0)return'';const _0x48e5c7={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x103215(0x6e3)+_0x41283f['map'](_0x41b405=>_0x48e5c7[_0x41b405]||'')['join']('')+_0x103215(0x45f);},_0x15047c=_0x27b29c['slice'](0x3),_0x45080e=_0x15047c[_0x2d1e27(0x412)]>0x0?_0x2d1e27(0x7fb)+_0x15047c[_0x2d1e27(0x79a)]((_0x2a2f24,_0x4a2fbf)=>_0x2d1e27(0x836)+(_0x4a2fbf+0x4)+_0x2d1e27(0x12e)+_0x2a2f24[_0x2d1e27(0x612)]+_0x2d1e27(0x80b)+_0x2a2f24[_0x2d1e27(0x693)]+_0x2d1e27(0x69b))[_0x2d1e27(0x6f4)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0x4b1ddc=_0x2d1e27(0x8da)+(_0x27b29c[0x1]?_0x2d1e27(0x65d)+_0x27b29c[0x1][_0x2d1e27(0x612)]+_0x2d1e27(0x875)+_0x54ae67(_0x27b29c[0x1][_0x2d1e27(0x87e)])+_0x2d1e27(0x12c)+_0x27b29c[0x1][_0x2d1e27(0x693)]+_0x2d1e27(0x357):_0x2d1e27(0x40b))+_0x2d1e27(0x317)+(_0x27b29c[0x0]?_0x2d1e27(0x315)+_0x27b29c[0x0][_0x2d1e27(0x612)]+_0x2d1e27(0x875)+_0x54ae67(_0x27b29c[0x0]['badges'])+_0x2d1e27(0x340)+_0x27b29c[0x0][_0x2d1e27(0x693)]+_0x2d1e27(0x7bc):_0x2d1e27(0x40b))+_0x2d1e27(0x317)+(_0x27b29c[0x2]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x27b29c[0x2][_0x2d1e27(0x612)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x54ae67(_0x27b29c[0x2][_0x2d1e27(0x87e)])+_0x2d1e27(0x12c)+_0x27b29c[0x2][_0x2d1e27(0x693)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x2d1e27(0x40b))+_0x2d1e27(0x8d9)+_0x45080e+'\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x2d1e27(0x852)?_0x2d1e27(0x360):_0x2d1e27(0x6f3))+_0x2d1e27(0x7a1);liveGameView[_0x2d1e27(0x373)]=_0x4b1ddc,currentMode==='admin'&&document[_0x2d1e27(0x2da)](_0x2d1e27(0x184))[_0x2d1e27(0x381)](_0x2d1e27(0x302),async()=>{const _0x5a36dc=_0x2d1e27,_0x3fb2d1=doc(db,'artifacts/'+appId+_0x5a36dc(0x90e),currentLiveGameId);await deleteDoc(_0x3fb2d1),showView(_0x5a36dc(0x559));});}async function handleStartLiveRace(_0x15a163){const _0x89db73=_0x411d30;let _0x231b2b=allQuizzes[_0x89db73(0x151)](_0x336375=>_0x336375['id']===_0x15a163);if(!_0x231b2b){const _0x23978=doc(db,_0x89db73(0x6c8)+appId+_0x89db73(0x7d7),_0x15a163),_0x1e38b4=await getDoc(_0x23978);if(!_0x1e38b4[_0x89db73(0x50f)]()){showMessage(_0x89db73(0x6d0));return;}_0x231b2b={'id':_0x1e38b4['id'],..._0x1e38b4[_0x89db73(0x516)]()};}const _0x3c728e=getShuffledQuiz(_0x231b2b);currentQuizData=_0x3c728e;const _0x9927c3=_0x231b2b[_0x89db73(0x7e4)]||currentProjectId||null,_0x2e794d=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x89db73(0x87a)]();currentLiveGamePin=_0x2e794d;try{const _0x2f2da5=await addDoc(collection(db,_0x89db73(0x6c8)+appId+_0x89db73(0x90e)),{'quizId':_0x15a163,'projectId':_0x9927c3,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x2e794d,'createdAt':serverTimestamp(),'shuffledQuiz':_0x3c728e});currentLiveGameId=_0x2f2da5['id'],showAdminLobbyView(_0x2e794d,_0x231b2b[_0x89db73(0x363)]),listenForLiveGameUpdates();}catch(_0x40309e){console[_0x89db73(0x735)](_0x89db73(0x79d),_0x40309e),showMessage(_0x89db73(0x3ef));}}function _0x3f42(){const _0x546669=['lineWidth','sin','.project-card-container:not(.opacity-50)','quiz-leaderboard-table-body','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','PERFECT_SCORE','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','checked','ปริพันธ์ไม่จำกัด','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quadraticCurveTo','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','$1^{$2}','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','ตรวจทานเฉลยเสร็จสิ้น!','text-green-600\x20font-bold','ย้ายแบบทดสอบสำเร็จ','.unpair-quiz-btn','การกระจายและการจัดหมู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','input[name=\x22status-option\x22]','start-presentation-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','bg-green-500','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','สมมาตร\x20(แกน/จุด)','bg-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','warn','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','ค่าคลาดเคลื่อนของการวัด','laser-tool-btn','keyup','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','view-my-progress-btn','onload','pre-test','การวัด','globalCompositeOperation','cdot','contentEditable','confirmation-message','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','delete-svg-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','text-green-700\x20bg-green-100','live-submit-short-answer-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','บันทึกแบบทดสอบสำเร็จแล้ว!','กำลังจับคู่...','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/preferences/main','.generate-lesson-btn','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','filter','<p>','admin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cneq','text-white','insertAdjacentHTML','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onmouseleave','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','หลังเรียน','.generate-post-test-btn','slice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x5ctimes','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','totalQuestions','$1\x20\x5cfrac','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','Error\x20pairing\x20quizzes:','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่สามารถโหลดรายการโปรเจคได้','question-complexity-select','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20ให้เป็นคำถามประเภท\x20\x22','link-tab','student-quiz-area','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','transition-all','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ห.ร.ม.\x20(GCD)','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','readAsDataURL','toString','ไม่ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','badges','export-compact-pdf-btn','ปริมาตร/ความจุและการแปลง','quiz-bank-modal','ฟังก์ชันราก\x20(root)','players.','</td></tr>','border-indigo-400\x20ring-2\x20ring-indigo-200','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','scrollX','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','removeChild','ไม่ผ่าน','baseVal','</p><div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','text-gray-300\x20hover:text-white','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','justification','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','กฎบวกและกฎคูณ','ผ่านฉลุย','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','ยกเลิกการจับคู่สำเร็จ','การจัดหมู่\x20(Combination)','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','topic-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','modal-shuffle-select','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','start-game-btn','touchmove','none','bestScore','.live-answer-btn','answerText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','export-pdf-modal','แก้ไขข้อนี้','admin-view','div','hint','BOOLEAN','element','กำลังวิเคราะห์ข้อสอบ\x20\x22','Error\x20fetching\x20projects\x20for\x20move:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','image/png','project-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/customMathTopics','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','learningGaps','<p\x20class=\x22font-bold\x20text-sm\x20','onclick','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','\x22.\x20Ideal\x20Answer:\x20\x22','close-presentation-btn','คะแนนเต็ม','ผู้เชี่ยวชาญ','per-question-options','bg-purple-50','#26890c','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','promptFeedback','การนับ','.doc','\x20ตัวเลือก.\x20','per-q-countdown','status','เลือกโปรเจคเพื่อบันทึก','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','touchType','show_results_and_answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','จำนวนนักเรียน','หน่วยมวล/น้ำหนักและการแปลง','</label>\x0a\x20\x20\x20\x20</div>\x0a','comeback_king','floor','AI\x20grading\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.sort-indicator','เพิ่มหัวข้อ\x20\x22','src','สร้างคำถามแบบใช่/ไม่ใช่','Error\x20listening\x20for\x20starred\x20quizzes:','quizId','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','</form>','ตัวประกอบและตัวประกอบเฉพาะ','\x5ctext{$1}','</td>','.topic-name-display','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','line-through\x20text-red-700','total','setAttributeNS','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn,\x20#live-submit-short-answer-btn','dragend','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','game-pin-input','reset-project-order-btn','top','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','showInStudentDashboard','.draggable-text','lastAnswerCorrect','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','bank-quiz-list','ai-quiz-app-aefee','fill','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','topic-input','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','editable-quiz-topic','startedAt','เส้นจำนวน','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','backgroundColor','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','.lastAnswerIndex','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','cancel-quiz-edits-btn-footer','bulk-quiz-settings-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','undefined','/public/data/liveGames','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','manual_release','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','lowerGroupNames','setAttribute','active','table','passingScore','การแจกแจงทวินาม\x20(พื้นฐาน)','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','ผ่าน','loader','bg-red-200\x20text-red-800','\x5cdiv','cancel-quiz-edits-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','score-distribution-chart','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','[role=\x22textbox\x22]','จับคู่แบบทดสอบสำเร็จ!','touchcancel','ดอกเบี้ยอย่างง่าย','globalSettings','modal-timer-duration-input','progress-student-select','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','ระยะเวลา\x20(วินาที):','<p\x20class=\x22','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','questions_only','player-list-lobby','comparison-modal','quiz-type-select','\x20ข้อพอดี**\x20ห้ามขาด\x20ห้ามเกิน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ความเป็นคู่ขนาน:**\x20โจทย์ใหม่ต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเทียบเท่ากับโจทย์เดิม\x20แต่ต้องใช้ตัวเลข\x20สถานการณ์\x20หรือคำถามที่แตกต่างออกไป\x20**ห้ามคัดลอกโจทย์เดิม**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**โครงสร้างเหมือนเดิม:**\x20ประเภทของคำถามแต่ละข้อ\x20(เช่น\x20ปรนัย,\x20เติมคำ)\x20ต้องเหมือนกับข้อสอบต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**คุณภาพของตัวเลือก\x20(สำหรับปรนัย):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ต้องมีคำตอบที่ถูกต้องเพียง\x20**หนึ่งเดียว**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวง\x20(Distractors)\x20ต้องมีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x20แต่ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามมีตัวเลือกที่กำกวมหรือมีความหมายซ้ำซ้อนกัน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineJoin','OBJECT','isPinned','Error\x20renaming\x20quiz:','กรุณาใส่ชื่อโปรเจค','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','การแยกตัวประกอบ','การหาร','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','มุมพิเศษ\x2045°-45°-90°','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','Invalid\x20response\x20structure\x20from\x20AI:','\x22\x20ซึ่งมีทั้งหมด\x20','link-topic-input','(หลังเรียน)\x20','คัดลอกแบบทดสอบสำเร็จ','\x20mr-2\x22></i>','currentQuestionIndex','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่วนเบี่ยงเบนมาตรฐาน','generate-from-file-btn','editor-quiz-topic','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','sum','</tbody></table>','difficulty-level-select','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','bar','mouseleave','createdBy','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz','msRequestFullscreen','confirm-passcode-btn','\x20สำเร็จ','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','<div\x20class=\x22my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','\x22\x20value=\x22false\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','.quiz-bank-move-btn','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ai-quiz-app-aefee.firebasestorage.app','hasOwnProperty','print','values','screen','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','padStart','mousedown','summary_chart','reference-pdf-upload','สมการราก\x20(radical)','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','leaderboard-quiz-tab-content','กรุณาเลือกคำตอบก่อนครับ','6835040JZFegJ','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','student-quiz-leaderboard-tab','list-view-btn','entries','.admin-try-quiz-list-btn','admin-testing','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','question-analytics-container','touchend','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','ค.ร.น.\x20(LCM)','td,\x20th','passcode-input-container','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','find','.ai-fix-question-btn','ทฤษฎีบทพื้นฐานของแคลคูลัส','Error\x20generating\x20lesson\x20plan:','NEGATIVE_INFINITY','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','getBBox','border-red-700','.quiz-bank-delete-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-tab','results-quiz-title','text-red-900','$1^{\x5ccirc}\x5ctext{C}','#retake-for-improvement-btn','projectOrder','ทศนิยม\x20(ค่าประจำหลัก)','div[data-question-index=\x22','answer','empty','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','open-quiz-bank-btn','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','onmousemove','generate-from-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','parse','Error\x20verifying\x20answers:','submittedAt','ฐานนิยม','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','จำนวนเต็มลบ','.answer-text','cancel-test-btn','adaptive-quiz-checkbox','text-gray-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-editor-questions-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตราและอัตราหน่วย','ปริพันธ์จำกัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','quiz-schedule-end-container','close-game-final-btn','results-tab-content','move-quiz-project-select','หัวข้อที่สร้างเอง','\x5cle','Firebase\x20initialization\x20failed:','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','fa-user-astronaut\x20text-blue-700','parallel-test-input-area','toDataURL','size','จำนวนและการดำเนินการ','.\x20แต่ละข้อมี\x20','ร้อยละประยุกต์','message-modal','เปิด\x20(จับเวลา)','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','ยอดเยี่ยม!','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','text-gray-400\x20hover:text-indigo-600','getAttributeNS','.delete-svg-btn','สามเหลี่ยม\x20(ชนิด/สมบัติ)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','ระยะจากจุดถึงเส้นตรง','.pen-color-btn[data-color=\x22#000000\x22]','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','thead\x20.sortable-header','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','classWeaknesses','upperGroupResponders','เกิดข้อผิดพลาดในการอัปเดต:\x20','max','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','geq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เปิดใช้งาน','isRemedial','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','students','blueprint-upload-input','export-pdf-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','analytics-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#FCE7F3','เกิดข้อผิดพลาดในการโหลดโปรเจค','fa-crown\x20text-yellow-500','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','height','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','confirm-global-live-btn','<i\x20class=\x22fas\x20fa-save\x22></i>','ถูกต้อง!','G-V90KRM0L63','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','.generate-easy-version-btn','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','projectSort','quick_thinker','desc','\x5cfrac{$1}{$2}','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','GlobalWorkerOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20projects:','badgesCount','(ฉบับง่าย)\x20','เกิดข้อผิดพลาดในการอัปเดตสถานะ','.pair-quiz-btn','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keydown','perseverance','passcode','Error\x20deleting\x20student:','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','deselect-all-topics-btn','ไม่พบแบบทดสอบ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','typesetPromise','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','tGain','ความแปรปรวน','class','-tab-content','bg-green-100\x20font-bold','student-view','บันทึกการตั้งค่าการแสดงผลสำเร็จ','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','ชนิดของข้อมูลและการเก็บข้อมูล','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','beforeend','on_fire','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','teacherSuggestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','frac','.pointsLastQuestion','_opt1\x22\x20name=\x22question','toISOString','screen_exit','</tr>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','actions-container-','timer-mode-select','project-search-input','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','confirmation-modal','temp-loader-results','code','latestSubmittedAt','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','show-leaderboard-btn','#results-table\x20thead\x20tr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','bg-green-100\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fas\x20fa-user-edit','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','visibilitychange','ลบแบบทดสอบสำเร็จแล้ว','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','\x22\x20data-topic=\x22','551208ofBbaM','\x5cpm','prev-question-btn','source-over','math-topics-checkbox-container','user-id-display','undo-btn','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','มุมและการวัดมุม','text-indigo-700','\x22\x20name=\x22question','```json','export-image-btn','project-detail-view','\x0a---\x0a','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','student-project-leaderboard-content','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','save-visibility-settings-btn','399120jQmFbU','modal-passing-score-input','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','.quiz-result-card','<option\x20value=\x22\x22>กำลังโหลด...</option>','link-url-input','shuffle','back-to-project-btn','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','admin-password-input','open-global-live-btn','eraser-tool-btn','ยืนยันการกระทำ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','คณิตศาสตร์','function','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','พิสัย','student-quiz-topic','ไม่มี','#FEE2E2','Error\x20starting\x20game:','scratchpad-question','text-content-input','quiz-schedule-start-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','visibilityState','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','earned-badges-container','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','multiple_choice','\x20ช่อง','.choice-text','Error\x20unpairing\x20quizzes:','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20/\x20','lesson-plan-modal','\x20คู่\x20','passcode-prompt-message','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','Error\x20loading\x20user\x20preferences:','Error\x20generating\x20from\x20blueprint:','btn','submission','(คัดลอก)\x20','Re-grade\x20process\x20failed:','short','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','check-presentation-answer-btn','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','verify-answers-btn','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','bg-yellow-50','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','<i\x20class=\x22fas\x20fa-magic\x22></i>','answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','ring-2','หยุดระบบจับเวลาหรี่หน้าจอ','onerror','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','การยืนยันตัวตนล้มเหลว','Error\x20saving\x20visibility\x20settings:','หมดเวลาสำหรับข้อนี้!','laser','starred','doughnut','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ไม่สามารถเริ่มเกมได้','jspdf','pinned-items','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','กำลังสร้างแบบทดสอบคู่ขนาน...','จำนวนเต็มบวก',',\x20r=','timer-duration-label','projectSortOrder','สถิติและความน่าจะเป็น','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','ความเท่ากันทุกประการของสามเหลี่ยม','POST','</button>','project-id-display','neq','คำถามถัดไป','.pdf','delete','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','quizType','\x22...','คำถามดิบ:\x20\x22','-tab','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','.ideal-answer-input','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','การลบ','move-quiz-modal','onmouseup','application/json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','false','setFont','include-images-checkbox','execCommand','results-table','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','resultsDisplay','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','Error\x20saving\x20quiz\x20edits:','next-question-btn','back-to-student-initial-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','/public/data/quizzes/','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','MathJax\x20typeset\x20error\x20(analytics):','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','หน่วยเวลาและการคำนวณเวลา','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ศูนย์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','confirm-move-quiz-btn','_opt','.topic-row','gain','save-project-name-btn','fill_in_with_choices','กราฟฟังก์ชันตรีโกณ','destroy','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','Error\x20moving\x20quiz:','ความเป็นอิสระของเหตุการณ์','AI\x20request\x20was\x20blocked.\x20Reason:\x20','text-indigo-600','ยอดเยี่ยม','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','stdDev','.verification-result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','catch','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','per-question-text','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','behavior-log-tab-btn','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-indigo-800','Error\x20fetching\x20project\x20quizzes:','รูปสแควร์รูท\x20(surd)','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','กฎของโคไซน์','comparison','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','ฟังก์ชันลอการิทึม','getContext','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#FEF3C7','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','message','confirm-quiz-settings-btn','เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','text-red-800','\x20จาก\x20','requestFullscreen','mouseup','ไม่พบโปรเจค','getElementById','กราฟแท่ง\x20กราฟเส้น','Leaderboard\x20update\x20transaction\x20failed:\x20','กรุณาวาง\x20URL\x20ของบทความก่อน','.verification-result-editor','บันทึกการตั้งค่าสำเร็จ','dimmed','isStarred','create-project-btn','modal-results-display-select','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','confirm-join-game-btn','lessonPlan','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','Failed\x20to\x20kick\x20player\x20','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','766MBKQHl','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','preTScore','originalQuestionText','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','quiz-status-options','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','ontouchend','ฟังก์ชันสัมพัทธ์\x20(rational)','\x22\x20class=\x22color-palette-btn\x20','parallel-test-tab','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/learnedFixes','lesson-plan-title','#DBEAFE','keys','random','\x22\x20data-q-type=\x22','isLooping','label[for=\x22num-questions\x22]','leq','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','click','getDocument','settings','เกิดข้อผิดพลาดในการลบนักเรียน','\x22>ไม่ใช่</p>','พื้นที่วงกลม/ส่วนของวงกลม','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','Error\x20updating\x20quiz\x20status:','rgba(16,\x20185,\x20129,\x200.7)','Error\x20committing\x20score\x20updates:','copy','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','results_','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','slide-counter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','next-drill-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','drawImage','</li>','พื้นที่ใต้กราฟ/ระหว่างกราฟ','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','mean','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','project-sort-select','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scores-tab-content','(ไม่มีชื่อ)','<tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','99nvvCgb','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','Error\x20saving\x20to\x20question\x20bank:','อนุพันธ์:\x20ผลคูณ/ผลหาร','index','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','/studentProfiles','fas\x20fa-bookmark','split','createObjectURL','className','ความชันเส้นสัมผัส','files','touches','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','.project-card-container[data-id]','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','mode-switcher-btn','Error\x20joining\x20live\x20game:','ระบบเลขและค่าประจำหลัก','ระยะเวลา\x20(นาที):','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','ลำดับเลขคณิต\x20(AP)','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กรุณาเลือกชื่อของคุณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','<p><strong>คำตอบที่แนะนำ:</strong>\x20','bg-gray-50','\x20mx-1\x20text-lg\x22></i></span>','all','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','modal-loop-until-pass-checkbox','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','name_asc','อัตราการเปลี่ยนแปลงทันที','</span></td>','</p>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','<span\x20title=\x22','scores-tab-btn','qType','เส้นตรง:\x20ขนาน/ตั้งฉาก','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-green-200\x20text-green-800','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','items','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','$1_{$2}','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','grid-view-btn','</p><p><strong>เฉลย:</strong>\x20','.sortable-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-100\x20text-red-800','bank-tab','topic','clientX','input[type=\x22checkbox\x22]','originalTopic','ค่าสัมบูรณ์','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','cursor','บันทึกคำถามใหม่\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทำคะแนนได้เกินครึ่ง','interesting-stats-wrapper','.topic-name-input','leaderboard','Error\x20deleting\x20submission:','cancel-delete-btn','toFixed','innerHTML',';\x22\x20data-id=\x22','fixed','scheduled_pending','ระบบสมการเชิงเส้นสองตัวแปร','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','.ai-fix-formula-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','qIndex','presentation-ai-result','check-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อสมการเชิงเส้น','addEventListener','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','สรุปผลการวิเคราะห์:\x5cn','perQuestionStats','set','fa-dumbbell\x20text-gray-700','presentation-explanation','.regenerate-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','textarea','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','interesting-stats-container','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.color-palette-btn','matching','name_desc','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','leaderboard-tab','remove','update-old-quizzes-btn','num-questions','สร้างโปรเจคสำเร็จ!','starred-project','(ก่อนเรียน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lowerGroupResponders','ชื่อหัวข้อห้ามว่าง','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','goto-next-question-btn','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','save-settings-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','idealAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','white','student-join-game-view','project-passcode-input','(^|[^\x5c\x5c])\x5cb','manage-tab','contains','match','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','back-from-results-btn','\x20ชุดสำเร็จ!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','student-passcode-input','bulk-quiz-settings-modal','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','FIRST_TRY_ACE','prod','95046QrFvQu','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','fa-shield-alt\x20text-gray-600','results-quiz-id-display','bulk-results-display-select','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','left','reduce','close-lesson-plan-modal-btn','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','createdAt','Remedial\x20quiz\x20generation\x20failed:','แบบเติมคำตอบ','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','stringify','export-tutor-pdf-btn','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','parallel-test-upload-input','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','เกิดข้อผิดพลาดในการปักหมุด','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','drop','display','\x22\x20value=\x22','points','student','โดเมนและเรนจ์','ตารางความถี่','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','MathJax','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','.question-editor-item[data-q-index=\x22','text-red-700','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','.edit-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','stopPropagation','student-name-selection-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','candidates','lineCap','จากเนื้อหาต่อไปนี้:\x20\x22','loop-until-pass-checkbox','ทำคะแนนเต็มในการทำครั้งแรก','#ffffff','save-quiz-btn','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','เกิดข้อผิดพลาดในการสร้างห้องเกม','quizMode','afterend','shuffle-setting-select','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','force-math-checkbox','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','Error\x20generating\x20parallel\x20test\x20from\x20bank:','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','live-short-answer-input','appendChild','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clientY','NUMBER','schedule','width','bg-blue-100','ref','พาราโบลา','</strong></p>','webkitExitFullscreen','Original\x20quiz\x20not\x20found','.group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','project-quizzes-list','กรุณาใส่ชื่อใหม่','<div\x20class=\x22flex-1\x22></div>','222825ZETKHP','quiz-results','test','blueprint-input-area','auto-fix-latex-btn','includes','length','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','.delete-quiz-btn','1:274192258111:web:4120c9118229b5644dd48a','สำหรับโปรเจค:\x20','json','student-reading-area','Enter','attempts','ความน่าจะเป็นแบบมีเงื่อนไข','document','input[type=\x22radio\x22][value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','\x20(p=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','Failed\x20to\x20parse\x20JSON\x20from\x20AI','การหารทศนิยม','Error\x20adding\x20custom\x20topic:','targetId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','file-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','[data-topic-container-id]','PERSEVERANCE','ดอกเบี้ยทบต้น','load-quiz-btn','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','#F59E0B','student-progress-content','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','</th>','รีเซ็ตลำดับโปรเจคแล้ว','Error\x20saving\x20submission:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','$1\x5c%','<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upperGroupNames','คะแนน','repeat','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','export-leaderboard-excel-btn','text-blue-700','เกิดข้อผิดพลาดในการบันทึก','แบบทดสอบนี้หมดเวลาแล้ว','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','pen-tool-btn','parent','quiz-results-view','generated-quiz-container','cancel-passcode-btn','#results-table','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','download','Error\x20saving\x20project\x20order:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','href','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','อัปเดตสถานะสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','approx','.correct-response-input','s;\x22\x20title=\x22','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','times','draggable-text','save','</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','presentation-short-answer-input','bg-blue-100\x20text-blue-800','close','สร้างแบบทดสอบปรนัย','insertBefore','modal-timer-mode-select','cancel-create-project-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','.topic-category','ฟังก์ชันกำลังสองและกราฟ','wakeLock','write','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-emerald-800','\x20ครั้ง)</span></td>','redo-btn','analytics','submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','currentTarget','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','deg','ราชาคัมแบ็ก','AI\x20Formula\x20Fix\x20Error:','.pen-size-btn','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','cancel-quiz-status-btn','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','add','.delete-submission-btn','manage-tab-content','เวกเตอร์และเมทริกซ์\x20(เสริม)','live-player-management','mousemove','lesson-plan-content','category','localeCompare','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Failed\x20to\x20get\x20standardized\x20topic:','แผนการสอน:\x20','2-digit','manage','show_results_only','result','สัญกรณ์วิทยาศาสตร์','onmousedown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</span>','toLocaleDateString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','.project-card-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-worksheet-btn','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','mixed','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','export-leaderboard-pdf-btn','correctResponse','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ได้ตอบ','uid','\x22\x20เพื่อสร้างชุดคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','.csv','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','พื้นที่สามเหลี่ยม','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','เลือกและบันทึก','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','start-quiz-btn','\x22\x20data-name=\x22','round','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','trim','พิมพ์ตอบ','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','then','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','API\x20call\x20failed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perfect_score','substring','project-dashboard-view','เส้นตรง:\x20รูปแบบสมการ','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','rgba(59,\x20130,\x20246,\x200.7)','.cancel-edit-topic-btn','\x22\x20สำเร็จ','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','ยังไม่เต็มนะ','มัธยฐาน','การบวกเศษส่วน','พีชคณิตและฟังก์ชัน','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','eraser','student-project-leaderboard-tab','setItem','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','kick-player-btn','option','replace','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','onchange','student-quiz-leaderboard-content','bg-red-500','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','suggestedAnswer','ตอบถูก\x203\x20ข้อติดต่อกัน','text/html','fill_in_the_blank','fromCharCode','pairedQuizId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','block','binom','quiz-id-input','การคูณ','สู้ๆ\x20ลองอีกครั้งนะ','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','commit','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','contents','answeredCurrentQuestion','bulk-shuffle-select','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','documentElement','mjx-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','54WkfoMP','พบข้อสอบ\x20','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','generate-from-blueprint-btn','รูปหลายเหลี่ยมและมุมภายใน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','progress-project-select','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','cos','showImproveButton','circle','text-tab','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','half_mark_status','fa-rocket\x20text-purple-500','#math-topics-checkbox-container\x20input:checked','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','disabled','red','สุดยอด!\x20ตอบถูกทุกข้อ','เกิดข้อผิดพลาด:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','text-blue-700\x20bg-blue-100','student-rankings-modal','AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...\x20กรุณารอสักครู่','isArray','log','สร้างคำถามใหม่\x201\x20ข้อ\x20','drill-feedback','exists','standard','\x22\x20name=\x22question_single\x22\x20value=\x22','การบวก','Error\x20generating\x20easy\x20version\x20quiz:','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','data','behavior-log','.pen-color-btn','isPasscodeEnabled','เรเดียนและการแปลงหน่วย','blockReason','answer-counter','correctAnswer','Error\x20duplicating\x20quiz:','text','9EbmqdU','Error\x20resetting\x20project\x20order:','<li>','$1\x5cfrac','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','Error\x20listening\x20for\x20student\x20profiles:','ฟังก์ชันเชิงเส้นและกราฟ','\x22\x5cn','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','generate-from-parallel-test-btn','Failed\x20to\x20get\x20hint:','pre-test-checkbox','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','outerHTML','quiz-form','timerDuration','STRING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','ARRAY','</option>','ดอทโปรดักต์\x20(dot)','results','removeAttribute','ข้อ\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','.png','สร้างแบบทดสอบ','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','show-in-student-dashboard-checkbox','export-word-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','helvetica','now','แผนการสอน','direct','ผู้ควบคุม\x20(ทดสอบ)','timer-bar','274192258111','lower_group_count','สมการเหตุผล\x20(rational)','offset','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','export-worksheet-pdf-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cge','หมดเวลา!\x20กำลังส่งคำตอบ...','.project-card-content','text-purple-600','.ql-editor','shadowBlur','first_try_ace','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','autoTable','</span>','admin-dashboard','.project-card-container.opacity-50','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#view-rankings-btn','<div\x20class=\x22mb-3\x20topic-category\x22>','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','timer-duration-input','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','parts','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','file-input-area','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','ผู้ไม่ยอมแพ้','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','_blank','http://www.w3.org/2000/svg','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','push','dfrac','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','back-to-dashboard-from-results-btn','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','ดีมาก','Error\x20listening\x20for\x20custom\x20math\x20topics:','การลบเศษส่วน','generated-quiz-actions','Error\x20during\x20class\x20analysis:','data:application/vnd.ms-word;charset=utf-8,','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','scheduled','text-input-area','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','Error\x20toggling\x20star\x20status:','focus','loader-text','.save-to-bank-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','quiz-leaderboard-table-container','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','ai-quiz-app-aefee.firebaseapp.com','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','fixedData','closest','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','สร้างคำถามแบบเติมคำในช่องว่าง','</span></div>','Error\x20verifying\x20answers\x20in\x20editor:','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','close-comparison-modal-footer-btn','1624256EOEYzO','min','retake-quiz-loop-btn','ontouchstart','คณิตการเงิน/บูรณาการ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','list','back-to-home-manual-release','toLocaleString','change','results-display-select','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','/public/data/practiceBank','findIndex','dataset','per_question','ฮิสโตแกรม','leaderboard-table-body','\x0a\x20\x20\x20\x20','#per-question-options\x20select','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x20\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','classList','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','devicePixelRatio','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','th-TH','generate-from-text-btn','ทฤษฎีทวินาม\x20(เบื้องต้น)','rename-quiz-input','/public/data/projects','no-projects-msg','value','fix\x20the\x20option','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','analyze-strengths-btn','.copy-quiz-id-list-btn','null','specialist','add-custom-math-topic-btn','allResponses','questionText','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','question','podium','copy-quiz-id-btn','generate-from-link-btn','postScore','[contenteditable=\x22true\x22]','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','pointsLastQuestion','แบบทดสอบนี้ปิดใช้งานอยู่','อสมการค่าสัมบูรณ์','strokeStyle','results-table-container','num-choices','.quiz-bank-item','<li\x20class=\x22','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','/public/data/projects/','ai-quiz-generator-v3','verify-answers-editor-btn','tan','svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การปัดเศษและประมาณค่า','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','rgba(239,\x2068,\x2068,\x200.7)','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','แบบปรนัย\x204\x20ตัวเลือก','เรขาคณิต','จำนวนเชิงซ้อน\x20(เสริม)','icon','back-to-student-home-btn','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','close-comparison-modal-btn','true_false','upper_group_count','เกิดข้อผิดพลาดในการลบโปรเจค','fa-pen','answering','หน่วยความยาวและการแปลง','selected-topics-count','loopUntilPass','.quiz-bank-parallel-btn','stroke','player-count','endTime','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','quiz-results-table-body','touchstart','สร้างชุดคำถามจับคู่','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบหัวข้อ','solution','#000000','ring-purple-400','destination-out','date_desc','toLowerCase','student-initial-view','true','grid','\x5ccdot','สมการค่าสัมบูรณ์','ไม่พบตารางสำหรับ\x20Export','str','button[type=\x22submit\x22]','questionIndex','resize','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','save-quiz-edits-btn','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','quiz-start-time','docs','shadowColor','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','name','createElementNS','ปรับเพิ่ม/ลดเป็นร้อยละ','submission-status-chart','live-game-view','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','กรุณาป้อนหัวข้อสำหรับใบงาน','\x22>จาก:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','Error\x20updating\x20old\x20quizzes:','เปลี่ยนชื่อโปรเจคสำเร็จ','modal-message','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.summary-bar-item','removeEventListener','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','release','overallGroups','Error\x20creating\x20project:','text-gray-200','<div><input\x20type=\x22radio\x22\x20id=\x22q','เกิดข้อผิดพลาดในการอ่านไฟล์','.status','finishReason','Error\x20generating\x20from\x20link:','modal-adaptive-quiz-checkbox','flex','Invalid\x20response\x20structure\x20from\x20AI.','hidden','both','comparison-overall-content','\x22.\x20','text-green-800','from','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เปลี่ยนชื่อแบบทดสอบสำเร็จ','short_answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','dashboardConfig','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','(เลือกแล้ว\x20','(คู่ขนาน)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quiz-search-input','content','บันทึกการแก้ไข','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','has','exitFullscreen','bg-green-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','pinnedProjects','Error\x20toggling\x20pin\x20status:','#F3E8FF','(ก่อนเรียน)\x20','lobby','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','พอใช้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-loop-until-pass-checkbox','ตรวจพบการออกจากหน้าจอครบ\x20','scratchpad-modal','text-green-600','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','project-detail','\x20ข้อ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-red-300\x20bg-red-50','shuffledQuiz','sqrt','back-to-results-btn','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','ไม่พบข้อมูลการจับคู่','post-test','border-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','<div\x20id=\x22q-image-container-','forEach','submit','projectName','hover:bg-indigo-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัวแปรและนิพจน์','สลับไปโหมดผู้ควบคุม','msExitFullscreen','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างใบงาน','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','comparison-overall-tab','dispatchEvent','ตรีโกณมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','ผลรวมอนุกรม\x20(Σ)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','whole_quiz','strength-weakness-analysis-container','classStrengths','กรุณาเลือกโปรเจคปลายทาง','\x20ชุด)','input','Authentication\x20failed:','global-quiz-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','presentation-modal','พื้นที่สี่เหลี่ยม','ร้อยละพื้นฐาน','border-green-300\x20bg-green-50','export-leaderboard-image-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','การสร้างรูปด้วยวงเวียน–สันตรง','body','bank-input-area','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','startTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','indexOf','แคลคูลัสเบื้องต้น','presentation-scratchpad-btn','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','พื้นที่ผิวรูปทรงสามมิติ','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','สลับไปโหมดนักเรียน','showRankings','fullscreenElement','score','</span></p>','scratchpad-clear-btn','เกิดข้อผิดพลาดในการติดดาว','projectView','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','string','numPages','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','key','inactive','scratchpad-close-btn','ownerSVGElement','\x22\x20class=\x22delete-project-btn\x20','แก้ระบบสมการด้วยเมทริกซ์','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','ปิดใช้งาน','.edit-custom-topic-btn','viewBox','global-quiz-list','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','imageCode','correctAnswerIndex','เกิดข้อผิดพลาดในการนำผู้เล่นออก','Error\x20deleting\x20all\x20students:','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','เรขาคณิตวิเคราะห์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getItem','<br>','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','สมการยกกำลัง','</body></html>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','COMEBACK_KING','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','some','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','preventDefault','.submittedAt','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1^{\x5ccirc}','.regenerate-question-editor-btn','ความต่อเนื่อง','isCorrect','text-red-600','text-gray-700','behaviorLog','num-choices-container','reveal-answer-btn','artifacts/','กำลังดึงข้อมูลจากลิงก์...','analytics-summary-cards','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','font-bold\x20text-green-700','standardTopic','querySelector','input[type=\x22text\x22]','ไม่พบข้อมูลแบบทดสอบ','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','ontouchmove','API\x20call\x20failed\x20with\x20status:\x20','</p></div>','worksheet-input-area','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table','admin-try-quiz-btn','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','export-lesson-pdf-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','มุมพิเศษ\x2030°-60°-90°','opacity-50','text-gray-500','rgba(79,\x2070,\x20229,\x200.8)','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','รูปแบบการให้เหตุผล','link-input-area','ย้าย','update','password-error-msg',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','questionId','practiceProblems','questionType','แบบทดสอบจากคลังส่วนตัว','text-emerald-900','quiz-status-modal','.scratchpad-content-wrapper','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','teachingContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join','isScored','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','answer-grid-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','playerName','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','<div\x20class=\x22my-6\x22>','/users/','ยืนยันการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x20รายการสำเร็จ!','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','เกิดข้อผิดพลาดในการเปลี่ยนสี','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','user','live-game','correct','label','ความคาดหมาย\x20(Expected\x20value)','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','กรุณาป้อนรหัสแบบทดสอบ','far\x20fa-star','.quiz-bank-present-btn','Error\x20comparing\x20results:','pow','Error\x20fetching\x20quiz\x20settings:','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','ไม่มีผู้ตอบตัวเลือกนี้','Failed\x20to\x20create\x20initial\x20submission\x20record:','student-name-select','project-list','https://corsproxy.io/?','confirm-admin-login-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','confirm-delete-btn','องค์ประกอบของฟังก์ชัน','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถสร้างโปรเจคได้','</tbody></table></div>','comparison-chart','<tr><td\x20colspan=\x22','studentName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','get','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','perfect_score_status','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','กรุณาใส่ชื่อนักเรียน','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','ส่งแล้ว','Error\x20generating\x20worksheet:','เกิดข้อผิดพลาดในการเข้าร่วมเกม','matching_item','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','error','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-end-time','tooltipTarget','innerText','text-yellow-800','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','sort','latestScore','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','input[type=\x22radio\x22]:checked','ระยะทางและจุดกึ่งกลาง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','ปริมาตรรูปทรงสามมิติ','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','กำลังสร้างรูปภาพ...','totalPoints','confirm-bulk-quiz-settings-btn','การแจกแจงปกติและ\x20z-score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timestamp','ใช่','<tr\x20class=\x22','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','style','clearRect','ส่วนเบี่ยงเบนเฉลี่ย','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','จุด\x20เส้น\x20ระนาบ','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','Error\x20regenerating\x20question\x20in\x20editor:','raw','Error\x20saving\x20quiz:','per-question-timer-container','global-live-game-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','promise','open','/submissions','<option\x20value=\x22','cancel-move-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x22>ใช่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','instructions','textContent','อัปเดตพฤติกรรมสำหรับ\x20','font-bold\x20text-red-700\x20line-through','practice-topic-btn','dragstart','00:00','student-list','student-progress-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22><p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$$$1$','คัดลอกไม่สำเร็จ','cancel-quiz-settings-btn','\x20\x20\x20-\x20','toggle','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','timer-container','create-project-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-undo\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eraser\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22laser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาเลเซอร์\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','pen','.delete-custom-topic-btn','scrollY','thead','.presentation-option','fas\x20fa-star\x20text-yellow-500','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','presentation-slide-container','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','fullscreenchange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','bg-gray-500','สอบซ่อม','getImageData','Error\x20fetching\x20student\x20rankings:','AI\x20Fix\x20Error:','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','#E5E7EB','project-passcode-modal','lastAnswerIndex','<span\x20class=\x22font-bold\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','STOP','\x20mb-2\x22>','questionStatus','map','scale','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20live\x20race:','อนุพันธ์:\x20กฎลูกโซ่','\x20ข้อ\x20','ชื่อโปรเจคห้ามว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.answeredCurrentQuestion','ฟังก์ชันค่าสัมบูรณ์','สเกลและแผนที่','fill_in_no_choices','Error\x20deleting\x20custom\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.delete-student-btn','.compare-results-btn','export-leaderboard-word-btn','การคูณทศนิยม','<div\x20class=\x22','#D1FAE5','จับคู่เพื่อเปรียบเทียบผล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','getTextContent','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ON_FIRE','fa-bolt\x20text-blue-500','ลำดับเรขาคณิต\x20(GP)','color','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','title','รูปสี่เหลี่ยมและสมบัติ','passing-score-input','.score','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','timerMode','#E0E7FF','bg-amber-100\x20text-amber-800','student-quiz-leaderboard-table-body','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','workerSrc','Error\x20updating\x20project\x20color:','visible','ไม่พบข้อมูลผู้ใช้','canvas','quiz-generation-area','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','target','คัดลอกรหัสแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','countdown-display','คะแนนเฉลี่ย','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','normal','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณาเลือกโปรเจคที่ต้องการบันทึก','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','/public/data/quizzes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','N/A','input[name=\x22status-option\x22]:checked','ตอบถูกทุกข้อในแบบทดสอบนี้','createElement','startsWith','asc','เกี่ยวกับหัวข้อ\x20\x22','global-live-game-modal','bg-green-50','projectId','student-name-input','\x22><i\x20class=\x22fas\x20','quiz-editor-modal','add-student-btn','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','querySelectorAll','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stem','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','เกิดข้อผิดพลาดในการลบแบบทดสอบ','#FFFFFF','.topic-actions-edit','passcode-error-msg','Error\x20showing\x20quiz\x20detail\x20view:','bottom','file-upload-input','questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','options','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','.question-editor-item','รากที่สองและที่สาม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','rows','create-from-bank-btn','ไม่มีคำอธิบาย','type','getBoundingClientRect','modal-timer-duration-container','เศษส่วน\x20(ย่อ/ขยาย)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','players','ความสัมพันธ์ของมุม','show_pass_fail_only','leaderboard-quiz-tab-btn','.live-summary-tooltip.visible','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','explanation','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ท็อปฟอร์ม','.quiz-bank-settings-btn'];_0x3f42=function(){return _0x546669;};return _0x3f42();}async function handleShowStudentRankings(){const _0x15d039=_0x411d30,_0x51d886=document['querySelector']('#student-quiz-leaderboard-content\x20thead');_0x51d886&&(_0x51d886['innerHTML']=_0x15d039(0x804));const _0x661655=document[_0x15d039(0x6ce)]('#student-project-leaderboard-content\x20thead');_0x661655&&(_0x661655['innerHTML']=_0x15d039(0x16d));const _0x10f25b=document[_0x15d039(0x2da)](_0x15d039(0x509));_0x10f25b[_0x15d039(0x5aa)][_0x15d039(0x395)]('hidden'),document['getElementById']('close-student-rankings-btn')['onclick']=()=>_0x10f25b[_0x15d039(0x5aa)]['add'](_0x15d039(0x62f));const _0x473a53=document[_0x15d039(0x2da)](_0x15d039(0x140)),_0x383daf=document['getElementById'](_0x15d039(0x4ca)),_0xcad027=document[_0x15d039(0x2da)](_0x15d039(0x4d2)),_0x341202=document[_0x15d039(0x2da)](_0x15d039(0x222));_0x473a53['onclick']=()=>{const _0x342792=_0x15d039;_0x473a53['classList'][_0x342792(0x483)](_0x342792(0xe3)),_0x383daf[_0x342792(0x5aa)][_0x342792(0x395)](_0x342792(0xe3)),_0xcad027[_0x342792(0x5aa)][_0x342792(0x395)](_0x342792(0x62f)),_0x341202[_0x342792(0x5aa)]['add']('hidden');},_0x383daf[_0x15d039(0x8bc)]=()=>{const _0x3056a2=_0x15d039;_0x383daf[_0x3056a2(0x5aa)][_0x3056a2(0x483)](_0x3056a2(0xe3)),_0x473a53[_0x3056a2(0x5aa)][_0x3056a2(0x395)](_0x3056a2(0xe3)),_0x341202[_0x3056a2(0x5aa)][_0x3056a2(0x395)]('hidden'),_0xcad027['classList'][_0x3056a2(0x483)](_0x3056a2(0x62f));};try{const _0x494cc1=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+'/submissions'),_0x16f16b=await getDocs(_0x494cc1),_0x384056=_0x16f16b['docs'][_0x15d039(0x79a)](_0x228788=>_0x228788[_0x15d039(0x516)]());renderQuizLeaderboard(_0x384056,currentQuizData,_0x15d039(0x7c2));const _0x9294c5=collection(db,_0x15d039(0x6c8)+appId+_0x15d039(0x5d4)+currentQuizData['projectId']+_0x15d039(0x32a)),_0x3d6f0f=await getDocs(_0x9294c5),_0x14f32b=_0x3d6f0f[_0x15d039(0x60e)][_0x15d039(0x79a)](_0x26e8b3=>_0x26e8b3['data']());renderLeaderboard(_0x14f32b,'student-project-leaderboard-table-body');}catch(_0x11764f){console[_0x15d039(0x735)](_0x15d039(0x78e),_0x11764f),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x34f91d){const _0x1b0136=_0x411d30,_0x563dde=_0x34f91d[_0x1b0136(0x478)],_0x4946e1=_0x563dde[_0x1b0136(0x5a1)]['index'],_0x2b84df=currentQuizData[_0x1b0136(0x7f5)][_0x4946e1];if(!userId){showMessage(_0x1b0136(0x7c8));return;}try{const _0x508dbd={..._0x2b84df,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x44f5de=collection(db,_0x1b0136(0x6c8)+appId+_0x1b0136(0x701)+userId+'/questionBank');await addDoc(_0x44f5de,_0x508dbd),showMessage(_0x1b0136(0x313)),_0x563dde[_0x1b0136(0x5aa)][_0x1b0136(0x395)](_0x1b0136(0x552)),_0x563dde[_0x1b0136(0x5aa)]['add'](_0x1b0136(0x651)),_0x563dde['disabled']=!![];}catch(_0x7841d1){console['error'](_0x1b0136(0x326),_0x7841d1),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function listenForStarredQuizzes(){const _0x37774b=_0x411d30;if(!userId)return;const _0x4eb190=collection(db,_0x37774b(0x6c8)+appId+_0x37774b(0x7d7)),_0x4caba1=query(_0x4eb190,where(_0x37774b(0x2e1),'==',!![]));onSnapshot(_0x4caba1,_0xd890ad=>{const _0x345a74=_0x37774b;starredQuizzes=_0xd890ad[_0x345a74(0x60e)]['map'](_0x382782=>({'id':_0x382782['id'],..._0x382782[_0x345a74(0x516)]()})),currentProjectId===_0x345a74(0x26d)?renderQuizzes():renderProjects();},_0x158e0c=>{const _0x5258e5=_0x37774b;console[_0x5258e5(0x735)](_0x5258e5(0x8df),_0x158e0c);});}function exportQuizAsWorksheetPDF(){const _0xc1bdb=_0x411d30;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0xc1bdb(0x753));return;}const _0x3be130=currentQuizData,_0x55fd38=window['open']('',_0xc1bdb(0x569)),_0x5c964b=_0x278a77=>String[_0xc1bdb(0x4d9)](0x41+_0x278a77),_0x4e1cdb=_0xc1bdb(0x828)+_0x3be130[_0xc1bdb(0x363)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x3be130[_0xc1bdb(0x363)]+_0xc1bdb(0x858)+_0x3be130['questions'][_0xc1bdb(0x79a)]((_0x170186,_0x5683f5)=>{const _0x35ad26=_0xc1bdb;let _0x4a8fe3='';const _0x525d47=_0x170186['questionType']||_0x3be130[_0x35ad26(0x285)];switch(_0x525d47){case _0x35ad26(0x247):case _0x35ad26(0x2ad):_0x4a8fe3='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x170186[_0x35ad26(0x7f7)]['map']((_0x364582,_0x248dc8)=>_0x35ad26(0x4b9)+_0x5c964b(_0x248dc8)+'.\x20'+_0x364582+_0x35ad26(0x2f7))[_0x35ad26(0x6f4)](_0x35ad26(0x6b2))+_0x35ad26(0x45f);break;case _0x35ad26(0x5e7):_0x4a8fe3=_0x35ad26(0x1a9);break;default:_0x4a8fe3='<div\x20class=\x22answer-space\x22></div>';break;}return _0x35ad26(0x311)+(_0x5683f5+0x1)+_0x35ad26(0x1a2)+(_0x170186[_0x35ad26(0x7ec)]||_0x170186['questionText'])+_0x35ad26(0x61a)+(_0x170186[_0x35ad26(0x6a8)]?_0x35ad26(0x128)+_0x170186['imageCode']+_0x35ad26(0x45f):'')+_0x35ad26(0x1ef)+_0x4a8fe3+_0x35ad26(0x292);})[_0xc1bdb(0x6f4)]('')+_0xc1bdb(0x80a);_0x55fd38['document'][_0xc1bdb(0x46c)](_0x4e1cdb),_0x55fd38[_0xc1bdb(0x41e)][_0xc1bdb(0x463)](),_0x55fd38[_0xc1bdb(0x83c)]=function(){setTimeout(()=>{const _0x5a44fc=_0x1004;_0x55fd38[_0x5a44fc(0x131)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x5554ed=_0x411d30;if(!currentQuizData||!currentQuizData[_0x5554ed(0x7f5)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x31026a=currentQuizData,_0x2791ac=window[_0x5554ed(0x75e)]('',_0x5554ed(0x569)),_0xe2cd0e=_0x15201b=>String[_0x5554ed(0x4d9)](0x41+_0x15201b),_0x3d93b0=_0x5554ed(0x689)+_0x31026a[_0x5554ed(0x363)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x31026a['questions']['map']((_0x3c7c9b,_0x40ce60)=>{const _0x237818=_0x5554ed;let _0x17d1f0='';const _0x920590=_0x3c7c9b[_0x237818(0x6ec)]||_0x31026a['quizType'];switch(_0x920590){case _0x237818(0x247):case'fill_in_with_choices':_0x17d1f0=_0x237818(0x89f)+_0x3c7c9b[_0x237818(0x7f7)]['map']((_0x306561,_0x19d0d6)=>_0x237818(0x1ab)+_0xe2cd0e(_0x19d0d6)+'.\x20'+_0x306561+'</span>')['join'](_0x237818(0x6b2))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x237818(0x5e7):_0x17d1f0=_0x237818(0x33e);break;default:_0x17d1f0='';break;}return _0x237818(0x457)+_0x31026a[_0x237818(0x363)]+_0x237818(0x61b)+(_0x40ce60+0x1)+_0x237818(0x57c)+(_0x3c7c9b[_0x237818(0x7ec)]||_0x3c7c9b['questionText'])+_0x237818(0x61a)+(_0x3c7c9b[_0x237818(0x6a8)]?_0x237818(0x700)+_0x3c7c9b[_0x237818(0x6a8)]+_0x237818(0x45f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x17d1f0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x2791ac['document']['write'](_0x3d93b0),_0x2791ac[_0x5554ed(0x41e)][_0x5554ed(0x463)](),_0x2791ac['onload']=function(){setTimeout(()=>{_0x2791ac['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x2db0e3){const _0x4e5cc7=_0x411d30,_0x20bb06=doc(db,_0x4e5cc7(0x6c8)+appId+_0x4e5cc7(0x7d7),_0x2db0e3);try{const _0x3e7c40=await getDoc(_0x20bb06);if(_0x3e7c40[_0x4e5cc7(0x50f)]()){const _0x444529=_0x3e7c40['data']()[_0x4e5cc7(0x2e1)]||![];await updateDoc(_0x20bb06,{'isStarred':!_0x444529});}}catch(_0x5badac){console[_0x4e5cc7(0x735)](_0x4e5cc7(0x57d),_0x5badac),showMessage(_0x4e5cc7(0x696));}}async function displayQuestionBank(){const _0x4d78cd=_0x411d30,_0x3c7980=document[_0x4d78cd(0x2da)]('bank-input-area');_0x3c7980['innerHTML']=_0x4d78cd(0x860);try{const _0x269c01=collection(db,_0x4d78cd(0x6c8)+appId+_0x4d78cd(0x701)+userId+'/questionBank'),_0x46d106=query(_0x269c01),_0x27e78e=await getDocs(_0x46d106);if(_0x27e78e[_0x4d78cd(0x166)]){_0x3c7980[_0x4d78cd(0x373)]=_0x4d78cd(0x6ff);return;}let _0x3a1e35=_0x27e78e['docs'][_0x4d78cd(0x79a)](_0x3e8cb0=>{const _0x188fb7=_0x4d78cd,_0x3604e7=_0x3e8cb0['data'](),_0x31d51f=_0x3e8cb0['id'];return _0x188fb7(0x182)+JSON[_0x188fb7(0x3c6)](_0x3604e7)+_0x188fb7(0x73b)+(_0x3604e7[_0x188fb7(0x5be)]||_0x3604e7[_0x188fb7(0x7ec)])+_0x188fb7(0x6fc)+_0x3604e7[_0x188fb7(0x366)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4d78cd(0x6f4)]('');_0x3c7980['innerHTML']=_0x4d78cd(0x72a)+_0x3a1e35+_0x4d78cd(0x310),document[_0x4d78cd(0x2da)](_0x4d78cd(0x7fe))[_0x4d78cd(0x381)](_0x4d78cd(0x302),createQuizFromBank);}catch(_0x5159b9){console[_0x4d78cd(0x735)]('Error\x20displaying\x20question\x20bank:',_0x5159b9),_0x3c7980['innerHTML']=_0x4d78cd(0x5c0);}}function showAdminLiveQuestionView(_0x2b78a1,_0x467145,_0x40f37a){const _0x10a66a=_0x411d30,_0x30fb07=_0x2b78a1['questionType']||currentQuizData['quizType'];let _0x1b7fa2='';if(_0x30fb07===_0x10a66a(0x247)||_0x30fb07===_0x10a66a(0x5e7)){const _0x349a05=_0x30fb07===_0x10a66a(0x5e7)?[_0x10a66a(0x74b),_0x10a66a(0x87b)]:_0x2b78a1[_0x10a66a(0x7f7)],_0x3c3baa=_0x30fb07===_0x10a66a(0x5e7)?_0x2b78a1[_0x10a66a(0x51d)]?0x0:0x1:_0x2b78a1[_0x10a66a(0x6a9)];_0x1b7fa2=_0x349a05[_0x10a66a(0x79a)]((_0x541692,_0x207503)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x207503===_0x3c3baa)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x541692+_0x10a66a(0x46f))[_0x10a66a(0x6f4)]('');}else{if(_0x30fb07===_0x10a66a(0x733)){const _0x47660e=_0x2b78a1[_0x10a66a(0x5bd)]||[];_0x1b7fa2=_0x47660e[_0x10a66a(0x79a)](_0x1b9905=>_0x10a66a(0x245)+(_0x1b9905===_0x2b78a1[_0x10a66a(0x4a1)])+_0x10a66a(0x6be)+_0x1b9905+_0x10a66a(0x46f))[_0x10a66a(0x6f4)]('');}}const _0x53e7f9=_0x2b78a1[_0x10a66a(0x7ec)]||_0x2b78a1[_0x10a66a(0x5be)],_0x277f1f=_0x10a66a(0x7af)+(_0x467145+0x1)+'\x20/\x20'+_0x40f37a+_0x10a66a(0x54d)+currentLiveGamePin+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x53e7f9+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b7fa2+_0x10a66a(0x354);liveGameView['innerHTML']=_0x277f1f,window[_0x10a66a(0x3d6)]&&MathJax[_0x10a66a(0x1de)]&&MathJax[_0x10a66a(0x1de)]([liveGameView]),document[_0x10a66a(0x2da)](_0x10a66a(0x6c7))['addEventListener'](_0x10a66a(0x302),()=>revealAnswerForAdmin(_0x467145,_0x40f37a)),document[_0x10a66a(0x2da)]('end-game-btn')['addEventListener'](_0x10a66a(0x302),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x6f34a2=_0x1004,_0x49f05a=doc(db,'artifacts/'+appId+_0x6f34a2(0x90e),currentLiveGameId);await updateDoc(_0x49f05a,{'status':_0x6f34a2(0x5c2)});});}),document[_0x10a66a(0x2da)]('manage-players-btn')[_0x10a66a(0x381)]('click',()=>{const _0x559c14=_0x10a66a;document['getElementById'](_0x559c14(0x487))[_0x559c14(0x5aa)][_0x559c14(0x778)](_0x559c14(0x62f));});}function showStudentLiveQuestionView(_0x323b7f,_0x3943e2,_0x1cce23){const _0x2d01cd=_0x411d30,_0xffbc45=_0x323b7f[_0x2d01cd(0x6ec)]||currentQuizData[_0x2d01cd(0x285)];let _0x4fd6f3='';if(_0xffbc45==='multiple_choice'||_0xffbc45==='true_false'){const _0x56d990=_0xffbc45==='true_false'?[_0x2d01cd(0x74b),_0x2d01cd(0x87b)]:_0x323b7f[_0x2d01cd(0x7f7)];_0x4fd6f3=_0x56d990[_0x2d01cd(0x79a)]((_0x3d5a54,_0x360d00)=>_0x2d01cd(0x26f)+_0x360d00+_0x2d01cd(0x873)+_0x3d5a54+_0x2d01cd(0x66e))[_0x2d01cd(0x6f4)]('');}else{if(_0xffbc45==='matching_item'){const _0x4dcaa1=_0x323b7f['allResponses']||[];_0x4fd6f3=_0x4dcaa1['map']((_0x7aecea,_0x382f7f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x382f7f+_0x2d01cd(0x873)+_0x7aecea+_0x2d01cd(0x66e))['join']('');}else _0xffbc45===_0x2d01cd(0x637)&&(_0x4fd6f3=_0x2d01cd(0x8d0));}const _0x3637b9=_0x323b7f[_0x2d01cd(0x7ec)]||_0x323b7f['questionText'],_0x3e2d05='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x3943e2+0x1)+'\x20/\x20'+_0x1cce23+_0x2d01cd(0x284)+_0x3637b9+_0x2d01cd(0x353)+_0x4fd6f3+_0x2d01cd(0x771);liveGameView[_0x2d01cd(0x373)]=_0x3e2d05;window[_0x2d01cd(0x3d6)]&&MathJax[_0x2d01cd(0x1de)]&&MathJax[_0x2d01cd(0x1de)]([liveGameView]);const _0x16c51b=document['getElementById'](_0x2d01cd(0x847));_0x16c51b&&_0x16c51b['addEventListener']('click',()=>{const _0x2195ea=_0x2d01cd,_0x5746e3=document[_0x2195ea(0x2da)](_0x2195ea(0x3f9))['value'];handleLiveAnswer(_0x5746e3,_0x323b7f);}),document[_0x2d01cd(0x2da)]('live-options-container')[_0x2d01cd(0x381)]('click',_0x3fe6ce=>{const _0x1e6867=_0x2d01cd,_0x4b6fa8=_0x3fe6ce[_0x1e6867(0x7cd)][_0x1e6867(0x588)](_0x1e6867(0x8a7));if(_0x4b6fa8){const _0x34725f=parseInt(_0x4b6fa8[_0x1e6867(0x5a1)][_0x1e6867(0x328)]);handleLiveAnswer(_0x34725f,_0x323b7f);}});}async function handleLiveAnswer(_0x548562,_0x4764ba){const _0x141fb0=_0x411d30;document[_0x141fb0(0x7ea)](_0x141fb0(0x8ec))[_0x141fb0(0x65f)](_0x5cbfd9=>_0x5cbfd9[_0x141fb0(0x502)]=!![]);const _0x1dfacc=_0x4764ba['questionType']||currentQuizData[_0x141fb0(0x285)];let _0x1541e8=![],_0x291cdb=_0x548562;if(_0x1dfacc===_0x141fb0(0x637)){const _0x426905=(_0x548562||'')[_0x141fb0(0x87a)]();_0x1541e8=await gradeShortAnswer(_0x426905,_0x4764ba);}else{if(_0x1dfacc===_0x141fb0(0x247))_0x1541e8=_0x548562===_0x4764ba[_0x141fb0(0x6a9)];else{if(_0x1dfacc===_0x141fb0(0x5e7)){const _0x1bf72e=_0x4764ba[_0x141fb0(0x51d)];_0x1541e8=_0x548562===0x0&&_0x1bf72e||_0x548562===0x1&&!_0x1bf72e;}else{if(_0x1dfacc===_0x141fb0(0x733)){const _0xb2b8de=_0x4764ba[_0x141fb0(0x5bd)][_0x548562];_0x1541e8=_0xb2b8de===_0x4764ba[_0x141fb0(0x4a1)],_0x291cdb=_0xb2b8de;}}}}const _0x3e063a=doc(db,'artifacts/'+appId+_0x141fb0(0x90e),currentLiveGameId),_0x3056ad={};_0x3056ad[_0x141fb0(0x883)+currentStudentName+_0x141fb0(0x7a2)]=!![],_0x3056ad[_0x141fb0(0x883)+currentStudentName+'.lastAnswerCorrect']=_0x1541e8,_0x3056ad[_0x141fb0(0x883)+currentStudentName+_0x141fb0(0x906)]=_0x1dfacc===_0x141fb0(0x637)||_0x1dfacc===_0x141fb0(0x733)?null:_0x548562,_0x3056ad['players.'+currentStudentName+'.lastAnswerValue']=_0x291cdb,_0x3056ad[_0x141fb0(0x883)+currentStudentName+_0x141fb0(0x6bd)]=serverTimestamp(),_0x3056ad[_0x141fb0(0x883)+currentStudentName+'.isScored']=![],await updateDoc(_0x3e063a,_0x3056ad),liveGameView[_0x141fb0(0x373)]=_0x141fb0(0x892);}function showAdminSummaryView(_0xa9ae3e,_0x407d34){const _0x2fa99b=_0x411d30,_0x1615c9=Object[_0x2fa99b(0x132)](_0xa9ae3e[_0x2fa99b(0x805)]||{}),_0x2d545c=_0x407d34[_0x2fa99b(0x6ec)]||currentQuizData[_0x2fa99b(0x285)],_0x5c4b25=_0x2d545c===_0x2fa99b(0x5e7)?['ใช่',_0x2fa99b(0x87b)]:_0x407d34[_0x2fa99b(0x7f7)]||_0x407d34['allResponses']||[],_0xe62580={},_0x49a165=new Array(_0x5c4b25['length'])[_0x2fa99b(0x8fa)](0x0);_0x5c4b25[_0x2fa99b(0x65f)]((_0x17c6ea,_0x385ad8)=>{_0xe62580[_0x385ad8]=[];}),Object[_0x2fa99b(0x142)](_0xa9ae3e[_0x2fa99b(0x805)]||{})[_0x2fa99b(0x65f)](([_0x2f893e,_0x3efc7e])=>{const _0x969cb2=_0x2fa99b;if(_0x3efc7e[_0x969cb2(0x8cb)]===_0x969cb2(0xe3)&&_0x3efc7e[_0x969cb2(0x793)]!==undefined){const _0x229ce9=_0x3efc7e[_0x969cb2(0x793)];_0xe62580[_0x229ce9]&&(_0xe62580[_0x229ce9][_0x969cb2(0x56e)](_0x2f893e),_0x49a165[_0x229ce9]++);}});const _0x358df9=Math[_0x2fa99b(0x1a8)](..._0x49a165,0x1),_0x523e5f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x407d34['stem']||_0x407d34[_0x2fa99b(0x5be)])+_0x2fa99b(0x7b1)+_0x49a165[_0x2fa99b(0x79a)]((_0x297e5f,_0x384a67)=>{const _0x40671c=_0x2fa99b,_0x492f65=_0xe62580[_0x384a67][_0x40671c(0x412)]>0x0?_0xe62580[_0x384a67][_0x40671c(0x6f4)](',\x20'):_0x40671c(0x718);let _0x573c20=![];if(_0x2d545c===_0x40671c(0x247))_0x573c20=_0x384a67===_0x407d34['correctAnswerIndex'];else{if(_0x2d545c==='true_false'){const _0x674804=_0x407d34[_0x40671c(0x51d)];_0x573c20=_0x674804&&_0x384a67===0x0||!_0x674804&&_0x384a67===0x1;}else _0x2d545c===_0x40671c(0x733)&&(_0x573c20=_0x5c4b25[_0x384a67]===_0x407d34[_0x40671c(0x4a1)]);}const _0x2ee137=_0x573c20?_0x40671c(0x8c4):'#e21b3c';return _0x40671c(0x4a6)+_0x297e5f+_0x40671c(0x2f2)+_0x2ee137+_0x40671c(0x6e9)+_0x384a67+_0x40671c(0x435)+_0x5c4b25[_0x384a67]+_0x40671c(0x436)+_0x384a67+_0x40671c(0x147)+_0x492f65+_0x40671c(0x1f0);})[_0x2fa99b(0x6f4)]('')+_0x2fa99b(0x4ef);liveGameView[_0x2fa99b(0x373)]=_0x523e5f;if(window['MathJax'])MathJax[_0x2fa99b(0x1de)]();document[_0x2fa99b(0x2da)](_0x2fa99b(0x204))[_0x2fa99b(0x381)]('click',async()=>{const _0x5a9764=_0x2fa99b,_0x5a72dd=doc(db,_0x5a9764(0x6c8)+appId+_0x5a9764(0x90e),currentLiveGameId);await updateDoc(_0x5a72dd,{'questionStatus':_0x5a9764(0x36f)});}),document[_0x2fa99b(0x2da)]('open-scratchpad-btn')[_0x2fa99b(0x381)](_0x2fa99b(0x302),()=>{openScratchpad(_0x407d34,_0x5c4b25);});}function showPlayerSummaryView(_0x329a6e,_0x440bd3){const _0x2eff7b=_0x411d30,_0x4e02e0=Object[_0x2eff7b(0x132)](_0x329a6e[_0x2eff7b(0x805)]||{}),_0x4581d0=_0x329a6e[_0x2eff7b(0x805)][_0x440bd3],_0xc65751=_0x4e02e0[_0x2eff7b(0x850)](_0x545e1d=>_0x545e1d[_0x2eff7b(0x8cb)]==='active')[_0x2eff7b(0x73c)]((_0x4b2d8c,_0x17b7a5)=>_0x17b7a5[_0x2eff7b(0x693)]-_0x4b2d8c[_0x2eff7b(0x693)]),_0x239b2a=_0xc65751['findIndex'](_0x2f88dd=>_0x2f88dd===_0x4581d0)+0x1,_0x191f0c=_0x4581d0[_0x2eff7b(0x8f6)]?_0x2eff7b(0x1be):'ผิด',_0x48ff3c=_0x4581d0[_0x2eff7b(0x8f6)]?_0x2eff7b(0x82d):_0x2eff7b(0x4d3),_0x248d34=_0x4581d0[_0x2eff7b(0x5c9)]||0x0,_0x6a32f2=_0x2eff7b(0x6b3),_0x22659c=_0x2eff7b(0x475)+_0x6a32f2+_0x2eff7b(0x455)+_0x48ff3c+_0x2eff7b(0x1ea)+_0x191f0c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x248d34+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>'+(_0x239b2a>0x0?_0x239b2a:'-')+_0x2eff7b(0x667);liveGameView[_0x2eff7b(0x373)]=_0x22659c;}function createQuizFromBank(){const _0x3b885a=_0x411d30,_0x3b14a9=document[_0x3b885a(0x7ea)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x3b14a9['length']===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0xfc1050=[];_0x3b14a9[_0x3b885a(0x65f)](_0x1d2349=>{const _0x2c030b=_0x3b885a;_0xfc1050[_0x2c030b(0x56e)](JSON[_0x2c030b(0x16e)](_0x1d2349[_0x2c030b(0x5b4)]));});const _0x356aa6={'topic':_0x3b885a(0x6ed),'questions':_0xfc1050};displayGeneratedQuiz(_0x356aa6);}function showAdminLobbyView(_0x22e811,_0x20eb29){const _0x2419bf=_0x411d30;showView(_0x2419bf(0x70a));const _0x375db2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x20eb29+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x22e811+_0x2419bf(0x49a);liveGameView[_0x2419bf(0x373)]=_0x375db2,document[_0x2419bf(0x2da)](_0x2419bf(0x8a3))['addEventListener'](_0x2419bf(0x302),async()=>{const _0x40cd92=_0x2419bf;if(!currentQuizData||!currentQuizData[_0x40cd92(0x7f5)]||currentQuizData[_0x40cd92(0x7f5)][_0x40cd92(0x412)]===0x0){showMessage(_0x40cd92(0x622));return;}try{const _0x378172=doc(db,'artifacts/'+appId+_0x40cd92(0x90e),currentLiveGameId);await updateDoc(_0x378172,{'status':_0x40cd92(0x5c1),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x237aeb=currentQuizData[_0x40cd92(0x7f5)][0x0],_0x37f1b9=currentQuizData[_0x40cd92(0x7f5)][_0x40cd92(0x412)];showAdminLiveQuestionView(_0x237aeb,0x0,_0x37f1b9);}catch(_0x22b98d){console[_0x40cd92(0x735)](_0x40cd92(0x23c),_0x22b98d),showMessage(_0x40cd92(0x270));}});}async function openGlobalLiveModal(){const _0xc81905=_0x411d30;if(allQuizzesGlobal[_0xc81905(0x412)]===0x0){const _0x389b0e=await getDocs(collection(db,_0xc81905(0x6c8)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x389b0e[_0xc81905(0x60e)][_0xc81905(0x79a)](_0x4156a2=>({'id':_0x4156a2['id'],..._0x4156a2['data']()}));}renderGlobalQuizList(''),document[_0xc81905(0x2da)](_0xc81905(0x7e2))[_0xc81905(0x5aa)][_0xc81905(0x395)](_0xc81905(0x62f));}async function openQuizBankModal(){const _0x1eebf2=_0x411d30;if(allQuizzesGlobal[_0x1eebf2(0x412)]===0x0){const _0x26056c=await getDocs(collection(db,_0x1eebf2(0x6c8)+appId+_0x1eebf2(0x7d7)));allQuizzesGlobal=_0x26056c[_0x1eebf2(0x60e)][_0x1eebf2(0x79a)](_0x3399b5=>({'id':_0x3399b5['id'],..._0x3399b5['data']()}));}renderQuizBankList(''),document[_0x1eebf2(0x2da)](_0x1eebf2(0x881))['classList'][_0x1eebf2(0x395)]('hidden');}function renderQuizBankList(_0x35b7b6=''){const _0x44d263=_0x411d30,_0x2ff705=document[_0x44d263(0x2da)](_0x44d263(0x8f8)),_0x18352a=_0x35b7b6[_0x44d263(0x5ff)]()[_0x44d263(0x4b3)](),_0x45825e=allQuizzesGlobal[_0x44d263(0x79a)](_0x3c01b8=>({..._0x3c01b8,'projectName':allProjects[_0x44d263(0x151)](_0x4ac84a=>_0x4ac84a['id']===_0x3c01b8[_0x44d263(0x7e4)])?.[_0x44d263(0x661)]||_0x44d263(0x7db)}))[_0x44d263(0x850)](_0x1ee0ec=>(_0x1ee0ec[_0x44d263(0x363)]||'')[_0x44d263(0x5ff)]()['includes'](_0x18352a)||(_0x1ee0ec[_0x44d263(0x661)]||'')[_0x44d263(0x5ff)]()[_0x44d263(0x411)](_0x18352a)||_0x1ee0ec['id']['toString']()[_0x44d263(0x411)](_0x18352a));document[_0x44d263(0x2da)]('quiz-bank-count')[_0x44d263(0x769)]='('+_0x45825e[_0x44d263(0x412)]+_0x44d263(0x678),_0x2ff705[_0x44d263(0x373)]=_0x45825e[_0x44d263(0x412)]?_0x45825e[_0x44d263(0x79a)](_0x36737e=>_0x44d263(0x3cc)+_0x36737e['id']+_0x44d263(0x20c)+(_0x36737e[_0x44d263(0x363)]||'(ไม่มีชื่อ)')+_0x44d263(0x1fe)+(_0x36737e[_0x44d263(0x7f5)]?.[_0x44d263(0x412)]||0x0)+_0x44d263(0x584)+_0x36737e[_0x44d263(0x661)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x36737e['id']+_0x44d263(0x13b)+_0x36737e['id']+_0x44d263(0xdf)+_0x36737e['id']+_0x44d263(0x35c)+_0x36737e['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x36737e['id']+_0x44d263(0x274)+_0x36737e['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x36737e['id']+'\x22\x20data-topic=\x22'+_0x36737e['topic']+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')['join'](''):_0x44d263(0x1df),_0x2ff705[_0x44d263(0x7ea)](_0x44d263(0x5cf))['forEach'](_0x43348a=>{const _0x108c3b=_0x44d263;_0x43348a[_0x108c3b(0x381)](_0x108c3b(0x302),()=>{const _0x3296de=_0x108c3b,_0x34e5fe=_0x43348a['dataset']['id'];document[_0x3296de(0x2da)]('quiz-bank-modal')['classList']['add']('hidden'),showQuizDetailView(_0x34e5fe);});}),_0x2ff705[_0x44d263(0x7ea)]('.quiz-bank-try-btn')[_0x44d263(0x65f)](_0x14bb21=>{const _0x51a700=_0x44d263;_0x14bb21['addEventListener'](_0x51a700(0x302),_0x3eeecd=>{const _0x545c91=_0x51a700;_0x3eeecd[_0x545c91(0x3e2)]();const _0x1f5a0e=_0x14bb21[_0x545c91(0x5a1)]['id'],_0x4aae5c=allQuizzesGlobal[_0x545c91(0x151)](_0x6d012d=>_0x6d012d['id']===_0x1f5a0e);_0x4aae5c?(currentQuizData=_0x4aae5c,document[_0x545c91(0x2da)](_0x545c91(0x881))[_0x545c91(0x5aa)][_0x545c91(0x483)](_0x545c91(0x62f)),startAdminTest()):showMessage(_0x545c91(0x6d0));});}),_0x2ff705[_0x44d263(0x7ea)](_0x44d263(0x5ef))[_0x44d263(0x65f)](_0x59b59e=>{const _0x40de96=_0x44d263;_0x59b59e[_0x40de96(0x381)]('click',_0x182144=>{const _0x101b15=_0x40de96;_0x182144[_0x101b15(0x3e2)]();const _0x472784=_0x59b59e['dataset']['id'],_0x5749be=allQuizzesGlobal[_0x101b15(0x151)](_0x5ba3aa=>_0x5ba3aa['id']===_0x472784);_0x5749be?(document[_0x101b15(0x2da)]('quiz-bank-modal')[_0x101b15(0x5aa)][_0x101b15(0x483)](_0x101b15(0x62f)),handleGenerateParallelFromBank(_0x5749be)):showMessage(_0x101b15(0x6d0));});}),_0x2ff705[_0x44d263(0x7ea)](_0x44d263(0x712))['forEach'](_0x491da0=>{const _0x10412a=_0x44d263;_0x491da0[_0x10412a(0x381)](_0x10412a(0x302),_0xe00cfc=>{const _0x197d06=_0x10412a;_0xe00cfc[_0x197d06(0x3e2)]();const _0x16d47c=_0x491da0[_0x197d06(0x5a1)]['id'],_0x5ab6df=allQuizzesGlobal[_0x197d06(0x151)](_0x36be49=>_0x36be49['id']===_0x16d47c);_0x5ab6df?(document['getElementById'](_0x197d06(0x881))[_0x197d06(0x5aa)][_0x197d06(0x483)](_0x197d06(0x62f)),startPresentation(_0x5ab6df)):showMessage(_0x197d06(0x6d0));});}),_0x2ff705[_0x44d263(0x7ea)](_0x44d263(0x12d))['forEach'](_0x4855e0=>{const _0x4f4331=_0x44d263;_0x4855e0[_0x4f4331(0x381)](_0x4f4331(0x302),_0x4e8c79=>{const _0x166da5=_0x4f4331;_0x4e8c79[_0x166da5(0x3e2)]();const _0x12a525=_0x4855e0[_0x166da5(0x5a1)]['id'];document['getElementById'](_0x166da5(0x881))['classList'][_0x166da5(0x483)](_0x166da5(0x62f)),handleMoveQuiz(_0x12a525);});}),_0x2ff705[_0x44d263(0x7ea)](_0x44d263(0x80f))[_0x44d263(0x65f)](_0x91cc7c=>{const _0x2ec14b=_0x44d263;_0x91cc7c[_0x2ec14b(0x381)]('click',_0x54c57d=>{const _0x33a4b9=_0x2ec14b;_0x54c57d[_0x33a4b9(0x3e2)]();const _0x59f173=_0x91cc7c[_0x33a4b9(0x5a1)]['id'];document[_0x33a4b9(0x2da)](_0x33a4b9(0x881))['classList'][_0x33a4b9(0x483)](_0x33a4b9(0x62f)),handleQuizSettings(_0x59f173);});}),_0x2ff705[_0x44d263(0x7ea)](_0x44d263(0x15a))[_0x44d263(0x65f)](_0x4ebd33=>{const _0x3dbee5=_0x44d263;_0x4ebd33[_0x3dbee5(0x381)](_0x3dbee5(0x302),_0x302d97=>{const _0xf9eca4=_0x3dbee5;_0x302d97['stopPropagation']();const _0x382eae=_0x4ebd33[_0xf9eca4(0x5a1)]['id'],_0x51c3c0=_0x4ebd33['dataset'][_0xf9eca4(0x363)];showConfirmation(_0xf9eca4(0x237)+_0x51c3c0+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0x382eae));});});}async function handleCompareResults(_0x2339e9,_0x32e1de){const _0x5b0c23=_0x411d30,_0x1d95cf=document[_0x5b0c23(0x2da)](_0x5b0c23(0xfe)),_0x1368e4=document[_0x5b0c23(0x2da)](_0x5b0c23(0x631)),_0x165774=document[_0x5b0c23(0x2da)]('comparison-individual-content');document[_0x5b0c23(0x2da)]('comparison-overall-tab')['classList'][_0x5b0c23(0x483)](_0x5b0c23(0xe3)),document[_0x5b0c23(0x2da)]('comparison-individual-tab')[_0x5b0c23(0x5aa)]['remove']('active'),_0x1368e4[_0x5b0c23(0x5aa)][_0x5b0c23(0x395)]('hidden'),_0x165774[_0x5b0c23(0x5aa)]['add'](_0x5b0c23(0x62f)),_0x1368e4[_0x5b0c23(0x373)]=_0x5b0c23(0x860),_0x165774[_0x5b0c23(0x373)]='',_0x1d95cf['classList'][_0x5b0c23(0x395)](_0x5b0c23(0x62f));try{const _0x36f32b=doc(db,_0x5b0c23(0x6c8)+appId+'/public/data/quizzes',_0x2339e9),_0x2c2783=await getDoc(_0x36f32b);if(!_0x2c2783[_0x5b0c23(0x50f)]())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x21831e=_0x2c2783[_0x5b0c23(0x516)](),_0x5938e3=_0x21831e['questions'][_0x5b0c23(0x412)],_0x10794a=collection(db,_0x5b0c23(0x6c8)+appId+_0x5b0c23(0x29f)+_0x32e1de+_0x5b0c23(0x75f)),_0x5c88f7=collection(db,'artifacts/'+appId+_0x5b0c23(0x29f)+_0x2339e9+_0x5b0c23(0x75f)),[_0x9dce8b,_0x3ef67f]=await Promise['all']([getDocs(_0x10794a),getDocs(_0x5c88f7)]),_0x5f4b39=_0x9dce8b['docs']['map'](_0x11a8d2=>_0x11a8d2['data']()),_0x24bf79=_0x3ef67f['docs'][_0x5b0c23(0x79a)](_0x56f9a7=>_0x56f9a7[_0x5b0c23(0x516)]()),_0x332b1d=_0x5f4b39[_0x5b0c23(0x79a)](_0x47255f=>_0x47255f[_0x5b0c23(0x73d)]),_0x5bef43=_0x24bf79[_0x5b0c23(0x79a)](_0x464e00=>_0x464e00['latestScore']),_0x2ee606=calculateMeanAndStdDev(_0x332b1d),_0xa727b3=calculateMeanAndStdDev(_0x5bef43),_0x1118be=_0x2ee606[_0x5b0c23(0x31c)],_0x2e08ad=_0xa727b3[_0x5b0c23(0x31c)],_0x219d7d=_0x2e08ad-_0x1118be;let _0x2a83c9=_0x5b0c23(0x78a)+_0x1118be[_0x5b0c23(0x372)](0x2)+_0x5b0c23(0x845)+_0x2e08ad[_0x5b0c23(0x372)](0x2)+_0x5b0c23(0x814)+(_0x219d7d>=0x0?'bg-emerald-100':'bg-red-100')+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x219d7d>=0x0?_0x5b0c23(0x470):_0x5b0c23(0x2d5))+_0x5b0c23(0x6fa)+(_0x219d7d>=0x0?_0x5b0c23(0x6ee):_0x5b0c23(0x15f))+'\x22>'+(_0x219d7d>=0x0?'+':'')+_0x219d7d['toFixed'](0x2)+_0x5b0c23(0x346);_0x1368e4[_0x5b0c23(0x373)]=_0x2a83c9;const _0x153dab=document['getElementById'](_0x5b0c23(0x725))[_0x5b0c23(0x2cd)]('2d');if(chartInstances[_0x5b0c23(0x2c8)])chartInstances['comparison'][_0x5b0c23(0x2af)]();chartInstances[_0x5b0c23(0x2c8)]=new Chart(_0x153dab,{'type':_0x5b0c23(0x11f),'data':{'labels':[_0x5b0c23(0x7d1)],'datasets':[{'label':'ก่อนเรียน','data':[_0x1118be],'backgroundColor':_0x5b0c23(0x4c0)},{'label':_0x5b0c23(0x85b),'data':[_0x2e08ad],'backgroundColor':_0x5b0c23(0x30c)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x5938e3}}}});const _0x31e432=currentProjectData[_0x5b0c23(0x1af)]||[],_0x936af9=_0x31e432[_0x5b0c23(0x79a)](_0x4c2f52=>{const _0x53bf30=_0x5b0c23,_0x15952f=_0x5f4b39[_0x53bf30(0x151)](_0x5bab67=>_0x5bab67['studentName']===_0x4c2f52),_0x5313ca=_0x24bf79['find'](_0x4b9b3a=>_0x4b9b3a[_0x53bf30(0x727)]===_0x4c2f52),_0x1be292=_0x15952f?_0x15952f[_0x53bf30(0x73d)]:null,_0x32fcdb=_0x5313ca?_0x5313ca[_0x53bf30(0x73d)]:null,_0x3545df=_0x1be292!==null&&_0x32fcdb!==null?_0x32fcdb-_0x1be292:null,_0x7c4c08=_0x1be292!==null?calculateZScore(_0x1be292,_0x2ee606[_0x53bf30(0x31c)],_0x2ee606[_0x53bf30(0x2b7)]):null,_0x38551b=_0x32fcdb!==null?calculateZScore(_0x32fcdb,_0xa727b3[_0x53bf30(0x31c)],_0xa727b3['stdDev']):null,_0x421a78=_0x7c4c08!==null?calculateTScore(_0x7c4c08):null,_0x28b2dc=_0x38551b!==null?calculateTScore(_0x38551b):null,_0x37dea3=_0x421a78!==null&&_0x28b2dc!==null?_0x28b2dc-_0x421a78:null;return{'name':_0x4c2f52,'preScore':_0x1be292,'postScore':_0x32fcdb,'gain':_0x3545df,'preTScore':_0x421a78,'postTScore':_0x28b2dc,'tGain':_0x37dea3};});renderIndividualComparisonTable(_0x936af9,_0x165774);}catch(_0x305bbd){console[_0x5b0c23(0x735)](_0x5b0c23(0x713),_0x305bbd),_0x1368e4['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}function displayHalfMarkResult(_0x110435,_0x2dd95e){const _0x3a703a=_0x411d30,_0x47e46e=_0x110435>=_0x2dd95e/0x2,_0x214422=_0x47e46e?'bg-green-100':'bg-red-100',_0x7df855=_0x47e46e?_0x3a703a(0x2d4):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x1b221d=_0x47e46e?_0x3a703a(0x633):_0x3a703a(0x2d5),_0x48a8c9=_0x47e46e?_0x3a703a(0x36c):'คะแนนยังไม่ถึงครึ่ง',_0x9ce67a=_0x47e46e?_0x3a703a(0x196):_0x3a703a(0x4e3);let _0x2fe9a6=_0x3a703a(0x71e)+_0x214422+_0x3a703a(0x722)+_0x7df855+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x1b221d+_0x3a703a(0x798)+_0x48a8c9+_0x3a703a(0x3f3)+_0x9ce67a+_0x3a703a(0x8ff);studentResultArea[_0x3a703a(0x373)]=_0x2fe9a6,studentResultArea[_0x3a703a(0x5aa)][_0x3a703a(0x395)]('hidden'),studentQuizArea[_0x3a703a(0x5aa)][_0x3a703a(0x483)](_0x3a703a(0x62f)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x47e46e});}function displayPerfectScoreResult(_0x3e16aa,_0x5e9cbd){const _0xd39ed9=_0x411d30,_0x174087=_0x3e16aa===_0x5e9cbd,_0x223cb6=_0x174087?'bg-yellow-100':_0xd39ed9(0x400),_0x264a22=_0x174087?_0xd39ed9(0x820):_0xd39ed9(0x334),_0x59995e=_0x174087?_0xd39ed9(0x73a):'text-blue-800',_0x6a04f5=_0x174087?'คะแนนเต็ม!':_0xd39ed9(0x4c4),_0x4e01b2=_0x174087?_0xd39ed9(0x504):'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x1dad5d=_0xd39ed9(0x71e)+_0x223cb6+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x264a22+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x59995e+_0xd39ed9(0x798)+_0x6a04f5+_0xd39ed9(0x3f3)+_0x4e01b2+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0xd39ed9(0x373)]=_0x1dad5d,studentResultArea['classList'][_0xd39ed9(0x395)](_0xd39ed9(0x62f)),studentQuizArea[_0xd39ed9(0x5aa)]['add']('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x3e16aa,'totalQuestions':_0x5e9cbd});}function renderIndividualComparisonTable(_0x42c92d,_0x3c1281){const _0x4b7b8d=_0x411d30;_0x42c92d[_0x4b7b8d(0x73c)]((_0x958dbe,_0x96540e)=>(_0x96540e[_0x4b7b8d(0x1e0)]??-Infinity)-(_0x958dbe[_0x4b7b8d(0x1e0)]??-Infinity));let _0x5b011e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x42c92d['length']===0x0?_0x5b011e+=_0x4b7b8d(0x767):_0x42c92d[_0x4b7b8d(0x65f)]((_0x41b819,_0x5419b2)=>{const _0x422bd9=_0x4b7b8d;let _0x2bc1b2='-',_0x411803='';if(_0x41b819['gain']!==null){const _0x3d9c73=_0x41b819[_0x422bd9(0x2ab)]>0x0?_0x422bd9(0x651):_0x41b819['gain']<0x0?_0x422bd9(0x6c3):_0x422bd9(0x6e1),_0x4a1759=_0x41b819[_0x422bd9(0x2ab)]>0x0?'+':'';_0x2bc1b2='<span\x20class=\x22font-bold\x20'+_0x3d9c73+'\x22>'+_0x4a1759+_0x41b819['gain']+_0x422bd9(0x558);if(_0x41b819[_0x422bd9(0x2ab)]>0x0)_0x411803='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x41b819[_0x422bd9(0x2ab)]<0x0?_0x411803=_0x422bd9(0x60c):_0x411803='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x5e0e2b='-';if(_0x41b819[_0x422bd9(0x1e0)]!==null){const _0x284ac2=_0x41b819['tGain']>0x0?'text-green-600':_0x41b819['tGain']<0x0?_0x422bd9(0x6c3):'text-gray-500',_0x3578ca=_0x41b819[_0x422bd9(0x1e0)]>0x0?'+':'';_0x5e0e2b=_0x422bd9(0x794)+_0x284ac2+'\x22>'+_0x3578ca+_0x41b819[_0x422bd9(0x1e0)][_0x422bd9(0x372)](0x2)+'</span>';}_0x5b011e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x5419b2+0x1)+_0x422bd9(0x5bf)+_0x41b819['name']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x41b819['preScore']??'-')+_0x422bd9(0x42d)+(_0x41b819[_0x422bd9(0x5c5)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x2bc1b2+_0x422bd9(0x886)+_0x411803+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x41b819[_0x422bd9(0x2ed)]?.['toFixed'](0x2)??'-')+_0x422bd9(0x43a)+(_0x41b819['postTScore']?.['toFixed'](0x2)??'-')+_0x422bd9(0x683)+_0x5e0e2b+_0x422bd9(0x3b1);}),_0x5b011e+=_0x4b7b8d(0x724),_0x3c1281[_0x4b7b8d(0x373)]=_0x5b011e;}function handleRenameQuiz(_0x3d7a9d,_0x1cc160){const _0x33b853=_0x411d30;actionTargetId=_0x3d7a9d,document['getElementById']('rename-quiz-input')[_0x33b853(0x5b4)]=_0x1cc160,renameQuizModal[_0x33b853(0x5aa)]['remove']('hidden');}function setupComparisonModalTabs(){const _0x1826dd=_0x411d30,_0x12d914=document[_0x1826dd(0x2da)](_0x1826dd(0x66b)),_0x30f909=document['getElementById']('comparison-individual-tab'),_0x30c030=document[_0x1826dd(0x2da)]('comparison-overall-content'),_0x5363b4=document[_0x1826dd(0x2da)]('comparison-individual-content');_0x12d914[_0x1826dd(0x381)](_0x1826dd(0x302),()=>{const _0x8352e2=_0x1826dd;_0x12d914[_0x8352e2(0x5aa)][_0x8352e2(0x483)](_0x8352e2(0xe3)),_0x30f909[_0x8352e2(0x5aa)][_0x8352e2(0x395)](_0x8352e2(0xe3)),_0x30c030[_0x8352e2(0x5aa)]['remove'](_0x8352e2(0x62f)),_0x5363b4['classList']['add'](_0x8352e2(0x62f));}),_0x30f909[_0x1826dd(0x381)]('click',()=>{const _0x5c13c9=_0x1826dd;_0x30f909[_0x5c13c9(0x5aa)][_0x5c13c9(0x483)](_0x5c13c9(0xe3)),_0x12d914[_0x5c13c9(0x5aa)][_0x5c13c9(0x395)](_0x5c13c9(0xe3)),_0x5363b4['classList']['remove']('hidden'),_0x30c030[_0x5c13c9(0x5aa)][_0x5c13c9(0x483)](_0x5c13c9(0x62f));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x2faff5=''){const _0x43dcc9=_0x411d30,_0x343d2b=document[_0x43dcc9(0x2da)](_0x43dcc9(0x6a6)),_0x33f1e5=_0x2faff5['toLowerCase']()[_0x43dcc9(0x4b3)](),_0x23462c=allQuizzesGlobal[_0x43dcc9(0x79a)](_0x18583c=>({..._0x18583c,'projectName':allProjects[_0x43dcc9(0x151)](_0x19308e=>_0x19308e['id']===_0x18583c[_0x43dcc9(0x7e4)])?.[_0x43dcc9(0x661)]||_0x18583c[_0x43dcc9(0x7e4)]}))[_0x43dcc9(0x850)](_0x74595e=>(_0x74595e[_0x43dcc9(0x363)]||'')[_0x43dcc9(0x5ff)]()[_0x43dcc9(0x411)](_0x33f1e5)||(_0x74595e[_0x43dcc9(0x661)]||'')[_0x43dcc9(0x5ff)]()['includes'](_0x33f1e5));document['getElementById'](_0x43dcc9(0x75a))[_0x43dcc9(0x769)]='('+_0x23462c[_0x43dcc9(0x412)]+_0x43dcc9(0x678),_0x343d2b[_0x43dcc9(0x373)]=_0x23462c[_0x43dcc9(0x412)]?_0x23462c[_0x43dcc9(0x79a)](_0x2567bd=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2567bd['id']+_0x43dcc9(0x863)+(_0x2567bd['topic']||_0x43dcc9(0x321))+_0x43dcc9(0x4e8)+(_0x2567bd['questions']?.[_0x43dcc9(0x412)]||0x0)+'\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x2567bd[_0x43dcc9(0x661)]+_0x43dcc9(0x908))[_0x43dcc9(0x6f4)](''):_0x43dcc9(0x35a),selectedGlobalQuizId=null,document['getElementById'](_0x43dcc9(0x1bc))['disabled']=!![],_0x343d2b[_0x43dcc9(0x7ea)]('button[data-id]')[_0x43dcc9(0x65f)](_0x427aad=>{const _0x2925e7=_0x43dcc9;_0x427aad[_0x2925e7(0x381)](_0x2925e7(0x302),()=>{const _0x5f226d=_0x2925e7;selectedGlobalQuizId=_0x427aad[_0x5f226d(0x5a1)]['id'],_0x343d2b[_0x5f226d(0x7ea)]('button')[_0x5f226d(0x65f)](_0x11d521=>_0x11d521[_0x5f226d(0x5aa)][_0x5f226d(0x395)](_0x5f226d(0x8c3),_0x5f226d(0x265),'ring-purple-400')),_0x427aad[_0x5f226d(0x5aa)][_0x5f226d(0x483)](_0x5f226d(0x8c3),'ring-2',_0x5f226d(0x5fc)),document[_0x5f226d(0x2da)]('confirm-global-live-btn')[_0x5f226d(0x502)]=![];});});}function listenForLiveGameUpdates(){const _0xf45364=_0x411d30;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x822a8c=doc(db,_0xf45364(0x6c8)+appId+_0xf45364(0x90e),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x822a8c,_0x237c4a=>{const _0x434da1=_0xf45364;if(!_0x237c4a[_0x434da1(0x50f)]()){showMessage('เกมสิ้นสุดลงแล้ว'),showView(currentMode);return;}const _0x1554c8=_0x237c4a[_0x434da1(0x516)]();_0x1554c8['shuffledQuiz']&&(currentQuizData=_0x1554c8[_0x434da1(0x656)]);!currentQuizData&&_0x1554c8[_0x434da1(0x8e0)]&&((async()=>{const _0x3940fc=_0x434da1;try{const _0x5df5ca=doc(db,_0x3940fc(0x6c8)+appId+_0x3940fc(0x7d7),_0x1554c8[_0x3940fc(0x8e0)]),_0xb4b491=await getDoc(_0x5df5ca);_0xb4b491[_0x3940fc(0x50f)]()&&(currentQuizData={'id':_0xb4b491['id'],..._0xb4b491[_0x3940fc(0x516)]()});}catch(_0x21a201){console[_0x3940fc(0x735)](_0x3940fc(0x849),_0x21a201);}})());switch(_0x1554c8[_0x434da1(0x8cb)]){case _0x434da1(0x64a):if(currentMode==='admin'){const _0x61a47a=_0x1554c8[_0x434da1(0x805)]?Object[_0x434da1(0x142)](_0x1554c8[_0x434da1(0x805)]):[],_0x4d28b6=_0x61a47a[_0x434da1(0x850)](([_0xbf7a25,_0x2debf3])=>_0x2debf3[_0x434da1(0x8cb)]==='active'),_0x167d90=document[_0x434da1(0x2da)](_0x434da1(0x5f1));if(_0x167d90)_0x167d90[_0x434da1(0x769)]=_0x4d28b6[_0x434da1(0x412)];const _0xf1465a=document[_0x434da1(0x2da)](_0x434da1(0xfd));_0xf1465a&&(_0xf1465a[_0x434da1(0x373)]=_0x4d28b6['map'](([_0x23e252,_0x4352a0])=>_0x434da1(0x82c)+_0x23e252+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x23e252+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x434da1(0x6f4)](''));const _0x2c7376=document[_0x434da1(0x2da)]('start-game-btn');_0x2c7376&&(_0x2c7376[_0x434da1(0x502)]=_0x4d28b6[_0x434da1(0x412)]===0x0);}else showView(_0x434da1(0x70a)),liveGameView[_0x434da1(0x373)]=_0x434da1(0x77a)+currentStudentName+_0x434da1(0x34d);break;case'question':const _0x2995b1=_0x1554c8['currentQuestionIndex'];if(currentQuizData&&currentQuizData['questions'][_0x2995b1]){const _0x4c3ebb=currentQuizData[_0x434da1(0x7f5)][_0x2995b1],_0x3f41b9=_0x1554c8[_0x434da1(0x799)]||'answering';switch(_0x3f41b9){case _0x434da1(0x137):currentMode==='admin'?showAdminSummaryView(_0x1554c8,_0x4c3ebb):showPlayerSummaryView(_0x1554c8,currentStudentName);break;case _0x434da1(0x36f):currentMode==='admin'&&showTop5LeaderboardView(_0x1554c8);break;case _0x434da1(0x5eb):default:if(currentMode===_0x434da1(0x852)){const _0x3a11cd=writeBatch(db);let _0x337354=![];Object[_0x434da1(0x142)](_0x1554c8[_0x434da1(0x805)])[_0x434da1(0x65f)](([_0x60460e,_0x1f8dd0])=>{const _0x1e9dad=_0x434da1;if(_0x1f8dd0[_0x1e9dad(0x8cb)]===_0x1e9dad(0xe3)&&_0x1f8dd0['submittedAt']&&!_0x1f8dd0[_0x1e9dad(0x6f5)]){_0x337354=!![];const _0x4b79fd=_0x1f8dd0[_0x1e9dad(0x170)][_0x1e9dad(0x19d)]()-_0x1554c8['questionDisplayedAt'][_0x1e9dad(0x19d)]();let _0x3a3333=0x0;if(_0x1f8dd0['lastAnswerCorrect']){const _0x449ded=0x3e8,_0x2ac402=0x1f4,_0x46afe=0x4e20;let _0x1dfc23=_0x4b79fd/_0x46afe;if(_0x1dfc23>0x1)_0x1dfc23=0x1;const _0x521edf=Math['round'](_0x1dfc23*_0x2ac402);_0x3a3333=_0x449ded-_0x521edf;}const _0x299524=doc(db,_0x1e9dad(0x6c8)+appId+_0x1e9dad(0x90e),currentLiveGameId);_0x3a11cd[_0x1e9dad(0x6e7)](_0x299524,{[_0x1e9dad(0x883)+_0x60460e+_0x1e9dad(0x7bb)]:increment(_0x3a3333),[_0x1e9dad(0x883)+_0x60460e+_0x1e9dad(0x1f3)]:_0x3a3333,[_0x1e9dad(0x883)+_0x60460e+'.isScored']:!![]});}});_0x337354&&_0x3a11cd[_0x434da1(0x4e6)]()[_0x434da1(0x2bb)](_0x227c31=>console['error'](_0x434da1(0x30d),_0x227c31));lastRenderedAdminQuestionIndex!==_0x2995b1&&(showAdminLiveQuestionView(_0x4c3ebb,_0x2995b1,currentQuizData['questions'][_0x434da1(0x412)]),lastRenderedAdminQuestionIndex=_0x2995b1);const _0x409b17=_0x1554c8[_0x434da1(0x805)]||{},_0x38d20a=Object[_0x434da1(0x132)](_0x409b17)[_0x434da1(0x850)](_0xa072d9=>_0xa072d9[_0x434da1(0x8cb)]===_0x434da1(0xe3)),_0x30a8dd=_0x38d20a['length'],_0x53ace1=_0x38d20a[_0x434da1(0x850)](_0x51a8ad=>_0x51a8ad[_0x434da1(0x4ea)]===!![])[_0x434da1(0x412)],_0x25ed4c=document['getElementById'](_0x434da1(0x51c));if(_0x25ed4c)_0x25ed4c['textContent']=_0x53ace1+'/'+_0x30a8dd;const _0x5ee4bd=document['getElementById']('live-player-list');if(_0x5ee4bd){let _0x25f3e5=Object[_0x434da1(0x142)](_0x409b17)[_0x434da1(0x850)](([_0x181bdf,_0x33fc6f])=>_0x33fc6f[_0x434da1(0x8cb)]===_0x434da1(0xe3))[_0x434da1(0x79a)](([_0x592848,_0x1af937])=>{const _0x2aab6c=_0x434da1,_0x3a35c6=_0x1af937[_0x2aab6c(0x4ea)]===!![],_0x348c6b=_0x3a35c6?'bg-green-500':_0x2aab6c(0x78b),_0x4ef716=_0x3a35c6?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x2aab6c(0x611);return _0x2aab6c(0x5c8)+_0x348c6b+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4ef716+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x592848+_0x2aab6c(0x579)+_0x592848+_0x2aab6c(0x7da);})[_0x434da1(0x6f4)]('');_0x5ee4bd[_0x434da1(0x373)]=_0x25f3e5||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x30a8dd>0x0&&_0x53ace1===_0x30a8dd&&revealAnswerForAdmin(_0x2995b1,currentQuizData[_0x434da1(0x7f5)]['length']);}else{const _0x4b639b=_0x1554c8[_0x434da1(0x805)][currentStudentName];_0x4b639b&&!_0x4b639b[_0x434da1(0x4ea)]&&showStudentLiveQuestionView(_0x4c3ebb,_0x2995b1,currentQuizData['questions'][_0x434da1(0x412)]);}break;}}break;case _0x434da1(0x5c2):showPodiumView(_0x1554c8['players']);break;}});}async function handleKickPlayer(_0x56673b){const _0x18c4cb=_0x411d30;if(!currentLiveGameId||!_0x56673b)return;const _0x5f02f2=doc(db,_0x18c4cb(0x6c8)+appId+_0x18c4cb(0x90e),currentLiveGameId),_0x45ee58={};_0x45ee58[_0x18c4cb(0x883)+_0x56673b+_0x18c4cb(0x629)]=_0x18c4cb(0x69d);try{await updateDoc(_0x5f02f2,_0x45ee58);}catch(_0xdf3ad3){console[_0x18c4cb(0x735)](_0x18c4cb(0x2e8)+_0x56673b+':',_0xdf3ad3),showMessage(_0x18c4cb(0x6aa));}}async function authenticateUser(){const _0x3ac459=_0x411d30;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x553c18){console[_0x3ac459(0x735)](_0x3ac459(0x67a),_0x553c18),showMessage(_0x3ac459(0x269));}}function showView(_0x218b68){const _0x1fa071=_0x411d30,_0x270da5=[_0x1fa071(0x8ac),_0x1fa071(0x1e5),_0x1fa071(0x4bd),_0x1fa071(0x21f),_0x1fa071(0x44b),_0x1fa071(0x616),_0x1fa071(0x770)];_0x270da5['forEach'](_0x29115a=>document['getElementById'](_0x29115a)?.['classList'][_0x1fa071(0x483)](_0x1fa071(0x62f)));if(_0x218b68===_0x1fa071(0x559))adminView[_0x1fa071(0x5aa)][_0x1fa071(0x395)](_0x1fa071(0x62f)),projectDashboardView[_0x1fa071(0x5aa)][_0x1fa071(0x395)](_0x1fa071(0x62f));else{if(_0x218b68==='student')studentView['classList']['remove'](_0x1fa071(0x62f)),studentInitialView[_0x1fa071(0x5aa)][_0x1fa071(0x395)](_0x1fa071(0x62f)),studentNameSelectionView[_0x1fa071(0x5aa)][_0x1fa071(0x483)]('hidden'),studentQuizArea[_0x1fa071(0x5aa)]['add'](_0x1fa071(0x62f)),studentResultArea[_0x1fa071(0x5aa)][_0x1fa071(0x483)](_0x1fa071(0x62f)),studentReadingArea[_0x1fa071(0x5aa)][_0x1fa071(0x483)]('hidden'),studentJoinGameView[_0x1fa071(0x5aa)][_0x1fa071(0x483)](_0x1fa071(0x62f));else{if(_0x218b68===_0x1fa071(0x653))adminView[_0x1fa071(0x5aa)]['remove']('hidden'),projectDetailView[_0x1fa071(0x5aa)][_0x1fa071(0x395)](_0x1fa071(0x62f));else{if(_0x218b68==='quiz-results')adminView[_0x1fa071(0x5aa)]['remove'](_0x1fa071(0x62f)),quizResultsView[_0x1fa071(0x5aa)]['remove'](_0x1fa071(0x62f));else _0x218b68===_0x1fa071(0x70a)&&liveGameView['classList'][_0x1fa071(0x395)](_0x1fa071(0x62f));}}}}function showJoinGameView(){const _0x40fbe8=_0x411d30;studentInitialView[_0x40fbe8(0x5aa)][_0x40fbe8(0x483)](_0x40fbe8(0x62f)),studentJoinGameView[_0x40fbe8(0x5aa)][_0x40fbe8(0x395)](_0x40fbe8(0x62f));}async function handleSaveVisibilitySettings(){const _0x55dd5b=_0x411d30;if(!currentProjectId)return;const _0x321ddc=doc(db,_0x55dd5b(0x6c8)+appId+_0x55dd5b(0x5b2),currentProjectId);try{await updateDoc(_0x321ddc,{'settings.showInStudentDashboard':document['getElementById'](_0x55dd5b(0x53e))['checked'],'settings.isPasscodeEnabled':document[_0x55dd5b(0x2da)]('enable-passcode-checkbox')[_0x55dd5b(0x81a)],'settings.passcode':document[_0x55dd5b(0x2da)]('project-passcode-input')[_0x55dd5b(0x5b4)][_0x55dd5b(0x4b3)]()}),showMessage(_0x55dd5b(0x1e6));}catch(_0x22c96e){console[_0x55dd5b(0x735)](_0x55dd5b(0x26a),_0x22c96e),showMessage(_0x55dd5b(0x446));}}function setupEventListeners(){const _0x3cb8f5=_0x411d30,_0x344ccc=document['getElementById'](_0x3cb8f5(0x616));_0x344ccc[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),_0x332887=>{const _0x5d6503=_0x3cb8f5,_0xd92098=_0x332887[_0x5d6503(0x7cd)][_0x5d6503(0x588)](_0x5d6503(0x620));document[_0x5d6503(0x7ea)](_0x5d6503(0x809))[_0x5d6503(0x65f)](_0x413dcd=>{const _0x2a0335=_0x5d6503;(!_0xd92098||_0x413dcd['id']!==_0xd92098[_0x2a0335(0x5a1)]['tooltipTarget'])&&_0x413dcd[_0x2a0335(0x5aa)][_0x2a0335(0x395)](_0x2a0335(0x7c7));});if(!_0xd92098)return;const _0x299241=_0xd92098[_0x5d6503(0x5a1)][_0x5d6503(0x738)],_0x3aff5e=document[_0x5d6503(0x2da)](_0x299241);_0x3aff5e&&_0x3aff5e['classList'][_0x5d6503(0x778)](_0x5d6503(0x7c7));}),_0x344ccc[_0x3cb8f5(0x381)]('click',_0x240379=>{const _0x4cddc8=_0x3cb8f5;if(_0x240379[_0x4cddc8(0x7cd)][_0x4cddc8(0x5aa)][_0x4cddc8(0x3ac)](_0x4cddc8(0x4cd))){const _0x5cae3e=_0x240379[_0x4cddc8(0x7cd)][_0x4cddc8(0x5a1)][_0x4cddc8(0x6fe)];_0x5cae3e&&handleKickPlayer(_0x5cae3e);}}),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x8b5))[_0x3cb8f5(0x381)](_0x3cb8f5(0x57e),()=>document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x2ac))[_0x3cb8f5(0x5aa)]['remove'](_0x3cb8f5(0x62f))),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x2ac))['addEventListener'](_0x3cb8f5(0x302),handleSaveProjectName),document[_0x3cb8f5(0x2da)]('project-title')[_0x3cb8f5(0x381)](_0x3cb8f5(0x1d3),_0x45fd6f=>{const _0x36747f=_0x3cb8f5;_0x45fd6f['key']===_0x36747f(0x41b)&&(_0x45fd6f[_0x36747f(0x6bc)](),_0x45fd6f[_0x36747f(0x7cd)]['blur'](),handleSaveProjectName());}),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x90a))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>{const _0x6bad95=_0x3cb8f5;document[_0x6bad95(0x2da)]('bulk-quiz-settings-modal')[_0x6bad95(0x5aa)][_0x6bad95(0x395)](_0x6bad95(0x62f));}),document[_0x3cb8f5(0x2da)]('cancel-bulk-quiz-settings-btn')[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>{const _0xad2694=_0x3cb8f5;document[_0xad2694(0x2da)](_0xad2694(0x3b4))[_0xad2694(0x5aa)][_0xad2694(0x483)](_0xad2694(0x62f));}),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x747))['addEventListener']('click',handleBulkUpdateQuizSettings),document[_0x3cb8f5(0x2da)]('mode-switcher-btn')['addEventListener']('click',handleModeSwitch),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x396))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),handleUpdateOldQuizzes),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x8f0))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),handleResetProjectOrder),document['getElementById'](_0x3cb8f5(0x224))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),handleSaveVisibilitySettings),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x5bc))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),handleAddCustomMathTopic),document[_0x3cb8f5(0x2da)]('select-all-topics-btn')[_0x3cb8f5(0x381)]('click',handleSelectAllTopics),document['getElementById'](_0x3cb8f5(0x1d8))['addEventListener'](_0x3cb8f5(0x302),handleDeselectAllTopics),document[_0x3cb8f5(0x2da)]('back-to-dashboard-btn')[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x22c))['addEventListener'](_0x3cb8f5(0x302),()=>{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x571))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>{const _0x5ca6c3=_0x3cb8f5;showView(_0x5ca6c3(0x559));}),document['getElementById']('modal-close-btn')[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>{const _0x49de5b=_0x3cb8f5;messageModal[_0x49de5b(0x5aa)][_0x49de5b(0x483)](_0x49de5b(0x62f)),typeof modalConfirmAction===_0x49de5b(0x236)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x2e2))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>createProjectModal[_0x3cb8f5(0x5aa)][_0x3cb8f5(0x395)](_0x3cb8f5(0x62f))),document['getElementById'](_0x3cb8f5(0x467))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>createProjectModal[_0x3cb8f5(0x5aa)]['add'](_0x3cb8f5(0x62f))),document[_0x3cb8f5(0x2da)]('cancel-admin-login-btn')['addEventListener'](_0x3cb8f5(0x302),()=>adminPasswordModal[_0x3cb8f5(0x5aa)][_0x3cb8f5(0x483)](_0x3cb8f5(0x62f))),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x71d))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),handleAdminLogin),document[_0x3cb8f5(0x2da)]('admin-password-input')[_0x3cb8f5(0x381)](_0x3cb8f5(0x839),_0x783f9b=>{const _0x40170d=_0x3cb8f5;if(_0x783f9b[_0x40170d(0x69c)]==='Enter')handleAdminLogin();}),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x371))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>{const _0x431bc3=_0x3cb8f5;confirmationModal[_0x431bc3(0x5aa)][_0x431bc3(0x483)](_0x431bc3(0x62f)),confirmAction=null;}),document['getElementById'](_0x3cb8f5(0x720))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>{const _0x1086bd=_0x3cb8f5;confirmAction&&confirmAction(),confirmationModal['classList'][_0x1086bd(0x483)](_0x1086bd(0x62f)),confirmAction=null;}),document[_0x3cb8f5(0x2da)]('cancel-rename-quiz-btn')['addEventListener'](_0x3cb8f5(0x302),()=>renameQuizModal[_0x3cb8f5(0x5aa)][_0x3cb8f5(0x483)](_0x3cb8f5(0x62f))),document[_0x3cb8f5(0x2da)]('confirm-rename-quiz-btn')[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),confirmRenameQuiz),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x761))[_0x3cb8f5(0x381)]('click',()=>moveQuizModal[_0x3cb8f5(0x5aa)][_0x3cb8f5(0x483)]('hidden')),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x2a8))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),confirmMoveQuiz),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x776))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>quizSettingsModal['classList'][_0x3cb8f5(0x483)](_0x3cb8f5(0x62f))),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x2d2))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),confirmQuizSettings),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x481))['addEventListener'](_0x3cb8f5(0x302),()=>quizStatusModal[_0x3cb8f5(0x5aa)][_0x3cb8f5(0x483)](_0x3cb8f5(0x62f))),document[_0x3cb8f5(0x2da)]('confirm-quiz-status-btn')[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),confirmQuizStatus);const _0x73c5ec=document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x8aa));document[_0x3cb8f5(0x2da)]('cancel-export-pdf-btn')[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>{const _0x2b4dd7=_0x3cb8f5;_0x73c5ec[_0x2b4dd7(0x5aa)]['add'](_0x2b4dd7(0x62f));}),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x87f))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),async()=>{const _0x994d19=_0x3cb8f5,_0x541751=allQuizzes['find'](_0x392792=>_0x392792['id']===actionTargetId);_0x541751?(currentQuizData=_0x541751,exportQuizAsWorksheetPDF()):showMessage(_0x994d19(0x6d0)),_0x73c5ec[_0x994d19(0x5aa)]['add'](_0x994d19(0x62f));}),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x3c7))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),async()=>{const _0x2e7909=_0x3cb8f5,_0x4d4985=allQuizzes[_0x2e7909(0x151)](_0x23550c=>_0x23550c['id']===actionTargetId);_0x4d4985?(currentQuizData=_0x4d4985,exportQuizAsTutorPDF()):showMessage(_0x2e7909(0x6d0)),_0x73c5ec['classList'][_0x2e7909(0x483)]('hidden');}),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x22f))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),openGlobalLiveModal),document[_0x3cb8f5(0x2da)]('cancel-global-live-btn')['addEventListener'](_0x3cb8f5(0x302),()=>{const _0x331ee=_0x3cb8f5;document[_0x331ee(0x2da)](_0x331ee(0x7e2))[_0x331ee(0x5aa)][_0x331ee(0x483)]('hidden'),selectedGlobalQuizId=null;}),document['getElementById'](_0x3cb8f5(0x67b))['addEventListener'](_0x3cb8f5(0x679),_0x30ca45=>renderGlobalQuizList(_0x30ca45[_0x3cb8f5(0x7cd)][_0x3cb8f5(0x5b4)])),document['getElementById'](_0x3cb8f5(0x1bc))[_0x3cb8f5(0x381)]('click',()=>{const _0x462aae=_0x3cb8f5,_0x384558=selectedGlobalQuizId;if(!_0x384558)return;document[_0x462aae(0x2da)]('global-live-game-modal')[_0x462aae(0x5aa)]['add'](_0x462aae(0x62f)),handleStartLiveRace(_0x384558);}),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x1fb))[_0x3cb8f5(0x381)](_0x3cb8f5(0x679),renderProjects),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x31e))['addEventListener']('change',async()=>{const _0x2507a9=_0x3cb8f5,_0x4cb7de=document['getElementById'](_0x2507a9(0x31e))[_0x2507a9(0x5b4)],_0x42c58c=doc(db,_0x2507a9(0xf4),'dashboardConfig');try{await setDoc(_0x42c58c,{'projectSort':_0x4cb7de},{'merge':!![]});}catch(_0x41972f){console[_0x2507a9(0x735)]('Error\x20updating\x20sort\x20preference:',_0x41972f),showMessage(_0x2507a9(0x197));}}),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x63e))[_0x3cb8f5(0x381)](_0x3cb8f5(0x679),renderQuizzes),document[_0x3cb8f5(0x2da)]('grid-view-btn')[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>{const _0x161973=_0x3cb8f5;globalDashboardSettings['projectView']=_0x161973(0x602),saveUserPreference(_0x161973(0x697),_0x161973(0x602)),renderProjects();}),document[_0x3cb8f5(0x2da)]('list-view-btn')[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>{const _0x472b36=_0x3cb8f5;globalDashboardSettings[_0x472b36(0x697)]=_0x472b36(0x598),saveUserPreference(_0x472b36(0x697),'list'),renderProjects();}),manageTab['addEventListener'](_0x3cb8f5(0x302),()=>switchProjectTab(_0x3cb8f5(0x490))),resultsTab['addEventListener'](_0x3cb8f5(0x302),()=>switchProjectTab(_0x3cb8f5(0x537))),leaderboardTab[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>switchProjectTab(_0x3cb8f5(0x36f))),document['getElementById']('analytics-tab-btn')[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>switchQuizDetailTab(_0x3cb8f5(0x473))),document['getElementById']('scores-tab-btn')['addEventListener'](_0x3cb8f5(0x302),()=>switchQuizDetailTab('scores')),document['getElementById'](_0x3cb8f5(0x808))['addEventListener']('click',()=>switchQuizDetailTab('leaderboard-quiz')),document['getElementById'](_0x3cb8f5(0x2c0))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>switchQuizDetailTab(_0x3cb8f5(0x517))),document[_0x3cb8f5(0x2da)]('analyze-strengths-btn')['addEventListener'](_0x3cb8f5(0x302),handleAnalyzeClass),generateWorksheetBtn[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),generateWorksheet);const _0x20da11=document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x871)),_0x3b5abb=document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x6e5)),_0x48bd4a=document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x15d)),_0x127324=document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x40f)),_0xa47399=document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x2f6)),_0xc267f6=document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x18d));topicTab[_0x3cb8f5(0x381)]('click',()=>{const _0x1d33d0=_0x3cb8f5;topicTab['classList']['add'](_0x1d33d0(0xe3)),textTab[_0x1d33d0(0x5aa)][_0x1d33d0(0x395)](_0x1d33d0(0xe3)),fileTab['classList'][_0x1d33d0(0x395)](_0x1d33d0(0xe3)),worksheetTab['classList'][_0x1d33d0(0x395)]('active');if(_0x20da11)_0x20da11[_0x1d33d0(0x5aa)][_0x1d33d0(0x395)](_0x1d33d0(0xe3));if(_0x48bd4a)_0x48bd4a['classList']['remove'](_0x1d33d0(0xe3));if(_0xa47399)_0xa47399[_0x1d33d0(0x5aa)][_0x1d33d0(0x395)](_0x1d33d0(0xe3));topicInputArea[_0x1d33d0(0x5aa)][_0x1d33d0(0x395)](_0x1d33d0(0x62f)),textInputArea['classList']['add']('hidden'),fileInputArea['classList'][_0x1d33d0(0x483)](_0x1d33d0(0x62f)),worksheetInputArea[_0x1d33d0(0x5aa)][_0x1d33d0(0x483)](_0x1d33d0(0x62f));if(_0x3b5abb)_0x3b5abb[_0x1d33d0(0x5aa)][_0x1d33d0(0x483)](_0x1d33d0(0x62f));if(_0x127324)_0x127324[_0x1d33d0(0x5aa)][_0x1d33d0(0x483)]('hidden');if(_0xc267f6)_0xc267f6['classList']['add'](_0x1d33d0(0x62f));}),textTab[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>{const _0x58f00d=_0x3cb8f5;textTab[_0x58f00d(0x5aa)][_0x58f00d(0x483)](_0x58f00d(0xe3)),topicTab[_0x58f00d(0x5aa)][_0x58f00d(0x395)](_0x58f00d(0xe3)),fileTab['classList'][_0x58f00d(0x395)](_0x58f00d(0xe3)),worksheetTab[_0x58f00d(0x5aa)][_0x58f00d(0x395)]('active');if(_0x20da11)_0x20da11[_0x58f00d(0x5aa)][_0x58f00d(0x395)](_0x58f00d(0xe3));if(_0x48bd4a)_0x48bd4a[_0x58f00d(0x5aa)]['remove'](_0x58f00d(0xe3));if(_0xa47399)_0xa47399[_0x58f00d(0x5aa)][_0x58f00d(0x395)]('active');textInputArea[_0x58f00d(0x5aa)]['remove']('hidden'),topicInputArea[_0x58f00d(0x5aa)][_0x58f00d(0x483)](_0x58f00d(0x62f)),fileInputArea[_0x58f00d(0x5aa)][_0x58f00d(0x483)]('hidden'),worksheetInputArea[_0x58f00d(0x5aa)][_0x58f00d(0x483)](_0x58f00d(0x62f));if(_0x3b5abb)_0x3b5abb[_0x58f00d(0x5aa)][_0x58f00d(0x483)](_0x58f00d(0x62f));if(_0x127324)_0x127324['classList']['add'](_0x58f00d(0x62f));if(_0xc267f6)_0xc267f6[_0x58f00d(0x5aa)][_0x58f00d(0x483)](_0x58f00d(0x62f));}),fileTab[_0x3cb8f5(0x381)]('click',()=>{const _0x392c43=_0x3cb8f5;fileTab[_0x392c43(0x5aa)][_0x392c43(0x483)](_0x392c43(0xe3)),topicTab[_0x392c43(0x5aa)][_0x392c43(0x395)](_0x392c43(0xe3)),textTab['classList'][_0x392c43(0x395)](_0x392c43(0xe3)),worksheetTab['classList'][_0x392c43(0x395)](_0x392c43(0xe3));if(_0x20da11)_0x20da11[_0x392c43(0x5aa)][_0x392c43(0x395)]('active');if(_0x48bd4a)_0x48bd4a[_0x392c43(0x5aa)][_0x392c43(0x395)]('active');if(_0xa47399)_0xa47399[_0x392c43(0x5aa)]['remove'](_0x392c43(0xe3));fileInputArea['classList'][_0x392c43(0x395)](_0x392c43(0x62f)),topicInputArea[_0x392c43(0x5aa)][_0x392c43(0x483)]('hidden'),textInputArea['classList'][_0x392c43(0x483)](_0x392c43(0x62f)),worksheetInputArea[_0x392c43(0x5aa)]['add'](_0x392c43(0x62f));if(_0x3b5abb)_0x3b5abb[_0x392c43(0x5aa)]['add'](_0x392c43(0x62f));if(_0x127324)_0x127324[_0x392c43(0x5aa)][_0x392c43(0x483)](_0x392c43(0x62f));if(_0xc267f6)_0xc267f6['classList'][_0x392c43(0x483)](_0x392c43(0x62f));}),worksheetTab[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>{const _0x3265e1=_0x3cb8f5;worksheetTab[_0x3265e1(0x5aa)][_0x3265e1(0x483)](_0x3265e1(0xe3)),topicTab[_0x3265e1(0x5aa)][_0x3265e1(0x395)](_0x3265e1(0xe3)),textTab[_0x3265e1(0x5aa)][_0x3265e1(0x395)](_0x3265e1(0xe3)),fileTab[_0x3265e1(0x5aa)][_0x3265e1(0x395)](_0x3265e1(0xe3));if(_0x20da11)_0x20da11[_0x3265e1(0x5aa)][_0x3265e1(0x395)]('active');if(_0x48bd4a)_0x48bd4a[_0x3265e1(0x5aa)][_0x3265e1(0x395)](_0x3265e1(0xe3));if(_0xa47399)_0xa47399[_0x3265e1(0x5aa)][_0x3265e1(0x395)](_0x3265e1(0xe3));worksheetInputArea[_0x3265e1(0x5aa)][_0x3265e1(0x395)](_0x3265e1(0x62f)),topicInputArea['classList'][_0x3265e1(0x483)]('hidden'),textInputArea['classList'][_0x3265e1(0x483)](_0x3265e1(0x62f)),fileInputArea['classList'][_0x3265e1(0x483)]('hidden');if(_0x3b5abb)_0x3b5abb['classList']['add'](_0x3265e1(0x62f));if(_0x127324)_0x127324[_0x3265e1(0x5aa)][_0x3265e1(0x483)](_0x3265e1(0x62f));if(_0xc267f6)_0xc267f6[_0x3265e1(0x5aa)][_0x3265e1(0x483)](_0x3265e1(0x62f));});const _0x125ab0=document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x362)),_0x2a372f=document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x686));_0x125ab0&&_0x125ab0['addEventListener'](_0x3cb8f5(0x302),()=>{const _0x1bc937=_0x3cb8f5;topicTab[_0x1bc937(0x5aa)][_0x1bc937(0x395)]('active'),textTab['classList'][_0x1bc937(0x395)](_0x1bc937(0xe3)),fileTab[_0x1bc937(0x5aa)][_0x1bc937(0x395)](_0x1bc937(0xe3)),worksheetTab[_0x1bc937(0x5aa)][_0x1bc937(0x395)](_0x1bc937(0xe3));if(_0x20da11)_0x20da11[_0x1bc937(0x5aa)][_0x1bc937(0x395)](_0x1bc937(0xe3));if(_0x48bd4a)_0x48bd4a[_0x1bc937(0x5aa)]['remove'](_0x1bc937(0xe3));if(_0xa47399)_0xa47399[_0x1bc937(0x5aa)]['remove'](_0x1bc937(0xe3));_0x125ab0[_0x1bc937(0x5aa)][_0x1bc937(0x483)]('active'),topicInputArea['classList']['add'](_0x1bc937(0x62f)),textInputArea[_0x1bc937(0x5aa)][_0x1bc937(0x483)]('hidden'),fileInputArea[_0x1bc937(0x5aa)]['add'](_0x1bc937(0x62f)),worksheetInputArea[_0x1bc937(0x5aa)]['add'](_0x1bc937(0x62f));if(_0x3b5abb)_0x3b5abb[_0x1bc937(0x5aa)][_0x1bc937(0x483)](_0x1bc937(0x62f));if(_0x127324)_0x127324[_0x1bc937(0x5aa)][_0x1bc937(0x483)](_0x1bc937(0x62f));if(_0xc267f6)_0xc267f6['classList'][_0x1bc937(0x483)]('hidden');_0x2a372f[_0x1bc937(0x5aa)][_0x1bc937(0x395)]('hidden'),displayQuestionBank();});_0x20da11&&(_0x20da11[_0x3cb8f5(0x381)]('click',()=>{const _0x3e5226=_0x3cb8f5;_0x20da11[_0x3e5226(0x5aa)][_0x3e5226(0x483)]('active'),topicTab['classList'][_0x3e5226(0x395)]('active'),textTab[_0x3e5226(0x5aa)][_0x3e5226(0x395)](_0x3e5226(0xe3)),fileTab[_0x3e5226(0x5aa)][_0x3e5226(0x395)](_0x3e5226(0xe3)),worksheetTab[_0x3e5226(0x5aa)][_0x3e5226(0x395)](_0x3e5226(0xe3));if(_0x48bd4a)_0x48bd4a['classList'][_0x3e5226(0x395)](_0x3e5226(0xe3));if(_0xa47399)_0xa47399[_0x3e5226(0x5aa)][_0x3e5226(0x395)](_0x3e5226(0xe3));_0x3b5abb[_0x3e5226(0x5aa)]['remove']('hidden'),topicInputArea[_0x3e5226(0x5aa)][_0x3e5226(0x483)](_0x3e5226(0x62f)),textInputArea[_0x3e5226(0x5aa)]['add'](_0x3e5226(0x62f)),fileInputArea[_0x3e5226(0x5aa)]['add'](_0x3e5226(0x62f)),worksheetInputArea[_0x3e5226(0x5aa)]['add'](_0x3e5226(0x62f));if(_0x127324)_0x127324[_0x3e5226(0x5aa)]['add']('hidden');if(_0xc267f6)_0xc267f6[_0x3e5226(0x5aa)][_0x3e5226(0x483)](_0x3e5226(0x62f));}),document['getElementById'](_0x3cb8f5(0x5c4))[_0x3cb8f5(0x381)]('click',handleGenerateFromLink));_0x48bd4a&&_0x48bd4a[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>{const _0x4c0c6b=_0x3cb8f5;_0x48bd4a[_0x4c0c6b(0x5aa)][_0x4c0c6b(0x483)]('active'),topicTab[_0x4c0c6b(0x5aa)]['remove'](_0x4c0c6b(0xe3)),textTab[_0x4c0c6b(0x5aa)]['remove']('active'),fileTab[_0x4c0c6b(0x5aa)][_0x4c0c6b(0x395)]('active'),worksheetTab[_0x4c0c6b(0x5aa)][_0x4c0c6b(0x395)](_0x4c0c6b(0xe3));if(_0x20da11)_0x20da11['classList'][_0x4c0c6b(0x395)](_0x4c0c6b(0xe3));if(_0x125ab0)_0x125ab0[_0x4c0c6b(0x5aa)][_0x4c0c6b(0x395)]('active');if(_0xa47399)_0xa47399[_0x4c0c6b(0x5aa)][_0x4c0c6b(0x395)](_0x4c0c6b(0xe3));_0x127324[_0x4c0c6b(0x5aa)][_0x4c0c6b(0x395)]('hidden'),topicInputArea[_0x4c0c6b(0x5aa)][_0x4c0c6b(0x483)](_0x4c0c6b(0x62f)),textInputArea['classList']['add'](_0x4c0c6b(0x62f)),fileInputArea[_0x4c0c6b(0x5aa)][_0x4c0c6b(0x483)](_0x4c0c6b(0x62f)),worksheetInputArea[_0x4c0c6b(0x5aa)][_0x4c0c6b(0x483)](_0x4c0c6b(0x62f));if(_0x3b5abb)_0x3b5abb[_0x4c0c6b(0x5aa)][_0x4c0c6b(0x483)](_0x4c0c6b(0x62f));if(_0x2a372f)_0x2a372f[_0x4c0c6b(0x5aa)][_0x4c0c6b(0x483)](_0x4c0c6b(0x62f));if(_0xc267f6)_0xc267f6[_0x4c0c6b(0x5aa)]['add']('hidden');});_0xa47399&&_0xa47399[_0x3cb8f5(0x381)]('click',()=>{const _0x357f8a=_0x3cb8f5;_0xa47399['classList']['add']('active'),topicTab[_0x357f8a(0x5aa)][_0x357f8a(0x395)](_0x357f8a(0xe3)),textTab[_0x357f8a(0x5aa)][_0x357f8a(0x395)](_0x357f8a(0xe3)),fileTab['classList'][_0x357f8a(0x395)](_0x357f8a(0xe3)),worksheetTab[_0x357f8a(0x5aa)]['remove'](_0x357f8a(0xe3));if(_0x20da11)_0x20da11[_0x357f8a(0x5aa)][_0x357f8a(0x395)](_0x357f8a(0xe3));if(_0x48bd4a)_0x48bd4a[_0x357f8a(0x5aa)][_0x357f8a(0x395)](_0x357f8a(0xe3));if(_0x125ab0)_0x125ab0[_0x357f8a(0x5aa)]['remove'](_0x357f8a(0xe3));_0xc267f6[_0x357f8a(0x5aa)]['remove'](_0x357f8a(0x62f)),topicInputArea[_0x357f8a(0x5aa)][_0x357f8a(0x483)](_0x357f8a(0x62f)),textInputArea['classList']['add'](_0x357f8a(0x62f)),fileInputArea[_0x357f8a(0x5aa)][_0x357f8a(0x483)]('hidden'),worksheetInputArea[_0x357f8a(0x5aa)][_0x357f8a(0x483)](_0x357f8a(0x62f));if(_0x3b5abb)_0x3b5abb[_0x357f8a(0x5aa)]['add'](_0x357f8a(0x62f));if(_0x127324)_0x127324[_0x357f8a(0x5aa)][_0x357f8a(0x483)]('hidden');if(_0x2a372f)_0x2a372f['classList'][_0x357f8a(0x483)]('hidden');});const _0x5c78bd=document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x1b0)),_0x20a09c=document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x4f3));_0x5c78bd&&_0x5c78bd[_0x3cb8f5(0x381)]('change',_0x3d6259=>{const _0x2f4176=_0x3cb8f5;_0x3d6259[_0x2f4176(0x7cd)][_0x2f4176(0x330)][_0x2f4176(0x412)]>0x0?_0x20a09c[_0x2f4176(0x502)]=![]:_0x20a09c['disabled']=!![];});_0x20a09c&&_0x20a09c[_0x3cb8f5(0x381)]('click',handleGenerateFromBlueprint);const _0x57e5bc=document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x3c9)),_0xc1e5eb=document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x529));_0x57e5bc&&_0x57e5bc[_0x3cb8f5(0x381)](_0x3cb8f5(0x59b),_0x12b19b=>{const _0x6b37b0=_0x3cb8f5;_0xc1e5eb[_0x6b37b0(0x502)]=_0x12b19b[_0x6b37b0(0x7cd)][_0x6b37b0(0x330)][_0x6b37b0(0x412)]===0x0;});_0xc1e5eb&&_0xc1e5eb['addEventListener']('click',handleGenerateParallelTest);loadQuizBtn['addEventListener'](_0x3cb8f5(0x302),handleLoadQuiz),startQuizBtn[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),async()=>{const _0x5c1e9e=_0x3cb8f5,_0x216ff3=document[_0x5c1e9e(0x2da)](_0x5c1e9e(0x71a));currentStudentName=_0x216ff3['value'];if(!currentStudentName){showMessage(_0x5c1e9e(0x33f));return;}try{const _0x42df29=currentQuizData['id'],_0x2923f7=doc(db,'artifacts/'+appId+_0x5c1e9e(0x29f)+_0x42df29+_0x5c1e9e(0x75f),currentStudentName);await setDoc(_0x2923f7,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x57463e){console[_0x5c1e9e(0x735)](_0x5c1e9e(0x719),_0x57463e),showMessage(_0x5c1e9e(0xe7));return;}studentNameSelectionView[_0x5c1e9e(0x5aa)][_0x5c1e9e(0x483)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x3cb8f5(0x2da)]('join-live-game-btn')[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),showJoinGameView),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x2e5))['addEventListener'](_0x3cb8f5(0x302),handleJoinLiveGame),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x29d))['addEventListener'](_0x3cb8f5(0x302),()=>showView(_0x3cb8f5(0x3d1)));const _0x1c0ce0=()=>{const _0x850796=_0x3cb8f5,_0x4b4345=document['getElementById'](_0x850796(0x15e))[_0x850796(0x769)][_0x850796(0x4cf)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x850796(0x312)+(_0x4b4345||_0x850796(0x123));},_0x2a5be3=document[_0x3cb8f5(0x2da)]('math-topic-search-input');_0x2a5be3&&_0x2a5be3[_0x3cb8f5(0x381)](_0x3cb8f5(0x679),_0x37cf34=>{const _0x3ec2a8=_0x3cb8f5,_0x2a1fe7=_0x37cf34[_0x3ec2a8(0x7cd)][_0x3ec2a8(0x5b4)][_0x3ec2a8(0x5ff)]()[_0x3ec2a8(0x4b3)](),_0x5b0043=document[_0x3ec2a8(0x2da)]('math-topics-checkbox-container'),_0xde842=_0x5b0043[_0x3ec2a8(0x7ea)](_0x3ec2a8(0x469));_0xde842['forEach'](_0x1f8332=>{const _0x479fac=_0x3ec2a8;let _0x336d68=![];const _0x45874c=_0x1f8332['querySelectorAll'](_0x479fac(0x2aa));_0x45874c[_0x479fac(0x65f)](_0x4b6f84=>{const _0x44b5ed=_0x479fac,_0x3af825=_0x4b6f84[_0x44b5ed(0x6ce)](_0x44b5ed(0x8e6))[_0x44b5ed(0x769)][_0x44b5ed(0x5ff)]();_0x3af825[_0x44b5ed(0x411)](_0x2a1fe7)?(_0x4b6f84[_0x44b5ed(0x74e)][_0x44b5ed(0x3ce)]=_0x44b5ed(0x62d),_0x336d68=!![]):_0x4b6f84[_0x44b5ed(0x74e)][_0x44b5ed(0x3ce)]=_0x44b5ed(0x8a5);}),_0x336d68?_0x1f8332[_0x479fac(0x74e)][_0x479fac(0x3ce)]=_0x479fac(0x4df):_0x1f8332[_0x479fac(0x74e)][_0x479fac(0x3ce)]=_0x479fac(0x8a5);});});document['getElementById'](_0x3cb8f5(0x21e))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>exportTableAsImage(_0x3cb8f5(0x5cd),_0x1c0ce0())),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x1b1))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>exportTableAsPDF(_0x3cb8f5(0x297),_0x1c0ce0())),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x53f))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>exportTableAsWord('results-table-container',_0x1c0ce0())),document[_0x3cb8f5(0x2da)]('export-excel-btn')['addEventListener'](_0x3cb8f5(0x302),()=>exportTableAsExcel(_0x3cb8f5(0x297),_0x1c0ce0()));const _0x4684a9=()=>{const _0x45c675=_0x3cb8f5,_0x2dac43=document[_0x45c675(0x2da)]('results-quiz-title')[_0x45c675(0x769)][_0x45c675(0x4cf)](/[^a-z0-9]/gi,'_')[_0x45c675(0x5ff)]();return'leaderboard_'+(_0x2dac43||_0x45c675(0x123));};document['getElementById'](_0x3cb8f5(0x681))[_0x3cb8f5(0x381)]('click',()=>exportTableAsImage(_0x3cb8f5(0x582),_0x4684a9())),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x4a0))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>exportTableAsPDF(_0x3cb8f5(0x6d8),_0x4684a9())),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x7aa))[_0x3cb8f5(0x381)]('click',()=>exportTableAsWord(_0x3cb8f5(0x582),_0x4684a9())),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x444))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>exportTableAsExcel(_0x3cb8f5(0x6d8),_0x4684a9())),projectQuizzesList[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),async _0x365847=>{const _0x42c2ed=_0x3cb8f5,_0xcc46b0=_0x365847['target']['closest'](_0x42c2ed(0x228)),_0x6837c3=_0x365847['target'][_0x42c2ed(0x588)](_0x42c2ed(0x85c)),_0x229d94=_0x365847[_0x42c2ed(0x7cd)]['closest'](_0x42c2ed(0x7a9)),_0x3e916e=_0x365847[_0x42c2ed(0x7cd)][_0x42c2ed(0x588)](_0x42c2ed(0x84e)),_0x103967=_0x365847['target'][_0x42c2ed(0x588)]('.star-quiz-btn'),_0xea94e7=_0x365847[_0x42c2ed(0x7cd)]['closest'](_0x42c2ed(0x5b9)),_0x18e2bf=_0x365847[_0x42c2ed(0x7cd)]['closest'](_0x42c2ed(0x3df)),_0x856c11=_0x365847[_0x42c2ed(0x7cd)][_0x42c2ed(0x588)]('.quiz-settings-btn'),_0x354143=_0x365847[_0x42c2ed(0x7cd)][_0x42c2ed(0x588)]('.duplicate-quiz-btn'),_0x3b553f=_0x365847['target'][_0x42c2ed(0x588)]('.rename-quiz-btn'),_0x753beb=_0x365847['target'][_0x42c2ed(0x588)]('.parallel-quiz-btn'),_0x300c33=_0x365847[_0x42c2ed(0x7cd)]['closest'](_0x42c2ed(0x7bd)),_0x2571df=_0x365847[_0x42c2ed(0x7cd)]['closest'](_0x42c2ed(0x1d1)),_0x2043db=_0x365847[_0x42c2ed(0x7cd)]['closest'](_0x42c2ed(0x826)),_0x4a7679=_0x365847[_0x42c2ed(0x7cd)]['closest']('.start-presentation-list-btn'),_0x165df3=_0x365847[_0x42c2ed(0x7cd)]['closest'](_0x42c2ed(0x143)),_0xce3785=_0x365847[_0x42c2ed(0x7cd)][_0x42c2ed(0x588)]('.start-live-race-btn'),_0xc75065=_0x365847['target'][_0x42c2ed(0x588)]('.export-pdf-list-btn'),_0x5d2041=_0x365847[_0x42c2ed(0x7cd)][_0x42c2ed(0x588)](_0x42c2ed(0x416)),_0x41fb26=_0x365847['target'][_0x42c2ed(0x588)]('.quiz-status-btn'),_0x5e99cc=_0x365847[_0x42c2ed(0x7cd)]['closest']('.toggle-actions-btn'),_0x40c7d4=_0x365847[_0x42c2ed(0x7cd)][_0x42c2ed(0x588)](_0x42c2ed(0x1c1));if(_0x5e99cc){const _0x5230dd=_0x5e99cc[_0x42c2ed(0x5a1)][_0x42c2ed(0x8e0)],_0x4ab1f2=document['getElementById'](_0x42c2ed(0x1f9)+_0x5230dd);_0x4ab1f2&&_0x4ab1f2[_0x42c2ed(0x5aa)][_0x42c2ed(0x778)](_0x42c2ed(0x62f));}else{if(_0x6837c3){const _0x1b8815=_0x6837c3[_0x42c2ed(0x5a1)][_0x42c2ed(0x8e0)],_0x1d1ca3=allQuizzes[_0x42c2ed(0x151)](_0x1d8ff0=>_0x1d8ff0['id']===_0x1b8815);_0x1d1ca3&&handleGenerateParallelPostTest(_0x1d1ca3);}else{if(_0x229d94)handleCompareResults(_0x229d94[_0x42c2ed(0x5a1)]['quizId'],_0x229d94[_0x42c2ed(0x5a1)]['preTestId']);else{if(_0x3e916e){const _0x3a750e=_0x3e916e[_0x42c2ed(0x5a1)][_0x42c2ed(0x8e0)],_0x54b4f5=allQuizzes[_0x42c2ed(0x151)](_0x2b4af=>_0x2b4af['id']===_0x3a750e);_0x54b4f5&&_0x54b4f5[_0x42c2ed(0x2e6)]?(displayLessonPlan(_0x54b4f5[_0x42c2ed(0x2e6)],_0x54b4f5),showConfirmation(_0x42c2ed(0x480),()=>handleGenerateLessonPlan(_0x3a750e)),document[_0x42c2ed(0x2da)](_0x42c2ed(0x1ff))[_0x42c2ed(0x6ce)]('h3')[_0x42c2ed(0x769)]=_0x42c2ed(0x543),document[_0x42c2ed(0x2da)](_0x42c2ed(0x720))[_0x42c2ed(0x769)]='สร้างใหม่'):handleGenerateLessonPlan(_0x3a750e);}else{if(_0x103967)handleToggleStarQuiz(_0x103967[_0x42c2ed(0x5a1)][_0x42c2ed(0x8e0)]);else{if(_0xea94e7)copyTextToClipboard(_0xea94e7['dataset'][_0x42c2ed(0x8e0)],'คัดลอกรหัสแล้ว!');else{if(_0x18e2bf)handleOpenQuizEditor(_0x18e2bf[_0x42c2ed(0x5a1)][_0x42c2ed(0x8e0)]);else{if(_0x856c11)handleQuizSettings(_0x856c11[_0x42c2ed(0x5a1)][_0x42c2ed(0x8e0)]);else{if(_0x354143)handleDuplicateQuiz(_0x354143[_0x42c2ed(0x5a1)]['quizId']);else{if(_0x3b553f)handleRenameQuiz(_0x3b553f[_0x42c2ed(0x5a1)][_0x42c2ed(0x8e0)],_0x3b553f[_0x42c2ed(0x5a1)][_0x42c2ed(0x363)]);else{if(_0x753beb){const _0x495f44=_0x753beb[_0x42c2ed(0x5a1)][_0x42c2ed(0x8e0)],_0x4e4531=allQuizzes[_0x42c2ed(0x151)](_0x4a1048=>_0x4a1048['id']===_0x495f44);_0x4e4531&&handleGenerateParallelFromBank(_0x4e4531);}else{if(_0x300c33)handleMoveQuiz(_0x300c33[_0x42c2ed(0x5a1)][_0x42c2ed(0x8e0)]);else{if(_0x2571df)handleManualQuizPairing(_0x2571df[_0x42c2ed(0x5a1)][_0x42c2ed(0x8e0)]);else{if(_0x2043db)handleUnpairQuiz(_0x2043db[_0x42c2ed(0x5a1)][_0x42c2ed(0x8e0)]);else{if(_0x4a7679){const _0x762b7=_0x4a7679[_0x42c2ed(0x5a1)][_0x42c2ed(0x8e0)],_0x4d6ccc=allQuizzes[_0x42c2ed(0x151)](_0x58df56=>_0x58df56['id']===_0x762b7);if(_0x4d6ccc)startPresentation(_0x4d6ccc);}else{if(_0x165df3){const _0x4ba6d2=_0x165df3['dataset'][_0x42c2ed(0x8e0)],_0x4eb42d=allQuizzes[_0x42c2ed(0x151)](_0x5f00f8=>_0x5f00f8['id']===_0x4ba6d2);_0x4eb42d&&(currentQuizData=_0x4eb42d,startAdminTest());}else{if(_0xce3785)handleStartLiveRace(_0xce3785[_0x42c2ed(0x5a1)][_0x42c2ed(0x8e0)]);else{if(_0xc75065)actionTargetId=_0xc75065['dataset'][_0x42c2ed(0x8e0)],document[_0x42c2ed(0x2da)](_0x42c2ed(0x8aa))['classList'][_0x42c2ed(0x395)](_0x42c2ed(0x62f));else{if(_0x5d2041)showConfirmation(_0x42c2ed(0x237)+_0x5d2041[_0x42c2ed(0x5a1)][_0x42c2ed(0x363)]+_0x42c2ed(0x54b),()=>handleDeleteQuiz(_0x5d2041[_0x42c2ed(0x5a1)][_0x42c2ed(0x8e0)]));else{if(_0x41fb26)handleQuizStatus(_0x41fb26[_0x42c2ed(0x5a1)][_0x42c2ed(0x8e0)]);else{if(_0x40c7d4)handleGenerateEasyVersionQuiz(_0x40c7d4[_0x42c2ed(0x5a1)][_0x42c2ed(0x8e0)]);else _0xcc46b0&&showQuizDetailView(_0xcc46b0[_0x42c2ed(0x5a1)]['quizId']);}}}}}}}}}}}}}}}}}}}}}),document[_0x3cb8f5(0x2da)]('quiz-leaderboard-table')[_0x3cb8f5(0x6ce)](_0x3cb8f5(0x782))[_0x3cb8f5(0x381)]('click',_0xb4a432=>{const _0x211542=_0x3cb8f5,_0x579cd2=_0xb4a432['target'][_0x211542(0x588)](_0x211542(0x35f));if(!_0x579cd2||!_0x579cd2[_0x211542(0x5a1)][_0x211542(0x73c)])return;const _0x38ab2b=_0x579cd2[_0x211542(0x5a1)][_0x211542(0x73c)];if(quizLeaderboardSortBy===_0x38ab2b)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x211542(0x7e0)?_0x211542(0x1c7):_0x211542(0x7e0);else{quizLeaderboardSortBy=_0x38ab2b;const _0xddc3a=[_0x211542(0x727)];quizLeaderboardSortOrder=_0xddc3a[_0x211542(0x411)](_0x38ab2b)?_0x211542(0x7e0):_0x211542(0x1c7);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x211542(0x813));}),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x8bf))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),closePresentation),document['getElementById'](_0x3cb8f5(0x213))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x29c))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>{const _0x2c85ee=_0x3cb8f5;currentQuizData[_0x2c85ee(0x7f5)]&&currentPresentationSlide<currentQuizData['questions'][_0x2c85ee(0x412)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x3cb8f5(0x381)](_0x3cb8f5(0x788),()=>{const _0x41b4fc=_0x3cb8f5;!document[_0x41b4fc(0x692)]&&(presentationModal[_0x41b4fc(0x74e)][_0x41b4fc(0x3ce)]=_0x41b4fc(0x8a5));}),document[_0x3cb8f5(0x2da)]('delete-all-students-btn')[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),handleDeleteAllStudents),studentList[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),_0x1cc5f1=>{const _0x1264fc=_0x3cb8f5,_0x15a075=_0x1cc5f1['target'][_0x1264fc(0x588)](_0x1264fc(0x7a8));if(_0x15a075){const _0x1eac93=_0x15a075[_0x1264fc(0x5a1)][_0x1264fc(0x727)];handleDeleteStudent(_0x1eac93);}}),document['getElementById'](_0x3cb8f5(0x116))[_0x3cb8f5(0x381)]('click',handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x3cb8f5(0x59b),_0x432115=>{const _0x5aa6ef=_0x3cb8f5,_0x30efde=_0x432115[_0x5aa6ef(0x7cd)][_0x5aa6ef(0x330)][0x0],_0x5f2c06=document[_0x5aa6ef(0x2da)](_0x5aa6ef(0x116));_0x30efde?(selectedFile=_0x30efde,_0x5f2c06[_0x5aa6ef(0x502)]=![]):(selectedFile=null,_0x5f2c06['disabled']=!![]);}),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x1fa))['addEventListener'](_0x3cb8f5(0x59b),_0xc80329=>{const _0x530c7d=_0x3cb8f5,_0x1a07f2=document[_0x530c7d(0x2da)]('timer-duration-container'),_0x7b3999=document[_0x530c7d(0x2da)](_0x530c7d(0x278)),_0x1b682b=document[_0x530c7d(0x2da)](_0x530c7d(0x55f));_0xc80329['target'][_0x530c7d(0x5b4)]==='none'?_0x1a07f2['classList'][_0x530c7d(0x483)](_0x530c7d(0x62f)):(_0x1a07f2['classList'][_0x530c7d(0x395)](_0x530c7d(0x62f)),_0xc80329[_0x530c7d(0x7cd)][_0x530c7d(0x5b4)]===_0x530c7d(0x674)?(_0x7b3999[_0x530c7d(0x769)]=_0x530c7d(0x33b),_0x1b682b[_0x530c7d(0x5b4)]='10'):(_0x7b3999['textContent']=_0x530c7d(0xf8),_0x1b682b[_0x530c7d(0x5b4)]='30'));}),document['getElementById'](_0x3cb8f5(0xff))[_0x3cb8f5(0x381)](_0x3cb8f5(0x59b),_0x4218b8=>{const _0x726fe4=_0x3cb8f5,_0x1751c0=document[_0x726fe4(0x2da)](_0x726fe4(0x6c6)),_0x474432=_0x4218b8['target']['value'],_0x5372de=document['querySelector'](_0x726fe4(0x2ff)),_0x3d975b=document[_0x726fe4(0x2da)](_0x726fe4(0x7ba)),_0x364585=document[_0x726fe4(0x2da)]('num-questions');_0x474432===_0x726fe4(0x390)?_0x5372de['textContent']='จำนวนคู่:':_0x5372de[_0x726fe4(0x769)]='จำนวนข้อ:',_0x474432===_0x726fe4(0x247)||_0x474432===_0x726fe4(0x2ad)||_0x474432===_0x726fe4(0x49e)?_0x1751c0['classList'][_0x726fe4(0x395)](_0x726fe4(0x62f)):_0x1751c0[_0x726fe4(0x5aa)][_0x726fe4(0x483)]('hidden'),_0x3d975b[_0x726fe4(0x1a8)]=_0x364585[_0x726fe4(0x5b4)];}),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x397))[_0x3cb8f5(0x381)](_0x3cb8f5(0x679),_0x5af336=>{const _0x54e0a3=_0x3cb8f5;document['getElementById'](_0x54e0a3(0x7ba))[_0x54e0a3(0x1a8)]=_0x5af336[_0x54e0a3(0x7cd)][_0x54e0a3(0x5b4)];}),document['getElementById'](_0x3cb8f5(0x466))['addEventListener'](_0x3cb8f5(0x59b),_0x3a367f=>{const _0xed17a1=_0x3cb8f5,_0x139d2b=document[_0xed17a1(0x2da)](_0xed17a1(0x802)),_0x2e7905=document[_0xed17a1(0x2da)]('modal-timer-duration-label'),_0x177291=document['getElementById']('modal-timer-duration-input');_0x3a367f[_0xed17a1(0x7cd)][_0xed17a1(0x5b4)]==='none'?_0x139d2b[_0xed17a1(0x5aa)][_0xed17a1(0x483)](_0xed17a1(0x62f)):(_0x139d2b[_0xed17a1(0x5aa)][_0xed17a1(0x395)](_0xed17a1(0x62f)),_0x3a367f[_0xed17a1(0x7cd)]['value']===_0xed17a1(0x674)?_0x2e7905[_0xed17a1(0x769)]='ระยะเวลา\x20(นาที):':_0x2e7905[_0xed17a1(0x769)]=_0xed17a1(0xf8));}),document['getElementById'](_0x3cb8f5(0xec))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>{const _0x3f95b6=_0x3cb8f5;document[_0x3f95b6(0x2da)](_0x3f95b6(0x7e7))[_0x3f95b6(0x5aa)][_0x3f95b6(0x483)](_0x3f95b6(0x62f));}),document['getElementById'](_0x3cb8f5(0x909))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>{const _0xd8b700=_0x3cb8f5;document[_0xd8b700(0x2da)]('quiz-editor-modal')[_0xd8b700(0x5aa)][_0xd8b700(0x483)](_0xd8b700(0x62f));}),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x5d6))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),handleVerifyAnswersInEditor),document['getElementById'](_0x3cb8f5(0x60b))[_0x3cb8f5(0x381)]('click',()=>{const _0x522d02=_0x3cb8f5;document[_0x522d02(0x2da)]('quiz-editor-modal')[_0x522d02(0x5aa)]['add']('hidden'),showConfirmation(_0x522d02(0x890),handleSaveChanges);}),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x410))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),handleAutoFixLatex);const _0x3a3787=document['getElementById'](_0x3cb8f5(0x17a));_0x3a3787&&_0x3a3787[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),_0x946549=>{const _0x3dc1e2=_0x3cb8f5,_0x13f002=_0x946549['target']['closest'](_0x3dc1e2(0x6c0)),_0x3964da=_0x946549[_0x3dc1e2(0x7cd)][_0x3dc1e2(0x588)](_0x3dc1e2(0x379));if(_0x13f002){const _0x10f943=_0x13f002[_0x3dc1e2(0x588)]('.question-editor-item'),_0x1fb808=parseInt(_0x10f943[_0x3dc1e2(0x5a1)][_0x3dc1e2(0x37c)],0xa);handleRegenerateQuestionInEditor(_0x1fb808);}else{if(_0x3964da){const _0x43d74d=_0x3964da['closest'](_0x3dc1e2(0x7f9)),_0x50f25d=parseInt(_0x43d74d[_0x3dc1e2(0x5a1)][_0x3dc1e2(0x37c)],0xa);handleAiFixFormula(_0x50f25d);}}});document['getElementById'](_0x3cb8f5(0x168))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),openQuizBankModal),document[_0x3cb8f5(0x2da)]('cancel-quiz-bank-btn')[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),()=>{const _0x401da9=_0x3cb8f5;document[_0x401da9(0x2da)](_0x401da9(0x881))[_0x401da9(0x5aa)][_0x401da9(0x483)](_0x401da9(0x62f));}),document[_0x3cb8f5(0x2da)]('bank-quiz-search-input')[_0x3cb8f5(0x381)](_0x3cb8f5(0x679),_0x2a6196=>renderQuizBankList(_0x2a6196[_0x3cb8f5(0x7cd)][_0x3cb8f5(0x5b4)]));const _0x3ddd19=document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x215));if(_0x3ddd19){let _0x36608d=null;_0x3ddd19[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),_0x112614=>{const _0x46e2f4=_0x3cb8f5,_0x3b4ddb=_0x112614[_0x46e2f4(0x7cd)],_0x2bd2ae=_0x3b4ddb[_0x46e2f4(0x588)](_0x46e2f4(0x6a4)),_0x43ddde=_0x3b4ddb[_0x46e2f4(0x588)](_0x46e2f4(0x780)),_0x830d82=_0x3b4ddb[_0x46e2f4(0x588)]('.save-custom-topic-btn'),_0x51134a=_0x3b4ddb[_0x46e2f4(0x588)](_0x46e2f4(0x4c1));if(_0x43ddde){_0x112614[_0x46e2f4(0x6bc)]();const _0xe68838=_0x43ddde[_0x46e2f4(0x5a1)]['id'],_0x37cf61=_0x43ddde[_0x46e2f4(0x588)](_0x46e2f4(0x406))[_0x46e2f4(0x6ce)]('.topic-name-display')['textContent'];showConfirmation(_0x46e2f4(0x11c)+_0x37cf61+'\x22?',()=>handleDeleteCustomTopic(_0xe68838));}else{if(_0x2bd2ae){_0x112614[_0x46e2f4(0x6bc)]();_0x36608d&&toggleTopicEditMode(_0x36608d,![]);const _0x22e826=_0x2bd2ae[_0x46e2f4(0x588)](_0x46e2f4(0x42e));_0x36608d=_0x22e826,toggleTopicEditMode(_0x22e826,!![]);}else{if(_0x830d82){_0x112614[_0x46e2f4(0x6bc)]();const _0x3f286a=_0x830d82[_0x46e2f4(0x5a1)]['id'],_0x4d1710=_0x830d82[_0x46e2f4(0x588)](_0x46e2f4(0x42e)),_0x46dd1a=_0x4d1710[_0x46e2f4(0x6ce)](_0x46e2f4(0x36e))[_0x46e2f4(0x5b4)];handleUpdateCustomTopic(_0x3f286a,_0x46dd1a),_0x36608d=null;}else{if(_0x51134a){_0x112614[_0x46e2f4(0x6bc)]();const _0x596a3e=_0x51134a[_0x46e2f4(0x588)](_0x46e2f4(0x42e));toggleTopicEditMode(_0x596a3e,![]),_0x36608d=null;}}}}}),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x3c0))['addEventListener'](_0x3cb8f5(0x302),()=>{const _0x20b2b1=_0x3cb8f5;document['getElementById'](_0x20b2b1(0x24f))[_0x20b2b1(0x5aa)][_0x20b2b1(0x483)](_0x20b2b1(0x62f));}),document[_0x3cb8f5(0x2da)]('close-lesson-plan-modal-footer-btn')['addEventListener'](_0x3cb8f5(0x302),()=>{const _0x3bd502=_0x3cb8f5;document[_0x3bd502(0x2da)](_0x3bd502(0x24f))[_0x3bd502(0x5aa)][_0x3bd502(0x483)](_0x3bd502(0x62f));}),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x6dd))[_0x3cb8f5(0x381)](_0x3cb8f5(0x302),handleExportLessonPDF);}document['getElementById'](_0x3cb8f5(0x5e6))['addEventListener'](_0x3cb8f5(0x302),()=>{const _0x34bdb7=_0x3cb8f5;document[_0x34bdb7(0x2da)]('comparison-modal')[_0x34bdb7(0x5aa)][_0x34bdb7(0x483)](_0x34bdb7(0x62f));}),document[_0x3cb8f5(0x2da)](_0x3cb8f5(0x590))[_0x3cb8f5(0x381)]('click',()=>{const _0x5b59fd=_0x3cb8f5;document[_0x5b59fd(0x2da)](_0x5b59fd(0xfe))[_0x5b59fd(0x5aa)]['add']('hidden');}),setupComparisonModalTabs(),document[_0x3cb8f5(0x685)][_0x3cb8f5(0x381)](_0x3cb8f5(0x302),function(_0xf5c4c2){const _0x42ea4c=_0x3cb8f5;if(_0xf5c4c2[_0x42ea4c(0x7cd)][_0x42ea4c(0x5aa)][_0x42ea4c(0x3ac)](_0x42ea4c(0x76c))){const _0x58dd80=unescape(_0xf5c4c2[_0x42ea4c(0x7cd)][_0x42ea4c(0x5a1)][_0x42ea4c(0x363)]);startSkillPractice(_0x58dd80);}}),document['getElementById'](_0x3cb8f5(0x320))[_0x3cb8f5(0x381)]('click',_0x440803=>{const _0x37b6fc=_0x3cb8f5,_0x3452a7=_0x440803[_0x37b6fc(0x7cd)][_0x37b6fc(0x588)](_0x37b6fc(0x484));if(_0x3452a7){const _0xf2c6cb=_0x3452a7[_0x37b6fc(0x5a1)][_0x37b6fc(0x727)];handleDeleteSubmission(_0xf2c6cb);}});}async function showStudentProgressView(){const _0x272d5b=_0x411d30;studentInitialView[_0x272d5b(0x5aa)]['add'](_0x272d5b(0x62f)),document[_0x272d5b(0x2da)](_0x272d5b(0x770))[_0x272d5b(0x5aa)][_0x272d5b(0x395)](_0x272d5b(0x62f));const _0x294bdc=document['getElementById'](_0x272d5b(0x4f6)),_0x55723b=document[_0x272d5b(0x2da)](_0x272d5b(0xf6)),_0x3fd232=document[_0x272d5b(0x2da)]('student-progress-content');_0x3fd232[_0x272d5b(0x373)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x55723b[_0x272d5b(0x373)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x55723b['disabled']=!![],_0x294bdc[_0x272d5b(0x373)]=_0x272d5b(0x229);if(allProjects[_0x272d5b(0x412)]===0x0){const _0x4d15aa=collection(db,'artifacts/'+appId+_0x272d5b(0x5b2)),_0x319876=await getDocs(_0x4d15aa);allProjects=_0x319876[_0x272d5b(0x60e)][_0x272d5b(0x79a)](_0x425ef6=>({'id':_0x425ef6['id'],..._0x425ef6[_0x272d5b(0x516)]()}));}const _0x9f7c6=allProjects['filter'](_0x4c6a06=>_0x4c6a06['settings']?.[_0x272d5b(0x8f4)]!==![]);_0x9f7c6['sort']((_0x4a4d15,_0x139ee7)=>_0x4a4d15[_0x272d5b(0x661)][_0x272d5b(0x48b)](_0x139ee7[_0x272d5b(0x661)],'th')),_0x294bdc[_0x272d5b(0x373)]=_0x272d5b(0x818)+_0x9f7c6[_0x272d5b(0x79a)](_0x2e6ea5=>_0x272d5b(0x760)+_0x2e6ea5['id']+'\x22>'+_0x2e6ea5['projectName']+'</option>')[_0x272d5b(0x6f4)](''),_0x294bdc['onchange']=()=>{const _0x26cf45=_0x272d5b,_0x268a77=_0x55723b[_0x26cf45(0x5b4)],_0x1e51bb=_0x294bdc[_0x26cf45(0x5b4)];_0x55723b[_0x26cf45(0x502)]=!![],_0x55723b['innerHTML']=_0x26cf45(0x25f),_0x3fd232['innerHTML']=_0x26cf45(0x1b2);if(!_0x1e51bb)return;const _0x1146da=allProjects[_0x26cf45(0x151)](_0x444c48=>_0x444c48['id']===_0x1e51bb);if(!_0x1146da||!_0x1146da[_0x26cf45(0x1af)])return;const _0x22dd7f=()=>{const _0x368913=_0x26cf45;_0x55723b['innerHTML']=_0x368913(0x25f)+_0x1146da['students'][_0x368913(0x79a)](_0x543487=>_0x368913(0x760)+_0x543487+'\x22>'+_0x543487+'</option>')['join'](''),_0x55723b[_0x368913(0x502)]=![];const _0x4c5716=Array[_0x368913(0x634)](_0x55723b[_0x368913(0x7f7)])[_0x368913(0x79a)](_0x1d5116=>_0x1d5116[_0x368913(0x5b4)]);if(_0x268a77&&_0x4c5716[_0x368913(0x411)](_0x268a77))_0x55723b[_0x368913(0x5b4)]=_0x268a77,_0x55723b[_0x368913(0x66c)](new Event(_0x368913(0x59b)));else _0x1146da[_0x368913(0x1af)][_0x368913(0x412)]===0x1&&(_0x55723b[_0x368913(0x5b4)]=_0x1146da[_0x368913(0x1af)][0x0],_0x55723b['dispatchEvent'](new Event(_0x368913(0x59b))));};if(_0x1146da[_0x26cf45(0x304)]?.[_0x26cf45(0x519)]){if(sessionStorage[_0x26cf45(0x6b1)]('authed_project_'+_0x1e51bb)===_0x26cf45(0x601)){_0x22dd7f();return;}const _0x207e1d=document['getElementById'](_0x26cf45(0x792)),_0x164903=document[_0x26cf45(0x2da)](_0x26cf45(0x125)),_0x48da07=document[_0x26cf45(0x2da)](_0x26cf45(0x44d)),_0x2c4e58=document['getElementById'](_0x26cf45(0x3b3)),_0xb3bce2=document[_0x26cf45(0x2da)](_0x26cf45(0x7f1));document[_0x26cf45(0x2da)](_0x26cf45(0x251))[_0x26cf45(0x769)]=_0x26cf45(0x418)+_0x1146da[_0x26cf45(0x661)],_0x2c4e58['value']='',_0xb3bce2[_0x26cf45(0x5aa)][_0x26cf45(0x483)]('hidden'),_0x207e1d[_0x26cf45(0x5aa)][_0x26cf45(0x395)](_0x26cf45(0x62f));const _0x247503=()=>{const _0x4ff0b7=_0x26cf45,_0x4ca727=_0x2c4e58['value'][_0x4ff0b7(0x4b3)]();_0x4ca727===_0x1146da['settings'][_0x4ff0b7(0x1d5)]?(sessionStorage[_0x4ff0b7(0x4cb)]('authed_project_'+_0x1e51bb,_0x4ff0b7(0x601)),_0x207e1d[_0x4ff0b7(0x5aa)]['add'](_0x4ff0b7(0x62f)),_0x22dd7f(),_0x164903[_0x4ff0b7(0x621)](_0x4ff0b7(0x302),_0x247503)):_0xb3bce2['classList'][_0x4ff0b7(0x395)](_0x4ff0b7(0x62f));};_0x164903[_0x26cf45(0x8bc)]=_0x247503,_0x48da07[_0x26cf45(0x8bc)]=()=>{const _0x1ac8d8=_0x26cf45;_0x207e1d[_0x1ac8d8(0x5aa)]['add']('hidden'),_0x294bdc[_0x1ac8d8(0x5b4)]='',_0x164903[_0x1ac8d8(0x621)]('click',_0x247503);};}else _0x22dd7f();},_0x55723b[_0x272d5b(0x4d1)]=()=>{const _0xf5cb24=_0x272d5b,_0x376517=_0x294bdc[_0xf5cb24(0x5b4)],_0x51fc64=_0x55723b[_0xf5cb24(0x5b4)];_0x376517&&_0x51fc64&&renderStudentProgressDashboard(_0x376517,_0x51fc64);};}async function renderStudentProgressDashboard(_0x37f87f,_0x2b5a8d){const _0x335100=_0x411d30,_0x20fcab=document[_0x335100(0x2da)](_0x335100(0x434));_0x20fcab[_0x335100(0x373)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x2e26fa=collection(db,'artifacts/'+appId+_0x335100(0x7d7)),_0x5229be=query(_0x2e26fa,where('projectId','==',_0x37f87f)),_0x59e025=await getDocs(_0x5229be),_0x1adb08=_0x59e025[_0x335100(0x60e)][_0x335100(0x79a)](_0x26abde=>({'id':_0x26abde['id'],..._0x26abde['data']()})),_0x3b57f4=_0x1adb08['map'](_0x545610=>getDoc(doc(db,_0x335100(0x6c8)+appId+_0x335100(0x29f)+_0x545610['id']+_0x335100(0x75f),_0x2b5a8d))),_0x43ff28=await Promise[_0x335100(0x345)](_0x3b57f4),_0x56f0c5=_0x43ff28[_0x335100(0x850)](_0x1e8c51=>_0x1e8c51[_0x335100(0x50f)]())[_0x335100(0x79a)](_0x21d17c=>({'quizId':_0x21d17c[_0x335100(0x401)][_0x335100(0x44a)]['parent']['id'],..._0x21d17c[_0x335100(0x516)]()}));if(_0x56f0c5[_0x335100(0x412)]===0x0){_0x20fcab['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x19828a='<div\x20class=\x22space-y-4\x22>';_0x56f0c5[_0x335100(0x65f)](_0x308336=>{const _0x65856a=_0x335100,_0x4a5433=_0x1adb08[_0x65856a(0x151)](_0x5e85b3=>_0x5e85b3['id']===_0x308336[_0x65856a(0x8e0)]),_0x5d6053=_0x4a5433[_0x65856a(0x304)]?.[_0x65856a(0x299)]||_0x65856a(0x8cf),_0x55f57c=_0x4a5433[_0x65856a(0x304)]?.[_0x65856a(0xe5)]??0x0,_0x2903cf=_0x308336[_0x65856a(0x8a6)]>=_0x55f57c;let _0x3f51d7='',_0x4b7a5b=_0x65856a(0x343);switch(_0x5d6053){case _0x65856a(0x8cf):case _0x65856a(0x491):_0x4b7a5b=_0x2903cf?_0x65856a(0x7e3):'bg-red-50',_0x3f51d7=_0x65856a(0x533)+(_0x2903cf?'text-green-700':_0x65856a(0x3da))+'\x22>'+_0x308336[_0x65856a(0x8a6)]+_0x65856a(0x24e)+_0x308336[_0x65856a(0x865)]+_0x65856a(0x1f8)+(_0x2903cf?_0x65856a(0x355):_0x65856a(0xea))+'\x22>'+(_0x2903cf?_0x65856a(0xe8):_0x65856a(0x88b))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x65856a(0x807):_0x4b7a5b=_0x2903cf?_0x65856a(0x7e3):'bg-red-50',_0x3f51d7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x2903cf?'bg-green-200\x20text-green-800':_0x65856a(0xea))+'\x22>'+(_0x2903cf?'ผ่าน':_0x65856a(0x88b))+_0x65856a(0x43f);break;case'manual_release':_0x4b7a5b=_0x65856a(0x260),_0x3f51d7=_0x65856a(0x663);break;}_0x19828a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x4b7a5b+_0x65856a(0x71f)+_0x4a5433[_0x65856a(0x363)]+_0x65856a(0x31d)+_0x308336[_0x65856a(0x41c)][_0x65856a(0x412)]+_0x65856a(0x4b2)+new Date(_0x308336[_0x65856a(0x202)])[_0x65856a(0x497)](_0x65856a(0x5ae))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3f51d7+_0x65856a(0x25b);}),_0x19828a+=_0x335100(0x45f),_0x20fcab[_0x335100(0x373)]=_0x19828a;}catch(_0x5b34d2){console[_0x335100(0x735)]('Error\x20rendering\x20student\x20progress:',_0x5b34d2),_0x20fcab['innerHTML']=_0x335100(0x37b);}}function setupStudentProgressListeners(){const _0x3187d2=_0x411d30;document['getElementById'](_0x3187d2(0x83b))['addEventListener']('click',showStudentProgressView),document[_0x3187d2(0x2da)](_0x3187d2(0x5e4))['addEventListener'](_0x3187d2(0x302),()=>{const _0x3dc902=_0x3187d2;document[_0x3dc902(0x2da)](_0x3dc902(0x770))[_0x3dc902(0x5aa)][_0x3dc902(0x483)](_0x3dc902(0x62f)),document[_0x3dc902(0x2da)](_0x3dc902(0x600))['classList'][_0x3dc902(0x395)]('hidden');});}async function startSkillPractice(_0x5b884f){const _0x287cf1=_0x411d30;studentResultArea[_0x287cf1(0x5aa)]['add'](_0x287cf1(0x62f)),studentQuizArea[_0x287cf1(0x373)]=_0x287cf1(0x789),studentQuizArea[_0x287cf1(0x5aa)]['remove']('hidden');try{const _0x264af9=await getStandardizedTopic(_0x5b884f);console['log'](_0x287cf1(0x287)+_0x5b884f+_0x287cf1(0x145)+_0x264af9+'\x22'),studentQuizArea[_0x287cf1(0x6ce)]('p')[_0x287cf1(0x769)]=_0x287cf1(0x898)+_0x264af9+_0x287cf1(0x286);const _0x4344bd=collection(db,_0x287cf1(0x6c8)+appId+'/public/data/practiceBank'),_0x41e6ad=query(_0x4344bd,where(_0x287cf1(0x363),'==',_0x264af9)),_0x5492b6=await getDocs(_0x41e6ad);if(_0x5492b6['docs'][_0x287cf1(0x412)]>=0x3){console[_0x287cf1(0x50c)](_0x287cf1(0x4f1)+_0x5492b6[_0x287cf1(0x60e)]['length']+_0x287cf1(0x84f)+_0x264af9+_0x287cf1(0x127));let _0x1af775=_0x5492b6['docs'][_0x287cf1(0x79a)](_0x231bcd=>_0x231bcd[_0x287cf1(0x516)]());shuffleArray(_0x1af775);const _0x38580e={'topic':_0x264af9,'questions':_0x1af775[_0x287cf1(0x85d)](0x0,0x3)};displaySkillPracticeDrill(_0x38580e);}else{console[_0x287cf1(0x50c)](_0x287cf1(0x5d1)+_0x264af9+_0x287cf1(0x4f7));const _0x13443a=await generatePracticeQuestions(_0x264af9);await saveDrillToPracticeBank(_0x13443a,_0x264af9),displaySkillPracticeDrill(_0x13443a);}}catch(_0x42a9fe){console[_0x287cf1(0x735)](_0x287cf1(0x787),_0x42a9fe),showMessage(_0x287cf1(0x2c6)),studentQuizArea[_0x287cf1(0x5aa)][_0x287cf1(0x483)]('hidden'),studentResultArea[_0x287cf1(0x5aa)]['remove']('hidden');}}async function saveDrillToPracticeBank(_0x1164e1,_0x284038){const _0x5e991c=_0x411d30,_0x3be6a4=collection(db,_0x5e991c(0x6c8)+appId+_0x5e991c(0x59f)),_0x330970=writeBatch(db);_0x1164e1['questions']['forEach'](_0x488c23=>{const _0x4c670b=_0x5e991c,_0x5797af=doc(_0x3be6a4);_0x330970['set'](_0x5797af,{'topic':_0x284038,'questionText':_0x488c23['questionText'],'options':_0x488c23[_0x4c670b(0x7f7)],'correctAnswerIndex':_0x488c23['correctAnswerIndex'],'explanation':_0x488c23['explanation'],'createdAt':serverTimestamp()});});try{await _0x330970[_0x5e991c(0x4e6)](),console['log'](_0x5e991c(0x36a)+_0x1164e1['questions']['length']+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x12f0b0){console[_0x5e991c(0x735)]('Error\x20saving\x20questions\x20to\x20practice\x20bank:',_0x12f0b0);}}async function getStandardizedTopic(_0x56b91e){const _0xba0cad=_0x411d30,_0x251abc=_0xba0cad(0x8a9)+_0x56b91e+_0xba0cad(0x246),_0x1b84f2={'type':_0xba0cad(0x102),'properties':{'standardTopic':{'type':_0xba0cad(0x532)}},'required':[_0xba0cad(0x6cd)]};try{const _0x7c31e6=await callAnalysisApi(_0x251abc,_0x1b84f2);return _0x7c31e6[_0xba0cad(0x6cd)];}catch(_0x30924b){return console['error'](_0xba0cad(0x48d),_0x30924b),_0x56b91e;}}async function handleGenerateEasyVersionQuiz(_0x39b4b3){showConfirmation('คุณต้องการให้\x20AI\x20สร้างแบบทดสอบชุดนี้ในเวอร์ชันที่ง่ายลงหรือไม่?\x20ระบบจะสร้างเป็นแบบทดสอบชุดใหม่ในโปรเจคนี้',async()=>{const _0xe81d46=_0x1004;showMessage(_0xe81d46(0x50a));try{const _0xfd0fe3=allQuizzes[_0xe81d46(0x151)](_0x52adc8=>_0x52adc8['id']===_0x39b4b3);if(!_0xfd0fe3)throw new Error(_0xe81d46(0x8a1));const _0x4f93ae=_0xe81d46(0x6f1)+JSON[_0xe81d46(0x3c6)](_0xfd0fe3[_0xe81d46(0x7f5)])+_0xe81d46(0x6db),_0x206ed1={'type':_0xe81d46(0x102),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0xe81d46(0x532)},'options':{'type':_0xe81d46(0x534),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0xe81d46(0x3fd)},'idealAnswer':{'type':_0xe81d46(0x532)},'explanation':{'type':_0xe81d46(0x532)},'imageCode':{'type':'STRING'}},'required':[_0xe81d46(0x5be),_0xe81d46(0x6ec),_0xe81d46(0x80c)]},_0x4c8eca={'type':'OBJECT','properties':{'questions':{'type':_0xe81d46(0x534),'items':_0x206ed1}},'required':['questions']},_0x53a81f=await callAnalysisApi(_0x4f93ae,_0x4c8eca);_0x53a81f&&_0x53a81f['questions']&&_0x53a81f[_0xe81d46(0x7f5)][_0xe81d46(0x65f)](_0x3811d0=>{const _0x55723a=_0xe81d46;_0x3811d0['questionText']&&(_0x3811d0[_0x55723a(0x5be)]=_0x3811d0[_0x55723a(0x5be)][_0x55723a(0x4b3)]()[_0x55723a(0x4cf)](/,$/,'')[_0x55723a(0x4b3)]());_0x3811d0[_0x55723a(0x7f7)]&&Array[_0x55723a(0x50b)](_0x3811d0[_0x55723a(0x7f7)])&&(_0x3811d0['options']=_0x3811d0[_0x55723a(0x7f7)][_0x55723a(0x79a)](_0x598233=>_0x598233||'(ตัวเลือกผิดพลาด)'));if(_0x3811d0[_0x55723a(0x6a8)]){const _0x319d1c=_0x3811d0[_0x55723a(0x6a8)][_0x55723a(0x4b3)]();_0x319d1c===''||_0x319d1c[_0x55723a(0x5ff)]()===_0x55723a(0x5ba)||!_0x319d1c['startsWith']('<svg')?delete _0x3811d0[_0x55723a(0x6a8)]:_0x3811d0['imageCode']=_0x319d1c;}});if(!_0x53a81f||!_0x53a81f[_0xe81d46(0x7f5)]||_0x53a81f[_0xe81d46(0x7f5)][_0xe81d46(0x412)]===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0x4c3dd4={'projectId':_0xfd0fe3[_0xe81d46(0x7e4)],'quizType':_0xfd0fe3[_0xe81d46(0x285)],'settings':_0xfd0fe3['settings'],'createdBy':_0xfd0fe3[_0xe81d46(0x121)],'status':'active','topic':_0xe81d46(0x1cf)+_0xfd0fe3[_0xe81d46(0x363)],'questions':_0x53a81f[_0xe81d46(0x7f5)],'createdAt':new Date()[_0xe81d46(0x1f5)](),'quizMode':_0xe81d46(0x510),'pairedQuizId':null};let _0x426a48;while(!![]){_0x426a48=Math[_0xe81d46(0x8d7)](0x3e8+Math['random']()*0x2328)[_0xe81d46(0x87a)]();const _0xea9344=await getDoc(doc(db,_0xe81d46(0x6c8)+appId+_0xe81d46(0x7d7),_0x426a48));if(!_0xea9344[_0xe81d46(0x50f)]())break;}await setDoc(doc(db,_0xe81d46(0x6c8)+appId+_0xe81d46(0x7d7),_0x426a48),_0x4c3dd4),showMessage(_0xe81d46(0x5ad));}catch(_0x3887d7){console[_0xe81d46(0x735)](_0xe81d46(0x513),_0x3887d7),showMessage(_0xe81d46(0x505)+_0x3887d7['message']);}});}async function generatePracticeQuestions(_0x4757cf){const _0x235aa8=_0x411d30,_0xcab745='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x4757cf+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x20e573={'type':_0x235aa8(0x102),'properties':{'questionText':{'type':_0x235aa8(0x532)},'options':{'type':_0x235aa8(0x534),'items':{'type':_0x235aa8(0x532)}},'correctAnswerIndex':{'type':_0x235aa8(0x3fd)},'explanation':{'type':_0x235aa8(0x532)}},'required':[_0x235aa8(0x5be),_0x235aa8(0x7f7),_0x235aa8(0x6a9),_0x235aa8(0x80c)]},_0x549db5={'type':_0x235aa8(0x102),'properties':{'topic':{'type':_0x235aa8(0x532)},'questions':{'type':'ARRAY','items':_0x20e573}},'required':['topic',_0x235aa8(0x7f5)]};return await callAnalysisApi(_0xcab745,_0x549db5);}function displayLessonPlan(_0x446525,_0x29f294){const _0x158b5d=_0x411d30,_0x5426bf=_0x158b5d(0x85e)+_0x29f294['topic']+_0x158b5d(0x717)+_0x446525[_0x158b5d(0x8ba)][_0x158b5d(0x79a)](_0x1fff31=>_0x158b5d(0x522)+_0x1fff31+'</li>')[_0x158b5d(0x6f4)]('')+_0x158b5d(0x785)+_0x446525[_0x158b5d(0x6f2)]+_0x158b5d(0x341)+_0x446525['practiceProblems'][_0x158b5d(0x79a)](_0x143d40=>_0x158b5d(0x4b5)+_0x143d40[_0x158b5d(0x5c1)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x143d40[_0x158b5d(0x5fa)]+'</p></div>')['join']('')+_0x158b5d(0x2ef);document[_0x158b5d(0x2da)]('lesson-plan-title')[_0x158b5d(0x769)]=_0x158b5d(0x48e)+_0x29f294[_0x158b5d(0x363)],document['getElementById']('lesson-plan-content')[_0x158b5d(0x373)]=_0x5426bf,document[_0x158b5d(0x2da)](_0x158b5d(0x24f))[_0x158b5d(0x5aa)]['remove'](_0x158b5d(0x62f));if(window[_0x158b5d(0x3d6)])MathJax[_0x158b5d(0x1de)]();}function displaySkillPracticeDrill(_0x5f5596){const _0x24ea10=_0x411d30;let _0x3a03d5=0x0;const _0x1e27e9=_0x5f5596[_0x24ea10(0x7f5)],_0x35b55a=()=>{const _0x47366f=_0x24ea10,_0x236012=_0x1e27e9[_0x3a03d5],_0x44fc12=_0x47366f(0x895)+(_0x3a03d5+0x1)+'\x20/\x20'+_0x1e27e9[_0x47366f(0x412)]+_0x47366f(0x3a4)+_0x236012[_0x47366f(0x5be)]+_0x47366f(0x3e4)+_0x236012[_0x47366f(0x7f7)][_0x47366f(0x79a)]((_0x3aa68c,_0x242675)=>_0x47366f(0x423)+_0x242675+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x242675+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x242675+'\x22>'+_0x3aa68c+_0x47366f(0x122))[_0x47366f(0x6f4)]('')+_0x47366f(0x7d8);studentQuizArea[_0x47366f(0x373)]=_0x44fc12;if(window['MathJax'])MathJax[_0x47366f(0x1de)]([studentQuizArea]);document[_0x47366f(0x2da)]('hint-btn')[_0x47366f(0x381)](_0x47366f(0x302),async()=>{const _0xeba4c6=_0x47366f,_0xdf94f1=await getHintForQuestion(_0x236012[_0xeba4c6(0x5be)]);showMessage(_0xdf94f1);}),document[_0x47366f(0x2da)]('check-answer-btn')['addEventListener'](_0x47366f(0x302),()=>{const _0x59c66d=_0x47366f,_0x153b91=document[_0x59c66d(0x6ce)]('input[name=\x22drill_answer\x22]:checked');if(!_0x153b91){showMessage(_0x59c66d(0x13d));return;}const _0x5e9b21=document[_0x59c66d(0x2da)](_0x59c66d(0x50e)),_0x512e7b=parseInt(_0x153b91[_0x59c66d(0x5b4)])===_0x236012[_0x59c66d(0x6a9)];_0x512e7b?(_0x5e9b21[_0x59c66d(0x32e)]=_0x59c66d(0x7d9),_0x5e9b21[_0x59c66d(0x373)]=_0x59c66d(0x1d7)+_0x236012['explanation']):(_0x5e9b21['className']=_0x59c66d(0x7ed),_0x5e9b21[_0x59c66d(0x373)]=_0x59c66d(0x82e)+_0x236012['explanation']);_0x5e9b21[_0x59c66d(0x5aa)]['remove'](_0x59c66d(0x62f));if(window[_0x59c66d(0x3d6)])MathJax[_0x59c66d(0x1de)]([_0x5e9b21]);document['getElementById'](_0x59c66d(0x37e))[_0x59c66d(0x5aa)][_0x59c66d(0x483)](_0x59c66d(0x62f)),document[_0x59c66d(0x2da)]('hint-btn')['classList'][_0x59c66d(0x483)]('hidden'),document[_0x59c66d(0x2da)](_0x59c66d(0x316))[_0x59c66d(0x5aa)]['remove'](_0x59c66d(0x62f));}),document['getElementById'](_0x47366f(0x316))['addEventListener'](_0x47366f(0x302),()=>{const _0x1e3f8d=_0x47366f;_0x3a03d5++,_0x3a03d5<_0x1e27e9[_0x1e3f8d(0x412)]?_0x35b55a():(studentQuizArea[_0x1e3f8d(0x373)]=_0x1e3f8d(0x8b6),document[_0x1e3f8d(0x2da)](_0x1e3f8d(0x658))[_0x1e3f8d(0x381)](_0x1e3f8d(0x302),()=>{const _0x2fa48e=_0x1e3f8d;studentQuizArea['classList'][_0x2fa48e(0x483)](_0x2fa48e(0x62f)),studentResultArea[_0x2fa48e(0x5aa)][_0x2fa48e(0x395)](_0x2fa48e(0x62f));}));});};_0x35b55a();}async function getHintForQuestion(_0x5b65cd){const _0x46e47c=_0x411d30,_0x48938f='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x5b65cd+_0x46e47c(0x889),_0x131931={'type':_0x46e47c(0x102),'properties':{'hint':{'type':_0x46e47c(0x532)}},'required':['hint']};try{const _0x45e7dd=await callAnalysisApi(_0x48938f,_0x131931);return _0x45e7dd[_0x46e47c(0x8ae)];}catch(_0x47a1fc){return console['error'](_0x46e47c(0x52a),_0x47a1fc),_0x46e47c(0x4aa);}}async function extractTextFromPdf(_0x5b66d5){const _0x5ea6d4=_0x411d30;pdfjsLib[_0x5ea6d4(0x1cb)][_0x5ea6d4(0x7c5)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x194f7b=await _0x5b66d5['arrayBuffer'](),_0x34ef0b=await pdfjsLib[_0x5ea6d4(0x303)](_0x194f7b)[_0x5ea6d4(0x75d)],_0x5b8b2c=_0x34ef0b[_0x5ea6d4(0x69a)];let _0x23a96f='';for(let _0x4e7204=0x1;_0x4e7204<=_0x5b8b2c;_0x4e7204++){const _0x175c6c=await _0x34ef0b['getPage'](_0x4e7204),_0x26fbe7=await _0x175c6c[_0x5ea6d4(0x7b0)](),_0x3578f2=_0x26fbe7[_0x5ea6d4(0x358)]['map'](_0x39797b=>_0x39797b[_0x5ea6d4(0x606)])[_0x5ea6d4(0x6f4)]('\x20');_0x23a96f+=_0x3578f2+'\x0a\x0a';}return _0x23a96f;}async function handleGenerateFromBlueprint(){const _0x35124b=_0x411d30,_0x1db4c6=document[_0x35124b(0x2da)](_0x35124b(0x1b0)),_0x22acab=document[_0x35124b(0x2da)](_0x35124b(0x138)),_0x808e28=_0x1db4c6[_0x35124b(0x330)][0x0],_0x5bee08=_0x22acab[_0x35124b(0x330)][_0x35124b(0x412)]>0x0?_0x22acab[_0x35124b(0x330)][0x0]:null;if(!_0x808e28){showMessage(_0x35124b(0x754));return;}const _0x337185=document['getElementById'](_0x35124b(0xe9)),_0x705659=document['getElementById'](_0x35124b(0x57f)),_0x4157cc=document['getElementById'](_0x35124b(0x44c)),_0x417ca0=document[_0x35124b(0x2da)](_0x35124b(0x4f3));_0x417ca0['disabled']=!![],document[_0x35124b(0x2da)](_0x35124b(0x7ca))[_0x35124b(0x5aa)][_0x35124b(0x395)]('hidden'),_0x4157cc['innerHTML']='',_0x337185[_0x35124b(0x5aa)]['remove'](_0x35124b(0x62f));try{_0x705659['textContent']=_0x35124b(0x3d7);const _0x15732a=await extractTextFromPdf(_0x808e28);if(!_0x15732a[_0x35124b(0x4b3)]())throw new Error(_0x35124b(0x3f8));let _0x5e2399='';_0x5bee08&&(_0x705659['textContent']=_0x35124b(0x742),_0x5e2399=await extractTextFromPdf(_0x5bee08));_0x705659[_0x35124b(0x769)]='วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...';const _0x148a76=document[_0x35124b(0x2da)]('include-images-checkbox')['checked'],_0x370187=_0x148a76?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x34c92f=_0x5e2399?_0x35124b(0x6f9)+_0x5e2399+_0x35124b(0x5d9):'',_0x26bab3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5e2399?_0x35124b(0x744):'')+_0x35124b(0x179)+_0x15732a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x34c92f+_0x35124b(0x298)+_0x370187+_0x35124b(0x150)+simpleMathPrompt+_0x35124b(0x209),_0x166dbd={'type':_0x35124b(0x102),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x35124b(0x247),_0x35124b(0x637)]},'options':{'type':_0x35124b(0x534),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x35124b(0x3fd)},'idealAnswer':{'type':_0x35124b(0x532)},'explanation':{'type':_0x35124b(0x532)},'imageCode':{'type':_0x35124b(0x532)}},'required':[_0x35124b(0x5be),_0x35124b(0x6ec),'explanation']},_0x208569={'type':_0x35124b(0x102),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x35124b(0x534),'items':_0x166dbd}},'required':[_0x35124b(0x363),'questions']};await handleApiCall(_0x26bab3,_0x35124b(0x2ec),_0x208569);}catch(_0x122cc0){console[_0x35124b(0x735)](_0x35124b(0x254),_0x122cc0),showMessage(_0x35124b(0x505)+_0x122cc0[_0x35124b(0x2d1)]),_0x4157cc[_0x35124b(0x373)]=_0x35124b(0x24c);}finally{_0x337185[_0x35124b(0x5aa)][_0x35124b(0x483)]('hidden'),_0x417ca0[_0x35124b(0x502)]=![];}}async function handleGenerateParallelFromBank(_0x135a00){const _0x40eb59=_0x411d30;switchProjectTab(_0x40eb59(0x490));const _0x5ba9dc=document[_0x40eb59(0x2da)](_0x40eb59(0xe9)),_0x56cac1=document['getElementById'](_0x40eb59(0x57f)),_0x5699ac=document['getElementById']('generated-quiz-container');document['getElementById']('quiz-generation-area')[_0x40eb59(0x5aa)][_0x40eb59(0x395)](_0x40eb59(0x62f)),_0x5699ac[_0x40eb59(0x373)]='',_0x5ba9dc[_0x40eb59(0x5aa)][_0x40eb59(0x395)]('hidden'),_0x56cac1['textContent']=_0x40eb59(0x8b1)+_0x135a00[_0x40eb59(0x363)]+_0x40eb59(0x4a5);try{const _0x3e3638=_0x135a00['questions'][_0x40eb59(0x79a)]((_0x1ca3f8,_0x5d4bb8)=>{const _0x50a164=_0x40eb59;let _0x6812e8=_0x5d4bb8+0x1+'.\x20'+(_0x1ca3f8[_0x50a164(0x5be)]||_0x1ca3f8[_0x50a164(0x7ec)])+'\x0a';if(_0x1ca3f8[_0x50a164(0x7f7)])_0x6812e8+=_0x1ca3f8[_0x50a164(0x7f7)]['map']((_0x25c892,_0x554b8f)=>_0x50a164(0x777)+(_0x554b8f===_0x1ca3f8[_0x50a164(0x6a9)]?'[*]':'')+'\x20'+_0x25c892)[_0x50a164(0x6f4)]('\x0a');else _0x1ca3f8[_0x50a164(0x3a5)]&&(_0x6812e8+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x1ca3f8[_0x50a164(0x3a5)]);return _0x6812e8;})[_0x40eb59(0x6f4)]('\x0a\x0a');_0x56cac1['textContent']=_0x40eb59(0x891);const _0x1b1233=_0x135a00[_0x40eb59(0x7f5)][_0x40eb59(0x412)],_0x417774='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษาที่มีความแม่นยำสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20นี่คือแบบทดสอบต้นฉบับในหัวข้อ\x20\x22'+_0x135a00['topic']+_0x40eb59(0x10e)+_0x1b1233+_0x40eb59(0x654)+_0x3e3638+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20โดยต้องปฏิบัติตามกฎเหล็กต่อไปนี้อย่างเคร่งครัด:\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็ก\x20(ต้องปฏิบัติตามทุกข้อ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ความถูกต้อง\x20100%:**\x20คำถาม\x20ตัวเลือก\x20และเฉลยที่สร้างขึ้นใหม่ทั้งหมดต้องถูกต้องตามหลักวิชาการและคณิตศาสตร์\x20100%\x20**ห้ามมีข้อผิดพลาดโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**จำนวนข้อที่แน่นอน:**\x20แบบทดสอบชุดใหม่ต้องมี\x20**'+_0x1b1233+_0x40eb59(0x100)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x9fbcce={'type':_0x40eb59(0x102),'properties':{'questionText':{'type':_0x40eb59(0x532)},'questionType':{'type':'STRING','enum':[_0x40eb59(0x247),'short_answer',_0x40eb59(0x5e7),'matching_item']},'options':{'type':_0x40eb59(0x534),'items':{'type':_0x40eb59(0x532)}},'correctAnswerIndex':{'type':_0x40eb59(0x3fd)},'idealAnswer':{'type':_0x40eb59(0x532)},'correctAnswer':{'type':_0x40eb59(0x8af)},'stem':{'type':_0x40eb59(0x532)},'correctResponse':{'type':_0x40eb59(0x532)},'allResponses':{'type':'ARRAY','items':{'type':_0x40eb59(0x532)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x40eb59(0x532)}},'required':[_0x40eb59(0x5be),_0x40eb59(0x6ec),_0x40eb59(0x80c)]},_0x3c8e3d={'type':_0x40eb59(0x102),'properties':{'topic':{'type':_0x40eb59(0x532)},'questions':{'type':_0x40eb59(0x534),'items':_0x9fbcce}},'required':[_0x40eb59(0x363),'questions']},_0x5bdaaf=await callAnalysisApi(_0x417774,_0x3c8e3d);_0x5bdaaf[_0x40eb59(0x7f5)][_0x40eb59(0x412)]>_0x1b1233&&(_0x5bdaaf[_0x40eb59(0x7f5)]=_0x5bdaaf[_0x40eb59(0x7f5)][_0x40eb59(0x85d)](0x0,_0x1b1233)),_0x5bdaaf['topic']=_0x40eb59(0x63c)+_0x135a00[_0x40eb59(0x363)],_0x5bdaaf[_0x40eb59(0x285)]=_0x135a00[_0x40eb59(0x285)],currentQuizData=_0x5bdaaf,displayGeneratedQuiz(_0x5bdaaf),document[_0x40eb59(0x2da)](_0x40eb59(0x485))['scrollIntoView']({'behavior':'smooth'});}catch(_0x40f79e){console['error'](_0x40eb59(0x3f7),_0x40f79e),showMessage(_0x40eb59(0x505)+_0x40f79e[_0x40eb59(0x2d1)]),_0x5699ac[_0x40eb59(0x373)]=_0x40eb59(0x167);}finally{_0x5ba9dc[_0x40eb59(0x5aa)][_0x40eb59(0x483)](_0x40eb59(0x62f));}}async function handleGenerateParallelPostTest(_0x122f23){const _0x3ff7a8=_0x411d30,_0x423688=document[_0x3ff7a8(0x2da)](_0x3ff7a8(0x185)),_0x49e91d=document[_0x3ff7a8(0x2da)]('project-quizzes-list');_0x49e91d[_0x3ff7a8(0x5aa)][_0x3ff7a8(0x483)](_0x3ff7a8(0x62f));const _0x4bd228='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x423688[_0x3ff7a8(0x857)](_0x3ff7a8(0x1eb),_0x4bd228);try{const _0x46a25d=_0x122f23[_0x3ff7a8(0x7f5)][_0x3ff7a8(0x79a)]((_0x268fd7,_0x2637db)=>{const _0x4506c6=_0x3ff7a8;let _0x52c7ec=_0x2637db+0x1+'.\x20'+(_0x268fd7[_0x4506c6(0x5be)]||_0x268fd7[_0x4506c6(0x7ec)]);if(_0x268fd7[_0x4506c6(0x7f7)])_0x52c7ec+=_0x4506c6(0x868)+_0x268fd7['options'][_0x4506c6(0x6f4)](',\x20');return _0x52c7ec;})[_0x3ff7a8(0x6f4)]('\x0a\x0a'),_0x4b33f0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x122f23[_0x3ff7a8(0x363)]+_0x3ff7a8(0x903)+_0x46a25d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x3ff7a8(0x209),_0x32af0b={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3ff7a8(0x534),'items':{'type':_0x3ff7a8(0x102),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING'},'options':{'type':_0x3ff7a8(0x534),'items':{'type':_0x3ff7a8(0x532)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x3ff7a8(0x532)},'explanation':{'type':_0x3ff7a8(0x532)}},'required':[_0x3ff7a8(0x5be),_0x3ff7a8(0x80c)]}}},'required':[_0x3ff7a8(0x363),_0x3ff7a8(0x7f5)]},_0x1f8a6f=await callAnalysisApi(_0x4b33f0,_0x32af0b),_0x148aeb=_0x122f23[_0x3ff7a8(0x363)]['replace']('(ก่อนเรียน)','')[_0x3ff7a8(0x4b3)](),_0x206480=_0x3ff7a8(0x110)+_0x148aeb,_0x1aaae9={..._0x1f8a6f,'topic':_0x206480,'quizType':_0x122f23['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x3ff7a8(0x1f5)](),'status':'active','settings':_0x122f23[_0x3ff7a8(0x304)],'quizMode':_0x3ff7a8(0x65b),'pairedQuizId':_0x122f23['id']};let _0x39fb5c;while(!![]){_0x39fb5c=Math[_0x3ff7a8(0x8d7)](0x3e8+Math[_0x3ff7a8(0x2fc)]()*0x2328)[_0x3ff7a8(0x87a)]();const _0xe1611d=await getDoc(doc(db,_0x3ff7a8(0x6c8)+appId+_0x3ff7a8(0x7d7),_0x39fb5c));if(!_0xe1611d[_0x3ff7a8(0x50f)]())break;}await setDoc(doc(db,_0x3ff7a8(0x6c8)+appId+_0x3ff7a8(0x7d7),_0x39fb5c),_0x1aaae9);const _0x3e55cb=doc(db,_0x3ff7a8(0x6c8)+appId+_0x3ff7a8(0x7d7),_0x122f23['id']);await updateDoc(_0x3e55cb,{'pairedQuizId':_0x39fb5c}),showMessage(_0x3ff7a8(0x89e));}catch(_0xb038e7){console[_0x3ff7a8(0x735)]('Error\x20generating\x20parallel\x20post-test:',_0xb038e7),showMessage(_0x3ff7a8(0x505)+_0xb038e7['message']);}finally{const _0x1c869a=document[_0x3ff7a8(0x2da)](_0x3ff7a8(0x200));if(_0x1c869a)_0x1c869a[_0x3ff7a8(0x395)]();_0x49e91d[_0x3ff7a8(0x5aa)][_0x3ff7a8(0x395)](_0x3ff7a8(0x62f));}}async function handleGenerateParallelTest(){const _0x17527b=_0x411d30,_0x379874=document[_0x17527b(0x2da)](_0x17527b(0x3c9)),_0x23d227=_0x379874[_0x17527b(0x330)][0x0];if(!_0x23d227){showMessage(_0x17527b(0xef));return;}const _0x3d80a9=document[_0x17527b(0x2da)](_0x17527b(0xe9)),_0x5af562=document[_0x17527b(0x2da)](_0x17527b(0x57f)),_0x15a0b0=document[_0x17527b(0x2da)](_0x17527b(0x44c)),_0x418802=document['getElementById'](_0x17527b(0x529));_0x418802[_0x17527b(0x502)]=!![],document[_0x17527b(0x2da)](_0x17527b(0x7ca))[_0x17527b(0x5aa)][_0x17527b(0x395)](_0x17527b(0x62f)),_0x15a0b0[_0x17527b(0x373)]='',_0x3d80a9[_0x17527b(0x5aa)]['remove'](_0x17527b(0x62f)),_0x5af562['textContent']=_0x17527b(0x7fc);try{const _0x12fac6=await extractTextFromPdf(_0x23d227);if(!_0x12fac6['trim']())throw new Error(_0x17527b(0x53d));_0x5af562[_0x17527b(0x769)]=_0x17527b(0x891);const _0x834e02=document['getElementById'](_0x17527b(0x295))['checked'],_0x547010=_0x834e02?_0x17527b(0x763):'',_0x282e5b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12fac6+_0x17527b(0x2ca)+_0x547010+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x17527b(0x209),_0x3e42ec={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x17527b(0x532),'enum':['multiple_choice',_0x17527b(0x637)]},'options':{'type':_0x17527b(0x534),'items':{'type':_0x17527b(0x532)}},'correctAnswerIndex':{'type':_0x17527b(0x3fd)},'idealAnswer':{'type':_0x17527b(0x532)},'explanation':{'type':_0x17527b(0x532)},'imageCode':{'type':_0x17527b(0x532)}},'required':[_0x17527b(0x5be),_0x17527b(0x6ec),_0x17527b(0x80c)]},_0x598bfa={'type':_0x17527b(0x102),'properties':{'topic':{'type':_0x17527b(0x532)},'questions':{'type':_0x17527b(0x534),'items':_0x3e42ec}},'required':[_0x17527b(0x363),'questions']};await handleApiCall(_0x282e5b,_0x17527b(0x275),_0x598bfa);}catch(_0x152596){console[_0x17527b(0x735)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x152596),showMessage(_0x17527b(0x505)+_0x152596[_0x17527b(0x2d1)]),_0x15a0b0[_0x17527b(0x373)]=_0x17527b(0x167);}finally{_0x3d80a9['classList'][_0x17527b(0x483)](_0x17527b(0x62f)),_0x418802['disabled']=![];}}async function handleRegenerateQuestionInEditor(_0x53581a){const _0x48b562=_0x411d30;if(currentEditingQuizData===null)return;const _0x1f0734=document['querySelector'](_0x48b562(0x3d9)+_0x53581a+'\x22]');_0x1f0734&&(_0x1f0734[_0x48b562(0x373)]=_0x48b562(0x106));const _0x454012=currentEditingQuizData[_0x48b562(0x7f5)][_0x53581a],_0x34ca4d=currentEditingQuizData[_0x48b562(0x363)],_0x241934=_0x454012[_0x48b562(0x6ec)],_0x482a18={'type':'OBJECT','properties':{'questionText':{'type':_0x48b562(0x532)},'options':{'type':_0x48b562(0x534),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x48b562(0x3fd)},'explanation':{'type':_0x48b562(0x532)}},'required':[_0x48b562(0x5be),_0x48b562(0x7f7),_0x48b562(0x6a9),_0x48b562(0x80c)]},_0x402932={'type':_0x48b562(0x102),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x48b562(0x532)},'explanation':{'type':_0x48b562(0x532)}},'required':[_0x48b562(0x5be),_0x48b562(0x3a5),_0x48b562(0x80c)]};let _0x304778,_0x56405c='';_0x241934===_0x48b562(0x247)?(_0x304778=_0x482a18,_0x56405c=_0x48b562(0x5e0)):(_0x304778=_0x402932,_0x56405c=_0x48b562(0x3c4));const _0x5a099a=_0x48b562(0x49d)+_0x34ca4d+_0x48b562(0x870)+_0x56405c+_0x48b562(0x329)+(_0x454012[_0x48b562(0x5be)]||_0x454012['stem'])+_0x48b562(0x632)+simpleMathPrompt;try{const _0x26f6e8=await callAnalysisApi(_0x5a099a,_0x304778);currentEditingQuizData[_0x48b562(0x7f5)][_0x53581a]={..._0x454012,..._0x26f6e8},renderQuizEditor(currentEditingQuizData);}catch(_0x29f334){console[_0x48b562(0x735)](_0x48b562(0x756),_0x29f334),showMessage(_0x48b562(0x90c)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0xa81fed=_0x411d30,_0x5a8659=document[_0xa81fed(0x2da)](_0xa81fed(0x338));currentMode==='student'?(adminPasswordModal[_0xa81fed(0x5aa)]['remove'](_0xa81fed(0x62f)),document['getElementById'](_0xa81fed(0x22e))[_0xa81fed(0x57e)]()):(currentMode='student',_0x5a8659['innerHTML']=_0xa81fed(0x583),_0x5a8659['title']=_0xa81fed(0x665),showView(_0xa81fed(0x3d1)));}function handleAdminLogin(){const _0x3d5ef1=_0x411d30,_0x1dcc3f=document['getElementById'](_0x3d5ef1(0x22e)),_0x1e6972=document[_0x3d5ef1(0x2da)](_0x3d5ef1(0x6e8));if(_0x1dcc3f['value']==='27411472'){adminPasswordModal[_0x3d5ef1(0x5aa)][_0x3d5ef1(0x483)](_0x3d5ef1(0x62f)),_0x1dcc3f['value']='',_0x1e6972['classList'][_0x3d5ef1(0x483)]('hidden'),currentMode='admin';const _0x115cac=document[_0x3d5ef1(0x2da)](_0x3d5ef1(0x338));_0x115cac[_0x3d5ef1(0x373)]=_0x3d5ef1(0x252),_0x115cac[_0x3d5ef1(0x7b8)]=_0x3d5ef1(0x690),showView('admin-dashboard');}else _0x1e6972[_0x3d5ef1(0x5aa)]['remove'](_0x3d5ef1(0x62f)),_0x1dcc3f[_0x3d5ef1(0x5b4)]='';}function switchProjectTab(_0x12fa0a){const _0x296c8a=_0x411d30;[_0x296c8a(0x490),'results',_0x296c8a(0x36f)]['forEach'](_0x1ab354=>{const _0x203775=_0x296c8a;document[_0x203775(0x2da)](_0x1ab354+'-tab')['classList'][_0x203775(0x395)](_0x203775(0xe3)),document[_0x203775(0x2da)](_0x1ab354+_0x203775(0x1e3))['classList']['add']('hidden');}),document[_0x296c8a(0x2da)](_0x12fa0a+_0x296c8a(0x288))['classList']['add'](_0x296c8a(0xe3)),document[_0x296c8a(0x2da)](_0x12fa0a+_0x296c8a(0x1e3))['classList']['remove'](_0x296c8a(0x62f));}function switchQuizDetailTab(_0x13507a){const _0x3189b6=_0x411d30,_0x484ead={'analytics':{'btn':'analytics-tab-btn','content':_0x3189b6(0x1b3)},'scores':{'btn':_0x3189b6(0x350),'content':_0x3189b6(0x320)},'leaderboard-quiz':{'btn':_0x3189b6(0x808),'content':_0x3189b6(0x13c)},'behavior-log':{'btn':_0x3189b6(0x2c0),'content':'behavior-log-tab-content'}};for(const _0x133dbb in _0x484ead){document[_0x3189b6(0x2da)](_0x484ead[_0x133dbb][_0x3189b6(0x255)])['classList'][_0x3189b6(0x395)](_0x3189b6(0xe3)),document[_0x3189b6(0x2da)](_0x484ead[_0x133dbb]['content'])[_0x3189b6(0x5aa)][_0x3189b6(0x483)](_0x3189b6(0x62f));}document[_0x3189b6(0x2da)](_0x484ead[_0x13507a]['btn'])['classList'][_0x3189b6(0x483)]('active'),document['getElementById'](_0x484ead[_0x13507a]['content'])[_0x3189b6(0x5aa)][_0x3189b6(0x395)]('hidden');}function showMessage(_0x151b20,_0x427aef=null){const _0x5ea534=_0x411d30;modalMessage[_0x5ea534(0x769)]=_0x151b20,modalConfirmAction=_0x427aef,messageModal[_0x5ea534(0x5aa)][_0x5ea534(0x395)](_0x5ea534(0x62f));}function showConfirmation(_0x321a2a,_0x3d042d){const _0x10f425=_0x411d30;document['getElementById'](_0x10f425(0x842))[_0x10f425(0x769)]=_0x321a2a,document[_0x10f425(0x2da)]('confirmation-modal')[_0x10f425(0x6ce)]('h3')[_0x10f425(0x769)]=_0x10f425(0x231),confirmAction=_0x3d042d,confirmationModal[_0x10f425(0x5aa)][_0x10f425(0x395)](_0x10f425(0x62f));}function listenForProjects(){const _0x1bd624=_0x411d30,_0x4a4c29=doc(db,_0x1bd624(0xf4),_0x1bd624(0x639));onSnapshot(_0x4a4c29,_0x569dc9=>{const _0xef724a=_0x1bd624;if(_0x569dc9['exists']()){const _0x254e1f=_0x569dc9[_0xef724a(0x516)]();globalDashboardSettings[_0xef724a(0x1c5)]=_0x254e1f[_0xef724a(0x1c5)]||_0xef724a(0x5fe),globalDashboardSettings['pinnedProjects']=_0x254e1f[_0xef724a(0x646)]||[],globalDashboardSettings[_0xef724a(0x162)]=_0x254e1f[_0xef724a(0x162)]||[];}allProjects[_0xef724a(0x412)]>0x0&&renderProjects();});const _0x250f70=collection(db,_0x1bd624(0x6c8)+appId+_0x1bd624(0x5b2));unsubscribeProjectsListener=onSnapshot(_0x250f70,_0x18e802=>{const _0x12581e=_0x1bd624;allProjects=_0x18e802[_0x12581e(0x60e)][_0x12581e(0x79a)](_0x47a13d=>({'id':_0x47a13d['id'],..._0x47a13d[_0x12581e(0x516)]()})),renderProjects();},_0x4a61eb=>{const _0x594b88=_0x1bd624;console[_0x594b88(0x735)](_0x594b88(0x1cd),_0x4a61eb),showMessage(_0x594b88(0x1b6));});}function showColorPalette(_0x5094ea,_0x4c12b2){const _0x508649=_0x411d30;document[_0x508649(0x7ea)]('.color-palette-popup')[_0x508649(0x65f)](_0x4a52a0=>_0x4a52a0['remove']());const _0x57813c=[_0x508649(0x7ef),_0x508649(0x23b),_0x508649(0x2cf),_0x508649(0x7ad),_0x508649(0x2fa),_0x508649(0x7c0),_0x508649(0x648),_0x508649(0x1b5),_0x508649(0x791)],_0x19a4ba=document[_0x508649(0x7de)]('div');_0x19a4ba['className']=_0x508649(0x2bf),_0x57813c[_0x508649(0x65f)](_0x57b671=>{const _0x4816eb=_0x508649,_0x18f853=document['createElement'](_0x4816eb(0x8ad));_0x18f853['className']=_0x4816eb(0x5b6),_0x18f853[_0x4816eb(0x74e)][_0x4816eb(0x904)]=_0x57b671,_0x18f853[_0x4816eb(0x381)](_0x4816eb(0x302),()=>{const _0x3906e8=_0x4816eb;handleProjectColorChange(_0x4c12b2,_0x57b671),_0x19a4ba[_0x3906e8(0x395)]();}),_0x19a4ba[_0x4816eb(0x3fa)](_0x18f853);}),document[_0x508649(0x685)]['appendChild'](_0x19a4ba);const _0x350f9d=_0x5094ea[_0x508649(0x801)]();_0x19a4ba[_0x508649(0x74e)][_0x508649(0x8f1)]=_0x350f9d[_0x508649(0x7f3)]+window[_0x508649(0x781)]+'px',_0x19a4ba[_0x508649(0x74e)][_0x508649(0x3be)]=_0x350f9d[_0x508649(0x3be)]+window[_0x508649(0x888)]-_0x19a4ba['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x23f342,_0x2f5ed9){const _0x37f588=_0x411d30,_0x4ac350=doc(db,_0x37f588(0x6c8)+appId+'/public/data/projects',_0x23f342);try{await updateDoc(_0x4ac350,{'color':_0x2f5ed9});}catch(_0x1148ab){console[_0x37f588(0x735)](_0x37f588(0x7c6),_0x1148ab),showMessage(_0x37f588(0x707));}}async function renderProjects(){const _0x1da395=_0x411d30,_0x1b8493=globalDashboardSettings[_0x1da395(0x1c5)]||'date_desc',_0x447525=new Set(globalDashboardSettings[_0x1da395(0x646)]||[]),_0x391afd=globalDashboardSettings['projectView']||'grid',_0x3062b9=document[_0x1da395(0x2da)](_0x1da395(0x35d)),_0x16f784=document['getElementById'](_0x1da395(0x141));_0x3062b9[_0x1da395(0x5aa)]['toggle'](_0x1da395(0xe3),_0x391afd==='grid'),_0x16f784[_0x1da395(0x5aa)][_0x1da395(0x778)](_0x1da395(0xe3),_0x391afd===_0x1da395(0x598)),document[_0x1da395(0x2da)]('project-sort-select')['value']=_0x1b8493;const _0x3e3038=document[_0x1da395(0x2da)](_0x1da395(0x1fb))[_0x1da395(0x5b4)][_0x1da395(0x5ff)]();let _0x369ac8=allProjects[_0x1da395(0x850)](_0x7a9e74=>_0x7a9e74['projectName'][_0x1da395(0x5ff)]()[_0x1da395(0x411)](_0x3e3038));const _0x2109ec=_0x369ac8[_0x1da395(0x850)](_0x3ce90f=>_0x447525[_0x1da395(0x642)](_0x3ce90f['id'])),_0x52ff80=_0x369ac8['filter'](_0x1f5a2e=>!_0x447525[_0x1da395(0x642)](_0x1f5a2e['id'])),_0x1d5a67=(_0x4daec3,_0x5577ee)=>{const _0x3a205b=_0x1da395;switch(_0x1b8493){case _0x3a205b(0x349):return _0x4daec3['projectName']['localeCompare'](_0x5577ee[_0x3a205b(0x661)],'th');case _0x3a205b(0x391):return _0x5577ee[_0x3a205b(0x661)][_0x3a205b(0x48b)](_0x4daec3['projectName'],'th');case'date_asc':return new Date(_0x4daec3[_0x3a205b(0x3c2)])-new Date(_0x5577ee[_0x3a205b(0x3c2)]);default:return new Date(_0x5577ee[_0x3a205b(0x3c2)])-new Date(_0x4daec3[_0x3a205b(0x3c2)]);}};_0x2109ec[_0x1da395(0x73c)](_0x1d5a67),_0x52ff80[_0x1da395(0x73c)](_0x1d5a67);const _0x4d1b90=[..._0x2109ec,..._0x52ff80],_0x4e9d2a=globalDashboardSettings[_0x1da395(0x162)]||[];_0x4e9d2a[_0x1da395(0x412)]>0x0&&_0x391afd===_0x1da395(0x602)&&_0x4d1b90[_0x1da395(0x73c)]((_0x14eecb,_0xee814e)=>{const _0x532592=_0x1da395,_0x153060=_0x4e9d2a[_0x532592(0x68a)](_0x14eecb['id']),_0x52f1b6=_0x4e9d2a[_0x532592(0x68a)](_0xee814e['id']);if(_0x153060===-0x1)return 0x1;if(_0x52f1b6===-0x1)return-0x1;return _0x153060-_0x52f1b6;});const _0x3250de={};await Promise['all'](_0x4d1b90['map'](async _0x2895a9=>{const _0x8f2f76=_0x1da395,_0x2a59d4=query(collection(db,'artifacts/'+appId+_0x8f2f76(0x7d7)),where(_0x8f2f76(0x7e4),'==',_0x2895a9['id'])),_0x33e5a2=await getDocs(_0x2a59d4);_0x3250de[_0x2895a9['id']]=_0x33e5a2[_0x8f2f76(0x18f)];}));const _0x405337=document[_0x1da395(0x2da)](_0x1da395(0x71b));let _0x22c0e2='';if(_0x391afd===_0x1da395(0x602)){_0x405337[_0x1da395(0x32e)]=_0x1da395(0x3bd);if(starredQuizzes['length']>0x0&&_0x3e3038===''){const _0x4206ba=starredQuizzes['map'](_0x1c1d45=>{const _0x283c47=_0x1da395,_0x4f405f=allProjects['find'](_0x2447d2=>_0x2447d2['id']===_0x1c1d45[_0x283c47(0x7e4)]);return{..._0x1c1d45,'projectName':_0x4f405f?_0x4f405f['projectName']:_0x283c47(0x7db)};});_0x22c0e2+=_0x1da395(0x4a2)+_0x4206ba['map'](_0xa3c86b=>_0x1da395(0x389)+_0xa3c86b[_0x1da395(0x363)]+'\x22>'+_0xa3c86b['topic']+_0x1da395(0x581)+_0xa3c86b[_0x1da395(0x661)]+_0x1da395(0x619)+_0xa3c86b['projectName']+_0x1da395(0x6ae))[_0x1da395(0x6f4)]('')+_0x1da395(0x63a)+starredQuizzes[_0x1da395(0x412)]+_0x1da395(0x2a0);}_0x4d1b90[_0x1da395(0x65f)](_0x4869be=>{const _0x53e3f0=_0x1da395,_0x2a391=_0x3250de[_0x4869be['id']]??0x0,_0x118fed=_0x447525[_0x53e3f0(0x642)](_0x4869be['id']),_0x231677=_0x4869be[_0x53e3f0(0x7b5)]||_0x53e3f0(0x7ef),_0x154da8=parseInt(_0x231677[_0x53e3f0(0x4bc)](0x1,0x3),0x10)*0.299+parseInt(_0x231677[_0x53e3f0(0x4bc)](0x3,0x5),0x10)*0.587+parseInt(_0x231677[_0x53e3f0(0x4bc)](0x5,0x7),0x10)*0.114<0xba,_0x29d66b=_0x154da8?_0x53e3f0(0x856):_0x53e3f0(0x2c3),_0x48b5ec=_0x154da8?_0x53e3f0(0x626):'text-gray-500';_0x22c0e2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x118fed?_0x53e3f0(0x885):'border-gray-200')+'\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20'+_0x231677+_0x53e3f0(0x374)+_0x4869be['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4869be['id']+_0x53e3f0(0x2f5)+(_0x154da8?_0x53e3f0(0x88f):_0x53e3f0(0x198))+_0x53e3f0(0x2a3)+_0x4869be['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x154da8?_0x53e3f0(0x88f):_0x53e3f0(0x198))+_0x53e3f0(0x75c)+(_0x118fed?_0x154da8?'text-yellow-300':_0x53e3f0(0x2b4):'')+_0x53e3f0(0x514)+_0x4869be['id']+_0x53e3f0(0x468)+_0x29d66b+'\x20pointer-events-none\x22>'+_0x4869be['projectName']+_0x53e3f0(0x500)+_0x48b5ec+_0x53e3f0(0x268)+new Date(_0x4869be[_0x53e3f0(0x3c2)])[_0x53e3f0(0x497)](_0x53e3f0(0x5ae))+_0x53e3f0(0x85a)+(_0x154da8?_0x53e3f0(0x178):_0x53e3f0(0x6c4))+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x2a391+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4869be['id']+'\x22\x20data-name=\x22'+_0x4869be[_0x53e3f0(0x661)]+_0x53e3f0(0x6a0)+(_0x154da8?'text-red-300\x20hover:text-red-100':'text-red-500\x20hover:text-red-700')+_0x53e3f0(0x18a);});}else _0x405337[_0x1da395(0x32e)]='flex\x20flex-col\x20gap-2',starredQuizzes['length']>0x0&&_0x3e3038===''&&(_0x22c0e2+=_0x1da395(0x4dd)+starredQuizzes[_0x1da395(0x412)]+_0x1da395(0x348)),_0x22c0e2+=_0x1da395(0x82f),_0x4d1b90[_0x1da395(0x65f)](_0x1c2c0b=>{const _0x5a6d21=_0x1da395,_0x234afa=_0x3250de[_0x1c2c0b['id']]??0x0,_0x35fb95=_0x447525[_0x5a6d21(0x642)](_0x1c2c0b['id']);_0x22c0e2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x1c2c0b[_0x5a6d21(0x7b5)]||_0x5a6d21(0x791))+_0x5a6d21(0x610)+_0x1c2c0b['id']+_0x5a6d21(0x2c9)+_0x1c2c0b[_0x5a6d21(0x661)]+_0x5a6d21(0x864)+_0x234afa+_0x5a6d21(0x3c8)+new Date(_0x1c2c0b['createdAt'])['toLocaleString']('th-TH')+_0x5a6d21(0x7b6)+_0x1c2c0b['id']+_0x5a6d21(0x6b8)+(_0x35fb95?_0x5a6d21(0x2b4):'')+_0x5a6d21(0x4d0)+_0x1c2c0b['id']+_0x5a6d21(0x4b0)+_0x1c2c0b[_0x5a6d21(0x661)]+_0x5a6d21(0x289);});projectList[_0x1da395(0x373)]=_0x22c0e2,noProjectsMsg[_0x1da395(0x5aa)]['toggle'](_0x1da395(0x62f),_0x22c0e2[_0x1da395(0x412)]>0x0);}document[_0x411d30(0x2da)]('confirm-create-project-btn')[_0x411d30(0x381)](_0x411d30(0x302),async()=>{const _0x78f89=_0x411d30,_0x4f0606=document[_0x78f89(0x2da)]('project-name-input'),_0xfa9699=_0x4f0606[_0x78f89(0x5b4)]['trim']();if(!_0xfa9699){showMessage(_0x78f89(0x105));return;}try{const _0x36af83=doc(collection(db,_0x78f89(0x6c8)+appId+_0x78f89(0x5b2)));await setDoc(_0x36af83,{'projectName':_0xfa9699,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':_0x78f89(0x8a5),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x78f89(0x8a5),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x78f89(0x1f5)]()}),_0x4f0606['value']='',createProjectModal['classList'][_0x78f89(0x483)](_0x78f89(0x62f)),showMessage(_0x78f89(0x398));}catch(_0x3188a0){console['error'](_0x78f89(0x625),_0x3188a0),showMessage(_0x78f89(0x723));}}),projectList['addEventListener'](_0x411d30(0x302),async _0x48fb64=>{const _0x3bd9ed=_0x411d30,_0x4d740a=_0x48fb64['target'][_0x3bd9ed(0x588)](_0x3bd9ed(0x551)),_0x1757d5=_0x48fb64['target'][_0x3bd9ed(0x588)]('.delete-project-btn'),_0x58dfb3=_0x48fb64[_0x3bd9ed(0x7cd)][_0x3bd9ed(0x588)]('.pin-project-btn'),_0x3e4e1f=_0x48fb64[_0x3bd9ed(0x7cd)]['closest'](_0x3bd9ed(0x38f));if(_0x58dfb3){const _0x351c94=_0x58dfb3['dataset']['id'],_0xd66941=doc(db,_0x3bd9ed(0xf4),_0x3bd9ed(0x639)),_0x2f257f=globalDashboardSettings[_0x3bd9ed(0x646)];let _0x3dde9d;_0x2f257f[_0x3bd9ed(0x411)](_0x351c94)?_0x3dde9d=_0x2f257f[_0x3bd9ed(0x850)](_0x55fe5b=>_0x55fe5b!==_0x351c94):_0x3dde9d=[..._0x2f257f,_0x351c94];try{await setDoc(_0xd66941,{'pinnedProjects':_0x3dde9d},{'merge':!![]});}catch(_0x571d7c){console[_0x3bd9ed(0x735)]('Error\x20updating\x20pin\x20status:',_0x571d7c),showMessage(_0x3bd9ed(0x3cb));}}else{if(_0x3e4e1f){const _0x35b0f0=_0x3e4e1f['dataset']['id'];showColorPalette(_0x3e4e1f,_0x35b0f0);}else{if(_0x4d740a){const _0x41bff2=_0x4d740a[_0x3bd9ed(0x5a1)]['id'];_0x41bff2===_0x3bd9ed(0x399)?showStarredProjectView():(currentProjectId=_0x41bff2,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x1757d5){const _0x1b3e5c=_0x1757d5[_0x3bd9ed(0x5a1)]['id'],_0x5241b8=_0x1757d5[_0x3bd9ed(0x5a1)][_0x3bd9ed(0x612)];showConfirmation(_0x3bd9ed(0x1bb)+_0x5241b8+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x1b3e5c));}}}}}),projectList[_0x411d30(0x381)](_0x411d30(0x76d),_0x10ebb0=>{const _0x2c3408=_0x411d30,_0x6a8760=_0x10ebb0[_0x2c3408(0x7cd)]['closest'](_0x2c3408(0x499));_0x6a8760&&_0x6a8760['classList'][_0x2c3408(0x483)](_0x2c3408(0x6e0));}),projectList[_0x411d30(0x381)](_0x411d30(0x8ed),_0x2a213e=>{const _0x5af410=_0x411d30,_0x2f9afc=_0x2a213e['target'][_0x5af410(0x588)](_0x5af410(0x499));_0x2f9afc&&_0x2f9afc[_0x5af410(0x5aa)][_0x5af410(0x395)]('opacity-50');}),projectList[_0x411d30(0x381)]('dragover',_0x316d62=>{const _0xc278a8=_0x411d30;_0x316d62[_0xc278a8(0x6bc)]();const _0x24e228=document[_0xc278a8(0x6ce)](_0xc278a8(0x55a));if(!_0x24e228)return;const _0x1faea4=getDragAfterElement(projectList,_0x316d62['clientY']);_0x1faea4==null?projectList[_0xc278a8(0x3fa)](_0x24e228):projectList[_0xc278a8(0x465)](_0x24e228,_0x1faea4);}),projectList['addEventListener'](_0x411d30(0x3cd),_0x4caf0b=>{const _0x1802c7=_0x411d30;_0x4caf0b[_0x1802c7(0x6bc)]();const _0x34dacd=[...projectList[_0x1802c7(0x7ea)](_0x1802c7(0x335))]['map'](_0x2bfcab=>_0x2bfcab[_0x1802c7(0x5a1)]['id']);saveProjectOrder(_0x34dacd);});function renderBehaviorLog(_0xd4d1f0){const _0x51e33d=_0x411d30,_0x5b140f=document[_0x51e33d(0x2da)]('behavior-log-container');if(!_0x5b140f)return;const _0x3c71fb=_0xd4d1f0['filter'](_0x31df6d=>_0x31df6d['behaviorLog']&&_0x31df6d[_0x51e33d(0x6c5)][_0x51e33d(0x412)]>0x0);if(_0x3c71fb[_0x51e33d(0x412)]===0x0){_0x5b140f[_0x51e33d(0x373)]=_0x51e33d(0x3f6);return;}let _0x5cdf36='';_0x3c71fb[_0x51e33d(0x65f)](_0x5c7cb0=>{const _0x4451a9=_0x51e33d;_0x5cdf36+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x5c7cb0[_0x4451a9(0x727)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x5c7cb0[_0x4451a9(0x6c5)][_0x4451a9(0x73c)]((_0x5c42e0,_0x276f0d)=>new Date(_0x276f0d[_0x4451a9(0x74a)])-new Date(_0x5c42e0['timestamp']))[_0x4451a9(0x65f)](_0x283f63=>{const _0x314899=_0x4451a9,_0x46e964=new Date(_0x283f63['timestamp'])[_0x314899(0x59a)](_0x314899(0x5ae),{'dateStyle':_0x314899(0x259),'timeStyle':'medium'});_0x5cdf36+=_0x314899(0x2a7)+_0x283f63['attemptNumber']+_0x314899(0x8b9)+_0x46e964+_0x314899(0x2c2);}),_0x5cdf36+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5b140f['innerHTML']=_0x5cdf36;}function getDragAfterElement(_0x1baa2e,_0x1dd4d6){const _0x1785a6=_0x411d30,_0xab5a9d=[..._0x1baa2e['querySelectorAll'](_0x1785a6(0x812))];return _0xab5a9d[_0x1785a6(0x3bf)]((_0x2e265d,_0x148221)=>{const _0x4c9478=_0x1785a6,_0x47aa36=_0x148221[_0x4c9478(0x801)](),_0x32b320=_0x1dd4d6-_0x47aa36[_0x4c9478(0x8f1)]-_0x47aa36[_0x4c9478(0x1b9)]/0x2;return _0x32b320<0x0&&_0x32b320>_0x2e265d[_0x4c9478(0x54a)]?{'offset':_0x32b320,'element':_0x148221}:_0x2e265d;},{'offset':Number[_0x1785a6(0x155)]})[_0x1785a6(0x8b0)];}async function saveProjectOrder(_0x1efb77){const _0x300090=_0x411d30,_0x3056f2=doc(db,'globalSettings','dashboardConfig');try{await setDoc(_0x3056f2,{'projectOrder':_0x1efb77},{'merge':!![]});}catch(_0x4e7e63){console[_0x300090(0x735)](_0x300090(0x452),_0x4e7e63),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x1ca149,_0x1aef8c={}){const _0x5849db=_0x411d30;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn']('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x5d3349=doc(db,_0x5849db(0x6c8)+appId+_0x5849db(0x29f)+currentQuizData['id']+_0x5849db(0x75f),currentStudentName),_0x102ecc={'event':_0x1ca149,'timestamp':new Date()[_0x5849db(0x1f5)](),..._0x1aef8c};try{await updateDoc(_0x5d3349,{'behaviorLog':arrayUnion(_0x102ecc)}),console[_0x5849db(0x50c)](_0x5849db(0x76a)+currentStudentName+_0x5849db(0x126));}catch(_0x167337){_0x167337[_0x5849db(0x201)]==='not-found'?console[_0x5849db(0x834)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+_0x5849db(0x2e9)):console[_0x5849db(0x735)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x167337);}}function calculateMeanAndStdDev(_0x433d6d){const _0xa85d81=_0x411d30;if(_0x433d6d[_0xa85d81(0x412)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x570141=_0x433d6d[_0xa85d81(0x3bf)]((_0x4b3c37,_0x3c338d)=>_0x4b3c37+_0x3c338d,0x0)/_0x433d6d[_0xa85d81(0x412)];if(_0x433d6d['length']===0x1)return{'mean':_0x570141,'stdDev':0x0};const _0x29a0e4=Math[_0xa85d81(0x657)](_0x433d6d[_0xa85d81(0x79a)](_0x4266bd=>Math['pow'](_0x4266bd-_0x570141,0x2))['reduce']((_0x48f8b9,_0x14d6e9)=>_0x48f8b9+_0x14d6e9,0x0)/(_0x433d6d[_0xa85d81(0x412)]-0x1));return{'mean':_0x570141,'stdDev':_0x29a0e4};}function calculateZScore(_0x389e06,_0x568398,_0xaa5643){if(_0xaa5643===0x0)return 0x0;return(_0x389e06-_0x568398)/_0xaa5643;}function calculateTScore(_0x58b775){return 0xa*_0x58b775+0x32;}function showStarredProjectView(){const _0x4d0e1d=_0x411d30;currentProjectId=_0x4d0e1d(0x26d),currentProjectData=null,projectTitle[_0x4d0e1d(0x769)]='แบบทดสอบที่ติดดาว',projectIdDisplay[_0x4d0e1d(0x769)]=_0x4d0e1d(0x272),showView(_0x4d0e1d(0x653)),manageTab[_0x4d0e1d(0x5aa)][_0x4d0e1d(0x483)](_0x4d0e1d(0x62f)),leaderboardTab[_0x4d0e1d(0x5aa)][_0x4d0e1d(0x483)](_0x4d0e1d(0x62f)),switchProjectTab(_0x4d0e1d(0x537)),renderQuizzes();}async function loadProjectDetails(_0x4f3392){const _0x347fd8=_0x411d30,_0x2ef5e8=doc(db,'artifacts/'+appId+'/public/data/projects',_0x4f3392),_0x49d048=await getDoc(_0x2ef5e8);if(_0x49d048['exists']()){manageTab[_0x347fd8(0x5aa)][_0x347fd8(0x395)](_0x347fd8(0x62f)),leaderboardTab[_0x347fd8(0x5aa)][_0x347fd8(0x395)](_0x347fd8(0x62f)),currentProjectData=_0x49d048[_0x347fd8(0x516)](),projectTitle[_0x347fd8(0x769)]=currentProjectData['projectName'],projectIdDisplay['textContent']=_0x4f3392;const _0x398276=currentProjectData['settings']||{};document['getElementById'](_0x347fd8(0x3f2))['value']=_0x398276['shuffleSetting']||_0x347fd8(0x8a5);const _0x92e464=document[_0x347fd8(0x2da)](_0x347fd8(0x53e));_0x92e464[_0x347fd8(0x81a)]=_0x398276[_0x347fd8(0x8f4)]!==![];const _0x33fd53=document[_0x347fd8(0x2da)]('enable-passcode-checkbox'),_0x451e32=document[_0x347fd8(0x2da)](_0x347fd8(0x14e)),_0x2e89dd=document[_0x347fd8(0x2da)](_0x347fd8(0x3a9)),_0x59a50f=_0x398276[_0x347fd8(0x519)]||![];_0x33fd53[_0x347fd8(0x81a)]=_0x59a50f,_0x2e89dd[_0x347fd8(0x5b4)]=_0x398276[_0x347fd8(0x1d5)]||'',_0x451e32[_0x347fd8(0x5aa)][_0x347fd8(0x778)]('hidden',!_0x59a50f),_0x33fd53[_0x347fd8(0x4d1)]=()=>{const _0x3cae91=_0x347fd8;_0x451e32['classList'][_0x3cae91(0x778)](_0x3cae91(0x62f),!_0x33fd53['checked']);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x4f3392),listenForProjectQuizzes(_0x4f3392),listenForStudentProfiles(_0x4f3392);}else showMessage(_0x347fd8(0x2d9)),showView(_0x347fd8(0x559));}async function handleResetProjectOrder(){const _0x35f243=_0x411d30,_0x4332d5=doc(db,_0x35f243(0xf4),_0x35f243(0x639));try{await setDoc(_0x4332d5,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x35f243(0x438));}catch(_0x3febe6){console[_0x35f243(0x735)](_0x35f243(0x521),_0x3febe6),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x5f4f1f){const _0xfc2f64=_0x411d30;if(!_0x5f4f1f)return;const _0x4c4d0b=doc(db,_0xfc2f64(0x6c8)+appId+_0xfc2f64(0x5b2),_0x5f4f1f);try{const _0x2946e1=await getDoc(_0x4c4d0b);if(_0x2946e1[_0xfc2f64(0x50f)]()){const _0x5d865a=_0x2946e1[_0xfc2f64(0x516)]()[_0xfc2f64(0x103)]||![];await updateDoc(_0x4c4d0b,{'isPinned':!_0x5d865a});}}catch(_0x713319){console[_0xfc2f64(0x735)](_0xfc2f64(0x647),_0x713319),showMessage(_0xfc2f64(0x3cb));}}async function handleDeleteProject(_0x555d62){const _0x516686=_0x411d30;try{const _0x467004=writeBatch(db),_0x2b1340=collection(db,_0x516686(0x6c8)+appId+'/public/data/quizzes'),_0x42d15b=query(_0x2b1340,where(_0x516686(0x7e4),'==',_0x555d62)),_0x2ae1a5=await getDocs(_0x42d15b);for(const _0x5b2c4e of _0x2ae1a5[_0x516686(0x60e)]){const _0x1d0255=collection(db,_0x516686(0x6c8)+appId+'/public/data/quizzes/'+_0x5b2c4e['id']+'/submissions'),_0x2cb5f3=await getDocs(_0x1d0255);_0x2cb5f3['forEach'](_0x4df3d6=>{const _0x16a02f=_0x516686;_0x467004[_0x16a02f(0x283)](_0x4df3d6['ref']);}),_0x467004[_0x516686(0x283)](_0x5b2c4e[_0x516686(0x401)]);}const _0x27afc1=collection(db,_0x516686(0x6c8)+appId+_0x516686(0x5d4)+_0x555d62+_0x516686(0x32a)),_0x5a861f=await getDocs(_0x27afc1);_0x5a861f[_0x516686(0x65f)](_0x105f45=>{const _0x1bc19d=_0x516686;_0x467004[_0x1bc19d(0x283)](_0x105f45[_0x1bc19d(0x401)]);});const _0x3fe2b2=doc(db,_0x516686(0x6c8)+appId+_0x516686(0x5b2),_0x555d62);_0x467004[_0x516686(0x283)](_0x3fe2b2),await _0x467004[_0x516686(0x4e6)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x516686(0x559));}catch(_0x422779){console['error']('Error\x20deleting\x20project:',_0x422779),showMessage(_0x516686(0x5e9));}}document[_0x411d30(0x2da)](_0x411d30(0x3a3))['addEventListener'](_0x411d30(0x302),async()=>{const _0x44acd1=_0x411d30;if(!currentProjectId)return;const _0x31038d={'defaultNumQuestions':parseInt(document[_0x44acd1(0x2da)](_0x44acd1(0x397))[_0x44acd1(0x5b4)]),'defaultNumChoices':parseInt(document[_0x44acd1(0x2da)](_0x44acd1(0x5ce))['value']),'defaultPassingScore':parseInt(document[_0x44acd1(0x2da)]('passing-score-input')[_0x44acd1(0x5b4)]),'resultsDisplay':document['getElementById'](_0x44acd1(0x59c))['value'],'shuffleSetting':document[_0x44acd1(0x2da)]('shuffle-setting-select')['value'],'timerMode':document[_0x44acd1(0x2da)]('timer-mode-select')[_0x44acd1(0x5b4)],'timerDuration':parseInt(document[_0x44acd1(0x2da)](_0x44acd1(0x55f))[_0x44acd1(0x5b4)])};try{const _0x22daae=doc(db,_0x44acd1(0x6c8)+appId+_0x44acd1(0x5b2),currentProjectId);await updateDoc(_0x22daae,{'settings':_0x31038d}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x5b31b5){console['error']('Error\x20saving\x20settings:',_0x5b31b5),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x7f4d4a){const _0x3b886d=_0x411d30,_0x10de5c=doc(db,_0x3b886d(0x6c8)+appId+_0x3b886d(0x5b2),_0x7f4d4a);unsubscribeStudentsListener=onSnapshot(_0x10de5c,_0x5c0b64=>{const _0x461305=_0x3b886d;if(_0x5c0b64[_0x461305(0x50f)]()){const _0x18d461=_0x5c0b64['data']();currentProjectData=_0x18d461,renderStudentList(_0x18d461[_0x461305(0x1af)]||[]);}});}function renderStudentList(_0x4e9de7){const _0x47f4af=_0x411d30,_0x33782a=document['getElementById']('delete-all-students-btn');_0x4e9de7[_0x47f4af(0x412)]===0x0?(studentList[_0x47f4af(0x373)]=_0x47f4af(0x413),_0x33782a['classList'][_0x47f4af(0x483)](_0x47f4af(0x62f))):(studentList[_0x47f4af(0x373)]=_0x4e9de7['map'](_0x67e85e=>_0x47f4af(0x703)+_0x67e85e+_0x47f4af(0x4f5)+_0x67e85e+_0x47f4af(0x7eb))[_0x47f4af(0x6f4)](''),_0x33782a[_0x47f4af(0x5aa)][_0x47f4af(0x395)]('hidden'));}document[_0x411d30(0x2da)](_0x411d30(0x7e8))[_0x411d30(0x381)](_0x411d30(0x302),async()=>{const _0x481b23=_0x411d30;if(!currentProjectId)return;const _0x3a6512=document[_0x481b23(0x2da)](_0x481b23(0x7e5)),_0x25c485=_0x3a6512[_0x481b23(0x5b4)][_0x481b23(0x4b3)]();if(!_0x25c485){showMessage(_0x481b23(0x72e));return;}const _0x49cbb2=_0x25c485['split']('\x0a')['map'](_0x22f359=>_0x22f359[_0x481b23(0x4b3)]())[_0x481b23(0x850)](_0x3122a9=>_0x3122a9);if(_0x49cbb2[_0x481b23(0x412)]===0x0)return;try{const _0x1d879f=doc(db,_0x481b23(0x6c8)+appId+_0x481b23(0x5b2),currentProjectId),_0x2e7c11=await getDoc(_0x1d879f);if(_0x2e7c11[_0x481b23(0x50f)]()){const _0x148dd3=_0x2e7c11[_0x481b23(0x516)]()[_0x481b23(0x1af)]||[],_0x274e8e=[...new Set([..._0x148dd3,..._0x49cbb2])];await updateDoc(_0x1d879f,{'students':_0x274e8e}),_0x3a6512[_0x481b23(0x5b4)]='';}}catch(_0x5b26f7){console[_0x481b23(0x735)]('Error\x20adding\x20students:',_0x5b26f7),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x3ae060){const _0x541a86=_0x411d30,_0x337e46=document[_0x541a86(0x2da)](_0x541a86(0x28f)),_0x5e769a=document[_0x541a86(0x2da)]('move-quiz-project-select'),_0x147b74=_0x337e46[_0x541a86(0x6ce)]('h3'),_0x2a4dd9=document[_0x541a86(0x2da)](_0x541a86(0x2a8)),_0x13d4f1=document[_0x541a86(0x2da)]('cancel-move-quiz-btn');_0x147b74['textContent']=_0x541a86(0x7ae),_0x5e769a[_0x541a86(0x373)]=_0x541a86(0x38c),_0x2a4dd9[_0x541a86(0x769)]=_0x541a86(0x702),_0x337e46[_0x541a86(0x5aa)][_0x541a86(0x395)](_0x541a86(0x62f));const _0x442027=allQuizzes[_0x541a86(0x850)](_0x13d40e=>_0x13d40e['id']!==_0x3ae060);_0x442027[_0x541a86(0x412)]===0x0?(_0x5e769a['innerHTML']=_0x541a86(0x659),_0x2a4dd9['disabled']=!![]):(_0x5e769a[_0x541a86(0x373)]=_0x541a86(0x515)+_0x442027[_0x541a86(0x79a)](_0x3d5c69=>'<option\x20value=\x22'+_0x3d5c69['id']+'\x22>'+_0x3d5c69[_0x541a86(0x363)]+_0x541a86(0x535))[_0x541a86(0x6f4)](''),_0x2a4dd9['disabled']=![]);const _0x5cd658=async()=>{const _0x5a4b44=_0x541a86,_0x353503=_0x5e769a[_0x5a4b44(0x5b4)];if(!_0x353503){showMessage(_0x5a4b44(0x55e));return;}_0x2a4dd9['disabled']=!![],_0x2a4dd9[_0x5a4b44(0x769)]=_0x5a4b44(0x84b);try{const _0xad4c55=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x3ae060),_0x1e8dac=doc(db,_0x5a4b44(0x6c8)+appId+_0x5a4b44(0x7d7),_0x353503),_0x35b195=writeBatch(db);_0x35b195['update'](_0xad4c55,{'pairedQuizId':_0x353503}),_0x35b195[_0x5a4b44(0x6e7)](_0x1e8dac,{'pairedQuizId':_0x3ae060}),await _0x35b195[_0x5a4b44(0x4e6)](),showMessage(_0x5a4b44(0xf1)),_0x337e46[_0x5a4b44(0x5aa)]['add'](_0x5a4b44(0x62f));}catch(_0x2c507d){console[_0x5a4b44(0x735)](_0x5a4b44(0x869),_0x2c507d),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x147b74[_0x5a4b44(0x769)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x2a4dd9['textContent']=_0x5a4b44(0x6e6),_0x2a4dd9[_0x5a4b44(0x502)]=![],_0x2a4dd9[_0x5a4b44(0x621)](_0x5a4b44(0x302),_0x5cd658),_0x13d4f1[_0x5a4b44(0x621)](_0x5a4b44(0x302),_0x59c570);}},_0x59c570=()=>{const _0x34af37=_0x541a86;_0x337e46[_0x34af37(0x5aa)]['add'](_0x34af37(0x62f)),_0x147b74[_0x34af37(0x769)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x2a4dd9[_0x34af37(0x769)]=_0x34af37(0x6e6),_0x2a4dd9['removeEventListener'](_0x34af37(0x302),_0x5cd658),_0x13d4f1[_0x34af37(0x621)](_0x34af37(0x302),_0x59c570);};_0x2a4dd9[_0x541a86(0x381)](_0x541a86(0x302),_0x5cd658),_0x13d4f1[_0x541a86(0x381)](_0x541a86(0x302),_0x59c570);}function handleDeleteStudent(_0x29eb72){const _0x502448=_0x411d30;showConfirmation(_0x502448(0x2c1)+_0x29eb72+_0x502448(0x157),async()=>{const _0xcf11a2=_0x502448;if(!currentProjectId||!currentProjectData)return;const _0x7fefad=currentProjectData[_0xcf11a2(0x1af)][_0xcf11a2(0x850)](_0x17537f=>_0x17537f!==_0x29eb72);try{const _0x5565b2=doc(db,_0xcf11a2(0x6c8)+appId+_0xcf11a2(0x5b2),currentProjectId),_0x391128=doc(db,_0xcf11a2(0x6c8)+appId+_0xcf11a2(0x5d4)+currentProjectId+_0xcf11a2(0x32a),_0x29eb72),_0x557d0e=writeBatch(db);_0x557d0e[_0xcf11a2(0x6e7)](_0x5565b2,{'students':_0x7fefad}),_0x557d0e[_0xcf11a2(0x283)](_0x391128),await _0x557d0e[_0xcf11a2(0x4e6)]();}catch(_0x13cac3){console['error'](_0xcf11a2(0x1d6),_0x13cac3),showMessage(_0xcf11a2(0x305));}});}function handleDeleteAllStudents(){const _0xb99d32=_0x411d30;showConfirmation(_0xb99d32(0x5e5),async()=>{const _0x34acf9=_0xb99d32;if(!currentProjectId)return;try{const _0x5716ae=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId),_0x1988c8=collection(db,'artifacts/'+appId+'/public/data/projects/'+currentProjectId+_0x34acf9(0x32a)),_0x326cfc=await getDocs(_0x1988c8),_0x2bf779=writeBatch(db);_0x2bf779['update'](_0x5716ae,{'students':[]}),_0x326cfc[_0x34acf9(0x65f)](_0x3f9005=>_0x2bf779[_0x34acf9(0x283)](_0x3f9005[_0x34acf9(0x401)])),await _0x2bf779['commit']();}catch(_0x5d58e3){console[_0x34acf9(0x735)](_0x34acf9(0x6ab),_0x5d58e3),showMessage(_0x34acf9(0x393));}});}async function handleGenerateFromFileClick(){const _0x38e9a3=_0x411d30;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x4b589c=document[_0x38e9a3(0x2da)]('loader'),_0x32c211=document[_0x38e9a3(0x2da)](_0x38e9a3(0x57f)),_0x1b7643=document['getElementById'](_0x38e9a3(0x44c)),_0x38030c=document['getElementById'](_0x38e9a3(0x116));_0x38030c[_0x38e9a3(0x502)]=!![],document[_0x38e9a3(0x2da)]('quiz-generation-area')['classList']['remove'](_0x38e9a3(0x62f)),_0x1b7643[_0x38e9a3(0x373)]='',_0x4b589c['classList'][_0x38e9a3(0x395)](_0x38e9a3(0x62f)),_0x32c211[_0x38e9a3(0x769)]='กำลังอ่านและเตรียมไฟล์...';const _0x24ae64=new FileReader();_0x24ae64[_0x38e9a3(0x879)](selectedFile),_0x24ae64['onload']=async()=>{const _0x477f2e=_0x38e9a3;try{const _0x3fed78=_0x24ae64[_0x477f2e(0x492)]['split'](',')[0x1],_0x44d6a2=selectedFile[_0x477f2e(0x800)];await generateQuizFromFile(_0x44d6a2,_0x3fed78);}catch(_0x55aaff){console[_0x477f2e(0x735)]('Error\x20processing\x20file\x20for\x20AI:',_0x55aaff),showMessage(_0x477f2e(0x8f7)+_0x55aaff['message']),_0x4b589c['classList'][_0x477f2e(0x483)](_0x477f2e(0x62f));}finally{}},_0x24ae64[_0x38e9a3(0x267)]=_0x49c566=>{const _0x1d761a=_0x38e9a3;console[_0x1d761a(0x735)]('FileReader\x20error:',_0x49c566),showMessage(_0x1d761a(0x628)),_0x4b589c[_0x1d761a(0x5aa)]['add']('hidden'),_0x38030c['disabled']=![];};}function autoFormatMath(_0x5e62a1){const _0xaf2f18=_0x411d30;if(typeof _0x5e62a1!==_0xaf2f18(0x699)||!_0x5e62a1)return _0x5e62a1;const _0x280c0f=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x32d1d9=_0x5e62a1[_0xaf2f18(0x4cf)](_0x280c0f,_0x39b1e7=>{return'$'+_0x39b1e7['trim']()+'$';});return _0x32d1d9;}function sanitizeQuizData(_0x81bb19){const _0x328118=_0x411d30;if(!_0x81bb19||!_0x81bb19['questions'])return _0x81bb19;const _0x3981b0={'imes':_0x328118(0x85f),'div':_0x328118(0xeb)},_0x221f5c=_0x21c911=>{const _0xcaf129=_0x328118;if(typeof _0x21c911!==_0xcaf129(0x699))return _0x21c911;let _0x742ab8=_0x21c911;for(const [_0x55fe55,_0x159762]of Object[_0xcaf129(0x142)](_0x3981b0)){const _0x305ad1=new RegExp('\x5cb'+_0x55fe55+'\x5cb','g');_0x742ab8=_0x742ab8[_0xcaf129(0x4cf)](_0x305ad1,_0x159762);}return _0x742ab8=_0x742ab8[_0xcaf129(0x4cf)](/\\\//g,_0xcaf129(0xeb)),_0x742ab8=_0x742ab8['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,_0xcaf129(0xeb))[_0xcaf129(0x4cf)](/<(i|em)>\s*times\s*<\/\1>/gi,_0xcaf129(0x85f))['replace'](/÷/g,_0xcaf129(0xeb))['replace'](/×/g,_0xcaf129(0x85f)),_0x742ab8=_0x742ab8['replace'](/(\d)(\\frac)/g,_0xcaf129(0x866)),_0x742ab8=autoFormatMath(_0x742ab8),_0x742ab8;};return _0x81bb19[_0x328118(0x363)]&&(_0x81bb19['topic']=_0x221f5c(_0x81bb19[_0x328118(0x363)])),_0x81bb19['questions'][_0x328118(0x65f)](_0x4bb03c=>{const _0x46dff8=_0x328118;_0x4bb03c[_0x46dff8(0x5be)]=_0x221f5c(_0x4bb03c['questionText']),_0x4bb03c[_0x46dff8(0x7f7)]&&(_0x4bb03c[_0x46dff8(0x7f7)]=_0x4bb03c[_0x46dff8(0x7f7)][_0x46dff8(0x79a)](_0x221f5c)),_0x4bb03c[_0x46dff8(0x80c)]&&(_0x4bb03c[_0x46dff8(0x80c)]=_0x221f5c(_0x4bb03c[_0x46dff8(0x80c)])),_0x4bb03c[_0x46dff8(0x7ec)]&&(_0x4bb03c['stem']=_0x221f5c(_0x4bb03c[_0x46dff8(0x7ec)])),_0x4bb03c['correctResponse']&&(_0x4bb03c[_0x46dff8(0x4a1)]=_0x221f5c(_0x4bb03c['correctResponse'])),_0x4bb03c[_0x46dff8(0x5bd)]&&(_0x4bb03c['allResponses']=_0x4bb03c[_0x46dff8(0x5bd)][_0x46dff8(0x79a)](_0x221f5c));}),_0x81bb19;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x11b7d4=_0x411d30,_0x361dd2=document['getElementById'](_0x11b7d4(0x22a)),_0x2e9874=document[_0x11b7d4(0x2da)](_0x11b7d4(0x10f)),_0x28d4e2=_0x361dd2[_0x11b7d4(0x5b4)]['trim'](),_0x563433=_0x2e9874[_0x11b7d4(0x5b4)]['trim']();if(!_0x28d4e2){showMessage(_0x11b7d4(0x2dd));return;}const _0x4959e1=document[_0x11b7d4(0x2da)](_0x11b7d4(0xe9)),_0x5d5d34=document[_0x11b7d4(0x2da)](_0x11b7d4(0x57f)),_0x356d82=document[_0x11b7d4(0x2da)]('generated-quiz-container'),_0x5833e0=document[_0x11b7d4(0x2da)](_0x11b7d4(0x5c4));document[_0x11b7d4(0x2da)](_0x11b7d4(0x7ca))[_0x11b7d4(0x5aa)][_0x11b7d4(0x395)](_0x11b7d4(0x62f)),_0x356d82[_0x11b7d4(0x373)]='',_0x4959e1['classList'][_0x11b7d4(0x395)](_0x11b7d4(0x62f)),_0x5d5d34[_0x11b7d4(0x769)]=_0x11b7d4(0x6c9),_0x5833e0[_0x11b7d4(0x502)]=!![];try{const _0x30fcb6=_0x11b7d4(0x71c)+encodeURIComponent(_0x28d4e2),_0x45507e=await fetch(_0x30fcb6);if(!_0x45507e['ok'])throw new Error(_0x11b7d4(0x83a)+_0x45507e['status']+')');const _0x3e59e9=await _0x45507e[_0x11b7d4(0x51f)](),_0x4e9203=extractTextFromHtml(_0x3e59e9);if(!_0x4e9203||_0x4e9203['length']<0x64)throw new Error(_0x11b7d4(0x6fb));await generateQuiz(_0x563433,_0x4e9203);}catch(_0x24897a){console[_0x11b7d4(0x735)](_0x11b7d4(0x62b),_0x24897a),showMessage(_0x11b7d4(0x505)+_0x24897a['message']),_0x356d82[_0x11b7d4(0x373)]=_0x11b7d4(0x6b6);}finally{_0x4959e1[_0x11b7d4(0x5aa)]['add'](_0x11b7d4(0x62f)),_0x5833e0[_0x11b7d4(0x502)]=![];}}function extractTextFromHtml(_0x1c369c){const _0x466bf8=_0x411d30,_0x8430f=new DOMParser()['parseFromString'](_0x1c369c,_0x466bf8(0x4d7));return _0x8430f[_0x466bf8(0x7ea)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')[_0x466bf8(0x65f)](_0xab694f=>_0xab694f[_0x466bf8(0x395)]()),_0x8430f[_0x466bf8(0x685)][_0x466bf8(0x769)]||'';}document[_0x411d30(0x2da)](_0x411d30(0x16c))[_0x411d30(0x381)](_0x411d30(0x302),()=>{const _0x2dbcee=_0x411d30,_0x2c90c7=document[_0x2dbcee(0x2da)]('topic-input')[_0x2dbcee(0x5b4)][_0x2dbcee(0x4b3)]();generateQuiz(_0x2c90c7,null);}),document[_0x411d30(0x2da)](_0x411d30(0x5af))['addEventListener'](_0x411d30(0x302),()=>{const _0x417ad8=_0x411d30,_0x46252b=document['getElementById'](_0x417ad8(0x23e))[_0x417ad8(0x5b4)][_0x417ad8(0x4b3)]();if(!_0x46252b){showMessage(_0x417ad8(0x43b));return;}const _0x2fea13=document[_0x417ad8(0x2da)](_0x417ad8(0x8fd))['value'][_0x417ad8(0x4b3)]();generateQuiz(_0x2fea13,_0x46252b);});async function generateQuiz(_0x3f17b3,_0x376264,_0x52db48=null){const _0x7d793a=_0x411d30,_0x22973a=document['getElementById'](_0x7d793a(0x295))['checked'],_0x90631d=document['getElementById'](_0x7d793a(0xff))['value'],_0x56c029=document[_0x7d793a(0x2da)](_0x7d793a(0x397))[_0x7d793a(0x5b4)],_0x100cbe=document[_0x7d793a(0x2da)](_0x7d793a(0x5ce))[_0x7d793a(0x5b4)],_0x1ca692=document[_0x7d793a(0x2da)](_0x7d793a(0x3f5))[_0x7d793a(0x81a)],_0x27b1af=_0x1ca692?'':_0x7d793a(0x235),_0x161faa=document[_0x7d793a(0x2da)](_0x7d793a(0x11b)),_0x300cb4=_0x161faa['value'];let _0x2a442f='';_0x300cb4!=='auto'&&(_0x2a442f=_0x7d793a(0x28d)+_0x300cb4+'\x22');const _0x183b32=document[_0x7d793a(0x2da)](_0x7d793a(0x86c)),_0x5c195f=_0x183b32[_0x7d793a(0x5b4)];let _0x2ce88f='';_0x5c195f!==_0x7d793a(0x49e)&&(_0x2ce88f='โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x5c195f+_0x7d793a(0x1a1));const _0x3567ae=document[_0x7d793a(0x7ea)](_0x7d793a(0x4ff)),_0x535926=Array['from'](_0x3567ae)[_0x7d793a(0x79a)](_0x2f77d5=>_0x2f77d5[_0x7d793a(0x5b4)]);let _0x3f1d80='';_0x535926[_0x7d793a(0x412)]>0x0&&(_0x3f1d80=_0x7d793a(0x3b5)+_0x535926['join'](',\x20')+_0x7d793a(0x878));let _0x51ecc1='',_0x5f2ba7='',_0xe2862d,_0x17c167=_0x7d793a(0x7e1)+_0x3f17b3+'\x22';if(!_0x3f17b3&&_0x376264)_0x17c167=_0x7d793a(0x86d);else!_0x3f17b3&&!_0x376264&&(_0x17c167=_0x7d793a(0x6d2));const _0x466ebd={'type':_0x7d793a(0x102),'properties':{'questionText':{'type':_0x7d793a(0x532)},'options':{'type':_0x7d793a(0x534),'items':{'type':_0x7d793a(0x532)}},'correctAnswerIndex':{'type':_0x7d793a(0x3fd)},'explanation':{'type':_0x7d793a(0x532)},'imageCode':{'type':_0x7d793a(0x532)}},'required':['questionText',_0x7d793a(0x7f7),_0x7d793a(0x6a9),_0x7d793a(0x80c)]},_0x5df9ff={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x7d793a(0x532)},'explanation':{'type':_0x7d793a(0x532)},'imageCode':{'type':_0x7d793a(0x532)}},'required':[_0x7d793a(0x5be),'idealAnswer','explanation']},_0x5be280={'type':_0x7d793a(0x102),'properties':{'questionText':{'type':_0x7d793a(0x532)},'questionType':{'type':_0x7d793a(0x532),'enum':[_0x7d793a(0x247),_0x7d793a(0x637)]},'options':{'type':_0x7d793a(0x534),'items':{'type':_0x7d793a(0x532)}},'correctAnswerIndex':{'type':_0x7d793a(0x3fd)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x7d793a(0x532)},'imageCode':{'type':_0x7d793a(0x532)}},'required':[_0x7d793a(0x5be),_0x7d793a(0x6ec),_0x7d793a(0x80c)]},_0x217b98={'type':_0x7d793a(0x102),'properties':{'questionText':{'type':_0x7d793a(0x532)},'correctAnswer':{'type':_0x7d793a(0x8af)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x7d793a(0x532)}},'required':[_0x7d793a(0x5be),_0x7d793a(0x51d),_0x7d793a(0x80c)]},_0x179250={'type':'OBJECT','properties':{'questionType':{'type':_0x7d793a(0x532),'enum':[_0x7d793a(0x733)]},'stem':{'type':_0x7d793a(0x532)},'correctResponse':{'type':_0x7d793a(0x532)},'allResponses':{'type':'ARRAY','items':{'type':_0x7d793a(0x532)}},'explanation':{'type':_0x7d793a(0x532)},'imageCode':{'type':_0x7d793a(0x532)}},'required':[_0x7d793a(0x6ec),'stem',_0x7d793a(0x4a1),_0x7d793a(0x5bd),_0x7d793a(0x80c)]};let _0x261b2a;if(_0x52db48!==null){const _0x41ba6d=currentQuizData[_0x7d793a(0x7f5)][_0x52db48][_0x7d793a(0x6ec)],_0x419a0c=_0x22973a?_0x7d793a(0x2b6):'';_0x51ecc1=_0x7d793a(0x50d)+_0x17c167+'\x20'+_0x3f1d80+'\x20'+_0x2a442f+_0x7d793a(0x3ca)+_0x419a0c+'\x20'+simpleMathPrompt;if(_0x41ba6d===_0x7d793a(0x247))_0xe2862d=_0x466ebd;else{if(_0x41ba6d==='matching_item')_0xe2862d={'type':_0x7d793a(0x102),'properties':{'questionType':{'type':_0x7d793a(0x532),'enum':[_0x7d793a(0x733)]},'stem':{'type':_0x7d793a(0x532)},'correctResponse':{'type':_0x7d793a(0x532)},'explanation':{'type':_0x7d793a(0x532)},'imageCode':{'type':_0x7d793a(0x532)}},'required':[_0x7d793a(0x6ec),_0x7d793a(0x7ec),_0x7d793a(0x4a1),_0x7d793a(0x80c)]};else _0xe2862d=_0x5df9ff;}_0x261b2a=_0xe2862d;}else{const _0xf63ef=_0x22973a?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'',_0x2bad8b=_0x7d793a(0x72f);switch(_0x90631d){case _0x7d793a(0x247):_0x51ecc1='สร้างแบบทดสอบปรนัย'+_0x27b1af+'\x20'+_0x56c029+_0x7d793a(0x79f)+_0x17c167+'\x20'+_0x3f1d80+'\x20'+_0x2a442f+'\x20'+_0x2ce88f+'.\x20แต่ละข้อมี\x20'+_0x100cbe+_0x7d793a(0x829)+_0xf63ef+'\x20'+simpleMathPrompt,_0xe2862d=_0x466ebd;break;case _0x7d793a(0x2ad):_0x51ecc1=_0x7d793a(0x58b)+_0x27b1af+'\x20'+_0x56c029+_0x7d793a(0x79f)+_0x17c167+'\x20'+_0x3f1d80+'\x20'+_0x2a442f+'\x20'+_0x2ce88f+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x100cbe+_0x7d793a(0x169)+_0xf63ef+'\x20'+simpleMathPrompt,_0xe2862d=_0x466ebd;break;case _0x7d793a(0x7a5):_0x51ecc1=_0x7d793a(0x58b)+_0x27b1af+'\x20'+_0x56c029+_0x7d793a(0x79f)+_0x17c167+'\x20'+_0x3f1d80+'\x20'+_0x2a442f+'\x20'+_0x2ce88f+_0x7d793a(0x822)+_0xf63ef+'\x20'+simpleMathPrompt,_0xe2862d=_0x5df9ff;break;case _0x7d793a(0x49e):_0x51ecc1=_0x7d793a(0x53c)+_0x27b1af+'\x20'+_0x56c029+'\x20ข้อ\x20'+_0x17c167+'\x20'+_0x3f1d80+'\x20'+_0x2a442f+'\x20'+_0x2ce88f+_0x7d793a(0x672)+_0x100cbe+_0x7d793a(0x8c9)+_0xf63ef+'\x20'+simpleMathPrompt+'.',_0xe2862d=_0x5be280;break;case _0x7d793a(0x5e7):_0x51ecc1=_0x7d793a(0x8de)+_0x27b1af+'\x20'+_0x56c029+_0x7d793a(0x79f)+_0x17c167+'\x20'+_0x3f1d80+'\x20'+_0x2a442f+'\x20'+_0x2ce88f+_0x7d793a(0x17d)+_0xf63ef+'\x20'+simpleMathPrompt,_0xe2862d=_0x217b98;break;case _0x7d793a(0x390):_0x51ecc1=_0x7d793a(0x5f7)+_0x27b1af+'\x20'+_0x56c029+_0x7d793a(0x250)+_0x17c167+'\x20'+_0x3f1d80+'\x20'+_0x2a442f+'\x20'+_0x2ce88f+_0x7d793a(0x39f)+_0xf63ef+'\x20'+simpleMathPrompt,_0xe2862d=_0x179250;break;}_0x261b2a={'type':_0x7d793a(0x102),'properties':{'topic':{'type':_0x7d793a(0x532)},'questions':{'type':_0x7d793a(0x534),'items':_0xe2862d}},'required':[_0x7d793a(0x363),_0x7d793a(0x7f5)]};}return _0x376264?(_0x51ecc1=_0x7d793a(0x3e8)+_0x376264+'\x22,\x20'+_0x51ecc1,_0x5f2ba7='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):_0x5f2ba7='กำลังสร้างแบบทดสอบจากหัวข้อ...',handleApiCall(_0x51ecc1,_0x5f2ba7,_0x261b2a,_0x52db48);}async function generateQuizFromFile(_0x120113,_0x2ce28a){const _0x5f0b17=_0x411d30,_0x6eb912=document['getElementById'](_0x5f0b17(0x42b))[_0x5f0b17(0x5b4)][_0x5f0b17(0x4b3)](),_0x4f9b53=document[_0x5f0b17(0x2da)]('quiz-type-select')['value'],_0x51ad49=document['getElementById']('num-questions')[_0x5f0b17(0x5b4)],_0x52c36a=document[_0x5f0b17(0x2da)]('num-choices')['value'],_0x1e9a21=document['getElementById'](_0x5f0b17(0x295))[_0x5f0b17(0x81a)],_0x30a771=document['getElementById'](_0x5f0b17(0x3f5))[_0x5f0b17(0x81a)],_0x51d29d=_0x30a771?'':_0x5f0b17(0x235);let _0x39d70b='',_0x5f0fcc,_0x211d7b='เกี่ยวกับหัวข้อ\x20\x22'+_0x6eb912+'\x22';!_0x6eb912&&(_0x211d7b=_0x5f0b17(0x134));const _0x2b08d3=_0x1e9a21?_0x5f0b17(0x58e):'';switch(_0x4f9b53){case _0x5f0b17(0x247):_0x39d70b=_0x5f0b17(0x464)+_0x51d29d+'\x20'+_0x51ad49+_0x5f0b17(0x79f)+_0x211d7b+_0x5f0b17(0x191)+_0x52c36a+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x2b08d3+'\x20'+simpleMathPrompt,_0x5f0fcc={'type':_0x5f0b17(0x102),'properties':{'questionText':{'type':_0x5f0b17(0x532)},'options':{'type':_0x5f0b17(0x534),'items':{'type':_0x5f0b17(0x532)}},'correctAnswerIndex':{'type':_0x5f0b17(0x3fd)},'explanation':{'type':_0x5f0b17(0x532)},'imageCode':{'type':_0x5f0b17(0x532)}},'required':[_0x5f0b17(0x5be),'options',_0x5f0b17(0x6a9),_0x5f0b17(0x80c)]};break;case _0x5f0b17(0x2ad):_0x39d70b=_0x5f0b17(0x58b)+_0x51d29d+'\x20'+_0x51ad49+_0x5f0b17(0x79f)+_0x211d7b+_0x5f0b17(0x74d)+_0x52c36a+_0x5f0b17(0x169)+_0x2b08d3+'\x20'+simpleMathPrompt,_0x5f0fcc={'type':_0x5f0b17(0x102),'properties':{'questionText':{'type':_0x5f0b17(0x532)},'options':{'type':_0x5f0b17(0x534),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5f0b17(0x3fd)},'explanation':{'type':_0x5f0b17(0x532)},'imageCode':{'type':_0x5f0b17(0x532)}},'required':[_0x5f0b17(0x5be),_0x5f0b17(0x7f7),'correctAnswerIndex',_0x5f0b17(0x80c)]};break;case _0x5f0b17(0x7a5):_0x39d70b='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x51d29d+'\x20'+_0x51ad49+_0x5f0b17(0x79f)+_0x211d7b+_0x5f0b17(0x822)+_0x2b08d3+'\x20'+simpleMathPrompt,_0x5f0fcc={'type':_0x5f0b17(0x102),'properties':{'questionText':{'type':_0x5f0b17(0x532)},'idealAnswer':{'type':_0x5f0b17(0x532)},'explanation':{'type':_0x5f0b17(0x532)},'imageCode':{'type':_0x5f0b17(0x532)}},'required':[_0x5f0b17(0x5be),_0x5f0b17(0x3a5),_0x5f0b17(0x80c)]};break;case'mixed':_0x39d70b=_0x5f0b17(0x53c)+_0x51d29d+'\x20'+_0x51ad49+'\x20ข้อ\x20'+_0x211d7b+_0x5f0b17(0x58f)+_0x52c36a+_0x5f0b17(0x8c9)+_0x2b08d3+'\x20'+simpleMathPrompt+_0x5f0b17(0x59e),_0x5f0fcc={'type':'OBJECT','properties':{'questionText':{'type':_0x5f0b17(0x532)},'questionType':{'type':'STRING','enum':[_0x5f0b17(0x247),_0x5f0b17(0x637)]},'options':{'type':_0x5f0b17(0x534),'items':{'type':_0x5f0b17(0x532)}},'correctAnswerIndex':{'type':_0x5f0b17(0x3fd)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5f0b17(0x532)},'imageCode':{'type':_0x5f0b17(0x532)}},'required':[_0x5f0b17(0x5be),_0x5f0b17(0x6ec),_0x5f0b17(0x80c)]};break;case _0x5f0b17(0x5e7):_0x39d70b=_0x5f0b17(0x8de)+_0x51d29d+'\x20'+_0x51ad49+_0x5f0b17(0x79f)+_0x211d7b+_0x5f0b17(0x4c8)+_0x2b08d3+'\x20'+simpleMathPrompt,_0x5f0fcc={'type':_0x5f0b17(0x102),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x5f0b17(0x532)},'imageCode':{'type':'STRING'}},'required':[_0x5f0b17(0x5be),'correctAnswer',_0x5f0b17(0x80c)]};break;case _0x5f0b17(0x390):_0x39d70b=_0x5f0b17(0x5f7)+_0x51d29d+'\x20'+_0x51ad49+'\x20คู่\x20'+_0x211d7b+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x51ad49+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x2b08d3+'\x20'+simpleMathPrompt,_0x5f0fcc={'type':_0x5f0b17(0x102),'properties':{'questionType':{'type':_0x5f0b17(0x532),'enum':['matching_item']},'stem':{'type':_0x5f0b17(0x532)},'correctResponse':{'type':_0x5f0b17(0x532)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x5f0b17(0x532)},'imageCode':{'type':_0x5f0b17(0x532)}},'required':['questionType',_0x5f0b17(0x7ec),_0x5f0b17(0x4a1),_0x5f0b17(0x5bd),_0x5f0b17(0x80c)]};break;}const _0x307946={'type':'OBJECT','properties':{'topic':{'type':_0x5f0b17(0x532)},'questions':{'type':_0x5f0b17(0x534),'items':_0x5f0fcc}},'required':['topic',_0x5f0b17(0x7f5)]},_0x2f07dc='จากไฟล์ที่แนบมานี้,\x20'+_0x39d70b,_0x462435={'contents':[{'parts':[{'text':_0x2f07dc},{'inlineData':{'mimeType':_0x120113,'data':_0x2ce28a}}]}],'generationConfig':{'responseMimeType':_0x5f0b17(0x291),'responseSchema':_0x307946}};return handleApiCall(_0x462435[_0x5f0b17(0x4e9)][0x0]['parts'],_0x5f0b17(0x755),_0x307946);}async function handleApiCall(_0x318a3c,_0x315559,_0x50da7c,_0x1cc0e3=null){const _0x4adc48=_0x411d30,_0xe7ffee=document[_0x4adc48(0x2da)]('quiz-generation-area'),_0x45be9f=document[_0x4adc48(0x2da)](_0x4adc48(0xe9)),_0x10fe08=document['getElementById'](_0x4adc48(0x57f)),_0x5325ba=document[_0x4adc48(0x2da)](_0x4adc48(0x44c));_0xe7ffee['classList']['remove'](_0x4adc48(0x62f));_0x1cc0e3===null&&(_0x5325ba[_0x4adc48(0x373)]='');_0x45be9f[_0x4adc48(0x5aa)][_0x4adc48(0x395)](_0x4adc48(0x62f)),_0x10fe08[_0x4adc48(0x769)]=_0x315559,document[_0x4adc48(0x2da)](_0x4adc48(0x16c))['disabled']=!![],document[_0x4adc48(0x2da)](_0x4adc48(0x5af))[_0x4adc48(0x502)]=!![],document['getElementById'](_0x4adc48(0x5c4))[_0x4adc48(0x502)]=!![];try{const _0x15ad94={'responseMimeType':_0x4adc48(0x291),'responseSchema':_0x50da7c},_0x3f1d19=Array[_0x4adc48(0x50b)](_0x318a3c)?_0x318a3c:[{'text':_0x318a3c}],_0x4fe753={'contents':[{'role':_0x4adc48(0x709),'parts':_0x3f1d19}],'generationConfig':_0x15ad94},_0x477a7a=_0x4adc48(0x14b),_0x57d2fe='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x477a7a,_0xa55049=await fetch(_0x57d2fe,{'method':_0x4adc48(0x27d),'headers':{'Content-Type':_0x4adc48(0x291)},'body':JSON['stringify'](_0x4fe753)});if(!_0xa55049['ok'])throw new Error(_0x4adc48(0x6d4)+_0xa55049['status']);const _0x1a85f8=await _0xa55049[_0x4adc48(0x419)]();if(_0x1a85f8[_0x4adc48(0x3e6)]?.[0x0]?.[_0x4adc48(0x63f)]?.['parts']?.[0x0]){let _0x469970=_0x1a85f8['candidates'][0x0][_0x4adc48(0x63f)][_0x4adc48(0x561)][0x0][_0x4adc48(0x51f)],_0x596ac1;try{if(_0x469970[_0x4adc48(0x7df)](_0x4adc48(0x21d)))_0x469970=_0x469970[_0x4adc48(0x4bc)](0x7,_0x469970[_0x4adc48(0x412)]-0x3)['trim']();else _0x469970[_0x4adc48(0x7df)]('```')&&(_0x469970=_0x469970[_0x4adc48(0x4bc)](0x3,_0x469970[_0x4adc48(0x412)]-0x3)[_0x4adc48(0x4b3)]());_0x596ac1=JSON['parse'](_0x469970);}catch(_0x31eee7){console[_0x4adc48(0x735)](_0x4adc48(0x425),_0x31eee7,_0x469970);throw new Error(_0x4adc48(0x62e));}if(_0x1cc0e3!==null){if(_0x596ac1[_0x4adc48(0x6ec)]==='matching_item'){const _0x117c4c=currentQuizData[_0x4adc48(0x7f5)][_0x4adc48(0x79a)](_0x1e925b=>_0x1e925b[_0x4adc48(0x4a1)]);_0x596ac1[_0x4adc48(0x5bd)]=_0x117c4c;const _0x28c45c=currentQuizData[_0x4adc48(0x7f5)][_0x1cc0e3][_0x4adc48(0x4a1)],_0x2cf9f5=_0x117c4c['indexOf'](_0x28c45c);_0x2cf9f5>-0x1&&(_0x117c4c[_0x2cf9f5]=_0x596ac1[_0x4adc48(0x4a1)]),currentQuizData['questions'][_0x4adc48(0x65f)](_0x2dc28b=>{const _0xedc5e9=_0x4adc48;if(_0x2dc28b[_0xedc5e9(0x6ec)]===_0xedc5e9(0x733))_0x2dc28b['allResponses']=_0x117c4c;});}currentQuizData[_0x4adc48(0x7f5)][_0x1cc0e3]=_0x596ac1,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x596ac1;const _0x42f224=document[_0x4adc48(0x2da)]('quiz-type-select')['value'];currentQuizData[_0x4adc48(0x285)]=_0x42f224,currentQuizData['questions']&&currentQuizData[_0x4adc48(0x7f5)][_0x4adc48(0x65f)](_0x2af824=>{const _0x56e7f7=_0x4adc48;if(!_0x2af824['questionType']){if(_0x42f224==='fill_in_with_choices')_0x2af824[_0x56e7f7(0x6ec)]=_0x56e7f7(0x247);else _0x42f224===_0x56e7f7(0x7a5)?_0x2af824[_0x56e7f7(0x6ec)]='short_answer':_0x2af824[_0x56e7f7(0x6ec)]=_0x42f224;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x4adc48(0x735)](_0x4adc48(0x10d),JSON[_0x4adc48(0x3c6)](_0x1a85f8));throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}}catch(_0x4bb87f){console[_0x4adc48(0x735)]('Error\x20generating\x20quiz:',_0x4bb87f),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง'),_0x1cc0e3===null&&(_0x5325ba[_0x4adc48(0x373)]=_0x4adc48(0x332));}finally{_0x45be9f[_0x4adc48(0x5aa)][_0x4adc48(0x483)](_0x4adc48(0x62f)),document['getElementById'](_0x4adc48(0x16c))[_0x4adc48(0x502)]=![],document[_0x4adc48(0x2da)](_0x4adc48(0x5af))[_0x4adc48(0x502)]=![],document[_0x4adc48(0x2da)](_0x4adc48(0x5c4))[_0x4adc48(0x502)]=![];const _0x39ce2c=document['getElementById'](_0x4adc48(0x116));_0x39ce2c&&(_0x39ce2c[_0x4adc48(0x502)]=![]);}}function exitFullscreen(){const _0x36b5c4=_0x411d30;if(document[_0x36b5c4(0x643)])document[_0x36b5c4(0x643)]()[_0x36b5c4(0x2bb)](_0x1e41b0=>console[_0x36b5c4(0x735)](_0x1e41b0));else{if(document[_0x36b5c4(0x404)])document[_0x36b5c4(0x404)]();else document[_0x36b5c4(0x666)]&&document[_0x36b5c4(0x666)]();}}function enterFullscreen(){const _0x53bf99=_0x411d30,_0x5d3aab=document[_0x53bf99(0x4ed)];if(_0x5d3aab[_0x53bf99(0x2d7)])_0x5d3aab[_0x53bf99(0x2d7)]()[_0x53bf99(0x2bb)](_0x163977=>{const _0x4fd11f=_0x53bf99;console[_0x4fd11f(0x735)](_0x4fd11f(0x652)+_0x163977[_0x4fd11f(0x2d1)]+'\x20('+_0x163977['name']+')');});else{if(_0x5d3aab['webkitRequestFullscreen'])_0x5d3aab['webkitRequestFullscreen']();else _0x5d3aab[_0x53bf99(0x124)]&&_0x5d3aab['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x551818=_0x411d30;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x551818(0x1f6),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x551818(0x64f)+maxCheatAttempts+_0x551818(0x6a7)),document['getElementById']('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x551818(0x621)](_0x551818(0x20d),handleVisibilityChange),document[_0x551818(0x621)](_0x551818(0x788),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x551818(0x64b),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x215cb1=_0x411d30;if(currentMode==='admin-testing'||!isQuizActive)return;if(document[_0x215cb1(0x241)]===_0x215cb1(0x62f))handleCheatingEvent();else document[_0x215cb1(0x241)]==='visible'&&(console[_0x215cb1(0x50c)]('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x4ab039=_0x411d30;if(currentMode===_0x4ab039(0x144)||!isQuizActive)return;!document[_0x4ab039(0x692)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x18b2d3){const _0x11ab4e=_0x411d30,_0x1e8756=document[_0x11ab4e(0x2da)]('generated-quiz-container');let _0x238dd8=_0x11ab4e(0x3ed)+_0x18b2d3[_0x11ab4e(0x363)]+'</h3>';_0x18b2d3[_0x11ab4e(0x7f5)][_0x11ab4e(0x65f)]((_0x3739fd,_0x35d20f)=>{const _0x4e0830=_0x11ab4e;!_0x3739fd['id']&&(_0x3739fd['id']='q_'+Date[_0x4e0830(0x542)]()+'_'+_0x35d20f);const _0xf3986f=_0x3739fd[_0x4e0830(0x6ec)]||_0x18b2d3[_0x4e0830(0x285)];_0x238dd8+=_0x4e0830(0x75b)+_0x35d20f+_0x4e0830(0x2e7)+_0x35d20f+'\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x35d20f+_0x4e0830(0x7cc)+_0x35d20f+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0xf3986f){case _0x4e0830(0x733):_0x238dd8+=_0x4e0830(0x195)+_0x35d20f+'\x22>'+(_0x35d20f+0x1)+'.\x20'+_0x3739fd['stem']+_0x4e0830(0x34c);_0x3739fd['imageCode']&&(_0x238dd8+='<div\x20id=\x22q-image-container-'+_0x35d20f+_0x4e0830(0x450)+_0x3739fd['imageCode']+_0x4e0830(0x45f));_0x238dd8+=_0x4e0830(0x223)+_0x35d20f+'\x22>'+_0x3739fd[_0x4e0830(0x4a1)]+_0x4e0830(0x58c),_0x238dd8+=_0x4e0830(0x848)+_0x35d20f+'\x22>'+_0x3739fd[_0x4e0830(0x80c)]+_0x4e0830(0x58c);break;case _0x4e0830(0x637):_0x238dd8+=_0x4e0830(0x195)+_0x35d20f+'\x22>'+(_0x35d20f+0x1)+'.\x20'+_0x3739fd[_0x4e0830(0x5be)]+_0x4e0830(0x34c);_0x3739fd[_0x4e0830(0x6a8)]&&(_0x238dd8+=_0x4e0830(0x65e)+_0x35d20f+_0x4e0830(0x450)+_0x3739fd[_0x4e0830(0x6a8)]+_0x4e0830(0x45f));_0x238dd8+=_0x4e0830(0x70f)+_0x35d20f+'\x22>'+_0x3739fd[_0x4e0830(0x3a5)]+_0x4e0830(0x58c),_0x238dd8+=_0x4e0830(0x848)+_0x35d20f+'\x22>'+_0x3739fd[_0x4e0830(0x80c)]+'</span></div>';break;case _0x4e0830(0x5e7):_0x238dd8+=_0x4e0830(0x195)+_0x35d20f+'\x22>'+(_0x35d20f+0x1)+'.\x20'+_0x3739fd[_0x4e0830(0x5be)]+_0x4e0830(0x34c);_0x3739fd[_0x4e0830(0x6a8)]&&(_0x238dd8+=_0x4e0830(0x65e)+_0x35d20f+_0x4e0830(0x450)+_0x3739fd[_0x4e0830(0x6a8)]+'</div>');_0x238dd8+=_0x4e0830(0x835)+(_0x3739fd['correctAnswer']===!![]?_0x4e0830(0x824):'')+_0x4e0830(0x10c)+(_0x3739fd[_0x4e0830(0x51d)]===![]?_0x4e0830(0x824):'')+_0x4e0830(0x24b),_0x238dd8+=_0x4e0830(0x848)+_0x35d20f+'\x22>'+_0x3739fd['explanation']+_0x4e0830(0x58c);break;case _0x4e0830(0x4d8):case _0x4e0830(0x247):default:_0x238dd8+=_0x4e0830(0x195)+_0x35d20f+'\x22>'+(_0x35d20f+0x1)+'.\x20'+_0x3739fd[_0x4e0830(0x5be)]+_0x4e0830(0x34c);_0x3739fd[_0x4e0830(0x6a8)]&&(_0x238dd8+=_0x4e0830(0x65e)+_0x35d20f+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3739fd['imageCode']+_0x4e0830(0x45f));_0x238dd8+=_0x4e0830(0x356)+_0x35d20f+_0x4e0830(0x55b)+_0x3739fd[_0x4e0830(0x7f7)][_0x4e0830(0x79a)]((_0x44892c,_0x291cbb)=>_0x4e0830(0x5d0)+(_0x291cbb===_0x3739fd['correctAnswerIndex']?_0x4e0830(0x824):'')+'\x22>'+_0x44892c+'</li>')[_0x4e0830(0x6f4)]('')+_0x4e0830(0x408),_0x238dd8+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x35d20f+'\x22>'+_0x3739fd[_0x4e0830(0x80c)]+_0x4e0830(0x58c);break;}_0x238dd8+=_0x4e0830(0x45f);}),_0x238dd8+=_0x11ab4e(0x14f),_0x1e8756[_0x11ab4e(0x373)]=_0x238dd8,document[_0x11ab4e(0x7ea)]('.edit-question-btn')[_0x11ab4e(0x65f)](_0x4f5def=>_0x4f5def[_0x11ab4e(0x381)](_0x11ab4e(0x302),handleEditQuestion)),document[_0x11ab4e(0x7ea)](_0x11ab4e(0x388))['forEach'](_0x26ec0d=>_0x26ec0d['addEventListener'](_0x11ab4e(0x302),handleRegenerateQuestion)),document['querySelectorAll'](_0x11ab4e(0x580))['forEach'](_0x7de69e=>_0x7de69e[_0x11ab4e(0x381)](_0x11ab4e(0x302),handleSaveToBank)),document[_0x11ab4e(0x2da)](_0x11ab4e(0x54c))[_0x11ab4e(0x381)](_0x11ab4e(0x302),exportQuizAsWorksheetPDF),document[_0x11ab4e(0x2da)](_0x11ab4e(0x3ec))[_0x11ab4e(0x381)](_0x11ab4e(0x302),saveQuiz),document['getElementById'](_0x11ab4e(0x25e))[_0x11ab4e(0x381)](_0x11ab4e(0x302),handleVerifyAnswers);if(window['MathJax'])window[_0x11ab4e(0x3d6)][_0x11ab4e(0x1de)]([_0x1e8756]);}function handleRegenerateQuestion(_0x2214f2){const _0x3ed9aa=_0x411d30,_0x2cfeb8=_0x2214f2['currentTarget'][_0x3ed9aa(0x5a1)][_0x3ed9aa(0x328)],_0xf7ba75=currentQuizData['topic'];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x2cfeb8)+0x1)+'\x20ใหม่...'),generateQuiz(_0xf7ba75,null,parseInt(_0x2cfeb8));}function getPointerPosition(_0x4f5d25,_0x32fee){const _0x5adb4d=_0x411d30,_0x37509b=_0x4f5d25['getScreenCTM']();let _0x71ddd2,_0x11ad82;return _0x32fee[_0x5adb4d(0x331)]&&_0x32fee['touches'][_0x5adb4d(0x412)]>0x0?(_0x71ddd2=_0x32fee['touches'][0x0]['clientX'],_0x11ad82=_0x32fee[_0x5adb4d(0x331)][0x0]['clientY']):(_0x71ddd2=_0x32fee[_0x5adb4d(0x364)],_0x11ad82=_0x32fee['clientY']),{'x':(_0x71ddd2-_0x37509b['e'])/_0x37509b['a'],'y':(_0x11ad82-_0x37509b['f'])/_0x37509b['d']};}function startDrag(_0x3f9c0c){const _0x51224c=_0x411d30;_0x3f9c0c[_0x51224c(0x800)]==='touchstart'&&_0x3f9c0c['preventDefault']();const _0x260774=_0x3f9c0c[_0x51224c(0x7cd)][_0x51224c(0x588)](_0x51224c(0x8f5));if(_0x260774){draggedSvgElement=_0x260774;const _0x525614=draggedSvgElement['ownerSVGElement'],_0x431f1b=getPointerPosition(_0x525614,_0x3f9c0c);svgOffset['x']=_0x431f1b['x']-parseFloat(draggedSvgElement[_0x51224c(0x199)](null,'x')),svgOffset['y']=_0x431f1b['y']-parseFloat(draggedSvgElement[_0x51224c(0x199)](null,'y'));}}function calculateItemAnalysis(_0x2417e1,_0x4a4956){const _0x592254=_0x411d30,_0x72961e={};if(_0x4a4956['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x512ff1=[..._0x4a4956][_0x592254(0x73c)]((_0x3860cc,_0x2f4196)=>{const _0x43dbcc=_0x592254,_0x4b80d3=_0x2f4196['latestScore']-_0x3860cc[_0x43dbcc(0x73d)];if(_0x4b80d3!==0x0)return _0x4b80d3;const _0x4356db=_0x3860cc[_0x43dbcc(0x41c)]?.[_0x43dbcc(0x412)]||0x1,_0x3e579e=_0x2f4196[_0x43dbcc(0x41c)]?.['length']||0x1,_0x2c9026=_0x4356db-_0x3e579e;if(_0x2c9026!==0x0)return _0x2c9026;const _0x12923e=new Date(_0x3860cc[_0x43dbcc(0x202)]),_0x213d59=new Date(_0x2f4196[_0x43dbcc(0x202)]),_0x4929bc=_0x12923e-_0x213d59;if(_0x4929bc!==0x0)return _0x4929bc;return _0x3860cc['studentName']['localeCompare'](_0x2f4196['studentName'],'th');}),_0x15ef78=_0x512ff1['length'],_0x52e972=Math[_0x592254(0x1a8)](0x1,Math['floor'](_0x15ef78*0.33));if(_0x52e972===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x4fa1fa=_0x512ff1['slice'](0x0,_0x52e972),_0x43e964=_0x512ff1['slice'](-_0x52e972),_0x478a6e=_0x4fa1fa['map'](_0x5ea5f7=>_0x5ea5f7[_0x592254(0x727)]),_0xec5c70=_0x43e964[_0x592254(0x79a)](_0x4821ea=>_0x4821ea[_0x592254(0x727)]);return _0x2417e1[_0x592254(0x7f5)][_0x592254(0x65f)]((_0x49530b,_0x358528)=>{const _0x17b1a6=_0x592254,_0x55443e=_0x49530b[_0x17b1a6(0x7ec)]||_0x49530b[_0x17b1a6(0x5be)];let _0x125bb0=0x0,_0x18025f=0x0,_0x3ef9c4=0x0;const _0x1be351=[],_0x453b2d=[];_0x4fa1fa[_0x17b1a6(0x65f)](_0x2830fa=>{const _0x42897e=_0x17b1a6,_0x4468cf=_0x2830fa[_0x42897e(0x41c)][_0x2830fa[_0x42897e(0x41c)]['length']-0x1],_0xc11197=_0x4468cf[_0x42897e(0x263)]['find'](_0x46a80a=>_0x46a80a['originalQuestionText']===_0x55443e);_0x1be351['push']({'name':_0x2830fa['studentName'],'isCorrect':_0xc11197?_0xc11197[_0x42897e(0x6c2)]:![]}),_0xc11197&&_0xc11197[_0x42897e(0x6c2)]&&_0x18025f++;}),_0x43e964[_0x17b1a6(0x65f)](_0x32a4e7=>{const _0x2c7af9=_0x17b1a6,_0x17be43=_0x32a4e7[_0x2c7af9(0x41c)][_0x32a4e7[_0x2c7af9(0x41c)][_0x2c7af9(0x412)]-0x1],_0x3fac7d=_0x17be43['answers']['find'](_0x329581=>_0x329581[_0x2c7af9(0x2ee)]===_0x55443e);_0x453b2d[_0x2c7af9(0x56e)]({'name':_0x32a4e7[_0x2c7af9(0x727)],'isCorrect':_0x3fac7d?_0x3fac7d[_0x2c7af9(0x6c2)]:![]}),_0x3fac7d&&_0x3fac7d['isCorrect']&&_0x3ef9c4++;}),_0x4a4956['forEach'](_0x1f08f4=>{const _0x123f92=_0x17b1a6,_0x2955a5=_0x1f08f4[_0x123f92(0x41c)][_0x1f08f4[_0x123f92(0x41c)][_0x123f92(0x412)]-0x1],_0x5f4249=_0x2955a5['answers'][_0x123f92(0x151)](_0x3c4a6e=>_0x3c4a6e[_0x123f92(0x2ee)]===_0x55443e);_0x5f4249&&_0x5f4249['isCorrect']&&_0x125bb0++;});const _0x44ad3b=_0x15ef78>0x0?_0x125bb0/_0x15ef78:0x0,_0x3f428b=_0x52e972>0x0?_0x18025f/_0x52e972-_0x3ef9c4/_0x52e972:0x0;_0x72961e[_0x358528]={'p':_0x44ad3b,'r':_0x3f428b,'upperGroupResponders':_0x1be351,'lowerGroupResponders':_0x453b2d};}),{'perQuestionStats':_0x72961e,'overallGroups':{'upperGroupNames':_0x478a6e,'lowerGroupNames':_0xec5c70}};}function drag(_0x3b77d3){const _0x366aa5=_0x411d30;if(draggedSvgElement){_0x3b77d3[_0x366aa5(0x6bc)]();const _0x289356=draggedSvgElement[_0x366aa5(0x69f)],_0x1e9f42=getPointerPosition(_0x289356,_0x3b77d3),_0x464a91=_0x289356[_0x366aa5(0x6a5)][_0x366aa5(0x88c)];let _0x5d300a=_0x1e9f42['x']-svgOffset['x'],_0x11b6cd=_0x1e9f42['y']-svgOffset['y'];const _0x1e00a9=draggedSvgElement[_0x366aa5(0x158)]();_0x5d300a=Math[_0x366aa5(0x1a8)](_0x464a91['x'],Math['min'](_0x5d300a,_0x464a91['x']+_0x464a91['width']-_0x1e00a9[_0x366aa5(0x3ff)])),_0x11b6cd=Math[_0x366aa5(0x1a8)](_0x464a91['y'],Math['min'](_0x11b6cd,_0x464a91['y']+_0x464a91[_0x366aa5(0x1b9)]-_0x1e00a9[_0x366aa5(0x1b9)])),draggedSvgElement[_0x366aa5(0x8ea)](null,'x',_0x5d300a),draggedSvgElement['setAttributeNS'](null,'y',_0x11b6cd);}}function endDrag(_0x5aee41){draggedSvgElement=null;}function handleSvgEditClick(_0x4d8a91){const _0xc8ae88=_0x411d30;if(_0x4d8a91[_0xc8ae88(0x7cd)][_0xc8ae88(0x5aa)][_0xc8ae88(0x3ac)](_0xc8ae88(0x844))){const _0x4c9d76=_0x4d8a91[_0xc8ae88(0x7cd)][_0xc8ae88(0x5a1)][_0xc8ae88(0x428)],_0x44d9d1=_0x4d8a91[_0xc8ae88(0x478)],_0x58ac61=_0x44d9d1['querySelector']('#'+_0x4c9d76);_0x58ac61&&_0x58ac61[_0xc8ae88(0x395)](),_0x4d8a91[_0xc8ae88(0x7cd)][_0xc8ae88(0x395)]();}}function handleEditQuestion(_0x260022){const _0x55fb43=_0x411d30,_0x233696=_0x260022[_0x55fb43(0x478)],_0x1bbfff=_0x233696[_0x55fb43(0x5a1)]['index'],_0x4af416=currentQuizData[_0x55fb43(0x7f5)][_0x1bbfff],_0x5d98ae=document['getElementById']('q-text-'+_0x1bbfff),_0x30c7c6=document['getElementById']('q-explanation-'+_0x1bbfff),_0x1b0cc9=document['getElementById']('q-image-container-'+_0x1bbfff);if(_0x233696[_0x55fb43(0x373)][_0x55fb43(0x411)](_0x55fb43(0x5ea))){_0x233696[_0x55fb43(0x373)]=_0x55fb43(0x1bd),_0x233696[_0x55fb43(0x7b8)]=_0x55fb43(0x640);if(_0x5d98ae)_0x5d98ae[_0x55fb43(0x841)]=!![];if(_0x30c7c6)_0x30c7c6[_0x55fb43(0x841)]=!![];if(_0x1b0cc9){const _0x345582=_0x1b0cc9[_0x55fb43(0x6ce)](_0x55fb43(0x5d8));if(_0x345582){const _0xcff7f3=_0x345582['querySelectorAll'](_0x55fb43(0x51f));_0xcff7f3[_0x55fb43(0x65f)]((_0x3c356c,_0x2e2a90)=>{const _0x481283=_0x55fb43,_0x1c248c='editable-text-'+_0x1bbfff+'-'+_0x2e2a90;_0x3c356c['id']=_0x1c248c,_0x3c356c[_0x481283(0x5aa)]['add'](_0x481283(0x45d)),_0x3c356c[_0x481283(0x74e)][_0x481283(0x369)]='move';const _0x558977=document[_0x481283(0x613)](_0x481283(0x56a),_0x481283(0x4fa)),_0x489b70=_0x3c356c['getBBox']();_0x558977[_0x481283(0xe2)]('cx',String(_0x489b70['x']+_0x489b70['width']+0x5)),_0x558977['setAttribute']('cy',String(_0x489b70['y']+_0x489b70[_0x481283(0x1b9)]/0x2-0x5)),_0x558977['setAttribute']('r','5'),_0x558977[_0x481283(0xe2)](_0x481283(0x8fa),_0x481283(0x503)),_0x558977[_0x481283(0xe2)](_0x481283(0x1e2),_0x481283(0x844)),_0x558977[_0x481283(0x5a1)][_0x481283(0x428)]=_0x1c248c,_0x3c356c['after'](_0x558977);}),_0x345582[_0x55fb43(0x381)](_0x55fb43(0x136),startDrag),_0x345582[_0x55fb43(0x381)](_0x55fb43(0x488),drag),_0x345582[_0x55fb43(0x381)]('mouseup',endDrag),_0x345582[_0x55fb43(0x381)](_0x55fb43(0x120),endDrag),_0x345582[_0x55fb43(0x381)](_0x55fb43(0x5f6),startDrag,{'passive':![]}),_0x345582[_0x55fb43(0x381)](_0x55fb43(0x8a4),drag,{'passive':![]}),_0x345582[_0x55fb43(0x381)](_0x55fb43(0x14a),endDrag),_0x345582[_0x55fb43(0x381)](_0x55fb43(0xf2),endDrag),_0x345582[_0x55fb43(0x381)](_0x55fb43(0x302),handleSvgEditClick);}}if(_0x5d98ae)_0x5d98ae[_0x55fb43(0x57e)]();}else{_0x233696[_0x55fb43(0x373)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x233696[_0x55fb43(0x7b8)]=_0x55fb43(0x8ab);if(_0x5d98ae){_0x5d98ae['contentEditable']=![];const _0xd0f83e=_0x4af416[_0x55fb43(0x6ec)]||currentQuizData[_0x55fb43(0x285)];_0xd0f83e==='matching_item'?_0x4af416[_0x55fb43(0x7ec)]=_0x5d98ae[_0x55fb43(0x739)][_0x55fb43(0x4bc)](_0x5d98ae[_0x55fb43(0x739)][_0x55fb43(0x68a)]('.')+0x2)['trim']():_0x4af416[_0x55fb43(0x5be)]=_0x5d98ae[_0x55fb43(0x739)][_0x55fb43(0x4bc)](_0x5d98ae[_0x55fb43(0x739)]['indexOf']('.')+0x2)[_0x55fb43(0x4b3)]();}_0x30c7c6&&(_0x30c7c6[_0x55fb43(0x841)]=![],_0x4af416[_0x55fb43(0x80c)]=_0x30c7c6[_0x55fb43(0x739)]);if(_0x1b0cc9){const _0x349964=_0x1b0cc9[_0x55fb43(0x6ce)](_0x55fb43(0x5d8));if(_0x349964){const _0x3a39d2=_0x349964['cloneNode'](!![]);_0x3a39d2[_0x55fb43(0x7ea)](_0x55fb43(0x19a))[_0x55fb43(0x65f)](_0x496175=>_0x496175[_0x55fb43(0x395)]()),_0x3a39d2[_0x55fb43(0x7ea)]('.draggable-text')[_0x55fb43(0x65f)](_0x4aa28e=>{const _0x13b8e3=_0x55fb43;_0x4aa28e['classList'][_0x13b8e3(0x395)](_0x13b8e3(0x45d)),_0x4aa28e[_0x13b8e3(0x74e)][_0x13b8e3(0x369)]='default',_0x4aa28e[_0x13b8e3(0x538)]('id');}),_0x4af416[_0x55fb43(0x6a8)]=_0x3a39d2[_0x55fb43(0x52f)],_0x349964[_0x55fb43(0x621)]('mousedown',startDrag),_0x349964[_0x55fb43(0x621)](_0x55fb43(0x488),drag),_0x349964[_0x55fb43(0x621)](_0x55fb43(0x2d8),endDrag),_0x349964[_0x55fb43(0x621)](_0x55fb43(0x120),endDrag),_0x349964['removeEventListener'](_0x55fb43(0x5f6),startDrag),_0x349964[_0x55fb43(0x621)](_0x55fb43(0x8a4),drag),_0x349964[_0x55fb43(0x621)]('touchend',endDrag),_0x349964['removeEventListener'](_0x55fb43(0xf2),endDrag),_0x349964[_0x55fb43(0x621)](_0x55fb43(0x302),handleSvgEditClick),_0x349964['querySelectorAll'](_0x55fb43(0x19a))[_0x55fb43(0x65f)](_0x4367be=>_0x4367be[_0x55fb43(0x395)]()),_0x349964['querySelectorAll']('.draggable-text')[_0x55fb43(0x65f)](_0x189e1d=>{const _0x2c515e=_0x55fb43;_0x189e1d[_0x2c515e(0x5aa)]['remove']('draggable-text'),_0x189e1d[_0x2c515e(0x74e)]['cursor']='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x567d17){const _0x2f1d99=_0x411d30,_0x2efffe=document[_0x2f1d99(0x2da)](_0x2f1d99(0x7e7)),_0x28dda=document['getElementById'](_0x2f1d99(0x17a));_0x28dda[_0x2f1d99(0x373)]=_0x2f1d99(0x860),_0x2efffe['classList'][_0x2f1d99(0x395)](_0x2f1d99(0x62f));try{const _0x4bd42d=doc(db,_0x2f1d99(0x6c8)+appId+'/public/data/quizzes',_0x567d17),_0x40dd2f=await getDoc(_0x4bd42d);if(!_0x40dd2f[_0x2f1d99(0x50f)]())throw new Error(_0x2f1d99(0x1d9));currentEditingQuizData={'id':_0x567d17,..._0x40dd2f[_0x2f1d99(0x516)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x458f6c){console[_0x2f1d99(0x735)]('Error\x20opening\x20quiz\x20editor:',_0x458f6c),showMessage(_0x2f1d99(0x4ec)),_0x2efffe[_0x2f1d99(0x5aa)][_0x2f1d99(0x483)](_0x2f1d99(0x62f));}}function renderQuizEditor(_0x2ae800){const _0x21ef8a=_0x411d30;document[_0x21ef8a(0x2da)]('editor-quiz-topic')[_0x21ef8a(0x5b4)]=_0x2ae800[_0x21ef8a(0x363)];const _0x242dd3=document[_0x21ef8a(0x2da)](_0x21ef8a(0x17a));let _0x11c13b=_0x2ae800[_0x21ef8a(0x7f5)][_0x21ef8a(0x79a)]((_0x4cf35a,_0x153d9d)=>{const _0x1ab56f=_0x21ef8a;let _0x22ee1a='';const _0x1c6768=_0x4cf35a[_0x1ab56f(0x6ec)]||_0x2ae800[_0x1ab56f(0x285)];switch(_0x1c6768){case'multiple_choice':const _0x9c9d52=(_0x4cf35a[_0x1ab56f(0x7f7)]||[])[_0x1ab56f(0x79a)]((_0x57718b,_0x5c326e)=>_0x1ab56f(0x861)+_0x153d9d+_0x1ab56f(0x3cf)+_0x5c326e+'\x22\x20'+(_0x5c326e===_0x4cf35a[_0x1ab56f(0x6a9)]?_0x1ab56f(0x81a):'')+_0x1ab56f(0x13a)+_0x57718b+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');_0x22ee1a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x9c9d52+_0x1ab56f(0x19c);break;case'short_answer':_0x22ee1a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x4cf35a[_0x1ab56f(0x3a5)]||'')+_0x1ab56f(0x84c);break;case _0x1ab56f(0x5e7):_0x22ee1a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x153d9d+'\x22\x20value=\x22true\x22\x20'+(_0x4cf35a[_0x1ab56f(0x51d)]===!![]?_0x1ab56f(0x81a):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x153d9d+_0x1ab56f(0x12b)+(_0x4cf35a[_0x1ab56f(0x51d)]===![]?_0x1ab56f(0x81a):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x1ab56f(0x733):_0x22ee1a=_0x1ab56f(0x5b7)+(_0x4cf35a[_0x1ab56f(0x4a1)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0x4889f6=_0x4cf35a[_0x1ab56f(0x5be)]||_0x4cf35a['stem']||'';return _0x1ab56f(0x8bd)+_0x153d9d+_0x1ab56f(0x2fd)+_0x1c6768+'\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x153d9d+0x1)+'\x20('+_0x1c6768+'):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>'+_0x4889f6+'</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x22ee1a+'</div>\x0a</div>\x0a';})[_0x21ef8a(0x6f4)]('');_0x242dd3[_0x21ef8a(0x373)]=_0x11c13b,_0x242dd3[_0x21ef8a(0x7ea)](_0x21ef8a(0x152))[_0x21ef8a(0x65f)](_0xa3f64f=>{const _0x29522a=_0x21ef8a;_0xa3f64f[_0x29522a(0x381)](_0x29522a(0x302),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x486c93){const _0x5de048=_0x411d30,_0x5e44bc=_0x486c93[_0x5de048(0x478)],_0x3ac1fb=_0x5e44bc[_0x5de048(0x588)](_0x5de048(0x7f9));if(!_0x3ac1fb)return;const _0x2f15a3=parseInt(_0x3ac1fb[_0x5de048(0x5a1)][_0x5de048(0x37c)],0xa);if(isNaN(_0x2f15a3)||!currentEditingQuizData[_0x5de048(0x7f5)][_0x2f15a3]){showMessage(_0x5de048(0x8d2));return;}const _0x1d1919=currentEditingQuizData[_0x5de048(0x7f5)][_0x2f15a3];_0x5e44bc[_0x5de048(0x373)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x5e44bc[_0x5de048(0x502)]=!![];const _0x275ed5=_0x5de048(0x3e0)+JSON['stringify'](_0x1d1919)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20';let _0x2ee483;const _0x9ceab7=_0x1d1919[_0x5de048(0x6ec)]||currentEditingQuizData[_0x5de048(0x285)];switch(_0x9ceab7){case _0x5de048(0x637):_0x2ee483={'type':_0x5de048(0x102),'properties':{'questionText':{'type':_0x5de048(0x532)},'idealAnswer':{'type':_0x5de048(0x532)},'explanation':{'type':_0x5de048(0x532)},'imageCode':{'type':'STRING'}},'required':[_0x5de048(0x5be),'idealAnswer',_0x5de048(0x80c)]};break;case'multiple_choice':default:_0x2ee483={'type':'OBJECT','properties':{'questionText':{'type':_0x5de048(0x532)},'options':{'type':_0x5de048(0x534),'items':{'type':_0x5de048(0x532)}},'correctAnswerIndex':{'type':_0x5de048(0x3fd)},'explanation':{'type':_0x5de048(0x532)},'imageCode':{'type':_0x5de048(0x532)}},'required':[_0x5de048(0x5be),_0x5de048(0x7f7),'correctAnswerIndex',_0x5de048(0x80c)]};break;}try{let _0x2e9299=await callAnalysisApi(_0x275ed5,_0x2ee483);_0x2e9299[_0x5de048(0x7f7)]&&Array[_0x5de048(0x50b)](_0x2e9299['options'])&&(_0x2e9299[_0x5de048(0x7f7)]=_0x2e9299[_0x5de048(0x7f7)][_0x5de048(0x79a)](_0x339bfd=>typeof _0x339bfd==='string'?_0x339bfd[_0x5de048(0x4cf)](/S(\s*[\d_]+?\s*)S/g,_0x5de048(0x774)):_0x339bfd)),_0x1d1919[_0x5de048(0x6a8)]&&_0x1d1919['imageCode'][_0x5de048(0x411)](_0x5de048(0x5b5))&&(_0x2e9299['imageCode']=''),currentEditingQuizData[_0x5de048(0x7f5)][_0x2f15a3]={..._0x1d1919,..._0x2e9299},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0xabd5ce){console[_0x5de048(0x735)](_0x5de048(0x78f),_0xabd5ce),showMessage(_0x5de048(0x8cd)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x245b9c=_0x411d30,_0xf0bcf7=document[_0x245b9c(0x2da)](_0x245b9c(0x60b));_0xf0bcf7[_0x245b9c(0x502)]=!![],_0xf0bcf7[_0x245b9c(0x373)]=_0x245b9c(0x596);try{const _0x2b4ec8=document['getElementById'](_0x245b9c(0x117))[_0x245b9c(0x5b4)],_0x11987b=document[_0x245b9c(0x7ea)](_0x245b9c(0x7f9));let _0xe2a015=[];const _0x328441=Array[_0x245b9c(0x634)](_0x11987b)[_0x245b9c(0x79a)]((_0x49b9e8,_0x389022)=>{const _0xc6c82=_0x245b9c,_0x1908d7=_0x49b9e8[_0xc6c82(0x5a1)][_0xc6c82(0x351)],_0x52454d=_0x49b9e8[_0xc6c82(0x6ce)](_0xc6c82(0x38a))[_0xc6c82(0x5b4)];let _0x4b781b={'questionType':_0x1908d7};const _0x3c2558=currentEditingQuizData[_0xc6c82(0x7f5)][_0x389022];switch(_0x1908d7){case _0xc6c82(0x247):_0x4b781b[_0xc6c82(0x5be)]=_0x52454d;const _0x36fe8c=_0x49b9e8[_0xc6c82(0x7ea)](_0xc6c82(0x6cf));_0x4b781b[_0xc6c82(0x7f7)]=Array[_0xc6c82(0x634)](_0x36fe8c)[_0xc6c82(0x79a)](_0x25502e=>_0x25502e[_0xc6c82(0x5b4)]);const _0x24244e=_0x49b9e8[_0xc6c82(0x6ce)](_0xc6c82(0x73f));_0x4b781b['correctAnswerIndex']=_0x24244e?parseInt(_0x24244e['value']):0x0;break;case _0xc6c82(0x637):_0x4b781b[_0xc6c82(0x5be)]=_0x52454d,_0x4b781b[_0xc6c82(0x3a5)]=_0x49b9e8[_0xc6c82(0x6ce)]('.ideal-answer-input')['value'];break;case _0xc6c82(0x5e7):_0x4b781b[_0xc6c82(0x5be)]=_0x52454d;const _0x5af35a=_0x49b9e8[_0xc6c82(0x6ce)](_0xc6c82(0x73f));_0x4b781b[_0xc6c82(0x51d)]=_0x5af35a?_0x5af35a[_0xc6c82(0x5b4)]===_0xc6c82(0x601):!![];break;case _0xc6c82(0x733):_0x4b781b[_0xc6c82(0x7ec)]=_0x52454d;const _0x490624=_0x49b9e8[_0xc6c82(0x6ce)]('.correct-response-input');_0x4b781b[_0xc6c82(0x4a1)]=_0x490624?_0x490624[_0xc6c82(0x5b4)]:'',_0xe2a015[_0xc6c82(0x56e)](_0x4b781b[_0xc6c82(0x4a1)]);break;default:_0x4b781b[_0xc6c82(0x5be)]=_0x52454d;break;}return{..._0x3c2558,..._0x4b781b};});_0xe2a015[_0x245b9c(0x412)]>0x0&&_0x328441[_0x245b9c(0x65f)](_0x21ead8=>{const _0x5e665e=_0x245b9c;_0x21ead8[_0x5e665e(0x6ec)]===_0x5e665e(0x733)&&(_0x21ead8[_0x5e665e(0x5bd)]=_0xe2a015);});const _0x814bc8=currentEditingQuizData['id'],_0x397a41=doc(db,_0x245b9c(0x6c8)+appId+_0x245b9c(0x7d7),_0x814bc8);await updateDoc(_0x397a41,{'topic':_0x2b4ec8,'questions':_0x328441}),document['getElementById'](_0x245b9c(0x7e7))['classList'][_0x245b9c(0x483)]('hidden'),showMessage(_0x245b9c(0x8e7),()=>initiateReGradeProcess(_0x814bc8));}catch(_0x45802f){console[_0x245b9c(0x735)](_0x245b9c(0x29b),_0x45802f),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0xf0bcf7[_0x245b9c(0x502)]=![],_0xf0bcf7['innerHTML']=_0x245b9c(0x49f);}}async function initiateReGradeProcess(_0x576c7b){const _0x4efb12=_0x411d30;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x54facd=doc(db,_0x4efb12(0x6c8)+appId+_0x4efb12(0x7d7),_0x576c7b),_0x2a7ad8=await getDoc(_0x54facd);if(!_0x2a7ad8[_0x4efb12(0x50f)]())throw new Error(_0x4efb12(0x6d0));const _0x2bf563={'id':_0x576c7b,..._0x2a7ad8['data']()},_0x121e10=collection(db,_0x4efb12(0x6c8)+appId+_0x4efb12(0x7d7),_0x576c7b,_0x4efb12(0x474)),_0x22c13e=await getDocs(_0x121e10);if(_0x22c13e['empty']){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x13c456=_0x22c13e[_0x4efb12(0x60e)][_0x4efb12(0x79a)](_0x3250d1=>reGradeSingleSubmission(_0x3250d1,_0x2bf563));await Promise[_0x4efb12(0x345)](_0x13c456);if(_0x2bf563[_0x4efb12(0x7e4)]){const _0x4341b1=doc(db,_0x4efb12(0x6c8)+appId+_0x4efb12(0x5b2),_0x2bf563[_0x4efb12(0x7e4)]),_0xdebe23=await getDoc(_0x4341b1);if(_0xdebe23[_0x4efb12(0x50f)]()&&_0xdebe23[_0x4efb12(0x516)]()[_0x4efb12(0x1af)]){const _0x10939a=_0xdebe23[_0x4efb12(0x516)]()[_0x4efb12(0x1af)][_0x4efb12(0x79a)](_0x4ed745=>updateStudentProfile(_0x2bf563[_0x4efb12(0x7e4)],_0x4ed745));await Promise[_0x4efb12(0x345)](_0x10939a);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x22c13e[_0x4efb12(0x18f)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x135b5b){console['error'](_0x4efb12(0x258),_0x135b5b),showMessage(_0x4efb12(0x234)+_0x135b5b[_0x4efb12(0x2d1)]);}}async function reGradeSingleSubmission(_0x16791d,_0x4366ed){const _0x47eb28=_0x411d30,_0x3174eb=_0x16791d['data'](),_0xcd5327=_0x3174eb[_0x47eb28(0x727)],_0x1ab80e=_0x3174eb[_0x47eb28(0x41c)]||[],_0x480e49=[];for(const _0x52b69a of _0x1ab80e){let _0x2d81c1=0x0,_0xf45d7d=[],_0x56ba57=0x0;const _0x50749a=[];for(const _0x595a4a of _0x52b69a['answers']){let _0x4390ff;_0x595a4a[_0x47eb28(0x6ea)]&&(_0x4390ff=_0x4366ed[_0x47eb28(0x7f5)]['find'](_0x520a81=>_0x520a81['id']===_0x595a4a[_0x47eb28(0x6ea)]));!_0x4390ff&&_0x595a4a[_0x47eb28(0x2ee)]&&(_0x4390ff=_0x4366ed[_0x47eb28(0x7f5)][_0x47eb28(0x151)](_0x38d7c6=>(_0x38d7c6[_0x47eb28(0x7ec)]||_0x38d7c6[_0x47eb28(0x5be)])===_0x595a4a['originalQuestionText']));let _0x43a6a0=![];if(_0x4390ff){const _0x5edb38=_0x4390ff[_0x47eb28(0x6ec)]||_0x4366ed[_0x47eb28(0x285)];switch(_0x5edb38){case'multiple_choice':if(_0x4390ff['options']&&_0x4390ff[_0x47eb28(0x6a9)]<_0x4390ff[_0x47eb28(0x7f7)]['length']){const _0x3e79af=_0x4390ff[_0x47eb28(0x7f7)][_0x4390ff[_0x47eb28(0x6a9)]];_0x43a6a0=_0x595a4a['answerText']===_0x3e79af;}break;case _0x47eb28(0x5e7):const _0x1eb86a=_0x595a4a['answer']===!![]||_0x595a4a[_0x47eb28(0x165)]===_0x47eb28(0x601);_0x43a6a0=_0x1eb86a===_0x4390ff[_0x47eb28(0x51d)];break;case _0x47eb28(0x733):_0x43a6a0=_0x595a4a[_0x47eb28(0x165)]===_0x4390ff['correctResponse'];break;case _0x47eb28(0x637):_0x43a6a0=await gradeShortAnswer(_0x595a4a[_0x47eb28(0x165)],_0x4390ff);break;default:_0x43a6a0=_0x595a4a[_0x47eb28(0x6c2)];break;}}if(_0x43a6a0){_0x2d81c1++,_0x56ba57++;if(_0x56ba57===0x3)_0xf45d7d[_0x47eb28(0x56e)](BADGES[_0x47eb28(0x7b2)]['id']);}else _0x56ba57=0x0;_0x50749a[_0x47eb28(0x56e)]({..._0x595a4a,'isCorrect':_0x43a6a0});}let _0x1b282d=_0x2d81c1*0xa;_0x2d81c1===_0x4366ed[_0x47eb28(0x7f5)][_0x47eb28(0x412)]&&(_0x1b282d+=0x32,_0xf45d7d['push'](BADGES['PERFECT_SCORE']['id'])),_0x480e49[_0x47eb28(0x56e)]({..._0x52b69a,'score':_0x2d81c1,'points':_0x1b282d,'badges':Array[_0x47eb28(0x634)](new Set(_0xf45d7d)),'answers':_0x50749a});}const _0x3fccf5=_0x480e49[_0x47eb28(0x412)]>0x0?_0x480e49[0x0][_0x47eb28(0x693)]:0x0,_0x110249=Math[_0x47eb28(0x1a8)](..._0x480e49[_0x47eb28(0x79a)](_0x470589=>_0x470589['score'])),_0x105c04=_0x480e49[_0x47eb28(0x412)]>0x0?_0x480e49[_0x480e49[_0x47eb28(0x412)]-0x1]['score']:0x0,_0x3ab1a4=_0x480e49[_0x47eb28(0x412)]>0x0?_0x480e49[_0x480e49['length']-0x1][_0x47eb28(0x3d0)]:0x0,_0x524b3e=doc(db,_0x47eb28(0x6c8)+appId+_0x47eb28(0x29f)+_0x4366ed['id']+_0x47eb28(0x75f),_0xcd5327);await updateDoc(_0x524b3e,{'attempts':_0x480e49,'firstScore':_0x3fccf5,'bestScore':_0x110249,'latestScore':_0x105c04,'points':_0x3ab1a4});}function cleanupQuizOptions(_0x3f4289){const _0x2e5793=_0x411d30,_0x514158=(_0x4ab582,_0x14b13e)=>_0x14b13e===0x0?_0x4ab582:_0x514158(_0x14b13e,_0x4ab582%_0x14b13e),_0x2c3e77=_0x2f4640=>{const _0x277469=_0x1004;if(typeof _0x2f4640!==_0x277469(0x699))return null;_0x2f4640=_0x2f4640[_0x277469(0x4b3)]();const _0x2af92a=_0x2f4640[_0x277469(0x32c)](/[ /]/)[_0x277469(0x850)](_0x59d630=>_0x59d630!=='');if(_0x2af92a[_0x277469(0x412)]===0x3)return parseInt(_0x2af92a[0x0])+parseInt(_0x2af92a[0x1])/parseInt(_0x2af92a[0x2]);else{if(_0x2af92a[_0x277469(0x412)]===0x2)return parseInt(_0x2af92a[0x0])/parseInt(_0x2af92a[0x1]);else{if(_0x2af92a[_0x277469(0x412)]===0x1&&!isNaN(_0x2af92a[0x0]))return parseFloat(_0x2af92a[0x0]);}}return null;},_0x2d88dd=_0x1a0443=>{const _0xe9992e=_0x1004;if(typeof _0x1a0443!==_0xe9992e(0x699))return _0x1a0443;const _0x4a04ef=_0x1a0443[_0xe9992e(0x3ad)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x4a04ef){const _0x547b8c=parseInt(_0x4a04ef[0x1]);let _0x2b1f3d=parseInt(_0x4a04ef[0x2]),_0x4749be=parseInt(_0x4a04ef[0x3]);const _0x532b8d=_0x514158(_0x2b1f3d,_0x4749be);_0x2b1f3d/=_0x532b8d,_0x4749be/=_0x532b8d;if(_0x4749be===0x1)return(_0x547b8c+_0x2b1f3d)[_0xe9992e(0x87a)]();return _0x547b8c+'\x20'+_0x2b1f3d+'/'+_0x4749be;}return _0x1a0443;};return _0x3f4289&&_0x3f4289[_0x2e5793(0x7f5)]&&_0x3f4289[_0x2e5793(0x7f5)][_0x2e5793(0x65f)](_0xca4b0c=>{const _0x4da933=_0x2e5793;if(_0xca4b0c[_0x4da933(0x6ec)]===_0x4da933(0x247)&&_0xca4b0c[_0x4da933(0x7f7)]){const _0x3277b9=new Map(),_0x459875=_0xca4b0c[_0x4da933(0x7f7)][_0xca4b0c['correctAnswerIndex']];_0xca4b0c['options'][_0x4da933(0x65f)](_0x38d4a4=>{const _0x13d923=_0x4da933,_0x367a56=_0x2d88dd(_0x38d4a4),_0x503cc5=_0x2c3e77(_0x367a56);_0x503cc5!==null&&!_0x3277b9['has'](_0x503cc5)&&_0x3277b9[_0x13d923(0x385)](_0x503cc5,_0x367a56);}),_0xca4b0c['options']=Array['from'](_0x3277b9[_0x4da933(0x132)]());const _0x11486e=_0xca4b0c[_0x4da933(0x7f7)][_0x4da933(0x5a0)](_0x2889ed=>_0x2889ed===_0x2d88dd(_0x459875));_0xca4b0c[_0x4da933(0x6a9)]=_0x11486e!==-0x1?_0x11486e:0x0;}}),_0x3f4289;}async function saveQuiz(){const _0x54553a=_0x411d30;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x54553a(0x7f5)]||!userId){showMessage(_0x54553a(0x1c9));return;}const _0x325c9b=document['getElementById']('save-quiz-btn');_0x325c9b['disabled']=!![],_0x325c9b[_0x54553a(0x373)]=_0x54553a(0x596);const _0x1d4dd2=document[_0x54553a(0x2da)](_0x54553a(0x52b))[_0x54553a(0x81a)];let _0x43c6f7=document[_0x54553a(0x2da)](_0x54553a(0x900))[_0x54553a(0x739)][_0x54553a(0x4b3)]();_0x1d4dd2&&!_0x43c6f7['startsWith']('(ก่อนเรียน)')&&(_0x43c6f7=_0x54553a(0x649)+_0x43c6f7);try{const _0x3ba45e={'resultsDisplay':document[_0x54553a(0x2da)](_0x54553a(0x59c))['value'],'shuffle':document[_0x54553a(0x2da)](_0x54553a(0x3f2))[_0x54553a(0x5b4)],'timerMode':document['getElementById']('timer-mode-select')[_0x54553a(0x5b4)],'timerDuration':parseInt(document['getElementById'](_0x54553a(0x55f))[_0x54553a(0x5b4)])||0xa,'passingScore':parseInt(document[_0x54553a(0x2da)](_0x54553a(0x7ba))[_0x54553a(0x5b4)])||0x0,'isAdaptive':document[_0x54553a(0x2da)](_0x54553a(0x177))[_0x54553a(0x81a)],'loopUntilPass':document[_0x54553a(0x2da)](_0x54553a(0x3e9))[_0x54553a(0x81a)]},_0x521caf=(currentQuizData[_0x54553a(0x7f5)]||[])['map']((_0x275f54,_0x57a345)=>{const _0x5851c7=_0x54553a,_0x1f5492=document['getElementById']('quiz-type-select')[_0x5851c7(0x5b4)],_0x4f6662={'id':'q_'+Date['now']()+'_'+_0x57a345,'questionText':_0x275f54[_0x5851c7(0x5be)]||'','explanation':_0x275f54[_0x5851c7(0x80c)]||_0x5851c7(0x7ff),'questionType':_0x275f54[_0x5851c7(0x6ec)]||_0x1f5492,'imageCode':_0x275f54[_0x5851c7(0x6a8)]||null};return(_0x4f6662['questionType']==='multiple_choice'||_0x4f6662['questionType']===_0x5851c7(0x2ad)||_0x4f6662[_0x5851c7(0x6ec)]==='mixed'&&_0x275f54[_0x5851c7(0x7f7)])&&(_0x4f6662[_0x5851c7(0x7f7)]=_0x275f54[_0x5851c7(0x7f7)]||[],_0x4f6662['correctAnswerIndex']=_0x275f54[_0x5851c7(0x6a9)]!==undefined?_0x275f54[_0x5851c7(0x6a9)]:0x0),(_0x4f6662['questionType']===_0x5851c7(0x637)||_0x4f6662[_0x5851c7(0x6ec)]==='fill_in_no_choices'||_0x4f6662[_0x5851c7(0x6ec)]==='mixed'&&_0x275f54[_0x5851c7(0x3a5)])&&(_0x4f6662[_0x5851c7(0x3a5)]=_0x275f54['idealAnswer']||''),_0x4f6662['questionType']===_0x5851c7(0x5e7)&&(_0x4f6662[_0x5851c7(0x51d)]=_0x275f54[_0x5851c7(0x51d)]===!![]),_0x4f6662['questionType']==='matching_item'&&(_0x4f6662[_0x5851c7(0x7ec)]=_0x275f54[_0x5851c7(0x7ec)]||'',_0x4f6662[_0x5851c7(0x4a1)]=_0x275f54[_0x5851c7(0x4a1)]||'',_0x4f6662[_0x5851c7(0x5bd)]=_0x275f54[_0x5851c7(0x5bd)]||[]),_0x4f6662;}),_0x36bf54={'topic':_0x43c6f7,'quizType':currentQuizData['quizType']||_0x54553a(0x247),'questions':_0x521caf,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x54553a(0x1f5)](),'status':'active','settings':_0x3ba45e,'quizMode':_0x1d4dd2?'pre-test':_0x54553a(0x510),'pairedQuizId':null,'lessonPlan':null};let _0x67403d;while(!![]){_0x67403d=Math['floor'](0x3e8+Math[_0x54553a(0x2fc)]()*0x2328)['toString']();const _0x22e7e9=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x67403d));if(!_0x22e7e9['exists']())break;}await setDoc(doc(db,_0x54553a(0x6c8)+appId+'/public/data/quizzes',_0x67403d),_0x36bf54),currentQuizData[_0x54553a(0x304)]=_0x3ba45e,currentQuizData['id']=_0x67403d;const _0xb25b0=document[_0x54553a(0x2da)](_0x54553a(0x576));_0xb25b0[_0x54553a(0x373)]=_0x54553a(0x129)+_0x67403d+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document[_0x54553a(0x2da)](_0x54553a(0x5c3))[_0x54553a(0x381)](_0x54553a(0x302),()=>copyTextToClipboard(_0x67403d,_0x54553a(0x7ce))),document[_0x54553a(0x2da)]('start-live-race-generated-btn')['addEventListener']('click',()=>handleStartLiveRace(_0x67403d)),document['getElementById'](_0x54553a(0x82b))['addEventListener'](_0x54553a(0x302),()=>startPresentation(currentQuizData)),document[_0x54553a(0x2da)](_0x54553a(0x6d9))['addEventListener'](_0x54553a(0x302),startAdminTest),showMessage(_0x54553a(0x84a));}catch(_0x1fc2eb){console[_0x54553a(0x735)](_0x54553a(0x758),_0x1fc2eb),showMessage(_0x54553a(0x572)),_0x325c9b[_0x54553a(0x502)]=![],_0x325c9b['innerHTML']=_0x54553a(0x5d3);}}function promptForProjectAndSave(){const _0x3c9b85=_0x411d30,_0x1682f2=document[_0x3c9b85(0x2da)](_0x3c9b85(0x28f)),_0x3c1764=document['getElementById'](_0x3c9b85(0x186)),_0x72a925=_0x1682f2[_0x3c9b85(0x6ce)]('h3'),_0x3f89a5=document[_0x3c9b85(0x2da)](_0x3c9b85(0x2a8));_0x72a925[_0x3c9b85(0x769)]=_0x3c9b85(0x8cc),_0x3f89a5[_0x3c9b85(0x769)]=_0x3c9b85(0x4ac);allProjects[_0x3c9b85(0x412)]===0x0?(_0x3c1764['innerHTML']=_0x3c9b85(0x8c5),_0x3f89a5[_0x3c9b85(0x502)]=!![]):(_0x3c1764[_0x3c9b85(0x373)]=allProjects['map'](_0x2d04e4=>'<option\x20value=\x22'+_0x2d04e4['id']+'\x22>'+_0x2d04e4[_0x3c9b85(0x661)]+_0x3c9b85(0x535))[_0x3c9b85(0x6f4)](''),_0x3f89a5['disabled']=![]);_0x1682f2[_0x3c9b85(0x5aa)][_0x3c9b85(0x395)](_0x3c9b85(0x62f));const _0xeb609e=()=>{const _0x505059=_0x3c9b85,_0x1c8ec1=_0x3c1764[_0x505059(0x5b4)];_0x1c8ec1?(currentProjectId=_0x1c8ec1,_0x1682f2[_0x505059(0x5aa)][_0x505059(0x483)]('hidden'),saveQuiz(),_0x72a925[_0x505059(0x769)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x3f89a5[_0x505059(0x769)]=_0x505059(0x6e6),_0x3f89a5['removeEventListener'](_0x505059(0x302),_0xeb609e),_0x3f89a5[_0x505059(0x381)](_0x505059(0x302),confirmMoveQuiz)):showMessage(_0x505059(0x7d5));};_0x3f89a5[_0x3c9b85(0x621)]('click',confirmMoveQuiz),_0x3f89a5[_0x3c9b85(0x381)](_0x3c9b85(0x302),_0xeb609e);}function copyTextToClipboard(_0x153fb1,_0x28ec82){const _0x15052a=_0x411d30,_0x37bedc=document['createElement'](_0x15052a(0x38a));_0x37bedc[_0x15052a(0x5b4)]=_0x153fb1,_0x37bedc[_0x15052a(0x74e)]['position']=_0x15052a(0x375),_0x37bedc['style']['opacity']='0',document[_0x15052a(0x685)]['appendChild'](_0x37bedc),_0x37bedc[_0x15052a(0x57e)](),_0x37bedc['select']();try{const _0x56109c=document[_0x15052a(0x296)](_0x15052a(0x30e));showMessage(_0x56109c?_0x28ec82:_0x15052a(0x775));}catch(_0x156756){showMessage(_0x15052a(0x775)),console[_0x15052a(0x735)]('Copy\x20command\x20failed',_0x156756);}document['body'][_0x15052a(0x88a)](_0x37bedc);}function listenForProjectQuizzes(_0x179289){const _0x21f999=_0x411d30,_0x4baa0f=collection(db,_0x21f999(0x6c8)+appId+_0x21f999(0x7d7)),_0x49db8d=query(_0x4baa0f,where(_0x21f999(0x7e4),'==',_0x179289));unsubscribeQuizzesListener=onSnapshot(_0x49db8d,async _0x2c6a9f=>{const _0x4a53a5=_0x21f999;allQuizzes=_0x2c6a9f[_0x4a53a5(0x60e)]['map'](_0x24233b=>({'id':_0x24233b['id'],..._0x24233b[_0x4a53a5(0x516)]()})),renderQuizzes();},_0x2de8f4=>{const _0x4a4d9c=_0x21f999;console[_0x4a4d9c(0x735)](_0x4a4d9c(0x2c4),_0x2de8f4),document[_0x4a4d9c(0x2da)]('project-quizzes-list')['innerHTML']=_0x4a4d9c(0x7c4);});}async function renderQuizzes(){const _0xfb31d=_0x411d30,_0xd27ed8=document[_0xfb31d(0x2da)]('project-quizzes-list'),_0x2c0871=document[_0xfb31d(0x2da)](_0xfb31d(0x63e))['value'][_0xfb31d(0x5ff)]();let _0x84ed28;currentProjectId===_0xfb31d(0x26d)?_0x84ed28=starredQuizzes:_0x84ed28=allQuizzes;let _0x1eec26=_0x84ed28['filter'](_0x301657=>_0x301657[_0xfb31d(0x363)][_0xfb31d(0x5ff)]()[_0xfb31d(0x411)](_0x2c0871));_0x1eec26[_0xfb31d(0x73c)]((_0x648b36,_0x3e36bb)=>new Date(_0x3e36bb[_0xfb31d(0x3c2)])-new Date(_0x648b36['createdAt']));if(_0x1eec26[_0xfb31d(0x412)]===0x0){_0xd27ed8['innerHTML']='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x58c3e5={},_0x5c1945=_0x1eec26[_0xfb31d(0x79a)](async _0x2b5569=>{const _0x5c991e=_0xfb31d,_0x103881=collection(db,_0x5c991e(0x6c8)+appId+'/public/data/quizzes/'+_0x2b5569['id']+'/submissions'),_0x514e66=await getDocs(_0x103881);_0x58c3e5[_0x2b5569['id']]=_0x514e66[_0x5c991e(0x18f)];});await Promise[_0xfb31d(0x345)](_0x5c1945);let _0x313ab2='';_0x1eec26[_0xfb31d(0x65f)](_0x3f57b5=>{const _0x456ba2=_0xfb31d,_0x391308=_0x58c3e5[_0x3f57b5['id']]||0x0,_0x5d30a2=_0x3f57b5[_0x456ba2(0x8cb)]||'active',_0x447234=_0x3f57b5[_0x456ba2(0x304)]?.[_0x456ba2(0x7bf)]||_0x456ba2(0x8a5);let _0x5909fa='',_0x436d14='';const _0x2b83d5=new Date();let _0x25c99a=_0x5d30a2;if(_0x5d30a2==='scheduled'){const _0x37f8b1=_0x3f57b5[_0x456ba2(0x688)]?new Date(_0x3f57b5[_0x456ba2(0x688)]):null,_0x559426=_0x3f57b5[_0x456ba2(0x5f2)]?new Date(_0x3f57b5[_0x456ba2(0x5f2)]):null;if(_0x559426&&_0x2b83d5>_0x559426)_0x25c99a=_0x456ba2(0x69d);else _0x37f8b1&&_0x2b83d5<_0x37f8b1?_0x25c99a='scheduled_pending':_0x25c99a=_0x456ba2(0xe3);}switch(_0x25c99a){case _0x456ba2(0x69d):_0x5909fa=_0x456ba2(0x6a3),_0x436d14='text-red-700\x20bg-red-100';break;case _0x456ba2(0x376):_0x5909fa='รอเปิด',_0x436d14=_0x456ba2(0x508);break;case'active':_0x5909fa=_0x447234!==_0x456ba2(0x8a5)?_0x456ba2(0x194):_0x456ba2(0x1ac),_0x436d14=_0x456ba2(0x846);break;default:_0x5909fa='ตั้งเวลา\x20(เปิด)',_0x436d14=_0x456ba2(0x846);break;}let _0x3d2176='';const _0x241a09={'day':_0x456ba2(0x48f),'month':_0x456ba2(0x48f),'year':'numeric','hour':_0x456ba2(0x48f),'minute':'2-digit','hour12':![]};if(_0x5d30a2===_0x456ba2(0x57a)){if(_0x3f57b5[_0x456ba2(0x688)])_0x3d2176+=_0x456ba2(0x47b)+new Date(_0x3f57b5[_0x456ba2(0x688)])[_0x456ba2(0x59a)](_0x456ba2(0x5ae),_0x241a09)+_0x456ba2(0x34c);if(_0x3f57b5[_0x456ba2(0x5f2)])_0x3d2176+=_0x456ba2(0x218)+new Date(_0x3f57b5['endTime'])['toLocaleString'](_0x456ba2(0x5ae),_0x241a09)+_0x456ba2(0x34c);}let _0x5af337='';if(_0x3f57b5[_0x456ba2(0x4da)]){const _0x5ebebb=allQuizzes[_0x456ba2(0x151)](_0x16e64e=>_0x16e64e['id']===_0x3f57b5['pairedQuizId']);if(_0x5ebebb){let _0x1ba15e,_0x4505f4;new Date(_0x3f57b5[_0x456ba2(0x3c2)])<new Date(_0x5ebebb['createdAt'])?(_0x1ba15e=_0x3f57b5['id'],_0x4505f4=_0x5ebebb['id']):(_0x1ba15e=_0x5ebebb['id'],_0x4505f4=_0x3f57b5['id']),_0x5af337+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4505f4+'\x22\x20data-pre-test-id=\x22'+_0x1ba15e+_0x456ba2(0x59d);}}else _0x3f57b5['quizMode']===_0x456ba2(0x83d)&&(_0x5af337+=_0x456ba2(0x3dc)+_0x3f57b5['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x3f57b5[_0x456ba2(0x3f0)]===_0x456ba2(0x83d)&&_0x391308>0x0)_0x5af337+=_0x456ba2(0x3dc)+_0x3f57b5['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0x3f57b5[_0x456ba2(0x4da)]&&_0x3f57b5['quizMode']!=='pre-test'&&_0x391308>0x0&&(_0x5af337+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3f57b5['id']+_0x456ba2(0x2a5));let _0x38c304='';_0x3f57b5[_0x456ba2(0x4da)]?_0x38c304=_0x456ba2(0x43d)+_0x3f57b5['id']+_0x456ba2(0xf7):_0x38c304=_0x456ba2(0x43d)+_0x3f57b5['id']+_0x456ba2(0x8f2),_0x313ab2+=_0x456ba2(0x3a6)+_0x3f57b5['id']+_0x456ba2(0x47a)+_0x3f57b5[_0x456ba2(0x363)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x3f57b5[_0x456ba2(0x7f5)][_0x456ba2(0x412)]+_0x456ba2(0x905)+new Date(_0x3f57b5['createdAt'])[_0x456ba2(0x59a)](_0x456ba2(0x5ae))+_0x456ba2(0x506)+_0x391308+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d2176+_0x456ba2(0x17c)+_0x436d14+'\x22>'+_0x5909fa+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3f57b5['id']+_0x456ba2(0x221)+_0x3f57b5['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x3f57b5[_0x456ba2(0x2e1)]?_0x456ba2(0x784):_0x456ba2(0x711))+_0x456ba2(0x15b)+_0x5af337+_0x456ba2(0x63d)+_0x3f57b5['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x3f57b5['id']+_0x456ba2(0x48c)+_0x3f57b5['id']+_0x456ba2(0x1b8)+_0x3f57b5['id']+_0x456ba2(0x52e)+_0x3f57b5['id']+_0x456ba2(0x669)+_0x3f57b5['id']+_0x456ba2(0x6cb)+_0x3f57b5['id']+_0x456ba2(0x210)+_0x3f57b5['topic']+_0x456ba2(0x86a)+_0x3f57b5['id']+_0x456ba2(0x7d4)+_0x3f57b5['id']+_0x456ba2(0x3a1)+_0x38c304+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3f57b5['id']+_0x456ba2(0x86f)+_0x3f57b5['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3f57b5['id']+_0x456ba2(0x482)+_0x3f57b5['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3f57b5['id']+_0x456ba2(0x210)+_0x3f57b5[_0x456ba2(0x363)]+_0x456ba2(0x77e)+_0x3f57b5['id']+_0x456ba2(0xfa);}),_0xd27ed8['innerHTML']=_0x313ab2,document[_0xfb31d(0x7ea)](_0xfb31d(0x228))[_0xfb31d(0x65f)](_0x3d9dee=>{const _0xdc61e3=_0xfb31d;_0x3d9dee[_0xdc61e3(0x381)](_0xdc61e3(0x302),()=>{const _0x239b35=_0xdc61e3,_0x587883=_0x3d9dee[_0x239b35(0x5a1)][_0x239b35(0x8e0)];showQuizDetailView(_0x587883);});});}async function handleUnpairQuiz(_0x1ea8fe){const _0x26b3f1=_0x411d30,_0xba7029=allQuizzes[_0x26b3f1(0x151)](_0xc765a4=>_0xc765a4['id']===_0x1ea8fe);if(!_0xba7029||!_0xba7029[_0x26b3f1(0x4da)]){showMessage(_0x26b3f1(0x65a));return;}showConfirmation(_0x26b3f1(0xe0),async()=>{const _0x1785db=_0x26b3f1;try{const _0x400580=doc(db,'artifacts/'+appId+_0x1785db(0x7d7),_0x1ea8fe),_0x24dd7b=doc(db,_0x1785db(0x6c8)+appId+'/public/data/quizzes',_0xba7029[_0x1785db(0x4da)]),_0x207a64=writeBatch(db);_0x207a64[_0x1785db(0x6e7)](_0x400580,{'pairedQuizId':null}),_0x207a64[_0x1785db(0x6e7)](_0x24dd7b,{'pairedQuizId':null}),await _0x207a64[_0x1785db(0x4e6)](),showMessage(_0x1785db(0x899));}catch(_0x48b30b){console[_0x1785db(0x735)](_0x1785db(0x24a),_0x48b30b),showMessage(_0x1785db(0x4dc));}});}function formatAndPrintLessonPlan(_0xcf7cda,_0x5f1cf1){const _0x482961=_0x411d30,_0x1b1ffd=window['open']('',_0x482961(0x569)),_0x54ad22=_0x482961(0x424)+_0x5f1cf1[_0x482961(0x363)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x5f1cf1[_0x482961(0x363)]+_0x482961(0x80d)+_0xcf7cda[_0x482961(0x8ba)][_0x482961(0x79a)](_0x3e9c69=>_0x482961(0x522)+_0x3e9c69+'</li>')['join']('')+_0x482961(0x862)+_0xcf7cda['teachingContent']+_0x482961(0x242)+_0xcf7cda['practiceProblems']['map'](_0x3aa590=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x3aa590[_0x482961(0x5c1)]+_0x482961(0x6ba)+_0x3aa590[_0x482961(0x5fa)]+_0x482961(0x64d))[_0x482961(0x6f4)]('')+_0x482961(0x1db);_0x1b1ffd['document'][_0x482961(0x46c)](_0x54ad22),_0x1b1ffd[_0x482961(0x41e)][_0x482961(0x463)](),_0x1b1ffd[_0x482961(0x83c)]=function(){setTimeout(()=>{const _0x309467=_0x1004;_0x1b1ffd[_0x309467(0x131)]();},0x3e8);};}async function handleAiFixFormula(_0xc0cfdd){const _0x191091=_0x411d30,_0x24e713=document[_0x191091(0x6ce)](_0x191091(0x3d9)+_0xc0cfdd+'\x22]');if(!_0x24e713)return;const _0xaabed4=_0x24e713[_0x191091(0x5a1)][_0x191091(0x351)],_0x1b0ec0=_0x24e713[_0x191091(0x6ce)]('.ai-fix-formula-btn');let _0x4093eb={'question':_0x24e713[_0x191091(0x6ce)]('textarea')[_0x191091(0x5b4)]};switch(_0xaabed4){case _0x191091(0x247):_0x4093eb['options']=Array[_0x191091(0x634)](_0x24e713[_0x191091(0x7ea)](_0x191091(0x6cf)))[_0x191091(0x79a)](_0x22ddf5=>_0x22ddf5[_0x191091(0x5b4)]);break;case _0x191091(0x637):_0x4093eb[_0x191091(0x3a5)]=_0x24e713[_0x191091(0x6ce)](_0x191091(0x28c))['value'];break;case _0x191091(0x733):_0x4093eb[_0x191091(0x4a1)]=_0x24e713['querySelector']('.correct-response-input')[_0x191091(0x5b4)];break;}_0x1b0ec0[_0x191091(0x373)]=_0x191091(0x52d),_0x1b0ec0[_0x191091(0x502)]=!![];try{const _0x481a57=_0x191091(0x420)+JSON[_0x191091(0x3c6)](_0x4093eb)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x185d46={'type':'OBJECT','properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':_0x191091(0x532)},'options':{'type':_0x191091(0x534),'items':{'type':_0x191091(0x532)}},'idealAnswer':{'type':_0x191091(0x532)},'correctResponse':{'type':_0x191091(0x532)}},'required':[_0x191091(0x5c1)]}},'required':[_0x191091(0x587)]},_0x8dd17=await callAnalysisApi(_0x481a57,_0x185d46);if(_0x8dd17&&_0x8dd17['fixedData']){const _0x57b24d=_0x8dd17['fixedData'];_0x24e713[_0x191091(0x6ce)]('textarea')['value']=_0x57b24d[_0x191091(0x5c1)]||_0x4093eb[_0x191091(0x5c1)];switch(_0xaabed4){case _0x191091(0x247):_0x57b24d[_0x191091(0x7f7)]&&_0x57b24d[_0x191091(0x7f7)][_0x191091(0x412)]>0x0&&_0x24e713[_0x191091(0x7ea)](_0x191091(0x6cf))['forEach']((_0x52b1c6,_0x5963dc)=>{const _0x5a4774=_0x191091;_0x52b1c6[_0x5a4774(0x5b4)]=_0x57b24d[_0x5a4774(0x7f7)][_0x5963dc]||_0x4093eb['options'][_0x5963dc];});break;case _0x191091(0x637):_0x24e713['querySelector']('.ideal-answer-input')['value']=_0x57b24d[_0x191091(0x3a5)]||_0x4093eb[_0x191091(0x3a5)];break;case _0x191091(0x733):_0x24e713[_0x191091(0x6ce)](_0x191091(0x459))[_0x191091(0x5b4)]=_0x57b24d[_0x191091(0x4a1)]||_0x4093eb['correctResponse'];break;}if(_0x4093eb[_0x191091(0x5c1)]!==_0x57b24d['question'])try{const _0x3f04bc=collection(db,_0x191091(0x6c8)+appId+_0x191091(0x2f8));await addDoc(_0x3f04bc,{'broken':_0x4093eb[_0x191091(0x5c1)],'fixed':_0x57b24d[_0x191091(0x5c1)],'createdAt':serverTimestamp()});}catch(_0x1b3b08){console[_0x191091(0x735)]('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x1b3b08);}showMessage(_0x191091(0x11e));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x2c8973){console[_0x191091(0x735)](_0x191091(0x47e),_0x2c8973),showMessage(_0x191091(0x4ab));}finally{_0x1b0ec0[_0x191091(0x373)]=_0x191091(0x262),_0x1b0ec0[_0x191091(0x502)]=![];}}async function handleGenerateLessonPlan(_0x20c772){const _0x2d2b95=_0x411d30;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x5007b9=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x20c772),_0xa3ee1=await getDoc(_0x5007b9);if(!_0xa3ee1['exists']())throw new Error(_0x2d2b95(0x6d0));const _0x209204={'id':_0x20c772,..._0xa3ee1[_0x2d2b95(0x516)]()},_0x521f9a=collection(db,_0x2d2b95(0x6c8)+appId+_0x2d2b95(0x7d7),_0x20c772,_0x2d2b95(0x474)),_0x13d42b=await getDocs(_0x521f9a),_0x58ceff=_0x13d42b[_0x2d2b95(0x60e)]['map'](_0x56ca43=>_0x56ca43[_0x2d2b95(0x516)]());if(_0x58ceff['length']===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x5aeacb=calculateItemAnalysis(_0x209204,_0x58ceff)['perQuestionStats'],_0x258901=calculateDistractorAnalysis(_0x209204,_0x58ceff),_0x2db622=_0x533f4d=>{const _0x3da940=_0x2d2b95;if(!_0x533f4d)return'';return _0x533f4d['replace'](/\\/g,'\x5c\x5c')[_0x3da940(0x4cf)](/"/g,'\x5c\x22')[_0x3da940(0x4cf)](/\n/g,'\x5cn');};let _0x1d1709=_0x2d2b95(0x383);_0x209204['questions']['forEach']((_0x4ca609,_0x5307b7)=>{const _0xf39ab7=_0x2d2b95,_0x445a74=_0x5aeacb[_0x5307b7]?.['p']['toFixed'](0x2)||_0xf39ab7(0x7db),_0x168bff=_0x5aeacb[_0x5307b7]?.['r'][_0xf39ab7(0x372)](0x2)||_0xf39ab7(0x7db),_0xe4b63e=_0x2db622(_0x4ca609['questionText']||_0x4ca609[_0xf39ab7(0x7ec)]);_0x1d1709+='-\x20ข้อ\x20'+(_0x5307b7+0x1)+_0xf39ab7(0x421)+_0x445a74+_0xf39ab7(0x277)+_0x168bff+'):\x20'+_0xe4b63e+'\x5cn';if(_0x4ca609[_0xf39ab7(0x6ec)]===_0xf39ab7(0x247)&&_0x258901[_0x5307b7]){const _0x673b7b=_0x258901[_0x5307b7],_0x111593=Object[_0xf39ab7(0x2fb)](_0x673b7b)['filter'](_0x43fc5b=>parseInt(_0x43fc5b)!==_0x4ca609[_0xf39ab7(0x6a9)])[_0xf39ab7(0x73c)]((_0x591fb7,_0x4ce75c)=>_0x673b7b[_0x4ce75c][_0xf39ab7(0x8e9)]-_0x673b7b[_0x591fb7][_0xf39ab7(0x8e9)])[0x0];if(_0x111593&&_0x673b7b[_0x111593]['total']>0x0){const _0x5a169d=_0x2db622(_0x673b7b[_0x111593][_0xf39ab7(0x51f)]);_0x1d1709+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x5a169d+_0xf39ab7(0x527);}}});const _0x1793cf=_0x2d2b95(0x60a)+_0x209204[_0x2d2b95(0x363)]+_0x2d2b95(0x1d2)+_0x1d1709+_0x2d2b95(0x16a),_0x53db02={'type':_0x2d2b95(0x102),'properties':{'learningGaps':{'type':'ARRAY','items':{'type':_0x2d2b95(0x532)}},'teachingContent':{'type':_0x2d2b95(0x532)},'practiceProblems':{'type':_0x2d2b95(0x534),'items':{'type':'OBJECT','properties':{'question':{'type':_0x2d2b95(0x532)},'solution':{'type':'STRING'}}}}},'required':[_0x2d2b95(0x8ba),_0x2d2b95(0x6f2),_0x2d2b95(0x6eb)]},_0x7b9ab5=await callAnalysisApi(_0x1793cf,_0x53db02);await updateDoc(_0x5007b9,{'lessonPlan':_0x7b9ab5});const _0x40638f=_0x2d2b95(0x88e)+_0x209204['topic']+_0x2d2b95(0x38b)+_0x7b9ab5['learningGaps'][_0x2d2b95(0x79a)](_0x399947=>'<li>'+_0x399947+_0x2d2b95(0x319))[_0x2d2b95(0x6f4)]('')+_0x2d2b95(0x28a)+_0x7b9ab5[_0x2d2b95(0x6f2)]+_0x2d2b95(0x87d)+_0x7b9ab5['practiceProblems'][_0x2d2b95(0x79a)](_0x1c6935=>_0x2d2b95(0x4b5)+_0x1c6935[_0x2d2b95(0x5c1)]+_0x2d2b95(0x35e)+_0x1c6935[_0x2d2b95(0x5fa)]+_0x2d2b95(0x6d5))[_0x2d2b95(0x6f4)]('')+_0x2d2b95(0x13f);document['getElementById'](_0x2d2b95(0x2f9))[_0x2d2b95(0x769)]=_0x2d2b95(0x48e)+_0x209204[_0x2d2b95(0x363)],document[_0x2d2b95(0x2da)](_0x2d2b95(0x489))[_0x2d2b95(0x373)]=_0x40638f,document[_0x2d2b95(0x2da)](_0x2d2b95(0x24f))['classList'][_0x2d2b95(0x395)](_0x2d2b95(0x62f));if(window[_0x2d2b95(0x3d6)])MathJax[_0x2d2b95(0x1de)]();messageModal[_0x2d2b95(0x5aa)][_0x2d2b95(0x483)]('hidden');}catch(_0x326143){console[_0x2d2b95(0x735)](_0x2d2b95(0x154),_0x326143),showMessage(_0x2d2b95(0x505)+_0x326143['message']);}}async function handleDuplicateQuiz(_0x4b7d8b){const _0x2ede93=_0x411d30;try{const _0x562215=doc(db,_0x2ede93(0x6c8)+appId+_0x2ede93(0x7d7),_0x4b7d8b),_0x134649=await getDoc(_0x562215);if(_0x134649['exists']()){const _0x4f31a2=_0x134649['data']();let _0x23c32f='',_0x928c9f='standard',_0x5532b7=null;if(_0x4f31a2[_0x2ede93(0x3f0)]===_0x2ede93(0x83d)){let _0x3e96ad=_0x4f31a2[_0x2ede93(0x363)][_0x2ede93(0x4cf)](_0x2ede93(0x39a),'')[_0x2ede93(0x4b3)]();_0x23c32f=_0x2ede93(0x110)+_0x3e96ad,_0x928c9f=_0x2ede93(0x65b),_0x5532b7=_0x4b7d8b;}else _0x23c32f=_0x2ede93(0x257)+_0x4f31a2[_0x2ede93(0x363)];const _0x92a7e0={..._0x4f31a2,'topic':_0x23c32f,'createdAt':new Date()['toISOString'](),'quizMode':_0x928c9f,'pairedQuizId':_0x5532b7};let _0x2e079e;while(!![]){_0x2e079e=Math[_0x2ede93(0x8d7)](0x3e8+Math[_0x2ede93(0x2fc)]()*0x2328)[_0x2ede93(0x87a)]();const _0x1a2ccf=await getDoc(doc(db,_0x2ede93(0x6c8)+appId+_0x2ede93(0x7d7),_0x2e079e));if(!_0x1a2ccf['exists']())break;}const _0x49ecb9=doc(db,_0x2ede93(0x6c8)+appId+'/public/data/quizzes',_0x2e079e);await setDoc(_0x49ecb9,_0x92a7e0),_0x92a7e0['quizMode']===_0x2ede93(0x65b)&&await updateDoc(_0x562215,{'pairedQuizId':_0x2e079e}),showMessage(_0x2ede93(0x111));}else throw new Error(_0x2ede93(0x405));}catch(_0x45077f){console[_0x2ede93(0x735)](_0x2ede93(0x51e),_0x45077f),showMessage(_0x2ede93(0x72d));}}async function handleDeleteQuiz(_0x44d6ab,_0x2c5f70=!![]){const _0x5ea3f6=_0x411d30;try{const _0x745e89=writeBatch(db),_0x367ac8=collection(db,_0x5ea3f6(0x6c8)+appId+_0x5ea3f6(0x29f)+_0x44d6ab+_0x5ea3f6(0x75f)),_0xd2a113=await getDocs(_0x367ac8);_0xd2a113['forEach'](_0x557b4c=>{const _0x32587b=_0x5ea3f6;_0x745e89[_0x32587b(0x283)](doc(_0x367ac8,_0x557b4c['id']));});const _0x29d97e=doc(db,_0x5ea3f6(0x6c8)+appId+'/public/data/quizzes',_0x44d6ab);_0x745e89['delete'](_0x29d97e),await _0x745e89[_0x5ea3f6(0x4e6)](),_0x2c5f70&&showMessage(_0x5ea3f6(0x20e));}catch(_0x26f57d){console[_0x5ea3f6(0x735)]('Error\x20deleting\x20quiz:',_0x26f57d),_0x2c5f70&&showMessage(_0x5ea3f6(0x7ee));}}async function showQuizDetailView(_0x446428){const _0x19bd31=_0x411d30;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x19bd31(0x473));try{const _0x43a84b=doc(db,_0x19bd31(0x6c8)+appId+_0x19bd31(0x7d7),_0x446428),_0xf65f11=await getDoc(_0x43a84b);if(!_0xf65f11[_0x19bd31(0x50f)]()){showMessage(_0x19bd31(0x6d0));return;}const _0x339feb={'id':_0xf65f11['id'],..._0xf65f11[_0x19bd31(0x516)]()};currentQuizData=_0x339feb;const _0x407415=doc(db,_0x19bd31(0x6c8)+appId+_0x19bd31(0x5b2),_0x339feb[_0x19bd31(0x7e4)]),_0x1ce9bb=await getDoc(_0x407415);_0x1ce9bb[_0x19bd31(0x50f)]()?(currentProjectData=_0x1ce9bb['data'](),currentProjectId=_0x339feb[_0x19bd31(0x7e4)]):(currentProjectData={'students':[]},currentProjectId=_0x339feb[_0x19bd31(0x7e4)]);document[_0x19bd31(0x2da)](_0x19bd31(0x15e))['textContent']=_0x339feb['topic'],document['getElementById'](_0x19bd31(0x3bb))[_0x19bd31(0x769)]=_0x446428;const _0x54a747=collection(db,_0x19bd31(0x6c8)+appId+_0x19bd31(0x7d7),_0x446428,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x54a747,_0x24973b=>{const _0x2ccdbd=_0x19bd31,_0x524177=_0x24973b['docs']['map'](_0x2a9b84=>({'id':_0x2a9b84['id'],..._0x2a9b84[_0x2ccdbd(0x516)]()}));currentSubmissions=_0x524177;const _0x5de54d=_0x524177[_0x2ccdbd(0x850)](_0x420608=>_0x420608[_0x2ccdbd(0x41c)]&&_0x420608[_0x2ccdbd(0x41c)][_0x2ccdbd(0x412)]>0x0);renderBehaviorLog(_0x524177),renderAnswerGrid(currentProjectData[_0x2ccdbd(0x1af)],_0x5de54d,_0x339feb),renderAnalytics(_0x339feb,_0x5de54d),renderQuizResultsTable(currentProjectData[_0x2ccdbd(0x1af)],_0x524177,_0x339feb),renderQuizLeaderboard(_0x5de54d,_0x339feb,_0x2ccdbd(0x813));}),showView(_0x19bd31(0x40d));}catch(_0x57373d){console[_0x19bd31(0x735)](_0x19bd31(0x7f2),_0x57373d),showMessage(_0x19bd31(0x1fc));}}function renderAnswerGrid(_0x3618b6,_0xa6fab3,_0x53b981){const _0x613478=_0x411d30,_0x2c4211=document[_0x613478(0x2da)](_0x613478(0x6f8));if(!_0x2c4211)return;if(!_0x3618b6||_0x3618b6[_0x613478(0x412)]===0x0){_0x2c4211[_0x613478(0x373)]=_0x613478(0x4c3);return;}const _0x40dcb6=_0x53b981[_0x613478(0x7f5)],_0x5554cc=_0xa6fab3['reduce']((_0x4ab506,_0x1deeef)=>{return _0x4ab506[_0x1deeef['studentName']]=_0x1deeef,_0x4ab506;},{}),_0xf6eee0=_0xc4dc6f=>String[_0x613478(0x4d9)](0x41+_0xc4dc6f),_0x54406b=_0x183816=>{const _0xa644aa=_0x613478,_0x195187=_0x183816[_0xa644aa(0x6ec)]||_0x53b981[_0xa644aa(0x285)];switch(_0x195187){case _0xa644aa(0x247):return _0x183816[_0xa644aa(0x7f7)]&&_0x183816['options'][_0xa644aa(0x412)]>_0x183816[_0xa644aa(0x6a9)]?_0xf6eee0(_0x183816[_0xa644aa(0x6a9)]):'-';case _0xa644aa(0x5e7):return _0x183816[_0xa644aa(0x51d)]?_0xa644aa(0x74b):_0xa644aa(0x87b);case _0xa644aa(0x733):return _0x183816[_0xa644aa(0x4a1)]||'-';case'short_answer':return _0xa644aa(0x4b4);default:return'-';}},_0x20bf71=(_0xb2dacd,_0x29b5eb)=>{const _0x350dbf=_0x613478;if(_0x29b5eb[_0x350dbf(0x165)]===null||_0x29b5eb[_0x350dbf(0x165)]===undefined)return'-';const _0x5364ff=_0xb2dacd[_0x350dbf(0x6ec)]||_0x53b981[_0x350dbf(0x285)];switch(_0x5364ff){case _0x350dbf(0x247):const _0x426045=_0xb2dacd[_0x350dbf(0x7f7)][_0x350dbf(0x5a0)](_0x28bace=>_0x28bace===_0x29b5eb[_0x350dbf(0x8a8)]);return _0x426045!==-0x1?_0xf6eee0(_0x426045):_0x29b5eb['answerText']||'-';case _0x350dbf(0x5e7):return _0x29b5eb['answer']===_0x350dbf(0x601)||_0x29b5eb['answer']===!![]?_0x350dbf(0x74b):_0x350dbf(0x87b);default:return _0x29b5eb['answer'];}};let _0x5d1719=_0x613478(0x728)+_0x40dcb6[_0x613478(0x79a)]((_0x56df8c,_0x37f799)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x37f799+0x1)+_0x613478(0x437))[_0x613478(0x6f4)]('')+_0x613478(0x2eb)+_0x40dcb6[_0x613478(0x79a)](_0x7af328=>_0x613478(0x30f)+_0x54406b(_0x7af328)+'</td>')[_0x613478(0x6f4)]('')+_0x613478(0x87c);_0x3618b6['forEach'](_0x4e0575=>{const _0x470621=_0x613478;_0x5d1719+=_0x470621(0x322),_0x5d1719+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x4e0575+'</td>';const _0xf52dc7=_0x5554cc[_0x4e0575];if(_0xf52dc7){const _0x3a28f6=_0xf52dc7[_0x470621(0x41c)][_0xf52dc7[_0x470621(0x41c)][_0x470621(0x412)]-0x1];_0x40dcb6[_0x470621(0x65f)]((_0x5cde9d,_0x1cb5dc)=>{const _0x1a8cf0=_0x470621,_0x66b743=_0x3a28f6['answers']['find'](_0x4f3667=>_0x4f3667[_0x1a8cf0(0x2ee)]===(_0x5cde9d['stem']||_0x5cde9d[_0x1a8cf0(0x5be)]));if(_0x66b743){let _0x20477b=![];const _0x44825a=_0x5cde9d[_0x1a8cf0(0x6ec)]||_0x53b981[_0x1a8cf0(0x285)];if(_0x66b743[_0x1a8cf0(0x165)]!==null&&_0x66b743[_0x1a8cf0(0x165)]!==undefined)switch(_0x44825a){case'multiple_choice':const _0x21adba=_0x5cde9d['options'][_0x5cde9d[_0x1a8cf0(0x6a9)]];_0x20477b=_0x66b743[_0x1a8cf0(0x8a8)]===_0x21adba;break;case _0x1a8cf0(0x5e7):const _0x3ff0dc=_0x66b743[_0x1a8cf0(0x165)]===!![]||_0x66b743['answer']==='true';_0x20477b=_0x3ff0dc===_0x5cde9d[_0x1a8cf0(0x51d)];break;case _0x1a8cf0(0x733):_0x20477b=_0x66b743[_0x1a8cf0(0x165)]===_0x5cde9d[_0x1a8cf0(0x4a1)];break;default:_0x20477b=_0x66b743['isCorrect'];break;}const _0x689903=_0x20477b?'bg-green-100':_0x1a8cf0(0x832);_0x5d1719+=_0x1a8cf0(0x843)+_0x689903+'\x22>'+_0x20bf71(_0x5cde9d,_0x66b743)+_0x1a8cf0(0x8e5);}else _0x5d1719+=_0x1a8cf0(0x795);});}else _0x5d1719+=_0x40dcb6['map'](()=>_0x470621(0x72c))[_0x470621(0x6f4)]('');_0x5d1719+=_0x470621(0x1f7);}),_0x5d1719+=_0x613478(0x11a),_0x2c4211[_0x613478(0x373)]=_0x5d1719;}function renderQuizResultsTable(_0xc57282,_0x5ef531,_0x368cb1){const _0x49fde4=_0x411d30,_0x436638=_0x5ef531[_0x49fde4(0x3bf)]((_0x44cadf,_0x31227e)=>{const _0x5d1bd9=_0x49fde4;return _0x44cadf[_0x31227e[_0x5d1bd9(0x727)]]=_0x31227e,_0x44cadf;},{}),_0x1976e5=document[_0x49fde4(0x6ce)](_0x49fde4(0x205));_0x1976e5&&!_0x1976e5[_0x49fde4(0x373)][_0x49fde4(0x411)]('จัดการ')&&(_0x1976e5['innerHTML']+=_0x49fde4(0x207));const _0x9d0327=document['getElementById'](_0x49fde4(0x5f5));if(!_0xc57282||_0xc57282[_0x49fde4(0x412)]===0x0){_0x9d0327[_0x49fde4(0x373)]=_0x49fde4(0x31b);return;}const _0x3a87cc=_0x368cb1[_0x49fde4(0x1ad)]===!![],_0x15a602=_0x368cb1['settings']?.[_0x49fde4(0xe5)]??-0x1;let _0x1afbe8='';_0xc57282['forEach'](_0x24eb6a=>{const _0x1c1378=_0x49fde4,_0xd99818=_0x436638[_0x24eb6a];let _0x39f91c=_0x1c1378(0x3e5)+(_0x3a87cc?_0x1c1378(0x7c1):_0x1c1378(0x462))+'\x22>'+(_0x3a87cc?_0x1c1378(0x78c):'สอบปกติ')+_0x1c1378(0x34b);if(_0xd99818){if(_0xd99818[_0x1c1378(0x41c)]&&_0xd99818[_0x1c1378(0x41c)][_0x1c1378(0x412)]>0x0){let _0x441b86=_0x3a87cc?_0xd99818[_0x1c1378(0x8a6)]===_0xd99818[_0x1c1378(0x865)]:_0x15a602!==-0x1&&_0xd99818['bestScore']>=_0x15a602;const _0x380b3b=_0x441b86?_0x1c1378(0x208):_0x1c1378(0x361),_0x2a9f26=_0x441b86?_0x1c1378(0xe8):'ไม่ผ่าน',_0x33fea5=_0x1c1378(0x3d4)+_0x380b3b+'\x22>'+_0x2a9f26+_0x1c1378(0x34b),_0x3583fd=_0x1c1378(0x227)+(_0xd99818['attempts']?.[_0x1c1378(0x412)]||0x1)+_0x1c1378(0x471);_0x1afbe8+=_0x1c1378(0x1ca)+_0x24eb6a+_0x1c1378(0x8e1)+_0xd99818[_0x1c1378(0x8a6)]+_0x1c1378(0x24e)+_0xd99818[_0x1c1378(0x865)]+_0x1c1378(0x453)+_0x33fea5+_0x1c1378(0x42c)+_0x39f91c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0xd99818['firstScore']+'\x20/\x20'+_0xd99818[_0x1c1378(0x865)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0xd99818[_0x1c1378(0x73d)]+'\x20/\x20'+_0xd99818[_0x1c1378(0x865)]+_0x1c1378(0x18b)+(_0xd99818[_0x1c1378(0x3d0)]||0x0)+_0x1c1378(0x453)+_0x3583fd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0xd99818[_0x1c1378(0x202)])['toLocaleString'](_0x1c1378(0x5ae))+_0x1c1378(0x4a8)+_0x24eb6a+_0x1c1378(0x8d1);}else{const _0x550278='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x1afbe8+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x24eb6a+_0x1c1378(0x301)+_0x39f91c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x550278+_0x1c1378(0x853)+new Date(_0xd99818[_0x1c1378(0x901)])[_0x1c1378(0x59a)](_0x1c1378(0x5ae))+_0x1c1378(0x359)+_0x24eb6a+_0x1c1378(0x8d1);}}else{const _0x5bb118=_0x1c1378(0x368);_0x1afbe8+=_0x1c1378(0x741)+_0x24eb6a+_0x1c1378(0x38e)+_0x39f91c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5bb118+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x9d0327[_0x49fde4(0x373)]=_0x1afbe8;}async function confirmRenameQuiz(){const _0x488553=_0x411d30,_0x5141aa=document[_0x488553(0x2da)](_0x488553(0x5b1))[_0x488553(0x5b4)][_0x488553(0x4b3)]();if(!_0x5141aa){showMessage(_0x488553(0x40a));return;}if(!actionTargetId)return;const _0x413897=doc(db,'artifacts/'+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x413897,{'topic':_0x5141aa}),showMessage(_0x488553(0x636)),renameQuizModal[_0x488553(0x5aa)]['add']('hidden'),actionTargetId=null;}catch(_0x112e69){console['error'](_0x488553(0x104),_0x112e69),showMessage(_0x488553(0x2f0));}}async function handleMoveQuiz(_0x4f07f3){const _0x1fcca5=_0x411d30;actionTargetId=_0x4f07f3;const _0x58517e=document[_0x1fcca5(0x2da)](_0x1fcca5(0x186));_0x58517e[_0x1fcca5(0x373)]='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x1fcca5(0x5aa)][_0x1fcca5(0x395)](_0x1fcca5(0x62f));try{const _0x2de250=collection(db,'artifacts/'+appId+_0x1fcca5(0x5b2)),_0x212d57=await getDocs(_0x2de250),_0x50296c=_0x212d57[_0x1fcca5(0x60e)][_0x1fcca5(0x79a)](_0xa48c2b=>({'id':_0xa48c2b['id'],..._0xa48c2b[_0x1fcca5(0x516)]()})),_0x1b1680=_0x50296c[_0x1fcca5(0x850)](_0x524997=>_0x524997['id']!==currentProjectId);if(_0x1b1680[_0x1fcca5(0x412)]===0x0){_0x58517e[_0x1fcca5(0x373)]=_0x1fcca5(0x4b7),document['getElementById']('confirm-move-quiz-btn')[_0x1fcca5(0x502)]=!![];return;}_0x58517e[_0x1fcca5(0x373)]=_0x1b1680[_0x1fcca5(0x79a)](_0x10f2ca=>_0x1fcca5(0x760)+_0x10f2ca['id']+'\x22>'+_0x10f2ca[_0x1fcca5(0x661)]+_0x1fcca5(0x535))[_0x1fcca5(0x6f4)](''),document[_0x1fcca5(0x2da)](_0x1fcca5(0x2a8))[_0x1fcca5(0x502)]=![];}catch(_0x240b48){console['error'](_0x1fcca5(0x8b2),_0x240b48),showMessage(_0x1fcca5(0x86b)),moveQuizModal['classList'][_0x1fcca5(0x483)](_0x1fcca5(0x62f));}}async function confirmMoveQuiz(){const _0xcdf9cb=_0x411d30,_0xedc9a7=document[_0xcdf9cb(0x2da)](_0xcdf9cb(0x186))['value'];if(!_0xedc9a7){showMessage(_0xcdf9cb(0x677));return;}if(!actionTargetId)return;const _0x3def24=doc(db,_0xcdf9cb(0x6c8)+appId+_0xcdf9cb(0x7d7),actionTargetId);try{await updateDoc(_0x3def24,{'projectId':_0xedc9a7}),showMessage(_0xcdf9cb(0x825)),moveQuizModal[_0xcdf9cb(0x5aa)][_0xcdf9cb(0x483)](_0xcdf9cb(0x62f)),actionTargetId=null;}catch(_0x4539fe){console['error'](_0xcdf9cb(0x2b1),_0x4539fe),showMessage(_0xcdf9cb(0x1e7));}}async function handleQuizSettings(_0x5582be){const _0x1d3048=_0x411d30;actionTargetId=_0x5582be;const _0x531347=doc(db,_0x1d3048(0x6c8)+appId+_0x1d3048(0x7d7),_0x5582be);try{const _0x163f40=await getDoc(_0x531347);if(_0x163f40[_0x1d3048(0x50f)]()){const _0x325461=_0x163f40[_0x1d3048(0x516)](),_0x24c1a4=_0x325461[_0x1d3048(0x304)]||{},_0x1a6e80=_0x325461['questions']['length'];document[_0x1d3048(0x2da)]('modal-shuffle-select')['value']=_0x24c1a4[_0x1d3048(0x22b)]||_0x1d3048(0x8a5),document[_0x1d3048(0x2da)](_0x1d3048(0x2e3))[_0x1d3048(0x5b4)]=_0x24c1a4[_0x1d3048(0x299)]||_0x1d3048(0x8cf),document[_0x1d3048(0x2da)](_0x1d3048(0x466))[_0x1d3048(0x5b4)]=_0x24c1a4[_0x1d3048(0x7bf)]||_0x1d3048(0x8a5),document[_0x1d3048(0x2da)](_0x1d3048(0xf5))['value']=_0x24c1a4[_0x1d3048(0x531)]||0xa,document['getElementById'](_0x1d3048(0x226))[_0x1d3048(0x5b4)]=_0x24c1a4[_0x1d3048(0xe5)]||Math[_0x1d3048(0x8d7)](_0x1a6e80/0x2),document[_0x1d3048(0x2da)](_0x1d3048(0x226))['max']=_0x1a6e80,document[_0x1d3048(0x2da)](_0x1d3048(0x62c))[_0x1d3048(0x81a)]=_0x24c1a4['isAdaptive']||![],document[_0x1d3048(0x2da)](_0x1d3048(0x347))[_0x1d3048(0x81a)]=_0x24c1a4[_0x1d3048(0x5ee)]||![],document[_0x1d3048(0x2da)](_0x1d3048(0x466))['dispatchEvent'](new Event(_0x1d3048(0x59b))),quizSettingsModal[_0x1d3048(0x5aa)][_0x1d3048(0x395)](_0x1d3048(0x62f));}else showMessage(_0x1d3048(0x6d0));}catch(_0x5ce34e){console[_0x1d3048(0x735)](_0x1d3048(0x715),_0x5ce34e),showMessage(_0x1d3048(0x617));}}async function confirmQuizSettings(){const _0x1c8dda=_0x411d30;if(!actionTargetId)return;const _0x137cb4=doc(db,'artifacts/'+appId+_0x1c8dda(0x7d7),actionTargetId),_0x1ed68c={'shuffle':document[_0x1c8dda(0x2da)](_0x1c8dda(0x8a0))[_0x1c8dda(0x5b4)],'resultsDisplay':document[_0x1c8dda(0x2da)]('modal-results-display-select')[_0x1c8dda(0x5b4)],'timerMode':document[_0x1c8dda(0x2da)](_0x1c8dda(0x466))['value'],'timerDuration':parseInt(document[_0x1c8dda(0x2da)](_0x1c8dda(0xf5))[_0x1c8dda(0x5b4)])||0xa,'passingScore':parseInt(document[_0x1c8dda(0x2da)](_0x1c8dda(0x226))['value'])||0x0,'passingScore':parseInt(document[_0x1c8dda(0x2da)](_0x1c8dda(0x226))['value'])||0x0,'isAdaptive':document[_0x1c8dda(0x2da)](_0x1c8dda(0x62c))[_0x1c8dda(0x81a)],'loopUntilPass':document['getElementById']('modal-loop-until-pass-checkbox')[_0x1c8dda(0x81a)]};try{await updateDoc(_0x137cb4,{'settings':_0x1ed68c}),showMessage(_0x1c8dda(0x2df)),quizSettingsModal[_0x1c8dda(0x5aa)][_0x1c8dda(0x483)](_0x1c8dda(0x62f)),actionTargetId=null;}catch(_0x9680df){console['error']('Error\x20updating\x20quiz\x20settings:',_0x9680df),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleQuizStatus(_0x162dfb){const _0x1246f6=_0x411d30;actionTargetId=_0x162dfb;const _0x26d663=doc(db,_0x1246f6(0x6c8)+appId+'/public/data/quizzes',_0x162dfb);try{const _0x595767=await getDoc(_0x26d663);if(_0x595767['exists']()){const _0x2884a2=_0x595767[_0x1246f6(0x516)](),_0x3bd3ec=_0x2884a2['status']||'active',_0x46dac6=document[_0x1246f6(0x2da)](_0x1246f6(0x2f1)),_0x1e5d11=document[_0x1246f6(0x2da)](_0x1246f6(0x23f)),_0x502cd0=document[_0x1246f6(0x2da)](_0x1246f6(0x183));let _0x1932d3=_0x1246f6(0x4db)+(_0x3bd3ec==='active'?_0x1246f6(0x81a):'')+'>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20'+(_0x3bd3ec===_0x1246f6(0x69d)?_0x1246f6(0x81a):'')+_0x1246f6(0x6dc)+(_0x3bd3ec===_0x1246f6(0x57a)?'checked':'')+_0x1246f6(0x79c);_0x46dac6[_0x1246f6(0x373)]=_0x1932d3;const _0x4ca503=_0x3bd3ec===_0x1246f6(0x57a);_0x1e5d11[_0x1246f6(0x5aa)][_0x1246f6(0x778)](_0x1246f6(0x62f),!_0x4ca503),_0x502cd0[_0x1246f6(0x5aa)]['toggle'](_0x1246f6(0x62f),!_0x4ca503),document['getElementById'](_0x1246f6(0x60d))[_0x1246f6(0x5b4)]=_0x2884a2[_0x1246f6(0x688)]?_0x2884a2[_0x1246f6(0x688)][_0x1246f6(0x4bc)](0x0,0x10):'',document[_0x1246f6(0x2da)](_0x1246f6(0x737))[_0x1246f6(0x5b4)]=_0x2884a2[_0x1246f6(0x5f2)]?_0x2884a2['endTime']['substring'](0x0,0x10):'',_0x46dac6['querySelectorAll'](_0x1246f6(0x82a))['forEach'](_0x49fd55=>{const _0x1824e8=_0x1246f6;_0x49fd55['addEventListener'](_0x1824e8(0x59b),_0xc663c0=>{const _0x43f02a=_0x1824e8,_0x17806c=_0xc663c0['target']['value']===_0x43f02a(0x3fe);_0x1e5d11['classList'][_0x43f02a(0x778)]('hidden',!_0x17806c),_0x502cd0['classList'][_0x43f02a(0x778)](_0x43f02a(0x62f),!_0x17806c);});}),quizStatusModal[_0x1246f6(0x5aa)][_0x1246f6(0x395)](_0x1246f6(0x62f));}}catch(_0x3911f9){console['error']('Error\x20fetching\x20quiz\x20status:',_0x3911f9),showMessage('เกิดข้อผิดพลาดในการโหลดสถานะ');}}async function confirmQuizStatus(){const _0x3c3b69=_0x411d30;if(!actionTargetId)return;const _0x547968=doc(db,_0x3c3b69(0x6c8)+appId+'/public/data/quizzes',actionTargetId),_0x113ce1=document[_0x3c3b69(0x6ce)](_0x3c3b69(0x7dc));if(!_0x113ce1){showMessage('กรุณาเลือกสถานะ');return;}const _0x20b9ef=_0x113ce1[_0x3c3b69(0x5b4)];let _0x49babb={};if(_0x20b9ef===_0x3c3b69(0xe3)||_0x20b9ef===_0x3c3b69(0x69d))_0x49babb={'status':_0x20b9ef,'startTime':null,'endTime':null};else{if(_0x20b9ef===_0x3c3b69(0x3fe)){const _0x126634=document['getElementById']('quiz-start-time')[_0x3c3b69(0x5b4)],_0x48d7f2=document[_0x3c3b69(0x2da)](_0x3c3b69(0x737))[_0x3c3b69(0x5b4)];if(!_0x126634&&!_0x48d7f2){showMessage(_0x3c3b69(0x8b8));return;}_0x49babb={'status':_0x3c3b69(0x57a),'startTime':_0x126634?new Date(_0x126634)[_0x3c3b69(0x1f5)]():null,'endTime':_0x48d7f2?new Date(_0x48d7f2)[_0x3c3b69(0x1f5)]():null};}}try{await updateDoc(_0x547968,_0x49babb),showMessage(_0x3c3b69(0x456)),quizStatusModal[_0x3c3b69(0x5aa)][_0x3c3b69(0x483)](_0x3c3b69(0x62f)),actionTargetId=null;}catch(_0x44bf03){console[_0x3c3b69(0x735)](_0x3c3b69(0x30b),_0x44bf03),showMessage(_0x3c3b69(0x1d0));}}function listenForStudentProfiles(_0x4fb37e){const _0x50189f=_0x411d30,_0x22afc3=collection(db,_0x50189f(0x6c8)+appId+'/public/data/projects/'+_0x4fb37e+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x22afc3,_0x29f050=>{const _0x34bee3=_0x50189f,_0x2ca24c=_0x29f050[_0x34bee3(0x60e)][_0x34bee3(0x79a)](_0x33cd59=>_0x33cd59['data']());renderLeaderboard(_0x2ca24c,'leaderboard-table-body');},_0x68bd05=>{const _0x87c48=_0x50189f;console[_0x87c48(0x735)](_0x87c48(0x525),_0x68bd05),document[_0x87c48(0x2da)](_0x87c48(0x5a4))[_0x87c48(0x373)]=_0x87c48(0x4fc);});}function renderLeaderboard(_0x560e3f,_0x2dc024){const _0x337fd0=_0x411d30,_0x564ba2=document[_0x337fd0(0x2da)](_0x2dc024);if(!_0x560e3f||_0x560e3f['length']===0x0){_0x564ba2['innerHTML']=_0x337fd0(0x830);return;}_0x560e3f[_0x337fd0(0x73c)]((_0x5f5755,_0xd8f189)=>{const _0x339a75=_0x337fd0,_0x192bf8=(_0xd8f189['totalPoints']||0x0)-(_0x5f5755[_0x339a75(0x746)]||0x0);if(_0x192bf8!==0x0)return _0x192bf8;const _0x185b9d=(_0xd8f189[_0x339a75(0x1ce)]?.[_0x339a75(0x5bb)]||0x0)-(_0x5f5755[_0x339a75(0x1ce)]?.[_0x339a75(0x5bb)]||0x0);if(_0x185b9d!==0x0)return _0x185b9d;const _0x3b4e52=(_0xd8f189[_0x339a75(0x1ce)]?.[_0x339a75(0x555)]||0x0)-(_0x5f5755['badgesCount']?.[_0x339a75(0x555)]||0x0);if(_0x3b4e52!==0x0)return _0x3b4e52;const _0x3fb9ae=(_0xd8f189[_0x339a75(0x1ce)]?.[_0x339a75(0x4bb)]||0x0)-(_0x5f5755[_0x339a75(0x1ce)]?.['perfect_score']||0x0);if(_0x3fb9ae!==0x0)return _0x3fb9ae;const _0x42643c=(_0xd8f189['badgesCount']?.[_0x339a75(0x1c6)]||0x0)-(_0x5f5755['badgesCount']?.['quick_thinker']||0x0);if(_0x42643c!==0x0)return _0x42643c;return _0x5f5755[_0x339a75(0x727)][_0x339a75(0x48b)](_0xd8f189[_0x339a75(0x727)],'th');});let _0x430d3a='';_0x560e3f['forEach']((_0x532ffe,_0x53ce55)=>{const _0x4b8095=_0x337fd0,_0x159c5a=_0x53ce55+0x1,_0x4f6173=_0x532ffe['badgesCount']||{};let _0x24c4fe='';const _0x545349=[_0x4b8095(0x5bb),_0x4b8095(0x4bb),_0x4b8095(0x555),'quick_thinker'];_0x545349[_0x4b8095(0x65f)](_0x378f05=>{const _0x591f0b=_0x4b8095;if(_0x4f6173[_0x378f05]>0x0){const _0x4335ab=Object[_0x591f0b(0x132)](BADGES)['find'](_0x31a835=>_0x31a835['id']===_0x378f05);_0x4335ab&&(_0x378f05===_0x591f0b(0x5bb)?_0x24c4fe+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x4335ab['name']+_0x591f0b(0x734)+_0x4335ab[_0x591f0b(0x5e3)]+_0x591f0b(0x3fb):_0x24c4fe+=_0x591f0b(0x173)+_0x4335ab['name']+'\x20('+_0x4f6173[_0x378f05]+_0x591f0b(0x528)+_0x4335ab['icon']+_0x591f0b(0x53a)+_0x4f6173[_0x378f05]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x430d3a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x159c5a+_0x4b8095(0x4d4)+_0x532ffe['studentName']+_0x4b8095(0x156)+(_0x532ffe[_0x4b8095(0x746)]||0x0)+_0x4b8095(0x4d4)+(_0x24c4fe||'-')+_0x4b8095(0x6f6);}),_0x564ba2[_0x337fd0(0x373)]=_0x430d3a;}function displayLoopScreen(_0x404fbf,_0x3d8313,_0x2e27a9){const _0xb87ca=_0x411d30;let _0x12491c='';_0x2e27a9!==_0xb87ca(0x807)&&(_0x12491c=_0xb87ca(0x20f)+_0x404fbf+_0xb87ca(0x24e)+_0x3d8313+_0xb87ca(0x403));const _0x7992cd=_0xb87ca(0x766)+_0x12491c+_0xb87ca(0x638);studentResultArea[_0xb87ca(0x373)]=_0x7992cd,studentResultArea['classList'][_0xb87ca(0x395)](_0xb87ca(0x62f)),studentQuizArea[_0xb87ca(0x5aa)]['add']('hidden'),document[_0xb87ca(0x2da)](_0xb87ca(0x593))[_0xb87ca(0x381)](_0xb87ca(0x302),()=>{const _0x1f0603=_0xb87ca;studentResultArea[_0x1f0603(0x5aa)][_0x1f0603(0x483)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x4694d4,_0x2a7774,_0x5f1010){const _0x1c4f86=_0x411d30,_0x384bec=document['getElementById'](_0x5f1010),_0xbd1e65=_0x5f1010===_0x1c4f86(0x7c2),_0x33eb61=_0x2a7774[_0x1c4f86(0x7f5)][_0x1c4f86(0x412)],_0x59db46=document[_0x1c4f86(0x2da)](_0x5f1010)[_0x1c4f86(0x588)](_0x1c4f86(0xe4));if(_0x59db46&&!_0xbd1e65){const _0xb3f3a=_0x59db46['querySelector']('thead');_0xb3f3a[_0x1c4f86(0x373)]=_0x1c4f86(0x635);}if(!_0x4694d4||_0x4694d4[_0x1c4f86(0x412)]===0x0){_0x384bec[_0x1c4f86(0x373)]=_0x1c4f86(0x726)+(_0xbd1e65?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x58307f=[..._0x4694d4];_0x58307f[_0x1c4f86(0x73c)]((_0x3e8008,_0x289e99)=>{const _0x816efd=_0x1c4f86;let _0x583301,_0x4f32fc;switch(quizLeaderboardSortBy){case'studentName':_0x583301=_0x3e8008['studentName']||'',_0x4f32fc=_0x289e99[_0x816efd(0x727)]||'';return quizLeaderboardSortOrder===_0x816efd(0x7e0)?_0x583301[_0x816efd(0x48b)](_0x4f32fc,'th'):_0x4f32fc['localeCompare'](_0x583301,'th');case'points':_0x583301=_0x3e8008['points']||0x0,_0x4f32fc=_0x289e99[_0x816efd(0x3d0)]||0x0;break;case'attempts':_0x583301=_0x3e8008[_0x816efd(0x41c)]?.[_0x816efd(0x412)]||0x1,_0x4f32fc=_0x289e99['attempts']?.['length']||0x1;break;case'latestSubmittedAt':_0x583301=new Date(_0x3e8008[_0x816efd(0x202)]),_0x4f32fc=new Date(_0x289e99[_0x816efd(0x202)]);break;case _0x816efd(0x8a6):default:_0x583301=_0x3e8008[_0x816efd(0x8a6)],_0x4f32fc=_0x289e99['bestScore'];break;}if(_0x583301<_0x4f32fc)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x583301>_0x4f32fc)return quizLeaderboardSortOrder===_0x816efd(0x7e0)?0x1:-0x1;return 0x0;});const _0x1b65c8=_0x2a7774[_0x1c4f86(0x1ad)]===!![],_0x13319b=_0x2a7774['settings']?.['passingScore']??-0x1;let _0x4616cd='';_0x58307f[_0x1c4f86(0x65f)]((_0x188315,_0x11b133)=>{const _0x2ca677=_0x1c4f86,_0x5c0851=_0x11b133+0x1;let _0x428a93=_0x2ca677(0x907);if(_0x1b65c8||_0x13319b!==-0x1){let _0x20d66d=_0x1b65c8?_0x188315[_0x2ca677(0x8a6)]===_0x33eb61:_0x188315[_0x2ca677(0x8a6)]>=_0x13319b;const _0x56e25c=_0x20d66d?_0x2ca677(0x208):_0x2ca677(0x361),_0x901d60=_0x20d66d?_0x2ca677(0xe8):'ไม่ผ่าน';_0x428a93=_0x2ca677(0x33c)+_0x56e25c+'\x22>'+_0x901d60+_0x2ca677(0x34b);}const _0x5d6e6b=_0x188315[_0x2ca677(0x41c)][_0x188315[_0x2ca677(0x41c)]['length']-0x1],_0xe0d9d6=(_0x5d6e6b[_0x2ca677(0x87e)]||[])['map'](_0x333310=>{const _0x1ea181=_0x2ca677,_0x45551a=Object[_0x1ea181(0x132)](BADGES)[_0x1ea181(0x151)](_0x13cba1=>_0x13cba1['id']===_0x333310);return _0x45551a?_0x1ea181(0x34f)+_0x45551a[_0x1ea181(0x612)]+_0x1ea181(0x7e6)+_0x45551a[_0x1ea181(0x5e3)]+_0x1ea181(0x344):'';})[_0x2ca677(0x6f4)]('');_0x4616cd+=_0x2ca677(0x323)+_0x5c0851+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x188315['studentName']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x188315[_0x2ca677(0x8a6)]+_0x2ca677(0x24e)+_0x33eb61+_0x2ca677(0x8eb)+_0x428a93+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x188315[_0x2ca677(0x3d0)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xbd1e65?'':_0x2ca677(0x716)+(_0x188315[_0x2ca677(0x41c)]?.[_0x2ca677(0x412)]||0x1)+_0x2ca677(0x8e5))+_0x2ca677(0x37f)+(_0xbd1e65?'':_0x2ca677(0x5dd)+new Date(_0x188315['latestSubmittedAt'])['toLocaleString'](_0x2ca677(0x5ae))+_0x2ca677(0x8e5))+_0x2ca677(0x7a7)+(_0xe0d9d6||'-')+_0x2ca677(0x15c);}),_0x384bec['innerHTML']=_0x4616cd,_0x59db46&&!_0xbd1e65&&_0x59db46[_0x1c4f86(0x7ea)](_0x1c4f86(0x1a3))[_0x1c4f86(0x65f)](_0x50de15=>{const _0x584295=_0x1c4f86,_0x510903=_0x50de15[_0x584295(0x6ce)](_0x584295(0x8db));if(_0x510903)_0x510903['remove']();_0x50de15[_0x584295(0x5a1)]['sort']===quizLeaderboardSortBy&&(_0x50de15[_0x584295(0x373)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x584295(0x7e0)?'▲':'▼')+_0x584295(0x558));});}async function handleDeleteSubmission(_0x276680){const _0x26c463=_0x411d30;if(!currentQuizData||!currentQuizData['id']||!_0x276680){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x26c463(0x1ed)+_0x276680+_0x26c463(0x7d2),async()=>{const _0x10699d=_0x26c463,_0x2f8861=currentQuizData['id'],_0x2b410d=doc(db,_0x10699d(0x6c8)+appId+_0x10699d(0x29f)+_0x2f8861+_0x10699d(0x75f),_0x276680);try{await deleteDoc(_0x2b410d),showMessage('ลบผลสอบของ\x20'+_0x276680+_0x10699d(0x126));}catch(_0x4adb59){console[_0x10699d(0x735)](_0x10699d(0x370),_0x4adb59),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x2f168c=_0x411d30,_0x7626bb=document['getElementById'](_0x2f168c(0x4e1)),_0x15b049=_0x7626bb['value'][_0x2f168c(0x4b3)]();if(!_0x15b049){showMessage(_0x2f168c(0x710));return;}loadQuizBtn[_0x2f168c(0x502)]=!![],loadQuizBtn[_0x2f168c(0x373)]=_0x2f168c(0x109);try{const _0xdf2bbc=doc(db,_0x2f168c(0x6c8)+appId+_0x2f168c(0x7d7),_0x15b049),_0x44ae5e=await getDoc(_0xdf2bbc);if(!_0x44ae5e[_0x2f168c(0x50f)]()){showMessage(_0x2f168c(0x562));return;}currentQuizData={'id':_0x44ae5e['id'],..._0x44ae5e[_0x2f168c(0x516)]()};const _0x181c2e=currentQuizData['status']||_0x2f168c(0xe3),_0x5f6eb3=new Date();if(_0x181c2e===_0x2f168c(0x69d)){showMessage(_0x2f168c(0x5ca));return;}if(_0x181c2e==='scheduled'){const _0x4f38aa=currentQuizData[_0x2f168c(0x688)]?new Date(currentQuizData[_0x2f168c(0x688)]):null,_0x248c7f=currentQuizData[_0x2f168c(0x5f2)]?new Date(currentQuizData[_0x2f168c(0x5f2)]):null;if(_0x4f38aa&&_0x5f6eb3<_0x4f38aa){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x4f38aa[_0x2f168c(0x59a)]('th-TH',{'hour12':![]}));return;}if(_0x248c7f&&_0x5f6eb3>_0x248c7f){showMessage(_0x2f168c(0x447));return;}}const _0x4c9e3a=currentQuizData[_0x2f168c(0x7e4)];currentProjectId=_0x4c9e3a;const _0x4cda8c=doc(db,'artifacts/'+appId+_0x2f168c(0x5b2),_0x4c9e3a),_0x12e019=await getDoc(_0x4cda8c);if(!_0x12e019['exists']()){showMessage(_0x2f168c(0x118));return;}const _0x4454dc=_0x12e019['data']();currentStudentProjectData=_0x4454dc,displayStudentNameSelector(_0x4454dc[_0x2f168c(0x1af)],currentQuizData[_0x2f168c(0x363)]);}catch(_0x54057b){console[_0x2f168c(0x735)]('Error\x20loading\x20quiz\x20for\x20student:',_0x54057b),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn[_0x2f168c(0x502)]=![],loadQuizBtn['innerHTML']=_0x2f168c(0x5f3);}}async function handleJoinLiveGame(){const _0xa5c947=_0x411d30,_0x43eefd=document[_0xa5c947(0x2da)](_0xa5c947(0x8ef)),_0x2a8fda=document[_0xa5c947(0x2da)]('nickname-input'),_0x2c6965=document[_0xa5c947(0x2da)](_0xa5c947(0x2e5)),_0x4de001=_0x43eefd[_0xa5c947(0x5b4)]['trim'](),_0x8ad0b1=_0x2a8fda[_0xa5c947(0x5b4)][_0xa5c947(0x4b3)]();if(!_0x4de001||!_0x8ad0b1){showMessage(_0xa5c947(0x3c5));return;}_0x2c6965['disabled']=!![],_0x2c6965[_0xa5c947(0x373)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0x208070=collection(db,'artifacts/'+appId+_0xa5c947(0x90e)),_0x3650e2=query(_0x208070,where('gamePin','==',_0x4de001),where(_0xa5c947(0x8cb),'in',['lobby','question'])),_0x3bb558=await getDocs(_0x3650e2);if(_0x3bb558[_0xa5c947(0x166)]){showMessage(_0xa5c947(0x25d));return;}const _0xd6a815=_0x3bb558['docs'][0x0],_0x38cbe3=_0xd6a815['data']();currentLiveGameId=_0xd6a815['id'];const _0x21db5a=_0x38cbe3[_0xa5c947(0x8e0)],_0x40cad3=doc(db,_0xa5c947(0x6c8)+appId+_0xa5c947(0x7d7),_0x21db5a),_0x2cb5ff=await getDoc(_0x40cad3);if(!_0x2cb5ff[_0xa5c947(0x50f)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x2cb5ff['id'],..._0x2cb5ff['data']()};if(_0x38cbe3[_0xa5c947(0x805)]&&_0x38cbe3[_0xa5c947(0x805)][_0x8ad0b1]){const _0x35696a=_0x38cbe3[_0xa5c947(0x805)][_0x8ad0b1];if(_0x35696a['status']===_0xa5c947(0x69d)){_0x2c6965[_0xa5c947(0x373)]=_0xa5c947(0x2cb);const _0x3c3130={};_0x3c3130[_0xa5c947(0x883)+_0x8ad0b1+_0xa5c947(0x629)]=_0xa5c947(0xe3),await updateDoc(doc(db,'artifacts/'+appId+_0xa5c947(0x90e),currentLiveGameId),_0x3c3130),showView('live-game'),currentStudentName=_0x8ad0b1,listenForLiveGameUpdates();return;}else{showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น');return;}}if(_0x38cbe3['status']!==_0xa5c947(0x64a)){showMessage(_0xa5c947(0x779));return;}_0x2c6965['innerHTML']=_0xa5c947(0x244);const _0x2e8ae6={};_0x2e8ae6['players.'+_0x8ad0b1]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0xa5c947(0xe3)},await updateDoc(doc(db,_0xa5c947(0x6c8)+appId+_0xa5c947(0x90e),currentLiveGameId),_0x2e8ae6),currentStudentName=_0x8ad0b1,listenForLiveGameUpdates();}catch(_0x4df6a5){console['error'](_0xa5c947(0x339),_0x4df6a5),showMessage(_0xa5c947(0x732));}finally{_0x2c6965[_0xa5c947(0x502)]=![],_0x2c6965[_0xa5c947(0x373)]=_0xa5c947(0x5df);}}function displayStudentNameSelector(_0x3fa176,_0x2b2e08){const _0x4fc2c1=_0x411d30,_0x5deaa7=document[_0x4fc2c1(0x2da)](_0x4fc2c1(0x71a));document[_0x4fc2c1(0x2da)](_0x4fc2c1(0x239))['textContent']='แบบทดสอบ:\x20'+_0x2b2e08,!_0x3fa176||_0x3fa176['length']===0x0?(_0x5deaa7[_0x4fc2c1(0x373)]=_0x4fc2c1(0x443),startQuizBtn[_0x4fc2c1(0x502)]=!![]):(_0x5deaa7[_0x4fc2c1(0x373)]='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x3fa176[_0x4fc2c1(0x65f)](_0x20108b=>{const _0x3baff8=_0x4fc2c1,_0x2cc4d3=document[_0x3baff8(0x7de)](_0x3baff8(0x4ce));_0x2cc4d3[_0x3baff8(0x5b4)]=_0x20108b,_0x2cc4d3[_0x3baff8(0x769)]=_0x20108b,_0x5deaa7['appendChild'](_0x2cc4d3);}),startQuizBtn[_0x4fc2c1(0x502)]=![]),studentInitialView[_0x4fc2c1(0x5aa)][_0x4fc2c1(0x483)](_0x4fc2c1(0x62f)),studentNameSelectionView['classList'][_0x4fc2c1(0x395)]('hidden');}function shuffleArray(_0xac9f91){const _0xb0559=_0x411d30;for(let _0x233450=_0xac9f91[_0xb0559(0x412)]-0x1;_0x233450>0x0;_0x233450--){const _0xaed522=Math[_0xb0559(0x8d7)](Math[_0xb0559(0x2fc)]()*(_0x233450+0x1));[_0xac9f91[_0x233450],_0xac9f91[_0xaed522]]=[_0xac9f91[_0xaed522],_0xac9f91[_0x233450]];}}function getShuffledQuiz(_0x49263d){const _0x39ca89=_0x411d30;let _0x3ce6b0=JSON[_0x39ca89(0x16e)](JSON[_0x39ca89(0x3c6)](_0x49263d));const _0x3c97c0=_0x3ce6b0[_0x39ca89(0x304)]?.[_0x39ca89(0x22b)]||_0x39ca89(0x8a5);if(_0x3c97c0==='none')return _0x3ce6b0;return(_0x3c97c0===_0x39ca89(0xfc)||_0x3c97c0===_0x39ca89(0x630))&&shuffleArray(_0x3ce6b0[_0x39ca89(0x7f5)]),(_0x3c97c0==='choices_only'||_0x3c97c0===_0x39ca89(0x630))&&_0x3ce6b0['questions'][_0x39ca89(0x65f)](_0x3ef3e3=>{const _0x265704=_0x39ca89,_0x5a7b10=_0x3ef3e3['questionType']||_0x3ce6b0[_0x265704(0x285)];if(_0x3ef3e3['options']){let _0x3e1e4d=_0x3ef3e3[_0x265704(0x7f7)][_0x265704(0x79a)]((_0x50e0e8,_0x4455b1)=>({'text':_0x50e0e8,'isCorrect':_0x4455b1===_0x3ef3e3[_0x265704(0x6a9)]}));shuffleArray(_0x3e1e4d),_0x3ef3e3['options']=_0x3e1e4d[_0x265704(0x79a)](_0xff77cd=>_0xff77cd[_0x265704(0x51f)]),_0x3ef3e3['correctAnswerIndex']=_0x3e1e4d['findIndex'](_0x2dfbf3=>_0x2dfbf3[_0x265704(0x6c2)]);}_0x5a7b10===_0x265704(0x733)&&_0x3ef3e3[_0x265704(0x5bd)]&&shuffleArray(_0x3ef3e3[_0x265704(0x5bd)]);}),_0x3ce6b0;}function displayQuizForStudent(_0x28f038){const _0x9c21a8=_0x411d30;studentQuizArea['classList'][_0x9c21a8(0x395)](_0x9c21a8(0x62f)),currentDisplayedQuiz=getShuffledQuiz(_0x28f038);currentMode!==_0x9c21a8(0x144)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x9c21a8(0x381)](_0x9c21a8(0x788),handleFullscreenChange),document['addEventListener'](_0x9c21a8(0x20d),handleVisibilityChange),enterFullscreen(),window[_0x9c21a8(0x381)](_0x9c21a8(0x488),resetDimTimer),window[_0x9c21a8(0x381)](_0x9c21a8(0x136),resetDimTimer),window['addEventListener'](_0x9c21a8(0x5f6),resetDimTimer),window[_0x9c21a8(0x381)](_0x9c21a8(0x1d3),resetDimTimer),resetDimTimer());const _0x52a73d=currentDisplayedQuiz[_0x9c21a8(0x304)]?.['timerMode']||_0x9c21a8(0x8a5);if(_0x52a73d===_0x9c21a8(0x674))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x9c21a8(0x304)][_0x9c21a8(0x531)]);else _0x52a73d===_0x9c21a8(0x5a2)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x3de437=_0x411d30;let _0x4f9a14=_0x3de437(0x1ae)+currentDisplayedQuiz[_0x3de437(0x363)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x3de437(0x144)?_0x3de437(0x887):'')+_0x3de437(0x4ba);currentDisplayedQuiz[_0x3de437(0x7f5)][_0x3de437(0x65f)]((_0x59e143,_0x2fb62d)=>{const _0x3a6827=_0x3de437,_0x2544ba=_0x59e143[_0x3a6827(0x6ec)]||currentDisplayedQuiz[_0x3a6827(0x285)];_0x4f9a14+=_0x3a6827(0x495);_0x2544ba===_0x3a6827(0x733)?_0x4f9a14+=_0x3a6827(0x524)+(_0x2fb62d+0x1)+'.\x20'+_0x59e143[_0x3a6827(0x7ec)]+_0x3a6827(0x3b2)+_0x2fb62d+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x59e143[_0x3a6827(0x5bd)][_0x3a6827(0x79a)](_0x1df9f0=>'<option\x20value=\x22'+_0x1df9f0+'\x22>'+_0x1df9f0+_0x3a6827(0x535))[_0x3a6827(0x6f4)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a':(_0x4f9a14+=_0x3a6827(0x851)+(_0x2fb62d+0x1)+'.\x20'+(_0x59e143['instructions']||_0x59e143[_0x3a6827(0x5be)])+_0x3a6827(0x34c),_0x59e143['imageCode']&&(_0x4f9a14+=_0x3a6827(0x3a2)+_0x59e143['imageCode']+_0x3a6827(0x45f)));_0x4f9a14+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x2544ba){case _0x3a6827(0x637):_0x4f9a14+='<textarea\x20name=\x22question'+_0x2fb62d+_0x3a6827(0x3de);break;case _0x3a6827(0x5e7):_0x4f9a14+=_0x3a6827(0x627)+_0x2fb62d+'_opt0\x22\x20name=\x22question'+_0x2fb62d+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x2fb62d+'_opt0\x22>ใช่</label></div>',_0x4f9a14+=_0x3a6827(0x627)+_0x2fb62d+_0x3a6827(0x1f4)+_0x2fb62d+_0x3a6827(0x273)+_0x2fb62d+'_opt1\x22>ไม่ใช่</label></div>';break;case'matching_item':break;case _0x3a6827(0x4d8):case _0x3a6827(0x247):default:_0x4f9a14+=_0x59e143['options'][_0x3a6827(0x79a)]((_0x125d51,_0x31da12)=>_0x3a6827(0x476)+_0x2fb62d+_0x3a6827(0x2a9)+_0x31da12+_0x3a6827(0x21c)+_0x2fb62d+_0x3a6827(0x3cf)+_0x31da12+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x2fb62d+'_opt'+_0x31da12+'\x22>'+_0x125d51+_0x3a6827(0x8d5))[_0x3a6827(0x6f4)]('');break;}_0x4f9a14+=_0x3a6827(0x1cc);}),_0x4f9a14+=_0x3de437(0x4de),_0x4f9a14+=_0x3de437(0x8e2),studentQuizArea[_0x3de437(0x373)]=_0x4f9a14;if(currentMode===_0x3de437(0x144)){const _0x42305c=document[_0x3de437(0x2da)]('cancel-test-btn');if(_0x42305c)_0x42305c[_0x3de437(0x381)](_0x3de437(0x302),cancelAdminTest);}document['getElementById'](_0x3de437(0x530))[_0x3de437(0x381)](_0x3de437(0x660),handleSubmitQuiz);if(window['MathJax'])window[_0x3de437(0x3d6)][_0x3de437(0x1de)]([studentQuizArea]);}async function handleSubmitQuiz(_0x1f9b76){const _0x2c50c3=_0x411d30;if(_0x1f9b76)_0x1f9b76['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x58a3ca=document[_0x2c50c3(0x2da)]('quiz-form');if(!_0x58a3ca)return;const _0x2a0c5e=_0x58a3ca['querySelector'](_0x2c50c3(0x607)),_0x86a4a9=currentDisplayedQuiz[_0x2c50c3(0x7f5)][_0x2c50c3(0x6b9)](_0xf2ed28=>_0xf2ed28[_0x2c50c3(0x6ec)]===_0x2c50c3(0x637));_0x2a0c5e&&(_0x2a0c5e[_0x2c50c3(0x502)]=!![],_0x86a4a9?_0x2a0c5e[_0x2c50c3(0x373)]=_0x2c50c3(0x232):_0x2a0c5e[_0x2c50c3(0x373)]=_0x2c50c3(0x4ad));const _0x8e372f=new FormData(_0x58a3ca),_0x31ef2b=currentDisplayedQuiz[_0x2c50c3(0x7f5)][_0x2c50c3(0x79a)]((_0x23312c,_0xaae83d)=>{const _0x18331a=_0x2c50c3,_0x49c158=_0x23312c['questionType']||currentDisplayedQuiz[_0x18331a(0x285)],_0xbfe33f=_0x8e372f[_0x18331a(0x729)](_0x18331a(0x5c1)+_0xaae83d);if(_0xbfe33f!==null&&_0xbfe33f!==undefined){if(_0x49c158==='multiple_choice'||_0x49c158==='fill_in_the_blank')return parseInt(_0xbfe33f);return _0xbfe33f;}return null;}),_0xca2e7f=currentQuizData['id'],_0x3e7f78=doc(db,_0x2c50c3(0x6c8)+appId+_0x2c50c3(0x29f)+_0xca2e7f+_0x2c50c3(0x75f),currentStudentName),_0x19fe1f=await getDoc(_0x3e7f78),_0x46321a=_0x19fe1f[_0x2c50c3(0x50f)]()?_0x19fe1f[_0x2c50c3(0x516)]():{},_0x570e49=_0x46321a[_0x2c50c3(0x41c)]||[];await processAndSubmitAnswers(_0x31ef2b,_0x570e49);}async function gradeShortAnswerWithAI(_0x4c4bd1,_0x53e672){const _0x4f8766=_0x411d30;if(!_0x4c4bd1||!_0x53e672)return![];try{const _0xdff253='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x4c4bd1+_0x4f8766(0x8be)+_0x53e672+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x163d9d={'contents':[{'role':'user','parts':[{'text':_0xdff253}]}]},_0x4b4f68='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x2657c1=_0x4f8766(0x6f7)+_0x4b4f68,_0x51fd9c=await fetch(_0x2657c1,{'method':'POST','headers':{'Content-Type':_0x4f8766(0x291)},'body':JSON[_0x4f8766(0x3c6)](_0x163d9d)});if(!_0x51fd9c['ok'])throw new Error(_0x4f8766(0x4b8));const _0x212b63=await _0x51fd9c[_0x4f8766(0x419)](),_0x12ddbd=_0x212b63['candidates'][0x0][_0x4f8766(0x63f)]['parts'][0x0][_0x4f8766(0x51f)][_0x4f8766(0x4b3)]()[_0x4f8766(0x5ff)]();return _0x12ddbd==='true';}catch(_0x44addf){return console['error'](_0x4f8766(0x8d8),_0x44addf),![];}}async function processAndSubmitAnswers(_0x14ed7c,_0x350f7e){const _0x4ba319=_0x411d30;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x4ba319(0x621)](_0x4ba319(0x788),handleFullscreenChange),document[_0x4ba319(0x621)](_0x4ba319(0x20d),handleVisibilityChange);let _0x4c57e8=0x0,_0x1ce0fb=0x0,_0x2e688b=[];const _0x2b9335=[],_0x105a4b=currentDisplayedQuiz[_0x4ba319(0x7f5)][_0x4ba319(0x412)];let _0x2b6cb4=0x0;const _0x567fec=currentDisplayedQuiz[_0x4ba319(0x7f5)];for(let _0x45c162=0x0;_0x45c162<_0x567fec[_0x4ba319(0x412)];_0x45c162++){const _0x29d252=_0x567fec[_0x45c162],_0x5cb9d5=_0x14ed7c[_0x45c162],_0x281023=_0x29d252[_0x4ba319(0x6ec)]||currentDisplayedQuiz[_0x4ba319(0x285)];let _0x11cc12=![];if(_0x5cb9d5!==null&&_0x5cb9d5!=='')switch(_0x281023){case _0x4ba319(0x733):_0x11cc12=_0x5cb9d5===_0x29d252['correctResponse'];break;case'true_false':const _0x3c3fa8=_0x5cb9d5===!![]||_0x5cb9d5===_0x4ba319(0x601);_0x11cc12=_0x3c3fa8===_0x29d252[_0x4ba319(0x51d)];break;case _0x4ba319(0x4d8):case _0x4ba319(0x247):default:_0x11cc12=Number(_0x5cb9d5)===_0x29d252['correctAnswerIndex'];break;case _0x4ba319(0x637):_0x11cc12=await gradeShortAnswer(_0x5cb9d5,_0x29d252);break;}_0x11cc12?(_0x4c57e8++,_0x2b6cb4++,_0x2b6cb4===0x3&&(_0x2e688b[_0x4ba319(0x56e)](BADGES['ON_FIRE']['id']),_0x2b6cb4=0x0)):_0x2b6cb4=0x0;let _0x403ce6=null;_0x29d252['options']&&_0x5cb9d5!==null&&(_0x403ce6=_0x29d252['options'][_0x5cb9d5]),_0x2b9335[_0x4ba319(0x56e)]({'questionId':_0x29d252['id'],'answer':_0x5cb9d5,'answerText':_0x403ce6,'isCorrect':_0x11cc12,'originalQuestionText':_0x29d252[_0x4ba319(0x7ec)]||_0x29d252['questionText']});}_0x1ce0fb=_0x4c57e8*0xa;_0x4c57e8===_0x105a4b&&_0x105a4b>0x0&&!currentDisplayedQuiz[_0x4ba319(0x1ad)]&&(_0x1ce0fb+=0x32,_0x2e688b[_0x4ba319(0x56e)](BADGES[_0x4ba319(0x815)]['id']));const _0x244786=currentDisplayedQuiz[_0x4ba319(0x304)]?.[_0x4ba319(0xe5)]??Math[_0x4ba319(0x8d7)](_0x105a4b/0x2),_0x5a941e=currentDisplayedQuiz[_0x4ba319(0x304)]?.[_0x4ba319(0x7bf)];if(_0x5a941e===_0x4ba319(0x674)&&quizStartTime){const _0x239ee0=(new Date()-quizStartTime)/0x3e8,_0x5f3a28=currentDisplayedQuiz[_0x4ba319(0x304)][_0x4ba319(0x531)]*0x3c;_0x4c57e8>=_0x244786&&_0x239ee0<_0x5f3a28/0x2&&(_0x1ce0fb+=0x14,_0x2e688b[_0x4ba319(0x56e)](BADGES['QUICK_THINKER']['id']));}_0x350f7e['length']===0x0&&_0x4c57e8===_0x105a4b&&_0x105a4b>0x0&&_0x2e688b[_0x4ba319(0x56e)](BADGES[_0x4ba319(0x3b6)]['id']);if(_0x350f7e[_0x4ba319(0x412)]>0x0){const _0x6b40e=_0x350f7e[0x0][_0x4ba319(0x693)];if(_0x6b40e<_0x244786&&_0x4c57e8>=_0x244786){const _0x2f9723=_0x350f7e[_0x4ba319(0x6b9)](_0x5b6496=>(_0x5b6496[_0x4ba319(0x87e)]||[])[_0x4ba319(0x411)](BADGES[_0x4ba319(0x6b7)]['id']));!_0x2f9723&&_0x2e688b['push'](BADGES['COMEBACK_KING']['id']);}}_0x350f7e[_0x4ba319(0x412)]===0x4&&_0x2e688b[_0x4ba319(0x56e)](BADGES[_0x4ba319(0x42f)]['id']);const _0x3ff909=currentDisplayedQuiz[_0x4ba319(0x304)]['resultsDisplay'];if(currentMode===_0x4ba319(0x144)){handleResultDisplay(_0x3ff909,_0x4c57e8,_0x1ce0fb,_0x2e688b,_0x2b9335,_0x105a4b);return;}const _0x3970c8=currentQuizData['id'],_0x56838b=doc(db,_0x4ba319(0x6c8)+appId+'/public/data/quizzes/'+_0x3970c8+_0x4ba319(0x75f),currentStudentName);try{const _0x2e0bc7=[..._0x350f7e],_0xf3dfa0={'score':_0x4c57e8,'points':_0x1ce0fb,'badges':_0x2e688b,'submittedAt':new Date()[_0x4ba319(0x1f5)](),'answers':_0x2b9335};_0x2e0bc7[_0x4ba319(0x56e)](_0xf3dfa0);const _0x5294c3=_0x2e0bc7[0x0]['score'],_0x398b84=Math[_0x4ba319(0x1a8)](..._0x2e0bc7[_0x4ba319(0x79a)](_0x5ed6a0=>_0x5ed6a0['score'])),_0xb39d97=_0x4c57e8,_0x2173ff=_0xf3dfa0['submittedAt'];await setDoc(_0x56838b,{'studentName':currentStudentName,'totalQuestions':_0x105a4b,'attempts':_0x2e0bc7,'firstScore':_0x5294c3,'bestScore':_0x398b84,'latestScore':_0xb39d97,'points':_0x1ce0fb,'latestSubmittedAt':_0x2173ff},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x3ff909,_0x4c57e8,_0x1ce0fb,_0x2e688b,_0x2b9335,_0x105a4b);}catch(_0x1e4a9b){console[_0x4ba319(0x735)](_0x4ba319(0x439),_0x1e4a9b),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x490887,_0x34d9c2){const _0x140aea=_0x411d30,_0x5e4b52=doc(db,'artifacts/'+appId+'/public/data/projects/'+_0x490887+_0x140aea(0x32a),_0x34d9c2);try{const _0x2341fb=query(collection(db,_0x140aea(0x6c8)+appId+_0x140aea(0x7d7)),where(_0x140aea(0x7e4),'==',_0x490887)),_0x23adce=await getDocs(_0x2341fb),_0x433f14=new Map(_0x23adce[_0x140aea(0x60e)][_0x140aea(0x79a)](_0xbd6009=>[_0xbd6009['id'],_0xbd6009[_0x140aea(0x516)]()])),_0x31bb07=Array['from'](_0x433f14[_0x140aea(0x2fb)]());await runTransaction(db,async _0x1d3ac2=>{const _0x5cb785=_0x140aea;let _0x66fbc2=0x0;const _0xb88453={};let _0x201ebd=!![],_0x3e22f8=0x0,_0x6d959b=0x0;for(const _0x4a1787 of _0x31bb07){const _0x58087f=_0x433f14[_0x5cb785(0x729)](_0x4a1787),_0x27df67=doc(db,_0x5cb785(0x6c8)+appId+_0x5cb785(0x29f)+_0x4a1787+_0x5cb785(0x75f),_0x34d9c2),_0x367e54=await _0x1d3ac2[_0x5cb785(0x729)](_0x27df67);if(_0x367e54[_0x5cb785(0x50f)]()){const _0x362ed5=_0x367e54[_0x5cb785(0x516)](),_0x1b30fa=_0x362ed5[_0x5cb785(0x41c)]||[];if(_0x1b30fa[_0x5cb785(0x412)]>0x0){const _0xc2b394=_0x1b30fa[_0x5cb785(0x3bf)]((_0x43bb0b,_0x35987c)=>{const _0x4e0477=_0x5cb785;if(_0x35987c[_0x4e0477(0x693)]>_0x43bb0b[_0x4e0477(0x693)])return _0x35987c;if(_0x35987c[_0x4e0477(0x693)]===_0x43bb0b['score'])return(_0x35987c[_0x4e0477(0x3d0)]||0x0)>(_0x43bb0b['points']||0x0)?_0x35987c:_0x43bb0b;return _0x43bb0b;},{'score':-0x1,'points':-0x1});_0xc2b394[_0x5cb785(0x693)]>-0x1&&(_0x66fbc2+=_0xc2b394[_0x5cb785(0x3d0)]||0x0,(_0xc2b394[_0x5cb785(0x87e)]||[])[_0x5cb785(0x65f)](_0x30ab52=>{_0xb88453[_0x30ab52]=(_0xb88453[_0x30ab52]||0x0)+0x1;}));}}if(_0x58087f[_0x5cb785(0x363)]!=='แบบทดสอบซ่อมเสริม'){_0x6d959b++;if(_0x367e54[_0x5cb785(0x50f)]()){_0x3e22f8++;const _0x2de0d7=_0x367e54['data']();_0x2de0d7[_0x5cb785(0x8a6)]!==_0x2de0d7[_0x5cb785(0x865)]&&(_0x201ebd=![]);}else _0x201ebd=![];}}_0x6d959b>0x0&&_0x3e22f8===_0x6d959b&&_0x201ebd?_0xb88453['specialist']=0x1:_0xb88453[_0x5cb785(0x5bb)]=0x0,_0x1d3ac2[_0x5cb785(0x385)](_0x5e4b52,{'studentName':_0x34d9c2,'totalPoints':_0x66fbc2,'unlockedBadges':Object[_0x5cb785(0x2fb)](_0xb88453)[_0x5cb785(0x850)](_0x5d5931=>_0xb88453[_0x5d5931]>0x0),'badgesCount':_0xb88453},{'merge':!![]});});}catch(_0x130610){console[_0x140aea(0x735)](_0x140aea(0x2dc),_0x130610),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0x928b8=_0x411d30;if(!currentQuizData){showMessage(_0x928b8(0x7b7));return;}let _0x33e6d3=JSON[_0x928b8(0x16e)](JSON[_0x928b8(0x3c6)](currentQuizData));currentMode=_0x928b8(0x144),currentStudentName=_0x928b8(0x545),adminView['classList'][_0x928b8(0x483)](_0x928b8(0x62f)),studentView[_0x928b8(0x5aa)][_0x928b8(0x395)](_0x928b8(0x62f)),studentInitialView[_0x928b8(0x5aa)][_0x928b8(0x483)]('hidden'),studentNameSelectionView['classList'][_0x928b8(0x483)](_0x928b8(0x62f)),studentResultArea[_0x928b8(0x5aa)]['add'](_0x928b8(0x62f)),studentQuizArea[_0x928b8(0x5aa)][_0x928b8(0x395)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0x33e6d3);}function handleResultDisplay(_0x508e0b,_0x4d6378,_0x539674,_0x3d770a,_0x323e91,_0x15cbe1){const _0x418371=_0x411d30;if(_0x508e0b===_0x418371(0xde)){displaySubmissionConfirmation();return;}const _0x169164=currentDisplayedQuiz[_0x418371(0x304)]?.[_0x418371(0xe5)]??Math[_0x418371(0x8d7)](_0x15cbe1/0x2),_0x16a5b5=currentDisplayedQuiz['settings']?.['isAdaptive']??![],_0x2fcc48=currentDisplayedQuiz['settings']?.['loopUntilPass']===!![],_0xa22eb1=_0x4d6378<_0x169164,_0x7fe88f=_0x508e0b==='half_mark_status'||_0x508e0b===_0x418371(0x72b);if(_0x2fcc48&&_0xa22eb1&&!_0x7fe88f){_0x508e0b==='show_results_and_answers'?displayResultsWithAnswers(_0x4d6378,_0x539674,_0x3d770a,_0x323e91,_0x15cbe1,!![]):displayLoopScreen(_0x4d6378,_0x15cbe1,_0x508e0b);return;}if(_0x16a5b5&&_0xa22eb1){startAdaptiveFlow(_0x323e91,_0x4d6378,_0x15cbe1);return;}switch(_0x508e0b){case'show_results_and_answers':displayResultsWithAnswers(_0x4d6378,_0x539674,_0x3d770a,_0x323e91,_0x15cbe1);break;case _0x418371(0x491):displayResultsScoreOnly(_0x4d6378,_0x539674,_0x3d770a,_0x15cbe1);break;case _0x418371(0x807):displayPassFailOnly(_0x4d6378,_0x15cbe1);break;case _0x418371(0x4fd):displayHalfMarkResult(_0x4d6378,_0x15cbe1);break;case _0x418371(0x72b):displayPerfectScoreResult(_0x4d6378,_0x15cbe1);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x4e203e){const _0x14f27e=_0x411d30;studentReadingArea[_0x14f27e(0x373)]=_0x14f27e(0x240);const _0x7ebae=_0x14f27e(0x20a)+_0x4e203e+_0x14f27e(0x1da)+simpleMathPrompt+_0x14f27e(0x5a5),_0x27923b={'type':_0x14f27e(0x102),'properties':{'questionText':{'type':_0x14f27e(0x532)},'options':{'type':'ARRAY','items':{'type':_0x14f27e(0x532)}},'correctAnswerIndex':{'type':_0x14f27e(0x3fd)},'explanation':{'type':'STRING'}},'required':[_0x14f27e(0x5be),'options',_0x14f27e(0x6a9),_0x14f27e(0x80c)]},_0x22511a={'type':_0x14f27e(0x102),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x14f27e(0x534),'items':_0x27923b}},'required':[_0x14f27e(0x363),_0x14f27e(0x7f5)]};try{const _0x5c807c=await callAnalysisApi(_0x7ebae,_0x22511a);_0x5c807c['isRemedial']=!![],studentReadingArea[_0x14f27e(0x5aa)][_0x14f27e(0x483)]('hidden');const _0x502653={...currentDisplayedQuiz[_0x14f27e(0x304)],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x5c807c[_0x14f27e(0x304)]=_0x502653,displayQuizForStudent(_0x5c807c);}catch(_0x3814c4){console[_0x14f27e(0x735)](_0x14f27e(0x3c3),_0x3814c4),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x14f27e(0x3d1));}}function displayPassFailOnly(_0x52d3de,_0x441965){const _0x1110ab=_0x411d30,_0x333e0e=currentDisplayedQuiz[_0x1110ab(0x304)]?.['passingScore']??-0x1,_0x261e7c=currentDisplayedQuiz[_0x1110ab(0x1ad)]===!![];let _0x1b5009='',_0x2e16f5=![];if(_0x261e7c||_0x333e0e!==-0x1){_0x2e16f5=_0x261e7c?_0x52d3de===_0x441965:_0x52d3de>=_0x333e0e;const _0x54e570=_0x2e16f5?'bg-green-100\x20text-green-800':_0x1110ab(0x361),_0x3f5615=_0x2e16f5?_0x1110ab(0xe8):_0x1110ab(0x88b);_0x1b5009='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x54e570+'\x22>'+_0x3f5615+_0x1110ab(0x58c);}else _0x1b5009=_0x1110ab(0x392);let _0x39caef=_0x1110ab(0xed)+currentStudentName+_0x1110ab(0x31f)+_0x1b5009+_0x1110ab(0x817);studentResultArea[_0x1110ab(0x373)]=_0x39caef,studentResultArea[_0x1110ab(0x5aa)][_0x1110ab(0x395)]('hidden'),studentQuizArea[_0x1110ab(0x5aa)]['add'](_0x1110ab(0x62f)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x2e16f5});}function cancelAdminTest(){const _0x30115d=_0x411d30;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x30115d(0x621)](_0x30115d(0x788),handleFullscreenChange),document[_0x30115d(0x621)](_0x30115d(0x20d),handleVisibilityChange),currentMode=_0x30115d(0x852),studentView[_0x30115d(0x5aa)]['add'](_0x30115d(0x62f)),adminView[_0x30115d(0x5aa)][_0x30115d(0x395)]('hidden'),showView(_0x30115d(0x653));}function setupResultScreenBackButton(_0x3b6c79){const _0x4c5399=_0x411d30,_0x386684={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x3b6c79};if(_0x386684[_0x4c5399(0x2fe)]){const _0x820d56=_0x4c5399(0x39b);studentResultArea[_0x4c5399(0x857)]('beforeend',_0x820d56),document[_0x4c5399(0x2da)]('retake-quiz-loop-btn')['addEventListener'](_0x4c5399(0x302),()=>{const _0x18327b=_0x4c5399;studentResultArea[_0x18327b(0x5aa)]['add'](_0x18327b(0x62f)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x19fcec=_0x4c5399(0x3af),_0x865da3=currentMode===_0x4c5399(0x144),_0x353277=_0x865da3?_0x4c5399(0x414):_0x4c5399(0x308);let _0x1f4e3d='';_0x386684[_0x4c5399(0x691)]&&(_0x1f4e3d+=_0x4c5399(0x1e8));let _0x82680f=_0x386684[_0x4c5399(0x4f9)];_0x82680f===undefined&&(_0x82680f=_0x386684[_0x4c5399(0x693)]<_0x386684[_0x4c5399(0x865)]);_0x82680f&&(_0x1f4e3d+=_0x4c5399(0x49c));_0x1f4e3d+='<button\x20id=\x22'+_0x19fcec+_0x4c5399(0x7cb)+_0x353277+_0x4c5399(0x27e);const _0x127cc9='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x1f4e3d+_0x4c5399(0x45f);studentResultArea[_0x4c5399(0x857)](_0x4c5399(0x1eb),_0x127cc9),studentResultArea[_0x4c5399(0x6ce)](_0x4c5399(0x55c))?.[_0x4c5399(0x381)](_0x4c5399(0x302),handleShowStudentRankings);const _0xe66431=studentResultArea['querySelector'](_0x4c5399(0x161));_0xe66431&&_0xe66431[_0x4c5399(0x381)](_0x4c5399(0x302),()=>{const _0x2c9af0=_0x4c5399;studentResultArea['classList'][_0x2c9af0(0x483)](_0x2c9af0(0x62f)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x4c5399(0x2da)](_0x19fcec)['addEventListener'](_0x4c5399(0x302),()=>{const _0x2d8613=_0x4c5399;_0x865da3?(currentMode=_0x2d8613(0x852),studentView[_0x2d8613(0x5aa)][_0x2d8613(0x483)](_0x2d8613(0x62f)),adminView[_0x2d8613(0x5aa)][_0x2d8613(0x395)]('hidden'),showView('project-detail')):(showView('student'),document[_0x2d8613(0x2da)](_0x2d8613(0x4e1))['value']='');});}function displayResultsWithAnswers(_0x36f1a1,_0x5e3ef9,_0x5d34d1,_0x45088d,_0x4ff378,_0x302154=![]){const _0x336d4f=_0x411d30,_0x522783=_0x4ff378>0x0?_0x36f1a1/_0x4ff378*0x64:0x0,_0x5b0f53=currentDisplayedQuiz[_0x336d4f(0x304)]?.[_0x336d4f(0xe5)]??-0x1,_0x3c164d=currentDisplayedQuiz[_0x336d4f(0x1ad)]===!![];let _0xe4870b='';if(_0x3c164d||_0x5b0f53!==-0x1){let _0x264e6c=_0x3c164d?_0x36f1a1===_0x4ff378:_0x36f1a1>=_0x5b0f53;const _0x5b25a8=_0x264e6c?_0x336d4f(0x208):_0x336d4f(0x361),_0x586bec=_0x264e6c?'ผ่าน':_0x336d4f(0x88b);_0xe4870b=_0x336d4f(0x68f)+_0x5b25a8+'\x22>'+_0x586bec+'</p>';}let _0x21548f=_0x336d4f(0x89d)+currentStudentName+_0x336d4f(0x42a)+_0x36f1a1+_0x336d4f(0x2ba)+_0x4ff378+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xe4870b+_0x336d4f(0x563)+_0x5e3ef9+_0x336d4f(0x28b)+_0x522783[_0x336d4f(0x372)](0x0)+_0x336d4f(0x3ae);currentDisplayedQuiz[_0x336d4f(0x7f5)][_0x336d4f(0x65f)]((_0x4f0da5,_0x1fa044)=>{const _0x474bca=_0x336d4f,_0x1c5e69=_0x45088d[_0x1fa044],_0x5ec0f0=_0x1c5e69[_0x474bca(0x165)],_0xc910f8=_0x1c5e69[_0x474bca(0x6c2)],_0x3df5c9=_0x4f0da5[_0x474bca(0x6ec)]||currentDisplayedQuiz[_0x474bca(0x285)];_0x21548f+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0xc910f8?_0x474bca(0x680):_0x474bca(0x655))+_0x474bca(0x772)+(_0x1fa044+0x1)+'.\x20'+(_0x4f0da5[_0x474bca(0x7ec)]||_0x4f0da5[_0x474bca(0x5be)])+_0x474bca(0x89b);switch(_0x3df5c9){case'matching_item':const _0x4842fc=_0x5ec0f0||'ไม่ได้ตอบ',_0x344193=_0x4f0da5[_0x474bca(0x4a1)];_0x21548f+=_0x474bca(0x706)+(!_0xc910f8?_0x474bca(0x8e8):'')+'\x22>'+_0x4842fc+_0x474bca(0x694);!_0xc910f8&&(_0x21548f+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x344193+_0x474bca(0x34c));break;case _0x474bca(0x637):_0x21548f+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x5ec0f0||_0x474bca(0x4a3))+'</p>',_0x21548f+=_0x474bca(0x17e)+_0x4f0da5['idealAnswer']+_0x474bca(0x34c);break;case _0x474bca(0x5e7):_0x21548f+=_0x474bca(0xf9)+(_0x4f0da5[_0x474bca(0x51d)]===!![]?_0x474bca(0x6cc):'')+'\x20'+(_0x5ec0f0===_0x474bca(0x601)&&!_0xc910f8?'line-through\x20text-red-700':'')+_0x474bca(0x764),_0x21548f+=_0x474bca(0xf9)+(_0x4f0da5[_0x474bca(0x51d)]===![]?_0x474bca(0x6cc):'')+'\x20'+(_0x5ec0f0===_0x474bca(0x293)&&!_0xc910f8?_0x474bca(0x8e8):'')+_0x474bca(0x306);break;default:_0x21548f+=_0x4f0da5[_0x474bca(0x7f7)][_0x474bca(0x79a)]((_0x22ef1f,_0x29aa66)=>{const _0x394ee7=_0x474bca;let _0x26080b='',_0x15d390='';if(_0x29aa66===_0x4f0da5[_0x394ee7(0x6a9)])_0x26080b=_0x394ee7(0x6cc),_0x15d390='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x29aa66===_0x5ec0f0&&(_0x26080b=_0x394ee7(0x76b),_0x15d390='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x394ee7(0x7ac)+_0x26080b+'\x22>'+_0x15d390+_0x22ef1f+'</div>';})[_0x474bca(0x6f4)]('');break;}_0x21548f+=_0x474bca(0x3e1)+(_0x4f0da5[_0x474bca(0x80c)]||_0x474bca(0x7ff))+'</div>';if(!_0xc910f8){const _0x4a9e22=_0x4f0da5[_0x474bca(0x7ec)]||_0x4f0da5[_0x474bca(0x5be)];_0x21548f+=_0x474bca(0x2b0)+escape(_0x4a9e22)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x21548f+=_0x474bca(0x45f);}),studentResultArea[_0x336d4f(0x373)]=_0x21548f,renderEarnedBadges(_0x5d34d1,_0x336d4f(0x243)),studentResultArea[_0x336d4f(0x5aa)][_0x336d4f(0x395)]('hidden'),studentQuizArea[_0x336d4f(0x5aa)][_0x336d4f(0x483)](_0x336d4f(0x62f)),setupResultScreenBackButton({'isLooping':_0x302154,'score':_0x36f1a1,'totalQuestions':_0x4ff378,'showRankings':!![]});if(window[_0x336d4f(0x3d6)])window[_0x336d4f(0x3d6)][_0x336d4f(0x1de)]([studentResultArea]);}function displayResultsScoreOnly(_0x4e3d4f,_0x4aa12f,_0x26a0a1,_0x1d3327){const _0x4ccdb4=_0x411d30,_0x254001=_0x1d3327>0x0?_0x4e3d4f/_0x1d3327*0x64:0x0,_0x45600c=currentDisplayedQuiz[_0x4ccdb4(0x304)]?.['passingScore']??-0x1,_0x524e8f=currentDisplayedQuiz[_0x4ccdb4(0x1ad)]===!![];let _0x52e9c7='';if(_0x524e8f||_0x45600c!==-0x1){let _0x495ce9=_0x524e8f?_0x4e3d4f===_0x1d3327:_0x4e3d4f>=_0x45600c;const _0x2d957e=_0x495ce9?_0x4ccdb4(0x208):_0x4ccdb4(0x361),_0x56bebb=_0x495ce9?_0x4ccdb4(0xe8):'ไม่ผ่าน';_0x52e9c7=_0x4ccdb4(0x68f)+_0x2d957e+'\x22>'+_0x56bebb+_0x4ccdb4(0x34c);}let _0x51e7ee=_0x4ccdb4(0xed)+currentStudentName+_0x4ccdb4(0x90b)+_0x4e3d4f+_0x4ccdb4(0x6ac)+_0x1d3327+_0x4ccdb4(0x2ce)+_0x52e9c7+_0x4ccdb4(0x563)+_0x4aa12f+_0x4ccdb4(0x11d)+_0x254001[_0x4ccdb4(0x372)](0x0)+_0x4ccdb4(0x570);studentResultArea[_0x4ccdb4(0x373)]=_0x51e7ee,renderEarnedBadges(_0x26a0a1,_0x4ccdb4(0x243)),studentResultArea[_0x4ccdb4(0x5aa)][_0x4ccdb4(0x395)](_0x4ccdb4(0x62f)),studentQuizArea[_0x4ccdb4(0x5aa)]['add'](_0x4ccdb4(0x62f)),setupResultScreenBackButton({'score':_0x4e3d4f,'totalQuestions':_0x1d3327,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x1df3fe=_0x411d30;let _0x4141bb=_0x1df3fe(0x206)+currentStudentName+_0x1df3fe(0x5d2);studentResultArea[_0x1df3fe(0x373)]=_0x4141bb,studentResultArea[_0x1df3fe(0x5aa)][_0x1df3fe(0x395)](_0x1df3fe(0x62f)),studentQuizArea[_0x1df3fe(0x5aa)][_0x1df3fe(0x483)]('hidden'),document['getElementById'](_0x1df3fe(0x599))['addEventListener'](_0x1df3fe(0x302),()=>{const _0x31a593=_0x1df3fe;showView(_0x31a593(0x3d1)),document['getElementById'](_0x31a593(0x4e1))[_0x31a593(0x5b4)]='';});}function renderEarnedBadges(_0x17dc92,_0x3773c1){const _0x35e241=_0x411d30,_0x18dd52=document[_0x35e241(0x2da)](_0x3773c1);if(!_0x18dd52||!_0x17dc92||_0x17dc92[_0x35e241(0x412)]===0x0)return;let _0x2c5b48='';_0x17dc92[_0x35e241(0x65f)]((_0x4870e5,_0x53dde3)=>{const _0x49c8e0=_0x35e241,_0x1acfa1=Object[_0x49c8e0(0x132)](BADGES)[_0x49c8e0(0x151)](_0x256f5b=>_0x256f5b['id']===_0x4870e5);_0x1acfa1&&(_0x2c5b48+=_0x49c8e0(0x645)+_0x53dde3*0.2+_0x49c8e0(0x45a)+_0x1acfa1['description']+_0x49c8e0(0x8b3)+_0x1acfa1[_0x49c8e0(0x5e3)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x1acfa1[_0x49c8e0(0x612)]+_0x49c8e0(0x336));}),_0x18dd52['innerHTML']=_0x2c5b48;}function startPresentation(_0x567124){const _0xb0c583=_0x411d30;currentQuizData=getShuffledQuiz(_0x567124),currentPresentationSlide=0x0,presentationModal['style'][_0xb0c583(0x3ce)]=_0xb0c583(0x62d),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x2b88be=_0x411d30;document[_0x2b88be(0x692)]&&document[_0x2b88be(0x643)](),presentationModal['style']['display']=_0x2b88be(0x8a5);}function renderPresentationSlide(_0x1ff563){const _0x2ba5d3=_0x411d30,_0x2efc6e=document[_0x2ba5d3(0x2da)](_0x2ba5d3(0x786));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData['questions'][_0x1ff563]){_0x2efc6e[_0x2ba5d3(0x373)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0xda754=currentQuizData[_0x2ba5d3(0x7f5)][_0x1ff563],_0x21aaf8=_0xda754[_0x2ba5d3(0x6ec)]||currentQuizData['quizType'];_0x2efc6e[_0x2ba5d3(0x373)]='';let _0x5fd7df=_0x2ba5d3(0x540)+(_0xda754['imageCode']?_0x2ba5d3(0x3a2)+_0xda754[_0x2ba5d3(0x6a8)]+_0x2ba5d3(0x45f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>'+(_0x1ff563+0x1)+'.\x20'+(_0xda754['stem']||_0xda754['questionText'])+_0x2ba5d3(0x671);switch(_0x21aaf8){case _0x2ba5d3(0x733):_0x5fd7df+=_0xda754['allResponses']['map'](_0x3c0c4d=>_0x2ba5d3(0x854)+_0x3c0c4d+_0x2ba5d3(0x773))[_0x2ba5d3(0x6f4)]('');break;case _0x2ba5d3(0x5e7):_0x5fd7df+=_0x2ba5d3(0x708),_0x5fd7df+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x2ba5d3(0x7a5):case _0x2ba5d3(0x637):_0x5fd7df+=_0x2ba5d3(0x765);break;case _0x2ba5d3(0x4d8):case _0x2ba5d3(0x247):default:_0x5fd7df+=_0xda754[_0x2ba5d3(0x7f7)][_0x2ba5d3(0x79a)]((_0xf67a72,_0x3858e7)=>_0x2ba5d3(0x264)+_0x3858e7+_0x2ba5d3(0x501)+_0xf67a72+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2ba5d3(0x6f4)]('');break;}_0x5fd7df+=_0x2ba5d3(0x337)+(_0xda754['explanation']||_0x2ba5d3(0x7ff))+_0x2ba5d3(0x25b),_0x2efc6e['innerHTML']=_0x5fd7df;if(window[_0x2ba5d3(0x3d6)])window[_0x2ba5d3(0x3d6)]['typesetPromise']([_0x2efc6e]);let _0x4930ce=[];switch(_0x21aaf8){case'matching_item':_0x4930ce=_0xda754[_0x2ba5d3(0x5bd)]||[];break;case _0x2ba5d3(0x5e7):_0x4930ce=[_0x2ba5d3(0x74b),_0x2ba5d3(0x87b)];break;default:_0x4930ce=_0xda754[_0x2ba5d3(0x7f7)]||[];break;}const _0x47f919=document[_0x2ba5d3(0x2da)](_0x2ba5d3(0x68c));_0x47f919&&(_0x47f919[_0x2ba5d3(0x8bc)]=()=>{openScratchpad(_0xda754,_0x4930ce);});document[_0x2ba5d3(0x7ea)](_0x2ba5d3(0x783))['forEach'](_0x552248=>{const _0x5552ab=_0x2ba5d3;_0x552248['addEventListener'](_0x5552ab(0x302),_0x3c66d6=>revealAnswerForPresentation(_0x1ff563,_0x3c66d6['currentTarget']));});const _0x3c9b3f=document[_0x2ba5d3(0x2da)](_0x2ba5d3(0x25c));_0x3c9b3f&&_0x3c9b3f[_0x2ba5d3(0x381)](_0x2ba5d3(0x302),()=>checkShortAnswerForPresentation(_0x1ff563)),document[_0x2ba5d3(0x2da)](_0x2ba5d3(0x314))[_0x2ba5d3(0x769)]='ข้อที่\x20'+(_0x1ff563+0x1)+_0x2ba5d3(0x24e)+currentQuizData[_0x2ba5d3(0x7f5)][_0x2ba5d3(0x412)],document[_0x2ba5d3(0x2da)](_0x2ba5d3(0x213))[_0x2ba5d3(0x502)]=_0x1ff563===0x0,document['getElementById']('next-question-btn')[_0x2ba5d3(0x502)]=_0x1ff563===currentQuizData[_0x2ba5d3(0x7f5)][_0x2ba5d3(0x412)]-0x1;}async function checkShortAnswerForPresentation(_0xfed647){const _0x2a2a57=_0x411d30,_0xbec5ac=currentQuizData['questions'][_0xfed647],_0xd44170=document[_0x2a2a57(0x2da)](_0x2a2a57(0x461)),_0x16d66d=document[_0x2a2a57(0x2da)](_0x2a2a57(0x25c)),_0x5c88bc=document['getElementById'](_0x2a2a57(0x37d)),_0x10b8a4=document[_0x2a2a57(0x2da)](_0x2a2a57(0x387));if(!_0xd44170||!_0x16d66d||!_0x5c88bc||!_0x10b8a4)return;const _0x3d649e=_0xd44170['value'][_0x2a2a57(0x4b3)]();if(_0x3d649e==='')return;_0x16d66d[_0x2a2a57(0x502)]=!![],_0x16d66d[_0x2a2a57(0x373)]=_0x2a2a57(0x597),_0xd44170['disabled']=!![];const _0x2451bb=await gradeShortAnswer(_0x3d649e,_0xbec5ac);_0x2451bb?_0x5c88bc[_0x2a2a57(0x373)]=_0x2a2a57(0x1c2):_0x5c88bc[_0x2a2a57(0x373)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0xbec5ac[_0x2a2a57(0x3a5)]+')',_0x5c88bc[_0x2a2a57(0x5aa)][_0x2a2a57(0x395)](_0x2a2a57(0x62f)),_0x10b8a4[_0x2a2a57(0x5aa)][_0x2a2a57(0x395)](_0x2a2a57(0x62f)),_0x16d66d[_0x2a2a57(0x5aa)][_0x2a2a57(0x483)]('hidden');}function revealAnswerForPresentation(_0x24d5fe,_0x1cdc04){const _0xbb01f3=_0x411d30,_0x1fab71=currentQuizData[_0xbb01f3(0x7f5)][_0x24d5fe],_0x2fd172=_0x1fab71[_0xbb01f3(0x6ec)]||currentQuizData[_0xbb01f3(0x285)];document['querySelectorAll'](_0xbb01f3(0x783))[_0xbb01f3(0x65f)](_0x45bdfa=>{const _0x62faef=_0xbb01f3;_0x45bdfa[_0x62faef(0x502)]=!![],_0x45bdfa['classList'][_0x62faef(0x395)](_0x62faef(0x662));let _0x3904a2=![];if(_0x2fd172===_0x62faef(0x247)||_0x2fd172===_0x62faef(0x4d8)){const _0x4c10ae=parseInt(_0x45bdfa[_0x62faef(0x5a1)][_0x62faef(0x328)]);_0x3904a2=_0x4c10ae===_0x1fab71[_0x62faef(0x6a9)];}else{if(_0x2fd172===_0x62faef(0x5e7)){const _0x3f052d=_0x45bdfa['dataset'][_0x62faef(0x165)]===_0x62faef(0x601);_0x3904a2=_0x3f052d===_0x1fab71[_0x62faef(0x51d)];}else _0x2fd172===_0x62faef(0x733)&&(_0x3904a2=_0x45bdfa[_0x62faef(0x769)][_0x62faef(0x4b3)]()===_0x1fab71[_0x62faef(0x4a1)]);}_0x3904a2?_0x45bdfa[_0x62faef(0x5aa)][_0x62faef(0x483)](_0x62faef(0x82d),'text-white',_0x62faef(0x65c)):_0x45bdfa[_0x62faef(0x5aa)]['add'](_0x62faef(0x6e0));}),_0x1cdc04['classList'][_0xbb01f3(0x395)](_0xbb01f3(0x6e0));let _0x5911aa=![];if(_0x2fd172===_0xbb01f3(0x247))_0x5911aa=parseInt(_0x1cdc04['dataset'][_0xbb01f3(0x328)])===_0x1fab71[_0xbb01f3(0x6a9)];else{if(_0x2fd172==='true_false')_0x5911aa=_0x1cdc04[_0xbb01f3(0x5a1)][_0xbb01f3(0x165)]===_0xbb01f3(0x601)===_0x1fab71[_0xbb01f3(0x51d)];else _0x2fd172===_0xbb01f3(0x733)&&(_0x5911aa=_0x1cdc04[_0xbb01f3(0x769)][_0xbb01f3(0x4b3)]()===_0x1fab71[_0xbb01f3(0x4a1)]);}!_0x5911aa&&_0x1cdc04[_0xbb01f3(0x5aa)][_0xbb01f3(0x483)]('bg-red-500',_0xbb01f3(0x856),_0xbb01f3(0x159)),document[_0xbb01f3(0x2da)](_0xbb01f3(0x387))[_0xbb01f3(0x5aa)]['remove'](_0xbb01f3(0x62f));}function startWholeQuizTimer(_0x11cafe){const _0x5745ce=_0x411d30,_0x1497a0=document[_0x5745ce(0x2da)](_0x5745ce(0x77b));if(!_0x1497a0)return;const _0xcc6219=Date[_0x5745ce(0x542)]()+_0x11cafe*0x3c*0x3e8;_0x1497a0['innerHTML']=_0x5745ce(0x17f);const _0x43fb7d=document[_0x5745ce(0x2da)](_0x5745ce(0x7d0));quizTimerInterval=setInterval(()=>{const _0x936adb=_0x5745ce,_0x27fc1e=_0xcc6219-Date['now']();if(_0x27fc1e<=0x0)clearInterval(quizTimerInterval),_0x43fb7d['textContent']=_0x936adb(0x76e),showMessage(_0x936adb(0x550)),handleSubmitQuiz(null);else{const _0x21c110=Math[_0x936adb(0x8d7)](_0x27fc1e/0x3e8/0x3c%0x3c)['toString']()[_0x936adb(0x135)](0x2,'0'),_0x2b561b=Math[_0x936adb(0x8d7)](_0x27fc1e/0x3e8%0x3c)[_0x936adb(0x87a)]()[_0x936adb(0x135)](0x2,'0');_0x43fb7d[_0x936adb(0x769)]=_0x21c110+':'+_0x2b561b;}},0x3e8);}function renderPerQuestionView(){const _0x39ef43=_0x411d30;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x4a1469=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x301bc9=_0x4a1469[_0x39ef43(0x6ec)]||currentDisplayedQuiz['quizType'];let _0x50944f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x39ef43(0x2d6)+currentDisplayedQuiz[_0x39ef43(0x7f5)][_0x39ef43(0x412)]+_0x39ef43(0x641)+(currentMode==='admin-testing'?_0x39ef43(0x887):'')+_0x39ef43(0x564)+currentDisplayedQuiz[_0x39ef43(0x363)]+_0x39ef43(0x479)+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x39ef43(0x412)]-0x1?'ส่งคำตอบ':_0x39ef43(0x281))+_0x39ef43(0x309);studentQuizArea[_0x39ef43(0x373)]=_0x50944f;let _0x38db8b='',_0x49c9b7='';switch(_0x301bc9){case'matching_item':_0x38db8b=currentQuestionIndex+0x1+'.\x20'+_0x4a1469[_0x39ef43(0x7ec)],_0x49c9b7=_0x39ef43(0x2b9)+_0x4a1469[_0x39ef43(0x5bd)][_0x39ef43(0x79a)](_0x1d6317=>'<option\x20value=\x22'+_0x1d6317+'\x22>'+_0x1d6317+'</option>')[_0x39ef43(0x6f4)]('')+_0x39ef43(0x2bc);break;case _0x39ef43(0x5e7):_0x38db8b=currentQuestionIndex+0x1+'.\x20'+_0x4a1469[_0x39ef43(0x5be)],_0x49c9b7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x39ef43(0x637):case _0x39ef43(0x7a5):_0x38db8b=currentQuestionIndex+0x1+'.\x20'+_0x4a1469[_0x39ef43(0x5be)],_0x49c9b7='<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>';break;case _0x39ef43(0x247):case _0x39ef43(0x2ad):default:_0x38db8b=currentQuestionIndex+0x1+'.\x20'+_0x4a1469[_0x39ef43(0x5be)],_0x49c9b7=_0x4a1469[_0x39ef43(0x7f7)]['map']((_0xadde24,_0x4e27e7)=>_0x39ef43(0x8a2)+_0x4e27e7+_0x39ef43(0x511)+_0x4e27e7+_0x39ef43(0x6de)+_0x4e27e7+'\x22>'+_0xadde24+_0x39ef43(0x1dc))[_0x39ef43(0x6f4)]('');break;}_0x4a1469[_0x39ef43(0x6a8)]&&(_0x38db8b+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4a1469[_0x39ef43(0x6a8)]+_0x39ef43(0x45f));document['getElementById'](_0x39ef43(0x2be))[_0x39ef43(0x373)]=_0x38db8b,document[_0x39ef43(0x2da)](_0x39ef43(0x8c2))[_0x39ef43(0x373)]=_0x49c9b7;if(currentMode===_0x39ef43(0x144)){const _0x1de1d4=document[_0x39ef43(0x2da)](_0x39ef43(0x176));if(_0x1de1d4)_0x1de1d4[_0x39ef43(0x381)]('click',cancelAdminTest);}document[_0x39ef43(0x2da)]('next-question-timed-btn')[_0x39ef43(0x381)](_0x39ef43(0x302),()=>handleNextQuestionInTimedMode(![]));if(window[_0x39ef43(0x3d6)])window[_0x39ef43(0x3d6)]['typesetPromise']([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x56d0b8=_0x411d30,_0x4be59c=currentDisplayedQuiz[_0x56d0b8(0x304)][_0x56d0b8(0x531)],_0x11d89a=document[_0x56d0b8(0x2da)](_0x56d0b8(0x759));if(!_0x11d89a)return;let _0x4916b7=_0x4be59c;_0x11d89a['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x4916b7+_0x56d0b8(0x736);const _0x4641fa=document[_0x56d0b8(0x2da)](_0x56d0b8(0x546)),_0x14b17a=document['getElementById'](_0x56d0b8(0x8ca));perQuestionTimerInterval=setInterval(()=>{const _0x352ff4=_0x56d0b8;_0x4916b7--;const _0x4c486e=_0x4916b7/_0x4be59c*0x64;_0x4641fa[_0x352ff4(0x74e)]['width']=_0x4c486e+'%',_0x14b17a['textContent']=_0x4916b7,_0x4916b7<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x352ff4(0x26b)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x51b581=![]){const _0x2eb021=_0x411d30;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x24cc3b=null;if(!_0x51b581){const _0x3015b9=currentDisplayedQuiz[_0x2eb021(0x7f5)][currentQuestionIndex],_0x2afc2e=_0x3015b9['questionType']||currentDisplayedQuiz[_0x2eb021(0x285)];if(_0x2afc2e===_0x2eb021(0x637)||_0x2afc2e===_0x2eb021(0x7a5)){const _0x181288=document[_0x2eb021(0x6ce)]('#per-question-options\x20textarea');_0x24cc3b=_0x181288?_0x181288[_0x2eb021(0x5b4)][_0x2eb021(0x4b3)]():'';}else{if(_0x2afc2e==='matching_item'){const _0x16972f=document[_0x2eb021(0x6ce)](_0x2eb021(0x5a6));_0x24cc3b=_0x16972f?_0x16972f['value']:'';}else{const _0x3cdb5b=document['querySelector']('input[name=\x22question_single\x22]:checked');if(_0x3cdb5b){const _0x112a35=_0x3cdb5b['value'];_0x24cc3b=!isNaN(parseInt(_0x112a35,0xa))&&_0x112a35[_0x2eb021(0x4b3)]()!==''?parseInt(_0x112a35,0xa):_0x112a35;}}}}studentAnswersPerQuestion[_0x2eb021(0x56e)](_0x24cc3b),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x2eb021(0x7f5)][_0x2eb021(0x412)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x379e78=_0x411d30,_0x515ee1=currentDisplayedQuiz['questions'][_0x379e78(0x6b9)](_0x4c9912=>_0x4c9912['questionType']===_0x379e78(0x637));_0x515ee1?showMessage(_0x379e78(0x333)):showMessage(_0x379e78(0x7d6));const _0x59795c=currentQuizData['id'],_0x1421ee=doc(db,_0x379e78(0x6c8)+appId+'/public/data/quizzes/'+_0x59795c+_0x379e78(0x75f),currentStudentName),_0x1159a9=await getDoc(_0x1421ee),_0x339c01=_0x1159a9[_0x379e78(0x50f)]()?_0x1159a9[_0x379e78(0x516)]():{},_0x3ac1de=_0x339c01[_0x379e78(0x41c)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x3ac1de);}function getResultsFilename(){const _0x2a3a93=_0x411d30,_0x5a8ee8=document[_0x2a3a93(0x2da)](_0x2a3a93(0x15e))[_0x2a3a93(0x769)][_0x2a3a93(0x4cf)](/[^a-z0-9]/gi,'_')[_0x2a3a93(0x5ff)]();return _0x2a3a93(0x312)+(_0x5a8ee8||'quiz');}function exportResultsAsImage(){const _0x358076=_0x411d30,_0x320471=document[_0x358076(0x2da)](_0x358076(0x5cd));showMessage(_0x358076(0x745)),html2canvas(_0x320471)[_0x358076(0x4b6)](_0x2da529=>{const _0x677d7c=_0x358076,_0x3af7ff=document[_0x677d7c(0x7de)]('a');_0x3af7ff['download']=getResultsFilename()+_0x677d7c(0x53b),_0x3af7ff[_0x677d7c(0x454)]=_0x2da529[_0x677d7c(0x18e)]('image/png'),_0x3af7ff['click'](),messageModal[_0x677d7c(0x5aa)][_0x677d7c(0x483)](_0x677d7c(0x62f));});}function exportResultsAsPDF(){const _0x56e5ea=_0x411d30,{jsPDF:_0x38491e}=window[_0x56e5ea(0x271)],_0x9cc29e=new _0x38491e();_0x9cc29e[_0x56e5ea(0x294)](_0x56e5ea(0x541),'normal'),_0x9cc29e['autoTable']({'html':_0x56e5ea(0x44e)}),_0x9cc29e[_0x56e5ea(0x45e)](getResultsFilename()+_0x56e5ea(0x282));}function exportResultsAsWord(){const _0x1d689e=_0x411d30,_0x19f780=_0x1d689e(0x261)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x1d689e(0x556)+_0x1d689e(0x90f),_0x3b6e30=_0x1d689e(0x6b5),_0x5c9699=_0x19f780+document[_0x1d689e(0x2da)](_0x1d689e(0x5cd))[_0x1d689e(0x373)]+_0x3b6e30,_0x853e79=_0x1d689e(0x578)+encodeURIComponent(_0x5c9699),_0x3df184=document['createElement']('a');document['body'][_0x1d689e(0x3fa)](_0x3df184),_0x3df184['href']=_0x853e79,_0x3df184['download']=getResultsFilename()+_0x1d689e(0x8c8),_0x3df184['click'](),document[_0x1d689e(0x685)]['removeChild'](_0x3df184);}function exportResultsAsExcel(){const _0x123b6e=_0x411d30,_0x5b134b=document[_0x123b6e(0x2da)](_0x123b6e(0x297));let _0x184c93=[];for(let _0x415fa8=0x0;_0x415fa8<_0x5b134b[_0x123b6e(0x7fd)]['length'];_0x415fa8++){let _0x2b5b20=[],_0x1e2fe3=_0x5b134b['rows'][_0x415fa8][_0x123b6e(0x7ea)](_0x123b6e(0x14d));for(let _0x19bf58=0x0;_0x19bf58<_0x1e2fe3[_0x123b6e(0x412)];_0x19bf58++){_0x2b5b20[_0x123b6e(0x56e)]('\x22'+_0x1e2fe3[_0x19bf58]['innerText'][_0x123b6e(0x4cf)](/"/g,'\x22\x22')+'\x22');}_0x184c93['push'](_0x2b5b20[_0x123b6e(0x6f4)](','));}const _0x5331a7=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x184c93['join']('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x51f006=document[_0x123b6e(0x7de)]('a');_0x51f006[_0x123b6e(0x454)]=URL['createObjectURL'](_0x5331a7),_0x51f006[_0x123b6e(0x451)]=getResultsFilename()+'.csv',_0x51f006['click']();}function exportTableAsImage(_0x2b0e04,_0x2899d9){const _0x28890=_0x411d30,_0x52699e=document[_0x28890(0x2da)](_0x2b0e04);if(!_0x52699e){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x52699e)[_0x28890(0x4b6)](_0x41a705=>{const _0x21f62d=_0x28890,_0x57e91c=document[_0x21f62d(0x7de)]('a');_0x57e91c['download']=_0x2899d9+_0x21f62d(0x53b),_0x57e91c['href']=_0x41a705[_0x21f62d(0x18e)](_0x21f62d(0x8b4)),_0x57e91c['click'](),messageModal['classList'][_0x21f62d(0x483)]('hidden');});}function exportTableAsPDF(_0x31ee02,_0x352f1f){const _0x1276d5=_0x411d30,{jsPDF:_0x28215e}=window[_0x1276d5(0x271)],_0x3113e4=new _0x28215e();_0x3113e4[_0x1276d5(0x294)](_0x1276d5(0x541),_0x1276d5(0x7d3)),_0x3113e4[_0x1276d5(0x557)]({'html':'#'+_0x31ee02}),_0x3113e4[_0x1276d5(0x45e)](_0x352f1f+_0x1276d5(0x282));}function exportTableAsWord(_0x49921a,_0x2d3ab8){const _0x434a1c=_0x411d30,_0x4ba1cc=document[_0x434a1c(0x2da)](_0x49921a);if(!_0x4ba1cc){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x15a936=_0x434a1c(0x261)+_0x434a1c(0x10b)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x434a1c(0x90f),_0x8f2d2d='</body></html>',_0x230a31=_0x15a936+_0x4ba1cc['innerHTML']+_0x8f2d2d,_0x349726=_0x434a1c(0x578)+encodeURIComponent(_0x230a31),_0x37e309=document[_0x434a1c(0x7de)]('a');document[_0x434a1c(0x685)][_0x434a1c(0x3fa)](_0x37e309),_0x37e309['href']=_0x349726,_0x37e309[_0x434a1c(0x451)]=_0x2d3ab8+'.doc',_0x37e309[_0x434a1c(0x302)](),document['body']['removeChild'](_0x37e309);}function exportTableAsExcel(_0x5712ab,_0x3edacf){const _0x1f53be=_0x411d30,_0x47dee0=document['getElementById'](_0x5712ab);if(!_0x47dee0){showMessage(_0x1f53be(0x605));return;}let _0x114038=[];for(let _0x82e92=0x0;_0x82e92<_0x47dee0[_0x1f53be(0x7fd)][_0x1f53be(0x412)];_0x82e92++){let _0x2eee33=[],_0x1d990d=_0x47dee0['rows'][_0x82e92][_0x1f53be(0x7ea)](_0x1f53be(0x14d));for(let _0x49c560=0x0;_0x49c560<_0x1d990d[_0x1f53be(0x412)];_0x49c560++){_0x2eee33[_0x1f53be(0x56e)]('\x22'+_0x1d990d[_0x49c560][_0x1f53be(0x739)][_0x1f53be(0x4cf)](/"/g,'\x22\x22')+'\x22');}_0x114038[_0x1f53be(0x56e)](_0x2eee33[_0x1f53be(0x6f4)](','));}const _0xd593db=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x114038[_0x1f53be(0x6f4)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x4d80fc=document['createElement']('a');_0x4d80fc['href']=URL[_0x1f53be(0x32d)](_0xd593db),_0x4d80fc[_0x1f53be(0x451)]=_0x3edacf+_0x1f53be(0x4a7),_0x4d80fc[_0x1f53be(0x302)]();}function renderAnalytics(_0x39ad82,_0x34db3d){const _0x4157e4=_0x411d30,_0x4ae894=_0x34db3d[_0x4157e4(0x850)](_0x24673d=>_0x24673d[_0x4157e4(0x73d)]!==undefined),_0x25e1e8=currentProjectData['students'][_0x4157e4(0x412)],_0x2623c4=_0x4ae894[_0x4157e4(0x412)],_0x1eaf1f=_0x25e1e8-_0x2623c4,_0x3d5af7=_0x25e1e8>0x0?_0x2623c4/_0x25e1e8*0x64:0x0,_0x146c13=_0x4ae894['map'](_0x332b24=>_0x332b24['latestScore']),_0x57cda1=_0x146c13['length']>0x0?_0x146c13[_0x4157e4(0x3bf)]((_0x2e1d0b,_0x58c833)=>_0x2e1d0b+_0x58c833,0x0)/_0x146c13['length']:0x0,_0x2ec055=_0x39ad82['questions'][_0x4157e4(0x412)],_0x374bbb=_0x2ec055>0x0?_0x57cda1/_0x2ec055*0x64:0x0,_0x74b617=calculateItemAnalysis(_0x39ad82,_0x4ae894),_0x14d963=calculateReliabilityKR20(_0x39ad82,_0x4ae894,_0x74b617[_0x4157e4(0x384)]);let _0x13152d='';if(_0x14d963!==null){let _0x5a016c='';if(_0x14d963>=0.9)_0x5a016c=_0x4157e4(0x2b5);else{if(_0x14d963>=0.8)_0x5a016c=_0x4157e4(0x573);else{if(_0x14d963>=0.7)_0x5a016c='ดี';else{if(_0x14d963>=0.6)_0x5a016c=_0x4157e4(0x64c);else _0x5a016c='ควรปรับปรุง';}}}_0x13152d=_0x4157e4(0x833)+_0x14d963[_0x4157e4(0x372)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x5a016c+_0x4157e4(0x4ae);}const _0xd2ca4e=document[_0x4157e4(0x2da)](_0x4157e4(0x6ca));_0xd2ca4e[_0x4157e4(0x373)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x3d5af7['toFixed'](0x0)+_0x4157e4(0x37a)+_0x2623c4+'/'+_0x25e1e8+_0x4157e4(0x673)+_0x57cda1[_0x4157e4(0x372)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x374bbb['toFixed'](0x0)+_0x4157e4(0x378)+(_0x146c13['length']>0x0?Math[_0x4157e4(0x1a8)](..._0x146c13):_0x4157e4(0x7db))+_0x4157e4(0x3dd)+(_0x146c13[_0x4157e4(0x412)]>0x0?Math['min'](..._0x146c13):'N/A')+_0x4157e4(0x460)+_0x13152d+_0x4157e4(0x5a5);const _0x39b366=document[_0x4157e4(0x2da)](_0x4157e4(0x36d));_0x39b366&&_0x39b366[_0x4157e4(0x395)]();const _0x2c1da9=_0x4157e4(0x407);_0xd2ca4e[_0x4157e4(0x857)](_0x4157e4(0x3f1),_0x2c1da9);const _0x198a05=currentProjectData['students']||[];renderSubmissionChart(_0x2623c4,_0x1eaf1f,_0x4ae894,_0x198a05),renderScoreDistributionChart(_0x4ae894,_0x2ec055),renderQuestionAnalytics(_0x39ad82,_0x4ae894,_0x198a05),renderInterestingStats(_0x39ad82,_0x4ae894);}async function handleExportLessonPDF(){const _0x2d4f22=_0x411d30,_0xbeaadd=document[_0x2d4f22(0x2da)](_0x2d4f22(0x489)),_0x153518=document[_0x2d4f22(0x2da)]('lesson-plan-title')[_0x2d4f22(0x769)],_0x59ec07=window['open']('',_0x2d4f22(0x569)),_0x975a58=_0x2d4f22(0x7cf)+_0x153518+_0x2d4f22(0x114)+_0xbeaadd[_0x2d4f22(0x373)]+_0x2d4f22(0x586);_0x59ec07[_0x2d4f22(0x41e)][_0x2d4f22(0x46c)](_0x975a58),_0x59ec07[_0x2d4f22(0x41e)][_0x2d4f22(0x463)](),_0x59ec07[_0x2d4f22(0x83c)]=function(){setTimeout(()=>{const _0x328450=_0x1004;_0x59ec07[_0x328450(0x131)]();},0x5dc);};}function renderInterestingStats(_0x5be70c,_0x37d76a){const _0x50208c=_0x411d30,_0x5d5015=document['getElementById'](_0x50208c(0x38d));if(!_0x5d5015)return;if(_0x37d76a[_0x50208c(0x412)]===0x0){_0x5d5015[_0x50208c(0x373)]=_0x50208c(0x46d);return;}const _0x1911aa=_0x5be70c[_0x50208c(0x7f5)][_0x50208c(0x79a)]((_0x4e5c5f,_0x1f6c1f)=>({'index':_0x1f6c1f+0x1,'text':_0x4e5c5f[_0x50208c(0x5be)]||_0x4e5c5f['stem'],'correct':0x0}));_0x37d76a[_0x50208c(0x65f)](_0x5b3123=>{const _0xf2e583=_0x50208c,_0x10e162=_0x5b3123[_0xf2e583(0x41c)][_0x5b3123[_0xf2e583(0x41c)]['length']-0x1];_0x10e162&&_0x10e162[_0xf2e583(0x263)]&&_0x10e162[_0xf2e583(0x263)][_0xf2e583(0x65f)](_0x43458a=>{const _0x5cbcb9=_0xf2e583,_0x57d650=_0x1911aa[_0x5cbcb9(0x151)](_0x23320c=>_0x23320c[_0x5cbcb9(0x51f)]===_0x43458a[_0x5cbcb9(0x2ee)]);_0x43458a[_0x5cbcb9(0x6c2)]&&_0x57d650&&_0x57d650['correct']++;});});const _0x2da716=_0x37d76a[_0x50208c(0x412)],_0x4e5da2=Math[_0x50208c(0x1a8)](..._0x1911aa['map'](_0x487b8b=>_0x487b8b[_0x50208c(0x70b)])),_0xfe7356=Math[_0x50208c(0x592)](..._0x1911aa['map'](_0x67b4e3=>_0x67b4e3[_0x50208c(0x70b)])),_0x22b2c8=_0x1911aa['filter'](_0x3f192c=>_0x3f192c[_0x50208c(0x70b)]===_0x4e5da2)[_0x50208c(0x79a)](_0x14f1ca=>'ข้อ\x20'+_0x14f1ca[_0x50208c(0x328)]),_0x4ec68a=_0x1911aa[_0x50208c(0x850)](_0x3369bf=>_0x3369bf[_0x50208c(0x70b)]===_0xfe7356)['map'](_0x22a870=>_0x50208c(0x539)+_0x22a870[_0x50208c(0x328)]),_0x5c90ec=_0x37d76a[_0x50208c(0x73c)]((_0x24ebc2,_0x57986d)=>_0x57986d[_0x50208c(0x73d)]-_0x24ebc2[_0x50208c(0x73d)])['filter']((_0x341306,_0x31e1d5,_0x27a99f)=>_0x341306[_0x50208c(0x73d)]===_0x27a99f[0x0]['latestScore']),_0x1cd377=_0x37d76a['sort']((_0x582184,_0x2c4394)=>_0x582184[_0x50208c(0x73d)]-_0x2c4394[_0x50208c(0x73d)])[_0x50208c(0x850)]((_0xa9b6c,_0x32a9ba,_0x1c19ce)=>_0xa9b6c[_0x50208c(0x73d)]===_0x1c19ce[0x0][_0x50208c(0x73d)]),_0x577138=_0x50208c(0x498)+_0x22b2c8[_0x50208c(0x6f4)](',\x20')+_0x50208c(0x17b)+_0x4e5da2+'\x20/\x20'+_0x2da716+_0x50208c(0x1c4)+_0x4ec68a[_0x50208c(0x6f4)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x2da716-_0xfe7356)+_0x50208c(0x24e)+_0x2da716+_0x50208c(0x29e)+_0x5c90ec[_0x50208c(0x79a)](_0x22d4b2=>_0x22d4b2[_0x50208c(0x727)])[_0x50208c(0x6f4)](',\x20')+_0x50208c(0x7be)+_0x5c90ec[0x0][_0x50208c(0x73d)]+_0x50208c(0x3c1)+_0x1cd377[_0x50208c(0x79a)](_0x3913d2=>_0x3913d2['studentName'])[_0x50208c(0x6f4)](',\x20')+_0x50208c(0x7be)+_0x1cd377[0x0][_0x50208c(0x73d)]+_0x50208c(0x6da);_0x5d5015[_0x50208c(0x373)]=_0x577138;}function renderSubmissionChart(_0x30fab7,_0x2bfc6b,_0xe05c88,_0x1d3aa1){const _0x123ca4=_0x411d30,_0x125475=document[_0x123ca4(0x2da)](_0x123ca4(0x615))['getContext']('2d'),_0x20f716=_0xe05c88[_0x123ca4(0x79a)](_0x550cd8=>_0x550cd8[_0x123ca4(0x727)]),_0x4dd9bb=_0x1d3aa1['filter'](_0x739017=>!_0x20f716[_0x123ca4(0x411)](_0x739017));chartInstances[_0x123ca4(0x256)]&&chartInstances[_0x123ca4(0x256)][_0x123ca4(0x2af)](),chartInstances['submission']=new Chart(_0x125475,{'type':_0x123ca4(0x26e),'data':{'labels':[_0x123ca4(0x730),'ยังไม่ส่ง'],'datasets':[{'data':[_0x30fab7,_0x2bfc6b],'backgroundColor':['#10B981',_0x123ca4(0x433)],'borderColor':[_0x123ca4(0x3eb),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x123ca4(0x7f3)},'tooltip':{'callbacks':{'label':function(_0x18e8f2){const _0x20b943=_0x123ca4;let _0x270224=_0x18e8f2['label']||'';return _0x270224&&(_0x270224+=':\x20'),_0x270224+=_0x18e8f2[_0x20b943(0x757)],_0x270224;},'afterLabel':function(_0x3a4cf4){const _0x48f8a3=_0x123ca4;let _0x1cda15;return _0x3a4cf4['dataIndex']===0x0?_0x1cda15=_0x20f716:_0x1cda15=_0x4dd9bb,_0x1cda15[_0x48f8a3(0x412)]>0x0?_0x1cda15[_0x48f8a3(0x6f4)]('\x0a'):_0x48f8a3(0x23a);}}}}}});}function renderScoreDistributionChart(_0x1cf51c,_0x35a07a){const _0x2d0818=_0x411d30,_0x1ef3c9=document[_0x2d0818(0x2da)](_0x2d0818(0xee))[_0x2d0818(0x2cd)]('2d'),_0x4c8d1d={};for(let _0x20a3dd=0x0;_0x20a3dd<=_0x35a07a;_0x20a3dd++){_0x4c8d1d[_0x20a3dd]=0x0;}_0x1cf51c[_0x2d0818(0x65f)](_0x32da22=>{const _0xb68f3f=_0x2d0818;_0x4c8d1d[_0x32da22[_0xb68f3f(0x73d)]]!==undefined&&_0x4c8d1d[_0x32da22[_0xb68f3f(0x73d)]]++;}),chartInstances[_0x2d0818(0x693)]&&chartInstances[_0x2d0818(0x693)][_0x2d0818(0x2af)](),chartInstances[_0x2d0818(0x693)]=new Chart(_0x1ef3c9,{'type':_0x2d0818(0x11f),'data':{'labels':Object[_0x2d0818(0x2fb)](_0x4c8d1d),'datasets':[{'label':_0x2d0818(0x8d3),'data':Object[_0x2d0818(0x132)](_0x4c8d1d),'backgroundColor':_0x2d0818(0x6e2),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x2d0818(0x441)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x257f79){const _0x240969=_0x2d0818,_0xcad9b7=_0x257f79[_0x240969(0x70c)],_0x27f3aa=_0x1cf51c[_0x240969(0x850)](_0x3cb5a7=>_0x3cb5a7['latestScore']==_0xcad9b7)['map'](_0x5378ba=>_0x5378ba[_0x240969(0x727)]);return _0x27f3aa[_0x240969(0x412)]>0x0?_0x27f3aa[_0x240969(0x6f4)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x36d17a,_0x3b5500,_0x4a1418){const _0x241201=_0x411d30,_0x2906e4=document[_0x241201(0x2da)](_0x241201(0x149));if(_0x4a1418[_0x241201(0x412)]===0x0){_0x2906e4['innerHTML']=_0x241201(0x2bd);return;}const _0x2a0173=calculateItemAnalysis(_0x36d17a,_0x3b5500),_0x4adfdb=calculateDistractorAnalysis(_0x36d17a,_0x3b5500);let _0x3cd6f5='';_0x2a0173[_0x241201(0x624)]&&(_0x3cd6f5=_0x241201(0x704)+_0x2a0173['overallGroups'][_0x241201(0x440)][_0x241201(0x412)]+_0x241201(0x6d7)+_0x2a0173[_0x241201(0x624)]['upperGroupNames'][_0x241201(0x79a)](_0x5b9c35=>'<li>'+_0x5b9c35+_0x241201(0x319))[_0x241201(0x6f4)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x2a0173['overallGroups']['lowerGroupNames'][_0x241201(0x412)]+_0x241201(0x6d7)+_0x2a0173['overallGroups'][_0x241201(0xe1)][_0x241201(0x79a)](_0x41330b=>_0x241201(0x522)+_0x41330b+_0x241201(0x319))[_0x241201(0x6f4)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x42e49a='';const _0x451540=_0x3b5500[_0x241201(0x79a)](_0x41ec3a=>_0x41ec3a[_0x241201(0x727)]),_0x25354c=_0x547042=>{const _0xb86e17=_0x241201;if(_0x547042>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x547042>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x547042>=0.4)return _0xb86e17(0x432);if(_0x547042>=0.2)return _0xb86e17(0x3d8);return _0xb86e17(0x4e7);},_0x488663=_0x3d74e8=>{const _0xabf12f=_0x241201;if(_0x3d74e8<0x0)return _0xabf12f(0x5a9);if(_0x3d74e8>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x3d74e8>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0x3d74e8>=0.2)return _0xabf12f(0x4e5);return _0xabf12f(0x44f);},_0x48c40c=_0x11675f=>{const _0x326d3d=_0x241201,_0x189f3a=_0x11675f['toFixed'](0x0);if(parseFloat(_0x189f3a)===0x64)return _0x326d3d(0x5a7)+_0x189f3a+_0x326d3d(0x496);if(_0x11675f>=0x32)return _0x326d3d(0x566)+_0x189f3a+_0x326d3d(0x496);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x189f3a+_0x326d3d(0x496);};_0x36d17a['questions']['forEach']((_0x34d890,_0x54ba19)=>{const _0x52c9f5=_0x241201,_0x150156=_0x2a0173[_0x52c9f5(0x384)][_0x54ba19],_0x4889cc=_0x4adfdb[_0x54ba19],_0xd3e78=_0x34d890['stem']||_0x34d890[_0x52c9f5(0x5be)]||_0x34d890[_0x52c9f5(0x768)];let _0x1ccea3=0x0;const _0x543e73=[],_0x4b3514=[];_0x3b5500[_0x52c9f5(0x65f)](_0x1a409f=>{const _0x4707a5=_0x52c9f5,_0x4e79db=_0x1a409f[_0x4707a5(0x41c)][_0x1a409f['attempts'][_0x4707a5(0x412)]-0x1];if(_0x4e79db&&_0x4e79db[_0x4707a5(0x263)]){const _0x172d0f=_0x4e79db[_0x4707a5(0x263)][_0x4707a5(0x151)](_0x3f9367=>_0x3f9367[_0x4707a5(0x2ee)]===_0xd3e78)??_0x4e79db[_0x4707a5(0x263)][_0x54ba19]??null;_0x172d0f&&(_0x172d0f[_0x4707a5(0x6c2)]?(_0x1ccea3++,_0x543e73['push'](_0x1a409f[_0x4707a5(0x727)])):_0x4b3514['push'](_0x1a409f[_0x4707a5(0x727)]));}});const _0x2f4557=_0x3b5500[_0x52c9f5(0x412)]>0x0?_0x1ccea3/_0x3b5500['length']*0x64:0x0,_0x1768be=_0x4a1418[_0x52c9f5(0x850)](_0x45f0d0=>!_0x451540[_0x52c9f5(0x411)](_0x45f0d0)),_0x4b91c4=_0x150156?_0x52c9f5(0x6bb)+_0x150156['p'][_0x52c9f5(0x372)](0x2)+_0x52c9f5(0x88d)+_0x25354c(_0x150156['p'])+_0x52c9f5(0x893)+_0x150156['r']['toFixed'](0x2)+_0x52c9f5(0x88d)+_0x488663(_0x150156['r'])+_0x52c9f5(0x61f)+_0x48c40c(_0x2f4557)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x5683b5='';_0x4889cc&&(_0x5683b5=_0x52c9f5(0x67c)+Object[_0x52c9f5(0x2fb)](_0x4889cc)[_0x52c9f5(0x79a)](_0xeffc1d=>{const _0x500260=_0x52c9f5,_0x4121d5=_0x4889cc[_0xeffc1d],_0x23aacd=parseInt(_0xeffc1d)===_0x34d890['correctAnswerIndex'],_0x3d3932=!_0x23aacd&&_0x4121d5[_0x500260(0x548)]>_0x4121d5[_0x500260(0x5e8)];return _0x500260(0x74c)+(_0x23aacd?_0x500260(0x1e4):'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x23aacd?'✔\x20':'')+_0x4121d5['text']+_0x500260(0x1dd)+_0x4121d5[_0x500260(0x5e8)]+_0x500260(0x1dd)+_0x4121d5['lower_group_count']+'\x20'+(_0x3d3932?'👍':'')+_0x500260(0x1dd)+_0x4121d5[_0x500260(0x8e9)]+_0x500260(0x884);})[_0x52c9f5(0x6f4)]('')+_0x52c9f5(0x34e));let _0xe84b1d='';_0x150156&&_0x150156['upperGroupResponders']&&(_0xe84b1d=_0x52c9f5(0x56c)+_0x150156['upperGroupResponders'][_0x52c9f5(0x412)]+_0x52c9f5(0x5ab)+_0x150156[_0x52c9f5(0x1a6)][_0x52c9f5(0x79a)](_0x26bbde=>'<li>'+(_0x26bbde['isCorrect']?_0x52c9f5(0x148):_0x52c9f5(0x73e))+'\x20'+_0x26bbde['name']+'</li>')['join']('')+_0x52c9f5(0x81c)+_0x150156[_0x52c9f5(0x39d)][_0x52c9f5(0x412)]+_0x52c9f5(0x5ab)+_0x150156['lowerGroupResponders'][_0x52c9f5(0x79a)](_0x43089d=>_0x52c9f5(0x522)+(_0x43089d[_0x52c9f5(0x6c2)]?_0x52c9f5(0x148):_0x52c9f5(0x73e))+'\x20'+_0x43089d['name']+_0x52c9f5(0x319))[_0x52c9f5(0x6f4)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x42e49a+=_0x52c9f5(0x19e)+(_0x54ba19+0x1)+':\x20'+_0xd3e78+_0x52c9f5(0x4cc)+_0x4b91c4+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0xd3e78+_0x52c9f5(0x477)+_0x1ccea3+'\x20จาก\x20'+_0x3b5500[_0x52c9f5(0x412)]+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x2f4557['toFixed'](0x0)+_0x52c9f5(0x5db)+_0x543e73[_0x52c9f5(0x412)]+_0x52c9f5(0x3ee)+(_0x543e73[_0x52c9f5(0x412)]>0x0?_0x543e73[_0x52c9f5(0x6f4)](',\x20'):_0x52c9f5(0x23a))+_0x52c9f5(0x5c7)+_0x4b3514[_0x52c9f5(0x412)]+_0x52c9f5(0x3ee)+(_0x4b3514[_0x52c9f5(0x412)]>0x0?_0x4b3514[_0x52c9f5(0x6f4)](',\x20'):_0x52c9f5(0x23a))+_0x52c9f5(0x560)+_0x1768be[_0x52c9f5(0x412)]+_0x52c9f5(0x3ee)+(_0x1768be[_0x52c9f5(0x412)]>0x0?_0x1768be['join'](',\x20'):_0x52c9f5(0x23a))+_0x52c9f5(0x5f8)+_0x5683b5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xe84b1d+_0x52c9f5(0x876);}),_0x2906e4['innerHTML']=_0x3cd6f5+_0x42e49a;try{window[_0x241201(0x3d6)]&&MathJax[_0x241201(0x1de)]&&MathJax[_0x241201(0x1de)]([_0x2906e4]);}catch(_0xd333f){console['error'](_0x241201(0x2a1),_0xd333f);}}function calculateDistractorAnalysis(_0x3782b6,_0x3d805c){const _0x37026c=_0x411d30,_0x4937be={};if(_0x3d805c[_0x37026c(0x412)]<0x2)return _0x4937be;const _0x46a459=[..._0x3d805c][_0x37026c(0x73c)]((_0x14a5fb,_0x3e1491)=>{const _0x44d0d2=_0x37026c,_0x48426e=_0x3e1491[_0x44d0d2(0x73d)]-_0x14a5fb['latestScore'];if(_0x48426e!==0x0)return _0x48426e;const _0x52d497=_0x14a5fb[_0x44d0d2(0x41c)]?.[_0x44d0d2(0x412)]||0x1,_0x24b59d=_0x3e1491['attempts']?.[_0x44d0d2(0x412)]||0x1,_0x4d30d0=_0x52d497-_0x24b59d;if(_0x4d30d0!==0x0)return _0x4d30d0;const _0x3ee2d7=new Date(_0x14a5fb[_0x44d0d2(0x202)]),_0x527a3d=new Date(_0x3e1491['latestSubmittedAt']),_0x460cd0=_0x3ee2d7-_0x527a3d;if(_0x460cd0!==0x0)return _0x460cd0;return _0x14a5fb[_0x44d0d2(0x727)]['localeCompare'](_0x3e1491[_0x44d0d2(0x727)],'th');}),_0x1c24a1=_0x46a459[_0x37026c(0x412)],_0x4639b4=Math[_0x37026c(0x1a8)](0x1,Math[_0x37026c(0x8d7)](_0x1c24a1*0.33)),_0xadc874=_0x46a459[_0x37026c(0x85d)](0x0,_0x4639b4),_0x75b4df=_0x46a459[_0x37026c(0x85d)](-_0x4639b4);return _0x3782b6['questions'][_0x37026c(0x65f)]((_0x4bca96,_0xafad1a)=>{const _0x58f89d=_0x37026c;if(_0x4bca96[_0x58f89d(0x6ec)]!=='multiple_choice'||!_0x4bca96[_0x58f89d(0x7f7)])return;const _0x16494d=_0x4bca96['questionText'],_0x3f3ecc={};_0x4bca96[_0x58f89d(0x7f7)][_0x58f89d(0x65f)]((_0x15438c,_0x55ba5a)=>{_0x3f3ecc[_0x55ba5a]={'text':_0x15438c,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x46a459[_0x58f89d(0x65f)](_0x26e439=>{const _0x416db8=_0x58f89d,_0x1f3933=_0x26e439['attempts'][_0x26e439[_0x416db8(0x41c)][_0x416db8(0x412)]-0x1],_0x24c70b=_0x1f3933[_0x416db8(0x263)][_0x416db8(0x151)](_0x35eac0=>_0x35eac0['originalQuestionText']===_0x16494d);if(_0x24c70b&&_0x24c70b[_0x416db8(0x165)]!==null){const _0x21f44d=_0x4bca96[_0x416db8(0x7f7)][_0x416db8(0x5a0)](_0x106d93=>_0x106d93===_0x24c70b[_0x416db8(0x8a8)]);_0x21f44d!==-0x1&&_0x3f3ecc[_0x21f44d]&&(_0x3f3ecc[_0x21f44d]['total']++,_0xadc874['includes'](_0x26e439)&&_0x3f3ecc[_0x21f44d][_0x416db8(0x5e8)]++,_0x75b4df[_0x416db8(0x411)](_0x26e439)&&_0x3f3ecc[_0x21f44d][_0x416db8(0x548)]++);}}),_0x4937be[_0xafad1a]=_0x3f3ecc;}),_0x4937be;}function calculateReliabilityKR20(_0x5c634c,_0x17c815,_0x39c4ec){const _0x539763=_0x411d30,_0x4fc4f9=_0x5c634c['questions']['length'];if(_0x4fc4f9<0x2||_0x17c815[_0x539763(0x412)]<0x2)return null;const _0xdbc51a=_0x17c815['map'](_0x5e7b9c=>_0x5e7b9c[_0x539763(0x73d)]),_0x46401e=_0xdbc51a[_0x539763(0x3bf)]((_0x5c25cc,_0x4300eb)=>_0x5c25cc+_0x4300eb,0x0)/_0xdbc51a[_0x539763(0x412)],_0x1fc1f5=_0xdbc51a[_0x539763(0x79a)](_0x342290=>Math[_0x539763(0x714)](_0x342290-_0x46401e,0x2))[_0x539763(0x3bf)]((_0x3a6757,_0x33e56b)=>_0x3a6757+_0x33e56b,0x0)/_0xdbc51a['length'];if(_0x1fc1f5===0x0)return null;let _0x5abdd=0x0;for(let _0xef411a=0x0;_0xef411a<_0x4fc4f9;_0xef411a++){const _0x45f3f3=_0x39c4ec[_0xef411a]?.['p'];if(_0x45f3f3===undefined)continue;const _0x10639b=0x1-_0x45f3f3;_0x5abdd+=_0x45f3f3*_0x10639b;}if(_0x5abdd===0x0)return null;const _0x375c8c=_0x4fc4f9/(_0x4fc4f9-0x1)*(0x1-_0x5abdd/_0x1fc1f5);if(_0x375c8c>0x1)return null;return _0x375c8c;}async function handleAnalyzeClass(){const _0x3914d2=_0x411d30;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x3914d2(0x382));return;}const _0x4f5457=collection(db,_0x3914d2(0x6c8)+appId+_0x3914d2(0x29f)+currentQuizData['id']+_0x3914d2(0x75f)),_0x37f402=await getDocs(_0x4f5457),_0xad227=_0x37f402[_0x3914d2(0x60e)][_0x3914d2(0x79a)](_0x54b82d=>_0x54b82d['data']());if(_0xad227[_0x3914d2(0x412)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x354052=document['getElementById']('strength-weakness-analysis-container');_0x354052['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x3914d2(0x2da)](_0x3914d2(0x5b8))[_0x3914d2(0x502)]=!![];const _0x1f07f8=_0xad227[_0x3914d2(0x79a)]((_0xa7b6f9,_0x3b560b)=>{const _0x564b04=_0x3914d2,_0x244ca3=_0xa7b6f9[_0x564b04(0x41c)][_0xa7b6f9[_0x564b04(0x41c)]['length']-0x1];if(!_0x244ca3)return'';return _0x564b04(0x56d)+(_0x3b560b+0x1)+'\x20('+_0xa7b6f9[_0x564b04(0x727)]+_0x564b04(0x219)+_0x244ca3[_0x564b04(0x693)]+'/'+_0xa7b6f9['totalQuestions']+_0x564b04(0x146)+JSON[_0x564b04(0x3c6)](_0x244ca3[_0x564b04(0x263)])+_0x564b04(0x209);})['join'](_0x3914d2(0x220)),_0x2a65fa=_0x3914d2(0x43e)+currentQuizData['topic']+_0x3914d2(0x70e)+JSON['stringify'](currentQuizData[_0x3914d2(0x7f5)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1f07f8+_0x3914d2(0x66f),_0x83cf1b={'type':'OBJECT','properties':{'classStrengths':{'type':_0x3914d2(0x534),'items':{'type':_0x3914d2(0x532)}},'classWeaknesses':{'type':_0x3914d2(0x534),'items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x3914d2(0x534),'items':{'type':_0x3914d2(0x532)}}},'required':[_0x3914d2(0x676),_0x3914d2(0x1a5),_0x3914d2(0x1ee)]};try{const _0x165ae6=await callAnalysisApi(_0x2a65fa,_0x83cf1b);displayClassAnalysis(_0x165ae6);}catch(_0x3f0f2a){console['error'](_0x3914d2(0x577),_0x3f0f2a),_0x354052[_0x3914d2(0x373)]=_0x3914d2(0x568)+_0x3f0f2a[_0x3914d2(0x2d1)]+_0x3914d2(0x6d5);}finally{document[_0x3914d2(0x2da)](_0x3914d2(0x5b8))[_0x3914d2(0x502)]=![];}}function displayClassAnalysis(_0x5e1d1d){const _0x4eec26=_0x411d30,_0x240a97=document[_0x4eec26(0x2da)](_0x4eec26(0x675));if(!_0x5e1d1d){_0x240a97[_0x4eec26(0x373)]=_0x4eec26(0x6a2);return;}_0x240a97[_0x4eec26(0x373)]=_0x4eec26(0x81e)+_0x5e1d1d[_0x4eec26(0x676)][_0x4eec26(0x79a)](_0x41ce46=>_0x4eec26(0x522)+_0x41ce46+_0x4eec26(0x319))[_0x4eec26(0x6f4)]('')+_0x4eec26(0x1b4)+_0x5e1d1d['classWeaknesses'][_0x4eec26(0x79a)](_0x564f53=>_0x4eec26(0x522)+_0x564f53+_0x4eec26(0x319))[_0x4eec26(0x6f4)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5e1d1d[_0x4eec26(0x1ee)]['map'](_0x2f4987=>'<li>'+_0x2f4987+_0x4eec26(0x319))['join']('')+_0x4eec26(0x2d0);}function formatAndPrintWorksheet(_0x1dca4b,_0x16560e){const _0x39814a=_0x411d30,_0x1398b7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x1dca4b[_0x39814a(0x363)]+_0x39814a(0x1f1)+_0x1dca4b[_0x39814a(0x363)]+_0x39814a(0x36b)+_0x1dca4b[_0x39814a(0x7f5)]['map']((_0x5d0277,_0x570979)=>_0x39814a(0x6af)+(_0x570979+0x1)+'.\x20'+_0x5d0277[_0x39814a(0x5be)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5d0277[_0x39814a(0x6a8)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x5d0277[_0x39814a(0x6a8)]+_0x39814a(0x45f):'')+_0x39814a(0x24d))[_0x39814a(0x6f4)]('')+_0x39814a(0x80a);_0x16560e[_0x39814a(0x41e)][_0x39814a(0x46c)](_0x1398b7),_0x16560e[_0x39814a(0x41e)][_0x39814a(0x463)](),_0x16560e[_0x39814a(0x83c)]=function(){setTimeout(()=>{const _0x147106=_0x1004;_0x16560e[_0x147106(0x131)]();},0x3e8);};}async function generateWorksheet(){const _0x29fafd=_0x411d30,_0xc7a457=document['getElementById']('worksheet-topic-input')[_0x29fafd(0x5b4)][_0x29fafd(0x4b3)]();if(!_0xc7a457){showMessage(_0x29fafd(0x618));return;}const _0x34fa4f=document['getElementById'](_0x29fafd(0x3f5))[_0x29fafd(0x81a)],_0x4c96c7=_0x34fa4f?'':'คณิตศาสตร์',_0x2a8107=window[_0x29fafd(0x75e)]('',_0x29fafd(0x569));_0x2a8107[_0x29fafd(0x41e)][_0x29fafd(0x46c)]('<h1></h1>');const _0x2c4b3b=parseInt(document[_0x29fafd(0x2da)]('num-questions')[_0x29fafd(0x5b4)]),_0x8ccfba=document['getElementById'](_0x29fafd(0x295))[_0x29fafd(0x81a)],_0x42f2eb=_0x8ccfba?_0x29fafd(0x8fc):'',_0x42dd07='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x4c96c7+'ที่พิมพ์ได้\x20จำนวน\x20'+_0x2c4b3b+_0x29fafd(0x4e4)+_0xc7a457+_0x29fafd(0x81d)+_0x42f2eb+_0x29fafd(0x52c)+simpleMathPrompt+_0x29fafd(0x5a8),_0x3ed35e={'type':_0x29fafd(0x102),'properties':{'topic':{'type':_0x29fafd(0x532)},'questions':{'type':_0x29fafd(0x534),'items':{'type':_0x29fafd(0x102),'properties':{'questionText':{'type':_0x29fafd(0x532)},'imageCode':{'type':'STRING'}},'required':[_0x29fafd(0x5be)]}}},'required':[_0x29fafd(0x363),_0x29fafd(0x7f5)]};document[_0x29fafd(0x2da)]('loader-text')['textContent']='',document[_0x29fafd(0x2da)](_0x29fafd(0xe9))['classList'][_0x29fafd(0x395)]('hidden'),document[_0x29fafd(0x2da)](_0x29fafd(0x7ca))[_0x29fafd(0x5aa)][_0x29fafd(0x395)](_0x29fafd(0x62f)),generateWorksheetBtn[_0x29fafd(0x502)]=!![];try{const _0x2cce63=await callAnalysisApi(_0x42dd07,_0x3ed35e);formatAndPrintWorksheet(_0x2cce63,_0x2a8107);}catch(_0x29bb08){console[_0x29fafd(0x735)](_0x29fafd(0x731),_0x29bb08);if(_0x2a8107)_0x2a8107[_0x29fafd(0x463)]();showMessage(_0x29fafd(0x668));}finally{document['getElementById'](_0x29fafd(0xe9))[_0x29fafd(0x5aa)][_0x29fafd(0x483)](_0x29fafd(0x62f)),document['getElementById'](_0x29fafd(0x7ca))['classList'][_0x29fafd(0x483)](_0x29fafd(0x62f)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x102a27,_0x3f2044){const _0x3c4d3d=_0x411d30,_0x5e1f4f={'contents':[{'role':_0x3c4d3d(0x709),'parts':[{'text':_0x102a27}]}],'generationConfig':{'responseMimeType':_0x3c4d3d(0x291),'responseSchema':_0x3f2044}},_0xdc7c3f=_0x3c4d3d(0x14b),_0x31e3ae=_0x3c4d3d(0x6f7)+_0xdc7c3f,_0x5f37e9=await fetch(_0x31e3ae,{'method':_0x3c4d3d(0x27d),'headers':{'Content-Type':_0x3c4d3d(0x291)},'body':JSON[_0x3c4d3d(0x3c6)](_0x5e1f4f)});if(!_0x5f37e9['ok'])throw new Error(_0x3c4d3d(0x6d4)+_0x5f37e9[_0x3c4d3d(0x8cb)]);const _0x136848=await _0x5f37e9[_0x3c4d3d(0x419)]();if(_0x136848[_0x3c4d3d(0x3e6)]?.[0x0]?.[_0x3c4d3d(0x63f)]?.[_0x3c4d3d(0x561)]?.[0x0])return JSON[_0x3c4d3d(0x16e)](_0x136848[_0x3c4d3d(0x3e6)][0x0][_0x3c4d3d(0x63f)][_0x3c4d3d(0x561)][0x0][_0x3c4d3d(0x51f)]);else{let _0x51ce13=_0x3c4d3d(0x62e);if(_0x136848['promptFeedback']?.[_0x3c4d3d(0x51b)])_0x51ce13=_0x3c4d3d(0x2b3)+_0x136848[_0x3c4d3d(0x8c6)]['blockReason']+'.';else _0x136848['candidates']?.[0x0]?.['finishReason']&&_0x136848[_0x3c4d3d(0x3e6)][0x0][_0x3c4d3d(0x62a)]!==_0x3c4d3d(0x797)&&(_0x51ce13='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x136848[_0x3c4d3d(0x3e6)][0x0]['finishReason']+'.');console[_0x3c4d3d(0x735)](_0x51ce13,JSON[_0x3c4d3d(0x3c6)](_0x136848));throw new Error(_0x51ce13);}}initialize();
