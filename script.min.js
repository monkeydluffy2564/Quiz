const _0x37a926=_0x34b5;(function(_0xa30920,_0x268f83){const _0x4431fb=_0x34b5,_0x513605=_0xa30920();while(!![]){try{const _0x233c74=parseInt(_0x4431fb(0x215))/0x1+-parseInt(_0x4431fb(0x2be))/0x2*(-parseInt(_0x4431fb(0x61a))/0x3)+parseInt(_0x4431fb(0x7dd))/0x4*(-parseInt(_0x4431fb(0x8a0))/0x5)+parseInt(_0x4431fb(0x15a))/0x6+parseInt(_0x4431fb(0x77b))/0x7+parseInt(_0x4431fb(0x58b))/0x8+-parseInt(_0x4431fb(0x676))/0x9;if(_0x233c74===_0x268f83)break;else _0x513605['push'](_0x513605['shift']());}catch(_0x52e8f3){_0x513605['push'](_0x513605['shift']());}}}(_0x4085,0xc72ad));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;const requestWakeLock=async()=>{const _0x51d80a=_0x34b5;if(_0x51d80a(0x130)in navigator)try{wakeLock=await navigator[_0x51d80a(0x130)][_0x51d80a(0x7ea)]('screen'),console['log'](_0x51d80a(0x73d)),wakeLock[_0x51d80a(0x7a6)](_0x51d80a(0x1fb),()=>{const _0x4929b5=_0x51d80a;console['log'](_0x4929b5(0x1d0));});}catch(_0x55b6c5){console[_0x51d80a(0x804)](_0x51d80a(0x25c)+_0x55b6c5[_0x51d80a(0x1bd)]+',\x20'+_0x55b6c5[_0x51d80a(0x10c)]);}else console[_0x51d80a(0x57b)](_0x51d80a(0x16a));},releaseWakeLock=async()=>{const _0x449739=_0x34b5;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console[_0x449739(0x76c)](_0x449739(0x645)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x359610=_0x34b5;if(dimTimer)clearTimeout(dimTimer);document[_0x359610(0x75f)][_0x359610(0x4a7)]['remove'](_0x359610(0x29e)),dimTimer=setTimeout(()=>{const _0x53bae1=_0x359610;document['body'][_0x53bae1(0x4a7)][_0x53bae1(0x381)]('dimmed'),console[_0x53bae1(0x76c)](_0x53bae1(0x2b1));},inactivityTime);}function _0x34b5(_0x589719,_0x42ba1b){const _0x408525=_0x4085();return _0x34b5=function(_0x34b583,_0x4b9c62){_0x34b583=_0x34b583-0xba;let _0x533027=_0x408525[_0x34b583];return _0x533027;},_0x34b5(_0x589719,_0x42ba1b);}function stopDimTimer(){const _0x4bbea4=_0x34b5;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x4bbea4(0x4a7)][_0x4bbea4(0x578)](_0x4bbea4(0x29e)),window['removeEventListener'](_0x4bbea4(0x80f),resetDimTimer),window[_0x4bbea4(0x82d)]('mousedown',resetDimTimer),window[_0x4bbea4(0x82d)](_0x4bbea4(0xd3),resetDimTimer),window[_0x4bbea4(0x82d)](_0x4bbea4(0x81b),resetDimTimer),console[_0x4bbea4(0x76c)](_0x4bbea4(0x5f4));}let modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x37a926(0x2dd)};const allMathTopics=[{'category':_0x37a926(0x692),'name':'การนับ'},{'category':_0x37a926(0x692),'name':_0x37a926(0x842)},{'category':_0x37a926(0x692),'name':_0x37a926(0x36e)},{'category':_0x37a926(0x692),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':_0x37a926(0x692),'name':_0x37a926(0x35f)},{'category':_0x37a926(0x692),'name':'การลบ'},{'category':_0x37a926(0x692),'name':_0x37a926(0x21d)},{'category':_0x37a926(0x692),'name':_0x37a926(0x8bd)},{'category':_0x37a926(0x692),'name':_0x37a926(0x847)},{'category':_0x37a926(0x692),'name':_0x37a926(0x632)},{'category':_0x37a926(0x692),'name':_0x37a926(0x282)},{'category':_0x37a926(0x692),'name':_0x37a926(0x4da)},{'category':_0x37a926(0x692),'name':'เส้นจำนวน'},{'category':'จำนวนและการดำเนินการ','name':_0x37a926(0x2f3)},{'category':_0x37a926(0x692),'name':'ห.ร.ม.\x20(GCD)'},{'category':'จำนวนและการดำเนินการ','name':_0x37a926(0x3a7)},{'category':_0x37a926(0x692),'name':_0x37a926(0x7aa)},{'category':'จำนวนและการดำเนินการ','name':_0x37a926(0x8a8)},{'category':_0x37a926(0x692),'name':_0x37a926(0x6f4)},{'category':_0x37a926(0x692),'name':_0x37a926(0x2e7)},{'category':_0x37a926(0x692),'name':_0x37a926(0x786)},{'category':_0x37a926(0x692),'name':_0x37a926(0x5cb)},{'category':'จำนวนและการดำเนินการ','name':_0x37a926(0x2d3)},{'category':_0x37a926(0x692),'name':'จำนวนคละ'},{'category':_0x37a926(0x692),'name':_0x37a926(0x3fb)},{'category':_0x37a926(0x692),'name':_0x37a926(0x1cc)},{'category':_0x37a926(0x692),'name':_0x37a926(0x24c)},{'category':_0x37a926(0x692),'name':_0x37a926(0x3ec)},{'category':_0x37a926(0x692),'name':_0x37a926(0x3d8)},{'category':_0x37a926(0x692),'name':_0x37a926(0x4e6)},{'category':'จำนวนและการดำเนินการ','name':_0x37a926(0x6a1)},{'category':_0x37a926(0x692),'name':_0x37a926(0x52f)},{'category':_0x37a926(0x692),'name':_0x37a926(0x70f)},{'category':_0x37a926(0x692),'name':_0x37a926(0x77c)},{'category':'จำนวนและการดำเนินการ','name':_0x37a926(0x7e1)},{'category':_0x37a926(0x692),'name':_0x37a926(0x3d0)},{'category':_0x37a926(0x692),'name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x37a926(0x5b7),'name':_0x37a926(0x404)},{'category':'การวัด','name':_0x37a926(0x5d9)},{'category':'การวัด','name':_0x37a926(0x7bd)},{'category':_0x37a926(0x5b7),'name':'ปริมาตร/ความจุและการแปลง'},{'category':_0x37a926(0x5b7),'name':'อุณหภูมิและการแปลง'},{'category':_0x37a926(0x5b7),'name':_0x37a926(0x61c)},{'category':_0x37a926(0x5b7),'name':'พื้นที่สี่เหลี่ยม'},{'category':'การวัด','name':'พื้นที่สามเหลี่ยม'},{'category':_0x37a926(0x5b7),'name':_0x37a926(0x59d)},{'category':_0x37a926(0x5b7),'name':_0x37a926(0x132)},{'category':'การวัด','name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x37a926(0x5b7),'name':'มุมและการวัดมุม'},{'category':'การวัด','name':'สเกลและแผนที่'},{'category':'การวัด','name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x37a926(0xc1),'name':'จุด\x20เส้น\x20ระนาบ'},{'category':'เรขาคณิต','name':_0x37a926(0x73b)},{'category':_0x37a926(0xc1),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0x37a926(0xc1),'name':_0x37a926(0x17c)},{'category':_0x37a926(0xc1),'name':_0x37a926(0x2e4)},{'category':'เรขาคณิต','name':'ความคล้ายของรูป'},{'category':_0x37a926(0xc1),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x37a926(0xc1),'name':_0x37a926(0x826)},{'category':_0x37a926(0xc1),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x37a926(0xc1),'name':_0x37a926(0x840)},{'category':_0x37a926(0xc1),'name':_0x37a926(0x1cd)},{'category':_0x37a926(0xc1),'name':_0x37a926(0x4ee)},{'category':_0x37a926(0xc1),'name':_0x37a926(0x4b4)},{'category':'เรขาคณิต','name':_0x37a926(0x307)},{'category':'เรขาคณิต','name':_0x37a926(0x4a1)},{'category':_0x37a926(0x225),'name':_0x37a926(0x3e0)},{'category':_0x37a926(0x225),'name':_0x37a926(0x39f)},{'category':_0x37a926(0x225),'name':_0x37a926(0x84b)},{'category':'พีชคณิตและฟังก์ชัน','name':'การแยกตัวประกอบ'},{'category':_0x37a926(0x225),'name':_0x37a926(0x311)},{'category':_0x37a926(0x225),'name':_0x37a926(0x6cd)},{'category':_0x37a926(0x225),'name':_0x37a926(0x6e7)},{'category':_0x37a926(0x225),'name':_0x37a926(0x4e4)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x37a926(0x4a6)},{'category':_0x37a926(0x225),'name':_0x37a926(0x342)},{'category':_0x37a926(0x225),'name':'สมการราก\x20(radical)'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการยกกำลัง'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x37a926(0x7b4)},{'category':_0x37a926(0x225),'name':'อสมการเชิงเส้น'},{'category':_0x37a926(0x225),'name':_0x37a926(0x600)},{'category':_0x37a926(0x225),'name':_0x37a926(0x683)},{'category':_0x37a926(0x225),'name':_0x37a926(0x180)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x37a926(0x8a4)},{'category':_0x37a926(0x225),'name':_0x37a926(0x7e3)},{'category':_0x37a926(0x225),'name':'ฟังก์ชันผกผัน'},{'category':_0x37a926(0x225),'name':_0x37a926(0x331)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x37a926(0x2fc)},{'category':_0x37a926(0x225),'name':_0x37a926(0x7bb)},{'category':_0x37a926(0x225),'name':_0x37a926(0xc8)},{'category':_0x37a926(0x225),'name':_0x37a926(0x755)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันราก\x20(root)'},{'category':_0x37a926(0x225),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':_0x37a926(0x225),'name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':_0x37a926(0x225),'name':_0x37a926(0x66f)},{'category':_0x37a926(0x225),'name':_0x37a926(0x41e)},{'category':_0x37a926(0x225),'name':_0x37a926(0x4e8)},{'category':_0x37a926(0x225),'name':_0x37a926(0x817)},{'category':'พีชคณิตและฟังก์ชัน','name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x37a926(0x225),'name':_0x37a926(0x373)},{'category':_0x37a926(0x225),'name':_0x37a926(0x178)},{'category':_0x37a926(0x7c1),'name':'ระยะทางและจุดกึ่งกลาง'},{'category':'เรขาคณิตวิเคราะห์','name':_0x37a926(0x346)},{'category':'เรขาคณิตวิเคราะห์','name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x37a926(0x7c1),'name':_0x37a926(0x859)},{'category':_0x37a926(0x7c1),'name':_0x37a926(0x5e4)},{'category':_0x37a926(0x7c1),'name':_0x37a926(0x860)},{'category':'เรขาคณิตวิเคราะห์','name':'พาราโบลา'},{'category':_0x37a926(0x7c1),'name':_0x37a926(0x7a7)},{'category':_0x37a926(0x7c1),'name':_0x37a926(0x2e3)},{'category':_0x37a926(0x29a),'name':_0x37a926(0x5ab)},{'category':_0x37a926(0x29a),'name':_0x37a926(0x3ba)},{'category':_0x37a926(0x29a),'name':_0x37a926(0x7e9)},{'category':_0x37a926(0x29a),'name':_0x37a926(0x400)},{'category':_0x37a926(0x29a),'name':_0x37a926(0x253)},{'category':_0x37a926(0x29a),'name':_0x37a926(0x703)},{'category':_0x37a926(0x29a),'name':_0x37a926(0x2c3)},{'category':_0x37a926(0x29a),'name':_0x37a926(0x854)},{'category':'ตรีโกณมิติ','name':_0x37a926(0x619)},{'category':'ตรีโกณมิติ','name':'กราฟฟังก์ชันตรีโกณ'},{'category':_0x37a926(0x29a),'name':_0x37a926(0x6fb)},{'category':_0x37a926(0x12c),'name':_0x37a926(0x74b)},{'category':_0x37a926(0x12c),'name':_0x37a926(0x47e)},{'category':_0x37a926(0x12c),'name':_0x37a926(0x198)},{'category':_0x37a926(0x12c),'name':_0x37a926(0x47c)},{'category':_0x37a926(0x12c),'name':_0x37a926(0x325)},{'category':_0x37a926(0x12c),'name':_0x37a926(0x306)},{'category':_0x37a926(0x12c),'name':_0x37a926(0xe1)},{'category':_0x37a926(0x12c),'name':_0x37a926(0x269)},{'category':_0x37a926(0x12c),'name':_0x37a926(0x8c1)},{'category':_0x37a926(0x12c),'name':_0x37a926(0x89e)},{'category':_0x37a926(0x12c),'name':_0x37a926(0x216)},{'category':'สถิติและความน่าจะเป็น','name':_0x37a926(0x3e4)},{'category':_0x37a926(0x12c),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':'สถิติและความน่าจะเป็น','name':_0x37a926(0x67d)},{'category':'สถิติและความน่าจะเป็น','name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':'สถิติและความน่าจะเป็น','name':_0x37a926(0x403)},{'category':_0x37a926(0x12c),'name':'กฎบวกและกฎคูณ'},{'category':_0x37a926(0x12c),'name':_0x37a926(0x7b7)},{'category':'สถิติและความน่าจะเป็น','name':_0x37a926(0x493)},{'category':_0x37a926(0x12c),'name':_0x37a926(0x193)},{'category':_0x37a926(0x12c),'name':_0x37a926(0x318)},{'category':_0x37a926(0x12c),'name':_0x37a926(0x3d1)},{'category':_0x37a926(0x12c),'name':_0x37a926(0x4d4)},{'category':'สถิติและความน่าจะเป็น','name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x37a926(0x50f),'name':'ลิมิต'},{'category':'แคลคูลัสเบื้องต้น','name':_0x37a926(0x792)},{'category':_0x37a926(0x50f),'name':_0x37a926(0xbc)},{'category':_0x37a926(0x50f),'name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':'แคลคูลัสเบื้องต้น','name':_0x37a926(0x7cd)},{'category':_0x37a926(0x50f),'name':_0x37a926(0x446)},{'category':_0x37a926(0x50f),'name':_0x37a926(0x6d4)},{'category':_0x37a926(0x50f),'name':_0x37a926(0x1d8)},{'category':_0x37a926(0x50f),'name':_0x37a926(0x71f)},{'category':_0x37a926(0x50f),'name':_0x37a926(0x77a)},{'category':'แคลคูลัสเบื้องต้น','name':_0x37a926(0x37f)},{'category':_0x37a926(0x50f),'name':_0x37a926(0x6be)},{'category':_0x37a926(0x50f),'name':_0x37a926(0x2ce)},{'category':_0x37a926(0x35a),'name':_0x37a926(0x222)},{'category':_0x37a926(0x35a),'name':_0x37a926(0x1a5)},{'category':_0x37a926(0x35a),'name':_0x37a926(0x423)},{'category':_0x37a926(0x35a),'name':_0x37a926(0x4c0)},{'category':_0x37a926(0x35a),'name':_0x37a926(0xd9)},{'category':_0x37a926(0x35a),'name':_0x37a926(0x443)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x37a926(0xd6)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x37a926(0x6ee)},{'category':_0x37a926(0x23c),'name':_0x37a926(0x612)},{'category':_0x37a926(0x23c),'name':_0x37a926(0x273)},{'category':_0x37a926(0x23c),'name':_0x37a926(0x1ff)},{'category':_0x37a926(0x23c),'name':_0x37a926(0x3c5)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x37a926(0x3a8)},{'category':_0x37a926(0x515),'name':_0x37a926(0x496)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x37a926(0x266)}];function renderTopicCheckboxes(){const _0x39fe19=_0x37a926,_0x3442e9=document[_0x39fe19(0x2a6)](_0x39fe19(0x53f));if(!_0x3442e9)return;const _0x4a9b29=allMathTopics,_0x71cad5=customMathTopics['map'](_0x123fbf=>({'id':_0x123fbf['id'],'category':_0x39fe19(0x43b),'name':_0x123fbf[_0x39fe19(0x1bd)]})),_0x4adb48=[..._0x4a9b29,..._0x71cad5],_0xa4caca=_0x4adb48[_0x39fe19(0x620)]((_0x1571f7,_0x3f913a)=>{const _0x59e90c=_0x39fe19;return!_0x1571f7[_0x3f913a['category']]&&(_0x1571f7[_0x3f913a[_0x59e90c(0x542)]]=[]),_0x1571f7[_0x3f913a[_0x59e90c(0x542)]]['push'](_0x3f913a),_0x1571f7;},{});let _0x172f90='';const _0x352a00=[_0x39fe19(0x43b),...Object['keys'](_0xa4caca)[_0x39fe19(0x63c)](_0x377f3c=>_0x377f3c!==_0x39fe19(0x43b))];for(const _0x41a7bb of _0x352a00){if(_0xa4caca[_0x41a7bb]){const _0x52636a=_0x41a7bb===_0x39fe19(0x43b),_0x56587a=_0x52636a?_0x39fe19(0x69f):_0x39fe19(0x607),_0x5e8bf2=_0x52636a?_0x39fe19(0x4c2):_0x39fe19(0x2f2);_0x172f90+=_0x39fe19(0x43a),_0x172f90+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x5e8bf2+_0x39fe19(0x57e)+_0x56587a+_0x39fe19(0x5b2)+_0x41a7bb+_0x39fe19(0x44d),_0xa4caca[_0x41a7bb][_0x39fe19(0x3dc)](_0x505d9c=>{const _0xca16d9=_0x39fe19,_0x519601=!!_0x505d9c['id'],_0x526482=_0x519601?_0xca16d9(0x8c2)+_0x505d9c['id']+_0xca16d9(0x8bb)+_0x505d9c['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x505d9c['id']+_0xca16d9(0x21f)+_0x505d9c['id']+_0xca16d9(0x5db):'';_0x172f90+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x505d9c['id']||'')+_0xca16d9(0x34a)+_0x505d9c['name']+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x505d9c['name']+_0xca16d9(0x267)+(_0x519601?_0xca16d9(0x2b6)+_0x505d9c[_0xca16d9(0x1bd)]+'\x22>':'')+_0xca16d9(0x785)+_0x526482+_0xca16d9(0x1b0);}),_0x172f90+='</div>';}}_0x3442e9[_0x39fe19(0x7b0)]=_0x172f90||_0x39fe19(0x581),_0x3442e9[_0x39fe19(0x82d)]('change',updateSelectedTopicsCount),_0x3442e9[_0x39fe19(0x7a6)](_0x39fe19(0x430),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x339c4b,_0x56c1ad){const _0x33f0b=_0x37a926;if(!_0x339c4b||!_0x56c1ad['trim']()){showMessage(_0x33f0b(0x3a6));return;}try{const _0x599622=doc(db,'artifacts/'+appId+'/public/data/customMathTopics',_0x339c4b);await updateDoc(_0x599622,{'name':_0x56c1ad[_0x33f0b(0x451)]()}),showMessage(_0x33f0b(0x82e));}catch(_0x1a081a){console[_0x33f0b(0x804)](_0x33f0b(0x654),_0x1a081a),showMessage(_0x33f0b(0x2ba));}}function toggleTopicEditMode(_0xf9577b,_0x2a7e4c){const _0x5d699e=_0x37a926;if(!_0xf9577b)return;const _0x32e000=_0xf9577b[_0x5d699e(0x8cb)](_0x5d699e(0x45d)),_0x1137de=_0xf9577b[_0x5d699e(0x8cb)](_0x5d699e(0x6b3)),_0x43623f=_0xf9577b['querySelector'](_0x5d699e(0x3e2)),_0xbe8731=_0xf9577b[_0x5d699e(0x8cb)]('.topic-actions-edit');_0x32e000[_0x5d699e(0x4a7)]['toggle'](_0x5d699e(0x17a),_0x2a7e4c),_0x1137de[_0x5d699e(0x4a7)]['toggle']('hidden',!_0x2a7e4c),_0x43623f[_0x5d699e(0x4a7)][_0x5d699e(0x73f)](_0x5d699e(0x17a),_0x2a7e4c),_0xbe8731['classList'][_0x5d699e(0x73f)]('hidden',!_0x2a7e4c),_0x2a7e4c&&(_0x1137de[_0x5d699e(0x255)](),_0x1137de[_0x5d699e(0x187)]());}function updateSelectedTopicsCount(){const _0x296343=_0x37a926,_0x5688b0=document[_0x296343(0x2a6)](_0x296343(0x53f)),_0x413d17=_0x5688b0['querySelectorAll'](_0x296343(0x3a0))[_0x296343(0x836)],_0x30fea8=document[_0x296343(0x2a6)](_0x296343(0x3b2));_0x413d17>0x0?_0x30fea8[_0x296343(0x523)]='(เลือกแล้ว\x20'+_0x413d17+'\x20หัวข้อ)':_0x30fea8[_0x296343(0x523)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x37a926(0x386),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x37a926(0x658),'name':_0x37a926(0x6d6),'description':_0x37a926(0x878),'icon':_0x37a926(0x1c1)},'QUICK_THINKER':{'id':_0x37a926(0x200),'name':_0x37a926(0x3c6),'description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':_0x37a926(0x3da)},'ON_FIRE':{'id':_0x37a926(0x72b),'name':_0x37a926(0x678),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x37a926(0x2d8)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':_0x37a926(0x150),'description':_0x37a926(0x561),'icon':_0x37a926(0xf8)},'COMEBACK_KING':{'id':_0x37a926(0x71d),'name':_0x37a926(0x7d5),'description':_0x37a926(0x3a9),'icon':_0x37a926(0x67a)},'SPECIALIST':{'id':_0x37a926(0x28f),'name':'ผู้เชี่ยวชาญ','description':_0x37a926(0x19a),'icon':_0x37a926(0x22b)},'PERSEVERANCE':{'id':_0x37a926(0x3c7),'name':_0x37a926(0x448),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x37a926(0x4d5)}},firebaseConfig={'apiKey':_0x37a926(0x152),'authDomain':_0x37a926(0x797),'projectId':_0x37a926(0x56e),'storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':_0x37a926(0x2b3),'appId':_0x37a926(0x321),'measurementId':_0x37a926(0x158)},appId=typeof __app_id!=='undefined'?__app_id:_0x37a926(0x680),adminView=document[_0x37a926(0x2a6)](_0x37a926(0x5c9)),studentView=document['getElementById'](_0x37a926(0x7fb)),projectDashboardView=document[_0x37a926(0x2a6)](_0x37a926(0x401)),projectDetailView=document['getElementById'](_0x37a926(0x810)),quizResultsView=document[_0x37a926(0x2a6)](_0x37a926(0x2e1)),projectList=document[_0x37a926(0x2a6)]('project-list'),noProjectsMsg=document[_0x37a926(0x2a6)]('no-projects-msg'),projectTitle=document['getElementById'](_0x37a926(0x76e)),projectIdDisplay=document['getElementById']('project-id-display'),studentList=document[_0x37a926(0x2a6)]('student-list'),messageModal=document[_0x37a926(0x2a6)](_0x37a926(0x2ea)),modalMessage=document[_0x37a926(0x2a6)](_0x37a926(0x7f2)),createProjectModal=document[_0x37a926(0x2a6)](_0x37a926(0x532)),adminPasswordModal=document[_0x37a926(0x2a6)](_0x37a926(0x547)),confirmationModal=document[_0x37a926(0x2a6)](_0x37a926(0x36a)),userIdDisplay=document[_0x37a926(0x2a6)]('user-id-display'),topicTab=document[_0x37a926(0x2a6)](_0x37a926(0x874)),textTab=document[_0x37a926(0x2a6)](_0x37a926(0x644)),topicInputArea=document['getElementById'](_0x37a926(0x882)),textInputArea=document[_0x37a926(0x2a6)](_0x37a926(0x45a)),manageTab=document['getElementById']('manage-tab'),resultsTab=document[_0x37a926(0x2a6)](_0x37a926(0x186)),leaderboardTab=document[_0x37a926(0x2a6)](_0x37a926(0x5c7)),manageTabContent=document[_0x37a926(0x2a6)]('manage-tab-content'),resultsTabContent=document[_0x37a926(0x2a6)](_0x37a926(0x545)),leaderboardTabContent=document['getElementById'](_0x37a926(0x1b6)),projectQuizzesList=document[_0x37a926(0x2a6)](_0x37a926(0x38c)),fileTab=document['getElementById'](_0x37a926(0x2a9)),fileInputArea=document['getElementById'](_0x37a926(0x37e)),fileUploadInput=document['getElementById']('file-upload-input'),worksheetTab=document['getElementById']('worksheet-tab'),worksheetInputArea=document[_0x37a926(0x2a6)](_0x37a926(0x772)),generateWorksheetBtn=document['getElementById']('generate-worksheet-btn'),studentInitialView=document[_0x37a926(0x2a6)](_0x37a926(0x3c9)),studentNameSelectionView=document['getElementById'](_0x37a926(0x3be)),studentQuizArea=document[_0x37a926(0x2a6)]('student-quiz-area'),studentResultArea=document['getElementById'](_0x37a926(0x371)),studentReadingArea=document['getElementById']('student-reading-area'),loadQuizBtn=document[_0x37a926(0x2a6)](_0x37a926(0x6b5)),startQuizBtn=document[_0x37a926(0x2a6)](_0x37a926(0x2fb)),studentJoinGameView=document['getElementById'](_0x37a926(0x849)),presentationModal=document['getElementById'](_0x37a926(0x588)),renameQuizModal=document[_0x37a926(0x2a6)]('rename-quiz-modal'),moveQuizModal=document[_0x37a926(0x2a6)]('move-quiz-modal'),quizSettingsModal=document[_0x37a926(0x2a6)](_0x37a926(0x3ac)),quizStatusModal=document['getElementById'](_0x37a926(0x245)),liveGameView=document['getElementById'](_0x37a926(0x1f3));function handleAutoFixLatex(){const _0x25c9a4=_0x37a926,_0x2c0016=document[_0x25c9a4(0x2a6)](_0x25c9a4(0x4cc))||document,_0x1b0fe4=_0x2c0016[_0x25c9a4(0x574)]([_0x25c9a4(0x39c),_0x25c9a4(0x5a2),_0x25c9a4(0x1fc),_0x25c9a4(0x2cb),_0x25c9a4(0x783),'label','.choice-text',_0x25c9a4(0x837),_0x25c9a4(0x10e)][_0x25c9a4(0x43d)](','));let _0x128da4=0x0;const _0x290998=_0x37d930=>'value'in _0x37d930?String(_0x37d930[_0x25c9a4(0x464)]):_0x37d930[_0x25c9a4(0x66c)]!==undefined?_0x37d930['innerText']:_0x37d930[_0x25c9a4(0x523)]||'',_0x56ba91=(_0x3e9512,_0x1e17ae)=>{const _0x2ba5a8=_0x25c9a4;if(_0x2ba5a8(0x464)in _0x3e9512){_0x3e9512['value']=_0x1e17ae;return;}if(_0x3e9512[_0x2ba5a8(0x8cb)]&&_0x3e9512[_0x2ba5a8(0x8cb)](_0x2ba5a8(0x3d2)))return;if(_0x3e9512[_0x2ba5a8(0x66c)]!==undefined)_0x3e9512[_0x2ba5a8(0x66c)]=_0x1e17ae;else _0x3e9512[_0x2ba5a8(0x523)]=_0x1e17ae;},_0x44d95c=_0x142538=>_0x142538[_0x25c9a4(0x575)](/\u00A0/g,'\x20')[_0x25c9a4(0x575)](/\u200B/g,'')[_0x25c9a4(0x575)](/\r\n?/g,'\x0a'),_0x2e98e9=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x29bd85=_0x422660=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x422660),_0x42cece=_0x3b3f45=>{const _0x4d4422=_0x25c9a4,_0x3c3d17=(_0x3b3f45[_0x4d4422(0x5ce)](/\{/g)||[])['length'],_0xd81ae3=(_0x3b3f45[_0x4d4422(0x5ce)](/\}/g)||[])[_0x4d4422(0x836)];if(_0x3c3d17>_0xd81ae3)_0x3b3f45=_0x3b3f45+'}'[_0x4d4422(0x819)](_0x3c3d17-_0xd81ae3);return _0x3b3f45;},_0x5d0018=_0x1d30a5=>{const _0x2f4b80=_0x25c9a4;let _0x15ca0d=_0x1d30a5[_0x2f4b80(0x451)]();const _0x4f3c4b=['frac','dfrac',_0x2f4b80(0x769),_0x2f4b80(0x509),_0x2f4b80(0x597),_0x2f4b80(0x183),_0x2f4b80(0x442),_0x2f4b80(0x412),_0x2f4b80(0x851),'geq','le','ge',_0x2f4b80(0x2d2),'pm','approx',_0x2f4b80(0x18c),'cos',_0x2f4b80(0x2d1),'log','ln',_0x2f4b80(0x64f),_0x2f4b80(0x485),_0x2f4b80(0x68b),'left','right','overline','underline',_0x2f4b80(0x2c1),'deg'];_0x15ca0d=_0x15ca0d[_0x2f4b80(0x575)](new RegExp(_0x2f4b80(0x2c5)+_0x4f3c4b[_0x2f4b80(0x43d)]('|')+_0x2f4b80(0x71e),'g'),'\x5c'),_0x4f3c4b['forEach'](_0x691247=>{const _0x5d8926=_0x2f4b80;_0x15ca0d=_0x15ca0d[_0x5d8926(0x575)](new RegExp(_0x5d8926(0x296)+_0x691247+'\x5cb','g'),(_0x4a3624,_0x41cb0c)=>_0x41cb0c+'\x5c'+_0x691247);});const _0x3748d5=[[/×/g,_0x2f4b80(0x7cb)],[/·/g,'\x5ccdot'],[/÷/g,_0x2f4b80(0xf9)],[/≤/g,_0x2f4b80(0x1f1)],[/≥/g,_0x2f4b80(0x2d9)],[/≠/g,_0x2f4b80(0x39b)],[/±/g,'\x5cpm'],[/∑/g,_0x2f4b80(0xed)],[/−/g,'-']];_0x3748d5['forEach'](([_0x42aa42,_0x2dfdd1])=>{const _0x330598=_0x2f4b80;_0x15ca0d=_0x15ca0d[_0x330598(0x575)](_0x42aa42,_0x2dfdd1);}),_0x15ca0d=_0x15ca0d[_0x2f4b80(0x575)](/√\s*\(([^)]*)\)/g,_0x2f4b80(0x73a)),_0x15ca0d=_0x15ca0d[_0x2f4b80(0x575)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x15ca0d=_0x15ca0d[_0x2f4b80(0x575)](/(^|[^\\])\bimes\b/g,_0x2f4b80(0x26c))[_0x2f4b80(0x575)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x2f4b80(0xcd))[_0x2f4b80(0x575)](/(^|[^\\])ext\{/g,'$1\x5ctext{')[_0x2f4b80(0x575)](/(^|[^\\])ext\(/g,_0x2f4b80(0x1a3))[_0x2f4b80(0x575)](/\\text\(([^)]*)\)/g,_0x2f4b80(0x78e))[_0x2f4b80(0x575)](/\s\\frac/g,'\x5cfrac'),_0x15ca0d=_0x15ca0d[_0x2f4b80(0x575)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x1d9aa0,_0x267a52,_0x392548,_0x2d7668)=>_0x267a52+_0x2f4b80(0x297)+_0x392548+'}{'+_0x2d7668+'}'),_0x15ca0d=_0x15ca0d[_0x2f4b80(0x575)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x2f4b80(0x3af))[_0x2f4b80(0x575)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x2f4b80(0x3af))[_0x2f4b80(0x575)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,'\x5cfrac{$1}{$2}'),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x2f4b80(0x6a5)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x2f4b80(0x6a5)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x2f4b80(0x6a5)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x2f4b80(0x6a5)],[/(\d+)\s*\^\s*\\?circ\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°\s*C/g,_0x2f4b80(0x6a5)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x2f4b80(0x46e)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x2f4b80(0x6a5)]]['forEach'](([_0xf01ab6,_0x18c3c1])=>{const _0x3383b7=_0x2f4b80;_0x15ca0d=_0x15ca0d[_0x3383b7(0x575)](_0xf01ab6,_0x18c3c1);}),_0x15ca0d=_0x15ca0d[_0x2f4b80(0x575)](/(\d+)\s*%/g,_0x2f4b80(0x151)),_0x15ca0d=_0x15ca0d[_0x2f4b80(0x575)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x2f4b80(0x638))['replace'](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x2f4b80(0x3c4))[_0x2f4b80(0x575)](/\{\{([^\{\}]+)\}\}/g,_0x2f4b80(0x5d7)),[_0x2f4b80(0x18c),_0x2f4b80(0x46f),_0x2f4b80(0x2d1),_0x2f4b80(0x76c),'ln'][_0x2f4b80(0x3dc)](_0x3cee80=>{const _0x122942=_0x2f4b80;_0x15ca0d=_0x15ca0d['replace'](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x3cee80+_0x122942(0x18a),'g'),(_0x22fdbf,_0x4eeef7)=>_0x4eeef7+'\x5c'+_0x3cee80+'(');});const _0x24cb04=(_0x15ca0d[_0x2f4b80(0x5ce)](/\\left\b/g)||[])[_0x2f4b80(0x836)],_0x227706=(_0x15ca0d[_0x2f4b80(0x5ce)](/\\right\b/g)||[])[_0x2f4b80(0x836)];if(_0x24cb04!==_0x227706)_0x15ca0d=_0x15ca0d['replace'](/\\left\b/g,'')[_0x2f4b80(0x575)](/\\right\b/g,'');return _0x15ca0d=_0x42cece(_0x15ca0d),_0x15ca0d;},_0x471f6f=_0x13f9bc=>{const _0x18090a=_0x25c9a4;if(/\$|\\\(|\\\[/[_0x18090a(0x7c4)](_0x13f9bc))return _0x13f9bc;if(!_0x2e98e9[_0x18090a(0x7c4)](_0x13f9bc))return _0x13f9bc;const _0xb3f905=_0x13f9bc[_0x18090a(0x5ce)](/^\s*/)[0x0],_0x2f77da=_0x13f9bc[_0x18090a(0x5ce)](/\s*$/)[0x0],_0x45ce91=_0x13f9bc[_0x18090a(0x451)]();return _0xb3f905+'$'+_0x5d0018(_0x45ce91)+'$'+_0x2f77da;},_0xf27a2a=_0x56e81f=>_0x56e81f[_0x25c9a4(0x20f)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x1b0fe4[_0x25c9a4(0x3dc)](_0x696a51=>{const _0x1705b9=_0x25c9a4;if(_0x696a51[_0x1705b9(0x8cb)]&&_0x696a51['querySelector'](_0x1705b9(0x3d2)))return;const _0x2564ba=_0x290998(_0x696a51);let _0xee7c5f=_0x44d95c(_0x2564ba);_0xee7c5f=_0xee7c5f[_0x1705b9(0x575)](/\$\$([\s\S]*?)\$\$/g,(_0x474724,_0x43353d)=>'$$'+_0x5d0018(_0x43353d)+'$$')[_0x1705b9(0x575)](/\$([^$]*?)\$/g,(_0x6c9461,_0x15d58d)=>'$'+_0x5d0018(_0x15d58d)+'$')[_0x1705b9(0x575)](/\\\(([\s\S]*?)\\\)/g,(_0x15d66e,_0x3e66d2)=>'\x5c('+_0x5d0018(_0x3e66d2)+'\x5c)')[_0x1705b9(0x575)](/\\\[([\s\S]*?)\\\]/g,(_0x28b05b,_0x5082f3)=>'\x5c['+_0x5d0018(_0x5082f3)+'\x5c]');let _0x5d7fe1=_0xee7c5f,_0x16e546=0x0;const _0x3e35b8=_0x286916=>_0x286916[_0x1705b9(0x575)](/S([^S]{0,2000}?)S/g,(_0xe2e441,_0x3ff854)=>_0x2e98e9['test'](_0x3ff854)?'$'+_0x5d0018(_0x3ff854)+'$':_0xe2e441);while(_0x16e546++<0x14){const _0x20ca95=_0x3e35b8(_0x5d7fe1);if(_0x20ca95===_0x5d7fe1)break;_0x5d7fe1=_0x20ca95;}_0xee7c5f=_0x5d7fe1,_0xee7c5f=_0xee7c5f['split']('\x0a')['map'](_0x16d986=>{const _0x5577d4=_0x1705b9;if(!(/[,\u3001，;；]/['test'](_0x16d986)||/\s(?:และ|หรือ)\s/[_0x5577d4(0x7c4)](_0x16d986))||!_0x2e98e9[_0x5577d4(0x7c4)](_0x16d986))return _0x16d986;return _0xf27a2a(_0x16d986)[_0x5577d4(0x4b9)](_0x475b48=>{const _0x2c5fbb=_0x5577d4;if(/^\s(?:และ|หรือ)\s$/[_0x2c5fbb(0x7c4)](_0x475b48)||/^[,\u3001，;；]$/[_0x2c5fbb(0x7c4)](_0x475b48))return _0x475b48;return _0x471f6f(_0x475b48);})[_0x5577d4(0x43d)]('');})[_0x1705b9(0x43d)]('\x0a'),_0xee7c5f=_0xee7c5f[_0x1705b9(0x20f)]('\x0a')[_0x1705b9(0x4b9)](_0x5077a1=>{const _0x119caa=_0x1705b9,_0xa73b26=_0x5077a1['trim']();if(!_0xa73b26)return _0x5077a1;const _0x2f4944=/\$|\\\(|\\\[/[_0x119caa(0x7c4)](_0xa73b26),_0x2f3c00=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x119caa(0x7c4)](_0xa73b26);if(_0x2f4944||!_0x2f3c00||_0x29bd85(_0xa73b26))return _0x5077a1;return _0x5077a1[_0x119caa(0x575)](_0xa73b26,'$'+_0x5d0018(_0xa73b26)+'$');})[_0x1705b9(0x43d)]('\x0a'),_0xee7c5f=_0xee7c5f[_0x1705b9(0x575)](/(\d+)\s*°\s*C\b/g,(_0x43015a,_0x2ad8f1,_0x38b87f,_0x53d02c)=>{const _0x566b51=_0x53d02c[_0x38b87f-0x1];if(_0x566b51==='$'||_0x566b51==='S'||_0x566b51==='\x5c')return _0x43015a;return'$'+_0x2ad8f1+'^{\x5ccirc}\x5ctext{C}$';})[_0x1705b9(0x575)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x10c7c0,_0xf1c71,_0x1e0671,_0x31d1b9)=>{const _0x4d69b5=_0x1705b9,_0x1ee2eb=_0x31d1b9[_0x1e0671-0x1];if(_0x1ee2eb==='$'||_0x1ee2eb==='S'||_0x1ee2eb==='\x5c')return _0x10c7c0;return'$'+_0xf1c71+_0x4d69b5(0x898);})[_0x1705b9(0x575)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x246a2a,_0x157c1b,_0x19475f,_0x3c1391)=>{const _0x1edacc=_0x3c1391[_0x19475f-0x1];if(_0x1edacc==='$'||_0x1edacc==='S'||_0x1edacc==='\x5c')return _0x246a2a;return'$'+_0x157c1b+'^{\x5ccirc}\x5ctext{C}$';}),_0xee7c5f=_0xee7c5f[_0x1705b9(0x575)](/\$\s*\$/g,'$$'),_0xee7c5f!==_0x2564ba&&(_0x56ba91(_0x696a51,_0xee7c5f),_0x128da4++);});if(_0x128da4>0x0){showMessage(_0x25c9a4(0x361)+_0x128da4+_0x25c9a4(0x32f));try{if(window[_0x25c9a4(0x86f)]&&MathJax[_0x25c9a4(0x133)])MathJax[_0x25c9a4(0x133)]();window[_0x25c9a4(0x4a8)]&&typeof renderMathInElement===_0x25c9a4(0x52e)&&renderMathInElement(_0x2c0016,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x12e148){}}else showMessage(_0x25c9a4(0x2b9));}async function listenForCustomMathTopics(){const _0x521899=_0x37a926,_0x36415c=collection(db,_0x521899(0x11a)+appId+_0x521899(0x28d));onSnapshot(_0x36415c,_0x1727b4=>{const _0x2c41f4=_0x521899;customMathTopics=_0x1727b4[_0x2c41f4(0x239)][_0x2c41f4(0x4b9)](_0x23b1f6=>({'id':_0x23b1f6['id'],..._0x23b1f6[_0x2c41f4(0x7a8)]()})),renderTopicCheckboxes();},_0x41b881=>{const _0x1c8dcb=_0x521899;console[_0x1c8dcb(0x804)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x41b881);});}function handleSelectAllTopics(){const _0x16b6f0=_0x37a926,_0x5e1e8f=document[_0x16b6f0(0x2a6)](_0x16b6f0(0x53f)),_0x5011ed=_0x5e1e8f['querySelectorAll'](_0x16b6f0(0x248));_0x5011ed['forEach'](_0x2ed83e=>{_0x2ed83e['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x120c50=_0x37a926,_0x3bbf73=document[_0x120c50(0x2a6)]('math-topics-checkbox-container'),_0x15dab1=_0x3bbf73[_0x120c50(0x574)]('input[type=\x22checkbox\x22]');_0x15dab1['forEach'](_0x21d9d8=>{_0x21d9d8['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x38c175){const _0x438ca6=_0x37a926;if(!_0x38c175)return;try{const _0x149ac4=doc(db,_0x438ca6(0x11a)+appId+_0x438ca6(0x28d),_0x38c175);await deleteDoc(_0x149ac4),showMessage(_0x438ca6(0x1d2));}catch(_0x313aea){console['error'](_0x438ca6(0x298),_0x313aea),showMessage(_0x438ca6(0xfd));}}async function handleAddCustomMathTopic(){const _0x436346=_0x37a926,_0x5693ca=document[_0x436346(0x2a6)](_0x436346(0x34b)),_0x382bf5=_0x5693ca['value'][_0x436346(0x451)]();if(!_0x382bf5){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x436346(0x79f));return;}try{const _0x2bdda3=collection(db,'artifacts/'+appId+_0x436346(0x28d));await addDoc(_0x2bdda3,{'name':_0x382bf5,'createdAt':serverTimestamp()}),_0x5693ca[_0x436346(0x464)]='',showMessage(_0x436346(0x614)+_0x382bf5+_0x436346(0x8b4));}catch(_0x28d7d0){console['error']('Error\x20adding\x20custom\x20topic:',_0x28d7d0),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x1a7f96=_0x37a926;showConfirmation(_0x1a7f96(0x3b8),async()=>{const _0x47e439=_0x1a7f96,_0x44bcaa=document[_0x47e439(0x2a6)](_0x47e439(0x1e5)),_0x59a942=document['getElementById'](_0x47e439(0x720)),_0x48443e=_0x59a942[_0x47e439(0x523)];_0x44bcaa[_0x47e439(0x4a7)][_0x47e439(0x578)](_0x47e439(0x17a)),_0x59a942[_0x47e439(0x523)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x3e87f7=collection(db,'artifacts/'+appId+_0x47e439(0x22e)),_0x4efbb1=await getDocs(_0x3e87f7);if(_0x4efbb1[_0x47e439(0x5a0)]){showMessage(_0x47e439(0xd0));return;}const _0x4fabc8=writeBatch(db);let _0x21b5bb=0x0;_0x4efbb1[_0x47e439(0x3dc)](_0x428ae2=>{const _0x579e41=_0x47e439,_0x53387c=_0x428ae2[_0x579e41(0x7a8)](),_0xcd3c78=_0x428ae2['id'];if(_0x53387c[_0x579e41(0x5fc)]&&_0x53387c['questions'][_0x579e41(0x836)]>0x0&&!_0x53387c[_0x579e41(0x5fc)][0x0][_0x579e41(0x362)]('id')){console[_0x579e41(0x76c)]('พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20'+_0xcd3c78+'\x20('+_0x53387c['topic']+')'),_0x21b5bb++;const _0x239885=_0x53387c[_0x579e41(0x5fc)]['map']((_0x2ef97f,_0x1e8342)=>{const _0x39bc5a=_0x579e41;return{..._0x2ef97f,'id':_0x2ef97f['id']||'q_'+Date[_0x39bc5a(0x167)]()+'_'+_0xcd3c78+'_'+_0x1e8342};}),_0x20fbc1=doc(db,_0x579e41(0x11a)+appId+_0x579e41(0x22e),_0xcd3c78);_0x4fabc8[_0x579e41(0x5d5)](_0x20fbc1,{'questions':_0x239885});}}),_0x21b5bb>0x0?(_0x59a942[_0x47e439(0x523)]=_0x47e439(0x156)+_0x21b5bb+_0x47e439(0x6e1),await _0x4fabc8[_0x47e439(0x57c)](),showMessage(_0x47e439(0x131)+_0x21b5bb+_0x47e439(0x66e))):showMessage(_0x47e439(0x897));}catch(_0x275f8c){console[_0x47e439(0x804)](_0x47e439(0x848),_0x275f8c),showMessage(_0x47e439(0x460)+_0x275f8c['message']);}finally{_0x44bcaa[_0x47e439(0x4a7)][_0x47e439(0x381)](_0x47e439(0x17a)),_0x59a942[_0x47e439(0x523)]=_0x48443e;}});}async function handleBulkUpdateQuizSettings(){const _0x185d03=_0x37a926,_0x1ef254={'shuffle':document[_0x185d03(0x2a6)](_0x185d03(0x554))[_0x185d03(0x464)],'resultsDisplay':document['getElementById']('bulk-results-display-select')['value'],'loopUntilPass':document[_0x185d03(0x2a6)](_0x185d03(0x425))[_0x185d03(0x4ce)]},_0x5d2457=allQuizzesGlobal['length'];showConfirmation(_0x185d03(0x3b0)+_0x5d2457+'\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x245f29=_0x185d03,_0x9ff429=document[_0x245f29(0x2a6)]('confirm-bulk-quiz-settings-btn');_0x9ff429[_0x245f29(0x108)]=!![],_0x9ff429[_0x245f29(0x7b0)]=_0x245f29(0x616);try{const _0x3aa3ec=writeBatch(db);allQuizzesGlobal[_0x245f29(0x3dc)](_0x2e0176=>{const _0x10d4f0=_0x245f29,_0x461887=doc(db,_0x10d4f0(0x11a)+appId+_0x10d4f0(0x22e),_0x2e0176['id']),_0xcb715b={..._0x2e0176[_0x10d4f0(0x74a)]||{},..._0x1ef254};_0x3aa3ec['update'](_0x461887,{'settings':_0xcb715b});}),await _0x3aa3ec[_0x245f29(0x57c)](),document[_0x245f29(0x2a6)](_0x245f29(0x31e))[_0x245f29(0x4a7)]['add'](_0x245f29(0x17a)),showMessage(_0x245f29(0x6bc)+_0x5d2457+'\x20ชุดสำเร็จ!');}catch(_0x40ac58){console[_0x245f29(0x804)](_0x245f29(0xbd),_0x40ac58),showMessage('เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด');}finally{_0x9ff429[_0x245f29(0x108)]=![],_0x9ff429[_0x245f29(0x7b0)]=_0x245f29(0x6c3);}});}async function handleSaveProjectName(){const _0x3ea0e8=_0x37a926,_0x3ea23b=document[_0x3ea0e8(0x2a6)](_0x3ea0e8(0x76e)),_0x1e0087=document[_0x3ea0e8(0x2a6)](_0x3ea0e8(0x177)),_0x961f2c=_0x3ea23b['textContent']['trim']();if(!_0x961f2c||!currentProjectId){showMessage(_0x3ea0e8(0x75b)),_0x3ea23b[_0x3ea0e8(0x523)]=currentProjectData[_0x3ea0e8(0x6b7)];return;}_0x1e0087['disabled']=!![],_0x1e0087[_0x3ea0e8(0x7b0)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x5a55ca=doc(db,_0x3ea0e8(0x11a)+appId+_0x3ea0e8(0x53a),currentProjectId);await updateDoc(_0x5a55ca,{'projectName':_0x961f2c}),currentProjectData&&(currentProjectData[_0x3ea0e8(0x6b7)]=_0x961f2c),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x783304){console[_0x3ea0e8(0x804)](_0x3ea0e8(0x2cf),_0x783304),showMessage('เกิดข้อผิดพลาดในการบันทึก'),_0x3ea23b[_0x3ea0e8(0x523)]=currentProjectData[_0x3ea0e8(0x6b7)];}finally{_0x1e0087[_0x3ea0e8(0x4a7)][_0x3ea0e8(0x381)]('hidden'),_0x1e0087[_0x3ea0e8(0x108)]=![],_0x1e0087['innerHTML']='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}async function initialize(){const _0x473117=_0x37a926;try{const _0xd11cac=initializeApp(firebaseConfig);db=getFirestore(_0xd11cac),auth=getAuth(_0xd11cac),setupAuthListener(),setupEventListeners(),showView(_0x473117(0x5ad)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x105577){console['error'](_0x473117(0x34e),_0x105577),showMessage(_0x473117(0x879));}}async function handleVerifyAnswersInEditor(){const _0x5b0443=_0x37a926,_0x492e2=document[_0x5b0443(0x2a6)](_0x5b0443(0x67c));if(!_0x492e2)return;const _0x31e200=document[_0x5b0443(0x2a6)]('verify-answers-editor-btn');_0x31e200['disabled']=!![],_0x31e200['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x4542ee=_0x492e2[_0x5b0443(0x574)](_0x5b0443(0x54a)),_0x247a76=Array[_0x5b0443(0x585)](_0x4542ee)['map']((_0x41c180,_0x1fd058)=>{const _0x5f21ca=_0x5b0443,_0x2eacd0=_0x41c180[_0x5f21ca(0x7b3)][_0x5f21ca(0x7f3)],_0x173ffc=_0x41c180['querySelector'](_0x5f21ca(0x39c))[_0x5f21ca(0x464)];let _0x7dc0a1=null,_0x46b502='';switch(_0x2eacd0){case _0x5f21ca(0x149):const _0x37de95=_0x41c180[_0x5f21ca(0x574)](_0x5f21ca(0x5a2));_0x7dc0a1=Array[_0x5f21ca(0x585)](_0x37de95)[_0x5f21ca(0x4b9)](_0x30b72f=>_0x30b72f[_0x5f21ca(0x464)]);const _0xaf8c64=_0x41c180[_0x5f21ca(0x8cb)]('input[type=\x22radio\x22]:checked');_0xaf8c64&&(_0x46b502=_0x7dc0a1[parseInt(_0xaf8c64[_0x5f21ca(0x464)])]);break;case'short_answer':_0x46b502=_0x41c180['querySelector'](_0x5f21ca(0x4a0))[_0x5f21ca(0x464)];break;case _0x5f21ca(0x27a):const _0xbc0457=_0x41c180['querySelector'](_0x5f21ca(0x3c2));_0x46b502=_0xbc0457?_0xbc0457[_0x5f21ca(0x464)]:'';break;case _0x5f21ca(0x726):_0x46b502=_0x41c180[_0x5f21ca(0x8cb)]('.correct-response-input')[_0x5f21ca(0x464)];break;}return{'question':_0x173ffc,'options':_0x7dc0a1,'proposedAnswer':_0x46b502};}),_0x2ebda1=_0x5b0443(0x880)+JSON[_0x5b0443(0x471)](_0x247a76)+_0x5b0443(0x44b),_0x38bcb7={'type':'ARRAY','items':{'type':_0x5b0443(0x7e6),'properties':{'questionIndex':{'type':_0x5b0443(0x82a)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x5b0443(0x787)},'suggestedAnswer':{'type':_0x5b0443(0x787)}},'required':[_0x5b0443(0x1b1),_0x5b0443(0x894),'justification']}},_0xf00f43=await callAnalysisApi(_0x2ebda1,{'type':_0x5b0443(0x7e6),'properties':{'result':_0x38bcb7},'required':[_0x5b0443(0x319)]});displayVerificationResultsInEditor(_0xf00f43['result']);}catch(_0x478a3d){console[_0x5b0443(0x804)](_0x5b0443(0x293),_0x478a3d),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x31e200['disabled']=![],_0x31e200[_0x5b0443(0x7b0)]=_0x5b0443(0x8b3);}}function displayVerificationResultsInEditor(_0x336380){const _0x26a51e=_0x37a926;_0x336380['forEach'](_0x5578ad=>{const _0x9987ed=_0x34b5,_0x1d1453=document[_0x9987ed(0x8cb)](_0x9987ed(0x218)+_0x5578ad[_0x9987ed(0x1b1)]+'\x22]');if(_0x1d1453){const _0x3f4a11=_0x1d1453[_0x9987ed(0x8cb)](_0x9987ed(0x437));if(_0x3f4a11)_0x3f4a11[_0x9987ed(0x578)]();let _0x425a78='';_0x5578ad[_0x9987ed(0x894)]?_0x425a78=_0x9987ed(0x428):_0x425a78=_0x9987ed(0x27f)+_0x5578ad[_0x9987ed(0x358)]+_0x9987ed(0x88b)+(_0x5578ad[_0x9987ed(0x410)]?_0x9987ed(0x23a)+_0x5578ad[_0x9987ed(0x410)]+_0x9987ed(0x44d):'')+_0x9987ed(0x30e),_0x1d1453['insertAdjacentHTML'](_0x9987ed(0x220),_0x425a78);}}),showMessage(_0x26a51e(0x7d1));}async function handleVerifyAnswers(){const _0x442f06=_0x37a926;if(!currentQuizData||!currentQuizData[_0x442f06(0x5fc)]){showMessage(_0x442f06(0x1a6));return;}const _0xd4d0de=document['getElementById'](_0x442f06(0x78b));_0xd4d0de[_0x442f06(0x108)]=!![],_0xd4d0de[_0x442f06(0x7b0)]=_0x442f06(0xf3);try{const _0x281c85=currentQuizData['questions'][_0x442f06(0x4b9)]((_0x12975f,_0x251642)=>{const _0x14eee2=_0x442f06;let _0x44e276='';const _0x4c0011=_0x12975f['questionType']||currentQuizData[_0x14eee2(0x1bc)];switch(_0x4c0011){case _0x14eee2(0x149):_0x44e276=_0x12975f[_0x14eee2(0x60d)][_0x12975f[_0x14eee2(0x61d)]];break;case _0x14eee2(0x602):_0x44e276=_0x12975f['idealAnswer'];break;case _0x14eee2(0x27a):_0x44e276=_0x12975f[_0x14eee2(0x348)][_0x14eee2(0x6d8)]();break;case _0x14eee2(0x726):_0x44e276=_0x12975f[_0x14eee2(0x37b)];break;}return{'question':_0x12975f[_0x14eee2(0x308)]||_0x12975f[_0x14eee2(0x1df)],'options':_0x12975f['options']||null,'proposedAnswer':_0x44e276};}),_0x15f912=_0x442f06(0x701)+JSON[_0x442f06(0x471)](_0x281c85)+_0x442f06(0x260),_0x4d6a9f={'type':_0x442f06(0x864),'items':{'type':_0x442f06(0x7e6),'properties':{'questionIndex':{'type':_0x442f06(0x82a)},'isCorrect':{'type':_0x442f06(0x736)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x442f06(0x787)}},'required':[_0x442f06(0x1b1),'isCorrect','justification']}},_0x4f86e1=await callAnalysisApi(_0x15f912,{'type':_0x442f06(0x7e6),'properties':{'result':_0x4d6a9f},'required':[_0x442f06(0x319)]});displayVerificationResults(_0x4f86e1[_0x442f06(0x319)]);}catch(_0x582bda){console[_0x442f06(0x804)](_0x442f06(0x2c9),_0x582bda),showMessage(_0x442f06(0x3cf));}finally{_0xd4d0de[_0x442f06(0x108)]=![],_0xd4d0de['innerHTML']=_0x442f06(0x33a);}}function displayVerificationResults(_0x430616){const _0x234e9d=_0x37a926;_0x430616[_0x234e9d(0x3dc)](_0x280e3c=>{const _0x41fe40=_0x234e9d,_0x47707f=document[_0x41fe40(0x8cb)](_0x41fe40(0x444)+_0x280e3c[_0x41fe40(0x1b1)]+'\x22]');if(_0x47707f){const _0x15b7a9=_0x47707f[_0x41fe40(0x8cb)]('.verification-result');if(_0x15b7a9)_0x15b7a9[_0x41fe40(0x578)]();let _0x5dbf31='';_0x280e3c[_0x41fe40(0x894)]?_0x5dbf31=_0x41fe40(0x3c1):_0x5dbf31=_0x41fe40(0x5be)+_0x280e3c[_0x41fe40(0x358)]+_0x41fe40(0x88b)+(_0x280e3c['suggestedAnswer']?_0x41fe40(0x23a)+_0x280e3c['suggestedAnswer']+_0x41fe40(0x44d):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x47707f[_0x41fe40(0x7ca)](_0x41fe40(0x220),_0x5dbf31);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x2078bb,_0x15705a){const _0x48d649=_0x37a926,_0x3aaaaf=String(_0x2078bb)[_0x48d649(0x575)](',','.')[_0x48d649(0x575)](/[^\d.-]/g,'')[_0x48d649(0x451)](),_0x88078c=String(_0x15705a)[_0x48d649(0x575)](',','.')['replace'](/[^\d.-]/g,'')[_0x48d649(0x451)]();if(_0x3aaaaf===''||_0x88078c==='')return![];const _0x3184b0=parseFloat(_0x3aaaaf),_0x572174=parseFloat(_0x88078c);if(isNaN(_0x3184b0)||isNaN(_0x572174))return![];return Math[_0x48d649(0x10d)](_0x3184b0-_0x572174)<0.001;}async function gradeShortAnswer(_0x2b9c2b,_0x2eaaa1){const _0x1a62d5=_0x37a926,_0x3f401b=_0x2eaaa1['idealAnswer'];if(String(_0x2b9c2b)[_0x1a62d5(0x451)]()[_0x1a62d5(0x7fc)]()===String(_0x3f401b)[_0x1a62d5(0x451)]()[_0x1a62d5(0x7fc)]())return!![];if(compareNumericalAnswers(_0x2b9c2b,_0x3f401b))return!![];return console['log'](_0x1a62d5(0x2b8)),await gradeShortAnswerWithAI(_0x2b9c2b,_0x3f401b);}async function revealAnswerForAdmin(_0x18912f,_0x20c271){const _0x4dc36b=_0x37a926,_0x3b07c2=doc(db,_0x4dc36b(0x11a)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x3b07c2,{'questionStatus':_0x4dc36b(0x4ca)});}function showTop5LeaderboardView(_0x26735c){const _0xe393ff=_0x37a926,_0x10e371=Object[_0xe393ff(0x87a)](_0x26735c[_0xe393ff(0x441)]||{})['filter'](_0x33d2c9=>_0x33d2c9[_0xe393ff(0x140)]===_0xe393ff(0x2aa));_0x10e371[_0xe393ff(0x8b6)]((_0x354da6,_0x1b951e)=>_0x1b951e['score']-_0x354da6[_0xe393ff(0x4b1)]);const _0x519eb3=_0x10e371[_0xe393ff(0x314)](0x0,0x5),_0x342e01=_0xe393ff(0x583)+_0x519eb3[_0xe393ff(0x4b9)]((_0x4ee5cd,_0x17b96f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x17b96f+0x1)+'.\x20'+(_0x4ee5cd[_0xe393ff(0x1bd)]||Object['keys'](_0x26735c[_0xe393ff(0x441)])[_0xe393ff(0x288)](_0x436160=>_0x26735c[_0xe393ff(0x441)][_0x436160]===_0x4ee5cd))+_0xe393ff(0x6c6)+_0x4ee5cd[_0xe393ff(0x4b1)]+_0xe393ff(0x495))[_0xe393ff(0x43d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x26735c['currentQuestionIndex']+0x1===currentQuizData[_0xe393ff(0x5fc)]['length']?_0xe393ff(0xc4):'ข้อต่อไป')+_0xe393ff(0x25b);liveGameView[_0xe393ff(0x7b0)]=_0x342e01,document[_0xe393ff(0x2a6)](_0xe393ff(0x6fc))['addEventListener'](_0xe393ff(0x69e),async()=>{const _0x1e746c=_0xe393ff,_0x5e1ca6=doc(db,_0x1e746c(0x11a)+appId+_0x1e746c(0x217),currentLiveGameId),_0x3de6bf=_0x26735c['currentQuestionIndex']+0x1;if(_0x3de6bf<currentQuizData[_0x1e746c(0x5fc)][_0x1e746c(0x836)]){const _0x59c89c={'currentQuestionIndex':_0x3de6bf,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x1e746c(0x6e3)};Object[_0x1e746c(0x5bc)](_0x26735c[_0x1e746c(0x441)])[_0x1e746c(0x3dc)](_0x218282=>{const _0x529b52=_0x1e746c;_0x59c89c[_0x529b52(0x4c1)+_0x218282+'.answeredCurrentQuestion']=![];}),await updateDoc(_0x5e1ca6,_0x59c89c);}else await updateDoc(_0x5e1ca6,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x5dc397=>{const _0x26b88a=_0x34b5;if(_0x5dc397){userId=_0x5dc397['uid'],userIdDisplay[_0x26b88a(0x523)]=userId;const _0x4fda8=await loadUserPreferences();_0x4fda8['projectSortOrder']&&(document[_0x26b88a(0x2a6)](_0x26b88a(0x6f9))[_0x26b88a(0x464)]=_0x4fda8[_0x26b88a(0x790)]);globalDashboardSettings[_0x26b88a(0x42d)]=_0x4fda8[_0x26b88a(0x42d)]||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x1328de,_0xe7b779){const _0x51a0ac=_0x37a926;if(!userId)return;try{const _0x6562d9=doc(db,_0x51a0ac(0x11a)+appId+_0x51a0ac(0x489)+userId+_0x51a0ac(0x33f)),_0x38ed1a={};_0x38ed1a[_0x1328de]=_0xe7b779,await setDoc(_0x6562d9,_0x38ed1a,{'merge':!![]});}catch(_0x1c27b0){console[_0x51a0ac(0x804)]('Error\x20saving\x20user\x20preference:',_0x1c27b0);}}async function loadUserPreferences(){const _0x3fb29f=_0x37a926;if(!userId)return{};try{const _0x533a8b=doc(db,'artifacts/'+appId+_0x3fb29f(0x489)+userId+'/preferences/main'),_0x57e424=await getDoc(_0x533a8b);if(_0x57e424['exists']())return _0x57e424['data']();return{};}catch(_0x22b4b9){return console[_0x3fb29f(0x804)](_0x3fb29f(0x2ee),_0x22b4b9),{};}}function showPodiumView(_0x568474){const _0x3dfe62=_0x37a926,_0x5a273a=Object['entries'](_0x568474)[_0x3dfe62(0x4b9)](([_0x1da9be,_0x510e31])=>({'name':_0x1da9be,'score':_0x510e31['score']||0x0,'badges':_0x510e31[_0x3dfe62(0x733)]||[]}));_0x5a273a['sort']((_0x1444e3,_0x52f7cc)=>{const _0x5f036c=_0x3dfe62,_0x500b22=_0x52f7cc[_0x5f036c(0x4b1)]-_0x1444e3[_0x5f036c(0x4b1)];if(_0x500b22!==0x0)return _0x500b22;return(_0x52f7cc[_0x5f036c(0x733)][_0x5f036c(0x836)]||0x0)-(_0x1444e3[_0x5f036c(0x733)][_0x5f036c(0x836)]||0x0);});const _0x55d3bc=_0x110ecf=>{const _0x1f555f=_0x3dfe62;if(!_0x110ecf||_0x110ecf['length']===0x0)return'';const _0x247c0c={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x1f555f(0x48c)+_0x110ecf[_0x1f555f(0x4b9)](_0x302b1f=>_0x247c0c[_0x302b1f]||'')[_0x1f555f(0x43d)]('')+_0x1f555f(0x631);},_0x5f585e=_0x5a273a[_0x3dfe62(0x314)](0x3),_0x560dcb=_0x5f585e[_0x3dfe62(0x836)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5f585e[_0x3dfe62(0x4b9)]((_0x947f7,_0x6a088e)=>_0x3dfe62(0x4d3)+(_0x6a088e+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x947f7[_0x3dfe62(0x1bd)]+_0x3dfe62(0x3ef)+_0x947f7[_0x3dfe62(0x4b1)]+_0x3dfe62(0x79a))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0x29b69c=_0x3dfe62(0x53c)+(_0x5a273a[0x1]?_0x3dfe62(0x2ef)+_0x5a273a[0x1]['name']+_0x3dfe62(0x805)+_0x55d3bc(_0x5a273a[0x1][_0x3dfe62(0x733)])+_0x3dfe62(0x1d5)+_0x5a273a[0x1][_0x3dfe62(0x4b1)]+_0x3dfe62(0x17d):'<div\x20class=\x22flex-1\x22></div>')+_0x3dfe62(0x228)+(_0x5a273a[0x0]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x5a273a[0x0][_0x3dfe62(0x1bd)]+_0x3dfe62(0x805)+_0x55d3bc(_0x5a273a[0x0]['badges'])+_0x3dfe62(0x473)+_0x5a273a[0x0][_0x3dfe62(0x4b1)]+_0x3dfe62(0x302):'<div\x20class=\x22flex-1\x22></div>')+_0x3dfe62(0x228)+(_0x5a273a[0x2]?_0x3dfe62(0x77e)+_0x5a273a[0x2][_0x3dfe62(0x1bd)]+_0x3dfe62(0x805)+_0x55d3bc(_0x5a273a[0x2][_0x3dfe62(0x733)])+_0x3dfe62(0x1d5)+_0x5a273a[0x2][_0x3dfe62(0x4b1)]+_0x3dfe62(0x710):_0x3dfe62(0x421))+_0x3dfe62(0x49d)+_0x560dcb+_0x3dfe62(0x88c)+(currentMode===_0x3dfe62(0x6ab)?_0x3dfe62(0x5c5):_0x3dfe62(0x20e))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x29b69c,currentMode===_0x3dfe62(0x6ab)&&document[_0x3dfe62(0x2a6)](_0x3dfe62(0x56f))[_0x3dfe62(0x7a6)]('click',async()=>{const _0x41ad3d=_0x3dfe62,_0x2853ab=doc(db,_0x41ad3d(0x11a)+appId+'/public/data/liveGames',currentLiveGameId);await deleteDoc(_0x2853ab),showView(_0x41ad3d(0x13a));});}async function handleStartLiveRace(_0x52ecbd){const _0x43a209=_0x37a926;let _0x38177a=allQuizzes[_0x43a209(0x288)](_0x18b72e=>_0x18b72e['id']===_0x52ecbd);if(!_0x38177a){const _0x56c869=doc(db,_0x43a209(0x11a)+appId+_0x43a209(0x22e),_0x52ecbd),_0x5850ce=await getDoc(_0x56c869);if(!_0x5850ce['exists']()){showMessage(_0x43a209(0x33e));return;}_0x38177a={'id':_0x5850ce['id'],..._0x5850ce['data']()};}const _0x296bd4=getShuffledQuiz(_0x38177a);currentQuizData=_0x296bd4;const _0x4dba48=_0x38177a['projectId']||currentProjectId||null,_0x1913cf=Math[_0x43a209(0x501)](0x3e8+Math[_0x43a209(0x23d)]()*0x2328)['toString']();currentLiveGamePin=_0x1913cf;try{const _0x18bd94=await addDoc(collection(db,_0x43a209(0x11a)+appId+_0x43a209(0x217)),{'quizId':_0x52ecbd,'projectId':_0x4dba48,'status':_0x43a209(0x199),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x1913cf,'createdAt':serverTimestamp(),'shuffledQuiz':_0x296bd4});currentLiveGameId=_0x18bd94['id'],showAdminLobbyView(_0x1913cf,_0x38177a[_0x43a209(0xc6)]),listenForLiveGameUpdates();}catch(_0x39081d){console[_0x43a209(0x804)]('Error\x20starting\x20live\x20race:',_0x39081d),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}async function handleShowStudentRankings(){const _0x5173d6=_0x37a926,_0x4a52e3=document['querySelector'](_0x5173d6(0x15f));_0x4a52e3&&(_0x4a52e3[_0x5173d6(0x7b0)]=_0x5173d6(0x24e));const _0x68be92=document[_0x5173d6(0x8cb)]('#student-project-leaderboard-content\x20thead');_0x68be92&&(_0x68be92[_0x5173d6(0x7b0)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x5190b9=document[_0x5173d6(0x2a6)]('student-rankings-modal');_0x5190b9[_0x5173d6(0x4a7)][_0x5173d6(0x578)]('hidden'),document[_0x5173d6(0x2a6)](_0x5173d6(0x79d))[_0x5173d6(0x8a1)]=()=>_0x5190b9[_0x5173d6(0x4a7)][_0x5173d6(0x381)](_0x5173d6(0x17a));const _0x961a70=document['getElementById'](_0x5173d6(0x8c9)),_0x379a63=document[_0x5173d6(0x2a6)](_0x5173d6(0x551)),_0x1d7cb1=document['getElementById'](_0x5173d6(0x5f0)),_0xc15d97=document[_0x5173d6(0x2a6)](_0x5173d6(0x845));_0x961a70[_0x5173d6(0x8a1)]=()=>{const _0x57a114=_0x5173d6;_0x961a70[_0x57a114(0x4a7)][_0x57a114(0x381)](_0x57a114(0x2aa)),_0x379a63[_0x57a114(0x4a7)][_0x57a114(0x578)](_0x57a114(0x2aa)),_0x1d7cb1['classList']['remove'](_0x57a114(0x17a)),_0xc15d97[_0x57a114(0x4a7)][_0x57a114(0x381)](_0x57a114(0x17a));},_0x379a63[_0x5173d6(0x8a1)]=()=>{const _0x35db4c=_0x5173d6;_0x379a63[_0x35db4c(0x4a7)][_0x35db4c(0x381)](_0x35db4c(0x2aa)),_0x961a70['classList'][_0x35db4c(0x578)](_0x35db4c(0x2aa)),_0xc15d97[_0x35db4c(0x4a7)][_0x35db4c(0x578)]('hidden'),_0x1d7cb1[_0x35db4c(0x4a7)][_0x35db4c(0x381)]('hidden');};try{const _0x4af425=collection(db,_0x5173d6(0x11a)+appId+_0x5173d6(0x522)+currentQuizData['id']+_0x5173d6(0x383)),_0x4a2e4c=await getDocs(_0x4af425),_0x4c2f52=_0x4a2e4c[_0x5173d6(0x239)][_0x5173d6(0x4b9)](_0x5c66d3=>_0x5c66d3[_0x5173d6(0x7a8)]());renderQuizLeaderboard(_0x4c2f52,currentQuizData,_0x5173d6(0x7ab));const _0x5b518f=collection(db,_0x5173d6(0x11a)+appId+_0x5173d6(0x3a3)+currentQuizData[_0x5173d6(0x8b5)]+_0x5173d6(0x3d3)),_0x515a92=await getDocs(_0x5b518f),_0x3622f7=_0x515a92[_0x5173d6(0x239)]['map'](_0x4797b4=>_0x4797b4[_0x5173d6(0x7a8)]());renderLeaderboard(_0x3622f7,_0x5173d6(0x5f8));}catch(_0x1da64d){console[_0x5173d6(0x804)]('Error\x20fetching\x20student\x20rankings:',_0x1da64d),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x2c2fd6){const _0x20d8c3=_0x37a926,_0x3700fc=_0x2c2fd6[_0x20d8c3(0x15b)],_0x172037=_0x3700fc[_0x20d8c3(0x7b3)]['index'],_0x5f28cc=currentQuizData['questions'][_0x172037];if(!userId){showMessage(_0x20d8c3(0x1e9));return;}try{const _0x203031={..._0x5f28cc,'originalTopic':currentQuizData[_0x20d8c3(0xc6)],'savedAt':serverTimestamp()},_0x3d1a28=collection(db,'artifacts/'+appId+_0x20d8c3(0x489)+userId+_0x20d8c3(0x11c));await addDoc(_0x3d1a28,_0x203031),showMessage(_0x20d8c3(0x2c0)),_0x3700fc[_0x20d8c3(0x4a7)][_0x20d8c3(0x578)](_0x20d8c3(0x873)),_0x3700fc[_0x20d8c3(0x4a7)]['add'](_0x20d8c3(0x2ff)),_0x3700fc[_0x20d8c3(0x108)]=!![];}catch(_0x11e1c2){console[_0x20d8c3(0x804)](_0x20d8c3(0x579),_0x11e1c2),showMessage(_0x20d8c3(0x3e6));}}function listenForStarredQuizzes(){const _0x283240=_0x37a926;if(!userId)return;const _0x28f363=collection(db,'artifacts/'+appId+_0x283240(0x22e)),_0x32157b=query(_0x28f363,where(_0x283240(0x7ce),'==',!![]));onSnapshot(_0x32157b,_0x325528=>{const _0xb10414=_0x283240;starredQuizzes=_0x325528[_0xb10414(0x239)][_0xb10414(0x4b9)](_0x21ee45=>({'id':_0x21ee45['id'],..._0x21ee45[_0xb10414(0x7a8)]()})),currentProjectId===_0xb10414(0x42e)?renderQuizzes():renderProjects();},_0x222eac=>{const _0x3c5fdd=_0x283240;console[_0x3c5fdd(0x804)](_0x3c5fdd(0x7bf),_0x222eac);});}function exportQuizAsWorksheetPDF(){const _0x376a97=_0x37a926;if(!currentQuizData||!currentQuizData[_0x376a97(0x5fc)]){showMessage(_0x376a97(0x21b));return;}const _0x3912f6=currentQuizData,_0x3e3e83=window[_0x376a97(0x468)]('',_0x376a97(0x8b9)),_0xaea35=_0x12c5c4=>String[_0x376a97(0x30d)](0x41+_0x12c5c4),_0x5ec811=_0x376a97(0x838)+_0x3912f6['topic']+_0x376a97(0x560)+_0x3912f6[_0x376a97(0xc6)]+_0x376a97(0x25d)+_0x3912f6['questions'][_0x376a97(0x4b9)]((_0x457aab,_0x1a2eae)=>{const _0x8c1acc=_0x376a97;let _0xc3c847='';const _0x28152b=_0x457aab[_0x8c1acc(0x101)]||_0x3912f6[_0x8c1acc(0x1bc)];switch(_0x28152b){case _0x8c1acc(0x149):case'fill_in_with_choices':_0xc3c847=_0x8c1acc(0x580)+_0x457aab[_0x8c1acc(0x60d)][_0x8c1acc(0x4b9)]((_0x4cacfd,_0x260fc5)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0xaea35(_0x260fc5)+'.\x20'+_0x4cacfd+_0x8c1acc(0x395))[_0x8c1acc(0x43d)](_0x8c1acc(0x62e))+_0x8c1acc(0x631);break;case _0x8c1acc(0x27a):_0xc3c847=_0x8c1acc(0x745);break;default:_0xc3c847=_0x8c1acc(0x20c);break;}return _0x8c1acc(0x531)+(_0x1a2eae+0x1)+_0x8c1acc(0x3e7)+(_0x457aab[_0x8c1acc(0x308)]||_0x457aab[_0x8c1acc(0x1df)])+_0x8c1acc(0x46b)+(_0x457aab['imageCode']?'<div\x20class=\x22my-2\x22>'+_0x457aab[_0x8c1acc(0x63e)]+_0x8c1acc(0x631):'')+_0x8c1acc(0x2f6)+_0xc3c847+_0x8c1acc(0x3e3);})['join']('')+_0x376a97(0x2b2);_0x3e3e83[_0x376a97(0x283)][_0x376a97(0x1f7)](_0x5ec811),_0x3e3e83[_0x376a97(0x283)][_0x376a97(0x5c2)](),_0x3e3e83[_0x376a97(0x7ac)]=function(){setTimeout(()=>{const _0x80b8e9=_0x34b5;_0x3e3e83[_0x80b8e9(0x52b)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0xe7e366=_0x37a926;if(!currentQuizData||!currentQuizData[_0xe7e366(0x5fc)]){showMessage(_0xe7e366(0x21b));return;}const _0x1696ed=currentQuizData,_0x5115ae=window[_0xe7e366(0x468)]('',_0xe7e366(0x8b9)),_0x1138ff=_0x1d66e2=>String[_0xe7e366(0x30d)](0x41+_0x1d66e2),_0x255b89='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x1696ed[_0xe7e366(0xc6)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1696ed[_0xe7e366(0x5fc)]['map']((_0x5bd6a9,_0x12c356)=>{const _0x57b4d6=_0xe7e366;let _0x5876e9='';const _0x4e395c=_0x5bd6a9[_0x57b4d6(0x101)]||_0x1696ed[_0x57b4d6(0x1bc)];switch(_0x4e395c){case _0x57b4d6(0x149):case _0x57b4d6(0x60f):_0x5876e9=_0x57b4d6(0x4a2)+_0x5bd6a9[_0x57b4d6(0x60d)]['map']((_0x5ad448,_0x2c32db)=>_0x57b4d6(0x53e)+_0x1138ff(_0x2c32db)+'.\x20'+_0x5ad448+_0x57b4d6(0x173))[_0x57b4d6(0x43d)](_0x57b4d6(0x62e))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case'true_false':_0x5876e9=_0x57b4d6(0x65e);break;default:_0x5876e9='';break;}return _0x57b4d6(0x382)+_0x1696ed[_0x57b4d6(0xc6)]+_0x57b4d6(0x449)+(_0x12c356+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x5bd6a9['stem']||_0x5bd6a9[_0x57b4d6(0x1df)])+_0x57b4d6(0x46b)+(_0x5bd6a9[_0x57b4d6(0x63e)]?_0x57b4d6(0x54b)+_0x5bd6a9[_0x57b4d6(0x63e)]+_0x57b4d6(0x631):'')+_0x57b4d6(0x2f6)+_0x5876e9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0xe7e366(0x43d)]('')+_0xe7e366(0x70e);_0x5115ae[_0xe7e366(0x283)][_0xe7e366(0x1f7)](_0x255b89),_0x5115ae[_0xe7e366(0x283)][_0xe7e366(0x5c2)](),_0x5115ae[_0xe7e366(0x7ac)]=function(){setTimeout(()=>{const _0x450752=_0x34b5;_0x5115ae[_0x450752(0x52b)]();},0x5dc);};}async function handleToggleStarQuiz(_0x154a57){const _0x74e997=_0x37a926,_0x282c40=doc(db,_0x74e997(0x11a)+appId+_0x74e997(0x22e),_0x154a57);try{const _0x3abf3e=await getDoc(_0x282c40);if(_0x3abf3e[_0x74e997(0x5fa)]()){const _0x375a8a=_0x3abf3e[_0x74e997(0x7a8)]()[_0x74e997(0x7ce)]||![];await updateDoc(_0x282c40,{'isStarred':!_0x375a8a});}}catch(_0x4161e5){console['error'](_0x74e997(0x4f5),_0x4161e5),showMessage(_0x74e997(0x8ad));}}async function displayQuestionBank(){const _0x4945b3=_0x37a926,_0x11e54b=document[_0x4945b3(0x2a6)](_0x4945b3(0x349));_0x11e54b[_0x4945b3(0x7b0)]=_0x4945b3(0x5af);try{const _0x3a9c19=collection(db,_0x4945b3(0x11a)+appId+_0x4945b3(0x489)+userId+'/questionBank'),_0x38f129=query(_0x3a9c19),_0x354717=await getDocs(_0x38f129);if(_0x354717[_0x4945b3(0x5a0)]){_0x11e54b['innerHTML']=_0x4945b3(0x40d);return;}let _0x4a114d=_0x354717[_0x4945b3(0x239)][_0x4945b3(0x4b9)](_0x197d2a=>{const _0x24f11c=_0x4945b3,_0x334517=_0x197d2a['data'](),_0x165c23=_0x197d2a['id'];return _0x24f11c(0x794)+JSON[_0x24f11c(0x471)](_0x334517)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x334517['questionText']||_0x334517[_0x24f11c(0x308)])+_0x24f11c(0x752)+_0x334517[_0x24f11c(0x327)]+_0x24f11c(0x6e9);})[_0x4945b3(0x43d)]('');_0x11e54b['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x4a114d+_0x4945b3(0x5b6),document[_0x4945b3(0x2a6)](_0x4945b3(0x6a3))[_0x4945b3(0x7a6)](_0x4945b3(0x69e),createQuizFromBank);}catch(_0x2f7a56){console['error'](_0x4945b3(0x87c),_0x2f7a56),_0x11e54b[_0x4945b3(0x7b0)]=_0x4945b3(0x73e);}}function showAdminLiveQuestionView(_0x1c5a54,_0x5e7fe6,_0x26227b){const _0x5db917=_0x37a926,_0x3a86f2=_0x1c5a54[_0x5db917(0x101)]||currentQuizData['quizType'];let _0x5674e4='';if(_0x3a86f2===_0x5db917(0x149)||_0x3a86f2==='true_false'){const _0x2b13d2=_0x3a86f2===_0x5db917(0x27a)?['ใช่',_0x5db917(0x160)]:_0x1c5a54[_0x5db917(0x60d)],_0x4aca4f=_0x3a86f2===_0x5db917(0x27a)?_0x1c5a54[_0x5db917(0x348)]?0x0:0x1:_0x1c5a54[_0x5db917(0x61d)];_0x5674e4=_0x2b13d2[_0x5db917(0x4b9)]((_0x549375,_0x4576dc)=>_0x5db917(0x368)+(_0x4576dc===_0x4aca4f)+_0x5db917(0x4d8)+_0x549375+_0x5db917(0xbf))[_0x5db917(0x43d)]('');}else{if(_0x3a86f2===_0x5db917(0x726)){const _0x122183=_0x1c5a54[_0x5db917(0x731)]||[];_0x5674e4=_0x122183['map'](_0x1cd62b=>_0x5db917(0x368)+(_0x1cd62b===_0x1c5a54[_0x5db917(0x37b)])+_0x5db917(0x4d8)+_0x1cd62b+_0x5db917(0xbf))[_0x5db917(0x43d)]('');}}const _0x418e87=_0x1c5a54[_0x5db917(0x308)]||_0x1c5a54[_0x5db917(0x1df)],_0x4aeb8b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x5e7fe6+0x1)+_0x5db917(0x2de)+_0x26227b+_0x5db917(0x7c2)+_0x418e87+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5674e4+_0x5db917(0x5bd);liveGameView[_0x5db917(0x7b0)]=_0x4aeb8b,window[_0x5db917(0x86f)]&&MathJax[_0x5db917(0x133)]&&MathJax[_0x5db917(0x133)]([liveGameView]),document[_0x5db917(0x2a6)]('reveal-answer-btn')[_0x5db917(0x7a6)](_0x5db917(0x69e),()=>revealAnswerForAdmin(_0x5e7fe6,_0x26227b)),document[_0x5db917(0x2a6)]('end-game-btn')['addEventListener'](_0x5db917(0x69e),async()=>{const _0x1eb175=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await deleteDoc(_0x1eb175),showView('admin-dashboard');}),document[_0x5db917(0x2a6)]('manage-players-btn')['addEventListener']('click',()=>{const _0x120548=_0x5db917;document[_0x120548(0x2a6)](_0x120548(0x407))['classList'][_0x120548(0x73f)](_0x120548(0x17a));});}function showStudentLiveQuestionView(_0x5a1c30,_0x5a1932,_0x65269){const _0x270195=_0x37a926,_0x1cf736=_0x5a1c30['questionType']||currentQuizData[_0x270195(0x1bc)];let _0x3e08ca='';if(_0x1cf736===_0x270195(0x149)||_0x1cf736==='true_false'){const _0x2ee946=_0x1cf736===_0x270195(0x27a)?[_0x270195(0x4cf),_0x270195(0x160)]:_0x5a1c30[_0x270195(0x60d)];_0x3e08ca=_0x2ee946[_0x270195(0x4b9)]((_0x312318,_0x25b9bb)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x25b9bb+_0x270195(0x88d)+_0x312318+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}else{if(_0x1cf736==='matching_item'){const _0x5bea9f=_0x5a1c30[_0x270195(0x731)]||[];_0x3e08ca=_0x5bea9f['map']((_0x480f05,_0x575689)=>_0x270195(0x1ae)+_0x575689+_0x270195(0x88d)+_0x480f05+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x270195(0x43d)]('');}else _0x1cf736==='short_answer'&&(_0x3e08ca='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x5e607d=_0x5a1c30[_0x270195(0x308)]||_0x5a1c30[_0x270195(0x1df)],_0x2a508d=_0x270195(0x355)+(_0x5a1932+0x1)+_0x270195(0x2de)+_0x65269+_0x270195(0x739)+_0x5e607d+_0x270195(0x6b6)+_0x3e08ca+_0x270195(0x2f9);liveGameView[_0x270195(0x7b0)]=_0x2a508d;window[_0x270195(0x86f)]&&MathJax[_0x270195(0x133)]&&MathJax[_0x270195(0x133)]([liveGameView]);const _0x2f7aea=document[_0x270195(0x2a6)](_0x270195(0x4eb));_0x2f7aea&&_0x2f7aea['addEventListener']('click',()=>{const _0x51b7b3=_0x270195,_0x46452b=document[_0x51b7b3(0x2a6)](_0x51b7b3(0x11b))[_0x51b7b3(0x464)];handleLiveAnswer(_0x46452b,_0x5a1c30);}),document['getElementById'](_0x270195(0x7c5))[_0x270195(0x7a6)](_0x270195(0x69e),_0x1ccbbb=>{const _0x481f5a=_0x270195,_0x1834f3=_0x1ccbbb['target'][_0x481f5a(0x81a)]('.live-answer-btn');if(_0x1834f3){const _0x4d142a=parseInt(_0x1834f3[_0x481f5a(0x7b3)][_0x481f5a(0x181)]);handleLiveAnswer(_0x4d142a,_0x5a1c30);}});}async function handleLiveAnswer(_0x2b7177,_0x51da5b){const _0x528d2d=_0x37a926;document[_0x528d2d(0x574)](_0x528d2d(0x83f))[_0x528d2d(0x3dc)](_0x460dc8=>_0x460dc8[_0x528d2d(0x108)]=!![]);const _0x11b87a=_0x51da5b['questionType']||currentQuizData[_0x528d2d(0x1bc)];let _0x3b7c66=![],_0x43eea1=_0x2b7177;if(_0x11b87a===_0x528d2d(0x602)){const _0x496ce2=(_0x2b7177||'')[_0x528d2d(0x6d8)]();_0x3b7c66=await gradeShortAnswer(_0x496ce2,_0x51da5b);}else{if(_0x11b87a==='multiple_choice')_0x3b7c66=_0x2b7177===_0x51da5b[_0x528d2d(0x61d)];else{if(_0x11b87a==='true_false'){const _0x177724=_0x51da5b[_0x528d2d(0x348)];_0x3b7c66=_0x2b7177===0x0&&_0x177724||_0x2b7177===0x1&&!_0x177724;}else{if(_0x11b87a==='matching_item'){const _0x5580ed=_0x51da5b[_0x528d2d(0x731)][_0x2b7177];_0x3b7c66=_0x5580ed===_0x51da5b['correctResponse'],_0x43eea1=_0x5580ed;}}}}const _0x512692=doc(db,'artifacts/'+appId+_0x528d2d(0x217),currentLiveGameId),_0x4b219a={};_0x4b219a[_0x528d2d(0x4c1)+currentStudentName+_0x528d2d(0x679)]=!![],_0x4b219a[_0x528d2d(0x4c1)+currentStudentName+_0x528d2d(0x682)]=_0x3b7c66,_0x4b219a['players.'+currentStudentName+_0x528d2d(0x2ec)]=_0x11b87a===_0x528d2d(0x602)||_0x11b87a==='matching_item'?null:_0x2b7177,_0x4b219a[_0x528d2d(0x4c1)+currentStudentName+_0x528d2d(0x7d4)]=_0x43eea1,_0x4b219a[_0x528d2d(0x4c1)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x4b219a[_0x528d2d(0x4c1)+currentStudentName+_0x528d2d(0x7e5)]=![],await updateDoc(_0x512692,_0x4b219a),liveGameView['innerHTML']='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x14f5fb,_0x332c51){const _0xdc2c5=_0x37a926,_0x3ce1ab=Object['values'](_0x14f5fb[_0xdc2c5(0x441)]||{}),_0x13af18=_0x332c51[_0xdc2c5(0x101)]||currentQuizData[_0xdc2c5(0x1bc)],_0x476dc8=_0x13af18==='true_false'?[_0xdc2c5(0x4cf),_0xdc2c5(0x160)]:_0x332c51[_0xdc2c5(0x60d)]||_0x332c51['allResponses']||[],_0xea07d8={},_0x541c60=new Array(_0x476dc8[_0xdc2c5(0x836)])[_0xdc2c5(0x887)](0x0);_0x476dc8['forEach']((_0x104571,_0x235c89)=>{_0xea07d8[_0x235c89]=[];}),Object['entries'](_0x14f5fb[_0xdc2c5(0x441)]||{})['forEach'](([_0x1f6251,_0x48b357])=>{const _0x45e703=_0xdc2c5;if(_0x48b357[_0x45e703(0x140)]===_0x45e703(0x2aa)&&_0x48b357[_0x45e703(0x3f5)]!==undefined){const _0x4aa0b9=_0x48b357[_0x45e703(0x3f5)];_0xea07d8[_0x4aa0b9]&&(_0xea07d8[_0x4aa0b9][_0x45e703(0x500)](_0x1f6251),_0x541c60[_0x4aa0b9]++);}});const _0x2e8e70=Math[_0xdc2c5(0x12b)](..._0x541c60,0x1),_0x1fdc7d=_0xdc2c5(0x5eb)+(_0x332c51[_0xdc2c5(0x308)]||_0x332c51[_0xdc2c5(0x1df)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x541c60[_0xdc2c5(0x4b9)]((_0x24d48c,_0x201e0c)=>{const _0xd8fd66=_0xdc2c5,_0x505487=_0xea07d8[_0x201e0c][_0xd8fd66(0x836)]>0x0?_0xea07d8[_0x201e0c][_0xd8fd66(0x43d)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้';let _0x141627=![];if(_0x13af18==='multiple_choice')_0x141627=_0x201e0c===_0x332c51['correctAnswerIndex'];else{if(_0x13af18==='true_false'){const _0x42c136=_0x332c51[_0xd8fd66(0x348)];_0x141627=_0x42c136&&_0x201e0c===0x0||!_0x42c136&&_0x201e0c===0x1;}else _0x13af18===_0xd8fd66(0x726)&&(_0x141627=_0x476dc8[_0x201e0c]===_0x332c51[_0xd8fd66(0x37b)]);}const _0x70c57f=_0x141627?_0xd8fd66(0x78c):_0xd8fd66(0x252);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x24d48c+_0xd8fd66(0x82f)+_0x70c57f+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x201e0c+_0xd8fd66(0x33b)+_0x476dc8[_0x201e0c]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x201e0c+_0xd8fd66(0x6ae)+_0x505487+_0xd8fd66(0x4e1);})[_0xdc2c5(0x43d)]('')+_0xdc2c5(0xc2);liveGameView['innerHTML']=_0x1fdc7d;if(window[_0xdc2c5(0x86f)])MathJax['typesetPromise']();document[_0xdc2c5(0x2a6)](_0xdc2c5(0x649))[_0xdc2c5(0x7a6)](_0xdc2c5(0x69e),async()=>{const _0x48446e=_0xdc2c5,_0x42212b=doc(db,'artifacts/'+appId+_0x48446e(0x217),currentLiveGameId);await updateDoc(_0x42212b,{'questionStatus':_0x48446e(0x1e3)});});}function showPlayerSummaryView(_0xdf6adb,_0xe158be){const _0x498385=_0x37a926,_0x2a3dd0=Object['values'](_0xdf6adb['players']||{}),_0x26f91f=_0xdf6adb[_0x498385(0x441)][_0xe158be],_0x2031d6=_0x2a3dd0['filter'](_0x4b4555=>_0x4b4555[_0x498385(0x140)]===_0x498385(0x2aa))[_0x498385(0x8b6)]((_0x218009,_0x1b6fcf)=>_0x1b6fcf[_0x498385(0x4b1)]-_0x218009['score']),_0x5f4c46=_0x2031d6['findIndex'](_0x244783=>_0x244783===_0x26f91f)+0x1,_0x41fcf4=_0x26f91f['lastAnswerCorrect']?_0x498385(0x3f1):_0x498385(0x3f7),_0x7644a8=_0x26f91f[_0x498385(0x856)]?_0x498385(0x4e0):_0x498385(0x843),_0x418b15=_0x26f91f['pointsLastQuestion']||0x0,_0x3801a6=_0x498385(0x391),_0x576e42=_0x498385(0x68e)+_0x3801a6+_0x498385(0x2bb)+_0x7644a8+_0x498385(0x6d1)+_0x41fcf4+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x418b15+_0x498385(0x256)+(_0x5f4c46>0x0?_0x5f4c46:'-')+_0x498385(0x86a);liveGameView[_0x498385(0x7b0)]=_0x576e42;}function createQuizFromBank(){const _0x5061bb=_0x37a926,_0x2f0ec0=document[_0x5061bb(0x574)](_0x5061bb(0x1a0));if(_0x2f0ec0[_0x5061bb(0x836)]===0x0){showMessage(_0x5061bb(0x774));return;}const _0x67fed2=[];_0x2f0ec0['forEach'](_0xd6c861=>{const _0x103848=_0x5061bb;_0x67fed2[_0x103848(0x500)](JSON[_0x103848(0x369)](_0xd6c861['value']));});const _0x2dca88={'topic':_0x5061bb(0x48d),'questions':_0x67fed2};displayGeneratedQuiz(_0x2dca88);}function showAdminLobbyView(_0x19f4d4,_0x4fc3e4){const _0x521220=_0x37a926;showView('live-game');const _0x583fe9=_0x521220(0x115)+_0x4fc3e4+_0x521220(0x76d)+_0x19f4d4+_0x521220(0x713);liveGameView['innerHTML']=_0x583fe9,document[_0x521220(0x2a6)](_0x521220(0x1a1))[_0x521220(0x7a6)](_0x521220(0x69e),async()=>{const _0x981bab=_0x521220;if(!currentQuizData||!currentQuizData['questions']||currentQuizData['questions'][_0x981bab(0x836)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x2fc48a=doc(db,_0x981bab(0x11a)+appId+_0x981bab(0x217),currentLiveGameId);await updateDoc(_0x2fc48a,{'status':_0x981bab(0x491),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x1ccae9=currentQuizData['questions'][0x0],_0x2f7486=currentQuizData[_0x981bab(0x5fc)][_0x981bab(0x836)];showAdminLiveQuestionView(_0x1ccae9,0x0,_0x2f7486);}catch(_0x224ccf){console[_0x981bab(0x804)]('Error\x20starting\x20game:',_0x224ccf),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openGlobalLiveModal(){const _0x3ca931=_0x37a926;if(allQuizzesGlobal[_0x3ca931(0x836)]===0x0){const _0x1a38a4=await getDocs(collection(db,_0x3ca931(0x11a)+appId+_0x3ca931(0x22e)));allQuizzesGlobal=_0x1a38a4[_0x3ca931(0x239)]['map'](_0x377187=>({'id':_0x377187['id'],..._0x377187['data']()}));}renderGlobalQuizList(''),document[_0x3ca931(0x2a6)](_0x3ca931(0x1b2))[_0x3ca931(0x4a7)]['remove']('hidden');}async function openQuizBankModal(){const _0x1a27c0=_0x37a926;if(allQuizzesGlobal['length']===0x0){const _0x10f504=await getDocs(collection(db,_0x1a27c0(0x11a)+appId+_0x1a27c0(0x22e)));allQuizzesGlobal=_0x10f504[_0x1a27c0(0x239)]['map'](_0x4c20dc=>({'id':_0x4c20dc['id'],..._0x4c20dc['data']()}));}renderQuizBankList(''),document[_0x1a27c0(0x2a6)](_0x1a27c0(0xfc))['classList']['remove'](_0x1a27c0(0x17a));}function renderQuizBankList(_0x54eb49=''){const _0x4677f5=_0x37a926,_0xbe6d3=document[_0x4677f5(0x2a6)](_0x4677f5(0xd1)),_0x41570f=_0x54eb49[_0x4677f5(0x7fc)]()[_0x4677f5(0x451)](),_0xaaa97a=allQuizzesGlobal[_0x4677f5(0x4b9)](_0x2bc989=>({..._0x2bc989,'projectName':allProjects[_0x4677f5(0x288)](_0x277f49=>_0x277f49['id']===_0x2bc989['projectId'])?.[_0x4677f5(0x6b7)]||'N/A'}))['filter'](_0x3b75f4=>(_0x3b75f4['topic']||'')[_0x4677f5(0x7fc)]()[_0x4677f5(0x6a4)](_0x41570f)||(_0x3b75f4[_0x4677f5(0x6b7)]||'')[_0x4677f5(0x7fc)]()[_0x4677f5(0x6a4)](_0x41570f)||_0x3b75f4['id'][_0x4677f5(0x6d8)]()[_0x4677f5(0x6a4)](_0x41570f));document[_0x4677f5(0x2a6)](_0x4677f5(0x432))['textContent']='('+_0xaaa97a[_0x4677f5(0x836)]+'\x20ชุด)',_0xbe6d3[_0x4677f5(0x7b0)]=_0xaaa97a[_0x4677f5(0x836)]?_0xaaa97a[_0x4677f5(0x4b9)](_0x1db131=>_0x4677f5(0x262)+_0x1db131['id']+_0x4677f5(0x846)+(_0x1db131['topic']||'(ไม่มีชื่อ)')+_0x4677f5(0x3df)+(_0x1db131[_0x4677f5(0x5fc)]?.[_0x4677f5(0x836)]||0x0)+_0x4677f5(0x743)+_0x1db131[_0x4677f5(0x6b7)]+_0x4677f5(0x4ac)+_0x1db131['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1db131['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1db131['id']+_0x4677f5(0x6f2)+_0x1db131['id']+_0x4677f5(0x4b0)+_0x1db131['id']+_0x4677f5(0x316)+_0x1db131['id']+_0x4677f5(0x429)+_0x1db131['id']+_0x4677f5(0x858)+_0x1db131[_0x4677f5(0xc6)]+_0x4677f5(0x3d7))[_0x4677f5(0x43d)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0xbe6d3[_0x4677f5(0x574)](_0x4677f5(0x691))['forEach'](_0x1fe647=>{const _0x14c2b0=_0x4677f5;_0x1fe647['addEventListener'](_0x14c2b0(0x69e),()=>{const _0x18117e=_0x14c2b0,_0x3be555=_0x1fe647[_0x18117e(0x7b3)]['id'];document['getElementById'](_0x18117e(0xfc))[_0x18117e(0x4a7)][_0x18117e(0x381)]('hidden'),showQuizDetailView(_0x3be555);});}),_0xbe6d3[_0x4677f5(0x574)]('.quiz-bank-try-btn')[_0x4677f5(0x3dc)](_0x636133=>{const _0x10cd7d=_0x4677f5;_0x636133[_0x10cd7d(0x7a6)](_0x10cd7d(0x69e),_0x3e6829=>{const _0x291a61=_0x10cd7d;_0x3e6829['stopPropagation']();const _0x39e44c=_0x636133['dataset']['id'],_0x1bec82=allQuizzesGlobal[_0x291a61(0x288)](_0x2f0f45=>_0x2f0f45['id']===_0x39e44c);_0x1bec82?(currentQuizData=_0x1bec82,document[_0x291a61(0x2a6)](_0x291a61(0xfc))[_0x291a61(0x4a7)]['add'](_0x291a61(0x17a)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0xbe6d3[_0x4677f5(0x574)]('.quiz-bank-parallel-btn')[_0x4677f5(0x3dc)](_0x8f811f=>{const _0x48b091=_0x4677f5;_0x8f811f[_0x48b091(0x7a6)]('click',_0x5341ff=>{const _0x10fa47=_0x48b091;_0x5341ff['stopPropagation']();const _0x5c95c3=_0x8f811f[_0x10fa47(0x7b3)]['id'],_0x197f47=allQuizzesGlobal[_0x10fa47(0x288)](_0x387969=>_0x387969['id']===_0x5c95c3);_0x197f47?(document[_0x10fa47(0x2a6)](_0x10fa47(0xfc))[_0x10fa47(0x4a7)][_0x10fa47(0x381)](_0x10fa47(0x17a)),handleGenerateParallelFromBank(_0x197f47)):showMessage(_0x10fa47(0x33e));});}),_0xbe6d3[_0x4677f5(0x574)](_0x4677f5(0x2cd))['forEach'](_0x1bcf8d=>{const _0x39bdaf=_0x4677f5;_0x1bcf8d[_0x39bdaf(0x7a6)]('click',_0x41aeaf=>{const _0x56dd2c=_0x39bdaf;_0x41aeaf[_0x56dd2c(0x699)]();const _0x2fbe25=_0x1bcf8d[_0x56dd2c(0x7b3)]['id'],_0x4803f8=allQuizzesGlobal[_0x56dd2c(0x288)](_0x571785=>_0x571785['id']===_0x2fbe25);_0x4803f8?(document[_0x56dd2c(0x2a6)](_0x56dd2c(0xfc))[_0x56dd2c(0x4a7)][_0x56dd2c(0x381)](_0x56dd2c(0x17a)),startPresentation(_0x4803f8)):showMessage(_0x56dd2c(0x33e));});}),_0xbe6d3['querySelectorAll'](_0x4677f5(0x4a3))[_0x4677f5(0x3dc)](_0x31e0fb=>{const _0x4d8ff8=_0x4677f5;_0x31e0fb[_0x4d8ff8(0x7a6)](_0x4d8ff8(0x69e),_0x22f5b5=>{const _0x153a1a=_0x4d8ff8;_0x22f5b5['stopPropagation']();const _0x42c6ec=_0x31e0fb['dataset']['id'];document[_0x153a1a(0x2a6)]('quiz-bank-modal')['classList'][_0x153a1a(0x381)](_0x153a1a(0x17a)),handleMoveQuiz(_0x42c6ec);});}),_0xbe6d3[_0x4677f5(0x574)](_0x4677f5(0x8be))[_0x4677f5(0x3dc)](_0x4124a1=>{const _0x41d0fb=_0x4677f5;_0x4124a1[_0x41d0fb(0x7a6)](_0x41d0fb(0x69e),_0x4c8d9d=>{const _0x4a9418=_0x41d0fb;_0x4c8d9d[_0x4a9418(0x699)]();const _0x18c54c=_0x4124a1[_0x4a9418(0x7b3)]['id'];document[_0x4a9418(0x2a6)](_0x4a9418(0xfc))[_0x4a9418(0x4a7)][_0x4a9418(0x381)]('hidden'),handleQuizSettings(_0x18c54c);});}),_0xbe6d3[_0x4677f5(0x574)](_0x4677f5(0x6ba))[_0x4677f5(0x3dc)](_0x30cf49=>{const _0xc25d1=_0x4677f5;_0x30cf49[_0xc25d1(0x7a6)](_0xc25d1(0x69e),_0xc2c8af=>{const _0x22fa55=_0xc25d1;_0xc2c8af[_0x22fa55(0x699)]();const _0x24e9c2=_0x30cf49[_0x22fa55(0x7b3)]['id'],_0x4705c4=_0x30cf49[_0x22fa55(0x7b3)][_0x22fa55(0xc6)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x4705c4+_0x22fa55(0x640),()=>handleDeleteQuiz(_0x24e9c2));});});}async function handleCompareResults(_0x217690,_0x23c85c){const _0x4045f3=_0x37a926,_0x510ce3=document[_0x4045f3(0x2a6)](_0x4045f3(0x7f5)),_0x32c294=document[_0x4045f3(0x2a6)](_0x4045f3(0x5d4)),_0x33422f=document[_0x4045f3(0x2a6)](_0x4045f3(0x606));document[_0x4045f3(0x2a6)]('comparison-overall-tab')[_0x4045f3(0x4a7)][_0x4045f3(0x381)](_0x4045f3(0x2aa)),document['getElementById'](_0x4045f3(0x30b))[_0x4045f3(0x4a7)][_0x4045f3(0x578)](_0x4045f3(0x2aa)),_0x32c294[_0x4045f3(0x4a7)][_0x4045f3(0x578)](_0x4045f3(0x17a)),_0x33422f[_0x4045f3(0x4a7)][_0x4045f3(0x381)](_0x4045f3(0x17a)),_0x32c294['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x33422f['innerHTML']='',_0x510ce3[_0x4045f3(0x4a7)][_0x4045f3(0x578)](_0x4045f3(0x17a));try{const _0x2e4199=doc(db,'artifacts/'+appId+_0x4045f3(0x22e),_0x217690),_0xe3d611=await getDoc(_0x2e4199);if(!_0xe3d611[_0x4045f3(0x5fa)]())throw new Error(_0x4045f3(0x802));const _0x1c0952=_0xe3d611[_0x4045f3(0x7a8)](),_0x385c9a=_0x1c0952['questions'][_0x4045f3(0x836)],_0x2c9832=collection(db,'artifacts/'+appId+_0x4045f3(0x522)+_0x23c85c+'/submissions'),_0x4562a4=collection(db,_0x4045f3(0x11a)+appId+_0x4045f3(0x522)+_0x217690+_0x4045f3(0x383)),[_0x591e85,_0x1917cf]=await Promise[_0x4045f3(0x861)]([getDocs(_0x2c9832),getDocs(_0x4562a4)]),_0x288a69=_0x591e85[_0x4045f3(0x239)][_0x4045f3(0x4b9)](_0x508e65=>_0x508e65['data']()),_0x2a0055=_0x1917cf[_0x4045f3(0x239)][_0x4045f3(0x4b9)](_0x3eede7=>_0x3eede7[_0x4045f3(0x7a8)]()),_0xeaba70=_0x288a69['map'](_0x48fe9e=>_0x48fe9e[_0x4045f3(0x2a2)]),_0x23fd7e=_0x2a0055[_0x4045f3(0x4b9)](_0x5e5ebf=>_0x5e5ebf['latestScore']),_0x7ea64e=calculateMeanAndStdDev(_0xeaba70),_0x11d2a1=calculateMeanAndStdDev(_0x23fd7e),_0x2623ea=_0x7ea64e[_0x4045f3(0x137)],_0x57b929=_0x11d2a1['mean'],_0x300c37=_0x57b929-_0x2623ea;let _0x2f6b5b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0x2623ea[_0x4045f3(0x19f)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x57b929['toFixed'](0x2)+_0x4045f3(0x287)+(_0x300c37>=0x0?_0x4045f3(0x475):'bg-red-100')+_0x4045f3(0x754)+(_0x300c37>=0x0?'text-emerald-800':'text-red-800')+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x300c37>=0x0?'text-emerald-900':_0x4045f3(0x138))+'\x22>'+(_0x300c37>=0x0?'+':'')+_0x300c37[_0x4045f3(0x19f)](0x2)+_0x4045f3(0xe5);_0x32c294[_0x4045f3(0x7b0)]=_0x2f6b5b;const _0xae1b55=document[_0x4045f3(0x2a6)]('comparison-chart')[_0x4045f3(0x573)]('2d');if(chartInstances[_0x4045f3(0x7eb)])chartInstances['comparison'][_0x4045f3(0x107)]();chartInstances[_0x4045f3(0x7eb)]=new Chart(_0xae1b55,{'type':'bar','data':{'labels':[_0x4045f3(0x117)],'datasets':[{'label':_0x4045f3(0x250),'data':[_0x2623ea],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':_0x4045f3(0x6e6),'data':[_0x57b929],'backgroundColor':_0x4045f3(0x3a5)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x385c9a}}}});const _0x233773=currentProjectData[_0x4045f3(0x243)]||[],_0x354a82=_0x233773[_0x4045f3(0x4b9)](_0x57bf4c=>{const _0x260487=_0x4045f3,_0x4dafd4=_0x288a69[_0x260487(0x288)](_0x4e1b59=>_0x4e1b59[_0x260487(0x4c6)]===_0x57bf4c),_0x37d03d=_0x2a0055[_0x260487(0x288)](_0x590a89=>_0x590a89['studentName']===_0x57bf4c),_0x365131=_0x4dafd4?_0x4dafd4['latestScore']:null,_0x2d7c97=_0x37d03d?_0x37d03d[_0x260487(0x2a2)]:null,_0x265dd4=_0x365131!==null&&_0x2d7c97!==null?_0x2d7c97-_0x365131:null,_0x53a484=_0x365131!==null?calculateZScore(_0x365131,_0x7ea64e[_0x260487(0x137)],_0x7ea64e[_0x260487(0xd7)]):null,_0x2923ec=_0x2d7c97!==null?calculateZScore(_0x2d7c97,_0x11d2a1[_0x260487(0x137)],_0x11d2a1[_0x260487(0xd7)]):null,_0xeb89dd=_0x53a484!==null?calculateTScore(_0x53a484):null,_0x307255=_0x2923ec!==null?calculateTScore(_0x2923ec):null,_0x427860=_0xeb89dd!==null&&_0x307255!==null?_0x307255-_0xeb89dd:null;return{'name':_0x57bf4c,'preScore':_0x365131,'postScore':_0x2d7c97,'gain':_0x265dd4,'preTScore':_0xeb89dd,'postTScore':_0x307255,'tGain':_0x427860};});renderIndividualComparisonTable(_0x354a82,_0x33422f);}catch(_0x3cb58f){console[_0x4045f3(0x804)]('Error\x20comparing\x20results:',_0x3cb58f),_0x32c294[_0x4045f3(0x7b0)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}function displayHalfMarkResult(_0x41f551,_0x4ddefa){const _0x5f3eb1=_0x37a926,_0x1ee329=_0x41f551>=_0x4ddefa/0x2,_0x2586f8=_0x1ee329?_0x5f3eb1(0x271):_0x5f3eb1(0xf5),_0x2ad612=_0x1ee329?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':_0x5f3eb1(0x3b5),_0x46becf=_0x1ee329?'text-green-800':'text-red-800',_0x305c66=_0x1ee329?'ทำคะแนนได้เกินครึ่ง':_0x5f3eb1(0x409),_0x459635=_0x1ee329?_0x5f3eb1(0x667):_0x5f3eb1(0x14a);let _0x83bdce=_0x5f3eb1(0x590)+_0x2586f8+_0x5f3eb1(0x4f6)+_0x2ad612+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x46becf+_0x5f3eb1(0xdc)+_0x305c66+_0x5f3eb1(0x661)+_0x459635+_0x5f3eb1(0x765);studentResultArea[_0x5f3eb1(0x7b0)]=_0x83bdce,studentResultArea[_0x5f3eb1(0x4a7)]['remove'](_0x5f3eb1(0x17a)),studentQuizArea[_0x5f3eb1(0x4a7)][_0x5f3eb1(0x381)](_0x5f3eb1(0x17a)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x1ee329});}function displayPerfectScoreResult(_0x155747,_0x2080c1){const _0xa9a177=_0x37a926,_0x5f2271=_0x155747===_0x2080c1,_0x114d20=_0x5f2271?_0xa9a177(0x7ee):_0xa9a177(0x185),_0x3d9646=_0x5f2271?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0xa9a177(0x141),_0x16b43e=_0x5f2271?_0xa9a177(0x674):'text-blue-800',_0x4d0a98=_0x5f2271?_0xa9a177(0x39d):'ยังไม่เต็มนะ',_0x13a5be=_0x5f2271?_0xa9a177(0x6d0):_0xa9a177(0x815);let _0x524048=_0xa9a177(0x590)+_0x114d20+_0xa9a177(0x4f6)+_0x3d9646+_0xa9a177(0xc5)+_0x16b43e+_0xa9a177(0xdc)+_0x4d0a98+_0xa9a177(0x661)+_0x13a5be+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0xa9a177(0x7b0)]=_0x524048,studentResultArea[_0xa9a177(0x4a7)][_0xa9a177(0x578)](_0xa9a177(0x17a)),studentQuizArea[_0xa9a177(0x4a7)][_0xa9a177(0x381)](_0xa9a177(0x17a)),setupResultScreenBackButton({'showRankings':![],'score':_0x155747,'totalQuestions':_0x2080c1});}function renderIndividualComparisonTable(_0x557965,_0x538b35){const _0x3ec26d=_0x37a926;_0x557965[_0x3ec26d(0x8b6)]((_0x2826ab,_0x5ee911)=>(_0x5ee911[_0x3ec26d(0x83c)]??-Infinity)-(_0x2826ab[_0x3ec26d(0x83c)]??-Infinity));let _0x2af948=_0x3ec26d(0x669);_0x557965['length']===0x0?_0x2af948+=_0x3ec26d(0x53b):_0x557965[_0x3ec26d(0x3dc)]((_0x8daac6,_0x1cf2f9)=>{const _0xa377b5=_0x3ec26d;let _0x217100='-',_0x310fa='';if(_0x8daac6[_0xa377b5(0x6df)]!==null){const _0x1aa8e7=_0x8daac6[_0xa377b5(0x6df)]>0x0?_0xa377b5(0x2ff):_0x8daac6[_0xa377b5(0x6df)]<0x0?'text-red-600':_0xa377b5(0x340),_0x3f7b06=_0x8daac6['gain']>0x0?'+':'';_0x217100=_0xa377b5(0x64b)+_0x1aa8e7+'\x22>'+_0x3f7b06+_0x8daac6['gain']+_0xa377b5(0x173);if(_0x8daac6[_0xa377b5(0x6df)]>0x0)_0x310fa=_0xa377b5(0xea);else _0x8daac6['gain']<0x0?_0x310fa=_0xa377b5(0x89a):_0x310fa=_0xa377b5(0x2cc);}let _0x11baa9='-';if(_0x8daac6[_0xa377b5(0x83c)]!==null){const _0x440761=_0x8daac6['tGain']>0x0?_0xa377b5(0x2ff):_0x8daac6[_0xa377b5(0x83c)]<0x0?'text-red-600':_0xa377b5(0x340),_0x57e601=_0x8daac6[_0xa377b5(0x83c)]>0x0?'+':'';_0x11baa9=_0xa377b5(0x64b)+_0x440761+'\x22>'+_0x57e601+_0x8daac6['tGain']['toFixed'](0x2)+_0xa377b5(0x173);}_0x2af948+=_0xa377b5(0x865)+(_0x1cf2f9+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x8daac6[_0xa377b5(0x1bd)]+_0xa377b5(0x7cf)+(_0x8daac6[_0xa377b5(0x626)]??'-')+_0xa377b5(0x4c5)+(_0x8daac6[_0xa377b5(0x546)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x217100+_0xa377b5(0x41c)+_0x310fa+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x8daac6[_0xa377b5(0x24d)]?.['toFixed'](0x2)??'-')+_0xa377b5(0x143)+(_0x8daac6['postTScore']?.[_0xa377b5(0x19f)](0x2)??'-')+_0xa377b5(0x7cf)+_0x11baa9+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2af948+=_0x3ec26d(0x23b),_0x538b35['innerHTML']=_0x2af948;}function handleRenameQuiz(_0x29afc0,_0x56d1e1){const _0x786175=_0x37a926;actionTargetId=_0x29afc0,document[_0x786175(0x2a6)](_0x786175(0x685))['value']=_0x56d1e1,renameQuizModal['classList'][_0x786175(0x578)](_0x786175(0x17a));}function setupComparisonModalTabs(){const _0x41ac25=_0x37a926,_0x29f805=document['getElementById'](_0x41ac25(0x7df)),_0x21eb19=document[_0x41ac25(0x2a6)]('comparison-individual-tab'),_0x5885a4=document['getElementById'](_0x41ac25(0x5d4)),_0x8080f5=document[_0x41ac25(0x2a6)](_0x41ac25(0x606));_0x29f805['addEventListener'](_0x41ac25(0x69e),()=>{const _0x383797=_0x41ac25;_0x29f805[_0x383797(0x4a7)]['add'](_0x383797(0x2aa)),_0x21eb19[_0x383797(0x4a7)][_0x383797(0x578)](_0x383797(0x2aa)),_0x5885a4[_0x383797(0x4a7)][_0x383797(0x578)](_0x383797(0x17a)),_0x8080f5[_0x383797(0x4a7)][_0x383797(0x381)](_0x383797(0x17a));}),_0x21eb19[_0x41ac25(0x7a6)](_0x41ac25(0x69e),()=>{const _0x388b3c=_0x41ac25;_0x21eb19[_0x388b3c(0x4a7)][_0x388b3c(0x381)]('active'),_0x29f805[_0x388b3c(0x4a7)][_0x388b3c(0x578)]('active'),_0x8080f5[_0x388b3c(0x4a7)][_0x388b3c(0x578)](_0x388b3c(0x17a)),_0x5885a4[_0x388b3c(0x4a7)][_0x388b3c(0x381)]('hidden');});}setupComparisonModalTabs();function renderGlobalQuizList(_0x373fcc=''){const _0x159451=_0x37a926,_0x13a661=document[_0x159451(0x2a6)]('global-quiz-list'),_0x10b2c3=_0x373fcc[_0x159451(0x7fc)]()[_0x159451(0x451)](),_0x1e6a60=allQuizzesGlobal[_0x159451(0x4b9)](_0x5770f9=>({..._0x5770f9,'projectName':allProjects['find'](_0x424a7f=>_0x424a7f['id']===_0x5770f9[_0x159451(0x8b5)])?.[_0x159451(0x6b7)]||_0x5770f9['projectId']}))[_0x159451(0x63c)](_0xa31663=>(_0xa31663[_0x159451(0xc6)]||'')[_0x159451(0x7fc)]()[_0x159451(0x6a4)](_0x10b2c3)||(_0xa31663['projectName']||'')[_0x159451(0x7fc)]()[_0x159451(0x6a4)](_0x10b2c3));document[_0x159451(0x2a6)]('global-live-game-count')[_0x159451(0x523)]='('+_0x1e6a60[_0x159451(0x836)]+_0x159451(0x2f7),_0x13a661[_0x159451(0x7b0)]=_0x1e6a60[_0x159451(0x836)]?_0x1e6a60[_0x159451(0x4b9)](_0x5a2881=>_0x159451(0x663)+_0x5a2881['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20'+(_0x5a2881['topic']||'(ไม่มีชื่อ)')+_0x159451(0x372)+(_0x5a2881[_0x159451(0x5fc)]?.[_0x159451(0x836)]||0x0)+_0x159451(0x3c3)+_0x5a2881[_0x159451(0x6b7)]+_0x159451(0x2bf))[_0x159451(0x43d)](''):_0x159451(0x51e),selectedGlobalQuizId=null,document['getElementById'](_0x159451(0x767))[_0x159451(0x108)]=!![],_0x13a661['querySelectorAll'](_0x159451(0x86c))['forEach'](_0x29a74e=>{const _0x15045b=_0x159451;_0x29a74e[_0x15045b(0x7a6)](_0x15045b(0x69e),()=>{const _0x2426d7=_0x15045b;selectedGlobalQuizId=_0x29a74e[_0x2426d7(0x7b3)]['id'],_0x13a661[_0x2426d7(0x574)](_0x2426d7(0x465))[_0x2426d7(0x3dc)](_0x54aae7=>_0x54aae7[_0x2426d7(0x4a7)][_0x2426d7(0x578)](_0x2426d7(0x2f0),_0x2426d7(0x338),_0x2426d7(0x54e))),_0x29a74e['classList'][_0x2426d7(0x381)](_0x2426d7(0x2f0),_0x2426d7(0x338),_0x2426d7(0x54e)),document['getElementById'](_0x2426d7(0x767))[_0x2426d7(0x108)]=![];});});}function listenForLiveGameUpdates(){const _0x306e2e=_0x37a926;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x1171c3=doc(db,'artifacts/'+appId+_0x306e2e(0x217),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x1171c3,_0x33fcc1=>{const _0x2884a4=_0x306e2e;if(!_0x33fcc1[_0x2884a4(0x5fa)]()){showMessage(_0x2884a4(0x357)),showView(currentMode);return;}const _0x577fa0=_0x33fcc1[_0x2884a4(0x7a8)]();_0x577fa0['shuffledQuiz']&&(currentQuizData=_0x577fa0[_0x2884a4(0x236)]);!currentQuizData&&_0x577fa0[_0x2884a4(0x24b)]&&((async()=>{const _0x482e8a=_0x2884a4;try{const _0x36bd7e=doc(db,_0x482e8a(0x11a)+appId+_0x482e8a(0x22e),_0x577fa0[_0x482e8a(0x24b)]),_0x5e85d3=await getDoc(_0x36bd7e);_0x5e85d3[_0x482e8a(0x5fa)]()&&(currentQuizData={'id':_0x5e85d3['id'],..._0x5e85d3[_0x482e8a(0x7a8)]()});}catch(_0x46ad41){console['error'](_0x482e8a(0x639),_0x46ad41);}})());switch(_0x577fa0['status']){case _0x2884a4(0x199):if(currentMode==='admin'){const _0x167204=_0x577fa0[_0x2884a4(0x441)]?Object[_0x2884a4(0x2a7)](_0x577fa0['players']):[],_0x3da9ba=_0x167204[_0x2884a4(0x63c)](([_0xd4dc5a,_0x452bd8])=>_0x452bd8['status']===_0x2884a4(0x2aa)),_0x36ac17=document['getElementById'](_0x2884a4(0x1ab));if(_0x36ac17)_0x36ac17[_0x2884a4(0x523)]=_0x3da9ba[_0x2884a4(0x836)];const _0x14b43d=document[_0x2884a4(0x2a6)](_0x2884a4(0x159));_0x14b43d&&(_0x14b43d[_0x2884a4(0x7b0)]=_0x3da9ba['map'](([_0x1a34f8,_0x533691])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1a34f8+_0x2884a4(0x789)+_0x1a34f8+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''));const _0x78c2bd=document['getElementById'](_0x2884a4(0x1a1));_0x78c2bd&&(_0x78c2bd['disabled']=_0x3da9ba[_0x2884a4(0x836)]===0x0);}else showView(_0x2884a4(0x3a2)),liveGameView['innerHTML']=_0x2884a4(0x8a5)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x2884a4(0x491):const _0x14fbc1=_0x577fa0['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x2884a4(0x5fc)][_0x14fbc1]){const _0x3dc4fc=currentQuizData[_0x2884a4(0x5fc)][_0x14fbc1],_0xa2d8ac=_0x577fa0[_0x2884a4(0x1c2)]||'answering';switch(_0xa2d8ac){case'summary_chart':currentMode===_0x2884a4(0x6ab)?showAdminSummaryView(_0x577fa0,_0x3dc4fc):showPlayerSummaryView(_0x577fa0,currentStudentName);break;case _0x2884a4(0x1e3):currentMode===_0x2884a4(0x6ab)&&showTop5LeaderboardView(_0x577fa0);break;case _0x2884a4(0x6e3):default:if(currentMode===_0x2884a4(0x6ab)){const _0x357351=writeBatch(db);let _0x542d91=![];Object['entries'](_0x577fa0['players'])[_0x2884a4(0x3dc)](([_0x253d78,_0xf8db8d])=>{const _0x372040=_0x2884a4;if(_0xf8db8d[_0x372040(0x140)]==='active'&&_0xf8db8d[_0x372040(0x51f)]&&!_0xf8db8d[_0x372040(0x1c9)]){_0x542d91=!![];const _0x3cd147=_0xf8db8d[_0x372040(0x51f)]['toDate']()-_0x577fa0[_0x372040(0xbb)]['toDate']();let _0x841176=0x0;if(_0xf8db8d[_0x372040(0x856)]){const _0x58d64d=0x3e8,_0x3db9a5=0x1f4,_0x4ea992=0x4e20;let _0x36e4cd=_0x3cd147/_0x4ea992;if(_0x36e4cd>0x1)_0x36e4cd=0x1;const _0x281ff8=Math[_0x372040(0x541)](_0x36e4cd*_0x3db9a5);_0x841176=_0x58d64d-_0x281ff8;}const _0x26a8f7=doc(db,_0x372040(0x11a)+appId+'/public/data/liveGames',currentLiveGameId);_0x357351['update'](_0x26a8f7,{[_0x372040(0x4c1)+_0x253d78+'.score']:increment(_0x841176),[_0x372040(0x4c1)+_0x253d78+'.pointsLastQuestion']:_0x841176,[_0x372040(0x4c1)+_0x253d78+_0x372040(0x7e5)]:!![]});}});_0x542d91&&_0x357351[_0x2884a4(0x57c)]()['catch'](_0x4215ce=>console['error'](_0x2884a4(0x2d0),_0x4215ce));lastRenderedAdminQuestionIndex!==_0x14fbc1&&(showAdminLiveQuestionView(_0x3dc4fc,_0x14fbc1,currentQuizData['questions'][_0x2884a4(0x836)]),lastRenderedAdminQuestionIndex=_0x14fbc1);const _0x3fdac2=_0x577fa0[_0x2884a4(0x441)]||{},_0x440a50=Object[_0x2884a4(0x87a)](_0x3fdac2)[_0x2884a4(0x63c)](_0x6d3a7a=>_0x6d3a7a['status']===_0x2884a4(0x2aa)),_0x82b24e=_0x440a50[_0x2884a4(0x836)],_0x5330c2=_0x440a50[_0x2884a4(0x63c)](_0xbe37ae=>_0xbe37ae['answeredCurrentQuestion']===!![])[_0x2884a4(0x836)],_0x2dd58c=document[_0x2884a4(0x2a6)]('answer-counter');if(_0x2dd58c)_0x2dd58c[_0x2884a4(0x523)]=_0x5330c2+'/'+_0x82b24e;const _0x219d82=document[_0x2884a4(0x2a6)]('live-player-list');if(_0x219d82){let _0x2a2c4f=Object[_0x2884a4(0x2a7)](_0x3fdac2)[_0x2884a4(0x63c)](([_0xd2917b,_0xa9db66])=>_0xa9db66[_0x2884a4(0x140)]===_0x2884a4(0x2aa))['map'](([_0x44f509,_0xb6991c])=>{const _0x1cfd11=_0x2884a4,_0x250944=_0xb6991c[_0x1cfd11(0x768)]===!![],_0x3bc56e=_0x250944?_0x1cfd11(0x4e0):_0x1cfd11(0x684),_0x4709dd=_0x250944?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x1cfd11(0x7d2);return _0x1cfd11(0x431)+_0x3bc56e+_0x1cfd11(0x1b4)+_0x4709dd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x44f509+_0x1cfd11(0x1f0)+_0x44f509+_0x1cfd11(0x651);})['join']('');_0x219d82['innerHTML']=_0x2a2c4f||_0x2884a4(0x675);}_0x82b24e>0x0&&_0x5330c2===_0x82b24e&&revealAnswerForAdmin(_0x14fbc1,currentQuizData[_0x2884a4(0x5fc)]['length']);}else{const _0x567ccf=_0x577fa0[_0x2884a4(0x441)][currentStudentName];_0x567ccf&&!_0x567ccf[_0x2884a4(0x768)]&&showStudentLiveQuestionView(_0x3dc4fc,_0x14fbc1,currentQuizData[_0x2884a4(0x5fc)][_0x2884a4(0x836)]);}break;}}break;case _0x2884a4(0x80d):showPodiumView(_0x577fa0[_0x2884a4(0x441)]);break;}});}async function handleKickPlayer(_0x2286ad){const _0x4aa93e=_0x37a926;if(!currentLiveGameId||!_0x2286ad)return;const _0x567065=doc(db,'artifacts/'+appId+_0x4aa93e(0x217),currentLiveGameId),_0x3596f0={};_0x3596f0['players.'+_0x2286ad+'.status']=_0x4aa93e(0x58c);try{await updateDoc(_0x567065,_0x3596f0);}catch(_0x2293ab){console['error'](_0x4aa93e(0x499)+_0x2286ad+':',_0x2293ab),showMessage(_0x4aa93e(0x46d));}}async function authenticateUser(){const _0x4969a2=_0x37a926;try{typeof __initial_auth_token!==_0x4969a2(0x603)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x982816){console[_0x4969a2(0x804)](_0x4969a2(0x6b0),_0x982816),showMessage(_0x4969a2(0x857));}}function showView(_0x1ec0eb){const _0x3a9145=_0x37a926,_0x25fa51=[_0x3a9145(0x5c9),_0x3a9145(0x7fb),_0x3a9145(0x401),_0x3a9145(0x810),_0x3a9145(0x2e1),_0x3a9145(0x1f3),_0x3a9145(0x438)];_0x25fa51[_0x3a9145(0x3dc)](_0x418d5c=>document[_0x3a9145(0x2a6)](_0x418d5c)?.['classList']['add'](_0x3a9145(0x17a)));if(_0x1ec0eb===_0x3a9145(0x13a))adminView[_0x3a9145(0x4a7)]['remove'](_0x3a9145(0x17a)),projectDashboardView[_0x3a9145(0x4a7)][_0x3a9145(0x578)](_0x3a9145(0x17a));else{if(_0x1ec0eb===_0x3a9145(0x5ad))studentView[_0x3a9145(0x4a7)][_0x3a9145(0x578)](_0x3a9145(0x17a)),studentInitialView[_0x3a9145(0x4a7)][_0x3a9145(0x578)](_0x3a9145(0x17a)),studentNameSelectionView[_0x3a9145(0x4a7)][_0x3a9145(0x381)](_0x3a9145(0x17a)),studentQuizArea['classList'][_0x3a9145(0x381)](_0x3a9145(0x17a)),studentResultArea[_0x3a9145(0x4a7)][_0x3a9145(0x381)](_0x3a9145(0x17a)),studentReadingArea[_0x3a9145(0x4a7)]['add'](_0x3a9145(0x17a)),studentJoinGameView['classList'][_0x3a9145(0x381)](_0x3a9145(0x17a));else{if(_0x1ec0eb===_0x3a9145(0x129))adminView[_0x3a9145(0x4a7)][_0x3a9145(0x578)]('hidden'),projectDetailView[_0x3a9145(0x4a7)][_0x3a9145(0x578)](_0x3a9145(0x17a));else{if(_0x1ec0eb==='quiz-results')adminView[_0x3a9145(0x4a7)][_0x3a9145(0x578)](_0x3a9145(0x17a)),quizResultsView['classList']['remove']('hidden');else _0x1ec0eb==='live-game'&&liveGameView[_0x3a9145(0x4a7)][_0x3a9145(0x578)]('hidden');}}}}function showJoinGameView(){const _0x3d6fc0=_0x37a926;studentInitialView[_0x3d6fc0(0x4a7)][_0x3d6fc0(0x381)]('hidden'),studentJoinGameView['classList']['remove'](_0x3d6fc0(0x17a));}async function handleSaveVisibilitySettings(){const _0x58a520=_0x37a926;if(!currentProjectId)return;const _0x1ea9cf=doc(db,_0x58a520(0x11a)+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x1ea9cf,{'settings.showInStudentDashboard':document[_0x58a520(0x2a6)](_0x58a520(0x320))[_0x58a520(0x4ce)],'settings.isPasscodeEnabled':document[_0x58a520(0x2a6)](_0x58a520(0x693))[_0x58a520(0x4ce)],'settings.passcode':document[_0x58a520(0x2a6)](_0x58a520(0x1e1))['value']['trim']()}),showMessage(_0x58a520(0x19d));}catch(_0x48400a){console[_0x58a520(0x804)](_0x58a520(0x4f2),_0x48400a),showMessage(_0x58a520(0x3e6));}}function setupEventListeners(){const _0x4a25db=_0x37a926,_0x19dace=document[_0x4a25db(0x2a6)]('live-game-view');_0x19dace[_0x4a25db(0x7a6)]('click',_0x2e019d=>{const _0x44a044=_0x4a25db,_0x3f3117=_0x2e019d['target'][_0x44a044(0x81a)](_0x44a044(0x202));document[_0x44a044(0x574)](_0x44a044(0x84f))[_0x44a044(0x3dc)](_0x5f3c8e=>{const _0x5ab838=_0x44a044;(!_0x3f3117||_0x5f3c8e['id']!==_0x3f3117[_0x5ab838(0x7b3)]['tooltipTarget'])&&_0x5f3c8e['classList'][_0x5ab838(0x578)](_0x5ab838(0x61f));});if(!_0x3f3117)return;const _0x53a1e0=_0x3f3117[_0x44a044(0x7b3)][_0x44a044(0x63b)],_0x45c5f9=document['getElementById'](_0x53a1e0);_0x45c5f9&&_0x45c5f9[_0x44a044(0x4a7)][_0x44a044(0x73f)](_0x44a044(0x61f));}),_0x19dace['addEventListener'](_0x4a25db(0x69e),_0x49abce=>{const _0x9f54a9=_0x4a25db;if(_0x49abce[_0x9f54a9(0x1d3)][_0x9f54a9(0x4a7)][_0x9f54a9(0x58a)]('kick-player-btn')){const _0x4e3f3f=_0x49abce[_0x9f54a9(0x1d3)][_0x9f54a9(0x7b3)][_0x9f54a9(0x211)];_0x4e3f3f&&handleKickPlayer(_0x4e3f3f);}}),document['getElementById'](_0x4a25db(0x76e))[_0x4a25db(0x7a6)](_0x4a25db(0x255),()=>document[_0x4a25db(0x2a6)](_0x4a25db(0x177))['classList'][_0x4a25db(0x578)]('hidden')),document[_0x4a25db(0x2a6)]('save-project-name-btn')['addEventListener']('click',handleSaveProjectName),document[_0x4a25db(0x2a6)](_0x4a25db(0x76e))[_0x4a25db(0x7a6)](_0x4a25db(0x81b),_0x4484bc=>{const _0x49ce06=_0x4a25db;_0x4484bc['key']===_0x49ce06(0x264)&&(_0x4484bc['preventDefault'](),_0x4484bc[_0x49ce06(0x1d3)][_0x49ce06(0x6ec)](),handleSaveProjectName());}),document[_0x4a25db(0x2a6)]('bulk-quiz-settings-btn')['addEventListener'](_0x4a25db(0x69e),()=>{const _0x17142f=_0x4a25db;document['getElementById'](_0x17142f(0x31e))['classList']['remove'](_0x17142f(0x17a));}),document[_0x4a25db(0x2a6)](_0x4a25db(0x7b1))['addEventListener'](_0x4a25db(0x69e),()=>{const _0x4c6700=_0x4a25db;document[_0x4c6700(0x2a6)](_0x4c6700(0x31e))[_0x4c6700(0x4a7)]['add'](_0x4c6700(0x17a));}),document[_0x4a25db(0x2a6)](_0x4a25db(0x419))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),handleBulkUpdateQuizSettings),document[_0x4a25db(0x2a6)]('mode-switcher-btn')[_0x4a25db(0x7a6)]('click',handleModeSwitch),document['getElementById'](_0x4a25db(0x8ab))[_0x4a25db(0x7a6)]('click',handleUpdateOldQuizzes),document['getElementById']('reset-project-order-btn')[_0x4a25db(0x7a6)](_0x4a25db(0x69e),handleResetProjectOrder),document['getElementById'](_0x4a25db(0x60a))['addEventListener'](_0x4a25db(0x69e),handleSaveVisibilitySettings),document[_0x4a25db(0x2a6)]('add-custom-math-topic-btn')[_0x4a25db(0x7a6)](_0x4a25db(0x69e),handleAddCustomMathTopic),document[_0x4a25db(0x2a6)]('select-all-topics-btn')['addEventListener'](_0x4a25db(0x69e),handleSelectAllTopics),document[_0x4a25db(0x2a6)](_0x4a25db(0x662))[_0x4a25db(0x7a6)]('click',handleDeselectAllTopics),document[_0x4a25db(0x2a6)](_0x4a25db(0x734))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>{const _0x48b7c3=_0x4a25db;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x48b7c3(0x13a));}),document['getElementById'](_0x4a25db(0x3f6))[_0x4a25db(0x7a6)]('click',()=>{const _0x414a1e=_0x4a25db;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x414a1e(0x129));}),document[_0x4a25db(0x2a6)](_0x4a25db(0x594))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>{const _0x2562b6=_0x4a25db;showView(_0x2562b6(0x13a));}),document[_0x4a25db(0x2a6)]('modal-close-btn')[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>{const _0x532c5f=_0x4a25db;messageModal[_0x532c5f(0x4a7)][_0x532c5f(0x381)](_0x532c5f(0x17a)),typeof modalConfirmAction===_0x532c5f(0x52e)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x4a25db(0x2a6)]('create-project-btn')['addEventListener']('click',()=>createProjectModal[_0x4a25db(0x4a7)][_0x4a25db(0x578)](_0x4a25db(0x17a))),document[_0x4a25db(0x2a6)](_0x4a25db(0x433))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>createProjectModal['classList'][_0x4a25db(0x381)]('hidden')),document['getElementById']('cancel-admin-login-btn')['addEventListener']('click',()=>adminPasswordModal[_0x4a25db(0x4a7)]['add'](_0x4a25db(0x17a))),document[_0x4a25db(0x2a6)](_0x4a25db(0x482))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),handleAdminLogin),document[_0x4a25db(0x2a6)](_0x4a25db(0x6dd))[_0x4a25db(0x7a6)](_0x4a25db(0x411),_0x21f852=>{const _0x59eba2=_0x4a25db;if(_0x21f852[_0x59eba2(0x2fd)]===_0x59eba2(0x264))handleAdminLogin();}),document[_0x4a25db(0x2a6)](_0x4a25db(0x219))[_0x4a25db(0x7a6)]('click',()=>{const _0x12e009=_0x4a25db;confirmationModal[_0x12e009(0x4a7)]['add'](_0x12e009(0x17a)),confirmAction=null;}),document[_0x4a25db(0x2a6)](_0x4a25db(0x520))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>{const _0x32c8e2=_0x4a25db;confirmAction&&confirmAction(),confirmationModal[_0x32c8e2(0x4a7)][_0x32c8e2(0x381)](_0x32c8e2(0x17a)),confirmAction=null;}),document['getElementById'](_0x4a25db(0x812))['addEventListener']('click',()=>renameQuizModal[_0x4a25db(0x4a7)][_0x4a25db(0x381)]('hidden')),document[_0x4a25db(0x2a6)](_0x4a25db(0x70c))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),confirmRenameQuiz),document[_0x4a25db(0x2a6)](_0x4a25db(0x82c))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>moveQuizModal[_0x4a25db(0x4a7)][_0x4a25db(0x381)](_0x4a25db(0x17a))),document['getElementById']('confirm-move-quiz-btn')[_0x4a25db(0x7a6)](_0x4a25db(0x69e),confirmMoveQuiz),document[_0x4a25db(0x2a6)]('cancel-quiz-settings-btn')['addEventListener'](_0x4a25db(0x69e),()=>quizSettingsModal[_0x4a25db(0x4a7)]['add']('hidden')),document['getElementById']('confirm-quiz-settings-btn')[_0x4a25db(0x7a6)](_0x4a25db(0x69e),confirmQuizSettings),document[_0x4a25db(0x2a6)](_0x4a25db(0x184))['addEventListener'](_0x4a25db(0x69e),()=>quizStatusModal[_0x4a25db(0x4a7)][_0x4a25db(0x381)](_0x4a25db(0x17a))),document[_0x4a25db(0x2a6)]('confirm-quiz-status-btn')[_0x4a25db(0x7a6)](_0x4a25db(0x69e),confirmQuizStatus);const _0x29d051=document[_0x4a25db(0x2a6)](_0x4a25db(0x51c));document[_0x4a25db(0x2a6)](_0x4a25db(0x8bf))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>{const _0x30bc87=_0x4a25db;_0x29d051[_0x30bc87(0x4a7)][_0x30bc87(0x381)](_0x30bc87(0x17a));}),document[_0x4a25db(0x2a6)](_0x4a25db(0x8ca))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),async()=>{const _0x2ce400=_0x4a25db,_0x23eb40=allQuizzes[_0x2ce400(0x288)](_0x2343a3=>_0x2343a3['id']===actionTargetId);_0x23eb40?(currentQuizData=_0x23eb40,exportQuizAsWorksheetPDF()):showMessage(_0x2ce400(0x33e)),_0x29d051[_0x2ce400(0x4a7)][_0x2ce400(0x381)]('hidden');}),document['getElementById'](_0x4a25db(0x540))['addEventListener'](_0x4a25db(0x69e),async()=>{const _0x4bc72f=_0x4a25db,_0x434e41=allQuizzes[_0x4bc72f(0x288)](_0x525c46=>_0x525c46['id']===actionTargetId);_0x434e41?(currentQuizData=_0x434e41,exportQuizAsTutorPDF()):showMessage(_0x4bc72f(0x33e)),_0x29d051[_0x4bc72f(0x4a7)][_0x4bc72f(0x381)](_0x4bc72f(0x17a));}),document[_0x4a25db(0x2a6)](_0x4a25db(0x4f3))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),openGlobalLiveModal),document[_0x4a25db(0x2a6)](_0x4a25db(0x17f))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>{const _0x4cb9fc=_0x4a25db;document['getElementById'](_0x4cb9fc(0x1b2))[_0x4cb9fc(0x4a7)][_0x4cb9fc(0x381)](_0x4cb9fc(0x17a)),selectedGlobalQuizId=null;}),document[_0x4a25db(0x2a6)](_0x4a25db(0x144))[_0x4a25db(0x7a6)](_0x4a25db(0x80b),_0x4c3b89=>renderGlobalQuizList(_0x4c3b89['target']['value'])),document['getElementById']('confirm-global-live-btn')['addEventListener']('click',()=>{const _0xe560d7=_0x4a25db,_0x1500ce=selectedGlobalQuizId;if(!_0x1500ce)return;document[_0xe560d7(0x2a6)]('global-live-game-modal')[_0xe560d7(0x4a7)][_0xe560d7(0x381)](_0xe560d7(0x17a)),handleStartLiveRace(_0x1500ce);}),document[_0x4a25db(0x2a6)]('project-search-input')[_0x4a25db(0x7a6)](_0x4a25db(0x80b),renderProjects),document['getElementById'](_0x4a25db(0x6f9))[_0x4a25db(0x7a6)]('change',async()=>{const _0x200e27=_0x4a25db,_0x1cb4dd=document[_0x200e27(0x2a6)](_0x200e27(0x6f9))[_0x200e27(0x464)],_0x4c736a=doc(db,_0x200e27(0x259),'dashboardConfig');try{await setDoc(_0x4c736a,{'projectSort':_0x1cb4dd},{'merge':!![]});}catch(_0x3cb059){console['error']('Error\x20updating\x20sort\x20preference:',_0x3cb059),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document['getElementById'](_0x4a25db(0x343))[_0x4a25db(0x7a6)](_0x4a25db(0x80b),renderQuizzes),document['getElementById'](_0x4a25db(0x366))[_0x4a25db(0x7a6)]('click',()=>{const _0x5c0e9f=_0x4a25db;globalDashboardSettings['projectView']=_0x5c0e9f(0x2dd),saveUserPreference(_0x5c0e9f(0x42d),_0x5c0e9f(0x2dd)),renderProjects();}),document[_0x4a25db(0x2a6)]('list-view-btn')['addEventListener']('click',()=>{const _0x9ba78f=_0x4a25db;globalDashboardSettings[_0x9ba78f(0x42d)]=_0x9ba78f(0x54f),saveUserPreference(_0x9ba78f(0x42d),_0x9ba78f(0x54f)),renderProjects();}),manageTab[_0x4a25db(0x7a6)]('click',()=>switchProjectTab(_0x4a25db(0x413))),resultsTab[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>switchProjectTab(_0x4a25db(0x4be))),leaderboardTab['addEventListener'](_0x4a25db(0x69e),()=>switchProjectTab(_0x4a25db(0x1e3))),document[_0x4a25db(0x2a6)]('analytics-tab-btn')[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>switchQuizDetailTab(_0x4a25db(0x87b))),document[_0x4a25db(0x2a6)](_0x4a25db(0x7fd))[_0x4a25db(0x7a6)]('click',()=>switchQuizDetailTab(_0x4a25db(0x7a3))),document[_0x4a25db(0x2a6)](_0x4a25db(0x3fe))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>switchQuizDetailTab(_0x4a25db(0x519))),document[_0x4a25db(0x2a6)](_0x4a25db(0x1e6))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>switchQuizDetailTab(_0x4a25db(0x778))),document[_0x4a25db(0x2a6)](_0x4a25db(0x568))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),handleAnalyzeClass),generateWorksheetBtn['addEventListener']('click',generateWorksheet);const _0x4e36c2=document[_0x4a25db(0x2a6)]('link-tab'),_0x3313cf=document['getElementById'](_0x4a25db(0x106)),_0x3e0cb0=document[_0x4a25db(0x2a6)](_0x4a25db(0x62a)),_0x5a0ed1=document['getElementById'](_0x4a25db(0x76f)),_0x5df537=document[_0x4a25db(0x2a6)](_0x4a25db(0x656)),_0xe31b39=document['getElementById'](_0x4a25db(0x426));topicTab[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>{const _0x164dba=_0x4a25db;topicTab['classList'][_0x164dba(0x381)](_0x164dba(0x2aa)),textTab['classList'][_0x164dba(0x578)]('active'),fileTab[_0x164dba(0x4a7)]['remove'](_0x164dba(0x2aa)),worksheetTab[_0x164dba(0x4a7)][_0x164dba(0x578)](_0x164dba(0x2aa));if(_0x4e36c2)_0x4e36c2[_0x164dba(0x4a7)][_0x164dba(0x578)](_0x164dba(0x2aa));if(_0x3e0cb0)_0x3e0cb0[_0x164dba(0x4a7)][_0x164dba(0x578)](_0x164dba(0x2aa));if(_0x5df537)_0x5df537[_0x164dba(0x4a7)]['remove']('active');topicInputArea[_0x164dba(0x4a7)][_0x164dba(0x578)](_0x164dba(0x17a)),textInputArea[_0x164dba(0x4a7)][_0x164dba(0x381)](_0x164dba(0x17a)),fileInputArea[_0x164dba(0x4a7)][_0x164dba(0x381)]('hidden'),worksheetInputArea[_0x164dba(0x4a7)]['add']('hidden');if(_0x3313cf)_0x3313cf['classList'][_0x164dba(0x381)]('hidden');if(_0x5a0ed1)_0x5a0ed1['classList'][_0x164dba(0x381)](_0x164dba(0x17a));if(_0xe31b39)_0xe31b39[_0x164dba(0x4a7)][_0x164dba(0x381)](_0x164dba(0x17a));}),textTab[_0x4a25db(0x7a6)]('click',()=>{const _0x3fc44e=_0x4a25db;textTab[_0x3fc44e(0x4a7)][_0x3fc44e(0x381)](_0x3fc44e(0x2aa)),topicTab[_0x3fc44e(0x4a7)][_0x3fc44e(0x578)](_0x3fc44e(0x2aa)),fileTab[_0x3fc44e(0x4a7)]['remove'](_0x3fc44e(0x2aa)),worksheetTab['classList'][_0x3fc44e(0x578)]('active');if(_0x4e36c2)_0x4e36c2[_0x3fc44e(0x4a7)][_0x3fc44e(0x578)](_0x3fc44e(0x2aa));if(_0x3e0cb0)_0x3e0cb0['classList'][_0x3fc44e(0x578)](_0x3fc44e(0x2aa));if(_0x5df537)_0x5df537[_0x3fc44e(0x4a7)][_0x3fc44e(0x578)](_0x3fc44e(0x2aa));textInputArea[_0x3fc44e(0x4a7)][_0x3fc44e(0x578)](_0x3fc44e(0x17a)),topicInputArea[_0x3fc44e(0x4a7)]['add'](_0x3fc44e(0x17a)),fileInputArea[_0x3fc44e(0x4a7)][_0x3fc44e(0x381)]('hidden'),worksheetInputArea['classList'][_0x3fc44e(0x381)](_0x3fc44e(0x17a));if(_0x3313cf)_0x3313cf['classList']['add'](_0x3fc44e(0x17a));if(_0x5a0ed1)_0x5a0ed1[_0x3fc44e(0x4a7)]['add'](_0x3fc44e(0x17a));if(_0xe31b39)_0xe31b39[_0x3fc44e(0x4a7)][_0x3fc44e(0x381)](_0x3fc44e(0x17a));}),fileTab[_0x4a25db(0x7a6)]('click',()=>{const _0x31677e=_0x4a25db;fileTab[_0x31677e(0x4a7)][_0x31677e(0x381)](_0x31677e(0x2aa)),topicTab[_0x31677e(0x4a7)]['remove'](_0x31677e(0x2aa)),textTab[_0x31677e(0x4a7)][_0x31677e(0x578)](_0x31677e(0x2aa)),worksheetTab[_0x31677e(0x4a7)][_0x31677e(0x578)](_0x31677e(0x2aa));if(_0x4e36c2)_0x4e36c2['classList'][_0x31677e(0x578)](_0x31677e(0x2aa));if(_0x3e0cb0)_0x3e0cb0['classList']['remove'](_0x31677e(0x2aa));if(_0x5df537)_0x5df537['classList'][_0x31677e(0x578)](_0x31677e(0x2aa));fileInputArea[_0x31677e(0x4a7)][_0x31677e(0x578)](_0x31677e(0x17a)),topicInputArea['classList'][_0x31677e(0x381)](_0x31677e(0x17a)),textInputArea[_0x31677e(0x4a7)][_0x31677e(0x381)](_0x31677e(0x17a)),worksheetInputArea[_0x31677e(0x4a7)][_0x31677e(0x381)](_0x31677e(0x17a));if(_0x3313cf)_0x3313cf[_0x31677e(0x4a7)][_0x31677e(0x381)](_0x31677e(0x17a));if(_0x5a0ed1)_0x5a0ed1['classList']['add'](_0x31677e(0x17a));if(_0xe31b39)_0xe31b39['classList'][_0x31677e(0x381)]('hidden');}),worksheetTab['addEventListener']('click',()=>{const _0x3ec6c7=_0x4a25db;worksheetTab[_0x3ec6c7(0x4a7)][_0x3ec6c7(0x381)](_0x3ec6c7(0x2aa)),topicTab[_0x3ec6c7(0x4a7)][_0x3ec6c7(0x578)](_0x3ec6c7(0x2aa)),textTab[_0x3ec6c7(0x4a7)][_0x3ec6c7(0x578)]('active'),fileTab[_0x3ec6c7(0x4a7)][_0x3ec6c7(0x578)](_0x3ec6c7(0x2aa));if(_0x4e36c2)_0x4e36c2[_0x3ec6c7(0x4a7)][_0x3ec6c7(0x578)](_0x3ec6c7(0x2aa));if(_0x3e0cb0)_0x3e0cb0['classList'][_0x3ec6c7(0x578)](_0x3ec6c7(0x2aa));if(_0x5df537)_0x5df537[_0x3ec6c7(0x4a7)][_0x3ec6c7(0x578)]('active');worksheetInputArea['classList'][_0x3ec6c7(0x578)](_0x3ec6c7(0x17a)),topicInputArea[_0x3ec6c7(0x4a7)]['add']('hidden'),textInputArea[_0x3ec6c7(0x4a7)]['add'](_0x3ec6c7(0x17a)),fileInputArea['classList'][_0x3ec6c7(0x381)](_0x3ec6c7(0x17a));if(_0x3313cf)_0x3313cf[_0x3ec6c7(0x4a7)]['add'](_0x3ec6c7(0x17a));if(_0x5a0ed1)_0x5a0ed1[_0x3ec6c7(0x4a7)][_0x3ec6c7(0x381)](_0x3ec6c7(0x17a));if(_0xe31b39)_0xe31b39['classList'][_0x3ec6c7(0x381)]('hidden');});const _0x4c928c=document[_0x4a25db(0x2a6)](_0x4a25db(0x1c6)),_0x29b96f=document['getElementById'](_0x4a25db(0x349));_0x4c928c&&_0x4c928c[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>{const _0x5a9f46=_0x4a25db;topicTab[_0x5a9f46(0x4a7)][_0x5a9f46(0x578)](_0x5a9f46(0x2aa)),textTab[_0x5a9f46(0x4a7)][_0x5a9f46(0x578)](_0x5a9f46(0x2aa)),fileTab[_0x5a9f46(0x4a7)][_0x5a9f46(0x578)]('active'),worksheetTab[_0x5a9f46(0x4a7)]['remove']('active');if(_0x4e36c2)_0x4e36c2[_0x5a9f46(0x4a7)][_0x5a9f46(0x578)]('active');if(_0x3e0cb0)_0x3e0cb0[_0x5a9f46(0x4a7)][_0x5a9f46(0x578)](_0x5a9f46(0x2aa));if(_0x5df537)_0x5df537[_0x5a9f46(0x4a7)][_0x5a9f46(0x578)]('active');_0x4c928c[_0x5a9f46(0x4a7)][_0x5a9f46(0x381)](_0x5a9f46(0x2aa)),topicInputArea[_0x5a9f46(0x4a7)][_0x5a9f46(0x381)](_0x5a9f46(0x17a)),textInputArea['classList']['add'](_0x5a9f46(0x17a)),fileInputArea[_0x5a9f46(0x4a7)][_0x5a9f46(0x381)](_0x5a9f46(0x17a)),worksheetInputArea[_0x5a9f46(0x4a7)][_0x5a9f46(0x381)](_0x5a9f46(0x17a));if(_0x3313cf)_0x3313cf[_0x5a9f46(0x4a7)][_0x5a9f46(0x381)](_0x5a9f46(0x17a));if(_0x5a0ed1)_0x5a0ed1[_0x5a9f46(0x4a7)][_0x5a9f46(0x381)]('hidden');if(_0xe31b39)_0xe31b39['classList'][_0x5a9f46(0x381)](_0x5a9f46(0x17a));_0x29b96f[_0x5a9f46(0x4a7)][_0x5a9f46(0x578)](_0x5a9f46(0x17a)),displayQuestionBank();});_0x4e36c2&&(_0x4e36c2['addEventListener'](_0x4a25db(0x69e),()=>{const _0x8671c6=_0x4a25db;_0x4e36c2[_0x8671c6(0x4a7)][_0x8671c6(0x381)](_0x8671c6(0x2aa)),topicTab[_0x8671c6(0x4a7)][_0x8671c6(0x578)](_0x8671c6(0x2aa)),textTab[_0x8671c6(0x4a7)]['remove'](_0x8671c6(0x2aa)),fileTab[_0x8671c6(0x4a7)]['remove'](_0x8671c6(0x2aa)),worksheetTab[_0x8671c6(0x4a7)]['remove'](_0x8671c6(0x2aa));if(_0x3e0cb0)_0x3e0cb0['classList'][_0x8671c6(0x578)](_0x8671c6(0x2aa));if(_0x5df537)_0x5df537[_0x8671c6(0x4a7)][_0x8671c6(0x578)]('active');_0x3313cf[_0x8671c6(0x4a7)]['remove']('hidden'),topicInputArea['classList'][_0x8671c6(0x381)](_0x8671c6(0x17a)),textInputArea['classList'][_0x8671c6(0x381)]('hidden'),fileInputArea[_0x8671c6(0x4a7)]['add'](_0x8671c6(0x17a)),worksheetInputArea['classList'][_0x8671c6(0x381)](_0x8671c6(0x17a));if(_0x5a0ed1)_0x5a0ed1[_0x8671c6(0x4a7)][_0x8671c6(0x381)]('hidden');if(_0xe31b39)_0xe31b39[_0x8671c6(0x4a7)]['add'](_0x8671c6(0x17a));}),document[_0x4a25db(0x2a6)](_0x4a25db(0x295))['addEventListener'](_0x4a25db(0x69e),handleGenerateFromLink));_0x3e0cb0&&_0x3e0cb0[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>{const _0x3fa609=_0x4a25db;_0x3e0cb0['classList'][_0x3fa609(0x381)](_0x3fa609(0x2aa)),topicTab[_0x3fa609(0x4a7)][_0x3fa609(0x578)](_0x3fa609(0x2aa)),textTab['classList'][_0x3fa609(0x578)](_0x3fa609(0x2aa)),fileTab[_0x3fa609(0x4a7)]['remove'](_0x3fa609(0x2aa)),worksheetTab[_0x3fa609(0x4a7)][_0x3fa609(0x578)](_0x3fa609(0x2aa));if(_0x4e36c2)_0x4e36c2[_0x3fa609(0x4a7)][_0x3fa609(0x578)]('active');if(_0x4c928c)_0x4c928c[_0x3fa609(0x4a7)][_0x3fa609(0x578)](_0x3fa609(0x2aa));if(_0x5df537)_0x5df537[_0x3fa609(0x4a7)]['remove']('active');_0x5a0ed1[_0x3fa609(0x4a7)][_0x3fa609(0x578)](_0x3fa609(0x17a)),topicInputArea[_0x3fa609(0x4a7)][_0x3fa609(0x381)]('hidden'),textInputArea[_0x3fa609(0x4a7)][_0x3fa609(0x381)](_0x3fa609(0x17a)),fileInputArea[_0x3fa609(0x4a7)][_0x3fa609(0x381)](_0x3fa609(0x17a)),worksheetInputArea[_0x3fa609(0x4a7)]['add'](_0x3fa609(0x17a));if(_0x3313cf)_0x3313cf[_0x3fa609(0x4a7)]['add']('hidden');if(_0x29b96f)_0x29b96f[_0x3fa609(0x4a7)][_0x3fa609(0x381)](_0x3fa609(0x17a));if(_0xe31b39)_0xe31b39[_0x3fa609(0x4a7)]['add'](_0x3fa609(0x17a));});_0x5df537&&_0x5df537[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>{const _0x3f3d0c=_0x4a25db;_0x5df537[_0x3f3d0c(0x4a7)][_0x3f3d0c(0x381)](_0x3f3d0c(0x2aa)),topicTab[_0x3f3d0c(0x4a7)][_0x3f3d0c(0x578)](_0x3f3d0c(0x2aa)),textTab['classList'][_0x3f3d0c(0x578)](_0x3f3d0c(0x2aa)),fileTab[_0x3f3d0c(0x4a7)]['remove'](_0x3f3d0c(0x2aa)),worksheetTab['classList'][_0x3f3d0c(0x578)]('active');if(_0x4e36c2)_0x4e36c2[_0x3f3d0c(0x4a7)]['remove'](_0x3f3d0c(0x2aa));if(_0x3e0cb0)_0x3e0cb0[_0x3f3d0c(0x4a7)][_0x3f3d0c(0x578)](_0x3f3d0c(0x2aa));if(_0x4c928c)_0x4c928c[_0x3f3d0c(0x4a7)][_0x3f3d0c(0x578)](_0x3f3d0c(0x2aa));_0xe31b39[_0x3f3d0c(0x4a7)][_0x3f3d0c(0x578)]('hidden'),topicInputArea[_0x3f3d0c(0x4a7)][_0x3f3d0c(0x381)](_0x3f3d0c(0x17a)),textInputArea[_0x3f3d0c(0x4a7)][_0x3f3d0c(0x381)](_0x3f3d0c(0x17a)),fileInputArea[_0x3f3d0c(0x4a7)]['add'](_0x3f3d0c(0x17a)),worksheetInputArea[_0x3f3d0c(0x4a7)][_0x3f3d0c(0x381)](_0x3f3d0c(0x17a));if(_0x3313cf)_0x3313cf[_0x3f3d0c(0x4a7)][_0x3f3d0c(0x381)](_0x3f3d0c(0x17a));if(_0x5a0ed1)_0x5a0ed1[_0x3f3d0c(0x4a7)]['add']('hidden');if(_0x29b96f)_0x29b96f[_0x3f3d0c(0x4a7)][_0x3f3d0c(0x381)](_0x3f3d0c(0x17a));});const _0x521943=document[_0x4a25db(0x2a6)](_0x4a25db(0x2d6)),_0xdc1455=document[_0x4a25db(0x2a6)](_0x4a25db(0x175));_0x521943&&_0x521943[_0x4a25db(0x7a6)](_0x4a25db(0x430),_0x5c2cc0=>{const _0xcf777e=_0x4a25db;_0x5c2cc0['target']['files']['length']>0x0?_0xdc1455[_0xcf777e(0x108)]=![]:_0xdc1455['disabled']=!![];});_0xdc1455&&_0xdc1455[_0x4a25db(0x7a6)]('click',handleGenerateFromBlueprint);const _0x2f91aa=document[_0x4a25db(0x2a6)](_0x4a25db(0x34f)),_0x4d5a6d=document[_0x4a25db(0x2a6)](_0x4a25db(0x732));_0x2f91aa&&_0x2f91aa[_0x4a25db(0x7a6)]('change',_0x121e00=>{const _0xed57a5=_0x4a25db;_0x4d5a6d[_0xed57a5(0x108)]=_0x121e00['target'][_0xed57a5(0x34d)][_0xed57a5(0x836)]===0x0;});_0x4d5a6d&&_0x4d5a6d[_0x4a25db(0x7a6)]('click',handleGenerateParallelTest);loadQuizBtn[_0x4a25db(0x7a6)](_0x4a25db(0x69e),handleLoadQuiz),startQuizBtn['addEventListener'](_0x4a25db(0x69e),async()=>{const _0x2b3f95=_0x4a25db,_0x302587=document[_0x2b3f95(0x2a6)](_0x2b3f95(0x18d));currentStudentName=_0x302587[_0x2b3f95(0x464)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0x116b8b=currentQuizData['id'],_0x1bb152=doc(db,'artifacts/'+appId+_0x2b3f95(0x522)+_0x116b8b+_0x2b3f95(0x383),currentStudentName);await setDoc(_0x1bb152,{'studentName':currentStudentName,'startedAt':new Date()[_0x2b3f95(0x223)](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x426109){console[_0x2b3f95(0x804)](_0x2b3f95(0x23e),_0x426109),showMessage(_0x2b3f95(0x657));return;}studentNameSelectionView[_0x2b3f95(0x4a7)]['add'](_0x2b3f95(0x17a)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x4a25db(0x2a6)](_0x4a25db(0x61e))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),showJoinGameView),document[_0x4a25db(0x2a6)](_0x4a25db(0x543))[_0x4a25db(0x7a6)]('click',handleJoinLiveGame),document[_0x4a25db(0x2a6)](_0x4a25db(0x278))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>showView(_0x4a25db(0x5ad)));const _0x4a9278=()=>{const _0x27559a=_0x4a25db,_0x1b13aa=document[_0x27559a(0x2a6)]('results-quiz-title')[_0x27559a(0x523)]['replace'](/[^a-z0-9]/gi,'_')[_0x27559a(0x7fc)]();return _0x27559a(0x7bc)+(_0x1b13aa||_0x27559a(0x766));},_0x3e6443=document['getElementById'](_0x4a25db(0x1f9));_0x3e6443&&_0x3e6443[_0x4a25db(0x7a6)](_0x4a25db(0x80b),_0x186c38=>{const _0x2a3267=_0x4a25db,_0x20d2aa=_0x186c38['target'][_0x2a3267(0x464)][_0x2a3267(0x7fc)]()['trim'](),_0x97b578=document[_0x2a3267(0x2a6)](_0x2a3267(0x53f)),_0x28472f=_0x97b578[_0x2a3267(0x574)]('.topic-category');_0x28472f[_0x2a3267(0x3dc)](_0x467296=>{const _0x342ad4=_0x2a3267;let _0xd5b769=![];const _0x5baa54=_0x467296[_0x342ad4(0x574)]('.topic-row');_0x5baa54[_0x342ad4(0x3dc)](_0x21cf04=>{const _0x2c7e9c=_0x342ad4,_0x3c645e=_0x21cf04['querySelector'](_0x2c7e9c(0x45d))['textContent'][_0x2c7e9c(0x7fc)]();_0x3c645e['includes'](_0x20d2aa)?(_0x21cf04[_0x2c7e9c(0x660)]['display']='flex',_0xd5b769=!![]):_0x21cf04[_0x2c7e9c(0x660)][_0x2c7e9c(0x50b)]=_0x2c7e9c(0x5f7);}),_0xd5b769?_0x467296[_0x342ad4(0x660)][_0x342ad4(0x50b)]=_0x342ad4(0x153):_0x467296[_0x342ad4(0x660)]['display']=_0x342ad4(0x5f7);});});document[_0x4a25db(0x2a6)](_0x4a25db(0x30a))['addEventListener'](_0x4a25db(0x69e),()=>exportTableAsImage(_0x4a25db(0x41a),_0x4a9278())),document['getElementById']('export-pdf-btn')['addEventListener'](_0x4a25db(0x69e),()=>exportTableAsPDF('results-table',_0x4a9278())),document['getElementById'](_0x4a25db(0x4bd))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>exportTableAsWord(_0x4a25db(0x41a),_0x4a9278())),document[_0x4a25db(0x2a6)](_0x4a25db(0x39e))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>exportTableAsExcel(_0x4a25db(0x43e),_0x4a9278()));const _0x267a9b=()=>{const _0x2d790a=_0x4a25db,_0x2f6a63=document[_0x2d790a(0x2a6)](_0x2d790a(0x205))['textContent'][_0x2d790a(0x575)](/[^a-z0-9]/gi,'_')[_0x2d790a(0x7fc)]();return'leaderboard_'+(_0x2f6a63||'quiz');};document[_0x4a25db(0x2a6)]('export-leaderboard-image-btn')[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>exportTableAsImage(_0x4a25db(0x15e),_0x267a9b())),document[_0x4a25db(0x2a6)]('export-leaderboard-pdf-btn')['addEventListener'](_0x4a25db(0x69e),()=>exportTableAsPDF(_0x4a25db(0x557),_0x267a9b())),document[_0x4a25db(0x2a6)](_0x4a25db(0x830))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>exportTableAsWord(_0x4a25db(0x15e),_0x267a9b())),document[_0x4a25db(0x2a6)](_0x4a25db(0x42b))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>exportTableAsExcel(_0x4a25db(0x557),_0x267a9b())),projectQuizzesList[_0x4a25db(0x7a6)]('click',async _0x181c53=>{const _0x352b4c=_0x4a25db,_0x4f5317=_0x181c53['target']['closest'](_0x352b4c(0x801)),_0x7d9f47=_0x181c53[_0x352b4c(0x1d3)]['closest']('.generate-post-test-btn'),_0xbd5e20=_0x181c53['target'][_0x352b4c(0x81a)](_0x352b4c(0x227)),_0x1dd20b=_0x181c53[_0x352b4c(0x1d3)][_0x352b4c(0x81a)](_0x352b4c(0x1ca)),_0xb68dae=_0x181c53['target'][_0x352b4c(0x81a)](_0x352b4c(0x5ed)),_0x1cfcd4=_0x181c53[_0x352b4c(0x1d3)]['closest'](_0x352b4c(0x737)),_0x55076c=_0x181c53[_0x352b4c(0x1d3)][_0x352b4c(0x81a)](_0x352b4c(0x420)),_0x530880=_0x181c53[_0x352b4c(0x1d3)][_0x352b4c(0x81a)](_0x352b4c(0x5e6)),_0x15921e=_0x181c53['target']['closest'](_0x352b4c(0x625)),_0x216f90=_0x181c53[_0x352b4c(0x1d3)]['closest']('.rename-quiz-btn'),_0xe0b517=_0x181c53[_0x352b4c(0x1d3)]['closest'](_0x352b4c(0x1c0)),_0x14eeee=_0x181c53['target'][_0x352b4c(0x81a)]('.move-quiz-btn'),_0x4c03c4=_0x181c53[_0x352b4c(0x1d3)]['closest'](_0x352b4c(0x555)),_0x378299=_0x181c53['target'][_0x352b4c(0x81a)](_0x352b4c(0x265)),_0x5d6a23=_0x181c53['target'][_0x352b4c(0x81a)](_0x352b4c(0x741)),_0x6ac452=_0x181c53['target']['closest'](_0x352b4c(0x635)),_0x47892c=_0x181c53['target'][_0x352b4c(0x81a)](_0x352b4c(0x82b)),_0x2ba258=_0x181c53[_0x352b4c(0x1d3)][_0x352b4c(0x81a)](_0x352b4c(0x6cb)),_0x2c8d11=_0x181c53[_0x352b4c(0x1d3)][_0x352b4c(0x81a)](_0x352b4c(0x49b)),_0x340305=_0x181c53[_0x352b4c(0x1d3)][_0x352b4c(0x81a)](_0x352b4c(0x871)),_0x1c5d0f=_0x181c53['target']['closest'](_0x352b4c(0x50a)),_0x435318=_0x181c53[_0x352b4c(0x1d3)][_0x352b4c(0x81a)]('.generate-easy-version-btn');if(_0x1c5d0f){const _0x51689c=_0x1c5d0f['dataset'][_0x352b4c(0x24b)],_0xcf1370=document[_0x352b4c(0x2a6)]('actions-container-'+_0x51689c);_0xcf1370&&_0xcf1370[_0x352b4c(0x4a7)]['toggle'](_0x352b4c(0x17a));}else{if(_0x7d9f47){const _0x4110d8=_0x7d9f47[_0x352b4c(0x7b3)][_0x352b4c(0x24b)],_0xe5100d=allQuizzes[_0x352b4c(0x288)](_0x4ac84a=>_0x4ac84a['id']===_0x4110d8);_0xe5100d&&handleGenerateParallelPostTest(_0xe5100d);}else{if(_0xbd5e20)handleCompareResults(_0xbd5e20[_0x352b4c(0x7b3)]['quizId'],_0xbd5e20[_0x352b4c(0x7b3)][_0x352b4c(0x445)]);else{if(_0x1dd20b){const _0x63120f=_0x1dd20b[_0x352b4c(0x7b3)][_0x352b4c(0x24b)],_0x5e6ede=allQuizzes['find'](_0x58d813=>_0x58d813['id']===_0x63120f);_0x5e6ede&&_0x5e6ede['lessonPlan']?(displayLessonPlan(_0x5e6ede[_0x352b4c(0x100)],_0x5e6ede),showConfirmation(_0x352b4c(0x6ca),()=>handleGenerateLessonPlan(_0x63120f)),document[_0x352b4c(0x2a6)](_0x352b4c(0x36a))['querySelector']('h3')[_0x352b4c(0x523)]=_0x352b4c(0xd5),document[_0x352b4c(0x2a6)](_0x352b4c(0x520))['textContent']=_0x352b4c(0x18e)):handleGenerateLessonPlan(_0x63120f);}else{if(_0xb68dae)handleToggleStarQuiz(_0xb68dae[_0x352b4c(0x7b3)][_0x352b4c(0x24b)]);else{if(_0x1cfcd4)copyTextToClipboard(_0x1cfcd4[_0x352b4c(0x7b3)][_0x352b4c(0x24b)],_0x352b4c(0x458));else{if(_0x55076c)handleOpenQuizEditor(_0x55076c[_0x352b4c(0x7b3)][_0x352b4c(0x24b)]);else{if(_0x530880)handleQuizSettings(_0x530880['dataset'][_0x352b4c(0x24b)]);else{if(_0x15921e)handleDuplicateQuiz(_0x15921e['dataset'][_0x352b4c(0x24b)]);else{if(_0x216f90)handleRenameQuiz(_0x216f90[_0x352b4c(0x7b3)][_0x352b4c(0x24b)],_0x216f90['dataset'][_0x352b4c(0xc6)]);else{if(_0xe0b517){const _0x58b64a=_0xe0b517[_0x352b4c(0x7b3)]['quizId'],_0x1d6e89=allQuizzes['find'](_0xca35b3=>_0xca35b3['id']===_0x58b64a);_0x1d6e89&&handleGenerateParallelFromBank(_0x1d6e89);}else{if(_0x14eeee)handleMoveQuiz(_0x14eeee['dataset'][_0x352b4c(0x24b)]);else{if(_0x4c03c4)handleManualQuizPairing(_0x4c03c4[_0x352b4c(0x7b3)][_0x352b4c(0x24b)]);else{if(_0x378299)handleUnpairQuiz(_0x378299['dataset'][_0x352b4c(0x24b)]);else{if(_0x5d6a23){const _0x5b83e5=_0x5d6a23[_0x352b4c(0x7b3)][_0x352b4c(0x24b)],_0x1157c8=allQuizzes['find'](_0x4eaa92=>_0x4eaa92['id']===_0x5b83e5);if(_0x1157c8)startPresentation(_0x1157c8);}else{if(_0x6ac452){const _0x4d1bb9=_0x6ac452[_0x352b4c(0x7b3)]['quizId'],_0x341617=allQuizzes[_0x352b4c(0x288)](_0x47bb02=>_0x47bb02['id']===_0x4d1bb9);_0x341617&&(currentQuizData=_0x341617,startAdminTest());}else{if(_0x47892c)handleStartLiveRace(_0x47892c['dataset']['quizId']);else{if(_0x2ba258)actionTargetId=_0x2ba258[_0x352b4c(0x7b3)]['quizId'],document[_0x352b4c(0x2a6)](_0x352b4c(0x51c))[_0x352b4c(0x4a7)][_0x352b4c(0x578)](_0x352b4c(0x17a));else{if(_0x2c8d11)showConfirmation(_0x352b4c(0x6aa)+_0x2c8d11[_0x352b4c(0x7b3)][_0x352b4c(0xc6)]+_0x352b4c(0x322),()=>handleDeleteQuiz(_0x2c8d11[_0x352b4c(0x7b3)][_0x352b4c(0x24b)]));else{if(_0x340305)handleQuizStatus(_0x340305[_0x352b4c(0x7b3)][_0x352b4c(0x24b)]);else{if(_0x435318)handleGenerateEasyVersionQuiz(_0x435318[_0x352b4c(0x7b3)][_0x352b4c(0x24b)]);else _0x4f5317&&showQuizDetailView(_0x4f5317[_0x352b4c(0x7b3)]['quizId']);}}}}}}}}}}}}}}}}}}}}}),document[_0x4a25db(0x2a6)](_0x4a25db(0x557))[_0x4a25db(0x8cb)]('thead')[_0x4a25db(0x7a6)](_0x4a25db(0x69e),_0xfbe186=>{const _0x526549=_0x4a25db,_0x2daf28=_0xfbe186['target'][_0x526549(0x81a)](_0x526549(0x118));if(!_0x2daf28||!_0x2daf28[_0x526549(0x7b3)][_0x526549(0x8b6)])return;const _0x2db580=_0x2daf28[_0x526549(0x7b3)][_0x526549(0x8b6)];if(quizLeaderboardSortBy===_0x2db580)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x526549(0x6ed)?'desc':'asc';else{quizLeaderboardSortBy=_0x2db580;const _0x2f8995=[_0x526549(0x4c6)];quizLeaderboardSortOrder=_0x2f8995[_0x526549(0x6a4)](_0x2db580)?_0x526549(0x6ed):_0x526549(0x5f6);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x526549(0x37a));}),document[_0x4a25db(0x2a6)](_0x4a25db(0x5ac))['addEventListener'](_0x4a25db(0x69e),closePresentation),document[_0x4a25db(0x2a6)]('prev-question-btn')[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x4a25db(0x2a6)](_0x4a25db(0x648))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>{const _0x4108e6=_0x4a25db;currentQuizData[_0x4108e6(0x5fc)]&&currentPresentationSlide<currentQuizData['questions'][_0x4108e6(0x836)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x4a25db(0x7a6)](_0x4a25db(0xe3),()=>{const _0x13c788=_0x4a25db;!document[_0x13c788(0x166)]&&(presentationModal['style'][_0x13c788(0x50b)]=_0x13c788(0x5f7));}),document[_0x4a25db(0x2a6)](_0x4a25db(0x6bf))['addEventListener']('click',handleDeleteAllStudents),studentList[_0x4a25db(0x7a6)]('click',_0x448a53=>{const _0x34a5ff=_0x4a25db,_0x4a91e8=_0x448a53['target'][_0x34a5ff(0x81a)](_0x34a5ff(0x268));if(_0x4a91e8){const _0x51db00=_0x4a91e8['dataset'][_0x34a5ff(0x4c6)];handleDeleteStudent(_0x51db00);}}),document[_0x4a25db(0x2a6)]('generate-from-file-btn')[_0x4a25db(0x7a6)]('click',handleGenerateFromFileClick),fileUploadInput[_0x4a25db(0x7a6)]('change',_0x121d17=>{const _0x1a3229=_0x4a25db,_0x22e947=_0x121d17['target'][_0x1a3229(0x34d)][0x0],_0x59532a=document[_0x1a3229(0x2a6)](_0x1a3229(0x7d3));_0x22e947?(selectedFile=_0x22e947,_0x59532a[_0x1a3229(0x108)]=![]):(selectedFile=null,_0x59532a[_0x1a3229(0x108)]=!![]);}),document['getElementById'](_0x4a25db(0x12d))[_0x4a25db(0x7a6)](_0x4a25db(0x430),_0xe00226=>{const _0x219272=_0x4a25db,_0x511d66=document['getElementById']('timer-duration-container'),_0x4cb32f=document[_0x219272(0x2a6)](_0x219272(0x237)),_0x1698f8=document[_0x219272(0x2a6)](_0x219272(0x7d9));_0xe00226[_0x219272(0x1d3)][_0x219272(0x464)]===_0x219272(0x5f7)?_0x511d66[_0x219272(0x4a7)][_0x219272(0x381)](_0x219272(0x17a)):(_0x511d66[_0x219272(0x4a7)][_0x219272(0x578)](_0x219272(0x17a)),_0xe00226[_0x219272(0x1d3)][_0x219272(0x464)]===_0x219272(0x40b)?(_0x4cb32f[_0x219272(0x523)]=_0x219272(0x6e4),_0x1698f8[_0x219272(0x464)]='10'):(_0x4cb32f[_0x219272(0x523)]=_0x219272(0x28c),_0x1698f8[_0x219272(0x464)]='30'));}),document[_0x4a25db(0x2a6)](_0x4a25db(0x454))[_0x4a25db(0x7a6)](_0x4a25db(0x430),_0x33a46e=>{const _0xd57547=_0x4a25db,_0x53241b=document[_0xd57547(0x2a6)](_0xd57547(0x5e8)),_0x1973b4=_0x33a46e['target'][_0xd57547(0x464)],_0x3ee1af=document[_0xd57547(0x8cb)](_0xd57547(0x40e)),_0x5c0d38=document[_0xd57547(0x2a6)](_0xd57547(0x721)),_0x510d3a=document['getElementById'](_0xd57547(0x174));_0x1973b4===_0xd57547(0x119)?_0x3ee1af[_0xd57547(0x523)]=_0xd57547(0x88f):_0x3ee1af['textContent']='จำนวนข้อ:',_0x1973b4===_0xd57547(0x149)||_0x1973b4==='fill_in_with_choices'||_0x1973b4===_0xd57547(0x45c)?_0x53241b[_0xd57547(0x4a7)]['remove']('hidden'):_0x53241b[_0xd57547(0x4a7)][_0xd57547(0x381)]('hidden'),_0x5c0d38[_0xd57547(0x12b)]=_0x510d3a[_0xd57547(0x464)];}),document['getElementById'](_0x4a25db(0x174))['addEventListener'](_0x4a25db(0x80b),_0x5c623d=>{const _0x59537c=_0x4a25db;document[_0x59537c(0x2a6)](_0x59537c(0x721))[_0x59537c(0x12b)]=_0x5c623d[_0x59537c(0x1d3)]['value'];}),document[_0x4a25db(0x2a6)]('modal-timer-mode-select')['addEventListener'](_0x4a25db(0x430),_0x2a0bca=>{const _0x44363a=_0x4a25db,_0xe28223=document['getElementById']('modal-timer-duration-container'),_0x59d33b=document[_0x44363a(0x2a6)](_0x44363a(0x5aa)),_0x3616e9=document[_0x44363a(0x2a6)]('modal-timer-duration-input');_0x2a0bca['target'][_0x44363a(0x464)]===_0x44363a(0x5f7)?_0xe28223[_0x44363a(0x4a7)][_0x44363a(0x381)](_0x44363a(0x17a)):(_0xe28223[_0x44363a(0x4a7)]['remove'](_0x44363a(0x17a)),_0x2a0bca[_0x44363a(0x1d3)]['value']===_0x44363a(0x40b)?_0x59d33b['textContent']=_0x44363a(0x6e4):_0x59d33b['textContent']=_0x44363a(0x28c));}),document[_0x4a25db(0x2a6)](_0x4a25db(0x869))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>{const _0x12ebb7=_0x4a25db;document[_0x12ebb7(0x2a6)](_0x12ebb7(0x67c))[_0x12ebb7(0x4a7)][_0x12ebb7(0x381)](_0x12ebb7(0x17a));}),document[_0x4a25db(0x2a6)](_0x4a25db(0x7af))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>{const _0x187a10=_0x4a25db;document[_0x187a10(0x2a6)]('quiz-editor-modal')[_0x187a10(0x4a7)][_0x187a10(0x381)](_0x187a10(0x17a));}),document[_0x4a25db(0x2a6)](_0x4a25db(0x12e))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),handleVerifyAnswersInEditor),document[_0x4a25db(0x2a6)]('save-quiz-edits-btn')[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>{const _0x17a76b=_0x4a25db;document[_0x17a76b(0x2a6)](_0x17a76b(0x67c))[_0x17a76b(0x4a7)][_0x17a76b(0x381)](_0x17a76b(0x17a)),showConfirmation(_0x17a76b(0x24a),handleSaveChanges);}),document[_0x4a25db(0x2a6)](_0x4a25db(0xda))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),handleAutoFixLatex);const _0x2035fa=document[_0x4a25db(0x2a6)](_0x4a25db(0x4cc));_0x2035fa&&_0x2035fa[_0x4a25db(0x7a6)](_0x4a25db(0x69e),_0x512ffd=>{const _0x564dbd=_0x4a25db,_0x404f2a=_0x512ffd[_0x564dbd(0x1d3)][_0x564dbd(0x81a)](_0x564dbd(0x459));if(_0x404f2a){const _0x54c616=_0x404f2a[_0x564dbd(0x81a)]('.question-editor-item'),_0x399474=parseInt(_0x54c616[_0x564dbd(0x7b3)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x399474);}});document[_0x4a25db(0x2a6)](_0x4a25db(0x347))[_0x4a25db(0x7a6)]('click',openQuizBankModal),document[_0x4a25db(0x2a6)](_0x4a25db(0x79c))['addEventListener']('click',()=>{const _0xf72e32=_0x4a25db;document['getElementById'](_0xf72e32(0xfc))['classList'][_0xf72e32(0x381)](_0xf72e32(0x17a));}),document['getElementById'](_0x4a25db(0x105))['addEventListener'](_0x4a25db(0x80b),_0x4cc4d0=>renderQuizBankList(_0x4cc4d0[_0x4a25db(0x1d3)][_0x4a25db(0x464)]));const _0x4aa38c=document['getElementById'](_0x4a25db(0x53f));if(_0x4aa38c){let _0x2b6811=null;_0x4aa38c[_0x4a25db(0x7a6)](_0x4a25db(0x69e),_0x1dfb8f=>{const _0x4111e0=_0x4a25db,_0x264e5a=_0x1dfb8f['target'],_0x30f9fb=_0x264e5a[_0x4111e0(0x81a)]('.edit-custom-topic-btn'),_0x20c8a8=_0x264e5a[_0x4111e0(0x81a)](_0x4111e0(0xe4)),_0x1ba4af=_0x264e5a[_0x4111e0(0x81a)]('.save-custom-topic-btn'),_0x249ae2=_0x264e5a[_0x4111e0(0x81a)](_0x4111e0(0x313));if(_0x20c8a8){_0x1dfb8f[_0x4111e0(0x281)]();const _0xd93bf=_0x20c8a8['dataset']['id'],_0x134da8=_0x20c8a8['closest'](_0x4111e0(0x822))[_0x4111e0(0x8cb)]('.topic-name-display')[_0x4111e0(0x523)];showConfirmation(_0x4111e0(0x599)+_0x134da8+'\x22?',()=>handleDeleteCustomTopic(_0xd93bf));}else{if(_0x30f9fb){_0x1dfb8f[_0x4111e0(0x281)]();_0x2b6811&&toggleTopicEditMode(_0x2b6811,![]);const _0x562c2e=_0x30f9fb[_0x4111e0(0x81a)](_0x4111e0(0x567));_0x2b6811=_0x562c2e,toggleTopicEditMode(_0x562c2e,!![]);}else{if(_0x1ba4af){_0x1dfb8f[_0x4111e0(0x281)]();const _0x4e414a=_0x1ba4af[_0x4111e0(0x7b3)]['id'],_0x21b45b=_0x1ba4af[_0x4111e0(0x81a)](_0x4111e0(0x567)),_0x4142ee=_0x21b45b['querySelector'](_0x4111e0(0x6b3))[_0x4111e0(0x464)];handleUpdateCustomTopic(_0x4e414a,_0x4142ee),_0x2b6811=null;}else{if(_0x249ae2){_0x1dfb8f['preventDefault']();const _0x475d75=_0x249ae2['closest'](_0x4111e0(0x567));toggleTopicEditMode(_0x475d75,![]),_0x2b6811=null;}}}}}),document[_0x4a25db(0x2a6)](_0x4a25db(0x402))['addEventListener']('click',()=>{const _0x208c24=_0x4a25db;document['getElementById'](_0x208c24(0x5fd))[_0x208c24(0x4a7)]['add'](_0x208c24(0x17a));}),document[_0x4a25db(0x2a6)](_0x4a25db(0x416))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>{const _0x21c0d7=_0x4a25db;document[_0x21c0d7(0x2a6)](_0x21c0d7(0x5fd))[_0x21c0d7(0x4a7)][_0x21c0d7(0x381)]('hidden');}),document[_0x4a25db(0x2a6)](_0x4a25db(0x652))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),handleExportLessonPDF);}document[_0x4a25db(0x2a6)](_0x4a25db(0x75d))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>{const _0x1570f7=_0x4a25db;document[_0x1570f7(0x2a6)](_0x1570f7(0x7f5))[_0x1570f7(0x4a7)][_0x1570f7(0x381)](_0x1570f7(0x17a));}),document['getElementById'](_0x4a25db(0x4ea))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),()=>{const _0x4ed68d=_0x4a25db;document[_0x4ed68d(0x2a6)](_0x4ed68d(0x7f5))[_0x4ed68d(0x4a7)]['add'](_0x4ed68d(0x17a));}),setupComparisonModalTabs(),document[_0x4a25db(0x75f)]['addEventListener'](_0x4a25db(0x69e),function(_0x48cbdb){const _0x314b10=_0x4a25db;if(_0x48cbdb['target'][_0x314b10(0x4a7)][_0x314b10(0x58a)](_0x314b10(0x498))){const _0x406660=unescape(_0x48cbdb['target'][_0x314b10(0x7b3)]['topic']);startSkillPractice(_0x406660);}}),document[_0x4a25db(0x2a6)](_0x4a25db(0x56b))[_0x4a25db(0x7a6)](_0x4a25db(0x69e),_0x201b68=>{const _0x2c0fbf=_0x4a25db,_0x5b03f0=_0x201b68[_0x2c0fbf(0x1d3)][_0x2c0fbf(0x81a)](_0x2c0fbf(0x55e));if(_0x5b03f0){const _0x38dd6f=_0x5b03f0[_0x2c0fbf(0x7b3)][_0x2c0fbf(0x4c6)];handleDeleteSubmission(_0x38dd6f);}});}async function showStudentProgressView(){const _0x5bcacd=_0x37a926;studentInitialView[_0x5bcacd(0x4a7)][_0x5bcacd(0x381)](_0x5bcacd(0x17a)),document[_0x5bcacd(0x2a6)](_0x5bcacd(0x438))['classList'][_0x5bcacd(0x578)](_0x5bcacd(0x17a));const _0x39b7c0=document[_0x5bcacd(0x2a6)](_0x5bcacd(0xc9)),_0x9be6a6=document[_0x5bcacd(0x2a6)](_0x5bcacd(0x14d)),_0x4a069e=document['getElementById'](_0x5bcacd(0x77d));_0x4a069e[_0x5bcacd(0x7b0)]=_0x5bcacd(0x5a1),_0x9be6a6[_0x5bcacd(0x7b0)]=_0x5bcacd(0x374),_0x9be6a6['disabled']=!![],_0x39b7c0[_0x5bcacd(0x7b0)]=_0x5bcacd(0x6f3);if(allProjects['length']===0x0){const _0x18e707=collection(db,_0x5bcacd(0x11a)+appId+_0x5bcacd(0x53a)),_0x26ba74=await getDocs(_0x18e707);allProjects=_0x26ba74['docs']['map'](_0x5e141c=>({'id':_0x5e141c['id'],..._0x5e141c[_0x5bcacd(0x7a8)]()}));}const _0x29ffe9=allProjects[_0x5bcacd(0x63c)](_0x4bccd0=>_0x4bccd0[_0x5bcacd(0x74a)]?.[_0x5bcacd(0x120)]!==![]);_0x29ffe9['sort']((_0x42e9b3,_0x312bfc)=>_0x42e9b3[_0x5bcacd(0x6b7)][_0x5bcacd(0xdb)](_0x312bfc[_0x5bcacd(0x6b7)],'th')),_0x39b7c0[_0x5bcacd(0x7b0)]=_0x5bcacd(0x565)+_0x29ffe9['map'](_0x453b51=>_0x5bcacd(0x7b9)+_0x453b51['id']+'\x22>'+_0x453b51[_0x5bcacd(0x6b7)]+_0x5bcacd(0x872))[_0x5bcacd(0x43d)](''),_0x39b7c0[_0x5bcacd(0x8ac)]=()=>{const _0x1ffc85=_0x5bcacd,_0x1868a2=_0x9be6a6['value'],_0x958973=_0x39b7c0[_0x1ffc85(0x464)];_0x9be6a6['disabled']=!![],_0x9be6a6[_0x1ffc85(0x7b0)]=_0x1ffc85(0x374),_0x4a069e[_0x1ffc85(0x7b0)]=_0x1ffc85(0x71b);if(!_0x958973)return;const _0x2f6944=allProjects[_0x1ffc85(0x288)](_0x87f7c0=>_0x87f7c0['id']===_0x958973);if(!_0x2f6944||!_0x2f6944[_0x1ffc85(0x243)])return;const _0x1b5db0=()=>{const _0x3248c8=_0x1ffc85;_0x9be6a6[_0x3248c8(0x7b0)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x2f6944[_0x3248c8(0x243)][_0x3248c8(0x4b9)](_0x202ef7=>_0x3248c8(0x7b9)+_0x202ef7+'\x22>'+_0x202ef7+_0x3248c8(0x872))[_0x3248c8(0x43d)](''),_0x9be6a6[_0x3248c8(0x108)]=![];const _0x4193b6=Array[_0x3248c8(0x585)](_0x9be6a6[_0x3248c8(0x60d)])[_0x3248c8(0x4b9)](_0x1b7780=>_0x1b7780[_0x3248c8(0x464)]);if(_0x1868a2&&_0x4193b6[_0x3248c8(0x6a4)](_0x1868a2))_0x9be6a6[_0x3248c8(0x464)]=_0x1868a2,_0x9be6a6[_0x3248c8(0x1ba)](new Event(_0x3248c8(0x430)));else _0x2f6944[_0x3248c8(0x243)][_0x3248c8(0x836)]===0x1&&(_0x9be6a6[_0x3248c8(0x464)]=_0x2f6944[_0x3248c8(0x243)][0x0],_0x9be6a6['dispatchEvent'](new Event(_0x3248c8(0x430))));};if(_0x2f6944[_0x1ffc85(0x74a)]?.[_0x1ffc85(0x8a9)]){if(sessionStorage[_0x1ffc85(0x3e1)](_0x1ffc85(0x862)+_0x958973)===_0x1ffc85(0x4d9)){_0x1b5db0();return;}const _0x44f8da=document[_0x1ffc85(0x2a6)](_0x1ffc85(0x647)),_0x1813a3=document['getElementById'](_0x1ffc85(0x480)),_0x368bd8=document[_0x1ffc85(0x2a6)](_0x1ffc85(0x452)),_0x18cd07=document['getElementById'](_0x1ffc85(0x41b)),_0x2adc94=document['getElementById']('passcode-error-msg');document[_0x1ffc85(0x2a6)]('passcode-prompt-message')['textContent']=_0x1ffc85(0x85e)+_0x2f6944[_0x1ffc85(0x6b7)],_0x18cd07[_0x1ffc85(0x464)]='',_0x2adc94['classList'][_0x1ffc85(0x381)](_0x1ffc85(0x17a)),_0x44f8da['classList']['remove'](_0x1ffc85(0x17a));const _0x367c81=()=>{const _0x15b20d=_0x1ffc85,_0x36939b=_0x18cd07[_0x15b20d(0x464)][_0x15b20d(0x451)]();_0x36939b===_0x2f6944[_0x15b20d(0x74a)][_0x15b20d(0x2e0)]?(sessionStorage[_0x15b20d(0x261)](_0x15b20d(0x862)+_0x958973,_0x15b20d(0x4d9)),_0x44f8da['classList']['add'](_0x15b20d(0x17a)),_0x1b5db0(),_0x1813a3[_0x15b20d(0x82d)]('click',_0x367c81)):_0x2adc94[_0x15b20d(0x4a7)][_0x15b20d(0x578)]('hidden');};_0x1813a3[_0x1ffc85(0x8a1)]=_0x367c81,_0x368bd8[_0x1ffc85(0x8a1)]=()=>{const _0x1d146f=_0x1ffc85;_0x44f8da[_0x1d146f(0x4a7)]['add'](_0x1d146f(0x17a)),_0x39b7c0[_0x1d146f(0x464)]='',_0x1813a3[_0x1d146f(0x82d)]('click',_0x367c81);};}else _0x1b5db0();},_0x9be6a6[_0x5bcacd(0x8ac)]=()=>{const _0x1764f6=_0x5bcacd,_0x27001e=_0x39b7c0[_0x1764f6(0x464)],_0x169add=_0x9be6a6['value'];_0x27001e&&_0x169add&&renderStudentProgressDashboard(_0x27001e,_0x169add);};}async function renderStudentProgressDashboard(_0x23b1f1,_0x206b8d){const _0x2f69ac=_0x37a926,_0x170be9=document[_0x2f69ac(0x2a6)](_0x2f69ac(0x77d));_0x170be9[_0x2f69ac(0x7b0)]=_0x2f69ac(0x5af);try{const _0x52321b=collection(db,_0x2f69ac(0x11a)+appId+_0x2f69ac(0x22e)),_0xb6b06b=query(_0x52321b,where(_0x2f69ac(0x8b5),'==',_0x23b1f1)),_0x44d008=await getDocs(_0xb6b06b),_0x414bc0=_0x44d008[_0x2f69ac(0x239)]['map'](_0x13dead=>({'id':_0x13dead['id'],..._0x13dead['data']()})),_0x54d67a=_0x414bc0[_0x2f69ac(0x4b9)](_0x24d00a=>getDoc(doc(db,'artifacts/'+appId+_0x2f69ac(0x522)+_0x24d00a['id']+_0x2f69ac(0x383),_0x206b8d))),_0x58847d=await Promise[_0x2f69ac(0x861)](_0x54d67a),_0x5da936=_0x58847d[_0x2f69ac(0x63c)](_0x4d1cf6=>_0x4d1cf6['exists']())['map'](_0x11066d=>({'quizId':_0x11066d['ref']['parent'][_0x2f69ac(0x601)]['id'],..._0x11066d[_0x2f69ac(0x7a8)]()}));if(_0x5da936['length']===0x0){_0x170be9[_0x2f69ac(0x7b0)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x57d94f=_0x2f69ac(0x32a);_0x5da936[_0x2f69ac(0x3dc)](_0x1fbb78=>{const _0x1b0fa2=_0x2f69ac,_0x488a7f=_0x414bc0[_0x1b0fa2(0x288)](_0x7dbdd0=>_0x7dbdd0['id']===_0x1fbb78[_0x1b0fa2(0x24b)]),_0x16db13=_0x488a7f[_0x1b0fa2(0x74a)]?.[_0x1b0fa2(0x562)]||_0x1b0fa2(0xc3),_0x5ee063=_0x488a7f['settings']?.[_0x1b0fa2(0x7c9)]??0x0,_0x35d1f7=_0x1fbb78[_0x1b0fa2(0x386)]>=_0x5ee063;let _0x1cfafb='',_0x23a050='bg-gray-50';switch(_0x16db13){case _0x1b0fa2(0xc3):case'show_results_only':_0x23a050=_0x35d1f7?_0x1b0fa2(0x67f):_0x1b0fa2(0x572),_0x1cfafb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x35d1f7?_0x1b0fa2(0x291):_0x1b0fa2(0x455))+'\x22>'+_0x1fbb78[_0x1b0fa2(0x386)]+_0x1b0fa2(0x2de)+_0x1fbb78[_0x1b0fa2(0x3fc)]+_0x1b0fa2(0x6db)+(_0x35d1f7?'bg-green-200\x20text-green-800':_0x1b0fa2(0x751))+'\x22>'+(_0x35d1f7?_0x1b0fa2(0x727):'ไม่ผ่าน')+_0x1b0fa2(0x1be);break;case _0x1b0fa2(0x634):_0x23a050=_0x35d1f7?_0x1b0fa2(0x67f):'bg-red-50',_0x1cfafb=_0x1b0fa2(0x2ed)+(_0x35d1f7?_0x1b0fa2(0x816):_0x1b0fa2(0x751))+'\x22>'+(_0x35d1f7?_0x1b0fa2(0x727):_0x1b0fa2(0x15d))+_0x1b0fa2(0x1be);break;case _0x1b0fa2(0x72e):_0x23a050=_0x1b0fa2(0x2b4),_0x1cfafb=_0x1b0fa2(0x3ea);break;}_0x57d94f+=_0x1b0fa2(0x36d)+_0x23a050+_0x1b0fa2(0x4de)+_0x488a7f[_0x1b0fa2(0xc6)]+_0x1b0fa2(0x3b9)+_0x1fbb78[_0x1b0fa2(0x15c)][_0x1b0fa2(0x836)]+_0x1b0fa2(0xdf)+new Date(_0x1fbb78[_0x1b0fa2(0x339)])[_0x1b0fa2(0x387)](_0x1b0fa2(0x4f8))+_0x1b0fa2(0x309)+_0x1cfafb+_0x1b0fa2(0x2c7);}),_0x57d94f+='</div>',_0x170be9[_0x2f69ac(0x7b0)]=_0x57d94f;}catch(_0x273cea){console[_0x2f69ac(0x804)](_0x2f69ac(0x7c7),_0x273cea),_0x170be9[_0x2f69ac(0x7b0)]=_0x2f69ac(0xd8);}}function setupStudentProgressListeners(){const _0x54a2be=_0x37a926;document[_0x54a2be(0x2a6)](_0x54a2be(0x3f2))[_0x54a2be(0x7a6)](_0x54a2be(0x69e),showStudentProgressView),document[_0x54a2be(0x2a6)](_0x54a2be(0x334))[_0x54a2be(0x7a6)]('click',()=>{const _0x218c1a=_0x54a2be;document[_0x218c1a(0x2a6)](_0x218c1a(0x438))[_0x218c1a(0x4a7)]['add'](_0x218c1a(0x17a)),document['getElementById'](_0x218c1a(0x3c9))['classList'][_0x218c1a(0x578)](_0x218c1a(0x17a));});}async function startSkillPractice(_0x4104db){const _0x282558=_0x37a926;studentResultArea[_0x282558(0x4a7)]['add'](_0x282558(0x17a)),studentQuizArea[_0x282558(0x7b0)]=_0x282558(0x63d),studentQuizArea[_0x282558(0x4a7)][_0x282558(0x578)]('hidden');try{const _0x5af0d3=await getStandardizedTopic(_0x4104db);console['log'](_0x282558(0x4d6)+_0x4104db+_0x282558(0x376)+_0x5af0d3+'\x22'),studentQuizArea[_0x282558(0x8cb)]('p')[_0x282558(0x523)]=_0x282558(0x8a6)+_0x5af0d3+_0x282558(0x2da);const _0x1a862a=collection(db,_0x282558(0x11a)+appId+_0x282558(0x8aa)),_0x2a75a4=query(_0x1a862a,where(_0x282558(0xc6),'==',_0x5af0d3)),_0x476dd6=await getDocs(_0x2a75a4);if(_0x476dd6[_0x282558(0x239)][_0x282558(0x836)]>=0x3){console['log'](_0x282558(0x28e)+_0x476dd6[_0x282558(0x239)][_0x282558(0x836)]+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0x5af0d3+_0x282558(0x2d5));let _0x1b6eba=_0x476dd6[_0x282558(0x239)][_0x282558(0x4b9)](_0x3d118f=>_0x3d118f[_0x282558(0x7a8)]());shuffleArray(_0x1b6eba);const _0x3ad0a1={'topic':_0x5af0d3,'questions':_0x1b6eba[_0x282558(0x314)](0x0,0x3)};displaySkillPracticeDrill(_0x3ad0a1);}else{console['log']('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x5af0d3+_0x282558(0x1ed));const _0x385955=await generatePracticeQuestions(_0x5af0d3);await saveDrillToPracticeBank(_0x385955,_0x5af0d3),displaySkillPracticeDrill(_0x385955);}}catch(_0x1e0847){console[_0x282558(0x804)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x1e0847),showMessage(_0x282558(0x3b4)),studentQuizArea[_0x282558(0x4a7)][_0x282558(0x381)](_0x282558(0x17a)),studentResultArea['classList'][_0x282558(0x578)](_0x282558(0x17a));}}async function saveDrillToPracticeBank(_0x1d361f,_0x26ecf9){const _0x5c725b=_0x37a926,_0x29b724=collection(db,_0x5c725b(0x11a)+appId+_0x5c725b(0x8aa)),_0x5c40d4=writeBatch(db);_0x1d361f[_0x5c725b(0x5fc)][_0x5c725b(0x3dc)](_0xdb641a=>{const _0x18209e=_0x5c725b,_0x22bda6=doc(_0x29b724);_0x5c40d4[_0x18209e(0x4f7)](_0x22bda6,{'topic':_0x26ecf9,'questionText':_0xdb641a[_0x18209e(0x1df)],'options':_0xdb641a[_0x18209e(0x60d)],'correctAnswerIndex':_0xdb641a[_0x18209e(0x61d)],'explanation':_0xdb641a['explanation'],'createdAt':serverTimestamp()});});try{await _0x5c40d4[_0x5c725b(0x57c)](),console[_0x5c725b(0x76c)]('บันทึกคำถามใหม่\x20'+_0x1d361f['questions'][_0x5c725b(0x836)]+_0x5c725b(0x666));}catch(_0x508cea){console[_0x5c725b(0x804)](_0x5c725b(0x56a),_0x508cea);}}async function getStandardizedTopic(_0x6830f){const _0x241a81=_0x37a926,_0x36ad17=_0x241a81(0x476)+_0x6830f+_0x241a81(0x2b7),_0x3e72ad={'type':_0x241a81(0x7e6),'properties':{'standardTopic':{'type':_0x241a81(0x787)}},'required':[_0x241a81(0x6b4)]};try{const _0x2d885b=await callAnalysisApi(_0x36ad17,_0x3e72ad);return _0x2d885b['standardTopic'];}catch(_0x5f10f9){return console[_0x241a81(0x804)](_0x241a81(0x56d),_0x5f10f9),_0x6830f;}}async function handleGenerateEasyVersionQuiz(_0x11c135){const _0x351e61=_0x37a926;showConfirmation(_0x351e61(0x6de),async()=>{const _0x59ee92=_0x351e61;showMessage(_0x59ee92(0x324));try{const _0x5d18f3=allQuizzes[_0x59ee92(0x288)](_0x1acf35=>_0x1acf35['id']===_0x11c135);if(!_0x5d18f3)throw new Error(_0x59ee92(0x249));const _0x57f735='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON['stringify'](_0x5d18f3[_0x59ee92(0x5fc)])+_0x59ee92(0x2c8),_0xd9faf6={'type':_0x59ee92(0x7e6),'properties':{'questionText':{'type':_0x59ee92(0x787)},'questionType':{'type':_0x59ee92(0x787)},'options':{'type':'ARRAY','items':{'type':_0x59ee92(0x787)}},'correctAnswerIndex':{'type':_0x59ee92(0x82a)},'idealAnswer':{'type':_0x59ee92(0x787)},'explanation':{'type':_0x59ee92(0x787)},'imageCode':{'type':'STRING'}},'required':[_0x59ee92(0x1df),_0x59ee92(0x101),'explanation']},_0x585cfa={'type':_0x59ee92(0x7e6),'properties':{'questions':{'type':_0x59ee92(0x864),'items':_0xd9faf6}},'required':['questions']},_0x597a88=await callAnalysisApi(_0x57f735,_0x585cfa);_0x597a88&&_0x597a88[_0x59ee92(0x5fc)]&&_0x597a88[_0x59ee92(0x5fc)]['forEach'](_0x47d72c=>{const _0x262f2a=_0x59ee92;_0x47d72c[_0x262f2a(0x1df)]&&(_0x47d72c[_0x262f2a(0x1df)]=_0x47d72c[_0x262f2a(0x1df)][_0x262f2a(0x451)]()[_0x262f2a(0x575)](/,$/,'')[_0x262f2a(0x451)]());_0x47d72c[_0x262f2a(0x60d)]&&Array[_0x262f2a(0x508)](_0x47d72c['options'])&&(_0x47d72c[_0x262f2a(0x60d)]=_0x47d72c[_0x262f2a(0x60d)]['map'](_0x13d299=>_0x13d299||'(ตัวเลือกผิดพลาด)'));if(_0x47d72c[_0x262f2a(0x63e)]){const _0x19428b=_0x47d72c[_0x262f2a(0x63e)][_0x262f2a(0x451)]();_0x19428b===''||_0x19428b[_0x262f2a(0x7fc)]()==='null'||!_0x19428b[_0x262f2a(0x677)](_0x262f2a(0x2d7))?delete _0x47d72c['imageCode']:_0x47d72c[_0x262f2a(0x63e)]=_0x19428b;}});if(!_0x597a88||!_0x597a88[_0x59ee92(0x5fc)]||_0x597a88['questions'][_0x59ee92(0x836)]===0x0)throw new Error(_0x59ee92(0xde));const _0x4e9346={'projectId':_0x5d18f3['projectId'],'quizType':_0x5d18f3['quizType'],'settings':_0x5d18f3[_0x59ee92(0x74a)],'createdBy':_0x5d18f3['createdBy'],'status':_0x59ee92(0x2aa),'topic':_0x59ee92(0x2b5)+_0x5d18f3[_0x59ee92(0xc6)],'questions':_0x597a88[_0x59ee92(0x5fc)],'createdAt':new Date()[_0x59ee92(0x223)](),'quizMode':_0x59ee92(0x354),'pairedQuizId':null};let _0x57b612;while(!![]){_0x57b612=Math[_0x59ee92(0x501)](0x3e8+Math[_0x59ee92(0x23d)]()*0x2328)['toString']();const _0x4655a1=await getDoc(doc(db,_0x59ee92(0x11a)+appId+_0x59ee92(0x22e),_0x57b612));if(!_0x4655a1[_0x59ee92(0x5fa)]())break;}await setDoc(doc(db,_0x59ee92(0x11a)+appId+'/public/data/quizzes',_0x57b612),_0x4e9346),showMessage(_0x59ee92(0x378));}catch(_0x4f698f){console['error'](_0x59ee92(0x621),_0x4f698f),showMessage(_0x59ee92(0x592)+_0x4f698f[_0x59ee92(0x10c)]);}});}async function generatePracticeQuestions(_0x165ec5){const _0x3116a7=_0x37a926,_0x4d3811=_0x3116a7(0x393)+_0x165ec5+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x3116a7(0x695),_0x52db86={'type':_0x3116a7(0x7e6),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x3116a7(0x864),'items':{'type':_0x3116a7(0x787)}},'correctAnswerIndex':{'type':_0x3116a7(0x82a)},'explanation':{'type':_0x3116a7(0x787)}},'required':[_0x3116a7(0x1df),_0x3116a7(0x60d),_0x3116a7(0x61d),_0x3116a7(0x300)]},_0x5aac69={'type':_0x3116a7(0x7e6),'properties':{'topic':{'type':_0x3116a7(0x787)},'questions':{'type':_0x3116a7(0x864),'items':_0x52db86}},'required':[_0x3116a7(0xc6),_0x3116a7(0x5fc)]};return await callAnalysisApi(_0x4d3811,_0x5aac69);}function displayLessonPlan(_0x32b4b7,_0xd2f253){const _0x1630eb=_0x37a926,_0x483c60=_0x1630eb(0x7b2)+_0xd2f253[_0x1630eb(0xc6)]+_0x1630eb(0x47a)+_0x32b4b7[_0x1630eb(0x49e)]['map'](_0xefa9f6=>'<li>'+_0xefa9f6+_0x1630eb(0x360))[_0x1630eb(0x43d)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x32b4b7[_0x1630eb(0x439)]+_0x1630eb(0x6ac)+_0x32b4b7[_0x1630eb(0x43c)][_0x1630eb(0x4b9)](_0x39fad5=>_0x1630eb(0xe9)+_0x39fad5['question']+_0x1630eb(0x782)+_0x39fad5[_0x1630eb(0x770)]+_0x1630eb(0x502))[_0x1630eb(0x43d)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x1630eb(0x2a6)](_0x1630eb(0x72c))[_0x1630eb(0x523)]=_0x1630eb(0x5a5)+_0xd2f253[_0x1630eb(0xc6)],document['getElementById'](_0x1630eb(0x536))[_0x1630eb(0x7b0)]=_0x483c60,document[_0x1630eb(0x2a6)](_0x1630eb(0x5fd))['classList'][_0x1630eb(0x578)](_0x1630eb(0x17a));if(window[_0x1630eb(0x86f)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x56073a){const _0x267b31=_0x37a926;let _0x3bd955=0x0;const _0x3b4b4a=_0x56073a[_0x267b31(0x5fc)],_0x5a1bae=()=>{const _0x5a12ba=_0x267b31,_0x3cc353=_0x3b4b4a[_0x3bd955],_0x513b9a=_0x5a12ba(0x527)+(_0x3bd955+0x1)+_0x5a12ba(0x2de)+_0x3b4b4a[_0x5a12ba(0x836)]+_0x5a12ba(0x203)+_0x3cc353[_0x5a12ba(0x1df)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3cc353[_0x5a12ba(0x60d)][_0x5a12ba(0x4b9)]((_0x169cd4,_0x2621ba)=>_0x5a12ba(0x5e5)+_0x2621ba+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x2621ba+_0x5a12ba(0x4c7)+_0x2621ba+'\x22>'+_0x169cd4+_0x5a12ba(0x655))[_0x5a12ba(0x43d)]('')+_0x5a12ba(0x78f);studentQuizArea[_0x5a12ba(0x7b0)]=_0x513b9a;if(window[_0x5a12ba(0x86f)])MathJax[_0x5a12ba(0x133)]([studentQuizArea]);document[_0x5a12ba(0x2a6)](_0x5a12ba(0x163))[_0x5a12ba(0x7a6)](_0x5a12ba(0x69e),async()=>{const _0xd6c168=_0x5a12ba,_0x44a1f6=await getHintForQuestion(_0x3cc353[_0xd6c168(0x1df)]);showMessage(_0x44a1f6);}),document[_0x5a12ba(0x2a6)]('check-answer-btn')['addEventListener'](_0x5a12ba(0x69e),()=>{const _0x6c6f78=_0x5a12ba,_0x3d8a20=document[_0x6c6f78(0x8cb)](_0x6c6f78(0xf0));if(!_0x3d8a20){showMessage(_0x6c6f78(0x624));return;}const _0x4a3e6f=document['getElementById'](_0x6c6f78(0x708)),_0x20a29f=parseInt(_0x3d8a20['value'])===_0x3cc353[_0x6c6f78(0x61d)];_0x20a29f?(_0x4a3e6f[_0x6c6f78(0x750)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x4a3e6f['innerHTML']=_0x6c6f78(0x3cb)+_0x3cc353[_0x6c6f78(0x300)]):(_0x4a3e6f['className']=_0x6c6f78(0x6f0),_0x4a3e6f[_0x6c6f78(0x7b0)]=_0x6c6f78(0x3ff)+_0x3cc353[_0x6c6f78(0x300)]);_0x4a3e6f[_0x6c6f78(0x4a7)][_0x6c6f78(0x578)](_0x6c6f78(0x17a));if(window[_0x6c6f78(0x86f)])MathJax[_0x6c6f78(0x133)]([_0x4a3e6f]);document[_0x6c6f78(0x2a6)]('check-answer-btn')[_0x6c6f78(0x4a7)]['add']('hidden'),document[_0x6c6f78(0x2a6)](_0x6c6f78(0x163))['classList'][_0x6c6f78(0x381)](_0x6c6f78(0x17a)),document['getElementById'](_0x6c6f78(0x711))[_0x6c6f78(0x4a7)][_0x6c6f78(0x578)](_0x6c6f78(0x17a));}),document[_0x5a12ba(0x2a6)](_0x5a12ba(0x711))[_0x5a12ba(0x7a6)](_0x5a12ba(0x69e),()=>{const _0x5d2911=_0x5a12ba;_0x3bd955++,_0x3bd955<_0x3b4b4a['length']?_0x5a1bae():(studentQuizArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x5d2911(0x2a6)](_0x5d2911(0x586))['addEventListener'](_0x5d2911(0x69e),()=>{const _0x5b2ec2=_0x5d2911;studentQuizArea[_0x5b2ec2(0x4a7)][_0x5b2ec2(0x381)](_0x5b2ec2(0x17a)),studentResultArea[_0x5b2ec2(0x4a7)][_0x5b2ec2(0x578)]('hidden');}));});};_0x5a1bae();}async function getHintForQuestion(_0x4d413d){const _0x31dbf4=_0x37a926,_0x4beee4=_0x31dbf4(0x828)+_0x4d413d+_0x31dbf4(0x206),_0x3ec957={'type':'OBJECT','properties':{'hint':{'type':_0x31dbf4(0x787)}},'required':[_0x31dbf4(0xce)]};try{const _0x4a9d26=await callAnalysisApi(_0x4beee4,_0x3ec957);return _0x4a9d26[_0x31dbf4(0xce)];}catch(_0x1b083c){return console[_0x31dbf4(0x804)](_0x31dbf4(0x742),_0x1b083c),_0x31dbf4(0x22c);}}async function extractTextFromPdf(_0x4da6e0){const _0x384df1=_0x37a926;pdfjsLib[_0x384df1(0x51d)]['workerSrc']=_0x384df1(0x1e4);const _0x4dfb46=await _0x4da6e0[_0x384df1(0x208)](),_0x3e3659=await pdfjsLib[_0x384df1(0x24f)](_0x4dfb46)[_0x384df1(0x896)],_0x55a563=_0x3e3659['numPages'];let _0x49634a='';for(let _0x381260=0x1;_0x381260<=_0x55a563;_0x381260++){const _0x50df27=await _0x3e3659['getPage'](_0x381260),_0x356e2d=await _0x50df27[_0x384df1(0x125)](),_0x1ce153=_0x356e2d[_0x384df1(0x470)]['map'](_0x554538=>_0x554538[_0x384df1(0x5d8)])[_0x384df1(0x43d)]('\x20');_0x49634a+=_0x1ce153+'\x0a\x0a';}return _0x49634a;}async function handleGenerateFromBlueprint(){const _0x434b2f=_0x37a926,_0x1ee165=document[_0x434b2f(0x2a6)](_0x434b2f(0x2d6)),_0x41dd0d=document[_0x434b2f(0x2a6)](_0x434b2f(0x44c)),_0x1f902e=_0x1ee165[_0x434b2f(0x34d)][0x0],_0x26ed59=_0x41dd0d[_0x434b2f(0x34d)]['length']>0x0?_0x41dd0d[_0x434b2f(0x34d)][0x0]:null;if(!_0x1f902e){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}const _0x5dbc59=document[_0x434b2f(0x2a6)](_0x434b2f(0x1e5)),_0x2bb87a=document[_0x434b2f(0x2a6)](_0x434b2f(0x720)),_0x14cb68=document['getElementById'](_0x434b2f(0x52a)),_0x2548fb=document[_0x434b2f(0x2a6)](_0x434b2f(0x175));_0x2548fb[_0x434b2f(0x108)]=!![],document[_0x434b2f(0x2a6)](_0x434b2f(0x270))[_0x434b2f(0x4a7)][_0x434b2f(0x578)]('hidden'),_0x14cb68[_0x434b2f(0x7b0)]='',_0x5dbc59[_0x434b2f(0x4a7)][_0x434b2f(0x578)](_0x434b2f(0x17a));try{_0x2bb87a['textContent']=_0x434b2f(0x341);const _0x2fb3d3=await extractTextFromPdf(_0x1f902e);if(!_0x2fb3d3[_0x434b2f(0x451)]())throw new Error('ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย');let _0x41a2e8='';_0x26ed59&&(_0x2bb87a[_0x434b2f(0x523)]=_0x434b2f(0x5cc),_0x41a2e8=await extractTextFromPdf(_0x26ed59));_0x2bb87a[_0x434b2f(0x523)]=_0x434b2f(0x351);const _0x4927f4=document['getElementById'](_0x434b2f(0x50d))['checked'],_0x266053=_0x4927f4?_0x434b2f(0x36f):'',_0x2f85c6=_0x41a2e8?_0x434b2f(0x19b)+_0x41a2e8+_0x434b2f(0xeb):'',_0x46479a=_0x434b2f(0x6ea)+(_0x41a2e8?_0x434b2f(0x154):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2fb3d3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f85c6+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x266053+_0x434b2f(0x2a1)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x701d87={'type':_0x434b2f(0x7e6),'properties':{'questionText':{'type':_0x434b2f(0x787)},'questionType':{'type':'STRING','enum':[_0x434b2f(0x149),'short_answer']},'options':{'type':_0x434b2f(0x864),'items':{'type':_0x434b2f(0x787)}},'correctAnswerIndex':{'type':_0x434b2f(0x82a)},'idealAnswer':{'type':_0x434b2f(0x787)},'explanation':{'type':_0x434b2f(0x787)},'imageCode':{'type':_0x434b2f(0x787)}},'required':['questionText',_0x434b2f(0x101),'explanation']},_0x2a6b5e={'type':_0x434b2f(0x7e6),'properties':{'topic':{'type':_0x434b2f(0x787)},'questions':{'type':_0x434b2f(0x864),'items':_0x701d87}},'required':[_0x434b2f(0xc6),_0x434b2f(0x5fc)]};await handleApiCall(_0x46479a,_0x434b2f(0x469),_0x2a6b5e);}catch(_0x12dbbe){console[_0x434b2f(0x804)](_0x434b2f(0x463),_0x12dbbe),showMessage(_0x434b2f(0x592)+_0x12dbbe[_0x434b2f(0x10c)]),_0x14cb68[_0x434b2f(0x7b0)]=_0x434b2f(0xe6);}finally{_0x5dbc59[_0x434b2f(0x4a7)][_0x434b2f(0x381)](_0x434b2f(0x17a)),_0x2548fb['disabled']=![];}}async function handleGenerateParallelFromBank(_0x4a593f){const _0x2ff0ee=_0x37a926;switchProjectTab(_0x2ff0ee(0x413));const _0x17ab91=document[_0x2ff0ee(0x2a6)]('loader'),_0x5e5e4f=document[_0x2ff0ee(0x2a6)](_0x2ff0ee(0x720)),_0x1040a0=document[_0x2ff0ee(0x2a6)]('generated-quiz-container');document['getElementById'](_0x2ff0ee(0x270))['classList'][_0x2ff0ee(0x578)](_0x2ff0ee(0x17a)),_0x1040a0['innerHTML']='',_0x17ab91[_0x2ff0ee(0x4a7)]['remove'](_0x2ff0ee(0x17a)),_0x5e5e4f[_0x2ff0ee(0x523)]=_0x2ff0ee(0x3b3)+_0x4a593f['topic']+'\x22\x20เพื่อสร้างชุดคู่ขนาน...';try{const _0x24c709=_0x4a593f[_0x2ff0ee(0x5fc)][_0x2ff0ee(0x4b9)]((_0x1b4a23,_0x5a27a1)=>{const _0x230b55=_0x2ff0ee;let _0x3000b6=_0x5a27a1+0x1+'.\x20'+(_0x1b4a23['questionText']||_0x1b4a23[_0x230b55(0x308)])+'\x0a';if(_0x1b4a23[_0x230b55(0x60d)])_0x3000b6+=_0x1b4a23['options'][_0x230b55(0x4b9)]((_0x113b46,_0x1b7a89)=>_0x230b55(0x397)+(_0x1b7a89===_0x1b4a23[_0x230b55(0x61d)]?_0x230b55(0x1e8):'')+'\x20'+_0x113b46)[_0x230b55(0x43d)]('\x0a');else _0x1b4a23[_0x230b55(0x81c)]&&(_0x3000b6+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x1b4a23[_0x230b55(0x81c)]);return _0x3000b6;})[_0x2ff0ee(0x43d)]('\x0a\x0a');_0x5e5e4f[_0x2ff0ee(0x523)]=_0x2ff0ee(0x4ed);const _0x886135=_0x4a593f[_0x2ff0ee(0x5fc)][_0x2ff0ee(0x836)],_0x26d65a=_0x2ff0ee(0x705)+_0x4a593f[_0x2ff0ee(0xc6)]+_0x2ff0ee(0x3bf)+_0x886135+_0x2ff0ee(0x32c)+_0x24c709+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้ของเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**ข้อบังคับสำคัญที่สุด:\x20แบบทดสอบชุดใหม่ต้องมีจำนวนคำถาม\x20'+_0x886135+_0x2ff0ee(0x5cf)+simpleMathPrompt+_0x2ff0ee(0x587),_0x20a1dd={'type':_0x2ff0ee(0x7e6),'properties':{'questionText':{'type':_0x2ff0ee(0x787)},'questionType':{'type':_0x2ff0ee(0x787),'enum':[_0x2ff0ee(0x149),_0x2ff0ee(0x602),_0x2ff0ee(0x27a),_0x2ff0ee(0x726)]},'options':{'type':'ARRAY','items':{'type':_0x2ff0ee(0x787)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x2ff0ee(0x787)},'correctAnswer':{'type':_0x2ff0ee(0x736)},'stem':{'type':_0x2ff0ee(0x787)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x2ff0ee(0x787)}},'explanation':{'type':_0x2ff0ee(0x787)},'imageCode':{'type':_0x2ff0ee(0x787)}},'required':[_0x2ff0ee(0x1df),_0x2ff0ee(0x101),_0x2ff0ee(0x300)]},_0xc45d49={'type':_0x2ff0ee(0x7e6),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x20a1dd}},'required':[_0x2ff0ee(0xc6),_0x2ff0ee(0x5fc)]},_0x33a1f0=await callAnalysisApi(_0x26d65a,_0xc45d49);_0x33a1f0['topic']=_0x2ff0ee(0x712)+_0x4a593f[_0x2ff0ee(0xc6)],_0x33a1f0[_0x2ff0ee(0x1bc)]=_0x4a593f['quizType'],currentQuizData=_0x33a1f0,displayGeneratedQuiz(_0x33a1f0),document['getElementById'](_0x2ff0ee(0x8cc))['scrollIntoView']({'behavior':_0x2ff0ee(0x39a)});}catch(_0x43c1d6){console['error'](_0x2ff0ee(0x870),_0x43c1d6),showMessage(_0x2ff0ee(0x592)+_0x43c1d6[_0x2ff0ee(0x10c)]),_0x1040a0[_0x2ff0ee(0x7b0)]=_0x2ff0ee(0x46c);}finally{_0x17ab91[_0x2ff0ee(0x4a7)][_0x2ff0ee(0x381)]('hidden');}}async function handleGenerateParallelPostTest(_0x327b6d){const _0x1c379e=_0x37a926,_0x2f2359=document[_0x1c379e(0x2a6)](_0x1c379e(0x545)),_0x226999=document[_0x1c379e(0x2a6)]('project-quizzes-list');_0x226999[_0x1c379e(0x4a7)][_0x1c379e(0x381)](_0x1c379e(0x17a));const _0x1ef5e3=_0x1c379e(0x7f7);_0x2f2359['insertAdjacentHTML'](_0x1c379e(0x220),_0x1ef5e3);try{const _0x4a1645=_0x327b6d[_0x1c379e(0x5fc)][_0x1c379e(0x4b9)]((_0xf8e638,_0xc1db1)=>{const _0x14fb7e=_0x1c379e;let _0x452b65=_0xc1db1+0x1+'.\x20'+(_0xf8e638['questionText']||_0xf8e638[_0x14fb7e(0x308)]);if(_0xf8e638[_0x14fb7e(0x60d)])_0x452b65+=_0x14fb7e(0x27d)+_0xf8e638['options'][_0x14fb7e(0x43d)](',\x20');return _0x452b65;})['join']('\x0a\x0a'),_0x2d5453=_0x1c379e(0x79b)+_0x327b6d[_0x1c379e(0xc6)]+_0x1c379e(0x1bb)+_0x4a1645+_0x1c379e(0x747)+simpleMathPrompt+_0x1c379e(0x587),_0xae346e={'type':_0x1c379e(0x7e6),'properties':{'topic':{'type':_0x1c379e(0x787)},'questions':{'type':_0x1c379e(0x864),'items':{'type':_0x1c379e(0x7e6),'properties':{'questionText':{'type':_0x1c379e(0x787)},'questionType':{'type':_0x1c379e(0x787)},'options':{'type':_0x1c379e(0x864),'items':{'type':_0x1c379e(0x787)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x1c379e(0x787)},'explanation':{'type':_0x1c379e(0x787)}},'required':[_0x1c379e(0x1df),_0x1c379e(0x300)]}}},'required':[_0x1c379e(0xc6),_0x1c379e(0x5fc)]},_0xecf798=await callAnalysisApi(_0x2d5453,_0xae346e),_0x2585af=_0x327b6d[_0x1c379e(0xc6)][_0x1c379e(0x575)](_0x1c379e(0x62d),'')[_0x1c379e(0x451)](),_0x567a84=_0x1c379e(0x72f)+_0x2585af,_0xf8c2c0={..._0xecf798,'topic':_0x567a84,'quizType':_0x327b6d['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x1c379e(0x223)](),'status':_0x1c379e(0x2aa),'settings':_0x327b6d[_0x1c379e(0x74a)],'quizMode':'post-test','pairedQuizId':_0x327b6d['id']};let _0x3e5e92;while(!![]){_0x3e5e92=Math[_0x1c379e(0x501)](0x3e8+Math[_0x1c379e(0x23d)]()*0x2328)[_0x1c379e(0x6d8)]();const _0x378f36=await getDoc(doc(db,_0x1c379e(0x11a)+appId+_0x1c379e(0x22e),_0x3e5e92));if(!_0x378f36[_0x1c379e(0x5fa)]())break;}await setDoc(doc(db,_0x1c379e(0x11a)+appId+'/public/data/quizzes',_0x3e5e92),_0xf8c2c0);const _0xf332b2=doc(db,'artifacts/'+appId+_0x1c379e(0x22e),_0x327b6d['id']);await updateDoc(_0xf332b2,{'pairedQuizId':_0x3e5e92}),showMessage(_0x1c379e(0x59b));}catch(_0x1a51fc){console[_0x1c379e(0x804)]('Error\x20generating\x20parallel\x20post-test:',_0x1a51fc),showMessage(_0x1c379e(0x592)+_0x1a51fc[_0x1c379e(0x10c)]);}finally{const _0xaebee=document[_0x1c379e(0x2a6)](_0x1c379e(0xca));if(_0xaebee)_0xaebee['remove']();_0x226999['classList'][_0x1c379e(0x578)](_0x1c379e(0x17a));}}async function handleGenerateParallelTest(){const _0x11d483=_0x37a926,_0x1666c5=document[_0x11d483(0x2a6)](_0x11d483(0x34f)),_0x3a41f2=_0x1666c5[_0x11d483(0x34d)][0x0];if(!_0x3a41f2){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน');return;}const _0x1dc230=document['getElementById'](_0x11d483(0x1e5)),_0x3f8f9c=document['getElementById']('loader-text'),_0x5bd2af=document['getElementById']('generated-quiz-container'),_0x3cae5f=document[_0x11d483(0x2a6)]('generate-from-parallel-test-btn');_0x3cae5f[_0x11d483(0x108)]=!![],document[_0x11d483(0x2a6)](_0x11d483(0x270))[_0x11d483(0x4a7)][_0x11d483(0x578)](_0x11d483(0x17a)),_0x5bd2af['innerHTML']='',_0x1dc230[_0x11d483(0x4a7)]['remove']('hidden'),_0x3f8f9c[_0x11d483(0x523)]=_0x11d483(0x80c);try{const _0x2a4319=await extractTextFromPdf(_0x3a41f2);if(!_0x2a4319[_0x11d483(0x451)]())throw new Error(_0x11d483(0x76b));_0x3f8f9c[_0x11d483(0x523)]=_0x11d483(0x4ed);const _0x324e40=document[_0x11d483(0x2a6)](_0x11d483(0x50d))[_0x11d483(0x4ce)],_0x556575=_0x324e40?_0x11d483(0x36f):'',_0x3bfa44=_0x11d483(0x1a7)+_0x2a4319+_0x11d483(0x209)+_0x556575+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x19d1dc={'type':_0x11d483(0x7e6),'properties':{'questionText':{'type':_0x11d483(0x787)},'questionType':{'type':_0x11d483(0x787),'enum':[_0x11d483(0x149),'short_answer']},'options':{'type':_0x11d483(0x864),'items':{'type':_0x11d483(0x787)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x11d483(0x787)},'explanation':{'type':_0x11d483(0x787)},'imageCode':{'type':_0x11d483(0x787)}},'required':[_0x11d483(0x1df),_0x11d483(0x101),_0x11d483(0x300)]},_0xbb483a={'type':_0x11d483(0x7e6),'properties':{'topic':{'type':_0x11d483(0x787)},'questions':{'type':_0x11d483(0x864),'items':_0x19d1dc}},'required':[_0x11d483(0xc6),_0x11d483(0x5fc)]};await handleApiCall(_0x3bfa44,_0x11d483(0x1cf),_0xbb483a);}catch(_0xceed32){console['error'](_0x11d483(0x8bc),_0xceed32),showMessage(_0x11d483(0x592)+_0xceed32[_0x11d483(0x10c)]),_0x5bd2af['innerHTML']=_0x11d483(0x128);}finally{_0x1dc230['classList']['add']('hidden'),_0x3cae5f['disabled']=![];}}async function handleRegenerateQuestionInEditor(_0x31dbe2){const _0x4dff75=_0x37a926;if(currentEditingQuizData===null)return;const _0x22479e=document[_0x4dff75(0x8cb)]('.question-editor-item[data-q-index=\x22'+_0x31dbe2+'\x22]');_0x22479e&&(_0x22479e[_0x4dff75(0x7b0)]=_0x4dff75(0x1b8));const _0x53855f=currentEditingQuizData[_0x4dff75(0x5fc)][_0x31dbe2],_0x5901a7=currentEditingQuizData[_0x4dff75(0xc6)],_0x11f762=_0x53855f[_0x4dff75(0x101)],_0x494814={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x4dff75(0x864),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4dff75(0x82a)},'explanation':{'type':_0x4dff75(0x787)}},'required':[_0x4dff75(0x1df),'options','correctAnswerIndex',_0x4dff75(0x300)]},_0x3aaea8={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x4dff75(0x787)},'explanation':{'type':'STRING'}},'required':[_0x4dff75(0x1df),_0x4dff75(0x81c),_0x4dff75(0x300)]};let _0x39bce7,_0x210247='';_0x11f762===_0x4dff75(0x149)?(_0x39bce7=_0x494814,_0x210247='แบบปรนัย\x204\x20ตัวเลือก'):(_0x39bce7=_0x3aaea8,_0x210247='แบบเติมคำตอบ');const _0x530ef0='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x5901a7+_0x4dff75(0x539)+_0x210247+_0x4dff75(0x643)+(_0x53855f['questionText']||_0x53855f['stem'])+_0x4dff75(0x3ed)+simpleMathPrompt;try{const _0x2a68c9=await callAnalysisApi(_0x530ef0,_0x39bce7);currentEditingQuizData[_0x4dff75(0x5fc)][_0x31dbe2]={..._0x53855f,..._0x2a68c9},renderQuizEditor(currentEditingQuizData);}catch(_0x57eb56){console[_0x4dff75(0x804)](_0x4dff75(0x4d7),_0x57eb56),showMessage(_0x4dff75(0x4ec)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x4a95ba=_0x37a926,_0x3499c9=document[_0x4a95ba(0x2a6)](_0x4a95ba(0x81f));currentMode==='student'?(adminPasswordModal[_0x4a95ba(0x4a7)]['remove'](_0x4a95ba(0x17a)),document[_0x4a95ba(0x2a6)](_0x4a95ba(0x6dd))[_0x4a95ba(0x255)]()):(currentMode=_0x4a95ba(0x5ad),_0x3499c9[_0x4a95ba(0x7b0)]=_0x4a95ba(0x14e),_0x3499c9[_0x4a95ba(0x389)]='สลับไปโหมดผู้ควบคุม',showView(_0x4a95ba(0x5ad)));}function handleAdminLogin(){const _0x52507a=_0x37a926,_0x32f086=document[_0x52507a(0x2a6)](_0x52507a(0x6dd)),_0xc2b551=document[_0x52507a(0x2a6)](_0x52507a(0x155));if(_0x32f086[_0x52507a(0x464)]===_0x52507a(0x31c)){adminPasswordModal['classList']['add'](_0x52507a(0x17a)),_0x32f086['value']='',_0xc2b551[_0x52507a(0x4a7)]['add'](_0x52507a(0x17a)),currentMode=_0x52507a(0x6ab);const _0x5915c9=document[_0x52507a(0x2a6)](_0x52507a(0x81f));_0x5915c9[_0x52507a(0x7b0)]=_0x52507a(0x7ef),_0x5915c9[_0x52507a(0x389)]=_0x52507a(0x3bd),showView(_0x52507a(0x13a));}else _0xc2b551[_0x52507a(0x4a7)][_0x52507a(0x578)](_0x52507a(0x17a)),_0x32f086['value']='';}function switchProjectTab(_0x4a254c){const _0x5f21a6=_0x37a926;[_0x5f21a6(0x413),_0x5f21a6(0x4be),_0x5f21a6(0x1e3)][_0x5f21a6(0x3dc)](_0xfb77e4=>{const _0x1b5109=_0x5f21a6;document['getElementById'](_0xfb77e4+_0x1b5109(0x304))[_0x1b5109(0x4a7)][_0x1b5109(0x578)](_0x1b5109(0x2aa)),document['getElementById'](_0xfb77e4+'-tab-content')[_0x1b5109(0x4a7)]['add'](_0x1b5109(0x17a));}),document['getElementById'](_0x4a254c+_0x5f21a6(0x304))[_0x5f21a6(0x4a7)][_0x5f21a6(0x381)]('active'),document[_0x5f21a6(0x2a6)](_0x4a254c+_0x5f21a6(0x537))[_0x5f21a6(0x4a7)][_0x5f21a6(0x578)](_0x5f21a6(0x17a));}function switchQuizDetailTab(_0x4c8523){const _0x5c822c=_0x37a926,_0x37098e={'analytics':{'btn':_0x5c822c(0x7a4),'content':_0x5c822c(0x558)},'scores':{'btn':'scores-tab-btn','content':_0x5c822c(0x56b)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x5c822c(0x44a)},'behavior-log':{'btn':'behavior-log-tab-btn','content':'behavior-log-tab-content'}};for(const _0x1012b9 in _0x37098e){document['getElementById'](_0x37098e[_0x1012b9]['btn'])[_0x5c822c(0x4a7)][_0x5c822c(0x578)](_0x5c822c(0x2aa)),document[_0x5c822c(0x2a6)](_0x37098e[_0x1012b9][_0x5c822c(0x315)])[_0x5c822c(0x4a7)]['add']('hidden');}document['getElementById'](_0x37098e[_0x4c8523][_0x5c822c(0xba)])['classList'][_0x5c822c(0x381)](_0x5c822c(0x2aa)),document[_0x5c822c(0x2a6)](_0x37098e[_0x4c8523][_0x5c822c(0x315)])['classList']['remove'](_0x5c822c(0x17a));}function showMessage(_0xb48752,_0x52f347=null){const _0x4cdb66=_0x37a926;modalMessage[_0x4cdb66(0x523)]=_0xb48752,modalConfirmAction=_0x52f347,messageModal['classList'][_0x4cdb66(0x578)](_0x4cdb66(0x17a));}function showConfirmation(_0x489480,_0x2c1bd8){const _0x369a38=_0x37a926;document[_0x369a38(0x2a6)]('confirmation-message')['textContent']=_0x489480,document['getElementById']('confirmation-modal')[_0x369a38(0x8cb)]('h3')['textContent']=_0x369a38(0x466),confirmAction=_0x2c1bd8,confirmationModal[_0x369a38(0x4a7)][_0x369a38(0x578)](_0x369a38(0x17a));}function listenForProjects(){const _0x58ecdc=_0x37a926,_0x29cc9b=doc(db,_0x58ecdc(0x259),_0x58ecdc(0x556));onSnapshot(_0x29cc9b,_0x59a81c=>{const _0x2ea972=_0x58ecdc;if(_0x59a81c['exists']()){const _0x2345d9=_0x59a81c[_0x2ea972(0x7a8)]();globalDashboardSettings[_0x2ea972(0x55f)]=_0x2345d9['projectSort']||_0x2ea972(0x478),globalDashboardSettings[_0x2ea972(0x4f9)]=_0x2345d9[_0x2ea972(0x4f9)]||[],globalDashboardSettings[_0x2ea972(0x503)]=_0x2345d9[_0x2ea972(0x503)]||[];}allProjects[_0x2ea972(0x836)]>0x0&&renderProjects();});const _0x191f14=collection(db,_0x58ecdc(0x11a)+appId+_0x58ecdc(0x53a));unsubscribeProjectsListener=onSnapshot(_0x191f14,_0x1d28ef=>{const _0x11ae5f=_0x58ecdc;allProjects=_0x1d28ef[_0x11ae5f(0x239)][_0x11ae5f(0x4b9)](_0x4f234c=>({'id':_0x4f234c['id'],..._0x4f234c[_0x11ae5f(0x7a8)]()})),renderProjects();},_0x5caceb=>{const _0x3ce839=_0x58ecdc;console[_0x3ce839(0x804)](_0x3ce839(0x2bd),_0x5caceb),showMessage(_0x3ce839(0x487));});}function showColorPalette(_0x5ee9b8,_0xa899e1){const _0x379ae6=_0x37a926;document[_0x379ae6(0x574)](_0x379ae6(0x148))['forEach'](_0x4ea540=>_0x4ea540[_0x379ae6(0x578)]());const _0xf8cfe0=[_0x379ae6(0x279),_0x379ae6(0x8c6),_0x379ae6(0x524),_0x379ae6(0x328),'#DBEAFE','#E0E7FF',_0x379ae6(0x7b8),_0x379ae6(0x25a),'#E5E7EB'],_0x2d4ac6=document[_0x379ae6(0x70a)](_0x379ae6(0x412));_0x2d4ac6['className']=_0x379ae6(0x7de),_0xf8cfe0[_0x379ae6(0x3dc)](_0x396936=>{const _0x2b0c44=_0x379ae6,_0x2130db=document[_0x2b0c44(0x70a)](_0x2b0c44(0x412));_0x2130db[_0x2b0c44(0x750)]=_0x2b0c44(0x5ea),_0x2130db['style'][_0x2b0c44(0x618)]=_0x396936,_0x2130db[_0x2b0c44(0x7a6)]('click',()=>{handleProjectColorChange(_0xa899e1,_0x396936),_0x2d4ac6['remove']();}),_0x2d4ac6['appendChild'](_0x2130db);}),document[_0x379ae6(0x75f)][_0x379ae6(0x696)](_0x2d4ac6);const _0xb96c16=_0x5ee9b8['getBoundingClientRect']();_0x2d4ac6[_0x379ae6(0x660)][_0x379ae6(0x3ad)]=_0xb96c16[_0x379ae6(0x5c3)]+window[_0x379ae6(0x4c4)]+'px',_0x2d4ac6[_0x379ae6(0x660)][_0x379ae6(0x702)]=_0xb96c16[_0x379ae6(0x702)]+window['scrollX']-_0x2d4ac6['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x4a81bd,_0x4ea5d4){const _0x4bdbb3=_0x37a926,_0x174361=doc(db,_0x4bdbb3(0x11a)+appId+_0x4bdbb3(0x53a),_0x4a81bd);try{await updateDoc(_0x174361,{'color':_0x4ea5d4});}catch(_0x5fd0b5){console['error']('Error\x20updating\x20project\x20color:',_0x5fd0b5),showMessage(_0x4bdbb3(0x833));}}async function renderProjects(){const _0x512bdc=_0x37a926,_0x47a872=globalDashboardSettings[_0x512bdc(0x55f)]||_0x512bdc(0x478),_0x3ca8c1=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x43a603=globalDashboardSettings['projectView']||_0x512bdc(0x2dd),_0xaa5d22=document[_0x512bdc(0x2a6)]('grid-view-btn'),_0x3490a7=document['getElementById'](_0x512bdc(0x534));_0xaa5d22[_0x512bdc(0x4a7)][_0x512bdc(0x73f)](_0x512bdc(0x2aa),_0x43a603===_0x512bdc(0x2dd)),_0x3490a7['classList'][_0x512bdc(0x73f)](_0x512bdc(0x2aa),_0x43a603===_0x512bdc(0x54f)),document['getElementById'](_0x512bdc(0x6f9))[_0x512bdc(0x464)]=_0x47a872;const _0xea0016=document[_0x512bdc(0x2a6)]('project-search-input')[_0x512bdc(0x464)][_0x512bdc(0x7fc)]();let _0x5519d5=allProjects[_0x512bdc(0x63c)](_0x4073bc=>_0x4073bc['projectName'][_0x512bdc(0x7fc)]()[_0x512bdc(0x6a4)](_0xea0016));const _0x3cc95d=_0x5519d5[_0x512bdc(0x63c)](_0x28fb5a=>_0x3ca8c1['has'](_0x28fb5a['id'])),_0x169045=_0x5519d5[_0x512bdc(0x63c)](_0x28dcc0=>!_0x3ca8c1['has'](_0x28dcc0['id'])),_0x32a1e9=(_0x5adda1,_0x3891df)=>{const _0x56e5cb=_0x512bdc;switch(_0x47a872){case _0x56e5cb(0x2a0):return _0x5adda1['projectName'][_0x56e5cb(0xdb)](_0x3891df[_0x56e5cb(0x6b7)],'th');case _0x56e5cb(0x3d5):return _0x3891df[_0x56e5cb(0x6b7)][_0x56e5cb(0xdb)](_0x5adda1[_0x56e5cb(0x6b7)],'th');case _0x56e5cb(0x550):return new Date(_0x5adda1['createdAt'])-new Date(_0x3891df['createdAt']);default:return new Date(_0x3891df[_0x56e5cb(0x4aa)])-new Date(_0x5adda1[_0x56e5cb(0x4aa)]);}};_0x3cc95d[_0x512bdc(0x8b6)](_0x32a1e9),_0x169045[_0x512bdc(0x8b6)](_0x32a1e9);const _0x548d58=[..._0x3cc95d,..._0x169045],_0x37db6b=globalDashboardSettings[_0x512bdc(0x503)]||[];_0x37db6b[_0x512bdc(0x836)]>0x0&&_0x43a603===_0x512bdc(0x2dd)&&_0x548d58[_0x512bdc(0x8b6)]((_0x347dde,_0x3cde4a)=>{const _0x5a922f=_0x512bdc,_0x3f6711=_0x37db6b[_0x5a922f(0xd2)](_0x347dde['id']),_0x23ddb2=_0x37db6b[_0x5a922f(0xd2)](_0x3cde4a['id']);if(_0x3f6711===-0x1)return 0x1;if(_0x23ddb2===-0x1)return-0x1;return _0x3f6711-_0x23ddb2;});const _0xfdbe1d={};await Promise[_0x512bdc(0x861)](_0x548d58[_0x512bdc(0x4b9)](async _0x38ed78=>{const _0x2de351=_0x512bdc,_0x365c85=query(collection(db,'artifacts/'+appId+_0x2de351(0x22e)),where(_0x2de351(0x8b5),'==',_0x38ed78['id'])),_0x304054=await getDocs(_0x365c85);_0xfdbe1d[_0x38ed78['id']]=_0x304054[_0x2de351(0x6e2)];}));const _0x5d2ff7=document[_0x512bdc(0x2a6)](_0x512bdc(0x104));let _0x560696='';if(_0x43a603===_0x512bdc(0x2dd)){_0x5d2ff7['className']=_0x512bdc(0x629);if(starredQuizzes[_0x512bdc(0x836)]>0x0&&_0xea0016===''){const _0x279bee=starredQuizzes[_0x512bdc(0x4b9)](_0x1b5768=>{const _0x363864=_0x512bdc,_0x4feaee=allProjects[_0x363864(0x288)](_0x28ef58=>_0x28ef58['id']===_0x1b5768['projectId']);return{..._0x1b5768,'projectName':_0x4feaee?_0x4feaee[_0x363864(0x6b7)]:_0x363864(0x791)};});_0x560696+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x279bee[_0x512bdc(0x4b9)](_0x5031d2=>_0x512bdc(0x3e5)+_0x5031d2[_0x512bdc(0xc6)]+'\x22>'+_0x5031d2['topic']+_0x512bdc(0x31d)+_0x5031d2[_0x512bdc(0x6b7)]+_0x512bdc(0x51a)+_0x5031d2[_0x512bdc(0x6b7)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x512bdc(0x43d)]('')+_0x512bdc(0x735)+starredQuizzes['length']+_0x512bdc(0x16c);}_0x548d58['forEach'](_0x4b55e2=>{const _0x311c77=_0x512bdc,_0xed0ec4=_0xfdbe1d[_0x4b55e2['id']]??0x0,_0x1c925d=_0x3ca8c1[_0x311c77(0x820)](_0x4b55e2['id']),_0x18ed28=_0x4b55e2[_0x311c77(0x6f5)]||_0x311c77(0x279),_0x1f4c06=parseInt(_0x18ed28[_0x311c77(0x4d2)](0x1,0x3),0x10)*0.299+parseInt(_0x18ed28['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x18ed28[_0x311c77(0x4d2)](0x5,0x7),0x10)*0.114<0xba,_0x661381=_0x1f4c06?'text-white':'text-indigo-800',_0xa28dc9=_0x1f4c06?'text-gray-200':_0x311c77(0x340);_0x560696+=_0x311c77(0x285)+(_0x1c925d?'border-indigo-400\x20ring-2\x20ring-indigo-200':_0x311c77(0x6e5))+_0x311c77(0x29b)+_0x18ed28+_0x311c77(0x176)+_0x4b55e2['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4b55e2['id']+_0x311c77(0x7c8)+(_0x1f4c06?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+_0x311c77(0x363)+_0x4b55e2['id']+_0x311c77(0x6f7)+(_0x1f4c06?_0x311c77(0x2b0):'text-gray-400\x20hover:text-indigo-600')+_0x311c77(0x46a)+(_0x1c925d?_0x1f4c06?_0x311c77(0x8b0):_0x311c77(0x1a2):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x4b55e2['id']+_0x311c77(0x570)+_0x661381+_0x311c77(0x146)+_0x4b55e2[_0x311c77(0x6b7)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+_0xa28dc9+_0x311c77(0x728)+new Date(_0x4b55e2[_0x311c77(0x4aa)])['toLocaleDateString'](_0x311c77(0x4f8))+_0x311c77(0x544)+(_0x1f4c06?_0x311c77(0x310):_0x311c77(0x762))+_0x311c77(0x563)+_0xed0ec4+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4b55e2['id']+_0x311c77(0x474)+_0x4b55e2[_0x311c77(0x6b7)]+_0x311c77(0x811)+(_0x1f4c06?_0x311c77(0x4ab):_0x311c77(0x74e))+_0x311c77(0x700);});}else _0x5d2ff7[_0x512bdc(0x750)]=_0x512bdc(0x332),starredQuizzes[_0x512bdc(0x836)]>0x0&&_0xea0016===''&&(_0x560696+=_0x512bdc(0x356)+starredQuizzes['length']+_0x512bdc(0x2e6)),_0x560696+=_0x512bdc(0x11f),_0x548d58[_0x512bdc(0x3dc)](_0x5385aa=>{const _0x5288b6=_0x512bdc,_0x5c22f2=_0xfdbe1d[_0x5385aa['id']]??0x0,_0x392f78=_0x3ca8c1[_0x5288b6(0x820)](_0x5385aa['id']);_0x560696+=_0x5288b6(0x380)+(_0x5385aa[_0x5288b6(0x6f5)]||_0x5288b6(0x593))+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x5385aa['id']+_0x5288b6(0x126)+_0x5385aa[_0x5288b6(0x6b7)]+_0x5288b6(0x1b5)+_0x5c22f2+_0x5288b6(0x1f2)+new Date(_0x5385aa[_0x5288b6(0x4aa)])[_0x5288b6(0x71c)](_0x5288b6(0x4f8))+_0x5288b6(0x142)+_0x5385aa['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x392f78?'text-indigo-600':'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5385aa['id']+_0x5288b6(0x474)+_0x5385aa[_0x5288b6(0x6b7)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList[_0x512bdc(0x7b0)]=_0x560696,noProjectsMsg[_0x512bdc(0x4a7)][_0x512bdc(0x73f)](_0x512bdc(0x17a),_0x560696[_0x512bdc(0x836)]>0x0);}document[_0x37a926(0x2a6)](_0x37a926(0x336))[_0x37a926(0x7a6)]('click',async()=>{const _0x8a5ba=_0x37a926,_0x300cd1=document['getElementById']('project-name-input'),_0x1863f7=_0x300cd1[_0x8a5ba(0x464)][_0x8a5ba(0x451)]();if(!_0x1863f7){showMessage(_0x8a5ba(0x834));return;}try{const _0x111330=doc(collection(db,_0x8a5ba(0x11a)+appId+_0x8a5ba(0x53a)));await setDoc(_0x111330,{'projectName':_0x1863f7,'students':[],'settings':{'resultsDisplay':_0x8a5ba(0xc3),'shuffleSetting':_0x8a5ba(0x5f7),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x8a5ba(0x5f7),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x8a5ba(0x223)]()}),_0x300cd1[_0x8a5ba(0x464)]='',createProjectModal[_0x8a5ba(0x4a7)][_0x8a5ba(0x381)](_0x8a5ba(0x17a)),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x556291){console[_0x8a5ba(0x804)](_0x8a5ba(0x740),_0x556291),showMessage(_0x8a5ba(0x86b));}}),projectList[_0x37a926(0x7a6)]('click',async _0x253a26=>{const _0x23be4b=_0x37a926,_0x6de03=_0x253a26['target']['closest'](_0x23be4b(0x247)),_0x4777d7=_0x253a26[_0x23be4b(0x1d3)][_0x23be4b(0x81a)](_0x23be4b(0x3cc)),_0x3a17a7=_0x253a26[_0x23be4b(0x1d3)][_0x23be4b(0x81a)](_0x23be4b(0x69d)),_0x636f61=_0x253a26[_0x23be4b(0x1d3)][_0x23be4b(0x81a)](_0x23be4b(0x8a7));if(_0x3a17a7){const _0x344fec=_0x3a17a7[_0x23be4b(0x7b3)]['id'],_0x20c9ef=doc(db,_0x23be4b(0x259),_0x23be4b(0x556)),_0xabe1e2=globalDashboardSettings[_0x23be4b(0x4f9)];let _0xf2411b;_0xabe1e2[_0x23be4b(0x6a4)](_0x344fec)?_0xf2411b=_0xabe1e2[_0x23be4b(0x63c)](_0x5c995f=>_0x5c995f!==_0x344fec):_0xf2411b=[..._0xabe1e2,_0x344fec];try{await setDoc(_0x20c9ef,{'pinnedProjects':_0xf2411b},{'merge':!![]});}catch(_0x51d78b){console[_0x23be4b(0x804)](_0x23be4b(0x20d),_0x51d78b),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}else{if(_0x636f61){const _0x38b9d2=_0x636f61[_0x23be4b(0x7b3)]['id'];showColorPalette(_0x636f61,_0x38b9d2);}else{if(_0x6de03){const _0x5eed03=_0x6de03[_0x23be4b(0x7b3)]['id'];_0x5eed03==='starred-project'?showStarredProjectView():(currentProjectId=_0x5eed03,await loadProjectDetails(currentProjectId),showView(_0x23be4b(0x129)));}else{if(_0x4777d7){const _0x2f9750=_0x4777d7[_0x23be4b(0x7b3)]['id'],_0x48e725=_0x4777d7[_0x23be4b(0x7b3)][_0x23be4b(0x1bd)];showConfirmation(_0x23be4b(0x196)+_0x48e725+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x2f9750));}}}}}),projectList[_0x37a926(0x7a6)]('dragstart',_0x2a16be=>{const _0x1c8a72=_0x37a926,_0x53ca11=_0x2a16be[_0x1c8a72(0x1d3)][_0x1c8a72(0x81a)](_0x1c8a72(0x81d));_0x53ca11&&_0x53ca11[_0x1c8a72(0x4a7)]['add'](_0x1c8a72(0x7e8));}),projectList[_0x37a926(0x7a6)](_0x37a926(0x86e),_0x1853c7=>{const _0x2b4faa=_0x37a926,_0x11ded1=_0x1853c7['target']['closest']('.project-card-container');_0x11ded1&&_0x11ded1[_0x2b4faa(0x4a7)][_0x2b4faa(0x578)]('opacity-50');}),projectList[_0x37a926(0x7a6)]('dragover',_0x5ed957=>{const _0x5bea63=_0x37a926;_0x5ed957['preventDefault']();const _0x286caa=document['querySelector'](_0x5bea63(0x68f));if(!_0x286caa)return;const _0x4e1ec8=getDragAfterElement(projectList,_0x5ed957[_0x5bea63(0x456)]);_0x4e1ec8==null?projectList[_0x5bea63(0x696)](_0x286caa):projectList['insertBefore'](_0x286caa,_0x4e1ec8);}),projectList[_0x37a926(0x7a6)](_0x37a926(0x5c6),_0x84687=>{const _0x1e334c=_0x37a926;_0x84687[_0x1e334c(0x281)]();const _0x5418b9=[...projectList['querySelectorAll'](_0x1e334c(0x795))][_0x1e334c(0x4b9)](_0x30e609=>_0x30e609[_0x1e334c(0x7b3)]['id']);saveProjectOrder(_0x5418b9);});function renderBehaviorLog(_0x4be557){const _0x2f3217=_0x37a926,_0x555e1f=document[_0x2f3217(0x2a6)](_0x2f3217(0x6b2));if(!_0x555e1f)return;const _0x45237b=_0x4be557['filter'](_0x3bac2c=>_0x3bac2c[_0x2f3217(0x435)]&&_0x3bac2c['behaviorLog'][_0x2f3217(0x836)]>0x0);if(_0x45237b[_0x2f3217(0x836)]===0x0){_0x555e1f[_0x2f3217(0x7b0)]=_0x2f3217(0xbe);return;}let _0x2b67c8='';_0x45237b['forEach'](_0x2444c2=>{const _0x1f3518=_0x2f3217;_0x2b67c8+=_0x1f3518(0x301)+_0x2444c2[_0x1f3518(0x4c6)]+_0x1f3518(0x483),_0x2444c2[_0x1f3518(0x435)][_0x1f3518(0x8b6)]((_0x405106,_0xf5d53a)=>new Date(_0xf5d53a[_0x1f3518(0x85d)])-new Date(_0x405106[_0x1f3518(0x85d)]))[_0x1f3518(0x3dc)](_0x585123=>{const _0x2d3647=_0x1f3518,_0x101fe8=new Date(_0x585123[_0x2d3647(0x85d)])[_0x2d3647(0x71c)](_0x2d3647(0x4f8),{'dateStyle':_0x2d3647(0x135),'timeStyle':_0x2d3647(0x646)});_0x2b67c8+=_0x2d3647(0x16b)+_0x585123[_0x2d3647(0x6f8)]+_0x2d3647(0x16d)+_0x101fe8+_0x2d3647(0x744);}),_0x2b67c8+=_0x1f3518(0x71a);}),_0x555e1f[_0x2f3217(0x7b0)]=_0x2b67c8;}function getDragAfterElement(_0x3357c8,_0x2c8d78){const _0x101bad=_0x37a926,_0x25901e=[..._0x3357c8[_0x101bad(0x574)](_0x101bad(0x84d))];return _0x25901e[_0x101bad(0x620)]((_0x14b899,_0x1248cb)=>{const _0x1f5e27=_0x101bad,_0x3a3547=_0x1248cb[_0x1f5e27(0x467)](),_0x5c47ac=_0x2c8d78-_0x3a3547['top']-_0x3a3547[_0x1f5e27(0x235)]/0x2;return _0x5c47ac<0x0&&_0x5c47ac>_0x14b899[_0x1f5e27(0x709)]?{'offset':_0x5c47ac,'element':_0x1248cb}:_0x14b899;},{'offset':Number[_0x101bad(0x70b)]})[_0x101bad(0x13b)];}async function saveProjectOrder(_0x4f047b){const _0x4bba37=_0x37a926,_0x350bc1=doc(db,_0x4bba37(0x259),_0x4bba37(0x556));try{await setDoc(_0x350bc1,{'projectOrder':_0x4f047b},{'merge':!![]});}catch(_0x149513){console[_0x4bba37(0x804)](_0x4bba37(0x462),_0x149513),showMessage(_0x4bba37(0x289));}}async function logBehaviorEvent(_0x50d12f,_0x579a4d={}){const _0x2c58eb=_0x37a926;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x2c58eb(0x57b)](_0x2c58eb(0x26e));return;}const _0x47aeb6=doc(db,_0x2c58eb(0x11a)+appId+_0x2c58eb(0x522)+currentQuizData['id']+_0x2c58eb(0x383),currentStudentName),_0x136c6c={'event':_0x50d12f,'timestamp':new Date()['toISOString'](),..._0x579a4d};try{await updateDoc(_0x47aeb6,{'behaviorLog':arrayUnion(_0x136c6c)}),console[_0x2c58eb(0x76c)]('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+_0x2c58eb(0x6eb));}catch(_0xb0aaf2){_0xb0aaf2[_0x2c58eb(0x25e)]===_0x2c58eb(0x813)?console[_0x2c58eb(0x57b)](_0x2c58eb(0x715)+currentStudentName+_0x2c58eb(0x35d)):console[_0x2c58eb(0x804)](_0x2c58eb(0x779),_0xb0aaf2);}}function calculateMeanAndStdDev(_0x2a4067){const _0x1a6928=_0x37a926;if(_0x2a4067[_0x1a6928(0x836)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x5e620f=_0x2a4067[_0x1a6928(0x620)]((_0x3f9f92,_0x456584)=>_0x3f9f92+_0x456584,0x0)/_0x2a4067['length'];if(_0x2a4067[_0x1a6928(0x836)]===0x1)return{'mean':_0x5e620f,'stdDev':0x0};const _0x33626d=Math[_0x1a6928(0x509)](_0x2a4067[_0x1a6928(0x4b9)](_0x3ce792=>Math['pow'](_0x3ce792-_0x5e620f,0x2))['reduce']((_0x5ddd8f,_0x526ca8)=>_0x5ddd8f+_0x526ca8,0x0)/(_0x2a4067[_0x1a6928(0x836)]-0x1));return{'mean':_0x5e620f,'stdDev':_0x33626d};}function calculateZScore(_0xc42850,_0xc50299,_0xb8d973){if(_0xb8d973===0x0)return 0x0;return(_0xc42850-_0xc50299)/_0xb8d973;}function calculateTScore(_0x2e9d1e){return 0xa*_0x2e9d1e+0x32;}function showStarredProjectView(){const _0x28a8d9=_0x37a926;currentProjectId=_0x28a8d9(0x42e),currentProjectData=null,projectTitle[_0x28a8d9(0x523)]=_0x28a8d9(0x10a),projectIdDisplay[_0x28a8d9(0x523)]='pinned-items',showView(_0x28a8d9(0x129)),manageTab[_0x28a8d9(0x4a7)][_0x28a8d9(0x381)](_0x28a8d9(0x17a)),leaderboardTab[_0x28a8d9(0x4a7)][_0x28a8d9(0x381)](_0x28a8d9(0x17a)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x863d29){const _0x20ac32=_0x37a926,_0x2c82c4=doc(db,'artifacts/'+appId+'/public/data/projects',_0x863d29),_0x55891d=await getDoc(_0x2c82c4);if(_0x55891d[_0x20ac32(0x5fa)]()){manageTab[_0x20ac32(0x4a7)][_0x20ac32(0x578)](_0x20ac32(0x17a)),leaderboardTab[_0x20ac32(0x4a7)][_0x20ac32(0x578)](_0x20ac32(0x17a)),currentProjectData=_0x55891d[_0x20ac32(0x7a8)](),projectTitle[_0x20ac32(0x523)]=currentProjectData[_0x20ac32(0x6b7)],projectIdDisplay[_0x20ac32(0x523)]=_0x863d29;const _0x52b10e=currentProjectData[_0x20ac32(0x74a)]||{};document[_0x20ac32(0x2a6)](_0x20ac32(0x14b))[_0x20ac32(0x464)]=_0x52b10e['shuffleSetting']||_0x20ac32(0x5f7);const _0x6588f0=document[_0x20ac32(0x2a6)](_0x20ac32(0x320));_0x6588f0['checked']=_0x52b10e[_0x20ac32(0x120)]!==![];const _0x50042e=document[_0x20ac32(0x2a6)]('enable-passcode-checkbox'),_0x21df26=document[_0x20ac32(0x2a6)](_0x20ac32(0x390)),_0x207ef3=document[_0x20ac32(0x2a6)]('project-passcode-input'),_0x49894c=_0x52b10e[_0x20ac32(0x8a9)]||![];_0x50042e[_0x20ac32(0x4ce)]=_0x49894c,_0x207ef3[_0x20ac32(0x464)]=_0x52b10e['passcode']||'',_0x21df26['classList'][_0x20ac32(0x73f)](_0x20ac32(0x17a),!_0x49894c),_0x50042e[_0x20ac32(0x8ac)]=()=>{const _0x3d3c56=_0x20ac32;_0x21df26[_0x3d3c56(0x4a7)][_0x3d3c56(0x73f)](_0x3d3c56(0x17a),!_0x50042e[_0x3d3c56(0x4ce)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x863d29),listenForProjectQuizzes(_0x863d29),listenForStudentProfiles(_0x863d29);}else showMessage(_0x20ac32(0x818)),showView(_0x20ac32(0x13a));}async function handleResetProjectOrder(){const _0x15d697=_0x37a926,_0x28af61=doc(db,_0x15d697(0x259),'dashboardConfig');try{await setDoc(_0x28af61,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x15d697(0x5ef));}catch(_0x2fb997){console['error']('Error\x20resetting\x20project\x20order:',_0x2fb997),showMessage(_0x15d697(0x49f));}}async function handleTogglePinProject(_0x36023c){const _0x4cdfdf=_0x37a926;if(!_0x36023c)return;const _0xc49e21=doc(db,_0x4cdfdf(0x11a)+appId+'/public/data/projects',_0x36023c);try{const _0x193cd2=await getDoc(_0xc49e21);if(_0x193cd2['exists']()){const _0x866ee3=_0x193cd2['data']()[_0x4cdfdf(0x75c)]||![];await updateDoc(_0xc49e21,{'isPinned':!_0x866ee3});}}catch(_0x4e73f2){console['error']('Error\x20toggling\x20pin\x20status:',_0x4e73f2),showMessage(_0x4cdfdf(0x2e9));}}async function handleDeleteProject(_0x5e057b){const _0x25e76c=_0x37a926;try{const _0x58c94c=writeBatch(db),_0x5355f3=collection(db,_0x25e76c(0x11a)+appId+_0x25e76c(0x22e)),_0x2f93f5=query(_0x5355f3,where('projectId','==',_0x5e057b)),_0x2078c9=await getDocs(_0x2f93f5);for(const _0x44ab5a of _0x2078c9[_0x25e76c(0x239)]){const _0x360568=collection(db,_0x25e76c(0x11a)+appId+_0x25e76c(0x522)+_0x44ab5a['id']+'/submissions'),_0x357d05=await getDocs(_0x360568);_0x357d05['forEach'](_0x31bd2a=>{const _0x1b8df5=_0x25e76c;_0x58c94c[_0x1b8df5(0x855)](_0x31bd2a[_0x1b8df5(0x72d)]);}),_0x58c94c[_0x25e76c(0x855)](_0x44ab5a['ref']);}const _0x1fee36=collection(db,_0x25e76c(0x11a)+appId+_0x25e76c(0x3a3)+_0x5e057b+_0x25e76c(0x3d3)),_0x1ea57c=await getDocs(_0x1fee36);_0x1ea57c[_0x25e76c(0x3dc)](_0x2f2997=>{const _0x27bb69=_0x25e76c;_0x58c94c[_0x27bb69(0x855)](_0x2f2997[_0x27bb69(0x72d)]);});const _0x141cbe=doc(db,_0x25e76c(0x11a)+appId+_0x25e76c(0x53a),_0x5e057b);_0x58c94c[_0x25e76c(0x855)](_0x141cbe),await _0x58c94c[_0x25e76c(0x57c)](),showMessage(_0x25e76c(0x4b2)),showView(_0x25e76c(0x13a));}catch(_0x34b03c){console[_0x25e76c(0x804)](_0x25e76c(0x1b9),_0x34b03c),showMessage(_0x25e76c(0xec));}}document[_0x37a926(0x2a6)](_0x37a926(0x504))[_0x37a926(0x7a6)](_0x37a926(0x69e),async()=>{const _0xd6959f=_0x37a926;if(!currentProjectId)return;const _0x5193dd={'defaultNumQuestions':parseInt(document[_0xd6959f(0x2a6)](_0xd6959f(0x174))[_0xd6959f(0x464)]),'defaultNumChoices':parseInt(document[_0xd6959f(0x2a6)](_0xd6959f(0x1c8))[_0xd6959f(0x464)]),'defaultPassingScore':parseInt(document[_0xd6959f(0x2a6)](_0xd6959f(0x721))['value']),'resultsDisplay':document[_0xd6959f(0x2a6)](_0xd6959f(0x221))['value'],'shuffleSetting':document[_0xd6959f(0x2a6)]('shuffle-setting-select')[_0xd6959f(0x464)],'timerMode':document[_0xd6959f(0x2a6)]('timer-mode-select')[_0xd6959f(0x464)],'timerDuration':parseInt(document[_0xd6959f(0x2a6)]('timer-duration-input')['value'])};try{const _0x8025a1=doc(db,'artifacts/'+appId+_0xd6959f(0x53a),currentProjectId);await updateDoc(_0x8025a1,{'settings':_0x5193dd}),showMessage(_0xd6959f(0x18b));}catch(_0x4eeb66){console['error'](_0xd6959f(0x427),_0x4eeb66),showMessage(_0xd6959f(0x3ee));}});function listenForStudents(_0x57322f){const _0x2f0016=_0x37a926,_0x2298c5=doc(db,_0x2f0016(0x11a)+appId+'/public/data/projects',_0x57322f);unsubscribeStudentsListener=onSnapshot(_0x2298c5,_0x18de35=>{const _0x161664=_0x2f0016;if(_0x18de35['exists']()){const _0x12b3b9=_0x18de35['data']();currentProjectData=_0x12b3b9,renderStudentList(_0x12b3b9[_0x161664(0x243)]||[]);}});}function renderStudentList(_0x307110){const _0x1a8d00=_0x37a926,_0x1ff275=document[_0x1a8d00(0x2a6)](_0x1a8d00(0x6bf));_0x307110[_0x1a8d00(0x836)]===0x0?(studentList['innerHTML']=_0x1a8d00(0x3cd),_0x1ff275[_0x1a8d00(0x4a7)][_0x1a8d00(0x381)](_0x1a8d00(0x17a))):(studentList[_0x1a8d00(0x7b0)]=_0x307110[_0x1a8d00(0x4b9)](_0x3b6d1d=>_0x1a8d00(0x5ba)+_0x3b6d1d+_0x1a8d00(0x1c7)+_0x3b6d1d+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1a8d00(0x43d)](''),_0x1ff275[_0x1a8d00(0x4a7)][_0x1a8d00(0x578)](_0x1a8d00(0x17a)));}document['getElementById'](_0x37a926(0x12a))['addEventListener']('click',async()=>{const _0x4b217c=_0x37a926;if(!currentProjectId)return;const _0x5ceaef=document[_0x4b217c(0x2a6)]('student-name-input'),_0x5b4182=_0x5ceaef[_0x4b217c(0x464)][_0x4b217c(0x451)]();if(!_0x5b4182){showMessage(_0x4b217c(0x4ef));return;}const _0x36d481=_0x5b4182[_0x4b217c(0x20f)]('\x0a')[_0x4b217c(0x4b9)](_0x1efe73=>_0x1efe73[_0x4b217c(0x451)]())[_0x4b217c(0x63c)](_0x24e8fd=>_0x24e8fd);if(_0x36d481['length']===0x0)return;try{const _0x402ea1=doc(db,_0x4b217c(0x11a)+appId+_0x4b217c(0x53a),currentProjectId),_0x417290=await getDoc(_0x402ea1);if(_0x417290['exists']()){const _0x83afef=_0x417290[_0x4b217c(0x7a8)]()[_0x4b217c(0x243)]||[],_0xb92127=[...new Set([..._0x83afef,..._0x36d481])];await updateDoc(_0x402ea1,{'students':_0xb92127}),_0x5ceaef[_0x4b217c(0x464)]='';}}catch(_0x1f64eb){console[_0x4b217c(0x804)]('Error\x20adding\x20students:',_0x1f64eb),showMessage(_0x4b217c(0x3c8));}});async function handleManualQuizPairing(_0x71e2ad){const _0x123a19=_0x37a926,_0x44362d=document[_0x123a19(0x2a6)](_0x123a19(0x760)),_0x5c696a=document[_0x123a19(0x2a6)]('move-quiz-project-select'),_0x14639e=_0x44362d['querySelector']('h3'),_0x361706=document[_0x123a19(0x2a6)]('confirm-move-quiz-btn'),_0xcc8edc=document[_0x123a19(0x2a6)](_0x123a19(0x82c));_0x14639e[_0x123a19(0x523)]=_0x123a19(0x714),_0x5c696a[_0x123a19(0x7b0)]=_0x123a19(0x5d6),_0x361706[_0x123a19(0x523)]=_0x123a19(0x5f9),_0x44362d[_0x123a19(0x4a7)][_0x123a19(0x578)](_0x123a19(0x17a));const _0x55884f=allQuizzes['filter'](_0x3a3942=>_0x3a3942['id']!==_0x71e2ad);_0x55884f[_0x123a19(0x836)]===0x0?(_0x5c696a[_0x123a19(0x7b0)]=_0x123a19(0x16e),_0x361706[_0x123a19(0x108)]=!![]):(_0x5c696a['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x55884f['map'](_0x4ebe72=>_0x123a19(0x7b9)+_0x4ebe72['id']+'\x22>'+_0x4ebe72['topic']+'</option>')['join'](''),_0x361706[_0x123a19(0x108)]=![]);const _0x5f2e08=async()=>{const _0x9a4f33=_0x123a19,_0x37e6de=_0x5c696a['value'];if(!_0x37e6de){showMessage(_0x9a4f33(0x59f));return;}_0x361706[_0x9a4f33(0x108)]=!![],_0x361706['textContent']=_0x9a4f33(0x6e8);try{const _0x3a6086=doc(db,_0x9a4f33(0x11a)+appId+_0x9a4f33(0x22e),_0x71e2ad),_0x26f1c8=doc(db,'artifacts/'+appId+_0x9a4f33(0x22e),_0x37e6de),_0x4d10f9=writeBatch(db);_0x4d10f9[_0x9a4f33(0x5d5)](_0x3a6086,{'pairedQuizId':_0x37e6de}),_0x4d10f9['update'](_0x26f1c8,{'pairedQuizId':_0x71e2ad}),await _0x4d10f9[_0x9a4f33(0x57c)](),showMessage(_0x9a4f33(0x28a)),_0x44362d[_0x9a4f33(0x4a7)][_0x9a4f33(0x381)](_0x9a4f33(0x17a));}catch(_0x40d9d5){console['error']('Error\x20pairing\x20quizzes:',_0x40d9d5),showMessage(_0x9a4f33(0x7cc));}finally{_0x14639e[_0x9a4f33(0x523)]=_0x9a4f33(0x807),_0x361706['textContent']=_0x9a4f33(0x5ee),_0x361706[_0x9a4f33(0x108)]=![],_0x361706[_0x9a4f33(0x82d)]('click',_0x5f2e08),_0xcc8edc[_0x9a4f33(0x82d)]('click',_0xec17bd);}},_0xec17bd=()=>{const _0x404f22=_0x123a19;_0x44362d[_0x404f22(0x4a7)][_0x404f22(0x381)](_0x404f22(0x17a)),_0x14639e[_0x404f22(0x523)]=_0x404f22(0x807),_0x361706[_0x404f22(0x523)]=_0x404f22(0x5ee),_0x361706['removeEventListener'](_0x404f22(0x69e),_0x5f2e08),_0xcc8edc[_0x404f22(0x82d)](_0x404f22(0x69e),_0xec17bd);};_0x361706[_0x123a19(0x7a6)](_0x123a19(0x69e),_0x5f2e08),_0xcc8edc['addEventListener'](_0x123a19(0x69e),_0xec17bd);}function handleDeleteStudent(_0x422fe6){const _0x85f4ca=_0x37a926;showConfirmation(_0x85f4ca(0x65b)+_0x422fe6+_0x85f4ca(0x396),async()=>{const _0x5cda81=_0x85f4ca;if(!currentProjectId||!currentProjectData)return;const _0x18fd1c=currentProjectData[_0x5cda81(0x243)][_0x5cda81(0x63c)](_0x13ebbf=>_0x13ebbf!==_0x422fe6);try{const _0x1b20f3=doc(db,_0x5cda81(0x11a)+appId+_0x5cda81(0x53a),currentProjectId),_0x637ce9=doc(db,'artifacts/'+appId+'/public/data/projects/'+currentProjectId+_0x5cda81(0x3d3),_0x422fe6),_0x223344=writeBatch(db);_0x223344[_0x5cda81(0x5d5)](_0x1b20f3,{'students':_0x18fd1c}),_0x223344[_0x5cda81(0x855)](_0x637ce9),await _0x223344['commit']();}catch(_0x29cefd){console[_0x5cda81(0x804)]('Error\x20deleting\x20student:',_0x29cefd),showMessage(_0x5cda81(0x553));}});}function handleDeleteAllStudents(){const _0x3a4a02=_0x37a926;showConfirmation(_0x3a4a02(0x232),async()=>{const _0x5e72e8=_0x3a4a02;if(!currentProjectId)return;try{const _0xf5ed85=doc(db,_0x5e72e8(0x11a)+appId+'/public/data/projects',currentProjectId),_0x3fb5e2=collection(db,_0x5e72e8(0x11a)+appId+_0x5e72e8(0x3a3)+currentProjectId+_0x5e72e8(0x3d3)),_0x3dc016=await getDocs(_0x3fb5e2),_0x1ade36=writeBatch(db);_0x1ade36['update'](_0xf5ed85,{'students':[]}),_0x3dc016['forEach'](_0x373c64=>_0x1ade36[_0x5e72e8(0x855)](_0x373c64[_0x5e72e8(0x72d)])),await _0x1ade36[_0x5e72e8(0x57c)]();}catch(_0x25506e){console['error'](_0x5e72e8(0x628),_0x25506e),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}async function handleGenerateFromFileClick(){const _0x5da905=_0x37a926;if(!selectedFile){showMessage(_0x5da905(0x370));return;}const _0x52fde5=document['getElementById'](_0x5da905(0x1e5)),_0x498c8e=document[_0x5da905(0x2a6)](_0x5da905(0x720)),_0x2f9559=document['getElementById'](_0x5da905(0x52a)),_0x3029c5=document[_0x5da905(0x2a6)]('generate-from-file-btn');_0x3029c5[_0x5da905(0x108)]=!![],document[_0x5da905(0x2a6)](_0x5da905(0x270))[_0x5da905(0x4a7)][_0x5da905(0x578)]('hidden'),_0x2f9559[_0x5da905(0x7b0)]='',_0x52fde5['classList'][_0x5da905(0x578)]('hidden'),_0x498c8e['textContent']='กำลังอ่านและเตรียมไฟล์...';const _0x1729ea=new FileReader();_0x1729ea[_0x5da905(0x6d2)](selectedFile),_0x1729ea[_0x5da905(0x7ac)]=async()=>{const _0xf29d69=_0x5da905;try{const _0x4d498e=_0x1729ea[_0xf29d69(0x319)][_0xf29d69(0x20f)](',')[0x1],_0x281744=selectedFile[_0xf29d69(0x7ff)];await generateQuizFromFile(_0x281744,_0x4d498e);}catch(_0x5f29ae){console[_0xf29d69(0x804)](_0xf29d69(0x79e),_0x5f29ae),showMessage(_0xf29d69(0x746)+_0x5f29ae[_0xf29d69(0x10c)]),_0x52fde5[_0xf29d69(0x4a7)]['add']('hidden');}finally{}},_0x1729ea[_0x5da905(0x80a)]=_0x37cb3c=>{const _0x1f86e4=_0x5da905;console[_0x1f86e4(0x804)](_0x1f86e4(0x244),_0x37cb3c),showMessage(_0x1f86e4(0x5b1)),_0x52fde5['classList']['add'](_0x1f86e4(0x17a)),_0x3029c5[_0x1f86e4(0x108)]=![];};}function autoFormatMath(_0x391294){const _0xcd8965=_0x37a926;if(typeof _0x391294!==_0xcd8965(0x7dc)||!_0x391294)return _0x391294;const _0x45d12e=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x3855b8=_0x391294[_0xcd8965(0x575)](_0x45d12e,_0x5c1c7e=>{const _0x52583c=_0xcd8965;return'$'+_0x5c1c7e[_0x52583c(0x451)]()+'$';});return _0x3855b8;}function sanitizeQuizData(_0x338834){const _0x387a99=_0x37a926;if(!_0x338834||!_0x338834[_0x387a99(0x5fc)])return _0x338834;const _0x167133={'imes':_0x387a99(0x7cb),'div':_0x387a99(0xf9)},_0x2d83ed=_0x4885e8=>{const _0x16f32f=_0x387a99;if(typeof _0x4885e8!==_0x16f32f(0x7dc))return _0x4885e8;let _0x2f16a8=_0x4885e8;for(const [_0x43b1a0,_0xdf7717]of Object['entries'](_0x167133)){const _0x32b501=new RegExp('\x5cb'+_0x43b1a0+'\x5cb','g');_0x2f16a8=_0x2f16a8[_0x16f32f(0x575)](_0x32b501,_0xdf7717);}return _0x2f16a8=_0x2f16a8[_0x16f32f(0x575)](/\\\//g,_0x16f32f(0xf9)),_0x2f16a8=_0x2f16a8[_0x16f32f(0x575)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x16f32f(0xf9))[_0x16f32f(0x575)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x16f32f(0x7cb))[_0x16f32f(0x575)](/÷/g,_0x16f32f(0xf9))[_0x16f32f(0x575)](/×/g,_0x16f32f(0x7cb)),_0x2f16a8=_0x2f16a8[_0x16f32f(0x575)](/(\d)(\\frac)/g,_0x16f32f(0x4bb)),_0x2f16a8=autoFormatMath(_0x2f16a8),_0x2f16a8;};return _0x338834[_0x387a99(0xc6)]&&(_0x338834[_0x387a99(0xc6)]=_0x2d83ed(_0x338834[_0x387a99(0xc6)])),_0x338834[_0x387a99(0x5fc)][_0x387a99(0x3dc)](_0x49d5a3=>{const _0x5d7fa1=_0x387a99;_0x49d5a3['questionText']=_0x2d83ed(_0x49d5a3[_0x5d7fa1(0x1df)]),_0x49d5a3['options']&&(_0x49d5a3[_0x5d7fa1(0x60d)]=_0x49d5a3[_0x5d7fa1(0x60d)]['map'](_0x2d83ed)),_0x49d5a3[_0x5d7fa1(0x300)]&&(_0x49d5a3[_0x5d7fa1(0x300)]=_0x2d83ed(_0x49d5a3[_0x5d7fa1(0x300)])),_0x49d5a3[_0x5d7fa1(0x308)]&&(_0x49d5a3['stem']=_0x2d83ed(_0x49d5a3[_0x5d7fa1(0x308)])),_0x49d5a3['correctResponse']&&(_0x49d5a3[_0x5d7fa1(0x37b)]=_0x2d83ed(_0x49d5a3[_0x5d7fa1(0x37b)])),_0x49d5a3[_0x5d7fa1(0x731)]&&(_0x49d5a3['allResponses']=_0x49d5a3[_0x5d7fa1(0x731)][_0x5d7fa1(0x4b9)](_0x2d83ed));}),_0x338834;}const simpleMathPrompt=_0x37a926(0x582);async function handleGenerateFromLink(){const _0x2fc167=_0x37a926,_0x333753=document[_0x2fc167(0x2a6)](_0x2fc167(0x526)),_0x1901a2=document[_0x2fc167(0x2a6)](_0x2fc167(0x190)),_0x4df171=_0x333753[_0x2fc167(0x464)][_0x2fc167(0x451)](),_0xebbbe8=_0x1901a2['value'][_0x2fc167(0x451)]();if(!_0x4df171){showMessage(_0x2fc167(0x38d));return;}const _0x29378d=document['getElementById'](_0x2fc167(0x1e5)),_0x26f2bd=document[_0x2fc167(0x2a6)](_0x2fc167(0x720)),_0x315180=document[_0x2fc167(0x2a6)]('generated-quiz-container'),_0x67757=document['getElementById'](_0x2fc167(0x295));document[_0x2fc167(0x2a6)](_0x2fc167(0x270))[_0x2fc167(0x4a7)][_0x2fc167(0x578)](_0x2fc167(0x17a)),_0x315180[_0x2fc167(0x7b0)]='',_0x29378d['classList'][_0x2fc167(0x578)](_0x2fc167(0x17a)),_0x26f2bd[_0x2fc167(0x523)]=_0x2fc167(0x69b),_0x67757[_0x2fc167(0x108)]=!![];try{const _0x60573c=_0x2fc167(0x286)+encodeURIComponent(_0x4df171),_0xa7271a=await fetch(_0x60573c);if(!_0xa7271a['ok'])throw new Error(_0x2fc167(0x147)+_0xa7271a[_0x2fc167(0x140)]+')');const _0x314000=await _0xa7271a[_0x2fc167(0x597)](),_0x1ab744=extractTextFromHtml(_0x314000);if(!_0x1ab744||_0x1ab744['length']<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0xebbbe8,_0x1ab744);}catch(_0x9f91c3){console['error'](_0x2fc167(0x35c),_0x9f91c3),showMessage(_0x2fc167(0x592)+_0x9f91c3['message']),_0x315180[_0x2fc167(0x7b0)]=_0x2fc167(0x67b);}finally{_0x29378d[_0x2fc167(0x4a7)][_0x2fc167(0x381)](_0x2fc167(0x17a)),_0x67757['disabled']=![];}}function extractTextFromHtml(_0x9577b0){const _0x2eedc9=_0x37a926,_0x4ad934=new DOMParser()[_0x2eedc9(0x29c)](_0x9577b0,'text/html');return _0x4ad934['querySelectorAll'](_0x2eedc9(0x67e))['forEach'](_0x485d31=>_0x485d31['remove']()),_0x4ad934[_0x2eedc9(0x75f)][_0x2eedc9(0x523)]||'';}document[_0x37a926(0x2a6)]('generate-from-topic-btn')[_0x37a926(0x7a6)](_0x37a926(0x69e),()=>{const _0x23defb=_0x37a926,_0x57ccdf=document['getElementById'](_0x23defb(0x5de))['value'][_0x23defb(0x451)]();generateQuiz(_0x57ccdf,null);}),document[_0x37a926(0x2a6)](_0x37a926(0x512))[_0x37a926(0x7a6)](_0x37a926(0x69e),()=>{const _0x552649=_0x37a926,_0x1dfd27=document['getElementById'](_0x552649(0x780))['value']['trim']();if(!_0x1dfd27){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0x5d8b17=document['getElementById']('topic-input')[_0x552649(0x464)]['trim']();generateQuiz(_0x5d8b17,_0x1dfd27);});async function generateQuiz(_0x18a137,_0x14e528,_0x5f47df=null){const _0x345a6d=_0x37a926,_0x3bfe89=document[_0x345a6d(0x2a6)](_0x345a6d(0x50d))[_0x345a6d(0x4ce)],_0x515bc0=document['getElementById'](_0x345a6d(0x454))[_0x345a6d(0x464)],_0xa95191=document[_0x345a6d(0x2a6)](_0x345a6d(0x174))['value'],_0x4da50d=document['getElementById'](_0x345a6d(0x1c8))[_0x345a6d(0x464)],_0x490de5=document[_0x345a6d(0x2a6)](_0x345a6d(0x62c))[_0x345a6d(0x4ce)],_0x4c9d62=_0x490de5?'':_0x345a6d(0x123),_0x26770b=document['getElementById']('difficulty-level-select'),_0x4bfd2f=_0x26770b[_0x345a6d(0x464)];let _0xcbb887='';_0x4bfd2f!==_0x345a6d(0x290)&&(_0xcbb887=_0x345a6d(0x559)+_0x4bfd2f+'\x22');const _0x57c54a=document['getElementById'](_0x345a6d(0x4d0)),_0x2354c4=_0x57c54a[_0x345a6d(0x464)];let _0x2f5b9c='';_0x2354c4!==_0x345a6d(0x45c)&&(_0x2f5b9c='โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x2354c4+_0x345a6d(0x4f0));const _0x3700bb=document['querySelectorAll']('#math-topics-checkbox-container\x20input:checked'),_0x38f269=Array[_0x345a6d(0x585)](_0x3700bb)[_0x345a6d(0x4b9)](_0xee73e1=>_0xee73e1[_0x345a6d(0x464)]);let _0x5a4b2a='';_0x38f269[_0x345a6d(0x836)]>0x0&&(_0x5a4b2a='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x38f269['join'](',\x20')+_0x345a6d(0x59e));let _0x4010c1='',_0x25f218='',_0x41f73a,_0xe3bbb4=_0x345a6d(0x56c)+_0x18a137+'\x22';if(!_0x18a137&&_0x14e528)_0xe3bbb4=_0x345a6d(0x68c);else!_0x18a137&&!_0x14e528&&(_0xe3bbb4=_0x345a6d(0x4b3));const _0x31fbdc={'type':_0x345a6d(0x7e6),'properties':{'questionText':{'type':_0x345a6d(0x787)},'options':{'type':_0x345a6d(0x864),'items':{'type':_0x345a6d(0x787)}},'correctAnswerIndex':{'type':_0x345a6d(0x82a)},'explanation':{'type':_0x345a6d(0x787)},'imageCode':{'type':_0x345a6d(0x787)}},'required':[_0x345a6d(0x1df),'options','correctAnswerIndex',_0x345a6d(0x300)]},_0x55e6a8={'type':_0x345a6d(0x7e6),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x345a6d(0x787)},'imageCode':{'type':_0x345a6d(0x787)}},'required':[_0x345a6d(0x1df),_0x345a6d(0x81c),_0x345a6d(0x300)]},_0x16abc8={'type':_0x345a6d(0x7e6),'properties':{'questionText':{'type':_0x345a6d(0x787)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x345a6d(0x602)]},'options':{'type':_0x345a6d(0x864),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x345a6d(0x82a)},'idealAnswer':{'type':_0x345a6d(0x787)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x345a6d(0x787)}},'required':['questionText',_0x345a6d(0x101),_0x345a6d(0x300)]},_0x3babca={'type':_0x345a6d(0x7e6),'properties':{'questionText':{'type':_0x345a6d(0x787)},'correctAnswer':{'type':_0x345a6d(0x736)},'explanation':{'type':_0x345a6d(0x787)},'imageCode':{'type':_0x345a6d(0x787)}},'required':[_0x345a6d(0x1df),'correctAnswer','explanation']},_0x9dddaa={'type':_0x345a6d(0x7e6),'properties':{'questionType':{'type':'STRING','enum':[_0x345a6d(0x726)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x345a6d(0x864),'items':{'type':_0x345a6d(0x787)}},'explanation':{'type':_0x345a6d(0x787)},'imageCode':{'type':_0x345a6d(0x787)}},'required':[_0x345a6d(0x101),_0x345a6d(0x308),_0x345a6d(0x37b),'allResponses',_0x345a6d(0x300)]};let _0x136783;if(_0x5f47df!==null){const _0xfdb71a=currentQuizData[_0x345a6d(0x5fc)][_0x5f47df]['questionType'],_0xb5ff9d=_0x3bfe89?_0x345a6d(0x730):'';_0x4010c1=_0x345a6d(0x60b)+_0xe3bbb4+'\x20'+_0x5a4b2a+'\x20'+_0xcbb887+_0x345a6d(0x246)+_0xb5ff9d+'\x20'+simpleMathPrompt;if(_0xfdb71a===_0x345a6d(0x149))_0x41f73a=_0x31fbdc;else{if(_0xfdb71a==='matching_item')_0x41f73a={'type':_0x345a6d(0x7e6),'properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':_0x345a6d(0x787)},'correctResponse':{'type':_0x345a6d(0x787)},'explanation':{'type':_0x345a6d(0x787)},'imageCode':{'type':_0x345a6d(0x787)}},'required':[_0x345a6d(0x101),'stem',_0x345a6d(0x37b),_0x345a6d(0x300)]};else _0x41f73a=_0x55e6a8;}_0x136783=_0x41f73a;}else{const _0x157e56=_0x3bfe89?_0x345a6d(0x66b):'',_0x21b3a2='\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20';switch(_0x515bc0){case'multiple_choice':_0x4010c1=_0x345a6d(0x398)+_0x4c9d62+'\x20'+_0xa95191+'\x20ข้อ\x20'+_0xe3bbb4+'\x20'+_0x5a4b2a+'\x20'+_0xcbb887+'\x20'+_0x2f5b9c+_0x345a6d(0x2db)+_0x4da50d+_0x345a6d(0x5ae)+_0x157e56+'\x20'+simpleMathPrompt,_0x41f73a=_0x31fbdc;break;case _0x345a6d(0x60f):_0x4010c1='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x4c9d62+'\x20'+_0xa95191+_0x345a6d(0x7a5)+_0xe3bbb4+'\x20'+_0x5a4b2a+'\x20'+_0xcbb887+'\x20'+_0x2f5b9c+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x4da50d+_0x345a6d(0xf4)+_0x157e56+'\x20'+simpleMathPrompt,_0x41f73a=_0x31fbdc;break;case _0x345a6d(0x103):_0x4010c1='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x4c9d62+'\x20'+_0xa95191+'\x20ข้อ\x20'+_0xe3bbb4+'\x20'+_0x5a4b2a+'\x20'+_0xcbb887+'\x20'+_0x2f5b9c+_0x345a6d(0x722)+_0x157e56+'\x20'+simpleMathPrompt,_0x41f73a=_0x55e6a8;break;case _0x345a6d(0x45c):_0x4010c1=_0x345a6d(0x888)+_0x4c9d62+'\x20'+_0xa95191+_0x345a6d(0x7a5)+_0xe3bbb4+'\x20'+_0x5a4b2a+'\x20'+_0xcbb887+'\x20'+_0x2f5b9c+_0x345a6d(0x529)+_0x4da50d+_0x345a6d(0x687)+_0x157e56+'\x20'+simpleMathPrompt+'.',_0x41f73a=_0x16abc8;break;case _0x345a6d(0x27a):_0x4010c1=_0x345a6d(0x5c4)+_0x4c9d62+'\x20'+_0xa95191+'\x20ข้อ\x20'+_0xe3bbb4+'\x20'+_0x5a4b2a+'\x20'+_0xcbb887+'\x20'+_0x2f5b9c+_0x345a6d(0x4f4)+_0x157e56+'\x20'+simpleMathPrompt,_0x41f73a=_0x3babca;break;case _0x345a6d(0x119):_0x4010c1=_0x345a6d(0x853)+_0x4c9d62+'\x20'+_0xa95191+'\x20คู่\x20'+_0xe3bbb4+'\x20'+_0x5a4b2a+'\x20'+_0xcbb887+'\x20'+_0x2f5b9c+_0x345a6d(0x231)+_0x157e56+'\x20'+simpleMathPrompt,_0x41f73a=_0x9dddaa;break;}_0x136783={'type':_0x345a6d(0x7e6),'properties':{'topic':{'type':_0x345a6d(0x787)},'questions':{'type':_0x345a6d(0x864),'items':_0x41f73a}},'required':[_0x345a6d(0xc6),_0x345a6d(0x5fc)]};}return _0x14e528?(_0x4010c1=_0x345a6d(0x7e7)+_0x14e528+_0x345a6d(0x114)+_0x4010c1,_0x25f218=_0x345a6d(0x31f)):_0x25f218='กำลังสร้างแบบทดสอบจากหัวข้อ...',handleApiCall(_0x4010c1,_0x25f218,_0x136783,_0x5f47df);}async function generateQuizFromFile(_0x917f2b,_0xd91013){const _0x40274d=_0x37a926,_0x278b33=document[_0x40274d(0x2a6)]('file-topic-input')[_0x40274d(0x464)][_0x40274d(0x451)](),_0x40d035=document[_0x40274d(0x2a6)]('quiz-type-select')[_0x40274d(0x464)],_0x28e9ea=document[_0x40274d(0x2a6)](_0x40274d(0x174))['value'],_0x416ab1=document[_0x40274d(0x2a6)](_0x40274d(0x1c8))[_0x40274d(0x464)],_0x49ce04=document[_0x40274d(0x2a6)](_0x40274d(0x50d))[_0x40274d(0x4ce)],_0x31722b=document[_0x40274d(0x2a6)](_0x40274d(0x62c))[_0x40274d(0x4ce)],_0x404129=_0x31722b?'':_0x40274d(0x123);let _0x3947b9='',_0xb9f47,_0x24fefa='เกี่ยวกับหัวข้อ\x20\x22'+_0x278b33+'\x22';!_0x278b33&&(_0x24fefa=_0x40274d(0x623));const _0x4d17e9=_0x49ce04?_0x40274d(0x66b):'';switch(_0x40d035){case'multiple_choice':_0x3947b9=_0x40274d(0x398)+_0x404129+'\x20'+_0x28e9ea+_0x40274d(0x7a5)+_0x24fefa+'.\x20แต่ละข้อมี\x20'+_0x416ab1+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x4d17e9+'\x20'+simpleMathPrompt,_0xb9f47={'type':_0x40274d(0x7e6),'properties':{'questionText':{'type':_0x40274d(0x787)},'options':{'type':_0x40274d(0x864),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x40274d(0x787)},'imageCode':{'type':_0x40274d(0x787)}},'required':[_0x40274d(0x1df),_0x40274d(0x60d),_0x40274d(0x61d),_0x40274d(0x300)]};break;case'fill_in_with_choices':_0x3947b9=_0x40274d(0x2df)+_0x404129+'\x20'+_0x28e9ea+_0x40274d(0x7a5)+_0x24fefa+_0x40274d(0x4b7)+_0x416ab1+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x4d17e9+'\x20'+simpleMathPrompt,_0xb9f47={'type':'OBJECT','properties':{'questionText':{'type':_0x40274d(0x787)},'options':{'type':_0x40274d(0x864),'items':{'type':_0x40274d(0x787)}},'correctAnswerIndex':{'type':_0x40274d(0x82a)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x40274d(0x787)}},'required':['questionText',_0x40274d(0x60d),_0x40274d(0x61d),_0x40274d(0x300)]};break;case'fill_in_no_choices':_0x3947b9=_0x40274d(0x2df)+_0x404129+'\x20'+_0x28e9ea+_0x40274d(0x7a5)+_0x24fefa+_0x40274d(0x722)+_0x4d17e9+'\x20'+simpleMathPrompt,_0xb9f47={'type':_0x40274d(0x7e6),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x40274d(0x787)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x40274d(0x787)}},'required':[_0x40274d(0x1df),_0x40274d(0x81c),_0x40274d(0x300)]};break;case _0x40274d(0x45c):_0x3947b9=_0x40274d(0x888)+_0x404129+'\x20'+_0x28e9ea+_0x40274d(0x7a5)+_0x24fefa+_0x40274d(0x497)+_0x416ab1+'\x20ตัวเลือก.\x20'+_0x4d17e9+'\x20'+simpleMathPrompt+_0x40274d(0x88e),_0xb9f47={'type':_0x40274d(0x7e6),'properties':{'questionText':{'type':_0x40274d(0x787)},'questionType':{'type':_0x40274d(0x787),'enum':[_0x40274d(0x149),_0x40274d(0x602)]},'options':{'type':_0x40274d(0x864),'items':{'type':_0x40274d(0x787)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x40274d(0x787)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x40274d(0x787)}},'required':[_0x40274d(0x1df),_0x40274d(0x101),_0x40274d(0x300)]};break;case _0x40274d(0x27a):_0x3947b9=_0x40274d(0x5c4)+_0x404129+'\x20'+_0x28e9ea+_0x40274d(0x7a5)+_0x24fefa+_0x40274d(0x613)+_0x4d17e9+'\x20'+simpleMathPrompt,_0xb9f47={'type':_0x40274d(0x7e6),'properties':{'questionText':{'type':_0x40274d(0x787)},'correctAnswer':{'type':_0x40274d(0x736)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0x40274d(0x348),'explanation']};break;case _0x40274d(0x119):_0x3947b9=_0x40274d(0x853)+_0x404129+'\x20'+_0x28e9ea+'\x20คู่\x20'+_0x24fefa+_0x40274d(0x659)+_0x28e9ea+_0x40274d(0x55d)+_0x4d17e9+'\x20'+simpleMathPrompt,_0xb9f47={'type':_0x40274d(0x7e6),'properties':{'questionType':{'type':_0x40274d(0x787),'enum':['matching_item']},'stem':{'type':_0x40274d(0x787)},'correctResponse':{'type':_0x40274d(0x787)},'allResponses':{'type':_0x40274d(0x864),'items':{'type':_0x40274d(0x787)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x40274d(0x787)}},'required':[_0x40274d(0x101),_0x40274d(0x308),'correctResponse',_0x40274d(0x731),'explanation']};break;}const _0x2b4066={'type':_0x40274d(0x7e6),'properties':{'topic':{'type':_0x40274d(0x787)},'questions':{'type':_0x40274d(0x864),'items':_0xb9f47}},'required':[_0x40274d(0xc6),_0x40274d(0x5fc)]},_0x387b34=_0x40274d(0x74d)+_0x3947b9,_0x552ed2={'contents':[{'parts':[{'text':_0x387b34},{'inlineData':{'mimeType':_0x917f2b,'data':_0xd91013}}]}],'generationConfig':{'responseMimeType':_0x40274d(0x257),'responseSchema':_0x2b4066}};return handleApiCall(_0x552ed2['contents'][0x0][_0x40274d(0x5d1)],_0x40274d(0x89d),_0x2b4066);}async function handleApiCall(_0x5c739d,_0x5d952f,_0x1af7e3,_0x97494e=null){const _0x31d846=_0x37a926,_0x5df86e=document['getElementById'](_0x31d846(0x270)),_0x455164=document[_0x31d846(0x2a6)](_0x31d846(0x1e5)),_0x2339c0=document['getElementById']('loader-text'),_0x571a4d=document[_0x31d846(0x2a6)]('generated-quiz-container');_0x5df86e[_0x31d846(0x4a7)][_0x31d846(0x578)](_0x31d846(0x17a));_0x97494e===null&&(_0x571a4d[_0x31d846(0x7b0)]='');_0x455164[_0x31d846(0x4a7)][_0x31d846(0x578)](_0x31d846(0x17a)),_0x2339c0['textContent']=_0x5d952f,document[_0x31d846(0x2a6)]('generate-from-topic-btn')[_0x31d846(0x108)]=!![],document[_0x31d846(0x2a6)]('generate-from-text-btn')[_0x31d846(0x108)]=!![],document[_0x31d846(0x2a6)](_0x31d846(0x295))[_0x31d846(0x108)]=!![];try{const _0xd8abce={'responseMimeType':_0x31d846(0x257),'responseSchema':_0x1af7e3},_0x44498c=Array[_0x31d846(0x508)](_0x5c739d)?_0x5c739d:[{'text':_0x5c739d}],_0x2c21d1={'contents':[{'role':_0x31d846(0x552),'parts':_0x44498c}],'generationConfig':_0xd8abce},_0x1a8061=_0x31d846(0x686),_0x1a16e1=_0x31d846(0x7db)+_0x1a8061,_0x590453=await fetch(_0x1a16e1,{'method':'POST','headers':{'Content-Type':_0x31d846(0x257)},'body':JSON[_0x31d846(0x471)](_0x2c21d1)});if(!_0x590453['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x590453[_0x31d846(0x140)]);const _0x4ee172=await _0x590453[_0x31d846(0x8c4)]();if(_0x4ee172[_0x31d846(0x5ff)]?.[0x0]?.[_0x31d846(0x315)]?.[_0x31d846(0x5d1)]?.[0x0]){let _0x246614=_0x4ee172[_0x31d846(0x5ff)][0x0][_0x31d846(0x315)][_0x31d846(0x5d1)][0x0]['text'],_0x10de73;try{if(_0x246614[_0x31d846(0x677)]('```json'))_0x246614=_0x246614[_0x31d846(0x4d2)](0x7,_0x246614[_0x31d846(0x836)]-0x3)[_0x31d846(0x451)]();else _0x246614[_0x31d846(0x677)]('```')&&(_0x246614=_0x246614[_0x31d846(0x4d2)](0x3,_0x246614[_0x31d846(0x836)]-0x3)[_0x31d846(0x451)]());_0x10de73=JSON[_0x31d846(0x369)](_0x246614);}catch(_0x2c70ea){console[_0x31d846(0x804)](_0x31d846(0x136),_0x2c70ea,_0x246614);throw new Error(_0x31d846(0x367));}if(_0x97494e!==null){if(_0x10de73[_0x31d846(0x101)]===_0x31d846(0x726)){const _0x37da03=currentQuizData[_0x31d846(0x5fc)][_0x31d846(0x4b9)](_0x5888e3=>_0x5888e3[_0x31d846(0x37b)]);_0x10de73[_0x31d846(0x731)]=_0x37da03;const _0x5dea46=currentQuizData[_0x31d846(0x5fc)][_0x97494e][_0x31d846(0x37b)],_0x1250b3=_0x37da03[_0x31d846(0xd2)](_0x5dea46);_0x1250b3>-0x1&&(_0x37da03[_0x1250b3]=_0x10de73['correctResponse']),currentQuizData[_0x31d846(0x5fc)]['forEach'](_0x2b70db=>{const _0x1ca529=_0x31d846;if(_0x2b70db[_0x1ca529(0x101)]==='matching_item')_0x2b70db[_0x1ca529(0x731)]=_0x37da03;});}currentQuizData['questions'][_0x97494e]=_0x10de73,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x10de73;const _0xc5de31=document['getElementById'](_0x31d846(0x454))[_0x31d846(0x464)];currentQuizData[_0x31d846(0x1bc)]=_0xc5de31,currentQuizData[_0x31d846(0x5fc)]&&currentQuizData[_0x31d846(0x5fc)][_0x31d846(0x3dc)](_0x32d3f4=>{const _0x198871=_0x31d846;if(!_0x32d3f4[_0x198871(0x101)]){if(_0xc5de31===_0x198871(0x60f))_0x32d3f4['questionType']=_0x198871(0x149);else _0xc5de31==='fill_in_no_choices'?_0x32d3f4[_0x198871(0x101)]='short_answer':_0x32d3f4[_0x198871(0x101)]=_0xc5de31;}}),displayGeneratedQuiz(currentQuizData);}}else{console['error'](_0x31d846(0x415),JSON[_0x31d846(0x471)](_0x4ee172));throw new Error(_0x31d846(0x367));}}catch(_0x8ee310){console[_0x31d846(0x804)]('Error\x20generating\x20quiz:',_0x8ee310),showMessage(_0x31d846(0x490)),_0x97494e===null&&(_0x571a4d[_0x31d846(0x7b0)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>');}finally{_0x455164[_0x31d846(0x4a7)][_0x31d846(0x381)](_0x31d846(0x17a)),document[_0x31d846(0x2a6)](_0x31d846(0x895))[_0x31d846(0x108)]=![],document[_0x31d846(0x2a6)](_0x31d846(0x512))[_0x31d846(0x108)]=![],document[_0x31d846(0x2a6)](_0x31d846(0x295))['disabled']=![];const _0x2cdf59=document[_0x31d846(0x2a6)](_0x31d846(0x7d3));_0x2cdf59&&(_0x2cdf59['disabled']=![]);}}function exitFullscreen(){const _0x18c3d9=_0x37a926;if(document[_0x18c3d9(0x377)])document[_0x18c3d9(0x377)]()[_0x18c3d9(0xf1)](_0x53e171=>console[_0x18c3d9(0x804)](_0x53e171));else{if(document[_0x18c3d9(0x608)])document['webkitExitFullscreen']();else document[_0x18c3d9(0x4fa)]&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x3356a3=_0x37a926,_0x4e0870=document[_0x3356a3(0x210)];if(_0x4e0870['requestFullscreen'])_0x4e0870[_0x3356a3(0x5e7)]()[_0x3356a3(0xf1)](_0x507874=>{const _0x1a1e02=_0x3356a3;console['error'](_0x1a1e02(0xef)+_0x507874[_0x1a1e02(0x10c)]+'\x20('+_0x507874[_0x1a1e02(0x1bd)]+')');});else{if(_0x4e0870['webkitRequestFullscreen'])_0x4e0870['webkitRequestFullscreen']();else _0x4e0870[_0x3356a3(0x76a)]&&_0x4e0870[_0x3356a3(0x76a)]();}}function handleCheatingEvent(){const _0x1c811e=_0x37a926;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x1c811e(0x2af),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+_0x1c811e(0xfe)),document['getElementById'](_0x1c811e(0x627))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x1c811e(0x207),handleVisibilityChange),document[_0x1c811e(0x82d)](_0x1c811e(0xe3),handleFullscreenChange)):showMessage(_0x1c811e(0x20b)+cheatAttempts+'/'+maxCheatAttempts+_0x1c811e(0x116),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x2ed6e4=_0x37a926;if(currentMode===_0x2ed6e4(0x725)||!isQuizActive)return;if(document[_0x2ed6e4(0x781)]==='hidden')handleCheatingEvent();else document[_0x2ed6e4(0x781)]===_0x2ed6e4(0x61f)&&(console['log'](_0x2ed6e4(0x2dc)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x1288fb=_0x37a926;if(currentMode===_0x1288fb(0x725)||!isQuizActive)return;!document[_0x1288fb(0x166)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x304550){const _0xa57959=_0x37a926,_0x11eb0e=document[_0xa57959(0x2a6)]('generated-quiz-container');let _0x758dc7='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x304550[_0xa57959(0xc6)]+_0xa57959(0x49a);_0x304550['questions']['forEach']((_0x1e4f7d,_0x4278ea)=>{const _0x38a491=_0xa57959;!_0x1e4f7d['id']&&(_0x1e4f7d['id']='q_'+Date[_0x38a491(0x167)]()+'_'+_0x4278ea);const _0x58e970=_0x1e4f7d[_0x38a491(0x101)]||_0x304550[_0x38a491(0x1bc)];_0x758dc7+=_0x38a491(0x41d)+_0x4278ea+_0x38a491(0x5ca)+_0x4278ea+'\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x4278ea+_0x38a491(0x33c)+_0x4278ea+_0x38a491(0x64c);switch(_0x58e970){case _0x38a491(0x726):_0x758dc7+=_0x38a491(0x84e)+_0x4278ea+'\x22>'+(_0x4278ea+0x1)+'.\x20'+_0x1e4f7d[_0x38a491(0x308)]+_0x38a491(0x44d);_0x1e4f7d['imageCode']&&(_0x758dc7+=_0x38a491(0x788)+_0x4278ea+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1e4f7d['imageCode']+_0x38a491(0x631));_0x758dc7+=_0x38a491(0x7f6)+_0x4278ea+'\x22>'+_0x1e4f7d[_0x38a491(0x37b)]+_0x38a491(0x7d6),_0x758dc7+=_0x38a491(0x808)+_0x4278ea+'\x22>'+_0x1e4f7d[_0x38a491(0x300)]+_0x38a491(0x7d6);break;case _0x38a491(0x602):_0x758dc7+=_0x38a491(0x84e)+_0x4278ea+'\x22>'+(_0x4278ea+0x1)+'.\x20'+_0x1e4f7d[_0x38a491(0x1df)]+_0x38a491(0x44d);_0x1e4f7d[_0x38a491(0x63e)]&&(_0x758dc7+='<div\x20id=\x22q-image-container-'+_0x4278ea+_0x38a491(0x405)+_0x1e4f7d[_0x38a491(0x63e)]+_0x38a491(0x631));_0x758dc7+=_0x38a491(0x2c2)+_0x4278ea+'\x22>'+_0x1e4f7d[_0x38a491(0x81c)]+'</span></div>',_0x758dc7+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x4278ea+'\x22>'+_0x1e4f7d[_0x38a491(0x300)]+_0x38a491(0x7d6);break;case _0x38a491(0x27a):_0x758dc7+=_0x38a491(0x84e)+_0x4278ea+'\x22>'+(_0x4278ea+0x1)+'.\x20'+_0x1e4f7d[_0x38a491(0x1df)]+_0x38a491(0x44d);_0x1e4f7d['imageCode']&&(_0x758dc7+=_0x38a491(0x788)+_0x4278ea+_0x38a491(0x405)+_0x1e4f7d['imageCode']+_0x38a491(0x631));_0x758dc7+=_0x38a491(0x6c8)+(_0x1e4f7d[_0x38a491(0x348)]===!![]?_0x38a491(0x1e2):'')+_0x38a491(0x1ef)+(_0x1e4f7d[_0x38a491(0x348)]===![]?'text-green-600\x20font-bold':'')+_0x38a491(0x81e),_0x758dc7+=_0x38a491(0x808)+_0x4278ea+'\x22>'+_0x1e4f7d[_0x38a491(0x300)]+_0x38a491(0x7d6);break;case'fill_in_the_blank':case'multiple_choice':default:_0x758dc7+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x4278ea+'\x22>'+(_0x4278ea+0x1)+'.\x20'+_0x1e4f7d[_0x38a491(0x1df)]+_0x38a491(0x44d);_0x1e4f7d[_0x38a491(0x63e)]&&(_0x758dc7+=_0x38a491(0x788)+_0x4278ea+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1e4f7d[_0x38a491(0x63e)]+'</div>');_0x758dc7+=_0x38a491(0x6a7)+_0x4278ea+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e4f7d[_0x38a491(0x60d)][_0x38a491(0x4b9)]((_0x15bfae,_0x519eb0)=>_0x38a491(0x753)+(_0x519eb0===_0x1e4f7d[_0x38a491(0x61d)]?_0x38a491(0x1e2):'')+'\x22>'+_0x15bfae+'</li>')[_0x38a491(0x43d)]('')+_0x38a491(0x672),_0x758dc7+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x4278ea+'\x22>'+_0x1e4f7d[_0x38a491(0x300)]+_0x38a491(0x7d6);break;}_0x758dc7+=_0x38a491(0x631);}),_0x758dc7+=_0xa57959(0x3b6),_0x11eb0e[_0xa57959(0x7b0)]=_0x758dc7,document[_0xa57959(0x574)]('.edit-question-btn')['forEach'](_0x109ac8=>_0x109ac8[_0xa57959(0x7a6)](_0xa57959(0x69e),handleEditQuestion)),document[_0xa57959(0x574)](_0xa57959(0x1eb))[_0xa57959(0x3dc)](_0x3858b5=>_0x3858b5['addEventListener'](_0xa57959(0x69e),handleRegenerateQuestion)),document[_0xa57959(0x574)](_0xa57959(0x52d))[_0xa57959(0x3dc)](_0x5141d0=>_0x5141d0[_0xa57959(0x7a6)](_0xa57959(0x69e),handleSaveToBank)),document[_0xa57959(0x2a6)](_0xa57959(0x408))['addEventListener'](_0xa57959(0x69e),exportQuizAsWorksheetPDF),document[_0xa57959(0x2a6)](_0xa57959(0x26a))[_0xa57959(0x7a6)]('click',saveQuiz),document[_0xa57959(0x2a6)](_0xa57959(0x78b))[_0xa57959(0x7a6)](_0xa57959(0x69e),handleVerifyAnswers);if(window[_0xa57959(0x86f)])window['MathJax']['typesetPromise']([_0x11eb0e]);}function handleRegenerateQuestion(_0x22d4ac){const _0x4490b6=_0x37a926,_0x2404f3=_0x22d4ac[_0x4490b6(0x15b)][_0x4490b6(0x7b3)][_0x4490b6(0x181)],_0x3b0eec=currentQuizData[_0x4490b6(0xc6)];showMessage(_0x4490b6(0x776)+(parseInt(_0x2404f3)+0x1)+_0x4490b6(0x88a)),generateQuiz(_0x3b0eec,null,parseInt(_0x2404f3));}function getPointerPosition(_0x3a2e0a,_0x51d011){const _0x187ec2=_0x37a926,_0x2ce4ca=_0x3a2e0a[_0x187ec2(0x883)]();let _0x546a7c,_0x164028;return _0x51d011[_0x187ec2(0x49c)]&&_0x51d011[_0x187ec2(0x49c)][_0x187ec2(0x836)]>0x0?(_0x546a7c=_0x51d011['touches'][0x0][_0x187ec2(0x514)],_0x164028=_0x51d011[_0x187ec2(0x49c)][0x0][_0x187ec2(0x456)]):(_0x546a7c=_0x51d011[_0x187ec2(0x514)],_0x164028=_0x51d011[_0x187ec2(0x456)]),{'x':(_0x546a7c-_0x2ce4ca['e'])/_0x2ce4ca['a'],'y':(_0x164028-_0x2ce4ca['f'])/_0x2ce4ca['d']};}function startDrag(_0x1a3cbf){const _0x56fafb=_0x37a926;_0x1a3cbf[_0x56fafb(0x7ff)]==='touchstart'&&_0x1a3cbf[_0x56fafb(0x281)]();const _0x581107=_0x1a3cbf[_0x56fafb(0x1d3)][_0x56fafb(0x81a)]('.draggable-text');if(_0x581107){draggedSvgElement=_0x581107;const _0x5322ca=draggedSvgElement[_0x56fafb(0x83b)],_0x41fa8c=getPointerPosition(_0x5322ca,_0x1a3cbf);svgOffset['x']=_0x41fa8c['x']-parseFloat(draggedSvgElement[_0x56fafb(0x1d9)](null,'x')),svgOffset['y']=_0x41fa8c['y']-parseFloat(draggedSvgElement[_0x56fafb(0x1d9)](null,'y'));}}function calculateItemAnalysis(_0x1e1302,_0xeef49c){const _0x4df278=_0x37a926,_0x5d3206={};if(_0xeef49c[_0x4df278(0x836)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x197e35=[..._0xeef49c]['sort']((_0x5d3e57,_0xec4b27)=>{const _0x4f8bff=_0x4df278,_0xb8d498=_0xec4b27[_0x4f8bff(0x2a2)]-_0x5d3e57[_0x4f8bff(0x2a2)];if(_0xb8d498!==0x0)return _0xb8d498;const _0x4dc7bf=_0x5d3e57[_0x4f8bff(0x15c)]?.[_0x4f8bff(0x836)]||0x1,_0xb300f7=_0xec4b27[_0x4f8bff(0x15c)]?.[_0x4f8bff(0x836)]||0x1,_0x204376=_0x4dc7bf-_0xb300f7;if(_0x204376!==0x0)return _0x204376;const _0x349950=new Date(_0x5d3e57[_0x4f8bff(0x339)]),_0x4d783d=new Date(_0xec4b27['latestSubmittedAt']),_0x110f20=_0x349950-_0x4d783d;if(_0x110f20!==0x0)return _0x110f20;return _0x5d3e57[_0x4f8bff(0x4c6)][_0x4f8bff(0xdb)](_0xec4b27[_0x4f8bff(0x4c6)],'th');}),_0x5a9ae3=_0x197e35['length'],_0x23aaa0=Math['max'](0x1,Math[_0x4df278(0x501)](_0x5a9ae3*0.33));if(_0x23aaa0===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x29e3ac=_0x197e35['slice'](0x0,_0x23aaa0),_0xd0c786=_0x197e35[_0x4df278(0x314)](-_0x23aaa0),_0x6eb19b=_0x29e3ac[_0x4df278(0x4b9)](_0x44e4d4=>_0x44e4d4[_0x4df278(0x4c6)]),_0x5665ae=_0xd0c786['map'](_0x25ee3e=>_0x25ee3e[_0x4df278(0x4c6)]);return _0x1e1302[_0x4df278(0x5fc)][_0x4df278(0x3dc)]((_0x5d70d9,_0x290326)=>{const _0x5976a4=_0x4df278,_0xc04a=_0x5d70d9[_0x5976a4(0x308)]||_0x5d70d9['questionText'];let _0x484f81=0x0,_0x495452=0x0,_0x4a7c37=0x0;const _0x124797=[],_0x1cc1f7=[];_0x29e3ac['forEach'](_0x59ef04=>{const _0x29b55c=_0x5976a4,_0x2f35e9=_0x59ef04['attempts'][_0x59ef04[_0x29b55c(0x15c)][_0x29b55c(0x836)]-0x1],_0x3fcc4b=_0x2f35e9[_0x29b55c(0x162)][_0x29b55c(0x288)](_0x46a3cc=>_0x46a3cc['originalQuestionText']===_0xc04a);_0x124797[_0x29b55c(0x500)]({'name':_0x59ef04[_0x29b55c(0x4c6)],'isCorrect':_0x3fcc4b?_0x3fcc4b[_0x29b55c(0x894)]:![]}),_0x3fcc4b&&_0x3fcc4b[_0x29b55c(0x894)]&&_0x495452++;}),_0xd0c786[_0x5976a4(0x3dc)](_0x28d3e8=>{const _0x2cfde1=_0x5976a4,_0x347694=_0x28d3e8[_0x2cfde1(0x15c)][_0x28d3e8['attempts'][_0x2cfde1(0x836)]-0x1],_0x2f672a=_0x347694[_0x2cfde1(0x162)][_0x2cfde1(0x288)](_0x29cc54=>_0x29cc54['originalQuestionText']===_0xc04a);_0x1cc1f7[_0x2cfde1(0x500)]({'name':_0x28d3e8['studentName'],'isCorrect':_0x2f672a?_0x2f672a[_0x2cfde1(0x894)]:![]}),_0x2f672a&&_0x2f672a[_0x2cfde1(0x894)]&&_0x4a7c37++;}),_0xeef49c[_0x5976a4(0x3dc)](_0x13e003=>{const _0xc26b99=_0x5976a4,_0x3749f4=_0x13e003['attempts'][_0x13e003['attempts'][_0xc26b99(0x836)]-0x1],_0x4d821a=_0x3749f4['answers'][_0xc26b99(0x288)](_0x576b0b=>_0x576b0b['originalQuestionText']===_0xc04a);_0x4d821a&&_0x4d821a[_0xc26b99(0x894)]&&_0x484f81++;});const _0x3a60ee=_0x5a9ae3>0x0?_0x484f81/_0x5a9ae3:0x0,_0x67161d=_0x23aaa0>0x0?_0x495452/_0x23aaa0-_0x4a7c37/_0x23aaa0:0x0;_0x5d3206[_0x290326]={'p':_0x3a60ee,'r':_0x67161d,'upperGroupResponders':_0x124797,'lowerGroupResponders':_0x1cc1f7};}),{'perQuestionStats':_0x5d3206,'overallGroups':{'upperGroupNames':_0x6eb19b,'lowerGroupNames':_0x5665ae}};}function drag(_0x6fa90a){const _0x30910d=_0x37a926;if(draggedSvgElement){_0x6fa90a[_0x30910d(0x281)]();const _0xb0c739=draggedSvgElement[_0x30910d(0x83b)],_0xda9b75=getPointerPosition(_0xb0c739,_0x6fa90a),_0xf3b3d7=_0xb0c739[_0x30910d(0x525)][_0x30910d(0x622)];let _0x3021b1=_0xda9b75['x']-svgOffset['x'],_0x2a99c8=_0xda9b75['y']-svgOffset['y'];const _0xc7c110=draggedSvgElement['getBBox']();_0x3021b1=Math[_0x30910d(0x12b)](_0xf3b3d7['x'],Math[_0x30910d(0x615)](_0x3021b1,_0xf3b3d7['x']+_0xf3b3d7[_0x30910d(0x6c7)]-_0xc7c110['width'])),_0x2a99c8=Math['max'](_0xf3b3d7['y'],Math[_0x30910d(0x615)](_0x2a99c8,_0xf3b3d7['y']+_0xf3b3d7[_0x30910d(0x235)]-_0xc7c110[_0x30910d(0x235)])),draggedSvgElement[_0x30910d(0x604)](null,'x',_0x3021b1),draggedSvgElement[_0x30910d(0x604)](null,'y',_0x2a99c8);}}function endDrag(_0x17d927){draggedSvgElement=null;}function handleSvgEditClick(_0x2c85b0){const _0x3ca172=_0x37a926;if(_0x2c85b0[_0x3ca172(0x1d3)][_0x3ca172(0x4a7)][_0x3ca172(0x58a)]('delete-svg-btn')){const _0x1ff393=_0x2c85b0[_0x3ca172(0x1d3)][_0x3ca172(0x7b3)][_0x3ca172(0x3db)],_0x138b85=_0x2c85b0[_0x3ca172(0x15b)],_0x3b41f6=_0x138b85[_0x3ca172(0x8cb)]('#'+_0x1ff393);_0x3b41f6&&_0x3b41f6[_0x3ca172(0x578)](),_0x2c85b0[_0x3ca172(0x1d3)][_0x3ca172(0x578)]();}}function handleEditQuestion(_0x29b611){const _0x4102e8=_0x37a926,_0x210203=_0x29b611[_0x4102e8(0x15b)],_0x2592de=_0x210203['dataset'][_0x4102e8(0x181)],_0x4d244e=currentQuizData[_0x4102e8(0x5fc)][_0x2592de],_0x3eb459=document['getElementById']('q-text-'+_0x2592de),_0x23c429=document['getElementById']('q-explanation-'+_0x2592de),_0xa5cc37=document[_0x4102e8(0x2a6)](_0x4102e8(0x564)+_0x2592de);if(_0x210203['innerHTML'][_0x4102e8(0x6a4)](_0x4102e8(0x8b8))){_0x210203['innerHTML']=_0x4102e8(0x697),_0x210203[_0x4102e8(0x389)]='บันทึกการแก้ไข';if(_0x3eb459)_0x3eb459[_0x4102e8(0x171)]=!![];if(_0x23c429)_0x23c429[_0x4102e8(0x171)]=!![];if(_0xa5cc37){const _0x4eb642=_0xa5cc37[_0x4102e8(0x8cb)](_0x4102e8(0x576));if(_0x4eb642){const _0x628a6d=_0x4eb642[_0x4102e8(0x574)](_0x4102e8(0x597));_0x628a6d[_0x4102e8(0x3dc)]((_0x396c65,_0x2d00f1)=>{const _0x1830cb=_0x4102e8,_0x4de3de=_0x1830cb(0x57f)+_0x2592de+'-'+_0x2d00f1;_0x396c65['id']=_0x4de3de,_0x396c65[_0x1830cb(0x4a7)][_0x1830cb(0x381)](_0x1830cb(0x7ae)),_0x396c65[_0x1830cb(0x660)]['cursor']=_0x1830cb(0x2c4);const _0x12ecf2=document['createElementNS'](_0x1830cb(0x7ed),_0x1830cb(0x78a)),_0x347266=_0x396c65['getBBox']();_0x12ecf2[_0x1830cb(0x83a)]('cx',String(_0x347266['x']+_0x347266['width']+0x5)),_0x12ecf2[_0x1830cb(0x83a)]('cy',String(_0x347266['y']+_0x347266[_0x1830cb(0x235)]/0x2-0x5)),_0x12ecf2[_0x1830cb(0x83a)]('r','5'),_0x12ecf2[_0x1830cb(0x83a)](_0x1830cb(0x887),_0x1830cb(0x690)),_0x12ecf2[_0x1830cb(0x83a)](_0x1830cb(0x86d),_0x1830cb(0x36b)),_0x12ecf2[_0x1830cb(0x7b3)][_0x1830cb(0x3db)]=_0x4de3de,_0x396c65[_0x1830cb(0x447)](_0x12ecf2);}),_0x4eb642[_0x4102e8(0x7a6)](_0x4102e8(0x2ab),startDrag),_0x4eb642[_0x4102e8(0x7a6)](_0x4102e8(0x80f),drag),_0x4eb642[_0x4102e8(0x7a6)]('mouseup',endDrag),_0x4eb642[_0x4102e8(0x7a6)](_0x4102e8(0x668),endDrag),_0x4eb642[_0x4102e8(0x7a6)](_0x4102e8(0xd3),startDrag,{'passive':![]}),_0x4eb642['addEventListener'](_0x4102e8(0x112),drag,{'passive':![]}),_0x4eb642[_0x4102e8(0x7a6)](_0x4102e8(0x1de),endDrag),_0x4eb642[_0x4102e8(0x7a6)](_0x4102e8(0xcb),endDrag),_0x4eb642[_0x4102e8(0x7a6)](_0x4102e8(0x69e),handleSvgEditClick);}}if(_0x3eb459)_0x3eb459[_0x4102e8(0x255)]();}else{_0x210203[_0x4102e8(0x7b0)]=_0x4102e8(0x777),_0x210203[_0x4102e8(0x389)]='แก้ไขข้อนี้';if(_0x3eb459){_0x3eb459[_0x4102e8(0x171)]=![];const _0x3a049c=_0x4d244e[_0x4102e8(0x101)]||currentQuizData[_0x4102e8(0x1bc)];_0x3a049c===_0x4102e8(0x726)?_0x4d244e[_0x4102e8(0x308)]=_0x3eb459[_0x4102e8(0x66c)][_0x4102e8(0x4d2)](_0x3eb459[_0x4102e8(0x66c)][_0x4102e8(0xd2)]('.')+0x2)[_0x4102e8(0x451)]():_0x4d244e[_0x4102e8(0x1df)]=_0x3eb459['innerText'][_0x4102e8(0x4d2)](_0x3eb459[_0x4102e8(0x66c)][_0x4102e8(0xd2)]('.')+0x2)[_0x4102e8(0x451)]();}_0x23c429&&(_0x23c429[_0x4102e8(0x171)]=![],_0x4d244e[_0x4102e8(0x300)]=_0x23c429[_0x4102e8(0x66c)]);if(_0xa5cc37){const _0x18b4cf=_0xa5cc37[_0x4102e8(0x8cb)](_0x4102e8(0x576));if(_0x18b4cf){const _0x2b3f36=_0x18b4cf[_0x4102e8(0x277)](!![]);_0x2b3f36[_0x4102e8(0x574)](_0x4102e8(0x775))[_0x4102e8(0x3dc)](_0x2df7ed=>_0x2df7ed[_0x4102e8(0x578)]()),_0x2b3f36[_0x4102e8(0x574)](_0x4102e8(0x832))['forEach'](_0x301c0c=>{const _0x5d806b=_0x4102e8;_0x301c0c['classList'][_0x5d806b(0x578)](_0x5d806b(0x7ae)),_0x301c0c['style'][_0x5d806b(0x350)]='default',_0x301c0c[_0x5d806b(0x23f)]('id');}),_0x4d244e[_0x4102e8(0x63e)]=_0x2b3f36[_0x4102e8(0x809)],_0x18b4cf[_0x4102e8(0x82d)](_0x4102e8(0x2ab),startDrag),_0x18b4cf[_0x4102e8(0x82d)](_0x4102e8(0x80f),drag),_0x18b4cf[_0x4102e8(0x82d)](_0x4102e8(0x8c3),endDrag),_0x18b4cf[_0x4102e8(0x82d)](_0x4102e8(0x668),endDrag),_0x18b4cf['removeEventListener'](_0x4102e8(0xd3),startDrag),_0x18b4cf['removeEventListener'](_0x4102e8(0x112),drag),_0x18b4cf[_0x4102e8(0x82d)](_0x4102e8(0x1de),endDrag),_0x18b4cf[_0x4102e8(0x82d)](_0x4102e8(0xcb),endDrag),_0x18b4cf['removeEventListener']('click',handleSvgEditClick),_0x18b4cf[_0x4102e8(0x574)]('.delete-svg-btn')['forEach'](_0xf26426=>_0xf26426[_0x4102e8(0x578)]()),_0x18b4cf['querySelectorAll'](_0x4102e8(0x832))[_0x4102e8(0x3dc)](_0x5a2e1b=>{const _0x120c2b=_0x4102e8;_0x5a2e1b[_0x120c2b(0x4a7)][_0x120c2b(0x578)]('draggable-text'),_0x5a2e1b[_0x120c2b(0x660)][_0x120c2b(0x350)]=_0x120c2b(0x29d);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x389237){const _0x2a1946=_0x37a926,_0x22479a=document[_0x2a1946(0x2a6)]('quiz-editor-modal'),_0x2aaf8a=document[_0x2a1946(0x2a6)]('quiz-editor-questions-container');_0x2aaf8a[_0x2a1946(0x7b0)]=_0x2a1946(0x5af),_0x22479a[_0x2a1946(0x4a7)][_0x2a1946(0x578)](_0x2a1946(0x17a));try{const _0x528dfa=doc(db,_0x2a1946(0x11a)+appId+_0x2a1946(0x22e),_0x389237),_0x25196f=await getDoc(_0x528dfa);if(!_0x25196f[_0x2a1946(0x5fa)]())throw new Error(_0x2a1946(0x1cb));currentEditingQuizData={'id':_0x389237,..._0x25196f['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x386742){console[_0x2a1946(0x804)](_0x2a1946(0xe8),_0x386742),showMessage(_0x2a1946(0x1a4)),_0x22479a[_0x2a1946(0x4a7)][_0x2a1946(0x381)](_0x2a1946(0x17a));}}function renderQuizEditor(_0x59f6d3){const _0x3a678e=_0x37a926;document[_0x3a678e(0x2a6)](_0x3a678e(0x1d4))[_0x3a678e(0x464)]=_0x59f6d3[_0x3a678e(0xc6)];const _0x52f2d1=document[_0x3a678e(0x2a6)](_0x3a678e(0x4cc));let _0x2ddbaf=_0x59f6d3[_0x3a678e(0x5fc)][_0x3a678e(0x4b9)]((_0x33f8cf,_0x362a23)=>{const _0x1ce659=_0x3a678e;let _0x11fec6='';const _0x1b8b4b=_0x33f8cf[_0x1ce659(0x101)]||_0x59f6d3[_0x1ce659(0x1bc)];switch(_0x1b8b4b){case _0x1ce659(0x149):const _0x5ab101=(_0x33f8cf[_0x1ce659(0x60d)]||[])[_0x1ce659(0x4b9)]((_0x500308,_0x5bbe94)=>_0x1ce659(0x280)+_0x362a23+_0x1ce659(0xc7)+_0x5bbe94+'\x22\x20'+(_0x5bbe94===_0x33f8cf[_0x1ce659(0x61d)]?_0x1ce659(0x4ce):'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x500308+_0x1ce659(0x359))['join']('');_0x11fec6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x5ab101+_0x1ce659(0x707);break;case _0x1ce659(0x602):_0x11fec6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x33f8cf[_0x1ce659(0x81c)]||'')+_0x1ce659(0x240);break;case _0x1ce659(0x27a):_0x11fec6=_0x1ce659(0xf2)+_0x362a23+_0x1ce659(0x505)+(_0x33f8cf['correctAnswer']===!![]?'checked':'')+_0x1ce659(0x1ee)+_0x362a23+_0x1ce659(0x63a)+(_0x33f8cf[_0x1ce659(0x348)]===![]?_0x1ce659(0x4ce):'')+_0x1ce659(0x8a3);break;case _0x1ce659(0x726):_0x11fec6=_0x1ce659(0x670)+(_0x33f8cf[_0x1ce659(0x37b)]||'')+_0x1ce659(0x5f3);break;}const _0x6f67=_0x33f8cf[_0x1ce659(0x1df)]||_0x33f8cf[_0x1ce659(0x308)]||'';return _0x1ce659(0x5df)+_0x362a23+_0x1ce659(0x5d0)+_0x1b8b4b+_0x1ce659(0x633)+(_0x362a23+0x1)+'\x20('+_0x1b8b4b+_0x1ce659(0x139)+_0x6f67+_0x1ce659(0x5dc)+_0x11fec6+_0x1ce659(0x4e3);})['join']('');_0x52f2d1[_0x3a678e(0x7b0)]=_0x2ddbaf;}async function handleSaveChanges(){const _0x5818bf=_0x37a926,_0x41f7dd=document[_0x5818bf(0x2a6)]('save-quiz-edits-btn');_0x41f7dd['disabled']=!![],_0x41f7dd[_0x5818bf(0x7b0)]=_0x5818bf(0x488);try{const _0x599ff7=document[_0x5818bf(0x2a6)](_0x5818bf(0x1d4))['value'],_0x371dd9=document[_0x5818bf(0x574)]('.question-editor-item');let _0x3a04c6=[];const _0x472e33=Array['from'](_0x371dd9)['map']((_0x225b53,_0x431dde)=>{const _0x337cc4=_0x5818bf,_0x121755=_0x225b53[_0x337cc4(0x7b3)][_0x337cc4(0x7f3)],_0x4db4b7=_0x225b53['querySelector'](_0x337cc4(0x39c))[_0x337cc4(0x464)];let _0x1f9f58={'questionType':_0x121755};const _0x14d5ee=currentEditingQuizData[_0x337cc4(0x5fc)][_0x431dde];switch(_0x121755){case'multiple_choice':_0x1f9f58['questionText']=_0x4db4b7;const _0x31a9a5=_0x225b53[_0x337cc4(0x574)](_0x337cc4(0x5a2));_0x1f9f58[_0x337cc4(0x60d)]=Array[_0x337cc4(0x585)](_0x31a9a5)['map'](_0x19479d=>_0x19479d[_0x337cc4(0x464)]);const _0x228857=_0x225b53[_0x337cc4(0x8cb)](_0x337cc4(0x3c2));_0x1f9f58[_0x337cc4(0x61d)]=_0x228857?parseInt(_0x228857['value']):0x0;break;case'short_answer':_0x1f9f58[_0x337cc4(0x1df)]=_0x4db4b7,_0x1f9f58[_0x337cc4(0x81c)]=_0x225b53[_0x337cc4(0x8cb)](_0x337cc4(0x4a0))[_0x337cc4(0x464)];break;case'true_false':_0x1f9f58['questionText']=_0x4db4b7;const _0x52d56a=_0x225b53[_0x337cc4(0x8cb)](_0x337cc4(0x3c2));_0x1f9f58[_0x337cc4(0x348)]=_0x52d56a?_0x52d56a[_0x337cc4(0x464)]===_0x337cc4(0x4d9):!![];break;case _0x337cc4(0x726):_0x1f9f58[_0x337cc4(0x308)]=_0x4db4b7;const _0x3d6c60=_0x225b53[_0x337cc4(0x8cb)]('.correct-response-input');_0x1f9f58[_0x337cc4(0x37b)]=_0x3d6c60?_0x3d6c60['value']:'',_0x3a04c6[_0x337cc4(0x500)](_0x1f9f58['correctResponse']);break;default:_0x1f9f58['questionText']=_0x4db4b7;break;}return{..._0x14d5ee,..._0x1f9f58};});_0x3a04c6['length']>0x0&&_0x472e33['forEach'](_0x5bdbec=>{const _0x14323d=_0x5818bf;_0x5bdbec['questionType']===_0x14323d(0x726)&&(_0x5bdbec[_0x14323d(0x731)]=_0x3a04c6);});const _0x1803dd=currentEditingQuizData['id'],_0xb1376b=doc(db,_0x5818bf(0x11a)+appId+_0x5818bf(0x22e),_0x1803dd);await updateDoc(_0xb1376b,{'topic':_0x599ff7,'questions':_0x472e33}),document['getElementById'](_0x5818bf(0x67c))[_0x5818bf(0x4a7)][_0x5818bf(0x381)](_0x5818bf(0x17a)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x1803dd));}catch(_0x271735){console['error'](_0x5818bf(0x345),_0x271735),showMessage(_0x5818bf(0x3e6));}finally{_0x41f7dd['disabled']=![],_0x41f7dd['innerHTML']=_0x5818bf(0x213);}}async function initiateReGradeProcess(_0x2ec611){const _0x1f4fc5=_0x37a926;showMessage(_0x1f4fc5(0x477));try{const _0x547ee1=doc(db,_0x1f4fc5(0x11a)+appId+_0x1f4fc5(0x22e),_0x2ec611),_0x2c580b=await getDoc(_0x547ee1);if(!_0x2c580b[_0x1f4fc5(0x5fa)]())throw new Error(_0x1f4fc5(0x33e));const _0x310875={'id':_0x2ec611,..._0x2c580b[_0x1f4fc5(0x7a8)]()},_0x6e9b99=collection(db,_0x1f4fc5(0x11a)+appId+_0x1f4fc5(0x22e),_0x2ec611,_0x1f4fc5(0x881)),_0x30e5ed=await getDocs(_0x6e9b99);if(_0x30e5ed[_0x1f4fc5(0x5a0)]){showMessage(_0x1f4fc5(0x4db));return;}const _0x2d6aaf=_0x30e5ed['docs'][_0x1f4fc5(0x4b9)](_0x500c96=>reGradeSingleSubmission(_0x500c96,_0x310875));await Promise[_0x1f4fc5(0x861)](_0x2d6aaf);if(_0x310875[_0x1f4fc5(0x8b5)]){const _0x1e5d6c=doc(db,'artifacts/'+appId+'/public/data/projects',_0x310875[_0x1f4fc5(0x8b5)]),_0x479e62=await getDoc(_0x1e5d6c);if(_0x479e62[_0x1f4fc5(0x5fa)]()&&_0x479e62[_0x1f4fc5(0x7a8)]()[_0x1f4fc5(0x243)]){const _0x1d72c0=_0x479e62[_0x1f4fc5(0x7a8)]()[_0x1f4fc5(0x243)][_0x1f4fc5(0x4b9)](_0x182db8=>updateStudentProfile(_0x310875['projectId'],_0x182db8));await Promise[_0x1f4fc5(0x861)](_0x1d72c0);}}showMessage(_0x1f4fc5(0x50e)+_0x30e5ed[_0x1f4fc5(0x6e2)]+_0x1f4fc5(0x5f2));}catch(_0x59fcdf){console[_0x1f4fc5(0x804)](_0x1f4fc5(0x14f),_0x59fcdf),showMessage(_0x1f4fc5(0x548)+_0x59fcdf['message']);}}async function reGradeSingleSubmission(_0x2cc1cc,_0x594f1a){const _0x2d2c3d=_0x37a926,_0x5568e9=_0x2cc1cc[_0x2d2c3d(0x7a8)](),_0x5ec042=_0x5568e9[_0x2d2c3d(0x4c6)],_0x407c2d=_0x5568e9['attempts']||[],_0x1e6458=[];for(const _0x468199 of _0x407c2d){let _0x45e71a=0x0,_0x2d2759=[],_0x1889c9=0x0;const _0x16a012=[];for(const _0xd06236 of _0x468199[_0x2d2c3d(0x162)]){let _0x11cc18;_0xd06236['questionId']&&(_0x11cc18=_0x594f1a[_0x2d2c3d(0x5fc)][_0x2d2c3d(0x288)](_0x1dbf5b=>_0x1dbf5b['id']===_0xd06236[_0x2d2c3d(0x1e0)]));!_0x11cc18&&_0xd06236[_0x2d2c3d(0x6b8)]&&(_0x11cc18=_0x594f1a[_0x2d2c3d(0x5fc)][_0x2d2c3d(0x288)](_0xfca149=>(_0xfca149[_0x2d2c3d(0x308)]||_0xfca149[_0x2d2c3d(0x1df)])===_0xd06236[_0x2d2c3d(0x6b8)]));let _0x234dc6=![];if(_0x11cc18){const _0x3c7be1=_0x11cc18['questionType']||_0x594f1a[_0x2d2c3d(0x1bc)];switch(_0x3c7be1){case'multiple_choice':if(_0x11cc18[_0x2d2c3d(0x60d)]&&_0x11cc18[_0x2d2c3d(0x61d)]<_0x11cc18[_0x2d2c3d(0x60d)]['length']){const _0x384f3d=_0x11cc18[_0x2d2c3d(0x60d)][_0x11cc18['correctAnswerIndex']];_0x234dc6=_0xd06236[_0x2d2c3d(0x13c)]===_0x384f3d;}break;case _0x2d2c3d(0x27a):const _0x3398e9=_0xd06236['answer']===!![]||_0xd06236[_0x2d2c3d(0x6a8)]===_0x2d2c3d(0x4d9);_0x234dc6=_0x3398e9===_0x11cc18[_0x2d2c3d(0x348)];break;case _0x2d2c3d(0x726):_0x234dc6=_0xd06236[_0x2d2c3d(0x6a8)]===_0x11cc18[_0x2d2c3d(0x37b)];break;case _0x2d2c3d(0x602):_0x234dc6=await gradeShortAnswer(_0xd06236['answer'],_0x11cc18);break;default:_0x234dc6=_0xd06236[_0x2d2c3d(0x894)];break;}}if(_0x234dc6){_0x45e71a++,_0x1889c9++;if(_0x1889c9===0x3)_0x2d2759['push'](BADGES[_0x2d2c3d(0x671)]['id']);}else _0x1889c9=0x0;_0x16a012[_0x2d2c3d(0x500)]({..._0xd06236,'isCorrect':_0x234dc6});}let _0x31efc3=_0x45e71a*0xa;_0x45e71a===_0x594f1a[_0x2d2c3d(0x5fc)][_0x2d2c3d(0x836)]&&(_0x31efc3+=0x32,_0x2d2759[_0x2d2c3d(0x500)](BADGES[_0x2d2c3d(0x5e2)]['id'])),_0x1e6458[_0x2d2c3d(0x500)]({..._0x468199,'score':_0x45e71a,'points':_0x31efc3,'badges':Array['from'](new Set(_0x2d2759)),'answers':_0x16a012});}const _0x264f83=_0x1e6458[_0x2d2c3d(0x836)]>0x0?_0x1e6458[0x0][_0x2d2c3d(0x4b1)]:0x0,_0x40dcf3=Math[_0x2d2c3d(0x12b)](..._0x1e6458[_0x2d2c3d(0x4b9)](_0x22635d=>_0x22635d[_0x2d2c3d(0x4b1)])),_0x6b0a06=_0x1e6458[_0x2d2c3d(0x836)]>0x0?_0x1e6458[_0x1e6458[_0x2d2c3d(0x836)]-0x1]['score']:0x0,_0x28d28d=_0x1e6458[_0x2d2c3d(0x836)]>0x0?_0x1e6458[_0x1e6458[_0x2d2c3d(0x836)]-0x1][_0x2d2c3d(0x886)]:0x0,_0x14cf00=doc(db,_0x2d2c3d(0x11a)+appId+_0x2d2c3d(0x522)+_0x594f1a['id']+_0x2d2c3d(0x383),_0x5ec042);await updateDoc(_0x14cf00,{'attempts':_0x1e6458,'firstScore':_0x264f83,'bestScore':_0x40dcf3,'latestScore':_0x6b0a06,'points':_0x28d28d});}function cleanupQuizOptions(_0x5d768c){const _0x346719=_0x37a926,_0x7860b8=(_0x300ebf,_0x5ed26e)=>_0x5ed26e===0x0?_0x300ebf:_0x7860b8(_0x5ed26e,_0x300ebf%_0x5ed26e),_0x530031=_0xd4f2a3=>{const _0x59d531=_0x34b5;if(typeof _0xd4f2a3!=='string')return null;_0xd4f2a3=_0xd4f2a3[_0x59d531(0x451)]();const _0x232bb2=_0xd4f2a3['split'](/[ /]/)[_0x59d531(0x63c)](_0x42c472=>_0x42c472!=='');if(_0x232bb2[_0x59d531(0x836)]===0x3)return parseInt(_0x232bb2[0x0])+parseInt(_0x232bb2[0x1])/parseInt(_0x232bb2[0x2]);else{if(_0x232bb2[_0x59d531(0x836)]===0x2)return parseInt(_0x232bb2[0x0])/parseInt(_0x232bb2[0x1]);else{if(_0x232bb2[_0x59d531(0x836)]===0x1&&!isNaN(_0x232bb2[0x0]))return parseFloat(_0x232bb2[0x0]);}}return null;},_0xcefbb1=_0x29bd57=>{const _0x158047=_0x34b5;if(typeof _0x29bd57!==_0x158047(0x7dc))return _0x29bd57;const _0x3472b7=_0x29bd57['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x3472b7){const _0x38bb0f=parseInt(_0x3472b7[0x1]);let _0x2b35bb=parseInt(_0x3472b7[0x2]),_0x127427=parseInt(_0x3472b7[0x3]);const _0x3f2661=_0x7860b8(_0x2b35bb,_0x127427);_0x2b35bb/=_0x3f2661,_0x127427/=_0x3f2661;if(_0x127427===0x1)return(_0x38bb0f+_0x2b35bb)[_0x158047(0x6d8)]();return _0x38bb0f+'\x20'+_0x2b35bb+'/'+_0x127427;}return _0x29bd57;};return _0x5d768c&&_0x5d768c[_0x346719(0x5fc)]&&_0x5d768c[_0x346719(0x5fc)][_0x346719(0x3dc)](_0x3400c0=>{const _0x2a4ee1=_0x346719;if(_0x3400c0[_0x2a4ee1(0x101)]===_0x2a4ee1(0x149)&&_0x3400c0['options']){const _0x21abde=new Map(),_0x43959d=_0x3400c0[_0x2a4ee1(0x60d)][_0x3400c0[_0x2a4ee1(0x61d)]];_0x3400c0[_0x2a4ee1(0x60d)]['forEach'](_0x2b5a78=>{const _0x3be887=_0x2a4ee1,_0x2b055c=_0xcefbb1(_0x2b5a78),_0x36b579=_0x530031(_0x2b055c);_0x36b579!==null&&!_0x21abde[_0x3be887(0x820)](_0x36b579)&&_0x21abde[_0x3be887(0x4f7)](_0x36b579,_0x2b055c);}),_0x3400c0[_0x2a4ee1(0x60d)]=Array[_0x2a4ee1(0x585)](_0x21abde[_0x2a4ee1(0x87a)]());const _0x5c62e9=_0x3400c0[_0x2a4ee1(0x60d)]['findIndex'](_0x3aa2c0=>_0x3aa2c0===_0xcefbb1(_0x43959d));_0x3400c0[_0x2a4ee1(0x61d)]=_0x5c62e9!==-0x1?_0x5c62e9:0x0;}}),_0x5d768c;}async function saveQuiz(){const _0xcbfe58=_0x37a926;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0xcbfe58(0x5fc)]||!userId){showMessage(_0xcbfe58(0x5a6));return;}const _0x55a221=document['getElementById'](_0xcbfe58(0x26a));_0x55a221[_0xcbfe58(0x108)]=!![],_0x55a221[_0xcbfe58(0x7b0)]=_0xcbfe58(0x488);const _0x3a0882=document['getElementById'](_0xcbfe58(0x45e))[_0xcbfe58(0x4ce)];let _0x2210ec=document[_0xcbfe58(0x2a6)](_0xcbfe58(0x717))[_0xcbfe58(0x66c)][_0xcbfe58(0x451)]();_0x3a0882&&!_0x2210ec[_0xcbfe58(0x677)](_0xcbfe58(0x62d))&&(_0x2210ec=_0xcbfe58(0x729)+_0x2210ec);try{const _0x11e40a={'resultsDisplay':document[_0xcbfe58(0x2a6)](_0xcbfe58(0x221))[_0xcbfe58(0x464)],'shuffle':document['getElementById'](_0xcbfe58(0x14b))[_0xcbfe58(0x464)],'timerMode':document[_0xcbfe58(0x2a6)](_0xcbfe58(0x12d))[_0xcbfe58(0x464)],'timerDuration':parseInt(document[_0xcbfe58(0x2a6)]('timer-duration-input')[_0xcbfe58(0x464)])||0xa,'passingScore':parseInt(document[_0xcbfe58(0x2a6)](_0xcbfe58(0x721))[_0xcbfe58(0x464)])||0x0,'isAdaptive':document[_0xcbfe58(0x2a6)](_0xcbfe58(0x22a))[_0xcbfe58(0x4ce)],'loopUntilPass':document[_0xcbfe58(0x2a6)]('loop-until-pass-checkbox')[_0xcbfe58(0x4ce)]},_0x2c85d8=(currentQuizData[_0xcbfe58(0x5fc)]||[])[_0xcbfe58(0x4b9)]((_0x498a91,_0x26ce07)=>{const _0x1a4817=_0xcbfe58,_0x499529=document[_0x1a4817(0x2a6)]('quiz-type-select')['value'],_0x2712ad={'id':'q_'+Date[_0x1a4817(0x167)]()+'_'+_0x26ce07,'questionText':_0x498a91[_0x1a4817(0x1df)]||'','explanation':_0x498a91[_0x1a4817(0x300)]||_0x1a4817(0x3f3),'questionType':_0x498a91[_0x1a4817(0x101)]||_0x499529,'imageCode':_0x498a91['imageCode']||null};return(_0x2712ad[_0x1a4817(0x101)]===_0x1a4817(0x149)||_0x2712ad[_0x1a4817(0x101)]==='fill_in_with_choices'||_0x2712ad['questionType']===_0x1a4817(0x45c)&&_0x498a91[_0x1a4817(0x60d)])&&(_0x2712ad[_0x1a4817(0x60d)]=_0x498a91[_0x1a4817(0x60d)]||[],_0x2712ad[_0x1a4817(0x61d)]=_0x498a91['correctAnswerIndex']!==undefined?_0x498a91[_0x1a4817(0x61d)]:0x0),(_0x2712ad['questionType']===_0x1a4817(0x602)||_0x2712ad[_0x1a4817(0x101)]===_0x1a4817(0x103)||_0x2712ad[_0x1a4817(0x101)]===_0x1a4817(0x45c)&&_0x498a91[_0x1a4817(0x81c)])&&(_0x2712ad[_0x1a4817(0x81c)]=_0x498a91[_0x1a4817(0x81c)]||''),_0x2712ad[_0x1a4817(0x101)]===_0x1a4817(0x27a)&&(_0x2712ad[_0x1a4817(0x348)]=_0x498a91[_0x1a4817(0x348)]===!![]),_0x2712ad[_0x1a4817(0x101)]===_0x1a4817(0x726)&&(_0x2712ad[_0x1a4817(0x308)]=_0x498a91[_0x1a4817(0x308)]||'',_0x2712ad[_0x1a4817(0x37b)]=_0x498a91[_0x1a4817(0x37b)]||'',_0x2712ad['allResponses']=_0x498a91[_0x1a4817(0x731)]||[]),_0x2712ad;}),_0x47cc4c={'topic':_0x2210ec,'quizType':currentQuizData[_0xcbfe58(0x1bc)]||_0xcbfe58(0x149),'questions':_0x2c85d8,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0xcbfe58(0x223)](),'status':_0xcbfe58(0x2aa),'settings':_0x11e40a,'quizMode':_0x3a0882?_0xcbfe58(0x44f):_0xcbfe58(0x354),'pairedQuizId':null,'lessonPlan':null};let _0x367f9a;while(!![]){_0x367f9a=Math[_0xcbfe58(0x501)](0x3e8+Math[_0xcbfe58(0x23d)]()*0x2328)[_0xcbfe58(0x6d8)]();const _0x2fabd9=await getDoc(doc(db,'artifacts/'+appId+_0xcbfe58(0x22e),_0x367f9a));if(!_0x2fabd9[_0xcbfe58(0x5fa)]())break;}await setDoc(doc(db,_0xcbfe58(0x11a)+appId+_0xcbfe58(0x22e),_0x367f9a),_0x47cc4c),currentQuizData['settings']=_0x11e40a,currentQuizData['id']=_0x367f9a;const _0xcc60ee=document[_0xcbfe58(0x2a6)](_0xcbfe58(0x31a));_0xcc60ee['innerHTML']=_0xcbfe58(0x453)+_0x367f9a+_0xcbfe58(0x28b),document[_0xcbfe58(0x2a6)](_0xcbfe58(0x1ea))[_0xcbfe58(0x7a6)](_0xcbfe58(0x69e),()=>copyTextToClipboard(_0x367f9a,_0xcbfe58(0x458))),document[_0xcbfe58(0x2a6)](_0xcbfe58(0x42c))[_0xcbfe58(0x7a6)](_0xcbfe58(0x69e),()=>handleStartLiveRace(_0x367f9a)),document['getElementById'](_0xcbfe58(0x763))[_0xcbfe58(0x7a6)]('click',()=>startPresentation(currentQuizData)),document['getElementById'](_0xcbfe58(0x5b9))[_0xcbfe58(0x7a6)](_0xcbfe58(0x69e),startAdminTest),showMessage(_0xcbfe58(0x111));}catch(_0x1a2a97){console[_0xcbfe58(0x804)](_0xcbfe58(0x673),_0x1a2a97),showMessage(_0xcbfe58(0x1ce)),_0x55a221[_0xcbfe58(0x108)]=![],_0x55a221[_0xcbfe58(0x7b0)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x48cdd1=_0x37a926,_0x310df5=document[_0x48cdd1(0x2a6)]('move-quiz-modal'),_0x2aaa99=document[_0x48cdd1(0x2a6)](_0x48cdd1(0x4cd)),_0x498fba=_0x310df5[_0x48cdd1(0x8cb)]('h3'),_0x1d0e1e=document[_0x48cdd1(0x2a6)]('confirm-move-quiz-btn');_0x498fba[_0x48cdd1(0x523)]=_0x48cdd1(0x197),_0x1d0e1e['textContent']=_0x48cdd1(0x276);allProjects[_0x48cdd1(0x836)]===0x0?(_0x2aaa99[_0x48cdd1(0x7b0)]=_0x48cdd1(0x13f),_0x1d0e1e['disabled']=!![]):(_0x2aaa99[_0x48cdd1(0x7b0)]=allProjects[_0x48cdd1(0x4b9)](_0x297f19=>_0x48cdd1(0x7b9)+_0x297f19['id']+'\x22>'+_0x297f19[_0x48cdd1(0x6b7)]+_0x48cdd1(0x872))[_0x48cdd1(0x43d)](''),_0x1d0e1e[_0x48cdd1(0x108)]=![]);_0x310df5[_0x48cdd1(0x4a7)][_0x48cdd1(0x578)]('hidden');const _0x5a8c70=()=>{const _0x794d07=_0x48cdd1,_0x362922=_0x2aaa99[_0x794d07(0x464)];_0x362922?(currentProjectId=_0x362922,_0x310df5[_0x794d07(0x4a7)][_0x794d07(0x381)](_0x794d07(0x17a)),saveQuiz(),_0x498fba[_0x794d07(0x523)]=_0x794d07(0x807),_0x1d0e1e[_0x794d07(0x523)]=_0x794d07(0x5ee),_0x1d0e1e[_0x794d07(0x82d)](_0x794d07(0x69e),_0x5a8c70),_0x1d0e1e[_0x794d07(0x7a6)](_0x794d07(0x69e),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x1d0e1e[_0x48cdd1(0x82d)](_0x48cdd1(0x69e),confirmMoveQuiz),_0x1d0e1e[_0x48cdd1(0x7a6)](_0x48cdd1(0x69e),_0x5a8c70);}function copyTextToClipboard(_0xf6966e,_0x2e9037){const _0x5aadf9=_0x37a926,_0xce1778=document[_0x5aadf9(0x70a)](_0x5aadf9(0x39c));_0xce1778[_0x5aadf9(0x464)]=_0xf6966e,_0xce1778[_0x5aadf9(0x660)][_0x5aadf9(0x424)]=_0x5aadf9(0x528),_0xce1778[_0x5aadf9(0x660)][_0x5aadf9(0x5bb)]='0',document[_0x5aadf9(0x75f)][_0x5aadf9(0x696)](_0xce1778),_0xce1778[_0x5aadf9(0x255)](),_0xce1778[_0x5aadf9(0x187)]();try{const _0x2c42cf=document[_0x5aadf9(0x14c)]('copy');showMessage(_0x2c42cf?_0x2e9037:'คัดลอกไม่สำเร็จ');}catch(_0x24a274){showMessage('คัดลอกไม่สำเร็จ'),console['error'](_0x5aadf9(0x45b),_0x24a274);}document[_0x5aadf9(0x75f)]['removeChild'](_0xce1778);}function _0x4085(){const _0x5b3018=['</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','on_fire','lesson-plan-title','ref','manual_release','(หลังเรียน)\x20','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','allResponses','generate-from-parallel-test-btn','badges','back-to-dashboard-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','BOOLEAN','.copy-quiz-id-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x5csqrt{$1}','ความสัมพันธ์ของมุม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','toggle','Error\x20creating\x20project:','.start-presentation-list-btn','Failed\x20to\x20get\x20hint:','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','\x22.\x20Ideal\x20Answer:\x20\x22','settings','ชนิดของข้อมูลและการเก็บข้อมูล','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','จากไฟล์ที่แนบมานี้,\x20','text-red-500\x20hover:text-red-700','ไม่พบแบบทดสอบสำหรับรหัสนี้','className','bg-red-200\x20text-red-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','<li\x20class=\x22','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','ฟังก์ชันสัมพัทธ์\x20(rational)','modal-timer-mode-select','กำลังสร้างรูปภาพ...','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','gamePin','ชื่อโปรเจคห้ามว่าง','isPinned','close-comparison-modal-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','body','move-quiz-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-700','start-presentation-btn','option','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quiz','confirm-global-live-btn','answeredCurrentQuestion','tfrac','msRequestFullscreen','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','log','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','project-title','blueprint-input-area','solution','Error\x20joining\x20live\x20game:','worksheet-input-area','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','.delete-svg-btn','กำลังสร้างคำถามข้อ\x20','<i\x20class=\x22fas\x20fa-pen\x22></i>','behavior-log','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','ปริพันธ์ไม่จำกัด','3841607OumFwi','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','student-progress-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','text-content-input','visibilityState','</p><p><strong>เฉลย:</strong>\x20','.ql-editor','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การลบเศษส่วน','STRING','<div\x20id=\x22q-image-container-','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','circle','verify-answers-btn','#26890c','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','\x5ctext{$1}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','projectSortOrder','N/A','ความต่อเนื่อง','isLooping','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','.project-card-container[data-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ai-quiz-app-aefee.firebaseapp.com','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','FIRST_TRY_ACE','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','cancel-quiz-bank-btn','close-student-rankings-btn','Error\x20processing\x20file\x20for\x20AI:','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','quiz-results-table-body','ส่งแล้ว','<tr\x20class=\x22','scores','analytics-tab-btn','\x20ข้อ\x20','addEventListener','วงรี','data','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','อัตราส่วนและสัดส่วน','student-quiz-leaderboard-table-body','onload','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','draggable-text','cancel-quiz-edits-btn-footer','innerHTML','cancel-bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','dataset','สมการลอการิทึม','เกิดข้อผิดพลาดในการอัปเดตสถานะ','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','แผนภาพเวนน์','#F3E8FF','<option\x20value=\x22','Error\x20updating\x20quiz\x20status:','ฟังก์ชันกำลังสองและกราฟ','results_','หน่วยเวลาและการคำนวณเวลา','showImproveButton','Error\x20listening\x20for\x20starred\x20quizzes:','save','เรขาคณิตวิเคราะห์','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','upperGroupResponders','test','live-options-container','</form>','Error\x20rendering\x20student\x20progress:','\x22\x20class=\x22color-palette-btn\x20','passingScore','insertAdjacentHTML','\x5ctimes','เกิดข้อผิดพลาดในการจับคู่','อนุพันธ์:\x20ผลคูณ/ผลหาร','isStarred','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','หมดเวลา!\x20กำลังส่งคำตอบ...','ตรวจทานเฉลยเสร็จสิ้น!','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','generate-from-file-btn','.lastAnswerValue','ราชาคัมแบ็ก','</span></div>','\x20mx-1\x20text-lg\x22></i></span>','scheduled','timer-duration-input','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','string','36032oWKoiG','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','comparison-overall-tab','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รากที่สองและที่สาม','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','องค์ประกอบของฟังก์ชัน','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','.isScored','OBJECT','จากเนื้อหาต่อไปนี้:\x20\x22','opacity-50','มุมพิเศษ\x2045°-45°-90°','request','comparison','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','http://www.w3.org/2000/svg','bg-yellow-100','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','td,\x20th','modal-message','qType','</span></p>','comparison-modal','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','student-view','toLowerCase','scores-tab-btn','พอใช้','type','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.quiz-result-card','ไม่พบข้อมูลข้อสอบหลังเรียน','POST','error','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','ย้ายแบบทดสอบไปโปรเจคอื่น','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','outerHTML','onerror','input','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','podium','_opt','mousemove','project-detail-view','\x22\x20class=\x22delete-project-btn\x20','cancel-rename-quiz-btn','not-found','\x22\x20name=\x22question_single\x22\x20value=\x22','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','bg-green-200\x20text-green-800','ลำดับเรขาคณิต\x20(GP)','ไม่พบโปรเจค','repeat','closest','keydown','idealAnswer','.project-card-container','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','mode-switcher-btn','has','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','.group','#results-table','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','STOP','รูปหลายเหลี่ยมและมุมภายใน','upper_group_count','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','doughnut','NUMBER','.start-live-race-btn','cancel-move-quiz-btn','removeEventListener','แก้ไขหัวข้อสำเร็จ','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','export-leaderboard-word-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','.draggable-text','เกิดข้อผิดพลาดในการเปลี่ยนสี','กรุณาใส่ชื่อโปรเจค','shuffle','length','.option-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','QUICK_THINKER','setAttribute','ownerSVGElement','tGain','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','.live-answer-btn,\x20#live-submit-short-answer-btn','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','ระบบเลขและค่าประจำหลัก','bg-red-500','correct','student-project-leaderboard-content','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','จำนวนเต็มบวก','Error\x20updating\x20old\x20quizzes:','student-join-game-view','slide-counter','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','.project-card-container:not(.opacity-50)','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','.live-summary-tooltip.visible','leaderboard-table-body','leq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างชุดคำถามจับคู่','การแปลงรูปอัตลักษณ์','delete','lastAnswerCorrect','การยืนยันตัวตนล้มเหลว','\x22\x20data-topic=\x22','เส้นตรง:\x20ขนาน/ตั้งฉาก','perQuestionStats','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20fetching\x20quiz\x20status:','timestamp','สำหรับโปรเจค:\x20','scheduled_pending','วงกลม:\x20สมการและสมบัติ','all','authed_project_','\x22\x20data-pre-test-id=\x22','ARRAY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','cancel-quiz-edits-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถสร้างโปรเจคได้','button[data-id]','class','dragend','MathJax','Error\x20generating\x20parallel\x20test\x20from\x20bank:','.quiz-status-btn','</option>','text-purple-600','topic-tab','line-through\x20text-red-700','</span></td>','quiz-schedule-start-container','ตอบถูกทุกข้อในแบบทดสอบนี้','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','values','analytics','Error\x20displaying\x20question\x20bank:','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','00:00','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','submissions','topic-input-area','getScreenCTM','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','points','fill','สร้างแบบทดสอบ','สอบปกติ','\x20ใหม่...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','จำนวนคู่:','สอบซ่อม','retake-quiz-loop-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#10B981','isCorrect','generate-from-topic-btn','promise','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','^{\x5ccirc}\x5ctext{C}$','Error\x20loading\x20quiz\x20for\x20student:','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','ส่งคำตอบ','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','พิสัย','rgba(79,\x2070,\x20229,\x201)','100eornpp','onclick','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดเมนและเรนจ์','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','.color-palette-btn','อัตราและอัตราหน่วย','isPasscodeEnabled','/public/data/practiceBank','update-old-quizzes-btn','onchange','เกิดข้อผิดพลาดในการติดดาว','<li>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','text-yellow-300','dataIndex','Error\x20duplicating\x20quiz:','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','\x22\x20สำเร็จ','projectId','sort','text-white','fa-pen','_blank','blockReason','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20generating\x20from\x20parallel\x20test\x20file:','การหาร','.quiz-bank-settings-btn','cancel-export-pdf-btn','<tr>','ฐานนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','mouseup','json','Error\x20generating\x20lesson\x20plan:','#FEE2E2','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-quiz-leaderboard-tab','export-compact-pdf-btn','querySelector','manage-tab-content','btn','questionDisplayedAt','อนุพันธ์:\x20กฎพื้นฐาน','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','startTime','เรขาคณิต','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','show_results_and_answers','สรุปผลสุดท้าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','topic','\x22\x20value=\x22','ฟังก์ชันพหุนาม','progress-project-select','temp-loader-results','touchcancel','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','$1\x5cfrac','hint','thead','ไม่พบแบบทดสอบในระบบเลย','bank-quiz-list','indexOf','touchstart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','แผนการสอน','แก้ระบบสมการด้วยเมทริกซ์','stdDev','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','อินเวอร์สของเมทริกซ์','auto-fix-latex-btn','localeCompare','\x20mb-2\x22>','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','submission-status-chart','ค่าเฉลี่ย','presentation-short-answer-input','fullscreenchange','.delete-custom-topic-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','submit','Error\x20opening\x20quiz\x20editor:','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบโปรเจค','\x5csum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','input[name=\x22drill_answer\x22]:checked','catch','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','bg-red-100','numeric','instructions','fa-rocket\x20text-purple-500','\x5cdiv','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','</tr>','quiz-bank-modal','เกิดข้อผิดพลาดในการลบหัวข้อ','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','bg-red-100\x20text-red-800','lessonPlan','questionType','href','fill_in_no_choices','project-list','bank-quiz-search-input','link-input-area','destroy','disabled','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบที่ติดดาว','timerMode','message','abs','.answer-text','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','บันทึกแบบทดสอบสำเร็จแล้ว!','touchmove','คะแนน','\x22,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','คะแนนเฉลี่ย','.sortable-header','matching','artifacts/','live-short-answer-input','/questionBank','พิมพ์ตอบ','interesting-stats-container','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','showInStudentDashboard','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','MathJax\x20typeset\x20error\x20(analytics):','คณิตศาสตร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','getTextContent','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','ไม่มี','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','project-detail','add-student-btn','max','สถิติและความน่าจะเป็น','timer-mode-select','verify-answers-editor-btn','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','wakeLock','อัปเดตแบบทดสอบเก่า\x20','พื้นที่ผิวรูปทรงสามมิติ','typesetPromise','timer-bar','short','Failed\x20to\x20parse\x20JSON\x20from\x20AI','mean','text-red-900','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','admin-dashboard','element','answerText','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','status','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','global-quiz-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','\x20pointer-events-none\x22>','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','.color-palette-popup','multiple_choice','สู้ๆ\x20ลองอีกครั้งนะ','shuffle-setting-select','execCommand','progress-student-select','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','Re-grade\x20process\x20failed:','ผ่านฉลุย','$1\x5c%','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','block','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','password-error-msg','กำลังอัปเดตแบบทดสอบ\x20','แบบทดสอบนี้หมดเวลาแล้ว','G-V90KRM0L63','player-list-lobby','8025738JsHxyY','currentTarget','attempts','ไม่ผ่าน','quiz-leaderboard-table-container','#student-quiz-leaderboard-content\x20thead','ไม่ใช่','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','answers','hint-btn','Error\x20unpairing\x20quizzes:','</td>','fullscreenElement','now','classWeaknesses','classStrengths','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','firstScore','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','contentEditable','<button\x20id=\x22','</span>','num-questions','generate-from-blueprint-btn',';\x22\x20data-id=\x22','save-project-name-btn','จำนวนเชิงซ้อน\x20(เสริม)','ยังไม่มีนักเรียนส่งงาน','hidden','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','พื้นที่สามเหลี่ยม','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','post-test','cancel-global-live-btn','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','index','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','times','cancel-quiz-status-btn','bg-blue-100','results-tab','select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x5cs*\x5c(','บันทึกการตั้งค่าแล้ว','sin','student-name-select','สร้างใหม่','ดีมาก','link-topic-input','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','ความเป็นอิสระของเหตุการณ์','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','เลือกโปรเจคเพื่อบันทึก','ตารางความถี่','lobby','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','image/png','บันทึกการตั้งค่าการแสดงผลสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','toFixed','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','start-game-btn','text-indigo-600','$1\x5ctext(','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','ดอทโปรดักต์\x20(dot)','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','first_try_ace','ที่พิมพ์ได้\x20จำนวน\x20','ไม่พบตารางสำหรับ\x20Export','player-count','confirm-move-quiz-btn','<tr><td\x20colspan=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','upperGroupNames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionIndex','global-live-game-modal','API\x20call\x20failed\x20with\x20status:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','leaderboard-tab-content','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','Error\x20deleting\x20project:','dispatchEvent','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quizType','name','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-results','.parallel-quiz-btn','fa-crown\x20text-yellow-500','questionStatus','bg-green-100\x20text-green-800','input[name=\x22question_single\x22]:checked','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','bank-tab','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','num-choices','isScored','.generate-lesson-btn','ไม่พบแบบทดสอบ','การบวกทศนิยม','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','กำลังสร้างแบบทดสอบคู่ขนาน...','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','ลบหัวข้อสำเร็จ','target','editor-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','\x22>ไม่ใช่</p>','per-question-options','อัตราการเปลี่ยนแปลงทันที','getAttributeNS','border-green-300\x20bg-green-50','questions_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','rows','touchend','questionText','questionId','project-passcode-input','text-green-600\x20font-bold','leaderboard','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','loader','behavior-log-tab-btn','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','[*]','ไม่พบข้อมูลผู้ใช้','copy-quiz-id-btn','.regenerate-question-btn','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x5cle','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','live-game-view','#per-question-options\x20textarea','back-from-results-btn','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','write','presentation-explanation','math-topic-search-input','แบบทดสอบซ่อมเสริม','release','[contenteditable=\x22true\x22]','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','border-red-300\x20bg-red-50','ค่าเสื่อมราคา','quick_thinker','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','.summary-bar-item','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','results-quiz-title','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','visibilitychange','arrayBuffer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','strength-weakness-analysis-container','คำเตือน\x20(','<div\x20class=\x22answer-space\x22></div>','Error\x20updating\x20pin\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','split','documentElement','playerName','Error\x20showing\x20quiz\x20detail\x20view:','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','get','1530804pzStQR','ส่วนเบี่ยงเบนเฉลี่ย','/public/data/liveGames','.question-editor-item[data-q-index=\x22','cancel-delete-btn','startedAt','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','การคูณ','modal-results-display-select','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','beforeend','results-display-select','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','toISOString','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พีชคณิตและฟังก์ชัน','download','.compare-results-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setFont','adaptive-quiz-checkbox','fa-user-astronaut\x20text-blue-700','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','some','/public/data/quizzes','\x20คนที่ส่ง\x20ตอบถูก\x20(','_opt0\x22\x20name=\x22question','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','<span\x20title=\x22','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','height','shuffledQuiz','timer-duration-label','nickname-input','docs','<p><strong>คำตอบที่แนะนำ:</strong>\x20','</tbody></table></div>','คณิตการเงิน/บูรณาการ','random','Failed\x20to\x20create\x20initial\x20submission\x20record:','removeAttribute','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','per-q-countdown','students','FileReader\x20error:','quiz-status-modal','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','.project-card-content','input[type=\x22checkbox\x22]','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','quizId','การลบทศนิยม','preTScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','getDocument','ก่อนเรียน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#e21b3c','กฎของไซน์','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','focus','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','application/json','total','globalSettings','#FCE7F3','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','code','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setItem','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','Enter','.unpair-quiz-btn','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-student-btn','มัธยฐาน','save-quiz-btn','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','$1\x5ctimes','#F59E0B','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-generation-area','bg-green-100','<p><strong>คำตอบของคุณ:</strong>\x20','เงินงวด\x20(อนุกรมเงินงวด)','#ffffff','modal-adaptive-quiz-checkbox','เลือกและบันทึก','cloneNode','back-to-student-initial-btn','#FFFFFF','true_false','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','preventDefault','ศูนย์','document','\x20(p=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','https://corsproxy.io/?','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','find','เกิดข้อผิดพลาดในการบันทึกลำดับ','จับคู่แบบทดสอบสำเร็จ!','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ระยะเวลา\x20(วินาที):','/public/data/customMathTopics','พบข้อสอบ\x20','specialist','auto','text-green-700','schedule','Error\x20verifying\x20answers\x20in\x20editor:','_opt1\x22\x20name=\x22question','generate-from-link-btn','(^|[^\x5c\x5c])\x5cb','\x5cfrac{','Error\x20deleting\x20custom\x20topic:','normal','ตรีโกณมิติ','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','parseFromString','default','dimmed','ไม่พบข้อมูลการจับคู่','name_asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','latestScore','text-red-700\x20bg-red-100','Error\x20fetching\x20projects\x20for\x20move:','.pdf','getElementById','entries','ข้อที่\x20','file-tab','active','mousedown','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','</tbody></table>','screen_exit','text-gray-300\x20hover:text-white','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','274192258111','bg-yellow-50','(ฉบับง่าย)\x20','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','Error\x20listening\x20for\x20projects:','2GEbERe','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','circ','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','move','\x5c\x5c\x5c\x5c(?=(','isRemedial','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20verifying\x20answers:','<textarea\x20name=\x22question','[role=\x22textbox\x22]','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','.quiz-bank-present-btn','พื้นที่ใต้กราฟ/ระหว่างกราฟ','Error\x20updating\x20project\x20name:','Error\x20committing\x20score\x20updates:','tan','neq','การหารเศษส่วน','.png','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','blueprint-upload-input','<svg','fa-fire\x20text-orange-500','\x5cge','\x22...','.\x20แต่ละข้อมี\x20','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','grid','\x20/\x20','สร้างคำถามแบบเติมคำในช่องว่าง','passcode','quiz-results-view','far\x20fa-star','ไฮเพอร์โบลา','ความเท่ากันทุกประการของสามเหลี่ยม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','การบวกเศษส่วน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','เกิดข้อผิดพลาดในการปักหมุด','message-modal','จำนวนนักเรียน','.lastAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','Error\x20loading\x20user\x20preferences:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','bg-purple-50','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','text-indigo-700','ตัวประกอบและตัวประกอบเฉพาะ','text-blue-700\x20bg-blue-100','autoTable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด)','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','start-quiz-btn','ฟังก์ชันเชิงเส้นและกราฟ','key','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','text-green-600','explanation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x5cn','-tab','findIndex','แผนภาพกล่อง\x20(box\x20plot)','การสร้างรูปด้วยวงเวียน–สันตรง','stem','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-image-btn','comparison-individual-tab','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fromCharCode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','both','text-gray-100','สมการเชิงเส้นตัวแปรเดียว','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','.cancel-edit-topic-btn','slice','content','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','การเรียงสับเปลี่ยน\x20(Permutation)','result','generated-quiz-actions','game-pin-input','27411472','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','bulk-quiz-settings-modal','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','show-in-student-dashboard-checkbox','1:274192258111:web:4120c9118229b5644dd48a','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...\x20กรุณารอสักครู่','ฮิสโตแกรม','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','originalTopic','#D1FAE5','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','<div\x20class=\x22space-y-4\x22>','lowerGroupNames','\x20ข้อ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ช่อง','loopUntilPass','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','flex\x20flex-col\x20gap-2','</strong></p>','back-to-student-home-btn','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','confirm-create-project-btn','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','ring-2','latestSubmittedAt','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x22>','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','text-green-700\x20bg-green-100','ไม่พบข้อมูลแบบทดสอบ','/preferences/main','text-gray-500','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','สมการเหตุผล\x20(rational)','quiz-search-input','Error\x20deleting\x20submission:','Error\x20saving\x20quiz\x20edits:','ความชันและเส้นตรง','open-quiz-bank-btn','correctAnswer','bank-input-area','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','custom-math-topic-input','quiz-id-input','files','Firebase\x20initialization\x20failed:','parallel-test-upload-input','cursor','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','standard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','เกมสิ้นสุดลงแล้ว','justification','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','Error\x20generating\x20from\x20link:','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','การบวก','</li>','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','hasOwnProperty','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','grid-view-btn','Invalid\x20response\x20structure\x20from\x20AI.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','parse','confirmation-modal','delete-svg-btn','\x22>ใช่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','การปัดเศษและประมาณค่า','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','กรุณาเลือกไฟล์ก่อน','student-result-area','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','ทฤษฎีทวินาม\x20(เบื้องต้น)','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','กรุณาเลือกโปรเจคปลายทาง','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','exitFullscreen','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','quiz-leaderboard-table-body','correctResponse','quiz-status-options','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','file-input-area','ปริพันธ์จำกัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','add','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','/submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','jspdf','bestScore','toLocaleDateString','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','title','เปลี่ยนชื่อแบบทดสอบสำเร็จ','submission','project-quizzes-list','กรุณาวาง\x20URL\x20ของบทความก่อน','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','per_question','passcode-input-container','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','\x20\x20\x20-\x20','สร้างแบบทดสอบปรนัย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','smooth','\x5cneq','textarea','คะแนนเต็ม!','export-excel-btn','การกระจายและการจัดหมู่','input[type=\x22checkbox\x22]:checked','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','live-game','/public/data/projects/','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(16,\x20185,\x20129,\x200.7)','ชื่อหัวข้อห้ามว่าง','ค.ร.น.\x20(LCM)','ค่าความจริง/ตารางค่าความจริง','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','quiz-settings-modal','top','เกิดข้อผิดพลาดในการสร้างใบงาน','\x5cfrac{$1}{$2}','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','selected-topics-count','กำลังวิเคราะห์ข้อสอบ\x20\x22','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','toDataURL','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','มุมพิเศษ\x2030°-60°-90°','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สลับไปโหมดนักเรียน','student-name-selection-view','\x22\x20ซึ่งมีทั้งหมด\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22radio\x22]:checked','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','$1_{$2}','ร้อยละประยุกต์','เซียนสมองไว','perseverance','ไม่สามารถเพิ่มนักเรียนได้','student-initial-view','quiz-end-time','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','.delete-project-btn','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','\x20\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','รูปสแควร์รูท\x20(surd)','การจัดหมู่\x20(Combination)','mjx-container','/studentProfiles','isAdaptive','name_desc','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','การหารทศนิยม','raw','fa-bolt\x20text-blue-500','targetId','forEach','per-question-timer-container','modal-shuffle-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','ตัวแปรและนิพจน์','getItem','.topic-actions-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความแปรปรวน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','เกิดข้อผิดพลาดในการบันทึก','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การคูณทศนิยม','\x22.\x20','ไม่สามารถบันทึกการตั้งค่าได้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','ถูกต้อง!','view-my-progress-btn','ไม่มีคำอธิบาย','<h1></h1>','lastAnswerIndex','back-to-project-btn','ผิด','\x22><i\x20class=\x22fas\x20','countdown-display','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','ทศนิยม\x20(ค่าประจำหลัก)','totalQuestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','leaderboard-quiz-tab-btn','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','เรเดียนและการแปลงหน่วย','project-dashboard-view','close-lesson-plan-modal-btn','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','หน่วยความยาวและการแปลง','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','</p><div>','live-player-management','export-worksheet-pdf-btn','คะแนนยังไม่ถึงครึ่ง','):\x20','whole_quiz','show_results_only','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','label[for=\x22num-questions\x22]','analytics-summary-cards','suggestedAnswer','keyup','div','manage','%</span>','Invalid\x20response\x20structure\x20from\x20AI:','close-lesson-plan-modal-footer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','timerDuration','confirm-bulk-quiz-settings-btn','results-table-container','student-passcode-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','ฟังก์ชันลอการิทึม','totalPoints','.edit-quiz-btn','<div\x20class=\x22flex-1\x22></div>','bg-amber-100\x20text-amber-800','การประยุกต์เวกเตอร์พื้นฐาน','position','bulk-loop-until-pass-checkbox','parallel-test-input-area','Error\x20saving\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','check-presentation-answer-btn','export-leaderboard-excel-btn','start-live-race-generated-btn','projectView','starred','COMEBACK_KING','change','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','quiz-bank-count','cancel-create-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','behaviorLog','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','.verification-result-editor','student-progress-view','teachingContent','<div\x20class=\x22mb-3\x20topic-category\x22>','หัวข้อที่สร้างเอง','practiceProblems','join','results-table','answer-grid-container','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','players','cdot','ดีเทอร์มิแนนต์','div[data-question-index=\x22','preTestId','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','after','ผู้ไม่ยอมแพ้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','leaderboard-quiz-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reference-pdf-upload','</p>','text/csv;charset=utf-8;','pre-test','perfect_score_status','trim','cancel-passcode-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','quiz-type-select','text-red-700','clientY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คัดลอกรหัสแล้ว!','.regenerate-question-editor-btn','text-input-area','Copy\x20command\x20failed','mixed','.topic-name-display','pre-test-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอัปเดต:\x20','cancel-test-btn','Error\x20saving\x20project\x20order:','Error\x20generating\x20from\x20blueprint:','value','button','ยืนยันการกระทำ','getBoundingClientRect','open','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','เกิดข้อผิดพลาดในการนำผู้เล่นออก','$1^{\x5ccirc}','cos','items','stringify','Original\x20quiz\x20not\x20found','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','\x22\x20data-name=\x22','bg-emerald-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','date_desc','</body></html>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','quizMode','กราฟแท่ง\x20กราฟเส้น','thead\x20.sortable-header','การจัดกลุ่มข้อมูล','fas\x20fa-star\x20text-yellow-500','confirm-passcode-btn','results-quiz-id-display','confirm-admin-login-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','prod','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','เกิดข้อผิดพลาดในการโหลดโปรเจค','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','/users/','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','modal-timer-duration-input','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','แบบทดสอบจากคลังส่วนตัว','then','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','question','modal-loop-until-pass-checkbox','ความน่าจะเป็นแบบมีเงื่อนไข','คัดลอกแบบทดสอบสำเร็จ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รูปแบบการให้เหตุผล',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','practice-topic-btn','Failed\x20to\x20kick\x20player\x20','</h3>','.delete-quiz-btn','touches','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','learningGaps','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','.ideal-answer-input','ทฤษฎีบทพีทาโกรัสและการประยุกต์','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','.quiz-bank-move-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สมการค่าสัมบูรณ์','classList','katex','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','createdAt','text-red-300\x20hover:text-red-100','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','back-to-home-manual-release','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','score','ลบโปรเจคสำเร็จแล้ว','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','สมมาตร\x20(แกน/จุด)','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','map','endTime','$1\x20\x5cfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','export-word-btn','results','2-digit','เมทริกซ์:\x20บวก/คูณ','players.','text-blue-700','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollY','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','studentName','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','<span\x20class=\x22sort-indicator\x20ml-2\x22>','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','summary_chart','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-editor-questions-container','move-quiz-project-select','checked','ใช่','question-complexity-select','Error\x20saving\x20submission:','substring','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','การแจกแจงทวินาม\x20(พื้นฐาน)','fa-dumbbell\x20text-gray-700','คำถามดิบ:\x20\x22','Error\x20regenerating\x20question\x20in\x20editor:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','true','ค่าสัมบูรณ์','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','quiz-start-time','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','bg-green-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','afterend','ลำดับเลขคณิต\x20(AP)','overallGroups','close-comparison-modal-footer-btn','live-submit-short-answer-btn','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','กรุณาใส่ชื่อนักเรียน','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','Error\x20saving\x20visibility\x20settings:','open-global-live-btn','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','Error\x20toggling\x20star\x20status:','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','set','th-TH','pinnedProjects','msExitFullscreen','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','score-distribution-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','push','floor','</p></div>','projectOrder','save-settings-btn','\x22\x20value=\x22true\x22\x20','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','isArray','sqrt','.toggle-actions-btn','display','.presentation-option','include-images-checkbox','ตรวจคะแนนใหม่\x20','แคลคูลัสเบื้องต้น','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','generate-from-text-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clientX','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','-\x20ข้อ\x20','helvetica','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','leaderboard-quiz','\x22>จาก:\x20','lower_group_count','export-pdf-modal','GlobalWorkerOptions','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','submittedAt','confirm-delete-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/public/data/quizzes/','textContent','#FEF3C7','viewBox','link-url-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','fixed',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','generated-quiz-container','print','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','.save-to-bank-btn','function','ปรับเพิ่ม/ลดเป็นร้อยละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','create-project-modal','\x0a\x20\x20\x20\x20','list-view-btn','#retake-for-improvement-btn','lesson-plan-content','-tab-content','presentation-slide-container','\x22\x20ให้เป็นคำถามประเภท\x20\x22','/public/data/projects','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','math-topics-checkbox-container','export-tutor-pdf-btn','round','category','confirm-join-game-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','results-tab-content','postScore','admin-password-modal','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.question-editor-item','<div\x20class=\x22my-6\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','ring-purple-400','list','date_asc','student-project-leaderboard-tab','user','เกิดข้อผิดพลาดในการลบนักเรียน','bulk-shuffle-select','.pair-quiz-btn','dashboardConfig','quiz-leaderboard-table','analytics-tab-content','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','badgesCount','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','.delete-submission-btn','projectSort','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','ทำคะแนนเต็มในการทำครั้งแรก','resultsDisplay','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','q-image-container-','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','[data-topic-container-id]','analyze-strengths-btn','เปิดใช้งาน','Error\x20saving\x20questions\x20to\x20practice\x20bank:','scores-tab-content','เกี่ยวกับหัวข้อ\x20\x22','Failed\x20to\x20get\x20standardized\x20topic:','ai-quiz-app-aefee','close-game-final-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','AI\x20grading\x20failed:','bg-red-50','getContext','querySelectorAll','replace','svg','border-green-700','remove','Error\x20saving\x20to\x20question\x20bank:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','warn','commit','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','editable-text-','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','from','back-to-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','presentation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','contains','2839312rHCpZP','inactive','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','ยังไม่ส่ง','เกิดข้อผิดพลาด:\x20','#E5E7EB','back-to-dashboard-from-results-btn','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','text','หมดเวลาสำหรับข้อนี้!','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','</div><div\x20class=\x22space-y-2\x22>','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','ไม่ได้ตอบ','พื้นที่วงกลม/ส่วนของวงกลม','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','empty','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','input[type=\x22text\x22]','Remedial\x20quiz\x20generation\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','แผนการสอน:\x20','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','ลบแบบทดสอบสำเร็จแล้ว','.csv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','modal-timer-duration-label','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','close-presentation-btn','student','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','เกิดข้อผิดพลาดในการอ่านไฟล์','\x20mr-2\x22></i>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','ย้ายแบบทดสอบสำเร็จ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การวัด','teacherSuggestions','admin-try-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','opacity','keys','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','API\x20call\x20failed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close','bottom','สร้างคำถามแบบใช่/ไม่ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','drop','leaderboard-tab','finishReason','admin-view','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','การคูณเศษส่วน','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','match','\x20ข้อ\x20เท่ากับต้นฉบับทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนดสำคัญ:\x20สำหรับแต่ละข้อที่สร้าง\x20จะต้องมีข้อมูลต่อไปนี้ให้ครบถ้วนเสมอ:\x20questionText\x20(สำหรับโจทย์),\x20questionType,\x20options\x20(กรณีปรนัย),\x20correctAnswerIndex\x20(กรณีปรนัย),\x20idealAnswer\x20(กรณีเติมคำ),\x20และ\x20explanation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-q-type=\x22','parts','modal-passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','comparison-overall-content','update','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','{$1}','str','หน่วยมวล/น้ำหนักและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','topic-input','\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','font-bold\x20text-red-700\x20line-through','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','PERFECT_SCORE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','ระยะจากจุดถึงเส้นตรง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','.quiz-settings-btn','requestFullscreen','num-choices-container','input[name=\x22status-option\x22]:checked','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','data:application/vnd.ms-word;charset=utf-8,','.star-quiz-btn','ย้าย','รีเซ็ตลำดับโปรเจคแล้ว','student-quiz-leaderboard-content','timer-container','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หยุดระบบจับเวลาหรี่หน้าจอ','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','desc','none','student-project-leaderboard-table-body','ยืนยันการจับคู่','exists','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','questions','lesson-plan-modal','ข้อ\x20','candidates','อสมการค่าสัมบูรณ์','parent','short_answer','undefined','setAttributeNS','lowerGroupResponders','comparison-individual-content','fas\x20fa-bookmark','webkitExitFullscreen','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','save-visibility-settings-btn','สร้างคำถามใหม่\x201\x20ข้อ\x20','Error\x20during\x20class\x20analysis:','options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','fill_in_with_choices','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','icon','ดอกเบี้ยทบต้น','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','เพิ่มหัวข้อ\x20\x22','min','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','backgroundColor','สมการตรีโกณมิติ','998025dLaSbL','ตั้งเวลา\x20(เปิด)','เส้นรอบรูป','correctAnswerIndex','join-live-game-btn','visible','reduce','Error\x20generating\x20easy\x20version\x20quiz:','baseVal','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','กรุณาเลือกคำตอบก่อนครับ','.duplicate-quiz-btn','preScore','quiz-form','Error\x20deleting\x20all\x20students:','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','blueprint-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','force-math-checkbox','(ก่อนเรียน)','<br>','เกิดข้อผิดพลาดในการลบแบบทดสอบ','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','</div>','จำนวนเต็มลบ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','show_pass_fail_only','.admin-try-quiz-list-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','fill_in_the_blank','$1^{$2}','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','\x22\x20value=\x22false\x22\x20','tooltipTarget','filter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','imageCode','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','เปิด\x20(จับเวลา)','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','text-tab','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','medium','project-passcode-modal','next-question-btn','show-leaderboard-btn','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','<span\x20class=\x22font-bold\x20','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sum','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-lesson-pdf-btn','</th>','Error\x20updating\x20custom\x20topic:','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-test-tab','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','perfect_score','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','อัปเดตสถานะสำเร็จ','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','half_mark_status','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','style','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','deselect-all-topics-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','ยอดเยี่ยม!','mouseleave','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','innerText','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','\x20รายการสำเร็จ!','ฟังก์ชันยกกำลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ON_FIRE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','Error\x20saving\x20quiz:','text-yellow-800','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','27979812YUWJdi','startsWith','ท็อปฟอร์ม','.answeredCurrentQuestion','fa-shield-alt\x20text-gray-600','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','quiz-editor-modal','การแจกแจงปกติและ\x20z-score','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','bg-green-50','ai-quiz-generator-v3','แบบทดสอบ:\x20','.lastAnswerCorrect','ระบบอสมการ','bg-gray-500','rename-quiz-input','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','\x20ตัวเลือก.\x20','false','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','binom','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','ควรปรับปรุง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','.project-card-container.opacity-50','red','.quiz-bank-item','จำนวนและการดำเนินการ','enable-passcode-checkbox','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','appendChild','<i\x20class=\x22fas\x20fa-save\x22></i>','flex','stopPropagation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังดึงข้อมูลจากลิงก์...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','.pin-project-btn','click','fas\x20fa-user-edit','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ร้อยละพื้นฐาน','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','create-from-bank-btn','includes','$1^{\x5ccirc}\x5ctext{C}','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','answer','ปิดใช้งาน','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','admin','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x20transition-opacity\x20duration-300\x20pointer-events-none\x20opacity-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><p\x20class=\x22font-semibold\x22>','Authentication\x20failed:','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','behavior-log-container','.topic-name-input','standardTopic','load-quiz-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectName','originalQuestionText','border-red-700','.quiz-bank-delete-btn','promptFeedback','อัปเดตการตั้งค่าของแบบทดสอบ\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','ทฤษฎีบทพื้นฐานของแคลคูลัส','delete-all-students-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','padStart','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','ยืนยันและอัปเดตทั้งหมด','<div\x20class=\x22','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','width','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','เกิดข้อผิดพลาดในการเข้าร่วมเกม','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','.export-pdf-list-btn','button[type=\x22submit\x22]','ระบบสมการเชิงเส้นสองตัวแปร','#results-table\x20thead\x20tr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','สุดยอด!\x20ตอบถูกทุกข้อ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','readAsDataURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความชันเส้นสัมผัส','\x20ครั้ง)</span></td>','คะแนนเต็ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','toString','bg-green-100\x20font-bold','AI\x20request\x20was\x20blocked.\x20Reason:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','font-bold\x20text-green-700','admin-password-input','คุณต้องการให้\x20AI\x20สร้างแบบทดสอบชุดนี้ในเวอร์ชันที่ง่ายลงหรือไม่?\x20ระบบจะสร้างเป็นแบบทดสอบชุดใหม่ในโปรเจคนี้','gain','rgba(79,\x2070,\x20229,\x200.8)','\x20รายการ...','size','answering','ระยะเวลา\x20(นาที):','border-gray-200','หลังเรียน','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','กำลังจับคู่...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20สำเร็จ','blur','asc','ดอกเบี้ยอย่างง่าย','pairedQuizId','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','<button\x20data-quiz-id=\x22','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','<option\x20value=\x22\x22>กำลังโหลด...</option>','เศษส่วน\x20(ย่อ/ขยาย)','color','PERSEVERANCE','\x22\x20class=\x22pin-project-btn\x20','attemptNumber','project-sort-select','\x0a---\x0a','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','goto-next-question-btn','earned-badges-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt0\x22>ใช่</label></div>','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','left','กฎของโคไซน์','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','drill-feedback','offset','createElement','NEGATIVE_INFINITY','confirm-rename-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-drill-btn','(คู่ขนาน)\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จับคู่เพื่อเปรียบเทียบผล','ไม่พบเอกสารการส่งงานของ\x20','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','editable-quiz-topic','กรุณาใส่ชื่อใหม่','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','toLocaleString','comeback_king',')\x5cb)','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','loader-text','passing-score-input','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','.doc','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','admin-testing','matching_item','ผ่าน','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','(ก่อนเรียน)\x20'];_0x4085=function(){return _0x5b3018;};return _0x4085();}function listenForProjectQuizzes(_0x25497e){const _0x3f2b11=_0x37a926,_0x60ce7e=collection(db,'artifacts/'+appId+_0x3f2b11(0x22e)),_0x4e4b71=query(_0x60ce7e,where(_0x3f2b11(0x8b5),'==',_0x25497e));unsubscribeQuizzesListener=onSnapshot(_0x4e4b71,async _0x3114fa=>{const _0x93384b=_0x3f2b11;allQuizzes=_0x3114fa[_0x93384b(0x239)]['map'](_0x330a26=>({'id':_0x330a26['id'],..._0x330a26[_0x93384b(0x7a8)]()})),renderQuizzes();},_0x287832=>{const _0x84bb89=_0x3f2b11;console[_0x84bb89(0x804)]('Error\x20fetching\x20project\x20quizzes:',_0x287832),document[_0x84bb89(0x2a6)](_0x84bb89(0x38c))['innerHTML']=_0x84bb89(0x1e7);});}async function renderQuizzes(){const _0x1313af=_0x37a926,_0x4e08dc=document['getElementById'](_0x1313af(0x38c)),_0x16828b=document[_0x1313af(0x2a6)]('quiz-search-input')['value'][_0x1313af(0x7fc)]();let _0x1a683d;currentProjectId===_0x1313af(0x42e)?_0x1a683d=starredQuizzes:_0x1a683d=allQuizzes;let _0x27f1a0=_0x1a683d[_0x1313af(0x63c)](_0x9e8ef9=>_0x9e8ef9[_0x1313af(0xc6)][_0x1313af(0x7fc)]()[_0x1313af(0x6a4)](_0x16828b));_0x27f1a0[_0x1313af(0x8b6)]((_0x2ee81f,_0x3e656f)=>new Date(_0x3e656f[_0x1313af(0x4aa)])-new Date(_0x2ee81f[_0x1313af(0x4aa)]));if(_0x27f1a0[_0x1313af(0x836)]===0x0){_0x4e08dc[_0x1313af(0x7b0)]=_0x1313af(0x89b);return;}const _0x10d718={},_0x26943b=_0x27f1a0[_0x1313af(0x4b9)](async _0x26da93=>{const _0x2a88a1=_0x1313af,_0x194d93=collection(db,_0x2a88a1(0x11a)+appId+_0x2a88a1(0x522)+_0x26da93['id']+_0x2a88a1(0x383)),_0x1ecfef=await getDocs(_0x194d93);_0x10d718[_0x26da93['id']]=_0x1ecfef[_0x2a88a1(0x6e2)];});await Promise[_0x1313af(0x861)](_0x26943b);let _0x3f6f68='';_0x27f1a0['forEach'](_0x2c6e1c=>{const _0x519ee1=_0x1313af,_0x591fd7=_0x10d718[_0x2c6e1c['id']]||0x0,_0x481d53=_0x2c6e1c['status']||_0x519ee1(0x2aa),_0xf4a9b7=_0x2c6e1c[_0x519ee1(0x74a)]?.[_0x519ee1(0x10b)]||_0x519ee1(0x5f7);let _0x33fe80='',_0xc139a9='';const _0x5e3c36=new Date();let _0xad7e28=_0x481d53;if(_0x481d53===_0x519ee1(0x7d8)){const _0x150b8d=_0x2c6e1c[_0x519ee1(0xc0)]?new Date(_0x2c6e1c['startTime']):null,_0x24dd9f=_0x2c6e1c[_0x519ee1(0x4ba)]?new Date(_0x2c6e1c['endTime']):null;if(_0x24dd9f&&_0x5e3c36>_0x24dd9f)_0xad7e28=_0x519ee1(0x58c);else _0x150b8d&&_0x5e3c36<_0x150b8d?_0xad7e28='scheduled_pending':_0xad7e28=_0x519ee1(0x2aa);}switch(_0xad7e28){case _0x519ee1(0x58c):_0x33fe80=_0x519ee1(0x6a9),_0xc139a9=_0x519ee1(0x2a3);break;case _0x519ee1(0x85f):_0x33fe80='รอเปิด',_0xc139a9=_0x519ee1(0x2f4);break;case _0x519ee1(0x2aa):_0x33fe80=_0xf4a9b7!==_0x519ee1(0x5f7)?_0x519ee1(0x642):_0x519ee1(0x569),_0xc139a9=_0x519ee1(0x33d);break;default:_0x33fe80=_0x519ee1(0x61b),_0xc139a9=_0x519ee1(0x33d);break;}let _0x19914e='';const _0x26bca3={'day':'2-digit','month':_0x519ee1(0x4bf),'year':_0x519ee1(0xf6),'hour':_0x519ee1(0x4bf),'minute':_0x519ee1(0x4bf),'hour12':![]};if(_0x481d53===_0x519ee1(0x7d8)){if(_0x2c6e1c[_0x519ee1(0xc0)])_0x19914e+=_0x519ee1(0x55c)+new Date(_0x2c6e1c['startTime'])[_0x519ee1(0x71c)](_0x519ee1(0x4f8),_0x26bca3)+_0x519ee1(0x44d);if(_0x2c6e1c[_0x519ee1(0x4ba)])_0x19914e+=_0x519ee1(0x204)+new Date(_0x2c6e1c[_0x519ee1(0x4ba)])['toLocaleString']('th-TH',_0x26bca3)+_0x519ee1(0x44d);}let _0x217b11='';if(_0x2c6e1c[_0x519ee1(0x6ef)]){const _0x4357e5=allQuizzes['find'](_0x487fc6=>_0x487fc6['id']===_0x2c6e1c[_0x519ee1(0x6ef)]);if(_0x4357e5){let _0x160410,_0x3510f3;new Date(_0x2c6e1c[_0x519ee1(0x4aa)])<new Date(_0x4357e5['createdAt'])?(_0x160410=_0x2c6e1c['id'],_0x3510f3=_0x4357e5['id']):(_0x160410=_0x4357e5['id'],_0x3510f3=_0x2c6e1c['id']),_0x217b11+=_0x519ee1(0x6c0)+_0x3510f3+_0x519ee1(0x863)+_0x160410+_0x519ee1(0x8c8);}}else _0x2c6e1c['quizMode']===_0x519ee1(0x44f)&&(_0x217b11+=_0x519ee1(0x124)+_0x2c6e1c['id']+_0x519ee1(0x824));if(_0x2c6e1c[_0x519ee1(0x47b)]===_0x519ee1(0x44f)&&_0x591fd7>0x0)_0x217b11+=_0x519ee1(0x124)+_0x2c6e1c['id']+_0x519ee1(0x63f);else!_0x2c6e1c[_0x519ee1(0x6ef)]&&_0x2c6e1c[_0x519ee1(0x47b)]!==_0x519ee1(0x44f)&&_0x591fd7>0x0&&(_0x217b11+=_0x519ee1(0x124)+_0x2c6e1c['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x15a9f0='';_0x2c6e1c[_0x519ee1(0x6ef)]?_0x15a9f0='<button\x20data-quiz-id=\x22'+_0x2c6e1c['id']+_0x519ee1(0x364):_0x15a9f0=_0x519ee1(0x6f1)+_0x2c6e1c['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0x3f6f68+=_0x519ee1(0x434)+_0x2c6e1c['id']+_0x519ee1(0x2e8)+_0x2c6e1c[_0x519ee1(0xc6)]+_0x519ee1(0x4c9)+_0x2c6e1c['questions'][_0x519ee1(0x836)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x2c6e1c[_0x519ee1(0x4aa)])[_0x519ee1(0x71c)](_0x519ee1(0x4f8))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x591fd7+_0x519ee1(0x68a)+_0x19914e+_0x519ee1(0x5a9)+_0xc139a9+'\x22>'+_0x33fe80+_0x519ee1(0x784)+_0x2c6e1c['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2c6e1c['id']+_0x519ee1(0xcc)+(_0x2c6e1c['isStarred']?_0x519ee1(0x47f):_0x519ee1(0x2e2))+_0x519ee1(0x30c)+_0x217b11+_0x519ee1(0x417)+_0x2c6e1c['id']+_0x519ee1(0x170)+_0x2c6e1c['id']+_0x519ee1(0x867)+_0x2c6e1c['id']+_0x519ee1(0x719)+_0x2c6e1c['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2c6e1c['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2c6e1c['id']+_0x519ee1(0x85b)+_0x2c6e1c['id']+_0x519ee1(0x858)+_0x2c6e1c['topic']+_0x519ee1(0x4e2)+_0x2c6e1c['id']+_0x519ee1(0x189)+_0x2c6e1c['id']+_0x519ee1(0x64e)+_0x15a9f0+_0x519ee1(0x800)+_0x2c6e1c['id']+_0x519ee1(0x7a9)+_0x2c6e1c['id']+_0x519ee1(0x3b1)+_0x2c6e1c['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2c6e1c['id']+_0x519ee1(0x2f8)+_0x2c6e1c['id']+'\x22\x20data-topic=\x22'+_0x2c6e1c[_0x519ee1(0xc6)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0x2c6e1c['id']+_0x519ee1(0x7b6);}),_0x4e08dc[_0x1313af(0x7b0)]=_0x3f6f68,document[_0x1313af(0x574)](_0x1313af(0x801))[_0x1313af(0x3dc)](_0x3845d9=>{const _0x50cc93=_0x1313af;_0x3845d9[_0x50cc93(0x7a6)]('click',()=>{const _0x307ffb=_0x50cc93,_0x44efc3=_0x3845d9[_0x307ffb(0x7b3)][_0x307ffb(0x24b)];showQuizDetailView(_0x44efc3);});});}async function handleUnpairQuiz(_0x383983){const _0x87152b=_0x37a926,_0x32645b=allQuizzes[_0x87152b(0x288)](_0xd84b0c=>_0xd84b0c['id']===_0x383983);if(!_0x32645b||!_0x32645b[_0x87152b(0x6ef)]){showMessage(_0x87152b(0x29f));return;}showConfirmation(_0x87152b(0x650),async()=>{const _0x5500c9=_0x87152b;try{const _0x168de9=doc(db,_0x5500c9(0x11a)+appId+_0x5500c9(0x22e),_0x383983),_0x639218=doc(db,_0x5500c9(0x11a)+appId+_0x5500c9(0x22e),_0x32645b['pairedQuizId']),_0x3564fb=writeBatch(db);_0x3564fb[_0x5500c9(0x5d5)](_0x168de9,{'pairedQuizId':null}),_0x3564fb[_0x5500c9(0x5d5)](_0x639218,{'pairedQuizId':null}),await _0x3564fb[_0x5500c9(0x57c)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x5bd2d5){console[_0x5500c9(0x804)](_0x5500c9(0x164),_0x5bd2d5),showMessage(_0x5500c9(0x7e2));}});}function formatAndPrintLessonPlan(_0x5d4ccc,_0x1bc494){const _0x40af16=_0x37a926,_0x34fda1=window[_0x40af16(0x468)]('',_0x40af16(0x8b9)),_0x1c9b14=_0x40af16(0x48f)+_0x1bc494[_0x40af16(0xc6)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x1bc494[_0x40af16(0xc6)]+_0x40af16(0x72a)+_0x5d4ccc[_0x40af16(0x49e)][_0x40af16(0x4b9)](_0x5f4097=>_0x40af16(0x8ae)+_0x5f4097+_0x40af16(0x360))[_0x40af16(0x43d)]('')+_0x40af16(0x484)+_0x5d4ccc['teachingContent']+_0x40af16(0x70d)+_0x5d4ccc[_0x40af16(0x43c)][_0x40af16(0x4b9)](_0x46508e=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x46508e[_0x40af16(0x491)]+_0x40af16(0x3e8)+_0x46508e[_0x40af16(0x770)]+_0x40af16(0x884))[_0x40af16(0x43d)]('')+_0x40af16(0x53d);_0x34fda1[_0x40af16(0x283)][_0x40af16(0x1f7)](_0x1c9b14),_0x34fda1['document'][_0x40af16(0x5c2)](),_0x34fda1[_0x40af16(0x7ac)]=function(){setTimeout(()=>{const _0x5dddfb=_0x34b5;_0x34fda1[_0x5dddfb(0x52b)]();},0x3e8);};}async function handleGenerateLessonPlan(_0x3a80bc){const _0x40e2a8=_0x37a926;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x3919e2=doc(db,_0x40e2a8(0x11a)+appId+'/public/data/quizzes',_0x3a80bc),_0x2668ec=await getDoc(_0x3919e2);if(!_0x2668ec['exists']())throw new Error(_0x40e2a8(0x33e));const _0x303903={'id':_0x3a80bc,..._0x2668ec[_0x40e2a8(0x7a8)]()},_0x57dc01=collection(db,_0x40e2a8(0x11a)+appId+'/public/data/quizzes',_0x3a80bc,_0x40e2a8(0x881)),_0x108f14=await getDocs(_0x57dc01),_0x579168=_0x108f14[_0x40e2a8(0x239)][_0x40e2a8(0x4b9)](_0x702d43=>_0x702d43[_0x40e2a8(0x7a8)]());if(_0x579168[_0x40e2a8(0x836)]===0x0)throw new Error(_0x40e2a8(0x179));const _0x273dbf=calculateItemAnalysis(_0x303903,_0x579168)[_0x40e2a8(0x85a)],_0x145c1c=calculateDistractorAnalysis(_0x303903,_0x579168),_0x298f3a=_0x501842=>{const _0x47d776=_0x40e2a8;if(!_0x501842)return'';return _0x501842[_0x47d776(0x575)](/\\/g,'\x5c\x5c')[_0x47d776(0x575)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x1c325f='สรุปผลการวิเคราะห์:\x5cn';_0x303903['questions'][_0x40e2a8(0x3dc)]((_0x53aecd,_0x3caf20)=>{const _0x1ce599=_0x40e2a8,_0x5b9e88=_0x273dbf[_0x3caf20]?.['p']['toFixed'](0x2)||_0x1ce599(0x791),_0x4b890e=_0x273dbf[_0x3caf20]?.['r'][_0x1ce599(0x19f)](0x2)||_0x1ce599(0x791),_0x32d3e9=_0x298f3a(_0x53aecd[_0x1ce599(0x1df)]||_0x53aecd[_0x1ce599(0x308)]);_0x1c325f+=_0x1ce599(0x516)+(_0x3caf20+0x1)+_0x1ce599(0x284)+_0x5b9e88+',\x20r='+_0x4b890e+_0x1ce599(0x40a)+_0x32d3e9+'\x5cn';if(_0x53aecd['questionType']==='multiple_choice'&&_0x145c1c[_0x3caf20]){const _0x465b92=_0x145c1c[_0x3caf20],_0x55fd21=Object['keys'](_0x465b92)[_0x1ce599(0x63c)](_0x1639dc=>parseInt(_0x1639dc)!==_0x53aecd[_0x1ce599(0x61d)])[_0x1ce599(0x8b6)]((_0x166856,_0x12d514)=>_0x465b92[_0x12d514][_0x1ce599(0x258)]-_0x465b92[_0x166856]['total'])[0x0];if(_0x55fd21&&_0x465b92[_0x55fd21][_0x1ce599(0x258)]>0x0){const _0x5f1fc2=_0x298f3a(_0x465b92[_0x55fd21][_0x1ce599(0x597)]);_0x1c325f+=_0x1ce599(0x326)+_0x5f1fc2+_0x1ce599(0x303);}}});const _0x59b3ff=_0x40e2a8(0x511)+_0x303903[_0x40e2a8(0xc6)]+_0x40e2a8(0x5bf)+_0x1c325f+_0x40e2a8(0x3eb),_0x220c86={'type':_0x40e2a8(0x7e6),'properties':{'learningGaps':{'type':'ARRAY','items':{'type':'STRING'}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x40e2a8(0x864),'items':{'type':_0x40e2a8(0x7e6),'properties':{'question':{'type':'STRING'},'solution':{'type':'STRING'}}}}},'required':[_0x40e2a8(0x49e),_0x40e2a8(0x439),_0x40e2a8(0x43c)]},_0x33954b=await callAnalysisApi(_0x59b3ff,_0x220c86);await updateDoc(_0x3919e2,{'lessonPlan':_0x33954b});const _0x4c438e=_0x40e2a8(0x3fd)+_0x303903['topic']+_0x40e2a8(0x507)+_0x33954b['learningGaps'][_0x40e2a8(0x4b9)](_0x1f7883=>_0x40e2a8(0x8ae)+_0x1f7883+_0x40e2a8(0x360))[_0x40e2a8(0x43d)]('')+_0x40e2a8(0x87f)+_0x33954b[_0x40e2a8(0x439)]+_0x40e2a8(0x75e)+_0x33954b[_0x40e2a8(0x43c)][_0x40e2a8(0x4b9)](_0x271999=>_0x40e2a8(0xe9)+_0x271999[_0x40e2a8(0x491)]+_0x40e2a8(0x782)+_0x271999['solution']+_0x40e2a8(0x502))['join']('')+_0x40e2a8(0x65c);document[_0x40e2a8(0x2a6)](_0x40e2a8(0x72c))['textContent']='แผนการสอน:\x20'+_0x303903[_0x40e2a8(0xc6)],document[_0x40e2a8(0x2a6)](_0x40e2a8(0x536))[_0x40e2a8(0x7b0)]=_0x4c438e,document[_0x40e2a8(0x2a6)]('lesson-plan-modal')['classList']['remove'](_0x40e2a8(0x17a));if(window[_0x40e2a8(0x86f)])MathJax[_0x40e2a8(0x133)]();messageModal[_0x40e2a8(0x4a7)]['add']('hidden');}catch(_0x145863){console[_0x40e2a8(0x804)](_0x40e2a8(0x8c5),_0x145863),showMessage(_0x40e2a8(0x592)+_0x145863[_0x40e2a8(0x10c)]);}}async function handleDuplicateQuiz(_0x2a39c7){const _0x4712eb=_0x37a926;try{const _0x52a76f=doc(db,_0x4712eb(0x11a)+appId+_0x4712eb(0x22e),_0x2a39c7),_0x53a40f=await getDoc(_0x52a76f);if(_0x53a40f[_0x4712eb(0x5fa)]()){const _0x37bb1d=_0x53a40f[_0x4712eb(0x7a8)]();let _0x1a1832='',_0x472496='standard',_0x53c312=null;if(_0x37bb1d['quizMode']===_0x4712eb(0x44f)){let _0x2f496b=_0x37bb1d[_0x4712eb(0xc6)][_0x4712eb(0x575)]('(ก่อนเรียน)','')[_0x4712eb(0x451)]();_0x1a1832='(หลังเรียน)\x20'+_0x2f496b,_0x472496='post-test',_0x53c312=_0x2a39c7;}else _0x1a1832='(คัดลอก)\x20'+_0x37bb1d[_0x4712eb(0xc6)];const _0x2dc021={..._0x37bb1d,'topic':_0x1a1832,'createdAt':new Date()[_0x4712eb(0x223)](),'quizMode':_0x472496,'pairedQuizId':_0x53c312};let _0x529f78;while(!![]){_0x529f78=Math[_0x4712eb(0x501)](0x3e8+Math[_0x4712eb(0x23d)]()*0x2328)[_0x4712eb(0x6d8)]();const _0x3e132f=await getDoc(doc(db,_0x4712eb(0x11a)+appId+_0x4712eb(0x22e),_0x529f78));if(!_0x3e132f[_0x4712eb(0x5fa)]())break;}const _0x537705=doc(db,_0x4712eb(0x11a)+appId+_0x4712eb(0x22e),_0x529f78);await setDoc(_0x537705,_0x2dc021),_0x2dc021[_0x4712eb(0x47b)]===_0x4712eb(0x17e)&&await updateDoc(_0x52a76f,{'pairedQuizId':_0x529f78}),showMessage(_0x4712eb(0x494));}else throw new Error(_0x4712eb(0x472));}catch(_0x36eab1){console[_0x4712eb(0x804)](_0x4712eb(0x8b2),_0x36eab1),showMessage(_0x4712eb(0x353));}}async function handleDeleteQuiz(_0x1de8a8,_0x3a0dad=!![]){const _0x2f6ecd=_0x37a926;try{const _0x3cd110=writeBatch(db),_0x169b3c=collection(db,_0x2f6ecd(0x11a)+appId+_0x2f6ecd(0x522)+_0x1de8a8+_0x2f6ecd(0x383)),_0x10791d=await getDocs(_0x169b3c);_0x10791d['forEach'](_0x214280=>{const _0x1eb0a0=_0x2f6ecd;_0x3cd110[_0x1eb0a0(0x855)](doc(_0x169b3c,_0x214280['id']));});const _0x368f89=doc(db,_0x2f6ecd(0x11a)+appId+_0x2f6ecd(0x22e),_0x1de8a8);_0x3cd110[_0x2f6ecd(0x855)](_0x368f89),await _0x3cd110[_0x2f6ecd(0x57c)](),_0x3a0dad&&showMessage(_0x2f6ecd(0x5a7));}catch(_0x119492){console[_0x2f6ecd(0x804)]('Error\x20deleting\x20quiz:',_0x119492),_0x3a0dad&&showMessage(_0x2f6ecd(0x62f));}}async function showQuizDetailView(_0x509fc6){const _0x176e8c=_0x37a926;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x176e8c(0x87b));try{const _0x2b08f6=doc(db,_0x176e8c(0x11a)+appId+_0x176e8c(0x22e),_0x509fc6),_0xf71cfd=await getDoc(_0x2b08f6);if(!_0xf71cfd[_0x176e8c(0x5fa)]()){showMessage(_0x176e8c(0x33e));return;}const _0x5007f1={'id':_0xf71cfd['id'],..._0xf71cfd[_0x176e8c(0x7a8)]()};currentQuizData=_0x5007f1;const _0x4e379a=doc(db,_0x176e8c(0x11a)+appId+_0x176e8c(0x53a),_0x5007f1[_0x176e8c(0x8b5)]),_0x2e669b=await getDoc(_0x4e379a);_0x2e669b[_0x176e8c(0x5fa)]()?(currentProjectData=_0x2e669b[_0x176e8c(0x7a8)](),currentProjectId=_0x5007f1[_0x176e8c(0x8b5)]):(currentProjectData={'students':[]},currentProjectId=_0x5007f1[_0x176e8c(0x8b5)]);document[_0x176e8c(0x2a6)]('results-quiz-title')[_0x176e8c(0x523)]=_0x5007f1['topic'],document[_0x176e8c(0x2a6)](_0x176e8c(0x481))['textContent']=_0x509fc6;const _0xf42279=collection(db,_0x176e8c(0x11a)+appId+_0x176e8c(0x22e),_0x509fc6,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0xf42279,_0x366f86=>{const _0x3fadd2=_0x176e8c,_0x2163b3=_0x366f86['docs'][_0x3fadd2(0x4b9)](_0x47d5b1=>({'id':_0x47d5b1['id'],..._0x47d5b1['data']()}));currentSubmissions=_0x2163b3;const _0x5f1676=_0x2163b3[_0x3fadd2(0x63c)](_0x4d7c34=>_0x4d7c34[_0x3fadd2(0x15c)]&&_0x4d7c34['attempts'][_0x3fadd2(0x836)]>0x0);renderBehaviorLog(_0x2163b3),renderAnswerGrid(currentProjectData[_0x3fadd2(0x243)],_0x5f1676,_0x5007f1),renderAnalytics(_0x5007f1,_0x5f1676),renderQuizResultsTable(currentProjectData['students'],_0x2163b3,_0x5007f1),renderQuizLeaderboard(_0x5f1676,_0x5007f1,_0x3fadd2(0x37a));}),showView(_0x176e8c(0x1bf));}catch(_0x3d0930){console[_0x176e8c(0x804)](_0x176e8c(0x212),_0x3d0930),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x290607,_0xcba334,_0x3c7b0d){const _0x160974=_0x37a926,_0xf34f83=document['getElementById'](_0x160974(0x43f));if(!_0xf34f83)return;if(!_0x290607||_0x290607[_0x160974(0x836)]===0x0){_0xf34f83[_0x160974(0x7b0)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0xc5b2d4=_0x3c7b0d[_0x160974(0x5fc)],_0x580fe7=_0xcba334[_0x160974(0x620)]((_0x371fa5,_0x851c2f)=>{const _0x30de95=_0x160974;return _0x371fa5[_0x851c2f[_0x30de95(0x4c6)]]=_0x851c2f,_0x371fa5;},{}),_0x545cd1=_0x40d05e=>String['fromCharCode'](0x41+_0x40d05e),_0x5ec6bb=_0x2ec879=>{const _0x2fff8f=_0x160974,_0x403e13=_0x2ec879['questionType']||_0x3c7b0d[_0x2fff8f(0x1bc)];switch(_0x403e13){case _0x2fff8f(0x149):return _0x2ec879[_0x2fff8f(0x60d)]&&_0x2ec879[_0x2fff8f(0x60d)]['length']>_0x2ec879['correctAnswerIndex']?_0x545cd1(_0x2ec879[_0x2fff8f(0x61d)]):'-';case _0x2fff8f(0x27a):return _0x2ec879[_0x2fff8f(0x348)]?_0x2fff8f(0x4cf):_0x2fff8f(0x160);case _0x2fff8f(0x726):return _0x2ec879[_0x2fff8f(0x37b)]||'-';case _0x2fff8f(0x602):return _0x2fff8f(0x11d);default:return'-';}},_0x83e30a=(_0x5b8fdd,_0x555e99)=>{const _0x3e6a4f=_0x160974;if(_0x555e99[_0x3e6a4f(0x6a8)]===null||_0x555e99[_0x3e6a4f(0x6a8)]===undefined)return'-';const _0x21765a=_0x5b8fdd['questionType']||_0x3c7b0d['quizType'];switch(_0x21765a){case _0x3e6a4f(0x149):const _0xa0040f=_0x5b8fdd['options']['findIndex'](_0x592c35=>_0x592c35===_0x555e99['answerText']);return _0xa0040f!==-0x1?_0x545cd1(_0xa0040f):_0x555e99[_0x3e6a4f(0x13c)]||'-';case _0x3e6a4f(0x27a):return _0x555e99[_0x3e6a4f(0x6a8)]===_0x3e6a4f(0x4d9)||_0x555e99[_0x3e6a4f(0x6a8)]===!![]?'ใช่':_0x3e6a4f(0x160);default:return _0x555e99[_0x3e6a4f(0x6a8)];}};let _0x387766=_0x160974(0x892)+_0xc5b2d4[_0x160974(0x4b9)]((_0x443df1,_0x14cdd6)=>_0x160974(0x5e1)+(_0x14cdd6+0x1)+_0x160974(0x653))[_0x160974(0x43d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc5b2d4['map'](_0x110b92=>_0x160974(0x486)+_0x5ec6bb(_0x110b92)+_0x160974(0x165))[_0x160974(0x43d)]('')+_0x160974(0x27b);_0x290607[_0x160974(0x3dc)](_0x3aaecd=>{const _0x44595c=_0x160974;_0x387766+=_0x44595c(0x8c0),_0x387766+=_0x44595c(0x694)+_0x3aaecd+_0x44595c(0x165);const _0x455558=_0x580fe7[_0x3aaecd];if(_0x455558){const _0x5b331f=_0x455558[_0x44595c(0x15c)][_0x455558[_0x44595c(0x15c)][_0x44595c(0x836)]-0x1];_0xc5b2d4['forEach']((_0x229fdd,_0x1f91a5)=>{const _0x2ba23c=_0x44595c,_0x8c1a3a=_0x5b331f[_0x2ba23c(0x162)][_0x2ba23c(0x288)](_0x11b5d5=>_0x11b5d5[_0x2ba23c(0x6b8)]===(_0x229fdd[_0x2ba23c(0x308)]||_0x229fdd['questionText']));if(_0x8c1a3a){let _0x3a7122=![];const _0x3745e8=_0x229fdd[_0x2ba23c(0x101)]||_0x3c7b0d[_0x2ba23c(0x1bc)];if(_0x8c1a3a[_0x2ba23c(0x6a8)]!==null&&_0x8c1a3a[_0x2ba23c(0x6a8)]!==undefined)switch(_0x3745e8){case _0x2ba23c(0x149):const _0x2c3ffc=_0x229fdd[_0x2ba23c(0x60d)][_0x229fdd['correctAnswerIndex']];_0x3a7122=_0x8c1a3a[_0x2ba23c(0x13c)]===_0x2c3ffc;break;case'true_false':const _0x29b6fd=_0x8c1a3a[_0x2ba23c(0x6a8)]===!![]||_0x8c1a3a[_0x2ba23c(0x6a8)]===_0x2ba23c(0x4d9);_0x3a7122=_0x29b6fd===_0x229fdd[_0x2ba23c(0x348)];break;case _0x2ba23c(0x726):_0x3a7122=_0x8c1a3a[_0x2ba23c(0x6a8)]===_0x229fdd[_0x2ba23c(0x37b)];break;default:_0x3a7122=_0x8c1a3a['isCorrect'];break;}const _0x315ca8=_0x3a7122?_0x2ba23c(0x271):_0x2ba23c(0xf5);_0x387766+=_0x2ba23c(0x866)+_0x315ca8+'\x22>'+_0x83e30a(_0x229fdd,_0x8c1a3a)+_0x2ba23c(0x165);}else _0x387766+=_0x2ba23c(0x806);});}else _0x387766+=_0xc5b2d4['map'](()=>_0x44595c(0x6b1))[_0x44595c(0x43d)]('');_0x387766+=_0x44595c(0xfb);}),_0x387766+=_0x160974(0x2ae),_0xf34f83[_0x160974(0x7b0)]=_0x387766;}function renderQuizResultsTable(_0xe4f3d8,_0x1c02f2,_0x518758){const _0xa381dc=_0x37a926,_0x13de33=_0x1c02f2[_0xa381dc(0x620)]((_0x5610d3,_0x1ce406)=>{const _0x13508f=_0xa381dc;return _0x5610d3[_0x1ce406[_0x13508f(0x4c6)]]=_0x1ce406,_0x5610d3;},{}),_0x59abfd=document[_0xa381dc(0x8cb)](_0xa381dc(0x6ce));_0x59abfd&&!_0x59abfd['innerHTML'][_0xa381dc(0x6a4)]('จัดการ')&&(_0x59abfd[_0xa381dc(0x7b0)]+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x3f66f2=document[_0xa381dc(0x2a6)](_0xa381dc(0x7a0));if(!_0xe4f3d8||_0xe4f3d8[_0xa381dc(0x836)]===0x0){_0x3f66f2[_0xa381dc(0x7b0)]=_0xa381dc(0x595);return;}const _0x19af42=_0x518758[_0xa381dc(0x2c6)]===!![],_0x163b7c=_0x518758[_0xa381dc(0x74a)]?.[_0xa381dc(0x7c9)]??-0x1;let _0x181e99='';_0xe4f3d8['forEach'](_0x586a06=>{const _0x5b0b94=_0xa381dc,_0x24d434=_0x13de33[_0x586a06];let _0x573383=_0x5b0b94(0x83d)+(_0x19af42?_0x5b0b94(0x422):'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x19af42?_0x5b0b94(0x890):_0x5b0b94(0x889))+_0x5b0b94(0x876);if(_0x24d434){if(_0x24d434[_0x5b0b94(0x15c)]&&_0x24d434[_0x5b0b94(0x15c)][_0x5b0b94(0x836)]>0x0){let _0x2f720e=_0x19af42?_0x24d434['bestScore']===_0x24d434[_0x5b0b94(0x3fc)]:_0x163b7c!==-0x1&&_0x24d434[_0x5b0b94(0x386)]>=_0x163b7c;const _0x53f45f=_0x2f720e?_0x5b0b94(0x1c3):_0x5b0b94(0xff),_0x61f883=_0x2f720e?_0x5b0b94(0x727):_0x5b0b94(0x15d),_0x381666='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x53f45f+'\x22>'+_0x61f883+_0x5b0b94(0x876),_0x10f339='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x24d434[_0x5b0b94(0x15c)]?.[_0x5b0b94(0x836)]||0x1)+_0x5b0b94(0x6d5);_0x181e99+=_0x5b0b94(0x4ae)+_0x586a06+_0x5b0b94(0x773)+_0x24d434[_0x5b0b94(0x386)]+'\x20/\x20'+_0x24d434[_0x5b0b94(0x3fc)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x381666+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x573383+_0x5b0b94(0x55a)+_0x24d434[_0x5b0b94(0x16f)]+_0x5b0b94(0x2de)+_0x24d434[_0x5b0b94(0x3fc)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x24d434[_0x5b0b94(0x2a2)]+_0x5b0b94(0x2de)+_0x24d434[_0x5b0b94(0x3fc)]+_0x5b0b94(0x73c)+(_0x24d434[_0x5b0b94(0x886)]||0x0)+_0x5b0b94(0x761)+_0x10f339+_0x5b0b94(0x195)+new Date(_0x24d434[_0x5b0b94(0x339)])[_0x5b0b94(0x71c)](_0x5b0b94(0x4f8))+_0x5b0b94(0x704)+_0x586a06+_0x5b0b94(0x549);}else{const _0x58656f=_0x5b0b94(0x3f0);_0x181e99+=_0x5b0b94(0x188)+_0x586a06+_0x5b0b94(0x4b6)+_0x573383+_0x5b0b94(0x6d3)+_0x58656f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x24d434[_0x5b0b94(0x21a)])['toLocaleString']('th-TH')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x586a06+_0x5b0b94(0x549);}}else{const _0x19fe94=_0x5b0b94(0x241);_0x181e99+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x586a06+_0x5b0b94(0x3a4)+_0x573383+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x19fe94+_0x5b0b94(0x62b);}}),_0x3f66f2[_0xa381dc(0x7b0)]=_0x181e99;}async function confirmRenameQuiz(){const _0x5b2cb7=_0x37a926,_0x23c4bd=document['getElementById'](_0x5b2cb7(0x685))[_0x5b2cb7(0x464)][_0x5b2cb7(0x451)]();if(!_0x23c4bd){showMessage(_0x5b2cb7(0x718));return;}if(!actionTargetId)return;const _0x56ed06=doc(db,'artifacts/'+appId+_0x5b2cb7(0x22e),actionTargetId);try{await updateDoc(_0x56ed06,{'topic':_0x23c4bd}),showMessage(_0x5b2cb7(0x38a)),renameQuizModal['classList'][_0x5b2cb7(0x381)]('hidden'),actionTargetId=null;}catch(_0x1a9105){console[_0x5b2cb7(0x804)]('Error\x20renaming\x20quiz:',_0x1a9105),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x175165){const _0xa20239=_0x37a926;actionTargetId=_0x175165;const _0x5f576d=document[_0xa20239(0x2a6)](_0xa20239(0x4cd));_0x5f576d['innerHTML']='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0xa20239(0x4a7)][_0xa20239(0x578)]('hidden');try{const _0x520f4f=collection(db,'artifacts/'+appId+'/public/data/projects'),_0xc009b8=await getDocs(_0x520f4f),_0x5c7055=_0xc009b8[_0xa20239(0x239)][_0xa20239(0x4b9)](_0x4d83be=>({'id':_0x4d83be['id'],..._0x4d83be['data']()})),_0x246193=_0x5c7055[_0xa20239(0x63c)](_0x26c776=>_0x26c776['id']!==currentProjectId);if(_0x246193[_0xa20239(0x836)]===0x0){_0x5f576d[_0xa20239(0x7b0)]=_0xa20239(0x335),document[_0xa20239(0x2a6)](_0xa20239(0x1ac))['disabled']=!![];return;}_0x5f576d[_0xa20239(0x7b0)]=_0x246193[_0xa20239(0x4b9)](_0x576aaf=>_0xa20239(0x7b9)+_0x576aaf['id']+'\x22>'+_0x576aaf[_0xa20239(0x6b7)]+_0xa20239(0x872))[_0xa20239(0x43d)](''),document[_0xa20239(0x2a6)](_0xa20239(0x1ac))[_0xa20239(0x108)]=![];}catch(_0x22c0e0){console[_0xa20239(0x804)](_0xa20239(0x2a4),_0x22c0e0),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal[_0xa20239(0x4a7)]['add'](_0xa20239(0x17a));}}async function confirmMoveQuiz(){const _0x343246=_0x37a926,_0x54c1fb=document[_0x343246(0x2a6)]('move-quiz-project-select')['value'];if(!_0x54c1fb){showMessage(_0x343246(0x375));return;}if(!actionTargetId)return;const _0x5a9e16=doc(db,_0x343246(0x11a)+appId+_0x343246(0x22e),actionTargetId);try{await updateDoc(_0x5a9e16,{'projectId':_0x54c1fb}),showMessage(_0x343246(0x5b5)),moveQuizModal[_0x343246(0x4a7)]['add'](_0x343246(0x17a)),actionTargetId=null;}catch(_0x3c91c7){console['error']('Error\x20moving\x20quiz:',_0x3c91c7),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x1697b0){const _0x369983=_0x37a926;actionTargetId=_0x1697b0;const _0x558cb0=doc(db,_0x369983(0x11a)+appId+_0x369983(0x22e),_0x1697b0);try{const _0xfcf2c6=await getDoc(_0x558cb0);if(_0xfcf2c6[_0x369983(0x5fa)]()){const _0x93a53c=_0xfcf2c6[_0x369983(0x7a8)](),_0x44b7c1=_0x93a53c[_0x369983(0x74a)]||{},_0x54edc6=_0x93a53c['questions']['length'];document['getElementById'](_0x369983(0x3de))[_0x369983(0x464)]=_0x44b7c1[_0x369983(0x835)]||_0x369983(0x5f7),document[_0x369983(0x2a6)](_0x369983(0x21e))[_0x369983(0x464)]=_0x44b7c1['resultsDisplay']||_0x369983(0xc3),document[_0x369983(0x2a6)](_0x369983(0x756))['value']=_0x44b7c1['timerMode']||_0x369983(0x5f7),document['getElementById'](_0x369983(0x48b))['value']=_0x44b7c1[_0x369983(0x418)]||0xa,document['getElementById']('modal-passing-score-input')[_0x369983(0x464)]=_0x44b7c1[_0x369983(0x7c9)]||Math[_0x369983(0x501)](_0x54edc6/0x2),document['getElementById'](_0x369983(0x5d2))[_0x369983(0x12b)]=_0x54edc6,document[_0x369983(0x2a6)](_0x369983(0x275))[_0x369983(0x4ce)]=_0x44b7c1[_0x369983(0x3d4)]||![],document[_0x369983(0x2a6)](_0x369983(0x492))['checked']=_0x44b7c1[_0x369983(0x330)]||![],document[_0x369983(0x2a6)](_0x369983(0x756))['dispatchEvent'](new Event(_0x369983(0x430))),quizSettingsModal[_0x369983(0x4a7)]['remove']('hidden');}else showMessage(_0x369983(0x33e));}catch(_0x5b5ddc){console[_0x369983(0x804)]('Error\x20fetching\x20quiz\x20settings:',_0x5b5ddc),showMessage(_0x369983(0x7e4));}}async function confirmQuizSettings(){const _0x21613a=_0x37a926;if(!actionTargetId)return;const _0x198bd9=doc(db,_0x21613a(0x11a)+appId+_0x21613a(0x22e),actionTargetId),_0x346b79={'shuffle':document[_0x21613a(0x2a6)]('modal-shuffle-select')[_0x21613a(0x464)],'resultsDisplay':document['getElementById'](_0x21613a(0x21e))[_0x21613a(0x464)],'timerMode':document[_0x21613a(0x2a6)](_0x21613a(0x756))[_0x21613a(0x464)],'timerDuration':parseInt(document[_0x21613a(0x2a6)](_0x21613a(0x48b))['value'])||0xa,'passingScore':parseInt(document[_0x21613a(0x2a6)](_0x21613a(0x5d2))[_0x21613a(0x464)])||0x0,'passingScore':parseInt(document[_0x21613a(0x2a6)](_0x21613a(0x5d2))['value'])||0x0,'isAdaptive':document['getElementById'](_0x21613a(0x275))['checked'],'loopUntilPass':document[_0x21613a(0x2a6)](_0x21613a(0x492))[_0x21613a(0x4ce)]};try{await updateDoc(_0x198bd9,{'settings':_0x346b79}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal['classList'][_0x21613a(0x381)](_0x21613a(0x17a)),actionTargetId=null;}catch(_0x2b2df0){console[_0x21613a(0x804)]('Error\x20updating\x20quiz\x20settings:',_0x2b2df0),showMessage(_0x21613a(0x3e6));}}async function handleQuizStatus(_0x2472af){const _0x83ba1e=_0x37a926;actionTargetId=_0x2472af;const _0x55c12e=doc(db,'artifacts/'+appId+_0x83ba1e(0x22e),_0x2472af);try{const _0x424a82=await getDoc(_0x55c12e);if(_0x424a82['exists']()){const _0x58b90c=_0x424a82['data'](),_0x313642=_0x58b90c[_0x83ba1e(0x140)]||'active',_0x3d2e2a=document['getElementById'](_0x83ba1e(0x37c)),_0x54291a=document['getElementById'](_0x83ba1e(0x877)),_0x2f049f=document[_0x83ba1e(0x2a6)]('quiz-schedule-end-container');let _0x39aebf=_0x83ba1e(0x182)+(_0x313642==='active'?_0x83ba1e(0x4ce):'')+_0x83ba1e(0x609)+(_0x313642===_0x83ba1e(0x58c)?_0x83ba1e(0x4ce):'')+_0x83ba1e(0x5fb)+(_0x313642==='scheduled'?'checked':'')+_0x83ba1e(0x3d6);_0x3d2e2a[_0x83ba1e(0x7b0)]=_0x39aebf;const _0x41b19f=_0x313642===_0x83ba1e(0x7d8);_0x54291a['classList'][_0x83ba1e(0x73f)](_0x83ba1e(0x17a),!_0x41b19f),_0x2f049f['classList']['toggle']('hidden',!_0x41b19f),document[_0x83ba1e(0x2a6)](_0x83ba1e(0x4dc))[_0x83ba1e(0x464)]=_0x58b90c[_0x83ba1e(0xc0)]?_0x58b90c[_0x83ba1e(0xc0)][_0x83ba1e(0x4d2)](0x0,0x10):'',document[_0x83ba1e(0x2a6)](_0x83ba1e(0x3ca))['value']=_0x58b90c['endTime']?_0x58b90c[_0x83ba1e(0x4ba)]['substring'](0x0,0x10):'',_0x3d2e2a['querySelectorAll']('input[name=\x22status-option\x22]')[_0x83ba1e(0x3dc)](_0x50a50f=>{const _0xc25d67=_0x83ba1e;_0x50a50f[_0xc25d67(0x7a6)](_0xc25d67(0x430),_0x3034a7=>{const _0x59e4ac=_0xc25d67,_0x419a98=_0x3034a7[_0x59e4ac(0x1d3)][_0x59e4ac(0x464)]===_0x59e4ac(0x292);_0x54291a[_0x59e4ac(0x4a7)][_0x59e4ac(0x73f)]('hidden',!_0x419a98),_0x2f049f['classList'][_0x59e4ac(0x73f)](_0x59e4ac(0x17a),!_0x419a98);});}),quizStatusModal[_0x83ba1e(0x4a7)][_0x83ba1e(0x578)](_0x83ba1e(0x17a));}}catch(_0x3959c0){console[_0x83ba1e(0x804)](_0x83ba1e(0x85c),_0x3959c0),showMessage('เกิดข้อผิดพลาดในการโหลดสถานะ');}}async function confirmQuizStatus(){const _0x263921=_0x37a926;if(!actionTargetId)return;const _0x4c0659=doc(db,_0x263921(0x11a)+appId+'/public/data/quizzes',actionTargetId),_0x232ea4=document[_0x263921(0x8cb)](_0x263921(0x5e9));if(!_0x232ea4){showMessage('กรุณาเลือกสถานะ');return;}const _0x4be5f2=_0x232ea4[_0x263921(0x464)];let _0x193ce0={};if(_0x4be5f2===_0x263921(0x2aa)||_0x4be5f2===_0x263921(0x58c))_0x193ce0={'status':_0x4be5f2,'startTime':null,'endTime':null};else{if(_0x4be5f2===_0x263921(0x292)){const _0x16e026=document[_0x263921(0x2a6)]('quiz-start-time')[_0x263921(0x464)],_0x579f7a=document[_0x263921(0x2a6)](_0x263921(0x3ca))['value'];if(!_0x16e026&&!_0x579f7a){showMessage(_0x263921(0x37d));return;}_0x193ce0={'status':_0x263921(0x7d8),'startTime':_0x16e026?new Date(_0x16e026)['toISOString']():null,'endTime':_0x579f7a?new Date(_0x579f7a)['toISOString']():null};}}try{await updateDoc(_0x4c0659,_0x193ce0),showMessage(_0x263921(0x65a)),quizStatusModal['classList'][_0x263921(0x381)](_0x263921(0x17a)),actionTargetId=null;}catch(_0x4e02b9){console['error'](_0x263921(0x7ba),_0x4e02b9),showMessage(_0x263921(0x7b5));}}function listenForStudentProfiles(_0x357430){const _0xdcdbb0=_0x37a926,_0x1af1bf=collection(db,'artifacts/'+appId+'/public/data/projects/'+_0x357430+_0xdcdbb0(0x3d3));unsubscribeStudentProfilesListener=onSnapshot(_0x1af1bf,_0x169360=>{const _0x3fdfa5=_0xdcdbb0,_0xdeab1c=_0x169360[_0x3fdfa5(0x239)]['map'](_0x480879=>_0x480879[_0x3fdfa5(0x7a8)]());renderLeaderboard(_0xdeab1c,_0x3fdfa5(0x850));},_0x420bb4=>{const _0x19b795=_0xdcdbb0;console['error']('Error\x20listening\x20for\x20student\x20profiles:',_0x420bb4),document[_0x19b795(0x2a6)](_0x19b795(0x850))[_0x19b795(0x7b0)]=_0x19b795(0x6c5);});}function renderLeaderboard(_0x2da7b9,_0x21aa2c){const _0x5adbde=_0x37a926,_0x3727a3=document['getElementById'](_0x21aa2c);if(!_0x2da7b9||_0x2da7b9['length']===0x0){_0x3727a3[_0x5adbde(0x7b0)]=_0x5adbde(0x234);return;}_0x2da7b9[_0x5adbde(0x8b6)]((_0x242e5b,_0x5049d2)=>{const _0xd20916=_0x5adbde,_0x37db37=(_0x5049d2[_0xd20916(0x41f)]||0x0)-(_0x242e5b[_0xd20916(0x41f)]||0x0);if(_0x37db37!==0x0)return _0x37db37;const _0x18ce15=(_0x5049d2[_0xd20916(0x55b)]?.[_0xd20916(0x28f)]||0x0)-(_0x242e5b[_0xd20916(0x55b)]?.[_0xd20916(0x28f)]||0x0);if(_0x18ce15!==0x0)return _0x18ce15;const _0x3cd2d3=(_0x5049d2[_0xd20916(0x55b)]?.[_0xd20916(0x1a8)]||0x0)-(_0x242e5b['badgesCount']?.[_0xd20916(0x1a8)]||0x0);if(_0x3cd2d3!==0x0)return _0x3cd2d3;const _0xcacd3a=(_0x5049d2[_0xd20916(0x55b)]?.[_0xd20916(0x658)]||0x0)-(_0x242e5b['badgesCount']?.[_0xd20916(0x658)]||0x0);if(_0xcacd3a!==0x0)return _0xcacd3a;const _0x374cdc=(_0x5049d2[_0xd20916(0x55b)]?.[_0xd20916(0x200)]||0x0)-(_0x242e5b[_0xd20916(0x55b)]?.[_0xd20916(0x200)]||0x0);if(_0x374cdc!==0x0)return _0x374cdc;return _0x242e5b[_0xd20916(0x4c6)]['localeCompare'](_0x5049d2[_0xd20916(0x4c6)],'th');});let _0xb602e1='';_0x2da7b9[_0x5adbde(0x3dc)]((_0x1b109c,_0x5d1e57)=>{const _0x3dd7e1=_0x5adbde,_0x60891e=_0x5d1e57+0x1,_0x1c1f14=_0x1b109c[_0x3dd7e1(0x55b)]||{};let _0x8cbec5='';const _0x164d0b=['specialist',_0x3dd7e1(0x658),'first_try_ace',_0x3dd7e1(0x200)];_0x164d0b[_0x3dd7e1(0x3dc)](_0x596db7=>{const _0x532bce=_0x3dd7e1;if(_0x1c1f14[_0x596db7]>0x0){const _0x4bef56=Object['values'](BADGES)['find'](_0x2aa554=>_0x2aa554['id']===_0x596db7);_0x4bef56&&(_0x596db7===_0x532bce(0x28f)?_0x8cbec5+=_0x532bce(0x5b0)+_0x4bef56[_0x532bce(0x1bd)]+_0x532bce(0x4fd)+_0x4bef56[_0x532bce(0x611)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x8cbec5+=_0x532bce(0x5b0)+_0x4bef56['name']+'\x20('+_0x1c1f14[_0x596db7]+_0x532bce(0x201)+_0x4bef56[_0x532bce(0x611)]+_0x532bce(0x841)+_0x1c1f14[_0x596db7]+_0x532bce(0x27e));}}),_0xb602e1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x60891e+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x1b109c[_0x3dd7e1(0x4c6)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x1b109c[_0x3dd7e1(0x41f)]||0x0)+_0x3dd7e1(0x596)+(_0x8cbec5||'-')+_0x3dd7e1(0x251);}),_0x3727a3[_0x5adbde(0x7b0)]=_0xb602e1;}function displayLoopScreen(_0x577546,_0x25cca0,_0x1f47bb){const _0xd0cbb1=_0x37a926;let _0x558190='';_0x1f47bb!==_0xd0cbb1(0x634)&&(_0x558190=_0xd0cbb1(0x3a1)+_0x577546+_0xd0cbb1(0x2de)+_0x25cca0+_0xd0cbb1(0x333));const _0x2186ca=_0xd0cbb1(0x3e9)+_0x558190+_0xd0cbb1(0x457);studentResultArea[_0xd0cbb1(0x7b0)]=_0x2186ca,studentResultArea[_0xd0cbb1(0x4a7)][_0xd0cbb1(0x578)]('hidden'),studentQuizArea[_0xd0cbb1(0x4a7)][_0xd0cbb1(0x381)](_0xd0cbb1(0x17a)),document[_0xd0cbb1(0x2a6)](_0xd0cbb1(0x891))[_0xd0cbb1(0x7a6)]('click',()=>{const _0xcc894=_0xd0cbb1;studentResultArea[_0xcc894(0x4a7)][_0xcc894(0x381)](_0xcc894(0x17a)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x55035c,_0x37873d,_0x4e5502){const _0x174ec7=_0x37a926,_0x3b0ce1=document[_0x174ec7(0x2a6)](_0x4e5502),_0xda2709=_0x4e5502===_0x174ec7(0x7ab),_0x2c2b53=_0x37873d[_0x174ec7(0x5fc)][_0x174ec7(0x836)],_0x120580=document[_0x174ec7(0x2a6)](_0x4e5502)[_0x174ec7(0x81a)]('table');if(_0x120580&&!_0xda2709){const _0x514fa0=_0x120580[_0x174ec7(0x8cb)](_0x174ec7(0xcf));_0x514fa0[_0x174ec7(0x7b0)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x55035c||_0x55035c['length']===0x0){_0x3b0ce1[_0x174ec7(0x7b0)]=_0x174ec7(0x1ad)+(_0xda2709?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x2be482=[..._0x55035c];_0x2be482[_0x174ec7(0x8b6)]((_0x3e2b91,_0x57579d)=>{const _0x591f24=_0x174ec7;let _0x1afb15,_0x3a8a5f;switch(quizLeaderboardSortBy){case _0x591f24(0x4c6):_0x1afb15=_0x3e2b91[_0x591f24(0x4c6)]||'',_0x3a8a5f=_0x57579d[_0x591f24(0x4c6)]||'';return quizLeaderboardSortOrder===_0x591f24(0x6ed)?_0x1afb15[_0x591f24(0xdb)](_0x3a8a5f,'th'):_0x3a8a5f[_0x591f24(0xdb)](_0x1afb15,'th');case'points':_0x1afb15=_0x3e2b91[_0x591f24(0x886)]||0x0,_0x3a8a5f=_0x57579d[_0x591f24(0x886)]||0x0;break;case _0x591f24(0x15c):_0x1afb15=_0x3e2b91['attempts']?.[_0x591f24(0x836)]||0x1,_0x3a8a5f=_0x57579d[_0x591f24(0x15c)]?.[_0x591f24(0x836)]||0x1;break;case _0x591f24(0x339):_0x1afb15=new Date(_0x3e2b91[_0x591f24(0x339)]),_0x3a8a5f=new Date(_0x57579d[_0x591f24(0x339)]);break;case'bestScore':default:_0x1afb15=_0x3e2b91[_0x591f24(0x386)],_0x3a8a5f=_0x57579d[_0x591f24(0x386)];break;}if(_0x1afb15<_0x3a8a5f)return quizLeaderboardSortOrder===_0x591f24(0x6ed)?-0x1:0x1;if(_0x1afb15>_0x3a8a5f)return quizLeaderboardSortOrder===_0x591f24(0x6ed)?0x1:-0x1;return 0x0;});const _0xc9f87a=_0x37873d[_0x174ec7(0x2c6)]===!![],_0x2c34e0=_0x37873d[_0x174ec7(0x74a)]?.[_0x174ec7(0x7c9)]??-0x1;let _0x4ac340='';_0x2be482[_0x174ec7(0x3dc)]((_0x4927b1,_0x58d388)=>{const _0x505bb6=_0x174ec7,_0x48d202=_0x58d388+0x1;let _0x100d52=_0x505bb6(0x664);if(_0xc9f87a||_0x2c34e0!==-0x1){let _0x335011=_0xc9f87a?_0x4927b1[_0x505bb6(0x386)]===_0x2c2b53:_0x4927b1[_0x505bb6(0x386)]>=_0x2c34e0;const _0x2141a9=_0x335011?_0x505bb6(0x1c3):_0x505bb6(0xff),_0x84fcff=_0x335011?'ผ่าน':_0x505bb6(0x15d);_0x100d52='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x2141a9+'\x22>'+_0x84fcff+_0x505bb6(0x876);}const _0x470003=_0x4927b1['attempts'][_0x4927b1[_0x505bb6(0x15c)][_0x505bb6(0x836)]-0x1],_0xee58f5=(_0x470003['badges']||[])['map'](_0x44d726=>{const _0x1de9a5=_0x505bb6,_0x332087=Object[_0x1de9a5(0x87a)](BADGES)[_0x1de9a5(0x288)](_0x172656=>_0x172656['id']===_0x44d726);return _0x332087?_0x1de9a5(0x233)+_0x332087['name']+_0x1de9a5(0x3f8)+_0x332087['icon']+_0x1de9a5(0x7d7):'';})['join']('');_0x4ac340+=_0x505bb6(0x329)+_0x48d202+_0x505bb6(0x3c0)+_0x4927b1[_0x505bb6(0x4c6)]+_0x505bb6(0x4ad)+_0x4927b1[_0x505bb6(0x386)]+_0x505bb6(0x2de)+_0x2c2b53+_0x505bb6(0x7e0)+_0x100d52+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x4927b1[_0x505bb6(0x886)]||0x0)+_0x505bb6(0x7e0)+(_0xda2709?'':_0x505bb6(0x5cd)+(_0x4927b1[_0x505bb6(0x15c)]?.[_0x505bb6(0x836)]||0x1)+_0x505bb6(0x165))+_0x505bb6(0x5da)+(_0xda2709?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x4927b1['latestSubmittedAt'])[_0x505bb6(0x71c)]('th-TH')+_0x505bb6(0x165))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0xee58f5||'-')+_0x505bb6(0x2e5);}),_0x3b0ce1['innerHTML']=_0x4ac340,_0x120580&&!_0xda2709&&_0x120580[_0x174ec7(0x574)](_0x174ec7(0x47d))[_0x174ec7(0x3dc)](_0x3e5bfc=>{const _0x362a7e=_0x174ec7,_0x2997a8=_0x3e5bfc[_0x362a7e(0x8cb)]('.sort-indicator');if(_0x2997a8)_0x2997a8['remove']();_0x3e5bfc[_0x362a7e(0x7b3)][_0x362a7e(0x8b6)]===quizLeaderboardSortBy&&(_0x3e5bfc[_0x362a7e(0x7b0)]+=_0x362a7e(0x4c8)+(quizLeaderboardSortOrder===_0x362a7e(0x6ed)?'▲':'▼')+_0x362a7e(0x173));});}async function handleDeleteSubmission(_0x3958a8){const _0x26fe8c=_0x37a926;if(!currentQuizData||!currentQuizData['id']||!_0x3958a8){showMessage(_0x26fe8c(0x510));return;}showConfirmation(_0x26fe8c(0x506)+_0x3958a8+_0x26fe8c(0x87d),async()=>{const _0x368b39=_0x26fe8c,_0x3f9e9d=currentQuizData['id'],_0x48c223=doc(db,_0x368b39(0x11a)+appId+_0x368b39(0x522)+_0x3f9e9d+'/submissions',_0x3958a8);try{await deleteDoc(_0x48c223),showMessage('ลบผลสอบของ\x20'+_0x3958a8+_0x368b39(0x6eb));}catch(_0x2e950d){console[_0x368b39(0x804)](_0x368b39(0x344),_0x2e950d),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x1fa290=_0x37a926,_0x3a8b49=document['getElementById'](_0x1fa290(0x34c)),_0x38cb4d=_0x3a8b49[_0x1fa290(0x464)][_0x1fa290(0x451)]();if(!_0x38cb4d){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn['disabled']=!![],loadQuizBtn[_0x1fa290(0x7b0)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x44fa79=doc(db,'artifacts/'+appId+_0x1fa290(0x22e),_0x38cb4d),_0x88411=await getDoc(_0x44fa79);if(!_0x88411[_0x1fa290(0x5fa)]()){showMessage(_0x1fa290(0x74f));return;}currentQuizData={'id':_0x88411['id'],..._0x88411[_0x1fa290(0x7a8)]()};const _0x2e83a2=currentQuizData[_0x1fa290(0x140)]||_0x1fa290(0x2aa),_0x5afb39=new Date();if(_0x2e83a2===_0x1fa290(0x58c)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x2e83a2===_0x1fa290(0x7d8)){const _0x447b24=currentQuizData[_0x1fa290(0xc0)]?new Date(currentQuizData[_0x1fa290(0xc0)]):null,_0x24d07e=currentQuizData[_0x1fa290(0x4ba)]?new Date(currentQuizData[_0x1fa290(0x4ba)]):null;if(_0x447b24&&_0x5afb39<_0x447b24){showMessage(_0x1fa290(0x12f)+_0x447b24[_0x1fa290(0x71c)](_0x1fa290(0x4f8),{'hour12':![]}));return;}if(_0x24d07e&&_0x5afb39>_0x24d07e){showMessage(_0x1fa290(0x157));return;}}const _0x3b5a8b=currentQuizData[_0x1fa290(0x8b5)];currentProjectId=_0x3b5a8b;const _0x16356c=doc(db,_0x1fa290(0x11a)+appId+_0x1fa290(0x53a),_0x3b5a8b),_0x5b40bb=await getDoc(_0x16356c);if(!_0x5b40bb['exists']()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x4ddd3c=_0x5b40bb['data']();currentStudentProjectData=_0x4ddd3c,displayStudentNameSelector(_0x4ddd3c[_0x1fa290(0x243)],currentQuizData[_0x1fa290(0xc6)]);}catch(_0xc704a5){console[_0x1fa290(0x804)](_0x1fa290(0x899),_0xc704a5),showMessage(_0x1fa290(0x630));}finally{loadQuizBtn[_0x1fa290(0x108)]=![],loadQuizBtn[_0x1fa290(0x7b0)]=_0x1fa290(0x665);}}async function handleJoinLiveGame(){const _0x37edb9=_0x37a926,_0x296d73=document[_0x37edb9(0x2a6)](_0x37edb9(0x31b)),_0xe7b6ec=document[_0x37edb9(0x2a6)](_0x37edb9(0x238)),_0x3476dc=document[_0x37edb9(0x2a6)](_0x37edb9(0x543)),_0x51e909=_0x296d73[_0x37edb9(0x464)][_0x37edb9(0x451)](),_0xcb660d=_0xe7b6ec[_0x37edb9(0x464)][_0x37edb9(0x451)]();if(!_0x51e909||!_0xcb660d){showMessage(_0x37edb9(0x716));return;}_0x3476dc[_0x37edb9(0x108)]=!![],_0x3476dc[_0x37edb9(0x7b0)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';try{const _0x287f1a=collection(db,_0x37edb9(0x11a)+appId+_0x37edb9(0x217)),_0x3724c6=query(_0x287f1a,where(_0x37edb9(0x75a),'==',_0x51e909),where('status','==',_0x37edb9(0x199))),_0x237964=await getDocs(_0x3724c6);if(_0x237964[_0x37edb9(0x5a0)]){showMessage(_0x37edb9(0x48a));return;}const _0x5b799d=_0x237964['docs'][0x0],_0x3653dc=_0x5b799d[_0x37edb9(0x7a8)]();currentLiveGameId=_0x5b799d['id'];const _0x3d7e9f=_0x3653dc[_0x37edb9(0x24b)],_0x34e5d6=doc(db,_0x37edb9(0x11a)+appId+_0x37edb9(0x22e),_0x3d7e9f),_0x3300b9=await getDoc(_0x34e5d6);if(!_0x3300b9['exists']()){showMessage(_0x37edb9(0x13d));return;}currentQuizData={'id':_0x3300b9['id'],..._0x3300b9['data']()};if(_0x3653dc[_0x37edb9(0x441)]&&_0x3653dc[_0x37edb9(0x441)][_0xcb660d]){showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น');return;}const _0x3e5ae2={};_0x3e5ae2[_0x37edb9(0x4c1)+_0xcb660d]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x37edb9(0x2aa)},await updateDoc(doc(db,_0x37edb9(0x11a)+appId+'/public/data/liveGames',currentLiveGameId),_0x3e5ae2),currentStudentName=_0xcb660d,listenForLiveGameUpdates();}catch(_0x1bf0c5){console[_0x37edb9(0x804)](_0x37edb9(0x771),_0x1bf0c5),showMessage(_0x37edb9(0x6c9));}finally{_0x3476dc[_0x37edb9(0x108)]=![],_0x3476dc[_0x37edb9(0x7b0)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x2e43f1,_0xca935f){const _0x1724ad=_0x37a926,_0x2e587b=document['getElementById'](_0x1724ad(0x18d));document[_0x1724ad(0x2a6)]('student-quiz-topic')['textContent']=_0x1724ad(0x681)+_0xca935f,!_0x2e43f1||_0x2e43f1['length']===0x0?(_0x2e587b['innerHTML']=_0x1724ad(0x191),startQuizBtn[_0x1724ad(0x108)]=!![]):(_0x2e587b['innerHTML']=_0x1724ad(0x35e),_0x2e43f1[_0x1724ad(0x3dc)](_0x12268e=>{const _0x12184d=_0x1724ad,_0x4f8f8d=document[_0x12184d(0x70a)](_0x12184d(0x764));_0x4f8f8d[_0x12184d(0x464)]=_0x12268e,_0x4f8f8d[_0x12184d(0x523)]=_0x12268e,_0x2e587b['appendChild'](_0x4f8f8d);}),startQuizBtn[_0x1724ad(0x108)]=![]),studentInitialView[_0x1724ad(0x4a7)][_0x1724ad(0x381)](_0x1724ad(0x17a)),studentNameSelectionView[_0x1724ad(0x4a7)][_0x1724ad(0x578)]('hidden');}function shuffleArray(_0x582c46){const _0x1f1b41=_0x37a926;for(let _0x2f63ba=_0x582c46[_0x1f1b41(0x836)]-0x1;_0x2f63ba>0x0;_0x2f63ba--){const _0x2ddf7e=Math['floor'](Math[_0x1f1b41(0x23d)]()*(_0x2f63ba+0x1));[_0x582c46[_0x2f63ba],_0x582c46[_0x2ddf7e]]=[_0x582c46[_0x2ddf7e],_0x582c46[_0x2f63ba]];}}function getShuffledQuiz(_0x214d37){const _0x386c73=_0x37a926;let _0x3be1e6=JSON[_0x386c73(0x369)](JSON[_0x386c73(0x471)](_0x214d37));const _0x25bb92=_0x3be1e6['settings']?.[_0x386c73(0x835)]||_0x386c73(0x5f7);if(_0x25bb92===_0x386c73(0x5f7))return _0x3be1e6;return(_0x25bb92===_0x386c73(0x1db)||_0x25bb92===_0x386c73(0x30f))&&shuffleArray(_0x3be1e6['questions']),(_0x25bb92==='choices_only'||_0x25bb92===_0x386c73(0x30f))&&_0x3be1e6[_0x386c73(0x5fc)]['forEach'](_0x12c972=>{const _0x34ac11=_0x386c73,_0x161fa2=_0x12c972[_0x34ac11(0x101)]||_0x3be1e6[_0x34ac11(0x1bc)];if(_0x12c972['options']){let _0x3254bd=_0x12c972[_0x34ac11(0x60d)][_0x34ac11(0x4b9)]((_0x331e1e,_0x3a2b26)=>({'text':_0x331e1e,'isCorrect':_0x3a2b26===_0x12c972[_0x34ac11(0x61d)]}));shuffleArray(_0x3254bd),_0x12c972[_0x34ac11(0x60d)]=_0x3254bd[_0x34ac11(0x4b9)](_0x531184=>_0x531184['text']),_0x12c972[_0x34ac11(0x61d)]=_0x3254bd['findIndex'](_0x1128eb=>_0x1128eb[_0x34ac11(0x894)]);}_0x161fa2==='matching_item'&&_0x12c972['allResponses']&&shuffleArray(_0x12c972[_0x34ac11(0x731)]);}),_0x3be1e6;}function displayQuizForStudent(_0xa131c0){const _0x579ab0=_0x37a926;studentQuizArea[_0x579ab0(0x4a7)][_0x579ab0(0x578)](_0x579ab0(0x17a)),currentDisplayedQuiz=getShuffledQuiz(_0xa131c0);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener']('fullscreenchange',handleFullscreenChange),document[_0x579ab0(0x7a6)](_0x579ab0(0x207),handleVisibilityChange),enterFullscreen(),window[_0x579ab0(0x7a6)](_0x579ab0(0x80f),resetDimTimer),window[_0x579ab0(0x7a6)](_0x579ab0(0x2ab),resetDimTimer),window[_0x579ab0(0x7a6)](_0x579ab0(0xd3),resetDimTimer),window[_0x579ab0(0x7a6)](_0x579ab0(0x81b),resetDimTimer),resetDimTimer());const _0x5214cf=currentDisplayedQuiz[_0x579ab0(0x74a)]?.[_0x579ab0(0x10b)]||_0x579ab0(0x5f7);if(_0x5214cf===_0x579ab0(0x40b))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings'][_0x579ab0(0x418)]);else _0x5214cf===_0x579ab0(0x38f)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x33234a=_0x37a926;let _0x32ae0e=_0x33234a(0x4a4)+currentDisplayedQuiz['topic']+_0x33234a(0x224)+(currentMode===_0x33234a(0x725)?_0x33234a(0x52c):'')+_0x33234a(0x885);currentDisplayedQuiz['questions'][_0x33234a(0x3dc)]((_0x21626a,_0x5de920)=>{const _0x24bfd5=_0x33234a,_0x1be33e=_0x21626a[_0x24bfd5(0x101)]||currentDisplayedQuiz[_0x24bfd5(0x1bc)];_0x32ae0e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x1be33e==='matching_item'?_0x32ae0e+=_0x24bfd5(0x1d1)+(_0x5de920+0x1)+'.\x20'+_0x21626a['stem']+_0x24bfd5(0x2ac)+_0x5de920+_0x24bfd5(0x365)+_0x21626a['allResponses'][_0x24bfd5(0x4b9)](_0x53a778=>_0x24bfd5(0x7b9)+_0x53a778+'\x22>'+_0x53a778+_0x24bfd5(0x872))[_0x24bfd5(0x43d)]('')+_0x24bfd5(0x65f):(_0x32ae0e+='<p>'+(_0x5de920+0x1)+'.\x20'+(_0x21626a[_0x24bfd5(0xf7)]||_0x21626a[_0x24bfd5(0x1df)])+_0x24bfd5(0x44d),_0x21626a[_0x24bfd5(0x63e)]&&(_0x32ae0e+=_0x24bfd5(0x1f6)+_0x21626a[_0x24bfd5(0x63e)]+_0x24bfd5(0x631)));_0x32ae0e+=_0x24bfd5(0x59a);switch(_0x1be33e){case'short_answer':_0x32ae0e+=_0x24bfd5(0x2ca)+_0x5de920+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x24bfd5(0x27a):_0x32ae0e+=_0x24bfd5(0x4fc)+_0x5de920+_0x24bfd5(0x230)+_0x5de920+_0x24bfd5(0x436)+_0x5de920+_0x24bfd5(0x6ff),_0x32ae0e+=_0x24bfd5(0x4fc)+_0x5de920+_0x24bfd5(0x294)+_0x5de920+_0x24bfd5(0x58f)+_0x5de920+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x24bfd5(0x726):break;case'fill_in_the_blank':case _0x24bfd5(0x149):default:_0x32ae0e+=_0x21626a['options'][_0x24bfd5(0x4b9)]((_0x37853b,_0x3365c2)=>_0x24bfd5(0x5dd)+_0x5de920+'_opt'+_0x3365c2+_0x24bfd5(0x7f8)+_0x5de920+_0x24bfd5(0xc7)+_0x3365c2+_0x24bfd5(0x78d)+_0x5de920+_0x24bfd5(0x80e)+_0x3365c2+'\x22>'+_0x37853b+'</label>\x0a\x20\x20\x20\x20</div>\x0a')[_0x24bfd5(0x43d)]('');break;}_0x32ae0e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x32ae0e+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x32ae0e+=_0x33234a(0x7c6),studentQuizArea[_0x33234a(0x7b0)]=_0x32ae0e;if(currentMode===_0x33234a(0x725)){const _0x2a69a4=document['getElementById'](_0x33234a(0x461));if(_0x2a69a4)_0x2a69a4['addEventListener']('click',cancelAdminTest);}document[_0x33234a(0x2a6)](_0x33234a(0x627))[_0x33234a(0x7a6)](_0x33234a(0xe7),handleSubmitQuiz);if(window['MathJax'])window[_0x33234a(0x86f)][_0x33234a(0x133)]([studentQuizArea]);}async function handleSubmitQuiz(_0x47efa1){const _0x312ab1=_0x37a926;if(_0x47efa1)_0x47efa1[_0x312ab1(0x281)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x71adb9=document['getElementById'](_0x312ab1(0x627));if(!_0x71adb9)return;const _0x192b65=_0x71adb9['querySelector'](_0x312ab1(0x6cc)),_0x878f08=currentDisplayedQuiz[_0x312ab1(0x5fc)][_0x312ab1(0x22d)](_0xd7add8=>_0xd7add8[_0x312ab1(0x101)]===_0x312ab1(0x602));_0x192b65&&(_0x192b65['disabled']=!![],_0x878f08?_0x192b65[_0x312ab1(0x7b0)]=_0x312ab1(0x10f):_0x192b65[_0x312ab1(0x7b0)]=_0x312ab1(0x27c));const _0x1a67f7=new FormData(_0x71adb9),_0x46f70a=currentDisplayedQuiz[_0x312ab1(0x5fc)][_0x312ab1(0x4b9)]((_0x5ae88b,_0x433809)=>{const _0x4b11df=_0x312ab1,_0x45934f=_0x5ae88b['questionType']||currentDisplayedQuiz[_0x4b11df(0x1bc)],_0x4ebb1d=_0x1a67f7[_0x4b11df(0x214)](_0x4b11df(0x491)+_0x433809);if(_0x4ebb1d!==null&&_0x4ebb1d!==undefined){if(_0x45934f===_0x4b11df(0x149)||_0x45934f===_0x4b11df(0x637))return parseInt(_0x4ebb1d);return _0x4ebb1d;}return null;}),_0x30836f=currentQuizData['id'],_0x225cf2=doc(db,_0x312ab1(0x11a)+appId+_0x312ab1(0x522)+_0x30836f+'/submissions',currentStudentName),_0x5365f1=await getDoc(_0x225cf2),_0x23c095=_0x5365f1[_0x312ab1(0x5fa)]()?_0x5365f1[_0x312ab1(0x7a8)]():{},_0x3efbc9=_0x23c095[_0x312ab1(0x15c)]||[];await processAndSubmitAnswers(_0x46f70a,_0x3efbc9);}async function gradeShortAnswerWithAI(_0x1b7fa0,_0x3e0eb7){const _0x38e750=_0x37a926;if(!_0x1b7fa0||!_0x3e0eb7)return![];try{const _0x4f314e='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x1b7fa0+_0x38e750(0x749)+_0x3e0eb7+_0x38e750(0x64a),_0x356760={'contents':[{'role':'user','parts':[{'text':_0x4f314e}]}]},_0x4c6f8e='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x92ec2d=_0x38e750(0x7db)+_0x4c6f8e,_0x54d3d8=await fetch(_0x92ec2d,{'method':_0x38e750(0x803),'headers':{'Content-Type':_0x38e750(0x257)},'body':JSON['stringify'](_0x356760)});if(!_0x54d3d8['ok'])throw new Error(_0x38e750(0x5c0));const _0x23e6df=await _0x54d3d8[_0x38e750(0x8c4)](),_0x2e6a78=_0x23e6df[_0x38e750(0x5ff)][0x0][_0x38e750(0x315)]['parts'][0x0]['text'][_0x38e750(0x451)]()[_0x38e750(0x7fc)]();return _0x2e6a78===_0x38e750(0x4d9);}catch(_0x20ab31){return console[_0x38e750(0x804)](_0x38e750(0x571),_0x20ab31),![];}}async function processAndSubmitAnswers(_0x4d7a6e,_0x13c26a){const _0x2bfb33=_0x37a926;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x2bfb33(0x82d)]('fullscreenchange',handleFullscreenChange),document[_0x2bfb33(0x82d)](_0x2bfb33(0x207),handleVisibilityChange);let _0x3aef46=0x0,_0xfc9c62=0x0,_0x424368=[];const _0x3ede2=[],_0x338b0a=currentDisplayedQuiz['questions'][_0x2bfb33(0x836)];let _0x17fb84=0x0;const _0x5c6bec=currentDisplayedQuiz[_0x2bfb33(0x5fc)];for(let _0x174c4d=0x0;_0x174c4d<_0x5c6bec['length'];_0x174c4d++){const _0x5dee3f=_0x5c6bec[_0x174c4d],_0x534d31=_0x4d7a6e[_0x174c4d],_0x3a67b0=_0x5dee3f[_0x2bfb33(0x101)]||currentDisplayedQuiz[_0x2bfb33(0x1bc)];let _0x471c80=![];if(_0x534d31!==null&&_0x534d31!=='')switch(_0x3a67b0){case _0x2bfb33(0x726):_0x471c80=_0x534d31===_0x5dee3f['correctResponse'];break;case'true_false':const _0x32b024=_0x534d31===!![]||_0x534d31===_0x2bfb33(0x4d9);_0x471c80=_0x32b024===_0x5dee3f[_0x2bfb33(0x348)];break;case _0x2bfb33(0x637):case _0x2bfb33(0x149):default:_0x471c80=Number(_0x534d31)===_0x5dee3f[_0x2bfb33(0x61d)];break;case _0x2bfb33(0x602):_0x471c80=await gradeShortAnswer(_0x534d31,_0x5dee3f);break;}_0x471c80?(_0x3aef46++,_0x17fb84++,_0x17fb84===0x3&&(_0x424368[_0x2bfb33(0x500)](BADGES[_0x2bfb33(0x671)]['id']),_0x17fb84=0x0)):_0x17fb84=0x0;let _0x3d2b44=null;_0x5dee3f['options']&&_0x534d31!==null&&(_0x3d2b44=_0x5dee3f['options'][_0x534d31]),_0x3ede2[_0x2bfb33(0x500)]({'questionId':_0x5dee3f['id'],'answer':_0x534d31,'answerText':_0x3d2b44,'isCorrect':_0x471c80,'originalQuestionText':_0x5dee3f[_0x2bfb33(0x308)]||_0x5dee3f[_0x2bfb33(0x1df)]});}_0xfc9c62=_0x3aef46*0xa;_0x3aef46===_0x338b0a&&_0x338b0a>0x0&&!currentDisplayedQuiz[_0x2bfb33(0x2c6)]&&(_0xfc9c62+=0x32,_0x424368['push'](BADGES[_0x2bfb33(0x5e2)]['id']));const _0x33c87e=currentDisplayedQuiz[_0x2bfb33(0x74a)]?.['passingScore']??Math[_0x2bfb33(0x501)](_0x338b0a/0x2),_0x1edd64=currentDisplayedQuiz['settings']?.['timerMode'];if(_0x1edd64===_0x2bfb33(0x40b)&&quizStartTime){const _0x344c85=(new Date()-quizStartTime)/0x3e8,_0x325ba4=currentDisplayedQuiz[_0x2bfb33(0x74a)][_0x2bfb33(0x418)]*0x3c;_0x3aef46>=_0x33c87e&&_0x344c85<_0x325ba4/0x2&&(_0xfc9c62+=0x14,_0x424368[_0x2bfb33(0x500)](BADGES[_0x2bfb33(0x839)]['id']));}_0x13c26a[_0x2bfb33(0x836)]===0x0&&_0x3aef46===_0x338b0a&&_0x338b0a>0x0&&_0x424368[_0x2bfb33(0x500)](BADGES[_0x2bfb33(0x799)]['id']);if(_0x13c26a['length']>0x0){const _0x5f0b9e=_0x13c26a[0x0]['score'];if(_0x5f0b9e<_0x33c87e&&_0x3aef46>=_0x33c87e){const _0x3b663c=_0x13c26a['some'](_0x9b2900=>(_0x9b2900['badges']||[])[_0x2bfb33(0x6a4)](BADGES[_0x2bfb33(0x42f)]['id']));!_0x3b663c&&_0x424368['push'](BADGES[_0x2bfb33(0x42f)]['id']);}}_0x13c26a[_0x2bfb33(0x836)]===0x4&&_0x424368[_0x2bfb33(0x500)](BADGES[_0x2bfb33(0x6f6)]['id']);const _0x401ec2=currentDisplayedQuiz[_0x2bfb33(0x74a)][_0x2bfb33(0x562)];if(currentMode==='admin-testing'){handleResultDisplay(_0x401ec2,_0x3aef46,_0xfc9c62,_0x424368,_0x3ede2,_0x338b0a);return;}const _0x2868af=currentQuizData['id'],_0x2df431=doc(db,_0x2bfb33(0x11a)+appId+_0x2bfb33(0x522)+_0x2868af+_0x2bfb33(0x383),currentStudentName);try{const _0x42864d=[..._0x13c26a],_0x2ee568={'score':_0x3aef46,'points':_0xfc9c62,'badges':_0x424368,'submittedAt':new Date()[_0x2bfb33(0x223)](),'answers':_0x3ede2};_0x42864d['push'](_0x2ee568);const _0x237bad=_0x42864d[0x0]['score'],_0x1939c4=Math[_0x2bfb33(0x12b)](..._0x42864d[_0x2bfb33(0x4b9)](_0x17cbd7=>_0x17cbd7[_0x2bfb33(0x4b1)])),_0x4e68f6=_0x3aef46,_0x20452c=_0x2ee568[_0x2bfb33(0x51f)];await setDoc(_0x2df431,{'studentName':currentStudentName,'totalQuestions':_0x338b0a,'attempts':_0x42864d,'firstScore':_0x237bad,'bestScore':_0x1939c4,'latestScore':_0x4e68f6,'points':_0xfc9c62,'latestSubmittedAt':_0x20452c},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x2bfb33(0x8b5)],currentStudentName),handleResultDisplay(_0x401ec2,_0x3aef46,_0xfc9c62,_0x424368,_0x3ede2,_0x338b0a);}catch(_0x444ddc){console['error'](_0x2bfb33(0x4d1),_0x444ddc),showMessage(_0x2bfb33(0x689));}}async function updateStudentProfile(_0x16a64a,_0x4ce6d4){const _0x3443e2=_0x37a926,_0x4ca164=doc(db,'artifacts/'+appId+_0x3443e2(0x3a3)+_0x16a64a+_0x3443e2(0x3d3),_0x4ce6d4);try{const _0x421e96=query(collection(db,'artifacts/'+appId+'/public/data/quizzes'),where(_0x3443e2(0x8b5),'==',_0x16a64a)),_0x5c07a0=await getDocs(_0x421e96),_0x4cd31b=new Map(_0x5c07a0[_0x3443e2(0x239)][_0x3443e2(0x4b9)](_0x39df69=>[_0x39df69['id'],_0x39df69[_0x3443e2(0x7a8)]()])),_0x4b43b0=Array[_0x3443e2(0x585)](_0x4cd31b[_0x3443e2(0x5bc)]());await runTransaction(db,async _0x3788ed=>{const _0xeb4094=_0x3443e2;let _0x4da011=0x0;const _0x297244={};let _0x175302=!![],_0x2201c0=0x0,_0x1c4d08=0x0;for(const _0x158c6f of _0x4b43b0){const _0x405fd8=_0x4cd31b[_0xeb4094(0x214)](_0x158c6f),_0x2491b2=doc(db,'artifacts/'+appId+_0xeb4094(0x522)+_0x158c6f+_0xeb4094(0x383),_0x4ce6d4),_0x4e1690=await _0x3788ed['get'](_0x2491b2);if(_0x4e1690[_0xeb4094(0x5fa)]()){const _0x2a6746=_0x4e1690[_0xeb4094(0x7a8)](),_0x4072a3=_0x2a6746[_0xeb4094(0x15c)]||[];if(_0x4072a3[_0xeb4094(0x836)]>0x0){const _0x204c4d=_0x4072a3[_0xeb4094(0x620)]((_0x26cf83,_0xabccd)=>{const _0x289982=_0xeb4094;if(_0xabccd[_0x289982(0x4b1)]>_0x26cf83['score'])return _0xabccd;if(_0xabccd[_0x289982(0x4b1)]===_0x26cf83[_0x289982(0x4b1)])return(_0xabccd[_0x289982(0x886)]||0x0)>(_0x26cf83[_0x289982(0x886)]||0x0)?_0xabccd:_0x26cf83;return _0x26cf83;},{'score':-0x1,'points':-0x1});_0x204c4d['score']>-0x1&&(_0x4da011+=_0x204c4d[_0xeb4094(0x886)]||0x0,(_0x204c4d[_0xeb4094(0x733)]||[])[_0xeb4094(0x3dc)](_0xe81143=>{_0x297244[_0xe81143]=(_0x297244[_0xe81143]||0x0)+0x1;}));}}if(_0x405fd8[_0xeb4094(0xc6)]!==_0xeb4094(0x1fa)){_0x1c4d08++;if(_0x4e1690[_0xeb4094(0x5fa)]()){_0x2201c0++;const _0x350fac=_0x4e1690['data']();_0x350fac[_0xeb4094(0x386)]!==_0x350fac[_0xeb4094(0x3fc)]&&(_0x175302=![]);}else _0x175302=![];}}_0x1c4d08>0x0&&_0x2201c0===_0x1c4d08&&_0x175302?_0x297244[_0xeb4094(0x28f)]=0x1:_0x297244[_0xeb4094(0x28f)]=0x0,_0x3788ed['set'](_0x4ca164,{'studentName':_0x4ce6d4,'totalPoints':_0x4da011,'unlockedBadges':Object[_0xeb4094(0x5bc)](_0x297244)[_0xeb4094(0x63c)](_0x5e3344=>_0x297244[_0x5e3344]>0x0),'badgesCount':_0x297244},{'merge':!![]});});}catch(_0x462048){console[_0x3443e2(0x804)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x462048),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0xde4906=_0x37a926;if(!currentQuizData){showMessage(_0xde4906(0x337));return;}let _0x92069a=JSON[_0xde4906(0x369)](JSON[_0xde4906(0x471)](currentQuizData));currentMode=_0xde4906(0x725),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView['classList'][_0xde4906(0x381)](_0xde4906(0x17a)),studentView[_0xde4906(0x4a7)][_0xde4906(0x578)](_0xde4906(0x17a)),studentInitialView['classList'][_0xde4906(0x381)](_0xde4906(0x17a)),studentNameSelectionView[_0xde4906(0x4a7)][_0xde4906(0x381)](_0xde4906(0x17a)),studentResultArea['classList'][_0xde4906(0x381)]('hidden'),studentQuizArea[_0xde4906(0x4a7)][_0xde4906(0x578)](_0xde4906(0x17a)),quizStartTime=new Date(),displayQuizForStudent(_0x92069a);}function handleResultDisplay(_0x55d075,_0x493b4e,_0x4e0eff,_0x34a9f9,_0x2a9384,_0x149ffa){const _0x29daa0=_0x37a926;if(_0x55d075===_0x29daa0(0x72e)){displaySubmissionConfirmation();return;}const _0x406bee=currentDisplayedQuiz['settings']?.[_0x29daa0(0x7c9)]??Math['floor'](_0x149ffa/0x2),_0x5b7d57=currentDisplayedQuiz[_0x29daa0(0x74a)]?.[_0x29daa0(0x3d4)]??![],_0xdcccbb=currentDisplayedQuiz[_0x29daa0(0x74a)]?.[_0x29daa0(0x330)]===!![],_0x5d4ddb=_0x493b4e<_0x406bee,_0x314786=_0x55d075===_0x29daa0(0x65d)||_0x55d075===_0x29daa0(0x450);if(_0xdcccbb&&_0x5d4ddb&&!_0x314786){_0x55d075===_0x29daa0(0xc3)?displayResultsWithAnswers(_0x493b4e,_0x4e0eff,_0x34a9f9,_0x2a9384,_0x149ffa,!![]):displayLoopScreen(_0x493b4e,_0x149ffa,_0x55d075);return;}if(_0x5b7d57&&_0x5d4ddb){startAdaptiveFlow(_0x2a9384,_0x493b4e,_0x149ffa);return;}switch(_0x55d075){case _0x29daa0(0xc3):displayResultsWithAnswers(_0x493b4e,_0x4e0eff,_0x34a9f9,_0x2a9384,_0x149ffa);break;case _0x29daa0(0x40c):displayResultsScoreOnly(_0x493b4e,_0x4e0eff,_0x34a9f9,_0x149ffa);break;case'show_pass_fail_only':displayPassFailOnly(_0x493b4e,_0x149ffa);break;case'half_mark_status':displayHalfMarkResult(_0x493b4e,_0x149ffa);break;case _0x29daa0(0x450):displayPerfectScoreResult(_0x493b4e,_0x149ffa);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x1cc15b){const _0x27d0=_0x37a926;studentReadingArea[_0x27d0(0x7b0)]=_0x27d0(0x5d3);const _0x4c7c52='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1cc15b+_0x27d0(0x748)+simpleMathPrompt+_0x27d0(0x533),_0x5bd32c={'type':_0x27d0(0x7e6),'properties':{'questionText':{'type':_0x27d0(0x787)},'options':{'type':_0x27d0(0x864),'items':{'type':_0x27d0(0x787)}},'correctAnswerIndex':{'type':_0x27d0(0x82a)},'explanation':{'type':'STRING'}},'required':[_0x27d0(0x1df),_0x27d0(0x60d),_0x27d0(0x61d),'explanation']},_0x381852={'type':_0x27d0(0x7e6),'properties':{'topic':{'type':_0x27d0(0x787)},'questions':{'type':'ARRAY','items':_0x5bd32c}},'required':[_0x27d0(0xc6),_0x27d0(0x5fc)]};try{const _0x190c02=await callAnalysisApi(_0x4c7c52,_0x381852);_0x190c02['isRemedial']=!![],studentReadingArea[_0x27d0(0x4a7)][_0x27d0(0x381)](_0x27d0(0x17a));const _0x17ea9e={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x27d0(0xc3)};_0x190c02[_0x27d0(0x74a)]=_0x17ea9e,displayQuizForStudent(_0x190c02);}catch(_0x24e31c){console['error'](_0x27d0(0x5a3),_0x24e31c),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x27d0(0x5ad));}}function displayPassFailOnly(_0x48a06d,_0x193319){const _0x20e05a=_0x37a926,_0x331e11=currentDisplayedQuiz[_0x20e05a(0x74a)]?.['passingScore']??-0x1,_0x51647d=currentDisplayedQuiz[_0x20e05a(0x2c6)]===!![];let _0x1f9375='',_0x1b6118=![];if(_0x51647d||_0x331e11!==-0x1){_0x1b6118=_0x51647d?_0x48a06d===_0x193319:_0x48a06d>=_0x331e11;const _0x4fc72c=_0x1b6118?_0x20e05a(0x1c3):'bg-red-100\x20text-red-800',_0x4efb4e=_0x1b6118?_0x20e05a(0x727):_0x20e05a(0x15d);_0x1f9375='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x4fc72c+'\x22>'+_0x4efb4e+_0x20e05a(0x7d6);}else _0x1f9375=_0x20e05a(0x7da);let _0xb4ef63=_0x20e05a(0x8af)+currentStudentName+_0x20e05a(0x32e)+_0x1f9375+_0x20e05a(0x796);studentResultArea[_0x20e05a(0x7b0)]=_0xb4ef63,studentResultArea['classList']['remove'](_0x20e05a(0x17a)),studentQuizArea[_0x20e05a(0x4a7)][_0x20e05a(0x381)]('hidden'),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x1b6118});}function cancelAdminTest(){const _0x20d890=_0x37a926;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x20d890(0x82d)](_0x20d890(0xe3),handleFullscreenChange),document['removeEventListener'](_0x20d890(0x207),handleVisibilityChange),currentMode='admin',studentView[_0x20d890(0x4a7)][_0x20d890(0x381)]('hidden'),adminView['classList'][_0x20d890(0x578)](_0x20d890(0x17a)),showView(_0x20d890(0x129));}function setupResultScreenBackButton(_0x569e17){const _0x55e0de=_0x37a926,_0x339cee={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x569e17};if(_0x339cee[_0x55e0de(0x793)]){const _0x39d64e=_0x55e0de(0x3bc);studentResultArea[_0x55e0de(0x7ca)](_0x55e0de(0x220),_0x39d64e),document[_0x55e0de(0x2a6)](_0x55e0de(0x891))[_0x55e0de(0x7a6)](_0x55e0de(0x69e),()=>{const _0x19cebe=_0x55e0de;studentResultArea['classList'][_0x19cebe(0x381)](_0x19cebe(0x17a)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x24740d=_0x55e0de(0x1f5),_0x5f49c4=currentMode===_0x55e0de(0x725),_0x2208a8=_0x5f49c4?_0x55e0de(0x1c5):_0x55e0de(0x758);let _0x17415d='';_0x339cee['showRankings']&&(_0x17415d+=_0x55e0de(0x1ec));let _0x33cd43=_0x339cee[_0x55e0de(0x7be)];_0x33cd43===undefined&&(_0x33cd43=_0x339cee['score']<_0x339cee['totalQuestions']);_0x33cd43&&(_0x17415d+=_0x55e0de(0x254));_0x17415d+=_0x55e0de(0x172)+_0x24740d+_0x55e0de(0x821)+_0x2208a8+'</button>';const _0x34f68f=_0x55e0de(0x388)+_0x17415d+'</div>';studentResultArea[_0x55e0de(0x7ca)](_0x55e0de(0x220),_0x34f68f),studentResultArea['querySelector']('#view-rankings-btn')?.[_0x55e0de(0x7a6)](_0x55e0de(0x69e),handleShowStudentRankings);const _0x1592e3=studentResultArea[_0x55e0de(0x8cb)](_0x55e0de(0x535));_0x1592e3&&_0x1592e3[_0x55e0de(0x7a6)](_0x55e0de(0x69e),()=>{const _0x122ee0=_0x55e0de;studentResultArea[_0x122ee0(0x4a7)][_0x122ee0(0x381)](_0x122ee0(0x17a)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x55e0de(0x2a6)](_0x24740d)[_0x55e0de(0x7a6)](_0x55e0de(0x69e),()=>{const _0x4bdaa9=_0x55e0de;_0x5f49c4?(currentMode=_0x4bdaa9(0x6ab),studentView[_0x4bdaa9(0x4a7)][_0x4bdaa9(0x381)](_0x4bdaa9(0x17a)),adminView[_0x4bdaa9(0x4a7)]['remove']('hidden'),showView(_0x4bdaa9(0x129))):(showView(_0x4bdaa9(0x5ad)),document['getElementById']('quiz-id-input')[_0x4bdaa9(0x464)]='');});}function displayResultsWithAnswers(_0x3f923f,_0x1d16cc,_0x553551,_0x3a117f,_0x26fcf8,_0x5b7178=![]){const _0x1034a2=_0x37a926,_0x14c792=_0x26fcf8>0x0?_0x3f923f/_0x26fcf8*0x64:0x0,_0x2054f3=currentDisplayedQuiz[_0x1034a2(0x74a)]?.[_0x1034a2(0x7c9)]??-0x1,_0x25c741=currentDisplayedQuiz[_0x1034a2(0x2c6)]===!![];let _0x48d762='';if(_0x25c741||_0x2054f3!==-0x1){let _0x184dbf=_0x25c741?_0x3f923f===_0x26fcf8:_0x3f923f>=_0x2054f3;const _0x22c37d=_0x184dbf?_0x1034a2(0x1c3):'bg-red-100\x20text-red-800',_0x262528=_0x184dbf?_0x1034a2(0x727):_0x1034a2(0x15d);_0x48d762=_0x1034a2(0x317)+_0x22c37d+'\x22>'+_0x262528+_0x1034a2(0x44d);}let _0x498d9c=_0x1034a2(0x4bc)+currentStudentName+_0x1034a2(0x64d)+_0x3f923f+_0x1034a2(0x192)+_0x26fcf8+_0x1034a2(0x66a)+_0x48d762+_0x1034a2(0x2ad)+_0x1d16cc+_0x1034a2(0x2f1)+_0x14c792['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x1034a2(0x5fc)]['forEach']((_0x17b6fa,_0x31f75b)=>{const _0x188e44=_0x1034a2,_0x3b7966=_0x3a117f[_0x31f75b],_0x21ec47=_0x3b7966[_0x188e44(0x6a8)],_0x286d26=_0x3b7966['isCorrect'],_0xe7a052=_0x17b6fa[_0x188e44(0x101)]||currentDisplayedQuiz[_0x188e44(0x1bc)];_0x498d9c+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x286d26?_0x188e44(0x1da):_0x188e44(0x1fe))+_0x188e44(0x6af)+(_0x31f75b+0x1)+'.\x20'+(_0x17b6fa[_0x188e44(0x308)]||_0x17b6fa[_0x188e44(0x1df)])+_0x188e44(0x26b);switch(_0xe7a052){case _0x188e44(0x726):const _0x1888da=_0x21ec47||_0x188e44(0x59c),_0x2b9241=_0x17b6fa[_0x188e44(0x37b)];_0x498d9c+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x286d26?_0x188e44(0x875):'')+'\x22>'+_0x1888da+_0x188e44(0x7f4);!_0x286d26&&(_0x498d9c+=_0x188e44(0x6a2)+_0x2b9241+'</p>');break;case _0x188e44(0x602):_0x498d9c+=_0x188e44(0x272)+(_0x21ec47||_0x188e44(0x59c))+_0x188e44(0x44d),_0x498d9c+=_0x188e44(0x4b5)+_0x17b6fa[_0x188e44(0x81c)]+_0x188e44(0x44d);break;case _0x188e44(0x27a):_0x498d9c+='<p\x20class=\x22'+(_0x17b6fa[_0x188e44(0x348)]===!![]?_0x188e44(0x6dc):'')+'\x20'+(_0x21ec47==='true'&&!_0x286d26?_0x188e44(0x875):'')+_0x188e44(0x36c),_0x498d9c+='<p\x20class=\x22'+(_0x17b6fa[_0x188e44(0x348)]===![]?_0x188e44(0x6dc):'')+'\x20'+(_0x21ec47===_0x188e44(0x688)&&!_0x286d26?'line-through\x20text-red-700':'')+_0x188e44(0x1d6);break;default:_0x498d9c+=_0x17b6fa['options'][_0x188e44(0x4b9)]((_0x4fe913,_0x3665a9)=>{const _0x3988c5=_0x188e44;let _0x2ba48d='',_0x3b5f8a='';if(_0x3665a9===_0x17b6fa[_0x3988c5(0x61d)])_0x2ba48d='font-bold\x20text-green-700',_0x3b5f8a='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x3665a9===_0x21ec47&&(_0x2ba48d=_0x3988c5(0x5e0),_0x3b5f8a='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x3988c5(0x6c4)+_0x2ba48d+'\x22>'+_0x3b5f8a+_0x4fe913+_0x3988c5(0x631);})[_0x188e44(0x43d)]('');break;}_0x498d9c+=_0x188e44(0x3ab)+(_0x17b6fa['explanation']||_0x188e44(0x3f3))+'</div>';if(!_0x286d26){const _0x486eb8=_0x17b6fa[_0x188e44(0x308)]||_0x17b6fa[_0x188e44(0x1df)];_0x498d9c+=_0x188e44(0x4fb)+escape(_0x486eb8)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x498d9c+=_0x188e44(0x631);}),studentResultArea[_0x1034a2(0x7b0)]=_0x498d9c,renderEarnedBadges(_0x553551,'earned-badges-container'),studentResultArea['classList'][_0x1034a2(0x578)](_0x1034a2(0x17a)),studentQuizArea['classList'][_0x1034a2(0x381)](_0x1034a2(0x17a)),setupResultScreenBackButton({'isLooping':_0x5b7178,'score':_0x3f923f,'totalQuestions':_0x26fcf8,'showRankings':!![]});if(window[_0x1034a2(0x86f)])window[_0x1034a2(0x86f)][_0x1034a2(0x133)]([studentResultArea]);}function displayResultsScoreOnly(_0x310c6e,_0x561852,_0x4f573a,_0x29390a){const _0x1273e0=_0x37a926,_0x54180a=_0x29390a>0x0?_0x310c6e/_0x29390a*0x64:0x0,_0x50690d=currentDisplayedQuiz[_0x1273e0(0x74a)]?.[_0x1273e0(0x7c9)]??-0x1,_0xb1952=currentDisplayedQuiz[_0x1273e0(0x2c6)]===!![];let _0x28b0c9='';if(_0xb1952||_0x50690d!==-0x1){let _0xa8e827=_0xb1952?_0x310c6e===_0x29390a:_0x310c6e>=_0x50690d;const _0x3ae8eb=_0xa8e827?_0x1273e0(0x1c3):_0x1273e0(0xff),_0x37261b=_0xa8e827?'ผ่าน':'ไม่ผ่าน';_0x28b0c9='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x3ae8eb+'\x22>'+_0x37261b+_0x1273e0(0x44d);}let _0x47b7d0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x1273e0(0x518)+_0x310c6e+_0x1273e0(0x2bc)+_0x29390a+_0x1273e0(0x66a)+_0x28b0c9+_0x1273e0(0x2ad)+_0x561852+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x54180a['toFixed'](0x0)+_0x1273e0(0x4a5);studentResultArea[_0x1273e0(0x7b0)]=_0x47b7d0,renderEarnedBadges(_0x4f573a,_0x1273e0(0x6fd)),studentResultArea['classList']['remove']('hidden'),studentQuizArea[_0x1273e0(0x4a7)][_0x1273e0(0x381)](_0x1273e0(0x17a)),setupResultScreenBackButton({'score':_0x310c6e,'totalQuestions':_0x29390a,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x2b074c=_0x37a926;let _0x26e510=_0x2b074c(0x589)+currentStudentName+_0x2b074c(0x521);studentResultArea[_0x2b074c(0x7b0)]=_0x26e510,studentResultArea[_0x2b074c(0x4a7)][_0x2b074c(0x578)]('hidden'),studentQuizArea[_0x2b074c(0x4a7)][_0x2b074c(0x381)]('hidden'),document['getElementById'](_0x2b074c(0x4af))[_0x2b074c(0x7a6)](_0x2b074c(0x69e),()=>{showView('student'),document['getElementById']('quiz-id-input')['value']='';});}function renderEarnedBadges(_0x5bdd49,_0x5c89f5){const _0xa06ec4=_0x37a926,_0x48f257=document[_0xa06ec4(0x2a6)](_0x5c89f5);if(!_0x48f257||!_0x5bdd49||_0x5bdd49[_0xa06ec4(0x836)]===0x0)return;let _0x7c8fc1='';_0x5bdd49[_0xa06ec4(0x3dc)]((_0x8952e1,_0x956146)=>{const _0x2d0a34=_0xa06ec4,_0x2e00bb=Object[_0x2d0a34(0x87a)](BADGES)['find'](_0xa4a646=>_0xa4a646['id']===_0x8952e1);_0x2e00bb&&(_0x7c8fc1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x956146*0.2+'s;\x22\x20title=\x22'+_0x2e00bb['description']+_0x2d0a34(0x69c)+_0x2e00bb[_0x2d0a34(0x611)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x2e00bb[_0x2d0a34(0x1bd)]+_0x2d0a34(0x109));}),_0x48f257[_0xa06ec4(0x7b0)]=_0x7c8fc1;}function startPresentation(_0xa881b9){const _0x478dc3=_0x37a926;currentQuizData=getShuffledQuiz(_0xa881b9),currentPresentationSlide=0x0,presentationModal[_0x478dc3(0x660)][_0x478dc3(0x50b)]=_0x478dc3(0x698),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x244199=_0x37a926;document['fullscreenElement']&&document[_0x244199(0x377)](),presentationModal['style'][_0x244199(0x50b)]=_0x244199(0x5f7);}function renderPresentationSlide(_0x40cff5){const _0x28d21c=_0x37a926,_0x41ffe1=document['getElementById'](_0x28d21c(0x538));if(!currentQuizData||!currentQuizData[_0x28d21c(0x5fc)]||!currentQuizData[_0x28d21c(0x5fc)][_0x40cff5]){_0x41ffe1[_0x28d21c(0x7b0)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0xd7fb2c=currentQuizData[_0x28d21c(0x5fc)][_0x40cff5],_0x279d85=_0xd7fb2c[_0x28d21c(0x101)]||currentQuizData[_0x28d21c(0x1bc)];_0x41ffe1[_0x28d21c(0x7b0)]='';let _0x4ba457='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xd7fb2c['imageCode']?_0x28d21c(0x1f6)+_0xd7fb2c[_0x28d21c(0x63e)]+_0x28d21c(0x631):'')+_0x28d21c(0x530)+(_0x40cff5+0x1)+'.\x20'+(_0xd7fb2c[_0x28d21c(0x308)]||_0xd7fb2c[_0x28d21c(0x1df)])+_0x28d21c(0x57a);switch(_0x279d85){case _0x28d21c(0x726):_0x4ba457+=_0xd7fb2c[_0x28d21c(0x731)][_0x28d21c(0x4b9)](_0xf311c4=>_0x28d21c(0x352)+_0xf311c4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x28d21c(0x43d)]('');break;case _0x28d21c(0x27a):_0x4ba457+=_0x28d21c(0x1b7),_0x4ba457+=_0x28d21c(0x5b4);break;case'fill_in_no_choices':case _0x28d21c(0x602):_0x4ba457+=_0x28d21c(0x7f9);break;case'fill_in_the_blank':case'multiple_choice':default:_0x4ba457+=_0xd7fb2c[_0x28d21c(0x60d)][_0x28d21c(0x4b9)]((_0xdb82b9,_0x2567f1)=>_0x28d21c(0x5a4)+_0x2567f1+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xdb82b9+_0x28d21c(0x45f))['join']('');break;}_0x4ba457+=_0x28d21c(0x110)+(_0xd7fb2c[_0x28d21c(0x300)]||_0x28d21c(0x3f3))+_0x28d21c(0x2c7),_0x41ffe1[_0x28d21c(0x7b0)]=_0x4ba457;if(window[_0x28d21c(0x86f)])window['MathJax']['typesetPromise']([_0x41ffe1]);document['querySelectorAll'](_0x28d21c(0x50c))[_0x28d21c(0x3dc)](_0x2a5123=>{const _0x4abab7=_0x28d21c;_0x2a5123[_0x4abab7(0x7a6)](_0x4abab7(0x69e),_0x57783d=>revealAnswerForPresentation(_0x40cff5,_0x57783d[_0x4abab7(0x15b)]));});const _0xc25df9=document['getElementById'](_0x28d21c(0x42a));_0xc25df9&&_0xc25df9[_0x28d21c(0x7a6)]('click',()=>checkShortAnswerForPresentation(_0x40cff5)),document[_0x28d21c(0x2a6)](_0x28d21c(0x84a))['textContent']=_0x28d21c(0x2a8)+(_0x40cff5+0x1)+'\x20/\x20'+currentQuizData[_0x28d21c(0x5fc)][_0x28d21c(0x836)],document[_0x28d21c(0x2a6)]('prev-question-btn')[_0x28d21c(0x108)]=_0x40cff5===0x0,document[_0x28d21c(0x2a6)](_0x28d21c(0x648))['disabled']=_0x40cff5===currentQuizData[_0x28d21c(0x5fc)][_0x28d21c(0x836)]-0x1;}async function checkShortAnswerForPresentation(_0x43ef17){const _0x5ed841=_0x37a926,_0x466327=currentQuizData[_0x5ed841(0x5fc)][_0x43ef17],_0x2d2efb=document[_0x5ed841(0x2a6)](_0x5ed841(0xe2)),_0x56cf07=document[_0x5ed841(0x2a6)](_0x5ed841(0x42a)),_0x5c70fe=document[_0x5ed841(0x2a6)]('presentation-ai-result'),_0x3eea8e=document[_0x5ed841(0x2a6)](_0x5ed841(0x1f8));if(!_0x2d2efb||!_0x56cf07||!_0x5c70fe||!_0x3eea8e)return;const _0x4f3a57=_0x2d2efb['value']['trim']();if(_0x4f3a57==='')return;_0x56cf07[_0x5ed841(0x108)]=!![],_0x56cf07[_0x5ed841(0x7b0)]=_0x5ed841(0x194),_0x2d2efb[_0x5ed841(0x108)]=!![];const _0x2d0d95=await gradeShortAnswer(_0x4f3a57,_0x466327);_0x2d0d95?_0x5c70fe[_0x5ed841(0x7b0)]=_0x5ed841(0x868):_0x5c70fe[_0x5ed841(0x7b0)]=_0x5ed841(0x161)+_0x466327[_0x5ed841(0x81c)]+')',_0x5c70fe['classList']['remove'](_0x5ed841(0x17a)),_0x3eea8e['classList']['remove'](_0x5ed841(0x17a)),_0x56cf07[_0x5ed841(0x4a7)][_0x5ed841(0x381)](_0x5ed841(0x17a));}function revealAnswerForPresentation(_0x4a61f5,_0x5f4885){const _0x55d939=_0x37a926,_0x240006=currentQuizData['questions'][_0x4a61f5],_0x25af83=_0x240006[_0x55d939(0x101)]||currentQuizData[_0x55d939(0x1bc)];document[_0x55d939(0x574)](_0x55d939(0x50c))[_0x55d939(0x3dc)](_0xbaeb39=>{const _0x29daca=_0x55d939;_0xbaeb39['disabled']=!![],_0xbaeb39[_0x29daca(0x4a7)][_0x29daca(0x578)]('hover:bg-indigo-100');let _0x4ef557=![];if(_0x25af83===_0x29daca(0x149)||_0x25af83==='fill_in_the_blank'){const _0x4bdd09=parseInt(_0xbaeb39[_0x29daca(0x7b3)]['index']);_0x4ef557=_0x4bdd09===_0x240006[_0x29daca(0x61d)];}else{if(_0x25af83===_0x29daca(0x27a)){const _0x5d1521=_0xbaeb39[_0x29daca(0x7b3)][_0x29daca(0x6a8)]===_0x29daca(0x4d9);_0x4ef557=_0x5d1521===_0x240006['correctAnswer'];}else _0x25af83==='matching_item'&&(_0x4ef557=_0xbaeb39[_0x29daca(0x523)][_0x29daca(0x451)]()===_0x240006[_0x29daca(0x37b)]);}_0x4ef557?_0xbaeb39[_0x29daca(0x4a7)]['add'](_0x29daca(0x4e0),'text-white',_0x29daca(0x577)):_0xbaeb39['classList'][_0x29daca(0x381)]('opacity-50');}),_0x5f4885[_0x55d939(0x4a7)][_0x55d939(0x578)](_0x55d939(0x7e8));let _0x1ee7d1=![];if(_0x25af83===_0x55d939(0x149))_0x1ee7d1=parseInt(_0x5f4885[_0x55d939(0x7b3)]['index'])===_0x240006['correctAnswerIndex'];else{if(_0x25af83===_0x55d939(0x27a))_0x1ee7d1=_0x5f4885[_0x55d939(0x7b3)][_0x55d939(0x6a8)]===_0x55d939(0x4d9)===_0x240006['correctAnswer'];else _0x25af83===_0x55d939(0x726)&&(_0x1ee7d1=_0x5f4885[_0x55d939(0x523)][_0x55d939(0x451)]()===_0x240006[_0x55d939(0x37b)]);}!_0x1ee7d1&&_0x5f4885[_0x55d939(0x4a7)][_0x55d939(0x381)](_0x55d939(0x843),_0x55d939(0x8b7),_0x55d939(0x6b9)),document[_0x55d939(0x2a6)](_0x55d939(0x1f8))[_0x55d939(0x4a7)][_0x55d939(0x578)](_0x55d939(0x17a));}function startWholeQuizTimer(_0x5b9ee1){const _0x397a6f=_0x37a926,_0xadc671=document[_0x397a6f(0x2a6)](_0x397a6f(0x5f1));if(!_0xadc671)return;const _0x15a810=Date['now']()+_0x5b9ee1*0x3c*0x3e8;_0xadc671['innerHTML']=_0x397a6f(0x6fe);const _0x132d51=document[_0x397a6f(0x2a6)](_0x397a6f(0x3f9));quizTimerInterval=setInterval(()=>{const _0x29910b=_0x397a6f,_0x23d42c=_0x15a810-Date['now']();if(_0x23d42c<=0x0)clearInterval(quizTimerInterval),_0x132d51[_0x29910b(0x523)]=_0x29910b(0x87e),showMessage(_0x29910b(0x7d0)),handleSubmitQuiz(null);else{const _0x3e9f13=Math[_0x29910b(0x501)](_0x23d42c/0x3e8/0x3c%0x3c)[_0x29910b(0x6d8)]()['padStart'](0x2,'0'),_0x11bd22=Math[_0x29910b(0x501)](_0x23d42c/0x3e8%0x3c)['toString']()[_0x29910b(0x6c1)](0x2,'0');_0x132d51['textContent']=_0x3e9f13+':'+_0x11bd22;}},0x3e8);}function renderPerQuestionView(){const _0x36cd1d=_0x37a926;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x428d22=currentDisplayedQuiz[_0x36cd1d(0x5fc)][currentQuestionIndex],_0x7a61e1=_0x428d22[_0x36cd1d(0x101)]||currentDisplayedQuiz[_0x36cd1d(0x1bc)];let _0x539c9c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz[_0x36cd1d(0x5fc)][_0x36cd1d(0x836)]+_0x36cd1d(0x610)+(currentMode===_0x36cd1d(0x725)?_0x36cd1d(0x52c):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+_0x36cd1d(0x26f)+(currentQuestionIndex===currentDisplayedQuiz[_0x36cd1d(0x5fc)][_0x36cd1d(0x836)]-0x1?_0x36cd1d(0x89c):'คำถามถัดไป')+_0x36cd1d(0x6d7);studentQuizArea['innerHTML']=_0x539c9c;let _0x30ab5e='',_0x1f8eaa='';switch(_0x7a61e1){case _0x36cd1d(0x726):_0x30ab5e=currentQuestionIndex+0x1+'.\x20'+_0x428d22[_0x36cd1d(0x308)],_0x1f8eaa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x428d22['allResponses'][_0x36cd1d(0x4b9)](_0x22508f=>_0x36cd1d(0x7b9)+_0x22508f+'\x22>'+_0x22508f+'</option>')[_0x36cd1d(0x43d)]('')+_0x36cd1d(0x69a);break;case _0x36cd1d(0x27a):_0x30ab5e=currentQuestionIndex+0x1+'.\x20'+_0x428d22[_0x36cd1d(0x1df)],_0x1f8eaa=_0x36cd1d(0x7ec);break;case _0x36cd1d(0x602):case _0x36cd1d(0x103):_0x30ab5e=currentQuestionIndex+0x1+'.\x20'+_0x428d22[_0x36cd1d(0x1df)],_0x1f8eaa=_0x36cd1d(0x66d);break;case _0x36cd1d(0x149):case _0x36cd1d(0x60f):default:_0x30ab5e=currentQuestionIndex+0x1+'.\x20'+_0x428d22[_0x36cd1d(0x1df)],_0x1f8eaa=_0x428d22['options'][_0x36cd1d(0x4b9)]((_0x3216f8,_0x2bbead)=>_0x36cd1d(0x399)+_0x2bbead+_0x36cd1d(0x814)+_0x2bbead+_0x36cd1d(0x2fe)+_0x2bbead+'\x22>'+_0x3216f8+_0x36cd1d(0x4c3))['join']('');break;}_0x428d22[_0x36cd1d(0x63e)]&&(_0x30ab5e+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x428d22['imageCode']+_0x36cd1d(0x631));document[_0x36cd1d(0x2a6)]('per-question-text')[_0x36cd1d(0x7b0)]=_0x30ab5e,document[_0x36cd1d(0x2a6)](_0x36cd1d(0x1d7))['innerHTML']=_0x1f8eaa;if(currentMode===_0x36cd1d(0x725)){const _0x2925ec=document['getElementById'](_0x36cd1d(0x461));if(_0x2925ec)_0x2925ec['addEventListener']('click',cancelAdminTest);}document[_0x36cd1d(0x2a6)]('next-question-timed-btn')['addEventListener'](_0x36cd1d(0x69e),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x36cd1d(0x86f)][_0x36cd1d(0x133)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x439990=_0x37a926,_0x5d03e1=currentDisplayedQuiz[_0x439990(0x74a)][_0x439990(0x418)],_0x5e255d=document['getElementById'](_0x439990(0x3dd));if(!_0x5e255d)return;let _0x2ae879=_0x5d03e1;_0x5e255d[_0x439990(0x7b0)]=_0x439990(0xd4)+_0x2ae879+_0x439990(0x706);const _0x18d241=document[_0x439990(0x2a6)](_0x439990(0x134)),_0x3af7d7=document[_0x439990(0x2a6)](_0x439990(0x242));perQuestionTimerInterval=setInterval(()=>{const _0x21b903=_0x439990;_0x2ae879--;const _0x487a27=_0x2ae879/_0x5d03e1*0x64;_0x18d241['style'][_0x21b903(0x6c7)]=_0x487a27+'%',_0x3af7d7[_0x21b903(0x523)]=_0x2ae879,_0x2ae879<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x21b903(0x598)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x53a232=![]){const _0x2d8aa4=_0x37a926;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x459798=null;if(!_0x53a232){const _0x37fcd4=currentDisplayedQuiz[_0x2d8aa4(0x5fc)][currentQuestionIndex],_0x3d3f2e=_0x37fcd4['questionType']||currentDisplayedQuiz[_0x2d8aa4(0x1bc)];if(_0x3d3f2e==='short_answer'||_0x3d3f2e===_0x2d8aa4(0x103)){const _0x1f72f4=document[_0x2d8aa4(0x8cb)](_0x2d8aa4(0x1f4));_0x459798=_0x1f72f4?_0x1f72f4[_0x2d8aa4(0x464)]['trim']():'';}else{if(_0x3d3f2e===_0x2d8aa4(0x726)){const _0x417523=document[_0x2d8aa4(0x8cb)]('#per-question-options\x20select');_0x459798=_0x417523?_0x417523['value']:'';}else{const _0x480e5f=document[_0x2d8aa4(0x8cb)](_0x2d8aa4(0x1c4));if(_0x480e5f){const _0x47890c=_0x480e5f[_0x2d8aa4(0x464)];_0x459798=!isNaN(parseInt(_0x47890c,0xa))&&_0x47890c[_0x2d8aa4(0x451)]()!==''?parseInt(_0x47890c,0xa):_0x47890c;}}}}studentAnswersPerQuestion[_0x2d8aa4(0x500)](_0x459798),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x2d8aa4(0x836)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0xaad86b=_0x37a926,_0x171919=currentDisplayedQuiz['questions'][_0xaad86b(0x22d)](_0x2f2bfd=>_0x2f2bfd[_0xaad86b(0x101)]===_0xaad86b(0x602));_0x171919?showMessage(_0xaad86b(0x4e5)):showMessage(_0xaad86b(0x617));const _0x34aff8=currentQuizData['id'],_0x3fb88f=doc(db,_0xaad86b(0x11a)+appId+_0xaad86b(0x522)+_0x34aff8+_0xaad86b(0x383),currentStudentName),_0x2be623=await getDoc(_0x3fb88f),_0x46504b=_0x2be623[_0xaad86b(0x5fa)]()?_0x2be623['data']():{},_0x35ec31=_0x46504b[_0xaad86b(0x15c)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x35ec31);}function getResultsFilename(){const _0x3dcbf5=_0x37a926,_0x10033d=document[_0x3dcbf5(0x2a6)](_0x3dcbf5(0x205))[_0x3dcbf5(0x523)][_0x3dcbf5(0x575)](/[^a-z0-9]/gi,'_')[_0x3dcbf5(0x7fc)]();return _0x3dcbf5(0x7bc)+(_0x10033d||_0x3dcbf5(0x766));}function exportResultsAsImage(){const _0x141d48=_0x37a926,_0x4bba85=document['getElementById'](_0x141d48(0x41a));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x4bba85)['then'](_0x2ff6a3=>{const _0x2bd22a=_0x141d48,_0x2b0eda=document[_0x2bd22a(0x70a)]('a');_0x2b0eda[_0x2bd22a(0x226)]=getResultsFilename()+'.png',_0x2b0eda['href']=_0x2ff6a3[_0x2bd22a(0x3b7)](_0x2bd22a(0x19c)),_0x2b0eda['click'](),messageModal[_0x2bd22a(0x4a7)][_0x2bd22a(0x381)]('hidden');});}function exportResultsAsPDF(){const _0x560937=_0x37a926,{jsPDF:_0x2017c5}=window[_0x560937(0x385)],_0xe04b8f=new _0x2017c5();_0xe04b8f[_0x560937(0x229)](_0x560937(0x517),'normal'),_0xe04b8f['autoTable']({'html':_0x560937(0x823)}),_0xe04b8f[_0x560937(0x7c0)](getResultsFilename()+_0x560937(0x2a5));}function exportResultsAsWord(){const _0x29b13a=_0x37a926,_0x384c6d=_0x29b13a(0x584)+_0x29b13a(0x13e)+_0x29b13a(0x759)+_0x29b13a(0xdd),_0x459855=_0x29b13a(0x479),_0x277b6e=_0x384c6d+document[_0x29b13a(0x2a6)](_0x29b13a(0x41a))['innerHTML']+_0x459855,_0x5e6ce2=_0x29b13a(0x5ec)+encodeURIComponent(_0x277b6e),_0x43a6cc=document[_0x29b13a(0x70a)]('a');document[_0x29b13a(0x75f)][_0x29b13a(0x696)](_0x43a6cc),_0x43a6cc[_0x29b13a(0x102)]=_0x5e6ce2,_0x43a6cc[_0x29b13a(0x226)]=getResultsFilename()+_0x29b13a(0x723),_0x43a6cc[_0x29b13a(0x69e)](),document['body']['removeChild'](_0x43a6cc);}function exportResultsAsExcel(){const _0x2d1b1b=_0x37a926,_0x3aaa0d=document[_0x2d1b1b(0x2a6)]('results-table');let _0x374158=[];for(let _0x1b0a33=0x0;_0x1b0a33<_0x3aaa0d[_0x2d1b1b(0x1dd)]['length'];_0x1b0a33++){let _0x1ba1cd=[],_0x5cba54=_0x3aaa0d[_0x2d1b1b(0x1dd)][_0x1b0a33]['querySelectorAll'](_0x2d1b1b(0x7f1));for(let _0xceb778=0x0;_0xceb778<_0x5cba54[_0x2d1b1b(0x836)];_0xceb778++){_0x1ba1cd[_0x2d1b1b(0x500)]('\x22'+_0x5cba54[_0xceb778]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0x374158['push'](_0x1ba1cd[_0x2d1b1b(0x43d)](','));}const _0x581f27=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x374158[_0x2d1b1b(0x43d)]('\x0a')],{'type':_0x2d1b1b(0x44e)}),_0x2b6ea3=document[_0x2d1b1b(0x70a)]('a');_0x2b6ea3[_0x2d1b1b(0x102)]=URL['createObjectURL'](_0x581f27),_0x2b6ea3[_0x2d1b1b(0x226)]=getResultsFilename()+_0x2d1b1b(0x5a8),_0x2b6ea3[_0x2d1b1b(0x69e)]();}function exportTableAsImage(_0x23ac9b,_0x516b52){const _0x793830=_0x37a926,_0x53f799=document['getElementById'](_0x23ac9b);if(!_0x53f799){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0x793830(0x757)),html2canvas(_0x53f799)[_0x793830(0x48e)](_0x1f9e20=>{const _0x2abb09=_0x793830,_0x3cdd75=document[_0x2abb09(0x70a)]('a');_0x3cdd75[_0x2abb09(0x226)]=_0x516b52+_0x2abb09(0x2d4),_0x3cdd75[_0x2abb09(0x102)]=_0x1f9e20[_0x2abb09(0x3b7)](_0x2abb09(0x19c)),_0x3cdd75[_0x2abb09(0x69e)](),messageModal[_0x2abb09(0x4a7)][_0x2abb09(0x381)](_0x2abb09(0x17a));});}function exportTableAsPDF(_0x1efce1,_0x5a2f57){const _0x44585f=_0x37a926,{jsPDF:_0x50275f}=window[_0x44585f(0x385)],_0x3b639c=new _0x50275f();_0x3b639c[_0x44585f(0x229)](_0x44585f(0x517),_0x44585f(0x299)),_0x3b639c[_0x44585f(0x2f5)]({'html':'#'+_0x1efce1}),_0x3b639c['save'](_0x5a2f57+_0x44585f(0x2a5));}function exportTableAsWord(_0x2b6afa,_0x7ec85e){const _0x347bf8=_0x37a926,_0x1965c4=document[_0x347bf8(0x2a6)](_0x2b6afa);if(!_0x1965c4){showMessage(_0x347bf8(0x1aa));return;}const _0x182334=_0x347bf8(0x584)+_0x347bf8(0x13e)+_0x347bf8(0x759)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x3daeb2=_0x347bf8(0x479),_0x30f617=_0x182334+_0x1965c4['innerHTML']+_0x3daeb2,_0x214317=_0x347bf8(0x5ec)+encodeURIComponent(_0x30f617),_0x2e4e6e=document['createElement']('a');document[_0x347bf8(0x75f)][_0x347bf8(0x696)](_0x2e4e6e),_0x2e4e6e[_0x347bf8(0x102)]=_0x214317,_0x2e4e6e[_0x347bf8(0x226)]=_0x7ec85e+_0x347bf8(0x723),_0x2e4e6e[_0x347bf8(0x69e)](),document[_0x347bf8(0x75f)]['removeChild'](_0x2e4e6e);}function exportTableAsExcel(_0x5201fd,_0x11ed62){const _0x352816=_0x37a926,_0x5310f9=document['getElementById'](_0x5201fd);if(!_0x5310f9){showMessage(_0x352816(0x1aa));return;}let _0x1164b2=[];for(let _0x3efa98=0x0;_0x3efa98<_0x5310f9[_0x352816(0x1dd)]['length'];_0x3efa98++){let _0x1ff43b=[],_0x48a2b4=_0x5310f9[_0x352816(0x1dd)][_0x3efa98]['querySelectorAll'](_0x352816(0x7f1));for(let _0x43b590=0x0;_0x43b590<_0x48a2b4[_0x352816(0x836)];_0x43b590++){_0x1ff43b[_0x352816(0x500)]('\x22'+_0x48a2b4[_0x43b590]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0x1164b2[_0x352816(0x500)](_0x1ff43b[_0x352816(0x43d)](','));}const _0x153c92=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1164b2['join']('\x0a')],{'type':_0x352816(0x44e)}),_0x23501e=document['createElement']('a');_0x23501e[_0x352816(0x102)]=URL['createObjectURL'](_0x153c92),_0x23501e[_0x352816(0x226)]=_0x11ed62+_0x352816(0x5a8),_0x23501e[_0x352816(0x69e)]();}function renderAnalytics(_0x2be9ff,_0x4990a4){const _0x128f1e=_0x37a926,_0x1aa98f=_0x4990a4[_0x128f1e(0x63c)](_0x53308f=>_0x53308f[_0x128f1e(0x2a2)]!==undefined),_0x2f9233=currentProjectData[_0x128f1e(0x243)][_0x128f1e(0x836)],_0x48ee7d=_0x1aa98f[_0x128f1e(0x836)],_0x319c7e=_0x2f9233-_0x48ee7d,_0x5a3a84=_0x2f9233>0x0?_0x48ee7d/_0x2f9233*0x64:0x0,_0x105cb6=_0x1aa98f[_0x128f1e(0x4b9)](_0xab8ab3=>_0xab8ab3[_0x128f1e(0x2a2)]),_0xcc907f=_0x105cb6[_0x128f1e(0x836)]>0x0?_0x105cb6[_0x128f1e(0x620)]((_0x396fc8,_0x42aea4)=>_0x396fc8+_0x42aea4,0x0)/_0x105cb6['length']:0x0,_0x290e67=_0x2be9ff[_0x128f1e(0x5fc)]['length'],_0x4bd08b=_0x290e67>0x0?_0xcc907f/_0x290e67*0x64:0x0,_0x9f5d3a=calculateItemAnalysis(_0x2be9ff,_0x1aa98f),_0x1d0080=calculateReliabilityKR20(_0x2be9ff,_0x1aa98f,_0x9f5d3a[_0x128f1e(0x85a)]);let _0x38a60d='';if(_0x1d0080!==null){let _0x5149bd='';if(_0x1d0080>=0.9)_0x5149bd='ยอดเยี่ยม';else{if(_0x1d0080>=0.8)_0x5149bd=_0x128f1e(0x18f);else{if(_0x1d0080>=0.7)_0x5149bd='ดี';else{if(_0x1d0080>=0.6)_0x5149bd=_0x128f1e(0x7fe);else _0x5149bd=_0x128f1e(0x68d);}}}_0x38a60d=_0x128f1e(0x35b)+_0x1d0080[_0x128f1e(0x19f)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x5149bd+_0x128f1e(0x7ad);}const _0x342080=document[_0x128f1e(0x2a6)](_0x128f1e(0x40f));_0x342080[_0x128f1e(0x7b0)]=_0x128f1e(0x19e)+_0x5a3a84['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x48ee7d+'/'+_0x2f9233+_0x128f1e(0x394)+_0xcc907f[_0x128f1e(0x19f)](0x2)+_0x128f1e(0x32d)+_0x4bd08b[_0x128f1e(0x19f)](0x0)+_0x128f1e(0x1fd)+(_0x105cb6[_0x128f1e(0x836)]>0x0?Math[_0x128f1e(0x12b)](..._0x105cb6):_0x128f1e(0x791))+_0x128f1e(0x3aa)+(_0x105cb6['length']>0x0?Math[_0x128f1e(0x615)](..._0x105cb6):_0x128f1e(0x791))+_0x128f1e(0x6a0)+_0x38a60d+_0x128f1e(0x533);const _0x3abb77=document[_0x128f1e(0x2a6)]('interesting-stats-wrapper');_0x3abb77&&_0x3abb77[_0x128f1e(0x578)]();const _0x2ae3bc=_0x128f1e(0x60e);_0x342080[_0x128f1e(0x7ca)](_0x128f1e(0x4e7),_0x2ae3bc);const _0x2467e5=currentProjectData[_0x128f1e(0x243)]||[];renderSubmissionChart(_0x48ee7d,_0x319c7e,_0x1aa98f,_0x2467e5),renderScoreDistributionChart(_0x1aa98f,_0x290e67),renderQuestionAnalytics(_0x2be9ff,_0x1aa98f,_0x2467e5),renderInterestingStats(_0x2be9ff,_0x1aa98f);}async function handleExportLessonPDF(){const _0x7f5da1=_0x37a926,_0xf716dd=document['getElementById']('lesson-plan-content'),_0x2382c9=document[_0x7f5da1(0x2a6)](_0x7f5da1(0x72c))[_0x7f5da1(0x523)],_0x5a5d82=window[_0x7f5da1(0x468)]('',_0x7f5da1(0x8b9)),_0x233a69='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x2382c9+_0x7f5da1(0x8a2)+_0xf716dd[_0x7f5da1(0x7b0)]+_0x7f5da1(0x21c);_0x5a5d82[_0x7f5da1(0x283)]['write'](_0x233a69),_0x5a5d82[_0x7f5da1(0x283)]['close'](),_0x5a5d82['onload']=function(){setTimeout(()=>{const _0x1686c7=_0x34b5;_0x5a5d82[_0x1686c7(0x52b)]();},0x5dc);};}function renderInterestingStats(_0xd068a6,_0x5beb57){const _0x4b4a0b=_0x37a926,_0x59534f=document[_0x4b4a0b(0x2a6)](_0x4b4a0b(0x11e));if(!_0x59534f)return;if(_0x5beb57['length']===0x0){_0x59534f[_0x4b4a0b(0x7b0)]=_0x4b4a0b(0x440);return;}const _0x1982bf=_0xd068a6[_0x4b4a0b(0x5fc)][_0x4b4a0b(0x4b9)]((_0x25fde6,_0x1b29fd)=>({'index':_0x1b29fd+0x1,'text':_0x25fde6[_0x4b4a0b(0x1df)]||_0x25fde6['stem'],'correct':0x0}));_0x5beb57[_0x4b4a0b(0x3dc)](_0x7bae39=>{const _0x433639=_0x4b4a0b,_0x35f5f9=_0x7bae39['attempts'][_0x7bae39['attempts'][_0x433639(0x836)]-0x1];_0x35f5f9&&_0x35f5f9[_0x433639(0x162)]&&_0x35f5f9[_0x433639(0x162)][_0x433639(0x3dc)](_0x19125a=>{const _0x1e8ba3=_0x433639,_0x56f4c7=_0x1982bf[_0x1e8ba3(0x288)](_0x420f5d=>_0x420f5d[_0x1e8ba3(0x597)]===_0x19125a['originalQuestionText']);_0x19125a[_0x1e8ba3(0x894)]&&_0x56f4c7&&_0x56f4c7[_0x1e8ba3(0x844)]++;});});const _0x12b441=_0x5beb57[_0x4b4a0b(0x836)],_0x1027a2=Math[_0x4b4a0b(0x12b)](..._0x1982bf['map'](_0x316897=>_0x316897['correct'])),_0x3fa6d0=Math['min'](..._0x1982bf[_0x4b4a0b(0x4b9)](_0x252573=>_0x252573[_0x4b4a0b(0x844)])),_0x221347=_0x1982bf[_0x4b4a0b(0x63c)](_0xf607a4=>_0xf607a4[_0x4b4a0b(0x844)]===_0x1027a2)[_0x4b4a0b(0x4b9)](_0x233151=>_0x4b4a0b(0x5fe)+_0x233151[_0x4b4a0b(0x181)]),_0x2c2d75=_0x1982bf[_0x4b4a0b(0x63c)](_0x51cc85=>_0x51cc85['correct']===_0x3fa6d0)[_0x4b4a0b(0x4b9)](_0x567a31=>'ข้อ\x20'+_0x567a31[_0x4b4a0b(0x181)]),_0x7096ef=_0x5beb57[_0x4b4a0b(0x8b6)]((_0x46402f,_0x4bc2f6)=>_0x4bc2f6['latestScore']-_0x46402f[_0x4b4a0b(0x2a2)])['filter']((_0x35dccd,_0x15ace1,_0x2884b0)=>_0x35dccd[_0x4b4a0b(0x2a2)]===_0x2884b0[0x0][_0x4b4a0b(0x2a2)]),_0x2c687b=_0x5beb57['sort']((_0x3a2315,_0x2c8a19)=>_0x3a2315[_0x4b4a0b(0x2a2)]-_0x2c8a19[_0x4b4a0b(0x2a2)])[_0x4b4a0b(0x63c)]((_0xc4787d,_0xe3020c,_0x2ee928)=>_0xc4787d['latestScore']===_0x2ee928[0x0][_0x4b4a0b(0x2a2)]),_0x41d5fc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x221347[_0x4b4a0b(0x43d)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x1027a2+_0x4b4a0b(0x2de)+_0x12b441+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x2c2d75[_0x4b4a0b(0x43d)](',\x20')+_0x4b4a0b(0x263)+(_0x12b441-_0x3fa6d0)+_0x4b4a0b(0x2de)+_0x12b441+_0x4b4a0b(0x57d)+_0x7096ef[_0x4b4a0b(0x4b9)](_0x4953bd=>_0x4953bd[_0x4b4a0b(0x4c6)])[_0x4b4a0b(0x43d)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x7096ef[0x0][_0x4b4a0b(0x2a2)]+_0x4b4a0b(0x312)+_0x2c687b[_0x4b4a0b(0x4b9)](_0x2b15f4=>_0x2b15f4[_0x4b4a0b(0x4c6)])[_0x4b4a0b(0x43d)](',\x20')+_0x4b4a0b(0x831)+_0x2c687b[0x0][_0x4b4a0b(0x2a2)]+_0x4b4a0b(0x17b);_0x59534f['innerHTML']=_0x41d5fc;}function renderSubmissionChart(_0x4b3582,_0x327e7e,_0x1acaae,_0x5e03ba){const _0x7c1a09=_0x37a926,_0x43fe2d=document[_0x7c1a09(0x2a6)](_0x7c1a09(0xe0))['getContext']('2d'),_0x5d1d72=_0x1acaae[_0x7c1a09(0x4b9)](_0xa0dfb4=>_0xa0dfb4[_0x7c1a09(0x4c6)]),_0x4ffe72=_0x5e03ba[_0x7c1a09(0x63c)](_0x31a0ae=>!_0x5d1d72[_0x7c1a09(0x6a4)](_0x31a0ae));chartInstances['submission']&&chartInstances[_0x7c1a09(0x38b)]['destroy'](),chartInstances[_0x7c1a09(0x38b)]=new Chart(_0x43fe2d,{'type':_0x7c1a09(0x829),'data':{'labels':[_0x7c1a09(0x7a1),_0x7c1a09(0x591)],'datasets':[{'data':[_0x4b3582,_0x327e7e],'backgroundColor':[_0x7c1a09(0x893),_0x7c1a09(0x26d)],'borderColor':[_0x7c1a09(0x274),_0x7c1a09(0x274)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x105372){const _0x2635f1=_0x7c1a09;let _0x4cda68=_0x105372['label']||'';return _0x4cda68&&(_0x4cda68+=':\x20'),_0x4cda68+=_0x105372[_0x2635f1(0x3d9)],_0x4cda68;},'afterLabel':function(_0x21b9cd){const _0x223b4b=_0x7c1a09;let _0x9a45ed;return _0x21b9cd[_0x223b4b(0x8b1)]===0x0?_0x9a45ed=_0x5d1d72:_0x9a45ed=_0x4ffe72,_0x9a45ed[_0x223b4b(0x836)]>0x0?_0x9a45ed[_0x223b4b(0x43d)]('\x0a'):_0x223b4b(0x127);}}}}}});}function renderScoreDistributionChart(_0x3985f2,_0x50fd0b){const _0x24aecc=_0x37a926,_0x21b37f=document[_0x24aecc(0x2a6)](_0x24aecc(0x4fe))[_0x24aecc(0x573)]('2d'),_0x40502b={};for(let _0x49c376=0x0;_0x49c376<=_0x50fd0b;_0x49c376++){_0x40502b[_0x49c376]=0x0;}_0x3985f2[_0x24aecc(0x3dc)](_0x13c95c=>{const _0x241d20=_0x24aecc;_0x40502b[_0x13c95c[_0x241d20(0x2a2)]]!==undefined&&_0x40502b[_0x13c95c[_0x241d20(0x2a2)]]++;}),chartInstances[_0x24aecc(0x4b1)]&&chartInstances[_0x24aecc(0x4b1)][_0x24aecc(0x107)](),chartInstances[_0x24aecc(0x4b1)]=new Chart(_0x21b37f,{'type':'bar','data':{'labels':Object[_0x24aecc(0x5bc)](_0x40502b),'datasets':[{'label':_0x24aecc(0x2eb),'data':Object['values'](_0x40502b),'backgroundColor':_0x24aecc(0x6e0),'borderColor':_0x24aecc(0x89f),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x24aecc(0x113)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x1f626d){const _0x13c92d=_0x24aecc,_0x1124bc=_0x1f626d['label'],_0x41d912=_0x3985f2[_0x13c92d(0x63c)](_0x4ac3cd=>_0x4ac3cd[_0x13c92d(0x2a2)]==_0x1124bc)[_0x13c92d(0x4b9)](_0x55ca87=>_0x55ca87['studentName']);return _0x41d912['length']>0x0?_0x41d912['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x392eb3,_0x23e609,_0x3a60fe){const _0x2c618b=_0x37a926,_0x30620e=document[_0x2c618b(0x2a6)]('question-analytics-container');if(_0x3a60fe[_0x2c618b(0x836)]===0x0){_0x30620e[_0x2c618b(0x7b0)]=_0x2c618b(0x566);return;}const _0x54e795=calculateItemAnalysis(_0x392eb3,_0x23e609),_0xf633de=calculateDistractorAnalysis(_0x392eb3,_0x23e609);let _0x164f52='';_0x54e795[_0x2c618b(0x4e9)]&&(_0x164f52=_0x2c618b(0xee)+_0x54e795[_0x2c618b(0x4e9)][_0x2c618b(0x1af)][_0x2c618b(0x836)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x54e795[_0x2c618b(0x4e9)][_0x2c618b(0x1af)][_0x2c618b(0x4b9)](_0x12719c=>_0x2c618b(0x8ae)+_0x12719c+_0x2c618b(0x360))[_0x2c618b(0x43d)]('')+_0x2c618b(0x738)+_0x54e795[_0x2c618b(0x4e9)][_0x2c618b(0x32b)][_0x2c618b(0x836)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x54e795['overallGroups'][_0x2c618b(0x32b)][_0x2c618b(0x4b9)](_0x5ca30d=>'<li>'+_0x5ca30d+'</li>')[_0x2c618b(0x43d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x411483='';const _0x379a4e=_0x23e609[_0x2c618b(0x4b9)](_0x3d866a=>_0x3d866a[_0x2c618b(0x4c6)]),_0x47a92c=_0x3dbb63=>{const _0x384df5=_0x2c618b;if(_0x3dbb63>=0.8)return _0x384df5(0x121);if(_0x3dbb63>=0.6)return _0x384df5(0x5f5);if(_0x3dbb63>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x3dbb63>=0.2)return _0x384df5(0x77f);return _0x384df5(0x4b8);},_0x523726=_0xb750df=>{const _0x52bda3=_0x2c618b;if(_0xb750df<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0xb750df>=0.4)return _0x52bda3(0x74c);if(_0xb750df>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0xb750df>=0.2)return _0x52bda3(0x7fa);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x16d03b=_0x443403=>{const _0x340ba2=_0x2c618b,_0x13a68f=_0x443403[_0x340ba2(0x19f)](0x0);if(parseFloat(_0x13a68f)===0x64)return _0x340ba2(0x4df)+_0x13a68f+_0x340ba2(0x414);if(_0x443403>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x13a68f+'%</span>';return _0x340ba2(0x641)+_0x13a68f+_0x340ba2(0x414);};_0x392eb3[_0x2c618b(0x5fc)]['forEach']((_0x20eebc,_0x353d31)=>{const _0x5e77de=_0x2c618b,_0x4b36ec=_0x54e795[_0x5e77de(0x85a)][_0x353d31],_0x4f7235=_0xf633de[_0x353d31],_0x3ed3d7=_0x20eebc[_0x5e77de(0x308)]||_0x20eebc[_0x5e77de(0x1df)]||_0x20eebc[_0x5e77de(0xf7)];let _0x2f982d=0x0;const _0x7ffbfa=[],_0x1ee409=[];_0x23e609[_0x5e77de(0x3dc)](_0x2ac9df=>{const _0x360223=_0x5e77de,_0x2bda56=_0x2ac9df['attempts'][_0x2ac9df[_0x360223(0x15c)][_0x360223(0x836)]-0x1];if(_0x2bda56&&_0x2bda56[_0x360223(0x162)]){const _0x5f3c84=_0x2bda56[_0x360223(0x162)][_0x360223(0x288)](_0x255786=>_0x255786[_0x360223(0x6b8)]===_0x3ed3d7)??_0x2bda56['answers'][_0x353d31]??null;_0x5f3c84&&(_0x5f3c84[_0x360223(0x894)]?(_0x2f982d++,_0x7ffbfa[_0x360223(0x500)](_0x2ac9df[_0x360223(0x4c6)])):_0x1ee409[_0x360223(0x500)](_0x2ac9df[_0x360223(0x4c6)]));}});const _0x326cb1=_0x23e609[_0x5e77de(0x836)]>0x0?_0x2f982d/_0x23e609[_0x5e77de(0x836)]*0x64:0x0,_0x2e10e4=_0x3a60fe[_0x5e77de(0x63c)](_0x5211ba=>!_0x379a4e['includes'](_0x5211ba)),_0x1d6ea8=_0x4b36ec?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x4b36ec['p'][_0x5e77de(0x19f)](0x2)+_0x5e77de(0x406)+_0x47a92c(_0x4b36ec['p'])+_0x5e77de(0x636)+_0x4b36ec['r'][_0x5e77de(0x19f)](0x2)+_0x5e77de(0x406)+_0x523726(_0x4b36ec['r'])+_0x5e77de(0x513)+_0x16d03b(_0x326cb1)+_0x5e77de(0x1dc):'';let _0x3a2c65='';_0x4f7235&&(_0x3a2c65=_0x5e77de(0x145)+Object[_0x5e77de(0x5bc)](_0x4f7235)[_0x5e77de(0x4b9)](_0x1e8bfc=>{const _0x77a622=_0x5e77de,_0x1c15df=_0x4f7235[_0x1e8bfc],_0x374345=parseInt(_0x1e8bfc)===_0x20eebc[_0x77a622(0x61d)],_0x49ce53=!_0x374345&&_0x1c15df[_0x77a622(0x51b)]>_0x1c15df[_0x77a622(0x827)];return _0x77a622(0x7a2)+(_0x374345?_0x77a622(0x6d9):'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x374345?'✔\x20':'')+_0x1c15df[_0x77a622(0x597)]+_0x77a622(0x3bb)+_0x1c15df['upper_group_count']+_0x77a622(0x3bb)+_0x1c15df[_0x77a622(0x51b)]+'\x20'+(_0x49ce53?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x1c15df[_0x77a622(0x258)]+'</td></tr>';})['join']('')+_0x5e77de(0x4f1));let _0xde2163='';_0x4b36ec&&_0x4b36ec['upperGroupResponders']&&(_0xde2163='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x4b36ec['upperGroupResponders']['length']+_0x5e77de(0x83e)+_0x4b36ec[_0x5e77de(0x7c3)][_0x5e77de(0x4b9)](_0x570beb=>_0x5e77de(0x8ae)+(_0x570beb['isCorrect']?_0x5e77de(0x5b3):_0x5e77de(0x6ad))+'\x20'+_0x570beb[_0x5e77de(0x1bd)]+_0x5e77de(0x360))[_0x5e77de(0x43d)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x4b36ec[_0x5e77de(0x605)][_0x5e77de(0x836)]+_0x5e77de(0x83e)+_0x4b36ec[_0x5e77de(0x605)][_0x5e77de(0x4b9)](_0x5d4b09=>_0x5e77de(0x8ae)+(_0x5d4b09['isCorrect']?_0x5e77de(0x5b3):_0x5e77de(0x6ad))+'\x20'+_0x5d4b09['name']+_0x5e77de(0x360))[_0x5e77de(0x43d)]('')+_0x5e77de(0x4a9)),_0x411483+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x353d31+0x1)+':\x20'+_0x3ed3d7+_0x5e77de(0x54d)+_0x1d6ea8+_0x5e77de(0x4dd)+_0x3ed3d7+_0x5e77de(0x6c2)+_0x2f982d+'\x20จาก\x20'+_0x23e609[_0x5e77de(0x836)]+_0x5e77de(0x22f)+_0x326cb1[_0x5e77de(0x19f)](0x0)+_0x5e77de(0x3fa)+_0x7ffbfa[_0x5e77de(0x836)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x7ffbfa[_0x5e77de(0x836)]>0x0?_0x7ffbfa['join'](',\x20'):_0x5e77de(0x127))+_0x5e77de(0x58e)+_0x1ee409[_0x5e77de(0x836)]+_0x5e77de(0x379)+(_0x1ee409[_0x5e77de(0x836)]>0x0?_0x1ee409[_0x5e77de(0x43d)](',\x20'):_0x5e77de(0x127))+_0x5e77de(0x6bd)+_0x2e10e4['length']+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x2e10e4['length']>0x0?_0x2e10e4['join'](',\x20'):_0x5e77de(0x127))+_0x5e77de(0x25f)+_0x3a2c65+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xde2163+_0x5e77de(0x392);}),_0x30620e[_0x2c618b(0x7b0)]=_0x164f52+_0x411483;try{window[_0x2c618b(0x86f)]&&MathJax[_0x2c618b(0x133)]&&MathJax['typesetPromise']([_0x30620e]);}catch(_0x5305ca){console[_0x2c618b(0x804)](_0x2c618b(0x122),_0x5305ca);}}function calculateDistractorAnalysis(_0x893cec,_0x23e72e){const _0x1adde2=_0x37a926,_0x18a359={};if(_0x23e72e[_0x1adde2(0x836)]<0x2)return _0x18a359;const _0x2e7ab7=[..._0x23e72e][_0x1adde2(0x8b6)]((_0x5e79cf,_0x37bce3)=>{const _0x2fcea8=_0x1adde2,_0x81aac5=_0x37bce3[_0x2fcea8(0x2a2)]-_0x5e79cf['latestScore'];if(_0x81aac5!==0x0)return _0x81aac5;const _0x425406=_0x5e79cf[_0x2fcea8(0x15c)]?.[_0x2fcea8(0x836)]||0x1,_0x5739cb=_0x37bce3[_0x2fcea8(0x15c)]?.['length']||0x1,_0x468148=_0x425406-_0x5739cb;if(_0x468148!==0x0)return _0x468148;const _0x289eea=new Date(_0x5e79cf[_0x2fcea8(0x339)]),_0x5e4479=new Date(_0x37bce3[_0x2fcea8(0x339)]),_0x238643=_0x289eea-_0x5e4479;if(_0x238643!==0x0)return _0x238643;return _0x5e79cf[_0x2fcea8(0x4c6)][_0x2fcea8(0xdb)](_0x37bce3[_0x2fcea8(0x4c6)],'th');}),_0x450702=_0x2e7ab7[_0x1adde2(0x836)],_0x3cfe22=Math[_0x1adde2(0x12b)](0x1,Math[_0x1adde2(0x501)](_0x450702*0.33)),_0xb3ecc6=_0x2e7ab7[_0x1adde2(0x314)](0x0,_0x3cfe22),_0xc1afbd=_0x2e7ab7['slice'](-_0x3cfe22);return _0x893cec[_0x1adde2(0x5fc)][_0x1adde2(0x3dc)]((_0x2135e2,_0x507fec)=>{const _0x3db220=_0x1adde2;if(_0x2135e2[_0x3db220(0x101)]!==_0x3db220(0x149)||!_0x2135e2[_0x3db220(0x60d)])return;const _0x1289e7=_0x2135e2[_0x3db220(0x1df)],_0x4f05a={};_0x2135e2['options'][_0x3db220(0x3dc)]((_0xc2796f,_0x240f0b)=>{_0x4f05a[_0x240f0b]={'text':_0xc2796f,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x2e7ab7[_0x3db220(0x3dc)](_0x3f7127=>{const _0x1131cd=_0x3db220,_0x29fca5=_0x3f7127[_0x1131cd(0x15c)][_0x3f7127['attempts'][_0x1131cd(0x836)]-0x1],_0x139f42=_0x29fca5[_0x1131cd(0x162)][_0x1131cd(0x288)](_0x900ddf=>_0x900ddf['originalQuestionText']===_0x1289e7);if(_0x139f42&&_0x139f42[_0x1131cd(0x6a8)]!==null){const _0x2be594=_0x2135e2[_0x1131cd(0x60d)][_0x1131cd(0x305)](_0x4aa3e5=>_0x4aa3e5===_0x139f42[_0x1131cd(0x13c)]);_0x2be594!==-0x1&&_0x4f05a[_0x2be594]&&(_0x4f05a[_0x2be594]['total']++,_0xb3ecc6[_0x1131cd(0x6a4)](_0x3f7127)&&_0x4f05a[_0x2be594][_0x1131cd(0x827)]++,_0xc1afbd[_0x1131cd(0x6a4)](_0x3f7127)&&_0x4f05a[_0x2be594]['lower_group_count']++);}}),_0x18a359[_0x507fec]=_0x4f05a;}),_0x18a359;}function calculateReliabilityKR20(_0x3404bc,_0x39da0c,_0x7822f){const _0x2c1b16=_0x37a926,_0x53eff2=_0x3404bc[_0x2c1b16(0x5fc)]['length'];if(_0x53eff2<0x2||_0x39da0c[_0x2c1b16(0x836)]<0x2)return null;const _0x23e2af=_0x39da0c['map'](_0x3f9b1a=>_0x3f9b1a['latestScore']),_0xa22175=_0x23e2af[_0x2c1b16(0x620)]((_0x2a506c,_0x5302e8)=>_0x2a506c+_0x5302e8,0x0)/_0x23e2af['length'],_0x411027=_0x23e2af[_0x2c1b16(0x4b9)](_0x1d90f3=>Math['pow'](_0x1d90f3-_0xa22175,0x2))[_0x2c1b16(0x620)]((_0x509d26,_0x4457d1)=>_0x509d26+_0x4457d1,0x0)/_0x23e2af[_0x2c1b16(0x836)];if(_0x411027===0x0)return null;let _0x20d0af=0x0;for(let _0x709efa=0x0;_0x709efa<_0x53eff2;_0x709efa++){const _0x3d2898=_0x7822f[_0x709efa]?.['p'];if(_0x3d2898===undefined)continue;const _0x46e253=0x1-_0x3d2898;_0x20d0af+=_0x3d2898*_0x46e253;}if(_0x20d0af===0x0)return null;const _0x4d0296=_0x53eff2/(_0x53eff2-0x1)*(0x1-_0x20d0af/_0x411027);if(_0x4d0296>0x1)return null;return _0x4d0296;}async function handleAnalyzeClass(){const _0x1d6c43=_0x37a926;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x1d6c43(0x6a6));return;}const _0x16645c=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x1d6c43(0x383)),_0x537035=await getDocs(_0x16645c),_0x922c8d=_0x537035[_0x1d6c43(0x239)]['map'](_0x52b0bd=>_0x52b0bd[_0x1d6c43(0x7a8)]());if(_0x922c8d[_0x1d6c43(0x836)]<0x2){showMessage(_0x1d6c43(0x798));return;}const _0x409178=document['getElementById'](_0x1d6c43(0x20a));_0x409178[_0x1d6c43(0x7b0)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document['getElementById'](_0x1d6c43(0x568))[_0x1d6c43(0x108)]=!![];const _0x1884b3=_0x922c8d[_0x1d6c43(0x4b9)]((_0x56c396,_0x2914c1)=>{const _0x2097c1=_0x1d6c43,_0x3fb39a=_0x56c396['attempts'][_0x56c396[_0x2097c1(0x15c)]['length']-0x1];if(!_0x3fb39a)return'';return _0x2097c1(0x6cf)+(_0x2914c1+0x1)+'\x20('+_0x56c396[_0x2097c1(0x4c6)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x3fb39a[_0x2097c1(0x4b1)]+'/'+_0x56c396[_0x2097c1(0x3fc)]+_0x2097c1(0x84c)+JSON[_0x2097c1(0x471)](_0x3fb39a[_0x2097c1(0x162)])+_0x2097c1(0x587);})[_0x1d6c43(0x43d)](_0x1d6c43(0x6fa)),_0x3c3281=_0x1d6c43(0x384)+currentQuizData[_0x1d6c43(0xc6)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON['stringify'](currentQuizData[_0x1d6c43(0x5fc)])+_0x1d6c43(0x724)+_0x1884b3+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x4216fd={'type':_0x1d6c43(0x7e6),'properties':{'classStrengths':{'type':_0x1d6c43(0x864),'items':{'type':'STRING'}},'classWeaknesses':{'type':_0x1d6c43(0x864),'items':{'type':_0x1d6c43(0x787)}},'teacherSuggestions':{'type':_0x1d6c43(0x864),'items':{'type':_0x1d6c43(0x787)}}},'required':[_0x1d6c43(0x169),_0x1d6c43(0x168),_0x1d6c43(0x5b8)]};try{const _0x5cf9d1=await callAnalysisApi(_0x3c3281,_0x4216fd);displayClassAnalysis(_0x5cf9d1);}catch(_0x419e40){console[_0x1d6c43(0x804)](_0x1d6c43(0x60c),_0x419e40),_0x409178['innerHTML']='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x419e40['message']+_0x1d6c43(0x502);}finally{document[_0x1d6c43(0x2a6)](_0x1d6c43(0x568))[_0x1d6c43(0x108)]=![];}}function displayClassAnalysis(_0x56695f){const _0x49d599=_0x37a926,_0x36be23=document[_0x49d599(0x2a6)]('strength-weakness-analysis-container');if(!_0x56695f){_0x36be23['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x36be23[_0x49d599(0x7b0)]=_0x49d599(0x852)+_0x56695f[_0x49d599(0x169)][_0x49d599(0x4b9)](_0x1a3ec9=>_0x49d599(0x8ae)+_0x1a3ec9+_0x49d599(0x360))[_0x49d599(0x43d)]('')+_0x49d599(0x5c1)+_0x56695f['classWeaknesses'][_0x49d599(0x4b9)](_0x577214=>_0x49d599(0x8ae)+_0x577214+_0x49d599(0x360))[_0x49d599(0x43d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x56695f[_0x49d599(0x5b8)][_0x49d599(0x4b9)](_0x5ceb31=>_0x49d599(0x8ae)+_0x5ceb31+_0x49d599(0x360))['join']('')+_0x49d599(0x4ff);}function formatAndPrintWorksheet(_0x48ef6c,_0x3e4e34){const _0x2859ce=_0x37a926,_0x3bd8f7=_0x2859ce(0x5e3)+_0x48ef6c[_0x2859ce(0xc6)]+_0x2859ce(0x8c7)+_0x48ef6c[_0x2859ce(0xc6)]+_0x2859ce(0x38e)+_0x48ef6c['questions'][_0x2859ce(0x4b9)]((_0x1b2e67,_0x151573)=>_0x2859ce(0x58d)+(_0x151573+0x1)+'.\x20'+_0x1b2e67[_0x2859ce(0x1df)]+_0x2859ce(0x4cb)+(_0x1b2e67['imageCode']?_0x2859ce(0x2fa)+_0x1b2e67['imageCode']+_0x2859ce(0x631):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2859ce(0x43d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x3e4e34[_0x2859ce(0x283)][_0x2859ce(0x1f7)](_0x3bd8f7),_0x3e4e34['document'][_0x2859ce(0x5c2)](),_0x3e4e34[_0x2859ce(0x7ac)]=function(){setTimeout(()=>{const _0xe87ce=_0x34b5;_0x3e4e34[_0xe87ce(0x52b)]();},0x3e8);};}async function generateWorksheet(){const _0x5b7cda=_0x37a926,_0x3bb165=document[_0x5b7cda(0x2a6)]('worksheet-topic-input')[_0x5b7cda(0x464)][_0x5b7cda(0x451)]();if(!_0x3bb165){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x7e4ea0=document['getElementById'](_0x5b7cda(0x62c))[_0x5b7cda(0x4ce)],_0x396b62=_0x7e4ea0?'':_0x5b7cda(0x123),_0x43bd79=window[_0x5b7cda(0x468)]('','_blank');_0x43bd79[_0x5b7cda(0x283)][_0x5b7cda(0x1f7)](_0x5b7cda(0x3f4));const _0x48a0cc=parseInt(document[_0x5b7cda(0x2a6)](_0x5b7cda(0x174))['value']),_0x571c55=document['getElementById'](_0x5b7cda(0x50d))[_0x5b7cda(0x4ce)],_0x554903=_0x571c55?_0x5b7cda(0xfa):'',_0x127631=_0x5b7cda(0x54c)+_0x396b62+_0x5b7cda(0x1a9)+_0x48a0cc+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x3bb165+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x554903+_0x5b7cda(0x7f0)+simpleMathPrompt+_0x5b7cda(0x3ce),_0x3567b9={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x5b7cda(0x864),'items':{'type':_0x5b7cda(0x7e6),'properties':{'questionText':{'type':_0x5b7cda(0x787)},'imageCode':{'type':_0x5b7cda(0x787)}},'required':[_0x5b7cda(0x1df)]}}},'required':[_0x5b7cda(0xc6),_0x5b7cda(0x5fc)]};document[_0x5b7cda(0x2a6)]('loader-text')[_0x5b7cda(0x523)]='',document[_0x5b7cda(0x2a6)](_0x5b7cda(0x1e5))[_0x5b7cda(0x4a7)]['remove'](_0x5b7cda(0x17a)),document['getElementById'](_0x5b7cda(0x270))[_0x5b7cda(0x4a7)][_0x5b7cda(0x578)](_0x5b7cda(0x17a)),generateWorksheetBtn[_0x5b7cda(0x108)]=!![];try{const _0x11b35b=await callAnalysisApi(_0x127631,_0x3567b9);formatAndPrintWorksheet(_0x11b35b,_0x43bd79);}catch(_0x59de6b){console['error']('Error\x20generating\x20worksheet:',_0x59de6b);if(_0x43bd79)_0x43bd79['close']();showMessage(_0x5b7cda(0x3ae));}finally{document['getElementById'](_0x5b7cda(0x1e5))[_0x5b7cda(0x4a7)]['add']('hidden'),document[_0x5b7cda(0x2a6)](_0x5b7cda(0x270))[_0x5b7cda(0x4a7)][_0x5b7cda(0x381)](_0x5b7cda(0x17a)),generateWorksheetBtn[_0x5b7cda(0x108)]=![];}}async function callAnalysisApi(_0x19ab9b,_0x5230c6){const _0x1369d8=_0x37a926,_0x1a41c1={'contents':[{'role':_0x1369d8(0x552),'parts':[{'text':_0x19ab9b}]}],'generationConfig':{'responseMimeType':_0x1369d8(0x257),'responseSchema':_0x5230c6}},_0x3eb44d=_0x1369d8(0x686),_0x404186=_0x1369d8(0x7db)+_0x3eb44d,_0x5352d7=await fetch(_0x404186,{'method':_0x1369d8(0x803),'headers':{'Content-Type':_0x1369d8(0x257)},'body':JSON['stringify'](_0x1a41c1)});if(!_0x5352d7['ok'])throw new Error(_0x1369d8(0x1b3)+_0x5352d7[_0x1369d8(0x140)]);const _0x3b53d1=await _0x5352d7['json']();if(_0x3b53d1[_0x1369d8(0x5ff)]?.[0x0]?.[_0x1369d8(0x315)]?.[_0x1369d8(0x5d1)]?.[0x0])return JSON[_0x1369d8(0x369)](_0x3b53d1[_0x1369d8(0x5ff)][0x0][_0x1369d8(0x315)][_0x1369d8(0x5d1)][0x0][_0x1369d8(0x597)]);else{let _0x23c97a='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x3b53d1[_0x1369d8(0x6bb)]?.[_0x1369d8(0x8ba)])_0x23c97a=_0x1369d8(0x6da)+_0x3b53d1[_0x1369d8(0x6bb)][_0x1369d8(0x8ba)]+'.';else _0x3b53d1['candidates']?.[0x0]?.[_0x1369d8(0x5c8)]&&_0x3b53d1[_0x1369d8(0x5ff)][0x0]['finishReason']!==_0x1369d8(0x825)&&(_0x23c97a=_0x1369d8(0x323)+_0x3b53d1[_0x1369d8(0x5ff)][0x0][_0x1369d8(0x5c8)]+'.');console[_0x1369d8(0x804)](_0x23c97a,JSON[_0x1369d8(0x471)](_0x3b53d1));throw new Error(_0x23c97a);}}initialize();
